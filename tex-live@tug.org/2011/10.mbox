From karl at freefriends.org  Sat Oct  1 01:32:22 2011
From: karl at freefriends.org (Karl Berry)
Date: Fri, 30 Sep 2011 23:32:22 GMT
Subject: [tex-live] Updated Russian translation for tlmgr
In-Reply-To: <20110930132346.GB1525@smoon>
Message-ID: <201109302332.p8UNWMNu010164@freefriends.org>

Hi Vladimir,

    I'm notice some new strings in ru.po and decided to update Russian
    translation.

Thanks, I installed the new file.

(BTW, please send future updates to tldoc at tug.org, to reduce traffic on
this main list.)

k

From pander at users.sourceforge.net  Mon Oct  3 15:33:02 2011
From: pander at users.sourceforge.net (Pander)
Date: Mon, 03 Oct 2011 15:33:02 +0200
Subject: [tex-live] texi2dvi in executable path?
Message-ID: <4E89B98E.8050608@users.sourceforge.net>

Hi all,

I'm no expert on this but shouldn't
  /usr/local/texlive/2011/texmf-dist/doc/support/texdraw/texi2dvi
be executable and be linked to from
  /usr/local/texlive/2011/bin/x86_64-linux
?

Regards,

Pander

From siepo at cybercomm.nl  Mon Oct  3 16:41:53 2011
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 3 Oct 2011 16:41:53 +0200
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <4E89B98E.8050608@users.sourceforge.net>
References: <4E89B98E.8050608@users.sourceforge.net>
Message-ID: <20111003144153.GA1913@molly>

On Mon, Oct 03, 2011 at 03:33:02PM +0200, Pander wrote:
> Hi all,
> 
> I'm no expert on this but shouldn't
>   /usr/local/texlive/2011/texmf-dist/doc/support/texdraw/texi2dvi
> be executable and be linked to from
>   /usr/local/texlive/2011/bin/x86_64-linux

Although texinfo the format is part of TeX Live, the various texi2*
conversion programs are not. I seem to remember conflicts with OS
versions of such programs.

-- 
Siep Kroonenberg

From gnwiii at gmail.com  Mon Oct  3 19:52:51 2011
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 3 Oct 2011 14:52:51 -0300
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <20111003144153.GA1913@molly>
References: <4E89B98E.8050608@users.sourceforge.net>
 <20111003144153.GA1913@molly>
Message-ID: <CAKTOP47WnOrVKXMNNoEVOFSDttR1hEfrR8P9SbaMK_KzLbOqVA@mail.gmail.com>

texinfo was removed from TeX Live a few years ago, but may be available as a
(nonfree!) package if you are using linux, macports on MacOS X, etc.

On Mon, Oct 3, 2011 at 11:41 AM, Siep Kroonenberg <siepo at cybercomm.nl> wrote:
> On Mon, Oct 03, 2011 at 03:33:02PM +0200, Pander wrote:
>> Hi all,
>>
>> I'm no expert on this but shouldn't
>> ? /usr/local/texlive/2011/texmf-dist/doc/support/texdraw/texi2dvi
>> be executable and be linked to from
>> ? /usr/local/texlive/2011/bin/x86_64-linux
>
> Although texinfo the format is part of TeX Live, the various texi2*
> conversion programs are not. I seem to remember conflicts with OS
> versions of such programs.
>
> --
> Siep Kroonenberg
>



-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From Robin.Fairbairns at cl.cam.ac.uk  Mon Oct  3 21:06:19 2011
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 03 Oct 2011 20:06:19 +0100
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: Your message of Mon, 03 Oct 2011 14:52:51 -0300.
 <CAKTOP47WnOrVKXMNNoEVOFSDttR1hEfrR8P9SbaMK_KzLbOqVA@mail.gmail.com>
Message-ID: <4394.1317668779@cl.cam.ac.uk>

George N. White III <gnwiii at gmail.com> wrote:

> texinfo was removed from TeX Live a few years ago, but may be available as a
> (nonfree!) package if you are using linux, macports on MacOS X, etc.

texinfo _is_ in tex live, and has never, to my knowledge, been out of it
since sebastian put together the very first one.  a non-free package for
texinfo, or for texi2dvi, would seem eccentric, since both are licensed
gpl.

(actually, i think it's illegal to relicense anything under gpl as
non-free.)

robin



From siepo at cybercomm.nl  Mon Oct  3 21:57:11 2011
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 3 Oct 2011 21:57:11 +0200
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <4394.1317668779@cl.cam.ac.uk>
References: <CAKTOP47WnOrVKXMNNoEVOFSDttR1hEfrR8P9SbaMK_KzLbOqVA@mail.gmail.com>
 <4394.1317668779@cl.cam.ac.uk>
Message-ID: <20111003195711.GB1913@molly>

On Mon, Oct 03, 2011 at 08:06:19PM +0100, Robin Fairbairns wrote:
> George N. White III <gnwiii at gmail.com> wrote:
> 
> > texinfo was removed from TeX Live a few years ago, but may be available as a
> > (nonfree!) package if you are using linux, macports on MacOS X, etc.
> 
> texinfo _is_ in tex live, and has never, to my knowledge, been out of it
> since sebastian put together the very first one.  a non-free package for
> texinfo, or for texi2dvi, would seem eccentric, since both are licensed
> gpl.

I was not quite accurate. There is no texinfo format, but there _is_
a texinfo macro package, and it is still in TL.

On my Ubuntu system I have a package texinfo-doc-nonfree. Debian has
its own standard of free. The converters and some of the
documentation are Debian-free, but other pieces of the documentation
are not.

-- 
Siep Kroonenberg

From zdenek.wagner at gmail.com  Mon Oct  3 22:55:58 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 3 Oct 2011 22:55:58 +0200
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <20111003195711.GB1913@molly>
References: <CAKTOP47WnOrVKXMNNoEVOFSDttR1hEfrR8P9SbaMK_KzLbOqVA@mail.gmail.com>
 <4394.1317668779@cl.cam.ac.uk> <20111003195711.GB1913@molly>
Message-ID: <CAC1phyYjYOGteg7j3Qgiw_F1=qLoOqqd58mkWJ0h-AiAa5Gs5Q@mail.gmail.com>

2011/10/3 Siep Kroonenberg <siepo at cybercomm.nl>:
> On Mon, Oct 03, 2011 at 08:06:19PM +0100, Robin Fairbairns wrote:
>> George N. White III <gnwiii at gmail.com> wrote:
>>
>> > texinfo was removed from TeX Live a few years ago, but may be available as a
>> > (nonfree!) package if you are using linux, macports on MacOS X, etc.
>>
>> texinfo _is_ in tex live, and has never, to my knowledge, been out of it
>> since sebastian put together the very first one. ?a non-free package for
>> texinfo, or for texi2dvi, would seem eccentric, since both are licensed
>> gpl.
>
> I was not quite accurate. There is no texinfo format, but there _is_
> a texinfo macro package, and it is still in TL.
>
> On my Ubuntu system I have a package texinfo-doc-nonfree. Debian has
> its own standard of free. The converters and some of the
> documentation are Debian-free, but other pieces of the documentation
> are not.
>
AFAIK in Debian documentation is free iff all its sources are free and
available under a free license.
> --
> Siep Kroonenberg
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From Robin.Fairbairns at cl.cam.ac.uk  Mon Oct  3 23:30:54 2011
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 03 Oct 2011 22:30:54 +0100
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: Your message of Mon, 03 Oct 2011 22:55:58 +0200.
 <CAC1phyYjYOGteg7j3Qgiw_F1=qLoOqqd58mkWJ0h-AiAa5Gs5Q@mail.gmail.com>
Message-ID: <10364.1317677454@cl.cam.ac.uk>

Zdenek Wagner <zdenek.wagner at gmail.com> wrote:

> 2011/10/3 Siep Kroonenberg <siepo at cybercomm.nl>:
> > On Mon, Oct 03, 2011 at 08:06:19PM +0100, Robin Fairbairns wrote:
> >> George N. White III <gnwiii at gmail.com> wrote:
> >>
> >> > texinfo was removed from TeX Live a few years ago, but may be available as a
> >> > (nonfree!) package if you are using linux, macports on MacOS X, etc.
> >>
> >> texinfo _is_ in tex live, and has never, to my knowledge, been out of it
> >> since sebastian put together the very first one. ?a non-free package for
> >> texinfo, or for texi2dvi, would seem eccentric, since both are licensed
> >> gpl.
> >
> > I was not quite accurate. There is no texinfo format, but there _is_
> > a texinfo macro package, and it is still in TL.
> >
> > On my Ubuntu system I have a package texinfo-doc-nonfree. Debian has
> > its own standard of free. The converters and some of the
> > documentation are Debian-free, but other pieces of the documentation
> > are not.
>
> AFAIK in Debian documentation is free iff all its sources are free and
> available under a free license.

i wonder what it's using that is non-free; the main texinfo
documentation file bears a statement of availability under gpl, and the
readme in the same directory says it's all available under gpl.

all very strange, but debian people are pretty picky about licences.
maybe they've found a non-gpl full stop somewhere.

(of course, according to their rules, tex itself is non-free.  is tex in
a debian non-free package?  we categorise it under a licence "knuth" in
the catalogue, and tex live follows us when karl doesn't put us right.
but istm that "knuth" licence isn't debian free.)

robin


From gnwiii at gmail.com  Tue Oct  4 00:00:14 2011
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 3 Oct 2011 19:00:14 -0300
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <4394.1317668779@cl.cam.ac.uk>
References: <CAKTOP47WnOrVKXMNNoEVOFSDttR1hEfrR8P9SbaMK_KzLbOqVA@mail.gmail.com>
 <4394.1317668779@cl.cam.ac.uk>
Message-ID: <CAKTOP45JL_w+byeCzMb-feS=FL0Jt8pKwvHm_Fto_Osr-=MsbQ@mail.gmail.com>

On Mon, Oct 3, 2011 at 4:06 PM, Robin Fairbairns
<Robin.Fairbairns at cl.cam.ac.uk> wrote:
> George N. White III <gnwiii at gmail.com> wrote:
>
>> texinfo was removed from TeX Live a few years ago, but may be available as a
>> (nonfree!) package if you are using linux, macports on MacOS X, etc.
>
> texinfo _is_ in tex live, and has never, to my knowledge, been out of it
> since sebastian put together the very first one. ?a non-free package for
> texinfo, or for texi2dvi, would seem eccentric, since both are licensed
> gpl.

in the svn log there is:
 --------------
r11963 | karl | 2009-01-25 02:57:18 +0100 (Sun, 25 Jan 2009) | 1 line

remove texinfo
  [...]

Changed paths:
  ---------------

This refers to the texinfo binaries: info, etc.  The texinfo macro file
as well as some info docs are in TL -- but the programs no longer
included are:

info (1)             - read Info documents
makeinfo (1)         - translate Texinfo documents
pdftexi2dvi (1)      - convert Texinfo documents to PDF
texi2dvi (1)         - convert Texinfo documents to DVI
texi2pdf (1)         - create a PDF file from a Texinfo file
texindex (1)         - sort Texinfo index files

As I recall, there were some portability problems
coupled with general lack of interest in the info
format on platforms not already supported by the
distro or vendor.

> (actually, i think it's illegal to relicense anything under gpl as
> non-free.)
>
> robin

Debian has its own notions of free vs non-free.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From karl at freefriends.org  Tue Oct  4 00:15:15 2011
From: karl at freefriends.org (Karl Berry)
Date: Mon, 3 Oct 2011 22:15:15 GMT
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <CAKTOP47WnOrVKXMNNoEVOFSDttR1hEfrR8P9SbaMK_KzLbOqVA@mail.gmail.com>
Message-ID: <201110032215.p93MFFMm019967@freefriends.org>

    texinfo ... nonfree

Debian considers the Texinfo *manual* nonfree because it includes
invariant sections.  The Texinfo code is considered free by Debian (and
everyone else).

Anyway, I removed the Texinfo programs from TeX Live some years ago
because it was both (as Siep mentions) an annoying conflict with distro
versions, and an irritating source of (useless) failures in building TL.
Terminal libraries, blah blah blah.  I won't be restoring them.

What I left in TL is texinfo.tex and its few supporting .tex files.

k

From pander at users.sourceforge.net  Tue Oct  4 12:47:19 2011
From: pander at users.sourceforge.net (Pander)
Date: Tue, 04 Oct 2011 12:47:19 +0200
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <4E89B98E.8050608@users.sourceforge.net>
References: <4E89B98E.8050608@users.sourceforge.net>
Message-ID: <4E8AE437.7010001@users.sourceforge.net>

On 2011-10-03 15:33, Pander wrote:
> Hi all,
> 
> I'm no expert on this but shouldn't
>   /usr/local/texlive/2011/texmf-dist/doc/support/texdraw/texi2dvi
> be executable and be linked to from
>   /usr/local/texlive/2011/bin/x86_64-linux
> ?
> 
> Regards,
> 
> Pander

For more scripts that might need chmod a+x, see

$find /usr/local/texlive/2011/texmf-dist -type f -exec file {} \;|grep
'shell script'|grep -v texmf-dist/scripts

Then users can extend their execution path any way they like without
being hindered by not having writing rights to /usr/local/texlive/ to
set execution bit.

Whether or not texi2dvi is removed or not is up to you. The version in
CTAN (1.162) is however newer than the one shipped with TeX Live at the
moment (1.7). (Ubuntu ships via texinfo 1.135, request for upgrade to
1.162 is here https://bugs.launchpad.net/ubuntu/+bug/866096 )

From kbrow1i at gmail.com  Tue Oct  4 13:28:08 2011
From: kbrow1i at gmail.com (Ken Brown)
Date: Tue, 04 Oct 2011 07:28:08 -0400
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <4E8AE437.7010001@users.sourceforge.net>
References: <4E89B98E.8050608@users.sourceforge.net>
 <4E8AE437.7010001@users.sourceforge.net>
Message-ID: <4E8AEDC8.6050600@gmail.com>

On 10/4/2011 6:47 AM, Pander wrote:
> On 2011-10-03 15:33, Pander wrote:
>> Hi all,
>>
>> I'm no expert on this but shouldn't
>>    /usr/local/texlive/2011/texmf-dist/doc/support/texdraw/texi2dvi
>> be executable and be linked to from
>>    /usr/local/texlive/2011/bin/x86_64-linux
>> ?
>>
>> Regards,
>>
>> Pander
>
> For more scripts that might need chmod a+x, see
>
> $find /usr/local/texlive/2011/texmf-dist -type f -exec file {} \;|grep
> 'shell script'|grep -v texmf-dist/scripts
>
> Then users can extend their execution path any way they like without
> being hindered by not having writing rights to /usr/local/texlive/ to
> set execution bit.
>
> Whether or not texi2dvi is removed or not is up to you. The version in
> CTAN (1.162) is however newer than the one shipped with TeX Live at the
> moment (1.7). (Ubuntu ships via texinfo 1.135, request for upgrade to
> 1.162 is here https://bugs.launchpad.net/ubuntu/+bug/866096 )

As Karl has already said, the Texinfo programs that used to be shipped 
with TL have been removed.  The (old) texi2dvi that you found is only 
there because it is part of the texdraw package.  It would be foolish 
for people to link to that rather than using the version that comes with 
their distro's Texinfo.

Ken


From firmicus04 at googlemail.com  Tue Oct  4 21:05:10 2011
From: firmicus04 at googlemail.com (FC)
Date: Tue, 4 Oct 2011 21:05:10 +0200
Subject: [tex-live] Announcement: New maintainers for Polyglossia and
	ArabXeTeX
Message-ID: <CABG2OkX4J25iCiS8WYQuHm+8NoMvHpF8UVT0+2eXXHt9vK8ZxQ@mail.gmail.com>

Hello everyone,

I will keep it short, otherwise people will start saying that I do have some
spare time after all :)

First the obvious: I have been recently informed of the dependency problem
in polyglossia following the recent evolution of fontspec.
I do sincerely apologise to all users for all the trouble engendered by that
missing RequiresPackage line!
I also thank Philipp Stephani for having forked the github repository and
uploaded a fixed version to CTAN.

But let us forget that mishap.

As I stated in a private email to Zden?k Wagner quoted on the xetex mailing
list, for the past 12 months I have had absolutely no spare time at my
disposal, and my email correspondence related to open-source projects was,
alas, almost fully neglected. This means that even something as trivial as
adding a line to polyglossia.dtx and uploading a new version to CTAN is
really beyond my capacity.

Therefore I am very happy to announce that I have finally found a new
maintainer for polyglossia. Starting immediately, *Arthur Reutenauer* will
actively take the commands. Arthur should be well-known to many readers of
this list for his long-standing commitment in matters related to TeX vs
Unicode and multilingual typesetting. In other words, he has the perfect
profile for the job :)

I will also forward to him all emails I have received relating to
polyglossia during the past year.

Obviously this new situation will be for the common benefit of all XeTeX
users. I cannot speak for Arthur but it may not be too wild to imagine that
a future version (or fork) of polyglossia will also support LuaLaTeX.

Also, *Vafa Khaliqi* kindly offered to take over the maintainership of my
other package ArabXeTeX, which I likewise officially confirm here.

@Karl Berry: is there (legally speaking) anything else I should do to
officialize the changes of "Current Maintainers"?
The LPPL seems to imply that both Arthur and Vafa should actively confirm
here their intentions of becoming the new respective maintainers, for the
change of maintainerhip to become active.

Best regards,
Fran?ois Charette
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111004/9e8519d4/attachment.html>

From arthur.reutenauer at normalesup.org  Tue Oct  4 22:57:16 2011
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Tue, 4 Oct 2011 21:57:16 +0100
Subject: [tex-live] Announcement: New maintainers for Polyglossia and
	ArabXeTeX
In-Reply-To: <CABG2OkX4J25iCiS8WYQuHm+8NoMvHpF8UVT0+2eXXHt9vK8ZxQ@mail.gmail.com>
References: <CABG2OkX4J25iCiS8WYQuHm+8NoMvHpF8UVT0+2eXXHt9vK8ZxQ@mail.gmail.com>
Message-ID: <20111004205716.GE20286@phare.normalesup.org>

	Hi all,

On Tue, Oct 04, 2011 at 09:05:10PM +0200, FC wrote:
> I will also forward to him all emails I have received relating to
> polyglossia during the past year.

  I'm still waiting, by the way ;-)

> Obviously this new situation will be for the common benefit of all XeTeX
> users. I cannot speak for Arthur but it may not be too wild to imagine that
> a future version (or fork) of polyglossia will also support LuaLaTeX.

  Now that is a spoiler if there ever was one!  I have been thinking
about exactly that since I offered to take over Polyglossia.  I don't
want to make any promise for the near future, though; there are more
urgent issues to tend to.

> The LPPL seems to imply that both Arthur and Vafa should actively confirm
> here their intentions of becoming the new respective maintainers, for the
> change of maintainerhip to become active.

  I hereby actively confirm my such intention.  I do not plan to change
my maintainer hip, however...

	Arthur

From jfkthame at googlemail.com  Tue Oct  4 23:09:02 2011
From: jfkthame at googlemail.com (Jonathan Kew)
Date: Tue, 4 Oct 2011 22:09:02 +0100
Subject: [tex-live] Announcement: New maintainers for Polyglossia and
	ArabXeTeX
In-Reply-To: <CABG2OkX4J25iCiS8WYQuHm+8NoMvHpF8UVT0+2eXXHt9vK8ZxQ@mail.gmail.com>
References: <CABG2OkX4J25iCiS8WYQuHm+8NoMvHpF8UVT0+2eXXHt9vK8ZxQ@mail.gmail.com>
Message-ID: <A53D6A1A-149B-45DB-8E8F-0B459FAE2456@gmail.com>

Hello Fran?ois,

Just a quick note (as I also have far too little time for TeX-related projects these days) of appreciation for the tremendous contributions you have made to the xe(la)tex world. Polyglossia, in particular, was a great response to a widely-felt need, and I have no doubt that many, many users have benefited from it. Thank you!

(And to the new maintainers of these packages - thank you for taking up these important tasks!)

Regards,

Jonathan



From karl at freefriends.org  Tue Oct  4 23:19:16 2011
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Oct 2011 21:19:16 GMT
Subject: [tex-live] Announcement: New maintainers for Polyglossia and
	ArabXeTeX
In-Reply-To: <CABG2OkX4J25iCiS8WYQuHm+8NoMvHpF8UVT0+2eXXHt9vK8ZxQ@mail.gmail.com>
Message-ID: <201110042119.p94LJGea017173@freefriends.org>

Hi Francois,

    @Karl Berry: is there (legally speaking) anything else I should do to
    officialize the changes of "Current Maintainers"?

Nope, your response suffices for LPPL purposes.

Let me echo Jonathan's thanks to you for creating these works, and to
the new maintainers for taking them up.

I am CC-ing ctan so that they may be officially informed (though they
may well have already seen the mail :) and can update the Catalogue.

Thanks!

karl

From Robin.Fairbairns at cl.cam.ac.uk  Tue Oct  4 23:24:27 2011
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 04 Oct 2011 22:24:27 +0100
Subject: [tex-live] Announcement: New maintainers for Polyglossia and
	ArabXeTeX
In-Reply-To: Your message of Tue, 04 Oct 2011 21:05:10 +0200.
 <CABG2OkX4J25iCiS8WYQuHm+8NoMvHpF8UVT0+2eXXHt9vK8ZxQ@mail.gmail.com>
Message-ID: <5055.1317763467@cl.cam.ac.uk>

FC <firmicus04 at googlemail.com> wrote:

> Therefore I am very happy to announce that I have finally found a new
>  maintainer for polyglossia. Starting immediately, Arthur Reutenauer
>  will actively take the commands. 
>  Arthur should be well-known to many readers of this list for his 
> long-standing commitment in matters related to TeX vs Unicode and 
> multilingual typesetting. In other words, he has the perfect profile
>  for the job :) I will also forward to him all emails I have received
>  relating to polyglossia during the past year.Obviously this new
>  situation will be for the common benefit of all XeTeX users. I cannot
>  speak for Arthur but it may not be too wild to imagine that a future
>  version (or fork) of polyglossia will also support LuaLaTeX.
> 
> 
> Also, Vafa Khaliqi kindly offered to take over the maintainership of
> my other package ArabXeTeX, which I likewise officially confirm
> here. at Karl Berry: is there (legally speaking) anything else I should
> do to officialize the changes of "Current Maintainers"? 

fwiw, i've registered both these changes in the ctan catalogue -- it's
easier to change something than to remember a change that i didn't
install.

speaking as a maintainer of the archive, i must welcome your mail -- so
many people drift away, or hand over to another maintainer without
telling anyone.

Robin Fairbairns

For the CTAN team

From karl at freefriends.org  Wed Oct  5 01:28:05 2011
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Oct 2011 23:28:05 GMT
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <4E8AE437.7010001@users.sourceforge.net>
Message-ID: <201110042328.p94NS57x026731@freefriends.org>

    For more scripts that might need chmod a+x, see

    $find /usr/local/texlive/2011/texmf-dist -type f -exec file {} \;|grep
    'shell script'|grep -v texmf-dist/scripts

I guess so.  I found two shell scripts there lacking x bits, and
instituted a (more general) nightly check to ensure more don't creep in.

Best,
Karl

From preining at logic.at  Wed Oct  5 02:30:53 2011
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Oct 2011 09:30:53 +0900
Subject: [tex-live] texi2dvi in executable path?
In-Reply-To: <10364.1317677454@cl.cam.ac.uk> <20111003195711.GB1913@molly>
References: <CAC1phyYjYOGteg7j3Qgiw_F1=qLoOqqd58mkWJ0h-AiAa5Gs5Q@mail.gmail.com>
 <10364.1317677454@cl.cam.ac.uk>
 <CAKTOP47WnOrVKXMNNoEVOFSDttR1hEfrR8P9SbaMK_KzLbOqVA@mail.gmail.com>
 <4394.1317668779@cl.cam.ac.uk> <20111003195711.GB1913@molly>
Message-ID: <20111005003053.GB31465@gamma.logic.tuwien.ac.at>

Hi everyone,

On Mo, 03 Okt 2011, Siep Kroonenberg wrote:
> On my Ubuntu system I have a package texinfo-doc-nonfree. Debian has
> its own standard of free. The converters and some of the
> documentation are Debian-free, but other pieces of the documentation
> are not.

On Mo, 03 Okt 2011, Robin Fairbairns wrote:
> i wonder what it's using that is non-free; the main texinfo
> documentation file bears a statement of availability under gpl, and the
> readme in the same directory says it's all available under gpl.

That is not true. See Karl's answer, the documentation is under
GFDL with invariant sections.

> all very strange, but debian people are pretty picky about licences.
> maybe they've found a non-gpl full stop somewhere.

There is no picky or not picky, it is only that by vote the Debian
Developers have decided (in 2006) that GFDL is to be consider 
"free for Debian" only if it has no unmodifiable sections.
See http://www.debian.org/vote/2006/vote_001

> (of course, according to their rules, tex itself is non-free.  is tex in
[...]
> but istm that "knuth" licence isn't debian free.)

Again I have to correct you. TeX is free, also for Debian. The only 
non-standard clause is the renaming clause, which is accepted in Debian.

Or do you assume I could package TeX Live for Debian when it is non-free?

BTW, actually there is NO need to write all that, as simple 
"google that for me" would have shown everyone the straight things.

So let us please keep accusations, assumptions, and wrong statements
at bay, please.

Thanks,

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
GREAT WAKERING (participial vb.)
Panic which sets in when you badly need to go to the lavatory and
cannot make up your mind about what book or magazine to take with you.
			--- Douglas Adams, The Meaning of Liff

From amunn at gmx.com  Wed Oct  5 18:22:58 2011
From: amunn at gmx.com (Alan Munn)
Date: Wed, 5 Oct 2011 12:22:58 -0400
Subject: [tex-live] TEXMFHOME when using  install-tl on a Mac
Message-ID: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>

Most of us who use Macs install the fantastic MacTeX version of TL, but every so often the odd Mac user (pun intended) installs TL using install-tl.  Sometimes this is in fact necessary, since MacTeX requires admin access to install, so a user without admin rights can't use MacTeX, I think.

So here's the question: what does install-tl assume is the value to TEXMFHOME when it runs on a Mac?

This Stack Exchange question, which describes such a case <http://tex.stackexchange.com/q/30494/2693>, seems to show that it defaults to /home/<user>/texmf

If true, this is an unfortunate decision, since 99% of all advice about local additions for Mac users will point people to /Users/<user>/Library/texmf.

If this isn't the case, then how might this user have arrived at that value?

On a related note, it might be helpful to have some very strongly worded messages in install-tl recommending MacTeX over install-tl for Mac unless (i) the person really knows what they are doing and/or (ii) it's absolutely necessary.

Alan

-- 
Alan Munn
amunn at gmx.com






From cmc at math.hmc.edu  Wed Oct  5 19:59:54 2011
From: cmc at math.hmc.edu (Claire M. Connelly)
Date: Wed, 05 Oct 2011 10:59:54 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
Message-ID: <8272.1317837594@vosill.math.hmc.edu>

"AM" == Alan Munn <amunn at gmx.com>

    AM> This Stack Exchange question, which describes such a case
    AM> <http://tex.stackexchange.com/q/30494/2693>, seems to show
    AM> that it defaults to /home/<user>/texmf

    AM> If true, this is an unfortunate decision, since 99% of all
    AM> advice about local additions for Mac users will point
    AM> people to /Users/<user>/Library/texmf.

I can confirm that you need to have your texmf in ~/Library (or at
least a link to it) for typesetting with MacTeX.  (I install
MacTeX, then keep it up-to-date with tlmgr, but clearly the
defaults set by the MacTeX maintainers persist.)

These settings are in /usr/local/texlive/2011/texmf.cnf; a
tl-install installation does not include this file (so the
defaults apply).

This file also sets TEXMFVAR to ~/Library/texlive/2011/texmf-var
and TEXMFCONFIG to ~/Library/texlive/2011/texmf-config.

   Claire

P.S. Alan's message was helpful, as I was setting up a new Mac and
     having to move some of my configuration over by hand, and was
     wondering why I had my texmf in ~/Library, having set it up
     long, long ago (and having a link in my home directory that I
     actually use to get to the contents).

*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
  Claire Connelly                              cmc at math.hmc.edu
  System Administrator                           (909) 621-8754
  Department of Mathematics                 Harvey Mudd College
*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
  For System News: http://www.math.hmc.edu/computing/news/
                   or http://twitter.com/hmcmathcomp/.
*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 188 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111005/50bc90a6/attachment.bin>

From reinhard.kotucha at web.de  Wed Oct  5 20:35:34 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 5 Oct 2011 20:35:34 +0200
Subject: [tex-live] TEXMFHOME when using  install-tl on a Mac
In-Reply-To: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
Message-ID: <20108.41846.226004.326973@zaphod.ms25.net>

On 2011-10-05 at 12:22:58 -0400, Alan Munn wrote:

 > Most of us who use Macs install the fantastic MacTeX version of TL,
 > but every so often the odd Mac user (pun intended) installs TL
 > using install-tl.  Sometimes this is in fact necessary, since
 > MacTeX requires admin access to install, so a user without admin
 > rights can't use MacTeX, I think.
 > 
 > So here's the question: what does install-tl assume is the value to
 > TEXMFHOME when it runs on a Mac?
 > 
 > This Stack Exchange question, which describes such a case
 > <http://tex.stackexchange.com/q/30494/2693>, seems to show that it
 > defaults to /home/<user>/texmf

The default is ~/texmf, where ~ expands to $HOME on Unix and
$USERPROFILE on Windows.

 > If true, this is an unfortunate decision, since 99% of all advice
 > about local additions for Mac users will point people to
 > /Users/<user>/Library/texmf.

TeX Live is a multi-platform distribution and there is only one config
file for all platforms.  Thus, it has to use a directory by default
which exists everywhere.  If you want something else, you can change
TEXMFHOME during installation.  If you don't have admin rights, you
have to adapt the other installation paths too, so what's the problem?
 
 > If this isn't the case, then how might this user have arrived at
 > that value?
 > 
 > On a related note, it might be helpful to have some very strongly
 > worded messages in install-tl recommending MacTeX over install-tl
 > for Mac unless (i) the person really knows what they are doing
 > and/or (ii) it's absolutely necessary.

There is enough information at http://tug.org/texlive , there is no
reason not to use TeX Live and there is no need to change TEXMFHOME.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From siepo at cybercomm.nl  Wed Oct  5 20:43:36 2011
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 5 Oct 2011 20:43:36 +0200
Subject: [tex-live] TEXMFHOME when using  install-tl on a Mac
In-Reply-To: <20108.41846.226004.326973@zaphod.ms25.net>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <20108.41846.226004.326973@zaphod.ms25.net>
Message-ID: <20111005184336.GA9312@molly>

On Wed, Oct 05, 2011 at 08:35:34PM +0200, Reinhard Kotucha wrote:
> On 2011-10-05 at 12:22:58 -0400, Alan Munn wrote:
> 
>  > Most of us who use Macs install the fantastic MacTeX version of TL,
>  > but every so often the odd Mac user (pun intended) installs TL
>  > using install-tl.  Sometimes this is in fact necessary, since
>  > MacTeX requires admin access to install, so a user without admin
>  > rights can't use MacTeX, I think.
>  > 
>  > So here's the question: what does install-tl assume is the value to
>  > TEXMFHOME when it runs on a Mac?
>  > 
>  > This Stack Exchange question, which describes such a case
>  > <http://tex.stackexchange.com/q/30494/2693>, seems to show that it
>  > defaults to /home/<user>/texmf
> 
> The default is ~/texmf, where ~ expands to $HOME on Unix and
> $USERPROFILE on Windows.

So how come that in this case TEXMFHOME points to /home/<user>/texmf
instead of /Users/<user>/texmf? This is really strange.

-- 
Siep Kroonenberg

From mojca.miklavec.lists at gmail.com  Wed Oct  5 20:51:19 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 5 Oct 2011 20:51:19 +0200
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
Message-ID: <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>

On Wed, Oct 5, 2011 at 18:22, Alan Munn wrote:
> Most of us who use Macs install the fantastic MacTeX version of TL, but every so often the odd Mac user (pun intended) installs TL using install-tl. ?Sometimes this is in fact necessary, since MacTeX requires admin access to install, so a user without admin rights can't use MacTeX, I think.
>
> So here's the question: what does install-tl assume is the value to TEXMFHOME when it runs on a Mac?
>
> This Stack Exchange question, which describes such a case <http://tex.stackexchange.com/q/30494/2693>, seems to show that it defaults to /home/<user>/texmf

That is true.

> If true, this is an unfortunate decision, since 99% of all advice about local additions for Mac users will point people to /Users/<user>/Library/texmf.

And 99% of Lion users don't know how to navigate to ~/Library any more
since Apple decided to hide that folder (apparently it is dangerous if
users mess up with it).

> On a related note, it might be helpful to have some very strongly worded messages in install-tl recommending MacTeX over install-tl for Mac

Do you mean messages on web page or during installation?


http://www.tug.org/texlive/ says

    Quick install for Unix; installation and release notes for
Windows; for MacOSX, see the MacTeX distribution.

And the first link points to document that starts with:

    If you don't want to read the basic install documentation and just
want to install everything in TeX Live, on a Unix-like system, a
minimal recipe follows. Special considerations for Windows are
described separately. For MacOSX, we recommend installing MacTeX,
which contains all of TeX Live (and a few Mac-specific additions).
Cygwin users can follow the instructions for Unix-like systems, but
make sure you have the prerequisites before beginning the
installation.


But I don't see any reason why install-tl (bash script) should
complain. Imagine that install-tl.bat would print out something like:
    "Are you aware that MikTeX is a lot more user-friendly than TeX
Live? Are you absolutely sure that you want to install this? Please,
think twice. Unless you know what you are doing, TeX Live is not for
you."

> unless (i) the person really knows what they are doing and/or (ii) it's absolutely necessary.

I agree that it might not be clear from the first glimpse what to
install (when you go to firefox, you get a big "full-screen" button
screaming "download me please"), but I don't see any convincing reason
why TeX Live should change defaults for TEXMFHOME. Those who want to
use MacTeX get the sensible defaults already.

Those who use pure TeX Live more often than not want to have identical
settings over multiple machines. And if you install pure TeX Live, you
need to fiddle with PATH settings anyway. It doesn't work out of the
box as it does for MacTeX users. Imagine the mess if every linux user
would ask for binaries under /this/path and support files under
/that/path since that is convention of his linux distribution.

Mojca


From mojca.miklavec.lists at gmail.com  Wed Oct  5 21:21:30 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 5 Oct 2011 21:21:30 +0200
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <20111005184336.GA9312@molly>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <20108.41846.226004.326973@zaphod.ms25.net>
 <20111005184336.GA9312@molly>
Message-ID: <CALBOmsYCcA4m+DK_+QKKfC0kSreLyxwji8FVLcLgW_EMQG6AWQ@mail.gmail.com>

On Wed, Oct 5, 2011 at 20:43, Siep Kroonenberg wrote:
>> On 2011-10-05 at 12:22:58 -0400, Alan Munn wrote:
>>
>> ?> This Stack Exchange question, which describes such a case
>> ?> <http://tex.stackexchange.com/q/30494/2693>, seems to show that it
>> ?> defaults to /home/<user>/texmf
>
> So how come that in this case TEXMFHOME points to /home/<user>/texmf
> instead of /Users/<user>/texmf? This is really strange.

Just an oversight of the writer. It is /Users/<user>/texmf as expected.

Mojca


From adam.maxwell at pnnl.gov  Wed Oct  5 21:26:21 2011
From: adam.maxwell at pnnl.gov (Maxwell, Adam R)
Date: Wed, 5 Oct 2011 12:26:21 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
Message-ID: <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>


On Oct 5, 2011, at 11:51, Mojca Miklavec wrote:

>    If you don't want to read the basic install documentation and just
> want to install everything in TeX Live, on a Unix-like system, a
> minimal recipe follows. Special considerations for Windows are
> described separately. For MacOSX, we recommend installing MacTeX,
> which contains all of TeX Live (and a few Mac-specific additions).

An additional way to install TL on Mac OS is to use TeX Live Utility,
which has the default variables for TEXMFHOME, TEXMFVAR, TEXMFCONFIG
set to the same values used by MacTeX.  It's still not very 
user-friendly, but editing TEXDIR (IIRC) will let you install
anywhere you have write permission.  The install feature isn't
enabled by default, though:

http://code.google.com/p/mactlmgr/wiki/AdvancedFeatures

Unfortunately, I just noticed that editing of text variables was
broken, so it won't be working until the next beta.  Oops.

-- 
Adam



From reinhard.kotucha at web.de  Wed Oct  5 22:11:54 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 5 Oct 2011 22:11:54 +0200
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
Message-ID: <20108.47626.698456.89263@zaphod.ms25.net>

On 2011-10-05 at 12:26:21 -0700, Maxwell, Adam R wrote:

 > 
 > On Oct 5, 2011, at 11:51, Mojca Miklavec wrote:
 > 
 > >    If you don't want to read the basic install documentation and
 > > just want to install everything in TeX Live, on a Unix-like
 > > system, a minimal recipe follows. Special considerations for
 > > Windows are described separately. For MacOSX, we recommend
 > > installing MacTeX, which contains all of TeX Live (and a few
 > > Mac-specific additions).
 > 
 > An additional way to install TL on Mac OS is to use TeX Live
 > Utility, which has the default variables for TEXMFHOME, TEXMFVAR,
 > TEXMFCONFIG set to the same values used by MacTeX.

But if you install TeX Live, it doesn't matter where MacTeX looks for
files.  Or did I misunderstand something?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From adam.maxwell at pnnl.gov  Wed Oct  5 22:23:59 2011
From: adam.maxwell at pnnl.gov (Maxwell, Adam R)
Date: Wed, 5 Oct 2011 13:23:59 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <20108.47626.698456.89263@zaphod.ms25.net>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
 <20108.47626.698456.89263@zaphod.ms25.net>
Message-ID: <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>


On Oct 5, 2011, at 13:11, Reinhard Kotucha wrote:

> But if you install TeX Live, it doesn't matter where MacTeX looks for
> files.  Or did I misunderstand something?

Correct, for TeX itself.  However, it matters with respect to Alan's
remark that "[most] advice about local additions for Mac users will 
point people to ~/Library/texmf."  For better or for worse, this has 
carried over from Gerben Wierda's gwTeX to MacTeX, so we have years of
documentation and postings on mailing lists telling people to put
additions in ~/Library/texmf.

-- 
Adam



From amunn at gmx.com  Wed Oct  5 23:18:15 2011
From: amunn at gmx.com (Alan Munn)
Date: Wed, 5 Oct 2011 17:18:15 -0400
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
 <20108.47626.698456.89263@zaphod.ms25.net>
 <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
Message-ID: <B5D86B9A-189D-452A-B610-097B68C13748@gmx.com>

First, thanks to everyone for their comments so far.  I'm replying to Adam's message, but will include snippets from other messages, (particularly Mojca's ) too, rather than reply to everyone individually.

I also want to point out (in case it wasn't clear originally) this is *not* my problem, but rather  is an observation based on dealing with naive users.

On Oct 5, 2011, at 4:23 PM, Maxwell, Adam R wrote:

> 
> On Oct 5, 2011, at 13:11, Reinhard Kotucha wrote:
> 
>> But if you install TeX Live, it doesn't matter where MacTeX looks for
>> files.  Or did I misunderstand something?
> 
> Correct, for TeX itself.  However, it matters with respect to Alan's
> remark that "[most] advice about local additions for Mac users will 
> point people to ~/Library/texmf."  For better or for worse, this has 
> carried over from Gerben Wierda's gwTeX to MacTeX, so we have years of
> documentation and postings on mailing lists telling people to put
> additions in ~/Library/texmf.


Adam has hit the nail on the head with respect to the main aim of my original question.  The vast majority of Mac users will be using MacTeX, and local additions (for better or worse) are going to be in ~/Library/texmf.

On Oct 5, 2011, at 2:51 PM, Mojca Miklavec wrote:
On Oct 5, 2011 Alan Munn wrote:

>> 
>> If true, this is an unfortunate decision, since 99% of all advice about local additions for Mac users will point people to /Users/<user>/Library/texmf.
> 
> And 99% of Lion users don't know how to navigate to ~/Library any more
> since Apple decided to hide that folder (apparently it is dangerous if
> users mess up with it).

This is indeed unfortunate, and maybe that alone should cause MacTeX to rethink its placement.  But for the moment this location isn't going to change.

> But I don't see any reason why install-tl (bash script) should
> complain. Imagine that install-tl.bat would print out something like:
>    "Are you aware that MikTeX is a lot more user-friendly than TeX
> Live? Are you absolutely sure that you want to install this? Please,
> think twice. Unless you know what you are doing, TeX Live is not for
> you."

Fair enough. Especially when you make the point this way :-).  But recommending MikTeX as opposed to TL is not quite the same as recommending one method of installing TL over another.  So this might be something that install-tl might reasonably do.

> 
>> unless (i) the person really knows what they are doing and/or (ii) it's absolutely necessary.
> 
> I agree that it might not be clear from the first glimpse what to
> install (when you go to firefox, you get a big "full-screen" button
> screaming "download me please"), but I don't see any convincing reason
> why TeX Live should change defaults for TEXMFHOME. Those who want to
> use MacTeX get the sensible defaults already.
> 
> Those who use pure TeX Live more often than not want to have identical
> settings over multiple machines. And if you install pure TeX Live, you
> need to fiddle with PATH settings anyway. It doesn't work out of the
> box as it does for MacTeX users. Imagine the mess if every linux user
> would ask for binaries under /this/path and support files under
> /that/path since that is convention of his linux distribution.

True, there are such users, and they don't need any help, one supposes, but I guess my question was aimed at the user who is not doing this with full awareness of what they are doing, and thinking about how we could help this sort of user.

So far I'm convinced that having a uniform value for $TEXMFHOME is a reasonable decision from the install-tl point of view.  However, given the both the ubiquity of the MacTeX version and the huge amount of documentation about local additions on a Mac, wouldn't it be helpful to have some fairly simple way (i.e. without much extra knowledge or extra steps) to have users choose to make their TEXMFHOME ~/Library/texmf  if they are installing on a Mac.  Ideally this would be part of the install script rather than having people edit texmf.cnf either with an editor or via tlmgr.

Alan

-- 
Alan Munn
amunn at gmx.com






From mojca.miklavec.lists at gmail.com  Wed Oct  5 23:35:39 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 5 Oct 2011 23:35:39 +0200
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
 <20108.47626.698456.89263@zaphod.ms25.net>
 <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
Message-ID: <CALBOmsbmfK9PzmSeFGQJWpcVJC6WNjGcTeOFM6e4XdovBtF7-Q@mail.gmail.com>

On Wed, Oct 5, 2011 at 22:23, Maxwell, Adam R wrote:
> On Oct 5, 2011, at 13:11, Reinhard Kotucha wrote:
>
>> But if you install TeX Live, it doesn't matter where MacTeX looks for
>> files. ?Or did I misunderstand something?
>
> Correct, for TeX itself. ?However, it matters with respect to Alan's
> remark that "[most] advice about local additions for Mac users will
> point people to ~/Library/texmf."

And also because people might have both pure TeX Live and MacTeX
installed at the same time ;)
They probably want to use the same location for TEXMFHOME.

Mojca


From gnwiii at gmail.com  Wed Oct  5 23:56:52 2011
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 5 Oct 2011 18:56:52 -0300
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <CALBOmsbmfK9PzmSeFGQJWpcVJC6WNjGcTeOFM6e4XdovBtF7-Q@mail.gmail.com>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
 <20108.47626.698456.89263@zaphod.ms25.net>
 <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
 <CALBOmsbmfK9PzmSeFGQJWpcVJC6WNjGcTeOFM6e4XdovBtF7-Q@mail.gmail.com>
Message-ID: <CAKTOP45qfhPEAKtPyOhMGrzRd9nPOy2a7qzRL60f+v1T9kwQYg@mail.gmail.com>

On Wed, Oct 5, 2011 at 6:35 PM, Mojca Miklavec
<mojca.miklavec.lists at gmail.com> wrote:

> On Wed, Oct 5, 2011 at 22:23, Maxwell, Adam R wrote:
>> On Oct 5, 2011, at 13:11, Reinhard Kotucha wrote:
>>
>>> But if you install TeX Live, it doesn't matter where MacTeX looks for
>>> files. ?Or did I misunderstand something?
>>
>> Correct, for TeX itself. ?However, it matters with respect to Alan's
>> remark that "[most] advice about local additions for Mac users will
>> point people to ~/Library/texmf."
>
> And also because people might have both pure TeX Live and MacTeX
> installed at the same time ;)
> They probably want to use the same location for TEXMFHOME.


Not to mention macports' version of texlive -- required by some
macports packages.


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From amunn at gmx.com  Thu Oct  6 00:05:15 2011
From: amunn at gmx.com (Alan Munn)
Date: Wed, 5 Oct 2011 18:05:15 -0400
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <CAKTOP45qfhPEAKtPyOhMGrzRd9nPOy2a7qzRL60f+v1T9kwQYg@mail.gmail.com>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
 <20108.47626.698456.89263@zaphod.ms25.net>
 <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
 <CALBOmsbmfK9PzmSeFGQJWpcVJC6WNjGcTeOFM6e4XdovBtF7-Q@mail.gmail.com>
 <CAKTOP45qfhPEAKtPyOhMGrzRd9nPOy2a7qzRL60f+v1T9kwQYg@mail.gmail.com>
Message-ID: <A04818CC-67E4-4506-B397-F73B36F0D231@gmx.com>

On Oct 5, 2011, at 5:56 PM, George N. White III wrote:

> On Wed, Oct 5, 2011 at 6:35 PM, Mojca Miklavec
> <mojca.miklavec.lists at gmail.com> wrote:
> 
>> On Wed, Oct 5, 2011 at 22:23, Maxwell, Adam R wrote:
>>> On Oct 5, 2011, at 13:11, Reinhard Kotucha wrote:
>>> 
>>>> But if you install TeX Live, it doesn't matter where MacTeX looks for
>>>> files.  Or did I misunderstand something?
>>> 
>>> Correct, for TeX itself.  However, it matters with respect to Alan's
>>> remark that "[most] advice about local additions for Mac users will
>>> point people to ~/Library/texmf."
>> 
>> And also because people might have both pure TeX Live and MacTeX
>> installed at the same time ;)
>> They probably want to use the same location for TEXMFHOME.
> 
> 
> Not to mention macports' version of texlive -- required by some
> macports packages.


Don't get me started on this. :-)

Alan

-- 
Alan Munn
amunn at gmx.com





From adam.maxwell at pnnl.gov  Thu Oct  6 00:07:46 2011
From: adam.maxwell at pnnl.gov (Maxwell, Adam R)
Date: Wed, 5 Oct 2011 15:07:46 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <B5D86B9A-189D-452A-B610-097B68C13748@gmx.com>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
 <20108.47626.698456.89263@zaphod.ms25.net>
 <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
 <B5D86B9A-189D-452A-B610-097B68C13748@gmx.com>
Message-ID: <C4983252-4B2E-40DC-81CD-7BE270A04E48@pnnl.gov>


On Oct 5, 2011, at 14:18, Alan Munn wrote:

> wouldn't it be helpful to have some fairly simple way (i.e. without much extra knowledge or extra steps) to have users choose to make their TEXMFHOME ~/Library/texmf  if they are installing on a Mac.  Ideally this would be part of the install script rather than having people edit texmf.cnf either with an editor or via tlmgr.

It's not Mac-specific, but the install-tl script already allows you to set TEXMFHOME during setup.  In fact, it's on the same screen as TEXDIR, but it's easy to gloss over the variable names unless you know what you're looking for.

-- 
Adam



From amunn at gmx.com  Thu Oct  6 01:20:11 2011
From: amunn at gmx.com (Alan Munn)
Date: Wed, 5 Oct 2011 19:20:11 -0400
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <C4983252-4B2E-40DC-81CD-7BE270A04E48@pnnl.gov>
References: <D60E23F9-6749-47FD-A7E0-542D26595821@gmx.com>
 <CALBOmsbQ_28zE-S=B4q6nf2tLZ9btrtcz3T0BWLey3HCXiJ+ow@mail.gmail.com>
 <F3C81FA9-A532-42D6-89E5-CC304E4D7BFE@pnl.gov>
 <20108.47626.698456.89263@zaphod.ms25.net>
 <6C262B4A-9F09-452C-8C22-FFAA91B8767E@pnnl.gov>
 <B5D86B9A-189D-452A-B610-097B68C13748@gmx.com>
 <C4983252-4B2E-40DC-81CD-7BE270A04E48@pnnl.gov>
Message-ID: <46EA13B9-B33C-458B-B10E-556FF08255B6@gmx.com>

On Oct 5, 2011, at 6:07 PM, Maxwell, Adam R wrote:

> 
> On Oct 5, 2011, at 14:18, Alan Munn wrote:
> 
>> wouldn't it be helpful to have some fairly simple way (i.e. without much extra knowledge or extra steps) to have users choose to make their TEXMFHOME ~/Library/texmf  if they are installing on a Mac.  Ideally this would be part of the install script rather than having people edit texmf.cnf either with an editor or via tlmgr.
> 
> It's not Mac-specific, but the install-tl script already allows you to set TEXMFHOME during setup.  In fact, it's on the same screen as TEXDIR, but it's easy to gloss over the variable names unless you know what you're looking for.

That's good to know.  So maybe a recommendation for Mac users to set it to ~/Library/texmf might be helpful?

Alan


-- 
Alan Munn
amunn at gmx.com






From koch at math.uoregon.edu  Thu Oct  6 04:33:00 2011
From: koch at math.uoregon.edu (Richard Koch)
Date: Wed, 5 Oct 2011 19:33:00 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
Message-ID: <7CF331B0-20F5-47A2-A42F-4BF770632914@math.uoregon.edu>

Folks,

I make MacTeX. Let me add a couple of minor comments.

MacTeX is constructed by installing TeX Live on a computer with an empty /usr/local, and then using
Apple software to construct an install package from the result. To install TeX Live, I use the
TeX Live install script with default choices, except that

	TEXMFHOME =	~/Library/texmf

	TEXMFCONFIG =	~/Library/texlive/2011/texmf-config

	TEXMFVAR =		~/Library/texlive/2011/texmf-var

No texmf.cfg is edited in any way, and no file in the distribution is changed before making the
install package. Thus a user installing with the TeX Live install script will get what we 
install just by changing the three values above in the initial stages of running the script.

All this is a deliberate design decision. I refused to change TEXMFCONFIG and
TEXMFVAR after others on the MacTeX list recommended those changes, until Karl
added those choices to the install script.

I?m not in favor of revising our choices. Mac users don?t like
their home directories cluttered up with mysterious folders like texmf.
Apple provided a folder named ~/Library for such geeky files and folders,
and in Lion they made it a hidden folder to improve the experience a little more.

Although ~/Library is hidden, it is EASY to get to it. Apple?s Finder has a GO menu
listing several commonly used folders. If the user holds down the option key, ~/Library
is added to this menu, and choosing it opens that folder. As Alan explained, there
is documentation in MacTeX and elsewhere on the web explaining how to add style
files to TeX by using ~/Library/texmf, and we only need to add this GO menu trick
to that documentation for Lion. That has already been done in several spots (although
MacTeX was released before Lion).

None of this contradicts other comments in the thread. We just need to encourage
users who install directly via the script to use the above value of TEXMFHOME.

Dick Koch



From herbs at wideopenwest.com  Thu Oct  6 12:23:32 2011
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Thu, 6 Oct 2011 05:23:32 -0500
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <7CF331B0-20F5-47A2-A42F-4BF770632914@math.uoregon.edu>
References: <7CF331B0-20F5-47A2-A42F-4BF770632914@math.uoregon.edu>
Message-ID: <6D2700CF-8D19-41AD-A1CE-9B2783B17076@wideopenwest.com>


On Oct 5, 2011, at 9:33 PM, Richard Koch wrote:

> Folks,
> 
> I make MacTeX. Let me add a couple of minor comments.
> 
> MacTeX is constructed by installing TeX Live on a computer with an empty /usr/local, and then using
> Apple software to construct an install package from the result. To install TeX Live, I use the
> TeX Live install script with default choices, except that
> 
> 	TEXMFHOME =	~/Library/texmf
> 
> 	TEXMFCONFIG =	~/Library/texlive/2011/texmf-config
> 
> 	TEXMFVAR =		~/Library/texlive/2011/texmf-var
> 
> No texmf.cfg is edited in any way, and no file in the distribution is changed before making the
> install package. Thus a user installing with the TeX Live install script will get what we 
> install just by changing the three values above in the initial stages of running the script.
> 
> All this is a deliberate design decision. I refused to change TEXMFCONFIG and
> TEXMFVAR after others on the MacTeX list recommended those changes, until Karl
> added those choices to the install script.
> 
> I?m not in favor of revising our choices. Mac users don?t like
> their home directories cluttered up with mysterious folders like texmf.
> Apple provided a folder named ~/Library for such geeky files and folders,
> and in Lion they made it a hidden folder to improve the experience a little more.
> 
> Although ~/Library is hidden, it is EASY to get to it. Apple?s Finder has a GO menu
> listing several commonly used folders. If the user holds down the option key, ~/Library
> is added to this menu, and choosing it opens that folder. As Alan explained, there
> is documentation in MacTeX and elsewhere on the web explaining how to add style
> files to TeX by using ~/Library/texmf, and we only need to add this GO menu trick
> to that documentation for Lion. That has already been done in several spots (although
> MacTeX was released before Lion).
> 
> None of this contradicts other comments in the thread. We just need to encourage
> users who install directly via the script to use the above value of TEXMFHOME.
> 
> Dick Koch

Howdy,

I'm sure Karl will answer this if no one else does...

Suppose one installs TL via the script with its default values and then discovers things aren't where they expected. Remembering that they installed TL into a directory they could access (after all, that's why they didn't install via the MacTeX installer) could they simply create a texmf.cnf file with the variables defined above and install it into .../texlive/2011/ and then have everything set up like TL via MacTeX for ``personal directories''? I.e., is that all the install script does when it request non-default values for those variables?

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)





From preining at logic.at  Thu Oct  6 13:00:33 2011
From: preining at logic.at (Norbert Preining)
Date: Thu, 6 Oct 2011 20:00:33 +0900
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <7CF331B0-20F5-47A2-A42F-4BF770632914@math.uoregon.edu>
References: <7CF331B0-20F5-47A2-A42F-4BF770632914@math.uoregon.edu>
Message-ID: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>

Hi Richard, hi Karl,

thanks for your nice round up!

On Mi, 05 Okt 2011, Richard Koch wrote:
> None of this contradicts other comments in the thread. We just need to encourage
> users who install directly via the script to use the above value of TEXMFHOME.

We can in *principle* set the installer up that when it is running
on Mac it selects ~/Library/texmf as TEXMFHOME and maybe the other
changes, too.

Would you think that make sense in the bigger picture?

I see tha tpoint that since long time all posts and recommendations
are for putting texmf into ~/LIbrary, so we can follow this
tradition.

??? Karl, what do you think?

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
WEST WITTERING (participial vb.)
The uncontrollable twitching which breaks out when you're trying to
get away from the most boring person at a party.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu Oct  6 13:02:02 2011
From: preining at logic.at (Norbert Preining)
Date: Thu, 6 Oct 2011 20:02:02 +0900
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <6D2700CF-8D19-41AD-A1CE-9B2783B17076@wideopenwest.com>
References: <7CF331B0-20F5-47A2-A42F-4BF770632914@math.uoregon.edu>
 <6D2700CF-8D19-41AD-A1CE-9B2783B17076@wideopenwest.com>
Message-ID: <20111006110202.GB15991@gamma.logic.tuwien.ac.at>

On Do, 06 Okt 2011, Herbert Schulz wrote:
> Suppose one installs TL via the script with its default values and then discovers things aren't where they expected. Remembering that they installed TL into a directory they could access (after all, that's why they didn't install via the MacTeX installer) could they simply create a texmf.cnf file with the variables defined above and install it into .../texlive/2011/ and then have everything set up like TL via MacTeX for ``personal directories''? I.e., is that all the install script does when it request non-default values for those variables?

THis is *anyway* what is happening behind the scenes of the installer.

If you change *any* of the default values, it is not changed in the 
main texmf.cnf file, because that might be updated later on, but
a file 2011/texmf.cnf is created (fromthe installer) and the changed
values are written down there.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
SMARDEN (vb.)
To keep your mouth shut by smiling determinedly through you
teeth. Smardening is largely used by people trying to give the
impression that they're enjoying a story they've heard at least six
times before.
			--- Douglas Adams, The Meaning of Liff

From herbs at wideopenwest.com  Thu Oct  6 13:37:42 2011
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Thu, 6 Oct 2011 06:37:42 -0500
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <20111006110202.GB15991@gamma.logic.tuwien.ac.at>
References: <7CF331B0-20F5-47A2-A42F-4BF770632914@math.uoregon.edu>
 <6D2700CF-8D19-41AD-A1CE-9B2783B17076@wideopenwest.com>
 <20111006110202.GB15991@gamma.logic.tuwien.ac.at>
Message-ID: <5B2ED98A-FF26-4CC5-98B8-8FA01A55B810@wideopenwest.com>


On Oct 6, 2011, at 6:02 AM, Norbert Preining wrote:

> On Do, 06 Okt 2011, Herbert Schulz wrote:
>> Suppose one installs TL via the script with its default values and then discovers things aren't where they expected. Remembering that they installed TL into a directory they could access (after all, that's why they didn't install via the MacTeX installer) could they simply create a texmf.cnf file with the variables defined above and install it into .../texlive/2011/ and then have everything set up like TL via MacTeX for ``personal directories''? I.e., is that all the install script does when it request non-default values for those variables?
> 
> THis is *anyway* what is happening behind the scenes of the installer.
> 
> If you change *any* of the default values, it is not changed in the 
> main texmf.cnf file, because that might be updated later on, but
> a file 2011/texmf.cnf is created (fromthe installer) and the changed
> values are written down there.
> 
> Best wishes
> 
> Norbert
> 

Howdy,

Thanks Norbert. That's the information I wanted to know.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)





From P.Taylor at Rhul.Ac.Uk  Thu Oct  6 19:24:34 2011
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Webmaster, Ret'd))
Date: Thu, 06 Oct 2011 18:24:34 +0100
Subject: [tex-live] TeX Live 2010 : "Update all installed" leads to endless
 (manual) loop
Message-ID: <4E8DE452.8060704@Rhul.Ac.Uk>

I have no wish to migrate to TeX Live 2011 at this stage
(I prefer to wait until its end-of-life freeze), but do
wish to ensure that my TeX Live 2010 installation is up-to-date
(w.r.t. its freeze release, that is).

I launch TLMGR, and select "Update all installed";
it tells me :

  0010	Updates for the tlmgr are present
	Installation and updates won't work without being forced
	Please select "Update all installed" after dismissing this dialogue

	The program will terminate after the upgrade
	Then you can restart the program for further updates

	At least 406 further updates are available after tlmgr has been updated

	Please wait a bit after the program has terminated so that the update can be completed

	[OK]

I press [OK]
it tells me

	Critical updates have been installed
	Program will terminate now
	Please restart if necessary

	[OK]

I press OK

	Two red bits of text disappear (texlive.infra and tlperl.win32)
	The program disappears.

I re-launch TLMGR
I select "Update all installed"
it tells me :

GOTO 0010.

** Phil.

From khaledhosny at eglug.org  Thu Oct  6 09:12:35 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 6 Oct 2011 09:12:35 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
Message-ID: <20111006071234.GA14363@khaled-laptop>

Hi all,

After a long night of debugging and hair pulling, I finally found why
italic correction for OpenType math fonts is ignored in luatex and
lualatex formats but not in context.

For some reason not yet clear to me, the setting of catcode to 11 in
luatex-unicode-letters.tex causes luatex to not apply italic correction
(might be related to the fact that luatex applies IC selectively).

This minimal example shows the issues:

\input luaotfload.sty
\font\xits={file:xits-math.otf} at 10pt
\textfont0=\xits
$$\Umathchar"7"0"1D443\Umathchar"4"0`($$
\bye

after commenting the \catcode part in line 18 of
luatex-unicode-letters.tex and rebuilding the format, italic correction
is applied.

I'm not sure what is the proper fix here, though.

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From p.stephani2 at googlemail.com  Thu Oct  6 23:31:38 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Thu, 6 Oct 2011 23:31:38 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <20111006071234.GA14363@khaled-laptop>
References: <20111006071234.GA14363@khaled-laptop>
Message-ID: <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>

2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
> Hi all,
>
> After a long night of debugging and hair pulling, I finally found why
> italic correction for OpenType math fonts is ignored in luatex and
> lualatex formats but not in context.
>
> For some reason not yet clear to me, the setting of catcode to 11 in
> luatex-unicode-letters.tex causes luatex to not apply italic correction
> (might be related to the fact that luatex applies IC selectively).
>
> This minimal example shows the issues:
>
> \input luaotfload.sty
> \font\xits={file:xits-math.otf} at 10pt
> \textfont0=\xits
> $$\Umathchar"7"0"1D443\Umathchar"4"0`($$
> \bye
>
> after commenting the \catcode part in line 18 of
> luatex-unicode-letters.tex and rebuilding the format, italic correction
> is applied.
>
> I'm not sure what is the proper fix here, though.

LuaTeX explicitly removes italic correction after letters:

            if (is_new_mathfont(cur_f) && get_char_cat_code(cur_c) == 11) {
                *delta = 0;     /* no italic correction in mid-word of
text font */
	    }

This seems like a bug to me.

From p.stephani2 at googlemail.com  Thu Oct  6 23:59:56 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Thu, 6 Oct 2011 23:59:56 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <20111006214956.GA4444@khaled-laptop>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
Message-ID: <CAArVCkQFHG6SRzbbSgQECcTqq-kLXYybTYXG1nEeAYqb+g6c=g@mail.gmail.com>

2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
> On Thu, Oct 06, 2011 at 11:31:38PM +0200, Philipp Stephani wrote:
>> 2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
>> > Hi all,
>> >
>> > After a long night of debugging and hair pulling, I finally found why
>> > italic correction for OpenType math fonts is ignored in luatex and
>> > lualatex formats but not in context.
>> >
>> > For some reason not yet clear to me, the setting of catcode to 11 in
>> > luatex-unicode-letters.tex causes luatex to not apply italic correction
>> > (might be related to the fact that luatex applies IC selectively).
>> >
>> > This minimal example shows the issues:
>> >
>> > \input luaotfload.sty
>> > \font\xits={file:xits-math.otf} at 10pt
>> > \textfont0=\xits
>> > $$\Umathchar"7"0"1D443\Umathchar"4"0`($$
>> > \bye
>> >
>> > after commenting the \catcode part in line 18 of
>> > luatex-unicode-letters.tex and rebuilding the format, italic correction
>> > is applied.
>> >
>> > I'm not sure what is the proper fix here, though.
>>
>> LuaTeX explicitly removes italic correction after letters:
>>
>> ? ? ? ? ? ? if (is_new_mathfont(cur_f) && get_char_cat_code(cur_c) == 11) {
>> ? ? ? ? ? ? ? ? *delta = 0; ? ? /* no italic correction in mid-word of
>> text font */
>> ? ? ? ? ? }
>>
>> This seems like a bug to me.
>
> This is on purpose, following to MS implementation/Cambria Math.

How can this be, given that Word has no catcodes? Anyway, with Cambria
Math it works as expected, maybe even a font bug?

> In
> either case it makes no sense IMO to give non-letter characters a letter
> catcode.

The italic P you used in your example is a letter, and the parenthesis
has catcode 12.


From reinhard.kotucha at web.de  Fri Oct  7 00:45:03 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 7 Oct 2011 00:45:03 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <20111006214956.GA4444@khaled-laptop>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
Message-ID: <20110.12143.222238.808772@zaphod.ms25.net>

On 2011-10-06 at 23:49:56 +0200, Khaled Hosny wrote:

 > In either case it makes no sense IMO to give non-letter characters
 > a letter catcode.

A catcode 11 does *not* mean that a character is a letter.  It means
that it's allowed in control sequence names.  I don't think catcodes
are the right thing in order to determine where to apply italic
correction.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From karl at freefriends.org  Fri Oct  7 00:51:28 2011
From: karl at freefriends.org (Karl Berry)
Date: Thu, 6 Oct 2011 22:51:28 GMT
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
Message-ID: <201110062251.p96MpSR3015984@freefriends.org>

    We can in *principle* set the installer up that when it is running
    on Mac it selects ~/Library/texmf as TEXMFHOME and maybe the other
    changes, too.

I don't like it.  I think the defaults in install-tl should not depend
on the current platform.  The whole point of native TL is to be as
consistent as possible across platforms.  I recognize there is this very
strong ~/Library convention on Macs, but still, my opinion remains
unaltered.  Sorry.

karl

From arthur.reutenauer at normalesup.org  Fri Oct  7 01:01:52 2011
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Fri, 7 Oct 2011 00:01:52 +0100
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <20110.12143.222238.808772@zaphod.ms25.net>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <20110.12143.222238.808772@zaphod.ms25.net>
Message-ID: <20111006230152.GC27034@phare.normalesup.org>

>                                               I don't think catcodes
> are the right thing in order to determine where to apply italic
> correction.

  They are for hyphenation...

	Arthur

From koch at math.uoregon.edu  Fri Oct  7 01:17:19 2011
From: koch at math.uoregon.edu (Richard Koch)
Date: Thu, 6 Oct 2011 16:17:19 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <201110062251.p96MpSR3015984@freefriends.org>
References: <201110062251.p96MpSR3015984@freefriends.org>
Message-ID: <F20EF3C0-56E2-486B-BE1A-6563C4BE006C@math.uoregon.edu>

Folks,

From koch at math.uoregon.edu  Fri Oct  7 01:32:21 2011
From: koch at math.uoregon.edu (Richard Koch)
Date: Thu, 6 Oct 2011 16:32:21 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <201110062251.p96MpSR3015984@freefriends.org>
References: <201110062251.p96MpSR3015984@freefriends.org>
Message-ID: <2BDFDF57-A520-4B77-A243-BC6ABB365A5E@math.uoregon.edu>

Folks,

On Oct 6, 2011, at 3:51 PM, Karl Berry wrote:

>    We can in *principle* set the installer up that when it is running
>    on Mac it selects ~/Library/texmf as TEXMFHOME and maybe the other
>    changes, too.
> 
> I don't like it.  I think the defaults in install-tl should not depend
> on the current platform. 

The current TeX Live install script is very straightforward. When I first used
it several years ago, I was surprised at the lack of ?geeky questions? and
lengthy explanations. ?Platform specific? changes are likely to make it
harder to use and harder to maintain. Thus I tend to agree with Karl that
the defaults shouldn?t be changed.

Perhaps Herb can write a short explanation on the MacTeX site telling
users how to reconfigure TeX Live if they install with the TeX Live script
and later discover that Mac folks use different default values for TEXMFHOME
and the other two variables.

Dick Koch









From gnwiii at gmail.com  Fri Oct  7 13:03:04 2011
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 7 Oct 2011 08:03:04 -0300
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <201110062251.p96MpSR3015984@freefriends.org>
References: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
 <201110062251.p96MpSR3015984@freefriends.org>
Message-ID: <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>

On Thu, Oct 6, 2011 at 7:51 PM, Karl Berry <karl at freefriends.org> wrote:

> ? ?We can in *principle* set the installer up that when it is running
> ? ?on Mac it selects ~/Library/texmf as TEXMFHOME and maybe the other
> ? ?changes, too.
>
> I don't like it. ?I think the defaults in install-tl should not depend
> on the current platform. ?The whole point of native TL is to be as
> consistent as possible across platforms. ?I recognize there is this very
> strong ~/Library convention on Macs, but still, my opinion remains
> unaltered. ?Sorry.

I agree -- TL developers/maintainers have enough platform-specific
issues already.  Making configuration defaults depend on the platform
should be done only when needed to avoid actual breakage.  Users of
FOSS should expect some compromises of this sort.  If a change is
needed, then MacTeX should provide an option to install
without admin. privs.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From preining at logic.at  Fri Oct  7 13:10:00 2011
From: preining at logic.at (Norbert Preining)
Date: Fri, 7 Oct 2011 20:10:00 +0900
Subject: [tex-live] TeX Live 2010 : "Update all installed" leads
	to	endless (manual) loop
In-Reply-To: <4E8DE452.8060704@Rhul.Ac.Uk>
References: <4E8DE452.8060704@Rhul.Ac.Uk>
Message-ID: <20111007111000.GE29234@gamma.logic.tuwien.ac.at>

On Do, 06 Okt 2011, Philip TAYLOR (Webmaster, Ret'd) wrote:
> I have no wish to migrate to TeX Live 2011 at this stage
> (I prefer to wait until its end-of-life freeze), but do
> wish to ensure that my TeX Live 2010 installation is up-to-date
> (w.r.t. its freeze release, that is).

[much deleted]

but what you did is updating your 2010 to 2011 and on the way it
seems to got broken.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
GLOADBY MARWOOD (n.)
Someone who stops Jon Cleese on the street and demands that he does a
funny walk.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Fri Oct  7 13:31:32 2011
From: preining at logic.at (Norbert Preining)
Date: Fri, 7 Oct 2011 20:31:32 +0900
Subject: [tex-live] TeX Live 2010 : "Update all installed" leads
	to	endless (manual) loop
In-Reply-To: <20111007111000.GE29234@gamma.logic.tuwien.ac.at>
References: <4E8DE452.8060704@Rhul.Ac.Uk>
 <20111007111000.GE29234@gamma.logic.tuwien.ac.at>
Message-ID: <20111007113132.GI29234@gamma.logic.tuwien.ac.at>

On Fr, 07 Okt 2011, Norbert Preining wrote:
> > I have no wish to migrate to TeX Live 2011 at this stage
> > (I prefer to wait until its end-of-life freeze), but do
> > wish to ensure that my TeX Live 2010 installation is up-to-date
> > (w.r.t. its freeze release, that is).
> 
> [much deleted]
> 
> but what you did is updating your 2010 to 2011 and on the way it
> seems to got broken.

PS: I don't know how you managed that ... because we have
safety precautions against it ... so you must have done something
evil in the background you are not telling us ;-)

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
`Time is an illusion. Lunchtime doubly so.'
you should send that in to the
"Reader's Digest". They've got a page for people like you.'
                 --- Ford convincing Arthur to drink three pints in ten
                 --- minutes at lunchtime.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From khaledhosny at eglug.org  Thu Oct  6 23:49:56 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 6 Oct 2011 23:49:56 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
Message-ID: <20111006214956.GA4444@khaled-laptop>

On Thu, Oct 06, 2011 at 11:31:38PM +0200, Philipp Stephani wrote:
> 2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
> > Hi all,
> >
> > After a long night of debugging and hair pulling, I finally found why
> > italic correction for OpenType math fonts is ignored in luatex and
> > lualatex formats but not in context.
> >
> > For some reason not yet clear to me, the setting of catcode to 11 in
> > luatex-unicode-letters.tex causes luatex to not apply italic correction
> > (might be related to the fact that luatex applies IC selectively).
> >
> > This minimal example shows the issues:
> >
> > \input luaotfload.sty
> > \font\xits={file:xits-math.otf} at 10pt
> > \textfont0=\xits
> > $$\Umathchar"7"0"1D443\Umathchar"4"0`($$
> > \bye
> >
> > after commenting the \catcode part in line 18 of
> > luatex-unicode-letters.tex and rebuilding the format, italic correction
> > is applied.
> >
> > I'm not sure what is the proper fix here, though.
> 
> LuaTeX explicitly removes italic correction after letters:
> 
>             if (is_new_mathfont(cur_f) && get_char_cat_code(cur_c) == 11) {
>                 *delta = 0;     /* no italic correction in mid-word of
> text font */
> 	    }
> 
> This seems like a bug to me.

This is on purpose, following to MS implementation/Cambria Math. In
either case it makes no sense IMO to give non-letter characters a letter
catcode.

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From khaledhosny at eglug.org  Fri Oct  7 00:21:40 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 7 Oct 2011 00:21:40 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <CAArVCkQFHG6SRzbbSgQECcTqq-kLXYybTYXG1nEeAYqb+g6c=g@mail.gmail.com>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <CAArVCkQFHG6SRzbbSgQECcTqq-kLXYybTYXG1nEeAYqb+g6c=g@mail.gmail.com>
Message-ID: <20111006222140.GA4586@khaled-laptop>

On Thu, Oct 06, 2011 at 11:59:56PM +0200, Philipp Stephani wrote:
> 2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
> > On Thu, Oct 06, 2011 at 11:31:38PM +0200, Philipp Stephani wrote:
> >> 2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
> >> > Hi all,
> >> >
> >> > After a long night of debugging and hair pulling, I finally found why
> >> > italic correction for OpenType math fonts is ignored in luatex and
> >> > lualatex formats but not in context.
> >> >
> >> > For some reason not yet clear to me, the setting of catcode to 11 in
> >> > luatex-unicode-letters.tex causes luatex to not apply italic correction
> >> > (might be related to the fact that luatex applies IC selectively).
> >> >
> >> > This minimal example shows the issues:
> >> >
> >> > \input luaotfload.sty
> >> > \font\xits={file:xits-math.otf} at 10pt
> >> > \textfont0=\xits
> >> > $$\Umathchar"7"0"1D443\Umathchar"4"0`($$
> >> > \bye
> >> >
> >> > after commenting the \catcode part in line 18 of
> >> > luatex-unicode-letters.tex and rebuilding the format, italic correction
> >> > is applied.
> >> >
> >> > I'm not sure what is the proper fix here, though.
> >>
> >> LuaTeX explicitly removes italic correction after letters:
> >>
> >> ? ? ? ? ? ? if (is_new_mathfont(cur_f) && get_char_cat_code(cur_c) == 11) {
> >> ? ? ? ? ? ? ? ? *delta = 0; ? ? /* no italic correction in mid-word of
> >> text font */
> >> ? ? ? ? ? }
> >>
> >> This seems like a bug to me.
> >
> > This is on purpose, following to MS implementation/Cambria Math.
> 
> How can this be, given that Word has no catcodes? Anyway, with Cambria
> Math it works as expected, maybe even a font bug?

Word does not apply italic correction between letters (i.e. middle of
the word), catcodes it what luatex is using ti differentiate letters
from non-letters. Cambria has minimal italic correction so the
difference is not so visible and its sub/superscripts are handled with
math kerning so the difference is even more invisible. XITS renders fine
in Word.

> > In
> > either case it makes no sense IMO to give non-letter characters a letter
> > catcode.
> 
> The italic P you used in your example is a letter, and the parenthesis
> has catcode 12.

I see, but then I don't know what the exact detail of what luatex is
doing, all I know is that it applies italic correction selectively.

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From luecking at uark.edu  Fri Oct  7 19:31:08 2011
From: luecking at uark.edu (Dan Luecking)
Date: Fri, 07 Oct 2011 12:31:08 -0500
Subject: [tex-live] Ignored italic correction with lua(la)tex format
Message-ID: <0LSP00IXVHX6RH7E@mailhost.uark.edu>

On Thu Oct 6, 2011 at 23:31:38 CEST, Philipp Stephani wrote

>2011/10/6 Khaled Hosny 
><<http://tug.org/mailman/listinfo/tex-live>khaledhosny at eglug.org>:
> > Hi all,
> >
> > After a long night of debugging and hair pulling, I finally found why
> > italic correction for OpenType math fonts is ignored in luatex and
> > lualatex formats but not in context.
> >
> > For some reason not yet clear to me, the setting of catcode to 11 in
> > luatex-unicode-letters.tex causes luatex to not apply italic correction
> > (might be related to the fact that luatex applies IC selectively).
> >
> > This minimal example shows the issues:
> >
> > \input luaotfload.sty
> > \font\xits={file:xits-math.otf} at 10pt
> > \textfont0=\xits
> > $$\Umathchar"7"0"1D443\Umathchar"4"0`($$
> > \bye
> >
> > after commenting the \catcode part in line 18 of
> > luatex-unicode-letters.tex and rebuilding the format, italic correction
> > is applied.
> >
> > I'm not sure what is the proper fix here, though.
>
>LuaTeX explicitly removes italic correction after letters:
>
>             if (is_new_mathfont(cur_f) && get_char_cat_code(cur_c) == 11) {
>                 *delta = 0;     /* no italic correction in mid-word of
>text font */
>             }
>
>This seems like a bug to me.

The comment seen above (no italic correction in mid-word)
is how TeX is supposed to behave in math *unless*
\fontdimen2 of the font is 0. \fontdimen2 is the size of
a space. Thus, sequences of symbols from cmr are not
separated by italic correction, but symbols from cmmi
are.

On the other hand, at the *end* of a "word" (i.e.,
where the next symbol is from another math family) an
italic correction is still appropriate. Perhaps in the
example given, the "P" and the "(" are from the same
family?

However, category codes are *not* supposed to be used
(in regular TeX) in making this decision. If two adjacent
symbols are from the same family and if also \fontdimen2
is not 0, then no italic correction is used, but ligature
and kerning information are used.

Also, these decisions are made after the math list was
prepared, so TeX only knows about math "items" (types Ord,
Punct, Bin, Choice, etc.) and whether the nucleus is a
single symbol or a further math list. In this context,
categories are meaningless: there are no unexpanded macros,
no unexecuted commands, no grouping characters, no space
charaters, no comments, no unprocesses superscripts, etc.

Finally, if these italic corrections are simply being removed
from the metrics of the font, that should always be wrong.

Responding to another claim in this thread, hyphenation is
also not associated with \catcode, only \lccode. It happens
after a horizontal list was already prepared and this also is
a context where category codes are meaningless.

The "letters" in \patterns{} and \hyphenation{} commands can
have category 11 or 12, but must have nonzero \lccode.

Caveats: This assumes that I correctly understand the concerns
of the OP, that my reading of the TeXbook is correct and that
luaotfload is trying to emulate original TeX as far as possible.


Dan


Daniel H. Luecking
Department of Mathematical Sciences
Fayetteville, Arkansas
http://www-cs-faculty.stanford.edu/~knuth/iaq.html 


From mojca.miklavec.lists at gmail.com  Fri Oct  7 21:16:34 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 7 Oct 2011 21:16:34 +0200
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>
References: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
 <201110062251.p96MpSR3015984@freefriends.org>
 <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>
Message-ID: <CALBOmsbYQB2WYz4tFJu_EGwH3jEi7=RVjGzJne-i4CRzGBA1LA@mail.gmail.com>

On Fri, Oct 7, 2011 at 13:03, George N. White III wrote:
>?If a change is
> needed, then MacTeX should provide an option to install
> without admin. privs.

That would indeed be very nice.

The main obstacle is allowing TeX Distribution Preference Pane to be
slightly adapted and installed without admin privileges. But once that
is done, I see no reason why it wouldn't work.

Mojca


From amaxwell at mac.com  Fri Oct  7 21:24:06 2011
From: amaxwell at mac.com (Adam R. Maxwell)
Date: Fri, 07 Oct 2011 12:24:06 -0700
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <CALBOmsbYQB2WYz4tFJu_EGwH3jEi7=RVjGzJne-i4CRzGBA1LA@mail.gmail.com>
References: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
 <201110062251.p96MpSR3015984@freefriends.org>
 <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>
 <CALBOmsbYQB2WYz4tFJu_EGwH3jEi7=RVjGzJne-i4CRzGBA1LA@mail.gmail.com>
Message-ID: <3C6EE975-3379-4CA4-BE13-3E13DC97FF97@mac.com>


On Oct 7, 2011, at 12:16 , Mojca Miklavec wrote:

> The main obstacle is allowing TeX Distribution Preference Pane to be
> slightly adapted and installed without admin privileges. But once that
> is done, I see no reason why it wouldn't work.

I don't think that would be a "slight" adaptation, since an entirely
new location would need to be defined, equivalent to /usr/texbin.
Or do you mean that /usr/texbin should be allowed to point at a
distribution installed elsewhere, and still require root to run
the prefpane?


From herbs at wideopenwest.com  Fri Oct  7 21:36:12 2011
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Fri, 7 Oct 2011 14:36:12 -0500
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <3C6EE975-3379-4CA4-BE13-3E13DC97FF97@mac.com>
References: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
 <201110062251.p96MpSR3015984@freefriends.org>
 <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>
 <CALBOmsbYQB2WYz4tFJu_EGwH3jEi7=RVjGzJne-i4CRzGBA1LA@mail.gmail.com>
 <3C6EE975-3379-4CA4-BE13-3E13DC97FF97@mac.com>
Message-ID: <56DA80FE-5E8C-400E-BA9A-4A84AAD09F67@wideopenwest.com>


On Oct 7, 2011, at 2:24 PM, Adam R. Maxwell wrote:

> 
> On Oct 7, 2011, at 12:16 , Mojca Miklavec wrote:
> 
>> The main obstacle is allowing TeX Distribution Preference Pane to be
>> slightly adapted and installed without admin privileges. But once that
>> is done, I see no reason why it wouldn't work.
> 
> I don't think that would be a "slight" adaptation, since an entirely
> new location would need to be defined, equivalent to /usr/texbin.
> Or do you mean that /usr/texbin should be allowed to point at a
> distribution installed elsewhere, and still require root to run
> the prefpane?
> 


Howdy,

Hmmm... /usr/texbin points to another symbolic link in a structure that has a fixed structure itself. You'd have to build that structure on the fly. 

My other question is about how the Apple Installer works. Does it simply unpack a ``zip'' file into some structure and then copy things from that unpacked structure (set of folders) such that it won't overwrite newer files but all to a fixed location or can you relocate the base of the structure it's going to copy too? Is that muddled enough?

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)





From mojca.miklavec.lists at gmail.com  Fri Oct  7 21:49:10 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 7 Oct 2011 21:49:10 +0200
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <3C6EE975-3379-4CA4-BE13-3E13DC97FF97@mac.com>
References: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
 <201110062251.p96MpSR3015984@freefriends.org>
 <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>
 <CALBOmsbYQB2WYz4tFJu_EGwH3jEi7=RVjGzJne-i4CRzGBA1LA@mail.gmail.com>
 <3C6EE975-3379-4CA4-BE13-3E13DC97FF97@mac.com>
Message-ID: <CALBOmsa4sJ8mVsWP8gkSONbwg9OivuK4Vsrobc-j=OWYHofEhQ@mail.gmail.com>

On Fri, Oct 7, 2011 at 21:24, Adam R. Maxwell wrote:
>
> On Oct 7, 2011, at 12:16 , Mojca Miklavec wrote:
>
>> The main obstacle is allowing TeX Distribution Preference Pane to be
>> slightly adapted and installed without admin privileges. But once that
>> is done, I see no reason why it wouldn't work.
>
> I don't think that would be a "slight" adaptation, since an entirely
> new location would need to be defined, equivalent to /usr/texbin.
> Or do you mean that /usr/texbin should be allowed to point at a
> distribution installed elsewhere, and still require root to run
> the prefpane?

User without root privileges is not allowed to create /usr/texbin
which makes me believe that adapting
    ~/.MacOSX/environment.plist
(or something similar) would be the only solution to add TeX binaries
to PATH, visible by both GUI applications and Terminal. One would need
a symlink like
    ~/Applications/MacTeX/texbin (probably a different one)
pointing to the place where TeX binaries are actually installed.
Preference Pane would then only change that symlink (when working in
"user mode").

But no, if I ever used the word "slight", it wasn't exactly the right choice.

Mojca

From mojca.miklavec.lists at gmail.com  Fri Oct  7 21:55:52 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 7 Oct 2011 21:55:52 +0200
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <CALBOmsa4sJ8mVsWP8gkSONbwg9OivuK4Vsrobc-j=OWYHofEhQ@mail.gmail.com>
References: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
 <201110062251.p96MpSR3015984@freefriends.org>
 <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>
 <CALBOmsbYQB2WYz4tFJu_EGwH3jEi7=RVjGzJne-i4CRzGBA1LA@mail.gmail.com>
 <3C6EE975-3379-4CA4-BE13-3E13DC97FF97@mac.com>
 <CALBOmsa4sJ8mVsWP8gkSONbwg9OivuK4Vsrobc-j=OWYHofEhQ@mail.gmail.com>
Message-ID: <CALBOmsaNyMRPyfE989Fim54sWz8VUK0-SZaedMqt2531Cu5Zeg@mail.gmail.com>

I forgot to add: I already requested user-based Preference Pane once
(but even if J?rome didn't forget about that, it does require quite
some changes in basic architecture).

For "me" it would be useful for installing ConTeXt Distribution as
well, not just for MacTeX. Users don't need root privileges to install
ConTeXt, but installing Preference Pane requires them. (On the other
hand there are probably not so many users without root privileges on
Macs when compared to Linux.)

Mojca


From khaledhosny at eglug.org  Fri Oct  7 21:58:19 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 7 Oct 2011 21:58:19 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <0LSP00IXVHX6RH7E@mailhost.uark.edu>
References: <0LSP00IXVHX6RH7E@mailhost.uark.edu>
Message-ID: <20111007195819.GC11704@khaled-laptop>

On Fri, Oct 07, 2011 at 12:31:08PM -0500, Dan Luecking wrote:
> Caveats: This assumes that I correctly understand the concerns
> of the OP, that my reading of the TeXbook is correct and that
> luaotfload is trying to emulate original TeX as far as possible.

The issue here is related to the engine, AFAICT luaotfload is properly
delivering font structure as the engine expects it, the problem seems to
be related to that catcode thing which is beyond my comprehension,
whether it is a luatex bug or feature is too beyond me.

Also note that the algorithm used for OpenType math fonts is not
identical to the original Knuth algorithm (which is still used for TFM
math fonts).

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From reinhard.kotucha at web.de  Sat Oct  8 00:05:31 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 8 Oct 2011 00:05:31 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <20111006230152.GC27034@phare.normalesup.org>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <20110.12143.222238.808772@zaphod.ms25.net>
 <20111006230152.GC27034@phare.normalesup.org>
Message-ID: <20111.30635.661281.93178@zaphod.ms25.net>

On 2011-10-07 at 00:01:52 +0100, Arthur Reutenauer wrote:

 > >                                               I don't think catcodes
 > > are the right thing in order to determine where to apply italic
 > > correction.
 > 
 >   They are for hyphenation...

I must admit that it's unclear to me where catcodes are involved.  I
would expect that hyphenation works on character codes only.  At which
point are catcodes involved?  Anyway, hyphenation is applied between
letters, and letters always have catcode 11.  This seems to be safe
because when I set \catcode`\e=12 , I break the system anyway (can't
even say \bye).

As far as italic correction is concerned, I'm even more clueless.  An
italic correction is applied if one switches from an italic font to an
upright font.  Font switching is usually done by a (La)TeX command,
such as \emph{}.  If catcodes are involved, does LuaTeX insert italic
correction automatically?  If yes, when?  What I'm concerned about is
that, for instance, an exclamation mark can have catcode 11 if one
want to use it in control sequence names, or catcode 12 otherwise.
I would expect to get the same amount of kerning in both cases.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From karl at freefriends.org  Sat Oct  8 00:11:34 2011
From: karl at freefriends.org (Karl Berry)
Date: Fri, 7 Oct 2011 22:11:34 GMT
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <20111.30635.661281.93178@zaphod.ms25.net>
Message-ID: <201110072211.p97MBYLY008306@freefriends.org>

To reiterate: catcodes are not involved in hyphenation; it is the
\lccode table that matters there.  Read Appendix H.

And anyway, hyphenation is irrelevant to italic corrections.  And we are
talking about use of i.c. in math, not text (as Dan explained at some
length), and, finally there is nothing to be done.  The catcode
assignments just have to be taken out of lua(la)tex format files, and
those chars can unfortunately not be used in control sequence names as a
result.  It seems to me.

karl

From reinhard.kotucha at web.de  Sat Oct  8 00:22:55 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 8 Oct 2011 00:22:55 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <20111007221314.GA13381@khaled-laptop>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <20110.12143.222238.808772@zaphod.ms25.net>
 <20111006230152.GC27034@phare.normalesup.org>
 <20111.30635.661281.93178@zaphod.ms25.net>
 <20111007221314.GA13381@khaled-laptop>
Message-ID: <20111.31679.908341.586052@zaphod.ms25.net>

On 2011-10-08 at 00:13:15 +0200, Khaled Hosny wrote:

 > On Sat, Oct 08, 2011 at 12:05:31AM +0200, Reinhard Kotucha wrote:
 > > As far as italic correction is concerned, I'm even more clueless.  An
 > > italic correction is applied if one switches from an italic font to an
 > > upright font.  Font switching is usually done by a (La)TeX command,
 > > such as \emph{}.
 > 
 > This is about math italic correction.

This explains a lot, thanks!

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From khaledhosny at eglug.org  Sat Oct  8 00:13:15 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 8 Oct 2011 00:13:15 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <20111.30635.661281.93178@zaphod.ms25.net>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <20110.12143.222238.808772@zaphod.ms25.net>
 <20111006230152.GC27034@phare.normalesup.org>
 <20111.30635.661281.93178@zaphod.ms25.net>
Message-ID: <20111007221314.GA13381@khaled-laptop>

On Sat, Oct 08, 2011 at 12:05:31AM +0200, Reinhard Kotucha wrote:
> As far as italic correction is concerned, I'm even more clueless.  An
> italic correction is applied if one switches from an italic font to an
> upright font.  Font switching is usually done by a (La)TeX command,
> such as \emph{}.

This is about math italic correction.

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From p.stephani2 at googlemail.com  Sat Oct  8 09:18:14 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 09:18:14 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <20111006222140.GA4586@khaled-laptop>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <CAArVCkQFHG6SRzbbSgQECcTqq-kLXYybTYXG1nEeAYqb+g6c=g@mail.gmail.com>
 <20111006222140.GA4586@khaled-laptop>
Message-ID: <CAArVCkQUQTDY_kxWGHqRyxzwPf-67qGmzOoOwrkrijkU+FyiQA@mail.gmail.com>

2011/10/7 Khaled Hosny <khaledhosny at eglug.org>:
> On Thu, Oct 06, 2011 at 11:59:56PM +0200, Philipp Stephani wrote:
>> 2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
>> > On Thu, Oct 06, 2011 at 11:31:38PM +0200, Philipp Stephani wrote:
>> >> 2011/10/6 Khaled Hosny <khaledhosny at eglug.org>:
>> >> > Hi all,
>> >> >
>> >> > After a long night of debugging and hair pulling, I finally found why
>> >> > italic correction for OpenType math fonts is ignored in luatex and
>> >> > lualatex formats but not in context.
>> >> >
>> >> > For some reason not yet clear to me, the setting of catcode to 11 in
>> >> > luatex-unicode-letters.tex causes luatex to not apply italic correction
>> >> > (might be related to the fact that luatex applies IC selectively).
>> >> >
>> >> > This minimal example shows the issues:
>> >> >
>> >> > \input luaotfload.sty
>> >> > \font\xits={file:xits-math.otf} at 10pt
>> >> > \textfont0=\xits
>> >> > $$\Umathchar"7"0"1D443\Umathchar"4"0`($$
>> >> > \bye
>> >> >
>> >> > after commenting the \catcode part in line 18 of
>> >> > luatex-unicode-letters.tex and rebuilding the format, italic correction
>> >> > is applied.
>> >> >
>> >> > I'm not sure what is the proper fix here, though.
>> >>
>> >> LuaTeX explicitly removes italic correction after letters:
>> >>
>> >> ? ? ? ? ? ? if (is_new_mathfont(cur_f) && get_char_cat_code(cur_c) == 11) {
>> >> ? ? ? ? ? ? ? ? *delta = 0; ? ? /* no italic correction in mid-word of
>> >> text font */
>> >> ? ? ? ? ? }
>> >>
>> >> This seems like a bug to me.
>> >
>> > This is on purpose, following to MS implementation/Cambria Math.
>>
>> How can this be, given that Word has no catcodes? Anyway, with Cambria
>> Math it works as expected, maybe even a font bug?
>
> Word does not apply italic correction between letters (i.e. middle of
> the word), catcodes it what luatex is using ti differentiate letters
> from non-letters.

But this is rather contrary to the behavior of traditional TeX which
doesn't use catcodes at all at this stage (see e.g. Dan's posting).

> Cambria has minimal italic correction so the
> difference is not so visible and its sub/superscripts are handled with
> math kerning so the difference is even more invisible. XITS renders fine
> in Word.

For Cambria, the test looks better without italic correction. The
OpenType math document allows math italic correction to be applied
after a run of italic characters, but does not specify how to tell
italic and upright characters apart. But I'm quite sure that catcodes
are the wrong way to make this distinction. Probably LuaTeX needs a
list of all italic characters (there doesn't seem to be a Unicode
property for this).

>
>> > In
>> > either case it makes no sense IMO to give non-letter characters a letter
>> > catcode.
>>
>> The italic P you used in your example is a letter, and the parenthesis
>> has catcode 12.
>
> I see, but then I don't know what the exact detail of what luatex is
> doing, all I know is that it applies italic correction selectively.

It uses the code I posted above: it removes italic corrections after
category-11 characters, but leaves it after category-12 characters.
That's why ConTeXt appears to work. But the mathematical characters
should absolutely have catcode 11 since they have the properties
ID_Start and ID_Continue (by virtue of being letters), so the LuaLaTeX
behavior is correct and should not be altered.


From p.stephani2 at googlemail.com  Sat Oct  8 09:20:14 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 09:20:14 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
	format
In-Reply-To: <20110.12143.222238.808772@zaphod.ms25.net>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <20110.12143.222238.808772@zaphod.ms25.net>
Message-ID: <CAArVCkTHqn1WR1a4rMQsckwxEj+FymYRR4VuZyALFn4oEVBc6Q@mail.gmail.com>

2011/10/7 Reinhard Kotucha <reinhard.kotucha at web.de>:
> On 2011-10-06 at 23:49:56 +0200, Khaled Hosny wrote:
>
> ?> In either case it makes no sense IMO to give non-letter characters
> ?> a letter catcode.
>
> A catcode 11 does *not* mean that a character is a letter. ?It means
> that it's allowed in control sequence names.

Indeed, and therefore category 11 is roughly equivalent to the Unicode
properties ID_Start and/or ID_Continue.

>?I don't think catcodes
> are the right thing in order to determine where to apply italic
> correction.

I totally agree. The distinction that LuaTeX makes between 11 and 12
is very surprising and not in line of traditional TeX behavior.


From p.stephani2 at googlemail.com  Sat Oct  8 09:27:11 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 09:27:11 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <0LSP00IXVHX6RH7E@mailhost.uark.edu>
References: <0LSP00IXVHX6RH7E@mailhost.uark.edu>
Message-ID: <CAArVCkQmG_h2GqWBPqAA9DtvKozJqWPAgSAye+7iFm_eX22YuQ@mail.gmail.com>

2011/10/7 Dan Luecking <luecking at uark.edu>:
> On Thu Oct 6, 2011 at 23:31:38 CEST, Philipp Stephani wrote
>
>> 2011/10/6 Khaled Hosny
>> <<http://tug.org/mailman/listinfo/tex-live>khaledhosny at eglug.org>:
>> > Hi all,
>> >
>> > After a long night of debugging and hair pulling, I finally found why
>> > italic correction for OpenType math fonts is ignored in luatex and
>> > lualatex formats but not in context.
>> >
>> > For some reason not yet clear to me, the setting of catcode to 11 in
>> > luatex-unicode-letters.tex causes luatex to not apply italic correction
>> > (might be related to the fact that luatex applies IC selectively).
>> >
>> > This minimal example shows the issues:
>> >
>> > \input luaotfload.sty
>> > \font\xits={file:xits-math.otf} at 10pt
>> > \textfont0=\xits
>> > $$\Umathchar"7"0"1D443\Umathchar"4"0`($$
>> > \bye
>> >
>> > after commenting the \catcode part in line 18 of
>> > luatex-unicode-letters.tex and rebuilding the format, italic correction
>> > is applied.
>> >
>> > I'm not sure what is the proper fix here, though.
>>
>> LuaTeX explicitly removes italic correction after letters:
>>
>> ? ? ? ? ? ?if (is_new_mathfont(cur_f) && get_char_cat_code(cur_c) == 11) {
>> ? ? ? ? ? ? ? ?*delta = 0; ? ? /* no italic correction in mid-word of
>> text font */
>> ? ? ? ? ? ?}
>>
>> This seems like a bug to me.
>
> The comment seen above (no italic correction in mid-word)
> is how TeX is supposed to behave in math *unless*
> \fontdimen2 of the font is 0.

This is the traditional approach that LuaTeX uses for non-Unicode
fonts. I've left this out in the above code snippet since it's not
relevant for OpenType math.

> \fontdimen2 is the size of
> a space. Thus, sequences of symbols from cmr are not
> separated by italic correction, but symbols from cmmi
> are.

This behavior cannot be transferred to OpenType math since with
OpenType math, all characters belong to the same family.

>
> On the other hand, at the *end* of a "word" (i.e.,
> where the next symbol is from another math family) an
> italic correction is still appropriate. Perhaps in the
> example given, the "P" and the "(" are from the same
> family?

Yes. This is always/usually the case with OpenType math.

> Caveats: This assumes that I correctly understand the concerns
> of the OP, that my reading of the TeXbook is correct and that
> luaotfload is trying to emulate original TeX as far as possible.

It's in fact not related to luaotfload, but to the engine itself
(therefore I'm CCing the LuaTeX list). Since in OpenType math
typesetting, all characters in a math list are from the same font and
belong to the same family, the TeX method doesn't work any more and
LuaTeX necessarily has to be incompatible. The OpenType math
documentation specifies that italic correction can be applied between
a run of italic characters and an upright character, but there is no
simple way to find out whether a character is italic.


From p.stephani2 at googlemail.com  Sat Oct  8 09:30:49 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 09:30:49 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <20111007195819.GC11704@khaled-laptop>
References: <0LSP00IXVHX6RH7E@mailhost.uark.edu>
 <20111007195819.GC11704@khaled-laptop>
Message-ID: <CAArVCkSq0c+q6xEa_LXyXbCaNc=6eCQPqi6OewrKg-x2YfjT6Q@mail.gmail.com>

2011/10/7 Khaled Hosny <khaledhosny at eglug.org>:
> On Fri, Oct 07, 2011 at 12:31:08PM -0500, Dan Luecking wrote:
>> Caveats: This assumes that I correctly understand the concerns
>> of the OP, that my reading of the TeXbook is correct and that
>> luaotfload is trying to emulate original TeX as far as possible.
>
> The issue here is related to the engine, AFAICT luaotfload is properly
> delivering font structure as the engine expects it,

Yes

> the problem seems to
> be related to that catcode thing which is beyond my comprehension,
> whether it is a luatex bug or feature is too beyond me.

I'm quite convinced that the catcode test in mlist.w (line 3387) is
not the desired behavior. As others explained, catcodes should play no
role in that stage of processing. Probably we need another entry in
the character tables that specifies whether the character is italic or
not.

From p.stephani2 at googlemail.com  Sat Oct  8 09:35:24 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 09:35:24 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
	format
In-Reply-To: <20111.30635.661281.93178@zaphod.ms25.net>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <20110.12143.222238.808772@zaphod.ms25.net>
 <20111006230152.GC27034@phare.normalesup.org>
 <20111.30635.661281.93178@zaphod.ms25.net>
Message-ID: <CAArVCkQhJUZeTir_gqF+sKdctt7pG7kC0gpL0Px_oiQWcyS71A@mail.gmail.com>

2011/10/8 Reinhard Kotucha <reinhard.kotucha at web.de>:
> On 2011-10-07 at 00:01:52 +0100, Arthur Reutenauer wrote:
>
> ?> > ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? I don't think catcodes
> ?> > are the right thing in order to determine where to apply italic
> ?> > correction.
> ?>
> ?> ? They are for hyphenation...
>
> I must admit that it's unclear to me where catcodes are involved. ?I
> would expect that hyphenation works on character codes only. ?At which
> point are catcodes involved? ?Anyway, hyphenation is applied between
> letters, and letters always have catcode 11. ?This seems to be safe
> because when I set \catcode`\e=12 , I break the system anyway (can't
> even say \bye).

You could, and most typesetting-related things should still work since
catcodes are only for input processing. Once there is a mlist/hlist,
the catcodes are gone and not used any more.

>
> As far as italic correction is concerned, I'm even more clueless. ?An
> italic correction is applied if one switches from an italic font to an
> upright font.

There is no font switching at all in OpenType math mode. In our
example, the italic P and the opening parentheses are characters from
the same font.

>?If catcodes are involved, does LuaTeX insert italic
> correction automatically? ?If yes, when?

It suppresses italic correction after all category-11 characters.

>?What I'm concerned about is
> that, for instance, an exclamation mark can have catcode 11 if one
> want to use it in control sequence names, or catcode 12 otherwise.
> I would expect to get the same amount of kerning in both cases.

Sure. Another reason why the current LuaTeX behavior is not kosher.
Math typesetting uses the math class and family for distinctions in
typesetting, but should never use the catcode.


From p.stephani2 at googlemail.com  Sat Oct  8 09:36:53 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 09:36:53 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
	format
In-Reply-To: <201110072211.p97MBYLY008306@freefriends.org>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
Message-ID: <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>

2011/10/8 Karl Berry <karl at freefriends.org>:
> The catcode
> assignments just have to be taken out of lua(la)tex format files

Please don't do this. The catcode assignments are totally correct, and
it is LuaTeX which is IMHO buggy.

From taco at elvenkind.com  Sat Oct  8 10:39:54 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 08 Oct 2011 10:39:54 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <CAArVCkQUQTDY_kxWGHqRyxzwPf-67qGmzOoOwrkrijkU+FyiQA@mail.gmail.com>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <CAArVCkQFHG6SRzbbSgQECcTqq-kLXYybTYXG1nEeAYqb+g6c=g@mail.gmail.com>
 <20111006222140.GA4586@khaled-laptop>
 <CAArVCkQUQTDY_kxWGHqRyxzwPf-67qGmzOoOwrkrijkU+FyiQA@mail.gmail.com>
Message-ID: <4E900C5A.2070604@elvenkind.com>

On 10/08/2011 09:18 AM, Philipp Stephani wrote:
>
>> Cambria has minimal italic correction so the
>> difference is not so visible and its sub/superscripts are handled with
>> math kerning so the difference is even more invisible. XITS renders fine
>> in Word.
>
> For Cambria, the test looks better without italic correction. The
> OpenType math document allows math italic correction to be applied
> after a run of italic characters, but does not specify how to tell
> italic and upright characters apart.

I believe the fix here should be for luatex not to
apply italic corrections in math mode at all, so:

    if (is_new_mathfont(cur_f)) {
        *delta = 0;     /* no italic correction  */
    }

Best wishes,
Taco


From gnwiii at gmail.com  Sat Oct  8 12:14:30 2011
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 8 Oct 2011 07:14:30 -0300
Subject: [tex-live] TEXMFHOME when using install-tl on a Mac
In-Reply-To: <CALBOmsaNyMRPyfE989Fim54sWz8VUK0-SZaedMqt2531Cu5Zeg@mail.gmail.com>
References: <20111006110033.GA15991@gamma.logic.tuwien.ac.at>
 <201110062251.p96MpSR3015984@freefriends.org>
 <CAKTOP44PnrWojDXV1LCbkDBc-ELyRHCaFx62HM+uof+7=3HCYQ@mail.gmail.com>
 <CALBOmsbYQB2WYz4tFJu_EGwH3jEi7=RVjGzJne-i4CRzGBA1LA@mail.gmail.com>
 <3C6EE975-3379-4CA4-BE13-3E13DC97FF97@mac.com>
 <CALBOmsa4sJ8mVsWP8gkSONbwg9OivuK4Vsrobc-j=OWYHofEhQ@mail.gmail.com>
 <CALBOmsaNyMRPyfE989Fim54sWz8VUK0-SZaedMqt2531Cu5Zeg@mail.gmail.com>
Message-ID: <CAKTOP45pZviM-D0PL+GDGiM5G9B92LttcwAMqBCfVGX=21Y7-Q@mail.gmail.com>

On Fri, Oct 7, 2011 at 4:55 PM, Mojca Miklavec
<mojca.miklavec.lists at gmail.com> wrote:

> I forgot to add: I already requested user-based Preference Pane once
> (but even if J?rome didn't forget about that, it does require quite
> some changes in basic architecture).
>
> For "me" it would be useful for installing ConTeXt Distribution as
> well, not just for MacTeX. Users don't need root privileges to install
> ConTeXt, but installing Preference Pane requires them. (On the other
> hand there are probably not so many users without root privileges on
> Macs when compared to Linux.)

Macs are under consideration for much wider use in large organizations
where users do not have admin privileges.  On Windows users are stuck
with portable MikTeX which has some limitations compared to a full
MiKTeX with admin. tools.   A Portable MacTeX need not (cannot?)
provide all the
tools you get with full MacTeX.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From p.stephani2 at googlemail.com  Sat Oct  8 12:15:48 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 12:15:48 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <4E900C5A.2070604@elvenkind.com>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <CAArVCkQFHG6SRzbbSgQECcTqq-kLXYybTYXG1nEeAYqb+g6c=g@mail.gmail.com>
 <20111006222140.GA4586@khaled-laptop>
 <CAArVCkQUQTDY_kxWGHqRyxzwPf-67qGmzOoOwrkrijkU+FyiQA@mail.gmail.com>
 <4E900C5A.2070604@elvenkind.com>
Message-ID: <CAArVCkTpVCEafLUyikOnHRkj=XqypvucS-9qZ65qitUGbOBFyA@mail.gmail.com>

2011/10/8 Taco Hoekwater <taco at elvenkind.com>:
> On 10/08/2011 09:18 AM, Philipp Stephani wrote:
>>
>>> Cambria has minimal italic correction so the
>>> difference is not so visible and its sub/superscripts are handled with
>>> math kerning so the difference is even more invisible. XITS renders fine
>>> in Word.
>>
>> For Cambria, the test looks better without italic correction. The
>> OpenType math document allows math italic correction to be applied
>> after a run of italic characters, but does not specify how to tell
>> italic and upright characters apart.
>
> I believe the fix here should be for luatex not to
> apply italic corrections in math mode at all, so:
>
> ? if (is_new_mathfont(cur_f)) {
> ? ? ? *delta = 0; ? ? /* no italic correction ?*/
> ? }

This would be allowed according to the OpenType specification and
remove the category code issues, but in our case XITS actually should
have italic correction, otherwise the characters would bump into each
other even in ConTeXt. I think we should find a better solution.
Maybe you can implement a set (hash table or whatever) of characters
that should be treated as italic. Users should be able to set this set
using tex.set_italic_characters({123, 456}) or similar.


From p.stephani2 at googlemail.com  Sat Oct  8 15:52:50 2011
From: p.stephani2 at googlemail.com (Philipp Stephani)
Date: Sat, 8 Oct 2011 15:52:50 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
	format
In-Reply-To: <20111008134629.GC16449@khaled-laptop>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
 <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
 <20111008134629.GC16449@khaled-laptop>
Message-ID: <CAArVCkRPqfA16PmV3TtWwfWAgyYWz+Oj+SEjPKV4c_59e=eCEA@mail.gmail.com>

2011/10/8 Khaled Hosny <khaledhosny at eglug.org>:
> On Sat, Oct 08, 2011 at 09:36:53AM +0200, Philipp Stephani wrote:
>> 2011/10/8 Karl Berry <karl at freefriends.org>:
>> > The catcode
>> > assignments just have to be taken out of lua(la)tex format files
>>
>> Please don't do this. The catcode assignments are totally correct, and
>> it is LuaTeX which is IMHO buggy.
>
> So we have to live with broken rendering (until next year texlive at
> least) for some dubious benefit of being able to \def\?????????????

LuaTeX is still beta, nobody should expect flawlessness. Once a better
italic correction algorithm is found, we can upload a new version of
LuaTeX to TLcontrib.


From khaledhosny at eglug.org  Sat Oct  8 15:30:04 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 8 Oct 2011 15:30:04 +0200
Subject: [tex-live] Ignored italic correction with lua(la)tex format
In-Reply-To: <4E900C5A.2070604@elvenkind.com>
References: <20111006071234.GA14363@khaled-laptop>
 <CAArVCkRf=tdapcy20+4CyyiFGiJV9xWwh=3hLn-bWDAT_Q5QFw@mail.gmail.com>
 <20111006214956.GA4444@khaled-laptop>
 <CAArVCkQFHG6SRzbbSgQECcTqq-kLXYybTYXG1nEeAYqb+g6c=g@mail.gmail.com>
 <20111006222140.GA4586@khaled-laptop>
 <CAArVCkQUQTDY_kxWGHqRyxzwPf-67qGmzOoOwrkrijkU+FyiQA@mail.gmail.com>
 <4E900C5A.2070604@elvenkind.com>
Message-ID: <20111008133004.GA16449@khaled-laptop>

On Sat, Oct 08, 2011 at 10:39:54AM +0200, Taco Hoekwater wrote:
> On 10/08/2011 09:18 AM, Philipp Stephani wrote:
> >
> >>Cambria has minimal italic correction so the
> >>difference is not so visible and its sub/superscripts are handled with
> >>math kerning so the difference is even more invisible. XITS renders fine
> >>in Word.
> >
> >For Cambria, the test looks better without italic correction. The
> >OpenType math document allows math italic correction to be applied
> >after a run of italic characters, but does not specify how to tell
> >italic and upright characters apart.
> 
> I believe the fix here should be for luatex not to
> apply italic corrections in math mode at all, so:
> 
>    if (is_new_mathfont(cur_f)) {
>        *delta = 0;     /* no italic correction  */
>    }

Not every font can do with no italic correction at all, Cambria can go
away with that but more slanted designs can't.

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From khaledhosny at eglug.org  Sat Oct  8 15:46:29 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 8 Oct 2011 15:46:29 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
 <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
Message-ID: <20111008134629.GC16449@khaled-laptop>

On Sat, Oct 08, 2011 at 09:36:53AM +0200, Philipp Stephani wrote:
> 2011/10/8 Karl Berry <karl at freefriends.org>:
> > The catcode
> > assignments just have to be taken out of lua(la)tex format files
> 
> Please don't do this. The catcode assignments are totally correct, and
> it is LuaTeX which is IMHO buggy.

So we have to live with broken rendering (until next year texlive at
least) for some dubious benefit of being able to \def\?????????????

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From khaledhosny at eglug.org  Sat Oct  8 16:09:18 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 8 Oct 2011 16:09:18 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <CAArVCkRPqfA16PmV3TtWwfWAgyYWz+Oj+SEjPKV4c_59e=eCEA@mail.gmail.com>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
 <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
 <20111008134629.GC16449@khaled-laptop>
 <CAArVCkRPqfA16PmV3TtWwfWAgyYWz+Oj+SEjPKV4c_59e=eCEA@mail.gmail.com>
Message-ID: <20111008140918.GA16747@khaled-laptop>

On Sat, Oct 08, 2011 at 03:52:50PM +0200, Philipp Stephani wrote:
> 2011/10/8 Khaled Hosny <khaledhosny at eglug.org>:
> > On Sat, Oct 08, 2011 at 09:36:53AM +0200, Philipp Stephani wrote:
> >> 2011/10/8 Karl Berry <karl at freefriends.org>:
> >> > The catcode
> >> > assignments just have to be taken out of lua(la)tex format files
> >>
> >> Please don't do this. The catcode assignments are totally correct, and
> >> it is LuaTeX which is IMHO buggy.
> >
> > So we have to live with broken rendering (until next year texlive at
> > least) for some dubious benefit of being able to \def\?????????????
> 
> LuaTeX is still beta, nobody should expect flawlessness. Once a better
> italic correction algorithm is found, we can upload a new version of
> LuaTeX to TLcontrib.

No, I'm not convinced that we have to keep a feature that no one needs
just to break a feature that many need. If ConTeXt is doing fine without
the cactcode assignment, I think LaTeX can survive it too.

Regards,
 Khaled

-- 
 Khaled Hosny
 Egyptian
 Arab

From psh at math.mit.edu  Sun Oct  9 22:25:27 2011
From: psh at math.mit.edu (Philip Hirschhorn)
Date: Sun, 9 Oct 2011 16:25:27 -0400 (EDT)
Subject: [tex-live] Corrupted copy of small2e.tex in TeX Live
Message-ID: <Pine.LNX.4.64.1110091617250.14036@LAURENT.MIT.EDU>

Folks,

There are at least two copies of small2e.tex in TeX live, 

/usr/local/texlive/2011/texmf-dist/doc/latex/pdfx/small2e.tex

and

/usr/local/texlive/2011/texmf-dist/tex/latex/base/small2e.tex

The first of those two is (slightly) corrupted in TeX Live 2011, 2010,
and also 2009.  (I only just noticed this.)

Here's the output of

diff /usr/local/texlive/2011/texmf-dist/doc/latex/pdfx/small2e.tex /usr/local/texlive/2011/texmf-dist/tex/latex/base/small2e.tex

--------------------------------------------------------------------
12,13d11
< \usepackage[a-1b]{pdfx}
< 
26c24
< dashes are typed as Long three dash characters---like this.
---
> Long dashes are typed as three dash characters---like this.
37c35
< Remember, don't $\left[\frac2a\right]H_n^1$ type the 10 special characters (such as dollar sign and
---
> Remember, don't type the 10 special characters (such as dollar sign and
--------------------------------------------------------------------

That first line (the \usepackage) is, I assume, an intentional
change.  The other two changes seem to be errors:

  Long dashes are typed as three dash character

was changed to

  dashes are typed as Long three dash character


and


  Remember, don't type the 10 special characters

was changed to

  Remember, don't $\left[\frac2a\right]H_n^1$ type the 10 special characters

Regards,
Phil Hirschhorn

From karl at freefriends.org  Mon Oct 10 23:48:12 2011
From: karl at freefriends.org (Karl Berry)
Date: Mon, 10 Oct 2011 21:48:12 GMT
Subject: [tex-live] Corrupted copy of small2e.tex in TeX Live
In-Reply-To: <Pine.LNX.4.64.1110091617250.14036@LAURENT.MIT.EDU>
Message-ID: <201110102148.p9ALmC9d015780@freefriends.org>

Hi Phil,

    /usr/local/texlive/2011/texmf-dist/doc/latex/pdfx/small2e.tex
    /usr/local/texlive/2011/texmf-dist/tex/latex/base/small2e.tex

Thanks for the report, but TL's responsibility in such cases is to
faithfully copy what is on CTAN, not introduce changes.  The pdfx
package maintainers (CVR and Thanh) are the ones who need to make the
fixes and thus are the ones who should be informed.

As it happens, I am talking to them about other things, so I'll forward
your report.  But in general it is better to go directly to the package
authors.

Thanks,
karl

From khaledhosny at eglug.org  Thu Oct 13 11:49:02 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 13 Oct 2011 11:49:02 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <1u1to97usqlv2$.dlg@nililand.de>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
 <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
 <20111008134629.GC16449@khaled-laptop>
 <1u1to97usqlv2$.dlg@nililand.de>
Message-ID: <20111013094902.GA22364@khaled-laptop>

On Sat, Oct 08, 2011 at 06:21:46PM +0200, Ulrike Fischer wrote:
> Am Sat, 8 Oct 2011 15:46:29 +0200 schrieb Khaled Hosny:
> 
> >>> The catcode
> >>> assignments just have to be taken out of lua(la)tex format files
> 
> >> Please don't do this. The catcode assignments are totally correct, and
> >> it is LuaTeX which is IMHO buggy.
>  
> > So we have to live with broken rendering (until next year texlive at
> > least) for some dubious benefit of being able to \def\?????????????????????????????????????
> 
> I'm obviously not able to follow. Of which letters are you speaking?
> My version of luatex-unicode-letters.tex doesn't contain a \catcode
> setting in line 18 (there is the \begingroup-command). 

Sorry, line 28.

> Also why it is necessary to change the formats? Why can't the
> problematic catcodes be changed in the document?

I don't know which cat code is problematic and which is not (there are
so many characters used in math), but I think just resetting the catcode
table inside math mode would be less invasive, in latex something like:

\everymath{\luatexcatcodetable\CatcodeTableLaTeX}

(assumes luatexbase-cctb package is loaded).

P.S. this was given as an answer to this question on tex.stackexchange:
http://tex.stackexchange.com/questions/31438/how-can-i-enable-italic-correction-for-luatex

Regards,
 Khaled

From vafaklg at gmail.com  Thu Oct 13 19:04:37 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Fri, 14 Oct 2011 04:04:37 +1100
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
	format
In-Reply-To: <20111013094902.GA22364@khaled-laptop>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
 <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
 <20111008134629.GC16449@khaled-laptop>
 <1u1to97usqlv2$.dlg@nililand.de>
 <20111013094902.GA22364@khaled-laptop>
Message-ID: <CAB6rp_b8j2nebxaMiuZ39yYPj-Bh8BaO6Y3xgUF_9SjvMUvPRw@mail.gmail.com>

On Thu, Oct 13, 2011 at 8:49 PM, Khaled Hosny <khaledhosny at eglug.org> wrote:

> On Sat, Oct 08, 2011 at 06:21:46PM +0200, Ulrike Fischer wrote:
> > Am Sat, 8 Oct 2011 15:46:29 +0200 schrieb Khaled Hosny:
> >
> > >>> The catcode
> > >>> assignments just have to be taken out of lua(la)tex format files
> >
> > >> Please don't do this. The catcode assignments are totally correct, and
> > >> it is LuaTeX which is IMHO buggy.
> >
> > > So we have to live with broken rendering (until next year texlive at
> > > least) for some dubious benefit of being able to
> \def\?????????????????????????????????????
> >
> > I'm obviously not able to follow. Of which letters are you speaking?
> > My version of luatex-unicode-letters.tex doesn't contain a \catcode
> > setting in line 18 (there is the \begingroup-command).
>
> Sorry, line 28.
>
> > Also why it is necessary to change the formats? Why can't the
> > problematic catcodes be changed in the document?
>
> I don't know which cat code is problematic and which is not (there are
> so many characters used in math), but I think just resetting the catcode
> table inside math mode would be less invasive, in latex something like:
>
> \everymath{\luatexcatcodetable\CatcodeTableLaTeX}
>
>
>
then you should also do it for display math with \everydisplay hook!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111014/32f22f64/attachment.html>

From khaledhosny at eglug.org  Thu Oct 13 19:11:06 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 13 Oct 2011 19:11:06 +0200
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
 format
In-Reply-To: <CAB6rp_b8j2nebxaMiuZ39yYPj-Bh8BaO6Y3xgUF_9SjvMUvPRw@mail.gmail.com>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
 <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
 <20111008134629.GC16449@khaled-laptop>
 <1u1to97usqlv2$.dlg@nililand.de>
 <20111013094902.GA22364@khaled-laptop>
 <CAB6rp_b8j2nebxaMiuZ39yYPj-Bh8BaO6Y3xgUF_9SjvMUvPRw@mail.gmail.com>
Message-ID: <20111013171106.GA23308@khaled-laptop>

On Fri, Oct 14, 2011 at 04:04:37AM +1100, Vafa Khalighi wrote:
> 
> > On Thu, Oct 13, 2011 at 8:49 PM, Khaled Hosny <khaledhosny at eglug.org> wrote:
> > I don't know which cat code is problematic and which is not (there are
> > so many characters used in math), but I think just resetting the catcode
> > table inside math mode would be less invasive, in latex something like:
> > 
> > \everymath{\luatexcatcodetable\CatcodeTableLaTeX}
> 
> then you should also do it for display math with \everydisplay hook!

Right, I missed that.

Regards,
 Khaled

From vafaklg at gmail.com  Mon Oct 17 04:28:47 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Mon, 17 Oct 2011 13:28:47 +1100
Subject: [tex-live] [luatex] Ignored italic correction with lua(la)tex
	format
In-Reply-To: <20111013171106.GA23308@khaled-laptop>
References: <20111.30635.661281.93178@zaphod.ms25.net>
 <201110072211.p97MBYLY008306@freefriends.org>
 <CAArVCkQgg_gfJ+YCeUzTVYm6GGYtKgmTzLS5a3yGux3bw7CyEg@mail.gmail.com>
 <20111008134629.GC16449@khaled-laptop>
 <1u1to97usqlv2$.dlg@nililand.de>
 <20111013094902.GA22364@khaled-laptop>
 <CAB6rp_b8j2nebxaMiuZ39yYPj-Bh8BaO6Y3xgUF_9SjvMUvPRw@mail.gmail.com>
 <20111013171106.GA23308@khaled-laptop>
Message-ID: <CAB6rp_a=tOzcV_6GrqkNXeDovU0SHNE5dizC=HPpjN4XGCuadQ@mail.gmail.com>

Also it would be better to do it as:

\everymath\expandafter{\the\everymath \luatexcatcodetable\CatcodeTableLaTeX}

then, if some other packages also use \everymath and \everydisplay, their
contents does not get lost. As an example amsmath package puts \@displaytrue
inside \everydisplay.

or even better, you can use everyhook package.<http://ctan.org/pkg/everyhook>

On Fri, Oct 14, 2011 at 4:11 AM, Khaled Hosny <khaledhosny at eglug.org> wrote:

> On Fri, Oct 14, 2011 at 04:04:37AM +1100, Vafa Khalighi wrote:
> >
> > > On Thu, Oct 13, 2011 at 8:49 PM, Khaled Hosny <khaledhosny at eglug.org>
> wrote:
> > > I don't know which cat code is problematic and which is not (there are
> > > so many characters used in math), but I think just resetting the
> catcode
> > > table inside math mode would be less invasive, in latex something like:
> > >
> > > \everymath{\luatexcatcodetable\CatcodeTableLaTeX}
> >
> > then you should also do it for display math with \everydisplay hook!
>
> Right, I missed that.
>
> Regards,
>  Khaled
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111017/34ebb635/attachment.html>

From n0td1scl0s3d at hotmail.com  Mon Oct 17 17:58:45 2011
From: n0td1scl0s3d at hotmail.com (not disclosed)
Date: Mon, 17 Oct 2011 15:58:45 +0000
Subject: [tex-live] (no subject)
Message-ID: <DUB106-W60A8EA0132CCF5E1FFB623D8E40@phx.gbl>



TL,

I'm using texlive-bin-latex-2010-4.6

The tikz package included with texlive appears to be so out of date it is not 
functional (since gnuplot changes in 2005).

tikz uses gnuplot to produce graphs.  The interface gnuplot uses changed in
2005. The current tikz works but the one included in opensuse is so out of date
it doesn't without a hack.

The fix is _very_ simple:

line 288 of /usr/share/texmf/tex/generic/pgf/modules/pgfmoduleplot.code.tex
needs to have the word "terminal" removed and it should then look like this:

\xdef\pgf at gnuplot@head#1{set table; set output "#1.table"; set format "%.5f"}   

Any chance this could be fixed?

Ta,

SASA 
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111017/f7a99ef6/attachment.html>

From mojca.miklavec.lists at gmail.com  Mon Oct 17 23:38:44 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 17 Oct 2011 23:38:44 +0200
Subject: [tex-live] (no subject)
In-Reply-To: <DUB106-W60A8EA0132CCF5E1FFB623D8E40@phx.gbl>
References: <DUB106-W60A8EA0132CCF5E1FFB623D8E40@phx.gbl>
Message-ID: <CALBOmsZqytVU_kajU++LZzCA5_iG4PNjywDr_SD1EWKD2DgiCg@mail.gmail.com>

On Mon, Oct 17, 2011 at 17:58, not disclosed wrote:
>
> TL,
>
> I'm using texlive-bin-latex-2010-4.6
>
> The tikz package included with texlive appears to be so out of date it is
> not
> functional (since gnuplot changes in 2005).
>
> tikz uses gnuplot to produce graphs.  The interface gnuplot uses changed in
> 2005. The current tikz works but the one included in opensuse is so out of
> date
> it doesn't without a hack.
>
> The fix is _very_ simple:
>
> line 288 of /usr/share/texmf/tex/generic/pgf/modules/pgfmoduleplot.code.tex
> needs to have the word "terminal" removed and it should then look like this:
>
> \xdef\pgf at gnuplot@head#1{set table; set output "#1.table"; set format
> "%.5f"}
>
> Any chance this could be fixed?

Ask on the SuSE list to upgrade to TeX Live 2011 (or to fix this). TeX
Live developers are not able to help you since upstream version is
working.

Mojca

From markus.kohm at gmx.de  Tue Oct 18 08:47:45 2011
From: markus.kohm at gmx.de (Markus Kohm)
Date: Tue, 18 Oct 2011 08:47:45 +0200
Subject: [tex-live] (no subject)
In-Reply-To: <CALBOmsZqytVU_kajU++LZzCA5_iG4PNjywDr_SD1EWKD2DgiCg@mail.gmail.com>
References: <DUB106-W60A8EA0132CCF5E1FFB623D8E40@phx.gbl>
 <CALBOmsZqytVU_kajU++LZzCA5_iG4PNjywDr_SD1EWKD2DgiCg@mail.gmail.com>
Message-ID: <201110180847.47252@komascript.de>

Am Montag, 17. Oktober 2011 schrieb Mojca Miklavec:
> Ask on the SuSE list to upgrade to TeX Live 2011

TeX Live 2011 is already part of OBS projekt Publishing, see 
<http://download.opensuse.org/repositories/Publishing/openSUSE_11.4>. There's 
a one-click installation button at 
<http://software.opensuse.org/search?q=texlive&baseproject=openSUSE%3A11.4&exclude_debug=true>

Disclaimer: I'm using upstrem version of TeX Live. So I don't know any thing 
else about texlive at Publishing, but last update of the packages was at 10-
Oct-2011.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20111018/905be448/attachment.bin>

From werner at suse.de  Tue Oct 18 10:10:31 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 18 Oct 2011 10:10:31 +0200
Subject: [tex-live] Memory curruption (Was: no subject)
In-Reply-To: <201110180847.47252@komascript.de>
References: <DUB106-W60A8EA0132CCF5E1FFB623D8E40@phx.gbl>
 <CALBOmsZqytVU_kajU++LZzCA5_iG4PNjywDr_SD1EWKD2DgiCg@mail.gmail.com>
 <201110180847.47252@komascript.de>
Message-ID: <20111018081031.GA29945@boole.suse.de>

On Tue, Oct 18, 2011 at 08:47:45AM +0200, Markus Kohm wrote:
> Am Montag, 17. Oktober 2011 schrieb Mojca Miklavec:
> > Ask on the SuSE list to upgrade to TeX Live 2011
> 
> TeX Live 2011 is already part of OBS projekt Publishing, see 
> <http://download.opensuse.org/repositories/Publishing/openSUSE_11.4>. There's 
> a one-click installation button at 
> <http://software.opensuse.org/search?q=texlive&baseproject=openSUSE%3A11.4&exclude_debug=true>
> 
> Disclaimer: I'm using upstrem version of TeX Live. So I don't know any thing 
> else about texlive at Publishing, but last update of the packages was at 10-
> Oct-2011.

As maintainer of TeX Live for openSuSE I've run on a problem with eptex
dumping platex.  During beta test we always set some environment variables
in our build system like MALLOC_CHECK_=3 and MALLOC_PERTURB_=69.  With
this I see in the logs as well as in a clean chroot build environment:

 eptex -ini  -jobname=platex -progname=platex \*platex.ini
 This is e-pTeX, Version 3.1415926-p3.2-110415-2.3 (utf8.euc) (TeX Live 2011) (INITEX)
 restricted \write18 enabled.
 entering extended mode
 (/tmp/=/usr/share/texmf/tex/platex/config/platex.ini
 <<< making "platex with Babel" format >>>
 (/tmp/=/usr/share/texmf/tex/platex/base/platex.ltx
 (/tmp/=/usr/share/texmf/tex/latex/base/latex.ltx
 [...]
 **************************
 *
 * making pLaTeX format
 *
 **************************
 (/tmp/=/usr/share/texmf/tex/platex/base/plcore.ltx
 ! Dimension too large.
 \adjustbaseline ...djust at box \cwd \wd \adjust at box 
                                                   \cvs \normalbaselineskip \...
 l.628 \adjustbaseline

 ? x
 No pages of output.
 Transcript written on platex.log.

from tail of platex.log:

 (/tmp/=/usr/share/texmf/tex/latex/base/ltpatch.ltx)
 )
 **************************
 *
 * making pLaTeX format
 *
 **************************
 (/tmp/=/usr/share/texmf/tex/platex/base/plcore.ltx
 \Cht=\dimen102
 \cht=\dimen103
 \Cdp=\dimen104
 \cdp=\dimen105
 \Cwd=\dimen106
 \cwd=\dimen107
 \Cvs=\dimen108
 \cvs=\dimen109
 \Chs=\dimen110
 \chs=\dimen111
 \cHT=\dimen112
 \tstrutbox=\box26
 \zstrutbox=\box27
 LaTeX Info: Redefining \selectfont on input line 379.
 \adjust at box=\box28
 \adjust at dimen=\dimen113
 LaTeX Info: Redefining \fontencoding on input line 500.
 LaTeX Info: Redefining \fontfamily on input line 548.
 LaTeX Info: Redefining \fontseries on input line 601.
 LaTeX Info: Redefining \fontshape on input line 604.
 LaTeX Info: Redefining \normalfont on input line 618.

 ! Dimension too large.
 \adjustbaseline ...djust at box \cwd \wd \adjust at box 
                                                   \cvs \normalbaselineskip
\...
 l.628 \adjustbaseline

 ? x

 Here is how much of TeX's memory you used:
  4131 strings out of 498426
  56505 string characters out of 3222515
  47789 words of memory out of 3500000
  3394 multiletter control sequences out of 15000+200000
  3640 words of font info for 14 fonts, out of 3000000 for 9000
  745 hyphenation exceptions out of 8191
  21i,0n,20p,263b,76s stack positions out of 5000i,500n,10000p,200000b,50000s
 No pages of output.

No if I do

 unset MALLOC_PERTURB

the dump works flawless. But IMHO there is a problem with a possible
memory curruption due access to freed memory ... or simply a missing
memset(.., 0, ..).

       Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From werner at suse.de  Tue Oct 18 10:24:42 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 18 Oct 2011 10:24:42 +0200
Subject: [tex-live] Memory curruption (Was: no subject)
In-Reply-To: <20111018081031.GA29945@boole.suse.de>
References: <DUB106-W60A8EA0132CCF5E1FFB623D8E40@phx.gbl>
 <CALBOmsZqytVU_kajU++LZzCA5_iG4PNjywDr_SD1EWKD2DgiCg@mail.gmail.com>
 <201110180847.47252@komascript.de>
 <20111018081031.GA29945@boole.suse.de>
Message-ID: <20111018082442.GA30290@boole.suse.de>

On Tue, Oct 18, 2011 at 10:10:31AM +0200, Werner Fink wrote:
> 
>  eptex -ini  -jobname=platex -progname=platex \*platex.ini
>  This is e-pTeX, Version 3.1415926-p3.2-110415-2.3 (utf8.euc) (TeX Live 2011) (INITEX)
>  restricted \write18 enabled.
>  entering extended mode
>  (/tmp/=/usr/share/texmf/tex/platex/config/platex.ini
>  <<< making "platex with Babel" format >>>
>  (/tmp/=/usr/share/texmf/tex/platex/base/platex.ltx
>  (/tmp/=/usr/share/texmf/tex/latex/base/latex.ltx
>  [...]
>  **************************
>  *
>  * making pLaTeX format
>  *
>  **************************
>  (/tmp/=/usr/share/texmf/tex/platex/base/plcore.ltx
>  ! Dimension too large.
>  \adjustbaseline ...djust at box \cwd \wd \adjust at box 
>                                                    \cvs \normalbaselineskip \...
>  l.628 \adjustbaseline
> 
>  ? x
>  No pages of output.
>  Transcript written on platex.log.
> 
> from tail of platex.log:
> 
>  (/tmp/=/usr/share/texmf/tex/latex/base/ltpatch.ltx)
>  )
>  **************************
>  *
>  * making pLaTeX format
>  *
>  **************************
>  (/tmp/=/usr/share/texmf/tex/platex/base/plcore.ltx
>  \Cht=\dimen102
>  \cht=\dimen103
>  \Cdp=\dimen104
>  \cdp=\dimen105
>  \Cwd=\dimen106
>  \cwd=\dimen107
>  \Cvs=\dimen108
>  \cvs=\dimen109
>  \Chs=\dimen110
>  \chs=\dimen111
>  \cHT=\dimen112
>  \tstrutbox=\box26
>  \zstrutbox=\box27
>  LaTeX Info: Redefining \selectfont on input line 379.
>  \adjust at box=\box28
>  \adjust at dimen=\dimen113
>  LaTeX Info: Redefining \fontencoding on input line 500.
>  LaTeX Info: Redefining \fontfamily on input line 548.
>  LaTeX Info: Redefining \fontseries on input line 601.
>  LaTeX Info: Redefining \fontshape on input line 604.
>  LaTeX Info: Redefining \normalfont on input line 618.
> 
>  ! Dimension too large.
>  \adjustbaseline ...djust at box \cwd \wd \adjust at box 
>                                                    \cvs \normalbaselineskip
> \...
>  l.628 \adjustbaseline
> 
>  ? x
> 
>  Here is how much of TeX's memory you used:
>   4131 strings out of 498426
>   56505 string characters out of 3222515
>   47789 words of memory out of 3500000
>   3394 multiletter control sequences out of 15000+200000
>   3640 words of font info for 14 fonts, out of 3000000 for 9000
>   745 hyphenation exceptions out of 8191
>   21i,0n,20p,263b,76s stack positions out of 5000i,500n,10000p,200000b,50000s
>  No pages of output.

I've identified:

 texmf/tex/platex/base/plcore.ltx

with

 \newbox\adjust at box
 \newdimen\adjust at dimen
 \def\adjustbaseline{%
     \setbox\adjust at box\hbox{\char\euc"A1A1}%
     \cht\ht\adjust at box
     \cdp\dp\adjust at box
     \cwd\wd\adjust at box
     \cvs\normalbaselineskip
     \chs\cwd
     \cHT\cht \advance\cHT\cdp
   \iftdir
     \setbox\adjust at box\hbox{\tbaselineshift\z@ M}%
     \adjust at dimen\ht\adjust at box
     \advance\adjust at dimen\dp\adjust at box
     \advance\adjust at dimen-\cHT
     \divide\adjust at dimen\tw@
     \advance\adjust at dimen\cdp
     \advance\adjust at dimen-\dp\adjust at box
     \tbaselineshift\adjust at dimen
   \fi}

as cause, that is that the command

  \wd \adjust at box 

returns an invalid number (added \typeout{\number\wd\adjust at box} for check)
Using a single byte character instead of "A1A1 works flawless.

    Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From pander at users.sourceforge.net  Tue Oct 18 12:44:16 2011
From: pander at users.sourceforge.net (Pander)
Date: Tue, 18 Oct 2011 12:44:16 +0200
Subject: [tex-live] Missing DejaVu Extra Light font file
Message-ID: <4E9D5880.6060100@users.sourceforge.net>

Hi all,

The CTAN package http://ctan.org/pkg/dejavu is missing the font file
DejaVu Sans Extra Light (DejaVuSans-ExtraLight.ttf)

Pavel, please add it to the CTAN package so that TeX Live can update the
distribution of it.

Thanks,

Pander

From kakuto at fuk.kindai.ac.jp  Tue Oct 18 13:55:37 2011
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 18 Oct 2011 20:55:37 +0900
Subject: [tex-live] Memory curruption (Was: no subject)
In-Reply-To: <20111018081031.GA29945@boole.suse.de>
References: <20111018081031.GA29945@boole.suse.de>
Message-ID: <1318938937193364000045b3@sniffer>

Dear Werner,

> As maintainer of TeX Live for openSuSE I've run on a problem with eptex
> dumping platex.  During beta test we always set some environment variables
> in our build system like MALLOC_CHECK_=3 and MALLOC_PERTURB_=69.  

This was known and fixed by the author of e-pTeX in the
TeX Live svn trunk. Corresponding binaries are not yet built in TeX
Live.

Thanks,
Akira


From peb at mppmu.mpg.de  Tue Oct 18 14:26:42 2011
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Tue, 18 Oct 2011 14:26:42 +0200 (CEST)
Subject: [tex-live] Memory curruption (Was: no subject)
Message-ID: <alpine.LNX.2.00.1110181414150.21619@pcl321.mppmu.mpg.de>

On Oct 18 13:55:37, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:

>> As maintainer of TeX Live for openSuSE I've run on a problem with eptex
>> dumping platex.  During beta test we always set some environment variables
>> in our build system like MALLOC_CHECK_=3 and MALLOC_PERTURB_=69.

> This was known and fixed by the author of e-pTeX in the
> TeX Live svn trunk. Corresponding binaries are not yet built in TeX
> Live.

Dear Werner,

the patch from from Hironori Kitagawa was applied on 25 Aug (TeX Live SVN
trunk r23688).  Please let us know if that patch resolves the problem.

Regards
Peter Breitenlohner <peb at mppmu.mpg.de>

From werner at suse.de  Tue Oct 18 15:31:19 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 18 Oct 2011 15:31:19 +0200
Subject: [tex-live] Memory curruption (Was: no subject)
In-Reply-To: <1318938937193364000045b3@sniffer>
References: <20111018081031.GA29945@boole.suse.de>
 <1318938937193364000045b3@sniffer>
Message-ID: <20111018133119.GA21879@boole.suse.de>

On Tue, Oct 18, 2011 at 08:55:37PM +0900, Akira Kakuto wrote:
> Dear Werner,
> 
> > As maintainer of TeX Live for openSuSE I've run on a problem with eptex
> > dumping platex.  During beta test we always set some environment variables
> > in our build system like MALLOC_CHECK_=3 and MALLOC_PERTURB_=69.  
> 
> This was known and fixed by the author of e-pTeX in the
> TeX Live svn trunk. Corresponding binaries are not yet built in TeX
> Live.

>From SVN this seems not to be easy to reconstruct ... is there a final
patch out there?

       Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From afendi at uthm.edu.my  Tue Oct 18 08:33:18 2011
From: afendi at uthm.edu.my (Mohd Asrul Affendi Abdullah)
Date: Tue, 18 Oct 2011 14:33:18 +0800 (MYT)
Subject: [tex-live] requested
Message-ID: <1463983469.26518.1318919598052.JavaMail.root@mail.uthm.edu.my>

I used TExLive 2011 and i got problem when i use natbib package,,the error exists like 


! Package natbib Error: Bibliography not compatible with author-year citations.

(natbib)                Press <return> to continue in numerical citation style.


See the natbib package documentation for explanation.
Type  H <return>  for immediate help.

What i should to do..

Thank u
Regards,
asrul

MOHD ASRUL AFFENDI BIN ABDULLAH.
FACULTY SCIENCE,ART AND HERRITAGE,
86400,JALAN PARIT RAJA,
BATU PAHAT.
JOHOR


From peb at mppmu.mpg.de  Tue Oct 18 16:11:28 2011
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Tue, 18 Oct 2011 16:11:28 +0200 (CEST)
Subject: [tex-live] Memory curruption (Was: no subject)
Message-ID: <alpine.LNX.2.00.1110181606550.21619@pcl321.mppmu.mpg.de>

On Tue, Oct 18 2011, Werner Fink wrote:

> From SVN this seems not to be easy to reconstruct ... is there a final
> patch out there?

No there is not (yet).  If you test with the current SVN trunk and find that
the problem has disappeared, we could probably port this to the 2011 branch.

Regards
Peter Breitenlohner <peb at mppmu.mpg.de>

From lomov.vl at gmail.com  Tue Oct 18 16:38:59 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Tue, 18 Oct 2011 23:38:59 +0900
Subject: [tex-live] requested
In-Reply-To: <1463983469.26518.1318919598052.JavaMail.root@mail.uthm.edu.my>
References: <1463983469.26518.1318919598052.JavaMail.root@mail.uthm.edu.my>
Message-ID: <20111018143859.GF1106@smoon>

Hello,
** Mohd Asrul Affendi Abdullah [2011-10-18 14:33:18 +0800]:

> I used TExLive 2011 and i got problem when i use natbib package,,the error exists like 


> ! Package natbib Error: Bibliography not compatible with author-year citations.

> (natbib)                Press <return> to continue in numerical citation style.


> See the natbib package documentation for explanation.
> Type  H <return>  for immediate help.

> What i should to do..

First, read carefully the terms of this mailing list usage, then ask
help on texhax mailing list, and, at very first place of all: read the
documentation as message suggests :).

---
WBR, Vladimir Lomov

-- 
There seems no plan because it is all plan.
		-- C.S. Lewis

From werner at suse.de  Tue Oct 18 17:05:59 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 18 Oct 2011 17:05:59 +0200
Subject: [tex-live] Memory curruption (Was: no subject)
In-Reply-To: <alpine.LNX.2.00.1110181414150.21619@pcl321.mppmu.mpg.de>
 <alpine.LNX.2.00.1110181606550.21619@pcl321.mppmu.mpg.de>
Message-ID: <20111018150559.GA27433@boole.suse.de>

On Tue, Oct 18, 2011 at 02:26:42PM +0200, Peter Breitenlohner wrote:
> On Oct 18 13:55:37, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
> 
> >>As maintainer of TeX Live for openSuSE I've run on a problem with eptex
> >>dumping platex.  During beta test we always set some environment variables
> >>in our build system like MALLOC_CHECK_=3 and MALLOC_PERTURB_=69.
> 
> >This was known and fixed by the author of e-pTeX in the
> >TeX Live svn trunk. Corresponding binaries are not yet built in TeX
> >Live.
> 
> Dear Werner,
> 
> the patch from from Hironori Kitagawa was applied on 25 Aug (TeX Live SVN
> trunk r23688).  Please let us know if that patch resolves the problem.

No it does not:

 + echo 'Patch #15 (source-eptex.dif):'
 Patch #15 (source-eptex.dif):
 + /bin/cat /usr/src/packages/SOURCES/source-eptex.dif
 + /usr/bin/patch -s -p0 -b --suffix .eptex --fuzz=0

...

 fmtutil: /tmp/=/var/lib/texmf/web2c/eptex/eptex.fmt installed.
 fmtutil: running `eptex -ini   -jobname=platex -progname=platex *platex.ini' ...
 This is e-pTeX, Version 3.1415926-p3.2-110415-2.3 (utf8.euc) (TeX Live 2011) (INITEX)

...

 (/tmp/=/usr/share/texmf/tex/platex/base/plcore.ltx
 ! Dimension too large.
 \adjustbaseline ...djust at box \cwd \wd \adjust at box 
                                                  \cvs \normalbaselineskip \...
 l.628 \adjustbaseline
                     
 ? 
 ! Emergency stop.
 \adjustbaseline ...djust at box \cwd \wd \adjust at box 
                                                   \cvs \normalbaselineskip \...
 l.628 \adjustbaseline
                     
 No pages of output.

I've attached the minimal patch I used for the build

       Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: source-eptex.dif
Type: text/x-patch
Size: 1637 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111018/f61987af/attachment.bin>

From h_kitagawa2001 at yahoo.co.jp  Wed Oct 19 00:44:35 2011
From: h_kitagawa2001 at yahoo.co.jp (Hironori Kitagawa)
Date: Wed, 19 Oct 2011 07:44:35 +0900
Subject: [tex-live] Fw: Re:  Memory curruption (Was: no subject)
Message-ID: <20111019074435.f9b9566b.h_kitagawa2001@yahoo.co.jp>


Oh, I forgot to include tex-live mailing list in CC,
so I forward the reply for convenience:

-- 
Hironori Kitagawa <h_kitagawa2001 at yahoo.co.jp>


Begin forwarded message:

Date: Wed, 19 Oct 2011 07:18:13 +0900
From: Hironori Kitagawa <h_kitagawa2001 at yahoo.co.jp>
To: "Dr. Werner Fink" <werner at suse.de>
Subject: Re: [tex-live] Memory curruption (Was: no subject)


Dear Werner,

My name is Hironori Kitagawa, and I'm an author of e-pTeX.
I'm very sorry for the late reply.

The patch for this problem is already included in svn trunk,
but the corresponding commit is not r23688, but (a fragment of) r23592.
I've attached the minimal patch to this e-mail, and I hope that it works.

# The changes in r23688 (just you attached in the last e-mail) 
# will be also needed for `e-pTRIP test'.

On Tue, 18 Oct 2011 17:05:59 +0200
"Dr. Werner Fink" <werner at suse.de> wrote:

> On Tue, Oct 18, 2011 at 02:26:42PM +0200, Peter Breitenlohner wrote:
> > On Oct 18 13:55:37, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
> > 
> > >>As maintainer of TeX Live for openSuSE I've run on a problem with eptex
> > >>dumping platex.  During beta test we always set some environment variables
> > >>in our build system like MALLOC_CHECK_=3 and MALLOC_PERTURB_=69.
> > 
> > >This was known and fixed by the author of e-pTeX in the
> > >TeX Live svn trunk. Corresponding binaries are not yet built in TeX
> > >Live.
> > 
> > Dear Werner,
> > 
> > the patch from from Hironori Kitagawa was applied on 25 Aug (TeX Live SVN
> > trunk r23688).  Please let us know if that patch resolves the problem.
> 
> No it does not:

Regards
Hironori Kitagawa <h_kitagawa2001 at yahoo.co.jp>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: ptex-20110723-nullfont.diff
URL: <http://tug.org/pipermail/tex-live/attachments/20111019/bd37503f/attachment-0001.ksh>

From werner at suse.de  Wed Oct 19 14:23:08 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 19 Oct 2011 14:23:08 +0200
Subject: [tex-live] Fw: Re:  Memory curruption (Was: no subject)
In-Reply-To: <20111019074435.f9b9566b.h_kitagawa2001@yahoo.co.jp>
References: <20111019074435.f9b9566b.h_kitagawa2001@yahoo.co.jp>
Message-ID: <20111019122308.GA14600@boole.suse.de>

On Wed, Oct 19, 2011 at 07:44:35AM +0900, Hironori Kitagawa wrote:
> 
> The patch for this problem is already included in svn trunk,
> but the corresponding commit is not r23688, but (a fragment of) r23592.
> I've attached the minimal patch to this e-mail, and I hope that it works.
> 
> # The changes in r23688 (just you attached in the last e-mail) 
> # will be also needed for `e-pTRIP test'.
> 
> Regards
> Hironori Kitagawa <h_kitagawa2001 at yahoo.co.jp>
> 

Thanks a lot, this one does it

[... patch deleted ...]


   Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From haines at histomat.net  Wed Oct 19 15:30:15 2011
From: haines at histomat.net (Haines Brown)
Date: Wed, 19 Oct 2011 09:30:15 -0400
Subject: [tex-live] Messed up TL installation
Message-ID: <20111019133015.GA25863@HistoricalMaterialism.info>

I am running Debian Squeeze and installed its version of TeXLive 2009. 
However, I needed to upgrade TL to 2011 from CTAN. I read on line the 
advice to delete an old version of TL before installing a newer 
version. What I did was to delete the texmf directories, and that got 
me into trouble that I've been trying to rectify.

My initial question is, if one is upgrading to CTAN 2011, is it true 
that old versions of TL should be removed first? If so, does this 
refer to both TL 2010 and TL 2009? By "removal" does that use of a 
package manager, such as aptitude purge? But if the old TL was 
installed manually, what is the best way to remove it?

I not only removed the old texmf directories, but also ran # aptitude 
purge texlive. I then installed TL 2011 from CTAN using the install-tl 
binary. This procedure messed things up in various ways it seems, and 
I'm trying to recover.

Although I can run latex, lualatex, biber commands on .tex documents, 
when I tried to install a CTAN package using $ sudo tlmgr, I could not 
do it because I was told texlive-common and texlive-base were not 
configured. Then I tried to run # tlmgr (using su rather than sudo), 
and this time it installed the package but also configured 
texlive-common and texlive-base. However, this configuration was 
applied to TL 2009!

  # dpkg --configure texlive-base
    Setting up texlive-base (2009-11) ...  
    ...

So apparently, although I removed texmf driectories and purged 
texlive, my system still thinks it has TL 2009. While aptitude says 
"no":

  $ aptitude show texlive
  Package: texlive                         
  State: not installed
  Version: 2009-11
  ...

apt cache sees it: 
  
  $ ls /var/cache/apt/archives/ | grep texlive
  texlive_2009-11_all.deb
  ...

Should I have first removed all texlive_2009 packages from the 
archive?

In going through this, somehow I messed up my environment for texlive. 
For example, user can run tlmgr:

  $ which tlmgr
  /usr/local/texlive/2011/bin/i386-linux/tlmgr

But I can't run it by using sudo: 

  $ sudo tlmgr -gui
  sudo: tlmgr: command not found

unless the full path is provided: 

  $ sudo /usr/local/texlive/2011/bin/i386-linux/tlmgr -gui
  Loading local TeX Live Database
  This may take some time, please wait!
  Completed.

If I use su to become root, I can run tlmgr:
  
  # which tlmgr
  /usr/local/texlive/2011/bin/i386-linux/tlmgr

But it seems that tlmgr is in the environment in either case:

  $ sudo echo $PATH
  /usr/local/texlive/2011/bin/i386-linux:
  /usr/local/texlive/2011/bin/i386-linux:
  /usr/local/bin:
  /usr/bin:
  /bin:
  /usr/local/games:/usr/games
  
  # echo $PATH
  /usr/local/texlive/2011/bin/i386-linux:
  /usr/local/sbin:
  /usr/local/bin:
  /usr/sbin:
  /usr/bin:
  /sbin:/bin

Sudo uses user's environment (sudo user's the double path to texlive 
because the path is defined in both ~/.bashrc and in ~/.profile), but 
root looks to /etc/bash.bashrc where I had to manually append:

  PATH=/usr/local/texlive/2011/bin/i386-linux:$PATH; export PATH

I've spent so much time running around in circles on this that I'm 
tempted to buy a new hard disk and install debian from scratch. It 
would be far less costly to do so, but I still am not comfortable 
about installing texlive from CTAN without messing things up, such as 
where to manually define paths.

Haines Brown

From pander at users.sourceforge.net  Wed Oct 19 16:03:52 2011
From: pander at users.sourceforge.net (Pander)
Date: Wed, 19 Oct 2011 16:03:52 +0200
Subject: [tex-live] Problems with Antykwa Poltawskiego
Message-ID: <4E9ED8C8.5050800@users.sourceforge.net>

Hi all,

TeX Live 2011 ships Antykwa Poltawskiego in:
- 'normal'
- lt (light)
- cond
- expd
- ltcond
- ltexpd
- ltsemicond
- ltsemiexpd
- semiexpd
- semicond
but only:
- 'normal'
- lt (light)
are available to TeX.

The files for the other fonts can be succesfuly viewed with
gnome-fontviewer and can be listed with fc-list and fc-cat but I am not
able to eacutally use them.

I have tried all combinations of name, style and fullname but without
result. They default to 'normal' or lt.

Since it also only 'normal' and lt are available in Inkscape and
oowriter, this is not a (Xe)TeX problem but I suspect something is wrong
with the font files or how fontconfig interacts with them.

Can someone use all the fonts listed above? What would be a good way to
fix this situation?

Regards,

Pander

From lomov.vl at gmail.com  Wed Oct 19 16:13:05 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Wed, 19 Oct 2011 23:13:05 +0900
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111019133015.GA25863@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
Message-ID: <20111019141305.GJ1106@smoon>

Hello,
** Haines Brown [2011-10-19 09:30:15 -0400]:

> I am running Debian Squeeze and installed its version of TeXLive 2009. 
> However, I needed to upgrade TL to 2011 from CTAN. I read on line the 
> advice to delete an old version of TL before installing a newer 
> version. What I did was to delete the texmf directories, and that got 
> me into trouble that I've been trying to rectify.

I'll try to be brief.

> My initial question is, if one is upgrading to CTAN 2011, is it true 
> that old versions of TL should be removed first? If so, does this 
> refer to both TL 2010 and TL 2009? By "removal" does that use of a 
> package manager, such as aptitude purge? But if the old TL was 
> installed manually, what is the best way to remove it?

You should understand that there is TeX Live distribution, current one
is TeX Live 2011, which is independent of any Linux distributions
(Debian, Ubuntu, Fedora, Arch Linux and etc) _and_ texlive packages
provided by Linux distrubtion that should be installed by using package
manager (apt-get or dpkg, I don't know the proper name of it for Debian,
sorry).

You could install TeX Live 2011 _and_ texlive packages. The later will
be placed in standard directories like /usr/bin for programs and
/usr/share for data. When you install TeX Live 2011 you first choose
the directory in which it will be installed (usually
/usr/loca/texlive/2011). As you can see, both use different paths.

Usually, the path to TeX Live programs
(/usr/local/texlive/2011/ARCH/bin) is prepended to the PATH variable in
order to run them (pdflatex, xelatex, lualatex) prior to the package
ones (this is what you want).

> I not only removed the old texmf directories, but also ran # aptitude 
> purge texlive. I then installed TL 2011 from CTAN using the install-tl 
> binary. This procedure messed things up in various ways it seems, and 
> I'm trying to recover.

> Although I can run latex, lualatex, biber commands on .tex documents, 
> when I tried to install a CTAN package using $ sudo tlmgr, I could not 
> do it because I was told texlive-common and texlive-base were not 
> configured. Then I tried to run # tlmgr (using su rather than sudo), 
> and this time it installed the package but also configured 
> texlive-common and texlive-base. However, this configuration was 
> applied to TL 2009!

IMO, what is happened here: you run dpkg as root (I would use sudo
instead), but the PATH is set as I described above: dpkg is using TeX Live
programs not, as it would expect, texlive ones. To avoid that
confusion, you have to run at first

# export PATH=/bin:/usr/bin:/sbin:/usr/sbin:$PATH
and then

>   # dpkg --configure texlive-base
>     Setting up texlive-base (2009-11) ...  
>     ...

> So apparently, although I removed texmf driectories and purged 
> texlive, my system still thinks it has TL 2009. While aptitude says 
> "no":

>   $ aptitude show texlive
>   Package: texlive                         
>   State: not installed
>   Version: 2009-11
>   ...

> apt cache sees it: 

>   $ ls /var/cache/apt/archives/ | grep texlive
>   texlive_2009-11_all.deb
>   ...

> Should I have first removed all texlive_2009 packages from the 
> archive?

> In going through this, somehow I messed up my environment for texlive. 
> For example, user can run tlmgr:

>   $ which tlmgr
>   /usr/local/texlive/2011/bin/i386-linux/tlmgr

> But I can't run it by using sudo: 

>   $ sudo tlmgr -gui
>   sudo: tlmgr: command not found

> unless the full path is provided: 

>   $ sudo /usr/local/texlive/2011/bin/i386-linux/tlmgr -gui
>   Loading local TeX Live Database
>   This may take some time, please wait!
>   Completed.

> If I use su to become root, I can run tlmgr:

>   # which tlmgr
>   /usr/local/texlive/2011/bin/i386-linux/tlmgr

> But it seems that tlmgr is in the environment in either case:

>   $ sudo echo $PATH
>   /usr/local/texlive/2011/bin/i386-linux:
>   /usr/local/texlive/2011/bin/i386-linux:
>   /usr/local/bin:
>   /usr/bin:
>   /bin:
>   /usr/local/games:/usr/games

>   # echo $PATH
>   /usr/local/texlive/2011/bin/i386-linux:
>   /usr/local/sbin:
>   /usr/local/bin:
>   /usr/sbin:
>   /usr/bin:
>   /sbin:/bin

> Sudo uses user's environment (sudo user's the double path to texlive 
> because the path is defined in both ~/.bashrc and in ~/.profile), but 
> root looks to /etc/bash.bashrc where I had to manually append:

>   PATH=/usr/local/texlive/2011/bin/i386-linux:$PATH; export PATH

> I've spent so much time running around in circles on this that I'm 
> tempted to buy a new hard disk and install debian from scratch. It 
> would be far less costly to do so, but I still am not comfortable 
> about installing texlive from CTAN without messing things up, such as 
> where to manually define paths.

> Haines Brown

Norbert Preining, Debian maintainer of texlive packages monitor this
list too, so he can answer on more Debian-specific questions.

---
WBR, Vladimir Lomov

-- 
Hey, I had to let awk be better at *something*...  :-)
             -- Larry Wall in <1991Nov7.200504.25280 at netlabs.com>1

From pander at users.sourceforge.net  Wed Oct 19 16:24:00 2011
From: pander at users.sourceforge.net (Pander)
Date: Wed, 19 Oct 2011 16:24:00 +0200
Subject: [tex-live] Missing DejaVu Extra Light font file
In-Reply-To: <4E9D5880.6060100@users.sourceforge.net>
References: <4E9D5880.6060100@users.sourceforge.net>
Message-ID: <4E9EDD80.7040200@users.sourceforge.net>

On 2011-10-18 12:44, Pander wrote:
> Hi all,
> 
> The CTAN package http://ctan.org/pkg/dejavu is missing the font file
> DejaVu Sans Extra Light (DejaVuSans-ExtraLight.ttf)
> 
> Pavel, please add it to the CTAN package so that TeX Live can update the
> distribution of it.
> 
> Thanks,
> 
> Pander

Another issue related to the new version of DejaVu shipped with TeX Live
2011 can be found here: https://bugs.freedesktop.org/show_bug.cgi?id=41998

From zdenek.wagner at gmail.com  Wed Oct 19 16:27:20 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 19 Oct 2011 16:27:20 +0200
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111019133015.GA25863@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
Message-ID: <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>

2011/10/19 Haines Brown <haines at histomat.net>:
> I am running Debian Squeeze and installed its version of TeXLive 2009.
> However, I needed to upgrade TL to 2011 from CTAN. I read on line the
> advice to delete an old version of TL before installing a newer
> version. What I did was to delete the texmf directories, and that got
> me into trouble that I've been trying to rectify.
>
I think Debian has its own dummy package that does not install
anything but keeps the dependencies. The problem is that various
packages depend on TeX so that you cannot just remove it. However, you
can install TeX Live and prepend it to your PATH and MANPATH. First,
as a root, I create /usr/local/texlive and make it writable by me. All
TL versions will be there as default. Afterwards I install TL as a
normal user and later can do "tlmgr update" again as a normal user. It
is possible to have several versions of TL and switch between them. I
have a lot of space on one computer so that I can keep 2007 to 2011
and just by changing PATH I can decide which one to use.

-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From siepo at cybercomm.nl  Wed Oct 19 18:03:26 2011
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 19 Oct 2011 18:03:26 +0200
Subject: [tex-live] Messed up TL installation
In-Reply-To: <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>
Message-ID: <20111019160326.GA3274@molly>

On Wed, Oct 19, 2011 at 04:27:20PM +0200, Zdenek Wagner wrote:
> 2011/10/19 Haines Brown <haines at histomat.net>:
> > I am running Debian Squeeze and installed its version of TeXLive 2009.
> > However, I needed to upgrade TL to 2011 from CTAN. I read on line the
> > advice to delete an old version of TL before installing a newer
> > version. What I did was to delete the texmf directories, and that got
> > me into trouble that I've been trying to rectify.
> >
> I think Debian has its own dummy package that does not install
> anything but keeps the dependencies. The problem is that various

Not quite, but Debian/Ubuntu have a system of creating dummy
packages yourself; see
http://www.tug.org/texlive/debian.html#vanilla

-- 
Siep Kroonenberg

From haines at histomat.net  Wed Oct 19 20:43:31 2011
From: haines at histomat.net (Haines Brown)
Date: Wed, 19 Oct 2011 14:43:31 -0400
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111019141305.GJ1106@smoon>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111019141305.GJ1106@smoon>
Message-ID: <20111019184331.GA14331@HistoricalMaterialism.info>

On Wed, Oct 19, 2011 at 11:13:05PM +0900, Vladimir Lomov wrote:

> You should understand that there is TeX Live distribution, current one
> is TeX Live 2011, which is independent of any Linux distributions
> (Debian, Ubuntu, Fedora, Arch Linux and etc) _and_ texlive packages
> provided by Linux distrubtion that should be installed by using package
> manager (apt-get or dpkg, I don't know the proper name of it for Debian,
> sorry).

Understood. In Debian Squeeze the old TeXLive 2009 metapackage package 
is named "texlive". So it seems that "texlive", which is a metapackage 
for TeXLive 2009, is not really TeX Live despite the similarity of 
names ;-(.
 
> You could install TeX Live 2011 _and_ texlive packages. The later will
> be placed in standard directories like /usr/bin for programs and
> /usr/share for data. When you install TeX Live 2011 you first choose
> the directory in which it will be installed (usually
> /usr/loca/texlive/2011). As you can see, both use different paths.

Also understood. 

> Usually, the path to TeX Live programs
> (/usr/local/texlive/2011/ARCH/bin) is prepended to the PATH variable in
> order to run them (pdflatex, xelatex, lualatex) prior to the package
> ones (this is what you want).

Here I have a question. I logged out and back in, and now have the 
path /usr/local/texlive/2011/bin/i386-linux: defined _five_ times (as 
reported by $ echo $PATH). And this is not the path you just assumed 
it would be, although in fact describes my actual hierarchy. I assume 
there's nothing critically wrong here, but just need to be sure.
 
> IMO, what is happened here: you run dpkg as root (I would use sudo
> instead), but the PATH is set as I described above: dpkg is using TeX Live
> programs not, as it would expect, texlive ones. 

I'm not sure I understand. I apparently inadvertantly reinstalled 
texlive (2009), because I find I now have a /usr/bin/tex and 
directories such as texlive-base in /usr/share. But I gather this is 
not a problem as long as the path is set up right.

> To avoid that confusion, you have to run at first
> 
> # export PATH=/bin:/usr/bin:/sbin:/usr/sbin:$PATH and then
> 
> >   # dpkg --configure texlive-base
> >     Setting up texlive-base (2009-11) ...  
> >     ...

I'm confused. Here it seems you are telling me how to configure 
texlive 2009, when my goal is to configure TeXLive 2011. You seem to 
be telling me to su to # prompt, and then export the paths you 
suggest. However, if I do su, root already has that environment:

  # echo $PATH
  /usr/local/texlive/2011/bin/i386-linux:
  /usr/local/sbin:
  /usr/local/bin:
  /usr/sbin:
  /usr/bin:
  /sbin:/bin

I believe I understand how one can switch between TeXLive 2010 and 
2011 by changeing the path to one or the other, but texlive 2009 has 
no dedicated path, and so the executables are always accessible. I 
have this:

  # ls /usr/bin | grep tex
  ...
  tex

and yet

  # which tex
  /usr/local/texlive/2011/bin/i386-linux/tex



Haines Brown

From haines at histomat.net  Wed Oct 19 21:22:46 2011
From: haines at histomat.net (Haines Brown)
Date: Wed, 19 Oct 2011 15:22:46 -0400
Subject: [tex-live] Messed up TL installation
In-Reply-To: <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>
Message-ID: <20111019192246.GB14331@HistoricalMaterialism.info>

On Wed, Oct 19, 2011 at 04:27:20PM +0200, Zdenek Wagner wrote:
> 2011/10/19 Haines Brown <haines at histomat.net>:
> > I am running Debian Squeeze and installed its version of TeXLive 2009.
> > However, I needed to upgrade TL to 2011 from CTAN. I read on line the
> > advice to delete an old version of TL before installing a newer
> > version. What I did was to delete the texmf directories, and that got
> > me into trouble that I've been trying to rectify.
> >
> I think Debian has its own dummy package that does not install
> anything but keeps the dependencies. The problem is that various
> packages depend on TeX so that you cannot just remove it. 

That was the root of my problems. Someone on line said that to install 
TL 2011, I should first remove the old version. What he meant but did 
not say was to rename or change the PATH for TL 2010. I read it to 
mean remove texlive 2009, which as you surmise did mess a lot of 
things up so badly that perhaps the only way out is to reinstall 
debian from scratch.

> However, you can install TeX Live and prepend it to your PATH and 
> MANPATH. First, as a root, I create /usr/local/texlive and make it 
> writable by me. All TL versions will be there as default. Afterwards 
> I install TL as a normal user and later can do "tlmgr update" again 
> as a normal user. It is possible to have several versions of TL and 
> switch between them. I have a lot of space on one computer so that I 
> can keep 2007 to 2011 and just by changing PATH I can decide which 
> one to use.

When you say "prepend to PATH", do you refer to the point at which the 
CTAN install-tl asks for TEXDIR etc. directories? If so, by default 
the value of TEXDIR is /usr/local/texlive2011. So doesn't this mean 
that the default path is correct and I don't have to prepend anything 
else?

My /usr/local/texlive directory is not currently writable by user. 
That was not a problem because I installed TL 2010 as root (sudo). You seem 
to be offering a way that user can administer TL, but why would I do 
that instead of doing it as sudo?

My immediate problem is not updating TL 2011, but making sure that my 
TL 2011 is properly configured. I would like to do that as sudo. But 
can't as sudo. For example:

  $ sudo tlmgr -gui
  sudo: tlmgr: command not found
 
this because $ sudo which tlmgr returns nothing. The tlmgr is not in 
sudo's environment. Here is where the executable is located:

  # which tlmgr
  /usr/local/texlive/2011/bin/i386-linux/tlmgr

And yet this is in sudo's environment:

  $ sudo echo $PATH | grep texlive
  /usr/local/texlive/2011/bin/i386-linux:...

How can this be? If sudo's environment includes the directory holding 
tlmgr, shouldn't sudo be able to run it?

install-tl ends with the directions:

  Add /usr/local/texlive/2011/texmf/doc/man to MANPATH, if not dynamically
        determined.
  Add /usr/local/texlive/2011/texmf/doc/info to INFOPATH.

  Most importantly, add /usr/local/texlive/2011/bin/i386-linux
  to your PATH for current and future sessions.

I tried adding these three to ~/.bashrc, but that didn't work. So I 
added them instead to ~/.profile. That helped, but I found I could not 
get everything (muttprint, I think) running unless the 
PATH=/usr/local/texlive/2011/bin/i386-linux:$PATH; export PATH line 
was also in .bashrc.

If one installs TL as sudo and if one intends to run TeX commands as 
user, where are these path statements supposed to go?


Haines Brown

From zdenek.wagner at gmail.com  Wed Oct 19 22:12:38 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 19 Oct 2011 22:12:38 +0200
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111019192246.GB14331@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>
 <20111019192246.GB14331@HistoricalMaterialism.info>
Message-ID: <CAC1phyYbE77sPfBix0F4eD=PvutUZmZ06nWn_xaamM3xM=HmRw@mail.gmail.com>

2011/10/19 Haines Brown <haines at histomat.net>:
> On Wed, Oct 19, 2011 at 04:27:20PM +0200, Zdenek Wagner wrote:
>> 2011/10/19 Haines Brown <haines at histomat.net>:
>> > I am running Debian Squeeze and installed its version of TeXLive 2009.
>> > However, I needed to upgrade TL to 2011 from CTAN. I read on line the
>> > advice to delete an old version of TL before installing a newer
>> > version. What I did was to delete the texmf directories, and that got
>> > me into trouble that I've been trying to rectify.
>> >
>> I think Debian has its own dummy package that does not install
>> anything but keeps the dependencies. The problem is that various
>> packages depend on TeX so that you cannot just remove it.
>
> That was the root of my problems. Someone on line said that to install
> TL 2011, I should first remove the old version. What he meant but did
> not say was to rename or change the PATH for TL 2010. I read it to
> mean remove texlive 2009, which as you surmise did mess a lot of
> things up so badly that perhaps the only way out is to reinstall
> debian from scratch.
>
>> However, you can install TeX Live and prepend it to your PATH and
>> MANPATH. First, as a root, I create /usr/local/texlive and make it
>> writable by me. All TL versions will be there as default. Afterwards
>> I install TL as a normal user and later can do "tlmgr update" again
>> as a normal user. It is possible to have several versions of TL and
>> switch between them. I have a lot of space on one computer so that I
>> can keep 2007 to 2011 and just by changing PATH I can decide which
>> one to use.
>
> When you say "prepend to PATH", do you refer to the point at which the
> CTAN install-tl asks for TEXDIR etc. directories? If so, by default
> the value of TEXDIR is /usr/local/texlive2011. So doesn't this mean
> that the default path is correct and I don't have to prepend anything
> else?
>
> My /usr/local/texlive directory is not currently writable by user.
> That was not a problem because I installed TL 2010 as root (sudo). You seem
> to be offering a way that user can administer TL, but why would I do
> that instead of doing it as sudo?
>
> My immediate problem is not updating TL 2011, but making sure that my
> TL 2011 is properly configured. I would like to do that as sudo. But
> can't as sudo. For example:
>
> ?$ sudo tlmgr -gui
> ?sudo: tlmgr: command not found
>
> this because $ sudo which tlmgr returns nothing. The tlmgr is not in
> sudo's environment. Here is where the executable is located:
>
> ?# which tlmgr
> ?/usr/local/texlive/2011/bin/i386-linux/tlmgr
>
> And yet this is in sudo's environment:
>
> ?$ sudo echo $PATH | grep texlive
> ?/usr/local/texlive/2011/bin/i386-linux:...
>
> How can this be? If sudo's environment includes the directory holding
> tlmgr, shouldn't sudo be able to run it?
>
> install-tl ends with the directions:
>
> ?Add /usr/local/texlive/2011/texmf/doc/man to MANPATH, if not dynamically
> ? ? ? ?determined.
> ?Add /usr/local/texlive/2011/texmf/doc/info to INFOPATH.
>
> ?Most importantly, add /usr/local/texlive/2011/bin/i386-linux
> ?to your PATH for current and future sessions.
>
> I tried adding these three to ~/.bashrc, but that didn't work. So I
> added them instead to ~/.profile. That helped, but I found I could not
> get everything (muttprint, I think) running unless the
> PATH=/usr/local/texlive/2011/bin/i386-linux:$PATH; export PATH line
> was also in .bashrc.
>
> If one installs TL as sudo and if one intends to run TeX commands as
> user, where are these path statements supposed to go?
>
It depends. Do you want to run it just as you, or is it a multiuser
system? Do you wish to run it just from a terminal or do you have some
icons ore menu items (in Gnome, KDE or other manager) to start TeX or
an editor with a toolbar for running TeX? Will you sit at the computer
or will you run TeX from another computer via ssh? /etc/profile,
/etc/bashrc or /etc/environment will define the PATH for everybody
while ~/.bashrc and ~/.bash_profile will define it only for you. If it
is defined in a profile, it will be defined for Xorg and all processes
started from Xorg (icons, menu items and even a terminal). It will not
be defined without Xorg, ie in the text terminal started by
Ctrl-Alt-F1 and if you connect via ssh. If it is in bashrc, it will be
defined for any terminal (even that started from Xorg) but not in Xorg
in general. I need both, so this is the relevant part of my
~/.bash_profile:

# Get the aliases and functions
if [ -f ~/.bashrc ]; then
        . ~/.bashrc
fi

And this is the relevant part of my ~/.bashrc:

# User specific aliases and functions
addtopath () {
        if ! echo $PATH | /bin/egrep -q "(^|:)$1($|:)" ; then
           if [ "$2" = "after" ] ; then
              PATH=$PATH:$1
           else
              PATH=$1:$PATH
           fi
        fi
}


# Source global definitions
if [ -f /etc/bashrc ]; then
        . /etc/bashrc
fi

addtopath /usr/local/texlive/2010/bin/$MACHINE-linux
export PATH


Hope this helps.
>
> Haines Brown
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From martin.afanasjew at math.tu-freiberg.de  Wed Oct 19 22:42:47 2011
From: martin.afanasjew at math.tu-freiberg.de (Martin Afanasjew)
Date: Wed, 19 Oct 2011 22:42:47 +0200
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111019192246.GB14331@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>
 <20111019192246.GB14331@HistoricalMaterialism.info>
Message-ID: <4E9F3647.40407@math.tu-freiberg.de>

On 2011-10-19 21:22, Haines Brown wrote:
> My immediate problem is not updating TL 2011, but making sure that my
> TL 2011 is properly configured. I would like to do that as sudo. But
> can't as sudo. For example:
>
>    $ sudo tlmgr -gui
>    sudo: tlmgr: command not found
>
> this because $ sudo which tlmgr returns nothing. The tlmgr is not in
> sudo's environment. Here is where the executable is located:
>
>    # which tlmgr
>    /usr/local/texlive/2011/bin/i386-linux/tlmgr
>
> And yet this is in sudo's environment:
>
>    $ sudo echo $PATH | grep texlive
>    /usr/local/texlive/2011/bin/i386-linux:...
>
> How can this be? If sudo's environment includes the directory holding
> tlmgr, shouldn't sudo be able to run it?
Because your statement from above doesn't print the PATH environment 
variable as seen by sudo but the one from your current session. This is 
because $PATH is expanded by your shell before sudo gets even executed. 
Thus "sudo echo $PATH" and "echo $PATH" result in the same output.

If you want to print the PATH variable as it is seen by sudo you can use

   $ sudo /bin/bash -c 'echo $PATH'

(the single quotes are important) which will run another instance of 
your shell as root and execute "echo $PATH" in its context.

Cheers,
Martin

From axel.retif at mac.com  Thu Oct 20 00:40:46 2011
From: axel.retif at mac.com (Axel E. Retif)
Date: Wed, 19 Oct 2011 17:40:46 -0500
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111019192246.GB14331@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <CAC1phyarMWd1jKkBVSMMDT3Jz1eefgrowau2Uh8Kh9snnvV4pA@mail.gmail.com>
 <20111019192246.GB14331@HistoricalMaterialism.info>
Message-ID: <4E9F51EE.5080807@mac.com>

On 10/19/2011 02:22 PM, Haines Brown wrote:

[...]

> I read it to
> mean remove texlive 2009, which as you surmise did mess a lot of
> things up so badly that perhaps the only way out is to reinstall
> debian from scratch.

Maybe. But try reinstalling first TeXLive from Debian and see if your 
system returns to a stable condition; otherwise, yes, do a reinstall.

[...]

> When you say "prepend to PATH", do you refer to the point at which the
> CTAN install-tl asks for TEXDIR etc. directories?

No, what he meant is this: read

http://www.tug.org/texlive/debian.html

	Make sure your path is set up correctly and points to the TeX
	Live binaries (regardless of whether you are in a shell, a X
	session, etc.) You can set it system-wide in /etc/profile and
	/etc/login.defs.

That's what I did in Linux Mint Debian Edition (LMDE) and it worked fine 
(now I'm back to Ubuntu [11.10], where I use /etc/environment).

Be careful when setting the path: the best is to drag the directory 
containing the binaries to a terminal window, and then copy the path:

	/usr/local/texlive/2011/bin/x86_64-linux

In /etc/login.defs you'll see something like this:

	ENV_SUPATH	PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:
			     /usr/bin:/sbin:/bin
	ENV_PATH	PATH=/usr/local/bin:/usr/bin:/bin:
			     /usr/local/games:/usr/games

Prepending your path means putting the TeXLive binaries path *before* 
/usr/local/sbin (in ENV_SUPATH) and /usr/local/bin (in ENV_PATH). *Don't 
forget* to put a colon (:) *after* /usr/local/...-linux:

The same with /etc/profile, but the respective lines don't start with 
ENV_SUPATH and ENV_PATH (unfortunately, Ubuntu's /etc/profile is 
different from Debian's, and I can't remember exactly how those lines 
are, but you'll find them really easily. (In fact, I tried and just 
setting the path in /etc/profile is enough, but I ended adding it to 
/etc/login.defs as well.)

Restart for the changes to take effect.

I don't recommend changing the ownership of /usr/local/texlive to you 
---I always leave it as root.

Now ---in Debian use

	su -	<enter> and your password when prompted

to be able to use tlmgr.

So, my advice is this:

1) Reinstall Debian's TeXLive (use Synaptics), and even if something is 
marked as installed, mark it for reinstall. If your system returns to a 
stable state, fine; otherwise, reinstall.

2) If TUG's TeXlive (2011) is properly installed, prepend it's path as 
instructed in
	
	http://www.tug.org/texlive/debian.html

3) Restart. To check that TeXLive 2011 is really the one that will be 
used, try in your terminal

	which pdftex (it should reply something like

	/usr/local/texlive/2011/bin/x86_64-linux/pdftex).

Use su - to be able to use tlmgr as root. Try, for example,

	tlmgr update --self --all --dry-run

With --dry-run it will tell you what it *would* do without actually 
performing any action.

Read the tlmgr documentation ---in your terminal

	texdoc tlmgr

(texdoc opens any documentation available in TeXLive).

*Always* make a backup of your files before attempting any changes in 
your system. *Really.*


Best

Axel

From preining at logic.at  Thu Oct 20 03:01:45 2011
From: preining at logic.at (Norbert Preining)
Date: Thu, 20 Oct 2011 10:01:45 +0900
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111019133015.GA25863@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
Message-ID: <20111020010145.GD11060@gamma.logic.tuwien.ac.at>

Hi Haines,

first of all, please read and try to understand clearly the distinction
between TeX Live as distriubuted by TUG, and the TeX Live packages
included in Debian.
Vladimir explained that in details.

Then, next step: Remember that
- Debian packages, so everything that is residing in /usr/bin /usr/share
  related to TeX, all that is ONLY AND EXCLUSIVELY configured
  with dpkg/apt-get/aptitude and files in /etc/texmf.
  (NOTE NOTE NOTE: THERE IS NO !!!!! tlmgr for texlive in Debian!!!)
- TeX Live from TUG as installed via install-tl is ONLY AND EXCLUSIVELY
  configured with tlmgr.

Most of your problems stem from your misconception of these two facts,
you tried to configure TeXLive form TUG with dpkg, and Debina TeX Live
with tlmgr etc.

The otherthing is about PATH adjustment. This is not specific to TeX or
whatever, there you should simply read the guide book on Unix, your
distribution, or ask in a normal user group for that.


Ok, are you still with me and did you digest the above part, internalized
it, and have it actively in memory, then we can continue:

>From now on, I will denote the real "TeX Live" as distributed from TUG
over the CTAN servers as
	TUG TeX Live
and the packages in Debian, current version 2009, as
	Debina TeX Live
just to be sure what we talking about.

On Mi, 19 Okt 2011, Haines Brown wrote:
> advice to delete an old version of TL before installing a newer 
> version. What I did was to delete the texmf directories, and that got 

Probably that advice was given with respect to TeX Live itself, but
not the Debian packages. In Debian you can have only ONE version
of Debian TeX Live. But even when it refers to TUG TeX Live it is wrong,
there is absolutely no need to uninstall an old version of TUG TeX Live.

But you can many different versions of TUG TeX Live, I myself have 2009,
2011, Debian version, plus the dev version on my computer, and use them
according to my needs.

> My initial question is, if one is upgrading to CTAN 2011, is it true 
> that old versions of TL should be removed first? If so, does this 
> refer to both TL 2010 and TL 2009? By "removal" does that use of a 
> package manager, such as aptitude purge? But if the old TL was 
> installed manually, what is the best way to remove it?

In Debian you cannot upgrade to TL2011, because there are no packages
for TL2011 in Debian by now.

> I not only removed the old texmf directories, but also ran # aptitude 
> purge texlive. I then installed TL 2011 from CTAN using the install-tl 
> binary. This procedure messed things up in various ways it seems, and 
> I'm trying to recover.

First of all, that is THE WORST you can do.  I guess nobody suggest
you that.

Packages of a distribution should be installed and removed ONLY 
with the distribution's package manager. So what you should have
done is
	aptitude --purge '~ntexlive' tex-common
which would purge all packages which contain the pattern texlive in
their name. BUt you woulkd have run into troubles, because many
packages depend on one of the texlive* package, so you cannot
simply remove them without removing also the depending package.

There are several ways around that, but I don't describe them here,
just search.

> Although I can run latex, lualatex, biber commands on .tex documents, 
> when I tried to install a CTAN package using $ sudo tlmgr, I could not 
> do it because I was told texlive-common and texlive-base were not 

That is IMPOSSIBLE!!! You are mixing things up.

If you do
	$ sudo tlmgr
then the code in tlmgr would be called. That includes NO WHATSOEVER remote
reference to dpkg/apt, so e message that texlive-common etc are
not configured, which is coming from dpkg, *cannot* appear.

> configured. Then I tried to run # tlmgr (using su rather than sudo), 
> and this time it installed the package but also configured 
> texlive-common and texlive-base. However, this configuration was 

That is ALSO impossible. tlmgr does NOT call any dpkg calls.

(BTW, you can trust me on that, I have written tlmgr, and I have
packaged TeX Live for Debian, so I know both *very* well)

> applied to TL 2009!

That is ALSOimpossible. tlmgr NEVER calls dpkg.

>   # dpkg --configure texlive-base
>     Setting up texlive-base (2009-11) ...  
>     ...

That is something YOU invoked, and as I said, Debian packages are 2009,
and all actions taken by dpkg act on these packages.

> So apparently, although I removed texmf driectories and purged 
> texlive, my system still thinks it has TL 2009. While aptitude says 
> "no":
> 
>   $ aptitude show texlive
>   Package: texlive                         
>   State: not installed
>   Version: 2009-11
>   ...

texlive is a metapackage that in turn depends on some packages. If you
want the full Debian texlive, you need to install
	texlive-full
You can see all texlive related pakcages with
	dpkg -l 'texlive*'
and you will see there are MANY.

>   $ ls /var/cache/apt/archives/ | grep texlive
>   texlive_2009-11_all.deb
>   ...

That is only because it was downloaded once and the cache not cleaned.

> Should I have first removed all texlive_2009 packages from the 
> archive?

Irrelevant, they are only there in case you want to re-install the package,
then apt(get/tidude) does not need to re-download it. You can remove all
these files with
	aptitude clean

> In going through this, somehow I messed up my environment for texlive. 
> For example, user can run tlmgr:
> 
>   $ which tlmgr
>   /usr/local/texlive/2011/bin/i386-linux/tlmgr

That is fine.

> But I can't run it by using sudo: 
> 
>   $ sudo tlmgr -gui
>   sudo: tlmgr: command not found

See /etc/sudoers, and the option
	Defaults	env_reset
	Defaults	secure_path=....
and read the manpage for sudoers.

> Sudo uses user's environment (sudo user's the double path to texlive 
> because the path is defined in both ~/.bashrc and in ~/.profile), but 
> root looks to /etc/bash.bashrc where I had to manually append:
> 
>   PATH=/usr/local/texlive/2011/bin/i386-linux:$PATH; export PATH

You only need to do it ONCE, that is enough. If you put it in
	/etc/bash.bashrc
it should be loaded by all users and root.

> I've spent so much time running around in circles on this that I'm 
> tempted to buy a new hard disk and install debian from scratch. It 
> would be far less costly to do so, but I still am not comfortable 
> about installing texlive from CTAN without messing things up, such as 
> where to manually define paths.

You should follow very simple steps now:
- first REMOVE  TeX Live 2011 from ALL PATH (bashrc, ...) EVERYWHERE
- log out and in
- become root
- make sure that you don't have TL2011 in the path
now we start fixing your installation of Debian
- Try the following commands, sometimesin different orders, several times
  until it seems tobe settled:
	aptitude -f install
	dpkg --configure -a
That should install TL2009 again (BUT DON'T MIND THAT!!) and you should
get a fixed installation.
(why remove TL2011 from the path: because otherwise the calls to tex
/pdftex/fmtutil etc are allreferring to TL2011, whcih is a bug)

Now we get TL2011 integrated. I assume from what you have written 
that you installed it as root (btw, if you are the only user on the
computer, it is MUCH more reliable to install it as you yourself,
so you can easily use tlmgr.You can also achieve that now by just
	chown -R youruid.yourgid /usr/local/texlive
as root)

- add it ONLY to your personal .bashrc or .profile
  but do NOT add it to root's environment, nor to /etc/bash* etc

- if you want to update TL2011, use tlmgr: first su to root, 
  THEN add TL2011 to the path, then run tlmgr

I hope that fixes your system, and I guess this email should be
put up somewhereon a FAQ side,otherwise I have to type my fingers bloody 
every time ...

Enjoy.

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
NOTTAGE (n.)
Nottage is the collective name for things which you find a use for
immediately after you've thrown them away. For instance, your
greenhouse has been cluttered up for years with a huge piece of
cardboard and great fronds of gardening string. You at last decide to
clear all this stuff out, and you burn it. Within twenty-four hours
you will urgently need to wrap a large parcel, and suddenly remember
that luckily in your greenhouse there is some cardb...
			--- Douglas Adams, The Meaning of Liff

From werner at suse.de  Thu Oct 20 09:44:39 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Thu, 20 Oct 2011 09:44:39 +0200
Subject: [tex-live] Possible array overrun in texk/dvipsk/dospecial.c
Message-ID: <20111020074439.GA1915@boole.suse.de>

Hi,

the compiler found an overrun at line 166 withib function mfgets in
texk/dvipsk/dospecial.c:

  static char *
  mfgets(char *buf, unsigned int bytes, FILE *fp)
  {
     int i, cc;
  
     for (i = 0; i < bytes; i++) {
        cc = fgetc(fp);
        if (cc == 0x0a || cc == 0x0d) {
           if (cc == 0x0d) {
              cc = fgetc(fp);
              if (cc != 0x0a) {
                 ungetc(cc, fp);
              }
           }
           cc = 0x0a;
           buf[i] = cc;
           buf[i+1] = '\0';
           return buf;
        } else if (cc == EOF) {
           buf[i] = '\0';
           if (i == 0) return NULL;
           else return buf;
        } else {
           buf[i] = cc;
        }
     }
>>   buf[i] = '\0';  << line 166
     return buf;
  }

the attached patch does fix this by increasing the array
by one to avoid writing beyond the upper array boundary


     Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: source-overflow.dif
Type: text/x-patch
Size: 359 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111020/b04ac08a/attachment.bin>

From werner at suse.de  Thu Oct 20 10:59:48 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Thu, 20 Oct 2011 10:59:48 +0200
Subject: [tex-live] Array size mismatch on
 texk/web2c/luatexdir/luafontloader/fontforge/fontforge/psread.c
Message-ID: <20111020085947.GA2664@boole.suse.de>

Hi,

one more, the compiler also shows a warning on line 400 and 401 within
the function ioescapestopped() of
texk/web2c/luatexdir/luafontloader/fontforge/fontforge/psread.c

  static int ioescapestopped(IO *wrapper, struct psstack *stack, int sp) {
      _IO *io = wrapper->top, *iop;
      int wasstopped;

      while ( io->prev!=NULL ) {
          iop = io->prev;
          wasstopped = io->isstopped;
          free(io->start);
          free(io);
          if ( wasstopped ) {
              wrapper->top = iop;
              if ( sp<(int)(sizeof(stack)/sizeof(stack[0])) ) {
                  stack[sp].type = ps_bool;
                  stack[sp++].u.tf = true;
              }
  return(sp);
          }
          io = iop;
      }

... IMHO the sizeof(stack) with stack a pointer does not the size of
the array used at line 1612 where ioescapestopped() is used.

The attached patch should fix this issue.


     Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: source-overflow.dif
Type: text/x-patch
Size: 1062 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111020/439a36a7/attachment.bin>

From somwrita.sarkar at sydney.edu.au  Thu Oct 20 08:01:27 2011
From: somwrita.sarkar at sydney.edu.au (Somwrita Sarkar)
Date: Thu, 20 Oct 2011 17:01:27 +1100
Subject: [tex-live] Can't install TexLive 2011 on windows x64 XP machine
Message-ID: <B7703215FBE1AB4BAA35C7193501B67F225DE0@EXPRSV08.mcs.usyd.edu.au>

Hi all,

I have downloaded install-tl-20111019.zip, unzipped it, and am running the install-tl.bat file on a windows x64 machine with XP. The GUI starts, then gets stuck at step 1-2/5, i.e. loading the data repository. Then, it does absolutely nothing. 

I am puzzled, because in 2010 I managed to successfully install the texlive 2010 version on another identical machine. Using the same instructions. 

Please help urgently!! (The other machine has died, and I need to get texlive running on this machine, several papers pending). 

thanks and regards,
ss. 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111020/838100bd/attachment.html>

From rv15cap at gmail.com  Thu Oct 20 12:17:33 2011
From: rv15cap at gmail.com (ravi)
Date: Thu, 20 Oct 2011 12:17:33 +0200
Subject: [tex-live] failed messages on updating texlive2011
Message-ID: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>

Hi fellow list members,
I am a newcomer to ubuntu linux and tex. Starting from a fresh installation
with ubuntu 11.10, I installed texlive 2011 from its iso image on a dvd.
Initially, tlmgr didn't work for me as I was denied access. Thanks to help
from Stefan L?ffler, I used the following command to get ownership of the
texlive installation:
chown -R "$USER" /usr/local/texlive
After this, I was able to proceed with the command (also changed to the
default net repositor on the tlmgr gui):
 tlmgr update --all
But at the end, I received the following response :

This is a summary of all `failed' messages:
`pdftex -ini -jobname=eplain -progname=eplain -translate-file=cp227.tcx
*eplain.ini' failed
`pdftex -ini -jobname=jadetex -progname=jadetex *jadetex.ini' failed
`pdftex -ini -jobname=pdfjadetex -progname=pdfjadetex *pdfjadetex.ini'
failed
`pdftex -ini -jobname=latex -progname=latex -translate-file=cp227.tcx
*latex.ini' failed
`pdftex -ini -jobname=pdflatex -progname=pdflatex -translate-file=cp227.tcx
*pdflatex.ini' failed
`pdftex -ini -jobname=mllatex -progname=mllatex -translate-file=cp227.tcx
-mltex mllatex.ini' failed
`pdftex -ini -jobname=pdftex -progname=pdftex -translate-file=cp227.tcx
*pdfetex.ini' failed
`pdftex -ini -jobname=etex -progname=etex -translate-file=cp227.tcx
*etex.ini' failed
`pdftex -ini -jobname=pdfetex -progname=pdfetex -translate-file=cp227.tcx
*pdfetex.ini' failed
`pdftex -ini -jobname=xmltex -progname=xmltex *xmltex.ini' failed
`pdftex -ini -jobname=pdfxmltex -progname=pdfxmltex *pdfxmltex.ini' failed

I would appreciate any suggestions to fix this problem.
Thanks,
Ravi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111020/2f17091d/attachment.html>

From martin at oneiros.de  Fri Oct 21 00:07:19 2011
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 21 Oct 2011 00:07:19 +0200
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
Message-ID: <CAP7DCDffd8QSDfc2iXCFZ7AYkCOZsPPgA58VFnLd_p964C=w_A@mail.gmail.com>

2011/10/20 ravi <rv15cap at gmail.com>:
> I am a newcomer to ubuntu linux and tex. Starting from a fresh installation
> with ubuntu 11.10, I installed texlive 2011 from its iso image on a dvd.
> Initially, tlmgr didn't work for me as I was denied access. Thanks to help
> from Stefan L?ffler,?I used the following command to get ownership of the
> texlive installation:
> chown -R "$USER" /usr/local/texlive

That's bad advice. Either use the TL from Ubuntu or install TL2011
from TUG. Mixing things will probably not work and I consider
supporting it a waste of time, sorry.

Best
   Martin


From zdenek.wagner at gmail.com  Fri Oct 21 00:16:01 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 21 Oct 2011 00:16:01 +0200
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <CAP7DCDffd8QSDfc2iXCFZ7AYkCOZsPPgA58VFnLd_p964C=w_A@mail.gmail.com>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <CAP7DCDffd8QSDfc2iXCFZ7AYkCOZsPPgA58VFnLd_p964C=w_A@mail.gmail.com>
Message-ID: <CAC1phyYyz-BkqSDZSZ9wKL3=pJDM25ME9n_xtrQNRdjyW1RMiA@mail.gmail.com>

2011/10/21 Martin Schr?der <martin at oneiros.de>:
> 2011/10/20 ravi <rv15cap at gmail.com>:
>> I am a newcomer to ubuntu linux and tex. Starting from a fresh installation
>> with ubuntu 11.10, I installed texlive 2011 from its iso image on a dvd.
>> Initially, tlmgr didn't work for me as I was denied access. Thanks to help
>> from Stefan L?ffler,?I used the following command to get ownership of the
>> texlive installation:
>> chown -R "$USER" /usr/local/texlive
>
> That's bad advice. Either use the TL from Ubuntu or install TL2011
> from TUG. Mixing things will probably not work and I consider
> supporting it a waste of time, sorry.
>
No, this particular advice is correct. The command just changes the
ownership of the installed TL from TUG so that tlmgr can later be run
by a user, no root, no sudo will be needed. Moreover, TL2012 could
then also be installed by a user due to ownership of
/usr/local/texlive.

> Best
> ? Martin
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From preining at logic.at  Fri Oct 21 01:00:47 2011
From: preining at logic.at (Norbert Preining)
Date: Fri, 21 Oct 2011 08:00:47 +0900
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
Message-ID: <20111020230047.GA19397@gamma.logic.tuwien.ac.at>

On Do, 20 Okt 2011, ravi wrote:
> from Stefan L?ffler, I used the following command to get ownership of the
> texlive installation:
> chown -R "$USER" /usr/local/texlive

Well, you did install it initially as root, how can you expect
that you can change *afterwards* files as normal user? Of course
you got access denied errors.

Sometimes I ask myself why people don't know the difference
between root and normal user, and why we have to do Unix consulting jobs?

> This is a summary of all `failed' messages:
> `pdftex -ini -jobname=eplain -progname=eplain -translate-file=cp227.tcx
> *eplain.ini' failed

Well, as long as you do not show us the failed output ... there
should be files 
	jadetex.log
	pdfjadetex.log
	....
under /usr/local/texlive/2011/texmf-var/web2c/pdftex/..
etc etc, 

Can you send
	/usr/local/texlive/2011/texmf-var/web2c/pdftex/pdflatex.log
?

Or first take a look for yourself, maybe there is something obvious in
it.

And by theway, the output of
	tlmgr conf
please send also!!!!!

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
SLOGARIE (n.)
Hillwalking dialect for the seven miles of concealed rough moorland
which lie between what you though was the top of the hill and what
actually is.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Fri Oct 21 01:02:36 2011
From: preining at logic.at (Norbert Preining)
Date: Fri, 21 Oct 2011 08:02:36 +0900
Subject: [tex-live] Can't install TexLive 2011 on windows x64 XP machine
In-Reply-To: <B7703215FBE1AB4BAA35C7193501B67F225DE0@EXPRSV08.mcs.usyd.edu.au>
References: <B7703215FBE1AB4BAA35C7193501B67F225DE0@EXPRSV08.mcs.usyd.edu.au>
Message-ID: <20111020230236.GB19397@gamma.logic.tuwien.ac.at>

On Do, 20 Okt 2011, Somwrita Sarkar wrote:
> I have downloaded install-tl-20111019.zip, unzipped it, and am running the install-tl.bat file on a windows x64 machine with XP. The GUI starts, then gets stuck at step 1-2/5, i.e. loading the data repository. Then, it does absolutely nothing. 

That is when it tries to load the remote database.

Do you have internet connection at that time?
Do you have fast enough internet connection?
Do you need a proxy to connect to the internet or are you connected directly?

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
TIGHARRY (n.)
The accomplice or 'lure' who gets punters to participate in the three
card trick on London streets by winning an improbable amount of money
very easily.
			--- Douglas Adams, The Meaning of Liff

From gnwiii at gmail.com  Fri Oct 21 01:26:57 2011
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 20 Oct 2011 20:26:57 -0300
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
Message-ID: <CAKTOP46O6RZ6rHW1ou4Ug3qwt5f=bXMZzgcg+0PJefk-oL+ssQ@mail.gmail.com>

On Thu, Oct 20, 2011 at 8:00 PM, Norbert Preining <preining at logic.at> wrote:

> On Do, 20 Okt 2011, ravi wrote:
>> from Stefan L?ffler, I used the following command to get ownership of the
>> texlive installation:
>> chown -R "$USER" /usr/local/texlive
>
> Well, you did install it initially as root, how can you expect
> that you can change *afterwards* files as normal user? Of course
> you got access denied errors.
>
> Sometimes I ask myself why people don't know the difference
> between root and normal user, and why we have to do Unix consulting jobs?

Because the only way things get done is because some people step up and
do tasks that belong to others.

Linux distros have made the mistake of trying to replace windows
without guidance to users on the things they need to learn.   Windows
is like ordering take-out -- all you can get is neatly wrapped packages
which may or may not meet expectations.  Linux is like a high-end
restaurant kitchen -- capable of producing great results in the hands of a
properly trained chef, but the sharp knives and hot stoves are potentially
dangerous to someone whose previous experience is limited to ordering from
the take-out menu.

Clearly the OP needs to read and understand some basic unix concepts --
maybe <http://www.debian.org/doc/manuals/debian-reference/ch01.en.html>
will help.


>> This is a summary of all `failed' messages:
>> `pdftex -ini -jobname=eplain -progname=eplain -translate-file=cp227.tcx
>> *eplain.ini' failed
>
> Well, as long as you do not show us the failed output ... there
> should be files
> ? ? ? ?jadetex.log
> ? ? ? ?pdfjadetex.log
> ? ? ? ?....
> under /usr/local/texlive/2011/texmf-var/web2c/pdftex/..
> etc etc,
>
> Can you send
> ? ? ? ?/usr/local/texlive/2011/texmf-var/web2c/pdftex/pdflatex.log
> ?
>
> Or first take a look for yourself, maybe there is something obvious in
> it.
>
> And by theway, the output of
> ? ? ? ?tlmgr conf
> please send also!!!!!

Sound advice.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From karl at freefriends.org  Fri Oct 21 01:56:10 2011
From: karl at freefriends.org (Karl Berry)
Date: Thu, 20 Oct 2011 23:56:10 GMT
Subject: [tex-live] Possible array overrun in texk/dvipsk/dospecial.c
In-Reply-To: <20111020074439.GA1915@boole.suse.de>
Message-ID: <201110202356.p9KNuAuS020281@freefriends.org>

    >>   buf[i] = '\0';  << line 166

Thanks for the report.  Peter installed it on the trunk and I pushed it
to the branch.

From preining at logic.at  Fri Oct 21 02:01:24 2011
From: preining at logic.at (Norbert Preining)
Date: Fri, 21 Oct 2011 09:01:24 +0900
Subject: [tex-live] Can't install TexLive 2011 on windows x64 XP machine
In-Reply-To: <B7703215FBE1AB4BAA35C7193501B67F225DE1@EXPRSV08.mcs.usyd.edu.au>
References: <B7703215FBE1AB4BAA35C7193501B67F225DE0@EXPRSV08.mcs.usyd.edu.au>
 <20111020230236.GB19397@gamma.logic.tuwien.ac.at>
 <B7703215FBE1AB4BAA35C7193501B67F225DE1@EXPRSV08.mcs.usyd.edu.au>
Message-ID: <20111021000124.GD19397@gamma.logic.tuwien.ac.at>

Please keep the mailing list in Cc, others might profit from
that exchange.

On Fr, 21 Okt 2011, Somwrita Sarkar wrote:
> 2. But, yes, it is a university proxy server. Can this be a problem ?

Yes, definitely. Since install-tl tries to download the database
and all packages with LWP, and if direct connection is not possible,
it will not work.

You probably have to set
	http_proxy
in the environment.

If you are using sh like environment:
	http_proxy=<yourproxy_here>
	export http_proxy
	install-tl ...

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
Aaaargggh...'
These two words are usually coupled together in the Old
Pink Dog Bar.
                 --- Ford in a spot of bother.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From axel.retif at mac.com  Fri Oct 21 03:11:04 2011
From: axel.retif at mac.com (Axel E. Retif)
Date: Thu, 20 Oct 2011 20:11:04 -0500
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
Message-ID: <4EA0C6A8.4040706@mac.com>

On 10/20/2011 06:00 PM, Norbert Preining wrote:

[...]

> Sometimes I ask myself why people don't know the difference between
> root and normal user, and why we have to do Unix consulting jobs?

Because we learn to drive *in a car*, be it ours, or a friend's or a 
driving school car ---we  don't learn everything we need to know outside 
a car and then take the wheel for the very first time.

I know it should be truly exasperating for you to reply thousands of 
times to the same mistakes us, newbies, make. But, on the other hand, 
it's not fair to have more patience with Windows and Mac users than with 
Linux users.

On 10/20/2011 06:26 PM, George N. White III wrote:

[...]

 > Because the only way things get done is because some people step up
 > and do tasks that belong to others.

I don't think that's fair either ---almost everything we know is because 
someone has teach us. But if you mean what you say below...

 > Linux distros have made the mistake of trying to replace windows
 > without guidance to users on the things they need to learn.

I disagree also. To start with, GNU/Linux should be for the common 
people. That's why distributions like *Ubuntu and Linux Mint are so 
increasingly popular, while Gentoo Linux..., well, they want it like 
that ---just for geeks.

And I strongly disagree as well because nowadays is really a myth that 
Windows or even Mac OS are easier to use than GNU/Linux ---beyond 
surfing the web or using a word processor (equally easy on Linux), I 
really find Windows a lot harder to use than Linux; and MacOS and Linux 
are just as easy or as hard, as you want to see it. Or maybe Linux is 
easier after all ---you can get TeXLive (even if it is 2007), Emacs, 
etc., etc., from your distro repositories, but you don't get such thing 
from Apple.

We need more Nixie Pixels:

http://www.youtube.com/profile?user=nixiedoeslinux

Best

Axel

From lomov.vl at gmail.com  Fri Oct 21 03:11:59 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 21 Oct 2011 10:11:59 +0900
Subject: [tex-live] Can't install TexLive 2011 on windows x64 XP machine
In-Reply-To: <20111021000124.GD19397@gamma.logic.tuwien.ac.at>
References: <B7703215FBE1AB4BAA35C7193501B67F225DE0@EXPRSV08.mcs.usyd.edu.au>
 <20111020230236.GB19397@gamma.logic.tuwien.ac.at>
 <B7703215FBE1AB4BAA35C7193501B67F225DE1@EXPRSV08.mcs.usyd.edu.au>
 <20111021000124.GD19397@gamma.logic.tuwien.ac.at>
Message-ID: <20111021011159.GM1106@smoon>

Hello,
** Norbert Preining [2011-10-21 09:01:24 +0900]:

> Please keep the mailing list in Cc, others might profit from
> that exchange.

> On Fr, 21 Okt 2011, Somwrita Sarkar wrote:
>> 2. But, yes, it is a university proxy server. Can this be a problem ?

> Yes, definitely. Since install-tl tries to download the database
> and all packages with LWP, and if direct connection is not possible,
> it will not work.

> You probably have to set
> 	http_proxy
> in the environment.

> If you are using sh like environment:
> 	http_proxy=<yourproxy_here>
> 	export http_proxy
> 	install-tl ...

Topic starter (Somwrita Sarkar) said that he uses Windows XP, so he must
set http_proxy and ftp_proxy variables using standard Windows way. I
don't have access to any Windows XP host right now, but IIRC, pressing Win+Break
gives "Computer Properties" window, then tab "Advanced" (here I could be
wrong), then button "Environment variables", section "User variables"
of appeared window. User have to create new vriables: 'http_proxy' and
'ftp_proxy' with apropriate values.

P.S. If on other host TL2010 was installed successfully, then just check
what variables are set there.

---
WBR, Vladimir Lomov

-- 
"They ought to make butt-flavored cat food."   --Gallagher

From rv15cap at gmail.com  Fri Oct 21 12:39:24 2011
From: rv15cap at gmail.com (ravi)
Date: Fri, 21 Oct 2011 12:39:24 +0200
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
Message-ID: <CABYg0u3ZA72pz-d4i3ibqH1noGKueMQ2423miWTW59GkWGfJ=A@mail.gmail.com>

Hi list experts,
Thanks for replies and inputs from a number of experts. Yes, I must plead
guilty to being a total rookie as far as bash and linux are concerned. Some
of you are right when you state that you cannot expect to hand-hold and
baby-sit for people about linux fundamentals. Thanks for some of links that
I obtained for brushing up on linux basics. I do plan to look it up. That
said, there is so much stuff out there that I get overwhelmed. If I start
with something, make a mistake or two and then if I get nudged towards what
is right, my learning path becomes easier. So, what I am saying is - thanks.
By all means, yell at me and point me to me to some links for me to do my
homework. But I would appreciate if you had a little, little bit of patience
with me.


> > chown -R "$USER" /usr/local/texlive
> Well, you did install it initially as root, how can you expect
> that you can change *afterwards* files as normal user? Of course
> you got access denied errors.
>
> Sometimes I ask myself why people don't know the difference
> between root and normal user, and why we have to do Unix consulting jobs?
>

Actually, the command that worked for me was :
 sudo chown -R "$USER" /usr/local/texlive
I don't know if this explanation does anything to soften your irritation. I
may add that after I installed from the iso, I added the following :

MANPATH=$MANPATH:/usr/local/texlive/2011/texmf/doc/man

export MANPATH

INFOPATH=$INFOPATH:/usr/local/texlive/2011/texmf/doc/info

export INFOPATH

PATH=$PATH:/usr/local/texlive/2011/bin/i386-linux

export PATH

Can you send
>        /usr/local/texlive/2011/texmf-var/web2c/pdftex/pdflatex.log
> ?
>

 I am attaching the above file.

Or first take a look for yourself, maybe there is something obvious in
> it.
>

I am sorry. I am afraid that my level is such I would miss it, even if it
were obvious.


> And by theway, the output of
>        tlmgr conf
> please send also!!!!!
>

Sending this as well.

Thanks,
Ravi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111021/24256a9d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex1.log
Type: text/x-log
Size: 33077 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111021/24256a9d/attachment-0001.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tlmgrconf.odt
Type: application/vnd.oasis.opendocument.text
Size: 13678 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111021/24256a9d/attachment-0001.odt>

From plantz at cds1.net  Fri Oct 21 17:50:17 2011
From: plantz at cds1.net (Bob Plantz)
Date: Fri, 21 Oct 2011 08:50:17 -0700
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <CABYg0u3ZA72pz-d4i3ibqH1noGKueMQ2423miWTW59GkWGfJ=A@mail.gmail.com>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
 <CABYg0u3ZA72pz-d4i3ibqH1noGKueMQ2423miWTW59GkWGfJ=A@mail.gmail.com>
Message-ID: <4EA194B9.3030102@cds1.net>

On 10/21/2011 03:39 AM, ravi wrote:
> Hi list experts,
> Thanks for replies and inputs from a number of experts. Yes, I must 
> plead guilty to being a total rookie as far as bash and linux are 
> concerned. Some of you are right when you state that you cannot expect 
> to hand-hold and baby-sit for people about linux fundamentals. Thanks 
> for some of links that I obtained for brushing up on linux basics. I 
> do plan to look it up. That said, there is so much stuff out there 
> that I get overwhelmed. If I start with something, make a mistake or 
> two and then if I get nudged towards what is right, my learning path 
> becomes easier. So, what I am saying is - thanks. By all means, yell 
> at me and point me to me to some links for me to do my homework. But I 
> would appreciate if you had a little, little bit of patience with me.
>
I spent the last 21 years of my career as a university CS Prof., after 
working in industry for 20 years. Patience is nearly as important in 
teaching as being an expert. However, not all people like to teach. The 
students I enjoyed the most were not the brilliant ones who seemed to 
already know everything, but the ones who asked "dumb" questions, then 
took my pointers and worked on learning the material. They were the ones 
who validated my work. A lot of experts I have met (unfortunately, some 
university professors) simply prefer interacting with other experts.

I also enjoyed what I learned from thinking about how to answer the 
"dumb" questions. These were the questions that forced me to clarify my 
own understanding of the material. They also reminded me of my own 
ignorance at some point in my life. Throughout my teaching career, I had 
to constantly remind myself of what it was like being a rookie, for 
that's what most of my students were. That, after all, was the reason 
they were in my class. But it did require a lot of patience from me, and 
I did sometimes lose it.

--Bob


From gunther.jansen at gmail.com  Fri Oct 21 11:14:32 2011
From: gunther.jansen at gmail.com (Gunther Jansen)
Date: Fri, 21 Oct 2011 11:14:32 +0200
Subject: [tex-live] margins disappear in one distribution, not in another
Message-ID: <201110211114.32772.gunther.jansen@gmail.com>

Dear all,

I encountered a curious issue today. While I am writing a report (in article 
style), my pdftex compilation yielded a strange pdf without margins and 
slightly differently sized pages. In other words, a really broken layout. The 
same code had worked before, though, so I did not understand where it came 
from. I write and compile my source files from vim with latex suite via pdftex 
(in SLED 11). However, if I transfer the *exact* same source code to my laptop 
with the same setup, it compiles fine, no problems with margins or page size. 
I next removed texlive entirely and installed it again, again to no avail. 
Where could this be symptomatic of? 


Here is the code:

\documentclass[a4paper,12pt]{article}
\usepackage{graphicx,fancyhdr}
\usepackage[english]{babel}
\usepackage[font=small,format=plain,width=10cm,labelfont=bf,up,textfont=it,up]
{caption}

\author{Gunther Jansen}
\date{}
\title{Interim report 2}
\pagestyle{fancy}
\lhead{Gunther Jansen}
\chead{report}
\rfoot{\thepage}
\rhead{}
\lfoot{}
\cfoot{}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\begin{document}
\maketitle

couple of sections with pure text
one figure imported as pdf

\end{document}


From preining at logic.at  Fri Oct 21 18:54:51 2011
From: preining at logic.at (Norbert Preining)
Date: Sat, 22 Oct 2011 01:54:51 +0900
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <CABYg0u3ZA72pz-d4i3ibqH1noGKueMQ2423miWTW59GkWGfJ=A@mail.gmail.com>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
 <CABYg0u3ZA72pz-d4i3ibqH1noGKueMQ2423miWTW59GkWGfJ=A@mail.gmail.com>
Message-ID: <20111021165451.GB10860@gamma.logic.tuwien.ac.at>

On Fr, 21 Okt 2011, ravi wrote:
> homework. But I would appreciate if you had a little, little bit of patience
> with me.

Sure, if you do your homework, everyone here is friendly and patient ;-)

> Actually, the command that worked for me was :
>  sudo chown -R "$USER" /usr/local/texlive

Of course that fixed it ... but that is exactely my question ...
why did you install it as root just to change it back to $USER afterwards ;-)

pdflatex.log

Are you sure that is from a proper run? It looks like it is perfectly
valid, no error reported whatsoever.

tlmgrconf.odt:
please do NOT send odt files ... they are a pain to open, and what
you send is a plain text file, nothing else....
either attach the output by captureing it with
	tlmgr conf > tlmgrconf.txt 2>&1
or copy and paste from terminal directly into the email, but please
no odt/doc/xls etc, thanks.

But besides that, that looks all very normal and in order.

Do you actually have *problems*? Please describe what are your problems!

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
BECCLES
The small bone buttons placed in bacon sandwiches by unemployed
guerrilla dentist.
			--- Douglas Adams, The Meaning of Liff

From lomov.vl at gmail.com  Sat Oct 22 04:24:08 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sat, 22 Oct 2011 11:24:08 +0900
Subject: [tex-live] margins disappear in one distribution, not in another
In-Reply-To: <201110211114.32772.gunther.jansen@gmail.com>
References: <201110211114.32772.gunther.jansen@gmail.com>
Message-ID: <20111022022408.GB1171@smoon>

Hello,
** Gunther Jansen [2011-10-21 11:14:32 +0200]:

> Dear all,

> I encountered a curious issue today. While I am writing a report (in article 
> style), my pdftex compilation yielded a strange pdf without margins and 
> slightly differently sized pages. In other words, a really broken layout. The 
> same code had worked before, though, so I did not understand where it came 
> from. I write and compile my source files from vim with latex suite via pdftex 
> (in SLED 11). However, if I transfer the *exact* same source code to my laptop 
> with the same setup, it compiles fine, no problems with margins or page size. 
> I next removed texlive entirely and installed it again, again to no avail. 
> Where could this be symptomatic of? 


> Here is the code:

> \documentclass[a4paper,12pt]{article}
> \usepackage{graphicx,fancyhdr}
> \usepackage[english]{babel}
> \usepackage[font=small,format=plain,width=10cm,labelfont=bf,up,textfont=it,up]
> {caption}

> \author{Gunther Jansen}
> \date{}
> \title{Interim report 2}
> \pagestyle{fancy}
> \lhead{Gunther Jansen}
> \chead{report}
> \rfoot{\thepage}
> \rhead{}
> \lfoot{}
> \cfoot{}
> \renewcommand{\headrulewidth}{0.4pt}
> \renewcommand{\footrulewidth}{0.4pt}

> \begin{document}
> \maketitle

> couple of sections with pure text
> one figure imported as pdf

> \end{document}

Hm, you problem may be not TeX Live related. Please, add '\listfiles' at
top of the file run pdflatex on it again on both systems and check log
files. It would be best if after that you post both log files.

---
WBR, Vladimir Lomov

-- 
Better living a beggar than buried an emperor.

From news3 at nililand.de  Sun Oct 23 19:17:13 2011
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 23 Oct 2011 19:17:13 +0200
Subject: [tex-live] margins disappear in one distribution, not in another
References: <201110211114.32772.gunther.jansen@gmail.com>
Message-ID: <1jw9sshag5q66.dlg@nililand.de>

Am Fri, 21 Oct 2011 11:14:32 +0200 schrieb Gunther Jansen:

> Dear all,
> 
> I encountered a curious issue today. While I am writing a report (in article 
> style), my pdftex compilation yielded a strange pdf without margins and 
> slightly differently sized pages. In other words, a really broken layout. The 
> same code had worked before, though, so I did not understand where it came 
> from. I write and compile my source files from vim with latex suite via pdftex 
> (in SLED 11). However, if I transfer the *exact* same source code to my laptop 
> with the same setup, it compiles fine, no problems with margins or page size. 
> I next removed texlive entirely and installed it again, again to no avail.

Reinstalling the whole texlive is in most cases simply a waste of
time.
 
> Where could this be symptomatic of? 

Without knowlegde of your versions (e.g. through the log-files) and
the actual pdf-files difficult to say (I'm not sure I did understand
your problem). In a modern tex system graphicx/pdftex.def would set
the page size correctly to a4paper but in older systems it depends
on your local configuration.

-- 
Ulrike Fischer 


From zdenek.wagner at gmail.com  Sun Oct 23 23:01:22 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 23 Oct 2011 23:01:22 +0200
Subject: [tex-live] margins disappear in one distribution, not in another
In-Reply-To: <1jw9sshag5q66.dlg@nililand.de>
References: <201110211114.32772.gunther.jansen@gmail.com>
 <1jw9sshag5q66.dlg@nililand.de>
Message-ID: <CAC1phyYnkZZgi2p4czRJtgBBn_qUyMAToDGJC59nP-ukM6Rv2Q@mail.gmail.com>

2011/10/23 Ulrike Fischer <news3 at nililand.de>:
> Am Fri, 21 Oct 2011 11:14:32 +0200 schrieb Gunther Jansen:
> ...
>
> Without knowlegde of your versions (e.g. through the log-files) and
> the actual pdf-files difficult to say (I'm not sure I did understand
> your problem). In a modern tex system graphicx/pdftex.def would set
> the page size correctly to a4paper but in older systems it depends
> on your local configuration.
>
Yes, pdftex.def will set it but it is not loaded by the class files.
The LaTeX class files do not contain any driver/engine dependencies.
The paper size is properly set by packages geometry and zwpagelayout.
At least the latter can detect in majority of cases the proper driver
automatically. I have sent you 3 lines. Iy you put them just after
\begin{document}, they will write to the screen and log the settings
of the paper size.
> --
> Ulrike Fischer
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From werner at suse.de  Tue Oct 25 13:56:44 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 25 Oct 2011 13:56:44 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
Message-ID: <20111025115644.GA18112@boole.suse.de>

Hi,

with several bug reports here I've the final problem that the
fontconfig setup used for XeTeX does not work well with all
other fontconfig.

With fontconfig setup for XeTeX, e.g. by using a

  /etc/fonts/conf.d/09-texlive.conf

there are reports of e.g.:

  ** ERROR ** Invalid glyph index (gid 2447)

and also reports of a slowdown of e.g. programs like Inkscape.

On the other hand users of XeTeX seems to rely on an
enabled fontconfig for XeTeX.

Is there a solution or a simple way to disentangle the usage
of fontconfig for both the non-XeTeX and the XeTeX users on
the *same* system.

E.g. it would help a lot if Xe(La)TeX and xdvipdfmx would
use the path mentioned in texmf.cnf (FC_CACHEDIR, FONTCONFIG_FILE,
and FONTCONFIG_FILE) instead of /etc/fonts/conf.d/09-texlive.conf


   Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From werner at suse.de  Tue Oct 25 15:49:14 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 25 Oct 2011 15:49:14 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111025115644.GA18112@boole.suse.de>
References: <20111025115644.GA18112@boole.suse.de>
Message-ID: <20111025134914.GA20518@boole.suse.de>

On Tue, Oct 25, 2011 at 01:56:44PM +0200, Werner Fink wrote:
> Hi,
> 
> with several bug reports here I've the final problem that the
> fontconfig setup used for XeTeX does not work well with all
> other fontconfig.
> 
> With fontconfig setup for XeTeX, e.g. by using a
> 
>   /etc/fonts/conf.d/09-texlive.conf
> 
> there are reports of e.g.:
> 
>   ** ERROR ** Invalid glyph index (gid 2447)
> 
> and also reports of a slowdown of e.g. programs like Inkscape.
> 
> On the other hand users of XeTeX seems to rely on an
> enabled fontconfig for XeTeX.
> 
> Is there a solution or a simple way to disentangle the usage
> of fontconfig for both the non-XeTeX and the XeTeX users on
> the *same* system.
> 
> E.g. it would help a lot if Xe(La)TeX and xdvipdfmx would
> use the path mentioned in texmf.cnf (FC_CACHEDIR, FONTCONFIG_FILE,
> and FONTCONFIG_FILE) instead of /etc/fonts/conf.d/09-texlive.conf

Is there any way that kpathsea does *not* ignore FONTCONFIG_FILE,
FONTCONFIG_PATH, and FC_CACHEDIR?  With this it could be an option
to use a differenet fontconfig setup for Xe(La)TeX/xdvipdfmx
in comparision to the normal setup.

    Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From karl at freefriends.org  Wed Oct 26 00:42:29 2011
From: karl at freefriends.org (Karl Berry)
Date: Tue, 25 Oct 2011 22:42:29 GMT
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111025134914.GA20518@boole.suse.de>
Message-ID: <201110252242.p9PMgT84019595@freefriends.org>

    >   ** ERROR ** Invalid glyph index (gid 2447)
    > and also reports of a slowdown of e.g. programs like Inkscape.

So, don't install the TL fonts as system fonts.

Or fix fontconfig or Inkscape, if that's the problem ("slowdown"?).
Or fix the broken fonts, if that's the problem.

    > Is there a solution or a simple way to disentangle the usage
    > of fontconfig for both the non-XeTeX and the XeTeX users on
    > the *same* system.

That cure seems worse than the disease to me.  XeTeX must look up system
fonts in the system way, not some fake way.

    Is there any way that kpathsea does *not* ignore FONTCONFIG_FILE,
    FONTCONFIG_PATH, and FC_CACHEDIR?  

Kpathsea itself knows nothing at all about fontconfig per se.
It just has those variable definitions, like any other variable
definition.  They are only used on Windows.  Quoting from texmf.cnf for
the record:

% Default settings for fontconfig library, used by Windows versions of
% xetex/xdvipdfmx.  On Unixish systems, fontconfig ignores this.
FONTCONFIG_FILE=fonts.conf
FONTCONFIG_PATH=$TEXMFSYSVAR/fonts/conf
FC_CACHEDIR=$TEXMFSYSVAR/fonts/cache

Best,
karl

From werner at suse.de  Wed Oct 26 09:27:43 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 26 Oct 2011 09:27:43 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <201110252242.p9PMgT84019595@freefriends.org>
References: <20111025134914.GA20518@boole.suse.de>
 <201110252242.p9PMgT84019595@freefriends.org>
Message-ID: <20111026072743.GC5730@boole.suse.de>

On Tue, Oct 25, 2011 at 10:42:29PM +0000, Karl Berry wrote:
>     >   ** ERROR ** Invalid glyph index (gid 2447)
>     > and also reports of a slowdown of e.g. programs like Inkscape.
> 
> So, don't install the TL fonts as system fonts.

The fonts exists only below /usr/share/texmf/fonts/ and
the system fonts below /usr/share/font ... there is no
TL font within the later path.

The problem occurs due XeTeX which seems to depend on
an on fontconfig to be able to handle its fonts below
the TL path, compare with

   http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&id=xetex_linux
   http://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-350003.4.4

... now this does not work well

> 
> Or fix fontconfig or Inkscape, if that's the problem ("slowdown"?).

A simply fc-cache may fix this ...

> Or fix the broken fonts, if that's the problem.

Hmm ... for I have to fork my self due to find the time for ;)

>     > Is there a solution or a simple way to disentangle the usage
>     > of fontconfig for both the non-XeTeX and the XeTeX users on
>     > the *same* system.
> 
> That cure seems worse than the disease to me.  XeTeX must look up system
> fonts in the system way, not some fake way.
> 
>     Is there any way that kpathsea does *not* ignore FONTCONFIG_FILE,
>     FONTCONFIG_PATH, and FC_CACHEDIR?  

I've tried to export

   FONTCONFIG_FILE, FONTCONFIG_PATH, and FC_CACHEDIR

by using e.g.

   export FONTCONFIG_PATH=$(kpsewhich -var-value=FONTCONFIG_PATH)

and this seems to works flawless with xelatex.

> 
> Kpathsea itself knows nothing at all about fontconfig per se.
> It just has those variable definitions, like any other variable
> definition.  They are only used on Windows.  Quoting from texmf.cnf for
> the record:
> 
> % Default settings for fontconfig library, used by Windows versions of
> % xetex/xdvipdfmx.  On Unixish systems, fontconfig ignores this.
> FONTCONFIG_FILE=fonts.conf
> FONTCONFIG_PATH=$TEXMFSYSVAR/fonts/conf
> FC_CACHEDIR=$TEXMFSYSVAR/fonts/cache

Hmmm ... I've several bug reports about fontconfig and XeTeX using
the TL fonts ... one part of reports (the non XeTeX users) are
shouting about the incompatible TL fonts now found due to the
mentioned fontconfig setup at

  http://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-350003.4.4

and other bug report of XeTeX users which insist on exactly this
fontconfig setup.

   Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From mojca.miklavec.lists at gmail.com  Wed Oct 26 10:16:48 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 26 Oct 2011 10:16:48 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <201110252242.p9PMgT84019595@freefriends.org>
References: <20111025134914.GA20518@boole.suse.de>
 <201110252242.p9PMgT84019595@freefriends.org>
Message-ID: <CALBOmsapFvbYggSKL-Ydmn7Vq6Z-NNvEfmAR9+TGxxtcm8wHPA@mail.gmail.com>

On Wed, Oct 26, 2011 at 00:42, Karl Berry wrote:
>
> Kpathsea itself knows nothing at all about fontconfig per se.
> It just has those variable definitions, like any other variable
> definition. ?They are only used on Windows.

Not important for this discussion, but ConTeXt MKIV also uses
FONTCONFIG_PATH (if it is properly set) to find system fonts.

Mojca


From vafaklg at gmail.com  Wed Oct 26 13:44:18 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Wed, 26 Oct 2011 22:44:18 +1100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CALBOmsapFvbYggSKL-Ydmn7Vq6Z-NNvEfmAR9+TGxxtcm8wHPA@mail.gmail.com>
References: <20111025134914.GA20518@boole.suse.de>
 <201110252242.p9PMgT84019595@freefriends.org>
 <CALBOmsapFvbYggSKL-Ydmn7Vq6Z-NNvEfmAR9+TGxxtcm8wHPA@mail.gmail.com>
Message-ID: <CAB6rp_YhoDba-waibpgmeTKzaB5Q6k4FiMi7d_Jn3QAu88SHbw@mail.gmail.com>

I thought MKIV and luatex's philosophy is against such approach!



> Not important for this discussion, but ConTeXt MKIV also uses
> FONTCONFIG_PATH (if it is properly set) to find system fonts.
>
> Mojca
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111026/d2357581/attachment.html>

From gnwiii at gmail.com  Wed Oct 26 13:52:34 2011
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 26 Oct 2011 08:52:34 -0300
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111026072743.GC5730@boole.suse.de>
References: <20111025134914.GA20518@boole.suse.de>
 <201110252242.p9PMgT84019595@freefriends.org>
 <20111026072743.GC5730@boole.suse.de>
Message-ID: <CAKTOP473GYGPG2BKZjZC=vFv04j4zLiEvmW2nXuXjC+0TwvcVw@mail.gmail.com>

On Wed, Oct 26, 2011 at 4:27 AM, Dr. Werner Fink <werner at suse.de> wrote:

> Hmmm ... I've several bug reports about fontconfig and XeTeX using
> the TL fonts ... one part of reports (the non XeTeX users) are
> shouting about the incompatible TL fonts now found due to the
> mentioned fontconfig setup at
>
> ?http://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-350003.4.4

This does also mention a per-user configuration for the tl fonts, but it
would be useful to know if and how users can arrange to have certain fonts
excluded.

> and other bug report of XeTeX users which insist on exactly this
> fontconfig setup.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From rdt at cs.queensu.ca  Wed Oct 26 22:07:38 2011
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Wed, 26 Oct 2011 16:07:38 -0400
Subject: [tex-live] latex-2.09 in TeXLive
Message-ID: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>

I need to re-create this format for use on legacy sources (1000s of lines).
How do I do it in a modern TeXLive installation?

Bob T.

From joseph.wright at morningstar2.co.uk  Wed Oct 26 22:13:14 2011
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 26 Oct 2011 21:13:14 +0100
Subject: [tex-live] latex-2.09 in TeXLive
In-Reply-To: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
References: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
Message-ID: <4EA869DA.1030502@morningstar2.co.uk>

On 26/10/2011 21:07, Bob Tennent wrote:
> I need to re-create this format for use on legacy sources (1000s of lines).
> How do I do it in a modern TeXLive installation?

I assume that compatibility mode using LaTeX2e failed?
--
Joseph Wright

From rdt at cs.queensu.ca  Wed Oct 26 22:25:20 2011
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Wed, 26 Oct 2011 16:25:20 -0400
Subject: [tex-live] latex-2.09 in TeXLive
Message-ID: <4ea86cb0.kCgA2L47q9DWI2ua%rdt@cs.queensu.ca>


> I assume that compatibility mode using LaTeX2e failed?

Yes.  The font selection is very elaborate and very 2.09.

Bob T.

From herbs at wideopenwest.com  Wed Oct 26 22:30:02 2011
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Wed, 26 Oct 2011 15:30:02 -0500
Subject: [tex-live] latex-2.09 in TeXLive
In-Reply-To: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
References: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
Message-ID: <4B07CA12-C4FB-436B-A791-72D52CDEC805@wideopenwest.com>


On Oct 26, 2011, at 3:07 PM, Bob Tennent wrote:

> I need to re-create this format for use on legacy sources (1000s of lines).
> How do I do it in a modern TeXLive installation?
> 
> Bob T.


Howdy,

have you tried to simply compile using LaTeX2e? It attempts (doesn't always work) to emulate LaTeX 2.09 if it encounters a \documentstyle command.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)





From P.Taylor at Rhul.Ac.Uk  Wed Oct 26 22:31:05 2011
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Webmaster, Ret'd))
Date: Wed, 26 Oct 2011 21:31:05 +0100
Subject: [tex-live] latex-2.09 in TeXLive
In-Reply-To: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
References: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
Message-ID: <4EA86E09.2070603@Rhul.Ac.Uk>



Bob Tennent wrote:

> I need to re-create this format for use on legacy sources (1000s of lines).
> How do I do it in a modern TeXLive installation?

I think you would have to de-populate the TeXMF/TeX tree(s) and
repopulate them from very early TeX Live releases on CD/DVD,
then endeavour to rebuild the LaTeX 2.09 format.  I probably
have all TeX Live CDs going back to shortly before Noah
started caulking his arc, so ask if you need back issues.

Philip Taylor

From zdenek.wagner at gmail.com  Wed Oct 26 22:43:35 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 26 Oct 2011 22:43:35 +0200
Subject: [tex-live] latex-2.09 in TeXLive
In-Reply-To: <4EA86E09.2070603@Rhul.Ac.Uk>
References: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
 <4EA86E09.2070603@Rhul.Ac.Uk>
Message-ID: <CAC1phyZNq-q_hC=-663FXZ0WT6BpU7SvZeCr=jt8b6UeVW6=VA@mail.gmail.com>

2011/10/26 Philip TAYLOR (Webmaster, Ret'd) <P.Taylor at rhul.ac.uk>:
>
>
> Bob Tennent wrote:
>
>> I need to re-create this format for use on legacy sources (1000s of
>> lines).
>> How do I do it in a modern TeXLive installation?
>
> I think you would have to de-populate the TeXMF/TeX tree(s) and
> repopulate them from very early TeX Live releases on CD/DVD,
> then endeavour to rebuild the LaTeX 2.09 format. ?I probably
> have all TeX Live CDs going back to shortly before Noah
> started caulking his arc, so ask if you need back issues.
>
In principle, it is easy, but may require some work. Back years ago
LaTeX 2.09 and 2e lived together. There were two subdirectories in
TEXINPUT, one for 2.09, another for 2e. You will have to create 2.09
tree, put the files specific to 2.09 there and modify texmf.cnf.
Afterwards you write your fmtutil-local.cfg with the commands for
creation of the 2.09 format and generate the format by fmtutil(-sys).
Remember that new versions of packages may not work with 2.09, be sure
that you have the old versions and put them to the 2.09 tree. If you
are on a Unix system, it may be easier not to try to build 2.09 in the
lates TeX Live but install a complete old TeX Live where LaTeX 2.09
still existed. You can switch between TL versions just by changing
PATH. I probably have most CD/DVD's, so I could put their ISO images
to my webserver too.

> Philip Taylor
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From auxsvr at gmail.com  Wed Oct 26 21:27:41 2011
From: auxsvr at gmail.com (auxsvr)
Date: Wed, 26 Oct 2011 22:27:41 +0300
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
References: <20111025115644.GA18112@boole.suse.de>
Message-ID: <j89mvg$spl$1@dough.gmane.org>

Hi,

Using the texlive 2010 package by Dr. Werner Fink, I have the following 
problem: if both lines concerning opentype and truetype fonts are included 
in /etc/fonts/conf.d09-texlive.conf, then a PDF file that uses freefont has 
corrupted glyphs in some cases. One way to fix this is removing either line; 
this has the obvious drawback that some fonts shipped with texlive become 
unavailable. Since xetex becomes confused if multiple copies of the same 
font are available, why are both opentype and truetype copies of gnu-
freefont shipped with texlive?

Kind regards,
Peter


From karl at freefriends.org  Wed Oct 26 23:36:46 2011
From: karl at freefriends.org (Karl Berry)
Date: Wed, 26 Oct 2011 21:36:46 GMT
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <j89mvg$spl$1@dough.gmane.org>
Message-ID: <201110262136.p9QLakQZ023684@freefriends.org>

    why are both opentype and truetype copies of gnu-
    freefont shipped with texlive?

You don't say what fonts you're talking about.  Anyway, in general,
there's no reason to suppose OTF and TTF versions are identical.

The right answer here is to fix XeTeX.

k


From mojca.miklavec.lists at gmail.com  Wed Oct 26 23:47:15 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 26 Oct 2011 23:47:15 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <201110262136.p9QLakQZ023684@freefriends.org>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
Message-ID: <CALBOmsYnKvCWAQ0zfutWkUGa9gQ0dJQfZ8LXMTOR3W=-tT18WQ@mail.gmail.com>

On Wed, Oct 26, 2011 at 23:36, Karl Berry wrote:
> ? ?why are both opentype and truetype copies of gnu-
> ? ?freefont shipped with texlive?
>
> You don't say what fonts you're talking about. ?Anyway, in general,
> there's no reason to suppose OTF and TTF versions are identical.
>
> The right answer here is to fix XeTeX.

/usr/local/texlive/2011/texmf-dist/fonts/truetype/public/gnu-freefont/FreeSerif.ttf
/usr/local/texlive/2011/texmf-dist/fonts/opentype/public/gnu-freefont/FreeSerif.otf

etc.

But I'm pretty sure that adding both confuses other programs as well,
not only XeTeX. I totally agree that XeTeX should not create broken
PDFs, but having both OTF and TTF version installed might cause
problems to other software in one way or another.

Mojca


From karl at freefriends.org  Thu Oct 27 00:33:16 2011
From: karl at freefriends.org (Karl Berry)
Date: Wed, 26 Oct 2011 22:33:16 GMT
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111026072743.GC5730@boole.suse.de>
Message-ID: <201110262233.p9QMXGhO030013@freefriends.org>

    I have to fork my self

I know the feeling.  It's a heavyweight fork, always running out of vm
when I try it ...

  http://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-350003.4.4
  
No one is forced to use that procedure.  It's there if it helps people.
If it doesn't help people, don't do it.  If that means they can't use
the system fonts, well, that's what it means.

    The problem occurs due XeTeX which seems to depend on
    an on fontconfig to be able to handle its fonts below
    the TL path, compare with

XeTeX can look up via fontconfig or by filename.  This is ultimately
chosen by the user's document.  Admittedly system lookups are
"encouraged" in a number of ways, which I think is highly unfortunate
and poor practice, but it's not under my control.  I've already made my
views known to the various maintainer(s).

Anyway, problems with/enhancements for XeTeX should be reported to the
XeTeX maintainer(s), xetex.sf.net.  It is still Jonathan Kew (hi
Jonathan), unless and until another capable volunteer comes forward whom
Jonathan accepts.  I don't see a TL issue here.  Sorry.

Best,
karl

From staw at gust.org.pl  Thu Oct 27 02:02:48 2011
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 27 Oct 2011 02:02:48 +0200 (CEST)
Subject: [tex-live] latex-2.09 in TeXLive
In-Reply-To: <CAC1phyZNq-q_hC=-663FXZ0WT6BpU7SvZeCr=jt8b6UeVW6=VA@mail.gmail.com>
References: <4ea8688a.C0Ye9MbOY9QJOSht%rdt@cs.queensu.ca>
 <4EA86E09.2070603@Rhul.Ac.Uk>
 <CAC1phyZNq-q_hC=-663FXZ0WT6BpU7SvZeCr=jt8b6UeVW6=VA@mail.gmail.com>
Message-ID: <alpine.BSF.2.00.1110270128360.37683@au.gust.org.pl>

On Wed, 26 Oct 2011, Zdenek Wagner wrote:

> 2011/10/26 Philip TAYLOR (Webmaster, Ret'd) <P.Taylor at rhul.ac.uk>:
>> Bob Tennent wrote:
>>
>>> I need to re-create this format for use on legacy sources (1000s of
>>> lines).
>>> How do I do it in a modern TeXLive installation?
>>
>> I think you would have to de-populate the TeXMF/TeX tree(s) and
>> repopulate them from very early TeX Live releases on CD/DVD,
>> then endeavour to rebuild the LaTeX 2.09 format. ?I probably
>> have all TeX Live CDs going back to shortly before Noah
>> started caulking his arc, so ask if you need back issues.
>>
> In principle, it is easy, but may require some work. Back years ago
> LaTeX 2.09 and 2e lived together. There were two subdirectories in
> TEXINPUT, one for 2.09, another for 2e. You will have to create 2.09
> tree, put the files specific to 2.09 there and modify texmf.cnf.
> Afterwards you write your fmtutil-local.cfg with the commands for
> creation of the 2.09 format and generate the format by fmtutil(-sys).
> Remember that new versions of packages may not work with 2.09, be sure
> that you have the old versions and put them to the 2.09 tree. If you
> are on a Unix system, it may be easier not to try to build 2.09 in the
> lates TeX Live but install a complete old TeX Live where LaTeX 2.09
> still existed. You can switch between TL versions just by changing
> PATH. I probably have most CD/DVD's, so I could put their ISO images
> to my webserver too.

Hmmm, it's more easy then installing an old TL release. In very short:
1. get CTAN:/obsolete/macros/latex209/distribs/latex209.tar.gz and unpack it
2. copy to your texmf-local/tex/lplain/ only general/ and sty/ directories
3. run mktexlsr
4. edit your texlive/2011/texmf.cnf and add the line:
    TEXINPUTS.lplain = .;$TEXMF/tex{lplain,generic,}//
5. change the current directory to texmf-local/web2/
6. run here: tex -ini lplain.tex \dump
7. run again: mktexlsr
8. in texlive/bin/<arch>/ you can make a soft link tex->lplain (on
    windows just 'copy tex.exe lplain.exe')
9. test: 'lplain short' or 'lplain local'

I tried to avoid much more complicated explanation (e.g. making .ini files
or special fmtutil.cnf), so it could work even the main distribution is 
updated, formats are regerated via tlmgr, etc.

Ps. in any case, put your old extra style files for latex209 in
texmf-local/tex/lplain and run mktexlsr.

-- 
Staszek Wawrykiewicz
staw at gust.org.pl

From gnwiii at gmail.com  Thu Oct 27 12:33:53 2011
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 27 Oct 2011 08:03:53 -0230
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <201110262233.p9QMXGhO030013@freefriends.org>
References: <20111026072743.GC5730@boole.suse.de>
 <201110262233.p9QMXGhO030013@freefriends.org>
Message-ID: <CAKTOP46A7jabfVzYMBsNrLvwF-rk-Qdn0npRqvyQm1dknKZOYA@mail.gmail.com>

On Wed, Oct 26, 2011 at 8:03 PM, Karl Berry <karl at freefriends.org> wrote:
> ? ?I have to fork my self
>
> I know the feeling. ?It's a heavyweight fork, always running out of vm
> when I try it ...

Homeland Security would probable snatch both of you and spirit you off to
Roswell or Nevada and we TL users would be worse off.

>
> ?http://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-350003.4.4
>
> No one is forced to use that procedure. ?It's there if it helps people.
> If it doesn't help people, don't do it. ?If that means they can't use
> the system fonts, well, that's what it means.
>
> ? ?The problem occurs due XeTeX which seems to depend on
> ? ?an on fontconfig to be able to handle its fonts below
> ? ?the TL path, compare with
>
> XeTeX can look up via fontconfig or by filename. ?This is ultimately
> chosen by the user's document. ?Admittedly system lookups are
> "encouraged" in a number of ways, which I think is highly unfortunate
> and poor practice, but it's not under my control. ?I've already made my
> views known to the various maintainer(s).
>
> Anyway, problems with/enhancements for XeTeX should be reported to the
> XeTeX maintainer(s), xetex.sf.net. ?It is still Jonathan Kew (hi
> Jonathan), unless and until another capable volunteer comes forward whom
> Jonathan accepts. ?I don't see a TL issue here. ?Sorry.

In the near term, this is a documentation problem.   I think it is a mistake for
TL to ignore fontconfig as there are times you want to embed TL output in
other documents and then it is important that fonts work the same.  A big part
of TL is font support because OS support has not kept up with the needs, but
that has been improving.   I hope for a day when TL can rely entirely on OS font
support, but that will require things like a way for users who don't
use math fonts to
prune the list of fonts shown in application menus.




-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From rdt at cs.queensu.ca  Thu Oct 27 14:45:43 2011
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Thu, 27 Oct 2011 08:45:43 -0400
Subject: [tex-live] latex-2.09 in TeXLive
Message-ID: <4ea95277.XvdbZBl3JHRyMVau%rdt@cs.queensu.ca>

 >|I need to re-create this format for use on legacy sources (1000s of
 >|lines). How do I do it in a modern TeXLive installation?

Thanks to all who replied. I've successfully created a latex209 format
and re-built a 650-page book from its pre-1996 source files. I had to
re-create some virtual fonts using afm2tfm.  

Bob T.

From P.Taylor at Rhul.Ac.Uk  Thu Oct 27 14:51:42 2011
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Webmaster, Ret'd))
Date: Thu, 27 Oct 2011 13:51:42 +0100
Subject: [tex-live] latex-2.09 in TeXLive
In-Reply-To: <4ea95277.XvdbZBl3JHRyMVau%rdt@cs.queensu.ca>
References: <4ea95277.XvdbZBl3JHRyMVau%rdt@cs.queensu.ca>
Message-ID: <4EA953DE.4050002@Rhul.Ac.Uk>

Well done, Bob.  Were the resulting page and line breaks
identical to the pre-1966 printed edition ?

Philip Taylor
--------
Bob Tennent wrote:
>   >|I need to re-create this format for use on legacy sources (1000s of
>   >|lines). How do I do it in a modern TeXLive installation?
>
> Thanks to all who replied. I've successfully created a latex209 format
> and re-built a 650-page book from its pre-1996 source files. I had to
> re-create some virtual fonts using afm2tfm.
>
> Bob T.

From news3 at nililand.de  Thu Oct 27 15:51:26 2011
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 27 Oct 2011 15:51:26 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
Message-ID: <qved6m96xjtx.dlg@nililand.de>

Am Wed, 26 Oct 2011 21:36:46 GMT schrieb Karl Berry:

>     why are both opentype and truetype copies of gnu-
>     freefont shipped with texlive?
 
> You don't say what fonts you're talking about.  Anyway, in general,
> there's no reason to suppose OTF and TTF versions are identical.

The problem exists in various variants also on miktex.
xetex/xdvipdfmx got confused because of different versions of an
otf-font in system/texmf, because of otf + ttf versions, even
because of otf + type1 versions. 

> The right answer here is to fix XeTeX.

Yes, it would be really useful if the communication between xetex
and xdvipdfmx could be improved in this respect - or at least if
they would search fonts in the same way. And if one could tell
xetex/xdvipdfmx to prefer e.g. otf- over ttf-fonts.  


-- 
Ulrike Fischer 


From P.Taylor at Rhul.Ac.Uk  Thu Oct 27 16:18:15 2011
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Webmaster, Ret'd))
Date: Thu, 27 Oct 2011 15:18:15 +0100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <qved6m96xjtx.dlg@nililand.de>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org> <qved6m96xjtx.dlg@nililand.de>
Message-ID: <4EA96827.1080301@Rhul.Ac.Uk>



Ulrike Fischer wrote:

> The problem exists in various variants also on miktex.
> xetex/xdvipdfmx got confused because of different versions of an
> otf-font in system/texmf, because of otf + ttf versions, even
> because of otf + type1 versions.
>
>> The right answer here is to fix XeTeX.
>
> Yes, it would be really useful if the communication between xetex
> and xdvipdfmx could be improved in this respect - or at least if
> they would search fonts in the same way. And if one could tell
> xetex/xdvipdfmx to prefer e.g. otf- over ttf-fonts.

I have that problem here, and it was the very devil to
identify.  This was my original source :

\font \ornatefont = "Script MT Bold" at 48 pt
\font \leadfont = "GaramondPremrPro-MedCapt" at 36pt
\font \subleadfont = "GaramondPremrPro-MedItCapt" at 28pt
\font \clubfont = "GaramondPremrPro-MedCapt" at 31pt
\font \bodyfont = "GaramondPremrPro-MedCapt" at 26pt

but when I ran it, the PDF contained not GaramondPremrPro-MedCapt
at all, but instead GaramondPremrPro-MedDisp -- ugly as hell,
with great disparity between caps height and x-height.  I could
/not/ work out why.  Eventually, in desperation, I tried something
I remembered from a previous XeTeX project :


\font \ornatefont = "Script MT Bold" at 48 pt
\font \leadfont = "[GaramondPremrPro-MedCapt]" at 36pt
\font \subleadfont = "[GaramondPremrPro-MedItCapt]" at 28pt
\font \clubfont = "[GaramondPremrPro-MedCapt]" at 31pt
\font \bodyfont = "[GaramondPremrPro-MedCapt]" at 26pt

and all of a sudden, I had the right fonts.

When I came look for all instances of Garamond on my system,
I had zillions : not only the real thing, from a reputable
font supplier, and installed in my system font directory,
but also multiple copies lurking in the TeX hierarchy :
Garamond TFMs, Garamond VFs, Garamond AFMs, Garamond PFBs,
Garamond PFMs, and probably more besides.

No wonder poor old XeTeX was confused.  What to do ?
I don't know.  Fonts are not my forte.  But if XeTeX
can be asked to use GaramondPremrPro-MedCapt and ends
up using GaramondPremrPro-MedDisp because of something
nasty lurking in the TeX Live installation, then I don't
think that "Fix XeTeX" is necessarily the right approach
(although it might help, if there were expertise and manpower
available to do so).  But we also need to look into TeX Live
and see how it is that components of TeX Live that come as
standard can trick XeTeX into using the wrong font.

My EUR 0,02.
** Phil.

From rdt at cs.queensu.ca  Thu Oct 27 16:25:17 2011
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Thu, 27 Oct 2011 10:25:17 -0400
Subject: [tex-live] latex-2.09 in TeXLive
In-Reply-To: <4EA953DE.4050002@Rhul.Ac.Uk>
References: <4ea95277.XvdbZBl3JHRyMVau%rdt@cs.queensu.ca>
 <4EA953DE.4050002@Rhul.Ac.Uk>
Message-ID: <4ea969cd.7bVnmq6L++hvOOoe%rdt@cs.queensu.ca>

 >|Were the resulting page and line breaks
 >|identical to the pre-1966 printed edition ?
                        ^^^^  1996!

I haven't checked every page but the page numbers are right. 

Bob

 >|Bob Tennent wrote:
 >|>   >|I need to re-create this format for use on legacy sources (1000s of
 >|>   >|lines). How do I do it in a modern TeXLive installation?
 >|>
 >|> Thanks to all who replied. I've successfully created a latex209 format
 >|> and re-built a 650-page book from its pre-1996 source files. I had to
 >|> re-create some virtual fonts using afm2tfm.

From kristen.eisenberg at yahoo.com  Thu Oct 27 13:12:34 2011
From: kristen.eisenberg at yahoo.com (Kristen Eisenberg)
Date: Thu, 27 Oct 2011 04:12:34 -0700 (PDT)
Subject: [tex-live]  apparent bug in detex
Message-ID: <1319713954.62256.YahooMailNeo@web122308.mail.ne1.yahoo.com>

There appears to be a bug in the version of detex distributed with TL
2010. At least, I see the problem and it has been confirmed by others
on the mactex list. Essentially, detex removes the contents of
footnotes included as \footnote{this is a footnote} when running in
LaTeX mode.

So if my test file contains the line:
Test\footnote{ a footnote}  \emph{it} quickly.
then detex gives:
Test  a footnote  it quickly.
but detex -l gives:
Test   it quickly.
And the same problem occurs if LaTeX mode is selected automatically
for a LaTeX document. Others on the mactex list were responsible for
pinpointing the issue. I just found it didn't work as I expected.

I noticed this because I was getting significantly lower word counts
for a paper than I thought I should be. (TeXShop's statistics function
uses detex.)


Kristen Eisenberg
Billige Fl?ge
Marketing GmbH
Emanuelstr. 3,
10317 Berlin
Deutschland
Telefon: +49 (33)
5310967
Email:
utebachmeier at
gmail.com
Site:
http://flug.airego.de
- Billige Fl?ge vergleichen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111027/139dd802/attachment.html>

From news3 at nililand.de  Thu Oct 27 17:30:51 2011
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 27 Oct 2011 17:30:51 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org> <qved6m96xjtx.dlg@nililand.de>
 <4EA96827.1080301@Rhul.Ac.Uk>
Message-ID: <b64vx2c259sn$.dlg@nililand.de>

Am Thu, 27 Oct 2011 15:18:15 +0100 schrieb Philip TAYLOR (Webmaster,
Ret'd):

>> The problem exists in various variants also on miktex.
>> xetex/xdvipdfmx got confused because of different versions of an
>> otf-font in system/texmf, because of otf + ttf versions, even
>> because of otf + type1 versions.

>>> The right answer here is to fix XeTeX.

>> Yes, it would be really useful if the communication between xetex
>> and xdvipdfmx could be improved in this respect - or at least if
>> they would search fonts in the same way. And if one could tell
>> xetex/xdvipdfmx to prefer e.g. otf- over ttf-fonts.
 
> I have that problem here, and it was the very devil to
> identify.  This was my original source :
 
> \font \ornatefont = "Script MT Bold" at 48 pt
> \font \leadfont = "GaramondPremrPro-MedCapt" at 36pt
> \font \subleadfont = "GaramondPremrPro-MedItCapt" at 28pt
> \font \clubfont = "GaramondPremrPro-MedCapt" at 31pt
> \font \bodyfont = "GaramondPremrPro-MedCapt" at 26pt

> but when I ran it, the PDF contained not GaramondPremrPro-MedCapt
> at all, but instead GaramondPremrPro-MedDisp -- ugly as hell,
> with great disparity between caps height and x-height.  I could
> /not/ work out why.  Eventually, in desperation, I tried something
> I remembered from a previous XeTeX project :
> 
> 
> \font \ornatefont = "Script MT Bold" at 48 pt
> \font \leadfont = "[GaramondPremrPro-MedCapt]" at 36pt
> \font \subleadfont = "[GaramondPremrPro-MedItCapt]" at 28pt
> \font \clubfont = "[GaramondPremrPro-MedCapt]" at 31pt
> \font \bodyfont = "[GaramondPremrPro-MedCapt]" at 26pt
> 
> and all of a sudden, I had the right fonts.
> 
> When I came look for all instances of Garamond on my system,
> I had zillions : not only the real thing, from a reputable
> font supplier, and installed in my system font directory,
> but also multiple copies lurking in the TeX hierarchy :
> Garamond TFMs, Garamond VFs, Garamond AFMs, Garamond PFBs,
> Garamond PFMs, and probably more besides.
> 
> No wonder poor old XeTeX was confused.  What to do ?
> I don't know.  Fonts are not my forte.  But if XeTeX
> can be asked to use GaramondPremrPro-MedCapt and ends
> up using GaramondPremrPro-MedDisp because of something
> nasty lurking in the TeX Live installation, then I don't
> think that "Fix XeTeX" is necessarily the right approach

Well the real hell is if the xetex (the part from tex to xdv) use
one font and xdvipdfmx (xdv->pdf) the other and you get a pdf not
only with the wrong font but with completly wrong glyphs ;-)

This was the problem I was referring to and this should be fixed
imho in xetex.

Your problem was that a font name can match more than one font - I
don't see too how fixing xetex can help here, you will have to be
more precise when giving the font name.

-- 
Ulrike Fischer 


From peb at mppmu.mpg.de  Thu Oct 27 18:32:25 2011
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Thu, 27 Oct 2011 18:32:25 +0200 (CEST)
Subject: [tex-live] apparent bug in detex
Message-ID: <alpine.LNX.2.00.1110271814460.21619@pcl321.mppmu.mpg.de>

On Oct 27 13:12:34, Kristen Eisenberg wrote:

> There appears to be a bug in the version of detex distributed with TL
> 2010. At least, I see the problem and it has been confirmed by others
> on the mactex list. Essentially, detex removes the contents of
> footnotes included as \footnote{this is a footnote} when running in
> LaTeX mode.
> 
> So if my test file contains the line:
> Test\footnote{ a footnote}  \emph{it} quickly.
> then detex gives:
> Test  a footnote  it quickly.
> but detex -l gives:
> Test   it quickly.
> And the same problem occurs if LaTeX mode is selected automatically
> for a LaTeX document. Others on the mactex list were responsible for
> pinpointing the issue. I just found it didn't work as I expected.

I am not sure if this intentional or not.

TL2010 and TL2011 use detex-2.8 with detex.l defining
     <Normal>"\\footnote"    {KILLARGS(1); SPACE;}
whereas TL20109 used an older version with
     <Normal>"\\footnote"    {SPACE;}

Might be the KILLARGS actually ought to be STRIPARGS?

If indeed a bug, it would have been nice to have this reported and fixed
early enough for TL2011.

Regards
Peter Breitenlohner <peb at mppmu.mpg.de>

From zdenek.wagner at gmail.com  Thu Oct 27 18:35:03 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 27 Oct 2011 18:35:03 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <b64vx2c259sn$.dlg@nililand.de>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <qved6m96xjtx.dlg@nililand.de> <4EA96827.1080301@Rhul.Ac.Uk>
 <b64vx2c259sn$.dlg@nililand.de>
Message-ID: <CAC1phyYBA1yY7bfFQia3Kao-Nz1p9ezd95wBXcs3OQ4a_Arpjg@mail.gmail.com>

2011/10/27 Ulrike Fischer <news3 at nililand.de>:
> Am Thu, 27 Oct 2011 15:18:15 +0100 schrieb Philip TAYLOR (Webmaster,
> Ret'd):
> ...
> Well the real hell is if the xetex (the part from tex to xdv) use
> one font and xdvipdfmx (xdv->pdf) the other and you get a pdf not
> only with the wrong font but with completly wrong glyphs ;-)
>
And there is another problem if xetex can find the system font (as
well as other applications as OpenOffice, firefox and Gedit) but
xdvipdfmx cannot.

> This was the problem I was referring to and this should be fixed
> imho in xetex.
>
> Your problem was that a font name can match more than one font - I
> don't see too how fixing xetex can help here, you will have to be
> more precise when giving the font name.
>
> --
> Ulrike Fischer
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From Robin.Fairbairns at cl.cam.ac.uk  Thu Oct 27 18:43:34 2011
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 27 Oct 2011 17:43:34 +0100
Subject: [tex-live] apparent bug in detex
In-Reply-To: Your message of Thu, 27 Oct 2011 18:32:25 +0200.
 <alpine.LNX.2.00.1110271814460.21619@pcl321.mppmu.mpg.de>
Message-ID: <9955.1319733814@cl.cam.ac.uk>

Peter Breitenlohner <peb at mppmu.mpg.de> wrote:

> On Oct 27 13:12:34, Kristen Eisenberg wrote:
> 
> > There appears to be a bug in the version of detex distributed with TL
> > 2010. At least, I see the problem and it has been confirmed by others
> > on the mactex list. Essentially, detex removes the contents of
> > footnotes included as \footnote{this is a footnote} when running in
> > LaTeX mode.
> >
> > So if my test file contains the line:
> > Test\footnote{ a footnote}  \emph{it} quickly.
> > then detex gives:
> > Test  a footnote  it quickly.
> > but detex -l gives:
> > Test   it quickly.
> > And the same problem occurs if LaTeX mode is selected automatically
> > for a LaTeX document. Others on the mactex list were responsible for
> > pinpointing the issue. I just found it didn't work as I expected.
> 
> I am not sure if this intentional or not.

who's to know?  detex is a pretty rough tool, at the best of times; its
original intent was for spell-checking, iirc.  fwiw, i recommend _not_
using detex for word-counting, in the faq (i don't know if that's my
idea, or someone else's that i've adopted after discussions with
others).

> TL2010 and TL2011 use detex-2.8 with detex.l defining
>     <Normal>"\\footnote"    {KILLARGS(1); SPACE;}
> whereas TL20109 used an older version with
>     <Normal>"\\footnote"    {SPACE;}
> 
> Might be the KILLARGS actually ought to be STRIPARGS?
> 
> If indeed a bug, it would have been nice to have this reported and fixed
> early enough for TL2011.

last i contacted the author, he responded quite quickly with an update.
however, getting something ready for the 2011 distribution would be a
bit challenging ;-)

would the op like to contact the author?

robin


From haines at histomat.net  Thu Oct 27 19:24:32 2011
From: haines at histomat.net (Haines Brown)
Date: Thu, 27 Oct 2011 13:24:32 -0400
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
Message-ID: <20111027172432.GA19912@HistoricalMaterialism.info>

Norbert let me first thank you for your extensive instructions and 
also for the delay in my response (could not take a break from my 
work).

On Thu, Oct 20, 2011 at 10:01:45AM +0900, Norbert Preining wrote:

> You should follow very simple steps now:
> - first REMOVE  TeX Live 2011 from ALL PATH (bashrc, ...) EVERYWHERE
> - log out and in
> - become root
> - make sure that you don't have TL2011 in the path
> now we start fixing your installation of Debian
> - Try the following commands, sometimesin different orders, several times
>   until it seems tobe settled:
> 	aptitude -f install
> 	dpkg --configure -a
> That should install TL2009 again (BUT DON'T MIND THAT!!) and you should
> get a fixed installation.
> (why remove TL2011 from the path: because otherwise the calls to tex
> /pdftex/fmtutil etc are allreferring to TL2011, whcih is a bug)

I followed these directions without any problem.
 
> Now we get TL2011 integrated. I assume from what you have written 
> that you installed it as root (btw, if you are the only user on the
> computer, it is MUCH more reliable to install it as you yourself,
> so you can easily use tlmgr.You can also achieve that now by just
> 	chown -R youruid.yourgid /usr/local/texlive
> as root)

That is correct, I had installed it as root, and now proceed to 
install the TL2011 as user as you suggest. I'm informed the default 
destination folder (value of TEXDIR) is /usr/local/texlive/2011, but 
that location not writable by user. So I change TEXDIR to 
~/texlive/2011 and the installation is now proceeding. 


Haines Brown

From auxsvr at gmail.com  Thu Oct 27 19:30:48 2011
From: auxsvr at gmail.com (auxsvr)
Date: Thu, 27 Oct 2011 20:30:48 +0300
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
Message-ID: <j8c4gf$rcv$1@dough.gmane.org>

Karl Berry wrote:
> Anyway, in general, there's no reason to suppose OTF and TTF versions are 
> identical.

Are there any users of OTF fonts other than xetex?

> The right answer here is to fix XeTeX.

Probably, but what is the reason for shipping both opentype and freetype 
versions of gnu-freefont? The configuration proposed by the documentation 
leads to corrupted glyphs in the best case.

> k

Kind regards,
Peter


From martin at oneiros.de  Thu Oct 27 19:37:31 2011
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 27 Oct 2011 19:37:31 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <j8c4gf$rcv$1@dough.gmane.org>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
Message-ID: <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>

2011/10/27 auxsvr <auxsvr at gmail.com>:
> Karl Berry wrote:
>> Anyway, in general, there's no reason to suppose OTF and TTF versions are
>> identical.
>
> Are there any users of OTF fonts other than xetex?

<cough/>LuaTeX. And pdfTeX can handle them a bit.

Best
   Martin

From auxsvr at gmail.com  Thu Oct 27 19:57:15 2011
From: auxsvr at gmail.com (auxsvr)
Date: Thu, 27 Oct 2011 20:57:15 +0300
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org> <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
Message-ID: <j8c61t$6ip$1@dough.gmane.org>

Martin Schr?der wrote:
>> Are there any users of OTF fonts other than xetex?
> 
> <cough/>LuaTeX. And pdfTeX can handle them a bit.

Well, then is there any reason to use xetex at all? Would switching to 
LuaTeX or pdfTeX lead to fewer problems? Are they more actively maintained?

Kind regards,
Peter


From martin at oneiros.de  Thu Oct 27 20:26:24 2011
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 27 Oct 2011 20:26:24 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <j8c61t$6ip$1@dough.gmane.org>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
Message-ID: <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>

2011/10/27 auxsvr <auxsvr at gmail.com>:
> Martin Schr?der wrote:
> Well, then is there any reason to use xetex at all? Would switching to
> LuaTeX or pdfTeX lead to fewer problems? Are they more actively maintained?

As of now polyglossia works only with XeLaTeX.

LuaTeX is actively developed while XeTeX is IMHO not really
maintained.

http://tex.stackexchange.com/q/36/5763

Disclaimer: I'm a close friend of the LuaTeX team. :-)

Best
   Martin


From gnwiii at gmail.com  Thu Oct 27 21:09:52 2011
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 27 Oct 2011 16:39:52 -0230
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111027172432.GA19912@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
 <20111027172432.GA19912@HistoricalMaterialism.info>
Message-ID: <CAKTOP44i5ucn8FH=L53ZZjQECBcmNCkO4F8tmH33srWoMsd75Q@mail.gmail.com>

On Thu, Oct 27, 2011 at 2:54 PM, Haines Brown <haines at histomat.net> wrote:

> Norbert let me first thank you for your extensive instructions and
> also for the delay in my response (could not take a break from my
> work).
>
> On Thu, Oct 20, 2011 at 10:01:45AM +0900, Norbert Preining wrote:
>
>> You should follow very simple steps now:
>> - first REMOVE ?TeX Live 2011 from ALL PATH (bashrc, ...) EVERYWHERE
>> - log out and in
>> - become root
>> - make sure that you don't have TL2011 in the path
>> now we start fixing your installation of Debian
>> - Try the following commands, sometimesin different orders, several times
>> ? until it seems tobe settled:
>> ? ? ? aptitude -f install
>> ? ? ? dpkg --configure -a
>> That should install TL2009 again (BUT DON'T MIND THAT!!) and you should
>> get a fixed installation.
>> (why remove TL2011 from the path: because otherwise the calls to tex
>> /pdftex/fmtutil etc are allreferring to TL2011, whcih is a bug)
>
> I followed these directions without any problem.
>
>> Now we get TL2011 integrated. I assume from what you have written
>> that you installed it as root (btw, if you are the only user on the
>> computer, it is MUCH more reliable to install it as you yourself,
>> so you can easily use tlmgr.You can also achieve that now by just
>> ? ? ? chown -R youruid.yourgid /usr/local/texlive
>> as root)
>
> That is correct, I had installed it as root, and now proceed to
> install the TL2011 as user as you suggest. I'm informed the default
> destination folder (value of TEXDIR) is /usr/local/texlive/2011, but
> that location not writable by user. So I change TEXDIR to
> ~/texlive/2011 and the installation is now proceeding.

If you have root access or sudo is enabled for your user account,
the above chown command should have changed ownership to
the user account and you would not need to install with a nonstandard
TEXDIR, but your solution is fine for a single user system.  It has the
advantage that TL will be included in backups of your home directory
and the disadvantage that the backups will be much larger than before.
Many users take care to backup their home directory but forget that they
may also need backups of /usr/local/texlive.


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From zdenek.wagner at gmail.com  Thu Oct 27 21:49:15 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 27 Oct 2011 21:49:15 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
Message-ID: <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>

2011/10/27 Martin Schr?der <martin at oneiros.de>:
> 2011/10/27 auxsvr <auxsvr at gmail.com>:
>> Martin Schr?der wrote:
>> Well, then is there any reason to use xetex at all? Would switching to
>> LuaTeX or pdfTeX lead to fewer problems? Are they more actively maintained?
>
> As of now polyglossia works only with XeLaTeX.
>
And how about ArabXeTeX? Is it ported to luatex?

> LuaTeX is actively developed while XeTeX is IMHO not really
> maintained.
>
> http://tex.stackexchange.com/q/36/5763
>
> Disclaimer: I'm a close friend of the LuaTeX team. :-)
>
> Best
> ? Martin
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From wl at gnu.org  Thu Oct 27 21:50:18 2011
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 27 Oct 2011 21:50:18 +0200 (CEST)
Subject: [tex-live] off-topic
In-Reply-To: <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
References: <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
Message-ID: <20111027.215018.379111651.wl@gnu.org>


Martin,


it seems that you can't receive emails sent from my GNU address to
your Oneiros address.  Do you have a different one which I can use to
contact you privately?


    Werner

From Robin.Fairbairns at cl.cam.ac.uk  Thu Oct 27 22:10:25 2011
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 27 Oct 2011 21:10:25 +0100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: Your message of Thu, 27 Oct 2011 21:49:15 +0200.
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
Message-ID: <8102.1319746225@cl.cam.ac.uk>

Zdenek Wagner <zdenek.wagner at gmail.com> wrote:

> 2011/10/27 Martin Schr?der <martin at oneiros.de>:
> > 2011/10/27 auxsvr <auxsvr at gmail.com>:
> >> Martin Schr?der wrote:
> >> Well, then is there any reason to use xetex at all? Would switching to
> >> LuaTeX or pdfTeX lead to fewer problems? Are they more actively maintained?
> >
> > As of now polyglossia works only with XeLaTeX.
>
> And how about ArabXeTeX? Is it ported to luatex?

as far as i know, not.  since francois charette ran out of steam, i'm
not sure anything much has been done to it (though it was taken over by
a new maintainer earlier this month).  no-one's told us of any move to
make it work with luatex.

(faintly surprised to find that its log in the ctan catalogue goes back
to april 2007...)

> > LuaTeX is actively developed while XeTeX is IMHO not really
> > maintained.

which isn't a problem if xetex already does what is needed of it.
however, xetex surely _does_ need a backstop of some sort.  jonathan kew
occasionally answers mails, but i don't believe he codes for it any
more.

robin


From auxsvr at gmail.com  Thu Oct 27 22:29:55 2011
From: auxsvr at gmail.com (auxsvr)
Date: Thu, 27 Oct 2011 23:29:55 +0300
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org> <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
Message-ID: <j8cf0b$852$1@dough.gmane.org>

Martin Schr?der wrote:

> As of now polyglossia works only with XeLaTeX.
> 
> LuaTeX is actively developed while XeTeX is IMHO not really
> maintained.

I started with TeX, then used omega, then XeTeX, hoping that a stable TeX 
engine with full UTF-8 support and easy font handling would emerge. Well, 
I'll stay with xetex for now, waiting for the clear winner to be declared.

Thanks,
Peter


From jfkthame at googlemail.com  Thu Oct 27 23:39:13 2011
From: jfkthame at googlemail.com (Jonathan Kew)
Date: Thu, 27 Oct 2011 22:39:13 +0100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <8102.1319746225@cl.cam.ac.uk>
References: <8102.1319746225@cl.cam.ac.uk>
Message-ID: <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>

On 27 Oct 2011, at 21:10, Robin Fairbairns wrote:

> 
>>> LuaTeX is actively developed while XeTeX is IMHO not really
>>> maintained.
> 
> which isn't a problem if xetex already does what is needed of it.
> however, xetex surely _does_ need a backstop of some sort.  jonathan kew
> occasionally answers mails, but i don't believe he codes for it any
> more.

OK, here's an occasional response. :)

That's a fair assessment, I think. While I have ideas of things I'd still like to do with xetex, the reality is that I don't have the time to devote to it these days. The last substantial new development was done by Han The Thanh, who added the character-protrusion support, but I'm not sure if he has time or interest to work on further issues at this time.

Although I'm unlikely to do substantial coding on it for the time being, I'd be happy to review proposed patches or discuss possible enhancements if someone wants to take on the work. At one point, Jin-Hwan Cho was hoping to do further work on the output driver side, but I'm not sure if he has had the opportunity to actually make progress there.

I believe the worst of the problems with xetex/xdvipdfmx font mismatches due to multiple versions of the same-named font could actually be fixed fairly easily, by modifying xetex so that (when using fontconfig to find fonts) it always writes the absolute path to the font file into the xdv output (as if the font had been specified by absolute pathname in the source document). This would of course make the xdv file even less "portable" between systems than is currently the case, but in practice I don't think there's any significant use-case for moving xdv files around; they're essentially an internal representation of what will become the PDF output, and the fact that they can be captured on disk is incidental (though sometimes handy for debugging purposes).

JK



From khaledhosny at eglug.org  Thu Oct 27 16:43:16 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 27 Oct 2011 16:43:16 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <4EA96827.1080301@Rhul.Ac.Uk>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <qved6m96xjtx.dlg@nililand.de> <4EA96827.1080301@Rhul.Ac.Uk>
Message-ID: <20111027144315.GA31141@khaled-laptop>

On Thu, Oct 27, 2011 at 03:18:15PM +0100, Philip TAYLOR (Webmaster, Ret'd) wrote:
> 
> 
> Ulrike Fischer wrote:
> 
> >The problem exists in various variants also on miktex.
> >xetex/xdvipdfmx got confused because of different versions of an
> >otf-font in system/texmf, because of otf + ttf versions, even
> >because of otf + type1 versions.
> >
> >>The right answer here is to fix XeTeX.
> >
> >Yes, it would be really useful if the communication between xetex
> >and xdvipdfmx could be improved in this respect - or at least if
> >they would search fonts in the same way. And if one could tell
> >xetex/xdvipdfmx to prefer e.g. otf- over ttf-fonts.
> 
> I have that problem here, and it was the very devil to
> identify.  This was my original source :
> 
> \font \ornatefont = "Script MT Bold" at 48 pt
> \font \leadfont = "GaramondPremrPro-MedCapt" at 36pt
> \font \subleadfont = "GaramondPremrPro-MedItCapt" at 28pt
> \font \clubfont = "GaramondPremrPro-MedCapt" at 31pt
> \font \bodyfont = "GaramondPremrPro-MedCapt" at 26pt
> 
> but when I ran it, the PDF contained not GaramondPremrPro-MedCapt
> at all, but instead GaramondPremrPro-MedDisp -- ugly as hell,

This might be related to the automatic optical size selection which
takes the requested font size into account. Explicitly selecting an
optical size might help, say "GaramondPremrPro-MedItCapt/S=10" (not sure
about the right syntax, though).

> with great disparity between caps height and x-height.  I could
> /not/ work out why.  Eventually, in desperation, I tried something
> I remembered from a previous XeTeX project :
> 
> 
> \font \ornatefont = "Script MT Bold" at 48 pt
> \font \leadfont = "[GaramondPremrPro-MedCapt]" at 36pt
> \font \subleadfont = "[GaramondPremrPro-MedItCapt]" at 28pt
> \font \clubfont = "[GaramondPremrPro-MedCapt]" at 31pt
> \font \bodyfont = "[GaramondPremrPro-MedCapt]" at 26pt
> 
> and all of a sudden, I had the right fonts.

Selecting font by file name (which is what the square brackets does) is
always the most precise way as there is no smartness at XeTeX end (and
since you are using low level font commands, loading fonts by font name
has almost no practical advantage apart from not having to install fonts
into TEXMF tree).

> When I came look for all instances of Garamond on my system,
> I had zillions : not only the real thing, from a reputable
> font supplier, and installed in my system font directory,
> but also multiple copies lurking in the TeX hierarchy :
> Garamond TFMs, Garamond VFs, Garamond AFMs, Garamond PFBs,
> Garamond PFMs, and probably more besides.

Only PFBs from those would have an effect here, the others are ignored.
TFMs are only used when using the old TeX font loading syntax (no
quotation marks).

> No wonder poor old XeTeX was confused.  What to do ?
> I don't know.  Fonts are not my forte.  But if XeTeX
> can be asked to use GaramondPremrPro-MedCapt and ends
> up using GaramondPremrPro-MedDisp because of something
> nasty lurking in the TeX Live installation, then I don't
> think that "Fix XeTeX" is necessarily the right approach
> (although it might help, if there were expertise and manpower
> available to do so).  But we also need to look into TeX Live
> and see how it is that components of TeX Live that come as
> standard can trick XeTeX into using the wrong font.

Your issue is a bit different than the other one, here xetex and
xdvipdfmx are consistently loading the same font, though it might not be
the one you want (might even be a "feature" of some sort), but in the
issue Karl is commenting on each is loading a different font, which
should not happen.

Regards,
 Khaled

From khaledhosny at eglug.org  Thu Oct 27 16:46:45 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 27 Oct 2011 16:46:45 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <qved6m96xjtx.dlg@nililand.de>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <qved6m96xjtx.dlg@nililand.de>
Message-ID: <20111027144645.GB31141@khaled-laptop>

On Thu, Oct 27, 2011 at 03:51:26PM +0200, Ulrike Fischer wrote:
> > The right answer here is to fix XeTeX.
> 
> Yes, it would be really useful if the communication between xetex
> and xdvipdfmx could be improved in this respect - or at least if
> they would search fonts in the same way. And if one could tell
> xetex/xdvipdfmx to prefer e.g. otf- over ttf-fonts.  

I once thought the solution here is for xetex to always pass the
resolved font file path in the XDV file instead of font name, so that
xdvipdfmx does not have to implement a separate font name lookup, but
Jonathan told me this wouldn't work (I don't recall the details, should
be somewhere in XeTeX's mailing list archives).

Regards,
 Khaled

From Robin.Fairbairns at cl.cam.ac.uk  Fri Oct 28 00:26:07 2011
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 27 Oct 2011 23:26:07 +0100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: Your message of Thu, 27 Oct 2011 22:39:13 +0100.
 <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
Message-ID: <13771.1319754367@cl.cam.ac.uk>

Jonathan Kew <jfkthame at googlemail.com> wrote:

> On 27 Oct 2011, at 21:10, Robin Fairbairns wrote:
> 
> > 
> >>> LuaTeX is actively developed while XeTeX is IMHO not really
> >>> maintained.
> > 
> > which isn't a problem if xetex already does what is needed of it.
> > however, xetex surely _does_ need a backstop of some sort.  jonathan kew
> > occasionally answers mails, but i don't believe he codes for it any
> > more.
> 
> OK, here's an occasional response. :)

thank you, kind sir.

> That's a fair assessment, I think. While I have ideas of things I'd
> still like to do with xetex, the reality is that I don't have the time
> to devote to it these days. The last substantial new development was
> done by Han The Thanh, who added the character-protrusion support, but
> I'm not sure if he has time or interest to work on further issues at
> this time. 
> 
> Although I'm unlikely to do substantial coding on it for the time
> being, I'd be happy to review proposed patches or discuss possible
> enhancements if someone wants to take on the work. At one point,
> Jin-Hwan Cho was hoping to do further work on the output driver side,
> but I'm not sure if he has had the opportunity to actually make
> progress there. 

it's the curse of open-source projects: the people who might be able to
help are "gobbled up" by other more pressing matters.  (i would love to
be back in the swing of it -- but i last wrote anything significant
other than scripts in the 90s.)

> I believe the worst of the problems with xetex/xdvipdfmx font
> mismatches due to multiple versions of the same-named font could
> actually be fixed fairly easily, by modifying xetex so that (when
> using fontconfig to find fonts) it always writes the absolute path to
> the font file into the xdv output (as if the font had been specified
> by absolute pathname in the source document). This would of course
> make the xdv file even less "portable" between systems than is
> currently the case,

(well, you dropped the "i" in favour of the "x" at the beginning, so
there's an excuse :-)

> but in practice I don't think there's any
> significant use-case for moving xdv files around; they're essentially
> an internal representation of what will become the PDF output, and the
> fact that they can be captured on disk is incidental (though sometimes
> handy for debugging purposes).

surely a temporary workaround will likely be developed, but if a final
solution involves dropping the portability, i don't doubt it will be
accepted.

(note: we long ago gave up accepting dvi files for ctan.  they're just
too prone to trouble -- their device independence was fine when everyone
used cm for everything, but now...)

robin

From karl at freefriends.org  Fri Oct 28 01:08:17 2011
From: karl at freefriends.org (Karl Berry)
Date: Thu, 27 Oct 2011 23:08:17 GMT
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
Message-ID: <201110272308.p9RN8HW4008334@freefriends.org>

    Han The Thanh, who added the character-protrusion support, but
    I'm not sure if he has time or interest to work on further issues at
    this time.

Thanh just wrote me a couple days ago saying he doesn't.
He'll fix bugs in the margin kerning, and that's all he can commit to.

    fairly easily, by modifying xetex so that (when using fontconfig to find
    fonts) it always writes the absolute path to the font file into the xdv

Sounds great.

I totally agree about not worrying about more "unportable" xdv files.

k


From preining at logic.at  Fri Oct 28 01:15:17 2011
From: preining at logic.at (Norbert Preining)
Date: Fri, 28 Oct 2011 08:15:17 +0900
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111027172432.GA19912@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
 <20111027172432.GA19912@HistoricalMaterialism.info>
Message-ID: <20111027231517.GB31484@gamma.logic.tuwien.ac.at>

Hi,

On Do, 27 Okt 2011, Haines Brown wrote:
> > That should install TL2009 again (BUT DON'T MIND THAT!!) and you should
> > get a fixed installation.
> 
> I followed these directions without any problem.

Good.

> > Now we get TL2011 integrated. I assume from what you have written 
> > that you installed it as root (btw, if you are the only user on the
> > computer, it is MUCH more reliable to install it as you yourself,
> > so you can easily use tlmgr.You can also achieve that now by just
> > 	chown -R youruid.yourgid /usr/local/texlive
> > as root)
> 
> That is correct, I had installed it as root, and now proceed to 
> install the TL2011 as user as you suggest. I'm informed the default 
> destination folder (value of TEXDIR) is /usr/local/texlive/2011, but 
> that location not writable by user. So I change TEXDIR to 
> ~/texlive/2011 and the installation is now proceeding. 

As said, there would have been no need to have re-installed everything,
the above chown would have made it available to you.

Probably you now have two copies, one under /usr/local/texlive/2011,
and one under ~/texlive/2011.

If you only use the one in ~/texlive/2011, you can delete the one in 
/usr/local

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
DUNBAR (n.)
A highly specialised fiscal term used solely by turnstile
operatives at Regnet's Part zoo. It refers to the variable amount of
increase in the variable gate takings on a Sunday afternoon, caused by
persons going to the zoo because they are in love and believe that the
feeling of romance will be somehow enhanced by the smell of panther
sweat and rank incontinence in the reptile house.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Fri Oct 28 01:16:49 2011
From: karl at freefriends.org (Karl Berry)
Date: Thu, 27 Oct 2011 23:16:49 GMT
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <j8c4gf$rcv$1@dough.gmane.org>
Message-ID: <201110272316.p9RNGnhL008815@freefriends.org>

    Probably, but what is the reason for shipping both opentype and freetype 
    versions of gnu-freefont? 

Because that is how the GNU freefont maintainer (Steve White) releases
his package.  It's not my job, as a TL maintainer, to choose between
them.  I can imagine both can be useful.  And that they may not
necessarily be equivalent.

    The configuration proposed by the documentation 
    leads to corrupted glyphs in the best case.

As far as I can make out, if XeTeX didn't have the bug, there would be
no corruption.  Maybe you can work on a patch?

Another option for people running into the problem is not install
gnu-freefont, and any other fonts with the same problem.  I'm not going
to filter for this.

k

From zdenek.wagner at gmail.com  Fri Oct 28 01:22:49 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 01:22:49 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <201110272308.p9RN8HW4008334@freefriends.org>
References: <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
 <201110272308.p9RN8HW4008334@freefriends.org>
Message-ID: <CAC1phyavfwdGJdqX8vF7mpOLqWEdwBGhyZcHeFUCHjQC-pYarQ@mail.gmail.com>

2011/10/28 Karl Berry <karl at freefriends.org>:
> ...
> I totally agree about not worrying about more "unportable" xdv files.
>
1. An author can never be sure that another user has exactly the same
system fonts installed, thus even the source file may be nonportable

2. If an xdv file is used for debugging, it is necessary to see the
contents in hexadecimal, it usually need not be rendered.

Thus it will hardly be useful to send an xdv file to someone else.
IMHO nonportability will not be a problem.

> k
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From lomov.vl at gmail.com  Fri Oct 28 03:49:46 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 28 Oct 2011 10:49:46 +0900
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CAC1phyavfwdGJdqX8vF7mpOLqWEdwBGhyZcHeFUCHjQC-pYarQ@mail.gmail.com>
References: <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
 <201110272308.p9RN8HW4008334@freefriends.org>
 <CAC1phyavfwdGJdqX8vF7mpOLqWEdwBGhyZcHeFUCHjQC-pYarQ@mail.gmail.com>
Message-ID: <20111028014946.GE1171@smoon>

Hello,
** Zdenek Wagner [2011-10-28 01:22:49 +0200]:

Just some my thoughts
> 2011/10/28 Karl Berry <karl at freefriends.org>:
>> ...
>> I totally agree about not worrying about more "unportable" xdv files.

> 1. An author can never be sure that another user has exactly the same
> system fonts installed, thus even the source file may be nonportable

IMHO, the point is that XDV file _will_ contain the absolute path but
PDF one _wouldn't_ (there must be some ways for PDF readers to get
"correct" font but I didn't look into PDF specification). The only
drawback here is that user have to generate PDF from given XDV on the
same host. But in most cases this is done automatically by xetex engine.

I'm not know very close how xe(la)tex or fontspec searches font files
but user don't have to specify fonts using absolute path to files. IMO,
this is the purpose of fontspec (and engine?).

> 2. If an xdv file is used for debugging, it is necessary to see the
> contents in hexadecimal, it usually need not be rendered.

> Thus it will hardly be useful to send an xdv file to someone else.
> IMHO nonportability will not be a problem.

>> k

---
WBR, Vladimir Lomov

-- 
All I kin say is when you finds yo'self wanderin' in a peach orchard,
ya don't go lookin' for rutabagas.
		-- Kingfish

From lomov.vl at gmail.com  Fri Oct 28 07:38:56 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 28 Oct 2011 14:38:56 +0900
Subject: [tex-live] Two questions about "tlmgr-gui" on Windows
Message-ID: <20111028053856.GG1171@smoon>

Hello.

I have two questions about work of tlmgr GUI on Windows (tested on Windows
7 32-bit Ultimate)

1. Why GUI uses different fonts when displays different languages?

See attached screenshot `tlmgr-gui_(ru).png': the Russian works are
displayed using one font while Latin letters (URL in this case) are in
other. Is it possible to use one font for both?

If suppose that given font support native language and Latin alphabet
could "tlmgr-gui" use only one font?

2. Why output from tlmgr run in cmd (terminal) on Windows is unreadable?

When I run tlmgr in cmd (cmd.exe /V:ON /F:ON) as `tlmgr gui' I see in
terminal (cmd) garbage instead of Russian words, see attached screenshot
`cmd-tlmgr-gui.png'. The reason is obvious here: wrong code page (see
screenshot `cmd-tlmgr-gui-2.png'). But if I set UTF-8 as code page for
terminal, `chcp 65001', then result is a bit strange, see also
screenshot `cmd-tlmgr-gui-3.png'.

Suggestions for this two issues?

P.S. IMHO, code page in cmd is similar to locale in (linux)
terminal/console.

---
WBR, Vladimir Lomov

-- 
Politics and the fate of mankind are formed by men without ideals and without
greatness.  Those who have greatness within them do not go in for politics.
		-- Albert Camus

From lomov.vl at gmail.com  Fri Oct 28 07:46:42 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 28 Oct 2011 14:46:42 +0900
Subject: [tex-live] Two questions about "tlmgr-gui" on Windows
In-Reply-To: <20111028053856.GG1171@smoon>
References: <20111028053856.GG1171@smoon>
Message-ID: <20111028054642.GH1171@smoon>

Sorry, forgot screenshots.
** Vladimir Lomov [2011-10-28 14:38:56 +0900]:

> Hello.

> I have two questions about work of tlmgr GUI on Windows (tested on Windows
> 7 32-bit Ultimate)

> 1. Why GUI uses different fonts when displays different languages?

> See attached screenshot `tlmgr-gui_(ru).png': the Russian works are
> displayed using one font while Latin letters (URL in this case) are in
> other. Is it possible to use one font for both?

> If suppose that given font support native language and Latin alphabet
> could "tlmgr-gui" use only one font?

> 2. Why output from tlmgr run in cmd (terminal) on Windows is unreadable?

> When I run tlmgr in cmd (cmd.exe /V:ON /F:ON) as `tlmgr gui' I see in
> terminal (cmd) garbage instead of Russian words, see attached screenshot
> `cmd-tlmgr-gui.png'. The reason is obvious here: wrong code page (see
> screenshot `cmd-tlmgr-gui-2.png'). But if I set UTF-8 as code page for
> terminal, `chcp 65001', then result is a bit strange, see also
> screenshot `cmd-tlmgr-gui-3.png'.

> Suggestions for this two issues?

> P.S. IMHO, code page in cmd is similar to locale in (linux)
> terminal/console.

-- 
The big question is why in the course of evolution the males permitted
themselves to be so totally eclipsed by the females.  Why do they tolerate
this total subservience, this wretched existence as outcasts who are
hungry all the time?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tlmgr-gui_(ru).png
Type: image/png
Size: 38742 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/75ec10cb/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cmd-tlmgr-gui.png
Type: image/png
Size: 29369 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/75ec10cb/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cmd-tlmgr-gui-2.png
Type: image/png
Size: 21044 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/75ec10cb/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cmd-tlmgr-gui-3.png
Type: image/png
Size: 19249 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/75ec10cb/attachment-0007.png>

From vafaklg at gmail.com  Fri Oct 28 08:04:14 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Fri, 28 Oct 2011 17:04:14 +1100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
Message-ID: <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>

2011/10/28 Zdenek Wagner <zdenek.wagner at gmail.com>

> 2011/10/27 Martin Schr?der <martin at oneiros.de>:
> > 2011/10/27 auxsvr <auxsvr at gmail.com>:
> >> Martin Schr?der wrote:
> >> Well, then is there any reason to use xetex at all? Would switching to
> >> LuaTeX or pdfTeX lead to fewer problems? Are they more actively
> maintained?
> >
> > As of now polyglossia works only with XeLaTeX.
> >
> And how about ArabXeTeX? Is it ported to luatex?
>
>
Not yet. There are two stages for porting arabxetex to lualatex:

1) bidi: You need to develop both TeX bidi and unicode bidi. As the main
developer of bidi package I know how things should be implemented for TeX
bidi. Almost 80 percent of bidi implementtaion for xelatex applies to LuaTeX
but one needs to change primitives etc. The second part is unicode bidi,
unfortunately I have no expertise in this area, my plan is to work with
Behdad Esfahbod, Rouzbeh Pourander and my other countrymen who are experts
on unicode bidi (i.e. Behdad is the main developer of fribidi). Unicode bidi
should be done entirely in lua. Anyone willing to help with extending bidi
package to support lualatex is more than welcome. In fact, in the past I
asked Khaled id he would be interested but he had no interest.

2) arabxetex mapping does not work in luatex since luatex does not support
mapping as XeTeX does. So there are two options at least: either we need to
do it with catcode just like what arabtex does or find some other way by
using lua or using .fea files if possible.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/089cabb7/attachment.html>

From zdenek.wagner at gmail.com  Fri Oct 28 11:29:53 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 11:29:53 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111028014946.GE1171@smoon>
References: <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
 <201110272308.p9RN8HW4008334@freefriends.org>
 <CAC1phyavfwdGJdqX8vF7mpOLqWEdwBGhyZcHeFUCHjQC-pYarQ@mail.gmail.com>
 <20111028014946.GE1171@smoon>
Message-ID: <CAC1phyaNHqddexRoG-umLtkrTJQYLOknytKx42KDWOOB-AZHsg@mail.gmail.com>

2011/10/28 Vladimir Lomov <lomov.vl at gmail.com>:
> Hello,
> ** Zdenek Wagner [2011-10-28 01:22:49 +0200]:
>
> Just some my thoughts
>> 2011/10/28 Karl Berry <karl at freefriends.org>:
>>> ...
>>> I totally agree about not worrying about more "unportable" xdv files.
>
>> 1. An author can never be sure that another user has exactly the same
>> system fonts installed, thus even the source file may be nonportable
>
> IMHO, the point is that XDV file _will_ contain the absolute path but
> PDF one _wouldn't_ (there must be some ways for PDF readers to get
> "correct" font but I didn't look into PDF specification). The only
> drawback here is that user have to generate PDF from given XDV on the
> same host. But in most cases this is done automatically by xetex engine.
>
Either the font is embedded in PDF and is referenced probably as an
object with an id, or it is not embedded and then is referenced by
font name and the reader is supposed to find the system font or supply
an alternative font. PDF can only be portable if all fonts are
embedded, at least as their subsets. The paths to font files are never
stored in PDF, only the producer has to know where to get the fonts
from.

> I'm not know very close how xe(la)tex or fontspec searches font files
> but user don't have to specify fonts using absolute path to files. IMO,
> this is the purpose of fontspec (and engine?).
>
If all engines did it the same way it would be no problem. For
instance, xdvipdfmx cannot find the Nafees fonts although xetex finds
them. This problem appears on CentOS distros but not in Fedora 13. I
tried to follow Khaled's advice but did not manage to make them work.

>> 2. If an xdv file is used for debugging, it is necessary to see the
>> contents in hexadecimal, it usually need not be rendered.
>
>> Thus it will hardly be useful to send an xdv file to someone else.
>> IMHO nonportability will not be a problem.
>
>>> k
>
> ---
> WBR, Vladimir Lomov
>
> --
> All I kin say is when you finds yo'self wanderin' in a peach orchard,
> ya don't go lookin' for rutabagas.
> ? ? ? ? ? ? ? ?-- Kingfish
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From zdenek.wagner at gmail.com  Fri Oct 28 11:40:08 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 11:40:08 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
 <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
Message-ID: <CAC1phyaKVSk8=Xm64THc+zp1xgZp=p3Z63i6hJzZK=tn0coSGQ@mail.gmail.com>

2011/10/28 Vafa Khalighi <vafaklg at gmail.com>:
>
>
> 2011/10/28 Zdenek Wagner <zdenek.wagner at gmail.com>
>>
>> 2011/10/27 Martin Schr?der <martin at oneiros.de>:
>> > 2011/10/27 auxsvr <auxsvr at gmail.com>:
>> >> Martin Schr?der wrote:
>> >> Well, then is there any reason to use xetex at all? Would switching to
>> >> LuaTeX or pdfTeX lead to fewer problems? Are they more actively
>> >> maintained?
>> >
>> > As of now polyglossia works only with XeLaTeX.
>> >
>> And how about ArabXeTeX? Is it ported to luatex?
>>
>
> Not yet. There are two stages for porting arabxetex to lualatex:
>
> 1) bidi: You need to develop both TeX bidi and unicode bidi. As the main
> developer of bidi package I know how things should be implemented for TeX
> bidi. Almost 80 percent of bidi implementtaion for xelatex applies to LuaTeX
> but one needs to change primitives etc. The second part is unicode bidi,
> unfortunately I have no expertise in this area, my plan is to work with
> Behdad Esfahbod, Rouzbeh Pourander and my other countrymen who are experts
> on unicode bidi (i.e. Behdad is the main developer of fribidi). Unicode bidi
> should be done entirely in lua. Anyone willing to help with extending bidi
> package to support lualatex is more than welcome. In fact, in the past I
> asked Khaled id he would be interested but he had no interest.
>
I am not able to help with this part but I may test the work. I know
just a little Urdu but may try to typeset Urdu/Hindi texts. I looked
into the Urdu-Hindi dictionary to see how the lines are broken in case
of combination of LTR/RTL texts within a paragraphs. I hope this may
be useful test in some later stage.

> 2) arabxetex mapping does not work in luatex since luatex does not support
> mapping as XeTeX does. So there are two options at least: either we need to
> do it with catcode just like what arabtex does or find some other way by
> using lua or using .fea files if possible.
>
\catcode is dangerous, it was removed from Velthuis Devanagari years
ago due to problems. If the package was combined with musixtex or with
arabtex (to typeset Urdu and Hindi), superfluous Greek characters were
output. I hope there is a lua hook that could be employed. I plan to
use it for Devanagari and the mechanism for the Arabic script will be
the same. I can help with it but I will not have time till the end of
year.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From werner at suse.de  Fri Oct 28 12:08:21 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Fri, 28 Oct 2011 12:08:21 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <qved6m96xjtx.dlg@nililand.de>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <qved6m96xjtx.dlg@nililand.de>
Message-ID: <20111028100821.GA31799@boole.suse.de>

On Thu, Oct 27, 2011 at 03:51:26PM +0200, Ulrike Fischer wrote:
> Am Wed, 26 Oct 2011 21:36:46 GMT schrieb Karl Berry:
> 
> >     why are both opentype and truetype copies of gnu-
> >     freefont shipped with texlive?
>  
> > You don't say what fonts you're talking about.  Anyway, in general,
> > there's no reason to suppose OTF and TTF versions are identical.
> 
> The problem exists in various variants also on miktex.
> xetex/xdvipdfmx got confused because of different versions of an
> otf-font in system/texmf, because of otf + ttf versions, even
> because of otf + type1 versions. 
> 
> > The right answer here is to fix XeTeX.
> 
> Yes, it would be really useful if the communication between xetex
> and xdvipdfmx could be improved in this respect - or at least if
> they would search fonts in the same way. And if one could tell
> xetex/xdvipdfmx to prefer e.g. otf- over ttf-fonts.  

Reading the source code of web2c/xetexdir/XeTeXFontMgr_FC.cpp for
xetex and xdvipdfmx/src/fontmap.c and a short comparision by testing
leads me to the conclusion that XeTeXFontMgr_FC.cpp should be
redesigned.  This because it reads in *all* fonts (very slow)
and holds it in its own memory based cache ... whereas fontmap.c
simply uses the search options for font patterns to load *one*
font at the time it is required.

      Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From jfkthame at googlemail.com  Fri Oct 28 12:35:20 2011
From: jfkthame at googlemail.com (Jonathan Kew)
Date: Fri, 28 Oct 2011 11:35:20 +0100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111028100821.GA31799@boole.suse.de>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org> <qved6m96xjtx.dlg@nililand.de>
 <20111028100821.GA31799@boole.suse.de>
Message-ID: <5C3EDF5A-913B-40BE-BBC7-2F2B27E9B366@gmail.com>

On 28 Oct 2011, at 11:08, Dr. Werner Fink wrote:
> 
> Reading the source code of web2c/xetexdir/XeTeXFontMgr_FC.cpp for
> xetex and xdvipdfmx/src/fontmap.c and a short comparision by testing
> leads me to the conclusion that XeTeXFontMgr_FC.cpp should be
> redesigned.  This because it reads in *all* fonts (very slow)
> and holds it in its own memory based cache ...

This is necessary to fully support xetex's font management - e.g., IIRC fontconfig patterns do not provide optical-size support. (Performance could be improved by caching details across runs, and just fstat'ing the files to check if they've changed, but simply using Fc patterns and relying on the Fc cache is not sufficient.)

> whereas fontmap.c
> simply uses the search options for font patterns to load *one*
> font at the time it is required.

So the problem is that what gets passed (via xdv) from xetex to xdvipdfmx is not precise enough to guarantee that this will locate the same font that xetex was using. Making xetex embed the font file path (and face index) in the xdv instead would resolve this.

JK



From vafaklg at gmail.com  Fri Oct 28 13:07:45 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Fri, 28 Oct 2011 22:07:45 +1100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111028101651.GA14277@khaled-laptop>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
 <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
 <20111028101651.GA14277@khaled-laptop>
Message-ID: <CAB6rp_b+iKd_mrGfUm614=mMQEqwn=gvArarGo7PT=gr9ryG2A@mail.gmail.com>

Yes, you were not intersted in LaTeX. your luadirections does no do any TeX
bidi (it only implements unicode bidi) and it is not stable enough for
everyday LaTeX usage.

On Fri, Oct 28, 2011 at 9:16 PM, Khaled Hosny <khaledhosny at eglug.org> wrote:

> On Fri, Oct 28, 2011 at 05:04:14PM +1100, Vafa Khalighi wrote:
> > In fact, in the past I asked Khaled id he would be interested but he
> > had no interest.
>
> I don't recall saying that (may be I was not interested in the LaTeX
> part), otherwise I already have a bidi implementation in lua[1] and it
> serves my own (ConTeXt) document well enough.
>
> [1] https://github.com/khaledhosny/luadirections
>
> Regards,
>  Khaled
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/9fb03bf9/attachment.html>

From vafaklg at gmail.com  Fri Oct 28 13:19:38 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Fri, 28 Oct 2011 22:19:38 +1100
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
Message-ID: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>

Hi

Since Jonathan has no time any more for coding XeTeX, then what will be the
state of XeTeX in TeX distributions such as TeXLive? will be XeTeX removed
from TeXLive just like Aleph and Omega (in favour of LuaTeX) were removed
from TeXLive?

Currently we have a large number of Persian TeX users and they need XeTeX
and if XeTeX gets removed from TeX distribution, then it would create lots
of problems for our community. Currently I am working on porting my works to
luatex but that at least takes few years to become stable enough.

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/3b859321/attachment.html>

From vafaklg at gmail.com  Fri Oct 28 13:41:13 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Fri, 28 Oct 2011 22:41:13 +1100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111028113342.GA14863@khaled-laptop>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
 <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
 <20111028101651.GA14277@khaled-laptop>
 <CAB6rp_b+iKd_mrGfUm614=mMQEqwn=gvArarGo7PT=gr9ryG2A@mail.gmail.com>
 <20111028113342.GA14863@khaled-laptop>
Message-ID: <CAB6rp_YEVjZ5pqtMTeJbUJSzGaLWNV3wJzHs+9H3k_ouCaugDA@mail.gmail.com>

Well, if you are interested, we (me and you and anyone else interested) can
port bidi for luatex. You can work on the unicode bidi part and I work on
the TeX part.

On Fri, Oct 28, 2011 at 10:33 PM, Khaled Hosny <khaledhosny at eglug.org>wrote:

> On Fri, Oct 28, 2011 at 10:07:45PM +1100, Vafa Khalighi wrote:
> > Yes, you were not intersted in LaTeX. your luadirections does no do any
> TeX
> > bidi (it only implements unicode bidi) and it is not stable enough for
> everyday
> > LaTeX usage.
>
> Right, because ConTeXt already implements all the high level stuff I
> need, so I've to worry only about the low level bidi implementation. I
> did (at several times) try to do some LaTeX support, but I quickly give
> up, it is not the kind of stuff I like to spend my time on.
>
> Regards,
>  Khaled
>
> >
> > On Fri, Oct 28, 2011 at 9:16 PM, Khaled Hosny <khaledhosny at eglug.org>
> wrote:
> >
> >     On Fri, Oct 28, 2011 at 05:04:14PM +1100, Vafa Khalighi wrote:
> >     > In fact, in the past I asked Khaled id he would be interested but
> he
> >     > had no interest.
> >
> >     I don't recall saying that (may be I was not interested in the LaTeX
> >     part), otherwise I already have a bidi implementation in lua[1] and
> it
> >     serves my own (ConTeXt) document well enough.
> >
> >     [1] https://github.com/khaledhosny/luadirections
> >
> >     Regards,
> >      Khaled
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/69a02e7b/attachment.html>

From zdenek.wagner at gmail.com  Fri Oct 28 13:43:13 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 13:43:13 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
Message-ID: <CAC1phyZEtxGL0LtGa9Q_Zj+PbLBdZVtUqb-EfHH__v30HGZBHw@mail.gmail.com>

2011/10/28 Vafa Khalighi <vafaklg at gmail.com>:
> Hi
> Since Jonathan has no time any more for coding XeTeX, then what will be the
> state of XeTeX in TeX distributions such as TeXLive? will be XeTeX removed
> from TeXLive just like Aleph and Omega (in favour of LuaTeX) were removed
> from TeXLive?
> Currently we have a large number of Persian TeX users and they need XeTeX
> and if XeTeX gets removed from TeX distribution, then it would create lots
> of problems for our community. Currently I am working on porting my works to
> luatex but that at least takes few years to become stable enough.

I do not know any precise number but it seems to me there are a lot of
XeTeX users in India. Moreover, the Prague Bulletin of Mathematical
Linguistics is typeset by XeLaTeX. Thus I hope XeTeX will not be
removed within a decade.

> Thanks



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From mojca.miklavec.lists at gmail.com  Fri Oct 28 13:58:18 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 28 Oct 2011 13:58:18 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
Message-ID: <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>

On Fri, Oct 28, 2011 at 13:19, Vafa Khalighi wrote:
> Hi
> Since Jonathan has no time any more for coding XeTeX, then what will be the
> state of XeTeX in TeX distributions such as TeXLive? will be XeTeX removed
> from TeXLive just like Aleph and Omega (in favour of LuaTeX) were removed
> from TeXLive?

Omega was remove because it was buggy, unmaintained, but most
important of all: hardly usable. It took a genius to figure out how to
use it, while XeTeX is exactly the contrary. It simplifies everything
in comparison to pdfTeX. Omega was low quality and Aleph was
deprecated also because LuaTeX now contains all functionality that was
worth keeping.

There is no reason to remove XeTeX yet (unless it gets merged with
LuaTeX one day, but that won't happen yet), but it is true that a
maintainer is desperately needed. If nothing else, if nobody adapts
the code, it might stop working with next version of Mac OS X or a
version after that.

Mojca

From werner at suse.de  Fri Oct 28 14:20:14 2011
From: werner at suse.de (Dr. Werner Fink)
Date: Fri, 28 Oct 2011 14:20:14 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <5C3EDF5A-913B-40BE-BBC7-2F2B27E9B366@gmail.com>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <qved6m96xjtx.dlg@nililand.de>
 <20111028100821.GA31799@boole.suse.de>
 <5C3EDF5A-913B-40BE-BBC7-2F2B27E9B366@gmail.com>
Message-ID: <20111028122013.GH6054@boole.suse.de>

On Fri, Oct 28, 2011 at 11:35:20AM +0100, Jonathan Kew wrote:
> On 28 Oct 2011, at 11:08, Dr. Werner Fink wrote:
> > 
> > Reading the source code of web2c/xetexdir/XeTeXFontMgr_FC.cpp for
> > xetex and xdvipdfmx/src/fontmap.c and a short comparision by testing
> > leads me to the conclusion that XeTeXFontMgr_FC.cpp should be
> > redesigned.  This because it reads in *all* fonts (very slow)
> > and holds it in its own memory based cache ...
> 
> This is necessary to fully support xetex's font management - e.g., IIRC fontconfig patterns do not provide optical-size support. (Performance could be improved by caching details across runs, and just fstat'ing the files to check if they've changed, but simply using Fc patterns and relying on the Fc cache is not sufficient.)
> 

Hmmm ... OK the current implementation ignores the cache of fontconfig its
self but it is annoying slow (try to compile XeTeX-reference.ltx). An other
problem seems that not all fonts used by the documentation are part of the
TeXLive font tree.

The question is how often fonts below the TeXLive font tree will change.
Beside this fontconfig has a recheck scheme even with timings.


     Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From gnwiii at gmail.com  Fri Oct 28 14:33:28 2011
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 28 Oct 2011 09:33:28 -0300
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
Message-ID: <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>

On Fri, Oct 28, 2011 at 8:58 AM, Mojca Miklavec
<mojca.miklavec.lists at gmail.com> wrote:

> On Fri, Oct 28, 2011 at 13:19, Vafa Khalighi wrote:
>> Hi
>> Since Jonathan has no time any more for coding XeTeX, then what will be the
>> state of XeTeX in TeX distributions such as TeXLive? will be XeTeX removed
>> from TeXLive just like Aleph and Omega (in favour of LuaTeX) were removed
>> from TeXLive?
>
> Omega was remove because it was buggy, unmaintained, but most
> important of all: hardly usable. It took a genius to figure out how to
> use it, while XeTeX is exactly the contrary. It simplifies everything
> in comparison to pdfTeX. Omega was low quality and Aleph was
> deprecated also because LuaTeX now contains all functionality that was
> worth keeping.
>
> There is no reason to remove XeTeX yet (unless it gets merged with
> LuaTeX one day, but that won't happen yet), but it is true that a
> maintainer is desperately needed. If nothing else, if nobody adapts
> the code, it might stop working with next version of Mac OS X or a
> version after that.

If I have an old house that meets my needs but has substandard
plumbing and wiring, I may be in desperate need of a contractor
who can bring it up to current standards, or I can tear it down and
build a new house.  Both options are expensive, but renovation
involves greater uncertainties requires more skills than does new
construction, so unless there are other considerations (house is a
historical landmark), new construction is often better than renovation.

Clearly XeTeX fills a need, but that doesn't mean it deserves ongoing
development.   The groups that rely on XeTeX have to either find a way
to support development or switch to a new engine, which at present is
LuaTeX.   There has already been discussion of what would be needed
to make the changes in XeTeX, maybe there needs to be discussion
(in LuaTeX forums) of the barriers to adoption faced by the groups who
currently rely on XeTeX.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From vafaklg at gmail.com  Fri Oct 28 14:49:59 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Fri, 28 Oct 2011 23:49:59 +1100
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
Message-ID: <CAB6rp_ZDWsnVQWpXtDM_BXX7rCiaFNF=UHpq=9UrO+rwkChr2Q@mail.gmail.com>

That is not entirely true. Should the users of TeX (those who use Knuth's
original TeX engine) support the development of Knuth TeX or move to another
engine just because Knuth no longer extends TeX and he only fixes bugs?

On Fri, Oct 28, 2011 at 11:33 PM, George N. White III <gnwiii at gmail.com>wrote:

> On Fri, Oct 28, 2011 at 8:58 AM, Mojca Miklavec
> <mojca.miklavec.lists at gmail.com> wrote:
>
> > On Fri, Oct 28, 2011 at 13:19, Vafa Khalighi wrote:
> >> Hi
> >> Since Jonathan has no time any more for coding XeTeX, then what will be
> the
> >> state of XeTeX in TeX distributions such as TeXLive? will be XeTeX
> removed
> >> from TeXLive just like Aleph and Omega (in favour of LuaTeX) were
> removed
> >> from TeXLive?
> >
> > Omega was remove because it was buggy, unmaintained, but most
> > important of all: hardly usable. It took a genius to figure out how to
> > use it, while XeTeX is exactly the contrary. It simplifies everything
> > in comparison to pdfTeX. Omega was low quality and Aleph was
> > deprecated also because LuaTeX now contains all functionality that was
> > worth keeping.
> >
> > There is no reason to remove XeTeX yet (unless it gets merged with
> > LuaTeX one day, but that won't happen yet), but it is true that a
> > maintainer is desperately needed. If nothing else, if nobody adapts
> > the code, it might stop working with next version of Mac OS X or a
> > version after that.
>
> If I have an old house that meets my needs but has substandard
> plumbing and wiring, I may be in desperate need of a contractor
> who can bring it up to current standards, or I can tear it down and
> build a new house.  Both options are expensive, but renovation
> involves greater uncertainties requires more skills than does new
> construction, so unless there are other considerations (house is a
> historical landmark), new construction is often better than renovation.
>
> Clearly XeTeX fills a need, but that doesn't mean it deserves ongoing
> development.   The groups that rely on XeTeX have to either find a way
> to support development or switch to a new engine, which at present is
> LuaTeX.   There has already been discussion of what would be needed
> to make the changes in XeTeX, maybe there needs to be discussion
> (in LuaTeX forums) of the barriers to adoption faced by the groups who
> currently rely on XeTeX.
>
> --
> George N. White III <aa056 at chebucto.ns.ca>
> Head of St. Margarets Bay, Nova Scotia
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/6bf90e42/attachment.html>

From zdenek.wagner at gmail.com  Fri Oct 28 14:50:53 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 14:50:53 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
Message-ID: <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>

2011/10/28 George N. White III <gnwiii at gmail.com>:
> On Fri, Oct 28, 2011 at 8:58 AM, Mojca Miklavec
> <mojca.miklavec.lists at gmail.com> wrote:
>
>> On Fri, Oct 28, 2011 at 13:19, Vafa Khalighi wrote:
>>> Hi
>>> Since Jonathan has no time any more for coding XeTeX, then what will be the
>>> state of XeTeX in TeX distributions such as TeXLive? will be XeTeX removed
>>> from TeXLive just like Aleph and Omega (in favour of LuaTeX) were removed
>>> from TeXLive?
>>
>> Omega was remove because it was buggy, unmaintained, but most
>> important of all: hardly usable. It took a genius to figure out how to
>> use it, while XeTeX is exactly the contrary. It simplifies everything
>> in comparison to pdfTeX. Omega was low quality and Aleph was
>> deprecated also because LuaTeX now contains all functionality that was
>> worth keeping.
>>
>> There is no reason to remove XeTeX yet (unless it gets merged with
>> LuaTeX one day, but that won't happen yet), but it is true that a
>> maintainer is desperately needed. If nothing else, if nobody adapts
>> the code, it might stop working with next version of Mac OS X or a
>> version after that.
>
> If I have an old house that meets my needs but has substandard
> plumbing and wiring, I may be in desperate need of a contractor
> who can bring it up to current standards, or I can tear it down and
> build a new house. ?Both options are expensive, but renovation
> involves greater uncertainties requires more skills than does new
> construction, so unless there are other considerations (house is a
> historical landmark), new construction is often better than renovation.
>
> Clearly XeTeX fills a need, but that doesn't mean it deserves ongoing
> development. ? The groups that rely on XeTeX have to either find a way
> to support development or switch to a new engine, which at present is
> LuaTeX. ? There has already been discussion of what would be needed
> to make the changes in XeTeX, maybe there needs to be discussion
> (in LuaTeX forums) of the barriers to adoption faced by the groups who
> currently rely on XeTeX.
>
Generally, all XeTeX documents must render in luatex without the need
of modifying the source. I see that things are changing. Simple ??????
?????? fails in luatex from TL 2010 but works in TL 2011. We cannot
switch from XeTeX to luatex today but it may be possible in the
future.
> --
> George N. White III <aa056 at chebucto.ns.ca>
> Head of St. Margarets Bay, Nova Scotia
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From vafaklg at gmail.com  Fri Oct 28 14:54:49 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Fri, 28 Oct 2011 23:54:49 +1100
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAB6rp_ZDWsnVQWpXtDM_BXX7rCiaFNF=UHpq=9UrO+rwkChr2Q@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAB6rp_ZDWsnVQWpXtDM_BXX7rCiaFNF=UHpq=9UrO+rwkChr2Q@mail.gmail.com>
Message-ID: <CAB6rp_buQQEs1-n3mPJMLX2dBGbT-=ewSSDwzz1shAX8j2BDLA@mail.gmail.com>

My question in the first place had nothing to do with the development of
XeTeX. In fact it is a long time that there has been no development for
XeTeX and I have no problem with that.  What scares me is that XeTeX may be
unusable in say several years.

On Fri, Oct 28, 2011 at 11:49 PM, Vafa Khalighi <vafaklg at gmail.com> wrote:

> That is not entirely true. Should the users of TeX (those who use Knuth's
> original TeX engine) support the development of Knuth TeX or move to another
> engine just because Knuth no longer extends TeX and he only fixes bugs?
>
>
> On Fri, Oct 28, 2011 at 11:33 PM, George N. White III <gnwiii at gmail.com>wrote:
>
>> On Fri, Oct 28, 2011 at 8:58 AM, Mojca Miklavec
>> <mojca.miklavec.lists at gmail.com> wrote:
>>
>> > On Fri, Oct 28, 2011 at 13:19, Vafa Khalighi wrote:
>> >> Hi
>> >> Since Jonathan has no time any more for coding XeTeX, then what will be
>> the
>> >> state of XeTeX in TeX distributions such as TeXLive? will be XeTeX
>> removed
>> >> from TeXLive just like Aleph and Omega (in favour of LuaTeX) were
>> removed
>> >> from TeXLive?
>> >
>> > Omega was remove because it was buggy, unmaintained, but most
>> > important of all: hardly usable. It took a genius to figure out how to
>> > use it, while XeTeX is exactly the contrary. It simplifies everything
>> > in comparison to pdfTeX. Omega was low quality and Aleph was
>> > deprecated also because LuaTeX now contains all functionality that was
>> > worth keeping.
>> >
>> > There is no reason to remove XeTeX yet (unless it gets merged with
>> > LuaTeX one day, but that won't happen yet), but it is true that a
>> > maintainer is desperately needed. If nothing else, if nobody adapts
>> > the code, it might stop working with next version of Mac OS X or a
>> > version after that.
>>
>> If I have an old house that meets my needs but has substandard
>> plumbing and wiring, I may be in desperate need of a contractor
>> who can bring it up to current standards, or I can tear it down and
>> build a new house.  Both options are expensive, but renovation
>> involves greater uncertainties requires more skills than does new
>> construction, so unless there are other considerations (house is a
>> historical landmark), new construction is often better than renovation.
>>
>> Clearly XeTeX fills a need, but that doesn't mean it deserves ongoing
>> development.   The groups that rely on XeTeX have to either find a way
>> to support development or switch to a new engine, which at present is
>> LuaTeX.   There has already been discussion of what would be needed
>> to make the changes in XeTeX, maybe there needs to be discussion
>> (in LuaTeX forums) of the barriers to adoption faced by the groups who
>> currently rely on XeTeX.
>>
>> --
>> George N. White III <aa056 at chebucto.ns.ca>
>> Head of St. Margarets Bay, Nova Scotia
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/58c1c9e8/attachment-0001.html>

From haines at histomat.net  Fri Oct 28 15:00:38 2011
From: haines at histomat.net (Haines Brown)
Date: Fri, 28 Oct 2011 09:00:38 -0400
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111027231517.GB31484@gamma.logic.tuwien.ac.at>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
 <20111027172432.GA19912@HistoricalMaterialism.info>
 <20111027231517.GB31484@gamma.logic.tuwien.ac.at>
Message-ID: <20111028130038.GB19912@HistoricalMaterialism.info>

On Fri, Oct 28, 2011 at 08:15:17AM +0900, Norbert Preining wrote:
> Hi,
> 
> On Do, 27 Okt 2011, Haines Brown wrote:
> > > That should install TL2009 again (BUT DON'T MIND THAT!!) and you should
> > > get a fixed installation.
> > 
> > I followed these directions without any problem.
> 
> Good.

> As said, there would have been no need to have re-installed everything,
> the above chown would have made it available to you.
> 
> Probably you now have two copies, one under /usr/local/texlive/2011,
> and one under ~/texlive/2011.
> 
> If you only use the one in ~/texlive/2011, you can delete the one in 
> /usr/local

I find that the installation failed: 

  Downloading http://ftp.math.purdue.edu/mirrors/ctan.org/systems/\
    texlive/tlnet/archive/impatient-fr.tar.xz did not succeed.
  Installation failed.
  Rerunning the installer will try to restart the installation.
  Or you can restart by running the installer with:
    install-tl --profile installation.profile [EXTRA-ARGS]
  Writing install-tl.log in current working directory.
  Segmentation fault

I don't know what this "impatient-fr" is. Certainly a lot did download 
from the archive. I can run the installer again and see after the five 
hours or so if I get the same message, but I'd rather know what 
happened.

The log had this:

  Loading http://ftp.math.purdue.edu/mirrors/ctan.org/systems/texlive/tlnet/tlpkg$
  Installing TeX Live 2011 from: http://ftp.math.purdue.edu/mirrors/ctan.org/syst$
  Platform: i386-linux => 'Intel x86 with GNU/Linux'
  Distribution: net  (downloading)
  Using URL: http://ftp.math.purdue.edu/mirrors/ctan.org/systems/texlive/tlnet
  Directory for temporary files: /tmp

My /tmp directory is huge.

  Installing [1022/2361, time/total: 01:42:55/04:14:32]: hyphen-interlingua [1k]
  Installing [1023/2361, time/total: 01:

Ouch. This is where the log stops. I'll bet the break point was 
"impatient-fr". This says installation stopped before two hours. I'm 
about to rerun installation, but it will have to run when I'm out of 
town for a few days.

Haines Brown

From khaledhosny at eglug.org  Fri Oct 28 12:16:51 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 12:16:51 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
 <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
Message-ID: <20111028101651.GA14277@khaled-laptop>

On Fri, Oct 28, 2011 at 05:04:14PM +1100, Vafa Khalighi wrote:
> In fact, in the past I asked Khaled id he would be interested but he
> had no interest.

I don't recall saying that (may be I was not interested in the LaTeX
part), otherwise I already have a bidi implementation in lua[1] and it
serves my own (ConTeXt) document well enough.

[1] https://github.com/khaledhosny/luadirections

Regards,
 Khaled

From khaledhosny at eglug.org  Fri Oct 28 13:33:42 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 13:33:42 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CAB6rp_b+iKd_mrGfUm614=mMQEqwn=gvArarGo7PT=gr9ryG2A@mail.gmail.com>
References: <j89mvg$spl$1@dough.gmane.org>
 <201110262136.p9QLakQZ023684@freefriends.org>
 <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
 <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
 <20111028101651.GA14277@khaled-laptop>
 <CAB6rp_b+iKd_mrGfUm614=mMQEqwn=gvArarGo7PT=gr9ryG2A@mail.gmail.com>
Message-ID: <20111028113342.GA14863@khaled-laptop>

On Fri, Oct 28, 2011 at 10:07:45PM +1100, Vafa Khalighi wrote:
> Yes, you were not intersted in LaTeX. your luadirections does no do any TeX
> bidi (it only implements unicode bidi) and it is not stable enough for everyday
> LaTeX usage.

Right, because ConTeXt already implements all the high level stuff I
need, so I've to worry only about the low level bidi implementation. I
did (at several times) try to do some LaTeX support, but I quickly give
up, it is not the kind of stuff I like to spend my time on.

Regards,
 Khaled

> 
> On Fri, Oct 28, 2011 at 9:16 PM, Khaled Hosny <khaledhosny at eglug.org> wrote:
> 
>     On Fri, Oct 28, 2011 at 05:04:14PM +1100, Vafa Khalighi wrote:
>     > In fact, in the past I asked Khaled id he would be interested but he
>     > had no interest.
> 
>     I don't recall saying that (may be I was not interested in the LaTeX
>     part), otherwise I already have a bidi implementation in lua[1] and it
>     serves my own (ConTeXt) document well enough.
> 
>     [1] https://github.com/khaledhosny/luadirections
> 
>     Regards,
>     ?Khaled
> 
> 

From khaledhosny at eglug.org  Fri Oct 28 13:53:54 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 13:53:54 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
References: <8102.1319746225@cl.cam.ac.uk>
 <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
Message-ID: <20111028115354.GA15309@khaled-laptop>

On Thu, Oct 27, 2011 at 10:39:13PM +0100, Jonathan Kew wrote:
> I believe the worst of the problems with xetex/xdvipdfmx font
> mismatches due to multiple versions of the same-named font could
> actually be fixed fairly easily, by modifying xetex so that (when
> using fontconfig to find fonts) it always writes the absolute path to
> the font file into the xdv output (as if the font had been specified
> by absolute pathname in the source document).

Trying to understand XDV files, I found that dviasm does not support it,
so I hacked it a bit and it can now dump XDV files (but does not write
them back), I put it here[1] in case anyone is interested. (That is
first time I look into DVI format, also XDV is not really documented so
I, more or less, blindly followed what xdvipdfmx's dvi.c is doing).

[1] http://www.khaledhosny.org/files/tmp/dviasm.py

Regards,
 Khaled

From khaledhosny at eglug.org  Fri Oct 28 13:56:00 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 13:56:00 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <CAB6rp_YEVjZ5pqtMTeJbUJSzGaLWNV3wJzHs+9H3k_ouCaugDA@mail.gmail.com>
References: <j8c4gf$rcv$1@dough.gmane.org>
 <CAP7DCDe-b7tSRK7=PigqqjJzvq6L7eXR+TFeZTxkva0x6jNYgQ@mail.gmail.com>
 <j8c61t$6ip$1@dough.gmane.org>
 <CAP7DCDdnAmvoHrEwmuSNkurC9Zu7z1JxecKLXeUZ5kgBhyxx1g@mail.gmail.com>
 <CAC1phyZT2_Saspi-+m-mahcr6zOhC6memCuQC_ofPJML26Krvg@mail.gmail.com>
 <CAB6rp_Zp8y3edPSOyuW-ogA+Se0wDZesnb1sF4ZJ+pEjiRM8ew@mail.gmail.com>
 <20111028101651.GA14277@khaled-laptop>
 <CAB6rp_b+iKd_mrGfUm614=mMQEqwn=gvArarGo7PT=gr9ryG2A@mail.gmail.com>
 <20111028113342.GA14863@khaled-laptop>
 <CAB6rp_YEVjZ5pqtMTeJbUJSzGaLWNV3wJzHs+9H3k_ouCaugDA@mail.gmail.com>
Message-ID: <20111028115600.GB15309@khaled-laptop>

I can try looking into bugs reported in my lua code, that is all I can
promise.

Regards,
 Khaled

On Fri, Oct 28, 2011 at 10:41:13PM +1100, Vafa Khalighi wrote:
> Well, if you are interested, we (me and you and anyone else interested) can
> port bidi for luatex. You can work on the unicode bidi part and I work on the
> TeX part.
> 
> On Fri, Oct 28, 2011 at 10:33 PM, Khaled Hosny <khaledhosny at eglug.org> wrote:
> 
>     On Fri, Oct 28, 2011 at 10:07:45PM +1100, Vafa Khalighi wrote:
>     > Yes, you were not intersted in LaTeX. your luadirections does no do any
>     TeX
>     > bidi (it only implements unicode bidi) and it is not stable enough for
>     everyday
>     > LaTeX usage.
> 
>     Right, because ConTeXt already implements all the high level stuff I
>     need, so I've to worry only about the low level bidi implementation. I
>     did (at several times) try to do some LaTeX support, but I quickly give
>     up, it is not the kind of stuff I like to spend my time on.
> 
>     Regards,
>     ?Khaled
> 
>     >
>     > On Fri, Oct 28, 2011 at 9:16 PM, Khaled Hosny <khaledhosny at eglug.org>
>     wrote:
>     >
>     > ? ? On Fri, Oct 28, 2011 at 05:04:14PM +1100, Vafa Khalighi wrote:
>     > ? ? > In fact, in the past I asked Khaled id he would be interested but
>     he
>     > ? ? > had no interest.
>     >
>     > ? ? I don't recall saying that (may be I was not interested in the LaTeX
>     > ? ? part), otherwise I already have a bidi implementation in lua[1] and
>     it
>     > ? ? serves my own (ConTeXt) document well enough.
>     >
>     > ? ? [1] https://github.com/khaledhosny/luadirections
>     >
>     > ? ? Regards,
>     > ? ? ?Khaled
>     >
>     >
> 
> 

From khaledhosny at eglug.org  Fri Oct 28 14:03:52 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 14:03:52 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
Message-ID: <20111028120352.GA15436@khaled-laptop>

On Fri, Oct 28, 2011 at 01:58:18PM +0200, Mojca Miklavec wrote:
> If nothing else, if nobody adapts the code, it might stop working with
> next version of Mac OS X or a version after that.

I assume this is related to native Mac font APIs, right? But then I
think the worst case with to disable that losing AAT font support, but
OpenType fonts would still work using ICU (which I believe is also used
on Mac).

Regards,
 Khaled

From vafaklg at gmail.com  Fri Oct 28 16:33:38 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Sat, 29 Oct 2011 01:33:38 +1100
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAB6rp_buQQEs1-n3mPJMLX2dBGbT-=ewSSDwzz1shAX8j2BDLA@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAB6rp_ZDWsnVQWpXtDM_BXX7rCiaFNF=UHpq=9UrO+rwkChr2Q@mail.gmail.com>
 <CAB6rp_buQQEs1-n3mPJMLX2dBGbT-=ewSSDwzz1shAX8j2BDLA@mail.gmail.com>
Message-ID: <CAB6rp_bYQGn_5j7tPON0vNH04KUunSR+E+fEn60u3s7uTi+x_Q@mail.gmail.com>

As an example, the attached PDF is just a portion of a maths textbook with
the title "Theory of Ordinary Differential Equation and Dynamic Systems"
which has been typeset using XePersian and    it is published just today in
Iran.

http://www.mehrnews.com/fa/newsdetail.aspx?NewsID=1440752
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111029/41ce984b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Pages_of_Theory_of_Ordinary_Differential_equations.pdf
Type: application/pdf
Size: 155321 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111029/41ce984b/attachment-0001.pdf>

From khaledhosny at eglug.org  Fri Oct 28 16:58:11 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 16:58:11 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
Message-ID: <20111028145811.GB16575@khaled-laptop>

On Fri, Oct 28, 2011 at 02:50:53PM +0200, Zdenek Wagner wrote:
> Generally, all XeTeX documents must render in luatex without the need
> of modifying the source. I see that things are changing. Simple ??????
> ?????? fails in luatex from TL 2010 but works in TL 2011. We cannot
> switch from XeTeX to luatex today but it may be possible in the
> future.

I by works you mean you are getting some output, then this is true,
otherwise I don't think you will get correct Indic rendering with the
current OpenType "engine" used by luatex packages.

Regards,
 Khaled

From Robin.Fairbairns at cl.cam.ac.uk  Fri Oct 28 16:59:48 2011
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 28 Oct 2011 15:59:48 +0100
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: Your message of Sat, 29 Oct 2011 01:33:38 +1100.
 <CAB6rp_bYQGn_5j7tPON0vNH04KUunSR+E+fEn60u3s7uTi+x_Q@mail.gmail.com>
Message-ID: <9687.1319813988@cl.cam.ac.uk>

Vafa Khalighi <vafaklg at gmail.com> wrote:

> As an example, the attached PDF is just a portion of a maths textbook with
> the title "Theory of Ordinary Differential Equation and Dynamic Systems"
> which has been typeset using XePersian and it is  published just today
> in Iran.
> [1]http://www.mehrnews.com/fa/newsdetail.aspx?NewsID=1440752
>[...]

impressive.

*some day*, we may get to the point where luatex can be used as a
replacement for anything xetex currently does: at *that* point, one
might consider migrating things so that we only need the one engine with
continued support.

until that day, we *must* hold on to xetex.

robin

From zdenek.wagner at gmail.com  Fri Oct 28 17:57:20 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 17:57:20 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111028145811.GB16575@khaled-laptop>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
Message-ID: <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>

2011/10/28 Khaled Hosny <khaledhosny at eglug.org>:
> On Fri, Oct 28, 2011 at 02:50:53PM +0200, Zdenek Wagner wrote:
>> Generally, all XeTeX documents must render in luatex without the need
>> of modifying the source. I see that things are changing. Simple ??????
>> ?????? fails in luatex from TL 2010 but works in TL 2011. We cannot
>> switch from XeTeX to luatex today but it may be possible in the
>> future.
>
> I by works you mean you are getting some output, then this is true,
> otherwise I don't think you will get correct Indic rendering with the
> current OpenType "engine" used by luatex packages.
>
In Devanagari, there are two important features: creation of conjuncts
(correct even in luatex of TL 2010) and moving short "I" matra in
front of the consonant (correct in lualatex of TL 2011 but not TL
2010, I can send you the PDF's for comparison, if you like). I have
not done any test with mor complex text (I will try some of my files).
I cannot test other Indic scripts because I do not know them. Tibetan
script may be difficult.

> Regards,
> ?Khaled
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From khaledhosny at eglug.org  Fri Oct 28 18:40:03 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 18:40:03 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
Message-ID: <20111028164003.GA17335@khaled-laptop>

On Fri, Oct 28, 2011 at 05:57:20PM +0200, Zdenek Wagner wrote:
> 2011/10/28 Khaled Hosny <khaledhosny at eglug.org>:
> > On Fri, Oct 28, 2011 at 02:50:53PM +0200, Zdenek Wagner wrote:
> >> Generally, all XeTeX documents must render in luatex without the need
> >> of modifying the source. I see that things are changing. Simple ??????
> >> ?????? fails in luatex from TL 2010 but works in TL 2011. We cannot
> >> switch from XeTeX to luatex today but it may be possible in the
> >> future.
> >
> > I by works you mean you are getting some output, then this is true,
> > otherwise I don't think you will get correct Indic rendering with the
> > current OpenType "engine" used by luatex packages.
> >
> In Devanagari, there are two important features: creation of conjuncts
> (correct even in luatex of TL 2010) and moving short "I" matra in
> front of the consonant (correct in lualatex of TL 2011 but not TL
> 2010, I can send you the PDF's for comparison, if you like). I have
> not done any test with mor complex text (I will try some of my files).
> I cannot test other Indic scripts because I do not know them. Tibetan
> script may be difficult.

I don't know much about Indic scripts, all I know is that we have no
special code for Indic shaping, so if things work then it works because
it relies on generic OpenType features that require no special handling
from the engine.

Regards,
 Khaled

From zdenek.wagner at gmail.com  Fri Oct 28 19:37:00 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 19:37:00 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111028164003.GA17335@khaled-laptop>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028164003.GA17335@khaled-laptop>
Message-ID: <CAC1phyYTeDfw4MftKjE=jYJ+U1nWstms+yfo20XEBOMV1zpw_A@mail.gmail.com>

2011/10/28 Khaled Hosny <khaledhosny at eglug.org>:
> On Fri, Oct 28, 2011 at 05:57:20PM +0200, Zdenek Wagner wrote:
> I don't know much about Indic scripts, all I know is that we have no
> special code for Indic shaping, so if things work then it works because
> it relies on generic OpenType features that require no special handling
> from the engine.
>
Sorry for the noise, I was not careful enough to look and forgot that
I see the XeLaTeX result, not lualatex. The rendering is not correct
and when I tried a real Hindi text (a few poems) it looks really
terribly. I know the rules for Devanagari but do not know where to
plug them in. My knowledge of luatex is almost zero, I have just
passed Taco's lua tutorial last year on CM at Brejlov. Lua as a
language will not be difficult for me (I already know Algol, PL/I, C,
C++, Perl, PHP, Pascal, Java, Tcl), I just have to learn lua's TeX
interface.

> Regards,
> ?Khaled
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From khaledhosny at eglug.org  Fri Oct 28 19:42:26 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 19:42:26 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAC1phyYTeDfw4MftKjE=jYJ+U1nWstms+yfo20XEBOMV1zpw_A@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028164003.GA17335@khaled-laptop>
 <CAC1phyYTeDfw4MftKjE=jYJ+U1nWstms+yfo20XEBOMV1zpw_A@mail.gmail.com>
Message-ID: <20111028174226.GA17794@khaled-laptop>

On Fri, Oct 28, 2011 at 07:37:00PM +0200, Zdenek Wagner wrote:
> 2011/10/28 Khaled Hosny <khaledhosny at eglug.org>:
> > On Fri, Oct 28, 2011 at 05:57:20PM +0200, Zdenek Wagner wrote:
> > I don't know much about Indic scripts, all I know is that we have no
> > special code for Indic shaping, so if things work then it works because
> > it relies on generic OpenType features that require no special handling
> > from the engine.
> >
> Sorry for the noise, I was not careful enough to look and forgot that
> I see the XeLaTeX result, not lualatex. The rendering is not correct
> and when I tried a real Hindi text (a few poems) it looks really
> terribly. I know the rules for Devanagari but do not know where to
> plug them in. My knowledge of luatex is almost zero, I have just
> passed Taco's lua tutorial last year on CM at Brejlov. Lua as a
> language will not be difficult for me (I already know Algol, PL/I, C,
> C++, Perl, PHP, Pascal, Java, Tcl), I just have to learn lua's TeX
> interface.

I think it would not be hard to convince Hans to write the code once he
is given a clear specification (but that would require familiarity with
OpenType and how it handles Indic shaping as well) and someone who can
do the testing.

Regards,
 Khaled

From zdenek.wagner at gmail.com  Fri Oct 28 20:49:00 2011
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Oct 2011 20:49:00 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111028174226.GA17794@khaled-laptop>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028164003.GA17335@khaled-laptop>
 <CAC1phyYTeDfw4MftKjE=jYJ+U1nWstms+yfo20XEBOMV1zpw_A@mail.gmail.com>
 <20111028174226.GA17794@khaled-laptop>
Message-ID: <CAC1phyZEsLzAmO=OgZN9tE5yUUQjGAfJ1sp9TFf=-KTRqOLKjw@mail.gmail.com>

2011/10/28 Khaled Hosny <khaledhosny at eglug.org>:
> I think it would not be hard to convince Hans to write the code once he
> is given a clear specification (but that would require familiarity with
> OpenType and how it handles Indic shaping as well) and someone who can
> do the testing.
>
The rules are coded in ICU and Pango and described in the Unicode
standard with enough examples for Devanagari. Simply stated, the "I"
matra U+03F must precede a consonant group (consonats connected with
virama U+094D) after which it appears. Consonant + virama + ra
(U+0930) does not follow normal rule for conjuncts but a special repha
sign is used. Ra + virama + consonant group + optional matra should be
rendered so that the Ra is displayed as the hook-like symbol at the
write edge of the syllable. If the syllable ends with anusvara
(U+0902), the anusvara is printed inside the RA hook.
The consonant may contain both a matra below (short u = U+0941, long u
= U+0942) and an anusvara (U+0902) or candrabindu (U+0901) above. They
should be vertically aligned but it is not in nowadays luatex. There
may be other rules, I will have to think more. I have enough Hindi
texts to test whether Devanagari works. I cannot help with other Indic
scripts.

And there is also normalization problem. For instance, ZA (U+0958) can
be alternatively coded as JA (U+091C) followed by a nukta (U+093C).
Some fonts do not have ZA so that it must be combined, some fonts
contain ZA and do not contain nukta so that ZA must not be combined,
some fonts contain both. XeTeX as default does not perfprm any
normalization but both methods ZA <---> JA + nukta can be switched on.
There are other characters that can be represented by another
character with nukta appended.

> Regards,
> ?Khaled
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From tomasek at etf.cuni.cz  Fri Oct 28 22:44:10 2011
From: tomasek at etf.cuni.cz (Petr Tomasek)
Date: Fri, 28 Oct 2011 22:44:10 +0200
Subject: [tex-live] [XeTeX]  Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111028120352.GA15436@khaled-laptop>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <20111028120352.GA15436@khaled-laptop>
Message-ID: <20111028204410.GA3536@ebed.etf.cuni.cz>

On Fri, Oct 28, 2011 at 02:03:52PM +0200, Khaled Hosny wrote:
> On Fri, Oct 28, 2011 at 01:58:18PM +0200, Mojca Miklavec wrote:
> > If nothing else, if nobody adapts the code, it might stop working with
> > next version of Mac OS X or a version after that.
> 
> I assume this is related to native Mac font APIs, right? But then I
> think the worst case with to disable that losing AAT font support, but
> OpenType fonts would still work using ICU (which I believe is also used
> on Mac).
> 
> Regards,
>  Khaled

What is the status of the harfbuzz-ng backend support in XeTeX?

-- 
Petr Tomasek <http://www.etf.cuni.cz/~tomasek>
Jabber: butrus at jabbim.cz

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
EA 355:001  DU DU DU DU
EA 355:002  TU TU TU TU
EA 355:003  NU NU NU NU NU NU NU
EA 355:004  NA NA NA NA NA
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



From khaledhosny at eglug.org  Fri Oct 28 23:44:45 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 28 Oct 2011 23:44:45 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
References: <8102.1319746225@cl.cam.ac.uk>
 <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
Message-ID: <20111028214445.GA23135@khaled-laptop>

On Thu, Oct 27, 2011 at 10:39:13PM +0100, Jonathan Kew wrote:
> I believe the worst of the problems with xetex/xdvipdfmx font
> mismatches due to multiple versions of the same-named font could
> actually be fixed fairly easily, by modifying xetex so that (when
> using fontconfig to find fonts) it always writes the absolute path to
> the font file into the xdv output (as if the font had been specified
> by absolute pathname in the source document).

It turned out not that hard, the attached (very minimal patch) will
cause xetex to always write the full path to the XDV file (or so shows
the dviasm I patched, which makes me feel very confident :p) No idea
how this would affect xdv2pdf, though.

I did not test on actual "problematic" files, though. If someone has
such a file I'd be glade to test it.

Regards,
 Khaled
-------------- next part --------------
A non-text attachment was scrubbed...
Name: XeTeX_ext.diff
Type: text/x-diff
Size: 411 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20111028/7e610163/attachment.bin>

From preining at logic.at  Sat Oct 29 00:54:12 2011
From: preining at logic.at (Norbert Preining)
Date: Sat, 29 Oct 2011 07:54:12 +0900
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111028130038.GB19912@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
 <20111027172432.GA19912@HistoricalMaterialism.info>
 <20111027231517.GB31484@gamma.logic.tuwien.ac.at>
 <20111028130038.GB19912@HistoricalMaterialism.info>
Message-ID: <20111028225412.GB12821@gamma.logic.tuwien.ac.at>

On Fr, 28 Okt 2011, Haines Brown wrote:
>   Segmentation fault

Ouch. But no idea how this could happen,and why?

Can you please turn of a virus scanner during installation?
The problem is that sometimes virus scanners etc hold locks onto
directories and that might create problems.

>   Installing [1022/2361, time/total: 01:42:55/04:14:32]: hyphen-interlingua [1k]

Furthermore, you have a *very* slow connection!?!?

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
ROCHESTER (n.)
One who is able to gain occupation of the armrest on both sides of
their cinema or aircraft seat.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sat Oct 29 00:56:33 2011
From: preining at logic.at (Norbert Preining)
Date: Sat, 29 Oct 2011 07:56:33 +0900
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
Message-ID: <20111028225633.GC12821@gamma.logic.tuwien.ac.at>

On Fr, 28 Okt 2011, Zdenek Wagner wrote:
> I cannot test other Indic scripts because I do not know them. Tibetan
> script may be difficult.

Tibetan is much simpler than Devanagari scripts. It has a certain amount
of fixed ligatures, plus a fw rules if one wants to make non-standard
ligatures (practically only used for transcribing Sanskrit texts). I wrote
long time ago otp/ocp for omega to do the stuff. That can easilybe
proted to luatex.

WRT xetex, I don't know much about good otf fonts for Tibetan, but
there are for sure some.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
`...You hadn't exactly gone out of your way to call
attention to them had you? I mean like actually telling
anyone or anything.'
`But the plans were on display...'
`On display? I eventually had to go down to the cellar to
find them.'
`That's the display department.'
`With a torch.'
`Ah, well the lights had probably gone.'
`So had the stairs.'
`But look you found the notice didn't you?'
yes I did. It was on display in the
bottom of a locked filing cabinet stuck in a disused
lavatory with a sign on the door saying "Beware of The
Leopard".'
                 --- Arthur singing the praises of the local council planning
                 --- department.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From jfkthame at googlemail.com  Sat Oct 29 09:40:35 2011
From: jfkthame at googlemail.com (Jonathan Kew)
Date: Sat, 29 Oct 2011 08:40:35 +0100
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <20111028214445.GA23135@khaled-laptop>
References: <8102.1319746225@cl.cam.ac.uk>
 <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
 <20111028214445.GA23135@khaled-laptop>
Message-ID: <1D5B5432-FD8B-4C9A-B036-E873035810B9@gmail.com>

On 28 Oct 2011, at 22:44, Khaled Hosny wrote:

> On Thu, Oct 27, 2011 at 10:39:13PM +0100, Jonathan Kew wrote:
>> I believe the worst of the problems with xetex/xdvipdfmx font
>> mismatches due to multiple versions of the same-named font could
>> actually be fixed fairly easily, by modifying xetex so that (when
>> using fontconfig to find fonts) it always writes the absolute path to
>> the font file into the xdv output (as if the font had been specified
>> by absolute pathname in the source document).
> 
> It turned out not that hard, the attached (very minimal patch) will
> cause xetex to always write the full path to the XDV file (or so shows
> the dviasm I patched, which makes me feel very confident :p) No idea
> how this would affect xdv2pdf, though.

It would break xetex on macosx (whether using xdvipdfmx or xdv2pdf), where getFontFilename(engine) will often return NULL.

Yes, the change is not hard, as I said earlier, but it does need to be done with care. Probably something like this (untested) would work:

 		engine = (XeTeXLayoutEngine)fontlayoutengine[f];
-		fontRef = getFontRef(engine);
-		if (fontRef != 0)
-			getNames(fontRef, &psName, &famName, &styName);
-		else {
-			psName = getFontFilename(engine);
+		psName = getFontFilename(engine);
+		if (psName) {
 			famName = "";
 			styName = "";
 		}
+		else {
+			getNames(getFontRef(engine), &psName, &famName, &styName);
+		}
 

(BTW, the xetex list would be a better forum to discuss xetex bugs and patches.)

JK



From rv15cap at gmail.com  Sat Oct 29 20:18:26 2011
From: rv15cap at gmail.com (ravi)
Date: Sat, 29 Oct 2011 20:18:26 +0200
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <20111021165451.GB10860@gamma.logic.tuwien.ac.at>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
 <CABYg0u3ZA72pz-d4i3ibqH1noGKueMQ2423miWTW59GkWGfJ=A@mail.gmail.com>
 <20111021165451.GB10860@gamma.logic.tuwien.ac.at>
Message-ID: <CABYg0u1b37otQWbTNLYcy8RzCs=g29rpyu5eqLSP-Mj=74C7oA@mail.gmail.com>

Hi list experts!

But besides that, that looks all very normal and in order.
>
> Do you actually have *problems*? Please describe what are your problems!
>

After receiving this reply, I did a check and confirmed that I had no
problems. Why then did I get the ?failed messages? when updating the tlmgr?
I don't know.  Anyway, I decided to wait and do some more testing. Since
then, I have come up with the following questions
1. I would like to know where I should place a *.sty file in the texlive
installation. The background to this is as follows :
I work with R, a language and environment for statistical computing. This
includes a command for Sweave, which is a command for literate programming
where one can combine latex, R code and its results. From R, starting with a
raw "no web" dokument, I am able to convert it into a tex file. But I get
stuck in the next step of converting to a pdf file. I get an error message
that the "Sweave.sty" file is not found. I did a apt-file search and located
this is located in the following location :
*/usr/share/R/share/texmf/tex/latex/Sweave.sty*
I have copied it into the following location :
*/usr/local/texlive/2011/texmf-dist/tex/latex/*
Is this the right location? I can ask people at the R help list, but since I
have done a texlive 2011 installation from source (instead of from the
Ubuntu software centre), I have come here to this forum. Can you please tell
me where you would recommend the placement of *.sty files so that the
pdflatex processing finds them. In a couple of days, a new version of R will
be released. This carries with it a new version of Sweave.sty file. What is
the recommended method of dealing with *.sty files that are upgraded often?
2. My next question is related to the first. The serious R users work with
ess (?emacs speaks with statistics?), a kind of IDE with emacs for R.
Auctexs seems to be used here for the Sweaving process. I don't know much
about Auctex (having worked so far only with texworks), but I suppose that
it needs texlive as well. If I install Auctex from the Ubuntu software
centre, I suspect that there would be a dependancy problem because only
texlive 2009 is supported there. Indeed, I have seen a blog where there is
some discussion of using a package called ?equivs? to make installed texlive
2011 version as the tex source. I tried the steps outlined there, but those
did not work for me. I would appreciate all help in the right use of
?equivs?, or alternatively any other method of solving this problem.
3. I straight away went for the texlive 2011 installation. Could I get at
least a short answer as to what I have gained with the texlive 2011 version
as compared to the 2009 version provided by Ubuntu. If I install again with
Ubuntu 11.10, I would like to know what my options are.
Thanks,
Ravi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111029/d6ceaf25/attachment.html>

From gnwiii at gmail.com  Sat Oct 29 23:57:04 2011
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 29 Oct 2011 18:57:04 -0300
Subject: [tex-live] failed messages on updating texlive2011
In-Reply-To: <CABYg0u1b37otQWbTNLYcy8RzCs=g29rpyu5eqLSP-Mj=74C7oA@mail.gmail.com>
References: <CABYg0u27rZ0C-1wMOfd-E-6C40sLQcd=GXtH+GSUK7POXKYZ4g@mail.gmail.com>
 <20111020230047.GA19397@gamma.logic.tuwien.ac.at>
 <CABYg0u3ZA72pz-d4i3ibqH1noGKueMQ2423miWTW59GkWGfJ=A@mail.gmail.com>
 <20111021165451.GB10860@gamma.logic.tuwien.ac.at>
 <CABYg0u1b37otQWbTNLYcy8RzCs=g29rpyu5eqLSP-Mj=74C7oA@mail.gmail.com>
Message-ID: <CAKTOP46UC6w70arWPrn93VOnLpvLYgJoR5oM3BomP+_mjPoSSQ@mail.gmail.com>

On Sat, Oct 29, 2011 at 3:18 PM, ravi <rv15cap at gmail.com> wrote:

> Hi list experts!
>
>> But besides that, that looks all very normal and in order.
>>
>> Do you actually have *problems*? Please describe what are your problems!
>
>
> After receiving this reply, I did a check and confirmed that I had no
> problems. Why then did I get the ?failed messages? when updating the tlmgr?
> I don't know.? Anyway, I decided to wait and do some more testing. Since
> then, I have come up with the following questions

If you installed as root first it is quite possible that some of the
user directories
were owned by root.  Check permissions in your home directory (don't forget
hidden files/directories).

> 1. I would like to know where I should place a *.sty file in the texlive
> installation. The background to this is as follows :
> I work with R, a language and environment for statistical computing. This
> includes a command for Sweave, which is a command for literate programming
> where one can combine latex, R code and its results. From R, starting with a
> raw "no web" dokument, I am able to convert it into a tex file. But I get
> stuck in the next step of converting to a pdf file. I get an error message
> that the "Sweave.sty" file is not found. I did a apt-file search and located
> this is located in the following location :
> /usr/share/R/share/texmf/tex/latex/Sweave.sty
> I have copied it into the following location :
> /usr/local/texlive/2011/texmf-dist/tex/latex/
> Is this the right location? I can ask people at the R help list, but since I
> have done a texlive 2011 installation from source (instead of from the
> Ubuntu software centre), I have come here to this forum. Can you please tell
> me where you would recommend the placement of *.sty files so that the
> pdflatex processing finds them. In a couple of days, a new version of R will
> be released. This carries with it a new version of Sweave.sty file. What is
> the recommended method of dealing with *.sty files that are upgraded often?

This is not a good choice, as it will stop working when a new
version of texlive is installed.  The TL documentation mentions this
problem and suggests what to use.

See: <http://statmath.wu.ac.at/software/R/qfin/> also documents the
recommended location for Sweave.sty.

> 2. My next question is related to the first. The serious R users work with
> ess (?emacs speaks with statistics?), a kind of IDE with emacs for R.
> Auctexs seems to be used here for the Sweaving process. I don't know much
> about Auctex (having worked so far only with texworks), but I suppose that
> it needs texlive as well. If I install Auctex from the Ubuntu software
> centre, I suspect that there would be a dependancy problem because only
> texlive 2009 is supported there. Indeed, I have seen a blog where there is
> some discussion of using a package called ?equivs? to make installed texlive
> 2011 version as the tex source. I tried the steps outlined there, but those
> did not work for me. I would appreciate all help in the right use of
> ?equivs?, or alternatively any other method of solving this problem.

With very few caveats (enough disk, TL installed without symlinks in
/usr/bin) all versions of CTAN TL can coexists with distro texlive packages.
You can switch back and forth by adjusting the PATH variable.

There is also rstudio, from the Feb, 2011 announcement:

"RStudio is a new open-source IDE for R which we?re excited to
announce the availability of today. RStudio has interesting features
for both new and experienced R developers including code completion,
execute from source, searchable history, and support for authoring
Sweave documents. RStudio runs on all major desktop platforms
(Windows, Mac OS X, Ubuntu, or [...]"

In general, R provides high-level packages to help create documents, so
if you use the tools you shouldn't need to do any installs to TeX Live.  If
you do want to add packages, you should put them in a local texmf tree,
by default, /usr/local/texlive/texmf-local.




In general, R provides high-level packages to help create documents, so
if you use the tools you shouldn't need to do any installs to TeX Live.  If
you do want to add packages, you should put them in a local texmf tree,
by default, /usr/local/texlive/texmf-local.

The R documentation tools have to work on a wide range of systems so
should work with standard distro packages of TL (at least until those
encounter the
5-year latex expiration problem).

> 3. I straight away went for the texlive 2011 installation. Could I get at
> least a short answer as to what I have gained with the texlive 2011 version
> as compared to the 2009 version provided by Ubuntu. If I install again with
> Ubuntu 11.10, I would like to know what my options are.

You may avoid some bugs in the distro TL2009 packages that have been
fixed in TL2011.   TL2011 was not tested with Ubuntu 11.10, so it is
possible that
you will encounter problems, but in general, new versions of TL have
been tested to ensure that widely used styles like Sweave.sty continue
to work,
and Sweave.sty avoids new features so that it works with older TeX systems.


> Thanks,
> Ravi
>



-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From vafaklg at gmail.com  Sun Oct 30 06:25:21 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Sun, 30 Oct 2011 16:25:21 +1100
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
Message-ID: <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>

XeTeX font support is heaps better and  stable than what luaotfload
package  offers and I guess that is why many users still like using xetex
instead luatex. I personally believe that it is a bad practice that
luaotfload just copies ConTeXt code, it should not be deeply dependent on
ConTeXt because Hans may want to try experimenting with some features today
and next day he gets rid of them just like the recent updates of luaotfload
that Khaled talked about it. I think, this is awful! What should users who
used those features (and need it heavily in their daily typesetting tasks,
do?). They wake up one day and suddenly see that yes, luaotfload does not
provide the features they need. luaotfload needs to be written from scratch
independent of any ConTeXt code.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111030/edc98999/attachment.html>

From khaledhosny at eglug.org  Sun Oct 30 11:10:05 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 30 Oct 2011 12:10:05 +0200
Subject: [tex-live] Fontconfig for XeTeX versus regular fontconfig
In-Reply-To: <1D5B5432-FD8B-4C9A-B036-E873035810B9@gmail.com>
References: <8102.1319746225@cl.cam.ac.uk>
 <F8A4FE07-EC26-418E-B723-39EB0183623D@gmail.com>
 <20111028214445.GA23135@khaled-laptop>
 <1D5B5432-FD8B-4C9A-B036-E873035810B9@gmail.com>
Message-ID: <20111030101004.GB2217@khaled-laptop>

On Sat, Oct 29, 2011 at 08:40:35AM +0100, Jonathan Kew wrote:
> On 28 Oct 2011, at 22:44, Khaled Hosny wrote:
> 
> > On Thu, Oct 27, 2011 at 10:39:13PM +0100, Jonathan Kew wrote:
> >> I believe the worst of the problems with xetex/xdvipdfmx font
> >> mismatches due to multiple versions of the same-named font could
> >> actually be fixed fairly easily, by modifying xetex so that (when
> >> using fontconfig to find fonts) it always writes the absolute path to
> >> the font file into the xdv output (as if the font had been specified
> >> by absolute pathname in the source document).
> > 
> > It turned out not that hard, the attached (very minimal patch) will
> > cause xetex to always write the full path to the XDV file (or so shows
> > the dviasm I patched, which makes me feel very confident :p) No idea
> > how this would affect xdv2pdf, though.
> 
> It would break xetex on macosx (whether using xdvipdfmx or xdv2pdf),
> where getFontFilename(engine) will often return NULL.
> 
> Yes, the change is not hard, as I said earlier, but it does need to be
> done with care. Probably something like this (untested) would work:

But this leaves the original issue partially unfixed, may be we would
instead make sure getFontFilename(engine) returns a file name, if
xdvipdfmx can resolve a file name the font name, then surely xetex can,
or does sdvipdfmx use some system API that returns font data from
memory? (off to check the code :) )

[...]

> (BTW, the xetex list would be a better forum to discuss xetex bugs and patches.)

I'm not subscribed to xetex list, also I'm building xetex from texlive
svn tree since xetex's svn does not build for me, so may be I'd need
texlive help at some point.

Regards,
 Khaled

From khaledhosny at eglug.org  Sun Oct 30 11:42:46 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 30 Oct 2011 12:42:46 +0200
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
Message-ID: <20111030104246.GC2217@khaled-laptop>

On Sun, Oct 30, 2011 at 04:25:21PM +1100, Vafa Khalighi wrote:
> XeTeX font support is heaps better and? stable than what luaotfload package?
> offers and I guess that is why many users still like using xetex instead
> luatex. I personally believe that it is a bad practice that luaotfload just
> copies ConTeXt code, it should not be deeply dependent on ConTeXt because Hans
> may want to try experimenting with some features today and next day he gets rid
> of them just like the recent updates of luaotfload that Khaled talked about it.
> I think, this is awful! What should users who used those features (and need it
> heavily in their daily typesetting tasks, do?). They wake up one day and
> suddenly see that yes, luaotfload does not provide the features they need.
> luaotfload needs to be written from scratch independent of any ConTeXt code.

The situation is not as bad as you make it seems, what have gone is two
minor features that IMO was a mistake to provide them in the first
place, but since we are talking about a yet to be released version of
luaotfload, there might be an alternate solution at the time of release.

Writing an OpenType layout engine is not a simple task, and you can
judge from the many years it toke FOSS community to have a really good
one, HarfBuzz (the name luaotfload is misleading, font loading is about
the easiest part of luaotfload, OpenType implementation is really what
matters.) If it were for me, I'd plug HarfBuzz into luatex proper and
call it a day, but this does not align well with the "design" principles
of luatex so it is unlikely to happen.

The main goal of luaotfload, besides having an OpenType engine for
lualatex, is too make sure we don't end up with two different OpenType
implementations for luatex, each broken in its own way. OpenType is such
a horribly documented "standard" that is there is no single
implementation of it that does not have its own share of bugs (it is
often not easy to tell if a bug is a bug or since the documentation are
so fuzzy in certain areas).

Regards,
 Khaled

From gnwiii at gmail.com  Sun Oct 30 13:20:19 2011
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 30 Oct 2011 09:20:19 -0300
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111030104246.GC2217@khaled-laptop>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
 <20111030104246.GC2217@khaled-laptop>
Message-ID: <CAKTOP45LJJ_6uT9-iHGOoJwjVzoT+3uNSyAQp2evSmZ=w9VmrA@mail.gmail.com>

On Sun, Oct 30, 2011 at 7:42 AM, Khaled Hosny <khaledhosny at eglug.org> wrote:

> On Sun, Oct 30, 2011 at 04:25:21PM +1100, Vafa Khalighi wrote:
>> XeTeX font support is heaps better and? stable than what luaotfload package
>> offers and I guess that is why many users still like using xetex instead
>> luatex. I personally believe that it is a bad practice that luaotfload just
>> copies ConTeXt code, it should not be deeply dependent on ConTeXt because Hans
>> may want to try experimenting with some features today and next day he gets rid
>> of them just like the recent updates of luaotfload that Khaled talked about it.
>> I think, this is awful! What should users who used those features (and need it
>> heavily in their daily typesetting tasks, do?). They wake up one day and
>> suddenly see that yes, luaotfload does not provide the features they need.
>> luaotfload needs to be written from scratch independent of any ConTeXt code.
>
> The situation is not as bad as you make it seems, what have gone is two
> minor features that IMO was a mistake to provide them in the first
> place, but since we are talking about a yet to be released version of
> luaotfload, there might be an alternate solution at the time of release.
>
> Writing an OpenType layout engine is not a simple task, and you can
> judge from the many years it toke FOSS community to have a really good
> one, HarfBuzz (the name luaotfload is misleading, font loading is about
> the easiest part of luaotfload, OpenType implementation is really what
> matters.) If it were for me, I'd plug HarfBuzz into luatex proper and
> call it a day, but this does not align well with the "design" principles
> of luatex so it is unlikely to happen.

If plugging harfbuzz into luatex does not require a huge effort, it could
serve as bridge from xetex to luatex while a more principled design
is being created.   Principles are nice, and have benefits over the long
haul, but in cases where the design is evolving it really helps to get
an implementation into the hands of users and let them point out the
areas where work is needed.

> The main goal of luaotfload, besides having an OpenType engine for
> lualatex, is too make sure we don't end up with two different OpenType
> implementations for luatex, each broken in its own way. OpenType is such
> a horribly documented "standard" that is there is no single
> implementation of it that does not have its own share of bugs (it is
> often not easy to tell if a bug is a bug or since the documentation are
> so fuzzy in certain areas).

The way to bring clarity in cases of fuzzy standards is for one implementation,
perhaps harfbuzz-ng is a candidate, as the reference and try to match
that behaviour.
The reference implementation won't be perfect, but needs to be open to change as
problems are identified.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia


From tomasek at etf.cuni.cz  Sun Oct 30 17:18:18 2011
From: tomasek at etf.cuni.cz (Petr Tomasek)
Date: Sun, 30 Oct 2011 17:18:18 +0100
Subject: [tex-live] [XeTeX]  Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAKTOP45LJJ_6uT9-iHGOoJwjVzoT+3uNSyAQp2evSmZ=w9VmrA@mail.gmail.com>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
 <20111030104246.GC2217@khaled-laptop>
 <CAKTOP45LJJ_6uT9-iHGOoJwjVzoT+3uNSyAQp2evSmZ=w9VmrA@mail.gmail.com>
Message-ID: <20111030161818.GA11249@ebed.etf.cuni.cz>

On Sun, Oct 30, 2011 at 09:20:19AM -0300, George N. White III wrote:
> On Sun, Oct 30, 2011 at 7:42 AM, Khaled Hosny <khaledhosny at eglug.org> wrote:
> 
> > On Sun, Oct 30, 2011 at 04:25:21PM +1100, Vafa Khalighi wrote:
> >> XeTeX font support is heaps better and? stable than what luaotfload package
> >> offers and I guess that is why many users still like using xetex instead
> >> luatex. I personally believe that it is a bad practice that luaotfload just
> >> copies ConTeXt code, it should not be deeply dependent on ConTeXt because Hans
> >> may want to try experimenting with some features today and next day he gets rid
> >> of them just like the recent updates of luaotfload that Khaled talked about it.
> >> I think, this is awful! What should users who used those features (and need it
> >> heavily in their daily typesetting tasks, do?). They wake up one day and
> >> suddenly see that yes, luaotfload does not provide the features they need.
> >> luaotfload needs to be written from scratch independent of any ConTeXt code.
> >
> > The situation is not as bad as you make it seems, what have gone is two
> > minor features that IMO was a mistake to provide them in the first
> > place, but since we are talking about a yet to be released version of
> > luaotfload, there might be an alternate solution at the time of release.
> >
> > Writing an OpenType layout engine is not a simple task, and you can
> > judge from the many years it toke FOSS community to have a really good
> > one, HarfBuzz (the name luaotfload is misleading, font loading is about
> > the easiest part of luaotfload, OpenType implementation is really what
> > matters.) If it were for me, I'd plug HarfBuzz into luatex proper and
> > call it a day, but this does not align well with the "design" principles
> > of luatex so it is unlikely to happen.
> 
> If plugging harfbuzz into luatex does not require a huge effort, it could
> serve as bridge from xetex to luatex while a more principled design
> is being created.

It would be better to have XeTeX with a stable HarfBuzz-ng support.

Actually, I think little people need more then than what XeTTeX acctually
provides...

-- 
Petr Tomasek <http://www.etf.cuni.cz/~tomasek>
Jabber: butrus at jabbim.cz

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
EA 355:001  DU DU DU DU
EA 355:002  TU TU TU TU
EA 355:003  NU NU NU NU NU NU NU
EA 355:004  NA NA NA NA NA
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



From vafaklg at gmail.com  Sun Oct 30 17:29:30 2011
From: vafaklg at gmail.com (Vafa Khalighi)
Date: Mon, 31 Oct 2011 03:29:30 +1100
Subject: [tex-live] [XeTeX] Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111030161818.GA11249@ebed.etf.cuni.cz>
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
 <20111030104246.GC2217@khaled-laptop>
 <CAKTOP45LJJ_6uT9-iHGOoJwjVzoT+3uNSyAQp2evSmZ=w9VmrA@mail.gmail.com>
 <20111030161818.GA11249@ebed.etf.cuni.cz>
Message-ID: <CAB6rp_aFppQLvSN8hLKiUxh7f-okeaYmGgokGPsyZok0kW+t3w@mail.gmail.com>

Are you talking about TeX--XeT bidirectional typesetting algorithm?

No, It has several major bugs and it is not perfect for RTL typesetting (ok
but not perfect).

On Mon, Oct 31, 2011 at 3:18 AM, Petr Tomasek <tomasek at etf.cuni.cz> wrote:

> On Sun, Oct 30, 2011 at 09:20:19AM -0300, George N. White III wrote:
> > On Sun, Oct 30, 2011 at 7:42 AM, Khaled Hosny <khaledhosny at eglug.org>
> wrote:
> >
> > > On Sun, Oct 30, 2011 at 04:25:21PM +1100, Vafa Khalighi wrote:
> > >> XeTeX font support is heaps better and  stable than what luaotfload
> package
> > >> offers and I guess that is why many users still like using xetex
> instead
> > >> luatex. I personally believe that it is a bad practice that
> luaotfload just
> > >> copies ConTeXt code, it should not be deeply dependent on ConTeXt
> because Hans
> > >> may want to try experimenting with some features today and next day
> he gets rid
> > >> of them just like the recent updates of luaotfload that Khaled talked
> about it.
> > >> I think, this is awful! What should users who used those features
> (and need it
> > >> heavily in their daily typesetting tasks, do?). They wake up one day
> and
> > >> suddenly see that yes, luaotfload does not provide the features they
> need.
> > >> luaotfload needs to be written from scratch independent of any
> ConTeXt code.
> > >
> > > The situation is not as bad as you make it seems, what have gone is two
> > > minor features that IMO was a mistake to provide them in the first
> > > place, but since we are talking about a yet to be released version of
> > > luaotfload, there might be an alternate solution at the time of
> release.
> > >
> > > Writing an OpenType layout engine is not a simple task, and you can
> > > judge from the many years it toke FOSS community to have a really good
> > > one, HarfBuzz (the name luaotfload is misleading, font loading is about
> > > the easiest part of luaotfload, OpenType implementation is really what
> > > matters.) If it were for me, I'd plug HarfBuzz into luatex proper and
> > > call it a day, but this does not align well with the "design"
> principles
> > > of luatex so it is unlikely to happen.
> >
> > If plugging harfbuzz into luatex does not require a huge effort, it could
> > serve as bridge from xetex to luatex while a more principled design
> > is being created.
>
> It would be better to have XeTeX with a stable HarfBuzz-ng support.
>
> Actually, I think little people need more then than what XeTTeX acctually
> provides...
>
> --
> Petr Tomasek <http://www.etf.cuni.cz/~tomasek>
> Jabber: butrus at jabbim.cz
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> EA 355:001  DU DU DU DU
> EA 355:002  TU TU TU TU
> EA 355:003  NU NU NU NU NU NU NU
> EA 355:004  NA NA NA NA NA
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111031/0c661a0f/attachment.html>

From tomasek at etf.cuni.cz  Sun Oct 30 17:41:13 2011
From: tomasek at etf.cuni.cz (Petr Tomasek)
Date: Sun, 30 Oct 2011 17:41:13 +0100
Subject: [tex-live] [XeTeX] Ftuture state of XeTeX in TeXLive
In-Reply-To: <CAB6rp_aFppQLvSN8hLKiUxh7f-okeaYmGgokGPsyZok0kW+t3w@mail.gmail.com>
References: <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
 <20111030104246.GC2217@khaled-laptop>
 <CAKTOP45LJJ_6uT9-iHGOoJwjVzoT+3uNSyAQp2evSmZ=w9VmrA@mail.gmail.com>
 <20111030161818.GA11249@ebed.etf.cuni.cz>
 <CAB6rp_aFppQLvSN8hLKiUxh7f-okeaYmGgokGPsyZok0kW+t3w@mail.gmail.com>
Message-ID: <20111030164113.GA21128@ebed.etf.cuni.cz>

On Mon, Oct 31, 2011 at 03:29:30AM +1100, Vafa Khalighi wrote:
> Are you talking about TeX--XeT bidirectional typesetting algorithm?

Sorry that was a typo, am using a slow connection and a mutt on a server
over ssh...

> No, It has several major bugs and it is not perfect for RTL typesetting (ok
> but not perfect).

I meant XeTeX as opposed to LuaTeX...

> On Mon, Oct 31, 2011 at 3:18 AM, Petr Tomasek <tomasek at etf.cuni.cz> wrote:
> 
> > On Sun, Oct 30, 2011 at 09:20:19AM -0300, George N. White III wrote:
> > > On Sun, Oct 30, 2011 at 7:42 AM, Khaled Hosny <khaledhosny at eglug.org>
> > wrote:
> > >
> > > > On Sun, Oct 30, 2011 at 04:25:21PM +1100, Vafa Khalighi wrote:
> > > >> XeTeX font support is heaps better and  stable than what luaotfload
> > package
> > > >> offers and I guess that is why many users still like using xetex
> > instead
> > > >> luatex. I personally believe that it is a bad practice that
> > luaotfload just
> > > >> copies ConTeXt code, it should not be deeply dependent on ConTeXt
> > because Hans
> > > >> may want to try experimenting with some features today and next day
> > he gets rid
> > > >> of them just like the recent updates of luaotfload that Khaled talked
> > about it.
> > > >> I think, this is awful! What should users who used those features
> > (and need it
> > > >> heavily in their daily typesetting tasks, do?). They wake up one day
> > and
> > > >> suddenly see that yes, luaotfload does not provide the features they
> > need.
> > > >> luaotfload needs to be written from scratch independent of any
> > ConTeXt code.
> > > >
> > > > The situation is not as bad as you make it seems, what have gone is two
> > > > minor features that IMO was a mistake to provide them in the first
> > > > place, but since we are talking about a yet to be released version of
> > > > luaotfload, there might be an alternate solution at the time of
> > release.
> > > >
> > > > Writing an OpenType layout engine is not a simple task, and you can
> > > > judge from the many years it toke FOSS community to have a really good
> > > > one, HarfBuzz (the name luaotfload is misleading, font loading is about
> > > > the easiest part of luaotfload, OpenType implementation is really what
> > > > matters.) If it were for me, I'd plug HarfBuzz into luatex proper and
> > > > call it a day, but this does not align well with the "design"
> > principles
> > > > of luatex so it is unlikely to happen.
> > >
> > > If plugging harfbuzz into luatex does not require a huge effort, it could
> > > serve as bridge from xetex to luatex while a more principled design
> > > is being created.
> >
> > It would be better to have XeTeX with a stable HarfBuzz-ng support.
> >
> > Actually, I think little people need more then than what XeTTeX acctually
> > provides...
> >
> > --
> > Petr Tomasek <http://www.etf.cuni.cz/~tomasek>
> > Jabber: butrus at jabbim.cz
> >
> > ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> > EA 355:001  DU DU DU DU
> > EA 355:002  TU TU TU TU
> > EA 355:003  NU NU NU NU NU NU NU
> > EA 355:004  NA NA NA NA NA
> > ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> >
> >
> >
> 

-- 
Petr Tomasek <http://www.etf.cuni.cz/~tomasek>
Jabber: butrus at jabbim.cz

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
EA 355:001  DU DU DU DU
EA 355:002  TU TU TU TU
EA 355:003  NU NU NU NU NU NU NU
EA 355:004  NA NA NA NA NA
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



From haines at histomat.net  Sun Oct 30 18:47:59 2011
From: haines at histomat.net (Haines Brown)
Date: Sun, 30 Oct 2011 13:47:59 -0400
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111028225412.GB12821@gamma.logic.tuwien.ac.at>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
 <20111027172432.GA19912@HistoricalMaterialism.info>
 <20111027231517.GB31484@gamma.logic.tuwien.ac.at>
 <20111028130038.GB19912@HistoricalMaterialism.info>
 <20111028225412.GB12821@gamma.logic.tuwien.ac.at>
Message-ID: <20111030174759.GC19912@HistoricalMaterialism.info>

On Sat, Oct 29, 2011 at 07:54:12AM +0900, Norbert Preining wrote:
> On Fr, 28 Okt 2011, Haines Brown wrote:
> >   Segmentation fault
> 
> Ouch. But no idea how this could happen,and why?
> 
> Can you please turn of a virus scanner during installation?
> The problem is that sometimes virus scanners etc hold locks onto
> directories and that might create problems.

I had to be away and came back to find that the download had failed 
for a second time. Took four tries before I had a complete 
installation (tested it; it works).

I don't think I have any virus scanning (don't run windows).
 
> >  Installing [1022/2361, time/total: 01:42:55/04:14:32]: hyphen-interlingua [1k] 
> 
> Furthermore, you have a *very* slow connection!?!?

Interesting. It has been many years since I've thought about 
connection speed. I find that my down/upload speed (ping) is 1.05/0.41 
Mb/sec and I should be getting more like 36/16 Mb/sec. I'll have to 
explore this further.
 
Thanks again for your helpful input.

Haines Brown


From khaledhosny at eglug.org  Sun Oct 30 18:59:57 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 30 Oct 2011 19:59:57 +0200
Subject: [tex-live] [XeTeX]  Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111030161818.GA11249@ebed.etf.cuni.cz>
References: <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
 <20111030104246.GC2217@khaled-laptop>
 <CAKTOP45LJJ_6uT9-iHGOoJwjVzoT+3uNSyAQp2evSmZ=w9VmrA@mail.gmail.com>
 <20111030161818.GA11249@ebed.etf.cuni.cz>
Message-ID: <20111030175957.GA12612@khaled-laptop>

On Sun, Oct 30, 2011 at 05:18:18PM +0100, Petr Tomasek wrote:
> 
> Actually, I think little people need more then than what XeTTeX acctually
> provides...

"640kb ought to be enough for anybody."


From P.Taylor at Rhul.Ac.Uk  Sun Oct 30 19:10:37 2011
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Webmaster, Ret'd))
Date: Sun, 30 Oct 2011 18:10:37 +0000
Subject: [tex-live] [XeTeX]  Ftuture state of XeTeX in TeXLive
In-Reply-To: <20111030175957.GA12612@khaled-laptop>
References: <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
 <20111030104246.GC2217@khaled-laptop>
 <CAKTOP45LJJ_6uT9-iHGOoJwjVzoT+3uNSyAQp2evSmZ=w9VmrA@mail.gmail.com>
 <20111030161818.GA11249@ebed.etf.cuni.cz>
 <20111030175957.GA12612@khaled-laptop>
Message-ID: <4EAD931D.7090104@Rhul.Ac.Uk>



Khaled Hosny wrote:
> On Sun, Oct 30, 2011 at 05:18:18PM +0100, Petr Tomasek wrote:
>>
>> Actually, I think little people need more then than what XeTTeX acctually
>> provides...
>
> "640kb ought to be enough for anybody."

"I think there is a world market for maybe five computers."
			-- Thomas Watson, Chairman of IBM, 1943.


From mi+thun at aldan.algebra.com  Sun Oct 30 19:08:20 2011
From: mi+thun at aldan.algebra.com (Mikhail T.)
Date: Sun, 30 Oct 2011 14:08:20 -0400
Subject: [tex-live] utf-8.def not found
Message-ID: <4EAD9294.2020803@aldan.algebra.com>

Hello!

After replacing teTeX installation with TL-2011, I can no longer process 
a file with:

    \usepackage[utf-8]{inputenc}

in it... The error is:

    ! LaTeX Error: File `utf-8.def' not found.

The work-around is to sym-link the entire 
/texlive/texmf-dist/doc/generic/t2/etc/utf-8/* to the current directory...

This was definitely not a problem with teTeX (as installed by the 
FreeBSD port, at least), nor even with an /earlier/ TL, that I tried a 
few years ago.

Please, advise. Thank you!

    -mi

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111030/991e1ec6/attachment.html>

From mi+thun at aldan.algebra.com  Sun Oct 30 19:24:55 2011
From: mi+thun at aldan.algebra.com (Mikhail T.)
Date: Sun, 30 Oct 2011 14:24:55 -0400
Subject: [tex-live] images with multiple dots in filename rejected
Message-ID: <4EAD9677.2080602@aldan.algebra.com>

I had this problem with teTeX and tried switching to TexLive-2011 
hoping, this is fixed... When the name of an image-file referenced from 
a document contains more than one dot, such as in "photo.*foo-1.jpg*", 
the file is rejected:

    ! LaTeX Error: Unknown graphics extension: .*foo-1.jpg*.

Looking inside graphics.sty I see, that the parsing of the filename is 
done by the filename at parse macro. It would seem to me, that macro is 
simply buggy --- the last, rather than the first dot in the filename 
should be treated as the first character before extension. But teTeX had 
the same issue, so, perhaps, there are historical reasons for using the 
first dot...

If so, then graphics.sty (or the grfext?) should not base its decision 
on the macro's result.

Ideally, the image-file's type would be determined not from the file's 
name, but from its content (using either the file(1) or the magic(3) 
API, that file(1) itself is using).

Whatever the underlying reason, the images named like in the above 
example should not rejected... Thanks! Yours,

    -mi

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20111030/42184f6e/attachment.html>

From martin at oneiros.de  Sun Oct 30 20:40:53 2011
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 30 Oct 2011 20:40:53 +0100
Subject: [tex-live] images with multiple dots in filename rejected
In-Reply-To: <4EAD9677.2080602@aldan.algebra.com>
References: <4EAD9677.2080602@aldan.algebra.com>
Message-ID: <CAP7DCDcFuJUWJtfT6VdRsb74aLB2JvtUSdnoJy+8XWU3JHWwRg@mail.gmail.com>

2011/10/30 Mikhail T. <mi+thun at aldan.algebra.com>:
> I had this problem with teTeX and tried switching to TexLive-2011 hoping,
> this is fixed... When the name of an image-file referenced from a document
> contains more than one dot, such as in "photo.foo-1.jpg", the file is
> rejected:

\usepackage[multidot]{grffile}

Best
   Martin

PS: This mailing list is not for general TeX support; use texhax or
    tex.stackexchange for that.

From martin at oneiros.de  Sun Oct 30 20:43:01 2011
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 30 Oct 2011 20:43:01 +0100
Subject: [tex-live] utf-8.def not found
In-Reply-To: <4EAD9294.2020803@aldan.algebra.com>
References: <4EAD9294.2020803@aldan.algebra.com>
Message-ID: <CAP7DCDf3La_EyZiFWKEFPjO7msf8R_hwdDT3xeXwnX0OcmNHug@mail.gmail.com>

2011/10/30 Mikhail T. <mi+thun at aldan.algebra.com>:
> \usepackage[utf-8]{inputenc}

Who told you to write "utf-8"? It's wrong. Use

\usepackage[utf8]{inputenc}

instead.

Best
   Martin

From news3 at nililand.de  Mon Oct 31 10:10:06 2011
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 31 Oct 2011 10:10:06 +0100
Subject: [tex-live] Ftuture state of XeTeX in TeXLive
References: <CAB6rp_Z1ojv4J=MXPQXOaftrZh+MYJHjwJEbuagUkrgrDcPOOA@mail.gmail.com>
 <CALBOmsa1kPaATfbD33XpTcY-gOvqdCMxhypTdZP2nzk8sboyGw@mail.gmail.com>
 <CAKTOP47rMFb9+GzZbF1GKW3pQZFc4ONEk-YdSs2w1WjXLhCZpQ@mail.gmail.com>
 <CAC1phyYpNwHp+0EMvds-JB+ZBetPrudBa2tDJNe0nW3iHNjcrQ@mail.gmail.com>
 <20111028145811.GB16575@khaled-laptop>
 <CAC1phyYOmOnRuc6eZc050Bme-y=TXunRQip8ZOwLM6VYi0ZeAw@mail.gmail.com>
 <20111028225633.GC12821@gamma.logic.tuwien.ac.at>
 <CAB6rp_b1EvLiSznjL-2B8aKDzsKQi7vSUSjdrVR-U9Nc4z2GNg@mail.gmail.com>
Message-ID: <157pdcy3d7kzd.dlg@nililand.de>

Am Sun, 30 Oct 2011 16:25:21 +1100 schrieb Vafa Khalighi:

> XeTeX font support is heaps better and  stable than what luaotfload
> package  offers and I guess that is why many users still like using xetex
> instead luatex. 

That's why I recommend people who simply want to write e.g. their
thesis in peace xelatex oder lualatex. lualatex is still
experimental. 

> I personally believe that it is a bad practice that luaotfload
> just copies ConTeXt code, it should not be deeply dependent on
> ConTeXt

I don't think that it would be good if each format would have its
own code with perhaps its own syntax, its own font cache. 

Also writing a good font loader is not easy, you need quite a lot
knowledge to write and maintain a good fontloader. It would be silly
not to use the knowledge of Hans for LaTeX and to redo all the work
he has done.

But it is imho a problem that the font loader code of context is in
many places to deeply integrated in the context code. Font loading
is a very central part of each format based on luatex. luatex (as
engine) will at my opionion only survive if there is a reliably font
loader usable by everyone - from plain, context, latex ...  So a
font loader should be written as a sort of library with clear API
which can be used by every format. 


> because Hans may want to try experimenting with some features today
> and next day he gets rid of them just like the recent updates of luaotfload
> that Khaled talked about it. I think, this is awful!

How would independent Code solve the problem you are mentioning? The
author of every font loader could do experimenting. Or he could
suddendly switch to something else and then there is another large
unmaintained package around. 


-- 
Ulrike Fischer 


From bernhard.kleine at gmx.net  Mon Oct 31 14:35:36 2011
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Mon, 31 Oct 2011 14:35:36 +0100
Subject: [tex-live] Ubuntu update to 11.10 while texlive 2011 is installed
	independently
Message-ID: <1320068136.8780.17.camel@bkamd2000>

Hallo,

for the records.

I updated my Ubuntu 11.04 to 11.10 today. Everything went smooth, only
three packages did not install well: These were tex-common, kile and
texlive-latex-base. The error was due to installed symlinks for the
parallel texlive 2011 installation. After rebooting I removed with tlmgr
the symlinks and reinstalled kile again. With the symlinks for texlive
2011 removed, kile and the few tex-packages were configured correctly.
Another tlmgr session afterwards set the symlinks again, thus ensuring
that the compilation by kile uses tl2011.

kile depends on texlive-latex-base and this requires tex-common,
texlive-base, texlive-common and texlive-binaries. With these five
packages installed you will have fulfilled dependencies at least for
kile. For emacs and auctex there will only be a few additional packages
necessary.

Two points are therefore to be reminded: 

First: It is better to remove the tl2011 symlinks before updating the
distribution. Saves time. 

Second: I would not advise to install the full texlive (2009) from a
distribution, only those parts which are required by other packages.
Saves much space. 

Greetings from the Black Forest.

Bernhard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part
URL: <http://tug.org/pipermail/tex-live/attachments/20111031/bde3f4c3/attachment.bin>

From daleif at imf.au.dk  Mon Oct 31 14:58:16 2011
From: daleif at imf.au.dk (Lars Madsen)
Date: Mon, 31 Oct 2011 14:58:16 +0100
Subject: [tex-live] Ubuntu update to 11.10 while texlive 2011 is
 installed independently
In-Reply-To: <1320068136.8780.17.camel@bkamd2000>
References: <1320068136.8780.17.camel@bkamd2000>
Message-ID: <4EAEA978.4010403@imf.au.dk>

Bernhard Kleine wrote, On 2011-10-31 14:35:
> Hallo,
> 
> for the records.
> 
> I updated my Ubuntu 11.04 to 11.10 today. Everything went smooth, only
> three packages did not install well: These were tex-common, kile and
> texlive-latex-base. The error was due to installed symlinks for the
> parallel texlive 2011 installation. After rebooting I removed with tlmgr
> the symlinks and reinstalled kile again. With the symlinks for texlive
> 2011 removed, kile and the few tex-packages were configured correctly.
> Another tlmgr session afterwards set the symlinks again, thus ensuring
> that the compilation by kile uses tl2011.
> 
> kile depends on texlive-latex-base and this requires tex-common,
> texlive-base, texlive-common and texlive-binaries. With these five
> packages installed you will have fulfilled dependencies at least for
> kile. For emacs and auctex there will only be a few additional packages
> necessary.
> 
> Two points are therefore to be reminded: 
> 
> First: It is better to remove the tl2011 symlinks before updating the
> distribution. Saves time. 
> 
> Second: I would not advise to install the full texlive (2009) from a
> distribution, only those parts which are required by other packages.
> Saves much space. 
> 
> Greetings from the Black Forest.
> 
> Bernhard

build/use the equivs package to tell Ubuntu that these dependencies have 
been meet. Then you do not need to install anything TeX related from 
Ubuntu, and Kile and Emacs will install just fine.

-- 

/daleif

From bernhard.kleine at gmx.net  Mon Oct 31 15:29:31 2011
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Mon, 31 Oct 2011 15:29:31 +0100
Subject: [tex-live] Ubuntu update to 11.10 while texlive 2011 is
 installed independently
In-Reply-To: <4EAEA978.4010403@imf.au.dk>
References: <1320068136.8780.17.camel@bkamd2000> <4EAEA978.4010403@imf.au.dk>
Message-ID: <1320071370.10525.2.camel@bkamd2000>

Am Montag, den 31.10.2011, 14:58 +0100 schrieb Lars Madsen:
> Bernhard Kleine wrote, On 2011-10-31 14:35:
> > Hallo,
> > 
> > for the records.
> > 
> > I updated my Ubuntu 11.04 to 11.10 today. Everything went smooth, only
> > three packages did not install well: These were tex-common, kile and
> > texlive-latex-base. The error was due to installed symlinks for the
> > parallel texlive 2011 installation. After rebooting I removed with tlmgr
> > the symlinks and reinstalled kile again. With the symlinks for texlive
> > 2011 removed, kile and the few tex-packages were configured correctly.
> > Another tlmgr session afterwards set the symlinks again, thus ensuring
> > that the compilation by kile uses tl2011.
> > 
> > kile depends on texlive-latex-base and this requires tex-common,
> > texlive-base, texlive-common and texlive-binaries. With these five
> > packages installed you will have fulfilled dependencies at least for
> > kile. For emacs and auctex there will only be a few additional packages
> > necessary.
> > 
> > Two points are therefore to be reminded: 
> > 
> > First: It is better to remove the tl2011 symlinks before updating the
> > distribution. Saves time. 
> > 
> > Second: I would not advise to install the full texlive (2009) from a
> > distribution, only those parts which are required by other packages.
> > Saves much space. 
> > 
> > Greetings from the Black Forest.
> > 
> > Bernhard
> 
> build/use the equivs package to tell Ubuntu that these dependencies have 
> been meet. Then you do not need to install anything TeX related from 
> Ubuntu, and Kile and Emacs will install just fine.
> 
Earlier i.e two years ago I had such a package. However, with some
upgrade the usability of this file had gone. I have only a minimal old
texlive installation from ubuntu and a full from texlive2011. I do not
worry about hd space. I think I takes more time to make new equivs than
to add and remove symlinks.

Bernhard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part
URL: <http://tug.org/pipermail/tex-live/attachments/20111031/3a370f9c/attachment.bin>

From reinhard.kotucha at web.de  Mon Oct 31 22:36:53 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 31 Oct 2011 22:36:53 +0100
Subject: [tex-live] Messed up TL installation
In-Reply-To: <20111030174759.GC19912@HistoricalMaterialism.info>
References: <20111019133015.GA25863@HistoricalMaterialism.info>
 <20111020010145.GD11060@gamma.logic.tuwien.ac.at>
 <20111027172432.GA19912@HistoricalMaterialism.info>
 <20111027231517.GB31484@gamma.logic.tuwien.ac.at>
 <20111028130038.GB19912@HistoricalMaterialism.info>
 <20111028225412.GB12821@gamma.logic.tuwien.ac.at>
 <20111030174759.GC19912@HistoricalMaterialism.info>
Message-ID: <20143.5365.814562.192681@zaphod.ms25.net>

On 2011-10-30 at 13:47:59 -0400, Haines Brown wrote:

 > On Sat, Oct 29, 2011 at 07:54:12AM +0900, Norbert Preining wrote:
 > > On Fr, 28 Okt 2011, Haines Brown wrote:
 > > >   Segmentation fault
 > > 
 > > Ouch. But no idea how this could happen,and why?
 > > 
 > > Can you please turn of a virus scanner during installation?
 > > The problem is that sometimes virus scanners etc hold locks onto
 > > directories and that might create problems.
 > 
 > I had to be away and came back to find that the download had failed 
 > for a second time. Took four tries before I had a complete 
 > installation (tested it; it works).

These random segfaults could be caused by hardware failures (main memory).  

It happened to me occasionally when I was editing huge files with
Emacs.  I loaded the core files into gdb and ran a stack backtrace.
It turned out that Emacs crashed at random places.  After inserting
the hard drive into another machine, the problem never occurred again.

AFAIR, the boot menu of the Knoppix CD offers a program called memtest
or memtest86.  Maybe it's worth a try.

 > I don't think I have any virus scanning (don't run windows).

The said problem is related to Windows, not to virus scanners in general.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

