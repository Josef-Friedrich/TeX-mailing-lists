From karl at freefriends.org  Thu Mar  1 00:49:22 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 28 Feb 2018 23:49:22 GMT
Subject: [tex-live] pretest 2018 imminent
Message-ID: <201802282349.w1SNnMRg004075@freefriends.org>

Hi everyone. I plan to have tonight's update (that's Feb 28, in the US)
and tomorrow's go through as usual, and then we will switch to the TL
pretest for this year.

If anyone has any qualms, problems, questions, let me know.

It will undoubtedly take a few days to get new binaries committed,
etc., so don't be alarmed if there is a pause ... --happy texing, karl.

From lists at openlilylib.org  Thu Mar  1 20:44:51 2018
From: lists at openlilylib.org (Urs Liska)
Date: Thu, 1 Mar 2018 20:44:51 +0100
Subject: [tex-live] Directory structure for documentation in a package
Message-ID: <acdf6197-26b6-aa0e-fa67-3969c6148728@openlilylib.org>

Hello,

we are preparing a major update of the package lyluatex 
(https://github.com/jperon/lyluatex), and we are not completely sure how 
to organize our directories with regard to the documentation.

Currently we have the manual in a Markdown file in the root directory. 
It is built with Pandoc and lualatex using a makefile.

Complementing the manual we have a directory with example files 
(currently /examples), and a number of these examples are appended to 
the manual (actually they are compiled first and then appended with 
\includepdf).

Our question is how these files should be organized and how they would 
end up in TeXLive:
a) we have to make sure the manual can properly be built, i.e. all 
included files can be found
b) we need to know where we should point users for looking at/into the 
example files.

Would it help if we put everything (the .md, Makefile, classes/styles, 
and example files) in one subdirectory? Or is this unnecessary?

Thanks
Urs


From karl at freefriends.org  Fri Mar  2 00:38:25 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 1 Mar 2018 23:38:25 GMT
Subject: [tex-live] Directory structure for documentation in a package
In-Reply-To: <acdf6197-26b6-aa0e-fa67-3969c6148728@openlilylib.org>
Message-ID: <201803012338.w21NcPZH012574@freefriends.org>

    https://github.com/jperon/lyluatex

Hi Urs. Thanks for writing. Looking at the above directory online, it
looks to me like it will work out ok.

The import into TL starts by copying the entire tree into the doc/
subdir, then moving things out as needed. Meaning, in your case,
lyluatex.{cls,lua} to the tex/ runtime (I believe). The remainder will
be all be left in place, which I think is how we want things to end up.

In any case, adjustments on the TL side to get things right are no
problem. --thanks, karl.

From office at tug.org  Fri Mar  2 16:11:54 2018
From: office at tug.org (TUG office)
Date: Fri, 2 Mar 2018 07:11:54 -0800
Subject: [tex-live] Fwd: problem contacting TeXLive team
Message-ID: <3aa4ad7d-df49-681d-23e8-08a958f96f80@tug.org>

Sorry for the problems, Dick. Forwarding.

The TeXLive email address: tex-live at tug.org

Sincerely,
Robin
TUG office


-------- Forwarded Message --------
Subject: problem contacting TeXLive team
Date: Fri, 02 Mar 2018 11:52:57 +0000
From: dicknickalls at doctors.org.uk
To: office at ctan.org

Sir,
please forward my email below (re: rubik bundle) to someone at the
texLive team.
(it initially bounced, but I have now fixed the correct email address)

regards,
Dick nickalls
(dick at nickalls.org)

***

Sir,
please forward my email below (re: rubik bundle) to someone at the
texLive team.
(it initially bounced, but I have now fixed the correct email address)

regards,
Dick nickalls
(dick at nickalls.org)

Undelivered Message
Subject:
trying to contact TeXLive team
From:
dicknickalls at doctors.org.uk
Date:
03/02/2018 03:30 AM
To:
offica at ctan.org

Sir,

just a note to ask if you could please give me the email/contact
for someone in the TeXLive team - there is no such info
on the texlive website unfortunaely.

alternatively, perhaps you could forward this email
to someone on the TeXLive team for me.

I am Dick Nickalls (dick at nickalls.org), and I am an author
of the Rubik bundle of packages.
I have just recently uploaded a new version (=v5) which
Manfred Lotz has kindly installed on CTAN.

The problem is that  the  manual file (man file) for
the Perl program (rubikrotation.1) failed to be placed in
the correct dir in the 2017 TeXLive dvd.
Instead of being put in a /doc/man/man1/  directory, it
was instead put in the /doc/tex/latex/rubik.. and consequently
the man file failed to work (be accessed) out of the 2017 box.

So, I am now trying to contact someone in the TeXLive team,
to draw this problem to their attention, and to ask
that the man file be placed correctly in the 2018 TeXLive dvd.
Since the 2018 TeXLive system is soon to start, I feel
there is some urgency to contact the TEXLive team
before the Rubik bundle is packaged.

please advise

regards,
Dick
-- 
RWD Nickalls,
Cheltenham, UK.
TEL: +44(0)1242-231-225
EMAIL: dick at nickalls.org
WEB: www.nickalls.org/dick/
-------------- next part --------------
An embedded message was scrubbed...
From: dicknickalls at doctors.org.uk
Subject: trying to contact TeXLive team
Date: Fri, 02 Mar 2018 11:30:18 +0000
Size: 3296
URL: <http://tug.org/pipermail/tex-live/attachments/20180302/b0944b7b/attachment.mht>

From karl at freefriends.org  Fri Mar  2 23:44:34 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2018 22:44:34 GMT
Subject: [tex-live] pretest 2018 imminent
Message-ID: <201803022244.w22MiY0M017043@freefriends.org>

I made a stupid error editing a config file yesterday, so no update last
night. So we have one more day of TL17 before switching to the pretest. -k

From karl at freefriends.org  Sat Mar  3 01:22:11 2018
From: karl at freefriends.org (Karl Berry)
Date: Sat, 3 Mar 2018 00:22:11 GMT
Subject: [tex-live] Fwd: problem contacting TeXLive team
In-Reply-To: <3aa4ad7d-df49-681d-23e8-08a958f96f80@tug.org>
Message-ID: <201803030022.w230MB64026366@freefriends.org>

Hi Dick - thanks for the note. I updated TeX Live so that
rubikrotation.1 is in the man1/ dir. Glad you noticed.

As for contact info, http://tug.org/texlive/lists.html has all the
mailing lists. The general one is cc'd here.

Happy puzzling,
Karl

From dicknickalls at doctors.org.uk  Sat Mar  3 12:10:05 2018
From: dicknickalls at doctors.org.uk (dicknickalls at doctors.org.uk)
Date: Sat, 03 Mar 2018 11:10:05 +0000
Subject: [tex-live] Fwd: problem contacting TeXLive team
In-Reply-To: <201803030022.w230MB64026366@freefriends.org>
References: <201803030022.w230MB64026366@freefriends.org>
Message-ID: <8020e6de9d82979683aeb6d2702d77c6@doctors.org.uk>

Hi Karl,

many thanks for getting back and for correcting the TeXLive placement of
the rubikrotation.1  man file.
Much appreciated :-)

As regards communication with the TeXLive team,
I feel it would be helpful if an email address (a general team address)
were placed on the TeXLive webspage- there is no such just now.
  --OK we can go via  office at tug.org when really stuck,
(as I did) but an address on the TeXLive page would be very useful.

The problem is that some folks are not too familiar with all the various 
news groups
and hence don't use them (I am one of them I guess).

anyway - many thanks to you and all the TeXLive team -
I get the TeXLive DVD each year, and find it an amazingly valuable 
resource.

regards,
Dick

---
RWD Nickalls,
Cheltenham, UK.
TEL: +44(0)1242-231-225
EMAIL: dick at nickalls.org
WEB: www.nickalls.org/dick/

On 2018-03-03 00:22, Karl Berry wrote:

> Hi Dick - thanks for the note. I updated TeX Live so that
> rubikrotation.1 is in the man1/ dir. Glad you noticed.
> 
> As for contact info, http://tug.org/texlive/lists.html [1] has all the
> mailing lists. The general one is cc'd here.
> 
> Happy puzzling,
> Karl


Links:
------
[1] http://tug.org/texlive/lists.html

From dicknickalls at doctors.org.uk  Sat Mar  3 12:16:04 2018
From: dicknickalls at doctors.org.uk (dicknickalls at doctors.org.uk)
Date: Sat, 03 Mar 2018 11:16:04 +0000
Subject: [tex-live] Fwd: problem contacting TeXLive team
In-Reply-To: <3aa4ad7d-df49-681d-23e8-08a958f96f80@tug.org>
References: <3aa4ad7d-df49-681d-23e8-08a958f96f80@tug.org>
Message-ID: <02fbca552e51eadb39499d041b4b1ef2@doctors.org.uk>

Hi Robin,

thanks for your help in forwarding my
email to the TeXLive team.

Karl replied today (he has kindly fixed the man page issue for me),
  and I suggested that an having an
TeXLive email address  placed on their TeXLive web page would be very 
helpful.

thanks again to you and the tug team.
much appreciated :-)

regards,
Dick
---
RWD Nickalls,
Cheltenham, UK.
TEL: +44(0)1242-231-225
EMAIL: dick at nickalls.org
WEB: www.nickalls.org/dick/

On 2018-03-02 15:11, TUG office wrote:

> Sorry for the problems, Dick. Forwarding.
> 
> The TeXLive email address: tex-live at tug.org
> 
> Sincerely,
> Robin
> TUG office
> 
> -------- Forwarded Message --------
> Subject: problem contacting TeXLive team
> Date: Fri, 02 Mar 2018 11:52:57 +0000
> From: dicknickalls at doctors.org.uk
> To: office at ctan.org
> 
> Sir,
> please forward my email below (re: rubik bundle) to someone at the
> texLive team.
> (it initially bounced, but I have now fixed the correct email address)
> 
> regards,
> Dick nickalls
> (dick at nickalls.org)
> 
> ***
> 
> Sir,
> please forward my email below (re: rubik bundle) to someone at the
> texLive team.
> (it initially bounced, but I have now fixed the correct email address)
> 
> regards,
> Dick nickalls
> (dick at nickalls.org)
> 
> Undelivered Message
> Subject:
> trying to contact TeXLive team
> From:
> dicknickalls at doctors.org.uk
> Date:
> 03/02/2018 03:30 AM
> To:
> offica at ctan.org
> 
> Sir,
> 
> just a note to ask if you could please give me the email/contact
> for someone in the TeXLive team - there is no such info
> on the texlive website unfortunaely.
> 
> alternatively, perhaps you could forward this email
> to someone on the TeXLive team for me.
> 
> I am Dick Nickalls (dick at nickalls.org), and I am an author
> of the Rubik bundle of packages.
> I have just recently uploaded a new version (=v5) which
> Manfred Lotz has kindly installed on CTAN.
> 
> The problem is that the manual file (man file) for
> the Perl program (rubikrotation.1) failed to be placed in
> the correct dir in the 2017 TeXLive dvd.
> Instead of being put in a /doc/man/man1/ directory, it
> was instead put in the /doc/tex/latex/rubik.. and consequently
> the man file failed to work (be accessed) out of the 2017 box.
> 
> So, I am now trying to contact someone in the TeXLive team,
> to draw this problem to their attention, and to ask
> that the man file be placed correctly in the 2018 TeXLive dvd.
> Since the 2018 TeXLive system is soon to start, I feel
> there is some urgency to contact the TEXLive team
> before the Rubik bundle is packaged.
> 
> please advise
> 
> regards,
> Dick

From d.p.carlisle at gmail.com  Sat Mar  3 16:51:40 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 3 Mar 2018 15:51:40 +0000
Subject: [tex-live] Fwd: problem contacting TeXLive team
In-Reply-To: <02fbca552e51eadb39499d041b4b1ef2@doctors.org.uk>
References: <3aa4ad7d-df49-681d-23e8-08a958f96f80@tug.org>
 <02fbca552e51eadb39499d041b4b1ef2@doctors.org.uk>
Message-ID: <CAEW6iOhcsWoTFHAscHcOkA4ihGJMF8yoLxpec_Kxok3r8uDmGA@mail.gmail.com>

On 3 March 2018 at 11:16,  <dicknickalls at doctors.org.uk> wrote:

>

>  and I suggested that an having an
> TeXLive email address  placed on their TeXLive web page would be very
> helpful.


Isn't the existing "contact and mailing lists" link at

https://www.tug.org/texlive/

exactly that? it lists tex-live at tug.org as the main contact list.

David

From dicknickalls at doctors.org.uk  Sat Mar  3 19:40:07 2018
From: dicknickalls at doctors.org.uk (dicknickalls at doctors.org.uk)
Date: Sat, 03 Mar 2018 18:40:07 +0000
Subject: [tex-live] Fwd: problem contacting TeXLive team
In-Reply-To: <CAEW6iOhcsWoTFHAscHcOkA4ihGJMF8yoLxpec_Kxok3r8uDmGA@mail.gmail.com>
References: <3aa4ad7d-df49-681d-23e8-08a958f96f80@tug.org>
 <02fbca552e51eadb39499d041b4b1ef2@doctors.org.uk>
 <CAEW6iOhcsWoTFHAscHcOkA4ihGJMF8yoLxpec_Kxok3r8uDmGA@mail.gmail.com>
Message-ID: <342b2344caf0731b015a8a2939c2ccbf@doctors.org.uk>

oops!
Yes - David Carlisle is quite right -
the "contact and mail lists" link is what I should have used.
my mistake - sorry folks :-(
- so it is true what nurses say - ie that doctors can't read! :-)

regards,
Dick
---
RWD Nickalls,
Cheltenham, UK.
TEL: +44(0)1242-231-225
EMAIL: dick at nickalls.org
WEB: www.nickalls.org/dick/

On 2018-03-03 15:51, David Carlisle wrote:

> On 3 March 2018 at 11:16, <dicknickalls at doctors.org.uk> wrote:
> 
>> and I suggested that an having an TeXLive email address placed on 
>> their TeXLive web page would be very helpful.
> 
> Isn't the existing "contact and mailing lists" link at
> 
> https://www.tug.org/texlive/ [1]
> 
> exactly that? it lists tex-live at tug.org as the main contact list.
> 
> David


Links:
------
[1] https://www.tug.org/texlive/

From usenet at siart.de  Sun Mar  4 10:44:25 2018
From: usenet at siart.de (Uwe Siart)
Date: Sun, 04 Mar 2018 10:44:25 +0100
Subject: [tex-live] TeXLive uninstaller and path settings
Message-ID: <87bmg4jhty.fsf@siart.de>

Dear all,

This question bears on TeXLive on Windows. Usually, I keep some of the
previous TL installations on disk as a fallback option and for testing
purposes. During normal use only the latest distribution is on PATH.

In case I intend to uninstall one of the older TL installations, is it
required that the concerned installation is on PATH before running the
uninstaller from the system control panel? Or will the uninstaller work
as expected even when a different TL installation is active (i.e. is on
PATH)?

In other words: Is it safe to call "uninstall TeXLive 2014" from the
control panel (and will it work as expected) while TeXLive 2017 is
actually on PATH?

-- 
Uwe


From siepo at cybercomm.nl  Sun Mar  4 21:01:03 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sun, 4 Mar 2018 21:01:03 +0100
Subject: [tex-live] TeXLive uninstaller and path settings
In-Reply-To: <87bmg4jhty.fsf@siart.de>
References: <87bmg4jhty.fsf@siart.de>
Message-ID: <20180304200103.cckhb3n33i6twegx@bitmuis.thuis.internal>

On Sun, Mar 04, 2018 at 10:44:25AM +0100, Uwe Siart wrote:
> Dear all,
> 
> This question bears on TeXLive on Windows. Usually, I keep some of the
> previous TL installations on disk as a fallback option and for testing
> purposes. During normal use only the latest distribution is on PATH.
> 
> In case I intend to uninstall one of the older TL installations, is it
> required that the concerned installation is on PATH before running the
> uninstaller from the system control panel? Or will the uninstaller work
> as expected even when a different TL installation is active (i.e. is on
> PATH)?
> 
> In other words: Is it safe to call "uninstall TeXLive 2014" from the
> control panel (and will it work as expected) while TeXLive 2017 is
> actually on PATH?

That should work ok. The uninstaller takes care that it runs with a
suitable searchpath.

You will lose file extensions for .dvi and maybe .[e]ps and .pdf.
`Open with' should still work if there is atill another TL release
installed.

-- 
Siep Kroonenberg

From enrico.gregorio at gmail.com  Mon Mar  5 12:36:09 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Mon, 5 Mar 2018 12:36:09 +0100
Subject: [tex-live]
 =?utf-8?q?Issue_with_XeTeX_on_MacTeX_related_to_=22=5C?=
 =?utf-8?b?aW5wdXR84oCd?=
In-Reply-To: <2AFFCFFE-5818-491A-ADBD-89B8BEFCE4A4@gmail.com>
References: <2AFFCFFE-5818-491A-ADBD-89B8BEFCE4A4@gmail.com>
Message-ID: <DA9E7177-80F8-4039-9F62-7EC5917ED841@gmail.com>


> On 26 Jan 2018, at 11:05 , Enrico Gregorio <enrico.gregorio at gmail.com> wrote:
> 
> I get back with the same issue I reported a few months ago,
> hoping it will be solved in the next release. I?m certain others
> suffer with the issue.
> 
> If I typeset the following noinput.tex test file with ?xetex -shell-escape noinput?
> 
> ---\input"|echo $(date)?\relax---
> 
> ---\input"|echo $(date)?\relax---
> 
> \bye
> 
> the console output is
> 
>> xetex -shell-escape noinput
> This is XeTeX, Version 3.14159265-2.6-0.99998 (TeX Live 2017) (preloaded format=xetex)
> \write18 enabled.
> entering extended mode
> (./noinput.tex (|echo $(date)---) (|echo $(date)---) [1] >
> 
> Note the missing newline. No PDF file is produced. If I call it as
> 
>> xetex -shell-escape -no-pdf noinput && xdvipdfmx noinput
> 
> then a PDF file is produced, but only the first \input| command shows output. The
> second one seems to just produce a \par. The console output, in this case, is
> 
> This is XeTeX, Version 3.14159265-2.6-0.99998 (TeX Live 2017) (preloaded format=xetex)
> \write18 enabled.
> entering extended mode
> (./noinput.tex (|echo $(date)) (|echo $(date)) [1] )
> Output written on noinput.xdv (1 page, 288 bytes).
> Transcript written on noinput.log.
> noinput -> noinput.pdf
> [1]
> 3338 bytes written
> 
> The log file shows nothing suspicious.

This appears to have been fixed in TL 2018/pretest

tl2018pretest > xetex -shell-escape noinput
This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018) (preloaded format=xetex)
 \write18 enabled.
entering extended mode
(./noinput.tex (|echo $(date)?) (|echo $(date)?) [1] )
(see the transcript file for additional information)
Output written on noinput.pdf (1 page).
Transcript written on noinput.log.

Thanks to everybody who contributed to solve the issue!

Ciao
Enrico

From tex at lukasczyk.me  Mon Mar  5 12:56:54 2018
From: tex at lukasczyk.me (Stephan Lukasczyk)
Date: Mon, 5 Mar 2018 12:56:54 +0100
Subject: [tex-live] tlmgr pre-pretest gives wrong message
Message-ID: <20180305115654.6ffj2a7js7bb5fo7@alpspitze.lukasczyk.me>

Hi all,

I am aware that the pretest for TL2018 has not officially started, yet.
Nevertheless, I did an installation according to the information on the
web site yesterday from the CSTUG pretest mirror, and asked tlmgr for
today's update list.

It told me that ?TeX Live 2018 is frozen forever (?)?, which is the
message I expected (and encountered) from TL2017's tlmgr but not from
the 2018 version.  Although printing this message, tlmgr 2018 also
outputs the list of possible package updates, e.g., luatex from v46798
to v46824.

If this message appears on purpose, sorry for the noise.

Thank you for your effort in developing TeX Live!

Best,
  Stephan

-- 
Stephan Lukasczyk
GPG-Key: 0x06E03C26B90F403D
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180305/7da5223c/attachment.sig>

From a.i.krmann at gmail.com  Mon Mar  5 19:26:27 2018
From: a.i.krmann at gmail.com (=?iso-8859-1?Q?Alois_Ignaz_Kr=E4henmann?=)
Date: Mon, 5 Mar 2018 19:26:27 +0100
Subject: [tex-live] Error while installing TeXLive portable on Webserver
Message-ID: <00ca01d3b4af$79c841c0$6d58c540$@gmail.com>

While installing TeXLive via SSH on a webserver (https://www.a2hosting.com/,
no root access) I get the following error:
- D:unpacking /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar in
/home/nxtsolut/etc/tl
- untar: untarring /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar
failed (in /home/nxtsolut/etc/tl)
- TLPDB::_install_package: untar failed
- Installation failed.

More details (full verbose log attached):
- Installing TeX Live 2017 from:
http://mirror.utexas.edu/ctan/systems/texlive/tlnet (verified)
- Platform: x86_64-linux => 'GNU/Linux on x86_64'
- Distribution: net  (downloading)
- Using URL: http://mirror.utexas.edu/ctan/systems/texlive/tlnet

Thanks a lot for any hint. I am totally stuck :-(
Regards, Alo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: install-tl.log
Type: application/octet-stream
Size: 55034 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180305/3619aafc/attachment-0001.obj>

From keno.wehr at abgol.de  Mon Mar  5 19:58:21 2018
From: keno.wehr at abgol.de (Keno Wehr)
Date: Mon, 5 Mar 2018 19:58:21 +0100
Subject: [tex-live] texdoc
Message-ID: <b04b44cb-9fa4-06c9-3d06-2f69b8651c50@abgol.de>

?texdoc hyph-utf8? leads to ?division.pdf? (a Spanish document), but it 
should lead to ?hyphenation.pdf?.
Is it possible to change this?

Keno Wehr

From karl at freefriends.org  Mon Mar  5 23:26:29 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 5 Mar 2018 22:26:29 GMT
Subject: [tex-live] tlmgr pre-pretest gives wrong message
In-Reply-To: <20180305115654.6ffj2a7js7bb5fo7@alpspitze.lukasczyk.me>
Message-ID: <201803052226.w25MQT2X004631@freefriends.org>

    TeX Live 2018 is frozen forever (????)

Thanks. Fixed for tonight, I hope.

Also, the binaries for the principal platforms have been committed by
now. We may as well declare the pretest open for business.

http://tug.org/texlive/pretest.html as usual.
Changes are pretty minor, overall ... -k


From uwe.siart at tum.de  Tue Mar  6 10:25:06 2018
From: uwe.siart at tum.de (Uwe Siart)
Date: Tue, 06 Mar 2018 10:25:06 +0100
Subject: [tex-live] [tlpretest] pdflatex writes wrong produceer
Message-ID: <87muzld099.fsf@tum.de>

In TL pretest pdflatex produces PDF files with wrong value in the
producer field (document properties). The logfile correctly mentions
"pdfTeX, Version 3.14159265-2.6-1.40.19" but in the output PDF I see
"pdfTeX-1.40.18" as a producer.

-- 
Uwe

From zdenek.wagner at gmail.com  Tue Mar  6 10:43:29 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 6 Mar 2018 10:43:29 +0100
Subject: [tex-live] Error while installing TeXLive portable on Webserver
In-Reply-To: <00ca01d3b4af$79c841c0$6d58c540$@gmail.com>
References: <00ca01d3b4af$79c841c0$6d58c540$@gmail.com>
Message-ID: <CAC1phybonXwtV1EOa8MNLr15AL+_X6tQYC4bQGQwOkmKw+ar7g@mail.gmail.com>

Hi,

I install TL over SSH without root access regularly (even if I know the
root password I do not install TL as root). I would suspect corruption of
the file during download, it sometimes happens. The best way is to try
again. If you have network problems, you can use rsync to obtain your own
mirror and install t from it. However, I usually have one download problem
within two or three years.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-03-05 19:26 GMT+01:00 Alois Ignaz Kr?henmann <a.i.krmann at gmail.com>:

> While installing TeXLive via SSH on a webserver (
> https://www.a2hosting.com/,
> no root access) I get the following error:
> - D:unpacking /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar in
> /home/nxtsolut/etc/tl
> - untar: untarring /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar
> failed (in /home/nxtsolut/etc/tl)
> - TLPDB::_install_package: untar failed
> - Installation failed.
>
> More details (full verbose log attached):
> - Installing TeX Live 2017 from:
> http://mirror.utexas.edu/ctan/systems/texlive/tlnet (verified)
> - Platform: x86_64-linux => 'GNU/Linux on x86_64'
> - Distribution: net  (downloading)
> - Using URL: http://mirror.utexas.edu/ctan/systems/texlive/tlnet
>
> Thanks a lot for any hint. I am totally stuck :-(
> Regards, Alo
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180306/fbfa574d/attachment.html>

From gnwiii at gmail.com  Tue Mar  6 11:45:10 2018
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 6 Mar 2018 06:45:10 -0400
Subject: [tex-live] Error while installing TeXLive portable on Webserver
In-Reply-To: <CAC1phybonXwtV1EOa8MNLr15AL+_X6tQYC4bQGQwOkmKw+ar7g@mail.gmail.com>
References: <00ca01d3b4af$79c841c0$6d58c540$@gmail.com>
 <CAC1phybonXwtV1EOa8MNLr15AL+_X6tQYC4bQGQwOkmKw+ar7g@mail.gmail.com>
Message-ID: <CAKTOP44D-7iR_4dfxudM77zCZ09Boe4qRnWmYREvHWuH49Zz7g@mail.gmail.com>

On 6 March 2018 at 05:43, Zdenek Wagner <zdenek.wagner at gmail.com> wrote:

> Hi,
>
> I install TL over SSH without root access regularly (even if I know the
> root password I do not install TL as root). I would suspect corruption of
> the file during download, it sometimes happens. The best way is to try
> again. If you have network problems, you can use rsync to obtain your own
> mirror and install t from it. However, I usually have one download problem
> within two or three years.
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
>

Not everyone has such reliable internet.  Rsync to a private mirror is more
robust
than a direct install.


>
> 2018-03-05 19:26 GMT+01:00 Alois Ignaz Kr?henmann <a.i.krmann at gmail.com>:
>
>> While installing TeXLive via SSH on a webserver (
>> https://www.a2hosting.com/,
>> no root access) I get the following error:
>> - D:unpacking /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar in
>> /home/nxtsolut/etc/tl
>> - untar: untarring /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar
>> failed (in /home/nxtsolut/etc/tl)
>> - TLPDB::_install_package: untar failed
>> - Installation failed.
>>
>
Some sites have rather small /tmp, or have user quotas (and set TMPDIR for
each user to some private place). For a shared machine, allowing users to
write
outside their own storage means one user can cause problems for others.
It is possible some other process filled /tmp while you were installing
TL.


>> More details (full verbose log attached):
>> - Installing TeX Live 2017 from:
>> http://mirror.utexas.edu/ctan/systems/texlive/tlnet (verified)
>> - Platform: x86_64-linux => 'GNU/Linux on x86_64'
>> - Distribution: net  (downloading)
>> - Using URL: http://mirror.utexas.edu/ctan/systems/texlive/tlnet
>>
>> Thanks a lot for any hint. I am totally stuck :-(
>> Regards, Alo
>
>
Linux has ways to check free space ("man df") and logs that may not
be visible to ordinary users.  Can you run "dmesg |tail"?  Some
ssh accounts come with a status web page that may let you see
some limited info on storage and workloads.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180306/9b62a682/attachment.html>

From kakuto at fuk.kindai.ac.jp  Tue Mar  6 12:03:07 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 6 Mar 2018 20:03:07 +0900
Subject: [tex-live] [tlpretest] pdflatex writes wrong produceer
In-Reply-To: <87muzld099.fsf@tum.de>
References: <87muzld099.fsf@tum.de>
Message-ID: <D8C9858762E74BA580F25B107EF6542F@CJ3001517A>

Dear Uwe Siart, 

> In TL pretest pdflatex produces PDF files with wrong value in the
> producer field (document properties). The logfile correctly mentions
> "pdfTeX, Version 3.14159265-2.6-1.40.19" but in the output PDF I see
> "pdfTeX-1.40.18" as a producer.

Many thanks for your report. Fixed in r46856.

Best,
Akira


From news3 at nililand.de  Tue Mar  6 15:16:18 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 6 Mar 2018 15:16:18 +0100
Subject: [tex-live] xdvipdfmx: wrong annotation rectangle if the pstricks is
	involved
Message-ID: <oiid12jbe1m2.dlg@nililand.de>

If one compile the following document with xelatex then the complete
page is the link area. xdvipdfmx reports:
xdvipdfmx:warning: Annotation out of page boundary.
xdvipdfmx:warning: Current page's MediaBox: [0 0 612 792]
xdvipdfmx:warning: Annotation: [0 0 2375.09 3357.41]
xdvipdfmx:warning: Maybe incorrect paper size specified.

Storing the picture in a box or adding some text didn't change the
behaviour.

The link is create by the specials pdf:bann and pdf:eann which
"tries to determine the boundaries of the annotation automatically"
(from the documentation of dvipdfm) but obviously fails completly
here. 

Would it be possible to resolve this on the dvipdfmx/xdvipdfmx side?
(The only other alternative is probably be some  href variant in
hyperref which uses pdf:ann instead).  



\documentclass{article}
\usepackage{pstricks}
\usepackage{hyperref}

\newcommand{\mypic}{%
    \begin{pspicture}(-1,-1)(1,1)
    \pscircle(0,0){1}
    \end{pspicture}%
}

\begin{document}
\href{https://www.tug.org/texlive/}{\mypic}

\end{document}




-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From a.i.krmann at gmail.com  Tue Mar  6 17:25:32 2018
From: a.i.krmann at gmail.com (=?UTF-8?Q?Alois_Ignaz_Kr=C3=A4henmann?=)
Date: Tue, 6 Mar 2018 17:25:32 +0100
Subject: [tex-live] Error while installing TeXLive portable on Webserver
In-Reply-To: <CAKTOP44D-7iR_4dfxudM77zCZ09Boe4qRnWmYREvHWuH49Zz7g@mail.gmail.com>
References: <00ca01d3b4af$79c841c0$6d58c540$@gmail.com>
 <CAC1phybonXwtV1EOa8MNLr15AL+_X6tQYC4bQGQwOkmKw+ar7g@mail.gmail.com>
 <CAKTOP44D-7iR_4dfxudM77zCZ09Boe4qRnWmYREvHWuH49Zz7g@mail.gmail.com>
Message-ID: <002601d3b567$c0371290$40a537b0$@gmail.com>

Hi, 

 

Thanks a lot for the good hints. The limited /tmp folder seems to be part of the problem.

 

Regards, Alo

 

 

From: George N. White III <gnwiii at gmail.com> 
Sent: Tuesday, March 6, 2018 11:45 AM
To: TeX Live <tex-live at tug.org>
Cc: Alois Ignaz Kr?henmann <a.i.krmann at gmail.com>
Subject: Re: [tex-live] Error while installing TeXLive portable on Webserver

 

On 6 March 2018 at 05:43, Zdenek Wagner <zdenek.wagner at gmail.com <mailto:zdenek.wagner at gmail.com> > wrote:

Hi,

I install TL over SSH without root access regularly (even if I know the root password I do not install TL as root). I would suspect corruption of the file during download, it sometimes happens. The best way is to try again. If you have network problems, you can use rsync to obtain your own mirror and install t from it. However, I usually have one download problem within two or three years.




Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

 

Not everyone has such reliable internet.  Rsync to a private mirror is more robust

than a direct install.

 

 

2018-03-05 19:26 GMT+01:00 Alois Ignaz Kr?henmann <a.i.krmann at gmail.com <mailto:a.i.krmann at gmail.com> >:

While installing TeXLive via SSH on a webserver (https://www.a2hosting.com/,
no root access) I get the following error:
- D:unpacking /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar in
/home/nxtsolut/etc/tl
- untar: untarring /tmp/JX_bOGH6eg/s6ZbGOLzLd/dvipdfmx.x86_64-linux.tar
failed (in /home/nxtsolut/etc/tl)
- TLPDB::_install_package: untar failed
- Installation failed.

 

Some sites have rather small /tmp, or have user quotas (and set TMPDIR for

each user to some private place). For a shared machine, allowing users to write 

outside their own storage means one user can cause problems for others.   

It is possible some other process filled /tmp while you were installing TL.  

 


More details (full verbose log attached):
- Installing TeX Live 2017 from:
http://mirror.utexas.edu/ctan/systems/texlive/tlnet (verified)
- Platform: x86_64-linux => 'GNU/Linux on x86_64'
- Distribution: net  (downloading)
- Using URL: http://mirror.utexas.edu/ctan/systems/texlive/tlnet

Thanks a lot for any hint. I am totally stuck :-(
Regards, Alo


Linux has ways to check free space ("man df") and logs that may not

be visible to ordinary users.  Can you run "dmesg |tail"?  Some 

ssh accounts come with a status web page that may let you see 

some limited info on storage and workloads.


 

-- 

George N. White III

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180306/2ae6d689/attachment.html>

From karl at freefriends.org  Wed Mar  7 01:30:40 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 7 Mar 2018 00:30:40 GMT
Subject: [tex-live] texdoc
In-Reply-To: <b04b44cb-9fa4-06c9-3d06-2f69b8651c50@abgol.de>
Message-ID: <201803070030.w270UeVq003583@freefriends.org>

    ????texdoc hyph-utf8???? leads to
    ????division.pdf???? (a Spanish document), but it should
    lead to ????hyphenation.pdf????.  Is it possible to change this?

It may take some time, there are a number of factors, but yes, will try to
fix. Am discussing with Mojca/Arthur and CTAN now. Thanks for the report. -k

From tkpapp at gmail.com  Wed Mar  7 10:19:01 2018
From: tkpapp at gmail.com (Tamas Papp)
Date: Wed, 07 Mar 2018 10:19:01 +0100
Subject: [tex-live] suggestion: include kbordermatrix in TeXLive
Message-ID: <87woyojla2.fsf@gmail.com>

Hi,

I wonder if it would be possible to include kbordermatrix [1] in
TeXLive. It solves a problem no other packages does, is widely used [2].

I am cc'ing the package author in case there are license issues that need
to be clarified, as kbordermatrix.sty does not say anything about it.

Best,

Tamas

[1] https://www.ctan.org/pkg/kbordermatrix

[2] https://tex.stackexchange.com/search?q=kbordermatrix

From pdgessler at gmail.com  Wed Mar  7 15:18:20 2018
From: pdgessler at gmail.com (Paul Gessler)
Date: Wed, 7 Mar 2018 08:18:20 -0600
Subject: [tex-live] suggestion: include kbordermatrix in TeXLive
In-Reply-To: <87woyojla2.fsf@gmail.com>
References: <87woyojla2.fsf@gmail.com>
Message-ID: <CAPT88+AiivgZUyfnTgpEdkkDYffjqXCxk6HyktoQxXDCSW6zrA@mail.gmail.com>

Hi Tamas,

I believe you are on the right track with your mention of licensing. With
no license specified, it doesn't pass muster with items 1a and 2a of the
TeX Live package contributions guidelines[1]. This is most likely why it is
not included at the moment.

Hope this helps,

PG

[1] https://www.tug.org/texlive/pkgcontrib.html

On 7 March 2018 at 03:19, Tamas Papp <tkpapp at gmail.com> wrote:

> Hi,
>
> I wonder if it would be possible to include kbordermatrix [1] in
> TeXLive. It solves a problem no other packages does, is widely used [2].
>
> I am cc'ing the package author in case there are license issues that need
> to be clarified, as kbordermatrix.sty does not say anything about it.
>
> Best,
>
> Tamas
>
> [1] https://www.ctan.org/pkg/kbordermatrix
>
> [2] https://tex.stackexchange.com/search?q=kbordermatrix
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180307/9a3582c3/attachment.html>

From lists at openlilylib.org  Wed Mar  7 16:27:13 2018
From: lists at openlilylib.org (Urs Liska)
Date: Wed, 7 Mar 2018 16:27:13 +0100
Subject: [tex-live] lyluatex, call for pre-beta review
Message-ID: <36eedb8d-55ce-9048-15b7-1ac25c6df265@openlilylib.org>

lyluatex (https://github.com/jperon/lyluatex) is a package for LuaLaTeX 
that allows the inclusion of LilyPond code in .tex documents and 
automatically manages their compilation with LilyPond.

By now the package is a fully-compatible superset to the lilypond-book 
script that ships with LilyPond, and we are preparing a significant v1 
release. Before uploading a Beta version to CTAN we invite the members 
of this mailing list to thoroughly test and review the package and its 
documentation. Please find the description and a rendered manual at 
https://github.com/jperon/lyluatex/issues/177

Best regards
Urs (Liska)


From pdgessler at gmail.com  Wed Mar  7 21:05:16 2018
From: pdgessler at gmail.com (Paul Gessler)
Date: Wed, 7 Mar 2018 14:05:16 -0600
Subject: [tex-live] suggestion: include kbordermatrix in TeXLive
In-Reply-To: <31E5D3BF-06C2-4FDF-870A-9B50439B6F34@caltech.edu>
References: <87woyojla2.fsf@gmail.com>
 <CAPT88+AiivgZUyfnTgpEdkkDYffjqXCxk6HyktoQxXDCSW6zrA@mail.gmail.com>
 <31E5D3BF-06C2-4FDF-870A-9B50439B6F34@caltech.edu>
Message-ID: <CAPT88+D-ZMepWcjJnoqNJLnMV0LV_wKtqkFZrVzfPps5WTJ-PQ@mail.gmail.com>

Hi Kim,

(Bringing the mailing list and Tamas back into CC so everyone can
follow the discussion.)

Apologies in advance if you're already familiar with the following;
I'm not sure of your background:

Typically, small packages use the LaTeX Project Public License (LPPL),
but TeX Live also recommends the GNU GPL and really any free software
license will suffice for inclusion in TeX Live.

The website for any of these licenses will show you how to properly
apply the license to your code. You can also check CTAN for some
examples in other packages. Software licensing can be a complex and
sometimes emotionally-charged topic (in some circles). So, if you want
to keep it simple, I'd recommend LPPL[1] for a small LaTeX package.
That's what most other LaTeX packages use. But the final decision is
obviously up to you as the package author.

Anyone with more licensing knowledge than me (I know there are lots of
you out there, haha), please make corrections if I've misstated
anything above. :-)

Cheers,

PG

[1] https://www.latex-project.org//lppl/

On 7 March 2018 at 11:36, Border, Kim C. <kcborder at caltech.edu> wrote:
> I have no problem with anyone distributing kbordermatrix.sty
>
> It has a few bugs, and I have made slightly different version that puts the
> labels on the right and bottom instead of the left and top.  But it?s ad hoc
> and not very elegant, so I never wanted the responsibility of maintaining
> it.  That said, if there really is interest, my quarter is ending soon, and
> I could spend some time improving it and packaging it.
>
> As for licensing, I am happy to give it away, so what do I need to do?
>
> Kim
> KC Border
> Professor of Economics
>
> kcb at caltech.edu
> 626 395-4218
> 205 Baxter Hall
>
> On Mar 7, 2018, at 6:18 AM, Paul Gessler <pdgessler at gmail.com> wrote:
>
> Hi Tamas,
>
> I believe you are on the right track with your mention of licensing. With no
> license specified, it doesn't pass muster with items 1a and 2a of the TeX
> Live package contributions guidelines[1]. This is most likely why it is not
> included at the moment.
>
> Hope this helps,
>
> PG
>
> [1] https://www.tug.org/texlive/pkgcontrib.html
>
> On 7 March 2018 at 03:19, Tamas Papp <tkpapp at gmail.com> wrote:
>>
>> Hi,
>>
>> I wonder if it would be possible to include kbordermatrix [1] in
>> TeXLive. It solves a problem no other packages does, is widely used [2].
>>
>> I am cc'ing the package author in case there are license issues that need
>> to be clarified, as kbordermatrix.sty does not say anything about it.
>>
>> Best,
>>
>> Tamas
>>
>> [1] https://www.ctan.org/pkg/kbordermatrix
>>
>> [2] https://tex.stackexchange.com/search?q=kbordermatrix
>
>
>


From arthur.reutenauer at normalesup.org  Wed Mar  7 21:55:36 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Wed, 7 Mar 2018 21:55:36 +0100
Subject: [tex-live] suggestion: include kbordermatrix in TeXLive
In-Reply-To: <CAPT88+D-ZMepWcjJnoqNJLnMV0LV_wKtqkFZrVzfPps5WTJ-PQ@mail.gmail.com>
References: <87woyojla2.fsf@gmail.com>
 <CAPT88+AiivgZUyfnTgpEdkkDYffjqXCxk6HyktoQxXDCSW6zrA@mail.gmail.com>
 <31E5D3BF-06C2-4FDF-870A-9B50439B6F34@caltech.edu>
 <CAPT88+D-ZMepWcjJnoqNJLnMV0LV_wKtqkFZrVzfPps5WTJ-PQ@mail.gmail.com>
Message-ID: <20180307205536.GA1428008@phare.normalesup.org>

	Hi all,

> The website for any of these licenses will show you how to properly
> apply the license to your code. You can also check CTAN for some
> examples in other packages. Software licensing can be a complex and
> sometimes emotionally-charged topic (in some circles). So, if you want
> to keep it simple, I'd recommend LPPL[1] for a small LaTeX package.
> That's what most other LaTeX packages use. But the final decision is
> obviously up to you as the package author.

  Actually, since Kim mentions he doesn?t want the responsibility of
maintaining kbordermatrix, I?d recommend against the LPPL in his case,
since it explicitly requires to name a maintainer.  Simple licences that
do not have this requirement include the MIT licence (in the version by
the Open Source Initiative, https://opensource.org/licenses/MIT -- there
are somewhat different wordings), and the 2-clause and 3-clause BSD
licences (https://opensource.org/licenses/BSD-2-Clause and
https://opensource.org/licenses/BSD-3-Clause).

	Best,

		Arthur

From karl at freefriends.org  Wed Mar  7 23:36:51 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 7 Mar 2018 22:36:51 GMT
Subject: [tex-live] suggestion: include kbordermatrix in TeXLive
In-Reply-To: <20180307205536.GA1428008@phare.normalesup.org>
Message-ID: <201803072236.w27Map67003044@freefriends.org>

    since [the LPPL] explicitly requires to name a maintainer.  

No it doesn't. You can release your Work as unmaintained.

But I concur that doing so is more complicated than need be for
kbordermatrix. I could make things still more complicated, but will
refrain :). Instead, for concreteness, let me suggest the BSD 2-Clause,
just because it is short:
https://opensource.org/licenses/BSD-2-Clause

Kim: just copy the text shown there into the top of the source file(s),
or in the accompanying README, or (preferably) both, and put in year and
your name in the Copyright line.

Thanks,
Karl

From koch at uoregon.edu  Thu Mar  8 00:07:51 2018
From: koch at uoregon.edu (Richard Koch)
Date: Wed, 7 Mar 2018 15:07:51 -0800
Subject: [tex-live] Xindy
Message-ID: <EBB62EF1-6143-4822-9015-152416E1ECC8@uoregon.edu>

Herbert Schulz reported that Xindy failed in the tlpretest for MacTeX-2018 and sent the
following simple example.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ImakeindexTest.zip
Type: application/zip
Size: 2682 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180307/064e2332/attachment.zip>
-------------- next part --------------


I built xindy using the new Clisp, but in previous years I used a version from 2010. I rebuilt
this year's binaries using that old Clisp, but that made no difference.

Then I switched to MacTeX-2017. Without typesetting Herb's example, I just ran texindy
on idx files (his example does this three times). All worked and gave lots of output in the console,
while in MacTeX-2018 there is no console output.

I conclude that the latex portion of Herb's example causes no problem, and the problem is
that when xindy or texindy is run on an idx file in MacTeX-2018, nothing happens. However,
texindy does run, and responds to a request for --help.

Any suggestions?

Dick Koch

From arthur.reutenauer at normalesup.org  Thu Mar  8 00:22:18 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Thu, 8 Mar 2018 00:22:18 +0100
Subject: [tex-live] suggestion: include kbordermatrix in TeXLive
In-Reply-To: <201803072236.w27Map67003044@freefriends.org>
References: <20180307205536.GA1428008@phare.normalesup.org>
 <201803072236.w27Map67003044@freefriends.org>
Message-ID: <20180307232218.GA1492213@phare.normalesup.org>

>     since [the LPPL] explicitly requires to name a maintainer.  
> 
> No it doesn't. You can release your Work as unmaintained.

  Thanks, I had indeed forgotten about that option ;-) (Its use being
sometimes frowned upon as we know.)

	Best,

		Arthur

From kakuto at fuk.kindai.ac.jp  Thu Mar  8 00:43:19 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 8 Mar 2018 08:43:19 +0900
Subject: [tex-live] Xindy
In-Reply-To: <EBB62EF1-6143-4822-9015-152416E1ECC8@uoregon.edu>
References: <EBB62EF1-6143-4822-9015-152416E1ECC8@uoregon.edu>
Message-ID: <BDB03531B54E411C8BF257700262D6B8@CJ3001517A>

Dear Richard,

Here (Windows), three .ind files were created
by xindy (clisp 2.49.92 version).
They are in an attached zip file.

Best,
Akira
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ImakeindexTest-ind.zip
Type: application/x-zip-compressed
Size: 1578 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180308/fde6e2c4/attachment.bin>

From bvoisin at icloud.com  Thu Mar  8 09:39:23 2018
From: bvoisin at icloud.com (Bruno Voisin)
Date: Thu, 08 Mar 2018 09:39:23 +0100
Subject: [tex-live] Xindy (follow-up)
Message-ID: <6CE45C5F-F946-4233-AEC9-EB774156CB23@icloud.com>

Dear All,

For what is worth, a follow-up to Dick's and Akira's messages: here on the Mac, running Herb's example with -v option gives on TL-2017

$ texindy -v -L english -C utf8 -o concepts.ind concepts.idx
Running filter: "/Library/TeX/texbin/tex2xindy" <"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/eGzz75baAv" >"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/DvTTA3C34Y"
Opening logfile "/dev/null" (done)
Reading indexstyle...
[...]
Markup written into file "concepts.ind".

and the .ind files are created as they should; but on TL-2018 this gives

$ texindy -v -L english -C utf8 -o concepts.ind concepts.idx
Running filter: "/Library/TeX/texbin/tex2xindy" <"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/GKVyAME4nO" >"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/EzSKEKH9xF"

and that's it: no further Terminal output, no .ind file, just the prompt "$" back.

Using the -d option with any magic keyword (script, level=, etc.) yields the same output with both TL-2017 and TL-2018.

So it seems that on TL-2018 texindy deals with its options then silently aborts, without reaching the point where it deals with the log file and starts processing the input file.

(Disclaimer: I'm no xindy user myself, hence unfamiliar with its operation.)

Bruno

From patrick at gundla.ch  Thu Mar  8 10:36:00 2018
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 8 Mar 2018 10:36:00 +0100
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all other
 distributions as well)
Message-ID: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>

Hello again,

in tl2018 (pretest) we have the same bug as last year. Would it be possible to fix it once and for all? (or should I setup a cron job?)

$ type lualatex
lualatex is hashed (/opt/texlive2018/bin/x86_64-darwin/lualatex)
~/TeX/luatex/test$ lualatex test
This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
 restricted system commands enabled.
(./test.tex
LaTeX2e <2017-04-15>
...

(/opt/texlive2018/texmf-dist/tex/latex/booktabs/booktabs.sty) (./test.aux)error
 loading module 'luasql.sqlite3' from file './luasql/sqlite3.so':
	dlopen(./luasql/sqlite3.so, 6): Symbol not found: _luaL_argerror
  Referenced from: ./luasql/sqlite3.so
  Expected in: flat namespace
 in ./luasql/sqlite3.so
stack traceback:
	[C]: in ?
	[C]: in function 'cpath specification'
	...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:291: in function '
?'
	...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:318: in function <
...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:310>
	[C]: in function 'require'
	[\directlua]:4: in main chunk.
...


where test.tex is:

---------------------------
\documentclass{article}
\usepackage{luacode,booktabs}
\begin{document}
\begin{luacode*}



luasql = require("luasql.sqlite3")

env = assert (luasql.sqlite3())
-- connect to data source
con = assert (env:connect("luasql-test"))
-- retrieve a cursor
cur = assert (con:execute"SELECT name, email from people")
-- print all rows, the rows will be indexed by field names
row = cur:fetch ({}, "a")
tex.sprint([[\begin{tabular}{@{}ll@{}}\toprule]])
tex.sprint([[Name & email \\\midrule]])
while row do
  tex.sprint(-2,row.name)
  tex.sprint("&")
  tex.sprint(-2, row.email)
  tex.sprint("\\\\")
  -- reusing the table of results
  row = cur:fetch (row, "a")
end
tex.sprint([[\bottomrule\end{tabular}]])
-- close everything
cur:close()
con:close()
env:close()
\end{luacode*}
\end{document}
---------------------------

and sqlite3.so is from homebrew (put online at https://download.speedata.de/private/sqlite3.so)



Patrick



> Hi all,
> 
> I've tried to link an external library to LuaTeX, but this gives an error. This problem is an old problem described here:
> 
> http://tracker.luatex.org/view.php?id=555
> 
> I quote from the page:
> 
> ------------------------------------
> When building LuaTeX without --nostrip (which is the current default behaviour), loading external libraries is a game of luck. For example the sqlite3 bindings from http://luaforge.net/projects/luasqlite/ [^] create a library on OS X that require the symbol _luaL_argerror to be defined in the LuaTeX binary:
> 
> error loading module 'lsqlite3' from file './lsqlite3.so':
>    dlopen(./lsqlite3.so, 2): Symbol not found: _luaL_argerror
>  Referenced from: /Users/patrick/Downloads/lsqlite3-7/lsqlite3.so
>  Expected in: flat namespace
> in /Users/patrick/Downloads/lsqlite3-7/lsqlite3.so
> 
> Building LuaTeX with --nostrip solves this issue.
> 
> By having "--strip" the default in build.sh, it is not possible for any user (on OS X, perhaps also on other platforms) to use this (and other) external library without downloading the LuaTeX source, download XCode, compile LuaTeX and put LuaTeX in the correct place.
> ------------------------------------
> 
> Patrick
> 
> (who is not subscribed to the tex-live list)


From mojca.miklavec.lists at gmail.com  Thu Mar  8 10:41:11 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 8 Mar 2018 10:41:11 +0100
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
Message-ID: <CALBOmsbfq2cabkNN+KTn9vJVy43htV3gpwAsSD=_29foMzKw5Q@mail.gmail.com>

On 8 March 2018 at 10:36, Patrick Gundlach wrote:
> Hello again,
>
> in tl2018 (pretest) we have the same bug as last year. Would it be possible to fix it once and for all? (or should I setup a cron job?)

In the long run it would make sense to fix
    source/aclocal.m4
or so.

I now use
    export STRIP="strip -u -r"
but that's super easy to forget.

Mojca

From mojca.miklavec.lists at gmail.com  Thu Mar  8 12:25:39 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 8 Mar 2018 12:25:39 +0100
Subject: [tex-live] Request for performance check of legacy darwin (luatex)
Message-ID: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>

Hi,

Last year there were many complaints about the slowness of darwin
legacy binaries.

Is anyone willing to test these and compare them with, say, TL2016 and
the non-legacy darwin binaries compiled by Dick which are already in
TL pretest?
   http://dl.contextgarden.net/build/texlive/darwin/

There's currently one variant of the build available, but I'll prepare
a couple more.

The binaries above (x86_64-darwinlegacy_libc++_nomods.tar.xz) were
compiled with clang 5.0 on 10.6 and should in principle work out of
the box on 10.7 and later. On 10.6 they only work for those who have
libc++ installed (for example from MacPorts) and a few further
modifications are needed to make them work entirely out of the box on
10.6, but that's a different topic.

Mojca

From kakuto at fuk.kindai.ac.jp  Thu Mar  8 13:50:32 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 8 Mar 2018 21:50:32 +0900
Subject: [tex-live] Xindy (follow-up)
In-Reply-To: <6CE45C5F-F946-4233-AEC9-EB774156CB23@icloud.com>
References: <6CE45C5F-F946-4233-AEC9-EB774156CB23@icloud.com>
Message-ID: <1DD92C67FB6E4AA98CF7961898FD1C35@CJ3001517A>

Dear Bruno,

>  Running filter: "/Library/TeX/texbin/tex2xindy" <"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/GKVyAME4nO" 
>  >"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/EzSKEKH9xF"

>  and that's it: no further Terminal output, no .ind file, just the prompt "$" back.

>  Using the -d option with any magic keyword (script, level=, etc.) yields the same output

In the case of texindy -d script -v ...
The output should be

Running filter: "/Library/TeX/texbin/tex2xindy" <"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/GKVyAME4nO" 
 >"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/EzSKEKH9xF"
filtered xindy input file: "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/EzSKEKH9xF"
... ...

if the filter tex2xindy worked OK.

Best,
Akira


From bvoisin at icloud.com  Thu Mar  8 14:03:23 2018
From: bvoisin at icloud.com (Bruno Voisin)
Date: Thu, 08 Mar 2018 14:03:23 +0100
Subject: [tex-live] Xindy (follow-up)
In-Reply-To: <1DD92C67FB6E4AA98CF7961898FD1C35@CJ3001517A>
References: <6CE45C5F-F946-4233-AEC9-EB774156CB23@icloud.com>
 <1DD92C67FB6E4AA98CF7961898FD1C35@CJ3001517A>
Message-ID: <97EFA563-4D75-460B-ACB2-90A9E7A872C4@icloud.com>

> Le 8 mars 2018 ? 13:50, Akira Kakuto <kakuto at fuk.kindai.ac.jp> a ?crit :
> 
> In the case of texindy -d script -v ...
> The output should be
> 
> Running filter: "/Library/TeX/texbin/tex2xindy" <"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/GKVyAME4nO" >"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/EzSKEKH9xF"
> filtered xindy input file: "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/EzSKEKH9xF"
> ... ...
> 
> if the filter tex2xindy worked OK.

Dear Akira,

Here's exactly what I'm getting with TL-2017


$ texindy -d script -v -L english -C utf8 -o concepts.ind concepts.idx
Calling xindy as: /Library/TeX/texbin/xindy -v -d script -o concepts.ind -L english -C utf8 -M tex/inputenc/utf8 -M texindy -M page-ranges -M word-order -I latex concepts.idx
concatenated xindy input file: "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/NcfDri49ZE"
Running filter: "/Library/TeX/texbin/tex2xindy" <"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/NcfDri49ZE" >"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/2yYiPQARVk"
filtered xindy input file: "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/2yYiPQARVk"
Found language module /usr/local/texlive/2017/texmf-dist/xindy/modules/lang/english/utf8-lang.xdy
modules directory: /usr/local/texlive/2017/texmf-dist/xindy/modules.
command: /Library/TeX/texbin/xindy.run -M /Library/TeX/texbin/xindy.mem -E iso-8859-1 -x (progn
  (searchpath ".:/usr/local/texlive/2017/texmf-dist/xindy/modules:/usr/local/texlive/2017/texmf-dist/xindy/modules/base")
  (xindy:startup
    :idxstyle "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/MpWUP7jGhc"
    :rawindex "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/2yYiPQARVk"
    :output "concepts.ind"
    :logfile "/dev/null"
    
    )
  (exit))

Opening logfile "/dev/null" (done)
Reading indexstyle...
Loading module "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/MpWUP7jGhc"...
Loading module "lang/english/utf8-lang.xdy"...
Loading module "lang/english/utf8.xdy"...
Finished loading module "lang/english/utf8.xdy".
Finished loading module "lang/english/utf8-lang.xdy".
Loading module "tex/inputenc/utf8.xdy"...
Finished loading module "tex/inputenc/utf8.xdy".
Loading module "/usr/local/texlive/2017/texmf-dist/xindy/modules/base/texindy.xdy"...
Loading module "numeric-sort.xdy"...
Finished loading module "numeric-sort.xdy".
Loading module "latex.xdy"...
Loading module "tex.xdy"...
Finished loading module "tex.xdy".
Finished loading module "latex.xdy".
Loading module "latex-loc-fmts.xdy"...
Finished loading module "latex-loc-fmts.xdy".
Loading module "makeindex.xdy"...
Finished loading module "makeindex.xdy".
Loading module "latin-lettergroups.xdy"...
Finished loading module "latin-lettergroups.xdy".
Finished loading module "/usr/local/texlive/2017/texmf-dist/xindy/modules/base/texindy.xdy".
Loading module "/usr/local/texlive/2017/texmf-dist/xindy/modules/base/page-ranges.xdy"...
Finished loading module "/usr/local/texlive/2017/texmf-dist/xindy/modules/base/page-ranges.xdy".
Loading module "/usr/local/texlive/2017/texmf-dist/xindy/modules/base/word-order.xdy"...
Finished loading module "/usr/local/texlive/2017/texmf-dist/xindy/modules/base/word-order.xdy".
Finished loading module "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/MpWUP7jGhc".
Finished reading indexstyle.
Finalizing indexstyle... (done)

Reading raw-index "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/2yYiPQARVk"...
Finished reading raw-index.

Processing index... [10%] [20%] [30%] [40%] [50%] [60%] [70%] [80%] [90%] [100%]
Finished processing index.

Writing markup... [10%] [20%] [30%] [40%] [50%] [60%] [70%] [80%] [90%] [100%]
Markup written into file "concepts.ind".


and with TL-2018


meige8mcbv59:ImakeindexTest2018 brunovoisin$ texindy -d script -v -L english -C utf8 -o concepts.ind concepts.idx
Calling xindy as: /Library/TeX/texbin/xindy -v -d script -o concepts.ind -L english -C utf8 -M tex/inputenc/utf8 -M texindy -M page-ranges -M word-order -I latex concepts.idx
concatenated xindy input file: "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/BSfL3zfF9V"
Running filter: "/Library/TeX/texbin/tex2xindy" <"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/BSfL3zfF9V" >"/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/tsiLUZtwR1"
filtered xindy input file: "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/tsiLUZtwR1"
Found language module /usr/local/texlive/2018/texmf-dist/xindy/modules/lang/english/utf8-lang.xdy
modules directory: /usr/local/texlive/2018/texmf-dist/xindy/modules.
command: /Library/TeX/texbin/xindy.run -M /Library/TeX/texbin/xindy.mem -E iso-8859-1 -x (progn
  (searchpath ".:/usr/local/texlive/2018/texmf-dist/xindy/modules:/usr/local/texlive/2018/texmf-dist/xindy/modules/base")
  (xindy:startup
    :idxstyle "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/Rul_l_83lG"
    :rawindex "/var/folders/sv/xbhqb27j7nz_18p7g94st6tw0000gn/T/tsiLUZtwR1"
    :output "concepts.ind"
    :logfile "/dev/null"
    
    )
  (exit))



Nothing more, this stops there.

Best wishes,

Bruno



From jfbu at free.fr  Thu Mar  8 14:26:39 2018
From: jfbu at free.fr (jfbu)
Date: Thu, 8 Mar 2018 14:26:39 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
Message-ID: <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>

Hi

Le 8 mars 2018 ? 12:25, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :

> Hi,
> 
> Last year there were many complaints about the slowness of darwin
> legacy binaries.
> 
> Is anyone willing to test these and compare them with, say, TL2016 and
> the non-legacy darwin binaries compiled by Dick which are already in
> TL pretest?
>   http://dl.contextgarden.net/build/texlive/darwin/
> 
> There's currently one variant of the build available, but I'll prepare
> a couple more.
> 
> The binaries above (x86_64-darwinlegacy_libc++_nomods.tar.xz) were
> compiled with clang 5.0 on 10.6 and should in principle work out of
> the box on 10.7 and later. On 10.6 they only work for those who have
> libc++ installed (for example from MacPorts) and a few further
> modifications are needed to make them work entirely out of the box on
> 10.6, but that's a different topic.
> 
> Mojca


I made test, only for tex binary

Downloads$ time tex temptest.tex
This is TeX, Version 3.14159265 (TeX Live 2018) (preloaded format=tex)
(./temptest.tex . . . . . . . . . . )
No pages of output.
Transcript written on temptest.log.

real	0m2.310s
user	0m2.295s
sys	0m0.013s

Downloads$ time tex temptest.tex
This is TeX, Version 3.14159265 (TeX Live 2017) (preloaded format=tex)
(./temptest.tex . . . . . . . . . . )
No pages of output.
Transcript written on temptest.log.

real	0m2.168s
user	0m2.150s
sys	0m0.016s

Downloads$ time tex temptest.tex
This is TeX, Version 3.14159265 (TeX Live 2017/MacPorts 2017_1) (preloaded format=tex)
(./temptest.tex . . . . . . . . . . )
No pages of output.
Transcript written on temptest.log.

real	0m1.669s
user	0m1.654s
sys	0m0.011s

I tried a few more times the testing with the new binary and got similar result.

This is on an iMac under 10.9.5.

The test file is this

\def\A{\B\B\B\B\B\B\B\B\B\B}% 10
\def\B{\C\C\C\C\C\C\C\C\C\C}% 100
\def\C{\noexpand\A\noexpand\A\noexpand\A\noexpand\A
      \noexpand\A\noexpand\A\noexpand\A\noexpand\A
      \noexpand\A\noexpand\A}% 1000
\edef\D{\A}% 1000
\edef\E{\D}% 1000000

\def\A{\edef\z{666}}

\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\bye

With TeXLive 2016 : 

Downloads$ time tex temptest.tex
This is TeX, Version 3.14159265 (TeX Live 2016) (preloaded format=tex)
(./temptest.tex . . . . . . . . . . )
No pages of output.
Transcript written on temptest.log.

real	0m1.660s
user	0m1.622s
sys	0m0.014s


which is similar to the timing for my MacPorts 2017 binary (I installed it in August 2017).

Is there any other experiment I can contribute ?

The TeX file above is perhaps not a good testbed.

On the plus side, the binary did execute ;-)

Best,

(I will do some random trials and report if I find a binary not working on 10.9.5)

Jean-Fran?ois




From kakuto at fuk.kindai.ac.jp  Thu Mar  8 14:35:28 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 8 Mar 2018 22:35:28 +0900
Subject: [tex-live] Xindy (follow-up)
In-Reply-To: <97EFA563-4D75-460B-ACB2-90A9E7A872C4@icloud.com>
References: <6CE45C5F-F946-4233-AEC9-EB774156CB23@icloud.com>
 <1DD92C67FB6E4AA98CF7961898FD1C35@CJ3001517A>
 <97EFA563-4D75-460B-ACB2-90A9E7A872C4@icloud.com>
Message-ID: <E8BECA61277C4FDB969A84D7D83E5336@CJ3001517A>

Dear Bruno,

> Opening logfile "/dev/null" (done)

This message is in xindy.mem (gzipped).
I don't know why the message is not shown in
tl18 for MacOS and the program stops there.

Best,
Akira


From jfbu at free.fr  Thu Mar  8 14:38:13 2018
From: jfbu at free.fr (jfbu)
Date: Thu, 8 Mar 2018 14:38:13 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
Message-ID: <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>


Le 8 mars 2018 ? 14:26, jfbu <jfbu at free.fr> a ?crit :

> Hi
> 
> Le 8 mars 2018 ? 12:25, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :
> 
>> Hi,
>> 
>> Last year there were many complaints about the slowness of darwin
>> legacy binaries.
>> 
>> Is anyone willing to test these and compare them with, say, TL2016 and
>> the non-legacy darwin binaries compiled by Dick which are already in
>> TL pretest?
>>  http://dl.contextgarden.net/build/texlive/darwin/
>> 
>> There's currently one variant of the build available, but I'll prepare
>> a couple more.
>> 
>> The binaries above (x86_64-darwinlegacy_libc++_nomods.tar.xz) were
>> compiled with clang 5.0 on 10.6 and should in principle work out of
>> the box on 10.7 and later. On 10.6 they only work for those who have
>> libc++ installed (for example from MacPorts) and a few further
>> modifications are needed to make them work entirely out of the box on
>> 10.6, but that's a different topic.
>> 
>> Mojca
> 
> 
> I made test, only for tex binary
> 
> Downloads$ time tex temptest.tex
> This is TeX, Version 3.14159265 (TeX Live 2018) (preloaded format=tex)
> (./temptest.tex . . . . . . . . . . )
> No pages of output.
> Transcript written on temptest.log.
> 
> real	0m2.310s
> user	0m2.295s
> sys	0m0.013s
> 
> Downloads$ time tex temptest.tex
> This is TeX, Version 3.14159265 (TeX Live 2017) (preloaded format=tex)
> (./temptest.tex . . . . . . . . . . )
> No pages of output.
> Transcript written on temptest.log.
> 
> real	0m2.168s
> user	0m2.150s
> sys	0m0.016s
> 
> Downloads$ time tex temptest.tex
> This is TeX, Version 3.14159265 (TeX Live 2017/MacPorts 2017_1) (preloaded format=tex)
> (./temptest.tex . . . . . . . . . . )
> No pages of output.
> Transcript written on temptest.log.
> 
> real	0m1.669s
> user	0m1.654s
> sys	0m0.011s
> 
> I tried a few more times the testing with the new binary and got similar result.
> 
> This is on an iMac under 10.9.5.
> 
> The test file is this
> 
> \def\A{\B\B\B\B\B\B\B\B\B\B}% 10
> \def\B{\C\C\C\C\C\C\C\C\C\C}% 100
> \def\C{\noexpand\A\noexpand\A\noexpand\A\noexpand\A
>      \noexpand\A\noexpand\A\noexpand\A\noexpand\A
>      \noexpand\A\noexpand\A}% 1000
> \edef\D{\A}% 1000
> \edef\E{\D}% 1000000
> 
> \def\A{\edef\z{666}}
> 
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \E\message{.}
> \bye
> 
> With TeXLive 2016 : 
> 
> Downloads$ time tex temptest.tex
> This is TeX, Version 3.14159265 (TeX Live 2016) (preloaded format=tex)
> (./temptest.tex . . . . . . . . . . )
> No pages of output.
> Transcript written on temptest.log.
> 
> real	0m1.660s
> user	0m1.622s
> sys	0m0.014s
> 
> 
> which is similar to the timing for my MacPorts 2017 binary (I installed it in August 2017).
> 
> Is there any other experiment I can contribute ?
> 
> The TeX file above is perhaps not a good testbed.
> 
> On the plus side, the binary did execute ;-)
> 
> Best,
> 
> (I will do some random trials and report if I find a binary not working on 10.9.5)
> 
> Jean-Fran?ois
> 


Here is with luatex on the same test file

$ time luatex temptest.tex
This is LuaTeX, Version 0.95.0 (TeX Live 2016) 
 restricted system commands enabled.
(./temptest.tex . . . . . . . . . .)
warning  (pdf backend): no pages of output.
Transcript written on temptest.log.

real	0m1.585s
user	0m1.561s
sys	0m0.018s

$ time luatex temptest.tex
This is LuaTeX, Version 1.0.4 (TeX Live 2017/MacPorts 2017_1) 
 restricted system commands enabled.
(./temptest.tex . . . . . . . . . .)
warning  (pdf backend): no pages of output.
Transcript written on temptest.log.

real	0m1.745s
user	0m1.716s
sys	0m0.025s

$ time luatex temptest.tex
This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
 restricted system commands enabled.
(./temptest.tex . . . . . . . . . .)
warning  (pdf backend): no pages of output.
Transcript written on temptest.log.

real	0m2.618s
user	0m2.593s
sys	0m0.020s


Best,

Jean-Fran?ois



From koch at uoregon.edu  Thu Mar  8 18:32:40 2018
From: koch at uoregon.edu (Richard Koch)
Date: Thu, 8 Mar 2018 09:32:40 -0800
Subject: [tex-live] Xindy
Message-ID: <5550C269-3E9A-4109-82A7-77E13784C226@uoregon.edu>

Thanks to several people for looking into this.

Early on, my suspicions moved to xindy.mem and xindy.run. Since I have both TeX Live 2017 and TeX Live 2018, I moved the 2017 versions to my 2018 binary directory. Or at least that's what I thought I did. Later I compared sizes of these files in 2017 and 2018 and they were equal.

A short time ago, Herbert Schulz wrote saying that on his machine the two files had different sizes in 2017 and 2018. So I tried moving 2017 files to 2018 again, this time very, very carefully. That fixes the problem.

I suspect the problem is that I switched from Clisp 2010 to the latest Clisp. I'll test this by compiling with both versions. This will take
some time.

If I'm correct, I'll switch back to the older CLISP and submit those binaries. Thanks again.

Dick Koch

From jfbu at free.fr  Thu Mar  8 22:35:34 2018
From: jfbu at free.fr (jfbu)
Date: Thu, 8 Mar 2018 22:35:34 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
Message-ID: <51A34B8F-F744-4F36-8FF7-65297572DD7D@free.fr>

Hi Mojca,

just to clarify: the binaries compiled by Dick won't run on 10.9.5, right?

I assumed they won't so I have not installed the MacTeX part of TL pretest.

Best,

Jean-Fran?ois




From reinhard.kotucha at web.de  Thu Mar  8 23:47:23 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 8 Mar 2018 23:47:23 +0100
Subject: [tex-live] Request for performance check of legacy
	darwin	(luatex)
In-Reply-To: <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
Message-ID: <23201.48507.517603.554813@gargle.gargle.HOWL>

On 2018-03-08 at 14:38:13 +0100, jfbu wrote:
 > $ time luatex temptest.tex
 > This is LuaTeX, Version 1.0.4 (TeX Live 2017/MacPorts 2017_1) 
 >  restricted system commands enabled.
 > (./temptest.tex . . . . . . . . . .)
 > warning  (pdf backend): no pages of output.
 > Transcript written on temptest.log.
 > 
 > real	0m1.745s
 > user	0m1.716s
 > sys	0m0.025s
 > 
 > $ time luatex temptest.tex
 > This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
 >  restricted system commands enabled.
 > (./temptest.tex . . . . . . . . . .)
 > warning  (pdf backend): no pages of output.
 > Transcript written on temptest.log.
 > 
 > real	0m2.618s
 > user	0m2.593s
 > sys	0m0.020s

Just for the record, these numbers are meaningless if you don't clear
the filesystem cache before each run.

When I do

  time cat somefile > /dev/null

then the file is read from the disk with abt. 150 MB/s.

When I run the same command again, the file is read from the
filesystem cache with 8.5 GB/s.

In order to get comparable results it's necessary to wipe out the
cache before running any tests.  The easiest way to accomplish this on
Linux (at least) is to run the command

  sync; echo 3 > /proc/sys/vm/drop_caches

as root.  If you have a system monitor installed on your system
(xosview, for instance), you can see immediately what happens.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From koch at uoregon.edu  Fri Mar  9 00:41:44 2018
From: koch at uoregon.edu (Richard Koch)
Date: Thu, 8 Mar 2018 15:41:44 -0800
Subject: [tex-live] Xindy
Message-ID: <EBB96D7D-C7F8-4077-8FBD-4451F406E1EF@uoregon.edu>

Folks,

I have resolved the Xindy problems on the Macintosh, modulo one mystery.

Through 2016, my private build instructions for TeX Live contained the following comment:

"# The next section is about xindy. In 2011, the xindy.mem and xindy.run files from compiling do not
# work due to unexplained problems in CLisp. However, the 2010 versions of these files do work
# and the files should be unchanged. So following advice from Joachim Schrod, we use 2010 versions

Then in 2017, there is a mystery. At that moment, we started compiling in Yosemite, and apparently
xindy.mem and xindy.run worked fine, so the instructions about using the 2010 versions were
removed.

I have just discovered that this year, 2018, the files produced by both CLisp 2,49 and CLisp 2.49.99
no longer work. If they are replaced by the 2017 versions, then xindy works, Moreover, if they
are replaced by the 2010 versions, xindy again works.

I don't intend to proceed further. According to Karl Berry, there have been almost no xindy changes
for some time, so I'll return to the instructions which replace the current versions of
xindy,.mem and xindy.run by the 2010 versions whenever binaries are built.

If xindy changes in the future, I sympathize with the poor slob who will need to resolve this mystery,

Richard Koch



From jfbu at free.fr  Fri Mar  9 09:07:48 2018
From: jfbu at free.fr (jfbu)
Date: Fri, 9 Mar 2018 09:07:48 +0100
Subject: [tex-live] tlmgr not correctly set-up for out-of-the box use with
	locally mirrored repository
Message-ID: <D70F73F5-161C-4B4C-9C1C-D6435E39BA8B@free.fr>

Hi,

I did an install of TLpretest via rsync'ing a mirror.

Today I wanted to update my local installation (after
having update my rsynced mirror) but I got this :

$ tlmgr update --all
tlmgr: package repository /usr/local/texlive/2018 (not verified: unknown)
tlmgr: saving backups to /usr/local/texlive/2018/tlpkg/backups
tlmgr: no updates available
tlmgr: Your installation is set up to look on the disk for updates.
To install from the Internet for this one time only, run:
  tlmgr -repository http://mirror.ctan.org/systems/texlive/tlnet ACTION ARG...
where ACTION is install, update, etc.; see tlmgr -help if needed.

To change the default for all future updates, run:
  tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet

Then I checked:

$ tlmgr option repository
Default package repository (repository): .

Finally I have some notes from similar situation in 2016, so I did

$ tlmgr option repository ~/zzzzzz/TLmirror
tlmgr: setting default package repository to /yyyyyy/xxxxxx/zzzzzz/TLmirror

Then

$ tlmgr update --all
tlmgr: package repository /yyyyyy/xxxxxx/zzzzzz/TLmirror (verified)
tlmgr: saving backups to /usr/local/texlive/2018/tlpkg/backups
[1/9, ??:??/??:??] update: a2ping [67k] (29725 -> 46893) ... done
....

In the meantime I had tried to do the update from the ~/zzzzzz/TLmirror
repertory, thinking that maybe it would match the "." which was reported
above on querying the repository option. But to no avail.

Best,

Jean-Fran?ois



From jfbu at free.fr  Fri Mar  9 09:30:40 2018
From: jfbu at free.fr (jfbu)
Date: Fri, 9 Mar 2018 09:30:40 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <23201.48507.517603.554813@gargle.gargle.HOWL>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
 <23201.48507.517603.554813@gargle.gargle.HOWL>
Message-ID: <CF00560F-5541-4EC9-A58B-1F4347DAD50E@free.fr>

Hi Reinhard,

Le 8 mars 2018 ? 23:47, Reinhard Kotucha <reinhard.kotucha at web.de> a ?crit :

> On 2018-03-08 at 14:38:13 +0100, jfbu wrote:
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 1.0.4 (TeX Live 2017/MacPorts 2017_1) 
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real	0m1.745s
>> user	0m1.716s
>> sys	0m0.025s
>> 
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real	0m2.618s
>> user	0m2.593s
>> sys	0m0.020s
> 
> Just for the record, these numbers are meaningless if you don't clear
> the filesystem cache before each run.
> 
> When I do
> 
>  time cat somefile > /dev/null
> 
> then the file is read from the disk with abt. 150 MB/s.
> 
> When I run the same command again, the file is read from the
> filesystem cache with 8.5 GB/s.
> 
> In order to get comparable results it's necessary to wipe out the
> cache before running any tests.  The easiest way to accomplish this on
> Linux (at least) is to run the command
> 
>  sync; echo 3 > /proc/sys/vm/drop_caches
> 
> as root.  If you have a system monitor installed on your system
> (xosview, for instance), you can see immediately what happens.
> 

Thanks for advice,
What you say applies when file system operations are significant
for the timed process. In the case at hand I think CPU being 
busy with other things impacts more.

Anyway  I was careful to report
timings which are typical from having done these things
**many many times**, and in **random order**. I did get
some anomalous values, but the overall feeling is that
the timings I reported are clearly significative of some
underlying non-fake truth, in short, I take exception
with the indication that they are meaningless

Best,

Jean-Fran?ois


From preining at logic.at  Fri Mar  9 09:40:23 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 9 Mar 2018 17:40:23 +0900
Subject: [tex-live] tlmgr not correctly set-up for out-of-the box use
 with locally mirrored repository
In-Reply-To: <D70F73F5-161C-4B4C-9C1C-D6435E39BA8B@free.fr>
References: <D70F73F5-161C-4B4C-9C1C-D6435E39BA8B@free.fr>
Message-ID: <20180309084023.GA13327@bulldog.preining.info>

> Default package repository (repository): .

This happens when you
* install from a rsync checkout (or some other way of getting the full
  mirror)
* *de*-select the option to adjust the repo to mirror.ctan

What should be done is that before saving the repo it should be
converted to a global path, I will look into it.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mojca.miklavec.lists at gmail.com  Fri Mar  9 09:40:57 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 9 Mar 2018 09:40:57 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
Message-ID: <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>

On 8 March 2018 at 14:38, jfbu wrote:
>
> Here is with luatex on the same test file
>
> $ time luatex temptest.tex
> This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>  restricted system commands enabled.
> (./temptest.tex . . . . . . . . . .)
> warning  (pdf backend): no pages of output.
> Transcript written on temptest.log.
>
> real    0m1.585s
> user    0m1.561s
> sys     0m0.018s
>
> $ time luatex temptest.tex
> This is LuaTeX, Version 1.0.4 (TeX Live 2017/MacPorts 2017_1)
>  restricted system commands enabled.
> (./temptest.tex . . . . . . . . . .)
> warning  (pdf backend): no pages of output.
> Transcript written on temptest.log.
>
> real    0m1.745s
> user    0m1.716s
> sys     0m0.025s
>
> $ time luatex temptest.tex
> This is LuaTeX, Version 1.07.0 (TeX Live 2018)
>  restricted system commands enabled.
> (./temptest.tex . . . . . . . . . .)
> warning  (pdf backend): no pages of output.
> Transcript written on temptest.log.
>
> real    0m2.618s
> user    0m2.593s
> sys     0m0.020s

Thank you very much. There's evidently something "wrong" with
efficiency of the binaries generated with the latest clang compiler,
but it's not exactly clear to me why this would be the case. 75%
slowdown is very significant.

I'll try to use your testcase and prepare a few more variants of
binaries to test (using different compilers and compiler options).

This got me thinking. I'm always setting up some CXXFLAGS. I wonder if
the results would be any faster if I omit CXXFLAGS as setting the
flags might override some optimisation that would otherwise be set.

I don't find your question any longer, but no, MacTeX won't work on 10.9.

Mojca

From jfbu at free.fr  Fri Mar  9 09:49:27 2018
From: jfbu at free.fr (jfbu)
Date: Fri, 9 Mar 2018 09:49:27 +0100
Subject: [tex-live] tlmgr not correctly set-up for out-of-the box use
	with locally mirrored repository
In-Reply-To: <20180309084023.GA13327@bulldog.preining.info>
References: <D70F73F5-161C-4B4C-9C1C-D6435E39BA8B@free.fr>
 <20180309084023.GA13327@bulldog.preining.info>
Message-ID: <6DA38182-EFCF-42E1-8ECA-7E1C786CFF7F@free.fr>

Hi Norbert

Le 9 mars 2018 ? 09:40, Norbert Preining <preining at logic.at> a ?crit :

>> Default package repository (repository): .
> 
> This happens when you
> * install from a rsync checkout (or some other way of getting the full
>  mirror)
> * *de*-select the option to adjust the repo to mirror.ctan

indeed, this is exactly what I had done

> 
> What should be done is that before saving the repo it should be
> converted to a global path, I will look into it.


Thanks,

Jean-Fran?ois


From jfbu at free.fr  Fri Mar  9 10:10:09 2018
From: jfbu at free.fr (jfbu)
Date: Fri, 9 Mar 2018 10:10:09 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
 <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>
Message-ID: <01764D1E-B1DC-4357-B55A-BC59B3452E3A@free.fr>

Hi Mojca

Le 9 mars 2018 ? 09:40, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :

> On 8 March 2018 at 14:38, jfbu wrote:
>> 
>> Here is with luatex on the same test file
>> 
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real    0m1.585s
>> user    0m1.561s
>> sys     0m0.018s
>> 
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 1.0.4 (TeX Live 2017/MacPorts 2017_1)
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real    0m1.745s
>> user    0m1.716s
>> sys     0m0.025s
>> 
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 1.07.0 (TeX Live 2018)
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real    0m2.618s
>> user    0m2.593s
>> sys     0m0.020s
> 
> Thank you very much. There's evidently something "wrong" with
> efficiency of the binaries generated with the latest clang compiler,
> but it's not exactly clear to me why this would be the case. 75%
> slowdown is very significant.
> 
> I'll try to use your testcase and prepare a few more variants of
> binaries to test (using different compilers and compiler options).
> 
> This got me thinking. I'm always setting up some CXXFLAGS. I wonder if
> the results would be any faster if I omit CXXFLAGS as setting the
> flags might override some optimisation that would otherwise be set.
> 
> I don't find your question any longer, but no, MacTeX won't work on 10.9.


Thanks for looking into this. I think the slowdown is 50% from number above.

I have done a test which takes 10 times more time  (with the idea to reduce the
relative importance of file access operations, as initialization represents
less in proportion):

\def\A{\B\B\B\B\B\B\B\B\B\B}% 10
\def\B{\C\C\C\C\C\C\C\C\C\C}% 100
\def\C{\noexpand\A\noexpand\A\noexpand\A\noexpand\A
      \noexpand\A\noexpand\A\noexpand\A\noexpand\A
      \noexpand\A\noexpand\A}% 1000
\edef\D{\A}% 1000
% \edef\E{\D}% 1000000
\edef\E{\D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D\noexpand\message{.}%
        \D%
        }% 10000000

\def\A{\edef\z{666}}

\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\bye

I got these typical timings:

$ time luatex temptest2.tex
This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
 restricted system commands enabled.
(./temptest2.tex . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .)
warning  (pdf backend): no pages of output.
Transcript written on temptest2.log.

real	0m24.099s
user	0m24.045s
sys	0m0.054s

versus

$ time luatex temptest2.tex
This is LuaTeX, Version 1.0.4 (TeX Live 2017/MacPorts 2017_1) 
 restricted system commands enabled.
(./temptest2.tex . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .)
warning  (pdf backend): no pages of output.
Transcript written on temptest2.log.

real	0m16.138s
user	0m16.062s
sys	0m0.075s

Best,

Jean-Fran?ois

From preining at logic.at  Fri Mar  9 10:20:42 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 9 Mar 2018 18:20:42 +0900
Subject: [tex-live] tlmgr not correctly set-up for out-of-the box use
 with locally mirrored repository
In-Reply-To: <6DA38182-EFCF-42E1-8ECA-7E1C786CFF7F@free.fr>
References: <D70F73F5-161C-4B4C-9C1C-D6435E39BA8B@free.fr>
 <20180309084023.GA13327@bulldog.preining.info>
 <6DA38182-EFCF-42E1-8ECA-7E1C786CFF7F@free.fr>
Message-ID: <20180309092042.GB13327@bulldog.preining.info>

> > What should be done is that before saving the repo it should be
> > converted to a global path, I will look into it.

It did this already, but overwrote the good fixed location later on with
the wrong one again.

Fix committed.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Fri Mar  9 10:48:05 2018
From: jfbu at free.fr (jfbu)
Date: Fri, 9 Mar 2018 10:48:05 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <01764D1E-B1DC-4357-B55A-BC59B3452E3A@free.fr>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
 <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>
 <01764D1E-B1DC-4357-B55A-BC59B3452E3A@free.fr>
Message-ID: <B11DD6AC-25C8-43C3-AB13-CC27360EC072@free.fr>


Le 9 mars 2018 ? 10:10, jfbu <jfbu at free.fr> a ?crit :

> Thanks for looking into this. I think the slowdown is 50% from number above.


Sorry for having forgotten TL2016 timings.

I get typically

$ time luatex temptest2.tex
This is LuaTeX, Version 0.95.0 (TeX Live 2016) 
 restricted system commands enabled.
(./temptest2.tex . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .)
warning  (pdf backend): no pages of output.
Transcript written on temptest2.log.

real	0m14.607s
user	0m14.552s
sys	0m0.047s

thus on Mac OS X 10.9.5

TeXLive 2016: about 14.5 seconds
MacPorts2017 (version available in August 2017): about 16 seconds
TeXLive 2018 trial luatex binary for darwin legacy: about 24 seconds

Best

Jean-Fran?ois

From jse.mnl at gmail.com  Sat Mar 10 01:10:38 2018
From: jse.mnl at gmail.com (Jose Manuel)
Date: Sat, 10 Mar 2018 01:10:38 +0100
Subject: [tex-live] TL2018/LuaTeX/MacTeX: Unknown filter 'DCTDecode'
Message-ID: <CAMMv1iGMhhRP6tgf5PS_YHFosumPYS+Jm1cPskaBw25tVkr2cQ@mail.gmail.com>

Hi,

I am seeing with TL2018 this same bug of MikTeX (that was supposedly fixed
there in June): https://sourceforge.net/p/miktex/bugs/2605/

It can be reproduced following the instructions in the link. Concerning
this, pdfLaTeX is working fine (and LuaTeX in TL2017 too).

Hope this helps!

Thanks,
Jose
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180310/46edde2f/attachment.html>

From d.p.carlisle at gmail.com  Sat Mar 10 12:32:38 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 10 Mar 2018 11:32:38 +0000
Subject: [tex-live] TL2018/LuaTeX/MacTeX: Unknown filter 'DCTDecode'
In-Reply-To: <CAMMv1iGMhhRP6tgf5PS_YHFosumPYS+Jm1cPskaBw25tVkr2cQ@mail.gmail.com>
References: <CAMMv1iGMhhRP6tgf5PS_YHFosumPYS+Jm1cPskaBw25tVkr2cQ@mail.gmail.com>
Message-ID: <CAEW6iOgoYvTZrnszWH3EWWM2BjQRNp+jNKmkK3jZwfQ+K7Nm5A@mail.gmail.com>

Ulrike, who made the initial miktex DCTDecode miktex report pointed
out that there was a similar error reported for JPXDecode

https://sourceforge.net/p/miktex/bugs/2618/

Using the test file at that miktex bug report with tl2018 I get no
error in pdftex or xetex but luatex gives

[2<./Example_JPXDecode_bug.pdfSyntax Error (387264): Unknown filter 'JPXDecode'
Syntax Error (419987): Unknown filter 'JPXDecode'
Syntax Error (438858): Unknown filter 'JPXDecode'
Syntax Error (517374): Unknown filter 'JPXDecode'
>]

David

On 10 March 2018 at 00:10, Jose Manuel <jse.mnl at gmail.com> wrote:
> Hi,
>
> I am seeing with TL2018 this same bug of MikTeX (that was supposedly fixed
> there in June): https://sourceforge.net/p/miktex/bugs/2605/
>
> It can be reproduced following the instructions in the link. Concerning
> this, pdfLaTeX is working fine (and LuaTeX in TL2017 too).
>
> Hope this helps!
>
> Thanks,
> Jose

From jfbu at free.fr  Sat Mar 10 15:02:22 2018
From: jfbu at free.fr (jfbu)
Date: Sat, 10 Mar 2018 15:02:22 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
 <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>
Message-ID: <8C5A158D-A920-42EE-AD6C-75742576EB92@free.fr>

Hi Mojca

Le 9 mars 2018 ? 09:40, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :

> On 8 March 2018 at 14:38, jfbu wrote:
>> 
>> Here is with luatex on the same test file
>> 
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real    0m1.585s
>> user    0m1.561s
>> sys     0m0.018s
>> 
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 1.0.4 (TeX Live 2017/MacPorts 2017_1)
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real    0m1.745s
>> user    0m1.716s
>> sys     0m0.025s
>> 
>> $ time luatex temptest.tex
>> This is LuaTeX, Version 1.07.0 (TeX Live 2018)
>> restricted system commands enabled.
>> (./temptest.tex . . . . . . . . . .)
>> warning  (pdf backend): no pages of output.
>> Transcript written on temptest.log.
>> 
>> real    0m2.618s
>> user    0m2.593s
>> sys     0m0.020s
> 
> Thank you very much. There's evidently something "wrong" with
> efficiency of the binaries generated with the latest clang compiler,
> but it's not exactly clear to me why this would be the case. 75%
> slowdown is very significant.
> 
> I'll try to use your testcase and prepare a few more variants of
> binaries to test (using different compilers and compiler options).
> 
> This got me thinking. I'm always setting up some CXXFLAGS. I wonder if
> the results would be any faster if I omit CXXFLAGS as setting the
> flags might override some optimisation that would otherwise be set.
> 
> I don't find your question any longer, but no, MacTeX won't work on 10.9.
> 

ok, thanks

I got some news.

I rsynced the TeXLive sources and followed the instructions for vanilla
build of binaries i.e. I simply exectued the ./Build script.

I found the binaries in a x86_64-apple-darwin13.4.0 named repertory
which I moved to /usr/local/texlive/2018/bin location

and build the formats via fmtutil-sys --all

fmtutil [INFO]: Disabled formats: 2
fmtutil [INFO]: Successfully rebuilt formats: 22
fmtutil [INFO]: Total formats: 24
fmtutil [INFO]: exiting with status 0


Then I tried my test file, and I typically get

$ time tex temptest.tex
This is TeX, Version 3.14159265 (TeX Live 2018) (preloaded format=tex)
(./temptest.tex . . . . . . . . . . )
No pages of output.
Transcript written on temptest.log.

real	0m1.409s
user	0m1.393s
sys	0m0.012s

which is way better than the previously reported 

$ time tex temptest.tex
This is TeX, Version 3.14159265 (TeX Live 2018) (preloaded format=tex)
(./temptest.tex . . . . . . . . . . )
No pages of output.
Transcript written on temptest.log.

real	0m2.310s
user	0m2.295s
sys	0m0.013s

I can not use my temptest2.tex file with pdftex :

Runaway definition?
->\A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \A \ETC.
! TeX capacity exceeded, sorry [main memory size=5000000].

but I can with luatex and I now get

typically

$ time luatex temptest2.tex
This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
 restricted system commands enabled.
(./temptest2.tex . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . .)
warning  (pdf backend): no pages of output.
Transcript written on temptest2.log.

real	0m15.580s
user	0m15.534s
sys	0m0.045s

to be compared with the 24seconds I had reported from the "10.8.0" binaries

These experiments lead me to two questions :


1. do I have to worry that the ./Build script names the output repertory 
" x86_64-apple-darwin13.4.0"  (I recall I am on 10.9.5)

2. all formats are build, which at least gives me hope that binaries
of the *tex family work. Do I have to expect problems with others ?
Testing all of them would take me lots of time. I tried dvipng and dvisvgm

 - no problem with dvipng on sample2e.dvi

 - regarding dvisvgm I get this 

(
$ dvisvgm sample2e.dvi
processing of PostScript specials is disabled (Ghostscript not found)
pre-processing DVI file (format version 2)
processing page 1
  graphic size: 345.767443pt x 539.999972pt (121.523357mm x 189.788284mm)
  output written to sample2e-1.svg
1 of 3 pages converted in 0.22611 seconds

note: 
Ghostscript is installed 

$ which gs
/opt/local/bin/gs


Then for info

$ dvisvgm --version=true
dvisvgm 2.3.3 (x86_64-apple-darwin13.4.0)
-----------------------------------------
brotli:    1.0.2
clipper:   6.2.1
fontforge: 20160721
freetype:  2.9.0
kpathsea:  6.3.0
potrace:   1.15
woff2:     1.0.1
xxhash:    0.6.4
zlib:      1.2.11

To sum up:

building all binaries myself seems to work, but I don't know where to start
to find which ones will prove unusable on my Mac OS X 10.9.5.

Besides I am worried about whether perl scripts or whatever need any
special intervention, or simply copying over as I did the 

/path/to/texlivesources/source/inst/bin/x86_64-apple-darwin13.4.0

will solve all my problems (despite the name) and I don't have to
modify anything else.

Best

Jean-Fran?ois



From gnwiii at gmail.com  Sat Mar 10 23:24:13 2018
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 10 Mar 2018 18:24:13 -0400
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <8C5A158D-A920-42EE-AD6C-75742576EB92@free.fr>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
 <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>
 <8C5A158D-A920-42EE-AD6C-75742576EB92@free.fr>
Message-ID: <CAKTOP46HebyOY3bAQgg4bwMH5cBx7aB3fx9LbwopZrC2nPKVMg@mail.gmail.com>

[...]

1. do I have to worry that the ./Build script names the output repertory
> " x86_64-apple-darwin13.4.0"  (I recall I am on 10.9.5)
>

https://en.wikipedia.org/wiki/Darwin_(operating_system) has a table mapping
Darwin versions to macOS versions

Darwin 13.4.0 is used in macOS 10.9.5 so what you see is no mistake.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180310/a271ae19/attachment.html>

From jfbu at free.fr  Sat Mar 10 23:32:02 2018
From: jfbu at free.fr (jfbu)
Date: Sat, 10 Mar 2018 23:32:02 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <CAKTOP46HebyOY3bAQgg4bwMH5cBx7aB3fx9LbwopZrC2nPKVMg@mail.gmail.com>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <D7108A7F-894F-4B1C-9CAA-781503FACE81@free.fr>
 <CALBOmsYDEZcPccW_CkqhN2z5X3X06HtQt8HCbvuUdw9r5_sn5w@mail.gmail.com>
 <8C5A158D-A920-42EE-AD6C-75742576EB92@free.fr>
 <CAKTOP46HebyOY3bAQgg4bwMH5cBx7aB3fx9LbwopZrC2nPKVMg@mail.gmail.com>
Message-ID: <9BB5350A-EBF9-4639-B238-7231B9A84F8B@free.fr>


Le 10 mars 2018 ? 23:24, George N. White III <gnwiii at gmail.com> a ?crit :

> 
> 
> [...] 
> 1. do I have to worry that the ./Build script names the output repertory
> " x86_64-apple-darwin13.4.0"  (I recall I am on 10.9.5)
> 
> https://en.wikipedia.org/wiki/Darwin_(operating_system) has a table mapping
> Darwin versions to macOS versions
> 
> Darwin 13.4.0 is used in macOS 10.9.5 so what you see is no mistake.
>  


Indeed!  darwin having a version number had slipped out of my mind.

well, all seems very good then.

thanks a lot!

Jean-Fran?ois
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180310/05f7c92d/attachment.html>

From jfbu at free.fr  Mon Mar 12 00:02:54 2018
From: jfbu at free.fr (jfbu)
Date: Mon, 12 Mar 2018 00:02:54 +0100
Subject: [tex-live] dvisvgm with libgs on mac os x
Message-ID: <7B22D012-330A-4EFB-8630-D9231F050FAE@free.fr>

hi,

asking for help on how to compile dvisvgm from TeXLive sources
so that it can locate the libgs library on my mac which is at
/opt/local/lib

(/opt/local/lib/libgs.dylib is a symlink to libgs.9.22.dylib)

With the vanilla ./Build produced dvisvgm, I need to pass --libgs option
to dvisvgm binary when using it like this

$ dvisvgm --libgs="/opt/local/lib/libgs.dylib" temp.dvi

and it does work fine (temp.dvi contains 18 postscript specials)

I tried to play with the configure options listed at

http://tug.org/texlive/doc/tlbuild.html#Configure-options-for-texk_002fdvisvgm

my last attempt did

Work$ ../configure --disable-all-pkgs --disable-native-texlive-build --enable-multiplatform --prefix="/opt/local" --disable-cxx-runtime-hack --enable-dvisvgm --with-system-libgs --with-libgs-includes="/opt/local/include/ghostscript" --with-libgs-libdir="/opt/local/lib/"

but it did not seem to succeed.

Is there something wrong in my environment variables

(I noticed /opt/local/lib is not in my PATH, I have no idea if that matters)

I googled a bit for location of dylib's on the mac, and found no
immediately usable answer

(although https://stackoverflow.com/questions/2339679/what-are-the-differences-between-so-and-dylib-on-osx
does explain things)

Best,

Jean-Fran?ois



From mojca.miklavec.lists at gmail.com  Mon Mar 12 00:26:16 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 12 Mar 2018 00:26:16 +0100
Subject: [tex-live] dvisvgm with libgs on mac os x
In-Reply-To: <7B22D012-330A-4EFB-8630-D9231F050FAE@free.fr>
References: <7B22D012-330A-4EFB-8630-D9231F050FAE@free.fr>
Message-ID: <CALBOmsay7eCcevG1FC6FaG=sN2rCP-YdDc==7w_NeZCsWQfnPA@mail.gmail.com>

On 12 March 2018 at 00:02, jfbu wrote:
> hi,
>
> asking for help on how to compile dvisvgm from TeXLive sources
> so that it can locate the libgs library on my mac which is at
> /opt/local/lib
>
> (/opt/local/lib/libgs.dylib is a symlink to libgs.9.22.dylib)
>
> With the vanilla ./Build produced dvisvgm, I need to pass --libgs option
> to dvisvgm binary when using it like this
>
> $ dvisvgm --libgs="/opt/local/lib/libgs.dylib" temp.dvi
>
> and it does work fine (temp.dvi contains 18 postscript specials)

I would try with
    export LDFLAGS="-L/opt/local/lib"
    export CXXFLAGS="-I/opt/local/include"

But keep in mind that when ghostscript gets updated, you might need to
recompile the binary. Why don't you use
    sudo port install dvisvgm
instead?

I tried to update it just now (the latest version is not in the repo
yet). Two tests fail:
FAIL: DVIReaderTest
FAIL: FontManagerTest
but I'm not sure about how the situation was before.

> I tried to play with the configure options listed at
>
> http://tug.org/texlive/doc/tlbuild.html#Configure-options-for-texk_002fdvisvgm
>
> my last attempt did
>
> Work$ ../configure --disable-all-pkgs --disable-native-texlive-build --enable-multiplatform --prefix="/opt/local" --disable-cxx-runtime-hack --enable-dvisvgm --with-system-libgs --with-libgs-includes="/opt/local/include/ghostscript" --with-libgs-libdir="/opt/local/lib/"
>
> but it did not seem to succeed.
>
> Is there something wrong in my environment variables

No. But when neither pkg-config nor cmake know where to find the
binaries, you need to provide explicit hints.

> (I noticed /opt/local/lib is not in my PATH, I have no idea if that matters)

It should not be.

> I googled a bit for location of dylib's on the mac, and found no
> immediately usable answer

They are spread all over the place. The dylibs in /opt/local/lib
(usually) come from MacPorts, but that's by far not the only place
where you can find them. Usually each .app bundle ships its own copy
of libraries.

Mojca


From P.Taylor at Rhul.Ac.Uk  Mon Mar 12 10:53:37 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Mon, 12 Mar 2018 09:53:37 +0000
Subject: [tex-live] pretest 2018 imminent
In-Reply-To: <201802282349.w1SNnMRg004075@freefriends.org>
References: <201802282349.w1SNnMRg004075@freefriends.org>
Message-ID: <d4fcc29b-3683-6ef6-19ba-2390c96c5df0@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180312/132f8908/attachment.html>

From preining at logic.at  Mon Mar 12 11:00:51 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 12 Mar 2018 19:00:51 +0900
Subject: [tex-live] pretest 2018 imminent
In-Reply-To: <d4fcc29b-3683-6ef6-19ba-2390c96c5df0@Rhul.Ac.Uk>
References: <201802282349.w1SNnMRg004075@freefriends.org>
 <d4fcc29b-3683-6ef6-19ba-2390c96c5df0@Rhul.Ac.Uk>
Message-ID: <72DF5839-01A8-4A70-8EC0-444C1E2823F1@logic.at>

Hi Royal Head Undertaker of Ladisburough

(Or whatever RHUoL might mean)

>Why would the TeX Live manager seek to update the pretest from Oxdord
>rather than from the location (S:\TeX\Live\2018\tlpretest) from which
>it was installed ?

Did you uncheck the option
  After installation set repository to CTAN mirror
during installation?

If not, this is the expected thing.

Norbert


On March 12, 2018 6:53:37 PM GMT+09:00, "Philip Taylor (RHUoL)" <P.Taylor at Rhul.Ac.Uk> wrote:
>TeX Live 2018 (pre-test) was downloaded using Rsynch from Slovenia to
>S:\TeX\Live\2018\tlpretest
>
>TeX Live 2018 (pre-test) was installed to S:\TeX\Live\2018
>
>A day or two later, a further Rsynch was performed, after which
>TLmgr-GUI was launched from S:\TeX\Live\2018\Bin\Win32
>
>The TeX Live manager was instructed to perform an "Update all
>installed", at which point it reported (ephemerally)
>
>"Executing action update. The TeX Live versions supported by the
>repository http://mirror.ox.ac.uk/sites/ctan.org/systems/tlnet
>(2016--2017) does not include the version of the local installation
>(2018)"
>
>Why would the TeX Live manager seek to update the pretest from Oxdord
>rather than from the location (S:\TeX\Live\2018\tlpretest) from which
>it was installed ?
>
>Philip Taylor


--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From jfbu at free.fr  Mon Mar 12 12:50:08 2018
From: jfbu at free.fr (jfbu)
Date: Mon, 12 Mar 2018 12:50:08 +0100
Subject: [tex-live] dvisvgm with libgs on mac os x
In-Reply-To: <CALBOmsay7eCcevG1FC6FaG=sN2rCP-YdDc==7w_NeZCsWQfnPA@mail.gmail.com>
References: <7B22D012-330A-4EFB-8630-D9231F050FAE@free.fr>
 <CALBOmsay7eCcevG1FC6FaG=sN2rCP-YdDc==7w_NeZCsWQfnPA@mail.gmail.com>
Message-ID: <AD76E9E5-7039-42A8-9D7A-420D3AC21292@free.fr>


Le 12 mars 2018 ? 00:26, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :

> On 12 March 2018 at 00:02, jfbu wrote:
>> hi,
>> 
>> asking for help on how to compile dvisvgm from TeXLive sources
>> so that it can locate the libgs library on my mac which is at
>> /opt/local/lib
>> 
>> (/opt/local/lib/libgs.dylib is a symlink to libgs.9.22.dylib)
>> 
>> With the vanilla ./Build produced dvisvgm, I need to pass --libgs option
>> to dvisvgm binary when using it like this
>> 
>> $ dvisvgm --libgs="/opt/local/lib/libgs.dylib" temp.dvi
>> 
>> and it does work fine (temp.dvi contains 18 postscript specials)
> 
> I would try with
>    export LDFLAGS="-L/opt/local/lib"
>    export CXXFLAGS="-I/opt/local/include"


I have tried but this does not suffice (details below)
> 
> But keep in mind that when ghostscript gets updated, you might need to
> recompile the binary. Why don't you use
>    sudo port install dvisvgm
> instead?

Indeed the dvisvgm  from MacPorts does find /opt/local/lib/libgs.dylib
I did port upgrade outdated the other day and ghostscript was
moved to 9.22, and the texlive binaries were updated including dvisvgm
(to binaries from October 2017)

> 
> I tried to update it just now (the latest version is not in the repo
> yet). Two tests fail:
> FAIL: DVIReaderTest
> FAIL: FontManagerTest
> but I'm not sure about how the situation was before.
> 
>> I tried to play with the configure options listed at
>> 
>> http://tug.org/texlive/doc/tlbuild.html#Configure-options-for-texk_002fdvisvgm
>> 
>> my last attempt did
>> 
>> Work$ ../configure --disable-all-pkgs --disable-native-texlive-build --enable-multiplatform --prefix="/opt/local" --disable-cxx-runtime-hack --enable-dvisvgm --with-system-libgs --with-libgs-includes="/opt/local/include/ghostscript" --with-libgs-libdir="/opt/local/lib/"
>> 
>> but it did not seem to succeed.
>> 
>> Is there something wrong in my environment variables
> 
> No. But when neither pkg-config nor cmake know where to find the
> binaries, you need to provide explicit hints.
> 
>> (I noticed /opt/local/lib is not in my PATH, I have no idea if that matters)
> 
> It should not be.
> 
>> I googled a bit for location of dylib's on the mac, and found no
>> immediately usable answer
> 
> They are spread all over the place. The dylibs in /opt/local/lib
> (usually) come from MacPorts, but that's by far not the only place
> where you can find them. Usually each .app bundle ships its own copy
> of libraries.


Thanks for the info. My situation is seen is the following

Work$ echo $CXXFLAGS
-I/opt/local/include

Work$ echo $LDFLAGS
-L/opt/local/lib

Work$ ../configure --disable-all-pkgs --disable-native-texlive-build --enable-multiplatform --prefix="/opt/local" --enable-dvisvgm --with-system-libgs

(or various variants)

Then I do the "make" and from its voluminous output I extract the following

=== configuring in dvisvgm (/opt/src/tldevsrc/source/Work/texk/dvisvgm)
[lines snipped]
checking ghostscript/iapi.h usability... no
checking ghostscript/iapi.h presence... no
checking for ghostscript/iapi.h... no
checking for dlopen in -ldl... yes
configure: not linking to libgs, trying to arrange for dynamic loading

But I have :

Work$ pushd /opt && find . -name 'iapi.h' && popd
/opt /opt/src/tldevsrc/source/Work /opt
./local/include/ghostscript/iapi.h
./src/tldevsrc/source/texk/dvisvgm/dvisvgm-src/src/iapi.h
/opt/src/tldevsrc/source/Work /opt


Then I tried manually editing the Makefile in Work/texk/dvisvgm

LDFLAGS = -L/opt/local/lib
LIBGS_INCLUDES = -I/opt/local/include/ghostscript
LIBGS_LIBS = /opt/local/lib/libgs.dylib

where the LDFLAGS was already as above

but I am not sure which target to use for make there, and anyway
it doesn't work

I am just completely unknowledgeable about the autoconf machinery
etc, hence I have some difficulties understanding these Makefiles

Best

Jean-Fran?ois



From jfbu at free.fr  Mon Mar 12 13:00:15 2018
From: jfbu at free.fr (jfbu)
Date: Mon, 12 Mar 2018 13:00:15 +0100
Subject: [tex-live] dvisvgm with libgs on mac os x
In-Reply-To: <AD76E9E5-7039-42A8-9D7A-420D3AC21292@free.fr>
References: <7B22D012-330A-4EFB-8630-D9231F050FAE@free.fr>
 <CALBOmsay7eCcevG1FC6FaG=sN2rCP-YdDc==7w_NeZCsWQfnPA@mail.gmail.com>
 <AD76E9E5-7039-42A8-9D7A-420D3AC21292@free.fr>
Message-ID: <1AB8B211-D425-4467-A277-31396568BB26@free.fr>


Le 12 mars 2018 ? 12:50, jfbu <jfbu at free.fr> a ?crit :

>> 
>> 
>> But keep in mind that when ghostscript gets updated, you might need to
>> recompile the binary. Why don't you use
>>   sudo port install dvisvgm
>> instead?
> 
> Indeed the dvisvgm  from MacPorts does find /opt/local/lib/libgs.dylib
> I did port upgrade outdated the other day and ghostscript was
> moved to 9.22, and the texlive binaries were updated including dvisvgm
> (to binaries from October 2017)

I forgot to say that this MacPorts one is dvisvgm 2.1.3

Why don't I use it ? I will probably, but as I had a very
nice experience with ./Build, I insist on making my life
miserable and for this trying to get the dvisvgm 2.3.3 knowing where to find
libgs.dylib of my dreams seems a good way.

Also, I have a set-up where I solved all issues during 2017/2018 about
using MacPorts binaries inside a pure TeXLive2017 install, in a way
compatible with the TeXDist Control Panel facilities,
and I am trying not to mix the two sets of binaries. I can now either
work with TeXLive provided, or my "self"-compiled, or the MacPorts binaries
and I try not to mix them.

best

Jean-Fran?ois



From jfbu at free.fr  Mon Mar 12 16:38:06 2018
From: jfbu at free.fr (jfbu)
Date: Mon, 12 Mar 2018 16:38:06 +0100
Subject: [tex-live] dvisvgm with libgs on mac os x
In-Reply-To: <AD76E9E5-7039-42A8-9D7A-420D3AC21292@free.fr>
References: <7B22D012-330A-4EFB-8630-D9231F050FAE@free.fr>
 <CALBOmsay7eCcevG1FC6FaG=sN2rCP-YdDc==7w_NeZCsWQfnPA@mail.gmail.com>
 <AD76E9E5-7039-42A8-9D7A-420D3AC21292@free.fr>
Message-ID: <8CA4685F-79F1-41B0-9DEF-62A986F10C3C@free.fr>


Le 12 mars 2018 ? 12:50, jfbu <jfbu at free.fr> a ?crit :

> 
> Le 12 mars 2018 ? 00:26, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :
> 
>> On 12 March 2018 at 00:02, jfbu wrote:
>>> hi,
>>> 
>>> asking for help on how to compile dvisvgm from TeXLive sources
>>> so that it can locate the libgs library on my mac which is at
>>> /opt/local/lib
>>> 
>>> (/opt/local/lib/libgs.dylib is a symlink to libgs.9.22.dylib)
>>> 
>>> With the vanilla ./Build produced dvisvgm, I need to pass --libgs option
>>> to dvisvgm binary when using it like this
>>> 
>>> $ dvisvgm --libgs="/opt/local/lib/libgs.dylib" temp.dvi
>>> 
>>> and it does work fine (temp.dvi contains 18 postscript specials)
>> 
>> I would try with
>>   export LDFLAGS="-L/opt/local/lib"
>>   export CXXFLAGS="-I/opt/local/include"
> 
> 
> I have tried but this does not suffice (details below)

Turns out I needed also to set CPPFLAGS in order for AC_CHECK_HEADERS
in the /texk/dvisvgm/configure.ac to work as expected

Perhaps ok the latest patch to the TeXLive sources discussed at
http://tug.org/pipermail/tlbuild/2018q1/004094.html
was needed, I don't know.

Anyway I now get into the desired 

checking ghostscript/iapi.h usability... yes
checking ghostscript/iapi.h presence... yes
checking for ghostscript/iapi.h... yes
checking for gsapi_revision in -lgs... yes
checking Ghostscript version... "922"


But the process then ends with a report of 8 errors of similar nature

../../../../../texk/dvisvgm/dvisvgm-src/src/dvisvgm.cpp:78:48: error: unknown
      type name 'CommandLine'
static string get_transformation_string (const CommandLine &args) {
                                               ^

and 

../../../../../texk/dvisvgm/dvisvgm-src/src/dvisvgm.cpp:307:9: error: use of
      undeclared identifier 'CL'
                throw CL::CommandLineException(msg);


I assume I have messed up things with my 

$ export CPPFLAGS='-I/opt/local/include'

I must have overwritten some other config.

I don't want to occupy to much this mailing list though,
so I will only report later on in case I solve this
and do get my dvisvgm 2.3.3 with Postscript support

Best

Jean-Fran?ois

>> 
>> But keep in mind that when ghostscript gets updated, you might need to
>> recompile the binary. Why don't you use
>>   sudo port install dvisvgm
>> instead?
> 
> Indeed the dvisvgm  from MacPorts does find /opt/local/lib/libgs.dylib
> I did port upgrade outdated the other day and ghostscript was
> moved to 9.22, and the texlive binaries were updated including dvisvgm
> (to binaries from October 2017)
> 
>> 
>> I tried to update it just now (the latest version is not in the repo
>> yet). Two tests fail:
>> FAIL: DVIReaderTest
>> FAIL: FontManagerTest
>> but I'm not sure about how the situation was before.
>> 
>>> I tried to play with the configure options listed at
>>> 
>>> http://tug.org/texlive/doc/tlbuild.html#Configure-options-for-texk_002fdvisvgm
>>> 
>>> my last attempt did
>>> 
>>> Work$ ../configure --disable-all-pkgs --disable-native-texlive-build --enable-multiplatform --prefix="/opt/local" --disable-cxx-runtime-hack --enable-dvisvgm --with-system-libgs --with-libgs-includes="/opt/local/include/ghostscript" --with-libgs-libdir="/opt/local/lib/"
>>> 
>>> but it did not seem to succeed.
>>> 
>>> Is there something wrong in my environment variables
>> 
>> No. But when neither pkg-config nor cmake know where to find the
>> binaries, you need to provide explicit hints.
>> 
>>> (I noticed /opt/local/lib is not in my PATH, I have no idea if that matters)
>> 
>> It should not be.
>> 
>>> I googled a bit for location of dylib's on the mac, and found no
>>> immediately usable answer
>> 
>> They are spread all over the place. The dylibs in /opt/local/lib
>> (usually) come from MacPorts, but that's by far not the only place
>> where you can find them. Usually each .app bundle ships its own copy
>> of libraries.
> 
> 
> Thanks for the info. My situation is seen is the following
> 
> Work$ echo $CXXFLAGS
> -I/opt/local/include
> 
> Work$ echo $LDFLAGS
> -L/opt/local/lib
> 
> Work$ ../configure --disable-all-pkgs --disable-native-texlive-build --enable-multiplatform --prefix="/opt/local" --enable-dvisvgm --with-system-libgs
> 
> (or various variants)
> 
> Then I do the "make" and from its voluminous output I extract the following
> 
> === configuring in dvisvgm (/opt/src/tldevsrc/source/Work/texk/dvisvgm)
> [lines snipped]
> checking ghostscript/iapi.h usability... no
> checking ghostscript/iapi.h presence... no
> checking for ghostscript/iapi.h... no
> checking for dlopen in -ldl... yes
> configure: not linking to libgs, trying to arrange for dynamic loading
> 
> But I have :
> 
> Work$ pushd /opt && find . -name 'iapi.h' && popd
> /opt /opt/src/tldevsrc/source/Work /opt
> ./local/include/ghostscript/iapi.h
> ./src/tldevsrc/source/texk/dvisvgm/dvisvgm-src/src/iapi.h
> /opt/src/tldevsrc/source/Work /opt
> 
> 
> Then I tried manually editing the Makefile in Work/texk/dvisvgm
> 
> LDFLAGS = -L/opt/local/lib
> LIBGS_INCLUDES = -I/opt/local/include/ghostscript
> LIBGS_LIBS = /opt/local/lib/libgs.dylib
> 
> where the LDFLAGS was already as above
> 
> but I am not sure which target to use for make there, and anyway
> it doesn't work
> 
> I am just completely unknowledgeable about the autoconf machinery
> etc, hence I have some difficulties understanding these Makefiles
> 
> Best
> 
> Jean-Fran?ois



From P.Taylor at Rhul.Ac.Uk  Mon Mar 12 17:21:32 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Mon, 12 Mar 2018 16:21:32 +0000
Subject: [tex-live] pretest 2018 imminent
In-Reply-To: <72DF5839-01A8-4A70-8EC0-444C1E2823F1@logic.at>
References: <201802282349.w1SNnMRg004075@freefriends.org>
 <d4fcc29b-3683-6ef6-19ba-2390c96c5df0@Rhul.Ac.Uk>
 <72DF5839-01A8-4A70-8EC0-444C1E2823F1@logic.at>
Message-ID: <cf7edfc3-e6f0-3984-d626-30346bf44fde@Rhul.Ac.Uk>

Hallo Norbert --


Norbert Preining wrote:
> Did you uncheck the option
>    After installation set repository to CTAN mirror
> during installation?
No, I did not see such an option -- I will re-install and see if I can 
locate it ... Ah, I see an analogous one :? "After installation, get 
packages from CTAN".? Is that the option to which you refer ? And is 
this a new option, because I do not remember unticking such an option in 
the past.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Mon Mar 12 17:33:57 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Mon, 12 Mar 2018 16:33:57 +0000
Subject: [tex-live] pretest 2018 imminent
In-Reply-To: <cf7edfc3-e6f0-3984-d626-30346bf44fde@Rhul.Ac.Uk>
References: <201802282349.w1SNnMRg004075@freefriends.org>
 <d4fcc29b-3683-6ef6-19ba-2390c96c5df0@Rhul.Ac.Uk>
 <72DF5839-01A8-4A70-8EC0-444C1E2823F1@logic.at>
 <cf7edfc3-e6f0-3984-d626-30346bf44fde@Rhul.Ac.Uk>
Message-ID: <c216f3aa-9e64-c8e6-842f-c1a78af463fc@Rhul.Ac.Uk>

OK, so rather than re-install I changed the repository to my local 
Rsynch'd copy using the GUI and tried again; it next told me that my TeX 
Live manager was out of date and should be updated using (amongst other 
options) "tlmgr update --self".? I tried this, and was again told "The 
TeX Live versions supported by the repository 
http://mirror.ox.ac.uk/sites/ctan.org/systems/tlnet (2016--2017) does 
not include the version of the local installation (2018)", on this 
occasion preceded by the warning "xzdec (stdin): Unexpected end of input".

** Phil.

--------
Philip Taylor (RHUoL) wrote:
> No, I did not see such an option -- I will re-install and see if I can 
> locate it ... Ah, I see an analogous one :? "After installation, get 
> packages from CTAN".? Is that the option to which you refer ? And is 
> this a new option, because I do not remember unticking such an option 
> in the past.


From gene at gerd-neugebauer.de  Mon Mar 12 19:00:14 2018
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Mon, 12 Mar 2018 19:00:14 +0100 (CET)
Subject: [tex-live] ctan-o-mat symlink
Message-ID: <962559433.467501.1520877614520@email.1und1.de>

Hi,
I have received a report about ctan-o-mat on Mac. It seems that there is a symlink on the path to ctan-o-mat.pl but not to ctan-o-mat (the wrapper script). This has caused problems (related to the Perl version used) which could be overcome by symlinking to the wrapper script instead of the Perl program.
Please consider this solution.
Ciao
Gerd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180312/efe09fe2/attachment.html>

From karl at freefriends.org  Mon Mar 12 23:24:56 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 12 Mar 2018 22:24:56 GMT
Subject: [tex-live] ctan-o-mat symlink
In-Reply-To: <962559433.467501.1520877614520@email.1und1.de>
Message-ID: <201803122224.w2CMOuEd012656@freefriends.org>

Hi Gerd - how about changing the first line of ctan-o-mat.pl to be
#!/usr/bin/env perl
(and adding use warnings; if you like)? Then there is no need for a
wrapper. This is what essentially all the other perl/python/whatever
scripts do ... --thanks, karl.

From gene at gerd-neugebauer.de  Mon Mar 12 23:44:23 2018
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Mon, 12 Mar 2018 23:44:23 +0100 (CET)
Subject: [tex-live] ctan-o-mat symlink
In-Reply-To: <201803122224.w2CMOuEd012656@freefriends.org>
References: <962559433.467501.1520877614520@email.1und1.de>
 <201803122224.w2CMOuEd012656@freefriends.org>
Message-ID: <557754252.359278.1520894663825@email.1und1.de>


> On 12 March 2018 at 23:24 Karl Berry <karl at freefriends.org> wrote:

> Hi Gerd 

Hi Karl,

> - how about changing the first line of ctan-o-mat.pl to be
> #!/usr/bin/env perl
> (and adding use warnings; if you like)? Then there is no need for a
> wrapper. This is what essentially all the other perl/python/whatever
> scripts do ...

I will do this as fallback in addition. Nevertheless it solves only part of the problem. Older UNIXes do not have /usr/bin/env and it will definitely not work on Windows. Thus the wrapper scripts have to stay. It would be nice if TeXlive just honors them in the way they have been intended and work.

> --thanks, karl.

Ciao
Gerd

From preining at logic.at  Tue Mar 13 01:02:37 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 13 Mar 2018 09:02:37 +0900
Subject: [tex-live] pretest 2018 imminent
In-Reply-To: <c216f3aa-9e64-c8e6-842f-c1a78af463fc@Rhul.Ac.Uk>
 <cf7edfc3-e6f0-3984-d626-30346bf44fde@Rhul.Ac.Uk>
Message-ID: <20180313000237.GE23691@burischnitzel.preining.info>

Hi Royal High Uroboros of Lichtenfels!

> locate it ... Ah, I see an analogous one :? "After installation, get
> packages from CTAN".? Is that the option to which you refer ? And is this a
> new option, because I do not remember unticking such an option in the past.

Yes, this option, and no, it is not new, maybe 3 years or so ...

> OK, so rather than re-install I changed the repository to my local Rsynch'd
> copy using the GUI and tried again; it next told me that my TeX Live manager
...
> http://mirror.ox.ac.uk/sites/ctan.org/systems/tlnet (2016--2017) does not

Did you change the repository for the current run via
  tlmgr -> Load other repository -> ...
or did you change the repository *default* as saved in the database via
  Options -> General -> Default package repository

All these settings haven't changed in the last 10 or so years.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From angelo.g0 at libero.it  Tue Mar 13 12:42:47 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 13 Mar 2018 12:42:47 +0100 (CET)
Subject: [tex-live] About timestamps of TeXLive repo
Message-ID: <1998782125.1177950.1520941367446@mail.libero.it>

I wonder why when there is the step from _tlnet_ to _tlpretest_ many if not all packages of _archive_ folder change the timestamps and one is constrained to re-download all to maintain a local copy of a remote ftp... Usually I have a copy of _tlnet_ or _tlpretest_ in _tlrepo_ and install things in _/opt/texlive_ not _/opt/texlive/YEAR_.

In the step _tlnet_ ==> _tlpretest_ (and viceversa) I would to continue updating my local repo and TeXLive installation (by means of tlmgr) without, _de facto_, reinstalling all from scratch.

For this reason I often skip the pretest step.

Ciao,
Angelo.

From karl at freefriends.org  Tue Mar 13 23:14:29 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 13 Mar 2018 22:14:29 GMT
Subject: [tex-live] About timestamps of TeXLive repo
In-Reply-To: <1998782125.1177950.1520941367446@mail.libero.it>
Message-ID: <201803132214.w2DMETU5023144@freefriends.org>

We recreate all packages when we start the pretest in order to get all
new Catalogue information. Catalogue updates without any update to the
package are frequent. If we didn't recreate, we would never get those.

I guess in principle we could only recreate those packages which do in
fact have Catalogue changes. It is "just" more work and time to figure
that out :(. -k



From reinhard.kotucha at web.de  Tue Mar 13 23:24:09 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 13 Mar 2018 23:24:09 +0100
Subject: [tex-live] ctan-o-mat symlink
In-Reply-To: <557754252.359278.1520894663825@email.1und1.de>
References: <962559433.467501.1520877614520@email.1und1.de>
 <201803122224.w2CMOuEd012656@freefriends.org>
 <557754252.359278.1520894663825@email.1und1.de>
Message-ID: <23208.20361.176811.107900@gargle.gargle.HOWL>

On 2018-03-12 at 23:44:23 +0100, Gerd Neugebauer wrote:

 > 
 > > On 12 March 2018 at 23:24 Karl Berry <karl at freefriends.org> wrote:
 > 
 > > Hi Gerd 
 > 
 > Hi Karl,
 > 
 > > - how about changing the first line of ctan-o-mat.pl to be
 > > #!/usr/bin/env perl
 > > (and adding use warnings; if you like)? Then there is no need for a
 > > wrapper. This is what essentially all the other perl/python/whatever
 > > scripts do ...
 > 
 > I will do this as fallback in addition. Nevertheless it solves only
 > part of the problem. Older UNIXes do not have /usr/bin/env

Hi Gerd,
all scripts shipped with TeX Live are using /usr/bin/env on Unix and
nobody complained so far.  I suppose that none of the old Unices you
have in mind is supported by TeX Live for at least more than one or
even two decades and ...

 > and it will definitely not work on Windows.

... for Windows there are wrappers anyway.  See

  .../bin/win32/runscript.tlu

This wrapper is actually a replacement for missing symlinks on
Windows, though it does a little bit more.  Please read the comments
whithin the script if you are interested in the details.

If you add a new script to TeX Live, all you have to do is to add a
shebang line (#!/usr/bin/env <interpreter>) for Unix.  There is no
need to worry about Windows.  The script will be invoked by the
runscript wrapper anyway.

I'm looking forward to meet you at Dante-2018,

  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From murray at math.umass.edu  Tue Mar 13 22:45:51 2018
From: murray at math.umass.edu (Murray Eisenberg)
Date: Tue, 13 Mar 2018 17:45:51 -0400
Subject: [tex-live] Cannot update TeXLive Manager 2017 under Windows 10
Message-ID: <D4E301AA-AAD8-4CC5-86F0-A3827C0A18A7@math.umass.edu>

I?m running TeXLive Manager 2017 with tlmgrgui version 44719 and tlmgr revision 46207 under Windows 10. If I try to update all installed packages, I get a Warning window: ?Running update failed. Please cosult log window for details?. If I click OK, the I get a pop-up error that perl.exe has stopped working, and the only option is to click the button in that pop-up to close the tlmgrgui program. 

(1) Where is that log window? Is it tjust he pane at the bottom of the tlmgrgui window? 

The pane at the bottom of the tlmgrgui window says to run ?tlmgr update ?self? (or to download the latest version). But if I run that command, the update seems to run to completion without any error message. But then if I start the GUI again and try to update all installed, I?m back where I started with the ?perl.exe has stopped working? , but if I do that, I get the same ?pearl.exe? .

Here?s c:\texlive\2017\temp\update-self.log:

C:\Users\myaccunt>if [:doit] == [:doit] goto :doit 
C:\Users\me\myaccount>set prompt=TL$G 
TL>title TeX Live Manager 2017 Update 
TL>set PERL5LIB=C:/texlive/2017/tlpkg/tlperl/lib 
TL>echo DO NOT CLOSE THIS WINDOW! 1>con 
TL>echo TeX Live infrastructure update in progress ... 1>con 
TL>echo Detailed command logging to "C:\texlive\2017\temp\update-self.log" 1>con 
TL>chdir /d "C:\texlive\2017\temp\.." 
TL>if not errorlevel 1 goto :update 
TL>for %I in (tlperl.win32.tar) do (
temp\tar.exe -xmf temp\%I  
 if errorlevel 1 goto :rollback 
) 
TL>(
temp\tar.exe -xmf temp\tlperl.win32.tar  
 if errorlevel 1 goto :rollback 
) 
TL>tlpkg\tlperl\bin\perl.exe .\texmf-dist\scripts\texlive\tlmgr.pl _include_tlpobj tlpkg\tlpobj\tlperl.win32.tlpobj 
TL>if errorlevel 1 goto :rollback 
TL>echo [Tue 03/13/2018 17:36:43.86] self update: tlperl.win32 (43927 -> 45751) 1>>"C:/texlive/2017/texmf-var/web2c/tlmgr.log" 
TL>echo self update: tlperl.win32 (43927 -> 45751) 1>con 
TL>del "C:\texlive\2017\temp\*.tar" "C:\texlive\2017\temp\tar.exe"  
TL>echo Infrastructure update finished successfully. 1>con 
TL>echo You may now close this window. 1>con 
TL>rem  1>con 
TL>exit /b 0 

(In case it makes any difference, Windows 10 is running as a guest, i.e., virtual machine, under Parallels Desktop 13 Pro for Mac under macOS 10.13.3. But it should not really make any difference, because the executables are being run by Windows, not the host Mac, and the file activity seems to be confined to the Windows own drive C:.)

??
Murray Eisenberg                                murray at math.umass.edu
Mathematics & Statistics Dept.       
Lederle Graduate Research Tower      phone 240 246-7240 (H)
University of Massachusetts                
710 North Pleasant Street                 
Amherst, MA 01003-9305




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180313/f678e849/attachment.html>

From preining at logic.at  Wed Mar 14 03:04:45 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 14 Mar 2018 11:04:45 +0900
Subject: [tex-live] Cannot update TeXLive Manager 2017 under Windows 10
In-Reply-To: <D4E301AA-AAD8-4CC5-86F0-A3827C0A18A7@math.umass.edu>
References: <D4E301AA-AAD8-4CC5-86F0-A3827C0A18A7@math.umass.edu>
Message-ID: <20180314020445.GA3589@burischnitzel.preining.info>

Hi Murray,

TL 2017 is frozen, there aren't any updates anymore.

> (1) Where is that log window? Is it tjust he pane at the bottom of the tlmgrgui window? 

Yes, that it is.

Can you do on the *cmd line*:
  tlmgr update --list
and send us here the output?

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From murray at math.umass.edu  Wed Mar 14 19:44:22 2018
From: murray at math.umass.edu (Murray Eisenberg)
Date: Wed, 14 Mar 2018 14:44:22 -0400
Subject: [tex-live] Cannot update TeXLive Manager 2017 under Windows 10
In-Reply-To: <20180314020445.GA3589@burischnitzel.preining.info>
References: <D4E301AA-AAD8-4CC5-86F0-A3827C0A18A7@math.umass.edu>
 <20180314020445.GA3589@burischnitzel.preining.info>
Message-ID: <9F64BCFE-98ED-4510-8F56-EDCDC7A777F9@math.umass.edu>

On 13 Mar2018, at 10:04 PM, Norbert Preining <preining at logic.at> wrote:
> 
> Hi Murray,
> 
> TL 2017 is frozen, there aren't any updates anymore.
> 
>> (1) Where is that log window? Is it tjust he pane at the bottom of the tlmgrgui window? 
> 
> Yes, that it is.
> 
> Can you do on the *cmd line*:
>  tlmgr update --list
> and send us here the output?
> 

tlmgr update --list

TeX Live 2017 is frozen forever and will no
longer be updated.  this happens in preparation for a new release.
:
:
==========================================
tlmgr itself needs to be updated.
Please do this via either
  tlmgr update --self
or by getting the latest updater for ....
:
Then continue with other updates as usual.
==========================================

??
Murray Eisenberg                                murray at math.umass.edu
Mathematics & Statistics Dept.       
Lederle Graduate Research Tower      phone 240 246-7240 (H)
University of Massachusetts                
710 North Pleasant Street                 
Amherst, MA 01003-9305




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180314/94889618/attachment.html>

From thomasaigre at gmail.com  Wed Mar 14 22:24:24 2018
From: thomasaigre at gmail.com (Thomas)
Date: Wed, 14 Mar 2018 22:24:24 +0100
Subject: [tex-live] gastex v3.0
Message-ID: <5aa99308.85921c0a.783e2.2152@mx.google.com>


In the actual distribution, the package gastex is present in the version 2.8 (from 2006) and when I want to use it, it doesn?t work? In 2013, the version 3.0 was released (http://www.lsv.fr/~gastin/gastex/). I didn? t manage to install it on my computer myself? Is it possible to add it in TeX Live in an update??
Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180314/8d0cad70/attachment.html>

From preining at logic.at  Thu Mar 15 01:30:48 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 15 Mar 2018 09:30:48 +0900
Subject: [tex-live] Cannot update TeXLive Manager 2017 under Windows 10
In-Reply-To: <9F64BCFE-98ED-4510-8F56-EDCDC7A777F9@math.umass.edu>
References: <D4E301AA-AAD8-4CC5-86F0-A3827C0A18A7@math.umass.edu>
 <20180314020445.GA3589@burischnitzel.preining.info>
 <9F64BCFE-98ED-4510-8F56-EDCDC7A777F9@math.umass.edu>
Message-ID: <20180315003048.GB24394@burischnitzel.preining.info>

>   tlmgr update --self

Then run
  update-tlmgr-latest.exe
from CTAN mirror of TeX Live /tlnet/ directory.

After that you might get mor updates, but I don't think so.

BTW, what is the output of
  tlmgr repository

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Thu Mar 15 08:16:38 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Thu, 15 Mar 2018 07:16:38 +0000
Subject: [tex-live] gastex v3.0
In-Reply-To: <5aa99308.85921c0a.783e2.2152@mx.google.com>
References: <5aa99308.85921c0a.783e2.2152@mx.google.com>
Message-ID: <01a30847-b88f-88f1-ead5-8a32c8996adf@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180315/ab610b99/attachment.html>

From news3 at nililand.de  Thu Mar 15 11:18:45 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 15 Mar 2018 11:18:45 +0100
Subject: [tex-live] --recorder output with luatex miss full pathes sometimes
Message-ID: <10pnm1czug0s5$.dlg@nililand.de>

Running this document with lualatex --recorder

\documentclass{article}
\usepackage{graphicx}
\begin{document}
  \includegraphics{example-image}

\end{document}

gives in the fls-file:

INPUT d:/texlive/2018/texmf-dist/tex/latex/mwe/example-image.pdf
INPUT d:/texlive/2018/texmf-dist/tex/latex/mwe/example-image.pdf
INPUT example-image.pdf

As you can see the last line is missing the full path. 

This is a problem for scripts like latexmk which then assumes that a
local target is needed, see e.g.
https://tex.stackexchange.com/questions/420274/lualatex-idiosyncrasy-bug-confuses-latexmk-dependency-tracking

In miktex with luatex 1.07 there is no problem, all lines show the
the full path. 

The problem already exists in texlive 2017.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From karl at aspodata.se  Thu Mar 15 10:49:39 2018
From: karl at aspodata.se (karl at aspodata.se)
Date: Thu, 15 Mar 2018 10:49:39 +0100 (CET)
Subject: [tex-live] install problem, texlive-2017
Message-ID: <20180315094943.A0548807DEAD@turkos.aspodata.se>

As user texlive.texlive I installed texlive2017, but I have trouble 
getting it to work.

E.g.:
$ kpsewhich article.cls
$ find . -name article.cls 
./2017/texmf-dist/tex/latex/base/article.cls
$ pwd
/usr/local/texlive
$

any ideas ?

=======================
 I have added:
MANPATH=$MANPATH:/usr/local/texlive/2017/texmf-dist/doc/man
INFOPATH=$INFOPATH:/usr/local/texlive/2017/texmf-dist/doc/info
PATH=$PATH:/usr/local/texlive/2017/bin/x86_64-linux

 adding theese didn't help:
TEXDIR=/usr/local/texlive/2017
TEXMFCONFIG=~/.texlive2017/texmf-config
TEXMFHOME=~/texmf
TEXMFLOCAL=/usr/local/texlive/texmf-local
TEXMFSYSCONFIG=/usr/local/texlive/2017/texmf-config
TEXMFSYSVAR=/usr/local/texlive/2017/texmf-var
TEXMFVAR=~/.texlive2017/texmf-var
=======================
Running mktexlsr, this may take some time ...
mktexlsr: Updating /home/local/texlive/2017/texmf-config/ls-R... 
mktexlsr: Updating /home/local/texlive/2017/texmf-dist/ls-R... 
mktexlsr: Updating /home/local/texlive/2017/texmf-var/ls-R... 
mktexlsr: Updating /home/local/texlive/texmf-local/ls-R... 
mktexlsr: Done.
Running fmtutil-sys --all, this may take some time ...
fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence order):
fmtutil: fmtutil is using the following fmtutil.cnf file for writing changes:
fmtutil:   /home/local/texlive/2017/texmf-config/web2c/fmtutil.cnf
fmtutil [INFO]: writing formats under /home/local/texlive/2017/texmf-var/web2c
Use of uninitialized value $whatarg in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/fmtutil line 443.
fmtutil [INFO]: did not find entry for all=, skipped
fmtutil [INFO]: Total formats: 0
fmtutil [INFO]: exiting with status 0
Running updmap-sys, this may take some time ...
updmap will read the following updmap.cfg files (in precedence order):
  /usr/local/share/texmf/web2c/updmap.cfg
updmap may write changes to the following updmap.cfg file:
  /home/local/texlive/2017/texmf-config/web2c/updmap.cfg
dvips output dir: "/home/local/texlive/2017/texmf-var/fonts/map/dvips/updmap"
pdftex output dir: "/home/local/texlive/2017/texmf-var/fonts/map/pdftex/updmap"
dvipdfmx output dir: "/home/local/texlive/2017/texmf-var/fonts/map/dvipdfmx/updmap"
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2138.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap: open() failed: No such file or directory at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2138.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap: open() failed: No such file or directory at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2138.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap: open() failed: No such file or directory at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap [ERROR]: The following map file(s) couldn't be found:
updmap [ERROR]:         dvips35.map (in builtin)
updmap [ERROR]:         pdftex35.map (in builtin)
updmap [ERROR]:         ps2pk35.map (in builtin)
updmap [ERROR]: Did you run mktexlsr?

        You can disable non-existent map entries using the option
          --syncwithtrees.

Regards,
/Karl Hammar

----------------------------------------------------------------------
Asp? Data
Lilla Asp? 148
S-742 94 ?sthammar
Sweden
+46 173 140 57

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: install-tl.log
URL: <http://tug.org/pipermail/tex-live/attachments/20180315/7e0e0dbe/attachment-0001.log>

From daleif at math.au.dk  Thu Mar 15 17:22:15 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Thu, 15 Mar 2018 16:22:15 +0000
Subject: [tex-live] install problem, texlive-2017
In-Reply-To: <20180315094943.A0548807DEAD@turkos.aspodata.se>
References: <20180315094943.A0548807DEAD@turkos.aspodata.se>
Message-ID: <1521130935650.70615@math.au.dk>

where exactly did you add those settings?

Also, I'd add the extra PATH as the start, not the end.

I'm assuming this is Linux

You do not need to add any of the TEXXXX settings, that is done automatically.

the MANPATH, INFOPATH and PATH I'd add to

~/.profile or a global one, then log out and in again to have it activated.

If you access this linux box via ssh as well, it might be and idea to add the three PATH settings to bashrc as well. Only adding it to bashrc is not a good idea if you start editrs etc via menus.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of karl at aspodata.se <karl at aspodata.se>
Sent: 15 March 2018 10:49
To: texlive at tug.org
Subject: [tex-live] install problem, texlive-2017

As user texlive.texlive I installed texlive2017, but I have trouble
getting it to work.

E.g.:
$ kpsewhich article.cls
$ find . -name article.cls
./2017/texmf-dist/tex/latex/base/article.cls
$ pwd
/usr/local/texlive
$

any ideas ?

=======================
 I have added:
MANPATH=$MANPATH:/usr/local/texlive/2017/texmf-dist/doc/man
INFOPATH=$INFOPATH:/usr/local/texlive/2017/texmf-dist/doc/info
PATH=$PATH:/usr/local/texlive/2017/bin/x86_64-linux

 adding theese didn't help:
TEXDIR=/usr/local/texlive/2017
TEXMFCONFIG=~/.texlive2017/texmf-config
TEXMFHOME=~/texmf
TEXMFLOCAL=/usr/local/texlive/texmf-local
TEXMFSYSCONFIG=/usr/local/texlive/2017/texmf-config
TEXMFSYSVAR=/usr/local/texlive/2017/texmf-var
TEXMFVAR=~/.texlive2017/texmf-var
=======================
Running mktexlsr, this may take some time ...
mktexlsr: Updating /home/local/texlive/2017/texmf-config/ls-R...
mktexlsr: Updating /home/local/texlive/2017/texmf-dist/ls-R...
mktexlsr: Updating /home/local/texlive/2017/texmf-var/ls-R...
mktexlsr: Updating /home/local/texlive/texmf-local/ls-R...
mktexlsr: Done.
Running fmtutil-sys --all, this may take some time ...
fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence order):
fmtutil: fmtutil is using the following fmtutil.cnf file for writing changes:
fmtutil:   /home/local/texlive/2017/texmf-config/web2c/fmtutil.cnf
fmtutil [INFO]: writing formats under /home/local/texlive/2017/texmf-var/web2c
Use of uninitialized value $whatarg in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/fmtutil line 443.
fmtutil [INFO]: did not find entry for all=, skipped
fmtutil [INFO]: Total formats: 0
fmtutil [INFO]: exiting with status 0
Running updmap-sys, this may take some time ...
updmap will read the following updmap.cfg files (in precedence order):
  /usr/local/share/texmf/web2c/updmap.cfg
updmap may write changes to the following updmap.cfg file:
  /home/local/texlive/2017/texmf-config/web2c/updmap.cfg
dvips output dir: "/home/local/texlive/2017/texmf-var/fonts/map/dvips/updmap"
pdftex output dir: "/home/local/texlive/2017/texmf-var/fonts/map/pdftex/updmap"
dvipdfmx output dir: "/home/local/texlive/2017/texmf-var/fonts/map/dvipdfmx/updmap"
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2138.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap: open() failed: No such file or directory at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2138.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap: open() failed: No such file or directory at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2138.
Use of uninitialized value $fn in concatenation (.) or string at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap: open() failed: No such file or directory at /usr/local/texlive/2017/bin/x86_64-linux/updmap line 2139.
updmap [ERROR]: The following map file(s) couldn't be found:
updmap [ERROR]:         dvips35.map (in builtin)
updmap [ERROR]:         pdftex35.map (in builtin)
updmap [ERROR]:         ps2pk35.map (in builtin)
updmap [ERROR]: Did you run mktexlsr?

        You can disable non-existent map entries using the option
          --syncwithtrees.

Regards,
/Karl Hammar

----------------------------------------------------------------------
Asp? Data
Lilla Asp? 148
S-742 94 ?sthammar
Sweden
+46 173 140 57



From karl at aspodata.se  Thu Mar 15 18:19:30 2018
From: karl at aspodata.se (karl at aspodata.se)
Date: Thu, 15 Mar 2018 18:19:30 +0100 (CET)
Subject: [tex-live] install problem, texlive-2017
In-Reply-To: <1521130935650.70615@math.au.dk>
References: <20180315094943.A0548807DEAD@turkos.aspodata.se>
 <1521130935650.70615@math.au.dk>
Message-ID: <20180315171930.50653807DEAD@turkos.aspodata.se>

Lars Madsen:
> where exactly did you add those settings?

cmd line and later .profile

> Also, I'd add the extra PATH as the start, not the end.

Yes.

> I'm assuming this is Linux
> 
> You do not need to add any of the TEXXXX settings, that is done automatically.
...

Ok.

Regards,
/Karl Hammar

-----------------------------------------------------------------------
Asp? Data
Lilla Asp? 148
S-742 94 ?sthammar
Sweden
+46 173 140 57



From P.Taylor at Rhul.Ac.Uk  Thu Mar 15 18:29:39 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Thu, 15 Mar 2018 17:29:39 +0000
Subject: [tex-live] pretest 2018 imminent
In-Reply-To: <20180313000237.GE23691@burischnitzel.preining.info>
References: <20180313000237.GE23691@burischnitzel.preining.info>
Message-ID: <f3b96dcc-266f-3b63-7f6b-e6346dfbdfe8@Rhul.Ac.Uk>

Norbert Preining wrote:

>> locate it ... Ah, I see an analogous one :? "After installation, get
>> packages from CTAN".? Is that the option to which you refer ? And is this a
>> new option, because I do not remember unticking such an option in the past.
> Yes, this option, and no, it is not new, maybe 3 years or so ...

Ah well, I must have installed the pre-tests so late during that period 
that I did not need to update before TeX Live went live ...

> Did you change the repository for the current run via
>    tlmgr -> Load other repository -> ...
> or did you change the repository *default* as saved in the database via
>    Options -> General -> Default package repository

The last solved my problem -- thank you Norbert.
** Phil.

From jcc8 at psu.edu  Thu Mar 15 18:30:41 2018
From: jcc8 at psu.edu (John Collins)
Date: Thu, 15 Mar 2018 13:30:41 -0400
Subject: [tex-live] --recorder output with luatex miss full pathes
 sometimes
In-Reply-To: <10pnm1czug0s5$.dlg@nililand.de>
References: <10pnm1czug0s5$.dlg@nililand.de>
Message-ID: <e808c52d-769b-8c8b-dff8-88a3d12c1ffb@psu.edu>

I can confirm that this bug also exists in the OS-X versions of 
lualatex, and in TeXLive 2016, as well as in the MS-Windows versions 
reported by Ulrike.

This is an actual bug IMO, because the fls file is supposed to indicate 
correct dependency information.

John Collins


On 3/15/18 6:18 AM, Ulrike Fischer wrote:
> Running this document with lualatex --recorder
> 
> \documentclass{article}
> \usepackage{graphicx}
> \begin{document}
>    \includegraphics{example-image}
> 
> \end{document}
> 
> gives in the fls-file:
> 
> INPUT d:/texlive/2018/texmf-dist/tex/latex/mwe/example-image.pdf
> INPUT d:/texlive/2018/texmf-dist/tex/latex/mwe/example-image.pdf
> INPUT example-image.pdf
> 
> As you can see the last line is missing the full path.
> 
> This is a problem for scripts like latexmk which then assumes that a
> local target is needed, see e.g.
> https://tex.stackexchange.com/questions/420274/lualatex-idiosyncrasy-bug-confuses-latexmk-dependency-tracking
> 
> In miktex with luatex 1.07 there is no problem, all lines show the
> the full path.
> 
> The problem already exists in texlive 2017.
> 
> 


From gnwiii at gmail.com  Thu Mar 15 20:14:58 2018
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 15 Mar 2018 16:14:58 -0300
Subject: [tex-live] install problem, texlive-2017
In-Reply-To: <20180315094943.A0548807DEAD@turkos.aspodata.se>
References: <20180315094943.A0548807DEAD@turkos.aspodata.se>
Message-ID: <CAKTOP45Ua7n3W1iUD4G62twxdd1GwPyftG6yY0NGiTvz3oBvCQ@mail.gmail.com>

On 15 March 2018 at 06:49, <karl at aspodata.se> wrote:

As user texlive.texlive I installed texlive2017, but I have trouble
> getting it to work.
>
> E.g.:
> $ kpsewhich article.cls
> $ find . -name article.cls
> ./2017/texmf-dist/tex/latex/base/article.cls
> $ pwd
> /usr/local/texlive
> $
>
> any ideas ?
>
> =======================
>  I have added:
> MANPATH=$MANPATH:/usr/local/texlive/2017/texmf-dist/doc/man
> INFOPATH=$INFOPATH:/usr/local/texlive/2017/texmf-dist/doc/info
> PATH=$PATH:/usr/local/texlive/2017/bin/x86_64-linux
>  [...]


OP Karl  has:

$ ls -l /usr/local
lrwxrwxrwx 1 root root 13 Jan 23  2016 /usr/local -> ../home/local

TL is designed so you can put it anywhwere in your filesystem
and have it work by adjusting the PATH variable.  Is there any
pressing reason to use /usr/local/texlive over /home/local/texlive?

OP Karl -- can you try:

  PATH=/home/local/texlive/2017/bin/x86_64-linux:$PATH

It could be instructive to play around with the kpsewhich debugging
options.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180315/19a5adf3/attachment.html>

From karl at aspodata.se  Thu Mar 15 22:14:29 2018
From: karl at aspodata.se (karl at aspodata.se)
Date: Thu, 15 Mar 2018 22:14:29 +0100 (CET)
Subject: [tex-live] install problem, texlive-2017
In-Reply-To: <CAKTOP45Ua7n3W1iUD4G62twxdd1GwPyftG6yY0NGiTvz3oBvCQ@mail.gmail.com>
References: <20180315094943.A0548807DEAD@turkos.aspodata.se>
 <CAKTOP45Ua7n3W1iUD4G62twxdd1GwPyftG6yY0NGiTvz3oBvCQ@mail.gmail.com>
Message-ID: <20180315211429.32364807DEAD@turkos.aspodata.se>

George N. White III:
> On 15 March 2018 at 06:49, <karl at aspodata.se> wrote:
> 
> > As user texlive.texlive I installed texlive2017, but I have trouble
> > getting it to work.
> >
> > E.g.:
> > $ kpsewhich article.cls
> > $ find . -name article.cls
> > ./2017/texmf-dist/tex/latex/base/article.cls
> > $ pwd
> > /usr/local/texlive
> > $
> >
> > any ideas ?
> >
> > =======================
> >  I have added:
> > MANPATH=$MANPATH:/usr/local/texlive/2017/texmf-dist/doc/man
> > INFOPATH=$INFOPATH:/usr/local/texlive/2017/texmf-dist/doc/info
> > PATH=$PATH:/usr/local/texlive/2017/bin/x86_64-linux
> >  [...]
> 
> OP Karl  has:
> 
> $ ls -l /usr/local
> lrwxrwxrwx 1 root root 13 Jan 23  2016 /usr/local -> ../home/local
> 
> TL is designed so you can put it anywhwere in your filesystem
> and have it work by adjusting the PATH variable.  Is there any
> pressing reason to use /usr/local/texlive over /home/local/texlive?

No, it's just that I have /usr ro, and most configure prefixes are
/usr/local.

> OP Karl -- can you try:
> 
>   PATH=/home/local/texlive/2017/bin/x86_64-linux:$PATH

Ok, rearranged thoose three PATHs above.

$ which kpsewhich 
/usr/local/texlive/2017/bin/x86_64-linux/kpsewhich
$ kpsewhich article.cls
$

Same result.

> It could be instructive to play around with the kpsewhich debugging
> options.

$ kpsewhich -debug 2 article.cls
kdebug:db:init(): using db file /home/local/texlive/texmf-local/ls-R.
kdebug:db:init(): using db file /home/local/texlive/2017/texmf-config/ls-R.
kdebug:db:init(): using db file /home/local/texlive/2017/texmf-var/ls-R.
kdebug:db:init(): using db file /home/local/texlive/2017/texmf-dist/ls-R.
kdebug:/home/local/texlive/texmf-local/ls-R: 29 entries in 28 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 18 nonempty (0%); 29 entries, average chain 1.6.
kdebug:/home/local/texlive/2017/texmf-config/ls-R: 2 entries in 1 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 18 nonempty (0%); 31 entries, average chain 1.7.
kdebug:/home/local/texlive/2017/texmf-var/ls-R: 148 entries in 35 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 142 nonempty (0%); 179 entries, average chain 1.3.
kdebug:/home/local/texlive/2017/texmf-dist/ls-R: 167171 entries in 12327 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 54321 nonempty (84%); 167350 entries, average chain 3.1.
$ grep -B4 ^article.cls `kpsewhich -debug 2 article.cls 2>&1 | grep db:init | grep dist | sed -e 's/.*file//; s/\.$//;'`
./tex/latex/base:
alltt.sty
ansinew.def
applemac.def
article.cls
$

So, kpsewhich is using a db file where the answer is.
Is there any other debug num's I should try ?

Regards,
/Karl Hammar

-----------------------------------------------------------------------
Asp? Data
Lilla Asp? 148
S-742 94 ?sthammar
Sweden
+46 173 140 57



From karl at freefriends.org  Fri Mar 16 00:05:12 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2018 23:05:12 GMT
Subject: [tex-live] gastex v3.0
In-Reply-To: <5aa99308.85921c0a.783e2.2152@mx.google.com>
Message-ID: <201803152305.w2FN5Chn011903@freefriends.org>

Hi Thomas - please ask the gastex author to upload his new version to
CTAN.  I can't undertake to update packages from anywhere
else. --thanks, karl.

From gnwiii at gmail.com  Fri Mar 16 13:37:14 2018
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 16 Mar 2018 09:37:14 -0300
Subject: [tex-live] install problem, texlive-2017
In-Reply-To: <20180315211429.32364807DEAD@turkos.aspodata.se>
References: <20180315094943.A0548807DEAD@turkos.aspodata.se>
 <CAKTOP45Ua7n3W1iUD4G62twxdd1GwPyftG6yY0NGiTvz3oBvCQ@mail.gmail.com>
 <20180315211429.32364807DEAD@turkos.aspodata.se>
Message-ID: <CAKTOP477-ZfgLMCpjhd-tqY3LUus1N_jp6+qp+1zJ_QR2cOjQg@mail.gmail.com>

On 15 March 2018 at 18:14, <karl at aspodata.se> wrote:

> George N. White III:
> > On 15 March 2018 at 06:49, <karl at aspodata.se> wrote:
> >
> > > As user texlive.texlive I installed texlive2017, but I have trouble
> > > getting it to work.
> > >
> > > E.g.:
> > > $ kpsewhich article.cls
> > > $ find . -name article.cls
> > > ./2017/texmf-dist/tex/latex/base/article.cls
> > > $ pwd
> > > /usr/local/texlive
> > > $
> > >
> > > any ideas ?
> > >
> > > =======================
> > >  I have added:
> > > MANPATH=$MANPATH:/usr/local/texlive/2017/texmf-dist/doc/man
> > > INFOPATH=$INFOPATH:/usr/local/texlive/2017/texmf-dist/doc/info
> > > PATH=$PATH:/usr/local/texlive/2017/bin/x86_64-linux
> > >  [...]
> >
> > OP Karl  has:
> >
> > $ ls -l /usr/local
> > lrwxrwxrwx 1 root root 13 Jan 23  2016 /usr/local -> ../home/local
> >
> > TL is designed so you can put it anywhwere in your filesystem
> > and have it work by adjusting the PATH variable.  Is there any
> > pressing reason to use /usr/local/texlive over /home/local/texlive?
>
> No, it's just that I have /usr ro, and most configure prefixes are
> /usr/local.
>
> > OP Karl -- can you try:
> >
> >   PATH=/home/local/texlive/2017/bin/x86_64-linux:$PATH
>
> Ok, rearranged thoose three PATHs above.
>
> $ which kpsewhich
> /usr/local/texlive/2017/bin/x86_64-linux/kpsewhich
> $ kpsewhich article.cls
> $
>
> Same result.
>
> > It could be instructive to play around with the kpsewhich debugging
> > options.
>
> $ kpsewhich -debug 2 article.cls
> kdebug:db:init(): using db file /home/local/texlive/texmf-local/ls-R.
> kdebug:db:init(): using db file /home/local/texlive/2017/
> texmf-config/ls-R.
> kdebug:db:init(): using db file /home/local/texlive/2017/texmf-var/ls-R.
> kdebug:db:init(): using db file /home/local/texlive/2017/texmf-dist/ls-R.
> kdebug:/home/local/texlive/texmf-local/ls-R: 29 entries in 28 directories
> (0 hidden).
> kdebug:ls-R hash table:64007 buckets, 18 nonempty (0%); 29 entries,
> average chain 1.6.
> kdebug:/home/local/texlive/2017/texmf-config/ls-R: 2 entries in 1
> directories (0 hidden).
> kdebug:ls-R hash table:64007 buckets, 18 nonempty (0%); 31 entries,
> average chain 1.7.
> kdebug:/home/local/texlive/2017/texmf-var/ls-R: 148 entries in 35
> directories (0 hidden).
> kdebug:ls-R hash table:64007 buckets, 142 nonempty (0%); 179 entries,
> average chain 1.3.
> kdebug:/home/local/texlive/2017/texmf-dist/ls-R: 167171 entries in 12327
> directories (0 hidden).
> kdebug:ls-R hash table:64007 buckets, 54321 nonempty (84%); 167350
> entries, average chain 3.1.
> $ grep -B4 ^article.cls `kpsewhich -debug 2 article.cls 2>&1 | grep
> db:init | grep dist | sed -e 's/.*file//; s/\.$//;'`
> ./tex/latex/base:
> alltt.sty
> ansinew.def
> applemac.def
> article.cls
> $
>
> So, kpsewhich is using a db file where the answer is.
> Is there any other debug num's I should try ?
>

I use a symbolic link, e. g.:

    $ ls -l /usr/local/texlive/current
    lrwxrwxrwx 1 gwhite bod 10 Jun  4  2017 /usr/local/texlive/current ->
svn/Master

but kpsewhich always reports the real path, e.g., "
/usr/local/texlive/svn/Master".

I've forgotten the details of how kpsewhich deals with full paths.  I think
it constructs a path from the real location of the ls-R file and the subpath
from the ls-R file.    Maybe it expects /opt/local and rejects results from
/home/local.   Does "texconfig conf" have all "/home/local" paths or
are some "/opt/local"?

Have a look at the results for debug values 32 and 64.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180316/c2126cd1/attachment.html>

From murray at math.umass.edu  Fri Mar 16 18:20:52 2018
From: murray at math.umass.edu (Murray Eisenberg)
Date: Fri, 16 Mar 2018 13:20:52 -0400
Subject: [tex-live] Cannot update TeXLive Manager 2017 under Windows 10
In-Reply-To: <20180315003048.GB24394@burischnitzel.preining.info>
References: <D4E301AA-AAD8-4CC5-86F0-A3827C0A18A7@math.umass.edu>
 <20180314020445.GA3589@burischnitzel.preining.info>
 <9F64BCFE-98ED-4510-8F56-EDCDC7A777F9@math.umass.edu>
 <20180315003048.GB24394@burischnitzel.preining.info>
Message-ID: <CAAF3B09-CD57-406A-A1B0-B96183C8FADA@math.umass.edu>

1. Today, ?tlmgr update-self? seems to have worked. The terminal output from running it ended with:

   Self update: tlperl.win32 (43927 -> 45751}
   Infrastructure update finished successfully.

And I have:

   tlmgr repository
   ctan.sharelatex.com/tex-archive/systems/texlive/tlnet

2. Nonetheless, if I now open TexLive Manager 2017, select a single installed package (I tried scheme-basic), and click the Update button, I get the same ?Running update scheme-basic failed: error, then when closing that get the ?perl.exe stopped working?  error.

So I tried running ?update-tlmgr-latest.exe? from CTAN, which installed version 46470.

Now if I once again open  TexLive Manager 2017, select a single installed package, and click the Update button, I get the same ?Running update scheme-basic failed: error, then when closing that get the ?perl.exe stopped working?  error.

3. Next, I tried changing the repository to the standard http://mirror.ctan.org/systems/texlive/tlnet <http://mirror.ctan.org/systems/texlive/tlnet> (which actually gave me the repository at math.utah.edu <http://math.utah.edu/>). Now things seem to be better: I?m getting a pop-up saying that first TeXLive Manager needs to be updated.

I click the Update the TexLive Manager button, which completes successfully.

I restart TexLive Manger 2017, click the Update all installed button. The log window shows the expected:

     Executing action update
     TeXLive 2017 is frozen forever?

But then, surprisingly, I see further actions being attempted, ending in a check-file error:

tlmgr.pl: package repository http://ctan.sharelatex.com/tex-archive/systems/texlive/tlnet (not verified: gpg unavailable)
tlmgr.pl: saving backups to C:/texlive/2017/tlpkg/backups
[  1/425] auto-remove: texconfig ... done
[  2/425] auto-remove: hyperref-docsrc ... done
[  3/425] auto-remove: knuthotherfonts ... done
[  4/425, ??:??/??:??] update: abnt [94k] (45163 -> 45655) ... done
[  5/425, 00:02/03:47:27] update: achemso [890k] (44425 -> 46557) ... TLUtils::check_file: removing C:\Users\myaccount\AppData\Local\Temp\oeRIgA4Tiu\CRuluMMpaZ\achemso.tar.xz, checksums differ:
TLUtils::check_file:   TL=612100bcb37c6ffadd401487e4bca6b2ae89a0994553a8668962282682c1d66265a5bc0c04db43749cacbdbcf0e7bd76afabef8baa36111c4bdf7b23e07b216b, arg=0013cc836f58fd82f603868b2fda4780070a0d64601a7bbcb96ce9fe253e1af0ba25eaf00947b1943544abd0030506c1b4d2ba35fdedbd9a83b8f7123e3129b0
TLPDB::_install_package: downloading did not succeed
tlmgr.pl: Installation of new version of achemso failed, trying to unwind.
TLUtils::check_file: neither checksum nor checksize available for C:\Users\myaccount\AppData\Local\Temp\oeRIgA4Tiu\n_h4y9VM1O\achemso.r44425.tar.xz, cannot check integrity!

> On 14 Mar2018, at 8:30 PM, Norbert Preining <preining at logic.at> wrote:
> 
>>  tlmgr update --self
> 
> Then run
>  update-tlmgr-latest.exe
> from CTAN mirror of TeX Live /tlnet/ directory.
> 
> After that you might get mor updates, but I don't think so.
> 
> BTW, what is the output of
>  tlmgr repository
> 
> Norbert
> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

??
Murray Eisenberg                                murray at math.umass.edu
Mathematics & Statistics Dept.       
Lederle Graduate Research Tower      phone 240 246-7240 (H)
University of Massachusetts                
710 North Pleasant Street                 
Amherst, MA 01003-9305




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180316/696bf4ba/attachment.html>

From mojca.miklavec.lists at gmail.com  Sat Mar 17 10:17:47 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 17 Mar 2018 10:17:47 +0100
Subject: [tex-live] Request for performance check of legacy darwin
	(luatex)
In-Reply-To: <0BBF5C07-BAC1-43E8-B193-43A05DFE88C4@free.fr>
References: <CALBOmsZsim6MLpvWn-0s-iptHj=OtMoYaV7Tzuh=n7yDC_0hjQ@mail.gmail.com>
 <90F49B15-2BAC-4C29-968F-FD6C1AA476EA@free.fr>
 <CALBOmsbrbdmiUOcjL-ux67Y5nOAkJ0U8+uJ7Zee3sVj8LhTMQw@mail.gmail.com>
 <0BBF5C07-BAC1-43E8-B193-43A05DFE88C4@free.fr>
Message-ID: <CALBOmsaX1SEmU=d9qY7+KUvZ+gwypyHAdYsObzbhd3yN9EhMOQ@mail.gmail.com>

On 12 March 2018 at 11:50, jfbu wrote:
> Le 12 mars 2018 ? 10:25, Mojca Miklavec a ?crit :
>
>> Dear Jean-Fran?ois,
>>
>> Would you be willing to repeat the performance experiment with
>> http://dl.contextgarden.net/build/texlive/x86_64-darwinlegacy.tar.xz
>
> Sure. Results are very good. I am on a slower Mac compared to the
> other day, so I repeated timings. To test pdftex and xetex
> I copied temptest2.tex into temptest3.tex and there I reduced
> macro \E to 4 times \D, not 10 times (else I would have to change
> a memory setting:
>
>> ! TeX capacity exceeded, sorry [main memory size=5000000]
>
> )
>
> Here are typical averaged timings
>
> tex temptest.tex
>
> self-compiled (./Build) :
> real    0m1.595s
> user    0m1.576s
> sys     0m0.015s
>
> from Mojca :
> real    0m1.777s
> user    0m1.758s
> sys     0m0.014s
>
>
> pdftex temptest2.tex (4/10th of the luatex test)
>
> self-compiled :
> real    0m6.652s
> user    0m6.618s
> sys     0m0.028s
>
> Mojca :
> real    0m7.089s
> user    0m7.058s
> sys     0m0.024s
>
>
> xetex temptest2.tex
>
> self-compiled :
> real    0m6.692s
> user    0m6.608s
> sys     0m0.077s
>
> Mojca :
> real    0m7.024s
> user    0m6.943s
> sys     0m0.077s
>
> luatex temptest3.tex (10/4 fold duration of tex/xetex test)
>
> self-compiled :
> real    0m17.929s
> user    0m17.861s
> sys     0m0.061s
>
> Mojca :
> real    0m17.954s
> user    0m17.885s
> sys     0m0.061s
>
>
> This is on a computer which is about 15%/20% slower than the one where
> I initially tested. Thus the improvement is fantastic because the earlier
> version of darwinlegacy on that last test would have given something like
> 28s, 29seconds.
>
> (I timed it but now the binary is gone and I have forgotten
> the exact result; with TeXLive 2017 darwinlegacy it is about 24.5 seconds
> and with the TeX Live 2017/MacPorts 2017_2 luatex 1.0.4 it is between
> 18.5 and 19 seconds)
>
> Thus, the results above appear to completely solve my issue which was
> dating back to last year and temporarily appeared to have gotten worse
> with the first apple-darwin10.8.0

Great.

The issue was apparently that by explicitly setting
    CFLAGS & CXXFLAGS
to *something*, the optimisation was apparently gone completely. I now
added an explicit "-Os" to those flags and it seems that this solved
the problem. I noticed that C[whatever]FLAGS are not always applied,
so there might be some compiler calls without optimisation. The small
remaining difference might come from anywhere, I would not worry about
that too much.

I have now put those binaries to subversion. At the moment the caveat
is that they only work out of the box on Lion (10.7) or later, and on
10.6 if the user installed libc++ explicitly (MacPorts would install
it automatically for users who attempt to build at least one C++11
project with clang, I have no clue whether HomeBrew does anything in
that direction).

I'm still thinking about whether or not to worry about those users and
ship libc++ with TeX Live (binaries would need to be modified to allow
automatic search of the library). A much easier way would be to print
some notes in case the user doesn't have that file installed.

> digression
>
> still struggling with dvisvgm though at this time
>
> by the way, with the Mojca's one, I also do need to use --libgs as in
>
> $ dvisvgm --libgs="/opt/local/lib/libgs.dylib" temp.dvi
>
> it seems dlopen does not find automatically that /opt/local/lib location
>
> but this is other topic

I started another thread on tlbuild about this.

Mojca


From karl at aspodata.se  Sat Mar 17 13:04:47 2018
From: karl at aspodata.se (karl at aspodata.se)
Date: Sat, 17 Mar 2018 13:04:47 +0100 (CET)
Subject: [tex-live] install problem, texlive-2017
In-Reply-To: <CAKTOP477-ZfgLMCpjhd-tqY3LUus1N_jp6+qp+1zJ_QR2cOjQg@mail.gmail.com>
References: <20180315094943.A0548807DEAD@turkos.aspodata.se>
 <CAKTOP45Ua7n3W1iUD4G62twxdd1GwPyftG6yY0NGiTvz3oBvCQ@mail.gmail.com>
 <20180315211429.32364807DEAD@turkos.aspodata.se>
 <CAKTOP477-ZfgLMCpjhd-tqY3LUus1N_jp6+qp+1zJ_QR2cOjQg@mail.gmail.com>
Message-ID: <20180317120447.31F74807DEAD@turkos.aspodata.se>

George N. White III:
> On 15 March 2018 at 18:14, <karl at aspodata.se> wrote:
> > George N. White III:
> > > On 15 March 2018 at 06:49, <karl at aspodata.se> wrote:
> > > > E.g.:
> > > > $ kpsewhich article.cls
> > > > $ find . -name article.cls
> > > > ./2017/texmf-dist/tex/latex/base/article.cls
...
> > > It could be instructive to play around with the kpsewhich debugging
> > > options.
...
> Have a look at the results for debug values 32 and 64.

Ok, I found that TEXMF=/usr/local/share/texmf messed up with the 
installation. Unsetting that solved the above issue. Thanks for the 
help.

Regards,
/Karl Hammar

-----------------------------------------------------------------------
Asp? Data
Lilla Asp? 148
S-742 94 ?sthammar
Sweden
+46 173 140 57



From sombragris at gmail.com  Sun Mar 18 04:51:53 2018
From: sombragris at gmail.com (sombragris)
Date: Sun, 18 Mar 2018 00:51:53 -0300
Subject: [tex-live] BUG: TeXLive installers should fail more gracefully
Message-ID: <CAKezGPHya_H_v5tX2NxfPSL85jnXsb=1e1VWxf3y0NWCW93wWA@mail.gmail.com>

Dear people:

I'm extremely grateful for TeXLive. However, I would really like that,if
possible, you make the TeXLive Windows installers fail more gracefully.

tl; dr version: TeXLive Windows managers/installers cannot resume a failed
install/update. This is awful taking into account the enormous amount of
time required to finish an install/update. Please make them more fail
tolerant.

Long version:

Background. I usually use TeXLive packaged by my desktop Linux distribution.

However, my PC started developing an annoying condition that makes it turn
off with little or no warning. The only mitigation (while some parts are
shipping) is to use Windows. This is because the manufacturer has a sensor
suite for Windows which give me a warning of some seconds before the
computer turns itself off. There I could poke the machine, restore the
working part (for some minutes) and avoid the shutdown.

However, some times I miss and then the computer turns itself off.

Extremely annoying, as you might imagine.

However, there is impending work that needs to be done. Since I need to use
Windows, I downloaded TexLive 2017 in its ISO image (the netinstall would
have me hooked for over 7 hours).

OK. Enough background.

The issue is: I installed TeXLive from the 2017 ISO image.
The process took me about 2.5 hours and this is in a fast, i7 system with a
SSD drive.
 The point is: there is a lot of data and therefore it takes a lot of time.

After that, I switched to a net repository and began updating the packages.
There are a lot of packages to be updated, as you might know since we are
nearing the 2018 release.

The process took over 3 hours and it was getting around packages beginning
with the "p" letter when my computer turned itself off due to circumstances
explained in the background.

Turned back on, started the TexLive Manager and... it was unusable. "Cannot
determine version!" was the only message.

Take into account that all packages were OK in the installation directory,
save for perhaps the package which was being updated at the time. Thus,
TeXLive Manager should have been able to pick up from the "last known good
update" and resume from there.

However, since it did not, this is what happened:
1. Made me reinstall the whole TeXLive 2017; and
2. Then I am scheduled to reupdate again.

And if the TexLive installer fails, it's the same. Zero chances to resume
from the "last known good" package or whatever. It's the whole 2.5 hours
again.

Please bear in consideration that the install time for a reasonably
complete TeXLive texmf setup is really long. Whenever long times are
involved, chances of failure increase. Therefore, it is highly advisable to
make the installer and TeXLive Manager more fault tolerant and able to
resume from an interrupted previous process.

Please do that!

Thanks and best regards,


Eduardo S?nchez
Asunci?n, Paraguay
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180318/6da3a86c/attachment.html>

From mojca.miklavec.lists at gmail.com  Sun Mar 18 18:56:02 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 18 Mar 2018 18:56:02 +0100
Subject: [tex-live] Platform & library check on macOS during TL 2018
	installation
Message-ID: <CALBOmsZHFVwEd_ONfpoCH677x41=hM-iBf_T5y-hD20NrxQAEQ@mail.gmail.com>

Dear Norbert,

This year the 64-bit darwinlegacy binaries will only have
partial/conditional support for Mac OS X 10.6 (and full support for
10.7 and newer). Unless I do some weird tricks (which are certainly
possible, but I would prefer to avoid them, see below) they would not
work out-of-the-box on 10.6 unless the users install libc++. Basically
the binaries would crash immediately due to lack of that library.

There must be various ways to install the library, the easiest one
that I'm familiar with is to install one package with MacPorts, or in
fact just extract the 855K big binary package from
http://packages.macports.org/libcxx/ to the right location.
(I have absolutely no idea how HomeBrew handles C++11 on older
systems, if at all.)

I have one request / suggestion: would it be possible for the
installer to check if the system is darwin10, and if so, check whether
libc++ is present on the system, and if not, print an error saying
that it cannot proceed unless the user installs the library?

We have various options in principle:
- Like Akira provides some MSVC libraries together with binaries, we
could provide libc++ with darwinlegacy binaries as well. The downside
is that I would have to do some special relinking of the binaries
after the build to tell the binaries that they could use libc++ from a
different location than /usr/lib (but keep using the one in /usr/lib
if the library exists there).
- One option would be to simply install the library on the system if
one doesn't exist yet. I'm not a huge fan of this option either unless
the user explicitly agrees to it.
- One option is to print a warning and quit the installer.
- Yet another option is to use some compatibility mode when compiling
and link against libstdc++ version 2 (pre-C++11) which mostly works
according to my experience, but it's probably not worth the trouble
given that literally all other OSes supported by these binaries fully
support libc++.

To me a warning with some simple instructions seems to make most
sense. Any thoughts?

Mojca

From richardmoncriefkoch at icloud.com  Sun Mar 18 21:46:16 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Sun, 18 Mar 2018 13:46:16 -0700
Subject: [tex-live] Platform & library check on macOS during TL 2018
	installation
Message-ID: <688E5ED7-695B-40B9-A8F0-CD9209536B83@icloud.com>

In the early days of MacTeX, we installed some libraries in /usr/local/lib, primarily to support ImageMagick. Later we made it a principle never to install libraries, which can confuse users later on.

So I very much support Mojca's proposal to print an error message and fail is libc++ is absent on darwin 10, particularly if the message briefly explains how a user can solve the problem.

Dick Koch

From rpspringuel at gmail.com  Sun Mar 18 22:28:34 2018
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Sun, 18 Mar 2018 17:28:34 -0400
Subject: [tex-live] Gregorio Pretest Binary
Message-ID: <835eab3b-19fe-5274-46b4-b41295eab304@gmail.com>

I downloaded and installed the TeXLive 2018 pretest today and it appears 
that the new version of the GregorioTeX files (5.1.0) have been imported 
into the 2018 pretest tree, but the gregorio binary has not been updated 
to the same version.  It remains at 5.0.2 and thus files using 
GregorioTeX won't work with the 2018 pretest.  Is there any problem with 
building that new binary for TeXLive that we need to fix or is this 
simply a timing issue?  If it's a timing issue, when should we expect 
the new binary to be built so that we can test to make sure everything 
is working as intended in the pretest?
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From rpspringuel at gmail.com  Sun Mar 18 22:59:13 2018
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Sun, 18 Mar 2018 17:59:13 -0400
Subject: [tex-live] Gregorio Pretest Binary
In-Reply-To: <C5F3C753-50F8-49D7-9233-7F3436145E0D@wideopenwest.com>
References: <835eab3b-19fe-5274-46b4-b41295eab304@gmail.com>
 <C5F3C753-50F8-49D7-9233-7F3436145E0D@wideopenwest.com>
Message-ID: <22d11c4e-b752-97e3-24a7-f3efb0f34e0f@gmail.com>

Herb Schulz wrote:
> Howdy,
> 
> I'm getting
> 
> $ gregorio --version
> Gregorio 5.1.0 (kpathsea version 6.3.0).
> Copyright (C) 2006-2017 Gregorio project authors (see CONTRIBUTORS.md)
> License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
> This is free software: you are free to change and redistribute it.
> There is NO WARRANTY, to the extent permitted by law.
> 
> with a fully updated TeXLive 2018 pretest.

Which server did you use?  Maybe I pulled from an outdated server by 
mistake.
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From karl at freefriends.org  Sun Mar 18 23:39:29 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 18 Mar 2018 22:39:29 GMT
Subject: [tex-live] Platform & library check on macOS during TL
	2018	installation
In-Reply-To: <CALBOmsZHFVwEd_ONfpoCH677x41=hM-iBf_T5y-hD20NrxQAEQ@mail.gmail.com>
Message-ID: <201803182239.w2IMdTOH017469@freefriends.org>

    Dear Norbert,

Norbert is not the only one who works on the installer :).

    would it be possible for the
    installer to check if the system is darwin10, and if so, check whether
    libc++ is present on the system, and if not, print an error saying
    that it cannot proceed unless the user installs the library?

Anything is possible. The question is, how do we check whether libc++ is
present? We can't try to link with it, that would lead to far more
complications. What file location(s) should we check?

I assume checking for "darwin10" means checking that
sw_vers -productVersion returns 10.10?

    We have various options in principle:

I agree that all of these other options are worse, except perhaps simply
giving up.  I find these constantly proliferating special cases for Macs
highly unfortunate. -k

From mojca.miklavec.lists at gmail.com  Mon Mar 19 00:22:53 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 19 Mar 2018 00:22:53 +0100
Subject: [tex-live] Platform & library check on macOS during TL 2018
	installation
In-Reply-To: <201803182239.w2IMdTOH017469@freefriends.org>
References: <CALBOmsZHFVwEd_ONfpoCH677x41=hM-iBf_T5y-hD20NrxQAEQ@mail.gmail.com>
 <201803182239.w2IMdTOH017469@freefriends.org>
Message-ID: <CALBOmsbKv92wr=FWKi+wvh2nAp-RoSUf4Ew-SNBDf27x0e0dGw@mail.gmail.com>

On 18 March 2018 at 23:39, Karl Berry wrote:
>     Dear Norbert,
>
> Norbert is not the only one who works on the installer :).

I'm sorry. He does or at least did most of the work for that, so I was
assuming he would be the one making this change as well.

>     would it be possible for the
>     installer to check if the system is darwin10, and if so, check whether
>     libc++ is present on the system, and if not, print an error saying
>     that it cannot proceed unless the user installs the library?
>
> Anything is possible. The question is, how do we check whether libc++ is
> present?

The system should have these files (the second one is just a symlink):

/usr/lib/libc++.1.dylib
/usr/lib/libc++.dylib -> libc++.1.dylib
/usr/lib/libc++abi.dylib

All the binaries link against

/usr/lib/libc++.1.dylib (compatibility version 1.0.0, current version 5.0.1)
/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
version 125.2.0)
/usr/lib/libc++abi.dylib (compatibility version 1.0.0, current version 5.0.1)

I would check for existence of "/usr/lib/libc++.1.dylib" and
"/usr/lib/libc++abi.dylib". I don't know if there are any other sanity
checks needed, but I would probably not worry if the user has broken
"system" libraries installed.

If the user provides custom bin dir, those checks should be skipped, I guess.

> We can't try to link with it, that would lead to far more
> complications. What file location(s) should we check?
>
> I assume checking for "darwin10" means checking that
> sw_vers -productVersion returns 10.10?

No, that one returns 10.6.x.

"uname -a" returns Darwin Kernel Version 10.x.0 or something like
that. You can use sw_vers of course, (I'm pretty sure it's already
used to decide between 32-bit vs. 64-bit binaries, but I didn't check
now.)

> I agree that all of these other options are worse, except perhaps simply
> giving up.  I find these constantly proliferating special cases for Macs
> highly unfortunate. -k

We keep changing requirements for Linux and probably other systems as
well, except that there the binaries just stop working at some point,
no special checks are being done (and it's probably impossible to do
them, other than perhaps trying to run one binary and catch the
exception if it fails).

Mojca

From preining at logic.at  Mon Mar 19 00:33:06 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 19 Mar 2018 08:33:06 +0900
Subject: [tex-live] Cannot update TeXLive Manager 2017 under Windows 10
In-Reply-To: <CAAF3B09-CD57-406A-A1B0-B96183C8FADA@math.umass.edu>
References: <D4E301AA-AAD8-4CC5-86F0-A3827C0A18A7@math.umass.edu>
 <20180314020445.GA3589@burischnitzel.preining.info>
 <9F64BCFE-98ED-4510-8F56-EDCDC7A777F9@math.umass.edu>
 <20180315003048.GB24394@burischnitzel.preining.info>
 <CAAF3B09-CD57-406A-A1B0-B96183C8FADA@math.umass.edu>
Message-ID: <20180318233306.GB6869@bulldog.preining.info>

Hi 

you seem to have a very old TeX Live 2017, or never updated.

> 2. Nonetheless, if I now open TexLive Manager 2017, select a single installed package (I tried scheme-basic), and click the Update button, I get the same ?Running update scheme-basic failed: error, then when closing that get the ?perl.exe stopped working?  error.

Nothing I can help about, this is strange Windows error.

> I click the Update the TexLive Manager button, which completes successfully.

Good, Windows is an arbitrary system, outcome of operations is
determined by solar wind fluctuations, so there is nothing one can do
about it but bear it or change to Linux.

>      Executing action update
>      TeXLive 2017 is frozen forever?

That is fine and correct.

> tlmgr.pl: package repository http://ctan.sharelatex.com/tex-archive/systems/texlive/tlnet (not verified: gpg unavailable)

Why is it back here?

Did you save the utah server?

I am not sure whether this archive is correct or uptodate.

> [  1/425] auto-remove: texconfig ... done
> [  2/425] auto-remove: hyperref-docsrc ... done
> [  3/425] auto-remove: knuthotherfonts ... done
> [  4/425, ??:??/??:??] update: abnt [94k] (45163 -> 45655) ... done
> [  5/425, 00:02/03:47:27] update: achemso [890k] (44425 -> 46557) ... TLUtils::check_file: removing C:\Users\myaccount\AppData\Local\Temp\oeRIgA4Tiu\CRuluMMpaZ\achemso.tar.xz, checksums differ:
> TLUtils::check_file:   TL=612100bcb37c6ffadd401487e4bca6b2ae89a0994553a8668962282682c1d66265a5bc0c04db43749cacbdbcf0e7bd76afabef8baa36111c4bdf7b23e07b216b, arg=0013cc836f58fd82f603868b2fda4780070a0d64601a7bbcb96ce9fe253e1af0ba25eaf00947b1943544abd0030506c1b4d2ba35fdedbd9a83b8f7123e3129b0

Please stop using the sharelatex.com server, it seems to be borken.

I recommend
  tlmgr option repository ctan
and then 
  tlmgr update --all


Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From i.spectorsky at gmail.com  Sun Mar 18 23:01:40 2018
From: i.spectorsky at gmail.com (Igor Ya. Spectorsky)
Date: Mon, 19 Mar 2018 00:01:40 +0200
Subject: [tex-live] Add user directory
Message-ID: <268aa9da-0c58-f865-0509-e3858637ffde@gmail.com>

Hello!

I have been using MiKTeX for a long while, but now I have to switch to 
TeXLive. It was not difficult to download TeXLive and install it on our 
Windows PC. However, I have some tex macros which are used in my TeX 
sources. These macros are collected in the separate directory d:\local 
texmf which is not taught while reinstalling TeX for a new version. Such 
approach works well with MiKTeX: it was very easy do add user directory 
and update FNDB. However, within TeXLive I cannot find where and how to 
change in order to add my directory in FNDB list. I found some config 
files where are some directory variables described. However, they are 
not environment vars (not displayed by set command) , so I cannot 
realized where they are saved.

So, the question is: please tell the reference for some docs with more 
or less detailed instructions how to add my own TeX directory to FNDB list.
Thanks in advance for any idea.

Igor


---
This email has been checked for viruses by AVG.
http://www.avg.com


From tom.kacvinsky at suse.com  Mon Mar 19 00:30:21 2018
From: tom.kacvinsky at suse.com (Tom Kacvinsky)
Date: Sun, 18 Mar 2018 23:30:21 +0000
Subject: [tex-live] Platform & library check on macOS during TL	2018
 installation
In-Reply-To: <201803182239.w2IMdTOH017469@freefriends.org>
References: <201803182239.w2IMdTOH017469@freefriends.org>
Message-ID: <9C22C0F7-2D06-47B3-BCBD-D33E39C5B37B@suse.com>



> On Mar 18, 2018, at 18:39:29, Karl Berry <karl at freefriends.org> wrote:
> 
>    Dear Norbert,
> 
> Norbert is not the only one who works on the installer :).
> 
>    would it be possible for the
>    installer to check if the system is darwin10, and if so, check whether
>    libc++ is present on the system, and if not, print an error saying
>    that it cannot proceed unless the user installs the library?
> 
> Anything is possible. The question is, how do we check whether libc++ is
> present? We can't try to link with it, that would lead to far more
> complications. What file location(s) should we check?

One option I see is an application that is run during the installation
process that uses dlopen() to try to load libc++.  This will use the 
predefined system locations.  A problem is if DYLD_LIBRARY_PATH is also
set when this program is invoked.

Tried to find a symbol to call to get the version information, but no joy.
> 
> I assume checking for "darwin10" means checking that
> sw_vers -productVersion returns 10.10?
> 
>    We have various options in principle:
> 
> I agree that all of these other options are worse, except perhaps simply
> giving up.  I find these constantly proliferating special cases for Macs
> highly unfortunate. -k
> 



From rpspringuel at gmail.com  Mon Mar 19 02:36:49 2018
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Sun, 18 Mar 2018 21:36:49 -0400
Subject: [tex-live] Gregorio Pretest Binary
In-Reply-To: <CA255A6E-A3D2-4239-8BD0-F70527F29650@wideopenwest.com>
References: <835eab3b-19fe-5274-46b4-b41295eab304@gmail.com>
 <C5F3C753-50F8-49D7-9233-7F3436145E0D@wideopenwest.com>
 <22d11c4e-b752-97e3-24a7-f3efb0f34e0f@gmail.com>
 <CA255A6E-A3D2-4239-8BD0-F70527F29650@wideopenwest.com>
Message-ID: <dd97ea51-84e1-617b-279a-b42bd4ae766d@gmail.com>

Herb Schulz wrote:
> Howdy,
> 
> I used TeX Live Utility (on a Mac) which is a front end for tlmgr. I've been using <http://ftp.math.utah.edu/pub/tlpretest/> as the repository and it's been very reliable.

That's the same server I'm using.  I just checked it again, and it's 
telling me no updates are available.  Indeed, it's the same for all the 
pretest servers.  The only difference is that I'm running from the 
command line in a Linux 16.04 VM.  Could there be a difference in which 
binary is available for the various platforms?  My Mac VMs are out of 
commission at the moment (a recent computer upgrade was not nice to 
them), but I'll fire up one of my Windows ones tomorrow and see if which 
version of the binary is there.  I might also dig out my old Mac and 
test there as I don't want to put the pretest on my primary machine (I 
have too much important stuff going on to risk it).
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From lomov.vl at gmail.com  Mon Mar 19 03:06:08 2018
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Mon, 19 Mar 2018 10:06:08 +0800
Subject: [tex-live] Add user directory
In-Reply-To: <268aa9da-0c58-f865-0509-e3858637ffde@gmail.com>
References: <268aa9da-0c58-f865-0509-e3858637ffde@gmail.com>
Message-ID: <20180319020608.GB749@smoon.vl-lomov.ru>

Hello,
** Igor Ya. Spectorsky [2018-03-19 00:01:40 +0200]:

> Hello!
> 
> I have been using MiKTeX for a long while, but now I have to switch to
> TeXLive. It was not difficult to download TeXLive and install it on our
> Windows PC. However, I have some tex macros which are used in my TeX
> sources. These macros are collected in the separate directory d:\local texmf
> which is not taught while reinstalling TeX for a new version. Such approach
> works well with MiKTeX:

and that works fine with TeX Live, though there is no special GUI tool
for that, see
https://tug.org/texlive/doc/texlive-en/texlive-en.html#x1-360003.4.6

Assume that you installed TeX Live into C:\texlive\2017 (or
C:\texlive\2018), then put your private macros and other TeX stuff into
C:\texlive\texmf-local (you may simply copy content of D:\local texmf
into that directory), of course it must follow TDS. And don't use space
character for names either files or directories if you want to be on
safe side.

> it was very easy do add user directory and update FNDB. However,
> within TeXLive I cannot find where and how to change in order to add
> my directory in FNDB list. I found some config files where are some
> directory variables described. However, they are not environment vars
> (not displayed by set command) , so I cannot realized where they are
> saved.

You have to read the documentation but I would suggest to not mess with
env. variables if don't know the full story behind that.
 
> So, the question is: please tell the reference for some docs with more
> or less detailed instructions how to add my own TeX directory to FNDB
> list.  Thanks in advance for any idea.

For example,
https://tug.org/texlive/doc/texlive-en/texlive-en.html#x1-80002
some more details can be found here
https://tug.org/texlive/doc/texlive-en/texlive-en.html#x1-530007
and here (this is a kind of FNDB)
https://tug.org/texlive/doc/texlive-en/texlive-en.html#x1-620007.2
but I think just using 'texmf-local' will be enough in your case.

> Igor
 
---
WBR, Vladimir Lomov


-- 
There comes to all races an ultimate crisis which you have yet to face
.... One day our minds became so powerful we dared think of ourselves as gods.
		-- Sargon, "Return to Tomorrow", stardate 4768.3

From A.Grahn at hzdr.de  Mon Mar 19 11:20:48 2018
From: A.Grahn at hzdr.de (Alexander Grahn)
Date: Mon, 19 Mar 2018 11:20:48 +0100
Subject: [tex-live] Bug: When nesting Form XObject reference in <box>,
 \pdfxform resources {<resources>} <box> -> missing user-provided
 <resources>
Message-ID: <20180319102047.GD30863@hzdr.de>

Dear all,

it seems that I discovered a bug in connection with nested Form XObjects
(pdftex built-in \pdfxform) that occurs in pdfTeX as well as in LuaTeX.

The \pdfxform built-in provides the optional `resources {<resources>}'
argument, as in

  \pdfxform resources {<resources>} <box>

, in order to allow the user to insert additional entries in the /Resources
dictionary of the Form XObject to be produced from box register <box>.

This works as advertised for ordinary box content (1st \pdfxform in the code
below), but as soon as another Form XObject is referenced inside <box>, the
`resources {...}' argument is ignored and user-provided <resources> are missing
in the generated PDF code (2nd \pdfxform).

Here is a minimal example for pdfTeX and LuaTeX for demonstration. The PDF
object numbers mentioned in the comments are different in the PDF output from
LuaTeX.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bug: When nesting Form XObject reference in <box>,
%      \pdfxform resources {<resources>} <box>
%      --> missing user-provided <resources>

\input luatex85.sty

\pdfcompresslevel=0
\pdfobjcompresslevel=0

\setbox0=\hbox{World}
\edef\wrldwd{\the\wd0}

\pdfxform
attr {}
resources {/Properties <</Key1 (Val1)>>} % OK
0

%nesting Form XObject reference
\setbox0=\hbox{Hello \hbox to \wrldwd {\pdfrefxform\pdflastxform\hss}!}

\pdfxform
attr {}
% /Properties <<...>> missing in /Resources dict (object `8 0'), ref'ed in
resources {/Properties <</Key2 (Val2)>>}%       Form XObject (object `2 0')
0

\pdfrefxform\pdflastxform

\bye
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Kind regards,
Alexander
-------------- next part --------------
A non-text attachment was scrubbed...
Name: nestedXForm.tex
Type: application/x-tex
Size: 633 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180319/0e416105/attachment.tex>

From reinhard.kotucha at web.de  Mon Mar 19 21:49:33 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 19 Mar 2018 21:49:33 +0100
Subject: [tex-live] Add user directory
In-Reply-To: <268aa9da-0c58-f865-0509-e3858637ffde@gmail.com>
References: <268aa9da-0c58-f865-0509-e3858637ffde@gmail.com>
Message-ID: <23216.8797.32534.47777@gargle.gargle.HOWL>

On 2018-03-19 at 00:01:40 +0200, Igor Ya. Spectorsky wrote:

 > Hello!
 > 
 > I have been using MiKTeX for a long while, but now I have to switch to 
 > TeXLive. It was not difficult to download TeXLive and install it on our 
 > Windows PC. However, I have some tex macros which are used in my TeX 
 > sources. These macros are collected in the separate directory d:\local 
 > texmf which is not taught while reinstalling TeX for a new version. Such 
 > approach works well with MiKTeX: it was very easy do add user directory 
 > and update FNDB. However, within TeXLive I cannot find where and how to 
 > change in order to add my directory in FNDB list. I found some config 
 > files where are some directory variables described. However, they are 
 > not environment vars (not displayed by set command) , so I cannot 
 > realized where they are saved.

Hi Igor,
in order to find the directories where TeX Live looks for your local
files type on the command line

  kpsewhich --var-value=TEXMFLOCAL
  kpsewhich --var-value=TEXMFHOME

The former is where you put files for all users and the latter is
where you put your personal files.  Both directories are never touched
by TeX Live.

If you add files to TEXMFLOCAL you have to run mktexlsr or texhash
(two names for the same program) in order to update the FNDB.  This is
not necessary for TEXMFHOME.

 > So, the question is: please tell the reference for some docs with
 > more or less detailed instructions how to add my own TeX directory
 > to FNDB list.

You get the TeX Live documentation if you type

  texdoc texlive

More info about texdoc with

  texdoc texdoc

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From karl at freefriends.org  Mon Mar 19 23:26:26 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 19 Mar 2018 22:26:26 GMT
Subject: [tex-live] Gregorio Pretest Binary
In-Reply-To: <dd97ea51-84e1-617b-279a-b42bd4ae766d@gmail.com>
Message-ID: <201803192226.w2JMQQ9P018783@freefriends.org>

    Could there be a difference in which 
    binary is available for the various platforms? 

Yes. The binary sets are each updated independently. x86_64-linux was
updated last night, so not at the time you sent your first message, but
should be now. (Some of the more obscure platforms have not yet been
updated.) --best, karl.

From karl at freefriends.org  Mon Mar 19 23:47:22 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 19 Mar 2018 22:47:22 GMT
Subject: [tex-live] Add user directory
In-Reply-To: <268aa9da-0c58-f865-0509-e3858637ffde@gmail.com>
Message-ID: <201803192247.w2JMlMmq020748@freefriends.org>

Hi Igor,

I appreciate the suggestion for more documentation on how to do
this, but it's not clear to me where or how anything should be added.
TEXMFHOME is discussed in the main manual (texlive-en.tex, etc.), at least.

The easiest is to set TEXMFHOME during the installation.

If already installed, I believe
  tlmgr conf texmf TEXMFHOME "d:\local"
should do it (though Windows quoting and backslashes is not something I
know about). This command edits the .../texlive/2017/texmf.cnf file.
You can do that too, as described in the comments at the top of that file.

BTW, inspired by MiKTeX's additional trees feature, we also made a tlmgr
option to manage auxiliary trees, namely "conf auxtrees":

http://tug.org/texlive/doc/tlmgr.html#conf-auxtrees---conffile-file-show-add-delete-value

(Sorry for the long url.)

A final alternative is to set the TEXMFHOME envvar, but I don't
recommend it, just because setting envvars here and there is one of the
most common sources of problems.

Hope something in there helps,
Karl

From rpspringuel at gmail.com  Tue Mar 20 01:07:56 2018
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Mon, 19 Mar 2018 20:07:56 -0400
Subject: [tex-live] Gregorio Pretest Binary
In-Reply-To: <201803192226.w2JMQQ9P018783@freefriends.org>
References: <201803192226.w2JMQQ9P018783@freefriends.org>
Message-ID: <52047fc7-3f31-d270-c492-3c1a810edf2f@gmail.com>

On 3/19/18 6:26 PM, Karl Berry wrote:
> Yes. The binary sets are each updated independently. x86_64-linux was
> updated last night, so not at the time you sent your first message, but
> should be now. (Some of the more obscure platforms have not yet been
> updated.) --best, karl.

Thanks.  I'll make time later in the week to try my tests again then.

-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From uwe.siart at tum.de  Tue Mar 20 12:05:15 2018
From: uwe.siart at tum.de (Uwe Siart)
Date: Tue, 20 Mar 2018 12:05:15 +0100
Subject: [tex-live] [pretest] Mention end of support for XP
Message-ID: <87woy7uhw4.fsf@tum.de>

Should one perhaps mention in the TL18 list of changes that support for
XP was ultimately discontinued?

Earlier it was mentioned in the system requirements that Windows 7 and
higher is officially supported and that it may likely work also on XP.

But now it is more rigorous in the sense that the installer refuses its
job when ran on XP.

-- 
Uwe

From jose.hissa at gmail.com  Tue Mar 20 12:14:48 2018
From: jose.hissa at gmail.com (Jose Hissa Ferreira)
Date: Tue, 20 Mar 2018 08:14:48 -0300
Subject: [tex-live] Biber issue after update
Message-ID: <CAAH+9xbsUQFkhtUyz84RTr=pqvN4rvTbOsgG6YZCf6Go5y4STA@mail.gmail.com>

I updated TeX Live 2018 (pretest) today and got the following biber message:

$ biber --help
Can't locate PAR.pm in @INC (you may need to install the PAR module)
(@INC contains:
/usr/local/perl/lib/site_perl/5.26.0/x86_64-linux-thread-multi
/usr/local/perl/lib/site_perl/5.26.0
/usr/local/perl/lib/5.26.0/x86_64-linux-thread-multi
/usr/local/perl/lib/5.26.0 /usr/local/perl/lib/site_perl) at -e line
604.

Is that a known issue or my mistake?

-- 
[ ]'s,

JHissa

From artourter at gmail.com  Tue Mar 20 15:23:46 2018
From: artourter at gmail.com (Greg' Ar Tourter)
Date: Tue, 20 Mar 2018 16:23:46 +0200
Subject: [tex-live] Biber issue after update
In-Reply-To: <CAAH+9xbsUQFkhtUyz84RTr=pqvN4rvTbOsgG6YZCf6Go5y4STA@mail.gmail.com>
References: <CAAH+9xbsUQFkhtUyz84RTr=pqvN4rvTbOsgG6YZCf6Go5y4STA@mail.gmail.com>
Message-ID: <CAK09-v=yhcWDRMHrthEUkt7UKbt49L+9sLfGp=oL9B7kD3ACpg@mail.gmail.com>

I just wanted to confirm that I get the same issue

On 20 March 2018 at 13:14, Jose Hissa Ferreira <jose.hissa at gmail.com> wrote:

> I updated TeX Live 2018 (pretest) today and got the following biber
> message:
>
> $ biber --help
> Can't locate PAR.pm in @INC (you may need to install the PAR module)
> (@INC contains:
> /usr/local/perl/lib/site_perl/5.26.0/x86_64-linux-thread-multi
> /usr/local/perl/lib/site_perl/5.26.0
> /usr/local/perl/lib/5.26.0/x86_64-linux-thread-multi
> /usr/local/perl/lib/5.26.0 /usr/local/perl/lib/site_perl) at -e line
> 604.
>
> Is that a known issue or my mistake?
>
> --
> [ ]'s,
>
> JHissa
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180320/3e2ff14c/attachment.html>

From karl at freefriends.org  Tue Mar 20 23:06:14 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 20 Mar 2018 22:06:14 GMT
Subject: [tex-live] Biber issue after update
In-Reply-To: <CAK09-v=yhcWDRMHrthEUkt7UKbt49L+9sLfGp=oL9B7kD3ACpg@mail.gmail.com>
Message-ID: <201803202206.w2KM6E7q006568@freefriends.org>

    > Can't locate PAR.pm in @INC (you may need to install the PAR module)

It is true that Biber requires the PAR module.
We can't feasibly provide it (or any other Perl modules) in TL.
So, try running:

cpan install PAR

(Or whatever distro way you have to install CPAN modules.)

On older systems biber may not work at all, and nothing can be done
about that. But I expect 5.26.0 should be ok. --hope this helps, karl.


From karl at freefriends.org  Tue Mar 20 23:13:32 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 20 Mar 2018 22:13:32 GMT
Subject: [tex-live] [pretest] Mention end of support for XP
In-Reply-To: <87woy7uhw4.fsf@tum.de>
Message-ID: <201803202213.w2KMDWCX007196@freefriends.org>

    Should one perhaps mention in the TL18 list of changes that support for
    XP was ultimately discontinued?

Yes. Thanks.

From alessi at robertalessi.net  Tue Mar 20 23:46:47 2018
From: alessi at robertalessi.net (Robert Alessi)
Date: Tue, 20 Mar 2018 23:46:47 +0100
Subject: [tex-live] Biber issue after update
In-Reply-To: <201803202206.w2KM6E7q006568@freefriends.org>
References: <CAK09-v=yhcWDRMHrthEUkt7UKbt49L+9sLfGp=oL9B7kD3ACpg@mail.gmail.com>
 <201803202206.w2KM6E7q006568@freefriends.org>
Message-ID: <20180320224647.7sv6lp5dpkcfdipg@robertalessi.net>

On Tue, Mar 20, 2018 at 10:06:14PM +0000, Karl Berry wrote:
>     > Can't locate PAR.pm in @INC (you may need to install the PAR module)
> 
> It is true that Biber requires the PAR module.
> We can't feasibly provide it (or any other Perl modules) in TL.
> So, try running:
> 
> cpan install PAR
> 
> (Or whatever distro way you have to install CPAN modules.)

I just did, but the problem persists.  From the following output:

Can't locate PAR.pm in @INC (you may need to install the PAR module) (@INC contains: /usr/local/perl/lib/site_perl/5.26.0/x86_64-linux-thread-multi /usr/local/perl/lib/site_perl/5.26.0 /usr/local/perl/lib/5.26.0/x86_64-linux-thread-multi /usr/local/perl/lib/5.26.0 /usr/local/perl/lib/site_perl) at -e line 604.

I suspect some glitch may have found its way into the latest biber, as
at any rate it should not search for PAR in /usr/local/

Does anyone know for a fact that PAR is now required by biber whereas
it wasn't before?  I never had to install it until now.

Thanks,

Robert

From karl at freefriends.org  Tue Mar 20 23:48:13 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 20 Mar 2018 22:48:13 GMT
Subject: [tex-live] Bug: When nesting Form XObject reference in <box>,
	\pdfxform resources {<resources>} <box> -> missing user-provided
	<resources>
Message-ID: <201803202248.w2KMmDgZ010542@freefriends.org>

Hi Alexander,

> it seems that I discovered a bug in connection with nested Form XObjects
> (pdftex built-in \pdfxform) that occurs in pdfTeX as well as in LuaTeX.

Thanks for the report. I installed Hans's patch (thanks Hans!!) for this
in TL (r47051). It will be a couple days before binaries are updated. -k

From karl at freefriends.org  Tue Mar 20 23:51:14 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 20 Mar 2018 16:51:14 -0600
Subject: [tex-live] Biber issue after update
In-Reply-To: <20180320224647.7sv6lp5dpkcfdipg@robertalessi.net> (message from
 Robert Alessi on Tue, 20 Mar 2018 23:46:47 +0100)
Message-ID: <86sh8umkd9.fsf@frenzy.freefriends.org>

    I suspect some glitch may have found its way into the latest biber, as
    at any rate it should not search for PAR in /usr/local/

It is not biber that is searching for the PAR module, it is Perl.
Your cpan install presumably installed PAR somewhere that Perl is not
looking.

    Does anyone know for a fact that PAR is now required by biber whereas
    it wasn't before?  

I was under the impression it has always been required. But maybe it was
a variant of PAR (PAR::Packer?); I'm not sure. Best to check with the
biber author.

    I never had to install it until now.

Changes in your perl?

From alessi at robertalessi.net  Wed Mar 21 00:03:07 2018
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 21 Mar 2018 00:03:07 +0100
Subject: [tex-live] Biber issue after update
In-Reply-To: <86sh8umkd9.fsf@frenzy.freefriends.org>
References: <20180320224647.7sv6lp5dpkcfdipg@robertalessi.net>
 <86sh8umkd9.fsf@frenzy.freefriends.org>
Message-ID: <20180320230307.7nxevgkdim4avxbb@robertalessi.net>

On Tue, Mar 20, 2018 at 04:51:14PM -0600, Karl Berry wrote:
>     I suspect some glitch may have found its way into the latest biber, as
>     at any rate it should not search for PAR in /usr/local/
> 
> It is not biber that is searching for the PAR module, it is Perl.
> Your cpan install presumably installed PAR somewhere that Perl is not
> looking.

Well, I am very confused I must say, as PAR is not even part of my
distribution?at least as a distinct package.  I run Hyperbola.  What
confuses me is that biber was working fine until the last update from
pretest a couple of days ago.

>     Does anyone know for a fact that PAR is now required by biber whereas
>     it wasn't before?  
> 
> I was under the impression it has always been required. But maybe it was
> a variant of PAR (PAR::Packer?); I'm not sure. Best to check with the
> biber author.

I have no clue. I will do that.  Thanks for the advice.

>     I never had to install it until now.
> 
> Changes in your perl?

I don't think so.  It was last updated on 2017-05-14.

From alessi at robertalessi.net  Wed Mar 21 00:14:34 2018
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 21 Mar 2018 00:14:34 +0100
Subject: [tex-live] Biber issue after update
In-Reply-To: <86sh8umkd9.fsf@frenzy.freefriends.org>
References: <20180320224647.7sv6lp5dpkcfdipg@robertalessi.net>
 <86sh8umkd9.fsf@frenzy.freefriends.org>
Message-ID: <20180320231434.ct4rq65hjzy7gc64@robertalessi.net>

On Tue, Mar 20, 2018 at 04:51:14PM -0600, Karl Berry wrote:
> It is not biber that is searching for the PAR module, it is Perl.
> Your cpan install presumably installed PAR somewhere that Perl is not
> looking.

I forgot to mention that I did not install it via cpan.  I took it
from the standard Archlinux package which Hyperbola derives from and
has the same architecture.

From reinhard.kotucha at web.de  Wed Mar 21 01:27:47 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 21 Mar 2018 01:27:47 +0100
Subject: [tex-live] Biber issue after update
In-Reply-To: <86sh8umkd9.fsf@frenzy.freefriends.org>
References: <20180320224647.7sv6lp5dpkcfdipg@robertalessi.net>
 <86sh8umkd9.fsf@frenzy.freefriends.org>
Message-ID: <23217.42755.207200.546283@gargle.gargle.HOWL>

On 2018-03-20 at 16:51:14 -0600, Karl Berry wrote:

 > I was under the impression it has always been required. But maybe
 > it was a variant of PAR (PAR::Packer?); I'm not sure.

Hi Karl,
I get the same error message (TL-2018 on CentOS-7) but everything
works as expected when I switch back to TeX Live 2017.  I don't have
perl-PAR-Packer installed.

 > Best to check with the biber author.

Yes.  I'm convinced that the current behavior is not desired. 

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From rdt at cs.queensu.ca  Wed Mar 21 03:38:46 2018
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Tue, 20 Mar 2018 22:38:46 -0400
Subject: [tex-live] uninstall --force package
Message-ID: <20180321023846.188ItywDA%rdt@cs.queensu.ca>

When testing a package upgrade under preparation, I
like to temporarily uninstall the existing package to
prevent missing files from being taken from the texlive
installation. But the other day I had a brain cramp and
entered the command in the Subject, which immediately
removed the whole installation.

I'd like to suggest that if there are arguments after
"uninstall" (other than --force), that something like the
following should be the result:

Unexpected argument; did you mean "remove [--force] ..." ? 

Or let uninstall/remove/erase be synonyms but require an
explicit "--all" option to uninstall/remove/erase everything.

Bob T.

From alessi at robertalessi.net  Wed Mar 21 09:55:41 2018
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 21 Mar 2018 09:55:41 +0100
Subject: [tex-live] Biber issue after update
In-Reply-To: <23217.42755.207200.546283@gargle.gargle.HOWL>
References: <20180320224647.7sv6lp5dpkcfdipg@robertalessi.net>
 <86sh8umkd9.fsf@frenzy.freefriends.org>
 <23217.42755.207200.546283@gargle.gargle.HOWL>
Message-ID: <20180321085541.rtayaw3ny6pmw65y@robertalessi.net>

On Wed, Mar 21, 2018 at 01:27:47AM +0100, Reinhard Kotucha wrote:
> I get the same error message (TL-2018 on CentOS-7) but everything
> works as expected when I switch back to TeX Live 2017.  I don't have
> perl-PAR-Packer installed.

Same here (TL-2018 on Hyperbola).

>  > Best to check with the biber author.
> 
> Yes.  I'm convinced that the current behavior is not desired. 

I reported the issue yesterday.

Thanks, -- Robert

From alessi at robertalessi.net  Wed Mar 21 11:22:16 2018
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 21 Mar 2018 11:22:16 +0100
Subject: [tex-live] tlmgr restore unable to check integrity
Message-ID: <20180321102216.i2n7rrvq6wsqpbzo@robertalessi.net>

Hi,

If I try to restore any package, I get the following from tlmgr (I
picked intopdf at random):

# tlmgr restore intopdf
Available backups for intopdf: 46963 (2018-03-17 10:29)
# tlmgr restore intopdf 46963
Do you really want to restore intopdf to revision 46963 (y/N): y
Restoring intopdf, 46963 from /usr/local/texlive/2018/tlpkg/backups/intopdf.r46963.tar.xz
TLUtils::check_file: neither checksum nor checksize available for /tmp/8JK7tE23SN/P4D_czKs9a/intopdf.r46963.tar.xz, cannot check integrity!
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
tlmgr: package log updated: /usr/local/texlive/2018/texmf-var/web2c/tlmgr.log

After that, intopdf was actually rolled back to r46963.

Is this expected?

Thanks,

-- Robert

From preining at logic.at  Wed Mar 21 13:39:06 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 21 Mar 2018 21:39:06 +0900
Subject: [tex-live] tlmgr restore unable to check integrity
In-Reply-To: <20180321102216.i2n7rrvq6wsqpbzo@robertalessi.net>
References: <20180321102216.i2n7rrvq6wsqpbzo@robertalessi.net>
Message-ID: <20180321123906.GA25111@bulldog.preining.info>

> Is this expected?

Yes it is. I will try to silence these warnings on restore.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From daleif at math.au.dk  Wed Mar 21 14:34:34 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 21 Mar 2018 13:34:34 +0000
Subject: [tex-live] TeXLive vc UNC paths or redirected folders
Message-ID: <1521639274468.29159@math.au.dk>

Just wondering

(assuming Windows)

Have others had any issues with TL installation where the installer was placed in a folder that was access via a UNC path or similar or via redirected folders (same thing)?

I have a user who has a Win10 from our UNI. It uses redirected folders, aka on UNI cabled network his Desktop and Documents folders are mapped onto a file server via UNC paths).

He was complaining that he could not install TL, something about Perl missing or similar. Turned out he has unpacked the ZIP installed on his Desktop. Everything worked fine, when we unpacked and ran it from Downloads

I wonder if it is worth mentioning this in in the TL manual?


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math



From zdenek.wagner at gmail.com  Wed Mar 21 14:44:29 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 21 Mar 2018 14:44:29 +0100
Subject: [tex-live] TeXLive vc UNC paths or redirected folders
In-Reply-To: <1521639274468.29159@math.au.dk>
References: <1521639274468.29159@math.au.dk>
Message-ID: <CAC1phyY_bZefgXr+LC38rQn1v++ipp3diH8x4Pj+ESzFFnr_iA@mail.gmail.com>

Yes, it happens. It should be sufficient to map the folder so that it gets
a drive letter but I have not tried for TL. It helps with other installers.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-03-21 14:34 GMT+01:00 Lars Madsen <daleif at math.au.dk>:

> Just wondering
>
> (assuming Windows)
>
> Have others had any issues with TL installation where the installer was
> placed in a folder that was access via a UNC path or similar or via
> redirected folders (same thing)?
>
> I have a user who has a Win10 from our UNI. It uses redirected folders,
> aka on UNI cabled network his Desktop and Documents folders are mapped onto
> a file server via UNC paths).
>
> He was complaining that he could not install TL, something about Perl
> missing or similar. Turned out he has unpacked the ZIP installed on his
> Desktop. Everything worked fine, when we unpacked and ran it from Downloads
>
> I wonder if it is worth mentioning this in in the TL manual?
>
>
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at math / More information:
> http://au.dk/en/daleif at math
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180321/d7a86f91/attachment.html>

From daleif at math.au.dk  Wed Mar 21 14:54:36 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 21 Mar 2018 13:54:36 +0000
Subject: [tex-live] TeXLive vc UNC paths or redirected folders
In-Reply-To: <CAC1phyY_bZefgXr+LC38rQn1v++ipp3diH8x4Pj+ESzFFnr_iA@mail.gmail.com>
References: <1521639274468.29159@math.au.dk>,
 <CAC1phyY_bZefgXr+LC38rQn1v++ipp3diH8x4Pj+ESzFFnr_iA@mail.gmail.com>
Message-ID: <1521640476118.77422@math.au.dk>

I think that is enough, I'm just thinking it should be mentioned in the manual.


Sadly a lot of Windows users does not know the difference, between their (redirected) Desktop and the real location of the Desktop.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: Zdenek Wagner <zdenek.wagner at gmail.com>
Sent: 21 March 2018 14:44
To: Lars Madsen
Cc: texlive at tug.org
Subject: Re: [tex-live] TeXLive vc UNC paths or redirected folders

Yes, it happens. It should be sufficient to map the folder so that it gets a drive letter but I have not tried for TL. It helps with other installers.

Zdenek Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-03-21 14:34 GMT+01:00 Lars Madsen <daleif at math.au.dk<mailto:daleif at math.au.dk>>:
Just wondering

(assuming Windows)

Have others had any issues with TL installation where the installer was placed in a folder that was access via a UNC path or similar or via redirected folders (same thing)?

I have a user who has a Win10 from our UNI. It uses redirected folders, aka on UNI cabled network his Desktop and Documents folders are mapped onto a file server via UNC paths).

He was complaining that he could not install TL, something about Perl missing or similar. Turned out he has unpacked the ZIP installed on his Desktop. Everything worked fine, when we unpacked and ran it from Downloads

I wonder if it is worth mentioning this in in the TL manual?


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180321/8c3b2450/attachment-0001.html>

From siepo at cybercomm.nl  Wed Mar 21 18:08:31 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 21 Mar 2018 18:08:31 +0100
Subject: [tex-live] TeXLive vc UNC paths or redirected folders
In-Reply-To: <1521639274468.29159@math.au.dk>
References: <1521639274468.29159@math.au.dk>
Message-ID: <20180321170831.5bzzij4yh3ol6gku@bitmuis.thuis.internal>

On Wed, Mar 21, 2018 at 01:34:34PM +0000, Lars Madsen wrote:
> Just wondering
> 
> (assuming Windows)
> 
> Have others had any issues with TL installation where the installer was placed in a folder that was access via a UNC path or similar or via redirected folders (same thing)?
> 
> I have a user who has a Win10 from our UNI. It uses redirected folders, aka on UNI cabled network his Desktop and Documents folders are mapped onto a file server via UNC paths).
> 
> He was complaining that he could not install TL, something about Perl missing or similar. Turned out he has unpacked the ZIP installed on his Desktop. Everything worked fine, when we unpacked and ran it from Downloads
> 
> I wonder if it is worth mentioning this in in the TL manual?

I regularly test with UNC paths, but redirected `known folders' are
another issue.

I have to think about what exactly to write about the muddle that
Microsoft has made of known folders, libraries, virtual or
otherwise, and the desktop in particular.

-- 
Siep Kroonenberg

From wujastyk at gmail.com  Wed Mar 21 18:10:34 2018
From: wujastyk at gmail.com (Dominik Wujastyk)
Date: Wed, 21 Mar 2018 11:10:34 -0600
Subject: [tex-live] TL Pretest 2018 biber installation problem
Message-ID: <CAKdt-Cd9pZ8YD8t-P752i-EgQqjKfEJ4pnaXvaR9sWCNsw+7qQ@mail.gmail.com>

?$ biber foobar
Can't locate PAR.pm in @INC (you may need to install the PAR module) (@INC
contains: /usr/local/perl/lib/site_perl/5.26.0/x86_64-linux-thread-multi
/usr/local/perl/lib/site_perl/5.26.0
/usr/local/perl/lib/5.26.0/x86_64-linux-thread-multi
/usr/local/perl/lib/5.26.0 /usr/local/perl/lib/site_perl) at -e line 604.

--

I may be wrong, but it looks as if there's a hard-wired call to PERL 5.26.
I'm running Linux Mint, and the distribution includes PERL v5.22.1.

Dominik Wujastyk
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180321/7c31dbb9/attachment.html>

From bernhard.kleine at gmx.net  Wed Mar 21 18:44:00 2018
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Wed, 21 Mar 2018 18:44:00 +0100
Subject: [tex-live] pretest install on Win7 very smooth
Message-ID: <8eaf41ee-6a95-8467-b1ea-4319df1125c3@gmx.net>

to give positive feedback:

Yesterday I installed Texlive 2018 via the web from the Czech server. It
took two hours plus format generation. Everything went smoothly.

Regards Bernhard

(I donot know about Biber issues since I did not run TeX.)

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180321/0f59e816/attachment.sig>

From siepo at cybercomm.nl  Wed Mar 21 18:44:28 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 21 Mar 2018 18:44:28 +0100
Subject: [tex-live] TeXLive vc UNC paths or redirected folders
In-Reply-To: <20180321170831.5bzzij4yh3ol6gku@bitmuis.thuis.internal>
References: <1521639274468.29159@math.au.dk>
 <20180321170831.5bzzij4yh3ol6gku@bitmuis.thuis.internal>
Message-ID: <20180321174427.qghrbuukt7iijsxi@bitmuis.thuis.internal>

On Wed, Mar 21, 2018 at 06:08:31PM +0100, Siep Kroonenberg wrote:
> On Wed, Mar 21, 2018 at 01:34:34PM +0000, Lars Madsen wrote:
> > Just wondering
> > 
> > (assuming Windows)
> > 
> > Have others had any issues with TL installation where the installer was placed in a folder that was access via a UNC path or similar or via redirected folders (same thing)?
> > 
> > I have a user who has a Win10 from our UNI. It uses redirected folders, aka on UNI cabled network his Desktop and Documents folders are mapped onto a file server via UNC paths).
> > 
> > He was complaining that he could not install TL, something about Perl missing or similar. Turned out he has unpacked the ZIP installed on his Desktop. Everything worked fine, when we unpacked and ran it from Downloads
> > 
> > I wonder if it is worth mentioning this in in the TL manual?
> 
> I regularly test with UNC paths, but redirected `known folders' are
> another issue.
> 
> I have to think about what exactly to write about the muddle that
> Microsoft has made of known folders, libraries, virtual or
> otherwise, and the desktop in particular.

Actually, I do not understand what may have happened. The only thing
I can think of that there was a network hiccup and that the unpacked
installer was incompletely cached locally. Which would not rate a
warning in the manual.

-- 
Siep Kroonenberg

From vojta at math.berkeley.edu  Wed Mar 21 21:52:10 2018
From: vojta at math.berkeley.edu (Paul Vojta)
Date: Wed, 21 Mar 2018 13:52:10 -0700
Subject: [tex-live] Biber issue after update
In-Reply-To: <201803202206.w2KM6E7q006568@freefriends.org>
References: <CAK09-v=yhcWDRMHrthEUkt7UKbt49L+9sLfGp=oL9B7kD3ACpg@mail.gmail.com>
 <201803202206.w2KM6E7q006568@freefriends.org>
Message-ID: <20180321205210.GA25006@math.berkeley.edu>

On Tue, Mar 20, 2018 at 10:06:14PM +0000, Karl Berry wrote:
>     > Can't locate PAR.pm in @INC (you may need to install the PAR module)
> 
> It is true that Biber requires the PAR module.
> We can't feasibly provide it (or any other Perl modules) in TL.
> So, try running:
> 
> cpan install PAR
> 
> (Or whatever distro way you have to install CPAN modules.)
> 
> On older systems biber may not work at all, and nothing can be done
> about that. But I expect 5.26.0 should be ok. --hope this helps, karl.

I believe that biber comes with its own suite of packages, supposedly all that it
needs to run.  (Look in /tmp after running biber.)

So, it looks like a packaging/build error in biber.

Paul Vojta

From rpspringuel at gmail.com  Wed Mar 21 22:15:43 2018
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Wed, 21 Mar 2018 17:15:43 -0400
Subject: [tex-live] "TeXLive" or "TeX Live" in documentation?
Message-ID: <7fb9be11-b49d-17ef-4cf4-e7f7229c1aa5@gmail.com>

In working with some documentation updates for a package I help maintain 
(Gregorio), I noticed that we fairly inconsistently switch back and 
forth between "TeXLive" and "TeX Live".  Is there a preferred format for 
the name of the distribution that we should be using?
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From P.Taylor at Rhul.Ac.Uk  Wed Mar 21 23:09:48 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Wed, 21 Mar 2018 22:09:48 +0000
Subject: [tex-live] "TeXLive" or "TeX Live" in documentation?
In-Reply-To: <7fb9be11-b49d-17ef-4cf4-e7f7229c1aa5@gmail.com>
References: <7fb9be11-b49d-17ef-4cf4-e7f7229c1aa5@gmail.com>
Message-ID: <8bd09471-f02d-67e0-666c-de515619f774@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180321/bbee36b6/attachment-0001.html>

From karl at freefriends.org  Wed Mar 21 23:41:20 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 21 Mar 2018 16:41:20 -0600
Subject: [tex-live] "TeXLive" or "TeX Live" in documentation?
In-Reply-To: <7fb9be11-b49d-17ef-4cf4-e7f7229c1aa5@gmail.com>
 (rpspringuel@gmail.com)
Message-ID: <86tvt9vypb.fsf@frenzy.freefriends.org>

Either one is fine. I usually use just plain old TeX Live (two words)
myself. Occasionally \TeX~Live to avoid a break if troublesome. Herbert
Vo\ss\ uses \TeX\,Live in the German journal (DTK) to have less space
and no break. That's fine too. Whatever suits you :).

From norbert at preining.info  Thu Mar 22 00:03:08 2018
From: norbert at preining.info (Norbert Preining)
Date: Thu, 22 Mar 2018 08:03:08 +0900
Subject: [tex-live] TL Pretest 2018 biber installation problem
In-Reply-To: <CAKdt-Cd9pZ8YD8t-P752i-EgQqjKfEJ4pnaXvaR9sWCNsw+7qQ@mail.gmail.com>
References: <CAKdt-Cd9pZ8YD8t-P752i-EgQqjKfEJ4pnaXvaR9sWCNsw+7qQ@mail.gmail.com>
Message-ID: <20180321230308.GB31974@bulldog.preining.info>

Hi Dominik,

> Can't locate PAR.pm in @INC (you may need to install the PAR module) (@INC

my fault, reverted, should be fixed by today's rebuild.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From wujastyk at gmail.com  Thu Mar 22 00:13:33 2018
From: wujastyk at gmail.com (Dominik Wujastyk)
Date: Wed, 21 Mar 2018 17:13:33 -0600
Subject: [tex-live] TL Pretest 2018 biber installation problem
In-Reply-To: <20180321230308.GB31974@bulldog.preining.info>
References: <CAKdt-Cd9pZ8YD8t-P752i-EgQqjKfEJ4pnaXvaR9sWCNsw+7qQ@mail.gmail.com>
 <20180321230308.GB31974@bulldog.preining.info>
Message-ID: <CAKdt-Cfv5+Mu_UxyVo+m4ChNkSJRhhsJgovdz+MV99_pn9KPGA@mail.gmail.com>

great!  Many thanks!  I noticed it wasn't a problem in the first release of
the 2018 pretest, but popped up after a big 2018 upgrade after a week or so.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180321/30af3d63/attachment.html>

From ulm at gentoo.org  Thu Mar 22 08:55:50 2018
From: ulm at gentoo.org (Ulrich Mueller)
Date: Thu, 22 Mar 2018 08:55:50 +0100
Subject: [tex-live] xpdfopen does not need libXmu
Message-ID: <23219.24966.981944.39157@a1i15.kph.uni-mainz.de>

utils/xpdfopen/Makefile.am has this line:

LDADD = $(X_LIBS) -lX11 -lXmu $(X_EXTRA_LIBS)

Looks like libXmu isn't actually needed. There is neither any X11/Xmu
header file included in the sources, nor is there any DT_NEEDED tag
for libXmu in the resulting binaries.

From mojca.miklavec.lists at gmail.com  Thu Mar 22 11:24:48 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 22 Mar 2018 11:24:48 +0100
Subject: [tex-live] Dropping support for Mac OS X 10.5 (i386, ppc)?
Message-ID: <CALBOmsbut8FXznCcO9NgFJb1K0+PYrtydxVVL3ADaSET5_UgeQ@mail.gmail.com>

Hi,

I'm pretty sure that not all the users are subscribed to this mailing
list, but: do you think anyone would actually miss support for Mac OS
X 10.5 (ppc and i386)?

I did manage to compile i386-darwin binaries for 10.5 yesterday after
applying two minor patches (one submitted upstream, one still on
hold). Powerpc has some more hiccups (it's either compiler bug or a
bug in ICU build system which causes us headaches all the time anyway)
that should be possible to mitigate, but ... it might indeed be time
to finally say goodbye? There's a good chance that TL 2018 would still
work from MacPorts anyway.

10.6 with x86_64 will still be (conditionally) supported, 10.7 and
onwards will have full support for installation from command-line at
least.

Mojca

From arthur.reutenauer at normalesup.org  Thu Mar 22 13:55:51 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Thu, 22 Mar 2018 13:55:51 +0100
Subject: [tex-live] Dropping support for Mac OS X 10.5 (i386, ppc)?
In-Reply-To: <CALBOmsbut8FXznCcO9NgFJb1K0+PYrtydxVVL3ADaSET5_UgeQ@mail.gmail.com>
References: <CALBOmsbut8FXznCcO9NgFJb1K0+PYrtydxVVL3ADaSET5_UgeQ@mail.gmail.com>
Message-ID: <20180322125551.GB3842601@phare.normalesup.org>

On Thu, Mar 22, 2018 at 11:24:48AM +0100, Mojca Miklavec wrote:
> I did manage to compile i386-darwin binaries for 10.5 yesterday after
> applying two minor patches (one submitted upstream, one still on
> hold). Powerpc has some more hiccups (it's either compiler bug or a
> bug in ICU build system which causes us headaches all the time anyway)
> that should be possible to mitigate, but ... it might indeed be time
> to finally say goodbye?

  Yes, it might be :-)

> 10.6 with x86_64 will still be (conditionally) supported, 10.7 and
> onwards will have full support for installation from command-line at
> least.

  I think that?s already very good.

	Best,

		Arthur

From mario.beeler at bwz-rappi.ch  Thu Mar 22 11:05:58 2018
From: mario.beeler at bwz-rappi.ch (Mario Beeler BZRA)
Date: Thu, 22 Mar 2018 10:05:58 +0000
Subject: [tex-live] TeX Live Umlauts
Message-ID: <0695e829a0c9475aa91bd095fb9ca9c4@E-EXCHANGESRV1.bwz.lokal>

Dear sirs and madams

Weh ad a little Problem with TeX Live 2017: When we compile the program in the attachement, the umlauts (?, ?, ?) do not work and are displayed incorrectly. Can you tell us whats the problem with that file? With other files the umlauts work fine.

Freundliche Gr?sse

BWZ Rapperswil-Jona

Mario Beeler, IT Services

Z?rcherstrasse 1 und 7
Postfach 1738
8640 Rapperswil-Jona

Tel +41 58 228 20 06
Fax +41 58 228 20 19

Mail: mario.beeler at bwz-rappi.ch
Web: http://www.bwz-rappi.ch

Diese E-Mail enth?lt vertrauliche Informationen und ist ausschliesslich f?r diejenigen Personen oder Organisationen bestimmt, an welche sie adressiert ist. Sollte diese Nachricht nicht f?r Sie bestimmt sein, so bitten wir Sie, den Absender unverz?glich zu informieren und dieses E-Mail zu l?schen. Jede Ver?ffentlichung, Vervielf?ltigung, Verteilung oder sonstige in diesem Zusammenhang stehende Handlung ist untersagt und unter Umst?nden ungesetzlich. Der Absender lehnt jede Haftung aus ?bermittlungsfehlern oder Fehlinterpretationen ab. Ebenso die daraus allf?llig entstandenen Sch?den.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: TeX.zip
Type: application/x-zip-compressed
Size: 1326258 bytes
Desc: TeX.zip
URL: <http://tug.org/pipermail/tex-live/attachments/20180322/817f6d14/attachment-0001.bin>

From ziegenhagen at gmail.com  Thu Mar 22 15:19:27 2018
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Thu, 22 Mar 2018 15:19:27 +0100
Subject: [tex-live] TeX Live Umlauts
In-Reply-To: <0695e829a0c9475aa91bd095fb9ca9c4@E-EXCHANGESRV1.bwz.lokal>
References: <0695e829a0c9475aa91bd095fb9ca9c4@E-EXCHANGESRV1.bwz.lokal>
Message-ID: <159FED90-87C6-47F6-B95D-94666AC80E1A@gmail.com>

Try removing the ansinew inputenc line. 

Uwe

Von meinem iPhone gesendet

> Am 22.03.2018 um 11:05 schrieb Mario Beeler BZRA <mario.beeler at bwz-rappi.ch>:
> 
> Dear sirs and madams
> 
> Weh ad a little Problem with TeX Live 2017: When we compile the program in the attachement, the umlauts (?, ?, ?) do not work and are displayed incorrectly. Can you tell us whats the problem with that file? With other files the umlauts work fine.
> 
> Freundliche Gr?sse
> 
> BWZ Rapperswil-Jona
> 
> Mario Beeler, IT Services
> 
> Z?rcherstrasse 1 und 7
> Postfach 1738
> 8640 Rapperswil-Jona
> 
> Tel +41 58 228 20 06
> Fax +41 58 228 20 19
> 
> Mail: mario.beeler at bwz-rappi.ch
> Web: http://www.bwz-rappi.ch
> 
> Diese E-Mail enth?lt vertrauliche Informationen und ist ausschliesslich f?r diejenigen Personen oder Organisationen bestimmt, an welche sie adressiert ist. Sollte diese Nachricht nicht f?r Sie bestimmt sein, so bitten wir Sie, den Absender unverz?glich zu informieren und dieses E-Mail zu l?schen. Jede Ver?ffentlichung, Vervielf?ltigung, Verteilung oder sonstige in diesem Zusammenhang stehende Handlung ist untersagt und unter Umst?nden ungesetzlich. Der Absender lehnt jede Haftung aus ?bermittlungsfehlern oder Fehlinterpretationen ab. Ebenso die daraus allf?llig entstandenen Sch?den.
> 
> <TeX.zip>


From jfenn at gmx.net  Thu Mar 22 22:28:04 2018
From: jfenn at gmx.net (Juergen Fenn)
Date: Thu, 22 Mar 2018 22:28:04 +0100
Subject: [tex-live] Dropping support for Mac OS X 10.5 (i386, ppc)?
In-Reply-To: <mailman.11.1521716402.30628.tex-live@tug.org>
References: <mailman.11.1521716402.30628.tex-live@tug.org>
Message-ID: <93823ff6-fd59-a240-c65f-b8ae6e7da1c3@gmx.net>



Am 22 Mar 2018 11:24:48 Uhr schrieb Mojca Miklavec:
> I'm pretty sure that not all the users are subscribed to this mailing
> list, but: do you think anyone would actually miss support for Mac OS
> X 10.5 (ppc and i386)?

> 10.6 with x86_64 will still be (conditionally) supported, 10.7 and
> onwards will have full support for installation from command-line at
> least.


Mojca, I don't think that support for 10.5 will be greatly missed
because the real threshold system number was 10.6. It was after 10.6
that something really new took off, and I think most users still running
an old machine had updated to 10.6 at the time. So, I have no objections
to dropping support for 10.5 which was released eleven years ago.

Best regards,
J?rgen.

From karl at aspodata.se  Fri Mar 23 14:13:57 2018
From: karl at aspodata.se (karl at aspodata.se)
Date: Fri, 23 Mar 2018 14:13:57 +0100 (CET)
Subject: [tex-live] TeX Live Umlauts
In-Reply-To: <0695e829a0c9475aa91bd095fb9ca9c4@E-EXCHANGESRV1.bwz.lokal>
References: <0695e829a0c9475aa91bd095fb9ca9c4@E-EXCHANGESRV1.bwz.lokal>
Message-ID: <20180323131357.F2FAF807DEBE@turkos.aspodata.se>

Mario Beeler:
> Weh ad a little Problem with TeX Live 2017: When we compile the
> program in the attachement, the umlauts (?, ?, ?) do not work and
> are displayed incorrectly. Can you tell us whats the problem with
> that file? With other files the umlauts work fine.

I cannot find any problem with your pdf and your tex file compiles
without complaints about umlauts, and e.g. in the first page the
words t?gliche, gl?serne and m?ssen are displayed with normal looking
umlauts.

Regards,
/Karl Hammar

-----------------------------------------------------------------------
Asp? Data
Lilla Asp? 148
S-742 94 ?sthammar
Sweden
+46 173 140 57



From preining at logic.at  Fri Mar 23 15:05:26 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 23 Mar 2018 23:05:26 +0900
Subject: [tex-live] uninstall --force package
In-Reply-To: <20180321023846.188ItywDA%rdt@cs.queensu.ca>
References: <20180321023846.188ItywDA%rdt@cs.queensu.ca>
Message-ID: <20180323140526.GC18340@burischnitzel.preining.info>

Hi Bob,

> removed the whole installation.

Indeed, that is what is the documented behaviour ;-)

> Or let uninstall/remove/erase be synonyms but require an
> explicit "--all" option to uninstall/remove/erase everything.

This is what we decided to do.
  remove [--force] <pkg> ...
    removes packages, --force ignores dependencies (all as before)
  remove [--force] --all
    uninstalls TeX Live, --force without asking
and uninstall == remove.
If you pass more options to rmeove --all ... then an error will be
given.

Sorry for the inconveniences and thanks for the report!!

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From beebe at math.utah.edu  Fri Mar 23 20:07:45 2018
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 23 Mar 2018 13:07:45 -0600
Subject: [tex-live]  libicu security update
Message-ID: <CMM.0.95.0.1521832065.beebe@gamma.math.utah.edu>

The debian-security-announce at lists.debian.org list just had a posting
about a newly-fixed security flaw in the ICU library that is used by
one or more executables in the TeX Live distribution.

See 

	https://security-tracker.debian.org/tracker/source-package/icu

for links.  Should TeX Live 2018 sources be updated to include the
fix?

Here is the Debian announcement body:

>> ...
>> - -------------------------------------------------------------------------
>> Debian Security Advisory DSA-4150-1                   security at debian.org
>> https://www.debian.org/security/                       Moritz Muehlenhoff
>> March 23, 2018                        https://www.debian.org/security/faq
>> - -------------------------------------------------------------------------
>> 
>> Package        : icu
>> CVE ID         : CVE-2017-15422
>> 
>> It was discovered that an integer overflow in the International
>> Components for Unicode (ICU) library could result in denial of service
>> and potentially the execution of arbitrary code.
>> 
>> For the oldstable distribution (jessie), this problem has been fixed
>> in version 52.1-8+deb8u7.
>> 
>> For the stable distribution (stretch), this problem has been fixed in
>> version 57.1-6+deb9u2.
>> 
>> We recommend that you upgrade your icu packages.
>> 
>> For the detailed security status of icu please refer to
>> its security tracker page at:
>> https://security-tracker.debian.org/tracker/icu
>> ...

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From constatinus at gmail.com  Fri Mar 23 20:24:05 2018
From: constatinus at gmail.com (pilot constatinus)
Date: Fri, 23 Mar 2018 19:24:05 +0000
Subject: [tex-live] Building pdflatex
Message-ID: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>

Hi, dear texlive. I was wondering how can i build pdflatex, a latex
compiler for pdf. Even if i built my tl with ./configure --enable-all-pkgs,
under texk/web2c there is no pdflatex, only pdftex and some other tools.
How is it that i can find this only in debian repository and cant build it
myself? I have acctually downloaded the source texlive-full from the repo
and i dont seem to know how to do anything with it. Thanks in advance.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180323/59b03863/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Fri Mar 23 22:34:24 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Fri, 23 Mar 2018 21:34:24 +0000
Subject: [tex-live] Building pdflatex
In-Reply-To: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
Message-ID: <80f046d3-a889-967e-5cb5-11b3051732ac@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180323/dc86c456/attachment.html>

From justin at me.com  Fri Mar 23 22:49:27 2018
From: justin at me.com (Justin C. Walker)
Date: Fri, 23 Mar 2018 17:49:27 -0400
Subject: [tex-live] Building pdflatex
In-Reply-To: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
Message-ID: <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>


> On Mar 23, 2018, at 15:24 , pilot constatinus <constatinus at gmail.com> wrote:
> 
> Hi, dear texlive. I was wondering how can i build pdflatex, a latex compiler for pdf. Even if i built my tl with ./configure --enable-all-pkgs, under texk/web2c there is no pdflatex, only pdftex and some other tools. How is it that i can find this only in debian repository and cant build it myself? I have acctually downloaded the source texlive-full from the repo and i dont seem to know how to do anything with it. Thanks in advance.

pdflatex is actually a symbolic link to pdftex (at least on Unix-like systems).  This means that the actual program will behave as Philip describes, and decides this by looking at the name by which it is invoked.

HTH

Justin

--
Justin C. Walker, Curmudgeon at Large
Director
Institute for the Enhancement of the Director's income
-----------
Question 43:
What if the hokey pokey
really *is* what it?s all about?
--



From constatinus at gmail.com  Fri Mar 23 23:10:23 2018
From: constatinus at gmail.com (pilot constatinus)
Date: Fri, 23 Mar 2018 22:10:23 +0000
Subject: [tex-live] Building pdflatex
In-Reply-To: <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
 <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
Message-ID: <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>

I was also thinking the same, but didn't quite catch that in the man page.
Thanks very much!

On Fri, Mar 23, 2018, 10:49 PM Justin C. Walker <justin at me.com> wrote:

>
> > On Mar 23, 2018, at 15:24 , pilot constatinus <constatinus at gmail.com>
> wrote:
> >
> > Hi, dear texlive. I was wondering how can i build pdflatex, a latex
> compiler for pdf. Even if i built my tl with ./configure --enable-all-pkgs,
> under texk/web2c there is no pdflatex, only pdftex and some other tools.
> How is it that i can find this only in debian repository and cant build it
> myself? I have acctually downloaded the source texlive-full from the repo
> and i dont seem to know how to do anything with it. Thanks in advance.
>
> pdflatex is actually a symbolic link to pdftex (at least on Unix-like
> systems).  This means that the actual program will behave as Philip
> describes, and decides this by looking at the name by which it is invoked.
>
> HTH
>
> Justin
>
> --
> Justin C. Walker, Curmudgeon at Large
> Director
> Institute for the Enhancement of the Director's income
> -----------
> Question 43:
> What if the hokey pokey
> really *is* what it?s all about?
> --
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180323/2f860e11/attachment-0001.html>

From karl at freefriends.org  Fri Mar 23 23:15:57 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 23 Mar 2018 22:15:57 GMT
Subject: [tex-live] libicu security update
In-Reply-To: <CMM.0.95.0.1521832065.beebe@gamma.math.utah.edu>
Message-ID: <201803232215.w2NMFvOi000593@freefriends.org>

   https://security-tracker.debian.org/tracker/source-package/icu
   CVE ID         : CVE-2017-15422
   
   nb> Should TeX Live 2018 sources be updated to include the fix?

I suppose. Thanks. Following the links, it seems the diffs are at
https://ssl.icu-project.org/trac/changeset/40654

Akira, if you have time, could you install the changes? Else I will get
to it in a couple of days. --thanks, karl.

From kakuto at fuk.kindai.ac.jp  Fri Mar 23 23:40:13 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 24 Mar 2018 07:40:13 +0900
Subject: [tex-live] libicu security update
In-Reply-To: <201803232215.w2NMFvOi000593@freefriends.org>
References: <201803232215.w2NMFvOi000593@freefriends.org>
Message-ID: <63464F4393F842D9BF0496034F437EF3@CJ3001517A>

Hi Karl,

> I suppose. Thanks. Following the links, it seems the diffs are at
> https://ssl.icu-project.org/trac/changeset/40654
>
> Akira, if you have time, could you install the changes? Else I will get
> to it in a couple of days. --thanks, karl.

OK. I'll do it today.

Thanks,
Akira


From kakuto at fuk.kindai.ac.jp  Sat Mar 24 00:25:44 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 24 Mar 2018 08:25:44 +0900
Subject: [tex-live] libicu security update
In-Reply-To: <201803232215.w2NMFvOi000593@freefriends.org>
References: <201803232215.w2NMFvOi000593@freefriends.org>
Message-ID: <E8DBE76DF7CD40EC8B5D8D9618B8C379@CJ3001517A>

Hi Karl,

> I suppose. Thanks. Following the links, it seems the diffs are at
> https://ssl.icu-project.org/trac/changeset/40654
>
> Akira, if you have time, could you install the changes? Else I will get
> to it in a couple of days. --thanks, karl.

I think
changeset_40654.diff at
https://ssl.icu-project.org/trac/changeset/40654
is already applied in the TeX Live sources.
Sorry if I'm wrong.

Thanks,
Akira


From beebe at math.utah.edu  Sat Mar 24 02:09:22 2018
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 23 Mar 2018 19:09:22 -0600
Subject: [tex-live] libpoppler security `fix' breaks PDF processing of many
 documents
Message-ID: <CMM.0.95.0.1521853762.beebe@gamma.math.utah.edu>

The Devuan (Dng at lists.dyne.org) developer list today contains several
reports that recent system updates to libpoppler have broken PDF
processing of many documents, in multiple viewers, including okular,
evince, and xpdf.  The symptom is blank pages and/or missing font
characters.

There are two postings at

	https://bugs.debian.org/886798
	https://bugs.debian.org/890826

They suggest that a recent libpoppler security `fix' is itself broken.

Thus, we need to watch for new libpoppler source updates that really
fix the problem, and incorporate those into the TeX Live 2018 source
tree.  Alternatively, if that does not happen soon enough,
backtracking to an older less buggy version of the library may be
called for.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From zarniwhoop at ntlworld.com  Sat Mar 24 03:00:14 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sat, 24 Mar 2018 02:00:14 +0000
Subject: [tex-live] libpoppler security `fix' breaks PDF processing of
 many documents
In-Reply-To: <CMM.0.95.0.1521853762.beebe@gamma.math.utah.edu>
References: <CMM.0.95.0.1521853762.beebe@gamma.math.utah.edu>
Message-ID: <20180324020014.GA7922@milliways.localdomain>

On Fri, Mar 23, 2018 at 07:09:22PM -0600, Nelson H. F. Beebe wrote:
> The Devuan (Dng at lists.dyne.org) developer list today contains several
> reports that recent system updates to libpoppler have broken PDF
> processing of many documents, in multiple viewers, including okular,
> evince, and xpdf.  The symptom is blank pages and/or missing font
> characters.
> 
> There are two postings at
> 
> 	https://bugs.debian.org/886798
> 	https://bugs.debian.org/890826
> 
> They suggest that a recent libpoppler security `fix' is itself broken.
> 
> Thus, we need to watch for new libpoppler source updates that really
> fix the problem, and incorporate those into the TeX Live 2018 source
> tree.  Alternatively, if that does not happen soon enough,
> backtracking to an older less buggy version of the library may be
> called for.
> 
>From a quick look at those two bugs, they are for poppler-0.26
series (libpoppler-0.46).  Is that not already very old ?

Earlier this week I built recent 2018 source against poppler-0.62 -
I see that my libpoppler version is now 73.

I take my hat off to people who manage to maintain older versions of
packages when vulnerabilities sometimes come to light years after a
particular version is released, but from time to time a fix breaks
things.  Meanwhile, the version of libpoppler in texlive from a few
days ago seems to be 0.63 (from reading configure.ac) so I think the
problem will only impact linux distros who build against system
poppler *and* use that old version.

?en
-- 
Truth, in front of her huge walk-in wardrobe, selected black leather
boots with stiletto heels for such a barefaced truth.
                                     - Unseen Academicals

From devries at uni-trier.de  Sat Mar 24 12:55:39 2018
From: devries at uni-trier.de (Sven de Vries)
Date: Sat, 24 Mar 2018 12:55:39 +0100
Subject: [tex-live] mactex installer overwrites excalibur dictionaries
Message-ID: <alpine.OSX.2.21.1803221308010.14280@wlanc246253.uni-trier.de>

Hi,

thank you for working and the 2018 update!

However, I noticed a small glitch (in my usage case):

I use the Excalibur spellchecker, that is installed in /Applications/TeX/ 
. However it stores its dictonaries along the binary (sadly).

Given that the mactexinstaller overwrites the /Applications/TeX-folder,
the user's dictionaries are gone thereafter. As a user, I will move my 
Excalibur-Folder directly into the applicationfolder.
For the installer, it would be nice of course, if it could move the 
dictionaries aside before overwriting them.

best
-sven


From constatinus at gmail.com  Sat Mar 24 20:31:03 2018
From: constatinus at gmail.com (pilot constatinus)
Date: Sat, 24 Mar 2018 19:31:03 +0000
Subject: [tex-live] Building pdflatex
In-Reply-To: <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
 <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
 <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>
Message-ID: <CAKZd3GzciAykdp_A7FSbX+k4d-ZwoTpd6N1MWt_+j5=V39oawg@mail.gmail.com>

Acctually, what was really going on was that pdftex &latex was just running
'latex'. After i uninstalled the repo version and installed the compiled
one, i got suspended tty input... I still don't have latex/pdflatex
executable compiled. Why is this?

On Fri, Mar 23, 2018, 11:10 PM pilot constatinus <constatinus at gmail.com>
wrote:

> I was also thinking the same, but didn't quite catch that in the man page.
> Thanks very much!
>
> On Fri, Mar 23, 2018, 10:49 PM Justin C. Walker <justin at me.com> wrote:
>
>>
>> > On Mar 23, 2018, at 15:24 , pilot constatinus <constatinus at gmail.com>
>> wrote:
>> >
>> > Hi, dear texlive. I was wondering how can i build pdflatex, a latex
>> compiler for pdf. Even if i built my tl with ./configure --enable-all-pkgs,
>> under texk/web2c there is no pdflatex, only pdftex and some other tools.
>> How is it that i can find this only in debian repository and cant build it
>> myself? I have acctually downloaded the source texlive-full from the repo
>> and i dont seem to know how to do anything with it. Thanks in advance.
>>
>> pdflatex is actually a symbolic link to pdftex (at least on Unix-like
>> systems).  This means that the actual program will behave as Philip
>> describes, and decides this by looking at the name by which it is invoked.
>>
>> HTH
>>
>> Justin
>>
>> --
>> Justin C. Walker, Curmudgeon at Large
>> Director
>> Institute for the Enhancement of the Director's income
>> -----------
>> Question 43:
>> What if the hokey pokey
>> really *is* what it?s all about?
>> --
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180324/f0cc3833/attachment.html>

From zdenek.wagner at gmail.com  Sat Mar 24 20:46:31 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 24 Mar 2018 20:46:31 +0100
Subject: [tex-live] Building pdflatex
In-Reply-To: <CAKZd3GzciAykdp_A7FSbX+k4d-ZwoTpd6N1MWt_+j5=V39oawg@mail.gmail.com>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
 <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
 <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>
 <CAKZd3GzciAykdp_A7FSbX+k4d-ZwoTpd6N1MWt_+j5=V39oawg@mail.gmail.com>
Message-ID: <CAC1phyZtUbXORZAU_J-m8HXqLFnkUS4cbm2YFCDOSaehkFvpow@mail.gmail.com>

latex and pdflatex executables exist on Windows only but as a wrapper
written in lua which calls pdftex with &formatname. On unix systems
(including Mac) these are just symlinks to pdftex. If you use unix system,
then cd to the executable directory and do:

ln -s pdftex latex
ln -s pdftex pdflatex


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-03-24 20:31 GMT+01:00 pilot constatinus <constatinus at gmail.com>:

> Acctually, what was really going on was that pdftex &latex was just
> running 'latex'. After i uninstalled the repo version and installed the
> compiled one, i got suspended tty input... I still don't have
> latex/pdflatex executable compiled. Why is this?
>
> On Fri, Mar 23, 2018, 11:10 PM pilot constatinus <constatinus at gmail.com>
> wrote:
>
>> I was also thinking the same, but didn't quite catch that in the man
>> page. Thanks very much!
>>
>> On Fri, Mar 23, 2018, 10:49 PM Justin C. Walker <justin at me.com> wrote:
>>
>>>
>>> > On Mar 23, 2018, at 15:24 , pilot constatinus <constatinus at gmail.com>
>>> wrote:
>>> >
>>> > Hi, dear texlive. I was wondering how can i build pdflatex, a latex
>>> compiler for pdf. Even if i built my tl with ./configure --enable-all-pkgs,
>>> under texk/web2c there is no pdflatex, only pdftex and some other tools.
>>> How is it that i can find this only in debian repository and cant build it
>>> myself? I have acctually downloaded the source texlive-full from the repo
>>> and i dont seem to know how to do anything with it. Thanks in advance.
>>>
>>> pdflatex is actually a symbolic link to pdftex (at least on Unix-like
>>> systems).  This means that the actual program will behave as Philip
>>> describes, and decides this by looking at the name by which it is invoked.
>>>
>>> HTH
>>>
>>> Justin
>>>
>>> --
>>> Justin C. Walker, Curmudgeon at Large
>>> Director
>>> Institute for the Enhancement of the Director's income
>>> -----------
>>> Question 43:
>>> What if the hokey pokey
>>> really *is* what it?s all about?
>>> --
>>>
>>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180324/d31e9fec/attachment.html>

From kakuto at fuk.kindai.ac.jp  Sat Mar 24 23:14:53 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 25 Mar 2018 07:14:53 +0900
Subject: [tex-live] Building pdflatex
In-Reply-To: <CAC1phyZtUbXORZAU_J-m8HXqLFnkUS4cbm2YFCDOSaehkFvpow@mail.gmail.com>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
 <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
 <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>
 <CAKZd3GzciAykdp_A7FSbX+k4d-ZwoTpd6N1MWt_+j5=V39oawg@mail.gmail.com>
 <CAC1phyZtUbXORZAU_J-m8HXqLFnkUS4cbm2YFCDOSaehkFvpow@mail.gmail.com>
Message-ID: <34C67A9D921D41098FDFAC09C564687B@CJ3001517A>

Dear Zdenek,

> latex and pdflatex executables exist on Windows
> only but as a wrapper written in lua which calls
> pdftex with &formatname.

Actually they are not wrappers, and they don't call
lua scripts. They use a common dynamic library pdftex.dll.
Accidentally, their size (1536 bytes) is the same as
that of script wrappers such as epstopdf.exe.

Thanks,
Akira


From zdenek.wagner at gmail.com  Sun Mar 25 00:20:27 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 25 Mar 2018 00:20:27 +0100
Subject: [tex-live] Building pdflatex
In-Reply-To: <34C67A9D921D41098FDFAC09C564687B@CJ3001517A>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
 <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
 <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>
 <CAKZd3GzciAykdp_A7FSbX+k4d-ZwoTpd6N1MWt_+j5=V39oawg@mail.gmail.com>
 <CAC1phyZtUbXORZAU_J-m8HXqLFnkUS4cbm2YFCDOSaehkFvpow@mail.gmail.com>
 <34C67A9D921D41098FDFAC09C564687B@CJ3001517A>
Message-ID: <CAC1phyY_cqLR6=uJq_2=hUCbUGk=QFkX_+P4U7rwx31XpNtNqw@mail.gmail.com>

2018-03-24 23:14 GMT+01:00 Akira Kakuto <kakuto at fuk.kindai.ac.jp>:

> Dear Zdenek,
>
> latex and pdflatex executables exist on Windows
>> only but as a wrapper written in lua which calls
>> pdftex with &formatname.
>>
>
> Actually they are not wrappers, and they don't call
> lua scripts. They use a common dynamic library pdftex.dll.
> Accidentally, their size (1536 bytes) is the same as
> that of script wrappers such as epstopdf.exe.
>

Thank you for explanation. I do not use TeX on Windows and my memory is
apparantly not so good.

>
> Thanks,
> Akira
>
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180325/a91eec87/attachment.html>

From reinhard.kotucha at web.de  Sun Mar 25 00:54:39 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 25 Mar 2018 00:54:39 +0100
Subject: [tex-live] Building pdflatex
In-Reply-To: <CAC1phyZtUbXORZAU_J-m8HXqLFnkUS4cbm2YFCDOSaehkFvpow@mail.gmail.com>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
 <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
 <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>
 <CAKZd3GzciAykdp_A7FSbX+k4d-ZwoTpd6N1MWt_+j5=V39oawg@mail.gmail.com>
 <CAC1phyZtUbXORZAU_J-m8HXqLFnkUS4cbm2YFCDOSaehkFvpow@mail.gmail.com>
Message-ID: <23222.58687.944682.893670@gargle.gargle.HOWL>

On 2018-03-24 at 20:46:31 +0100, Zdenek Wagner wrote:

 > latex and pdflatex executables exist on Windows only but as a
 > wrapper written in lua which calls pdftex with &formatname.

Not exactly.  The Lua wrappers are used by scripts.  pdflatex.exe is a
tiny program written in C which loads pdftex.dll and, dependent on
argv[0], the appropriate format file.  No Lua involved here.

Scripts have to be treated differently.  First of all, their locations
within the TEXMF trees and the appropriate interpreter have to be
determined.  Furthermore, Perl and Ghostscript have to be added to
PATH.  The details are explained in

  bin/win32/runscript.tlu

So we use different wrappers for TeX programs in bin/win32 and scripts
in TEXMF.  In older versions of TeX Live you could distinguish between
these wrappers by file size.  This doesn't seem to be the case anymore

$ ls -l updmap.exe pdftex.exe
-rwxr-xr-x 1 reinhard users 1536 Nov 25  2016 pdftex.exe
-rwxr-xr-x 1 reinhard users 1536 Nov 25  2016 updmap.exe

$ cmp updmap.exe pdflatex.exe
updmap.exe pdflatex.exe differ: byte 137, line 2

$ strings updmap.exe | grep '\.dll$'
runscript.dll
msvcrt.dll

$ strings pdftex.exe | grep '\.dll$'
pdftex.dll
msvcrt.dll

All the script related .exe wrappers are identical on purpose and
invoke runscript.dll which in turn executes runscript.tlu.

In order to support an additional script you have to

  copy runscript.exe mynewsript.exe

but you run into trouble if you

  copy pdftex.exe mynewsript.exe

 > On unix systems (including Mac) these are just symlinks to
 > pdftex. If you use unix system, then cd to the executable directory
 > and do:
 > 
 > ln -s pdftex latex
 > ln -s pdftex pdflatex

You just mention 2 of 263 symlinks.  You did something completely
wrong before if you have to create all of them manually.  The preferred
approach is

$ cd /path/to/svn/trunk/Build/source
$ ./Build <configure options>

The programs *and* symlinks are then in

  /path/to/svn/trunk/Build/source/inst/bin/<platform>

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From constatinus at gmail.com  Sun Mar 25 08:10:16 2018
From: constatinus at gmail.com (pilot constatinus)
Date: Sun, 25 Mar 2018 06:10:16 +0000
Subject: [tex-live] Building pdflatex
In-Reply-To: <23222.58687.944682.893670@gargle.gargle.HOWL>
References: <CAKZd3Gz2wfumT0vbjBuk2KepjjYH2AOkU0MXQh-+idepXz7MLA@mail.gmail.com>
 <143D7E12-B8B0-4964-B29F-EB8B0EB6FDBC@me.com>
 <CAKZd3GzCUiOUjgcctQ2L3-L9bb_RcZP9xbdv+xfPe23Jc5ZcRQ@mail.gmail.com>
 <CAKZd3GzciAykdp_A7FSbX+k4d-ZwoTpd6N1MWt_+j5=V39oawg@mail.gmail.com>
 <CAC1phyZtUbXORZAU_J-m8HXqLFnkUS4cbm2YFCDOSaehkFvpow@mail.gmail.com>
 <23222.58687.944682.893670@gargle.gargle.HOWL>
Message-ID: <CAKZd3Gy6c5VfFzEvCWWUUmw-4YTkXaDGBZybFtXoZ+dFEm8nTg@mail.gmail.com>

Thanks to all. My problem is finally solved. I didn't know that pdftex will
judge the format just by the symlink name. Thanks.


On Sun, Mar 25, 2018, 12:54 AM Reinhard Kotucha <reinhard.kotucha at web.de>
wrote:

> On 2018-03-24 at 20:46:31 +0100, Zdenek Wagner wrote:
>
>  > latex and pdflatex executables exist on Windows only but as a
>  > wrapper written in lua which calls pdftex with &formatname.
>
> Not exactly.  The Lua wrappers are used by scripts.  pdflatex.exe is a
> tiny program written in C which loads pdftex.dll and, dependent on
> argv[0], the appropriate format file.  No Lua involved here.
>
> Scripts have to be treated differently.  First of all, their locations
> within the TEXMF trees and the appropriate interpreter have to be
> determined.  Furthermore, Perl and Ghostscript have to be added to
> PATH.  The details are explained in
>
>   bin/win32/runscript.tlu
>
> So we use different wrappers for TeX programs in bin/win32 and scripts
> in TEXMF.  In older versions of TeX Live you could distinguish between
> these wrappers by file size.  This doesn't seem to be the case anymore
>
> $ ls -l updmap.exe pdftex.exe
> -rwxr-xr-x 1 reinhard users 1536 Nov 25  2016 pdftex.exe
> -rwxr-xr-x 1 reinhard users 1536 Nov 25  2016 updmap.exe
>
> $ cmp updmap.exe pdflatex.exe
> updmap.exe pdflatex.exe differ: byte 137, line 2
>
> $ strings updmap.exe | grep '\.dll$'
> runscript.dll
> msvcrt.dll
>
> $ strings pdftex.exe | grep '\.dll$'
> pdftex.dll
> msvcrt.dll
>
> All the script related .exe wrappers are identical on purpose and
> invoke runscript.dll which in turn executes runscript.tlu.
>
> In order to support an additional script you have to
>
>   copy runscript.exe mynewsript.exe
>
> but you run into trouble if you
>
>   copy pdftex.exe mynewsript.exe
>
>  > On unix systems (including Mac) these are just symlinks to
>  > pdftex. If you use unix system, then cd to the executable directory
>  > and do:
>  >
>  > ln -s pdftex latex
>  > ln -s pdftex pdflatex
>
> You just mention 2 of 263 symlinks.  You did something completely
> wrong before if you have to create all of them manually.  The preferred
> approach is
>
> $ cd /path/to/svn/trunk/Build/source
> $ ./Build <configure options>
>
> The programs *and* symlinks are then in
>
>   /path/to/svn/trunk/Build/source/inst/bin/<platform>
>
> Regards,
>   Reinhard
>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180325/8de61283/attachment.html>

From paul.gaborit at gmail.com  Sun Mar 25 10:11:51 2018
From: paul.gaborit at gmail.com (Paul Gaborit)
Date: Sun, 25 Mar 2018 10:11:51 +0200
Subject: [tex-live] TeX Live 2018: xindy seems broken
Message-ID: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>


Hi,

The following document use 'glossaries' and 'xindy'.

%%%
\documentclass{article}
\usepackage[xindy]{glossaries}
\makeglossaries
\newglossaryentry{test}{name={test},description={a simple test}.}
\begin{document}
This is just a \gls{test}.
\printglossaries
\end{document}
%%%


But, since 2 ou 3 days (with TeX Live 2018 pretest), after a first 
compilation by 'pdflatex', 'makeglossaries' can't run 'xindy':

$  makeglossaries xindy-test
makeglossaries version 4.36 (2018-03-07)
added glossary type 'main' (glg,gls,glo)
xindy  -L english  -I xindy -M "xindy-test" -t "xindy-test.glg" -o 
"xindy-test.gls" "xindy-test.glo"
/usr/local/texlive/2018/bin/x86_64-linux/xindy.run: 
/usr/local/texlive/2018/bin/x86_64-linux/base/lisp.run: No such file or 
directory

***Call to xindy failed***

Check 'xindy-test.glg' for details

Thanks.
-- 
	Paul Gaborit

From jhielscher at posteo.de  Sun Mar 25 15:56:47 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sun, 25 Mar 2018 15:56:47 +0200
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
Message-ID: <20180325155647.6ba7e755@aloksar.localdomain>

Am Sun, 25 Mar 2018 10:11:51 +0200
schrieb Paul Gaborit <paul.gaborit at gmail.com>:
> $  makeglossaries xindy-test
> makeglossaries version 4.36 (2018-03-07)
> added glossary type 'main' (glg,gls,glo)
> xindy  -L english  -I xindy -M "xindy-test" -t "xindy-test.glg" -o 
> "xindy-test.gls" "xindy-test.glo"
> /usr/local/texlive/2018/bin/x86_64-linux/xindy.run: 
> /usr/local/texlive/2018/bin/x86_64-linux/base/lisp.run: No such file
> or directory
> 
> ***Call to xindy failed***
> 
> Check 'xindy-test.glg' for details

I can confirm this:
xindy dies on pretest2018/x86_64-linux (*)

But works without this error on:
:pretest2018/aarch64-linux
:pretest2018/amd64-freebsd
:branch2017/x86_64-linux (*)
:branch2017/armhf-linux (*)
:x86_64-linux (TL17 -r45811) from the Archlinux repositories
:pretest2018/x86_64-linux <= -r47019
:as well as with x86_64-linux binaries that I have compiled locally
for myself from -r47103 sources (*).

In conclusion, something is wrong within the current xindy binaries at
trunk/Master/bin/x86_64-linux that were commited in -r47020.


(*): An unrelated issue: On a bleeding-edge modern Linux distribution,
xindy died for another reason in the first place: It is dynamically
linked against libncurses.so.5 and siblings, which is ncurses' legacy
ABI since about 2015, and replaced by v6 ABI for a long time.
So I had to install ncurses5-compat-libs to get it run at all [0].

This is nasty. Did I just overlook the big fat red-blinking warning sign
about ncurses-v5 ABI as a prerequisite for TL, or isn't there one? Most
probably, issues of this kind will get more frequent when all the more
conservative OSes switch away from the v5 ABI.


Best,
Johannes


[0] The issue and workarounds were also discussed on TeX.sx:
https://tex.stackexchange.com/questions/281296/how-can-i-use-xindy-on-a-system-with-libncurses-so-6

From koch at uoregon.edu  Sun Mar 25 17:53:14 2018
From: koch at uoregon.edu (Richard Koch)
Date: Sun, 25 Mar 2018 08:53:14 -0700
Subject: [tex-live] mactex installer overwrites excalibur dictionaries
Message-ID: <E607BCEE-4632-4C54-8456-4771A3E8BBC1@uoregon.edu>

Hi,

We thank Sven for his bug report on the tlpretest Mac installer, which will be fixed.

Just a word to other Mac people, who read with some alarm that the installer "overwrote" personal files in /Applications/TeX. The Apple software which does the hard work of unpacking the distribution does not overwrite extra user files it doesn't recognize. Sven's problem was caused by a postinstall script I wrote which attempted to clean up /Applications/TeX and wasn't as careful as Apple. Just cleanup operations are very rare in MacTeX, for reasons that the current example makes clear.

Dick Koch

From kakuto at fuk.kindai.ac.jp  Sun Mar 25 23:50:21 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 26 Mar 2018 06:50:21 +0900
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
Message-ID: <DAA7DA40A04E4011879240B24CEF6D11@CJ3001517A>

> /usr/local/texlive/2018/bin/x86_64-linux/xindy.run:
> /usr/local/texlive/2018/bin/x86_64-linux/base/lisp.run:
> No such file or directory

On windows, the example works fine in the case of TL18 pretest.
I think that the above message cleary shows that
a wrong executable is used as the xindy.run.
The xindy.run should be the executable in
"clisp-build/base/"

Thanks,
Akira


From kakuto at fuk.kindai.ac.jp  Mon Mar 26 01:43:02 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 26 Mar 2018 08:43:02 +0900
Subject: [tex-live] TeX Live 2018: xindy seems broken
Message-ID: <18D2F85E7F5541FF8534E221166C379D@CJ3001517A>

>> /usr/local/texlive/2018/bin/x86_64-linux/xindy.run:
>> /usr/local/texlive/2018/bin/x86_64-linux/base/lisp.run:
>> No such file or directory
>
> On windows, the example works fine in the case of TL18 pretest.
> I think that the above message cleary shows that
> a wrong executable is used as the xindy.run.
> The xindy.run should be the executable in
> "clisp-build/base/"

The size of
bin/x86_64-linux/xindy.run
is 9544 bytes. That is extremely small compared with
the all other cases.

Thanks,
Akira


From patrick at gundla.ch  Mon Mar 26 11:44:58 2018
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon, 26 Mar 2018 11:44:58 +0200
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
Message-ID: <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>

Hello all,

I have just updated the tl2018 pretest. This bug is still present. I am not sure if the update process has not fixed this or this is still present upstream.

I have rsynced tlprest and then run in the tlpretest directory

tlmgr --repository $PWD update --all

Shouldn't this fix the luatex binary?


Patrick






> Am 08.03.2018 um 10:36 schrieb Patrick Gundlach <patrick at gundla.ch>:
> 
> Hello again,
> 
> in tl2018 (pretest) we have the same bug as last year. Would it be possible to fix it once and for all? (or should I setup a cron job?)
> 
> $ type lualatex
> lualatex is hashed (/opt/texlive2018/bin/x86_64-darwin/lualatex)
> ~/TeX/luatex/test$ lualatex test
> This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
> restricted system commands enabled.
> (./test.tex
> LaTeX2e <2017-04-15>
> ...
> 
> (/opt/texlive2018/texmf-dist/tex/latex/booktabs/booktabs.sty) (./test.aux)error
> loading module 'luasql.sqlite3' from file './luasql/sqlite3.so':
> 	dlopen(./luasql/sqlite3.so, 6): Symbol not found: _luaL_argerror
>  Referenced from: ./luasql/sqlite3.so
>  Expected in: flat namespace
> in ./luasql/sqlite3.so
> stack traceback:
> 	[C]: in ?
> 	[C]: in function 'cpath specification'
> 	...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:291: in function '
> ?'
> 	...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:318: in function <
> ...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:310>
> 	[C]: in function 'require'
> 	[\directlua]:4: in main chunk.
> ...
> 
> 
> where test.tex is:
> 
> ---------------------------
> \documentclass{article}
> \usepackage{luacode,booktabs}
> \begin{document}
> \begin{luacode*}
> 
> 
> 
> luasql = require("luasql.sqlite3")
> 
> env = assert (luasql.sqlite3())
> -- connect to data source
> con = assert (env:connect("luasql-test"))
> -- retrieve a cursor
> cur = assert (con:execute"SELECT name, email from people")
> -- print all rows, the rows will be indexed by field names
> row = cur:fetch ({}, "a")
> tex.sprint([[\begin{tabular}{@{}ll@{}}\toprule]])
> tex.sprint([[Name & email \\\midrule]])
> while row do
>  tex.sprint(-2,row.name)
>  tex.sprint("&")
>  tex.sprint(-2, row.email)
>  tex.sprint("\\\\")
>  -- reusing the table of results
>  row = cur:fetch (row, "a")
> end
> tex.sprint([[\bottomrule\end{tabular}]])
> -- close everything
> cur:close()
> con:close()
> env:close()
> \end{luacode*}
> \end{document}
> ---------------------------
> 
> and sqlite3.so is from homebrew (put online at https://download.speedata.de/private/sqlite3.so)
> 
> 
> 
> Patrick
> 
> 
> 
>> Hi all,
>> 
>> I've tried to link an external library to LuaTeX, but this gives an error. This problem is an old problem described here:
>> 
>> http://tracker.luatex.org/view.php?id=555
>> 
>> I quote from the page:
>> 
>> ------------------------------------
>> When building LuaTeX without --nostrip (which is the current default behaviour), loading external libraries is a game of luck. For example the sqlite3 bindings from http://luaforge.net/projects/luasqlite/ [^] create a library on OS X that require the symbol _luaL_argerror to be defined in the LuaTeX binary:
>> 
>> error loading module 'lsqlite3' from file './lsqlite3.so':
>>   dlopen(./lsqlite3.so, 2): Symbol not found: _luaL_argerror
>> Referenced from: /Users/patrick/Downloads/lsqlite3-7/lsqlite3.so
>> Expected in: flat namespace
>> in /Users/patrick/Downloads/lsqlite3-7/lsqlite3.so
>> 
>> Building LuaTeX with --nostrip solves this issue.
>> 
>> By having "--strip" the default in build.sh, it is not possible for any user (on OS X, perhaps also on other platforms) to use this (and other) external library without downloading the LuaTeX source, download XCode, compile LuaTeX and put LuaTeX in the correct place.
>> ------------------------------------
>> 
>> Patrick
>> 
>> (who is not subscribed to the tex-live list)






From mojca.miklavec.lists at gmail.com  Mon Mar 26 14:12:35 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 26 Mar 2018 14:12:35 +0200
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
 <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
Message-ID: <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>

On 26 March 2018 at 11:44, Patrick Gundlach wrote:
> Hello all,
>
> I have just updated the tl2018 pretest. This bug is still present. I am not sure if the update process has not fixed this or this is still present upstream.

I'm not aware of anyone attempting to fix
    source/aclocal.m4
so far. If you contribute the patch for that, this will be the best
and most lost-term future-proof solution :)

> I have rsynced tlprest and then run in the tlpretest directory
>
> tlmgr --repository $PWD update --all
>
> Shouldn't this fix the luatex binary?
>
>
> Patrick

Only if Dick uses
    export STRIP="strip -u -r"
when he builds the binaries.

Since you are in the testing mode right now: can you please do me a
favour and test the luatex binary from x86_64-darwinlegacy to confirm
whether that one works as expected? (You can get it in the subversion
repository of texlive or on the tlpretest repository, but it needs to
be extracted manually or you would need to install an additional
platform.)

Thank you,
    Mojca

>> Am 08.03.2018 um 10:36 schrieb Patrick Gundlach <patrick at gundla.ch>:
>>
>> Hello again,
>>
>> in tl2018 (pretest) we have the same bug as last year. Would it be possible to fix it once and for all? (or should I setup a cron job?)
>>
>> $ type lualatex
>> lualatex is hashed (/opt/texlive2018/bin/x86_64-darwin/lualatex)
>> ~/TeX/luatex/test$ lualatex test
>> This is LuaTeX, Version 1.07.0 (TeX Live 2018)
>> restricted system commands enabled.
>> (./test.tex
>> LaTeX2e <2017-04-15>
>> ...
>>
>> (/opt/texlive2018/texmf-dist/tex/latex/booktabs/booktabs.sty) (./test.aux)error
>> loading module 'luasql.sqlite3' from file './luasql/sqlite3.so':
>>       dlopen(./luasql/sqlite3.so, 6): Symbol not found: _luaL_argerror
>>  Referenced from: ./luasql/sqlite3.so
>>  Expected in: flat namespace
>> in ./luasql/sqlite3.so
>> stack traceback:
>>       [C]: in ?
>>       [C]: in function 'cpath specification'
>>       ...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:291: in function '
>> ?'
>>       ...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:318: in function <
>> ...ve2018/texmf-dist/tex/luatex/lualibs/lualibs-package.lua:310>
>>       [C]: in function 'require'
>>       [\directlua]:4: in main chunk.
>> ...
>>
>>
>> where test.tex is:
>>
>> ---------------------------
>> \documentclass{article}
>> \usepackage{luacode,booktabs}
>> \begin{document}
>> \begin{luacode*}
>>
>>
>>
>> luasql = require("luasql.sqlite3")
>>
>> env = assert (luasql.sqlite3())
>> -- connect to data source
>> con = assert (env:connect("luasql-test"))
>> -- retrieve a cursor
>> cur = assert (con:execute"SELECT name, email from people")
>> -- print all rows, the rows will be indexed by field names
>> row = cur:fetch ({}, "a")
>> tex.sprint([[\begin{tabular}{@{}ll@{}}\toprule]])
>> tex.sprint([[Name & email \\\midrule]])
>> while row do
>>  tex.sprint(-2,row.name)
>>  tex.sprint("&")
>>  tex.sprint(-2, row.email)
>>  tex.sprint("\\\\")
>>  -- reusing the table of results
>>  row = cur:fetch (row, "a")
>> end
>> tex.sprint([[\bottomrule\end{tabular}]])
>> -- close everything
>> cur:close()
>> con:close()
>> env:close()
>> \end{luacode*}
>> \end{document}
>> ---------------------------
>>
>> and sqlite3.so is from homebrew (put online at https://download.speedata.de/private/sqlite3.so)
>>
>>
>>
>> Patrick
>>
>>
>>
>>> Hi all,
>>>
>>> I've tried to link an external library to LuaTeX, but this gives an error. This problem is an old problem described here:
>>>
>>> http://tracker.luatex.org/view.php?id=555
>>>
>>> I quote from the page:
>>>
>>> ------------------------------------
>>> When building LuaTeX without --nostrip (which is the current default behaviour), loading external libraries is a game of luck. For example the sqlite3 bindings from http://luaforge.net/projects/luasqlite/ [^] create a library on OS X that require the symbol _luaL_argerror to be defined in the LuaTeX binary:
>>>
>>> error loading module 'lsqlite3' from file './lsqlite3.so':
>>>   dlopen(./lsqlite3.so, 2): Symbol not found: _luaL_argerror
>>> Referenced from: /Users/patrick/Downloads/lsqlite3-7/lsqlite3.so
>>> Expected in: flat namespace
>>> in /Users/patrick/Downloads/lsqlite3-7/lsqlite3.so
>>>
>>> Building LuaTeX with --nostrip solves this issue.
>>>
>>> By having "--strip" the default in build.sh, it is not possible for any user (on OS X, perhaps also on other platforms) to use this (and other) external library without downloading the LuaTeX source, download XCode, compile LuaTeX and put LuaTeX in the correct place.
>>> ------------------------------------
>>>
>>> Patrick
>>>
>>> (who is not subscribed to the tex-live list)
>
>
>
>
>


From patrick at gundla.ch  Mon Mar 26 14:26:48 2018
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon, 26 Mar 2018 14:26:48 +0200
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
 <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
 <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>
Message-ID: <E933D225-6F6A-4EA7-AE29-428FF23366D7@gundla.ch>


> Since you are in the testing mode right now: can you please do me a
> favour and test the luatex binary from x86_64-darwinlegacy to confirm
> whether that one works as expected?

yes, the darwinlegacy package is perfect! 

I am running the latest macOS version (High Sierra, 10.13.3)

Patrick



From mojca.miklavec.lists at gmail.com  Mon Mar 26 14:34:26 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 26 Mar 2018 14:34:26 +0200
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <E933D225-6F6A-4EA7-AE29-428FF23366D7@gundla.ch>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
 <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
 <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>
 <E933D225-6F6A-4EA7-AE29-428FF23366D7@gundla.ch>
Message-ID: <CALBOmsYPmrj7bwzTUEtS-F9KdNBuf3NVvkLQLC1_6h=u7xzn=w@mail.gmail.com>

On 26 March 2018 at 14:26, Patrick Gundlach wrote:
>
>> Since you are in the testing mode right now: can you please do me a
>> favour and test the luatex binary from x86_64-darwinlegacy to confirm
>> whether that one works as expected?
>
> yes, the darwinlegacy package is perfect!

Thanks for confirmation.

In the short term it's probably easiest if Dick defines STRIP and
uploads new binaries. In the (not so) long term the sources should be
fixed.

Mojca

From koch at uoregon.edu  Mon Mar 26 15:57:07 2018
From: koch at uoregon.edu (Richard Koch)
Date: Mon, 26 Mar 2018 06:57:07 -0700
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <CALBOmsYPmrj7bwzTUEtS-F9KdNBuf3NVvkLQLC1_6h=u7xzn=w@mail.gmail.com>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
 <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
 <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>
 <E933D225-6F6A-4EA7-AE29-428FF23366D7@gundla.ch>
 <CALBOmsYPmrj7bwzTUEtS-F9KdNBuf3NVvkLQLC1_6h=u7xzn=w@mail.gmail.com>
Message-ID: <4EE412C8-B3D0-49E4-8F73-32FC2ADFA2C0@uoregon.edu>

Mojca,

The bad news is that I DO use 

	export STRIP="strip -u -r"

when I compile the MacTeX binaries. 

These binaries are then uploaded by Karl to svn, and later used to construct both BasicTeX
and MacTeX.

Dick Koch



> On Mar 26, 2018, at 5:34 AM, Mojca Miklavec <mojca.miklavec.lists at gmail.com> wrote:
> 
> On 26 March 2018 at 14:26, Patrick Gundlach wrote:
>> 
>>> Since you are in the testing mode right now: can you please do me a
>>> favour and test the luatex binary from x86_64-darwinlegacy to confirm
>>> whether that one works as expected?
>> 
>> yes, the darwinlegacy package is perfect!
> 
> Thanks for confirmation.
> 
> In the short term it's probably easiest if Dick defines STRIP and
> uploads new binaries. In the (not so) long term the sources should be
> fixed.
> 
> Mojca



From preining at logic.at  Tue Mar 27 01:52:00 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 27 Mar 2018 08:52:00 +0900
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <20180325155647.6ba7e755@aloksar.localdomain>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180325155647.6ba7e755@aloksar.localdomain>
Message-ID: <20180326235200.GB14601@bulldog.preining.info>

> In conclusion, something is wrong within the current xindy binaries at
> trunk/Master/bin/x86_64-linux that were commited in -r47020.

I'll rebuild xindy ASAP. Sorry for the broken commit.


Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From patrick at gundla.ch  Tue Mar 27 09:13:35 2018
From: patrick at gundla.ch (Patrick Gundlach)
Date: Tue, 27 Mar 2018 09:13:35 +0200
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <4EE412C8-B3D0-49E4-8F73-32FC2ADFA2C0@uoregon.edu>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
 <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
 <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>
 <E933D225-6F6A-4EA7-AE29-428FF23366D7@gundla.ch>
 <CALBOmsYPmrj7bwzTUEtS-F9KdNBuf3NVvkLQLC1_6h=u7xzn=w@mail.gmail.com>
 <4EE412C8-B3D0-49E4-8F73-32FC2ADFA2C0@uoregon.edu>
Message-ID: <26A6F904-0D32-44DB-90FC-6E75E2F438C4@gundla.ch>

> The bad news is that I DO use 
> 
> 	export STRIP="strip -u -r"
> 
> when I compile the MacTeX binaries. 
> 
> These binaries are then uploaded by Karl to svn, and later used to construct both BasicTeX
> and MacTeX.


so what can we do now?

Patrick




From tex at lukasczyk.me  Tue Mar 27 13:03:31 2018
From: tex at lukasczyk.me (Stephan Lukasczyk)
Date: Tue, 27 Mar 2018 13:03:31 +0200
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
Message-ID: <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>

Hi,
On 2018-03-25 10:11:51, Paul Gaborit wrote:
>But, since 2 ou 3 days (with TeX Live 2018 pretest), after a first 
>compilation by 'pdflatex', 'makeglossaries' can't run 'xindy':
>
>$  makeglossaries xindy-test
>makeglossaries version 4.36 (2018-03-07)
>added glossary type 'main' (glg,gls,glo)
>xindy  -L english  -I xindy -M "xindy-test" -t "xindy-test.glg" -o 
>"xindy-test.gls" "xindy-test.glo"
>/usr/local/texlive/2018/bin/x86_64-linux/xindy.run: 
>/usr/local/texlive/2018/bin/x86_64-linux/base/lisp.run: No such file 
>or directory
>
>***Call to xindy failed***
>
>Check 'xindy-test.glg' for details

The update of xindy to r47142 fixes the issue for me on Linux x86-64.

Thanks for providing new binaries!

Best,
  Stephan

-- 
Stephan Lukasczyk
GPG-Key: 0x06E03C26B90F403D
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180327/e2297022/attachment.sig>

From preining at logic.at  Tue Mar 27 16:22:18 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 27 Mar 2018 23:22:18 +0900
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
Message-ID: <20180327142218.GA7670@burischnitzel.preining.info>

> The update of xindy to r47142 fixes the issue for me on Linux x86-64.

There will be an update tomorrow with a build based on new clisp,
hopefully this time without a bump.

Please test tomorrow's xindy, too. Thanks.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From richardmoncriefkoch at icloud.com  Tue Mar 27 21:02:59 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Tue, 27 Mar 2018 12:02:59 -0700
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
Message-ID: <D5D3BEAB-14FB-4C3A-9A35-B8E4CA4B2C9B@icloud.com>

Patrick and Mojca,

Let's confirm that I'm compiling in the correct way. I don't retype commands; instead I have a script and copy lines from this script. Thus I can explain exactly how I build TeX Live:

	cd 
	cd texlive2018dev/source 
	STRIP="strip -u -r" .
	/Build --enable-xindy CLISP=/Users/koch/clisp/clisp-build/clisp 

If this what you expect should work, or not quite right?

Dick Koch



From koch at uoregon.edu  Wed Mar 28 01:17:10 2018
From: koch at uoregon.edu (Richard Koch)
Date: Tue, 27 Mar 2018 16:17:10 -0700
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
Message-ID: <939C6158-1117-4FEE-9E1B-8D5A9A4802EE@uoregon.edu>

Patrick,

I need a complete example to test lua on TeXLive-2018. I recovered your example file "test.tex" from an earlier item in this chain. It requires "luasql.sqlite3" so I downloaded sqlite3.so and put it in a subdirectory
luasql inside the folder with test.tex. After that, the example typesets until it reports

	LuaSQL: no such table: people 

Indeed, here is the current full log:

This is LuaTeX, Version 1.07.0 (TeX Live 2018) 
 restricted system commands enabled.
(./test.tex
LaTeX2e <2017-04-15>
(using write cache: /Users/koch/Library/texlive/2018/texmf-var/luatex-cache/gen
eric)(using read cache: /usr/local/texlive/2018/texmf-var/luatex-cache/generic 
/Users/koch/Library/texlive/2018/texmf-var/luatex-cache/generic)
luaotfload | main : initialization completed in 0.111 seconds
Babel <3.18> and hyphenation patterns for 1 language(s) loaded.
(/usr/local/texlive/2018/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2018/texmf-dist/tex/latex/base/size10.clo(load luc: /Users/
koch/Library/texlive/2018/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-re
gular.luc)))
(/usr/local/texlive/2018/texmf-dist/tex/lualatex/luacode/luacode.sty
(/usr/local/texlive/2018/texmf-dist/tex/generic/oberdiek/ifluatex.sty)
(/usr/local/texlive/2018/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
(/usr/local/texlive/2018/texmf-dist/tex/luatex/ctablestack/ctablestack.sty)))
(/usr/local/texlive/2018/texmf-dist/tex/latex/booktabs/booktabs.sty)
(./test.aux)[\directlua]:10: LuaSQL: no such table: people
stack traceback:
	[C]: in function 'assert'
	[\directlua]:10: in main chunk.
\luacode at dbg@exec ...code at maybe@printdbg {#1} #1 }
                                                  
l.34 \end{luacode*}

                  
? 
Process aborted


Can you get me from here to a complete example that should work if luatex is working
correctly?

Dick Koch

From koch at uoregon.edu  Wed Mar 28 01:50:58 2018
From: koch at uoregon.edu (Richard Koch)
Date: Tue, 27 Mar 2018 16:50:58 -0700
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
Message-ID: <636CA7A6-3D2C-432C-A086-72747B752081@uoregon.edu>

I found an example from last year due to Patrick. Unfortunately, this requires me to compile a library on a machine with homebrew and extra lua libraries. Last year, Patrick actually provided the library to us for free:

	"(the lib.so is available at 
http://download.speedata.de/private/lib.so
 with a MD5 of 9ce2444145108511b2f678b4d22bd777)
*

but this no longer exists. 

Maybe Patrick could make it exist again.

Dick Koch

From richardmoncriefkoch at icloud.com  Wed Mar 28 23:21:06 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Wed, 28 Mar 2018 14:21:06 -0700
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
Message-ID: <390B4A62-02BE-434C-B46E-15A667CDFDFE@icloud.com>

Folks,

I tried my best to make other people do my work for me. But no takers.

So just now, I did a careful search of the computer used last year to construct MacTeX-2017 and found the example of lualatex calling a library lib.so and getting a string "Hello world."

Last year's example runs correctly on the lualatex in my TeX Live 2018. But that is not a surprise because I compiled TeX Live again yesterday using the command

	extern STRIP="strip -u -r" 
	./Build --enable-xindy CLISP=/Users/koch/clisp/clisp-build/clisp 

Moreover, I looked carefully at the build instructions used to make MacTeX-2017, and the word "extern" is there.
But somehow this word didn't make it to MacTeX-2018. It is missing in several different places. I'll fix this before bed.

------------------

 None of this has been contributed to Karl, but immediately after writing this note, I'll do that. Therefore, if we are lucky, tomorrow's update for the Mac will update luatex and fix this bug. If we are not lucky, that will happen on Friday.

Thanks to Mojca and Patrick for pushing.

Dick Koch

From richardmoncriefkoch at icloud.com  Wed Mar 28 23:24:38 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Wed, 28 Mar 2018 14:24:38 -0700
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
Message-ID: <548C5D3A-14DE-43F1-9381-C54D862B8AE2@icloud.com>

In the previous message, "extern" should, of course, be "export". The evil Gods are standing over my shoulder, and they saw one last chance.

Dick

From paul.gaborit at gmail.com  Thu Mar 29 17:15:46 2018
From: paul.gaborit at gmail.com (Paul Gaborit)
Date: Thu, 29 Mar 2018 17:15:46 +0200
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <20180327142218.GA7670@burischnitzel.preining.info>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
 <20180327142218.GA7670@burischnitzel.preining.info>
Message-ID: <17bb11e5-642e-f618-e07d-d5997cdb11e0@gmail.com>

Le 27/03/2018 ? 16:22, Norbert Preining a ?crit?:
>> The update of xindy to r47142 fixes the issue for me on Linux x86-64.
> 
> There will be an update tomorrow with a build based on new clisp,
> hopefully this time without a bump.
> 
> Please test tomorrow's xindy, too. Thanks.

Here, the new version of xindy is ok (r47145, x86_64-linux).

Thanks.

-- 
	Paul Gaborit


From tex at lukasczyk.me  Thu Mar 29 17:26:14 2018
From: tex at lukasczyk.me (Stephan Lukasczyk)
Date: Thu, 29 Mar 2018 17:26:14 +0200
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <17bb11e5-642e-f618-e07d-d5997cdb11e0@gmail.com>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
 <20180327142218.GA7670@burischnitzel.preining.info>
 <17bb11e5-642e-f618-e07d-d5997cdb11e0@gmail.com>
Message-ID: <20180329152614.rlwxohtxn34dbgwr@alpspitze.lukasczyk.me>

On 2018-03-29 17:15:46, Paul Gaborit wrote:
>Le 27/03/2018 ? 16:22, Norbert Preining a ?crit?:
>>Please test tomorrow's xindy, too. Thanks.
>
>Here, the new version of xindy is ok (r47145, x86_64-linux).

The same for me, thank you very much, for your efford!

-- 
Stephan Lukasczyk
GPG-Key: 0x06E03C26B90F403D
Microsoft isn't the answer. Microsoft is the question.
And the answer is "No".
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180329/e7c364e0/attachment.sig>

From jfbu at free.fr  Fri Mar 30 09:33:25 2018
From: jfbu at free.fr (jfbu)
Date: Fri, 30 Mar 2018 09:33:25 +0200
Subject: [tex-live] texdoc palatino
Message-ID: <ED4C1ECD-F221-4080-9A48-14A7847B7C97@free.fr>

Hi,

$ texdoc -l palatino
 1 /usr/local/texlive/2018/texmf-dist/doc/latex/substitutefont/greek-palatino-didot.pdf
Enter number of file to view, RET to view 1, anything else to skip: 

result isn't quite expected. 

I know I should have done texdoc psnfss or texdoc psnfss2e but
people not familiar with this and being handed over a legacy file
using palatino package will have a problem. Assuming they know
texdoc...

Best

Jean-Fran?ois



From jfbu at free.fr  Fri Mar 30 11:16:17 2018
From: jfbu at free.fr (jfbu)
Date: Fri, 30 Mar 2018 11:16:17 +0200
Subject: [tex-live] texdoc palatino
In-Reply-To: <ED4C1ECD-F221-4080-9A48-14A7847B7C97@free.fr>
References: <ED4C1ECD-F221-4080-9A48-14A7847B7C97@free.fr>
Message-ID: <BD32956F-DAE9-427B-8534-709BB11A05C1@free.fr>

Hi

as was suggested to me off-list (with a workaournd using alias in texdoc.cnf)

I have raised the issue at github repo

https://github.com/TeX-Live/texdoc/issues/1

Best

Jean-Fran?ois

Le 30 mars 2018 ? 09:33, jfbu <jfbu at free.fr> a ?crit :

> Hi,
> 
> $ texdoc -l palatino
> 1 /usr/local/texlive/2018/texmf-dist/doc/latex/substitutefont/greek-palatino-didot.pdf
> Enter number of file to view, RET to view 1, anything else to skip: 
> 
> result isn't quite expected. 
> 
> I know I should have done texdoc psnfss or texdoc psnfss2e but
> people not familiar with this and being handed over a legacy file
> using palatino package will have a problem. Assuming they know
> texdoc...
> 
> Best
> 
> Jean-Fran?ois
> 
> 



From tkt.asakura at gmail.com  Fri Mar 30 10:08:43 2018
From: tkt.asakura at gmail.com (=?utf-8?B?5pyd5YCJ5Y2T5Lq6?=)
Date: Fri, 30 Mar 2018 17:08:43 +0900
Subject: [tex-live] texdoc palatino
In-Reply-To: <ED4C1ECD-F221-4080-9A48-14A7847B7C97@free.fr>
References: <ED4C1ECD-F221-4080-9A48-14A7847B7C97@free.fr>
Message-ID: <3FE62AE5-4A09-4F23-814E-474A49AB2885@gmail.com>


Hello Jean-Fran?ois,

the easiest way to fix that behavior is to use alias.
In concrete, please write

> alias palatino = psnfss2e

on your texdoc.cnf (you can get recommended file location with `texdoc -f`).

This can be done in personal texdoc.cnf by each end-user, of course,
but if it seems really important we can provide the alias in the
official texdoc.cnf.

In that case, could you please report that on texdoc mailing list or
create an issue on TeX-Live/tecdoc repository on GitHub?

- http://tug.org/mailman/listinfo/texdoc <http://tug.org/mailman/listinfo/texdoc>
- https://github.com/TeX-Live/texdoc <https://github.com/TeX-Live/texdoc>

Thanks,
Takuto Asakura

> 2018/03/30 16:33?jfbu <jfbu at free.fr>????:
> 
> Hi,
> 
> $ texdoc -l palatino
> 1 /usr/local/texlive/2018/texmf-dist/doc/latex/substitutefont/greek-palatino-didot.pdf
> Enter number of file to view, RET to view 1, anything else to skip: 
> 
> result isn't quite expected. 
> 
> I know I should have done texdoc psnfss or texdoc psnfss2e but
> people not familiar with this and being handed over a legacy file
> using palatino package will have a problem. Assuming they know
> texdoc...
> 
> Best
> 
> Jean-Fran?ois
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180330/e9d43856/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Fri Mar 30 18:43:20 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Fri, 30 Mar 2018 17:43:20 +0100
Subject: [tex-live] Query : prevent XeTeX from trying to create any
	font-related files
Message-ID: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180330/73d16338/attachment.html>

From jfkthame at gmail.com  Fri Mar 30 19:34:28 2018
From: jfkthame at gmail.com (Jonathan Kew)
Date: Fri, 30 Mar 2018 18:34:28 +0100
Subject: [tex-live] Query : prevent XeTeX from trying to create any
 font-related files
In-Reply-To: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
References: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
Message-ID: <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>

On 30/03/2018 17:43, Philip Taylor (RHUoL) wrote:

>> kpathsea: Running mktextfm Optima
>>
>>
>> The command name is C:\Users\Public\TeX\Live\2018\bin\win32\mktextfm
>>
>> kpathsea: Appending font creation commands to missfont.log.
>>
> Now it is completely unclear to me why XeTeX is trying to create 
> TFM/MF/whatever files at all, since all fonts are referenced using the 
> quoted-string syntax that indicate to XeTeX that these are system 
> (Truetype/Opentype) fonts, not TeX fonts with associated TFM/MF/whatever 
> files.

IIRC (it's been a long time) quoting the name is not an absolute switch; 
it's treated as a hint to look first for a system font by that name, and 
only fall back to trying it as a TFM name if not found.

>? However, I am less concerned with /why/ it is trying to create 
> these files than I am in simply inhibiting the behaviour.? May I 
> therefore ask the /cognoscenti /how I can prevent XeTeX from trying to 
> create any font-related files at all ?

I haven't tried it, but my impression is that setting

MKTEXTFM = 0

in texmf.cnf (or maybe as an environment variable? not sure...) should 
disable the attempt to automatically create missing TFMs, which is what 
is happening here.

JK

From P.Taylor at Rhul.Ac.Uk  Fri Mar 30 19:57:16 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Fri, 30 Mar 2018 18:57:16 +0100
Subject: [tex-live] Query : prevent XeTeX from trying to create any
 font-related files
In-Reply-To: <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>
References: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
 <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>
Message-ID: <0f5a77cc-fd25-e209-a1dd-2c4f93d2b199@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180330/57bb8e13/attachment-0001.html>

From zdenek.wagner at gmail.com  Fri Mar 30 20:48:19 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 30 Mar 2018 20:48:19 +0200
Subject: [tex-live] Query : prevent XeTeX from trying to create any
 font-related files
In-Reply-To: <0f5a77cc-fd25-e209-a1dd-2c4f93d2b199@Rhul.Ac.Uk>
References: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
 <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>
 <0f5a77cc-fd25-e209-a1dd-2c4f93d2b199@Rhul.Ac.Uk>
Message-ID: <CAC1phyZTqh-TmrcdgC8xSd_1wjY_rurRncXZPyShfYWO7B27QQ@mail.gmail.com>

2018-03-30 19:57 GMT+02:00 Philip Taylor (RHUoL) <P.Taylor at rhul.ac.uk>:

>
>
> Jonathan Kew wrote:
>
>
> IIRC (it's been a long time) quoting the name is not an absolute switch;
> it's treated as a hint to look first for a system font by that name, and
> only fall back to trying it as a TFM name if not found.
>
> Ah, had not realised that ...
>
> I haven't tried it, but my impression is that setting
>
> MKTEXTFM = 0
>
> in texmf.cnf (or maybe as an environment variable? not sure...) should
> disable the attempt to automatically create missing TFMs, which is what is
> happening here.
>
> OK, many thanks, will try that.  In the meantime I tried "XeTeX --help"
> and found amongst the output the following :
>
> [-no]-mktex=FMT         disable/enable mktexFMT generation (FMT=tex/tfm)
>
>
> so that may be an alternative, and one which I can implement in TeXworks
> configuration interface (always easier than trying to work out exactly *which
> *version of "texmf.cnf" I should edit !).  Unfortunately my colleague has
> logged back in in the meantime, so I will need to wait a while to test.
>

You can try on your own computer, just make a tiny test file which requests
o nonsense font which is not available in your system.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180330/130a6a52/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Fri Mar 30 20:57:13 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Fri, 30 Mar 2018 19:57:13 +0100
Subject: [tex-live] Query : prevent XeTeX from trying to create any
 font-related files
In-Reply-To: <CAC1phyZTqh-TmrcdgC8xSd_1wjY_rurRncXZPyShfYWO7B27QQ@mail.gmail.com>
References: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
 <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>
 <0f5a77cc-fd25-e209-a1dd-2c4f93d2b199@Rhul.Ac.Uk>
 <CAC1phyZTqh-TmrcdgC8xSd_1wjY_rurRncXZPyShfYWO7B27QQ@mail.gmail.com>
Message-ID: <e9eddcde-51c6-52da-50be-e5649f46e103@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180330/20962bd5/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Fri Mar 30 21:15:37 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Fri, 30 Mar 2018 20:15:37 +0100
Subject: [tex-live] Query : prevent XeTeX from trying to create any
 font-related files
In-Reply-To: <e9eddcde-51c6-52da-50be-e5649f46e103@Rhul.Ac.Uk>
References: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
 <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>
 <0f5a77cc-fd25-e209-a1dd-2c4f93d2b199@Rhul.Ac.Uk>
 <CAC1phyZTqh-TmrcdgC8xSd_1wjY_rurRncXZPyShfYWO7B27QQ@mail.gmail.com>
 <e9eddcde-51c6-52da-50be-e5649f46e103@Rhul.Ac.Uk>
Message-ID: <ab3e50ac-69b9-1aff-7f21-6f22c43a7dfa@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180330/b060e35e/attachment-0001.html>

From news3 at nililand.de  Fri Mar 30 21:19:14 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 30 Mar 2018 21:19:14 +0200
Subject: [tex-live] Query : prevent XeTeX from trying to create any
	font-related files
References: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
 <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>
 <0f5a77cc-fd25-e209-a1dd-2c4f93d2b199@Rhul.Ac.Uk>
 <CAC1phyZTqh-TmrcdgC8xSd_1wjY_rurRncXZPyShfYWO7B27QQ@mail.gmail.com>
 <e9eddcde-51c6-52da-50be-e5649f46e103@Rhul.Ac.Uk>
Message-ID: <10imkay3c965z.dlg@nililand.de>

Am Fri, 30 Mar 2018 19:57:13 +0100 schrieb Philip Taylor (RHUoL):

> Unfortunately adding "-no-mktex=tfm" and 
> "-no-mktex=tex" did not help :

--no-mktex=tfm works for me. 

mktextfm is not called.

> 2" not loadable: Metric (TFM) file or installed font not found.
 
Well naturally you still get an error. If a font is not found what
else should xetex do?


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From P.Taylor at Rhul.Ac.Uk  Fri Mar 30 21:26:08 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Fri, 30 Mar 2018 20:26:08 +0100
Subject: [tex-live] Query : prevent XeTeX from trying to create any
 font-related files
In-Reply-To: <10imkay3c965z.dlg@nililand.de>
References: <b6a49b4d-167b-e8d1-f7ec-1b700be948a7@Rhul.Ac.Uk>
 <609edcb3-b0c7-7969-e25c-a538fde0a29b@gmail.com>
 <0f5a77cc-fd25-e209-a1dd-2c4f93d2b199@Rhul.Ac.Uk>
 <CAC1phyZTqh-TmrcdgC8xSd_1wjY_rurRncXZPyShfYWO7B27QQ@mail.gmail.com>
 <e9eddcde-51c6-52da-50be-e5649f46e103@Rhul.Ac.Uk>
 <10imkay3c965z.dlg@nililand.de>
Message-ID: <70172713-7c2b-bfb0-c66b-30c40e7ab3d8@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180330/5c42b486/attachment.html>

From karl at freefriends.org  Fri Mar 30 23:07:13 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 30 Mar 2018 21:07:13 GMT
Subject: [tex-live] Query : prevent XeTeX from trying to create any
 font-related files
In-Reply-To: <CAC1phyZTqh-TmrcdgC8xSd_1wjY_rurRncXZPyShfYWO7B27QQ@mail.gmail.com>
Message-ID: <201803302107.w2UL7DOh004630@freefriends.org>

FWIW, pretty much everything in texmf.cnf can be overridden by envvars
of the same name.  In Bourne syntax:

MKTEXTFM=0; export MKTEXTFM
MKTEXPK=0; export MKTEXPK
MKTEXMF=0; export MKTEXMF
MKTEXFMT=0; export MKTEXFMT

(As I recall, nothing enables the other MKTEX* by default.)

From beebe at math.utah.edu  Sat Mar 31 01:14:04 2018
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 30 Mar 2018 17:14:04 -0600
Subject: [tex-live]  libicu, again ...
Message-ID: <CMM.0.95.0.1522451644.beebe@gamma.math.utah.edu>

The Unicode consortium has just announced a new version of the ICU
library:

>> ...
>> ICU LogoUnicode ICU 61 has just been released. This version upgrades to
>> CLDR 33 <http://cldr.unicode.org/index/downloads/cldr-33>, has a new
>> Java implementation for number and currency parsing, and includes many
>> small API additions, improvements, and bug fixes.
>> 
>> ICU is a software library widely used by products and other libraries
>> <http://site.icu-project.org/#TOC-Who-Uses-ICU-> to support the world's
>> languages, implementing both the latest version of the Unicode encoding
>> standard and of the Unicode locale data (CLDR).
>> 
>> For details please see http://site.icu-project.org/download/61
>> 
>> http://blog.unicode.org/2018/03/icu-61-released.html
>> ...

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From kakuto at fuk.kindai.ac.jp  Sat Mar 31 05:31:48 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 31 Mar 2018 12:31:48 +0900
Subject: [tex-live] libicu, again ...
In-Reply-To: <CMM.0.95.0.1522451644.beebe@gamma.math.utah.edu>
References: <CMM.0.95.0.1522451644.beebe@gamma.math.utah.edu>
Message-ID: <5F761CDCCAC3433EA057A037C9A3E112@CJ3001517A>

> The Unicode consortium has just announced a new version of the ICU
> library:

Thanks a lot.  Already installed by Karl in r47166.

Best,
Akira


From P.Taylor at Rhul.Ac.Uk  Sat Mar 31 11:03:31 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Sat, 31 Mar 2018 10:03:31 +0100
Subject: [tex-live] Adding a previously unknown language to TeX Live
Message-ID: <929bb47d-ee18-fa2b-e80b-4727f1188c7f@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180331/e31c80cf/attachment-0001.html>

From sam at octech.com.au  Sat Mar 31 06:30:31 2018
From: sam at octech.com.au (Sam O'Connor)
Date: Sat, 31 Mar 2018 15:30:31 +1100
Subject: [tex-live] Announce: TeX Live on AWS Lambda
Message-ID: <5DF8CDD3-302E-40A6-BCC1-6F5F05B702DA@octech.com.au>

Hi Tex-Live mailing list,

I?m not sure if this is the right place to post this.

My client has a web application that uses LaTeX to produce .PDF documents on-demand.
We?re using AWS Lambda https://aws.amazon.com/lambda <https://aws.amazon.com/lambda> to host the PDF generation code so that we can scale to an arbitrary number of simultaneous users without having to manage servers.
 
The main problem to overcome is that AWS Lambda is restricted to a 50MB .ZIP deployment archive, so a normal TeX Live installation won?t fit.

To solve this problem I?ve built a Dockerfile that:
 - installs a minimal subset of TeX Live,
 - installs a configurable list of required packages,
 - deletes unneeded large files (e.g. doc pdfs) and
 - creates a .ZIP archive suitable for deployment to AWS Lambda.

The result is an AWS Lambda function that takes a base64 encoded .ZIP file containing .tex files (and images etc) and returns a base64 encoded .PDF file.

The Dockerfile and AWS Lambda deployment scripts are available here: https://github.com/samoconnor/lambdalatex

I hope it is useful to someone!

Cheers,

Sam O'Connor

OC Technology Pty Ltd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180331/460a6a6e/attachment.html>

From preining at logic.at  Sat Mar 31 16:05:12 2018
From: preining at logic.at (Norbert Preining)
Date: Sat, 31 Mar 2018 23:05:12 +0900
Subject: [tex-live] Adding a previously unknown language to TeX Live
In-Reply-To: <929bb47d-ee18-fa2b-e80b-4727f1188c7f@Rhul.Ac.Uk>
References: <929bb47d-ee18-fa2b-e80b-4727f1188c7f@Rhul.Ac.Uk>
Message-ID: <20180331140512.GC17741@burischnitzel.preining.info>

Hi Philip,

(I finally found the explanation:
  Rhuol, a. roaring, loquacious
from the Welsh dictionary)

>    I have copied my S:\TeX\Live\TeXMF\Local\* to his

If thi sis what is used as TEXMFLOCAL, then that would be a good idea.

>    "tlmgr generate --rebuild-sys language" on his system (as I did on mine), 

That should do what it says, if it finds language-local.dat/def/dat.lua.
Are these files available in your TEXMFLOCAL/tex/generic/config/ ?

>    "Update filename database" and (b) "Rebuild all formats" (to the best

Could simply use
  mktexlsr
  fmtutil-sys --all

That should do the trick.

>     1. Is there a document that describes the necessary and sufficient
>        steps to add a previously unknown language to TeX Live ?

Yes, tlmgr help, or man tlmgr, or any of the web pages that gives the
same, under "generate".

>     2. Is anyone able to see from the above why Hebrew is now known to my
>        system but not to his ?

No, because we cannot see the output of tlmgr generate and which files
are at the end actually loaded.

There might be language.dat/def/dat.lua files hanging around in some bad
places hiding the ones generated.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Sat Mar 31 16:13:41 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 31 Mar 2018 15:13:41 +0100
Subject: [tex-live] Adding a previously unknown language to TeX Live
In-Reply-To: <20180331140512.GC17741@burischnitzel.preining.info>
References: <929bb47d-ee18-fa2b-e80b-4727f1188c7f@Rhul.Ac.Uk>
 <20180331140512.GC17741@burischnitzel.preining.info>
Message-ID: <9b7dbd06-3969-e7b8-9fe0-803177d2529c@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180331/259f306f/attachment.html>

From preining at logic.at  Sat Mar 31 17:08:33 2018
From: preining at logic.at (Norbert Preining)
Date: Sun, 1 Apr 2018 00:08:33 +0900
Subject: [tex-live] Adding a previously unknown language to TeX Live
In-Reply-To: <9b7dbd06-3969-e7b8-9fe0-803177d2529c@Rhul.Ac.Uk>
References: <929bb47d-ee18-fa2b-e80b-4727f1188c7f@Rhul.Ac.Uk>
 <20180331140512.GC17741@burischnitzel.preining.info>
 <9b7dbd06-3969-e7b8-9fe0-803177d2529c@Rhul.Ac.Uk>
Message-ID: <20180331150833.GD17741@burischnitzel.preining.info>

Hi,

>    scant guidance on adding a new one.  Anyhow, I am also looking at the
>    distribution versions of  "language.def" and "language.dat", so I may
>    be able to glean enough from there.  I have a virgin TL 2018 pre-test

Well, I faintly remember that I documented the formats somewhere, but
cannot remember now where ;-) Comes from too much good Japanese whiskey.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mojca.miklavec.lists at gmail.com  Sat Mar 31 22:24:21 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 31 Mar 2018 22:24:21 +0200
Subject: [tex-live] Auto-removal of packages
Message-ID: <CALBOmsZG7FpMUSSxfYLYHgdr_m1WS=SH9REckPNuxyj-asHQ4w@mail.gmail.com>

Dear Norbert,

Is this expected behaviour of tlmgr?

> tlmgr install xetex
tlmgr: package repository http://ctan.ijs.si/mirror/tlpretest
[1/6, ??:??/??:??] install: babel [136k]
[2/6, 00:01/00:53] install: latex [161k]
[3/6, 00:01/00:24] install: latex-fonts [18k]
[4/6, 00:01/00:23] install: xetex.x86_64-darwin [6949k]
[5/6, 00:03/00:03] install: xetex [7k]
[6/6, 00:03/00:03] install: xetexconfig [1k]

> tlmgr install context
tlmgr: package repository http://ctan.ijs.si/mirror/tlpretest
[1/2, ??:??/??:??] install: context.x86_64-darwin [1k]
[2/2, 00:00/00:00] install: context [7643k]

> tlmgr remove context
tlmgr: saving backups to /opt/tl/2018/tlpkg/backups
[1/7, ??:??/??:??] remove: babel
[2/7, 00:01/00:27] remove: context
[3/7, 00:23/00:33] remove: context.x86_64-darwin
[4/7, 00:23/00:33] remove: latex
[5/7, 00:24/00:34] remove: latex-fonts
[6/7, 00:24/00:33] remove: xetex
[7/7, 00:24/00:33] remove: xetex.x86_64-darwin
[8/7, 00:34/00:34] remove: xetexconfig
tlmgr: ultimately removed these packages: babel context
context.x86_64-darwin latex latex-fonts xetex xetex.x86_64-darwin
xetexconfig

Mojca

