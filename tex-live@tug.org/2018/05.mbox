From werner at suse.de  Wed May  2 10:30:21 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 2 May 2018 10:30:21 +0200
Subject: [tex-live] [xetex:bugs] #151 Segfault with 1/2/4-bit
 transparent indexed PNGs
In-Reply-To: </p/xetex/bugs/151/6f81dbfeb24df0e5797c0148cc7d651edf5b5a63.bugs@xetex.p.sourceforge.net>
References: <5ae26b089d8bdd75073c1ca5.bugs@xetex.p.sourceforge.net>
 </p/xetex/bugs/151/6f81dbfeb24df0e5797c0148cc7d651edf5b5a63.bugs@xetex.p.sourceforge.net>
Message-ID: <20180502083021.evifw3rgysgrhsx5@boole.suse.de>

This one seems to be missed in texlive-20180414-source.tar.xz

On Mon, Apr 30, 2018 at 03:36:14AM +0000, Akira Kakuto wrote:
> Applied the patch by Stefan for dvipdfm-x in TeX Live SVN: r47469.
> 
> 
> ---
> 
> ** [bugs:#151] Segfault with 1/2/4-bit transparent indexed PNGs **
> 
> **Status:** open
> **Group:** Future
> **Created:** Fri Apr 27, 2018 12:12 AM UTC by Anonymous
> **Last Updated:** Fri Apr 27, 2018 12:53 PM UTC
> **Owner:** nobody
> 
> 
> The code in pngimage.c, create_soft_mask(...) assumes the data stream containing the palette index bytes is 8 bits-per-color (-index).
> ~~~
>   for (i = 0; i < width*height; i++) {
>     png_byte idx = image_data_ptr[i];
>     smask_data_ptr[i] = (idx < num_trans) ? trans[idx] : 0xff;
>   }
> ~~~
> 
> This accesses the wrong data, the block should read
> ~~~
> png_byte mask = 0xff >> (8 - bpc);
> for (i = 0; i < width*height; i++) {
>     /* data is packed for 1/2/4 bpc formats, msb first */
>     png_byte idx = (image_data_ptr[bpc * i / 8] >> (3 - bpc * i % 8)) & mask;
>     smask_data_ptr[i] = (idx < num_trans) ? trans[idx] : 0xff;
> }
> ~~~

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 880 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180502/e871d1df/attachment.sig>

From d.p.carlisle at gmail.com  Wed May  2 10:58:34 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 2 May 2018 09:58:34 +0100
Subject: [tex-live] chngcntr
Message-ID: <CAEW6iOisLdEHs-fh8nizrTNy2SVjEgW66j2tEadhg=d-QOs6mQ@mail.gmail.com>

Hi, I realise there's a lot of updates to process but a question just
got asked on stackexchange so I'll ask just in case it got missed

chngcntr was updated (on 2018-04-11) for compatibility with the
2018-04-01 latex release

https://ctan.org/pkg/chngcntr

Could you move it to texlive, thanks,

David

From vivrii at gmail.com  Wed May  2 11:09:44 2018
From: vivrii at gmail.com (Victor Ivrii)
Date: Wed, 2 May 2018 05:09:44 -0400
Subject: [tex-live] TL2018: tlmgr list error
Message-ID: <CADP=ZZrT+H8GPBbrD6nOQCr0F0a6S=JuAQSWLkrGVgQkGu8Nqg@mail.gmail.com>

after this night update I tried (the first time with TL2018)

% tlmgr list

and after the expected output it continued

tlmgr: strange, package cannot be found in remote tlpdb: tlgpg
tlmgr: strange, package cannot be found in remote tlpdb: tlgpg.x86_64-darwin
tlmgr: action info returned an error; continuing.
tlmgr: An error has occurred. See above messages. Exiting.

(I have MacTeX 2018, and I have gig installed)
-- 


Victor Ivrii
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180502/b277bda3/attachment.html>

From preining at logic.at  Wed May  2 11:50:22 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 May 2018 18:50:22 +0900
Subject: [tex-live] [xetex:bugs] #151 Segfault with 1/2/4-bit
 transparent indexed PNGs
In-Reply-To: <20180502083021.evifw3rgysgrhsx5@boole.suse.de>
References: <5ae26b089d8bdd75073c1ca5.bugs@xetex.p.sourceforge.net>
 </p/xetex/bugs/151/6f81dbfeb24df0e5797c0148cc7d651edf5b5a63.bugs@xetex.p.sourceforge.net>
 <20180502083021.evifw3rgysgrhsx5@boole.suse.de>
Message-ID: <20180502095022.GA19870@bulldog.preining.info>

> This one seems to be missed in texlive-20180414-source.tar.xz

Yes, because the sources are what made it into the released TL.

I am collecting patches (cherry-picking) in the tl2018-fixes branch at
https://github.com/TeX-Live/texlive-source/tree/tl2018-fixes

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at fuk.kindai.ac.jp  Wed May  2 11:54:47 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 2 May 2018 18:54:47 +0900
Subject: [tex-live] [xetex:bugs] #151 Segfault with 1/2/4-bit
	transparent indexed PNGs
In-Reply-To: <20180502083021.evifw3rgysgrhsx5@boole.suse.de>
References: <5ae26b089d8bdd75073c1ca5.bugs@xetex.p.sourceforge.net>
 </p/xetex/bugs/151/6f81dbfeb24df0e5797c0148cc7d651edf5b5a63.bugs@xetex.p.sourceforge.net>
 <20180502083021.evifw3rgysgrhsx5@boole.suse.de>
Message-ID: <8A288C5A02C24E5B8A8A427034EE29FE@CJ3001517A>

> This one seems to be missed in texlive-20180414-source.tar.xz

>> Applied the patch by Stefan for dvipdfm-x in TeX Live SVN: r47469.

Please note the date:
r47469 was done on 2018/04/28 after the release of TL2018.

Best,
Akira


From hair-splitter at freemail.hu  Wed May  2 20:22:40 2018
From: hair-splitter at freemail.hu (hair splitter)
Date: Wed, 2 May 2018 20:22:40 +0200 (CEST)
Subject: [tex-live] Latexmk doesn't work with the newest TL 2018
Message-ID: <freemail.20180502202240.68905.1@fmxmldata08.freemail.hu>

I installed the full TeX Live 2018 on 2018/05/02. Unfortunatelly in this system the latexmk doesn't work.
My system: Windows 7 + TeX Live 2018 (2018/05/02).

From joseph.wright at morningstar2.co.uk  Wed May  2 21:29:28 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 2 May 2018 20:29:28 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
Message-ID: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>

Hello all,

I've stumbled across a very odd piece of output from epTeX under certain 
very limited circumstances. This comes up in the context of expl3 
testing, which makes it a bit of a pain.

With TeX Live 2018 pLaTeX the following example gives the expected error 
for the first case, but in the second case I get an additional "\BAD" 
after the error: that's a problem if you are doing log comparisons. With 
the plain TeX e-pTeX I don't see the \BAD.

\def\test#1{\number\numexpr#1\relax}
\message{\test{ 0 + ( 1 + 2 }}
\let\foo\relax
\def\test#1{\number\numexpr#1\foo}
\message{\test{ 0 + ( 1 + 2 }}
\csname stop\endcsname
\bye

However, if I load the development version of expl3, the \BAD appears 
even in the plain TeX example: it first came up when renaming some saved 
primitives that *aren't even present* in epTeX. My guess is therefore 
that there's some hash table issue.

I should add that I've only thus-far seen the issue on Windows: our 
automated tests don't show the issue.

Any advice most welcome!

Joseph

From karl at freefriends.org  Thu May  3 00:04:10 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 2 May 2018 22:04:10 GMT
Subject: [tex-live] chngcntr
In-Reply-To: <CAEW6iOisLdEHs-fh8nizrTNy2SVjEgW66j2tEadhg=d-QOs6mQ@mail.gmail.com>
Message-ID: <201805022204.w42M4AI3023583@freefriends.org>

    https://ctan.org/pkg/chngcntr

Updated for tonight. (I hope to catch up with the backlog by tomorrow.) -k

From P.Taylor at Rhul.Ac.Uk  Thu May  3 00:08:06 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Wed, 2 May 2018 23:08:06 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
Message-ID: <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180502/88bf0189/attachment.html>

From d.p.carlisle at gmail.com  Thu May  3 00:13:16 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 2 May 2018 23:13:16 +0100
Subject: [tex-live] chngcntr
In-Reply-To: <201805022204.w42M4AI3023583@freefriends.org>
References: <CAEW6iOisLdEHs-fh8nizrTNy2SVjEgW66j2tEadhg=d-QOs6mQ@mail.gmail.com>
 <201805022204.w42M4AI3023583@freefriends.org>
Message-ID: <CAEW6iOhZHQ5Z4sgvRAJ=dA64drxD-m1iH3r3roh6D7mZ-bpLww@mail.gmail.com>

thanks

On 2 May 2018 at 23:04, Karl Berry <karl at freefriends.org> wrote:
>     https://ctan.org/pkg/chngcntr
>
> Updated for tonight. (I hope to catch up with the backlog by tomorrow.) -k

From kakuto at fuk.kindai.ac.jp  Thu May  3 00:40:16 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 3 May 2018 07:40:16 +0900
Subject: [tex-live] Latexmk doesn't work with the newest TL 2018
In-Reply-To: <freemail.20180502202240.68905.1@fmxmldata08.freemail.hu>
References: <freemail.20180502202240.68905.1@fmxmldata08.freemail.hu>
Message-ID: <76FFE6C54EE84CBC98BFE000D7B75DE9@CJ3001517A>

> I installed the full TeX Live 2018 on 2018/05/02. Unfortunatelly in this system the latexmk doesn't work.
> My system: Windows 7 + TeX Live 2018 (2018/05/02).

Because the wrapper latexmk.exe first finds a wrong script:
texmf-dist/scripts/make4ht/extensions/latexmk.lua.
It is desirable that the author of make4ht kindly changes the name of latexmk.lua.

Best,
Akira


From karl at freefriends.org  Thu May  3 01:01:44 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 02 May 2018 17:01:44 -0600
Subject: [tex-live] Latexmk doesn't work with the newest TL 2018
In-Reply-To: <76FFE6C54EE84CBC98BFE000D7B75DE9@CJ3001517A>
 (kakuto@fuk.kindai.ac.jp)
Message-ID: <86tvrpvezr.fsf@frenzy.freefriends.org>

    Because the wrapper latexmk.exe first finds a wrong script:
    texmf-dist/scripts/make4ht/extensions/latexmk.lua.

I asked Michal to rename it.

However, in principle our wrapper really should prefer,
for a command named "latexmk",
.../texmf-dist/scripts/latexmk/latexmk.pl
to .../texmf-dist/scripts/make4ht/extensions/latexmk.lua,
since the former is in the "right" directory.

(This is why kpsewhich --subdir was invented (at Heiko's suggestion).) k-

From kakuto at fuk.kindai.ac.jp  Thu May  3 01:30:00 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 3 May 2018 08:30:00 +0900
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
Message-ID: <5DEC2D96C5994A88ADD147850E96A3D8@CJ3001517A>

Dear Joseph,

> I should add that I've only thus-far seen the issue on Windows: our 
> automated tests don't show the issue.

Confirmed. (e)ptex on Windows uses different internal encoding
compared with the other platforms.
I'm asking developers what I should do.

Best,
Akira


From joseph.wright at morningstar2.co.uk  Thu May  3 08:26:15 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 3 May 2018 07:26:15 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
Message-ID: <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>

On 02/05/2018 23:08, Philip Taylor (RHUoL) wrote:
> Using XeTeX, I get a fatal error early on :
> 
>> This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018/W32TeX) 
>> (preloaded format=xetex)
>>
>> restricted \write18 enabled.
>>
>> entering extended mode
>>
>> (./untitled-1.tex
>>
>> ! Missing ) inserted for expression.
>>
>> <to be read again>
>>
>> \relax
>>
>> l.2 \message{\test{ 0 + ( 1 + 2 }
>>
>> }
>>
>> ?
>>
> Philip Taylor

That's the expected outcome: with pTeX there's an extra \BAD.

Joseph



From P.Taylor at Rhul.Ac.Uk  Thu May  3 08:32:08 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Thu, 3 May 2018 07:32:08 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
 <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
Message-ID: <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>



Joseph Wright wrote:
>
> That's the expected outcome: with pTeX there's an extra \BAD.

I don't get one of those here, even if I allow e-pTeX to continue after 
the first error :

This is e-pTeX, Version 3.14159265-p3.8.0-180226-2.6 (utf8.sjis) (TeX 
Live 2018/
W32TeX) (preloaded format=eptex)
 ?restricted \write18 enabled.
entering extended mode
(./untitled-1.tex
! Missing ) inserted for expression.
<to be read again>
 ?????????????????? \relax
l.2 \message{\test{ 0 + ( 1 + 2 }
 ???????????????????????????????? }
?
3
! Missing ) inserted for expression.
<to be read again>
 ?????????????????? \foo
l.5 \message{\test{ 0 + ( 1 + 2 }
 ???????????????????????????????? }
?
3 )
No pages of output.
Transcript written on untitled-1.log.

D:\Users\Philip TAYLOR\Dropbox\Dropbox (Personal)\WBH\Menus\2018\Main>

From joseph.wright at morningstar2.co.uk  Thu May  3 08:38:24 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 3 May 2018 07:38:24 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
 <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
 <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>
Message-ID: <d30da2f5-c934-3744-6659-be05a4dea45e@morningstar2.co.uk>

On 03/05/2018 07:32, Philip Taylor (RHUoL) wrote:
> Joseph Wright wrote:
>>
>> That's the expected outcome: with pTeX there's an extra \BAD.
> 
> I don't get one of those here, even if I allow e-pTeX to continue after 
> the first error :

Yes, that's because you are almost certainly using plain not LaTeX. You 
can get the same error in plain if you load more 'stuff' (or at least if 
you load the generic version of expl3).

Joseph


From P.Taylor at Rhul.Ac.Uk  Thu May  3 09:07:38 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Thu, 3 May 2018 08:07:38 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <d30da2f5-c934-3744-6659-be05a4dea45e@morningstar2.co.uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
 <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
 <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>
 <d30da2f5-c934-3744-6659-be05a4dea45e@morningstar2.co.uk>
Message-ID: <a8cf7150-3f37-cb27-bcf4-087a02e4d7b2@Rhul.Ac.Uk>

My TeX Live 2018 does not appear to include eplatex :? ptex is known, 
eptex -- ditto --, but not eplatex.? If I invoke epLaTeX the 
old-fashioned way, the system fails to find the format file that it 
seeks to create :

eptex -ini? ^&latex untitled-1
This is e-pTeX, Version 3.14159265-p3.8.0-180226-2.6 (utf8.sjis) (TeX 
Live 2018/
W32TeX) (INITEX)
 ?restricted \write18 enabled.

kpathsea: Running mktexfmt latex.fmt

The command name is D:\TeX\Live\2018\bin\win32\mktexfmt
Running the command D:\TeX\Live\2018\bin\win32\fmtutil-user.exe

...

No pages of output.
Transcript written on latex.log.
fmtutil [INFO]: c:/users/philip 
taylor/.texlive2018/texmf-var/web2c/pdftex/latex
.fmt installed.
fmtutil [INFO]: Disabled formats: 6
fmtutil [INFO]: Successfully rebuilt formats: 1
fmtutil [INFO]: Not selected formats: 43
fmtutil [INFO]: Total formats: 50
fmtutil [INFO]: exiting with status 0
Sorry, I can't find the format `latex.fmt'; will try `eptex.fmt'.
entering extended mode
(./untitled-1.tex
! Missing ) inserted for expression.
<to be read again>
 ?????????????????? \relax
l.2 \message{\test{ 0 + ( 1 + 2 }
 ???????????????????????????????? }

Philip Taylor
--------
> Yes, that's because you are almost certainly using plain not LaTeX. 
> You can get the same error in plain if you load more 'stuff' (or at 
> least if you load the generic version of expl3).
>
> Joseph
>


From spitz at lyx.org  Thu May  3 09:27:37 2018
From: spitz at lyx.org (=?UTF-8?B?SsO8cmdlbiBTcGl0em3DvGxsZXI=?=)
Date: Thu, 3 May 2018 09:27:37 +0200
Subject: [tex-live] csquotes update missing
Message-ID: <CAE_dPV4b+Pp2mf_G63Rr05i1cWi_zG5Nx_FAN1wXEDk+pOgFMA@mail.gmail.com>

Dear all

It seems that the last csquotes update (5.2d, released to CTAN 2018-04-13),
slipped through the cracks of the TL18 preparation. Per today, it still
holds 5.2c.

The update fixes an incompatibility with LaTeX 2018.

Thanks
J?rgen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180503/b4e3a471/attachment.html>

From joseph.wright at morningstar2.co.uk  Thu May  3 09:34:23 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 3 May 2018 08:34:23 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <a8cf7150-3f37-cb27-bcf4-087a02e4d7b2@Rhul.Ac.Uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
 <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
 <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>
 <d30da2f5-c934-3744-6659-be05a4dea45e@morningstar2.co.uk>
 <a8cf7150-3f37-cb27-bcf4-087a02e4d7b2@Rhul.Ac.Uk>
Message-ID: <08222e63-8a0b-44d1-a210-7944319223fe@morningstar2.co.uk>

On 03/05/2018 08:07, Philip Taylor (RHUoL) wrote:
> My TeX Live 2018 does not appear to include eplatex :? ptex is known, 
> eptex -- ditto --, but not eplatex.? If I invoke epLaTeX the 
> old-fashioned way, the system fails to find the format file that it 
> seeks to create :

You need to run "platex": this always *requires* e-TeX so is not called 
"eplatex"! If you want to do it 'by hand'

     eptex --fmt=platex <.tex file>

Joseph


From P.Taylor at Rhul.Ac.Uk  Thu May  3 09:37:56 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Thu, 3 May 2018 08:37:56 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <08222e63-8a0b-44d1-a210-7944319223fe@morningstar2.co.uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
 <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
 <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>
 <d30da2f5-c934-3744-6659-be05a4dea45e@morningstar2.co.uk>
 <a8cf7150-3f37-cb27-bcf4-087a02e4d7b2@Rhul.Ac.Uk>
 <08222e63-8a0b-44d1-a210-7944319223fe@morningstar2.co.uk>
Message-ID: <adfadfe2-ba25-8e0b-525e-dd58c84d0654@Rhul.Ac.Uk>

OK, that helps.? In that case, I can provoke a \BAD, but only by 
stepping past the first error :

D:\TeX\Projects\Misc>platex untitled-1
This is e-pTeX, Version 3.14159265-p3.8.0-180226-2.6 (utf8.sjis) (TeX 
Live 2018/
W32TeX) (preloaded format=platex)
 ?restricted \write18 enabled.
entering extended mode
(./untitled-1.tex
pLaTeX2e <2018-04-01>+1 (based on LaTeX2e <2018-04-01> patch level 2)
Babel <3.18> and hyphenation patterns for 84 language(s) loaded.
! Missing ) inserted for expression.
<to be read again>
 ?????????????????? \relax
l.2 \message{\test{ 0 + ( 1 + 2 }
 ???????????????????????????????? }
?
3
! Missing ) inserted for expression.
<to be read again>
 ?????????????????? \foo \BAD.
l.5 \message{\test{ 0 + ( 1 + 2 }
 ???????????????????????????????? }
?

Philip Taylor
--------
Joseph Wright wrote:
>
> You need to run "platex": this always *requires* e-TeX so is not 
> called "eplatex"! If you want to do it 'by hand'
>
> ??? eptex --fmt=platex <.tex file>
>
> Joseph
>


From joseph.wright at morningstar2.co.uk  Thu May  3 09:39:26 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 3 May 2018 08:39:26 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <adfadfe2-ba25-8e0b-525e-dd58c84d0654@Rhul.Ac.Uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
 <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
 <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>
 <d30da2f5-c934-3744-6659-be05a4dea45e@morningstar2.co.uk>
 <a8cf7150-3f37-cb27-bcf4-087a02e4d7b2@Rhul.Ac.Uk>
 <08222e63-8a0b-44d1-a210-7944319223fe@morningstar2.co.uk>
 <adfadfe2-ba25-8e0b-525e-dd58c84d0654@Rhul.Ac.Uk>
Message-ID: <a71fd6b8-d41f-f68a-de99-9d7532ef0bf4@morningstar2.co.uk>

On 03/05/2018 08:37, Philip Taylor (RHUoL) wrote:
> OK, that helps.? In that case, I can provoke a \BAD, but only by 
> stepping past the first error :
> 
> D:\TeX\Projects\Misc>platex untitled-1
> This is e-pTeX, Version 3.14159265-p3.8.0-180226-2.6 (utf8.sjis) (TeX 
> Live 2018/
> W32TeX) (preloaded format=platex)
>  ?restricted \write18 enabled.
> entering extended mode
> (./untitled-1.tex
> pLaTeX2e <2018-04-01>+1 (based on LaTeX2e <2018-04-01> patch level 2)
> Babel <3.18> and hyphenation patterns for 84 language(s) loaded.
> ! Missing ) inserted for expression.
> <to be read again>
>  ?????????????????? \relax
> l.2 \message{\test{ 0 + ( 1 + 2 }
>  ???????????????????????????????? }
> ?
> 3
> ! Missing ) inserted for expression.
> <to be read again>
>  ?????????????????? \foo \BAD.
> l.5 \message{\test{ 0 + ( 1 + 2 }
>  ???????????????????????????????? }
> ?
> 
> Philip Taylor

Good: we all agree it happens :)

(In my real case, the TeX run is automated and so stepping past the 
error is not an issue. What is is that the .log file is different from 
the pdfTeX reference version.)

Joseph


From d.p.carlisle at gmail.com  Thu May  3 10:03:44 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 3 May 2018 09:03:44 +0100
Subject: [tex-live] csquotes update missing
In-Reply-To: <CAE_dPV4b+Pp2mf_G63Rr05i1cWi_zG5Nx_FAN1wXEDk+pOgFMA@mail.gmail.com>
References: <CAE_dPV4b+Pp2mf_G63Rr05i1cWi_zG5Nx_FAN1wXEDk+pOgFMA@mail.gmail.com>
Message-ID: <CAEW6iOjGOVbk+yL3ugoyj5txq4j-YBP9Z765eo6Jk6vbCip-Jw@mail.gmail.com>

I got 5.2d via tlmgr this morning, so the texlive team have handled this now.

(Depending on your mirror, it could be another day to be didtributed
everywhere I suppose)

David

On 3 May 2018 at 08:27, J?rgen Spitzm?ller <spitz at lyx.org> wrote:
> Dear all
>
> It seems that the last csquotes update (5.2d, released to CTAN 2018-04-13),
> slipped through the cracks of the TL18 preparation. Per today, it still
> holds 5.2c.
>
> The update fixes an incompatibility with LaTeX 2018.
>
> Thanks
> J?rgen


From spitz at lyx.org  Thu May  3 10:29:57 2018
From: spitz at lyx.org (=?UTF-8?B?SsO8cmdlbiBTcGl0em3DvGxsZXI=?=)
Date: Thu, 3 May 2018 10:29:57 +0200
Subject: [tex-live] csquotes update missing
In-Reply-To: <CAEW6iOjGOVbk+yL3ugoyj5txq4j-YBP9Z765eo6Jk6vbCip-Jw@mail.gmail.com>
References: <CAE_dPV4b+Pp2mf_G63Rr05i1cWi_zG5Nx_FAN1wXEDk+pOgFMA@mail.gmail.com>
 <CAEW6iOjGOVbk+yL3ugoyj5txq4j-YBP9Z765eo6Jk6vbCip-Jw@mail.gmail.com>
Message-ID: <CAE_dPV7EcMcjNWExBeakg_cPKcwKY0_odrSKHEueaP3y9FjbUQ@mail.gmail.com>

2018-05-03 10:03 GMT+02:00 David Carlisle <d.p.carlisle at gmail.com>:

> I got 5.2d via tlmgr this morning, so the texlive team have handled this
> now.
>
> (Depending on your mirror, it could be another day to be didtributed
> everywhere I suppose)
>

Thanks. I just noticed the the TL team is still catching up. Sorry for the
noise.

J?rgen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180503/e23ca44f/attachment-0001.html>

From kakuto at fuk.kindai.ac.jp  Thu May  3 10:35:04 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 3 May 2018 17:35:04 +0900
Subject: [tex-live] Latexmk doesn't work with the newest TL 2018
In-Reply-To: <86tvrpvezr.fsf@frenzy.freefriends.org>
References: <86tvrpvezr.fsf@frenzy.freefriends.org>
Message-ID: <3E9E3F9F23AB488CA6FA8420D1850E7A@CJ3001517A>

> However, in principle our wrapper really should prefer,
> for a command named "latexmk",
> .../texmf-dist/scripts/latexmk/latexmk.pl

I slightly modified runscript.tlu to prefer
latexmk.pl: r47582. latexmk is expected to
work for the next update.

Best,
Akira


From wl at gnu.org  Thu May  3 13:49:02 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 03 May 2018 13:49:02 +0200 (CEST)
Subject: [tex-live] larger arrays in patgen
In-Reply-To: <20180427.075129.1281227319510373268.wl@gnu.org>
References: <20180427.075129.1281227319510373268.wl@gnu.org>
Message-ID: <20180503.134902.1247703852983468063.wl@gnu.org>


> Note I don't know the upper size limit of those arrays ? I don't
> mind if the arrays (in particular `triec_size') are even larger
> since we are going to add more words to our German word list.

Testing has just shown that the values are indeed to small, so please
use

--- /usr/local/backup/TeXLive/Build/source/texk/web2c/patgen.ch	2012-07-16 09:27:23.349502000 +0200
+++ patgen.ch	2018-04-26 16:11:53.116056516 +0200
@@ -78,8 +78,8 @@
  |trie_size| and greater than the number of occurrences of any pattern in
  the dictionary}
 @y
-@!trie_size=550000; {space for pattern trie}
-@!triec_size=260000; {space for pattern count trie, must be less than
+@!trie_size=10000000; {space for pattern trie}
+@!triec_size=5000000; {space for pattern count trie, must be less than
  |trie_size| and greater than the number of occurrences of any pattern in
  the dictionary}
 @z


    Werner


From texlive at schoepfer.info  Thu May  3 18:49:46 2018
From: texlive at schoepfer.info (texlive at schoepfer.info)
Date: Thu, 03 May 2018 18:49:46 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <201804291722.w3THMmI2029254@freefriends.org>
References: <201804291722.w3THMmI2029254@freefriends.org>
Message-ID: <a35811f82d6149663a0088b5373df075@schoepfer.info>

Hi,

>     https://ctan.org/tex-archive/systems/texlive/Source
> 
> You're right, I did fail to do that yesterday. I've updated the source
> for that dir on tug.org now. Presumably CTAN will get updated soon.

Thank you.

texlive.tlpdb:
The package 00texlive.installer still lists an armel binary/link.
binfiles arch=armel-linux size=16
  tlpkg/installer/xz/xzdec.armel-linux

From denis.bitouze at univ-littoral.fr  Thu May  3 19:32:35 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Thu, 03 May 2018 19:32:35 +0200
Subject: [tex-live] Link that permanently points to the current texlive ISO
	file? (again)
Message-ID: <87in84tzkc.fsf@example.com>

Hi,

below is a message I sent some years ago, and Karl's answer was "Ok,
done.", which was nice:

  ?????
  ? currently, the http://mirror.ctan.org/systems/texlive/Images/ directory
  ? contains:
  ? 
  ?   ?????
  ?   ? - texlive2014-20140525.iso  24-May-2014 23:34       2.5G     
  ?   ? - texlive2014-20140525.iso.md5      24-May-2014 23:35       59       
  ?   ? - texlive2014-20140525.iso.sha256   24-May-2014 23:36       91       
  ?   ? - texlive2014.iso   24-May-2014 23:34       2.5G     
  ?   ? - texlive2014.iso.md5       24-May-2014 23:36       50       
  ?   ? - texlive2014.iso.sha256    24-May-2014 23:36       82       
  ?   ? - texlive2014.iso.torrent   16-Jun-2014 22:45       50K      
  ?   ?????
  ? 
  ? and, in documentations that explain how to install the TL from the ISO
  ? file, the link:
  ? 
  ?   ?????
  ?   ? http://mirror.ctan.org/systems/texlive/Images/texlive2014.iso
  ?   ?????
  ? 
  ? will soon have to be updated into:
  ? 
  ?   ?????
  ?   ? http://mirror.ctan.org/systems/texlive/Images/texlive2015.iso
  ?   ?????
  ? 
  ? I guess "texlive2014-20140525.iso" and "texlive2014.iso" links point to
  ? the same file. So, what about an extra link "texlive.iso" that
  ? permanently points to the current texlive ISO file?
  ?????

Unfortunately, if my request was honored at that time, that's not the
case anymore: too bad! :)

All the best.
-- 
Denis


From manfred at dante.de  Thu May  3 20:10:24 2018
From: manfred at dante.de (Manfred Lotz)
Date: Thu, 3 May 2018 20:10:24 +0200
Subject: [tex-live] Link that permanently points to the current texlive
 ISO file? (again)
In-Reply-To: <87in84tzkc.fsf@example.com>
References: <87in84tzkc.fsf@example.com>
Message-ID: <20180503201024.389e9cf8@hogwart>

Hi Denis,

On Thu, 03 May 2018 19:32:35 +0200
Denis Bitouz? <denis.bitouze at univ-littoral.fr> wrote:


>   ? 
>   ? I guess "texlive2014-20140525.iso" and "texlive2014.iso" links
> point to ? the same file. So, what about an extra link "texlive.iso"
> that ? permanently points to the current texlive ISO file?
>   ?????
> 
> Unfortunately, if my request was honored at that time, that's not the
> case anymore: too bad! :)
> 

All I can say is that the link 
texlive2018.iso -> texlive2018-20180414.iso

has been existing since April 28 2018.

Perhaps you hit a bad mirror. 

Regarding a link texlive.iso you should ask Karl.

-- 
Best, Manfred


From dbitouze at wanadoo.fr  Thu May  3 20:59:47 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Thu, 03 May 2018 20:59:47 +0200
Subject: [tex-live] Link that permanently points to the current texlive
	ISO file? (again)
In-Reply-To: <20180503201024.389e9cf8@hogwart> (Manfred Lotz's message of
 "Thu, 3 May 2018 20:10:24 +0200")
References: <87in84tzkc.fsf@example.com> <20180503201024.389e9cf8@hogwart>
Message-ID: <87efistvj0.fsf@example.com>

Le 03/05/18 ? 20h10, Manfred Lotz a ?crit :

> Hi Denis,

Hi Manfred,

> On Thu, 03 May 2018 19:32:35 +0200
> Denis Bitouz? <denis.bitouze at univ-littoral.fr> wrote:
>
>
>>   ? 
>>   ? I guess "texlive2014-20140525.iso" and "texlive2014.iso" links
>> point to ? the same file. So, what about an extra link "texlive.iso"
>> that ? permanently points to the current texlive ISO file?
>>   ?????
>> 
>> Unfortunately, if my request was honored at that time, that's not the
>> case anymore: too bad! :)
>
> All I can say is that the link texlive2018.iso ->
> texlive2018-20180414.iso
>
> has been existing since April 28 2018.
>
> Perhaps you hit a bad mirror. 

Sorry: my current request concerned only the texlive.iso link .

> Regarding a link texlive.iso you should ask Karl.

Hence my message :)
-- 
Denis


From karl at freefriends.org  Thu May  3 23:26:09 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 May 2018 21:26:09 GMT
Subject: [tex-live] Link that permanently points to the current texlive
	ISO	file? (again)
In-Reply-To: <87in84tzkc.fsf@example.com>
Message-ID: <201805032126.w43LQ9lA018275@freefriends.org>

    what about an extra link "texlive.iso" 

Ok, I recreated it. I can't remember why I removed it. -k


From joseph.wright at morningstar2.co.uk  Thu May  3 23:38:27 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 3 May 2018 22:38:27 +0100
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
Message-ID: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>

Hello all,

In adding features to expl3, the LaTeX team have been making use of a 
variety of 'new' (post-e-TeX) 'utility' primitives in various engines. 
Almost always these originate in pdfTeX and have migrated to other 
engines, but are not in any way tied to PDF output, etc. Depending on 
the exact engine in use, some or all of these primitives may be 
unavailable, and that then limits macro-level features.

It seems sensible long-term to have cross-engine feature stay 'in sync' 
with each other. In particular, (u)pTeX has picked up a number of pdfTeX 
features, meaning that XeTeX often is the most 'limited' engine. The 
team would like, if possible, to have a common feature set in all 
engines in this regard. At the same time, there are a few 'bits and 
pieces' that make sense to raise at the same time. I'll lay out the 
various areas below.

Doing the work here is non-trivial, but luckily there is an automated 
build system available via GitHub which is allowing us (me/David 
Carlisle) to do some testing. I'm building up patches in various 
branches at https://github.com/josephwright/texlive-source: assuming 
these look good, I'll merge them as required and send diff files to 
where/whoever is best. The branches on GitHub should hopefully have 
clear names for what they address.

The areas we are keen to look at are as follows:

- 'pdfutils': (u)pTeX has picked up a number of pdfTeX primitives, and
   a subset have made their way into XeTeX too. However, XeTeX is still
   missing several, most notably an expandable RNG. We are part-way
   though working out patches to add the rest to XeTeX (RNG is done,
   file data and timer to do)

- banners: pdfTeX and LuaTeX have \<engine>banner, other engines lack
   that. The banner includes TeX version and details of the TeX system,
   so is potentially useful. Adding this to (u)pTeX/XeTeX looks
   straight forward: still to-do.

- \expanded: This was slated for pdfTeX 1.50 but that has never
   appeared, but the primitive is useful as it allows 'function-like'
   expandable macros. We can see this begin very useful for simplifying
   some macro code, and in many ways it feels like an e-TeX primitive.
   The GitHub expanded branch adds it to pdfTeX/XeTeX/(u)pTeX

- Allowing \Ucharcat (XeTeX) to make \active tokens: this was raised
   recently on the XeTeX list, but fits here as we've put a branch
   together to show it works

It's likely I'll finish the outstanding patches by the weekend. Note 
that at present each feature addition is in a separate Git branch, so to 
add all of them I'll have to do a little tidying up: that will happen 
once I know which of these suggestions are useful.

Feedback most welcome.

Joseph

From karl at freefriends.org  Thu May  3 23:54:52 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 May 2018 21:54:52 GMT
Subject: [tex-live] larger arrays in patgen
In-Reply-To: <20180503.134902.1247703852983468063.wl@gnu.org>
Message-ID: <201805032154.w43Lsqqx020988@freefriends.org>

    +@!trie_size=10000000; {space for pattern trie}
    +@!triec_size=5000000; {space for pattern count trie, must be less than

Ok, done. -k

From denis.bitouze at univ-littoral.fr  Fri May  4 07:59:52 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Fri, 04 May 2018 07:59:52 +0200
Subject: [tex-live] Link that permanently points to the current texlive
	ISO file? (again)
In-Reply-To: <201805032126.w43LQ9lA018275@freefriends.org> (Karl Berry's
 message of "Thu, 3 May 2018 21:26:09 GMT")
References: <201805032126.w43LQ9lA018275@freefriends.org>
Message-ID: <87a7tgt0yv.fsf@example.com>

Le 03/05/18 ? 21h26, Karl Berry a ?crit :

>     what about an extra link "texlive.iso" 
>
> Ok, I recreated it.

Thanks!
-- 
Denis


From preining at logic.at  Fri May  4 09:43:44 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 4 May 2018 16:43:44 +0900
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
Message-ID: <20180504074344.GB16443@bulldog.preining.info>

Hi Joseph,

> It seems sensible long-term to have cross-engine feature stay 'in sync' with

Very much agreed upon that.

> I'll merge them as required and send diff files to where/whoever is best.

For (u)ptex a pull request at https://github.com/texjporg/tex-jp-build
might be useful. This is the main development area for all Japanese TeX
engine stuff.


> them I'll have to do a little tidying up: that will happen once I know which
> of these suggestions are useful.

I think all are fine.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Fri May  4 10:31:14 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Fri, 4 May 2018 09:31:14 +0100
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <20180504074344.GB16443@bulldog.preining.info>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
 <20180504074344.GB16443@bulldog.preining.info>
Message-ID: <071cf7d1-5624-b41d-4148-bfa69212ee15@morningstar2.co.uk>

Hello Norbert,

>> I'll merge them as required and send diff files to where/whoever is best.
> 
> For (u)ptex a pull request at https://github.com/texjporg/tex-jp-build
> might be useful. This is the main development area for all Japanese TeX
> engine stuff.

I see that the \expanded code has already been picked up in a branch 
there: https://github.com/texjporg/tex-jp-build/tree/expanded. So I'm 
guessing that is likely to happen.

At the moment what I'm aiming to do is get everything in one place so it 
can be reviewed, etc., and commented on. Particularly in the case of 
\expanded, the wider plan only works if there is general 
(pdfTeX/XeTeX/(u)pTeX) agreement on taking the patch.

Once we have that agreement, putting in pull requests, diffs, etc. 
against the 'right' places should be easy enough (at least in the sense 
I'm happy to sort it).

>> them I'll have to do a little tidying up: that will happen once I know which
>> of these suggestions are useful.
> 
> I think all are fine.

I don't imagine there is anything particularly controversial, but there 
is also the technical business (I'm no WEB expert).

Joseph

From joseph.wright at morningstar2.co.uk  Fri May  4 11:02:52 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Fri, 4 May 2018 10:02:52 +0100
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
Message-ID: <04819446-3bdf-d570-03fa-f18928e762c9@morningstar2.co.uk>

On 03/05/2018 22:38, Joseph Wright wrote:
> - 'pdfutils': (u)pTeX has picked up a number of pdfTeX primitives, and
>  ? a subset have made their way into XeTeX too. However, XeTeX is still
>  ? missing several, most notably an expandable RNG. We are part-way
>  ? though working out patches to add the rest to XeTeX (RNG is done,
>  ? file data and timer to do)

To be clear, the full set of primitives here is

- \pdfrandomseed
- \pdfsetrandomseed
- \pdfuniformdeviate
- \pdfnormaldeviate

- \pdfresettimer
- \pdfelapsedtime

- \pdffilesize
- \pdffilemoddate
- \pdffiledump
- \pdfcreationdate

of which the first set is done (a working branch for XeTeX).

Joseph

From cursus.publicus at sacrumromanumimperium.org  Fri May  4 16:32:38 2018
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Fri, 4 May 2018 16:32:38 +0200
Subject: [tex-live] tlmgr update failure
Message-ID: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>

Hi,

I did an successful installation of TL2018 for Linux and Win32

Trying to update, I got:

tlmgr update --self --all

/usr/local/texlive/bin/x86_64-linux/tlmgr: open
tlpdb(http://texlive.lukasczyk.me/tlpkg/tlpkg/texlive.tlpdb) failed:  at
/usr/local/texlive/tlpkg/TeXLive/TLPDB.pm line 362.

I tried

tlmgr check all
Running check files:
Running check depends:
Running check executes:
Running check runfiles:
# afoot.sty
diff /usr/local/texlive/texmf-dist/tex/latex/arabtex/afoot.sty
/usr/local/texlive/texmf-dist/tex/latex/ledmac/afoot.sty

(and some similar messages concerning files of the same name in
different directories)

I tried

update-tlmgr-latest.sh
Verifying archive integrity... All good.
Uncompressing TeX Live Manager Updater  100%
./runme.sh: updating in /usr/local/texlive...
./runme.sh: tlmgr version says this is TeX Live 2018
./runme.sh: proceeding with tlmgr update.
tar: win32: Funktion stat fehlgeschlagen: Datei oder Verzeichnis nicht
gefunden
tar: Beende mit Fehlerstatus aufgrund vorheriger Fehler
cp: Aufruf von stat f?r 'installer/xz/xzdec.win32' nicht m?glich: Datei
oder Verzeichnis nicht gefunden

Thankx for any hint how to go further on

Andreas


From maieul at maieul.net  Fri May  4 16:53:30 2018
From: maieul at maieul.net (=?UTF-8?Q?Ma=c3=afeul?=)
Date: Fri, 4 May 2018 16:53:30 +0200
Subject: [tex-live] tlmgr update failure
In-Reply-To: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>
References: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>
Message-ID: <e4a44d12-b23b-9c6a-32fa-1c2315ad9dc7@maieul.net>

Le 04/05/2018 ? 16:32, Andreas Hirsch a ?crit?:
> Hi,
> 
> I did an successful installation of TL2018 for Linux and Win32
> 
> Trying to update, I got:
> 
> tlmgr update --self --all
> 
> /usr/local/texlive/bin/x86_64-linux/tlmgr: open
> tlpdb(http://texlive.lukasczyk.me/tlpkg/tlpkg/texlive.tlpdb) failed:  at
> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm line 362.
> 
> I tried
> 
> tlmgr check all
> Running check files:
> Running check depends:
> Running check executes:
> Running check runfiles:
> # afoot.sty
> diff /usr/local/texlive/texmf-dist/tex/latex/arabtex/afoot.sty
> /usr/local/texlive/texmf-dist/tex/latex/ledmac/afoot.sty
> 
> (and some similar messages concerning files of the same name in
> different directories)
> 
> I tried
> 
> update-tlmgr-latest.sh
> Verifying archive integrity... All good.
> Uncompressing TeX Live Manager Updater  100%
> ./runme.sh: updating in /usr/local/texlive...
> ./runme.sh: tlmgr version says this is TeX Live 2018
> ./runme.sh: proceeding with tlmgr update.
> tar: win32: Funktion stat fehlgeschlagen: Datei oder Verzeichnis nicht
> gefunden
> tar: Beende mit Fehlerstatus aufgrund vorheriger Fehler
> cp: Aufruf von stat f?r 'installer/xz/xzdec.win32' nicht m?glich: Datei
> oder Verzeichnis nicht gefunden
> 
> Thankx for any hint how to go further on
> 
> Andreas
> 
> 
About file of the same name, do you mean "ledmac" files, or "afoot.sty" 
file?

From maieul at maieul.net  Fri May  4 16:53:30 2018
From: maieul at maieul.net (=?UTF-8?Q?Ma=c3=afeul?=)
Date: Fri, 4 May 2018 16:53:30 +0200
Subject: [tex-live] tlmgr update failure
In-Reply-To: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>
References: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>
Message-ID: <e4a44d12-b23b-9c6a-32fa-1c2315ad9dc7@maieul.net>

Le 04/05/2018 ? 16:32, Andreas Hirsch a ?crit?:
> Hi,
> 
> I did an successful installation of TL2018 for Linux and Win32
> 
> Trying to update, I got:
> 
> tlmgr update --self --all
> 
> /usr/local/texlive/bin/x86_64-linux/tlmgr: open
> tlpdb(http://texlive.lukasczyk.me/tlpkg/tlpkg/texlive.tlpdb) failed:  at
> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm line 362.
> 
> I tried
> 
> tlmgr check all
> Running check files:
> Running check depends:
> Running check executes:
> Running check runfiles:
> # afoot.sty
> diff /usr/local/texlive/texmf-dist/tex/latex/arabtex/afoot.sty
> /usr/local/texlive/texmf-dist/tex/latex/ledmac/afoot.sty
> 
> (and some similar messages concerning files of the same name in
> different directories)
> 
> I tried
> 
> update-tlmgr-latest.sh
> Verifying archive integrity... All good.
> Uncompressing TeX Live Manager Updater  100%
> ./runme.sh: updating in /usr/local/texlive...
> ./runme.sh: tlmgr version says this is TeX Live 2018
> ./runme.sh: proceeding with tlmgr update.
> tar: win32: Funktion stat fehlgeschlagen: Datei oder Verzeichnis nicht
> gefunden
> tar: Beende mit Fehlerstatus aufgrund vorheriger Fehler
> cp: Aufruf von stat f?r 'installer/xz/xzdec.win32' nicht m?glich: Datei
> oder Verzeichnis nicht gefunden
> 
> Thankx for any hint how to go further on
> 
> Andreas
> 
> 
About file of the same name, do you mean "ledmac" files, or "afoot.sty" 
file?


From news3 at nililand.de  Fri May  4 18:06:45 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 4 May 2018 18:06:45 +0200
Subject: [tex-live] xdvipdfmx: tounicode entries for ligatures missing in pdf
Message-ID: <5x4rwwcj14xb$.dlg@nililand.de>

on tex.sx there is a question about a failing search in pdf
https://tex.stackexchange.com/questions/430054/failing-search-for-words-with-ligatures-after-update

As I happened to have the font available I tested and can confirm
that something changed between TL17 and TL18:

\documentclass{book}

\usepackage{fontspec}
\setmainfont{FrutigerLTCom-Light.ttf}
\begin{document}
Prefix.
\end{document}

With xelatex in TL17 is works fine and one can search in the pdf for
"Prefix", in TL18 it not longer works.

The fonts are the same but in the newer pdf a mapping for the
ligature is missing:

7 beginbfchar
<0011> <002E>
<0014> <0031>
<0033> <0050>
<0048> <0065>
<0055> <0072>
<005B> <0078>
<011F> <FB01>  %<------- missing in TL18
endbfchar
 
Another (free) font with the same Problem is Roboto:

\setmainfont{Roboto-Regular.ttf} leads to

7 beginbfchar
<0012> <002E>
<0015> <0031>
<0034> <0050>
<0049> <0065>
<0056> <0072>
<005C> <0078>
<01A4> <FB01> %<--- missing in TL18
endbfchar

(But here the fonts are perhaps not identical as they are in the
texmf trees).

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From cursus.publicus at sacrumromanumimperium.org  Fri May  4 17:07:01 2018
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Fri, 4 May 2018 17:07:01 +0200
Subject: [tex-live] tlmgr update failure
In-Reply-To: <e4a44d12-b23b-9c6a-32fa-1c2315ad9dc7@maieul.net>
References: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>
 <e4a44d12-b23b-9c6a-32fa-1c2315ad9dc7@maieul.net>
Message-ID: <7295fc79-b7d2-6081-c858-aed70b3cde02@sacrumromanumimperium.org>

Ma?eul schrieb am 2018-05-04 um 16:53:

> About file of the same name, do you mean "ledmac" files, or "afoot.sty" 
> file?

afoot.sty

-- 
'Man merkt nie, was schon getan wurde,
 man sieht immer nur,
 was noch zu tun bleibt.'
                    Marie Curie  (1867-1934)

From reinhard.kotucha at web.de  Fri May  4 23:18:07 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 4 May 2018 23:18:07 +0200
Subject: [tex-live] tlmgr update failure
In-Reply-To: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>
References: <c1c021cb-f93d-4021-5053-e96fb44dd6c7@sacrumromanumimperium.org>
Message-ID: <23276.52751.951957.981417@gargle.gargle.HOWL>

On 2018-05-04 at 16:32:38 +0200, Andreas Hirsch wrote:

 > [...]
 > 
 > update-tlmgr-latest.sh
 > Verifying archive integrity... All good.
 > Uncompressing TeX Live Manager Updater  100%
 > ./runme.sh: updating in /usr/local/texlive...
 > ./runme.sh: tlmgr version says this is TeX Live 2018
 > ./runme.sh: proceeding with tlmgr update.
 > tar: win32: Funktion stat fehlgeschlagen: Datei oder Verzeichnis nicht
 > gefunden
 > tar: Beende mit Fehlerstatus aufgrund vorheriger Fehler
 > cp: Aufruf von stat f?r 'installer/xz/xzdec.win32' nicht m?glich: Datei
 > oder Verzeichnis nicht gefunden

Hi Andreas,
most people on this list don't understand German.  But if you type

   LC_ALL=C update-tlmgr-latest.sh

you'll get all error messages and warnings in English.

You can always set environment variables temporarily this way on the
command line.

It works on any POSIX compliant system (Linux, BSD, OS X, Cygwin,...)
but unfortunately not on native Windows.  Since MSYS/MinGW provides a
POSIX compliant shell (Bash), I suppose that it's supported there too.

If anybody knows how to switch temporarily to English on a native
non-English Windows installation, please let us know.  I know that it
is possible because a friend of mine happily switches between English,
German, and Chinese all the time.  What I don't know is whether it's
necessary to install support files for English explicitly and how to
select a particular language.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From karl at freefriends.org  Sat May  5 00:36:31 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 4 May 2018 22:36:31 GMT
Subject: [tex-live] tlmgr update failure
In-Reply-To: <e4a44d12-b23b-9c6a-32fa-1c2315ad9dc7@maieul.net>
Message-ID: <201805042236.w44MaV5k010333@freefriends.org>

    > I did an successful installation of TL2018 for Linux and Win32

Apparently not successful, or tlmgr update --self would work.

    > tlmgr update --self --all

Try running tlmgr update --self, without --all.

    > /usr/local/texlive/bin/x86_64-linux/tlmgr: open
    > tlpdb(http://texlive.lukasczyk.me/tlpkg/tlpkg/texlive.tlpdb) failed:  at
    > /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm line 362.

For one thing, it seems xzdec is missing from your installation, likely
somehow due to installing for both x86_64-linux and win32. I don't
understand what is happening.

Also, that url is wrong -- it has a doubled .../tlpkg/tlpkg/...
Visiting in a browser, it works with one /tlpkg/.
You could try running:
 tlmgr option repo http://texlive.lukasczyk.me/
(No /tlpkg/ in the repository url.)

    > Running check runfiles:
    > # afoot.sty
    > diff /usr/local/texlive/texmf-dist/tex/latex/arabtex/afoot.sty
    > /usr/local/texlive/texmf-dist/tex/latex/ledmac/afoot.sty
    ...

These are known discrepancies, unrelated to the installation problem.

    > update-tlmgr-latest.sh
    ...
    > tar: win32: Funktion stat fehlgeschlagen: Datei oder Verzeichnis nicht
    > gefunden
    > tar: Beende mit Fehlerstatus aufgrund vorheriger Fehler
    > cp: Aufruf von stat f??r 'installer/xz/xzdec.win32' nicht m??glich: Datei
    > oder Verzeichnis nicht gefunden

Well, it's true that installer/xz/xzdec.win32 does not exist. The
Windows executable is named installer/xz/xzdec.exe. But it is not
present in update-tlmgr-latest.sh at all.

> Thankx for any hint how to go further on

Failing all the above, maybe try the Windows recovery executable (on
Windows), update-tlmgr-latest.exe. -k




From karl at freefriends.org  Sat May  5 00:36:32 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 4 May 2018 22:36:32 GMT
Subject: [tex-live] tl18 released
In-Reply-To: <a35811f82d6149663a0088b5373df075@schoepfer.info>
Message-ID: <201805042236.w44MaW3Y010341@freefriends.org>

    The package 00texlive.installer still lists an armel binary/link.
    binfiles arch=armel-linux size=16
      tlpkg/installer/xz/xzdec.armel-linux

Thanks for the report. The 00texlive.installer (and 00texlive.image)
packages in tlnet's tlpdb were not getting updated; our scripts never
used them, so we didn't notice. Hopefully fixed for tonight's build,
we'll see. I won't be surprised if it fails and more work is needed. -k

From cursus.publicus at sacrumromanumimperium.org  Sat May  5 08:20:25 2018
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sat, 5 May 2018 08:20:25 +0200
Subject: [tex-live] tlmgr update failure
In-Reply-To: <201805042236.w44MaV5k010333@freefriends.org>
References: <201805042236.w44MaV5k010333@freefriends.org>
Message-ID: <b784d1de-b598-2bf2-55eb-1c928cacc53f@sacrumromanumimperium.org>

Hi Karl,

Karl Berry schrieb am 2018-05-05 um 00:36:
>     > I did an successful installation of TL2018 for Linux and Win32
> 
> Apparently not successful, or tlmgr update --self would work.

see below

>     > tlmgr update --self --all
> 
> Try running tlmgr update --self, without --all.
> 
>     > /usr/local/texlive/bin/x86_64-linux/tlmgr: open
>     > tlpdb(http://texlive.lukasczyk.me/tlpkg/tlpkg/texlive.tlpdb) failed:  at
>     > /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm line 362.
> 
> For one thing, it seems xzdec is missing from your installation, likely
> somehow due to installing for both x86_64-linux and win32. I don't
> understand what is happening.
> 
> Also, that url is wrong -- it has a doubled .../tlpkg/tlpkg/...
> Visiting in a browser, it works with one /tlpkg/.
> You could try running:
>  tlmgr option repo http://texlive.lukasczyk.me/
> (No /tlpkg/ in the repository url.)

this was the mistake!

Thank You!

Andreas

From h_kitagawa2001 at yahoo.co.jp  Sat May  5 09:09:48 2018
From: h_kitagawa2001 at yahoo.co.jp (Hironori KITAGAWA)
Date: Sat, 5 May 2018 16:09:48 +0900
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
Message-ID: <20180505160948.68a60e2a877a2275f502fb0c@yahoo.co.jp>

Hello Joseph and all,

> - banners: pdfTeX and LuaTeX have \<engine>banner, other engines lack
>    that. The banner includes TeX version and details of the TeX system,
>    so is potentially useful. Adding this to (u)pTeX/XeTeX looks
>    straight forward: still to-do.

I made a branch for \eptexbanner for e-(u)pTeX as
https://github.com/texjporg/tex-jp-build/tree/banner.
I think it would be more convenient to use a common name for these "banner"
primitives such as \enginebanner, rather than different name for each engine 
(\pdftexbanner, \xetexbanner etc.).

Regards
Hironori KITAGAWA 
<h_kitagawa2001 at yahoo.co.jp>

From karl at freefriends.org  Sun May  6 01:00:26 2018
From: karl at freefriends.org (Karl Berry)
Date: Sat, 5 May 2018 23:00:26 GMT
Subject: [tex-live] xdvipdfmx: tounicode entries for ligatures missing
	in pdf
In-Reply-To: <5x4rwwcj14xb$.dlg@nililand.de>
Message-ID: <201805052300.w45N0QVX024502@freefriends.org>

Hi Ulrike,

    in the newer pdf a mapping for the ligature is missing:

I can reproduce the problem (xelatex-tl18 fails, xelatex-17 works,
lualatex works with both 17 and 18).

I don't know the ultimate source of the bug, as so much has changed. I
posted the report here in hopes the latexers will investigate further
(sorry to shunt it off to you guys ...):
https://github.com/latex3/graphics-def/issues/17

Best,
Karl

From gzjjgod at gmail.com  Sun May  6 01:54:03 2018
From: gzjjgod at gmail.com (Jiang Jiang)
Date: Sat, 5 May 2018 16:54:03 -0700
Subject: [tex-live] xdvipdfmx: tounicode entries for ligatures missing
	in pdf
In-Reply-To: <5x4rwwcj14xb$.dlg@nililand.de>
References: <5x4rwwcj14xb$.dlg@nililand.de>
Message-ID: <CALhZiQVMcHycHJDEWLon4eOKFFg6TMXDURb20X31mPFoEvuAGw@mail.gmail.com>

Can you reproduce it with plain TeX documents?

On Fri, May 4, 2018 at 9:06 AM, Ulrike Fischer <news3 at nililand.de> wrote:
> on tex.sx there is a question about a failing search in pdf
> https://tex.stackexchange.com/questions/430054/failing-search-for-words-with-ligatures-after-update
>
> As I happened to have the font available I tested and can confirm
> that something changed between TL17 and TL18:
>
> \documentclass{book}
>
> \usepackage{fontspec}
> \setmainfont{FrutigerLTCom-Light.ttf}
> \begin{document}
> Prefix.
> \end{document}
>
> With xelatex in TL17 is works fine and one can search in the pdf for
> "Prefix", in TL18 it not longer works.
>
> The fonts are the same but in the newer pdf a mapping for the
> ligature is missing:
>
> 7 beginbfchar
> <0011> <002E>
> <0014> <0031>
> <0033> <0050>
> <0048> <0065>
> <0055> <0072>
> <005B> <0078>
> <011F> <FB01>  %<------- missing in TL18
> endbfchar
>
> Another (free) font with the same Problem is Roboto:
>
> \setmainfont{Roboto-Regular.ttf} leads to
>
> 7 beginbfchar
> <0012> <002E>
> <0015> <0031>
> <0034> <0050>
> <0049> <0065>
> <0056> <0072>
> <005C> <0078>
> <01A4> <FB01> %<--- missing in TL18
> endbfchar
>
> (But here the fonts are perhaps not identical as they are in the
> texmf trees).
>
> --
> Ulrike Fischer
> http://www.troubleshooting-tex.de/
>

From news3 at nililand.de  Sun May  6 09:01:40 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 6 May 2018 09:01:40 +0200
Subject: [tex-live] xdvipdfmx: tounicode entries for ligatures missing
	in pdf
References: <5x4rwwcj14xb$.dlg@nililand.de>
 <CALhZiQVMcHycHJDEWLon4eOKFFg6TMXDURb20X31mPFoEvuAGw@mail.gmail.com>
Message-ID: <te4qnb8z517f$.dlg@nililand.de>

Am Sat, 5 May 2018 16:54:03 -0700 schrieb Jiang Jiang:

> Can you reproduce it with plain TeX documents?

Yes, both 

\font\test="[FrutigerLTCom-Light.ttf]/OT:script=latn;language=DFLT;mapping=tex-text;"
\test Prefix

\bye

and 

\font\test="[Roboto-Regular.ttf]/OT:script=latn;language=DFLT;mapping=tex-text;"
\test Prefix

\bye

show the same behaviour as the latex documents.

Ulrike 

> 
> On Fri, May 4, 2018 at 9:06 AM, Ulrike Fischer <news3 at nililand.de> wrote:
>> on tex.sx there is a question about a failing search in pdf
>> https://tex.stackexchange.com/questions/430054/failing-search-for-words-with-ligatures-after-update
>>
>> As I happened to have the font available I tested and can confirm
>> that something changed between TL17 and TL18:
>>
>> \documentclass{book}
>>
>> \usepackage{fontspec}
>> \setmainfont{FrutigerLTCom-Light.ttf}
>> \begin{document}
>> Prefix.
>> \end{document}
>>
>> With xelatex in TL17 is works fine and one can search in the pdf for
>> "Prefix", in TL18 it not longer works.
>>
>> The fonts are the same but in the newer pdf a mapping for the
>> ligature is missing:
>>
>> 7 beginbfchar
>> <0011> <002E>
>> <0014> <0031>
>> <0033> <0050>
>> <0048> <0065>
>> <0055> <0072>
>> <005B> <0078>
>> <011F> <FB01>  %<------- missing in TL18
>> endbfchar
>>
>> Another (free) font with the same Problem is Roboto:
>>
>> \setmainfont{Roboto-Regular.ttf} leads to
>>
>> 7 beginbfchar
>> <0012> <002E>
>> <0015> <0031>
>> <0034> <0050>
>> <0049> <0065>
>> <0056> <0072>
>> <005C> <0078>
>> <01A4> <FB01> %<--- missing in TL18
>> endbfchar
>>
>> (But here the fonts are perhaps not identical as they are in the
>> texmf trees).
>>
>> --
>> Ulrike Fischer
>> http://www.troubleshooting-tex.de/
>>


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at fuk.kindai.ac.jp  Sun May  6 11:07:58 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 6 May 2018 18:07:58 +0900
Subject: [tex-live] xdvipdfmx: tounicode entries for ligatures missing in pdf
In-Reply-To: <a71fd6b8-d41f-f68a-de99-9d7532ef0bf4@morningstar2.co.uk>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <cb8fcfd7-aeb4-e9e7-ea19-c74a647ca32c@Rhul.Ac.Uk>
 <5eef0cbd-9540-9c27-638f-3211a0570fab@morningstar2.co.uk>
 <62163298-8f08-e36c-d073-603cdc62d8c4@Rhul.Ac.Uk>
 <d30da2f5-c934-3744-6659-be05a4dea45e@morningstar2.co.uk>
 <a8cf7150-3f37-cb27-bcf4-087a02e4d7b2@Rhul.Ac.Uk>
 <08222e63-8a0b-44d1-a210-7944319223fe@morningstar2.co.uk>
 <adfadfe2-ba25-8e0b-525e-dd58c84d0654@Rhul.Ac.Uk>
 <a71fd6b8-d41f-f68a-de99-9d7532ef0bf4@morningstar2.co.uk>
Message-ID: <77EB5DD202BA4E6A93EE13D49D9D6F30@CJ3001517A>

> As I happened to have the font available I tested and can confirm
> that something changed between TL17 and TL18:

Thanks for the reports.
Fixed here.  I'll install in the TeX Live SVN after a little more tests.

Best,
Akira


From kakuto at fuk.kindai.ac.jp  Sun May  6 11:54:44 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 6 May 2018 18:54:44 +0900
Subject: [tex-live] xdvipdfmx: tounicode entries for ligatures missing
	in pdf
Message-ID: <A21522C4CFD448A99B0E0B30F97C05B5@CJ3001517A>

> Fixed here.  I'll install in the TeX Live SVN after a little more tests.

Done in r47625.

Thanks,
Akira


From h.y.acetaminophen at gmail.com  Sun May  6 13:30:58 2018
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sun, 6 May 2018 20:30:58 +0900
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <5DEC2D96C5994A88ADD147850E96A3D8@CJ3001517A>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <5DEC2D96C5994A88ADD147850E96A3D8@CJ3001517A>
Message-ID: <2E9B4434-3D8B-4F62-A735-01C6186AC376@gmail.com>

Dear Joseph,

> With TeX Live 2018 pLaTeX the following example gives the expected error for the first case,
> but in the second case I get an additional "\BAD" after the error

Fixed by H. Kitagawa in r47626.

Best,
Hironobu Yamashita



From joseph.wright at morningstar2.co.uk  Sun May  6 16:40:53 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 6 May 2018 15:40:53 +0100
Subject: [tex-live] epTeX weirdness with \numexpr
In-Reply-To: <2E9B4434-3D8B-4F62-A735-01C6186AC376@gmail.com>
References: <7f3c1b90-e437-d1a9-323f-1e2a8ffc1cd5@morningstar2.co.uk>
 <5DEC2D96C5994A88ADD147850E96A3D8@CJ3001517A>
 <2E9B4434-3D8B-4F62-A735-01C6186AC376@gmail.com>
Message-ID: <f62d1b52-ff5c-4eb8-25d4-81643980fd00@morningstar2.co.uk>

On 06/05/2018 12:30, Hironobu Yamashita wrote:
> Dear Joseph,
> 
>> With TeX Live 2018 pLaTeX the following example gives the expected error for the first case,
>> but in the second case I get an additional "\BAD" after the error
> 
> Fixed by H. Kitagawa in r47626.
> 
> Best,
> Hironobu Yamashita

Excellent: many thanks.

Joseph

From karl at freefriends.org  Mon May  7 23:52:25 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 May 2018 21:52:25 GMT
Subject: [tex-live] bug report of bibtex
In-Reply-To: <64D85D03-B21C-4462-9FDE-373232529A39@gmail.com>
Message-ID: <201805072152.w47LqPlW012623@freefriends.org>

    You can directly run latexmk in the source folder

Like Akira, the standard sequence worked for me:

pdflatex --output-dir=output source.tex
bibtex output/source
pdflatex --output-dir=output source.tex
pdflatex --output-dir=output source.tex

bibtex found ../Library.bib ok.

I am unable to easily discern what latexmk is running.
I can only suggest reporting this to the latexmk maintainer. --best, karl.

From angelo.g0 at libero.it  Tue May  8 00:23:00 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 8 May 2018 00:23:00 +0200 (CEST)
Subject: [tex-live] A problem after todaty update
Message-ID: <1746563436.257720.1525731780876@mail.libero.it>

Just for the sake of completeness...

The following simple test case does not build anymore after today update:

$ cat test-bug-20180507.tex
\documentclass{scrbook}

\usepackage{classicthesis}

\usepackage{mhchem}

\begin{document}
Hello!
\end{document}

$ pdflatex test-bug-20180507.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) [...]
 restricted \write18 enabled.
 entering extended mode
 [...]
(/opt/texlive/texmf-dist/tex/latex/amsmath/amsopn.sty))
(/opt/texlive/texmf-dist/tex/latex/chemgreek/chemgreek.sty
(/opt/texlive/texmf-dist/tex/latex/l3packages/xparse/xparse.sty

! LaTeX Error: Suspicious rollback/min-date date given.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...

l.26 \RequirePackage{expl3}[2018-04-12]

?


Just calling mhchem package before classicthesis fixes the build (but.. Will it be completely equivalent? the PDF size is a bit different...). 

The fact is I have built it that way for at least 10 years...

Below there are the packages update today.

Ciao,
  Angelo.

$ tlmgr --repository /mnt/tlrepo update --list
tlmgr: package repository /mnt/tlrepo (verified)
update:   academicons        [125k]: local:    47288, source:    47541
update:   acmart            [6511k]: local:    47404, source:    47550
update:   apnum              [736k]: local:    39710, source:    47510
update:   babel             [1342k]: local:    47497, source:    47576
update:   babel-french       [296k]: local:    47332, source:    47567
update:   babel-ukrainian    [464k]: local:    45036, source:    47585
update:   beamerposter        [83k]: local:    37009, source:    47508
update:   biblatex-gb7714-2015 [2800k]: local:    46298, source:    47593
update:   bibtexperllibs     [149k]: local:    46044, source:    47520
update:   bxjscls           [1690k]: local:    47174, source:    47517
update:   caption           [1865k]: local:    41409, source:    47551
update:   chngcntr           [231k]: local:    17157, source:    47577
update:   cleveref           [482k]: local:    46847, source:    47525
update:   colortbl           [595k]: local:    29803, source:    47614
update:   context-filter      [17k]: local:    47085, source:    47530
update:   context-vim         [15k]: local:    47085, source:    47531
update:   cooking-units      [658k]: local:    45585, source:    47514
update:   cslatex             [55k]: local:    47496, source:    47536
update:   csquotes           [325k]: local:    46601, source:    47564
update:   ctex              [1221k]: local:    46474, source:    47595
update:   datatool          [2766k]: local:    45759, source:    47543
update:   datetime2-estonian  [87k]: local:    36682, source:    47565
update:   datetime2-galician  [87k]: local:    36692, source:    47631
update:   datetime2-greek     [84k]: local:    36692, source:    47533
update:   datetime2-hebrew   [271k]: local:    36692, source:    47534
update:   datetime2-irish    [322k]: local:    36635, source:    47632
update:   datetime2-ukrainian [73k]: local:    44588, source:    47552
update:   dccpaper           [286k]: local:    45638, source:    47600
update:   dynkin-diagrams    [603k]: local:    46821, source:    47620
update:   factura           [2124k]: local:    46949, source:    47538
update:   fduthesis         [1546k]: local:    47408, source:    47628
update:   genealogytree     [3657k]: local:    46018, source:    47539
update:   graph35           [2100k]: local:    47088, source:    47522
update:   handin            [2371k]: local:    47292, source:    47590
update:   ifmtarg             [40k]: local:    19363, source:    47544
update:   includernw         [158k]: local:    47484, source:    47557
update:   jlreq               [97k]: local:    46514, source:    47589
update:   ketcindy          [8813k]: local:    47435, source:    47537
update:   koma-script-examples [551k]: local:    34243, source:    47523
update:   l3build            [719k]: local:    47135, source:    47629
update:   l3experimental    [2848k]: local:    46875, source:    47633
update:   l3kernel          [7778k]: local:    46875, source:    47516
update:   l3packages        [1793k]: local:    46712, source:    47516
update:   latex            [13383k]: local:    47500, source:    47612
update:   latex-bin           [21k]: local:    47496, source:    47536
update:   latexpand            [9k]: local:    41873, source:    47535
update:   libertinust1math  [2490k]: local:    45439, source:    47571
update:   ltximg             [216k]: local:    37006, source:    47568
update:   lua-check-hyphen   [118k]: local:    46573, source:    47527
update:   luamplib           [190k]: local:    47336, source:    47547
update:   luatexko           [256k]: local:    47337, source:    47512
update:   lyluatex           [872k]: local:    46952, source:    47584
update:   m-tx               [496k]: local:    47198, source:    47553
update:   make4ht            [137k]: local:    47398, source:    47616
update:   marginnote         [315k]: local:    43979, source:    47515
update:   mathalfa           [956k]: local:    43332, source:    47575
update:   mcf2graph          [884k]: local:    46199, source:    47634
update:   newtx             [4368k]: local:    47160, source:    47587
update:   nicematrix         [265k]: local:    47232, source:    47545
update:   platex            [1629k]: local:    47402, source:    47536
update:   plex-otf           [536k]: local:    47157, source:    47562
update:   polexpr             [48k]: local:    47412, source:    47509
update:   pstricks          [6997k]: local:    46232, source:    47572
update:   regexpatch         [533k]: local:    47233, source:    47601
update:   reledmac          [3229k]: local:    47359, source:    47622
update:   roboto           [13502k]: local:    38386, source:    47586
update:   robustindex        [418k]: local:    47495, source:    47521
update:   siunitx           [1563k]: local:    47489, source:    47596
update:   skdoc              [301k]: local:    43170, source:    47526
update:   stix              [4356k]: local:    36914, source:    47540
update:   tetex              [583k]: local:    47198, source:    47581
update:   tex4ht             [899k]: local:    47437, source:    47619
update:   texlive-de         [649k]: local:    47442, source:    47592
update:   texlive-docindex   [236k]: local:    47479, source:    47624
update:   texlive-msg-translations [109k]: local:    47433, source:    47505
update:   texlive-scripts    [116k]: local:    47481, source:    47624
update:   tikzsymbols        [576k]: local:    45222, source:    47563
update:   tools             [5310k]: local:    47500, source:    47612
update:   updmap-map         [179k]: local:    46957, source:    47581
update:   uplatex            [893k]: local:    47376, source:    47536
update:   xcharter          [1634k]: local:    46105, source:    47588
update:   xecjk             [1776k]: local:    47362, source:    47519
update:   xellipsis          [349k]: local:    42764, source:    47546
update:   xetex              [594k]: local:    45931, source:    47536
update:   xetexko            [282k]: local:    47338, source:    47513
update:   yathesis          [4889k]: local:    42671, source:    47615
update:   zxjafont           [146k]: local:    37281, source:    47613
update:   zxjatype           [142k]: local:    44949, source:    47597
autoinst: bath-bst           [740k]: local: <absent>, source:    47507
autoinst: bezierplot         [255k]: local: <absent>, source:    47566
autoinst: cascade             [77k]: local: <absent>, source:    47532
autoinst: clrdblpg           [288k]: local: <absent>, source:    47511
autoinst: colophon           [379k]: local: <absent>, source:    47542
autoinst: competences          [8k]: local: <absent>, source:    47573
autoinst: cqubeamer         [2455k]: local: <absent>, source:    47630
autoinst: dsserif            [320k]: local: <absent>, source:    47570
autoinst: kurdishlipsum       [89k]: local: <absent>, source:    47518
autoinst: latex-via-exemplos [1481k]: local: <absent>, source:    47524
autoinst: manyind            [154k]: local: <absent>, source:    47574
autoinst: modulus            [175k]: local: <absent>, source:    47599
autoinst: padcount           [149k]: local: <absent>, source:    47621
autoinst: stix2-otf         [1264k]: local: <absent>, source:    47549
autoinst: stix2-type1       [4425k]: local: <absent>, source:    47554
update:   collection-fontsextra [2k]: local:    47485, source:    47570
update:   collection-langarabic [1k]: local:    46628, source:    47518
update:   collection-langportuguese [1k]: local:    30962, source:    47524
update:   collection-latexextra [6k]: local:    47224, source:    47621
update:   collection-luatex    [1k]: local:    47011, source:    47566
update:   collection-mathscience [2k]: local:    47484, source:    47532
update:   collection-plaingeneric [1k]: local:    45805, source:    47599
update:   collection-publishers [2k]: local:    47227, source:    47507
update:   collection-xetex     [1k]: local:    45489, source:    47630

From jcc8 at psu.edu  Tue May  8 02:43:24 2018
From: jcc8 at psu.edu (John Collins)
Date: Mon, 7 May 2018 20:43:24 -0400
Subject: [tex-live] bug report of bibtex
In-Reply-To: <201805072152.w47LqPlW012623@freefriends.org>
References: <201805072152.w47LqPlW012623@freefriends.org>
Message-ID: <f4ba9924-89b2-a48d-f109-b40ec34d32ae@psu.edu>

On 5/7/18 5:52 PM, Karl Berry wrote:
>      You can directly run latexmk in the source folder
> 
> Like Akira, the standard sequence worked for me:
> 
> pdflatex --output-dir=output source.tex
> bibtex output/source
> pdflatex --output-dir=output source.tex
> pdflatex --output-dir=output source.tex
> 
> bibtex found ../Library.bib ok.
 >
 > I can only suggest reporting this to the latexmk maintainer.

Latexmk maintainer here.

For normal documents that sequence of commands does work. Unfortunately 
the bibtex run fails if the document uses \include.  Then  there are 
extra .aux files and output/source.aux inputs them, by commands like

     \@input{chapter1.aux}

When you invoke bibtex by

     bibtex output/source

it doesn't find the extra .aux files.

To work around this, latexmk effectively does the following

     sets BIBINPUTS and BSTINPUTS to include the current directory
     cd output
     bibtex source
     cd back to the original directory
     undo the setting of BIBINPUTS and BSTINPUTS

I didn't see any simpler way of handling this.  The solution has worked 
for me for a long time.

However, the solution fails if a .bib file is specified in a 
\bibliography command relative to the document directory; that is the 
OP's problem.

I don't see a general purpose solution other than to create appropriate 
symlinks in the output directory, which is (a) a fudge and (b) OS 
dependent as to whether it works.

What would be nice would be for bibtex to change its behavior to look 
for the other input files in the directory of the primary aux file.  But 
that's not what it does.  Is there some setting of bibtex that I am 
missing? Has someone a better idea?

John Collins




From d.p.carlisle at gmail.com  Tue May  8 08:54:20 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 8 May 2018 07:54:20 +0100
Subject: [tex-live] A problem after todaty update
In-Reply-To: <1746563436.257720.1525731780876@mail.libero.it>
References: <1746563436.257720.1525731780876@mail.libero.it>
Message-ID: <CAEW6iOhQNwjM6n19cizLh8xGCzW4VEtihpaEzyCH0vG3TeZaiQ@mail.gmail.com>

This may be (although I haven't fully traced yet) related to this bug
reported here

https://github.com/latex3/latex2e/issues/43

although that (and the error message text) are related to possible
mis-use of the date argument to the latexrelease class which isn't
used here.



You can avoid the error by giving latex the date it is looking for,
but this is just to get your document working again, it clearly isn't
the recommended solution (which is still to be determined)

David

\documentclass{scrbook}

\usepackage{classicthesis}

\def\requestedLaTeXdate{20180412}
\usepackage{mhchem}

\begin{document}
Hello!
\end{document}

From d.p.carlisle at gmail.com  Tue May  8 09:08:50 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 8 May 2018 08:08:50 +0100
Subject: [tex-live] A problem after todaty update
In-Reply-To: <CAEW6iOhQNwjM6n19cizLh8xGCzW4VEtihpaEzyCH0vG3TeZaiQ@mail.gmail.com>
References: <1746563436.257720.1525731780876@mail.libero.it>
 <CAEW6iOhQNwjM6n19cizLh8xGCzW4VEtihpaEzyCH0vG3TeZaiQ@mail.gmail.com>
Message-ID: <CAEW6iOjw5RPvGh2Q+yz5iid4a_pc5P2noNq_qeYtsDVppuLp2w@mail.gmail.com>

I wrote

> latexrelease [package]  which isn't used here.

But I now see that it is loaded by classicthesis, that is really an
error in that package, a package should never load latexrelease and
roll back the latex format, however that does mean that this case is
the same as the latex issue reported.

David

From amiede at gmail.com  Tue May  8 09:18:56 2018
From: amiede at gmail.com (=?UTF-8?B?QW5kcsOpIE1pZWRl?=)
Date: Tue, 8 May 2018 09:18:56 +0200
Subject: [tex-live] A problem after todaty update
In-Reply-To: <CAEW6iOjw5RPvGh2Q+yz5iid4a_pc5P2noNq_qeYtsDVppuLp2w@mail.gmail.com>
References: <1746563436.257720.1525731780876@mail.libero.it>
 <CAEW6iOhQNwjM6n19cizLh8xGCzW4VEtihpaEzyCH0vG3TeZaiQ@mail.gmail.com>
 <CAEW6iOjw5RPvGh2Q+yz5iid4a_pc5P2noNq_qeYtsDVppuLp2w@mail.gmail.com>
Message-ID: <CAFsnMQauJw+5Lo0nK1yM1aaoUD=xH7=1rZ428d=pVZjnf-=0mg@mail.gmail.com>

Dear David, dear all,

thanks for the notification and the quick reply explaining problem + solution.

I am recovering from a hand injury, but will address and fix the problem asap.

Viele Gr??e

Andr?


On Tue, May 8, 2018 at 9:08 AM, David Carlisle <d.p.carlisle at gmail.com> wrote:
> I wrote
>
>> latexrelease [package]  which isn't used here.
>
> But I now see that it is loaded by classicthesis, that is really an
> error in that package, a package should never load latexrelease and
> roll back the latex format, however that does mean that this case is
> the same as the latex issue reported.
>
> David


From minorinoki at gmail.com  Tue May  8 17:25:39 2018
From: minorinoki at gmail.com (ARATA Mizuki)
Date: Wed, 9 May 2018 00:25:39 +0900
Subject: [tex-live] TL2018/runscript: Problem with files with non-ASCII path
 on Windows; TeXworks is affected
Message-ID: <2A92A3A7-4EFE-4B37-A912-2B01F279C0B7@gmail.com>

Hi,

I'm reporting a problem in the runscript wrapper on Windows.

# Symptoms

On Windows, the TeXworks from TeX Live 2018 can't open the .tex files with non-ASCII characters in its path.  This problem arises when TeXworks is launched by double-clicking the .tex file or dropping the .tex file on bin/win32/texworks.exe, and not when opening the file with 'Open File' dialog on the app.  (So, this problem must have to do with the command-line processing!)

Looking at the error message [1], the path string is suffering from mojibake.  In particular, it looks like as if a multibyte string encoded in CP932 got interpreted as Latin-1.

[1]: Screenshot: https://blog.miz-ar.info/wp-content/uploads/2018/05/screenshot-texworks-error.png

As a note, the TeXworks from TeX Live 2017 doesn't suffer from this problem.  This is strange, because TeXworks hasn't been updated since April 2017 and their hash (C:/texlive/201{7,8}/tlpkg/texworks/texworks.exe on my machine) match.

(As described below, this problem is not limited to TeXworks and affects all non-Lua programs that are called via runscript; e.g. dviout is also affected.)

# The Cause

The problem is in the runscript wrapper.  Actually, dropping the file onto the 'real' texworks.exe (tlpkg/texworks/texworks.exe) works around the problem.

Here is what happens when the 'wrapper' texworks.exe (bin/win32/texworks.exe) is launched:

1. The 'wrapper' texworks.exe runs runscript.tlu with LuaTeX (luatex.dll).
2. The script runscript.tlu launches the 'real' texworks.exe by calling LuaTeX's os.spawn, and os.spawn calls _spawnvp function in the C Runtime Library.
3. The function _spawnvp should call CreateProcessW with its multibyte argument converted to wide string.

So what changed since TL2017?  runscript.tlu?  LuaTeX?  Of course these two have changed since 2017, but there is another component that has changed:  The C Runtime Library that LuaTeX depends on.

In TL2017, luatex.dll depended on MSVCR100.DLL (the 'classic' MSVCRT), but in TL2018 luatex.dll depends on the Universal CRT (api-*.dll and vcruntime140.dll and ucrtbase.dll stuff).

Between these two C Runtime Libraries, the behavior of system()-like functions (including _spawnvp) is different:  In the classic MSVCRT, they always use the system encoding (CP932 on Japanese Windows) to convert the multibyte argument, but in the Universal CRT, they depend on LC_CTYPE setting, which is "C" by default.

What happens when converting multibyte string into wide with LC_CTYPE=C?  The 8-bit value from the multibyte string simply gets widened into 16-bit; i.e. the multibyte string is treated as Latin-1, causing mojibake as observed!

# A Workaround

Setting LC_CTYPE equal to the system encoding (CP932 on Japanese Windows) fixes the problem.  This is done by `setlocale(LC_CTYPE, "")` in C and `os.setlocale("", "ctype")` in Lua.

In short: Put the line

> os.setlocale("", "ctype")

at the beginning of runscript.tlu.

--
ARATA Mizuki



From kakuto at fuk.kindai.ac.jp  Wed May  9 06:24:12 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 9 May 2018 13:24:12 +0900
Subject: [tex-live] TL2018/runscript: Problem with files with non-ASCII
	path on Windows; TeXworks is affected
In-Reply-To: <2A92A3A7-4EFE-4B37-A912-2B01F279C0B7@gmail.com>
References: <2A92A3A7-4EFE-4B37-A912-2B01F279C0B7@gmail.com>
Message-ID: <D2D362808B8C408585EAF19D5D793C6B@CJ3001517A>

Dear ARATA Mizuki, 

> # A Workaround
>
> Setting LC_CTYPE equal to the system encoding (CP932 on Japanese Windows) fixes the problem. 
> This is done by `setlocale(LC_CTYPE, "")` in C and `os.setlocale("", "ctype")` in Lua.
>
> In short: Put the line
>
> os.setlocale("", "ctype")
>
> at the beginning of runscript.tlu.

Thanks for your detailed reports, and your solution.
In r47644, I put os.setlocale("", "ctype") at the beginning of the function MAIN_CHUNK()
in runscript.tlu. If it does not work, please report again.

Best,
Akira



From news3 at nililand.de  Wed May  9 08:51:13 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 9 May 2018 08:51:13 +0200
Subject: [tex-live] fd-files from the stix package are not installed
Message-ID: <1sehrts6v7avk$.dlg@nililand.de>

The dtx-package of stix contains a number of fd-files which should
got to tex/latex/stix. But they are currently missing, only stix.sty
is there. 


This means that a simple call to the package fails with NFSS
corrupted:

\documentclass{book}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{stix}
\begin{document}
    \(\cos^2\theta+\sin^2\theta=1\)
\end{document}

(reported on tex.sx:
https://tex.stackexchange.com/questions/430749/problem-with-stix-fonts-in-texlive-2018

The list of missing files:

\generate{\file{ls1stix.fd}{\from{stix.fdd}{ls1stix}}}
\generate{\file{ls1stixbb.fd}{\from{stix.fdd}{ls1stixbb}}}
\generate{\file{ls1stixfrak.fd}{\from{stix.fdd}{ls1stixfrak}}}
\generate{\file{ls1stixscr.fd}{\from{stix.fdd}{ls1stixscr}}}
\generate{\file{ls1stixsf.fd}{\from{stix.fdd}{ls1stixsf}}}
\generate{\file{ls2stixcal.fd}{\from{stix.fdd}{ls2stixcal}}}
\generate{\file{ls2stixex.fd}{\from{stix.fdd}{ls2stixex}}}
\generate{\file{ls2stix.fd}{\from{stix.fdd}{ls2stix}}}
\generate{\file{ls2stixtt.fd}{\from{stix.fdd}{ls2stixtt}}}
\generate{\file{ot1stix.fd}{\from{stix.fdd}{ot1stix}}}
\generate{\file{ot2stix.fd}{\from{stix.fdd}{ot2stix}}}
\generate{\file{t1stix.fd}{\from{stix.fdd}{t1stix}}}
\generate{\file{ts1stix.fd}{\from{stix.fdd}{ts1stix}}}



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From enrico.gregorio at gmail.com  Wed May  9 08:52:42 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Wed, 9 May 2018 08:52:42 +0200
Subject: [tex-live] Missing fd files for stix
Message-ID: <357F60B5-0DC8-48F5-9FC2-DA7E2851C9A5@gmail.com>

For some reasons, the .fd files necessary to run documents
having \usepackage{stix} are missing. They can be easily generated
by

  tex stix.fdd

See https://tex.stackexchange.com/questions/430749/problem-with-stix-fonts-in-texlive-2018
for a description of the problem.

The last revision for stix is http://tug.org/svn/texlive?view=revision&sortby=date&revision=47540

Ciao
Enrico

From daleif at math.au.dk  Wed May  9 09:48:48 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 07:48:48 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
Message-ID: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>

We keep getting a permission denied on renaming

texlive.tlpdb.tmp 

to

texlive.tlpdb

We cannot disable AV (company policy does not allow us). The AV log does not show any recent blocking, so AV might not be relevant to this.

My test right now (in a VM) got to ~150 pkgs installed before I got this error. Yesterday on a real PC we got to ~1500 pkgs installed twice.

Any suggestions?



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math



From denis.bitouze at univ-littoral.fr  Wed May  9 10:06:34 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 10:06:34 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers): release
	or updated?
Message-ID: <87r2mlp81h.fsf@example.com>

Hi,

we want to deploy TL 2018 (on multiple computers of multiple computer
rooms).

I noticed several, maybe critical, troubles with some packages
(`latexmk', `multicol', etc.) that were fixed after TL release (but
I hadn't time to read carefully the corresponding bug reports).

Is it nevertheless safe to install the release or is it safer to install
TL at its current state?

I know each snapshot of TL may content some critical bug but I ask the
question because it would be tedious to update TL on each computer
afterwards.

All the best.
-- 
Denis

From zdenek.wagner at gmail.com  Wed May  9 10:21:45 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 9 May 2018 10:21:45 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87r2mlp81h.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
Message-ID: <CAC1phyZhuAjm1Wi=cHaJEdwHM9CTXPWfqZu8ipZb6xFvKYd29w@mail.gmail.com>

Hi,

if you have all computers on LAN and have a reliable Linux server, you can
install TL will all platforms you need and share the TEXMF trees. You can
thus have just one instance used by all Linux and Windows computers and
update only one computer.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-05-09 10:06 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:

> Hi,
>
> we want to deploy TL 2018 (on multiple computers of multiple computer
> rooms).
>
> I noticed several, maybe critical, troubles with some packages
> (`latexmk', `multicol', etc.) that were fixed after TL release (but
> I hadn't time to read carefully the corresponding bug reports).
>
> Is it nevertheless safe to install the release or is it safer to install
> TL at its current state?
>
> I know each snapshot of TL may content some critical bug but I ask the
> question because it would be tedious to update TL on each computer
> afterwards.
>
> All the best.
> --
> Denis
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180509/5d5dca70/attachment.html>

From siepo at cybercomm.nl  Wed May  9 11:05:33 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 9 May 2018 11:05:33 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <CAC1phyZhuAjm1Wi=cHaJEdwHM9CTXPWfqZu8ipZb6xFvKYd29w@mail.gmail.com>
References: <87r2mlp81h.fsf@example.com>
 <CAC1phyZhuAjm1Wi=cHaJEdwHM9CTXPWfqZu8ipZb6xFvKYd29w@mail.gmail.com>
Message-ID: <20180509090533.GB1409@bitmuis.thuis.internal>

On Wed, May 09, 2018 at 10:21:45AM +0200, Zdenek Wagner wrote:
> Hi,
> 
> if you have all computers on LAN and have a reliable Linux server, you can
> install TL will all platforms you need and share the TEXMF trees. You can
> thus have just one instance used by all Linux and Windows computers and
> update only one computer.

The TL launcher (http://mirror.ctan.org/support/tlaunch/), included
in TL, can still provide the Windows amenities in such a situation.

> 2018-05-09 10:06 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:
> 
> > Hi,
> >
> > we want to deploy TL 2018 (on multiple computers of multiple computer
> > rooms).
> >
> > I noticed several, maybe critical, troubles with some packages
> > (`latexmk', `multicol', etc.) that were fixed after TL release (but
> > I hadn't time to read carefully the corresponding bug reports).
> >
> > Is it nevertheless safe to install the release or is it safer to install
> > TL at its current state?
> >
> > I know each snapshot of TL may content some critical bug but I ask the
> > question because it would be tedious to update TL on each computer
> > afterwards.
> >
> > All the best.
> > --
> > Denis
> >

-- 
Siep Kroonenberg

From denis.bitouze at univ-littoral.fr  Wed May  9 11:05:43 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 11:05:43 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <CAC1phyZhuAjm1Wi=cHaJEdwHM9CTXPWfqZu8ipZb6xFvKYd29w@mail.gmail.com>
 (Zdenek Wagner's message of "Wed, 9 May 2018 10:21:45 +0200")
References: <87r2mlp81h.fsf@example.com>
 <CAC1phyZhuAjm1Wi=cHaJEdwHM9CTXPWfqZu8ipZb6xFvKYd29w@mail.gmail.com>
Message-ID: <87fu31p5aw.fsf@example.com>

Le 09/05/18 ? 10h21, Zdenek Wagner a ?crit :

> Hi,

Hi Zdenek,

> if you have all computers on LAN and have a reliable Linux server, you
> can install TL will all platforms you need and share the TEXMF
> trees. You can thus have just one instance used by all Linux and
> Windows computers and update only one computer.

Thanks for the hint. I'll suggest it to our IT engineer.
-- 
Denis


From daleif at math.au.dk  Wed May  9 11:34:53 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 09:34:53 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
Message-ID: <1525858493716.26535@math.au.dk>

Hmm, it seems to be some sort of race condition.

It is caused by the save function in TLPDB, dying on the rename.

It might be the AV that has grabbed and locked the texlive.tlpdb.tmp while we are attempting to rename it.

It runs a bit more smoothly if we change the die to warn in that save function.

Though of course then the resulting  texlive.tlpdb in the end will not be correct.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 09 May 2018 09:48
To: TeXLive
Subject: [tex-live] Installing TL18 on Win10 - permission denied

We keep getting a permission denied on renaming

texlive.tlpdb.tmp

to

texlive.tlpdb

We cannot disable AV (company policy does not allow us). The AV log does not show any recent blocking, so AV might not be relevant to this.

My test right now (in a VM) got to ~150 pkgs installed before I got this error. Yesterday on a real PC we got to ~1500 pkgs installed twice.

Any suggestions?



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math




From preining at logic.at  Wed May  9 15:29:26 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 May 2018 22:29:26 +0900
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87r2mlp81h.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
Message-ID: <20180509132926.GB13654@bulldog.preining.info>

Hi Denis,

others have answered already, but I had the feeling that your *original*
question was not answered:

> Is it nevertheless safe to install the release or is it safer to install
> TL at its current state?

I would suggest to wait even a bit more until binary updates are out.
Due to the late update of the LaTeX kernel just before the freeze, some
packages couldn't get the updates into TL for the DVD version, in
particular csquote. Several of them have been fixed in the meantime.

Up to now you could use today's tlnet, and it would be definitely better
than what is in the release .iso image.

But there are also several bugs in the binaries, most particular lost
ligature mappings in pdfs, so that text is not found anymore. And
crashes with certain png types.

We are preparing updates to the binaries just now, i386-linux and
x86_64-linux I updated today, win32 was updated by Akira already,
other binaries will hopefully follow. 

I strongly suggest:
* wait until the TL binaries for the archs you need are updated
* give it a test
* then use that state
instead of the iso.

> I know each snapshot of TL may content some critical bug but I ask the
> question because it would be tedious to update TL on each computer
> afterwards.

This can be done in the way Zdenek suggested. I have done this back then
in my old department with a variety of mac and unix computers, just one
master installation and all others just nfs mount.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed May  9 15:41:04 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 May 2018 22:41:04 +0900
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
Message-ID: <20180509134104.GC13654@bulldog.preining.info>

Hi Lars,

> Any suggestions?

As with Siep's suggestion, could you try patching tlpkg/TeXLive/TLPDB.pm
as follows:

--- a/Master/tlpkg/TeXLive/TLPDB.pm
+++ b/Master/tlpkg/TeXLive/TLPDB.pm
@@ -101,6 +101,7 @@ use TeXLive::TLUtils qw(dirname mkdirhier member win32 info log debug ddebug
 use TeXLive::TLWinGoo;

 use Cwd 'abs_path';
+use File::Copy qw//;

 my $_listdir;

@@ -628,9 +629,11 @@ sub save {
   open(FOO, ">$tmppath") || die "$0: open(>$tmppath) failed: $!";
   $self->writeout(\*FOO);
   close(FOO);
+  # on Windows the renaming sometimes fails, try to copy and unlink the
+  # .tmp file. This we do for all archs, cannot hurt.
   # if we managed that one, we move it over
-  die ("rename $tmppath to $path failed: $!")
-    unless rename($tmppath, $path);
+  File::Copy::copy ($tmppath, $path) or die ("copy $tmppath to $path failed: $!");
+  unlink ($tmppath) or tlwarn ("TLPDB: cannot unlink $tmppath: $!\n");
 }

 =pod

Maybe this helps in your case (and some others, too).

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From daleif at math.au.dk  Wed May  9 15:46:33 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 13:46:33 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <20180509134104.GC13654@bulldog.preining.info>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>,
 <20180509134104.GC13654@bulldog.preining.info>
Message-ID: <1525873593052.81221@math.au.dk>

Thanks, I'll test that in my VM on Friday

BTW: what is the proper  method for writing to the installation console and the installation log?

I was playing with the save function and changed it from dying to warn, tht was listen in the console, but not in the log

Should

&log

be enough?

In my latest test I rsynced the tlnet folder to a newwork share and is running it though this. The system not having to download 3x3600 packages over the open internet might calm the AV (which I still suspect is the troublemaker here)


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 09 May 2018 15:41
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Hi Lars,

> Any suggestions?

As with Siep's suggestion, could you try patching tlpkg/TeXLive/TLPDB.pm
as follows:

--- a/Master/tlpkg/TeXLive/TLPDB.pm
+++ b/Master/tlpkg/TeXLive/TLPDB.pm
@@ -101,6 +101,7 @@ use TeXLive::TLUtils qw(dirname mkdirhier member win32 info log debug ddebug
 use TeXLive::TLWinGoo;

 use Cwd 'abs_path';
+use File::Copy qw//;

 my $_listdir;

@@ -628,9 +629,11 @@ sub save {
   open(FOO, ">$tmppath") || die "$0: open(>$tmppath) failed: $!";
   $self->writeout(\*FOO);
   close(FOO);
+  # on Windows the renaming sometimes fails, try to copy and unlink the
+  # .tmp file. This we do for all archs, cannot hurt.
   # if we managed that one, we move it over
-  die ("rename $tmppath to $path failed: $!")
-    unless rename($tmppath, $path);
+  File::Copy::copy ($tmppath, $path) or die ("copy $tmppath to $path failed: $!");
+  unlink ($tmppath) or tlwarn ("TLPDB: cannot unlink $tmppath: $!\n");
 }

 =pod

Maybe this helps in your case (and some others, too).

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From denis.bitouze at univ-littoral.fr  Wed May  9 16:01:41 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 16:01:41 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <20180509132926.GB13654@bulldog.preining.info> (Norbert
 Preining's message of "Wed, 9 May 2018 22:29:26 +0900")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
Message-ID: <87vabxnd16.fsf@example.com>

Le 09/05/18 ? 22h29, Norbert Preining a ?crit :

> Hi Denis,

Hi Norbert,

> others have answered already, but I had the feeling that your
> *original* question was not answered:
>
>> Is it nevertheless safe to install the release or is it safer to
>> install TL at its current state?
>
> I would suggest to wait even a bit more until binary updates are out.
> Due to the late update of the LaTeX kernel just before the freeze, some
> packages couldn't get the updates into TL for the DVD version, in
> particular csquote. Several of them have been fixed in the meantime.

OK, good to know!

> Up to now you could use today's tlnet, and it would be definitely
> better than what is in the release .iso image.

OK but, in order to save bandwith, I still continue to massively make
use of the `.iso' file: I downloaded it once and, for the (numerous)
LaTeX courses I'm giving, I am providing it (on USB sticks) to each
student who can install TL without downloading everything.

> But there are also several bugs in the binaries, most particular lost
> ligature mappings in pdfs, so that text is not found anymore. And
> crashes with certain png types.

Argh!

> We are preparing updates to the binaries just now, i386-linux and
> x86_64-linux I updated today, win32 was updated by Akira already,
> other binaries will hopefully follow. 
>
> I strongly suggest:
> * wait until the TL binaries for the archs you need are updated

I'm waiting for your go sign! :)

> * give it a test
> * then use that state
> instead of the iso.

I guess I could at that time build an `.iso' file with the content of
the `Master' directory of the TL.

>> I know each snapshot of TL may content some critical bug but I ask the
>> question because it would be tedious to update TL on each computer
>> afterwards.
>
> This can be done in the way Zdenek suggested. I have done this back then
> in my old department with a variety of mac and unix computers, just one
> master installation and all others just nfs mount.

Nice!

But, when I answered Zdenek, I forgot that years ago (at least 10 years
ago), I used to try this method but the compilation time was
dramatically slow. Maybe both software and hardware are better for
handling this nowadays.

Best.
-- 
Denis


From daleif at math.au.dk  Wed May  9 16:21:00 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 14:21:00 +0000
Subject: [tex-live] Deployment of TL 2018 (on multiple
 computers):	release or updated?
In-Reply-To: <87vabxnd16.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>,<87vabxnd16.fsf@example.com>
Message-ID: <1525875660096.2492@math.au.dk>

You mentioned the ISO on USB, have you considered rsyncing the tlnet tree to the USB instead?

Granted, this takes a while for updating the USB, but then the students will not be that far behind in updates when they install from the USB.

One disadvantage: On Windows: installing TL from the tlnet folder on the USB is rather slow (Mac and Linux runs 10-100 times faster from USB than windows for some reason).

BTW: Once I have a new TLx on my USBs, I update them with rsync from my master on my linux box, that is rather fast.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Denis Bitouz? <denis.bitouze at univ-littoral.fr>
Sent: 09 May 2018 16:01
To: Norbert Preining
Cc: tex-live at tug.org
Subject: Re: [tex-live] Deployment of TL 2018 (on multiple computers):  release or updated?

Le 09/05/18 ? 22h29, Norbert Preining a ?crit :

> Hi Denis,

Hi Norbert,

> others have answered already, but I had the feeling that your
> *original* question was not answered:
>
>> Is it nevertheless safe to install the release or is it safer to
>> install TL at its current state?
>
> I would suggest to wait even a bit more until binary updates are out.
> Due to the late update of the LaTeX kernel just before the freeze, some
> packages couldn't get the updates into TL for the DVD version, in
> particular csquote. Several of them have been fixed in the meantime.

OK, good to know!

> Up to now you could use today's tlnet, and it would be definitely
> better than what is in the release .iso image.

OK but, in order to save bandwith, I still continue to massively make
use of the `.iso' file: I downloaded it once and, for the (numerous)
LaTeX courses I'm giving, I am providing it (on USB sticks) to each
student who can install TL without downloading everything.

> But there are also several bugs in the binaries, most particular lost
> ligature mappings in pdfs, so that text is not found anymore. And
> crashes with certain png types.

Argh!

> We are preparing updates to the binaries just now, i386-linux and
> x86_64-linux I updated today, win32 was updated by Akira already,
> other binaries will hopefully follow.
>
> I strongly suggest:
> * wait until the TL binaries for the archs you need are updated

I'm waiting for your go sign! :)

> * give it a test
> * then use that state
> instead of the iso.

I guess I could at that time build an `.iso' file with the content of
the `Master' directory of the TL.

>> I know each snapshot of TL may content some critical bug but I ask the
>> question because it would be tedious to update TL on each computer
>> afterwards.
>
> This can be done in the way Zdenek suggested. I have done this back then
> in my old department with a variety of mac and unix computers, just one
> master installation and all others just nfs mount.

Nice!

But, when I answered Zdenek, I forgot that years ago (at least 10 years
ago), I used to try this method but the compilation time was
dramatically slow. Maybe both software and hardware are better for
handling this nowadays.

Best.
--
Denis



From preining at logic.at  Wed May  9 16:25:51 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 May 2018 23:25:51 +0900
Subject: [tex-live] fd-files from the stix package are not installed
In-Reply-To: <357F60B5-0DC8-48F5-9FC2-DA7E2851C9A5@gmail.com>
 <1sehrts6v7avk$.dlg@nililand.de>
Message-ID: <20180509142551.GD13654@bulldog.preining.info>

Hi Ulrike, hi Enrico,

> The dtx-package of stix contains a number of fd-files which should
> got to tex/latex/stix. But they are currently missing, only stix.sty

I updated the stix package to generate and include the .fd files.

Thanks for the report

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed May  9 16:30:15 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 May 2018 23:30:15 +0900
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <1525873593052.81221@math.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
Message-ID: <20180509143015.GE13654@bulldog.preining.info>

Hi Lars,

> BTW: what is the proper  method for writing to the installation console and the installation log?
...
> &log

See pod docs of TLUtils. log only writes to the logfile. If you want
to issue something to console and logfile, either use info, debug,
ddebug, or tlwarn, and depending on the -v setting you get output.
If you do nothing, info will work and will go to the log file as well as
the console.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From daleif at math.au.dk  Wed May  9 16:32:31 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 14:32:31 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <20180509143015.GE13654@bulldog.preining.info>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>,
 <20180509143015.GE13654@bulldog.preining.info>
Message-ID: <1525876351152.68254@math.au.dk>

Thanks

Once my Win10 VM is finished updating (sigh) I'll give it a spin.

(my spin class got cancelled so I got extra time in the office)


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 09 May 2018 16:30
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Hi Lars,

> BTW: what is the proper  method for writing to the installation console and the installation log?
...
> &log

See pod docs of TLUtils. log only writes to the logfile. If you want
to issue something to console and logfile, either use info, debug,
ddebug, or tlwarn, and depending on the -v setting you get output.
If you do nothing, info will work and will go to the log file as well as
the console.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From preining at logic.at  Wed May  9 16:34:21 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 May 2018 23:34:21 +0900
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87vabxnd16.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com>
Message-ID: <20180509143421.GF13654@bulldog.preining.info>

Hi Denis,

> OK but, in order to save bandwith, I still continue to massively make
> use of the `.iso' file: I downloaded it once and, for the (numerous)
> LaTeX courses I'm giving, I am providing it (on USB sticks) to each
> student who can install TL without downloading everything.

Fine with that, but please advise them to run tlmgr update --self --all
after installation ;-)

> > * wait until the TL binaries for the archs you need are updated
> 
> I'm waiting for your go sign! :)

No go sign from me. It depends on *your* requirements. If it is only
x86_64-linux and/or win32, you should be settle by tomorrow's rebuild
(if it worked out). You should see updates to various .ARCH packages.

> I guess I could at that time build an `.iso' file with the content of
> the `Master' directory of the TL.

Good luck, that is not a trivial task. But probably possible.

> ago), I used to try this method but the compilation time was
> dramatically slow. Maybe both software and hardware are better for
> handling this nowadays.

NFS problem. But shouldn't be if you use ls-R files which are used by
default. So unless your networks is extremely slow, that shouldn't be
a problem.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Wed May  9 16:38:00 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 9 May 2018 16:38:00 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87vabxnd16.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com>
Message-ID: <CAC1phyZ8c-1Zc1DLYOWzm0MX39kFw3SPw1mJWXfB1qCBYJU5WA@mail.gmail.com>

2018-05-09 16:01 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:

    Le 09/05/18 ? 22h29, Norbert Preining a ?crit :

    ....




    >
    > This can be done in the way Zdenek suggested. I have done this back
then
    > in my old department with a variety of mac and unix computers, just
one
    > master installation and all others just nfs mount.

    Nice!

    But, when I answered Zdenek, I forgot that years ago (at least 10 years
    ago), I used to try this method but the compilation time was
    dramatically slow. Maybe both software and hardware are better for
    handling this nowadays.


It depends on your LAN and the server. A few years ago I had a project when
I had to analyze a few million data sets, each analysis took about 2
minutes but the whole calculation took 3 months using 80 CPU cores, all
files were on one Linux computer (32-bit, single core), the disk was
mounted by NFS to some computers and by SSHFS to some computers, all
computers are on GB LAN and have GB ethernet ports. in comparison with the
same calculation with the files on a local disk there was no difference.


    Best.
    --
    Denis



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180509/2b4b34dd/attachment.html>

From denis.bitouze at univ-littoral.fr  Wed May  9 16:42:28 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 16:42:28 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple
	computers):	release or updated?
In-Reply-To: <1525875660096.2492@math.au.dk> (Lars Madsen's message of "Wed,
 9 May 2018 14:21:00 +0000")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
Message-ID: <87r2mkoppn.fsf@example.com>

Le 09/05/18 ? 14h21, Lars Madsen a ?crit :

> You mentioned the ISO on USB, have you considered rsyncing the tlnet
> tree to the USB instead?

Yes but see below.

> Granted, this takes a while for updating the USB, but then the
> students will not be that far behind in updates when they install from
> the USB.

Indeed but the same happens with an `.iso' file built with a rsynced
tlnet tree.

> One disadvantage: On Windows: installing TL from the tlnet folder on
> the USB is rather slow (Mac and Linux runs 10-100 times faster from
> USB than windows for some reason).

So could be completely unusable: a student of mine tried yesterday to
install from the `.iso' file he mounted on its Windows 10 machine and
the evaluated time to achieve the installation oscillated between 40 and
50... hours!

My experience is that it is much more faster for the students to:

1. just copy the (huge but monolithic) `.iso' file from my USB stick,
2. mount the `.iso' file (on Windows, possibly with the help of
   WinCDEmu: http://wincdemu.sysprogs.org/),
3. install from the mounted file (on Linux, usually about 15 minutes;
   on Windows, much longer: usually between 30 minutes and 2 hours,
   sometimes 5 hours :$ and, hopefully, the case above is an exception),

than to install directly from the tlnet tree located on the USB stick.

Moreover, I usually own less USB sticks than students and, just after
a student copied the `.iso' file, (s)he can give the USB stick to
another one.

> BTW: Once I have a new TLx on my USBs, I update them with rsync from
> my master on my linux box, that is rather fast.

Indeed, I guess so.
-- 
Denis


From daleif at math.au.dk  Wed May  9 16:47:32 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 14:47:32 +0000
Subject: [tex-live] Deployment of TL 2018 (on multiple
 computers):	release or updated?
In-Reply-To: <87r2mkoppn.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>	<87vabxnd16.fsf@example.com>
 <1525875660096.2492@math.au.dk>,<87r2mkoppn.fsf@example.com>
Message-ID: <1525877252862.12232@math.au.dk>


We usually ask the students to copy the tlnet folder to their harddisk and then pass on the USB. But copying loads and loads of small files are super slow in windows so that copying takes about 10-20min and then comes then installation.

We tried zipping the TL tree such that is it is only one file to copy, which is faster, but takes just as long time to unzip in Windows.

Sometimes, my cloning script is just faster to use, but I haven't touch that script in years. (then you'd only need to unzip a file tree and run a script afterwards, still takes time)

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Denis Bitouz? <denis.bitouze at univ-littoral.fr>
Sent: 09 May 2018 16:42
To: Lars Madsen
Cc: Denis Bitouz?; Norbert Preining; tex-live at tug.org
Subject: Re: [tex-live] Deployment of TL 2018 (on multiple computers):  release or updated?

Le 09/05/18 ? 14h21, Lars Madsen a ?crit :

> You mentioned the ISO on USB, have you considered rsyncing the tlnet
> tree to the USB instead?

Yes but see below.

> Granted, this takes a while for updating the USB, but then the
> students will not be that far behind in updates when they install from
> the USB.

Indeed but the same happens with an `.iso' file built with a rsynced
tlnet tree.

> One disadvantage: On Windows: installing TL from the tlnet folder on
> the USB is rather slow (Mac and Linux runs 10-100 times faster from
> USB than windows for some reason).

So could be completely unusable: a student of mine tried yesterday to
install from the `.iso' file he mounted on its Windows 10 machine and
the evaluated time to achieve the installation oscillated between 40 and
50... hours!

My experience is that it is much more faster for the students to:

1. just copy the (huge but monolithic) `.iso' file from my USB stick,
2. mount the `.iso' file (on Windows, possibly with the help of
   WinCDEmu: http://wincdemu.sysprogs.org/),
3. install from the mounted file (on Linux, usually about 15 minutes;
   on Windows, much longer: usually between 30 minutes and 2 hours,
   sometimes 5 hours :$ and, hopefully, the case above is an exception),

than to install directly from the tlnet tree located on the USB stick.

Moreover, I usually own less USB sticks than students and, just after
a student copied the `.iso' file, (s)he can give the USB stick to
another one.

> BTW: Once I have a new TLx on my USBs, I update them with rsync from
> my master on my linux box, that is rather fast.

Indeed, I guess so.
--
Denis


From denis.bitouze at univ-littoral.fr  Wed May  9 16:48:58 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 16:48:58 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <20180509143421.GF13654@bulldog.preining.info> (Norbert
 Preining's message of "Wed, 9 May 2018 23:34:21 +0900")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com>
 <20180509143421.GF13654@bulldog.preining.info>
Message-ID: <87mux8opet.fsf@example.com>

Le 09/05/18 ? 23h34, Norbert Preining a ?crit :

> Hi Denis,

Hi Norbert,

>> OK but, in order to save bandwith, I still continue to massively make
>> use of the `.iso' file: I downloaded it once and, for the (numerous)
>> LaTeX courses I'm giving, I am providing it (on USB sticks) to each
>> student who can install TL without downloading everything.
>
> Fine with that, but please advise them to run tlmgr
> update --self --all after installation ;-)

Sigh... too complicated in the eyes of most of them  ;)

>> > * wait until the TL binaries for the archs you need are updated
>> 
>> I'm waiting for your go sign! :)
>
> No go sign from me. It depends on *your* requirements.

Indeed.

> If it is only x86_64-linux and/or win32, you should be settle by
> tomorrow's rebuild (if it worked out). You should see updates to
> various .ARCH packages.

Okay.

>> I guess I could at that time build an `.iso' file with the content of
>> the `Master' directory of the TL.
>
> Good luck, that is not a trivial task. But probably possible.

I used to succeed, with the help of K3b.

>> ago), I used to try this method but the compilation time was
>> dramatically slow. Maybe both software and hardware are better for
>> handling this nowadays.
>
> NFS problem. But shouldn't be if you use ls-R files which are used by
> default. So unless your networks is extremely slow, that shouldn't be
> a problem.

Okay.

Best.
-- 
Denis


From denis.bitouze at univ-littoral.fr  Wed May  9 16:51:30 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 16:51:30 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <CAC1phyZ8c-1Zc1DLYOWzm0MX39kFw3SPw1mJWXfB1qCBYJU5WA@mail.gmail.com>
 (Zdenek Wagner's message of "Wed, 9 May 2018 16:38:00 +0200")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com>
 <CAC1phyZ8c-1Zc1DLYOWzm0MX39kFw3SPw1mJWXfB1qCBYJU5WA@mail.gmail.com>
Message-ID: <87in7wopal.fsf@example.com>

Le 09/05/18 ? 16h38, Zdenek Wagner a ?crit :

> It depends on your LAN and the server. A few years ago I had a project
> when I had to analyze a few million data sets, each analysis took
> about 2 minutes but the whole calculation took 3 months using 80 CPU
> cores,

Wow! :)

> all files were on one Linux computer (32-bit, single core), the disk
> was mounted by NFS to some computers and by SSHFS to some computers,
> all computers are on GB LAN and have GB ethernet ports.

Probably the key point.

> in comparison with the same calculation with the files on a local disk
> there was no difference.

Okay.

Best.
-- 
Denis


From denis.bitouze at univ-littoral.fr  Wed May  9 16:59:14 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 16:59:14 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple
	computers):	release or updated?
In-Reply-To: <1525877252862.12232@math.au.dk> (Lars Madsen's message of "Wed, 
 9 May 2018 14:47:32 +0000")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
Message-ID: <87bmdoooxp.fsf@example.com>

Le 09/05/18 ? 14h47, Lars Madsen a ?crit :

> We usually ask the students to copy the tlnet folder to their harddisk
> and then pass on the USB.

>From where do they copy the tlnet tree?

> But copying loads and loads of small files are super slow in windows
> so that copying takes about 10-20min and then comes then installation.

Indeed, too long.

> We tried zipping the TL tree such that is it is only one file to copy,
> which is faster, but takes just as long time to unzip in Windows.

I had exactly the same trouble before I discovered WinCDEmu: the
students who didn't own DameonTools or similar proprietary software
could "extract" the `.iso' file with WinZip (okay, proprietary as well
but rather common on Windows some years ago) or 7-zip, but it took too
much time.

> Sometimes, my cloning script is just faster to use, but I haven't
> touch that script in years. (then you'd only need to unzip a file tree
> and run a script afterwards, still takes time)

IMHO, mounting the `.iso' file is a better way: it is instantaneous :)
-- 
Denis


From zdenek.wagner at gmail.com  Wed May  9 17:08:30 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 9 May 2018 17:08:30 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87bmdoooxp.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
 <87bmdoooxp.fsf@example.com>
Message-ID: <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>

2018-05-09 16:59 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:

> Le 09/05/18 ? 14h47, Lars Madsen a ?crit :
>
> > We usually ask the students to copy the tlnet folder to their harddisk
> > and then pass on the USB.
>
> >From where do they copy the tlnet tree?
>
> > But copying loads and loads of small files are super slow in windows
> > so that copying takes about 10-20min and then comes then installation.
>
> Indeed, too long.
>
> > We tried zipping the TL tree such that is it is only one file to copy,
> > which is faster, but takes just as long time to unzip in Windows.
>
> I had exactly the same trouble before I discovered WinCDEmu: the
> students who didn't own DameonTools or similar proprietary software
> could "extract" the `.iso' file with WinZip (okay, proprietary as well
> but rather common on Windows some years ago) or 7-zip, but it took too
> much time.
>
> > Sometimes, my cloning script is just faster to use, but I haven't
> > touch that script in years. (then you'd only need to unzip a file tree
> > and run a script afterwards, still takes time)
>
> IMHO, mounting the `.iso' file is a better way: it is instantaneous :)
>

You can have network installation for those who can mount it using GB LAN.
You can make an .iso from the network installation and give it to those who
will copy it from USB and mount it locally. Thus you can have a flexible
system without too much work.


> --
> Denis
>
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180509/bc4b885e/attachment-0001.html>

From daleif at math.au.dk  Wed May  9 17:10:57 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 15:10:57 +0000
Subject: [tex-live] Deployment of TL 2018 (on multiple
 computers):	release or updated?
In-Reply-To: <87bmdoooxp.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>	<87vabxnd16.fsf@example.com>
 <1525875660096.2492@math.au.dk>	<87r2mkoppn.fsf@example.com>
 <1525877252862.12232@math.au.dk>,<87bmdoooxp.fsf@example.com>
Message-ID: <1525878657758.41090@math.au.dk>

>From the USB


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Denis Bitouz? <denis.bitouze at univ-littoral.fr>
Sent: 09 May 2018 16:59
To: Lars Madsen
Cc: Denis Bitouz?; Norbert Preining; tex-live at tug.org
Subject: Re: [tex-live] Deployment of TL 2018 (on multiple computers):  release or updated?

Le 09/05/18 ? 14h47, Lars Madsen a ?crit :

> We usually ask the students to copy the tlnet folder to their harddisk
> and then pass on the USB.

>From where do they copy the tlnet tree?

> But copying loads and loads of small files are super slow in windows
> so that copying takes about 10-20min and then comes then installation.

Indeed, too long.

> We tried zipping the TL tree such that is it is only one file to copy,
> which is faster, but takes just as long time to unzip in Windows.

I had exactly the same trouble before I discovered WinCDEmu: the
students who didn't own DameonTools or similar proprietary software
could "extract" the `.iso' file with WinZip (okay, proprietary as well
but rather common on Windows some years ago) or 7-zip, but it took too
much time.

> Sometimes, my cloning script is just faster to use, but I haven't
> touch that script in years. (then you'd only need to unzip a file tree
> and run a script afterwards, still takes time)

IMHO, mounting the `.iso' file is a better way: it is instantaneous :)
--
Denis


From daleif at math.au.dk  Wed May  9 17:12:32 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 9 May 2018 15:12:32 +0000
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info> <87vabxnd16.fsf@example.com>
 <1525875660096.2492@math.au.dk> <87r2mkoppn.fsf@example.com>
 <1525877252862.12232@math.au.dk> <87bmdoooxp.fsf@example.com>,
 <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
Message-ID: <1525878752676.53260@math.au.dk>

I haven't used the ISO in years, for installation does it just contain the tlnet folder?


Because then you might just make your own ISO from an rsync'ed copy on the tlnet folder from one of the mirrors


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: Zdenek Wagner <zdenek.wagner at gmail.com>
Sent: 09 May 2018 17:08
To: Denis Bitouz?
Cc: Lars Madsen; tex-live at tug.org; Norbert Preining
Subject: Re: [tex-live] Deployment of TL 2018 (on multiple computers): release or updated?

2018-05-09 16:59 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr<mailto:denis.bitouze at univ-littoral.fr>>:
Le 09/05/18 ? 14h47, Lars Madsen a ?crit :

> We usually ask the students to copy the tlnet folder to their harddisk
> and then pass on the USB.

>From where do they copy the tlnet tree?

> But copying loads and loads of small files are super slow in windows
> so that copying takes about 10-20min and then comes then installation.

Indeed, too long.

> We tried zipping the TL tree such that is it is only one file to copy,
> which is faster, but takes just as long time to unzip in Windows.

I had exactly the same trouble before I discovered WinCDEmu: the
students who didn't own DameonTools or similar proprietary software
could "extract" the `.iso' file with WinZip (okay, proprietary as well
but rather common on Windows some years ago) or 7-zip, but it took too
much time.

> Sometimes, my cloning script is just faster to use, but I haven't
> touch that script in years. (then you'd only need to unzip a file tree
> and run a script afterwards, still takes time)

IMHO, mounting the `.iso' file is a better way: it is instantaneous :)

You can have network installation for those who can mount it using GB LAN. You can make an .iso from the network installation and give it to those who will copy it from USB and mount it locally. Thus you can have a flexible system without too much work.

--
Denis



Zdenek Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180509/37407695/attachment-0001.html>

From denis.bitouze at univ-littoral.fr  Wed May  9 17:26:34 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 17:26:34 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
 (Zdenek Wagner's message of "Wed, 9 May 2018 17:08:30 +0200")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
 <87bmdoooxp.fsf@example.com>
 <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
Message-ID: <874ljgono5.fsf@example.com>

Le 09/05/18 ? 17h08, Zdenek Wagner a ?crit :

>> IMHO, mounting the `.iso' file is a better way: it is instantaneous :)
>
> You can have network installation for those who can mount it using GB
> LAN.

Well, not sure to understand this (it is beyond my IT skills :)

> You can make an .iso from the network installation and give it
> to those who will copy it from USB and mount it locally. Thus you can
> have a flexible system without too much work.

I would require a GB LAN: not sure about this in the departments where
I give these courses.

What would be the benefit over my current method? If I understand
correctly, I would save the time of copying the `.iso' file on my (old)
USB sticks but the students would waste time to copy from the LAN on
their own USB sticks.
-- 
Denis


From denis.bitouze at univ-littoral.fr  Wed May  9 17:29:31 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 17:29:31 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <1525878752676.53260@math.au.dk> (Lars Madsen's message of "Wed, 
 9 May 2018 15:12:32 +0000")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
 <87bmdoooxp.fsf@example.com>
 <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
 <1525878752676.53260@math.au.dk>
Message-ID: <87zi18n8ys.fsf@example.com>

Le 09/05/18 ? 15h12, Lars Madsen a ?crit :

> I haven't used the ISO in years, for installation does it just contain
> the tlnet folder?

I guess so.

> Because then you might just make your own ISO from an rsync'ed copy on
> the tlnet folder from one of the mirrors

That's what I'm planning :) See my first answer to Norbert:

  ?????
  ? I guess I could at that time build an `.iso' file with the content of
  ? the `Master' directory of the TL.
  ?????
-- 
Denis


From siepo at cybercomm.nl  Wed May  9 18:18:09 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 9 May 2018 18:18:09 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87r2mkoppn.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com>
Message-ID: <20180509161809.GA5285@bitmuis.thuis.internal>

On Wed, May 09, 2018 at 04:42:28PM +0200, Denis Bitouz? wrote:
> Le 09/05/18 ? 14h21, Lars Madsen a ?crit :
> 
> > You mentioned the ISO on USB, have you considered rsyncing the tlnet
> > tree to the USB instead?
> 
> Yes but see below.
> 
> > Granted, this takes a while for updating the USB, but then the
> > students will not be that far behind in updates when they install from
> > the USB.
> 
> Indeed but the same happens with an `.iso' file built with a rsynced
> tlnet tree.
> 
> > One disadvantage: On Windows: installing TL from the tlnet folder on
> > the USB is rather slow (Mac and Linux runs 10-100 times faster from
> > USB than windows for some reason).
> 
> So could be completely unusable: a student of mine tried yesterday to
> install from the `.iso' file he mounted on its Windows 10 machine and
> the evaluated time to achieve the installation oscillated between 40 and
> 50... hours!
> 
> My experience is that it is much more faster for the students to:
> 
> 1. just copy the (huge but monolithic) `.iso' file from my USB stick,
> 2. mount the `.iso' file (on Windows, possibly with the help of
>    WinCDEmu: http://wincdemu.sysprogs.org/),

This is a good option for windows 7, but from 8 on windows can mount
isos natively.

-- 
Siep Kroonenberg

From zdenek.wagner at gmail.com  Wed May  9 18:19:59 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 9 May 2018 18:19:59 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87zi18n8ys.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
 <87bmdoooxp.fsf@example.com>
 <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
 <1525878752676.53260@math.au.dk> <87zi18n8ys.fsf@example.com>
Message-ID: <CAC1phyasy737prtTZuMS5yQp6YZhmnA+_5nC7=WJBC8iRpxNkw@mail.gmail.com>

2018-05-09 17:29 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:

> Le 09/05/18 ? 15h12, Lars Madsen a ?crit :
>
> > I haven't used the ISO in years, for installation does it just contain
> > the tlnet folder?
>
> I guess so.
>
> > Because then you might just make your own ISO from an rsync'ed copy on
> > the tlnet folder from one of the mirrors
>
> That's what I'm planning :) See my first answer to Norbert:
>

Generally, .iso is just a file system of CD/DVD. Using mkisofs (or
equivalent) you can put into it whatever you wish. You can thus put there
the installed TEXMF tree. A Linux user will mount it and modify PATH. A
Windows user will mount it and will have to do something via tlmgr to make
it known by the system. Yes, it is difficult for Windows users but you
could probably make an Autorun which will do it automatically when the .iso
is mounted.

>
>   ?????
>   ? I guess I could at that time build an `.iso' file with the content of
>   ? the `Master' directory of the TL.
>   ?????
> --
> Denis
>


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180509/ab01eebb/attachment.html>

From denis.bitouze at univ-littoral.fr  Wed May  9 18:25:58 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 18:25:58 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <CAC1phyasy737prtTZuMS5yQp6YZhmnA+_5nC7=WJBC8iRpxNkw@mail.gmail.com>
 (Zdenek Wagner's message of "Wed, 9 May 2018 18:19:59 +0200")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
 <87bmdoooxp.fsf@example.com>
 <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
 <1525878752676.53260@math.au.dk> <87zi18n8ys.fsf@example.com>
 <CAC1phyasy737prtTZuMS5yQp6YZhmnA+_5nC7=WJBC8iRpxNkw@mail.gmail.com>
Message-ID: <87vabwn6cp.fsf@example.com>

Le 09/05/18 ? 18h19, Zdenek Wagner a ?crit :

> 2018-05-09 17:29 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:
>
>> Le 09/05/18 ? 15h12, Lars Madsen a ?crit :
>>
>> > I haven't used the ISO in years, for installation does it just contain
>> > the tlnet folder?
>>
>> I guess so.
>>
>> > Because then you might just make your own ISO from an rsync'ed copy on
>> > the tlnet folder from one of the mirrors
>>
>> That's what I'm planning :) See my first answer to Norbert:
>
> Generally, .iso is just a file system of CD/DVD. Using mkisofs (or
> equivalent) you can put into it whatever you wish. You can thus put
> there the installed TEXMF tree.

Okay.

> A Linux user will mount it and modify PATH. A Windows user will mount
> it and will have to do something via tlmgr to make it known by the
> system. Yes, it is difficult for Windows users but you could probably
> make an Autorun which will do it automatically when the .iso is
> mounted.

Is all of this necessary? IIRC, the `.iso' file I created contained the
whole content of the TL's `Master' folder (hence maybe not only the
tlnet folder: my fault), hence contained `install-tl' and
`install-tl-windows.bat' which could be run as usually.

-- 
Denis


From siepo at cybercomm.nl  Wed May  9 18:27:42 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 9 May 2018 18:27:42 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <CAC1phyasy737prtTZuMS5yQp6YZhmnA+_5nC7=WJBC8iRpxNkw@mail.gmail.com>
References: <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
 <87bmdoooxp.fsf@example.com>
 <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
 <1525878752676.53260@math.au.dk> <87zi18n8ys.fsf@example.com>
 <CAC1phyasy737prtTZuMS5yQp6YZhmnA+_5nC7=WJBC8iRpxNkw@mail.gmail.com>
Message-ID: <20180509162742.GB5285@bitmuis.thuis.internal>

On Wed, May 09, 2018 at 06:19:59PM +0200, Zdenek Wagner wrote:
> 2018-05-09 17:29 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:
> 
> > Le 09/05/18 ? 15h12, Lars Madsen a ?crit :
> >
> > > I haven't used the ISO in years, for installation does it just contain
> > > the tlnet folder?
> >
> > I guess so.
> >
> > > Because then you might just make your own ISO from an rsync'ed copy on
> > > the tlnet folder from one of the mirrors
> >
> > That's what I'm planning :) See my first answer to Norbert:
> >
> 
> Generally, .iso is just a file system of CD/DVD. Using mkisofs (or
> equivalent) you can put into it whatever you wish. You can thus put there
> the installed TEXMF tree. A Linux user will mount it and modify PATH. A
> Windows user will mount it and will have to do something via tlmgr to make
> it known by the system. Yes, it is difficult for Windows users but you
> could probably make an Autorun which will do it automatically when the .iso
> is mounted.

For windows, the tlaunch utility lets users run a TL from a
read-only filesystem. At first run, it will do something like the
normal windows configuration, including adjusting the user
searchpath and creating file associations.

-- 
Siep Kroonenberg

From dbitouze at wanadoo.fr  Wed May  9 18:32:45 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 18:32:45 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <20180509161809.GA5285@bitmuis.thuis.internal> (Siep
 Kroonenberg's message of "Wed, 9 May 2018 18:18:09 +0200")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com>
 <20180509161809.GA5285@bitmuis.thuis.internal>
Message-ID: <87r2mkn61e.fsf@example.com>

Le 09/05/18 ? 18h18, Siep Kroonenberg a ?crit :

>> 2. mount the `.iso' file (on Windows, possibly with the help of
>>    WinCDEmu: http://wincdemu.sysprogs.org/),
>
> This is a good option for windows 7, but from 8 on windows can mount
> isos natively.

As far as I can see, it seems to not be the case for each Windows >
7 version. It happened still yesterday:
- on some Windows machines, mostly Windows 10, it was enough to
  double-click on the `.iso' file to mount it,
- on several other ones, even with Windows 10, double-clicking made
  Windows ask for the software to "open" the `.iso' file (in such
  a case, I advised the students to use the WinCDEmu method).
-- 
Denis


From zdenek.wagner at gmail.com  Wed May  9 18:32:30 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 9 May 2018 18:32:30 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87vabwn6cp.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com> <1525877252862.12232@math.au.dk>
 <87bmdoooxp.fsf@example.com>
 <CAC1phyaeVJi9rMnde-Vi44XScaQqi6kDk3qqisn=0fdbTrtxzQ@mail.gmail.com>
 <1525878752676.53260@math.au.dk> <87zi18n8ys.fsf@example.com>
 <CAC1phyasy737prtTZuMS5yQp6YZhmnA+_5nC7=WJBC8iRpxNkw@mail.gmail.com>
 <87vabwn6cp.fsf@example.com>
Message-ID: <CAC1phybBzC+-NbqyyxKojr=G9pjXaLS-q65UB9LxvWsmw6RjsA@mail.gmail.com>

2018-05-09 18:25 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:

> Le 09/05/18 ? 18h19, Zdenek Wagner a ?crit :
>
> > 2018-05-09 17:29 GMT+02:00 Denis Bitouz? <denis.bitouze at univ-littoral.fr
> >:
> >
> >> Le 09/05/18 ? 15h12, Lars Madsen a ?crit :
> >>
> >> > I haven't used the ISO in years, for installation does it just contain
> >> > the tlnet folder?
> >>
> >> I guess so.
> >>
> >> > Because then you might just make your own ISO from an rsync'ed copy on
> >> > the tlnet folder from one of the mirrors
> >>
> >> That's what I'm planning :) See my first answer to Norbert:
> >
> > Generally, .iso is just a file system of CD/DVD. Using mkisofs (or
> > equivalent) you can put into it whatever you wish. You can thus put
> > there the installed TEXMF tree.
>
> Okay.
>
> > A Linux user will mount it and modify PATH. A Windows user will mount
> > it and will have to do something via tlmgr to make it known by the
> > system. Yes, it is difficult for Windows users but you could probably
> > make an Autorun which will do it automatically when the .iso is
> > mounted.
>
> Is all of this necessary? IIRC, the `.iso' file I created contained the
> whole content of the TL's `Master' folder (hence maybe not only the
> tlnet folder: my fault), hence contained `install-tl' and
> `install-tl-windows.bat' which could be run as usually.
>

Yes, everything is self-located. The binary must be found via PATH setting
and all remaining files are located relatively to the binary. Nothing is
written back to the TEXMF trees, so read/only mount is sufficient. It does
not matter whether you run it from a local disk, from a CD, a USB, from a
network mount. From time to time I even mount .iso which is not on my local
disk but on a shared network drive, everything works.

>
> --
> Denis
>


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180509/dbef376b/attachment.html>

From siepo at cybercomm.nl  Wed May  9 18:56:43 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 9 May 2018 18:56:43 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87r2mkn61e.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com>
 <20180509161809.GA5285@bitmuis.thuis.internal>
 <87r2mkn61e.fsf@example.com>
Message-ID: <20180509165643.GC5285@bitmuis.thuis.internal>

On Wed, May 09, 2018 at 06:32:45PM +0200, Denis Bitouz? wrote:
> Le 09/05/18 ? 18h18, Siep Kroonenberg a ?crit :
> 
> >> 2. mount the `.iso' file (on Windows, possibly with the help of
> >>    WinCDEmu: http://wincdemu.sysprogs.org/),
> >
> > This is a good option for windows 7, but from 8 on windows can mount
> > isos natively.
> 
> As far as I can see, it seems to not be the case for each Windows >
> 7 version. It happened still yesterday:
> - on some Windows machines, mostly Windows 10, it was enough to
>   double-click on the `.iso' file to mount it,
> - on several other ones, even with Windows 10, double-clicking made
>   Windows ask for the software to "open" the `.iso' file (in such
>   a case, I advised the students to use the WinCDEmu method).

Maybe some third-party iso-burning software was installed?

Anyhow, right-clicking the iso should offer windows explorer as an
option.

-- 
Siep Kroonenberg

From dbitouze at wanadoo.fr  Wed May  9 20:02:34 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 09 May 2018 20:02:34 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <20180509165643.GC5285@bitmuis.thuis.internal> (Siep
 Kroonenberg's message of "Wed, 9 May 2018 18:56:43 +0200")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabxnd16.fsf@example.com> <1525875660096.2492@math.au.dk>
 <87r2mkoppn.fsf@example.com>
 <20180509161809.GA5285@bitmuis.thuis.internal>
 <87r2mkn61e.fsf@example.com>
 <20180509165643.GC5285@bitmuis.thuis.internal>
Message-ID: <87mux8n1vp.fsf@example.com>

Le 09/05/18 ? 18h56, Siep Kroonenberg a ?crit :

>> - on several other ones, even with Windows 10, double-clicking made
>>   Windows ask for the software to "open" the `.iso' file (in such
>>   a case, I advised the students to use the WinCDEmu method).
>
> Maybe some third-party iso-burning software was installed?
>
> Anyhow, right-clicking the iso should offer windows explorer as an
> option.

Thanks for the hint. Will try it next time and let you know.
-- 
Denis


From nerd at linux.pl  Thu May 10 09:49:12 2018
From: nerd at linux.pl (Owszem)
Date: Thu, 10 May 2018 07:49:12 -0000
Subject: [tex-live] how creating package
Message-ID: <20180324024251.hhnzeatbfqngdghu@dziewiatka>

Hello,

I would like to create a package. This is TTFont and small style to using it.
The font is on OFL licence the style is Public Domain.
I must create 2 packages?
On this web page http://texol.herokuapp.com/lualatex
is example: latex source, lua source and style.
Font are on http://texol.herokuapp.com/Texol-Texol-Regular.otf

Anybody can help me with this?

Thanks
Bartosz Por

From nerd at linux.pl  Thu May 10 09:54:19 2018
From: nerd at linux.pl (Owszem)
Date: Thu, 10 May 2018 07:54:19 -0000
Subject: [tex-live] Help with new package
Message-ID: <20180324024800.jghbs45s4oqe7xen@dziewiatka>

Hello,

I would like to create a package. This is TTFont and small style to using it.
The font is on OFL licence the style is Public Domain.
I must create 2 packages?
On this web page http://texol.herokuapp.com/lualatex
is example: latex source, lua source and style.
Font are on http://texol.herokuapp.com/Texol-Texol-Regular.otf

Anybody can help me with this?

Thanks
Bartosz Por

From zdenek.wagner at gmail.com  Thu May 10 15:14:46 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 10 May 2018 15:14:46 +0200
Subject: [tex-live] Help with new package
In-Reply-To: <20180324024800.jghbs45s4oqe7xen@dziewiatka>
References: <20180324024800.jghbs45s4oqe7xen@dziewiatka>
Message-ID: <CAC1phyZnEoWHidoqBUSxuyRGWmz7m2rSbYugyQUso7=tcVKj5w@mail.gmail.com>

Hi,

generally speaking, no package is needed to use a TTF font in XeTeX and
LuaTeX. If the font is properly installed, it can simply be used by
specifying its name. For XeLaTeX and LuaLaTeX the fontspec package can be
used. If you want to help users, it is much more beneficial to write a
focumentation with samples, showing the features and styles avaiable in the
font, language specific features etc.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-03-24 3:48 GMT+01:00 Owszem <nerd at linux.pl>:

> Hello,
>
> I would like to create a package. This is TTFont and small style to using
> it.
> The font is on OFL licence the style is Public Domain.
> I must create 2 packages?
> On this web page http://texol.herokuapp.com/lualatex
> is example: latex source, lua source and style.
> Font are on http://texol.herokuapp.com/Texol-Texol-Regular.otf
>
> Anybody can help me with this?
>
> Thanks
> Bartosz Por
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180510/632d4cce/attachment.html>

From Matthias.Vogel at phil.uni-giessen.de  Thu May 10 19:26:43 2018
From: Matthias.Vogel at phil.uni-giessen.de (Vogel, Matthias)
Date: Thu, 10 May 2018 17:26:43 +0000
Subject: [tex-live]  TL2018: Problems with filenames
Message-ID: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>

Dear all,

in TeXLive 2018 pdflatex.exe seems to have problems with filenames containing ???? [???]

While

pdflatex "Begru?ung.tex"
pdflatex "Begru??ng.tex"
pdflatex "Begr??ung.tex"

run through

pdflatex "Begr??ung.tex"

gives:

! I can't find file `Begr'.
<to be read again>
                   \protect
<*> Begr?
         ?ung.tex


I hesitated to write this since it just seems to be crazy. But it's tested from command line. Can anybody reproduce this?  No problems with TL2017...

Best,
Matthias

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180510/adcb5bc7/attachment.html>

From d.p.carlisle at gmail.com  Thu May 10 19:36:14 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 10 May 2018 18:36:14 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
Message-ID: <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>

There are some changes in that area but I can not reproduce that I get


$ pdflatex Begru?ung.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018)
(preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(./Begru?ung.tex
LaTeX2e <2018-04-01> pre-release-5
Babel <3.20> and hyphenation patterns for 84 language(s) loaded.
 )
No pages of output.
Transcript written on Begru?ung.log.


(with a Begru?ung.tex file that just contains \stop )

what operating system do you use and which version exactly of latex
(where mine says LaTeX2e <2018-04-01> pre-release-5) but it's
functionally the same as the public patch level 4 release.

David


On 10 May 2018 at 18:26, Vogel, Matthias
<Matthias.Vogel at phil.uni-giessen.de> wrote:
> Dear all,
>
>
>
> in TeXLive 2018 pdflatex.exe seems to have problems with filenames
> containing ???? [???]
>
>
>
> While
>
>
>
> pdflatex ?Begru?ung.tex?
>
> pdflatex ?Begru??ng.tex?
>
> pdflatex ?Begr??ung.tex?
>
>
>
> run through
>
>
>
> pdflatex ?Begr??ung.tex?
>
>
>
> gives:
>
>
>
> ! I can't find file `Begr'.
>
> <to be read again>
>
>                    \protect
>
> <*> Begr?
>
>          ?ung.tex
>
>
>
>
>
> I hesitated to write this since it just seems to be crazy. But it?s tested
> from command line. Can anybody reproduce this?  No problems with TL2017?
>
>
>
> Best,
>
> Matthias
>
>


From d.p.carlisle at gmail.com  Thu May 10 19:38:52 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 10 May 2018 18:38:52 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>
Message-ID: <CAEW6iOgCJQhYpgrwx-u_dr3MddAXso=N1Spf4MNPAVqVymc=kg@mail.gmail.com>

You would have the problem you show in the 2018-04-01 release
initially but not in patch levels above 2.

David

From martin at dante.de  Thu May 10 19:51:11 2018
From: martin at dante.de (martin at dante.de)
Date: Thu, 10 May 2018 19:51:11 +0200
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>
Message-ID: <8a0ee32a-cfcf-4741-b9a7-83a574794d57@dante.de>

Well, Matthias has no problems with begru?ung.tex either, but with begr??ung.tex

Best
Martin

?Gesendet mit TypeApp ?

Am 10. Mai 2018, 19:37, um 19:37, David Carlisle <d.p.carlisle at gmail.com> schrieb:
>There are some changes in that area but I can not reproduce that I get
>
>
>$ pdflatex Begru?ung.tex
>This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018)
>(preloaded format=pdflatex)
> restricted \write18 enabled.
>entering extended mode
>(./Begru?ung.tex
>LaTeX2e <2018-04-01> pre-release-5
>Babel <3.20> and hyphenation patterns for 84 language(s) loaded.
> )
>No pages of output.
>Transcript written on Begru?ung.log.
>
>
>(with a Begru?ung.tex file that just contains \stop )
>
>what operating system do you use and which version exactly of latex
>(where mine says LaTeX2e <2018-04-01> pre-release-5) but it's
>functionally the same as the public patch level 4 release.
>
>David
>
>
>On 10 May 2018 at 18:26, Vogel, Matthias
><Matthias.Vogel at phil.uni-giessen.de> wrote:
>> Dear all,
>>
>>
>>
>> in TeXLive 2018 pdflatex.exe seems to have problems with filenames
>> containing ???? [???]
>>
>>
>>
>> While
>>
>>
>>
>> pdflatex ?Begru?ung.tex?
>>
>> pdflatex ?Begru??ng.tex?
>>
>> pdflatex ?Begr??ung.tex?
>>
>>
>>
>> run through
>>
>>
>>
>> pdflatex ?Begr??ung.tex?
>>
>>
>>
>> gives:
>>
>>
>>
>> ! I can't find file `Begr'.
>>
>> <to be read again>
>>
>>                    \protect
>>
>> <*> Begr?
>>
>>          ?ung.tex
>>
>>
>>
>>
>>
>> I hesitated to write this since it just seems to be crazy. But it?s
>tested
>> from command line. Can anybody reproduce this?  No problems with
>TL2017?
>>
>>
>>
>> Best,
>>
>> Matthias
>>
>>



From d.p.carlisle at gmail.com  Thu May 10 19:57:35 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 10 May 2018 18:57:35 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <8a0ee32a-cfcf-4741-b9a7-83a574794d57@dante.de>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>
 <8a0ee32a-cfcf-4741-b9a7-83a574794d57@dante.de>
Message-ID: <CAEW6iOiDFgXs6JfczQFDUHyT2D4LtJyxMf9wA8nnoqo5GnXUxg@mail.gmail.com>

well that's odd! some cut and paste transliteration somewhere (I
didn't retype it:-)  here it is again with the correct filename


$ pdflatex  begr??ung.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018)
(preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(./begr??ung.tex
LaTeX2e <2018-04-01> pre-release-5
Babel <3.20> and hyphenation patterns for 84 language(s) loaded.
 )
No pages of output.
Transcript written on begr??ung.log.

On 10 May 2018 at 18:51,  <martin at dante.de> wrote:
> Well, Matthias has no problems with begru?ung.tex either, but with begr??ung.tex
>
> Best
> Martin
>
> ?Gesendet mit TypeApp
>
> Am 10. Mai 2018, 19:37, um 19:37, David Carlisle <d.p.carlisle at gmail.com> schrieb:
>>There are some changes in that area but I can not reproduce that I get
>>
>>
>>$ pdflatex Begru?ung.tex
>>This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018)
>>(preloaded format=pdflatex)
>> restricted \write18 enabled.
>>entering extended mode
>>(./Begru?ung.tex
>>LaTeX2e <2018-04-01> pre-release-5
>>Babel <3.20> and hyphenation patterns for 84 language(s) loaded.
>> )
>>No pages of output.
>>Transcript written on Begru?ung.log.
>>
>>
>>(with a Begru?ung.tex file that just contains \stop )
>>
>>what operating system do you use and which version exactly of latex
>>(where mine says LaTeX2e <2018-04-01> pre-release-5) but it's
>>functionally the same as the public patch level 4 release.
>>
>>David
>>
>>
>>On 10 May 2018 at 18:26, Vogel, Matthias
>><Matthias.Vogel at phil.uni-giessen.de> wrote:
>>> Dear all,
>>>
>>>
>>>
>>> in TeXLive 2018 pdflatex.exe seems to have problems with filenames
>>> containing ???? [???]
>>>
>>>
>>>
>>> While
>>>
>>>
>>>
>>> pdflatex ?Begru?ung.tex?
>>>
>>> pdflatex ?Begru??ng.tex?
>>>
>>> pdflatex ?Begr??ung.tex?
>>>
>>>
>>>
>>> run through
>>>
>>>
>>>
>>> pdflatex ?Begr??ung.tex?
>>>
>>>
>>>
>>> gives:
>>>
>>>
>>>
>>> ! I can't find file `Begr'.
>>>
>>> <to be read again>
>>>
>>>                    \protect
>>>
>>> <*> Begr?
>>>
>>>          ?ung.tex
>>>
>>>
>>>
>>>
>>>
>>> I hesitated to write this since it just seems to be crazy. But it?s
>>tested
>>> from command line. Can anybody reproduce this?  No problems with
>>TL2017?
>>>
>>>
>>>
>>> Best,
>>>
>>> Matthias
>>>
>>>
>
>


From komascript at gmx.info  Thu May 10 20:03:45 2018
From: komascript at gmx.info (Markus Kohm)
Date: Thu, 10 May 2018 20:03:45 +0200
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
Message-ID: <13293150.SOsCVYsMaa@komascript.de>

Am Donnerstag, 10. Mai 2018, 19:26:43 CEST schrieb Vogel, Matthias:
> pdflatex "Begr??ung.tex"
> 
> gives:
> 
> ! I can't find file `Begr'.
> <to be read again>
>                    \protect
> <*> Begr?
>          ?ung.tex

Not here:

$ echo '\documentclass{article}\begin{document}T\end{document}' > 
Begr??ung.tex; pdflatex Begr??ung.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded 
format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(./Begr??ung.tex
LaTeX2e <2018-04-01> patch level 4
Babel <3.20> and hyphenation patterns for 84 language(s) loaded.
(/usr/local/texlive/2018/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2018/texmf-dist/tex/latex/base/size10.clo))
No file Begr??ung.aux.
[1{/usr/local/texlive/2018/texmf-var/fonts/map/pdftex/updmap/pdftex.map}]
(./Begr??ung.aux) )</usr/local/texlive/2018/texmf-dist/fonts/type1/public/ams
fonts/cm/cmr10.pfb>
Output written on Begr??ung.pdf (1 page, 8457 bytes).
Transcript written on Begr??ung.log.

My system is Linux with:

LANG=de_DE.UTF-8
LC_CTYPE=de_DE.UTF-8
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20180510/cdb92358/attachment.sig>

From news3 at nililand.de  Thu May 10 20:32:59 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 10 May 2018 20:32:59 +0200
Subject: [tex-live] TL2018: Problems with filenames
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>
Message-ID: <1s1wubyi9cigx.dlg@nililand.de>

Am Thu, 10 May 2018 18:36:14 +0100 schrieb David Carlisle:

> There are some changes in that area but I can not reproduce that I get

I can reproduce it on windows 10:

...\Documents\tests>pdflatex begr??ung
This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live
2018/W32TeX) (preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
! I can't find file `begr'.
<to be read again>
                   \protect
<*> begr?
         ?ung


with LaTeX2e <2018-04-01> patch level 4


begr??ung works fine, miktex works fine two (with the same latex).
That's rather curious ;-)



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From P.Taylor at Rhul.Ac.Uk  Thu May 10 20:42:59 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 10 May 2018 19:42:59 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <1s1wubyi9cigx.dlg@nililand.de>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiW+vLEUVcKHFTAy_2j7uGcT9_XmWTXgKWET4x1Dt6s4Q@mail.gmail.com>
 <1s1wubyi9cigx.dlg@nililand.de>
Message-ID: <bfc126d0-c509-d468-8bce-dcfb81b779f9@Rhul.Ac.Uk>

Here (Windows 7 64-bit Enterprise), "XeTeX begr??ung" causes XeTeX to crash. No error message, just "XeTeX has stopped working" (etc.).?? "XeTeX begr?ung" is fine, but"XeTeX begr?ung" dies in the same way.

Philip Taylor

From d.p.carlisle at gmail.com  Thu May 10 21:39:15 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 10 May 2018 20:39:15 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
Message-ID: <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>

I really have no idea, but chatting with ulrike (who has the windows
build) suggests that

pdflatex \input\detokenize{Begr??ung}

should work, which may at least give you a workaround.

there were some changes for latex here but they should affect all
non-ascii letters the same way, and the fact that xetex fails
shouldn't be related but seems to imply something odd about the
encoding of that filename.


From zdenek.wagner at gmail.com  Thu May 10 21:41:06 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 10 May 2018 21:41:06 +0200
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
Message-ID: <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>

It might also depend on locale.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-05-10 21:39 GMT+02:00 David Carlisle <d.p.carlisle at gmail.com>:

> I really have no idea, but chatting with ulrike (who has the windows
> build) suggests that
>
> pdflatex \input\detokenize{Begr??ung}
>
> should work, which may at least give you a workaround.
>
> there were some changes for latex here but they should affect all
> non-ascii letters the same way, and the fact that xetex fails
> shouldn't be related but seems to imply something odd about the
> encoding of that filename.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180510/910bb27a/attachment.html>

From d.p.carlisle at gmail.com  Thu May 10 22:11:24 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 10 May 2018 21:11:24 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
Message-ID: <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>

OK it appears that windows is using an 8bit encoding rather than UTF-8
for the filenames which is a bit of a pain.
the reason why ? fails is (we think:-) because it does not correspond
to a UTF-8 starting byte if stored as latin-1.

Assuming that's correct then in addition to the \detokenize version i
just posted

pdflatex \UseRawInputEncoding \input begr??ung.tex

should work and if both those work I think I understand enough to make
a latex  that works without that workaround. (the alternative would be
support in the engine filereading code for normalising different
filename encodings (which is what the xetex case would require I
suspect) but I'll look at a macro based solution first.

David


From jfenn at gmx.net  Thu May 10 22:27:31 2018
From: jfenn at gmx.net (Juergen Fenn)
Date: Thu, 10 May 2018 22:27:31 +0200
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <mailman.27514.1525983088.17295.tex-live@tug.org>
References: <mailman.27514.1525983088.17295.tex-live@tug.org>
Message-ID: <4790f702-cd9c-0b30-26c7-81eef8a64403@gmx.net>

I'm a bit late, but for the record: No problems on macOS El Capitan.

Regards,
J?rgen.

This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018)
(preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(./begru??ung.tex
LaTeX2e <2018-04-01> patch level 4
Babel <3.20> and hyphenation patterns for 84 language(s) loaded.
 )
No pages of output.
Transcript written on begru??ung.log.

From P.Taylor at Rhul.Ac.Uk  Thu May 10 22:38:46 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 10 May 2018 21:38:46 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
Message-ID: <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>



David Carlisle wrote:
> [I]t appears that windows is using an 8-bit encoding ...

A quick test suggests that David is correct.? I created a web page in utf-8 encoding using Macromedia Dreamweaver, split it into two parts, then appended the string "Begr??ung" to the first part :

> echo Begr??ung>> part-1.html

? Dreamweaver spotted that the file had been updated externally, asked if it should re-load it, and on being told "Yes", displayed :

> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
> <html>
> <head>
> <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
> <title>Untitled Document</title>
> </head>
>
> <body>Begr??ung

-- 
<Signature>
Philip Taylor

From d.p.carlisle at gmail.com  Thu May 10 22:45:28 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 10 May 2018 21:45:28 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <4790f702-cd9c-0b30-26c7-81eef8a64403@gmx.net>
References: <mailman.27514.1525983088.17295.tex-live@tug.org>
 <4790f702-cd9c-0b30-26c7-81eef8a64403@gmx.net>
Message-ID: <CAEW6iOj0Srnn7e+Qkb7Z+7cRNx9QdKxt4d4QY4W_fs4QKyvH3g@mail.gmail.com>

https://stackoverflow.com/a/2051018/1158383

suggests that although windows uses Unicode file names it cunningly
hides that fact from file open calls :(

It appears miktex is using the unicode filename api rather than the
default "ansi" one, I don't know if texlive could do similar?

https://sourceforge.net/p/miktex/bugs/2068/

(I should make latex more robust for non utf8 filenames in any case)

David

From P.Taylor at Rhul.Ac.Uk  Thu May 10 22:47:54 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 10 May 2018 21:47:54 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
 <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
Message-ID: <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>



Philip Taylor wrote:
> A quick test suggests that David is correct.? 
The problem can be /ameliorated/ by changing CMD's code page to 65001; the string is then correctly appended to the file, but the display is incorrect within CMD -- perhaps the font should be changed as well :

> echo Begrung>>part-1.html

> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
> <html>
> <head>
> <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
> <title>Untitled Document</title>
> </head>
>
> <body>
> Begr??ung


-- 
<Signature>
Philip Taylor

From P.Taylor at Rhul.Ac.Uk  Thu May 10 22:50:55 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 10 May 2018 21:50:55 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
 <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
 <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>
Message-ID: <72acaf2c-d91b-30c0-84b9-803aca59b2ef@Rhul.Ac.Uk>



Philip Taylor wrote:
>
> Philip Taylor wrote:
>> A quick test suggests that David is correct.? 
> The problem can be /ameliorated/ by changing CMD's code page to 65001; the string is then correctly appended to the file, but the display is incorrect within CMD -- perhaps the font should be changed as well :

Confirmed.? Changing CMD's font to Lucida Console, in addition to changing CMD's code page to 65001, allows both input and output to display correctly :


>> echo Begr??ung>>part-1.html
>
> <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
> <html>
> <head>
> <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
> <title>Untitled Document</title>
> </head>
>
> <body>
> Begr??ung
> Begr??ung

-- 
<Signature>
Philip Taylor

From P.Taylor at Rhul.Ac.Uk  Thu May 10 22:53:11 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 10 May 2018 21:53:11 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <72acaf2c-d91b-30c0-84b9-803aca59b2ef@Rhul.Ac.Uk>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
 <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
 <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>
 <72acaf2c-d91b-30c0-84b9-803aca59b2ef@Rhul.Ac.Uk>
Message-ID: <9b0dfe18-76f3-4167-7cf4-5a7ed4627149@Rhul.Ac.Uk>



Philip Taylor wrote:
>
> Confirmed.? Changing CMD's font to Lucida Console, in addition to changing CMD's code page to 65001, allows both input and output to display correctly...

Unfortunately XeTeX continues to die as before :

> D:\>xetex Begr??ung
> This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018/W32TeX) (preloaded format=xetex)
> entering extended mode
>
> D:\>


-- 
<Signature>
Philip Taylor

From kakuto at fuk.kindai.ac.jp  Thu May 10 23:44:56 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 11 May 2018 06:44:56 +0900
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <9b0dfe18-76f3-4167-7cf4-5a7ed4627149@Rhul.Ac.Uk>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
 <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
 <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>
 <72acaf2c-d91b-30c0-84b9-803aca59b2ef@Rhul.Ac.Uk>
 <9b0dfe18-76f3-4167-7cf4-5a7ed4627149@Rhul.Ac.Uk>
Message-ID: <05E84205B91540039EFAADB745F6E861@CJ3001517A>

Dear Philip,

About non-ascii file names in a local CP on TL Windows:

For XeTeX try
set command_line_encoding=utf8

If it is OK, write a line

command_line_encoding = utf8

in your texmf.cnf.

Best,
Akira


From news3 at nililand.de  Thu May 10 23:49:56 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 10 May 2018 23:49:56 +0200
Subject: [tex-live] TL2018: Problems with filenames
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
 <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
 <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>
 <72acaf2c-d91b-30c0-84b9-803aca59b2ef@Rhul.Ac.Uk>
 <9b0dfe18-76f3-4167-7cf4-5a7ed4627149@Rhul.Ac.Uk>
 <05E84205B91540039EFAADB745F6E861@CJ3001517A>
Message-ID: <ok0lmxme9a0m$.dlg@nililand.de>

Am Fri, 11 May 2018 06:44:56 +0900 schrieb Akira Kakuto:

> For XeTeX try
> set command_line_encoding=utf8

This works for me. xe(la)tex no longer crashes. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From d.p.carlisle at gmail.com  Fri May 11 00:48:16 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 10 May 2018 23:48:16 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
Message-ID: <CAEW6iOhWE8O4OPtMVAmWR1dHYuoG1GHN3eg4TYNEFDRhibU5iw@mail.gmail.com>

On 10 May 2018 at 18:26, Vogel, Matthias
<Matthias.Vogel at phil.uni-giessen.de> wrote:



> I hesitated to write this since it just seems to be crazy.


I'm glad you did, thanks for the report. I have logged the issue here,
and hopefully we'll get an update posted in the next day or so (needs
a bit more testing).

https://github.com/latex3/latex2e/issues/48

David

From kakuto at fuk.kindai.ac.jp  Fri May 11 01:31:38 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 11 May 2018 08:31:38 +0900
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <ok0lmxme9a0m$.dlg@nililand.de>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
 <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
 <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>
 <72acaf2c-d91b-30c0-84b9-803aca59b2ef@Rhul.Ac.Uk>
 <9b0dfe18-76f3-4167-7cf4-5a7ed4627149@Rhul.Ac.Uk>
 <05E84205B91540039EFAADB745F6E861@CJ3001517A> <ok0lmxme9a0m$.dlg@nililand.de>
Message-ID: <19EF89A0ADC24775A3214B766B386548@CJ3001517A>

Dear Ulrike,

>> For XeTeX try
>> set command_line_encoding=utf8
>
> This works for me. xe(la)tex no longer crashes. 

Thanks for the test.

This mechanism currently works for (e)-uptex and xetex.
In my simple test, pdftex can be changed similarly.
I'll change pdftex if it is OK.

In the case of lua(jit)tex, use the option -cmdx
in the 1st argument, that is, lualatex -cmdx ...
in the case of non-ascii file name.
If -cmdx is not the 1st argument, it is simply ignored.

Best,
Akira


From kakuto at fuk.kindai.ac.jp  Fri May 11 06:05:05 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 11 May 2018 13:05:05 +0900
Subject: [tex-live] TL2018: Problems with filenames
Message-ID: <D2B3AB875E554F52A3E73A801079AFAD@CJ3001517A>

> In my simple test, pdftex can be changed similarly.
> I'll change pdftex if it is OK.

Done in r47676.
Now non-ascii file names in local code page
may be used in pdftex:
pdftex non-ascii-name.tex
pdflatex non-ascii-name.tex
if a line

command_line_encoding = utf8

is written in a suitable texmf.cnf.

In plain pdftex, image names and input file
names can also be non-ascii:

% pdftex  (plain)
\pdfximage{non-ascii.jpg} %should be UTF-8
\pdfrefximage \pdflastximage

\input non-ascii.tex %should be UTF-8
\bye

Note that file names on a disk are in local CP as usual,
however they should be written in UTF-8 in source
files.

In the present latex-core, image names and input
file names seem not to be usable in pdflatex.
I don't know why.

Best,
Akira


From d.p.carlisle at gmail.com  Fri May 11 08:41:05 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 11 May 2018 07:41:05 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <D2B3AB875E554F52A3E73A801079AFAD@CJ3001517A>
References: <D2B3AB875E554F52A3E73A801079AFAD@CJ3001517A>
Message-ID: <CAEW6iOjiRj3anzd7g7Zsh_Q7E_xz_AWVn8dyvZ9rViWrw1GODg@mail.gmail.com>

On 11 May 2018 at 05:05, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>> In my simple test, pdftex can be changed similarly.
>> I'll change pdftex if it is OK.
>
>
> Done in r47676.

Akira, thanks!


>
> In the present latex-core, image names and input
> file names seem not to be usable in pdflatex.
> I don't know why.

That's expected (at present). You can use `\detokenize` or similar
around a non-ascii filename.
The 2018 latex release essentially preloaded `inputenc` and once that
is loaded (essentially all latex documents in recent years)
the non ascii characters are made active with font-encoding specific
typesetting definitions so don't work in filenames (some work
essentially accidentally if the font and filename encodings match)

>
> Best,
> Akira
>

David

From P.Taylor at Rhul.Ac.Uk  Fri May 11 09:11:48 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 11 May 2018 08:11:48 +0100
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <05E84205B91540039EFAADB745F6E861@CJ3001517A>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOiGsn-ZWT+K0ry88Ve+XSezfGKv6SC4-sP=KUzHNBAGHQ@mail.gmail.com>
 <CAC1phyYTmAAiK37zPX3obFV8j2sfesRXAjvoZHxermTOiitUNQ@mail.gmail.com>
 <CAEW6iOissJ=ytWT29XmeLK8SbHwXLV2j3MkfuE0jvvUN1jVdoA@mail.gmail.com>
 <d7fe2cd5-83b9-59ce-1d52-86d710826cd1@Rhul.Ac.Uk>
 <08ce6147-8185-a75f-2bb5-c59f10a01a45@Rhul.Ac.Uk>
 <72acaf2c-d91b-30c0-84b9-803aca59b2ef@Rhul.Ac.Uk>
 <9b0dfe18-76f3-4167-7cf4-5a7ed4627149@Rhul.Ac.Uk>
 <05E84205B91540039EFAADB745F6E861@CJ3001517A>
Message-ID: <e020fc9b-e018-09e0-406a-bd7e5613a1cb@Rhul.Ac.Uk>

Ah yes, success :

> D:\>set command_line_encoding=utf-8
>
> D:\>xetex Begr??ung
> This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018/W32TeX) (preloaded format=xetex)
> entering extended mode
> ! I can't find file `Begr??ung'.
> <*> Begr??ung
>
> (Press Enter to retry, or Control-Z to exit)
> Please type another input file name:

Many thanks / /arigato gozaimasu/, Akira-san.


Akira Kakuto wrote:
> Dear Philip,
>
> About non-ascii file names in a local CP on TL Windows:
>
> For XeTeX try
> set command_line_encoding=utf8
>
> If it is OK, write a line
>
> command_line_encoding = utf8
>
> in your texmf.cnf.
>
> Best,
> Akira
>

-- 
<Signature>
Philip Taylor

From news3 at nililand.de  Fri May 11 09:48:30 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 11 May 2018 09:48:30 +0200
Subject: [tex-live] TL2018: Problems with filenames
References: <D2B3AB875E554F52A3E73A801079AFAD@CJ3001517A>
Message-ID: <1bkk1le9v4ogj.dlg@nililand.de>

Am Fri, 11 May 2018 13:05:05 +0900 schrieb Akira Kakuto:

> Now non-ascii file names in local code page
> may be used in pdftex:
> pdftex non-ascii-name.tex
> pdflatex non-ascii-name.tex
> if a line
> 
> command_line_encoding = utf8
> 
> is written in a suitable texmf.cnf.

Could it have bad side effects (e.g. for older windows or for other
locales) if the line is there by default? 

And if yes, how can someone who wants to disable the setting again
in a local texmf.cnf do it? With an empty argument?

command_line_encoding =

?

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From Matthias.Vogel at phil.uni-giessen.de  Fri May 11 12:21:08 2018
From: Matthias.Vogel at phil.uni-giessen.de (Vogel, Matthias)
Date: Fri, 11 May 2018 10:21:08 +0000
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <CAEW6iOhWE8O4OPtMVAmWR1dHYuoG1GHN3eg4TYNEFDRhibU5iw@mail.gmail.com>
References: <5ac8f7f373f346d6aa84e38e398d3c20@phil.uni-giessen.de>
 <CAEW6iOhWE8O4OPtMVAmWR1dHYuoG1GHN3eg4TYNEFDRhibU5iw@mail.gmail.com>
Message-ID: <7bb64afbbd024547a43077eb1528c17f@phil.uni-giessen.de>

> On 10 May 2018 at 18:26, Vogel, Matthias <Matthias.Vogel at phil.uni-
> giessen.de> wrote:
> 
> > I hesitated to write this since it just seems to be crazy.
> 
> I'm glad you did, thanks for the report. I have logged the issue here, and
> hopefully we'll get an update posted in the next day or so (needs a bit more
> testing).
> 
> https://github.com/latex3/latex2e/issues/48
> 
> David

Thank you so much. Just to confirm: I am on Win10, pdfTeX is Version 3.14159265-2.6-1.40.19 (TeX Live 2018/W32TeX), LaTeX2e <2018-04-01> patch level 4

Matthias


From wonsiri at gmail.com  Fri May 11 09:48:44 2018
From: wonsiri at gmail.com (BO)
Date: Fri, 11 May 2018 14:48:44 +0700
Subject: [tex-live] Problem with LateX installation
Message-ID: <CAPnhgWBG5TMjRH56C+7u9Ac=4+c1gbjna_eL+vRjdax9N5QHwQ@mail.gmail.com>

Hi,
I have gotten an error message.It says that
The required file

tex\generic\dehyph-exptl\dehypht-x-2013-05-26.tex

is missing.


Could u please help.

Thanks.


-- 
************************************
Wonsiri Punurai, Ph.D.
Assistant Professor of Civil Engineering
Director of Mahidol Consulting and Design Service Program of
Civil and Environmental Engineering
Mahidol University (MAHIDOL CEEDS)
Nakhonpathom, Thailand 73170
Tel: 662-889-2138 ext 6391
Fax: 662-889-2138 ext 6388
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180511/2bfa0ab9/attachment.html>

From daleif at math.au.dk  Fri May 11 15:51:33 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 11 May 2018 13:51:33 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <1525876351152.68254@math.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>,
 <20180509143015.GE13654@bulldog.preining.info>,
 <1525876351152.68254@math.au.dk>
Message-ID: <1526046693780.48611@math.au.dk>

I tested two things today

(1) Installing from TLnet rsynced to local network share, ran without problems

(2) Deleted TL18 and reinstalled using todays netinstaller, that also ran without problems.

I'll try and run it again Monday to see if the hickups return.

My guess is still the AV locking the file for analysis before the rename gets to it.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 09 May 2018 16:32
To: Norbert Preining
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Thanks

Once my Win10 VM is finished updating (sigh) I'll give it a spin.

(my spin class got cancelled so I got extra time in the office)


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 09 May 2018 16:30
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Hi Lars,

> BTW: what is the proper  method for writing to the installation console and the installation log?
...
> &log

See pod docs of TLUtils. log only writes to the logfile. If you want
to issue something to console and logfile, either use info, debug,
ddebug, or tlwarn, and depending on the -v setting you get output.
If you do nothing, info will work and will go to the log file as well as
the console.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13



From ttk at t-lab.opal.ne.jp  Fri May 11 16:21:08 2018
From: ttk at t-lab.opal.ne.jp (TANAKA Takuji)
Date: Fri, 11 May 2018 23:21:08 +0900
Subject: [tex-live] TL2018: Problems with filenames
In-Reply-To: <1bkk1le9v4ogj.dlg@nililand.de>
References: <D2B3AB875E554F52A3E73A801079AFAD@CJ3001517A>
 <1bkk1le9v4ogj.dlg@nililand.de>
Message-ID: <60326d77-4a04-69ac-c9ad-fe53ffcb706b@t-lab.opal.ne.jp>

Hi,
I (takuji) had proposed the "command_line_encoding" function on Windows
in 2014, firstly written for (e)upTeX.

 > Could it have bad side effects (e.g. for older windows or for other
 > locales) if the line is there by default?
If a latex input file coded by latin-1 like fileA.tex as follows,
non-ascii-A.tex cannot be opened with "command_line_encoding=utf-8".
On the other hand, a latex input file coded by utf-8 like fileB.tex as follows,
non-ascii-A.tex can be opened with "command_line_encoding=utf-8".

I do not recommend for someone who prefer legacy encoding
to set "command_line_encoding=utf-8".

 > for older windows
I do not expect to work the function on Windows ME or 95 or older.
I think it's OK on Windows NT, 2000 or later.

 > And if yes, how can someone who wants to disable the setting again
 > in a local texmf.cnf do it? With an empty argument?
Please set as following:
command_line_encoding=none


===== fileA.tex =====
% -*- coding: latin-1 -*-
\documentclass{article}
\begin{document}
\input{non-ascii-A.tex}
\end{document}
======

===== fileB.tex =====
% -*- coding: utf-8 -*-
\documentclass{article}
\begin{document}
\input{non-ascii-A.tex}
\end{document}
======

Best,
Takuji TANAKA



On 2018/05/11 16:48, Ulrike Fischer wrote:
> Am Fri, 11 May 2018 13:05:05 +0900 schrieb Akira Kakuto:
> 
>> Now non-ascii file names in local code page
>> may be used in pdftex:
>> pdftex non-ascii-name.tex
>> pdflatex non-ascii-name.tex
>> if a line
>>
>> command_line_encoding = utf8
>>
>> is written in a suitable texmf.cnf.
> 
> Could it have bad side effects (e.g. for older windows or for other
> locales) if the line is there by default?
> 
> And if yes, how can someone who wants to disable the setting again
> in a local texmf.cnf do it? With an empty argument?
> 
> command_line_encoding =
> 
> ?
> 


From reinhard.kotucha at web.de  Fri May 11 16:25:22 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 11 May 2018 16:25:22 +0200
Subject: [tex-live] Problem with LateX installation
In-Reply-To: <CAPnhgWBG5TMjRH56C+7u9Ac=4+c1gbjna_eL+vRjdax9N5QHwQ@mail.gmail.com>
References: <CAPnhgWBG5TMjRH56C+7u9Ac=4+c1gbjna_eL+vRjdax9N5QHwQ@mail.gmail.com>
Message-ID: <23285.42962.384689.567987@gargle.gargle.HOWL>

On 2018-05-11 at 14:48:44 +0700, BO wrote:

 > Hi,?
 > I have gotten an error message.It says that?
 > The required file
 > 
 > tex\generic\dehyph-exptl\dehypht-x-2013-05-26.tex
 > 
 > is missing.

Instead of explicitly stating the release date, just load the latest
patterns:

  \RequirePackage{hyphsubst}
  \HyphSubstLet{german}{german-x-latest}

Try also

   texdoc hyphsubst 

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From karl at freefriends.org  Sat May 12 01:12:11 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 11 May 2018 23:12:11 GMT
Subject: [tex-live] bug report of bibtex
In-Reply-To: <f4ba9924-89b2-a48d-f109-b40ec34d32ae@psu.edu>
Message-ID: <201805112312.w4BNCBbZ027149@freefriends.org>

    Latexmk maintainer here.

Hi John.

    the bibtex run fails if the document uses \include.

Ah. Indeed :(.

    create appropriate symlinks in the output directory, which is

Agreed this is ugly.

    (b) OS dependent as to whether it works.

You could copy instead of symlink the files (on Windows, or everywhere).
Still agreed that it is ugly :).

    What would be nice would be for bibtex to change its behavior to look 
    for the other input files in the directory of the primary aux file.

Sounds plausible to me for bibtex to look for the aux files in the
directory of the main aux file. For compatibility, probably do this
after looking up the name as-is, although in practice I doubt that
it would matter.

Since bibtex uses no path for looking up aux files, I see no way to get
it to look in the --output-directory now for the subsidiary .aux's. I
can't think of any other approach you're missing, unfortunately.

Thanks,
Karl

From jcc8 at psu.edu  Sun May 13 00:23:41 2018
From: jcc8 at psu.edu (John Collins)
Date: Sat, 12 May 2018 18:23:41 -0400
Subject: [tex-live] bug report of bibtex
In-Reply-To: <201805112312.w4BNCBbZ027149@freefriends.org>
References: <201805112312.w4BNCBbZ027149@freefriends.org>
Message-ID: <9e733c4a-d316-2ea1-6a83-2624241439e3@psu.edu>

On 5/11/18 7:12 PM, Karl Berry wrote:
> 
 > John Collins wrote:
>      What would be nice would be for bibtex to change its behavior to look
>      for the other input files in the directory of the primary aux file.
> 
> Sounds plausible to me for bibtex to look for the aux files in the
> directory of the main aux file. For compatibility, probably do this
> after looking up the name as-is, although in practice I doubt that
> it would matter.
> 
> Since bibtex uses no path for looking up aux files, I see no way to get
> it to look in the --output-directory now for the subsidiary .aux's. I
> can't think of any other approach you're missing, unfortunately.

By the way, I've just realized that a solution can be made if bibtex8 is 
used instead of bibtex, since bibtex8 uses the TEXINPUTS path for its 
.aux file search.

Would a change in bibtex be possible the following lines?  (I don't know 
all the ramifications, and I don't know whether this is a TeXLive 
responsibility, of course.)

Suppose the top-level .aux file (specified on the command line) has a 
non-trivial path component, e.g., one runs
    bibtex output/main
or
    bibtex output/main.aux

Then the search for subsidiary .aux files is changed from no path to 
just the path component of the top-level aux file.  (Or to that path 
component and the current directory.)

If that could be done, then it would also be useful to add that path 
component to the search path for .bib files.  This is because there is 
at least one widely used documentclass (specifically revtex4-1) that 
generates a .bib file.  This is used for incorporating footnotes in the 
bibliography list.  The generated .bib file is written to the output 
directory.

John

From joseph.wright at morningstar2.co.uk  Sun May 13 11:57:33 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 13 May 2018 10:57:33 +0100
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
Message-ID: <c601b58d-eb5a-b5af-e207-2b0fa41a0a13@morningstar2.co.uk>

On 03/05/2018 22:38, Joseph Wright wrote:
> Hello all,
> 
> In adding features to expl3, the LaTeX team have been making use of a 
> variety of 'new' (post-e-TeX) 'utility' primitives in various engines. 
> Almost always these originate in pdfTeX and have migrated to other 
> engines, but are not in any way tied to PDF output, etc. Depending on 
> the exact engine in use, some or all of these primitives may be 
> unavailable, and that then limits macro-level features.
> 
> It seems sensible long-term to have cross-engine feature stay 'in sync' 
> with each other. In particular, (u)pTeX has picked up a number of pdfTeX 
> features, meaning that XeTeX often is the most 'limited' engine. The 
> team would like, if possible, to have a common feature set in all 
> engines in this regard. At the same time, there are a few 'bits and 
> pieces' that make sense to raise at the same time. I'll lay out the 
> various areas below.
> 
> Doing the work here is non-trivial, but luckily there is an automated 
> build system available via GitHub which is allowing us (me/David 
> Carlisle) to do some testing. I'm building up patches in various 
> branches at https://github.com/josephwright/texlive-source: assuming 
> these look good, I'll merge them as required and send diff files to 
> where/whoever is best. The branches on GitHub should hopefully have 
> clear names for what they address.
> 
> The areas we are keen to look at are as follows:
> 
> - 'pdfutils': (u)pTeX has picked up a number of pdfTeX primitives, and
>  ? a subset have made their way into XeTeX too. However, XeTeX is still
>  ? missing several, most notably an expandable RNG. We are part-way
>  ? though working out patches to add the rest to XeTeX (RNG is done,
>  ? file data and timer to do)
> 
> - banners: pdfTeX and LuaTeX have \<engine>banner, other engines lack
>  ? that. The banner includes TeX version and details of the TeX system,
>  ? so is potentially useful. Adding this to (u)pTeX/XeTeX looks
>  ? straight forward: still to-do.
> 
> - \expanded: This was slated for pdfTeX 1.50 but that has never
>  ? appeared, but the primitive is useful as it allows 'function-like'
>  ? expandable macros. We can see this begin very useful for simplifying
>  ? some macro code, and in many ways it feels like an e-TeX primitive.
>  ? The GitHub expanded branch adds it to pdfTeX/XeTeX/(u)pTeX
> 
> - Allowing \Ucharcat (XeTeX) to make \active tokens: this was raised
>  ? recently on the XeTeX list, but fits here as we've put a branch
>  ? together to show it works
> 
> It's likely I'll finish the outstanding patches by the weekend. Note 
> that at present each feature addition is in a separate Git branch, so to 
> add all of them I'll have to do a little tidying up: that will happen 
> once I know which of these suggestions are useful.
> 
> Feedback most welcome.
> 
> Joseph

Hello all,

Modulo any issues that show up in testing, all of the above is now done 
and on my GitHub fork 
(https://github.com/josephwright/texlive-source/tree/Ucharcat: this 
branch has 'all the stuff' on it).

I know that https://github.com/texjporg/tex-jp-build already has a 
branch for \expanded. What's the best way to request 'officially' that 
the changes go into pdfTeX/XeTeX? I can send a .diff to the pdfTeX dev 
list, and put in a pull request on SourceForge for XeTeX, if that's best.

Regards,

Joseph

From jfkthame at gmail.com  Sun May 13 13:23:35 2018
From: jfkthame at gmail.com (Jonathan Kew)
Date: Sun, 13 May 2018 12:23:35 +0100
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <c601b58d-eb5a-b5af-e207-2b0fa41a0a13@morningstar2.co.uk>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
 <c601b58d-eb5a-b5af-e207-2b0fa41a0a13@morningstar2.co.uk>
Message-ID: <676954d7-65de-aabb-7c1f-387f32a5a2f0@gmail.com>

On 13/05/2018 10:57, Joseph Wright wrote:
> Hello all,
> 
> Modulo any issues that show up in testing, all of the above is now done 
> and on my GitHub fork 
> (https://github.com/josephwright/texlive-source/tree/Ucharcat: this 
> branch has 'all the stuff' on it).
> 
> I know that https://github.com/texjporg/tex-jp-build already has a 
> branch for \expanded. What's the best way to request 'officially' that 
> the changes go into pdfTeX/XeTeX? I can send a .diff to the pdfTeX dev 
> list, and put in a pull request on SourceForge for XeTeX, if that's best.

Thanks for working on these things, Joseph.

For xetex, a pull request would be the best approach, I think; or if 
it's feasible to do separate PRs for each feature, that would probably 
make reviewing and tracking the changes easier.

Is there documentation of the added features available somewhere, so we 
can more accurately understand what we're thinking of adding? Thanks!

JK

From joseph.wright at morningstar2.co.uk  Sun May 13 14:15:28 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 13 May 2018 13:15:28 +0100
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <676954d7-65de-aabb-7c1f-387f32a5a2f0@gmail.com>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
 <c601b58d-eb5a-b5af-e207-2b0fa41a0a13@morningstar2.co.uk>
 <676954d7-65de-aabb-7c1f-387f32a5a2f0@gmail.com>
Message-ID: <6de5d6ef-658b-3815-6303-285aa45897f0@morningstar2.co.uk>

On 13/05/2018 12:23, Jonathan Kew wrote:
> On 13/05/2018 10:57, Joseph Wright wrote:
>> Hello all,
>>
>> Modulo any issues that show up in testing, all of the above is now 
>> done and on my GitHub fork 
>> (https://github.com/josephwright/texlive-source/tree/Ucharcat: this 
>> branch has 'all the stuff' on it).
>>
>> I know that https://github.com/texjporg/tex-jp-build already has a 
>> branch for \expanded. What's the best way to request 'officially' that 
>> the changes go into pdfTeX/XeTeX? I can send a .diff to the pdfTeX dev 
>> list, and put in a pull request on SourceForge for XeTeX, if that's best.
> 
> Thanks for working on these things, Joseph.
> 
> For xetex, a pull request would be the best approach, I think; or if 
> it's feasible to do separate PRs for each feature, that would probably 
> make reviewing and tracking the changes easier.
> 
> Is there documentation of the added features available somewhere, so we 
> can more accurately understand what we're thinking of adding? Thanks!
> 
> JK

Excellent: I'll start on putting something together later today.

Do you want all PRs against master or can they be 'chained'? Adding 
primitives, it's easier if you are working knowing which others have 
been created.

Joseph

From jfkthame at gmail.com  Sun May 13 14:36:35 2018
From: jfkthame at gmail.com (Jonathan Kew)
Date: Sun, 13 May 2018 13:36:35 +0100
Subject: [tex-live] Primitive parity, \expanded and \Ucharcat
In-Reply-To: <6de5d6ef-658b-3815-6303-285aa45897f0@morningstar2.co.uk>
References: <c87a52e4-260f-a41e-acf5-8ac8ef316252@morningstar2.co.uk>
 <c601b58d-eb5a-b5af-e207-2b0fa41a0a13@morningstar2.co.uk>
 <676954d7-65de-aabb-7c1f-387f32a5a2f0@gmail.com>
 <6de5d6ef-658b-3815-6303-285aa45897f0@morningstar2.co.uk>
Message-ID: <8c3ca787-8924-5bbe-3cba-b80b09ae4831@gmail.com>

On 13/05/2018 13:15, Joseph Wright wrote:
> On 13/05/2018 12:23, Jonathan Kew wrote:
>> On 13/05/2018 10:57, Joseph Wright wrote:
>>> Hello all,
>>>
>>> Modulo any issues that show up in testing, all of the above is now 
>>> done and on my GitHub fork 
>>> (https://github.com/josephwright/texlive-source/tree/Ucharcat: this 
>>> branch has 'all the stuff' on it).
>>>
>>> I know that https://github.com/texjporg/tex-jp-build already has a 
>>> branch for \expanded. What's the best way to request 'officially' 
>>> that the changes go into pdfTeX/XeTeX? I can send a .diff to the 
>>> pdfTeX dev list, and put in a pull request on SourceForge for XeTeX, 
>>> if that's best.
>>
>> Thanks for working on these things, Joseph.
>>
>> For xetex, a pull request would be the best approach, I think; or if 
>> it's feasible to do separate PRs for each feature, that would probably 
>> make reviewing and tracking the changes easier.
>>
>> Is there documentation of the added features available somewhere, so 
>> we can more accurately understand what we're thinking of adding? Thanks!
>>
>> JK
> 
> Excellent: I'll start on putting something together later today.
> 
> Do you want all PRs against master or can they be 'chained'? Adding 
> primitives, it's easier if you are working knowing which others have 
> been created.

"Chained" should be fine, I expect; I doubt there'd be any reason we'll 
want to take a later one but decide against an earlier one.

At which point perhaps a single PR is just as good, as long each feature 
is a separate commit so that it comes in manageable chunks. From a quick 
glance at your fork, it looks like that's how it would naturally appear. 
So, feel free to do whichever seems easiest for you.

JK

From joseph.wright at morningstar2.co.uk  Sun May 13 23:55:12 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 13 May 2018 22:55:12 +0100
Subject: [tex-live] GitHub mirror/Travis-CI
Message-ID: <f3cea183-4f8f-d852-412d-34d6c918d20c@morningstar2.co.uk>

Hello all,

A note of thanks to the TeX Live team for the new(ish) mirror of TL 
sources available on GitHub 
(https://github.com/TeX-Live/texlive-source), and the Travis-CI 
integration. For a non-expert such as myself, this makes fiddling about 
with minor code changes pretty easy to test: a real boon. It's also 
great as a model for what one needs in a Linux VM for local (faster) 
building (I've been using the Ubunut-based WSL).

Joseph

From karl at freefriends.org  Mon May 14 00:04:55 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 13 May 2018 22:04:55 GMT
Subject: [tex-live] bug report of bibtex
In-Reply-To: <9e733c4a-d316-2ea1-6a83-2624241439e3@psu.edu>
Message-ID: <201805132204.w4DM4tAA024038@freefriends.org>

    since bibtex8 uses the TEXINPUTS path for its .aux file search.

Huh. That should not have happened, but I certainly won't change it at
this late date.

    whether this is a TeXLive responsibility

Not TL per se (theoretically "tex-k" rather than "tex-live", but it
hardly makes a difference nowadays), but it's fine to write here.

        bibtex output/main.aux
    ...
    Then the search for subsidiary .aux files is changed from no path to 
    just the path component of the top-level aux file.  (Or to that path 
    component and the current directory.)

Yes, although I think it's better to search the current directory first
(or rather, the aux-name-as-given) and look in the output subdirectory
second, because the aux-as-given is what happens now. I doubt it will be
a problem in practice.

    then it would also be useful to add that path 
    component to the search path for .bib files.

That sounds to me like it has too many of those ramifications you
mentioned :). I presume this can be solved now by setting BIBINPUTS to
include the output directory, so I'd rather not change the code here.

Thanks,
Karl

From preining at logic.at  Mon May 14 06:15:55 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 14 May 2018 13:15:55 +0900
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <1526046693780.48611@math.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
 <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>
Message-ID: <20180514041555.GA18800@burischnitzel.preining.info>

Hi Lars,

> I tested two things today

You mean with the patch I sent you? Or without the patch?

With the patch the AV software should be more resilient since we don't
do renaming but copy followed by remove of the original. That might
account for the successful testing now.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From daleif at math.au.dk  Mon May 14 08:14:36 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 14 May 2018 06:14:36 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <20180514041555.GA18800@burischnitzel.preining.info>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
 <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>,
 <20180514041555.GA18800@burischnitzel.preining.info>
Message-ID: <1526278476930.33893@math.au.dk>

Completely unmodified.

I'll run it again today


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 14 May 2018 06:15
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Hi Lars,

> I tested two things today

You mean with the patch I sent you? Or without the patch?

With the patch the AV software should be more resilient since we don't
do renaming but copy followed by remove of the original. That might
account for the successful testing now.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From daleif at math.au.dk  Mon May 14 10:54:47 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 14 May 2018 08:54:47 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <1526278476930.33893@math.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
 <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>,
 <20180514041555.GA18800@burischnitzel.preining.info>,
 <1526278476930.33893@math.au.dk>
Message-ID: <1526288087970.4782@math.au.dk>

I got the rename error on a net install (using the unmodified latest installer)

I performed the patch mannually and ran it again

No issues, does not seem to have gotten any unlink warnings (not sure if tlwarn also writes them to the log). Everything seemed to install just fine.


I'll delete it again and try installing from an rsync'ed netshare


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 14 May 2018 08:14
To: Norbert Preining
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Completely unmodified.

I'll run it again today


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 14 May 2018 06:15
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Hi Lars,

> I tested two things today

You mean with the patch I sent you? Or without the patch?

With the patch the AV software should be more resilient since we don't
do renaming but copy followed by remove of the original. That might
account for the successful testing now.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13



From daleif at math.au.dk  Mon May 14 13:33:21 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 14 May 2018 11:33:21 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <1526288087970.4782@math.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
 <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>,
 <20180514041555.GA18800@burischnitzel.preining.info>,
 <1526278476930.33893@math.au.dk>,<1526288087970.4782@math.au.dk>
Message-ID: <1526297601921.46189@math.au.dk>

Ran the installation from a up to data unmodified rsync copy and it ran without problems (again).

I'm guessing the AV is more agressive when it can see we are getting stuff from the internet. In which case using File::Copy::copy + unlink seems to work better than using rename


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 14 May 2018 10:54
To: Norbert Preining
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

I got the rename error on a net install (using the unmodified latest installer)

I performed the patch mannually and ran it again

No issues, does not seem to have gotten any unlink warnings (not sure if tlwarn also writes them to the log). Everything seemed to install just fine.


I'll delete it again and try installing from an rsync'ed netshare


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 14 May 2018 08:14
To: Norbert Preining
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Completely unmodified.

I'll run it again today


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 14 May 2018 06:15
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

Hi Lars,

> I tested two things today

You mean with the patch I sent you? Or without the patch?

With the patch the AV software should be more resilient since we don't
do renaming but copy followed by remove of the original. That might
account for the successful testing now.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13




From preining at logic.at  Mon May 14 13:35:50 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 14 May 2018 20:35:50 +0900
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <1526297601921.46189@math.au.dk>
References: <7809b0f06c4045d0bc337beb72b46c09@exch02.uni.au.dk>
 <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
 <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>,
 <20180514041555.GA18800@burischnitzel.preining.info>,
 <1526278476930.33893@math.au.dk>,
 <1526288087970.4782@math.au.dk> <1526297601921.46189@math.au.dk>
Message-ID: <D50DD001-5290-4A0E-935D-FD7518810EA0@logic.at>

Thanks, I'll commit that to our sources as soon as I'm back from my sake tasting trip ;-)

Norbert

--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From preining at logic.at  Mon May 14 15:08:55 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 14 May 2018 22:08:55 +0900
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <D50DD001-5290-4A0E-935D-FD7518810EA0@logic.at>
References: <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
 <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>
 <20180514041555.GA18800@burischnitzel.preining.info>
 <1526278476930.33893@math.au.dk> <1526288087970.4782@math.au.dk>
 <1526297601921.46189@math.au.dk>
 <D50DD001-5290-4A0E-935D-FD7518810EA0@logic.at>
Message-ID: <20180514130855.GA25293@burischnitzel.preining.info>

> Thanks, I'll commit that to our sources as soon as I'm back from my sake tasting trip ;-)

Committed now, will be in the installer and tlcritical from tomorrow.
The installer is always based on the latest sources, to people grabbing
the installer should immediately profit from this change.

Thanks for testing

Norbert
(lots of tasting instead of testing)

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From daleif at math.au.dk  Mon May 14 15:14:52 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 14 May 2018 13:14:52 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <20180514130855.GA25293@burischnitzel.preining.info>
References: <20180509134104.GC13654@bulldog.preining.info>
 <1525873593052.81221@math.au.dk>
 <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>
 <20180514041555.GA18800@burischnitzel.preining.info>
 <1526278476930.33893@math.au.dk> <1526288087970.4782@math.au.dk>
 <1526297601921.46189@math.au.dk>
 <D50DD001-5290-4A0E-935D-FD7518810EA0@logic.at>,
 <20180514130855.GA25293@burischnitzel.preining.info>
Message-ID: <1526303692709.70799@math.au.dk>

I'll test it against my company VM when the new version hits my normal mirror


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 14 May 2018 15:08
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

> Thanks, I'll commit that to our sources as soon as I'm back from my sake tasting trip ;-)

Committed now, will be in the installer and tlcritical from tomorrow.
The installer is always based on the latest sources, to people grabbing
the installer should immediately profit from this change.

Thanks for testing

Norbert
(lots of tasting instead of testing)

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From preining at logic.at  Mon May 14 15:17:42 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 14 May 2018 22:17:42 +0900
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <1526303692709.70799@math.au.dk>
References: <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>
 <20180514041555.GA18800@burischnitzel.preining.info>
 <1526278476930.33893@math.au.dk> <1526288087970.4782@math.au.dk>
 <1526297601921.46189@math.au.dk>
 <D50DD001-5290-4A0E-935D-FD7518810EA0@logic.at>
 <20180514130855.GA25293@burischnitzel.preining.info>
 <1526303692709.70799@math.au.dk>
Message-ID: <20180514131742.GB25293@burischnitzel.preining.info>

> I'll test it against my company VM when the new version hits my normal mirror

As I said, the installer package (install-tl-latest) will contain the
fix starting from tomorrow, but after the installation the old TLPDB
module is used unless tlcritical is used or after we push out the
current status.

The biggest problem - and practically all reported errors - are during
installation, so that might help already.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From angelo.g0 at libero.it  Tue May 15 01:21:45 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 01:21:45 +0200 (CEST)
Subject: [tex-live] Today issues between suftesi and biblatex
Message-ID: <1243369736.696065.1526340105506@mail.libero.it>

For the sake of completeness...

After today upgrade, building documents using _suftesi_ and _biblatex_ fails with this error:

[...]
(/opt/texlive/texmf-dist/tex/latex/url/url.sty)
(/opt/texlive/texmf-dist/tex/generic/xstring/xstring.sty
(/opt/texlive/texmf-dist/tex/generic/xstring/xstring.tex))
(/opt/texlive/texmf-dist/tex/latex/biblatex/blx-dm.def)
! Parameters must be numbered consecutively.
<to be read again> 
                   1
l.6132 \def\do#1
                {%
? x
No pages of output.
[...]

It seems that the error occurs only when one use _suftesi_ in combination with _biblatex_. Trying with _book_ or _scrreprt_, for example, does not reproduce the error.

I can reproduce the above error with the following test case in which I added the packages updated today.

Ciao,
 Angelo.

$ cat test-bug-20180514.tex
\documentclass{suftesi}

\usepackage{biblatex}

\begin{document}
\end{document}

%% $ tlmgr --repository /mnt/tlrepo update --list
%% tlmgr: package repository /mnt/tlrepo (verified)
%% update:   aastex             [724k]: local:    39929, source:    47692
%% update:   apxproof           [460k]: local:    44478, source:    47665
%% update:   babel             [1340k]: local:    47576, source:    47664
%% update:   bib2gls           [5561k]: local:    47413, source:    47658
%% update:   dozenal            [415k]: local:    44740, source:    47680
%% update:   eso-pic            [257k]: local:    37925, source:    47694
%% update:   glossaries        [5439k]: local:    47357, source:    47667
%% update:   glossaries-extra  [4926k]: local:    47494, source:    47666
%% update:   ipaex-type1      [13214k]: local:    42403, source:    47700
%% update:   japanese-otf-uptex [152k]: local:    47352, source:    47702
%% update:   komacv-rg          [852k]: local:    45187, source:    47668
%% update:   l3build            [718k]: local:    47629, source:    47669
%% update:   l3experimental    [2848k]: local:    47633, source:    47705
%% update:   l3kernel          [8035k]: local:    47516, source:    47705
%% update:   l3packages        [1794k]: local:    47516, source:    47705
%% update:   lwarp             [2345k]: local:    47491, source:    47695
%% update:   m-tx.x86_64-linux   [43k]: local:    47063, source:    47647
%% update:   musixtex          [2065k]: local:    46141, source:    47682
%% update:   newtx             [4441k]: local:    47587, source:    47693
%% update:   platex            [1630k]: local:    47536, source:    47683
%% update:   ptex.x86_64-linux [1401k]: local:    47140, source:    47647
%% update:   siunitx            [723k]: local:    47596, source:    47684
%% update:   stix              [4357k]: local:    47540, source:    47652
%% update:   tetex              [583k]: local:    47581, source:    47662
%% update:   tex4ebook           [94k]: local:    47414, source:    47672
%% update:   tex4ht             [899k]: local:    47637, source:    47681
%% update:   texlive-docindex   [236k]: local:    47636, source:    47697
%% update:   texlive-scripts    [116k]: local:    47624, source:    47697
%% update:   tools             [5310k]: local:    47612, source:    47671
%% update:   toptesi           [5413k]: local:    46404, source:    47699
%% update:   tracklang          [963k]: local:    46703, source:    47704
%% update:   updmap-map         [182k]: local:    47581, source:    47662
%% update:   uptex.x86_64-linux [6705k]: local:    47179, source:    47647
%% update:   witharrows         [289k]: local:    46616, source:    47670
%% update:   xetex.x86_64-linux [7125k]: local:    47245, source:    47647
%% autoinst: endnotesj          [155k]: local: <absent>, source:    47703
%% autoinst: pdfoverlay         [540k]: local: <absent>, source:    47657
%% autoinst: stickstoo         [2972k]: local: <absent>, source:    47701
%% update:   collection-fontsextra [2k]: local:    47570, source:    47656
%% update:   collection-langjapanese [1k]: local:    46987, source:    47703
%% update:   collection-latexextra [6k]: local:    47621, source:    47657

From angelo.g0 at libero.it  Tue May 15 01:31:47 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 01:31:47 +0200 (CEST)
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <20180401145943.GB4879@bulldog.preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
Message-ID: <1156667763.696123.1526340707710@mail.libero.it>

Just out of curiosity...

> Il 1 aprile 2018 alle 16.59 Norbert Preining <norbert at preining.info> ha scritto:
> 
> 
> Hi Angelo,
> 
> >   tlmgr --repository utente at mbp:tlrepo update --list
> 
> Not supported, sorry. We only support http(s) and ftp.
> I had partial support for rsync, but this here requires ssh.
> I am not sure I want to support this.
> 
> Use sshfs (fuse) and install from a local directory. This is the better
> option.
> 

Yes, it works... on GNU/Linux.. but I am also interested to WSL (Windows Subsystem for Linux): here I can ssh to the mbp but sshfs does not work because fuse is not supported.. :-(

What a pity!

Ciao,
 Angelo.

From norbert at preining.info  Tue May 15 02:05:45 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 May 2018 09:05:45 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <1156667763.696123.1526340707710@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
Message-ID: <20180515000545.GB10143@burischnitzel.preining.info>

Hi Angelo,

> Yes, it works... on GNU/Linux.. but I am also interested to WSL (Windows Subsystem for Linux): here I can ssh to the mbp but sshfs does not work because fuse is not supported.. :-(

Mumumu, I might look into this, at some point in the future ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Tue May 15 05:10:31 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 May 2018 12:10:31 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <1156667763.696123.1526340707710@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
Message-ID: <20180515031031.GA18107@burischnitzel.preining.info>

> Yes, it works... on GNU/Linux.. but I am also interested to WSL (Windows Subsystem for Linux): here I can ssh to the mbp but sshfs does not work because fuse is not supported.. :-(

If you are adventures, you could try the following patch ;-)
Will probably not work for installation, first only for tlmgr calls.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tl-ssh-support.patch
Type: text/x-diff
Size: 2404 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180515/9735567f/attachment.bin>

From zdenek.wagner at gmail.com  Tue May 15 09:16:12 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 15 May 2018 09:16:12 +0200
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <20180515031031.GA18107@burischnitzel.preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
Message-ID: <CAC1phybx5OqDDxtBMBNuY08+Vw1_CHLH=3UDjRZahAPwCCsfhA@mail.gmail.com>

fuse needs to be supported in the kernel and this is not available as
default in all Linux distros. Alternative kernels may be available (at
least it was so in CentOS 5).

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-05-15 5:10 GMT+02:00 Norbert Preining <norbert at preining.info>:

> > Yes, it works... on GNU/Linux.. but I am also interested to WSL (Windows
> Subsystem for Linux): here I can ssh to the mbp but sshfs does not work
> because fuse is not supported.. :-(
>
> If you are adventures, you could try the following patch ;-)
> Will probably not work for installation, first only for tlmgr calls.
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180515/1a991ce8/attachment.html>

From norbert at preining.info  Tue May 15 09:22:11 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 May 2018 16:22:11 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <CAC1phybx5OqDDxtBMBNuY08+Vw1_CHLH=3UDjRZahAPwCCsfhA@mail.gmail.com>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <CAC1phybx5OqDDxtBMBNuY08+Vw1_CHLH=3UDjRZahAPwCCsfhA@mail.gmail.com>
Message-ID: <20180515072211.GA24448@burischnitzel.preining.info>

> fuse needs to be supported in the kernel and this is not available as
> default in all Linux distros. Alternative kernels may be available (at

My patch is not using fuse, but uses scp to get files ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Tue May 15 09:44:59 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 15 May 2018 09:44:59 +0200
Subject: [tex-live] Today issues between suftesi and biblatex
References: <1243369736.696065.1526340105506@mail.libero.it>
Message-ID: <192g2swplsp00.dlg@nililand.de>

Am Tue, 15 May 2018 01:21:45 +0200 (CEST) schrieb Angelo Graziosi:

> For the sake of completeness...
> 
> After today upgrade, building documents using _suftesi_ and _biblatex_ fails with this error:
> 
> [...]
> (/opt/texlive/texmf-dist/tex/latex/url/url.sty)
> (/opt/texlive/texmf-dist/tex/generic/xstring/xstring.sty
> (/opt/texlive/texmf-dist/tex/generic/xstring/xstring.tex))
> (/opt/texlive/texmf-dist/tex/latex/biblatex/blx-dm.def)
> ! Parameters must be numbered consecutively.
> <to be read again> 
>                    1
> l.6132 \def\do#1
>                 {%
> ? x
> No pages of output.
> [...]
> 
> It seems that the error occurs only when one use _suftesi_ in combination with _biblatex_. Trying with _book_ or _scrreprt_, for example, does not reproduce the error.

Oh god. The newest newtxmath loads etextools.

\documentclass{book}
\usepackage{newtxmath}
\usepackage{biblatex}

\begin{document}
\end{document}

Write the newtxmath author. etextools is incompatible with biblatex,
buggy, unmaintained and should not be used.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From angelo.g0 at libero.it  Tue May 15 10:03:15 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 10:03:15 +0200 (CEST)
Subject: [tex-live] Today issues after TL upgrade (newtx)
Message-ID: <1764365412.708116.1526371395946@mail.libero.it>

Today, building some documents fails after TeXLive upgrade. For details see this 

  http://tug.org/pipermail/tex-live/2018-May/041715.html

and this

  http://tug.org/pipermail/tex-live/2018-May/041721.html


Thanks,
  Angelo.

From angelo.g0 at libero.it  Tue May 15 10:12:30 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 10:12:30 +0200 (CEST)
Subject: [tex-live] Today issues between suftesi and biblatex
Message-ID: <434516733.709429.1526371950912@mail.libero.it>

Ulrike Fischer wrote:

> Oh god. The newest newtxmath loads etextools.
> Write the newtxmath author. etextools is incompatible with biblatex[...]

Done (hoping the email address found is valid...)

Ciao,
 Angelo.

From news3 at nililand.de  Tue May 15 10:38:03 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 15 May 2018 10:38:03 +0200
Subject: [tex-live] Today issues between suftesi and biblatex
References: <434516733.709429.1526371950912@mail.libero.it>
Message-ID: <1k0l0c14l689u$.dlg@nililand.de>

Am Tue, 15 May 2018 10:12:30 +0200 (CEST) schrieb Angelo Graziosi:

>> Oh god. The newest newtxmath loads etextools.
>> Write the newtxmath author. etextools is incompatible with biblatex[...]
 
> Done (hoping the email address found is valid...)

Actually the newest newtxt version already corrects the problem.
Perhaps your mirror didn't have it yet (I only got in on the second
try).

That's a relief ;-)

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From angelo.g0 at libero.it  Tue May 15 11:37:35 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 11:37:35 +0200 (CEST)
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <20180515031031.GA18107@burischnitzel.preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
Message-ID: <787095159.712298.1526377055440@mail.libero.it>


> Il 15 maggio 2018 alle 5.10 Norbert Preining <norbert at preining.info> ha scritto:
> 
> 
> > Yes, it works... on GNU/Linux.. but I am also interested to WSL (Windows Subsystem for Linux): here I can ssh to the mbp but sshfs does not work because fuse is not supported.. :-(
> 
> If you are adventures, you could try the following patch ;-)
> Will probably not work for installation, first only for tlmgr calls.
> 

I have applied your patch to my /opt/texlive/tlpkg/TeXLive/{TLPDB.pm,TLUtils.pm} files and (notice, it asks 3 times the password...)

$ tlmgr --repository utente at mbp:/opt/tlrepo update --list
Password:
Password:
Password:
tlmgr: package repository angelo at 192.168.1.104:/opt/tlrepo (verified)
update:   aastex             [724k]: local:    39929, source:    47692
update:   apxproof           [460k]: local:    44478, source:    47665
update:   babel             [1340k]: local:    47576, source:    47664
update:   bib2gls           [5561k]: local:    47413, source:    47658
update:   dozenal            [415k]: local:    44740, source:    47680
update:   eso-pic            [257k]: local:    37925, source:    47694
update:   glossaries        [5439k]: local:    47357, source:    47667
update:   glossaries-extra  [4926k]: local:    47494, source:    47666
update:   ipaex-type1      [13214k]: local:    42403, source:    47700
update:   japanese-otf-uptex [152k]: local:    47352, source:    47702
update:   komacv-rg          [852k]: local:    45187, source:    47668
update:   l3build            [718k]: local:    47629, source:    47669
update:   l3experimental    [2848k]: local:    47633, source:    47705
update:   l3kernel          [8035k]: local:    47516, source:    47705
update:   l3packages        [1794k]: local:    47516, source:    47705
update:   lwarp             [2345k]: local:    47491, source:    47695
update:   m-tx.x86_64-linux   [43k]: local:    47063, source:    47647
update:   musixtex          [2065k]: local:    46141, source:    47682
update:   newtx             [4441k]: local:    47587, source:    47693
update:   platex            [1630k]: local:    47536, source:    47683
update:   ptex.x86_64-linux [1401k]: local:    47140, source:    47647
update:   siunitx            [723k]: local:    47596, source:    47684
update:   stix              [4357k]: local:    47540, source:    47652
update:   tetex              [583k]: local:    47581, source:    47662
update:   tex4ebook           [94k]: local:    47414, source:    47672
update:   tex4ht             [899k]: local:    47637, source:    47681
update:   texlive-docindex   [236k]: local:    47636, source:    47697
update:   texlive-scripts    [116k]: local:    47624, source:    47697
update:   tools             [5310k]: local:    47612, source:    47671
update:   toptesi           [5413k]: local:    46404, source:    47699
update:   tracklang          [963k]: local:    46703, source:    47704
update:   updmap-map         [182k]: local:    47581, source:    47662
update:   uptex.x86_64-linux [6705k]: local:    47179, source:    47647
update:   witharrows         [289k]: local:    46616, source:    47670
update:   xetex.x86_64-linux [7125k]: local:    47245, source:    47647
autoinst: endnotesj          [155k]: local: <absent>, source:    47703
autoinst: pdfoverlay         [540k]: local: <absent>, source:    47657
autoinst: stickstoo         [2972k]: local: <absent>, source:    47701
update:   collection-fontsextra [2k]: local:    47570, source:    47656
update:   collection-langjapanese [1k]: local:    46987, source:    47703
update:   collection-latexextra [6k]: local:    47621, source:    47657

From norbert at preining.info  Tue May 15 12:21:24 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 May 2018 19:21:24 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <787095159.712298.1526377055440@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
Message-ID: <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>

Yes it asks for downloading the tlpdd, the checksum, and the signature of the checksum.

You need to set up gpg-agent, we will not cache passwords.

Norbert

On May 15, 2018 6:37:35 PM GMT+09:00, Angelo Graziosi <angelo.g0 at libero.it> wrote:
>
>> Il 15 maggio 2018 alle 5.10 Norbert Preining <norbert at preining.info>
>ha scritto:
>> 
>> 
>> > Yes, it works... on GNU/Linux.. but I am also interested to WSL
>(Windows Subsystem for Linux): here I can ssh to the mbp but sshfs does
>not work because fuse is not supported.. :-(
>> 
>> If you are adventures, you could try the following patch ;-)
>> Will probably not work for installation, first only for tlmgr calls.
>> 
>
>I have applied your patch to my
>/opt/texlive/tlpkg/TeXLive/{TLPDB.pm,TLUtils.pm} files and (notice, it
>asks 3 times the password...)
>
>$ tlmgr --repository utente at mbp:/opt/tlrepo update --list
>Password:
>Password:
>Password:
>tlmgr: package repository angelo at 192.168.1.104:/opt/tlrepo (verified)
>update:   aastex             [724k]: local:    39929, source:    47692
>update:   apxproof           [460k]: local:    44478, source:    47665
>update:   babel             [1340k]: local:    47576, source:    47664
>update:   bib2gls           [5561k]: local:    47413, source:    47658
>update:   dozenal            [415k]: local:    44740, source:    47680
>update:   eso-pic            [257k]: local:    37925, source:    47694
>update:   glossaries        [5439k]: local:    47357, source:    47667
>update:   glossaries-extra  [4926k]: local:    47494, source:    47666
>update:   ipaex-type1      [13214k]: local:    42403, source:    47700
>update:   japanese-otf-uptex [152k]: local:    47352, source:    47702
>update:   komacv-rg          [852k]: local:    45187, source:    47668
>update:   l3build            [718k]: local:    47629, source:    47669
>update:   l3experimental    [2848k]: local:    47633, source:    47705
>update:   l3kernel          [8035k]: local:    47516, source:    47705
>update:   l3packages        [1794k]: local:    47516, source:    47705
>update:   lwarp             [2345k]: local:    47491, source:    47695
>update:   m-tx.x86_64-linux   [43k]: local:    47063, source:    47647
>update:   musixtex          [2065k]: local:    46141, source:    47682
>update:   newtx             [4441k]: local:    47587, source:    47693
>update:   platex            [1630k]: local:    47536, source:    47683
>update:   ptex.x86_64-linux [1401k]: local:    47140, source:    47647
>update:   siunitx            [723k]: local:    47596, source:    47684
>update:   stix              [4357k]: local:    47540, source:    47652
>update:   tetex              [583k]: local:    47581, source:    47662
>update:   tex4ebook           [94k]: local:    47414, source:    47672
>update:   tex4ht             [899k]: local:    47637, source:    47681
>update:   texlive-docindex   [236k]: local:    47636, source:    47697
>update:   texlive-scripts    [116k]: local:    47624, source:    47697
>update:   tools             [5310k]: local:    47612, source:    47671
>update:   toptesi           [5413k]: local:    46404, source:    47699
>update:   tracklang          [963k]: local:    46703, source:    47704
>update:   updmap-map         [182k]: local:    47581, source:    47662
>update:   uptex.x86_64-linux [6705k]: local:    47179, source:    47647
>update:   witharrows         [289k]: local:    46616, source:    47670
>update:   xetex.x86_64-linux [7125k]: local:    47245, source:    47647
>autoinst: endnotesj          [155k]: local: <absent>, source:    47703
>autoinst: pdfoverlay         [540k]: local: <absent>, source:    47657
>autoinst: stickstoo         [2972k]: local: <absent>, source:    47701
>update:   collection-fontsextra [2k]: local:    47570, source:    47656
>update:   collection-langjapanese [1k]: local:    46987, source:   
>47703
>update:   collection-latexextra [6k]: local:    47621, source:    47657


--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180515/260fbf39/attachment.html>

From angelo.g0 at libero.it  Tue May 15 12:45:32 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 12:45:32 +0200 (CEST)
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
Message-ID: <1253422525.722906.1526381133010@mail.libero.it>

> Il 15 maggio 2018 alle 12.21 Norbert Preining ha scritto:
> 
> 
> Yes it asks for downloading the tlpdd, the checksum, and the signature of the checksum.

Here this works:

$ tlmgr --repository utente at mbp:/opt/tlrepo update --list
Password:
Password:
Password:
[...]

$ tlmgr --repository utente at mbp:/opt/tlrepo update --self
Password:
Password:
Password:
[...]

but this does not seem to work:

$ tlmgr --repository utente at mbp:/opt/tlrepo update --all
Password:
Password:
Password:
tlmgr: package repository utente at mbp:/opt/tlrepo (verified)
[ 1/43, ??:??/??:??] update: aastex [724k] (39929 -> 47692) ... open(utente at mbp:/opt/tlrepo/archive/aastex.tar.xz) failed, not copying: No such file or directory at /opt/texlive/tlpkg/TeXLive/TLUtils.pm line 1111.
tlchecksum: given file not readable: /tmp/qwNyKYLzwC/I4Snp4RpcS/aastex.tar.xz
TLUtils::check_file: removing /tmp/qwNyKYLzwC/I4Snp4RpcS/aastex.tar.xz, checksums differ:
TLUtils::check_file:   TL=, arg=03c1bfe72cd452542c114db9d3c388ef338a8722d78fff6b9369c2d8a43b057babf01e25f0c9e5908c14762a8d7717586b05a02b8446d098ec5b7885144e4ac2
TLPDB::_install_package: consistency checks failed
tlmgr: Installation of new version of aastex failed, trying to unwind.
tlmgr: Restoring of old package did NOT succeed.
tlmgr: Error message from unpack: don't know how to unpack
tlmgr: Most likely repair: run tlmgr install aastex and hope.
done
[...]

and this for each package in "--list"...

From norbert at preining.info  Tue May 15 12:51:56 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 May 2018 19:51:56 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <1253422525.722906.1526381133010@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1253422525.722906.1526381133010@mail.libero.it>
Message-ID: <20180515105156.GA25972@burischnitzel.preining.info>

Hi

> $ tlmgr --repository utente at mbp:/opt/tlrepo update --self
> Password:
> Password:
> Password:
> [...]

Interesting, this worked, but ... --all didn't ...

> tlmgr: package repository utente at mbp:/opt/tlrepo (verified)
> [ 1/43, ??:??/??:??] update: aastex [724k] (39929 -> 47692) ... open(utente at mbp:/opt/tlrepo/archive/aastex.tar.xz) failed, not copying: No such file or directory at /opt/texlive/tlpkg/TeXLive/TLUtils.pm line 1111.

Ok, that is not good. I will investigate ASAP.

I didn't say that it will work, it might work ;-)

Thanks for testing

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From angelo.g0 at libero.it  Tue May 15 13:25:22 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 13:25:22 +0200 (CEST)
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <20180515105156.GA25972@burischnitzel.preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1253422525.722906.1526381133010@mail.libero.it>
 <20180515105156.GA25972@burischnitzel.preining.info>
Message-ID: <940996814.738990.1526383522490@mail.libero.it>


> Il 15 maggio 2018 alle 12.51 Norbert Preining ha scritto:
> 
> I didn't say that it will work, it might work ;-)
> 
> Thanks for testing

We are here...

From norbert at preining.info  Tue May 15 14:45:16 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 May 2018 21:45:16 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <940996814.738990.1526383522490@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1253422525.722906.1526381133010@mail.libero.it>
 <20180515105156.GA25972@burischnitzel.preining.info>
 <940996814.738990.1526383522490@mail.libero.it>
Message-ID: <20180515124516.GA17688@burischnitzel.preining.info>

Here is a new version, two files attached:
* ssh.diff
  patch against the default files
* ssh-addon.diff
  patch against against the stuff I already sent

If you can reuse the files you patched before, use the second one.

I could install via ssh here on my computer. And when working with
ssh-agent no passwords were necessary:

I just edited the tlpdb to reduce the revision number of two packages
and then did:
[~] tlmgr --repository norbert at localhost:public_html/tlnet update --all
tlmgr: package repository norbert at localhost:public_html/tlnet (verified)
tlmgr: saving backups to /home/norbert/tl/2018/tlpkg/backups
[1/2, ??:??/??:??] update: 12many [376k] (1587 -> 15878) ... done
[2/2, 00:02/00:02] update: 2up [66k] (4157 -> 41578) ... done
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
tlmgr: package log updated: /home/norbert/tl/2018/texmf-var/web2c/tlmgr.log
[~]

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ssh.diff
Type: text/x-diff
Size: 3264 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180515/637fc146/attachment-0002.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ssh-addon.diff
Type: text/x-diff
Size: 551 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180515/637fc146/attachment-0003.bin>

From angelo.g0 at libero.it  Tue May 15 15:29:19 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Tue, 15 May 2018 15:29:19 +0200 (CEST)
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
Message-ID: <1025306829.5770.1526390959936@mail.libero.it>


> Il 15 maggio 2018 alle 12.21 Norbert Preining ha scritto:
> 
> 
> Yes it asks for downloading the tlpdd, the checksum, and the signature of the checksum.
> 
> You need to set up gpg-agent, we will not cache passwords.

How? It seems that I have to install gpg-agent in WSL and then?

Regarding your last patches, they seem to work... notice my current installation of TL was corrupted by previous test and I need to recover fro a previous backup. For what I see, it asks the mbp password for each package to be updated...

Ciao,
Angelo.

From norbert at preining.info  Tue May 15 15:46:58 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 May 2018 22:46:58 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <1025306829.5770.1526390959936@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1025306829.5770.1526390959936@mail.libero.it>
Message-ID: <20180515134658.GA22976@burischnitzel.preining.info>

> > You need to set up gpg-agent, we will not cache passwords.
> 
> How? It seems that I have to install gpg-agent in WSL and then?

Sorry, I meant ssh agent of course.... I use the gpg agent as ssh agent
provider here, but for you probably ssh agent is the solution. I am
using peagant from the putty family for ssh connectivity to github on
intellj.
Quick google gave many hints, one is here
https://sachinsharm.wordpress.com/2015/05/04/pageant-ssh-agent-for-windows/

> Regarding your last patches, they seem to work... notice my current installation of TL was corrupted by previous test and I need to recover fro a previous backup. For what I see, it asks the mbp password for each package to be updated...

Of course, that is the way how ssh works, what did you expect? Every
file is copied via scp, thus every time a login session is started and
thus your password asked.

You need ssh agent ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Tue May 15 20:42:02 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 15 May 2018 20:42:02 +0200
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <20180515134658.GA22976@burischnitzel.preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1025306829.5770.1526390959936@mail.libero.it>
 <20180515134658.GA22976@burischnitzel.preining.info>
Message-ID: <CAC1phya_hJF0i1j+vMupXLFZrPVLSDN9ppnQkEe6BG+iPr90+A@mail.gmail.com>

2018-05-15 15:46 GMT+02:00 Norbert Preining <norbert at preining.info>:

> > > You need to set up gpg-agent, we will not cache passwords.
> >
> > How? It seems that I have to install gpg-agent in WSL and then?
>
> Sorry, I meant ssh agent of course.... I use the gpg agent as ssh agent
> provider here, but for you probably ssh agent is the solution. I am
> using peagant from the putty family for ssh connectivity to github on
> intellj.
> Quick google gave many hints, one is here
> https://sachinsharm.wordpress.com/2015/05/04/pageant-ssh-
> agent-for-windows/
>
> > Regarding your last patches, they seem to work... notice my current
> installation of TL was corrupted by previous test and I need to recover fro
> a previous backup. For what I see, it asks the mbp password for each
> package to be updated...
>
> Of course, that is the way how ssh works, what did you expect? Every
> file is copied via scp, thus every time a login session is started and
> thus your password asked.
>

Alternatively you can generate two keys (public and private) on your client
and put the public key to authorized_keys on the server. If your private
key has no password (if you believe in security of your computer), the keys
will be used in each connection and no password will be needed. On the
contrary, the agents ask the passwprd only once and cache it for some time.

>
> You need ssh agent ;-)
>
>
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180515/046d2735/attachment.html>

From mart at martlubbers.net  Wed May 16 09:10:19 2018
From: mart at martlubbers.net (Mart)
Date: Wed, 16 May 2018 09:10:19 +0200
Subject: [tex-live] tlmgr runtime error when giving an empty argument
Message-ID: <20180516071019.GB5852@ygdrassil>

When I run the following command in bash:

    $ tlmgr install ''

tlmgr throws runtime errors:

    tlmgr: package repository http://ctan.triasinformatica.nl/systems/texlive/tlnet (verified)
    Use of uninitialized value $pp in hash element at /opt/texlive/2018/tlpkg/TeXLive/TLPDB.pm line 943.
    Use of uninitialized value $pp in hash element at /opt/texlive/2018/tlpkg/TeXLive/TLPDB.pm line 943.
    Use of uninitialized value $pp in hash element at /opt/texlive/2018/bin/x86_64-linux/tlmgr line 3642.
    tlmgr install: package  not present in repository.
    tlmgr: action install returned an error; continuing.
    tlmgr: An error has occurred. See above messages. Exiting.

This can be solved with the attached patch to
/trunk/Master/tlpkg/TeXLive/TLPDB.pm. It checks whether a command line argument
is empty and if this is the case it will skip it.

This is probably not the place to send patches but I was unsure where they
should go.

Best,
Mart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: p0.patch
Type: text/x-diff
Size: 226 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/ff81dbb7/attachment.bin>

From lists at openlilylib.org  Wed May 16 16:15:05 2018
From: lists at openlilylib.org (Urs Liska)
Date: Wed, 16 May 2018 16:15:05 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
	packages?
Message-ID: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>

After updating the texlive-full package

    $ apt show texlive-full
    Package: texlive-full
    Version: 2018.20180505-1

today I get a strange error compiling a document:

    ! LaTeX Error: Unknown option `first-page-number' for package
    `lyluatex'.

This package option is present in the Git repository version of the 
package but not yet in CTAN/TeXLive, so I have to think that LaTeX finds 
the lyluatex package from TeXLive before the local one.


My local lyluatex is in

    ~/texmf/tex/latex/latex-git/lyluatex

where "latex-git" is a symlink (to where all my git repos are stored).
~/texmf/tex/latex also contains a hidden directory in order to allow 
kpsewhich to follow the links

Strangely

    $ kpsewhich lyluatex.sty
    /home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty

correctly points to my local installation.

This problem immediately started after the update was completed. Any 
idea what could be wrong here?

Thank you
Urs


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/7d2bbbc6/attachment.html>

From lists at openlilylib.org  Wed May 16 16:25:51 2018
From: lists at openlilylib.org (Urs Liska)
Date: Wed, 16 May 2018 16:25:51 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
References: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
Message-ID: <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>

Update:


Am 16.05.2018 um 16:15 schrieb Urs Liska:
>
> After updating the texlive-full package
>
>     $ apt show texlive-full
>     Package: texlive-full
>     Version: 2018.20180505-1
>
> today I get a strange error compiling a document:
>
>     ! LaTeX Error: Unknown option `first-page-number' for package
>     `lyluatex'.
>
> This package option is present in the Git repository version of the 
> package but not yet in CTAN/TeXLive, so I have to think that LaTeX 
> finds the lyluatex package from TeXLive before the local one.
>
>

I only now thought of testing with a MWE that doesn't use the offending 
new option, and this reveals:

    $ lualatex ly-version.tex
    This is LuaTeX, Version 1.07.0 (TeX Live 2018/Debian)
     ?restricted system commands enabled.
    (./ly-version.tex
    LaTeX2e <2018-04-01> patch level 4
    (using write cache:
    /home/uliska/.texlive2018/texmf-var/luatex-cache/generic)(u
    sing read cache: /var/lib/texmf/luatex-cache/generic
    /home/uliska/.texlive2018/
    texmf-var/luatex-cache/generic)
    luaotfload | main : initialization completed in 0.322 seconds
    Babel <3.20> and hyphenation patterns for 1 language(s) loaded.
    (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrartcl.cls
    Document Class: scrartcl 2018/03/30 v3.25 KOMA-Script document class
    (article)
    (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrkbase.sty
    (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrbase.sty
    (/usr/share/texlive/texmf-dist/tex/latex/graphics/keyval.sty)
    (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrlfile.sty)))
    (/usr/share/texlive/texmf-dist/tex/latex/koma-script/tocbasic.sty)
    (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrsize11pt.clo(load
    luc:
    /home/uliska/.texlive2018/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-re
    gular.luc))
    (/usr/share/texlive/texmf-dist/tex/latex/koma-script/typearea.sty))
     ?(/usr/share/texlive/texmf-dist/tex/luatex/lyluatex/lyluatex.sty
    ...

So this confirms that lualatex finds the package in /usr/share/texlive 
rather than that in ~/texmf. (While still kpsewhich finds the one 
installed in $TEXMFHOME).

Anything I have to update or can do to investigate?

Thanks
Urs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/8242881d/attachment.html>

From zdenek.wagner at gmail.com  Wed May 16 16:32:25 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 May 2018 16:32:25 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
	packages?
In-Reply-To: <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
References: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
 <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
Message-ID: <CAC1phyaeVRbX67xkPNwVfOHcQ3n_NNnVT=ew+4mxtRvCwbX=Uw@mail.gmail.com>

Package lyluatex was moved from generic latex directory to specific luaatex
directory and the engine specific directories are searched first try this
command:

kpsewhich lyluatex.sty -engine lualatex

Your local file should be /home/uliska/texmf/tex/lualatex/
latex-git/lyluatex/lyluatex.sty

It should then work.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-05-16 16:25 GMT+02:00 Urs Liska <lists at openlilylib.org>:

> Update:
>
> Am 16.05.2018 um 16:15 schrieb Urs Liska:
>
> After updating the texlive-full package
>
> $ apt show texlive-full
> Package: texlive-full
> Version: 2018.20180505-1
>
> today I get a strange error compiling a document:
>
> ! LaTeX Error: Unknown option `first-page-number' for package `lyluatex'.
>
> This package option is present in the Git repository version of the
> package but not yet in CTAN/TeXLive, so I have to think that LaTeX finds
> the lyluatex package from TeXLive before the local one.
>
>
>
> I only now thought of testing with a MWE that doesn't use the offending
> new option, and this reveals:
>
> $ lualatex ly-version.tex
> This is LuaTeX, Version 1.07.0 (TeX Live 2018/Debian)
>  restricted system commands enabled.
> (./ly-version.tex
> LaTeX2e <2018-04-01> patch level 4
> (using write cache: /home/uliska/.texlive2018/texmf-var/luatex-cache/
> generic)(u
> sing read cache: /var/lib/texmf/luatex-cache/generic
> /home/uliska/.texlive2018/
> texmf-var/luatex-cache/generic)
> luaotfload | main : initialization completed in 0.322 seconds
> Babel <3.20> and hyphenation patterns for 1 language(s) loaded.
> (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrartcl.cls
> Document Class: scrartcl 2018/03/30 v3.25 KOMA-Script document class
> (article)
> (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrkbase.sty
> (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrbase.sty
> (/usr/share/texlive/texmf-dist/tex/latex/graphics/keyval.sty)
> (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrlfile.sty)))
> (/usr/share/texlive/texmf-dist/tex/latex/koma-script/tocbasic.sty)
> (/usr/share/texlive/texmf-dist/tex/latex/koma-script/scrsize11pt.clo(load
> luc:
> /home/uliska/.texlive2018/texmf-var/luatex-cache/
> generic/fonts/otl/lmroman10-re
> gular.luc)) (/usr/share/texlive/texmf-dist/tex/latex/koma-script/
> typearea.sty))
>  (/usr/share/texlive/texmf-dist/tex/luatex/lyluatex/lyluatex.sty
> ...
>
> So this confirms that lualatex finds the package in /usr/share/texlive
> rather than that in ~/texmf. (While still kpsewhich finds the one installed
> in $TEXMFHOME).
>
> Anything I have to update or can do to investigate?
>
> Thanks
> Urs
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/218e9f40/attachment.html>

From preining at logic.at  Wed May 16 16:33:38 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 16 May 2018 23:33:38 +0900
Subject: [tex-live] Has anything changed in the order TL searches for
	packages?
In-Reply-To: <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
References: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
 <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
Message-ID: <CE209063-B31A-45C1-8569-2D35CBBD8DEF@logic.at>

That a problem with TDS. You are not putting lyluatex into the search path of luatex, but latex.

Follow the layout of the original lyluatex package, that is, put it into texmf/luatex/lyluatex

You can reproduce this behavior by using -engine luatex with kpsewhich.

Norbert


--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From lists at openlilylib.org  Wed May 16 16:42:14 2018
From: lists at openlilylib.org (Urs Liska)
Date: Wed, 16 May 2018 16:42:14 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <CE209063-B31A-45C1-8569-2D35CBBD8DEF@logic.at>
References: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
 <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
 <CE209063-B31A-45C1-8569-2D35CBBD8DEF@logic.at>
Message-ID: <82aaefde-b493-ada1-f35c-eb50cca2562a@openlilylib.org>

Hi Zdenek and Norbert,

thanks for the clarification. Unfortunately it doesn't help:

    $ kpsewhich lyluatex.sty -engine lualatex
    /home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty

    $ kpsewhich lyluatex.sty -engine luatex
    /home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty

both point to the "local" file.
Moving the local package to ~texmf/tex/luatex doesn't help either, i.e. 
still the texlive version is found.

I just checked with another custom package (that has not been published) 
to see whether ~/texmf is searched at all, and there's no issue with that.

So it seems that /usr/share/texlive is searched before ~/texmf, 
regardless of the engine.

Is there some configuration file that may have to be changed, that may 
have been overwritten by the update, or that is simply different between 
~/.texlive2017 and ~/.texlive2018?

Urs

Am 16.05.2018 um 16:33 schrieb Norbert Preining:
> That a problem with TDS. You are not putting lyluatex into the search path of luatex, but latex.
>
> Follow the layout of the original lyluatex package, that is, put it into texmf/luatex/lyluatex
>
> You can reproduce this behavior by using -engine luatex with kpsewhich.
>
> Norbert
>
>
> --
> PREINING Norbert http://www.preining.info
> Accelia Inc. + JAIST + TeX Live + Debian Developer
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/8f79951c/attachment-0001.html>

From zdenek.wagner at gmail.com  Wed May 16 16:42:03 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 May 2018 16:42:03 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
	packages?
In-Reply-To: <CE209063-B31A-45C1-8569-2D35CBBD8DEF@logic.at>
References: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
 <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
 <CE209063-B31A-45C1-8569-2D35CBBD8DEF@logic.at>
Message-ID: <CAC1phyb1Ng-oVPwUM8y6Q3wmoYhJZD3d8JxQdP7fnHrVM-AOnQ@mail.gmail.com>

That's what I wrote and waht Urs observed. On my computer before update:

$ kpsewhich lyluatex.sty
/usr/local/texlive/2018/texmf-dist/tex/latex/lyluatex/lyluatex.sty

And after update:

$ kpsewhich lyluatex.sty
/usr/local/texlive/2018/texmf-dist/tex/luatex/lyluatex/lyluatex.sty

So the location of the package has changed.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-05-16 16:33 GMT+02:00 Norbert Preining <preining at logic.at>:

> That a problem with TDS. You are not putting lyluatex into the search path
> of luatex, but latex.
>
> Follow the layout of the original lyluatex package, that is, put it into
> texmf/luatex/lyluatex
>
> You can reproduce this behavior by using -engine luatex with kpsewhich.
>
> Norbert
>
>
> --
> PREINING Norbert http://www.preining.info
> Accelia Inc. + JAIST + TeX Live + Debian Developer
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/6a545a29/attachment.html>

From mail at gerecke.me  Wed May 16 15:47:26 2018
From: mail at gerecke.me (Sebastian Gerecke)
Date: Wed, 16 May 2018 15:47:26 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS support
Message-ID: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>

Hi,

the macOS version of wget has no HTTPS support.

$ ./wget.x86_64-darwin --version
GNU Wget 1.19.1 built on darwin14.5.0.

-cares +digest -gpgme -https +ipv6 -iri +large-file -metalink -nls
-ntlm +opie -psl -ssl

This seems to be a bug. TexLive accepts HTTPS-enabled repositories
(TLPDB.pm checks for FTP, HTTP and HTTPS links) but then fails when trying
to download updates from them.

The Windows version doesn't have that problem.

Best regards,
Sebastian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/3a6e28f8/attachment.html>

From zdenek.wagner at gmail.com  Wed May 16 16:50:50 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 May 2018 16:50:50 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
	packages?
In-Reply-To: <82aaefde-b493-ada1-f35c-eb50cca2562a@openlilylib.org>
References: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
 <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
 <CE209063-B31A-45C1-8569-2D35CBBD8DEF@logic.at>
 <82aaefde-b493-ada1-f35c-eb50cca2562a@openlilylib.org>
Message-ID: <CAC1phybL_WQj+OiUhqES82=oSgAMfuOtZfgm-Z-ZWMMZW5rnng@mail.gmail.com>

It seems that you have TL from a Debian package, so I cannot be specific.
Anyway, after fresh update (using TL from TUG) I see that ~/texmf is
searched first. Specificaly my .../web2c/texmf.cnf says:

% List all the texmf trees. For an explanation of what they are, see the
% TeX Live manual.
%
% For texconfig to work properly, TEXMFCONFIG and TEXMFVAR should be named
% explicitly and before other trees.
%
% TEXMFLOCAL precedes TEXMFDIST because locally-installed versions
% should take precedence over distribution files -- although it is
% generally a source of confusion to have different versions of a
% package installed, whatever the trees, so try to avoid it.
%
% The odd-looking $TEXMFAUXTREES$TEXMF... construct is so that if no
auxtree is
% ever defined (the 99% common case), no extra elements will be added to
% the search paths. tlmgr takes care to end any value with a trailing comma.
TEXMF =
{$TEXMFAUXTREES$TEXMFCONFIG,$TEXMFVAR,$TEXMFHOME,!!$TEXMFLOCAL,!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFDIST}

Maybe you have some forgotten TeX specific environment variable or your
local texmf.cnf


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-05-16 16:42 GMT+02:00 Urs Liska <lists at openlilylib.org>:

> Hi Zdenek and Norbert,
>
> thanks for the clarification. Unfortunately it doesn't help:
>
> $ kpsewhich lyluatex.sty -engine lualatex
> /home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
>
> $ kpsewhich lyluatex.sty -engine luatex
> /home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
>
> both point to the "local" file.
> Moving the local package to ~texmf/tex/luatex doesn't help either, i.e.
> still the texlive version is found.
>
> I just checked with another custom package (that has not been published)
> to see whether ~/texmf is searched at all, and there's no issue with that.
>
> So it seems that /usr/share/texlive is searched before ~/texmf, regardless
> of the engine.
>
> Is there some configuration file that may have to be changed, that may
> have been overwritten by the update, or that is simply different between
> ~/.texlive2017 and ~/.texlive2018?
>
> Urs
>
>
> Am 16.05.2018 um 16:33 schrieb Norbert Preining:
>
> That a problem with TDS. You are not putting lyluatex into the search path of luatex, but latex.
>
> Follow the layout of the original lyluatex package, that is, put it into texmf/luatex/lyluatex
>
> You can reproduce this behavior by using -engine luatex with kpsewhich.
>
> Norbert
>
>
> --
> PREINING Norbert http://www.preining.info
> Accelia Inc. + JAIST + TeX Live + Debian Developer
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/e58472f1/attachment.html>

From zdenek.wagner at gmail.com  Wed May 16 17:05:06 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 May 2018 17:05:06 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
	support
In-Reply-To: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
Message-ID: <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>

Hi,

I have the following from MacPorts:

$ wget --version
GNU Wget 1.19.1 built on darwin15.6.0.

-cares +digest -gpgme +https +ipv6 -iri +large-file -metalink +nls
+ntlm +opie -psl +ssl/gnutls

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2018-05-16 15:47 GMT+02:00 Sebastian Gerecke <mail at gerecke.me>:
> Hi,
>
> the macOS version of wget has no HTTPS support.
>
> $ ./wget.x86_64-darwin --version
> GNU Wget 1.19.1 built on darwin14.5.0.
>
> -cares +digest -gpgme -https +ipv6 -iri +large-file -metalink -nls
> -ntlm +opie -psl -ssl
>
> This seems to be a bug. TexLive accepts HTTPS-enabled repositories (TLPDB.pm
> checks for FTP, HTTP and HTTPS links) but then fails when trying to download
> updates from them.
>
> The Windows version doesn't have that problem.
>
> Best regards,
> Sebastian
>


From lists at openlilylib.org  Wed May 16 17:16:39 2018
From: lists at openlilylib.org (Urs Liska)
Date: Wed, 16 May 2018 17:16:39 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <CAC1phybL_WQj+OiUhqES82=oSgAMfuOtZfgm-Z-ZWMMZW5rnng@mail.gmail.com>
References: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
 <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
 <CE209063-B31A-45C1-8569-2D35CBBD8DEF@logic.at>
 <82aaefde-b493-ada1-f35c-eb50cca2562a@openlilylib.org>
 <CAC1phybL_WQj+OiUhqES82=oSgAMfuOtZfgm-Z-ZWMMZW5rnng@mail.gmail.com>
Message-ID: <a73b88ef-5ef5-f7c9-2b22-9defe737ad20@openlilylib.org>

Hm,

I have

    /etc/texmf/web2c/texmf.cnf
    /usr/share/texlive/texmf-dist/web2c/texmf.cnf
    /usr/share/texmf/web2c/texmf.cnf

The first two only contain a reference to VARTEXFONTS, which is not what 
we're talking about.

The third one seems to be the same you quote.

    $env

doesn't return anything that seems to relate to TeX at all.

I had been at a loss right from the start, but it keeps getting stranger 
by the minute ...

Urs


Am 16.05.2018 um 16:50 schrieb Zdenek Wagner:
> It seems that you have TL from a Debian package, so I cannot be 
> specific. Anyway, after fresh update (using TL from TUG) I see that 
> ~/texmf is searched first. Specificaly my .../web2c/texmf.cnf says:
>
> % List all the texmf trees. For an explanation of what they are, see the
> % TeX Live manual.
> %
> % For texconfig to work properly, TEXMFCONFIG and TEXMFVAR should be named
> % explicitly and before other trees.
> %
> % TEXMFLOCAL precedes TEXMFDIST because locally-installed versions
> % should take precedence over distribution files -- although it is
> % generally a source of confusion to have different versions of a
> % package installed, whatever the trees, so try to avoid it.
> %
> % The odd-looking $TEXMFAUXTREES$TEXMF... construct is so that if no 
> auxtree is
> % ever defined (the 99% common case), no extra elements will be added to
> % the search paths. tlmgr takes care to end any value with a trailing 
> comma.
> TEXMF = 
> {$TEXMFAUXTREES$TEXMFCONFIG,$TEXMFVAR,$TEXMFHOME,!!$TEXMFLOCAL,!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFDIST}
>
> Maybe you have some forgotten TeX specific environment variable or 
> your local texmf.cnf
>
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
>
> 2018-05-16 16:42 GMT+02:00 Urs Liska <lists at openlilylib.org 
> <mailto:lists at openlilylib.org>>:
>
>     Hi Zdenek and Norbert,
>
>     thanks for the clarification. Unfortunately it doesn't help:
>
>         $ kpsewhich lyluatex.sty -engine lualatex
>         /home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
>
>         $ kpsewhich lyluatex.sty -engine luatex
>         /home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
>
>     both point to the "local" file.
>     Moving the local package to ~texmf/tex/luatex doesn't help either,
>     i.e. still the texlive version is found.
>
>     I just checked with another custom package (that has not been
>     published) to see whether ~/texmf is searched at all, and there's
>     no issue with that.
>
>     So it seems that /usr/share/texlive is searched before ~/texmf,
>     regardless of the engine.
>
>     Is there some configuration file that may have to be changed, that
>     may have been overwritten by the update, or that is simply
>     different between ~/.texlive2017 and ~/.texlive2018?
>
>     Urs
>
>
>     Am 16.05.2018 um 16:33 schrieb Norbert Preining:
>>     That a problem with TDS. You are not putting lyluatex into the search path of luatex, but latex.
>>
>>     Follow the layout of the original lyluatex package, that is, put it into texmf/luatex/lyluatex
>>
>>     You can reproduce this behavior by using -engine luatex with kpsewhich.
>>
>>     Norbert
>>
>>
>>     --
>>     PREINING Norberthttp://www.preining.info
>>     Accelia Inc. + JAIST + TeX Live + Debian Developer
>>     GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/16051aa7/attachment-0001.html>

From mail at gerecke.me  Wed May 16 17:19:14 2018
From: mail at gerecke.me (Sebastian Gerecke)
Date: Wed, 16 May 2018 17:19:14 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
	support
In-Reply-To: <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
Message-ID: <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>

As you said, that's the version from MacPorts. TexLive uses its own version
of wget. You'll find it under

/usr/local/texlive/2018/tlpkg/installer/wget/wget.x86_64-darwin

The problem is, that the bundled version does not support HTTPS. Therefore,
tlmgr update fails when using a repository using https.

As I said, I consider this to be a bug since the Windows version doesn't
have that problem.

Sebastian

2018-05-16 17:05 GMT+02:00 Zdenek Wagner <zdenek.wagner at gmail.com>:

> Hi,
>
> I have the following from MacPorts:
>
> $ wget --version
> GNU Wget 1.19.1 built on darwin15.6.0.
>
> -cares +digest -gpgme +https +ipv6 -iri +large-file -metalink +nls
> +ntlm +opie -psl +ssl/gnutls
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
>
>
> 2018-05-16 15:47 GMT+02:00 Sebastian Gerecke <mail at gerecke.me>:
> > Hi,
> >
> > the macOS version of wget has no HTTPS support.
> >
> > $ ./wget.x86_64-darwin --version
> > GNU Wget 1.19.1 built on darwin14.5.0.
> >
> > -cares +digest -gpgme -https +ipv6 -iri +large-file -metalink -nls
> > -ntlm +opie -psl -ssl
> >
> > This seems to be a bug. TexLive accepts HTTPS-enabled repositories
> (TLPDB.pm
> > checks for FTP, HTTP and HTTPS links) but then fails when trying to
> download
> > updates from them.
> >
> > The Windows version doesn't have that problem.
> >
> > Best regards,
> > Sebastian
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180516/737c6340/attachment.html>

From benoit.rivet at free.fr  Wed May 16 21:13:18 2018
From: benoit.rivet at free.fr (Benoit Rivet)
Date: Wed, 16 May 2018 21:13:18 +0200
Subject: [tex-live] Strange bug with l3kernel
Message-ID: <686DB3F9-310B-4264-88F3-7AD80A1B2259@free.fr>

I recently updated MacTex 2018 with Tex Live Utility and stumbled upon a strange bug. The following minimal example compiled with lualatex fails :

% !TEX TS-program = luaLaTeX
\documentclass{article}
\usepackage[utf8]{luainputenc}
\usepackage{fouriernc}
\usepackage{mdframed}

\begin{document}

\end{document}

Here are the relevant lines in the log :

> (/usr/local/texlive/2018/texmf-dist/tex/latex/l3kernel/expl3-code.tex
> ! Illegal parameter number in definition of \c__tl_i_ogonek_tl.
> <to be read again> 
> \crcr 
> l.26054   \__tl_tmp:w \c__tl_i_ogonek_tl  { 012F }
>                                                 
> ? 
> ! Illegal parameter number in definition of \c__tl_I_ogonek_tl.
> <to be read again> 
> \crcr 
> l.26055   \__tl_tmp:w \c__tl_I_ogonek_tl  { 012E }
>                                                 
> ? 

Everything compiles fine when reverting to the previous versions of l3experimental, l3kernel et l3package (46875, 46875, 46712 instead of the current 47705, 47718, 47705) or when removing one of the three packages used in the example or compiling with pdflatex.

So? I can?t figure out what is going on :-(

Anyway, many thanks for the TexLive team for delivering this wonderful piece of software :-)

-- 
Beno?t Rivet

From joseph.wright at morningstar2.co.uk  Wed May 16 21:44:11 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 16 May 2018 20:44:11 +0100
Subject: [tex-live] Strange bug with l3kernel
In-Reply-To: <686DB3F9-310B-4264-88F3-7AD80A1B2259@free.fr>
References: <686DB3F9-310B-4264-88F3-7AD80A1B2259@free.fr>
Message-ID: <8a8c5191-c9e3-4acb-ccaa-9abc1ad005d4@morningstar2.co.uk>

On 16/05/2018 20:13, Benoit Rivet wrote:
> I recently updated MacTex 2018 with Tex Live Utility and stumbled upon a strange bug. The following minimal example compiled with lualatex fails :
> 
> % !TEX TS-program = luaLaTeX
> \documentclass{article}
> \usepackage[utf8]{luainputenc}
> \usepackage{fouriernc}
> \usepackage{mdframed}
> 
> \begin{document}
> 
> \end{document}
> 
> Here are the relevant lines in the log :
> 
>> (/usr/local/texlive/2018/texmf-dist/tex/latex/l3kernel/expl3-code.tex
>> ! Illegal parameter number in definition of \c__tl_i_ogonek_tl.
>> <to be read again>
>> \crcr
>> l.26054   \__tl_tmp:w \c__tl_i_ogonek_tl  { 012F }
>>                                                  
>> ?
>> ! Illegal parameter number in definition of \c__tl_I_ogonek_tl.
>> <to be read again>
>> \crcr
>> l.26055   \__tl_tmp:w \c__tl_I_ogonek_tl  { 012E }
>>                                                  
>> ?
> 
> Everything compiles fine when reverting to the previous versions of l3experimental, l3kernel et l3package (46875, 46875, 46712 instead of the current 47705, 47718, 47705) or when removing one of the three packages used in the example or compiling with pdflatex.
> 
> So? I can?t figure out what is going on :-(

I can :)

The issue arises as "?" is made active (by luainputenc) and given a 
definition which is not happy inside an \edef. The recent change was on 
the basis that in LuaTeX/XeTeX all of the chars we need to set up 
internally are catcode 11/12. I'll adjust to harden up.

Joseph


From news3 at nililand.de  Wed May 16 21:48:41 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 16 May 2018 21:48:41 +0200
Subject: [tex-live] Strange bug with l3kernel
References: <686DB3F9-310B-4264-88F3-7AD80A1B2259@free.fr>
Message-ID: <sly2xdn84xjp.dlg@nililand.de>

Am Wed, 16 May 2018 21:13:18 +0200 schrieb Benoit Rivet:

> I recently updated MacTex 2018 with Tex Live Utility and stumbled upon a strange bug. 

> \documentclass{article}
> \usepackage[utf8]{luainputenc}

Regarding the bug Joseph already answered. But why are you still
using luainputenc? 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From joseph.wright at morningstar2.co.uk  Wed May 16 22:00:54 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 16 May 2018 21:00:54 +0100
Subject: [tex-live] Strange bug with l3kernel
In-Reply-To: <8a8c5191-c9e3-4acb-ccaa-9abc1ad005d4@morningstar2.co.uk>
References: <686DB3F9-310B-4264-88F3-7AD80A1B2259@free.fr>
 <8a8c5191-c9e3-4acb-ccaa-9abc1ad005d4@morningstar2.co.uk>
Message-ID: <f6cd9cfc-096f-1652-27e8-857c5c688b06@morningstar2.co.uk>

On 16/05/2018 20:44, Joseph Wright wrote:
> On 16/05/2018 20:13, Benoit Rivet wrote:
>> I recently updated MacTex 2018 with Tex Live Utility and stumbled upon 
>> a strange bug. The following minimal example compiled with lualatex 
>> fails :
>>
>> % !TEX TS-program = luaLaTeX
>> \documentclass{article}
>> \usepackage[utf8]{luainputenc}
>> \usepackage{fouriernc}
>> \usepackage{mdframed}
>>
>> \begin{document}
>>
>> \end{document}
>>
>> Here are the relevant lines in the log :
>>
>>> (/usr/local/texlive/2018/texmf-dist/tex/latex/l3kernel/expl3-code.tex
>>> ! Illegal parameter number in definition of \c__tl_i_ogonek_tl.
>>> <to be read again>
>>> \crcr
>>> l.26054?? \__tl_tmp:w \c__tl_i_ogonek_tl? { 012F }
>>> ?
>>> ! Illegal parameter number in definition of \c__tl_I_ogonek_tl.
>>> <to be read again>
>>> \crcr
>>> l.26055?? \__tl_tmp:w \c__tl_I_ogonek_tl? { 012E }
>>> ?
>>
>> Everything compiles fine when reverting to the previous versions of 
>> l3experimental, l3kernel et l3package (46875, 46875, 46712 instead of 
>> the current 47705, 47718, 47705) or when removing one of the three 
>> packages used in the example or compiling with pdflatex.
>>
>> So? I can?t figure out what is going on :-(
> 
> I can :)
> 
> The issue arises as "?" is made active (by luainputenc) and given a 
> definition which is not happy inside an \edef. The recent change was on 
> the basis that in LuaTeX/XeTeX all of the chars we need to set up 
> internally are catcode 11/12. I'll adjust to harden up.
> 
> Joseph
> 

Fixed in sources. As a workaround you can use

     \documentclass{article}
     \usepackage[utf8]{luainputenc}
     \usepackage{fouriernc}
     \usepackage{etoolbox}
     \robustify{?}
     \robustify{?}
     \usepackage{expl3}

pending an update (how urgent is this for you?).

Joseph

From angelo.g0 at libero.it  Wed May 16 23:03:43 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Wed, 16 May 2018 23:03:43 +0200 (CEST)
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <20180515134658.GA22976@burischnitzel.preining.info>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1025306829.5770.1526390959936@mail.libero.it>
 <20180515134658.GA22976@burischnitzel.preining.info>
Message-ID: <829860858.118065.1526504623243@mail.libero.it>


> Il 15 maggio 2018 alle 15.46 Norbert Preining ha scritto:
>  
> Sorry, I meant ssh agent of course.... I use the gpg agent as ssh agent
> provider here, but for you probably ssh agent is the solution. I am
> using peagant from the putty family for ssh connectivity to github on
> intellj.
> Quick google gave many hints, one is here
> https://sachinsharm.wordpress.com/2015/05/04/pageant-ssh-agent-for-windows/

I would prefer to limit things inside WSL whis has ssh-agent app, only it is not working or I was not able to setup it. Now I am asking to WSL people: https://github.com/Microsoft/WSL/issues/3206

In any case, thanks a lot for your work!

 Angelo

From karl at freefriends.org  Wed May 16 23:04:51 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 May 2018 21:04:51 GMT
Subject: [tex-live] Has anything changed in the order TL searches
	for	packages?
In-Reply-To: <c226dd25-7adb-fea8-fe50-c66ef734d9b8@openlilylib.org>
Message-ID: <201805162104.w4GL4paq007035@freefriends.org>

        ~/texmf/tex/latex/latex-git/lyluatex
    where "latex-git" is a symlink

First question: does ~/texmf/tex/latex/ have any real subdirectories?
If not, mkdir .junkdir there. -k


From lists at openlilylib.org  Wed May 16 23:20:22 2018
From: lists at openlilylib.org (Urs Liska)
Date: Wed, 16 May 2018 23:20:22 +0200
Subject: [tex-live] Has anything changed in the order TL searches
	for	packages?
In-Reply-To: <201805162104.w4GL4paq007035@freefriends.org>
References: <201805162104.w4GL4paq007035@freefriends.org>
Message-ID: <4E57388C-D273-46FF-B9AC-44B23433FADE@openlilylib.org>



Am 16. Mai 2018 23:04:51 MESZ schrieb Karl Berry <karl at freefriends.org>:
>        ~/texmf/tex/latex/latex-git/lyluatex
>    where "latex-git" is a symlink
>
>First question: does ~/texmf/tex/latex/ have any real subdirectories?

which is what I had stated in my initial post ...

Best
urs

>If not, mkdir .junkdir there. -k


From karl at freefriends.org  Thu May 17 00:30:19 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 May 2018 22:30:19 GMT
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
Message-ID: <201805162230.w4GMUJjb017728@freefriends.org>

    [fake dir already mentioned]

Right, sorry.

There is no intentional change in the path search list, and I doubt (but
don't know for a fact) that Debian made such a change either.

BTW, it does not reproduce for me with native TL.

    lualatex finds the package in /usr/share/texlive 
    rather than that in ~/texmf. (While still kpsewhich finds the one 
    installed in $TEXMFHOME).

    Anything I have to update or can do to investigate?

1) Since lualatex is involved, I'd start with mv ~/.texlive2018{,-prev}
and see if it does any better. E.g., I wonder if the move of the
lyluatex files in the update obsoleted its cache, but lualatex didn't
notice. (The behavior of the lua(la)tex caching is unknown to me.)

2) The output of kpsewhich -var-value TEXMF might be interesting to
ensure that $TEXMFHOME really does appear before $TEXMFDIST. I get:

{{}/u/karl/.texlive2018/texmf-config,/u/karl/.texlive2018/texmf-var,/u/karl/texmf,!!/usr/local/texlive/texmf-local,!!/usr/local/texlive/2018/texmf-config,!!/usr/local/texlive/2018/texmf-var,!!/usr/local/texlive/2018/texmf-dist}

(The empty braces at the beginning look weird but are ok.)

3) You can see exactly what is being searched with
  lualatex -kpathsea-debug=-1 lyluatex.sty </dev/null 2>/tmp/debug
The output will be lengthy but should be definitive. Feel free to send
it to me (gzipped) if need be. --best, karl.


From reinhard.kotucha at web.de  Thu May 17 00:55:21 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 17 May 2018 00:55:21 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing
	HTTPS	support
In-Reply-To: <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
Message-ID: <23292.46809.802004.373516@gargle.gargle.HOWL>

On 2018-05-16 at 17:19:14 +0200, Sebastian Gerecke wrote:

 > As you said, that's the version from MacPorts. TexLive uses its own
 > version of wget. You'll find it under
 > 
 > /usr/local/texlive/2018/tlpkg/installer/wget/wget.x86_64-darwin
 > 
 > The problem is, that the bundled version does not support
 > HTTPS. Therefore, tlmgr update fails when using a repository using
 > https.
 > 
 > As I said, I consider this to be a bug since the Windows version
 > doesn't have that problem.

The problem is that wget doesn't support SSL by itself.  If it's
compiled with +https it just expects external libraries and maybe
other resources to be installed.

Missing SSL support is annoying, of course.  But it doesn't make sense
to add stuff to TeX Live which is provided by the operating system
already.  Instead of spending a lot of time in order to provide nasty
workarounds, it's better to adapt the installer and tlmgr to use curl
on systems where wget is not available.  I suppose that curl is always
installed on OS X and *BSD while wget is ubiquitous on Linux.

For the time being I recommend to install a separate wget if SSL
support is required.  It certainly takes some time until TeX Live
supports curl but volunteers are always welcome.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From preining at logic.at  Thu May 17 01:18:26 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 17 May 2018 08:18:26 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <829860858.118065.1526504623243@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1025306829.5770.1526390959936@mail.libero.it>
 <20180515134658.GA22976@burischnitzel.preining.info>
 <829860858.118065.1526504623243@mail.libero.it>
Message-ID: <1ED8E2C2-CE8C-4838-8C72-30D02D81CDED@logic.at>

Have you created a key pair? Have you put the public key part into the authorized_krys on the termite several?

Please read up on ssh usage first.

Thanks

On May 17, 2018 6:03:43 AM GMT+09:00, Angelo Graziosi <angelo.g0 at libero.it> wrote:
>
>> Il 15 maggio 2018 alle 15.46 Norbert Preining ha scritto:
>>  
>> Sorry, I meant ssh agent of course.... I use the gpg agent as ssh
>agent
>> provider here, but for you probably ssh agent is the solution. I am
>> using peagant from the putty family for ssh connectivity to github on
>> intellj.
>> Quick google gave many hints, one is here
>>
>https://sachinsharm.wordpress.com/2015/05/04/pageant-ssh-agent-for-windows/
>
>I would prefer to limit things inside WSL whis has ssh-agent app, only
>it is not working or I was not able to setup it. Now I am asking to WSL
>people: https://github.com/Microsoft/WSL/issues/3206
>
>In any case, thanks a lot for your work!
>
> Angelo


--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From preining at logic.at  Thu May 17 01:41:44 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 17 May 2018 08:41:44 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <1ED8E2C2-CE8C-4838-8C72-30D02D81CDED@logic.at>
References: <636908374.634974.1522594138512@mail.libero.it>
 <20180401145943.GB4879@bulldog.preining.info>
 <1156667763.696123.1526340707710@mail.libero.it>
 <20180515031031.GA18107@burischnitzel.preining.info>
 <787095159.712298.1526377055440@mail.libero.it>
 <E60F9DC1-3905-4101-A5B1-AF4B852A31FC@preining.info>
 <1025306829.5770.1526390959936@mail.libero.it>
 <20180515134658.GA22976@burischnitzel.preining.info>
 <829860858.118065.1526504623243@mail.libero.it>
 <1ED8E2C2-CE8C-4838-8C72-30D02D81CDED@logic.at>
Message-ID: <20180516234144.GA10952@burischnitzel.preining.info>

> Have you created a key pair? Have you put the public key part into the authorized_krys on the termite several?

on the "remote server" ... stupid Android auto correction

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mail at gerecke.me  Thu May 17 01:51:59 2018
From: mail at gerecke.me (Sebastian Gerecke)
Date: Thu, 17 May 2018 01:51:59 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
	support
In-Reply-To: <23292.46809.802004.373516@gargle.gargle.HOWL>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
Message-ID: <7A78C072-9415-4EEF-B7A2-98A757B6A101@gerecke.me>


> Am 17.05.2018 um 00:55 schrieb Reinhard Kotucha <reinhard.kotucha at web.de>:
> 
> On 2018-05-16 at 17:19:14 +0200, Sebastian Gerecke wrote:
> 
>> As you said, that's the version from MacPorts. TexLive uses its own
>> version of wget. You'll find it under
>> 
>> /usr/local/texlive/2018/tlpkg/installer/wget/wget.x86_64-darwin
>> 
>> The problem is, that the bundled version does not support
>> HTTPS. Therefore, tlmgr update fails when using a repository using
>> https.
>> 
>> As I said, I consider this to be a bug since the Windows version
>> doesn't have that problem.
> 
> The problem is that wget doesn't support SSL by itself.  If it's
> compiled with +https it just expects external libraries and maybe
> other resources to be installed.
> 
> Missing SSL support is annoying, of course.  But it doesn't make sense
> to add stuff to TeX Live which is provided by the operating system
> already.  Instead of spending a lot of time in order to provide nasty
> workarounds, it's better to adapt the installer and tlmgr to use curl
> on systems where wget is not available.  I suppose that curl is always
> installed on OS X and *BSD while wget is ubiquitous on Linux.
> 
> For the time being I recommend to install a separate wget if SSL
> support is required.  It certainly takes some time until TeX Live
> supports curl but volunteers are always welcome.
> 
> Regards,
>  Reinhard


Thanks for your reply.

If it doesn?t make sense to support SSL in the bundled version of wget for
MacTeX, then why does the Windows version of TexLive come with a wget that does
support SSL? Using a HTTPS-enabled repository with Windows TexLive works like a
charm whilst MacTeX produces error messages when updating the packet list.
Shouldn't the behaviour of the two systems at least be consistent?

Steps to reproduce: (MacTeX 2018)

1) Use HTTPS-enabled repository $ tlmgr option repository
https://ftp.uni-erlangen.de/ctan/systems/texlive/tlnet

2) Update fails
$ tlmgr update --self
No connection to the internet.  Unable to
download the checksum of the remote TeX Live database, but found a local copy
so using that.  [?]

This is simply wrong, the system has an internet connection. So the user
doesn?t know whats actually wrong or how to fix the problem.


Additionally, (this might be a different bug) even though I have a version of
wget installed that supports HTTPS, it isn?t being used. tlmgr (specifically
TLUtils.pm) defaults to using the bundled version of wget as it has higher
precedence.

Regards,
Sebastian



From lists at openlilylib.org  Thu May 17 10:26:21 2018
From: lists at openlilylib.org (Urs Liska)
Date: Thu, 17 May 2018 10:26:21 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <201805162230.w4GMUJjb017728@freefriends.org>
References: <201805162230.w4GMUJjb017728@freefriends.org>
Message-ID: <f2a78317-d259-d8d6-26f2-3ae168c86aa6@openlilylib.org>



Am 17.05.2018 um 00:30 schrieb Karl Berry:
>      [fake dir already mentioned]
>
> Right, sorry.
>
> There is no intentional change in the path search list, and I doubt (but
> don't know for a fact) that Debian made such a change either.
>
> BTW, it does not reproduce for me with native TL.
>
>      lualatex finds the package in /usr/share/texlive
>      rather than that in ~/texmf. (While still kpsewhich finds the one
>      installed in $TEXMFHOME).
>
>      Anything I have to update or can do to investigate?
>
> 1) Since lualatex is involved, I'd start with mv ~/.texlive2018{,-prev}
> and see if it does any better. E.g., I wonder if the move of the
> lyluatex files in the update obsoleted its cache, but lualatex didn't
> notice. (The behavior of the lua(la)tex caching is unknown to me.)

When your post arrived I was just busy trying to remove *all* TeX from 
my system, since I suspected the issue might actually be caused by the 
fact that I have a home partition that has survived a number of 
installations over the years ...

After that I newly installed TeXLive from the downloaded installer.
Unfortunately still the same result.
I double-checked compiling documents with other custom packages that are 
accessed through that path, and they work, BTW, so the problem is 
clearly about the TeXLive version of the package being used first/instead.


>
> 2) The output of kpsewhich -var-value TEXMF might be interesting to
> ensure that $TEXMFHOME really does appear before $TEXMFDIST. I get:
>
> {{}/u/karl/.texlive2018/texmf-config,/u/karl/.texlive2018/texmf-var,/u/karl/texmf,!!/usr/local/texlive/texmf-local,!!/usr/local/texlive/2018/texmf-config,!!/usr/local/texlive/2018/texmf-var,!!/usr/local/texlive/2018/texmf-dist}
>
> (The empty braces at the beginning look weird but are ok.)

Well, my output looks similar and therefore correct too:

{{}/home/uliska/.texlive2018/texmf-config,/home/uliska/.texlive2018/texmf-var,/home/uliska/texmf,!!/usr/local/texlive/texmf-local,!!/usr/local/texlive/2018/texmf-config,!!/usr/local/texlive/2018/texmf-var,!!/usr/local/texlive/2018/texmf-dist}

>
> 3) You can see exactly what is being searched with
>    lualatex -kpathsea-debug=-1 lyluatex.sty </dev/null 2>/tmp/debug
> The output will be lengthy but should be definitive. Feel free to send
> it to me (gzipped) if need be. --best, karl.

I've done so.
When I search the result for lyluatex, the first occurences are those:

    kdebug:kpse_find_file: searching for lyluatex.sty of type tex (from
    texmf.cnf)
    kdebug:hash_lookup(try_std_extension_first.lualatex) => (nil)
    kdebug:hash_lookup(try_std_extension_first) => t
    kdebug:variable: try_std_extension_first = t
    kdebug:start generic search(files=[lyluatex.sty], must_exist=0,
    find_all=0,
    path=.:/home/uliska/.texlive2018/texmf-config/tex/lualatex//:/home/uliska/.texlive2018/texmf-var/tex/lualatex//:/home/uliska/texmf/tex/lualatex//:!!/usr/local/texlive/texmf-local/tex/lualatex//:!!/usr/local/texlive/2018/texmf-config/tex/lualatex//:!!/usr/local/texlive/2018/texmf-var/tex/lualatex//:!!/usr/local/texlive/2018/texmf-dist/tex/lualatex//:
    [etc.]


So it seems the *first* location is? ~/.texlive2018 but if I'm not 
completely mistaken there is nothing in there except a font cache:

    ~$ cd .texlive2018/
    uliska at elitebook-debian:~/.texlive2018$
    uliska at elitebook-debian:~/.texlive2018$ ls
    texmf-var
    uliska at elitebook-debian:~/.texlive2018$ ls -l
    insgesamt 4
    drwxr-xr-x 4 uliska uliska 4096 Mai 17 09:15 texmf-var
    uliska at elitebook-debian:~/.texlive2018$ ls -la
    insgesamt 12
    drwxr-xr-x? 3 uliska uliska 4096 Mai 17 08:39 .
    drwxr-xr-x 91 uliska uliska 4096 Mai 17 09:00 ..
    drwxr-xr-x? 4 uliska uliska 4096 Mai 17 09:15 texmf-var
    uliska at elitebook-debian:~/.texlive2018$ cd texmf-var/
    uliska at elitebook-debian:~/.texlive2018/texmf-var$ ls -la
    insgesamt 16
    drwxr-xr-x 4 uliska uliska 4096 Mai 17 09:15 .
    drwxr-xr-x 3 uliska uliska 4096 Mai 17 08:39 ..
    drwxr-xr-x 3 uliska uliska 4096 Mai 17 08:39 luatex-cache
    drwxr-xr-x 2 uliska uliska 4096 Mai 17 08:51 texdoc
    uliska at elitebook-debian:~/.texlive2018/texmf-var$ cd luatex-cache/
    uliska at elitebook-debian:~/.texlive2018/texmf-var/luatex-cache$ ls -la
    insgesamt 12
    drwxr-xr-x 3 uliska uliska 4096 Mai 17 08:39 .
    drwxr-xr-x 4 uliska uliska 4096 Mai 17 09:15 ..
    drwxr-xr-x 4 uliska uliska 4096 Mai 17 08:40 generic
    uliska at elitebook-debian:~/.texlive2018/texmf-var/luatex-cache$ cd
    generic/
    uliska at elitebook-debian:~/.texlive2018/texmf-var/luatex-cache/generic$
    ls -la
    insgesamt 16
    drwxr-xr-x 4 uliska uliska 4096 Mai 17 08:40 .
    drwxr-xr-x 3 uliska uliska 4096 Mai 17 08:39 ..
    drwxr-xr-x 3 uliska uliska 4096 Mai 17 08:40 fonts
    drwxr-xr-x 2 uliska uliska 4096 Mai 17 08:50 names


The next location is /home/uliska/texmf/tex/lualatex/, and I think 
*there* my 'local' package should have been found, since

    ~/texmf/tex/lualatex$ ls -la
    insgesamt 12
    drwxr-xr-x 3 uliska uliska 4096 Mai 16 16:36 .
    drwxr-xr-x 4 uliska uliska 4096 Mai 16 16:35 ..
    drwxr-xr-x 2 uliska uliska 4096 Mai 16 16:35 .dummy
    lrwxrwxrwx 1 uliska uliska?? 22 Mai 16 16:36 latex-git ->
    /home/uliska/git/latex

and lyluatex is a subdirectory of this 'latex-git'.

Looking for the exact location of the custom package file gives this:

    /tmp$ grep -n "latex-git/lyluatex/lyluatex.sty" debug-lyluatex
    1213:kdebug:hash_lookup(/home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty)
    => (nil)
    1214:kdebug:dir_links(/home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty)
    => -1
    1945:kdebug:returning from generic search([lyluatex.sty]) =>
    /home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty
    1949:kdebug:kpse_find_file: searching for
    /home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty of
    type tex (from texmf.cnf)
    1953:kdebug:start generic
    search(files=[/home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty],
    must_exist=0, find_all=0,
    path=.:/home/uliska/.texlive2018/texmf-config/tex/lualatex//:/home/uliska/.texlive2018/texmf-var/tex/lualatex//:/home/uliska/texmf/tex/lualatex//:!!/usr/local/texlive/texmf-local/tex/lualatex//:!!/usr/local/texlive/2018/texmf-config/tex/lualatex//:!!/usr/local/texlive/2018/texmf-var/tex/lualatex//:!!/usr/local/texlive/2018/texmf-dist/tex/lualatex//:/home/uliska/.texlive2018/texmf-config/tex/latex//:/home/uliska/.texlive2018/texmf-var/tex/latex//:/home/uliska/texmf/tex/latex//:!!/usr/local/texlive/texmf-local/tex/latex//:!!/usr/local/texlive/2018/texmf-config/tex/latex//:!!/usr/local/texlive/2018/texmf-var/tex/latex//:!!/usr/local/texlive/2018/texmf-dist/tex/latex//:/home/uliska/.texlive2018/texmf-config/tex/luatex//:/home/uliska/.texlive2018/texmf-var/tex/luatex//:/home/uliska/texmf/tex/luatex//:!!/usr/local/texlive/texmf-local/tex/luatex//:!!/usr/local/texlive/2018/texmf-config/tex/luatex//:!!/usr/local/texlive/2018/texmf-var/tex/luatex//:!!/usr/local/texlive/2018/texmf-dist/tex/luatex//:/home/uliska/.texlive2018/texmf-config/tex/generic//:/home/uliska/.texlive2018/texmf-var/tex/generic//:/home/uliska/texmf/tex/generic//:!!/usr/local/texlive/texmf-local/tex/generic//:!!/usr/local/texlive/2018/texmf-config/tex/generic//:!!/usr/local/texlive/2018/texmf-var/tex/generic//:!!/usr/local/texlive/2018/texmf-dist/tex/generic//:/home/uliska/.texlive2018/texmf-config/tex///:/home/uliska/.texlive2018/texmf-var/tex///:/home/uliska/texmf/tex///:!!/usr/local/texlive/texmf-local/tex///:!!/usr/local/texlive/2018/texmf-config/tex///:!!/usr/local/texlive/2018/texmf-var/tex///:!!/usr/local/texlive/2018/texmf-dist/tex///)
    1954:kdebug:
    absolute_search(/home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty)
    => /home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty
    1955:kdebug:returning from generic
    search([/home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty])
    => /home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty
    1956:kdebug:fopen(/home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty,
    rb) => 0x361c580
    4409:kdebug:hash_lookup(/home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty)
    => (nil)
    4410:kdebug:dir_links(/home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty)
    => -1
    6968:kdebug:hash_lookup(/home/uliska/texmf/tex/lualatex/latex-git/lyluatex/lyluatex.sty)
    => -1
    7768:kdebug:hash_lookup(/home/uliska/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty)
    => -1


while

    /tmp$ grep "/usr/*/lyluatex" debug-lyluatex

returns nothing.

I think all of this clearly shows that kpsewhich finds the package in 
the ~/texmf path.

On the other hand, if I compile a MWE that just loads lyluatex like this

    \documentclass{article}
    \usepackage{lyluatex}
    \begin{document}
    Test
    \end{document}

I get the output

    $ lualatex mwe-lyluatex.tex
    This is LuaTeX, Version 1.07.0 (TeX Live 2018)
     ?restricted system commands enabled.
    (./mwe-lyluatex.tex
    LaTeX2e <2018-04-01> patch level 4
    (using write cache:
    /home/uliska/.texlive2018/texmf-var/luatex-cache/generic)(u
    sing read cache:
    /usr/local/texlive/2018/texmf-var/luatex-cache/generic /home/u
    liska/.texlive2018/texmf-var/luatex-cache/generic)
    luaotfload | main : initialization completed in 0.528 seconds
    (/usr/local/texlive/2018/texmf-dist/tex/latex/base/article.cls
    Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
    (/usr/local/texlive/2018/texmf-dist/tex/latex/base/size10.clo(load
    luc: /home/u
    liska/.texlive2018/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-regular.l
    uc)))
    (/usr/local/texlive/2018/texmf-dist/tex/luatex/lyluatex/lyluatex.sty
    (/usr/local/texlive/2018/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
    ...

which clearly shows that lyluatex is loaded from /usr/local/texlive.

Is there anything more I can investigate? I've also attached the log 
file, as compressing reduced the size from >8M to 200K.

Any further pointers or ideas would be highly appreciated. I really 
don't want to be forced to remove the texlive-music collection just to 
be able to run my own packages from the local repositories.

Thanks
Urs


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180517/7da8077d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: debug-lyluatex.tar.xz
Type: application/x-xz
Size: 209980 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180517/7da8077d/attachment-0001.xz>

From preining at logic.at  Thu May 17 10:37:06 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 17 May 2018 17:37:06 +0900
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <201805162230.w4GMUJjb017728@freefriends.org>
References: <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
 <201805162230.w4GMUJjb017728@freefriends.org>
Message-ID: <20180517083706.GA2987@burischnitzel.preining.info>

Hi all,

first of all, this is NOT a problem with Debian, it happens the same way
in normal TeX Live

$ kpsewhich lyluatex.sty
/home/norbert/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
$ lualatex
This is LuaTeX, Version 1.07.0 (TeX Live 2018)
 restricted system commands enabled.
**\relax
LaTeX2e <2018-04-01> patch level 4
(using write cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic)(using read cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic /home/norbert/.texlive2018/texmf-var/luatex-cache/generic)
luaotfload | main : initialization completed in 0.135 seconds
*\documentclass{article}\relax
(/home/norbert/tl/2018/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/home/norbert/tl/2018/texmf-dist/tex/latex/base/size10.clo(load luc: /home/nor
bert/tl/2018/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-regular.luc)))
*\usepackage{lyluatex}\relax
(/home/norbert/tl/2018/texmf-dist/tex/luatex/lyluatex/lyluatex.sty
...


The reason is simple:
$ kpsewhich -progname=luatex -expand-braces='$TEXINPUTS' | sed -e 's/:/\n/g'
.
/home/norbert/.texlive2018/texmf-config/tex/luatex//
/home/norbert/.texlive2018/texmf-var/tex/luatex//
/home/norbert/texmf/tex/luatex//
!!/usr/local/share/texmf/tex/luatex//
!!/home/norbert/tl/2018/texmf-config/tex/luatex//
!!/home/norbert/tl/2018/texmf-var/tex/luatex//
!!/home/norbert/tl/2018/texmf-dist/tex/luatex//
/home/norbert/.texlive2018/texmf-config/tex/plain//
/home/norbert/.texlive2018/texmf-var/tex/plain//
/home/norbert/texmf/tex/plain//
!!/usr/local/share/texmf/tex/plain//
!!/home/norbert/tl/2018/texmf-config/tex/plain//
!!/home/norbert/tl/2018/texmf-var/tex/plain//
!!/home/norbert/tl/2018/texmf-dist/tex/plain//
/home/norbert/.texlive2018/texmf-config/tex/generic//
/home/norbert/.texlive2018/texmf-var/tex/generic//
/home/norbert/texmf/tex/generic//
!!/usr/local/share/texmf/tex/generic//
!!/home/norbert/tl/2018/texmf-config/tex/generic//
!!/home/norbert/tl/2018/texmf-var/tex/generic//
!!/home/norbert/tl/2018/texmf-dist/tex/generic//
/home/norbert/.texlive2018/texmf-config/tex///
/home/norbert/.texlive2018/texmf-var/tex///
/home/norbert/texmf/tex///
!!/usr/local/share/texmf/tex///
!!/home/norbert/tl/2018/texmf-config/tex///
!!/home/norbert/tl/2018/texmf-var/tex///
!!/home/norbert/tl/2018/texmf-dist/tex///


Which clearly shows that 
  !!/home/norbert/tl/2018/texmf-dist/tex/luatex//
comes *before*
  /home/norbert/texmf/tex//

Because the engine specific dirs are searched first through all the
trees, and then the more general one.


Moving the file from 
  ~/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
to
  texmf/tex/luatex/latex-git/lyluatex/lyluatex.sty
it immediatly works out of the box:

$ lualatex minimal.tex
This is LuaTeX, Version 1.07.0 (TeX Live 2018)
 restricted system commands enabled.
(./minimal.tex
LaTeX2e <2018-04-01> patch level 4
(using write cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic)(using
 read cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic /home/norbert
/.texlive2018/texmf-var/luatex-cache/generic)
luaotfload | main : initialization completed in 0.125 seconds
(/home/norbert/tl/2018/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/home/norbert/tl/2018/texmf-dist/tex/latex/base/size10.clo(load luc: /home/nor
bert/tl/2018/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-regular.luc)))
(/home/norbert/texmf/tex/luatex/latex-git/lyluatex/lyluatex.sty)
....


So the explanation is simply by reading texmf.cnf:
  TEXINPUTS.luatex        = .;$TEXMF/tex/{luatex,plain,generic,}//
  TEXMF = {$TEXMFAUXTREES$TEXMFCONFIG,$TEXMFVAR,$TEXMFHOME,!!$TEXMFLOCAL,$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFDIST}
And the expansion seems to first expand the
  {luatex,plain,generic,}
and then the
  TEXMF
part



This has always been like this, the only change was that lyluatex moved
to the luatex hierarchy, and thus is found before the one in $HOME.

Solution, follow the same TDS as the original package.


Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Thu May 17 10:38:14 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 17 May 2018 17:38:14 +0900
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
In-Reply-To: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
Message-ID: <20180517083814.GB2987@burischnitzel.preining.info>

> The Windows version doesn't have that problem.

I agree, the Mac version should support https, too.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Thu May 17 10:41:03 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 17 May 2018 17:41:03 +0900
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
In-Reply-To: <23292.46809.802004.373516@gargle.gargle.HOWL>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
Message-ID: <20180517084103.GC2987@burischnitzel.preining.info>

Reinhard, please ...

> The problem is that wget doesn't support SSL by itself.  If it's
> compiled with +https it just expects external libraries and maybe
> other resources to be installed.

Well, one can compile even with a static openssl library. It is a
question of preparation.

It would be nice if the wget binaries we ship would support https, that
is something I would like to see.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Thu May 17 10:46:29 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 17 May 2018 17:46:29 +0900
Subject: [tex-live] tlmgr runtime error when giving an empty argument
In-Reply-To: <20180516071019.GB5852@ygdrassil>
References: <20180516071019.GB5852@ygdrassil>
Message-ID: <20180517084629.GD2987@burischnitzel.preining.info>

>     $ tlmgr install ''

Thanks, fixed in the subversion repo. Will be in the next tlmgr
push-out.

Thanks for the message!

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From lists at openlilylib.org  Thu May 17 10:50:17 2018
From: lists at openlilylib.org (Urs Liska)
Date: Thu, 17 May 2018 10:50:17 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <20180517083706.GA2987@burischnitzel.preining.info>
References: <952c5f64-f5bc-c0e9-c5ed-15f0dc299353@openlilylib.org>
 <201805162230.w4GMUJjb017728@freefriends.org>
 <20180517083706.GA2987@burischnitzel.preining.info>
Message-ID: <7159d252-48b2-c72c-945d-8b9b2b512b44@openlilylib.org>

Hi Norbert,

thank you for pointing this out in more detail.

After your earlier post I had already tried to follow your solution - 
but with a mistake: I created an additional link in ~/texmf/tex/lualatex 
instead of ..luatex. Now that I changed this it finally works.

I have now created *two* symlinks to my latex-git directory, from both 
~texmf/tex/latex and ~texmf/tex/luatex, and I hope this won't create 
other conflicting situations down the road. For now it works, and I know 
I'll have to do a lot of work explaining this in the Contributors' Guide 
(where the project set-up is already somewhat "fragile", with numerous 
variable elements ...).

Best
Urs

Am 17.05.2018 um 10:37 schrieb Norbert Preining:
> Hi all,
>
> first of all, this is NOT a problem with Debian, it happens the same way
> in normal TeX Live
>
> $ kpsewhich lyluatex.sty
> /home/norbert/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
> $ lualatex
> This is LuaTeX, Version 1.07.0 (TeX Live 2018)
>   restricted system commands enabled.
> **\relax
> LaTeX2e <2018-04-01> patch level 4
> (using write cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic)(using read cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic /home/norbert/.texlive2018/texmf-var/luatex-cache/generic)
> luaotfload | main : initialization completed in 0.135 seconds
> *\documentclass{article}\relax
> (/home/norbert/tl/2018/texmf-dist/tex/latex/base/article.cls
> Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
> (/home/norbert/tl/2018/texmf-dist/tex/latex/base/size10.clo(load luc: /home/nor
> bert/tl/2018/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-regular.luc)))
> *\usepackage{lyluatex}\relax
> (/home/norbert/tl/2018/texmf-dist/tex/luatex/lyluatex/lyluatex.sty
> ...
>
>
> The reason is simple:
> $ kpsewhich -progname=luatex -expand-braces='$TEXINPUTS' | sed -e 's/:/\n/g'
> .
> /home/norbert/.texlive2018/texmf-config/tex/luatex//
> /home/norbert/.texlive2018/texmf-var/tex/luatex//
> /home/norbert/texmf/tex/luatex//
> !!/usr/local/share/texmf/tex/luatex//
> !!/home/norbert/tl/2018/texmf-config/tex/luatex//
> !!/home/norbert/tl/2018/texmf-var/tex/luatex//
> !!/home/norbert/tl/2018/texmf-dist/tex/luatex//
> /home/norbert/.texlive2018/texmf-config/tex/plain//
> /home/norbert/.texlive2018/texmf-var/tex/plain//
> /home/norbert/texmf/tex/plain//
> !!/usr/local/share/texmf/tex/plain//
> !!/home/norbert/tl/2018/texmf-config/tex/plain//
> !!/home/norbert/tl/2018/texmf-var/tex/plain//
> !!/home/norbert/tl/2018/texmf-dist/tex/plain//
> /home/norbert/.texlive2018/texmf-config/tex/generic//
> /home/norbert/.texlive2018/texmf-var/tex/generic//
> /home/norbert/texmf/tex/generic//
> !!/usr/local/share/texmf/tex/generic//
> !!/home/norbert/tl/2018/texmf-config/tex/generic//
> !!/home/norbert/tl/2018/texmf-var/tex/generic//
> !!/home/norbert/tl/2018/texmf-dist/tex/generic//
> /home/norbert/.texlive2018/texmf-config/tex///
> /home/norbert/.texlive2018/texmf-var/tex///
> /home/norbert/texmf/tex///
> !!/usr/local/share/texmf/tex///
> !!/home/norbert/tl/2018/texmf-config/tex///
> !!/home/norbert/tl/2018/texmf-var/tex///
> !!/home/norbert/tl/2018/texmf-dist/tex///
>
>
> Which clearly shows that
>    !!/home/norbert/tl/2018/texmf-dist/tex/luatex//
> comes *before*
>    /home/norbert/texmf/tex//
>
> Because the engine specific dirs are searched first through all the
> trees, and then the more general one.
>
>
> Moving the file from
>    ~/texmf/tex/latex/latex-git/lyluatex/lyluatex.sty
> to
>    texmf/tex/luatex/latex-git/lyluatex/lyluatex.sty
> it immediatly works out of the box:
>
> $ lualatex minimal.tex
> This is LuaTeX, Version 1.07.0 (TeX Live 2018)
>   restricted system commands enabled.
> (./minimal.tex
> LaTeX2e <2018-04-01> patch level 4
> (using write cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic)(using
>   read cache: /home/norbert/tl/2018/texmf-var/luatex-cache/generic /home/norbert
> /.texlive2018/texmf-var/luatex-cache/generic)
> luaotfload | main : initialization completed in 0.125 seconds
> (/home/norbert/tl/2018/texmf-dist/tex/latex/base/article.cls
> Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
> (/home/norbert/tl/2018/texmf-dist/tex/latex/base/size10.clo(load luc: /home/nor
> bert/tl/2018/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-regular.luc)))
> (/home/norbert/texmf/tex/luatex/latex-git/lyluatex/lyluatex.sty)
> ....
>
>
> So the explanation is simply by reading texmf.cnf:
>    TEXINPUTS.luatex        = .;$TEXMF/tex/{luatex,plain,generic,}//
>    TEXMF = {$TEXMFAUXTREES$TEXMFCONFIG,$TEXMFVAR,$TEXMFHOME,!!$TEXMFLOCAL,$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFDIST}
> And the expansion seems to first expand the
>    {luatex,plain,generic,}
> and then the
>    TEXMF
> part
>
>
>
> This has always been like this, the only change was that lyluatex moved
> to the luatex hierarchy, and thus is found before the one in $HOME.
>
> Solution, follow the same TDS as the original package.
>
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From lists at openlilylib.org  Thu May 17 11:09:43 2018
From: lists at openlilylib.org (Urs Liska)
Date: Thu, 17 May 2018 11:09:43 +0200
Subject: [tex-live] Has anything changed in the order TL searches for
 packages?
In-Reply-To: <f2a78317-d259-d8d6-26f2-3ae168c86aa6@openlilylib.org>
References: <201805162230.w4GMUJjb017728@freefriends.org>
 <f2a78317-d259-d8d6-26f2-3ae168c86aa6@openlilylib.org>
Message-ID: <a2cf2bb8-22d9-16c8-c5b5-e30ba61afb4d@openlilylib.org>

Hi Karl,

thank you again for your suggestion, which gave me some interesting 
insights. Following Norbert's advice obviously solved the problem, though.

Best
Urs


From amaxwell at mac.com  Thu May 17 16:11:14 2018
From: amaxwell at mac.com (Adam R. Maxwell)
Date: Thu, 17 May 2018 07:11:14 -0700
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
	support
In-Reply-To: <20180517083814.GB2987@burischnitzel.preining.info>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <20180517083814.GB2987@burischnitzel.preining.info>
Message-ID: <5900F47A-F80C-4A48-9927-25103641C2E3@mac.com>



> On May 17, 2018, at 01:38 , Norbert Preining <preining at logic.at> wrote:
> 
>> The Windows version doesn't have that problem.
> 
> I agree, the Mac version should support https, too.

Does the Perl-based download method support https? That
might explain why this hasn't been reported before.

-- 
adam



From mojca.miklavec.lists at gmail.com  Thu May 17 17:21:50 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 17 May 2018 17:21:50 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
	support
In-Reply-To: <20180517084103.GC2987@burischnitzel.preining.info>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
 <20180517084103.GC2987@burischnitzel.preining.info>
Message-ID: <CALBOmsYhcEq3+SwcXu2d65HAhNrf7tb7Ty6EBXyf4PytGHzPkg@mail.gmail.com>

On 17 May 2018 at 10:41, Norbert Preining wrote:
> Reinhard, please ...
>
>> The problem is that wget doesn't support SSL by itself.  If it's
>> compiled with +https it just expects external libraries and maybe
>> other resources to be installed.
>
> Well, one can compile even with a static openssl library. It is a
> question of preparation.

See a lengthy discussion on MacPorts bug tracker (mostly about why
many people opted not to do this):
    https://trac.macports.org/ticket/51516

> It would be nice if the wget binaries we ship would support https, that
> is something I would like to see.

At least for the mac (and probably many *BSD) users it would probably
be really nice if curl was supported out of the box. Then we would get
the same benefits as linux users who get the system wget without the
additional maintenance burden.

Mojca

From richardmoncriefkoch at icloud.com  Thu May 17 18:30:28 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Thu, 17 May 2018 09:30:28 -0700
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
	support
Message-ID: <5631479C-1879-4D5A-9066-478A9E68BBE2@icloud.com>

Folks,

I agree with Mojca.

I looked into this very briefly. macOS contains openSSL, but Apple removed the headers in El Capitan and man pages no longer exist. I don't want to willy-nilly add a second static openSSL without knowing why they "deprecated" their own copy, but cannot find information on the web.

I did find a stackoverflow article on compiling wget with openssl support. This article ends with the statement "You may find wget cannot verify any https connection because there is no CA certs for the OpenSSL you built." The article then explains a solution, which involves creating /usr/local/ssl/cert.pem and making a symbolic link 

	ln -s /etc/ssl/crt.pem /usr/local/ssl/cert.pem. 

This is exactly the sort of thing we got rid of several years ago. MacTeX used to install libraries in /usr/local/lib. Now (except for Ghostscript) we avoid touching anything in /usr/local except /usr/local/texlive so TeX is isolated and cannot interfere in any way with the rest of the system. The wonderful design of TeX Live makes this possible! 

Dick Koch

	




From pauloney at gmail.com  Thu May 17 21:15:20 2018
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Thu, 17 May 2018 16:15:20 -0300
Subject: [tex-live] tlmgr bug
Message-ID: <CAFVhNZN2dbziW_PK3eTjzeApEmi+qTCkPuu5EB9iYKzZzNhZZA@mail.gmail.com>

If you have the texmf-var/ls-R not writable by the user that installed TeX
-- because several reason, one of them having run the command "sudo
texhash"  which is recommended in a thousand places and required for some
font installations... then a "tlmgr --update all" will die with:

Transcript written on mllatex.log.
fmtutil [INFO]: /usr/local/texlive/2018/texmf-var/web2c/pdftex/mllatex.fmt
installed.
TeX::LSR: ls-R file not writable, skipping:
/usr/local/texlive/2018/texmf-var/ls-R
Cannot write ls-R in /usr/local/texlive/2018/texmf-var. at
/usr/local/texlive/2018/texmf-dist/scripts/texlive/mktexlsr.pl line 583.

tlmgr: package log updated:
/usr/local/texlive/2018/texmf-var/web2c/tlmgr.log
tlmgr: An error has occurred. See above messages. Exiting.

Correcting the permissions and running tlmgr again produces:

tlmgr update --all
tlmgr: package repository http://linorg.usp.br/CTAN/systems/texlive/tlnet
(verified)
tlmgr: saving backups to /usr/local/texlive/2018/tlpkg/backups
tlmgr: no updates available

and it never goes back to the rest of the updates.

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180517/25f1804a/attachment.html>

From karl at freefriends.org  Thu May 17 22:38:14 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 May 2018 20:38:14 GMT
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing
	HTTPS	support
In-Reply-To: <5631479C-1879-4D5A-9066-478A9E68BBE2@icloud.com>
Message-ID: <201805172038.w4HKcE9x008369@freefriends.org>

Passing --no-check-certificate to wget avoids the requirement for local
certificates. (Or check_certificate=off in .wgetrc, irrelevant to us.)

We should probably adjust our invocation of wget to include this;
unfortunately it is a relatively recent addition, so it would have to be
tested for. Anyway ...

    want to willy-nilly add a second static openSSL

A statically linked openssl in our wget binary should present no issues.

    without knowing why they "deprecated" their own copy, but cannot
    find information on the web.

https://stackoverflow.com/questions/7406946/why-is-apple-deprecating-openssl-in-macos-10-7-lion

karl

From preining at logic.at  Fri May 18 06:22:11 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 18 May 2018 13:22:11 +0900
Subject: [tex-live] tlmgr bug
In-Reply-To: <CAFVhNZN2dbziW_PK3eTjzeApEmi+qTCkPuu5EB9iYKzZzNhZZA@mail.gmail.com>
References: <CAFVhNZN2dbziW_PK3eTjzeApEmi+qTCkPuu5EB9iYKzZzNhZZA@mail.gmail.com>
Message-ID: <20180518042211.GA30826@bulldog.preining.info>

Hi Paulo,

> TeX::LSR: ls-R file not writable, skipping:
> /usr/local/texlive/2018/texmf-var/ls-R
> Cannot write ls-R in /usr/local/texlive/2018/texmf-var. at
> /usr/local/texlive/2018/texmf-dist/scripts/texlive/mktexlsr.pl line 583.

Ok, not surprising.

> Correcting the permissions and running tlmgr again produces:
> 
> tlmgr update --all
> tlmgr: package repository http://linorg.usp.br/CTAN/systems/texlive/tlnet
> (verified)
> tlmgr: saving backups to /usr/local/texlive/2018/tlpkg/backups
> tlmgr: no updates available
> 
> and it never goes back to the rest of the updates.

Because all package updates have been installed. The mktexlsr only
failed. Just run mktexlsr manually.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri May 18 06:22:56 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 18 May 2018 13:22:56 +0900
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
In-Reply-To: <5900F47A-F80C-4A48-9927-25103641C2E3@mac.com>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <20180517083814.GB2987@burischnitzel.preining.info>
 <5900F47A-F80C-4A48-9927-25103641C2E3@mac.com>
Message-ID: <20180518042256.GB30826@bulldog.preining.info>

Hi Adam,

> Does the Perl-based download method support https? That

Yes, since quite some time the installer and tlmgr both accept https,
too.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri May 18 06:24:08 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 18 May 2018 13:24:08 +0900
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
In-Reply-To: <CALBOmsYhcEq3+SwcXu2d65HAhNrf7tb7Ty6EBXyf4PytGHzPkg@mail.gmail.com>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
 <20180517084103.GC2987@burischnitzel.preining.info>
 <CALBOmsYhcEq3+SwcXu2d65HAhNrf7tb7Ty6EBXyf4PytGHzPkg@mail.gmail.com>
Message-ID: <20180518042408.GC30826@bulldog.preining.info>

> At least for the mac (and probably many *BSD) users it would probably
> be really nice if curl was supported out of the box. Then we would get
> the same benefits as linux users who get the system wget without the
> additional maintenance burden.

Why? Is curl pre-installed on all macs? And does it support https out of
the box?

I can look into it, but never got around the invocation concoction of
curl ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mojca.miklavec.lists at gmail.com  Fri May 18 07:03:59 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 18 May 2018 07:03:59 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
	support
In-Reply-To: <20180518042408.GC30826@bulldog.preining.info>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
 <20180517084103.GC2987@burischnitzel.preining.info>
 <CALBOmsYhcEq3+SwcXu2d65HAhNrf7tb7Ty6EBXyf4PytGHzPkg@mail.gmail.com>
 <20180518042408.GC30826@bulldog.preining.info>
Message-ID: <CALBOmsacN2yq+1aEqvzWmaLBR3=Lh1zrHgbCf1w7FhQDL9HZqQ@mail.gmail.com>

On 18 May 2018 at 06:24, Norbert Preining wrote:
>> At least for the mac (and probably many *BSD) users it would probably
>> be really nice if curl was supported out of the box. Then we would get
>> the same benefits as linux users who get the system wget without the
>> additional maintenance burden.
>
> Why? Is curl pre-installed on all macs? And does it support https out of
> the box?

Yes and yes, except on super old macs (which still ship curl, but do
not speak new standards).
New security standards (I forgot which version of what exactly)
require 10.8, released in 2012.

Note that MacTeX only supports 10.10 (10.12 since TL 2019) and legacy
binaries only support 10.7 out-of-the-box, so the only "deprived"
machine would be 10.7 from 2011.
I was recently playing with 10.5 (ppc) and there you are not even able
to browse normally because the default browser would not let you
access any page served over https. 10.7 does open some, but only if
they still allow the older TLS (or whatever that is) and most sites
switched that off (a lot of them in the last year, including GitHub,
SourceForge etc.).

So yes, using curl on mac should allow getting rid of wget altogether.

> I can look into it, but never got around the invocation concoction of
> curl ;-)

Same here :)

I know curl is always there, but wget is what I always install first
just because the curl's syntax is so weird.

Mojca

From richardmoncriefkoch at icloud.com  Fri May 18 07:28:37 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Thu, 17 May 2018 22:28:37 -0700
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
Message-ID: <E9F471C9-F46E-4EE2-99F4-4B97100971FA@icloud.com>

Norbert,

It would certainly help the Mac folks if you could use curl when wget is not available. Then we could avoid compiling wget and what is better, avoid compiling openSSL. As Mojca remarked, curl is available on all recent Macs and supports https.

Dick Koch

From benoit.rivet at free.fr  Fri May 18 08:50:22 2018
From: benoit.rivet at free.fr (benoit.rivet at free.fr)
Date: Fri, 18 May 2018 08:50:22 +0200 (CEST)
Subject: [tex-live] Strange bug with l3kernel
In-Reply-To: <73773797-D020-43EF-A64B-282F8AB1F529@gmail.com>
Message-ID: <680347863.70776447.1526626222249.JavaMail.root@spooler1-g27.priv.proxad.net>

Le 16 mai 2018 ? 22:00, Joseph Wright <joseph.wright at morningstar2.co.uk> a ?crit :

> Fixed in sources. As a workaround you can use
> 
> \documentclass{article}
> \usepackage[utf8]{luainputenc}
> \usepackage{fouriernc}
> \usepackage{etoolbox}
> \robustify{?}
> \robustify{?}
> \usepackage{expl3}
> 
> pending an update (how urgent is this for you?).

I am in no hurry for an update, since everything works fine for me using the previous versions of l3experimental, l3kernel et l3package (46875, 46875, 46712).

To answer Ulrike as to why I still use luainputenc : I remember having documents using utf8 who did not compile properly without using luainputenc a couple of months ago. This prevented me from getting rid of the package. I tried compiling a typical document of mine without using luainputenc, and it works fine so I guess it?s time for me to stop using luainputenc.

Anyway, thank you for investigating this bug and for fixing it in later releases :-)

-- 
Beno?t Rivet


From d.p.carlisle at gmail.com  Fri May 18 10:09:13 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 18 May 2018 09:09:13 +0100
Subject: [tex-live] Strange bug with l3kernel
In-Reply-To: <680347863.70776447.1526626222249.JavaMail.root@spooler1-g27.priv.proxad.net>
References: <73773797-D020-43EF-A64B-282F8AB1F529@gmail.com>
 <680347863.70776447.1526626222249.JavaMail.root@spooler1-g27.priv.proxad.net>
Message-ID: <CAEW6iOgf5A-nUOnYr4AeEY0uUfEATabxeoAAF5zO+bVdTiC_Yw@mail.gmail.com>

On 18 May 2018 at 07:50,  <benoit.rivet at free.fr> wrote:

> To answer Ulrike as to why I still use luainputenc : I remember having documents using utf8 who did not compile properly without using luainputenc a couple of months ago. This prevented me from getting rid of the package. I tried compiling a typical document of mine without using luainputenc, and it works fine so I guess it?s time for me to stop using luainputenc.
>

luainputenc is useful for some tricky documents that are hard to
convert from pdftex to luatex but it disables almost all the Unicode
support in luatex (making it emulate the 8-bit pdftex), so it is
certainly not a good idea to routinely include it.

David


From zdenek.wagner at gmail.com  Fri May 18 10:44:21 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 18 May 2018 10:44:21 +0200
Subject: [tex-live] tlmgr bug
In-Reply-To: <20180518042211.GA30826@bulldog.preining.info>
References: <CAFVhNZN2dbziW_PK3eTjzeApEmi+qTCkPuu5EB9iYKzZzNhZZA@mail.gmail.com>
 <20180518042211.GA30826@bulldog.preining.info>
Message-ID: <CAC1phyaW8NwKCnK96orL6DUwDiogiV7rC48J5hRU3wa6eGvzbw@mail.gmail.com>

2018-05-18 6:22 GMT+02:00 Norbert Preining <preining at logic.at>:
> Hi Paulo,
>
>> TeX::LSR: ls-R file not writable, skipping:
>> /usr/local/texlive/2018/texmf-var/ls-R
>> Cannot write ls-R in /usr/local/texlive/2018/texmf-var. at
>> /usr/local/texlive/2018/texmf-dist/scripts/texlive/mktexlsr.pl line 583.
>
> Ok, not surprising.
>
>> Correcting the permissions and running tlmgr again produces:
>>
>> tlmgr update --all
>> tlmgr: package repository http://linorg.usp.br/CTAN/systems/texlive/tlnet
>> (verified)
>> tlmgr: saving backups to /usr/local/texlive/2018/tlpkg/backups
>> tlmgr: no updates available
>>
>> and it never goes back to the rest of the updates.
>
> Because all package updates have been installed. The mktexlsr only
> failed. Just run mktexlsr manually.
>
If I remember it well, after some updates it is necessary to rebuild
the formats and/or update the font maps which is done automatically.
If update failed during mktexlsr, these actions will be missing too.
Is it a possibility to find whether updmap-sys and fmtutil-sys should
be run after such failure?

> Norbert
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From giaconet.mailbox at gmail.com  Fri May 18 11:25:48 2018
From: giaconet.mailbox at gmail.com (Roberto Giacomelli)
Date: Fri, 18 May 2018 11:25:48 +0200
Subject: [tex-live] A different formatting behaviour between luatex and
	luatex53
Message-ID: <CAFdU3ut2mtCrVH8_FinCcHrvJrA186+dpKwb5ff=BZrbYfSk1g@mail.gmail.com>

Hi all,
I was experimenting a tool for "internal" templating in LuaTeX using
TeX Live 2018. While the code successfully executed in luatex as expected,
this didn't in luatex53.
It's very simple to write the minimal (not) working example in the form
of the Lua file:
```
-- filename: test.lua
print(_VERSION)
local x = 1.23 -- a float
print(string.format("%d", x))
```

The output should be the string "1" but what happens in the terminal is...
```
$ luatex --luaonly test.lua
Lua 5.2
1
1
> Exit code: 0
```
and then
```
$ luatex53 --luaonly test.lua
Lua 5.3
test.lua:3: bad argument #2 to 'format' (number has no integer
representation)
>Exit code: 1
```

This is a consequence of the recent Lua developments, you know, but...

Thank you for your attention!

-- 
Roberto Giacomelli
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180518/d8c6bd69/attachment.html>

From preining at logic.at  Fri May 18 11:44:46 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 18 May 2018 18:44:46 +0900
Subject: [tex-live] tlmgr bug
In-Reply-To: <CAC1phyaW8NwKCnK96orL6DUwDiogiV7rC48J5hRU3wa6eGvzbw@mail.gmail.com>
References: <CAFVhNZN2dbziW_PK3eTjzeApEmi+qTCkPuu5EB9iYKzZzNhZZA@mail.gmail.com>
 <20180518042211.GA30826@bulldog.preining.info>
 <CAC1phyaW8NwKCnK96orL6DUwDiogiV7rC48J5hRU3wa6eGvzbw@mail.gmail.com>
Message-ID: <20180518094446.GB25274@bulldog.preining.info>

On Fri, 18 May 2018, Zdenek Wagner wrote:
> If I remember it well, after some updates it is necessary to rebuild
> the formats and/or update the font maps which is done automatically.

The original report showed that this already happened ;-) It is only the
fmtutil call that uses a perl mktexlsr version to speed up things.

If something happens, a simple
  fmtutil-sys --all
  updmap-sys --all
should do the triick, right?

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri May 18 15:54:32 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 18 May 2018 22:54:32 +0900
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
In-Reply-To: <CALBOmsacN2yq+1aEqvzWmaLBR3=Lh1zrHgbCf1w7FhQDL9HZqQ@mail.gmail.com>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
 <20180517084103.GC2987@burischnitzel.preining.info>
 <CALBOmsYhcEq3+SwcXu2d65HAhNrf7tb7Ty6EBXyf4PytGHzPkg@mail.gmail.com>
 <20180518042408.GC30826@bulldog.preining.info>
 <CALBOmsacN2yq+1aEqvzWmaLBR3=Lh1zrHgbCf1w7FhQDL9HZqQ@mail.gmail.com>
Message-ID: <20180518135432.GA28179@bulldog.preining.info>

HI all,

> So yes, using curl on mac should allow getting rid of wget altogether.

First of all, don't you Macies don't have a proper perl with LWP module
available? That would mean persistent and thus much faster connections?
wget is only a fallback...

Anyway, I would be grateful if some Mac people could try this:
  export TL_DOWNLOAD_PROGRAM=curl
  export TL_DOWNLOAD_ARGS="-s -o"
and then run, just to make sure that LWP is not used
  tlmgr --no-persistent-downloads ....

That should use curl, and should according to you work with https, too.

(Here on Linux it did work)

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri May 18 15:57:59 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 18 May 2018 22:57:59 +0900
Subject: [tex-live] tlmgr bug
In-Reply-To: <CAFVhNZMNKP=PGbCAm9OTEX9noV4jSfo3HK_DpBzShRsXDeEV5A@mail.gmail.com>
References: <CAFVhNZN2dbziW_PK3eTjzeApEmi+qTCkPuu5EB9iYKzZzNhZZA@mail.gmail.com>
 <20180518042211.GA30826@bulldog.preining.info>
 <CAC1phyaW8NwKCnK96orL6DUwDiogiV7rC48J5hRU3wa6eGvzbw@mail.gmail.com>
 <20180518094446.GB25274@bulldog.preining.info>
 <CAFVhNZMNKP=PGbCAm9OTEX9noV4jSfo3HK_DpBzShRsXDeEV5A@mail.gmail.com>
Message-ID: <20180518135759.GB28179@bulldog.preining.info>

Hi Paulo,

re-including the mailing list

> My point is that this is "unfriendly" behaviours on part of tlmgr. It could
> do two things right away:
> 
>      to check the permissions and inform the user at the start

Umpf, the same could happen with *any* file installed in TL (4+ Gb) and
that would mean we should check each and every file and directory for
correct permissions ... sorry, no. And actually I don't know *any*
program that does this.

>       to offer to sudo at that particular point

Definitely not. I don't consider this the job of TeX Live.
Even with aptitude here on Debian I don't like it when it asks me for
root password. It is my job to become root to do this kind of stuff.

> butchered by these font-installation-scripts and SX postings telling people
> to "sudo texhax"...and that always implies that tlmgr will break down the

Yes, unfortunately. But people have to learn.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From richardmoncriefkoch at icloud.com  Fri May 18 16:16:41 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Fri, 18 May 2018 07:16:41 -0700
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
Message-ID: <37AE2B3B-B8B9-461B-A216-139BF142B51C@icloud.com>

Norbert,

I did execute the two exports, and run

	tlmgr --no-persistent-downloads update --all

and it updated my distribution with the latest items for today. Many thanks!  Unfortunately, I'll be out of town the rest of the weekend, but back Monday if additional experiments are needed.

Dick Koch

From listas at tex-tipografia.com  Fri May 18 18:01:33 2018
From: listas at tex-tipografia.com (Javier Bezos)
Date: Fri, 18 May 2018 18:01:33 +0200
Subject: [tex-live] Strange bug with l3kernel
In-Reply-To: <sly2xdn84xjp.dlg@nililand.de>
References: <686DB3F9-310B-4264-88F3-7AD80A1B2259@free.fr>
 <sly2xdn84xjp.dlg@nililand.de>
Message-ID: <5AFEF8DD.9070502@tex-tipografia.com>

Ulrike,

 > Regarding the bug Joseph already answered. But why are you still
 > using luainputenc?

I'm using luainputenc. Many legacy files run smoothly
with it, with minimal changes. Converting them to "correct"
lua/xe is not always so easy.

Javier


From reinhard.kotucha at web.de  Fri May 18 21:11:49 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 18 May 2018 21:11:49 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
In-Reply-To: <20180518135432.GA28179@bulldog.preining.info>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
 <20180517084103.GC2987@burischnitzel.preining.info>
 <CALBOmsYhcEq3+SwcXu2d65HAhNrf7tb7Ty6EBXyf4PytGHzPkg@mail.gmail.com>
 <20180518042408.GC30826@bulldog.preining.info>
 <CALBOmsacN2yq+1aEqvzWmaLBR3=Lh1zrHgbCf1w7FhQDL9HZqQ@mail.gmail.com>
 <20180518135432.GA28179@bulldog.preining.info>
Message-ID: <23295.9589.464643.448625@gargle.gargle.HOWL>

On 2018-05-18 at 22:54:32 +0900, Norbert Preining wrote:

 > Anyway, I would be grateful if some Mac people could try this:
 >   export TL_DOWNLOAD_PROGRAM=curl
 >   export TL_DOWNLOAD_ARGS="-s -o"
 > and then run, just to make sure that LWP is not used
 >   tlmgr --no-persistent-downloads ....
 > 
 > That should use curl, and should according to you work with https,
 > too.

Users of BSD systems should try too.  AFAIK BSD sytems use curl by
default instead of wget.

Regards,
  Reinhard
  
-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From zdenek.wagner at gmail.com  Fri May 18 22:00:46 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 18 May 2018 22:00:46 +0200
Subject: [tex-live] tlmgr bug
In-Reply-To: <20180518135759.GB28179@bulldog.preining.info>
References: <CAFVhNZN2dbziW_PK3eTjzeApEmi+qTCkPuu5EB9iYKzZzNhZZA@mail.gmail.com>
 <20180518042211.GA30826@bulldog.preining.info>
 <CAC1phyaW8NwKCnK96orL6DUwDiogiV7rC48J5hRU3wa6eGvzbw@mail.gmail.com>
 <20180518094446.GB25274@bulldog.preining.info>
 <CAFVhNZMNKP=PGbCAm9OTEX9noV4jSfo3HK_DpBzShRsXDeEV5A@mail.gmail.com>
 <20180518135759.GB28179@bulldog.preining.info>
Message-ID: <CAC1phybHqzkKjXVrmurDEZtkF9JfN+7B=KJ6KtOygOFDSra6dA@mail.gmail.com>

2018-05-18 15:57 GMT+02:00 Norbert Preining <preining at logic.at>:
> Hi Paulo,
>
> re-including the mailing list
>
>> My point is that this is "unfriendly" behaviours on part of tlmgr. It could
>> do two things right away:
>>
>>      to check the permissions and inform the user at the start
>
> Umpf, the same could happen with *any* file installed in TL (4+ Gb) and
> that would mean we should check each and every file and directory for
> correct permissions ... sorry, no. And actually I don't know *any*
> program that does this.
>
>>       to offer to sudo at that particular point
>
TeX Live recommends _not_ to be installed and maintained by root,
so you should either follow the recommendation or feel consequences.

> Definitely not. I don't consider this the job of TeX Live.
> Even with aptitude here on Debian I don't like it when it asks me for
> root password. It is my job to become root to do this kind of stuff.
>
>> butchered by these font-installation-scripts and SX postings telling people
>> to "sudo texhax"...and that always implies that tlmgr will break down the
>
> Yes, unfortunately. But people have to learn.
>
> Norbert
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From jhielscher at posteo.de  Sat May 19 12:44:49 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sat, 19 May 2018 12:44:49 +0200
Subject: [tex-live] MacTex Bug: wget.x86_64-darwin is missing HTTPS
 support
In-Reply-To: <23295.9589.464643.448625@gargle.gargle.HOWL>
References: <CALZc8fbdFsSvVSx1xM88QpCTbbJwr_X_F6i5TipUane5jjY_SQ@mail.gmail.com>
 <CAC1phyYPDerJHYtcLcrZ-PX4uQXGxiraUue4KNKiTqtu7_RQ3g@mail.gmail.com>
 <CALZc8faWd9g1eNiH5BGqD4god6xzAf-_GHPxCTqq-d91Vvfwvw@mail.gmail.com>
 <23292.46809.802004.373516@gargle.gargle.HOWL>
 <20180517084103.GC2987@burischnitzel.preining.info>
 <CALBOmsYhcEq3+SwcXu2d65HAhNrf7tb7Ty6EBXyf4PytGHzPkg@mail.gmail.com>
 <20180518042408.GC30826@bulldog.preining.info>
 <CALBOmsacN2yq+1aEqvzWmaLBR3=Lh1zrHgbCf1w7FhQDL9HZqQ@mail.gmail.com>
 <20180518135432.GA28179@bulldog.preining.info>
 <23295.9589.464643.448625@gargle.gargle.HOWL>
Message-ID: <20180519124449.0af09515@posteo.de>

Am Fri, 18 May 2018 21:11:49 +0200
schrieb Reinhard Kotucha <reinhard.kotucha at web.de>:

> On 2018-05-18 at 22:54:32 +0900, Norbert Preining wrote:
> 
>  > Anyway, I would be grateful if some Mac people could try this:
>  >   export TL_DOWNLOAD_PROGRAM=curl
>  >   export TL_DOWNLOAD_ARGS="-s -o"
>  > and then run, just to make sure that LWP is not used
>  >   tlmgr --no-persistent-downloads ....
>  > 
>  > That should use curl, and should according to you work with https,
>  > too.  
> 
> Users of BSD systems should try too.  AFAIK BSD sytems use curl by
> default instead of wget.

FreeBSD 11.1 here (amd64-freebsd), curl is currently running with https
mirror under the hood of
  tlmgr --no-persistent-downloads update --all
and works with no visible difference to other platforms (namely,
wget/x86_64-linux).

Note that curl is not guaranteed to be present on instances of
{Free,Net,Open,Dragonfly}BSD! Under workstation-like conditions,
chances are good that it got pulled as a dependency, but it is treated
as third-party software (ports), and as a such not present in pure
systems.

In fact there are default http clients (fetch(1), ftp(1), ?), but all
with their own habits to be respected.

Best,
Johannes

> 
> Regards,
>   Reinhard
>   



From py9mrg at icloud.com  Sun May 20 19:09:29 2018
From: py9mrg at icloud.com (Martyn Gadsdon)
Date: Sun, 20 May 2018 17:09:29 +0000 (GMT)
Subject: [tex-live] Windows Installer Bug
Message-ID: <0012a9a6-fc63-4d80-b500-3e2215cf514c@me.com>

Hello All,

There appears to be a bug in the Windows installer. The install fails and the error says to unpack then run the installation .bat file for more info. When you do that you learn that something called lz4.exe is not found (in my case in \install-tl-20180520\tlpkg\installer\lz4). Looking in the relevant place, there is no lz4 folder so it appears to have been accidentally omitted from the installer.

Workaround is to get a version of lz4 from github, extract the zip file, copy the folder containing lz4.exe into the tlpkg\installer location mentioned above, then rename the folder to just lz4 to remove version specific stuff. Re-running the installation bat file then works fine.

Cheers,

Martyn.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180520/155ac7a0/attachment.html>

From py9mrg at icloud.com  Sun May 20 20:36:25 2018
From: py9mrg at icloud.com (Martyn Gadsdon)
Date: Sun, 20 May 2018 18:36:25 +0000 (GMT)
Subject: [tex-live] Windows Installer Bug
In-Reply-To: <0012a9a6-fc63-4d80-b500-3e2215cf514c@me.com>
Message-ID: <b63674c7-c65d-40e4-ab65-68a6ee0b710a@me.com>

Now it's telling me that texmf.cnf is missing from folder \install-tl-20180520\texmf-dist\web2c - starting to think I'm doing something wrong.

On May 20, 2018, at 06:09 PM, Martyn Gadsdon <py9mrg at icloud.com> wrote:

Hello All,

There appears to be a bug in the Windows installer. The install fails and the error says to unpack then run the installation .bat file for more info. When you do that you learn that something called lz4.exe is not found (in my case in \install-tl-20180520\tlpkg\installer\lz4). Looking in the relevant place, there is no lz4 folder so it appears to have been accidentally omitted from the installer.

Workaround is to get a version of lz4 from github, extract the zip file, copy the folder containing lz4.exe into the tlpkg\installer location mentioned above, then rename the folder to just lz4 to remove version specific stuff. Re-running the installation bat file then works fine.

Cheers,

Martyn.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180520/4d1670c5/attachment.html>

From preining at logic.at  Mon May 21 00:15:07 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 21 May 2018 07:15:07 +0900
Subject: [tex-live] Windows Installer Bug
In-Reply-To: <CAG5iGsATwTBZ9g3m5pcLgLz6auHDKqvL=PaJEDfK2khi27AweA@mail.gmail.com>
 <0012a9a6-fc63-4d80-b500-3e2215cf514c@me.com>
Message-ID: <20180520221507.GA28049@burischnitzel.preining.info>

Hi

> lz4.exe is not found

Sorry, that was a leftover I forgot to remove. There will be more
upcoming breakages in the installer I guess and in tlcritical, I am
reworking the whole downloader (lwp, wget, curl) and compressor (xz,
lz4, gzip) setup stuff.

Thanks for the report

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From lester at ingber.com  Tue May 22 19:19:57 2018
From: lester at ingber.com (Lester Ingber)
Date: Tue, 22 May 2018 10:19:57 -0700
Subject: [tex-live] BAD signature from "TeX Live Distribution
	<tex-live@tug.org>"
Message-ID: <CAP9tFS3Z0-UU-TORAX-DqXcJTL-uwzwuf=WmWs3v6XJppPsysw@mail.gmail.com>

Hi.  I got this message this morning:

tlmgr.pl: setting default package repository to
http://mirror.ctan.org/systems/texlive/tlnet
C:\texlive\2018\texmf-dist\scripts\texlive\tlmgr.pl: signature verification
error of C:\cygwin64\tmp\cQjF2MZ8TY\ttxahckhbc from
http://ctan.scidock.com/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb:
cryptographic signature verification of
  C:\cygwin64\tmp\cQjF2MZ8TY\kgceULZ1EU
against

http://ctan.scidock.com/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was
gpg: Signature made Mon May  7 17:24:13 2018 PDT using RSA key ID 19438C70
gpg: BAD signature from "TeX Live Distribution <tex-live at tug.org>"

Please report to texlive at tug.org


Lester

Prof. Lester Ingber <lester at ingber.com> <ingber at alumni.caltech.edu>
https://www.ingber.com https://alumni.caltech.edu/~ingber
https://linkedin.com/in/ingber https://google.com/+LesterIngber
https://facebook.com/lester.ingber https://twitter.com/ingber
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180522/d2156416/attachment.html>

From bernhardw at me.com  Tue May 22 20:26:15 2018
From: bernhardw at me.com (Bernhard Waldbrunner)
Date: Tue, 22 May 2018 20:26:15 +0200
Subject: [tex-live] tlmgr
Message-ID: <4246F98A-6D63-4DE1-9C01-2B890D8D6FA1@me.com>

Hi,

I got these messages in the log:

2018-05-22 18:22:35 +0000 Notice -[TLMOperation main][3985]	/Library/TeX/texbin/tlmgr: Initialization failed (in setup_unix_one):
/Library/TeX/texbin/tlmgr: could not find a usable wget.
/Library/TeX/texbin/tlmgr: Please install wget and try again.
tlmgr: Couldn't set up the necessary programs.
Installation of packages is not supported.
Please report to texlive at tug.org.

2018-05-22 18:22:38 +0000 Notice -[TLMLoadDatabaseOperation _dumpDatabaseAtURL:asPropertyList:][3985]	Dump error: tlmgr: Couldn't set up the necessary programs.
Installation of packages is not supported.
Please report to texlive at tug.org.
tlmgr: Continuing anyway ...
Use of uninitialized value $r in split at /usr/local/texlive/2018basic/tlpkg/TeXLive/TLUtils.pm line 4167.
tlmgr: Cannot find main repository, you have to tag one as main!

Kind regards,

--
Bernhard Waldbrunner

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180522/e2f41b29/attachment.html>

From preining at logic.at  Wed May 23 08:09:04 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 23 May 2018 15:09:04 +0900
Subject: [tex-live] BAD signature from "TeX Live Distribution
 <tex-live@tug.org>"
In-Reply-To: <CAP9tFS3Z0-UU-TORAX-DqXcJTL-uwzwuf=WmWs3v6XJppPsysw@mail.gmail.com>
References: <CAP9tFS3Z0-UU-TORAX-DqXcJTL-uwzwuf=WmWs3v6XJppPsysw@mail.gmail.com>
Message-ID: <20180523060904.GB21257@burischnitzel.preining.info>

Hi,

> http://ctan.scidock.com/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb:

Actually, all of that mirror is broken, looking at the listing
  http://ctan.scidock.com/tex-archive/systems/texlive/tlnet/
I get the correct list of files, but requesting *any* file it gives
  
  Error 502 Ray ID: 41f5578237c19523 ? 2018-05-23 06:07:22 UTC
  Bad gateway

Seems like CloudFlare is fine, but ctan.scidock.com dead.

Please use a different mirror, thanks

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From denis.bitouze at univ-littoral.fr  Wed May 23 13:57:19 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 23 May 2018 13:57:19 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <20180509132926.GB13654@bulldog.preining.info> (Norbert
 Preining's message of "Wed, 9 May 2018 22:29:26 +0900")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
Message-ID: <87vabe37q8.fsf@example.com>

Hi Norbert,

Le 09/05/18 ? 22h29, Norbert Preining a ?crit :

> But there are also several bugs in the binaries, most particular lost
> ligature mappings in pdfs, so that text is not found anymore. And
> crashes with certain png types.
>
> We are preparing updates to the binaries just now, i386-linux and
> x86_64-linux I updated today, win32 was updated by Akira already,
> other binaries will hopefully follow. 

Maybe I missed something but I didn't noticed any binary
update. Currently, on my x86_64-linux box:

  ?????
  ? $ pdftex
  ? This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded format=pdftex)
  ?????

Is it the fixed one?
-- 
Denis


From preining at logic.at  Wed May 23 15:03:39 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 23 May 2018 22:03:39 +0900
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
 release or updated?
In-Reply-To: <87vabe37q8.fsf@example.com>
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabe37q8.fsf@example.com>
Message-ID: <20180523130339.GA15783@burischnitzel.preining.info>

> Maybe I missed something but I didn't noticed any binary
> update. Currently, on my x86_64-linux box:

What does
  tlmgr info pdftex.x86_64-linux
say?

If it says
  revision:    47140
then you have an updated binary.

>   ? This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded format=pdftex)

THere is not change in the version string.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From denis.bitouze at univ-littoral.fr  Wed May 23 18:24:57 2018
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 23 May 2018 18:24:57 +0200
Subject: [tex-live] Deployment of TL 2018 (on multiple computers):
	release or updated?
In-Reply-To: <20180523130339.GA15783@burischnitzel.preining.info> (Norbert
 Preining's message of "Wed, 23 May 2018 22:03:39 +0900")
References: <87r2mlp81h.fsf@example.com>
 <20180509132926.GB13654@bulldog.preining.info>
 <87vabe37q8.fsf@example.com>
 <20180523130339.GA15783@burischnitzel.preining.info>
Message-ID: <87in7e2vc6.fsf@example.com>

Le 23/05/18 ? 22h03, Norbert Preining a ?crit :

>> Maybe I missed something but I didn't noticed any binary
>> update. Currently, on my x86_64-linux box:
>
> What does
>   tlmgr info pdftex.x86_64-linux
> say?
>
> If it says
>   revision:    47140
> then you have an updated binary.

Nice! I have the updated one.

Thanks!
-- 
Denis


From sirtomax at freemail.hu  Wed May 23 19:19:16 2018
From: sirtomax at freemail.hu (Sir Tomax)
Date: Wed, 23 May 2018 19:19:16 +0200 (CEST)
Subject: [tex-live] Windows installer message: 'xz.exe is not recognized'
Message-ID: <Awi4ng.zggSDUVhz2Dw.v1BpAy5ZBToQPRtFCABV@freemail.hu>

Hello All,

Today I tried install TeX Live 2018 on Windows 8.1. I did the next steps:

1. Downloading and extracting install-tl.zip
2. Running install-tl-windows.bat

I got the following message:

...
Installing to: C:/texlive/2018
Installing [0001/3600, time/total: ??:??/??:??]: 12many [376k]
'c:\install-tl-20180523\tlpkg\installer\xz\xz.exe' is not recognized as an internal or external command, operable program or batch file.
...
C:/texlive/2018/texmf-dist/web2c/texmf.cnf not found: No such file or directory at C:\install-tl-20180523\install-tl line 1223.

I think it is a Windows installer bug! Now, there is only one way to install TL2018 on Windows, using texlive2018.iso.

Cheers,

Tomax
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180523/715190cf/attachment.html>

From glgray at me.com  Wed May 23 21:37:53 2018
From: glgray at me.com (Gary L. Gray)
Date: Wed, 23 May 2018 15:37:53 -0400
Subject: [tex-live] Windows installer still failing
Message-ID: <427FD723-678C-4058-9951-DB874198A4D5@me.com>

I downloaded install-tl-windows.exe this morning (after a fixed version was posted yesterday) and ran it it to install TeX Live in a virtual machine running Windows 10 on my Mac. The install looked to be going fine, but failed near, what I think was the end. Here are the last few lines of the install log:

Installing [3603/3603, time/total: 46:03/46:03]: zxjatype [142k]
'C:\Users\gray\AppData\Local\Temp\nsnC5D3.tmp\install-tl-20180523\tlpkg\installer\xz\xz.exe' is not recognized as an internal or external command,
operable program or batch file.
'C:\Users\gray\AppData\Local\Temp\nsnC5D3.tmp\install-tl-20180523\tlpkg\installer\xz\xz.exe' is not recognized as an internal or external command,
operable program or batch file.
Time used for installing the packages: 46:04
C:/texlive/2018/texmf-dist/web2c/texmf.cnf not found: No such file or directory at C:\Users\gray\AppData\Local\Temp\nsnC5D3.tmp\install-tl-20180523\install-tl line 1223.
Press any key to continue . . . 
Completed

The line:

'C:\Users\gray\AppData\Local\Temp\nsnC5D3.tmp\install-tl-20180523\tlpkg\installer\xz\xz.exe' is not recognized as an internal or external command,

appears after every one of the 3603 items is installed. If helpful, the entire log file can be found here:

https://psu.box.com/s/icrctdcl5gpjfvbunmrpp4nt0zsvoza9

Anyone know how to fix this?

Thank you!

-- Gary L. Gray

From glgray at me.com  Thu May 24 04:03:44 2018
From: glgray at me.com (Gary L. Gray)
Date: Wed, 23 May 2018 22:03:44 -0400
Subject: [tex-live] Windows installer message: 'xz.exe is not recognized'
In-Reply-To: <Awi4ng.zggSDUVhz2Dw.v1BpAy5ZBToQPRtFCABV@freemail.hu>
References: <Awi4ng.zggSDUVhz2Dw.v1BpAy5ZBToQPRtFCABV@freemail.hu>
Message-ID: <3B043FDF-0D33-4C10-9B6E-05871164F399@me.com>

> On May 23, 2018, at 1:19 PM, Sir Tomax <sirtomax at freemail.hu> wrote:
> 
> I think it is a Windows installer bug! Now, there is only one way to install TL2018 on Windows, using texlive2018.iso.

Good tip! I was able to download the .iso file and install from there.

-- Gary L. Gray

From preining at logic.at  Thu May 24 04:05:56 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 24 May 2018 11:05:56 +0900
Subject: [tex-live] Windows installer message: 'xz.exe is not recognized'
In-Reply-To: <427FD723-678C-4058-9951-DB874198A4D5@me.com>
 <Awi4ng.zggSDUVhz2Dw.v1BpAy5ZBToQPRtFCABV@freemail.hu>
Message-ID: <20180524020556.GA17546@bulldog.preining.info>

> 'c:\install-tl-20180523\tlpkg\installer\xz\xz.exe' is not recognized as an internal or external command, operable program or batch file.

Should be fixed today.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From psychonaut at nothingisreal.com  Thu May 24 14:12:33 2018
From: psychonaut at nothingisreal.com (Tristan Miller)
Date: Thu, 24 May 2018 14:12:33 +0200
Subject: [tex-live] "after installation, get package updates from CTAN"
Message-ID: <20180524141233.4e52a19f.psychonaut@nothingisreal.com>

Greetings.

This may have already been discussed here before, but I wanted to
report that I find the wording of the "package updates" option in
the (Unix) DVD installer to be misleading.

The current wording in the user interface is "after install, use tlnet
on CTAN for package updates", and the current wording in the online
documentation at
<http://tug.org/texlive/doc/texlive-en/texlive-en.html#x1-270003.2.4>
is "after installation, get package updates from CTAN". Apart from the
fact that the two wordings differ, they are both confusing because they
can be read as meaning that the installer will immediately fetch and
apply CTAN updates once the DVD installation is complete. The first
time I completed a DVD installation, I saw that online updates weren't
immediately applied, and had to consult the documentation in more
detail to find out why.

Said documentation does go on to explain that the actual purpose
of this option is simply to set CTAN as the source of all subsequent
package updates.  Could the wording of the option in the installation
interface not be reformulated to better (i.e., more unambiguously)
reflect this? Maybe it could be changed to one of the following?

* set CTAN as the source for package updates

* set CTAN as the source for subsequent package updates

* after installation, set CTAN as the source for package updates

Even if the wording in the UI is not changed, the documentation should
at least be updated to reflect it.

Regards,
Tristan

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
                  Tristan Miller
Free Software developer, ferret herder, logologist
             https://logological.org/
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180524/33a62772/attachment.sig>

From hwansing at mailbox.org  Thu May 24 11:04:00 2018
From: hwansing at mailbox.org (Holger Wansing)
Date: Thu, 24 May 2018 11:04:00 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
	migration
Message-ID: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>

[I am not subscribed to this list.]


Hi,

I am trying to get rid of xmlroff in the build chain for Debian refcard
(https://www.debian.org/doc/user-manuals#refcard)
but I am apparently overstrained with this.

xmlroff is used for Hebrew and Arabic (and additionally Malayalam, but that
translation is badly outdated, so it's probably not worse to spent time on it).

To simplify the dependencies and the build chain itself, we would like to
move Hebrew and Arabic to dblatex, as it is already with the rest of the
languages.

However, I am unable to get correct PDFs built so far.

There are two main points:
1. which fonts to use? (I was told to use Amiri font for Arabic, but I have
   no advise so far for Hebrew; I read something about Dejavu font, but could
   not get the PDF built with it.)

2. configuration examples


A browsable URL for the sources is here:
https://salsa.debian.org/ddp-team/refcard

I have filed a bugreport against debian-refcard, to track this:
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=824222

And I received patches/snippets for this migration, which I have collected
here:
https://bugs.debian.org/cgi-bin/bugreport.cgi?att=1;bug=824222;filename=switch-to-dblatex.diff;msg=5



Maybe someone can help me with this?


Holger



-- 
Holger Wansing <hwansing at mailbox.org>
PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076

From karl at freefriends.org  Fri May 25 00:09:48 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 24 May 2018 22:09:48 GMT
Subject: [tex-live] "after installation, get package updates from CTAN"
In-Reply-To: <20180524141233.4e52a19f.psychonaut@nothingisreal.com>
Message-ID: <201805242209.w4OM9mlL012215@freefriends.org>

Hi Tristan,

    * after installation, set CTAN as the source for package updates

    Even if the wording in the UI is not changed, the documentation should
    at least be updated to reflect it.

I will mess with it. Thanks. -k

From preining at logic.at  Fri May 25 09:08:07 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 25 May 2018 16:08:07 +0900
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
 migration
In-Reply-To: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
Message-ID: <20180525070807.GA389@burischnitzel.preining.info>

Hi Holger,

> However, I am unable to get correct PDFs built so far.

Could you instead of sending a link to the refcard Debian packaging,
which few here will understand (and even I had to sit on top of the
rules file for quite some time) send a generated file for the languages
you need, best stripped down to a very short minimal example, and then
we can look into it what would be the best way to support it.

> 1. which fonts to use? (I was told to use Amiri font for Arabic, but I have
>    no advise so far for Hebrew; I read something about Dejavu font, but could
>    not get the PDF built with it.)

A short google for "xelatex hebrew" brought up lots of good advice, here
is one
  https://www.guyrutenberg.com/2015/03/20/hebrew-with-xetex-example/

For arabic one could look at the great example in overleaf
  https://www.overleaf.com/gallery/tagged/arabic
or directly the files under
  /usr/share/texlive/texmf-dist/doc/xelatex/arabxetex (on Debian)
might help.

Hope that helps for now

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From hwansing at mailbox.org  Fri May 25 10:03:08 2018
From: hwansing at mailbox.org (Holger Wansing)
Date: Fri, 25 May 2018 10:03:08 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
 migration
In-Reply-To: <20180525070807.GA389@burischnitzel.preining.info>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
Message-ID: <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>

Hi Norbert,

Norbert Preining <preining at logic.at> wrote:
> Hi Holger,
> 
> > However, I am unable to get correct PDFs built so far.
> 
> Could you instead of sending a link to the refcard Debian packaging,
> which few here will understand (and even I had to sit on top of the
> rules file for quite some time) send a generated file for the languages
> you need, best stripped down to a very short minimal example, and then
> we can look into it what would be the best way to support it.
> 
> > 1. which fonts to use? (I was told to use Amiri font for Arabic, but I have
> >    no advise so far for Hebrew; I read something about Dejavu font, but could
> >    not get the PDF built with it.)
> 
> A short google for "xelatex hebrew" brought up lots of good advice, here
> is one
>   https://www.guyrutenberg.com/2015/03/20/hebrew-with-xetex-example/
> 
> For arabic one could look at the great example in overleaf
>   https://www.overleaf.com/gallery/tagged/arabic
> or directly the files under
>   /usr/share/texlive/texmf-dist/doc/xelatex/arabxetex (on Debian)
> might help.
> 
> Hope that helps for now

Thanks for your hints.
My main point is/was: I don't know, how all the things like dblatex, latex,
xetex, xelatex ... work together.
Now I know, that I have to search for "xelatex <language>", I can do more
research and testing.
Thanks so far


Holger



-- 
Holger Wansing <hwansing at mailbox.org>
PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076

From zdenek.wagner at gmail.com  Fri May 25 10:40:30 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 25 May 2018 10:40:30 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
	migration
In-Reply-To: <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
Message-ID: <CAC1phyYhD5jgQY42j_UZ2TonWwHLoh1GPRXrtrR2DxgBtEH51Q@mail.gmail.com>

018-05-25 10:03 GMT+02:00 Holger Wansing <hwansing at mailbox.org>:
> Hi Norbert,
>
...
>
> Thanks for your hints.
> My main point is/was: I don't know, how all the things like dblatex, latex,
> xetex, xelatex ... work together.
> Now I know, that I have to search for "xelatex <language>", I can do more
> research and testing.
> Thanks so far
>
It is also useful to read the documentation of the polyglossia package
and you will probably need to know more about the fontspec package.
>
> Holger
>
>
Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2
>
> --
> Holger Wansing <hwansing at mailbox.org>
> PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076


From preining at logic.at  Fri May 25 11:17:21 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 25 May 2018 18:17:21 +0900
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
 migration
In-Reply-To: <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
Message-ID: <20180525091721.GA3621@burischnitzel.preining.info>

Hi Holger,

> My main point is/was: I don't know, how all the things like dblatex, latex,
> xetex, xelatex ... work together.

I think 
  dblatex produces a .tex file from the "sources"
  xelatex is used to translate it into a pdf
That's all. The problem is that dblatex is not afair in TeX Live, so not
many people will be able to test it. So having the (intermediate) .tex
file would be helpful.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jorgesumle at freakspot.net  Sun May 27 02:11:48 2018
From: jorgesumle at freakspot.net (Jorge Maldonado Ventura)
Date: Sun, 27 May 2018 02:11:48 +0200
Subject: [tex-live] Spanish hyphenation error
Message-ID: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>

"compatibilidad" is wrongly hyphenated like compat-ibilidad, it should
be |com-pa-ti-bi-li-dad|

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/ee888c8e/attachment.html>

From HMWiesinger at liwjatan.at  Sun May 27 13:06:22 2018
From: HMWiesinger at liwjatan.at (Heinz Wiesinger)
Date: Sun, 27 May 2018 13:06:22 +0200
Subject: [tex-live] poppler private API
Message-ID: <2148688.t0PssMGQCO@titania.liwjatan.org>

Hi everyone,

Currently a couple of tools shipped with texlive use libpoppler, which is 
private API and not supposed to be used directly. Instead one of the frontend 
libraries (libpoppler-cpp, libpoppler-glib, libpoppler-qt5) should be used.

>From what I can see the affected tools are:
- luajittex
- luatex
- pdftex
- pdftosrc
- xetex

Please consider porting those to use the public API. libpoppler bumps the so-
version with pretty much every release, which happens almost every month, and 
recompiling texlive every month because of a new poppler release is no fun.

Grs,
Heinz
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 228 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/9cbe2540/attachment.sig>

From preining at logic.at  Sun May 27 16:54:49 2018
From: preining at logic.at (Norbert Preining)
Date: Sun, 27 May 2018 23:54:49 +0900
Subject: [tex-live] poppler private API
In-Reply-To: <2148688.t0PssMGQCO@titania.liwjatan.org>
References: <2148688.t0PssMGQCO@titania.liwjatan.org>
Message-ID: <20180527145449.GA30788@bulldog.preining.info>

Hi Heinz,

> Currently a couple of tools shipped with texlive use libpoppler, which is 
> private API and not supposed to be used directly. Instead one of the frontend 
> libraries (libpoppler-cpp, libpoppler-glib, libpoppler-qt5) should be used.

> Please consider porting those to use the public API. libpoppler bumps the so-
> version with pretty much every release, which happens almost every month, and 
> recompiling texlive every month because of a new poppler release is no fun.

Yes indeed, poppler is a pain ;-) Do you have any suggestion, i.e. patch
for porting the functionality?

I faintly remember in very old days when poppler was first used it
wasn't possible to use the necessary functionality via the public api,
but that might have changed.

On a different front, why do you need to recompile TL every month? The
binaries we ship don't use external poppler.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From enrico.gregorio at gmail.com  Sun May 27 16:58:59 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Sun, 27 May 2018 16:58:59 +0200
Subject: [tex-live] Spanish hyphenation error
In-Reply-To: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
References: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
Message-ID: <9A9E74C8-C275-4964-BB62-F83A31F564A5@gmail.com>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/a33114ca/attachment.html>

From enrico.gregorio at gmail.com  Sun May 27 17:01:06 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Sun, 27 May 2018 17:01:06 +0200
Subject: [tex-live] Spanish hyphenation error
In-Reply-To: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
References: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
Message-ID: <74796373-9C40-4309-AEB8-56A1FC5E87BD@gmail.com>


> On 27 May 2018, at 02:11 , Jorge Maldonado Ventura <jorgesumle at freakspot.net> wrote:
> 
> "compatibilidad" is wrongly hyphenated like compat-ibilidad, it should be com-pa-ti-bi-li-dad
> 

I can?t reproduce it:

\documentclass{article}
\usepackage[spanish]{babel}

\begin{document}

\parbox{0pt}{\hspace{0pt}compatibilidad}

\end{document}

gives

com-
pa-
ti-
bi-
li-
dad

Ciao
Enrico

From HMWiesinger at liwjatan.at  Sun May 27 17:38:43 2018
From: HMWiesinger at liwjatan.at (Heinz Wiesinger)
Date: Sun, 27 May 2018 17:38:43 +0200
Subject: [tex-live] poppler private API
In-Reply-To: <20180527145449.GA30788@bulldog.preining.info>
References: <2148688.t0PssMGQCO@titania.liwjatan.org>
 <20180527145449.GA30788@bulldog.preining.info>
Message-ID: <3435876.iMLjXV99hn@titania.liwjatan.org>

On Sunday, 27 May 2018 16:54:49 CEST Norbert Preining wrote:
> Hi Heinz,
> 
> > Currently a couple of tools shipped with texlive use libpoppler, which is
> > private API and not supposed to be used directly. Instead one of the
> > frontend libraries (libpoppler-cpp, libpoppler-glib, libpoppler-qt5)
> > should be used.
> > 
> > Please consider porting those to use the public API. libpoppler bumps the
> > so- version with pretty much every release, which happens almost every
> > month, and recompiling texlive every month because of a new poppler
> > release is no fun.
> Yes indeed, poppler is a pain ;-) Do you have any suggestion, i.e. patch
> for porting the functionality?

No, not yet at least. I figured I start off with a mail/bug report and see 
where that leads :)

I read a little bit into it already, but I know pretty much nothing about 
either poppler or texlive, which leaves me a bit at a disadvantage.

> I faintly remember in very old days when poppler was first used it
> wasn't possible to use the necessary functionality via the public api,
> but that might have changed.

That's certainly a possibility. If that's the case it would be nice to figure 
out the functionality needed and bring it to the attention of the poppler 
devs.

> On a different front, why do you need to recompile TL every month? The
> binaries we ship don't use external poppler.

Linux distro packages, Slackware in my case :)

Grs,
Heinz
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 228 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/83e9c002/attachment.sig>

From arthur.reutenauer at normalesup.org  Sun May 27 17:49:44 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Sun, 27 May 2018 17:49:44 +0200
Subject: [tex-live] Spanish hyphenation error
In-Reply-To: <74796373-9C40-4309-AEB8-56A1FC5E87BD@gmail.com>
References: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
 <74796373-9C40-4309-AEB8-56A1FC5E87BD@gmail.com>
Message-ID: <20180527154944.GA2705456@phare.normalesup.org>

> I can?t reproduce it:

  Confirmed.  On the other hands, all patterns for English allow the
break compat-ibilidad, which makes me suspect Jorge is using English
patterns.

	Best,

		Arthur

From jorgesumle at freakspot.net  Sun May 27 18:27:58 2018
From: jorgesumle at freakspot.net (Jorge Maldonado Ventura)
Date: Sun, 27 May 2018 18:27:58 +0200
Subject: [tex-live] Spanish hyphenation error
In-Reply-To: <20180527154944.GA2705456@phare.normalesup.org>
References: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
 <74796373-9C40-4309-AEB8-56A1FC5E87BD@gmail.com>
 <20180527154944.GA2705456@phare.normalesup.org>
Message-ID: <40a37ef6-be0d-5a55-b99a-6f70d3d41f04@freakspot.net>

How can I use the Spanish patterns? I thought that using
`@documentlanguage es` in a Texinfo file was enough (see
https://www.gnu.org/software/texinfo/manual/texinfo/texinfo.html#g_t_0040documentlanguage)

> |@documentlanguage| also changes TeX?s current hyphenation patterns,
if the TeX program being run has the necessary support included. This
will generally not be the case for |tex| itself, but will usually be the
case for up-to-date distributions of the extended TeX programs |etex|
(DVI output) and |pdftex| (PDF output). |texi2dvi| will use the extended
TeXs if they are available (see Format with |texi2dvi|
<https://www.gnu.org/software/texinfo/manual/texinfo/texinfo.html#Format-with-texi2dvi>)


On 27.05.2018 17:49, Arthur Reutenauer wrote:
>> I can?t reproduce it:
>   Confirmed.  On the other hands, all patterns for English allow the
> break compat-ibilidad, which makes me suspect Jorge is using English
> patterns.
>
> 	Best,
>
> 		Arthur

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/166abf70/attachment.html>

From hwansing at mailbox.org  Sun May 27 21:58:08 2018
From: hwansing at mailbox.org (Holger Wansing)
Date: Sun, 27 May 2018 21:58:08 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
 migration
In-Reply-To: <20180525091721.GA3621@burischnitzel.preining.info>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
 <20180525091721.GA3621@burischnitzel.preining.info>
Message-ID: <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>

[Please CC my on replies]

Hi,

Norbert Preining <preining at logic.at> wrote:
> Hi Holger,
> 
> > My main point is/was: I don't know, how all the things like dblatex, latex,
> > xetex, xelatex ... work together.
> 
> I think 
>   dblatex produces a .tex file from the "sources"
>   xelatex is used to translate it into a pdf
> That's all. The problem is that dblatex is not afair in TeX Live, so not
> many people will be able to test it. So having the (intermediate) .tex
> file would be helpful.

So, I cannot get any further here ...

I have stripped this down to this:
dblatex generates the tex file from a docbook source file, it uses xetex 
backend for that.

The command used:
dblatex --backend=xetex --texstyle=refcard.sty --xsl-user=dblatex.xsl entries-he.dbk

Based on this example
https://www.guyrutenberg.com/2015/03/20/hebrew-with-xetex-example/
I have generated a dblatex.xsl file, to the best of my knowledge.
(The notation in our dblatex.xsl file is somewhat different compared with
the example from above, so I couldn't copy-paste it directly.)

I have attached: 
- the docbook source file ("entries-he.dbk"),
- the style file ("refcard.sty")
- the dblatex.xsl file
- and the resulting tex file.


Many thanks
Holger



-- 
Holger Wansing <hwansing at mailbox.org>
PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076
-------------- next part --------------
A non-text attachment was scrubbed...
Name: entries-he.dbk
Type: application/octet-stream
Size: 23256 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/c166dce0/attachment-0001.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: refcard.sty
Type: text/x-tex
Size: 1768 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/c166dce0/attachment-0002.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dblatex.xsl
Type: application/xslt+xml
Size: 5094 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/c166dce0/attachment-0001.xsl>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: entries-he.dbk.tex
Type: text/x-tex
Size: 20549 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/c166dce0/attachment-0003.bin>

From hwansing at mailbox.org  Sun May 27 23:06:26 2018
From: hwansing at mailbox.org (Holger Wansing)
Date: Sun, 27 May 2018 23:06:26 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
 migration
In-Reply-To: <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
 <20180525091721.GA3621@burischnitzel.preining.info>
 <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>
Message-ID: <20180527230626.ddd08ac1590f19107857804c@mailbox.org>

Hi,

Holger Wansing <hwansing at mailbox.org> wrote:
> [Please CC my on replies]
> 
> Hi,
> 
> Norbert Preining <preining at logic.at> wrote:
> > Hi Holger,
> > 
> > > My main point is/was: I don't know, how all the things like dblatex, latex,
> > > xetex, xelatex ... work together.
> > 
> > I think 
> >   dblatex produces a .tex file from the "sources"
> >   xelatex is used to translate it into a pdf
> > That's all. The problem is that dblatex is not afair in TeX Live, so not
> > many people will be able to test it. So having the (intermediate) .tex
> > file would be helpful.
> 
> So, I cannot get any further here ...
> 
> I have stripped this down to this:
> dblatex generates the tex file from a docbook source file, it uses xetex 
> backend for that.
> 
> The command used:
> dblatex --backend=xetex --texstyle=refcard.sty --xsl-user=dblatex.xsl entries-he.dbk
> 
> Based on this example
> https://www.guyrutenberg.com/2015/03/20/hebrew-with-xetex-example/
> I have generated a dblatex.xsl file, to the best of my knowledge.
> (The notation in our dblatex.xsl file is somewhat different compared with
> the example from above, so I couldn't copy-paste it directly.)
> 
> I have attached: 
> - the docbook source file ("entries-he.dbk"),
> - the style file ("refcard.sty")
> - the dblatex.xsl file
> - and the resulting tex file.

I found, that I gave the incorrect docbook source file, it has to be
the refcard-he.dbk, attached to this mail; sorry.


Holger

-- 
Holger Wansing <hwansing at mailbox.org>
PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076
-------------- next part --------------
A non-text attachment was scrubbed...
Name: refcard-he.dbk
Type: application/octet-stream
Size: 25027 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180527/59d94ffd/attachment-0001.obj>

From preining at logic.at  Mon May 28 03:01:25 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 28 May 2018 10:01:25 +0900
Subject: [tex-live] WARNING for tlcritical users
Message-ID: <20180528010125.GD4600@bulldog.preining.info>

Hi all,

those of you who are using tlcritical, today's rebuild has a bad bug in 
TLUtils.pm, which will prevent *ANY* further update whatsoever.

Either hold of updating texlive.infra till tomorrow (if you want to
update other packages use can use update --force), or if you already
have installed this, please for now delete the following two lines in
texlive/2018/tlpkg/TeXLive/TLUtils.pm, lines 4329 and 4330:
  die "internal error, repository_to_array passed nothing (caller="
      . caller . ")";

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jorgesumle at freakspot.net  Mon May 28 09:02:29 2018
From: jorgesumle at freakspot.net (Jorge Maldonado Ventura)
Date: Mon, 28 May 2018 09:02:29 +0200
Subject: [tex-live] Spanish hyphenation error
In-Reply-To: <20180527154944.GA2705456@phare.normalesup.org>
References: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
 <74796373-9C40-4309-AEB8-56A1FC5E87BD@gmail.com>
 <20180527154944.GA2705456@phare.normalesup.org>
Message-ID: <aa8476a4-fcf4-dba0-55fe-14fc19c85313@freakspot.net>

I solved it installing the texlive-lang-spanish package


On 27.05.2018 17:49, Arthur Reutenauer wrote:
>> I can?t reproduce it:
>   Confirmed.  On the other hands, all patterns for English allow the
> break compat-ibilidad, which makes me suspect Jorge is using English
> patterns.
>
> 	Best,
>
> 		Arthur


From daleif at math.au.dk  Mon May 28 16:16:35 2018
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 28 May 2018 14:16:35 +0000
Subject: [tex-live] Installing TL18 on Win10 - permission denied
In-Reply-To: <20180514131742.GB25293@burischnitzel.preining.info>
References: <20180509143015.GE13654@bulldog.preining.info>
 <1525876351152.68254@math.au.dk> <1526046693780.48611@math.au.dk>
 <20180514041555.GA18800@burischnitzel.preining.info>
 <1526278476930.33893@math.au.dk> <1526288087970.4782@math.au.dk>
 <1526297601921.46189@math.au.dk>
 <D50DD001-5290-4A0E-935D-FD7518810EA0@logic.at>
 <20180514130855.GA25293@burischnitzel.preining.info>
 <1526303692709.70799@math.au.dk>,
 <20180514131742.GB25293@burischnitzel.preining.info>
Message-ID: <1527516995861.30820@math.au.dk>

Just FYI

Just a fresh netinstallation on my UNI Win10 VM with all the AV etc

No issues at all.

Just for fun I'll retry again tomorrow


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 14 May 2018 15:17
To: Lars Madsen
Cc: TeXLive
Subject: Re: [tex-live] Installing TL18 on Win10 - permission denied

> I'll test it against my company VM when the new version hits my normal mirror

As I said, the installer package (install-tl-latest) will contain the
fix starting from tomorrow, but after the installation the old TLPDB
module is used unless tlcritical is used or after we push out the
current status.

The biggest problem - and practically all reported errors - are during
installation, so that might help already.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From qiji at b0ss.net  Sun May 27 22:54:01 2018
From: qiji at b0ss.net (Qi Ji)
Date: Mon, 28 May 2018 04:54:01 +0800
Subject: [tex-live] TL2018: xetex on FreeBSD depends on libfreetype.so.9
 which is missing
Message-ID: <163a3611f93.f25a1da8534751.7288264672608658938@b0ss.net>

after the update to TL 2018 I tried

% xetex
Shared object "libfreetype.so.9" not found, required by "xetex"
% ldd /usr/local/texlive/2018/bin/amd64-freebsd/xetex
/usr/local/texlive/2018/bin/amd64-freebsd/xetex:
        libfontconfig.so.1 => /usr/local/lib/libfontconfig.so.1 (0x801ec7000)
        libfreetype.so.9 => not found (0)
        libm.so.5 => /lib/libm.so.5 (0x80210e000)
        libc.so.7 => /lib/libc.so.7 (0x802339000)
        libfreetype.so.6 => /usr/local/lib/libfreetype.so.6 (0x8026f1000)
        libexpat.so.1 => /usr/local/lib/libexpat.so.1 (0x8029a7000)
        libthr.so.3 => /lib/libthr.so.3 (0x802bd1000)
        libz.so.6 => /lib/libz.so.6 (0x802df9000)
        libbz2.so.4 => /usr/lib/libbz2.so.4 (0x803012000)

the SONAME has been libfreetype.so.6 since 2014, from
https://svnweb.freebsd.org/ports/head/print/freetype2/pkg-plist?r1=347555&r2=351411

as a workaround, overridding at runtime works,

% export LD_LIBMAP=libfreetype.so.9=libfreetype.so.6
% ldd /usr/local/texlive/2018/bin/amd64-freebsd/xetex
/usr/local/texlive/2018/bin/amd64-freebsd/xetex:
        libfontconfig.so.1 => /usr/local/lib/libfontconfig.so.1 (0x801ec7000)
        libfreetype.so.9 => /usr/local/lib/libfreetype.so.6 (0x80210e000)
        libm.so.5 => /lib/libm.so.5 (0x8023c4000)
        libc.so.7 => /lib/libc.so.7 (0x8025ef000)
        libexpat.so.1 => /usr/local/lib/libexpat.so.1 (0x8029a7000)
        libthr.so.3 => /lib/libthr.so.3 (0x802bd1000)
        libz.so.6 => /lib/libz.so.6 (0x802df9000)
% xetex opentype-info.tex
... works ...

System information: FreeBSD 11.1-RELEASE-p10 amd64. freetype2, fontconfig are
obtained from latest packages.


From kakuto at fuk.kindai.ac.jp  Tue May 29 09:24:01 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 29 May 2018 16:24:01 +0900
Subject: [tex-live] TL2018: Problems with filenames
Message-ID: <17A291C256754CABB01E7BF8A270B625@CJ3001517A>

>> In my simple test, pdftex can be changed similarly.
>> I'll change pdftex if it is OK.
>
> Done in r47676.

I discarded the changes for pdfTeX in r47865 (w32 only), since
it turned out that pdfTeX was not suitable for them.
Sorry for the noise.

Best,
Akira


From kakuto at fuk.kindai.ac.jp  Tue May 29 11:41:55 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 29 May 2018 18:41:55 +0900
Subject: [tex-live] TL2018: Problems with filenames
Message-ID: <B87BD3832FFC4F1AB66BB96897AFA06C@CJ3001517A>

>>> In my simple test, pdftex can be changed similarly.
>>> I'll change pdftex if it is OK.
>>
>> Done in r47676.

> I discarded the changes for pdfTeX in r47865 (w32 only), since
> it turned out that pdfTeX was not suitable for them.
> Sorry for the noise.

BTW, pdflatex for Windows in TeX Live (recovered one, installed
in r47866 in TeX Live) is working OK here for non-ascii file
names with LaTeX2e <2018-04-01> patch level 5.

Thanks,
Akira


From preining at logic.at  Tue May 29 11:58:32 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 29 May 2018 18:58:32 +0900
Subject: [tex-live] poppler private API
In-Reply-To: <3435876.iMLjXV99hn@titania.liwjatan.org>
References: <2148688.t0PssMGQCO@titania.liwjatan.org>
 <20180527145449.GA30788@bulldog.preining.info>
 <3435876.iMLjXV99hn@titania.liwjatan.org>
Message-ID: <20180529095832.GA17142@bulldog.preining.info>

Hi Heinz,

> I read a little bit into it already, but I know pretty much nothing about 
> either poppler or texlive, which leaves me a bit at a disadvantage.
[...]
> That's certainly a possibility. If that's the case it would be nice to figure 
> out the functionality needed and bring it to the attention of the poppler 
> devs.

You could start with trying to find out which of the private poppler
header details are being used, that would help others, and would it make
easier to search for replacements.

(Of course I can do this by myself, as most here, but all of us have
many responsabilities in TL ;-)

> Linux distro packages, Slackware in my case :)

Well, you probably follow each and every new poppler release. This is
one of the reasons why I sometimes disable external poppler and use the
TeX Live internal one for building TL in Debian (although I always get
complaints that I should use ... I know ... yes yes). So yes, I know
your pain.

But then, the svn repo (also accessible via git) contains already fixes
for the sources to make them buildable with the most recent poppler.

Liebe Gr??e in die Heimat

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Tue May 29 15:43:26 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 29 May 2018 15:43:26 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
	migration
In-Reply-To: <20180527230626.ddd08ac1590f19107857804c@mailbox.org>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
 <20180525091721.GA3621@burischnitzel.preining.info>
 <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>
 <20180527230626.ddd08ac1590f19107857804c@mailbox.org>
Message-ID: <CAC1phyb=CU4YBi0Tfd8qd-y45o5tmdhLqofikdCkekazAf94pA@mail.gmail.com>

You mix polyglossia and babel in the same document, it will not work,
you should use only one of them. I prefer polyglossia with XeLaTeX, so
the lines would be

\usepackage{polyglossia}
\setmainlanguage{hebrew}

Packages ucs, fontenc and inputenc must not be used, XeTeX works in
Unicode with input in UTF-8 and OpenType or TrueType fonts should be
used (with Unicode encoding).

Package bidi will be loaded automatically but you have to declare
explicitly that you with the RTL output.

I suggest that you make a short (even nonsense) Hebrew document and by
gluing the pieces mentioned above you make it work. Then you will know
what your XSL should contain.
This is the way how I work when typesetting XML via XSLT and XeLaTeX.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2018-05-27 23:06 GMT+02:00 Holger Wansing <hwansing at mailbox.org>:
> Hi,
>
> Holger Wansing <hwansing at mailbox.org> wrote:
>> [Please CC my on replies]
>>
>> Hi,
>>
>> Norbert Preining <preining at logic.at> wrote:
>> > Hi Holger,
>> >
>> > > My main point is/was: I don't know, how all the things like dblatex, latex,
>> > > xetex, xelatex ... work together.
>> >
>> > I think
>> >   dblatex produces a .tex file from the "sources"
>> >   xelatex is used to translate it into a pdf
>> > That's all. The problem is that dblatex is not afair in TeX Live, so not
>> > many people will be able to test it. So having the (intermediate) .tex
>> > file would be helpful.
>>
>> So, I cannot get any further here ...
>>
>> I have stripped this down to this:
>> dblatex generates the tex file from a docbook source file, it uses xetex
>> backend for that.
>>
>> The command used:
>> dblatex --backend=xetex --texstyle=refcard.sty --xsl-user=dblatex.xsl entries-he.dbk
>>
>> Based on this example
>> https://www.guyrutenberg.com/2015/03/20/hebrew-with-xetex-example/
>> I have generated a dblatex.xsl file, to the best of my knowledge.
>> (The notation in our dblatex.xsl file is somewhat different compared with
>> the example from above, so I couldn't copy-paste it directly.)
>>
>> I have attached:
>> - the docbook source file ("entries-he.dbk"),
>> - the style file ("refcard.sty")
>> - the dblatex.xsl file
>> - and the resulting tex file.
>
> I found, that I gave the incorrect docbook source file, it has to be
> the refcard-he.dbk, attached to this mail; sorry.
>
>
> Holger
>
> --
> Holger Wansing <hwansing at mailbox.org>
> PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076


From arthur.reutenauer at normalesup.org  Tue May 29 16:17:32 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Tue, 29 May 2018 16:17:32 +0200
Subject: [tex-live] Spanish hyphenation error
In-Reply-To: <aa8476a4-fcf4-dba0-55fe-14fc19c85313@freakspot.net>
References: <7b80032c-1497-e00b-26bb-885b74b2ec1a@freakspot.net>
 <74796373-9C40-4309-AEB8-56A1FC5E87BD@gmail.com>
 <20180527154944.GA2705456@phare.normalesup.org>
 <aa8476a4-fcf4-dba0-55fe-14fc19c85313@freakspot.net>
Message-ID: <20180529141732.GA4180583@phare.normalesup.org>

> I solved it installing the texlive-lang-spanish package

  That makes sense :-)

	Best,

		Arthur

From preining at logic.at  Tue May 29 16:34:31 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 29 May 2018 23:34:31 +0900
Subject: [tex-live] TL2018: xetex on FreeBSD depends on libfreetype.so.9
 which is missing
In-Reply-To: <163a3611f93.f25a1da8534751.7288264672608658938@b0ss.net>
References: <163a3611f93.f25a1da8534751.7288264672608658938@b0ss.net>
Message-ID: <20180529143431.GF13604@bulldog.preining.info>

Hi

I am not using any BSD, so all might be wrong, but looking at your ldd
output I see two freetype:

>         libfreetype.so.9 => not found (0)
>         libfreetype.so.6 => /usr/local/lib/libfreetype.so.6 (0x8026f1000)

Checking the binaries with readelf (fortunately the binaries can be read
on Linux) I get:

$ readelf bin/amd64-freebsd/xetex
 0x0000000000000001 (NEEDED)             Shared library: [libfontconfig.so.1]
 0x0000000000000001 (NEEDED)             Shared library: [libfreetype.so.9]
 0x0000000000000001 (NEEDED)             Shared library: [libm.so.5]
 0x0000000000000001 (NEEDED)             Shared library: [libc.so.7]
...

Which indeed is strange/bad.

Nikola, which kind of system did you build these binaries on?

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue May 29 16:47:07 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 29 May 2018 23:47:07 +0900
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
 migration
In-Reply-To: <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
 <20180525091721.GA3621@burischnitzel.preining.info>
 <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>
Message-ID: <20180529144707.GA11697@bulldog.preining.info>

Hi Holger,

> - and the resulting tex file.

I just tried the resulting tex file, and at least to my feeling it works
more or less (cannot read Hebrew, sorry, on my list). I attach the
generated .pdf

There are two places where xelatex hangs:
   LaTeX Error: Option clash for package babel.

  See the LaTeX manual or LaTeX Companion for explanation.
  Type  H <return>  for immediate help.
   ...

  l.40 \usepackage
                  {cmap}
  ?


babel is loaded as 
  \usepackage[hebrew]{babel}
and the error H help message states:
  ? H
  The package babel has already been loaded with options:
    []
  There has now been an attempt to load it with options
    [hebrew]
  Adding the global options:
    ,hebrew
  to your \documentclass declaration may fix this.
  Try typing  <return>  to proceed.

Unfortunately adding hebrew to the documentclass did NOT help.

My guess is that it is dblatex.sty which messes (again) around with some
internals it shouldn't mess around (I have seen this a times).

  ! LaTeX Error: File `' not found.

  See the LaTeX manual or LaTeX Companion for explanation.
  Type  H <return>  for immediate help.
   ...

  l.88 \maketitle

  ?

Again a very very strange thing, that can to my knowledge only arise
from dblatex.sty mess around, see above.

Anyway, both errors ignored I got the following attached document.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
A non-text attachment was scrubbed...
Name: entries-he.dbk.pdf
Type: application/pdf
Size: 53555 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180529/7d134b9b/attachment-0001.pdf>

From hwansing at mailbox.org  Tue May 29 20:21:02 2018
From: hwansing at mailbox.org (Holger Wansing)
Date: Tue, 29 May 2018 20:21:02 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
 migration
In-Reply-To: <20180529144707.GA11697@bulldog.preining.info>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
 <20180525091721.GA3621@burischnitzel.preining.info>
 <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>
 <20180529144707.GA11697@bulldog.preining.info>
Message-ID: <20180529202102.aa5d6353b3544bc1a328969d@mailbox.org>

Hi,

Norbert Preining <preining at logic.at> wrote:
> Hi Holger,
> 
> > - and the resulting tex file.
> 
> I just tried the resulting tex file, and at least to my feeling it works
> more or less (cannot read Hebrew, sorry, on my list). I attach the
> generated .pdf
> 
> There are two places where xelatex hangs:

I was able to get around these errors (so far).
Problem seems to be, that babel is used, and also polyglossia (as Zdenek
already mentioned). When I set
	<xsl:param name="latex.babel.use">0</xsl:param>
the build is working fine without errors, so when forcing to not use babel
at all.
Is there a more proper way to disable babel? Like it is now, I have babel 
disabled completely, means: for all languages, while I'm not sure, if babel 
may probably be needed for some language (maybe Arabic?)
(The refcard is currently built for 32 languages from the same source).


A problem I have now:
In the hebrew *PDF*, RTL direction is not honored correctly:
When looking at each word, it is fine (means RTL inside of the word), but the 
order of the words is LTR.
However, in the *tex* file everything seems to looks fine.
What can be done about this?

I have attached the generated tex file, the pdf generated from that, and 
another pdf, which was build with xmlroff (the old build method; this pdf is
confirmed from Hebrew translator to be fine, so this is the reference).


Thanks
Holger



-- 
Holger Wansing <hwansing at mailbox.org>
PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076
-------------- next part --------------
A non-text attachment was scrubbed...
Name: refcard-he.dbk.tex
Type: text/x-tex
Size: 34281 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180529/672b725d/attachment-0001.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: refcard-he-a4__dblatex.pdf
Type: application/pdf
Size: 59422 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180529/672b725d/attachment-0002.pdf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: refcard-he-a4__xmlroff.pdf
Type: application/pdf
Size: 129636 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180529/672b725d/attachment-0003.pdf>

From zdenek.wagner at gmail.com  Tue May 29 20:58:35 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 29 May 2018 20:58:35 +0200
Subject: [tex-live] [debian-refcard] Help needed with xmlroff -> dblatex
	migration
In-Reply-To: <20180529202102.aa5d6353b3544bc1a328969d@mailbox.org>
References: <20180524110400.04e9fee8aab9458ead5bb338@mailbox.org>
 <20180525070807.GA389@burischnitzel.preining.info>
 <20180525100308.e865778e5236ea7b278f82e1@mailbox.org>
 <20180525091721.GA3621@burischnitzel.preining.info>
 <20180527215808.87abdd5fd8b983d522407aaf@mailbox.org>
 <20180529144707.GA11697@bulldog.preining.info>
 <20180529202102.aa5d6353b3544bc1a328969d@mailbox.org>
Message-ID: <CAC1phyYEbLGmKQYC-wGZRHMx+btC-jx0d628_vbr7sXAkupGew@mail.gmail.com>

2018-05-29 20:21 GMT+02:00 Holger Wansing <hwansing at mailbox.org>:

> Hi,
>
> Norbert Preining <preining at logic.at> wrote:
> > Hi Holger,
> >
> > > - and the resulting tex file.
> >
> > I just tried the resulting tex file, and at least to my feeling it works
> > more or less (cannot read Hebrew, sorry, on my list). I attach the
> > generated .pdf
> >
> > There are two places where xelatex hangs:
>
> I was able to get around these errors (so far).
> Problem seems to be, that babel is used, and also polyglossia (as Zdenek
> already mentioned). When I set
>         <xsl:param name="latex.babel.use">0</xsl:param>
> the build is working fine without errors, so when forcing to not use babel
> at all.
> Is there a more proper way to disable babel? Like it is now, I have babel
> disabled completely, means: for all languages, while I'm not sure, if
> babel
> may probably be needed for some language (maybe Arabic?)
> (The refcard is currently built for 32 languages from the same source).
>
> I am not aware of any language supported in babel and not supported in
polyglossia but I am aware of languages supported in polyglossia but
unsupported in babel. Arabic, Urdu, Persian, Hindi, Marathi, Malayalam,
Telugu, all they work fine in polyglossia if proper fonts are loaded. All
encoding packages should be removed, everything is in Unicode.

I personally do not have much experience with dblatex, I use other XML
formats (usually with Relax NG scheme created by me for a specific purpose)
and writing the stylesheet from scratch, se e.g.
http://icebearsoft.euweb.cz/bharat.php

>
> A problem I have now:
> In the hebrew *PDF*, RTL direction is not honored correctly:
> When looking at each word, it is fine (means RTL inside of the word), but
> the
> order of the words is LTR.
> However, in the *tex* file everything seems to looks fine.
> What can be done about this?
>

That's what I wrote. XeTeX does not implement the bidi algorithm in full,
the words contain letters correctly from right to left but the words are
still placed from left to right. You must use explicitly commands from the
bidi package.


>
> I have attached the generated tex file, the pdf generated from that, and
> another pdf, which was build with xmlroff (the old build method; this pdf
> is
> confirmed from Hebrew translator to be fine, so this is the reference).
>
>
> Thanks
> Holger
>
>
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



>
> --
> Holger Wansing <hwansing at mailbox.org>
> PGP-Finterprint: 496A C6E8 1442 4B34 8508  3529 59F1 87CA 156E B076
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180529/4e96fbdf/attachment.html>

From axel.retif at gmail.com  Wed May 30 11:09:35 2018
From: axel.retif at gmail.com (Axel E. Retif)
Date: Wed, 30 May 2018 04:09:35 -0500
Subject: [tex-live] font stickstooMath-... is defined multiple times
Message-ID: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>

Greetings.


I just installed TeXLive 2018. When updating updmap-sys to include my 
Lucida and MinionPro fonts, I got these warnings:

updmap [WARNING]: font stickstooMath-Regular is defined multiple times:
    newtx.map (from /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg)
    SticksTooText.map (from 
/usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg) (used)

updmap [WARNING]: font stickstooMath-Italic is defined multiple times:
    newtx.map (from /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg)
    SticksTooText.map (from 
/usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg) (used)

updmap [WARNING]: font stickstooMath-Bold is defined multiple times:
    newtx.map (from /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg)
    SticksTooText.map (from 
/usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg) (used)

updmap [WARNING]: font stickstooMath-BoldItalic is defined multiple times:
   newtx.map (from /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg)
   SticksTooText.map (from 
/usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg) (used)


I guess there is not really any problem with this, but I thought it 
might be OK to notify it.


On a side note, I want to comment on how fast updmap is on these days: I 
remember how options --nomkmap and --nohash were a most until the last 
map file you loaded; now I don't have to worry about it. And it is not 
that I have a faster machine, but the same old one: an i3-3110M CPU @ 
2.40GHz, 4GB of RAM and the original disk drive ---it's updmap that is 
really, really faster.


Best

Axel

From preining at logic.at  Wed May 30 14:12:03 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 30 May 2018 21:12:03 +0900
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
Message-ID: <20180530121203.GB32667@bulldog.preining.info>

Hi Axel,

> updmap [WARNING]: font stickstooMath-Regular is defined multiple times:
>    newtx.map (from /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg)
>    SticksTooText.map (from

SticksTooText.map is neither from Lucida nor MathTimePro (I own both),
so this is a different font set you have installed, and which defines
the same font
  stickstooMath-Regular

> I guess there is not really any problem with this, but I thought it might be
> OK to notify it.

It is a problem you have created by adding SticksTooText.map in   
  /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg
and all this is written in the messages shipped out by updmap.

> of RAM and the original disk drive ---it's updmap that is really, really
> faster.

It still needs to read all the .map files, that hasn't changed. But it
doesn't run lots of mktexlsr etc anymore. So speed shouldn't have
changed that much, but it definitely has changed.

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From axel.retif at gmail.com  Wed May 30 14:35:39 2018
From: axel.retif at gmail.com (Axel E. Retif)
Date: Wed, 30 May 2018 07:35:39 -0500
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <20180530121203.GB32667@bulldog.preining.info>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
 <20180530121203.GB32667@bulldog.preining.info>
Message-ID: <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>

On 05/30/2018 07:12 AM, Norbert Preining wrote:

>> updmap [WARNING]: font stickstooMath-Regular is defined multiple times:
>>     newtx.map (from /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg)
>>     SticksTooText.map (from
> 
> SticksTooText.map is neither from Lucida nor MathTimePro

MinionPro

> so this is a different font set you have installed, and which defines
> the same font
>    stickstooMath-Regular

No, I haven't installed SticksToo nor newtx: both came with TeXLive 2018 
(both by Michael Sharpe, from what I see with texdoc):

kpsewhich SticksTooText.map
/usr/local/texlive/2018/texmf-dist/fonts/map/dvips/stickstoo/SticksTooText.map

kpsewhich newtx.map
/usr/local/texlive/2018/texmf-dist/fonts/map/dvips/newtx/newtx.map

(my Lucida and MinionPro fonts and maps are in texmf-local).


>> I guess there is not really any problem with this, but I thought it might be
>> OK to notify it.
> 
> It is a problem you have created by adding SticksTooText.map in
>    /usr/local/texlive/2018/texmf-dist/web2c/updmap.cfg
> and all this is written in the messages shipped out by updmap.

No, as I say above, I haven't add anything anywhere in TeXLive 2018 ---I 
was just adding my map files from texmf-local.


>> of RAM and the original disk drive ---it's updmap that is really, really
>> faster.
> 
> It still needs to read all the .map files, that hasn't changed. But it
> doesn't run lots of mktexlsr etc anymore. So speed shouldn't have
> changed that much, but it definitely has changed.

Oh, it really has changed a lot! Old timers like myself can attest to that!


Best

Axel

From preining at logic.at  Wed May 30 15:07:02 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 30 May 2018 22:07:02 +0900
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
 <20180530121203.GB32667@bulldog.preining.info>
 <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
Message-ID: <20180530130702.GD32667@bulldog.preining.info>

Hi Axel,

sorry, you are right, too fast reading between putting kid to bed ...

> kpsewhich SticksTooText.map
> /usr/local/texlive/2018/texmf-dist/fonts/map/dvips/stickstoo/SticksTooText.map
> 
> kpsewhich newtx.map
> /usr/local/texlive/2018/texmf-dist/fonts/map/dvips/newtx/newtx.map

Indeed.

I will see what we can do.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From axel.retif at gmail.com  Wed May 30 15:22:55 2018
From: axel.retif at gmail.com (Axel E. Retif)
Date: Wed, 30 May 2018 08:22:55 -0500
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <20180530130702.GD32667@bulldog.preining.info>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
 <20180530121203.GB32667@bulldog.preining.info>
 <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
 <20180530130702.GD32667@bulldog.preining.info>
Message-ID: <c908749f-ba3b-e734-279d-f2b13d8f095c@gmail.com>

Norbert,



> too fast reading between putting kid to bed ...
> 
[...]
> I will see what we can do.

Thank you very much!


Best

Axel


From bvoisin at icloud.com  Thu May 31 00:39:13 2018
From: bvoisin at icloud.com (Bruno Voisin)
Date: Thu, 31 May 2018 00:39:13 +0200
Subject: [tex-live] font stickstooMath-... is defined multiple times
Message-ID: <8192DFFF-86BF-4C5B-AED1-32955299D872@icloud.com>

To Axel and Norbert: this is a duplication of 4 entries in newtx.map and SticksTooText.map. I reported this directly to Michael Sharpe on May 17, the first time I got the warnings after a regular TeX Live update (using TeX Live Utility on the Mac). So Michael knows about it, and a fix should come in due time.

Bruno

From reinhard.kotucha at web.de  Thu May 31 01:18:00 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 31 May 2018 01:18:00 +0200
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
 <20180530121203.GB32667@bulldog.preining.info>
 <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
Message-ID: <23311.12584.585410.3636@gargle.gargle.HOWL>

On 2018-05-30 at 07:35:39 -0500, Axel E. Retif wrote:

 > >> of RAM and the original disk drive ---it's updmap that is
 > >> really, really faster.
 > > 
 > > It still needs to read all the .map files, that hasn't
 > > changed. But it doesn't run lots of mktexlsr etc anymore. So
 > > speed shouldn't have changed that much, but it definitely has
 > > changed.
 > 
 > Oh, it really has changed a lot! Old timers like myself can attest
 > to that!

Hi Axel,
you certainly have the shell script written by Thomas Esser in mind.
Shell scripts don't work on Windows and thus Fabrice Popineau ported
it to Perl and used it in fpTeX, the Windows version of teTeX.

A few years ago I made Fabrice's Perl script work on Unix too and it's
used in TeX Live on all supported platforms since then.  The modified
Perl script was 30 times faster than the shell script for many
reasons.

Norbert, the teTeX shell script didn't run mktexlsr many times either.
It simply appended path and filename to the appropriate ls-R file.
The implementation of this feature in Perl is different now and
creates slightly smaller ls-R files, but the functionality is exactly
the same.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From axel.retif at gmail.com  Thu May 31 01:46:09 2018
From: axel.retif at gmail.com (Axel E. Retif)
Date: Wed, 30 May 2018 18:46:09 -0500
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <23311.12584.585410.3636@gargle.gargle.HOWL>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
 <20180530121203.GB32667@bulldog.preining.info>
 <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
 <23311.12584.585410.3636@gargle.gargle.HOWL>
Message-ID: <0a6dfd7d-1f7e-72b7-6f33-fa4ade03804a@gmail.com>

Reinhard,


>   > >> of RAM and the original disk drive ---it's updmap that is
>   > >> really, really faster.

[...]

>   > Oh, it really has changed a lot! Old timers like myself can attest
>   > to that!
> 
> Hi Axel,
> you certainly have the shell script written by Thomas Esser in mind.

Yes, that's right! I started playing with TeX & Friends with Fink's 
teTeX (re-)distribution. Then I moved to Gerben Wierda's distribution, 
which took some parts from teTeX and others from TeXLive plus great 
additions by Gerben Wierda himself. My firsts real works were with gwTeX.

(Of course, that was on a Mac; nowadays I work on GNU/Linux.)


> Shell scripts don't work on Windows and thus Fabrice Popineau ported
> it to Perl and used it in fpTeX, the Windows version of teTeX.
> 
> A few years ago I made Fabrice's Perl script work on Unix too and it's
> used in TeX Live on all supported platforms since then.  The modified
> Perl script was 30 times faster than the shell script for many
> reasons.

Every year, when I load the map files of my personal fonts, I can't help 
but remember how it was in the old times!

Thank you!


Best

Axel



From preining at logic.at  Thu May 31 02:02:09 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 May 2018 09:02:09 +0900
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <23311.12584.585410.3636@gargle.gargle.HOWL>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
 <20180530121203.GB32667@bulldog.preining.info>
 <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
 <23311.12584.585410.3636@gargle.gargle.HOWL>
Message-ID: <20180531000209.GD18135@bulldog.preining.info>

> A few years ago I made Fabrice's Perl script work on Unix too and it's
> used in TeX Live on all supported platforms since then.  The modified

Well, not really. I have reworked the code base more or less 100%, since
we wanted to support multiple updmap.cfg files.

So yes, the idea of a perl script and some code from Fabrice remains,
but hardly ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From axel.retif at gmail.com  Thu May 31 02:18:19 2018
From: axel.retif at gmail.com (Axel E. Retif)
Date: Wed, 30 May 2018 19:18:19 -0500
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <20180531000209.GD18135@bulldog.preining.info>
References: <42daad43-4265-78a4-59b9-b24559e7575c@gmail.com>
 <20180530121203.GB32667@bulldog.preining.info>
 <dcd963e4-3728-523f-d6a3-41402844a371@gmail.com>
 <23311.12584.585410.3636@gargle.gargle.HOWL>
 <20180531000209.GD18135@bulldog.preining.info>
Message-ID: <e774be0f-2242-ca13-cd03-c7ac54d8534f@gmail.com>

Norbert, Reinhard,


>> A few years ago I made Fabrice's Perl script work on Unix too and it's
>> used in TeX Live on all supported platforms since then.  The modified
> 
> Well, not really. I have reworked the code base more or less 100%, since
> we wanted to support multiple updmap.cfg files.
> 
> So yes, the idea of a perl script and some code from Fabrice remains,
> but hardly ;-)

Thank you both, and thanks to Popineau as well!

Of course each time tlmgr updates or installs fonts updmap is run, but I 
couldn't know with which incantations, if any; but what I know is that 
ancient spells like --nomkmap and --nohash are no longer necessary.


Best

Axel


From axel.retif at gmail.com  Thu May 31 02:37:16 2018
From: axel.retif at gmail.com (Axel E. Retif)
Date: Wed, 30 May 2018 19:37:16 -0500
Subject: [tex-live] font stickstooMath-... is defined multiple times
In-Reply-To: <8192DFFF-86BF-4C5B-AED1-32955299D872@icloud.com>
References: <8192DFFF-86BF-4C5B-AED1-32955299D872@icloud.com>
Message-ID: <4980c75a-3505-dc21-b0ed-dbfa550b6fa0@gmail.com>

Bruno,


> To Axel and Norbert: this is a duplication of 4 entries in newtx.map
> and SticksTooText.map. I reported this directly to Michael Sharpe on
> May 17 [...]. So Michael knows about it, and a fix should come in due
> time.

Thank you!


Best

Axel


From herbs at wideopenwest.com  Thu May 31 17:45:07 2018
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Thu, 31 May 2018 10:45:07 -0500
Subject: [tex-live] Libertinus OTF
Message-ID: <6F7BBD2B-B012-407A-A513-BF32498BE16D@wideopenwest.com>

Howdy,

Is there really no Libertinus Sans OTF in Bold-Italic or is it just missing from the collection. The libertinus-otf package seems to assume it's present.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)



From Herbert.Voss at fu-berlin.de  Thu May 31 17:49:38 2018
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Thu, 31 May 2018 17:49:38 +0200
Subject: [tex-live] Libertinus OTF
In-Reply-To: <6F7BBD2B-B012-407A-A513-BF32498BE16D@wideopenwest.com>
References: <6F7BBD2B-B012-407A-A513-BF32498BE16D@wideopenwest.com>
Message-ID: <ff042fe1-a5e8-bd5e-e073-9562c5cfd9a0@fu-berlin.de>



Am 31.05.2018 um 17:45 schrieb Herbert Schulz:
> Is there really no Libertinus Sans OTF in Bold-Italic or is it just missing from the collection. The libertinus-otf package seems to assume it's present.
>
>
my fault ...
I created these fonts by myself with fontforge and forgot
to mention it in the package. Will think about it ...

Herbert

