From reinhard.kotucha at web.de  Thu Feb  1 00:34:53 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 1 Feb 2018 00:34:53 +0100
Subject: [tex-live] TL2017's tlpkg/installer/wget/wget.x86_64-darwin:
 HTTPS support not compiled in.
In-Reply-To: <57a30092-d2ac-dc32-0095-69525865155c@Rhul.Ac.Uk>
References: <CAJ8ZS2=6+-zMMf61U9Sxfo-yb=U-HzOYWH+o_obfMV8o0bmj0A@mail.gmail.com>
 <201801301800.w0UI0xdv013060@freefriends.org>
 <CAKTOP47gec_q61x7hAVUgjn33rdTUwQypiNd+HkOZA17xgit8w@mail.gmail.com>
 <ac53e881-906c-6c70-4ee0-21ed1e004489@Rhul.Ac.Uk>
 <23154.17259.186872.488506@gargle.gargle.HOWL>
 <57a30092-d2ac-dc32-0095-69525865155c@Rhul.Ac.Uk>
Message-ID: <23154.21149.987780.347380@gargle.gargle.HOWL>

On 2018-01-31 at 22:33:07 +0000, Philip Taylor (RHUoL) wrote:

 > Reinhard Kotucha wrote:
 > > Does getnonfreefonts work on Windows?
 > 
 > It would so seem :
 >  [stuff omitted]
 
Thank you very much, Phil.  I deduce that we don't have to touch the
Windows specific code in TeX Live right now because HTTPS is supported
already.  Good to know.  It saves us a lot of time.

Regards,
  Reinhard

- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From nico.schloemer at gmail.com  Fri Feb  2 16:54:02 2018
From: nico.schloemer at gmail.com (=?UTF-8?Q?Nico_Schl=C3=B6mer?=)
Date: Fri, 02 Feb 2018 15:54:02 +0000
Subject: [tex-live] obsolete packages: print message?
Message-ID: <CAK6Z60c7kDr4RSxSOL-t8ZQLT6NdVZdkHxaL+7-TwAHWNB2GsQ@mail.gmail.com>

Hi everyone,

I just stumbled upon a stackexchange question on the use of deprecated
packages [1]. Many are marked obsolete [2], but one only learns from that
by reading the documentation or checking out the website.

What are possible steps that could be taken towards letting the end user
know about deprecations? Has this topic perhaps come up before?

Cheers,
Nico

[1] https://tex.stackexchange.com/q/374222/13262
[2] https://www.ctan.org/topic/obsolete
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180202/47379a4a/attachment.html>

From pascal.kiwitz at outlook.com  Thu Feb  8 12:36:58 2018
From: pascal.kiwitz at outlook.com (Pascal Kiwitz)
Date: Thu, 8 Feb 2018 11:36:58 +0000
Subject: [tex-live] TeXLive behind proxy
Message-ID: <AM5PR1001MB0963429BA4DDC7444A3BBD5CECF30@AM5PR1001MB0963.EURPRD10.PROD.OUTLOOK.COM>

Dear all

How to properly use TeXLive behind a proxy?


I worked with TeXLive for many years and I'm introducing TeXLive in my new company. The company is using a proxy server.


I was able to install the TeXLive by adding the following lines of code to the install-tl-advanced.bat:

set http_proxy=http://10.2.7.11:8080

set https_proxy=http://10.2.7.11:8080


Unfortunately, I did not find a solution for using a proxy with the TeX Live Manager 2017. Neither for the LWP nor for the wget connection.


Could you tell where I have to add my proxy settings?

Would it be possible to include that as a setting in TeX Live Manager for a future release?


Thank you and best regards,


Dr. Pascal Kiwitz

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180208/70a83097/attachment.html>

From zdenek.wagner at gmail.com  Thu Feb  8 15:02:30 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 8 Feb 2018 15:02:30 +0100
Subject: [tex-live] TeXLive behind proxy
In-Reply-To: <AM5PR1001MB0963429BA4DDC7444A3BBD5CECF30@AM5PR1001MB0963.EURPRD10.PROD.OUTLOOK.COM>
References: <AM5PR1001MB0963429BA4DDC7444A3BBD5CECF30@AM5PR1001MB0963.EURPRD10.PROD.OUTLOOK.COM>
Message-ID: <CAC1phyY+S=K81OZKSfS-wqE0F-00DfO=rb1k+0AVqSSKa=Sh3w@mail.gmail.com>

It should be sufficient to open Control Panel / System, find Environment
variables and create new variables http_proxy and https_proxy with the
contents as you gave. I now sit at a Linux computer which does not have
Windows in a VM, so I cannot be more specific but if I remember it well,
setting of environment variables appears below Advanced.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-02-08 12:36 GMT+01:00 Pascal Kiwitz <pascal.kiwitz at outlook.com>:

> Dear all
>
> *How to properly use TeXLive behind a proxy?*
>
>
> I worked with TeXLive for many years and I'm introducing TeXLive in my new
> company. The company is using a proxy server.
>
>
> I was able to install the TeXLive by adding the following lines of code to
> the install-tl-advanced.bat:
>
> set http_proxy=http://10.2.7.11:8080
>
> set https_proxy=http://10.2.7.11:8080
>
>
> Unfortunately, I did not find a solution for using a proxy with the TeX
> Live Manager 2017. Neither for the LWP nor for the wget connection.
>
>
> Could you tell where I have to add my proxy settings?
>
> Would it be possible to include that as a setting in TeX Live Manager for
> a future release?
>
>
> Thank you and best regards,
>
>
> Dr. Pascal Kiwitz
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180208/673efbf5/attachment.html>

From David.Martens at wits.ac.za  Thu Feb  8 16:38:30 2018
From: David.Martens at wits.ac.za (David Martens)
Date: Thu, 8 Feb 2018 15:38:30 +0000
Subject: [tex-live] TeXLive behind proxy
In-Reply-To: <CAC1phyY+S=K81OZKSfS-wqE0F-00DfO=rb1k+0AVqSSKa=Sh3w@mail.gmail.com>
References: <AM5PR1001MB0963429BA4DDC7444A3BBD5CECF30@AM5PR1001MB0963.EURPRD10.PROD.OUTLOOK.COM>
 <CAC1phyY+S=K81OZKSfS-wqE0F-00DfO=rb1k+0AVqSSKa=Sh3w@mail.gmail.com>
Message-ID: <C4C90C89F79E4E47A26F25C761E164F5977F37A3@Elpis.ds.WITS.AC.ZA>

As an alternative to setting the environment variables, wget can be directly instructed to use a proxy. On my Linux laptop, it is sufficient for tlmgr that proxy has been set for wget in /etc/wgetrc . For setting up wgetrc in Windows, Google finds detailed instructions at, e.g., http://www.whitehats.ca/main/members/Malik/malik_wget_win/malik_wget_win.html . Relevant lines in wgetrc will look something like these.

# You can set the default proxies for Wget to use for http, https, and ftp.
# They will override the value in the environment.
https_proxy = http://1.2.3.4:8080/
http_proxy = http://1.2.3.4:8080/
ftp_proxy = http://proxy.yoyodyne.com:18023/
no_proxy = localhost, 127.0.0.1
proxy_user = domain\user
proxy_password = password

# If you do not want to use proxy at all, set this to off.
use_proxy = on

-----------------------------------------

From: tex-live [mailto:tex-live-bounces at tug.org] On Behalf Of Zdenek Wagner
Sent: Thursday, February 08, 2018 4:03 PM
To: Pascal Kiwitz
Cc: tex-live at tug.org
Subject: Re: [tex-live] TeXLive behind proxy

It should be sufficient to open Control Panel / System, find Environment variables and create new variables http_proxy and https_proxy with the contents as you gave. I now sit at a Linux computer which does not have Windows in a VM, so I cannot be more specific but if I remember it well, setting of environment variables appears below Advanced.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-02-08 12:36 GMT+01:00 Pascal Kiwitz <pascal.kiwitz at outlook.com>:
Dear all

How to properly?use TeXLive behind a proxy?

I worked with TeXLive for many years and I'm introducing TeXLive in my new company. The company is using a proxy server.

I was able to install the TeXLive by adding the following lines of code to the install-tl-advanced.bat:
set http_proxy=http://10.2.7.11:8080
set https_proxy=http://10.2.7.11:8080

Unfortunately, I did not find a solution for using a proxy with the TeX Live Manager 2017. Neither for the LWP nor for the wget connection.

Could you tell where I have to add my proxy settings?
Would it be possible to include that as?a setting in TeX Live Manager for a future release?

Thank you and best regards,

Dr. Pascal Kiwitz



<table width="100%" border="0" cellspacing="0" cellpadding="0" style="width:100%;"> 
<tr>
<td align="left" style="text-align:justify;"><font face="arial,sans-serif" size="1" color="#999999"><span style="font-size:11px;">This communication is intended for the addressee only. It is confidential. If you have received this communication in error, please notify us immediately and destroy the original message. You may not copy or disseminate this communication without the permission of the University. Only authorised signatories are competent to enter into agreements on behalf of the University and recipients are thus advised that the content of this message may not be legally binding on the University and may contain the personal views and opinions of the author, which are not necessarily the views and opinions of The University of the Witwatersrand, Johannesburg. All agreements between the University and outsiders are subject to South African Law unless the University agrees in writing to the contrary. </span></font></td>
</tr>
</table


From pascal.kiwitz at outlook.com  Fri Feb  9 07:35:55 2018
From: pascal.kiwitz at outlook.com (Pascal Kiwitz)
Date: Fri, 9 Feb 2018 06:35:55 +0000
Subject: [tex-live] TeXLive behind proxy
In-Reply-To: <CAC1phyY+S=K81OZKSfS-wqE0F-00DfO=rb1k+0AVqSSKa=Sh3w@mail.gmail.com>
References: <AM5PR1001MB0963429BA4DDC7444A3BBD5CECF30@AM5PR1001MB0963.EURPRD10.PROD.OUTLOOK.COM>,
 <CAC1phyY+S=K81OZKSfS-wqE0F-00DfO=rb1k+0AVqSSKa=Sh3w@mail.gmail.com>
Message-ID: <AM5PR1001MB09632BF560936EFFCF75E499ECF20@AM5PR1001MB0963.EURPRD10.PROD.OUTLOOK.COM>

Dear Mr. Wagner

Thank you very much for this hint it worked perfectly.
I've spent so many hours in trying to solve this and the final solutions is so easy...

Thanks, Pascal
________________________________
From: Zdenek Wagner <zdenek.wagner at gmail.com>
Sent: 08 February 2018 14:02
To: Pascal Kiwitz
Cc: tex-live at tug.org
Subject: Re: [tex-live] TeXLive behind proxy

It should be sufficient to open Control Panel / System, find Environment variables and create new variables http_proxy and https_proxy with the contents as you gave. I now sit at a Linux computer which does not have Windows in a VM, so I cannot be more specific but if I remember it well, setting of environment variables appears below Advanced.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-02-08 12:36 GMT+01:00 Pascal Kiwitz <pascal.kiwitz at outlook.com<mailto:pascal.kiwitz at outlook.com>>:
Dear all

How to properly use TeXLive behind a proxy?


I worked with TeXLive for many years and I'm introducing TeXLive in my new company. The company is using a proxy server.


I was able to install the TeXLive by adding the following lines of code to the install-tl-advanced.bat:

set http_proxy=http://10.2.7.11:8080

set https_proxy=http://10.2.7.11:8080<http://10.2.7.11:8080>


Unfortunately, I did not find a solution for using a proxy with the TeX Live Manager 2017. Neither for the LWP nor for the wget connection.


Could you tell where I have to add my proxy settings?

Would it be possible to include that as a setting in TeX Live Manager for a future release?


Thank you and best regards,


Dr. Pascal Kiwitz


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180209/afdb5527/attachment-0001.html>

From cursus.publicus at sacrumromanumimperium.org  Sat Feb 10 14:12:08 2018
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sat, 10 Feb 2018 14:12:08 +0100
Subject: [tex-live] =?utf-8?q?Fehler=3A_Texlive_2017=2E_pdflatex_=22h?=
 =?utf-8?q?=C3=A4ngt=22_beim_Satz_mit?=
In-Reply-To: <1518267800.14303.11.camel@gmx.de>
References: <1518263068.14303.8.camel@gmx.de>
 <0EC37B3B-1F8A-400D-80DD-0901AE57B6E6@uni-greifswald.de>
 <1518267800.14303.11.camel@gmx.de>
Message-ID: <3b6989b4-2ff0-7bb3-6a44-9c06ab93177a@sacrumromanumimperium.org>

Lieber Uli,

Ulrich Voosholz schrieb am 2018-02-10 um 14:03:
> Danke Christoph!
> 
> Ja, das war aber nur ein Fehler bei der ?bertragung in die Mail.
> 
> Auch?
> ===================================
> \documentclass{article}
> \usepackage{guitarchordschemes}
> \begin{document}
> Hello world!
> \end{document}
> ===================================
> l?uft leider nicht.

Dein Dokument wird bei mir (Win7, TeXLive2017) fehlerfrei ?bersetzt.

Falls gew?nscht, log-Datei als PM.

lg
Andreas

From christian.stadelmann at mailbox.org  Sat Feb 10 12:05:00 2018
From: christian.stadelmann at mailbox.org (Christian Stadelmann)
Date: Sat, 10 Feb 2018 12:05:00 +0100
Subject: [tex-live] biber (2.6) and biblatex (3.10) incompatible
Message-ID: <1518260700.13789.10.camel@mailbox.org>

Dear all,

currently, when installing texlive through tlmgr, it will install biber
2.6 and biblatex 3.10, which are incompatible. As a result, any run of
biber will fail, rendering it useless:

INFO - This is Biber 2.6
INFO - Logfile is 'outdir/Thesis.blg'
INFO - Reading 'outdir/Thesis.bcf'
ERROR - Error: Found biblatex control file version 3.4, expected
version 3.2.
This means that your biber (2.6) and biblatex (3.10) versions are
incompatible.
See compat matrix in biblatex or biber PDF documentation.
INFO - ERRORS: 1

This issue has been raised before (in November 2017, see [1]). At that
time, there were issues with biber/biblatex, which resulted in an
update being redrawn. These bugs are now fixed, as the MiKTeX builds
work fine.

There was an issue with tex4ht (in the same thread), but I am not sure
it is fixed. There was no update to tex4ht at least. On the other hand,
tex4ht hasn't seen an update for years and the base has moved a bit.
From a web search it seems like there are several fixups needed to make
tex4ht work with modern tex packages anyway, so I doubt this can be
fixed from the texlive side.

Are there any plans to update biber to a version compatible with
biblatex?

[1] https://tug.org/pipermail/tex-live/2017-November/040776.html


-- 
Regards
Chris
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 1528 bytes
Desc: This is a digitally signed message part
URL: <http://tug.org/pipermail/tex-live/attachments/20180210/2d6e3982/attachment.sig>

From christian.stadelmann at mailbox.org  Sat Feb 10 12:33:56 2018
From: christian.stadelmann at mailbox.org (Christian Stadelmann)
Date: Sat, 10 Feb 2018 12:33:56 +0100
Subject: [tex-live] biber (2.6) and biblatex (3.10) incompatible
In-Reply-To: <1518260700.13789.10.camel@mailbox.org>
References: <1518260700.13789.10.camel@mailbox.org>
Message-ID: <1518262436.13789.14.camel@mailbox.org>

I'm sorry for the noise. I got my Fedora TexLive installation (shipping
biber 2.6) and the texlive 2017 installation (with biblatex 3.10) mixed
up. After installing biber from tlmgr, everything works fine.

-- 
Regards
Chris
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 1528 bytes
Desc: This is a digitally signed message part
URL: <http://tug.org/pipermail/tex-live/attachments/20180210/a79abbf2/attachment.sig>

From joseph.wright at morningstar2.co.uk  Sat Feb 10 15:10:01 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sat, 10 Feb 2018 14:10:01 +0000
Subject: [tex-live] biber (2.6) and biblatex (3.10) incompatible
In-Reply-To: <1518260700.13789.10.camel@mailbox.org>
References: <1518260700.13789.10.camel@mailbox.org>
Message-ID: <41c7276e-dbf4-1fe8-5718-8265ffdbbe88@morningstar2.co.uk>

On 10/02/2018 11:05, Christian Stadelmann wrote:
> Dear all,
> 
> currently, when installing texlive through tlmgr, it will install biber
> 2.6 and biblatex 3.10, which are incompatible. As a result, any run of
> biber will fail, rendering it useless:
> 
> INFO - This is Biber 2.6
> INFO - Logfile is 'outdir/Thesis.blg'
> INFO - Reading 'outdir/Thesis.bcf'
> ERROR - Error: Found biblatex control file version 3.4, expected
> version 3.2.
> This means that your biber (2.6) and biblatex (3.10) versions are
> incompatible.
> See compat matrix in biblatex or biber PDF documentation.
> INFO - ERRORS: 1
> 
> This issue has been raised before (in November 2017, see [1]). At that
> time, there were issues with biber/biblatex, which resulted in an
> update being redrawn. These bugs are now fixed, as the MiKTeX builds
> work fine.
> 
> There was an issue with tex4ht (in the same thread), but I am not sure
> it is fixed. There was no update to tex4ht at least. On the other hand,
> tex4ht hasn't seen an update for years and the base has moved a bit.
>  From a web search it seems like there are several fixups needed to make
> tex4ht work with modern tex packages anyway, so I doubt this can be
> fixed from the texlive side.
> 
> Are there any plans to update biber to a version compatible with
> biblatex?
> 
> [1] https://tug.org/pipermail/tex-live/2017-November/040776.html

Something must be up with the server you are using: my TeX Live system 
has Biber 2.10 as expected.

Joseph


From karl at freefriends.org  Sat Feb 10 23:28:36 2018
From: karl at freefriends.org (Karl Berry)
Date: Sat, 10 Feb 2018 22:28:36 GMT
Subject: [tex-live] biber (2.6) and biblatex (3.10) incompatible
In-Reply-To: <1518260700.13789.10.camel@mailbox.org>
Message-ID: <201802102228.w1AMSaGU011055@freefriends.org>

Regarding tex4ht: I push all fixes we make in the tex4ht repository to
TeX Live; the latest was a few days ago. Michal Hoftich has been
regularly responding to bug reports in tex4ht, for which I am greatly
thankful. -k

From mail at rene-schwarz.com  Sun Feb 11 19:12:29 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Sun, 11 Feb 2018 19:12:29 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
Message-ID: <c94d26ec-81ca-aecf-4f31-e79b0ee228b2@rene-schwarz.com>

Hi,


I am currently trying to set up an own TeX Live package repository for
the distribution of some packages not available in the standard
repository. For this purpose, I have read the tutorial available in the
TeX Live Subversion repository at

	</trunk/Master/tlpkg/doc/repository-setup.txt>

in r22216. I noticed that the information in section 4 seems outdated
w.r.t. the options for `tl-update-tlpdb' presented there. The script
living at

	</trunk/Master/tlpkg/bin/tl-update-tlpdb>

in most recent r45618 does not contain the optional parameters
`-tlpdb-options-from-tlpsrc', `-with-win-pattern-warning', and
`-no-revision-check' anymore. As far as I can see,
`-with-win-pattern-warning' has been renamed to
`-with-w32-pattern-warning' and `-no-revision-check' to
`-no-reverse-revision-check', both with r15651. The
`-tlpdb-options-from-tlpsrc' option was introduced with r18296 and has
been removed completely with r45618.

In addition to that, I am facing problems with understanding section 6
of the document. I prepared a directory (``ROOT'') with the following
layout:

    [ROOT]/
        archive
        texmf-dist
        tlpkg
            bin
            TeXLive
            tlpsrc
                00texlive.autopatterns.tlpsrc
                00texlive.config.tlpsrc
                00texlive.installation.tlpsrc
                [PACKAGE_NAME].tlpsrc
            texlive.tlpdb

The folder `texmf-dist' contains files for an example package in TDS
layout. After running `perl [ROOT]/tlpkg/bin/tl-update-tlpdb
--from-files', the `[ROOT]/tlpkg/texlive.tlpdb' file is being created.
However, I receive the following message during this run:

	Cannot determine type of tlpdb from [ROOT]!

A subsequent run of `tl-update-containers' always leads to the following
error:

	Cannot determine type of tlpdb from [ROOT]!
	cannot find tlpdb in [ROOT] at [ROOT]/tlpkg/bin/tl-update-containers
line 75.

I am stuck here. Certainly I am doing something wrong, but I was not
able to figure out why the type of the tlpdb could not be determined.
Any help is appreciated. Thank you very much in advance!

P.S.: I am not a subscriber of the list; replies with my e-mail address
in CC would be nice.
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
https://www.rene-schwarz.com



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180211/181740dc/attachment.sig>

From preining at logic.at  Mon Feb 12 00:55:10 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 12 Feb 2018 08:55:10 +0900
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <c94d26ec-81ca-aecf-4f31-e79b0ee228b2@rene-schwarz.com>
References: <c94d26ec-81ca-aecf-4f31-e79b0ee228b2@rene-schwarz.com>
Message-ID: <20180211235510.GB4576@bulldog.preining.info>

Hi Ren?

> in r22216. I noticed that the information in section 4 seems outdated

That could easily be, I haven't updated it in ages.

I will update it to a better layout, since I am using it anyway in so
many projects.

> 	Cannot determine type of tlpdb from [ROOT]!

mkdir texmf-dist/web2c/
touch texmf-dist/web2c/.dont-delete-this-dir (or anything else)

The current code determines the type of archive (.tar.xz, or files)
automatically and just bumps out because it cannot find the
texmf-dist/web2c.

Here is parts of my deployment script I use for some repos:

TLCHECKOUT=${TLCHECKOUT:-/home/norbert/Development/TeX/texlive.git}
TLNETDEST=${TLNETDEST:-/home/norbert/Domains/server/texlive.info/contrib/2017}
TLCATALOGUE=${TLCATALOGUE:-/home/norbert/Development/TeX/texcatalogue-svn}
# update tlpdb
$TLCHECKOUT/Master/tlpkg/bin/tl-update-tlpdb \
      -with-w32-pattern-warning -from-git \
      --catalogue=$TLCATALOGUE        \
      --master=`pwd`
# update containers
$TLCHECKOUT/Master/tlpkg/bin/tl-update-containers \
      -master `pwd` \
      -location $TLNETDEST    \
      -gpgcmd `pwd`/tl-sign-file \
      -all # sometimes we need -recreate

Note that I am running from git - git mode is supported since some time.
The private signing file is a simple adaption of the one in the repo
using my private signing key. I need to factor out the arguments there:

if test $# -ne 1; then
  echo "$0: Exactly one argument must be given, the file to sign." >&2
  exit 1
fi

# remove previous signature
rm -f "$1.asc"

prg=gpg
if ! [ "x$TL_GNUPG" = "x" ] ; then
  # use the environment variable TL_GNUPG
  prg=$TL_GNUPG
fi

# sign
$prg --armor \
    --detach-sign \
    --local-user 0xEC00B8DAD32266AA \
    "$1"


All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Mon Feb 12 01:04:11 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 12 Feb 2018 00:04:11 GMT
Subject: [tex-live] behaviour of kpsewhich on case-insensitive mac system
In-Reply-To: <CAKTOP459q+pc9c2WbtE4T2TDOzmaa2_+55nGNzRt_MsQBBQ6wg@mail.gmail.com>
Message-ID: <201802120004.w1C04BtM009808@freefriends.org>

    Date: Mon, 18 Sep 2017 13:52:40 -0300
    From: "George N. White III" <gnwiii at gmail.com>
    [...]
    kpsewhich --ignore-case eXample-ImaGe-A.pdf
    /usr/local/texlive/2017/texmf-dist/tex/latex/mwe/example-image-a.pdf

I didn't implement exactly that, but I did implement a subcase for 2018:
a case-insensitive fallback match in directories that are searched
explicitly (not texmf-dist or texmf-local).  What I've observed in
practice is that the mixed-case errors are nearly all with user-created
files (.tex files and images), not system directories.(*)

Thus, on a case-sensitive (not Windows, not current Mac) (file)system,
if we have a ./foo.tex,
kpsewhich --casefold-search Foo.tex  # or \input Foo
will return ./foo.tex, whereas before it would fail.

On the other hand, if we have both ./Foo.tex and ./foo.tex,
then \input Foo will still return Foo.tex, as it always has.

There are other shadowy cases where something different can be returned
now than before, but I hope they will not matter in practice. I wrote a
new section in the kpathsea manual full of details.

The feature is controlled by a variable in texmf.cnf, namely
texmf_casefold_search, which is on by default, and can be overridden in
all the usual ways.

The whole thing has zero effect on Windows; the code is not even
compiled.

We'll see how it goes when the pretest starts I guess ... --best, karl.

(*) I did not want to double my time and effort merely for the mwe
package, which was the occasion of the original report in this thread;
it seems to me that people using the mwe package should also be capable
of making the effort to get the case right.

From karl at freefriends.org  Mon Feb 12 01:05:45 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 11 Feb 2018 17:05:45 -0700
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <20180211235510.GB4576@bulldog.preining.info> (message from
 Norbert Preining on Mon, 12 Feb 2018 08:55:10 +0900)
Message-ID: <861shrvzqe.fsf@frenzy.freefriends.org>

    if ! [ "x$TL_GNUPG" = "x" ] ; then

test ! ... is more portable than ! [ ...
(on two counts). Not that it's likely to matter. -k

    $prg --armor \

"$prg"
(ditto)

From dbitouze at wanadoo.fr  Mon Feb 12 07:53:53 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Mon, 12 Feb 2018 07:53:53 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
Message-ID: <87zi4ek8am.fsf@example.com>

Hi,

I still have troubles when trying to reach some pages of texlive
site. I can always reach:
  ?????
  ? http://www.tug.org/svn/texlive/trunk/Master/
  ?????
but, most of the times, not for example:

  ?????
  ? $ wget https://www.tug.org/texlive/lists.html
  ? --2018-02-12 07:35:05--  https://www.tug.org/texlive/lists.html
  ? Resolving www.tug.org? 91.121.174.77
  ? Connecting to www.tug.org|91.121.174.77|:443? failed: Connection refused
  ?????
or
  ?????
  ? $ wget http://www.tug.org/svn/texlive\?view\=revision\&revision\=46603
  ? --2018-02-12 07:42:45--  http://www.tug.org/svn/texlive?view=revision&revision=46603
  ? Resolving www.tug.org? 91.121.174.77
  ? Connecting to www.tug.org|91.121.174.77|:80? failed: Connection refused
  ?????

Sometimes, I can temporarily reach pages such as
  ?????
  ? http://www.tug.org/svn/texlive?view=revision&revision=46603
  ?????
 but not:
  ?????
  ? http://www.tug.org/svn/texlive/trunk/Master/texmf-dist/tex/generic/tex4ht/tex4ht.sty?r1=46603&r2=46602&pathrev=46603
  ?????

Very frustrating indeed...
-- 
Denis


From preining at logic.at  Mon Feb 12 08:32:28 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 12 Feb 2018 16:32:28 +0900
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <87zi4ek8am.fsf@example.com>
References: <87zi4ek8am.fsf@example.com>
Message-ID: <20180212073228.GA32025@burischnitzel.preining.info>

> Sometimes, I can temporarily reach pages such as

There is a block installed on tug that should catch robots. If you are
hitting to hard and quickly on the server/svn space, you will be blocked
for some time.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From dbitouze at wanadoo.fr  Mon Feb 12 08:42:20 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Mon, 12 Feb 2018 08:42:20 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
In-Reply-To: <20180212073228.GA32025@burischnitzel.preining.info> (Norbert
 Preining's message of "Mon, 12 Feb 2018 16:32:28 +0900")
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
Message-ID: <87vaf2k61v.fsf@example.com>

Le 12/02/18 ? 16h32, Norbert Preining a ?crit :

>> Sometimes, I can temporarily reach pages such as
>
> There is a block installed on tug that should catch robots. If you are
> hitting to hard and quickly on the server/svn space, you will be
> blocked for some time.

Well, my excursion:

1. http://www.tug.org/svn/texlive/trunk/Master/                (okay)
2. http://www.tug.org/svn/texlive/trunk/Master/?pathrev=46602  (okay)
3. http://www.tug.org/svn/texlive?view=revision&revision=46602 (blocked)

is made at a reasonable, normal, speed.

Isn't the block installed too sensitive? Maybe the allowed delay between
two clicks could be relaxed a bit...
-- 
Denis


From preining at logic.at  Mon Feb 12 08:53:55 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 12 Feb 2018 16:53:55 +0900
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <87vaf2k61v.fsf@example.com>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
Message-ID: <20180212075355.GC32025@burischnitzel.preining.info>

> is made at a reasonable, normal, speed.

Then it should work. I got hit by clicking through the svn several
times, but then we lowered the bar and it should be fine now, especially
when you only hit three locations.

Karl should check the web server log ...

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From dbitouze at wanadoo.fr  Mon Feb 12 08:56:11 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Mon, 12 Feb 2018 08:56:11 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
In-Reply-To: <20180212075355.GC32025@burischnitzel.preining.info> (Norbert
 Preining's message of "Mon, 12 Feb 2018 16:53:55 +0900")
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
 <20180212075355.GC32025@burischnitzel.preining.info>
Message-ID: <87o9kuk5es.fsf@example.com>

Le 12/02/18 ? 16h53, Norbert Preining a ?crit :

>> is made at a reasonable, normal, speed.
>
> Then it should work. I got hit by clicking through the svn several
> times, but then we lowered the bar and it should be fine now, especially
> when you only hit three locations.

Sigh... This time I even cannot reach:

  ?????
  ? http://www.tug.org/svn/texlive/trunk/Master/
  ?????

> Karl should check the web server log ...

Yes, please.
-- 
Denis


From mojca.miklavec.lists at gmail.com  Mon Feb 12 10:01:24 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 12 Feb 2018 10:01:24 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <20180212075355.GC32025@burischnitzel.preining.info>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
 <20180212075355.GC32025@burischnitzel.preining.info>
Message-ID: <CALBOmsaDPKST4NBoX-85KBSE4vEiimPvB9fiKSeQ-30u1x14eQ@mail.gmail.com>

On 12 February 2018 at 08:53, Norbert Preining wrote:
>> is made at a reasonable, normal, speed.
>
> Then it should work. I got hit by clicking through the svn several
> times, but then we lowered the bar and it should be fine now, especially
> when you only hit three locations.
>
> Karl should check the web server log ...

I cannot recall the time, but I was also blacklisted recently after
merely browsing the subversion repository with what I consider pretty
normal speed (and I'm more on the slow spectrum compared to other
human beings :).

(Given the super lengthy paths in TeX Live, it's relatively easy to
click 10 times just to get to the desired folder, so I won't claim
that I only clicked three times.)

Pretty annoying in addition to the fact that some folders have
additional problems with too many subfolders and are somewhat
problematic to browse, and that some files are blacklisted for viewing
anyway ... but I'll probably start using your (Norbert's) git
repository once I get annoyed enough :)

Mojca

From preining at logic.at  Mon Feb 12 10:29:21 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 12 Feb 2018 18:29:21 +0900
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <CALBOmsaDPKST4NBoX-85KBSE4vEiimPvB9fiKSeQ-30u1x14eQ@mail.gmail.com>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
 <20180212075355.GC32025@burischnitzel.preining.info>
 <CALBOmsaDPKST4NBoX-85KBSE4vEiimPvB9fiKSeQ-30u1x14eQ@mail.gmail.com>
Message-ID: <20180212092921.GD2500@burischnitzel.preining.info>

On Mon, 12 Feb 2018, Mojca Miklavec wrote:
> problematic to browse, and that some files are blacklisted for viewing

https://git.texlive.info/texlive/tree

very fast ;-)

But I will probably move to gitea at some point (lightweight gitlab).

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Mon Feb 12 10:49:59 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Mon, 12 Feb 2018 09:49:59 +0000
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <87zi4ek8am.fsf@example.com>
References: <87zi4ek8am.fsf@example.com>
Message-ID: <c5c69d15-1f19-9c68-7180-9cce8f0360ac@Rhul.Ac.Uk>



Denis Bitouz? wrote:
> Hi,
>
> I still have troubles when trying to reach some pages of texlive
> site. most of the times, not for example:
>
>    ?????
>    ? $ wget https://www.tug.org/texlive/lists.html
 From Roche (Cornwall) :

> P:\>wget https://www.tug.org/texlive/lists.html
> SYSTEM_WGETRC = c:/progra~1/wget/etc/wgetrc
> syswgetrc = C:\Program Files (x86)\GnuWin32/etc/wgetrc
> --2018-02-12 09:48:49--? https://www.tug.org/texlive/lists.html
> Resolving www.tug.org... 91.121.174.77
> Connecting to www.tug.org|91.121.174.77|:443... connected.
> ERROR: cannot verify www.tug.org's certificate, issued by 
> `/C=US/O=DigiCert Inc/
> OU=www.digicert.com/CN=RapidSSL RSA CA 2018':
> ? Unable to locally verify the issuer's authority.
> To connect to www.tug.org insecurely, use `--no-check-certificate'.
> Unable to establish SSL connection.

Philip Taylor


From zdenek.wagner at gmail.com  Mon Feb 12 11:05:01 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 12 Feb 2018 11:05:01 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <c5c69d15-1f19-9c68-7180-9cce8f0360ac@Rhul.Ac.Uk>
References: <87zi4ek8am.fsf@example.com>
 <c5c69d15-1f19-9c68-7180-9cce8f0360ac@Rhul.Ac.Uk>
Message-ID: <CAC1phybqzDuC=is=PcMbFUWyvckfuCDFA0W2oHJhBnGMgYxYHg@mail.gmail.com>

It seems that wget for Windows does not search the system area for the SSL
certificates. DigiCert is certainly trusted for Windows browsers.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-02-12 10:49 GMT+01:00 Philip Taylor (RHUoL) <P.Taylor at rhul.ac.uk>:

>
>
> Denis Bitouz? wrote:
>
>> Hi,
>>
>> I still have troubles when trying to reach some pages of texlive
>> site. most of the times, not for example:
>>
>>    ?????
>>    ? $ wget https://www.tug.org/texlive/lists.html
>>
> From Roche (Cornwall) :
>
> P:\>wget https://www.tug.org/texlive/lists.html
>> SYSTEM_WGETRC = c:/progra~1/wget/etc/wgetrc
>> syswgetrc = C:\Program Files (x86)\GnuWin32/etc/wgetrc
>> --2018-02-12 09:48:49--  https://www.tug.org/texlive/lists.html
>> Resolving www.tug.org... 91.121.174.77
>> Connecting to www.tug.org|91.121.174.77|:443... connected.
>> ERROR: cannot verify www.tug.org's certificate, issued by
>> `/C=US/O=DigiCert Inc/
>> OU=www.digicert.com/CN=RapidSSL RSA CA 2018':
>>   Unable to locally verify the issuer's authority.
>> To connect to www.tug.org insecurely, use `--no-check-certificate'.
>> Unable to establish SSL connection.
>>
>
> Philip Taylor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180212/7b55fa26/attachment.html>

From enrico.gregorio at gmail.com  Mon Feb 12 11:26:57 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Mon, 12 Feb 2018 11:26:57 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <87vaf2k61v.fsf@example.com>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
Message-ID: <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com>


> On 12 Feb 2018, at 08:42 , Denis Bitouz? <dbitouze at wanadoo.fr> wrote:
> 
> Le 12/02/18 ? 16h32, Norbert Preining a ?crit :
> 
>>> Sometimes, I can temporarily reach pages such as
>> 
>> There is a block installed on tug that should catch robots. If you are
>> hitting to hard and quickly on the server/svn space, you will be
>> blocked for some time.
> 
> Well, my excursion:
> 
> 1. http://www.tug.org/svn/texlive/trunk/Master/                (okay)
> 2. http://www.tug.org/svn/texlive/trunk/Master/?pathrev=46602  (okay)
> 3. http://www.tug.org/svn/texlive?view=revision&revision=46602 (blocked)
> 
> is made at a reasonable, normal, speed.
> 
> Isn't the block installed too sensitive? Maybe the allowed delay between
> two clicks could be relaxed a bit...
> -- 
> Denis

Happens regularly also to me. Waiting between one click and the next is
irrelevant: at the third link, access is blocked.

Ciao
Enrico

From dbitouze at wanadoo.fr  Mon Feb 12 11:42:16 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Mon, 12 Feb 2018 11:42:16 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
In-Reply-To: <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com> (Enrico
 Gregorio's message of "Mon, 12 Feb 2018 11:26:57 +0100")
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
 <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com>
Message-ID: <877erijxpz.fsf@example.com>

Le 12/02/18 ? 11h26, Enrico Gregorio a ?crit :

> Happens regularly also to me. Waiting between one click and the next is
> irrelevant: at the third link, access is blocked.

Nice to not be the only one with this problem :)

Ciao.
-- 
Denis


From siepo at cybercomm.nl  Mon Feb 12 13:18:43 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 12 Feb 2018 13:18:43 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <877erijxpz.fsf@example.com>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
 <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com>
 <877erijxpz.fsf@example.com>
Message-ID: <20180212121842.u46uubudnbgui6jn@bitmuis.thuis.internal>

On Mon, Feb 12, 2018 at 11:42:16AM +0100, Denis Bitouz? wrote:
> Le 12/02/18 ? 11h26, Enrico Gregorio a ?crit :
> 
> > Happens regularly also to me. Waiting between one click and the next is
> > irrelevant: at the third link, access is blocked.
> 
> Nice to not be the only one with this problem :)

And thank you for bringing it up.

-- 
Siep Kroonenberg

From dbitouze at wanadoo.fr  Mon Feb 12 13:52:57 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Mon, 12 Feb 2018 13:52:57 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
In-Reply-To: <20180212121842.u46uubudnbgui6jn@bitmuis.thuis.internal> (Siep
 Kroonenberg's message of "Mon, 12 Feb 2018 13:18:43 +0100")
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com>
 <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com>
 <877erijxpz.fsf@example.com>
 <20180212121842.u46uubudnbgui6jn@bitmuis.thuis.internal>
Message-ID: <87vaf2id3q.fsf@example.com>

Le 12/02/18 ? 13h18, Siep Kroonenberg a ?crit :

> On Mon, Feb 12, 2018 at 11:42:16AM +0100, Denis Bitouz? wrote:
>> Le 12/02/18 ? 11h26, Enrico Gregorio a ?crit :
>> 
>> > Happens regularly also to me. Waiting between one click and the next is
>> > irrelevant: at the third link, access is blocked.
>> 
>> Nice to not be the only one with this problem :)
>
> And thank you for bringing it up.

You're welcome :)
-- 
Denis


From enrico.gregorio at gmail.com  Mon Feb 12 15:35:28 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Mon, 12 Feb 2018 15:35:28 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com> <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com>
Message-ID: <A3F4600A-3EC3-4F39-BB78-4AA9A913A0BA@gmail.com>


An experiment.

1. Went to the ?home page? http://tug.org/svn/texlive/trunk/Master/texmf-dist/?sortby=date <http://tug.org/svn/texlive/trunk/Master/texmf-dist/?sortby=date>

2. Waited 30 seconds

3. Clicked on the number at the top left (last revision), today 46605

4. Waited 30 seconds

5. Selected a revision number pasting it into the box; used 46586; clicked on ?go?

6. Waited 30 seconds (and more)

7. Clicked on ?text changed? relative to etoolbox.sty

Access blocked. I don?t think 30 seconds is so short a time for triggering the block.
And examining what has changed on a specific day (I?m curious, you know), requires
looking at several pages.

Ciao
Enrico
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180212/bdef41cd/attachment.html>

From h.y.acetaminophen at gmail.com  Mon Feb 12 15:56:08 2018
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Mon, 12 Feb 2018 23:56:08 +0900
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
In-Reply-To: <A3F4600A-3EC3-4F39-BB78-4AA9A913A0BA@gmail.com>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <87vaf2k61v.fsf@example.com> <0AC73AAB-4713-44CD-9F64-E0A25FAD879D@gmail.com>
 <A3F4600A-3EC3-4F39-BB78-4AA9A913A0BA@gmail.com>
Message-ID: <09DDF48D-0FF3-4F41-AB3F-60E7C8011A15@gmail.com>

Hi Enrico,

I have exactly the same situation in Japan.

I remember correctly that I had no problem on 2017-12-18,
that is, the day when the following topic was raised:

> [tex-live] www.tug.org unreachable
> Denis Bitouz? dbitouze at wanadoo.fr Mon Dec 18 11:07:02 CET 2017

And I also remember correctly that I?ve been having
trouble at least since 2018-01-10. (according to my twitter)

Regards,
Hironobu




From karl at freefriends.org  Tue Feb 13 01:17:17 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 13 Feb 2018 00:17:17 GMT
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <A3F4600A-3EC3-4F39-BB78-4AA9A913A0BA@gmail.com>
Message-ID: <201802130017.w1D0HH3o006538@freefriends.org>

It seems the fail2ban rate-limiting options I put in weeks ago, after
Denis's first report, didn't actually override the defaults. Sigh. I've
simply disabled the rate limiting inside /svn/ for now, since I have no
energy to debug it.

Of course I would not have bothered to spend^Wwaste my time setting it
up in the first place if the server had not been adversely affected by
crawlers in defiance of robots.txt. Whenever I look at the logs, useless
bots are almost all I see, and the big source repository takes a lot
more resources to serve to them than anything else. Oh well, will look
at it again when I have to. -k

From reinhard.kotucha at web.de  Tue Feb 13 01:26:16 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 13 Feb 2018 01:26:16 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <20180212073228.GA32025@burischnitzel.preining.info>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
Message-ID: <23170.12456.321166.228949@gargle.gargle.HOWL>

On 2018-02-12 at 16:32:28 +0900, Norbert Preining wrote:

 > > Sometimes, I can temporarily reach pages such as
 > 
 > There is a block installed on tug that should catch robots. If you
 > are hitting to hard and quickly on the server/svn space, you will
 > be blocked for some time.

Really?

  while true; do wget https://www.tug.org/texlive/lists.html; done

works fine here and

  wget -r https://www.tug.org/texlive

too.  I don't understand why Denis can't download lists.html at all.

BTW, blocking robots reliably without bothering normal users is a very
difficult task.  It's probably better not to rely on the time between
two requests but on the number of requests within a certain amount of
time.

Wget fails when I replace "www.tug.org" with its IP number.  This is
good because most robots simply csan 


Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From reinhard.kotucha at web.de  Tue Feb 13 01:31:55 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 13 Feb 2018 01:31:55 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <23170.12456.321166.228949@gargle.gargle.HOWL>
References: <87zi4ek8am.fsf@example.com>
 <20180212073228.GA32025@burischnitzel.preining.info>
 <23170.12456.321166.228949@gargle.gargle.HOWL>
Message-ID: <23170.12795.591348.571498@gargle.gargle.HOWL>

Sorry, I sent the previous mail too early.

On 2018-02-12 at 16:32:28 +0900, Norbert Preining wrote:

 > > Sometimes, I can temporarily reach pages such as
 > 
 > There is a block installed on tug that should catch robots. If you
 > are hitting to hard and quickly on the server/svn space, you will
 > be blocked for some time.

Really?

  while true; do wget https://www.tug.org/texlive/lists.html; done

works fine here and

  wget -r https://www.tug.org/texlive

too.  I don't understand why Denis can't download lists.html at all.

BTW, blocking robots reliably without bothering normal users is a very
difficult task.  It's probably better not to rely on the time between
two requests but on the number of requests within a certain amount of
time.

Wget fails when I replace "www.tug.org" with its IP number.  This is
good because most robots simply scan IP numbers.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From list1 at michaelshell.org  Tue Feb 13 03:46:01 2018
From: list1 at michaelshell.org (Michael Shell)
Date: Mon, 12 Feb 2018 21:46:01 -0500
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <201802130017.w1D0HH3o006538@freefriends.org>
References: <A3F4600A-3EC3-4F39-BB78-4AA9A913A0BA@gmail.com>
 <201802130017.w1D0HH3o006538@freefriends.org>
Message-ID: <20180212214601.401103b1605b8421b07b0ccb@michaelshell.org>

On Tue, 13 Feb 2018 00:17:17 GMT
Karl Berry <karl at freefriends.org> wrote:

> It seems the fail2ban rate-limiting options I put in weeks ago, after
> Denis's first report, didn't actually override the defaults. Sigh. I've
> simply disabled the rate limiting inside /svn/ for now, since I have no
> energy to debug it.


>From the manpage:

https://manpages.debian.org/unstable/fail2ban/jail.conf.5.en.html

there are four different types of fail2ban configuration files. So,
it sure is easy for something to go wrong there. 

Also, the fail2ban service must be restarted (service fail2ban restart)
or "SIGHUPed" after a config file change.

It might save some trouble to just ask the fail2ban-users mailing list

https://sourceforge.net/p/fail2ban/mailman/fail2ban-users/

why a so-and-so config change is not having any effect.

Also, FWIW, there is a good fail2ban config article here:
https://www.digitalocean.com/community/tutorials/how-to-protect-ssh-with-fail2ban-on-ubuntu-14-04


  Just my $0.02,

  Mike Shell


From dbitouze at wanadoo.fr  Tue Feb 13 07:25:34 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Tue, 13 Feb 2018 07:25:34 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
In-Reply-To: <201802130017.w1D0HH3o006538@freefriends.org> (Karl Berry's
 message of "Tue, 13 Feb 2018 00:17:17 GMT")
References: <201802130017.w1D0HH3o006538@freefriends.org>
Message-ID: <87po59l82p.fsf@example.com>

Le 13/02/18 ? 00h17, Karl Berry a ?crit :

> It seems the fail2ban rate-limiting options I put in weeks ago, after
> Denis's first report, didn't actually override the
> defaults. Sigh. I've simply disabled the rate limiting inside /svn/
> for now, since I have no energy to debug it.

I can understand. Anyway, seems to work nicely this morning: thanks!

> Of course I would not have bothered to spend^Wwaste my time setting it
> up in the first place if the server had not been adversely affected by
> crawlers in defiance of robots.txt. Whenever I look at the logs,
> useless bots are almost all I see, and the big source repository takes
> a lot more resources to serve to them than anything else. Oh well,
> will look at it again when I have to. -k

I sympathize very much with you!
-- 
Denis


From mail at rene-schwarz.com  Tue Feb 13 22:09:13 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Tue, 13 Feb 2018 22:09:13 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <20180211235510.GB4576@bulldog.preining.info>
References: <20180211235510.GB4576@bulldog.preining.info>
Message-ID: <f0ae2e7d-b241-fce2-8b22-47962f02d979@rene-schwarz.com>

Hi Norbert,


thank you so much for your fast answer! Creating the `texmf-dist/web2c'
directory indeed solved the issue for me.

However, there was another issue coming up: The script

	</trunk/Master/tlpkg/installer/config.guess>

uses the Windows line ending style (`\r\n'), which causes the
`tl-update-containers` script run to fail in my environment. Since it is
a shell script, I would propose to convert the file to Unix line endings.

After changing that, I was able to create the repository as desired.
Thank you once again for your fast and competent support.


Kind regards,
Ren?
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
https://www.rene-schwarz.com



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180213/6f7767c9/attachment.sig>

From mail at rene-schwarz.com  Tue Feb 13 22:25:39 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Tue, 13 Feb 2018 22:25:39 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <20180212073228.GA32025@burischnitzel.preining.info>
References: <20180212073228.GA32025@burischnitzel.preining.info>
Message-ID: <b8a43ecc-1b58-00a9-d0c8-45f568f02a39@rene-schwarz.com>

Hi Norbert,

> There is a block installed on tug that should catch robots. If you are
> hitting to hard and quickly on the server/svn space, you will be blocked
> for some time.

I just wanna add to the discussion that I am experiencing these blocks
not only for the SVN web viewer, but for the normal TUG website, too.
After three subsequent page requests my IP is being blocked. This is
very annoying.

With changing proxy servers I am able to reach the TUG webserver.


Kind regards,
Ren?
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
https://www.rene-schwarz.com


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180213/2abf8000/attachment.sig>

From reinhard.kotucha at web.de  Wed Feb 14 00:13:43 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 14 Feb 2018 00:13:43 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <f0ae2e7d-b241-fce2-8b22-47962f02d979@rene-schwarz.com>
References: <20180211235510.GB4576@bulldog.preining.info>
 <f0ae2e7d-b241-fce2-8b22-47962f02d979@rene-schwarz.com>
Message-ID: <23171.28967.203213.91955@gargle.gargle.HOWL>

On 2018-02-13 at 22:09:13 +0100, M.Eng. Ren? Schwarz wrote:

 > However, there was another issue coming up: The script
 > 
 > 	</trunk/Master/tlpkg/installer/config.guess>
 > 
 > uses the Windows line ending style (`\r\n'), which causes the
 > `tl-update-containers` script run to fail in my environment. Since
 > it is a shell script, I would propose to convert the file to Unix
 > line endings.

Hi Ren?,
here the file /trunk/Master/tlpkg/installer/config.guess has Unix line
endings.  Please check the files

  /etc/subversion/config

and 

  ~/subversion/config

on your system.  Look for "svn:eol-style".

Karl wrote an SVN config file especially for TeX Live.  It can be
downloaded from tug.org but I'm wondering whether it makes sense to
simply add it to the TeX Live SVN repository.  It's easier to keep it
up-to-date then and SVN users don't have to fiddle with clumsy web
browsers.  Users could either copy it to ~/subversion or just create a
symlink.

I don't know whether subversion supports distinct config files for
particular projects but that would be a great thing.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From karl at freefriends.org  Wed Feb 14 00:22:44 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 13 Feb 2018 23:22:44 GMT
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <b8a43ecc-1b58-00a9-d0c8-45f568f02a39@rene-schwarz.com>
Message-ID: <201802132322.w1DNMiuU011875@freefriends.org>

    for the normal TUG website, too.

Which pages?

I recently set up rate-limiting for /mailman/ and /pipermail/ pages, and
that seemed ok with normal use in my testing. There is not and never has
been rate limiting anywhere else.

Also, the web server was up and down yesterday while I was trying out
all this insanity. -k

From karl at freefriends.org  Wed Feb 14 00:26:15 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 13 Feb 2018 23:26:15 GMT
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <b8a43ecc-1b58-00a9-d0c8-45f568f02a39@rene-schwarz.com>
Message-ID: <201802132326.w1DNQFBu012223@freefriends.org>

    for the normal TUG website, too.

Oh, I think after messing around on the mailman pages, those hits then
somehow apply to a future hit on the rest of the site. More pain. I
disabled the web rate-limiting entirely ... -k


From karl at freefriends.org  Wed Feb 14 00:28:12 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 13 Feb 2018 23:28:12 GMT
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <f0ae2e7d-b241-fce2-8b22-47962f02d979@rene-schwarz.com>
Message-ID: <201802132328.w1DNSCAE012288@freefriends.org>

            </trunk/Master/tlpkg/installer/config.guess>

If you check it out on a Windows system, then you get Windows line
endings (for other files too), due to svn:eol-style=native, but shells
on Windows should be able to deal with that. It can be changed, but it
doesn't seem like it should be necessary. What is your situation?  Sorry
if you already said. -k

From preining at logic.at  Wed Feb 14 00:35:50 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 14 Feb 2018 08:35:50 +0900
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <f0ae2e7d-b241-fce2-8b22-47962f02d979@rene-schwarz.com>
References: <20180211235510.GB4576@bulldog.preining.info>
 <f0ae2e7d-b241-fce2-8b22-47962f02d979@rene-schwarz.com>
Message-ID: <20180213233550.GA6940@burischnitzel.preining.info>

Hi Ren?

> thank you so much for your fast answer! Creating the `texmf-dist/web2c'
> directory indeed solved the issue for me.

Good to hear. I did some rework and simplification over the last two
days, please take a look at the current status of the document, too.
Thanks.

> uses the Windows line ending style (`\r\n'), which causes the

As Reinhard said, this is a setup error on your side. Please see
http://tug.org/texlive/svn/setup.html  Step 5

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Wed Feb 14 00:37:32 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 14 Feb 2018 00:37:32 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <201802132328.w1DNSCAE012288@freefriends.org>
References: <f0ae2e7d-b241-fce2-8b22-47962f02d979@rene-schwarz.com>
 <201802132328.w1DNSCAE012288@freefriends.org>
Message-ID: <CAC1phyb-ODK=H7Y56k271rFDQ=hkwsk1bbX_xaZTGobvqzFUYQ@mail.gmail.com>

Hi all,

the config file is not needed for normal users. The properties are stored
with the files in the repository and used during checkout. The config file
is used only when adding a new file to the working copy, it then gets the
properties set in the config.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-02-14 0:28 GMT+01:00 Karl Berry <karl at freefriends.org>:

>             </trunk/Master/tlpkg/installer/config.guess>
>
> If you check it out on a Windows system, then you get Windows line
> endings (for other files too), due to svn:eol-style=native, but shells
> on Windows should be able to deal with that. It can be changed, but it
> doesn't seem like it should be necessary. What is your situation?  Sorry
> if you already said. -k
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180214/4a229e00/attachment.html>

From cataclop at hotmail.com  Sat Feb 17 18:50:03 2018
From: cataclop at hotmail.com (Jacques Peron)
Date: Sat, 17 Feb 2018 18:50:03 +0100
Subject: [tex-live] lyluatex package
Message-ID: <CAEWegNG7XCjJa6fG43H_2ubP-YYS=gQYntg1ybbZ8+SmLCvKpA@mail.gmail.com>

Hello Karl and others,

I have a weird bug with lyluatex, that seems to come from kpse.
In lyluatex.sty, I call lyluatex.lua like this:

ly = require(kpse.find_file("lyluatex.lua"))

(Before, it was dofile, but the problem is the same.)

If lyluatex.lua is in the same directory as lyluatex.sty, this works; but
if (as it is by default with current integration into TeXLive) lyluatex.lua
is in texmf-dist/scripts/lyluatex/ and lyluatex.sty in
texmf-dist/tex/latex/lyluatex/lyluatex.sty, this fails (
kpse.find_file("lyluatex.lua") returns nil). What is weird is that kpsewhich
lyluatex.lua gives the expected result.

Any hint to solve it ?

Thank you !

Fr. Jacques Peron +
?



> Am 24. November 2017 07:15:38 MEZ schrieb Jacques Peron <
> cataclop at hotmail.com>:
>>
>> Thank *you* for your amazing responsiveness !
>> ?
>>
>>
>> 2017-11-23 21:41 GMT+01:00 Karl Berry <karl at freefriends.org>:
>>
>>>     Would it be possible to tell me wether something would prevent its
>>>     integration within TeXLive ?
>>>
>>> I imported it to TL yesterday and it was part of last night's build. So
>>> it's available now to anyone getting the new packages over the
>>> net. Thanks for all your work! -k
>>>
>>>
>>
> --
> Diese Nachricht wurde von meinem Android-Ger?t mit K-9 Mail gesendet.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180217/7ab81c68/attachment.html>

From d.p.carlisle at gmail.com  Sat Feb 17 21:40:11 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 17 Feb 2018 20:40:11 +0000
Subject: [tex-live] lyluatex package
In-Reply-To: <CAEWegNG7XCjJa6fG43H_2ubP-YYS=gQYntg1ybbZ8+SmLCvKpA@mail.gmail.com>
References: <CAEWegNG7XCjJa6fG43H_2ubP-YYS=gQYntg1ybbZ8+SmLCvKpA@mail.gmail.com>
Message-ID: <CAEW6iOj5y3OmdFGsUxCMOdJy297SkdMBR2v9GMJ=bOSONv-7wg@mail.gmail.com>

I get an error from

ly = require(kpse.find_file("lyluatex.lua"))


but


\directlua{ly = require("lyluatex.lua")}

works as expected  (require() in luatex uses the kpse path by default)

David

From cataclop at hotmail.com  Sat Feb 17 21:44:43 2018
From: cataclop at hotmail.com (Jacques Peron)
Date: Sat, 17 Feb 2018 21:44:43 +0100
Subject: [tex-live] lyluatex package
In-Reply-To: <CAEW6iOj5y3OmdFGsUxCMOdJy297SkdMBR2v9GMJ=bOSONv-7wg@mail.gmail.com>
References: <CAEWegNG7XCjJa6fG43H_2ubP-YYS=gQYntg1ybbZ8+SmLCvKpA@mail.gmail.com>
 <CAEW6iOj5y3OmdFGsUxCMOdJy297SkdMBR2v9GMJ=bOSONv-7wg@mail.gmail.com>
Message-ID: <CAEWegNFQD2_KMRto5=fpJyPg786EBBVu3PTw2qbaWOneYdkijA@mail.gmail.com>

Thank you very much; I wouldn't have thought about it?

2018-02-17 21:40 GMT+01:00 David Carlisle <d.p.carlisle at gmail.com>:

> I get an error from
>
> ly = require(kpse.find_file("lyluatex.lua"))
>
>
> but
>
>
> \directlua{ly = require("lyluatex.lua")}
>
> works as expected  (require() in luatex uses the kpse path by default)
>
> David
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180217/5243f204/attachment.html>

From enrico.gregorio at gmail.com  Sat Feb 17 22:22:00 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Sat, 17 Feb 2018 22:22:00 +0100
Subject: [tex-live] lyluatex package
In-Reply-To: <CAEWegNG7XCjJa6fG43H_2ubP-YYS=gQYntg1ybbZ8+SmLCvKpA@mail.gmail.com>
References: <CAEWegNG7XCjJa6fG43H_2ubP-YYS=gQYntg1ybbZ8+SmLCvKpA@mail.gmail.com>
Message-ID: <BA759B8B-DBC8-46F0-B0B7-587C64A73F48@gmail.com>


> On 17 Feb 2018, at 18:50 , Jacques Peron <cataclop at hotmail.com> wrote:
> 
> Hello Karl and others,
> 
> I have a weird bug with lyluatex, that seems to come from kpse.
> In lyluatex.sty, I call lyluatex.lua like this:
> 
> ly = require(kpse.find_file("lyluatex.lua"))
> 
> (Before, it was dofile, but the problem is the same.)
> 
> If lyluatex.lua is in the same directory as lyluatex.sty, this works; but if (as it is by default with current integration into TeXLive) lyluatex.lua is in texmf-dist/scripts/lyluatex/ and lyluatex.sty in texmf-dist/tex/latex/lyluatex/lyluatex.sty, this fails (kpse.find_file("lyluatex.lua") returns nil). What is weird is that kpsewhich lyluatex.lua gives the expected result.
> 
> Any hint to solve it ?
> 
Meanwhile, I was experimenting with the following Lua script to be run with texlua:

kpse.set_program_name("kpsewhich")
print(kpse.find_file("lyluatex.lua"))

This prints nil as you reported. On the other hand, if the script is changed into

kpse.set_program_name("kpsewhich --format=lua")
print(kpse.find_file("lyluatex.lua"))

I get (Mac OS X, TeX Live 2017, kpathsea version 6.2.3)

lstat(./kpsewhich --format=lua) failed ...
./kpsewhich --format=lua: No such file or directory
Assertion failed: (ret), function remove_dots, file ../../../texk/kpathsea/progname.c, line 316.
Abort trap: 6

which seems to be something to fix. I mean, maybe the program name is indeed invalid, but
?assertion failed? smells like bad.

Ciao
Enrico

From karl at freefriends.org  Sat Feb 17 23:51:27 2018
From: karl at freefriends.org (Karl Berry)
Date: Sat, 17 Feb 2018 22:51:27 GMT
Subject: [tex-live] lyluatex package
In-Reply-To: <BA759B8B-DBC8-46F0-B0B7-587C64A73F48@gmail.com>
Message-ID: <201802172251.w1HMpRCK013559@freefriends.org>

    Assertion failed: (ret), function remove_dots, file
    ../../../texk/kpathsea/progname.c, line 316.

Agreed it should not happen, will fix. --thanks, karl.

From kakuto at fuk.kindai.ac.jp  Sun Feb 18 00:45:24 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 18 Feb 2018 08:45:24 +0900
Subject: [tex-live] lyluatex package
In-Reply-To: <201802172251.w1HMpRCK013559@freefriends.org>
References: <201802172251.w1HMpRCK013559@freefriends.org>
Message-ID: <0E419C2E766D4898ACB6379D8E8CF988@CJ3001517A>

> If lyluatex.lua is in the same directory as lyluatex.sty,
> this works; but if (as it is by default with current integration
> into TeXLive) lyluatex.lua is in texmf-dist/scripts/lyluatex/ and
> lyluatex.sty in texmf-dist/tex/latex/lyluatex/lyluatex.sty,
> this fails (kpse.find_file("lyluatex.lua") returns nil).

kpse.set_program_name("kpsewhich")
print(kpse.find_file("lyluatex.lua"))

In this case, probably, kpse.find_file searches for TEXINPUTS.

In the next case, lyluatex.lua was found here:
kpse.set_program_name("kpsewhich")
print(kpse.find_file("lyluatex.lua", "lua"))

Best,
Akira


From mail at rene-schwarz.com  Sun Feb 18 10:59:43 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Sun, 18 Feb 2018 10:59:43 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <23171.28967.203213.91955@gargle.gargle.HOWL>
References: <23171.28967.203213.91955@gargle.gargle.HOWL>
Message-ID: <8247d643-9e5c-ba03-529f-23673a4a0bc5@rene-schwarz.com>

Hi Reinhard,


thank you for your answer!

> on your system.  Look for "svn:eol-style".

The `svn:eol-style` property is set to `native` for this file. As I am
working with a Windows SVN client, I get Windows line endings for this file.

> Karl wrote an SVN config file especially for TeX Live.  It can be
> downloaded from tug.org but I'm wondering whether it makes sense to
> simply add it to the TeX Live SVN repository.  It's easier to keep it
> up-to-date then and SVN users don't have to fiddle with clumsy web
> browsers.  Users could either copy it to ~/subversion or just create a
> symlink.

To be honest, I don't want to fiddle around with my SVN client
configuration file since changes there apply to all repositories I work
with, not only for the TeX Live one.

> I don't know whether subversion supports distinct config files for
> particular projects but that would be a great thing.

With Subversion v1.8, the `svn:auto-props` property has been introduced,
which --- according to my understanding --- allows to set all config
options in Karl's SVN config file on the root of the TeX Live SVN
repository. This way, the config options only apply to this particular
repository and the user does not have to cope with manipulating the
global SVN config file manually, which potentially introduces negative
side effects for other projects.

I would recommend considering to add this `svn:auto-props` property to
the TeX Live SVN repository root and to mark the solution with the
custom SVN config file as obsolete.


Kind regards,
Ren?
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
mail at rene-schwarz.com
https://www.rene-schwarz.com



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180218/1ef0bbdb/attachment.sig>

From mail at rene-schwarz.com  Sun Feb 18 11:05:59 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Sun, 18 Feb 2018 11:05:59 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <201802132328.w1DNSCAE012288@freefriends.org>
References: <201802132328.w1DNSCAE012288@freefriends.org>
Message-ID: <8e4bdc01-7a05-82d3-567b-284f1dd824bc@rene-schwarz.com>

Hi Karl,


> If you check it out on a Windows system, then you get Windows line
> endings (for other files too), due to svn:eol-style=native, but shells
> on Windows should be able to deal with that. It can be changed, but it
> doesn't seem like it should be necessary. What is your situation?  Sorry
> if you already said. -k

I am working with TortoiseSVN and Cygwin on Windows. Since the
`config.guess` file is a shell script --- at least to my knowledge ---
it cannot be executed natively as Windows does not provide a Bourne-like
shell. At least the shell of Cygwin cannot cope with the Windows line
endings, and also it seems strange for me that other shell
implementations for Windows would.

It would make more sense to me to set `svn:eol-style=LF` for this file.


Kind regards,
Ren?
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
mail at rene-schwarz.com
https://www.rene-schwarz.com



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180218/70a72be9/attachment.sig>

From mail at rene-schwarz.com  Sun Feb 18 11:13:20 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Sun, 18 Feb 2018 11:13:20 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <20180213233550.GA6940@burischnitzel.preining.info>
References: <20180213233550.GA6940@burischnitzel.preining.info>
Message-ID: <424075f7-fb23-63db-f287-4781c5cbf48d@rene-schwarz.com>

Hi Norbert,


> Good to hear. I did some rework and simplification over the last two
> days, please take a look at the current status of the document, too.
> Thanks.

thank you for updating the tutorial document. I think it is much clearer
now and also reflects the most recent changes in the script infrastructure.

> As Reinhard said, this is a setup error on your side. Please see
> http://tug.org/texlive/svn/setup.html  Step 5

Please see my answer to Reinhard's post.

Again, thank you so much!


Kind regards,
Ren?
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
mail at rene-schwarz.com
https://www.rene-schwarz.com



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180218/cffa716b/attachment.sig>

From mail at rene-schwarz.com  Sun Feb 18 11:16:10 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Sun, 18 Feb 2018 11:16:10 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
 tug/texlive site
In-Reply-To: <201802132326.w1DNQFBu012223@freefriends.org>
References: <201802132326.w1DNQFBu012223@freefriends.org>
Message-ID: <f1776e35-bc84-8481-398b-2d86800be7a0@rene-schwarz.com>

Hi Karl,


> Oh, I think after messing around on the mailman pages, those hits then
> somehow apply to a future hit on the rest of the site. More pain. I
> disabled the web rate-limiting entirely ... -k

thank you for the reconfiguration of the server. Now I can confirm that
I experience no troubles reaching the tug.org website (all parts of it)
anymore.


Kind regards,
Ren?
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
mail at rene-schwarz.com
https://www.rene-schwarz.com



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180218/36b8d19f/attachment.sig>

From dbitouze at wanadoo.fr  Sun Feb 18 12:36:35 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 18 Feb 2018 12:36:35 +0100
Subject: [tex-live] Still troubles when trying to reach some pages of
	tug/texlive site
In-Reply-To: <f1776e35-bc84-8481-398b-2d86800be7a0@rene-schwarz.com>
 ("M.Eng. =?utf-8?Q?Ren=C3=A9?= Schwarz"'s message of "Sun, 18 Feb 2018
 11:16:10 +0100")
References: <201802132326.w1DNQFBu012223@freefriends.org>
 <f1776e35-bc84-8481-398b-2d86800be7a0@rene-schwarz.com>
Message-ID: <87h8qejzr0.fsf@example.com>

Hi,

Le 18/02/18 ? 11h16, M.Eng. Ren? Schwarz a ?crit :

>> Oh, I think after messing around on the mailman pages, those hits
>> then somehow apply to a future hit on the rest of the site. More
>> pain. I disabled the web rate-limiting entirely ... -k
>
> thank you for the reconfiguration of the server. Now I can confirm
> that I experience no troubles reaching the tug.org website (all parts
> of it) anymore.

The same applies for me: thanks!
-- 
Denis


From karl at freefriends.org  Mon Feb 19 00:35:56 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 18 Feb 2018 23:35:56 GMT
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <8e4bdc01-7a05-82d3-567b-284f1dd824bc@rene-schwarz.com>
Message-ID: <201802182335.w1INZuXT028107@freefriends.org>

Ok, I did  svn propset svn:eol-style LF 
on tlpkg/installer/config.guess (among others).

I don't understand why no Cygwin (etc.) users had this problem
before. But whatever. --thanks, karl.

From niels.seidel at tu-dresden.de  Sun Feb 18 23:25:46 2018
From: niels.seidel at tu-dresden.de (niels seidel)
Date: Sun, 18 Feb 2018 23:25:46 +0100
Subject: [tex-live] fmtutil-sys --byfmt pdflatex >> No formats found
Message-ID: <371119c2-1d84-10f3-e433-8f2cb3e6be62@tu-dresden.de>

Hello,

after purging and reinstalling texlive I am not able to process simple 
.tex files.


$ pdflatex doc
This is pdfTeX, Version 3.14159265-2.6-1.40.16 (TeX Live 2015/Debian) 
(preloaded format=pdflatex)
  restricted \write18 enabled.

kpathsea: Running mktexfmt pdflatex.fmt
mktexfmt [WARNING]: resetting $HOME value (was /home/abb) to root's 
actual home (/root).
mktexfmt: mktexfmt is using the following fmtutil.cnf files (in 
precedence order):
mktexfmt:   /etc/texmf/web2c/fmtutil.cnf
mktexfmt:   /usr/share/texmf/web2c/fmtutil.cnf
mktexfmt:   /usr/share/texlive/texmf-dist/web2c/fmtutil.cnf
mktexfmt: mktexfmt is using the following fmtutil.cnf file for writing 
changes:
mktexfmt:   /root/.texmf-config/web2c/fmtutil.cnf
mktexfmt [INFO]: writing formats under /root/.texmf-var/web2c
mktexfmt [INFO]: did not find entry for byfmt=pdflatex, skipped
mktexfmt [INFO]: Total formats: 0
mktexfmt [INFO]: exiting with status 0
I can't find the format file `pdflatex.fmt'!


---------------
Obviously there is a format file missing. I tried to re-create it, but 
without success:

$ sudo fmtutil-sys --byfmt pdflatex
fmtutil [WARNING]: resetting $HOME value (was /home/abb) to root's 
actual home (/root).
fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence 
order):
fmtutil:   /etc/texmf/web2c/fmtutil.cnf
fmtutil:   /usr/share/texmf/web2c/fmtutil.cnf
fmtutil:   /usr/share/texlive/texmf-dist/web2c/fmtutil.cnf
fmtutil: fmtutil is using the following fmtutil.cnf file for writing 
changes:
fmtutil:   /etc/texmf/web2c/fmtutil.cnf
fmtutil [INFO]: writing formats under /var/lib/texmf/web2c
fmtutil [INFO]: did not find entry for byfmt=pdflatex, skipped
fmtutil [INFO]: Total formats: 0
fmtutil [INFO]: exiting with status 0

----------------
$texlivehome is correctly pointing to ~/texmf
----------------

Any idea how to solve this?

Thank you!


From niels.seidel at tu-dresden.de  Sun Feb 18 23:38:57 2018
From: niels.seidel at tu-dresden.de (niels seidel)
Date: Sun, 18 Feb 2018 23:38:57 +0100
Subject: [tex-live] fmtutil-sys --byfmt pdflatex >> No formats found
Message-ID: <8af6b127-93eb-3bb6-b4d1-e66bca198826@tu-dresden.de>


Hello,

after purging and reinstalling texlive I am not able to process simple 
.tex files.


$ pdflatex doc
This is pdfTeX, Version 3.14159265-2.6-1.40.16 (TeX Live 2015/Debian) 
(preloaded format=pdflatex)
  restricted \write18 enabled.

kpathsea: Running mktexfmt pdflatex.fmt
mktexfmt [WARNING]: resetting $HOME value (was /home/abb) to root's 
actual home (/root).
mktexfmt: mktexfmt is using the following fmtutil.cnf files (in 
precedence order):
mktexfmt:   /etc/texmf/web2c/fmtutil.cnf
mktexfmt:   /usr/share/texmf/web2c/fmtutil.cnf
mktexfmt:   /usr/share/texlive/texmf-dist/web2c/fmtutil.cnf
mktexfmt: mktexfmt is using the following fmtutil.cnf file for writing 
changes:
mktexfmt:   /root/.texmf-config/web2c/fmtutil.cnf
mktexfmt [INFO]: writing formats under /root/.texmf-var/web2c
mktexfmt [INFO]: did not find entry for byfmt=pdflatex, skipped
mktexfmt [INFO]: Total formats: 0
mktexfmt [INFO]: exiting with status 0
I can't find the format file `pdflatex.fmt'!


---------------
Obviously there is a format file missing. I tried to re-create it, but 
without success:

$ sudo fmtutil-sys --byfmt pdflatex
fmtutil [WARNING]: resetting $HOME value (was /home/abb) to root's 
actual home (/root).
fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence 
order):
fmtutil:   /etc/texmf/web2c/fmtutil.cnf
fmtutil:   /usr/share/texmf/web2c/fmtutil.cnf
fmtutil:   /usr/share/texlive/texmf-dist/web2c/fmtutil.cnf
fmtutil: fmtutil is using the following fmtutil.cnf file for writing 
changes:
fmtutil:   /etc/texmf/web2c/fmtutil.cnf
fmtutil [INFO]: writing formats under /var/lib/texmf/web2c
fmtutil [INFO]: did not find entry for byfmt=pdflatex, skipped
fmtutil [INFO]: Total formats: 0
fmtutil [INFO]: exiting with status 0

----------------
$texlivehome is correctly pointing to ~/texmf
----------------

Any idea how to solve this?

Thank you!



From preining at logic.at  Mon Feb 19 02:03:49 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 19 Feb 2018 10:03:49 +0900
Subject: [tex-live] fmtutil-sys --byfmt pdflatex >> No formats found
In-Reply-To: <8af6b127-93eb-3bb6-b4d1-e66bca198826@tu-dresden.de>
References: <8af6b127-93eb-3bb6-b4d1-e66bca198826@tu-dresden.de>
Message-ID: <20180219010349.GA2373@bulldog.preining.info>

Hi Niels,

you are using Debian's package of TeX Live, you will not get much
support here. Please contact (again me, though) at the 
Debian TeX Maintainers mailing list debian-tex-maint at lists.debian.org

> mktexfmt [INFO]: did not find entry for byfmt=pdflatex, skipped

Do you have 
  texlive-latex-base
installed?

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mojca.miklavec.lists at gmail.com  Mon Feb 19 11:11:57 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 19 Feb 2018 11:11:57 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <201802182335.w1INZuXT028107@freefriends.org>
References: <8e4bdc01-7a05-82d3-567b-284f1dd824bc@rene-schwarz.com>
 <201802182335.w1INZuXT028107@freefriends.org>
Message-ID: <CALBOmsYv0Mk_GT=srzwFXT5hKjroOMK7uDahA1v0o5Ged-E0vg@mail.gmail.com>

On 19 February 2018 at 00:35, Karl Berry wrote:
> Ok, I did  svn propset svn:eol-style LF
> on tlpkg/installer/config.guess (among others).
>
> I don't understand why no Cygwin (etc.) users had this problem
> before. But whatever. --thanks, karl.

I don't think that we have that many users setting up their own TL
package repository on a server running cygwin.

(It could also be that cygwin's own subversion sets EOL differently
than when the user does a checkout with a "native" subversion
installation or that users have different defaults set, but that's
just a super blind guess.)

Mojca

From d.p.carlisle at gmail.com  Mon Feb 19 12:08:28 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 19 Feb 2018 11:08:28 +0000
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <CALBOmsYv0Mk_GT=srzwFXT5hKjroOMK7uDahA1v0o5Ged-E0vg@mail.gmail.com>
References: <8e4bdc01-7a05-82d3-567b-284f1dd824bc@rene-schwarz.com>
 <201802182335.w1INZuXT028107@freefriends.org>
 <CALBOmsYv0Mk_GT=srzwFXT5hKjroOMK7uDahA1v0o5Ged-E0vg@mail.gmail.com>
Message-ID: <CAEW6iOgqrLXeHPTq=q1+xzedBRf62qwzXYtmBx9noPiYPMM-=Q@mail.gmail.com>

On 19 February 2018 at 10:11, Mojca Miklavec
<mojca.miklavec.lists at gmail.com> wrote:
> On 19 February 2018 at 00:35, Karl Berry wrote:
>> Ok, I did  svn propset svn:eol-style LF
>> on tlpkg/installer/config.guess (among others).
>>
>> I don't understand why no Cygwin (etc.) users had this problem
>> before. But whatever. --thanks, karl.
>
> I don't think that we have that many users setting up their own TL
> package repository on a server running cygwin.
>
> (It could also be that cygwin's own subversion sets EOL differently
> than when the user does a checkout with a "native" subversion
> installation or that users have different defaults set, but that's
> just a super blind guess.)

yes if you use cygwin's svn then it uses the line endings specified in
the cygwin setup (which is almost always
a single #10) and cygwin's bash will understand the same line endings.

David



>
> Mojca

From mail at rene-schwarz.com  Mon Feb 19 13:03:29 2018
From: mail at rene-schwarz.com (=?UTF-8?Q?M.Eng._Ren=c3=a9_Schwarz?=)
Date: Mon, 19 Feb 2018 13:03:29 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <CALBOmsYv0Mk_GT=srzwFXT5hKjroOMK7uDahA1v0o5Ged-E0vg@mail.gmail.com>
References: <CALBOmsYv0Mk_GT=srzwFXT5hKjroOMK7uDahA1v0o5Ged-E0vg@mail.gmail.com>
Message-ID: <d0d5161d-5e4a-a426-acef-41e34cadba8b@rene-schwarz.com>

Dear Mojca,


> I don't think that we have that many users setting up their own TL
> package repository on a server running cygwin.

just to clarify: I am not running a server using Cygwin. I am just
preparing the package repository on a Windows machine, which is working
perfectly fine. The repository contents are then distributed via a Linux
server.

I also think that this is not the point. The question should be if it
makes sense to set the `svn:eol-style` to native if all
Bourne-compatible shells expect Unix line endings.


Kind regards,
Ren?
-- 


Sincerely yours,


M.Eng. *Ren? Schwarz*
mail at rene-schwarz.com
https://www.rene-schwarz.com



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20180219/7d1afff0/attachment.sig>

From jhielscher at posteo.de  Mon Feb 19 13:19:29 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Mon, 19 Feb 2018 13:19:29 +0100
Subject: [tex-live] Texinfo syntax error
Message-ID: <20180219131929.1475cce7@hordevm>

Hi,

-r46623 introduces a bug into Source/doc/tlbuild.texi (literal @ have
to be escaped as @@). See patch.

Best,
Johannes


Index: doc/tlbuild.texi
===================================================================
--- doc/tlbuild.texi	(Revision 46623)
+++ doc/tlbuild.texi	(Arbeitskopie)
@@ -2506,7 +2506,7 @@
 mapping from subversion names to name/email as shown in git.
 
 The initial checkout was done by invocing
- at code{git svn --authors-file usermap clone svn://USER at tug.org/texlive/trunk/Build/source}
+ at code{git svn --authors-file usermap clone svn://USER@@tug.org/texlive/trunk/Build/source}
 where the @code{usermap} file maps subversion user names to name and
 emails of the authors. 
 
@@ -2522,7 +2522,7 @@
 @code{texlive-source} was created by @emph{admin} within the
 @code{TeX-Live} organization (@url{https://github.com/TeX-Live/}), the
 remote added to the checkout with
- at code{git remote add origin git at github.com:TeX-Live/texlive-source.git}.
+ at code{git remote add origin git@@github.com:TeX-Live/texlive-source.git}.
 
 To automate the update on Github, a new ssh key was generated and added
 to the @code{texlive-source} repository on Github as deployment

From mojca.miklavec.lists at gmail.com  Mon Feb 19 14:21:33 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 19 Feb 2018 14:21:33 +0100
Subject: [tex-live] Tutorial for setting up own TeX Live package
 repositories seems outdated
In-Reply-To: <d0d5161d-5e4a-a426-acef-41e34cadba8b@rene-schwarz.com>
References: <CALBOmsYv0Mk_GT=srzwFXT5hKjroOMK7uDahA1v0o5Ged-E0vg@mail.gmail.com>
 <d0d5161d-5e4a-a426-acef-41e34cadba8b@rene-schwarz.com>
Message-ID: <CALBOmsbizWnmBkAe105iYv8s0n64R3qfX3N-MPStYrmUSF6CxQ@mail.gmail.com>

On 19 February 2018 at 13:03, M.Eng. Ren? Schwarz wrote:
> Dear Mojca,
>
>> I don't think that we have that many users setting up their own TL
>> package repository on a server running cygwin.
>
> just to clarify: I am not running a server using Cygwin. I am just
> preparing the package repository on a Windows machine, which is working
> perfectly fine. The repository contents are then distributed via a Linux
> server.

OK, but my modified statement still stands. I still don't think we
have that many users running scripts to set up their own TL package
repository on cygwin :) :) :)

> I also think that this is not the point. The question should be if it
> makes sense to set the `svn:eol-style` to native if all
> Bourne-compatible shells expect Unix line endings.

Just for "completeness". I did a subversion checkout in msys2 about a
month ago. The subversion installed by msys2 (/usr/bin/svn) apparently
resulted in linux-style line endings despite running subversion on a
Windows machine. The config-guess script returns x86_64-pc-mingw64
(not that it would be relevant in any way).

But I tried running unix2dos and the script keeps working even after that:


$ file ./source/build-aux/config.guess
./source/build-aux/config.guess: POSIX shell script, ASCII text executable

$ ./source/build-aux/config.guess
x86_64-pc-mingw64

$ unix2dos.exe ./source/build-aux/config.guess
unix2dos: converting file ./source/build-aux/config.guess to DOS format...

$ ./source/build-aux/config.guess
x86_64-pc-mingw64

$ file ./source/build-aux/config.guess
./source/build-aux/config.guess: POSIX shell script, ASCII text
executable, with CRLF line terminators


Karl was just wondering why you would be the first one running into
that problem.
I agree that it makes no sense to set 'svn:eol-style' for shell
scripts, but I would also tend to agree that one should file a bug in
cygwin's bug tracker if it's not capable of dealing with windows-style
line endings.

On msys2:

$ sh --version
GNU bash, version 4.4.19(1)-release (x86_64-pc-msys)
Copyright (C) 2016 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>


A note to you though: if you happen to prepare the repository on
windows machine with the same settings as you are using now, linux
users will probably get other/regular files from subversion
repositories with windows line endings. Whether or not that's ok /
desirable is up to you of course. (Super off-topic: I had lots of
troubles with line endings after converting a git repository to
mercurial and VisualStudio helpfully insisting in auto-converting line
endings in all edited files. It's so super annoying if some tools
ignore line endings and others insist in using exactly what they
consider the correct form. Not that Windows, HG or VS would be my
favourite choice of tools, but sometimes one needs compromises.)

Mojca

PS: I haven't used or checked or touched cygwin since at least a
decade or longer, but msys2 is awesome and I have a feeling that it
plays more nicely with the system (no X11 though).


From pdgessler at gmail.com  Mon Feb 19 14:27:49 2018
From: pdgessler at gmail.com (Paul Gessler)
Date: Mon, 19 Feb 2018 07:27:49 -0600
Subject: [tex-live] Texinfo syntax error
In-Reply-To: <20180219131929.1475cce7@hordevm>
References: <20180219131929.1475cce7@hordevm>
Message-ID: <CAPT88+Co=5z=04E4MTcd9BhThCOwKj6+e6C_S4ei7oEoZCdm5g@mail.gmail.com>

As long as this section of the docs are being updated, I also noticed a
minor typo in the context displayed by the patch: s/invocing/invoking/

Cheers,

Paul

On 19 February 2018 at 06:19, Johannes Hielscher <jhielscher at posteo.de>
wrote:

> Hi,
>
> -r46623 introduces a bug into Source/doc/tlbuild.texi (literal @ have
> to be escaped as @@). See patch.
>
> Best,
> Johannes
>
>
> Index: doc/tlbuild.texi
> ===================================================================
> --- doc/tlbuild.texi    (Revision 46623)
> +++ doc/tlbuild.texi    (Arbeitskopie)
> @@ -2506,7 +2506,7 @@
>  mapping from subversion names to name/email as shown in git.
>
>  The initial checkout was done by invocing
> - at code{git svn --authors-file usermap clone svn://USER at tug.org/texlive/
> trunk/Build/source}
> + at code{git svn --authors-file usermap clone svn://USER@@tug.org/texlive/
> trunk/Build/source}
>  where the @code{usermap} file maps subversion user names to name and
>  emails of the authors.
>
> @@ -2522,7 +2522,7 @@
>  @code{texlive-source} was created by @emph{admin} within the
>  @code{TeX-Live} organization (@url{https://github.com/TeX-Live/}), the
>  remote added to the checkout with
> - at code{git remote add origin git at github.com:TeX-Live/texlive-source.git}.
> + at code{git remote add origin git@@github.com:TeX-Live/texlive-source.git}.
>
>  To automate the update on Github, a new ssh key was generated and added
>  to the @code{texlive-source} repository on Github as deployment
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180219/bf13fcb9/attachment.html>

From preining at logic.at  Mon Feb 19 15:08:25 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 19 Feb 2018 23:08:25 +0900
Subject: [tex-live] Texinfo syntax error
In-Reply-To: <CAPT88+Co=5z=04E4MTcd9BhThCOwKj6+e6C_S4ei7oEoZCdm5g@mail.gmail.com>
 <20180219131929.1475cce7@hordevm>
Message-ID: <20180219140825.GB17074@bulldog.preining.info>

Hi you two,

> -r46623 introduces a bug into Source/doc/tlbuild.texi (literal @ have
> to be escaped as @@). See patch.

> minor typo in the context displayed by the patch: s/invocing/invoking/

Both are fixed now, thanks.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From yudai.nkt at gmail.com  Mon Feb 19 17:01:05 2018
From: yudai.nkt at gmail.com (Yudai NAKATA)
Date: Mon, 19 Feb 2018 08:01:05 -0800
Subject: [tex-live] tlmgr w/ --machine-readable uses incorrect file
	descriptor
Message-ID: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>

Dear all,

I noticed that tlmgr with --machine-readable option seems to use stderr
even when the exit status is 0.

$?tlmgr --version > human.stdout 2> human.stderr
$?tlmgr --version --machine-readable > machine.stdout 2> machine.stderr
$ echo $?
0
$ cat human.stdout
tlmgr revision 46034 (2017-12-11 02:54:21 +0100)
tlmgr using installation: /usr/local/texlive/2017
TeX Live (http://tug.org/texlive) version 2017
$ cat machine.stderr
revision 46034
installation /usr/local/texlive/2017
tlversion 2017
TLConfig 45617
TLUtils 46045

IMHO, I don?t think this is a good idea. Machine readable output is
often intended
to be used in conjunction with other programs, so it should use stdout
unless there
is some error.

Best regards,
Yudai Nakata


From yudai.nkt at gmail.com  Tue Feb 20 05:55:38 2018
From: yudai.nkt at gmail.com (Yudai NAKATA)
Date: Mon, 19 Feb 2018 23:55:38 -0500
Subject: [tex-live] tlmgr w/ --machine-readable uses incorrect file
	descriptor
In-Reply-To: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>
References: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>
Message-ID: <CAJwGACg2p3b6UGZF4d+BHNGFuvrsK8Aym0x3tDkgSFtwD=-3XA@mail.gmail.com>

I found the following paragraph in the documentation.

>?With the ??machine?readable option, tlmgr writes to stdout in the fixed
> line-oriented format described here, and the usual informational messages
> for human consumption are written to stderr (normally they are written to stdout).

Does tlmgr --version --machine-readable fall under the latter category (i.e.,
information consumed by human)?

Best regards,
Yudai Nakata

On 2018?2?20? at 1:01:05, Yudai NAKATA (yudai.nkt at gmail.com) wrote:
> Dear all,
>
> I noticed that tlmgr with --machine-readable option seems to use stderr
> even when the exit status is 0.
>
> $ tlmgr --version > human.stdout 2> human.stderr
> $ tlmgr --version --machine-readable > machine.stdout 2> machine.stderr
> $ echo $?
> 0
> $ cat human.stdout
> tlmgr revision 46034 (2017-12-11 02:54:21 +0100)
> tlmgr using installation: /usr/local/texlive/2017
> TeX Live (http://tug.org/texlive) version 2017
> $ cat machine.stderr
> revision 46034
> installation /usr/local/texlive/2017
> tlversion 2017
> TLConfig 45617
> TLUtils 46045
>
> IMHO, I don?t think this is a good idea. Machine readable output is often intended
> to be used in conjunction with other programs, so it should use stdout unless there
> is some error.
>
> Best regards,
> Yudai Nakata


From preining at logic.at  Tue Feb 20 06:44:57 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 20 Feb 2018 14:44:57 +0900
Subject: [tex-live] tlmgr w/ --machine-readable uses incorrect file
 descriptor
In-Reply-To: <CAJwGACg2p3b6UGZF4d+BHNGFuvrsK8Aym0x3tDkgSFtwD=-3XA@mail.gmail.com>
References: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>
 <CAJwGACg2p3b6UGZF4d+BHNGFuvrsK8Aym0x3tDkgSFtwD=-3XA@mail.gmail.com>
Message-ID: <20180220054457.GA3663@bulldog.preining.info>

Dear Nakata-san,


> >?With the ??machine?readable option, tlmgr writes to stdout in the fixed
> > line-oriented format described here, and the usual informational messages
> > for human consumption are written to stderr (normally they are written to stdout).
> 
> Does tlmgr --version --machine-readable fall under the latter category (i.e.,
> information consumed by human)?

Yes probably. --machine-readable is not fully supported by each and
every command, thus the discrepancy. At the moment what tlmgr does is
simply
  info(give_version());
give_version computes a proper machine readable output in this case, but
info works in a way that under --machine-readable it outputs to stderr.

I just committed the following change:
--- a/Master/texmf-dist/scripts/texlive/tlmgr.pl
+++ b/Master/texmf-dist/scripts/texlive/tlmgr.pl
@@ -436,7 +436,12 @@ sub main {
   ddebug("arguments: @ARGV\n") if @ARGV;

   if ($opts{"version"} || (defined $action && $action eq "version")) {
-    info(give_version());
+    if ($::machinereadable) {
+      # give_version already is machinereadable aware
+      print give_version();
+    } else {
+      info(give_version());
+    }
     exit(0);
   }
which outputs the info to stdout in case of --machine-readable --version

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From yudai.nkt at gmail.com  Tue Feb 20 08:52:53 2018
From: yudai.nkt at gmail.com (Yudai NAKATA)
Date: Mon, 19 Feb 2018 23:52:53 -0800
Subject: [tex-live] tlmgr w/ --machine-readable uses incorrect file
	descriptor
In-Reply-To: <20180220054457.GA3663@bulldog.preining.info>
References: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>
 <CAJwGACg2p3b6UGZF4d+BHNGFuvrsK8Aym0x3tDkgSFtwD=-3XA@mail.gmail.com>
 <20180220054457.GA3663@bulldog.preining.info>
Message-ID: <CAJwGACh_zDgk_CpLTstL=cHsOodu-Fy+gtWauquJQT9n_1RCPA@mail.gmail.com>

Dear Norbert-san,

I had to apply the patch directly in TEXMFDIST, which shouldn?t be
manually edited,
for some reason (possibly due to module structure), but I confirm the
patch works
as I expected.

Thanks for your prompt fix.

Best regards,
Yudai Nakata

On 2018?2?20? at 14:45:02, Norbert Preining (preining at logic.at) wrote:
> Dear Nakata-san,
>
>
> > > With the ??machine?readable option, tlmgr writes to stdout in the fixed
> > > line-oriented format described here, and the usual informational messages
> > > for human consumption are written to stderr (normally they are written to stdout).
> >
> > Does tlmgr --version --machine-readable fall under the latter category (i.e.,
> > information consumed by human)?
>
> Yes probably. --machine-readable is not fully supported by each and
> every command, thus the discrepancy. At the moment what tlmgr does is
> simply
> info(give_version());
> give_version computes a proper machine readable output in this case, but
> info works in a way that under --machine-readable it outputs to stderr.
>
> I just committed the following change:
> --- a/Master/texmf-dist/scripts/texlive/tlmgr.pl
> +++ b/Master/texmf-dist/scripts/texlive/tlmgr.pl
> @@ -436,7 +436,12 @@ sub main {
> ddebug("arguments: @ARGV\n") if @ARGV;
>
> if ($opts{"version"} || (defined $action && $action eq "version")) {
> - info(give_version());
> + if ($::machinereadable) {
> + # give_version already is machinereadable aware
> + print give_version();
> + } else {
> + info(give_version());
> + }
> exit(0);
> }
> which outputs the info to stdout in case of --machine-readable --version
>
> Thanks
>
> Norbert
>
> --
> PREINING Norbert http://www.preining.info
> Accelia Inc. + JAIST + TeX Live + Debian Developer
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>


From preining at logic.at  Tue Feb 20 09:46:04 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 20 Feb 2018 17:46:04 +0900
Subject: [tex-live] tlmgr w/ --machine-readable uses incorrect file
 descriptor
In-Reply-To: <CAJwGACh_zDgk_CpLTstL=cHsOodu-Fy+gtWauquJQT9n_1RCPA@mail.gmail.com>
References: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>
 <CAJwGACg2p3b6UGZF4d+BHNGFuvrsK8Aym0x3tDkgSFtwD=-3XA@mail.gmail.com>
 <20180220054457.GA3663@bulldog.preining.info>
 <CAJwGACh_zDgk_CpLTstL=cHsOodu-Fy+gtWauquJQT9n_1RCPA@mail.gmail.com>
Message-ID: <20180220084604.GC3663@bulldog.preining.info>

> I had to apply the patch directly in TEXMFDIST, which shouldn?t be

Yes of course, this is because the TeX Live repository has both 
sources for the binaries (in SVN/sources) and the master for the
texmf-trees and all the rest (in SVN/Master).

The next update of tlmgr/texlive.infra, or more probably TL2018 will
have this change included.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From yudai.nkt at gmail.com  Tue Feb 20 10:20:09 2018
From: yudai.nkt at gmail.com (Yudai NAKATA)
Date: Tue, 20 Feb 2018 01:20:09 -0800
Subject: [tex-live] tlmgr w/ --machine-readable uses incorrect file
	descriptor
In-Reply-To: <20180220084604.GC3663@bulldog.preining.info>
References: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>
 <CAJwGACg2p3b6UGZF4d+BHNGFuvrsK8Aym0x3tDkgSFtwD=-3XA@mail.gmail.com>
 <20180220054457.GA3663@bulldog.preining.info>
 <CAJwGACh_zDgk_CpLTstL=cHsOodu-Fy+gtWauquJQT9n_1RCPA@mail.gmail.com>
 <20180220084604.GC3663@bulldog.preining.info>
Message-ID: <CAJwGAChMp6cbKkJaxghFZ7zfsArdM9dSRiL=EM-b0MQUG8F0Xw@mail.gmail.com>

Well, what I meant in the last email was something like

$ cat?$(kpsewhich -var-value TEXMFDIST)/scripts/texlive/tlmgr.pl > /tmp/tlmgr.pl
$ vim?/tmp/tlmgr.pl ?# Edit like you did in r46683
$ perl /tmp/tlmgr.pl
Can't locate TeXLive/TLConfig.pm in @INC (you may need to install the
TeXLive::TLConfig module) (@INC contains:
/tmp/../../texmf-dist/scripts/texlive /tmp/../../tlpkg
/Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18
/Network/Library/Perl/5.18/darwin-thread-multi-2level
/Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.2
/System/Library/Perl/5.18/darwin-thread-multi-2level
/System/Library/Perl/5.18
/System/Library/Perl/Extras/5.18/darwin-thread-multi-2level
/System/Library/Perl/Extras/5.18 .) at /tmp/tlmgr.pl line 99.
BEGIN failed--compilation aborted at /tmp/tlmgr.pl line 99.

I should have not used the phrase ?apply the patch? because I actually
didn?t do that.
That being said, this doesn?t have to do with the reason you mentioned, does it?

Yudai Nakata

On 2018?2?20? at 17:46:07, Norbert Preining (preining at logic.at) wrote:
> > I had to apply the patch directly in TEXMFDIST, which shouldn?t be
>
> Yes of course, this is because the TeX Live repository has both
> sources for the binaries (in SVN/sources) and the master for the
> texmf-trees and all the rest (in SVN/Master).
>
> The next update of tlmgr/texlive.infra, or more probably TL2018 will
> have this change included.
>
> Norbert
>
> --
> PREINING Norbert http://www.preining.info
> Accelia Inc. + JAIST + TeX Live + Debian Developer
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>


From preining at logic.at  Tue Feb 20 13:00:35 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 20 Feb 2018 21:00:35 +0900
Subject: [tex-live] tlmgr w/ --machine-readable uses incorrect file
 descriptor
In-Reply-To: <CAJwGAChMp6cbKkJaxghFZ7zfsArdM9dSRiL=EM-b0MQUG8F0Xw@mail.gmail.com>
References: <CAJwGAChi+pEpWq1L03R8GZqrha=Rmtd5KFUH1stHcNoWMiv1Vg@mail.gmail.com>
 <CAJwGACg2p3b6UGZF4d+BHNGFuvrsK8Aym0x3tDkgSFtwD=-3XA@mail.gmail.com>
 <20180220054457.GA3663@bulldog.preining.info>
 <CAJwGACh_zDgk_CpLTstL=cHsOodu-Fy+gtWauquJQT9n_1RCPA@mail.gmail.com>
 <20180220084604.GC3663@bulldog.preining.info>
 <CAJwGAChMp6cbKkJaxghFZ7zfsArdM9dSRiL=EM-b0MQUG8F0Xw@mail.gmail.com>
Message-ID: <20180220120035.GA18962@bulldog.preining.info>

> $ perl /tmp/tlmgr.pl
> Can't locate TeXLive/TLConfig.pm in @INC (you may need to install the

Ah, that cannot work because the location of the perl script determines
the location of the modules via
  ../../tlpkg

> That being said, this doesn?t have to do with the reason you mentioned, does it?

Right. The layout is rather fixed since the supporting Perl modules are
not in standard locations for the Perl interpreter to be found. We
simply add the ../../tlpkg to the search path for modules before loading
the various modules.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Tue Feb 20 20:27:35 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 20 Feb 2018 19:27:35 GMT
Subject: [tex-live] lyluatex package
In-Reply-To: <BA759B8B-DBC8-46F0-B0B7-587C64A73F48@gmail.com>
Message-ID: <201802201927.w1KJRZQm013613@freefriends.org>

    kpse.set_program_name("kpsewhich --format=lua")

It turns out that 
  kpse.set_program_name("foobar")
also fails the assertion. Any program name that doesn't exist.

I made it so kpathsea simply quits (gracefully) if passed a nonexistent
program name at this level. Since before it failed an assertion, I
suppose that won't cause problems.

It doesn't affect kpsewhich's --progname option, which can still be
passed anything, as far as I can see. LuaTeX does a more complete
reinitialization of the whole system. 

Thanks again for the report. --karl

From wl at gnu.org  Fri Feb 23 07:42:33 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 23 Feb 2018 07:42:33 +0100 (CET)
Subject: [tex-live] xdvi produces only gray images
Message-ID: <20180223.074233.2243438133602301747.wl@gnu.org>


[xdvi 22.87.03; GNU/Linux binary from TeXLive SVN r46715]

After a longer time (around 18 months) I tried xdvi again, and I was
surprised to find out that I only get pale, gray font rendering (see
attached image for `Hello world!\bye').  Has there something changed
in its configuration?  What am I doing wrong?

Looking into the kpathsea log file (attached also) I see that it uses
`cmr10.pfb' and no .pk files for the example...


    Werner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: xdvi.png
Type: image/png
Size: 13629 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180223/22ff9a33/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: zzz.xdvi.log.xz
Type: application/octet-stream
Size: 5288 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180223/22ff9a33/attachment.obj>

From dbitouze at wanadoo.fr  Fri Feb 23 07:48:52 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Fri, 23 Feb 2018 07:48:52 +0100
Subject: [tex-live] [tlmgr] Use of uninitialized value
Message-ID: <87k1v419rf.fsf@example.com>

Hi,

because of an issue? after `l3packages' update this morning, I restored
it with:

  ?????
  ? tlmgr restore l3packages 46085
  ?????

It succeeded but the following warnings were emitted:

  ?????
  ? Use of uninitialized value $whatsize in concatenation (.) or string at /usr/local/texlive/2017/tlpkg/TeXLive/TLPDB.pm line 2057, <STDIN> line 1.
  ? Use of uninitialized value $whatcheck in concatenation (.) or string at /usr/local/texlive/2017/tlpkg/TeXLive/TLPDB.pm line 2057, <STDIN> line 1.
  ? TLUtils::check_file: neither checksum nor checksize available for /tmp/mRKzOYEdcg/HgT0o3l8Om/l3packages.r46085.tar.xz, cannot check integrity!
  ?????

Have a nice day.
  --------------
  ? https://github.com/latex3/latex3/issues/441
-- 
Denis


From wl at gnu.org  Fri Feb 23 07:58:58 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 23 Feb 2018 07:58:58 +0100 (CET)
Subject: [tex-live] xdvi produces only gray images
In-Reply-To: <20180223.074233.2243438133602301747.wl@gnu.org>
References: <20180223.074233.2243438133602301747.wl@gnu.org>
Message-ID: <20180223.075858.1417752432925974053.wl@gnu.org>


> After a longer time (around 18 months) I tried xdvi again, and I was
> surprised to find out that I only get pale, gray font rendering (see
> attached image for `Hello world!\bye').  Has there something changed
> in its configuration?  What am I doing wrong?

Problem solved, and sorry for the noise ? I'm now using a dark desktop
theme, and I have to explicitly set foreground and background colors
(with xdvi's `-fg' and `-bg' options).


    Werner


From usenet at siart.de  Fri Feb 23 11:00:58 2018
From: usenet at siart.de (Uwe Siart)
Date: Fri, 23 Feb 2018 11:00:58 +0100
Subject: [tex-live] l3kernel needs update, too
Message-ID: <87eflchvol.fsf@siart.de>

Today's update of l3packages breaks xparse (and, hence, packages that
rely on xparse):

,----
| Package xparse Error: Support package l3kernel too old.
`----

-- 
Uwe


From enrico.gregorio at gmail.com  Fri Feb 23 11:07:23 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Fri, 23 Feb 2018 11:07:23 +0100
Subject: [tex-live] l3kernel needs update, too
In-Reply-To: <87eflchvol.fsf@siart.de>
References: <87eflchvol.fsf@siart.de>
Message-ID: <702475E0-0CF3-4405-881C-F33EBBFEBC21@gmail.com>


> On 23 Feb 2018, at 11:00 , Uwe Siart <usenet at siart.de> wrote:
> 
> Today's update of l3packages breaks xparse (and, hence, packages that
> rely on xparse):
> 
> ,----
> | Package xparse Error: Support package l3kernel too old.
> `??

Unfortunately, the updates to the l3 suite did not find their way
all together.

One should wait till

l3kernel
l3packages
l3experimental
xpackages

are all updated together.

Ciao
Enrico

From carlatexlyx at gmail.com  Sat Feb 24 12:04:30 2018
From: carlatexlyx at gmail.com (CarLaTeX)
Date: Sat, 24 Feb 2018 12:04:30 +0100
Subject: [tex-live] Problem with installation: cannot determine release!
Message-ID: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>

I don't know exactly what happened, it's likely my Windows 10 system
suddenly stops while I was updating TeX Live (2017).

At the moment, if I try to start the TeX Live GUI, I immediately get the
error:

Problem with installation: cannot determine release!

If I launch tlmgr update --all in the command prompt, I get a series of
invisible characters followed by:

at C:/texlive/2017/tlpkg/TeXLive/TLPOBJ.pm line 103, <TMP> line 1.

I have the file release-texlive.txt in the directory C:\texlive\2017,
containing:

TeX Live (http://tug.org/texlive) version 2017

This file is public domain.  It is read by install-tl --version,
tlmgr --version, and texconfig conf, and a final line appended with
the precise version number by tl-update-images during a build.

The following blank line helps avoid confusing output when
used directly from svn, so don't delete it.

Should I reinstall everything?

(I also asked on TEX.SE:
https://tex.stackexchange.com/questions/416926/problem-with-installation-cannot-determine-release
).

Thank you,

Cheers,

Carla
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180224/aef2dee6/attachment.html>

From preining at logic.at  Sat Feb 24 13:28:03 2018
From: preining at logic.at (Norbert Preining)
Date: Sat, 24 Feb 2018 21:28:03 +0900
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
Message-ID: <20180224122803.GB14555@bulldog.preining.info>

> If I launch tlmgr update --all in the command prompt, I get a series of
> invisible characters followed by:
> 
> at C:/texlive/2017/tlpkg/TeXLive/TLPOBJ.pm line 103, <TMP> line 1.

It seems that your files got corrupted, due to whatever reason.

I suggest getting the 
  update-tlmgr-latest.exe
from
  http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe
and run it. I hopefully will fix your system.

If not, please report back.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From carlatexlyx at gmail.com  Sat Feb 24 20:27:55 2018
From: carlatexlyx at gmail.com (CarLaTeX)
Date: Sat, 24 Feb 2018 20:27:55 +0100
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <20180224122803.GB14555@bulldog.preining.info>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
Message-ID: <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>

2018-02-24 13:28 GMT+01:00 Norbert Preining <preining at logic.at>:

> > If I launch tlmgr update --all in the command prompt, I get a series of
> > invisible characters followed by:
> >
> > at C:/texlive/2017/tlpkg/TeXLive/TLPOBJ.pm line 103, <TMP> line 1.
>
> It seems that your files got corrupted, due to whatever reason.
>
> I suggest getting the
>   update-tlmgr-latest.exe
> from
>   http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe
> and run it. I hopefully will fix your system.
>
> If not, please report back.
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>

Dear Norbert,
thank you for your quick reply.
Unfortunately, running your .exe didn't fix my problem.

Carla
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180224/88f27579/attachment.html>

From preining at logic.at  Sun Feb 25 15:40:15 2018
From: preining at logic.at (Norbert Preining)
Date: Sun, 25 Feb 2018 23:40:15 +0900
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
Message-ID: <20180225144015.GB25976@bulldog.preining.info>

> Unfortunately, running your .exe didn't fix my problem.

Hmm, you could post a bit more information, like the console output of
the update procedure etc. Also the console output of running
  tlmgr update --list
and
  tlmgr version
after the update.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From carlatexlyx at gmail.com  Sun Feb 25 18:17:38 2018
From: carlatexlyx at gmail.com (CarLaTeX)
Date: Sun, 25 Feb 2018 18:17:38 +0100
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <20180225144015.GB25976@bulldog.preining.info>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
Message-ID: <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>

2018-02-25 15:40 GMT+01:00 Norbert Preining <preining at logic.at>:

> > Unfortunately, running your .exe didn't fix my problem.
>
> Hmm, you could post a bit more information, like the console output of
> the update procedure etc. Also the console output of running
>   tlmgr update --list
> and
>   tlmgr version
> after the update.
>
> Thanks
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>

If I run

update-tlmgr-latest.exe

the console remains black (maybe there are not-displayable chars), and
disappears when the execution finishes, attached you find what I see if I
click "show details" of the pop-up of the program.

After having done that, if I run

tlmgr update --list or tlmgr update --all or tlmgr update --self

I get a long empty display (maybe there are not-displayable chars) with, at
the end:

at C:/texlive/2017/tlpkg/TeXLive/TLPOBJ.pm line 103, <TMP> line 1.

If I run tlmgr version, I get:

tlmgr revision 46207 (2018-01-04 19:34:36 +0100)
tlmgr using installation: C:/texlive/2017
TeX Live (http://tug.org/texlive) version 2017

Thanks for your patience, ciao!

Carla
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (3).png
Type: image/png
Size: 52123 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0012.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (4).png
Type: image/png
Size: 50803 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0013.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (5).png
Type: image/png
Size: 51114 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0014.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (6).png
Type: image/png
Size: 49684 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0015.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (7).png
Type: image/png
Size: 48132 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0016.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (8).png
Type: image/png
Size: 47766 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0017.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (9).png
Type: image/png
Size: 48625 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0018.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (10).png
Type: image/png
Size: 47907 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0019.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (11).png
Type: image/png
Size: 50085 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0020.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (12).png
Type: image/png
Size: 50836 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0021.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (13).png
Type: image/png
Size: 48928 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0022.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018-02-25 (15).png
Type: image/png
Size: 51248 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180225/2c9cf08d/attachment-0023.png>

From preining at logic.at  Mon Feb 26 01:01:55 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 26 Feb 2018 09:01:55 +0900
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
 <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
Message-ID: <20180226000155.GC8089@bulldog.preining.info>

Hi

> the console remains black (maybe there are not-displayable chars), and
> disappears when the execution finishes, attached you find what I see if I
> click "show details" of the pop-up of the program.

That looks fine.

> tlmgr revision 46207 (2018-01-04 19:34:36 +0100)
> tlmgr using installation: C:/texlive/2017
> TeX Live (http://tug.org/texlive) version 2017

That also looks fine.

> tlmgr update --list or tlmgr update --all or tlmgr update --self
> 
> I get a long empty display (maybe there are not-displayable chars) with, at
> the end:

Can you do 
  tlmgr -v -v update --list 2>tlmgr.log
THis will output *A*LOT* into tlmgr.log (I hope that works on Windows!)
and send me the tlmgr output.

Maybe also send me the zipped version of your texlive.tlpdb 
(in C:/texlive/2017/tlpkg/texlive.tlpdb)

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From carlatexlyx at gmail.com  Mon Feb 26 07:58:19 2018
From: carlatexlyx at gmail.com (CarLaTeX)
Date: Mon, 26 Feb 2018 07:58:19 +0100
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <20180226000155.GC8089@bulldog.preining.info>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
 <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
 <20180226000155.GC8089@bulldog.preining.info>
Message-ID: <CAEgp3VthqWH_g3wQzXDuDFSk==r=JxN5jZVkH9uOTRqG3kbBFQ@mail.gmail.com>

2018-02-26 1:01 GMT+01:00 Norbert Preining <preining at logic.at>:

> Hi
>
> > the console remains black (maybe there are not-displayable chars), and
> > disappears when the execution finishes, attached you find what I see if I
> > click "show details" of the pop-up of the program.
>
> That looks fine.
>
> > tlmgr revision 46207 (2018-01-04 19:34:36 +0100)
> > tlmgr using installation: C:/texlive/2017
> > TeX Live (http://tug.org/texlive) version 2017
>
> That also looks fine.
>
> > tlmgr update --list or tlmgr update --all or tlmgr update --self
> >
> > I get a long empty display (maybe there are not-displayable chars) with,
> at
> > the end:
>
> Can you do
>   tlmgr -v -v update --list 2>tlmgr.log
> THis will output *A*LOT* into tlmgr.log (I hope that works on Windows!)
> and send me the tlmgr output.
>
> Maybe also send me the zipped version of your texlive.tlpdb
> (in C:/texlive/2017/tlpkg/texlive.tlpdb)
>
> Best
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>

It works also on Windows, attached the log (tlmgr.zip).

Also attached my version of texlive.tlpdb (texlive.zip).
I opened it and I think you found the problem, it is corrupted, it appeas
like another .txt file which I was modifying in Notepad++ while my Windows
decided to stop.
I have a texlive.tlpdb.cb4d87b1077a7ded201cfa3d92984c7d, created 10 minutes
before it, which is readable. Should I use it to replace the corrupted one?

Thank you again, ciao!

Carla
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180226/49fb5143/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tlmgr.zip
Type: application/zip
Size: 15603 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180226/49fb5143/attachment-0002.zip>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texlive.zip
Type: application/zip
Size: 15198 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180226/49fb5143/attachment-0003.zip>

From preining at logic.at  Mon Feb 26 10:31:40 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 26 Feb 2018 18:31:40 +0900
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <CAEgp3VthqWH_g3wQzXDuDFSk==r=JxN5jZVkH9uOTRqG3kbBFQ@mail.gmail.com>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
 <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
 <20180226000155.GC8089@bulldog.preining.info>
 <CAEgp3VthqWH_g3wQzXDuDFSk==r=JxN5jZVkH9uOTRqG3kbBFQ@mail.gmail.com>
Message-ID: <20180226093140.GA15125@bulldog.preining.info>

Hi,

> Also attached my version of texlive.tlpdb (texlive.zip).
> I opened it and I think you found the problem, it is corrupted, it appeas

Indeed, badly. That is strange.

> I have a texlive.tlpdb.cb4d87b1077a7ded201cfa3d92984c7d, created 10 minutes

No, that comes from the remote. What you can try to do is
  tlmgr recreate-tlpdb --platform=win32
Hope that fixes it ...

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From carlatexlyx at gmail.com  Mon Feb 26 21:05:04 2018
From: carlatexlyx at gmail.com (CarLaTeX)
Date: Mon, 26 Feb 2018 21:05:04 +0100
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <20180226093140.GA15125@bulldog.preining.info>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
 <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
 <20180226000155.GC8089@bulldog.preining.info>
 <CAEgp3VthqWH_g3wQzXDuDFSk==r=JxN5jZVkH9uOTRqG3kbBFQ@mail.gmail.com>
 <20180226093140.GA15125@bulldog.preining.info>
Message-ID: <CAEgp3VsAnTsjmQupK6APby9o6dT-PPGyiNTty8hp=5Mq54LydA@mail.gmail.com>

2018-02-26 10:31 GMT+01:00 Norbert Preining <preining at logic.at>:

> Hi,
>
> > Also attached my version of texlive.tlpdb (texlive.zip).
> > I opened it and I think you found the problem, it is corrupted, it appeas
>
> Indeed, badly. That is strange.
>
> > I have a texlive.tlpdb.cb4d87b1077a7ded201cfa3d92984c7d, created 10
> minutes
>
> No, that comes from the remote. What you can try to do is
>   tlmgr recreate-tlpdb --platform=win32
> Hope that fixes it ...
>
> Best
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>

Output of the command tlmgr recreate-tlpdb --platform=win32

First directive needs to be 'name', not

















     at C:/texlive/2017/tlpkg/TeXLive/TLPOBJ.pm line 103, <TMP> line 202100.

Unfortunately, it doesn't work...
Ciao!

Carla
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180226/da0f02c7/attachment.html>

From tljack at forallx.net  Mon Feb 26 22:47:22 2018
From: tljack at forallx.net (jack)
Date: Mon, 26 Feb 2018 15:47:22 -0600
Subject: [tex-live] Strange tlmgr output today
Message-ID: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>

Just now I rsynced to update my local copy of the entire tlnet repository.
 Then I did `tlmgr update --list` as usual to see if any of my actually
installed packages needed to be updated.  But I got some weird output,
involving the word "keep":

$ tlmgr update --list
tlmgr: package repository /stuff/texstuff/tlnet (verified)
tlmgr: saving backups to /stuff/texstuff/tlbax
keep:     l3experimental           : local:    46720, source:    46085
keep:     l3kernel                 : local:    46720, source:    46085
keep:     l3packages               : local:    46712, source:    46085
keep:     tex4ht                   : local:    46728, source:    46699
keep:     texlive-docindex         : local:    46711, source:    46664
tlmgr: no updates available

I've never seen anything like this before.  What's going on, and what will
make this output go away?

I tried `tlmgr update --all`, but as it said, there were no updates
available.  Subsequent invocations of `tlmgr update --list` keep producing
this odd output.

-Jack

From preining at logic.at  Tue Feb 27 00:40:08 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 27 Feb 2018 08:40:08 +0900
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <CAEgp3VsAnTsjmQupK6APby9o6dT-PPGyiNTty8hp=5Mq54LydA@mail.gmail.com>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
 <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
 <20180226000155.GC8089@bulldog.preining.info>
 <CAEgp3VthqWH_g3wQzXDuDFSk==r=JxN5jZVkH9uOTRqG3kbBFQ@mail.gmail.com>
 <20180226093140.GA15125@bulldog.preining.info>
 <CAEgp3VsAnTsjmQupK6APby9o6dT-PPGyiNTty8hp=5Mq54LydA@mail.gmail.com>
Message-ID: <20180226234008.GB23834@bulldog.preining.info>

> >   tlmgr recreate-tlpdb --platform=win32

> Output of the command tlmgr recreate-tlpdb --platform=win32
> First directive needs to be 'name', not

Can you remove texlive.tlpdb (it is anyway completely broken)
and retry.

If you still have these errors, then also one of the .tlpobj
files in tlpkg/tlpobj/ seems to be corrupted, too.

All together it seems it would be easier to just do a new installation
...

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Feb 27 00:45:31 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 27 Feb 2018 08:45:31 +0900
Subject: [tex-live] Strange tlmgr output today
In-Reply-To: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>
References: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>
Message-ID: <20180226234531.GC23834@bulldog.preining.info>

On Mon, 26 Feb 2018, jack wrote:
> $ tlmgr update --list
> tlmgr: package repository /stuff/texstuff/tlnet (verified)
> tlmgr: saving backups to /stuff/texstuff/tlbax
> keep:     l3experimental           : local:    46720, source:    46085
> keep:     l3kernel                 : local:    46720, source:    46085
> keep:     l3packages               : local:    46712, source:    46085
> keep:     tex4ht                   : local:    46728, source:    46699
> keep:     texlive-docindex         : local:    46711, source:    46664
> tlmgr: no updates available
> 
> I've never seen anything like this before.  What's going on, and what will
> make this output go away?

You have updated against a more recent mirror, and the one you have
synced the tlnet to your local disk was not updated to the latest stage,
it is one day late.

Try again.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Tue Feb 27 02:11:12 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 27 Feb 2018 10:11:12 +0900
Subject: [tex-live] [tlmgr] Use of uninitialized value
In-Reply-To: <87k1v419rf.fsf@example.com>
References: <87k1v419rf.fsf@example.com>
Message-ID: <20180227011112.GE3026@bulldog.preining.info>

Hi Denis,

>   ? Use of uninitialized value $whatsize in concatenation (.) or string at /usr/local/texlive/2017/tlpkg/TeXLive/TLPDB.pm line 2057, <STDIN> line 1.

Thanks for the report, this is harmless and comes from a debug
statement. I have added guards that no warning is printed.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From tljack at forallx.net  Tue Feb 27 02:42:23 2018
From: tljack at forallx.net (jack)
Date: Mon, 26 Feb 2018 19:42:23 -0600
Subject: [tex-live] Strange tlmgr output today
In-Reply-To: <20180226234531.GC23834@bulldog.preining.info>
References: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>
 <20180226234531.GC23834@bulldog.preining.info>
Message-ID: <633198ce5b1f7e0acbe1f3306339ca2e.squirrel@box5445.bluehost.com>

On Mon, February 26, 2018 5:45 pm, Norbert Preining wrote:
> On Mon, 26 Feb 2018, jack wrote:
>
>> $ tlmgr update --list
>> tlmgr: package repository /stuff/texstuff/tlnet (verified)
>> tlmgr: saving backups to /stuff/texstuff/tlbax
>> keep:     l3experimental           : local:    46720, source:    46085
>> keep:     l3kernel                 : local:    46720, source:    46085
>> keep:     l3packages               : local:    46712, source:    46085
>> keep:     tex4ht                   : local:    46728, source:    46699
>> keep:     texlive-docindex         : local:    46711, source:    46664
>> tlmgr: no updates available
>>
>>
>> I've never seen anything like this before.  What's going on, and what
>> will make this output go away?
>
> You have updated against a more recent mirror, and the one you have
> synced the tlnet to your local disk was not updated to the latest stage, it
> is one day late.
>
> Try again.

OK, I will try again, but I am having trouble making sense of your
explanation.  I only ever sync against one mirror (mirrors.rit.edu), so I
don't see how that mirror could've become more recent than itself.  For
the same reason, I also don't see how my local clone could possibly be
more recent than mirrors.rit.edu.

-Jack

From norbert at preining.info  Tue Feb 27 03:01:05 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 27 Feb 2018 11:01:05 +0900
Subject: [tex-live] Strange tlmgr output today
In-Reply-To: <633198ce5b1f7e0acbe1f3306339ca2e.squirrel@box5445.bluehost.com>
References: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>
 <20180226234531.GC23834@bulldog.preining.info>
 <633198ce5b1f7e0acbe1f3306339ca2e.squirrel@box5445.bluehost.com>
Message-ID: <20180227020105.GG3026@bulldog.preining.info>

On Mon, 26 Feb 2018, jack wrote:
> OK, I will try again, but I am having trouble making sense of your
> explanation.  I only ever sync against one mirror (mirrors.rit.edu), so I
> don't see how that mirror could've become more recent than itself.  For
> the same reason, I also don't see how my local clone could possibly be
> more recent than mirrors.rit.edu.

But this is the only explanation. May you did
  tlmgr --repository ctan update --all
or something similar. I don't see another reason, if you haven't edited
the tlpdb by hand.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From tljack at forallx.net  Tue Feb 27 03:57:01 2018
From: tljack at forallx.net (jack)
Date: Mon, 26 Feb 2018 20:57:01 -0600
Subject: [tex-live] Strange tlmgr output today
In-Reply-To: <20180227020105.GG3026@bulldog.preining.info>
References: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>
 <20180226234531.GC23834@bulldog.preining.info>
 <633198ce5b1f7e0acbe1f3306339ca2e.squirrel@box5445.bluehost.com>
 <20180227020105.GG3026@bulldog.preining.info>
Message-ID: <1369faf66085d461d5b6b363046d403c.squirrel@box5445.bluehost.com>

On Mon, February 26, 2018 8:01 pm, Norbert Preining wrote:
> On Mon, 26 Feb 2018, jack wrote:
>
>> OK, I will try again, but I am having trouble making sense of your
>> explanation.  I only ever sync against one mirror (mirrors.rit.edu), so
>> I
>> don't see how that mirror could've become more recent than itself.  For
>> the same reason, I also don't see how my local clone could possibly be
>> more recent than mirrors.rit.edu.
>
> But this is the only explanation. May you did
> tlmgr --repository ctan update --all or something similar. I don't see
> another reason, if you haven't edited the tlpdb by hand.

I have done no such thing, nor have I edited a tlpdb by hand.  I sync the
repo via a script, so I never mistype the command.  Also, this happened on
more than one of my machines.  So there must be another explanation.

Perhaps something funny happened to mirrors.rit.edu---like maybe it went
down and had to be restored from a previous state.

Or: is it ever the case that a newer set of packages has to be reverted
and pulled from the main repo, and so some people get stuck with newer
versions that are no longer available on the mirrors?  (I notice that most
of the packages in the output are l3*, and there was just very recently a
problem with those mentioned on this list.)

-Jack

From carlatexlyx at gmail.com  Tue Feb 27 08:10:23 2018
From: carlatexlyx at gmail.com (CarLaTeX)
Date: Tue, 27 Feb 2018 08:10:23 +0100
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <20180226234008.GB23834@bulldog.preining.info>
References: <CAEgp3VuVkJXU20-FisNOfT1ZHMikWNaFCYC72YRPJMi1R01PLw@mail.gmail.com>
 <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
 <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
 <20180226000155.GC8089@bulldog.preining.info>
 <CAEgp3VthqWH_g3wQzXDuDFSk==r=JxN5jZVkH9uOTRqG3kbBFQ@mail.gmail.com>
 <20180226093140.GA15125@bulldog.preining.info>
 <CAEgp3VsAnTsjmQupK6APby9o6dT-PPGyiNTty8hp=5Mq54LydA@mail.gmail.com>
 <20180226234008.GB23834@bulldog.preining.info>
Message-ID: <CAEgp3VsyMitYmLcOdVbrXB986sOvcxzRwWzGfpXAcHVfoHZB+g@mail.gmail.com>

2018-02-27 0:40 GMT+01:00 Norbert Preining <preining at logic.at>:

> > >   tlmgr recreate-tlpdb --platform=win32
>
> > Output of the command tlmgr recreate-tlpdb --platform=win32
> > First directive needs to be 'name', not
>
> Can you remove texlive.tlpdb (it is anyway completely broken)
> and retry.
>
> If you still have these errors, then also one of the .tlpobj
> files in tlpkg/tlpobj/ seems to be corrupted, too.
>
> All together it seems it would be easier to just do a new installation
> ...
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>

Still doesn't work, I'll go for reinstallation, thank you!

Bye!

Carla
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180227/e1a9a854/attachment.html>

From preining at logic.at  Tue Feb 27 13:53:47 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 27 Feb 2018 21:53:47 +0900
Subject: [tex-live] Problem with installation: cannot determine release!
In-Reply-To: <CAEgp3VsyMitYmLcOdVbrXB986sOvcxzRwWzGfpXAcHVfoHZB+g@mail.gmail.com>
References: <20180224122803.GB14555@bulldog.preining.info>
 <CAEgp3VsbdxvjUJOqojW2tHykyVBxfNx_pvF3xYEUCHYVNVbQ8Q@mail.gmail.com>
 <20180225144015.GB25976@bulldog.preining.info>
 <CAEgp3VvP-nBAKzavNsaFPDLhf=0iYovfpd-QSt0cji4FBW+okg@mail.gmail.com>
 <20180226000155.GC8089@bulldog.preining.info>
 <CAEgp3VthqWH_g3wQzXDuDFSk==r=JxN5jZVkH9uOTRqG3kbBFQ@mail.gmail.com>
 <20180226093140.GA15125@bulldog.preining.info>
 <CAEgp3VsAnTsjmQupK6APby9o6dT-PPGyiNTty8hp=5Mq54LydA@mail.gmail.com>
 <20180226234008.GB23834@bulldog.preining.info>
 <CAEgp3VsyMitYmLcOdVbrXB986sOvcxzRwWzGfpXAcHVfoHZB+g@mail.gmail.com>
Message-ID: <20180227125347.GE15748@bulldog.preining.info>

Hi,

> Still doesn't work, I'll go for reinstallation, thank you!

Sorry to say, but that is probably the best way. You never know what
other files got corrupted on your disk in the TL installation anyway.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Feb 27 14:05:35 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 27 Feb 2018 22:05:35 +0900
Subject: [tex-live] Strange tlmgr output today
In-Reply-To: <1369faf66085d461d5b6b363046d403c.squirrel@box5445.bluehost.com>
References: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>
 <20180226234531.GC23834@bulldog.preining.info>
 <633198ce5b1f7e0acbe1f3306339ca2e.squirrel@box5445.bluehost.com>
 <20180227020105.GG3026@bulldog.preining.info>
 <1369faf66085d461d5b6b363046d403c.squirrel@box5445.bluehost.com>
Message-ID: <20180227130535.GG15748@bulldog.preining.info>

Hi Jack,

> I have done no such thing, nor have I edited a tlpdb by hand.  I sync the
> repo via a script, so I never mistype the command.  Also, this happened on
> more than one of my machines.  So there must be another explanation.

Hmm, very strange indeed.

> Perhaps something funny happened to mirrors.rit.edu---like maybe it went
> down and had to be restored from a previous state.

Can you try
  tlmgr --repository ctan update --list
and see if you get the same output?

> Or: is it ever the case that a newer set of packages has to be reverted
> and pulled from the main repo, and so some people get stuck with newer

No, that does not happen. We only push out from our deployment server to
CTAN when something like this does not happen. There are several
safe-guards on the way. So this is one of the things I can exclude with
extremely high probability.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From tljack at forallx.net  Wed Feb 28 16:24:17 2018
From: tljack at forallx.net (jack)
Date: Wed, 28 Feb 2018 09:24:17 -0600
Subject: [tex-live] Strange tlmgr output today
In-Reply-To: <20180227130535.GG15748@bulldog.preining.info>
References: <520c58576260cac37f339e3220f6f75b.squirrel@box5445.bluehost.com>
 <20180226234531.GC23834@bulldog.preining.info>
 <633198ce5b1f7e0acbe1f3306339ca2e.squirrel@box5445.bluehost.com>
 <20180227020105.GG3026@bulldog.preining.info>
 <1369faf66085d461d5b6b363046d403c.squirrel@box5445.bluehost.com>
 <20180227130535.GG15748@bulldog.preining.info>
Message-ID: <ca5f9798e9a90c3a5018530fc11ffac6.squirrel@box5445.bluehost.com>

On Tue, February 27, 2018 7:05 am, Norbert Preining wrote:
> Hi Jack,
>
>
>> I have done no such thing, nor have I edited a tlpdb by hand.  I sync
>> the repo via a script, so I never mistype the command.  Also, this
>> happened on more than one of my machines.  So there must be another
>> explanation.
>
> Hmm, very strange indeed.
>
>
>> Perhaps something funny happened to mirrors.rit.edu---like maybe it
>> went down and had to be restored from a previous state.
>
> Can you try
> tlmgr --repository ctan update --list and see if you get the same output?

By the time I got this email and tried it, I had already found that
mirrors.rit.edu had stopped being weird.  (I did a `list`, got the funny
output, then rsynced from there to my local tlnet repo, observed that a
bunch of stuff donwloaded [including the packages listed in the funny
output], then did `list` again, and there was no funny output.)

I had tried such syncing before, but nothing downloaded.  So for some
period of time, mirrors.rit.edu had newer versions of those packages and
then later it had the older versions again.

-Jack

