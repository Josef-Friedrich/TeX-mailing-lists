From norbert at preining.info  Sun Apr  1 02:55:06 2018
From: norbert at preining.info (Norbert Preining)
Date: Sun, 1 Apr 2018 09:55:06 +0900
Subject: [tex-live] new crypto options layout
Message-ID: <20180401005506.GA13457@burischnitzel.preining.info>

Dear all trying the TeX Live 2018 pretest,

with the next update of the TeX Live Manager the usage of the crypto
options has changed.

The two options used till now
  --verify-downloads
  --require-verification
turned out to be difficult to explain and understand, and have been
replaced by a single option
  --verify-repo=none
  --verify-repo=main
  --verify-repo=all

With 'none' no verification is done (formerly --no-verify-downloads).
With 'main' (the default) verification is required for the main repo,
  and if available done for subsidiary repos, but subsidiary repos 
  need not be signed. (formerly default options --verify-downloads 
  --no-require-verification)
With 'all' all used repositories need to be signed (formerly
  --require-verification)

The old options are still accepted but being warned upon when set.

Please convert your setup and scripts, thanks. Please see the man page
or output of tlmgr -help (search for --verify-repo) for details.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Sun Apr  1 03:20:55 2018
From: norbert at preining.info (Norbert Preining)
Date: Sun, 1 Apr 2018 10:20:55 +0900
Subject: [tex-live] Auto-removal of packages
In-Reply-To: <CALBOmsZG7FpMUSSxfYLYHgdr_m1WS=SH9REckPNuxyj-asHQ4w@mail.gmail.com>
References: <CALBOmsZG7FpMUSSxfYLYHgdr_m1WS=SH9REckPNuxyj-asHQ4w@mail.gmail.com>
Message-ID: <20180401012055.GB13457@burischnitzel.preining.info>

Hi Mojca,

> Is this expected behaviour of tlmgr?

Well, kind of.

> > tlmgr remove context

'tlmgr remove' removes also all dependencies that are not required by
any other package.

Since we don't have a status database like debian where packages 
can be / are marked as auto-installed and only those are auto-removed,
there is only this way, or making removal a single package only option.

Since most users (I guess) use tlmgr install with collections and then
remove the collections, the current operation mode does indeed make
sense, but it fails, as you found out, for single packages.

What I CAN think about is the following:
- if the removed package is a collection, remove all depending packages
  that are not required by something else
- if the removed package is a normal package, don't remove depending
  packages.

What this be more senseful? Or create more complications due to
complicated explanations?

Karl?

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Sun Apr  1 05:21:26 2018
From: preining at logic.at (Norbert Preining)
Date: Sun, 1 Apr 2018 12:21:26 +0900
Subject: [tex-live] tlmgr restore unable to check integrity
In-Reply-To: <20180321123906.GA25111@bulldog.preining.info>
References: <20180321102216.i2n7rrvq6wsqpbzo@robertalessi.net>
 <20180321123906.GA25111@bulldog.preining.info>
Message-ID: <20180401032126.GF13457@burischnitzel.preining.info>

Hi,

> Yes it is. I will try to silence these warnings on restore.

Should be now fixed in the sense that restores and unwinding of failed
updates does not issue warnings about missing checksum/filesize
information.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From alessi at robertalessi.net  Sun Apr  1 14:35:00 2018
From: alessi at robertalessi.net (Robert Alessi)
Date: Sun, 1 Apr 2018 14:35:00 +0200
Subject: [tex-live] tlmgr restore unable to check integrity
In-Reply-To: <20180401032126.GF13457@burischnitzel.preining.info>
References: <20180321102216.i2n7rrvq6wsqpbzo@robertalessi.net>
 <20180321123906.GA25111@bulldog.preining.info>
 <20180401032126.GF13457@burischnitzel.preining.info>
Message-ID: <20180401123500.76nplkwbcjjptye2@robertalessi.net>

On Sun, Apr 01, 2018 at 12:21:26PM +0900, Norbert Preining wrote:
> > Yes it is. I will try to silence these warnings on restore.
> 
> Should be now fixed in the sense that restores and unwinding of failed
> updates does not issue warnings about missing checksum/filesize
> information.

Great, many thanks.

Robert

From angelo.g0 at libero.it  Sun Apr  1 16:48:58 2018
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Sun, 1 Apr 2018 16:48:58 +0200 (CEST)
Subject: [tex-live] About repository option in tlmgr
Message-ID: <636908374.634974.1522594138512@mail.libero.it>

I can access a local computer (a MBP) by means of SSH from a GNU/Linux machine:

  ssh utente at mbp

This MBP has a local mirror of a TL repo: /Users/utente/tlrepo.

I tried to update the GNU/Linux installation of TL with:

  tlmgr --repository utente at mbp:tlrepo update --list

but it fails:

  Cannot determine type of tlpdb from /home/utente/utente at mbp:tlrepo!
  tlmgr: Cannot load TeX Live database from /home/utente/utente at mbp:tlrepo

(With the same result, I also tried: tlmgr --repository utente at mbp:/Users/utente/tlrepo update --list)

So, is there a way to do the job or "tlmgr --repository" doesn't support this definitively?


Thanks,
  Angelo.

From norbert at preining.info  Sun Apr  1 16:59:43 2018
From: norbert at preining.info (Norbert Preining)
Date: Sun, 1 Apr 2018 23:59:43 +0900
Subject: [tex-live] About repository option in tlmgr
In-Reply-To: <636908374.634974.1522594138512@mail.libero.it>
References: <636908374.634974.1522594138512@mail.libero.it>
Message-ID: <20180401145943.GB4879@bulldog.preining.info>

Hi Angelo,

>   tlmgr --repository utente at mbp:tlrepo update --list

Not supported, sorry. We only support http(s) and ftp.
I had partial support for rsync, but this here requires ssh.
I am not sure I want to support this.

Use sshfs (fuse) and install from a local directory. This is the better
option.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Mon Apr  2 00:56:08 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 1 Apr 2018 22:56:08 GMT
Subject: [tex-live] Auto-removal of packages
In-Reply-To: <20180401012055.GB13457@burischnitzel.preining.info>
Message-ID: <201804012256.w31Mu8h9000327@freefriends.org>

    'tlmgr remove' removes also all dependencies that are not required by
    any other package.

By default. We already have --no-depends and --no-depends-at-all for both 
tlmgr remove and install.
http://tug.org/texlive/doc/tlmgr.html#remove-option-...-pkg
http://tug.org/texlive/doc/tlmgr.html#install-option-...-pkg

Although in this case it's surely strange to see more packages removed
than installed, it would also be strange if the operations were not
defined symmetrically. That is, if those dependent packages were
installed as the result of an explicit tlmgr install, it would be
expected for them to be uninstalled by tlmgr remove.

Since there is no way to do it perfectly without a lot more work (the
how-it-got-installed status Norbert mentions), I think leaving it alone
is better than churning the behavior. -k

From karl at freefriends.org  Mon Apr  2 01:28:18 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 1 Apr 2018 23:28:18 GMT
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <5DF8CDD3-302E-40A6-BCC1-6F5F05B702DA@octech.com.au>
Message-ID: <201804012328.w31NSIU8003147@freefriends.org>

    Subject: [tex-live] Announce: TeX Live on AWS Lambda

Congratulations.

     - deletes unneeded large files (e.g. doc pdfs) and

Could just eliminate installing all doc and source files with the
respective profile options?
tlpdbopt_install_docfiles 0
tlpdbopt_install_srcfiles 0
(I believe.)

Happy computing,
Karl

From mojca.miklavec.lists at gmail.com  Mon Apr  2 09:15:26 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 2 Apr 2018 09:15:26 +0200
Subject: [tex-live] Auto-removal of packages
In-Reply-To: <201804012256.w31Mu8h9000327@freefriends.org>
References: <20180401012055.GB13457@burischnitzel.preining.info>
 <201804012256.w31Mu8h9000327@freefriends.org>
Message-ID: <CALBOmsZ9a26dc+zAc0ccVqNJBQWVdSVSjbEYKS_4+-DsDJA87Q@mail.gmail.com>

On 2 April 2018 at 00:56, Karl Berry wrote:
>     'tlmgr remove' removes also all dependencies that are not required by
>     any other package.
>
> Since there is no way to do it perfectly without a lot more work (the
> how-it-got-installed status Norbert mentions), I think leaving it alone
> is better than churning the behavior. -k

Agreed.

Thank you,
    Mojca

From tk+texlive at postsubmeta.net  Mon Apr  2 21:39:22 2018
From: tk+texlive at postsubmeta.net (Thomas Krennwallner)
Date: Mon, 2 Apr 2018 21:39:22 +0200
Subject: [tex-live] TeX Live 2018 pretest problem with lualatex and Biolinum
	font
Message-ID: <20180402193922.GA3316@postsubmeta.net>

Hi!

I have recently upgraded to texlive 2018 pretest from Debian
experimental.  My current document seems to look fine with lualatex,
except for bold sans serif text using Linux Biolinum O, which now uses a
bold italic sans serif variant instead after the upgrade.  Other fonts
appear to be fine, only Biolinum has issues with boldface text.

The following example creates reasonable output with xelatex. But if I
compile with lualatex, bold sans serif text seems to use
Linux Biolinum O Bold Oblique (LinBiolinumOBO)
instead of
Linux Biolinum O Bold (LinBiolinumOB).

--- 8< --- 8< ---
\documentclass{article}
\usepackage{fontspec}
\begin{document}
{\sffamily\fontspec{Linux Biolinum O} biolinum sffamily}

{\itshape\sffamily\fontspec{Linux Biolinum O} biolinum sffamily itshape}

{\bfseries\sffamily\fontspec{Linux Biolinum O} biolinum sffamily bfseries (uses oblique with lualatex)}

{\itshape\bfseries\sffamily\fontspec{Linux Biolinum O} biolinum sffamily bfseries itshape (ignores bfseries with xelatex)}
\end{document}
--- >8 --- >8 ---


Here is the output of pdffonts:

% xelatex bio.tex
This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018/Debian) (preloaded format=xelatex)
[...]

% pdffonts bio.pdf
name                                 type              encoding         emb sub uni object ID
------------------------------------ ----------------- ---------------- --- --- --- ---------
LFUSRL+LinBiolinumO-Identity-H       CID Type 0C       Identity-H       yes yes yes      5  0
ESTCNE+LinBiolinumOI-Identity-H      CID Type 0C       Identity-H       yes yes yes      7  0
AROGDP+LinBiolinumOB-Identity-H      CID Type 0C       Identity-H       yes yes yes      9  0
VGCWVC+LMRoman10-Regular-Identity-H  CID Type 0C       Identity-H       yes yes yes     11  0


% lualatex bio.tex
This is LuaTeX, Version 1.07.0 (TeX Live 2018/Debian) 
[...]

% pdffonts bio.pdf
name                                 type              encoding         emb sub uni object ID
------------------------------------ ----------------- ---------------- --- --- --- ---------
YAQTMP+LinBiolinumO                  CID Type 0C       Identity-H       yes yes yes      4  0
FGULND+LinBiolinumOI                 CID Type 0C       Identity-H       yes yes yes      5  0
NIPUHB+LinBiolinumOBO                CID Type 0C       Identity-H       yes yes yes      6  0
JFRMQG+LMRoman10-Regular             CID Type 0C       Identity-H       yes yes yes      7  0


Note the difference at the third font line: xelatex uses bold
LinBiolinumOB, whereas lualatex uses bold oblique LinBiolinumOBO
instead.  Interestingly, xelatex ignores the boldface setting for
biolinum when I select an italic shape, which seems to be properly
approximated with lualatex using the oblique variant of biolinum.  But
lualatex should have used LinBiolinumOB for the non-italic boldface
text.


I have further noticed the following difference with Biolinum:

% for s in R RB RBO ; do otfinfo -i $(kpsewhich LinBiolinum_${s}.otf) | egrep '(Unique ID|Full name)' ; done
Full name:           Linux Biolinum O
Unique ID:           FontForge 2.0 : Linux Biolinum O : 30-11-2017
Full name:           Linux Biolinum O Bold
Unique ID:           FontForge 2.0 : Linux Biolinum O Bold : 30-11-2017
Full name:           Linux Biolinum O Bold Oblique
Unique ID:           FontForge 2.0 : Linux Biolinum O Bold Oblique : 30-10-2012

It seems that the regular (R) and the bold (RB) variant is from
30-11-2017, whereas the bold oblique (RBO) variant is from 30-10-2012.
But I'm not sure whether this difference is important.

Cheers,
TK

From sam at octech.com.au  Mon Apr  2 05:17:01 2018
From: sam at octech.com.au (Sam O'Connor)
Date: Mon, 2 Apr 2018 13:17:01 +1000
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <201804012328.w31NSIU8003147@freefriends.org>
References: <201804012328.w31NSIU8003147@freefriends.org>
Message-ID: <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>

Thanks Karl,

I already have docfiles and srcfiles disabled (and tlpdbopt_create_formats=0)

I trim about 46M by removing these files:

8.1M	/var/task/texlive/2017/bin/x86_64-linux/luajittex
7.9M	/var/task/texlive/2017/bin/x86_64-linux/luatex
400K	/var/task/texlive/2017/tlpkg/texlive.tlpdb
13M	/var/task/texlive/2017/tlpkg/texlive.tlpdb.712d2ebb90babb07f11d145f4eea99aa
9.7M	/var/task/texlive/2017/texmf-dist/source/latex/koma-script/doc
7.7M	/var/task/texlive/2017/texmf-dist/doc

I guess the doc is being installed because of adding packages with  tlmgr install after install-tl.

You cans see the details in the Dockerfile here:
https://github.com/samoconnor/lambdalatex/blob/master/Dockerfile
https://github.com/samoconnor/lambdalatex/blob/master/texlive.profile

Cheers,

Sam

> On 2 Apr 2018, at 9:28 am, Karl Berry <karl at freefriends.org> wrote:
> 
>    Subject: [tex-live] Announce: TeX Live on AWS Lambda
> 
> Congratulations.
> 
>     - deletes unneeded large files (e.g. doc pdfs) and
> 
> Could just eliminate installing all doc and source files with the
> respective profile options?
> tlpdbopt_install_docfiles 0
> tlpdbopt_install_srcfiles 0
> (I believe.)
> 
> Happy computing,
> Karl

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180402/358e7639/attachment.html>

From norbert at preining.info  Tue Apr  3 02:13:35 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 3 Apr 2018 09:13:35 +0900
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
References: <201804012328.w31NSIU8003147@freefriends.org>
 <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
Message-ID: <20180403001335.GC13494@bulldog.preining.info>

Hi Sam,

first of all, nice to see your work on Docker and AWS, very interesting!

> 8.1M	/var/task/texlive/2017/bin/x86_64-linux/luajittex
> 7.9M	/var/task/texlive/2017/bin/x86_64-linux/luatex

If you don't need that, you could also do 
  tlmgr remove --force luatex
to get rid of all of luatex, not only the binaries.

> 400K	/var/task/texlive/2017/tlpkg/texlive.tlpdb

Deleting this file will freeze everything for tlmgr, means you will not
be able to change anything after this has been done. This is probably
fine for your application.

> 13M	/var/task/texlive/2017/tlpkg/texlive.tlpdb.712d2ebb90babb07f11d145f4eea99aa

That can be deleted, it is the cached tlpdb from the tlmgr install run.

> 9.7M	/var/task/texlive/2017/texmf-dist/source/latex/koma-script/doc

These files are included in the "runfiles" sections because the author
of koma-script wants it this way. Again, for your case I think it is ok
to remove them.

> 7.7M	/var/task/texlive/2017/texmf-dist/doc

What else remains there?

> I guess the doc is being installed because of adding packages with  tlmgr install after install-tl.

No, if you have the options set during installation they will be
preserved in the tlpdb and further installs will also honor them.
If this doesn't work, it is a bug. Can you let me know what else remains
in texmf-dist/doc?

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Tue Apr  3 02:24:56 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 3 Apr 2018 09:24:56 +0900
Subject: [tex-live] TeX Live 2018 pretest problem with lualatex and
 Biolinum font
In-Reply-To: <20180402193922.GA3316@postsubmeta.net>
References: <20180402193922.GA3316@postsubmeta.net>
Message-ID: <20180403002456.GD13494@bulldog.preining.info>

Hi Thomas,

thanks for your detailed report.

I checked and with current tlpretest (upstream TeX Live) I get the same
fonts with xelatex and lualatex.

The Debian TeX Live packages are already a bit old, lots of things have
changed since the last upload. The sources for binaries are now frozen,
and I will upload another set soon.

Please retry after I have done that.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From sam at octech.com.au  Tue Apr  3 02:27:48 2018
From: sam at octech.com.au (Sam O'Connor)
Date: Tue, 3 Apr 2018 10:27:48 +1000
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <20180403001335.GC13494@bulldog.preining.info>
References: <201804012328.w31NSIU8003147@freefriends.org>
 <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
 <20180403001335.GC13494@bulldog.preining.info>
Message-ID: <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>

> On 3 Apr 2018, at 10:13 am, Norbert Preining <norbert at preining.info> wrote:
> 
>> 8.1M	/var/task/texlive/2017/bin/x86_64-linux/luajittex
>> 7.9M	/var/task/texlive/2017/bin/x86_64-linux/luatex
> 
> If you don't need that, you could also do 
>  tlmgr remove --force luatex
> to get rid of all of luatex, not only the binaries.

That?s good to know. Thanks!

> 
>> 7.7M	/var/task/texlive/2017/texmf-dist/doc
> 
> What else remains there?

koma related docs...

bash-4.2# find /var/task/texlive/2017/texmf-dist/doc
/var/task/texlive/2017/texmf-dist/doc
/var/task/texlive/2017/texmf-dist/doc/latex
/var/task/texlive/2017/texmf-dist/doc/latex/koma-script
/var/task/texlive/2017/texmf-dist/doc/latex/koma-script/README
/var/task/texlive/2017/texmf-dist/doc/latex/koma-script/scraddr.html
/var/task/texlive/2017/texmf-dist/doc/latex/koma-script/manifest.txt
? snip ?


It might be nice to have a `tlmgr` or `texlive.profile` ?clean-all" option to create an absolute-minimum install (event if it is locked from further updates, that is fine for many embedded or server deployment scenarios).

Question: is it possible to put a list of specific packages to install in the `texlive.profile` file? i.e. specify a custom collection in-line?

Thanks for your help with this!
Cheers,

Sam

From ziegenhagen at gmail.com  Tue Apr  3 02:34:33 2018
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Tue, 3 Apr 2018 02:34:33 +0200
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>
References: <201804012328.w31NSIU8003147@freefriends.org>
 <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
 <20180403001335.GC13494@bulldog.preining.info>
 <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>
Message-ID: <CAML7JCjEmEMPj4vSUeYuPgGn78X8wb_AAZWvEv-qWgZO9FAc-Q@mail.gmail.com>

?Please be aware, that some package authors might object against having the
documentation stripped away for the actual codse.

?This could be a possible mine field you don't want to step in...

?Uwe


-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180403/d4d3a699/attachment-0001.html>

From norbert at preining.info  Tue Apr  3 02:37:37 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 3 Apr 2018 09:37:37 +0900
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>
References: <201804012328.w31NSIU8003147@freefriends.org>
 <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
 <20180403001335.GC13494@bulldog.preining.info>
 <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>
Message-ID: <20180403003737.GE13494@bulldog.preining.info>

Hi Sam,

> koma related docs...

Yes, I explained that in the previous email, this is on purpose.

> It might be nice to have a `tlmgr` or `texlive.profile` ?clean-all" option to create an absolute-minimum install (event if it is locked from further updates, that is fine for many embedded or server deployment scenarios).

What is "absolute minimum"? That is impossible to define. Only the
engines and one needs to build formats by hand? Which languages? Which
fonts? Which packages? There is no way to fix this once and for all,
thus we refrain from doing so.

> Question: is it possible to put a list of specific packages to install in the `texlive.profile` file? i.e. specify a custom collection in-line?

No, that is not possible at the moment, sorry.

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Tue Apr  3 02:38:41 2018
From: norbert at preining.info (Norbert Preining)
Date: Tue, 3 Apr 2018 09:38:41 +0900
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <CAML7JCjEmEMPj4vSUeYuPgGn78X8wb_AAZWvEv-qWgZO9FAc-Q@mail.gmail.com>
References: <201804012328.w31NSIU8003147@freefriends.org>
 <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
 <20180403001335.GC13494@bulldog.preining.info>
 <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>
 <CAML7JCjEmEMPj4vSUeYuPgGn78X8wb_AAZWvEv-qWgZO9FAc-Q@mail.gmail.com>
Message-ID: <20180403003841.GF13494@bulldog.preining.info>

Hi

> ?Please be aware, that some package authors might object against having the
> documentation stripped away for the actual codse.

Yes, that is what I mentioned. But since it is run in a purely automated
environment without a user being able to ask for documentation, I guess
it is fine in this case.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From sam at octech.com.au  Tue Apr  3 05:17:04 2018
From: sam at octech.com.au (Sam O'Connor)
Date: Tue, 3 Apr 2018 13:17:04 +1000
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <20180403003737.GE13494@bulldog.preining.info>
References: <201804012328.w31NSIU8003147@freefriends.org>
 <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
 <20180403001335.GC13494@bulldog.preining.info>
 <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>
 <20180403003737.GE13494@bulldog.preining.info>
Message-ID: <A2F8B24E-A3B5-4657-9779-B1572D13D4A4@octech.com.au>

> On 3 Apr 2018, at 10:13 am, Norbert Preining <norbert at preining.info> wrote:
> 
> If you don't need that, you could also do 
>  tlmgr remove --force luatex
> to get rid of all of luatex, not only the binaries.

This works if I also use `tlpdbopt_autobackup 0`.
Without that option removing luatex does not decrease the installation size.


> On 3 Apr 2018, at 10:37 am, Norbert Preining <norbert at preining.info> wrote:
> 
> What is "absolute minimum"? That is impossible to define. Only the
> engines and one needs to build formats by hand? Which languages? Which
> fonts? Which packages? There is no way to fix this once and for all,
> thus we refrain from doing so.

True. The minimum is not generally knowable.
Maybe tlmgr could have a simple clean option that just removes the cached tlpdb.

> On 3 Apr 2018, at 10:38 am, Norbert Preining <norbert at preining.info> wrote:
> 
>> ?Please be aware, that some package authors might object against having the
>> documentation stripped away for the actual codse.
> 
> Yes, that is what I mentioned. But since it is run in a purely automated
> environment without a user being able to ask for documentation, I guess
> it is fine in this case.


I?m assuming that the packages in question are distributed under the terms of the LPPL.
There is no intention of redistributing any of the packages, so my interpretation is that the only applicable clauses are 1 and 5:

?1. Activities other than distribution and/or modification of the Work are not covered by this license; they are outside its scope. In particular, the act of running the Work is not restricted and no requirements are made concerning any offers of support for the Work.?

?5. If you are not the Current Maintainer of the Work, you may modify your copy of the Work, thus creating a Derived Work based on the Work, and compile this Derived Work, thus creating a Compiled Work based on the Derived Work."

So we could think of a stripped-down installation as a modification, or as a compiled work ("processed into a form where it is directly usable on a computer system?). In either case, modification, compiling, running and offers of support are all unrestricted in the absence of distribution.

Uwe, if you believe that creating a stripped down installation is something that package authors might view as being outside the terms of the licence, I would like to understand why and try to do things in a way that complies with the license.

Regards,

Sam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180403/33eb309c/attachment.html>

From ziegenhagen at gmail.com  Tue Apr  3 08:35:00 2018
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Tue, 3 Apr 2018 08:35:00 +0200
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <A2F8B24E-A3B5-4657-9779-B1572D13D4A4@octech.com.au>
References: <201804012328.w31NSIU8003147@freefriends.org>
 <9D5B2E38-2C4D-4967-A640-6F5930EADCD3@octech.com.au>
 <20180403001335.GC13494@bulldog.preining.info>
 <AE9EA75F-975C-44AB-8DBE-4199348A430E@octech.com.au>
 <20180403003737.GE13494@bulldog.preining.info>
 <A2F8B24E-A3B5-4657-9779-B1572D13D4A4@octech.com.au>
Message-ID: <CAML7JChYjP0NCNM7pRc1ic+NauGqGUZ9SBmmnGpMAkdM0LWm+w@mail.gmail.com>

Hi Sam,

if it is just for you, there surely is no issue. But if you distribute the
files in any way, that might create some trouble. It's a pretty long story,
which I am not really eager to tell.

Uwe


2018-04-03 5:17 GMT+02:00 Sam O'Connor <sam at octech.com.au>:

> On 3 Apr 2018, at 10:13 am, Norbert Preining <norbert at preining.info>
> wrote:
>
> If you don't need that, you could also do
>  tlmgr remove --force luatex
> to get rid of all of luatex, not only the binaries.
>
>
> This works if I also use `tlpdbopt_autobackup 0`.
> Without that option removing luatex does not decrease the installation
> size.
>
>
> On 3 Apr 2018, at 10:37 am, Norbert Preining <norbert at preining.info>
> wrote:
>
> What is "absolute minimum"? That is impossible to define. Only the
> engines and one needs to build formats by hand? Which languages? Which
> fonts? Which packages? There is no way to fix this once and for all,
> thus we refrain from doing so.
>
>
> True. The minimum is not generally knowable.
> Maybe tlmgr could have a simple clean option that just removes the cached
> tlpdb.
>
> On 3 Apr 2018, at 10:38 am, Norbert Preining <norbert at preining.info>
> wrote:
>
> ?Please be aware, that some package authors might object against having the
> documentation stripped away for the actual codse.
>
>
> Yes, that is what I mentioned. But since it is run in a purely automated
> environment without a user being able to ask for documentation, I guess
> it is fine in this case.
>
>
> I?m assuming that the packages in question are distributed under the terms
> of the LPPL.
> There is no intention of redistributing any of the packages, so my
> interpretation is that the only applicable clauses are 1 and 5:
>
> *?1. Activities other than distribution and/or modification of the Work
> are not covered by this license; they are outside its scope. In particular,
> the act of running the Work is not restricted and no requirements are
> made concerning any offers of support for the Work.?*
>
> *?5. If you are not the Current Maintainer of the Work, you may modify
> your copy of the Work, thus creating a Derived Work based on the Work,
> and compile this Derived Work, thus creating a Compiled Work based on
> the Derived Work."*
>
> So we could think of a stripped-down installation as a modification, or as
> a compiled work ("processed into a form where it is directly usable on a
> computer system?). In either case, modification, compiling, running
> and offers of support are all unrestricted in the absence of distribution.
>
> Uwe, if you believe that creating a stripped down installation is
> something that package authors might view as being outside the terms of the
> licence, I would like to understand why and try to do things in a way that
> complies with the license.
>
> Regards,
>
> Sam
>



-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180403/3ce73169/attachment-0001.html>

From uwe.siart at tum.de  Tue Apr  3 09:32:37 2018
From: uwe.siart at tum.de (Uwe Siart)
Date: Tue, 03 Apr 2018 09:32:37 +0200
Subject: [tex-live] [pretest] tlmgr warning about uninitialized value
Message-ID: <5AC32E15.29994.84C225A@uwe.siart.tum.de>

After today's update:

C:\>tlmgr update --list
Use of uninitialized value $opts{"verify-repo"} in string eq at C:\Programme1\texlive\2018\texmf-dist\scripts\texlive\tl
mgr.pl line 6563.
tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest (not verified: gpg unavailable)
tlmgr.pl: no updates available

--
Uwe


From Herbert.Voss at fu-berlin.de  Tue Apr  3 09:44:15 2018
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Tue, 3 Apr 2018 09:44:15 +0200
Subject: [tex-live] [pretest] tlmgr warning about uninitialized value
In-Reply-To: <5AC32E15.29994.84C225A@uwe.siart.tum.de>
References: <5AC32E15.29994.84C225A@uwe.siart.tum.de>
Message-ID: <2302b291-9133-19ef-b8ac-3232237c2127@fu-berlin.de>



Am 03.04.2018 um 09:32 schrieb Uwe Siart:
> After today's update:
>
> C:\>tlmgr update --list
> Use of uninitialized value $opts{"verify-repo"} in string eq at C:\Programme1\texlive\2018\texmf-dist\scripts\texlive\tl
> mgr.pl line 6563.
> tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest (not verified: gpg unavailable)
> tlmgr.pl: no updates available
>
>

no problem on Linux after an update:

voss at shania:~/texte/Buecher/WissArbeit$ tlmgr update --list
tlmgr: package repositories
 ??? main = ftp://ftp.cstug.cz/pub/tex/local/tlpretest/ (verified)
 ??? tlcontrib = http://contrib.texlive.info/current (not verified: 
pubkey missing)
 ??? KOMA = http://www.komascript.de/repository/texlive/2017 (not 
verified: pubkey missing)
tlmgr: saving backups to /usr/local/texlive/2018/tlpkg/backups
keep:???? koma-script????????????? : local:??? 45292, source: 2969 at KOMA
tlmgr: no updates available


Herbert

From jhielscher at posteo.de  Tue Apr  3 17:46:33 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Tue, 3 Apr 2018 17:46:33 +0200
Subject: [tex-live] SVN dehyph-exptl update: outdated  source file names
Message-ID: <20180403174633.485c998c@aloksar.localdomain>

Hi,

-r47228 brought an exact year++ in dehyph-exptl. As a first rescue to
make any tex run possible, I manually changed the name of the
hyphenation files (s/2017-03-31/2018-03-31/g on
trunk/Master/texmf-dist/tex/generic/config/language.dat ).

This is of course the wrong place for such a change (the file
itself warns about not editing by hand).


This change should be made within texlive.tlpdb


Index: trunk/Master/tlpkg/texlive.tlpdb
===================================================================
--- trunk/Master/tlpkg/texlive.tlpdb    (Revision 47244)
+++ trunk/Master/tlpkg/texlive.tlpdb    (Arbeitskopie)
@@ -67177,8 +67177,8 @@
 longdesc Babel und hyphsubst aus dem Oberdiek-Bundel verwendet werden.
 depend hyphen-base
 depend hyph-utf8
-execute AddHyphen  name=german-x-2017-03-31 synonyms=german-x-latest
lefthyphenmin=2 righthyphenmin=2  file=dehypht-x-2017-03-31.tex
file_patterns=hyph-de-1901.pat.txt file_exceptions=hyph-de-1901.hyp.txt
-execute AddHyphen  name=ngerman-x-2017-03-31
synonyms=ngerman-x-latest  lefthyphenmin=2 righthyphenmin=2
file=dehyphn-x-2017-03-31.tex  file_patterns=hyph-de-1996.pat.txt
file_exceptions=hyph-de-1996.hyp.txt +execute AddHyphen
name=german-x-2018-03-31 synonyms=german-x-latest  lefthyphenmin=2
righthyphenmin=2  file=dehypht-x-2018-03-31.tex
file_patterns=hyph-de-1901.pat.txt file_exceptions=hyph-de-1901.hyp.txt
+execute AddHyphen  name=ngerman-x-2018-03-31
synonyms=ngerman-x-latest  lefthyphenmin=2 righthyphenmin=2
file=dehyphn-x-2018-03-31.tex  file_patterns=hyph-de-1996.pat.txt
file_exceptions=hyph-de-1996.hyp.txt docfiles size=52
texmf-dist/doc/generic/dehyph-exptl/CHANGES
texmf-dist/doc/generic/dehyph-exptl/INSTALL


and then some magic updates the various occurrencies of references to
the dehypt*-x-$DATE files, too (?).


Johannes

From norbert at preining.info  Tue Apr  3 18:48:04 2018
From: norbert at preining.info (Norbert Preining)
Date: Wed, 4 Apr 2018 01:48:04 +0900
Subject: [tex-live] SVN dehyph-exptl update: outdated source file names
In-Reply-To: <20180403174633.485c998c@aloksar.localdomain>
References: <20180403174633.485c998c@aloksar.localdomain>
Message-ID: <20180403164804.GE28416@bulldog.preining.info>

> -r47228 brought an exact year++ in dehyph-exptl. As a first rescue to
> make any tex run possible, I manually changed the name of the
> hyphenation files (s/2017-03-31/2018-03-31/g on
> trunk/Master/texmf-dist/tex/generic/config/language.dat ).

Huu? How did this end up on your side? We didn't push out anything to
tlpretest for that, as the tests failed.

I have fixed the names in the tlpsrc files already and the next rebuild
will work out, hopefully.

> This is of course the wrong place for such a change (the file
> itself warns about not editing by hand).

Yes indeed ...

As long as you use normal tlpretest there should not be a need for that,
are you running straight from SVN checkout? This is NOT supported (but
possible, but may break as you have found out).

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jhielscher at posteo.de  Tue Apr  3 22:34:49 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Tue, 3 Apr 2018 22:34:49 +0200
Subject: [tex-live] SVN dehyph-exptl update: outdated source file names
In-Reply-To: <20180403164804.GE28416@bulldog.preining.info>
References: <20180403174633.485c998c@aloksar.localdomain>
 <20180403164804.GE28416@bulldog.preining.info>
Message-ID: <20180403223449.695b5ff0@hordevm>

> are you running straight from SVN checkout?
Yes (to compile and test binaries without keeping both SVN and tlmgr up
to date).

> This is NOT
> supported (but possible, but may break as you have found out).

Good to know (-:. I don't mind, but just didn't want that such a thing
was overseen.

I saw that with last CEST night's work (-r47256 et al.), this was
already fixed, and now everything works again.

Thanks,
Johannes

From karl at freefriends.org  Wed Apr  4 00:22:29 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 3 Apr 2018 22:22:29 GMT
Subject: [tex-live] [pretest] tlmgr warning about uninitialized value
In-Reply-To: <5AC32E15.29994.84C225A@uwe.siart.tum.de>
Message-ID: <201804032222.w33MMTEt014019@freefriends.org>

    Use of uninitialized value $opts{"verify-repo"} in string eq at
    C:\Programme1\texlive\2018\texmf-dist\scripts\texlive\tlmgr.pl line 6563.

Thanks. I added some tests against that error message, though I can't
say I tried to reproduce or debug all the many cases involved :(. -k

From karl at freefriends.org  Wed Apr  4 00:31:43 2018
From: karl at freefriends.org (Karl Berry)
Date: Tue, 3 Apr 2018 22:31:43 GMT
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <A2F8B24E-A3B5-4657-9779-B1572D13D4A4@octech.com.au>
Message-ID: <201804032231.w33MVh7b014978@freefriends.org>

    The minimum is not generally knowable.

True, but there is an "infra" scheme which is intended to install the
minimum needed to do anything useful. It's used by the l3build setup,
for instance.  It does include luatex, though. -k

From zarniwhoop at ntlworld.com  Wed Apr  4 01:22:28 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Wed, 4 Apr 2018 00:22:28 +0100
Subject: [tex-live] Source build breakage with system poppler-0.63
Message-ID: <20180403232228.GA18484@milliways.localdomain>

With last night's 2018-pre source (r47264) I got a new build failure
with system poppler because my latest system has moved to using
poppler-0.63.0.  It turns out that Jerry James (Cc:'d) fixed this for
fedora rawhide's current 2017 build, but the changed code has moved a
lot further down the file in 2018.

His change is at https://src.fedoraproject.org/cgit/rpms/texlive-base.git/commit/texlive-20170520-new-poppler.patch?id=8f2dd7dbd55b013fa60f9138bdba648cc103bb80


diff -Naur a/texk/web2c/pdftexdir/pdftoepdf-newpoppler.cc b/texk/web2c/pdftexdir/pdftoepdf-newpoppler.cc
--- a/texk/web2c/pdftexdir/pdftoepdf-newpoppler.cc	2018-03-05 22:18:21.000000000 +0000
+++ b/texk/web2c/pdftexdir/pdftoepdf-newpoppler.cc	2018-04-03 22:19:43.326983429 +0100
@@ -968,8 +968,8 @@
 */
 // begin modification
             groupDict = pageDict->lookup("Group");
-            Dict dic1 = page->getGroup();
-            Dict dic2 = groupDict.getDict();
+            const Dict& dic1 = page->getGroup();
+            const Dict& dic2 = groupDict.getDict();
             // replace dic2 in groupDict with dic1
             l = dic2.getLength();
             for (i = 0; i < l; i++) {

Build tested (plus the testsuite) on systems using poppler-0.62
(which had worked with the unpatched code) and 0.63.

?en
-- 
Before the universe began, there was a sound. It went: "One, two, ONE,
two, three, four" [...] The cataclysmic power chord that followed was
the creation of time and space and matter and it does Not Fade Away.
 - wiki.lspace.org/mediawiki/Music_With_Rocks_In



From sam at octech.com.au  Wed Apr  4 01:39:15 2018
From: sam at octech.com.au (Sam O'Connor)
Date: Wed, 4 Apr 2018 09:39:15 +1000
Subject: [tex-live] Announce: TeX Live on AWS Lambda
References: <3C00AC78-D0EC-4150-9BD5-758649CA50FA@octech.com.au>
Message-ID: <F193CDAB-FA6E-4D4F-ADC4-967198F94DD9@octech.com.au>

> 
On 4 Apr 2018, at 8:22 am, Karl Berry <karl at freefriends.org> wrote:
>   The minimum is not generally knowable.
> 
> There is an "infra" scheme which is intended to install the minimum
> needed to do anything. It's used by the l3build setup, for instance.
> It does include luatex, though. -k


Thanks Karl,

Another idea I?m considering is to use `strace -f -t -e trace=file` to get a list of files that are accessed during a test run and then delete everything else before creating the deployment archive. In this application the input always comes from the same template so the set of accessed files should be fairly stable.



From preining at logic.at  Wed Apr  4 02:35:11 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 4 Apr 2018 09:35:11 +0900
Subject: [tex-live] Announce: TeX Live on AWS Lambda
In-Reply-To: <F193CDAB-FA6E-4D4F-ADC4-967198F94DD9@octech.com.au>
References: <3C00AC78-D0EC-4150-9BD5-758649CA50FA@octech.com.au>
 <F193CDAB-FA6E-4D4F-ADC4-967198F94DD9@octech.com.au>
Message-ID: <20180404003511.GB27383@bulldog.preining.info>

On Wed, 04 Apr 2018, Sam O'Connor wrote:
> Another idea I?m considering is to use `strace -f -t -e trace=file`

Or
  pdflatex -recorder ..
and look into the produced .fls file. But it will not list all the
files, only those loaded via kpathsea I guess.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at fuk.kindai.ac.jp  Wed Apr  4 06:18:34 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 4 Apr 2018 13:18:34 +0900
Subject: [tex-live] Source build breakage with system poppler-0.63
In-Reply-To: <20180403232228.GA18484@milliways.localdomain>
References: <20180403232228.GA18484@milliways.localdomain>
Message-ID: <49D192E307A24D3095D8504FB58800A9@CJ3001517A>

> With last night's 2018-pre source (r47264) I got a new build failure
> with system poppler because my latest system has moved to using
> poppler-0.63.0.  It turns out that Jerry James (Cc:'d) fixed this for
> fedora rawhide's current 2017 build, but the changed code has moved a
> lot further down the file in 2018.

Thanks very much. Applied in r47281.

Best,
Akira


From uwe.siart at tum.de  Wed Apr  4 07:29:56 2018
From: uwe.siart at tum.de (Uwe Siart)
Date: Wed, 04 Apr 2018 07:29:56 +0200
Subject: [tex-live] [pretest] tlmgr warning about uninitialized value
In-Reply-To: <201804032222.w33MMTEt014019@freefriends.org>
References: <5AC32E15.29994.84C225A@uwe.siart.tum.de>,
 <201804032222.w33MMTEt014019@freefriends.org>
Message-ID: <5AC462D4.1661.D022D5A@uwe.siart.tum.de>

On 3 Apr 2018 at 22:22, Karl Berry wrote:

>     Use of uninitialized value $opts{"verify-repo"} in string eq at
>     C:\Programme1\texlive\2018\texmf-dist\scripts\texlive\tlmgr.pl line 6563.
> 
> Thanks. I added some tests against that error message, though I can't
> say I tried to reproduce or debug all the many cases involved :(. -k

The message disappeared for me. Thanks.

-- 
Uwe


From mwemheu at gmail.com  Wed Apr  4 16:11:16 2018
From: mwemheu at gmail.com (Moritz Wemheuer)
Date: Wed, 4 Apr 2018 16:11:16 +0200
Subject: [tex-live] Update biblatex-philosophy to 1.9.8a?
Message-ID: <b060f51a-9838-a7f1-01ef-0e055f9fbf92@gmail.com>

Hi everybody!

biblatex-philosophy (https://www.ctan.org/pkg/biblatex-philosophy) 
v1.9.8a (dated 2018-03-03) has hit CTAN a while ago and MikTeX a few 
days later, but as far as I can tell it has not yet made it into TeX 
live (2018 pretest still has 1.9.8 from November 2017). Is there a 
reason for that?

Best
Moritz

From wl at gnu.org  Wed Apr  4 19:22:34 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 04 Apr 2018 19:22:34 +0200 (CEST)
Subject: [tex-live] `findhyph' documentation issues
Message-ID: <20180404.192234.1555748750110646849.wl@gnu.org>

[svn r46739 (from Feb. 25th)]

Two buglets.

(1) If you say

      texdoc findhyph     ,

    a README file gets displayed which starts with

      findhyph -- Perl program which finds all words hyphenated by TeX
                  in a document; see findhyph.pdf or findhyph.1 for
                  details

    Please change this to display `findhyph.man1.pdf' instead.

(2) The file `findhyph.man1.pdf' is incorrectly created.  The man file
    `findhyph.1' is in UTF8 encoding (since it contains some Czech
    characters), while the conversion apparently assumes latin1.  To
    get correct formatting you need

      groff -K utf8 -Tps -man -ww findhyph.1 \
      | ps2pdf - findhyph.pdf


    Werner

From wl at gnu.org  Wed Apr  4 19:30:39 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 04 Apr 2018 19:30:39 +0200 (CEST)
Subject: [tex-live] `findhyph' documentation issues
In-Reply-To: <20180404.192234.1555748750110646849.wl@gnu.org>
References: <20180404.192234.1555748750110646849.wl@gnu.org>
Message-ID: <20180404.193039.1676050335849860845.wl@gnu.org>


>       groff -K utf8 -Tps -man -ww findhyph.1 \
>       | ps2pdf - findhyph.pdf

This can be simplified to

  groff -K utf8 -man findhyph.1 \
  | ps2pdf - findhyph.pdf

since `-ww' only emits warnings, and `-Tps' is the default output
device.


    Werner

From karl at freefriends.org  Wed Apr  4 22:24:15 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 4 Apr 2018 20:24:15 GMT
Subject: [tex-live] Update biblatex-philosophy to 1.9.8a?
In-Reply-To: <b060f51a-9838-a7f1-01ef-0e055f9fbf92@gmail.com>
Message-ID: <201804042024.w34KOFxY010669@freefriends.org>

    Subject: [tex-live] Update biblatex-philosophy to 1.9.8a?

Thanks, updated, sorry for the lag. -k

From mwemheu at gmail.com  Wed Apr  4 23:16:20 2018
From: mwemheu at gmail.com (Moritz Wemheuer)
Date: Wed, 4 Apr 2018 23:16:20 +0200
Subject: [tex-live] Update biblatex-philosophy to 1.9.8a?
In-Reply-To: <201804042024.w34KOFxY010669@freefriends.org>
References: <201804042024.w34KOFxY010669@freefriends.org>
Message-ID: <823da25c-6532-a330-7827-e90a6a2ad416@gmail.com>

Am 04.04.2018 um 22:24 schrieb Karl Berry:
>      Subject: [tex-live] Update biblatex-philosophy to 1.9.8a?
>
> Thanks, updated, sorry for the lag. -k

Thank you very much.

From tk+texlive at postsubmeta.net  Thu Apr  5 05:31:31 2018
From: tk+texlive at postsubmeta.net (Thomas Krennwallner)
Date: Thu, 5 Apr 2018 05:31:31 +0200
Subject: [tex-live] TeX Live 2018 pretest problem with lualatex and
 Biolinum font
In-Reply-To: <20180403002456.GD13494@bulldog.preining.info>
References: <20180402193922.GA3316@postsubmeta.net>
 <20180403002456.GD13494@bulldog.preining.info>
Message-ID: <20180405033131.GA2387@postsubmeta.net>

Hi Norbert,

On Tue Apr 03, 2018 09:24:56AM +0900, Norbert Preining wrote:
> The Debian TeX Live packages are already a bit old, lots of things have
> changed since the last upload. The sources for binaries are now frozen,
> and I will upload another set soon.
> 
> Please retry after I have done that.

I've upgraded to texlive 2018.20180404-1, but the outcome is the same:
lualatex uses LinBiolinumOBO, while xelatex uses LinBiolinumOB.

Cheers,
TK

From daniel.flipo at free.fr  Thu Apr  5 12:17:55 2018
From: daniel.flipo at free.fr (Daniel Flipo)
Date: Thu, 5 Apr 2018 12:17:55 +0200
Subject: [tex-live] Fixed compilation date in the .log file
Message-ID: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>

Hi all,

I have just installed TeXLive 2018 pretest (2018/04/05).

With all formats the compilation date and time written at the beginning
of the .log file is replaced by a fixed one (20 MAY 2016) f.i. I get:

This is LuaTeX, Version 1.07.0 (TeX Live 2018)  (format=luatex 2018.4.5)
 20 MAY 2016 11:00

This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018) (preloaded
format=xelatex 2018.4.5)  20 MAY 2016 09:00

This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018)
(preloaded format=pdflatex 2018.4.5)  20 MAY 2016 09:00

Not a big deal ;-) thanks for your hard work!
-- 
Daniel Flipo

From kakuto at fuk.kindai.ac.jp  Thu Apr  5 12:40:45 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 5 Apr 2018 19:40:45 +0900
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
Message-ID: <AF9368CC769E461F99D8DAEB09F27A16@CJ3001517A>

> This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018) (preloaded
> format=xelatex 2018.4.5)  20 MAY 2016 09:00

Maybe you are setting variables
export FORCE_SOURCE_DATE=1
export SOURCE_DATE_EPOCH=...

Best,
Akira


From daniel.flipo at free.fr  Thu Apr  5 15:51:18 2018
From: daniel.flipo at free.fr (Daniel Flipo)
Date: Thu, 5 Apr 2018 15:51:18 +0200
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <AF9368CC769E461F99D8DAEB09F27A16@CJ3001517A>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
 <AF9368CC769E461F99D8DAEB09F27A16@CJ3001517A>
Message-ID: <3acb3ce3-0f1d-6691-ceb8-c2bd1b1772ba@free.fr>


Le 05/04/2018 ? 12:40, Akira Kakuto a ?crit?:
>> This is XeTeX, Version 3.14159265-2.6-0.99999 (TeX Live 2018) (preloaded
>> format=xelatex 2018.4.5)? 20 MAY 2016 09:00
> 
> Maybe you are setting variables
> export FORCE_SOURCE_DATE=1
> export SOURCE_DATE_EPOCH=...

No these variables are not set on my system (Linux Debian) and while
compiling with TL2017, the current date and time are printed as expected
in the .log file.

Best,
-- 
Daniel Flipo

From preining at logic.at  Thu Apr  5 16:40:58 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Apr 2018 23:40:58 +0900
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
Message-ID: <20180405144058.GA5039@bulldog.preining.info>

HI

> I have just installed TeXLive 2018 pretest (2018/04/05).
> 
> With all formats the compilation date and time written at the beginning
> of the .log file is replaced by a fixed one (20 MAY 2016) f.i. I get:

Not reproducible by me, just run trivial Hello World through pdflatex
and got this in the log file:
  This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded format=pdflatex 2018.4.4)  5 APR 2018 23:37


Full run:
[~] pdflatex
This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded format=pdflatex)
 restricted \write18 enabled.
**\relax
entering extended mode
LaTeX2e <2017-04-15>
Babel <3.18> and hyphenation patterns for 84 language(s) loaded.

*\documentclass{article}

*\begin{document}
(/home/norbert/tl/2018/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/home/norbert/tl/2018/texmf-dist/tex/latex/base/size10.clo))
No file texput.aux.

*Hello World

*\end{document}
[1{/home/norbert/tl/2018/texmf-var/fonts/map/pdftex/updmap/pdftex.map}]
(./texput.aux)</home/norbert/tl/2018/texmf-dist/fonts/type1/public/amsfonts/cm/
cmr10.pfb>
Output written on texput.pdf (1 page, 11534 bytes).
Transcript written on texput.log.


I also tried with TL2018/Debian from experimental, same result.

So I am quite sure that you have some env vars as described by Akira set
somehow. Maybe when *BUILDING* the formats.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From daniel.flipo at free.fr  Thu Apr  5 17:24:02 2018
From: daniel.flipo at free.fr (Daniel Flipo)
Date: Thu, 5 Apr 2018 17:24:02 +0200
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <20180405144058.GA5039@bulldog.preining.info>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
 <20180405144058.GA5039@bulldog.preining.info>
Message-ID: <93557377-8640-de2e-750f-5b0d9d8b0cbc@free.fr>


Le 05/04/2018 ? 16:40, Norbert Preining a ?crit?:

> So I am quite sure that you have some env vars as described by Akira set
> somehow. Maybe when *BUILDING* the formats.

Thanks Norbert! I rebuilt the formats (fmtutil-sys --all) and the
date/time is now correct in the .log files.

I still do not understand what happened during the first build of the
formats by the genuine TL2018-pretest installation.  It was done as an
unprivileged user (me, not "root") and I /didn't/ change any ENV
variables in between?

Best,
-- 
Daniel Flipo

From daniel.flipo at free.fr  Thu Apr  5 21:56:57 2018
From: daniel.flipo at free.fr (Daniel Flipo)
Date: Thu, 5 Apr 2018 21:56:57 +0200
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <93557377-8640-de2e-750f-5b0d9d8b0cbc@free.fr>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
 <20180405144058.GA5039@bulldog.preining.info>
 <93557377-8640-de2e-750f-5b0d9d8b0cbc@free.fr>
Message-ID: <481861cd-99ce-cb4a-7ba5-eeeb92b71551@free.fr>


Le 05/04/2018 ? 17:24, Daniel Flipo a ?crit?:

> I still do not understand what happened during the first build of the
> formats by the genuine TL2018-pretest installation.  It was done as an
> unprivileged user (me, not "root") and I /didn't/ change any ENV
> variables in between?

I have investigated a bit further: actually the fixed compilation time
only occurs when I run test files through the l3build system (both with
TL2017 or TL2018), not with normal files.

I guess this is done on purpose by the l3build system to avoid
differences when checking regression files.  I had never noticed this
before :-(

Sorry for the noise!
-- 
Daniel Flipo

From kakuto at fuk.kindai.ac.jp  Thu Apr  5 22:23:05 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 6 Apr 2018 05:23:05 +0900
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <481861cd-99ce-cb4a-7ba5-eeeb92b71551@free.fr>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
 <20180405144058.GA5039@bulldog.preining.info>
 <93557377-8640-de2e-750f-5b0d9d8b0cbc@free.fr>
 <481861cd-99ce-cb4a-7ba5-eeeb92b71551@free.fr>
Message-ID: <D5F8F770213D4A6DACFB40E3B99874B6@CJ3001517A>

> I guess this is done on purpose by the l3build system to avoid
> differences when checking regression files.  I had never noticed this
> before :-(

Many thanks. I didn't know that. I can find in
l3build-aux.lua:

function setepoch()
  return
    os_setenv .. " SOURCE_DATE_EPOCH=" .. epoch
      .. os_concat ..
    os_setenv .. " SOURCE_DATE_EPOCH_TEX_PRIMITIVES=1"
      .. os_concat ..
    os_setenv .. " FORCE_SOURCE_DATE=1"
      .. os_concat
end

Best,
Akira


From luecking at uark.edu  Thu Apr  5 22:26:17 2018
From: luecking at uark.edu (Daniel H. Luecking)
Date: Thu, 5 Apr 2018 20:26:17 +0000
Subject: [tex-live] TeX Live 2018 pretest problem with lualatex and
 Biolinum font
Message-ID: <CY4PR04MB0265A354C9A92CB842A6C9ECB9BB0@CY4PR04MB0265.namprd04.prod.outlook.com>

Thomas Krennwallner wrote
>... if I
>compile with lualatex, bold sans serif text seems to use
>Linux Biolinum O Bold Oblique (LinBiolinumOBO)
>instead of
>Linux Biolinum O Bold (LinBiolinumOB).
>
>\documentclass{article}
>\usepackage{fontspec}
>\begin{document}
>{\sffamily\fontspec{Linux Biolinum O} biolinum sffamily}
>
>{\itshape\sffamily\fontspec{Linux Biolinum O} biolinum sffamily itshape}
>
>{\bfseries\sffamily\fontspec{Linux Biolinum O} biolinum sffamily bfseries (uses oblique with lualatex)}
>
>{\itshape\bfseries\sffamily\fontspec{Linux Biolinum O} biolinum sffamily bfseries itshape (ignores bfseries with xelatex)}
>\end{document}

I got the same results (TeXLive 2018, updated today, Windows 7). However, both of the following changes corrected the problems:

Load the libertine package instead of fontspec:
    %\usepackage{fontspec}
    \usepackage{libertine}
and omit the \fontspec commands.

Or move the \fontspec commands before all the font commands. For example,
    \fontspec{Linux Biolinum O}{\bfseries\sffamily

I can't explain why the original doesn't work.

Cheers,

Daniel H. Luecking
Dept. of Mathematical Sciences
University of Arkansas
Fayetteville, AR, USA

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180405/0ee16e4d/attachment-0001.html>

From joseph.wright at morningstar2.co.uk  Thu Apr  5 22:28:57 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 5 Apr 2018 21:28:57 +0100
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <D5F8F770213D4A6DACFB40E3B99874B6@CJ3001517A>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
 <20180405144058.GA5039@bulldog.preining.info>
 <93557377-8640-de2e-750f-5b0d9d8b0cbc@free.fr>
 <481861cd-99ce-cb4a-7ba5-eeeb92b71551@free.fr>
 <D5F8F770213D4A6DACFB40E3B99874B6@CJ3001517A>
Message-ID: <72772561-1991-8619-0d31-645068641817@morningstar2.co.uk>

On 05/04/2018 21:23, Akira Kakuto wrote:
>> I guess this is done on purpose by the l3build system to avoid
>> differences when checking regression files.? I had never noticed this
>> before :-(
> 
> Many thanks. I didn't know that. I can find in
> l3build-aux.lua:
> 
> function setepoch()
>  ?return
>  ?? os_setenv .. " SOURCE_DATE_EPOCH=" .. epoch
>  ???? .. os_concat ..
>  ?? os_setenv .. " SOURCE_DATE_EPOCH_TEX_PRIMITIVES=1"
>  ???? .. os_concat ..
>  ?? os_setenv .. " FORCE_SOURCE_DATE=1"
>  ???? .. os_concat
> end
> 
> Best,
> Akira

We've recently adjusted the defaults so the above doesn't apply 
as-standard to documentation typesetting.

Joseph


From karl at freefriends.org  Fri Apr  6 00:07:40 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Apr 2018 22:07:40 GMT
Subject: [tex-live] Monday 9 April tl18 freeze target
Message-ID: <201804052207.w35M7e43022285@freefriends.org>

I'm hoping to completely freeze TL18 this Monday (April 9) for the usual
several days of TeX Collection DVD creation and testing. I don't know if
we'll make it, but it's my goal.

So ... anyone who wants package updates in the TL18 release,
please upload to CTAN now! --thanks, karl.

From borisv at lk.net  Fri Apr  6 00:22:57 2018
From: borisv at lk.net (Boris Veytsman)
Date: Thu, 5 Apr 2018 15:22:57 -0700
Subject: [tex-live] Monday 9 April tl18 freeze target
In-Reply-To: <201804052207.w35M7e43022285@freefriends.org> (message from Karl
 Berry on Thu, 5 Apr 2018 22:07:40 GMT)
References: <201804052207.w35M7e43022285@freefriends.org>
Message-ID: <201804052222.w35MMvHW012554@bilbo.localnet>

KB> Date: Thu, 5 Apr 2018 22:07:40 GMT
KB>  karl at freefriends.org using -f
KB> From: Karl Berry <karl at freefriends.org>

KB> I'm hoping to completely freeze TL18 this Monday (April 9) for the usual
KB> several days of TeX Collection DVD creation and testing. I don't know if
KB> we'll make it, but it's my goal.

I am going to release new version of acmart this weekend.  Could you
please make sure it is in TL18?

Thanks!

-- 
Good luck

-Boris

The 357.73 Theory:
	Auditors always reject expense accounts
	with a bottom line divisible by 5.

From karl at freefriends.org  Fri Apr  6 00:47:18 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Apr 2018 22:47:18 GMT
Subject: [tex-live] `findhyph' documentation issues
In-Reply-To: <20180404.193039.1676050335849860845.wl@gnu.org>
Message-ID: <201804052247.w35MlIAT025993@freefriends.org>

Hi Werner,

      Please change this to display `findhyph.man1.pdf' instead.

Ok.

      groff -K utf8 

Thanks, but whatever is happening, it apparently doesn't know about the
\v{r} character in Pavel Striz (that's Str\v{r}\'\i\v{z})'s name on line
170 of the source:

man1/findhyph.1:170: warning: can't find special character `u0072_030C'

And indeed, the \v{r} is missing from the output.

The exact command I'm running, following what we do for other man pages
but adding the -K utf8, is:
  groff -K utf8 -man -t -rS11 man1/findhyph.1 
This is with groff 1.22.2 as installed on CentOS 7[.2.1511].

Anything to be done, or should I just commit with the missing character?
I guess it's better to have all the other characters in there correctly.
--thanks, karl.

From preining at logic.at  Fri Apr  6 01:52:02 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 6 Apr 2018 08:52:02 +0900
Subject: [tex-live] Fixed compilation date in the .log file
In-Reply-To: <481861cd-99ce-cb4a-7ba5-eeeb92b71551@free.fr>
References: <e813a879-9196-a5f9-fbfd-aee0c17a542d@free.fr>
 <20180405144058.GA5039@bulldog.preining.info>
 <93557377-8640-de2e-750f-5b0d9d8b0cbc@free.fr>
 <481861cd-99ce-cb4a-7ba5-eeeb92b71551@free.fr>
Message-ID: <20180405235202.GA7015@bulldog.preining.info>

> I guess this is done on purpose by the l3build system to avoid

Yes, it is, and one of the reasons why S_D_E is there ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From petra at ctan.org  Fri Apr  6 06:34:15 2018
From: petra at ctan.org (Petra Ruebe-Pugliese)
Date: Fri, 6 Apr 2018 06:34:15 +0200
Subject: [tex-live] Monday 9 April tl18 freeze target
In-Reply-To: <201804052207.w35M7e43022285@freefriends.org>
References: <201804052207.w35M7e43022285@freefriends.org>
Message-ID: <20180406043415.GA2277@prptp>

Oh dear ..

On Thursday 05 April 2018 at 22:07:40 +0000  Karl Berry <karl at freefriends.org> wrote:
> I'm hoping to completely freeze TL18 this Monday (April 9) for the usual
> several days of TeX Collection DVD creation and testing. I don't know if
> we'll make it, but it's my goal.
> 
> So ... anyone who wants package updates in the TL18 release,
> please upload to CTAN now! --thanks, karl.

 I'm not sure _CTAN_ will be able to make it.
 I hope we won't get _completely_ drowned, after this call.

 Three quarters of the CTAN upload team are at present at a
 DANTE meeting in Passau;  the third quarter is on holiday.
 I'll be on my way back home (and completely offline!) until
 tomorrow around midday and then very busy catching up with
 everyday life.

 So I _do_ hope uploaders will be merciful ...

   Best,
   Petra


From dbitouze at wanadoo.fr  Fri Apr  6 07:39:58 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Fri, 06 Apr 2018 07:39:58 +0200
Subject: [tex-live] Monday 9 April tl18 freeze target
In-Reply-To: <20180406043415.GA2277@prptp> (Petra Ruebe-Pugliese's message of
 "Fri, 6 Apr 2018 06:34:15 +0200")
References: <201804052207.w35M7e43022285@freefriends.org>
 <20180406043415.GA2277@prptp>
Message-ID: <87k1tkx58x.fsf@example.com>

Le 06/04/18 ? 06h34, Petra Ruebe-Pugliese a ?crit :

> Oh dear ..
>
> On Thursday 05 April 2018 at 22:07:40 +0000  Karl Berry <karl at freefriends.org> wrote:
>> I'm hoping to completely freeze TL18 this Monday (April 9) for the usual
>> several days of TeX Collection DVD creation and testing. I don't know if
>> we'll make it, but it's my goal.
>> 
>> So ... anyone who wants package updates in the TL18 release,
>> please upload to CTAN now! --thanks, karl.
>
>  I'm not sure _CTAN_ will be able to make it.
>  I hope we won't get _completely_ drowned, after this call.
>
>  Three quarters of the CTAN upload team are at present at a
>  DANTE meeting in Passau;  the third quarter is on holiday.
>  I'll be on my way back home (and completely offline!) until
>  tomorrow around midday and then very busy catching up with
>  everyday life.
>
>  So I _do_ hope uploaders will be merciful ...

... or, because of the this non-availability of CTAN upload team, maybe
Karl could relax a bit the dead line?

I remembered it was on April 9, but I figured out this date was the dead
line for updating packages on CTAN. Sigh... I planned to release
3 classes by next Monday and won't be able to do it today.
-- 
Denis


From manfred at dante.de  Fri Apr  6 08:08:04 2018
From: manfred at dante.de (Manfred Lotz)
Date: Fri, 6 Apr 2018 08:08:04 +0200
Subject: [tex-live] Monday 9 April tl18 freeze target
In-Reply-To: <20180406043415.GA2277@prptp>
References: <201804052207.w35M7e43022285@freefriends.org>
 <20180406043415.GA2277@prptp>
Message-ID: <20180406080804.54866dff@hogwart>

On Fri, 6 Apr 2018 06:34:15 +0200
Petra Ruebe-Pugliese <petra at ctan.org> wrote:

... 

>  I'm not sure _CTAN_ will be able to make it.
>  I hope we won't get _completely_ drowned, after this call.
> 

I'm usually quite optimistic. Therefore,  I'm pretty confident that we
will manage whatever will come up. 

So, in my opinion authors who want to have their newest stuff on the DVD
shouldn't hesitate to upload if it is required from their point of view.

Just my 2 Cents.

-- 
Manfred

From wl at gnu.org  Fri Apr  6 08:15:53 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 06 Apr 2018 08:15:53 +0200 (CEST)
Subject: [tex-live] `findhyph' documentation issues
In-Reply-To: <201804052247.w35MlIAT025993@freefriends.org>
References: <20180404.193039.1676050335849860845.wl@gnu.org>
 <201804052247.w35MlIAT025993@freefriends.org>
Message-ID: <20180406.081553.629421412263405972.wl@gnu.org>


> And indeed, the \v{r} is missing from the output.
>
> This is with groff 1.22.2 as installed on CentOS 7[.2.1511].

OK.  Your CentOS installation apparently doesn't set up the URW
PostScript fonts (as used by ghostscript) for groff; instead, it
simply uses the TR files coming with groff, providing only the most
basic sets of original Adobe metric files.

Given that my openSuSE box handles this fine I suggest that you file a
CentOS bug report :-)

I'll send you privately an archive with the URW stuff (metric and PFA
files), taken from my openSUSE distribution.  Please move them to a
directory `/foo/bar', set the environment variable

  GROFF_FONT_PATH=/foo/bar

and retry (note that the subdirectory `devps' must stay).


    Werner

From wl at gnu.org  Fri Apr  6 08:41:00 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 06 Apr 2018 08:41:00 +0200 (CEST)
Subject: [tex-live] `findhyph' documentation issues
In-Reply-To: <20180406.081553.629421412263405972.wl@gnu.org>
References: <20180404.193039.1676050335849860845.wl@gnu.org>
 <201804052247.w35MlIAT025993@freefriends.org>
 <20180406.081553.629421412263405972.wl@gnu.org>
Message-ID: <20180406.084100.19334778748812258.wl@gnu.org>


> OK.  Your CentOS installation apparently doesn't set up the URW
> PostScript fonts (as used by ghostscript) for groff; instead, it
> simply uses the TR files coming with groff,

s/TR/metrics/.


    Werner

From patrick at gundla.ch  Fri Apr  6 11:33:07 2018
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 6 Apr 2018 11:33:07 +0200
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <26A6F904-0D32-44DB-90FC-6E75E2F438C4@gundla.ch>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
 <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
 <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>
 <E933D225-6F6A-4EA7-AE29-428FF23366D7@gundla.ch>
 <CALBOmsYPmrj7bwzTUEtS-F9KdNBuf3NVvkLQLC1_6h=u7xzn=w@mail.gmail.com>
 <4EE412C8-B3D0-49E4-8F73-32FC2ADFA2C0@uoregon.edu>
 <26A6F904-0D32-44DB-90FC-6E75E2F438C4@gundla.ch>
Message-ID: <3B83C148-8BFC-44B6-8A3F-ED471C760EC5@gundla.ch>

Now that I've heard that tl2018 will go into freeze. Is this bug fixed yet?

Does it make sense to try again?

Regards,

Patrick



> Am 27.03.2018 um 09:13 schrieb Patrick Gundlach <patrick at gundla.ch>:
> 
>> The bad news is that I DO use 
>> 
>> 	export STRIP="strip -u -r"
>> 
>> when I compile the MacTeX binaries. 
>> 
>> These binaries are then uploaded by Karl to svn, and later used to construct both BasicTeX
>> and MacTeX.
> 
> 
> so what can we do now?
> 
> Patrick
> 
> 




From patrick at gundla.ch  Fri Apr  6 15:55:46 2018
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 6 Apr 2018 15:55:46 +0200
Subject: [tex-live] TL2018/LuaTeX/Mac "bug" (but also probably in all
 other distributions as well)
In-Reply-To: <3B83C148-8BFC-44B6-8A3F-ED471C760EC5@gundla.ch>
References: <355033AB-8957-4688-8663-AA968739613F@gundla.ch>
 <D6E3DCCF-2BFF-4ABC-881E-C64BFC17C1ED@gundla.ch>
 <CALBOmsYhdsxDUnDbyuyTwgRXJS0iF_uCXHG=HxCxsgLqnzp0wQ@mail.gmail.com>
 <E933D225-6F6A-4EA7-AE29-428FF23366D7@gundla.ch>
 <CALBOmsYPmrj7bwzTUEtS-F9KdNBuf3NVvkLQLC1_6h=u7xzn=w@mail.gmail.com>
 <4EE412C8-B3D0-49E4-8F73-32FC2ADFA2C0@uoregon.edu>
 <26A6F904-0D32-44DB-90FC-6E75E2F438C4@gundla.ch>
 <3B83C148-8BFC-44B6-8A3F-ED471C760EC5@gundla.ch>
Message-ID: <EC3B6342-085E-40E0-A5EF-95C6E24F7F56@gundla.ch>

answering my own post:

> Now that I've heard that tl2018 will go into freeze. Is this bug fixed yet?
> 
> Does it make sense to try again?

yes, and yes.

The bug is fixed (thank you!) and hopefully also for the 2019 TL.

Thank you very much!

  Patrick



From maieul at maieul.net  Fri Apr  6 16:17:44 2018
From: maieul at maieul.net (=?UTF-8?Q?Ma=c3=afeul?=)
Date: Fri, 6 Apr 2018 16:17:44 +0200
Subject: [tex-live] Monday 9 April tl18 freeze target
In-Reply-To: <201804052207.w35M7e43022285@freefriends.org>
References: <201804052207.w35M7e43022285@freefriends.org>
Message-ID: <pa7ve6$21v$1@blaine.gmane.org>

Le 06/04/2018 ? 00:07, Karl Berry a ?crit?:
> I'm hoping to completely freeze TL18 this Monday (April 9) for the usual
> several days of TeX Collection DVD creation and testing. I don't know if
> we'll make it, but it's my goal.
> 
> So ... anyone who wants package updates in the TL18 release,
> please upload to CTAN now! --thanks, karl.
> 
I have upload new version of reledpar this morning (2.21.6) and Petra 
told me it has been deposed on CTAN.

Best


From news3 at nililand.de  Fri Apr  6 16:41:09 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 6 Apr 2018 16:41:09 +0200
Subject: [tex-live] lTL2018 pretest: language.dat not generated?
Message-ID: <15w5lawd2dv6r$.dlg@nililand.de>

I just updated a few packages with tlmgr and saw that language.dat
in texmf-var wasn't updated, its date is from tuesday.

As the documentation claims that "The TeX Live installer and tlmgr
routinely call generate for all of these files." I wonder if this
means something is broken here.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From dbitouze at wanadoo.fr  Fri Apr  6 21:58:24 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Fri, 06 Apr 2018 21:58:24 +0200
Subject: [tex-live] kpsewhich case insensitive?
Message-ID: <87vad4umxr.fsf@example.com>

Hi,

if I'm right, `kpsewhich' was case sensitive until TL 2017 but that's
not the case with TL 2018. Indeed, if a, say, `HyperRef.sty' is in
~/texmf/tex/latex/ :

  ?????
  ? $ kpsewhich hyperref.sty
  ? /home/bitouze/texmf/tex/latex/HyperRef.sty
  ?????

Is it the intended behavior? (I hope not)
-- 
Denis


From cereda.paulo at gmail.com  Fri Apr  6 22:10:09 2018
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Fri, 6 Apr 2018 17:10:09 -0300
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <87vad4umxr.fsf@example.com>
References: <87vad4umxr.fsf@example.com>
Message-ID: <74109662-d809-a4a3-9aa2-5bf6e29af744@gmail.com>

Hi, Denis,

Mine returns:

------------------
oxford:~ paulo$ kpsewhich hyperref.sty
/usr/local/texlive/2017/texmf-dist/tex/latex/hyperref/hyperref.sty
------------------

However, it might be interesting to note that my system *is* case 
insensitive:

------------------
oxford:~ paulo$ diskutil info / | grep File
    File System Personality:  Journaled HFS+
------------------

So 'hyperref.sty' and 'HyperRef.sty' would technically be the same, at 
least in here. How case sensitivity checking works under the hood is 
beyond my humble knowledge...

Cheerio!

Paulo

Em 06-04-2018 16:58, Denis Bitouz? escreveu:
> Hi,
> 
> if I'm right, `kpsewhich' was case sensitive until TL 2017 but that's
> not the case with TL 2018. Indeed, if a, say, `HyperRef.sty' is in
> ~/texmf/tex/latex/ :
> 
>    ?????
>    ? $ kpsewhich hyperref.sty
>    ? /home/bitouze/texmf/tex/latex/HyperRef.sty
>    ?????
> 
> Is it the intended behavior? (I hope not)
> 

From karl at freefriends.org  Fri Apr  6 23:46:37 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 6 Apr 2018 21:46:37 GMT
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <87vad4umxr.fsf@example.com>
Message-ID: <201804062146.w36Lkb72024994@freefriends.org>

    Is it the intended behavior? (I hope not)

Yes, it is. I wrote a new section in the Kpathsea manual explaining it
(Casefolding search), besides my various previous messages.

To turn it off in your case, there are two choices:

1) set the config/envvar texmf_casefold_search to 0;

2) specify TEXMFHOME with a leading !! in texmf.cnf, that is, using ls-R
(thus requiring you to run mktexlsr when any files are added or removed,
 thus probably better not to do this.)

Well, there is 3) renaming your case-conflicting file, but you already
knew that.

You can thank Apple and its users for inflicting this pain. --best, karl

From dbitouze at wanadoo.fr  Sat Apr  7 00:03:27 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 07 Apr 2018 00:03:27 +0200
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <74109662-d809-a4a3-9aa2-5bf6e29af744@gmail.com> (Paulo Roberto
 Massa Cereda's message of "Fri, 6 Apr 2018 17:10:09 -0300")
References: <87vad4umxr.fsf@example.com>
 <74109662-d809-a4a3-9aa2-5bf6e29af744@gmail.com>
Message-ID: <87r2nsuh5c.fsf@example.com>

Le 06/04/18 ? 17h10, Paulo Roberto Massa Cereda a ?crit :

> Hi, Denis,

Hi Paulo,

> Mine returns:
>
> ------------------
> oxford:~ paulo$ kpsewhich hyperref.sty
> /usr/local/texlive/2017/texmf-dist/tex/latex/hyperref/hyperref.sty
> ------------------

And this even if there's a `HyperRef.sty' somewhere in the TeX search
PATHs?

> However, it might be interesting to note that my system *is* case
> insensitive:

But that's not the case of mine.

> ------------------
> oxford:~ paulo$ diskutil info / | grep File
>    File System Personality:  Journaled HFS+
> ------------------
>
> So 'hyperref.sty' and 'HyperRef.sty' would technically be the same, at
> least in here.

On insensitive systems, I can understand.

> How case sensitivity checking works under the hood is beyond my humble
> knowledge...

The same for mine :)

All the best.
-- 
Denis


From dbitouze at wanadoo.fr  Sat Apr  7 00:14:31 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 07 Apr 2018 00:14:31 +0200
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <201804062146.w36Lkb72024994@freefriends.org> (Karl Berry's
 message of "Fri, 6 Apr 2018 21:46:37 GMT")
References: <201804062146.w36Lkb72024994@freefriends.org>
Message-ID: <87in94ugmw.fsf@example.com>

Le 06/04/18 ? 21h46, Karl Berry a ?crit :

>     Is it the intended behavior? (I hope not)
>
> Yes, it is.

Sigh...

> I wrote a new section in the Kpathsea manual explaining it
> (Casefolding search), besides my various previous messages.

Read carefully tomorrow (not enough time this evening).

> To turn it off in your case, there are two choices:
>
> 1) set the config/envvar texmf_casefold_search to 0;

Sounds appealing! :)

> 2) specify TEXMFHOME with a leading !! in texmf.cnf, that is, using
> ls-R (thus requiring you to run mktexlsr when any files are added or
> removed, thus probably better not to do this.)

Indeed, doesn't sound appealing! :)

> Well, there is 3) renaming your case-conflicting file, but you already
> knew that.

Okay.

But I (and other users) could be bitten because of files they forgot or
they don't realize they could be conflicting (nearly happened to
me).

Hence why not the other way round: `texmf_casefold_search' 0 by default
and and letting users who want `kpathsea' insensitive to set it to 1?

> You can thank Apple and its users for inflicting this pain.

They are so much powerful? ;)

All the best.
-- 
Denis


From karl at freefriends.org  Sat Apr  7 00:50:46 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 6 Apr 2018 22:50:46 GMT
Subject: [tex-live] Monday 9 April tl18 freeze target
In-Reply-To: <87k1tkx58x.fsf@example.com>
Message-ID: <201804062250.w36MokUS030684@freefriends.org>

    Karl could relax a bit the dead line?

Any deadline will be inconvenient for some. 

I might install individual packages next week if it seems necessary, but
I'm not going to routinely install every update as I usually do. The
whole point is to have a few days of relatively stability to test. -k

From jhielscher at posteo.de  Sat Apr  7 01:18:54 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sat, 7 Apr 2018 01:18:54 +0200
Subject: [tex-live] tlmgr misses xecyr on non-win32
Message-ID: <20180407011854.12e7f4ac@aloksar.localdomain>

Hi,

tlmgr platform add {x86_64-linux,aarch64-linux,amd64-freebsd}
drops non-fatal errors if binaries do not exist for the new target.
For asymptote, depending on availability, this is little wonder. But
now (at least this got my attention for the first time), I experienced
"problems" with xecyr:

[?]
tlmgr: action platform add, cannot find package
xecyr.aarch64-linux
[?]
tlmgr: action platform returned an error; continuing.
tlmgr: An error has occurred. See above messages. Exiting.

According to trunk/Master/tlpkg/tlpsrc/xecyr.tlpsrc, xecyr upstream only
provides binaries (batch scripts) for win32, that are obviously
irrelevant for other platforms.
With this in mind, are these kinds of (somewhat pointless) errors
intentional? I don't remember how tlmgr behaved in the last years.


$ tlmgr --version
tlmgr revision 47303 (2018-04-05 19:52:22 +0200)
tlmgr using installation: /mnt/2018
TeX Live (http://tug.org/texlive) version 2018

Best,
Johannes


From karl at freefriends.org  Sat Apr  7 01:35:47 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 6 Apr 2018 23:35:47 GMT
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <87in94ugmw.fsf@example.com>
Message-ID: <201804062335.w36NZlfP002502@freefriends.org>

    Sigh...

Agreed.

    But I (and other users) could be bitten 

Yes, I know. Do you really think we were unaware of this?

    Hence why not the other way round: `texmf_casefold_search' 0 by default

I thought hard about doing it this way. I hate making incompatible
changes. I think this is the first user-level kpse change intentionally
made in ten years or more.

I think I wrote all this before, but I guess I'll do it again:

The change is motivated for the case of big documents being developed on
Macs, and thus \include and \includegraphics commands (for example) use
randomly cased filenames and work regardless. Then the document is
compiled on normal Unix and failures abound. It is a big pain to fix
this. There can easily be hundreds of images or subfiles involved. 
This situation is more common than you or I might wish :(. 
You can look it up on tex.sx etc.

Thus, it's a trade-off between causing strange new failures in the
strange case of case-conflicting files, and helping document projects
that are developed on both Mac and (other) Unix "just work" without
having to change anything.

I felt it was better for the TeX world, overall, if such rare case
conflicts were explicitly dealt with, one way or another, partly because
these same problems *have always existed* on Windows. By dealing with
the case conflicts, documents automatically become more portable.

If the case conflicts were going to be common, I would have decided
otherwise. But I believe your case is rare -- in practice, I think the
only likely culprit is, like yours, a file in TEXMFHOME with a
case-different name from one in TEXMFDIST. Not that many people use
TEXMFHOME in the first place, let alone install style files with only a
case change from a standard name.

If it turns out to be too painfully common, we can always change the
default.

    They are so much powerful? ;)

Evidently so :(. -k

From gnwiii at gmail.com  Sat Apr  7 02:20:43 2018
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 6 Apr 2018 21:20:43 -0300
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <201804062335.w36NZlfP002502@freefriends.org>
References: <87in94ugmw.fsf@example.com>
 <201804062335.w36NZlfP002502@freefriends.org>
Message-ID: <CAKTOP4700z3=+XnF2c79_khJOzHuBkN9onRMLuh-gh_8OxTqUA@mail.gmail.com>

On 6 April 2018 at 20:35, Karl Berry <karl at freefriends.org> wrote:

>     Sigh...
>
> Agreed.
>
>     But I (and other users) could be bitten
>
> Yes, I know. Do you really think we were unaware of this?
>
>     Hence why not the other way round: `texmf_casefold_search' 0 by default
>
> I thought hard about doing it this way. I hate making incompatible
> changes. I think this is the first user-level kpse change intentionally
> made in ten years or more.
>
> I think I wrote all this before, but I guess I'll do it again:
>
> The change is motivated for the case of big documents being developed on
> Macs, and thus \include and \includegraphics commands (for example) use
> randomly cased filenames and work regardless. Then the document is
> compiled on normal Unix and failures abound. It is a big pain to fix
> this. There can easily be hundreds of images or subfiles involved.
> This situation is more common than you or I might wish :(.
> You can look it up on tex.sx etc.
>
> Thus, it's a trade-off between causing strange new failures in the
> strange case of case-conflicting files, and helping document projects
> that are developed on both Mac and (other) Unix "just work" without
> having to change anything.
>

I have been involved with multi-author projects where the authors are
scattered
across the globe and many are in government  research institutes and must
use a "departmental standard" OS configuration.  I can vouch for the wasted
time and effort caused when documents that work on Windows or macOS fail
on linux due to mis-cased filenames.


> I felt it was better for the TeX world, overall, if such rare case
> conflicts were explicitly dealt with, one way or another, partly because
> these same problems *have always existed* on Windows. By dealing with
> the case conflicts, documents automatically become more portable.
>
> If the case conflicts were going to be common, I would have decided
> otherwise. But I believe your case is rare -- in practice, I think the
> only likely culprit is, like yours, a file in TEXMFHOME with a
> case-different name from one in TEXMFDIST. Not that many people use
> TEXMFHOME in the first place, let alone install style files with only a
> case change from a standard name.
>
> If it turns out to be too painfully common, we can always change the
> default.
>
>     They are so much powerful? ;)
>
> Evidently so :(. -k
>

In a large project you can have people with very different interests and
skills.
For some, the project may be their first encounter with TeX.  It is not
just a
question of how common problems might be, but also the likelihood that
the person who encounters a problem will have some idea of how to go
about sorting it out.   Keeping mis-case errors close to the where they are
made is often advantage.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180406/f4642530/attachment.html>

From dbitouze at wanadoo.fr  Sat Apr  7 12:03:19 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 07 Apr 2018 12:03:19 +0200
Subject: [tex-live] Monday 9 April tl18 freeze target
In-Reply-To: <201804062250.w36MokUS030684@freefriends.org> (Karl Berry's
 message of "Fri, 6 Apr 2018 22:50:46 GMT")
References: <201804062250.w36MokUS030684@freefriends.org>
Message-ID: <87bmevuye0.fsf@example.com>

Le 06/04/18 ? 22h50, Karl Berry a ?crit :

>     Karl could relax a bit the dead line?
>
> Any deadline will be inconvenient for some. 

Indeed.

> I might install individual packages next week if it seems necessary, but
> I'm not going to routinely install every update as I usually do.

I can understand.

> The whole point is to have a few days of relatively stability to
> test. -k

Okay.
-- 
Denis


From dbitouze at wanadoo.fr  Sat Apr  7 12:12:22 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 07 Apr 2018 12:12:22 +0200
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <201804062335.w36NZlfP002502@freefriends.org> (Karl Berry's
 message of "Fri, 6 Apr 2018 23:35:47 GMT")
References: <201804062335.w36NZlfP002502@freefriends.org>
Message-ID: <877epjuxyx.fsf@example.com>

Le 06/04/18 ? 23h35, Karl Berry a ?crit :

>     Sigh...
>
> Agreed.

:)

>     But I (and other users) could be bitten 
>
> Yes, I know. Do you really think we were unaware of this?

Obviously not. Sorry if I offended...

>     Hence why not the other way round: `texmf_casefold_search' 0 by
>     default
>
> I thought hard about doing it this way. I hate making incompatible
> changes. I think this is the first user-level kpse change
> intentionally made in ten years or more.

Nice! Could be worth to mention this change in the section "Present ---
2018".

> I think I wrote all this before, but I guess I'll do it again:
>
> The change is motivated for the case of big documents being developed
> on Macs, and thus \include and \includegraphics commands (for example)
> use randomly cased filenames and work regardless. Then the document is
> compiled on normal Unix and failures abound. It is a big pain to fix
> this. There can easily be hundreds of images or subfiles involved.
> This situation is more common than you or I might wish :(.  You can
> look it up on tex.sx etc.

I see.

> Thus, it's a trade-off between causing strange new failures in the
> strange case of case-conflicting files, and helping document projects
> that are developed on both Mac and (other) Unix "just work" without
> having to change anything.
>
> I felt it was better for the TeX world, overall, if such rare case
> conflicts were explicitly dealt with, one way or another, partly
> because these same problems *have always existed* on Windows. By
> dealing with the case conflicts, documents automatically become more
> portable.

Right.

> If the case conflicts were going to be common, I would have decided
> otherwise. But I believe your case is rare -- in practice, I think the
> only likely culprit is, like yours, a file in TEXMFHOME with
> a case-different name from one in TEXMFDIST. Not that many people use
> TEXMFHOME in the first place, let alone install style files with only
> a case change from a standard name.

Right, again :)

> If it turns out to be too painfully common, we can always change the
> default.

Okay.

>     They are so much powerful? ;)
>
> Evidently so :(. -k

;)
-- 
Denis


From dbitouze at wanadoo.fr  Sat Apr  7 12:15:23 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 07 Apr 2018 12:15:23 +0200
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <CAKTOP4700z3=+XnF2c79_khJOzHuBkN9onRMLuh-gh_8OxTqUA@mail.gmail.com>
 (George N. White, III's message of "Fri, 6 Apr 2018 21:20:43 -0300")
References: <87in94ugmw.fsf@example.com>
 <201804062335.w36NZlfP002502@freefriends.org>
 <CAKTOP4700z3=+XnF2c79_khJOzHuBkN9onRMLuh-gh_8OxTqUA@mail.gmail.com>
Message-ID: <873707uxtw.fsf@example.com>

Le 06/04/18 ? 21h20, George N. White III a ?crit :

> I have been involved with multi-author projects where the authors are
> scattered across the globe and many are in government research
> institutes and must use a "departmental standard" OS configuration.
> I can vouch for the wasted time and effort caused when documents that
> work on Windows or macOS fail on linux due to mis-cased filenames.

I see.

> In a large project you can have people with very different interests
> and skills.  For some, the project may be their first encounter with
> TeX.  It is not just a question of how common problems might be, but
> also the likelihood that the person who encounters a problem will have
> some idea of how to go about sorting it out.  Keeping mis-case errors
> close to the where they are made is often advantage.

Right.

Thanks!
-- 
Denis


From wl at gnu.org  Sat Apr  7 12:39:34 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Sat, 07 Apr 2018 12:39:34 +0200 (CEST)
Subject: [tex-live] Problem with `kpsewhich --all'
Message-ID: <20180407.123934.1482178050355138840.wl@gnu.org>


[SVN r46655 from Feb. 25th]

It seems that option `--all' of `kpsewhich' has an undocumented
limitation: It doesn't work for PK files.

Consider the following setup.

  $ locate '*cmr10.*pk'
  /home/wl/.texlive2017/texmf-var/fonts/pk/ljfour/public/cm/cmr10.600pk
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/pk/ljfour/public/cm/dpi600/cmr10.pk

  $ kpsewhich --all cmr10.600pk
  /home/wl/.texlive2017/texmf-var/fonts/pk/ljfour/public/cm/cmr10.600pk

  $ PKFONTS='/usr/local/backup/TeXLive/Master/texmf-dist/fonts/pk//' \
    kpsewhich --all cmr10.600pk
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/pk/ljfour/public/cm/dpi600/cmr10.pk

As can be seen, there are two PK files of `cmr10' for 600dpi.  I would
expect that the first call to `kpsewhich' finds both fonts.  However,
I have to explicitly set `PKFONTS' to get the second one.

Looking into the debug output I see

  kdebug:start search(file=cmr10.600pk, must_exist=0, find_all=0, ...)

So `find_all' is set to value 0, contrary to, say, a search for a
`.tex' file.

Is this intended behaviour?


    Werner

From news3 at nililand.de  Sat Apr  7 12:56:54 2018
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 7 Apr 2018 12:56:54 +0200
Subject: [tex-live] kpsewhich case insensitive?
References: <87in94ugmw.fsf@example.com>
 <201804062335.w36NZlfP002502@freefriends.org>
Message-ID: <15bt9nl2yoxg$.dlg@nililand.de>

Am Fri, 6 Apr 2018 23:35:47 GMT schrieb Karl Berry:

> The change is motivated for the case of big documents being developed on
> Macs, and thus \include and \includegraphics commands (for example) use
> randomly cased filenames and work regardless. Then the document is
> compiled on normal Unix and failures abound. It is a big pain to fix
> this. There can easily be hundreds of images or subfiles involved. 
> This situation is more common than you or I might wish :(.

I fell in this trap quite often too. I wrote examples with
\includegraphics{example-image-A} (as the image shows a large A this
is quite natural ...) which worked fine on my windows and the people
complained that it fails on linux.

So on the whole I'm quite grateful that kpathsea is now case
insensitive and it is not only Apple who is to blame ;-)

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From jfbu at free.fr  Sat Apr  7 13:01:44 2018
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Apr 2018 13:01:44 +0200
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <15bt9nl2yoxg$.dlg@nililand.de>
References: <87in94ugmw.fsf@example.com>
 <201804062335.w36NZlfP002502@freefriends.org> <15bt9nl2yoxg$.dlg@nililand.de>
Message-ID: <5E85D70B-9424-4F38-826A-A7FEC79FEF0F@free.fr>


Le 7 avr. 2018 ? 12:56, Ulrike Fischer <news3 at nililand.de> a ?crit :

> Am Fri, 6 Apr 2018 23:35:47 GMT schrieb Karl Berry:
> 
>> The change is motivated for the case of big documents being developed on
>> Macs, and thus \include and \includegraphics commands (for example) use
>> randomly cased filenames and work regardless. Then the document is
>> compiled on normal Unix and failures abound. It is a big pain to fix
>> this. There can easily be hundreds of images or subfiles involved. 
>> This situation is more common than you or I might wish :(.
> 
> I fell in this trap quite often too. I wrote examples with
> \includegraphics{example-image-A} (as the image shows a large A this
> is quite natural ...) which worked fine on my windows and the people
> complained that it fails on linux.
> 
> So on the whole I'm quite grateful that kpathsea is now case
> insensitive and it is not only Apple who is to blame ;-)
> 

+1 for this remark. I also encounter this problem when copying pasting
code from questions on tex.sx by Windows users, and discover it
does not work on my Mac OS, then I had to read more closely and
see the "A" not "a".

Karl: I found your

> You can thank Apple and its users for inflicting this pain.

somewhat annoying, and it is not first time.

Best,

Jean-Fran?ois



From tk at postsubmeta.net  Sat Apr  7 07:39:56 2018
From: tk at postsubmeta.net (Thomas Krennwallner)
Date: Sat, 7 Apr 2018 07:39:56 +0200
Subject: [tex-live] TeX Live 2018 pretest problem with lualatex and
 Biolinum font
In-Reply-To: <CY4PR04MB0265A354C9A92CB842A6C9ECB9BB0@CY4PR04MB0265.namprd04.prod.outlook.com>
References: <CY4PR04MB0265A354C9A92CB842A6C9ECB9BB0@CY4PR04MB0265.namprd04.prod.outlook.com>
Message-ID: <20180407053955.GA2676@postsubmeta.net>

On Thu Apr 05, 2018 08:26:17PM +0000, Daniel H. Luecking wrote:
> I got the same results (TeXLive 2018, updated today, Windows 7). However, both of the following changes corrected the problems:
> 
> Load the libertine package instead of fontspec:
>     %\usepackage{fontspec}
>     \usepackage{libertine}
> and omit the \fontspec commands.
> 
> Or move the \fontspec commands before all the font commands. For example,
>     \fontspec{Linux Biolinum O}{\bfseries\sffamily

Nice, thanks for the hint, this seems to fix the problem, if we don't
use \setsansfont[]{Linux Biolinum O} (see below).

I have adapted the example to

--- 8< --- 8< ---
\documentclass{article}
\usepackage{fontspec}
\usepackage{biolinum}
\begin{document}
{\fontspec{Linux Biolinum O}\sffamily biolinum sffamily}

{\fontspec{Linux Biolinum O}\itshape\sffamily biolinum sffamily itshape}

{\fontspec{Linux Biolinum O}\bfseries\sffamily biolinum sffamily bfseries (uses oblique with lualatex)}

{\fontspec{Linux Biolinum O}\itshape\bfseries\sffamily biolinum sffamily bfseries itshape (ignores bfseries with xelatex)}
\end{document}
--- 8< --- 8< ---

and invoked

% lualatex bio.tex 
This is LuaTeX, Version 1.07.0 (TeX Live 2018/Debian) 
[...]

and got a positive result:

% pdffonts bio.pdf 
name                                 type              encoding         emb sub uni object ID
------------------------------------ ----------------- ---------------- --- --- --- ---------
YAQTMP+LinBiolinumO                  CID Type 0C       Identity-H       yes yes yes      4  0
FGULND+LinBiolinumOI                 CID Type 0C       Identity-H       yes yes yes      5  0
JODGAZ+LinBiolinumOB                 CID Type 0C       Identity-H       yes yes yes      6  0
FWYKIS+LinBiolinumOBO                CID Type 0C       Identity-H       yes yes yes      7  0
JFRMQG+LMRoman10-Regular             CID Type 0C       Identity-H       yes yes yes      8  0

Similar results with xelatex instead of lualatex.


Then, I've changed my current document to use

\fontspec{Linux Biolinum O}

before any \sffamily, but this didn't solve my problem.  After some
thought, I could track down the problem to \setsansfont, which my
document contains:

\setsansfont[]{Linux Biolinum O}

If I adapt above example to include the \setsansfont statement after the
\usepackage{biolinum} line, the old problem returns.  So there seems to
be some interference of biolinum and \setsansfont.

Cheers,
TK

From kakuto at fuk.kindai.ac.jp  Sat Apr  7 15:48:52 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 7 Apr 2018 22:48:52 +0900
Subject: [tex-live] Problem with `kpsewhich --all'
In-Reply-To: <20180407.123934.1482178050355138840.wl@gnu.org>
References: <20180407.123934.1482178050355138840.wl@gnu.org>
Message-ID: <7317CC925B004006A6337EA23DA9076C@CJ3001517A>

Dear Werner,

> It seems that option `--all' of `kpsewhich' has an undocumented
> limitation: It doesn't work for PK files.

Thanks a lot.
kpse_pk_format,
kpse_gf_format, and
kpse_any_glyph_format
do not support --all switch.
I don't know that is documented or not. Karl?

Best,
Akira


From amaxwell at mac.com  Sat Apr  7 15:59:35 2018
From: amaxwell at mac.com (Adam R. Maxwell)
Date: Sat, 07 Apr 2018 06:59:35 -0700
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <5E85D70B-9424-4F38-826A-A7FEC79FEF0F@free.fr>
References: <87in94ugmw.fsf@example.com>
 <201804062335.w36NZlfP002502@freefriends.org> <15bt9nl2yoxg$.dlg@nililand.de>
 <5E85D70B-9424-4F38-826A-A7FEC79FEF0F@free.fr>
Message-ID: <F4654918-5330-4970-BD22-9BE5D8DA982F@mac.com>



> On Apr 7, 2018, at 04:01 , jfbu <jfbu at free.fr> wrote:
> 
>> You can thank Apple and its users for inflicting this pain.
> 
> somewhat annoying, and it is not first time.

Mac users are perpetual whiners, and Karl has put
up with a lot from us on the mactex mailing list :).

Having said that, I rarely saw case issues come up on
the Mac OS X TeX email list for the decade or so that I
participated, so I'll blame the new generation of TeX
users who are on tex.sx. Darn kids.

-- adam

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180407/ba8551ab/attachment.html>

From cereda.paulo at gmail.com  Sat Apr  7 16:44:50 2018
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Sat, 07 Apr 2018 11:44:50 -0300
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <F4654918-5330-4970-BD22-9BE5D8DA982F@mac.com>
References: <87in94ugmw.fsf@example.com>
 <201804062335.w36NZlfP002502@freefriends.org>
 <15bt9nl2yoxg$.dlg@nililand.de>
 <5E85D70B-9424-4F38-826A-A7FEC79FEF0F@free.fr>
 <F4654918-5330-4970-BD22-9BE5D8DA982F@mac.com>
Message-ID: <162a09126d0.274f.7132861acd90c364b5eb878c32bce117@gmail.com>

Case sensitivity would have gotten away with it if it weren't for those 
meddling kids and that dog... :D

A 7 de abril de 2018 10:59:54 AM, "Adam R. Maxwell" <amaxwell at mac.com> 
escreveu:

> > On Apr 7, 2018, at 04:01 , jfbu <jfbu at free.fr> wrote:
> >
>> > You can thank Apple and its users for inflicting this pain.
> >
> > somewhat annoying, and it is not first time.
>
> Mac users are perpetual whiners, and Karl has put
> up with a lot from us on the mactex mailing list :).
>
> Having said that, I rarely saw case issues come up on
> the Mac OS X TeX email list for the decade or so that I
> participated, so I'll blame the new generation of TeX
> users who are on tex.sx. Darn kids.
>
> -- adam




From P.Taylor at Rhul.Ac.Uk  Sat Apr  7 16:54:58 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Sat, 7 Apr 2018 15:54:58 +0100
Subject: [tex-live] "texdoc <parameter>" cannot be launched from "Start" /
 "Search all programs and files" dialogue box
Message-ID: <fa01857b-bacf-1b14-13b5-9998f9a9a398@Rhul.Ac.Uk>

Over the years I have discovered that many of the commands that I used 
to think needed to be launched from a CMD box or from "Start" / "Run" 
can also be launched from the "Start" / "Search all programs and files" 
dialogue box, but today I found my first counter-example :? "TeXdoc 
<parameter>".? This results in

"Windows can't open this file:

 ? File: TeXOSQuery.java".

Is this something I can fix myself (by, perhaps, associating the .java 
extension with an image or DLL), or is it something that can only be 
fixed by a TeXdoc re-design ?? There does not appear to be a Java 
executable in .../bin/win32.

Philip Taylor


From kakuto at fuk.kindai.ac.jp  Sat Apr  7 23:25:46 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 8 Apr 2018 06:25:46 +0900
Subject: [tex-live] "texdoc <parameter>" cannot be launched from "Start"
	/ "Search all programs and files" dialogue box
In-Reply-To: <fa01857b-bacf-1b14-13b5-9998f9a9a398@Rhul.Ac.Uk>
References: <fa01857b-bacf-1b14-13b5-9998f9a9a398@Rhul.Ac.Uk>
Message-ID: <ECEF5A48E2CE436380FB1AD6C56E6E01@CJ3001517A>

Dear Philip,

> "Windows can't open this file:
>
>   File: TeXOSQuery.java".

TeXOSQuery.java is a source file in
texmf-dist/source/support/texosquery/java
and you can open it by your favorite text editor.

Thanks,
Akira


From karl at freefriends.org  Sat Apr  7 23:57:23 2018
From: karl at freefriends.org (Karl Berry)
Date: Sat, 7 Apr 2018 21:57:23 GMT
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <877epjuxyx.fsf@example.com>
Message-ID: <201804072157.w37LvN1p018246@freefriends.org>

    mention this change in the section "Present --- 2018".

Darn it! It was the single most important thing on my mind when I was
putting together the list of changes, and I got so wrapped up in all the
others I just forgot. Added now, both to pretest.html and
texlive-en.tex. I'll make more specific links after the release.

Thanks ... -k


From karl at freefriends.org  Sun Apr  8 00:18:49 2018
From: karl at freefriends.org (Karl Berry)
Date: Sat, 7 Apr 2018 22:18:49 GMT
Subject: [tex-live] tlmgr misses xecyr on non-win32
In-Reply-To: <20180407011854.12e7f4ac@aloksar.localdomain>
Message-ID: <201804072218.w37MInwh020082@freefriends.org>

Hi Johannes,

    tlmgr: action platform add, cannot find package
    xecyr.aarch64-linux

I surmise "platform add" is a rare enough case that it simply hasn't
been noticed before. (Maybe it happens in other cases too, and/or people
haven't noticed and/or taken the time to report it. All seem plausible.)

Anyway, it does seem like the lack of xecyr.* for all non-w32 should not
be considered a problem. How easy or painful that is to change, I'll
leave to Norbert. My inclination at this point is not to change anything
in this regard until after the release ... --thanks, karl.

From karl at freefriends.org  Sun Apr  8 00:42:28 2018
From: karl at freefriends.org (Karl Berry)
Date: Sat, 7 Apr 2018 22:42:28 GMT
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <87r2nsuh5c.fsf@example.com>
Message-ID: <201804072242.w37MgSVG021813@freefriends.org>

    > How case sensitivity checking works under the hood 

Well, this is probably too long for anyone to read, but below is what I
wrote about it in the manual. As for the implementation, check out the
calls to the new function casefold_readable_file in
kpathsea/pathsearch.c. The casefolding operations are also reported in
various ways in the debugging output.

Scroll down to the end, and you'll see that kpse never even tries to
determine if a given filesystem is case-sensitive or not (because
there's no good way to do so). All it does is check whether access()
on a given name succeeds.

Also, the change is only seen on *case-sensitive* systems (normal
Unix). Mac people using the default case-insensitive Mac filesystem will
not see any difference, nor will Windows people (the new code is not
even compiled on Windows, as noted below). --best, karl.

-----------------------------------------------------------------------------
[From kpathsea.info.]
   ...

   The fallback case-insensitive search is omitted at compile-time on
Windows, where (for practical purposes) all file names are
case-insensitive at the kernel level, and so the normal search will
already have definitively matched or not.  Therefore, search results in
unusual cases can be different on Windows and Unix--but this has always
been true.

File: kpathsea.info,  Node: Casefolding examples,  Prev: Casefolding rationale,  Up: Casefolding search

5.4.2 Casefolding examples
--------------------------

The casefolding implementation prefers exact matches to casefolded
matches within a given path element, so as to retain most compatibility.
Backward compatibility is not perfect, however, as a casefolded match
may be found in an earlier path element than an exact match was
previously found (see example #4 below).  Still, preferring the match in
the earlier element seemed potentially less confusing than otherwise,
and is in fact consistent with past behavior on Windows.  Since case
mismatches are rare to begin with, and name collisions with respect only
to case thus even more rare, the hope is that it will not cause
difficulties in practice.

   If it's desirable in a given situation to have the exact same search
behavior as previously, that can be accomplished by setting the
configuration variable 'texmf_casefold_search' to '0' (*note Path
sources::).

   Some examples to illustrate the new behavior follow.

   Example #1: suppose the file './foobar.tex' exists.  Now, searching
for './FooBar.TeX' (or any other case variation) will succeed, returning
'./foobar.tex'--the name as stored on disk.  In previous releases, or if
'texmf_casefold_search' is false, the search would fail.

   Example #2: suppose we are using a case-sensitive (file)system, and
the search path is '.:/somedir', and the files './foobar.tex' and
'/somedir/FooBar.TeX' both exist.  Both now and previously, searching
for 'foobar.tex' returns './foobar.tex'.  However, searching for
'FooBar.TeX' now returns './foobar.tex' instead of
'/somedir/FooBar.TeX'; this is the incompatibility mentioned above.
Also (as expected), searching for 'FOOBAR.TEX' (or whatever variation)
will now return './foobar.tex', whereas before it would fail.  Searching
for all ('kpsewhich --all') 'foobar.tex' will return both matches.

   Example #3: same as example #2, but on a case-insensitive
(file)system: both now and previously, searching for 'FooBar.TeX'
returns './foobar.tex', since the system considers that a match.  The
Kpathsea casefolding never comes into play.

   Example #4: if we have (on a case-sensitive system) both
'./foobar.tex' and './FOOBAR.TEX', searching with the exact case returns
that exact match, now and previously.  Searching for 'FooBar.tex' will
now return one or the other (chosen arbitrarily), rather than failing.
Perhaps unexpectedly, searching for all 'foobar.tex' or 'FooBar.tex'
will also return only one or the other, not both (see more below).

   Example #5: the font file 'STIX-Regular.otf' is included in TeX Live
in the system directory 'texmf-dist/fonts/opentype/public/stix'.
Because Kpathsea never searches the disk in the big system directory,
the casefolding is not done, and a search for 'stix-regular.otf' will
fail (on case-sensitive systems), as it always has.

   The caveat about not searching the disk amounts to saying that
casefolding does not happen in the trees specified with '!!' (*note
ls-R::), that is, where only database ('ls-R') searching is done.  In
TeX Live, that is the 'texmf-local' and 'texmf-dist' trees (also
'$TEXMFSYSCONFIG' and '$TEXMFSYSVAR', but those are rarely noticed).
The rationale for this is that in practice, case mangling happens with
user-created files, not with packages distributed as part of the TeX
system.

   One more caveat: the purpose of 'kpsewhich' is to exercise the path
searching in Kpathsea as it is actually done.  Therefore, as shown
above, 'kpsewhich --all' will not return all matches regardless of case
within a given path element.  If you want to find all matches in all
directories, 'find' is the best tool, although the setup takes a couple
steps:

     kpsewhich -show-path=tex >/tmp/texpath      # search path specification
     kpsewhich -expand-path="`cat /tmp/texpath`" >/tmp/texdirs  # all dirs
     tr ':' '\n' </tmp/texdirs >/tmp/texdirlist  # colons to newlines
     find `cat /tmp/texdirlist` -iname somefile.tex -print </tmp/texdirlist

   Sorry that it's annoyingly lengthy, but implementing this inside
Kpathsea would be a lot of error-prone trouble for something that is
only useful for debugging.  If your 'find' does not support '-iname',
you can get GNU Find from <https://www.gnu.org/software/findutils>.

   The casefolding search is implemented in the source file
'kpathsea/pathsearch.c'.  Two implementation points:

   * Kpathsea never tries to check if a given directory resides on a
     case-insensitive filesystem, because there is no efficient and
     portable way to do so.  All it does is try to see if a potential
     file name is a readable normal file (with, usually, the 'access'
     system call).

   * Kpathsea does not do any case-insensitive matching of the
     directories along the path.  It's not going to find
     '/Some/Random/file.tex' when looking for '/some/random/file.tex'.
     The casefolding only happens with the elements of the leaf
     directory.

From lomov.vl at gmail.com  Sun Apr  8 03:45:25 2018
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sun, 8 Apr 2018 09:45:25 +0800
Subject: [tex-live] Problem with latex package rev. 47330
Message-ID: <20180408014525.GA1170@smoon.vl-lomov.ru>

Hello,
today I updated my TeX Live 2018 installation (it is pretest and will be
freezed shortly) but my usual document fails to typeset (pdflatex). I
restore the latex package to rev. 43813, rebuild formats and the same
document is typeset fine.

Sorry, right now I don't have time (before the TeX Live freeze) to make
small example, only my current document.

---
WBR, Vladimir Lomov

-- 
The only time a dog gets complimented is when he doesn't do anything.
		-- C. Schulz

From preining at logic.at  Sun Apr  8 04:38:25 2018
From: preining at logic.at (Norbert Preining)
Date: Sun, 08 Apr 2018 11:38:25 +0900
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <20180408014525.GA1170@smoon.vl-lomov.ru>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
Message-ID: <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>

Maybe encoding question? AFAIR did the default change to UTF8.

On April 8, 2018 10:45:25 AM GMT+09:00, Vladimir Lomov <lomov.vl at gmail.com> wrote:
>Hello,
>today I updated my TeX Live 2018 installation (it is pretest and will
>be
>freezed shortly) but my usual document fails to typeset (pdflatex). I
>restore the latex package to rev. 43813, rebuild formats and the same
>document is typeset fine.
>
>Sorry, right now I don't have time (before the TeX Live freeze) to make
>small example, only my current document.
>
>---
>WBR, Vladimir Lomov


--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From lomov.vl at gmail.com  Sun Apr  8 05:03:36 2018
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sun, 8 Apr 2018 11:03:36 +0800
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
Message-ID: <20180408030336.GB1170@smoon.vl-lomov.ru>

Hello,
** Norbert Preining [2018-04-08 11:38:25 +0900]:

> Maybe encoding question? AFAIR did the default change to UTF8.

All my files uses UTF-8 (by default :).
 
> On April 8, 2018 10:45:25 AM GMT+09:00, Vladimir Lomov <lomov.vl at gmail.com> wrote:
>> Hello,
>> today I updated my TeX Live 2018 installation (it is pretest and will
>> be
>> freezed shortly) but my usual document fails to typeset (pdflatex). I
>> restore the latex package to rev. 43813, rebuild formats and the same
>> document is typeset fine.
>>
>> Sorry, right now I don't have time (before the TeX Live freeze) to make
>> small example, only my current document.

Sigh, seems I need how to prepare small example.

P.S. Thanks for backup option :).

---
WBR, Vladimir Lomov

-- 
If a child annoys you, quiet him by brushing his hair.  If this doesn't
work, use the other side of the brush on the other end of the child.

From lomov.vl at gmail.com  Sun Apr  8 05:48:38 2018
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sun, 8 Apr 2018 11:48:38 +0800
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <20180408030336.GB1170@smoon.vl-lomov.ru>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
Message-ID: <20180408034838.GC1170@smoon.vl-lomov.ru>

Hello,
** Vladimir Lomov [2018-04-08 11:03:36 +0800]:

> Hello,
> ** Norbert Preining [2018-04-08 11:38:25 +0900]:
> 
>> Maybe encoding question? AFAIR did the default change to UTF8.
> 
> All my files uses UTF-8 (by default :).
>  
>> On April 8, 2018 10:45:25 AM GMT+09:00, Vladimir Lomov <lomov.vl at gmail.com> wrote:
>>> Hello,
>>> today I updated my TeX Live 2018 installation (it is pretest and will
>>> be
>>> freezed shortly) but my usual document fails to typeset (pdflatex). I
>>> restore the latex package to rev. 43813, rebuild formats and the same
>>> document is typeset fine.
>>>
>>> Sorry, right now I don't have time (before the TeX Live freeze) to make
>>> small example, only my current document.
> 
> Sigh, seems I need how to prepare small example.

Seems that parsing of '\ProvidesPackage' and related commands was
changed. I made small example that shows the problem (I made several
small packages and they have '\ProvidesPackage' similar to one in
example). I attached example file and example style.

P.S. The error from pdflatex was very misleading:

! Missing = inserted for \ifnum.
<to be read again> 
		   2
l.4 

? h
I was expecting to see `<', `=', or `>'. Didn't.

---
WBR, Vladimir Lomov

-- 
"We maintain that the very foundation of our way of life is what we call
free enterprise," said Cash McCall, "but when one of our citizens
show enough free enterprise to pile up a little of that profit, we do
our best to make him feel that he ought to be ashamed of himself."
		-- Cameron Hawley
-------------- next part --------------
\documentclass{article}

\usepackage{test}

\begin{document}

Hello, World!

\TestMess

\end{document}
-------------- next part --------------
% \ProvidesPackage{test}[%
%   2018/04/08 v0.0 Test Package. ]
\ProvidesPackage{test}%
  [ 2018/04/08 v0.0 Test Package. ]

\newcommand{\TestMess}{%
  Hello, World!
}

\endinput

From jose.hissa at gmail.com  Sun Apr  8 06:00:54 2018
From: jose.hissa at gmail.com (Jose Hissa Ferreira)
Date: Sun, 8 Apr 2018 01:00:54 -0300
Subject: [tex-live] LaTeX Warning with package l3pdfmode
Message-ID: <CAAH+9xZX3EXxSv-830FhYxkHXPyeQUYuLKA1mb=srHkeBmEfoA@mail.gmail.com>

Greetings,

Is that latex warning already known?

LaTeX Warning: You have requested, on input line 283, version
               `2018/02/21' of package l3pdfmode,
               but only version
               `2017/03/18 v L3 Experimental driver: PDF mode'
               is available.

The file is located at  ...
/texlive/2018/texmf-dist/tex/latex/l3kernel/l3pdfmode.def.
-- 
[ ]'s,

JHissa

From joseph.wright at morningstar2.co.uk  Sun Apr  8 08:44:09 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 8 Apr 2018 07:44:09 +0100
Subject: [tex-live] LaTeX Warning with package l3pdfmode
In-Reply-To: <CAAH+9xZX3EXxSv-830FhYxkHXPyeQUYuLKA1mb=srHkeBmEfoA@mail.gmail.com>
References: <CAAH+9xZX3EXxSv-830FhYxkHXPyeQUYuLKA1mb=srHkeBmEfoA@mail.gmail.com>
Message-ID: <82592da3-d13c-cc41-fc6e-da499c7749f3@morningstar2.co.uk>

On 08/04/2018 05:00, Jose Hissa Ferreira wrote:
> Greetings,
> 
> Is that latex warning already known?
> 
> LaTeX Warning: You have requested, on input line 283, version
>                 `2018/02/21' of package l3pdfmode,
>                 but only version
>                 `2017/03/18 v L3 Experimental driver: PDF mode'
>                 is available.
> 
> The file is located at  ...
> /texlive/2018/texmf-dist/tex/latex/l3kernel/l3pdfmode.def.

Known artefact, will be fixed in the next l3kernel release: that will be 
after the TL'18 DVD freeze.

Joseph

From joseph.wright at morningstar2.co.uk  Sun Apr  8 08:46:51 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 8 Apr 2018 07:46:51 +0100
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <20180408034838.GC1170@smoon.vl-lomov.ru>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
Message-ID: <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>

On 08/04/2018 04:48, Vladimir Lomov wrote:
> Hello,
> ** Vladimir Lomov [2018-04-08 11:03:36 +0800]:
> 
>> Hello,
>> ** Norbert Preining [2018-04-08 11:38:25 +0900]:
>>
>>> Maybe encoding question? AFAIR did the default change to UTF8.
>>
>> All my files uses UTF-8 (by default :).
>>   
>>> On April 8, 2018 10:45:25 AM GMT+09:00, Vladimir Lomov <lomov.vl at gmail.com> wrote:
>>>> Hello,
>>>> today I updated my TeX Live 2018 installation (it is pretest and will
>>>> be
>>>> freezed shortly) but my usual document fails to typeset (pdflatex). I
>>>> restore the latex package to rev. 43813, rebuild formats and the same
>>>> document is typeset fine.
>>>>
>>>> Sorry, right now I don't have time (before the TeX Live freeze) to make
>>>> small example, only my current document.
>>
>> Sigh, seems I need how to prepare small example.
> 
> Seems that parsing of '\ProvidesPackage' and related commands was
> changed. I made small example that shows the problem (I made several
> small packages and they have '\ProvidesPackage' similar to one in
> example). I attached example file and example style.

I'll raise with the team: the issue is that space between "[" and the 
start of the date, which has never been documented as supported that I 
know of.

Joseph


From dbitouze at wanadoo.fr  Sun Apr  8 10:46:44 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 08 Apr 2018 10:46:44 +0200
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk> (Joseph
 Wright's message of "Sun, 8 Apr 2018 07:46:51 +0100")
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
Message-ID: <87po3at79n.fsf@example.com>

Le 08/04/18 ? 07h46, Joseph Wright a ?crit :

>> Seems that parsing of '\ProvidesPackage' and related commands was
>> changed. I made small example that shows the problem (I made several
>> small packages and they have '\ProvidesPackage' similar to one in
>> example). I attached example file and example style.
>
> I'll raise with the team: the issue is that space between "[" and the start of
> the date, which has never been documented as supported that I know of.

Is there a workaround or restoring the latex package to rev. 43813 is
currently the only way to fix this problem?
-- 
Denis


From joseph.wright at morningstar2.co.uk  Sun Apr  8 11:13:45 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 8 Apr 2018 10:13:45 +0100
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <87po3at79n.fsf@example.com>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
Message-ID: <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>

On 08/04/2018 09:46, Denis Bitouz? wrote:
> Le 08/04/18 ? 07h46, Joseph Wright a ?crit :
> 
>>> Seems that parsing of '\ProvidesPackage' and related commands was
>>> changed. I made small example that shows the problem (I made several
>>> small packages and they have '\ProvidesPackage' similar to one in
>>> example). I attached example file and example style.
>>
>> I'll raise with the team: the issue is that space between "[" and the start of
>> the date, which has never been documented as supported that I know of.
> 
> Is there a workaround or restoring the latex package to rev. 43813 is
> currently the only way to fix this problem?

As I've said, I think the underlying problem is that a space had never 
really be officially supported between "[" and the start of the date 
information. So 'fix the .sty file' is quite workable.

That said, we'll almost certainly adjust here to deal with the problem 
(it comes about from some defensive code that's been added to avoid a 
separate issue!). For me

\makeatletter
\def\@ifl at t@r#1#2{%
   \ifnum\expandafter\@parse at version\expandafter#1//00\@nil<%
         \expandafter\@parse at version\expandafter#2//00\@nil
     \expandafter\@secondoftwo
   \else
     \expandafter\@firstoftwo
   \fi}
\def\@parse at version#1{\@parse at version@0#1\@nil}
\def\@parse at version@#1/#2/#3#4#5\@nil{%
   \@parse at version@dash#1-#2-#3#4\@nil
}
\makeatother

looks viable to keep the new defensive behaviour and allow for a space: 
depending on views from the rest of the team this might go in today.

(I'll log an issue for this shortly.)

Joseph


From dbitouze at wanadoo.fr  Sun Apr  8 12:17:18 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 08 Apr 2018 12:17:18 +0200
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk> (Joseph
 Wright's message of "Sun, 8 Apr 2018 10:13:45 +0100")
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
Message-ID: <87lgdyt32p.fsf@example.com>

Le 08/04/18 ? 10h13, Joseph Wright a ?crit :

> On 08/04/2018 09:46, Denis Bitouz? wrote:
>> Le 08/04/18 ? 07h46, Joseph Wright a ?crit :
>>
>>>> Seems that parsing of '\ProvidesPackage' and related commands was
>>>> changed. I made small example that shows the problem (I made several
>>>> small packages and they have '\ProvidesPackage' similar to one in
>>>> example). I attached example file and example style.
>>>
>>> I'll raise with the team: the issue is that space between "[" and the start of
>>> the date, which has never been documented as supported that I know of.
>>
>> Is there a workaround or restoring the latex package to rev. 43813 is
>> currently the only way to fix this problem?
>
> As I've said, I think the underlying problem is that a space had never
> really be officially supported between "[" and the start of the date
> information. So 'fix the .sty file' is quite workable.

Sorry to not have read this thread more carefully. In fact, I sent this
message because, since the this morning TL 2018's update, I'm facing the
same error message as Vladimir:

  ?????
  ? ! Missing = inserted for \ifnum.
  ? <to be read again> 
  ?                    2
  ? l.18 \usepackage
  ?                 {geometry}
  ? ? h
  ? I was expecting to see `<', `=', or `>'. Didn't.
  ?????

but even without spurious spaces, for instance with the following MCE:

--8<---------------cut here---------------start------------->8---
\documentclass{article}
\usepackage[noDcommand]{kpfonts}
\usepackage{geometry}
\begin{document}
Foo.
\end{document}
--8<---------------cut here---------------end--------------->8---

Here is the `pdftex' version used:

  ?????
  ? $ pdflatex                                                                                                                                                                                                                             1 ?
  ? This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded format=pdflatex)
  ?  restricted \write18 enabled.
  ?????

Here is my file list:

  ?????
  ?  *File List*
  ?     book.cls    2014/09/29 v1.4h Standard LaTeX document class
  ?     bk10.clo    2014/09/29 v1.4h Standard LaTeX file (size option)
  ?  kpfonts.sty     2010/08/20 v3.31
  ? textcomp.sty    2017/04/05 v2.0i Standard LaTeX package
  ?   ts1enc.def    2001/06/05 v3.0e (jk/car/fm) Standard LaTeX file
  ?   ts1enc.dfu    2018/04/05 v1.2c UTF-8 support for inputenc
  ?  amsmath.sty    2017/09/02 v2.17a AMS math features
  ?  amstext.sty    2000/06/29 v2.01 AMS text
  ?   amsgen.sty    1999/11/30 v2.0 generic functions
  ?   amsbsy.sty    1999/11/29 v1.2d Bold Symbols
  ?   amsopn.sty    2016/03/08 v2.02 operator names
  ? geometry.sty    2018/03/24 v5.7 Page Geometry
  ?   keyval.sty    2014/10/28 v1.15 key=value parser (DPC)
  ?    ifpdf.sty    2017/03/15 v3.2 Provides the ifpdf switch
  ?   ifvtex.sty    2016/05/16 v1.6 Detect VTeX and its facilities (HO)
  ?  ifxetex.sty    2010/09/12 v0.6 Provides ifxetex conditional
  ?   omljkp.fd    2006/08/15 v1.0
  ?   omsjkp.fd    2006/08/15 v1.0
  ?   omxjkp.fd    2006/08/15 v1.0
  ?  ujkpexa.fd    2006/08/15 v1.0
  ?   ts1cmr.fd    2014/09/29 v2.5h Standard LaTeX font definitions
  ?   ot1jkp.fd    2007/08/30 Fontinst v1.928 font definitions for OT1/jkp.
  ?????


> That said, we'll almost certainly adjust here to deal with the problem (it comes
> about from some defensive code that's been added to avoid a separate
> issue!). For me
>
> \makeatletter
> \def\@ifl at t@r#1#2{%
>   \ifnum\expandafter\@parse at version\expandafter#1//00\@nil<%
>         \expandafter\@parse at version\expandafter#2//00\@nil
>     \expandafter\@secondoftwo
>   \else
>     \expandafter\@firstoftwo
>   \fi}
> \def\@parse at version#1{\@parse at version@0#1\@nil}
> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>   \@parse at version@dash#1-#2-#3#4\@nil
> }
> \makeatother
>
> looks viable to keep the new defensive behaviour and allow for a space:
> depending on views from the rest of the team this might go in today.

This fails:

  ?????
  ? ! Undefined control sequence.
  ? <argument> 01\@nil 
  ?                    994
  ? l.25 [1994/12/01]
  ?                  % LaTeX date must be December 1994 or later
  ?????

with the MCE:

--8<---------------cut here---------------start------------->8---
\documentclass{article}
\makeatletter
\def\@ifl at t@r#1#2{%
  \ifnum\expandafter\@parse at version\expandafter#1//00\@nil<%
        \expandafter\@parse at version\expandafter#2//00\@nil
    \expandafter\@secondoftwo
  \else
    \expandafter\@firstoftwo
  \fi}
\def\@parse at version#1{\@parse at version@0#1\@nil}
\def\@parse at version@#1/#2/#3#4#5\@nil{%
  \@parse at version@dash#1-#2-#3#4\@nil
}
\makeatother
\usepackage[noDcommand]{kpfonts}
\usepackage{geometry}
\begin{document}
Foo.
\end{document}
--8<---------------cut here---------------end--------------->8---
-- 
Denis


From joseph.wright at morningstar2.co.uk  Sun Apr  8 12:26:15 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 8 Apr 2018 11:26:15 +0100
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <87lgdyt32p.fsf@example.com>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
 <87lgdyt32p.fsf@example.com>
Message-ID: <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>

On 08/04/2018 11:17, Denis Bitouz? wrote:
> Le 08/04/18 ? 10h13, Joseph Wright a ?crit :
> 
>> On 08/04/2018 09:46, Denis Bitouz? wrote:
>>> Le 08/04/18 ? 07h46, Joseph Wright a ?crit :
>>>
>>>>> Seems that parsing of '\ProvidesPackage' and related commands was
>>>>> changed. I made small example that shows the problem (I made several
>>>>> small packages and they have '\ProvidesPackage' similar to one in
>>>>> example). I attached example file and example style.
>>>>
>>>> I'll raise with the team: the issue is that space between "[" and the start of
>>>> the date, which has never been documented as supported that I know of.
>>>
>>> Is there a workaround or restoring the latex package to rev. 43813 is
>>> currently the only way to fix this problem?
>>
>> As I've said, I think the underlying problem is that a space had never
>> really be officially supported between "[" and the start of the date
>> information. So 'fix the .sty file' is quite workable.
> 
> Sorry to not have read this thread more carefully. In fact, I sent this
> message because, since the this morning TL 2018's update, I'm facing the
> same error message as Vladimir:
> 
>    ?????
>    ? ! Missing = inserted for \ifnum.
>    ? <to be read again>
>    ?                    2
>    ? l.18 \usepackage
>    ?                 {geometry}
>    ? ? h
>    ? I was expecting to see `<', `=', or `>'. Didn't.
>    ?????
> 
> but even without spurious spaces, for instance with the following MCE:
> 
> --8<---------------cut here---------------start------------->8---
> \documentclass{article}
> \usepackage[noDcommand]{kpfonts}
> \usepackage{geometry}
> \begin{document}
> Foo.
> \end{document}
> --8<---------------cut here---------------end--------------->8---

kpfonts has a space after "[" in the package code: it's one of only two 
packages that do in TeX Live.


> 
> --8<---------------cut here---------------start------------->8---
> \documentclass{article}
> \makeatletter
> \def\@ifl at t@r#1#2{%
>    \ifnum\expandafter\@parse at version\expandafter#1//00\@nil<%
>          \expandafter\@parse at version\expandafter#2//00\@nil
>      \expandafter\@secondoftwo
>    \else
>      \expandafter\@firstoftwo
>    \fi}
> \def\@parse at version#1{\@parse at version@0#1\@nil}
> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>    \@parse at version@dash#1-#2-#3#4\@nil
> }
> \makeatother
> \usepackage[noDcommand]{kpfonts}
> \usepackage{geometry}
> \begin{document}
> Foo.
> \end{document}
> --8<---------------cut here---------------end--------------->8---

Did say I'd not tested it fully: I'll work on it.

Joseph



From joseph.wright at morningstar2.co.uk  Sun Apr  8 12:40:21 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 8 Apr 2018 11:40:21 +0100
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
 <87lgdyt32p.fsf@example.com>
 <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>
Message-ID: <47a4b556-ca2b-3b9f-ddc9-c4db247a2cdd@morningstar2.co.uk>

On 08/04/2018 11:26, Joseph Wright wrote:
>> \def\@parse at version#1{\@parse at version@0#1\@nil}
>> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>> ?? \@parse at version@dash#1-#2-#3#4\@nil

Should have been

     \def\@parse at version#1{\@parse at version@0#1}

Joseph

From dbitouze at wanadoo.fr  Sun Apr  8 15:19:48 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 08 Apr 2018 15:19:48 +0200
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <47a4b556-ca2b-3b9f-ddc9-c4db247a2cdd@morningstar2.co.uk> (Joseph
 Wright's message of "Sun, 8 Apr 2018 11:40:21 +0100")
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
 <87lgdyt32p.fsf@example.com>
 <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>
 <47a4b556-ca2b-3b9f-ddc9-c4db247a2cdd@morningstar2.co.uk>
Message-ID: <87h8olu96z.fsf@example.com>

Le 08/04/18 ? 11h40, Joseph Wright a ?crit :

> On 08/04/2018 11:26, Joseph Wright wrote:
>>> \def\@parse at version#1{\@parse at version@0#1\@nil}
>>> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>>> ?? \@parse at version@dash#1-#2-#3#4\@nil
>
> Should have been
>
>     \def\@parse at version#1{\@parse at version@0#1}

That works on my previous MCE but still fails in other context:

  ?????
  ? ! Package biblatex Error: Outdated 'etoolbox' package.
  ? 
  ? See the biblatex package documentation for explanation.
  ? Type  H <return>  for immediate help.
  ?  ...                                              
  ?                                                   
  ? l.54    \endinput}
  ?                   
  ? ? h
  ? Upgrade to etoolbox v2.1 (2010/11/29) or later.
  ? I found: '2018/02/11 v2.5e e-TeX tools for LaTeX (JAW)'.
  ? This is a fatal error. I'm aborting now
  ?????

with the following MCE:

--8<---------------cut here---------------start------------->8---
\documentclass{article}
\makeatletter
\def\@ifl at t@r#1#2{%
  \ifnum\expandafter\@parse at version\expandafter#1//00\@nil<%
        \expandafter\@parse at version\expandafter#2//00\@nil
    \expandafter\@secondoftwo
  \else
    \expandafter\@firstoftwo
  \fi}
\def\@parse at version#1{\@parse at version@0#1}
\def\@parse at version@#1/#2/#3#4#5\@nil{%
  \@parse at version@dash#1-#2-#3#4\@nil
}
\makeatother
\usepackage{biblatex}%
\begin{document}
Foo.
\end{document}
--8<---------------cut here---------------end--------------->8---

-- 
Denis


From d.p.carlisle at gmail.com  Sun Apr  8 15:25:01 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 8 Apr 2018 14:25:01 +0100
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <87h8olu96z.fsf@example.com>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
 <87lgdyt32p.fsf@example.com>
 <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>
 <47a4b556-ca2b-3b9f-ddc9-c4db247a2cdd@morningstar2.co.uk>
 <87h8olu96z.fsf@example.com>
Message-ID: <CAEW6iOiM+eVVuDzJD+0Un7xbrceK5oWRQgGtQ5o0u=qsTmFWBA@mail.gmail.com>

Your test file works with the version we actually checked in to the sources, see

https://github.com/latex3/latex2e/issues/33

David


On 8 April 2018 at 14:19, Denis Bitouz? <dbitouze at wanadoo.fr> wrote:
> Le 08/04/18 ? 11h40, Joseph Wright a ?crit :
>
>> On 08/04/2018 11:26, Joseph Wright wrote:
>>>> \def\@parse at version#1{\@parse at version@0#1\@nil}
>>>> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>>>>    \@parse at version@dash#1-#2-#3#4\@nil
>>
>> Should have been
>>
>>     \def\@parse at version#1{\@parse at version@0#1}
>
> That works on my previous MCE but still fails in other context:
>
>   ?????
>   ? ! Package biblatex Error: Outdated 'etoolbox' package.
>   ?
>   ? See the biblatex package documentation for explanation.
>   ? Type  H <return>  for immediate help.
>   ?  ...
>   ?
>   ? l.54    \endinput}
>   ?
>   ? ? h
>   ? Upgrade to etoolbox v2.1 (2010/11/29) or later.
>   ? I found: '2018/02/11 v2.5e e-TeX tools for LaTeX (JAW)'.
>   ? This is a fatal error. I'm aborting now
>   ?????
>
> with the following MCE:
>
> --8<---------------cut here---------------start------------->8---
> \documentclass{article}
> \makeatletter
> \def\@ifl at t@r#1#2{%
>   \ifnum\expandafter\@parse at version\expandafter#1//00\@nil<%
>         \expandafter\@parse at version\expandafter#2//00\@nil
>     \expandafter\@secondoftwo
>   \else
>     \expandafter\@firstoftwo
>   \fi}
> \def\@parse at version#1{\@parse at version@0#1}
> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>   \@parse at version@dash#1-#2-#3#4\@nil
> }
> \makeatother
> \usepackage{biblatex}%
> \begin{document}
> Foo.
> \end{document}
> --8<---------------cut here---------------end--------------->8---
>
> --
> Denis
>


From joseph.wright at morningstar2.co.uk  Sun Apr  8 15:26:48 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 8 Apr 2018 14:26:48 +0100
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <87h8olu96z.fsf@example.com>
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
 <87lgdyt32p.fsf@example.com>
 <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>
 <47a4b556-ca2b-3b9f-ddc9-c4db247a2cdd@morningstar2.co.uk>
 <87h8olu96z.fsf@example.com>
Message-ID: <47b7215d-b1db-1d39-cc3f-d9c739623e48@morningstar2.co.uk>

On 08/04/2018 14:19, Denis Bitouz? wrote:
> Le 08/04/18 ? 11h40, Joseph Wright a ?crit :
> 
>> On 08/04/2018 11:26, Joseph Wright wrote:
>>>> \def\@parse at version#1{\@parse at version@0#1\@nil}
>>>> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>>>>  ?? \@parse at version@dash#1-#2-#3#4\@nil
>>
>> Should have been
>>
>>      \def\@parse at version#1{\@parse at version@0#1}
> 
> That works on my previous MCE but still fails in other context:
> 
>    ?????
>    ? ! Package biblatex Error: Outdated 'etoolbox' package.
>    ?
>    ? See the biblatex package documentation for explanation.
>    ? Type  H <return>  for immediate help.
>    ?  ...
>    ?
>    ? l.54    \endinput}
>    ?
>    ? ? h
>    ? Upgrade to etoolbox v2.1 (2010/11/29) or later.
>    ? I found: '2018/02/11 v2.5e e-TeX tools for LaTeX (JAW)'.
>    ? This is a fatal error. I'm aborting now
>    ?????
> 
> with the following MCE:
> 
> --8<---------------cut here---------------start------------->8---
> \documentclass{article}
> \makeatletter
> \def\@ifl at t@r#1#2{%
>    \ifnum\expandafter\@parse at version\expandafter#1//00\@nil<%
>          \expandafter\@parse at version\expandafter#2//00\@nil
>      \expandafter\@secondoftwo
>    \else
>      \expandafter\@firstoftwo
>    \fi}
> \def\@parse at version#1{\@parse at version@0#1}
> \def\@parse at version@#1/#2/#3#4#5\@nil{%
>    \@parse at version@dash#1-#2-#3#4\@nil
> }
> \makeatother
> \usepackage{biblatex}%
> \begin{document}
> Foo.
> \end{document}
> --8<---------------cut here---------------end--------------->8---

There's a stray \expandafter in the above, sorry

\def\@ifl at t@r#1#2{%
    \ifnum\expandafter\@parse at version#1//00\@nil<%
          \expandafter\@parse at version#2//00\@nil
      \expandafter\@secondoftwo
    \else
      \expandafter\@firstoftwo
    \fi}

Joseph

From dbitouze at wanadoo.fr  Sun Apr  8 15:28:54 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 08 Apr 2018 15:28:54 +0200
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <CAEW6iOiM+eVVuDzJD+0Un7xbrceK5oWRQgGtQ5o0u=qsTmFWBA@mail.gmail.com>
 (David Carlisle's message of "Sun, 8 Apr 2018 14:25:01 +0100")
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
 <87lgdyt32p.fsf@example.com>
 <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>
 <47a4b556-ca2b-3b9f-ddc9-c4db247a2cdd@morningstar2.co.uk>
 <87h8olu96z.fsf@example.com>
 <CAEW6iOiM+eVVuDzJD+0Un7xbrceK5oWRQgGtQ5o0u=qsTmFWBA@mail.gmail.com>
Message-ID: <87d0z9u8rt.fsf@example.com>

Le 08/04/18 ? 14h25, David Carlisle a ?crit :

> Your test file works with the version we actually checked in to the
> sources, see
>
> https://github.com/latex3/latex2e/issues/33

Indeed: thanks!
-- 
Denis


From akiyks at gmail.com  Sun Apr  8 16:21:55 2018
From: akiyks at gmail.com (Akira Yokosawa)
Date: Sun, 8 Apr 2018 23:21:55 +0900
Subject: [tex-live] LaTeX Warning with package verbatimbox
Message-ID: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>

Hello,

Is the following LaTeX warning a known issue in TL 2018 pretest?

---
LaTeX Warning: You have requested, on input line 4, version
               `2016-10-22' of package verbatimbox,
               but only version
               `2014/03/12 v3.13 Routines for placing verbatim text into boxes,
 useful in places where the verbatim environment is inaccessible. Secondarily, 
for adding vertical buffer around an object.'
               is available.
---

Thanks in advance,
Akira

From d.p.carlisle at gmail.com  Sun Apr  8 17:03:17 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 8 Apr 2018 16:03:17 +0100
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
Message-ID: <CAEW6iOg7HeJDPEaM4m=1AJZGzu+9mPKAetr3_3-GMLfDVR52xg@mail.gmail.com>

thanks for the report, checking now...

On 8 April 2018 at 15:21, Akira Yokosawa <akiyks at gmail.com> wrote:
> Hello,
>
> Is the following LaTeX warning a known issue in TL 2018 pretest?
>
> ---
> LaTeX Warning: You have requested, on input line 4, version
>                `2016-10-22' of package verbatimbox,
>                but only version
>                `2014/03/12 v3.13 Routines for placing verbatim text into boxes,
>  useful in places where the verbatim environment is inaccessible. Secondarily,
> for adding vertical buffer around an object.'
>                is available.
> ---
>
> Thanks in advance,
> Akira

From joseph.wright at morningstar2.co.uk  Sun Apr  8 17:17:21 2018
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 8 Apr 2018 16:17:21 +0100
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
Message-ID: <e41f94a0-edd2-5155-f15e-dd6bef0a6792@morningstar2.co.uk>

On 08/04/2018 15:21, Akira Yokosawa wrote:
> Hello,
> 
> Is the following LaTeX warning a known issue in TL 2018 pretest?
> 
> ---
> LaTeX Warning: You have requested, on input line 4, version
>                 `2016-10-22' of package verbatimbox,
>                 but only version
>                 `2014/03/12 v3.13 Routines for placing verbatim text into boxes,
>   useful in places where the verbatim environment is inaccessible. Secondarily,
> for adding vertical buffer around an object.'
>                 is available.
> ---
> 
> Thanks in advance,
> Akira

The package has a very funny \ProvidesPackage line ...

Joseph


From simon at getthingsfixed.co.uk  Sun Apr  8 17:21:35 2018
From: simon at getthingsfixed.co.uk (Simon Dales)
Date: Sun, 08 Apr 2018 16:21:35 +0100
Subject: [tex-live] texlive on Raspberry Pi
Message-ID: <1523200895.29836.693.camel@pollock.ts.npl>

Karl + Norbert et al,

Raspberry Pi-s have a non-standard configuration that makes installation
a bit less simple than on your regular PC or Mac.

/////////////
/// BTW
Principally caused by using SD cards for main storage and having /tmp
mounted in a smallish tmpfs. And no DVD drives or HDD. This feature can
make install harder and risks failing altogether.

When you know these specifics we hope it installs easily.

Once installed; TeX works lovely.

/////////////

Now have added a good working page to UKTUG's www. Probably basically
stable but will almost certainly get a few tweaks over the next few
weeks.

Please will you include the link in  relevant places in your
documentation. Note cutoff is tomorrow (Monday).

http://uk.tug.org/texlive/texlive-on-raspberry-pi/

///////////////

Simon


From d.p.carlisle at gmail.com  Sun Apr  8 17:47:55 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 8 Apr 2018 16:47:55 +0100
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
Message-ID: <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>

I think you got the same in tl217?

From enrico.gregorio at gmail.com  Sun Apr  8 17:52:44 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Sun, 8 Apr 2018 17:52:44 +0200
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
 <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
Message-ID: <D115F500-6790-4C49-8B45-482DDD3C98AC@gmail.com>


> On 8 Apr 2018, at 17:47 , David Carlisle <d.p.carlisle at gmail.com> wrote:
> 
> I think you got the same in tl217?

If I try

latex '\documentclass{article}\usepackage{verbatimbox}\stop?

with TL2017 I get

latex '\documentclass{article}\usepackage{verbatimbox}\stop'
This is pdfTeX, Version 3.14159265-2.6-1.40.18 (TeX Live 2017) (preloaded format=latex)
 restricted \write18 enabled.
entering extended mode
LaTeX2e <2017-04-15>
Babel <3.18> and hyphenation patterns for 84 language(s) loaded.
(/usr/local/texlive/2017/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2017/texmf-dist/tex/latex/base/size10.clo))
(/usr/local/texlive/2017/texmf-dist/tex/latex/verbatimbox/verbatimbox.sty
(/usr/local/texlive/2017/texmf-dist/tex/latex/tools/verbatim.sty)
(/usr/local/texlive/2017/texmf-dist/tex/latex/readarray/readarray.sty
(/usr/local/texlive/2017/texmf-dist/tex/latex/base/ifthen.sty)
(/usr/local/texlive/2017/texmf-dist/tex/generic/listofitems/listofitems.sty
(/usr/local/texlive/2017/texmf-dist/tex/generic/listofitems/listofitems.tex))
readarray: bounds checking OFF
))
No pages of output.

With TL2018 (and updated LaTeX kernel)

This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded format=latex)
 restricted \write18 enabled.
entering extended mode
LaTeX2e <2018-04-01>
Babel <3.18> and hyphenation patterns for 84 language(s) loaded.
(/usr/local/texlive/2018/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2018/texmf-dist/tex/latex/base/size10.clo))
(/usr/local/texlive/2018/texmf-dist/tex/latex/verbatimbox/verbatimbox.sty
(/usr/local/texlive/2018/texmf-dist/tex/latex/tools/verbatim.sty)
(/usr/local/texlive/2018/texmf-dist/tex/latex/readarray/readarray.sty
(/usr/local/texlive/2018/texmf-dist/tex/latex/base/ifthen.sty)
(/usr/local/texlive/2018/texmf-dist/tex/generic/listofitems/listofitems.sty
(/usr/local/texlive/2018/texmf-dist/tex/generic/listofitems/listofitems.tex))
readarray: bounds checking OFF
))

LaTeX Warning: You have requested, on input line 0, version
               `2016-10-22' of package verbatimbox,
               but only version
               `2014/03/12 v3.13 Routines for placing verbatim text into boxes,
 useful in places where the verbatim environment is inaccessible. Secondarily, 
for adding vertical buffer around an object.'
               is available.

No pages of output.

Ciao
Enrico

From zdenek.wagner at gmail.com  Sun Apr  8 18:00:51 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 8 Apr 2018 18:00:51 +0200
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <1523200895.29836.693.camel@pollock.ts.npl>
References: <1523200895.29836.693.camel@pollock.ts.npl>
Message-ID: <CAC1phyaFbsLzf9w_QSa_KAgc3HD0LHiSLYkZYWE+KtWfi4SYMA@mail.gmail.com>

Hi,

what kind of nonstandard configuration dou you have? I have not tried TL
2018 so far but in the previous years I did not need anything special.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-04-08 17:21 GMT+02:00 Simon Dales <simon at getthingsfixed.co.uk>:

> Karl + Norbert et al,
>
> Raspberry Pi-s have a non-standard configuration that makes installation
> a bit less simple than on your regular PC or Mac.
>
> /////////////
> /// BTW
> Principally caused by using SD cards for main storage and having /tmp
> mounted in a smallish tmpfs. And no DVD drives or HDD. This feature can
> make install harder and risks failing altogether.
>
> When you know these specifics we hope it installs easily.
>
> Once installed; TeX works lovely.
>
> /////////////
>
> Now have added a good working page to UKTUG's www. Probably basically
> stable but will almost certainly get a few tweaks over the next few
> weeks.
>
> Please will you include the link in  relevant places in your
> documentation. Note cutoff is tomorrow (Monday).
>
> http://uk.tug.org/texlive/texlive-on-raspberry-pi/
>
> ///////////////
>
> Simon
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180408/121f8468/attachment-0001.html>

From kmaeda at kmaeda.net  Sun Apr  8 18:10:24 2018
From: kmaeda at kmaeda.net (Kazuki Maeda)
Date: Mon, 9 Apr 2018 01:10:24 +0900
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <D115F500-6790-4C49-8B45-482DDD3C98AC@gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
 <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
 <D115F500-6790-4C49-8B45-482DDD3C98AC@gmail.com>
Message-ID: <20180409011024.55fb31493ce6b839e3b42339@kmaeda.net>

Hi.

> LaTeX Warning: You have requested, on input line 0, version
>                `2016-10-22' of package verbatimbox,

Ripgrep says

% pwd
/usr/local/texlive/2018/texmf-dist/tex/latex
% rg 2016-10-22
readarray/readarray.sty
37:\RequirePackage{listofitems}[2016-10-22]

verbatimbox loads readarray, and readarray loads listofitems[2016-10-22].
But there is the warning for verbatimbox. It is strange...

Best regards
Kazuki Maeda

From d.p.carlisle at gmail.com  Sun Apr  8 18:51:32 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 8 Apr 2018 17:51:32 +0100
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <20180409011024.55fb31493ce6b839e3b42339@kmaeda.net>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
 <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
 <D115F500-6790-4C49-8B45-482DDD3C98AC@gmail.com>
 <20180409011024.55fb31493ce6b839e3b42339@kmaeda.net>
Message-ID: <CAEW6iOjkZF-gYB2O-rcBA2jAo_8TveWn5hWpbdJE2QQnmk-JMA@mail.gmail.com>

> But there is the warning for verbatimbox. It is strange...

yes sorry about that, it is now fixed in the latex sources, testing
the format (again..)

From akiyks at gmail.com  Sun Apr  8 19:08:55 2018
From: akiyks at gmail.com (Akira Yokosawa)
Date: Mon, 9 Apr 2018 02:08:55 +0900
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
 <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
Message-ID: <aba9184b-eb7d-ca72-be52-f47ce886ff61@gmail.com>

On 2018/04/08 16:47:55 +0100, David Carlisle wrote:
> I think you got the same in tl217?
> 

No, TL 2017 (when it is frozen), it doesn't spit such a warning.
Minimal LaTeX source to see the issue:

---
\documentclass[10pt]{article}

\usepackage{verbatimbox}

\begin{document}

\section{Sample to Use verbbox}

Following is a sample of listing centered by using ``verbatimbox'' package.

{\scriptsize
\begin{verbbox}
#include <stdio.h>
int main(void)
{
    printf("Hello World!\n");
}
\end{verbbox}
}

\begin{figure}[h]
  \centering
  \theverbbox
\caption{Sample Listing}
\end{figure}

\end{document}
---

See, I have no revision specified in the \usepackage{}.

This compiles fine with pdflatex of TL2017. On TL 2018 pretest,
I got the warning I posted earlier in this thread.

I checked CTAN site if there is a newer version of verbatimbox,
but the latest one is [2014/03/12 v3.13].

I suppose something went wrong in the packaging.
Can you further look into this?

Thanks, Akira

From d.p.carlisle at gmail.com  Sun Apr  8 19:17:18 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 8 Apr 2018 18:17:18 +0100
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <aba9184b-eb7d-ca72-be52-f47ce886ff61@gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
 <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
 <aba9184b-eb7d-ca72-be52-f47ce886ff61@gmail.com>
Message-ID: <CAEW6iOgPN2fkZxNHX65ZOBN15mV2QFZzkaEaOLEYZRNNFWZJZA@mail.gmail.com>

On 8 April 2018 at 18:08, Akira Yokosawa <akiyks at gmail.com> wrote:
> On 2018/04/08 16:47:55 +0100, David Carlisle wrote:
>> I think you got the same in tl217?
>>
>
> No, TL 2017 (when it is frozen), it doesn't spit such a warning.
> Minimal LaTeX source to see the issue:


sorry I misinformed you  (I accidentally used a tl2017 that already
had the new latex code)

it is now fixed in

https://github.com/latex3/latex2e/commit/90e4ec9fadec7ed08381ad00f973a83d0d742492


David


>
> ---
> \documentclass[10pt]{article}
>
> \usepackage{verbatimbox}
>
> \begin{document}
>
> \section{Sample to Use verbbox}
>
> Following is a sample of listing centered by using ``verbatimbox'' package.
>
> {\scriptsize
> \begin{verbbox}
> #include <stdio.h>
> int main(void)
> {
>     printf("Hello World!\n");
> }
> \end{verbbox}
> }
>
> \begin{figure}[h]
>   \centering
>   \theverbbox
> \caption{Sample Listing}
> \end{figure}
>
> \end{document}
> ---
>
> See, I have no revision specified in the \usepackage{}.
>
> This compiles fine with pdflatex of TL2017. On TL 2018 pretest,
> I got the warning I posted earlier in this thread.
>
> I checked CTAN site if there is a newer version of verbatimbox,
> but the latest one is [2014/03/12 v3.13].
>
> I suppose something went wrong in the packaging.
> Can you further look into this?
>
> Thanks, Akira

From dbitouze at wanadoo.fr  Sun Apr  8 21:13:05 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 08 Apr 2018 21:13:05 +0200
Subject: [tex-live] Problem with latex package rev. 47330
In-Reply-To: <CAEW6iOiM+eVVuDzJD+0Un7xbrceK5oWRQgGtQ5o0u=qsTmFWBA@mail.gmail.com>
 (David Carlisle's message of "Sun, 8 Apr 2018 14:25:01 +0100")
References: <20180408014525.GA1170@smoon.vl-lomov.ru>
 <61E5F201-8886-484A-9B7E-DB85F70FD7AA@logic.at>
 <20180408030336.GB1170@smoon.vl-lomov.ru>
 <20180408034838.GC1170@smoon.vl-lomov.ru>
 <7959363d-8044-9543-97fe-79757039694d@morningstar2.co.uk>
 <87po3at79n.fsf@example.com>
 <a08d2109-a3d0-ed82-ccf0-86545eabed1d@morningstar2.co.uk>
 <87lgdyt32p.fsf@example.com>
 <30a465d7-d29e-a1b7-ed7b-d369b9f71453@morningstar2.co.uk>
 <47a4b556-ca2b-3b9f-ddc9-c4db247a2cdd@morningstar2.co.uk>
 <87h8olu96z.fsf@example.com>
 <CAEW6iOiM+eVVuDzJD+0Un7xbrceK5oWRQgGtQ5o0u=qsTmFWBA@mail.gmail.com>
Message-ID: <873705tsu6.fsf@example.com>

Le 08/04/18 ? 14h25, David Carlisle a ?crit :

> Your test file works with the version we actually checked in to the
> sources, see
>
> https://github.com/latex3/latex2e/issues/33

Does this fix be in TL 2018?
-- 
Denis


From jhielscher at posteo.de  Sun Apr  8 21:47:09 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sun, 8 Apr 2018 21:47:09 +0200
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <1523200895.29836.693.camel@pollock.ts.npl>
References: <1523200895.29836.693.camel@pollock.ts.npl>
Message-ID: <20180408214709.1e6bc615@hordevm>

Am Sun, 08 Apr 2018 16:21:35 +0100
schrieb Simon Dales <simon at getthingsfixed.co.uk>:

> Raspberry Pi-s have a non-standard configuration that makes
> installation a bit less simple than on your regular PC or Mac.
> 
[?]
> 
> http://uk.tug.org/texlive/texlive-on-raspberry-pi/

OK, same question as Zden?k here. But the link makes clear that it
isn't the TL installer that would not work out of the box (it does
indeed), but you have collected some tweaks to make TeX life easier on
RPi'ish hardware.

Addressing the patience with the bad I/O performance of mmcblk and
the flash modules themselves:
I would not hesitate to recommend just to take out the ?SD, put it into
an ordinary PC, and ./install-tl the armhf-linux binary distribution
along with the native one there (you can delete it from within your RPi
if you don't need it any longer, e. g. to compare the TeX performance
of your SBC with dedicated PC hardware).
The bandwidth of carrying around mass storage devices is unmatched.
Feel free to add this pointer to your page.

Best,
Johannes


From wl at gnu.org  Sun Apr  8 22:24:51 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Sun, 08 Apr 2018 22:24:51 +0200 (CEST)
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <201804062335.w36NZlfP002502@freefriends.org>
References: <87in94ugmw.fsf@example.com>
 <201804062335.w36NZlfP002502@freefriends.org>
Message-ID: <20180408.222451.1579091406591509174.wl@gnu.org>


> The change is motivated for the case of big documents being
> developed on Macs, and thus \include and \includegraphics commands
> (for example) use randomly cased filenames and work regardless. Then
> the document is compiled on normal Unix and failures abound.  It is
> a big pain to fix this.  There can easily be hundreds of images or
> subfiles involved.  This situation is more common than you or I
> might wish :(.  You can look it up on tex.sx etc.

This thread reminded me of a script written by Scott Pakin some years
ago.  Attached is an updated and slightly extended version that
provides an option to check for duplicates ignoring uppercase and
lowercase.

I'v also attached the output of

  $ TEXMF=/path/to/TeXLive/Master/texmf-dist \
    perl kpfinddups.pl -i "*" &> kpfinddups.all

using SVN revision 47373 (from today).  As can be seen, there are some
serious clashes which deserve closer inspection, for example

  arabtex/afoot.sty      vs.  ledmac/afoot.sty
  cherokee/cherokee.tfm  vs.  ocherokee/Cherokee.tfm
   

    Werner
-------------- next part --------------
#! /usr/bin/env perl
# -*- Perl -*-
#
# Copyright (C) 2009-2018
# by Scott Pakin <scott+kpfd at pakin.org>
#
# Copyright (C) 2018
# by Werner Lemberg <wl at gnu.org>
#
#
# kpfinddups.pl
# -------------
#
# Find files that exist multiple times in the kpathsea search path
# (`$TEXMF'), using the `kpsewhich' tool.
#
# Usage:
#
#   perl kpfinddups.pl [-i] [fileglob]
#
# If `fileglobs' is not given, it is set to `*.{sty,cls}'.  If option `-i'
# is set, search files case-insensitively.
#
# Note that quoting around the fileglob is necessary to prevent premature
# expansion by the shell.
#
# The following example searches duplicates of all .tex files, including the
# current directory:
#
#   perl kpfinddups.pl "*.tex"
#
# Depending on file name extensions, kpathsea applies different default
# directories to search for.  For example, `*.tex' files are searched in the
# path given by the `$TEXINPUTS' variable, while `*.dtx' files are searched
# using the `$TEXSOURCES' variable.  Say
#
#   kpsewhich --help-formats
#
# to get the full list.
#
#
# version history:
#   1.0 (2009-Nov-13, SP)
#
#     * First release.
#
#   1.1 (2018-Apr-07, WL)
#
#     * Add option `-i' for case-insensitive file searching.
#
#     * Provide documentation.
#
#     * Various minor improvements to improve output.

use Cwd;
use File::Basename;
use File::Find;
use File::Glob ':glob';
use Getopt::Long qw(:config no_ignore_case
                            no_auto_abbrev
                            no_getopt_compat);
use List::MoreUtils 'natatime';
use warnings;
use strict;

# Parse the command line.
my $opt_i;
GetOptions("i" => \$opt_i);

my $progname = basename $0;
my @fileglobs = $#ARGV == -1 ? ("*.{sty,cls}")
                             : @ARGV;

# Acquire a list of files to examine for duplicates.
my $pathstring = `kpsewhich -expand-path='\$TEXMF'`
                 || die "${progname}: Exiting\n";
chomp $pathstring;

my @pathlist = split ":", $pathstring;
my %matched_files;            # Base names of matched files.

print STDERR "Searching $pathstring for @fileglobs ...\n";

my $glob_options = GLOB_CSH | GLOB_NOSORT;
$glob_options |= GLOB_NOCASE if $opt_i;

find(sub {
       # Process only directories.
       return if ! -d;

       my $prevdir = getcwd();
       chdir $_;
       foreach my $glob (@fileglobs) {
         foreach my $fname (bsd_glob($glob, $glob_options)) {
           next unless -f $fname;
           $matched_files{$fname} = 1;
         }
       }
       chdir $prevdir;
     },
     @pathlist);

# Test each file for potential duplicates.
print STDERR "Testing @{[1+keys %matched_files]} files for duplicates ...\n";

# Map from a file's base name to the list of all kpsewhich matches.
my %base2abs;
my @all_matches = sort keys %matched_files;

# Split list of matches into chunks of 1000 elements each to avoid potential
# `Argument list too long' shell error.
my $iterator = natatime 1000, @all_matches;
my $count = 0;
while (my @matches = $iterator->()) {
  foreach my $kpse_match (split /\n/, `kpsewhich -all @matches`) {
    my $key = $opt_i ? lc $kpse_match : $kpse_match;

    # For PK and GF files, kpathsea transforms input file names.  For
    # example, let's assume that `$TEXMF' is set to `/usr/local/texlive',
    # and file `/usr/local/texlive/fonts/pk/ljfour/public/cm/cmr10.600pk' is
    # present, and there exists a file `cmr10.pk' somewhere in the $TEXMF
    # tree outside of the search patch for PK files.
    #
    #   $ kpsewhich cmr10.pk
    #   /usr/local/texmf/fonts/pk/ljfour/public/cm/cmr10.600pk
    #   $ kpsewhich cmr10.600pk
    #   /usr/local/texmf/fonts/pk/ljfour/public/cm/cmr10.600pk
    #
    # We thus use a sub-hash to filter out duplicate paths.
    $base2abs{basename $key}{$kpse_match} = 1;
  }
}

foreach my $fname (sort keys %base2abs) {
  my %matches = %{$base2abs{$fname}};
  next if (scalar keys %matches) == 1;

  print "Duplicate entries found for $fname:\n";

  local $/ = undef;
  foreach my $duplicate (sort keys %matches) {
    # Try to output each duplicate's version number.
    open(DUP, "<$duplicate") || die "open(\"$duplicate\"): $!\n";
    my $entirefile = <DUP>;
    close DUP;

    $entirefile =~ s/\%[^\n]*\n//g;
    if ($entirefile =~ /\\Provides\w+\s*\{[^\}]+\}\s*\[([^\]]+)\]/s) {
      my $version = $1;
      $version =~ s/^\s+//;
      $version =~ s/\s+$//;
      $version =~ s/\s+/ /g;
      print "  $duplicate\t($version)\n";
    }
    else {
      print "  $duplicate\n";
    }
  }
}

# eof
-------------- next part --------------
Searching /usr/local/backup/TeXLive/Master/texmf-dist for * ...
Testing 147751 files for duplicates ...
Duplicate entries found for afoot.sty:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/arabtex/afoot.sty
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/ledmac/afoot.sty	(2005/03/24 v0.1 PW's version of ArabTeX's afoot.sty)
Duplicate entries found for apalike2.bst:
  /usr/local/backup/TeXLive/Master/texmf-dist/bibtex/bst/apalike2/apalike2.bst
  /usr/local/backup/TeXLive/Master/texmf-dist/bibtex/bst/beebe/apalike2.bst
Duplicate entries found for auncial.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/fonts/auncial-new/auncial.dtx	(2005/11/27 v2.0 package for Artificial Uncial fonts)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/fonts/bookhands/auncial.dtx	(1999/05/22 v1.0 package for Artificial Uncial fonts)
Duplicate entries found for auncial.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/fonts/auncial-new/auncial.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/fonts/bookhands/auncial.ins
Duplicate entries found for base.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/base.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/base.dtx	(2018/02/11)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/base.dtx	(2017/06/02)
Duplicate entries found for base.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/base.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/base.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/base.ins
Duplicate entries found for bzrsetup.mf:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/ctib/bzrsetup.mf
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/otibet/bzrsetup.mf
Duplicate entries found for cherokee.tfm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/tfm/public/cherokee/cherokee.tfm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/tfm/public/ocherokee/Cherokee.tfm
Duplicate entries found for control.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/control.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/force/Control.lua
Duplicate entries found for czech.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/babel-czech/czech.dtx	(2008/07/06 v3.1a Czech support from the babel system)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/locale/czech.dtx	(2017/07/09)
Duplicate entries found for czech.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/babel-czech/czech.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/locale/czech.ins
Duplicate entries found for czech.sty:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/cslatex/base/czech.sty	(2002/07/19 v2.4 CSTeX czech style)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/babel/czech.sty
Duplicate entries found for doc.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/circular/doc.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/control/doc.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/doc.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/force/jedi/doc.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/trees/doc.lua
Duplicate entries found for econ.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/econ.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/econ.dtx	(2018/02/11)
Duplicate entries found for econ.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/econ.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/econ.ins
Duplicate entries found for edge.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/deprecated/Edge.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/model/Edge.lua
Duplicate entries found for english.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/babel-english/english.dtx	(2017/06/06 v3.3r English support from the babel system)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/locale/english.dtx	(2017/09/08)
Duplicate entries found for english.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/babel-english/english.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/locale/english.ins
Duplicate entries found for etex.src:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/luatex/hyph-utf8/etex.src
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/plain/etex/etex.src
Duplicate entries found for fi.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/fi.dtx	(2016/06/16)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/fi.dtx	(2016/04/18)
Duplicate entries found for fi.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/fi.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/fi.ins
Duplicate entries found for fithesis-base.sty:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/style/fithesis-base.sty	(2018/02/11)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/style/mu/fithesis-base.sty	(2017/06/02)
Duplicate entries found for fithesis-czech.def:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/fithesis-czech.def	(2017/07/09)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/econ/fithesis-czech.def	(2017/07/09)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fi/fithesis-czech.def	(2016/05/25)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fithesis-czech.def	(2017/07/09)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fsps/fithesis-czech.def	(2017/05/15)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fss/fithesis-czech.def	(2016/05/25)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/law/fithesis-czech.def	(2015/06/26)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/med/fithesis-czech.def	(2016/03/23)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/ped/fithesis-czech.def	(2017/10/28)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/phil/fithesis-czech.def	(2016/03/22)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/sci/fithesis-czech.def	(2017/06/02)
Duplicate entries found for fithesis-english.def:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/fithesis-english.def	(2017/09/08)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/econ/fithesis-english.def	(2017/06/02)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fi/fithesis-english.def	(2016/05/25)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fithesis-english.def	(2017/07/09)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fsps/fithesis-english.def	(2017/06/02)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fss/fithesis-english.def	(2016/05/25)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/law/fithesis-english.def	(2015/06/26)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/med/fithesis-english.def	(2016/03/23)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/ped/fithesis-english.def	(2016/03/22)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/phil/fithesis-english.def	(2016/03/22)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/sci/fithesis-english.def	(2017/06/02)
Duplicate entries found for fithesis-slovak.def:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/fithesis-slovak.def	(2017/07/09)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/econ/fithesis-slovak.def	(2017/07/09)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fi/fithesis-slovak.def	(2016/05/25)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fithesis-slovak.def	(2018/02/11)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fsps/fithesis-slovak.def	(2017/05/15)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/fss/fithesis-slovak.def	(2016/05/25)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/law/fithesis-slovak.def	(2015/06/26)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/med/fithesis-slovak.def	(2016/03/23)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/ped/fithesis-slovak.def	(2017/06/02)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/phil/fithesis-slovak.def	(2016/03/22)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/fithesis/locale/mu/sci/fithesis-slovak.def	(2017/05/21)
Duplicate entries found for fonttext.cfg:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/cslatex/base/fonttext.cfg	(1997/08/20 CSLaTeX)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/base/fonttext.cfg	(2016/12/03 v3.0a LaTeX Kernel (Uncustomised text font setup))
Duplicate entries found for footnote.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/disser/footnote.dtx
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/mdwtools/footnote.dtx
Duplicate entries found for fourier-mcl.afm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fourier/fourier-mcl.afm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fouriernc/fourier-mcl.afm
Duplicate entries found for fourier-ml.afm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fourier/fourier-ml.afm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fouriernc/fourier-ml.afm
Duplicate entries found for fourier-mlb.afm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fourier/fourier-mlb.afm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fouriernc/fourier-mlb.afm
Duplicate entries found for fourier-mlit.afm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fourier/fourier-mlit.afm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fouriernc/fourier-mlit.afm
Duplicate entries found for fourier-mlitb.afm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fourier/fourier-mlitb.afm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fouriernc/fourier-mlitb.afm
Duplicate entries found for fourier-ms.afm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fourier/fourier-ms.afm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/fouriernc/fourier-ms.afm
Duplicate entries found for fsps.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/fsps.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/fsps.dtx	(2018/02/11)
Duplicate entries found for fsps.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/fsps.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/fsps.ins
Duplicate entries found for fss.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/fss.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/fss.dtx	(2016/04/18)
Duplicate entries found for fss.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/fss.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/fss.ins
Duplicate entries found for functions.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/libraries/luamath/pgf/luamath/functions.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgfplots/lua/pgfplotsoldpgfsupp/luamath/functions.lua
Duplicate entries found for gamma.mf:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/lfb/gamma.mf
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/wnri/gamma.mf
Duplicate entries found for german.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/babel-german/german.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/german/german.ins
Duplicate entries found for gloss-churchslavonic.ldf:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/churchslavonic/gloss-churchslavonic.ldf	(polyglossia: module for Church Slavonic)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/polyglossia/gloss-churchslavonic.ldf	(polyglossia: module for Church Slavonic)
Duplicate entries found for gloss-occitan.ldf:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/gloss-occitan/gloss-occitan.ldf	(2016/02/04 v0.3 polyglossia: module for Occitan)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/polyglossia/gloss-occitan.ldf	(2016/02/04 v0.3 polyglossia: module for Occitan)
Duplicate entries found for hyphen.cfg:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/cslatex/base/hyphen.cfg	(1997/01/30 CSLaTeX)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/babel/hyphen.cfg	(2018/02/14 3.18 Babel hyphens)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/antomega/hyphen.cfg	(2005/05/07 v0.8 Taken from Babel language switching mechanism and modified for Antomega)
Duplicate entries found for kinsoku.tex:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/platex/base/kinsoku.tex
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/ptex/ptex-base/kinsoku.tex
Duplicate entries found for kpfonts-expert-sc.enc:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/dvips/kpfonts/kpfonts-expert-sc.enc
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/pdftex/kpfonts/kpfonts-expert-sc.enc
Duplicate entries found for kpfonts-expert-tt.enc:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/dvips/kpfonts/kpfonts-expert-tt.enc
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/pdftex/kpfonts/kpfonts-expert-tt.enc
Duplicate entries found for kpfonts-expert.enc:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/dvips/kpfonts/kpfonts-expert.enc
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/pdftex/kpfonts/kpfonts-expert.enc
Duplicate entries found for kpfonts-large-sc.enc:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/dvips/kpfonts/kpfonts-large-sc.enc
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/enc/pdftex/kpfonts/kpfonts-large-sc.enc
Duplicate entries found for language.dat:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/config/language.dat
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/config/language.dat
Duplicate entries found for law.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/law.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/law.dtx	(2017/05/21)
Duplicate entries found for law.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/law.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/law.ins
Duplicate entries found for layered.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/doc/ogdf/layered.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/layered.lua
Duplicate entries found for lchcmr.fd:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/base/lchcmr.fd
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/ocherokee/lchcmr.fd
Duplicate entries found for lchenc.def:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/base/lchenc.def	(2001/09/25 v1.0 Cherokee Encoding)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/ocherokee/lchenc.def	(2001/09/25 v1.0 Cherokee Encoding)
Duplicate entries found for library.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/circular/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/control/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/examples/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/force/jedi/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/force/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/layered/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/model/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/ogdf/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/pedigrees/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/phylogenetics/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/routing/library.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/graphdrawing/lua/pgf/gd/trees/library.lua
Duplicate entries found for ligature.mf:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/lfb/ligature.mf
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/wnri/ligature.mf
Duplicate entries found for lm-ec.map:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvipdfm/lm/lm-ec.map
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvips/lm/lm-ec.map
Duplicate entries found for lm-math.map:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvipdfm/lm/lm-math.map
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvips/lm/lm-math.map
Duplicate entries found for lm-rm.map:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvipdfm/lm/lm-rm.map
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvips/lm/lm-rm.map
Duplicate entries found for lm-texnansi.map:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvipdfm/lm/lm-texnansi.map
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/map/dvips/lm/lm-texnansi.map
Duplicate entries found for local.mf:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/knuth-local/local.mf
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/phonetic/local.mf
Duplicate entries found for ltxdocext.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/revtex/ltxdocext.dtx
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/revtex4/ltxdocext.dtx
Duplicate entries found for ltxgrid.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/revtex/ltxgrid.dtx	(2010/07/25/20:33:00 4.1r page grid package (portions licensed from W. E. Baxter web at superscript.com))
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/revtex4/ltxgrid.dtx
Duplicate entries found for ltxutil.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/revtex/ltxutil.dtx	(2010/07/25/20:33:00 4.1r utilities package (portions licensed from W. E. Baxter web at superscript.com))
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/revtex4/ltxutil.dtx
Duplicate entries found for md-utrma.pfb:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/type1/public/mathdesign/mdpgd/md-utrma.pfb
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/type1/public/mathdesign/mdput/md-utrma.pfb
Duplicate entries found for med.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/med.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/med.dtx	(2018/02/11)
Duplicate entries found for med.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/med.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/med.ins
Duplicate entries found for metatex.tex:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/base/mkiv/metatex.tex
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/plain/metatex/metatex.tex
Duplicate entries found for mtxrun.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/scripts/context/lua/mtxrun.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/scripts/context/stubs/mswin/mtxrun.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/scripts/context/stubs/win64/mtxrun.lua
Duplicate entries found for ocherokee.sty:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/base/ocherokee.sty
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/ocherokee/ocherokee.sty
Duplicate entries found for ot1.cmap:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/cmap/ot1.cmap
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/mmap/ot1.cmap
Duplicate entries found for parser.lua:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgf/libraries/luamath/pgf/luamath/parser.lua
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pgfplots/lua/pgfplotsoldpgfsupp/luamath/parser.lua
Duplicate entries found for ped.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/ped.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/ped.dtx	(2016/04/18)
Duplicate entries found for ped.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/ped.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/ped.ins
Duplicate entries found for pgfmanual.code.tex:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/pgf/doc/pgfmanual.code.tex
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/tikz-dependency/pgfmanual.code.tex
Duplicate entries found for pgfmanual.pdflinks.code.tex:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/pgf/doc/pgfmanual.pdflinks.code.tex
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/tikz-dependency/pgfmanual.pdflinks.code.tex
Duplicate entries found for pgfmanual.prettyprinter.code.tex:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/pgf/doc/pgfmanual.prettyprinter.code.tex
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/tikz-dependency/pgfmanual.prettyprinter.code.tex
Duplicate entries found for phil.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/phil.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/phil.dtx	(2016/04/18)
Duplicate entries found for phil.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/phil.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/phil.ins
Duplicate entries found for ps2mfbas.mf:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/armenian/ps2mfbas.mf
  /usr/local/backup/TeXLive/Master/texmf-dist/metafont/misc/ps2mfbas.mf
Duplicate entries found for pstricks.con:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pstricks/pstricks.con
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/xelatex/xetex-pstricks/pstricks.con
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/xetex/xetex-pstricks/pstricks.con
Duplicate entries found for qplr.afm:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/newpx/qplr.afm
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/afm/public/tex-gyre/qplr.afm
Duplicate entries found for readme:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/fontinst/afm2pl/README
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/pst-geo/data/README
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/t2/cyrfinst/README
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/lhcyr/lhcyralt/README
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/lhcyr/lhcyrkoi/README
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/lhcyr/lhcyrwin/README
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/plain/cyrplain/README
Duplicate entries found for s-abbreviations-mixed.mkiv:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/common/s-abbreviations-mixed.mkiv
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/mkiv/s-abbreviations-mixed.mkiv
Duplicate entries found for s-abbreviations-pseudocaps.mkiv:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/common/s-abbreviations-pseudocaps.mkiv
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/mkiv/s-abbreviations-pseudocaps.mkiv
Duplicate entries found for s-abbreviations-smallcaps.mkiv:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/common/s-abbreviations-smallcaps.mkiv
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/mkiv/s-abbreviations-smallcaps.mkiv
Duplicate entries found for s-abbreviations-words.mkiv:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/common/s-abbreviations-words.mkiv
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/context/modules/mkiv/s-abbreviations-words.mkiv
Duplicate entries found for sci.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/sci.dtx	(2016/05/06)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/sci.dtx	(2017/06/02)
Duplicate entries found for sci.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fibeamer/theme/mu/sci.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/style/mu/sci.ins
Duplicate entries found for scrlttr2examples.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/koma-script/doc/english/scrlttr2examples.dtx
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/koma-script/doc/ngerman/scrlttr2examples.dtx
Duplicate entries found for slovak.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/babel-slovak/slovak.dtx	(2008/07/06 v3.1a Slovak support from the babel system)
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/locale/slovak.dtx	(2017/07/09)
Duplicate entries found for slovak.ins:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/generic/babel-slovak/slovak.ins
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/fithesis/locale/slovak.ins
Duplicate entries found for slovak.sty:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/cslatex/base/slovak.sty	(2002/07/19 v2.4 CSTeX slovak style)
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/generic/babel/slovak.sty
Duplicate entries found for t1.cmap:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/cmap/t1.cmap
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/latex/mmap/t1.cmap
Duplicate entries found for test.mf:
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/aramaic-serto/test.mf
  /usr/local/backup/TeXLive/Master/texmf-dist/fonts/source/public/knuth-lib/test.mf
Duplicate entries found for textcase.dtx:
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/revtex4/textcase.dtx	(1998/11/12 v0.06 Text only upper/lower case changing (DPC))
  /usr/local/backup/TeXLive/Master/texmf-dist/source/latex/textcase/textcase.dtx	(2004/10/07 v0.07 Text only upper/lower case changing (DPC))
Duplicate entries found for ukinsoku.tex:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/uplatex/base/ukinsoku.tex
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/uptex/uptex-base/ukinsoku.tex
Duplicate entries found for ut1omlgc.fd:
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/jadetex/base/ut1omlgc.fd
  /usr/local/backup/TeXLive/Master/texmf-dist/tex/lambda/base/UT1omlgc.fd

From karl at freefriends.org  Sun Apr  8 22:31:20 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 08 Apr 2018 14:31:20 -0600
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <20180408.222451.1579091406591509174.wl@gnu.org> (message from
 Werner LEMBERG on Sun, 08 Apr 2018 22:24:51 +0200 (CEST))
Message-ID: <86a7udv3s7.fsf@frenzy.freefriends.org>

    serious clashes which deserve closer inspection, for example

Thanks. I was aware of afoot and many others (I have another
duplicate-finding script that I run every night) that have been around
for years, seemingly impossible to resolve, and no practical bugs have
been reported for them. So they remain.

As for [cC]herokee.tfm and the like, I hadn't thought about that, but it
shouldn't be a problem, because case-insensitive matching is not done in
texmf-dist.  --thanks again, karl.

From akiyks at gmail.com  Sun Apr  8 23:12:33 2018
From: akiyks at gmail.com (Akira Yokosawa)
Date: Mon, 9 Apr 2018 06:12:33 +0900
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <CAEW6iOgPN2fkZxNHX65ZOBN15mV2QFZzkaEaOLEYZRNNFWZJZA@mail.gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
 <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
 <aba9184b-eb7d-ca72-be52-f47ce886ff61@gmail.com>
 <CAEW6iOgPN2fkZxNHX65ZOBN15mV2QFZzkaEaOLEYZRNNFWZJZA@mail.gmail.com>
Message-ID: <cbbd9501-e99f-8ef5-9c35-7b152f1a4da4@gmail.com>

On 2018/04/08 18:17:18 +0100, David Carlisle wrote:
> On 8 April 2018 at 18:08, Akira Yokosawa <akiyks at gmail.com> wrote:
>> On 2018/04/08 16:47:55 +0100, David Carlisle wrote:
>>> I think you got the same in tl217?
>>>
>>
>> No, TL 2017 (when it is frozen), it doesn't spit such a warning.
>> Minimal LaTeX source to see the issue:
> 
> 
> sorry I misinformed you  (I accidentally used a tl2017 that already
> had the new latex code)
> 
> it is now fixed in
> 
> https://github.com/latex3/latex2e/commit/90e4ec9fadec7ed08381ad00f973a83d0d742492

Thanks!
Is this fix going to make the public release of tl2018?

Akira

> 
> 
> David
> 
> 
[...]


From d.p.carlisle at gmail.com  Sun Apr  8 23:31:46 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 8 Apr 2018 22:31:46 +0100
Subject: [tex-live] LaTeX Warning with package verbatimbox
In-Reply-To: <cbbd9501-e99f-8ef5-9c35-7b152f1a4da4@gmail.com>
References: <984ad80f-d3f7-e4e4-95c5-ec0646dbcf4c@gmail.com>
 <CAEW6iOi9jxFabM+A0v5+YFCM0SXfuRaZ5dGCMB4FxmUpUo9aGw@mail.gmail.com>
 <aba9184b-eb7d-ca72-be52-f47ce886ff61@gmail.com>
 <CAEW6iOgPN2fkZxNHX65ZOBN15mV2QFZzkaEaOLEYZRNNFWZJZA@mail.gmail.com>
 <cbbd9501-e99f-8ef5-9c35-7b152f1a4da4@gmail.com>
Message-ID: <CAEW6iOjxfkTgDQOS02d9yAOXtzDshXPiiTL7yr2uL651X_hEVw@mail.gmail.com>

> Is this fix going to make the public release of tl2018?

yes thanks to Manfred and Karl for fast tracking it on to ctan and
texlive respectively.

From artourter at gmail.com  Mon Apr  9 02:51:44 2018
From: artourter at gmail.com (Greg' Ar Tourter)
Date: Mon, 9 Apr 2018 01:51:44 +0100
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
Message-ID: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>

Hi,

What is the minimum system requirement for the binaries in texlive 2018?
The reason I ask is because I have just installed pretest on one of our
server running centos6 and binaries seems to require glibc 2.14 (RH/centos
6 comes with 2.12):

running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...

tlmgr: mtxrun --generate failed (status 1), output:
texlua: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by
texlua)

kpsewhich: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by
kpsewhich)
kpsewhich: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by
kpsewhich)
kpsewhich: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by
kpsewhich)
kpsewhich: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by
kpsewhich)
kpsewhich: /lib64/libc.so.6: version `GLIBC_2.14' not found (required by
kpsewhich)
Cannot open /web2c/updmap.cfg for writing: No such file or directory at
/opt/bridge/texlive/2018/tlpkg/TeXLive/TLUtils.pm line 2894.

Is that intentional?

Cheers

Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180409/18dcb3c6/attachment.html>

From preining at logic.at  Mon Apr  9 03:03:57 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 9 Apr 2018 10:03:57 +0900
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
In-Reply-To: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>
References: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>
Message-ID: <20180409010357.GA19517@bulldog.preining.info>

On Mon, 09 Apr 2018, Greg' Ar Tourter wrote:
> server running centos6 and binaries seems to require glibc 2.14 (RH/centos

Unfortunately it looks like it. The problem is that several programs
require C++11 standard, which is only supported in Debian/jessie and
above.

> Is that intentional?

So, unfortunately yes.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From lomov.vl at gmail.com  Mon Apr  9 03:59:30 2018
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Mon, 9 Apr 2018 09:59:30 +0800
Subject: [tex-live] Problem with 'mathtext' package after update of
	'cyrillic' one
Message-ID: <20180409015930.GD1170@smoon.vl-lomov.ru>

Hello,
today update of TeX Live 2018 (pretest) breaks in another way the same
document as 'latex' package earlier. The problem is with 'mathtext'
package from t2 bundle (https://ctan.org/pkg/t2).

I attached minimal example document to show the problem. This is
relevant part of .log file:

------------------------------ 8< --------------------------------
! Package inputenc Error: Unicode character ? (U+41F)
(inputenc)                not set up for use with LaTeX.

See the inputenc package documentation for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.15 ?
       ???? ????.
------------------------------ 8< --------------------------------


P.S. As for my previous report I decided to fix the '[]' portion of
'\ProvidesPackage' because that was much easier.

---
WBR, Vladimir Lomov

-- 
Money will say more in one moment than the most eloquent lover can in years.
-------------- next part --------------
\documentclass{article}

\usepackage{mathtext}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}

\begin{document}

% \begin{center}
%   \bfseries\Large
%   ??????, ???!
% \end{center}

????? ????.

\end{document}

From preining at logic.at  Mon Apr  9 04:20:19 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 9 Apr 2018 11:20:19 +0900
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <1523200895.29836.693.camel@pollock.ts.npl>
References: <1523200895.29836.693.camel@pollock.ts.npl>
Message-ID: <20180409022019.GC3072@bulldog.preining.info>

Hi

(sorry for not answering on your earlier email, too busy)

You say that the installer does create a lot of *FILES* in /tmp, which I
disagree. It creates temporary directories ... which shouldn't take up
much space, actually minimal space.

I am surprised which files are created on the RPi...

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From simon at getthingsfixed.co.uk  Mon Apr  9 07:41:22 2018
From: simon at getthingsfixed.co.uk (Simon Dales)
Date: Mon, 09 Apr 2018 06:41:22 +0100
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <20180408214709.1e6bc615@hordevm>
References: <1523200895.29836.693.camel@pollock.ts.npl>
 <20180408214709.1e6bc615@hordevm>
Message-ID: <1523252482.29836.761.camel@pollock.ts.npl>

On Sun, 2018-04-08 at 21:47 +0200, Johannes Hielscher wrote:
> Am Sun, 08 Apr 2018 16:21:35 +0100
> schrieb Simon Dales <simon at getthingsfixed.co.uk>:
> 
> > Raspberry Pi-s have a non-standard configuration that makes
> > installation a bit less simple than on your regular PC or Mac.
> > 
> [?]
> > 
> > http://uk.tug.org/texlive/texlive-on-raspberry-pi/
> 
> OK, same question as Zden?k here. But the link makes clear that it
> isn't the TL installer that would not work out of the box (it does
> indeed), but you have collected some tweaks to make TeX life easier on
> RPi'ish hardware.

I found that if you do a full-sized install of texlive using the regular
tmpfs /tmp it failed. Using a USB HDD and setting TMPDIR to point there,
it worked.

And, if you have gone to the hassle of getting a USB HDD (permanent or
temporary), you may as well use the rest of its features.

> Addressing the patience with the bad I/O performance of mmcblk and
> the flash modules themselves:
> I would not hesitate to recommend just to take out the ?SD, put it into
> an ordinary PC, and ./install-tl the armhf-linux binary distribution
> along with the native one there (you can delete it from within your RPi
> if you don't need it any longer, e. g. to compare the TeX performance
> of your SBC with dedicated PC hardware).
> The bandwidth of carrying around mass storage devices is unmatched.
> Feel free to add this pointer to your page.

I had thought of that solution. However on the instructions you would
need some huge caveats lest a noob inadvertently trashes their own PC's
TeX Live installation. You might not get it wrong, but plenty of people
could.

Another, hybrid, solution is to sshfs/NFS the DVD and then just have tmp
(+swapfile?) in your USB HDD.

I agree that it's slower than having the SD in your PC, but could be
easier on a noob's braincells(?). The speed's not too awful; set it
going and eventually it says "finished".

///////////////

Simon



From zdenek.wagner at gmail.com  Mon Apr  9 10:41:45 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 9 Apr 2018 10:41:45 +0200
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <1523252482.29836.761.camel@pollock.ts.npl>
References: <1523200895.29836.693.camel@pollock.ts.npl>
 <20180408214709.1e6bc615@hordevm>
 <1523252482.29836.761.camel@pollock.ts.npl>
Message-ID: <CAC1phyZdKfrm4UC14Yt5DH=YF+-P3hyqaZYLwa6vvVr2w1f8mA@mail.gmail.com>

2018-04-09 7:41 GMT+02:00 Simon Dales <simon at getthingsfixed.co.uk>:

> On Sun, 2018-04-08 at 21:47 +0200, Johannes Hielscher wrote:
> > Am Sun, 08 Apr 2018 16:21:35 +0100
> > schrieb Simon Dales <simon at getthingsfixed.co.uk>:
> >
> > > Raspberry Pi-s have a non-standard configuration that makes
> > > installation a bit less simple than on your regular PC or Mac.
> > >
> > [?]
> > >
> > > http://uk.tug.org/texlive/texlive-on-raspberry-pi/
> >
> > OK, same question as Zden?k here. But the link makes clear that it
> > isn't the TL installer that would not work out of the box (it does
> > indeed), but you have collected some tweaks to make TeX life easier on
> > RPi'ish hardware.
>
> I found that if you do a full-sized install of texlive using the regular
> tmpfs /tmp it failed. Using a USB HDD and setting TMPDIR to point there,
> it worked.
>

Strange, I have two Rpi's with two different versions of Raspbian and none
of them uses /tmp on tmpfs (and I would never use it on a machine with
so few RAM, I do it on desktops with 32 GB RAM and limit the size of .tmp
to 1 GB).

This is my layout and notice that I have TL 2015 and 2018 installed:

pi at raspberry:~ $ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/root       116G   58G   54G  52% /
devtmpfs        214M     0  214M   0% /dev
tmpfs           218M     0  218M   0% /dev/shm
tmpfs           218M   25M  193M  12% /run
tmpfs           5.0M  8.0K  5.0M   1% /run/lock
tmpfs           218M     0  218M   0% /sys/fs/cgroup
/dev/mmcblk0p1   60M   20M   41M  34% /boot
tmpfs            44M     0   44M   0% /run/user/1002
tmpfs            44M     0   44M   0% /run/user/1000
pi at raspberry:~ $ ll /usr/local/texlive/
total 2720
drwxrwxr-x  9 pi pi    4096 Jan 30  2016 2015
drwxr-xr-x  7 pi pi    4096 Apr  9 05:21 2018
lrwxrwxrwx  1 pi pi       4 Feb  7  2016 current -> 2015
drwxr-xr-x  4 pi pi    4096 Apr  8 02:26 install-tl-20180408
-rw-r--r--  1 pi pi 2755976 Apr  8 19:17 install-tl-unx.tar.gz
drwxr-xr-x  8 pi pi    4096 Jan 30  2016 texmf-devel
drwxr-sr-x 15 pi pi    4096 Aug 12  2016 texmf-local
drwxr-xr-x  7 pi pi    4096 Feb  5  2012 ufalpbml
drwxr-xr-x  7 pi pi    4096 Jan 30  2016 velthuis

This is a server that controlls my home network (DHCP, DDNS, gateway
between computers
and Synology)), it is not used for TeXing.



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

...

>
> ///////////////
>
> Simon
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180409/013f49c1/attachment-0001.html>

From enrico.gregorio at gmail.com  Mon Apr  9 10:45:04 2018
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Mon, 9 Apr 2018 10:45:04 +0200
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <20180409015930.GD1170@smoon.vl-lomov.ru>
References: <20180409015930.GD1170@smoon.vl-lomov.ru>
Message-ID: <B33823EA-01DA-4E3E-82D2-D48D85032798@gmail.com>


> On 9 Apr 2018, at 03:59 , Vladimir Lomov <lomov.vl at gmail.com> wrote:
> 
> Hello,
> today update of TeX Live 2018 (pretest) breaks in another way the same
> document as 'latex' package earlier. The problem is with 'mathtext'
> package from t2 bundle (https://ctan.org/pkg/t2).
> 
> I attached minimal example document to show the problem. This is
> relevant part of .log file:
> 
> ------------------------------ 8< --------------------------------
> ! Package inputenc Error: Unicode character ? (U+41F)
> (inputenc)                not set up for use with LaTeX.
> 
> See the inputenc package documentation for explanation.
> Type  H <return>  for immediate help.
> ...                                              
> 
> l.15 ?
>       ???? ????.
> ------------------------------ 8< --------------------------------
> 
> 
> P.S. As for my previous report I decided to fix the '[]' portion of
> '\ProvidesPackage' because that was much easier.
> 
> ---
> WBR, Vladimir Lomov

Load mathtext after fontenc (and inputenc).

Ciao
Enrico

From jhielscher at posteo.de  Mon Apr  9 10:47:11 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Mon, 9 Apr 2018 10:47:11 +0200
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
In-Reply-To: <20180409010357.GA19517@bulldog.preining.info>
References: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>
 <20180409010357.GA19517@bulldog.preining.info>
Message-ID: <20180409104700.05ed25c7@posteo.de>

> On Mon, 09 Apr 2018, Greg' Ar Tourter wrote:
> > server running centos6 and binaries seems to require glibc 2.14
> > (RH/centos  
> 
> Unfortunately it looks like it. The problem is that several programs
> require C++11 standard, which is only supported in Debian/jessie and
> above.
> 
> > Is that intentional?  
> 
> So, unfortunately yes.

Oh dear. They will maintain this already seven-years-old release for
another two years ( https://wiki.centos.org/About/Product ). IMHO, this
may be worth another cautionary \item at the top of (e. g.)
http://tug.org/texlive/quickinstall.html that reads something like:

TeX Live 2018 on Linux relies on glibc>=2.14. For users of Debian<8
(jessie), RHEL/CentOS<7, SLES<12, we recommend to use TeX Live packages
provided by their distribution instead, or fall back to (frozen) <a
href="ftp://tug.org/historic/systems/texlive/2017/install-tl-unx.tar.gz">TeX
Live 2017</a>.

Not happy about recommending de-facto deprecated versions. (How long
will the mirrors actually provide the 2017 binary packages?) But
arguably better than users continuing to stumble upon this.

The minimum glibc prerequisite should be at least included in the
release notes/notable changes.

The listing on the Quick Install page might also be a place for Simon's
RPi page.

Best,
Johannes

From d.p.carlisle at gmail.com  Mon Apr  9 10:47:23 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 9 Apr 2018 09:47:23 +0100
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <20180409015930.GD1170@smoon.vl-lomov.ru>
References: <20180409015930.GD1170@smoon.vl-lomov.ru>
Message-ID: <CAEW6iOhohVasUKsD8-UdkFHE+DJcUNDEOHMOrbUB=KNYk=A1yQ@mail.gmail.com>

the mathtext package redefines the latex format command
\DeclareFontEncoding@ command. Previously the inputenc utf8.def file
redefined it again and so the utf8 definitions were loaded. Now
effectively the load order is changed as inputenc is pre-loaded and so
the mathtext definition is in force, as a workaround you can put
\UseRawInputEncoding
at the top of the file which forces
\usepackage[utf8]{inputenc}
to be re-loaded and work as before.
or simply load mathtext later, after fontenc.

mathtext.sty will need a small update to avoid needing this, I'll work
something out later to suggest.

Thanks for the report,

David


On 9 April 2018 at 02:59, Vladimir Lomov <lomov.vl at gmail.com> wrote:
> Hello,
> today update of TeX Live 2018 (pretest) breaks in another way the same
> document as 'latex' package earlier. The problem is with 'mathtext'
> package from t2 bundle (https://ctan.org/pkg/t2).
>
> I attached minimal example document to show the problem. This is
> relevant part of .log file:
>
> ------------------------------ 8< --------------------------------
> ! Package inputenc Error: Unicode character ? (U+41F)
> (inputenc)                not set up for use with LaTeX.
>
> See the inputenc package documentation for explanation.
> Type  H <return>  for immediate help.
>  ...
>
> l.15 ?
>        ???? ????.
> ------------------------------ 8< --------------------------------
>
>
> P.S. As for my previous report I decided to fix the '[]' portion of
> '\ProvidesPackage' because that was much easier.
>
> ---
> WBR, Vladimir Lomov
>
> --
> Money will say more in one moment than the most eloquent lover can in years.


From zdenek.wagner at gmail.com  Mon Apr  9 10:50:26 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 9 Apr 2018 10:50:26 +0200
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
In-Reply-To: <20180409104700.05ed25c7@posteo.de>
References: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>
 <20180409010357.GA19517@bulldog.preining.info>
 <20180409104700.05ed25c7@posteo.de>
Message-ID: <CAC1phyYr4zQkN=SgakVVtoA4JnvFD9_w=TC=LDhGXQTC0SCoiA@mail.gmail.com>

2018-04-09 10:47 GMT+02:00 Johannes Hielscher <jhielscher at posteo.de>:

> > On Mon, 09 Apr 2018, Greg' Ar Tourter wrote:
> > > server running centos6 and binaries seems to require glibc 2.14
> > > (RH/centos
> >
> > Unfortunately it looks like it. The problem is that several programs
> > require C++11 standard, which is only supported in Debian/jessie and
> > above.
> >
> > > Is that intentional?
> >
> > So, unfortunately yes.
>
> Oh dear. They will maintain this already seven-years-old release for
> another two years ( https://wiki.centos.org/About/Product ). IMHO, this
> may be worth another cautionary \item at the top of (e. g.)
> http://tug.org/texlive/quickinstall.html that reads something like:
>
> TeX Live 2018 on Linux relies on glibc>=2.14. For users of Debian<8
> (jessie), RHEL/CentOS<7, SLES<12, we recommend to use TeX Live packages
> provided by their distribution instead, or fall back to (frozen) <a
> href="ftp://tug.org/historic/systems/texlive/2017/install-tl-unx.tar.gz
> ">TeX
> Live 2017</a>.
>

I have just installed TL 2018 successfully on CentOS 7. I will not use it
there,
I just wanted to test whether it works.

>
> Not happy about recommending de-facto deprecated versions. (How long
> will the mirrors actually provide the 2017 binary packages?) But
> arguably better than users continuing to stumble upon this.
>
> The minimum glibc prerequisite should be at least included in the
> release notes/notable changes.
>
> The listing on the Quick Install page might also be a place for Simon's
> RPi page.
>
> Best,
> Johannes
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180409/93863964/attachment.html>

From mojca.miklavec.lists at gmail.com  Mon Apr  9 10:56:09 2018
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 9 Apr 2018 10:56:09 +0200
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
In-Reply-To: <20180409104700.05ed25c7@posteo.de>
References: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>
 <20180409010357.GA19517@bulldog.preining.info>
 <20180409104700.05ed25c7@posteo.de>
Message-ID: <CALBOmsaLCO1Ob7YXfsqECHcTeFgAdJSJcYE+Rntg4gymzAiouA@mail.gmail.com>

On 9 April 2018 at 10:47, Johannes Hielscher wrote:
>
> Not happy about recommending de-facto deprecated versions. (How long
> will the mirrors actually provide the 2017 binary packages?)

They are gone as soon as 2018 gets released.

Users can only install from an ISO image unless archives stay
somewhere on historic tug archive.

Mojca

From simon at getthingsfixed.co.uk  Mon Apr  9 11:17:10 2018
From: simon at getthingsfixed.co.uk (Simon Dales)
Date: Mon, 09 Apr 2018 10:17:10 +0100
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <CAC1phyZdKfrm4UC14Yt5DH=YF+-P3hyqaZYLwa6vvVr2w1f8mA@mail.gmail.com>
References: <1523200895.29836.693.camel@pollock.ts.npl>
 <20180408214709.1e6bc615@hordevm>
 <1523252482.29836.761.camel@pollock.ts.npl>
 <CAC1phyZdKfrm4UC14Yt5DH=YF+-P3hyqaZYLwa6vvVr2w1f8mA@mail.gmail.com>
Message-ID: <1523265430.29836.793.camel@pollock.ts.npl>

On Mon, 2018-04-09 at 10:41 +0200, Zdenek Wagner wrote:

> Strange, I have two Rpi's with two different versions of Raspbian and
> none of them uses /tmp on tmpfs 

Depends on the Raspbian/whatever distro. Stretch uses tmpfs, so too
Wheezy. I can't find a Jessie to interrogate at the moment, but
most-likely is tmpfs (interpolation).

Of course if your /tmp is in your root directory of your main storage
then /tmp is unlikely to have a reachable max size/inode limit.

But one too many writes on your SD and it dies. No SMART to help you
watch its advancing decrepitude; it just goes phut one day; and no OS,
no boot, nothing.

> (and I would never use it on a machine with so few RAM, I do it on
> desktops with 32 GB RAM and limit the size of .tmp to 1 GB).

A RPi won't be so wizzy as a PC, especially not one with lots of RAM,
quick disk and posh graphics card.

But for ~?20 what do you expect? And sucks less 240V from the wall.

/////////////////

Simon




From d.p.carlisle at gmail.com  Mon Apr  9 11:34:59 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 9 Apr 2018 10:34:59 +0100
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <CAEW6iOhohVasUKsD8-UdkFHE+DJcUNDEOHMOrbUB=KNYk=A1yQ@mail.gmail.com>
References: <20180409015930.GD1170@smoon.vl-lomov.ru>
 <CAEW6iOhohVasUKsD8-UdkFHE+DJcUNDEOHMOrbUB=KNYk=A1yQ@mail.gmail.com>
Message-ID: <CAEW6iOiQWyfPoZfpMuKuLR3w_mvEKECcxqEfGCbVKqJTemHvJQ@mail.gmail.com>

Werner,  Vladimir,

It's been reported on the texlive list that there is an issue with
mathtext.sty in the new latex release which essentially preloads
\usepackage[utf8]{inputenc]

\mathtext.sty defines \DeclareFontEncoding@  inputenc's utf8 support
redefines it again (to load dfu files for the unicode range covered by
the font) so previously it worked but now as utf8 is already in force
the utf8.def does not get reloaded and so mathtext.sty definition
stays in force and the t2.dfu file is not loaded in the example at the
end

A simple fix would be to add dfu loading to mathtext's version of
\DeclareFontEncoding@ something like:


\def\DeclareFontEncoding@#1#2#3{%
  \expandafter
  \ifx\csname T@#1\endcsname\relax
     \def\cdp at elt{\noexpand\cdp at elt}%
     \xdef\cdp at list{\cdp at list\cdp at elt{#1}%
                    {\default at family}{\default at series}%
                    {\default at shape}}%
     \expandafter\let\csname#1-cmd\endcsname\@changed at cmd
     \expandafter\let\csname#1-tmcmd\endcsname\@changed at tmcmd
% add
    \begingroup
      \wlog{Now handling font encoding #1 ...}%
      \lowercase{%
        \InputIfFileExists{#1enc.dfu}}%
           {\wlog{... processing UTF-8 mapping file for font %
                      encoding #1}}%
           {\wlog{... no UTF-8 mapping file for font encoding #1}}%
    \endgroup
% end addition
  \else
     \@font at info{Redeclaring font encoding #1}%
  \fi
  \global\@namedef{T@#1}{#2}%
  \global\@namedef{M@#1}{\default at M#3}%
  \xdef\LastDeclaredEncoding{#1}%
  \DeclareSymbolFont{#1letters}{#1}\rmdefault\mddefault\updefault
  }



David


%\UseRawInputEncoding
\documentclass{article}

\usepackage{mathtext}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}

\begin{document}

????? ????.

\end{document}

On 9 April 2018 at 09:47, David Carlisle <d.p.carlisle at gmail.com> wrote:
> the mathtext package redefines the latex format command
> \DeclareFontEncoding@ command. Previously the inputenc utf8.def file
> redefined it again and so the utf8 definitions were loaded. Now
> effectively the load order is changed as inputenc is pre-loaded and so
> the mathtext definition is in force, as a workaround you can put
> \UseRawInputEncoding
> at the top of the file which forces
> \usepackage[utf8]{inputenc}
> to be re-loaded and work as before.
> or simply load mathtext later, after fontenc.
>
> mathtext.sty will need a small update to avoid needing this, I'll work
> something out later to suggest.
>
> Thanks for the report,
>
> David
>
>
> On 9 April 2018 at 02:59, Vladimir Lomov <lomov.vl at gmail.com> wrote:
>> Hello,
>> today update of TeX Live 2018 (pretest) breaks in another way the same
>> document as 'latex' package earlier. The problem is with 'mathtext'
>> package from t2 bundle (https://ctan.org/pkg/t2).
>>
>> I attached minimal example document to show the problem. This is
>> relevant part of .log file:
>>
>> ------------------------------ 8< --------------------------------
>> ! Package inputenc Error: Unicode character ? (U+41F)
>> (inputenc)                not set up for use with LaTeX.
>>
>> See the inputenc package documentation for explanation.
>> Type  H <return>  for immediate help.
>>  ...
>>
>> l.15 ?
>>        ???? ????.
>> ------------------------------ 8< --------------------------------
>>
>>
>> P.S. As for my previous report I decided to fix the '[]' portion of
>> '\ProvidesPackage' because that was much easier.
>>
>> ---
>> WBR, Vladimir Lomov
>>
>> --
>> Money will say more in one moment than the most eloquent lover can in years.


From wl at gnu.org  Mon Apr  9 12:04:48 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Mon, 09 Apr 2018 12:04:48 +0200 (CEST)
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <CAEW6iOiQWyfPoZfpMuKuLR3w_mvEKECcxqEfGCbVKqJTemHvJQ@mail.gmail.com>
References: <20180409015930.GD1170@smoon.vl-lomov.ru>
 <CAEW6iOhohVasUKsD8-UdkFHE+DJcUNDEOHMOrbUB=KNYk=A1yQ@mail.gmail.com>
 <CAEW6iOiQWyfPoZfpMuKuLR3w_mvEKECcxqEfGCbVKqJTemHvJQ@mail.gmail.com>
Message-ID: <20180409.120448.2017929098073364682.wl@gnu.org>


Hello David, and ? after a looong time ? hello Vladimir!


> It's been reported on the texlive list that there is an issue with
> mathtext.sty in the new latex release which essentially preloads
> \usepackage[utf8]{inputenc]
>
> \mathtext.sty defines \DeclareFontEncoding@; inputenc's utf8 support
> redefines it again (to load dfu files for the unicode range covered
> by the font) so previously it worked but now as utf8 is already in
> force the utf8.def does not get reloaded and so mathtext.sty
> definition stays in force and the t2.dfu file is not loaded in the
> example at the end

Uh, oh, a ghost from the past!  I can't remember at all that I wrote
\DeclareTextMathSymbol... :-)

> A simple fix would be to add dfu loading to mathtext's version of
> \DeclareFontEncoding@ something like:
>
>
> \def\DeclareFontEncoding@#1#2#3{%
>   \expandafter
>   \ifx\csname T@#1\endcsname\relax
>      \def\cdp at elt{\noexpand\cdp at elt}%
>      \xdef\cdp at list{\cdp at list\cdp at elt{#1}%
>                     {\default at family}{\default at series}%
>                     {\default at shape}}%
>      \expandafter\let\csname#1-cmd\endcsname\@changed at cmd
>      \expandafter\let\csname#1-tmcmd\endcsname\@changed at tmcmd
> % add
>     \begingroup
>       \wlog{Now handling font encoding #1 ...}%
>       \lowercase{%
>         \InputIfFileExists{#1enc.dfu}}%
>            {\wlog{... processing UTF-8 mapping file for font %
>                       encoding #1}}%
>            {\wlog{... no UTF-8 mapping file for font encoding #1}}%
>     \endgroup
> % end addition
>   \else
>      \@font at info{Redeclaring font encoding #1}%
>   \fi
>   \global\@namedef{T@#1}{#2}%
>   \global\@namedef{M@#1}{\default at M#3}%
>   \xdef\LastDeclaredEncoding{#1}%
>   \DeclareSymbolFont{#1letters}{#1}\rmdefault\mddefault\updefault
>   }

Thanks, looks good!  Vladimir, can you add this and quickly do a new
release so that a fix is available in the forthcoming TeXLive release?
IIRC, it was always you who did releases of T2 stuff...


   Werner


From markus.kohm at gmx.de  Mon Apr  9 14:13:33 2018
From: markus.kohm at gmx.de (Markus Kohm)
Date: Mon, 09 Apr 2018 14:13:33 +0200
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <1523265430.29836.793.camel@pollock.ts.npl>
References: <1523200895.29836.693.camel@pollock.ts.npl>
 <CAC1phyZdKfrm4UC14Yt5DH=YF+-P3hyqaZYLwa6vvVr2w1f8mA@mail.gmail.com>
 <1523265430.29836.793.camel@pollock.ts.npl>
Message-ID: <2371015.Rb6hfK3eUc@komascript.de>

Am Montag, 9. April 2018, 11:17:10 CEST schrieb Simon Dales:
> Stretch uses tmpfs

Not for /tmp:

$ cat /etc/os-release | grep PRETTY_NAME
PRETTY_NAME="Raspbian GNU/Linux 9 (stretch)"
$ mount | grep /tmp
$

/tmp is even not a mountpoint but a directory of /.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20180409/e0f793fd/attachment.sig>

From simon at getthingsfixed.co.uk  Mon Apr  9 14:55:27 2018
From: simon at getthingsfixed.co.uk (Simon Dales)
Date: Mon, 09 Apr 2018 13:55:27 +0100
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <2371015.Rb6hfK3eUc@komascript.de>
References: <1523200895.29836.693.camel@pollock.ts.npl>
 <CAC1phyZdKfrm4UC14Yt5DH=YF+-P3hyqaZYLwa6vvVr2w1f8mA@mail.gmail.com>
 <1523265430.29836.793.camel@pollock.ts.npl>
 <2371015.Rb6hfK3eUc@komascript.de>
Message-ID: <1523278527.29836.865.camel@pollock.ts.npl>

Markus,
On Mon, 2018-04-09 at 14:13 +0200, Markus Kohm wrote:
> Am Montag, 9. April 2018, 11:17:10 CEST schrieb Simon Dales:
> > Stretch uses tmpfs
> 
> Not for /tmp:
> 
> $ cat /etc/os-release | grep PRETTY_NAME
> PRETTY_NAME="Raspbian GNU/Linux 9 (stretch)"
> $ mount | grep /tmp
> $
> 
> /tmp is even not a mountpoint but a directory of /.

It is in any Raspbian that I have examined (Wheezy + Stretch). I did
nothing special; it just installed that way out of the box.

Makes sense to have /tmp tmpfs: preserves your SD. Depends on your mean
daily writes. Lots of people will be lucky. Some of my systems are quite
active, and I have killed flash that way. It's got no SMART so it
suddenly dies: instant Norwegian Blue.

Not sure why there is a difference in observation. Maybe subtle
differences in distro build. There is a build flag where you can set
tmpfs for /tmp on/off, and some reports of a bug where this flag gets
ignored (so /tmp becomes a directory).

//////////

Simon



From ttk at t-lab.opal.ne.jp  Mon Apr  9 16:45:54 2018
From: ttk at t-lab.opal.ne.jp (ttk at t-lab.opal.ne.jp)
Date: Mon, 09 Apr 2018 23:45:54 +0900
Subject: [tex-live] Encoding of files in Master/texmf-dist/doc/man/man1
Message-ID: <201804091445.w39EjsAV070161@www474.sakura.ne.jp>

Hi all,

I'm confused with encoding of files in Master/texmf-dist/doc/man/man{1,5} .
I checked encoding of them and found as following:
a2ping.1, kpsewhere.1, latex2man.1, mkjobtexmf.1, thumbpdf.1 : Latin1 (iso-8859-1)
findhyph.1, luaotfload-tool.1, mendex.1, luaotfload.conf.5 : UTF-8
others : ASCII

Some pdf files comverted from UTF-8 roff files (luaotfload-tool.man1.pdf, luaotfload.conf.man5.pdf)
seem to include some character corruption.
For example,
a sentence in luaotfload.conf.man5.pdf
'For example, the ?color callback? must be a string of' ...
should be 
'For example, the ?color callback? must be a string of' ...

findhyph.man1.pdf and mendex.man1.pdf are found to be fine.

Is there any reason to keep mixture of file encoding?


Takuji TANAKA

From sh-list at posteo.net  Mon Apr  9 18:04:15 2018
From: sh-list at posteo.net (Stephan Hennig)
Date: Mon, 9 Apr 2018 18:04:15 +0200
Subject: [tex-live] [pretest] "get_system_tmpdir" is not exported by the
 TeXLive::TLUtils module
Message-ID: <67dbfa7e-9eaa-827c-0f0c-784fbd219687@posteo.net>

Hi,

trying to install TL2018 in Windows 7 x64 from a console with
administrator privileges results in the following error here:


> X:\tlnet>install-tl-advanced.bat
> PATH=X:\tlnet\tlpkg\tlperl\bin;<details left out>
> "X:\tlnet\install-tl" -gui perltk
> "get_system_tmpdir" is not exported by the TeXLive::TLUtils module
> Can't continue after import errors at X:\tlnet\install-tl line 49.
> BEGIN failed--compilation aborted at X:\tlnet\install-tl line 53.


Best regards,
Stephan Hennig

From siepo at cybercomm.nl  Mon Apr  9 19:13:39 2018
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 9 Apr 2018 19:13:39 +0200
Subject: [tex-live] [pretest] "get_system_tmpdir" is not exported by the
 TeXLive::TLUtils module
In-Reply-To: <67dbfa7e-9eaa-827c-0f0c-784fbd219687@posteo.net>
References: <67dbfa7e-9eaa-827c-0f0c-784fbd219687@posteo.net>
Message-ID: <20180409171339.mqsvmj7og6dqwpt7@bitmuis.thuis.internal>

On Mon, Apr 09, 2018 at 06:04:15PM +0200, Stephan Hennig wrote:
> Hi,
> 
> trying to install TL2018 in Windows 7 x64 from a console with
> administrator privileges results in the following error here:
> 
> 
> > X:\tlnet>install-tl-advanced.bat
> > PATH=X:\tlnet\tlpkg\tlperl\bin;<details left out>
> > "X:\tlnet\install-tl" -gui perltk
> > "get_system_tmpdir" is not exported by the TeXLive::TLUtils module
> > Can't continue after import errors at X:\tlnet\install-tl line 49.
> > BEGIN failed--compilation aborted at X:\tlnet\install-tl line 53.

I cannot reproduce this, and I cannot find mention of
get_system_tmpdir anywhere in the installer scripts. Maybe you have
somewhere traces of an old installation or installer?

-- 
Siep Kroonenberg

From sh-list at posteo.net  Mon Apr  9 20:01:16 2018
From: sh-list at posteo.net (Stephan Hennig)
Date: Mon, 9 Apr 2018 20:01:16 +0200
Subject: [tex-live] [pretest] "get_system_tmpdir" is not exported by the
 TeXLive::TLUtils module
In-Reply-To: <20180409171339.mqsvmj7og6dqwpt7@bitmuis.thuis.internal>
References: <67dbfa7e-9eaa-827c-0f0c-784fbd219687@posteo.net>
 <20180409171339.mqsvmj7og6dqwpt7@bitmuis.thuis.internal>
Message-ID: <2cffae63-0f51-386a-ddb8-71d66687dc8f@posteo.net>

Am 09.04.2018 um 19:13 schrieb Siep Kroonenberg:
> On Mon, Apr 09, 2018 at 06:04:15PM +0200, Stephan Hennig wrote:
>> Hi,
>> 
>> trying to install TL2018 in Windows 7 x64 from a console with
>> administrator privileges results in the following error here:
>> 
>> 
>> > X:\tlnet>install-tl-advanced.bat
>> > PATH=X:\tlnet\tlpkg\tlperl\bin;<details left out>
>> > "X:\tlnet\install-tl" -gui perltk
>> > "get_system_tmpdir" is not exported by the TeXLive::TLUtils module
>> > Can't continue after import errors at X:\tlnet\install-tl line 49.
>> > BEGIN failed--compilation aborted at X:\tlnet\install-tl line 53.
> 
> I cannot reproduce this, and I cannot find mention of
> get_system_tmpdir anywhere in the installer scripts. Maybe you have
> somewhere traces of an old installation or installer?

Completely my fault!  I somehow managed to have

 --exclude="install-tl*"

in my rsync call, causing install scripts to be of 2015.  All seems to
be well now.  Haven't took part in pretest in 2016 and 2017, obviously.
Sorry for the noise!

Best regards,
Stephan Hennig

From wl at gnu.org  Mon Apr  9 20:04:38 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Mon, 09 Apr 2018 20:04:38 +0200 (CEST)
Subject: [tex-live] Encoding of files in Master/texmf-dist/doc/man/man1
In-Reply-To: <201804091445.w39EjsAV070161@www474.sakura.ne.jp>
References: <201804091445.w39EjsAV070161@www474.sakura.ne.jp>
Message-ID: <20180409.200438.2059156531794213759.wl@gnu.org>


> I'm confused with encoding of files in
> Master/texmf-dist/doc/man/man{1,5}.  I checked encoding of them and
> found as following:
>

> a2ping.1, kpsewhere.1, latex2man.1, mkjobtexmf.1, thumbpdf.1 :
>   Latin1 (iso-8859-1)
> findhyph.1, luaotfload-tool.1, mendex.1, luaotfload.conf.5 : UTF-8
> others : ASCII

This is a known issue.  Karl is working on it.

> Is there any reason to keep mixture of file encoding?

Well, TeXLive takes whatever is delivered to CTAN.  It's a bad idea
IMHO to modify the files in TeXLive only; instead, the authors should
fix this.

The good news: The next groff version uses the `uchardet' library to
improve the heuristics for identifying a man page's character encoding
in case an encoding tag (using the Emacs style) is missing.  The bad
news: It will take some more weeks until this version (1.22.4) gets
released.

Until then it would be an excellent idea if man pages not encoded in
latin-1 (or ASCII) get tagged with

  .\" -*- mode: troff; coding: <encoding> -*-

as the first (or second) line; <encoding> could be, for example,
`utf-8'.  Invoking

  groff -k ...

would then automatically convert the man page to something groff can
understand.


    Werner

From reinhard.kotucha at web.de  Mon Apr  9 21:23:52 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 9 Apr 2018 21:23:52 +0200
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <2371015.Rb6hfK3eUc@komascript.de>
References: <1523200895.29836.693.camel@pollock.ts.npl>
 <CAC1phyZdKfrm4UC14Yt5DH=YF+-P3hyqaZYLwa6vvVr2w1f8mA@mail.gmail.com>
 <1523265430.29836.793.camel@pollock.ts.npl>
 <2371015.Rb6hfK3eUc@komascript.de>
Message-ID: <23243.48584.864204.910665@gargle.gargle.HOWL>

On 2018-04-09 at 14:13:33 +0200, Markus Kohm wrote:

 > Am Montag, 9. April 2018, 11:17:10 CEST schrieb Simon Dales:
 > > Stretch uses tmpfs
 > 
 > Not for /tmp:
 > 
 > $ cat /etc/os-release | grep PRETTY_NAME
 > PRETTY_NAME="Raspbian GNU/Linux 9 (stretch)"
 > $ mount | grep /tmp
 > $

Same on Jessie.

$ cat /etc/os-release | grep PRETTY_NAME
PRETTY_NAME="Raspbian GNU/Linux 8 (jessie)"
$ stat /tmp/ | grep ^Device
Device: b302h/45826d	Inode: 2552        Links: 8
$ stat /usr/ | grep ^Device
Device: b302h/45826d	Inode: 2559        Links: 12

 > /tmp is even not a mountpoint but a directory of /.

Simon, what makes you think that /tmp is in tmpfs?  What's the output
of df(1)? 

Even if /tmp would be in tmpfs I won't worry either.  I only ran out
of memory once when I compiled TeX Live with MAKEOPTS=-j4, which was
certainly a bit too optimistic.

As far as the limited amount of write operations is concerned, it's
more problematic that Chromium steadily creates files in $HOME even if
it's doing nothing useful.  You'll notice it if you update your
backups with rsync and run rsync twice.  I'm convinced that /home is
much more critical than /tmp.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From luecking at uark.edu  Mon Apr  9 22:03:28 2018
From: luecking at uark.edu (Daniel H. Luecking)
Date: Mon, 9 Apr 2018 20:03:28 +0000
Subject: [tex-live] kpsewhich case insensitive?
Message-ID: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>


After all the discussion here about case (in)sensitive searching in the
pretest TL2018, I got the impression that Windows was immune, as all
its filenames are case insensitive.

However, in two different Windows 7 systems I got a "file not found"
errors from updmap, possibly because updmap.cfg contains "minionpro.map"
while on disk (and in ls-R) the file was named "MinionPro.map" (It resides
under texmf-local). There was no such problem in prior TL2017.

I'm sorry, but I just cannot tell from Karl's explanation whether this
is how it is supposed to behave, so I am reporting it here. I have since
renamed the file and rerun texhash, so the problem is no more for me.

Best,

Daniel H. Luecking, Graduate Coordinator
Dept. of Mathematical Sciences
University of Arkansas
Fayetteville, AR, USA

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180409/97a6bd4a/attachment.html>

From reinhard.kotucha at web.de  Mon Apr  9 22:57:20 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 9 Apr 2018 22:57:20 +0200
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
In-Reply-To: <CALBOmsaLCO1Ob7YXfsqECHcTeFgAdJSJcYE+Rntg4gymzAiouA@mail.gmail.com>
References: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>
 <20180409010357.GA19517@bulldog.preining.info>
 <20180409104700.05ed25c7@posteo.de>
 <CALBOmsaLCO1Ob7YXfsqECHcTeFgAdJSJcYE+Rntg4gymzAiouA@mail.gmail.com>
Message-ID: <23243.54192.872255.469104@gargle.gargle.HOWL>

On 2018-04-09 at 10:56:09 +0200, Mojca Miklavec wrote:

 > On 9 April 2018 at 10:47, Johannes Hielscher wrote:
 > >
 > > Not happy about recommending de-facto deprecated versions. (How
 > > long will the mirrors actually provide the 2017 binary packages?)
 > 
 > They are gone as soon as 2018 gets released.
 > 
 > Users can only install from an ISO image unless archives stay
 > somewhere on historic tug archive.

The most obvious solution is to use the TeX Live packages provided by
CentOS itself.  The majority of TeX users isn't aware of the latest
stuff anyway and just do what's described in the books, which are not
up-to-date either.  However, people can still download TL-2017 ISO
images from

  ftp://ftp.tug.org/historic/systems/texlive/

if desired as you already mentioned.  I can't speak for Karl, who is
maintaining the server, but I can't imagine that anything will be
removed during this millenium.

Furthermore, though it's a pity that important programs/libraries are
not kept up-to-date in CentOS, the long term (10 years) support is
great if your main intent is to host virtual machines.  This is why I
installed CentOS 7 on the new machine I bought last year.  CentOS is
not my favorite system but it's fine in this case.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From kakuto at fuk.kindai.ac.jp  Mon Apr  9 23:07:14 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 10 Apr 2018 06:07:14 +0900
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
References: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
Message-ID: <469ABE6B0EDC4C928396C34389BD1B60@CJ3001517A>

> However, in two different Windows 7 systems
> I got a "file not found" errors from updmap, possibly
> because updmap.cfg contains "minionpro.map" while on
> disk (and in ls-R) the file was named "MinionPro.map"
> (It resides under texmf-local). There was no such problem
> in prior TL2017.

I think I didn't change the matching condition
in kpathsea for Windows. I don't know a reason of the above
behavior. Probably a feature of the program updmap.

However, I will change the matching condition in the next TL 2019:
case-sensitive matching is done even on Windows for trees with ls-R.

Best,
Akira


From P.Taylor at Rhul.Ac.Uk  Mon Apr  9 23:17:36 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (RHUoL))
Date: Mon, 9 Apr 2018 22:17:36 +0100
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
In-Reply-To: <23243.54192.872255.469104@gargle.gargle.HOWL>
References: <CAK09-vk-hwKJNpY_5Pv-UB33zueTOuFD_NQ2+u7os0JNbs8ZDw@mail.gmail.com>
 <20180409010357.GA19517@bulldog.preining.info>
 <20180409104700.05ed25c7@posteo.de>
 <CALBOmsaLCO1Ob7YXfsqECHcTeFgAdJSJcYE+Rntg4gymzAiouA@mail.gmail.com>
 <23243.54192.872255.469104@gargle.gargle.HOWL>
Message-ID: <fe075151-8da5-d709-b3a9-d15a55899e7b@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180409/818f1c49/attachment-0001.html>

From kakuto at fuk.kindai.ac.jp  Mon Apr  9 23:24:04 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 10 Apr 2018 06:24:04 +0900
Subject: [tex-live] kpsewhich case insensitive?
Message-ID: <C64E59190DB44307B135020E2E25B7BE@CJ3001517A>

> I think I didn't change the matching condition
> in kpathsea for Windows. 

I didn't change the matching condition, but
I changed the return value of kpathsea:
In TL2017,
kpsewhich ieeetran.cls
showed
c:/texlive/2017/texmf-dist/tex/latex/ieeetran/ieeetran.cls

In TL2018, it shows the 'actual' name:
c:/texlive/2018/texmf-dist/tex/latex/ieeetran/IEEEtran.cls

Maybe this is the reason of Daniel's example.

In the next TL2019,
kpsewhich ieeetran.cls
does not print anything.

Best,
Akira


From jhielscher at posteo.de  Mon Apr  9 23:27:12 2018
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Mon, 9 Apr 2018 23:27:12 +0200
Subject: [tex-live] texlive on Raspberry Pi
In-Reply-To: <1523266064.29836.803.camel@pollock.ts.npl>
References: <1523200895.29836.693.camel@pollock.ts.npl>
 <20180408214709.1e6bc615@hordevm>
 <1523266064.29836.803.camel@pollock.ts.npl>
Message-ID: <20180409232713.2cdb65dd@hordevm>

Am Mon, 09 Apr 2018 10:27:44 +0100
schrieb Simon Dales <simon at getthingsfixed.co.uk>:

> Johannes,
> 
> On Sun, 2018-04-08 at 21:47 +0200, Johannes Hielscher wrote:
> > Addressing the patience with the bad I/O performance of mmcblk and
> > the flash modules themselves:
> > I would not hesitate to recommend just to take out the ?SD, put it
> > into an ordinary PC, and ./install-tl the armhf-linux binary
> > distribution along with the native one there (you can delete it
> > from within your RPi if you don't need it any longer, e. g. to
> > compare the TeX performance of your SBC with dedicated PC
> > hardware).  
> 
> Have you actually tested this route?
Even the other way round. I installed TL18 pretest on a ?SD plugged
into a Toshiba AC100 (armv7h, 512MB RAM minus what the GUI needs; maybe
relieved by the magic little word "zram", that comes preconfigured with
the AC100 Unbuntu image, and is definitively worth to be considered for
any low-RAM&don't-wanna-swap-to-flash constellation for the Yodas
amongst us).
No hassle at all (besides the slowness of course), I installed for
the platforms {armhf,x86_64,aarch64}-linux, and also tested them by
carrying the card to my desktop PC, an AArch64 SBC, and another armv7h
notebook.

Those tests were not comprehensive, but the few binaries ran fine and
found anything needed from texmf on the ?SD.

In a portability view, this is indistinguishable from a network install
on, say, an NFS share. That also has worked seamlessly since I can
remember setting up shared TL via tlmgr.

> 
> Clearly you have to be really concentrating when setting the paths in
> tl-install/tlmgr. Else it stomps on your PC's own happy TeX Live
> installation.
That is true, as it is for any ordinary, local installation.
> 
> But does it make the right soft links, ls-R files etc?
Should it?
Please correct me, but I never needed more than
  export PATH="/media/sd/texlive/2018/bin/armhf-linux:$PATH"
and some patience on building formats when I ran the binaries for the
first time (and, in case of LuaTeX, a whole lot of extra patience for
the font database).
> 
> For other jobs I would agree.
> 
> > The bandwidth of carrying around mass storage devices is
> > unmatched.  
> 
> Sneaker-net's king. An artic could grab big bandwidth if it rocked up
> at CERN. Big latency on the M25.
RFC 1149 (-:
> 
> //////////////////
> 
> Simon
> 



From karl at freefriends.org  Mon Apr  9 23:45:24 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 9 Apr 2018 21:45:24 GMT
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
Message-ID: <201804092145.w39LjO3W024785@freefriends.org>

    pretest TL2018, I got the impression that Windows was immune, 

That was my impression too.

    However, in two different Windows 7 systems I got a "file not found"
    errors from updmap, possibly because updmap.cfg contains "minionpro.map"
    while on disk (and in ls-R) the file was named "MinionPro.map" (It resides
    under texmf-local). There was no such problem in prior TL2017.

All I can report is that to the best of my knowledge, the new kpathsea
code I wrote is not even compiled on Windows.

I suppose Akira's reply must somehow imply the difference, but I can't
understand how updmap could care what the case was of anything on
Windows. Surely Perl's open(IN,"SomeFile") succeeds even if the file
is named somefile on disk (in Windows)? -k

From karl at freefriends.org  Tue Apr 10 01:23:59 2018
From: karl at freefriends.org (Karl Berry)
Date: Mon, 9 Apr 2018 23:23:59 GMT
Subject: [tex-live] texlive 2018 doesn't work on redhat/centos 6
In-Reply-To: <20180409104700.05ed25c7@posteo.de>
Message-ID: <201804092323.w39NNxg7002914@freefriends.org>

    They will maintain this already seven-years-old release for
    another two years

I'm as unhappy about losing CentOS6 (and who knows what other older
distros) support as anyone. However, ICU and Poppler both decided to
require C++11 in their current releases, and there was no feasible way
to handle that without using a newer build system.

I've noticed that other programs also started to fail on CentOS6. Chrome
was one I remember, probably other browsers and other "big"
programs. Even with my rather minimal needs, I had to move to CentOS7 :(.

    http://tug.org/texlive/quickinstall.html that reads something like:

Not quickinstall, but bugs.html. Will think about other avenues too.

If quickinstall tried to list every caveat on every system, it would no
longer be about installing (or quick) ... -k

From preining at logic.at  Tue Apr 10 04:56:45 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 10 Apr 2018 11:56:45 +0900
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
References: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
Message-ID: <20180410025645.GD30258@bulldog.preining.info>

> However, in two different Windows 7 systems I got a "file not found"
> errors from updmap, possibly because updmap.cfg contains "minionpro.map"

This is interesting, can you show the actual output?

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From werner at suse.de  Tue Apr 10 12:27:06 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 10 Apr 2018 12:27:06 +0200
Subject: [tex-live] Anyone source of TeXLive 2018 compiled with poppler-0.62
Message-ID: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>

Hi,

just taken the current tree[1] and run into errors with poppler-0.62

Werner

[1] I'm using rsync with tug.org::tldevsrc/Build/source/

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
[  178s] gcc -DHAVE_CONFIG_H -I. -I../../../texk/web2c -I./w2c  -I/home/abuild/rpmbuild/BUILD/texlive/world/texk -I/home/abuild/rpmbuild/BUILD/texlive/texk -I../../../texk/web2c/w2c -I../../../texk/web2c/luatexdir/unilib   -fmessage-length=0 -grecord-gcc-switches -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -g -D_GNU_SOURCE -std=gnu99 -fno-strict-aliasing -fPIC -Wno-write-strings -Wno-char-subscripts -Wno-unused -Wno-uninitialized -Wno-return-type -Wno-parentheses -Wno-sign-compare -Wno-unprototyped-calls -pipe -MT luatexdir/unilib/libunilib_a-unialt.o -MD -MP -MF luatexdir/unilib/.deps/libunilib_a-unialt.Tpo -c -o luatexdir/unilib/libunilib_a-unialt.o `test -f 'luatexdir/unilib/unialt.c' || echo '../../../texk/web2c/'`luatexdir/unilib/unialt.c
[  178s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c: In function ?gww_iconv?:
[  178s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:400:45: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
[  178s]   } else if ( cd->from==e_wansung || cd->from==e_jisgbpk ) {
[  178s]                                              ^~
[  178s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:401:23: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
[  178s]       table  = cd->from==e_jisgbpk   ? unicode_from_gb2312 :
[  178s]                        ^~
[  179s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:612:45: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
[  179s]   } else if ( cd->from==e_wansung || cd->from==e_jisgbpk ) {
[  179s]                                              ^~
[  179s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:613:23: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
[  179s]       table  = cd->from==e_jisgbpk   ? unicode_from_gb2312 :
[  179s]                        ^~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc: In function ?int main(int, char**)?:
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:93:17: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
[  179s]      catalogDict.initNull();
[  179s]                  ^~~~~~~~
[  179s]                  isNull
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:94:34: error: no matching function for call to ?XRef::getCatalog(Object*)?
[  179s]      xref->getCatalog(&catalogDict);
[  179s]                                   ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:52:0:
[  179s] /usr/include/poppler/XRef.h:144:10: note: candidate: Object XRef::getCatalog()
[  179s]    Object getCatalog();
[  179s]           ^~~~~~~~~~
[  179s] /usr/include/poppler/XRef.h:144:10: note:   candidate expects 0 arguments, 1 provided
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:99:15: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
[  179s]      srcStream.initNull();
[  179s]                ^~~~~~~~
[  179s]                isNull
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:101:48: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
[  179s]          catalogDict.dictLookup("SourceObject", &srcStream);
[  179s]                                                 ^~~~~~~~~~
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:362:15: note:   initializing argument 2 of ?Object Object::dictLookup(const char*, int) const?
[  179s]  inline Object Object::dictLookup(const char *key, int recursion) const
[  179s]                ^~~~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:107:17: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
[  179s]          srcName.initNull();
[  179s]                  ^~~~~~~~
[  179s]                  isNull
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:108:64: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
[  179s]          srcStream.getStream()->getDict()->lookup("SourceName", &srcName);
[  179s]                                                                 ^~~~~~~~
[  179s] In file included from /usr/include/poppler/Object.h:342:0,
[  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:
[  179s] /usr/include/poppler/Dict.h:78:10: note:   initializing argument 2 of ?Object Dict::lookup(const char*, int) const?
[  179s]    Object lookup(const char *key, int recursion = 0) const;
[  179s]           ^~~~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:117:37: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
[  179s]          xref->fetch(objnum, objgen, &srcStream);
[  179s]                                      ^~~~~~~~~~
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:52:0:
[  179s] /usr/include/poppler/XRef.h:147:10: note:   initializing argument 3 of ?Object XRef::fetch(int, int, int)?
[  179s]    Object fetch(int num, int gen, int recursion = 0);
[  179s]           ^~~~~
[  179s] In file included from /usr/include/poppler/GlobalParams.h:42:0,
[  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:57:
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:167:50: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
[  179s]                  assert(xref->fetch(e->offset, 0, &objStr)->isStream());
[  179s]                                                   ^~
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:52:0:
[  179s] /usr/include/poppler/XRef.h:147:10: note:   initializing argument 3 of ?Object XRef::fetch(int, int, int)?
[  179s]    Object fetch(int num, int gen, int recursion = 0);
[  179s]           ^~~~~
[  179s] In file included from /usr/include/poppler/GlobalParams.h:42:0,
[  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:57:
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:167:58: error: base operand of ?->? has non-pointer type ?Object?
[  179s]                  assert(xref->fetch(e->offset, 0, &objStr)->isStream());
[  179s]                                                           ^
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:168:64: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
[  179s]                  nObjects = objStr.streamGetDict()->lookup("N", &obj1)->getInt();
[  179s]                                                                 ^~~~~
[  179s] In file included from /usr/include/poppler/Object.h:342:0,
[  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:
[  179s] /usr/include/poppler/Dict.h:78:10: note:   initializing argument 2 of ?Object Dict::lookup(const char*, int) const?
[  179s]    Object lookup(const char *key, int recursion = 0) const;
[  179s]           ^~~~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:168:70: error: base operand of ?->? has non-pointer type ?Object?
[  179s]                  nObjects = objStr.streamGetDict()->lookup("N", &obj1)->getInt();
[  179s]                                                                       ^~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:169:27: error: ?void Object::free()? is private within this context
[  179s]                  obj1.free();
[  179s]                            ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
[  179s]    void free();
[  179s]         ^~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:170:65: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
[  179s]                  first = objStr.streamGetDict()->lookup("First", &obj1)->getInt();
[  179s]                                                                  ^~~~~
[  179s] mv -f luatexdir/unilib/.deps/libunilib_a-ucharmap.Tpo luatexdir/unilib/.deps/libunilib_a-ucharmap.Po
[  179s] gcc -DHAVE_CONFIG_H -I. -I../../../texk/web2c -I./w2c  -I/home/abuild/rpmbuild/BUILD/texlive/world/texk -I/home/abuild/rpmbuild/BUILD/texlive/texk -I../../../texk/web2c/w2c -I../../../texk/web2c/luatexdir/unilib   -fmessage-length=0 -grecord-gcc-switches -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -g -D_GNU_SOURCE -std=gnu99 -fno-strict-aliasing -fPIC -Wno-write-strings -Wno-char-subscripts -Wno-unused -Wno-uninitialized -Wno-return-type -Wno-parentheses -Wno-sign-compare -Wno-unprototyped-calls -pipe -MT luatexdir/unilib/libunilib_a-usprintf.o -MD -MP -MF luatexdir/unilib/.deps/libunilib_a-usprintf.Tpo -c -o luatexdir/unilib/libunilib_a-usprintf.o `test -f 'luatexdir/unilib/usprintf.c' || echo '../../../texk/web2c/'`luatexdir/unilib/usprintf.c
[  179s] In file included from /usr/include/poppler/Object.h:342:0,
[  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:
[  179s] /usr/include/poppler/Dict.h:78:10: note:   initializing argument 2 of ?Object Dict::lookup(const char*, int) const?
[  179s]    Object lookup(const char *key, int recursion = 0) const;
[  179s]           ^~~~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:170:71: error: base operand of ?->? has non-pointer type ?Object?
[  179s]                  first = objStr.streamGetDict()->lookup("First", &obj1)->getInt();
[  179s]                                                                        ^~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:171:27: error: ?void Object::free()? is private within this context
[  179s]                  obj1.free();
[  179s]                            ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
[  179s]    void free();
[  179s]         ^~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:176:22: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
[  179s]                  obj1.initNull();
[  179s]                       ^~~~~~~~
[  179s]                       isNull
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:177:78: error: use of deleted function ?Object::Object(T) [with T = Object*]?
[  179s]                  str = new EmbedStream(objStr.getStream(), &obj1, gTrue, first);
[  179s]                                                                               ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:169:24: note: declared here
[  179s]    template<typename T> Object(T) = delete;
[  179s]                         ^~~~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:181:41: error: use of deleted function ?Object Parser::getObj(T) [with T = Object*]?
[  179s]                      parser->getObj(&obj1);
[  179s]                                          ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:49:0:
[  179s] /usr/include/poppler/Parser.h:58:31: note: declared here
[  179s]    template<typename T> Object getObj(T) = delete;
[  179s]                                ^~~~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:182:41: error: use of deleted function ?Object Parser::getObj(T) [with T = Object*]?
[  179s]                      parser->getObj(&obj2);
[  179s]                                          ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:49:0:
[  179s] /usr/include/poppler/Parser.h:58:31: note: declared here
[  179s]    template<typename T> Object getObj(T) = delete;
[  179s]                                ^~~~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:185:31: error: ?void Object::free()? is private within this context
[  179s]                      obj1.free();
[  179s]                                ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
[  179s]    void free();
[  179s]         ^~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:186:31: error: ?void Object::free()? is private within this context
[  179s]                      obj2.free();
[  179s]                                ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
[  179s]    void free();
[  179s]         ^~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:194:29: error: ?void Object::free()? is private within this context
[  179s]                  objStr.free();
[  179s]                              ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
[  179s]    void free();
[  179s]         ^~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:205:24: error: ?void Object::free()? is private within this context
[  179s]          srcStream.free();
[  179s]                         ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
[  179s]    void free();
[  179s]         ^~~~
[  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:214:22: error: ?void Object::free()? is private within this context
[  179s]      catalogDict.free();
[  179s]                       ^
[  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
[  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
[  179s]    void free();
[  179s]         ^~~~
[  179s] make[5]: *** [Makefile:15869: pdftexdir/pdftosrc-pdftosrc.o] Error 1
[  179s] make[5]: *** Waiting for unfinished jobs....
[  179s] mv -f luatexdir/unilib/.deps/libunilib_a-cjk.Tpo luatexdir/unilib/.deps/libunilib_a-cjk.Po
[  179s] mv -f luatexdir/unilib/.deps/libunilib_a-unialt.Tpo luatexdir/unilib/.deps/libunilib_a-unialt.Po
[  179s] mv -f pdftexdir/.deps/ttf2afm-ttf2afm.Tpo pdftexdir/.deps/ttf2afm-ttf2afm.Po
[  179s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c: At top level:
[  179s] cc1: warning: unrecognized command line option ?-Wno-unprototyped-calls?
[  179s] mv -f luatexdir/unilib/.deps/libunilib_a-gwwiconv.Tpo luatexdir/unilib/.deps/libunilib_a-gwwiconv.Po
[  179s] mv -f luatexdir/unilib/.deps/libunilib_a-usprintf.Tpo luatexdir/unilib/.deps/libunilib_a-usprintf.Po
[  179s] mv -f mplibdir/.deps/libmputil_a-decNumber.Tpo mplibdir/.deps/libmputil_a-decNumber.Po
[  180s] libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I../../../texk/web2c -I./w2c -I../../../texk/web2c/synctexdir -DSYNCTEX_USE_LOCAL_HEADER -Wimplicit -Wreturn-type -fmessage-length=0 -grecord-gcc-switches -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -g -D_GNU_SOURCE -std=gnu99 -fno-strict-aliasing -fPIC -Wno-write-strings -Wno-char-subscripts -Wno-unused -Wno-uninitialized -Wno-return-type -Wno-parentheses -Wno-sign-compare -Wno-unprototyped-calls -pipe -MT synctexdir/libsynctex_la-synctex_parser.lo -MD -MP -MF synctexdir/.deps/libsynctex_la-synctex_parser.Tpo -c ../../../texk/web2c/synctexdir/synctex_parser.c -o synctexdir/libsynctex_la-synctex_parser.o >/dev/null 2>&1
[  182s] mv -f synctexdir/.deps/libsynctex_la-synctex_parser.Tpo synctexdir/.deps/libsynctex_la-synctex_parser.Plo
[  182s] make[5]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk/web2c'
[  182s] make[4]: *** [Makefile:16141: all-recursive] Error 1
[  182s] make[4]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk/web2c'
[  182s] make[3]: *** [Makefile:4121: all] Error 2
[  182s] make[3]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk/web2c'
[  182s] make[2]: *** [Makefile:908: recurse] Error 1
[  182s] make[2]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk'
[  182s] make[1]: *** [Makefile:488: all-recursive] Error 1
[  182s] make[1]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk'
[  182s] make: *** [Makefile:577: all-recursive] Error 1
[  182s] error: Bad exit status from /var/tmp/rpm-tmp.7ruIAL (%build)
[  182s] 
[  182s] 
[  182s] RPM build errors:
[  182s]     Macro expanded in comment on line 94: %{name}-kpathsea-bin
[  182s] 
[  182s]     Macro expanded in comment on line 95: %{name}-kpathsea
[  182s] 
[  182s]     Macro expanded in comment on line 96: %{name}-tetex-bin
[  182s] 
[  182s]     Macro expanded in comment on line 97: %{name}-tetex
[  182s] 
[  182s]     Macro expanded in comment on line 98: %{name}-texconfig-bin
[  182s] 
[  182s]     Macro expanded in comment on line 99: %{name}-texconfig
[  182s] 
[  182s]     Macro expanded in comment on line 232: %{texlive_version}/
[  182s] 
[  182s]     Macro expanded in comment on line 292: %define texgid		505
[  182s] 
[  182s]     Macro expanded in comment on line 3994: %{_texmfdistdir}/tlpkg/TeXLive/TLConfig.pm
[  182s] 
[  182s]     Macro expanded in comment on line 3995: %{_texmfdistdir}/tlpkg/TeXLive/TLUtils.pm
[  182s] 
[  182s]     Macro expanded in comment on line 3997: %{_texmfconfdir}/web2c/fmtutil.cnf
[  182s] 
[  182s]     Macro expanded in comment on line 3998: %{_texmfconfdir}/web2c/texmf.cnf
[  182s] 
[  182s]     Macro expanded in comment on line 3999: %{_texmfmaindir}/web2c/fmtutil.cnf
[  182s] 
[  182s]     Macro expanded in comment on line 4000: %{_texmfmaindir}/web2c/texmf.cnf
[  182s] 
[  182s]     Macro expanded in comment on line 4002: %{_texmfconfdir}/web2c/texmfcnf.lua
[  182s] 
[  182s]     Macro expanded in comment on line 4003: %{_texmfmaindir}/web2c/texmfcnf.lua
[  182s] 
[  182s]     Bad exit status from /var/tmp/rpm-tmp.7ruIAL (%build)
[  182s] 
[  182s] noether failed "build texlive.spec" at Tue Apr 10 09:51:43 UTC 2018.
[  182s] 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 880 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180410/09b1d22d/attachment.sig>

From jfbu at free.fr  Tue Apr 10 15:03:52 2018
From: jfbu at free.fr (jfbu)
Date: Tue, 10 Apr 2018 15:03:52 +0200
Subject: [tex-live] transient error with new LaTeX/inputenc: needed to
 rebuild formats myself
Message-ID: <fd9fd567-8d9d-42da-4132-b846117e7931@free.fr>

Hi,

this morning I got an error with

\documentclass{article}

\usepackage[utf8]{inputenc}

\begin{document}

  % nothing here
  
\end{document}

! LaTeX Error: File `uf8.def' not found.

Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: def)

I had updated the TL2018 pretest minutes before.

(last update was at some unknown date in past)

This disappeared after rebuilding the formats via

fmtutil-sys --all

I wonder why that was necessary,

Best

Jean-Fran?ois



From jfbu at free.fr  Tue Apr 10 15:12:47 2018
From: jfbu at free.fr (jfbu)
Date: Tue, 10 Apr 2018 15:12:47 +0200
Subject: [tex-live] transient error with new LaTeX/inputenc: needed to
 rebuild formats myself
In-Reply-To: <fd9fd567-8d9d-42da-4132-b846117e7931@free.fr>
References: <fd9fd567-8d9d-42da-4132-b846117e7931@free.fr>
Message-ID: <0915124d-6865-3aaf-1027-43b8745be7a1@free.fr>

Le 10/04/2018 ? 15:03, jfbu a ?crit :
> I wonder why that was necessary,

I mean why it was not triggered automatically after the update via tlmgr update --all



From jfbu at free.fr  Tue Apr 10 15:24:52 2018
From: jfbu at free.fr (jfbu)
Date: Tue, 10 Apr 2018 15:24:52 +0200
Subject: [tex-live] transient error with new LaTeX/inputenc: needed to
 rebuild formats myself
In-Reply-To: <fd9fd567-8d9d-42da-4132-b846117e7931@free.fr>
References: <fd9fd567-8d9d-42da-4132-b846117e7931@free.fr>
Message-ID: <4bbb4454-583d-70e7-266b-edacbb246c97@free.fr>

Le 10/04/2018 ? 15:03, jfbu a ?crit :
> Hi,
> 
> this morning I got an error with
> 
> \documentclass{article}
> 
> \usepackage[utf8]{inputenc}
> 
> \begin{document}
> 
>   % nothing here
>   
> \end{document}
> 
> ! LaTeX Error: File `uf8.def' not found.
> 
> Type X to quit or <RETURN> to proceed,
> or enter new name. (Default extension: def)
> 
> I had updated the TL2018 pretest minutes before.
> 
> (last update was at some unknown date in past)
> 

the unknown date was yesterday

[Mon Apr  9 14:09:53 2018] update: latex (43813 -> 47377)


then today

[Tue Apr 10 11:20:14 2018] ...
(no latex update today)

J.-F.

> This disappeared after rebuilding the formats via
> 
> fmtutil-sys --all
> 
> I wonder why that was necessary,
> 
> Best
> 
> Jean-Fran?ois
> 
> 




From ttk at t-lab.opal.ne.jp  Tue Apr 10 15:26:59 2018
From: ttk at t-lab.opal.ne.jp (ttk at t-lab.opal.ne.jp)
Date: Tue, 10 Apr 2018 22:26:59 +0900
Subject: [tex-live] Encoding of files in Master/texmf-dist/doc/man/man1
In-Reply-To: <20180409.200438.2059156531794213759.wl@gnu.org>
References: <201804091445.w39EjsAV070161@www474.sakura.ne.jp>
 <20180409.200438.2059156531794213759.wl@gnu.org>
Message-ID: <201804101326.w3ADQxjd092418@www474.sakura.ne.jp>

Thank Werner for helpful comment.

> > a2ping.1, kpsewhere.1, latex2man.1, mkjobtexmf.1, thumbpdf.1 :
> >   Latin1 (iso-8859-1)
> > findhyph.1, luaotfload-tool.1, mendex.1, luaotfload.conf.5 : UTF-8
> > others : ASCII
> 
> This is a known issue.  Karl is working on it.

I have understood the status.

> > Is there any reason to keep mixture of file encoding?
> 
> Well, TeXLive takes whatever is delivered to CTAN.  It's a bad idea
> IMHO to modify the files in TeXLive only; instead, the authors should
> fix this.
> 
> The good news: The next groff version uses the `uchardet' library to
> improve the heuristics for identifying a man page's character encoding
> in case an encoding tag (using the Emacs style) is missing.  The bad
> news: It will take some more weeks until this version (1.22.4) gets
> released.

It sounds great.
I will check groff development and new features.

Best,
Takuji TANAKA

From zarniwhoop at ntlworld.com  Tue Apr 10 20:18:52 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Tue, 10 Apr 2018 19:18:52 +0100
Subject: [tex-live] Anyone source of TeXLive 2018 compiled with
 poppler-0.62
In-Reply-To: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
References: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
Message-ID: <20180410181852.GA29653@milliways.localdomain>

On Tue, Apr 10, 2018 at 12:27:06PM +0200, Dr. Werner Fink wrote:
> Hi,
> 
> just taken the current tree[1] and run into errors with poppler-0.62
> 
> Werner
> 

Did you use the -newpoppler files in texk/web2c/pdftexdir ?
(pdftoepdf, pdftexdir) - see the third paragraph of NEWS in the same
directory.

?en
-- 
In my seventh decade astride this planet, and as my own cells degrade,
there are some things I cannot do now: skydiving, marathon running,
calculus. I couldn't do them in my 20s either, so no big loss.
            -- Derek Smalls, formerly of Spinal Tap

From preining at logic.at  Wed Apr 11 01:51:30 2018
From: preining at logic.at (Norbert Preining)
Date: Wed, 11 Apr 2018 08:51:30 +0900
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <CY4PR04MB02650F3512E6A0CB8B63357EB9BE0@CY4PR04MB0265.namprd04.prod.outlook.com>
References: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410025645.GD30258@bulldog.preining.info>
 <CY4PR04MB02650F3512E6A0CB8B63357EB9BE0@CY4PR04MB0265.namprd04.prod.outlook.com>
Message-ID: <20180410235130.GA16179@bulldog.preining.info>

Hi Daniel,

please keep Cc the list.

> updmap [ERROR]: The following map file(s) couldn't be found:
> updmap [ERROR]:         minionpro.map (in c:/tl/texmf-local/web2c/updmap.cfg)
> updmap [ERROR]: Did you run mktexlsr?

What does
  kpsewhich minionpro.map
say? And what does
  kpsewhich MinionPro.map
say?


Thanks


On Tue, 10 Apr 2018, Daniel H. Luecking wrote:
> 
> Norbert:
> 
> 
> Here is the screen output of texhash, updmap, a directory
> 
> listing of the relevant map file and a grep of both ls-R
> 
> and the texmf-local updmap.cfg:
> 
> =======================================
> [C:\work]texhash \tl\texmf-local\
> texhash: Updating /tl/texmf-local/ls-R...
> texhash: Updated /tl/texmf-local/ls-R.
> texhash: Done.
> 
> 
> [C:\work]updmap-sys
> updmap will read the following updmap.cfg files (in precedence order):
>   c:/tl/texmf-local/web2c/updmap.cfg
>   c:/tl/2018/texmf-dist/web2c/updmap.cfg
> updmap may write changes to the following updmap.cfg file:
>   c:/tl/2018/texmf-config/web2c/updmap.cfg
> dvips output dir: "c:/tl/2018/texmf-var/fonts/map/dvips/updmap"
> pdftex output dir: "c:/tl/2018/texmf-var/fonts/map/pdftex/updmap"
> dvipdfmx output dir: "c:/tl/2018/texmf-var/fonts/map/dvipdfmx/updmap"
> updmap [ERROR]: The following map file(s) couldn't be found:
> updmap [ERROR]:         minionpro.map (in c:/tl/texmf-local/web2c/updmap.cfg)
> updmap [ERROR]: Did you run mktexlsr?
> 
>         You can disable non-existent map entries using the option
>           --syncwithtrees.
> 
> C:\tl\2018\bin\win32\runscript.tlu:758: command failed with exit code 1:
> perl.exe c:\tl\2018\texmf-dist\scripts\texlive\updmap.pl  --sys
> 
> 
> [C:\work]dir \tl\texmf-local\fonts\map\dvips\MinionPro\
> 
>  Volume in drive C is unlabeled      Serial number is 52ca:aaa7
>  Directory of  C:\tl\texmf-local\fonts\map\dvips\MinionPro\*
> 
>  4/10/2018  15:33         <DIR>    .
>  4/10/2018  15:33         <DIR>    ..
>  4/28/2007   4:38          32,470  MinionPro.map
>               32,470 bytes in 1 file and 2 dirs    32,768 bytes allocated
>      417,892,044,800 bytes free
> 
> 
> [C:\work]grep -C1 MinionPro.map \tl\texmf-local\ls-R
> ./fonts/map/dvips/MinionPro:
> MinionPro.map
> 
> [C:\work]grep minionpro \tl\texmf-local\web2c\updmap.cfg
> Map minionpro.map
> 
> ========================================
> 
> 
> If I rename the file MinionPro.map to minionpro.map (even without
> 
> running texhash), or edit updmap.cfg to contain "MinionPro.map"
> 
> instead of "minionpro.map" then updmap works.
> 
> 
> Best,
> 
> Dan
> 
> 
> Daniel H. Luecking [luecking at uark.edu]
> Department of Mathematical Sciences
> 1 University of Arkansas
> Fayetteville, AR, USA 72701-1201
> 
> 
> ________________________________
> From: Norbert Preining <preining at logic.at>
> Sent: Monday, April 9, 2018 9:56 PM
> To: Daniel H. Luecking
> Cc: tex-live at tug.org
> Subject: Re: [tex-live] kpsewhich case insensitive?
> 
> > However, in two different Windows 7 systems I got a "file not found"
> > errors from updmap, possibly because updmap.cfg contains "minionpro.map"
> 
> This is interesting, can you show the actual output?
> 
> Norbert
> 
> --
> PREINING Norbert                               https://urldefense.proofpoint.com/v2/url?u=http-3A__www.preining.info&d=DwIBAg&c=7ypwAowFJ8v-mw8AB-SdSueVQgSDL4HiiSaLK01W8HA&r=TC6doj34eEZMeTCOMVYeIK4ttwYpTurqDpMOi43sP18&m=Xo7GRNAB_TQvcLEiv1sy5i3etDFiDU_F9Eygic_0j_w&s=7yjxrRddRJ7VN83XN9KA9OUxdaOjU7vfbTgNEawrHE8&e=
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Wed Apr 11 08:22:20 2018
From: jfbu at free.fr (jfbu)
Date: Wed, 11 Apr 2018 08:22:20 +0200
Subject: [tex-live] please stop endless rant against case insensitive macOS
	file system
Message-ID: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>

Hi,

quote from the Kpathsea manual

> In particular, Apple decided to make the default filesystem on Macs be case-insensitive some years ago, and this has exacerbated a problem of people creating documents that use, say, an image under the name foo.jpg, while the actual file is named foo.JPG or Foo.jpg. It works on the Mac but if the document is transferred and run on a standard case-sensitive Unix (file)system, the file can?t be found, due only to differences in case.

> This same problematic scenario has always existed on Windows, but for whatever reason, it has become much more common since Apple also went to a case-insensitive filesystem. Hence the move to change the Kpathsea behavior now.

I can not understand that. Obviously Apple opted for case-insensitivity to maintain compatibility with its older self. This was mandatory for not breaking everything when moving to Unix-like system.

That was ages ago. Now we learn that in 2018 a change happens in TeXLive distribution because of that ?

ALL cases of problem I have encountered on tex.sx originate with **WINDOWS** users.

I have always felt that supporting Mac was not on TeXLive agenda: I really needed to insist some years back to explain how **very very slow** kpsewhich behaved on it, and without Adam Maxwell's expertise and willingness to act that would **never have been solved**.

Best,

Jean-Fran?ois



From norbert at preining.info  Wed Apr 11 09:59:18 2018
From: norbert at preining.info (Norbert Preining)
Date: Wed, 11 Apr 2018 16:59:18 +0900
Subject: [tex-live] please stop endless rant against case insensitive
 macOS file system
In-Reply-To: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>
References: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>
Message-ID: <20180411075918.GE16179@bulldog.preining.info>

Hi

> I have always felt that supporting Mac was not on TeXLive agenda

Sorry, this is complete rubbish, and every developer here will tell you
the same. We have supported Macs since ages, always on the same level as
all other OS.

Please stop spreading wrong accusations.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From werner at suse.de  Wed Apr 11 14:37:15 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 11 Apr 2018 14:37:15 +0200
Subject: [tex-live] poppler-0.62 and TeXLive 2018
In-Reply-To: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
References: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
Message-ID: <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>

Just a simple retry with an other subject line
On Tue, Apr 10, 2018 at 10:27:06AM +0000, Dr. Werner Fink wrote:
> Hi,
> 
> just taken the current tree[1] and run into errors with poppler-0.62
> 
> Werner
> 
> [1] I'm using rsync with tug.org::tldevsrc/Build/source/
> 
> -- 
>   "Having a smoking section in a restaurant is like having
>           a peeing section in a swimming pool." -- Edward Burr

> [  178s] gcc -DHAVE_CONFIG_H -I. -I../../../texk/web2c -I./w2c  -I/home/abuild/rpmbuild/BUILD/texlive/world/texk -I/home/abuild/rpmbuild/BUILD/texlive/texk -I../../../texk/web2c/w2c -I../../../texk/web2c/luatexdir/unilib   -fmessage-length=0 -grecord-gcc-switches -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -g -D_GNU_SOURCE -std=gnu99 -fno-strict-aliasing -fPIC -Wno-write-strings -Wno-char-subscripts -Wno-unused -Wno-uninitialized -Wno-return-type -Wno-parentheses -Wno-sign-compare -Wno-unprototyped-calls -pipe -MT luatexdir/unilib/libunilib_a-unialt.o -MD -MP -MF luatexdir/unilib/.deps/libunilib_a-unialt.Tpo -c -o luatexdir/unilib/libunilib_a-unialt.o `test -f 'luatexdir/unilib/unialt.c' || echo '../../../texk/web2c/'`luatexdir/unilib/unialt.c
> [  178s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c: In function ?gww_iconv?:
> [  178s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:400:45: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
> [  178s]   } else if ( cd->from==e_wansung || cd->from==e_jisgbpk ) {
> [  178s]                                              ^~
> [  178s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:401:23: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
> [  178s]       table  = cd->from==e_jisgbpk   ? unicode_from_gb2312 :
> [  178s]                        ^~
> [  179s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:612:45: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
> [  179s]   } else if ( cd->from==e_wansung || cd->from==e_jisgbpk ) {
> [  179s]                                              ^~
> [  179s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c:613:23: warning: comparison between ?enum encoding? and ?enum extended_encoding? [-Wenum-compare]
> [  179s]       table  = cd->from==e_jisgbpk   ? unicode_from_gb2312 :
> [  179s]                        ^~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc: In function ?int main(int, char**)?:
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:93:17: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
> [  179s]      catalogDict.initNull();
> [  179s]                  ^~~~~~~~
> [  179s]                  isNull
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:94:34: error: no matching function for call to ?XRef::getCatalog(Object*)?
> [  179s]      xref->getCatalog(&catalogDict);
> [  179s]                                   ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:52:0:
> [  179s] /usr/include/poppler/XRef.h:144:10: note: candidate: Object XRef::getCatalog()
> [  179s]    Object getCatalog();
> [  179s]           ^~~~~~~~~~
> [  179s] /usr/include/poppler/XRef.h:144:10: note:   candidate expects 0 arguments, 1 provided
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:99:15: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
> [  179s]      srcStream.initNull();
> [  179s]                ^~~~~~~~
> [  179s]                isNull
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:101:48: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
> [  179s]          catalogDict.dictLookup("SourceObject", &srcStream);
> [  179s]                                                 ^~~~~~~~~~
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:362:15: note:   initializing argument 2 of ?Object Object::dictLookup(const char*, int) const?
> [  179s]  inline Object Object::dictLookup(const char *key, int recursion) const
> [  179s]                ^~~~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:107:17: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
> [  179s]          srcName.initNull();
> [  179s]                  ^~~~~~~~
> [  179s]                  isNull
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:108:64: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
> [  179s]          srcStream.getStream()->getDict()->lookup("SourceName", &srcName);
> [  179s]                                                                 ^~~~~~~~
> [  179s] In file included from /usr/include/poppler/Object.h:342:0,
> [  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:
> [  179s] /usr/include/poppler/Dict.h:78:10: note:   initializing argument 2 of ?Object Dict::lookup(const char*, int) const?
> [  179s]    Object lookup(const char *key, int recursion = 0) const;
> [  179s]           ^~~~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:117:37: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
> [  179s]          xref->fetch(objnum, objgen, &srcStream);
> [  179s]                                      ^~~~~~~~~~
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:52:0:
> [  179s] /usr/include/poppler/XRef.h:147:10: note:   initializing argument 3 of ?Object XRef::fetch(int, int, int)?
> [  179s]    Object fetch(int num, int gen, int recursion = 0);
> [  179s]           ^~~~~
> [  179s] In file included from /usr/include/poppler/GlobalParams.h:42:0,
> [  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:57:
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:167:50: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
> [  179s]                  assert(xref->fetch(e->offset, 0, &objStr)->isStream());
> [  179s]                                                   ^~
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:52:0:
> [  179s] /usr/include/poppler/XRef.h:147:10: note:   initializing argument 3 of ?Object XRef::fetch(int, int, int)?
> [  179s]    Object fetch(int num, int gen, int recursion = 0);
> [  179s]           ^~~~~
> [  179s] In file included from /usr/include/poppler/GlobalParams.h:42:0,
> [  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:57:
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:167:58: error: base operand of ?->? has non-pointer type ?Object?
> [  179s]                  assert(xref->fetch(e->offset, 0, &objStr)->isStream());
> [  179s]                                                           ^
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:168:64: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
> [  179s]                  nObjects = objStr.streamGetDict()->lookup("N", &obj1)->getInt();
> [  179s]                                                                 ^~~~~
> [  179s] In file included from /usr/include/poppler/Object.h:342:0,
> [  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:
> [  179s] /usr/include/poppler/Dict.h:78:10: note:   initializing argument 2 of ?Object Dict::lookup(const char*, int) const?
> [  179s]    Object lookup(const char *key, int recursion = 0) const;
> [  179s]           ^~~~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:168:70: error: base operand of ?->? has non-pointer type ?Object?
> [  179s]                  nObjects = objStr.streamGetDict()->lookup("N", &obj1)->getInt();
> [  179s]                                                                       ^~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:169:27: error: ?void Object::free()? is private within this context
> [  179s]                  obj1.free();
> [  179s]                            ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
> [  179s]    void free();
> [  179s]         ^~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:170:65: error: invalid conversion from ?Object*? to ?int? [-fpermissive]
> [  179s]                  first = objStr.streamGetDict()->lookup("First", &obj1)->getInt();
> [  179s]                                                                  ^~~~~
> [  179s] mv -f luatexdir/unilib/.deps/libunilib_a-ucharmap.Tpo luatexdir/unilib/.deps/libunilib_a-ucharmap.Po
> [  179s] gcc -DHAVE_CONFIG_H -I. -I../../../texk/web2c -I./w2c  -I/home/abuild/rpmbuild/BUILD/texlive/world/texk -I/home/abuild/rpmbuild/BUILD/texlive/texk -I../../../texk/web2c/w2c -I../../../texk/web2c/luatexdir/unilib   -fmessage-length=0 -grecord-gcc-switches -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -g -D_GNU_SOURCE -std=gnu99 -fno-strict-aliasing -fPIC -Wno-write-strings -Wno-char-subscripts -Wno-unused -Wno-uninitialized -Wno-return-type -Wno-parentheses -Wno-sign-compare -Wno-unprototyped-calls -pipe -MT luatexdir/unilib/libunilib_a-usprintf.o -MD -MP -MF luatexdir/unilib/.deps/libunilib_a-usprintf.Tpo -c -o luatexdir/unilib/libunilib_a-usprintf.o `test -f 'luatexdir/unilib/usprintf.c' || echo '../../../texk/web2c/'`luatexdir/unilib/usprintf.c
> [  179s] In file included from /usr/include/poppler/Object.h:342:0,
> [  179s]                  from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:
> [  179s] /usr/include/poppler/Dict.h:78:10: note:   initializing argument 2 of ?Object Dict::lookup(const char*, int) const?
> [  179s]    Object lookup(const char *key, int recursion = 0) const;
> [  179s]           ^~~~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:170:71: error: base operand of ?->? has non-pointer type ?Object?
> [  179s]                  first = objStr.streamGetDict()->lookup("First", &obj1)->getInt();
> [  179s]                                                                        ^~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:171:27: error: ?void Object::free()? is private within this context
> [  179s]                  obj1.free();
> [  179s]                            ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
> [  179s]    void free();
> [  179s]         ^~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:176:22: error: ?class Object? has no member named ?initNull?; did you mean ?isNull??
> [  179s]                  obj1.initNull();
> [  179s]                       ^~~~~~~~
> [  179s]                       isNull
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:177:78: error: use of deleted function ?Object::Object(T) [with T = Object*]?
> [  179s]                  str = new EmbedStream(objStr.getStream(), &obj1, gTrue, first);
> [  179s]                                                                               ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:169:24: note: declared here
> [  179s]    template<typename T> Object(T) = delete;
> [  179s]                         ^~~~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:181:41: error: use of deleted function ?Object Parser::getObj(T) [with T = Object*]?
> [  179s]                      parser->getObj(&obj1);
> [  179s]                                          ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:49:0:
> [  179s] /usr/include/poppler/Parser.h:58:31: note: declared here
> [  179s]    template<typename T> Object getObj(T) = delete;
> [  179s]                                ^~~~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:182:41: error: use of deleted function ?Object Parser::getObj(T) [with T = Object*]?
> [  179s]                      parser->getObj(&obj2);
> [  179s]                                          ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:49:0:
> [  179s] /usr/include/poppler/Parser.h:58:31: note: declared here
> [  179s]    template<typename T> Object getObj(T) = delete;
> [  179s]                                ^~~~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:185:31: error: ?void Object::free()? is private within this context
> [  179s]                      obj1.free();
> [  179s]                                ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
> [  179s]    void free();
> [  179s]         ^~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:186:31: error: ?void Object::free()? is private within this context
> [  179s]                      obj2.free();
> [  179s]                                ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
> [  179s]    void free();
> [  179s]         ^~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:194:29: error: ?void Object::free()? is private within this context
> [  179s]                  objStr.free();
> [  179s]                              ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
> [  179s]    void free();
> [  179s]         ^~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:205:24: error: ?void Object::free()? is private within this context
> [  179s]          srcStream.free();
> [  179s]                         ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
> [  179s]    void free();
> [  179s]         ^~~~
> [  179s] ../../../texk/web2c/pdftexdir/pdftosrc.cc:214:22: error: ?void Object::free()? is private within this context
> [  179s]      catalogDict.free();
> [  179s]                       ^
> [  179s] In file included from ../../../texk/web2c/pdftexdir/pdftosrc.cc:46:0:
> [  179s] /usr/include/poppler/Object.h:292:8: note: declared private here
> [  179s]    void free();
> [  179s]         ^~~~
> [  179s] make[5]: *** [Makefile:15869: pdftexdir/pdftosrc-pdftosrc.o] Error 1
> [  179s] make[5]: *** Waiting for unfinished jobs....
> [  179s] mv -f luatexdir/unilib/.deps/libunilib_a-cjk.Tpo luatexdir/unilib/.deps/libunilib_a-cjk.Po
> [  179s] mv -f luatexdir/unilib/.deps/libunilib_a-unialt.Tpo luatexdir/unilib/.deps/libunilib_a-unialt.Po
> [  179s] mv -f pdftexdir/.deps/ttf2afm-ttf2afm.Tpo pdftexdir/.deps/ttf2afm-ttf2afm.Po
> [  179s] ../../../texk/web2c/luatexdir/unilib/gwwiconv.c: At top level:
> [  179s] cc1: warning: unrecognized command line option ?-Wno-unprototyped-calls?
> [  179s] mv -f luatexdir/unilib/.deps/libunilib_a-gwwiconv.Tpo luatexdir/unilib/.deps/libunilib_a-gwwiconv.Po
> [  179s] mv -f luatexdir/unilib/.deps/libunilib_a-usprintf.Tpo luatexdir/unilib/.deps/libunilib_a-usprintf.Po
> [  179s] mv -f mplibdir/.deps/libmputil_a-decNumber.Tpo mplibdir/.deps/libmputil_a-decNumber.Po
> [  180s] libtool: compile:  gcc -DHAVE_CONFIG_H -I. -I../../../texk/web2c -I./w2c -I../../../texk/web2c/synctexdir -DSYNCTEX_USE_LOCAL_HEADER -Wimplicit -Wreturn-type -fmessage-length=0 -grecord-gcc-switches -O2 -Wall -D_FORTIFY_SOURCE=2 -fstack-protector-strong -funwind-tables -fasynchronous-unwind-tables -fstack-clash-protection -g -D_GNU_SOURCE -std=gnu99 -fno-strict-aliasing -fPIC -Wno-write-strings -Wno-char-subscripts -Wno-unused -Wno-uninitialized -Wno-return-type -Wno-parentheses -Wno-sign-compare -Wno-unprototyped-calls -pipe -MT synctexdir/libsynctex_la-synctex_parser.lo -MD -MP -MF synctexdir/.deps/libsynctex_la-synctex_parser.Tpo -c ../../../texk/web2c/synctexdir/synctex_parser.c -o synctexdir/libsynctex_la-synctex_parser.o >/dev/null 2>&1
> [  182s] mv -f synctexdir/.deps/libsynctex_la-synctex_parser.Tpo synctexdir/.deps/libsynctex_la-synctex_parser.Plo
> [  182s] make[5]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk/web2c'
> [  182s] make[4]: *** [Makefile:16141: all-recursive] Error 1
> [  182s] make[4]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk/web2c'
> [  182s] make[3]: *** [Makefile:4121: all] Error 2
> [  182s] make[3]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk/web2c'
> [  182s] make[2]: *** [Makefile:908: recurse] Error 1
> [  182s] make[2]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk'
> [  182s] make[1]: *** [Makefile:488: all-recursive] Error 1
> [  182s] make[1]: Leaving directory '/home/abuild/rpmbuild/BUILD/texlive/world/texk'
> [  182s] make: *** [Makefile:577: all-recursive] Error 1
> [  182s] error: Bad exit status from /var/tmp/rpm-tmp.7ruIAL (%build)
> [  182s] 
> [  182s] 
> [  182s] RPM build errors:
> [  182s]     Macro expanded in comment on line 94: %{name}-kpathsea-bin
> [  182s] 
> [  182s]     Macro expanded in comment on line 95: %{name}-kpathsea
> [  182s] 
> [  182s]     Macro expanded in comment on line 96: %{name}-tetex-bin
> [  182s] 
> [  182s]     Macro expanded in comment on line 97: %{name}-tetex
> [  182s] 
> [  182s]     Macro expanded in comment on line 98: %{name}-texconfig-bin
> [  182s] 
> [  182s]     Macro expanded in comment on line 99: %{name}-texconfig
> [  182s] 
> [  182s]     Macro expanded in comment on line 232: %{texlive_version}/
> [  182s] 
> [  182s]     Macro expanded in comment on line 292: %define texgid		505
> [  182s] 
> [  182s]     Macro expanded in comment on line 3994: %{_texmfdistdir}/tlpkg/TeXLive/TLConfig.pm
> [  182s] 
> [  182s]     Macro expanded in comment on line 3995: %{_texmfdistdir}/tlpkg/TeXLive/TLUtils.pm
> [  182s] 
> [  182s]     Macro expanded in comment on line 3997: %{_texmfconfdir}/web2c/fmtutil.cnf
> [  182s] 
> [  182s]     Macro expanded in comment on line 3998: %{_texmfconfdir}/web2c/texmf.cnf
> [  182s] 
> [  182s]     Macro expanded in comment on line 3999: %{_texmfmaindir}/web2c/fmtutil.cnf
> [  182s] 
> [  182s]     Macro expanded in comment on line 4000: %{_texmfmaindir}/web2c/texmf.cnf
> [  182s] 
> [  182s]     Macro expanded in comment on line 4002: %{_texmfconfdir}/web2c/texmfcnf.lua
> [  182s] 
> [  182s]     Macro expanded in comment on line 4003: %{_texmfmaindir}/web2c/texmfcnf.lua
> [  182s] 
> [  182s]     Bad exit status from /var/tmp/rpm-tmp.7ruIAL (%build)
> [  182s] 
> [  182s] noether failed "build texlive.spec" at Tue Apr 10 09:51:43 UTC 2018.
> [  182s] 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 880 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180411/735c1187/attachment.sig>

From norbert at preining.info  Wed Apr 11 16:05:37 2018
From: norbert at preining.info (Norbert Preining)
Date: Wed, 11 Apr 2018 23:05:37 +0900
Subject: [tex-live] poppler-0.62 and TeXLive 2018
In-Reply-To: <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>
References: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
 <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>
Message-ID: <20180411140537.GG16179@bulldog.preining.info>

> Just a simple retry with an other subject line

Did you read the answer you got today??? There are separate files for
poppler 0.62.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From richardmoncriefkoch at icloud.com  Wed Apr 11 16:24:40 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Wed, 11 Apr 2018 07:24:40 -0700
Subject: [tex-live] please stop endless rant against case insensitive
 macOS file system
Message-ID: <C79A19E3-0AD1-45FB-8A15-03AD78BA98B1@icloud.com>

Jfbu,

Karl is doing us a wonderful favor with the changes in Kpathsea. Let's say "thanks, Karl." 

I'm a Mac guy, and I had to defend the machine 20 years ago when Apple was in trouble. The worse day was when the University of Oregon provost sent faculty a letter forbidding Apple purchases without his explicit permission.

So as a sort of reflex, my hair rose when I read the sentence you quoted from the Kpathsea manual. But if you reread it, as I did, all it says is that there is a lot of interaction between Mac folks and Unix folks, so Kpathsea had to be modified. That's not a rant. It's something to be proud of.

...just a friendly message from one Mac guy to another 

Dick Koch



From werner at suse.de  Wed Apr 11 16:58:08 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 11 Apr 2018 16:58:08 +0200
Subject: [tex-live] poppler-0.62 and TeXLive 2018
In-Reply-To: <20180411140537.GG16179@bulldog.preining.info>
References: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
 <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>
 <20180411140537.GG16179@bulldog.preining.info>
Message-ID: <20180411145808.7ghu7bjcv3ikm2ia@noether>

On Wed, Apr 11, 2018 at 11:05:37PM +0900, Norbert Preining wrote:
> > Just a simple retry with an other subject line
> 
> Did you read the answer you got today??? There are separate files for
> poppler 0.62.

Hmm .. OK, not seen mail nor found in my mail logs, strange.

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 894 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180411/41c16416/attachment-0001.sig>

From werner at suse.de  Wed Apr 11 17:03:01 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 11 Apr 2018 17:03:01 +0200
Subject: [tex-live] poppler-0.62 and TeXLive 2018
In-Reply-To: <20180411140537.GG16179@bulldog.preining.info>
References: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
 <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>
 <20180411140537.GG16179@bulldog.preining.info>
Message-ID: <20180411150301.xqk67ean554nukzf@noether>

On Wed, Apr 11, 2018 at 11:05:37PM +0900, Norbert Preining wrote:
> > Just a simple retry with an other subject line
> 
> Did you read the answer you got today??? There are separate files for
> poppler 0.62.

OK ... found it

 basesystem/texlive> find -name '*poppler*'
 ./m4/kpse-poppler-flags.m4
 ./texk/web2c/pdftexdir/pdftoepdf-newpoppler.cc
 ./texk/web2c/pdftexdir/pdftosrc-newpoppler.cc

Thanks a log!

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 894 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180411/6c772236/attachment.sig>

From arthur.reutenauer at normalesup.org  Wed Apr 11 17:04:37 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Wed, 11 Apr 2018 17:04:37 +0200
Subject: [tex-live] please stop endless rant against case insensitive
 macOS file system
In-Reply-To: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>
References: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>
Message-ID: <20180411150437.GA581445@phare.normalesup.org>

> I have always felt that supporting Mac was not on TeXLive agenda: I really needed to insist some years back to explain how **very very slow** kpsewhich behaved on it

  That?s not my experience at all, and I have used TeX Live on Mac OS X
since 2005.

	Arthur

From luecking at uark.edu  Wed Apr 11 17:37:50 2018
From: luecking at uark.edu (Daniel H. Luecking)
Date: Wed, 11 Apr 2018 15:37:50 +0000
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <20180410235130.GA16179@bulldog.preining.info>
References: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410025645.GD30258@bulldog.preining.info>
 <CY4PR04MB02650F3512E6A0CB8B63357EB9BE0@CY4PR04MB0265.namprd04.prod.outlook.com>,
 <20180410235130.GA16179@bulldog.preining.info>
Message-ID: <CY4PR04MB0265679F1A10271746E03907B9BD0@CY4PR04MB0265.namprd04.prod.outlook.com>

Both the same:

================================

[C:\work]kpsewhich minionpro.map
c:/tl/texmf-local/fonts/map/dvips/MinionPro/MinionPro.map

[C:\work]kpsewhich MinionPro.map
c:/tl/texmf-local/fonts/map/dvips/MinionPro/MinionPro.map

================================


Further tests show that kpsewhich returns the same filename

as dir returns, regardless of the case in ls-R (when I

manually arrange for it to be different) and regardless

of the case on the command line.



Cheers,


Daniel H. Luecking [luecking at uark.edu]
Department of Mathematical Sciences
1 University of Arkansas
Fayetteville, AR, USA 72701-1201


________________________________
From: Norbert Preining <preining at logic.at>
Sent: Tuesday, April 10, 2018 6:51 PM
To: Daniel H. Luecking
Cc: tex-live at tug.org
Subject: Re: [tex-live] kpsewhich case insensitive?

Hi Daniel,

please keep Cc the list.

> updmap [ERROR]: The following map file(s) couldn't be found:
> updmap [ERROR]:         minionpro.map (in c:/tl/texmf-local/web2c/updmap.cfg)
> updmap [ERROR]: Did you run mktexlsr?

What does
  kpsewhich minionpro.map
say? And what does
  kpsewhich MinionPro.map
say?


Thanks


On Tue, 10 Apr 2018, Daniel H. Luecking wrote:
>
> Norbert:
>
>
> Here is the screen output of texhash, updmap, a directory
>
> listing of the relevant map file and a grep of both ls-R
>
> and the texmf-local updmap.cfg:
>
> =======================================
> [C:\work]texhash \tl\texmf-local\
> texhash: Updating /tl/texmf-local/ls-R...
> texhash: Updated /tl/texmf-local/ls-R.
> texhash: Done.
>
>
> [C:\work]updmap-sys
> updmap will read the following updmap.cfg files (in precedence order):
>   c:/tl/texmf-local/web2c/updmap.cfg
>   c:/tl/2018/texmf-dist/web2c/updmap.cfg
> updmap may write changes to the following updmap.cfg file:
>   c:/tl/2018/texmf-config/web2c/updmap.cfg
> dvips output dir: "c:/tl/2018/texmf-var/fonts/map/dvips/updmap"
> pdftex output dir: "c:/tl/2018/texmf-var/fonts/map/pdftex/updmap"
> dvipdfmx output dir: "c:/tl/2018/texmf-var/fonts/map/dvipdfmx/updmap"
> updmap [ERROR]: The following map file(s) couldn't be found:
> updmap [ERROR]:         minionpro.map (in c:/tl/texmf-local/web2c/updmap.cfg)
> updmap [ERROR]: Did you run mktexlsr?
>
>         You can disable non-existent map entries using the option
>           --syncwithtrees.
>
> C:\tl\2018\bin\win32\runscript.tlu:758: command failed with exit code 1:
> perl.exe c:\tl\2018\texmf-dist\scripts\texlive\updmap.pl  --sys
>
>
> [C:\work]dir \tl\texmf-local\fonts\map\dvips\MinionPro\
>
>  Volume in drive C is unlabeled      Serial number is 52ca:aaa7
>  Directory of  C:\tl\texmf-local\fonts\map\dvips\MinionPro\*
>
>  4/10/2018  15:33         <DIR>    .
>  4/10/2018  15:33         <DIR>    ..
>  4/28/2007   4:38          32,470  MinionPro.map
>               32,470 bytes in 1 file and 2 dirs    32,768 bytes allocated
>      417,892,044,800 bytes free
>
>
> [C:\work]grep -C1 MinionPro.map \tl\texmf-local\ls-R
> ./fonts/map/dvips/MinionPro:
> MinionPro.map
>
> [C:\work]grep minionpro \tl\texmf-local\web2c\updmap.cfg
> Map minionpro.map
>
> ========================================
>
>
> If I rename the file MinionPro.map to minionpro.map (even without
>
> running texhash), or edit updmap.cfg to contain "MinionPro.map"
>
> instead of "minionpro.map" then updmap works.
>
>
> Best,
>
> Dan
>
>
> Daniel H. Luecking [luecking at uark.edu]
> Department of Mathematical Sciences
> 1 University of Arkansas
> Fayetteville, AR, USA 72701-1201
>
>
> ________________________________
> From: Norbert Preining <preining at logic.at>
> Sent: Monday, April 9, 2018 9:56 PM
> To: Daniel H. Luecking
> Cc: tex-live at tug.org
> Subject: Re: [tex-live] kpsewhich case insensitive?
>
> > However, in two different Windows 7 systems I got a "file not found"
> > errors from updmap, possibly because updmap.cfg contains "minionpro.map"
>
> This is interesting, can you show the actual output?
>
> Norbert
>
> --
> PREINING Norbert                               https://urldefense.proofpoint.com/v2/url?u=http-3A__www.preining.info&d=DwIBAg&c=7ypwAowFJ8v-mw8AB-SdSueVQgSDL4HiiSaLK01W8HA&r=TC6doj34eEZMeTCOMVYeIK4ttwYpTurqDpMOi43sP18&m=Xo7GRNAB_TQvcLEiv1sy5i3etDFiDU_F9Eygic_0j_w&s=7yjxrRddRJ7VN83XN9KA9OUxdaOjU7vfbTgNEawrHE8&e=
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
Norbert

--
PREINING Norbert                               https://urldefense.proofpoint.com/v2/url?u=http-3A__www.preining.info&d=DwIBAg&c=7ypwAowFJ8v-mw8AB-SdSueVQgSDL4HiiSaLK01W8HA&r=TC6doj34eEZMeTCOMVYeIK4ttwYpTurqDpMOi43sP18&m=4D_LfKoSFwp6NtrOR7lZhQXm2oXDDQqUKfIQD8CEMi8&s=66sMuTsz_u6wIqtpeiQX-Ckeq0Q89lBFtRg8cCyLN_U&e=
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180411/49eab567/attachment.html>

From jfbu at free.fr  Wed Apr 11 18:43:33 2018
From: jfbu at free.fr (jfbu)
Date: Wed, 11 Apr 2018 18:43:33 +0200
Subject: [tex-live] please stop endless rant against case insensitive
	macOS file system
In-Reply-To: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>
References: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>
Message-ID: <9081551D-1FDB-45B4-B314-A1CC19D37964@free.fr>


Le 11 avr. 2018 ? 08:22, jfbu <jfbu at free.fr> a ?crit :

> Hi,
> 
> quote from the Kpathsea manual
> 
>> In particular, Apple decided to make the default filesystem on Macs be case-insensitive some years ago, and this has exacerbated a problem of people creating documents that use, say, an image under the name foo.jpg, while the actual file is named foo.JPG or Foo.jpg. It works on the Mac but if the document is transferred and run on a standard case-sensitive Unix (file)system, the file can?t be found, due only to differences in case.
> 
>> This same problematic scenario has always existed on Windows, but for whatever reason, it has become much more common since Apple also went to a case-insensitive filesystem. Hence the move to change the Kpathsea behavior now.
> 
> I can not understand that. Obviously Apple opted for case-insensitivity to maintain compatibility with its older self. This was mandatory for not breaking everything when moving to Unix-like system.
> 
> That was ages ago. Now we learn that in 2018 a change happens in TeXLive distribution because of that ?
> 
> ALL cases of problem I have encountered on tex.sx originate with **WINDOWS** users.
> 
> I have always felt that supporting Mac was not on TeXLive agenda: I really needed to insist some years back to explain how **very very slow** kpsewhich behaved on it, and without Adam Maxwell's expertise and willingness to act that would **never have been solved**.
> 
> 

Hi,

the above was a personal impression ; it may have been read as accusation as Norbert said.

Anyway, it might be that I woke up in very bad mood and should have thought twice before posting.

Not that I have changed in how I analyze things, but if it helps in any way I wish to extend my apologies to all those, Karl particularly, who might have felt offended by my personal impressions.

I appreciate all messages posted reassuring me of TeXLive commitment to MacOS,

Best

Jean-Fran?ois



From zarniwhoop at ntlworld.com  Wed Apr 11 19:04:31 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Wed, 11 Apr 2018 18:04:31 +0100
Subject: [tex-live] poppler-0.62 and TeXLive 2018
In-Reply-To: <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>
References: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
 <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>
Message-ID: <20180411170431.GA1974@milliways.localdomain>

On Wed, Apr 11, 2018 at 02:37:15PM +0200, Dr. Werner Fink wrote:
> Just a simple retry with an other subject line
> On Tue, Apr 10, 2018 at 10:27:06AM +0000, Dr. Werner Fink wrote:
> > Hi,
> > 
> > just taken the current tree[1] and run into errors with poppler-0.62
> > 
> > Werner
> > 
> > [1] I'm using rsync with tug.org::tldevsrc/Build/source/
> > 

Did you not get my earlier reply ?

In texk/web2c/pdftexdir there is a NEWS file.  The third "paragraph"
mentions copying the two -newpoppler.cc files in that directory over
the equivalent .cc files.  I think it says to do that for poppler >
0.59.

Doing that works for me (x86_64 linux, gcc-7.3.0).

?en
-- 
In my seventh decade astride this planet, and as my own cells degrade,
there are some things I cannot do now: skydiving, marathon running,
calculus. I couldn't do them in my 20s either, so no big loss.
            -- Derek Smalls, formerly of Spinal Tap

From wl at gnu.org  Wed Apr 11 19:33:41 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 11 Apr 2018 19:33:41 +0200 (CEST)
Subject: [tex-live] Better documentation for `setspace.sty'
Message-ID: <20180411.193341.753150550123346543.wl@gnu.org>


I suggest to make

  texdoc setspace

display `setspace.sty' directly, which gives detailed documentation in
the file header.  Currently, only a README file is shown, which
doesn't contain end-user information.


    Werner

From karl at freefriends.org  Wed Apr 11 22:27:44 2018
From: karl at freefriends.org (Karl Berry)
Date: Wed, 11 Apr 2018 20:27:44 GMT
Subject: [tex-live] Better documentation for `setspace.sty'
In-Reply-To: <20180411.193341.753150550123346543.wl@gnu.org>
Message-ID: <201804112027.w3BKRieU026382@freefriends.org>

      texdoc setspace

    display `setspace.sty' directly, which gives detailed documentation in
    the file header.

Ok, done. --thanks, karl.

From d.p.carlisle at gmail.com  Wed Apr 11 22:31:38 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 11 Apr 2018 21:31:38 +0100
Subject: [tex-live] Better documentation for `setspace.sty'
In-Reply-To: <201804112027.w3BKRieU026382@freefriends.org>
References: <20180411.193341.753150550123346543.wl@gnu.org>
 <201804112027.w3BKRieU026382@freefriends.org>
Message-ID: <CAEW6iOjAFeoNUBm60Op89T0iYS4PrkkFwH8pwyW4+9fpnn=CCg@mail.gmail.com>

probably we (for some definition of we) should "adopt" setspace and
re-issue it with typeset documentation I may try to do something (but
after texlive 2018 is out)

David


On 11 April 2018 at 21:27, Karl Berry <karl at freefriends.org> wrote:
>       texdoc setspace
>
>     display `setspace.sty' directly, which gives detailed documentation in
>     the file header.
>
> Ok, done. --thanks, karl.

From reinhard.kotucha at web.de  Wed Apr 11 23:14:55 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 11 Apr 2018 23:14:55 +0200
Subject: [tex-live] please stop endless rant against case
	insensitive	macOS file system
In-Reply-To: <9081551D-1FDB-45B4-B314-A1CC19D37964@free.fr>
References: <5396190F-5AF2-4DF9-983E-335545393B72@free.fr>
 <9081551D-1FDB-45B4-B314-A1CC19D37964@free.fr>
Message-ID: <23246.31439.398008.940318@gargle.gargle.HOWL>

On 2018-04-11 at 18:43:33 +0200, jfbu wrote:

 > Anyway, it might be that I woke up in very bad mood [...]

Jean-Fran?ois, you are definitely not the only one who is in a bad
mood when being forced to get up very early in the morning.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From preining at logic.at  Thu Apr 12 01:50:42 2018
From: preining at logic.at (Norbert Preining)
Date: Thu, 12 Apr 2018 08:50:42 +0900
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <CY4PR04MB0265679F1A10271746E03907B9BD0@CY4PR04MB0265.namprd04.prod.outlook.com>
References: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410025645.GD30258@bulldog.preining.info>
 <CY4PR04MB02650F3512E6A0CB8B63357EB9BE0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410235130.GA16179@bulldog.preining.info>
 <CY4PR04MB0265679F1A10271746E03907B9BD0@CY4PR04MB0265.namprd04.prod.outlook.com>
Message-ID: <20180411235042.GA26763@bulldog.preining.info>

> [C:\work]kpsewhich minionpro.map
> c:/tl/texmf-local/fonts/map/dvips/MinionPro/MinionPro.map

This is strange, because this is the way how updmap checks for the
existence of map files.

There is one more thing to be checked: What does
  kpsewhich -all minionpro.map dvips35.map pdftex35.map ps2pk35.map
say? And the same with
  kpsewhich -all MinionPro.map dvips35.map pdftex35.map ps2pk35.map

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From richardmoncriefkoch at icloud.com  Thu Apr 12 04:05:12 2018
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Wed, 11 Apr 2018 19:05:12 -0700
Subject: [tex-live] Very Minor Issues with Install Script and "Notable
 Changes" on pretest page
Message-ID: <E88EA850-6179-4B6D-B68D-D14E047E81B6@icloud.com>

1) The "notable changes" page correctly points out that x86_64-darwin supports 10.10 - 10.13 and x86_64-darwinlegacy supports 10.6 - 10.9. But the tex live install script,  install-tl, in the selecting binaries section puts 10.10 in both camps.  That's actually correct, but might confuse some folks.

2) The information about MacTeX on the pretest page says "MacTeX currently installs Ghostscript 9.22; this will be updated to 9.23 if the latter is released in time." It was, so this entry should read

	2) MacTeX installs Ghostscript 9.23.

3) If I understand correctly, latex in 2018 will default to inputting source files encoded with utf-8. This change is significant enough to mention on the short list.

Dick

From zarniwhoop at ntlworld.com  Thu Apr 12 06:26:03 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Thu, 12 Apr 2018 05:26:03 +0100
Subject: [tex-live] poppler-0.62 and TeXLive 2018
In-Reply-To: <20180411170431.GA1974@milliways.localdomain>
References: <20180410102706.7jrsze4ndasc4ltz@boole.suse.de>
 <20180411123715.fj6axvi6dljm3tnd@boole.suse.de>
 <20180411170431.GA1974@milliways.localdomain>
Message-ID: <20180412042603.GA20852@milliways.localdomain>

On Wed, Apr 11, 2018 at 06:04:31PM +0100, Ken Moffat wrote:
> On Wed, Apr 11, 2018 at 02:37:15PM +0200, Dr. Werner Fink wrote:
> > Just a simple retry with an other subject line
> > On Tue, Apr 10, 2018 at 10:27:06AM +0000, Dr. Werner Fink wrote:
> 
> Did you not get my earlier reply ?
> 
I see you didn't - both the copies to you have now bounced (sorbs,
apparently because of dynamic address even though sent through my
ISP's mailserver).  In future I'll just reply to the list.

-- 
In my seventh decade astride this planet, and as my own cells degrade,
there are some things I cannot do now: skydiving, marathon running,
calculus. I couldn't do them in my 20s either, so no big loss.
            -- Derek Smalls, formerly of Spinal Tap

From wl at gnu.org  Thu Apr 12 07:14:26 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 12 Apr 2018 07:14:26 +0200 (CEST)
Subject: [tex-live] Location of lyluatex
Message-ID: <20180412.071426.857775351962212620.wl@gnu.org>


Given that lyluatex (as its name already says) works with lyluatex
only, I wonder why the package is located in

  tex/latex/lyluatex/lyluatex.sty

instead of

  tex/lualatex/lyluatex/lyluatex.sty


    Werner

From wl at gnu.org  Thu Apr 12 09:12:44 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 12 Apr 2018 09:12:44 +0200 (CEST)
Subject: [tex-live] Location of lyluatex
In-Reply-To: <20180412.071426.857775351962212620.wl@gnu.org>
References: <20180412.071426.857775351962212620.wl@gnu.org>
Message-ID: <20180412.091244.1900680725785810079.wl@gnu.org>


> Given that lyluatex (as its name already says) works with lyluatex
> only,

Should be `... works with lualatex only', of course.

> I wonder why the package is located in
> 
>   tex/latex/lyluatex/lyluatex.sty
> 
> instead of
> 
>   tex/lualatex/lyluatex/lyluatex.sty
> 
> 
>     Werner

From pablgonz at educarchile.cl  Thu Apr 12 15:59:26 2018
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Alfonso_Gonz=C3=A1lez_Luengo?=)
Date: Thu, 12 Apr 2018 10:59:26 -0300
Subject: [tex-live] minor suggested change in the TexLive 2018 documentation
Message-ID: <CANeU4n96N7P-wa7HuweVV+F=5n8yLY7LM=_hdhgWejkiOGKRGQ@mail.gmail.com>

in section 6.2 I think you should center the figure 12 and in "Command-line
tools" change "xpdf" for  "poppler" (I think since the 2017 version uses
poppler instead of xpdf)
Saludos.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180412/b9181158/attachment.html>

From pablgonz at educarchile.cl  Thu Apr 12 16:21:19 2018
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Alfonso_Gonz=C3=A1lez_Luengo?=)
Date: Thu, 12 Apr 2018 11:21:19 -0300
Subject: [tex-live] in the future, you can modify the update model?
Message-ID: <CANeU4n8+YLhQge_GuNNHVhxrgbR0LTaVZTzEoaKJ2BmXXUwMiw@mail.gmail.com>

Hello to all the TexLive developers (great job). For many years I have used
this distribution and one of its biggest advantages is the update of
packages from ctan via tlmgr.

Year after year I am installing the "pretest" versions and I am assailed by
a doubt or idea that is more accurate. I mean, from my point of view (I'm
not a developer) TexLive is divided into two main components:

1. The packages published in ctan, where some are constant and others
update almost daily via tlmgr.
2. The base files of the binary / executable / script distribution such as
lua, context, xetex, pdftex, scripts, libraries which are updated once a
year.

Then, I think, will it be possible to divide these two points to update
them independently ?, that is, to be able to constantly update base files
of the system, something like having the updated "pretest" version (like a
rolling)  in the system if you as a user I decide.
In this way you could review the new implementations and remove errors (if
there are any).
Greetings to all
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180412/b2c6b06f/attachment.html>

From luecking at uark.edu  Thu Apr 12 22:41:47 2018
From: luecking at uark.edu (Daniel H. Luecking)
Date: Thu, 12 Apr 2018 20:41:47 +0000
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <20180411235042.GA26763@bulldog.preining.info>
References: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410025645.GD30258@bulldog.preining.info>
 <CY4PR04MB02650F3512E6A0CB8B63357EB9BE0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410235130.GA16179@bulldog.preining.info>
 <CY4PR04MB0265679F1A10271746E03907B9BD0@CY4PR04MB0265.namprd04.prod.outlook.com>,
 <20180411235042.GA26763@bulldog.preining.info>
Message-ID: <CY4PR04MB0265CD49C20470E6DD14CEC1B9BC0@CY4PR04MB0265.namprd04.prod.outlook.com>

Here you go:

=====================================

[C:\work]kpsewhich -all minionpro.map dvips35.map pdftex35.map ps2pk35.map

c:/tl/texmf-local/fonts/map/dvips/MinionPro/MinionPro.map
c:/tl/2018/texmf-dist/fonts/map/dvips/tetex/dvips35.map
c:/tl/2018/texmf-dist/fonts/map/dvips/tetex/pdftex35.map
c:/tl/2018/texmf-dist/fonts/map/dvips/tetex/ps2pk35.map

[C:\work]kpsewhich -all MinionPro.map dvips35.map pdftex35.map ps2pk35.map

c:/tl/texmf-local/fonts/map/dvips/MinionPro/MinionPro.map
c:/tl/2018/texmf-dist/fonts/map/dvips/tetex/dvips35.map
c:/tl/2018/texmf-dist/fonts/map/dvips/tetex/pdftex35.map
c:/tl/2018/texmf-dist/fonts/map/dvips/tetex/ps2pk35.map
=====================================


Perhaps updmap does a case sensitive comparison of the kpsewhich

return value with the map line in updmap.cfg, and throws the error

without trying to get the file. The following looks like that to me

(although I know only a little about perl):

----------

my @fullpath = `kpsewhich --format=map @maps`;
chomp @fullpath;
foreach my $map (@maps) {
  my ($ff) = grep /\/$map(\.map)?$/, @fullpath;
  if ($ff) {
    $alldata->{'maps'}{$map}{'fullpath'} = $ff;
  } else {
    # if the map file is not found, then push it onto the list of
    # missing map files, since we know that it is enabled
    push @missing, $map;
  }
----------


Best,


Daniel H. Luecking [luecking at uark.edu]
Department of Mathematical Sciences
1 University of Arkansas
Fayetteville, AR, USA 72701-1201


________________________________
From: Norbert Preining <preining at logic.at>
Sent: Wednesday, April 11, 2018 6:50 PM
To: Daniel H. Luecking
Cc: tex-live at tug.org
Subject: Re: [tex-live] kpsewhich case insensitive?

> [C:\work]kpsewhich minionpro.map
> c:/tl/texmf-local/fonts/map/dvips/MinionPro/MinionPro.map

This is strange, because this is the way how updmap checks for the
existence of map files.

There is one more thing to be checked: What does
  kpsewhich -all minionpro.map dvips35.map pdftex35.map ps2pk35.map
say? And the same with
  kpsewhich -all MinionPro.map dvips35.map pdftex35.map ps2pk35.map

Thanks

Norbert

--
PREINING Norbert                               https://urldefense.proofpoint.com/v2/url?u=http-3A__www.preining.info&d=DwIBAg&c=7ypwAowFJ8v-mw8AB-SdSueVQgSDL4HiiSaLK01W8HA&r=TC6doj34eEZMeTCOMVYeIK4ttwYpTurqDpMOi43sP18&m=nkeqAhArwk0LzhMC90mPwP31jbwEV52q75TIyc-D-qk&s=5A_ITYet-teg0ll4B2s86tbFdJ_iEfODb8Zar8CraAU&e=
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180412/102293f3/attachment.html>

From karl at freefriends.org  Thu Apr 12 23:16:54 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 12 Apr 2018 21:16:54 GMT
Subject: [tex-live] in the future, you can modify the update model?
In-Reply-To: <CANeU4n8+YLhQge_GuNNHVhxrgbR0LTaVZTzEoaKJ2BmXXUwMiw@mail.gmail.com>
Message-ID: <201804122116.w3CLGsbi017966@freefriends.org>

Hi Pablo - I'm not sure what you're asking.

The source tree (Build/source in the repo) does get updated as the year
goes along, thanks primarily to Akira. You're free to compile it
yourself any time if you want to live on the bleeding edge.  Akira also
updates the binaries in his w32tex distribution continuously.

Recently, some of the Unix binaries are also compiled on farms and so are
also available more or less any time, thanks to Mojca and Norbert.
  http://dl.contextgarden.net/build/texlive/
  https://github.com/TeX-Live/texlive-source/releases/

We can't undertake to import new binaries continuously in the main
repo. You, or anyone, could set up an additional TL repo for it if
sufficiently motivated.  --best, karl.


From karl at freefriends.org  Thu Apr 12 23:24:56 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 12 Apr 2018 21:24:56 GMT
Subject: [tex-live] minor suggested change in the TexLive 2018
	documentation
In-Reply-To: <CANeU4n96N7P-wa7HuweVV+F=5n8yLY7LM=_hdhgWejkiOGKRGQ@mail.gmail.com>
Message-ID: <201804122124.w3CLOutp018602@freefriends.org>

    in section 6.2 I think you should center the figure 12 and in "Command-line
    tools" change "xpdf" for  "poppler" (I think since the 2017 version uses
    poppler instead of xpdf)

Thanks for the suggestions. I'll tweak the doc again for next year :).
--best, karl.

From karl at freefriends.org  Thu Apr 12 23:48:15 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 12 Apr 2018 21:48:15 GMT
Subject: [tex-live] Location of lyluatex
In-Reply-To: <20180412.071426.857775351962212620.wl@gnu.org>
Message-ID: <201804122148.w3CLmF33020891@freefriends.org>

    I wonder why the package is located in

Because it was uploaded as CTAN:support/lyluatex instead of
CTAN:macros/luatex/latex, hence different defaults applied, and I didn't
happen to notice. I'll fix it after the release. Thanks. -k

From lists at openlilylib.org  Thu Apr 12 23:53:24 2018
From: lists at openlilylib.org (Urs Liska)
Date: Thu, 12 Apr 2018 23:53:24 +0200
Subject: [tex-live] Location of lyluatex
In-Reply-To: <201804122148.w3CLmF33020891@freefriends.org>
References: <201804122148.w3CLmF33020891@freefriends.org>
Message-ID: <8b64d1aa-f747-850c-117d-856aa90528a9@openlilylib.org>



Am 12.04.2018 um 23:48 schrieb Karl Berry:
>      I wonder why the package is located in
>
> Because it was uploaded as CTAN:support/lyluatex instead of
> CTAN:macros/luatex/latex, hence different defaults applied, and I didn't
> happen to notice. I'll fix it after the release. Thanks. -k

Is this something we should change in future uploads *to* CTAN or is 
this something that happend bewteen CTAN and TeXLive?

Urs

From karl at freefriends.org  Fri Apr 13 00:07:50 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 12 Apr 2018 22:07:50 GMT
Subject: [tex-live] Very Minor Issues with Install Script and "Notable
 Changes" on pretest page
In-Reply-To: <E88EA850-6179-4B6D-B68D-D14E047E81B6@icloud.com>
Message-ID: <201804122207.w3CM7ocv022903@freefriends.org>

Thanks, updated. -k

From preining at logic.at  Fri Apr 13 00:28:37 2018
From: preining at logic.at (Norbert Preining)
Date: Fri, 13 Apr 2018 07:28:37 +0900
Subject: [tex-live] kpsewhich case insensitive?
In-Reply-To: <CY4PR04MB0265CD49C20470E6DD14CEC1B9BC0@CY4PR04MB0265.namprd04.prod.outlook.com>
References: <CY4PR04MB026577D7445E564364A58736B9BF0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410025645.GD30258@bulldog.preining.info>
 <CY4PR04MB02650F3512E6A0CB8B63357EB9BE0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180410235130.GA16179@bulldog.preining.info>
 <CY4PR04MB0265679F1A10271746E03907B9BD0@CY4PR04MB0265.namprd04.prod.outlook.com>
 <20180411235042.GA26763@bulldog.preining.info>
 <CY4PR04MB0265CD49C20470E6DD14CEC1B9BC0@CY4PR04MB0265.namprd04.prod.outlook.com>
Message-ID: <20180412222837.GA4523@burischnitzel.preining.info>

On Thu, 12 Apr 2018, Daniel H. Luecking wrote:
> [C:\work]kpsewhich -all minionpro.map dvips35.map pdftex35.map ps2pk35.map
> c:/tl/texmf-local/fonts/map/dvips/MinionPro/MinionPro.map

Ahhh, here we go ...

> Perhaps updmap does a case sensitive comparison of the kpsewhich
> return value with the map line in updmap.cfg, and throws the error

Yes, that is the reason.

I will fix this but probably *after* release. For now please rename the
.map file.

Thanks for helping tracking this down

Norbert


--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From pablgonz at educarchile.cl  Fri Apr 13 03:06:25 2018
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Alfonso_Gonz=C3=A1lez_Luengo?=)
Date: Thu, 12 Apr 2018 22:06:25 -0300
Subject: [tex-live] in the future, you can modify the update model?
In-Reply-To: <201804122116.w3CLGsbi017966@freefriends.org>
References: <CANeU4n8+YLhQge_GuNNHVhxrgbR0LTaVZTzEoaKJ2BmXXUwMiw@mail.gmail.com>
 <201804122116.w3CLGsbi017966@freefriends.org>
Message-ID: <CANeU4n-xmSY_GWnOBtZbmpvk0jtbSe=JTR+fdUaKWXucya8-Wg@mail.gmail.com>

"Hi Pablo - I'm not sure what you're asking."...
Sorry if I have not expressed myself well, English is not my strong point
(I write it thanks to google). What I ask is more like this ... every time
we install the "pre-test" version, a few gigs must be downloaded from the
network (which takes a while), of which we already have many in our
installed distribution, for example, everything related to packages and
classes, then, why not have a "tlmgr update --prestet" option?
That it will only update the necessary binaries and scripts
(/bin/x86_64-linux; /texmf-dist/scripts/ for example).
It's just an idea...
Saludos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180412/8d1b1b8d/attachment.html>

From lists at openlilylib.org  Fri Apr 13 08:58:15 2018
From: lists at openlilylib.org (Urs Liska)
Date: Fri, 13 Apr 2018 08:58:15 +0200
Subject: [tex-live] FInding locally installed packages in different
	environments
Message-ID: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>

Hi all,

there's an issue I've come across occasionally, and I'd like to clarify 
this once and for all ...

I have installed texlive-full on Debian, actually I've dragged this 
along through a number of installations while keeping my home partition, 
so maybe there's something I have done in the past to make things "work 
for me".

My $TEXMFHOME is ~/texmf, and I have a number of custom packages I use 
and make available through this $TEXMFHOME.

However, since I maintain my stuff with Git I prefer having the actual 
code sitting below ~/git/latex/<packages>, and I have 
~/texmf/tex/latex/latex-git as a symlink to ~/git/latex.

Through this LaTeX finds any resources in and below ~/git/latex, which 
is what I want - so it "works for me". It also has always worked when I 
started using a fresh distribution (but always Debian-based distros if 
that matters).

The problem is that collaborators don't always seem to be able to follow 
instructions like:

  * look for or create and cd into ~/texmf/tex/latex
  * create a symlink with
    ln -s /path/to/our/project/latex-resources
  * try compiling the document

I read about having to use texhash and/or mktexlsr - once or after every 
changes to ~/texmf - but I don't seem to have to do that on my computer. 
Is the behaviour of finding packages in the "home" tree depending on the 
LInux distro or the way how TeXLive is installed (manual/package)? Do 
the differen LaTeX engines behave differently in this regard?

Currently I have a contributor using Gentoo Linux with texlive-full 
installed from the distro's repositories. He has added the symlink to 
our project's latex directory but when compiling (with lualatex 
filename) it chokes upon not finding the document class (in that directory).

I would really like to know what steps have to be taken and if they 
differ in any way depending on the environment. It's not only that I 
need to get this contributor up and running, but I need to write a CG 
that will free me from unnecessary hassles with future contributors.

Thanks for any clarification
Urs

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180413/e2610135/attachment.html>

From zdenek.wagner at gmail.com  Fri Apr 13 10:48:41 2018
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 13 Apr 2018 10:48:41 +0200
Subject: [tex-live] FInding locally installed packages in different
	environments
In-Reply-To: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>
References: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>
Message-ID: <CAC1phyaUoHB-O6FegaVC8W5sGa-zBQSpUptMK=Bsu2YZB9AH4w@mail.gmail.com>

Hi,

it depends on your configuration whether you need mktexlsr or not. The
paths are configured in texmf.cnf. If the path begins with two exclamation
marks, only the ls-R file is used for locating the file. This means that
mktexlsr is needed. If the path does not have exclamation marks which is
the case of $TEXMFHOME, ls-R files are not used. It is described in detail
in the documentation of kpathsea, I do not remember the exact details. The
location of $TEXMFHOME can be found by kpsewhich. So if you wish to provide
the files for non-experts, it would be better to provide a script which
will first locate itself, then locate $TEXMFHOME, create the directories
(if they do not exist) and create the symlink. The command you need is:

kpsewhich -var-value TEXMFHOME

Variables TEXMF and TEXMFDBS contain the paths with exclamation marks. If
the path is here with the exlamation marks, you must call mktexlsr after
creation of the symlink.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2018-04-13 8:58 GMT+02:00 Urs Liska <lists at openlilylib.org>:

> Hi all,
>
> there's an issue I've come across occasionally, and I'd like to clarify
> this once and for all ...
>
> I have installed texlive-full on Debian, actually I've dragged this along
> through a number of installations while keeping my home partition, so maybe
> there's something I have done in the past to make things "work for me".
>
> My $TEXMFHOME is ~/texmf, and I have a number of custom packages I use and
> make available through this $TEXMFHOME.
>
> However, since I maintain my stuff with Git I prefer having the actual
> code sitting below ~/git/latex/<packages>, and I have
> ~/texmf/tex/latex/latex-git as a symlink to ~/git/latex.
>
> Through this LaTeX finds any resources in and below ~/git/latex, which is
> what I want - so it "works for me". It also has always worked when I
> started using a fresh distribution (but always Debian-based distros if that
> matters).
>
> The problem is that collaborators don't always seem to be able to follow
> instructions like:
>
>    - look for or create and cd into ~/texmf/tex/latex
>    - create a symlink with
>    ln -s /path/to/our/project/latex-resources
>    - try compiling the document
>
> I read about having to use texhash and/or mktexlsr - once or after every
> changes to ~/texmf - but I don't seem to have to do that on my computer. Is
> the behaviour of finding packages in the "home" tree depending on the LInux
> distro or the way how TeXLive is installed (manual/package)? Do the
> differen LaTeX engines behave differently in this regard?
>
> Currently I have a contributor using Gentoo Linux with texlive-full
> installed from the distro's repositories. He has added the symlink to our
> project's latex directory but when compiling (with lualatex filename) it
> chokes upon not finding the document class (in that directory).
>
> I would really like to know what steps have to be taken and if they differ
> in any way depending on the environment. It's not only that I need to get
> this contributor up and running, but I need to write a CG that will free me
> from unnecessary hassles with future contributors.
>
> Thanks for any clarification
> Urs
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180413/811ad6ad/attachment.html>

From norbert at preining.info  Fri Apr 13 12:30:14 2018
From: norbert at preining.info (Norbert Preining)
Date: Fri, 13 Apr 2018 19:30:14 +0900
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>
References: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>
Message-ID: <20180413103014.GC12044@burischnitzel.preining.info>

Hi Urs,

>  * look for or create and cd into ~/texmf/tex/latex
>  * create a symlink with
>    ln -s /path/to/our/project/latex-resources
>  * try compiling the document

Sounds fine. I would expect that the same thing works in all other
variants of TeX Live, too. TEXMFHOME should NOT be prefixed with !!, so
searching should work.

You can ask your co-authors to run 
  kpsewhich --debug=32 <one-of-the-files-there>
and see what is logged, it might give hints why the dirs are not
searched. --debug=-1 which logs everything, but can be quite
overwhelming.

> I read about having to use texhash and/or mktexlsr - once or after every
> changes to ~/texmf - but I don't seem to have to do that on my computer. Is

If there is an ls-R file, please remove it!!! That is 100 times safer.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From werner at suse.de  Fri Apr 13 13:29:14 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Fri, 13 Apr 2018 13:29:14 +0200
Subject: [tex-live] TeXLive 2018: lua(tex)(52) or lua(tex)53
Message-ID: <20180413112914.s46dhxcpxezycac2@noether>

Just build the full tree including biber 2.11 and have some left
over binaries not mention in texlive.tlpdb.xz

[ 1222s] error: Installed (but unpackaged) file(s) found:
[ 1222s]    /usr/bin/axohelp
[ 1222s]    /usr/bin/l3build
[ 1222s]    /usr/bin/luatex53
[ 1222s]    /usr/bin/tex2aspc
[ 1222s]    /usr/bin/texlua53

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 894 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180413/17db43d2/attachment.sig>

From karl at freefriends.org  Fri Apr 13 23:17:55 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Apr 2018 21:17:55 GMT
Subject: [tex-live] TeXLive 2018: lua(tex)(52) or lua(tex)53
In-Reply-To: <20180413112914.s46dhxcpxezycac2@noether>
Message-ID: <201804132117.w3DLHt9L032356@freefriends.org>

Hi Werner,

    over binaries not mention in texlive.tlpdb.xz

>From where did you get this texlive.tlpdb.xz? Those binaries are all
included in the texlive.tlpdb that's in the pretest directory, as far as
I can see. (And they are in the original *.tlpsrc files that ultimately
create texlive.tlpdb.) --best, karl.

From karl at freefriends.org  Fri Apr 13 23:32:38 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Apr 2018 21:32:38 GMT
Subject: [tex-live] Location of lyluatex
In-Reply-To: <8b64d1aa-f747-850c-117d-856aa90528a9@openlilylib.org>
Message-ID: <201804132132.w3DLWcGp001452@freefriends.org>

    Is this something we should change in future uploads *to* CTAN 

You don't have to change anything if you don't want. I'll fix the
location in TL after the release.

In principle, I do think macros/luatex/latex would be a more appropriate
place on CTAN than support (which is something you would specify when
you upload), because lyluatex does not include user-visible command-line
executables, just Lua code, if I'm understanding correctly. Packages
with executables is usually what the CTAN:support directory is used
for. But of course there are no 100% rules, so leaving it alone is fine
by me. --best, karl.


From karl at freefriends.org  Sat Apr 14 00:12:22 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Apr 2018 22:12:22 GMT
Subject: [tex-live] Problem with 'mathtext' package after update
	of	'cyrillic' one
In-Reply-To: <20180409015930.GD1170@smoon.vl-lomov.ru>
Message-ID: <201804132212.w3DMCMF4005202@freefriends.org>

Vladimir's test document:

    \documentclass{article}

    \usepackage{mathtext}
    \usepackage[T2A]{fontenc}
    \usepackage[utf8]{inputenc}
    [...]

works for me without change in the current (TL pretest) LaTeX2e. That is
a nice surprise :). I hope it is expected behavior. --thanks, karl.


From karl at freefriends.org  Sat Apr 14 00:12:20 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Apr 2018 22:12:20 GMT
Subject: [tex-live] in the future, you can modify the update model?
In-Reply-To: <CANeU4n-xmSY_GWnOBtZbmpvk0jtbSe=JTR+fdUaKWXucya8-Wg@mail.gmail.com>
Message-ID: <201804132212.w3DMCKAm005194@freefriends.org>

Oh, I understand now. Yes, you are not the first person to suggest
something like this.

I haven't tried it, but I think our unofficial no-warranty-provided
upgrade procedure would also work to go from an installed tree to the
beginning of the pretest. Essentially, copy the tree, update tlmgr by
hand, then update everything else.

The split between binaries and packages isn't what matters.  The updates
have to be done based on the revision numbers, there is no other way.

For one thing, because we import new Catalogue information for
everything at the beginning of each cycle, many packages will need to be
updated. But I imagine it would still save some download time to start
with a copy of the tree at your end instead of starting from scratch.
--best, karl.


From d.p.carlisle at gmail.com  Sat Apr 14 00:13:11 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 13 Apr 2018 23:13:11 +0100
Subject: [tex-live] ctan-o-mat in 2018 pretest
Message-ID: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>

running ctan-o-mat  (from anywhere) in cygwin tl pretest  I get the error

$ ctan-o-mat
Can't open perl script
"/usr/local/texlive/2018/bin/x86_64-cygwin/ctan-o-mat.pl": No such
file or directory



It just tries to exec
exec perl "$0.pl" "$@"


so the one in the bin directory in the path doesn't find the actual
perl in scripts, it seems to work fine if called directly:

$ perl /usr/local/texlive/2018/texmf-dist/scripts/ctan-o-mat/ctan-o-mat.pl
--version
1.2

not sure if this is an issue with the upstrean ctan-o-mat or the way
it's packaged in TL?

David

From gene at gerd-neugebauer.de  Sat Apr 14 00:22:54 2018
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Sat, 14 Apr 2018 00:22:54 +0200 (CEST)
Subject: [tex-live] ctan-o-mat in 2018 pretest
In-Reply-To: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
References: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
Message-ID: <885326650.214246.1523658174751@email.1und1.de>


> On 14 April 2018 at 00:13 David Carlisle <d.p.carlisle at gmail.com> wrote:

> running ctan-o-mat  (from anywhere) in cygwin tl pretest  I get the error

> $ ctan-o-mat
> Can't open perl script
> "/usr/local/texlive/2018/bin/x86_64-cygwin/ctan-o-mat.pl": No such
> file or directory
[...]
> not sure if this is an issue with the upstrean ctan-o-mat or the way
> it's packaged in TL?

This seems pretty sure to be a problem of the packaging.

BTW. I have reworked ctan-o-mat to hide the perl script and make it more fail safe. But this hasn't made it to CTAN yet.
> David

Ciao
Gerd

From d.p.carlisle at gmail.com  Sat Apr 14 00:23:52 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 13 Apr 2018 23:23:52 +0100
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <201804132212.w3DMCMF4005202@freefriends.org>
References: <20180409015930.GD1170@smoon.vl-lomov.ru>
 <201804132212.w3DMCMF4005202@freefriends.org>
Message-ID: <CAEW6iOg429nU4Qq3tnF-7r-TxYZOvSYEuX-GZQo4TpyvJJtVWQ@mail.gmail.com>

On 13 April 2018 at 23:12, Karl Berry <karl at freefriends.org> wrote:
> Vladimir's test document:
>
>     \documentclass{article}
>
>     \usepackage{mathtext}
>     \usepackage[T2A]{fontenc}
>     \usepackage[utf8]{inputenc}
>     [...]
>
> works for me without change in the current (TL pretest) LaTeX2e. That is
> a nice surprise :). I hope it is expected behavior. --thanks, karl.

Unless you have an update to t2/mathtext.sty not yet checked in, it's
not the expected behaviour
If I delete the mathtext.sty diff I tested locally then I get

! Package inputenc Error: Unicode character ? (U+41F)
...


David

>


From karl at freefriends.org  Sat Apr 14 00:29:33 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Apr 2018 16:29:33 -0600
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <CAEW6iOg429nU4Qq3tnF-7r-TxYZOvSYEuX-GZQo4TpyvJJtVWQ@mail.gmail.com> (message
 from David Carlisle on Fri, 13 Apr 2018 23:23:52 +0100)
Message-ID: <86d0z2spte.fsf@frenzy.freefriends.org>

    Unless you have an update to t2/mathtext.sty not yet checked in, 

I don't.

    not the expected behaviour

I was afraid of that. Oh, I see my error now. Never mind. Spurious success :(.

Ok, I've been discussing this with Werner and VladimirL. All we could
think of to do is for me install your change to mathtext.sty in TL (with
some sort of version ident change too :). There is no way anyone is
going to create an update to the t2 package any time soon -- t2 is
effectively looking for a maintainer, according to my understanding.
(VladimirV has been sadly absent from TeX for a while now, and Werner
can't take it on.)

Unless you think it's better to force mathtext users to update any
newly failing documents by changing package load order, etc. --thanks, karl.

From d.p.carlisle at gmail.com  Sat Apr 14 00:41:41 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 13 Apr 2018 23:41:41 +0100
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <86d0z2spte.fsf@frenzy.freefriends.org>
References: <CAEW6iOg429nU4Qq3tnF-7r-TxYZOvSYEuX-GZQo4TpyvJJtVWQ@mail.gmail.com>
 <86d0z2spte.fsf@frenzy.freefriends.org>
Message-ID: <CAEW6iOiRZJ-=5HaQO_OHhO3peVPjvtDMKc6e5fGLn29LBB=BRg@mail.gmail.com>

Karl changing at tl would be better than nothing, better would be to
update mathtext.dtx at ctan.
I'd be happy to do that if ctan would allow me just to upload
mathtext.{dtx,ins} into
https://ctan.org/tex-archive/macros/latex/contrib/t2/etc
I don't have the resources (or cyrillic understanding) to take over
(or even build) the whole t2 collection but I could fairly reliably
update mathtext.dtx.

David




On 13 April 2018 at 23:29, Karl Berry <karl at freefriends.org> wrote:
>     Unless you have an update to t2/mathtext.sty not yet checked in,
>
> I don't.
>
>     not the expected behaviour
>
> I was afraid of that. Oh, I see my error now. Never mind. Spurious success :(.
>
> Ok, I've been discussing this with Werner and VladimirL. All we could
> think of to do is for me install your change to mathtext.sty in TL (with
> some sort of version ident change too :). There is no way anyone is
> going to create an update to the t2 package any time soon -- t2 is
> effectively looking for a maintainer, according to my understanding.
> (VladimirV has been sadly absent from TeX for a while now, and Werner
> can't take it on.)
>
> Unless you think it's better to force mathtext users to update any
> newly failing documents by changing package load order, etc. --thanks, karl.

From karl at freefriends.org  Sat Apr 14 00:51:22 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Apr 2018 16:51:22 -0600
Subject: [tex-live] Problem with 'mathtext' package after update of
 'cyrillic' one
In-Reply-To: <CAEW6iOiRZJ-=5HaQO_OHhO3peVPjvtDMKc6e5fGLn29LBB=BRg@mail.gmail.com> (message
 from David Carlisle on Fri, 13 Apr 2018 23:41:41 +0100)
Message-ID: <867epasot1.fsf@frenzy.freefriends.org>

I've updated mathtext.sty with your patch from
http://tug.org/pipermail/tex-live/2018-April/041437.html.
Thanks.

I think/hope this will be the last change for TL18. -k

From karl at freefriends.org  Sat Apr 14 00:52:12 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Apr 2018 22:52:12 GMT
Subject: [tex-live] 2018 TL freeze
Message-ID: <201804132252.w3DMqCtD008812@freefriends.org>

Barring disaster, I plan to make tonight's build the last.  The only
changes from yesterday should be the patch to mathtext.sty just
mentioned, plus irrelevant minor text updates inserting the final
release date in ChangeLog files, etc.

Then it will be over to Manfred and crew to make the final TeX Collection
DVD image. I hope to make the public release in a week or so, when the
DVD image goes to manufacturing, but I can't make any firm predictions.

BTW, the final TL images built tonight will necessarily specify going to
CTAN for updates. That won't actually work until we update TL on CTAN,
so don't worry when it fails for the next few days. --best, karl.


From reinhard.kotucha at web.de  Sat Apr 14 01:10:09 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 14 Apr 2018 01:10:09 +0200
Subject: [tex-live] ctan-o-mat in 2018 pretest
In-Reply-To: <885326650.214246.1523658174751@email.1und1.de>
References: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
 <885326650.214246.1523658174751@email.1und1.de>
Message-ID: <23249.14545.454284.766324@gargle.gargle.HOWL>

On 2018-04-14 at 00:22:54 +0200, Gerd Neugebauer wrote:

 > 
 > > On 14 April 2018 at 00:13 David Carlisle <d.p.carlisle at gmail.com> wrote:
 > 
 > > running ctan-o-mat  (from anywhere) in cygwin tl pretest  I get the error
 > 
 > > $ ctan-o-mat
 > > Can't open perl script
 > > "/usr/local/texlive/2018/bin/x86_64-cygwin/ctan-o-mat.pl": No such
 > > file or directory
 > [...]
 > > not sure if this is an issue with the upstrean ctan-o-mat or the
 > > way it's packaged in TL?
 > 
 > This seems pretty sure to be a problem of the packaging.
 > 
 > BTW. I have reworked ctan-o-mat to hide the perl script and make it
 > more fail safe. But this hasn't made it to CTAN yet.

Hi Gerd,
what does "to hide the perl script" mean?

BTW, the preferred shebang line (in ctan-o-mat.pl) is

  #!/usr/bin/env perl

This allows that Perl is found in PATH.  Some users might have a newer
version of Perl in /usr/local/bin.

The wrapper script (ctan-o-mat) isn't needed.  If properly installed,
TeX Live creates symlinks to *.pl files in bin/<platform> directories
for all Unix systems and a runscript wrapper in bin/win32 which also
makes the Perl shipped with TeX Live visible to the script.

All you have to do is to provide the .pl file.

For more info about the wrapper for Windows, see the comments in

  http://tug.org/svn/texlive/trunk/Master/bin/win32/runscript.tlu

Please note that the Perl for Windows shipped with TL doesn't contain
all the packages available from CPAN.  It's advisable to test the
script on Windows.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From reinhard.kotucha at web.de  Sat Apr 14 02:07:30 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 14 Apr 2018 02:07:30 +0200
Subject: [tex-live] ctan-o-mat in 2018 pretest
In-Reply-To: <23249.14545.454284.766324@gargle.gargle.HOWL>
References: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
 <885326650.214246.1523658174751@email.1und1.de>
 <23249.14545.454284.766324@gargle.gargle.HOWL>
Message-ID: <23249.17986.957515.326125@gargle.gargle.HOWL>

On 2018-04-14 at 01:10:09 +0200, Reinhard Kotucha wrote:

 > BTW, the preferred shebang line (in ctan-o-mat.pl) is
 > 
 >   #!/usr/bin/env perl

Please note that env assumes that everything before EOL is one
argument, hence if you say

  #!/usr/bin/env perl -w

it looks for a program "perl -w".  In order to turn warnings on, use

  $^W=1;

in your script or, if desired,

  BEGIN {
    $^W=1;
  }

The latter turns warnings on before the script is compiled, otherwise
warnings are issued only at run-time.

Regards,
  Reinhad

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From kbrow1i at gmail.com  Sat Apr 14 03:42:56 2018
From: kbrow1i at gmail.com (Ken Brown)
Date: Fri, 13 Apr 2018 21:42:56 -0400
Subject: [tex-live] ctan-o-mat in 2018 pretest
In-Reply-To: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
References: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
Message-ID: <e756b0a4-b36d-35bd-95d8-f4b0f2d2205d@gmail.com>

On 4/13/2018 6:13 PM, David Carlisle wrote:
> running ctan-o-mat  (from anywhere) in cygwin tl pretest  I get the error
> 
> $ ctan-o-mat
> Can't open perl script
> "/usr/local/texlive/2018/bin/x86_64-cygwin/ctan-o-mat.pl": No such
> file or directory
> 
> 
> 
> It just tries to exec
> exec perl "$0.pl" "$@"
> 
> 
> so the one in the bin directory in the path doesn't find the actual
> perl in scripts, it seems to work fine if called directly:
> 
> $ perl /usr/local/texlive/2018/texmf-dist/scripts/ctan-o-mat/ctan-o-mat.pl
> --version
> 1.2
> 
> not sure if this is an issue with the upstrean ctan-o-mat or the way
> it's packaged in TL?

The symlink /usr/local/texlive/2018/bin/x86_64-cygwin/ctan-o-mat is 
wrong on Cygwin.  It points to the shell script 
../../texmf-dist/scripts/ctan-o-mat/ctan-o-mat instead of the perl 
script ../../texmf-dist/scripts/ctan-o-mat/ctan-o-mat.pl as it does on 
other unix-like platforms.

This was probably my fault, but I've just committed the correct symlink. 
  I apologize, and I hope this commit will still make into the release. 
If not, it will have to be fixed afterwards.

Ken




From gene at gerd-neugebauer.de  Sat Apr 14 08:44:17 2018
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Sat, 14 Apr 2018 08:44:17 +0200 (CEST)
Subject: [tex-live] ctan-o-mat in 2018 pretest
In-Reply-To: <23249.17986.957515.326125@gargle.gargle.HOWL>
References: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
 <885326650.214246.1523658174751@email.1und1.de>
 <23249.14545.454284.766324@gargle.gargle.HOWL>
 <23249.17986.957515.326125@gargle.gargle.HOWL>
Message-ID: <896230352.284203.1523688257908@email.1und1.de>


> On 14 April 2018 at 02:07 Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> On 2018-04-14 at 01:10:09 +0200, Reinhard Kotucha wrote:

>  > BTW, the preferred shebang line (in ctan-o-mat.pl) is
>  > 
>  >   #!/usr/bin/env perl
> 
> Please note that env assumes that everything before EOL is one
> argument, hence if you say
> 
>   #!/usr/bin/env perl -w
[...]
Thanks for the hints. I had already changed it accordingly in my dev environment.

Ciao
Gerd

From gene at gerd-neugebauer.de  Sat Apr 14 08:58:25 2018
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Sat, 14 Apr 2018 08:58:25 +0200 (CEST)
Subject: [tex-live] ctan-o-mat in 2018 pretest
In-Reply-To: <23249.14545.454284.766324@gargle.gargle.HOWL>
References: <CAEW6iOjkmPTHu3bH=PexxogpUkQ6zmj1NHXMgH814JU8vG2vCg@mail.gmail.com>
 <885326650.214246.1523658174751@email.1und1.de>
 <23249.14545.454284.766324@gargle.gargle.HOWL>
Message-ID: <1448948217.284272.1523689105762@email.1und1.de>


> On 14 April 2018 at 01:10 Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> On 2018-04-14 at 00:22:54 +0200, Gerd Neugebauer wrote:

[...]
>  > BTW. I have reworked ctan-o-mat to hide the perl script and make it
>  > more fail safe. But this hasn't made it to CTAN yet.

> Hi Gerd,

Hi Reinhard,

> what does "to hide the perl script" mean?

This means it is less prominent that the program is perl. I have eiminated the wrapper script for Unix by renaming the perl script to its base name and adapting the shebang line.
[...]
> The wrapper script (ctan-o-mat) isn't needed.  If properly installed,
> TeX Live creates symlinks to *.pl files in bin/<platform> directories
> for all Unix systems and a runscript wrapper in bin/win32 which also
> makes the Perl shipped with TeX Live visible to the script.

ctan-o-mat is not TeX Live-only. I make a program which is supposed to work almost everywhere. It's ok if TeX Live integrates it any way desirable. But this does not relieve me from supporting the rest of the world.

> All you have to do is to provide the .pl file.

It will be still there for anyone to use it.

> For more info about the wrapper for Windows, see the comments in
> 
>   http://tug.org/svn/texlive/trunk/Master/bin/win32/runscript.tlu

I have my own wrapper for windows (for non-TeX Live) which I have rewritten from scratch. I managed to test it at least rudimentary.

> Please note that the Perl for Windows shipped with TL doesn't contain
> all the packages available from CPAN.  It's advisable to test the
> script on Windows.

I am aware of this. I tried to use only few and stable modules

> Regards,
>   Reinhard

Ciao
Gerd

From president at dante.de  Sat Apr 14 08:26:10 2018
From: president at dante.de (president at dante.de)
Date: Sat, 14 Apr 2018 08:26:10 +0200
Subject: [tex-live] 2018 TL freeze
In-Reply-To: <201804132252.w3DMqCtD008812@freefriends.org>
References: <201804132252.w3DMqCtD008812@freefriends.org>
Message-ID: <6e37c25f-2b1c-4851-b16e-a107e9ef3b1f@dante.de>

Hello,

is TUG going to produce its own copies this year? I will ask all user groups to send me their orders till next week. We will probably order at the same manufacturer as last year.

Best
Martin

?Gesendet mit TypeApp ?

Am 14. Apr. 2018, 00:53, um 00:53, Karl Berry <karl at freefriends.org> schrieb:
>Barring disaster, I plan to make tonight's build the last.  The only
>changes from yesterday should be the patch to mathtext.sty just
>mentioned, plus irrelevant minor text updates inserting the final
>release date in ChangeLog files, etc.
>
>Then it will be over to Manfred and crew to make the final TeX
>Collection
>DVD image. I hope to make the public release in a week or so, when the
>DVD image goes to manufacturing, but I can't make any firm predictions.
>
>BTW, the final TL images built tonight will necessarily specify going
>to
>CTAN for updates. That won't actually work until we update TL on CTAN,
>so don't worry when it fails for the next few days. --best, karl.



From lomov.vl at gmail.com  Sat Apr 14 16:20:49 2018
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sat, 14 Apr 2018 22:20:49 +0800
Subject: [tex-live] mathtext.sty update?
In-Reply-To: <201804132155.w3DLtOHE003806@freefriends.org>
References: <20180413.103352.1724223960450581988.wl@gnu.org>
 <201804132155.w3DLtOHE003806@freefriends.org>
Message-ID: <20180414142049.GB747@smoon.vl-lomov.ru>

Hello,
** Karl Berry [2018-04-13 21:55:24 +0000]:

> I don't understand why, but VL's test document works for me with current
> (pretest) TL, without inserting DavidC's change -- same mathtext.sty as
> ever. So I guess the LaTeX people somehow fixed the conflict (without
> saying so). Sorry I didn't test this before sending my earlier mail.
> 
> On the assumption that we shouldn't fix something that isn't broken,
> unless one of you says otherwise, I won't make any changes to
> mathtext.sty, and what we've got now is what will be released
> .. --thanks, karl.

I have to apologize for delay with answer and the most for incorrect bug
report.

First, at time of the report I didn't remember for what purpose I used
to include the 'mathtext' package (I already faced some problem with the
package and could work without it), but before update of encoding
package all was fine while the package was included.

Second, it took time to remember and investigate what 'mathtext' package
do. I think it now has very little usage, may be no one uses it at
present.

And the last, I reread some old documentation I had read before about
how to use Russian in LaTeX documents (it dates 2002) and found out that
I had used the 'mathtext' package in wrong way: it has to be included
before 'babel' package not before all other packages (though searching
the Web I found several examples that suggest to include it _before_
'fontenc' and 'inputenc' packages), so my example was wrong from the
beginning!

For future reference I send this message to the TeX Live too.

This is WRONG example:

% WRONG.ltx
--------------------------------- 8< --------------------------------------
\documentclass{article}

\usepackage[warn]{mathtext}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}

\begin{document}

????? ????. ???????: $a=b+\cos{x}+?+c_{?}$.

\end{document}
--------------------------------- 8< --------------------------------------

This is CORRECT example:

% CORRECT.ltx
--------------------------------- 8< --------------------------------------
\documentclass{article}

\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[warn]{mathtext}
\usepackage[russian]{babel}

\begin{document}

????? ????. ???????: $a=b+\cos{x}+?+c_{?}$.

\end{document}
--------------------------------- 8< --------------------------------------

The CORRECT example works fine with TeX Live 2017 and 2018, WRONG example
works only with TeX Live 2017 and with 2018 it gives already mentioned
error.

For the record: the 'mathtext' package as is shown in examples above
allows to use Russian letters (actually letters from T2A encoding) with
math mode as is. Without this package Russian letters can be used in
math mode by means of command '\text' provided by 'amsmath' package that
I recommend to include in any document dealing with math. The 'mathtext'
package is designed in such a way that Russian letters in math mode will
be typeset in upright font in contrast to Latin and Greek letters.

---
WBR, Vladimir Lomov

-- 
Moonchild without an opinion? Satan is skating to work tomorrow!
        -- Brett Manz

From d.p.carlisle at gmail.com  Sat Apr 14 16:27:08 2018
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 14 Apr 2018 15:27:08 +0100
Subject: [tex-live] mathtext.sty update?
In-Reply-To: <20180414142049.GB747@smoon.vl-lomov.ru>
References: <20180413.103352.1724223960450581988.wl@gnu.org>
 <201804132155.w3DLtOHE003806@freefriends.org>
 <20180414142049.GB747@smoon.vl-lomov.ru>
Message-ID: <CAEW6iOg4iri8C70KQT5e14efxk65DUmhD_Pz08rJurO9m7DLqA@mail.gmail.com>

> I have to apologize for delay with answer and the most for incorrect bug
report.

No need to apologise, and while mathtext probably isn't used much and as you say
would work unchanged if the package order is adjusted, your report is
certainly correct
that a document that previously ran without error failed in the pretest.

The patch we made should make that document work again without
affecting other "better" uses.

David

From bvoisin at icloud.com  Sat Apr 14 18:35:25 2018
From: bvoisin at icloud.com (Bruno Voisin)
Date: Sat, 14 Apr 2018 18:35:25 +0200
Subject: [tex-live] luaotfload.pdf messed up
Message-ID: <1D21892B-D6C4-4073-9957-26F053ECEDC4@icloud.com>

Motivated by today's last-minute update of the luaotfload package in tlpretest, I had a look at the doc file luaotfload.pdf and realized it is a bit messed up:

- The beginning of section 3 on p. 3 refers to a figure 1 providing a formal description of the font loading syntax. There is no such figure, and the figure number "1" links to figure 2 on p. 23 (on a different topic).

- Section 6.2 on p. 11 refers to a table 1 listing the search paths for each OS. The table caption is at the top of p. 11, but the table content at the top of p. 12 (without any caption, then).

This feels like one more LaTeX run would be required to put everything into place. To confirm that I tried to process luaotfload-latex.tex from source/luatex/luaotfload, but it requires additional components not in TeX Live (Liberation Mono for one thing).

The problem if any isn't new, as the doc file dates back to February 2017.

Bruno Voisin
(who isn't on the list)

From Rolf.Niepraschk at gmx.de  Sun Apr 15 11:52:11 2018
From: Rolf.Niepraschk at gmx.de (Rolf Niepraschk)
Date: Sun, 15 Apr 2018 11:52:11 +0200
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <20180327142218.GA7670@burischnitzel.preining.info>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
 <20180327142218.GA7670@burischnitzel.preining.info>
Message-ID: <1f87da27-c95e-7be9-0880-5aeb5a4fecd5@gmx.de>

Am 27.03.2018 um 16:22 schrieb Norbert Preining:
>> The update of xindy to r47142 fixes the issue for me on Linux x86-64.
> 
> There will be an update tomorrow with a build based on new clisp,
> hopefully this time without a bump.
> 
> Please test tomorrow's xindy, too. Thanks.
> 

I just tested xindy:

xindy --version
   xindy release: 2.5.1
   xindy script version: 1.18
   /usr/local/texlive/2018/bin/x86_64-linux/xindy.run: error while 
loading shared libraries: libncurses.so.5: cannot open shared object 
file: No such file or directory

locate libncurses.so
   /lib/libncurses.so.6
   /lib/libncurses.so.6.1
   /lib64/libncurses.so.6
   /lib64/libncurses.so.6.1
   /usr/lib64/libncurses.so

I use Linux (openSUSE Tumbleweed). After installing the package 
"libncurses5" by hand the error disappear.

...Rolf





From karl at freefriends.org  Mon Apr 16 00:57:47 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 15 Apr 2018 22:57:47 GMT
Subject: [tex-live] luaotfload.pdf messed up
In-Reply-To: <1D21892B-D6C4-4073-9957-26F053ECEDC4@icloud.com>
Message-ID: <201804152257.w3FMvlB9030866@freefriends.org>

    Subject: [tex-live] luaotfload.pdf messed up

I forwarded your report to lualatex-dev at tug.org. Thanks. -k

From preining at logic.at  Mon Apr 16 02:38:30 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 16 Apr 2018 09:38:30 +0900
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <1f87da27-c95e-7be9-0880-5aeb5a4fecd5@gmx.de>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
 <20180327142218.GA7670@burischnitzel.preining.info>
 <1f87da27-c95e-7be9-0880-5aeb5a4fecd5@gmx.de>
Message-ID: <FEEA6276-3001-49BD-81FF-7D3478676916@logic.at>

Curses of dynamic libraries. Curses is hard to look statically, it I haven't tried. At least curses5 is still available.

Thanks for the report

Norbert

--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From zarniwhoop at ntlworld.com  Mon Apr 16 03:15:32 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Mon, 16 Apr 2018 02:15:32 +0100
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <FEEA6276-3001-49BD-81FF-7D3478676916@logic.at>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
 <20180327142218.GA7670@burischnitzel.preining.info>
 <1f87da27-c95e-7be9-0880-5aeb5a4fecd5@gmx.de>
 <FEEA6276-3001-49BD-81FF-7D3478676916@logic.at>
Message-ID: <20180416011532.GA11749@milliways.localdomain>

On Mon, Apr 16, 2018 at 09:38:30AM +0900, Norbert Preining wrote:
> Curses of dynamic libraries. Curses is hard to look statically, it I haven't tried. At least curses5 is still available.
> 
> Thanks for the report
> 
> Norbert
> 
Not exactly new - I thought I'd updated the page at
http://www.linuxfromscratch.org/blfs/view/8.2/pst/tl-installer.html
to specifically mention this, but apparently not.  With ncurses-6,
./configure --prefix=/usr \
 --with-shared \
 --without-normal \
 --without-debug \
 --without-cxx-binding \
 --with-abi-version=5
 [ or whatever prefix you want ] does the job.

?en
-- 
In my seventh decade astride this planet, and as my own cells degrade,
there are some things I cannot do now: skydiving, marathon running,
calculus. I couldn't do them in my 20s either, so no big loss.
            -- Derek Smalls, formerly of Spinal Tap

From kakuto at fuk.kindai.ac.jp  Mon Apr 16 06:45:43 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 16 Apr 2018 13:45:43 +0900
Subject: [tex-live] kpsewhich case insensitive?
Message-ID: <2A9C0925EB1145EEBC9E30EF7066EE34@CJ3001517A>

> In TL2018, it shows the 'actual' name:
> c:/texlive/2018/texmf-dist/tex/latex/ieeetran/IEEEtran.cls
>
> Maybe this is the reason of Daniel's example.
>
> In the next TL2019,
> kpsewhich ieeetran.cls
> does not print anything.

After discussion with some people, I decided not
to change the present case-insensitive matching
on Windows, even in texmf trees with ls-R.
Thus, in the next TL2019 also
kpsewhich ieeetran.cls
shall show
c:/texlive/2019/texmf-dist/tex/latex/ieeetran/IEEEtran.cls

Best,
Akira


From preining at logic.at  Mon Apr 16 06:59:56 2018
From: preining at logic.at (Norbert Preining)
Date: Mon, 16 Apr 2018 13:59:56 +0900
Subject: [tex-live] TeX Live 2018: xindy seems broken
In-Reply-To: <20180416011532.GA11749@milliways.localdomain>
References: <de1cbf83-0d6d-501b-ce72-891a46f04234@gmail.com>
 <20180327110331.2aptsaedtnlv7plw@alpspitze.lukasczyk.me>
 <20180327142218.GA7670@burischnitzel.preining.info>
 <1f87da27-c95e-7be9-0880-5aeb5a4fecd5@gmx.de>
 <FEEA6276-3001-49BD-81FF-7D3478676916@logic.at>
 <20180416011532.GA11749@milliways.localdomain>
Message-ID: <20180416045956.GA29822@burischnitzel.preining.info>

> Not exactly new - I thought I'd updated the page at

Isn't that something else? You want to *comile* on a newer ncurses
system, while the OP wanted to run binaries created on a v=5 system on a
v=6 system.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From werner at suse.de  Mon Apr 16 10:32:11 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Mon, 16 Apr 2018 10:32:11 +0200
Subject: [tex-live] TeXLive 2018: lua(tex)(52) or lua(tex)53
In-Reply-To: <201804132117.w3DLHt9L032356@freefriends.org>
References: <20180413112914.s46dhxcpxezycac2@noether>
 <201804132117.w3DLHt9L032356@freefriends.org>
Message-ID: <20180416083211.xakojnr3sgrkzwoj@boole.suse.de>

On Fri, Apr 13, 2018 at 09:17:55PM +0000, Karl Berry wrote:
> Hi Werner,
> 
>     over binaries not mention in texlive.tlpdb.xz
> 
> From where did you get this texlive.tlpdb.xz? Those binaries are all
> included in the texlive.tlpdb that's in the pretest directory, as far as
> I can see. (And they are in the original *.tlpsrc files that ultimately
> create texlive.tlpdb.) --best, karl.

Switch over latest tlpretest ... nevertheless there seems to be no source
tree (AFAICS) ... therefore I'm using rsync with tug.org::tldevsrc/Build/source/
but I do not know if this belongs to current texlive.tlpdb.xz

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 880 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180416/113083d7/attachment.sig>

From preining at logic.at  Mon Apr 16 17:36:50 2018
From: preining at logic.at (Norbert Preining)
Date: Tue, 17 Apr 2018 00:36:50 +0900
Subject: [tex-live] TeXLive 2018: lua(tex)(52) or lua(tex)53
In-Reply-To: <20180416083211.xakojnr3sgrkzwoj@boole.suse.de>
References: <20180413112914.s46dhxcpxezycac2@noether>
 <201804132117.w3DLHt9L032356@freefriends.org>
 <20180416083211.xakojnr3sgrkzwoj@boole.suse.de>
Message-ID: <20180416153650.GA17047@burischnitzel.preining.info>

Hallo Werner,

> Switch over latest tlpretest ... nevertheless there seems to be no source
> tree (AFAICS) ...

Yes, tlnet/tlpretest does NOT contain the sources of the binaries.

> therefore I'm using rsync with tug.org::tldevsrc/Build/source/

Which is the correct process.

> but I do not know if this belongs to current texlive.tlpdb.xz

That depends mostly on when our builders have provided binaries.
I guess that all of the binaries now in TL tlpretest, and thus in the
texlive.tlpdb) are built after the last source changes.

In any case, as a distributor (SuSE) what you are, you should build your
own binaries and add a proper prefix by adding
  --with-banner-add=/SuSE       (or similar)
and most likely also
  --disable-native-texlive-build
The set of binaries you then get in inst/bin/* can be used as is, and
are with 99% based on the same sources with the binaries we distribute
in TL ourselves.

Does that help?

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mqr.grad at gmail.com  Wed Apr 18 06:47:40 2018
From: mqr.grad at gmail.com (Eric Meng)
Date: Wed, 18 Apr 2018 12:47:40 +0800
Subject: [tex-live] bug report of bibtex
Message-ID: <8E171690-75C5-49A3-A904-ABCF2AC1965B@gmail.com>

Hi tug subscribers,

Here is a bug I think about bibtex based on texlive 2017 with latest packages

when the output directory is specified within the working folder, like temp, the *.aux and *.blg file would be written into this folder

If you also use relative path to specify bibliography path, e.g., \bibliography{../../library}

bibtex cannot locate this library, while if changing it to \bibliography{temp/../../../library}, an equal way to say it, it works perfectly 

this issue is not related to the value of openout_any as I tested 

Cheers
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180418/cac94b19/attachment.html>

From i.spectorsky at gmail.com  Thu Apr 19 13:34:24 2018
From: i.spectorsky at gmail.com (Spectorsky)
Date: Thu, 19 Apr 2018 14:34:24 +0300
Subject: [tex-live] dviout: color specials in the are not page independent
Message-ID: <d3d06921-4f58-837e-9181-fc15ab10f28d@gmail.com>

Hello,

When dvi file is opened by dviout, some strange message appears: dviout 
color specials in the are not page independent. When I agree for 
modifying the file, everything works. However, what is there in my file 
that dviout dislikes? Within MiKteX (there is? dvi-viewer yap) no 
warning appears like that.
color specials is used when hyperref is called:
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage[%hyperref,
hyperindex,bookmarksnumbered,colorlinks,
linktocpage,
urlbordercolor={0 0 0},linkcolor=blue,
citecolor=green,urlcolor=blue,menucolor=green,
unicode,hypertex, pageanchor,bookmarks]{hyperref}

Thanks in advance? for any idea

Igor Spectorsky

From lists at openlilylib.org  Thu Apr 19 16:57:34 2018
From: lists at openlilylib.org (Urs Liska)
Date: Thu, 19 Apr 2018 16:57:34 +0200
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <20180413103014.GC12044@burischnitzel.preining.info>
References: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>
 <20180413103014.GC12044@burischnitzel.preining.info>
Message-ID: <291772dd-77b5-17ee-600d-3e3e0210db60@openlilylib.org>



Am 13.04.2018 um 12:30 schrieb Norbert Preining:
> Hi Urs,
>
>>   * look for or create and cd into ~/texmf/tex/latex
>>   * create a symlink with
>>     ln -s /path/to/our/project/latex-resources
>>   * try compiling the document
> Sounds fine. I would expect that the same thing works in all other
> variants of TeX Live, too. TEXMFHOME should NOT be prefixed with !!, so
> searching should work.
>
> You can ask your co-authors to run
>    kpsewhich --debug=32 <one-of-the-files-there>
> and see what is logged, it might give hints why the dirs are not
> searched. --debug=-1 which logs everything, but can be quite
> overwhelming.
>
>> I read about having to use texhash and/or mktexlsr - once or after every
>> changes to ~/texmf - but I don't seem to have to do that on my computer. Is
> If there is an ls-R file, please remove it!!! That is 100 times safer.
>
> Norbert

It turned out there was another issue at play (after the actual errors 
with wrong paths were sorted out).
As this was a new installation ~/texmf hadn't existed before, and the 
contributor basically created ~/texmf/tex/latex, which contained two 
symlinks to our LaTeX resources.
I ordered him to create a hidden dummy directory with a hidden dummy 
file in it - and voil?, the classes and packages were found.

I think I didn't explicitly state that we use LuaLaTeX, but I asked if 
the different engines behave differently in this respect.
And I recall from earlier questions that having at least ony actual 
directory available was necessary for LuaLaTeX to follow symlinks to 
find fonts. It seems this also goes for regular files.

To what extent is this known behaviour? And is this *acceptable* 
behaviour? Or did I even misunderstood anything and it now works by 
accident?

Thanks
Urs


From norbert at preining.info  Thu Apr 19 17:04:08 2018
From: norbert at preining.info (Norbert Preining)
Date: Fri, 20 Apr 2018 00:04:08 +0900
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <291772dd-77b5-17ee-600d-3e3e0210db60@openlilylib.org>
References: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>
 <20180413103014.GC12044@burischnitzel.preining.info>
 <291772dd-77b5-17ee-600d-3e3e0210db60@openlilylib.org>
Message-ID: <20180419150408.GG17712@bulldog.preining.info>

> I think I didn't explicitly state that we use LuaLaTeX, but I asked if the
> different engines behave differently in this respect.
> And I recall from earlier questions that having at least ony actual
> directory available was necessary for LuaLaTeX to follow symlinks to find
> fonts. It seems this also goes for regular files.
> 
> To what extent is this known behaviour? And is this *acceptable* behaviour?
> Or did I even misunderstood anything and it now works by accident?

I never heard about this, but IMNSHO this is absolutely unacceptable
behaviour.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From lists at openlilylib.org  Thu Apr 19 17:12:13 2018
From: lists at openlilylib.org (Urs Liska)
Date: Thu, 19 Apr 2018 17:12:13 +0200
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <20180419150408.GG17712@bulldog.preining.info>
References: <5ea8afd1-fa1d-2d1c-ccf1-284837c38dfb@openlilylib.org>
 <20180413103014.GC12044@burischnitzel.preining.info>
 <291772dd-77b5-17ee-600d-3e3e0210db60@openlilylib.org>
 <20180419150408.GG17712@bulldog.preining.info>
Message-ID: <f24a2229-cb64-1760-09d9-1dd102e165ea@openlilylib.org>



Am 19.04.2018 um 17:04 schrieb Norbert Preining:
>> I think I didn't explicitly state that we use LuaLaTeX, but I asked if the
>> different engines behave differently in this respect.
>> And I recall from earlier questions that having at least ony actual
>> directory available was necessary for LuaLaTeX to follow symlinks to find
>> fonts. It seems this also goes for regular files.
>>
>> To what extent is this known behaviour? And is this *acceptable* behaviour?
>> Or did I even misunderstood anything and it now works by accident?
> I never heard about this, but IMNSHO this is absolutely unacceptable
> behaviour.

Hm, I should have searched my tex.stackexchange account before ...
https://tex.stackexchange.com/questions/132908/fontspec-search-path-in-texmfhome

 From Ulrike's answer it should be clear that the issue is not limited 
to fonts but general.
Now I also see that ~/texmf/tex/latex in *my* installation contains an 
empty hidden directory ...

I still find it extremely strange that this should be "irremediable" ...

Urs

> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180419/a3326a4f/attachment.html>

From h.y.acetaminophen at gmail.com  Thu Apr 19 18:13:00 2018
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Fri, 20 Apr 2018 01:13:00 +0900
Subject: [tex-live] dviout: color specials in the are not page
	independent
In-Reply-To: <d3d06921-4f58-837e-9181-fc15ab10f28d@gmail.com>
References: <d3d06921-4f58-837e-9181-fc15ab10f28d@gmail.com>
Message-ID: <D936D3B9-8C96-4689-BC27-51B8ED361780@gmail.com>

Hi Igor,

> When dvi file is opened by dviout, some strange message appears:
> dviout color specials in the are not page independent. When I agree
> for modifying the file, everything works. However, what is there in
> my file that dviout dislikes?
> Within MiKteX (there is  dvi-viewer yap) no warning appears like that.

dviout checks page-independency and shows a warning,
and yap does not; that is all what differs.

A DVI file is a sequence of commands which form "a machine-like language".
In the simplest situation, the appearance of a page can be determined
from commands encapsulated in that single page. Therefore, when
a DVI viewer is going to display a single page from a multipage DVI file,
the viewer is required to parse only that single page. This is true in
most case, because a DVI file is

* (always) page-independent if no \special commands are involved
* (sometimes) page-independent if \special commands appears

However, the real world is not so simple as expected; there is a possibility
that the commands in preceeding page affect the page appearance.
It occurs when \special's are involved, like page color, text color etc.
MWE (the first and second pages should be in red):

\documentclass{article}
\usepackage{color}
\begin{document}
\pagecolor{red}
first,\newpage second
\end{document}

To handle this situation, dviout correctly parses throughout a DVI file,
from the start page (with a help of a program dvispc.exe background).
I guess dviout is calling a user's attention for safety in this complex situation.

I don't know much about yap, but if the second page of MWE above
is shown in red, yap should be doing similar too (without showing any
warnings to user).

Hironobu Yamashita



From karl at freefriends.org  Fri Apr 20 00:08:01 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 19 Apr 2018 22:08:01 GMT
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <f24a2229-cb64-1760-09d9-1dd102e165ea@openlilylib.org>
Message-ID: <201804192208.w3JM81gF005074@freefriends.org>

    I still find it extremely strange that this should be "irremediable" ...

It is not technically "irremediable". As I commented in
kpathsea/elt-dirs.c more than 25 years ago, it is perfectly easy to
avoid the optimization of a directory having 2 links => leaf => don't
check symlinks. Non-Unixy systems don't have that optimization
possibility, for instance.

However, the downside of turning off the optimization is that every
entry of every (heretofore leaf) directory will be stat(2)d. This is an
expensive operation, even on today's computers, because all that data
won't be in the disk/cpu caches, and will get promptly thrown away.

Having symlinks to outside dirs seems relatively rare to me. I don't
like the idea of making everyone pay a price to support a rare
occurrence.  Creating an empty directory in a directory with symlinks
that should be followed seems like a reasonable workaround to me.

However ... I guess the counterargument is that this whole optimization
only happens in non-!! directories like TEXMFHOME, and those are most
likely small, so then it doesn't matter how much extra work the
searching does.

So, I don't know. -k


-----------------------------------------------------------------------------
kpathsea/elt-dirs.c
..
              /* Should we recurse?  To see if the subdirectory is a
                 leaf, check if it has two links (one for . and one for
                 ..).  This means that symbolic links to directories do
                 not affect the leaf-ness.  This is arguably wrong, but
                 the only alternative I know of is to stat every entry
                 in the directory, and that is unacceptably slow.

                 The #ifdef here makes all this configurable at
                 compile-time, so that if we're using VMS directories or
                 some such, we can still find subdirectories, even if it
                 is much slower.  */
#ifdef ST_NLINK_TRICK
              /* With SAS/C++ 6.55 on the Amiga, stat sets the st_nlink
                 field to -1 for a file, or to 1 for a directory.
                 Cygwin 1.7 also leaves st_nlink as 1:
                 http://cygwin.com/ml/cygwin-developers/2008-04/msg00110.html
                 */
              if (links != 2)
#endif /* ST_NLINK_TRICK */
                /* All criteria are met; find subdirectories.  */
                  do_subdir (kpse, str_list_ptr, FN_STRING (name),
                           potential_len, post);
..

From karl at freefriends.org  Fri Apr 20 02:05:15 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 20 Apr 2018 00:05:15 GMT
Subject: [tex-live] bug report of bibtex
In-Reply-To: <8E171690-75C5-49A3-A904-ABCF2AC1965B@gmail.com>
Message-ID: <201804200005.w3K05FQB016858@freefriends.org>

Hi Eric,

Thanks for the report.

    when the output directory is specified within the working folder, 

So you're setting TEXMFOUTPUT to temp?

    this issue is not related to the value of openout_any as I tested 

It would be openin_any, if anything, but the default for that is to
allow anything, so unless something in your environment is changing
that, it shouldn't matter.

    If you also use relative path to specify bibliography path

Are you setting BIBINPUTS, or specifying the path in your input file?

I'm not sure offhand what is going wrong for you. Please send a runnable
input file so I can more easily test. --thanks, karl.

From phillip.mueller7 at web.de  Thu Apr 19 23:37:12 2018
From: phillip.mueller7 at web.de (Phillip)
Date: Thu, 19 Apr 2018 23:37:12 +0200
Subject: [tex-live] leadsheets-package does not work; texlive manager neither
Message-ID: <d3de257e-cefc-8895-0d1d-3980f13f655d@web.de>

Hello Texlive-Group,

I have a problem using the leadsheets-package:

! LaTeX Error: File `leadsheets.sty' not found.

Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: sty)

Enter file name:

! LaTeX Error: Unknown option `full' for package `leadsheets'.

See the LaTeX manual or LaTeX Companion for explanation.
Type? H <return>? for immediate help.
 ?...

l.11 \setleadsheets
 ?????????????????? {verse/numbered=true}
? h
The option `full' was not declared in package `leadsheets', perhaps you
misspelled its name. Try typing? <return>? to proceed.

Could it be, that I cannot use the leadsheets-package because the update 
is from 2017, whereas the newest update of the binaries is from 2018? I 
read something like that on the net.

When I tried to use tlmgr to update everything, I got this.

tlmgr update
(running on Debian, switching to user mode!)
/usr/bin/tlmgr: Initialization failed (in setup_unix_one):
/usr/bin/tlmgr: could not find a usable xzdec.
/usr/bin/tlmgr: Please install xzdec and try again.
Couldn't set up the necessary programs.
Installation of packages is not supported.
Please report to texlive at tug.org.
tlmgr: exiting unsuccessfully (status 1).

I'm really not much into the details of all that. I'm just using texlive 
under linux mint rosa (17.3). So far it had always worked.

Thanks in advance, greetings

Phillip

From reinhard.kotucha at web.de  Fri Apr 20 23:25:23 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 20 Apr 2018 23:25:23 +0200
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <201804192208.w3JM81gF005074@freefriends.org>
References: <f24a2229-cb64-1760-09d9-1dd102e165ea@openlilylib.org>
 <201804192208.w3JM81gF005074@freefriends.org>
Message-ID: <23258.23235.170001.841328@gargle.gargle.HOWL>

On 2018-04-19 at 22:08:01 GMT, Karl Berry wrote:

 >     I still find it extremely strange that this should be "irremediable" ...
 > 
 > It is not technically "irremediable". As I commented in
 > kpathsea/elt-dirs.c more than 25 years ago, it is perfectly easy to
 > avoid the optimization of a directory having 2 links => leaf => don't
 > check symlinks. Non-Unixy systems don't have that optimization
 > possibility, for instance.
 > 
 > However, the downside of turning off the optimization is that every
 > entry of every (heretofore leaf) directory will be stat(2)d. This is an
 > expensive operation, even on today's computers, because all that data
 > won't be in the disk/cpu caches, and will get promptly thrown away.
 > 
 > Having symlinks to outside dirs seems relatively rare to me. I don't
 > like the idea of making everyone pay a price to support a rare
 > occurrence.  Creating an empty directory in a directory with symlinks
 > that should be followed seems like a reasonable workaround to me.
 > 
 > However ... I guess the counterargument is that this whole optimization
 > only happens in non-!! directories like TEXMFHOME, and those are most
 > likely small, so then it doesn't matter how much extra work the
 > searching does.
 > 
 > So, I don't know. -k

Hi Karl,
maybe it's better to drop the optimization because only TEXMFHOME is
concerned which can be easily added to TEXMFDBS by users if
performance matters.

In the past there had always been an ls-R file in TEXMFHOME and users
knew that they had to run texhash after adding a new file.  You
removed !! from TEXMFHOME when Don Knuth reported that whenever he
invoked tex, the format file was created again and again.  Removing !!
from TEXMFHOME was a quick workaround which made Don Knuth happy.  But
the actual problem was that fmtutil didn't update the ls-R file.

One of your arguments at this time was that the TEXMFHOME tree is
usually quite small and the absence of an ls-R file is acceptable.
Computers are much faster now and I'm convinced that your assumption
is still true nowadays even if optimization is turned off.

My suggestion is to turn optimization off.  Everything then still
works as before with a small loss of performance.  But if performance
really matters, users can still activate ls-R database lookup for
TEXMFHOME at any time.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From mqr.grad at gmail.com  Sat Apr 21 08:23:47 2018
From: mqr.grad at gmail.com (Eric Meng)
Date: Sat, 21 Apr 2018 14:23:47 +0800
Subject: [tex-live] bug report of bibtex
In-Reply-To: <201804200005.w3K05FQB016858@freefriends.org>
References: <201804200005.w3K05FQB016858@freefriends.org>
Message-ID: <64D85D03-B21C-4462-9FDE-373232529A39@gmail.com>

Hi Karl, 

Thank you for your reply.

Here is a minimal case attachment,

You can directly run latexmk in the source folder

Cheers

-------------- next part --------------
A non-text attachment was scrubbed...
Name: bugReport.zip
Type: application/zip
Size: 8290 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180421/81724883/attachment.zip>
-------------- next part --------------


> On 20 Apr 2018, at 8:05 am, Karl Berry <karl at freefriends.org> wrote:
> 
> Hi Eric,
> 
> Thanks for the report.
> 
>    when the output directory is specified within the working folder, 
> 
> So you're setting TEXMFOUTPUT to temp?
> 
>    this issue is not related to the value of openout_any as I tested 
> 
> It would be openin_any, if anything, but the default for that is to
> allow anything, so unless something in your environment is changing
> that, it shouldn't matter.
> 
>    If you also use relative path to specify bibliography path
> 
> Are you setting BIBINPUTS, or specifying the path in your input file?
> 
> I'm not sure offhand what is going wrong for you. Please send a runnable
> input file so I can more easily test. --thanks, karl.


From arthur.reutenauer at normalesup.org  Sat Apr 21 12:02:06 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Sat, 21 Apr 2018 12:02:06 +0200
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <23258.23235.170001.841328@gargle.gargle.HOWL>
References: <f24a2229-cb64-1760-09d9-1dd102e165ea@openlilylib.org>
 <201804192208.w3JM81gF005074@freefriends.org>
 <23258.23235.170001.841328@gargle.gargle.HOWL>
Message-ID: <20180421100206.GB453887@phare.normalesup.org>

> My suggestion is to turn optimization off.  Everything then still
> works as before with a small loss of performance.  But if performance
> really matters, users can still activate ls-R database lookup for
> TEXMFHOME at any time.

  Your conclusion may be warranted, but that?s a really bad argument.
Reversing a program?s behaviour after 25 years because ?users can
always? change their configuration is just gratuitous and almost never a
good idea.

	Best,

		Arthur

From kakuto at fuk.kindai.ac.jp  Sat Apr 21 12:12:28 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 21 Apr 2018 19:12:28 +0900
Subject: [tex-live] bug report of bibtex
In-Reply-To: <64D85D03-B21C-4462-9FDE-373232529A39@gmail.com>
References: <201804200005.w3K05FQB016858@freefriends.org>
 <64D85D03-B21C-4462-9FDE-373232529A39@gmail.com>
Message-ID: <9BEE38AE10284E21B9137175EA200770@CJ3001517A>

Dear Eric,

> Here is a minimal case attachment, ...

Here the following worked fine:

#!/bin/sh
pdflatex --output-dir=output source.tex
bibtex output/source
pdflatex --output-dir=output source.tex
pdflatex --output-dir=output source.tex

Best,
Akira


From zarniwhoop at ntlworld.com  Sun Apr 22 01:00:42 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sun, 22 Apr 2018 00:00:42 +0100
Subject: [tex-live] poppler-0.64.0 and building from source ?
Message-ID: <20180421230042.GB28416@milliways.localdomain>

Using the current svn sources, but on a system where
poppler-0.64.0 has been installed, the -newpoppler.cc files are
again inadequate for building with system poppler:

make[5]: Entering directory '/scratch/working/texlive-2018-r47463-source/texlive-build/texk/web2c'
g++ -DHAVE_CONFIG_H -I. -I../../../texk/web2c -I./w2c  -I/scratch/working/texlive-2018-r47463-source/texlive-build/texk -I/scratch/working/texlive-2018-r47463-source/texk  -I/usr/include/libpng16 -DPOPPLER_VERSION=\"0.64.0\" -I/usr/include/poppler -I../../../texk/web2c/libmd5 -I../../../texk/web2c/pdftexdir  -Wreturn-type -Wno-write-strings -O2 -march=native -MT pdftexdir/pdftosrc-pdftosrc.o -MD -MP -MF pdftexdir/.deps/pdftosrc-pdftosrc.Tpo -c -o pdftexdir/pdftosrc-pdftosrc.o `test -f 'pdftexdir/pdftosrc.cc' || echo '../../../texk/web2c/'`pdftexdir/pdftosrc.cc
../../../texk/web2c/pdftexdir/pdftosrc.cc: In function 'int main(int, char**)':
../../../texk/web2c/pdftexdir/pdftosrc.cc:112:50: error: invalid conversion from 'const char*' to 'char*' [-fpermissive]
         outname = srcName.getString()->getCString();
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
make[5]: *** [Makefile:15864: pdftexdir/pdftosrc-pdftosrc.o] Error 1

Hopefully, somebody will understand what needs to change before the
2018 release arrives.

Meanwhile, why is it that almost every new version of poppler breaks
packages that use it ?

?en
-- 
This email was written using 100% recycled letters.

From reinhard.kotucha at web.de  Sun Apr 22 02:51:03 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 22 Apr 2018 02:51:03 +0200
Subject: [tex-live] FInding locally installed packages in different
 environments
In-Reply-To: <20180421100206.GB453887@phare.normalesup.org>
References: <f24a2229-cb64-1760-09d9-1dd102e165ea@openlilylib.org>
 <201804192208.w3JM81gF005074@freefriends.org>
 <23258.23235.170001.841328@gargle.gargle.HOWL>
 <20180421100206.GB453887@phare.normalesup.org>
Message-ID: <23259.56439.981062.602144@gargle.gargle.HOWL>

On 2018-04-21 at 12:02:06 +0200, Arthur Reutenauer wrote:

 > > My suggestion is to turn optimization off.  Everything then still
 > > works as before with a small loss of performance.  But if performance
 > > really matters, users can still activate ls-R database lookup for
 > > TEXMFHOME at any time.
 > 
 >   Your conclusion may be warranted, but that?s a really bad
 > argument.  Reversing a program?s behaviour after 25 years because
 > ?users can always? change their configuration is just gratuitous
 > and almost never a good idea.

I didn't suggest to change the bavior in any way.  Omitting
optimization will degrade performance a little bit, almost no user
will notice it but confusion is avoided in certain situations.

Activating ls-R database lookup for TEXMFHOME is't new at all.  We had
TEXMFDBS = $TEXMF (whereas $TEXMF contains TEXMFHOME) until TeX Live
2007 already.

Karl's optimization increases performance when no ls-R file is present
and the TEXMFHOME tree has to be searched.  On the other hand, if an
ls-R file exists, it will be used and performance is increased
significantly, much more than whatever can be achieved by the
filesytem search optimization code in kpathsea.

Let me explain the behavior prior to TeX Live 2007.  There was no ls-R
file by default because the installer isn't aware of users and thus
cannot create files in HOME.  As Karl already mentioned, TEXMFHOME is
not a !!-directory which means that if a file is not in ls-R, a
directory search is performed.  When a user runs texhash the very
first time, an ls-R file is created and will be used by kpathsea.  If
a user adds a file but doesn't run texhash, kpathsea will scan the
filesystem.  Hence existing files are always found, but faster with an
up-to-date ls-R file.

You might wonder why I wrote most of the previous paragraph in present
tense.  The reason is that everything I described is still present in
kpathsea and texmf.cnf, the only change made in TL-2007 was to remove
TEXMFHOME from TEXMFDBS.  I'm not convinced that this was the best
choice but no user complained about the degradation of performance so
far.

We are not discussing behavior but only performance issues and the
question whether a decrease of performance is acceptable when the
optimization code is omitted.  The main problem is that the current
code confuses users and there is no way to provide a meaningful error
message.

Karl is quite conservative in respect of changes for many very good
reasons.  When I asked for replacing .zip by .tar.lzma (now .tar.xz) I
did some tests and could provide numbers.  These numbers are
predictable.  The decrease of file size is always the same and the
amount of time needed to de-compress files does not depend on anything
else but CPU speed.  Filesystem performance is negligible in this
case.

Maesuring performance of the kpathsea optimization code is almost
impossible because the filesystem is involved. Performance depends on
the physical media and thus everybody would report different numbers,
depending on whether the file system is on a rotating disk, an SD
card, a USB-stick, or even a RAM disk.  Everything is possible
nowadays and thus nothing is predictable.

The only thing which is predictable is that an ls-R database lookup is
always much more efficient than everything else.  In my previous mail
I only suggested to disable the optimization code in kpathsea.

But the more I think about it, I'm convinced that the pre-TL-2007
setup should be reinstated.  The change was made because a single user
reported a problem which nobody else could reproduce.  Nobody made the
slightest attempt to determine what actually caused the problem.

The old setup was perfect and it's a pity that it was changed for no
good reason.

Karl wrote:

 > I don't like the idea of making everyone pay a price to support a
 > rare occurrence.

Don't we pay a much higher price if database lookups are disabled by
default (TEXMFHOME removed from TEXMFDBS)?  

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From preining at logic.at  Sun Apr 22 03:33:26 2018
From: preining at logic.at (Norbert Preining)
Date: Sun, 22 Apr 2018 10:33:26 +0900
Subject: [tex-live] poppler-0.64.0 and building from source ?
In-Reply-To: <20180421230042.GB28416@milliways.localdomain>
References: <20180421230042.GB28416@milliways.localdomain>
Message-ID: <20180422013326.GB19386@bulldog.preining.info>

> Meanwhile, why is it that almost every new version of poppler breaks
> packages that use it ?

Ask the poppler maintainer, but be prepared for lots of **** in return.
He is famous for being completely ignorant in some respects.

Good example are the permanent API breakage, and then, if you want to
have some fun:
https://github.com/giddie/poppler-cairo-backend
  for info and background
https://bugs.freedesktop.org/show_bug.cgi?id=25240
  for the very enjoyable exchange with this guy.

Very disturbing that we have to depend on such a badly managed software.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at fuk.kindai.ac.jp  Sun Apr 22 05:34:40 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 22 Apr 2018 12:34:40 +0900
Subject: [tex-live] poppler-0.64.0 and building from source ?
In-Reply-To: <20180421230042.GB28416@milliways.localdomain>
References: <20180421230042.GB28416@milliways.localdomain>
Message-ID: <86FADE6BB54749E3A6B0B51F846ACA8F@CJ3001517A>

Dear Ken,

> Using the current svn sources, but on a system where
> poppler-0.64.0 has been installed, the -newpoppler.cc files are
> again inadequate for building with system poppler:

Locally fixed by type casting and I confirmed that it compiled OK by Visual Studio 2015.
I'll fix -newpoppler.cc files when TL2019/dev begins.

Best,
Akira


From kakuto at fuk.kindai.ac.jp  Sun Apr 22 05:53:39 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 22 Apr 2018 12:53:39 +0900
Subject: [tex-live] poppler-0.64.0 and building from source ?
Message-ID: <52B4F890E6C24B66B36F62F0AC5CEAAF@CJ3001517A>

Dear Ken,

> I'll fix -newpoppler.cc files when TL2019/dev begins.

Please test an attached patch: newpoppler.cc.64.diff

It was OK for Visual Studio 2015.
But I don't know it is also OK or not for Unix.

Best,
Akira
-------------- next part --------------
A non-text attachment was scrubbed...
Name: newpoppler.cc.64.diff
Type: application/octet-stream
Size: 2960 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180422/324ab222/attachment.obj>

From P.Taylor at Rhul.Ac.Uk  Sun Apr 22 18:10:55 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 22 Apr 2018 17:10:55 +0100
Subject: [tex-live] Rsync problems today
Message-ID: <911d5835-88e4-a947-18a4-2aa9432c7c5c@Rhul.Ac.Uk>

Tried to fetch a clean copy of the TeX Live 2018 pretest suite today and was met with the following errors :

> D:\TeX\Live\2018>rsync -a --delete --exclude="mactex*" ctan.ijs.si::mirror/tlpretest .
> rsync: symlink "/d/TeX/Live/2018/tlpretest/update-tlmgr-latest.exe" -> "update-tlmgr-r47457.exe" failed: Bad file number (9)
> rsync: symlink "/d/TeX/Live/2018/tlpretest/update-tlmgr-latest.exe.sha512" -> "update-tlmgr-r47457.exe.sha512" failed: Bad file numb
> er (9)
> rsync: symlink "/d/TeX/Live/2018/tlpretest/update-tlmgr-latest.exe.sha512.asc" -> "update-tlmgr-r47457.exe.sha512.asc" failed: Bad f
> ile number (9)
> rsync: symlink "/d/TeX/Live/2018/tlpretest/update-tlmgr-latest.sh" -> "update-tlmgr-r47457.sh" failed: Bad file number (9)
> rsync: symlink "/d/TeX/Live/2018/tlpretest/update-tlmgr-latest.sh.sha512" -> "update-tlmgr-r47457.sh.sha512" failed: Bad file number
> ?(9)
> rsync: symlink "/d/TeX/Live/2018/tlpretest/update-tlmgr-latest.sh.sha512.asc" -> "update-tlmgr-r47457.sh.sha512.asc" failed: Bad fil
> e number (9)

-- 
<Signature>
Philip Taylor

From P.Taylor at Rhul.Ac.Uk  Sun Apr 22 18:26:38 2018
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 22 Apr 2018 17:26:38 +0100
Subject: [tex-live] Rsync problems today
In-Reply-To: <911d5835-88e4-a947-18a4-2aa9432c7c5c@Rhul.Ac.Uk>
References: <911d5835-88e4-a947-18a4-2aa9432c7c5c@Rhul.Ac.Uk>
Message-ID: <799ac098-2b7f-d7ee-db57-7e493882c476@Rhul.Ac.Uk>



Philip Taylor wrote:

> Tried to fetch a clean copy of the TeX Live 2018 pretest suite today > and was met with the following errors :
I see I have encountered this problem previously.? At around the same date in 2017, I wrote :

> I finally overcame the problem by adding "-L -v " to the command-line > incantation -- "-L" avoided the symbolic link error (the documented > incantation would appear to assume that symbolic links are supported > on the target file-system) and "-v" allowed me to observe progress.
It would be helpful if the TeX Live pre-test instructions could make mention of the need for "-L" and the potential benefits of "-v".
Philip Taylor

From zarniwhoop at ntlworld.com  Sun Apr 22 22:22:41 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sun, 22 Apr 2018 21:22:41 +0100
Subject: [tex-live] poppler-0.64.0 and building from source ?
In-Reply-To: <52B4F890E6C24B66B36F62F0AC5CEAAF@CJ3001517A>
References: <52B4F890E6C24B66B36F62F0AC5CEAAF@CJ3001517A>
Message-ID: <20180422202241.GA27364@milliways.localdomain>

On Sun, Apr 22, 2018 at 12:53:39PM +0900, Akira Kakuto wrote:
> Dear Ken,
> 
> > I'll fix -newpoppler.cc files when TL2019/dev begins.
> 
> Please test an attached patch: newpoppler.cc.64.diff
> 
> It was OK for Visual Studio 2015.
> But I don't know it is also OK or not for Unix.
> 
> Best,
> Akira

Good news and bad news -

The good news is that pdftosrc now compiles with 0.64.0.

The bad news is that it next breaks in luatexdir/lua/lepdflib.cc

../../../texk/web2c/luatexdir/lua/lepdflib.cc: In function 'int m_EmbFile_modDate(lua_State*)':
../../../texk/web2c/luatexdir/lua/lepdflib.cc:677:35: error: invalid conversion from 'const GooString*' to 'GooString*' [-fpermissive]
     gs = ((in *) uin->d)->function();                          \
          ~~~~~~~~~~~~~~~~~~~~~~~~~^~
../../../texk/web2c/luatexdir/lua/lepdflib.cc:1302:1: note: in expansion of macro 'm_poppler_get_GOOSTRING'
 m_poppler_get_GOOSTRING(EmbFile, modDate);
 ^~~~~~~~~~~~~~~~~~~~~~~
../../../texk/web2c/luatexdir/lua/lepdflib.cc: In function 'int m_EmbFile_createDate(lua_State*)':
../../../texk/web2c/luatexdir/lua/lepdflib.cc:677:35: error: invalid conversion from 'const GooString*' to 'GooString*' [-fpermissive]
     gs = ((in *) uin->d)->function();                          \
          ~~~~~~~~~~~~~~~~~~~~~~~~~^~

?en
-- 
This email was written using 100% recycled letters.

From kakuto at fuk.kindai.ac.jp  Mon Apr 23 10:42:50 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 23 Apr 2018 17:42:50 +0900
Subject: [tex-live] poppler-0.64.0 and building from source ?
In-Reply-To: <20180421230042.GB28416@milliways.localdomain>
References: <20180421230042.GB28416@milliways.localdomain>
Message-ID: <26716C4B8F5846DAB40423CCF076AFE4@CJ3001517A>

Dear Ken,

> The bad news is that it next breaks in luatexdir/lua/lepdflib.cc

I'm using a similar patch on Windows.
Please test an attached lua-poppler0640.diff.

Best,
Akira
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lua-poppler0640.diff
Type: application/octet-stream
Size: 1458 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180423/ea6a2f76/attachment.obj>

From zarniwhoop at ntlworld.com  Mon Apr 23 20:46:48 2018
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Mon, 23 Apr 2018 19:46:48 +0100
Subject: [tex-live] poppler-0.64.0 and building from source ?
In-Reply-To: <26716C4B8F5846DAB40423CCF076AFE4@CJ3001517A>
References: <20180421230042.GB28416@milliways.localdomain>
 <26716C4B8F5846DAB40423CCF076AFE4@CJ3001517A>
Message-ID: <20180423184648.GA32472@milliways.localdomain>

On Mon, Apr 23, 2018 at 05:42:50PM +0900, Akira Kakuto wrote:
> Dear Ken,
> 
> > The bad news is that it next breaks in luatexdir/lua/lepdflib.cc
> 
> I'm using a similar patch on Windows.
> Please test an attached lua-poppler0640.diff.
> 
> Best,
> Akira

Wow, many thanks for that.

I've built 0.64.0 with them, and then gone back to older systems
with 0.63.0 and 0.62.0 and added them to the current source - those
also build fine.

Cheers

?en
-- 
This email was written using 100% recycled letters.

From alirezatalebian64 at gmail.com  Thu Apr 26 04:25:27 2018
From: alirezatalebian64 at gmail.com (Alita)
Date: Thu, 26 Apr 2018 06:55:27 +0430
Subject: [tex-live] Error
Message-ID: <CAHT34RDbqANd7eNh5ZxM=F6o7_H=Pkg_5NU0V9zKGAyjSdo=jQ@mail.gmail.com>

alireza at alireza-X550MD ~ $  tlmgr init-usertree
(running on Debian, switching to user mode!)
/usr/bin/tlmgr: Initialization failed (in setup_unix_one):
/usr/bin/tlmgr: could not find a usable xzdec.
/usr/bin/tlmgr: Please install xzdec and try again.
tlmgr: Couldn't set up the necessary programs.
Installation of packages is not supported.
Please report to texlive at tug.org.
tlmgr: user mode database already set up in
tlmgr:   /home/alireza/texmf/tlpkg/texlive.tlpdb
tlmgr: not overwriting it.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180426/2a431724/attachment.html>

From wl at gnu.org  Thu Apr 26 14:54:46 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 26 Apr 2018 14:54:46 +0200 (CEST)
Subject: [tex-live] compiling TeXLive's `patgen' only
Message-ID: <20180426.145446.2103957115320580974.wl@gnu.org>


Folks,


is there a recommended way to compile, say, `patgen' only?  I tried

  /usr/local/backup/TeXLive/Build/source/configure \
    --disable-all-pkgs \
    --enable-web2c \
    --disable-tex \
    --disable-etex-synctex \
    --disable-ptex \
    --disable-ptex-synctex \
    --disable-eptex \
    --disable-eptex-synctex \
    --disable-uptex \
    --disable-uptex-synctex \
    --disable-euptex \
    --disable-euptex-synctex \
    --disable-aleph \
    --disable-pdftex \
    --disable-pdftex-synctex \
    --disable-luatex \
    --disable-luatex53 \
    --disable-luajittex \
    --disable-xetex

but this still compiles zillions of libraries...


    Werne

From reinhard.kotucha at web.de  Thu Apr 26 15:37:11 2018
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 26 Apr 2018 15:37:11 +0200
Subject: [tex-live] Error
In-Reply-To: <CAHT34RDbqANd7eNh5ZxM=F6o7_H=Pkg_5NU0V9zKGAyjSdo=jQ@mail.gmail.com>
References: <CAHT34RDbqANd7eNh5ZxM=F6o7_H=Pkg_5NU0V9zKGAyjSdo=jQ@mail.gmail.com>
Message-ID: <23265.54791.826555.644834@gargle.gargle.HOWL>

On 2018-04-26 at 06:55:27 +0430, Alita wrote:

 > alireza at alireza-X550MD ~ $? tlmgr init-usertree
 > (running on Debian, switching to user mode!)
 > /usr/bin/tlmgr: Initialization failed (in setup_unix_one):
 > /usr/bin/tlmgr: could not find a usable xzdec.
 > /usr/bin/tlmgr: Please install xzdec and try again.
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

 > tlmgr: Couldn't set up the necessary programs.
 > Installation of packages is not supported.
 > Please report to texlive at tug.org.
 > tlmgr: user mode database already set up in
 > tlmgr:?? /home/alireza/texmf/tlpkg/texlive.tlpdb
 > tlmgr: not overwriting it.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From karl at freefriends.org  Thu Apr 26 23:55:17 2018
From: karl at freefriends.org (Karl Berry)
Date: Thu, 26 Apr 2018 21:55:17 GMT
Subject: [tex-live] compiling TeXLive's `patgen' only
In-Reply-To: <20180426.145446.2103957115320580974.wl@gnu.org>
Message-ID: <201804262155.w3QLtHEY010947@freefriends.org>

Hi Werner,

    is there a recommended way to compile, say, `patgen' only? 

No, there is no easy way to compile a single "web2c" program :(.

It's been on my list for a couple of years. Maybe I'll get to it
someday. Of course, an autopatch would be welcome :). (My idea is
nothing fancy: have a new --disable-all-web2c-programs which disables
all the individual engines and other web2c programs; and then have
explicit enables for any that are lacking.)

    I tried

What you tried looks like about the best that can be done.

(Minor, and not related to libraries, but --disable-synctex will also
avoid building the synctex library+tool, I believe.)

    but this still compiles zillions of libraries...

My understanding is that the subdirs in libs/ are configured, but not
built.  This is the way Peter wrote the stuff originally.  Without
configuring the tree as present, many complications ensue.  I've tried
some variations and nothing has really improved the situation.

To go further than that:

The pdftex repository (in branches/stable) contains a cut-down TeX Live.
It has a similar configure incantation (in build-pdftex.sh). But, and
this is the interesting part, it only has those libraries which are
actually or potentially used by pdftex (libpng poppler xpdf zlib).

The configure && make (which are synced with TeX Live) still works,
because the _KPSE_RECURSE macro (in m4/kpse-setup.m4) only adds a subdir
to the list if -x libs/SUBDIR/configure. So I suppose you could avoid
the configure by renaming the configure file, though I can't say I've
tried it.

I know none of this is the right answer, but it's what I've got. --best, karl.

From randomdsdevel at gmail.com  Fri Apr 27 02:54:02 2018
From: randomdsdevel at gmail.com (Bryce Glover)
Date: Thu, 26 Apr 2018 20:54:02 -0400
Subject: [tex-live] Interesting Web2C/Et Cetera Build Issue Related to
 Subversion Checkout State
Message-ID: <4883B343-0F01-4C36-A4D1-3737748AFB75@gmail.com>

To Whom It May Concern, 

     So it turns out that if, on OS X/macOS (I?m on v10.11.6 ?El Capitan,? if that helps any,) you set up a 50-GiB sparse ?HFS+ (Extended, Journaled, Case-Sensitive) disk image named ?Development,? mount it, and then run:  

cd /Volumes/Development
mkdir -p ./Repositories/texlive
cd ./Repositories/texlive/
svn checkout ?depth=empty ?config-option config:miscellany:use-commit-times=yes svn://tug.org/texlive <svn://tug.org/texlive> ./ # All on one line if it doesn?t show up that way.  
svn update ?parents ?depth=infinity --config-option config:miscellany:use-commit-times=yes ./branches/branch2017/ # Also similarly all on one line.  
cd ./branches/branch2017/Build/source/
mkdir -v ./Work
cd ./Work
CC=clang CXX=?clang++? ../Build TL_CONFIGURE_ARGS=?-C ?disable-all-pigs ?enable-web2c?

you eventually get to a point where:  

?
cd texk/texlive/tl_scripts && make  run-texlinks
/bin/sh: line 0: cd: texk/texlive/tl_scripts: No such file or directory
make: *** [world] Error 1
+ echo 2
?

occurs.  (I?ve also seen this when attempting to build other pieces of TeX Live, such as bibtex-x, as well, for what it?s worth.)  I recall that, when initially cloning the TeX Live repository by running:  

# Set up filesystem scaffolding like it was before any repository cloning?  
#
# You should then be inside `/Volumes/Development/Repositories/texlive/` for this.  
?
mkdir -p ./branches/branch2017
cd ./branches/branch2017/
svn checkout --depth=infinity --config-option config:miscellany:use-commit-times=yes svn://tug.org/texlive/branches/branch2017/ <svn://tug.org/texlive/branches/branch2017/> ./ # Again, all on one line for this command.  
?

and then going to build something, everything works fine (though I?ve only done things that way once.)  I wouldn?t be surprised if this working example could be reduced to just changing the Subversion command invocation(s) involved yet still reproduce what I?m seeing without doing everything inside a case-sensitive sparse disk image like I have set up, but I left the relevant context in just in case.  Maybe this has already been fixed in the upcoming TeX Live 2018??  

Both intrigued and somewhat perplexed, 
     Bryce Glover
     RandomDSdevel at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180426/70ae62fe/attachment.html>

From wl at gnu.org  Fri Apr 27 07:44:25 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 27 Apr 2018 07:44:25 +0200 (CEST)
Subject: [tex-live] compiling TeXLive's `patgen' only
In-Reply-To: <201804262155.w3QLtHEY010947@freefriends.org>
References: <20180426.145446.2103957115320580974.wl@gnu.org>
 <201804262155.w3QLtHEY010947@freefriends.org>
Message-ID: <20180427.074425.988926891121418267.wl@gnu.org>


>     is there a recommended way to compile, say, `patgen' only? 
> 
> No, there is no easy way to compile a single "web2c" program :(.
> [...]
> What you tried looks like about the best that can be done.

OK.

> (Minor, and not related to libraries, but --disable-synctex will also
> avoid building the synctex library+tool, I believe.)

Thanks, added to my script.

> The pdftex repository (in branches/stable) contains a cut-down TeX
> Live.  [...]

Interesting.  However, I'll stay with master :-)  It's not a big issue
? I was just curious.


    Werner


PS: For all guys like me who originally cloned the SVN repository
    without activating the `use-commit-times=yes' parameter in
    `.subversion/config': Remove the `Build' and `Master' directory
    trees, then say

      svn update -r BASE

    to quickly check out everything again (without accessing the
    internet) with the adjusted timestamps.


From wl at gnu.org  Fri Apr 27 07:51:29 2018
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 27 Apr 2018 07:51:29 +0200 (CEST)
Subject: [tex-live] larger arrays in patgen
Message-ID: <20180427.075129.1281227319510373268.wl@gnu.org>


Karl,


please apply the attached patch to `patgen.ch'.  We probably need that
for better German hyphenation patterns (we are still investigating).

Note I don't know the upper size limit of those arrays ? I don't mind
if the arrays (in particular `triec_size') are even larger since we
are going to add more words to our German word list.


    Werner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patgen.ch.diff
Type: text/x-patch
Size: 598 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180427/47cbbf68/attachment-0001.bin>

From werner at suse.de  Fri Apr 27 09:48:13 2018
From: werner at suse.de (Dr. Werner Fink)
Date: Fri, 27 Apr 2018 09:48:13 +0200
Subject: [tex-live] XeTeX bug #151 Segfault with 1/2/4-bit transparent
	indexed PNGs
Message-ID: <20180427074813.pa6zptx3imgwfmhj@noether>

Hi,

a user here have reported this bug and provided a patch for this one.
I had attached this to https://sourceforge.net/p/xetex/bugs/151/

Currently I can not reach the user as his mail box at RWT Aachen seems
to be full


Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 894 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20180427/412e7b88/attachment.sig>

From kakuto at fuk.kindai.ac.jp  Fri Apr 27 10:43:36 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 27 Apr 2018 17:43:36 +0900
Subject: [tex-live] XeTeX bug #151 Segfault with 1/2/4-bit
	transparentindexed PNGs
In-Reply-To: <20180427074813.pa6zptx3imgwfmhj@noether>
References: <20180427074813.pa6zptx3imgwfmhj@noether>
Message-ID: <B7F2D3709AE9476CA5C6B57AB85C1B50@CJ3001517A>

> a user here have reported this bug and provided
> a patch for this one.

Thanks. I have reported to the author of dvipdfmx.

Best,
Akira


From karl at freefriends.org  Fri Apr 27 23:42:06 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 27 Apr 2018 21:42:06 GMT
Subject: [tex-live] Interesting Web2C/Et Cetera Build Issue Related to
 Subversion Checkout State
In-Reply-To: <4883B343-0F01-4C36-A4D1-3737748AFB75@gmail.com>
Message-ID: <201804272142.w3RLg6wt021561@freefriends.org>

Hi Bryce,

    disable-all-pigs

I suppose you mean --disable-all-pkgs. There are no pig-related options
that I know of :).

    cd texk/texlive/tl_scripts && make  run-texlinks
    /bin/sh: line 0: cd: texk/texlive/tl_scripts: No such file or directory

--disable-all-packages includes --disable-texlive, meaning those TL
scripts. So that directory (texk/texlive/tl_scripts in the build dir)
will not exist in that case, it seems to me.

So I think the answer is not to run make world, since its purpose is
mostly to run that texlinks. Instead, make install-strip, meaning add
TL_TARGET=install-strip to your envvars. Or maybe
TL_TARGET="install-strip check". Or don't use Build and just run your
own configure && make; that's all Build really is.

Hope this guess isn't totally wrong ... --best, karl.

From randomdsdevel at gmail.com  Sat Apr 28 00:38:18 2018
From: randomdsdevel at gmail.com (Bryce Glover)
Date: Fri, 27 Apr 2018 18:38:18 -0400
Subject: [tex-live] Interesting Web2C/Et Cetera Build Issue Related to
	Subversion Checkout State
In-Reply-To: <201804272142.w3RLg6wt021561@freefriends.org>
References: <201804272142.w3RLg6wt021561@freefriends.org>
Message-ID: <CB0192AD-C2F3-4A4F-956F-DC2CC56CF010@gmail.com>

Dear Karl, 

> On Apr 27, 2018, at 5:42 PM, Karl Berry <karl at freefriends.org> wrote:
> 
> Hi Bryce,
> 
>    disable-all-pigs
> 
> I suppose you mean --disable-all-pkgs. There are no pig-related options that I know of :).
> 
> ?


     Whoops, guess I wasn?t keeping enough an eye out for autocorrect, the scurvy cur?  

> ?
> 
>    cd texk/texlive/tl_scripts && make  run-texlinks
>    /bin/sh: line 0: cd: texk/texlive/tl_scripts: No such file or directory
> 
> --disable-all-packages includes ?disable-texlive, meaning those TL scripts. So that directory (texk/texlive/tl_scripts in the build dir) will not exist in that case, it seems to me.
> 
> ?


     Ah, maybe I passed ?--enable-texlive? during the run that worked!  That would explain things.  

> ?
> So I think the answer is not to run make world, since its purpose is mostly to run that texlinks. Instead, make install-strip, meaning add TL_TARGET=install-strip to your envvers. Or maybe TL_TARGET=?install-strip check". Or don?t use Build and just run your own configure && make; that's all Build really is.
> 
> Hope this guess isn't totally wrong ... --best, karl.

     OK, thanks; I?ll give your suggestions a shot (if my idea doesn?t work, at least.)  

Much obliged, 
     Bryce Glover
     RandomDSdevel at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20180427/a65134db/attachment.html>

From karl at freefriends.org  Sat Apr 28 01:16:00 2018
From: karl at freefriends.org (Karl Berry)
Date: Fri, 27 Apr 2018 23:16:00 GMT
Subject: [tex-live] tl18 released
Message-ID: <201804272316.w3RNG093030271@freefriends.org>

Hi everyone - I've moved the tl18 images and other files to the public
areas on tug.org. They should begin making their way around CTAN soon.
Please give it a couple days to reach the mirrors.

There are no changes from the final pretest image.

I'm updating the web pages, etc., now.

Thanks everyone. --karl



From kakuto at fuk.kindai.ac.jp  Sat Apr 28 08:20:34 2018
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 28 Apr 2018 15:20:34 +0900
Subject: [tex-live] XeTeX bug #151 Segfault with 1/2/4-bit
	transparentindexed PNGs
Message-ID: <6E75B17DE4B54463A580964AEB1DD7B6@CJ3001517A>

> Thanks. I have reported to the author of dvipdfmx.

The author agreed the given patch. Since TeX Live 2018
has been released, I have applied the patch by Stefun in
r47469 in TeX Live svn.

Best,
Akira


From dbitouze at wanadoo.fr  Sat Apr 28 14:37:50 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 28 Apr 2018 14:37:50 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <201804272316.w3RNG093030271@freefriends.org> (Karl Berry's
 message of "Fri, 27 Apr 2018 23:16:00 GMT")
References: <201804272316.w3RNG093030271@freefriends.org>
Message-ID: <8736zfpkv5.fsf@example.com>

Le 27/04/18 ? 23h16, Karl Berry a ?crit :

> Hi everyone - I've moved the tl18 images and other files to the public
> areas on tug.org.

Many thanks for all the hard work to everybody involved!

Strangely enough, `texlive2018.iso' is smaller than `texlive2017.iso'
(3.2 GiB versus 3.4 GiB)...
-- 
Denis


From manfred at dante.de  Sat Apr 28 15:10:14 2018
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 28 Apr 2018 15:10:14 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <8736zfpkv5.fsf@example.com>
References: <201804272316.w3RNG093030271@freefriends.org>
 <8736zfpkv5.fsf@example.com>
Message-ID: <20180428151014.1ae42950@hogwart>

HI Denise,

On Sat, 28 Apr 2018 14:37:50 +0200
Denis Bitouz? <dbitouze at wanadoo.fr> wrote:

> Le 27/04/18 ? 23h16, Karl Berry a ?crit :
> 
> > Hi everyone - I've moved the tl18 images and other files to the
> > public areas on tug.org.  
> 
> Many thanks for all the hard work to everybody involved!
> 
> Strangely enough, `texlive2018.iso' is smaller than `texlive2017.iso'
> (3.2 GiB versus 3.4 GiB)...

This is because Karl tweaked it (letting out certain things) to make it
possible to get all the stuff on the TeX Collection DVD this year.

So, presumably the image would have had a size of 3.6 or 3.7GiB without
his kind intervention.

-- 
Manfred



From dbitouze at wanadoo.fr  Sat Apr 28 15:37:55 2018
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 28 Apr 2018 15:37:55 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <20180428151014.1ae42950@hogwart> (Manfred Lotz's message of
 "Sat, 28 Apr 2018 15:10:14 +0200")
References: <201804272316.w3RNG093030271@freefriends.org>
 <8736zfpkv5.fsf@example.com> <20180428151014.1ae42950@hogwart>
Message-ID: <87604bo3ik.fsf@example.com>

Hi Manfred,

Le 28/04/18 ? 15h10, Manfred Lotz a ?crit :

> This is because Karl tweaked it (letting out certain things) to make
> it possible to get all the stuff on the TeX Collection DVD this year.

I see.

> So, presumably the image would have had a size of 3.6 or 3.7GiB
> without his kind intervention.

That would still fit on a DVD but would be dangerously close to the
maximum I guess.

Thanks.
-- 
Denis


From manfred at dante.de  Sat Apr 28 16:01:22 2018
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 28 Apr 2018 16:01:22 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <87604bo3ik.fsf@example.com>
References: <201804272316.w3RNG093030271@freefriends.org>
 <8736zfpkv5.fsf@example.com> <20180428151014.1ae42950@hogwart>
 <87604bo3ik.fsf@example.com>
Message-ID: <20180428160122.500f5ae1@hogwart>

Hi Denis,

On Sat, 28 Apr 2018 15:37:55 +0200
Denis Bitouz? <dbitouze at wanadoo.fr> wrote:

> Hi Manfred,
> 
> Le 28/04/18 ? 15h10, Manfred Lotz a ?crit :
> 
> > This is because Karl tweaked it (letting out certain things) to make
> > it possible to get all the stuff on the TeX Collection DVD this
> > year.  
> 
> I see.
> 
> > So, presumably the image would have had a size of 3.6 or 3.7GiB
> > without his kind intervention.  
> 
> That would still fit on a DVD but would be dangerously close to the
> maximum I guess.

No, it wouldn't. A double layer dvd can have approx. 8.5GB which is
approx. 7.9GiB.

The TeX Collection DVD has a size of approx. 7.7 GiB. Add around 500
GiB (Karl's savings) and you have 8.2GiB which is way to much. Even if
Karl would have saved only 400GiB we were still over the edge.



-- 
Best, Manfred





From arthur.reutenauer at normalesup.org  Sat Apr 28 18:29:04 2018
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Sat, 28 Apr 2018 18:29:04 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <20180428160122.500f5ae1@hogwart>
References: <201804272316.w3RNG093030271@freefriends.org>
 <8736zfpkv5.fsf@example.com> <20180428151014.1ae42950@hogwart>
 <87604bo3ik.fsf@example.com> <20180428160122.500f5ae1@hogwart>
Message-ID: <20180428162904.GA2376681@phare.normalesup.org>

> The TeX Collection DVD has a size of approx. 7.7 GiB. Add around 500
> GiB (Karl's savings) and you have 8.2GiB which is way to much. Even if
> Karl would have saved only 400GiB we were still over the edge.

  Did you really need to wait until your second email to (fail to)
remind him that the TeX Collection DVD contains more than TeX Live?

	Arthur (who refrained from writing ?just TeX Live?)

From manfred at dante.de  Sun Apr 29 07:02:07 2018
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 29 Apr 2018 07:02:07 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <20180428162904.GA2376681@phare.normalesup.org>
References: <201804272316.w3RNG093030271@freefriends.org>
 <8736zfpkv5.fsf@example.com> <20180428151014.1ae42950@hogwart>
 <87604bo3ik.fsf@example.com> <20180428160122.500f5ae1@hogwart>
 <20180428162904.GA2376681@phare.normalesup.org>
Message-ID: <20180429070207.42964066@hogwart>

On Sat, 28 Apr 2018 18:29:04 +0200
Arthur Reutenauer <arthur.reutenauer at normalesup.org> wrote:

> > The TeX Collection DVD has a size of approx. 7.7 GiB. Add around 500
> > GiB (Karl's savings) and you have 8.2GiB which is way to much. Even
> > if Karl would have saved only 400GiB we were still over the edge.  
> 
>   Did you really need to wait until your second email to (fail to)
> remind him that the TeX Collection DVD contains more than TeX Live?
> 

This was no bad intention from my side. I just forgot to make it clear
that the TeX Collection consists of:

- TeX Live
- Mac TeX
- ProTeXt (whose base is MiKTeX)
- CTAN (leaving out stuff which is to be found in at least one of TeX
  Live, Mac Tex or ProTeXt)

-- 
Manfred

From texlive at schoepfer.info  Sun Apr 29 09:07:48 2018
From: texlive at schoepfer.info (texlive at schoepfer.info)
Date: Sun, 29 Apr 2018 09:07:48 +0200
Subject: [tex-live] tl18 released
In-Reply-To: <20180429070207.42964066@hogwart>
References: <201804272316.w3RNG093030271@freefriends.org>
 <8736zfpkv5.fsf@example.com> <20180428151014.1ae42950@hogwart>
 <87604bo3ik.fsf@example.com> <20180428160122.500f5ae1@hogwart>
 <20180428162904.GA2376681@phare.normalesup.org>
 <20180429070207.42964066@hogwart>
Message-ID: <c82a9e6bf71f463b36af63fdf67d7f78@schoepfer.info>

Hi,

maybe it was forgotton to update the source tarball also on
https://ctan.org/tex-archive/systems/texlive/Source
, as other packages seem already be synced over the ctan mirrors.

If so, this might reduce the traffic on tug.org quite a bit.

Johannes

From karl at freefriends.org  Sun Apr 29 19:22:48 2018
From: karl at freefriends.org (Karl Berry)
Date: Sun, 29 Apr 2018 17:22:48 GMT
Subject: [tex-live] tl18 released
In-Reply-To: <c82a9e6bf71f463b36af63fdf67d7f78@schoepfer.info>
Message-ID: <201804291722.w3THMmI2029254@freefriends.org>

Hi Johannes,

    https://ctan.org/tex-archive/systems/texlive/Source

You're right, I did fail to do that yesterday. I've updated the source
for that dir on tug.org now. Presumably CTAN will get updated soon.
--thanks, karl.


