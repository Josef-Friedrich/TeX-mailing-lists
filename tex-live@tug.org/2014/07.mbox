From preining at logic.at  Tue Jul  1 01:15:26 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 1 Jul 2014 08:15:26 +0900
Subject: [tex-live] several bug reports (beamer, hyperref, listings)
In-Reply-To: <k23y1dlw3dp0$.dlg@nililand.de>
References: <20140627213340.GF19555@auth.logic.tuwien.ac.at>
 <40aj219o7tfe.dlg@nililand.de>
 <20140629003721.GN19555@auth.logic.tuwien.ac.at>
 <k23y1dlw3dp0$.dlg@nililand.de>
Message-ID: <20140630231526.GR19555@auth.logic.tuwien.ac.at>

On Sun, 29 Jun 2014, Ulrike Fischer wrote:
> Yes in the final version, if as you say it did work for you then the
> change must have been quite at the end of TL13. 

Ah ok ... well, thanks for investigating!


Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From reinhard.kotucha at web.de  Tue Jul  1 01:54:11 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 1 Jul 2014 01:54:11 +0200
Subject: [tex-live] missing spell-check language in TeXworks editor
In-Reply-To: <89ECE88578D8F648A22E307DAEE88579678EB0ED@SRVUNIMBX07.uni.au.dk>
References: <CAFq3fq4He=qjc6nbeVNApKE7UfUP4VCwODKtTzX3B+pvNn5Krg@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE88579678EB0ED@SRVUNIMBX07.uni.au.dk>
Message-ID: <21425.63651.42386.417202@zaphod.ms25.net>

On 2014-06-30 at 17:03:47 +0000, Lars Madsen wrote:

 > This is the method I usually use when I help installing dictionaries
 > for students
 > 
 >   https://code.google.com/p/texworks/wiki/SpellingDictionaries
 > 
 > Basically you need a file from OpenOffice (as the have great
 > dictionaries), that file has to be decompressed (it is a zip with a
 > strange extension), and you have to copy two files to a specific
 > folder.

Assuming that TeXworks is aimed at beginners, I'm wondering whether
it's possible to make the installation of dictionaries easier.

It would be nice if a volunteer could maintain a package on CTAN
containing all dictionaries available under a proper license.

I suppose that it's possible to ship such a package with TeX Live.
The dictionaries might be large but because they contain pure text
only, the compressed .tar.xz files will be quite small.

TeX Live is supposed to work out-of-the-box.  Therefore it provides
Perl and Ghostscript for Windows.  IMO it would be nice if TeXwork's
spell checker works out-of-the-box too.  But TeX Live cannot support
anything which isn't on CTAN.

Is anybody willing to volunteer?

 > Sent from my tablet using TouchDown

Sent from my Game Boy

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From pauloney at gmail.com  Tue Jul  1 01:49:37 2014
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Mon, 30 Jun 2014 16:49:37 -0700
Subject: [tex-live] LGRx bundle
Message-ID: <CAFVhNZNYSZePVhniq=mrjBia079Z6=aRGFG-KNnMoBi_dBQpkg@mail.gmail.com>

I see that the LGRx bundle has been removed from TeXLive 2014. Is that
because Babel is superseding it right now ?

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140630/e12474e2/attachment.html>

From pauloney at gmail.com  Tue Jul  1 02:14:42 2014
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Mon, 30 Jun 2014 17:14:42 -0700
Subject: [tex-live] version of hyperrref
Message-ID: <CAFVhNZN6dzENhnATV_qt+=JaHTLCdzNNtVO2T3OmT51b2N5C=Q@mail.gmail.com>

It seems also that TeXLive 2014 has hyperrref from 2007/01/06 (v6.75l)
while the current on CTAN is 2012/11/06 (v6.83m). Any reason why this one
is kept at such an old version ?

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140630/9360ded8/attachment.html>

From daleif at imf.au.dk  Tue Jul  1 15:47:34 2014
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 1 Jul 2014 13:47:34 +0000
Subject: [tex-live] version of hyperrref
In-Reply-To: <CAFVhNZN6dzENhnATV_qt+=JaHTLCdzNNtVO2T3OmT51b2N5C=Q@mail.gmail.com>
References: <CAFVhNZN6dzENhnATV_qt+=JaHTLCdzNNtVO2T3OmT51b2N5C=Q@mail.gmail.com>
Message-ID: <89ECE88578D8F648A22E307DAEE88579678EB520@SRVUNIMBX07.uni.au.dk>

Are you 100% sure.

I get

$> kpsewhich hyperref.sty

/opt/texlive/2014/texmf-dist/tex/latex/hyperref/hyperref.sty

which says

\ProvidesPackage{hyperref}
  [2012/11/06 v6.83m %
  Hypertext links for LaTeX]



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf

________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Paulo Ney de Souza [pauloney at gmail.com]
Sent: 01 July 2014 02:14
To: tex-live at tug.org
Subject: [tex-live] version of hyperrref

It seems also that TeXLive 2014 has hyperrref from 2007/01/06 (v6.75l) while the current on CTAN is 2012/11/06 (v6.83m). Any reason why this one is kept at such an old version ?

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140701/5acc79a7/attachment.html>

From pauloney at gmail.com  Tue Jul  1 16:36:18 2014
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Tue, 1 Jul 2014 07:36:18 -0700
Subject: [tex-live] version of hyperrref
In-Reply-To: <89ECE88578D8F648A22E307DAEE88579678EB520@SRVUNIMBX07.uni.au.dk>
References: <CAFVhNZN6dzENhnATV_qt+=JaHTLCdzNNtVO2T3OmT51b2N5C=Q@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE88579678EB520@SRVUNIMBX07.uni.au.dk>
Message-ID: <CAFVhNZMU_OHqZ8nATQUuJuYVe2a0TvTU7qYrQYhiQmAR+GzS7w@mail.gmail.com>

It is my mistake! The version is current. Sorry!

Paulo Ney


On Tue, Jul 1, 2014 at 6:47 AM, Lars Madsen <daleif at imf.au.dk> wrote:

>  Are you 100% sure.
>
> I get
>
> $> kpsewhich hyperref.sty
>
> /opt/texlive/2014/texmf-dist/tex/latex/hyperref/hyperref.sty
>
> which says
>
> \ProvidesPackage{hyperref}
>   [2012/11/06 v6.83m %
>   Hypertext links for LaTeX]
>
>
>
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at imf / More information:
> http://au.dk/en/daleif at imf
>
>      ------------------------------
> *From:* tex-live [tex-live-bounces at tug.org] on behalf of Paulo Ney de
> Souza [pauloney at gmail.com]
> *Sent:* 01 July 2014 02:14
> *To:* tex-live at tug.org
> *Subject:* [tex-live] version of hyperrref
>
>   It seems also that TeXLive 2014 has hyperrref from 2007/01/06 (v6.75l)
> while the current on CTAN is 2012/11/06 (v6.83m). Any reason why this one
> is kept at such an old version ?
>
>  Paulo Ney
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140701/1af39de5/attachment.html>

From moonkid at posteo.org  Tue Jul  1 16:47:57 2014
From: moonkid at posteo.org (moonkid at posteo.org)
Date: Tue, 1 Jul 2014 16:47:57 +0200
Subject: [tex-live] [BUG] Upgrade-Description
In-Reply-To: <20140629133611.GA2074@bitmuis.thuis.internal>
References: <20140628180722.65364258D261@mail.posteo.de>
 <21423.21351.832535.772905@zaphod.ms25.net>
 <9E32CD0C-A141-460F-B3A5-0613304F90B0@wideopenwest.com>
 <21423.26591.45082.468532@zaphod.ms25.net>
 <20140629123027.GB18691@historicalmaterialism.info>
 <20140629133611.GA2074@bitmuis.thuis.internal>
Message-ID: <20140701144804.8657E25A2139@mail.posteo.de>

On 2014-06-29 15:36 Siep Kroonenberg <siepo at cybercomm.nl> wrote:
> The instructions start out with:
> 
>   We do not provide a dedicated upgrade script. This procedure is not
>   bullet-proof, or especially recommended; consider it provided as-is,
>   to be used at your own risk. It's your responsibility to understand
>   what is being done.          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>   ^^^^^^^^^^^^^^^^^^^
> 
>   If you have any doubts, please do a new installation instead of
>   blindly proceeding here.
> 
> Should this not be enough warning?

Then let me ask the other way around. Why is there such a description?
Why should someone do it this way?

by the way: There is no description on how to "deinstall" TL2013. There
is no package and no uninstall-script. Should I really "rm
-r /usr/local/texlive/2013". As a normal (nothing-knowing) user, I
wouldn't do it this way, because I don't know hat side-effects it has.
Environment-vars with this value? Links somewhere? I don't know. I am
only a user. A TL-script installed it for me, so there should be a
script for removing or a simple description/docu that says: "Yes! It is
so easy! Just 'rm -r'".

As someone here pointed out: There are different ways of thinking and
viewing something.


From zdenek.wagner at gmail.com  Tue Jul  1 16:58:55 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 1 Jul 2014 16:58:55 +0200
Subject: [tex-live] [BUG] Upgrade-Description
In-Reply-To: <20140701144804.8657E25A2139@mail.posteo.de>
References: <20140628180722.65364258D261@mail.posteo.de>
 <21423.21351.832535.772905@zaphod.ms25.net>
 <9E32CD0C-A141-460F-B3A5-0613304F90B0@wideopenwest.com>
 <21423.26591.45082.468532@zaphod.ms25.net>
 <20140629123027.GB18691@historicalmaterialism.info>
 <20140629133611.GA2074@bitmuis.thuis.internal>
 <20140701144804.8657E25A2139@mail.posteo.de>
Message-ID: <CAC1phyZfprKLqM35G8X0L7hQ=VVr0r6qnBynfqbXShXCHTZzMg@mail.gmail.com>

2014-07-01 16:47 GMT+02:00  <moonkid at posteo.org>:
> On 2014-06-29 15:36 Siep Kroonenberg <siepo at cybercomm.nl> wrote:
>> The instructions start out with:
>>
>>   We do not provide a dedicated upgrade script. This procedure is not
>>   bullet-proof, or especially recommended; consider it provided as-is,
>>   to be used at your own risk. It's your responsibility to understand
>>   what is being done.          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>>   ^^^^^^^^^^^^^^^^^^^
>>
>>   If you have any doubts, please do a new installation instead of
>>   blindly proceeding here.
>>
>> Should this not be enough warning?
>
> Then let me ask the other way around. Why is there such a description?
> Why should someone do it this way?
>
> by the way: There is no description on how to "deinstall" TL2013. There
> is no package and no uninstall-script. Should I really "rm
> -r /usr/local/texlive/2013". As a normal (nothing-knowing) user, I
> wouldn't do it this way, because I don't know hat side-effects it has.
> Environment-vars with this value? Links somewhere? I don't know. I am

TeX Live does not set any environment vars. If you have not set them
yourself, there are none. It can create symlinks. If you created them
during install, you should first remove them by tlmgr (if you do not
remove them, you will have problems later and removing dead symlinks
may be difficult for non-gurus). If you do not have symlinks, you
certainly have the executable directory listed in PATH, you have to
remove it. If you copied (or linked) fonts config to
/etc/fonts/conf.d, you have to remove it as well. And finally do rm
-rf as you wrote, of course as the same user who installed it but it
makes no harm if you remove it as root.

> only a user. A TL-script installed it for me, so there should be a
> script for removing or a simple description/docu that says: "Yes! It is
> so easy! Just 'rm -r'".
>
> As someone here pointed out: There are different ways of thinking and
> viewing something.
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From martin at oneiros.de  Tue Jul  1 17:42:19 2014
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Tue, 1 Jul 2014 17:42:19 +0200
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
Message-ID: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>

Hi,
this has bothered me for years and is still happening with TL2014:
tlmgr sometimes (too often) leaves temporary copies of
tlpkg/texlive.tlpdb around:

> l tlpkg/texlive.tlpdb*
-rw-r--r-- 1 ms users 8005610  1. Jul 17:29 tlpkg/texlive.tlpdb
-rw-r--r-- 1 ms users 9373410  1. Jul 17:32
tlpkg/texlive.tlpdb.e6d389cc61b7ce82599679dc36fe01db

This was after an upgrade (which had some network problems), but it
has happened before during normal operation.

Best
   Martin


From siepo at cybercomm.nl  Tue Jul  1 17:46:42 2014
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Tue, 1 Jul 2014 17:46:42 +0200
Subject: [tex-live] [BUG] Upgrade-Description
In-Reply-To: <20140701144804.8657E25A2139@mail.posteo.de>
References: <20140628180722.65364258D261@mail.posteo.de>
 <21423.21351.832535.772905@zaphod.ms25.net>
 <9E32CD0C-A141-460F-B3A5-0613304F90B0@wideopenwest.com>
 <21423.26591.45082.468532@zaphod.ms25.net>
 <20140629123027.GB18691@historicalmaterialism.info>
 <20140629133611.GA2074@bitmuis.thuis.internal>
 <20140701144804.8657E25A2139@mail.posteo.de>
Message-ID: <20140701154642.GA2316@bitmuis.thuis.internal>

On Tue, Jul 01, 2014 at 04:47:57PM +0200, moonkid at posteo.org wrote:
> On 2014-06-29 15:36 Siep Kroonenberg <siepo at cybercomm.nl> wrote:
> > The instructions start out with:
> > 
> >   We do not provide a dedicated upgrade script. This procedure is not
> >   bullet-proof, or especially recommended; consider it provided as-is,
> >   to be used at your own risk. It's your responsibility to understand
> >   what is being done.          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> >   ^^^^^^^^^^^^^^^^^^^
> > 
> >   If you have any doubts, please do a new installation instead of
> >   blindly proceeding here.
> > 
> > Should this not be enough warning?
> 
> Then let me ask the other way around. Why is there such a description?
> Why should someone do it this way?
> 
> by the way: There is no description on how to "deinstall" TL2013. There
> is no package and no uninstall-script. Should I really "rm

tlmgr has an option to uninstall the entire TL installation.

-- 
Siep Kroonenberg


From karl at freefriends.org  Wed Jul  2 00:07:55 2014
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 Jul 2014 22:07:55 +0000
Subject: [tex-live] LGRx bundle
In-Reply-To: <CAFVhNZNYSZePVhniq=mrjBia079Z6=aRGFG-KNnMoBi_dBQpkg@mail.gmail.com>
Message-ID: <201407012207.s61M7tBX007713@freefriends.org>

Hi Paulo,

    I see that the LGRx bundle has been removed from TeXLive 2014. Is
    that because Babel is superseding it right now ?

I removed it from TL when it moved to /obsolete on CTAN; that's our
usual procedure.

I asked the lgrx maintainer (Guenter Milde) about it when it happened,
and he said that the functionality is now available in (I think)
babel-greek, as you guessed.  And that it generally suffices to replace
  \usepackage[LGRx,T1]{fontenc}
with
  \usepackage[LGR,T1]{fontenc}
(if needed).

If you want more info, best to write Guenter directly.

Karl


From preining at logic.at  Wed Jul  2 00:42:50 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 Jul 2014 07:42:50 +0900
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
In-Reply-To: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
Message-ID: <20140701224250.GJ19555@auth.logic.tuwien.ac.at>

On Tue, 01 Jul 2014, Martin Schr?der wrote:
> this has bothered me for years and is still happening with TL2014:
> tlmgr sometimes (too often) leaves temporary copies of
> tlpkg/texlive.tlpdb around:

These are *not* temporary copies ;-)

This is a saved version of the remote db, that is reused in case
there have been no changes. Like with tlcontrib there aren't
too many.

tlmgr first downloads the sha256 hash of the remote tlpdb, if that
didn't change, it reuses the already saved tlpdb instead of 
redownloading it.

Does that suffice for an explanation?

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------



From martin at oneiros.de  Wed Jul  2 01:04:22 2014
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Wed, 2 Jul 2014 01:04:22 +0200
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
In-Reply-To: <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
 <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
Message-ID: <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>

2014-07-02 0:42 GMT+02:00 Norbert Preining <preining at logic.at>:
> Does that suffice for an explanation?

Yes. :-)
So one copy remaining is o.k.?

Best
   Martin


From karl at freefriends.org  Wed Jul  2 01:31:19 2014
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 Jul 2014 23:31:19 +0000
Subject: [tex-live] [BUG] Upgrade-Description
In-Reply-To: <20140628180722.65364258D261@mail.posteo.de>
Message-ID: <201407012331.s61NVJlm012424@freefriends.org>

Sorry I was not able to reply earlier in this thread.

In short, I've made a variety of small tweaks to the text, but the basic
attitude of that page is not going to change.

More replies ...

    Why is there such a description?

Because the question was repeatedly asked (over and over :) until we
provided it.  (When we could; it's not always possible to do the
"upgrade".)

    Why should someone do it this way?

The reasons I have seen advanced are: not wanting to download a gb or so
(maybe less; the material that hasn't changed between the releases), and
not spending a few bucks on a dvd.  I'm probably forgetting something.

I can understand how you could have gotten to that page just because you
had TL13 and wanted TL14.  I've tried to make it (even) clearer that
this "upgrade" method is an ugly hack that is not intended as the
standard method for getting the new TL.

    There is no description on how to "deinstall" TL2013.

It was intentional.  Generally speaking, we don't want people to
deinstall old versions, since there can always be unanticipated future
problems with documents that no longer run.

But in this case, ok, I added a final item about tlmgr uninstall.

    As someone here pointed out: There are different ways of thinking and
    viewing something.

Certainly.  All the more reason not to expect a single short web page to
answer every question that arises as they occur ...


haines> I believe it is never inappropriate to look at directions critically,

I agree, in general.

    You have to insert yourself into the mental world of someone else,

I am well aware :).  The unresolvable issue with documentation is that
different people have different expectations (aka mental worlds) and
therefore it is impossible to write instructions that satisfy everyone.
For example, many people think The TeXbook is great, and many others
can't learn a thing from it.  Knuth never expected everyone to be happy
with it -- that's why different manuals are a good thing.  

Anyway, in the present case, believe it or not, I carefully considered
every word on that page when I wrote it and in the updates since, and
almost all the purported omissions that have been pointed out are
intentional, precisely so that the instructions make as few assumptions
as possible.

    A description of what the command does would be
    comforting to the user.

Maybe, but this page is not about explaining basic Unix constructs, or
basic TL commands.  If a person needs that level of explanation to be
"comfortable", they shouldn't be following these instructions.  Besides,
I don't want people to be comfortable doing this upgrade process; they
should feel distinctly *un*comfortable, because it's a dangerous and
not-recommended business.

    Unfortutely, /web2c/updmap.cfg is
    not in that directory but instead is in /usr/local/texlive/texmf-local/.

As far as I have seen, the updmap.cfg for main TeX Live is not created
in TEXMFLOCAL by default.  I admit that nearly everything about
updmap.cfg is inherently confusing, but again, this page isn't going to
go into all that.  There are other places that do.  I do need to make
some more experiments here ...

best,
karl


From preining at logic.at  Wed Jul  2 02:15:37 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 Jul 2014 09:15:37 +0900
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
In-Reply-To: <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
 <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
 <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
Message-ID: <20140702001537.GL19555@auth.logic.tuwien.ac.at>

On Wed, 02 Jul 2014, Martin Schr?der wrote:
> So one copy remaining is o.k.?

Martin, these are not copies of the same. the SOMETHING part is the
has of the URL used as location string. So each different SOMETHING
is for a different location.

Of course, if you remove some repository, the tlpdb remains - could
be fixed at some point ... yes ...

Also, simply removing all of the .SOMETHING does not hurt - they will
be regenerated ;-)

(Maybe I should put them into texmf-var ....)

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------



From preining at logic.at  Wed Jul  2 02:19:41 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 Jul 2014 09:19:41 +0900
Subject: [tex-live] [BUG] Upgrade-Description
In-Reply-To: <201407012331.s61NVJlm012424@freefriends.org>
References: <20140628180722.65364258D261@mail.posteo.de>
 <201407012331.s61NVJlm012424@freefriends.org>
Message-ID: <20140702001941.GM19555@auth.logic.tuwien.ac.at>

On Tue, 01 Jul 2014, Karl Berry wrote:
> As far as I have seen, the updmap.cfg for main TeX Live is not created
> in TEXMFLOCAL by default.  I admit that nearly everything about

It is created in TEXMFDIST, each tree has its *own* updmap.cfg.

> updmap.cfg is inherently confusing, but again, this page isn't going to
> go into all that.  There are other places that do.  I do need to make
> some more experiments here ...

http://www.preining.info/blog/2013/07/internals-of-tex-live-2-multi-updmap/

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From reinhard.kotucha at web.de  Wed Jul  2 03:29:44 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 2 Jul 2014 03:29:44 +0200
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
In-Reply-To: <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
 <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
 <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
Message-ID: <21427.24712.33425.209570@zaphod.ms25.net>

On 2014-07-02 at 01:04:22 +0200, Martin Schr?der wrote:

 > 2014-07-02 0:42 GMT+02:00 Norbert Preining <preining at logic.at>:
 > > Does that suffice for an explanation?
 > 
 > Yes. :-)
 > So one copy remaining is o.k.?

This doesn't hurt me because the amount of such files is quite small.

However, whenever I run 'tlmgr update' a temporary file is created in
$TMPDIR.  It's not removed if it's not needed anymore.  It's no
problem either but IMO it's good practice to remove temporary files if
they aren't needed anymore.

For getnonfreefonts I wrote a signal handler which supports signals
supported by Unix and Windows.  I derived the Windows stuff from the
sources of the Windows C runtime library (MSVCRT.DLL).

I could add the signal handler to TLUtils.pm but in order to test it I
have to know *where* in tlmgr these temporary files are created.  I
made several attempts to find it out but tlmgr loads many packages and
searching for the filename is impossible because it's a random number:

  $ cat /tmp/R42fZc7qcs
  52df45708a2dcc1ef0764100b1c8eb0a  texlive.tlpdb

Norbert, can you give me a hint *where* in tlmgr these files are
created?

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------



From usenet at siart.de  Wed Jul  2 10:12:02 2014
From: usenet at siart.de (Uwe Siart)
Date: Wed, 2 Jul 2014 10:12:02 +0200
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
 <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
 <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
 <20140702001537.GL19555@auth.logic.tuwien.ac.at>
Message-ID: <84k37w2n8t.fsf@siart.de>

Norbert Preining <preining at logic.at> writes:

> (Maybe I should put them into texmf-var ....)

These files are specific to TL and their purpose is package management.
For that reason I think that /tlpkg is the perfect place for them. No
need to revise, IMO.

-- 
Uwe



From moonkid at posteo.org  Wed Jul  2 10:51:32 2014
From: moonkid at posteo.org (moonkid at posteo.org)
Date: Wed, 2 Jul 2014 10:51:32 +0200
Subject: [tex-live] [BUG] Upgrade-Description
In-Reply-To: <20140628180722.65364258D261@mail.posteo.de>
References: <20140628180722.65364258D261@mail.posteo.de>
Message-ID: <20140702085143.9A9AA25A3DDD@mail.posteo.de>

On 2014-06-28 20:07 <moonkid at posteo.org> wrote:
> The description how to upgrade from 2013 to 2014 is buggy.

Thank you very much to all of you.
As I can see my report improved something.
-- 
<http://dontbubble.us/>


From preining at logic.at  Wed Jul  2 13:24:42 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 Jul 2014 20:24:42 +0900
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
In-Reply-To: <84k37w2n8t.fsf@siart.de>
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
 <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
 <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
 <20140702001537.GL19555@auth.logic.tuwien.ac.at> <84k37w2n8t.fsf@siart.de>
Message-ID: <20140702112442.GO19555@auth.logic.tuwien.ac.at>

Hi Uwe,

> > (Maybe I should put them into texmf-var ....)
> 
> These files are specific to TL and their purpose is package management.
> For that reason I think that /tlpkg is the perfect place for them. No
> need to revise, IMO.

Well, it would be TEXMFSYSVAR/tlpkg which is also TL specific and
which is as good as TEXMFMAIN.

The reason is that these files are dispensable data, they will
be recreated if necessary, so conceptually it would make sense
to have them in TEXMFSYSVAR.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From preining at logic.at  Wed Jul  2 13:26:13 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 Jul 2014 20:26:13 +0900
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
In-Reply-To: <21427.24712.33425.209570@zaphod.ms25.net>
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
 <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
 <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
 <21427.24712.33425.209570@zaphod.ms25.net>
Message-ID: <20140702112613.GP19555@auth.logic.tuwien.ac.at>

On Wed, 02 Jul 2014, Reinhard Kotucha wrote:
> However, whenever I run 'tlmgr update' a temporary file is created in
> $TMPDIR.  It's not removed if it's not needed anymore.  It's no
> problem either but IMO it's good practice to remove temporary files if
> they aren't needed anymore.
> 
> For getnonfreefonts I wrote a signal handler which supports signals
> supported by Unix and Windows.  I derived the Windows stuff from the
> sources of the Windows C runtime library (MSVCRT.DLL).

Please send me the code and I will see how to include it.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From benoit.rivet.maths at gmail.com  Wed Jul  2 22:21:00 2014
From: benoit.rivet.maths at gmail.com (Benoit RIVET)
Date: Wed, 2 Jul 2014 22:21:00 +0200
Subject: [tex-live] Bug with lualatex
Message-ID: <7C85BD95-5BC2-446C-B9C2-740E3B96A35B@gmail.com>

The following minimal example compiles fine with pdflatex, but aborts with lualatex (with MacTex 2014).

\documentclass{article}
\usepackage{amsmath}
\newcommand{\bug}[1]{\operatorname{fl}\left(#1\vphantom{\big)}\right)}

\begin{document}
$ \bug{P} $
\end{document}

Here is the associated log file :

This is LuaTeX, Version beta-0.79.1 (TeX Live 2014) (rev 4971) 
 restricted \write18 enabled.
(./td-16.tex
LaTeX2e <2014/05/01>
Babel <3.9k> and hyphenation patterns for 78 languages loaded.
(/usr/local/texlive/2014/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(/usr/local/texlive/2014/texmf-dist/tex/latex/base/size10.clo))
(/usr/local/texlive/2014/texmf-dist/tex/latex/amsmath/amsmath.sty
For additional information on amsmath, use the `?' option.
(/usr/local/texlive/2014/texmf-dist/tex/latex/amsmath/amstext.sty
(/usr/local/texlive/2014/texmf-dist/tex/latex/amsmath/amsgen.sty))
(/usr/local/texlive/2014/texmf-dist/tex/latex/amsmath/amsbsy.sty)
(/usr/local/texlive/2014/texmf-dist/tex/latex/amsmath/amsopn.sty)) (./td-16.aux
)Assertion failed: (varmem[(p)].hh.v.RH!=null), function make_ord, file ../../../texk/web2c/luatexdir/tex/mlist.w, line 2542.
Abort




From kakuto at fuk.kindai.ac.jp  Wed Jul  2 23:54:45 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 3 Jul 2014 06:54:45 +0900
Subject: [tex-live] Bug with lualatex
In-Reply-To: <7C85BD95-5BC2-446C-B9C2-740E3B96A35B@gmail.com>
References: <7C85BD95-5BC2-446C-B9C2-740E3B96A35B@gmail.com>
Message-ID: <F0B6DD6792C64519AE9B28202BC6E042@CJ3001517A>

Dear Benoit,

> The following minimal example compiles fine with pdflatex,
> but aborts with lualatex (with MacTex 2014).
> 
> \documentclass{article}
> \usepackage{amsmath}
> \newcommand{\bug}[1]{\operatorname{fl}\left(#1\vphantom{\big)}\right)}
> 
> \begin{document}
> $ \bug{P} $
> \end{document}
> 
> Here is the associated log file :

Confirmed.  It had been fixed by Taco in
the LuaTeX svn trunk.

Best,
Akira



From reinhard.kotucha at web.de  Thu Jul  3 00:26:00 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 3 Jul 2014 00:26:00 +0200
Subject: [tex-live] tlmgr leaves texlive.tlpdb.SOMETHING
In-Reply-To: <20140702112613.GP19555@auth.logic.tuwien.ac.at>
References: <CAP7DCDdqP4Q0ky7rifJxO+kf2iqZTty5jMZ7T3Oy3HfPLrT3YA@mail.gmail.com>
 <20140701224250.GJ19555@auth.logic.tuwien.ac.at>
 <CAP7DCDe9ZKPxCW9cxiY95JWr4b2Uet--93KHKqp_t_D_A2iH7w@mail.gmail.com>
 <21427.24712.33425.209570@zaphod.ms25.net>
 <20140702112613.GP19555@auth.logic.tuwien.ac.at>
Message-ID: <21428.34552.231465.34300@zaphod.ms25.net>

On 2014-07-02 at 20:26:13 +0900, Norbert Preining wrote:

 > On Wed, 02 Jul 2014, Reinhard Kotucha wrote:

 >> However, whenever I run 'tlmgr update' a temporary file is
 >> created in $TMPDIR.  It's not removed if it's not needed anymore.
 >> It's no problem either but IMO it's good practice to remove
 >> temporary files if they aren't needed anymore.
 >> 
 >> For getnonfreefonts I wrote a signal handler which supports
 >> signals supported by Unix and Windows.  I derived the Windows
 >> stuff from the sources of the Windows C runtime library
 >> (MSVCRT.DLL).
 > 
 > Please send me the code and I will see how to include it.

-------------------------------------------------------
# Create a list of signals
sub signals { 
  my @signals;
  my @common_signals=qw(INT ILL FPE SEGV TERM ABRT);
  my @signals_Unix=qw(QUIT BUS PIPE);
  my @signals_W32=qw(BREAK);

  if (win32) {
    @signals=(@common_signals, @signals_W32);
  } else {
    @signals=(@common_signals, @signals_Unix);
  }
  return @signals;
}


# The actual signal handler.
sub remove_tmp_files {
  # put your unlink/rmdir code here
}


# install signal handlers
foreach my $signal (signals()) { 
  $SIG{"$signal"}=\&remove_tmp_files;
}


# Delete temporary files when the program exits normally.
# You can do this either when the files are not needed
# anymore or when the script exits.  The code below behaves
# like atexit() in C.

END {
  remove_tmp_files();
}
-------------------------------------------------------

I recommend to put the definition of signals() into TLUtils.pm so that
it can be used by other scripts too.  When you port fmtutil to Perl, I
suppose that you want to create format files within a temporary
directory and overwrite the existing files only if the new ones are
created successfully.  AFAIK this is what fmtutil and mktexlsr do ATM.

BTW, I recommend to prefix temporary files with the name of the
program which created them.  For instance "tlmgr-J22DbpskXl" instead
of "J22DbpskXl".  If many temporary files are created (by fmtutil, for
example) it's better to create a directory "$TMPDIR/<progname>/".
This recommendation is not tlmgr- or TeX Live- specific, it would be
nice if *all* programs follow this convention.

Then such files can be removed conveniently:

 $ rm $TMPDIR/tlmgr-*  
 $ rm -rf $TMPDIR/fmtutil  

It's best, of course, if programs delete their temporary files
themselves when they are not needed anymore.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From Klaus+texlivelist at Ethgen.ch  Thu Jul  3 19:23:57 2014
From: Klaus+texlivelist at Ethgen.ch (Klaus Ethgen)
Date: Thu, 3 Jul 2014 18:23:57 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
Message-ID: <20140703172352.GA2397@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Hi,

I was pointed to this list to report the following Bug. Please put me in
Cc as I am not subscribet to the list at the moment.

I have all my filesystem and environment in latin1. (LANG + LC_* set to
de_DE and all files using latin1)

When I have a LaTeX file that has a German umlaut in file name the
following works:
   > pdflatex ???.tex
   ...

When I use lualatex I get the following:
   > lualatex ???.tex
   This is LuaTeX, Version beta-0.79.1 (TeX Live 2014/Debian) (rev 4971) 
    restricted \write18 enabled.
   ! String contains an invalid utf-8 sequence.
   <*>
    ???.tex
   ?

And then waiting for input.

Even worse is xelatex I get a segementation fault.

There seems to be no way for me to use lualatex or xelatex in this case.

There is no different from the charset used on command line and
filesystem. So this should work like it does with pdflatex.

Regards
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTtZGoAAoJEKZ8CrGAGfas/8QL+wXeUyAYjYxbdHgej8wX/xay
kwkNx/pFeDtFlsz0oDxQAPEhDwrdZa21vln/yXsHop5UDfcpsjxaBgehk9Ok1OPY
ocLAt1MHYjoZUHXyF6TwyT5HpnGDzi95G+RDw/6PhPGQKKfzjM9zwHIFqvqahTs/
LVQRyHdK3oD1iLF2mx4d+uafyXgJOnLMOYsrCFF/FoT9jq4VZ593xcVstqUBR7sG
5Tvj73ObMTAPyxsYNuYfr/wnbgyWXaVQdF1EfLhsS9n+AgW2Sljkd9/Gn9yZwF+t
7h8sVQaUUYUrSjwmSNgwrpV3fzGzonXL4mRwCtDXnkVZ5MMGrFBUEu6PGigpbYDd
U3JYUcLB1CDpsm3TLRJYim/2mDIMk3SfpCSNsGYfnPNNssRW6dZo8aCRNU+loiUL
9dWeCxdgIfp8B68Gh/zZj5U7jnGXGtenPs5PYnaXkE5gekjuNQB/PDQQDo1e1O4r
nZbChyDyJ4gT4006FvrJT7WcL1F3ASmOSGqEfMG0GQ==
=GO8k
-----END PGP SIGNATURE-----



From zdenek.wagner at gmail.com  Fri Jul  4 00:46:38 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 4 Jul 2014 00:46:38 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140703172352.GA2397@ikki.ethgen.ch>
References: <20140703172352.GA2397@ikki.ethgen.ch>
Message-ID: <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>

2014-07-03 19:23 GMT+02:00 Klaus Ethgen <Klaus+texlivelist at ethgen.ch>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA512
>
> Hi,
>
> I was pointed to this list to report the following Bug. Please put me in
> Cc as I am not subscribet to the list at the moment.
>
> I have all my filesystem and environment in latin1. (LANG + LC_* set to
> de_DE and all files using latin1)
>
> When I have a LaTeX file that has a German umlaut in file name the
> following works:
>    > pdflatex ???.tex
>    ...
>
> When I use lualatex I get the following:
>    > lualatex ???.tex
>    This is LuaTeX, Version beta-0.79.1 (TeX Live 2014/Debian) (rev 4971)
>     restricted \write18 enabled.
>    ! String contains an invalid utf-8 sequence.
>    <*>
>     ???.tex
>    ?
>
Lualatex is right, umlaut characters in latin1 are invalid sequences
in utf-8 but both luatex and xetex work internally in unicode. I am
not sure whether it is possible to change interaction with file system
encoding easily. Anyway, many years ago whe I did not use utf-8 in
Linux, such file name did not work even in OpenOffice.

> And then waiting for input.
>
> Even worse is xelatex I get a segementation fault.
>
> There seems to be no way for me to use lualatex or xelatex in this case.
>
> There is no different from the charset used on command line and
> filesystem. So this should work like it does with pdflatex.
>
> Regards
>    Klaus
> - --
> Klaus Ethgen                              http://www.ethgen.ch/
> pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
> Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1
>
> iQGcBAEBCgAGBQJTtZGoAAoJEKZ8CrGAGfas/8QL+wXeUyAYjYxbdHgej8wX/xay
> kwkNx/pFeDtFlsz0oDxQAPEhDwrdZa21vln/yXsHop5UDfcpsjxaBgehk9Ok1OPY
> ocLAt1MHYjoZUHXyF6TwyT5HpnGDzi95G+RDw/6PhPGQKKfzjM9zwHIFqvqahTs/
> LVQRyHdK3oD1iLF2mx4d+uafyXgJOnLMOYsrCFF/FoT9jq4VZ593xcVstqUBR7sG
> 5Tvj73ObMTAPyxsYNuYfr/wnbgyWXaVQdF1EfLhsS9n+AgW2Sljkd9/Gn9yZwF+t
> 7h8sVQaUUYUrSjwmSNgwrpV3fzGzonXL4mRwCtDXnkVZ5MMGrFBUEu6PGigpbYDd
> U3JYUcLB1CDpsm3TLRJYim/2mDIMk3SfpCSNsGYfnPNNssRW6dZo8aCRNU+loiUL
> 9dWeCxdgIfp8B68Gh/zZj5U7jnGXGtenPs5PYnaXkE5gekjuNQB/PDQQDo1e1O4r
> nZbChyDyJ4gT4006FvrJT7WcL1F3ASmOSGqEfMG0GQ==
> =GO8k
> -----END PGP SIGNATURE-----
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From Klaus+texlivelist at ethgen.ch  Fri Jul  4 01:08:42 2014
From: Klaus+texlivelist at ethgen.ch (Klaus Ethgen)
Date: Fri, 4 Jul 2014 00:08:42 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
Message-ID: <20140703230840.GA23020@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Hi,

Am Do den  3. Jul 2014 um 23:46 schrieb Zdenek Wagner:
> > I was pointed to this list to report the following Bug. Please put me in
[Bug in filesystem code]
> Lualatex is right, umlaut characters in latin1 are invalid sequences

Thats true. While latin1 can include every possible character, UTF-8
cannot. (possible as possible to have on the wire)

> in utf-8 but both luatex and xetex work internally in unicode. I am
> not sure whether it is possible to change interaction with file system
> encoding easily.

Why converting the filename at all? The file name is the same on command
line and on the file system. So without any reencoding everything would
be fine.

> Anyway, many years ago whe I did not use utf-8 in Linux, such file
> name did not work even in OpenOffice.

I never had that problems with latin1 (except with only few software
like luatex). But I had many problems in past with trying to use UTF-8.
However, that personal stuff is good to know but does not help in this
situation.

Fact is that even software that uses UTF-8 (or other unicode) internal,
work well in my environment. (Examples: Libreoffice, Gimp, Geeqie, ...
(Geeqie, I am one of the people working on it)) So it must be possible
to do that in lualatex or xetex too.

I did a fast divein to the lualatex code but did not find the current
entrypoint to fix that. There are many indirections around filesystem
code, that I do not know why it is done this way.

Regards
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTteJ3AAoJEKZ8CrGAGfasjCML/jZVlJ3p3Gl1nbquiKI1pX9F
mEntQzwQz9P26Cs8/CHH5UCQAl/e4btrGnrBNdFSk8vvxb4t0fNAv7YCTBUZocZU
u3dRAUk1JYnevdVRrNj07IWrmVHhUy9qACbZkhqYJ76MEGAVfgt7yHdFh5LVlOKw
Mr+do+piOVTzPcStq9gWtlaemR1ipiyFBWoZx59dK52YGxF6HHWF8y0IO6KON3ck
zPHbkrex1bUCl58vy7GY/KV+DH3q4KqQl2MTRR3VtIFWFc5qtcoZUkwPDF5/wASH
oZn1g+hmSyANQD8OvdpzBDgkCg3umUic4KW7pg1pHk8IW5AkHAC3quljiWOCFHPn
DivdFFJMMdwZbalKWP8iO0IHzu2v9Vx5zhDgv9qEyqHLzQkLFTG+LIVX7vac6gku
HPIIQh9bCNIzVqYnx2MPGH/g6O0Z5KGBaVctSen/MdLAx87X16DQEHH++K76iWsZ
HyN0rAS1n3lEHvqDjMbWZKXviAygyZPt4C2/mBg/eQ==
=JTfs
-----END PGP SIGNATURE-----


From reinhard.kotucha at web.de  Fri Jul  4 03:17:29 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 4 Jul 2014 03:17:29 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140703230840.GA23020@ikki.ethgen.ch>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
Message-ID: <21430.169.788639.272181@zaphod.ms25.net>

On 2014-07-04 at 00:08:42 +0100, Klaus Ethgen wrote:

 > Am Do den  3. Jul 2014 um 23:46 schrieb Zdenek Wagner:
 > > > I was pointed to this list to report the following Bug. Please put me in
 > [Bug in filesystem code]
 > > Lualatex is right, umlaut characters in latin1 are invalid sequences
 > 
 > Thats true. While latin1 can include every possible character, UTF-8
 > cannot. (possible as possible to have on the wire)

You misunderstood.  The opposite is true.  UTF-8 (Unicode) supports
all characters, Latin1 is a simple 8-bit encoding which supports only
Western European languages (except French).

UTF-8 is the encoding of the future because it supports all languages
used today.  This is the reason why XeTeX and LuaTeX exist at all.

When I took over maintenance of VnTeX my OS still used Latin1.  It was
a pain!  I then switched to UTF-8 and everything worked fine.

I must admit that it was easy to do the change in my case because I
avoided non-ASCII characters in file-names in the past.  Nowadys (with
UTF-8) I don't hesitate to use Russian or Korean characters in file or
directory names at all.

IMO all these national ISO-2022/ISO-8859 encodings are archaic.  The
future is UTF-8.

 > > in utf-8 but both luatex and xetex work internally in unicode. I
 > > am not sure whether it is possible to change interaction with
 > > file system encoding easily.
 > 
 > Why converting the filename at all? The file name is the same on
 > command line and on the file system. So without any reencoding
 > everything would be fine.

It's not always the case.  A German Windows is using CP1252 on the
command line and UTF-16 internally for file names.  It's a pain.

 > > Anyway, many years ago whe I did not use utf-8 in Linux, such file
 > > name did not work even in OpenOffice.

Yes, AFAIK OpenOffice gratefully supports UTF-8.  You should have
configured your file system to use UTF-8.  This is the default for
years (on Linux and OS/X, at least).  Windows always lags 20..30 years
behind and still insists on CP1252 (CP850 on the command line) for
German and similar idiocies for other languages.

 > I never had that problems with latin1 (except with only few software
 > like luatex). But I had many problems in past with trying to use UTF-8.
 > However, that personal stuff is good to know but does not help in this
 > situation.

But now you have problems with Latin1.  The reason is that you still
insist on archaic encodings like Latin1 while the rest of the world is
striving towards Unicode.  I strongly recommend to switch to UTF-8
completely.  If you're on Linux or OS/X, simply stick with the defaults.

 > Fact is that even software that uses UTF-8 (or other unicode) internal,
 > work well in my environment. (Examples: Libreoffice, Gimp, Geeqie, ...
 > (Geeqie, I am one of the people working on it)) So it must be possible
 > to do that in lualatex or xetex too.

I don't know what you want to achieve.  You said:

 > While latin1 can include every possible character, UTF-8 cannot.

This is definitely wrong.  The opposite is true.

  http://www.unicode.org/standard/WhatIsUnicode.htm


Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From preining at logic.at  Fri Jul  4 04:50:28 2014
From: preining at logic.at (Norbert Preining)
Date: Fri, 4 Jul 2014 11:50:28 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <21430.169.788639.272181@zaphod.ms25.net>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>
Message-ID: <20140704025028.GE19555@auth.logic.tuwien.ac.at>

On Fri, 04 Jul 2014, Reinhard Kotucha wrote:
>  > Thats true. While latin1 can include every possible character, UTF-8
>  > cannot. (possible as possible to have on the wire)
> 
> You misunderstood.  The opposite is true.  UTF-8 (Unicode) supports

I guess what he meant was related to "byte sequences that can be
interpreted as character".

With UTF8 you might have a byte sequence that is not an UTF8 entity,
as he showed.

But this is a problem in all directions ;-)

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From news3 at nililand.de  Fri Jul  4 09:33:18 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 4 Jul 2014 09:33:18 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>
Message-ID: <wvrp5cr1abvl.dlg@nililand.de>

Am Fri, 4 Jul 2014 03:17:29 +0200 schrieb Reinhard Kotucha:

>>> Lualatex is right, umlaut characters in latin1 are invalid sequences
 
>  > Thats true. While latin1 can include every possible character, UTF-8
>  > cannot. (possible as possible to have on the wire)
 
> You misunderstood.  The opposite is true.  UTF-8 (Unicode) supports
> all characters, Latin1 is a simple 8-bit encoding which supports only
> Western European languages (except French).

I think he means that in an utf8 encoded file some byte combinations
are not allowed. 

But the main question is why lualatex and xelatex in TeXLive can't
handle (probably only non-utf8) file names with non-ascii chars *on
the terminal*. I can reproduce his problem on Win7:

 > lualatex ???.tex
   This is LuaTeX, Version beta-0.79.1 (TeX Live 2014/W32TeX) (rev
4971)
 restricted \write18 enabled.
! String contains an invalid utf-8 sequence.

and then lualatex can't find the file.

> xelatex ??? -> crash.

It is not something in the lualatex format: I get the same error
message with luatex --ini. 

In miktex there is no problem: The files are found. Also e.g. a
\jobname in the document works correctly and -- with lualatex and
xelatex and an utf8 encoded document -- I can also use \input{???}. 


I never use non-ascii chars in file names  -- I don't want to spent
my time to find out how to pass (and use) such names to external
tools or on other computers -- but imho a standalone luatex should
be able to communicate with the OS without errors and \openin etc
should work.  


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/




From zdenek.wagner at gmail.com  Fri Jul  4 10:32:33 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 4 Jul 2014 10:32:33 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <wvrp5cr1abvl.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>	<wvrp5cr1abvl.dlg@nililand.de>
Message-ID: <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>

2014-07-04 9:33 GMT+02:00 Ulrike Fischer <news3 at nililand.de>:
> Am Fri, 4 Jul 2014 03:17:29 +0200 schrieb Reinhard Kotucha:
>
>>>> Lualatex is right, umlaut characters in latin1 are invalid sequences
>
>>  > Thats true. While latin1 can include every possible character, UTF-8
>>  > cannot. (possible as possible to have on the wire)
>
>> You misunderstood.  The opposite is true.  UTF-8 (Unicode) supports
>> all characters, Latin1 is a simple 8-bit encoding which supports only
>> Western European languages (except French).
>
> I think he means that in an utf8 encoded file some byte combinations
> are not allowed.
>
> But the main question is why lualatex and xelatex in TeXLive can't
> handle (probably only non-utf8) file names with non-ascii chars *on
> the terminal*. I can reproduce his problem on Win7:
>
The program has to use a system call to find the filesystem encoding
and convert the filename from the filesystem encoding to the program's
internal encoding or vice versa. I am not sure whether it can be done
in lua but definitely not on macro level. You can do it only on 8-bit
TeX engine because it does not understand utf-8 and any byte can be
made valid (by changing \catcode).

>  > lualatex ???.tex
>    This is LuaTeX, Version beta-0.79.1 (TeX Live 2014/W32TeX) (rev
> 4971)
>  restricted \write18 enabled.
> ! String contains an invalid utf-8 sequence.
>
> and then lualatex can't find the file.
>
>> xelatex ??? -> crash.
>
> It is not something in the lualatex format: I get the same error
> message with luatex --ini.
>
> In miktex there is no problem: The files are found. Also e.g. a
> \jobname in the document works correctly and -- with lualatex and
> xelatex and an utf8 encoded document -- I can also use \input{???}.
>
>
> I never use non-ascii chars in file names  -- I don't want to spent
> my time to find out how to pass (and use) such names to external
> tools or on other computers -- but imho a standalone luatex should
> be able to communicate with the OS without errors and \openin etc
> should work.
>
>
> --
> Ulrike Fischer
> http://www.troubleshooting-tex.de/
>
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From news3 at nililand.de  Fri Jul  4 10:40:19 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 4 Jul 2014 10:40:19 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
Message-ID: <t42abv3qydvl.dlg@nililand.de>

Am Fri, 4 Jul 2014 10:32:33 +0200 schrieb Zdenek Wagner:

>> But the main question is why lualatex and xelatex in TeXLive can't
>> handle (probably only non-utf8) file names with non-ascii chars *on
>> the terminal*. I can reproduce his problem on Win7:
>>
> The program has to use a system call to find the filesystem encoding
> and convert the filename from the filesystem encoding to the program's
> internal encoding or vice versa. I am not sure whether it can be done
> in lua but definitely not on macro level.

Sure. But we are not on the macro level here but on the "system
call" level. Why can't luatex in TeXlive not handle the system call
to file names correctly?


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From Robin.Fairbairns at cl.cam.ac.uk  Fri Jul  4 10:42:45 2014
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 4 Jul 2014 09:42:45 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: Your message of Fri, 04 Jul 2014 03:17:29 +0200.
 <21430.169.788639.272181@zaphod.ms25.net>
Message-ID: <3086.1404463365@cl.cam.ac.uk>

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

>  > While latin1 can include every possible character, UTF-8 cannot.
> 
> This is definitely wrong.  The opposite is true.

no, it's correct: iso 8859-1 has no "forbidden" octets (it does, iirc,
have some unassigned ones)

whereas

utf-8 rejects some octets in some contexts, since it's generating a
32-bit glyph from 8-bit input.  (it's complicated.  honest.)

robin


From preining at logic.at  Fri Jul  4 11:02:34 2014
From: preining at logic.at (Norbert Preining)
Date: Fri, 4 Jul 2014 18:02:34 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <3086.1404463365@cl.cam.ac.uk>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk>
Message-ID: <20140704090234.GT19555@auth.logic.tuwien.ac.at>

Hi Robin,

> no, it's correct: iso 8859-1 has no "forbidden" octets (it does, iirc,
> have some unassigned ones)

interesting ... didn't know that.

But yes, that ...

> utf-8 rejects some octets in some contexts, since it's generating a
> 32-bit glyph from 8-bit input.  (it's complicated.  honest.)

is definitely true!

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From Klaus+texlivelist at ethgen.ch  Fri Jul  4 11:02:38 2014
From: Klaus+texlivelist at ethgen.ch (Klaus Ethgen)
Date: Fri, 4 Jul 2014 10:02:38 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <21430.169.788639.272181@zaphod.ms25.net>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>
Message-ID: <20140704090236.GA19605@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Am Fr den  4. Jul 2014 um  2:17 schrieb Reinhard Kotucha:
> On 2014-07-04 at 00:08:42 +0100, Klaus Ethgen wrote:
> 
>  > Am Do den  3. Jul 2014 um 23:46 schrieb Zdenek Wagner:
>  > > > I was pointed to this list to report the following Bug. Please put me in
>  > [Bug in filesystem code]
>  > > Lualatex is right, umlaut characters in latin1 are invalid sequences
>  > 
>  > Thats true. While latin1 can include every possible character, UTF-8
>  > cannot. (possible as possible to have on the wire)
> 
> You misunderstood.  The opposite is true.  UTF-8 (Unicode) supports
> all characters, Latin1 is a simple 8-bit encoding which supports only
> Western European languages (except French).

Well, no, way around. In UTF-8, there are byte values that are invalide.
In latin1 there is no invalide byte value.

> UTF-8 is the encoding of the future because it supports all languages
> used today.  This is the reason why XeTeX and LuaTeX exist at all.

Well, no, not all programming languages supporting UTF-8 native.

I even think that programming languages and tools should be encoding
agnostics and just use what they get.

> When I took over maintenance of VnTeX my OS still used Latin1.  It was
> a pain!  I then switched to UTF-8 and everything worked fine.

Thats your experiences, mine are the complete opposite.

> IMO all these national ISO-2022/ISO-8859 encodings are archaic.  The
> future is UTF-8.

Thats just a holy question. I don't think  they are archaic. They stay
side by side with all the Unicode encodings.

But unfortunately, the discussion about encodings is often just going
onto a holy discussion.

>  > > in utf-8 but both luatex and xetex work internally in unicode. I
>  > > am not sure whether it is possible to change interaction with
>  > > file system encoding easily.
>  > 
>  > Why converting the filename at all? The file name is the same on
>  > command line and on the file system. So without any reencoding
>  > everything would be fine.
> 
> It's not always the case.  A German Windows is using CP1252 on the
> command line and UTF-16 internally for file names.  It's a pain.

That could be. I do not care about windows. But I believe that a TeX
distribution must care about such cases.

However, even in that case there is a clear path from one encoding into
another. Even if not all characters are able to display in the other
charset, TeX has to respect the console charset too. Why isn't that the
same on Unix/Linux?

> Yes, AFAIK OpenOffice gratefully supports UTF-8.  You should have
> configured your file system to use UTF-8.

I do not get the connection between openoffice and why I ?should have?
the file system in UTF-8. I do not use office suites.

To the point about using UTF-8 on filesystem. That would end in having
filenames that are cannot manages anymore. No mv no rm, simply nothing
would be possible with them if they have byte values in filename that
are invalide in UTF-8. Such files will stay forever in filesystem. Even
if the filesystem is clean in the begin, such erroneous byte values
could happen in a crash or OS level error.

Even more, it will serve me with filenames I do not want to have ever on
filesystem. (Like the latin a replaced by a Russian one. And this is
just a annoyance, there are more sever code points in UTF-8.) Unpacking
containers from other people is just to dangerous if using UTF-8 on the
filesystem. The worst that could happen in latin1 is some crappy
filename that has to be renamed. But no harm could happen there.

> This is the default for years (on Linux and OS/X, at least).

Don't use defaults without questioning and understanding them. I don't,
I have good reasons why I use latin1. I have no reason to use UTF-8.

> Windows always lags 20..30 years behind and still insists on CP1252
> (CP850 on the command line) for German and similar idiocies for other
> languages.

I do not want to talk about windows. That is a play OS in my eyes. But
just as I know, windows was using Unicode long before Unix even think
about that. And wasn't the CP850 stuff just used for DOS?

>  > I never had that problems with latin1 (except with only few software
>  > like luatex). But I had many problems in past with trying to use UTF-8.
>  > However, that personal stuff is good to know but does not help in this
>  > situation.
> 
> But now you have problems with Latin1.  The reason is that you still
> insist on archaic encodings like Latin1 while the rest of the world is
> striving towards Unicode.

Well, just because there is a bug in one software. Just because one
piece of software is wrongly programmed.

I do not want to join the UTF-8 religion. So please don't try to
proselytize me!

>  > Fact is that even software that uses UTF-8 (or other unicode) internal,
>  > work well in my environment. (Examples: Libreoffice, Gimp, Geeqie, ...
>  > (Geeqie, I am one of the people working on it)) So it must be possible
>  > to do that in lualatex or xetex too.
> 
> I don't know what you want to achieve.  You said:

Well, just work with any charset!? Most software does. Only few are
buggy.

By the way, pdflatex works well too with every charset. At the moment I
have no real reason to use lualatex. I just wanted to play a bit with
that and found this bug. I do not want to do religious discussions, my
intention is to report the bug and hopefully get it fixed.

Just the font handling is a bit better in lualatex. However, for my
work, I can stay with the way LaTeX2e is doing it.

>  > While latin1 can include every possible character, UTF-8 cannot.
> 
> This is definitely wrong.  The opposite is true.

No, it is true, independent from what you think. UTF-8 cannot display
any byte value. Some are just invalid but happens here and there.

Regards
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTtm2sAAoJEKZ8CrGAGfas5c0L/1AHp7AdtFl9O69aWXofmKnf
Qj+RKhGKcgAxQJ2NvW0FO6Iv6RmYqL7gB0kiDoMdqloSSS/5/lfRKe+QSH4hjwjq
jDtOMoO6Rqq0sVlAMBO1TtnraJUUu1L3zEXxwUJjnfWgLguEE15mzCEqm7OyH8td
oE3pBIRa7UcpLRlt1xK/F8lKI4DPuNqQPeUZfyJQ0ERuxjTb2O87FHgRq9A80q6f
39XPr2tWVqutDHXU/0JNprE5BC+/pVVdjkFcP9C2XAsixUZ+UW5Op79Kco3kDI9N
w71luC6M0dvNpI0K69rEUJb8qDr6i+sFN7NZBf1oIq8oOENEesIXK8XvxOhnVxL5
S9x2DczF/+Bb13eRxWktA59iue6XMzg4Kyk71XN07JUMJm+K4lLKfx3Gh11mZ/lZ
keKiN9RtrgVguwaDyENqDHjxExSdq8L+uukp5KWtM25UwbduJT2zNG/U3xZJLi1F
Sei1BqZkInls/0utKqnYsxNnpqZmVWKXSayJPTzZeQ==
=Qzmj
-----END PGP SIGNATURE-----



From komascript at gmx.info  Fri Jul  4 11:17:42 2014
From: komascript at gmx.info (Markus Kohm)
Date: Fri, 4 Jul 2014 11:17:42 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <wvrp5cr1abvl.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
Message-ID: <5223411.viO8H2HD8V@mailjo.komascript.de>

> But the main question is why lualatex and xelatex in TeXLive can't
> handle (probably only non-utf8) file names with non-ascii chars *on
> the terminal*. I can reproduce his problem on Win7:

Here with Linux, LANG=de_DE.utf8 in the terminal and file systems with UTF-8-
encoded names, luatex and xetex can handle such file names:

$ echo '\relax\bye' > ?.tex
$ luatex ?.tex
This is LuaTeX, Version beta-0.79.1 (TeX Live 2014) (rev 4971) 
 restricted \write18 enabled.
(./?.tex)
No pages of output.
Transcript written on ?.log.
$ xetex ?.tex
This is XeTeX, Version 3.14159265-2.6-0.99991 (TeX Live 2014) (preloaded 
format=xetex)
 restricted \write18 enabled.
entering extended mode
(./?.tex )
No pages of output.
Transcript written on ?.log.

It also works, if I set LANG=C:

$ LANG=C bash
$ echo $LANG
C
$ echo '\relax\bye' > ?.tex
$ luatex ?.tex
This is LuaTeX, Version beta-0.79.1 (TeX Live 2014) (rev 4971) 
 restricted \write18 enabled.
(./?.tex)
No pages of output.
Transcript written on ?.log.

Same with xetex.

Nevertheless: In this case, the filename of ?.tex uses still an UTF-8-? on my 
system and even the ?.log has an UTF-8-?. 

If I force cp1252 file names using `G_FILENAME_ENCODING=@locale,cp1252` it 
also works fine. In this case ?.tex and ?.log has a cp1252-?. I've tested this 
also with xetex and luatex.

So I cannot reproduce any problem using a valid Linux setup and TL2014. So 
maybe there's a problem with Windows only or a problem with some Linux setups.

And nevertheless: I suggest using us-ascii for file names.

Markus Kohm
-- 
KOMA-Script, a versatile bundle of classes and packages for LaTeX2e
Current: KOMA-Script 3.13.1766 (see <http://www.komascript.de/current>)
Manual: <http://www.komascript.de/scrguien>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20140704/3a08e631/attachment.bin>

From kakuto at fuk.kindai.ac.jp  Fri Jul  4 11:25:00 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 4 Jul 2014 18:25:00 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <wvrp5cr1abvl.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
Message-ID: <9718608FB861453291EE5A41CDCDB08F@CJ3001517A>

Dear Ulrike,

> xelatex ??? -> crash.

Try
set COMMAND_LINE_ENCODING=utf8
xelatex ???

It works for Japanese KANJI file names on Japanese windows.
I don't know it works for you.
(the variable only for the engines xetex, uptex, and euptex)
If it is convenient, you can write for your personal texmf.cnf:
command_line_encoding = utf8

Best,
Akira




From news3 at nililand.de  Fri Jul  4 11:43:24 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 4 Jul 2014 11:43:24 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>
 <20140704090236.GA19605@ikki.ethgen.ch>
Message-ID: <7pba7zauovku.dlg@nililand.de>

Am Fri, 4 Jul 2014 10:02:38 +0100 schrieb Klaus Ethgen:

> By the way, pdflatex works well too with every charset.

Only on "system call level" as Zdenek put it. At soon as the tex
macro level is involved too (through inputenc, \input,
\includegraphics, writing file names to files for other tools like
bibtex and biber) things can get very complicated and messy. Don't
forget that the main task of a document is to create something
printable  so a large part of (La)TeX concentrates on "how to get
from the input ? the char ? in the current font" and not on "how to
tell my OS what ? means in a file name". 

Actually with lualatex you would have much less problems on the
macro level as it has to do less magic (catcode changes and
reencodings) when accessing chars.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/




From zdenek.wagner at gmail.com  Fri Jul  4 11:53:49 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 4 Jul 2014 11:53:49 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140704090236.GA19605@ikki.ethgen.ch>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>
 <20140704090236.GA19605@ikki.ethgen.ch>
Message-ID: <CAC1phyaMjQ5tKsbTzd-Ji52nevJEiOeSL5cmKzkmKdnYfjTgMQ@mail.gmail.com>

2014-07-04 11:02 GMT+02:00 Klaus Ethgen <Klaus+texlivelist at ethgen.ch>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA512
>
> Am Fr den  4. Jul 2014 um  2:17 schrieb Reinhard Kotucha:
>> On 2014-07-04 at 00:08:42 +0100, Klaus Ethgen wrote:
>>
>>  > Am Do den  3. Jul 2014 um 23:46 schrieb Zdenek Wagner:
>>  > > > I was pointed to this list to report the following Bug. Please put me in
>>  > [Bug in filesystem code]
>>  > > Lualatex is right, umlaut characters in latin1 are invalid sequences
>>  >
>>  > Thats true. While latin1 can include every possible character, UTF-8
>>  > cannot. (possible as possible to have on the wire)
>>
>> You misunderstood.  The opposite is true.  UTF-8 (Unicode) supports
>> all characters, Latin1 is a simple 8-bit encoding which supports only
>> Western European languages (except French).
>
> Well, no, way around. In UTF-8, there are byte values that are invalide.
> In latin1 there is no invalide byte value.
>
>> UTF-8 is the encoding of the future because it supports all languages
>> used today.  This is the reason why XeTeX and LuaTeX exist at all.
>
> Well, no, not all programming languages supporting UTF-8 native.
>
> I even think that programming languages and tools should be encoding
> agnostics and just use what they get.
>
No, they cannot in principle if they work with character strings. It
is possible if they work with bytes but then you have to do all the
work yourself, you cannot use wchar.

>> When I took over maintenance of VnTeX my OS still used Latin1.  It was
>> a pain!  I then switched to UTF-8 and everything worked fine.
>
> Thats your experiences, mine are the complete opposite.
>
>> IMO all these national ISO-2022/ISO-8859 encodings are archaic.  The
>> future is UTF-8.
>
> Thats just a holy question. I don't think  they are archaic. They stay
> side by side with all the Unicode encodings.
>
You have just one unicode encoding but several unicode transport formats.

> But unfortunately, the discussion about encodings is often just going
> onto a holy discussion.
>
>>  > > in utf-8 but both luatex and xetex work internally in unicode. I
>>  > > am not sure whether it is possible to change interaction with
>>  > > file system encoding easily.
>>  >
>>  > Why converting the filename at all? The file name is the same on
>>  > command line and on the file system. So without any reencoding
>>  > everything would be fine.
>>
>> It's not always the case.  A German Windows is using CP1252 on the
>> command line and UTF-16 internally for file names.  It's a pain.
>
> That could be. I do not care about windows. But I believe that a TeX
> distribution must care about such cases.
>
You are free to submit a patch, API calls for determining the file
system ecodimg are documented both for unix systems and for Windows.

> However, even in that case there is a clear path from one encoding into
> another. Even if not all characters are able to display in the other
> charset, TeX has to respect the console charset too. Why isn't that the
> same on Unix/Linux?
>
>> Yes, AFAIK OpenOffice gratefully supports UTF-8.  You should have
>> configured your file system to use UTF-8.
>
> I do not get the connection between openoffice and why I >>should have<<
> the file system in UTF-8. I do not use office suites.
>
> To the point about using UTF-8 on filesystem. That would end in having
> filenames that are cannot manages anymore. No mv no rm, simply nothing
> would be possible with them if they have byte values in filename that
> are invalide in UTF-8. Such files will stay forever in filesystem. Even
> if the filesystem is clean in the begin, such erroneous byte values
> could happen in a crash or OS level error.
>
No, that's not true. I have UTF-8 names and have file name in Czech
with accented characters, i Urdu (Arabic script) and Hindi (Devanagari
script) and all system commands as cp, mv etc. work without problem. I
can even copy such files to Dropbox, share them with Windows users and
they see the file names.

> Even more, it will serve me with filenames I do not want to have ever on
> filesystem. (Like the latin a replaced by a Russian one. And this is
> just a annoyance, there are more sever code points in UTF-8.) Unpacking
> containers from other people is just to dangerous if using UTF-8 on the
> filesystem. The worst that could happen in latin1 is some crappy
> filename that has to be renamed. But no harm could happen there.
>
>> This is the default for years (on Linux and OS/X, at least).
>
> Don't use defaults without questioning and understanding them. I don't,
> I have good reasons why I use latin1. I have no reason to use UTF-8.
>
>> Windows always lags 20..30 years behind and still insists on CP1252
>> (CP850 on the command line) for German and similar idiocies for other
>> languages.
>
> I do not want to talk about windows. That is a play OS in my eyes. But
> just as I know, windows was using Unicode long before Unix even think
> about that. And wasn't the CP850 stuff just used for DOS?
>
>>  > I never had that problems with latin1 (except with only few software
>>  > like luatex). But I had many problems in past with trying to use UTF-8.
>>  > However, that personal stuff is good to know but does not help in this
>>  > situation.
>>
>> But now you have problems with Latin1.  The reason is that you still
>> insist on archaic encodings like Latin1 while the rest of the world is
>> striving towards Unicode.
>
> Well, just because there is a bug in one software. Just because one
> piece of software is wrongly programmed.
>
> I do not want to join the UTF-8 religion. So please don't try to
> proselytize me!
>
>>  > Fact is that even software that uses UTF-8 (or other unicode) internal,
>>  > work well in my environment. (Examples: Libreoffice, Gimp, Geeqie, ...
>>  > (Geeqie, I am one of the people working on it)) So it must be possible
>>  > to do that in lualatex or xetex too.
>>
>> I don't know what you want to achieve.  You said:
>
> Well, just work with any charset!? Most software does. Only few are
> buggy.
>
> By the way, pdflatex works well too with every charset. At the moment I
> have no real reason to use lualatex. I just wanted to play a bit with
> that and found this bug. I do not want to do religious discussions, my
> intention is to report the bug and hopefully get it fixed.
>
pdflatex knows nothing abut charsets. You have two scenarios. In the
less frequent case encTeX (by Petr Ol??k) converts the input
characters directly to the font encoding while the more frequent case
makes use of the inputenc packege that contins the input via active
characters to LICR and then via the fontenc package to the font
encoding. The latter case has potential problems. For instance,

\futurelet\somechar\dosomething will not work properly with inputenc
but works well with other engines.

> Just the font handling is a bit better in lualatex. However, for my
> work, I can stay with the way LaTeX2e is doing it.
>
>>  > While latin1 can include every possible character, UTF-8 cannot.
>>
>> This is definitely wrong.  The opposite is true.
>
> No, it is true, independent from what you think. UTF-8 cannot display
> any byte value. Some are just invalid but happens here and there.
>
UTF-8 is unicode tranport format, its goal is not to transport 50%
zeros for texts containing US-ASCII only.  For fast decoding it is
designed as a prefix code and its aim is to transport characters, not
any octet.

Having encoding agnostic program, that will treat file names as octets
instead of characters, is really dangerous. Imagine that a program
will decide to write a file to a file name which is just one legal
character in some encoding and it is * in latin1. If the name goes
through expansion, this will delete all files from you current
directory. That's why good programs are encoding aware.

> Regards
>    Klaus
> - --
> Klaus Ethgen                              http://www.ethgen.ch/
> pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
> Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1
>
> iQGcBAEBCgAGBQJTtm2sAAoJEKZ8CrGAGfas5c0L/1AHp7AdtFl9O69aWXofmKnf
> Qj+RKhGKcgAxQJ2NvW0FO6Iv6RmYqL7gB0kiDoMdqloSSS/5/lfRKe+QSH4hjwjq
> jDtOMoO6Rqq0sVlAMBO1TtnraJUUu1L3zEXxwUJjnfWgLguEE15mzCEqm7OyH8td
> oE3pBIRa7UcpLRlt1xK/F8lKI4DPuNqQPeUZfyJQ0ERuxjTb2O87FHgRq9A80q6f
> 39XPr2tWVqutDHXU/0JNprE5BC+/pVVdjkFcP9C2XAsixUZ+UW5Op79Kco3kDI9N
> w71luC6M0dvNpI0K69rEUJb8qDr6i+sFN7NZBf1oIq8oOENEesIXK8XvxOhnVxL5
> S9x2DczF/+Bb13eRxWktA59iue6XMzg4Kyk71XN07JUMJm+K4lLKfx3Gh11mZ/lZ
> keKiN9RtrgVguwaDyENqDHjxExSdq8L+uukp5KWtM25UwbduJT2zNG/U3xZJLi1F
> Sei1BqZkInls/0utKqnYsxNnpqZmVWKXSayJPTzZeQ==
> =Qzmj
> -----END PGP SIGNATURE-----
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From Robin.Fairbairns at cl.cam.ac.uk  Fri Jul  4 12:00:27 2014
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 4 Jul 2014 11:00:27 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: Your message of Fri, 04 Jul 2014 10:02:38 +0100.
 <20140704090236.GA19605@ikki.ethgen.ch>
Message-ID: <5380.1404468027@cl.cam.ac.uk>

Klaus Ethgen <Klaus+texlivelist at ethgen.ch> wrote:

> Am Fr den  4. Jul 2014 um  2:17 schrieb Reinhard Kotucha:
> > On 2014-07-04 at 00:08:42 +0100, Klaus Ethgen wrote:
> > 
> >  > Am Do den  3. Jul 2014 um 23:46 schrieb Zdenek Wagner:
> >  > > > I was pointed to this list to report the following Bug. Please put me in
> >  > [Bug in filesystem code]
> >  > > Lualatex is right, umlaut characters in latin1 are invalid sequences
> >  > 
> >  > Thats true. While latin1 can include every possible character, UTF-8
> >  > cannot. (possible as possible to have on the wire)
> > 
> > You misunderstood.  The opposite is true.  UTF-8 (Unicode) supports
> > all characters, Latin1 is a simple 8-bit encoding which supports only
> > Western European languages (except French).
> 
> Well, no, way around. In UTF-8, there are byte values that are invalide.
> In latin1 there is no invalide byte value.

you're confusing byte (octet in standards-speak) with character.  an
octet is 8bits ... full stop.

a character is an atom of some sort of language.  how you represent it
is not made clear by its name.

> > UTF-8 is the encoding of the future because it supports all languages
> > used today.  This is the reason why XeTeX and LuaTeX exist at all.
> 
> Well, no, not all programming languages supporting UTF-8 native.

i assume that you meant "natural languages".  programming languages are
artificial, and may declare in their spec what characters and encodings
they accept.

> I even think that programming languages and tools should be encoding
> agnostics and just use what they get.

a counsel of perfection, but it would be nice.  note that fully-
flexible encoding support requires totally specific encoding
specification.  for 8-bit characters, that's provided by iso 2022.  i
have tried working with it (writing other standards that require its
use) and it's a nightmare.

> > When I took over maintenance of VnTeX my OS still used Latin1.  It was
> > a pain!  I then switched to UTF-8 and everything worked fine.
> 
> Thats your experiences, mine are the complete opposite.
> 
> > IMO all these national ISO-2022/ISO-8859 encodings are archaic.  The
> > future is UTF-8.
> 
> Thats just a holy question. I don't think  they are archaic. They stay
> side by side with all the Unicode encodings.

in most practical applications i've seen, the encoding is assumed.
(hence the hiccups when you feed iso 8859-1 source to (lua|xe)tex.

> But unfortunately, the discussion about encodings is often just going
> onto a holy discussion.

no.  there's a practical core to the discussion.  you and i get on ok
with iso 8859-1 because (to first order) our countries wrote the iso
8859 standards to "just work" with our languages.

> >  > > in utf-8 but both luatex and xetex work internally in unicode. I
> >  > > am not sure whether it is possible to change interaction with
> >  > > file system encoding easily.
> >  > 
> >  > Why converting the filename at all? The file name is the same on
> >  > command line and on the file system. So without any reencoding
> >  > everything would be fine.
> > 
> > It's not always the case.  A German Windows is using CP1252 on the
> > command line and UTF-16 internally for file names.  It's a pain.

because m$ connfused things, from the start, by defining their own
character coding standards.

> That could be. I do not care about windows. But I believe that a TeX
> distribution must care about such cases.

even m$ have mostly usable overlap with iso latin codes.

> However, even in that case there is a clear path from one encoding into
> another. Even if not all characters are able to display in the other
> charset, TeX has to respect the console charset too. Why isn't that the
> same on Unix/Linux?

because we're still in transition.  i saw the start of this thread, and
thought "i would have forgotten that one, too".  this is plainly a
problem that needs solving (and will eventually be solved), but imo it's
not one to beat people over the head about.

> > Yes, AFAIK OpenOffice gratefully supports UTF-8.  You should have
> > configured your file system to use UTF-8.
> 
> I do not get the connection between openoffice and why I ?should have?
> the file system in UTF-8. I do not use office suites.

i don't know why oo appeared here, either.

> To the point about using UTF-8 on filesystem. That would end in having
> filenames that are cannot manages anymore. No mv no rm, simply nothing
> would be possible with them if they have byte values in filename that
> are invalide in UTF-8. Such files will stay forever in filesystem. Even
> if the filesystem is clean in the begin, such erroneous byte values
> could happen in a crash or OS level error.

huh?  when you use your system, there should be notice of the encodings
applications should expect.  if i say my encoding is iso 8859-1, i
*must* accept that i can't open files whose names use non-latin 1
characters.  that's it.  if i use iso 8859-7 (greek) i should not expect
to be able to use files whose names are using iso 8859-5 (cyrillic) --
at the least because there are characters which are not shared between
those languages (neither ?? in greek nor ?? in russian appears in the
'other' language).

> Even more, it will serve me with filenames I do not want to have ever on
> filesystem. (Like the latin a replaced by a Russian one. And this is
> just a annoyance, there are more sever code points in UTF-8.) Unpacking
> containers from other people is just to dangerous if using UTF-8 on the
> filesystem. The worst that could happen in latin1 is some crappy
> filename that has to be renamed. But no harm could happen there.
> 
> > This is the default for years (on Linux and OS/X, at least).
> 
> Don't use defaults without questioning and understanding them. I don't,
> I have good reasons why I use latin1. I have no reason to use UTF-8.

fair enough, but don't argue from your specific case to other people's
generic cases.  it just doesn't work.

> > Windows always lags 20..30 years behind and still insists on CP1252
> > (CP850 on the command line) for German and similar idiocies for other
> > languages.
> 
> I do not want to talk about windows. That is a play OS in my eyes. But
> just as I know, windows was using Unicode long before Unix even think
> about that. And wasn't the CP850 stuff just used for DOS?

despite your exaggeration, it's actually up with the best practice, if
that's what you want, and it will provide you with backward
compatibility to the archaic code pages if you need that.  windows may
be big and sluggish, and a pita to use, but it's not "out of it" as you
suggest.

once upon a time, all my programming was done in 5-bit baudot code (my
first programs were writting in the 60s.)  7-bit ascii was a great
advance.  8-bit latin-* standards improved things again, but now it's
increasingly becoming necessary to use systems programmed at one place
in the world, at another place, and we need to make systems at one place
work at another.  using unicode is a great support to such advances.

(and i retire in 2 months' time, and haven't written commercial code
since the 1990s.)

robin
the logorrheic.



From news3 at nililand.de  Fri Jul  4 12:56:52 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 4 Jul 2014 12:56:52 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <9718608FB861453291EE5A41CDCDB08F@CJ3001517A>
Message-ID: <68dt4xdmex4b.dlg@nililand.de>

Am Fri, 4 Jul 2014 18:25:00 +0900 schrieb Akira Kakuto:


>> xelatex ??? -> crash.
 
> Try
> set COMMAND_LINE_ENCODING=utf8
> xelatex ???
 
> It works for Japanese KANJI file names on Japanese windows.
> I don't know it works for you.
> (the variable only for the engines xetex, uptex, and euptex)

This works for me with xelatex but doesn't help with lualatex.


> If it is convenient, you can write for your personal texmf.cnf:
> command_line_encoding = utf8

I never use non-ascii (and spaces and additional dots) in real
files. I'm testing this things out of pure curiosity ;-)   

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/




From P.Taylor at Rhul.Ac.Uk  Fri Jul  4 13:21:41 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 4 Jul 2014 12:21:41 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <3086.1404463365@cl.cam.ac.uk>
References: <3086.1404463365@cl.cam.ac.uk>
Message-ID: <53B68E45.4020007@Rhul.Ac.Uk>



Robin Fairbairns wrote:

> Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
>
>>   > While latin1 can include every possible character, UTF-8 cannot.
>>
>> This is definitely wrong.  The opposite is true.
>
> no, it's correct: iso 8859-1 has no "forbidden" octets (it does, iirc,
> have some unassigned ones)

No, it's wrong :-)  Latin1 can include every possible 8-bit pattern;
it can, therefore, by definition, not include "every possible character"
but at most 256 8-bit characters or fewer wider ones.

** Phil.


From kakuto at fuk.kindai.ac.jp  Fri Jul  4 13:23:12 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 4 Jul 2014 20:23:12 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <68dt4xdmex4b.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <9718608FB861453291EE5A41CDCDB08F@CJ3001517A> <68dt4xdmex4b.dlg@nililand.de>
Message-ID: <379DB02C0EC64A658E4B4C9C993CED0E@CJ3001517A>

Dear Ulrike,

> This works for me with xelatex but doesn't help with lualatex.

This mechanism was implemented by Takuji Tanaka, the author of uptex.
At first, the mechanism was applied also on LuaTeX.
LuaTeX worked for Windows file names, but there were very
subtle problems, though reasons were not clear, which prevented
us to use the mechanism in LuaTeX.
Thus, only three engines, xetex, uptex, and euptex, know the
variable command_line_encoding.

Best,
Akira



From news3 at nililand.de  Fri Jul  4 13:27:00 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 4 Jul 2014 13:27:00 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140704090236.GA19605@ikki.ethgen.ch>
 <5380.1404468027@cl.cam.ac.uk>
Message-ID: <1ndlhk236m51x$.dlg@nililand.de>

Am Fri, 4 Jul 2014 11:00:27 +0100 schrieb Robin Fairbairns:

> (hence the hiccups when you feed iso 8859-1 source to (lua|xe)tex.

He is not feeding an 8859-1 source to luatex. The content of the
file itself is irrelevant, it can be ascii. 

The problem is that the OS is feeding lua|xe|tex on the command line
an 8bit file*name* and in TeXLive luatex doesn't like this.  

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From zdenek.wagner at gmail.com  Fri Jul  4 13:52:34 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 4 Jul 2014 13:52:34 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <1ndlhk236m51x$.dlg@nililand.de>
References: <20140704090236.GA19605@ikki.ethgen.ch>
 <5380.1404468027@cl.cam.ac.uk>	<1ndlhk236m51x$.dlg@nililand.de>
Message-ID: <CAC1phyb2RF3GG0sA=tnZ7y5i6ydnvCoMLF_6ho8st5z9OsP16A@mail.gmail.com>

2014-07-04 13:27 GMT+02:00 Ulrike Fischer <news3 at nililand.de>:
> Am Fri, 4 Jul 2014 11:00:27 +0100 schrieb Robin Fairbairns:
>
>> (hence the hiccups when you feed iso 8859-1 source to (lua|xe)tex.
>
> He is not feeding an 8859-1 source to luatex. The content of the
> file itself is irrelevant, it can be ascii.
>
> The problem is that the OS is feeding lua|xe|tex on the command line
> an 8bit file*name* and in TeXLive luatex doesn't like this.
>
I have not seen the luatex code but I could assume that the command
line arguments are treated as "wchar*" strings. In such a case they
cannot accept arbitrary octets. In addition, the file system may have
different encoding than the system locale. It is my case. I have linux
with UTF-8 but I have Windows disks mounted via Samba and their
encoding is CP1250. I see properly the file names containing accented
characters. I can safely "cp" such files to my local disk and the file
name will be the same but in UTF-8.
> --
> Ulrike Fischer
> http://www.troubleshooting-tex.de/
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From reinhard.kotucha at web.de  Sat Jul  5 03:24:53 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 5 Jul 2014 03:24:53 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <3086.1404463365@cl.cam.ac.uk>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk>
Message-ID: <21431.21477.562175.310956@zaphod.ms25.net>

On 2014-07-04 at 09:42:45 +0100, Robin Fairbairns wrote:

 > Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
 > 
 > >  > While latin1 can include every possible character, UTF-8 cannot.
 > > 
 > > This is definitely wrong.  The opposite is true.
 > 
 > no, it's correct: iso 8859-1 has no "forbidden" octets (it does, iirc,
 > have some unassigned ones)
 > 
 > whereas
 > 
 > utf-8 rejects some octets in some contexts, since it's generating a
 > 32-bit glyph from 8-bit input.  (it's complicated.  honest.)

True, but we were talking about characters and a character is not
necessarily an octet.  I suppose that the confusion arose bcause we
don't use the term 'character' in the same way.

We are talking about input encodings which map characters to numbers.
With the advent of Unicode, these numbers can be > 255, hence
some characters have to be represented by a sequence of octets.

There are definitely a lot of things which lead to the confusion.  In
C, for instance, there is a data type 'unsigned char'.  It's actually
an octet.  However, before other encodings than ASCII came up there
was no difference between characters and bytes.

BTW, UTF-8 doesn't generate glyphs.  A glyph is the graphical
representation of a character.  A font contains glyphs.  But since 
we are talking about low-level character encodings we don't have to
worry about glyphs.  Of course we need a font which provides all the
glyphs in order to get reasonable output on a terminal but it's less
relevant if we are talking about filename encodings.

Regards,
  Reinhard
  
-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From karl at freefriends.org  Sat Jul  5 03:51:14 2014
From: karl at freefriends.org (Karl Berry)
Date: Sat, 5 Jul 2014 01:51:14 +0000
Subject: [tex-live] Bug in xdvipdfmx (was (x)dvipdfmx and fully
	embeded	fonts in pdftex.map (was: (x)dvipdfmx and fully
	embeded fonts	in pdftex.map))
In-Reply-To: <1i4l7a660lz73.dlg@nililand.de>
Message-ID: <201407050151.s651pEn7024467@freefriends.org>

    kdebug:kpse_find_file: searching for SkakNew-Figurine.otf of type
    tfm (from texmf.cnf)

    So in xdvipdfmx otf has the wrong type. And bingo: If I move the otf
    to fonts/tfm it is found.

Puzzling.  I see a different problem.  Although my xdvipdfmx does try to
look up the TFM, I thought it really was looking for (and finding) a tfm
there.  Also, in my output, the extension has been removed:
  kdebug:kpse_find_file: searching for SkakNew-Figurine of type tfm (from
  texmf.cnf)

Maybe your result, and the different diagnostics, are due to differences
between w32tex (= where the xdvipdfmx Windows binary in TL came from)
and the Unix TL binaries?  Akira?

Anyway, I see plenty of not-critical issues in the filename lookups, but
ultimately, on i386-linux, it says it is finding the right file:
kdebug:fopen(/home/texlive/karl/Master/texmf-dist/fonts/opentype/public/skaknew/SkakNew-Figurine.otf, rb) => 0x9957190

But then it immediately aborts:
xdvipdfmx:fatal: Not a CFF/OpenType font?

dvipdfmx, on the other hand, finds the same file and does not abort.  
Khaled?

Looking at the source, I see lots of xdvipdfmx vs. dvipdfmx differences
in this area.  And unfortunately the same error message is repeated in
several places, so it's not immediately evident where it's coming from
(error msgs should be uniqified...).  I'm not up for running it under
the debugger tonight.

I simplified the input file to use plain tex, called it tryot.tex:
  \nopagenumbers \font\test = SkakNew-Figurine \test K \end

Then create a ./pdftex.map containing the line:
SkakNew-Figurine SkakNew-Figurine <SkakNew-Figurine.otf
(the reencode is irrelevant here so far as I can see)

Then run:
  xetex --no-pdf tryot.tex
  env KPATHSEA_DEBUG=-1 xdvipdfmx tryot.xdv

(My [x]dvipdfmx doesn't recognize --kpathsea-debug, don't know
when or why that happened; another separate thing to deal with.)

And I get the fatal error above.

karl


From KXD02663 at nifty.ne.jp  Sat Jul  5 06:49:42 2014
From: KXD02663 at nifty.ne.jp (TANAKA Takuji)
Date: Sat, 5 Jul 2014 13:49:42 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>	<wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
Message-ID: <53B783E6.8060405@nifty.ne.jp>

Hi,

(2014/07/04 17:32), Zdenek Wagner wrote:
> The program has to use a system call to find the filesystem encoding
> and convert the filename from the filesystem encoding to the program's
> internal encoding or vice versa.
I agree that this is the root cause.
In my understanding, the current situation is as follows.

[1] Unix-like (Linux, Mac OS-X) system
[1a] LOCALE of regacy encoding (for example, "de_DE" on linux)
luatex does not work
xetex does not work
due to lack of the filename conversion from the filesystem encoding to the internal encoding (UTF-8)

[1b] LOCALE of utf-8 (for example, "de_DE.UTF-8" on linux)
luatex works
xetex works
since conversion is not needed between the filesystem encoding and the internal encoding (UTF-8)

[2] Windows
[2a] conventional usage
luatex does not work
xetex does not work
due to lack of the filename conversion from the filesystem encoding to the internal encoding (UTF-8)

[2b] set COMMAND_LINE_ENCODING=utf8
luatex does not work (the option is not supported yet)
xetex works
since the option allows to treat Unicode on command line and conversion of filename to the internal encoding (UTF-8)
My implementation in TeX Live 2014 is [2b] for uptex, e-uptex, and xetex.
It is only valid on Windows.

For the case of Klaus-san, there is two options.
[A] Develop to support filename conversion from the filesystem encoding to the internal encoding (UTF-8).
I do not agree since regacy encoding is obsolete.
[B] Switch the file system and LOCALE from regacy encoding to UTF-8
It will work well if the conversion is possible.
I hear "convmv" helps such work.


Takuji Tanaka




From reinhard.kotucha at web.de  Sat Jul  5 08:24:06 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 5 Jul 2014 08:24:06 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <t42abv3qydvl.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>	<wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <t42abv3qydvl.dlg@nililand.de>
Message-ID: <21431.39430.843719.802771@zaphod.ms25.net>

On 2014-07-04 at 10:40:19 +0200, Ulrike Fischer wrote:

 > Am Fri, 4 Jul 2014 10:32:33 +0200 schrieb Zdenek Wagner:
 > 
 > >> But the main question is why lualatex and xelatex in TeXLive can't
 > >> handle (probably only non-utf8) file names with non-ascii chars *on
 > >> the terminal*. I can reproduce his problem on Win7:
 > >>
 > > The program has to use a system call to find the filesystem encoding
 > > and convert the filename from the filesystem encoding to the program's
 > > internal encoding or vice versa. I am not sure whether it can be done
 > > in lua but definitely not on macro level.
 > 
 > Sure. But we are not on the macro level here but on the "system
 > call" level. Why can't luatex in TeXlive not handle the system call
 > to file names correctly?

On Unix everything works as expected, as Markus already confirmed.

  $ luatex "???-??????? ????-???.tex" \\bye
  This is LuaTeX, Version beta-0.79.1 (TeX Live 2014) (rev 4971) 
   restricted \write18 enabled.
  ("./???-??????? ????-???.tex")
  No pages of output.
  Transcript written on "???-??????? ????-???.log".

Unix filesystems store filenames in UTF-8, Windows filesystems use
UTF-16 (don't know about ancient FAT filesystems).  As far as the
filesystems are concerned, everything should work on Windows too.

The problem is the user interface.  A German Windows is using CP1252
and, even worse, CP850 on the command line.  Yes, Klaus, the latter
was used by DOS indeed.  And it's still used.

Zden?k said that Samba works fine.  My experience is quite positive
too.  But there is no user interface with crippled national character
encodings involved.  If Samba works on filesystem level, all it has to
do is to convert UTF-8 (Unix) to UTF-16 (Windows) and vice versa.
This is a relatively simple and reliable task.

Problems occur when user interfaces are involved which are not aware
of Unicode.  Sure, if you know which encoding is used you can convert
any filenames to Unicode.  But what about \openout?  You can convert any
8-bit character encoding to Unicode but not vice versa.

What do you expect to happen if you create a file

  "???-??????? ????-???"

with \openout and your terminal only supports crippled national
character encodings?  How can '??' be converted to something like
Latin1?  What do you expect to see on screen if LuaTeX sais

  Transcript written on "???-??????? ????-???.log".

and your terminal supports only CP850? (the Exploder isn't much
better, it only supports CP1252).

On my Linux box everything works like a charm.  My locale setting is

  LANG=en_US.UTF-8

I'm using this setup for years and didn't encounter any problems.
I also don't hesitate to use non-ASCII characters in file names.
Some of my file/directory names contain Russian and Korean characters
and I didn't encounter any problems at all.

I'm sure that all this will be possible on Windows too in 20 or 30
years.  Be patient.  Stick to ASCII for the time being.  Or switch to
a reasonable operating system.  On Linux everything works like a charm
and I don't understand why people hesitate to create files with
non-ASCII characters in their names.  For sure, Windows is a pita.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------



From Klaus+texlivelist at Ethgen.ch  Sat Jul  5 12:10:59 2014
From: Klaus+texlivelist at Ethgen.ch (Klaus Ethgen)
Date: Sat, 5 Jul 2014 11:10:59 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <53B783E6.8060405@nifty.ne.jp>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <53B783E6.8060405@nifty.ne.jp>
Message-ID: <20140705101057.GA6061@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Hi,

Am Sa den  5. Jul 2014 um  5:49 schrieb TANAKA Takuji:
> (2014/07/04 17:32), Zdenek Wagner wrote:
> >The program has to use a system call to find the filesystem encoding
> >and convert the filename from the filesystem encoding to the program's
> >internal encoding or vice versa.
> I agree that this is the root cause.

Yes. Most likely.

> In my understanding, the current situation is as follows.
> 
[Analysises of the problem]

Thanks, that is a very helpful analysis (However, it does not solve the
problem, but it might be a point from where to go further.)

> [A] Develop to support filename conversion from the filesystem encoding to the internal encoding (UTF-8).
> I do not agree since regacy encoding is obsolete.

Why to convert it at all? Its the same encoding (or no encoding) on the
command line and the file system. Wouldn't it be better to just pass
that names from one subsystem (the commandline parsing) to other (open
the (initial) input file) without changing the encoding at all? Using
?unsigned char *? inside the software?

That would solve the problem and would be more obvious to the user in
any usecases. (With UTF-8 the there is also no conversion to be done.
It can also fill inside a unsigned char string.)

> [B] Switch the file system and LOCALE from regacy encoding to UTF-8

Too much trouble. And I will not go into details. One part of the detail
is that I don't like UTF-8 personal. :-)

> I hear "convmv" helps such work.

Partly. It even helps way around to have beautiful names from UTF-8
strings in a latin1 environment. :-)

Regards
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTt88xAAoJEKZ8CrGAGfasEFUL/2c1Kkl8TsFCskV8r+Lt5CXo
Gniewn2GL6xTLv1V+sSn2JpudVwZl/2RB1/4JdxF2ZYth9hJpsT69pDOJPE2Qo4C
XRxNej789Ko2BSvO/H99RVUdNTgqNpdNq39pdkPbiYzWxFZCTqy/bPjGqUsSCt4k
wg80qff55+H8nqv3NSWxbGQEZktp5TUslHGY0T22+/q3/gwLsk+Kf740Bf1WqsM0
F9+mXILUJu5AgxWBIlcchwmyYlFii15w3f2gGut83jMu8oHxYlx+DK4ZTepRLxbG
HrgbM0gCqW0FuCAEMgWSpZXF3IbZGs5xryeIiTUr0kPRbOR3igGew7nlifeAQ5I5
UOXZ9FjeUxdygWMNlMX9TFcyhMGKcuwrgh17Z5UPQWxz4vKCWdJMZdQPva3hya1o
dpmcGbu9H5qApzDJVFLFZLIwu3bAqsh1FYfZlCJ9cPiv0k8JAOg85YytXXkOp50S
VrPCpha+yd35rpTBIMm2KySyNOPb3GqM7AFia0CpRQ==
=TmV8
-----END PGP SIGNATURE-----



From Klaus+texlivelist at ethgen.ch  Sat Jul  5 12:18:41 2014
From: Klaus+texlivelist at ethgen.ch (Klaus Ethgen)
Date: Sat, 5 Jul 2014 11:18:41 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <21431.21477.562175.310956@zaphod.ms25.net>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk> <21431.21477.562175.310956@zaphod.ms25.net>
Message-ID: <20140705101839.GB6061@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Am Sa den  5. Jul 2014 um  2:24 schrieb Reinhard Kotucha:
> On 2014-07-04 at 09:42:45 +0100, Robin Fairbairns wrote:
> 
>  > Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
>  > 
>  > >  > While latin1 can include every possible character, UTF-8 cannot.
>  > > 
>  > > This is definitely wrong.  The opposite is true.
>  > 
>  > no, it's correct: iso 8859-1 has no "forbidden" octets (it does, iirc,
>  > have some unassigned ones)
>  > 
>  > whereas
>  > 
>  > utf-8 rejects some octets in some contexts, since it's generating a
>  > 32-bit glyph from 8-bit input.  (it's complicated.  honest.)
> 
> True, but we were talking about characters and a character is not
> necessarily an octet.  I suppose that the confusion arose bcause we
> don't use the term 'character' in the same way.

Sorry, I mostly mean characters in the sense of C programs. Octet would
be the correct naming. In case of UTF-8 characters it would be better to
use ?codepoints? instead of ?characters?.

And to clearify what I meant before (even if Robin made it clear
before), UTF-8 has forbidden _octets_ while latin1 has not. And even
worse, the forbidden octets could even not be translated from latin1 to
UTF-8 as I remember correct. (I mean that octets that you would watch as
waste in the terminal when using latin1; but it could leastwise be
displayed and used to rename the file.

Regards
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTt9D/AAoJEKZ8CrGAGfastCML/iW0hmDLZrQypbRtiZ2/n/Fi
//QBMMmwu42cGa4CwQ4Pp3KZFjA6jzitr3G41q5qvZ09r+j5ko+c84CbUtKgoqga
zkp1TtubeYAjp/zgLZMNPhtVSyZ0iaT1JFS5FCswSQ9olEIb0PssEOCtL9r0+bYc
fmghUEIHzrlAn7yQUEwB6lBhEV6GuiuWBHM/F+q6ac5LMSlUo4yGXT8FgUO0UGpm
gLYWhNXBT+F+tym1VgkHTpeKPAjS6bCTa44N/i7mRWEnmkm8yU5U4jKBJsK28Umz
oSqF2u5/vH3rXgGEJaCuRmNUdDTNcr90LynFr2jVSwSxp42XHzdobhogdpDh0uwG
cTIsKoReq6UNf+kLOhD5RLyrF8SV0QuNpMGDDjSP+FKqsamtl8K/Pp0W5pWDo/tu
LHElC1OrUIbel4QzNRHVU4ib90gX5lf/XM+cP+PNkeHbfCB8Mzka+dRpBjzOHSJM
jPINpebgCgPHOk/TQRGmSRf/OKxw9VcnRugjSfnZuw==
=S3P1
-----END PGP SIGNATURE-----



From fifis.himik at gmail.com  Sat Jul  5 12:26:53 2014
From: fifis.himik at gmail.com (=?UTF-8?B?QW5kcmXDryB8INCQ0L3QtNGA0LXQuSDQktC40LrRgtC+0YDQvtCy0LjRhw==?=)
Date: Sat, 5 Jul 2014 14:26:53 +0400
Subject: [tex-live] Inaccessible checkboxes of TL installer on small
	screens
In-Reply-To: <20140627212225.GE19555@auth.logic.tuwien.ac.at>
References: <CAHFGd_MeRJweUCroPtPW8Wyr71iV_17gupJvd44KFXcHBUa0Xg@mail.gmail.com>
 <20140624224708.GE20985@auth.logic.tuwien.ac.at>
 <20140627212225.GE19555@auth.logic.tuwien.ac.at>
Message-ID: <CAHFGd_O1y5OTR9XdRc16ZsHa_OuMzNz7PsWs=Hoq4fSN8dAGnA@mail.gmail.com>

Indeed it does! Fits like a glove! So much more convenient now.
Again, thanks a lot for the change.


--
Yours sincerely,      | ? ?????????,
Andre? V. Kostyrka. | ?????? ?????????? ????????.
http://kostyrka.ru, http://kostyrka.ru/blog


2014-06-28 1:22 GMT+04:00 Norbert Preining <preining at logic.at>:

> On Wed, 25 Jun 2014, Norbert Preining wrote:
> > Anyway, I will look into it and see what I can do.
>
> I have now commited changes that rearrange the collection selection
> window into three columns, and a chnaged layout of the buttons.
>
> Should now easily fit on even a small screen.
>
> Norbert
>
> ------------------------------------------------------------------------
> PREINING, Norbert                               http://www.preining.info
> JAIST, Japan                                 TeX Live & Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
> ------------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140705/015c804a/attachment.html>

From news3 at nililand.de  Sat Jul  5 13:08:44 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 5 Jul 2014 13:08:44 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <53B783E6.8060405@nifty.ne.jp> <20140705101057.GA6061@ikki.ethgen.ch>
Message-ID: <hgdb7kl8nolq.dlg@nililand.de>

Am Sat, 5 Jul 2014 11:10:59 +0100 schrieb Klaus Ethgen:

>> [A] Develop to support filename conversion from the filesystem encoding to the internal encoding (UTF-8).
>> I do not agree since regacy encoding is obsolete.
> 
> Why to convert it at all? Its the same encoding (or no encoding) on the
> command line and the file system. Wouldn't it be better to just pass
> that names from one subsystem (the commandline parsing) to other (open
> the (initial) input file) without changing the encoding at all? Using
> ?unsigned char *? inside the software?

Tex engines can also be used interactivly and read their input from
the command line. The argument doesn't need to be a file name or an
option.  E.g. in miktex I can do this:

G:\Z-Test>lualatex \def\test{???}\input{test-utf8}

If I use \test inside of test-utf8.tex it works fine. So miktex
translates the complete input of the command line to utf8 before
feeding it to lualatex. 

I can even something like this:

G:\Z-Test>lualatex --jobname=test \documentclass{article}
\usepackage{fontspec} \begin{document} hello ??? \end{document}

lualatex then writes the (correct) output to test.pdf.

All this doesn't work on texlive. 



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/




From news3 at nililand.de  Sat Jul  5 13:31:58 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 5 Jul 2014 13:31:58 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <t42abv3qydvl.dlg@nililand.de> <21431.39430.843719.802771@zaphod.ms25.net>
Message-ID: <11y2thr0g86s9$.dlg@nililand.de>

Am Sat, 5 Jul 2014 08:24:06 +0200 schrieb Reinhard Kotucha:
>  > >> But the main question is why lualatex and xelatex in TeXLive can't
>  > >> handle (probably only non-utf8) file names with non-ascii chars *on
>  > >> the terminal*. I can reproduce his problem on Win7:
>  > >>
>  > > The program has to use a system call to find the filesystem encoding
>  > > and convert the filename from the filesystem encoding to the program's
>  > > internal encoding or vice versa. I am not sure whether it can be done
>  > > in lua but definitely not on macro level.
>  > 
>  > Sure. But we are not on the macro level here but on the "system
>  > call" level. Why can't luatex in TeXlive not handle the system call
>  > to file names correctly?
 
> On Unix everything works as expected, as Markus already confirmed.

Well Klaus is on Unix ... so it work on unix only with some
settings.

 
> The problem is the user interface.  A German Windows is using CP1252
> and, even worse, CP850 on the command line. 

Sure but miktex handles this interface without problem. 
I tried this test in various combinations:
lualatex \def\test{???}\input{test-utf8}
Regardless if I'm in the command line, in a command line with 
chcp 65001, in a msys bash (with \\ there):  miktex works, texlive
not.


> Problems occur when user interfaces are involved which are not aware
> of Unicode.  Sure, if you know which encoding is used you can convert
> any filenames to Unicode.  But what about \openout?  You can convert any
> 8-bit character encoding to Unicode but not vice versa.
> 
> What do you expect to happen if you create a file
> 
>   "???-??????? ????-???"

You don't need not convince me of the benefits of utf8. I would be
happy if there was a button to switch to it in windows.


> I also don't hesitate to use non-ASCII characters in file names.

Also in file names that you want to \input in a pdflatex file? I
doubt this ;-). 

I don't hesitate to use non-ASCII in files that are be handled only
by me and one application. As soon as such files should go to other
persons and be processed by more than one application (e.g. latex +
biber) I avoid it. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/




From kakuto at fuk.kindai.ac.jp  Sat Jul  5 13:44:33 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 5 Jul 2014 20:44:33 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <hgdb7kl8nolq.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <53B783E6.8060405@nifty.ne.jp> <20140705101057.GA6061@ikki.ethgen.ch>
 <hgdb7kl8nolq.dlg@nililand.de>
Message-ID: <9040E404F90F4D40BB9A3B82941D97F9@CJ3001517A>

Dear Ulrike,

> I can even something like this:
>
> G:\Z-Test>lualatex --jobname=test \documentclass{article}
> \usepackage{fontspec} \begin{document} hello ??? \end{document}
>
> lualatex then writes the (correct) output to test.pdf.
>
> All this doesn't work on texlive.

It works for xelatex in texlive (windows), if you write in texmf.cnf
command_line_encoding=utf8

Best,
Akira




From P.Taylor at Rhul.Ac.Uk  Sat Jul  5 14:10:27 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 5 Jul 2014 13:10:27 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <9040E404F90F4D40BB9A3B82941D97F9@CJ3001517A>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <53B783E6.8060405@nifty.ne.jp> <20140705101057.GA6061@ikki.ethgen.ch>
 <hgdb7kl8nolq.dlg@nililand.de> <9040E404F90F4D40BB9A3B82941D97F9@CJ3001517A>
Message-ID: <53B7EB33.1050306@Rhul.Ac.Uk>



Akira Kakuto wrote:

>> G:\Z-Test>lualatex --jobname=test \documentclass{article}
>> \usepackage{fontspec} \begin{document} hello ??? \end{document}

> It works for xelatex in texlive (windows), if you write in texmf.cnf
> command_line_encoding=utf8

I thought to experiment with this, but it fails in various ways in
TeX Live 2013 as summarised below :

1) The TeX Live command prompt opens in C:\Windows\System32; this is
a crazy place in which to open, since write permission is not granted
thereto.

2) Because write permission is not granted, I am told :

 > ! I can't write on file `test.log'.
 > (Press Enter to retry, or Control-Z to exit

When I then enter <Ctrl-Z>, "^Z" is echoed but nothing else happens.
If I then follow <Ctrl-Z>L with <Enter>, I then receive an "*" prompt,
so "exit" has still not occurred.

I then try "\end", TeX proceeds further, but still does not exit.
Finally I try yet another "\end" (both of the preceding being
terminated by <Return>), and finally TeX dies.

NOTHING to do with the original problem/report/diagnosis, but
an indication, I would suggest, that TeX Live 2013 behaves
incorrectly when a TeX Live 2013 command prompt is opened
(inappropriate current directory), and (b) the diagnostic
"Enter [...] Control-Z to exit" does not lead to the
expected behaviour (programme exit) when <Ctrl-Z> is entered.

Philip Taylor
--------
> Microsoft Windows [Version 6.1.7601]
> Copyright (c) 2009 Microsoft Corporation.  All rights reserved.
>
> C:\Windows\system32>xelatex --jobname=test \documentclass{article}
> This is XeTeX, Version 3.1415926-2.5-0.9999.3 (TeX Live 2013/W32TeX)
>  restricted \write18 enabled.
> entering extended mode
> LaTeX2e <2011/06/27>
> Babel <3.9g> and hyphenation patterns for 78 languages loaded.
> ! I can't write on file `test.log'.
> (Press Enter to retry, or Control-Z to exit; default file extension is `.log')
> Please type another transcript file name: \usepackage{fontspec} \begin{document}
>  hello ??? \end{document}^Z
>
> *\end
> d:/TeX/Live/2013/texmf-dist/tex/latex/base/article.cls
> ocument Class: article 2007/10/19 v1.4h Standard LaTeX document class
> d:/TeX/Live/2013/texmf-dist/tex/latex/base/size10.clo))
> \end
>  TeX capacity exceeded, sorry [input stack size=5000].
> end #1->\csname end#1
>                      \endcsname \@checkend {#1}\expandafter \endgroup \if at e...
> *> \end
>
> No pages of output.
> ranscript written on \usepackage{fontspec}.log.







From P.Taylor at Rhul.Ac.Uk  Sat Jul  5 14:16:20 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 5 Jul 2014 13:16:20 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <9040E404F90F4D40BB9A3B82941D97F9@CJ3001517A>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <53B783E6.8060405@nifty.ne.jp> <20140705101057.GA6061@ikki.ethgen.ch>
 <hgdb7kl8nolq.dlg@nililand.de> <9040E404F90F4D40BB9A3B82941D97F9@CJ3001517A>
Message-ID: <53B7EC94.7030701@Rhul.Ac.Uk>

Kakuto-san :

> It works for xelatex in texlive (windows), if you write in texmf.cnf
> command_line_encoding=utf8

I have (at least) three instances of "texmf.cnf"; one at 
D:\TeX\Live\2013, another at D:\TeX\Live\2013\texmf-dist, and the third
at D:\TeX\Live\2013\texmf-dist\doc\generic\pgf\text-en  -- which
of these should I edit ?  Presumably not the last, but which of
the first two ?

** Phil (Philip Taylor)


From kakuto at fuk.kindai.ac.jp  Sat Jul  5 14:25:13 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 5 Jul 2014 21:25:13 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <53B7EB33.1050306@Rhul.Ac.Uk>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <53B783E6.8060405@nifty.ne.jp> <20140705101057.GA6061@ikki.ethgen.ch>
 <hgdb7kl8nolq.dlg@nililand.de> <9040E404F90F4D40BB9A3B82941D97F9@CJ3001517A>
 <53B7EB33.1050306@Rhul.Ac.Uk>
Message-ID: <F93E4EE9000444F091831A0464D2BE26@CJ3001517A>

Dear Philip,

> I thought to experiment with this, but it fails in various ways in
> TeX Live 2013 as summarised below :

Sorry, Philip.
I forgot to write that those are new features in TeX Live 2014.

Best,
Akira



From Klaus+texlivelist at ethgen.ch  Sat Jul  5 15:29:51 2014
From: Klaus+texlivelist at ethgen.ch (Klaus Ethgen)
Date: Sat, 5 Jul 2014 14:29:51 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <3086.1404463365@cl.cam.ac.uk>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk>
Message-ID: <20140705132949.GA25739@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Hi,

Am Fr den  4. Jul 2014 um  9:42 schrieb Robin Fairbairns:
> no, it's correct: iso 8859-1 has no "forbidden" octets (it does, iirc,
> have some unassigned ones)
> 
> whereas
> 
> utf-8 rejects some octets in some contexts, since it's generating a
> 32-bit glyph from 8-bit input.  (it's complicated.  honest.)

See the output from the following line:
  perl -MEncode -e 'for (my $i=0; $i < 256; $i++){printf "%d:\t%s\t%s\t0x%s\t0x%s\n", $i, chr($i), encode("UTF-8", decode("iso-8859-1", chr($i))), unpack("h*", chr($i)), unpack("h*", encode("UTF-8", decode("iso-8859-1", chr($i))));}' | less

I use less as not all characters are nice to the terminal. On a full
8bit terminal that will output the latin1 char, the char after converted
to UTF-8 and the hex value of both. On a UTF-8 terminal that will most
likely not work (or perl tell you that ther is something wrong) or
simply don't show any in the first column as it cannot display all
octeds that can be in latin1.

Gru?
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTt/3NAAoJEKZ8CrGAGfasbwoL+gPdyOmScBcEgVPOGRVt+UbD
zoXmR8ZNS9meQt/LbeKkrPbUuRgUAGb5IR9Zwkg3z3pc7uQPu5hW5SMEuHKgxDBr
KIWxF9sIsQVZ+u0xyC+mWbEhGKfRQPDpMErbErDMnWpggHu0jcFAmn2I+brZ6AV3
qO2Clq4H5oJYJk3EwnstSs4Z+UsghsxCShiEfDgLXMuQNO7WsIFXWLsIlOSpMCp0
wkVP8obiMioU34UmX0VcN57OYOZze/ocqM8OgVxhnYmSI5KFXdkzioRi+9MVQH8o
uTRiyY+f5xGMlLjEIhUTADTqG82lx8V616WV8xask308V2KZ+v414u+3peTjAnbw
qv5v+Rxz88fQNbrsoPuBFiCIRFsdQnBdpCCjcpR2kQbfXT6m401BVpz8Jt2EaDFV
s/k1pb/PovPvjJGtVtq2mpSaydYAf66yJzQqghxGqHfLcj9fQJgT20iuSPrUeoo5
SkszuPAyh6w1QDBRgIh2mdQ4sidJgW7AMaUChCdqRQ==
=55O3
-----END PGP SIGNATURE-----



From zdenek.wagner at gmail.com  Sat Jul  5 15:38:15 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 5 Jul 2014 15:38:15 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140705132949.GA25739@ikki.ethgen.ch>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk>	<20140705132949.GA25739@ikki.ethgen.ch>
Message-ID: <CAC1phyYKeK2dMTMtxCyfLk7391kMazV2bhTko4BV0+qXw3RNJw@mail.gmail.com>

2014-07-05 15:29 GMT+02:00 Klaus Ethgen <Klaus+texlivelist at ethgen.ch>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA512
>
> Hi,
>
> Am Fr den  4. Jul 2014 um  9:42 schrieb Robin Fairbairns:
>> no, it's correct: iso 8859-1 has no "forbidden" octets (it does, iirc,
>> have some unassigned ones)
>>
>> whereas
>>
>> utf-8 rejects some octets in some contexts, since it's generating a
>> 32-bit glyph from 8-bit input.  (it's complicated.  honest.)
>
> See the output from the following line:
>   perl -MEncode -e 'for (my $i=0; $i < 256; $i++){printf "%d:\t%s\t%s\t0x%s\t0x%s\n", $i, chr($i), encode("UTF-8", decode("iso-8859-1", chr($i))), unpack("h*", chr($i)), unpack("h*", encode("UTF-8", decode("iso-8859-1", chr($i))));}' | less
>
> I use less as not all characters are nice to the terminal. On a full
> 8bit terminal that will output the latin1 char, the char after converted
> to UTF-8 and the hex value of both. On a UTF-8 terminal that will most
> likely not work (or perl tell you that ther is something wrong) or
> simply don't show any in the first column as it cannot display all
> octeds that can be in latin1.
>
Please, read and try to understand the unicode standard and the utf-*
transport formats. Your complaints are the same as if you complained
that using a screwdriver you are not able to unscrew the nail but you
can pull it out by pliers, therefore screwdrivers are absolutely
useless and should not ever be produced.

> Gru?
>    Klaus
> - --
> Klaus Ethgen                              http://www.ethgen.ch/
> pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
> Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1
>
> iQGcBAEBCgAGBQJTt/3NAAoJEKZ8CrGAGfasbwoL+gPdyOmScBcEgVPOGRVt+UbD
> zoXmR8ZNS9meQt/LbeKkrPbUuRgUAGb5IR9Zwkg3z3pc7uQPu5hW5SMEuHKgxDBr
> KIWxF9sIsQVZ+u0xyC+mWbEhGKfRQPDpMErbErDMnWpggHu0jcFAmn2I+brZ6AV3
> qO2Clq4H5oJYJk3EwnstSs4Z+UsghsxCShiEfDgLXMuQNO7WsIFXWLsIlOSpMCp0
> wkVP8obiMioU34UmX0VcN57OYOZze/ocqM8OgVxhnYmSI5KFXdkzioRi+9MVQH8o
> uTRiyY+f5xGMlLjEIhUTADTqG82lx8V616WV8xask308V2KZ+v414u+3peTjAnbw
> qv5v+Rxz88fQNbrsoPuBFiCIRFsdQnBdpCCjcpR2kQbfXT6m401BVpz8Jt2EaDFV
> s/k1pb/PovPvjJGtVtq2mpSaydYAf66yJzQqghxGqHfLcj9fQJgT20iuSPrUeoo5
> SkszuPAyh6w1QDBRgIh2mdQ4sidJgW7AMaUChCdqRQ==
> =55O3
> -----END PGP SIGNATURE-----
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From Klaus+texlivelist at ethgen.ch  Sat Jul  5 23:33:26 2014
From: Klaus+texlivelist at ethgen.ch (Klaus Ethgen)
Date: Sat, 5 Jul 2014 22:33:26 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <CAC1phyYKeK2dMTMtxCyfLk7391kMazV2bhTko4BV0+qXw3RNJw@mail.gmail.com>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk> <20140705132949.GA25739@ikki.ethgen.ch>
 <CAC1phyYKeK2dMTMtxCyfLk7391kMazV2bhTko4BV0+qXw3RNJw@mail.gmail.com>
Message-ID: <20140705213324.GA23279@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Am Sa den  5. Jul 2014 um 14:38 schrieb Zdenek Wagner:
> Please, read and try to understand the unicode standard and the utf-*
> transport formats. Your complaints are the same as if you complained
> that using a screwdriver you are not able to unscrew the nail but you
> can pull it out by pliers, therefore screwdrivers are absolutely
> useless and should not ever be produced.

Did you read my Post and the one of Robin Fairbairns? I didn't wrote any
about "useless". You said that.

I did just show some technical facts about UTF-8. Not more and not less.

Pleas stay objective.

Regards
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTuG8kAAoJEKZ8CrGAGfas/lUMAJHOqlLMQcA0zoUpx3j50UiJ
GJLryZNg/oIH7wsVHKShSKMirw79dEm0A6TqgqaR7wYGRBVQf95riRJ4aeD/SA/h
BrqlH5rP521PgA0Zwtpz1YLUa3wB36FaqK93JpE/Ngvm0sXMivrTwSRZVLhhDBfH
9YZP/TjeZdfdCUJUsfAIg4BxqXCOyM294qLYthgG74FY5lEtNXmYDTMZ840mn40G
fmmBoAjxEx93Vmii3ZPTdjWEBmzTF2ScaztF8barmNREauNaKHddbFI+dbnr98KR
NaFhojCJSzj87iiAAUAO7m0ZwbofkOe38fttvFFpTFjalYzRaH8Zhm1EPrVMqQ92
1TkGxLsg173t3rmDxsxVKlztfbQaRlYxV5j6q+aLG0ISN73xbnCaG1fFF2IGJAKi
pLKBX9UxGGt5kR2Q3uBneU7gGLGpZw1HEw4aT5j/LsxM2kaiyFYGPQUTG4gsCr0Y
6+VDjPCsHSQNmJlYc4ALDPQESI6e/D5GDvn+PMU7zA==
=qbAw
-----END PGP SIGNATURE-----


From reinhard.kotucha at web.de  Sun Jul  6 02:50:12 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 6 Jul 2014 02:50:12 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <11y2thr0g86s9$.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>	<wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <t42abv3qydvl.dlg@nililand.de>	<21431.39430.843719.802771@zaphod.ms25.net>
 <11y2thr0g86s9$.dlg@nililand.de>
Message-ID: <21432.40260.448058.572626@zaphod.ms25.net>

On 2014-07-05 at 13:31:58 +0200, Ulrike Fischer wrote:

 > Regardless if I'm in the command line, in a command line with 
 > chcp 65001, in a msys bash (with \\ there):  miktex works, texlive
 > not.

Does MiKTeX allow to create a file (\openout) whose mame contains
characters which are not supported by the 8-bit codepage currently
in use, e.g. '???.foo'?  If this works then MiKTeX accesses the
filesystem directly and doesn't consult any codepages.

I tried chcp 65001 some time ago on Windows7 but it had no effect.
Subversion stores comments in UTF-8.  So when I ran

  svn log

on the command line, non-ASCII characters were not displayed properly.
I expected that chcp 65001 solves the problem but it didn't.
Does anybody know more?

 > > Problems occur when user interfaces are involved which are not
 > > aware of Unicode.  Sure, if you know which encoding is used you
 > > can convert any filenames to Unicode.  But what about \openout?
 > > You can convert any 8-bit character encoding to Unicode but not
 > > vice versa.
 > > 
 > > What do you expect to happen if you create a file
 > > 
 > >   "???-??????? ????-???"
 > 
 > You don't need not convince me of the benefits of utf8. I would be
 > happy if there was a button to switch to it in windows.

Sure, but what I meant is that you cannot convert Unicode to ISO-8859.
This is not a problem when reading a file.  The problem occurs when
you create a file.  Hence it's not sufficient to consider reading
only.  

BTW, what I prefer is to be able to use UTF-8 on Windows *without* the
need to press a button.  There is no such button on Linux and I don't
miss it.  It's nice that everything works out-of-the-box.

 > > I also don't hesitate to use non-ASCII characters in file names.
 > 
 > Also in file names that you want to \input in a pdflatex file? I
 > doubt this ;-). 

Well, I'm using pdftex for existing files only or for testing TeX
macros which don't require Lua or OpenType fonts.  (pdftex is a bit
faster).

 > I don't hesitate to use non-ASCII in files that are be handled only
 > by me and one application. As soon as such files should go to other
 > persons and be processed by more than one application (e.g. latex +
 > biber) I avoid it.

Yes, when I give files away I'm careful too, especially because I
don't know anything about the recipient's environment.  And I expect
problems on Windows.  But I don't worry about names of files which I
download from the internet.  It's simply too much work to rename them
all.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------



From reinhard.kotucha at web.de  Sun Jul  6 04:05:52 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 6 Jul 2014 04:05:52 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140705213324.GA23279@ikki.ethgen.ch>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk>	<20140705132949.GA25739@ikki.ethgen.ch>
 <CAC1phyYKeK2dMTMtxCyfLk7391kMazV2bhTko4BV0+qXw3RNJw@mail.gmail.com>
 <20140705213324.GA23279@ikki.ethgen.ch>
Message-ID: <21432.44800.613395.31143@zaphod.ms25.net>

On 2014-07-05 at 22:33:26 +0100, Klaus Ethgen wrote:

 > Did you read my Post and the one of Robin Fairbairns? I didn't
 > wrote any about "useless". You said that.
 > 
 > I did just show some technical facts about UTF-8. Not more and not
 > less.
 > 
 > Pleas stay objective.

Klaus, I must admit that I understand why people can't follow you.

The purpose of LuaTeX is to provide a TeX system which supports
Unicode.  It works like a charm but you deliberately broke it because
you are against Unicode.  So why do you use LuaTeX at all?

And why should LuaTeX support Latin1?  Why don't you simply stick to
ASCII?  You obviously believe in these crappy national 8-bit
encodings.  But please keep in mind that most people (Chinese,
Koreans, ...) need more than 256 characters.

Why, on earth, should LuaTeX make an exception for you?

It's a matter of fact that things don't work for you because you broke
your system deliberately.  You expect that someone provides a
workaround for a problem which you can avoid easily.  Everything works
fine on Unix.  Admittedly, on Windows the situation is worse.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From zdenek.wagner at gmail.com  Sun Jul  6 10:52:50 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 6 Jul 2014 10:52:50 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <21432.44800.613395.31143@zaphod.ms25.net>
References: <21430.169.788639.272181@zaphod.ms25.net>
 <3086.1404463365@cl.cam.ac.uk>	<20140705132949.GA25739@ikki.ethgen.ch>
 <CAC1phyYKeK2dMTMtxCyfLk7391kMazV2bhTko4BV0+qXw3RNJw@mail.gmail.com>
 <20140705213324.GA23279@ikki.ethgen.ch>
 <21432.44800.613395.31143@zaphod.ms25.net>
Message-ID: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>

2014-07-06 4:05 GMT+02:00 Reinhard Kotucha <reinhard.kotucha at web.de>:
> On 2014-07-05 at 22:33:26 +0100, Klaus Ethgen wrote:
>
>  > Did you read my Post and the one of Robin Fairbairns? I didn't
>  > wrote any about "useless". You said that.
>  >
>  > I did just show some technical facts about UTF-8. Not more and not
>  > less.
>  >
>  > Pleas stay objective.
>
> Klaus, I must admit that I understand why people can't follow you.
>
> The purpose of LuaTeX is to provide a TeX system which supports
> Unicode.  It works like a charm but you deliberately broke it because
> you are against Unicode.  So why do you use LuaTeX at all?
>
> And why should LuaTeX support Latin1?  Why don't you simply stick to
> ASCII?  You obviously believe in these crappy national 8-bit
> encodings.  But please keep in mind that most people (Chinese,
> Koreans, ...) need more than 256 characters.
>
This is even problem for eastern Europe. Some 30 years ago Latin1 was
hardwired in CGA and Hercules monitors as well as in printers and
could not be changed. At that time brothers Kamenick? invented an
encoding where ? was displayed as ? etc. so that the Czech and Slovak
texts were quite readable. And they created such a keaboard driver as
a TSR for MS-DOS. Newer CGA and EGA monitors alowed definition of
characters so they created files for monitors and printers that
enabled to use Czech and Slovak characters. This unofficial encoding
ramained in use more than 20 years (and probably TeX support files
still exist). IBM came with official CP852 code page, Unix with ISO
8859-2, later Windows came with CP1250 while the black Windows text
console still uses CP852 (even now). Thus I always had to convert
files from one encoding to another. I still have to do it because not
all users have switched to Unicode.

> Why, on earth, should LuaTeX make an exception for you?
>
> It's a matter of fact that things don't work for you because you broke
> your system deliberately.  You expect that someone provides a
> workaround for a problem which you can avoid easily.  Everything works
> fine on Unix.  Admittedly, on Windows the situation is worse.
>
I understand what Klaus means. He has Latin1 locale and types

luatex something

where "something" contains umlaut characters in Latin1 but luatex
wants unicode. His installation is simple because he probably does not
access disks mounted from other network sources so that the charset of
his file system is the same as his system locale (but it need not be
true in general). Thus what he want, just passing the octets from the
command line as octets for the file system, is wrong in principle, it
cannot work, it will cause even more troubles if files are shared over
heterogeneous network. It would bea valid feature request to ask
luatex and xetex to convert the command line according to the system
locale and when opening files to convert the file name according to
the filesystem charset. Now it depends whether someone considers such
a feature request that important to implement it. What I see from the
posts is that Klaus does not understand the difference between octets
and characters.

> Regards,
>   Reinhard
>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From news3 at nililand.de  Sun Jul  6 12:16:03 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 6 Jul 2014 12:16:03 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <t42abv3qydvl.dlg@nililand.de> <21431.39430.843719.802771@zaphod.ms25.net>
 <11y2thr0g86s9$.dlg@nililand.de> <21432.40260.448058.572626@zaphod.ms25.net>
Message-ID: <8fizrc9dw7rn$.dlg@nililand.de>

Am Sun, 6 Jul 2014 02:50:12 +0200 schrieb Reinhard Kotucha:

> On 2014-07-05 at 13:31:58 +0200, Ulrike Fischer wrote:
> 
>  > Regardless if I'm in the command line, in a command line with 
>  > chcp 65001, in a msys bash (with \\ there):  miktex works, texlive
>  > not.
> 
> Does MiKTeX allow to create a file (\openout) whose mame contains
> characters which are not supported by the 8-bit codepage currently
> in use, e.g. '???.foo'? 

Yes it does, see below. But I don't think that this is relevant in
the discussion. I don't need my tools to be able to handle all
scripts in the world. My editor can't handle right-to-left writing
and I couldn't care less. And until some time ago the editor could
handle utf8 only if I used only chars that could be mapped to chars
cp 1252 range and this was absolutly no problem. And this true for a
lot of people: they don't need utf8 to access exotic glyphs. The
main benefit of utf8 for me is that -- as a standard format -- it is
easier to move around between different OS and between people. 

 
Well an here the result of the miktex tests. I did run this with
lualatex:

\documentclass{article}
\usepackage{fontspec}

\begin{filecontents}{abc???.tex}
  \documentclass{article}
  \usepackage{fontspec}
  \begin{document}
   hello ???
   \end{document}
\end{filecontents}   

\begin{document}
\newwrite\testwrite
\immediate\openout\testwrite=xyz???.tex
\immediate\write\testwrite{???}
\immediate\closeout\testwrite

\input{xyz???}
\end{document}


It worked without problems and created the files. In the windows
explorer the files names looks right.

I can open the files in my editor and compile there with miktex with
the normal shortcuts.

I can access and run the abc-file on the command line with tab
completation (that's why I added the abc ...) and compile it without
problems. I see on the command line the file name like this:

lualatex abc???.tex

...
Output written on abc?????????.pdf (1 page, 3613 bytes).  


TeXLive says in all cases "! I can't find file `abc???.tex'."

> I tried chcp 65001 some time ago on Windows7 but it had no effect.

Well it changes something: I can't some input chars (I didn't change
the console font for the tests), but I didn't try to find out more
about it. 


> Yes, when I give files away I'm careful too, 

As the majority of files I handle are either for or from other
people I'm simply always careful. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/




From KXD02663 at nifty.ne.jp  Sun Jul  6 15:00:07 2014
From: KXD02663 at nifty.ne.jp (TANAKA Takuji)
Date: Sun, 6 Jul 2014 22:00:07 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <8fizrc9dw7rn$.dlg@nililand.de>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net> <wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <t42abv3qydvl.dlg@nililand.de> <21431.39430.843719.802771@zaphod.ms25.net>
 <11y2thr0g86s9$.dlg@nililand.de> <21432.40260.448058.572626@zaphod.ms25.net>
 <8fizrc9dw7rn$.dlg@nililand.de>
Message-ID: <53B94857.5020902@nifty.ne.jp>

Hi,

I don't know how miktex handle the issue.
According to my examination,
to fix the problems around Unicode on Windows console (command prompt),
we must use Unicode version of WIN32API
for example, ReadConsoleW, WriteConsoleW, GetCommandLineW,
CommandLineToArgvW, FindFirstFileW, FindNextFileW, _wfopen, and _wpopen
instead of POSIX functions.
I implemented them for xetex, uptex in TeX Live 2014.

(2014/07/06 19:16), Ulrike Fischer wrote:
>
> I see on the command line the file name like this:
>
> lualatex abc???.tex
>
> ...
> Output written on abc?????????.pdf (1 page, 3613 bytes).
>
>
> TeXLive says in all cases "! I can't find file `abc???.tex'."
>

Takuji Tanaka




From Klaus at Ethgen.ch  Sun Jul  6 23:20:14 2014
From: Klaus at Ethgen.ch (Klaus Ethgen)
Date: Sun, 6 Jul 2014 22:20:14 +0100
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
Message-ID: <20140706212013.GA2533@ikki.ethgen.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Hi,

Sorry that I reported a bug in lualatex. I was thinking that there is
interest in fixing bugs. Instead, people having a different view of life
will be slag off. Never mind, folks, but that was the first and the last
bug report I ever made for TeX. Sorry, that is no way that I thought,
civilized people should talk with each other.

Am So den  6. Jul 2014 um  3:05 schrieb Reinhard Kotucha:
> The purpose of LuaTeX is to provide a TeX system which supports
> Unicode.


No, it isn't. That is just one goal. One other goal was to give better
font support.

> It works like a charm but you deliberately broke it because you are
> against Unicode.

It broke as it is buggy.

> And why should LuaTeX support Latin1?

Because it is a valid encoding.

> Why don't you simply stick to ASCII?  You obviously believe in these
> crappy national 8-bit encodings.

And you seams to think that there is nothing other in the world than
your god UTF-8 (or Unicode).

While Unicode has its field where it is great, thinking that there
should be nothing else is - sorry, I find no other word for it - stupid.

> But please keep in mind that most people (Chinese, Koreans, ...) need
> more than 256 characters.

I cannot read and write such languages. Sorry. So why again should I
write such Text?

I have no problem if other people write in UTF-8 if it is specified for
the particular system. But you (and other) seems to have a problem with
that there are other people around that don't use that Encoding.

And you forget Russians. But ah, they uses more koi8 than UTF-8, such
sad.

> It's a matter of fact that things don't work for you because you broke
> your system deliberately.

I did not break it. Lualatex is just buggy. Accept that or not, it do
not change the fact.

> You expect that someone provides a workaround for a problem which you
> can avoid easily.

I expect software without bugs or with there authors want to fix bugs.

> Everything works fine on Unix.

Then just stay in your small world.

Am So den  6. Jul 2014 um  9:52 schrieb Zdenek Wagner:
> I understand what Klaus means. He has Latin1 locale and types
> 
> luatex something

Correct.

> where "something" contains umlaut characters in Latin1 but luatex
> wants unicode. His installation is simple because he probably does not
> access disks mounted from other network sources so that the charset of
> his file system is the same as his system locale (but it need not be
> true in general).

Well, and here is the point. Even if you use a remote mounted
filesystem, you expect that the filename is used in the way you see it.
You would never expect that you have to write "?" on the commandline
when the "ls" shows you a "??", you would type "??" in that case.

The user always use the charset that he sees.

> Thus what he want, just passing the octets from the command line as
> octets for the file system, is wrong in principle, it cannot work, it
> will cause even more troubles if files are shared over heterogeneous
> network.

No, it is the only way it could ever work. The user would never type
something different on command line as he sees.

If all is UTF-8, that is great as the input octets forms valid UTF-8 so
the file system does.

If using latin1 on commandline it would too as it would encode that what
the user sees via "ls".

But just don't bother more. I would never ever report bugs in lualatex
thanks of the mobbing that takes place here. This will be my last mail
to the mailing list. I simply like to spend my time to some productive
stuff and not for fighting against mobbing.

Regards
   Klaus
- -- 
Klaus Ethgen                              http://www.ethgen.ch/
pub  4096R/4E20AF1C 2011-05-16   Klaus Ethgen <Klaus at Ethgen.de>
Fingerprint: 85D4 CA42 952C 949B 1753  62B3 79D0 B06F 4E20 AF1C
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQGcBAEBCgAGBQJTub2NAAoJEKZ8CrGAGfaslacL/2OlNqxVx5SeQYgJcPliV8ag
EZF17nOeo7n15p4pL+YJwVmxUpxfXISuWFCTFHe6s8maBsGJZ5Rn5cxk6ATDPsG8
M462Wei6dou8GIoBPu+umqwraUawaitNS5fdudni2mT/QIR87YAXRcFSuRN9bwKi
/YAzH1A27T5M0RaO87zZ6dTX6uSE4WHUQQHp5NJtlUNgg67YSY72d/cwL59d/X4J
OT68pcfQzLKqiQ0vBi736h3YllJDnvErBI7nKNSfWr2D9m3gaXdZxrRb/Kvs1/xd
SmdnMEwiv9sifPn64cVWoLQ8CIlZCzgG304/9C8XE/LpUbiwTiru9oxVvuO84kSs
4R6i9cEwi8DS9ZBEXogJ7UaUKfJsoglzlOCdazTq4cKcvCN8ZMDA/e9NKfpqjV4G
CWQySJxV/aZBejH1z0muCYTt/UnbdBAibXt/g5o9JKFb4TMaYnEjEJVg6FSRCshg
OIwPCEa0Fg8MJaAAzQBQ9i72YKnCV+00jIvj7deY9A==
=Kztd
-----END PGP SIGNATURE-----



From karl at freefriends.org  Mon Jul  7 01:06:59 2014
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2014 23:06:59 +0000
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140706212013.GA2533@ikki.ethgen.ch>
Message-ID: <201407062306.s66N6x1M015197@freefriends.org>

To the best of my knowledge, luatex supports and has always supported
Latin-N and other 8-bit encodings (by internally converting them to
UTF-8, but that's irrelevant).

Thus, Klaus, I myself think that what you are describing is indeed a
bug, and I think it needs to be reported to the LuaTeX developers (Taco
et al.).  That's supposed to be http://tracker.luatex.org, but it (and
luatex.org) are down for me right now.  I'll write Taco.

best,
karl


From reinhard.kotucha at web.de  Mon Jul  7 04:43:11 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 7 Jul 2014 04:43:11 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <53B94857.5020902@nifty.ne.jp>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>	<wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <t42abv3qydvl.dlg@nililand.de>	<21431.39430.843719.802771@zaphod.ms25.net>
 <11y2thr0g86s9$.dlg@nililand.de>	<21432.40260.448058.572626@zaphod.ms25.net>
 <8fizrc9dw7rn$.dlg@nililand.de>	<53B94857.5020902@nifty.ne.jp>
Message-ID: <21434.2367.483127.373544@zaphod.ms25.net>

On 2014-07-06 at 22:00:07 +0900, TANAKA Takuji wrote:

 > I don't know how miktex handle the issue.  According to my
 > examination, to fix the problems around Unicode on Windows console
 > (command prompt), we must use Unicode version of WIN32API for
 > example, ReadConsoleW, WriteConsoleW, GetCommandLineW,
 > CommandLineToArgvW, FindFirstFileW, FindNextFileW, _wfopen, and
 > _wpopen instead of POSIX functions.  I implemented them for xetex,
 > uptex in TeX Live 2014.

Dear Tanaka-san,
if you implemented it successfully for xetex and uptex I strongly
recommend to contact Taco, the author of luatex.  It's probaly more
work to achieve this with luatex because files can be accessed by TeX
as well as by Lua.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From reinhard.kotucha at web.de  Mon Jul  7 05:55:35 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 7 Jul 2014 05:55:35 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140706212013.GA2533@ikki.ethgen.ch>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
Message-ID: <21434.6711.725010.458648@zaphod.ms25.net>

On 2014-07-06 at 22:20:14 +0100, Klaus Ethgen wrote:

 >> Everything works fine on Unix.
 > 
 > Then just stay in your small world.

Hi Klaus,
thanks for saying this.  With the advent of Unicode the world got much
smaller indeed than it had been before.  ;)

>From your mail I deduce that you aren't happy with the answers you
got.  But UTF-8 works fine for me, Zden?k, and maybe everybody else
except you.  Can you tell us *what* doesn't work for you?

Regards,
 Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------



From preining at logic.at  Mon Jul  7 06:24:39 2014
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2014 13:24:39 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <21434.6711.725010.458648@zaphod.ms25.net>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
Message-ID: <20140707042439.GV23620@auth.logic.tuwien.ac.at>

On Mon, 07 Jul 2014, Reinhard Kotucha wrote:
> From your mail I deduce that you aren't happy with the answers you
> got.  But UTF-8 works fine for me, Zden?k, and maybe everybody else
> except you.  Can you tell us *what* doesn't work for you?

Reinhard, please, give him a break. There seems to be a bug
wrt to latin1 handling when it comes to command line and file
treatment.

Karl already mentioned that he will contact Taco.

I agree that I am happy with UTF8, but we *should* support latin1
(or, for that matter, latin9, or maybe also latinN for N in ...)
as far as possible

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------



From reinhard.kotucha at web.de  Mon Jul  7 07:21:47 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 7 Jul 2014 07:21:47 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140707042439.GV23620@auth.logic.tuwien.ac.at>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at>
Message-ID: <21434.11883.550722.553197@zaphod.ms25.net>

On 2014-07-07 at 13:24:39 +0900, Norbert Preining wrote:

 > On Mon, 07 Jul 2014, Reinhard Kotucha wrote:
 > > From your mail I deduce that you aren't happy with the answers you
 > > got.  But UTF-8 works fine for me, Zden?k, and maybe everybody else
 > > except you.  Can you tell us *what* doesn't work for you?
 > 
 > Reinhard, please, give him a break. There seems to be a bug
 > wrt to latin1 handling when it comes to command line and file
 > treatment.

Hi Norbert,
Klaus said that UTF-8 doesn't work for him.  He didn't say that the
problem is related to TeX Live.  He said that Latin1 doesn't work with
luatex.  But this is a different issue.

I'm wondering why Klaus has problems with a UTF-8 locale and I need
more information in order to compare his setup with mine.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------



From kakuto at fuk.kindai.ac.jp  Mon Jul  7 07:57:44 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 7 Jul 2014 14:57:44 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <21434.2367.483127.373544@zaphod.ms25.net>
References: <20140703172352.GA2397@ikki.ethgen.ch>
 <CAC1phyboEu+4izvqPX6EUiLJCTCUGUKk-aqPELB4Pxgeo6TQCQ@mail.gmail.com>
 <20140703230840.GA23020@ikki.ethgen.ch>
 <21430.169.788639.272181@zaphod.ms25.net>	<wvrp5cr1abvl.dlg@nililand.de>
 <CAC1phyZv4MHS3=JzUU3WVLFcFSepOb4cCe-Urz6kbtSrW922cA@mail.gmail.com>
 <t42abv3qydvl.dlg@nililand.de>	<21431.39430.843719.802771@zaphod.ms25.net>
 <11y2thr0g86s9$.dlg@nililand.de>	<21432.40260.448058.572626@zaphod.ms25.net>
 <8fizrc9dw7rn$.dlg@nililand.de>	<53B94857.5020902@nifty.ne.jp>
 <21434.2367.483127.373544@zaphod.ms25.net>
Message-ID: <8637D59A48674D90B910AC738D4856A2@CJ3001517A>

Dear Reinhard,

> if you implemented it successfully for xetex and uptex I strongly
> recommend to contact Taco, the author of luatex.  It's probaly more
> work to achieve this with luatex because files can be accessed by TeX
> as well as by Lua.

As I wrote, Tanaka-san's patch was once applied on LuaTeX (0.78.0).
However, ConTeXt-minimal installer and ConTeXt mkiv did not work.
Further, Hans dislikes to touch command-line arguments.

In the latest dev version (r5033: luatex-dev-w32.tar.xz,
luatex-dev-w64.tar.xz), I provide a luatex which uses Tanaka-san's
patch if ond only if
(1)
command_line_encoding = utf8
is set in texmf.cnf
(2) the first argument (argv[1]) is --cmdx.

Therefore, I expect lualatex --cmdx  ... behaves like the
lualatex  ... in MikTeX.

As the default behaviors are not changed, ConTeXt mkiv works fine.

Thanks,
Akira



From mojca.miklavec.lists at gmail.com  Mon Jul  7 08:19:50 2014
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 7 Jul 2014 08:19:50 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140707042439.GV23620@auth.logic.tuwien.ac.at>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at>
Message-ID: <CALBOmsZwrk4_fCOe8D8C+EQrUB1fCFRxQE5D21SywOud=8Or-w@mail.gmail.com>

On Mon, Jul 7, 2014 at 6:24 AM, Norbert Preining wrote:
> On Mon, 07 Jul 2014, Reinhard Kotucha wrote:
>> From your mail I deduce that you aren't happy with the answers you
>> got.  But UTF-8 works fine for me, Zden?k, and maybe everybody else
>> except you.  Can you tell us *what* doesn't work for you?
>
> Reinhard, please, give him a break. There seems to be a bug
> wrt to latin1 handling when it comes to command line and file
> treatment.

I couldn't agree more.

> I agree that I am happy with UTF8, but we *should* support latin1
> (or, for that matter, latin9, or maybe also latinN for N in ...)
> as far as possible

I just wanted to say that supporting 8-bit encodings probably cannot
be implemented properly. It can be implemented in such a way that
running weird filenames will work, but only to a certain very limited
extent. I was actually surprised to learn that whitespaces in
filenames work at all with pdfTeX. (The don't work with ConTeXt MkII
for example.) Spaces and quotation marks in path of TeX Live
installation also cause a whole bunch of problems all over the place
(with everyone asking for mental health of the person trying to
install TeX Live into "/usr/local/Schroedinger's TeX" for example).
And we didn't even leave the ASCII at this point, let alone start
talking about 8-bit.

To start with imagine how to implement what my gnuplot module does for
example. Let's say that the user starts with

% ???.tex
\usemodule[gnuplot]
\starttext
\startGNUPLOTscript[example]
plot 'd?t?.dat' with lines, cos(x) t "c?s(x)"
\stopGNUPLOTscript
\useGNUPLOTgraphic[example]
\stoptext

The modules writes out a file \jobname-gnuplot-1.tmp
(???-gnuplot-1.tmp) containing verbatim:
    plot 'd?t?.dat' with lines, cos(x) t "c?s(x)"
(In what encoding?)

(a) LuaTeX needs to make sure that "\jobname-gnuplot-1.tmp" uses
Latin1, else it will open some garbage filename.

(b) The file "???.tex" was a valid UTF-8 file. The contents of
???-gnuplot-1.tmp are written out verbatim. How exactly is LuaTeX or
my modules supposed to know that this should be converted from UTF-8
to Latin1 to get the 'd?t?.dat' loadable by gnuplot later? And how to
do that conversion? And what should it do with "c?s(x)"? But for the
sake of argument, let's assume that there's a magic function that does
that.

(c) A second file is generated, "\jobname-gnuplot-1.plt"
(???-gnuplot-1.plt) containing
    load '???-gnuplot-1.tmp'
LuaTeX needs to make sure that this ends up as Latin1. It's not clear
to me how to achieve that reliably, but let's say that \jobname does
it's magic and "knows that it should use Latin1 when printed out". (A
bonus question: what if \jobname is used inside a valid UTF-8
document, but the filename itself being Latin1? What should \jobname
inside the document do? Raise invalid sequence? Do the conversion to
UTF-8 automatically? When should it be converted to UTF-8 and when
should it stay in Latin1?)

(d) Now LuaTeX calls "gnuplot \jobname-gnuplot-1.plt". Gnuplot
generates a TeX file with label 'd?t?.dat' in the legend ? in Latin1
encoding of course. LuaTeX needs to process that file and typeset the
filename, but it would complain because of invalid bytes as LuaTeX is
expecting input in UTF-8, but getting some Latin1 characters. I'm not
sure in what encoding "c?s(x)" would end up, but it would break, no
matter what.

(e) Of course then one also has to interact with MetaPost and pass the
contents between TeX and MetaPost. And between TeX and Lua.

This is not to say that LuaTeX shouldn't wok with weird filenames.
Just pointing it out that this will never work properly when trying to
use the filenames for anything else but the very very basic stuff.

Mojca



From josef.kleber at gmx.de  Mon Jul  7 11:48:36 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Mon, 7 Jul 2014 11:48:36 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <20140707042439.GV23620@auth.logic.tuwien.ac.at>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at>
Message-ID: <53BA6CF4.80809@gmx.de>

Hi,

Am 07.07.2014 06:24, schrieb Norbert Preining:
> On Mon, 07 Jul 2014, Reinhard Kotucha wrote:
>>  From your mail I deduce that you aren't happy with the answers you
>> got.  But UTF-8 works fine for me, Zden?k, and maybe everybody else
>> except you.  Can you tell us *what* doesn't work for you?
>
> Reinhard, please, give him a break. There seems to be a bug
> wrt to latin1 handling when it comes to command line and file
> treatment.

I think there is really a problem. While adding support for Google Maps 
for my getmap package 
(https://bitbucket.org/kleberj/getmap/raw/ee40738fc90e492745f2228cac8fbd397a592653/dev/scripts/getmap/gmimage.lua), 
i encountered problems with non-UTF-8 command line options:

texlua gmimage.lua -M "&markers=color:green|label:D|Pergamon 
Museum,Berlin&markers=color:blue|label:S|Bode Museum,Berlin" -C 
"James-Simon-Park,Berlin" -P "&path=weight:7|color:purple|Bode 
Museum,Berlin|Pergamon Museum,Berlin|Neues 
Museum,Berlin|James-Simon-Park,Berlin|Henriette-Herz-Platz,Berlin&path=weight:7|color:brown|Simon-James-Park,Berlin|Weinmeisterstra?e,Berlin" 
-V "Brandenburger Tor,Berlin"

fails (only the last path is absent) because of ? in Weinsteinstra?e, 
whereas

texlua gmimage.lua -M "&markers=color:green|label:D|Pergamon 
Museum,Berlin&markers=color:blue|label:S|Bode Museum,Berlin" -C 
"James-Simon-Park,Berlin" -P "&path=weight:7|color:purple|Bode 
Museum,Berlin|Pergamon Museum,Berlin|Neues 
Museum,Berlin|James-Simon-Park,Berlin|Henriette-Herz-Platz,Berlin&path=weight:7|color:brown|Simon-James-Park,Berlin|Weinmeisterstrasse,Berlin" 
-V "Brandenburger Tor,Berlin"

works (only ASCII). I tracked the problem down to a different encoding 
of ? to Weinmeisterstra%dfe (lua) or Weinmeisterstra%C3%9Fe (bash 
version + wget).

Strangely, that even does not work when calling texlua from bash 
(Cygwin), which uses UTF-8.

Running texlua (Windows) with an utf-8-encoded script does not seem to 
be a problem, but handing over command line options is! I wonder if the 
first texlua call does work on Linux and/or MiKTeX. Can somebody test?

Josef



From krichter722 at aol.de  Mon Jul  7 13:09:29 2014
From: krichter722 at aol.de (Karl-Philipp Richter)
Date: Mon, 7 Jul 2014 13:09:29 +0200
Subject: [tex-live] Arbitrary LaTeX markup in graphs with auto layout
 facilities (only logical relation specification)
Message-ID: <53BA7FE9.3030805@aol.de>

Hi together,
I have the following dream and would like to know someone know whether
it has come true already or knows a combination of programs
(inside/outside LaTeX world) which could achieve the following:

  * put arbitrary LaTeX in a directed graph of arbitrary size on both
nodes and edges (edge labels), I guess the right reliable rendering of a
minipage for edges and nodes should be sufficient as (almost) anything
can be handled inside) (can be done with dot2tex, dot2texi, tikz & Co)
  * specifying nothing but the logical relation of graph elements (nodes
and direction of edges, maybe some tweaks like hyper(sub)graph
construction, but the latter is more of an extension of my request),
e.g. with a markup language (like dot), and let a layout engine do
everything in terms of positioning the nodes and edges (dot2tex and
dot2texi with layout engine dot, spring and neato, twopi, circo, fdp and
sfdp exist, but they have the following issues (that I experienced so
far. According to my - maybe/hopefully - outdated research they comply
with their technical specification):
    * dot: only hiearchical, 1000 unconnected nodes would be put in a
line next to each other (v2.9.0) (that not an auto layout for a graph of
arbitrary size in my terms) (see
https://github.com/kjellmf/dot2tex/issues/18 for further infos)
    * neato: buggy,  doesn't allow arbitrary edges (e.g. a minipage),
intented for undirected graphs
    * twopi, circo: only circular, also unsatisfying with 1000
unconnected nodes
    * fdp, sfdp: for undirected graphs only, have trouble with arbitrary
edge lables as well

I have trouble understanding why so many packages are limited to
undirected graphs.

The use case is nothing less but the ultimative collection of (my)
knowledge and my conviction that it is less annoying to scroll in a DIN
A-10 PDF in the viewer (naively assuming there's one that could handle
such a file...) than turning paper pages, clicking wiki links and
writing SQL statements (or whatever fantastic knowledge storage you can
imagine). And I never want to position a node in this graph, ever.

Curious about your inputs!

Best regards,
Kalle Richter

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 538 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20140707/4edd4674/attachment.bin>

From news3 at nililand.de  Mon Jul  7 13:53:53 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 7 Jul 2014 13:53:53 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at> <53BA6CF4.80809@gmx.de>
Message-ID: <8qig197lmv7t$.dlg@nililand.de>

Am Mon, 7 Jul 2014 11:48:36 +0200 schrieb Josef Kleber:

> Can somebody test?

Not now, perhaps in two days. Does it work if you write the
arguments to a (utf8 encoded) file and load this file in your
script?


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From zdenek.wagner at gmail.com  Mon Jul  7 14:03:14 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 7 Jul 2014 14:03:14 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <53BA6CF4.80809@gmx.de>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at>	<53BA6CF4.80809@gmx.de>
Message-ID: <CAC1phyYKb=ZTVFQC5CqsjLdb3pdGJQz_vYk4J2Aj+yS705m9UQ@mail.gmail.com>

My result (my locale is UTF-8:

$ texlua gmimage.lua  -M "&markers=color:green|label:D|Pergamon
Museum,Berlin&markers=color:blue|label:S|Bode Museum,Berlin" -C
"James-Simon-Park,Berlin" -P "&path=weight:7|color:purple|Bode
Museum,Berlin|Pergamon Museum,Berlin|Neues
Museum,Berlin|James-Simon-Park,Berlin|Henriette-Herz-Platz,Berlin&path=weight:7|color:brown|Simon-James-Park,Berlin|Weinmeisterstra?e,Berlin"
-V "Brandenburger Tor,Berlin"
WARNING: LOCATION not specified; using Dante e.V. Office as default!
WARNING: ZOOM not specified; using ZOOM=18 as default!
WARNING: XSIZE not specified; using XSIZE=600 as default!
WARNING: YSIZE not specified; using YSIZE=400 as default!
WARNING: SCALE not specified, using SCALE=1 as default!
WARNING: TYPE not specified; using roadmap as default!
WARNING: IMAGETYPE not specified; using png as default!
WARNING: COLOR not specified; using blue as default!
WARNING: NUMBER not specified; using 1 as default!


gmimage.lua:
url = http://maps.googleapis.com/maps/api/staticmap?center=James%2dSimon%2dPark%2cBerlin&size=600x400&markers=color%3agreen%7clabel%3aD%7cPergamon%20Museum%2cBerlin&markers=color%3ablue%7clabel%3aS%7cBode%20Museum%2cBerlin&maptype=roadmap$scale=1&format=png&visible=Brandenburger%20Tor%2cBerlin&path=weight%3a7%7ccolor%3apurple%7cBode%20Museum%2cBerlin%7cPergamon%20Museum%2cBerlin%7cNeues%20Museum%2cBerlin%7cJames%2dSimon%2dPark%2cBerlin%7cHenriette%2dHerz%2dPlatz%2cBerlin&path=weight%3a7%7ccolor%3abrown%7cSimon%2dJames%2dPark%2cBerlin%7cWeinmeisterstra%c3%9fe%2cBerlin&sensor=false
output = gmimage.png

2014-07-07 11:48 GMT+02:00 Josef Kleber <josef.kleber at gmx.de>:
> Hi,
>
> Am 07.07.2014 06:24, schrieb Norbert Preining:
>
>> On Mon, 07 Jul 2014, Reinhard Kotucha wrote:
>>>
>>>  From your mail I deduce that you aren't happy with the answers you
>>> got.  But UTF-8 works fine for me, Zden?k, and maybe everybody else
>>> except you.  Can you tell us *what* doesn't work for you?
>>
>>
>> Reinhard, please, give him a break. There seems to be a bug
>> wrt to latin1 handling when it comes to command line and file
>> treatment.
>
>
> I think there is really a problem. While adding support for Google Maps for
> my getmap package
> (https://bitbucket.org/kleberj/getmap/raw/ee40738fc90e492745f2228cac8fbd397a592653/dev/scripts/getmap/gmimage.lua),
> i encountered problems with non-UTF-8 command line options:
>
> texlua gmimage.lua -M "&markers=color:green|label:D|Pergamon
> Museum,Berlin&markers=color:blue|label:S|Bode Museum,Berlin" -C
> "James-Simon-Park,Berlin" -P "&path=weight:7|color:purple|Bode
> Museum,Berlin|Pergamon Museum,Berlin|Neues
> Museum,Berlin|James-Simon-Park,Berlin|Henriette-Herz-Platz,Berlin&path=weight:7|color:brown|Simon-James-Park,Berlin|Weinmeisterstra?e,Berlin"
> -V "Brandenburger Tor,Berlin"
>
> fails (only the last path is absent) because of ? in Weinsteinstra?e,
> whereas
>
> texlua gmimage.lua -M "&markers=color:green|label:D|Pergamon
> Museum,Berlin&markers=color:blue|label:S|Bode Museum,Berlin" -C
> "James-Simon-Park,Berlin" -P "&path=weight:7|color:purple|Bode
> Museum,Berlin|Pergamon Museum,Berlin|Neues
> Museum,Berlin|James-Simon-Park,Berlin|Henriette-Herz-Platz,Berlin&path=weight:7|color:brown|Simon-James-Park,Berlin|Weinmeisterstrasse,Berlin"
> -V "Brandenburger Tor,Berlin"
>
> works (only ASCII). I tracked the problem down to a different encoding of ?
> to Weinmeisterstra%dfe (lua) or Weinmeisterstra%C3%9Fe (bash version +
> wget).
>
> Strangely, that even does not work when calling texlua from bash (Cygwin),
> which uses UTF-8.
>
> Running texlua (Windows) with an utf-8-encoded script does not seem to be a
> problem, but handing over command line options is! I wonder if the first
> texlua call does work on Linux and/or MiKTeX. Can somebody test?
>
> Josef
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gmimage.png
Type: image/png
Size: 59809 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20140707/9de73156/attachment-0001.png>

From josef.kleber at gmx.de  Mon Jul  7 14:27:23 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Mon, 7 Jul 2014 14:27:23 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <CAC1phyYKb=ZTVFQC5CqsjLdb3pdGJQz_vYk4J2Aj+yS705m9UQ@mail.gmail.com>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at>	<53BA6CF4.80809@gmx.de>
 <CAC1phyYKb=ZTVFQC5CqsjLdb3pdGJQz_vYk4J2Aj+yS705m9UQ@mail.gmail.com>
Message-ID: <53BA922B.8090508@gmx.de>

Am 07.07.2014 14:03, schrieb Zdenek Wagner:
> My result (my locale is UTF-8:
>
> $ texlua gmimage.lua  -M "&markers=color:green|label:D|Pergamon
> Museum,Berlin&markers=color:blue|label:S|Bode Museum,Berlin" -C
> "James-Simon-Park,Berlin" -P "&path=weight:7|color:purple|Bode
> Museum,Berlin|Pergamon Museum,Berlin|Neues
> Museum,Berlin|James-Simon-Park,Berlin|Henriette-Herz-Platz,Berlin&path=weight:7|color:brown|Simon-James-Park,Berlin|Weinmeisterstra?e,Berlin"
> -V "Brandenburger Tor,Berlin"
> WARNING: LOCATION not specified; using Dante e.V. Office as default!
> WARNING: ZOOM not specified; using ZOOM=18 as default!
> WARNING: XSIZE not specified; using XSIZE=600 as default!
> WARNING: YSIZE not specified; using YSIZE=400 as default!
> WARNING: SCALE not specified, using SCALE=1 as default!
> WARNING: TYPE not specified; using roadmap as default!
> WARNING: IMAGETYPE not specified; using png as default!
> WARNING: COLOR not specified; using blue as default!
> WARNING: NUMBER not specified; using 1 as default!
>
>
> gmimage.lua:
> url = http://maps.googleapis.com/maps/api/staticmap?center=James%2dSimon%2dPark%2cBerlin&size=600x400&markers=color%3agreen%7clabel%3aD%7cPergamon%20Museum%2cBerlin&markers=color%3ablue%7clabel%3aS%7cBode%20Museum%2cBerlin&maptype=roadmap$scale=1&format=png&visible=Brandenburger%20Tor%2cBerlin&path=weight%3a7%7ccolor%3apurple%7cBode%20Museum%2cBerlin%7cPergamon%20Museum%2cBerlin%7cNeues%20Museum%2cBerlin%7cJames%2dSimon%2dPark%2cBerlin%7cHenriette%2dHerz%2dPlatz%2cBerlin&path=weight%3a7%7ccolor%3abrown%7cSimon%2dJames%2dPark%2cBerlin%7cWeinmeisterstra%c3%9fe%2cBerlin&sensor=false
> output = gmimage.png
>

Thanks for testing, it's the expected image. It's what i expected. This 
confirms that texlua (luatex) only accepts utf-8 for command line 
options, which obviously ia a problem on Windows. Let's wait for 
Ulrike's test with MiKTeX. If it works there then there should really be 
a fix.

Josef




From josef.kleber at gmx.de  Mon Jul  7 14:55:30 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Mon, 7 Jul 2014 14:55:30 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <8qig197lmv7t$.dlg@nililand.de>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at> <53BA6CF4.80809@gmx.de>
 <8qig197lmv7t$.dlg@nililand.de>
Message-ID: <53BA98C2.3030504@gmx.de>

Am 07.07.2014 13:53, schrieb Ulrike Fischer:
> Am Mon, 7 Jul 2014 11:48:36 +0200 schrieb Josef Kleber:
>
>> Can somebody test?
>
> Not now, perhaps in two days.

Would be good, maybe MiKTeX's texlua behaves different

> Does it work if you write the
> arguments to a (utf8 encoded) file and load this file in your
> script?

Works. The relevant part of the url-encoded path is:
Weinmeisterstra%c3%9fe%2cBerlin

At least TeXLive's texlua expects utf-8 and only utf-8 for command line 
options, which is a problem on a standard Windows system.

Josef




From news3 at nililand.de  Mon Jul  7 15:10:14 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 7 Jul 2014 15:10:14 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at> <53BA6CF4.80809@gmx.de>
 <8qig197lmv7t$.dlg@nililand.de> <53BA98C2.3030504@gmx.de>
Message-ID: <xzfmby6pyao9$.dlg@nililand.de>

Am Mon, 7 Jul 2014 14:55:30 +0200 schrieb Josef Kleber:

>> Does it work if you write the
>> arguments to a (utf8 encoded) file and load this file in your
>> script?
> 
> Works. The relevant part of the url-encoded path is:
> Weinmeisterstra%c3%9fe%2cBerlin

Then I would suggest that you pass the arguments through a temporary
file to your script and so avoid the hassle with command lines, bash
and how they and the various tex system handle non-ascii input. 

If you sent me some test files in a zip I can run them on windows
and miktex. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From Robin.Fairbairns at cl.cam.ac.uk  Mon Jul  7 15:13:43 2014
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 7 Jul 2014 14:13:43 +0100
Subject: [tex-live] Arbitrary LaTeX markup in graphs with auto layout
	facilities (only logical relation specification)
In-Reply-To: Your message of Mon, 07 Jul 2014 13:09:29 +0200.
 <53BA7FE9.3030805@aol.de>
Message-ID: <13217.1404738823@cl.cam.ac.uk>

Karl-Philipp Richter <krichter722 at aol.de> wrote:

> I have the following dream and would like to know someone know whether
> it has come true already or knows a combination of programs
> (inside/outside LaTeX world) which could achieve the following:
> [etc]

i don't have an answer, but i would suggest is that a list for the
development/debugging of a distribution isn't really the place to ask.

i would recomment tex/sx, which is designed with discussion in mind,
afaict:

http://tex.stackexchange.com/


From kakuto at fuk.kindai.ac.jp  Mon Jul  7 15:17:03 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 7 Jul 2014 22:17:03 +0900
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <53BA98C2.3030504@gmx.de>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at> <53BA6CF4.80809@gmx.de>
 <8qig197lmv7t$.dlg@nililand.de> <53BA98C2.3030504@gmx.de>
Message-ID: <88B6ECEDD2A54F659D78D12FD614A393@CJ3001517A>

Dear Josef,

> At least TeXLive's texlua expects utf-8 and only utf-8 for command line 
> options, which is a problem on a standard Windows system.

Try
http://ctan.ijs.si/mirror/w32tex/current/luatex-dev-w32.tar.xz

( Copy only two files, lua52.dll and luatex.dll, in the bin
  directory into the bin/win32 directory in TeX Live )

set COMMAND_LINE_ENCODING=utf8
texlua -cmdx gmimage.lua ...

Note that -cmdx (or --cmdx) should be the first option.

Thanks,
Akira



From josef.kleber at gmx.de  Mon Jul  7 15:32:06 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Mon, 7 Jul 2014 15:32:06 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <xzfmby6pyao9$.dlg@nililand.de>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at> <53BA6CF4.80809@gmx.de>
 <8qig197lmv7t$.dlg@nililand.de> <53BA98C2.3030504@gmx.de>
 <xzfmby6pyao9$.dlg@nililand.de>
Message-ID: <53BAA156.3000407@gmx.de>

Am 07.07.2014 15:10, schrieb Ulrike Fischer:
> Am Mon, 7 Jul 2014 14:55:30 +0200 schrieb Josef Kleber:
>
>>> Does it work if you write the
>>> arguments to a (utf8 encoded) file and load this file in your
>>> script?
>>
>> Works. The relevant part of the url-encoded path is:
>> Weinmeisterstra%c3%9fe%2cBerlin
>
> Then I would suggest that you pass the arguments through a temporary
> file to your script and so avoid the hassle with command lines, bash
> and how they and the various tex system handle non-ascii input.

It not a real life problem for me. Don't know if you remeber my question 
on tex.sx few weeks ago. Heiko offered a solution with his stringenc 
package to force utf-8 encoding for command line options. So no problem 
for me in getmap, as i have a workaround there on package level. I just 
wanted to show that there are indeed problems on Windows.

> If you sent me some test files in a zip I can run them on windows
> and miktex.

You just need the script in your working directory and the texlua call. 
I will send a zip with both.

Josef



From josef.kleber at gmx.de  Mon Jul  7 15:33:28 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Mon, 7 Jul 2014 15:33:28 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <88B6ECEDD2A54F659D78D12FD614A393@CJ3001517A>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at> <53BA6CF4.80809@gmx.de>
 <8qig197lmv7t$.dlg@nililand.de> <53BA98C2.3030504@gmx.de>
 <88B6ECEDD2A54F659D78D12FD614A393@CJ3001517A>
Message-ID: <53BAA1A8.5030201@gmx.de>

Am 07.07.2014 15:17, schrieb Akira Kakuto:
> Dear Josef,
>
>> At least TeXLive's texlua expects utf-8 and only utf-8 for command
>> line options, which is a problem on a standard Windows system.
>
> Try
> http://ctan.ijs.si/mirror/w32tex/current/luatex-dev-w32.tar.xz
>
> ( Copy only two files, lua52.dll and luatex.dll, in the bin
>   directory into the bin/win32 directory in TeX Live )
>
> set COMMAND_LINE_ENCODING=utf8
> texlua -cmdx gmimage.lua ...
>
> Note that -cmdx (or --cmdx) should be the first option.

Thanks, i will test this evening and report back!

Josef




From josef.kleber at gmx.de  Mon Jul  7 18:31:16 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Mon, 7 Jul 2014 18:31:16 +0200
Subject: [tex-live] Problems with non-7bit characters in filename
In-Reply-To: <88B6ECEDD2A54F659D78D12FD614A393@CJ3001517A>
References: <CAC1phyYeYpgbyCaRyFeeRASPw6CxFDJYDrm6k9iW6PfKorVgOg@mail.gmail.com>
 <21432.44800.613395.31143@zaphod.ms25.net>
 <20140706212013.GA2533@ikki.ethgen.ch>
 <21434.6711.725010.458648@zaphod.ms25.net>
 <20140707042439.GV23620@auth.logic.tuwien.ac.at> <53BA6CF4.80809@gmx.de>
 <8qig197lmv7t$.dlg@nililand.de> <53BA98C2.3030504@gmx.de>
 <88B6ECEDD2A54F659D78D12FD614A393@CJ3001517A>
Message-ID: <53BACB54.10700@gmx.de>

Dear Akira,

Am 07.07.2014 15:17, schrieb Akira Kakuto:
> Dear Josef,
>
>> At least TeXLive's texlua expects utf-8 and only utf-8 for command
>> line options, which is a problem on a standard Windows system.
>
> Try
> http://ctan.ijs.si/mirror/w32tex/current/luatex-dev-w32.tar.xz
>
> ( Copy only two files, lua52.dll and luatex.dll, in the bin
>   directory into the bin/win32 directory in TeX Live )
>
> set COMMAND_LINE_ENCODING=utf8
> texlua -cmdx gmimage.lua ...
>
> Note that -cmdx (or --cmdx) should be the first option.

Yes, i can confirm this works like a charm. Would be really good, if 
this could be integrated into the offical release. Expecting 
utf-8-encoded command line options on a ansi system really looks more 
like a bug than just a "problem".

Josef




From usenet at siart.de  Tue Jul  8 07:36:37 2014
From: usenet at siart.de (Uwe Siart)
Date: Tue, 8 Jul 2014 07:36:37 +0200
Subject: [tex-live] updmap error in today's update
Message-ID: <m38uo4bee2.fsf@siart.de>

This happened today:

,----
| <snip>
| running updmap-sys ...
| 
| updmap-sys failed (status 1), output:
| updmap is using the following updmap.cfg files (in precedence order):
|   c:/programme/texlive/texmf-local/web2c/updmap.cfg
|   c:/programme/texlive/2014/texmf-dist/web2c/updmap.cfg
| updmap is using the following updmap.cfg file for writing changes:
|   c:/programme/texlive/2014/texmf-config/web2c/updmap.cfg
| dvips output dir: "c:/programme/texlive/2014/texmf-var/fonts/map/dvips/updmap"
| pdftex output dir: "c:/programme/texlive/2014/texmf-var/fonts/map/pdftex/updmap"
| dvipdfmx output dir: "c:/programme/texlive/2014/texmf-var/fonts/map/dvipdfmx/updmap"
| 
| ERROR:  The following map file(s) couldn't be found:
|         lthtlwg.enc (in c:/programme/texlive/2014/texmf-dist/web2c/updmap.cfg)
| 
|         Did you run mktexlsr?
| 
|         You can disable non-existent map entries using the option
|           --syncwithtrees.
| 
| C:\Programme\texlive\2014\bin\win32\runscript.tlu:652: command failed with exit code 1:
| perl.exe c:/Programme/texlive/2014/texmf-dist/scripts/texlive/updmap.pl updmap --sys
| 
| tlmgr.pl: exiting unsuccessfully (status 1).
`----

-- 
Uwe



From preining at logic.at  Tue Jul  8 09:39:36 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 8 Jul 2014 16:39:36 +0900
Subject: [tex-live] updmap error in today's update
In-Reply-To: <m38uo4bee2.fsf@siart.de>
References: <m38uo4bee2.fsf@siart.de>
Message-ID: <20140708073936.GQ23620@auth.logic.tuwien.ac.at>

On Tue, 08 Jul 2014, Uwe Siart wrote:
> |         lthtlwg.enc (in c:/programme/texlive/2014/texmf-dist/web2c/updmap.cfg)

Thanks, fixed for tomorrow.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From rdawson16 at hotmail.com  Thu Jul 10 02:50:52 2014
From: rdawson16 at hotmail.com (Randy Dawson)
Date: Wed, 9 Jul 2014 19:50:52 -0500
Subject: [tex-live] flushright without a line break
Message-ID: <BLU172-W440BC9951328F85B891F79BA0E0@phx.gbl>

Hello TeXperts,

I'm doing my resume, and I would like all of this to appear on the same line:

\rm Electrical Engineer 							\begin{flushright}October 2011 ? Apri 2013\end{flushright}

Flushright works, but I get an extra line after 'Electrical Engineer'

Why?

Thanks,

Randy Dawson


 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140709/924d40df/attachment.html>

From Herbert.Voss at FU-Berlin.DE  Thu Jul 10 15:33:24 2014
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Thu, 10 Jul 2014 15:33:24 +0200
Subject: [tex-live] flushright without a line break
In-Reply-To: <BLU172-W440BC9951328F85B891F79BA0E0@phx.gbl>
References: <BLU172-W440BC9951328F85B891F79BA0E0@phx.gbl>
Message-ID: <53BE9624.2090403@FU-Berlin.DE>

Am 10.07.2014 02:50, schrieb Randy Dawson:

> I'm doing my resume, and I would like all of this to appear on the same
> line:
> 
> \rm Electrical Engineer \begin{flushright}October 2011 ? Apri
> 2013\end{flushright}
> 
> Flushright works, but I get an extra line after 'Electrical Engineer'

it is an environment which starts a new paragraph. Use

Electrical Engineer \hfill October 2011 ? April 2013


Herbert



From zdenek.wagner at gmail.com  Thu Jul 10 15:33:27 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 10 Jul 2014 15:33:27 +0200
Subject: [tex-live] flushright without a line break
In-Reply-To: <BLU172-W440BC9951328F85B891F79BA0E0@phx.gbl>
References: <BLU172-W440BC9951328F85B891F79BA0E0@phx.gbl>
Message-ID: <CAC1phyanSmyAvJp8cP=52Vpm4rE8xKD7zAD5z4RiTd3JHG9ZaQ@mail.gmail.com>

2014-07-10 2:50 GMT+02:00 Randy Dawson <rdawson16 at hotmail.com>:
> Hello TeXperts,
>
> I'm doing my resume, and I would like all of this to appear on the same
> line:
>
> \rm Electrical Engineer \begin{flushright}October 2011 - Apri
> 2013\end{flushright}
>
> Flushright works, but I get an extra line after 'Electrical Engineer'
>
> Why?
>
Flushright is an environment for typesetting flushright paragraphs,
this is the reason for the line break. What you probably need is

\noindent Electrical Engineer\hfill October 2011 - Apri 2013

> Thanks,
>
> Randy Dawson
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From zdenek.wagner at gmail.com  Sat Jul 12 21:35:01 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 12 Jul 2014 21:35:01 +0200
Subject: [tex-live] Bug in the devnag preprocessor
In-Reply-To: <CAE32J=5h1HdF_qEO_-O+yM0CSjKfOg4TsH9rUy6H3tNY6zCMFg@mail.gmail.com>
References: <52AA2E8B.8020803@googlemail.com>
 <CAC1phyaoXjHKacWS+v=CG27VZBAqre1DfXHkUxtd01L=5ufqeA@mail.gmail.com>
 <52AB47F4.7030301@googlemail.com>
 <CAE32J=6mExun_tGERrUgOffRqNFnScQS7JAFomV-uQ0u-dPrSQ@mail.gmail.com>
 <CAC1phyaPGkUdLo0iB79j+CJmyJMxuZzaRcUEkLnO7wEi1=B+aw@mail.gmail.com>
 <52B7681E.3050904@googlemail.com>
 <CAE32J=5h1HdF_qEO_-O+yM0CSjKfOg4TsH9rUy6H3tNY6zCMFg@mail.gmail.com>
Message-ID: <CAC1phyacepUALqHjsTscUudYPBoJLHk=43O=17ZD0e8FtKcqJA@mail.gmail.com>

Hi Peter,

I am looking at your files and am not able to reproduce your exact
output with my current version. If I go back to TL2011, I get the same
as your st65.tex, the preprocessor from the latest TL2014 gives the
same result as your st65x.tex. Could you verify that it works for you?
I see some fixes in TeX Live svn repository that have not been
reported upstream to us. If the output is OK, I will port them to our
project version.

2014-06-24 9:38 GMT+02:00 Peter Mukunda Pasedach
<peter.pasedach at googlemail.com>:
> Dear Zdenek,
>
> have you by now looked into it? I'm happy to help you debug it, it has
> somehow become more important again.
>
> Peter
>
>
> On Sun, Dec 22, 2013 at 11:30 PM, Peter Pasedach
> <peter.pasedach at googlemail.com> wrote:
>>
>> Dear Zdenek Wagner,
>>
>> thank you for your mail. I understand. Take your time, also for me it's
>> not that urgent, just it would be good to eventually be able to build some
>> old files on new machines. If I can be of any help in this let me know.
>>
>> Peter
>>
>>
>> On 22.12.2013 10:01, Zdenek Wagner wrote:
>>>
>>> 2013/12/17 Peter Mukunda Pasedach <peter.pasedach at googlemail.com>:
>>>>
>>>> Dear Zdenek Wagner,
>>>>
>>> Sorry for not responding, I did receive the files but I had to
>>> complete an urgent job for the Czech National Bank and now I have to
>>> write a chapter to a book and I have strict deadline. I will look at
>>> the files soon.
>>>
>>>> did you receive these files I sent you some days back in which this bug
>>>> appears? Can you do something with them, or should I try (again) to
>>>> isolate
>>>> it a bit more?
>>>>
>>>> Peter
>>>>
>>>>
>>>> On Fri, Dec 13, 2013 at 6:46 PM, Peter Pasedach
>>>> <peter.pasedach at googlemail.com> wrote:
>>>>>
>>>>> Dear Zdenek Wagner,
>>>>>
>>>>> here I'm sending you some sample input (st65.dn) and output (st65.tex)
>>>>> file, plus the required files to build it (wiggly.tex, edmac.doc,
>>>>> sk.sty),
>>>>> and sample files from a functioning system for comparison (st65x.dn,
>>>>> st65x.tex). The most obvious point of breaking is in verse number ten,
>>>>> line
>>>>> number 359, where the linebreak introduced gives the whole page an
>>>>> obviously
>>>>> broken appearance but there are a few more you will surely see by
>>>>> diffing
>>>>> the two tex files. Actually I tried to produce a very minimal example
>>>>> so I
>>>>> don't need to send you this much, but the bug then didn't appear. I'm
>>>>> ready
>>>>> though to do some testing of things if you send me other files or
>>>>> suggest me
>>>>> how to try out things, let me know what I can do. The systems the bug
>>>>> has
>>>>> appeared were all Ubuntu 12.04s or newer.
>>>>>
>>>>> Peter
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On 12.12.2013 22:48, Zdenek Wagner wrote:
>>>>>>
>>>>>> 2013/12/12 Peter Pasedach <peter.pasedach at googlemail.com>:
>>>>>>>
>>>>>>> Dear Zdenek Wagner,
>>>>>>>
>>>>>>> are you the current maintainer of the devnag preprocessor? I have
>>>>>>> come
>>>>>>> across a weird bug only appearing on some machines, due to which some
>>>>>>> strings in the input file do not get translated properly and thus tex
>>>>>>> hangs
>>>>>>> on the output file. If you are interested I can send you some example
>>>>>>> file.
>>>>>>>
>>>>>> Yes, please, send me the sample input and your output, I will look at
>>>>>> it.
>>>>>>
>>>>>>> Regards
>>>>>>>
>>>>>>> Peter Pasedach
>>>>>>
>>>>>>
>>>>>>
>>>
>>>
>>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From preining at logic.at  Sun Jul 13 10:02:12 2014
From: preining at logic.at (Norbert Preining)
Date: Sun, 13 Jul 2014 17:02:12 +0900
Subject: [tex-live] bug in thumbpdf?
Message-ID: <20140713080212.GD23620@auth.logic.tuwien.ac.at>

Hi everyone,

I have already contacted Heiko for that, but for now without
success (holidays?), so I ask here.

(Originally Debian bug report, please keep at least the bug Cc,
same happens on up-to-date TL 2014)

It seems that thumbpdf cannot parse pdfs generated nowadays
with pdflatex:

$ cat thu.tex
\pdfobjcompresslevel=0
\documentclass[12pt]{article}
\usepackage{thumbpdf}
\begin{document}
Hello world!
\end{document}
$ pdflatex thu
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014) (preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(./thu.tex
LaTeX2e <2014/05/01>
Babel <3.9k> and hyphenation patterns for 79 languages loaded.
(/home/norbert/tl/2014/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(/home/norbert/tl/2014/texmf-dist/tex/latex/base/size12.clo))
(/home/norbert/tl/2014/texmf-dist/tex/generic/thumbpdf/thumbpdf.sty

Package thumbpdf Warning: Thumbnail data file `thu.tpt' not found.

) (./thu.aux) [1{/home/norbert/tl/2014/texmf-var/fonts/map/pdftex/updmap/pdftex
.map}] (./thu.aux) )</home/norbert/tl/2014/texmf-dist/fonts/type1/public/amsfon
ts/cm/cmr12.pfb>
Output written on thu.pdf (1 page, 10448 bytes).
Transcript written on thu.log.
$ thumbpdf thu.pdf
THUMBPDF 3.15, 2012/04/18 - Copyright (c) 1999-2012 by Heiko Oberdiek.
* OSNAME: linux
* PERL_VERSION: 5.018002
* ARGV: --debug thu.pdf
*** make png files / run Ghostscript ***
* Ghostscript with page numbers
Processing pages 1 through 1.
[1]
* max. page: 1
*** make `thumbpdf.pdf' / run pdfTeX ***
libpng warning: iCCP: profile 'default_rgb.icc': 0h: PCS illuminant is not D50
libpng warning: iCCP: Not recognizing known sRGB profile that has been edited
*** parse `thumbpdf.pdf' ***
* pdf header: %PDF-1.4
* obj 4
* obj 3
* obj 1
* obj 2
* obj 6
* obj 7
* obj 5
* obj 8
* obj 9
* 9 objects found.
* ListThumbs: 1
* Size: 75x106
* Length (direct): 76
Use of uninitialized value in numeric lt (<) at
/home/norbert/tl/2014/bin/x86_64-linux/thumbpdf line 1074.
*** write `thu.tpt' (pdfTeX thumbnail data) ***
Use of uninitialized value $_[0] in split at
/home/norbert/tl/2014/bin/x86_64-linux/thumbpdf line 1476.
*** clear temp files ***
*** ready. ***
$ pdflatex thu
...
Runaway text?
<</Width 75/Height 106/BitsPerComponent 8/ColorSpace/DeviceRGB/Length\ETC.
! File ended while scanning text of \pdfobj.
<inserted text> 
                }
l.625     \input{\THB at datafile}
                               %
? 



I looked into the code and the generated thu.pdf. Thu.pdf looks like this:
%PDF-1.5
<binary rubbish>
3 0 obj
<<
/Length 96
/Filter /FlateDecode
>>
stream
<binary rubbish>
endstream
endobj
2 0 obj
...

Reading through the code of thumbpdf.pl, I see that the problem is
that no objstream is detected:
	$#objstream == -1
so that code line above which is:
	if ($thumblength[$count] < length($objstream[$i])) {
since there is no objstream defined at all ....

Checking the code of initializing the array, I see:
  while (<PDF>)
    ..
    /^(\d+)\s+0\s+obj\s*(<<)?$/ or
      die "$Error `obj' expected on line $lineno!\n";
    $objno[$count] = $1;
    $getobjindex[$1] = $count;
    $objdict[$count] = ($2); # boolean (if $2 exists)
    .....
    if ($objdict[$count])
      ....
      /^stream$/ or die "$Error `stream' expected on line $lineno!\n";
      ....
      $objstream[$count] = "";

So it seems that the $objstream is *only* initialized when the objdict[$count]
is true, i.e., if the obj line looks like
	3 0 obj <<
But the << is on the next line, and even then, moving it up, did not change
anything.

Has anyone had success with thumbpdf recently?

Can anyone reproduce this problem?

Thanks

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From peb at mppmu.mpg.de  Sun Jul 13 15:33:24 2014
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Sun, 13 Jul 2014 15:33:24 +0200
Subject: [tex-live] Bug in the devnag preprocessor
In-Reply-To: <CAC1phyacepUALqHjsTscUudYPBoJLHk=43O=17ZD0e8FtKcqJA@mail.gmail.com>
References: <52AA2E8B.8020803@googlemail.com>
 <CAC1phyaoXjHKacWS+v=CG27VZBAqre1DfXHkUxtd01L=5ufqeA@mail.gmail.com>
 <52AB47F4.7030301@googlemail.com>
 <CAE32J=6mExun_tGERrUgOffRqNFnScQS7JAFomV-uQ0u-dPrSQ@mail.gmail.com>
 <CAC1phyaPGkUdLo0iB79j+CJmyJMxuZzaRcUEkLnO7wEi1=B+aw@mail.gmail.com>
 <52B7681E.3050904@googlemail.com>
 <CAE32J=5h1HdF_qEO_-O+yM0CSjKfOg4TsH9rUy6H3tNY6zCMFg@mail.gmail.com>
 <CAC1phyacepUALqHjsTscUudYPBoJLHk=43O=17ZD0e8FtKcqJA@mail.gmail.com>
Message-ID: <alpine.LNX.2.00.1407131520560.6769@pcl321.mppmu.mpg.de>

On Sat, 12 Jul 2014, Zdenek Wagner wrote:

> I am looking at your files and am not able to reproduce your exact
> output with my current version. If I go back to TL2011, I get the same
> as your st65.tex, the preprocessor from the latest TL2014 gives the
> same result as your st65x.tex. Could you verify that it works for you?
> I see some fixes in TeX Live svn repository that have not been
> reported upstream to us. If the output is OK, I will port them to our
> project version.

>>>>>>> 2013/12/12 Peter Pasedach <peter.pasedach at googlemail.com>:

>>>>>>>> Dear Zdenek Wagner,
>>>>>>>>
>>>>>>>> are you the current maintainer of the devnag preprocessor? I have
>>>>>>>> come across a weird bug only appearing on some machines, due to
>>>>>>>> which some strings in the input file do not get translated properly
>>>>>>>> and thus tex hangs on the output file.  If you are interested I can
>>>>>>>> send you some example file.

As you can see from the TL ChangeLog there has been a bug fixes that did
cause problems on one or the other system:
   Replace strcpy() by memmove() when src and dest overlap.

More recently and not yet in TL2014:
   Cast the argument of isalpha() and similar to (unsigned char) because plain
   char might be signed and negative arguments yield undefined behaviour.

Regards
Peter Breitenlohner <peb at mppmu.mpg.de>


From usenet at bersch.net  Sun Jul 13 16:38:57 2014
From: usenet at bersch.net (Christoph Bersch)
Date: Sun, 13 Jul 2014 16:38:57 +0200
Subject: [tex-live] Package version of pst-optexp
Message-ID: <53C29A01.4010901@bersch.net>

Hi,

I've noticed that TeXLive ships version 4.8 of the pst-optexp package 
(checked right now). CTAN already has version 4.10 since one month, 
which was during the pretesting period. Could you please include the 
newest version?

Thank you,
Christoph


From karl at freefriends.org  Sun Jul 13 23:31:33 2014
From: karl at freefriends.org (Karl Berry)
Date: Sun, 13 Jul 2014 21:31:33 +0000
Subject: [tex-live] Package version of pst-optexp
In-Reply-To: <53C29A01.4010901@bersch.net>
Message-ID: <201407132131.s6DLVXhF032288@freefriends.org>

It appears that pst-optexp.tds.zip on CTAN is stale (dates from Feb 28),
which I hadn't noticed before.  I suggest not providing the .tds.zip.
Meanwhile, I did the update for tonight, ignoring the .tds.zip.

thanks,
karl


From Robin.Fairbairns at cl.cam.ac.uk  Mon Jul 14 00:22:00 2014
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sun, 13 Jul 2014 23:22:00 +0100
Subject: [tex-live] Package version of pst-optexp
In-Reply-To: Your message of Sun, 13 Jul 2014 21:31:33 -0000.
 <201407132131.s6DLVXhF032288@freefriends.org>
Message-ID: <9975.1405290120@cl.cam.ac.uk>

Karl Berry <karl at freefriends.org> wrote:

> It appears that pst-optexp.tds.zip on CTAN is stale (dates from Feb 28),
> which I hadn't noticed before.  I suggest not providing the .tds.zip.
> Meanwhile, I did the update for tonight, ignoring the .tds.zip.

i've removed the tds.zip

i'm just about to go to bed -- if i remember in the morning i'll mail
the author, whoever that is (or even if it's herbert, who seems to have
a finger in almost all pstricks stuff, and whose authorship i've never
sure about ;-)

Robin Fairbairns

For the CTAN team


From news3 at nililand.de  Mon Jul 14 12:43:11 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 14 Jul 2014 12:43:11 +0200
Subject: [tex-live] Bug#753239: bug in thumbpdf?
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
Message-ID: <1tnrcyw6697dh$.dlg@nililand.de>

Am Sun, 13 Jul 2014 17:02:12 +0900 schrieb Norbert Preining:


> Has anyone had success with thumbpdf recently?
 
> Can anyone reproduce this problem?

I can reproduce the problem in TL14 on windows. 

I have no problems with miktex (apart from the problem that the
thumbpdf-perl-script is misplaced which is not relevant here). The
style and the pl are identical in both systems.

In a "miktex environment" this here works fine:

G:\Z-Test>perl -w
D:texlive\2014\texmf-dist\scripts\thumbpdf\thumbpdf.pl --gscmd
=mgs test-utf8.pdf 

while this here gives the error you mentioned:

G:\Z-Test>
D:\texlive\2014\bin\win32\thumbpdf.exe --gscmd=mgs test-utf8.pdf

In a "TeXlive environment" both calls fails. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From preining at logic.at  Mon Jul 14 15:06:20 2014
From: preining at logic.at (Norbert Preining)
Date: Mon, 14 Jul 2014 22:06:20 +0900
Subject: [tex-live] Bug#753239: bug in thumbpdf?
In-Reply-To: <1tnrcyw6697dh$.dlg@nililand.de>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <1tnrcyw6697dh$.dlg@nililand.de>
Message-ID: <20140714130620.GE23620@auth.logic.tuwien.ac.at>

Hi Ulrike,

> I can reproduce the problem in TL14 on windows. 

Thanks, that is good.

> I have no problems with miktex (apart from the problem that the

Can you send me the *pdf* generated by miktex (and for safety, also
the source code you used).

I want to compare the pdf files.

> In a "TeXlive environment" both calls fails. 

Not good.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From news3 at nililand.de  Mon Jul 14 16:57:33 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 14 Jul 2014 16:57:33 +0200
Subject: [tex-live] Bug#753239: bug in thumbpdf?
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <1tnrcyw6697dh$.dlg@nililand.de>
 <20140714130620.GE23620@auth.logic.tuwien.ac.at>
Message-ID: <12r98ubb9dkbl.dlg@nililand.de>

Am Mon, 14 Jul 2014 22:06:20 +0900 schrieb Norbert Preining:


>> I can reproduce the problem in TL14 on windows. 
> Thanks, that is good.
 
>> I have no problems with miktex (apart from the problem that the
> Can you send me the *pdf* generated by miktex

Sure. Is on the way.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From preining at logic.at  Mon Jul 14 17:33:20 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 15 Jul 2014 00:33:20 +0900
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
Message-ID: <20140714153320.GL23620@auth.logic.tuwien.ac.at>

Hi everyone,

Thanks to Ulrike's test files I could track it down ...

> So it seems that the $objstream is *only* initialized when the objdict[$count]
> is true, i.e., if the obj line looks like
> 	3 0 obj <<
> But the << is on the next line, and even then, moving it up, did not change
> anything.

That was absolutely true, but my check was wrong, because thumbpdf was
parsing a *different* file, the thumbpdf.pdf.

There are two changes in PDF-X or whatever that adds these new lines
after << and >>.

With the attached patch it works again on my installations.

But I don't know whether
	tell
	seek
works on Windows, too (Ulrike ... please ...)

The idea is that we read the next line (peek at it), and if it
is a << or endobj then we just do as normal, otherwise we put
the line back.

Patch attached, comments welcome.

Thanks


Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: thumbpdf.diff
Type: text/x-diff
Size: 1197 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20140715/62c45511/attachment.bin>

From news3 at nililand.de  Mon Jul 14 18:14:11 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 14 Jul 2014 18:14:11 +0200
Subject: [tex-live] bug in thumbpdf? - PATCH
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
Message-ID: <1u8ntxki79pim$.dlg@nililand.de>

Am Tue, 15 Jul 2014 00:33:20 +0900 schrieb Norbert Preining:

> But I don't know whether
> 	tell
> 	seek
> works on Windows, too (Ulrike ... please ...)

Seems to work fine:

G:\Z-Test\test-thumpdf>perl thumbpdf.pl --gscmd=mgs test-thumb.pdf
THUMBPDF 3.15, 2012/04/18 - Copyright (c) 1999-2012 by Heiko
Oberdiek.
*** make png files / run Ghostscript ***
Processing pages 1 through 1.
[1]
*** make `thumbpdf.pdf' / run pdfTeX ***
libpng warning: iCCP: profile 'default_rgb.icc': 0h: PCS illuminant
is not D50
libpng warning: iCCP: Not recognizing known sRGB profile that has
been edited
*** parse `thumbpdf.pdf' ***
*** write `test-thumb.tpt' (pdfTeX thumbnail data) ***
*** clear temp files ***
*** ready. ***

G:\Z-Test\test-thumpdf>pdflatex test-thumb.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live
2014/W32TeX) (preloaded
 format=pdflatex)
 restricted \write18 enabled.
entering extended mode
(./test-thumb.tex
LaTeX2e <2014/05/01>
Babel <3.9k> and hyphenation patterns for 78 languages loaded.
(d:/texlive/2014/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document
class
(d:/texlive/2014/texmf-dist/tex/latex/base/size12.clo))
(d:/texlive/2014/texmf-dist/tex/generic/thumbpdf/thumbpdf.sty
(d:/texlive/2014/texmf-dist/tex/generic/oberdiek/ifluatex.sty)
(./test-thumb.tpt)) (./test-thumb.aux)
[1{d:/texlive/2014/texmf-var/fonts/map/p
dftex/updmap/pdftex.map}] (./test-thumb.aux)
)<d:/texlive/2014/texmf-dist/fonts
/type1/public/amsfonts/cm/cmr12.pfb>
Output written on test-thumb.pdf (1 page, 10692 bytes).
Transcript written on test-thumb.log.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From preining at logic.at  Mon Jul 14 18:20:25 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 15 Jul 2014 01:20:25 +0900
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <1u8ntxki79pim$.dlg@nililand.de>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
 <1u8ntxki79pim$.dlg@nililand.de>
Message-ID: <20140714162025.GO23620@auth.logic.tuwien.ac.at>

> Seems to work fine:

Great, thanks.

I will ponder the patch and hope to clean it up, after that I will
commit it unless Heiko comes up with a better fix.

Thanks for testing

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From preining at logic.at  Mon Jul 14 18:29:56 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 15 Jul 2014 01:29:56 +0900
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <20140714153320.GL23620@auth.logic.tuwien.ac.at>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
Message-ID: <20140714162956.GP23620@auth.logic.tuwien.ac.at>

On Tue, 15 Jul 2014, Norbert Preining wrote:
> Patch attached, comments welcome.

Simplified patch.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: thumbpdf.diff
Type: text/x-diff
Size: 970 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20140715/884c43b6/attachment.bin>

From preining at logic.at  Mon Jul 14 18:43:56 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 15 Jul 2014 01:43:56 +0900
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <20140714162956.GP23620@auth.logic.tuwien.ac.at>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
 <20140714162956.GP23620@auth.logic.tuwien.ac.at>
Message-ID: <20140714164356.GQ23620@auth.logic.tuwien.ac.at>

On Tue, 15 Jul 2014, Norbert Preining wrote:
> > Patch attached, comments welcome.
> 
> Simplified patch.

Even more simplified, this time without seek and tell, which was
what I wanted.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: thumbpdf.v3.diff
Type: text/x-diff
Size: 1244 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20140715/6a2660ce/attachment.bin>

From heiko.oberdiek at googlemail.com  Tue Jul 15 02:53:02 2014
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Tue, 15 Jul 2014 02:53:02 +0200
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <20140714164356.GQ23620@auth.logic.tuwien.ac.at>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
 <20140714162956.GP23620@auth.logic.tuwien.ac.at>
 <20140714164356.GQ23620@auth.logic.tuwien.ac.at>
Message-ID: <53C47B6E.2090500@googlemail.com>

Hello,

On 14.07.2014 18:43, Norbert Preining wrote:
> On Tue, 15 Jul 2014, Norbert Preining wrote:
>>> Patch attached, comments welcome.
>>
>> Simplified patch.
> 
> Even more simplified, this time without seek and tell, which was
> what I wanted.

Sorry, that I have not answered earlier.
Currently I am not in best shape, getting one cold after another
and would not have looked into it before next weekend.

Many thanks Norbert and Ulrike for looking into this issue
and especially many, many thanks Norbert for providing a
patch. I have applied it, increased the version number and
uploaded to CTAN.

For the impatient:
https://dl.dropboxusercontent.com/u/71873949/tex/thumbpdf-3.16.zip

Best regards,
  Heiko Oberdiek


From kakuto at fuk.kindai.ac.jp  Tue Jul 15 06:45:39 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 15 Jul 2014 13:45:39 +0900
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <53C47B6E.2090500@googlemail.com>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
 <20140714162956.GP23620@auth.logic.tuwien.ac.at>
 <20140714164356.GQ23620@auth.logic.tuwien.ac.at>
 <53C47B6E.2090500@googlemail.com>
Message-ID: <B33FB74294B344E18EDB9236395B19B8@CJ3001517A>

Dear Heiko,

> For the impatient:
> https://dl.dropboxusercontent.com/u/71873949/tex/thumbpdf-3.16.zip

Thanks for the new thumbpdf.
I've found that suitable Ghostscript command for
windows is not returned. (I didn't notice before.)
Please apply an attached patch: thumbpdf.pl.diff.

Best,
Akira
-------------- next part --------------
A non-text attachment was scrubbed...
Name: thumbpdf.pl.diff
Type: application/octet-stream
Size: 353 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20140715/64c17d31/attachment.obj>

From heiko.oberdiek at googlemail.com  Tue Jul 15 07:14:50 2014
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Tue, 15 Jul 2014 07:14:50 +0200
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <B33FB74294B344E18EDB9236395B19B8@CJ3001517A>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
 <20140714162956.GP23620@auth.logic.tuwien.ac.at>
 <20140714164356.GQ23620@auth.logic.tuwien.ac.at>
 <53C47B6E.2090500@googlemail.com>
 <B33FB74294B344E18EDB9236395B19B8@CJ3001517A>
Message-ID: <53C4B8CA.5010304@googlemail.com>

Hello Akira,

On 15.07.2014 06:45, Akira Kakuto wrote:
> 
>> For the impatient:
>> https://dl.dropboxusercontent.com/u/71873949/tex/thumbpdf-3.16.zip
> 
> Thanks for the new thumbpdf.
> I've found that suitable Ghostscript command for
> windows is not returned. (I didn't notice before.)
> Please apply an attached patch: thumbpdf.pl.diff.

Thanks, applied. I have kept the version number:

For the impatient:
https://dl.dropboxusercontent.com/u/71873949/tex/thumbpdf-3.16.zip

Best regards
  Heiko Oberdiek


From preining at logic.at  Tue Jul 15 10:36:01 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 15 Jul 2014 17:36:01 +0900
Subject: [tex-live] bug in thumbpdf? - PATCH
In-Reply-To: <53C47B6E.2090500@googlemail.com>
References: <20140713080212.GD23620@auth.logic.tuwien.ac.at>
 <20140714153320.GL23620@auth.logic.tuwien.ac.at>
 <20140714162956.GP23620@auth.logic.tuwien.ac.at>
 <20140714164356.GQ23620@auth.logic.tuwien.ac.at>
 <53C47B6E.2090500@googlemail.com>
Message-ID: <20140715083601.GR23620@auth.logic.tuwien.ac.at>

Hi Heiko,

thanks a lot, that is great. 

On Tue, 15 Jul 2014, Heiko Oberdiek wrote:
> patch. I have applied it, increased the version number and
> uploaded to CTAN.

All the best

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From nils_tippenhauer at sutd.edu.sg  Tue Jul 15 06:23:16 2014
From: nils_tippenhauer at sutd.edu.sg (Nils Ole Tippenhauer)
Date: Tue, 15 Jul 2014 12:23:16 +0800
Subject: [tex-live] Minitoc documentation size
Message-ID: <53C4ACB4.6020309@sutd.edu.sg>

Hi all,

I am writing to suggest some changes to the minitoc package. CTAN lists
Jean-Pierre Drucbert as maintainer, bu he passed away in 2009. Minitoc
contains documentation that takes a lot of space, see
https://bugs.launchpad.net/ubuntu/+source/texlive-extra/+bug/822828

For example, there is a minitoc-fr.pdf file (~27Mb size) as part of the
package, that is bloated with maps of countries and flags.

Unfortunately, the package is automatically recommended (i.e.
practically installed) for all Debian/Ubuntu users.

Is it possible to remove some of the content from the minitoc
documentation in tex-live, or should I try talking to CTAN directly?

Thanks,
Nils
This email may contain confidential and/or proprietary information that is exempt from disclosure under applicable law and is intended for receipt and use solely by the addressee(s) named above. If you are not the intended recipient, you are notified that any use, dissemination, distribution, or copying of this email, or any attachment, is strictly prohibited. Please delete the email immediately and inform the sender. Thank You



From ziegenhagen at gmail.com  Tue Jul 15 23:07:37 2014
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Tue, 15 Jul 2014 23:07:37 +0200
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <53C4ACB4.6020309@sutd.edu.sg>
References: <53C4ACB4.6020309@sutd.edu.sg>
Message-ID: <CAML7JChqJbE+mFAvb-y2nes0CPv_FEJgwn=L3Ls+Zm2SoYxscg@mail.gmail.com>

I would suggest to talk to the CTAN team. Why don't you take the hat for
the minitoc package? Your support would surely be appreciated.


Uwe


2014-07-15 6:23 GMT+02:00 Nils Ole Tippenhauer <nils_tippenhauer at sutd.edu.sg
>:

> Hi all,
>
> I am writing to suggest some changes to the minitoc package. CTAN lists
> Jean-Pierre Drucbert as maintainer, bu he passed away in 2009. Minitoc
> contains documentation that takes a lot of space, see
> https://bugs.launchpad.net/ubuntu/+source/texlive-extra/+bug/822828
>
> For example, there is a minitoc-fr.pdf file (~27Mb size) as part of the
> package, that is bloated with maps of countries and flags.
>
> Unfortunately, the package is automatically recommended (i.e.
> practically installed) for all Debian/Ubuntu users.
>
> Is it possible to remove some of the content from the minitoc
> documentation in tex-live, or should I try talking to CTAN directly?
>
> Thanks,
> Nils
> This email may contain confidential and/or proprietary information that is
> exempt from disclosure under applicable law and is intended for receipt and
> use solely by the addressee(s) named above. If you are not the intended
> recipient, you are notified that any use, dissemination, distribution, or
> copying of this email, or any attachment, is strictly prohibited. Please
> delete the email immediately and inform the sender. Thank You
>
>
>


-- 
Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140715/423159ea/attachment.html>

From Robin.Fairbairns at cl.cam.ac.uk  Tue Jul 15 23:10:14 2014
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 15 Jul 2014 22:10:14 +0100
Subject: [tex-live] Minitoc documentation size
In-Reply-To: Your message of Tue, 15 Jul 2014 12:23:16 +0800.
 <53C4ACB4.6020309@sutd.edu.sg>
Message-ID: <29740.1405458614@cl.cam.ac.uk>

Nils Ole Tippenhauer <nils_tippenhauer at sutd.edu.sg> wrote:

> I am writing to suggest some changes to the minitoc package. CTAN lists
> Jean-Pierre Drucbert as maintainer, bu he passed away in 2009. Minitoc
> contains documentation that takes a lot of space, see
> https://bugs.launchpad.net/ubuntu/+source/texlive-extra/+bug/822828
> 
> For example, there is a minitoc-fr.pdf file (~27Mb size) as part of the
> package, that is bloated with maps of countries and flags.

it is totally crazy, imo, but i failed to ask permission from
jean-pierre, before he died, to make a slimline version.

> Unfortunately, the package is automatically recommended (i.e.
> practically installed) for all Debian/Ubuntu users.
> 
> Is it possible to remove some of the content from the minitoc
> documentation in tex-live, or should I try talking to CTAN directly?

i don't believe it's possible simply to trim the megabloat, and retain a
coherent document.  most of the bloat is the interminable flags and bits
of map, and similar, but they're woven into the text.

if i can persuade myself (as a ctan manager ;-) that what i'll do is
legitimate, it will enter my "retirement" to-do list, for working on
some time later than 29 october.

but beware, i'm a slow worker...

robin


From nils_tippenhauer at sutd.edu.sg  Wed Jul 16 04:14:12 2014
From: nils_tippenhauer at sutd.edu.sg (Nils Ole Tippenhauer)
Date: Wed, 16 Jul 2014 10:14:12 +0800
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <29740.1405458614@cl.cam.ac.uk>
References: <29740.1405458614@cl.cam.ac.uk>
Message-ID: <53C5DFF4.2000203@sutd.edu.sg>

Hi Robin,

How about the following: I will try to create a less bloated version. 
For starters, I will remove any map/flag-related section from the 
manual, and the corresponding files. I can then provide you with the 
results. Ideally, we would remove the french version of the manual, but 
some people might not like that (?).

There seem to be a lot of example files as well, I'm not sure if they 
are needed. The whole minitoc localization looks awkward to me, but I 
barely understand what's happening there. Maybe this is how it's 
supposed to be done.

You can then take over the CTAN ownership, review my changes, and upload 
the new file, with hopefully less effort for yourself.

Let me konw what you think,
Nils

On 16/07/2014 05:10, Robin Fairbairns wrote:
> Nils Ole Tippenhauer <nils_tippenhauer at sutd.edu.sg> wrote:
>
>> I am writing to suggest some changes to the minitoc package. CTAN lists
>> Jean-Pierre Drucbert as maintainer, bu he passed away in 2009. Minitoc
>> contains documentation that takes a lot of space, see
>> https://bugs.launchpad.net/ubuntu/+source/texlive-extra/+bug/822828
>>
>> For example, there is a minitoc-fr.pdf file (~27Mb size) as part of the
>> package, that is bloated with maps of countries and flags.
>
> it is totally crazy, imo, but i failed to ask permission from
> jean-pierre, before he died, to make a slimline version.
>
>> Unfortunately, the package is automatically recommended (i.e.
>> practically installed) for all Debian/Ubuntu users.
>>
>> Is it possible to remove some of the content from the minitoc
>> documentation in tex-live, or should I try talking to CTAN directly?
>
> i don't believe it's possible simply to trim the megabloat, and retain a
> coherent document.  most of the bloat is the interminable flags and bits
> of map, and similar, but they're woven into the text.
>
> if i can persuade myself (as a ctan manager ;-) that what i'll do is
> legitimate, it will enter my "retirement" to-do list, for working on
> some time later than 29 october.
>
> but beware, i'm a slow worker...
>
> robin
>


From keith.pickering at gmail.com  Wed Jul 16 19:57:09 2014
From: keith.pickering at gmail.com (keithpickering .)
Date: Wed, 16 Jul 2014 12:57:09 -0500
Subject: [tex-live] Problems with TL2014 Windows command line environment
Message-ID: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>

Hi,

I just installed TL2014 in Windows Vista and ran through the tests
described in the TexLive Guide, section 3.5, using the TL command line box
(invoked from the Start Menu). This drops you into the c:\Windows\system32
directory at startup as a default.

All tests *appeared* to work, as in the programs ran and the text screen
output looked normal. However, no actual output files were found using
either the "dir" command or Windows Explorer.

Running dviout brought up sample2e.dvi just fine, and showed the dvi file
to be in the c:\Windows\system32 directory. Simultaneously, the "dir"
command claimed "Not Found" for any .dvi file in the \Windows\system32
directory. (Screenshot attached).
Running kpsewhich also showed outputs in the ./ (current working)
directory, despite dir's denial.

Running cmd.exe by myself in my home directory, all tests worked fine and
all output was found. Therefore it seems that the \Windows\system32
directory is locked down in some odd way that prevents files from being
found.

So I'd like to suggest that the TL command line environment no longer use
\Windows\system32 as a default directory, but use the user's home directory
instead.

Best,

Keith Pickering
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140716/411481b5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TLtest.jpg
Type: image/jpeg
Size: 81945 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20140716/411481b5/attachment-0001.jpg>

From P.Taylor at Rhul.Ac.Uk  Wed Jul 16 22:34:37 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 16 Jul 2014 21:34:37 +0100
Subject: [tex-live] Problems with TL2014 Windows command line environment
In-Reply-To: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>
References: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>
Message-ID: <53C6E1DD.2070405@Rhul.Ac.Uk>



keithpickering . wrote:

> So I'd like to suggest that the TL command line environment no longer
> use \Windows\system32 as a default directory, but use the user's home
> directory instead.

Reported previously [1]; no response received.
Philip Taylor
--------
On 05/07/2014 13:10, Philip Taylor wrote:

 > I thought to experiment with this, but it fails in various ways in
 > TeX Live 2013 as summarised below :
 >
 > 1) The TeX Live command prompt opens in C:\Windows\System32; this is
 > a crazy place in which to open, since write permission is not granted
 > thereto.
 >
 > 2) Because write permission is not granted, I am told :
 >
 >  > ! I can't write on file `test.log'.
 >  > (Press Enter to retry, or Control-Z to exit
 >
 > When I then enter <Ctrl-Z>, "^Z" is echoed but nothing else happens.
 > If I then follow <Ctrl-Z>L with <Enter>, I then receive an "*" prompt,
 > so "exit" has still not occurred.
 >
 > I then try "\end", TeX proceeds further, but still does not exit.
 > Finally I try yet another "\end" (both of the preceding being
 > terminated by <Return>), and finally TeX dies.
 >
 > NOTHING to do with the original problem/report/diagnosis, but
 > an indication, I would suggest, that TeX Live 2013 behaves
 > incorrectly when a TeX Live 2013 command prompt is opened
 > (inappropriate current directory), and (b) the diagnostic
 > "Enter [...] Control-Z to exit" does not lead to the
 > expected behaviour (programme exit) when <Ctrl-Z> is entered.
 >
 > Philip Taylor
 > --------
 >> Microsoft Windows [Version 6.1.7601]
 >> Copyright (c) 2009 Microsoft Corporation.  All rights reserved.
 >>
 >> C:\Windows\system32>xelatex --jobname=test \documentclass{article}
 >> This is XeTeX, Version 3.1415926-2.5-0.9999.3 (TeX Live 2013/W32TeX)
 >>  restricted \write18 enabled.
 >> entering extended mode
 >> LaTeX2e <2011/06/27>
 >> Babel <3.9g> and hyphenation patterns for 78 languages loaded.
 >> ! I can't write on file `test.log'.
 >> (Press Enter to retry, or Control-Z to exit; default file extension is
 >> `.log')
 >> Please type another transcript file name: \usepackage{fontspec}
 >> \begin{document}
 >>  hello ??? \end{document}^Z
 >>
 >> *\end
 >> d:/TeX/Live/2013/texmf-dist/tex/latex/base/article.cls
 >> Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
 >> d:/TeX/Live/2013/texmf-dist/tex/latex/base/size10.clo))
 >> \end
 >>  TeX capacity exceeded, sorry [input stack size=5000].
 >> \end #1->\csname end#1
 >>                      \endcsname \@checkend {#1}\expandafter \endgroup
 >> \if at e...
 >> *> \end
 >>
 >> No pages of output.
 >> Transcript written on \usepackage{fontspec}.log.



From reinhard.kotucha at web.de  Thu Jul 17 03:33:19 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 17 Jul 2014 03:33:19 +0200
Subject: [tex-live] Problems with TL2014 Windows command line environment
In-Reply-To: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>
References: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>
Message-ID: <21447.10207.901245.633062@zaphod.ms25.net>

On 2014-07-16 at 12:57:09 -0500, keithpickering . wrote:

 > I just installed TL2014 in Windows Vista and ran through the tests
 > described in the TexLive Guide, section 3.5, using the TL command
 > line box (invoked from the Start Menu). This drops you into the
 > c:\Windows\system32 directory at startup as a default.

Hi Keith,
I must admit that I don't have Windows and thus can't reproduce your
problem.  But I agree with you that c:\Windows\system32 is quite
unfortunate as a current working directory for many reasons.  I would
expect that the default working directory is derived from the
environment variable %USERPROFILE% on Windows.  This is quite
unfortunate either but a halfways reasonable workaround for a
braindead system.

It would be nice if Siep can look into it.  Don't know whether she has
enough time ATM.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From news3 at nililand.de  Thu Jul 17 09:38:35 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 17 Jul 2014 09:38:35 +0200
Subject: [tex-live] Problems with TL2014 Windows command line environment
References: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>
 <21447.10207.901245.633062@zaphod.ms25.net>
Message-ID: <cf7cxsa5udm9.dlg@nililand.de>

Am Thu, 17 Jul 2014 03:33:19 +0200 schrieb Reinhard Kotucha:

>  > I just installed TL2014 in Windows Vista and ran through the tests
>  > described in the TexLive Guide, section 3.5, using the TL command
>  > line box (invoked from the Start Menu). This drops you into the
>  > c:\Windows\system32 directory at startup as a default.
> 
> Hi Keith,
> I must admit that I don't have Windows and thus can't reproduce your
> problem.  

I do. The command line starts in the directory it has been called
from and in the case of a call from the start menu this is
c:\system\win32. A change of the "Ausf?hren in/start in"-Option to
%USERPROFILE% avoids this. A fix path in the bat-file itself is imho
not an option.


> But I agree with you that c:\Windows\system32 is quite
> unfortunate as a current working directory for many reasons. 

Yes. But I wonder why already two people actually do something in
this folder. I wouldn't dare and switch asap to another folder ;-). 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/




From siepo at cybercomm.nl  Thu Jul 17 12:14:49 2014
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 17 Jul 2014 12:14:49 +0200
Subject: [tex-live] Problems with TL2014 Windows command line environment
In-Reply-To: <53C6E1DD.2070405@Rhul.Ac.Uk>
References: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>
 <53C6E1DD.2070405@Rhul.Ac.Uk>
Message-ID: <20140717101449.GA4413@bitmuis.thuis.internal>

On Wed, Jul 16, 2014 at 09:34:37PM +0100, Philip Taylor wrote:
> 
> 
> keithpickering . wrote:
> 
> >So I'd like to suggest that the TL command line environment no longer
> >use \Windows\system32 as a default directory, but use the user's home
> >directory instead.

Actually, the shortcut does not specify a working directory at all.
Apparently, Windows picks this insane default only in the case of an
admin install on later Windows versions.

A better value for the working directory is %HOMEDRIVE%%HOMEPATH%,
but it is not immediately clear to me how to accomplish this with
the Perl module that we use.

Fortunately, it can be fixed easily by just adding a line

cd /d %HOMEDRIVE%%HOMEPATH%

to <root>/tlpkg/installer/tl-cmd.bat.

If you do not want to do that yourself, you can download a patched
version from

https://www.dropbox.com/s/txnuxpznzvhx3gx/tl-cmd.bat

> Reported previously [1]; no response received.

Sorry about that.

-- 
Siep Kroonenberg


From siepo at cybercomm.nl  Thu Jul 17 13:32:19 2014
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 17 Jul 2014 13:32:19 +0200
Subject: [tex-live] Problems with TL2014 Windows command line environment
In-Reply-To: <20140717101449.GA4413@bitmuis.thuis.internal>
References: <CA+6VJEvXCLb9EntqNu6=YsJR8RaJHLEZtu0QsuO38pq5k7-TUA@mail.gmail.com>
 <53C6E1DD.2070405@Rhul.Ac.Uk> <20140717101449.GA4413@bitmuis.thuis.internal>
Message-ID: <20140717113219.GD4413@bitmuis.thuis.internal>

On Thu, Jul 17, 2014 at 12:14:49PM +0200, Siep Kroonenberg wrote:
> On Wed, Jul 16, 2014 at 09:34:37PM +0100, Philip Taylor wrote:
> > 
> > 
> > keithpickering . wrote:
> > 
> > >So I'd like to suggest that the TL command line environment no longer
> > >use \Windows\system32 as a default directory, but use the user's home
> > >directory instead.
> 
> Actually, the shortcut does not specify a working directory at all.
> Apparently, Windows picks this insane default only in the case of an
> admin install on later Windows versions.
> 
> A better value for the working directory is %HOMEDRIVE%%HOMEPATH%,
> but it is not immediately clear to me how to accomplish this with
> the Perl module that we use.
> 
> Fortunately, it can be fixed easily by just adding a line
> 
> cd /d %HOMEDRIVE%%HOMEPATH%
> 
> to <root>/tlpkg/installer/tl-cmd.bat.
> 
> If you do not want to do that yourself, you can download a patched
> version from
> 
> https://www.dropbox.com/s/txnuxpznzvhx3gx/tl-cmd.bat

Fix committed so should be available in a day or so.

-- 
Siep Kroonenberg


From martin at oneiros.de  Thu Jul 17 14:08:23 2014
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Thu, 17 Jul 2014 14:08:23 +0200
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <53C4ACB4.6020309@sutd.edu.sg>
References: <53C4ACB4.6020309@sutd.edu.sg>
Message-ID: <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>

2014-07-15 6:23 GMT+02:00 Nils Ole Tippenhauer <nils_tippenhauer at sutd.edu.sg>:
> I am writing to suggest some changes to the minitoc package. CTAN lists
> Jean-Pierre Drucbert as maintainer, bu he passed away in 2009. Minitoc

I'll take this as an opportunity to remind everyone to avoid the LPPL
state "author-maintained". It makes it nearly impossible for someone
else to take over maintenance if the original author disappears (for
whatever reason).

Best
   Martin


From joseph.wright at morningstar2.co.uk  Thu Jul 17 14:44:16 2014
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 17 Jul 2014 13:44:16 +0100
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>
References: <53C4ACB4.6020309@sutd.edu.sg>
 <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>
Message-ID: <53C7C520.2060002@morningstar2.co.uk>

On 17/07/2014 13:08, Martin Schr?der wrote:
> 2014-07-15 6:23 GMT+02:00 Nils Ole Tippenhauer <nils_tippenhauer at sutd.edu.sg>:
>> I am writing to suggest some changes to the minitoc package. CTAN lists
>> Jean-Pierre Drucbert as maintainer, bu he passed away in 2009. Minitoc
> 
> I'll take this as an opportunity to remind everyone to avoid the LPPL
> state "author-maintained". It makes it nearly impossible for someone
> else to take over maintenance if the original author disappears (for
> whatever reason).
> 
> Best
>    Martin

True, but the LPPL is a 'free' license in the sense that a fork of such
a project is possible. The issue then becomes how one distinguishes the
fork from the original.
-- 
Joseph Wright



From dbitouze at wanadoo.fr  Thu Jul 17 14:49:31 2014
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Thu, 17 Jul 2014 14:49:31 +0200
Subject: [tex-live] Minitoc documentation size
References: <53C4ACB4.6020309@sutd.edu.sg>
 <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>
Message-ID: <m3r41kp2uc.fsf@somewhere.org>

Le jeu. 17 juil. 2014 ? 14h08, Martin Schr?der <martin at oneiros.de> a ?crit :

> I'll take this as an opportunity to remind everyone to avoid the LPPL
> state "author-maintained".

Interesting. What are the alternatives and how to stipulate another
state?

Best regards.
-- 
Denis




From joseph.wright at morningstar2.co.uk  Thu Jul 17 15:01:40 2014
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 17 Jul 2014 14:01:40 +0100
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <m3r41kp2uc.fsf@somewhere.org>
References: <53C4ACB4.6020309@sutd.edu.sg>
 <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>
 <m3r41kp2uc.fsf@somewhere.org>
Message-ID: <53C7C934.8080201@morningstar2.co.uk>

On 17/07/2014 13:49, Denis Bitouz? wrote:
> Le jeu. 17 juil. 2014 ? 14h08, Martin Schr?der <martin at oneiros.de> a ?crit :
> 
>> I'll take this as an opportunity to remind everyone to avoid the LPPL
>> state "author-maintained".
> 
> Interesting. What are the alternatives and how to stipulate another
> state?

I would strongly advice just 'maintained': this does allow someone else
to take over a current project (after suitable notice) even if the
original/previous maintainer goes missing for any reason.
-- 
Joseph Wright



From dbitouze at wanadoo.fr  Thu Jul 17 15:04:10 2014
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Thu, 17 Jul 2014 15:04:10 +0200
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <53C7C934.8080201@morningstar2.co.uk> (Joseph Wright's message
 of	"Thu, 17 Jul 2014 14:01:40 +0100")
References: <53C4ACB4.6020309@sutd.edu.sg>
 <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>
 <m3r41kp2uc.fsf@somewhere.org> <53C7C934.8080201@morningstar2.co.uk>
Message-ID: <m3k37cp25x.fsf@somewhere.org>

Le jeu. 17 juil. 2014 ? 15h01, Joseph Wright <joseph.wright at morningstar2.co.uk> a acrid :

> I would strongly advice just 'maintained': this does allow someone else
> to take over a current project (after suitable notice) even if the
> original/previous maintainer goes missing for any reason.

Hence:

  ?????
  ? % [...]
  ? % This work has the LPPL maintenance status `maintained'.
  ? %
  ? % The Current Maintainer of this work is <somebody>.
  ? % [...]
  ?????

would be okay?
-- 
Denis



From daleif at imf.au.dk  Thu Jul 17 15:09:24 2014
From: daleif at imf.au.dk (Lars Madsen)
Date: Thu, 17 Jul 2014 13:09:24 +0000
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <m3r41kp2uc.fsf@somewhere.org>
References: <53C4ACB4.6020309@sutd.edu.sg>
 <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>,
 <m3r41kp2uc.fsf@somewhere.org>
Message-ID: <89ECE88578D8F648A22E307DAEE88579678FADF1@SRVUNIMBX07.uni.au.dk>

http://latex-project.org/lppl/

Basically just mark your work as "Maintained" and write who the maintainer is.

Then the lppl states that if the maintainer is unreachable for a long period of time, someone else can take over the maintenance for the package.

'author-maintained' then we have a problem. If, say, the maintainer dies, we have to get permission from the heirs (AFAIK). 

For example etoolbox is author-maintained and Philipp Lehman has not been in contact for several years now. But no-one has the right to update or take over his package.

Biblatex as just maintained (AFAIR) and others have now stepped in.

The memoir class was actually author-maintained when I took over, I changed it with Peter Wilsons blessing.



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Denis Bitouz? [dbitouze at wanadoo.fr]
Sent: 17 July 2014 14:49
To: tex-live at tug.org
Subject: Re: [tex-live] Minitoc documentation size

Le jeu. 17 juil. 2014 ? 14h08, Martin Schr?der <martin at oneiros.de> a ?crit :

> I'll take this as an opportunity to remind everyone to avoid the LPPL
> state "author-maintained".

Interesting. What are the alternatives and how to stipulate another
state?

Best regards.
--
Denis






From daleif at imf.au.dk  Thu Jul 17 15:10:17 2014
From: daleif at imf.au.dk (Lars Madsen)
Date: Thu, 17 Jul 2014 13:10:17 +0000
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <m3k37cp25x.fsf@somewhere.org>
References: <53C4ACB4.6020309@sutd.edu.sg>
 <CAP7DCDeNn0zEmC+G8_AA7T9b3-B3=kWERqV6ORRP-bv-Wva1bw@mail.gmail.com>
 <m3r41kp2uc.fsf@somewhere.org>
 <53C7C934.8080201@morningstar2.co.uk>,<m3k37cp25x.fsf@somewhere.org>
Message-ID: <89ECE88578D8F648A22E307DAEE88579678FAE10@SRVUNIMBX07.uni.au.dk>

yes, that is the proper one.

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Denis Bitouz?? [dbitouze at wanadoo.fr]
Sent: 17 July 2014 15:04
To: Joseph Wright
Cc: tex-live at tug.org
Subject: Re: [tex-live] Minitoc documentation size

Le jeu. 17 juil. 2014 ?? 15h01, Joseph Wright <joseph.wright at morningstar2.co.uk> a acrid :

> I would strongly advice just 'maintained': this does allow someone else
> to take over a current project (after suitable notice) even if the
> original/previous maintainer goes missing for any reason.

Hence:

  ?q????????
  ?? % [...]
  ?? % This work has the LPPL maintenance status `maintained'.
  ?? %
  ?? % The Current Maintainer of this work is <somebody>.
  ?? % [...]
  ?t????????

would be okay?
--
Denis





From dluecking at sbcglobal.net  Thu Jul 17 19:41:14 2014
From: dluecking at sbcglobal.net (Dan Luecking)
Date: Thu, 17 Jul 2014 12:41:14 -0500
Subject: [tex-live] Problems with TL2014 Windows command line environment
Message-ID: <839013.88175.bm@smtp115.sbc.mail.ne1.yahoo.com>

On Wed Jul 16 2014 at19:57:09 CEST, keithpickering . 
<mailto:tex-live%40tug.org?Subject=Re%3A%20%5Btex-live%5D%20Problems%20with%20TL2014%20Windows%20command%20line%20environment&In-Reply-To=%3CCA%2B6VJEvXCLb9EntqNu6%3DYsJR8RaJHLEZtu0QsuO38pq5k7-TUA%40mail.gmail.com%3E>keith.pickering 
at gmail.com  wrote:


>I just installed TL2014 in Windows Vista and ran through the tests
>described in the TexLive Guide, section 3.5, using the TL command line box
>(invoked from the Start Menu). This drops you into the c:\Windows\system32
>directory at startup as a default.
>
>All tests *appeared* to work, as in the programs ran and the text screen
>output looked normal. However, no actual output files were found using
>either the "dir" command or Windows Explorer.


On my Windows 7 systems, the files actually end up in
   %USERPROFILE%\AppData\Local\VirtualStore\Windows\System32\
So the files can be recovered and some programs can access them
as if they are in \Windows\System32\.

Note that AppData is a hidden directory in Win7, so you may not
see it in a directory listing.

Some program data files (for old programs) turn up in the
above VirtualStore area, too.


Regards,
Dan

Daniel H. Luecking
Department of Mathematical Sciences
Fayetteville, Arkansas
http://www-cs-faculty.stanford.edu/~knuth/iaq.html 



From karl at freefriends.org  Thu Jul 17 20:37:11 2014
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Jul 2014 18:37:11 +0000
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
In-Reply-To: <p1hsx6hhs2uw.dlg@nililand.de>
Message-ID: <201407171837.s6HIbBsp020476@freefriends.org>

    [1kpathsea:make_tex: Invalid fontname `<augie___.pfb', contains '<'

It is easy enough to change (x)dvipdfmx to accept and ignore the extra <
in what is supposed to mean full embedding in a map file line
(fontmap_parse_mapdef_dps in fontmap.c, looks like).

The bigger question is whether (x)dvipdfmx actually needs to force full
embedding in that case.  That does not look so simple to me, but your
message also implies it is not needed, that you are just trying to work
around syntactic incompatibilities for the sake, ultimately, of pdftex.

    But in the case of the adobe garamondm utopia, GFSBodoni and other
    fonts this it not an option: Here otf-fonts are loaded 

gfsbodoni has pfb files, and gfsbodoni.map loads them.
So I don't get that one.

    and pdftex can handle them only if they are fully embeded.

On another front, it seems that it would be desirable for pdftex to
fully download otf files entirely, regardless of the map file spec,
instead of just reporting an error and giving up.  I admit it's not
clear to me when one would want to play with otf files in pdftex in the
first place, but fine.

thanks,
k


From nils_tippenhauer at sutd.edu.sg  Fri Jul 18 06:34:02 2014
From: nils_tippenhauer at sutd.edu.sg (Nils Ole Tippenhauer)
Date: Fri, 18 Jul 2014 04:34:02 +0000
Subject: [tex-live] Minitoc documentation size
In-Reply-To: <201407162148.s6GLma1j002166@freefriends.org>
References: <53C5DFF4.2000203@sutd.edu.sg>,
 <201407162148.s6GLma1j002166@freefriends.org>
Message-ID: <1405658056369.10364@sutd.edu.sg>

Hi all,

Thanks for hint on the license, I did not consider that so far. I plan to do the following:

1. Fork all content of minitoc.zip from CTAN to a github repository
2. Update all license headers to lppl status 'unmaintained'
3. Commit my local changes to minitoc.dtx, that reduce the size of minitoc.pdf to 1.5 MB while retaining almost all content (english and french). Cleaning the minitoc.dtx has been done with quick & dirty perl regex magic.
4. I also fixed a couple of other small things, like the list of files in the package etc.
5. I will then notify this list again, and whoever wants to use my changes is free to commit to CTAN

Please let me know if there is a better way to handle this situation. I do not plan to be maintainer of this package, I just wanted to improve the current state.

Regards,
Nils


From news3 at nililand.de  Fri Jul 18 09:04:54 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 18 Jul 2014 09:04:54 +0200
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
References: <p1hsx6hhs2uw.dlg@nililand.de>
 <201407171837.s6HIbBsp020476@freefriends.org>
Message-ID: <11sact2xqcmif.dlg@nililand.de>

Am Thu, 17 Jul 2014 18:37:11 +0000 schrieb Karl Berry:

>     [1kpathsea:make_tex: Invalid fontname `<augie___.pfb', contains '<'
> 
> It is easy enough to change (x)dvipdfmx to accept and ignore the extra <
> in what is supposed to mean full embedding in a map file line
> (fontmap_parse_mapdef_dps in fontmap.c, looks like).
 
> The bigger question is whether (x)dvipdfmx actually needs to force full
> embedding in that case.  That does not look so simple to me, but your
> message also implies it is not needed, that you are just trying to work
> around syntactic incompatibilities for the sake, ultimately, of pdftex.

Well, if I remember everything correctly then there are two
problems:

1. that (x)dvipdfmx gives errors when the <<-syntax is used. 

2. that (x)dvipdfmx can't load otf-fonts through map-entries even if
the "<"-syntax is used. That is not really a problem for normal text
fonts - they can be easily loaded through fontspec -- but it is if
the fonts needs to be reencoded e.g. for math packages. 

So the bigger question is if one could enable embedding of otf-fonts
through map-entries at all, subsetting can come later ;-)


>     But in the case of the adobe garamondm utopia, GFSBodoni and other
>     fonts this it not an option: Here otf-fonts are loaded 
 
> gfsbodoni has pfb files, and gfsbodoni.map loads them.
> So I don't get that one.

There are also map-entries which uses otf:

md-grbr7m GFSBodoni-Regular " AutoEnc_py5znvjh3poy4qksuktslsc7kc
ReEncodeFont " <[a_py5znv.enc <<GFSBodoni.otf

> 
>     and pdftex can handle them only if they are fully embeded.
> 
> On another front, it seems that it would be desirable for pdftex to
> fully download otf files entirely, regardless of the map file spec,
> instead of just reporting an error and giving up.  I admit it's not
> clear to me when one would want to play with otf files in pdftex in the
> first place, but fine.

Why not? It avoids to have to convert fonts to pfb (which is perhaps
not allowed) and to handle two variants of a font (e.g. how to
prevent xelatex to find the pfb instead of the otf). And at least in
miktex pdftex can access such fonts directly from the system folder. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From karl at freefriends.org  Sat Jul 19 00:04:21 2014
From: karl at freefriends.org (Karl Berry)
Date: Fri, 18 Jul 2014 22:04:21 +0000
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
In-Reply-To: <11sact2xqcmif.dlg@nililand.de>
Message-ID: <201407182204.s6IM4Lh8029911@freefriends.org>

Hi Ulrike,

    There are also map-entries which uses otf:
    md-grbr7m GFSBodoni-Regular " AutoEnc_py5znvjh3poy4qksuktslsc7kc
    ReEncodeFont " <[a_py5znv.enc <<GFSBodoni.otf

I see.  That's part of mathdesign, not gfsbodoni, hence I didn't see it.
(And I highly doubt that using the .otf is required here, but I've
raised enough issues with the mathdesign author already that I'm not
going to add to them unless there is some evidence of movement.)
Anyway.

    1. that (x)dvipdfmx gives errors when the <<-syntax is used. 

Ack.

    2. that (x)dvipdfmx can't load otf-fonts through map-entries even if
    the "<"-syntax is used. 

I don't see that problem (which would be tantamount to *fmx not
supporting otf fonts at all).  Given input tryot.tex:

\nopagenumbers
% let's set up a test for partial download of otf, since none in map file.
\special{pdf:mapline md-grbbi7m GFSBodoni-BoldItalic " AutoEnc_rl4tn2dr7yl7pvjznhtbna64dc ReEncodeFont " <[a_rl4tn2.enc <GFSBodoniBoldIt.otf}
\font\test = md-grbbi7m        % fully downloads .otf from map file

\test K
\end

I run
  tex tryot
  dvipdfmx tryot.dvi
and the result is a tryot.pdf (with the font partially embedded).

If you're thinking of your previous mail about SkakNew-Figurine
(http://tug.org/pipermail/tex-live/2014-June/035488.html), that's a
different case altogether.

Thanks,
k


From news3 at nililand.de  Sat Jul 19 11:17:29 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 19 Jul 2014 11:17:29 +0200
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
References: <11sact2xqcmif.dlg@nililand.de>
 <201407182204.s6IM4Lh8029911@freefriends.org>
Message-ID: <113x3fj9rccl7.dlg@nililand.de>

Am Fri, 18 Jul 2014 22:04:21 +0000 schrieb Karl Berry:

>    2. that (x)dvipdfmx can't load otf-fonts through map-entries even if
>     the "<"-syntax is used. 
> 
> I don't see that problem (which would be tantamount to *fmx not
> supporting otf fonts at all).  Given input tryot.tex:
> 
> \nopagenumbers
> % let's set up a test for partial download of otf, since none in map file.
> \special{pdf:mapline md-grbbi7m GFSBodoni-BoldItalic " AutoEnc_rl4tn2dr7yl7pvjznhtbna64dc ReEncodeFont " <[a_rl4tn2.enc <GFSBodoniBoldIt.otf}
> \font\test = md-grbbi7m        % fully downloads .otf from map file
> 
> \test K
> \end
> 
> I run
>   tex tryot
>   dvipdfmx tryot.dvi
> and the result is a tryot.pdf (with the font partially embedded).

Yes you are right, I had forgotten that with tex + dvipdfmx it
worked. But xetex fails:

G:\Z-Test>xetex test-utf8
This is XeTeX, Version 3.14159265-2.6-0.99991 (TeX Live 2014/W32TeX)
(preloaded
format=xetex)
 restricted \write18 enabled.
entering extended mode
(./test-utf8.tex [1] )
kpathsea: Running mktexpk --mfmode / --bdpi 600 --mag 1+0/600 --dpi
600 GFSBodoniBoldIt.otf

The command name is D:\texlive\2014\bin\win32\mktexpk

kpathsea: Running mktexmf GFSBodoniBoldIt.mf

The command name is D:\texlive\2014\bin\win32\mktexmf
name = GFSBodoniBoldIt, rootname = GFSBodoniBoldIt, pointsize =
mktexmf: empty or non-existent rootfile!
Cannot find GFSBodoniBoldIt.mf .
I try ps2pk --> gsftopk --> ttf2pk --> hbf2gf.
Cannot find GFSBodoniBoldIt.tfm .
kpathsea: Appending font creation commands to missfont.log.

xdvipdfmx:fatal: Cannot proceed without .vf or "physical" font for
PDF output...


Output file removed.

Error 1 (driver return code) generating output;
file test-utf8.pdf may not be valid.
Transcript written on test-utf8.log.


(That's what started the discussion: Someone tried to use mathdesign
with xelatex which loads fonts in this way and this fails).


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From karl at freefriends.org  Sun Jul 20 01:23:41 2014
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 Jul 2014 23:23:41 +0000
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
In-Reply-To: <113x3fj9rccl7.dlg@nililand.de>
Message-ID: <201407192323.s6JNNfLd024202@freefriends.org>

    kpathsea: Running mktexpk --mfmode / --bdpi 600 --mag 1+0/600 --dpi
    600 GFSBodoniBoldIt.otf

Sounds like test-utf8.tex contains
\font\foo = GFSBodoniBoldIt.otf

Is that right?  That syntax has never worked.  To get XeTeX to look up
an .otf by file name, it's always been necessary to use brackets, most
likely with quotes:
  \font\foo = "[GFSBodoniBoldIt.otf]" \foo XYZ
I just tried it with xetex from tl14 on i386-linux; it worked.
FWIW, the xetexref manual has a variety of examples (although personally
I think it could use still more :).

After your initial mail, I submitted an enhancement request for xetex to
pay attention to the .otf extension instead of blindly stripping it off
and looking for a .tfm anyway:
  http://sourceforge.net/p/xetex/feature-requests/17/
but that is new functionality not yet implemented.

    (That's what started the discussion: Someone tried to use mathdesign
    with xelatex which loads fonts in this way and this fails).

Sounds like a bug in mathdesign, then.

thanks,
karl


From news3 at nililand.de  Sun Jul 20 11:45:36 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 20 Jul 2014 11:45:36 +0200
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
References: <113x3fj9rccl7.dlg@nililand.de>
 <201407192323.s6JNNfLd024202@freefriends.org>
Message-ID: <1jr5we8qvnb67$.dlg@nililand.de>

Am Sat, 19 Jul 2014 23:23:41 +0000 schrieb Karl Berry:

>     kpathsea: Running mktexpk --mfmode / --bdpi 600 --mag 1+0/600 --dpi
>     600 GFSBodoniBoldIt.otf
> 
> Sounds like test-utf8.tex contains
> \font\foo = GFSBodoniBoldIt.otf
> 
> Is that right?  

No test-utf8.tex contains exactly the code of your "tryot.tex" and
that's the output if I run this code with xetex instead of latex +
dvipdfmx. 

Try it out in tryot.tex:
     \special{pdf:mapline md-grbbi7m ... <XXXX}
works fine with xetex if XXXX is a pfb, but fails if it is a ttf or
a otf font.

> That syntax has never worked.  To get XeTeX to look up
> an .otf by file name, it's always been necessary to use brackets, most
> likely with quotes:

I know how to call otf by file name. But in your code the font is
called through the tfm: "\font\test = md-grbbi7m" and the question
is how to call the related otf through the "normal"
tfm-vf-tfm-mapline-otf-chain. 

If I run your tryot.tex code with "xetex --no-pdf" and then call
xdvipdfmx I get this:

G:\Z-Test>xdvipdfmx test-utf8.xdv
test-utf8.xdv -> test-utf8.pdf
[1
kpathsea: Running mktexpk --mfmode / --bdpi 600 --mag 1+0/600 --dpi
600 GFSBodon
iBoldIt.otf

The command name is D:\texlive\2014\bin\win32\mktexpk

kpathsea: Running mktexmf GFSBodoniBoldIt.mf

The command name is D:\texlive\2014\bin\win32\mktexmf
name = GFSBodoniBoldIt, rootname = GFSBodoniBoldIt, pointsize =
mktexmf: empty or non-existent rootfile!
Cannot find GFSBodoniBoldIt.mf .
I try ps2pk --> gsftopk --> ttf2pk --> hbf2gf.
Cannot find GFSBodoniBoldIt.tfm .
kpathsea: Appending font creation commands to missfont.log.

xdvipdfmx:warning: Could not locate a virtual/physical font for TFM
"md-grbbi7m"
.
xdvipdfmx:warning: >> This font is mapped to a physical font
"GFSBodoniBoldIt.otf".

xdvipdfmx:warning: >> Please check if kpathsea library can find this
font: GFSBodoniBoldIt.otf
xdvipdfmx:fatal: Cannot proceed without .vf or "physical" font for
PDF output...


Output file removed.
================================

So xdvipdfmx did see the map entry, and it did realize that the
"physical font" is GFSBodoniBoldIt.otf but then fails to use it.

> (That's what started the discussion: Someone tried to use mathdesign
>  with xelatex which loads fonts in this way and this fails).

> Sounds like a bug in mathdesign, then.

I don't think so. It looks like a missing feature of xdvipdfmx for
me: Perhaps someone thought that otf will always be loaded directly
by filename and so removed the support for this fonts in the tfm/map
handling.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From karl at freefriends.org  Mon Jul 21 01:48:31 2014
From: karl at freefriends.org (Karl Berry)
Date: Sun, 20 Jul 2014 23:48:31 +0000
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
In-Reply-To: <1jr5we8qvnb67$.dlg@nililand.de>
Message-ID: <201407202348.s6KNmViA001376@freefriends.org>

Ulrike,

(1) I don't think any useful conclusions can be reached from running
xetex without --no-pdf, since it doesn't report why the font loading
fails.  FWIW, I also see differences between Windows and Unix.

(2) After further testing, I can agree that there is something awry in
the loading via the map file.  I'm not prepared to try to address that
myself now, but I reported it for Khaled's consideration here:
http://sourceforge.net/p/xetex/bugs/97/

(3) For compatibility if nothing else, I feel that the mathdesign author
should change the loading of the gfs* fonts.  I see no benefit to his
current approach.  (The proprietary fonts in mathdesign are a different
situation.)

(4) The one thing I did just do was make the tiny tweak to the sources to
accept and ignore << as has been done all along with <[:

fontmap.c (revision 34677)
..
-      if (++p < endptr && *p == '[') p++; /*skip */
+      if (++p < endptr && (*p == '[' || *p == '<')) p++; /*skip */

It won't help for this year, but at least for the future ...
I'll also do something to disambiguate various fatal error msgs.

karl


From news3 at nililand.de  Mon Jul 21 09:39:30 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 21 Jul 2014 09:39:30 +0200
Subject: [tex-live] (x)dvipdfmx and fully embeded fonts in pdftex.map
References: <1jr5we8qvnb67$.dlg@nililand.de>
 <201407202348.s6KNmViA001376@freefriends.org>
Message-ID: <q4dlkmyj1pnx$.dlg@nililand.de>

Am Sun, 20 Jul 2014 23:48:31 +0000 schrieb Karl Berry:

> Ulrike,
> 
> (1) I don't think any useful conclusions can be reached from running
> xetex without --no-pdf, since it doesn't report why the font loading
> fails.  FWIW, I also see differences between Windows and Unix.

I only wanted to show you some more extended messages. You can also
use 
   xetex --output-driver="xdvipdfmx -vv"

> 
> (2) After further testing, I can agree that there is something awry in
> the loading via the map file.  I'm not prepared to try to address that
> myself now, but I reported it for Khaled's consideration here:
> http://sourceforge.net/p/xetex/bugs/97/

Imho the problem is on the xdvipdfmx side. 
On the xetex list Akira just wrote too that "In the case of
XeTeX-xdvipdfmx, we cannot use the kind of map file
for OpenType fonts. That is, we cannot load OpenType fonts through
tfm fonts."


 
> (3) For compatibility if nothing else, I feel that the mathdesign author
> should change the loading of the gfs* fonts. 

The problem is the reencoding. If I got it right the map line is for
an OML-encoded font. I don't know an easy way to reencode a font if
you load it directly by font name -- perhaps it can be done with a
teckit-mapping. 

> I see no benefit to his current approach.  

Well it works with pdftex. I would also try to avoid to write extra
"ifxetex" and "ifluatex" unless it is really necessary. 



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/



From usenet at bersch.net  Mon Jul 21 21:48:48 2014
From: usenet at bersch.net (Christoph Bersch)
Date: Mon, 21 Jul 2014 21:48:48 +0200
Subject: [tex-live] Package version of pst-optexp
In-Reply-To: <201407132131.s6DLVXhF032288@freefriends.org>
References: <201407132131.s6DLVXhF032288@freefriends.org>
Message-ID: <53CD6EA0.30100@bersch.net>

Hi,

Am 13.07.2014 23:31, schrieb Karl Berry:
> It appears that pst-optexp.tds.zip on CTAN is stale (dates from Feb 28),
> which I hadn't noticed before.  I suggest not providing the .tds.zip.

I thought that providing a .tds.zip file would help. But if that causes 
confusion, I'll remove it from future updates.

> Meanwhile, I did the update for tonight, ignoring the .tds.zip.

Thank you,
Christoph



From kskuzmin at gmail.com  Tue Jul 22 13:29:23 2014
From: kskuzmin at gmail.com (=?UTF-8?B?0JrQuNGA0LjQu9C7INCa?=)
Date: Tue, 22 Jul 2014 11:29:23 +0000
Subject: [tex-live] installing with custom binaries & making it
Message-ID: <CAG12cQT2=oc_q0e5Csxv0SEmRKQ8vrDDUO7A5RrXBHmwQqm9XA@mail.gmail.com>

Hello all,

I'm going to install TexLive2014 with my own-compiled binaries (with shared
libs).


0. I have read this:
====================

https://www.tug.org/texlive/doc/tlbuild.html
https://www.tug.org/texlive/build.html
https://tug.org/texlive/doc/texlive-en/texlive-en.html
http://www.linuxfromscratch.org/blfs/view/svn/pst/texlive.html


1. Build binaris:
=================

In sources dir:
$ mkdir Work && cd Work
$ ../configure \
--prefix=/opt/texlive/2014 \
--bindir=/opt/texlive/2014/bin/custom \
--datarootdir=/opt/texlive/2014 \
--includedir=/usr/include \
--infodir=/opt/texlive/2014/texmf-dist/doc/info \
--libdir=/usr/lib \
--mandir=/opt/texlive/2014/texmf-dist/doc/man \
--disable-native-texlive-build \
--disable-static \
--enable-shared \
--with-system-libgs \
--with-system-poppler \
--with-system-freetype2 \
--with-system-fontconfig \
--with-system-libpng \
--with-system-icu \
--with-system-graphite2 \
--with-system-harfbuzz \
--with-system-xpdf \
--with-system-cairo \
--with-system-pixman \
--with-system-zlib \
--with-banner-add=" - shared"
$ make
$ make check
$ make install

At the end of this I was taking binaries in /opt/texlive/2014/bin/custom
and some files around there (in texmf-dist).


2. Install TexLive dist (tree):
===============================

In untarred dist dir:
$ ./install-tl -custom-bin /opt/texlive/2014/bin/custom/

As I understand that will install full tree of TexLive using my
pre-installed
binaries for 'custom' platform.

Add '/opt/texlive/2014/bin/custom' to my $PATH and
'/opt/texlive/2014/texmf-dist/doc/info' to $INFOPATH,
'/opt/texlive/2014/texmf-dist/doc/man'  to $MANPATH.

$ fmtutil-sys --all
$ updmap-sys


?. Questions:
=============

- Is key '-custom-bin' tells to installer that  it should using bins in
this directory directly
or should copying them?

- There are no some additional executables (maybe scripts? or/and
symlinks?) in bin directory,
so some commands (such as 'latex', 'pdflatex') not found. Where it is and
how to install it?

- Installer script installed another copy of manpages to bin/custom/man
directory.
Is it differs of manpages that comes with own-making binaries?
How to prevent of install these mans correctly (*perfectionism style*)?

- Any comments to my sequence?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140722/df21088e/attachment.html>

From preining at logic.at  Tue Jul 22 16:58:20 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 22 Jul 2014 23:58:20 +0900
Subject: [tex-live] installing with custom binaries & making it
In-Reply-To: <CAG12cQT2=oc_q0e5Csxv0SEmRKQ8vrDDUO7A5RrXBHmwQqm9XA@mail.gmail.com>
References: <CAG12cQT2=oc_q0e5Csxv0SEmRKQ8vrDDUO7A5RrXBHmwQqm9XA@mail.gmail.com>
Message-ID: <20140722145820.GC19445@auth.logic.tuwien.ac.at>

Hi

> 1. Build binaris:

> $ make
> $ make check
> $ make install

It would be better to 
	make World
as this would also fix the missing links mentioned below, I *guess*.

> At the end of this I was taking binaries in /opt/texlive/2014/bin/custom
> and some files around there (in texmf-dist).

You only need to have the files in bin/custom, and make them
available somewhere.

> 2. Install TexLive dist (tree):
> ===============================
> 
> In untarred dist dir:
> $ ./install-tl -custom-bin /opt/texlive/2014/bin/custom/
> 
> As I understand that will install full tree of TexLive using my
> pre-installed
> binaries for 'custom' platform.
> 
> Add '/opt/texlive/2014/bin/custom' to my $PATH and
> '/opt/texlive/2014/texmf-dist/doc/info' to $INFOPATH,
> '/opt/texlive/2014/texmf-dist/doc/man'  to $MANPATH.
> 
> $ fmtutil-sys --all
> $ updmap-sys

That should work.

> - Is key '-custom-bin' tells to installer that  it should using bins in
> this directory directly or should copying them?

The installer uses the binaries in the arg to -custom-bin to copy them
into the proper location.

In your case there where copied into itself, no harm done.

> - There are no some additional executables (maybe scripts? or/and
> symlinks?) in bin directory,
> so some commands (such as 'latex', 'pdflatex') not found. Where it is and
> how to install it?

They should have been installed with the make world call, AFAIR.

> - Installer script installed another copy of manpages to bin/custom/man
> directory.
> Is it differs of manpages that comes with own-making binaries?

>From the build process above you *only* need the stuff in 
	bin/custom/
nothing else.

> How to prevent of install these mans correctly (*perfectionism style*)?

No idea, I don't know a solution, I just removed the wrong one in 
the Debian packaging...

> - Any comments to my sequence?

It is ok, simply try it and see if you get a running system ;-)

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From kskuzmin at gmail.com  Tue Jul 22 20:10:16 2014
From: kskuzmin at gmail.com (=?UTF-8?B?0JrQuNGA0LjQu9C7INCa?=)
Date: Tue, 22 Jul 2014 22:10:16 +0400
Subject: [tex-live] installing with custom binaries & making it
In-Reply-To: <20140722145820.GC19445@auth.logic.tuwien.ac.at>
References: <CAG12cQT2=oc_q0e5Csxv0SEmRKQ8vrDDUO7A5RrXBHmwQqm9XA@mail.gmail.com>
 <20140722145820.GC19445@auth.logic.tuwien.ac.at>
Message-ID: <CAG12cQS3mKHGrYn6Lth-110SPpxj3W1gd3GqDS3_Sq0RB3tTzg@mail.gmail.com>

Thanks.
(But 'make world', not 'make World'. :-))

What is 'make world' actually doing? (I'm not familiar with GNU
Make/Autoconf utils, etc.)

By the way, i was trying and 'make world' has 1 fail test (bibtexmem),
however 'make && make check' has no ones.


2014-07-22 18:58 GMT+04:00 Norbert Preining <preining at logic.at>:

> Hi
>
> > 1. Build binaris:
>
> > $ make
> > $ make check
> > $ make install
>
> It would be better to
>         make World
> as this would also fix the missing links mentioned below, I *guess*.
>
> > At the end of this I was taking binaries in /opt/texlive/2014/bin/custom
> > and some files around there (in texmf-dist).
>
> You only need to have the files in bin/custom, and make them
> available somewhere.
>
> > 2. Install TexLive dist (tree):
> > ===============================
> >
> > In untarred dist dir:
> > $ ./install-tl -custom-bin /opt/texlive/2014/bin/custom/
> >
> > As I understand that will install full tree of TexLive using my
> > pre-installed
> > binaries for 'custom' platform.
> >
> > Add '/opt/texlive/2014/bin/custom' to my $PATH and
> > '/opt/texlive/2014/texmf-dist/doc/info' to $INFOPATH,
> > '/opt/texlive/2014/texmf-dist/doc/man'  to $MANPATH.
> >
> > $ fmtutil-sys --all
> > $ updmap-sys
>
> That should work.
>
> > - Is key '-custom-bin' tells to installer that  it should using bins in
> > this directory directly or should copying them?
>
> The installer uses the binaries in the arg to -custom-bin to copy them
> into the proper location.
>
> In your case there where copied into itself, no harm done.
>
> > - There are no some additional executables (maybe scripts? or/and
> > symlinks?) in bin directory,
> > so some commands (such as 'latex', 'pdflatex') not found. Where it is and
> > how to install it?
>
> They should have been installed with the make world call, AFAIR.
>
> > - Installer script installed another copy of manpages to bin/custom/man
> > directory.
> > Is it differs of manpages that comes with own-making binaries?
>
> From the build process above you *only* need the stuff in
>         bin/custom/
> nothing else.
>
> > How to prevent of install these mans correctly (*perfectionism style*)?
>
> No idea, I don't know a solution, I just removed the wrong one in
> the Debian packaging...
>
> > - Any comments to my sequence?
>
> It is ok, simply try it and see if you get a running system ;-)
>
> Norbert
>
> ------------------------------------------------------------------------
> PREINING, Norbert                               http://www.preining.info
> JAIST, Japan                                 TeX Live & Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
> ------------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140722/94755c09/attachment-0001.html>

From peter at zilkens.de  Tue Jul 22 22:59:41 2014
From: peter at zilkens.de (Peter Zilkens)
Date: Tue, 22 Jul 2014 22:59:41 +0200
Subject: [tex-live] Possible bugs in TeX-live 2013
Message-ID: <993393238.1869814.1406062781486.open-xchange@patina.store>

Hi there,

I have those 2 problems with

pdfTeX 3.1415926-2.5-1.40.14 (TeX Live 2013/Debian) kpathsea version 6.1.1
Copyright 2013 Peter Breitenlohner (eTeX)/Han The Thanh (pdfTeX):

(1) Option clash for package babel. \usepackage (followed by: [T1]{fontenc})
(...)Texlipse Build Error

(2)Undefined control sequence: \ProcessKeyvalOptions{Hyp} (followed by: )
(Occurance:
/usr/share/texlive/texmf-dist/tex/latex/hyperref/hyperref.sty)(...)Texlipse
Build Error

You'll find the whole description here:

http://tex.stackexchange.com/questions/191716/error-builder-2-for-pdf-output-format-has-an-invalid-configuration

The fixing seems not to be known in the www.

Do you have any idea to fix that?

Kind regards, Peter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140722/e7185600/attachment.html>

From d.p.carlisle at gmail.com  Wed Jul 23 00:05:42 2014
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 22 Jul 2014 23:05:42 +0100
Subject: [tex-live] Possible bugs in TeX-live 2013
In-Reply-To: <993393238.1869814.1406062781486.open-xchange@patina.store>
References: <993393238.1869814.1406062781486.open-xchange@patina.store>
Message-ID: <CAEW6iOgeB45yTGcGpeJbdjU207_xZxhy68j-qBaroqLWTeawwQ@mail.gmail.com>

(1) Option clash for package babel. r


That does not indicate a problem with texlive, but simply a problem in
your document, you have loaded babel twice with different options,
which is an error (for any latex package).

You need to do as requested in the comments on your tex.sx question
make a minimal example by starting from a copy of your document and
remove _everything_ that can be removed until you end up with a
document a few lines long that demonstrates the error, if you post
that to tex.sx someone will tell you how to fix it.

David


From zdenek.wagner at gmail.com  Wed Jul 23 09:17:50 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 23 Jul 2014 09:17:50 +0200
Subject: [tex-live] Possible bugs in TeX-live 2013
In-Reply-To: <CAEW6iOgeB45yTGcGpeJbdjU207_xZxhy68j-qBaroqLWTeawwQ@mail.gmail.com>
References: <993393238.1869814.1406062781486.open-xchange@patina.store>
 <CAEW6iOgeB45yTGcGpeJbdjU207_xZxhy68j-qBaroqLWTeawwQ@mail.gmail.com>
Message-ID: <CAC1phyYrx-vGgxo54LbhMUVpY4HjyPneqent+3boSNN4cadUBg@mail.gmail.com>

This often hapens if a package is loaded automatically by another
package and you load the same package later and specify additional
options. If you cannot modify the package that loads babel and you
need additional options, load babel as the first package specifying
all your options and all options needed in the package that loads
babel. If you load the sam package for the second time, you can load
it with the same options or with some options missing but not with
additional options. See for instance The LaTeX Companion.

2014-07-23 0:05 GMT+02:00 David Carlisle <d.p.carlisle at gmail.com>:
> (1) Option clash for package babel. r
>
>
> That does not indicate a problem with texlive, but simply a problem in
> your document, you have loaded babel twice with different options,
> which is an error (for any latex package).
>
> You need to do as requested in the comments on your tex.sx question
> make a minimal example by starting from a copy of your document and
> remove _everything_ that can be removed until you end up with a
> document a few lines long that demonstrates the error, if you post
> that to tex.sx someone will tell you how to fix it.
>
> David
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From karl at freefriends.org  Thu Jul 24 01:32:18 2014
From: karl at freefriends.org (Karl Berry)
Date: Wed, 23 Jul 2014 23:32:18 +0000
Subject: [tex-live] installing with custom binaries & making it
In-Reply-To: <CAG12cQS3mKHGrYn6Lth-110SPpxj3W1gd3GqDS3_Sq0RB3tTzg@mail.gmail.com>
Message-ID: <201407232332.s6NNWI18015914@freefriends.org>

    What is 'make world' actually doing?

If you look at the top-level Makefile.am, it will be obvious.
It runs three submakes: install-strip run-texlinks check
That is it.

    make world' has 1 fail test (bibtexmem),
    however 'make && make check' has no ones.

I can only surmise your available memory is on the verge of being
exhausted during the tests, and depending on what else is running at the
time of the test, the allocation by bibtex may or may not succeed.

I know that bibtex does do a "big" (by the standards of small devices)
allocation when it starts up.  The failure of this test is not
important, as a practical matter.  Perhaps we can change the test to
reduce how much gets allocated.

    - Installer script installed another copy of manpages to
    bin/custom/man directory.  

As far as I know, what is installed is not a copy of anything, but a
symbolic link from bin/*/man to .../texmf-dist/doc/man.  It happens in
source/texk/texlive/linked_scripts/Makefile.am.

This is for the sake of man programs that automatically look for man/
entries in PATH directories, a nice feature.  This exists notably but
not only on MacOSX.

    Is it differs of manpages that comes with own-making binaries?

Thus: no.

    How to prevent of install these mans correctly (*perfectionism style*)?

It is operating as intended, for good reason, so I don't agree with the
description of "imperfect".

If you have some personal distaste for this bin/man, that's fine; you
can either set the environment variable TL_INSTALL_OMIT_MAN_LINK to
anything non-null before (or when) running the build, or just rm it
afterward.

hope this helps,
karl


From kskuzmin at gmail.com  Thu Jul 24 15:00:31 2014
From: kskuzmin at gmail.com (=?UTF-8?B?0JrQuNGA0LjQu9C7INCa?=)
Date: Thu, 24 Jul 2014 13:00:31 +0000
Subject: [tex-live] installing with custom binaries & making it
In-Reply-To: <201407232332.s6NNWI18015914@freefriends.org>
References: <CAG12cQS3mKHGrYn6Lth-110SPpxj3W1gd3GqDS3_Sq0RB3tTzg@mail.gmail.com>
 <201407232332.s6NNWI18015914@freefriends.org>
Message-ID: <CAG12cQSCGHF_Rby7L8_Y9ogh-mQoKYntF4o+hub6OgR6M6vf+w@mail.gmail.com>

Thanks,  'bin/*/man' is really the symlink

My new question:

Make world fails with this:

top-level make world: running texlinks in texk/texlive/tl_scripts ...
cd texk/texlive/tl_scripts && make  run-texlinks
make[1]: Entering directory
'/home/pil/latex/buildtexlive/source/Work/texk/texlive/tl_scripts'
PATH="/bin/x86_64-linux:/opt/texlive/2014/bin/custom:/opt/texlive/2014/bin/custom:/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/bin/vendor_perl:/usr/bin/core_perl";
export PATH; /bin/x86_64-linux/texlinks -v -f
/opt/texlive/2014/texmf-dist/web2c/fmtutil.cnf -e "" /bin/x86_64-linux
/bin/sh: /bin/x86_64-linux/texlinks: No such file or directory
Makefile:856: recipe for target 'run-texlinks' failed
make[1]: *** [run-texlinks] Error 127
make[1]: Leaving directory
'/home/pil/latex/buildtexlive/source/Work/texk/texlive/tl_scripts'
Makefile:1006: recipe for target 'world' failed
make: *** [world] Error 2

Sources were configured with:

...
--prefix=/opt/texlive/2014 \
--bindir=/opt/texlive/2014/bin/custom \
...

so texlinks placed in 'bin/custom' and '/bin/x86_64-linux' directory not
exist.

Where in makefiles (or anywhere else) is texlinks invoke string? Where is
this 856th line actualy?

Should I manualy edit it some something else?


2014-07-23 23:32 GMT+00:00 Karl Berry <karl at freefriends.org>:

>     What is 'make world' actually doing?
>
> If you look at the top-level Makefile.am, it will be obvious.
> It runs three submakes: install-strip run-texlinks check
> That is it.
>
>     make world' has 1 fail test (bibtexmem),
>     however 'make && make check' has no ones.
>
> I can only surmise your available memory is on the verge of being
> exhausted during the tests, and depending on what else is running at the
> time of the test, the allocation by bibtex may or may not succeed.
>
> I know that bibtex does do a "big" (by the standards of small devices)
> allocation when it starts up.  The failure of this test is not
> important, as a practical matter.  Perhaps we can change the test to
> reduce how much gets allocated.
>
>     - Installer script installed another copy of manpages to
>     bin/custom/man directory.
>
> As far as I know, what is installed is not a copy of anything, but a
> symbolic link from bin/*/man to .../texmf-dist/doc/man.  It happens in
> source/texk/texlive/linked_scripts/Makefile.am.
>
> This is for the sake of man programs that automatically look for man/
> entries in PATH directories, a nice feature.  This exists notably but
> not only on MacOSX.
>
>     Is it differs of manpages that comes with own-making binaries?
>
> Thus: no.
>
>     How to prevent of install these mans correctly (*perfectionism style*)?
>
> It is operating as intended, for good reason, so I don't agree with the
> description of "imperfect".
>
> If you have some personal distaste for this bin/man, that's fine; you
> can either set the environment variable TL_INSTALL_OMIT_MAN_LINK to
> anything non-null before (or when) running the build, or just rm it
> afterward.
>
> hope this helps,
> karl
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140724/b4554547/attachment.html>

From karl at freefriends.org  Fri Jul 25 01:36:36 2014
From: karl at freefriends.org (Karl Berry)
Date: Thu, 24 Jul 2014 23:36:36 +0000
Subject: [tex-live] installing with custom binaries & making it
In-Reply-To: <CAG12cQSCGHF_Rby7L8_Y9ogh-mQoKYntF4o+hub6OgR6M6vf+w@mail.gmail.com>
Message-ID: <201407242336.s6ONaaqi019539@freefriends.org>

    Where in makefiles (or anywhere else) is texlinks invoke string? 

Gee, I already gave you this information -- the top-level
source/Makefile[.am] is what invokes run_texlinks.  Apparently you did
not actually look at that file, which says:

texlinks_dir = texk/texlive/tl_scripts
world: all
..
	@echo "top-level make $@: running texlinks in $(texlinks_dir) ..."
	cd $(texlinks_dir) && $(MAKE) $(AM_MAKEFLAGS) run-texlinks

So, the directory is source/texk/texlive/tl_scripts.

    Where is this 856th line actualy?

Of course the generated Makefile with the "856th line" is under the
build directory (.../Work).  The original Makefile.am is usually easier
to look at.  Anyway, both contain:
..
run_texlinks = $(DESTDIR)$(bindir)/texlinks -v \
..

Thus, from your output, evidently $(DESTDIR)$(bindir) is expanding to
the incorrect /bin/x86_64-linux, instead of your stated --bindir.
I cannot say why.  Maybe you ran configure more than once, or have
environment variables set?  I'm just guessing.  Only you can determine
the facts of your environment and configuration.

    Should I manualy edit it some something else?

If you just want to get on with life, it appears to me that you could
edit the above line in Work/texk/texlive/tl_scripts/Makefile to say:

run_texlinks = texlinks -v \

Since according to your output, you already have the right
/.../bin/custom directory in PATH, so it should be found that way.
Whether there would be subsequent problems due to the misconfiguration, 
I cannot guess.  Wouldn't surprise me either way.

hope this helps,
karl


From peter at zilkens.de  Thu Jul 24 18:52:30 2014
From: peter at zilkens.de (Peter)
Date: Thu, 24 Jul 2014 16:52:30 +0000
Subject: [tex-live] Possible bugs in TeX-live 2013
References: <993393238.1869814.1406062781486.open-xchange@patina.store>
 <CAEW6iOgeB45yTGcGpeJbdjU207_xZxhy68j-qBaroqLWTeawwQ@mail.gmail.com>
 <CAC1phyYrx-vGgxo54LbhMUVpY4HjyPneqent+3boSNN4cadUBg@mail.gmail.com>
Message-ID: <loom.20140724T185054-920@post.gmane.org>

I guess the package fontenc was the problem. Even with TL14.



From zdenek.wagner at gmail.com  Fri Jul 25 10:55:06 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 25 Jul 2014 10:55:06 +0200
Subject: [tex-live] Possible bugs in TeX-live 2013
In-Reply-To: <loom.20140724T185054-920@post.gmane.org>
References: <993393238.1869814.1406062781486.open-xchange@patina.store>
 <CAEW6iOgeB45yTGcGpeJbdjU207_xZxhy68j-qBaroqLWTeawwQ@mail.gmail.com>
 <CAC1phyYrx-vGgxo54LbhMUVpY4HjyPneqent+3boSNN4cadUBg@mail.gmail.com>
 <loom.20140724T185054-920@post.gmane.org>
Message-ID: <CAC1phyYxJ6T-L96emBq6fKH_xvN4hpo=pL48DaQOxS10sp2C0g@mail.gmail.com>

2014-07-24 18:52 GMT+02:00 Peter <peter at zilkens.de>:
> I guess the package fontenc was the problem. Even with TL14.
>
Option clash is not a package problem, the problem is that a package
cannot be loaded multiple times because some definitions may have side
effects and multiple loading may cause endless loops in macros etc.
Thus \usepackage and \RequirePackage verify it. In addidion, if you
load a package for the second time with a new option, \DeclareOption
and \ProcessOptions cannot be executed. So the same rule applies to
all packages.
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From macdonald.42 at buckeyemail.osu.edu  Fri Jul 25 23:10:28 2014
From: macdonald.42 at buckeyemail.osu.edu (Macdonald, James H.)
Date: Fri, 25 Jul 2014 21:10:28 +0000
Subject: [tex-live] instaling texlive on a thumb drive
Message-ID: <1406322628428.49183@buckeyemail.osu.edu>

To whom it may concern:



I have downloaded the files from CTAN and I copied them to an 8 GB thumb drive.



I want to be able to launch TeX Live from the thumb drive.



Can you please tell me what needs to be done so I can do that? I thought it was enough to install it on the thumb drive, but I cannot find a way to store the downloaded programs and files on the thumb drive.



Thank you for your time.



Jim MacDonald
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140725/80c30d7b/attachment.html>

From daleif at imf.au.dk  Fri Jul 25 23:50:12 2014
From: daleif at imf.au.dk (Lars Madsen)
Date: Fri, 25 Jul 2014 21:50:12 +0000
Subject: [tex-live] instaling texlive on a thumb drive
In-Reply-To: <1406322628428.49183@buckeyemail.osu.edu>
References: <1406322628428.49183@buckeyemail.osu.edu>
Message-ID: <89ECE88578D8F648A22E307DAEE88579678FD82C@SRVUNIMBX07.uni.au.dk>

Did you follow section 4.2 in

http://tug.org/texlive/doc/texlive-en/texlive-en.html#x1-420004.2

-----Original Message-----
From: Macdonald, James H. [macdonald.42 at buckeyemail.osu.edu]
Received: fredag, 25 jul. 2014, 23:14
To: texlive at tug.org [texlive at tug.org]
Subject: [tex-live] instaling texlive on a thumb drive


To whom it may concern:



I have downloaded the files from CTAN and I copied them to an 8 GB thumb drive.



I want to be able to launch TeX Live from the thumb drive.



Can you please tell me what needs to be done so I can do that? I thought it was enough to install it on the thumb drive, but I cannot find a way to store the downloaded programs and files on the thumb drive.



Thank you for your time.



Jim MacDonald
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20140725/2697a0e9/attachment.html>

From swami at mun.ca  Sun Jul 27 15:10:49 2014
From: swami at mun.ca (P. P. Narayanaswami)
Date: Sun, 27 Jul 2014 10:40:49 -0230
Subject: [tex-live] TeXLive 2014 - placement of Map files
Message-ID: <1406466649.53d4fa59dc07a@webmail.mun.ca>

I am trying to install malayalam and tamil omega/aleph in TeXLive 2014.
I find some changes from older versions of TeXLive, such as:
(i) texmf tree is merged with texmf-dist tree, 
and (ii) the  location of the map file has also changed.
Please let me know if the following is the correct procedure, 
or please correct me where I am wrong:

Put all files (fonts, .pfb, .tfm, ocp, otp etc etc) in
        /usr/local/texlive/2014/texmf-dist/...
(or better, put all files in /usr/local/texlive/texmf-local)

append all map entries in malayalam.map to
   texmf-local/web2c/updmap.cfg
and run updmap-sys.
or, can I leave the malayalam.map file in /texmf-local/web2c directory?

I am puzzled how to add the map lines to
 texmf-dist/web2c/updmap.cfg or to texmf-local/web2c/updmap.cfg
The map file entries in malayalam.map look like  
mlklr Keli-Regular <mlklr.pfb
mlr1r Ra1-Regular <<mlr1r.pfb
... ....  etc

whereas in /web2c/updmap.cfg, the lines look like 
Map foo.map
Map foo2.map ....  etc

The instructions in updmap.cfg says:
# To make local customizations to the map files, using one of the
# following methods is simplest:
# 1) run
#       updmap-sys --enable Map=foo.map
#    for each map file.  (Or MixedMap instead of Map, if your font has
#    both Metafont and outline definitions.)  See the updmap --help
#    documentation. This will add lines to the updmap.cfg file in
#    TEXMFSYSCONFIG (creating it if necessary).
#
# 2) put all your additional fonts into TEXMFLOCAL, edit
#    TEXMFLOCAL/web2c/updmap.cfg, and run updmap-sys.

Does it mean that for each of the entries in malayalm,map
I run  updmap-sys --enable Map=mlklr.map
...  etc?
Kindly enlighten me on the placement of map entries.




From preining at logic.at  Mon Jul 28 02:55:31 2014
From: preining at logic.at (Norbert Preining)
Date: Mon, 28 Jul 2014 09:55:31 +0900
Subject: [tex-live] TeXLive 2014 - placement of Map files
In-Reply-To: <1406466649.53d4fa59dc07a@webmail.mun.ca>
References: <1406466649.53d4fa59dc07a@webmail.mun.ca>
Message-ID: <20140728005531.GG2058@auth.logic.tuwien.ac.at>

Hi,

On Sun, 27 Jul 2014, P. P. Narayanaswami wrote:
> Put all files (fonts, .pfb, .tfm, ocp, otp etc etc) in
>         /usr/local/texlive/2014/texmf-dist/...
> (or better, put all files in /usr/local/texlive/texmf-local)

Yes, please, put them in
	TEXMFLOCAL
(which normally is in the path you mentioend), but into the
correct subdirectories!
	.tex, .sty etc into TEXMFLOCAL/tex/latex/malayalam/
	.pfb into TEXMFLOCAL/fonts/type1/malayalam/
	etc etc

> append all map entries in malayalam.map to
>    texmf-local/web2c/updmap.cfg

No, that is *wrong*. Just add *one* line
	Map malayalam.map
to
	TEXMFLOCAL/web2c/updmap.cfg
(creating it if necessary).

Then run updmap-sys.

> or, can I leave the malayalam.map file in /texmf-local/web2c directory?

No, it *has*to* go into
	TEXMFLOCAL/fonts/map/dvips/malayalam/

> I am puzzled how to add the map lines to
>  texmf-dist/web2c/updmap.cfg or to texmf-local/web2c/updmap.cfg

Do it as I said above, add only one line.

updmap.cfg collects *references* to .map files, but *not* the content
of these .map files.

=====

Different question: why are these files not available in TeX Live?
Are the with a non-free license?

All the best

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From feliphil at gmx.net  Mon Jul 28 10:42:40 2014
From: feliphil at gmx.net (Wolfgang Keller)
Date: Mon, 28 Jul 2014 10:42:40 +0200
Subject: [tex-live] instaling texlive on a thumb drive
In-Reply-To: <1406322628428.49183@buckeyemail.osu.edu>
References: <1406322628428.49183@buckeyemail.osu.edu>
Message-ID: <20140728104240.d7bb18a67f52408e36bdeb5e@gmx.net>

> I want to be able to launch TeX Live from the thumb drive.
> 
> Can you please tell me what needs to be done so I can do that?

The installer GUI has an option for installing for "portable mode".

It works, I'm using it that way.

Sincerely,

Wolfgang


From preining at logic.at  Mon Jul 28 11:18:26 2014
From: preining at logic.at (Norbert Preining)
Date: Mon, 28 Jul 2014 18:18:26 +0900
Subject: [tex-live] TeXLive 2014 - placement of Map files
In-Reply-To: <1406538677.53d613b5e15cb@webmail.mun.ca>
References: <1406466649.53d4fa59dc07a@webmail.mun.ca>
 <20140728005531.GG2058@auth.logic.tuwien.ac.at>
 <1406538677.53d613b5e15cb@webmail.mun.ca>
Message-ID: <20140728091826.GJ2058@auth.logic.tuwien.ac.at>

Hi,

please stay on the mailing list, this might be of interest for
others, to.

On Mon, 28 Jul 2014, P. P. Narayanaswami wrote:
> Many thanks for your help.  I shall do as you suggested.

Let me know if it worked.

> I am also wondering why these packages (Malayalam Omega/Aleph, Tamil
> Omega/Aleph, and MalayalamTeX) are not part of TeXLive. 

Are they available on CTAN? If not, then there is only a very small
chance.

> They are maintained by sarovar.org, and their installation script never gets
> updated.

No, sarovar is not the maintainer, sarvor hosts the files.
I don't know who the maintainer is, probably this is written in
some documentation.

Are these files still in use?

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From zdenek.wagner at gmail.com  Mon Jul 28 11:28:00 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 28 Jul 2014 11:28:00 +0200
Subject: [tex-live] TeXLive 2014 - placement of Map files
In-Reply-To: <20140728091826.GJ2058@auth.logic.tuwien.ac.at>
References: <1406466649.53d4fa59dc07a@webmail.mun.ca>
 <20140728005531.GG2058@auth.logic.tuwien.ac.at>
 <1406538677.53d613b5e15cb@webmail.mun.ca>
 <20140728091826.GJ2058@auth.logic.tuwien.ac.at>
Message-ID: <CAC1phyZY83QYuRGTtw2iFfjOPnij7Zzz_cmJL2SY7ZjGaPDbEQ@mail.gmail.com>

2014-07-28 11:18 GMT+02:00 Norbert Preining <preining at logic.at>:
> Hi,
>
> please stay on the mailing list, this might be of interest for
> others, to.
>
> On Mon, 28 Jul 2014, P. P. Narayanaswami wrote:
>> Many thanks for your help.  I shall do as you suggested.
>
> Let me know if it worked.
>
>> I am also wondering why these packages (Malayalam Omega/Aleph, Tamil
>> Omega/Aleph, and MalayalamTeX) are not part of TeXLive.
>
> Are they available on CTAN? If not, then there is only a very small
> chance.
>
>> They are maintained by sarovar.org, and their installation script never gets
>> updated.
>
> No, sarovar is not the maintainer, sarvor hosts the files.
> I don't know who the maintainer is, probably this is written in
> some documentation.
>
The server at sarovar.org no longer exists, it was shut down a few months ago.

> Are these files still in use?
>
> Norbert
>
> ------------------------------------------------------------------------
> PREINING, Norbert                               http://www.preining.info
> JAIST, Japan                                 TeX Live & Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
> ------------------------------------------------------------------------
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



From preining at logic.at  Mon Jul 28 12:29:34 2014
From: preining at logic.at (Norbert Preining)
Date: Mon, 28 Jul 2014 19:29:34 +0900
Subject: [tex-live] TeXLive 2014 - placement of Map files
In-Reply-To: <CAC1phyZY83QYuRGTtw2iFfjOPnij7Zzz_cmJL2SY7ZjGaPDbEQ@mail.gmail.com>
References: <1406466649.53d4fa59dc07a@webmail.mun.ca>
 <20140728005531.GG2058@auth.logic.tuwien.ac.at>
 <1406538677.53d613b5e15cb@webmail.mun.ca>
 <20140728091826.GJ2058@auth.logic.tuwien.ac.at>
 <CAC1phyZY83QYuRGTtw2iFfjOPnij7Zzz_cmJL2SY7ZjGaPDbEQ@mail.gmail.com>
Message-ID: <20140728102934.GK2058@auth.logic.tuwien.ac.at>

On Mon, 28 Jul 2014, Zdenek Wagner wrote:
> The server at sarovar.org no longer exists, it was shut down a few months ago.

Indeed, I found it here:
	http://alex.org.in/2014/01/latexomega-packages-for-malayalam/
and dropped a  comment concerning upload to CTAN.

We will see.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From usenet at siart.de  Thu Jul 31 11:10:43 2014
From: usenet at siart.de (Uwe Siart)
Date: Thu, 31 Jul 2014 11:10:43 +0200
Subject: [tex-live] roboto.map is not active
Message-ID: <84egx1sxkc.fsf@siart.de>

Using 'roboto.sty' gives me a missfont error. From checking
texmf-dist/web2c/updmap.cfg I think that roboto.map isn't yet activated
in TL.

-- 
Uwe



From preining at logic.at  Thu Jul 31 12:41:18 2014
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2014 19:41:18 +0900
Subject: [tex-live] roboto.map is not active
In-Reply-To: <84egx1sxkc.fsf@siart.de>
References: <84egx1sxkc.fsf@siart.de>
Message-ID: <20140731104118.GG29015@auth.logic.tuwien.ac.at>

On Thu, 31 Jul 2014, Uwe Siart wrote:
> Using 'roboto.sty' gives me a missfont error. From checking
> texmf-dist/web2c/updmap.cfg I think that roboto.map isn't yet activated
> in TL.

Indeed, sorry. Fixed for tomorrow's build.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------


From gvdgdo at gmail.com  Thu Jul 31 00:42:08 2014
From: gvdgdo at gmail.com (Guido Governatori)
Date: Thu, 31 Jul 2014 08:42:08 +1000
Subject: [tex-live] Missing bibentry documentation
Message-ID: <0114E93F-58FE-453A-8746-2CCE77564EC0@gmail.com>

It seems that the documentation for the bibentry package is missing from TeXLive (I?m using MacTeX and it is not in MacTeX, so I?m assuming it is not in TeXLive as well). texdoc bibentry opens the documentation for natbib where there is no reference to bibentry. bibentry.sty is part of natbib, and it is generated by bibentry.dtx, but bibentry.pdf is not present in the documentation.

All the best

Guido  


From HelgeBlischke at web.de  Sun Jul 27 21:22:46 2014
From: HelgeBlischke at web.de (Helge Blischke)
Date: Sun, 27 Jul 2014 21:22:46 +0200
Subject: [tex-live] TeXLive update issues
Message-ID: <30DC9697-CFFC-41BD-BBCC-D2439C1D33B5@web.de>

different mirrors sometimes have quite different revision states.
There should be some synchonizing means.

Helge 


