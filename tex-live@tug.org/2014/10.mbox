From jfbu at free.fr  Thu Oct  2 13:37:02 2014
From: jfbu at free.fr (jfbu)
Date: Thu, 2 Oct 2014 13:37:02 +0200
Subject: [tex-live] Format of README file for a package
Message-ID: <542D38DE.1090302@free.fr>

Hi 

in preparation for an update on CTAN to a package of mine, I have used
Markdown syntax in the README file

from the point of view of the TeXLive distribution and texdoc,
is it possible to name the file README.md rather than README,
or is there some implicit rule that the README should have
precisely that filename?

Can I join also README.html which would be the already converted-to
-html variant? (I will ask that also to CTAN)

and should README.html be rather packagenameReadme.html for example?

Sincerely,

Jean-Francois


From laurik at stanford.edu  Thu Oct  2 02:51:23 2014
From: laurik at stanford.edu (Lauri Karttunen)
Date: Wed, 1 Oct 2014 17:51:23 -0700
Subject: [tex-live] Bug in TexLive-2014?
Message-ID: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>

I get the following error message on MacOS X Mavericks

/usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
Undefined control sequence.
l. 16 \iftx at liby

If I back out from TexLive-2014 to TexLive-2013, the error goes away. Fortunately that is easy on MacOSX.






From jfbu at free.fr  Thu Oct  2 15:51:46 2014
From: jfbu at free.fr (jfbu)
Date: Thu, 2 Oct 2014 15:51:46 +0200
Subject: [tex-live] Bug in TexLive-2014?
In-Reply-To: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
References: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
Message-ID: <F19CDD3C-669A-4CAC-BC85-EC09405B9076@free.fr>


Le 2 oct. 2014 ? 02:51, Lauri Karttunen <laurik at stanford.edu> a ?crit :

> I get the following error message on MacOS X Mavericks
> 
> /usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
> Undefined control sequence.
> l. 16 \iftx at liby
> 
> If I back out from TexLive-2014 to TexLive-2013, the error goes away. Fortunately that is easy on MacOSX.
> 
> 
> 

are you loading package newtxmath? the \iftx at liby toggle is defined therein.

Jean-Francois

From usenet at siart.de  Thu Oct  2 16:03:46 2014
From: usenet at siart.de (Uwe Siart)
Date: Thu, 2 Oct 2014 16:03:46 +0200
Subject: [tex-live] Bug in TexLive-2014?
References: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
Message-ID: <848ukymuv1.fsf@siart.de>

Lauri Karttunen <laurik at stanford.edu> writes:

> /usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
> Undefined control sequence.
> l. 16 \iftx at liby
>
> If I back out from TexLive-2014 to TexLive-2013, the error goes away.
> Fortunately that is easy on MacOSX.

I'm using the newtx package very regularly and I don't face any problems
of that kind. A minimal working example to reproduce the error would be
helpful.

-- 
Uwe


From heiko.oberdiek at googlemail.com  Fri Oct  3 02:20:06 2014
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Thu, 2 Oct 2014 20:20:06 -0400
Subject: [tex-live] Format of README file for a package
In-Reply-To: <542D38DE.1090302@free.fr>
References: <542D38DE.1090302@free.fr>
Message-ID: <542DEBB6.9080809@googlemail.com>

Hello,

On 10/02/2014 07:37 AM, jfbu wrote:
> in preparation for an update on CTAN to a package of mine, I have used
> Markdown syntax in the README file
>
> from the point of view of the TeXLive distribution and texdoc,
> is it possible to name the file README.md rather than README,
> or is there some implicit rule that the README should have
> precisely that filename?
>
> Can I join also README.html which would be the already converted-to
> -html variant? (I will ask that also to CTAN)
>
> and should README.html be rather packagenameReadme.html for example?
I am not a TeX Live or CTAN manager, but I can report, how I
have solved the issue for project latex-tds. As markup language
I had chosen asciidoc instead of Markdown and have put
the "source file" README.asciidoc to the sources. The generated
files are:
* README (real ASCII, without markup)
* README.html
* README.pdf

If texdoc is called to find the documentation for latex-tds, it
finds them in the following order:
1 TDS:doc/latex/latex-tds/README
2 TDS:doc/latex/latex-tds/README.pdf
3 TDS:doc/latex/latex-tds/README.html

These three files are also in CTAN:
  CTAN:macros/contrib/latex/latex-tds/README{,.pdf,html}

The CTAN web page
  http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
also shows the contents of README, but not from README.html
(security reasons?).

In the source repository at
  https://github.com/oberdiek/latex-tds
I have put README.asciidoc top-level, because github is able
to handle and display this format. (And the other files
are generated files anyway and do not belong to a source
repository.)

Yours sincerely
  Heiko

From jfbu at free.fr  Thu Oct  2 20:52:32 2014
From: jfbu at free.fr (jfbu)
Date: Thu, 2 Oct 2014 20:52:32 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <542DEBB6.9080809@googlemail.com>
References: <542D38DE.1090302@free.fr> <542DEBB6.9080809@googlemail.com>
Message-ID: <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>


Le 3 oct. 2014 ? 02:20, Heiko Oberdiek <heiko.oberdiek at googlemail.com> a ?crit :

> Hello,
> 
> On 10/02/2014 07:37 AM, jfbu wrote:
>> in preparation for an update on CTAN to a package of mine, I have used
>> Markdown syntax in the README file
>> 
>> from the point of view of the TeXLive distribution and texdoc,
>> is it possible to name the file README.md rather than README,
>> or is there some implicit rule that the README should have
>> precisely that filename?
>> 
>> Can I join also README.html which would be the already converted-to
>> -html variant? (I will ask that also to CTAN)
>> 
>> and should README.html be rather packagenameReadme.html for example?
> I am not a TeX Live or CTAN manager, but I can report, how I
> have solved the issue for project latex-tds. As markup language
> I had chosen asciidoc instead of Markdown and have put
> the "source file" README.asciidoc to the sources. The generated
> files are:
> * README (real ASCII, without markup)
> * README.html
> * README.pdf
> 
> If texdoc is called to find the documentation for latex-tds, it
> finds them in the following order:
> 1 TDS:doc/latex/latex-tds/README
> 2 TDS:doc/latex/latex-tds/README.pdf
> 3 TDS:doc/latex/latex-tds/README.html
> 
> These three files are also in CTAN:
>  CTAN:macros/contrib/latex/latex-tds/README{,.pdf,html}
> 
> The CTAN web page
>  http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
> also shows the contents of README, but not from README.html
> (security reasons?).
> 
> In the source repository at
>  https://github.com/oberdiek/latex-tds
> I have put README.asciidoc top-level, because github is able
> to handle and display this format. (And the other files
> are generated files anyway and do not belong to a source
> repository.)
> 
> Yours sincerely
>  Heiko

Thanks Heiko, this is useful to me. 

Regarding the README.html not being automatically displayed on 
> http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
there is a link README.html near the top of the file list, thus
in my view, this is ok the way it is. 

I mailed ctan at dante.de, and Petra from the CTAN team
told me there was no  automated process,  during the submission 
I should make a Note to the CTAN maintainers to signal the files 
which are candidate to be listed on the 
/tex-archive/macros/latex/contrib/package
page.

The other thing she told me is that README must be named that way,
with no extension, for its contents to be displayed automatically.

What I forgot to mention in my first message here is that README.md
is among the files extracted from the .dtx. Then during pdf creation
I am currently including it verbatim as a section of the documentation.

I could not do that with README (afaik)
as TeX's \input adds .tex extension to filenames without extension.

Thus README.md is the natural thing for me to work with, but it is no 
big deal to rename it to README before packaging my submission. And 
anyhow it is mandatory for CTAN displaying it.

Your message makes me think that rather than including the README.md 
verbatim, as a section in the package PDF documentation, I could as well 
choose to provide a separate README.pdf.

Indeed I already had experimented with producing README.pdf using Pandoc 
from README.md and it's fine.

Best regards

Jean-Francois

From jfbu at free.fr  Thu Oct  2 21:06:41 2014
From: jfbu at free.fr (jfbu)
Date: Thu, 2 Oct 2014 21:06:41 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
References: <542D38DE.1090302@free.fr> <542DEBB6.9080809@googlemail.com>
 <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
Message-ID: <6E357A10-16EE-4FD6-87EF-9B2299155D5C@free.fr>


Le 2 oct. 2014 ? 20:52, jfbu <jfbu at free.fr> a ?crit :

> 
> Le 3 oct. 2014 ? 02:20, Heiko Oberdiek <heiko.oberdiek at googlemail.com> a ?crit :
> 
>> Hello,
>> 
>> On 10/02/2014 07:37 AM, jfbu wrote:
>>> in preparation for an update on CTAN to a package of mine, I have used
>>> Markdown syntax in the README file
>>> 
>>> from the point of view of the TeXLive distribution and texdoc,
>>> is it possible to name the file README.md rather than README,
>>> or is there some implicit rule that the README should have
>>> precisely that filename?
>>> 
>>> Can I join also README.html which would be the already converted-to
>>> -html variant? (I will ask that also to CTAN)
>>> 
>>> and should README.html be rather packagenameReadme.html for example?
>> I am not a TeX Live or CTAN manager, but I can report, how I
>> have solved the issue for project latex-tds. As markup language
>> I had chosen asciidoc instead of Markdown and have put
>> the "source file" README.asciidoc to the sources. The generated
>> files are:
>> * README (real ASCII, without markup)
>> * README.html
>> * README.pdf
>> 
>> If texdoc is called to find the documentation for latex-tds, it
>> finds them in the following order:
>> 1 TDS:doc/latex/latex-tds/README
>> 2 TDS:doc/latex/latex-tds/README.pdf
>> 3 TDS:doc/latex/latex-tds/README.html
>> 
>> These three files are also in CTAN:
>> CTAN:macros/contrib/latex/latex-tds/README{,.pdf,html}
>> 
>> The CTAN web page
>> http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
>> also shows the contents of README, but not from README.html
>> (security reasons?).
>> 
>> In the source repository at
>> https://github.com/oberdiek/latex-tds
>> I have put README.asciidoc top-level, because github is able
>> to handle and display this format. (And the other files
>> are generated files anyway and do not belong to a source
>> repository.)
>> 
>> Yours sincerely
>> Heiko
> 
> Thanks Heiko, this is useful to me. 
> 
> Regarding the README.html not being automatically displayed on 
>> http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
> there is a link README.html near the top of the file list, thus
> in my view, this is ok the way it is. 
> 
> I mailed ctan at dante.de, and Petra from the CTAN team
> told me there was no  automated process,  during the submission 
> I should make a Note to the CTAN maintainers to signal the files 
> which are candidate to be listed on the 
> /tex-archive/macros/latex/contrib/package
> page.
> 
> The other thing she told me is that README must be named that way,
> with no extension, for its contents to be displayed automatically.
> 
> What I forgot to mention in my first message here is that README.md
> is among the files extracted from the .dtx. Then during pdf creation
> I am currently including it verbatim as a section of the documentation.
> 
> I could not do that with README (afaik)
> as TeX's \input adds .tex extension to filenames without extension.
> 
> Thus README.md is the natural thing for me to work with, but it is no 
> big deal to rename it to README before packaging my submission. And 
> anyhow it is mandatory for CTAN displaying it.
> 
> Your message makes me think that rather than including the README.md 
> verbatim, as a section in the package PDF documentation, I could as well 
> choose to provide a separate README.pdf.
> 
> Indeed I already had experimented with producing README.pdf using Pandoc 
> from README.md and it's fine.
> 
> Best regards
> 
> Jean-Francois

and let me add that your README.html is (1) very inspiring and (2) many 
orders  of magnitude more ample than the README I currently have in mind 
for my project (this is also why I did not even think about producing 
a pure ASCII version with no mark-up, because the mark-up is quite light
and could possibly become obtrusive only for a much longer file with
additional inner references or other stuff)

thanks again for the explanations in your message

Jean-Francois

From laurik at stanford.edu  Thu Oct  2 22:42:07 2014
From: laurik at stanford.edu (Lauri Karttunen)
Date: Thu, 2 Oct 2014 13:42:07 -0700
Subject: [tex-live] Bug in TexLive-2014?
In-Reply-To: <F19CDD3C-669A-4CAC-BC85-EC09405B9076@free.fr>
References: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
 <F19CDD3C-669A-4CAC-BC85-EC09405B9076@free.fr>
Message-ID: <D01A69E6-8EED-4D18-9560-5BE7C450A44A@stanford.edu>

Following your suggestion, I added 

\usepackage{newtxmath}

to the beginning of the csli_master.tex file. It gives me another error. This is after having successfully run 

sudo tlmgr update --all ?self

if I don?t load the newtexmath package I still get the same Undefine control sequence error as before. Here the error message that the addition of newtexmath generates

(./newtxmath.sty
...
(/usr/local/texlive/2014/texmf-dist/tex/latex/libertine/LinLibertine_I.tex))

! LaTeX Error: Option clash for package newtxmath.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.57 

? H
The package newtxmath has already been loaded with options:
  []
There has now been an attempt to load it with options
  [libertine]
Adding the global options:
  ,libertine
to your \documentclass declaration may fix this.
Try typing  <return>  to proceed

Proceeding with carriage return runs into another error:

(/usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlntxmi.fd)
(/usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omsntxsy.fd)
No file OMXntxex.fd.

! LaTeX Error: This NFSS system isn't set up properly.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.321 \begin{document}
                      
? H
For encoding scheme OMX the defaults ntxex/m/n do not form a valid font shape
? 

Giving up here. The upshot is that TexLive-2013 works on my file fine. TexLive-2014 does not. I will send to the people who sent me their suggestions a directory with the sources. Hope that helps in tracking down the problem.

? LK
          

On Oct 2, 2014, at 6:51, jfbu <jfbu at free.fr> wrote:

> 
> Le 2 oct. 2014 ? 02:51, Lauri Karttunen <laurik at stanford.edu> a ?crit :
> 
>> I get the following error message on MacOS X Mavericks
>> 
>> /usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
>> Undefined control sequence.
>> l. 16 \iftx at liby
>> 
>> If I back out from TexLive-2014 to TexLive-2013, the error goes away. Fortunately that is easy on MacOSX.
>> 
>> 
>> 
> 
> are you loading package newtxmath? the \iftx at liby toggle is defined therein.
> 
> Jean-Francois

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141002/83c57a77/attachment.html>

From daleif at math.au.dk  Thu Oct  2 15:17:35 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Thu, 2 Oct 2014 13:17:35 +0000
Subject: [tex-live] Bug in TexLive-2014?
In-Reply-To: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
References: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE79A8@SRVUNIMBX07.uni.au.dk>

might be useful if you had provided a minimal example that causes that error.

Have you fully updated texlive 2014?

On Mac this can be done via a terminal and

sudo tlmgr update --all --self

provided tlmgr is in the path used by sudo (I think it usually works)

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Lauri Karttunen [laurik at stanford.edu]
Sent: 02 October 2014 02:51
To: tex-live at tug.org
Subject: [tex-live] Bug in TexLive-2014?

I get the following error message on MacOS X Mavericks

/usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
Undefined control sequence.
l. 16 \iftx at liby

If I back out from TexLive-2014 to TexLive-2013, the error goes away. Fortunately that is easy on MacOSX.







From jfbu at free.fr  Thu Oct  2 23:13:52 2014
From: jfbu at free.fr (jfbu)
Date: Thu, 2 Oct 2014 23:13:52 +0200
Subject: [tex-live] Bug in TexLive-2014?
In-Reply-To: <07775AEC-4BCA-4548-B4E6-86765A9D2D94@stanford.edu>
References: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
 <F19CDD3C-669A-4CAC-BC85-EC09405B9076@free.fr>
 <07775AEC-4BCA-4548-B4E6-86765A9D2D94@stanford.edu>
Message-ID: <F2943DBE-0270-47C4-83C6-906F10BBC9B2@free.fr>

Hi Lauri,

this more of a Maximal Working Example

anyway, I did unpack your archive and it includes a version of newtxmath.sty which is obsolete 

\def\fileversion{1.11}
\def\filedate{2013/05/25}

current version (but I just updated my TL2014) has

\def\fileversion{1.29}
\def\filedate{2014/09/28}

anyway, I removed your obsolete newtxmath.sty from the files you provided, and, being crazy enough in those times of ShellShock, I did run your make, and it compiles with no error.

Output written on csli_lnr_master.pdf (18 pages, 354858 bytes).
Transcript written on csli_lnr_master.log.

You said having updated your TL2014 installation but that's no use if your working repertory has an old newtxmath.sty

best regards

Jean-Francois

Le 2 oct. 2014 ? 23:00, Lauri Karttunen <laurik at stanford.edu> a ?crit :

> Dear TeXLive experts,
> 
> The attached directory contains the sources for the paper I am coauthoring for a journal. The directory contains a Makefile. The command
> 
> make
> 
> should run pdflatex and bibtex and create csli_lnr_master.pdf if all goes well. The trouble arises right away with the first pdflatex call in TexLive-2014.  If I run the command from TeXShop, the same error shows up.
> 
> I hope this helps. 
> 
> Thank you for your responses.
> 
> ? Lauri Karttunen
> 
> <eiss.tar.gz>
> 
> 
> On Oct 2, 2014, at 6:51, jfbu <jfbu at free.fr> wrote:
> 
>> 
>> Le 2 oct. 2014 ? 02:51, Lauri Karttunen <laurik at stanford.edu> a ?crit :
>> 
>>> I get the following error message on MacOS X Mavericks
>>> 
>>> /usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
>>> Undefined control sequence.
>>> l. 16 \iftx at liby
>>> 
>>> If I back out from TexLive-2014 to TexLive-2013, the error goes away. Fortunately that is easy on MacOSX.
>>> 
>>> 
>>> 
>> 
>> are you loading package newtxmath? the \iftx at liby toggle is defined therein.
>> 
>> Jean-Francois
> 



From jfbu at free.fr  Thu Oct  2 23:19:48 2014
From: jfbu at free.fr (jfbu)
Date: Thu, 2 Oct 2014 23:19:48 +0200
Subject: [tex-live] Bug in TexLive-2014?
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE79A8@SRVUNIMBX07.uni.au.dk>
References: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
 <89ECE88578D8F648A22E307DAEE885799EFE79A8@SRVUNIMBX07.uni.au.dk>
Message-ID: <6FBB6776-61F9-40D8-9705-42CB7B34EFE3@free.fr>

Hi,

I second Lars on the `minimal example' thing

I wanted to point out that. On mac os X, Tex Live Utility is a GUI which makes updating packages extremely easy and hassle free.

Best regards

Jean-Francois



Le 2 oct. 2014 ? 15:17, Lars Madsen <daleif at math.au.dk> a ?crit :

> might be useful if you had provided a minimal example that causes that error.
> 
> Have you fully updated texlive 2014?
> 
> On Mac this can be done via a terminal and
> 
> sudo tlmgr update --all --self
> 
> provided tlmgr is in the path used by sudo (I think it usually works)
> 
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf
> 
> 
> ________________________________________
> From: tex-live [tex-live-bounces at tug.org] on behalf of Lauri Karttunen [laurik at stanford.edu]
> Sent: 02 October 2014 02:51
> To: tex-live at tug.org
> Subject: [tex-live] Bug in TexLive-2014?
> 
> I get the following error message on MacOS X Mavericks
> 
> /usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
> Undefined control sequence.
> l. 16 \iftx at liby
> 
> If I back out from TexLive-2014 to TexLive-2013, the error goes away. Fortunately that is easy on MacOSX.
> 
> 
> 
> 
> 
> 



From laurik at stanford.edu  Thu Oct  2 23:50:20 2014
From: laurik at stanford.edu (Lauri Karttunen)
Date: Thu, 2 Oct 2014 14:50:20 -0700
Subject: [tex-live] Bug in TexLive-2014?
In-Reply-To: <6FBB6776-61F9-40D8-9705-42CB7B34EFE3@free.fr>
References: <F1B3CFAA-5640-4D8D-8138-E769AA2F84FE@stanford.edu>
 <89ECE88578D8F648A22E307DAEE885799EFE79A8@SRVUNIMBX07.uni.au.dk>
 <6FBB6776-61F9-40D8-9705-42CB7B34EFE3@free.fr>
Message-ID: <C73AFAB9-530D-4AC5-967D-E48A26D44BE3@stanford.edu>

Jean-Fran?ois, Lars and Herbert,

Thank you very much! The problem solved.

I will send a note to our editor, Chris Pi??n, warning about having an obsolete newtxmath.sty file in the journal directory. Other authors may run into the same problem an be as clueless as I was about the cause.

Lauri Karttunen

On Oct 2, 2014, at 14:19, jfbu <jfbu at free.fr> wrote:

> Hi,
> 
> I second Lars on the `minimal example' thing
> 
> I wanted to point out that. On mac os X, Tex Live Utility is a GUI which makes updating packages extremely easy and hassle free.
> 
> Best regards
> 
> Jean-Francois
> 
> 
> 
> Le 2 oct. 2014 ? 15:17, Lars Madsen <daleif at math.au.dk> a ?crit :
> 
>> might be useful if you had provided a minimal example that causes that error.
>> 
>> Have you fully updated texlive 2014?
>> 
>> On Mac this can be done via a terminal and
>> 
>> sudo tlmgr update --all --self
>> 
>> provided tlmgr is in the path used by sudo (I think it usually works)
>> 
>> /Lars Madsen
>> Institut for Matematik / Department of Mathematics
>> Aarhus Universitet / Aarhus University
>> Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf
>> 
>> 
>> ________________________________________
>> From: tex-live [tex-live-bounces at tug.org] on behalf of Lauri Karttunen [laurik at stanford.edu]
>> Sent: 02 October 2014 02:51
>> To: tex-live at tug.org
>> Subject: [tex-live] Bug in TexLive-2014?
>> 
>> I get the following error message on MacOS X Mavericks
>> 
>> /usr/local/texlive/2014/texmf-dist/tex/latex/newtx/omlnxlmi.fd:16
>> Undefined control sequence.
>> l. 16 \iftx at liby
>> 
>> If I back out from TexLive-2014 to TexLive-2013, the error goes away. Fortunately that is easy on MacOSX.
>> 
>> 
>> 
>> 
>> 
>> 
> 




From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 12:16:29 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 11:16:29 +0100
Subject: [tex-live] Makeindex,
	version 2.15 [TeX Live 2010] (kpathsea + Thai support)
Message-ID: <542E777D.6080708@Rhul.Ac.Uk>

This is the version present in my TeX Live 2013 installation (Windows 7
Ultimate, 32-bit) , but it is introducing unwanted line-breaks in the
output file, preventing \item from reliably using line-end as final
delimiter.

Sample source :
\indexentry{Athens, National Library, Metochion of Panagios Taphos MS.
1, part 3}{94}

\begin{theindex}

  \item Athens, National Library, Metochion of Panagios Taphos MS. 1,
part 3,
		94

\end{theindex}

with an unwanted linebreak before the page number.

Can anyone advise, please ?

Philip Taylor

From daleif at math.au.dk  Fri Oct  3 12:26:16 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 3 Oct 2014 10:26:16 +0000
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <542E777D.6080708@Rhul.Ac.Uk>
References: <542E777D.6080708@Rhul.Ac.Uk>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>

> From: tex-live [tex-live-bounces at tug.org] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
> Sent: 03 October 2014 12:16
> To: TeXLive Mailing List
> Subject: [tex-live] Makeindex,  version 2.15 [TeX Live 2010] (kpathsea + Thai support)
> 
> This is the version present in my TeX Live 2013 installation (Windows 7
> Ultimate, 32-bit) , but it is introducing unwanted line-breaks in the
> output file, preventing \item from reliably using line-end as final
> delimiter.
> 
> Sample source :
> \indexentry{Athens, National Library, Metochion of Panagios Taphos MS.
> 1, part 3}{94}
> 
> \begin{theindex}
> 
>   \item Athens, National Library, Metochion of Panagios Taphos MS. 1,
> part 3,
>                 94
> 
> \end{theindex}
> 
> with an unwanted linebreak before the page number.
> 
> Can anyone advise, please ?
> 
> Philip Taylor
> 


I do not quite understand what you are asking. Do you mind providing a
minimal example?

/daleif



From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 12:35:44 2014
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Fri, 3 Oct 2014 11:35:44 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
Message-ID: <542E7C00.5080808@Rhul.Ac.Uk>


> I do not quite understand what you are asking. Do you mind providing a
> minimal example?

I did, Lars.

Sample source :

\indexentry{Athens, National Library, Metochion of Panagios Taphos MS.
1, part 3}{94}

Resulting output :

\begin{theindex}

   \item Athens, National Library, Metochion of Panagios Taphos MS. 1,
part 3,
		94

\end{theindex}

with an unwanted line-break before the page number (94), thus preventing 
\item from reliably using end of line as a final
delimiter.

** Phil.

From zdenek.wagner at gmail.com  Fri Oct  3 12:54:14 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Oct 2014 12:54:14 +0200
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <542E7C00.5080808@Rhul.Ac.Uk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>
Message-ID: <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>

2014-10-03 12:35 GMT+02:00 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>> I do not quite understand what you are asking. Do you mind providing a
>> minimal example?
>
>
> I did, Lars.
>
> Sample source :
>
> \indexentry{Athens, National Library, Metochion of Panagios Taphos MS.
> 1, part 3}{94}
>
> Resulting output :
>
> \begin{theindex}
>
>   \item Athens, National Library, Metochion of Panagios Taphos MS. 1,
> part 3,
>                 94
>
> \end{theindex}
>
> with an unwanted line-break before the page number (94), thus preventing
> \item from reliably using end of line as a final
> delimiter.
>
You can castomize the style by writing your .ist and add reliable delimiters.

> ** Phil.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From daleif at math.au.dk  Fri Oct  3 13:37:30 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 3 Oct 2014 11:37:30 +0000
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>,
 <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE903A@SRVUNIMBX07.uni.au.dk>

I agree that would be a lot more reliable.

In this case, isn't it just some limit in makeindex as to how long the lines can be? If one shortens the text, it fits nicely on a single line.

Assuming index entries would always be on a single line would never word in general

BTW: what are you using the grapping feature (that I'm assuming you've implemented) for?

In one project I've masked the index programme (xindy) to enclose the entire word part of the index in a special purpose macro. That works rather nicely.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: Zdenek Wagner [zdenek.wagner at gmail.com]
Sent: 03 October 2014 12:54
To: Philip TAYLOR
Cc: Lars Madsen; TeXLive Mailing List
Subject: Re: [tex-live] Makeindex, version 2.15 [TeX Live 2010] (kpathsea + Thai support)

2014-10-03 12:35 GMT+02:00 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>> I do not quite understand what you are asking. Do you mind providing a
>> minimal example?
>
>
> I did, Lars.
>
> Sample source :
>
> \indexentry{Athens, National Library, Metochion of Panagios Taphos MS.
> 1, part 3}{94}
>
> Resulting output :
>
> \begin{theindex}
>
>   \item Athens, National Library, Metochion of Panagios Taphos MS. 1,
> part 3,
>                 94
>
> \end{theindex}
>
> with an unwanted line-break before the page number (94), thus preventing
> \item from reliably using end of line as a final
> delimiter.
>
You can castomize the style by writing your .ist and add reliable delimiters.

> ** Phil.



--
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From preining at logic.at  Fri Oct  3 13:45:09 2014
From: preining at logic.at (Norbert Preining)
Date: Fri, 3 Oct 2014 20:45:09 +0900
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <542E7C00.5080808@Rhul.Ac.Uk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>
Message-ID: <20141003114509.GO1760@auth.logic.tuwien.ac.at>

On Fri, 03 Oct 2014, Philip TAYLOR wrote:
>   \item Athens, National Library, Metochion of Panagios Taphos MS. 1,
> part 3,
> 		94


> with an unwanted line-break before the page number (94), thus

Normally, if we say "with an unwatned line-break" or similar
things, we refer to the *output* since TeX does anyway not honor
linebreaks in the input.

So you should have specified "linebreak in the input file"
which would have helped understand your question.

For the rest, see Zdenek's answer.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 13:50:21 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 12:50:21 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE903A@SRVUNIMBX07.uni.au.dk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>,
 <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE903A@SRVUNIMBX07.uni.au.dk>
Message-ID: <542E8D7D.8040207@Rhul.Ac.Uk>



Lars Madsen wrote:

> I agree that would be a lot more reliable.
> 
> In this case, isn't it just some limit in makeindex as to how long
> the lines can be? If one shortens the text, it fits nicely on a
> single line.

Indeed, but I cannot tell my authors they must shorten their index
entries !  The limit turns out to be (a completely insane) 72
characters; I managed to find some clues at the UK branch of CTAN --

	http://www.tex.ac.uk/ctan/indexing/makeindex/doc/makeindex.hlp

and now have an Index.ist file that contains just :

	line_max 32767

> Assuming index entries would always be on a single line would never
> word in general

Well, that assumption is implicit in the default output format of
Makeindex; index entries are introduced by \item, and there is no
consistent final delimiter other then end of line.

> BTW: what are you using the grapping feature (that I'm assuming
> you've implemented) for?

Totally confused :  is "grapping" "grepping" or "wrapping" or anything
else I might not recognise ?  I am not intentionally using either of those.

> 
> In one project I've masked the index programme (xindy) to enclose the
> entire word part of the index in a special purpose macro. That works
> rather nicely.

Indeed; and if I could find the real documentation for .ist files I
might be able to do likewise for Makeindex, but my one and only attempt
to use Xindy led to a completely impenetrable diagostic clearly couched
in LISP-speak :

D:\Users\Chaa006\AppData\Local\Dropbox\LPL\Catalogue\Redux-2>xindy
msidentifier-index.idx
*** - XINDY:STARTUP: keyword arguments in
       (:IDXSTYLE :RAWINDEX "2eya_1Yazc" :OUTPUT ".\\msidentifier-index.ind"
        :LOGFILE "nul")
      should occur pairwise

D:\TeX\Live\2013\bin\win32\runscript.tlu:650: command failed with exit
code 1:
perl.exe d:/TeX/Live/2013/texmf-dist/scripts/xindy/xindy.pl
msidentifier-index.idx

and until I can get TeXdoc working again I can probably hope to make no
progress there ...

** Phil.

From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 13:55:27 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 12:55:27 +0100
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
Message-ID: <542E8EAF.6050202@Rhul.Ac.Uk>

My TeXdoc has stopped working; trying (for example)

	TeXdoc Makeindex

from the TeX Live 2013 command prompt results in nothing.
Inserting the "-l" qualifier yields :

 1 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\makeindex.pdf
 2 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\ind.pdf
 3 D:\TeX\Live\2013\texmf-dist\doc\man\man1\makeindex.man1.pdf
Please enter the number of the file to view, anything else to skip:

and entering

	1

just takes me back to the command prompt.  Adobe Acrobat remains
resolutely unlaunched.  File type associations appear to be normal, and
double-clicking on a .PDF file in an Explorer window will launch
Adobe Acrobat in the normal way, as will (for example) entering the name
of a PDF file in the current directory from the CMD prompt.
How might I best go about tracking down what has gone wrong ?

Philip Taylor


From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 13:57:35 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 12:57:35 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <20141003114509.GO1760@auth.logic.tuwien.ac.at>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk> <20141003114509.GO1760@auth.logic.tuwien.ac.at>
Message-ID: <542E8F2F.4050203@Rhul.Ac.Uk>



Norbert Preining wrote:

> Normally, if we say "with an unwatned line-break" or similar
> things, we refer to the *output* since TeX does anyway not honor
> linebreaks in the input.
> 
> So you should have specified "linebreak in the input file"
> which would have helped understand your question.

It is not the input file.  The question is about Makeindex, not about
TeX, and the unwanted line break is in Makeindex's output file.

Philip Taylor


From daleif at math.au.dk  Fri Oct  3 13:59:18 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 3 Oct 2014 11:59:18 +0000
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <542E8D7D.8040207@Rhul.Ac.Uk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>,
 <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE903A@SRVUNIMBX07.uni.au.dk>,
 <542E8D7D.8040207@Rhul.Ac.Uk>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE9087@SRVUNIMBX07.uni.au.dk>

You complain about an unwanted newline in the output from makeindex. This leads me to think that you are doing some trickery with \item for it to grap/grep/gather up, data until the end of line.

So I just wanted to know what you are using it for.

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: Chaa006 . [chaa006 at gmail.com] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
Sent: 03 October 2014 13:50
To: Lars Madsen; Zdenek Wagner
Cc: TeXLive Mailing List
Subject: Re: [tex-live] Makeindex, version 2.15 [TeX Live 2010] (kpathsea + Thai support)

Lars Madsen wrote:

> I agree that would be a lot more reliable.
>
> In this case, isn't it just some limit in makeindex as to how long
> the lines can be? If one shortens the text, it fits nicely on a
> single line.

Indeed, but I cannot tell my authors they must shorten their index
entries !  The limit turns out to be (a completely insane) 72
characters; I managed to find some clues at the UK branch of CTAN --

        http://www.tex.ac.uk/ctan/indexing/makeindex/doc/makeindex.hlp

and now have an Index.ist file that contains just :

        line_max 32767

> Assuming index entries would always be on a single line would never
> word in general

Well, that assumption is implicit in the default output format of
Makeindex; index entries are introduced by \item, and there is no
consistent final delimiter other then end of line.

> BTW: what are you using the grapping feature (that I'm assuming
> you've implemented) for?

Totally confused :  is "grapping" "grepping" or "wrapping" or anything
else I might not recognise ?  I am not intentionally using either of those.

>
> In one project I've masked the index programme (xindy) to enclose the
> entire word part of the index in a special purpose macro. That works
> rather nicely.

Indeed; and if I could find the real documentation for .ist files I
might be able to do likewise for Makeindex, but my one and only attempt
to use Xindy led to a completely impenetrable diagostic clearly couched
in LISP-speak :

D:\Users\Chaa006\AppData\Local\Dropbox\LPL\Catalogue\Redux-2>xindy
msidentifier-index.idx
*** - XINDY:STARTUP: keyword arguments in
       (:IDXSTYLE :RAWINDEX "2eya_1Yazc" :OUTPUT ".\\msidentifier-index.ind"
        :LOGFILE "nul")
      should occur pairwise

D:\TeX\Live\2013\bin\win32\runscript.tlu:650: command failed with exit
code 1:
perl.exe d:/TeX/Live/2013/texmf-dist/scripts/xindy/xindy.pl
msidentifier-index.idx

and until I can get TeXdoc working again I can probably hope to make no
progress there ...

** Phil.


From daleif at math.au.dk  Fri Oct  3 14:03:45 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 3 Oct 2014 12:03:45 +0000
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
In-Reply-To: <542E8EAF.6050202@Rhul.Ac.Uk>
References: <542E8EAF.6050202@Rhul.Ac.Uk>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>

Does it actuially know where Adobe Reader is? Can Adobe Reader be started from the dos prompt?

Has the Adobe Reader executable been renamed in recent versions?


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
Sent: 03 October 2014 13:55
To: TeXLive Mailing List
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)

My TeXdoc has stopped working; trying (for example)

        TeXdoc Makeindex

from the TeX Live 2013 command prompt results in nothing.
Inserting the "-l" qualifier yields :

 1 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\makeindex.pdf
 2 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\ind.pdf
 3 D:\TeX\Live\2013\texmf-dist\doc\man\man1\makeindex.man1.pdf
Please enter the number of the file to view, anything else to skip:

and entering

        1

just takes me back to the command prompt.  Adobe Acrobat remains
resolutely unlaunched.  File type associations appear to be normal, and
double-clicking on a .PDF file in an Explorer window will launch
Adobe Acrobat in the normal way, as will (for example) entering the name
of a PDF file in the current directory from the CMD prompt.
How might I best go about tracking down what has gone wrong ?

Philip Taylor



From zdenek.wagner at gmail.com  Fri Oct  3 14:17:41 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Oct 2014 14:17:41 +0200
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>
References: <542E8EAF.6050202@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>
Message-ID: <CAC1phyaK9wQ_Z5Ms-8LxNqyoqxUFZNn9Bk4hQ83ahBu4Xedhew@mail.gmail.com>

2014-10-03 14:03 GMT+02:00 Lars Madsen <daleif at math.au.dk>:
> Does it actuially know where Adobe Reader is? Can Adobe Reader be started from the dos prompt?
>
> Has the Adobe Reader executable been renamed in recent versions?
>
It happened to me even on Linux a long time ago. The problem is that
texdoc communicates with AR via pdfopen and the interface have change
(maybe even in a new version of AR). The default did not work but I
had to add something to texmf.cnf (I was lucky that I was able to run
"texdoc texdoc" on another computer and thus find the manual).
>
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf
>
>
> ________________________________________
> From: tex-live [tex-live-bounces at tug.org] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
> Sent: 03 October 2014 13:55
> To: TeXLive Mailing List
> Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
>
> My TeXdoc has stopped working; trying (for example)
>
>         TeXdoc Makeindex
>
> from the TeX Live 2013 command prompt results in nothing.
> Inserting the "-l" qualifier yields :
>
>  1 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\makeindex.pdf
>  2 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\ind.pdf
>  3 D:\TeX\Live\2013\texmf-dist\doc\man\man1\makeindex.man1.pdf
> Please enter the number of the file to view, anything else to skip:
>
> and entering
>
>         1
>
> just takes me back to the command prompt.  Adobe Acrobat remains
> resolutely unlaunched.  File type associations appear to be normal, and
> double-clicking on a .PDF file in an Explorer window will launch
> Adobe Acrobat in the normal way, as will (for example) entering the name
> of a PDF file in the current directory from the CMD prompt.
> How might I best go about tracking down what has gone wrong ?
>
> Philip Taylor
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From daleif at math.au.dk  Fri Oct  3 14:19:56 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 3 Oct 2014 12:19:56 +0000
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
In-Reply-To: <CAC1phyaK9wQ_Z5Ms-8LxNqyoqxUFZNn9Bk4hQ83ahBu4Xedhew@mail.gmail.com>
References: <542E8EAF.6050202@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>,
 <CAC1phyaK9wQ_Z5Ms-8LxNqyoqxUFZNn9Bk4hQ83ahBu4Xedhew@mail.gmail.com>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE9118@SRVUNIMBX07.uni.au.dk>

just as a reference

texdoc texdoc

opens

/<path>/texlive/2014/texmf-dist/doc/texdoc/texdoc.pdf

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: Zdenek Wagner [zdenek.wagner at gmail.com]
Sent: 03 October 2014 14:17
To: Lars Madsen
Cc: Philip Taylor; TeXLive Mailing List
Subject: Re: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)

2014-10-03 14:03 GMT+02:00 Lars Madsen <daleif at math.au.dk>:
> Does it actuially know where Adobe Reader is? Can Adobe Reader be started from the dos prompt?
>
> Has the Adobe Reader executable been renamed in recent versions?
>
It happened to me even on Linux a long time ago. The problem is that
texdoc communicates with AR via pdfopen and the interface have change
(maybe even in a new version of AR). The default did not work but I
had to add something to texmf.cnf (I was lucky that I was able to run
"texdoc texdoc" on another computer and thus find the manual).
>
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf
>
>
> ________________________________________
> From: tex-live [tex-live-bounces at tug.org] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
> Sent: 03 October 2014 13:55
> To: TeXLive Mailing List
> Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
>
> My TeXdoc has stopped working; trying (for example)
>
>         TeXdoc Makeindex
>
> from the TeX Live 2013 command prompt results in nothing.
> Inserting the "-l" qualifier yields :
>
>  1 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\makeindex.pdf
>  2 D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\ind.pdf
>  3 D:\TeX\Live\2013\texmf-dist\doc\man\man1\makeindex.man1.pdf
> Please enter the number of the file to view, anything else to skip:
>
> and entering
>
>         1
>
> just takes me back to the command prompt.  Adobe Acrobat remains
> resolutely unlaunched.  File type associations appear to be normal, and
> double-clicking on a .PDF file in an Explorer window will launch
> Adobe Acrobat in the normal way, as will (for example) entering the name
> of a PDF file in the current directory from the CMD prompt.
> How might I best go about tracking down what has gone wrong ?
>
> Philip Taylor
>
>



--
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 14:31:46 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 13:31:46 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE9087@SRVUNIMBX07.uni.au.dk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>,
 <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE903A@SRVUNIMBX07.uni.au.dk>,
 <542E8D7D.8040207@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9087@SRVUNIMBX07.uni.au.dk>
Message-ID: <542E9732.7050804@Rhul.Ac.Uk>



Lars Madsen wrote:

> You complain about an unwanted newline in the output from makeindex.
> This leads me to think that you are doing some trickery with \item
> for it to grap/grep/gather up, data until the end of line.
> 
> So I just wanted to know what you are using it for.

Yes, \item is re-defined to take an active end-of-line character as its
final delimiter; if this were not done, I would not be able to grab each
index entry and typeset it as I wish :

% !TeX File=Index.tex
% !TeX Program=XeTeX
% !TeX Root=A5-Master.tex

\def \Leftline #1%
	{
		\vskip \baselineskip
		\leftline {\largeboldredfonts #1}
		\vskip 0,2 \baselineskip \relax
	}

\let \finish = \end
\def \begin #1{}
\def \end #1{}
\vfill \eject
\obeylines
\def \item #1
	{\leftline {{#1}}}
\Leftline {Index of Authors}
\input author-index.ind
\Leftline {Index of Binders}
\input binder-index.ind
\Leftline {Index of Minor Hands}
\input minor-hand-index.ind
\Leftline {Index of MS Identifiers}
\input msidentifier-index.ind
\Leftline {Index of Other Persons}
\input other-person-index.ind
\Leftline {Index of Owner Individuals}
\input owner-individual-index.ind
\Leftline {Index of Owner Institutions}
\input owner-institution-index.ind
\Leftline {Index of Places}
\input place-index.ind
\Leftline {Index of Scribes}
\input scribe-index.ind
\let \end = \finish



From daleif at math.au.dk  Fri Oct  3 14:36:17 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 3 Oct 2014 12:36:17 +0000
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <542E9732.7050804@Rhul.Ac.Uk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>,
 <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE903A@SRVUNIMBX07.uni.au.dk>,
 <542E8D7D.8040207@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9087@SRVUNIMBX07.uni.au.dk>,
 <542E9732.7050804@Rhul.Ac.Uk>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE9156@SRVUNIMBX07.uni.au.dk>

That ought to be easily extendable using Zdeneks suggestion of actually asking makeindex to end the entriy with an explicit marker like \meti and then just defining \item as a delimited macro. Which would make it more durable in connection with strange, very very long user input.

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: Chaa006 . [chaa006 at gmail.com] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
Sent: 03 October 2014 14:31
To: Lars Madsen; Zdenek Wagner
Cc: TeXLive Mailing List
Subject: Re: [tex-live] Makeindex, version 2.15 [TeX Live 2010] (kpathsea + Thai support)

Lars Madsen wrote:

> You complain about an unwanted newline in the output from makeindex.
> This leads me to think that you are doing some trickery with \item
> for it to grap/grep/gather up, data until the end of line.
>
> So I just wanted to know what you are using it for.

Yes, \item is re-defined to take an active end-of-line character as its
final delimiter; if this were not done, I would not be able to grab each
index entry and typeset it as I wish :

% !TeX File=Index.tex
% !TeX Program=XeTeX
% !TeX Root=A5-Master.tex

\def \Leftline #1%
        {
                \vskip \baselineskip
                \leftline {\largeboldredfonts #1}
                \vskip 0,2 \baselineskip \relax
        }

\let \finish = \end
\def \begin #1{}
\def \end #1{}
\vfill \eject
\obeylines
\def \item #1
        {\leftline {{#1}}}
\Leftline {Index of Authors}
\input author-index.ind
\Leftline {Index of Binders}
\input binder-index.ind
\Leftline {Index of Minor Hands}
\input minor-hand-index.ind
\Leftline {Index of MS Identifiers}
\input msidentifier-index.ind
\Leftline {Index of Other Persons}
\input other-person-index.ind
\Leftline {Index of Owner Individuals}
\input owner-individual-index.ind
\Leftline {Index of Owner Institutions}
\input owner-institution-index.ind
\Leftline {Index of Places}
\input place-index.ind
\Leftline {Index of Scribes}
\input scribe-index.ind
\let \end = \finish




From Robin.Fairbairns at cl.cam.ac.uk  Fri Oct  3 14:36:18 2014
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 3 Oct 2014 13:36:18 +0100
Subject: [tex-live] Makeindex,
	version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: Your message of Fri, 03 Oct 2014 12:57:35 +0100.
 <542E8F2F.4050203@Rhul.Ac.Uk>
Message-ID: <16363.1412339778@cl.cam.ac.uk>

Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:

> It is not the input file.  The question is about Makeindex, not about
> TeX, and the unwanted line break is in Makeindex's output file.

that's what it seemed to me.

given that makeindex dates back into the days when tex i/o was limited
to tediously short lines, i don't find makeindex's short line breaks in
the least surprising.

i would guess that the \item macro is supposed to close off the previous
entry and start a new one.  that is, treat the text after \item as a
paragraph to be terminated by the next \item (or, presumably, end of
index, however that is flagged).


From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 14:39:03 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 13:39:03 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE9156@SRVUNIMBX07.uni.au.dk>
References: <542E777D.6080708@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE8FA0@SRVUNIMBX07.uni.au.dk>
 <542E7C00.5080808@Rhul.Ac.Uk>,
 <CAC1phyZw8ym8FkSFQZ0DLo368vChRcLdH7t9=J9=x+eDz-5cjA@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE903A@SRVUNIMBX07.uni.au.dk>,
 <542E8D7D.8040207@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9087@SRVUNIMBX07.uni.au.dk>,
 <542E9732.7050804@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9156@SRVUNIMBX07.uni.au.dk>
Message-ID: <542E98E7.20700@Rhul.Ac.Uk>



Lars Madsen wrote:

> That ought to be easily extendable using Zdeneks suggestion of
> actually asking makeindex to end the entriy with an explicit marker
> like \meti and then just defining \item as a delimited macro. Which
> would make it more durable in connection with strange, very very long
> user input.

I agree.  But I still have not tracked down the definitive documentation
for the syntax of .ist files, and the UK CTAN
file to whcich I previously referred  does not seem to suggest the
possibility of interpolating a trailing delimiter ...

	http://www.tex.ac.uk/ctan/indexing/makeindex/doc/makeindex.hlp

** Phil.

From kakuto at fuk.kindai.ac.jp  Fri Oct  3 14:39:36 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 3 Oct 2014 21:39:36 +0900
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE9118@SRVUNIMBX07.uni.au.dk>
References: <542E8EAF.6050202@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>,
 <CAC1phyaK9wQ_Z5Ms-8LxNqyoqxUFZNn9Bk4hQ83ahBu4Xedhew@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE9118@SRVUNIMBX07.uni.au.dk>
Message-ID: <4155F024475C45EA8CF69CE1417EA651@CJ3001517A>

I think the texdoc on windows launches a pdf viewer by

start "texdoc pdf viewer" D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\makeindex.pdf

Does the command work on the command line?

Best,
Akira


From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 14:42:18 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 13:42:18 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <16363.1412339778@cl.cam.ac.uk>
References: <16363.1412339778@cl.cam.ac.uk>
Message-ID: <542E99AA.4020100@Rhul.Ac.Uk>



Robin Fairbairns wrote:

> given that makeindex dates back into the days when tex i/o was limited
> to tediously short lines, i don't find makeindex's short line breaks in
> the least surprising.

Well, yes, but the TeX Live 2013 version is dated 2010; one might have
thought that the 2010 update would have included line-lengths a little
more realistic in this day and age ...

> i would guess that the \item macro is supposed to close off the previous
> entry and start a new one.  that is, treat the text after \item as a
> paragraph to be terminated by the next \item (or, presumably, end of
> index, however that is flagged).

Indeed.  But as Makeindex interpolates things other than \item between
index groups for a single letter, and as there is (of course) no final
(empty) \item as the last line of the file, one cannot write a \item
macro that takes \item as its final delimiter.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 14:45:13 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 13:45:13 +0100
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
In-Reply-To: <4155F024475C45EA8CF69CE1417EA651@CJ3001517A>
References: <542E8EAF.6050202@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>,
 <CAC1phyaK9wQ_Z5Ms-8LxNqyoqxUFZNn9Bk4hQ83ahBu4Xedhew@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE9118@SRVUNIMBX07.uni.au.dk>
 <4155F024475C45EA8CF69CE1417EA651@CJ3001517A>
Message-ID: <542E9A59.7080802@Rhul.Ac.Uk>



Akira Kakuto wrote:

> I think the texdoc on windows launches a pdf viewer by
> 
> start "texdoc pdf viewer"
> D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\makeindex.pdf
> 
> Does the command work on the command line?

It does indeed (took me completely by surprise) !  Does that help in
tracking down the problem, Akira-san ?

Philip Taylor

From zdenek.wagner at gmail.com  Fri Oct  3 14:57:07 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Oct 2014 14:57:07 +0200
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <542E99AA.4020100@Rhul.Ac.Uk>
References: <16363.1412339778@cl.cam.ac.uk>	<542E99AA.4020100@Rhul.Ac.Uk>
Message-ID: <CAC1phyaGvw+2FPNrH-i_CKj0P0TvTchSNteo+SVJL4-RUU=PPQ@mail.gmail.com>

2014-10-03 14:42 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:
>
>
> Robin Fairbairns wrote:
>
>> given that makeindex dates back into the days when tex i/o was limited
>> to tediously short lines, i don't find makeindex's short line breaks in
>> the least surprising.
>
> Well, yes, but the TeX Live 2013 version is dated 2010; one might have
> thought that the 2010 update would have included line-lengths a little
> more realistic in this day and age ...
>
>> i would guess that the \item macro is supposed to close off the previous
>> entry and start a new one.  that is, treat the text after \item as a
>> paragraph to be terminated by the next \item (or, presumably, end of
>> index, however that is flagged).
>
> Indeed.  But as Makeindex interpolates things other than \item between
> index groups for a single letter, and as there is (of course) no final
> (empty) \item as the last line of the file, one cannot write a \item
> macro that takes \item as its final delimiter.
>
In the default definition \item just puts the text somewhere and
assumes that \par will be the first token resulting from an expansion
of a following token and this will format the item. I agree that this
is not the best markup. I do not know where I found the complete
documentation, maybe in the source package. 22 years ago I added the
Czech support and I just copy my ist files since that time. A useful
example of the ist files is in ltxdoc.

> ** Phil.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at Rhul.Ac.Uk  Fri Oct  3 15:10:58 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 3 Oct 2014 14:10:58 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <CAC1phyaGvw+2FPNrH-i_CKj0P0TvTchSNteo+SVJL4-RUU=PPQ@mail.gmail.com>
References: <16363.1412339778@cl.cam.ac.uk>	<542E99AA.4020100@Rhul.Ac.Uk>
 <CAC1phyaGvw+2FPNrH-i_CKj0P0TvTchSNteo+SVJL4-RUU=PPQ@mail.gmail.com>
Message-ID: <542EA062.2070709@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> In the default definition \item just puts the text somewhere and
> assumes that \par will be the first token resulting from an expansion
> of a following token and this will format the item. 

Yes, that was indeed the default behaviour, and for testing purposes I
could have lived with it, but for the final PDF I will need better
control (including hyperlinks from page numbers to pages) and that is
how the question arose.

> I agree that this
> is not the best markup. I do not know where I found the complete
> documentation, maybe in the source package. 22 years ago I added the
> Czech support and I just copy my ist files since that time. A useful
> example of the ist files is in ltxdoc.

Do you have a (Czech/sample) ,ist file that interpolates a trailing
delimiter, Zden?k ?

** Phil.

From Robin.Fairbairns at cl.cam.ac.uk  Fri Oct  3 16:09:01 2014
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 3 Oct 2014 15:09:01 +0100
Subject: [tex-live] Makeindex,
	version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: Your message of Fri, 03 Oct 2014 13:42:18 +0100.
 <542E99AA.4020100@Rhul.Ac.Uk>
Message-ID: <20302.1412345341@cl.cam.ac.uk>

Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:

> > given that makeindex dates back into the days when tex i/o was limited
> > to tediously short lines, i don't find makeindex's short line breaks in
> > the least surprising.
> 
> Well, yes, but the TeX Live 2013 version is dated 2010; one might have
> thought that the 2010 update would have included line-lengths a little
> more realistic in this day and age ...

"if it ain't broke, don't fix it", they say.  it's a good general rule,
ime.

make the case for it being "broke", and there may be a chance of getting
it fixed.

From manfred at dante.de  Fri Oct  3 19:40:43 2014
From: manfred at dante.de (Manfred Lotz)
Date: Fri, 3 Oct 2014 19:40:43 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
References: <542D38DE.1090302@free.fr>	<542DEBB6.9080809@googlemail.com>
 <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
Message-ID: <20141003194043.51b82c2c@hogwart.bsdlocal.net>

Hi Jean-Francois,

On Thu, 2 Oct 2014 20:52:32 +0200
jfbu <jfbu at free.fr> wrote:

> 
> Le 3 oct. 2014 ? 02:20, Heiko Oberdiek
> <heiko.oberdiek at googlemail.com> a ?crit :
> 
> > Hello,
> > 
> > On 10/02/2014 07:37 AM, jfbu wrote:
> >> in preparation for an update on CTAN to a package of mine, I have
> >> used Markdown syntax in the README file
> >> 
> >> from the point of view of the TeXLive distribution and texdoc,
> >> is it possible to name the file README.md rather than README,
> >> or is there some implicit rule that the README should have
> >> precisely that filename?
> >> 
> >> Can I join also README.html which would be the already converted-to
> >> -html variant? (I will ask that also to CTAN)
> >> 
> >> and should README.html be rather packagenameReadme.html for
> >> example?
> > I am not a TeX Live or CTAN manager, but I can report, how I
> > have solved the issue for project latex-tds. As markup language
> > I had chosen asciidoc instead of Markdown and have put
> > the "source file" README.asciidoc to the sources. The generated
> > files are:
> > * README (real ASCII, without markup)
> > * README.html
> > * README.pdf
> > 
> > If texdoc is called to find the documentation for latex-tds, it
> > finds them in the following order:
> > 1 TDS:doc/latex/latex-tds/README
> > 2 TDS:doc/latex/latex-tds/README.pdf
> > 3 TDS:doc/latex/latex-tds/README.html
> > 
> > These three files are also in CTAN:
> >  CTAN:macros/contrib/latex/latex-tds/README{,.pdf,html}
> > 
> > The CTAN web page
> >  http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
> > also shows the contents of README, but not from README.html
> > (security reasons?).
> > 
> > In the source repository at
> >  https://github.com/oberdiek/latex-tds
> > I have put README.asciidoc top-level, because github is able
> > to handle and display this format. (And the other files
> > are generated files anyway and do not belong to a source
> > repository.)
> > 
> > Yours sincerely
> >  Heiko
> 
> Thanks Heiko, this is useful to me. 
> 
> Regarding the README.html not being automatically displayed on 
> > http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
> there is a link README.html near the top of the file list, thus
> in my view, this is ok the way it is. 
> 
> I mailed ctan at dante.de, and Petra from the CTAN team
> told me there was no  automated process,  during the submission 
> I should make a Note to the CTAN maintainers to signal the files 
> which are candidate to be listed on the 
> /tex-archive/macros/latex/contrib/package
> page.
> 
> The other thing she told me is that README must be named that way,
> with no extension, for its contents to be displayed automatically.
> 
> What I forgot to mention in my first message here is that README.md
> is among the files extracted from the .dtx. Then during pdf creation
> I am currently including it verbatim as a section of the
> documentation.
> 
> I could not do that with README (afaik)
> as TeX's \input adds .tex extension to filenames without extension.
> 
> Thus README.md is the natural thing for me to work with, but it is no 
> big deal to rename it to README before packaging my submission. And 
> anyhow it is mandatory for CTAN displaying it.
> 

I found Heiko's advice very good. You could choose a similar procedure.
>From README.md you could create a plain README text file by using for
instance pandoc which is part of most Linux distributions. 

Then you have a README which make us (the CTAN team) happy, and (as I
said the other day to somebody else) a happy CTAN team isn't such bad.



-- 
Manfred



From jfbu at free.fr  Fri Oct  3 22:47:01 2014
From: jfbu at free.fr (jfbu)
Date: Fri, 3 Oct 2014 22:47:01 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <20141003194043.51b82c2c@hogwart.bsdlocal.net>
References: <542D38DE.1090302@free.fr>	<542DEBB6.9080809@googlemail.com>
 <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
 <20141003194043.51b82c2c@hogwart.bsdlocal.net>
Message-ID: <5A12F8C3-F8F4-4D5A-B650-17E8AF7FC1DC@free.fr>

Hello Manfred

Le 3 oct. 2014 ? 19:40, Manfred Lotz <manfred at dante.de> a ?crit :

> Hi Jean-Francois,
> 
> On Thu, 2 Oct 2014 20:52:32 +0200
> jfbu <jfbu at free.fr> wrote:
> 
>> 
>> Le 3 oct. 2014 ? 02:20, Heiko Oberdiek
>> <heiko.oberdiek at googlemail.com> a ?crit :
>> 
>>> Hello,
>>> 
>>> On 10/02/2014 07:37 AM, jfbu wrote:
>>>> in preparation for an update on CTAN to a package of mine, I have
>>>> used Markdown syntax in the README file
>>>> 
>>>> from the point of view of the TeXLive distribution and texdoc,
>>>> is it possible to name the file README.md rather than README,
>>>> or is there some implicit rule that the README should have
>>>> precisely that filename?
>>>> 
>>>> Can I join also README.html which would be the already converted-to
>>>> -html variant? (I will ask that also to CTAN)
>>>> 
>>>> and should README.html be rather packagenameReadme.html for
>>>> example?
>>> I am not a TeX Live or CTAN manager, but I can report, how I
>>> have solved the issue for project latex-tds. As markup language
>>> I had chosen asciidoc instead of Markdown and have put
>>> the "source file" README.asciidoc to the sources. The generated
>>> files are:
>>> * README (real ASCII, without markup)
>>> * README.html
>>> * README.pdf
>>> 
>>> If texdoc is called to find the documentation for latex-tds, it
>>> finds them in the following order:
>>> 1 TDS:doc/latex/latex-tds/README
>>> 2 TDS:doc/latex/latex-tds/README.pdf
>>> 3 TDS:doc/latex/latex-tds/README.html
>>> 
>>> These three files are also in CTAN:
>>> CTAN:macros/contrib/latex/latex-tds/README{,.pdf,html}
>>> 
>>> The CTAN web page
>>> http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
>>> also shows the contents of README, but not from README.html
>>> (security reasons?).
>>> 
>>> In the source repository at
>>> https://github.com/oberdiek/latex-tds
>>> I have put README.asciidoc top-level, because github is able
>>> to handle and display this format. (And the other files
>>> are generated files anyway and do not belong to a source
>>> repository.)
>>> 
>>> Yours sincerely
>>> Heiko
>> 
>> Thanks Heiko, this is useful to me. 
>> 
>> Regarding the README.html not being automatically displayed on 
>>> http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
>> there is a link README.html near the top of the file list, thus
>> in my view, this is ok the way it is. 
>> 
>> I mailed ctan at dante.de, and Petra from the CTAN team
>> told me there was no  automated process,  during the submission 
>> I should make a Note to the CTAN maintainers to signal the files 
>> which are candidate to be listed on the 
>> /tex-archive/macros/latex/contrib/package
>> page.
>> 
>> The other thing she told me is that README must be named that way,
>> with no extension, for its contents to be displayed automatically.
>> 
>> What I forgot to mention in my first message here is that README.md
>> is among the files extracted from the .dtx. Then during pdf creation
>> I am currently including it verbatim as a section of the
>> documentation.
>> 
>> I could not do that with README (afaik)
>> as TeX's \input adds .tex extension to filenames without extension.
>> 
>> Thus README.md is the natural thing for me to work with, but it is no 
>> big deal to rename it to README before packaging my submission. And 
>> anyhow it is mandatory for CTAN displaying it.
>> 
> 
> I found Heiko's advice very good. You could choose a similar procedure.
>> From README.md you could create a plain README text file by using for
> instance pandoc which is part of most Linux distributions. 

Believe it or not I have asked sysadmin to install pandoc at work, but 
I am still waiting. Perhaps I can also add we are still with TL2010, and
that asking sysadmin has not led anywhere so far. Not so long ago, we
were with TL2007 and I still recall how modern TL2010 appeared.

This said, I do my TeX things on my home laptop, and I have been playing
with Pandoc these last few days.

> 
> Then you have a README which make us (the CTAN team) happy, and (as I
> said the other day to somebody else) a happy CTAN team isn't such bad.
> 

Making people happy is also my goal despite sysadmin ;-)

I tried pandoc -t plain but I am really tempted by mv README.md README,

there isn't much difference between README.md and its version with 
the Markdown light decoration taking away, and in fact, even without
any syntax highlighting I find the .md variant more readable (now...)

kind regards,

Jean-Fran?ois

> 
> -- 
> Manfred
> 
> 



From manfred at dante.de  Sat Oct  4 05:49:52 2014
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 4 Oct 2014 05:49:52 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <5A12F8C3-F8F4-4D5A-B650-17E8AF7FC1DC@free.fr>
References: <542D38DE.1090302@free.fr>	<542DEBB6.9080809@googlemail.com>
 <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
 <20141003194043.51b82c2c@hogwart.bsdlocal.net>
 <5A12F8C3-F8F4-4D5A-B650-17E8AF7FC1DC@free.fr>
Message-ID: <20141004054952.6b019992@hogwart.bsdlocal.net>

Hi Jean-Fran?ois,
Of course, you could consider to just copy README.md -> REAMDE.

Otherwise: pandoc -f markdown -t plain -o README README.md

You might have seen that pandoc supports different flavors of markdown.
Check which one is suitable for you.

You could even try this, going md --> html --> plain

pandoc -f markdown -t html -o README.html README.md
lynx -nolist -display-charset UTF-8 -dump README.html > README

Adjust encoding (-display-charset) to your needs and check if this looks
better or worse than the short pandoc way.

-- 
Manfred
 

On Fri, 3 Oct 2014 22:47:01 +0200
jfbu <jfbu at free.fr> wrote:


> Hello Manfred
> 
> Le 3 oct. 2014 ? 19:40, Manfred Lotz <manfred at dante.de> a ?crit :
> 
> > Hi Jean-Francois,
> > 
> > On Thu, 2 Oct 2014 20:52:32 +0200
> > jfbu <jfbu at free.fr> wrote:
> > 
> >> 
> >> Le 3 oct. 2014 ? 02:20, Heiko Oberdiek
> >> <heiko.oberdiek at googlemail.com> a ?crit :
> >> 
> >>> Hello,
> >>> 
> >>> On 10/02/2014 07:37 AM, jfbu wrote:
> >>>> in preparation for an update on CTAN to a package of mine, I have
> >>>> used Markdown syntax in the README file
> >>>> 
> >>>> from the point of view of the TeXLive distribution and texdoc,
> >>>> is it possible to name the file README.md rather than README,
> >>>> or is there some implicit rule that the README should have
> >>>> precisely that filename?
> >>>> 
> >>>> Can I join also README.html which would be the already
> >>>> converted-to -html variant? (I will ask that also to CTAN)
> >>>> 
> >>>> and should README.html be rather packagenameReadme.html for
> >>>> example?
> >>> I am not a TeX Live or CTAN manager, but I can report, how I
> >>> have solved the issue for project latex-tds. As markup language
> >>> I had chosen asciidoc instead of Markdown and have put
> >>> the "source file" README.asciidoc to the sources. The generated
> >>> files are:
> >>> * README (real ASCII, without markup)
> >>> * README.html
> >>> * README.pdf
> >>> 
> >>> If texdoc is called to find the documentation for latex-tds, it
> >>> finds them in the following order:
> >>> 1 TDS:doc/latex/latex-tds/README
> >>> 2 TDS:doc/latex/latex-tds/README.pdf
> >>> 3 TDS:doc/latex/latex-tds/README.html
> >>> 
> >>> These three files are also in CTAN:
> >>> CTAN:macros/contrib/latex/latex-tds/README{,.pdf,html}
> >>> 
> >>> The CTAN web page
> >>> http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
> >>> also shows the contents of README, but not from README.html
> >>> (security reasons?).
> >>> 
> >>> In the source repository at
> >>> https://github.com/oberdiek/latex-tds
> >>> I have put README.asciidoc top-level, because github is able
> >>> to handle and display this format. (And the other files
> >>> are generated files anyway and do not belong to a source
> >>> repository.)
> >>> 
> >>> Yours sincerely
> >>> Heiko
> >> 
> >> Thanks Heiko, this is useful to me. 
> >> 
> >> Regarding the README.html not being automatically displayed on 
> >>> http://www.ctan.org/tex-archive/macros/latex/contrib/latex-tds
> >> there is a link README.html near the top of the file list, thus
> >> in my view, this is ok the way it is. 
> >> 
> >> I mailed ctan at dante.de, and Petra from the CTAN team
> >> told me there was no  automated process,  during the submission 
> >> I should make a Note to the CTAN maintainers to signal the files 
> >> which are candidate to be listed on the 
> >> /tex-archive/macros/latex/contrib/package
> >> page.
> >> 
> >> The other thing she told me is that README must be named that way,
> >> with no extension, for its contents to be displayed automatically.
> >> 
> >> What I forgot to mention in my first message here is that README.md
> >> is among the files extracted from the .dtx. Then during pdf
> >> creation I am currently including it verbatim as a section of the
> >> documentation.
> >> 
> >> I could not do that with README (afaik)
> >> as TeX's \input adds .tex extension to filenames without extension.
> >> 
> >> Thus README.md is the natural thing for me to work with, but it is
> >> no big deal to rename it to README before packaging my submission.
> >> And anyhow it is mandatory for CTAN displaying it.
> >> 
> > 
> > I found Heiko's advice very good. You could choose a similar
> > procedure.
> >> From README.md you could create a plain README text file by using
> >> for
> > instance pandoc which is part of most Linux distributions. 
> 
> Believe it or not I have asked sysadmin to install pandoc at work,
> but I am still waiting. Perhaps I can also add we are still with
> TL2010, and that asking sysadmin has not led anywhere so far. Not so
> long ago, we were with TL2007 and I still recall how modern TL2010
> appeared.
> 
> This said, I do my TeX things on my home laptop, and I have been
> playing with Pandoc these last few days.
> 
> > 
> > Then you have a README which make us (the CTAN team) happy, and (as
> > I said the other day to somebody else) a happy CTAN team isn't such
> > bad.
> > 
> 
> Making people happy is also my goal despite sysadmin ;-)
> 
> I tried pandoc -t plain but I am really tempted by mv README.md
> README,
> 
> there isn't much difference between README.md and its version with 
> the Markdown light decoration taking away, and in fact, even without
> any syntax highlighting I find the .md variant more readable (now...)
> 
> kind regards,
> 
> Jean-Fran?ois
> 
> > 
> > -- 
> > Manfred
> > 
> > 
> 



From josef.kleber at gmx.de  Sat Oct  4 13:01:56 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Sat, 4 Oct 2014 13:01:56 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
References: <542D38DE.1090302@free.fr> <542DEBB6.9080809@googlemail.com>
 <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
Message-ID: <542FD3A4.3060806@gmx.de>

Am 02.10.2014 um 20:52 schrieb jfbu:
> I could not do that with README (afaik)
> as TeX's \input adds .tex extension to filenames without extension.

That's true. But you can use a makefile for renaming, dedtxing and 
producing the documentation. And there can be other targets like git and 
ctan, e.g.: http://mirrors.ctan.org/macros/latex/contrib/getmap/makefile

> Thus README.md is the natural thing for me to work with, but it is no
> big deal to rename it to README before packaging my submission. And
> anyhow it is mandatory for CTAN displaying it.
>
> Your message makes me think that rather than including the README.md
> verbatim, as a section in the package PDF documentation, I could as well
> choose to provide a separate README.pdf.
>
> Indeed I already had experimented with producing README.pdf using Pandoc
> from README.md and it's fine.

Could also be a make target. You write it once and it's a no-brainer for 
the rest of your life! ;-)

Josef



From zdenek.wagner at gmail.com  Sat Oct  4 13:50:00 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 4 Oct 2014 13:50:00 +0200
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010] (kpathsea + Thai support)
In-Reply-To: <542EA062.2070709@Rhul.Ac.Uk>
References: <16363.1412339778@cl.cam.ac.uk>	<542E99AA.4020100@Rhul.Ac.Uk>
 <CAC1phyaGvw+2FPNrH-i_CKj0P0TvTchSNteo+SVJL4-RUU=PPQ@mail.gmail.com>
 <542EA062.2070709@Rhul.Ac.Uk>
Message-ID: <CAC1phyb++9Hp-3MdP_eavGwVC6QdHwg0fjOBgsTaUf4w_wWS+A@mail.gmail.com>

2014-10-03 15:10 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:
>
>
> Zdenek Wagner wrote:
>
>> In the default definition \item just puts the text somewhere and
>> assumes that \par will be the first token resulting from an expansion
>> of a following token and this will format the item.
>
> Yes, that was indeed the default behaviour, and for testing purposes I
> could have lived with it, but for the final PDF I will need better
> control (including hyperlinks from page numbers to pages) and that is
> how the question arose.
>
>> I agree that this
>> is not the best markup. I do not know where I found the complete
>> documentation, maybe in the source package. 22 years ago I added the
>> Czech support and I just copy my ist files since that time. A useful
>> example of the ist files is in ltxdoc.
>
> Do you have a (Czech/sample) ,ist file that interpolates a trailing
> delimiter, Zden?k ?
>
I have not found such a sample and cannot find the documentation just
now. The svn repository contains many ist files ib subdirectories of
Master/texmf-dist/makeindex. What is used there is basically what I
have in my files, i.e. the delimiter between the text and the page
number is defined, for instance:

% MakeIndex style file gatech-thesis-index.ist
heading_prefix "{\\bfseries\\hfil "      % Insert in front of letter
heading_suffix "\\hfil}\\nopagebreak\n" % Append after letter
headings_flag  1                         % Turn on headings {uppercase}
delim_0        "\\dotfill "
delim_1        "\\dotfill "
delim_2        "\\dotfill "

You can put anything instead of \dotfill and define it as a macro with
a space delimited paramater (without active ^^M) as

\def\mydelim #1 {some definition}

This will easily distinguish end-of-lines after the page number from
those inserted as a result of long lines.

> ** Phil.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From jfbu at free.fr  Sat Oct  4 14:12:09 2014
From: jfbu at free.fr (jfbu)
Date: Sat, 4 Oct 2014 14:12:09 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <542FD3A4.3060806@gmx.de>
References: <542D38DE.1090302@free.fr> <542DEBB6.9080809@googlemail.com>
 <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr> <542FD3A4.3060806@gmx.de>
Message-ID: <1687C646-B22D-4EA5-9F39-49C71CC46983@free.fr>



> That's true. But you can use a makefile for renaming, dedtxing and producing the documentation. And there can be other targets like git and ctan, e.g.:http://mirrors.ctan.org/macros/latex/contrib/getmap/makefile

thanks Josef for this link. 

So far I was easing up my workflow with shell scripts, but I knew at some point I should rather provide a Makefile, and having a model for one will help a lot.

>> [snip]
>> 
>> Indeed I already had experimented with producing README.pdf using Pandoc
>> from README.md and it's fine.
> 

as I prefer the dvipdfmx route, I increased my Pandoc literacy through the writing of a suitable small latex template with a dvipdfmx option to pass to packages which need it. 

> Could also be a make target. You write it once and it's a no-brainer for the rest of your life! ;-)
> 
> 
> Josef

sure, if there is some life ;-) because after getting started with Markdown and Pandoc only a few days ago, I wonder looking back if it is the software which ends up being more alive than myself... (especially though as additionally someone tried this week to entice me to play with multiple cursors in Emacs: http://emacsrocks.com/e13.html )

anyway, it is fun.

Best,
Jean-Francois




From jfbu at free.fr  Sat Oct  4 21:53:00 2014
From: jfbu at free.fr (jfbu)
Date: Sat, 4 Oct 2014 21:53:00 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <20141004054952.6b019992@hogwart.bsdlocal.net>
References: <542D38DE.1090302@free.fr> <542DEBB6.9080809@googlemail.com>
 <97F069E4-AF95-43CB-BFEA-BA72B3600B61@free.fr>
 <20141003194043.51b82c2c@hogwart.bsdlocal.net>
 <5A12F8C3-F8F4-4D5A-B650-17E8AF7FC1DC@free.fr>
 <20141004054952.6b019992@hogwart.bsdlocal.net>
Message-ID: <2E312602-00A0-4CA8-8F1F-AB9C6DE7E12B@free.fr>


Le 4 oct. 2014 ? 05:49, Manfred Lotz <manfred at dante.de> a ?crit :

> Hi Jean-Fran?ois,
> Of course, you could consider to just copy README.md -> REAMDE.
> 
> Otherwise: pandoc -f markdown -t plain -o README README.md
> 
> You might have seen that pandoc supports different flavors of markdown.
> Check which one is suitable for you.
> 
> You could even try this, going md --> html --> plain
> 
> pandoc -f markdown -t html -o README.html README.md
> lynx -nolist -display-charset UTF-8 -dump README.html > README
> 
> Adjust encoding (-display-charset) to your needs and check if this looks
> better or worse than the short pandoc way.
> 
> -- 
> Manfred


Hi Manfred, and thanks for the tip. 

I tried the lynx way, I was curious to see how the table of
content, added during html creation via the pandoc --toc option
and whose positioning in the html file I had been twiddling with
using a CSS element, would end up being treated by lynx: it just
appears in an unsurprising position near the top of file (I was a
bit disappointed, hoping that it would be more like how it is
displayed in the html browser), with an automated enumeration of
its successive items. There are other differences from the pandoc
-t plain way, the list items are not separated by blank lines,
left and right margins appear to (perhaps) be mimicking the
margin-left and margin-right of my body element in the html 

..., all in all, I think I will opt for the pandoc -t plain way. 

and now that I have done this bit of experimenting, I admit that
removing the Markdown marks does make for smoother reading of
pure text. Especially so for the Change Log which has plenty of
`\macro`'s: with all those `'s gone, the reading is easier.

Best regards
Jean-Fran?ois







From jfbu at free.fr  Sat Oct  4 22:21:38 2014
From: jfbu at free.fr (jfbu)
Date: Sat, 4 Oct 2014 22:21:38 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
Message-ID: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>

Hi,

I am not quite sure this is the correct list, and I even
suspect the issue has not much to do with dvipdfmx, but
much more with my ignorance of shell scripts and makefiles

I have a /bin/sh script which runs dvipdfmx. And I have a
makefile which runs the shell script. (see below)

When I do make test, I get

dvipdfmx:warning: Failed to create temporary input file for PSTricks image conversion.

When I use directly the script.sh from the command line 
there is no such warning

This happens with a minimal latex file as source of the dvi

///original latex source
\documentclass{article}
\begin{document}Hello\end{document}
\\\ end of temp.tex

///contents of makefile:
test:
	chmod u+x script.sh; ./script.sh

\\\end of makefile

///contents of script.sh
#!/bin/sh

dvipdfmx temp.dvi

\\\end of script.sh

What should I know better?

Sincerely
Jean-Francois



From josef.kleber at gmx.de  Sat Oct  4 22:46:28 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Sat, 4 Oct 2014 22:46:28 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
Message-ID: <54305CA4.1040800@gmx.de>

Am 04.10.2014 um 22:21 schrieb jfbu:
> When I do make test, I get
>
> dvipdfmx:warning: Failed to create temporary input file for PSTricks image conversion.
>

That's a strange error. Are you sure you don't mix files?

> When I use directly the script.sh from the command line
> there is no such warning
>
> This happens with a minimal latex file as source of the dvi
>
> ///contents of makefile:
> test:
> 	chmod u+x script.sh; ./script.sh
>
> \\\end of makefile
>
> What should I know better?

Works for me (Win7/Cygwin) if i change the makefile to get a temp.dvi:

+++

test: latex
	chmod u+x script.sh; ./script.sh

latex:
	latex temp

+++

+++
$ make
latex temp
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014/W32TeX) 
(preloaded format=latex)
  restricted \write18 enabled.
entering extended mode
(./temp.tex
LaTeX2e <2014/05/01>
Babel <3.9l> and hyphenation patterns for 79 languages loaded.
(c:/texlive/2014/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(c:/texlive/2014/texmf-dist/tex/latex/base/size10.clo)) (./temp.aux) [1]
(./temp.aux) )
Output written on temp.dvi (1 page, 220 bytes).
Transcript written on temp.log.
chmod u+x script.sh; ./script.sh
temp.dvi -> temp.pdf
[1]
1787 bytes written
+++

Josef

From jfbu at free.fr  Sat Oct  4 23:05:11 2014
From: jfbu at free.fr (jfbu)
Date: Sat, 4 Oct 2014 23:05:11 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <54305CA4.1040800@gmx.de>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
Message-ID: <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>


Le 4 oct. 2014 ? 22:46, Josef Kleber <josef.kleber at gmx.de> a ?crit :

> Am 04.10.2014 um 22:21 schrieb jfbu:
>> When I do make test, I get
>> 
>> dvipdfmx:warning: Failed to create temporary input file for PSTricks image conversion.
>> 
> 
> That's a strange error. Are you sure you don't mix files?
> 
>> When I use directly the script.sh from the command line
>> there is no such warning
>> 
>> This happens with a minimal latex file as source of the dvi
>> 
>> ///contents of makefile:
>> test:
>> 	chmod u+x script.sh; ./script.sh
>> 
>> \\\end of makefile
>> 
>> What should I know better?
> 
> Works for me (Win7/Cygwin) if i change the makefile to get a temp.dvi:
> 
> +++

Apologies, my explanations were lacking a crucial element, I omitted
to mention that my Makefile also had at the top 

TMPDIR = tmp

thus it was not as in my message, sincere apologies.

In the big Makefile the $(TMPDIR) was used, but I did not think
it would create the phenomenon,

thus my Makefile for a MWE is:

TMPDIR = tmp

test:
	chmod u+x script.sh; ./script.sh

All things being otherwise equal.

And, Josef, if I now do like you, with a latex rule, it does
not make the issue go away.

(I am on mac os x mavericks)

SORRY for the omitted crucial bit of information!

best regards

Jean-Francois




From jfbu at free.fr  Sat Oct  4 23:10:41 2014
From: jfbu at free.fr (jfbu)
Date: Sat, 4 Oct 2014 23:10:41 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de> <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>
Message-ID: <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>


Le 4 oct. 2014 ? 23:05, jfbu <jfbu at free.fr> a ?crit :

> TMPDIR = tmp
> 
> test:
> 	chmod u+x script.sh; ./script.sh

I picked up the word TMPDIR by sheer bad luck, if I 
choose anything else like

# contents of makefile
ATMPDIR = tmp

test:
	chmod u+x script.sh; ./script.sh
# end of contents

there is no issue.

(here $(ATMPDIR) is never used, but it was needed in the big Makefile)

Obviously there is something important with TMPDIR and I did not have
the right to use it.

I am sorry about the fuss.

Best regards

Jean-Francois



From daleif at math.au.dk  Sat Oct  4 23:28:04 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Sat, 4 Oct 2014 21:28:04 +0000
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
 <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>

Where exactly is tmp? As I read your file is should be a subdirectory. Does it exist?

Would

chmod u+X script.sh && ./script.sh

Be better, then script is not attempted if chmod fails.

-----Original Message-----
From: jfbu [jfbu at free.fr]
Received: l?rdag, 04 okt. 2014, 23:12
To: Josef Kleber [josef.kleber at gmx.de]
CC: tex-live at tug.org [tex-live at tug.org]
Subject: Re: [tex-live] an issue with running dvipdfmx from a makefile


Le 4 oct. 2014 ? 23:05, jfbu <jfbu at free.fr> a ?crit :

> TMPDIR = tmp
>
> test:
>        chmod u+x script.sh; ./script.sh

I picked up the word TMPDIR by sheer bad luck, if I
choose anything else like

# contents of makefile
ATMPDIR = tmp

test:
        chmod u+x script.sh; ./script.sh
# end of contents

there is no issue.

(here $(ATMPDIR) is never used, but it was needed in the big Makefile)

Obviously there is something important with TMPDIR and I did not have
the right to use it.

I am sorry about the fuss.

Best regards

Jean-Francois


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141004/1ad54f7c/attachment.html>

From josef.kleber at gmx.de  Sat Oct  4 23:35:16 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Sat, 4 Oct 2014 23:35:16 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de> <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
Message-ID: <54306814.5090800@gmx.de>

Am 04.10.2014 um 23:10 schrieb jfbu:
>
> Le 4 oct. 2014 ? 23:05, jfbu <jfbu at free.fr> a ?crit :
>
>> TMPDIR = tmp
>>
>> test:
>> 	chmod u+x script.sh; ./script.sh
>
> I picked up the word TMPDIR by sheer bad luck, if I
> choose anything else like

If I use TMPDIR here (Win7/Cygwin) there is no problem. There's no 
TMPDIR defined:

$ env | grep TMP
TMP=/tmp

Maybe the makefile overrides a set TMPDIR on the Mac, which is not a 
good idea at all.

> Obviously there is something important with TMPDIR and I did not have
> the right to use it.

I have no clue if makefile variables should override environment variables.

Josef


From jfbu at free.fr  Sat Oct  4 23:35:28 2014
From: jfbu at free.fr (jfbu)
Date: Sat, 4 Oct 2014 23:35:28 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
 <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
Message-ID: <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr>


Le 4 oct. 2014 ? 23:28, Lars Madsen <daleif at math.au.dk> a ?crit :

> Where exactly is tmp? As I read your file is should be a subdirectory. Does it exist? 


tmp was indeed in the big Makefile the name of a subdirectory which was destined
to be created
by rules containing commands like

	mkdir -p $(TMPDIR)/doc/generic/xint

I had at the top
TMPDIR = tmp (or rather in real it was "tempformake")

everything worked with no problem, inclusive of the creation of a package.tds.zip
and package.zip for CTAN, but dvipdfmx compilations ended up with these warnings

turns out that if I use

TEMPDIR = whatever

or

ONEDIR = whatever

there is no issue.

Example of problematic Makefile: (it had nothing to do with using script.sh therein)

TMPDIR = tmp  # JF B big mistake of assigning some value to TMPDIR, which must be a reserved thing

test: latex dvipdfmx

latex:
	latex temp

dvipdfmx:
	dvipdfmx temp




> 
> Would 
> 
> chmod u+X script.sh && ./script.sh 
> 
> Be better, then script is not attempted if chmod fails. 

thanks for that.  I had && originally but figured that chmod could not fail.

+X would not work, my file extracted from the dtx has no x bit, I though X would
only extend an existing x bit.

Jean-Francois


> 
> -----Original Message----- 
> From: jfbu [jfbu at free.fr]
> Received: l?rdag, 04 okt. 2014, 23:12
> To: Josef Kleber [josef.kleber at gmx.de]
> CC: tex-live at tug.org [tex-live at tug.org]
> Subject: Re: [tex-live] an issue with running dvipdfmx from a makefile
> 
> 
> Le 4 oct. 2014 ? 23:05, jfbu <jfbu at free.fr> a ?crit :
> 
> > TMPDIR = tmp
> > 
> > test:
> >        chmod u+x script.sh; ./script.sh
> 
> I picked up the word TMPDIR by sheer bad luck, if I 
> choose anything else like
> 
> # contents of makefile
> ATMPDIR = tmp
> 
> test:
>         chmod u+x script.sh; ./script.sh
> # end of contents
> 
> there is no issue.
> 
> (here $(ATMPDIR) is never used, but it was needed in the big Makefile)
> 
> Obviously there is something important with TMPDIR and I did not have
> the right to use it.
> 
> I am sorry about the fuss.
> 
> Best regards
> 
> Jean-Francois

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141004/756c6e5a/attachment-0001.html>

From jfbu at free.fr  Sat Oct  4 23:38:38 2014
From: jfbu at free.fr (jfbu)
Date: Sat, 4 Oct 2014 23:38:38 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <54306814.5090800@gmx.de>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de> <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr> <54306814.5090800@gmx.de>
Message-ID: <8CCC6F9C-1D4E-4C41-B763-FD27E0A8A2F0@free.fr>


Le 4 oct. 2014 ? 23:35, Josef Kleber <josef.kleber at gmx.de> a ?crit :

> Am 04.10.2014 um 23:10 schrieb jfbu:
>> 
>> Le 4 oct. 2014 ? 23:05, jfbu <jfbu at free.fr> a ?crit :
>> 
>>> TMPDIR = tmp
>>> 
>>> test:
>>> 	chmod u+x script.sh; ./script.sh
>> 
>> I picked up the word TMPDIR by sheer bad luck, if I
>> choose anything else like
> 
> If I use TMPDIR here (Win7/Cygwin) there is no problem. There's no TMPDIR defined:
> 
> $ env | grep TMP
> TMP=/tmp

here:

$ env | grep TMP
TMPDIR=/var/folders/4y/h4wb...many letters and digits...m80000gn/T/

> 


> Maybe the makefile overrides a set TMPDIR on the Mac, which is not a good idea at all.
> 
>> Obviously there is something important with TMPDIR and I did not have
>> the right to use it.
> 
> I have no clue if makefile variables should override environment variables.
> 
> Josef
> 

something goes eery with dvipdfmx if I override TMPDIR, but I am incompetent
to say why exactly.

JF

From jfbu at free.fr  Sun Oct  5 00:00:48 2014
From: jfbu at free.fr (jfbu)
Date: Sun, 5 Oct 2014 00:00:48 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de> <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
 <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr>
Message-ID: <0DF887ED-77CA-4DA4-9DDA-AE2DC430F830@free.fr>


I am compelled to write again to signal that 

> 
> TMPDIR = tmp  # JF B big mistake of assigning some value to TMPDIR, which must be a reserved thing
> 

is a bug as it includes the space following tmp in TMPDIR variable 

I should have put my comment elsewhere.
I have to apologize for all this noise I am doing here, I should have studied a manual on  Makefile's  first

Best regards to all

Jean-Francois
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141005/a624510c/attachment.html>

From jfbu at free.fr  Sun Oct  5 08:55:00 2014
From: jfbu at free.fr (jfbu)
Date: Sun, 5 Oct 2014 08:55:00 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
 <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
Message-ID: <C44D8EB5-0E62-4F01-B89C-FD3EFF4094D8@free.fr>


Le 4 oct. 2014 ? 23:28, Lars Madsen <daleif at math.au.dk> a ?crit :

> Where exactly is tmp? As I read your file is should be a subdirectory. Does it exist? 

Indeed Lars, overwriting TMPDIR via TMPDIR = tmp 
caused a problem because the subdirectory tmp/ did *not*
exist for those rules of the Makefile doing latex+dvipdfmx

(it was not explicitly needed there: a subdirectory tmp/ was needed, 
created, used and then removed by some other rules from the Makefile)
 
thus the Makefile was running dvipdfmx with a TMPDIR variable set to
a non-existent directory

that this would trigger a warning isn't that surprising

it's all my fault,

Best regards

Jean-Francois

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141005/d70cd55f/attachment.html>

From daleif at math.au.dk  Sun Oct  5 09:36:47 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Sun, 5 Oct 2014 07:36:47 +0000
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <C44D8EB5-0E62-4F01-B89C-FD3EFF4094D8@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
 <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>,
 <C44D8EB5-0E62-4F01-B89C-FD3EFF4094D8@free.fr>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE98DC@SRVUNIMBX07.uni.au.dk>

We've all been there, it is a part of the debugging experience

-----Original Message-----
From: jfbu [jfbu at free.fr]
Received: s?ndag, 05 okt. 2014, 8:55
To: Lars Madsen [daleif at math.au.dk]
CC: josef.kleber at gmx.de [josef.kleber at gmx.de]; tex-live at tug.org [tex-live at tug.org]
Subject: Re: [tex-live] an issue with running dvipdfmx from a makefile


Le 4 oct. 2014 ? 23:28, Lars Madsen <daleif at math.au.dk<mailto:daleif at math.au.dk>> a ?crit :

Where exactly is tmp? As I read your file is should be a subdirectory. Does it exist?

Indeed Lars, overwriting TMPDIR via TMPDIR = tmp
caused a problem because the subdirectory tmp/ did *not*
exist for those rules of the Makefile doing latex+dvipdfmx

(it was not explicitly needed there: a subdirectory tmp/ was needed,
created, used and then removed by some other rules from the Makefile)

thus the Makefile was running dvipdfmx with a TMPDIR variable set to
a non-existent directory

that this would trigger a warning isn't that surprising

it's all my fault,

Best regards

Jean-Francois

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141005/2bd89196/attachment.html>

From dbitouze at wanadoo.fr  Sun Oct  5 11:04:46 2014
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 5 Oct 2014 11:04:46 +0200
Subject: [tex-live] Format of README file for a package
References: <542D38DE.1090302@free.fr>
Message-ID: <m3mw9a28gh.fsf@example.com>

Hi Jean-Francois,

I didn't read the thread in details but I wonder why you don't make use
of `l3build' which deals with README files IIRC.

Kind regards.
-- 
Denis


From josef.kleber at gmx.de  Sun Oct  5 14:37:17 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Sun, 5 Oct 2014 14:37:17 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
 <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
 <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr>
Message-ID: <54313B7D.4050507@gmx.de>

Am 04.10.2014 um 23:35 schrieb jfbu:
>
> test: latex dvipdfmx
>
> latex:
> latex temp
>
> dvipdfmx:
> dvipdfmx temp
>

BTW, in such simple cases, you better use file names instead of targets:

test: temp.pdf

temp.dvi: temp.tex
	latex temp

temp.pdf: temp.dvi
	dvipdfmx temp

Then make can compare the timestamps of the files involved and execute 
the rules only if necessary! That is the timestamp of temp.tex is 
"newer" than of temp.dvi and so on.

$ make
latex temp
This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2014/W32TeX) 
(preloaded format=latex)
  restricted \write18 enabled.
entering extended mode
(./temp.tex
LaTeX2e <2014/05/01>
Babel <3.9l> and hyphenation patterns for 79 languages loaded.
(c:/texlive/2014/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(c:/texlive/2014/texmf-dist/tex/latex/base/size10.clo))
No file temp.aux.
[1] (./temp.aux) )
Output written on temp.dvi (1 page, 220 bytes).
Transcript written on temp.log.
dvipdfmx temp
temp -> temp.pdf
[1]
1786 bytes written

$ make
make: Nothing to be done for 'test'.

Josef

From jfbu at free.fr  Sun Oct  5 19:17:51 2014
From: jfbu at free.fr (jfbu)
Date: Sun, 5 Oct 2014 19:17:51 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <54313B7D.4050507@gmx.de>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
 <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
 <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr> <54313B7D.4050507@gmx.de>
Message-ID: <099E9377-0101-4F2E-9BDB-80F9FAA3F32D@free.fr>


Le 5 oct. 2014 ? 14:37, Josef Kleber <josef.kleber at gmx.de> a ?crit :

> Am 04.10.2014 um 23:35 schrieb jfbu:
>> 
>> test: latex dvipdfmx
>> 
>> latex:
>> latex temp
>> 
>> dvipdfmx:
>> dvipdfmx temp
>> 
> 
> BTW, in such simple cases, you better use file names instead of targets:
> 
> test: temp.pdf
> 
> temp.dvi: temp.tex
> 	latex temp
> 
> temp.pdf: temp.dvi
> 	dvipdfmx temp
> 
> Then make can compare the timestamps of the files involved and execute the rules only if necessary! That is the timestamp of temp.tex is "newer" than of temp.dvi and so on.
> 

excellent thanks.

also if I accidentally edit a style file extracted from a .dtx, rather than the original 
in the dtx, then the make will refuse to redo tex stuff.dtx, hence accidentally
erasing my modifications in the style file

What in a situation where many files are produced by a single tex stuff.dtx ?
(my dtx does not use an .ins file)

assuming stuff.dtx -> A.sty and B.sty,

is there a way to configure make so that it won't do tex stuff.dtx even
 if A.sty is older than stuff.dtx, as long as B.sty is newer than stuff.dtx ?

thus tex stuff.dtx would be done only if both A.sty and B.sty (and others) are older
than stuff.dtx ?

(it will not matter much for the end user, but could help me avoid during development
because when an error arises, one ends up in the A.sty or B.sty buffer, and it is easy
to forget that one is editing the wrong place, in great danger of getting overwritten )

Jean-Francois



 





From jfbu at free.fr  Sun Oct  5 22:46:26 2014
From: jfbu at free.fr (jfbu)
Date: Sun, 5 Oct 2014 22:46:26 +0200
Subject: [tex-live] Format of README file for a package
In-Reply-To: <m3mw9a28gh.fsf@example.com>
References: <542D38DE.1090302@free.fr> <m3mw9a28gh.fsf@example.com>
Message-ID: <8427F2E7-3BC5-413A-99EF-0E61FF31CD61@free.fr>


Le 5 oct. 2014 ? 11:04, Denis Bitouz? <dbitouze at wanadoo.fr> a ?crit :

> Hi Jean-Francois,
> 
> I didn't read the thread in details but I wonder why you don't make use
> of `l3build' which deals with README files IIRC.
> 
> Kind regards.
> -- 
> Denis
> 

Hello Denis

probably something to look at but I prefer to learn a general tool,
(the initial issue was one of light weight mark-up conventions, 
conversion to other formats, and this thread got started next,
when I turned to makefiles)

besides,
my dtx have a home made special structure and I will not change that,

best wishes
Jean-Francois





From josef.kleber at gmx.de  Sun Oct  5 23:00:35 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Sun, 5 Oct 2014 23:00:35 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <099E9377-0101-4F2E-9BDB-80F9FAA3F32D@free.fr>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>
 <F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>,
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
 <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr> <54313B7D.4050507@gmx.de>
 <099E9377-0101-4F2E-9BDB-80F9FAA3F32D@free.fr>
Message-ID: <5431B173.2030901@gmx.de>

Am 05.10.2014 um 19:17 schrieb jfbu:
> What in a situation where many files are produced by a single tex stuff.dtx ?
> (my dtx does not use an .ins file)
>
> assuming stuff.dtx -> A.sty and B.sty,
>
> is there a way to configure make so that it won't do tex stuff.dtx even
>   if A.sty is older than stuff.dtx, as long as B.sty is newer than stuff.dtx ?
>
> thus tex stuff.dtx would be done only if both A.sty and B.sty (and others) are older
> than stuff.dtx ?

I don't think that's possible. If stuff.dtx is newer than one of files 
depending on stuff.dtx the rule will be executed, that is tex stuff.dtx 
will overwrite all files. dtx files are a weird concept for make.
In the context of programming (the typical C example with several c 
files that are compiled into objects and then linked) the greedy 
behavior makes sense.

Josef


From zdenek.wagner at gmail.com  Sun Oct  5 23:21:41 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 5 Oct 2014 23:21:41 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <5431B173.2030901@gmx.de>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>	<F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
 <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr>	<54313B7D.4050507@gmx.de>
 <099E9377-0101-4F2E-9BDB-80F9FAA3F32D@free.fr>	<5431B173.2030901@gmx.de>
Message-ID: <CAC1phyZxom664u1yVmfYecT8bURkKVmezWu1V93ttTJF94sYtQ@mail.gmail.com>

2014-10-05 23:00 GMT+02:00 Josef Kleber <josef.kleber at gmx.de>:
> Am 05.10.2014 um 19:17 schrieb jfbu:
>>
>> What in a situation where many files are produced by a single tex
>> stuff.dtx ?
>> (my dtx does not use an .ins file)
>>
>> assuming stuff.dtx -> A.sty and B.sty,
>>
>> is there a way to configure make so that it won't do tex stuff.dtx even
>>   if A.sty is older than stuff.dtx, as long as B.sty is newer than
>> stuff.dtx ?
>>
>> thus tex stuff.dtx would be done only if both A.sty and B.sty (and others)
>> are older
>> than stuff.dtx ?
>
>
> I don't think that's possible. If stuff.dtx is newer than one of files
> depending on stuff.dtx the rule will be executed, that is tex stuff.dtx will
> overwrite all files. dtx files are a weird concept for make.

This is the same with .web files. Anyway, if you use pseudotargets,
they will always be built. In such a way using a script seems to me
better that using a Makefile where everythign is always built.

> In the context of programming (the typical C example with several c files
> that are compiled into objects and then linked) the greedy behavior makes
> sense.
>
> Josef
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From josef.kleber at gmx.de  Mon Oct  6 11:33:50 2014
From: josef.kleber at gmx.de (Josef Kleber)
Date: Mon, 6 Oct 2014 11:33:50 +0200
Subject: [tex-live] an issue with running dvipdfmx from a makefile
In-Reply-To: <CAC1phyZxom664u1yVmfYecT8bURkKVmezWu1V93ttTJF94sYtQ@mail.gmail.com>
References: <D8BA1D92-EC2C-44FD-8047-6AD871C78519@free.fr>
 <54305CA4.1040800@gmx.de>	<F7C13E26-0D81-435F-B233-462EEB412B72@free.fr>
 <80108874-48C7-484E-BB8F-F2AA4A0C29FA@free.fr>
 <89ECE88578D8F648A22E307DAEE885799EFE96E3@SRVUNIMBX07.uni.au.dk>
 <938063D3-83E4-43AA-B506-725B6CD92FFC@free.fr>	<54313B7D.4050507@gmx.de>
 <099E9377-0101-4F2E-9BDB-80F9FAA3F32D@free.fr>	<5431B173.2030901@gmx.de>
 <CAC1phyZxom664u1yVmfYecT8bURkKVmezWu1V93ttTJF94sYtQ@mail.gmail.com>
Message-ID: <543261FE.2010704@gmx.de>

Am 05.10.2014 um 23:21 schrieb Zdenek Wagner:
> 2014-10-05 23:00 GMT+02:00 Josef Kleber <josef.kleber at gmx.de>:
>> I don't think that's possible. If stuff.dtx is newer than one of files
>> depending on stuff.dtx the rule will be executed, that is tex stuff.dtx will
>> overwrite all files. dtx files are a weird concept for make.
>
> This is the same with .web files. Anyway, if you use pseudotargets,
> they will always be built. In such a way using a script seems to me
> better that using a Makefile where everythign is always built.

Where do you you see a difference? Unpacking a dtx file will always 
overwrite all source files. If this is done by a makefile or a script 
does not make a difference. A makefile does *not* always built 
everthing. It depends on the default target, which can be a 'ls'

The rule is to change only the dtx file. Okay, i know editing a style 
file is simpler and faster and i do it either. In my setup I have the 
dtx file in the doc folder of a local TDS-tree inside a git repository. 
So style files and scripts are unpacked in this doc folder and do not 
overwrite the files in the tex and script folders. I have a git target 
to copy the important files to these folders - which is not the default 
target of the makefile. Therefore I can only overwrite edits in A.sty 
with an explicit make git. See e.g.: 
http://mirrors.ctan.org/macros/latex/contrib/getmap/makefile

Therefore my test edits are safe. If it works I can copy the relevant 
code into the dtx file and issue a make git.

Josef



From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 14:05:19 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 13:05:19 +0100
Subject: [tex-live] TeX Live 2014
Message-ID: <5432857F.1040709@Rhul.Ac.Uk>

Tried to install TeX Live 2014 today for the first time, on a virgin
computer that has never before seen TeX.

"Perl.exe has stopped working"

Problem signature:
  Problem Event Name:	APPCRASH
  Application Name:	perl.exe
  Application Version:	0.0.0.0
  Application Timestamp:	535669b4
  Fault Module Name:	Tk.dll
  Fault Module Version:	8.4.2.5
  Fault Module Timestamp:	535785fc
  Exception Code:	c0000005
  Exception Offset:	0005b449
  OS Version:	6.1.7601.2.1.0.768.3
  Locale ID:	2057
  Additional Information 1:	0a9e
  Additional Information 2:	0a9e372d3b4ad19135b953a78882e789
  Additional Information 3:	0a9e
  Additional Information 4:	0a9e372d3b4ad19135b953a78882e789

Read our privacy statement online:
  http://go.microsoft.com/fwlink/?linkid=104288&clcid=0x0409

If the online privacy statement is not available, please read our
privacy statement offline:
  C:\Windows\system32\en-US\erofflps.txt

From daleif at math.au.dk  Mon Oct  6 14:13:32 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 6 Oct 2014 12:13:32 +0000
Subject: [tex-live] TeX Live 2014
In-Reply-To: <5432857F.1040709@Rhul.Ac.Uk>
References: <5432857F.1040709@Rhul.Ac.Uk>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE9F24@SRVUNIMBX07.uni.au.dk>

It might also be useful to know exactly which version of windows and whether it is 64bit or 32bit. (my guess is 64bit)

Do you have any Perl installed on it?


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
Sent: 06 October 2014 14:05
To: TeXLive Mailing List
Subject: [tex-live] TeX Live 2014

Tried to install TeX Live 2014 today for the first time, on a virgin
computer that has never before seen TeX.

"Perl.exe has stopped working"

Problem signature:
  Problem Event Name:   APPCRASH
  Application Name:     perl.exe
  Application Version:  0.0.0.0
  Application Timestamp:        535669b4
  Fault Module Name:    Tk.dll
  Fault Module Version: 8.4.2.5
  Fault Module Timestamp:       535785fc
  Exception Code:       c0000005
  Exception Offset:     0005b449
  OS Version:   6.1.7601.2.1.0.768.3
  Locale ID:    2057
  Additional Information 1:     0a9e
  Additional Information 2:     0a9e372d3b4ad19135b953a78882e789
  Additional Information 3:     0a9e
  Additional Information 4:     0a9e372d3b4ad19135b953a78882e789

Read our privacy statement online:
  http://go.microsoft.com/fwlink/?linkid=104288&clcid=0x0409

If the online privacy statement is not available, please read our
privacy statement offline:
  C:\Windows\system32\en-US\erofflps.txt


From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 14:19:54 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 13:19:54 +0100
Subject: [tex-live] TeX Live 2014
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE9F24@SRVUNIMBX07.uni.au.dk>
References: <5432857F.1040709@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9F24@SRVUNIMBX07.uni.au.dk>
Message-ID: <543288EA.4050102@Rhul.Ac.Uk>

AMD 64-bit, Windows 7 Home (sorry about that last part; I inherited the
machine from someone who did not have access to more advanced editions).
No Perl installed other than as a part of the TeX Live installation
which itself followed the guidance at Tug.Org :

For typical needs, we recommend starting the TeX Live installation by
downloading install-tl-windows.exe for Windows

and run as Administrator since I wished to install for all (one) users.

** Phil.
========

Lars Madsen wrote:
> It might also be useful to know exactly which version of windows and whether it is 64bit or 32bit. (my guess is 64bit)
> 
> Do you have any Perl installed on it?

From dbitouze at wanadoo.fr  Mon Oct  6 14:20:01 2014
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Mon, 6 Oct 2014 14:20:01 +0200
Subject: [tex-live] TeX Live 2014
References: <5432857F.1040709@Rhul.Ac.Uk>
Message-ID: <m3lhotxudq.fsf@example.com>

Le 06/10/14 ? 14h05, Philip Taylor <P.Taylor at Rhul.Ac.Uk> a ?crit :

> Tried to install TeX Live 2014 today for the first time, on a virgin
> computer that has never before seen TeX.
>
> "Perl.exe has stopped working"

Did you try with the anti-virus temporarily shut down?
-- 
Denis



From daleif at math.au.dk  Mon Oct  6 14:24:31 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 6 Oct 2014 12:24:31 +0000
Subject: [tex-live] TeX Live 2014
In-Reply-To: <543288EA.4050102@Rhul.Ac.Uk>
References: <5432857F.1040709@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9F24@SRVUNIMBX07.uni.au.dk>,
 <543288EA.4050102@Rhul.Ac.Uk>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFE9F3F@SRVUNIMBX07.uni.au.dk>

For fun, download the .zip an run install-tl-advanced.bat instead.

For some reason only the makers of Windows understands, this often works.

The install-tl-windows.exe is sort of the same as the zip but runs the install-tl-windows.bat script from the zip.

Interestingly enough, theere is only a very small difference between install-tl-advanced.bat and install-tl-wondows.bat.



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: Chaa006 . [chaa006 at gmail.com] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
Sent: 06 October 2014 14:19
To: Lars Madsen; TeXLive Mailing List
Subject: Re: [tex-live] TeX Live 2014

AMD 64-bit, Windows 7 Home (sorry about that last part; I inherited the
machine from someone who did not have access to more advanced editions).
No Perl installed other than as a part of the TeX Live installation
which itself followed the guidance at Tug.Org :

For typical needs, we recommend starting the TeX Live installation by
downloading install-tl-windows.exe for Windows

and run as Administrator since I wished to install for all (one) users.

** Phil.
========

Lars Madsen wrote:
> It might also be useful to know exactly which version of windows and whether it is 64bit or 32bit. (my guess is 64bit)
>
> Do you have any Perl installed on it?


From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 14:29:51 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 13:29:51 +0100
Subject: [tex-live] TeX Live 2014
In-Reply-To: <m3lhotxudq.fsf@example.com>
References: <5432857F.1040709@Rhul.Ac.Uk> <m3lhotxudq.fsf@example.com>
Message-ID: <54328B3F.40409@Rhul.Ac.Uk>



Denis Bitouz? wrote:

> Did you try with the anti-virus temporarily shut down?

No, because it is a network installation; the only time I would disable
my anti-virus software is when I am not connected to a network.

** Phil.


From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 14:30:29 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 13:30:29 +0100
Subject: [tex-live] TeX Live 2014
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFE9F3F@SRVUNIMBX07.uni.au.dk>
References: <5432857F.1040709@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9F24@SRVUNIMBX07.uni.au.dk>,
 <543288EA.4050102@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE9F3F@SRVUNIMBX07.uni.au.dk>
Message-ID: <54328B65.9000502@Rhul.Ac.Uk>



Lars Madsen wrote:

> For fun, download the .zip an run install-tl-advanced.bat instead.
> 
> For some reason only the makers of Windows understands, this often works.

OK, will do (but later : need to leave for table-tennis now).
** Phil.

From zdenek.wagner at gmail.com  Mon Oct  6 14:39:00 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 6 Oct 2014 14:39:00 +0200
Subject: [tex-live] TeX Live 2014
In-Reply-To: <54328B3F.40409@Rhul.Ac.Uk>
References: <5432857F.1040709@Rhul.Ac.Uk>	<m3lhotxudq.fsf@example.com>
 <54328B3F.40409@Rhul.Ac.Uk>
Message-ID: <CAC1phyaoUkz5FHbo=87fAeBxhxJZYUrJx-uSQ+uEJ_G8vo5B6g@mail.gmail.com>

2014-10-06 14:29 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:
>
>
> Denis Bitouz? wrote:
>
>> Did you try with the anti-virus temporarily shut down?
>
> No, because it is a network installation; the only time I would disable
> my anti-virus software is when I am not connected to a network.
>
If you disconnect all shared resources (disks, printers) and close all
communication programs as e-mail, web browser, skype etc, it should
not be too dangerous.

> ** Phil.
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 14:43:39 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 13:43:39 +0100
Subject: [tex-live] TeX Live 2014
In-Reply-To: <CAC1phyaoUkz5FHbo=87fAeBxhxJZYUrJx-uSQ+uEJ_G8vo5B6g@mail.gmail.com>
References: <5432857F.1040709@Rhul.Ac.Uk>	<m3lhotxudq.fsf@example.com>
 <54328B3F.40409@Rhul.Ac.Uk>
 <CAC1phyaoUkz5FHbo=87fAeBxhxJZYUrJx-uSQ+uEJ_G8vo5B6g@mail.gmail.com>
Message-ID: <54328E7B.5060302@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> If you disconnect all shared resources (disks, printers) and close all
> communication programs as e-mail, web browser, skype etc, it should
> not be too dangerous.

It would still be wide open to inbound malevolent nasties, Zden?k.

Sorry, but no software other than an anti-virus product should require
me to disable my anti-malware software in order for it to install
correctly.  And no software that I have ever installed (and I have
installed a very great deal) has ever required me to do so in order to
install successfully, although some has advised me that I /may/ need so
to so (well-intended advice that I invariably choose not to follow).
Protected by ESET Nod-32 V7, Malware Bytes Pro and Spybot-SD.

** Phil.

From siepo at cybercomm.nl  Mon Oct  6 17:31:30 2014
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 6 Oct 2014 17:31:30 +0200
Subject: [tex-live] TeX Live 2014
In-Reply-To: <5432857F.1040709@Rhul.Ac.Uk>
References: <5432857F.1040709@Rhul.Ac.Uk>
Message-ID: <20141006153130.GA2465@bitmuis.thuis.internal>

On Mon, Oct 06, 2014 at 01:05:19PM +0100, Philip Taylor wrote:
> Tried to install TeX Live 2014 today for the first time, on a virgin
> computer that has never before seen TeX.
> 
> "Perl.exe has stopped working"
> 
> Problem signature:
>   Problem Event Name:	APPCRASH
>   Application Name:	perl.exe
>   Application Version:	0.0.0.0
>   Application Timestamp:	535669b4
>   Fault Module Name:	Tk.dll

Try the text install; the problem occurred in Tk, the graphics
module.

-- 
Siep Kroonenberg

From daleif at math.au.dk  Mon Oct  6 17:41:33 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 6 Oct 2014 15:41:33 +0000
Subject: [tex-live] TeX Live 2014
In-Reply-To: <20141006153130.GA2465@bitmuis.thuis.internal>
References: <5432857F.1040709@Rhul.Ac.Uk>,
 <20141006153130.GA2465@bitmuis.thuis.internal>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFEA063@SRVUNIMBX07.uni.au.dk>

Can you do a text install with the downloadable exe?

-----Original Message-----
From: Siep Kroonenberg [siepo at cybercomm.nl]
Received: mandag, 06 okt. 2014, 17:35
To: tex-live at tug.org [tex-live at tug.org]
Subject: Re: [tex-live] TeX Live 2014

On Mon, Oct 06, 2014 at 01:05:19PM +0100, Philip Taylor wrote:
> Tried to install TeX Live 2014 today for the first time, on a virgin
> computer that has never before seen TeX.
>
> "Perl.exe has stopped working"
>
> Problem signature:
>   Problem Event Name: APPCRASH
>   Application Name:   perl.exe
>   Application Version:        0.0.0.0
>   Application Timestamp:      535669b4
>   Fault Module Name:  Tk.dll

Try the text install; the problem occurred in Tk, the graphics
module.

--
Siep Kroonenberg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141006/dcb5ce57/attachment.html>

From siepo at cybercomm.nl  Mon Oct  6 19:35:25 2014
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 6 Oct 2014 19:35:25 +0200
Subject: [tex-live] TeX Live 2014
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFEA063@SRVUNIMBX07.uni.au.dk>
References: <5432857F.1040709@Rhul.Ac.Uk>
 <20141006153130.GA2465@bitmuis.thuis.internal>
 <89ECE88578D8F648A22E307DAEE885799EFEA063@SRVUNIMBX07.uni.au.dk>
Message-ID: <20141006173525.GB2465@bitmuis.thuis.internal>

On Mon, Oct 06, 2014 at 03:41:33PM +0000, Lars Madsen wrote:
> Can you do a text install with the downloadable exe?

Sort-of. One of the `install' options is unpacking, which advises to
install with install-tl-windows.bat or install-tl-advanced.bat, but
makes no mention of install-tl-windows.bat -gui text .

> -----Original Message-----
> From: Siep Kroonenberg [siepo at cybercomm.nl]
> Received: mandag, 06 okt. 2014, 17:35
> To: tex-live at tug.org [tex-live at tug.org]
> Subject: Re: [tex-live] TeX Live 2014
> 
> On Mon, Oct 06, 2014 at 01:05:19PM +0100, Philip Taylor wrote:
> > Tried to install TeX Live 2014 today for the first time, on a virgin
> > computer that has never before seen TeX.
> >
> > "Perl.exe has stopped working"
> >
> > Problem signature:
> >   Problem Event Name: APPCRASH
> >   Application Name:   perl.exe
> >   Application Version:        0.0.0.0
> >   Application Timestamp:      535669b4
> >   Fault Module Name:  Tk.dll
> 
> Try the text install; the problem occurred in Tk, the graphics
> module.
> 
> --
> Siep Kroonenberg

-- 
Siep Kroonenberg

From reinhard.kotucha at web.de  Mon Oct  6 19:40:58 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 6 Oct 2014 19:40:58 +0200
Subject: [tex-live] TeX Live 2014
In-Reply-To: <89ECE88578D8F648A22E307DAEE885799EFEA063@SRVUNIMBX07.uni.au.dk>
References: <5432857F.1040709@Rhul.Ac.Uk>
 <20141006153130.GA2465@bitmuis.thuis.internal>
 <89ECE88578D8F648A22E307DAEE885799EFEA063@SRVUNIMBX07.uni.au.dk>
Message-ID: <21554.54314.446919.74487@zaphod.ms25.net>

On 2014-10-06 at 15:41:33 +0000, Lars Madsen wrote:

 > Can you do a text install with the downloadable exe?

Yes, the text mode installer should always work.  It's deliberately
kept simple and supports only ASCII in order to avoid problems with
language setups and character encodings.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 21:15:09 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 20:15:09 +0100
Subject: [tex-live] Access to Windows environment variables from \input
In-Reply-To: <wo63mzv492el.dlg@nililand.de>
References: <029301cfdfca$5d966940$18c33bc0$@gmail.com>
 <54301986.4010107@Rhul.Ac.Uk> <21552.33598.590117.371974@zaphod.ms25.net>
 <wo63mzv492el.dlg@nililand.de>
Message-ID: <5432EA3D.7080300@Rhul.Ac.Uk>



A TeX source needs to reference images from a location that is
host-dependent, and I had hoped to accomplish this by \inputting a
configuration file partially specified by a Windows environment
variable.  In essence :

D:\>set test=d:\
D:\>tex
This is TeX, Version 3.1415926 (TeX Live 2013/W32TeX)
**\catcode `\% = \catcode `\a \input %test%/config.tex
*\end

However, not only does TeX (or XeTeX, or PdfTeX) not open the desired
file, the diagnostic is even more confusing :

(d:/TeX/Live/2013/texmf-dist/tex/latex/tools/.tex File ignored)
No pages of output.
Transcript written on texput.log.

Cam anyone explain (a) why the environment variable is not deferenced
when \input passes its parameter to the appropriate system internal, and
(b) why TeX /does/ open (or perhaps only try to open)
d:/TeX/Live/2013/texmf-dist/tex/latex/tools/.tex ?

Philip Taylor


From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 21:32:05 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 20:32:05 +0100
Subject: [tex-live] TeX Live 2014
In-Reply-To: <20141006173525.GB2465@bitmuis.thuis.internal>
References: <5432857F.1040709@Rhul.Ac.Uk>
 <20141006153130.GA2465@bitmuis.thuis.internal>
 <89ECE88578D8F648A22E307DAEE885799EFEA063@SRVUNIMBX07.uni.au.dk>
 <20141006173525.GB2465@bitmuis.thuis.internal>
Message-ID: <5432EE35.8000703@Rhul.Ac.Uk>



Siep Kroonenberg wrote:

> Sort-of. One of the `install' options is unpacking, which advises to
> install with install-tl-windows.bat or install-tl-advanced.bat, but
> makes no mention of install-tl-windows.bat -gui text .

Reinhard Kotucha wrote:

> Yes, the text mode installer should always work.  It's deliberately
> kept simple and supports only ASCII in order to avoid problems with
> language setups and character encodings.

My thanks to Denis, Zden?k, Lars, Siep, Reinhard and to all who have
offered advice regarding this. I did find the documentation for
"install-tl-windows.bat -gui tex" fairly easily on the TUG-hosted
TeX-Live page :

	http://tug.org/texlive/quickinstall.html

but I left a second GUI-initiated administrator install running while I
was out at table-tennis and found when I got home that it had completed
successfully.

So, problem over for this year.
** Phil.

From zdenek.wagner at gmail.com  Mon Oct  6 22:02:05 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 6 Oct 2014 22:02:05 +0200
Subject: [tex-live] Access to Windows environment variables from \input
In-Reply-To: <5432EA3D.7080300@Rhul.Ac.Uk>
References: <029301cfdfca$5d966940$18c33bc0$@gmail.com>
 <54301986.4010107@Rhul.Ac.Uk>	<21552.33598.590117.371974@zaphod.ms25.net>
 <wo63mzv492el.dlg@nililand.de>	<5432EA3D.7080300@Rhul.Ac.Uk>
Message-ID: <CAC1phyZ9ae4SWz7GQ6fOWNe0jXWvJfJ3mn+Tq2z617ix=SJ7xg@mail.gmail.com>

2014-10-06 21:15 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:
>
>
> A TeX source needs to reference images from a location that is
> host-dependent, and I had hoped to accomplish this by \inputting a
> configuration file partially specified by a Windows environment
> variable.  In essence :
>
> D:\>set test=d:\
> D:\>tex
> This is TeX, Version 3.1415926 (TeX Live 2013/W32TeX)
> **\catcode `\% = \catcode `\a \input %test%/config.tex
> *\end
>
> However, not only does TeX (or XeTeX, or PdfTeX) not open the desired
> file, the diagnostic is even more confusing :
>
> (d:/TeX/Live/2013/texmf-dist/tex/latex/tools/.tex File ignored)
> No pages of output.
> Transcript written on texput.log.
>
> Cam anyone explain (a) why the environment variable is not deferenced
> when \input passes its parameter to the appropriate system internal, and
> (b) why TeX /does/ open (or perhaps only try to open)
> d:/TeX/Live/2013/texmf-dist/tex/latex/tools/.tex ?
>
Environment variables are expanded by cmd.exe, not by I/O libraries.
For these libraries % is just a character. You would have to call a
system library for retrieving the environment variables. And the names
of the environment variables are case sensitive and must be all
uppercase. You can use set test=something and both echo %test% and
echo %TEST% (and even echo %TesT%) will work because the conversion to
uppercase will be done automatically by cmd.exe but it does not happen
when called directly from your program. TEST will have the expected
value while the value of test will be an empty string with no error
message. TeX does not allow you to access environment variables but it
might be possible by luatex (I do not know luatex, I just guess).

> Philip Taylor
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From d.p.carlisle at gmail.com  Mon Oct  6 22:02:52 2014
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 6 Oct 2014 21:02:52 +0100
Subject: [tex-live] Access to Windows environment variables from \input
In-Reply-To: <5432EA3D.7080300@Rhul.Ac.Uk>
References: <029301cfdfca$5d966940$18c33bc0$@gmail.com>
 <54301986.4010107@Rhul.Ac.Uk>	<21552.33598.590117.371974@zaphod.ms25.net>
 <wo63mzv492el.dlg@nililand.de>	<5432EA3D.7080300@Rhul.Ac.Uk>
Message-ID: <CAEW6iOhW9TNyhSnKNrDNEtuvPj_k0T0RkUFd+E9RSWbirsL_4A@mail.gmail.com>

On 6 October 2014 20:15, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

>
>
> A TeX source needs to reference images from a location that is
> host-dependent, and I had hoped to accomplish this by \inputting a
> configuration file partially specified by a Windows environment
> variable.  In essence :
>
> D:\>set test=d:\
> D:\>tex
> This is TeX, Version 3.1415926 (TeX Live 2013/W32TeX)
> **\catcode `\% = \catcode `\a \input %test%/config.tex
> *\end
>
> However, not only does TeX (or XeTeX, or PdfTeX) not open the desired
> file, the diagnostic is even more confusing :
>
> (d:/TeX/Live/2013/texmf-dist/tex/latex/tools/.tex File ignored)
> No pages of output.
> Transcript written on texput.log.
>
> Cam anyone explain (a) why the environment variable is not deferenced
> when \input passes its parameter to the appropriate system internal, and
> (b) why TeX /does/ open (or perhaps only try to open)
> d:/TeX/Live/2013/texmf-dist/tex/latex/tools/.tex ?
>
> Philip Taylor
>
>
probably this would help

http://tex.stackexchange.com/questions/62010/can-i-access-system-environment-variables-from-latex-for-instance-home/62039#62039

as for loading .tex I assume that's just because (a) the shell was never
called to expand environment variables and (b) I don't think you can have
a% in the filename in windows so you got the empty filename with .tex
appended... the latex tools directory has a .tex file exactly to catch that
kind of weirdness.

David
(is texlive really the right list for this?)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141006/382bc633/attachment-0001.html>

From reinhard.kotucha at web.de  Mon Oct  6 22:30:18 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 6 Oct 2014 22:30:18 +0200
Subject: [tex-live] TeX Live 2014
In-Reply-To: <54328E7B.5060302@Rhul.Ac.Uk>
References: <5432857F.1040709@Rhul.Ac.Uk>	<m3lhotxudq.fsf@example.com>
 <54328B3F.40409@Rhul.Ac.Uk>
 <CAC1phyaoUkz5FHbo=87fAeBxhxJZYUrJx-uSQ+uEJ_G8vo5B6g@mail.gmail.com>
 <54328E7B.5060302@Rhul.Ac.Uk>
Message-ID: <21554.64474.810942.542937@zaphod.ms25.net>

On 2014-10-06 at 13:43:39 +0100, Philip Taylor wrote:

 > Protected by ESET Nod-32 V7, Malware Bytes Pro and Spybot-SD.

Can you can confirm that it's possible to install TeX Live with all
the virus scanners mentioned above?

We know at least that Microsoft Security Essentials breaks TL
installations because it locks directories while scanning their
contents.  If the installer tries to write to a locked directory it
crashes with a "permission denied" error.

It's also known that Avira doesn't cause problems.

If anybody has experience with other virus scanners, let me know.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Mon Oct  6 22:48:31 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 21:48:31 +0100
Subject: [tex-live] Access to Windows environment variables from \input
In-Reply-To: <CAC1phyZ9ae4SWz7GQ6fOWNe0jXWvJfJ3mn+Tq2z617ix=SJ7xg@mail.gmail.com>
References: <029301cfdfca$5d966940$18c33bc0$@gmail.com>
 <54301986.4010107@Rhul.Ac.Uk>	<21552.33598.590117.371974@zaphod.ms25.net>
 <wo63mzv492el.dlg@nililand.de>	<5432EA3D.7080300@Rhul.Ac.Uk>
 <CAC1phyZ9ae4SWz7GQ6fOWNe0jXWvJfJ3mn+Tq2z617ix=SJ7xg@mail.gmail.com>
Message-ID: <5433001F.4000700@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> Environment variables are expanded by cmd.exe, not by I/O libraries.
> For these libraries % is just a character. You would have to call a
> system library for retrieving the environment variables. And the
> names of the environment variables are case sensitive and must be
> all uppercase. You can use set test=something and both echo %test%
> and echo %TEST% (and even echo %TesT%) will work because the
> conversion to uppercase will be done automatically by cmd.exe but it
> does not happen when called directly from your program. TEST will
> have the expected value while the value of test will be an empty
> string with no error message. TeX does not allow you to access
> environment variables but it might be possible by luatex (I do not
> know luatex, I just guess).

David Carlisle wrote:

> probably this would help
>
>
http://tex.stackexchange.com/questions/62010/can-i-access-system-environment-variables-from-latex-for-instance-home/62039#62039
>
> as for loading .tex I assume that's just because (a) the shell was
> never called to expand environment variables and (b) I don't think
> you can have a% in the filename in windows so you got the empty
> filename with .tex appended... the latex tools directory has a .tex
> file exactly to catch that kind of weirdness.
>
> David (is texlive really the right list for this?)

It was hard to know, whence it was sent both to TeXhax and to TeX-Live.

Thank you both for your replies; all clear, but I am very surprised 
that a directory under .../texmf-dist/tex/latex/ should be in my TeX 
input path; I can understand it being in a LaTeX input path, but in a 
TeX input path as well ?

** Phil.


From zdenek.wagner at gmail.com  Mon Oct  6 22:57:31 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 6 Oct 2014 22:57:31 +0200
Subject: [tex-live] Access to Windows environment variables from \input
In-Reply-To: <5433001F.4000700@Rhul.Ac.Uk>
References: <029301cfdfca$5d966940$18c33bc0$@gmail.com>
 <54301986.4010107@Rhul.Ac.Uk>	<21552.33598.590117.371974@zaphod.ms25.net>
 <wo63mzv492el.dlg@nililand.de>	<5432EA3D.7080300@Rhul.Ac.Uk>
 <CAC1phyZ9ae4SWz7GQ6fOWNe0jXWvJfJ3mn+Tq2z617ix=SJ7xg@mail.gmail.com>
 <5433001F.4000700@Rhul.Ac.Uk>
Message-ID: <CAC1phybbXeAUpOhpbbWJgCYasEtpqEQrJxE8697p=U44C4Hpiw@mail.gmail.com>

2014-10-06 22:48 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:
>
>
> Zdenek Wagner wrote:
>
>> Environment variables are expanded by cmd.exe, not by I/O libraries.
>> For these libraries % is just a character. You would have to call a
>> system library for retrieving the environment variables. And the
>> names of the environment variables are case sensitive and must be
>> all uppercase. You can use set test=something and both echo %test%
>> and echo %TEST% (and even echo %TesT%) will work because the
>> conversion to uppercase will be done automatically by cmd.exe but it
>> does not happen when called directly from your program. TEST will
>> have the expected value while the value of test will be an empty
>> string with no error message. TeX does not allow you to access
>> environment variables but it might be possible by luatex (I do not
>> know luatex, I just guess).
>
>
> David Carlisle wrote:
>
>> probably this would help
>>
>>
> http://tex.stackexchange.com/questions/62010/can-i-access-system-environment-variables-from-latex-for-instance-home/62039#62039
>>
>>
>> as for loading .tex I assume that's just because (a) the shell was
>> never called to expand environment variables and (b) I don't think
>> you can have a% in the filename in windows so you got the empty
>> filename with .tex appended... the latex tools directory has a .tex
>> file exactly to catch that kind of weirdness.
>>
>> David (is texlive really the right list for this?)
>
>
> It was hard to know, whence it was sent both to TeXhax and to TeX-Live.
>
> Thank you both for your replies; all clear, but I am very surprised that a
> directory under .../texmf-dist/tex/latex/ should be in my TeX input path; I
> can understand it being in a LaTeX input path, but in a TeX input path as
> well ?
>
I don't think so. There may be files with the same name for both plain
TeX and LaTeX (and for different engines). Therefore the default
TEXINPUT first contains the format/engine specific directories and
then tex with all its directories. If it happens that in plain TeX you
need a LaTeX specific file and the file of the same name is not found
in the plain TeX tree, it will finally be found in the LaTeX tree. It
need not be true in other TeX distributions but TeX Live has this
setting.

> ** Phil.
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at Rhul.Ac.Uk  Tue Oct  7 00:23:39 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 23:23:39 +0100
Subject: [tex-live] TeX Live 2014
In-Reply-To: <21555.3921.964413.180324@zaphod.ms25.net>
References: <5432857F.1040709@Rhul.Ac.Uk>	<m3lhotxudq.fsf@example.com>
 <54328B3F.40409@Rhul.Ac.Uk>
 <CAC1phyaoUkz5FHbo=87fAeBxhxJZYUrJx-uSQ+uEJ_G8vo5B6g@mail.gmail.com>
 <54328E7B.5060302@Rhul.Ac.Uk>	<21554.64474.810942.542937@zaphod.ms25.net>
 <5432FD7E.6090204@Rhul.Ac.Uk> <21555.3921.964413.180324@zaphod.ms25.net>
Message-ID: <5433166B.3010604@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> Sigh, Microsoft Security Essentials worked for you but another user
> told us that he had to turn it off while installing TeX Live.

Is it possible that he was performing a non-administrator installation ?

> BTW, IMO programs which scan the whole disk are useless because when
> they detect a virus, it's actualy too late.  It's more reliable to
> patch system calls like write() and obey everything written to the
> disk.  These scanners can react immediately and are more reliable.

I don't pretend to know into which of these categories any of my 
anti-malware/anti-virus programs fall, but I can say with confidence 
that I regularly get reports from both Nod-32 and from Malwarebytes 
Premium that they have prevented some illicit activity (I particularly 
like the fact that they prevent access to seemingly legitimate web 
sites, but they also catch nasties in downloads, etc).

Advance notice of a question to be posted tomorrow :

On my main machine, I run TeX Live in a VM with 3340Gb of memory. My 
main project at the moment relies on PDF image inclusion by XeTeX. 
Changing the "V" parameter from "5" to "6" in my local copy of 
"dvipdfmx.cfg" not only suppresses a large number of messages about 
"Version of PDF file is greater than ..." (one for each image file) but 
also speeds up compilation by a factor of about 10.

On this new machine, I have no VMs but I still have 4Gb of memory.  TeX 
Live 2014 does not whinge about "Version of PDF file is greater than 
..." with "V 5" in the default "dvipdfmx.cfg" (good) but increasing "V 
5" to "V 6" or even "V 7" makes no difference whatsoever to the 
compilation speed, which becomes depressingly slow as soon as the first 
image inclusion is encountered.

I will try to document this better tomorrow, but in the mean time can 
anyone think of any reason why TeX Live 2013 XeTeX should be able to 
process my document ten times faster than TeX Live 2014 so long as I 
increase "V 5" to "V 6" in a local copy of "dvipdfmx.cfg" whilst the 
latter makes no difference whatsoever in TeX Live 2014 ?

** Phil.

From d.p.carlisle at gmail.com  Tue Oct  7 00:41:51 2014
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 6 Oct 2014 23:41:51 +0100
Subject: [tex-live] Access to Windows environment variables from \input
In-Reply-To: <CAC1phybbXeAUpOhpbbWJgCYasEtpqEQrJxE8697p=U44C4Hpiw@mail.gmail.com>
References: <029301cfdfca$5d966940$18c33bc0$@gmail.com>
 <54301986.4010107@Rhul.Ac.Uk>	<21552.33598.590117.371974@zaphod.ms25.net>
 <wo63mzv492el.dlg@nililand.de>	<5432EA3D.7080300@Rhul.Ac.Uk>
 <CAC1phyZ9ae4SWz7GQ6fOWNe0jXWvJfJ3mn+Tq2z617ix=SJ7xg@mail.gmail.com>
 <5433001F.4000700@Rhul.Ac.Uk>
 <CAC1phybbXeAUpOhpbbWJgCYasEtpqEQrJxE8697p=U44C4Hpiw@mail.gmail.com>
Message-ID: <CAEW6iOh10SrTRQk9pgKjdEFjSfHuYnWBakKrDW8AA_J8_zMFnA@mail.gmail.com>

>
> Thank you both for your replies; all clear, but I am very surprised that a
> directory under .../texmf-dist/tex/latex/ should be in my TeX input path; I
> can understand it being in a LaTeX input path, but in a TeX input path as
> well ?
>

many latex packages (eg color or graphics) will work with plain, but they
don't work too well if they are not in the input path:-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141006/b589ccdc/attachment-0001.html>

From zdenek.wagner at gmail.com  Tue Oct  7 00:50:18 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 7 Oct 2014 00:50:18 +0200
Subject: [tex-live] Access to Windows environment variables from \input
In-Reply-To: <CAEW6iOh10SrTRQk9pgKjdEFjSfHuYnWBakKrDW8AA_J8_zMFnA@mail.gmail.com>
References: <029301cfdfca$5d966940$18c33bc0$@gmail.com>
 <54301986.4010107@Rhul.Ac.Uk>	<21552.33598.590117.371974@zaphod.ms25.net>
 <wo63mzv492el.dlg@nililand.de>	<5432EA3D.7080300@Rhul.Ac.Uk>
 <CAC1phyZ9ae4SWz7GQ6fOWNe0jXWvJfJ3mn+Tq2z617ix=SJ7xg@mail.gmail.com>
 <5433001F.4000700@Rhul.Ac.Uk>
 <CAC1phybbXeAUpOhpbbWJgCYasEtpqEQrJxE8697p=U44C4Hpiw@mail.gmail.com>
 <CAEW6iOh10SrTRQk9pgKjdEFjSfHuYnWBakKrDW8AA_J8_zMFnA@mail.gmail.com>
Message-ID: <CAC1phyYY4-0CxK=BOUBBM-R5kp5CsXsCrf9gK4K7hL14x1osvQ@mail.gmail.com>

2014-10-07 0:41 GMT+02:00 David Carlisle <d.p.carlisle at gmail.com>:
>> Thank you both for your replies; all clear, but I am very surprised that a
>> directory under .../texmf-dist/tex/latex/ should be in my TeX input path; I
>> can understand it being in a LaTeX input path, but in a TeX input path as
>> well ?
>
>
> many latex packages (eg color or graphics) will work with plain, but they
> don't work too well if they are not in the input path:-)

At least in TeX Live they are in the input path although
texmf-dist/tex/latex is not listed explicitely.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at Rhul.Ac.Uk  Tue Oct  7 00:59:22 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 6 Oct 2014 23:59:22 +0100
Subject: [tex-live] [XeTeX]  TeX Live 2014
In-Reply-To: <5433166B.3010604@Rhul.Ac.Uk>
References: <5432857F.1040709@Rhul.Ac.Uk>	<m3lhotxudq.fsf@example.com>
 <54328B3F.40409@Rhul.Ac.Uk>
 <CAC1phyaoUkz5FHbo=87fAeBxhxJZYUrJx-uSQ+uEJ_G8vo5B6g@mail.gmail.com>
 <54328E7B.5060302@Rhul.Ac.Uk>	<21554.64474.810942.542937@zaphod.ms25.net>
 <5432FD7E.6090204@Rhul.Ac.Uk> <21555.3921.964413.180324@zaphod.ms25.net>
 <5433166B.3010604@Rhul.Ac.Uk>
Message-ID: <54331ECA.3070903@Rhul.Ac.Uk>



Philip Taylor wrote:

> Advance notice of a question to be posted tomorrow :
>
> On my main machine, I run TeX Live in a VM with 3340Gb of memory. My
> main project at the moment relies on PDF image inclusion by XeTeX.
> Changing the "V" parameter from "5" to "6" in my local copy of
> "dvipdfmx.cfg" not only suppresses a large number of messages about
> "Version of PDF file is greater than ..." (one for each image file) but
> also speeds up compilation by a factor of about 10.
>
> On this new machine, I have no VMs but I still have 4Gb of memory.  TeX
> Live 2014 does not whinge about "Version of PDF file is greater than
> ..." with "V 5" in the default "dvipdfmx.cfg" (good) but increasing "V
> 5" to "V 6" or even "V 7" makes no difference whatsoever to the
> compilation speed, which becomes depressingly slow as soon as the first
> image inclusion is encountered.
>
> I will try to document this better tomorrow, but in the mean time can
> anyone think of any reason why TeX Live 2013 XeTeX should be able to
> process my document ten times faster than TeX Live 2014 so long as I
> increase "V 5" to "V 6" in a local copy of "dvipdfmx.cfg" whilst the
> latter makes no difference whatsoever in TeX Live 2014 ?

I think I now know the answer to this question.  It would seem that the 
TeX run-time system was unaware of the existence of a new instance of 
"dvipdfmx.cfg" in D:\TeX\Live\2014\TeXMF\Local\dvipdfmx and thus was not 
honouring it.  Thinking (wrongly) that the TeX run-time system 
maintained a database for the contents of TEXINPUTS (to which I had 
added the location of the image files, to overcome the lack of access to 
environment variables from a XeTeX \input statement), I ran the TeX Live 
manager and instructed it to "Update filename database"; once this was 
done, the speed-up expected from increasing "V 5" to "V 6" was 
immediately realised.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Tue Oct  7 09:33:14 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 7 Oct 2014 08:33:14 +0100
Subject: [tex-live] Seeming bugs in TeX Live 2014
Message-ID: <5433973A.1000207@Rhul.Ac.Uk>

1a) The qualifier "--gui" in :

	TLMGR --gui generate

is ignored; no GUI is launched, and a series of text diagnostics appear 
instead.  This contradicts the information given at 
https://www.tug.org/texlive/doc/tlmgr.html#OPTIONS.


1b) The qualifier "--gui" in :

	TLMGR --gui generate language

is ignored; no GUI is launched, and all actions take place on the 
commend line.


2) The scroll bar in the TLMGR GUI is dysfunctional; attempting to pull 
it downwards causes it to perversely rise upwards instead.


3) The TLMGR GUI action "Rebuild format files" gives no indication that 
it has completed successfully; the last line reads :

OK. xmltex.exe exists.              OK. pdfxmltex.exe exists.

whereas if it fails, tthe last lines read something along the lines of :

OK. xmltex.exe exists.              OK. pdfxmltex.exe exists.

I could not create 4 of format (base, mem) file(s):
luatex.fmt                          dviluatex.fmt
luajittex.fmt                       xetex.fmt

For details, see log file(s) in the dir(s) for fmt, base, or mem.
D:\TeX\Live\2014\bin\win32\runscript.tlu:652: command failed with exit 
code 1:
fmtutil --all

The absence of an error message cannot really be taken as conclusive 
evidence of successful completion, and the action "Update filenames 
database" gives a clear message that it has completed successfully :

mktexlsr: Done.


4) The TLMGR GUI fails to remember its physical size and divider 
positions across incarnations.

Philip Taylor

From daleif at math.au.dk  Tue Oct  7 09:43:21 2014
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 7 Oct 2014 07:43:21 +0000
Subject: [tex-live] Seeming bugs in TeX Live 2014
In-Reply-To: <5433973A.1000207@Rhul.Ac.Uk>
References: <5433973A.1000207@Rhul.Ac.Uk>
Message-ID: <89ECE88578D8F648A22E307DAEE885799EFEA351@SRVUNIMBX07.uni.au.dk>

that might be badly explained in the manual, but I do not think 

TLMGR --gui generate language

was ever meant to launch a gui. Like many other programmes tlmgr can do a lot more on the command line than via the gui.

So the fact that it ignores --gui in some of these cases are not surprising.

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Philip Taylor [P.Taylor at Rhul.Ac.Uk]
Sent: 07 October 2014 09:33
To: TeXLive Mailing List
Subject: [tex-live] Seeming bugs in TeX Live 2014

1a) The qualifier "--gui" in :

        TLMGR --gui generate

is ignored; no GUI is launched, and a series of text diagnostics appear
instead.  This contradicts the information given at
https://www.tug.org/texlive/doc/tlmgr.html#OPTIONS.


1b) The qualifier "--gui" in :

        TLMGR --gui generate language

is ignored; no GUI is launched, and all actions take place on the
commend line.


2) The scroll bar in the TLMGR GUI is dysfunctional; attempting to pull
it downwards causes it to perversely rise upwards instead.


3) The TLMGR GUI action "Rebuild format files" gives no indication that
it has completed successfully; the last line reads :

OK. xmltex.exe exists.              OK. pdfxmltex.exe exists.

whereas if it fails, tthe last lines read something along the lines of :

OK. xmltex.exe exists.              OK. pdfxmltex.exe exists.

I could not create 4 of format (base, mem) file(s):
luatex.fmt                          dviluatex.fmt
luajittex.fmt                       xetex.fmt

For details, see log file(s) in the dir(s) for fmt, base, or mem.
D:\TeX\Live\2014\bin\win32\runscript.tlu:652: command failed with exit
code 1:
fmtutil --all

The absence of an error message cannot really be taken as conclusive
evidence of successful completion, and the action "Update filenames
database" gives a clear message that it has completed successfully :

mktexlsr: Done.


4) The TLMGR GUI fails to remember its physical size and divider
positions across incarnations.

Philip Taylor


From preining at logic.at  Tue Oct  7 09:44:12 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 7 Oct 2014 16:44:12 +0900
Subject: [tex-live] Seeming bugs in TeX Live 2014
In-Reply-To: <5433973A.1000207@Rhul.Ac.Uk>
References: <5433973A.1000207@Rhul.Ac.Uk>
Message-ID: <20141007074412.GB24385@auth.logic.tuwien.ac.at>

Hi Philip,

On Tue, 07 Oct 2014, Philip Taylor wrote:
> 1a) The qualifier "--gui" in :
> 
> 	TLMGR --gui generate
> 
> is ignored; no GUI is launched, and a series of text diagnostics

Yes, because --gui is just there for backward compatibility. The
correct way is
	tlmgr gui
there is *no* support for mixing the actions from command line
with --gui.

> 1b) The qualifier "--gui" in :

Same

> 2) The scroll bar in the TLMGR GUI is dysfunctional; attempting to
> pull it downwards causes it to perversely rise upwards instead.

Which scroll bar? THere are at least three.

> 3) The TLMGR GUI action "Rebuild format files" gives no indication
> that it has completed successfully; the last line reads :

Ok, that might be fixed in the future .. might!

> 4) The TLMGR GUI fails to remember its physical size and divider
> positions across incarnations.

Yes, known. But I have no intention to write support for this.

Please, anyone is invited to contributed patches to the perl/tk code!

All the best

Norbert


------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Tue Oct  7 10:07:50 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 7 Oct 2014 09:07:50 +0100
Subject: [tex-live] Seeming bugs in TeX Live 2014
In-Reply-To: <20141007074412.GB24385@auth.logic.tuwien.ac.at>
References: <5433973A.1000207@Rhul.Ac.Uk>
 <20141007074412.GB24385@auth.logic.tuwien.ac.at>
Message-ID: <54339F56.6050003@Rhul.Ac.Uk>

Hallo Norbert and LOarse -- Many thanks for your very speedy responses.
All noted.

>> 2) The scroll bar in the TLMGR GUI is dysfunctional; attempting to
>> pull it downwards causes it to perversely rise upwards instead.
>
> Which scroll bar? THere are at least three.

The one for the log window, which is very long for "Rebuild format files".

** Phil.

From dluecking at sbcglobal.net  Wed Oct  8 21:50:02 2014
From: dluecking at sbcglobal.net (Dan Luecking)
Date: Wed, 8 Oct 2014 14:50:02 -0500
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010]  (kpathsea + Thai support)
Message-ID: <200005.33132.bm@smtp113.sbc.mail.ne1.yahoo.com>

Fri, Oct 3, 2014, Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:

>Lars Madsen wrote:
>
> > In one project I've masked the index programme (xindy) to enclose the
> > entire word part of the index in a special purpose macro. That works
> > rather nicely.
>
>Indeed; and if I could find the real documentation for .ist files I
>might be able to do likewise for Makeindex,

A true documentation of .ist file format (one that includes
examples and their output) seems still to be written, but I
have found the man page to be sufficient (with a little
trial and error) for my purposes. In Windows TeX Live 2014
this can be found at
   [TeXLive2014]\texmf-dist\doc\man\man1\makeindex.man1.pdf
(replacing [TeXLive2014] with the appropriate root of your
TeX Live tree). See section "Style File", pages 2--5.

Older versions of makeindex (pre 1996(?)) are similarly documented by
two tables in [TeXLive\2014]\texmf-dist\doc\support\makeindex\ind.pdf
Given that very few are likely to have a makeindex from the last century,
someone ought to update ind.pdf.

Cheers,

Dan


Daniel H. Luecking
Department of Mathematical Sciences
Fayetteville, Arkansas
http://www-cs-faculty.stanford.edu/~knuth/iaq.html 


From P.Taylor at Rhul.Ac.Uk  Wed Oct  8 23:09:43 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 8 Oct 2014 22:09:43 +0100
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010]  (kpathsea + Thai support)
In-Reply-To: <200005.33132.bm@smtp113.sbc.mail.ne1.yahoo.com>
References: <200005.33132.bm@smtp113.sbc.mail.ne1.yahoo.com>
Message-ID: <5435A817.3080505@Rhul.Ac.Uk>



Dan Luecking wrote:

> A true documentation of .ist file format (one that includes
> examples and their output) seems still to be written, but I
> have found the man page to be sufficient (with a little
> trial and error) for my purposes.

Indeed.  Very comprehensive, Dan.  Thank you very much.
** Phil.

From karl at freefriends.org  Wed Oct  8 23:39:41 2014
From: karl at freefriends.org (Karl Berry)
Date: Wed, 8 Oct 2014 21:39:41 +0000
Subject: [tex-live] Makeindex,
 version 2.15 [TeX Live 2010]  (kpathsea + Thai support)
In-Reply-To: <200005.33132.bm@smtp113.sbc.mail.ne1.yahoo.com>
Message-ID: <201410082139.s98LdfmE019625@freefriends.org>

    someone ought to update ind.pdf.

Would you be willing to be the "someone", Dan?
Just thought I'd ask.

Thanks,
Karl

From preining at logic.at  Thu Oct  9 14:49:53 2014
From: preining at logic.at (Norbert Preining)
Date: Thu, 9 Oct 2014 21:49:53 +0900
Subject: [tex-live] Bug#764122: MnSymbol and new[tp]x shouldn't be in
 the texlive-fonts-extra ghetto
In-Reply-To: <8738b2o8rp.wl-jch@pps.univ-paris-diderot.fr>
References: <8738b2o8rp.wl-jch@pps.univ-paris-diderot.fr>
Message-ID: <20141009124953.GC1840@auth.logic.tuwien.ac.at>

Hi everyone at tl,

we got a bug report down here at Debian suggestion to move
newtx and newpx to a different collection. As I follow upstream
TeX Live in this respect, I forward it to the list.

Please Cc your answers to the included Ccs.

On Sun, 05 Oct 2014, Juliusz Chroboczek wrote:
> So here I am, writing my lecture notes on a machine on which I don't
> usually TeX.  My personal format fails with an error about MnSymbol not
> found, so I do
> 
>   $ apt-cache search mnsymbol
>   texlive-fonts-extra - TeX Live: Additional fonts
> 
> Ouch.  200MB download, 600MB disk space.
> 
> Norbert, there are three font packages that are very useful when you're
> trying to work around the lack of maths fonts -- these are newtx, newpx
> and MnSymbol.  I really think they should be extracted from the
> texlive-fonts-extra ghetto.

Thanks

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Thu Oct  9 15:00:18 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 9 Oct 2014 14:00:18 +0100
Subject: [tex-live] Bug#764122: MnSymbol and new[tp]x shouldn't be in
 the texlive-fonts-extra ghetto
In-Reply-To: <20141009124953.GC1840@auth.logic.tuwien.ac.at>
References: <8738b2o8rp.wl-jch@pps.univ-paris-diderot.fr>
 <20141009124953.GC1840@auth.logic.tuwien.ac.at>
Message-ID: <543686E2.6050300@Rhul.Ac.Uk>

In 2014, 200MB is noise level.  I can see no reason whatsoever to factor
out some subset of this.

Philip Taylor

From d.p.carlisle at gmail.com  Thu Oct  9 21:59:59 2014
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 9 Oct 2014 20:59:59 +0100
Subject: [tex-live] biber (not) in cygwin x86_64 ?
Message-ID: <CAEW6iOgfc=EdGb6vK5LZBqdYWAkEvaM=Qg-a7NutVKdSL51DqA@mail.gmail.com>

I just noticed that I don't have biber since switching to cygwin x64.

Is that not available or have I managed to get a partial install somehow?

David


$ tlmgr list biber

package:     biber
category:    Package
shortdesc:   A BibTeX replacement for users of biblatex.
longdesc:    Biber is a BibTeX replacement for users of biblatex. Biber
supports full UTF-8, can (re)-encode input and output, supports highly
configurable sorting, dynamic bibliography sets and many other features.
The CTAN distribution offers a compressed tar archive of the sources, etc.,
together with "binary" distributions for a variety of platforms. Note: on
SourceForge biber is formally named "biblatex-biber", to distinguish it
from an earlier (now apparently moribund) project called "biber".
installed:   Yes
revision:    34822
tlmgr: cannot find depending packagebiber.x86_64-cygwin
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sizes:       src: 2141k, doc: 337k
relocatable: No
cat-version: 1.9
cat-date:    2014-05-27 19:56:02 +0200
cat-license: artistic
collection:  collection-bibtexextra



$ type bibtex
bibtex is /usr/local/texlive/2014/bin/x86_64-cygwin/bibtex


$ type biber
bash: type: biber: not found
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141009/020d09af/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Thu Oct  9 22:34:43 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 9 Oct 2014 21:34:43 +0100
Subject: [tex-live] Can a definition in user-space "texmf.cnf" reference the
 same definition in system space ?
In-Reply-To: <CAEW6iOgfc=EdGb6vK5LZBqdYWAkEvaM=Qg-a7NutVKdSL51DqA@mail.gmail.com>
References: <CAEW6iOgfc=EdGb6vK5LZBqdYWAkEvaM=Qg-a7NutVKdSL51DqA@mail.gmail.com>
Message-ID: <5436F163.2060302@Rhul.Ac.Uk>

In order to allow a Dropbox-based TeX suite to find the images it
requires on different systems with different Dropbox locations, I have
manually tweaked user-space "texmf.cnf" to re-define TEXINPUTS.xetex to
include a sub-directory of my Dropbox folder.  However, in order to
avoid diagnostics from the run-time system I have had to manually copy
the value from system-space "texmf.cnf" into my user-space variant.

What I would /like/ to do is simply reference the system-space
definition, but the following :

	 TEXINPUTS.xetex =
$TEXINPUTS.xetex;D:\Users\Chaa006\AppData\Local\Dropbox\LPL\Catalogue\Images\Complete\PDF\Embedded

leads to the following diagnostic from the run-time system :

	warning: kpathsea: variable `TEXINPUTS' references itself (eventually).

and to overcome this I have to modify the above to :

	TEXINPUTS.xetex =
.;$TEXMF/tex/{plain,generic,}//;D:\Users\Chaa006\AppData\Local\Dropbox\LPL\Catalogue\Images\Complete\PDF\Embedded

Is there any supported way of referencing the system-space value of the
name as opposed to simply copying the value and appending ?

Philip Taylor

From kbrow1i at gmail.com  Thu Oct  9 22:48:14 2014
From: kbrow1i at gmail.com (Ken Brown)
Date: Thu, 9 Oct 2014 16:48:14 -0400
Subject: [tex-live] biber (not) in cygwin x86_64 ?
In-Reply-To: <CAEW6iOgfc=EdGb6vK5LZBqdYWAkEvaM=Qg-a7NutVKdSL51DqA@mail.gmail.com>
References: <CAEW6iOgfc=EdGb6vK5LZBqdYWAkEvaM=Qg-a7NutVKdSL51DqA@mail.gmail.com>
Message-ID: <5436F48E.7080301@gmail.com>

On 10/9/2014 3:59 PM, David Carlisle wrote:
>
> I just noticed that I don't have biber since switching to cygwin x64.
>
> Is that not available or have I managed to get a partial install somehow?

It's not available.  The last time I checked with Philip Kime, who builds biber 
for 32-bit Cygwin, he didn't have a 64-bit Cygwin environment set up.  That was 
more than a year ago; maybe things have changed.

But I package biber for 64-bit Cygwin as a standalone package, treating it just 
as a Perl script.  If that doesn't work for you for some reason, please report 
any problems on the Cygwin list.

Ken


From karl at freefriends.org  Thu Oct  9 23:22:50 2014
From: karl at freefriends.org (Karl Berry)
Date: Thu, 9 Oct 2014 21:22:50 +0000
Subject: [tex-live] Bug#764122: MnSymbol and new[tp]x shouldn't be in
 the texlive-fonts-extra ghetto
In-Reply-To: <20141009124953.GC1840@auth.logic.tuwien.ac.at>
Message-ID: <201410092122.s99LMoog001173@freefriends.org>

Do what you want in Debian, of course.  (Do you exactly 100% follow the
TL collection constituents now?)

For TL, I see that c-fontsrecommended has txfonts and pxfonts.  Perhaps
I should exchange those with the newtx and newpx in extra, but I'm not
sure.  I have a feeling that an awful lot of documents use the original
*xfonts and it would just create needless churn.  Michael (Sharpe), do
you have an opinion here?

I don't want to just randomly add things to c-fontsrecommended.

karl


From kbrow1i at gmail.com  Thu Oct  9 23:36:41 2014
From: kbrow1i at gmail.com (Ken Brown)
Date: Thu, 9 Oct 2014 17:36:41 -0400
Subject: [tex-live] biber (not) in cygwin x86_64 ?
In-Reply-To: <BD7512B1-581E-46E9-8C7F-BA94F57436D2@kime.org.uk>
References: <CAEW6iOgfc=EdGb6vK5LZBqdYWAkEvaM=Qg-a7NutVKdSL51DqA@mail.gmail.com>
 <5436F48E.7080301@gmail.com>
 <BD7512B1-581E-46E9-8C7F-BA94F57436D2@kime.org.uk>
Message-ID: <5436FFE9.2010709@gmail.com>

On 10/9/2014 5:33 PM, Kime Philip wrote:
> I have no specific 64-bit build - does the 32-bit one not work on 64-bit cygwin?

No, executables for one architecture won't run on the other.

Ken

From preining at logic.at  Fri Oct 10 01:01:25 2014
From: preining at logic.at (Norbert Preining)
Date: Fri, 10 Oct 2014 08:01:25 +0900
Subject: [tex-live] Bug#764122: Bug#764122: MnSymbol and new[tp]x
 shouldn't be in the texlive-fonts-extra ghetto
In-Reply-To: <201410092122.s99LMoog001173@freefriends.org>
References: <20141009124953.GC1840@auth.logic.tuwien.ac.at>
 <201410092122.s99LMoog001173@freefriends.org>
Message-ID: <20141009230125.GG1840@auth.logic.tuwien.ac.at>

On Thu, 09 Oct 2014, Karl Berry wrote:
> Do what you want in Debian, of course.  (Do you exactly 100% follow the
> TL collection constituents now?)

Yes, we follow it 100% (besides leaving out a few packages that
are packaged separately).

> I don't want to just randomly add things to c-fontsrecommended.

I agree. Only if there is good reason.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From karl at freefriends.org  Sat Oct 11 00:00:55 2014
From: karl at freefriends.org (Karl Berry)
Date: Fri, 10 Oct 2014 22:00:55 +0000
Subject: [tex-live] Bug#764122: MnSymbol and new[tp]x shouldn't be in
	the texlive-fonts-extra ghetto
In-Reply-To: <87lhoorgvk.wl-jch@pps.univ-paris-diderot.fr>
Message-ID: <201410102200.s9AM0tOe013921@freefriends.org>

Hi Juliusz,

    What about mnsymbol?  It's a fairly small package, and is a simple,
    hassle-free way to get a bunch of mathematical symbols that blend
    relatively well with many common fonts

I guess I don't have any overwhelming argument against it, but it would
be nice if I had a note from at least one other user that moving it from
one collection to the other would be a practical benefit.

My general feeling is that for pretty much any package X in a
collection C, there is an argument that it should be in collection C2
instead.  So in self-defense, I try to be conservative in such moves.

Best,
Karl

From reinhard.kotucha at web.de  Sat Oct 11 02:31:30 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 11 Oct 2014 02:31:30 +0200
Subject: [tex-live] Bug#764122: MnSymbol and new[tp]x shouldn't be in
 the texlive-fonts-extra ghetto
In-Reply-To: <201410102200.s9AM0tOe013921@freefriends.org>
References: <87lhoorgvk.wl-jch@pps.univ-paris-diderot.fr>
 <201410102200.s9AM0tOe013921@freefriends.org>
Message-ID: <21560.31330.37495.533104@zaphod.ms25.net>

On 2014-10-10 at 22:00:55 +0000, Karl Berry wrote:

 > Hi Juliusz,
 > 
 >     What about mnsymbol?  It's a fairly small package, and is a
 >     simple, hassle-free way to get a bunch of mathematical symbols
 >     that blend relatively well with many common fonts
 > 
 > I guess I don't have any overwhelming argument against it, but it
 > would be nice if I had a note from at least one other user that
 > moving it from one collection to the other would be a practical
 > benefit.
 > 
 > My general feeling is that for pretty much any package X in a
 > collection C, there is an argument that it should be in collection
 > C2 instead.  So in self-defense, I try to be conservative in such
 > moves.

IMO mnsymbol should be part of the collection containing all the other
math symbol fonts.  Whether it should be in texlive-fonts-extra or
in texlive-fonts-recommended is another thing.  But all math symbol
fonts should be in one and the same collection.  Otherwise the concept
of collections doesn't make sense anymore.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From bruno.voisin at legi.cnrs.fr  Tue Oct 14 18:58:08 2014
From: bruno.voisin at legi.cnrs.fr (Bruno Voisin)
Date: Tue, 14 Oct 2014 18:58:08 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
 apparently broken in fontspec
Message-ID: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>

Hello,

The following issue comes from the Lucida list, in relation to the creation of .fontspec config files for loading the fonts by file name without having to tediously specify each time the file names of the bold, italic and bold italic fonts.

It turns out the problem does not seem to lie there, and lies instead in the BoldFont feature key being apparently broken, along with several keys (like Path, ExternalLocation, Extension, ...) implemented through

\__fontspec_keys_define_code:nnn {fontspec-preparse-external}

A (more-or-less) minimal test file:

\documentclass[12pt]{article}
\usepackage[dvipsnames]{xcolor}
\usepackage{fontspec}
\setlength{\parindent}{0pt}
\begin{document}
\defaultfontfeatures[texgyreadventor-regular.otf]
 {
  Color=Blue,   
%   BoldFont=texgyreadventor-bold.otf
 }
\setmainfont{texgyreadventor-regular.otf}
Roman text.\par
\textbf{Bold text}\par
\textit{Italic text.}\par
\textbf{\textit{Bold italic text.}}
\end{document}

As is, it produces blue text as intended, with none of the bold and italic switches taken into account. If the line attempting to specify the BoldFont is uncommented, an error pops up

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!
./Last-Test.tex:11: LaTeX error: "kernel/key-unknown"
! 
! The key 'fontspec/BoldFont' is unknown and is being ignored.
! 
! See the LaTeX3 documentation for further information.
! 
! For immediate help type H <return>.
!............................................... 

Unfortunately, my LaTeX3 skills are non-existent, hence I cannot offer an analysis what's wrong with fontspec-preparse-external. I tried to create an issue at <https://github.com/wspr/fontspec/>, but that seems to require a login and I have none. Hence I'm switching to here, hoping this is the right place.

Cheers,

===================================================
Bruno Voisin
LEGI, BP 53, 38041 Grenoble Cedex 9, France
bruno.voisin at legi.cnrs.fr / bvoisin at icloud.com
www.legi.cnrs.fr/people/Bruno.Voisin/english.html
www.legi.cnrs.fr/web/spip.php?auteur50&lang=en
===================================================



From kakuto at fuk.kindai.ac.jp  Wed Oct 15 01:21:41 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 15 Oct 2014 08:21:41 +0900
Subject: [tex-live] Font features linked with fontspec-preparse-external
	apparently broken in fontspec
In-Reply-To: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
Message-ID: <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>

Dear Bruno Voisin,

> The following issue comes from the Lucida list, in relation to the creation of .
> fontspec config files for loading the fonts by file name without having to
> tediously specify each time the file names of the bold, italic and bold italic fonts.

Maybe a solution is:

\documentclass[12pt]{article}
\usepackage[dvipsnames]{xcolor}
\usepackage{fontspec}
\setlength{\parindent}{0pt}
\setmainfont[Color=Blue,%
BoldFont={[texgyreadventor-bold.otf]},%
ItalicFont={[texgyreadventor-italic.otf]},%
BoldItalicFont={[texgyreadventor-bolditalic.otf]}]%
{[texgyreadventor-regular.otf]}
\begin{document}
Roman text.\par
\textbf{Bold text}\par
\textit{Italic text.}\par
\textbf{\textit{Bold italic text.}}
\end{document}

If you use a font name, it is simpler:

\documentclass[12pt]{article}
\usepackage[dvipsnames]{xcolor}
\usepackage{fontspec}
\setlength{\parindent}{0pt}
\setmainfont[Color=Blue]{TeX Gyre Adventor}
\begin{document}
Roman text.\par
\textbf{Bold text}\par
\textit{Italic text.}\par
\textbf{\textit{Bold italic text.}}
\end{document}

Best,
Akira


From bruno.voisin at legi.cnrs.fr  Wed Oct 15 06:49:32 2014
From: bruno.voisin at legi.cnrs.fr (Bruno Voisin)
Date: Wed, 15 Oct 2014 06:49:32 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
	apparently broken in fontspec
In-Reply-To: <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
Message-ID: <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>

> Le 15 oct. 2014 ? 01:21, Akira Kakuto <kakuto at fuk.kindai.ac.jp> a ?crit :
> 
> Maybe a solution is:
> 
> [...]
> \setmainfont[Color=Blue,%
> BoldFont={[texgyreadventor-bold.otf]},%
> ItalicFont={[texgyreadventor-italic.otf]},%
> BoldItalicFont={[texgyreadventor-bolditalic.otf]}]%
> {[texgyreadventor-regular.otf]}
> [...]
> 
> If you use a font name, it is simpler:
> 
> [...]
> \setmainfont[Color=Blue]{TeX Gyre Adventor}
> [...]

Dear Akira,

Thanks for this. I should have provided more background: calling fonts by name is indeed the simplest, it works with LuaLaTeX whether the fonts are installed at the OS level or in the texmf trees, but with XeLaTeX only when the fonts are installed at the OS level.

Hence the idea was to create .fontspec config files shipped with the Lucida OpenType fonts, such that a user, not willing to install them at the OS level, could simply call LucidaBrightOT.otf say without having to specify explicitly the associated Bold/Italic/BoldItalic fonts.

Here's what Will Robertson wrote at the time fontspec v2.4 was beta-tested (on the MacTeX list), regarding the new config file mechanism:

"Its intended use is to help fonts from CTAN so they can be set up easily, since in XeTeX you have to specify bold, etc., for all fonts loaded by filename."

Based on the fontspec doc, this should work writing a file LucidaBrightOT.fontspec say containing

\defaultfontfeatures[LucidaBrightOT]
  {
   Extension = .otf,
   BoldFont = LucidaBrightOT-Demi,
   ItalicFont = LucidaBrightOT-Italic,
   BoldItalicFont = LucidaBrightOT-DemiItalic
  }

and then calling the font in a XeLaTeX/LuaLaTeX document via either

\setmainfont{Lucida Bright OT}
\setmainfont{LucidaBrightOT}

Except it doesn't: there are error messages about the Extension, BoldFont, etc. keys being unknown.

Looking closer, it seems \defaultfontfeatures doesn't accept keys defined through fontspec-preparse-external in fontspec-{xetex,luatex}.sty, such as Extension/BoldFont/ItalicFont/BoldItalicFont/Path/ExternalLocation. I think this is a fontspec bug, but couldn't get any confirmation so far.

My mistake largely: as a beta-tester of fontspec v2.4 I should have caught this by then, but didn't, and now Will's probably busy with other stuff.

Bruno





From news3 at nililand.de  Wed Oct 15 10:28:46 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 15 Oct 2014 10:28:46 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
	apparently broken in fontspec
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
 <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>
Message-ID: <1g4oi04oj0ysc$.dlg@nililand.de>

Am Wed, 15 Oct 2014 06:49:32 +0200 schrieb Bruno Voisin:


> Thanks for this. I should have provided more background: calling
> fonts by name is indeed the simplest, it works with LuaLaTeX
> whether the fonts are installed at the OS level or in the texmf
> trees, but with XeLaTeX only when the fonts are installed at the
> OS level.

I can without problem call fonts installed in the texmf tree by
names in windows. 

 
> Based on the fontspec doc, this should work writing a file LucidaBrightOT.fontspec say containing
> 
> \defaultfontfeatures[LucidaBrightOT]
>   {
>    Extension = .otf,
>    BoldFont = LucidaBrightOT-Demi,
>    ItalicFont = LucidaBrightOT-Italic,
>    BoldItalicFont = LucidaBrightOT-DemiItalic
>   }
> 
> and then calling the font in a XeLaTeX/LuaLaTeX document via either
> 
> \setmainfont{Lucida Bright OT}
> \setmainfont{LucidaBrightOT}
 
> Except it doesn't: there are error messages about the Extension,
> BoldFont, etc. keys being unknown.
 
> Looking closer, it seems \defaultfontfeatures doesn't accept keys
> defined through fontspec-preparse-external in
> fontspec-{xetex,luatex}.sty, such as
> Extension/BoldFont/ItalicFont/BoldItalicFont/Path/ExternalLocation.
> I think this is a fontspec bug, but couldn't get any confirmation
> so far.

It works if one use a symbolic name like \rmfamily:

\documentclass[12pt]{article}
\usepackage[dvipsnames]{xcolor}
\usepackage{fontspec}
\setlength{\parindent}{0pt}
\begin{document}

\defaultfontfeatures[\rmfamily]
%\defaultfontfeatures[texgyreadventor-regular.otf]
 {
  Color=Blue,
  BoldFont={texgyreadventor-bold.otf},
  ItalicFont={texgyreadventor-italic.otf},%
  BoldItalicFont={texgyreadventor-bolditalic.otf}%
 }
\setmainfont{texgyreadventor-regular.otf}


Roman text.\par
\textbf{Bold text}\par
\textit{Italic text.}\par
\textbf{\textit{Bold italic text.}}
\end{document}


I don't have the time currently to really look at it, but imho there
is some confusing between "(single) font" and "family". 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at fuk.kindai.ac.jp  Wed Oct 15 11:18:45 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 15 Oct 2014 18:18:45 +0900
Subject: [tex-live] Font features linked with
	fontspec-preparse-externalapparently broken in fontspec
In-Reply-To: <1g4oi04oj0ysc$.dlg@nililand.de>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
 <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>
 <1g4oi04oj0ysc$.dlg@nililand.de>
Message-ID: <C01257D8C591430F849BBEEA036145C0@CJ3001517A>

Dear Bruno,

> It works if one use a symbolic name like \rmfamily:

The manual seems to say that another correct usage is:

\documentclass[12pt]{article}
\usepackage[dvipsnames]{xcolor}
\usepackage{fontspec}
\setlength{\parindent}{0pt}
\begin{document}

\defaultfontfeatures[myfont]
{
  Extension=.otf,
  Color=Blue,
  UprightFont=texgyreadventor-regular,
  BoldFont=texgyreadventor-bold,
  ItalicFont=texgyreadventor-italic,
  BoldItalicFont=texgyreadventor-bolditalic
}
\setmainfont{myfont}

Roman text.\par
\textbf{Bold text}\par
\textit{Italic text.}\par
\textbf{\textit{Bold italic text.}}
\end{document}

Best,
Akira


From P.Taylor at Rhul.Ac.Uk  Wed Oct 15 11:31:39 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 15 Oct 2014 10:31:39 +0100
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
In-Reply-To: <542E9A59.7080802@Rhul.Ac.Uk>
References: <542E8EAF.6050202@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>,
 <CAC1phyaK9wQ_Z5Ms-8LxNqyoqxUFZNn9Bk4hQ83ahBu4Xedhew@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE9118@SRVUNIMBX07.uni.au.dk>
 <4155F024475C45EA8CF69CE1417EA651@CJ3001517A> <542E9A59.7080802@Rhul.Ac.Uk>
Message-ID: <543E3EFB.1080202@Rhul.Ac.Uk>

Dear Akira-san :  I see you are active today, so I wonder whether you 
received my earlier message (below) and if you are able to offer any
further advice ?

Philip Taylor
--------
Philip Taylor wrote:
>
>
> Akira Kakuto wrote:
>
>> I think the texdoc on windows launches a pdf viewer by
>>
>> start "texdoc pdf viewer"
>> D:\TeX\Live\2013\texmf-dist\doc\support\makeindex\makeindex.pdf
>>
>> Does the command work on the command line?
>
> It does indeed (took me completely by surprise) !  Does that help in
> tracking down the problem, Akira-san ?
>
> Philip Taylor
>

From bruno.voisin at legi.cnrs.fr  Wed Oct 15 11:49:01 2014
From: bruno.voisin at legi.cnrs.fr (Bruno Voisin)
Date: Wed, 15 Oct 2014 11:49:01 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
	apparently broken in fontspec
In-Reply-To: <6E5C5C2B38DA44448AE934F5E00DDDED@CJ3001517A>
References: <6E5C5C2B38DA44448AE934F5E00DDDED@CJ3001517A>
Message-ID: <2C8798FD-F3BD-4475-B84F-112239940FCB@legi.cnrs.fr>

> Le 15 oct. 2014 ? 06:40, Akira Kakuto <kakuto at fuk.kindai.ac.jp> a ?crit :
> 
> It looks like I wrote on an unrelated issue, sorry.

Not at all: you actually gave the key towards the solution of the problem.

After more trial-and-error, it turns out everything works provided the font names are included in brackets, like in your example, with or without the .otf extension, and either in full or as shorthands like *-Demi. So both

\defaultfontfeatures[LucidaBrightOT]
  {
   UprightFont = [LucidaBrightOT.otf],
   BoldFont = [LucidaBrightOT-Demi.otf],
   ItalicFont = [LucidaBrightOT-Italic.otf],
   BoldItalicFont = [LucidaBrightOT-DemiItalic.otf]
  }

and

\defaultfontfeatures[LucidaBrightOT]
  {
   UprightFont = [LucidaBrightOT],
   BoldFont = [LucidaBrightOT-Demi],
   ItalicFont = [LucidaBrightOT-Italic],
   BoldItalicFont = [LucidaBrightOT-DemiItalic]
  }

in a file LucidaBrightOT.fontspec work, allowing the user to just write either of

\setmainfont{Lucida Bright OT}
\setmainfont{LucidaBrightOT}

in her/his LaTeX file. The abbreviated version

\defaultfontfeatures[LucidaBrightOT]
  {
   UprightFont = [LucidaBrightOT],
   BoldFont = [*-Demi],
   ItalicFont = [*-Italic],
   BoldItalicFont = [*-DemiItalic]
  }

also works, but only with

\setmainfont{LucidaBrightOT}

This makes sense according to luaotfload.pdf and xetex-reference.pdf, but it's not in the fontspec doc, and as far as I remember it wasn't necessary before v2.4.

Thanks again for your help,

Bruno




From kakuto at fuk.kindai.ac.jp  Wed Oct 15 12:11:47 2014
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 15 Oct 2014 19:11:47 +0900
Subject: [tex-live] Debugging TeXdoc on Windows (TeX Live 2013)
In-Reply-To: <543E3EFB.1080202@Rhul.Ac.Uk>
References: <542E8EAF.6050202@Rhul.Ac.Uk>
 <89ECE88578D8F648A22E307DAEE885799EFE90A6@SRVUNIMBX07.uni.au.dk>,
 <CAC1phyaK9wQ_Z5Ms-8LxNqyoqxUFZNn9Bk4hQ83ahBu4Xedhew@mail.gmail.com>
 <89ECE88578D8F648A22E307DAEE885799EFE9118@SRVUNIMBX07.uni.au.dk>
 <4155F024475C45EA8CF69CE1417EA651@CJ3001517A> <542E9A59.7080802@Rhul.Ac.Uk>
 <543E3EFB.1080202@Rhul.Ac.Uk>
Message-ID: <1E7736C37C6241A691ADF83CA15505CF@CJ3001517A>

Dear Philip,

> Dear Akira-san :  I see you are active today, so I wonder whether you 
> received my earlier message (below) and if you are able to offer any
> further advice ?

No, I cannot understand why the texdoc command does
not work properly. Actual scripts are in
a directory $TEXMFDIST/scripts/texdoc.
Viewers are defined in config.tlu.
The command texdoc.exe actually runs like

texlua $TEXMFDIST/scripts/texdoc/texdoc.tlu ... ...
($TEXMFDIST should be replaced by the real path.
In your case, it may be
$TEXMFDIST ---> d:/tex/live/2013/texmf-dist
)

For example,
texdoc fontspec
is almost equal to
texlua $TEXMFDIST/scripts/texdoc/texdoc.tlu fontspec

Thanks,
Akira


From news3 at nililand.de  Wed Oct 15 12:37:15 2014
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 15 Oct 2014 12:37:15 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
	apparently broken in fontspec
References: <6E5C5C2B38DA44448AE934F5E00DDDED@CJ3001517A>
 <2C8798FD-F3BD-4475-B84F-112239940FCB@legi.cnrs.fr>
Message-ID: <1pl38lhhzm1fg.dlg@nililand.de>

Am Wed, 15 Oct 2014 11:49:01 +0200 schrieb Bruno Voisin:

> After more trial-and-error, it turns out everything works provided
> the font names are included in brackets, 

I don't think that the brackets are the main point: You are now
using in the \setmainfont command an alias (family! not font!) name,
and setup the upright font also in the \defaultfontfeature. 

> \defaultfontfeatures[LucidaBrightOT]
>   {
>    UprightFont = [LucidaBrightOT.otf],
>    BoldFont = [LucidaBrightOT-Demi.otf],
>    ItalicFont = [LucidaBrightOT-Italic.otf],
>    BoldItalicFont = [LucidaBrightOT-DemiItalic.otf]
>   }
> 

It works for me also without brackets if I use the ExternalLocation
key:

%in myfam.fontspec and called as \setmainfont{myfam}

\defaultfontfeatures[myfam]
{
  Extension=.otf, %not needed but doesn't do harm here
  ExternalLocation,
  Color=Blue,
  UprightFont=texgyreadventor-regular,
  BoldFont=texgyreadventor-bold,
  ItalicFont=texgyreadventor-italic,
  BoldItalicFont=texgyreadventor-bolditalic
}

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From bruno.voisin at legi.cnrs.fr  Wed Oct 15 13:12:58 2014
From: bruno.voisin at legi.cnrs.fr (Bruno Voisin)
Date: Wed, 15 Oct 2014 13:12:58 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
	apparently broken in fontspec
In-Reply-To: <2C8798FD-F3BD-4475-B84F-112239940FCB@legi.cnrs.fr>
References: <6E5C5C2B38DA44448AE934F5E00DDDED@CJ3001517A>
 <2C8798FD-F3BD-4475-B84F-112239940FCB@legi.cnrs.fr>
Message-ID: <E54C2D5B-01E4-4264-8F6A-7972DF602CAF@legi.cnrs.fr>

Dear Akira, dear Ulrike,

Thanks for your efforts and analyses (I'm only seeing your last messages now, on the list archive, I'm not a list member hence only got the earlier messages cc'ed directly to me).

You're quite right, in all respects:

(1) The following works

\defaultfontfeatures[myfont]
{
  Extension=.otf,
  Color=Blue,
  UprightFont=texgyreadventor-regular,
  BoldFont=texgyreadventor-bold,
  ItalicFont=texgyreadventor-italic,
  BoldItalicFont=texgyreadventor-bolditalic
}
\setmainfont{myfont}

as does

\defaultfontfeatures[\rmfamily]
{
  Extension=.otf,
  Color=Blue,
  BoldFont=texgyreadventor-bold,
  ItalicFont=texgyreadventor-italic,
  BoldItalicFont=texgyreadventor-bolditalic
}
\setmainfont{texgyreadventor-regular}

(2) But when the custom font name or alias is the actual filename, then fontspec gets confused and you need to use explicit brackets to have fontspec interpret the specified UprightFont etc. as filenames not occurrences of the alias. This gives

\defaultfontfeatures[texgyreadventor-regular]
{
  Color=Blue,
  UprightFont=[texgyreadventor-regular],
  BoldFont=[texgyreadventor-bold],
  ItalicFont=[texgyreadventor-italic],
  BoldItalicFont=[texgyreadventor-bolditalic]
}
\setmainfont{texgyreadventor-regular}

which works on my setup (BTW, all those tests were done on the Mac).

Thanks again for your input, it's been of great help, I was getting mad with this problem. The message I finally posted to the Lucida list is

http://tug.org/pipermail/lucida/2014-October/000599.html

Bruno

From reinhard.kotucha at web.de  Thu Oct 16 22:32:56 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 16 Oct 2014 22:32:56 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
 apparently broken in fontspec
In-Reply-To: <1g4oi04oj0ysc$.dlg@nililand.de>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
 <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>
 <1g4oi04oj0ysc$.dlg@nililand.de>
Message-ID: <21568.11128.610762.56364@zaphod.ms25.net>

On 2014-10-15 at 10:28:46 +0200, Ulrike Fischer wrote:

 > Am Wed, 15 Oct 2014 06:49:32 +0200 schrieb Bruno Voisin:
 > 
 > > Thanks for this. I should have provided more background: calling
 > > fonts by name is indeed the simplest, it works with LuaLaTeX
 > > whether the fonts are installed at the OS level or in the texmf
 > > trees, but with XeLaTeX only when the fonts are installed at the
 > > OS level.
 > 
 > I can without problem call fonts installed in the texmf tree by
 > names in windows. 

It's because xetex is using its own fontconfig under Windows, hence
it comes with its own config file.

On all other systems the fontconfig library provided by the OS is
used.  This is necessary because the font setup is different on
different systems.

Thus xetex can use fonts in texmf trees on Windows only.  However, a
Linux distributor could configure fontconfig so that fonts in texmf
trees can be used like system fonts.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From khaledhosny at eglug.org  Fri Oct 17 09:56:56 2014
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 17 Oct 2014 09:56:56 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
 apparently broken in fontspec
In-Reply-To: <21568.11128.610762.56364@zaphod.ms25.net>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
 <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>
 <1g4oi04oj0ysc$.dlg@nililand.de> <21568.11128.610762.56364@zaphod.ms25.net>
Message-ID: <20141017075655.GA11908@khaled-laptop>

On Thu, Oct 16, 2014 at 10:32:56PM +0200, Reinhard Kotucha wrote:
> On 2014-10-15 at 10:28:46 +0200, Ulrike Fischer wrote:
> 
>  > Am Wed, 15 Oct 2014 06:49:32 +0200 schrieb Bruno Voisin:
>  > 
>  > > Thanks for this. I should have provided more background: calling
>  > > fonts by name is indeed the simplest, it works with LuaLaTeX
>  > > whether the fonts are installed at the OS level or in the texmf
>  > > trees, but with XeLaTeX only when the fonts are installed at the
>  > > OS level.
>  > 
>  > I can without problem call fonts installed in the texmf tree by
>  > names in windows. 
> 
> It's because xetex is using its own fontconfig under Windows, hence
> it comes with its own config file.
> 
> On all other systems the fontconfig library provided by the OS is
> used.  This is necessary because the font setup is different on
> different systems.
> 
> Thus xetex can use fonts in texmf trees on Windows only.  However, a
> Linux distributor could configure fontconfig so that fonts in texmf
> trees can be used like system fonts.

It should be fairly easy to make XeTeX instruct FontConfig/Core Text to
look for fonts under TEXMF tree, but I'm worried that some fonts there
are not built with the idea that they would be exposed to system
libraries and may be badly built (AFAIK that is the reason distributions
don't just added those fonts to FontConfig search paths).

Regards,
Khaled

From zdenek.wagner at gmail.com  Fri Oct 17 11:24:22 2014
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 17 Oct 2014 11:24:22 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
 apparently broken in fontspec
In-Reply-To: <20141017075655.GA11908@khaled-laptop>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
 <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>
 <1g4oi04oj0ysc$.dlg@nililand.de>	<21568.11128.610762.56364@zaphod.ms25.net>
 <20141017075655.GA11908@khaled-laptop>
Message-ID: <CAC1phybwaagjWiY76Ptw4i8ddP7NJ503WCF3BJkvjcjkd-asVw@mail.gmail.com>

2014-10-17 9:56 GMT+02:00 Khaled Hosny <khaledhosny at eglug.org>:
> On Thu, Oct 16, 2014 at 10:32:56PM +0200, Reinhard Kotucha wrote:
>> On 2014-10-15 at 10:28:46 +0200, Ulrike Fischer wrote:
>>
>>  > Am Wed, 15 Oct 2014 06:49:32 +0200 schrieb Bruno Voisin:
>>  >
>>  > > Thanks for this. I should have provided more background: calling
>>  > > fonts by name is indeed the simplest, it works with LuaLaTeX
>>  > > whether the fonts are installed at the OS level or in the texmf
>>  > > trees, but with XeLaTeX only when the fonts are installed at the
>>  > > OS level.
>>  >
>>  > I can without problem call fonts installed in the texmf tree by
>>  > names in windows.
>>
>> It's because xetex is using its own fontconfig under Windows, hence
>> it comes with its own config file.
>>
>> On all other systems the fontconfig library provided by the OS is
>> used.  This is necessary because the font setup is different on
>> different systems.
>>
>> Thus xetex can use fonts in texmf trees on Windows only.  However, a
>> Linux distributor could configure fontconfig so that fonts in texmf
>> trees can be used like system fonts.
>
> It should be fairly easy to make XeTeX instruct FontConfig/Core Text to
> look for fonts under TEXMF tree, but I'm worried that some fonts there
> are not built with the idea that they would be exposed to system
> libraries and may be badly built (AFAIK that is the reason distributions
> don't just added those fonts to FontConfig search paths).
>
I did it on my computer. Depending on the exact Linux and Inkscape
version there are some problems. Inkscape probably makes its own font
database which takes more than one hour, thus the startup is delayed
and if you start it by an icon, during startup nothing is seen. In
some versions it is done just once, in some version during eac
startup.

> Regards,
> Khaled



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From khaledhosny at eglug.org  Fri Oct 17 14:04:47 2014
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 17 Oct 2014 14:04:47 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
 apparently broken in fontspec
In-Reply-To: <CAC1phybwaagjWiY76Ptw4i8ddP7NJ503WCF3BJkvjcjkd-asVw@mail.gmail.com>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
 <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>
 <1g4oi04oj0ysc$.dlg@nililand.de> <21568.11128.610762.56364@zaphod.ms25.net>
 <20141017075655.GA11908@khaled-laptop>
 <CAC1phybwaagjWiY76Ptw4i8ddP7NJ503WCF3BJkvjcjkd-asVw@mail.gmail.com>
Message-ID: <20141017120447.GA14980@khaled-laptop>

On Fri, Oct 17, 2014 at 11:24:22AM +0200, Zdenek Wagner wrote:
> 2014-10-17 9:56 GMT+02:00 Khaled Hosny <khaledhosny at eglug.org>:
> > On Thu, Oct 16, 2014 at 10:32:56PM +0200, Reinhard Kotucha wrote:
> >> On 2014-10-15 at 10:28:46 +0200, Ulrike Fischer wrote:
> >>
> >>  > Am Wed, 15 Oct 2014 06:49:32 +0200 schrieb Bruno Voisin:
> >>  >
> >>  > > Thanks for this. I should have provided more background: calling
> >>  > > fonts by name is indeed the simplest, it works with LuaLaTeX
> >>  > > whether the fonts are installed at the OS level or in the texmf
> >>  > > trees, but with XeLaTeX only when the fonts are installed at the
> >>  > > OS level.
> >>  >
> >>  > I can without problem call fonts installed in the texmf tree by
> >>  > names in windows.
> >>
> >> It's because xetex is using its own fontconfig under Windows, hence
> >> it comes with its own config file.
> >>
> >> On all other systems the fontconfig library provided by the OS is
> >> used.  This is necessary because the font setup is different on
> >> different systems.
> >>
> >> Thus xetex can use fonts in texmf trees on Windows only.  However, a
> >> Linux distributor could configure fontconfig so that fonts in texmf
> >> trees can be used like system fonts.
> >
> > It should be fairly easy to make XeTeX instruct FontConfig/Core Text to
> > look for fonts under TEXMF tree, but I'm worried that some fonts there
> > are not built with the idea that they would be exposed to system
> > libraries and may be badly built (AFAIK that is the reason distributions
> > don't just added those fonts to FontConfig search paths).
> >
> I did it on my computer. Depending on the exact Linux and Inkscape
> version there are some problems. Inkscape probably makes its own font
> database which takes more than one hour, thus the startup is delayed
> and if you start it by an icon, during startup nothing is seen. In
> some versions it is done just once, in some version during eac
> startup.

Doing it from within XeTeX would avoid this of course, as the fonts will
be accessible only to XeTeX. But there are other potential issues, like
when different versions of the same font are provided by the system and
TeX Live, the one that will be used is rather arbitrary.

Regards,
Khaled

From reinhard.kotucha at web.de  Fri Oct 17 23:08:02 2014
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 17 Oct 2014 23:08:02 +0200
Subject: [tex-live] Font features linked with fontspec-preparse-external
 apparently broken in fontspec
In-Reply-To: <20141017120447.GA14980@khaled-laptop>
References: <E05BD991-C179-4A11-94DC-E7EC51BD2DD5@legi.cnrs.fr>
 <CABA175DA20943E2BD217A44C92C44BA@CJ3001517A>
 <B08E1B97-C386-4528-A19E-7694FDAF4883@legi.cnrs.fr>
 <1g4oi04oj0ysc$.dlg@nililand.de>	<21568.11128.610762.56364@zaphod.ms25.net>
 <20141017075655.GA11908@khaled-laptop>
 <CAC1phybwaagjWiY76Ptw4i8ddP7NJ503WCF3BJkvjcjkd-asVw@mail.gmail.com>
 <20141017120447.GA14980@khaled-laptop>
Message-ID: <21569.34098.430827.242472@zaphod.ms25.net>

On 2014-10-17 at 14:04:47 +0200, Khaled Hosny wrote:

 > Doing it from within XeTeX would avoid this of course, as the fonts
 > will be accessible only to XeTeX. But there are other potential
 > issues, like when different versions of the same font are provided
 > by the system and TeX Live, the one that will be used is rather
 > arbitrary.

Yes.  I understand Jonathan when he says that it's desirable to be
able to use the same font for TeX as well as for the text editor you
are using in order to create the TeX files.  Jonathan demonstrated it
with Arabic and Hindi at several TeX conferences and the results were
convincing. 

On the other hand system fonts are not reliable.  I recently compiled
the diploma thesis I wrote more than 20 years ago.  It worked like a
charm because the Computer Modern fonts are still part of any TeX
distribution.  I'm convinced that you can't compile any document in 20
years any more if it relies on system fonts.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From karl at freefriends.org  Fri Oct 17 23:56:44 2014
From: karl at freefriends.org (Karl Berry)
Date: Fri, 17 Oct 2014 21:56:44 +0000
Subject: [tex-live] Font features linked with fontspec-preparse-external
 apparently broken in fontspec
In-Reply-To: <20141017120447.GA14980@khaled-laptop>
Message-ID: <201410172156.s9HLuiS7032013@freefriends.org>

    when different versions of the same font are provided by the system and
    TeX Live, the one that will be used is rather arbitrary.

That must be avoided at all costs.  As you know, we just went through a
multi-year hassle of getting rid of such clashes/confusions.  (At least
I think they are gone now.)

I don't see a (serious) problem with the status quo.

best,
karl

From beebe at math.utah.edu  Sat Oct 18 01:01:27 2014
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 17 Oct 2014 17:01:27 -0600
Subject: [tex-live]  ls-R files and nasty symlinks
Message-ID: <CMM.0.95.0.1413586887.beebe@psi.math.utah.edu>

We recently noticed unexpected fileserver loads, and tracked down the
cause: creation of TeX Live ls-R file in user directory trees when
their trees contain a file that is a symlink to the root of the
filesystem, /.  

In our case, the filesystem contains about 100TB of space, and the
root / may contain mount points for 30 or so other filesystems.  The
result is a huge delay in creating the ls-R files, and those are big:
tens of MB, or even larger (we killed off the offending mktexlsr
processes before they completed).

You might wonder how symlinks to / get created.  Here are two examples
from widely-used software:

	 /home/USERNAME/.cxchromium/chromium/dosdevices/z:
	 /home/USERNAME/.wine/dosdevices/z:

In both cases, z: is a symbolic link to `/'.  A scan of our filesystem
found about 120 such instances among our thousands of users, and about
100 ls-R files in user directories.

Examination of texlive/YYYY/bin/ARCH/mktexlsr shows that it is a shell
script of about 220 lines, and it appears that the file listing is
made by this command at line 203 of the 2014 mktexlsr script, which is
identical across all platforms within a given year:

	(cd "$TEXMFLS_R" && \ls -LRa 2>/dev/null) \

The problem is the -L option, which according to the Solaris manual
page for ls works like this:

     -L           If an argument is a symbolic link, this  option
                  evaluates the file information and file type of
                  the file or directory that the link references,
                  rather  than those of the link itself. However,
                  the name of the link is displayed, rather  than
                  the referenced file or directory.

Unlike the Unix "find" command that might have been used for the job
(although the output would need further processing to make it look
like the current ls-R format), "ls" has no options like "find"'s
-mount or -xdev, which prevent descents into directories on other
filesystems.

Does anyone have an idea how we might prevent mktexlsr from spending
large amounts of time listing files that are outside the user's
personal tree?

Removing the -L option would do that, but that is a change with a big
enough effect that it could foil TeX Live user expectations at many
sites.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From heiko.oberdiek at googlemail.com  Sat Oct 18 07:39:54 2014
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Sat, 18 Oct 2014 01:39:54 -0400
Subject: [tex-live] ls-R files and nasty symlinks
In-Reply-To: <CMM.0.95.0.1413586887.beebe@psi.math.utah.edu>
References: <CMM.0.95.0.1413586887.beebe@psi.math.utah.edu>
Message-ID: <5441FD2A.5070207@googlemail.com>

Hello,

On 10/17/2014 07:01 PM, Nelson H. F. Beebe wrote:
> We recently noticed unexpected fileserver loads, and tracked down the
> cause: creation of TeX Live ls-R file in user directory trees when
> their trees contain a file that is a symlink to the root of the
> filesystem, /.  
> 
> In our case, the filesystem contains about 100TB of space, and the
> root / may contain mount points for 30 or so other filesystems.  The
> result is a huge delay in creating the ls-R files, and those are big:
> tens of MB, or even larger (we killed off the offending mktexlsr
> processes before they completed).
> 
> You might wonder how symlinks to / get created.  Here are two examples
> from widely-used software:
> 
> 	 /home/USERNAME/.cxchromium/chromium/dosdevices/z:
> 	 /home/USERNAME/.wine/dosdevices/z:
> 
> In both cases, z: is a symbolic link to `/'.  A scan of our filesystem
> found about 120 such instances among our thousands of users, and about
> 100 ls-R files in user directories.

The files for the TeX system are organized in TDS trees, a root ("texmf"
or similar) with a defined directory structure, see
http://texdoc.net/texmf-dist/doc/generic/tds/tds.pdf

The index files "ls-R" are generated in the root of these TDS
trees. It does not make any sense to include the root of the
file system as symbol link inside the TDS trees, because the
overall root does not follow the TDS structure
conventions. Also indexing lots of unrelated files only
slows down the generating of the index files and the usage
of the TeX system.

The symbol link examples are *outside* of the TDS trees,
therefore they should not be touched by mktexlsr at all.

> Examination of texlive/YYYY/bin/ARCH/mktexlsr shows that it is a shell
> script of about 220 lines, and it appears that the file listing is
> made by this command at line 203 of the 2014 mktexlsr script, which is
> identical across all platforms within a given year:
> 
> 	(cd "$TEXMFLS_R" && \ls -LRa 2>/dev/null) \
> 
> The problem is the -L option, which according to the Solaris manual
> page for ls works like this:
> 
>      -L           If an argument is a symbolic link, this  option
>                   evaluates the file information and file type of
>                   the file or directory that the link references,
>                   rather  than those of the link itself. However,
>                   the name of the link is displayed, rather  than
>                   the referenced file or directory.
> 
> Unlike the Unix "find" command that might have been used for the job
> (although the output would need further processing to make it look
> like the current ls-R format), "ls" has no options like "find"'s
> -mount or -xdev, which prevent descents into directories on other
> filesystems.

Bad idea. Why would someone wants to put a symbol link in a TDS tree?
Certainly the link needs to be dereferenced to find the file or
the directory with its children.
   For example, putting the seldom used "source" subdirectory to a
larger, cheaper, but maybe slower file system would make make sense.
Therefore the index search *must* dereference symbol links and cross
file system boundaries.

> Does anyone have an idea how we might prevent mktexlsr from spending
> large amounts of time listing files that are outside the user's
> personal tree?

It looks like that mktexlsr is called on the wrong directory, which
are not the root of TDS trees (e.g. running on $HOME).
The cause might be a misconfiguration (environment variables,
texmf.cnf) or wrong manual usage.

> Removing the -L option would do that, but that is a change with a big
> enough effect that it could foil TeX Live user expectations at many
> sites.

That would be a bug.

It makes much more sense to fix the underlying cause.
Depending on the configuration TeX and friends might
search the whole tree on each call, if a file could
not be found in the ls-R files, that's not a good idea
either, if the complete file system starting from the
overall root is included in the search.

Yours sincerely
  Heiko Oberdiek

From karl at freefriends.org  Sun Oct 19 18:05:13 2014
From: karl at freefriends.org (Karl Berry)
Date: Sun, 19 Oct 2014 16:05:13 +0000
Subject: [tex-live] ls-R files and nasty symlinks
In-Reply-To: <CMM.0.95.0.1413586887.beebe@psi.math.utah.edu>
Message-ID: <201410191605.s9JG5DIe028472@freefriends.org>

Hi Nelson,

Sorry for the pain.  I guess all I can do is essentially reiterate what
Heiko said: mktexlsr is supposed to be running on texmf trees, and that
does not include users' home directories.  Do you have TEXMFHOME = ~ at
Utah, perhaps?  Or TEXMFLOCAL?  That's the only reason I can think of
offhand why it would be going there.  The default is ~/texmf.

As another wrinkle, by default TEXMFHOME doesn't even have an ls-R
file and mktexlsr shouldn't run on it.  Running
  kpsewhich --show-path=ls-R
(this is what mktexlsr does) should show the list of trees being used.

It comes from the TEXMFDBS config variable (or env, but hopefully it is
not set in the environment).  As usual, adding --debug=-1 should show
lots of information about how they are being determined.  When I run
/usr/local/texlive/2014/bin/sparc-solaris/kpsewhich --show-path=ls-R
on sunlit, ~ isn't involved; it looks normal.

Finally, about removing the -L option.  Of course you could just remove
it as a quick sort-of fix, although some users' homes will be plenty big
even without following symlinks.  As Heiko says, mktexlsr needs to be
prevented from running on ~ at all.

If you do try removing the -L, though, I'd interested in hearing if it
makes any practical difference.  Although it's been included in the call
"forever" (going back to when the script was named MakeTeXls-R, 1997 and
earlier), I rather think that is a relic of when the tree was
specifically for Unix, and symlinks were used within it.  For many years
now, of course we have painfully kept all symlinks out of the
distributed texmf trees.  If a user creates a symlink in their tree,
*and* sets it up to use ls-R, *and* wants the symlink to be followed
.. well, I don't know.  Maybe there are people out there relying on
such setups.

Let me know,
Karl

From preining at logic.at  Mon Oct 20 01:24:18 2014
From: preining at logic.at (Norbert Preining)
Date: Mon, 20 Oct 2014 08:24:18 +0900
Subject: [tex-live] ls-R files and nasty symlinks
In-Reply-To: <201410191605.s9JG5DIe028472@freefriends.org>
References: <CMM.0.95.0.1413586887.beebe@psi.math.utah.edu>
 <201410191605.s9JG5DIe028472@freefriends.org>
Message-ID: <20141019232418.GN420@auth.logic.tuwien.ac.at>

Hi,

adding to Karl and Heiko:

On Sun, 19 Oct 2014, Karl Berry wrote:
> If you do try removing the -L, though, I'd interested in hearing if it

Not good idea. I know many users who have font packages installed
into separate directories, and use some way to symlink the files
into the texmf trees.

It *IS* a pain to have symlinks, because nmtxrun/luatex starts
reading each and every file, and as the link target name lenght os
often too long, it is saved in an extra inode (on some fs),
and luatex crawls to an halt loading ech and every file from unrelated
blocks, killing system caching ... but this is a different story.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From preining at logic.at  Mon Oct 20 03:48:17 2014
From: preining at logic.at (Norbert Preining)
Date: Mon, 20 Oct 2014 10:48:17 +0900
Subject: [tex-live] TeX Live for Debian - call for last packages before
	freeze
Message-ID: <20141020014817.GU420@auth.logic.tuwien.ac.at>

Dear all,

Debian is *probably* (see systemd discussion) going to freeze
package updates beginning of November.

I am planning to do a *last* pull from TeX Live's tlnet around end
of October (31 October).

That means, if you as package author want to see changes to the
current state of your package in TeX Live also in Debian/next-stable,
then it would be good to upload now.

Thanks

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From danai.saehan at gmail.com  Mon Oct 20 13:43:11 2014
From: danai.saehan at gmail.com (=?UTF-8?B?RGFuYWkgU0FFLUhBTiAo6Z+T6YGU6ICQKQ==?=)
Date: Mon, 20 Oct 2014 13:43:11 +0200
Subject: [tex-live] TeX Live for Debian - call for last packages before
	freeze
In-Reply-To: <20141020014817.GU420@auth.logic.tuwien.ac.at>
References: <20141020014817.GU420@auth.logic.tuwien.ac.at>
Message-ID: <CALr4YMF1XV8T3a3o3DVSuq_CZ16Aej_SYigfG3Y=Lh9dFNoEBg@mail.gmail.com>

Thanks for the notification, Norbert. I hope to upload a new Debian CJK
package after I return from vacation by the end of this week to fix a FTBFS
error.

BR

-- 
Danai
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141020/20007585/attachment.html>

From naroyce at hotmail.com  Mon Oct 20 10:25:32 2014
From: naroyce at hotmail.com (Nathan Royce)
Date: Mon, 20 Oct 2014 03:25:32 -0500
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
Message-ID: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>

~/Desktop/texlive/Master$ ./install-tlCan't modify split in chomp at tlpkg/TeXLive/TLUtils.pm line 2073, near "))"BEGIN not safe after errors--compilation aborted at tlpkg/TeXLive/TLUtils.pm line 3943.Compilation failed in require at ./install-tl line 53.BEGIN failed--compilation aborted at ./install-tl line 53.
Using Debian's 5.14.2 version of perl works fine. 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141020/c8edbd1a/attachment.html>

From preining at logic.at  Tue Oct 21 00:38:57 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 21 Oct 2014 07:38:57 +0900
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>
References: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>
Message-ID: <20141020223857.GG420@auth.logic.tuwien.ac.at>

On Mon, 20 Oct 2014, Nathan Royce wrote:
> ~/Desktop/texlive/Master$ ./install-tlCan't modify split in chomp at tlpkg/TeXLive/TLUtils.pm line 2073, near "))"BEGIN not safe after errors--compilation aborted at tlpkg/TeXLive/TLUtils.pm line 3943.Compilation failed in require at ./install-tl line 53.BEGIN failed--compilation aborted at ./install-tl line 53.


Does this help:
Index: TLUtils.pm
===================================================================
--- TLUtils.pm	(revision 35400)
+++ TLUtils.pm	(working copy)
@@ -2070,7 +2070,8 @@
   if (-w  $sys_man && -d "$Master/texmf-dist/doc/man") {
     debug("$mode symlinks for man pages in $sys_man\n");
     my $foo = `(cd "$Master/texmf-dist/doc/man" && echo *)`;
-    chomp (my @mans = split (' ', $foo));
+    (my @mans = split (' ', $foo);
+    chomp (@mans);
     foreach my $m (@mans) {
       my $mandir = "$Master/texmf-dist/doc/man/$m";
       next unless -d $mandir;


I don't know why perl 5.21 is so stupid about the above code, I don't
see anything wrong, but alas, perl ...

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From preining at logic.at  Tue Oct 21 00:39:47 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 21 Oct 2014 07:39:47 +0900
Subject: [tex-live] TeX Live for Debian - call for last packages before
 freeze
In-Reply-To: <20141020014817.GU420@auth.logic.tuwien.ac.at>
References: <20141020014817.GU420@auth.logic.tuwien.ac.at>
Message-ID: <20141020223947.GH420@auth.logic.tuwien.ac.at>

On Mon, 20 Oct 2014, Norbert Preining wrote:
> I am planning to do a *last* pull from TeX Live's tlnet around end
> of October (31 October).

Actually I was told that this would be too late, so it will be 25 October,
sorry...

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From danai.saehan at gmail.com  Tue Oct 21 02:05:02 2014
From: danai.saehan at gmail.com (=?UTF-8?B?RGFuYWkgU0FFLUhBTiAo6Z+T6YGU6ICQKQ==?=)
Date: Tue, 21 Oct 2014 02:05:02 +0200
Subject: [tex-live] TeX Live for Debian - call for last packages before
	freeze
In-Reply-To: <20141020223947.GH420@auth.logic.tuwien.ac.at>
References: <20141020014817.GU420@auth.logic.tuwien.ac.at>
 <20141020223947.GH420@auth.logic.tuwien.ac.at>
Message-ID: <CALr4YMF+CL77QcVLRurj7ND5UaUpMgqgRq0tL-ApBCMnPQXKZw@mail.gmail.com>

Whoops!   The earliest I can access my Debian machine is this Wednesday
night when I get home.

I hope I figure out the issue ASAP

Thanks for the warning.

-- 
Danai
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141021/3377bf7a/attachment.html>

From naroyce at hotmail.com  Tue Oct 21 09:25:29 2014
From: naroyce at hotmail.com (Nathan)
Date: Tue, 21 Oct 2014 02:25:29 -0500
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <20141020223857.GG420@auth.logic.tuwien.ac.at>
References: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>
 <20141020223857.GG420@auth.logic.tuwien.ac.at>
Message-ID: <BLU436-SMTP12606BB0F132BBB25FC0E1A2940@phx.gbl>

Yup, that patch sort of did the trick (minus the extra '(' at "(my @mans
=").
At the end of the install:
running package-specific postactions
Can't modify split in chomp at
~/Desktop/CLFS/armv7l-unknown-linux-gnueabihf/texlive/tlpkg/TeXLive/TLUtils.pm
line 2073, near "))"
BEGIN not safe after errors--compilation aborted at
~/Desktop/CLFS/armv7l-unknown-linux-gnueabihf/texlive/tlpkg/TeXLive/TLUtils.pm
line 3943.
Compilation failed in require at
~/Desktop/CLFS/armv7l-unknown-linux-gnueabihf/texlive/tlpkg/tlpostcode/
dvipdfmx.pl line 18.
BEGIN failed--compilation aborted at
~/Desktop/CLFS/armv7l-unknown-linux-gnueabihf/texlive/tlpkg/tlpostcode/
dvipdfmx.pl line 18.
./install-tl: calling post action script tlpkg/tlpostcode/dvipdfmx.pl did
not succeed in ~Desktop/texlive/Master, status 255 at
tlpkg/TeXLive/TLUtils.pm line 1796.
finished with package-specific postactions

Hehe, ya, I tend to read that sort of sentiment towards perl quite a bit.

On a side note (shall I create a new thread?), I noticed that during
install, when I select "armhf-linux" and deselect "x86_64-linux" under
Binaries, it DOES deselect "x86_64-linux" except when returning to the main
menu, it shows 2 Binaries selected and entering back into that menu shows
it is re-selected.

On Mon, Oct 20, 2014 at 5:38 PM, Norbert Preining <preining at logic.at> wrote:

> Does this help:
> Index: TLUtils.pm
> ===================================================================
> --- TLUtils.pm  (revision 35400)
> +++ TLUtils.pm  (working copy)
> @@ -2070,7 +2070,8 @@
>    if (-w  $sys_man && -d "$Master/texmf-dist/doc/man") {
>      debug("$mode symlinks for man pages in $sys_man\n");
>      my $foo = `(cd "$Master/texmf-dist/doc/man" && echo *)`;
> -    chomp (my @mans = split (' ', $foo));
> +    (my @mans = split (' ', $foo);
> +    chomp (@mans);
>      foreach my $m (@mans) {
>        my $mandir = "$Master/texmf-dist/doc/man/$m";
>        next unless -d $mandir;
>
>
> I don't know why perl 5.21 is so stupid about the above code, I don't
> see anything wrong, but alas, perl ...
>
> Norbert
>
> ------------------------------------------------------------------------
> PREINING, Norbert                               http://www.preining.info
> JAIST, Japan                                 TeX Live & Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
> ------------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141021/cad7d472/attachment-0001.html>

From preining at logic.at  Tue Oct 21 09:57:34 2014
From: preining at logic.at (Norbert Preining)
Date: Tue, 21 Oct 2014 16:57:34 +0900
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <BLU436-SMTP2295AA1327A1AC1EDE6C111A2940@phx.gbl>
References: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>
 <20141020223857.GG420@auth.logic.tuwien.ac.at>
 <BLU436-SMTP2295AA1327A1AC1EDE6C111A2940@phx.gbl>
Message-ID: <20141021075734.GS420@auth.logic.tuwien.ac.at>

On Tue, 21 Oct 2014, Nathan wrote:
> Yup, that patch sort of did the trick (minus the extra '(' at "(my @mans
> =").

Yeah, sorry for that ;-)

> Can't modify split in chomp at

Probably the same ... argg ... and there will be many more in
tlmgr.pl ...

> On a side note (shall I create a new thread?), I noticed that during
> install, when I select "armhf-linux" and deselect "x86_64-linux" under
> Binaries, it DOES deselect "x86_64-linux" except when returning to the main
> menu, it shows 2 Binaries selected and entering back into that menu shows
> it is re-selected.

Hmmm, are you installing on x86_64-linux? From the logs you send
it looks like you are installing on a different machine ..
The currently running platform will *always* be installed.
Otherwise the post install programs cannot be run.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From naroyce at hotmail.com  Tue Oct 21 12:55:04 2014
From: naroyce at hotmail.com (Nathan)
Date: Tue, 21 Oct 2014 05:55:04 -0500
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <20141021075734.GS420@auth.logic.tuwien.ac.at>
References: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>
 <20141020223857.GG420@auth.logic.tuwien.ac.at>
 <BLU436-SMTP2295AA1327A1AC1EDE6C111A2940@phx.gbl>
 <20141021075734.GS420@auth.logic.tuwien.ac.at>
Message-ID: <BLU436-SMTP148C2B9AAFD285F99CDFEB0A2940@phx.gbl>

Ah, got it. I'm actually just doing some cross-compiling on host AMD-64 for
target ARM and have a whole list of things that are prerequisites for other
things and texlive was one (for what, I don't remember. I just have it in
my notes).
For the first stage, I install for AMD-64 in one directory and at the 2nd
stage I install for ARM in a different directory since it will be
transferred to a different machine. And then finally in the 3rd stage which
I have yet to complete, I can just copy it over instead of installing again
since I'm now on the ARM machine.

On Tue, Oct 21, 2014 at 2:57 AM, Norbert Preining <preining at logic.at> wrote:

> On Tue, 21 Oct 2014, Nathan wrote:
> > Yup, that patch sort of did the trick (minus the extra '(' at "(my @mans
> > =").
>
> Yeah, sorry for that ;-)
>
> > Can't modify split in chomp at
>
> Probably the same ... argg ... and there will be many more in
> tlmgr.pl ...
>
> > On a side note (shall I create a new thread?), I noticed that during
> > install, when I select "armhf-linux" and deselect "x86_64-linux" under
> > Binaries, it DOES deselect "x86_64-linux" except when returning to the
> main
> > menu, it shows 2 Binaries selected and entering back into that menu shows
> > it is re-selected.
>
> Hmmm, are you installing on x86_64-linux? From the logs you send
> it looks like you are installing on a different machine ..
> The currently running platform will *always* be installed.
> Otherwise the post install programs cannot be run.
>
> Norbert
>
> ------------------------------------------------------------------------
> PREINING, Norbert                               http://www.preining.info
> JAIST, Japan                                 TeX Live & Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
> ------------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141021/ceb2a4b5/attachment.html>

From karl at freefriends.org  Tue Oct 21 23:31:55 2014
From: karl at freefriends.org (Karl Berry)
Date: Tue, 21 Oct 2014 21:31:55 +0000
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <20141021075734.GS420@auth.logic.tuwien.ac.at>
Message-ID: <201410212131.s9LLVth7006506@freefriends.org>

    Probably the same ... argg ... and there will be many more in
    tlmgr.pl ...

Nathan, is there any chance of pushing back on Perl to not create this
seemingly-gratuitious incompatibility?

k

From preining at logic.at  Wed Oct 22 01:20:24 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 22 Oct 2014 08:20:24 +0900
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <201410212131.s9LLVth7006506@freefriends.org>
References: <20141021075734.GS420@auth.logic.tuwien.ac.at>
 <201410212131.s9LLVth7006506@freefriends.org>
Message-ID: <20141021232024.GD31531@auth.logic.tuwien.ac.at>

On Tue, 21 Oct 2014, Karl Berry wrote:
>     Probably the same ... argg ... and there will be many more in
>     tlmgr.pl ...
> 
> Nathan, is there any chance of pushing back on Perl to not create this
> seemingly-gratuitious incompatibility?

One more thing ... the latest official release is 5.20.1, which 
works perfectly fine. I guess this is a change that will hopefully
be reverted/fixed before a new stable release is shipped out,
so for now I would prefer not to go through all of the code.

Nathan, as Karl suggested, please install 5.20.1

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From preining at logic.at  Wed Oct 22 01:21:55 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 22 Oct 2014 08:21:55 +0900
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <BLU436-SMTP148C2B9AAFD285F99CDFEB0A2940@phx.gbl>
References: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>
 <20141020223857.GG420@auth.logic.tuwien.ac.at>
 <BLU436-SMTP2295AA1327A1AC1EDE6C111A2940@phx.gbl>
 <20141021075734.GS420@auth.logic.tuwien.ac.at>
 <BLU436-SMTP148C2B9AAFD285F99CDFEB0A2940@phx.gbl>
Message-ID: <20141021232155.GE31531@auth.logic.tuwien.ac.at>

On Tue, 21 Oct 2014, Nathan wrote:
> For the first stage, I install for AMD-64 in one directory and at the 2nd
> stage I install for ARM in a different directory since it will be
> transferred to a different machine. And then finally in the 3rd stage which
> I have yet to complete, I can just copy it over instead of installing again
> since I'm now on the ARM machine.

In this case, after transfer, the correct binaries should be
automatically selected. You should be able to remove the
x86_64 arch with 
	tlmgr arch remove x86_64-linux

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From naroyce at hotmail.com  Wed Oct 22 04:21:10 2014
From: naroyce at hotmail.com (Nathan)
Date: Tue, 21 Oct 2014 21:21:10 -0500
Subject: [tex-live] install-tl, tlutils.pm fail with perl 5.21.5
In-Reply-To: <20141021232155.GE31531@auth.logic.tuwien.ac.at>
References: <COL126-W218C3C9879DF60E65F7C3EA2970@phx.gbl>
 <20141020223857.GG420@auth.logic.tuwien.ac.at>
 <BLU436-SMTP2295AA1327A1AC1EDE6C111A2940@phx.gbl>
 <20141021075734.GS420@auth.logic.tuwien.ac.at>
 <BLU436-SMTP148C2B9AAFD285F99CDFEB0A2940@phx.gbl>
 <20141021232155.GE31531@auth.logic.tuwien.ac.at>
Message-ID: <BLU436-SMTP1363F3195731273EA92CBC4A2950@phx.gbl>

That "arch remove" is a handy tip.
As for the latest and "greatest", I tend to pull in the trunk for anything
I can and know from experience there will very likely be
issues/incompatibilities.
In such cases, I'll put out there what I've found as an FYI and let the
devs battle it out. I figure you all probably use the stable tools, but
this way you'll know what's coming down the pipe (pike?).

A couple of examples relating to GCC is an ISL change with "isl_int" and
"isl_val", so I can't use the latest ISL. And I can't use the latest GCC
because of ncurses. Both issues have already been reported by someone else.

On Tue, Oct 21, 2014 at 6:21 PM, Norbert Preining <preining at logic.at> wrote:

> In this case, after transfer, the correct binaries should be
> automatically selected. You should be able to remove the
> x86_64 arch with
>         tlmgr arch remove x86_64-linux
>
> Norbert
>
> ------------------------------------------------------------------------
> PREINING, Norbert                               http://www.preining.info
> JAIST, Japan                                 TeX Live & Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
> ------------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141021/f3d5d9cd/attachment-0001.html>

From gnwiii at gmail.com  Wed Oct 22 15:09:28 2014
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 22 Oct 2014 10:09:28 -0300
Subject: [tex-live] tlmgr gui fails in Mate Desktop on Scientic Linux 7,
	perl 5.16.3
Message-ID: <CAKTOP45MjrZRouWHpZ8DaX+f2_sO7O-r7A6Y7-TvvSADdSCjSA@mail.gmail.com>

Works fine using Gnome Shell, but Gnome Shell crashes often, so using Mate.


$ tlmgr gui
32ba1f8 is not a hash at /usr/lib64/perl5/vendor_perl/Tk/MainWindow.pm line
53.
Aborted (core dumped)
$ perl --version

This is perl 5, version 16, subversion 3 (v5.16.3) built for
x86_64-linux-thread-multi
(with 25 registered patches, see perl -V for more detail)

There is a similar bug report <
https://bugzilla.redhat.com/show_bug.cgi?id=1141117> for
perl-5.20.0-307.fc22.x86_64 against FC22.
This seems to be a font issue, so may be a result of different fonts used by
Mate vs Gnome.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141022/f023385a/attachment.html>

From preining at logic.at  Thu Oct 23 01:24:10 2014
From: preining at logic.at (Norbert Preining)
Date: Thu, 23 Oct 2014 08:24:10 +0900
Subject: [tex-live] tlmgr gui fails in Mate Desktop on Scientic Linux 7,
 perl 5.16.3
In-Reply-To: <CAKTOP45MjrZRouWHpZ8DaX+f2_sO7O-r7A6Y7-TvvSADdSCjSA@mail.gmail.com>
References: <CAKTOP45MjrZRouWHpZ8DaX+f2_sO7O-r7A6Y7-TvvSADdSCjSA@mail.gmail.com>
Message-ID: <20141022232410.GS31531@auth.logic.tuwien.ac.at>

On Wed, 22 Oct 2014, George N. White III wrote:
> $ tlmgr gui
> 32ba1f8 is not a hash at /usr/lib64/perl5/vendor_perl/Tk/MainWindow.pm line
> 53.

Is line 53 that one:

   my $top = eval { bless Create($package->CreateArgs(\%args)), $package };

If yes, than this is surprising, and I would say perl/tk needs
a rebuild on that platform.

I don't know what to do, we don't select any special font, but use
the default that is provided, so if this is really a font issue,
then it is a problem of your distribution :-(

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From siepo at cybercomm.nl  Thu Oct 23 10:28:05 2014
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 23 Oct 2014 10:28:05 +0200
Subject: [tex-live] tlmgr gui fails in Mate Desktop on Scientic Linux 7,
 perl 5.16.3
In-Reply-To: <20141022232410.GS31531@auth.logic.tuwien.ac.at>
References: <CAKTOP45MjrZRouWHpZ8DaX+f2_sO7O-r7A6Y7-TvvSADdSCjSA@mail.gmail.com>
 <20141022232410.GS31531@auth.logic.tuwien.ac.at>
Message-ID: <20141023082805.GA1900@bitmuis.thuis.internal>

On Thu, Oct 23, 2014 at 08:24:10AM +0900, Norbert Preining wrote:
> On Wed, 22 Oct 2014, George N. White III wrote:
> > $ tlmgr gui
> > 32ba1f8 is not a hash at /usr/lib64/perl5/vendor_perl/Tk/MainWindow.pm line
> > 53.
> 
> Is line 53 that one:
> 
>    my $top = eval { bless Create($package->CreateArgs(\%args)), $package };
> 
> If yes, than this is surprising, and I would say perl/tk needs
> a rebuild on that platform.
> 
> I don't know what to do, we don't select any special font, but use
> the default that is provided, so if this is really a font issue,
> then it is a problem of your distribution :-(

Fonts may also be defined in ~/.Xresources.

-- 
Siep Kroonenberg

From gnwiii at gmail.com  Thu Oct 23 18:18:49 2014
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 23 Oct 2014 13:18:49 -0300
Subject: [tex-live] tlmgr gui fails in Mate Desktop on Scientic Linux 7,
 perl 5.16.3
In-Reply-To: <20141023082805.GA1900@bitmuis.thuis.internal>
References: <CAKTOP45MjrZRouWHpZ8DaX+f2_sO7O-r7A6Y7-TvvSADdSCjSA@mail.gmail.com>
 <20141022232410.GS31531@auth.logic.tuwien.ac.at>
 <20141023082805.GA1900@bitmuis.thuis.internal>
Message-ID: <CAKTOP45o80_991Uy0Qz1KCEfB1yb4EAUCG-nhAB9e3a-buC-Ww@mail.gmail.com>

On Thu, Oct 23, 2014 at 5:28 AM, Siep Kroonenberg <siepo at cybercomm.nl>
wrote:

> On Thu, Oct 23, 2014 at 08:24:10AM +0900, Norbert Preining wrote:
> > On Wed, 22 Oct 2014, George N. White III wrote:
> > > $ tlmgr gui
> > > 32ba1f8 is not a hash at /usr/lib64/perl5/vendor_perl/Tk/MainWindow.pm
> line
> > > 53.
> >
> > Is line 53 that one:
> >
> >    my $top = eval { bless Create($package->CreateArgs(\%args)), $package
> };
> >
> > If yes, than this is surprising, and I would say perl/tk needs
> > a rebuild on that platform.
> >
>

The problem appears to come thru nonsense application defaults in xrdb.

$ tlmgr gui
2595620 is not a hash at /usr/lib64/perl5/vendor_perl/Tk/MainWindow.pm line
53.
Aborted (core dumped)
$ xrdb > defaults.ad
$ xrdb -load < /dev/null
$ tlmgr gui
Loading local TeX Live database
  (/usr/local/texlive/2014/tlpkg/texlive.tlpdb)
This may take some time, please be patient ...
... done loading.
$ xrdb -load < defaults.ad
$ tlmgr gui
2c19620 is not a hash at /usr/lib64/perl5/vendor_perl/Tk/MainWindow.pm line
53.
Aborted (core dumped)

Looking at "defaults.ad" there many lines with values given as uppercase
constants that are almost certainly cpp macros, so it looks like the app
defaults are effectively being loaded with "xrdb --nocpp ...".   Emacs also
has a problem with the default
(e.g., nonsense) values:

$ emacs ; echo $?
Undefined color: "FOREGROUND"
255

There is relevant (as well as mostly nonsense) discussion in <
https://bugzilla.redhat.com/show_bug.cgi?id=1053891>.
The quick answer is that Red Hat was using a now defunct preprocessor so has
removed preprocessing from xrdb.  They won't use GNU cpp because that would
require a developer package and they want to have workstations that don't
install development tools.  Most applications seem to work with the
nonsense entries from
xrdb so probably take settings from elsewhere.



> > I don't know what to do, we don't select any special font, but use
> > the default that is provided, so if this is really a font issue,
> > then it is a problem of your distribution :-(
>
> Fonts may also be defined in ~/.Xresources.
>
> --
> Siep Kroonenberg
>



-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141023/a4222576/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sun Oct 26 21:19:58 2014
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 26 Oct 2014 20:19:58 +0000
Subject: [tex-live] Two questions on TeXdoc's behaviour in TeX Live 2014
 (and perhaps in earlier versions)
Message-ID: <544D576E.5020101@Rhul.Ac.Uk>

1) Is there any reason why TeXdoc TBT does not lead to the same page
as TeXdoc topic (i.e., Victor Eijkhout's /TeX by Topic/) ?

2) Is there any reason why TeXdoc TeXworks takes one to an extremely 
superficial text page rather than to :

     file:<TeX Live 2014 
root>/tlpkg/texworks/texworks-help/TeXworks-manual/en/index.html

Philip Taylor

From andreas at enge.fr  Wed Oct 29 13:24:50 2014
From: andreas at enge.fr (Andreas Enge)
Date: Wed, 29 Oct 2014 13:24:50 +0100
Subject: [tex-live] Docdir configure option not honoured
Message-ID: <20141029122450.GA12403@debian.eduroam.u-bordeaux.fr>

Hello,

for the guix distribution, I am trying to split out the texlive documentation
into a separate package. Our standard approach is to pass the configure flag
   --docdir=...
The flag is accepted by texlive, but the output directory is then empty
and does not contain the doc subdirectory of texmf-dist.

Is this intentional?

Andreas


From preining at logic.at  Wed Oct 29 15:37:10 2014
From: preining at logic.at (Norbert Preining)
Date: Wed, 29 Oct 2014 23:37:10 +0900
Subject: [tex-live] Docdir configure option not honoured
In-Reply-To: <20141029122450.GA12403@debian.eduroam.u-bordeaux.fr>
References: <20141029122450.GA12403@debian.eduroam.u-bordeaux.fr>
Message-ID: <20141029143710.GI515@auth.logic.tuwien.ac.at>

On Wed, 29 Oct 2014, Andreas Enge wrote:
> into a separate package. Our standard approach is to pass the configure flag
>    --docdir=...
> The flag is accepted by texlive, but the output directory is then empty
> and does not contain the doc subdirectory of texmf-dist.
> 
> Is this intentional?

Yes. configure's --docdir does not do anything. Installation of
the documentation files are independent and done by install-tl or
by tlmgr, depending on options set in the tlpdb.

Be reminded that the binary compilation does *not* produce a 
workable system. The correct way is to do something similar
to what install-tl does.

See for example the Debian packaging how to split documentation
from the other packages.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From andreas at enge.fr  Wed Oct 29 16:21:26 2014
From: andreas at enge.fr (Andreas Enge)
Date: Wed, 29 Oct 2014 16:21:26 +0100
Subject: [tex-live] Docdir configure option not honoured
In-Reply-To: <20141029143710.GI515@auth.logic.tuwien.ac.at>
References: <20141029122450.GA12403@debian.eduroam.u-bordeaux.fr>
 <20141029143710.GI515@auth.logic.tuwien.ac.at>
Message-ID: <20141029152126.GA12450@debian.eduroam.u-bordeaux.fr>

Thanks for your quick reply!

On Wed, Oct 29, 2014 at 11:37:10PM +0900, Norbert Preining wrote:
> Yes. configure's --docdir does not do anything. Installation of
> the documentation files are independent and done by install-tl or
> by tlmgr, depending on options set in the tlpdb.

Okay.

> Be reminded that the binary compilation does *not* produce a 
> workable system. The correct way is to do something similar
> to what install-tl does.

We already have a working package, obtained as in slackware by configuring
with "--disable-native-texlive-build" and later calling
             (system* "updmap-sys" "--nohash" "--syncwithtrees")
             (system* "mktexlsr")
             (system* "fmtutil-sys" "--all")
 
Now the question is just how to split off the documentation. I think we
should simply move texmf-dist/doc/ to the equivalent of
/usr/share/doc/texlive/ before calling mxtexlsr. This should not hurt as
kpathsea does not need to find the documentation.

Andreas


From preining at logic.at  Wed Oct 29 16:33:17 2014
From: preining at logic.at (Norbert Preining)
Date: Thu, 30 Oct 2014 00:33:17 +0900
Subject: [tex-live] Docdir configure option not honoured
In-Reply-To: <20141029152126.GA12450@debian.eduroam.u-bordeaux.fr>
References: <20141029122450.GA12403@debian.eduroam.u-bordeaux.fr>
 <20141029143710.GI515@auth.logic.tuwien.ac.at>
 <20141029152126.GA12450@debian.eduroam.u-bordeaux.fr>
Message-ID: <20141029153317.GK515@auth.logic.tuwien.ac.at>

Hi Andreas,

> We already have a working package, obtained as in slackware by configuring

Ok, that is good.

> Now the question is just how to split off the documentation. I think we
> should simply move texmf-dist/doc/ to the equivalent of
> /usr/share/doc/texlive/ before calling mxtexlsr. This should not hurt as
> kpathsea does not need to find the documentation.

We did this in Debian for some time, but I stopped and moved everything
back to texmf-dist/doc.

The simple reason is
	texdoc

I want people to be able to use texdoc to find documentation.
There is such an amount of docs in TL, that just browsing
is a pain. texdoc works much better.

You can move it to some other place, but have to make sure
that the kpathsea still searches it for doc files ...

Or you dump texdoc, but I don't recommend it.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From andreas at enge.fr  Wed Oct 29 17:16:29 2014
From: andreas at enge.fr (Andreas Enge)
Date: Wed, 29 Oct 2014 17:16:29 +0100
Subject: [tex-live] Docdir configure option not honoured
In-Reply-To: <20141029153317.GK515@auth.logic.tuwien.ac.at>
References: <20141029122450.GA12403@debian.eduroam.u-bordeaux.fr>
 <20141029143710.GI515@auth.logic.tuwien.ac.at>
 <20141029152126.GA12450@debian.eduroam.u-bordeaux.fr>
 <20141029153317.GK515@auth.logic.tuwien.ac.at>
Message-ID: <20141029161618.GA14944@debian.eduroam.u-bordeaux.fr>

Hello, Norbert!

On Thu, Oct 30, 2014 at 12:33:17AM +0900, Norbert Preining wrote:
> We did this in Debian for some time, but I stopped and moved everything
> back to texmf-dist/doc.
> 
> The simple reason is
> 	texdoc
> 
> I want people to be able to use texdoc to find documentation.
> There is such an amount of docs in TL, that just browsing
> is a pain. texdoc works much better.
> 
> You can move it to some other place, but have to make sure
> that the kpathsea still searches it for doc files ...
> 
> Or you dump texdoc, but I don't recommend it.

Very nice, I did not know texdoc before. So if I understand things correctly,
in case we create a completely separate directory with the documentation,
we need to add it to the two variables
   TEXMF and TEXMFDBS
in texmf.cnf? Or can we have two directories in TEXMFROOT?

In guix, the two directories would be something like
   /gnu/store/a45w3lck41242h4j4qxcz50vzmgpq9ih-texlive-2014-data
   /gnu/store/ds0hpqkpjfbdwyngi3yv58vm1xiv46d9-texlive-2014-doc

Andreas


From preining at logic.at  Fri Oct 31 23:29:08 2014
From: preining at logic.at (Norbert Preining)
Date: Sat, 1 Nov 2014 07:29:08 +0900
Subject: [tex-live] Docdir configure option not honoured
In-Reply-To: <20141029161618.GA14944@debian.eduroam.u-bordeaux.fr>
References: <20141029122450.GA12403@debian.eduroam.u-bordeaux.fr>
 <20141029143710.GI515@auth.logic.tuwien.ac.at>
 <20141029152126.GA12450@debian.eduroam.u-bordeaux.fr>
 <20141029153317.GK515@auth.logic.tuwien.ac.at>
 <20141029161618.GA14944@debian.eduroam.u-bordeaux.fr>
Message-ID: <20141031222908.GD13232@auth.logic.tuwien.ac.at>

Hi Andreas,

sorry for the late reply, I was on a meeting.

> Very nice, I did not know texdoc before. So if I understand things correctly,
> in case we create a completely separate directory with the documentation,
> we need to add it to the two variables
>    TEXMF and TEXMFDBS
> in texmf.cnf? Or can we have two directories in TEXMFROOT?

If 
	$data = /gnu/store/a45w3lck41242h4j4qxcz50vzmgpq9ih-texlive-2014-data
	$doc  = /gnu/store/ds0hpqkpjfbdwyngi3yv58vm1xiv46d9-texlive-2014-doc

I don't know what the layout would be - is $doc also TDS? or only the doc
part of texmf-dist?

In case it is a TDS, then you have
	TEXMFROOT = $data
then probably best is to adapt
	TEXMFDOCS = $TEXMF/doc//;!!$doc/doc//
plus 
	TEXMFDBS = {!!$doc,...}

mktexlsr will create a ls-R file in $doc since it uses TEXMFDBSto
determine which one.

If you want to go without ls-R there (not recommended, there are a lot
of documents!) then remove the !! and the entry in TEXMFDBS


If $doc is the texmf-dist/doc directory, then I *guess* it works the same
way, but I am not sure.

But simply set it up like you want, and then do some
	kpsewhich -show-path
calls.

Hope that helps

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From karl.foerster at gmx.net  Thu Oct 30 16:45:03 2014
From: karl.foerster at gmx.net (=?ISO-8859-1?Q?Karl_F=F6rster?=)
Date: Thu, 30 Oct 2014 16:45:03 +0100
Subject: [tex-live] LaTeX Oldies
Message-ID: <54525CFF.4060903@gmx.net>

Ich /habe/:
1. ca. 50 Projekte in Latex-Dateien (xyz0.tex + mehrere input{xyzn.tex} 
+ viele \includegraphics uvw.png), die mit einem Latex + winshell etwa 
aus dem Jahre ca. 2004  (ich war damals DANTE-Mitglied) erstellt wurden 
und als pdf in den weiteren Verkehr gingen;
2. den PC unter Windows 98 SE, auf dem sie erstellt wurden, zerschossen.

Ich /habe versucht/, auf einem brandneuen (Oktober 2014) Tablet-Netbook 
unter Windows 8.1 ein Latex-System zu installieren (MiKTeX, Protext; 
TeXmaker, TeXLive ...): es ging immer schief (z.B. wurde ohne mein Zutun 
immer anstelle von C:\Program Files\... C:\Programme(x86)\... eingerichtet).

Ich/bin/ seit 25 Jahren reiner PC-/Nutzer ohne freak-Talente/ und 
w?nsche mir jetzt ein (gern professionelles) Angebot auf:
   eine DVD (oder USB-Stick) _Live_,
     geeignet f?r Windows XP,SP2 und Windows 8.1,
     mit Latex plus Editor, vorzugsweise Winshell
     plus einem Ordner f?r die vorhandenen und zu erzeugenden Dateien.

Wer macht mir sowas?

Mit freundlichen Gr??en
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20141030/77695eac/attachment.html>

