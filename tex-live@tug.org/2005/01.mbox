From gavin at celt.dias.ie  Mon Jan  3 22:54:20 2005
From: gavin at celt.dias.ie (Gavin McCullagh)
Date: Mon Jan  3 23:03:15 2005
Subject: [tex-live] Distributing Customised TeX Live
Message-ID: <20050103215420.GB31793@celt.dias.ie>

Hi,

I'm not certain if this is OT so apologies if this is the incorrect list to
ask this on.  

I maintain a shared central TeX system for a group of academics who are
almost all using Windows.  This works pretty well all round.  We just have
to add 

	s:\texlive\bin\win32\

to each of their paths and get Ghostscript/view into place separately.  

I've just installed the new TeX Live system from scratch and have added our
own various fonts and packages to the texmf-local tree.  It's moreorless
finished but I'm faced with an issue which is a bit of a hassle.  I don't
want to have to redo this on everyone's laptop too.  The custom stuff can
be quite time consuming.

What is the most sensible way to mirror the above system to laptops?  Is it
good enough just to use scp, unison, rsync etc into progra~1/ or will the
install process set things up notably better?  I know for example that it
places a few links in the start menu on Windows though they appear to only
be for admin tasks like running mktexlsr.

Is there a document somewhere detailing the best way to do this?  Would
there be many pitfalls in just using rsync or unison?

Gavin


From preining at logic.at  Tue Jan  4 08:23:50 2005
From: preining at logic.at (Norbert Preining)
Date: Tue Jan  4 08:25:58 2005
Subject: [tex-live] Updating some files in texmf-dist
Message-ID: <20050104072350.GA13277@gamma.logic.tuwien.ac.at>

Hi Sebastian! Hi list!

Is it ok if I update some files in texmf-dist, those I need/I use? (ATM
fourier-GUT, beamer, and some others) Or do we have to leave texmf-dist
frozen for now?

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HOBBS CROSS (n.)
The awkward leaping manoeuvre a girl has to go through in bed in order
to make him sleep on the wet patch.
			--- Douglas Adams, The Meaning of Liff

From wl at gnu.org  Tue Jan  4 09:09:16 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Jan  4 09:33:46 2005
Subject: [tex-live] Re: UTF8 and (La)TeX backend?
In-Reply-To: <16857.51290.309961.78098@byrd.xs4all.nl>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
Message-ID: <20050104.090916.25409471.wl@gnu.org>


> >     Ideally, those OpenType TeX fonts should behave similar to any
> >     other OpenType font; this means the loss of italic correction
> >     (which isn't available in OpenType fonts), for example, but it
> >     assures that the font interface doesn't have to cope with
> >     special cases.
> 
> That's not going to work completely, not only do we loose italic
> correction, but also design size.  Can't we agree with other parties
> (tetex?) on a standard SFNT table for TeX specific information?

That's an excellent idea, so I'm forwarding this to the relevant
mailing lists.  George already has started with three SFNT tables in
fontforge:

  ITLC  italic correction
  TCHL  TeX charlist
  TEXL  TeX extension list

Maybe we should add a fourth table to hold the missing bits...


    Werner

From karl at freefriends.org  Tue Jan  4 15:32:17 2005
From: karl at freefriends.org (Karl Berry)
Date: Tue Jan  4 15:35:01 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <20050104072350.GA13277@gamma.logic.tuwien.ac.at>
Message-ID: <200501041432.j04EWHE24414@f7.net>

    Is it ok if I update some files in texmf-dist, those I need/I use? (ATM
    fourier-GUT, beamer, and some others) Or do we have to leave texmf-dist
    frozen for now?

Please leave it frozen for a little while longer.
source.development is the only thing that's no problem to touch.

I'm asking Raj about an ETA for subversion at sarovar.

Meanwhile, I've checked in most of TL into CVS at sarovar, but haven't
quite finished.  I'll send out a bunch more mail when I do.

From preining at logic.at  Tue Jan  4 16:00:21 2005
From: preining at logic.at (Norbert Preining)
Date: Tue Jan  4 16:02:29 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <200501041432.j04EWHE24414@f7.net>
References: <20050104072350.GA13277@gamma.logic.tuwien.ac.at>
	<200501041432.j04EWHE24414@f7.net>
Message-ID: <20050104150021.GF24147@gamma.logic.tuwien.ac.at>

On Die, 04 Jan 2005, Karl Berry wrote:
>     Is it ok if I update some files in texmf-dist, those I need/I use? (ATM
>     fourier-GUT, beamer, and some others) Or do we have to leave texmf-dist
>     frozen for now?
> 
> Please leave it frozen for a little while longer.

Ok, no problem with me. 

> I'm asking Raj about an ETA for subversion at sarovar.
> 
> Meanwhile, I've checked in most of TL into CVS at sarovar, but haven't
> quite finished.  I'll send out a bunch more mail when I do.

Does this mean that the next stuff will all go via cvs/sarovar?

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
PIDDLETRENTHIDE (n.)
A trouser stain caused by a wimbledon (q.v.). Not to be confused with
a botley (q.v.)
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Tue Jan  4 16:12:12 2005
From: karl at freefriends.org (Karl Berry)
Date: Tue Jan  4 16:14:23 2005
Subject: [tex-live] Distributing Customised TeX Live
In-Reply-To: <20050103215420.GB31793@celt.dias.ie>
Message-ID: <200501041512.j04FCCR08709@f7.net>

Hi Gavin,

    good enough just to use scp, unison, rsync etc into progra~1/ or will the

I suspect this would be ok.  It's definitely ok on Unix.  Maybe some of
the Windows folks here can say more.

I think some environment variables have to be set in autoexec.bat (or
whatever) -- PATH and TEXMFTEMP, at least.  I don't think any registry
entries are needed?

    Is there a document somewhere detailing the best way to do this?  

Not that I've seen (I'd love to have one).  The TL install doc talks
somewhat about a central installation on Unix.  I can't write anything
about Windows mechanisms, though, lacking first-hand experience ...

It's not about distribution, but I'll mention that Fabrice did write
something about installing the TL'04 binaries on Windows:
http://tug.org/texlive/windows.html

Cheers,
karl

From gavin at celt.dias.ie  Tue Jan  4 19:18:41 2005
From: gavin at celt.dias.ie (Gavin McCullagh)
Date: Tue Jan  4 19:20:56 2005
Subject: [tex-live] Distributing Customised TeX Live
In-Reply-To: <200501041512.j04FCCR08709@f7.net>
References: <20050103215420.GB31793@celt.dias.ie>
	<200501041512.j04FCCR08709@f7.net>
Message-ID: <20050104181841.GF14435@celt.dias.ie>

Hi,

On Tue, 04 Jan 2005, Karl Berry wrote:

> I think some environment variables have to be set in autoexec.bat (or
> whatever) -- PATH and TEXMFTEMP, at least.  I don't think any registry
> entries are needed?

TEXMFTEMP is a new one to me.  Is this where temporary fonts etc are
written to?  If it is, I believe some long-term headaches may just be
getting solved.

> Not that I've seen (I'd love to have one).  The TL install doc talks
> somewhat about a central installation on Unix.  I can't write anything
> about Windows mechanisms, though, lacking first-hand experience ...

I don't have much experience either as I tend to install through unix.
However it is used through linux.  I'll see if I can pull together what
little I know and stick it up somewhere.  If anyone else has helpful things
to add (eg best way to add ghostscript utils) please post it.

> It's not about distribution, but I'll mention that Fabrice did write
> something about installing the TL'04 binaries on Windows:
> http://tug.org/texlive/windows.html

This is also helpful,

Thanks
Gavin

From karl at freefriends.org  Tue Jan  4 19:32:28 2005
From: karl at freefriends.org (Karl Berry)
Date: Tue Jan  4 19:35:05 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <20050104150021.GF24147@gamma.logic.tuwien.ac.at>
Message-ID: <200501041832.j04IWSE26859@f7.net>

    Does this mean that the next stuff will all go via cvs/sarovar?

sarovar, yes, I hope so.

cvs vs. svn (vs. p4), yet to be seen.

From Gerben.Wierda at rna.nl  Tue Jan  4 20:51:58 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Jan  4 20:54:08 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <200501041832.j04IWSE26859@f7.net>
References: <200501041832.j04IWSE26859@f7.net>
Message-ID: <1833342A-5E8A-11D9-8BA1-003065B3343E@rna.nl>

On Jan 4, 2005, at 19:32, Karl Berry wrote:

>     Does this mean that the next stuff will all go via cvs/sarovar?
>
> sarovar, yes, I hope so.
>
> cvs vs. svn (vs. p4), yet to be seen.

I think a freeze during the transition is of course necessary. But when 
the decision about what and where has not even been taken, does a 
freeze now make any sense? Why  not make sure we know what is going to 
happen first, then make a plan and include the freeze period in that 
migration plan. The way it goes now, we go into an indefinite freeze.

What holds for source.development also holds a bit for texmf-dist. 
After all, texmf-dist is in part also development. I have not seen a 
compelling argument why texmf-dist shoul dbe frozen while 
source.development should not.

G

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Jan  4 22:49:34 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Jan  4 22:51:33 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <20050104072350.GA13277@gamma.logic.tuwien.ac.at>
References: <20050104072350.GA13277@gamma.logic.tuwien.ac.at>
Message-ID: <41DB0F6E.2010203@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>Is it ok if I update some files in texmf-dist, those I need/I use? (ATM
>fourier-GUT, beamer, and some others) Or do we have to leave texmf-dist
>frozen for now?
>  
>
As Karl says, its simpler if we freeze all work on TeX Live until
we have it on Sarovar.

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From staw at gust.org.pl  Tue Jan  4 23:45:34 2005
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Jan  4 23:47:21 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <41DB0F6E.2010203@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0501042342210.27264-100000@re86.internetdsl.tpnet.pl>

On Tue, 4 Jan 2005, Sebastian Rahtz wrote:

> Norbert Preining wrote:
> 
> >Is it ok if I update some files in texmf-dist, those I need/I use? (ATM
> >fourier-GUT, beamer, and some others) Or do we have to leave texmf-dist
> >frozen for now?
> >
> As Karl says, its simpler if we freeze all work on TeX Live until
> we have it on Sarovar.

As I see, texmf-dist *was* changed after mastering TL, e.g. change #6656
(preview update from CTAN). Anyway, we can wait with making changes
as suggested.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan  5 00:12:15 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan  5 00:14:41 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <Pine.LNX.4.44.0501042342210.27264-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0501042342210.27264-100000@re86.internetdsl.tpnet.pl>
Message-ID: <41DB22CF.90800@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>
>As I see, texmf-dist *was* changed after mastering TL, e.g. change #6656
>(preview update from CTAN). Anyway, we can wait with making changes
>as suggested.
>
>  
>
I may have made a mistake or two before Karl caught me....

my personal plan is to make a special issue Knoppix with TeX Live for 
EuroTeX. that'll be fun.

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From staw at gust.org.pl  Wed Jan  5 00:47:46 2005
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Jan  5 00:49:54 2005
Subject: [tex-live] [OT] Updating some files in texmf-dist
In-Reply-To: <41DB22CF.90800@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0501050043510.27318-100000@re86.internetdsl.tpnet.pl>

On Tue, 4 Jan 2005, Sebastian Rahtz wrote:

> my personal plan is to make a special issue Knoppix with TeX Live for 
> EuroTeX. that'll be fun.

Ah, great. One fellow from GUST already made experimental SlaX-TL2004
which works quite well
http://parlament.uw.edu.pl/pliki/image_06.iso 
(SlaX somehow preconfigured for Polish needs).

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Wed Jan  5 02:26:58 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Jan  5 02:29:12 2005
Subject: [tex-live] Distributing Customised TeX Live
In-Reply-To: <20050104181841.GF14435@celt.dias.ie>
Message-ID: <200501050126.j051Qwc13632@f7.net>

    TEXMFTEMP is a new one to me.  

I think it's really for temporary files (don't know which programs),
based on Fabrice's suggested value:
  TEXMFTEMP = C:\Program Files\TeXLive\temp

    Is this where temporary fonts etc are written to?

That's VARTEXMF and/or VARTEXFONTS.  See texmf/web2c/texmf.cnf.
They're also discussed somewhat in the doc.

    I'll see if I can pull together what little I know and stick it up
    somewhere.

Thanks.

Best wishes,
karl

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan  5 10:30:23 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan  5 10:38:37 2005
Subject: [tex-live] [OT] Updating some files in texmf-dist
In-Reply-To: <Pine.LNX.4.44.0501050043510.27318-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0501050043510.27318-100000@re86.internetdsl.tpnet.pl>
Message-ID: <41DBB3AF.8000706@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>
>Ah, great. One fellow from GUST already made experimental SlaX-TL2004
>which works quite well
>http://parlament.uw.edu.pl/pliki/image_06.iso 
>(SlaX somehow preconfigured for Polish needs).
>  
>
my contribution is intended to be converting the TL2004 collections
into Debian packages, for what its worth.

sebastian

From pragma at wxs.nl  Tue Jan  4 23:58:14 2005
From: pragma at wxs.nl (h h extern)
Date: Wed Jan  5 11:11:47 2005
Subject: [tex-live] Updating some files in texmf-dist
In-Reply-To: <Pine.LNX.4.44.0501042342210.27264-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0501042342210.27264-100000@re86.internetdsl.tpnet.pl>
Message-ID: <41DB1F86.3060106@wxs.nl>

Staszek Wawrykiewicz wrote:

> As I see, texmf-dist *was* changed after mastering TL, e.g. change #6656

indeed, i noticed that when rsyncing my local copy a few days ago

> (preview update from CTAN). Anyway, we can wait with making changes
> as suggested.

sure, but it would be nice if the binaries were in sync (maybe some pdftex 
binaries already are 1.20b)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From Fabrice.Popineau at supelec.fr  Wed Jan  5 11:48:00 2005
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Wed Jan  5 11:50:13 2005
Subject: [tex-live] Distributing Customised TeX Live
In-Reply-To: <20050104181841.GF14435@celt.dias.ie> (Gavin McCullagh's message
	of "Tue, 4 Jan 2005 18:18:41 +0000")
References: <20050103215420.GB31793@celt.dias.ie>
	<200501041512.j04FCCR08709@f7.net>
	<20050104181841.GF14435@celt.dias.ie>
Message-ID: <ekh09mov.fsf@esemetz.metz.supelec.fr>


> TEXMFTEMP is a new one to me.  Is this where temporary fonts etc are
> written to?  If it is, I believe some long-term headaches may just be
> getting solved.

I have introduced this variable so that mktex* could work in a safe
place (safe wrt to NT/2K/XP permissions) without interfering with 'user'
TEMP/TMP whatever variable. The basic idea is as follows. If you use
some arbitrary location (c:/tmp for example, but possibly ~/tmp !) to
generate fonts, you are not sure that this location is readable by
everyone. It may happen that when files (pk files for example) are moved
they keep the permissions they heve been given when they were
created. In this case, you end up with some file (cmr10.600pk for
example) existing on the system, but readable only by the user that
generated it. Weird, because if a second user logs on the same machine,
tries to use tex, mktexpk will try to generate the font again and fail
to do so because it won't be able to install it. 

To oslve that, TeXSetup.exe used to create a 
"c:/program files/texlive/temp" directory and make sure that the right
permissions are setup on this directory. Then at kpathsea
initialization, TMP and TEMP env vars are overriden by the TEXMFTEMP
value. This way, I was sure that the temp files were machine wide
readable before being moved. Possibly there are other ways to solve the
issue.

Not sure if this is clear for everyone however.

Fabrice

clear, but 
>> Not that I've seen (I'd love to have one).  The TL install doc talks
>> somewhat about a central installation on Unix.  I can't write
>> anything about Windows mechanisms, though, lacking first-hand
>> experience ...

> I don't have much experience either as I tend to install through unix.
> However it is used through linux.  I'll see if I can pull together
> what little I know and stick it up somewhere.  If anyone else has
> helpful things to add (eg best way to add ghostscript utils) please
> post it.

>> It's not about distribution, but I'll mention that Fabrice did write
>> something about installing the TL'04 binaries on Windows:
>> http://tug.org/texlive/windows.html

> This is also helpful,

> Thanks Gavin

> _______________________________________________ TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live

-- 
Fabrice Popineau
------------------------
e-mail:       Fabrice.Popineau@supelec.fr  |  The difference between theory 
voice-mail:   +33 (0) 387764715            |  and practice, is that
surface-mail: Supelec, 2 rue E. Belin,     |  theoretically,
	      F-57070 Metz 	           |  there is no difference !

From preining at logic.at  Wed Jan  5 14:06:42 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan  5 14:08:54 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
Message-ID: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>

Hi all!

I want to hear your opinion on the packaging concept of TeXlive for
Debian:

Proposal for a Debian packaging system for TeXlive
==================================================
(last update: 2004-01-05)

All debian package names are prefixed with tl-

The tpm in texmf/tpm/ (collection-*, bin-*, lib-*, hyphen-*, scheme-*) 
are mapped to debian packages.

Mapping:
	bin-XXX		->	tl-XXX-bin 	(standard debian notation)
	collection-XXX	->	tl-XXX
	lib-XXX		->	tl-lib-XXX	(??)
	hyphen-XXX	->	tl-hyphen-XXX
	scheme-XXX	->	tl-scheme-XXX

TPM-Requires between these packages are mapped to Debian Dependencies.

All other files obtained from a TPM-Require are included in the 
debian package.

Thus we have:
binaries:
	tl-afm2pl-bin tl-aleph-bin tl-amstex-bin tl-bibtex-bin ...
collection:
	tl-basic tl-bibtexextra tl-binaries tl-chemistry tl-context ...
libs:
	tl-lib-freetype2 tl-lib-gd ...
schemes:
	tl-scheme-basic tl-scheme-context tl-scheme-full ...



As an example, tl-chemistry Debian-depends on
(binaries)
	(no)
(other collection)
	tl-basic
and includes the files from
	bpchem.tpm chemarrow.tpm chemcono.tpm mhchem.tpm xymtex.tpm

===================================================================

Any suggestions? I will start on writing some stuff to get debian
packages from the tpm files, using Tpm.pm from Fabrice.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
(aikamuotojen k?ytt? aikamatkustuksessa)
You can arrive (mayan arivan on-when) for any sitting you
like without prior (late fore-when) reservation because you
can book retrospectively, as it were when you return to
your own time. (you can have on-book haventa forewhen
presooning returningwenta retrohome.)
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From rogiervd at gmail.com  Tue Jan  4 10:37:47 2005
From: rogiervd at gmail.com (Rogier van Dalen)
Date: Wed Jan  5 14:26:54 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <20050104.090916.25409471.wl@gnu.org>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org>
Message-ID: <e094f9eb0501040137415f3e31@mail.gmail.com>

On Tue, 04 Jan 2005 09:09:16 +0100 (CET), Werner LEMBERG <wl@gnu.org> wrote:
> 
> > >     Ideally, those OpenType TeX fonts should behave similar to any
> > >     other OpenType font; this means the loss of italic correction
> > >     (which isn't available in OpenType fonts), for example, but it
> > >     assures that the font interface doesn't have to cope with
> > >     special cases.
> >
> > That's not going to work completely, not only do we loose italic
> > correction, but also design size.  Can't we agree with other parties
> > (tetex?) on a standard SFNT table for TeX specific information?
> 
> [...]
> Maybe we should add a fourth table to hold the missing bits...

FWIW, design size information is already in the OpenType specs: "size"
feature (rather than a table).
Maybe these things ought to be discussed on the OpenType mailing list too?

Regards,
Rogier

From gww at silcom.com  Tue Jan  4 17:04:23 2005
From: gww at silcom.com (George Williams)
Date: Wed Jan  5 14:26:55 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <20050104.090916.25409471.wl@gnu.org>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org>
Message-ID: <1104854663.1123.66.camel@lynch>

On Tue, 2005-01-04 at 00:09, Werner LEMBERG wrote:
> > >     Ideally, those OpenType TeX fonts should behave similar to any
> > >     other OpenType font; this means the loss of italic correction
> > >     (which isn't available in OpenType fonts), for example, but it
> > >     assures that the font interface doesn't have to cope with
> > >     special cases.
> > 
> > That's not going to work completely, not only do we loose italic
> > correction, but also design size.  Can't we agree with other parties
> > (tetex?) on a standard SFNT table for TeX specific information?
> 
> That's an excellent idea, so I'm forwarding this to the relevant
> mailing lists.  George already has started with three SFNT tables in
> fontforge:
> 
>   ITLC  italic correction
>   TCHL  TeX charlist
>   TEXL  TeX extension list
Actually I didn't add tables, I added new feature tags.
	ITLC is a GPOS format 1 feature (allows positioning changes to
		single glyph)
	TCHL is a GSUB format 3 feature (replaces one glyph with one of
		many glyphs)
	TEXL is a GSUB format 2 feature (replaces one glyph with many).
> 
> Maybe we should add a fourth table to hold the missing bits...
I'd be happy to add a 'TEX ' table (or something similar) to hold TeX
font parameters. What should go in it? (I'd rather have a separate
meaning for each parameter slot than overload them as the tfm file
does).

I think information that applies to single glyphs (italic correction,
etc.) is better done as GPOS/GSUB features if it can fit in that format.

> FWIW, design size information is already in the OpenType specs: "size"
> feature (rather than a table).
ff doesn't currently support this, but I could add that. 
> Maybe these things ought to be discussed on the OpenType mailing list too?
I brought up ITLC on the OpenType list some time ago, hoping to get it
added to the standard feature list. I was unable to do so. Perhaps if
other people expressed interest we could bring it up again?

From hanwen at xs4all.nl  Tue Jan  4 23:11:08 2005
From: hanwen at xs4all.nl (Han-Wen Nienhuys)
Date: Wed Jan  5 14:26:56 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <1104854663.1123.66.camel@lynch>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org>
	<1104854663.1123.66.camel@lynch>
Message-ID: <16859.5244.34430.143742@byrd.xs4all.nl>

gww@silcom.com writes:
> > mailing lists.  George already has started with three SFNT tables in
> > fontforge:
> > 
> >   ITLC  italic correction
> >   TCHL  TeX charlist
> >   TEXL  TeX extension list
> Actually I didn't add tables, I added new feature tags.
> 	ITLC is a GPOS format 1 feature (allows positioning changes to
> 		single glyph)
> 	TCHL is a GSUB format 3 feature (replaces one glyph with one of
> 		many glyphs)
> 	TEXL is a GSUB format 2 feature (replaces one glyph with many).
> > 
> > Maybe we should add a fourth table to hold the missing bits...
> I'd be happy to add a 'TEX ' table (or something similar) to hold TeX
> font parameters. What should go in it? (I'd rather have a separate
> meaning for each parameter slot than overload them as the tfm file
> does).

Hmm. I'd say it should contain all info from the TFM 

  * metrics (these are entirely unrelated to the extents of the
    outlines)

  * 30 spacing parameters

  * checksum

  * design size

of course if anything fits elsewhere in the OT font, then it should be
stored in the natural location.

-- 

 Han-Wen Nienhuys   |   hanwen@xs4all.nl   |   http://www.xs4all.nl/~hanwen 

From gww at silcom.com  Wed Jan  5 00:19:28 2005
From: gww at silcom.com (George Williams)
Date: Wed Jan  5 14:26:57 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <16859.5244.34430.143742@byrd.xs4all.nl>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org> <1104854663.1123.66.camel@lynch>
	<16859.5244.34430.143742@byrd.xs4all.nl>
Message-ID: <1104880727.1121.62.camel@lynch>

On Tue, 2005-01-04 at 14:11, Han-Wen Nienhuys wrote:
> Hmm. I'd say it should contain all info from the TFM 
> 
>   * metrics (these are entirely unrelated to the extents of the
>     outlines)
The advance widths have their natural place.
Height/Depth information:
   Per glyph Bounding box information is stored before every glyph in a
   tt file (more accurately than in a tfm file). These data are not
   stored in a cff file but are easily calculated from outlines.
> 
>   * 30 spacing parameters
I'm not sure what you mean by this. Are these the font parameter words?
If so there may be 8 or 23 or 14... Oh, perhaps I see, if you don't
overload them then there are 30 of them.
> 
>   * checksum
Why? It has no meaning in an sfnt. Sfnts have their own checksums.
> 
>   * design size
As Rogier van Dalen points out this should be stored as a feature.

So I the only things I hear as being needed in a separate table are the
spacing parameters -- which I presume to be the font parameter words --
and possibly the checksum -- if someone can explain why this is
relevant.

Any thoughts on a tag for the table? "TEX ", "TeX ", "TFM " ...

From hanwen at xs4all.nl  Wed Jan  5 00:40:56 2005
From: hanwen at xs4all.nl (Han-Wen Nienhuys)
Date: Wed Jan  5 14:26:58 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <1104880727.1121.62.camel@lynch>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org>
	<1104854663.1123.66.camel@lynch>
	<16859.5244.34430.143742@byrd.xs4all.nl>
	<1104880727.1121.62.camel@lynch>
Message-ID: <16859.10632.439131.127799@byrd.xs4all.nl>

gww@silcom.com writes:
> On Tue, 2005-01-04 at 14:11, Han-Wen Nienhuys wrote:
> > Hmm. I'd say it should contain all info from the TFM 
> > 
> >   * metrics (these are entirely unrelated to the extents of the
> >     outlines)
> The advance widths have their natural place.
> Height/Depth information:
>    Per glyph Bounding box information is stored before every glyph in a
>    tt file (more accurately than in a tfm file). These data are not
>    stored in a cff file but are easily calculated from outlines.

Then they have to be there in the CFF separately. The H/D can be
different from the outlines, eg. due to overshoot. 

> >   * 30 spacing parameters
> I'm not sure what you mean by this. Are these the font parameter words?
> If so there may be 8 or 23 or 14... Oh, perhaps I see, if you don't
> overload them then there are 30 of them.

in my TFM reader it says,

	/* The maximum number of global font parameters we allow.  */
	#define TFM_MAX_FONTDIMENS 30

I guess they're font parameter words.

> >   * checksum
> Why? It has no meaning in an sfnt. Sfnts have their own checksums.

Hmm. Good point. TeX reads checksums when it writes DVI files. I
suppose that they're moot as long as TeX itself doesn't read Sfnts 

> Any thoughts on a tag for the table? "TEX ", "TeX ", "TFM " ...

TeX seems nice.

-- 

 Han-Wen Nienhuys   |   hanwen@xs4all.nl   |   http://www.xs4all.nl/~hanwen 

From gww at silcom.com  Wed Jan  5 02:36:29 2005
From: gww at silcom.com (George Williams)
Date: Wed Jan  5 14:26:59 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <16859.10632.439131.127799@byrd.xs4all.nl>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org> <1104854663.1123.66.camel@lynch>
	<16859.5244.34430.143742@byrd.xs4all.nl>
	<1104880727.1121.62.camel@lynch>
	<16859.10632.439131.127799@byrd.xs4all.nl>
Message-ID: <1104888989.1121.92.camel@lynch>

On Tue, 2005-01-04 at 15:40, Han-Wen Nienhuys wrote:
> Then they have to be there in the CFF separately. The H/D can be
> different from the outlines, eg. due to overshoot. 
What do you mean by overshoot?

Remember tfm metrics are not perfect. There are only 16 possible values
for depth or height, and one of these is required to be 0. So in a font
with many different glyph sizes the tfm file has already done some kind
of grouping operation which can lose a lot of information.

All the information about the glyph's shape is contained in its outline.
It's going to be far more accurate than a rounded tfm value. Now
admittedly there an outline may not reach it's extrema at an on-curve
point, but finding extrema on a cubic/quadratic is fairly trivial.

From rogiervd at gmail.com  Wed Jan  5 10:54:02 2005
From: rogiervd at gmail.com (Rogier van Dalen)
Date: Wed Jan  5 14:27:01 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <1104854663.1123.66.camel@lynch>
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org> <1104854663.1123.66.camel@lynch>
Message-ID: <e094f9eb05010501547e324d7d@mail.gmail.com>

On 04 Jan 2005 08:04:23 -0800, George Williams <gww@silcom.com> wrote:
> > Maybe these things ought to be discussed on the OpenType mailing list too?
> I brought up ITLC on the OpenType list some time ago, hoping to get it
> added to the standard feature list. I was unable to do so. Perhaps if
> other people expressed interest we could bring it up again?

I didn't even remember that; but looking at the archive it seems there
just wasn't much of a discussion. I'd suggest we try again. Note that
the Adobe people may not feel the necessity of italic correction with
an optical kerning feature built into InDesign.
A fair amount of discussion could follow; I, for one, think that there
ought to be italic correction on the left side as well.

Regards,
Rogier

From beebe at math.utah.edu  Wed Jan  5 14:47:49 2005
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Wed Jan  5 14:50:11 2005
Subject: [tex-live] Distributing Customised TeX Live
In-Reply-To: Your message of Wed, 05 Jan 2005 11:48:00 +0100
Message-ID: <CMM.0.92.0.1104932869.beebe@psi.math.utah.edu>

Fabrice Popineau <Fabrice.Popineau@supelec.fr> writes on Wed, 05 Jan
2005 11:48:00 +0100 about the reasons for introducing the TEXMFTEMP
environment variable: to prevent font files being generated by a
previous user in a public directory that are not readable (or
writable) by subsequent users.  

That is indeed a problem, but isn't a better solution to have the TeX
tool that generates fonts on the fly also set the font-file
protections for public read access (on Unix, "chmod a+r
/tmp/foo.600pk").  Our MakeTeXPK script has always done that (the RCS
history here shows chmod commands in the original 1995 version).

Of course, denial-of-service attacks are always possible in public
directories:

	touch /tmp/cmr10.300pk
	chmod 700 /tmp/cmr10.300pk

As a manager, I would have very negative view of such a user, and
would likely close the user account.  We have 10K+ student users on
our systems, and TeX gets run over a million times a semester (in the
WebWork online problem and quiz system); so far, such attacks have not
happened.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From karl at freefriends.org  Wed Jan  5 14:51:43 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Jan  5 14:54:24 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
Message-ID: <200501051351.j05DphT27500@f7.net>

    binaries:
            tl-afm2pl-bin tl-aleph-bin tl-amstex-bin tl-bibtex-bin ...

is there a standard way in debian to handle different architectures, so
that the arch name doesn't need to be included in the pkg name?
Probably, just thought I'd ask ...

Sounds nice.  Not sure if this is what Sebastian had in mind too.

Thanks,
karl

From vvv at vsu.ru  Wed Jan  5 14:56:13 2005
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed Jan  5 15:01:23 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <1104888989.1121.92.camel@lynch> (George Williams's message of
	"04 Jan 2005 17:36:29 -0800")
References: <16855.57222.106653.430933@byrd.xs4all.nl>
	<20050103.192507.80033417.wl@gnu.org>
	<16857.51290.309961.78098@byrd.xs4all.nl>
	<20050104.090916.25409471.wl@gnu.org> <1104854663.1123.66.camel@lynch>
	<16859.5244.34430.143742@byrd.xs4all.nl>
	<1104880727.1121.62.camel@lynch>
	<16859.10632.439131.127799@byrd.xs4all.nl>
	<1104888989.1121.92.camel@lynch>
Message-ID: <873bxg3rpe.fsf@vvv.vsu.ru>

"GW" == George Williams writes:

 >> Then they have to be there in the CFF separately. The H/D can be
 >> different from the outlines, eg. due to overshoot.
 GW> What do you mean by overshoot?

 GW> Remember tfm metrics are not perfect. There are only 16 possible
 GW> values for depth or height, and one of these is required to be
 GW> 0. So in a font with many different glyph sizes the tfm file has
 GW> already done some kind of grouping operation which can lose a lot
 GW> of information.

 GW> All the information about the glyph's shape is contained in its
 GW> outline.  It's going to be far more accurate than a rounded tfm
 GW> value.

No, the glyph height, for example, is used by TeX to put calculate
accent positioning over the glyph. And by design, some glyphs like "o"
have small "overshoots", which should not lead to a change in
caculated accent position. So having glyph dimentions as separate
entities (rather than obtained from glyph outline) seems the right
thing to do.

(added Cc to tex-fonts@math.utah.edu, as this discussion is most
relevant to that list).

Best,
v.

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan  5 15:09:22 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan  5 15:17:31 2005
Subject: [tex-live] Re: Packaging TeXlive as Debian packages
In-Reply-To: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
Message-ID: <41DBF512.9090608@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>I want to hear your opinion on the packaging concept of TeXlive for
>Debian:
>  
>
I cannot explain how happy it makes me to see Norbert pick this up!
This has been my dream for 3 years now. I almost had it done then,
but lost my work in a disk crash and got discouraged.

>All debian package names are prefixed with tl-
>
>  
>
agreed

>The tpm in texmf/tpm/ (collection-*, bin-*, lib-*, hyphen-*, scheme-*) 
>are mapped to debian packages.
>
>  
>
where scheme-* are virtual Debian packages?

>Mapping:
>	bin-XXX		->	tl-XXX-bin 	(standard debian notation)
>	collection-XXX	->	tl-XXX
>	lib-XXX		->	tl-lib-XXX	(??)
>	hyphen-XXX	->	tl-hyphen-XXX
>	scheme-XXX	->	tl-scheme-XXX
>  
>
I think that in practice we dont have tl-lib-* for Linux

>TPM-Requires between these packages are mapped to Debian Dependencies.
>
>All other files obtained from a TPM-Require are included in the 
>debian package.
>  
>
agreed.

>Any suggestions? I will start on writing some stuff to get debian
>packages from the tpm files, using Tpm.pm from Fabrice.
>  
>
that should be fine.

One very serious problem which would effect this ever
reaching "real" Debian is that the source is monolithic.
Ideally, we'd split the current source tree into separate bits,
but perhaps thats better left to a later stage.

we also need to deal with the Debian conventions. Lets assume
all the texmf* trees are installed into /usr/share/texlive, but we
cannot put binaries in /usr/share/texlive/bin/$ARCH, so we'll need
a texmf.cnf installed (in /etc/texlive, I assume) which the binaries
will find and does the right thing.

teTeX shows the way forward for some of these issues, of course.


Sebastian

From preining at logic.at  Wed Jan  5 15:21:43 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan  5 15:23:55 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <200501051351.j05DphT27500@f7.net>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<200501051351.j05DphT27500@f7.net>
Message-ID: <20050105142143.GA19220@gamma.logic.tuwien.ac.at>

On Mit, 05 Jan 2005, Karl Berry wrote:
>     binaries:
>             tl-afm2pl-bin tl-aleph-bin tl-amstex-bin tl-bibtex-bin ...
> 
> is there a standard way in debian to handle different architectures, so
> that the arch name doesn't need to be included in the pkg name?
> Probably, just thought I'd ask ...

Yes, this is automatically. The name of the actually debian package is
more or less
	packagename_versionnumber-debianversion_architecture
thus we do not have to care for this. This is done by debian already.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GLOADBY MARWOOD (n.)
Someone who stops Jon Cleese on the street and demands that he does a
funny walk.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Wed Jan  5 15:29:00 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan  5 15:31:09 2005
Subject: [tex-live] Re: Packaging TeXlive as Debian packages
In-Reply-To: <41DBF512.9090608@computing-services.oxford.ac.uk>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<41DBF512.9090608@computing-services.oxford.ac.uk>
Message-ID: <20050105142900.GB19220@gamma.logic.tuwien.ac.at>

Hi all!

On Mit, 05 Jan 2005, Sebastian Rahtz wrote:
> This has been my dream for 3 years now. I almost had it done then,
> but lost my work in a disk crash and got discouraged.

So I will bomb you with questions ;-)

> where scheme-* are virtual Debian packages?

Yes, since they do not contain files by themselves, as in the TL
distribution.

> >Mapping:
> >	bin-XXX		->	tl-XXX-bin 	(standard debian notation)
> >	collection-XXX	->	tl-XXX
> >	lib-XXX		->	tl-lib-XXX	(??)
> >	hyphen-XXX	->	tl-hyphen-XXX
> >	scheme-XXX	->	tl-scheme-XXX
> > 
> >
> I think that in practice we dont have tl-lib-* for Linux

Yes I think too, and this is in fact a good idea.

> One very serious problem which would effect this ever
> reaching "real" Debian is that the source is monolithic.
> Ideally, we'd split the current source tree into separate bits,
> but perhaps thats better left to a later stage.

Not necessarily. It is allowed that several packages are build from ONE
source package (eg all the xfree packages are built from one source
package). Ours contain the source stuff with some scripts.

For the texmf stuff (packages not containing binaries) I don't know
about it. I am not a professional DD, but I can ask around.

> we also need to deal with the Debian conventions. Lets assume
> all the texmf* trees are installed into /usr/share/texlive, but we
> cannot put binaries in /usr/share/texlive/bin/$ARCH, so we'll need
> a texmf.cnf installed (in /etc/texlive, I assume) which the binaries
> will find and does the right thing.

THere are several things more, but these will come only after some time:
- what about debian tex packages (preview-latex etc) installing files
  into /usr/share/texmf
- texmf.cnf: Maybe we can recompile binaries such that in some cases
  (-DDEBIAN) first /etc/texmf/texmf.cnf is searched for?
- more to come.


Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HATHERSAGE (n.)
The tiny snippets of beard which coat the inside of a washbasin after
shaving in it.
			--- Douglas Adams, The Meaning of Liff

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan  5 15:39:50 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan  5 15:47:57 2005
Subject: [tex-live] Re: Packaging TeXlive as Debian packages
In-Reply-To: <20050105142900.GB19220@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<41DBF512.9090608@computing-services.oxford.ac.uk>
	<20050105142900.GB19220@gamma.logic.tuwien.ac.at>
Message-ID: <41DBFC36.8000808@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>
>>One very serious problem which would effect this ever
>>reaching "real" Debian is that the source is monolithic.
>>Ideally, we'd split the current source tree into separate bits,
>>but perhaps thats better left to a later stage.
>>    
>>
>
>Not necessarily. It is allowed that several packages are build from ONE
>source package (eg all the xfree packages are built from one source
>package).
>
ah, excellent. I had not appreciated that Debian accomodated this.

> Ours contain the source stuff with some scripts.
>
>For the texmf stuff (packages not containing binaries) I don't know
>about it. I am not a professional DD, but I can ask around.
>  
>
the concept of "source" here is fairly meaningless. And I wonder about 
documentation.
but we could put texmf-doc into /usr/share/doc/texlive

>THere are several things more, but these will come only after some time:
>- what about debian tex packages (preview-latex etc) installing files
>  into /usr/share/texmf
>  
>
indeed. thats more complicated. but lets not worry too much about that now

>- texmf.cnf: Maybe we can recompile binaries such that in some cases
>  (-DDEBIAN) first /etc/texmf/texmf.cnf is searched for
>  
>
hmm. a lot of work to maintain a separate set of binaries.

the alternative is to add "export TEXsomething=something" to 
/etc/profile, or whatever,
but that isn't proper in Debian.

I think in practice, if we are to re-use existing binaries, we need a 
symlink
from /usr/share/texmf/web2c/texmf.cnf (which will be found by 
/usr/bin/tex, agreed?)
to /etc/texlive/texmf.cnf, and make that one the master copy.

sebastian

From wl at gnu.org  Wed Jan  5 16:35:50 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Wed Jan  5 16:38:29 2005
Subject: [tex-live] Re: [Fontforge-devel] Re: UTF8 and (La)TeX backend?
In-Reply-To: <1104888989.1121.92.camel@lynch>
References: <1104880727.1121.62.camel@lynch>
	<16859.10632.439131.127799@byrd.xs4all.nl>
	<1104888989.1121.92.camel@lynch>
Message-ID: <20050105.163550.14355344.wl@gnu.org>


> Remember tfm metrics are not perfect.  There are only 16 possible
> values for depth or height, and one of these is required to be 0.
> So in a font with many different glyph sizes the tfm file has
> already done some kind of grouping operation which can lose a lot of
> information.

Whatever the TeX height and depth values look like, they should be
exactly represented in the OpenType font -- remember that those values
are *completely independent* from the real glyph shape.  Replacing
them with bbox values is not possible.


    Werner

From Fabrice.Popineau at supelec.fr  Wed Jan  5 16:47:57 2005
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Wed Jan  5 16:50:11 2005
Subject: [tex-live] Distributing Customised TeX Live
In-Reply-To: <CMM.0.92.0.1104932869.beebe@psi.math.utah.edu> (Nelson
	H. F. Beebe's message of "Wed, 5 Jan 2005 06:47:49 -0700 (MST)")
References: <CMM.0.92.0.1104932869.beebe@psi.math.utah.edu>
Message-ID: <hdlv6fo2.fsf@esemetz.metz.supelec.fr>


> That is indeed a problem, but isn't a better solution to have the TeX
> tool that generates fonts on the fly also set the font-file
> protections for public read access (on Unix, "chmod a+r
> /tmp/foo.600pk").  Our MakeTeXPK script has always done that (the RCS
> history here shows chmod commands in the original 1995 version).

The problem  occured only   on NT/2K/XP  because  of  the specific  ACLs
mechanism  which runs besides the  old file  attributes mechanism. The C
version  of  mktex* mimics  the shell version.   However, if you do your
chmod and so but the ACLs do not match what  you need, that won't work
anyway. You need to be sure your generated file will inherit the ACL and
that the ACL he will get is everyone:read . I  didn't want to put C code
for  that  in the   tex  &  friends source   code.   It was   located in
TeXSetup.exe only, hence the hack with the TEMP dir.

Fabrice



From preining at logic.at  Wed Jan  5 17:07:25 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan  5 17:09:36 2005
Subject: [tex-live] Re: Packaging TeXlive as Debian packages
In-Reply-To: <41DBFC36.8000808@computing-services.oxford.ac.uk>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<41DBF512.9090608@computing-services.oxford.ac.uk>
	<20050105142900.GB19220@gamma.logic.tuwien.ac.at>
	<41DBFC36.8000808@computing-services.oxford.ac.uk>
Message-ID: <20050105160725.GC19220@gamma.logic.tuwien.ac.at>

Hello all!

On Mit, 05 Jan 2005, Sebastian Rahtz wrote:
> >For the texmf stuff (packages not containing binaries) I don't know
> >about it. I am not a professional DD, but I can ask around.
> >
> the concept of "source" here is fairly meaningless. And I wonder about 
> documentation.
> but we could put texmf-doc into /usr/share/doc/texlive

Well, documentation normally is in /usr/share/doc/<package>/... 
How to cope with this, no idea ATM, but who cares for now.

> >- what about debian tex packages (preview-latex etc) installing files
> > into /usr/share/texmf
> >
> indeed. thats more complicated. but lets not worry too much about that now

True. Ignore the packages, or make a contradict entry.

> >- texmf.cnf: Maybe we can recompile binaries such that in some cases
> > (-DDEBIAN) first /etc/texmf/texmf.cnf is searched for
> > 
> >
> hmm. a lot of work to maintain a separate set of binaries.


In fact, as far as I know, if we want to have *official* debian
packages, then the bins *have to be* recompiled on buildd server
machines to be accepted. We only can upload sources!

In this case this would not be a problem as we can add a -DDEBIAN to the
debian build stuff and get it right.

> I think in practice, if we are to re-use existing binaries, we need a 
> symlink
> from /usr/share/texmf/web2c/texmf.cnf (which will be found by 
> /usr/bin/tex, agreed?)

Hmm, not that I know. I dont know where tex/kpse searches for the `first
prime' texmf.cnf (from which it takes all other search pathes)? I
thought from
	../../texmf/web2c
ie ATM
	Master/bin/alpha-linux/tex
is looking for
	Master/texmf/web2c/texmf.cnf

Olaf? Does this also work with one directory level less?

Anyway, as I guess that the binaries have to be rebuild on the debian
devel hosts we can fix this.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
CLONMULT (n.)
A yellow ooze usually found near secretions of buldoo (q.v.) and
sadberge (q.v.)
			--- Douglas Adams, The Meaning of Liff

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan  5 17:17:37 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan  5 17:19:39 2005
Subject: [tex-live] Re: Packaging TeXlive as Debian packages
In-Reply-To: <20050105160725.GC19220@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<41DBF512.9090608@computing-services.oxford.ac.uk>
	<20050105142900.GB19220@gamma.logic.tuwien.ac.at>
	<41DBFC36.8000808@computing-services.oxford.ac.uk>
	<20050105160725.GC19220@gamma.logic.tuwien.ac.at>
Message-ID: <41DC1321.5040303@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>
>Well, documentation normally is in /usr/share/doc/<package>/... 
>How to cope with this, no idea ATM, but who cares for now.
>
>  
>
anything in collection foo which comes from texmf-doc is copied to 
debian/tl-foo/usr/share/doc/tl-foo;
should be fairly easy

>
>Hmm, not that I know. I dont know where tex/kpse searches for the `first
>prime' texmf.cnf (from which it takes all other search pathes)? I
>thought from
>	../../texmf/web2c
>ie ATM
>	Master/bin/alpha-linux/tex
>is looking for
>	Master/texmf/web2c/texmf.cnf
>
>Olaf? Does this also work with one directory level less?
>  
>
if you do a debugging run, you'll see it searches a whole list of places.
my recollection is that this includes ../share/texmf/web2c.

>Anyway, as I guess that the binaries have to be rebuild on the debian
>devel hosts we can fix this.
>
if I am right, we can get past this stage for now

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From preining at logic.at  Wed Jan  5 18:26:43 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan  5 18:28:51 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
Message-ID: <20050105172643.GF19220@gamma.logic.tuwien.ac.at>

HI all, hi Sebastian!

On Mit, 05 Jan 2005, Norbert Preining wrote:
> All other files obtained from a TPM-Require are included in the 
> debian package.

Ugg. Sebastian, you said you have done this nearly finished.

What to do with Package/xyz which is included in *several* collections
or schemes?

I have generated a list of these packages. Here is an excerpt of some
funny/problematic stuff:
cm:
        collection-basic
        collection-fontsextra
        collection-langcyrillic
        collection-latexextra
        collection-pdfetex
        scheme-context
courier:
        collection-fontsextra
        collection-fontsrecommended
...

Note that this means, that collection-fontsextra EXPLICITELY asks for
courier, and collection-fontsrecommended the same.

Thus, we can NOT automatically include all explicit Require Package/*
in the debian packages, this would mean that some files would be in
several places.

So how do we solve this?

- Work over the list and fix it so that every package is only Required
  in ONE collection/scheme, and schemes do NOT ask for *explicit*
  packages but only other collections?
- other suggestions?

At the moment there are 77 packages which are references in more than
one collection/scheme.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LUFFNESS (n.)
Hearty feeling that comes from walking on the moors with gumboots and
cold ears.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Wed Jan  5 18:33:38 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan  5 18:35:44 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050105172643.GF19220@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<20050105172643.GF19220@gamma.logic.tuwien.ac.at>
Message-ID: <20050105173338.GG19220@gamma.logic.tuwien.ac.at>

On Mit, 05 Jan 2005, Norbert Preining wrote:
> At the moment there are 77 packages which are references in more than
> one collection/scheme.

Correction: 46 (after removing greps after eg apa which hit apacite ;-)
(maybe I am still wrong, but it is somewhere around this)

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SPITTAL OF GLENSHEE (n.)
That which has to be cleaned off castle floors in the morning after a
bagpipe contest or vampire attack.
			--- Douglas Adams, The Meaning of Liff

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan  5 18:38:18 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan  5 18:40:19 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050105172643.GF19220@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<20050105172643.GF19220@gamma.logic.tuwien.ac.at>
Message-ID: <41DC260A.2030102@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>Ugg. Sebastian, you said you have done this nearly finished.
>  
>
with TL as it was some years ago :-}

>What to do with Package/xyz which is included in *several* collections
>or schemes?
>
>I have generated a list of these packages. Here is an excerpt of some
>funny/problematic stuff:
>cm:
>        collection-basic
>        collection-fontsextra
>        collection-langcyrillic
>        collection-latexextra
>        collection-pdfetex
>        scheme-context
>courier:
>        collection-fontsextra
>        collection-fontsrecommended
>...
>  
>
rats. this would all be OK if we made each package a Debian package, of 
course.

I think we have to make some new collections. so we make 
"collection-cmfont",
and anyone who wants that Requires that collection.

I can work on this if you can produce a list?

(Karl, we'll need to do some work in Perforce in the tpm directories;
forgiveness in advance, please)

>- Work over the list and fix it so that every package is only Required
>  in ONE collection/scheme, and schemes do NOT ask for *explicit*
>  packages but only other collections
>  
>
yes. baning package requirement in schemes is probably necessary

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From preining at logic.at  Wed Jan  5 18:46:06 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan  5 18:48:14 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <41DC260A.2030102@computing-services.oxford.ac.uk>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<20050105172643.GF19220@gamma.logic.tuwien.ac.at>
	<41DC260A.2030102@computing-services.oxford.ac.uk>
Message-ID: <20050105174606.GH19220@gamma.logic.tuwien.ac.at>

Hi Sebastian!

On Mit, 05 Jan 2005, Sebastian Rahtz wrote:
> rats. this would all be OK if we made each package a Debian package, of 
> course.

Forget it. More than thousand packages. This is IMHO a no go.

> I think we have to make some new collections. so we make 
> "collection-cmfont",
> and anyone who wants that Requires that collection.
> 
> I can work on this if you can produce a list?

I have reduced the list under the assumption the i FORGET THE SCHEME-*
and only take collection-, bin-, hyphen- packages. In this case the list
has now 16 entries which should be fixable.
(eg metapost is fixable, as collection-metapost includes
collection-basic, see below, maybe others can be fixed the same way)

HA-prosper:
	collection-latexextra
	collection-latexrecommended
antt:
	collection-fontsextra
	collection-langpolish
cyrplain:
	collection-langcyrillic
	collection-plainextra
dbtt:
	collection-fontsextra
	collection-langcjk
	collection-omega
enctex:
	collection-basic
	collection-langpolish
eso-pic:
	collection-latexextra
	collection-pdfetex
jknapltx:
	collection-latexextra
	collection-latexrecommended
literat:
	collection-fontsextra
	collection-langcyrillic
lm:
	collection-fontsrecommended
	collection-latexrecommended
metapost: fixable, both include collection-basic
	collection-basic
	collection-metapost
multido:
	collection-genericextra
	collection-pictures
pgf:
	collection-latexextra
	collection-pictures
preview:
	collection-latexextra
	collection-latexrecommended
ruhyphen:
	collection-langcyrillic
	hyphen-russian
tap:
	collection-genericextra
	collection-langpolish
tpslifonts:
	collection-fontsextra
	collection-pdfetex

> (Karl, we'll need to do some work in Perforce in the tpm directories;
> forgiveness in advance, please)

> yes. baning package requirement in schemes is probably necessary

As I said, getting rid of schemes makes it more simple and probably
doable in short time.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
PIMLICO (n.)
Small odd-shaped piece of plastic or curious metal component found in
the bottom of kitchen rummage-drawer when spring-cleaning or looking
for Sellotape.
			--- Douglas Adams, The Meaning of Liff

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan  5 18:51:13 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan  5 18:53:14 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050105174606.GH19220@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>	<20050105172643.GF19220@gamma.logic.tuwien.ac.at>	<41DC260A.2030102@computing-services.oxford.ac.uk>
	<20050105174606.GH19220@gamma.logic.tuwien.ac.at>
Message-ID: <41DC2911.4060800@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>
>HA-prosper:
>	collection-latexextra
>	collection-latexrecommended
>
>jknapltx:
>	collection-latexextra
>	collection-latexrecommended
>
>pgf:
>	collection-latexextra
>	collection-pictures
>preview:
>	collection-latexextra
>	collection-latexrecommended
>
>  
>
these, for example, are simply errors.

can you leave this with me for the evening, and proceed on the 
assumption that
you can safely follow package requires when it comes to a production run?


-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From staw at gust.org.pl  Sun Jan  9 04:26:48 2005
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sun Jan  9 04:26:22 2005
Subject: [tex-live] incomplete amsfonts
Message-ID: <Pine.LNX.4.44.0501090319020.748-100000@re86.internetdsl.tpnet.pl>

Oops, I've just found that TL2004 has somehow incomplete set of 'classic'
amsfonts set. I cannot recall when and _why_ wncy* cyrillic fonts were 
removed at all. There are many consequences:
1. amsfonts package (as defined in .tpm) contains only support files,
   not fonts, which is messy in regard of including that in collection.
2. making updmap loads bsr.map which contains wncy*
3. typeseting existing documents will fail if they call wncy*

Sorry for not founding that before TL2004 release and not reacting...

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Sun Jan  9 15:49:15 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Jan  9 15:51:24 2005
Subject: [tex-live] incomplete amsfonts
In-Reply-To: <Pine.LNX.4.44.0501090319020.748-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200501091449.j09EnFj21686@f7.net>

    I cannot recall when and _why_ wncy* cyrillic fonts were 
    removed at all. 

Looks like a mistake, not intentional.  After perusing the logs in
Build/cdbuild/logs, I see that wncyr10.tfm (and .pfb and everything
else) was last deleted as part of change #4777 (on 2005-05-10), a huge
update by Sebastian from CTAN.

    Sorry for not founding that before TL2004 release and not reacting...

No one's fault, just one of those things.

Will mention it on the bugs page and re-update the fonts ASAP.  In the
meantime, at least people who need them can get the files from CTAN, or
from previous versions.

Cheers,
karl

From vvv at vsu.ru  Sun Jan  9 18:54:18 2005
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sun Jan  9 18:57:52 2005
Subject: [tex-live] Bulgarian hyphenation patterns are installed in the
	wrong place
Message-ID: <87k6qm32ut.fsf@vvv.vsu.ru>

Hi all,

TeX Live includes the Bulgarian hyphenation patterns (which are part
of babel), but it has them installed in the wrong place (where TeX
cannot find them - in the doc tree).

To fix, please do the following:

1) move the files

  bghyphen.tex bghyphsi.tex catmik.tex mik2t2.tex

   from texmf-dist/doc/generic/babel/ directory
   to either texmf/tex/generic/hyphen/
   or better create a separate dir: texmf-dist/tex/generic/bghyphen/
   since there are several files (similar to ruhyphen and to ukrhyph
   which reside in separate directories)

  Also, babel doc directory includes a few more patterns which should
  be moved to texmf/tex/generic/hyphen/
  to be useful: 

    iahyphen.tex icehyph.tex lahyph.tex

2) please include the line "bulgarian bghyphen" (and possibly another
   3 lines for other files mentined above) into language.dat
   (and/or make the necessary changes to make sure it will be added to
   user's language.dat after installation)

Thomas, please check teTeX-beta's tarballs with respect to these files
too (sorry - i can't check right now)

Best,
v.

From pragma at wxs.nl  Sun Jan  9 20:35:05 2005
From: pragma at wxs.nl (h h extern)
Date: Sun Jan  9 20:46:52 2005
Subject: [tex-live] incomplete amsfonts
In-Reply-To: <200501091449.j09EnFj21686@f7.net>
References: <200501091449.j09EnFj21686@f7.net>
Message-ID: <41E18769.8010709@wxs.nl>

Karl Berry wrote:
>     I cannot recall when and _why_ wncy* cyrillic fonts were 
>     removed at all. 
> 
> Looks like a mistake, not intentional.  After perusing the logs in
> Build/cdbuild/logs, I see that wncyr10.tfm (and .pfb and everything
> else) was last deleted as part of change #4777 (on 2005-05-10), a huge
> update by Sebastian from CTAN.
> 
>     Sorry for not founding that before TL2004 release and not reacting...
> 
> No one's fault, just one of those things.
> 
> Will mention it on the bugs page and re-update the fonts ASAP.  In the
> meantime, at least people who need them can get the files from CTAN, or
> from previous versions.

how about putting a zip somewhere that one can unzip over his/her texlive tree 
that add those missing fonts and such? i don't expect the average user to go to 
ctan, locate fonts, and put them at the right place, if they already know what 
to look for (for many users texlive provides a 'black box')

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Sun Jan  9 22:51:51 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Jan  9 22:53:57 2005
Subject: [tex-live] incomplete amsfonts
In-Reply-To: <41E18769.8010709@wxs.nl>
Message-ID: <200501092151.j09Lppt31462@f7.net>

    how about putting a zip somewhere

I intended to do that as soon as I can, but it will be a few days.  If
someone else can create an archive sooner, I'll happily link it on the
bugs page.

From vvv at vsu.ru  Mon Jan 10 01:11:23 2005
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon Jan 10 01:14:55 2005
Subject: [tex-live] suggested changes to file locations on CTAN
Message-ID: <87oefykus4.fsf@vvv.vsu.ru>

Greetings Johannes and CTAN Team,

i noticed that babel distribution includes some of hyphenation
patterns. As a result, these files are located in
CTAN:macros/latex/required/babel/
instead of
CTAN:language/hyphenation/

The latter is the long-established location for all hyphenation
patterns. And the situation when patterns are located in babel's
directory makes it harder for distributions to correctly install all
hyphenation patterns. This can be seen e.g. by the fact that TeX Live
2004's distribution has all these patterns installed in a place where
TeX cannot find them (namely, in texmf-dist/doc/generic/babel/).

Therefore, i suggest to REMOVE any hyphenation patterns from babel
distribution, and install them in the proper location on CTAN.
(after all, patterns can be used by themselves, without more advanced
babel support)

To further demonstrate the need for that, it can be noted that some of
the patterns in babel's distribution are already present in other
locations on CTAN, and sometimes files in babel are outdated.

Here are details:

1) Bulgarian patterns in macros/latex/required/babel/:

  bghyphen.tex bghyphsi.tex catmik.tex mik2t2.tex

Please (remove these files from babel and) install them in

CTAN:language/hyphenation/bghyphen/

(it makes sense to use separate dir since there are several files
(similar to ruhyphen and to ukrhyph) which reside in separate
directories)

2) Interlingua patterns:

CTAN:macros/latex/required/babel/iahyphen.tex
CTAN:language/hyphenation/iahyphen.tex

Both files are the same, and the file in babel's distribution may be
safely removed.

3) Icelandic patterns:

CTAN:macros/latex/required/babel/icehyph.tex
CTAN:language/multilingual/eurotex/inputs/icehyph.tex

files differ (though probably by the way of treating 8-bit chars:
^^-notation versus 8-bit chars), therefore i suggest to move the file
from CTAN:macros/latex/required/babel/icehyph.tex
to   CTAN:language/hyphenation/icehyph.tex

4) Latin patterns:

CTAN:language/hyphenation/lahyph.tex
CTAN:macros/latex/required/babel/lahyph.tex

The file distributed in babel is an older version compared to the file
in language/hyphenation, and therefore the file lahyph.tex can be
removed from babel.

Thank you very much for considering this proposal.

Best,
v.

From gavin at celt.dias.ie  Tue Jan 11 00:04:32 2005
From: gavin at celt.dias.ie (Gavin McCullagh)
Date: Tue Jan 11 00:06:47 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
Message-ID: <20050110230432.GC20628@celt.dias.ie>

Hi Norbert, Sebastian, all

On Wed, 05 Jan 2005, Norbert Preining wrote:

> I want to hear your opinion on the packaging concept of TeXlive for
> Debian:

As a huge Debian/APT fan and a maintainer of a TeX Live network system I
cannot stress how much I dream of this project coming to fruition.  Please,
please, please do it.  I am not a Debian packaging expert but I really
would love to see this done and would be interested to put some time into
helping, even if only as a tester.  

A few points that I would like to raise.

0. Once --- in a dream --- I considered doing this unofficially myself.
However, I simply wouldn't have had the time or expertise.  My strategy
would have been to start off with a small number of very large packages
(tl-bin-i386, tl-fonts, ...) and to gradually fork them into smaller ones
where necessary or beneficial.  As has been said elsewhere the work
involved in having a Debian package for every atomic unit of texlive seems
enormous and impractical.

I doubt one could automate creation of updated Debian packages when the
existing tree gets updated.  However, it would be far more plausible to go
the other way, ie if everything was first done as a Debian package, the
traditional tree could be automatically updated from it.  Perhaps this
might add too much strain to general maintenance though.


1. It is very important (for me) to be able to install binaries for several
architectures.  We keep a central tree which many users on different OSes
use and the existing bin/<arch>/ structure is very convenient.  While I
know if I'm on i386 Debian will transparently pick the correct binaries,
there is much to be said for having packages:

	tl-bin-i386
	tl-bin-win32
	tl-bin-macosx, etc

possibly with a dummy tl-bin package which selects the correct one from the
above.  I'm unsure of the correct Debian location for foreign binaries
(might it be /opt?) but I can't imagine it hasn't been answered before in
Debian policy.


2. It is important in Debian packaging to use the correct locations (docs
in /usr/share/docs; binaries in /usr/bin; etc etc).  However, the way we do
things currently is to have the single texlive/ directory shared over samba
and nfs.  This would be messy if things are spread out properly as per
Debian rules.  

It may be argued that the APT system just doesn't suit this but this would
be very disappointing.  One solution would be a small package called
something like tl-tree which uses many symlinks to simulate the previous
tree.


3. There are several very cool packages in Debian which handle use of
non-distributable stuff (eg flash, java).  What they do is create a small
package which when it is being configured prompts for the path to the
3rd party package.  The user downloads this themselves.  The Debian package
config then puts things in the right place and integrates it properly (eg
symlinks into browser plugin dirs).

I would suggest the above method could be used for 3rd party fonts.  It
would prompt for the tarball or loose pfb/afm files which the user
provides.  Then it would rename them, place them correctly, create or
install the correct supporting files (eg Walter Schmidt's) and run texhash.
In that case 'apt-get install tl-font-support-adobe-baskerville' would be
the method to install Adobe Baskerville.


4. There was a question of what to do when two packages installed the same
files.  I believe the general strategy in Debian is to create a xxxx-common
package which is required by both and contains these "common" files (eg
mysql-server, mysql-client both require mysql-common).  I may have
misunderstood the question though.


I hope some of these points are helpful.  Good luck in this most worthwhile
endeavour.

Gavin


From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Jan 11 00:57:53 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Jan 11 01:00:04 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050110230432.GC20628@celt.dias.ie>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<20050110230432.GC20628@celt.dias.ie>
Message-ID: <41E31681.3070007@computing-services.oxford.ac.uk>

All I can say is "watch this space". Norbert is working on the script now,
and the methodology seems straightforward. Once we get _something_ coming
out, tweaking paths and Debian setups will need some testing.

All being, Debianing the current TeX Live structure should be entirely 
automateable,
so keeping all this in sync should not be hard.

Sebastian

From preining at logic.at  Tue Jan 11 08:44:32 2005
From: preining at logic.at (Norbert Preining)
Date: Tue Jan 11 08:46:40 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050110230432.GC20628@celt.dias.ie>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<20050110230432.GC20628@celt.dias.ie>
Message-ID: <20050111074432.GB12957@gamma.logic.tuwien.ac.at>

Hi Gavin!

(Sebastian: There is an idea below about packaging, please comment)

On Mon, 10 Jan 2005, Gavin McCullagh wrote:
> As a huge Debian/APT fan and a maintainer of a TeX Live network system I
> cannot stress how much I dream of this project coming to fruition.  Please,

The same situation applies to me.

> would love to see this done and would be interested to put some time into
> helping, even if only as a tester.  

Good. I put you on my list of testers.

> 0. Once --- in a dream --- I considered doing this unofficially myself.
> However, I simply wouldn't have had the time or expertise.  My strategy
> would have been to start off with a small number of very large packages
> (tl-bin-i386, tl-fonts, ...) and to gradually fork them into smaller ones

We will go a bit different path: Packaging collections into debian
packages including all files which are Required by these collections.
Dependencies on other collections are done via Debian Depends.
So bottom line: There will be debian packages for those tpm files in
Master/texmf/tpm/ (but not the scheme- stuff).

> I doubt one could automate creation of updated Debian packages when the
> existing tree gets updated.  However, it would be far more plausible to go

Well, up to now it looks not too bad.

> 1. It is very important (for me) to be able to install binaries for several
> architectures.  We keep a central tree which many users on different OSes

Hmm. This seems hard to be done. AFAIS debian has built in architecture
management. But see below.

> possibly with a dummy tl-bin package which selects the correct one from the
> above.  I'm unsure of the correct Debian location for foreign binaries

Are there? I have to check this. I am *not* a DD and only have packaged
a few debs.

> 2. It is important in Debian packaging to use the correct locations (docs
> in /usr/share/docs; binaries in /usr/bin; etc etc).  However, the way we do
> things currently is to have the single texlive/ directory shared over samba
> and nfs.  This would be messy if things are spread out properly as per
> Debian rules.  

Hmm. Now that you mention this, I see that we have exactely the same
problem. We have /usr/TeX-live which is shared via nfs to our 10+
diskless clients and used on the server, too. The debian way seems to be
a mess here.

But I guess I have an idea: Maybe we can do the following:
We have packages:
	tl-XXXX-bin
and
	tl-XXXX-bin-<arch>
The bin-<arch> install the binaries into
	/usr/share/texlive/bin/<arch>/...
and the tl-XXXX-bin creates symlinks to /usr/bin for the right binaries.
This way you could share the /usr/share/texlive tree, and just have to
add the the right path.

It is still not perfect since it does not fit into the debian system
directly, but I have to think about.

> 3. There are several very cool packages in Debian which handle use of
> 
> I would suggest the above method could be used for 3rd party fonts.  It
> would prompt for the tarball or loose pfb/afm files which the user
> provides.  Then it would rename them, place them correctly, create or
> install the correct supporting files (eg Walter Schmidt's) and run texhash.
> In that case 'apt-get install tl-font-support-adobe-baskerville' would be
> the method to install Adobe Baskerville.

Good idea, but not for now I would say. But you can start hacking around
and maybe we can come up with something like this.

> 4. There was a question of what to do when two packages installed the same
> files.  I believe the general strategy in Debian is to create a xxxx-common

Solved. We ignore Package->Package dependencies in the tpm files since
they are sooo rare (now only at 4 cases).

For your information: I have made .debs for all the collection and
binaries automatically, but I have to fix several things before I can
ask you for a short run on it.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MELTON CONSTABLE (n.)
A patent anti-wrinkle cream which policemen wear to keep themselves
looking young.
			--- Douglas Adams, The Meaning of Liff

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Jan 11 10:20:00 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Jan 11 10:22:23 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <20050111074432.GB12957@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>	<20050110230432.GC20628@celt.dias.ie>
	<20050111074432.GB12957@gamma.logic.tuwien.ac.at>
Message-ID: <41E39A40.8060202@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>>1. It is very important (for me) to be able to install binaries for several
>>architectures.  We keep a central tree which many users on different OSes
>>    
>>
>
>Hmm. This seems hard to be done. AFAIS debian has built in architecture
>management. 
>  
>
I appreciate that the multiple binary thing is a need, but I hope
we don't compromise on Debian normality to accomodate it

>But I guess I have an idea: Maybe we can do the following:
>We have packages:
>	tl-XXXX-bin
>and
>	tl-XXXX-bin-<arch>
>The bin-<arch> install the binaries into
>	/usr/share/texlive/bin/<arch>/...
>and the tl-XXXX-bin creates symlinks to /usr/bin for the right binaries.
>This way you could share the /usr/share/texlive tree, and just have to
>add the the right path.
>  
>
This does not sound too bad, but does it means that on a simple system I 
have to install tl-XXX-bin and tl-XXX-bin-<arch>? how would the 
dependencies work?

I'd start simple, and make tl-XXX-bin put binaries in 
/usr/share/texlive/bin/<arch>, and
put symlinks in /usr/bin. That gets the master machine working as 
normal. Then you
export /usr/share/texlive to the other clients, and make them the 
exception which needs
the special Debian package which does the symlinks.

I suspect we are talking about the same idea, more or less

>
>>I would suggest the above method could be used for 3rd party fonts.  It
>>would prompt for the tarball or loose pfb/afm files which the user
>>provides.  Then it would rename them, place them correctly, create or
>>install the correct supporting files (eg Walter Schmidt's) and run texhash.
>>In that case 'apt-get install tl-font-support-adobe-baskerville' would be
>>the method to install Adobe Baskerville.
>>    
>>
thats getting ambitious :-}


Sebastian

From gavin at celt.dias.ie  Tue Jan 11 10:48:19 2005
From: gavin at celt.dias.ie (Gavin McCullagh)
Date: Tue Jan 11 10:50:33 2005
Subject: [tex-live] Packaging TeXlive as Debian packages
In-Reply-To: <41E39A40.8060202@computing-services.oxford.ac.uk>
	<20050111074432.GB12957@gamma.logic.tuwien.ac.at>
References: <20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<20050110230432.GC20628@celt.dias.ie>
	<20050111074432.GB12957@gamma.logic.tuwien.ac.at>
	<41E39A40.8060202@computing-services.oxford.ac.uk>
	<20050105130642.GE3553@gamma.logic.tuwien.ac.at>
	<20050110230432.GC20628@celt.dias.ie>
	<20050111074432.GB12957@gamma.logic.tuwien.ac.at>
Message-ID: <20050111094819.GA23246@celt.dias.ie>

Hi,

On Tue, 11 Jan 2005, Norbert Preining wrote:

> Good. I put you on my list of testers.

Great, thanks.

> > 1. It is very important (for me) to be able to install binaries for several
> > architectures.  We keep a central tree which many users on different OSes
> 
> Hmm. This seems hard to be done. AFAIS debian has built in architecture
> management. But see below.

That's true but there are surely many architecture independent
packages (eg stuff written in perl).  "tl-bin-$arch" would be such a
package.  Then the arch dependent dummy package "tl-bin" would depend upon
the correct tl-bin-$arch.

> > possibly with a dummy tl-bin package which selects the correct one from the
> > above.  I'm unsure of the correct Debian location for foreign binaries
> 
> Are there? I have to check this. I am *not* a DD and only have packaged
> a few debs.

In honesty, I have no idea.  It just seems like something that someone else
must have had to do.  Perhaps not though.  

> Hmm. Now that you mention this, I see that we have exactely the same
> problem. We have /usr/TeX-live which is shared via nfs to our 10+
> diskless clients and used on the server, too. The debian way seems to be
> a mess here.
> 
> But I guess I have an idea: Maybe we can do the following:
> We have packages:
> 	tl-XXXX-bin
> and
> 	tl-XXXX-bin-<arch>
> The bin-<arch> install the binaries into
> 	/usr/share/texlive/bin/<arch>/...
> and the tl-XXXX-bin creates symlinks to /usr/bin for the right binaries.

I'm unsure if the debian packaging guidelines require the actual binaries
in /usr/bin/ or if symlinks in this direction will do.  Functionally it's
clear they are really the same.  The docs will also need linking up.  It
would be nice for the Debian central doc system to be able to see the
texlive docs too.

> This way you could share the /usr/share/texlive tree, and just have to
> add the the right path.

Sounds ideal.

> > 3. There are several very cool packages in Debian which handle use of
> > 
> > I would suggest the above method could be used for 3rd party fonts.  
> > the method to install Adobe Baskerville.
> 
> Good idea, but not for now I would say. But you can start hacking around
> and maybe we can come up with something like this.

One of the benefits of having the apt system you suggest is that this could
be added afterward either within your archive or unofficially on another.

> For your information: I have made .debs for all the collection and
> binaries automatically, but I have to fix several things before I can
> ask you for a short run on it.

Let me know when I can try it out.


On Tue, 11 Jan 2005, Sebastian Rahtz wrote:

> I appreciate that the multiple binary thing is a need, but I hope
> we don't compromise on Debian normality to accomodate it

Of course.  If Debian packaging guidelines don't have a place to put the
foreign binaries then perhaps this is a new problem.  I cannot imagine they
would simply say 'no'.

> This does not sound too bad, but does it means that on a simple system I 
> have to install tl-XXX-bin and tl-XXX-bin-<arch>? how would the 
> dependencies work?

See above.

> >>In that case 'apt-get install tl-font-support-adobe-baskerville' would be
> >>the method to install Adobe Baskerville.
> >>
> thats getting ambitious :-}

It's another dream!  First things first though.

Gavin

From Gerben.Wierda at rna.nl  Wed Jan 12 09:08:18 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Jan 12 09:10:31 2005
Subject: [tex-live] [Fwd: pdflatex segmentation fault and patch to fix]
Message-ID: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>

I received this excellent bug report from a user (including tracking where
the crash happened). Can someone get this into xpdf?

G

---------------------------- Original Message ----------------------------
Subject: pdflatex segmentation fault and patch to fix
From:    "Martin Otte" <otte@duke.edu>
Date:    Tue, January 11, 2005 23:40
To:      gerben.wierda@rna.nl
--------------------------------------------------------------------------

Hi,

Thanks for your excellent packaging of tex/latex for the mac.

I am using the TeX Live 2004 and teTeX 3 distribution from the tex 
i-package released on 2004/12/01.

With this i-package, pdflatex always seg-faults for me when I include  pdf
figures generated using the PStill postscript-to-pdf converter.  These
pdfs open fine with Acrobat and Preview. I downloaded the final  TeX Live
2004 source package, compiled pdfetex, ran the executable  under a
debugger and found that pdflatex crashes in the xpdf library. I  then
verified that these pdf's also crash the xpdf viewer on my linux  machine.

The crash occurs in the file libs/xpdf/fofi/FoFiType1.cc. There is a 
string buffer size variable "n" that becomes negative and causes the 
program to crash. I attached a patch that can be used from the libs 
directory of the TeX Live distribution that prevents the buffer size  from
becoming negative.

I also attached an example latex and pdf file so that you can verify  the
pdflatex segmentation fault.

I don't know if pstill is producing bad pdf files, but regardless it 
shouldn't cause pdflatex to segfault. Your earlier tex distribution had 
no problem with these files. I hope you can share this problem with the 
TeX Live developers so that it can be fixed properly.

Thanks,

Martin Otte
Research Associate
Duke University








-------------- next part --------------
A non-text attachment was scrubbed...
Name: xpdf-3.00-fofi.patch
Type: application/octet-stream
Size: 289 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20050112/86217b9b/xpdf-3.00-fofi-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.tex
Type: application/x-tex
Size: 160 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20050112/86217b9b/test-0001.tex
-------------- next part --------------
A non-text attachment was scrubbed...
Name: e_sigw.pdf
Type: application/pdf
Size: 64000 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20050112/86217b9b/e_sigw-0001.pdf
From preining at logic.at  Wed Jan 12 09:25:44 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan 12 09:27:50 2005
Subject: [tex-live] [Fwd: pdflatex segmentation fault and patch to fix]
In-Reply-To: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
References: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
Message-ID: <20050112082544.GA11330@gamma.logic.tuwien.ac.at>

On Mit, 12 Jan 2005, Gerben Wierda wrote:
> With this i-package, pdflatex always seg-faults for me when I include  pdf
> figures generated using the PStill postscript-to-pdf converter.  These

Hmm, I cannot reporduce this on linux with the current texlive binaries.
But, I get a warning about damaged PDF file:
[~/bla] pdflatex test.tex 
This is pdfeTeXk, Version 3.141592-1.20a-2.2 (Web2C 7.5.3)
...
loading : Context Support Macros / PDF (2004.10.26)
)Error (0): PDF file is damaged - attempting to reconstruct xref table...
 <e_sigw.pdf, id=1, 468.3066pt x 336.72198pt> <use e_sigw.pdf> [1{/usr/TeX/tex
mf-var/fonts/map/pdftex/updmap/pdftex.map} <./e_sigw.pdf>] (./test.aux))</usr/
TeX/texlive-src/Master/texmf-dist/fonts/type1/bluesky/cm/cmr10.pfb>
Output written on test.pdf (1 page, 64642 bytes).
Transcript written on test.log.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MATCHING GREEN (adj.)
(Of neckties.) Any colour which Nigel Rees rejects as unsuitable for
his trousers or jacket.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Wed Jan 12 10:35:07 2005
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed Jan 12 10:59:52 2005
Subject: [tex-live] [Fwd: pdflatex segmentation fault and patch to fix]
In-Reply-To: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
References: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
Message-ID: <41E4EF4B.6060805@elvenkind.com>



Gerben Wierda wrote:
> I received this excellent bug report from a user (including tracking where
> the crash happened). Can someone get this into xpdf?

It doesn't crash for me either (also linux), but I had a look at the
source, and I can imagine that the actual problem is in the following
segment (commented line).

char *FoFiType1::getNextLine(char *line) {
   while (line < (char *)file + len && *line != '\x0a' && *line != '\x0d') {
     ++line;
   }
   if (line < (char *)file + len && *line == '\x0d') {
     ++line;
   }
   if (line < (char *)file + len && *line == '\x0a') {
     ++line;
   }
   if (line >= (char *)file + len) {
     return NULL; /* TH: perhaps NULL is not equal to 0 on Mac? */
   }
   return line;
}


Greetings, Taco

From frank at debian.org  Wed Jan 12 11:23:24 2005
From: frank at debian.org (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Wed Jan 12 11:42:55 2005
Subject: [tex-live] Re: binaries for different architectures in debian
	packages
In-Reply-To: <20050111220737.GB1136@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Tue, 11 Jan 2005 23:07:37 +0100")
References: <20050111102140.GA24959@gamma.logic.tuwien.ac.at>
	<877jmkfbmd.fsf@alhambra.bioz.unibas.ch>
	<20050111220737.GB1136@gamma.logic.tuwien.ac.at>
Message-ID: <87fz17djz7.fsf@alhambra.bioz.unibas.ch>

Norbert Preining <preining@logic.at> wrote:

> Hi Frank!
>
> Good to hear from a debian and TeX master!

Don't call me master - I've not been in the business for too long.

>> If you want a Debian machine to provide binaries for multiple
>> architectures on a networked drive, the way to go would probably to
>> create architecture-specific subdirectories below /srv (i.e. /srv/i386,
>> /srv/ia64, /srv/amd64 and so on), mount them on the respective machines
>> and do an ordinary apt-get install on one of them per architecture.
>
> Is this really an option? If I want to make a .deb which includes
> binaries, they should probably go to /usr/bin (or at least links from
> /usr/bin to /usr/lib/<package> I heard recently). If I put the binaries
> for each architecture into /srv/<arch> I cannot decently share them
> between different archs/machines. 

As I wrote in my other mail to tex-live@tug.org, I don't see how a
"real" Debian package helps in this case. What you want is the contents
of a tex-live CD unpacked on some shared network drive (/srv for
example), and this can probably done right now. Clients can then mount
this somewhere and add the bin directories to their paths. If you need a
Debian package in this case, it's for the _Clients_ that do _not_ really
install tex-live, they need something to tell their package managment
system that TeX is available. Am I wrong?

> See my other email about the proposal
> of double packages, one including the actual binaries in a package which
> also names arch-os, and one including only the needed links for the
> current arch.

You mean:

,----
| In fact we would have packages for every architecture
| 	tl-dvips-bin-<arch>
| which is available for ALL architectures and install into
| texlive/bin/arch-os/...
| and a package 
| 	tl-dvips-bin
| with debian-way of architecture, which depends on the right package for
| each arch (ie tl-dvips-bin for i386 depends on tl-dvips-bin-i386-linux
| eg) and just provides the right links.
`----

I don't currently see why the tl-dvips-bin-<arch> packages that are
installable on all architectures would need to be Debian packages. You
can just as well use the existing tex-live directory structure and no
installation scripts, since the architecture-specific tl-dvips-bin
package will do the the symlinks and postinst stuff,
anyway. 

Furthermore, I don't understand how you want to arrange the
dependencies. Either tl-dvips-bin_$version_i386.deb depends on
tl-dvips-bin-i386_$version_all.deb - then you need to install
tl-dvips-bin-i386_$version_all.deb on every client, and you can as well
have only one package. Or it does not depend on it, but then again you
wouldn't need the overhead of Debian packaging for
tl-dvips-bin-i386_$version_all.deb, why not just copy the appropriate
parts from a tex-live CD?

>> > 	/usr/share/texlive/
>> 
>> This approach does not conform to the Filesystem Hierarchy Standard for
>> Linux (http://www.pathname.com/fhs/). It might work, but I currently
>
> Well, may be, but OTOH, `share' somehow means something.

According to the FHS, the complete /usr hierarchy is shareable, but this
is meant in the sense that they are independent of the state of a single
machines ("For example, the files in user home directories are shareable
whereas device lock files are not." from
http://www.pathname.com/fhs/pub/fhs-2.3.html#THEFILESYSTEM). About
/usr/share, the FHS says:

,----
| /usr/share : Architecture-independent data
| Purpose
| 
| The /usr/share hierarchy is for all read-only architecture independent
| data files. [30]
| 
| This hierarchy is intended to be shareable among all architecture
| platforms of a given OS; thus, for example, a site with i386, Alpha,
| and PPC platforms might maintain a single /usr/share directory that is
| centrally-mounted. Note, however, that /usr/share is generally not
| intended to be shared by different OSes or by different releases of
| the same OS.
| 
`----

> I have to check
> th FHS, but if I want to share BINARY files, should they go to
> /usr/share or not?

No, they shouldn't. The FHS simply does not take this option into
account, except when you view the machine where the binary files are
installed as a mere fileserver (which might re-mount and itself use some
of the exported directories): Then it's /srv.

>> don't understand how you want to organise your symlink farm in order to
>> allow the networked clients to use simple commands like "latex", not
>> "latex-i386". 
>
> tl-<prog>-bin-<arch>-<os> packages installs <prog> into
> /usr/share/texlive/bin/<arch>-<os>/<prog>
>
> tl-<prog>-bin package depends on the tl-<prog>-bin-<arch>-<os> for the
> INSTALLING architecture, and just creates symlinks to the above.

This would work, but you've got the dependency problem outlined above.

>> I suggest that you subscribe to the debian-tetex-maint list (If you
>
> Will do it NOW.

I have also subscribed to tex-live@tug.org meanwhile, and I'd suggest
that discussion about the layout of tex-live packages takes place on
tex-live, and once we've found some feasible way to do it, the
discussion about common infrastructure for both teTeX and tex-live, and
about the TeX-Policy, can be done on debian-tetex-maint.

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From cantaro at gmail.com  Wed Jan 12 14:29:02 2005
From: cantaro at gmail.com (Udo Zallmann)
Date: Wed Jan 12 14:37:50 2005
Subject: [tex-live] [Fwd: pdflatex segmentation fault and patch to fix]
In-Reply-To: <41E4EF4B.6060805@elvenkind.com>
References: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
	<41E4EF4B.6060805@elvenkind.com>
Message-ID: <b3de3aab050112052919f5aa36@mail.gmail.com>

On Wed, 12 Jan 2005 10:35:07 +0100, Taco Hoekwater <taco@elvenkind.com> wrote:

>    if (line >= (char *)file + len) {

Is this type of pointer arithmetic (in the ifs and the while loop
above, too) safe on all platforms?

>      return NULL; /* TH: perhaps NULL is not equal to 0 on Mac? */

IIRC, C++ has a 0 that is compatible to any type, thus making the NULL
definition known from C obsolete. If NULL is not defined as 0, this
could cause errors.

udo
-- 
Error accessing BRAIN v1.0...

From frank at kuesterei.ch  Tue Jan 11 18:39:26 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Wed Jan 12 15:05:29 2005
Subject: [tex-live] Debian Packages of TeXlive
Message-ID: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>

Hi, 

I am currently the most active maintainer of the teTeX packages in
Debian. I learned that you are planning to create Debian packages of
TeXlive, which is great news, and I would be glad if we could coordinate
a little. I must admit that I never installed a TeXLive system on
Unix/Linux, and didn't bother to look at its structure when I did it on
Windows. So please correct me if I make wrong assumptions.


I have answered to Norbert's mail on debian-devel (see
http://article.gmane.org/gmane.linux.debian.devel.general/74211/match=texlive),
and now I've looked through the list archives on Gmane.

Some thoughts:

1. First of all, you should decide whether you really want (a) only an
   easy, automated method of installing TeXLive on a Debian system and
   of telling the package managment that now some TeX system is
   available, or rather (b) a proper Debian package.

   a) In this case, things will probably be much easier - you can handle
      the installation just like any other installation in /usr/local/,
      have to make sure that "latex" on the command prompt runs
      TeX-live's latex and so on (like always, I guess), and finally you
      can provide an empty dummy Debian package that "Provides:
      tetex-base, tetex-bin, tetex-extra", so that other packages that
      need a TeX system can be installed.

      If you also tweak your search paths to include /usr/share/texmf
      (and possible /usr/share/texmf-site in the future), you will even
      be able to use packages providing TeX input files (I assume that
      the ls-R format is the same as in teTeX).

      Installation of font packages or additional TeX formats via
      apt-get would be extremely difficult in this setup, or rather it
      would need manual intervention or simply double installation, once
      for/with apt-get (which could be a dummy package again in many
      cases), once for texlive.

   b) Building a real Debian package would be much more convenient for
      the user, giving her all the comfort of apt-get, not only for
      TeXlive, but also for add-on packages not included in TeXlive, and
      for packages depending on TeX binaries, like texi2dvi, xml-to-pdf
      converters and so on.

      Doing this properly, so that it *really* is convenient for users,
      will require much more effort than the first approach. You have to
      adapt to the Filesystem Hierarchy Standard (although some things
      can be accomplished by symlinks), move configuration files to
      /etc/, integrate (or Conflict:) with existing TeX packages in
      Debian, and coordinate somewhat with teTeX's Debian packaging.

      If this has been done once, the maintenance work for upgrades
      might be not so big (as long as the internal structure of TeX-live
      doesn't change too much), but in order to create the first good
      packages, quite some sweat, expertise and communication will be
      required, I'm sure. Usually this needs a Debian Developer or
      somebody who wants to become one, or otherwise wants to delve
      deeply into the topic of Debian package creation.

   The question whether such a package should be part of Debian
   *officially* is related, but different; a non-conforming package will
   annoy users irrespective of its origin, and a well built one will
   delight them no matter who did it. But packaging might also mean to
   request some adaptations in other Debian packages, and this would be
   easier if texlive was part of Debian proper[1].

2. Some of you wondered about the problem of architectures sharing one
   TeXlive tree. As far as I understood, it is possible to unpack
   tex-live on a fileserver, and then all machines mounting those
   network drives can use tex-live with appropriate path settings. And
   you were wondering whether this would still be possible with a Debian
   package. 

   If I got your concern right, then I must say that it seems to me we
   are mixing things up. If you want a central fileserver with binaries
   for many architectures and operating systems, then I don't see much
   sense in creating a Debian package for this. Just go ahead as you did
   before, and if some of the clients happen to be Debian machines which
   need a Tex package to fulfill dependencies, just create dummy
   packages which fool apt-get into thinking that tetex is installed
   [2].

   If on the other hand you want to share tex-live between several
   Debian boxes, most of them small or just "terminals with a CPU[3]",
   then a Debian package is the way to go, and then the Debian way to do
   it is in principle already sufficient for your architecture problem:
   You have one main fileserver which has texlive installed, and which
   shares /usr/share (or just /usr/share/texmf) with all clients on the
   net, and /usr/bin with all clients of its architecture. Additionally,
   for every architecture, you need one smaller fileserver which only
   offers /usr/bin. In all cases, however, you have to make sure that
   there's an appropriate configuration in /etc/, but that's a problem
   generally encountered in such setups, not only with tex-live.

   An alternative would be to manually unpack the architecture-specific
   binary packages in /srv/<arch> on the main fileserver and let him
   offer these directories as network shares, and here you've probably
   found a weekness of the Debian approach, because there is no
   functionality built-in for this.

Best regards, Frank



[1] Myself, I like the idea of texlive packages very much, and would be
willing to make changes to teTeX's packaging, no matter whether texlive
will be _in_ Debian or just _for_ Debian. But even for me it *might*
make a difference - if you decide to create a package _in_ Debian, I
will probably feel you are more committed to the project, and more
likely to work together in the long term, than if you just do it _for_
Debian.

[2] There's a tool for that, equivs

[3] what's the fashioned name for that?
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From karl at freefriends.org  Wed Jan 12 15:30:18 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Jan 12 15:32:24 2005
Subject: [tex-live] [Fwd: pdflatex segmentation fault and patch to fix]
In-Reply-To: <b3de3aab050112052919f5aa36@mail.gmail.com>
Message-ID: <200501121430.j0CEUIa15634@f7.net>

    Maybe NULL is not equal to 0 on Mac?

No.  In any conforming C implementation NULL has to be #defined either
as 0 or ((void *) 0).  This may or may not have anything to do with
memory address 0.  It is a special case, (thankfully) required by the
standard, and by essentially all existing C programs.

From karl at freefriends.org  Wed Jan 12 15:42:48 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Jan 12 15:45:18 2005
Subject: [tex-live] [Fwd: pdflatex segmentation fault and patch to fix]
In-Reply-To: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
Message-ID: <200501121442.j0CEgmT26778@f7.net>

    Can someone get this into xpdf?

xpdf bugs should be reported to the xpdf maintainer, Derek Noonburg
<derekn@foolabs.com>.

I've forwarded this one.

From preining at logic.at  Wed Jan 12 15:44:33 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan 12 15:46:40 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
Message-ID: <20050112144433.GB31404@gamma.logic.tuwien.ac.at>

Dear Frank!

I think the best idea is that I first explain a bit about the structure
of TeXlive and how we thought (past tense, we probably have to change
this) packaging would be nice. Then I will take up some of your ideas.

TeXlive is installed on Unix-like systems via a simple program, where
you can select collections, which include several packages (e.g. a
collection for CJK, one for Music, etc).

For every package and every collection there is a .tpm file. This tpm
file specifies (beside other)
- name, size, ...
- dependencies on other collections and packages
- included files, categorized into Doc, Run, Bin, Source

ATM we have around 75 collections, and around 1000 packages. These
packages include more or less everything which is available at CTAN (and
what Sebastian is able to submit again and again!).

Besides the collections there are tpm files for binaries, hyphens, and
libraries. Libraries are NOT used in TeXlive/linux, all the binaries are
linked statically against most libraries (but dynamically against X11
and libc, libm).

Due to the huge amount of packages, we (at least Sebastian Rathz, Karl
Berry and myself) decided that it is a good idea to make 
	collections	->	debian packages
	dependencies on collections	->	debian dependencies
	dependencies on packages	->	includsion of the files
That means, that we would have one deb for every collection, which
includes:
- all the files directly mentioned in the collection
- all the packages required by the collection, i.e. all the files
  that are mentioned in packages required by the collection

This works out pretty well, as there are no inter-package dependencies
on the tpm level, and the same package is not included in multiple
collections (ok, not 100% true, but 99.9%). In addition the tpm-files
include all the information I need for making debian packages, and in
fact I have a script which generates .debs from the collections,
putting: 
	run files (sty,tex,..)		/usr/share/texlive/texmf(-dist)
	doc files			/usr/share/doc/<packagename>
	binaries			/usr/bin


My first idea was to ignore different architecture  binaries at all,
thus only having
	tl-dvips-bin
packages, which automatically get the right architecture. Then some
people (including myself) realized that many people use TeXlive to serve
other architectures, too, this is when I came up with the other proposal
about putting all binaries into texlive/bin/<arch-os>/...

This for now on the TeXlive packaging. Now for your valuable comments:

On Die, 11 Jan 2005, Frank K?ster wrote:
> 1. First of all, you should decide whether you really want (a) only an
>    easy, automated method of installing TeXLive on a Debian system and
>    of telling the package managment that now some TeX system is
>    available, or rather (b) a proper Debian package.

Of course, on the long run (b). But to be honest, I see severe problems
with the way texlive is maintained: I would generate the packages from
the files already located in their proper places in the texmf tree, not
directly from sources as downloaded from CTAN. This work of updating the
texmf trees in TeXlive is left to some of us, mostly Sebastian. Thus, we
for sure will have problems in providing a source package, because
although the structure of the stuff obtained from CTAN is often the
same, in fact every single CTAN-package has to be treated more or less
specifically.

The advantage of using the tpm files is that all the files are already
in their proper locations and we just have to copy them in some tmp
file, build a control file, make a debian package. So to come back to
your question: Probably (a) is not too bad to achieve.

What I would like to have for NOW is a mixture of (a) and (b). We want
reach proper inclusion in debian soon, but we should right from the
beginning at least try to do it the debian way.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BABWORTH
Something which justifies having a really good cry.
			--- Douglas Adams, The Meaning of Liff

From frank at kuesterei.ch  Wed Jan 12 18:18:47 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Wed Jan 12 18:25:18 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <20050112144433.GB31404@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 12 Jan 2005 15:44:33 +0100")
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
Message-ID: <874qhmmuq0.fsf@alhambra.bioz.unibas.ch>

Norbert Preining <preining@logic.at> wrote:

> ATM we have around 75 collections, and around 1000 packages. These
> packages include more or less everything which is available at CTAN (and
> what Sebastian is able to submit again and again!).

I know - this (and the reliable release cycle) is why I would be happy
to see tex-live in Debian.

> Besides the collections there are tpm files for binaries, hyphens, and
> libraries. Libraries are NOT used in TeXlive/linux, all the binaries are
> linked statically against most libraries (but dynamically against X11
> and libc, libm).

Debian policy requires that all binaries are dynamically linked if a
shared library is available. The reason for this is not so much memory
usage, but rather easier maintanance: especially when a security problem
occurs in one library, we need not recompile all packages, just the
library. Obvious execptions are things like xpdf in pdftex - there is no
proper library (yet?), and in fact it *is* a security nightmare.

> Due to the huge amount of packages, we (at least Sebastian Rathz, Karl
> Berry and myself) decided that it is a good idea to make 
> 	collections	->	debian packages
> 	dependencies on collections	->	debian dependencies
> 	dependencies on packages	->	includsion of the files
> That means, that we would have one deb for every collection, which
> includes:
> - all the files directly mentioned in the collection
> - all the packages required by the collection, i.e. all the files
>   that are mentioned in packages required by the collection

Did I understand right - this would mean/have meant 75 packages? I'd
rather reduce this.

> On Die, 11 Jan 2005, Frank K?ster wrote:
>> 1. First of all, you should decide whether you really want (a) only an
>>    easy, automated method of installing TeXLive on a Debian system and
>>    of telling the package managment that now some TeX system is
>>    available, or rather (b) a proper Debian package.
>
> Of course, on the long run (b). But to be honest, I see severe problems
> with the way texlive is maintained: I would generate the packages from
> the files already located in their proper places in the texmf tree, not
> directly from sources as downloaded from CTAN. This work of updating the
> texmf trees in TeXlive is left to some of us, mostly Sebastian. Thus, we
> for sure will have problems in providing a source package, because
> although the structure of the stuff obtained from CTAN is often the
> same, in fact every single CTAN-package has to be treated more or less
> specifically.

I don't see the problem here. When you release tex-live, there is some
defined state of your version control system (btw, is it publically
accessible for reading?) that you declare as "the release". You generate
a filesystem from this and burn it on CD. You can as well pack the
filesystem[1] into a tar.gz, and that would be the Debian source package
(together with a *dsc file and the diff.gz with the instructions to
create the debs). Alternatively, if you sometimes make pre-releases or
snapshots for internal development of only parts of the repository, or
if you fear disk size problems (tex-live needs a DVD, doesn't it?), you
could create a few couple of orig.tar.gz files, for example sources for
binaries, input files for LaTeX and "generic" input files, input files
for other formats.

By the way, how do you create the files from dtx files and install them
in the texmf tree - is this automated, or done by hand as in teTeX? What
about documentation?

One more thougt, again citing you:

> ATM we have around 75 collections, and around 1000 packages. These
> packages include more or less everything which is available at CTAN (and
> what Sebastian is able to submit again and again!).

What about licenses and the requirement to be Free Software? There are a
couple of files on CTAN which are distributable, but have certain
restrictions that go beyond what LPPL does. 

> What I would like to have for NOW is a mixture of (a) and (b). We want
> reach proper inclusion in debian soon, but we should right from the
> beginning at least try to do it the debian way.

Hm. I'd like to have a look at the way you currently build your
debs. And before deciding on the architecture question, we need to get
clear the dependency structure, as outlined in my previous mails.

Regards, Frank

[1] note that according to Debian policy, orig.tar.gz files should be as
pristine as possible, being not only the source for Debian packages, but
at the same time also a repository of free software. As such, they also
include OS-specific stuff that is not needed on Linux.
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From preining at logic.at  Wed Jan 12 20:16:50 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan 12 20:18:59 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
Message-ID: <20050112191650.GC6674@gamma.logic.tuwien.ac.at>

Dear Frank!

On Mit, 12 Jan 2005, Frank K?ster wrote:
> I know - this (and the reliable release cycle) is why I would be happy
> to see tex-live in Debian.

Big thanks to all those who work hard, I cannot name them all, but
Sebastian may be taken as their representative!

> > libraries. Libraries are NOT used in TeXlive/linux, all the binaries are
> > linked statically against most libraries (but dynamically against X11
> 
> Debian policy requires that all binaries are dynamically linked if a
> shared library is available. The reason for this is not so much memory

Ok. Here I cannot contribute. I guess we have to check with the Masters
of the auto* stuff. But OTOH, this is something we could fix at the very
and, after we have tested packaging etc and know that it works out, even
with static binaries.

> Did I understand right - this would mean/have meant 75 packages? I'd
> rather reduce this.

Yes, 75 packages for collections, plus bin plus hyphen packages, in
total 185.

Reducing: This is a interesting question. OTOH it would be good to have
a small number of packages, but then, some people really only want a
*small* part of the TeX system, never take a look at all the different
fonts, the chemistry, music*, ...
So there is a big advantage in haven many packages, too.

> > Of course, on the long run (b). But to be honest, I see severe problems
> > with the way texlive is maintained: I would generate the packages from
> > the files already located in their proper places in the texmf tree, not
[...]
> 
> I don't see the problem here. When you release tex-live, there is some
> defined state of your version control system (btw, is it publically
> accessible for reading?) that you declare as "the release". You generate

ATM a perforce depot, but we are on the move (cvs/svn).
If you are interested, short usage from Karl/me:
=================================================================
p4 manual:
  p4 help
  http://www.perforce.com/manual

# envvars for .profile:
P4PORT=sun.dante.de:1666; export P4PORT
P4USER=somename; export P4USER
P4PASSWD=somepw; export P4PASSWD
P4CLIENT=anothername; export P4CLIENT  # i use USERHOST, e.g., karltug

# create user, no particular options needed:
p4 user
# create client, set options  clobber modtime rmdir:
p4 client
# can run p4 user -o, p4 client -o to dump current user/client specs to
# stdout.

# check out the entire repository (~1.4gb):
mysrc=/src/texlive
mkdir $mysrc
cd $mysrc

# open file(s) for editing:
p4 edit filename

# add new files:
p4 add filename

# when ready to commit:
p4 submit
====================================================================

> a filesystem from this and burn it on CD. You can as well pack the
> filesystem[1] into a tar.gz, and that would be the Debian source package
> (together with a *dsc file and the diff.gz with the instructions to
> create the debs). Alternatively, if you sometimes make pre-releases or

Ok, this sounds good for us. We could put the whole tree, and then build
the packages and the binaries from it. GOod. But to be done later.

> snapshots for internal development of only parts of the repository, or
> if you fear disk size problems (tex-live needs a DVD, doesn't it?), you

one is not enough ;-)

> By the way, how do you create the files from dtx files and install them
> in the texmf tree - is this automated, or done by hand as in teTeX? What
> about documentation?

I would say semiautomated. But Sebastian is the one to ask. There are
some scripts (ctan2tds), which knows about a lot packages specialities,
but not all.

> > ATM we have around 75 collections, and around 1000 packages. These
> > packages include more or less everything which is available at CTAN (and
> > what Sebastian is able to submit again and again!).
> 
> What about licenses and the requirement to be Free Software? There are a
> couple of files on CTAN which are distributable, but have certain
> restrictions that go beyond what LPPL does. 

Well, this is a good topic, and I don't want to delve into this
completely, but: Generally in TeXlive there should only be stuff which
is Debian-compatible. 

There may be exceptions, but in case we find them, we try to contact the
authors to fix the permissions, or kill them. (Karl, Sebastian, whoever,
am I right?)

> Hm. I'd like to have a look at the way you currently build your
> debs. And before deciding on the architecture question, we need to get
> clear the dependency structure, as outlined in my previous mails.

Hmm. I attach a gzip file of the structure, listing all the collection
with its debian dependencies and the included packages. If you need some
other form, please tell me.

Ok. Now I will read about the debian-tex-rules.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MAPLEDURHAM (n.)
A hideous piece of chipboard veneer furniture bought in a suburban
high street furniture store and designed to hold exactly a year's
supply of Sunday colour supplements.
			--- Douglas Adams, The Meaning of Liff
-------------- next part --------------
A non-text attachment was scrubbed...
Name: structure.txt.gz
Type: application/octet-stream
Size: 7054 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20050112/9ff596e0/structure.txt-0001.obj
From karl at freefriends.org  Wed Jan 12 20:53:32 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Jan 12 20:55:38 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <20050112191650.GC6674@gamma.logic.tuwien.ac.at>
Message-ID: <200501121953.j0CJrWq03129@f7.net>

    > Debian policy requires that all binaries are dynamically linked if a
    > shared library is available. 

TeX Live policy is to make binaries that work on a wide variety of
machines, since we cannot know what users will have installed.

Within the world of Debian, I understand you could depend on the
packages with those other libraries, and that's fine, I understand the
security argument perfectly.  But it's going to be up to people who care
about Debian to put in the time to make it work.  I guess it will mean a
separate set of binaries.  It's too bad effort has to be fragmented that way.

I'm not sure specifically which libraries are at issue; zlib comes to
mind, there must be others.  We don't build a shared kpathsea, but maybe
Debian does, I don't know.

     (tex-live needs a DVD, doesn't it?), 

In its compressed form, TL fits (barely) on a CD.  In its live form, it
is about 1.1gb.
http://tug.org/ftp/texlive/Images/

    Generally in TeXlive there should only be stuff which
    is Debian-compatible. 
    
The notable exception is that a few manuals are covered by the GFDL,
which debian-legal declared nonfree.

Regards,
karl

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Jan 13 00:44:39 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Jan 13 00:46:54 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
Message-ID: <41E5B667.2020705@computing-services.oxford.ac.uk>

Frank K?ster wrote:

>Did I understand right - this would mean/have meant 75 packages? I'd
>rather reduce this.
>  
>
but the big problem with teTeX is that it *isnt*
broken into rational packages. we want to solve that

>
>I don't see the problem here. When you release tex-live, there is some
>defined state of your version control system (btw, is it publically
>accessible for reading?) 
>
Perforce, on sun.dante.de:1666

moving to Subversion soon, we hope

>By the way, how do you create the files from dtx files and install them
>in the texmf tree - is this automated, or done by hand as in teTeX?
>
its automated, but run by hand, if you see what I mean

> What
>about documentation?
>  
>
ditto

>What about licenses and the requirement to be Free Software? There are a
>couple of files on CTAN which are distributable, but have certain
>restrictions that go beyond what LPPL does. 
>  
>
our aim is to be Free. but I can well believe we have missed some packages.
We dont stock anything we _know_ to be non-conformant.


-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From frank at kuesterei.ch  Thu Jan 13 10:58:40 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Thu Jan 13 11:09:38 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <200501121953.j0CJrWq03129@f7.net> (Karl Berry's message of
	"Wed, 12 Jan 2005 14:53:32 -0500")
References: <200501121953.j0CJrWq03129@f7.net>
Message-ID: <87acrdfy5r.fsf@alhambra.bioz.unibas.ch>

karl@freefriends.org (Karl Berry) schrieb:

>     > Debian policy requires that all binaries are dynamically linked if a
>     > shared library is available. 
>
> TeX Live policy is to make binaries that work on a wide variety of
> machines, since we cannot know what users will have installed.

That's the best approach from your point of view, of course.

> Within the world of Debian, I understand you could depend on the
> packages with those other libraries, and that's fine, I understand the
> security argument perfectly.  But it's going to be up to people who care
> about Debian to put in the time to make it work.  I guess it will mean a
> separate set of binaries.  It's too bad effort has to be fragmented that way.

A Debian Package will mean a separate set of binaries, anyway, because
they need to be compiled the Debian way, anyway, and you probably don't
have (and want) binaries for, for example, Linux-m86k or Linux-s390.

> I'm not sure specifically which libraries are at issue; zlib comes to
> mind, there must be others.  We don't build a shared kpathsea, but maybe
> Debian does, I don't know.

Debian does build libkpathsea as a shared library, yes. And the
libraries our binaries depend on are:

libgcc libpng libstdc++ libt1 libwww zlib

plus the following X-libs (don't know if everybody separates them):
libx11 libxaw libice libsm libxext libxmu libxt

> In its compressed form, TL fits (barely) on a CD.  In its live form, it
> is about 1.1gb.
> http://tug.org/ftp/texlive/Images/

Well, for the source package the compressed CD version would be
okay. However, I missed an important point in my description on how the
orig.tar.gz should be constructed: Of course we don't need the compiled
versions for anything, but we do need the sources of the binaries. I
wouldn't really recommend to put these in a separate orig.tar.gz -
Thomas Esser does it, but there are some drawbacks because of the need
to synchronise the two source packages.

>     Generally in TeXlive there should only be stuff which
>     is Debian-compatible. 
>     
> The notable exception is that a few manuals are covered by the GFDL,
> which debian-legal declared nonfree.

I wouldn't currently bother about that. There are ongoing negotiations
with the FSF about changing the GFDL, and although I have not much hope
that this will in fact lead to a consensus between both parts, I
wouldn't care now - even Debian will ship GFDL documents in its next
release. 

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From frank at kuesterei.ch  Thu Jan 13 11:07:18 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Thu Jan 13 11:09:42 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <41E5B667.2020705@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Wed, 12 Jan 2005 23:44:39 +0000")
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
	<41E5B667.2020705@computing-services.oxford.ac.uk>
Message-ID: <876521fxrd.fsf@alhambra.bioz.unibas.ch>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> schrieb:

> Frank K?ster wrote:
>
>>Did I understand right - this would mean/have meant 75 packages? I'd
>>rather reduce this.
>>
> but the big problem with teTeX is that it *isnt*
> broken into rational packages. we want to solve that

We too... that's what we set as the big goal for the next Debian
release. But I never thought about having 75 or 185 packages. At least
for teTeX, which is _not_ comprehensive as the C in CTAN, I'd go for ten
to 25 packages, or even less.

People keep complaining about the Packages file getting too big and hard
to handle for the user interface programs, but I would say this is no
argument - rather the handling of that file needs to be fixed. 

But in fact you should keep in mind that there is some space overhead in
a Debian package. With 200 packages from a single source, you should
really make the required /usr/share/doc/<package> directories symlinks
to /usr/share/doc/tex-live-base or however it would be called. Then
there's still 200 postinst and 200 postrm files in /var/lib/dpkg/info,
all with the same content. Hm, I have an idea how that could be avoided
- lets talk about that later.

>>What about licenses and the requirement to be Free Software? There are a
>>couple of files on CTAN which are distributable, but have certain
>> restrictions that go beyond what LPPL does.
> our aim is to be Free. but I can well believe we have missed some packages.

I'm sure you have - even in the much smaller teTeX there were some
non-free packages in the past.

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From frank at kuesterei.ch  Fri Jan 14 11:23:33 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri Jan 14 11:40:17 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <20050112191650.GC6674@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 12 Jan 2005 20:16:50 +0100")
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
	<20050112191650.GC6674@gamma.logic.tuwien.ac.at>
Message-ID: <878y6wia1m.fsf@alhambra.bioz.unibas.ch>

Norbert Preining <preining@logic.at> schrieb:

> On Mit, 12 Jan 2005, Frank K?ster wrote:
>
>> Hm. I'd like to have a look at the way you currently build your
>> debs. And before deciding on the architecture question, we need to get
>> clear the dependency structure, as outlined in my previous mails.
>
> Hmm. I attach a gzip file of the structure, listing all the collection
> with its debian dependencies and the included packages. If you need some
> other form, please tell me.

Thank you, that is very interesting (also for our own attempts to split
tetex further). But what I really meant was a debian source package, or
rules file and whatever, as you use it for building debs currently.

Gru?, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From frank at kuesterei.ch  Fri Jan 14 11:37:26 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri Jan 14 11:40:21 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <20050112191650.GC6674@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 12 Jan 2005 20:16:50 +0100")
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
	<20050112191650.GC6674@gamma.logic.tuwien.ac.at>
Message-ID: <874qhki9eh.fsf@alhambra.bioz.unibas.ch>

Norbert Preining <preining@logic.at> schrieb:


>> defined state of your version control system (btw, is it publically
>> accessible for reading?) that you declare as "the release". You generate
>
> ATM a perforce depot, but we are on the move (cvs/svn).
> If you are interested, short usage from Karl/me:
> =================================================================
[...]
> # check out the entire repository (~1.4gb):

1.4 Giga is exactly what df tells me is the free space on my largest
partition... 

There's no web or ftp access?

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From preining at logic.at  Fri Jan 14 11:48:02 2005
From: preining at logic.at (Norbert Preining)
Date: Fri Jan 14 11:50:20 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <878y6wia1m.fsf@alhambra.bioz.unibas.ch>
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
	<20050112191650.GC6674@gamma.logic.tuwien.ac.at>
	<878y6wia1m.fsf@alhambra.bioz.unibas.ch>
Message-ID: <20050114104802.GC20025@gamma.logic.tuwien.ac.at>

Hallo Frank!

On Fre, 14 Jan 2005, Frank K?ster wrote:
> Thank you, that is very interesting (also for our own attempts to split
> tetex further). But what I really meant was a debian source package, or
> rules file and whatever, as you use it for building debs currently.

Ok. I do it ATM the hard, way, creating a control and changelog file
(both attached for collection-langcjk). So I have
	foobar/debian/changelog
	foobar/debian/control
	foobar/debian/tmp//usr/share/.... <all the files of the package>
and then I do:
    cd foobar
    dh_testdir
    dh_testroot
    dh_installdocs
    dh_compress
    dh_fixperms
    dh_shlibdeps
    dh_gencontrol
    dh_md5sums
    dh_builddeb
That's all for now (now I hear the scream: Ahhhhhhhhhh and a knife hits
the screen ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
Ah, " said Arthur, "this is obviously some strange usage
of the word safe that I wasn't previously aware of.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy
-------------- next part --------------
tl-langcjk (2004-1) unstable; urgency=low

   * This package was created from tpm2deb

 -- Norbert Preining <preining@logic.at>  Fri, 14 Jan 2005 11:43:32 +0100

-------------- next part --------------
Source: tl-langcjk
Section: tex
Priority: optional
Maintainer: Norbert Preining <preining@logic.at>

Package: tl-langcjk
Architecture: all
Depends: tl-cjkutils-bin, tl-basic
Description: Collection of collection-langcjk related stuff
From preining at logic.at  Fri Jan 14 11:52:49 2005
From: preining at logic.at (Norbert Preining)
Date: Fri Jan 14 11:54:58 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <874qhki9eh.fsf@alhambra.bioz.unibas.ch>
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
	<20050112191650.GC6674@gamma.logic.tuwien.ac.at>
	<874qhki9eh.fsf@alhambra.bioz.unibas.ch>
Message-ID: <20050114105249.GD20025@gamma.logic.tuwien.ac.at>

Hello Frank!

On Fre, 14 Jan 2005, Frank K?ster wrote:
> > # check out the entire repository (~1.4gb):
> 
> 1.4 Giga is exactly what df tells me is the free space on my largest
> partition... 
> 
> There's no web or ftp access?

ftp no. web: I don't know wether perforce provides something like this.
Sebastian?

If you don't need all the packages and source-development, but
only the more or less texlive part, you can visit sarovar.org:
http://cvs.sarovar.org/cgi-bin/cvsweb.cgi/?cvsroot=texlive
and browse the cvs there (but this is not the last word ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
KIMMERIDGE (n.)
The light breeze which blows through your armpit hair when you are
stretched out sunbathing.
			--- Douglas Adams, The Meaning of Liff

From sebastian.rahtz at computing-services.oxford.ac.uk  Fri Jan 14 13:11:26 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri Jan 14 13:14:12 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <20050114105249.GD20025@gamma.logic.tuwien.ac.at>
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>	<20050112191650.GC6674@gamma.logic.tuwien.ac.at>	<874qhki9eh.fsf@alhambra.bioz.unibas.ch>
	<20050114105249.GD20025@gamma.logic.tuwien.ac.at>
Message-ID: <41E7B6EE.9080608@computing-services.oxford.ac.uk>

Norbert Preining wrote:

>
>ftp no. web: I don't know wether perforce provides something like this.
>Sebastian?
>  
>
conceptually, but since we're getting rid of it soon, I don't
much want to get involved in adding new stuff

sebastian

From frank at kuesterei.ch  Fri Jan 14 13:44:22 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri Jan 14 13:55:10 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <20050114104802.GC20025@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Fri, 14 Jan 2005 11:48:02 +0100")
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
	<20050112191650.GC6674@gamma.logic.tuwien.ac.at>
	<878y6wia1m.fsf@alhambra.bioz.unibas.ch>
	<20050114104802.GC20025@gamma.logic.tuwien.ac.at>
Message-ID: <87fz14goyh.fsf@alhambra.bioz.unibas.ch>

Norbert Preining <preining@logic.at> wrote:

> Hallo Frank!
>
> On Fre, 14 Jan 2005, Frank K?ster wrote:
>> Thank you, that is very interesting (also for our own attempts to split
>> tetex further). But what I really meant was a debian source package, or
>> rules file and whatever, as you use it for building debs currently.
>
> Ok. I do it ATM the hard, way, creating a control and changelog file
> (both attached for collection-langcjk). So I have
> 	foobar/debian/changelog
> 	foobar/debian/control
> 	foobar/debian/tmp//usr/share/.... <all the files of the package>
> and then I do:
>     cd foobar
>     dh_testdir
[...]

Okay, well. That's pretty straightforward, but of course cannot be the
final way.

>     dh_shlibdeps

This is is usually unnecessary, except for binary packages, you probably
know?

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From preining at logic.at  Fri Jan 14 13:56:50 2005
From: preining at logic.at (Norbert Preining)
Date: Fri Jan 14 13:58:58 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <87fz14goyh.fsf@alhambra.bioz.unibas.ch>
References: <87wtujc1bl.fsf@alhambra.bioz.unibas.ch>
	<20050112144433.GB31404@gamma.logic.tuwien.ac.at>
	<874qhmmuq0.fsf@alhambra.bioz.unibas.ch>
	<20050112191650.GC6674@gamma.logic.tuwien.ac.at>
	<878y6wia1m.fsf@alhambra.bioz.unibas.ch>
	<20050114104802.GC20025@gamma.logic.tuwien.ac.at>
	<87fz14goyh.fsf@alhambra.bioz.unibas.ch>
Message-ID: <20050114125650.GI20025@gamma.logic.tuwien.ac.at>

Dear Frank!
> Okay, well. That's pretty straightforward, but of course cannot be the
> final way.

No, obviously not.

> >     dh_shlibdeps
> 
> This is is usually unnecessary, except for binary packages, you probably
> know?

Yup, I have all these lines in a perl script which generates all debs
from all tpms, so I don't care wether there aren't any shlibs in some
(most) packages.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MOFFAT (n. tailoring term)
That part of your coat which is designed to be sat on by the person
next of you on the bus.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Fri Jan 14 16:07:08 2005
From: karl at freefriends.org (Karl Berry)
Date: Fri Jan 14 16:09:22 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <874qhki9eh.fsf@alhambra.bioz.unibas.ch>
Message-ID: <200501141507.j0EF78e17910@f7.net>

    There's no web or ftp access?

You can browse the current hierarchy at http://tug.org/texlive/devsrc.

There's no history or other webcvs features there, it's just Apache
showing the directories, but hopefully it's better than nothing.

From frank at kuesterei.ch  Fri Jan 14 17:10:19 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri Jan 14 17:25:15 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <200501141507.j0EF78e17910@f7.net> (Karl Berry's message of
	"Fri, 14 Jan 2005 10:07:08 -0500")
References: <200501141507.j0EF78e17910@f7.net>
Message-ID: <878y6wdmac.fsf@alhambra.bioz.unibas.ch>

karl@freefriends.org (Karl Berry) schrieb:

>     There's no web or ftp access?
>
> You can browse the current hierarchy at http://tug.org/texlive/devsrc.
>
> There's no history or other webcvs features there, it's just Apache
> showing the directories, but hopefully it's better than nothing.

Thank you (also to Norbert for the sarovar link). What I found
particularly interesting (although it isn't related to Debian packaging)
was the ctan2tds.pl script.

I have seen thread in de.comp.text.tex coming up a couple of times where
people dreamed of a platform-independent installer program that would
fetch updated versions of any package from CTAN and install them into a
local hierarchy. As far as I remember, the dreaming never got into an
implementation because everybody said that it would be practically
impossible to find out the right destination directories (and the
correct commands for building the documentation), or to keep a list of
these. But it seems it is already there!

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From sebastian.rahtz at computing-services.oxford.ac.uk  Fri Jan 14 17:52:02 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri Jan 14 17:54:48 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <878y6wdmac.fsf@alhambra.bioz.unibas.ch>
References: <200501141507.j0EF78e17910@f7.net>
	<878y6wdmac.fsf@alhambra.bioz.unibas.ch>
Message-ID: <41E7F8B2.9060009@computing-services.oxford.ac.uk>

Frank K?ster wrote:

> was the ctan2tds.pl script.
>
>I have seen thread in de.comp.text.tex coming up a couple of times where
>people dreamed of a platform-independent installer program that would
>fetch updated versions of any package from CTAN and install them into a
>local hierarchy. As far as I remember, the dreaming never got into an
>implementation because everybody said that it would be practically
>impossible to find out the right destination directories (and the
>correct commands for building the documentation), or to keep a list of
>these. But it seems it is already there!
>  
>
don't get too excited. It only works 95% of the time, and isn't
a marvel of software engineering. It works for me, because
I understand it, but to make it sensible for general purpose
use would require a fair bit of work. Not least, putting all the rules
and exceptions into an external configuration file (in XML).

still, its the way practically all the texmf tree updates get made.

Sebastian

From frank at kuesterei.ch  Fri Jan 14 18:13:31 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri Jan 14 18:25:12 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <41E7F8B2.9060009@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Fri, 14 Jan 2005 16:52:02 +0000")
References: <200501141507.j0EF78e17910@f7.net>
	<878y6wdmac.fsf@alhambra.bioz.unibas.ch>
	<41E7F8B2.9060009@computing-services.oxford.ac.uk>
Message-ID: <87is60c4sk.fsf@alhambra.bioz.unibas.ch>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> wrote:

> Frank K?ster wrote:
>
>>As far as I remember, the dreaming never got into an
>>implementation because everybody said that it would be practically
>>impossible to find out the right destination directories (and the
>>correct commands for building the documentation), or to keep a list of
>>these. But it seems it is already there!
>>
> don't get too excited. It only works 95% of the time, and isn't
> a marvel of software engineering. It works for me, because
> I understand it, but to make it sensible for general purpose
> use would require a fair bit of work. Not least, putting all the rules
> and exceptions into an external configuration file (in XML).
>
> still, its the way practically all the texmf tree updates get made.

Being able to update 90% of the packages on CTAN would be already
great. 

I would consider putting the information not (only) in one external
configuration file, but also in one file per package in its directory on
CTAN. This way, package maintainers notice the feature, and if you're
lucky they start writing and updating their own versions.

Just in case you do write the XML stuff.

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From sebastian.rahtz at computing-services.oxford.ac.uk  Fri Jan 14 18:25:25 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri Jan 14 18:28:05 2005
Subject: [tex-live] Debian Packages of TeXlive
In-Reply-To: <87is60c4sk.fsf@alhambra.bioz.unibas.ch>
References: <200501141507.j0EF78e17910@f7.net>	<878y6wdmac.fsf@alhambra.bioz.unibas.ch>	<41E7F8B2.9060009@computing-services.oxford.ac.uk>
	<87is60c4sk.fsf@alhambra.bioz.unibas.ch>
Message-ID: <41E80085.3020900@computing-services.oxford.ac.uk>

Frank K?ster wrote:

>I would consider putting the information not (only) in one external
>configuration file, but also in one file per package in its directory on
>CTAN. This way, package maintainers notice the feature, and if you're
>lucky they start writing and updating their own versions.
>  
>
my plan was to get the info into the main Catalogue

>Just in case you do write the XML stuff.
>  
>
I never will, I am afraid, unless I get dismissed from work.
I just dont get to do any TeX work at all, as it is used so
little here.

sebastian

From Gerben.Wierda at rna.nl  Sat Jan 15 10:18:12 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Jan 15 10:20:29 2005
Subject: [tex-live] TL2004 pdftex crash on Mathematica font Math1.pfa
Message-ID: <6183DC10-66D6-11D9-A9FF-000D93B7C888@rna.nl>

The included archive contains a test set where I can reproduce a crash 
of TL2004 pdftex (segmentation fault). The crash only happens when the 
Math1.pfa font is added to pdftex.map, which is why I have added a 
pdftex.map to the archive. This archive is test-complete for the crash.

TL2004:

> This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3)

The run ends with

> loading : Context Support Macros / PDF (2004.10.26)
> ) <e_sigw.pdf, id=1, 468.3066pt x 336.72198pt> <use e_sigw.pdf> 
> [1{pdftex.map}
> <./e_sigw.pdfSegmentation fault

This example does also crash with TL 
Build/source.development@2005/01/07:15:00:00.

> This is pdfeTeX, Version 3.141592-1.20b-rc5-2.2 (Web2C 7.5.3)

The run ends with

> loading : Context Support Macros / PDF (2004.10.26)
> ) <e_sigw.pdf, id=1, 468.3066pt x 336.72198pt> <use e_sigw.pdf> 
> [1{pdftex.map}
> <./e_sigw.pdfSegmentation fault

WIth a TL2003 based install, I get no crash:

> This is pdfeTeXk, Version 3.141592-1.11a-2.1 (Web2C 7.5.2)

The run ends normally:

> loading : Context Support Macros / PDF
> ) <e_sigw.pdf, id=1, 468.3066pt x 336.72198pt> <use e_sigw.pdf> 
> [1{pdftex.map}
> <./e_sigw.pdf>] (./test.aux) 
> )<Math1.pfa></usr/local/teTeX/share/texmf.tetex/fo
> nts/type1/bluesky/cm/cmr10.pfb>
> Output written on test.pdf (1 page, 85039 bytes).

G

-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_test.tar.gz
Type: application/x-gzip
Size: 100386 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20050115/31f79184/pdflatex_test.tar-0001.bin
-------------- next part --------------

From te at dbs.uni-hannover.de  Sat Jan 15 22:24:50 2005
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Jan 15 22:27:41 2005
Subject: [tex-live] TL2004 pdftex crash on Mathematica font Math1.pfa
In-Reply-To: <6183DC10-66D6-11D9-A9FF-000D93B7C888@rna.nl>
References: <6183DC10-66D6-11D9-A9FF-000D93B7C888@rna.nl>
Message-ID: <20050115212450.GE13465@dbs.uni-hannover.de>

> The included archive contains a test set where I can reproduce a crash 
> of TL2004 pdftex (segmentation fault). The crash only happens when the 
> Math1.pfa font is added to pdftex.map, which is why I have added a 
> pdftex.map to the archive. This archive is test-complete for the crash.

I can confirm the bug with the pdfetex binary of TeX Live 2004 on Linux.
On the other hand, the version compiled from teTeX-2.99.9 (with the
"avoid negative n" fix for xpdf/fofi/FoFiType1.cc, although I don't know
if this matters here), I don't get a segfault.

Thomas

From hartmut_henkel at gmx.de  Sun Jan 16 14:39:40 2005
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sun Jan 16 14:41:50 2005
Subject: [tex-live] TL2004 pdftex crash on Mathematica font Math1.pfa
In-Reply-To: <20050115212450.GE13465@dbs.uni-hannover.de>
References: <6183DC10-66D6-11D9-A9FF-000D93B7C888@rna.nl>
	<20050115212450.GE13465@dbs.uni-hannover.de>
Message-ID: <Pine.LNX.4.61.0501161429250.1875@hahepc1.hahe>

On Sat, 15 Jan 2005, Thomas Esser wrote:

> > The included archive contains a test set where I can reproduce a
> > crash of TL2004 pdftex (segmentation fault). The crash only happens
> > when the Math1.pfa font is added to pdftex.map, which is why I have
> > added a pdftex.map to the archive. This archive is test-complete for
> > the crash.
>
> I can confirm the bug with the pdfetex binary of TeX Live 2004 on
> Linux. On the other hand, the version compiled from teTeX-2.99.9 (with
> the "avoid negative n" fix for xpdf/fofi/FoFiType1.cc, although I
> don't know if this matters here), I don't get a segfault.

FWIW, xpdf-3.00 can't even display file e_sigw.pdf here (debian woody,
i686), gives a segfault, both unpatched and with patches pl1 and pl2.

Regards, Hartmut

From karl at freefriends.org  Sun Jan 16 15:21:31 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Jan 16 15:23:40 2005
Subject: [tex-live] dvips updates in source.development
Message-ID: <200501161421.j0GELV024022@f7.net>

Since not everyone here is on tex-k, I thought I'd mention that Tom has
checked in some noteworthy fixes to dvips.  (You can see the full msgs
in the tex-k archives if you want them.)

k


From: "Tomas G. Rokicki" <rokicki@CS.Stanford.EDU>
Date: Sat, 15 Jan 2005 18:36:48 -0800

I just submitted a fix for the problem where a document includes a
figure that uses a downloaded PostScript font, and that same font
is also used by the main document itself.  Dvips was partially
downloading the font in this case when it should have downloaded
the entire font.  It now does download the entire font.

[...]

I've got a few more changes to make; I'll try to get them done as
soon as possible.

But I'd be slightly hesitant to package the *current* dvips in
the p4 tree into any distribution for widespread release until we
get some testing in.  If you need a dvips for your distribution,
grab the one from yesterday instead.


Date: Sat, 15 Jan 2005 16:28:36 -0800
From: "Tomas G. Rokicki" <rokicki@CS.Stanford.EDU>
To: tex-k@mail.tug.org

Howdy, everyone!

I recently received some mail from a mathemtician using epic/eepic to
render some very sweet graphics.  Unfortunately, dvips was rendering
these graphics very badly, mispositioning some elements significantly
(about a quarter of an inch in some cases).

The problem turns out to be the pervasive use of rounding and integers
throughout drawPS.c.  This code is 20 years old, so the bug has been
there all along.  Especially with spline paths, error can accumulate
with all the integer roundings causing severe mispositioning.

To fix this, I have a new version of drawPS.c that eschews integer
math throughout, using doubles almost exclusively.  On the diagrams
I've been able to find, it looks fine.  But the changes are somewhat
extensive if mechanical, and I'm terribly afraid to break other graphs
because of a typo or some other mistake on my part.

Is there a repository of eepic/epic graphics that I can use to gain
more confidence in the fix?  Perhaps someone familiar with this macro
package would be willing to take a look at my changes?

[...]

From wl at gnu.org  Tue Jan 18 00:59:57 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Jan 18 01:02:34 2005
Subject: [tex-live] mysterious mpost problem
Message-ID: <20050118.005957.92584401.wl@gnu.org>


[MetaPost 0.641 (Web2C 7.5.3)
 kpathsea version 3.5.3]

Please do the following, using the attached files:

  . Create mf2pt1.mem with `mpost --ini', using mf2pt1.mp.

  . Run `mpost --mem=mf2pt1 nospecial.mf'.

Now compare `nospecial.0' with `nospecial.1': The files should be
identical, but they aren't on my GNU/Linux box.  `nospecial.0' doesn't
contain any lines produced by the `special' command.

On the other hand,

  mpost '&mf2pt1 \input nospecial.mf'

gives the expected result.

AFAIK, the results should be the same, so it looks like a bug in
mpost.  Am I missing something?


    Werner
-------------- next part --------------
proofing := 0;

beginchar (0, 0, 0, 0);
special "foo";
endchar;

beginchar (1, 0, 0, 0);
special "foo";
endchar;

end.
-------------- next part --------------
%%%%
%%%% MF2PT1.MP, by Scott Pakin, pakin@uiuc.edu
%%%%
%%%% This file is used to dump a special version of MetaPost with:
%%%%     inimpost '\input mf2pt1; dump'
%%%%
%%%% To pretty-print this file, you'll need LaTeX and the mftinc package
%%%% (available from CTAN).
%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% mf2pt1                                                               %%%%
%%%% Copyright (C) 2001 Scott Pakin                                       %%%%
%%%%                                                                      %%%%
%%%% This program may be distributed and/or modified under the conditions %%%%
%%%% of the LaTeX Project Public License, either version 1.2 of this      %%%%
%%%% license or (at your option) any later version.                       %%%%
%%%%                                                                      %%%%
%%%% The latest version of this license is in:                            %%%%
%%%%                                                                      %%%%
%%%%    http://www.latex-project.org/lppl.txt                             %%%%
%%%%                                                                      %%%%
%%%% and version 1.2 or later is part of all distributions of LaTeX       %%%%
%%%% version 1999/12/01 or later.                                         %%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

input mfplain;

%%% addto makepath makepen
%%% length clockwise counterclockwise
%%% scaled dashed withcolor

%% \begin{explaincode}
%%   Enable a \MF\ file to determine if it's being built with
%%   \texttt{mf2pt1}.
%% \end{explaincode}

newinternal ps_output;
ps_output := 1;


%% \begin{explaincode}
%%   The following was taken right out of \texttt{mfplain.mp}.  The \mfcomment
%    |def| and the |special|s at the end
%%   are the sole additions.  Normally, MetaPost outputs a tight bounding
%%   box around the character in its PostScript output.  The purpose of the
%%   first \mfcomment
%    |special|
%%   is to pass \texttt{mf2pt1} a bounding box that includes the proper
%%   surrounding whitespace.  The purpose of the second special is to
%%   provide \texttt{mf2pt1} with a default PostScript font name.
%% \end{explaincode}

def beginchar(expr c,w_sharp,h_sharp,d_sharp) =
  begingroup
    charcode:=if known c: byte c else: 0 fi;
    charwd:=w_sharp;      charht:=h_sharp;       chardp:=d_sharp;
    w:=charwd*pt; h:=charht*pt; d:=chardp*pt;
    charic:=0; clearxy; clearit; clearpen; scantokens extra_beginchar;

    def to_bp (expr num) = decimal (ceiling (num*bp_per_pixel)) enddef;
    special "% MF2PT1: bbox 0 " & to_bp (-d) & " " & to_bp(w) & " " & to_bp(h);
    special "% MF2PT1: font_size " & decimal designsize;
    special "% MF2PT1: font_slant " & decimal font_slant_;
    for fvar = "font_identifier", "font_coding_scheme", "font_version",
      "font_comment", "font_family", "font_weight", "font_unique_id",
      "font_name":
      if known scantokens (fvar & "_"):
        special "% MF2PT1: " & fvar & " " & scantokens (fvar & "_");
      fi;
    endfor;
    for fvar = "font_underline_position", "font_underline_thickness":
      if known scantokens (fvar & "_"):
        special "% MF2PT1: " & fvar & " " &
          scantokens ("decimal " & fvar & "_");
      fi;
    endfor;
    special "% MF2PT1: font_fixed_pitch " &
            (if font_fixed_pitch_: "1" else: "0" fi);
enddef;


%% \begin{explaincode}
%%   Store the value of \mfcomment
%    |font_slant_|, so we can recall it at each |beginchar|.
%% \end{explaincode}

font_slant_ := 0;

def font_slant expr x =
  font_slant_ := x;
  fontdimen 1: x
enddef;


%% \begin{explaincode}
%%   Define a bunch of PostScript font parameters to be used by
%%   \texttt{mf2pt1.pl}.  Default values are specified in
%%   \texttt{mf2pt1.pl}, not here.
%% \end{explaincode}

forsuffixes fvar = font_version, font_comment, font_family, font_weight,
                   font_name, font_unique_id:
  scantokens ("string " & str fvar & "_;");
  scantokens ("def " & str fvar & " expr x = " & str fvar & "_ := x enddef;");
endfor;

forsuffixes fvar = font_underline_position, font_underline_thickness:
  scantokens ("numeric " & str fvar & "_;");
  scantokens ("def " & str fvar & " expr x = " & str fvar & "_ := x enddef;");
endfor;

boolean font_fixed_pitch_;
font_fixed_pitch_ := false;
def font_fixed_pitch expr x = font_fixed_pitch_ := x enddef;


%% \begin{explaincode}
%%   We'd like to be able to use calligraphic pens.  Normally, MetaPost's
%%   output routine does all the work for us of converting these to filled
%%   PostScript paths.  The only exception occurs for paths drawn using a
%%   pen that was transformed from  \mfcomment
%    |pencircle|.  MetaPost outputs these paths as stroked PostScript
%%   paths.  The following code tricks MetaPost into using a filled path
%%   for  \mfcomment
%    |pencircle| by replacing the primitive |pencircle| pen with a
%%   non-primitive approximation.  Note that we use a 20-gon for our circle
%%   instead of a diamond, so we get better results from  \mfcomment
%    |draw|.
%% \end{explaincode}

pen fakepencircle;
fakepencircle := makepen (for deg=0 step 360/20 until 359:
    (0.5 cosd deg, 0.5 sind deg)--
  endfor cycle);
save pencircle;
pen pencircle;
pencircle := fakepencircle;


%% \begin{explaincode}
%%   Return  \mfcomment
%    |true| if a path is cyclic, |false| otherwise.
%% \end{explaincode}

def is_cyclic expr cpath =
  (point 0 of cpath = point (length cpath) of cpath)
enddef;


%% \begin{explaincode}
%%   Determine the direction of a closed curve.  \mfcomment
%    Returns |true| if the curve is clockwise, |false| if counterclockwise.
%% \end{explaincode}

vardef is_clockwise primary cpath =
  turningnumber cpath <= 0
enddef;


%% \begin{explaincode}
%%   Make a given path run clockwise.  \mfcomment
%    (|counterclockwise| is defined by \texttt{mfplain}.)
%% \end{explaincode}

vardef clockwise primary c =
  (if is_clockwise c: c else: (reverse c) fi)
enddef;


%% \begin{explaincode}
%%   Redefine  \mfcomment
%    |fill| and |unfill| to ensure that filled paths run
%%   counterclockwise and unfilled paths run clockwise, as is required
%%   by PostScript Type~1 fonts.
%% \end{explaincode}

def fill expr c =
  addto currentpicture contour counterclockwise c t_ pc_
enddef;

def unfill expr c =
  addto currentpicture contour clockwise c t_ pc_ withcolor background
enddef;


%% \begin{explaincode}
%%   Convert  \mfcomment
%    |filldraw| and |unfilldraw| to |fill| and |unfill|.
%% \end{explaincode}

def filldraw expr c =
  begingroup
    message "! Warning: Replacing filldraw with fill.";
    fill c
  endgroup
enddef;

def unfilldraw expr c =
  begingroup
    message "! Warning: Replacing unfilldraw with unfill.";
    unfill c
  endgroup
enddef;


%% \begin{explaincode}
%%   Return  \mfcomment
%    |true| if |currentpen| looks like a |pencircle|.
%% \end{explaincode}

def using_pencircle =
  begingroup
    path qpath, circlepath;
    qpath = makepath currentpen;
    numeric circlediv;
    circlepath = makepath pencircle;
    circlediv = xpart (lrcorner circlepath);

    (length qpath = length circlepath) and (pen_rt <> 0) and (pen_top <> 0)
    for pp = 0 upto (length qpath)-1:
      and ((xpart (point pp of qpath) / pen_rt,
            ypart (point pp of qpath) / pen_top) =
           point pp of circlepath / circlediv)
    endfor
  endgroup
enddef;


%% \begin{explaincode}
%%   If the pen looks like a circular pen, draw a nice circle.  Otherwise,
%%   draw the pen as is.
%% \end{explaincode}

def drawdot expr z =
  if using_pencircle:
    begingroup
      path cpath;
      numeric clength;
      cpath = makepath currentpen;
      clength = length cpath;
      fill ((point 0 of cpath)
        ..(point clength/4 of cpath)
        ..(point clength/2 of cpath)
        ..(point 3*clength/4 of cpath)
        ..cycle) shifted z t_
    endgroup
  else:
    addto currentpicture contour makepath currentpen shifted z
    t_ pc_
  fi
enddef;


%% \begin{explaincode}
%%   Do the same as the above, but unfill the current pen.
%% \end{explaincode}

def undrawdot expr z =
  if using_pencircle:
    begingroup
      path cpath;
      numeric clength;
      cpath = makepath currentpen;
      clength = length cpath;
      unfill ((point 0 of cpath)
        ..(point clength/4 of cpath)
        ..(point clength/2 of cpath)
        ..(point 3*clength/4 of cpath)
        ..cycle) shifted z t_
    endgroup
  else:
    unfill makepath currentpen shifted z t_
  fi
enddef;


%% \begin{explaincode}
%%   MetaPost renders \mfcomment
%    |draw| with a filled curve.
%%   Hence, we need to ensure the orientation is correct (i.e.,
%%   counterclockwise).  Unfortunately, we have no way to check for
%%   overlap, and it's fairly common for MetaPost to output
%%   self-overlapping curve outlines, even if the curve itself has no
%%   overlap.
%% \end{explaincode}

def draw expr p =
  addto currentpicture
  if picture p:
    also p
  elseif is_cyclic p:
    doublepath counterclockwise p t_ withpen currentpen
  else:
    if is_clockwise (p--cycle):
      doublepath (reverse p) t_ withpen currentpen
    else:
      doublepath p t_ withpen currentpen
    fi
  fi
  pc_
enddef;

def undraw expr p =
  addto currentpicture
  if picture p:
    also p
  elseif is_cyclic p:
    doublepath clockwise p t_ withpen currentpen
  else:
    if is_clockwise (p--cycle):
      doublepath p t_ withpen currentpen
    else:
      doublepath (reverse p) t_ withpen currentpen
    fi
  fi
  pc_ withcolor background
enddef;
From pragma at wxs.nl  Tue Jan 18 10:09:53 2005
From: pragma at wxs.nl (h h extern)
Date: Tue Jan 18 15:11:59 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <20050118.005957.92584401.wl@gnu.org>
References: <20050118.005957.92584401.wl@gnu.org>
Message-ID: <41ECD261.4030006@wxs.nl>

Werner LEMBERG wrote:
> [MetaPost 0.641 (Web2C 7.5.3)
>  kpathsea version 3.5.3]
> 
> Please do the following, using the attached files:
> 
>   . Create mf2pt1.mem with `mpost --ini', using mf2pt1.mp.
> 
>   . Run `mpost --mem=mf2pt1 nospecial.mf'.
> 
> Now compare `nospecial.0' with `nospecial.1': The files should be
> identical, but they aren't on my GNU/Linux box.  `nospecial.0' doesn't
> contain any lines produced by the `special' command.
> 
> On the other hand,
> 
>   mpost '&mf2pt1 \input nospecial.mf'
> 
> gives the expected result.
> 
> AFAIK, the results should be the same, so it looks like a bug in
> mpost.  Am I missing something?

normally such problems are the result of a mismatch in mem values stored in the 
mem file and those in your texmf.cnf (at least, each time i ran into those 
special/string related issues it was related to that)



Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From te at dbs.uni-hannover.de  Tue Jan 18 15:59:31 2005
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Jan 18 16:02:00 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <41ECD261.4030006@wxs.nl>
References: <20050118.005957.92584401.wl@gnu.org> <41ECD261.4030006@wxs.nl>
Message-ID: <20050118145931.GA1381@dbs.uni-hannover.de>

> >  . Run `mpost --mem=mf2pt1 nospecial.mf'.
...
> >  mpost '&mf2pt1 \input nospecial.mf'
> 
> normally such problems are the result of a mismatch in mem values stored in 
> the mem file and those in your texmf.cnf (at least, each time i ran into 
> those special/string related issues it was related to that)

Bingo!

The following works:
  mpost --ini mf2pt1 \\dump
  mpost --mem=mf2pt1 --progname=mpost nospecial.mf
or
  mpost --mem=mf2pt1 --ini mf2pt1 \\dump
  mpost --mem=mf2pt1 nospecial.mf

The first version uses the memory settings for mpost, the second
version uses the settings for mf2pt1 (which does not explicitly exist
in texmf.cnf, so the defaults are used).

Thomas

From wl at gnu.org  Tue Jan 18 14:25:55 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Jan 18 16:07:24 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <41ECD261.4030006@wxs.nl>
References: <20050118.005957.92584401.wl@gnu.org>
	<41ECD261.4030006@wxs.nl>
Message-ID: <20050118.142555.08323802.wl@gnu.org>


> normally such problems are the result of a mismatch in mem values
> stored in the mem file and those in your texmf.cnf (at least, each
> time i ran into those special/string related issues it was related
> to that)

Looking into the kpathsea log file I see that mpost indeed uses my
just created mf2pt1.mem file (I don't have a different one in my
system), and I have created mf2pt1.mem with exactly the same texmf.cnf
file as processing the test file -- I'm quite sure that this can't be
the cause for the problem, but maybe I'm wrong...


    Werner

From npsharma14 at gmail.com  Tue Jan 18 12:09:02 2005
From: npsharma14 at gmail.com (Nagendar Sharma)
Date: Tue Jan 18 16:11:14 2005
Subject: [tex-live] Problem facing while converting Tex2word
Message-ID: <c59fbf005011803097237e2e4@mail.gmail.com>

Hi,

Sorry this question may be a minor one; as I am new in to TeX coding
and their subject.

========
I am having one TeX coding file and this need to be converted in doc
now. Can any one help me out or update, which converted, will be great
in results.

As in my initial search I found some converter where they are failing
to convert Tables and some time Math. And almost all the time Math are
appearing as a [Trail Model]

And here for this occurrence I am hitting last few days.

-- 
Warm Regards,
Nagenra Sharma

From taco at elvenkind.com  Tue Jan 18 10:10:58 2005
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue Jan 18 16:26:58 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <20050118.005957.92584401.wl@gnu.org>
References: <20050118.005957.92584401.wl@gnu.org>
Message-ID: <41ECD2A2.6050209@elvenkind.com>

Hi,

This sounds very familiar. I think I remember Hans Hagen mentioning
(privately?) this as well, but I can't seem to find any e-mail
regarding this any more. I hope Hans remembers.

Greetings, Taco

Werner LEMBERG wrote:
> [MetaPost 0.641 (Web2C 7.5.3)
>  kpathsea version 3.5.3]
> 
> Please do the following, using the attached files:
> 
>   . Create mf2pt1.mem with `mpost --ini', using mf2pt1.mp.
> 
>   . Run `mpost --mem=mf2pt1 nospecial.mf'.
> 
> Now compare `nospecial.0' with `nospecial.1': The files should be
> identical, but they aren't on my GNU/Linux box.  `nospecial.0' doesn't
> contain any lines produced by the `special' command.
> 
> On the other hand,
> 
>   mpost '&mf2pt1 \input nospecial.mf'
> 
> gives the expected result.
> 
> AFAIK, the results should be the same, so it looks like a bug in
> mpost.  Am I missing something?
> 
> 
>     Werner
> 
> 
> ------------------------------------------------------------------------
> 
> proofing := 0;
> 
> beginchar (0, 0, 0, 0);
> special "foo";
> endchar;
> 
> beginchar (1, 0, 0, 0);
> special "foo";
> endchar;
> 
> end.
> 
> 
> ------------------------------------------------------------------------
> 
> %%%%
> %%%% MF2PT1.MP, by Scott Pakin, pakin@uiuc.edu
> %%%%
> %%%% This file is used to dump a special version of MetaPost with:
> %%%%     inimpost '\input mf2pt1; dump'
> %%%%
> %%%% To pretty-print this file, you'll need LaTeX and the mftinc package
> %%%% (available from CTAN).
> %%%%
> 
> %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
> %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
> %%%% mf2pt1                                                               %%%%
> %%%% Copyright (C) 2001 Scott Pakin                                       %%%%
> %%%%                                                                      %%%%
> %%%% This program may be distributed and/or modified under the conditions %%%%
> %%%% of the LaTeX Project Public License, either version 1.2 of this      %%%%
> %%%% license or (at your option) any later version.                       %%%%
> %%%%                                                                      %%%%
> %%%% The latest version of this license is in:                            %%%%
> %%%%                                                                      %%%%
> %%%%    http://www.latex-project.org/lppl.txt                             %%%%
> %%%%                                                                      %%%%
> %%%% and version 1.2 or later is part of all distributions of LaTeX       %%%%
> %%%% version 1999/12/01 or later.                                         %%%%
> %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
> %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
> 
> input mfplain;
> 
> %%% addto makepath makepen
> %%% length clockwise counterclockwise
> %%% scaled dashed withcolor
> 
> %% \begin{explaincode}
> %%   Enable a \MF\ file to determine if it's being built with
> %%   \texttt{mf2pt1}.
> %% \end{explaincode}
> 
> newinternal ps_output;
> ps_output := 1;
> 
> 
> %% \begin{explaincode}
> %%   The following was taken right out of \texttt{mfplain.mp}.  The \mfcomment
> %    |def| and the |special|s at the end
> %%   are the sole additions.  Normally, MetaPost outputs a tight bounding
> %%   box around the character in its PostScript output.  The purpose of the
> %%   first \mfcomment
> %    |special|
> %%   is to pass \texttt{mf2pt1} a bounding box that includes the proper
> %%   surrounding whitespace.  The purpose of the second special is to
> %%   provide \texttt{mf2pt1} with a default PostScript font name.
> %% \end{explaincode}
> 
> def beginchar(expr c,w_sharp,h_sharp,d_sharp) =
>   begingroup
>     charcode:=if known c: byte c else: 0 fi;
>     charwd:=w_sharp;      charht:=h_sharp;       chardp:=d_sharp;
>     w:=charwd*pt; h:=charht*pt; d:=chardp*pt;
>     charic:=0; clearxy; clearit; clearpen; scantokens extra_beginchar;
> 
>     def to_bp (expr num) = decimal (ceiling (num*bp_per_pixel)) enddef;
>     special "% MF2PT1: bbox 0 " & to_bp (-d) & " " & to_bp(w) & " " & to_bp(h);
>     special "% MF2PT1: font_size " & decimal designsize;
>     special "% MF2PT1: font_slant " & decimal font_slant_;
>     for fvar = "font_identifier", "font_coding_scheme", "font_version",
>       "font_comment", "font_family", "font_weight", "font_unique_id",
>       "font_name":
>       if known scantokens (fvar & "_"):
>         special "% MF2PT1: " & fvar & " " & scantokens (fvar & "_");
>       fi;
>     endfor;
>     for fvar = "font_underline_position", "font_underline_thickness":
>       if known scantokens (fvar & "_"):
>         special "% MF2PT1: " & fvar & " " &
>           scantokens ("decimal " & fvar & "_");
>       fi;
>     endfor;
>     special "% MF2PT1: font_fixed_pitch " &
>             (if font_fixed_pitch_: "1" else: "0" fi);
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Store the value of \mfcomment
> %    |font_slant_|, so we can recall it at each |beginchar|.
> %% \end{explaincode}
> 
> font_slant_ := 0;
> 
> def font_slant expr x =
>   font_slant_ := x;
>   fontdimen 1: x
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Define a bunch of PostScript font parameters to be used by
> %%   \texttt{mf2pt1.pl}.  Default values are specified in
> %%   \texttt{mf2pt1.pl}, not here.
> %% \end{explaincode}
> 
> forsuffixes fvar = font_version, font_comment, font_family, font_weight,
>                    font_name, font_unique_id:
>   scantokens ("string " & str fvar & "_;");
>   scantokens ("def " & str fvar & " expr x = " & str fvar & "_ := x enddef;");
> endfor;
> 
> forsuffixes fvar = font_underline_position, font_underline_thickness:
>   scantokens ("numeric " & str fvar & "_;");
>   scantokens ("def " & str fvar & " expr x = " & str fvar & "_ := x enddef;");
> endfor;
> 
> boolean font_fixed_pitch_;
> font_fixed_pitch_ := false;
> def font_fixed_pitch expr x = font_fixed_pitch_ := x enddef;
> 
> 
> %% \begin{explaincode}
> %%   We'd like to be able to use calligraphic pens.  Normally, MetaPost's
> %%   output routine does all the work for us of converting these to filled
> %%   PostScript paths.  The only exception occurs for paths drawn using a
> %%   pen that was transformed from  \mfcomment
> %    |pencircle|.  MetaPost outputs these paths as stroked PostScript
> %%   paths.  The following code tricks MetaPost into using a filled path
> %%   for  \mfcomment
> %    |pencircle| by replacing the primitive |pencircle| pen with a
> %%   non-primitive approximation.  Note that we use a 20-gon for our circle
> %%   instead of a diamond, so we get better results from  \mfcomment
> %    |draw|.
> %% \end{explaincode}
> 
> pen fakepencircle;
> fakepencircle := makepen (for deg=0 step 360/20 until 359:
>     (0.5 cosd deg, 0.5 sind deg)--
>   endfor cycle);
> save pencircle;
> pen pencircle;
> pencircle := fakepencircle;
> 
> 
> %% \begin{explaincode}
> %%   Return  \mfcomment
> %    |true| if a path is cyclic, |false| otherwise.
> %% \end{explaincode}
> 
> def is_cyclic expr cpath =
>   (point 0 of cpath = point (length cpath) of cpath)
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Determine the direction of a closed curve.  \mfcomment
> %    Returns |true| if the curve is clockwise, |false| if counterclockwise.
> %% \end{explaincode}
> 
> vardef is_clockwise primary cpath =
>   turningnumber cpath <= 0
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Make a given path run clockwise.  \mfcomment
> %    (|counterclockwise| is defined by \texttt{mfplain}.)
> %% \end{explaincode}
> 
> vardef clockwise primary c =
>   (if is_clockwise c: c else: (reverse c) fi)
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Redefine  \mfcomment
> %    |fill| and |unfill| to ensure that filled paths run
> %%   counterclockwise and unfilled paths run clockwise, as is required
> %%   by PostScript Type~1 fonts.
> %% \end{explaincode}
> 
> def fill expr c =
>   addto currentpicture contour counterclockwise c t_ pc_
> enddef;
> 
> def unfill expr c =
>   addto currentpicture contour clockwise c t_ pc_ withcolor background
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Convert  \mfcomment
> %    |filldraw| and |unfilldraw| to |fill| and |unfill|.
> %% \end{explaincode}
> 
> def filldraw expr c =
>   begingroup
>     message "! Warning: Replacing filldraw with fill.";
>     fill c
>   endgroup
> enddef;
> 
> def unfilldraw expr c =
>   begingroup
>     message "! Warning: Replacing unfilldraw with unfill.";
>     unfill c
>   endgroup
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Return  \mfcomment
> %    |true| if |currentpen| looks like a |pencircle|.
> %% \end{explaincode}
> 
> def using_pencircle =
>   begingroup
>     path qpath, circlepath;
>     qpath = makepath currentpen;
>     numeric circlediv;
>     circlepath = makepath pencircle;
>     circlediv = xpart (lrcorner circlepath);
> 
>     (length qpath = length circlepath) and (pen_rt <> 0) and (pen_top <> 0)
>     for pp = 0 upto (length qpath)-1:
>       and ((xpart (point pp of qpath) / pen_rt,
>             ypart (point pp of qpath) / pen_top) =
>            point pp of circlepath / circlediv)
>     endfor
>   endgroup
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   If the pen looks like a circular pen, draw a nice circle.  Otherwise,
> %%   draw the pen as is.
> %% \end{explaincode}
> 
> def drawdot expr z =
>   if using_pencircle:
>     begingroup
>       path cpath;
>       numeric clength;
>       cpath = makepath currentpen;
>       clength = length cpath;
>       fill ((point 0 of cpath)
>         ..(point clength/4 of cpath)
>         ..(point clength/2 of cpath)
>         ..(point 3*clength/4 of cpath)
>         ..cycle) shifted z t_
>     endgroup
>   else:
>     addto currentpicture contour makepath currentpen shifted z
>     t_ pc_
>   fi
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   Do the same as the above, but unfill the current pen.
> %% \end{explaincode}
> 
> def undrawdot expr z =
>   if using_pencircle:
>     begingroup
>       path cpath;
>       numeric clength;
>       cpath = makepath currentpen;
>       clength = length cpath;
>       unfill ((point 0 of cpath)
>         ..(point clength/4 of cpath)
>         ..(point clength/2 of cpath)
>         ..(point 3*clength/4 of cpath)
>         ..cycle) shifted z t_
>     endgroup
>   else:
>     unfill makepath currentpen shifted z t_
>   fi
> enddef;
> 
> 
> %% \begin{explaincode}
> %%   MetaPost renders \mfcomment
> %    |draw| with a filled curve.
> %%   Hence, we need to ensure the orientation is correct (i.e.,
> %%   counterclockwise).  Unfortunately, we have no way to check for
> %%   overlap, and it's fairly common for MetaPost to output
> %%   self-overlapping curve outlines, even if the curve itself has no
> %%   overlap.
> %% \end{explaincode}
> 
> def draw expr p =
>   addto currentpicture
>   if picture p:
>     also p
>   elseif is_cyclic p:
>     doublepath counterclockwise p t_ withpen currentpen
>   else:
>     if is_clockwise (p--cycle):
>       doublepath (reverse p) t_ withpen currentpen
>     else:
>       doublepath p t_ withpen currentpen
>     fi
>   fi
>   pc_
> enddef;
> 
> def undraw expr p =
>   addto currentpicture
>   if picture p:
>     also p
>   elseif is_cyclic p:
>     doublepath clockwise p t_ withpen currentpen
>   else:
>     if is_clockwise (p--cycle):
>       doublepath p t_ withpen currentpen
>     else:
>       doublepath (reverse p) t_ withpen currentpen
>     fi
>   fi
>   pc_ withcolor background
> enddef;
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live

From pragma at wxs.nl  Tue Jan 18 17:35:22 2005
From: pragma at wxs.nl (h h extern)
Date: Tue Jan 18 17:38:14 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <20050118145931.GA1381@dbs.uni-hannover.de>
References: <20050118.005957.92584401.wl@gnu.org> <41ECD261.4030006@wxs.nl>
	<20050118145931.GA1381@dbs.uni-hannover.de>
Message-ID: <41ED3ACA.5020406@wxs.nl>

Thomas Esser wrote:
>>> . Run `mpost --mem=mf2pt1 nospecial.mf'.
> 
> ...
> 
>>> mpost '&mf2pt1 \input nospecial.mf'
>>
>>normally such problems are the result of a mismatch in mem values stored in 
>>the mem file and those in your texmf.cnf (at least, each time i ran into 
>>those special/string related issues it was related to that)
> 
> 
> Bingo!
> 
> The following works:
>   mpost --ini mf2pt1 \\dump
>   mpost --mem=mf2pt1 --progname=mpost nospecial.mf
> or
>   mpost --mem=mf2pt1 --ini mf2pt1 \\dump
>   mpost --mem=mf2pt1 nospecial.mf
> 
> The first version uses the memory settings for mpost, the second
> version uses the settings for mf2pt1 (which does not explicitly exist
> in texmf.cnf, so the defaults are used).

ah, there is indeed this progname stuff going on and i think part of the problem 
is that this is not stored in the format; this means that one has to invoke the 
ini and runtime version in the similar way; i wonder, it it possible to store 
the progname in the format and use that value as default?

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Tue Jan 18 17:42:04 2005
From: pragma at wxs.nl (h h extern)
Date: Tue Jan 18 17:44:19 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <41ECD2A2.6050209@elvenkind.com>
References: <20050118.005957.92584401.wl@gnu.org>
	<41ECD2A2.6050209@elvenkind.com>
Message-ID: <41ED3C5C.3070301@wxs.nl>

Taco Hoekwater wrote:
> Hi,
> 
> This sounds very familiar. I think I remember Hans Hagen mentioning
> (privately?) this as well, but I can't seem to find any e-mail
> regarding this any more. I hope Hans remembers.
> 
> Greetings, Taco
> 
> Werner LEMBERG wrote:
> 
>> [MetaPost 0.641 (Web2C 7.5.3)
>>  kpathsea version 3.5.3]
>>
>> Please do the following, using the attached files:
>>
>>   . Create mf2pt1.mem with `mpost --ini', using mf2pt1.mp.
>>
>>   . Run `mpost --mem=mf2pt1 nospecial.mf'.
>>
>> Now compare `nospecial.0' with `nospecial.1': The files should be
>> identical, but they aren't on my GNU/Linux box.  `nospecial.0' doesn't
>> contain any lines produced by the `special' command.
>>
>> On the other hand,
>>
>>   mpost '&mf2pt1 \input nospecial.mf'
>>
>> gives the expected result.
>>
>> AFAIK, the results should be the same, so it looks like a bug in
>> mpost.  Am I missing something?

it's already long ago that we ran into this, and discussed it; it has to do with 
the fact that those specials are collected at the mem boundary and when that 
boundary changes (due to either a change in the cnf file or due to another 
progname environment) things gets lost [strings getting lost is one side effect, 
but i think mp can even bomb]; in tex, some mem arrays can be adapted after 
format generation, like the top/bot men things, probably because the boundary 
mem areas are not used, contrary to metapost, and the problem is that in mp this 
is not stored [normally the frozen mem allocations are stored and changes in the 
cnf file have no consequence];

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From wl at gnu.org  Tue Jan 18 20:09:58 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Jan 18 21:10:03 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <41ED3ACA.5020406@wxs.nl>
References: <41ECD261.4030006@wxs.nl>
	<20050118145931.GA1381@dbs.uni-hannover.de>
	<41ED3ACA.5020406@wxs.nl>
Message-ID: <20050118.200958.179959282.wl@gnu.org>


> > The following works:
> >   mpost --ini mf2pt1 \\dump
> >   mpost --mem=mf2pt1 --progname=mpost nospecial.mf
> > or
> >   mpost --mem=mf2pt1 --ini mf2pt1 \\dump
> >   mpost --mem=mf2pt1 nospecial.mf
> >
> > The first version uses the memory settings for mpost, the second
> > version uses the settings for mf2pt1 (which does not explicitly
> > exist in texmf.cnf, so the defaults are used).
>
> ah, there is indeed this progname stuff going on and i think part of
> the problem is that this is not stored in the format; this means
> that one has to invoke the ini and runtime version in the similar
> way; i wonder, it it possible to store the progname in the format
> and use that value as default?

Thanks for clarification.  How shall Joe User be able to resolve this?
I really hope that it can be fixed soon!

For the moment, I will stay with

  mpost '&mf2pt1 \input nospecial.mf'

which seems to work always fine.


    Werner

From wl at gnu.org  Wed Jan 19 08:02:19 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Wed Jan 19 08:04:39 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <20050118.200958.179959282.wl@gnu.org>
References: <20050118145931.GA1381@dbs.uni-hannover.de>
	<41ED3ACA.5020406@wxs.nl> <20050118.200958.179959282.wl@gnu.org>
Message-ID: <20050119.080219.66180267.wl@gnu.org>


> For the moment, I will stay with
> 
>   mpost '&mf2pt1 \input nospecial.mf'
> 
> which seems to work always fine.

Is it possible that my problem is another, simpler incarnation of bug
#131 (`String problem claimed to be a memory leak') as reported on
sarovar?  Taco, can you otherwise add my mail to the bug database?


    Werner

From taco at elvenkind.com  Wed Jan 19 08:32:21 2005
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed Jan 19 09:04:56 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <20050119.080219.66180267.wl@gnu.org>
References: <20050118145931.GA1381@dbs.uni-hannover.de>	<41ED3ACA.5020406@wxs.nl>
	<20050118.200958.179959282.wl@gnu.org>
	<20050119.080219.66180267.wl@gnu.org>
Message-ID: <41EE0D05.3060905@elvenkind.com>

Werner LEMBERG wrote:
>>For the moment, I will stay with
>>
>>  mpost '&mf2pt1 \input nospecial.mf'
>>
>>which seems to work always fine.
> 
> 
> Is it possible that my problem is another, simpler incarnation of bug
> #131 (`String problem claimed to be a memory leak') as reported on
> sarovar?  Taco, can you otherwise add my mail to the bug database?

It could be the same problem, but not necessarily (it could even be a 
different web2c-specific problem). I've added this new bug separately
for the moment and CC to Denis (hopefully) to see if he still has the
original bug-creating file.

Bugtracker is here
    http://sarovar.org/tracker/index.php?group_id=230&atid=983

Denis' original bug is #131, Werner's new bug is #260

Greetings, Taco

From pragma at wxs.nl  Wed Jan 19 09:15:07 2005
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Jan 19 09:17:59 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <20050118.200958.179959282.wl@gnu.org>
References: <41ECD261.4030006@wxs.nl>
	<20050118145931.GA1381@dbs.uni-hannover.de>
	<41ED3ACA.5020406@wxs.nl> <20050118.200958.179959282.wl@gnu.org>
Message-ID: <41EE170B.40307@wxs.nl>

Werner LEMBERG wrote:

> Thanks for clarification.  How shall Joe User be able to resolve this?
> I really hope that it can be fixed soon!

the savest is in all cases to specify a -progname

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From olaf at infovore.xs4all.nl  Wed Jan 19 14:13:51 2005
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Wed Jan 19 14:17:15 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <41EE170B.40307@wxs.nl> (Hans Hagen's message of "Wed, 19 Jan
	2005 09:15:07 +0100")
References: <41ECD261.4030006@wxs.nl>
	<20050118145931.GA1381@dbs.uni-hannover.de> <41ED3ACA.5020406@wxs.nl>
	<20050118.200958.179959282.wl@gnu.org> <41EE170B.40307@wxs.nl>
Message-ID: <87mzv5h88g.fsf@infovore.xs4all.nl>

Hans Hagen writes:
> Werner LEMBERG wrote:

>> Thanks for clarification.  How shall Joe User be able to resolve this?
>> I really hope that it can be fixed soon!

> the savest is in all cases to specify a -progname

Basically, the problem seems related to the way the code infers a
progname if the '-mem=foo' argument is given, and doesn't if '&foo' is
used. 

- A partial solution is to always require the -progname for tex, mf,
  mpost if a different progname than the name of the program is
  desired.  This is easy to implement, though it may break backward
  compatibility...  (Not that we're strangers to that; and I hope it
  would complete the cleanup of that part of the options interface.)

- For mpost in particular, it also appears that some values cannot be
  safely used from the texmf.cnf for an existing mem, and therefore
  should just be stored in the mem at dump time and used from there.
  This is easy enough for me to do, if someone can tell me which ones.

Storing the progname at dump in the mem file is not a solution for
this particular problem.

Explcitly specifying the progname option is safest.  The rule-of-thumb
is that -progname should be -mem name, and since -mem name is adopted
during runs not not during -ini, -progname needs to be explicit at
-ini.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From karl at freefriends.org  Wed Jan 19 15:58:35 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Jan 19 16:03:55 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <87mzv5h88g.fsf@infovore.xs4all.nl>
Message-ID: <200501191458.j0JEwZ111259@f7.net>

    - A partial solution is to always require the -progname for tex, mf,
      mpost if a different progname than the name of the program is
      desired.  This is easy to implement, though it may break backward
      compatibility...  

You mean, no longer try to infer the progname from -mem=foo?

I don't see an overwhelming reason to break compatibility in this
respect, so, all other things being equal, let's not.  Documenting the
need for -progname when in doubt seems sufficient?

From olaf at infovore.xs4all.nl  Wed Jan 19 18:15:22 2005
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Wed Jan 19 18:17:33 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <200501191458.j0JEwZ111259@f7.net> (Karl Berry's message of
	"Wed, 19 Jan 2005 09:58:35 -0500")
References: <200501191458.j0JEwZ111259@f7.net>
Message-ID: <87ekghgx1x.fsf@infovore.xs4all.nl>

Karl Berry writes:

>     - A partial solution is to always require the -progname for tex, mf,
>       mpost if a different progname than the name of the program is
>       desired.  This is easy to implement, though it may break backward
>       compatibility...  

> You mean, no longer try to infer the progname from -mem=foo?

Exactly.

> I don't see an overwhelming reason to break compatibility in this
> respect, so, all other things being equal, let's not.  Documenting the
> need for -progname when in doubt seems sufficient?

This assumes that documentation will be read.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Wed Jan 19 18:21:31 2005
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Jan 19 18:25:35 2005
Subject: [tex-live] mysterious mpost problem
In-Reply-To: <87mzv5h88g.fsf@infovore.xs4all.nl>
References: <41ECD261.4030006@wxs.nl>
	<20050118145931.GA1381@dbs.uni-hannover.de>
	<41ED3ACA.5020406@wxs.nl>
	<20050118.200958.179959282.wl@gnu.org> <41EE170B.40307@wxs.nl>
	<87mzv5h88g.fsf@infovore.xs4all.nl>
Message-ID: <41EE971B.1050508@wxs.nl>

Olaf Weber wrote:

> Basically, the problem seems related to the way the code infers a
> progname if the '-mem=foo' argument is given, and doesn't if '&foo' is
> used. 

that's a subtle differnece indeed

> - A partial solution is to always require the -progname for tex, mf,
>   mpost if a different progname than the name of the program is
>   desired.  This is easy to implement, though it may break backward
>   compatibility...  (Not that we're strangers to that; and I hope it
>   would complete the cleanup of that part of the options interface.)

dangerous to break that compatibility

> - For mpost in particular, it also appears that some values cannot be
>   safely used from the texmf.cnf for an existing mem, and therefore
>   should just be stored in the mem at dump time and used from there.
>   This is easy enough for me to do, if someone can tell me which ones.
> 
> Storing the progname at dump in the mem file is not a solution for
> this particular problem.
> 
> Explcitly specifying the progname option is safest.  The rule-of-thumb
> is that -progname should be -mem name, and since -mem name is adopted
> during runs not not during -ini, -progname needs to be explicit at
> -ini.

on the other hand, now one can share mem settings *which is what happens with 
context: many formats, one progname)

how about defaulting to the program name (binary) if -progname is missing?

[there are a few more such strange inconsistencies:

pdfetex + pdfetex.pool
mpost   + mp.pool      (i'd expect mpost.pool)

the same for names of dump formats. maybe all these things should default to the
binary's name]

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From wl at gnu.org  Sat Jan 22 09:24:45 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Sat Jan 22 09:27:18 2005
Subject: [tex-live] mpost bugs
Message-ID: <20050122.092445.38415150.wl@gnu.org>


Right now I have been bitten by the turningnumber bug in mpost:

  http://sarovar.org/tracker/index.php?func=detail&aid=123&group_id=230&atid=983

Is anybody working on this?


    Werner

From taco at elvenkind.com  Sat Jan 22 10:33:40 2005
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat Jan 22 10:35:52 2005
Subject: [tex-live] mpost bugs
In-Reply-To: <20050122.092445.38415150.wl@gnu.org>
References: <20050122.092445.38415150.wl@gnu.org>
Message-ID: <41F21DF4.4050909@elvenkind.com>

Werner LEMBERG wrote:
> Right now I have been bitten by the turningnumber bug in mpost:
> 
>   http://sarovar.org/tracker/index.php?func=detail&aid=123&group_id=230&atid=983
> 
> Is anybody working on this?

I am currently working on teaching myself enough about curves to
start working on these parts of MP, so the answer is "will be".
I understand web (and knuthian) code well enough, but my maths
is not up-to-par.

If anybody knows of a good textbook on curves, shapes and other
2d graphics, I am very interested. My high-school math is just
not good enough.

Greetings, Taco

From wl at gnu.org  Sat Jan 22 15:29:30 2005
From: wl at gnu.org (Werner LEMBERG)
Date: Sat Jan 22 15:45:56 2005
Subject: [tex-live] mpost bugs
In-Reply-To: <41F21DF4.4050909@elvenkind.com>
References: <20050122.092445.38415150.wl@gnu.org>
	<41F21DF4.4050909@elvenkind.com>
Message-ID: <20050122.152930.68306144.wl@gnu.org>

> I am currently working on teaching myself enough about curves to
> start working on these parts of MP, so the answer is "will be".  I
> understand web (and knuthian) code well enough, but my maths is not
> up-to-par.
> 
> If anybody knows of a good textbook on curves, shapes and other 2d
> graphics, I am very interested.  My high-school math is just not
> good enough.

While John Hobby has not enough time to work on metapost any more,
AFAIK, he probably can assist you with such problems.


    Werner

From lfinsto1 at gwdg.de  Sat Jan 22 11:47:07 2005
From: lfinsto1 at gwdg.de (Laurence Finston)
Date: Sun Jan 23 15:20:02 2005
Subject: [metapost] Re: [tex-live] mpost bugs
In-Reply-To: <41F21DF4.4050909@elvenkind.com>
References: <20050122.092445.38415150.wl@gnu.org>
	<41F21DF4.4050909@elvenkind.com>
Message-ID: <Pine.OSF.4.58.0501221130160.196964@gwdu71.gwdg.de>

On Sat, 22 Jan 2005, Taco Hoekwater wrote:

>
> If anybody knows of a good textbook on curves, shapes and other
> 2d graphics, I am very interested. My high-school math is just
> not good enough.
>

I strongly recommend the book I recommended recently to
Mojca Miklavec:

Jones, Huw.
_Computer Graphics through Key Mathematics_.
Springer-Verlag London Limited 2001.
ISBN 1-85233-422-3.

For a more detailed treatment, I recommend
Salomon, David.
Computer Graphics and Geometric Modeling.
Berlin 1999.
Springer-Verlag.
ISBN: 0-387-98682-0.

For NURBs, I recommend:
Piegl, Les and Wayne Tiller.
_The NURBS Book_.
Monographs in Visual Communications.
Springer-Verlag.
Berlin, Heidelberg, New York 1995 and 1997.
ISBN 3-540-61545-8 2nd. ed.
ISBN 3-540-55069-0 1st ed.

For inspiration:
Cundy, H. Martyn and A.P. Rollet.
_Mathematical Models_.
Oxford University Press.
Oxford 1961.
(One of my favorite books since childhood.)

The following is just because it's interesting.
I want to implement folding operations for 3DLDF,
but I don't know whether it will be relevant for MP.
I don't have a proper reference for this book.
The author is correct and the publisher is Dover.
I'm not completely sure about the title.

T. Sundara Row.
_Geometric Exercises in Paper-Folding_.

Hans Aberg and Martijn van Manen are two mathematicians who
have kindly answered some of my mathematical questions on the
`help-3dldf@gnu.org' mailing list.
You may find it interesting to have a look at the archives:
http://lists.gnu.org/archive/html/help-3dldf/
I'm likely to have more, and you're welcome to join the discussion,
if you wish.


Laurence

From karl at freefriends.org  Tue Jan 25 01:35:04 2005
From: karl at freefriends.org (Karl Berry)
Date: Tue Jan 25 01:37:15 2005
Subject: [tex-live] p4 repository thawed
Message-ID: <200501250035.j0P0Z4C13471@f7.net>

I think we may as well consider the p4 repository open for general
checkins again, as of now.  Sorry for the ridiculous delay and lack of
resolution.

Here is the story: first I spent a couple weeks checking in nearly the
entire repository to CVS at texlive.sarovar.org.  This was not fun, and
I felt like we would suffer from CVS's deficiencies (as several people
warned, I know, I know).  One of the worst problems would be handling
binary files (and avoiding keyword expansion).  Lack of symlinks would
also not have been fun.

I had hoped sarovar would start supporting subversion, and we could use
that.  Raj, the sarovar admin, was hoping to install the latest version
of gforge, which does support subversion.  Unfortunately, there was a
lack of Debian packages and all the prerequisite packages needed.  So
that has been basically abandoned for now.

So then, after discussing the options with Sebastian and others, we
figured the best bet was to install subversion on tug.  We could still
use the project stuff on sarovar if we were so inclined, but at least
we'd have the better source control.  So that was going more or less ok,
I had most of the repository checked in again ... and now tug has
apparently developed disk problems.  Argh!

(BTW, subversion has its own set of problems, including once again with
binary/text files, but they seemed a lot more tractable.  And the
subversion developers have been more responsive than the cvs developers,
which is nice.)

Kaja and I are discussing what to do next -- whether to buy a new
machine or replace the disk, etc.  Meanwhile, it seems well past time to
allow development to proceed.  So go for it.

I've saved a copy of the TL tree for paranoia's sake (of course we can
also get it from p4).  I still plan to make TL 2004 the base checkin
when we get subversion going.  BTW, I asked Sebastian again if he'd
rather just forget all this and keep using p4 in perpetuity, and he said
he would rather switch.  So we will persist ...

karl

From preining at logic.at  Tue Jan 25 07:24:34 2005
From: preining at logic.at (Norbert Preining)
Date: Tue Jan 25 07:26:57 2005
Subject: [tex-live] p4 repository thawed
In-Reply-To: <200501250035.j0P0Z4C13471@f7.net>
References: <200501250035.j0P0Z4C13471@f7.net>
Message-ID: <20050125062434.GA28128@gamma.logic.tuwien.ac.at>

On Mon, 24 Jan 2005, Karl Berry wrote:
> he would rather switch.  So we will persist ...

Dear Karl!

I would like to thank you for all the hard work yo invest here and the 
troubles you go through!!!

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GILDERSOME (adj.) Descriptive of a joke someone tells you which starts
well, but which becomes so embellished in the telling that you start
to weary of it after scarcely half an hour.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Tue Jan 25 12:28:30 2005
From: preining at logic.at (Norbert Preining)
Date: Tue Jan 25 12:30:53 2005
Subject: [tex-live] Debian-TeXlive Proposal II
Message-ID: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>

Dear all!

After some time of absence and of reading through the suggestions I got
from the debian-devel list and especially Frank, I have (hopefully)
improved the proposal and would like to ask you again for your comments.

There are two question below, please consider. And please send me all
your comments, flames etc.


Proposal for a Debian packaging system for TeXlive
==================================================
(last update: 2004-01-25)

All debian package names are prefixed with tl-

The tpm in texmf/tpm/ (collection-*, bin-*, lib-*, hyphen-*, scheme-*) 
are mapped to debian packages.

Mapping:
	bin-XXX		->	tl-XXX-bin 	(standard debian notation)
	collection-XXX	->	tl-XXX
	lib-XXX		->	tl-lib-XXX	(??)
				can be ignored as the binaries are currently
				more or less static
				for proper debian we have to build it wrt
				the installed debian libs
	hyphen-XXX	->	tl-hyphen-XXX
	scheme-XXX	->	tl-scheme-XXX

TPM-Requires between these packages are mapped to Debian Dependencies.

All other files obtained from a TPM-Require are included in the 
debian package.

Thus we have:
binaries:
	tl-afm2pl-bin tl-aleph-bin tl-amstex-bin tl-bibtex-bin ...
collection:
	tl-basic tl-bibtexextra tl-binaries tl-chemistry tl-context ...
schemes:
	tl-scheme-basic tl-scheme-context tl-scheme-full ...

As an example, tl-chemistry Debian-depends on
(binaries)
	(no)
(other collection)
	tl-basic
and includes the files from
	bpchem.tpm chemarrow.tpm chemcono.tpm mhchem.tpm xymtex.tpm



Location of the stuff:
======================
binaries:
	/usr/bin/
texmf trees
	we have several texmf trees:
	TEXMFMAIN = /usr/share/texmf
	TEXMFDIST = /usr/share/texlive/texmf-dist
	plus the texmf trees specified in the Debian-TeX policy
	(VARTEXMF, SITETEXMF, TEXMFLOCAL, HOMETEXMF, TEXMFOLDLOCAL)
config files
	/etc/texmf with links from /usr/share/texmf/web2c/... to /etc/texmf


Implementation of foreign arch/os binary packages:
==================================================
For binaries with the only purpose of being served (via nfs/smb/etc) 
of other os/arch combinations architecture-independent debian packages
are created:
	tl-<progname>-arch-os	(arch=all)
	tl-binaries-arch-os	(arch=all)
e.g.
	tl-aleph-i386-solaris
	tl-binaries-i386-win32
These packages contain the binaries (what about the included man pages?)
for the mentioned architecture and install into
	/srv/texlive/arch-os/bin
	/srv/texlive/arch-os/man/...
or whatever path is necessary for these packages.

=========================================================================

Questions:
- Is it possible to circumvent the double installation of binaries for the
  normal system (into /usr/bin) and into /src/texlive/arch-linux?
  Idea: Put *all* binaries for one arch into /srv and mount them
  via --bind to /usr/lib/texlive/bin/, and put symlinks from /usr/bin to
  /usr/lib/texlive/bin. Is this an option?
- What is still unclear for me is how to cope with all the packages: If we
  do it the way proposed below, we have:
	bin-packages:	 80
	collection:	 75
	scheme:		  8
	hyphen:		 30
	total:		193
  which is *quite a lot*.


Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SNEEM (n.,vb.)
Particular kind of frozen smile bestowed on a small child by a parent
in mixed company when question, 'Mummy, what's this?' appears to
require the answer,' Er...it's a rubber johnny, darling'.
			--- Douglas Adams, The Meaning of Liff

From gavin at celt.dias.ie  Tue Jan 25 13:15:03 2005
From: gavin at celt.dias.ie (Gavin McCullagh)
Date: Tue Jan 25 13:17:43 2005
Subject: [tex-live] Debian-TeXlive Proposal II
In-Reply-To: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
Message-ID: <20050125121503.GF27927@celt.dias.ie>

Hi,

On Tue, 25 Jan 2005, Norbert Preining wrote:

> Implementation of foreign arch/os binary packages:
> ==================================================
> For binaries with the only purpose of being served (via nfs/smb/etc) 
> of other os/arch combinations architecture-independent debian packages
> are created:
> 	tl-<progname>-arch-os	(arch=all)
> 	tl-binaries-arch-os	(arch=all)
> e.g.
> 	tl-aleph-i386-solaris
> 	tl-binaries-i386-win32
> These packages contain the binaries (what about the included man pages?)
> for the mentioned architecture and install into
> 	/srv/texlive/arch-os/bin
> 	/srv/texlive/arch-os/man/...
> or whatever path is necessary for these packages.

Not meaning to be excessively demanding but the purpose (or my
understanding of it) in providing the foreign arch binaries is so that a
full working TeX Live tree can be shared out via nfs/samba/etc to other
machines.  If I run bin/win32/latex from the share on a windows machine,
where will it go for the texmf tree?  Would there be a tree symlinked
together for sharing out or something else? eg

/srv/texlive/arch-os/texmf -> /usr/share/texmf
/srv/texlive/arch-os/texmf-dist -> /usr/share/texlive/texmf-dist 

Thanks 
Gavin


From Gerben.Wierda at rna.nl  Tue Jan 25 14:59:38 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Jan 25 15:01:51 2005
Subject: [tex-live] Debian-TeXlive Proposal II
In-Reply-To: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
Message-ID: <9258.159.46.248.231.1106661578.squirrel@159.46.248.231>

> Dear all!
>
> After some time of absence and of reading through the suggestions I got
> from the debian-devel list and especially Frank, I have (hopefully)
> improved the proposal and would like to ask you again for your comments.
>
> There are two question below, please consider. And please send me all
> your comments, flames etc.
>
>
> Proposal for a Debian packaging system for TeXlive
> ==================================================
> (last update: 2004-01-25)

My apologies for being so underinformed, but can someone point me to an
explanation of what Debian packages are and what they do? Or just explain
it to me here?

Should I be worried that TL will become less OS-independent as it is now?
Not all users are on Linux ;-)

(e.g. I read about stuff with "mount --bind", isn't that Linux specific?
Does that exist in Darwin or other Unices?) Etc.

G

From Gerben.Wierda at rna.nl  Tue Jan 25 15:02:32 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Jan 25 15:04:42 2005
Subject: [tex-live] [Fwd: pdflatex segmentation fault and patch to fix]
In-Reply-To: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
References: <51025.159.46.248.235.1105517298.squirrel@159.46.248.235>
Message-ID: <54478.159.46.248.235.1106661752.squirrel@159.46.248.235>

> I received this excellent bug report from a user (including tracking where
> the crash happened). Can someone get this into xpdf?

I received a patch from the xpdf maintainer and have applied this patch
last weekend to the source.development tree.

> The crash occurs in the file libs/xpdf/fofi/FoFiType1.cc.

Which is the file I patched.

G

From frank at kuesterei.ch  Tue Jan 25 15:32:10 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Tue Jan 25 15:40:46 2005
Subject: [tex-live] Debian-TeXlive Proposal II
In-Reply-To: <9258.159.46.248.231.1106661578.squirrel@159.46.248.231> (Gerben
	Wierda's message of "Tue, 25 Jan 2005 14:59:38 +0100 (CET)")
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<9258.159.46.248.231.1106661578.squirrel@159.46.248.231>
Message-ID: <873bwpmvf9.fsf@alhambra.kuesterei.ch>

"Gerben Wierda" <Gerben.Wierda@rna.nl> wrote:

> My apologies for being so underinformed, but can someone point me to an
> explanation of what Debian packages are and what they do? Or just explain
> it to me here?

A Debian package (as well as a SusE rpm, or Fedora rpm, or whatever) is
an archive of some piece of software (in this case, tex-live or some
part of it) which is specially taylored for one system (Debian, SuSE or
Fedora), so that it can easily be installed and registered on that
system, and integrated into its infrastructure. Kind of this "Welcome to
the InstallShield Wizard which will guide you through..."

> Should I be worried that TL will become less OS-independent as it is now?
> Not all users are on Linux ;-)

No, not at all. The aim is to make it easier for Debian users to install
tex-live, and keep it up to date. 

It might not be obvious to a Windows user (and maybe even an
old-fashioned Mac user) what is needed that is not already provided by
the current tex-live CD's. The main point is dependencies: If there is
some add-on package for LaTeX on Debian or on SuSE, or something that
uses TeX to typeset its output, this package needs some kind of TeX
installed. On Windows, IIRC, this would mean that a well done install
procedure would check its existense, and either refuse to install or
offer to download some minimal TeX distribution. Don't know about
MacOS. 

On Linux, you wouldn't klick on a setup.exe for the add-on package, but
rather start your central installation tool (yast, or aptitude, or
whatever), browse the package list until you get to the desired package,
and by the control information included in that package, the
installation tool would know that TeX has to be installed first.

Unfortunately, at least for Debian there are currently only teTeX
packages of that kind. Therefore every Debian package that uses TeX will
force you to install teTeX, even if you already have tex-live
installed. With a Debian package of tex-live, you'd have the option to
choose. 

> (e.g. I read about stuff with "mount --bind", isn't that Linux specific?
> Does that exist in Darwin or other Unices?) Etc.

I don't know. But you can be sure that if such commands are used, they
will be used only in the Linux-specific part. Or rather they are an
option to be used by a local administrator.

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From kaja at daimi.au.dk  Tue Jan 25 16:09:17 2005
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Tue Jan 25 16:11:32 2005
Subject: [tex-live] p4 repository thawed
In-Reply-To: <200501250035.j0P0Z4C13471@f7.net>
References: <200501250035.j0P0Z4C13471@f7.net>
Message-ID: <16886.24861.722812.81759@gandalf.daimi.au.dk>



Karl writes:

 > Kaja and I are discussing what to do next -- whether to buy a new
 > machine or replace the disk, etc.  Meanwhile, it seems well past time to
 > allow development to proceed.  So go for it.
 > 
 > I've saved a copy of the TL tree for paranoia's sake (of course we can
 > also get it from p4).

to add to paranoia: I have backup of /home disk (which contains TL tree)
at my dept, so we should be safe.

Kaja

From frank at kuesterei.ch  Tue Jan 25 19:03:11 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Tue Jan 25 19:10:45 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <20050125112830.GF10403@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Tue, 25 Jan 2005 12:28:30 +0100")
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
Message-ID: <87ekg9jsio.fsf@alhambra.kuesterei.ch>

Norbert Preining <preining@logic.at> schrieb:

> Proposal for a Debian packaging system for TeXlive
> ==================================================
> (last update: 2004-01-25)

Looks quite good, all in all.

> All debian package names are prefixed with tl-

Why not texlive- or tex-live-? All package management systems I know of
do very well with long package names; the only problem is "dpkg -l" or
"dlocate -l". And it is more descriptive and contains the word TeX.

Alternatively, if you prefer the short prefix, I suggest that you do use
a longer name for a couple of meta packages that do nothing but pull in
the actual packages, like "texlive-minimal" and "texlive-complete".

> The tpm in texmf/tpm/ (collection-*, bin-*, lib-*, hyphen-*, scheme-*) 
> are mapped to debian packages.
>
> Mapping:
> 	bin-XXX		->	tl-XXX-bin 	(standard debian notation)
> 	collection-XXX	->	tl-XXX
> 	lib-XXX		->	tl-lib-XXX	(??)
> 				can be ignored as the binaries are currently
> 				more or less static
> 				for proper debian we have to build it wrt
> 				the installed debian libs

Especially for libkpathsea it is perhaps better to keep it static. Olaf
Weber said that people who previously used it as a dynamic library
should continue to do so, but he discouraged to switch to dynamic
linking before its successor, libkpse, had its birth. As teTeX
maintainer, I didn't need to make a decision, because when I joined it
was already a dynamic shared library. However, I wouldn't advice you to
do the same with tex-live, and if you decide to link it statically to
libkpathsea, this decision can very well be defended in the light of
Debian Policy. In this case you wouldn't need any libXXX package at
all. 

> 	hyphen-XXX	->	tl-hyphen-XXX
> 	scheme-XXX	->	tl-scheme-XXX

I'm not familiar to the tex-live splitting scheme. But aren't these
hyphen packages really small bits with only one or a couple of input
files? Is it worth splitting them? And how are you going to handle
language.dat - it must probably be a configuration file, or generated
from configuration files.

> TPM-Requires between these packages are mapped to Debian Dependencies.
>
> All other files obtained from a TPM-Require are included in the 
> debian package.

This does not lead to one file being in two packages?

> Thus we have:
> binaries:
> 	tl-afm2pl-bin tl-aleph-bin tl-amstex-bin tl-bibtex-bin ...
> collection:
> 	tl-basic tl-bibtexextra tl-binaries tl-chemistry tl-context ...
> schemes:
> 	tl-scheme-basic tl-scheme-context tl-scheme-full ...
>
> As an example, tl-chemistry Debian-depends on
> (binaries)
> 	(no)

As a Debian package, it must of course depend on either some tl-XXX-bin,
or on tl-XXX-bin | tetex-bin. I think it would be desirable to be able
to use TeX input files from tex-live with tetex-bin, but this shouldn't
be the primary goal.

> Location of the stuff:
> ======================
> binaries:
> 	/usr/bin/
> texmf trees
> 	we have several texmf trees:
> 	TEXMFMAIN = /usr/share/texmf
> 	TEXMFDIST = /usr/share/texlive/texmf-dist
> 	plus the texmf trees specified in the Debian-TeX policy
> 	(VARTEXMF, SITETEXMF, TEXMFLOCAL, HOMETEXMF, TEXMFOLDLOCAL)

Since I didn't see any sense in TEXMFDIST for a Debian package[1], I
was inclined not to use it, but keep all files in TEXMFMAIN (plus the
generated ones in VARTEXMF). I think we should coordinate on this. 

> config files
> 	/etc/texmf with links from /usr/share/texmf/web2c/... to /etc/texmf

And from TEXMFDIST, like $TEXMFDIST/latex/config, or hyperref.cfg

> Implementation of foreign arch/os binary packages:
> ==================================================
> For binaries with the only purpose of being served (via nfs/smb/etc) 
> of other os/arch combinations architecture-independent debian packages
> are created:
> 	tl-<progname>-arch-os	(arch=all)
> 	tl-binaries-arch-os	(arch=all)
> e.g.
> 	tl-aleph-i386-solaris
> 	tl-binaries-i386-win32
> These packages contain the binaries (what about the included man pages?)

"Normal" Debian packages are required to ship a man page for every
binary in the package, not in a accompanying -doc package. I think this
would make sense for the served packages, too.

> Questions:
> - Is it possible to circumvent the double installation of binaries for the
>   normal system (into /usr/bin) and into /src/texlive/arch-linux?
>   Idea: Put *all* binaries for one arch into /srv and mount them
>   via --bind to /usr/lib/texlive/bin/, and put symlinks from /usr/bin to
>   /usr/lib/texlive/bin. Is this an option?

I doubt it. mount --bind might not be supported on all filesystems or
kernels, and there is no way to express "Depends: 'not $whatever on
/srv'". Technically, you could just create symlinks to the binaries in
/srv/texlive/$arch-linux, but that would violate the FHS. And there is
usually a reason to adhere to it, except that it's required by Debian
Policy. 

One option would be to have two srv-only-packages for each arch-os
combination: 

tl-binaries-<arch>-<os>, Depends: tl-binaries-<arch>-<os>-real | tl-binaries

with tl-binaries being the respective package that puts files into
/usr/bin, while the -real packages puts its files into
/srv/<arch>-<os>. tl-binaries-<arch>-<os> does nothing if it finds that
tl-binaries-<arch>-<os>-real is installed, but if it finds that
tl-binaries is installed, it creates symlinks.

But again, cross-filesystem symlinks are a problem AFAIK, and so this
might not be feasible, too; it's not satisfying from an "aesthetical"
point of view, anyway.

Well, why bother at all about duplicate files? If you're going to set up
a server that will host application data for your department, you should
really by a harddisk big enough that a couple of double binaries don't
matter. A "couple" of files in two texmf trees (one in /usr/share/texmf,
one in /srv/texlive) may in fact matter, but this is also hard to
avoid. Does the server need a TeX system at all? If it does, buy a big
enough disk.

> - What is still unclear for me is how to cope with all the packages: If we
>   do it the way proposed below, we have:
> 	bin-packages:	 80

How do you get so many binary packages? tetex-bin contains 139
executable files, but only 61 of them are actually binaries - the rest
is architecture-independent scripts and symlinks. Why not just install
all the main programs (pdfetex, tex, mf, kpse*, bibtex, makeindex,
dvipdfm, dvips, xdvi, and the stuff needed for pk-font creation) in one
tl-bin-basic, and put all the rest into one tl-bin-...?

> 	collection:	 75

This looks like quite tiny bits. Are these collections grouped
hierarchically in the current texlive installer? Maybe you can add some
of the headings higher in hierarchy as packages that depend on their
lower entries?

Personally, I would prefer to split TEXmF into something like 10 or 25
packages.  But I must say that I never made any real effort to actually
look into the TEXMF tree of tetex, let alone CTAN, and decide which
could be grouped. For sure only splitting into -base and -extra, as we
currently do for teTeX, is suboptimal; for tex-live the two would be
horribly big. If there is no better splitting scheme than your
collections, well, maybe then it's better to have 75 packages than to
have 20 badly split ones.

> 	scheme:		  8
> 	hyphen:		 30

Again: Does it make sense to split this? And have you thought about how
to combine the installed ones into language.dat?

Regards, Frank

[1] IIRC, the purpose of TEXMFDIST ist to enable the user to just
replace the directory completely when a new tarball is released; you
can't do this with a Debian package, but there's also no need for it.
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From preining at logic.at  Wed Jan 26 07:54:15 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan 26 07:56:51 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <200501260033.j0Q0XPM29875@f7.net>
	<87ekg9jsio.fsf@alhambra.kuesterei.ch>
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<200501260033.j0Q0XPM29875@f7.net>
	<20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<87ekg9jsio.fsf@alhambra.kuesterei.ch>
Message-ID: <20050126065414.GA32699@gamma.logic.tuwien.ac.at>

Dear Frank, dear Karl, dear all!

On Die, 25 Jan 2005, Frank K?ster wrote:
> Why not texlive- or tex-live-? All package management systems I know of

Ok, Karl also suggested texlive- prefix. Good with me.

> > 	lib-XXX		->	tl-lib-XXX	(??)
> 
> Especially for libkpathsea it is perhaps better to keep it static. Olaf

All the binaries in TeXlive use a static libkpathsea, but also static
linked in libjpeg, libpng etc (pdftex). I guess these `should' be made
dynamic depending on the respective debian libraries.

> > 	hyphen-XXX	->	tl-hyphen-XXX
> > 	scheme-XXX	->	tl-scheme-XXX
> 
> I'm not familiar to the tex-live splitting scheme. But aren't these
> hyphen packages really small bits with only one or a couple of input

they are really small, but the idea is that you can install only those
languages you need. But see below.

> > TPM-Requires between these packages are mapped to Debian Dependencies.
> >
> > All other files obtained from a TPM-Require are included in the 
> > debian package.
> 
> This does not lead to one file being in two packages?

No. (Well, more or less no, there are 3 or so packages with
package-package dependencies which produce problems, but we ignore these
inter-package dependencies (not the collection-package dependencies)).

> > As an example, tl-chemistry Debian-depends on
> > (binaries)
> > 	(no)
> 
> As a Debian package, it must of course depend on either some tl-XXX-bin,
> or on tl-XXX-bin | tetex-bin. I think it would be desirable to be able

ok.

> Since I didn't see any sense in TEXMFDIST for a Debian package[1], I
> was inclined not to use it, but keep all files in TEXMFMAIN (plus the
> generated ones in VARTEXMF). I think we should coordinate on this. 

Karl, Sebastian, what do you mean?

> > These packages contain the binaries (what about the included man pages?)
> 
> "Normal" Debian packages are required to ship a man page for every
> binary in the package, not in a accompanying -doc package. I think this
> would make sense for the served packages, too.

Good.

> > - Is it possible to circumvent the double installation of binaries for the
[...]
> Well, why bother at all about duplicate files? If you're going to set up
> a server that will host application data for your department, you should
> really by a harddisk big enough that a couple of double binaries don't

Right. Thus I consider this discussion finished. First I go for normal
debian packages, later I may provide /srv packages for different
arch-os.

> > - What is still unclear for me is how to cope with all the packages: If we
> >   do it the way proposed below, we have:
> > 	bin-packages:	 80
> 
> How do you get so many binary packages? tetex-bin contains 139
> executable files, but only 61 of them are actually binaries - the rest

Yes yes yes. The -bin comes from the
	bin-XXXXX.tpm
stuff. `binary' here means some executable, not necessarily a real
binary.

> tl-bin-basic, and put all the rest into one tl-bin-...?

See below.

> > 	collection:	 75
> 
> This looks like quite tiny bits. Are these collections grouped
> hierarchically in the current texlive installer? Maybe you can add some

Unfortunately not.

> Personally, I would prefer to split TEXmF into something like 10 or 25
> packages.  But I must say that I never made any real effort to actually

On Die, 25 Jan 2005, Karl Berry wrote:
>     - What is still unclear for me is how to cope with all the packages: If we
>       do it the way proposed below, we have:
> 
> Maybe you need a new "super collection" concept, called say an
> "aggregation", where you slice and dice the 193 packages in the current
> proposal into some more reasonable number, say 10.
> 
> I don't know what they are, though.  basic, morefonts, morepackages,
> morebinaries, something like that?  That is, each of the 193 would be in
> exactly one (no more no less) of these 10, whatever they are.


My honest opinion is that it makes no sense to group the packages in
some more or less random order into 10-15 packages.

What we COULD do is ADD additional packages (Karl's aggregations) which
users could just select and which depend on all the other stuff.

What kind of users do we expect:
- Those who want just a full TeX installation:
	So give them `texlive-full' which depends on all the 193
	packages
- Those who want a minimal TeX system (there are quite a lot there)
	They want to select binaries/languages/etc
	But WE cannot decide what is `minimal' for them! Does it 
	include chemistry stuff? omega? IPA? CJK?

So my suggestion is to actually DO some additional `aggregations' (maybe
only a few) but otherwise keep the collections.

> BTW, aren't the schemes irrelevant to debian? 

Yes. Forget them.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
FROLESWORTH (n.)
Measure. The minimum time it is necessary to spend frowning in deep
concentration at each picture in an art gallery in order that everyone
else doesn't think you've a complete moron.
			--- Douglas Adams, The Meaning of Liff

From frank at debian.org  Wed Jan 26 09:42:53 2005
From: frank at debian.org (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Wed Jan 26 09:55:41 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <20050126065414.GA32699@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 26 Jan 2005 07:54:15 +0100")
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<200501260033.j0Q0XPM29875@f7.net>
	<20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<87ekg9jsio.fsf@alhambra.kuesterei.ch>
	<20050126065414.GA32699@gamma.logic.tuwien.ac.at>
Message-ID: <87brbclgxe.fsf@alhambra.kuesterei.ch>

Norbert Preining <preining@logic.at> schrieb:

> Dear Frank, dear Karl, dear all!
>
> On Die, 25 Jan 2005, Frank K?ster wrote:
>> Why not texlive- or tex-live-? All package management systems I know of
>
> Ok, Karl also suggested texlive- prefix. Good with me.
>
>> > 	lib-XXX		->	tl-lib-XXX	(??)
>> 
>> Especially for libkpathsea it is perhaps better to keep it static. Olaf
>
> All the binaries in TeXlive use a static libkpathsea, but also static
> linked in libjpeg, libpng etc (pdftex). I guess these `should' be made
> dynamic depending on the respective debian libraries.

Yes, of course - but that also means that tex-live need not create any
library packages.

>> > - What is still unclear for me is how to cope with all the packages: If we
>> >   do it the way proposed below, we have:
>> > 	bin-packages:	 80
>> 
>> How do you get so many binary packages? tetex-bin contains 139
>> executable files, but only 61 of them are actually binaries - the rest
>
> Yes yes yes. The -bin comes from the
> 	bin-XXXXX.tpm
> stuff. `binary' here means some executable, not necessarily a real
> binary.

And I think you should group them together. There's not any gain in
having separate packages for pdfetex and mf - you need mf anyway if you
use bitmap fonts. There's only little gain (possibly less security
downloads on a site) if you separate pdfetex, dvips and xdvi. And I
cannot see any sense in having a separate package just for symlinks
(latex) or shell scripts. 

It might make sense to separate them according to dependencies -
texlive-bin-basic, texlive-bin-perl, texlive-bin-x11. But in fact perl
will be installed on every Debian system, and it is easy to patch perl
scripts so that they give a decent, understandable error message if some
module is missing[1]. Same goes for X11: There is a sense in being able
to install teTeX on a server that has no Xlibs installed, e.g. for
automatic document processing. But such a server would probably be
rather "conservative" and use teTeX, not tex-live.

Summary: I advice to create only one or a small number of binary
packages. 

> So my suggestion is to actually DO some additional `aggregations' (maybe
> only a few) but otherwise keep the collections.

You're probably right - it's one of the good features of tex-live that
you can have a comprehensive installation, but also select in detail
what you want. We should be prepared for a medium sized flamewar on
-devel, though.


One thing that doesn't seem to fit for me, however, is the hyphen
stuff. Have you considered how you would handle language.dat? You have
to keep in mind that:

- The packages containing additional patterns must be able to modify
  it. 

- Users might install some patterns by hand. For example non-free
  patterns, but after a relicensing it could be that they are added to
  texlive

- Users must be able to configure which patterns to use for languages
  with several of them (russian, ukranian, norwegian).

- Users must be able to use their own, modified and renamed versions of
  patterns for their language

And all these things must work together on one system. A technical
solution that works would be to use a scheme like update-updmap and
update-fmtutil in tetex-bin. But, similar to texmf.cnf, you have the
problem that language.dat is a file that is *often* mentioned on the net
in some tutorials and README's (as opposed to fmtutil.cnf and
updmap.cnf, which are not so frequently mentioned). Either you put it
into /var, but will have a hard time stopping people from editing it. Or
you put it into /etc and have a double-layer configuration like we have
with texmf.cnf - I would not advice to do this again (see also bug
#291545).

Regards, Frank 


[1] texdoctk, texfind, and some more depend on perl-tk, but tetex-bin
only Recommends it, not Depends. If you run them without perl-tk
installed, a message will pop up in Debian, telling you to install it.
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Jan 26 10:42:02 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Jan 26 10:46:03 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <87brbclgxe.fsf@alhambra.kuesterei.ch>
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>	<200501260033.j0Q0XPM29875@f7.net>	<20050125112830.GF10403@gamma.logic.tuwien.ac.at>	<87ekg9jsio.fsf@alhambra.kuesterei.ch>	<20050126065414.GA32699@gamma.logic.tuwien.ac.at>
	<87brbclgxe.fsf@alhambra.kuesterei.ch>
Message-ID: <41F765EA.7050203@computing-services.oxford.ac.uk>

Frank K?ster wrote:

>Summary: I advice to create only one or a small number of binary
>packages. 
>  
>
I feel the opposite. For 10 years now I have been complaining that
TeX is bloated, and that it should be cut down to a minimum. On my systems
I wanted pdfetex, context, some font metrics, and thats it.
No mf, no dvips, no xdvi, no PK fonts, no nonsense.
I don't want a vast great thing  with everything in the suitcase, 
because thats
just copying teTeX. Yes, I do care about megabytes here and there 
because I want
a minimal TeX on my Knoppix remaster to process XML with.

This, to me, is the point of the exercise...

Sebastian

From frank at debian.org  Wed Jan 26 11:17:10 2005
From: frank at debian.org (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Wed Jan 26 11:25:34 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <41F765EA.7050203@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Wed, 26 Jan 2005 09:42:02 +0000")
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<200501260033.j0Q0XPM29875@f7.net>
	<20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<87ekg9jsio.fsf@alhambra.kuesterei.ch>
	<20050126065414.GA32699@gamma.logic.tuwien.ac.at>
	<87brbclgxe.fsf@alhambra.kuesterei.ch>
	<41F765EA.7050203@computing-services.oxford.ac.uk>
Message-ID: <87llagjxzt.fsf@alhambra.kuesterei.ch>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> wrote:

> Frank K?ster wrote:
>
>>Summary: I advice to create only one or a small number of binary
>> packages.
> I feel the opposite. 
[...]
> thats
> just copying teTeX. Yes, I do care about megabytes here and there
> because I want
> a minimal TeX on my Knoppix remaster to process XML with.
>
> This, to me, is the point of the exercise...

You're right. Split it. But still I doubt that more than 100 packages
make sense. Can I look at the list of binary tpm's somewhere?

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From karl at freefriends.org  Wed Jan 26 22:10:06 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Jan 26 22:12:58 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <20050126065414.GA32699@gamma.logic.tuwien.ac.at>
Message-ID: <200501262110.j0QLA6010887@f7.net>

    > Since I didn't see any sense in TEXMFDIST for a Debian package[1], I
    > was inclined not to use it, but keep all files in TEXMFMAIN (plus the
    > generated ones in VARTEXMF). I think we should coordinate on this. 

    Karl, Sebastian, what do you mean?

I think TL should follow teTeX.  There are a lot of trees now, for
various reasons.

As far as TEXMFDIST goes -- Frank, its purpose, as Fabrice envisioned
it, is not to be "replaced completely with a new tarball".  It's to
provide files which are distribution-independent.  That (in principle)
MiKTeX and XEmTeX and teTeX and ... could share.

karl

From preining at logic.at  Wed Jan 26 22:28:00 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan 26 22:30:20 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <87llagjxzt.fsf@alhambra.kuesterei.ch>
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<200501260033.j0Q0XPM29875@f7.net>
	<20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<87ekg9jsio.fsf@alhambra.kuesterei.ch>
	<20050126065414.GA32699@gamma.logic.tuwien.ac.at>
	<87brbclgxe.fsf@alhambra.kuesterei.ch>
	<41F765EA.7050203@computing-services.oxford.ac.uk>
	<87llagjxzt.fsf@alhambra.kuesterei.ch>
Message-ID: <20050126212800.GA6844@gamma.logic.tuwien.ac.at>

Dear Frank!

On Mit, 26 Jan 2005, Frank K?ster wrote:
> You're right. Split it. But still I doubt that more than 100 packages
> make sense. Can I look at the list of binary tpm's somewhere?

Here is the list:
bin-afm2pl.tpm
bin-aleph.tpm
bin-amstex.tpm
bin-bibtex.tpm
bin-bibtex8.tpm
bin-bzip2.tpm
bin-chktex.tpm
bin-cjkutils.tpm
bin-context.tpm
bin-cslatex.tpm
bin-csplain.tpm
bin-ctie.tpm
bin-cweb.tpm
bin-cyrillic.tpm
bin-detex.tpm
bin-devnag.tpm
bin-dialog.tpm
bin-dtl.tpm
bin-dvi2tty.tpm
bin-dvicopy.tpm
bin-dvidvi.tpm
bin-dviljk.tpm
bin-dvipdfm.tpm
bin-dvipdfmx.tpm
bin-dvipng.tpm
bin-dvipsk.tpm
bin-eplain.tpm
bin-etex.tpm
bin-fontware.tpm
bin-getafm.tpm
bin-ghostscript.tpm
bin-gsftopk.tpm
bin-gzip.tpm
bin-jadetex.tpm
bin-jpeg2ps.tpm
bin-kpathsea.tpm
bin-lacheck.tpm
bin-latex.tpm
bin-lcdftypetools.tpm
bin-makeindex.tpm
bin-metafont.tpm
bin-metapost.tpm
bin-mex.tpm
bin-mfware.tpm
bin-mltex.tpm
bin-musixflx.tpm
bin-omega.tpm
bin-omegaware.tpm
bin-patgen.tpm
bin-pdftex.tpm
bin-pdftools.tpm
bin-perl.tpm
bin-physe.tpm
bin-phyzzx.tpm
bin-platex.tpm
bin-pngtools.tpm
bin-ppower4.tpm
bin-ps2pkm.tpm
bin-pstools.tpm
bin-psutils.tpm
bin-seetexk.tpm
bin-t1utils.tpm
bin-tetex.tpm
bin-tex.tpm
bin-tex4htk.tpm
bin-texconfig.tpm
bin-texdoc.tpm
bin-texinfo.tpm
bin-texsis.tpm
bin-texware.tpm
bin-thumbpdf.tpm
bin-tie.tpm
bin-ttf2pt1.tpm
bin-ttfutils.tpm
bin-vlna.tpm
bin-web.tpm
bin-windvi.tpm
bin-xdvi.tpm
bin-xmltex.tpm
bin-xpdf.tpm

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DORCHESTER (n.)
A throaty cough by someone else so timed as to obscure the crucial
part of the rather amusing remark you've just made.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Wed Jan 26 22:30:39 2005
From: preining at logic.at (Norbert Preining)
Date: Wed Jan 26 22:32:51 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <200501262110.j0QLA6010887@f7.net>
References: <20050126065414.GA32699@gamma.logic.tuwien.ac.at>
	<200501262110.j0QLA6010887@f7.net>
Message-ID: <20050126213039.GB6844@gamma.logic.tuwien.ac.at>

Dear all!

On Mit, 26 Jan 2005, Karl Berry wrote:
>     > was inclined not to use it, but keep all files in TEXMFMAIN (plus the
>     > generated ones in VARTEXMF). I think we should coordinate on this. 
> 
>     Karl, Sebastian, what do you mean?
> 
> I think TL should follow teTeX.  There are a lot of trees now, for
> various reasons.

Ok, so we concurred that we put *all* files (ok, not the binaries, you
know what I mean) under
	/usr/share/texmf/...
Is this ok with everyone?

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HOBBS CROSS (n.)
The awkward leaping manoeuvre a girl has to go through in bed in order
to make him sleep on the wet patch.
			--- Douglas Adams, The Meaning of Liff

From frank at debian.org  Thu Jan 27 09:55:14 2005
From: frank at debian.org (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Thu Jan 27 10:08:49 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <20050126212800.GA6844@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 26 Jan 2005 22:28:00 +0100")
References: <20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<200501260033.j0Q0XPM29875@f7.net>
	<20050125112830.GF10403@gamma.logic.tuwien.ac.at>
	<87ekg9jsio.fsf@alhambra.kuesterei.ch>
	<20050126065414.GA32699@gamma.logic.tuwien.ac.at>
	<87brbclgxe.fsf@alhambra.kuesterei.ch>
	<41F765EA.7050203@computing-services.oxford.ac.uk>
	<87llagjxzt.fsf@alhambra.kuesterei.ch>
	<20050126212800.GA6844@gamma.logic.tuwien.ac.at>
Message-ID: <874qh3gsjx.fsf@alhambra.kuesterei.ch>

Norbert Preining <preining@logic.at> wrote:

> Dear Frank!
>
> On Mit, 26 Jan 2005, Frank K?ster wrote:
>> You're right. Split it. But still I doubt that more than 100 packages
>> make sense. Can I look at the list of binary tpm's somewhere?
>
> Here is the list:

Thank you. I'm going to try to group it while reading:

- not needed, exists in Debian:

> bin-bzip2.tpm
> bin-chktex.tpm
> bin-dialog.tpm
> bin-ghostscript.tpm
> bin-gzip.tpm
> bin-jadetex.tpm
> bin-jpeg2ps.tpm 
  (non-free)
> bin-kpathsea.tpm
> bin-lacheck.tpm
> bin-lcdftypetools.tpm
> bin-tex4htk.tpm 
  (without the k)
> bin-texinfo.tpm
> bin-xmltex.tpm
> bin-xpdf.tpm

- might be in Debian, what's this exactly?

> bin-perl.tpm
> bin-pstools.tpm
> bin-psutils.tpm
> bin-pngtools.tpm
> bin-t1utils.tpm

- what's that?

> bin-pdftools.tpm
> bin-tetex.tpm

- why is that in -bin?

> bin-texsis.tpm

- not useful

> bin-windvi.tpm

- dvi stuff, could be grouped if you want

> bin-dtl.tpm
> bin-dvi2tty.tpm
> bin-dvicopy.tpm
> bin-dvidvi.tpm
> bin-dviljk.tpm
> bin-dvipng.tpm
> bin-dvipsk.tpm
> bin-seetexk.tpm

- devel stuff

> bin-ctie.tpm
> bin-cweb.tpm
> bin-texware.tpm
> bin-web.tpm
> bin-tie.tpm

- formats. If you have a setup similar to teTeX's, there's no need to
  split the bin package: The formats are generated by fmtutil (and the
  links by texlinks) only when the respective texmf package with the ini
  file is installed:

> bin-amstex.tpm
> bin-cslatex.tpm
> bin-csplain.tpm
> bin-cyrillic.tpm
> bin-eplain.tpm
> bin-mex.tpm
> bin-mltex.tpm
> bin-musixflx.tpm (?)
> bin-platex.tpm

  and perhaps also (or are the scripts contained?)

> bin-context.tpm

- other

> bin-afm2pl.tpm
> bin-aleph.tpm
> bin-bibtex.tpm
> bin-bibtex8.tpm
> bin-cjkutils.tpm
> bin-detex.tpm
> bin-devnag.tpm
> bin-dvipdfm.tpm
> bin-dvipdfmx.tpm
> bin-etex.tpm
> bin-fontware.tpm
> bin-getafm.tpm
> bin-gsftopk.tpm
> bin-latex.tpm
> bin-makeindex.tpm
> bin-metafont.tpm
> bin-metapost.tpm
> bin-mfware.tpm
> bin-omega.tpm
> bin-omegaware.tpm
> bin-patgen.tpm
> bin-pdftex.tpm
> bin-physe.tpm
> bin-phyzzx.tpm
> bin-ppower4.tpm
> bin-ps2pkm.tpm
> bin-tex.tpm
> bin-texconfig.tpm
> bin-texdoc.tpm
> bin-thumbpdf.tpm
> bin-ttf2pt1.tpm
> bin-ttfutils.tpm
> bin-vlna.tpm
> bin-xdvi.tpm

Personally, I would also consider to group some of the font stuff. But
it's your splitting philosophy that should be applied.

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From thayes at uwo.ca  Thu Jan 27 16:38:55 2005
From: thayes at uwo.ca (Tyler Hayes)
Date: Fri Jan 28 14:38:23 2005
Subject: [tex-live] Font woes with TeXLive 2004
Message-ID: <41F90B0F.2070302@uwo.ca>

Hi Everyone,

I have just installed TeXLive 2004 on my computer but, as you can 
suspect, now the fonts from the Fontsite CD i used to use are no longer 
available.  The instructions on the Fontsite CD webpage are for the OLD 
directory structure, and now I have no idea where to put all the files 
(tfm, vf, type1).  Reading the webpage 
(http://tug.org/texlive/mapenc.html) wasn't much help to me either as I 
am now completely confused about the new tree structure...

Does anyone else have the Fontsite CD fonts working with TeXLive 2004?  
If so, could you outline how you managed to do it for me?  I have some 
old files that were formated with them and i would like to preserve 
their style if possible....

Cheers,

t.

-- 
Tyler Joseph Hayes
PhD Candidate, Geophysics 
The University of Western Ontario
Department of Earth Sciences
B & GS Building - RM 128A
London, Ontario N6A 5B7
CANADA 

email: thayes@uwo.ca
TEL: 519.661.3187 (main office)
FAX: 519.661.3198


From te at dbs.uni-hannover.de  Fri Jan 28 16:26:40 2005
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Fri Jan 28 16:29:02 2005
Subject: [tex-live] Font woes with TeXLive 2004
In-Reply-To: <41F90B0F.2070302@uwo.ca>
References: <41F90B0F.2070302@uwo.ca>
Message-ID: <20050128152640.GA10520@dbs.uni-hannover.de>

> (tfm, vf, type1).  Reading the webpage 
> (http://tug.org/texlive/mapenc.html) wasn't much help to me either as I 
> am now completely confused about the new tree structure...

I'd say: move all map files to
  fonts/map/dvips/fontsite
and all enc files to
  fonts/enc/dvips/fontsite

Thomas

From thayes at uwo.ca  Fri Jan 28 18:16:43 2005
From: thayes at uwo.ca (Tyler Hayes)
Date: Fri Jan 28 18:19:20 2005
Subject: [tex-live] Font woes with TeXLive 2004
In-Reply-To: <200501281633.j0SGXtG19303@f7.net>
References: <200501281633.j0SGXtG19303@f7.net>
Message-ID: <41FA737B.2080807@uwo.ca>

Hi Everyone,

I got an email suggesting I use a script called textools 
(~/texlive2004/texmf-dist/scripts/context/ruby/textools.rb).

The command which worked for me was:

[thayes@../ruby]$ ruby textools.rb --fixtexmftrees --force

Please note that I had to use the *--force* option in order to see the 
fonts with latex.  However, when I tried to call pdflatex to run those 
fonts (final check), not all seem to be able to be found (in particular 
with the [osf] option).  I get around this by just using ps2pdf....

I hope that helps anyone else in my position and thanks for the 
suggestions!

Cheers,

T.

-- 
Tyler Joseph Hayes
PhD Candidate, Geophysics 
The University of Western Ontario
Department of Earth Sciences
B & GS Building - RM 128A
London, Ontario N6A 5B7
CANADA 

email: thayes@uwo.ca
TEL: 519.661.3187 (main office)
FAX: 519.661.3198


From Gerben.Wierda at rna.nl  Sat Jan 29 12:04:49 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Jan 29 12:07:04 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <200501262110.j0QLA6010887@f7.net>
References: <200501262110.j0QLA6010887@f7.net>
Message-ID: <97BCF320-71E5-11D9-9875-003065B3343E@rna.nl>

On Jan 26, 2005, at 22:10, Karl Berry wrote:

>> Since I didn't see any sense in TEXMFDIST for a Debian package[1], I
>> was inclined not to use it, but keep all files in TEXMFMAIN (plus the
>> generated ones in VARTEXMF). I think we should coordinate on this.
>
>     Karl, Sebastian, what do you mean?
>
> I think TL should follow teTeX.  There are a lot of trees now, for
> various reasons.
>
> As far as TEXMFDIST goes -- Frank, its purpose, as Fabrice envisioned
> it, is not to be "replaced completely with a new tarball".  It's to
> provide files which are distribution-independent.  That (in principle)
> MiKTeX and XEmTeX and teTeX and ... could share.

For me, the main goal for texmf and texmf-dist separation is to make 
separate updates of the TeX programs (say a new pdftex appears) and the 
basic tree wiith packages, styles, fonts, etc. If the programs change, 
some parts of texmf change as well (e.g. .pool files), while the texmf 
tree is more or less independent of the version of programs you are 
using.

G

From Gerben.Wierda at rna.nl  Sat Jan 29 18:23:53 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Jan 29 18:26:07 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <87oef8b2d1.fsf@alhambra.kuesterei.ch>
References: <200501262110.j0QLA6010887@f7.net>
	<97BCF320-71E5-11D9-9875-003065B3343E@rna.nl>
	<87oef8b2d1.fsf@alhambra.kuesterei.ch>
Message-ID: <8C2E288B-721A-11D9-9875-003065B3343E@rna.nl>

On Jan 29, 2005, at 17:56, Frank K?ster wrote:

> Gerben Wierda <Gerben.Wierda@rna.nl> schrieb:
>
>> On Jan 26, 2005, at 22:10, Karl Berry wrote:
>>
>>>> Since I didn't see any sense in TEXMFDIST for a Debian package[1], I
>>>> was inclined not to use it, but keep all files in TEXMFMAIN (plus 
>>>> the
>>>> generated ones in VARTEXMF). I think we should coordinate on this.
>>>
>>>     Karl, Sebastian, what do you mean?
>>>
>>> I think TL should follow teTeX.  There are a lot of trees now, for
>>> various reasons.
>>>
>>> As far as TEXMFDIST goes -- Frank, its purpose, as Fabrice envisioned
>>> it, is not to be "replaced completely with a new tarball".  It's to
>>> provide files which are distribution-independent.  That (in 
>>> principle)
>>> MiKTeX and XEmTeX and teTeX and ... could share.
>>
>> For me, the main goal for texmf and texmf-dist separation is to make
>> separate updates of the TeX programs (say a new pdftex appears) and
>> the basic tree wiith packages, styles, fonts, etc. If the programs
>> change, some parts of texmf change as well (e.g. .pool files), while
>> the texmf tree is more or less independent of the version of programs
>> you are using.
>
> This is clear, but it is also clear that this rationale does not hold
> any more if one is using a package manager (like dpkg for *deb's, or
> probably also something else for rpm's) that keeps track of every
> file. If you upgrade the texlive Debian package that contains pdftex, 
> it
> will only replace the files in the common TEXMF tree that it installed,
> and leave the others alone.
>
> I do not suggest that tex-live drop the separation of TEXMFDIST and
> TEXMFMAIN generally. I only suggested that the _Debian_ packages of
> tex-live and of teTeX do it the same way, and I would drop the
> separation. After all, it's just a question of removing one entry from
> TEXMF = ..., and of creating the package in a particular way.

Certainly, but I maintain another redistribution scheme which is not 
debian packages. And it is not per-file based but per-archive based. 
The situation is more complex even. What if something changes wrt 
location. Someone changes layout of some package. You only install the 
new stuff, but how do you make sure the old stuff is removed.

Unpacking on top of something only solves half the problem. In the long 
run, it is possible to get doublures, e/g/ older and newer stuff side 
by side in your tree etc. Which is why my setup has a coarser 
granularity.

When texmf-dist is reinstalled, I remove it first instead of just 
overwriting. That makes it certain that I don't get doubles in case of 
relocated stuff. There is more, but this is one of my issues. Unless 
debian packages have a memory (e.g. update them they still remember 
what files were installed before they were updated and those files are 
rmeoved before the new ones are installed, you run risks like this one.

G

From frank at kuesterei.ch  Sat Jan 29 17:56:42 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Sat Jan 29 18:39:24 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <97BCF320-71E5-11D9-9875-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Sat, 29 Jan 2005 12:04:49 +0100")
References: <200501262110.j0QLA6010887@f7.net>
	<97BCF320-71E5-11D9-9875-003065B3343E@rna.nl>
Message-ID: <87oef8b2d1.fsf@alhambra.kuesterei.ch>

Gerben Wierda <Gerben.Wierda@rna.nl> schrieb:

> On Jan 26, 2005, at 22:10, Karl Berry wrote:
>
>>> Since I didn't see any sense in TEXMFDIST for a Debian package[1], I
>>> was inclined not to use it, but keep all files in TEXMFMAIN (plus the
>>> generated ones in VARTEXMF). I think we should coordinate on this.
>>
>>     Karl, Sebastian, what do you mean?
>>
>> I think TL should follow teTeX.  There are a lot of trees now, for
>> various reasons.
>>
>> As far as TEXMFDIST goes -- Frank, its purpose, as Fabrice envisioned
>> it, is not to be "replaced completely with a new tarball".  It's to
>> provide files which are distribution-independent.  That (in principle)
>> MiKTeX and XEmTeX and teTeX and ... could share.
>
> For me, the main goal for texmf and texmf-dist separation is to make
> separate updates of the TeX programs (say a new pdftex appears) and
> the basic tree wiith packages, styles, fonts, etc. If the programs
> change, some parts of texmf change as well (e.g. .pool files), while
> the texmf tree is more or less independent of the version of programs
> you are using.

This is clear, but it is also clear that this rationale does not hold
any more if one is using a package manager (like dpkg for *deb's, or
probably also something else for rpm's) that keeps track of every
file. If you upgrade the texlive Debian package that contains pdftex, it
will only replace the files in the common TEXMF tree that it installed,
and leave the others alone.

I do not suggest that tex-live drop the separation of TEXMFDIST and
TEXMFMAIN generally. I only suggested that the _Debian_ packages of
tex-live and of teTeX do it the same way, and I would drop the
separation. After all, it's just a question of removing one entry from
TEXMF = ..., and of creating the package in a particular way.

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From karl at freefriends.org  Sat Jan 29 18:57:23 2005
From: karl at freefriends.org (Karl Berry)
Date: Sat Jan 29 18:59:37 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <87oef8b2d1.fsf@alhambra.kuesterei.ch>
Message-ID: <200501291757.j0THvNt11953@f7.net>

    I only suggested that the _Debian_ packages of tex-live and of teTeX
    do it the same way, and I would drop the separation.

I don't see the benefit of Debian rearranging the original source in
this major way.  Do you just not like /usr/share/texmf-dist?

(Personally I think /usr/TeX makes a lot more sense, would be less
implementation work and better for users, but I know that's not going to
go anywhere.)

One big hypothetical -- if there was another TeX distribution (e.g.,
miktex) that was available on debian, it could reuse (and depend on)
texmf-dist packages, but you wouldn't want to try to somehow use part of
texmf from different binaries.  Ok, it doesn't exist today, but ...

Oh, I forgot, you can't support that anyway, since there can be only one
/usr/bin/tex.  Well, never mind I guess.

    After all, it's just a question of removing one entry from
    TEXMF = ..., and of creating the package in a particular way.

"Just"?  You're moving hundreds of megabytes to a different location ...

From sebastian.rahtz at computing-services.oxford.ac.uk  Sat Jan 29 19:45:07 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sat Jan 29 19:47:23 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <200501291757.j0THvNt11953@f7.net>
References: <200501291757.j0THvNt11953@f7.net>
Message-ID: <41FBD9B3.8030808@computing-services.oxford.ac.uk>

Moving files from texmf-dist to a straight texmf could be done in the Debian
build process, so its not that big a deal. The main argument against it
is that after going through all the work of arguing about it, agreeing to do
with teTeX too, it would be retrograde of Debian to undo it all again.

Although we don't want the TeX tail to wag the Debian dog,
we don't want the Debian tail wagging the TeX dog either.
I strongly support leaving well alone in the TL setup.

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From frank at kuesterei.ch  Sat Jan 29 21:13:13 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Sat Jan 29 21:25:02 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <8C2E288B-721A-11D9-9875-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Sat, 29 Jan 2005 18:23:53 +0100")
References: <200501262110.j0QLA6010887@f7.net>
	<97BCF320-71E5-11D9-9875-003065B3343E@rna.nl>
	<87oef8b2d1.fsf@alhambra.kuesterei.ch>
	<8C2E288B-721A-11D9-9875-003065B3343E@rna.nl>
Message-ID: <873bwkat9i.fsf@alhambra.kuesterei.ch>

Gerben Wierda <Gerben.Wierda@rna.nl> wrote:

> On Jan 29, 2005, at 17:56, Frank K?ster wrote:
>
>> I do not suggest that tex-live drop the separation of TEXMFDIST and
>> TEXMFMAIN generally. I only suggested that the _Debian_ packages of
>> tex-live and of teTeX do it the same way, and I would drop the
>> separation. After all, it's just a question of removing one entry from
>> TEXMF = ..., and of creating the package in a particular way.
>
> Certainly, but I maintain another redistribution scheme which is not
> debian packages. And it is not per-file based but per-archive
> based. 

No problem - just stick to the way tex-live does it when installing from
the CD, and let us do it otherwise in the Debian packages. Since local
additions should generally not be put into TEXMFMAIN nor TEXMFDIST, I
think we need not bother about that; but if you prefer, we can arrange
for a common directory name for the tree that contains the files that
are in TEXMFDIST in the tex-live CD.

> The situation is more complex even. What if something changes
> wrt location. Someone changes layout of some package. You only install
> the new stuff, but how do you make sure the old stuff is removed.

That's what a package management is for.

> Unpacking on top of something only solves half the problem. In the
> long run, it is possible to get doublures, e/g/ older and newer stuff
> side by side in your tree etc. Which is why my setup has a coarser
> granularity.

As I said, this is not a problem in a Debian package. Or, to put it the
other way round, the package managment system in Debian was developed
exactly because this problem occurs all the time, and cannot be solved
by separating directory trees in most cases.

> Unless
> debian packages have a memory (e.g. update them they still remember
> what files were installed before they were updated and those files are
> rmeoved before the new ones are installed, you run risks like this one.

They do have a memory, that's what it's for. When I explained that they
are like "installation routines" (like InstallShield), I must admit that
this was a bad analogy. I simply didn't remember how bad upgrades can
work on different systems...

Regards, Frank


-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From Gerben.Wierda at rna.nl  Sun Jan 30 10:15:23 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Jan 30 10:17:39 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <200501291757.j0THvNt11953@f7.net>
References: <200501291757.j0THvNt11953@f7.net>
Message-ID: <78A5C37E-729F-11D9-9875-003065B3343E@rna.nl>


On Jan 29, 2005, at 18:57, Karl Berry wrote:

>     I only suggested that the _Debian_ packages of tex-live and of 
> teTeX
>     do it the same way, and I would drop the separation.
>
> I don't see the benefit of Debian rearranging the original source in
> this major way.  Do you just not like /usr/share/texmf-dist?
>
> (Personally I think /usr/TeX makes a lot more sense, would be less
> implementation work and better for users, but I know that's not going 
> to
> go anywhere.)
>
> One big hypothetical -- if there was another TeX distribution (e.g.,
> miktex) that was available on debian, it could reuse (and depend on)
> texmf-dist packages, but you wouldn't want to try to somehow use part 
> of
> texmf from different binaries.  Ok, it doesn't exist today, but ...

This does exist to day on Mac OS X. OzTeX comes with its own texmf 
tree, but can be configured to use my redistribution as well

> Oh, I forgot, you can't support that anyway, since there can be only 
> one
> /usr/bin/tex.  Well, never mind I guess.

There could be multiple who get different texmf.cnf files with 
different TEXXXXX settings. They coul dshare (part of a tree). Not that 
such a convoluted setup  makes a lot of sense except for developers.

G

>
>     After all, it's just a question of removing one entry from
>     TEXMF = ..., and of creating the package in a particular way.
>
> "Just"?  You're moving hundreds of megabytes to a different location 
> ...
>

From preining at logic.at  Sun Jan 30 11:13:58 2005
From: preining at logic.at (Norbert Preining)
Date: Sun Jan 30 11:16:12 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <200501291757.j0THvNt11953@f7.net>
References: <87oef8b2d1.fsf@alhambra.kuesterei.ch>
	<200501291757.j0THvNt11953@f7.net>
Message-ID: <20050130101358.GB5707@gamma.logic.tuwien.ac.at>

On Sam, 29 Jan 2005, Karl Berry wrote:
> (Personally I think /usr/TeX makes a lot more sense, would be less

Do you think it is definitely impossible to get a /usr/TeX?

Frank, as a DD, what do you think?

Best wishes

Norbert

PS: Sorry for being so quite for the last days, I am moving to Italy for
my Marie Curie Fellowship and for the next week I have still other
things on my mind ...

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
sip:preining@at43.tuwien.ac.at                             +43 (0) 59966-690018
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
RANFURLY (adj.)
Fashion of trying ties so that the long thin end underneath dangles
below the short fat upper end.
			--- Douglas Adams, The Meaning of Liff

From A.Kielhorn at web.de  Sun Jan 30 12:39:36 2005
From: A.Kielhorn at web.de (Axel Kielhorn)
Date: Sun Jan 30 13:14:42 2005
Subject: [tex-live] Europecv Bug report
Message-ID: <c0f1440943131466ad7ca4c9360dcaef@web.de>

Hi everyone!

I recently moved from OzTeX to TeX-live. While verifying that my old 
documents are still working, I discovered a bug in the europecv 
installation:

The flags (see below) are required when europecv is used and should go 
into
texmf-dist/tex/latex/europecv/.

Axel

<!DOCTYPE rdf:RDF SYSTEM "../../Tools/tpm.dtd">
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
xmlns:TPM="http://texlive.dante.de/">
   <rdf:Description 
about="http://texlive.dante.de/texlive/Package/europecv.zip">
     <TPM:Name>europecv</TPM:Name>
     <TPM:Type>Package</TPM:Type>
     <TPM:Date>2004/11/12 11:47:00</TPM:Date>
     <TPM:Version>1.0</TPM:Version>
     <TPM:Creator>rahtz</TPM:Creator>
     <TPM:Title>The europecv package.</TPM:Title>
     <TPM:Description></TPM:Description>
     <TPM:Author></TPM:Author>
     <TPM:Size>2114281</TPM:Size>
     <TPM:Build/>
     <TPM:RunFiles size="23124">
texmf-dist/tex/latex/europecv/ecvda.def
texmf-dist/tex/latex/europecv/ecvde.def
texmf-dist/tex/latex/europecv/ecven.def
texmf-dist/tex/latex/europecv/ecves.def
texmf-dist/tex/latex/europecv/ecvfi.def
texmf-dist/tex/latex/europecv/ecvfr.def
texmf-dist/tex/latex/europecv/ecvit.def
texmf-dist/tex/latex/europecv/ecvnl.def
texmf-dist/tex/latex/europecv/ecvno.def
texmf-dist/tex/latex/europecv/ecvpt.def
texmf-dist/tex/latex/europecv/ecvsv.def
texmf-dist/tex/latex/europecv/europecv.cls
texmf-dist/tpm/europecv.tpm
     </TPM:RunFiles>
     <TPM:DocFiles size="2091157">
texmf-dist/doc/latex/europecv/EuropeFlagBW.eps            <---------
texmf-dist/doc/latex/europecv/EuropeFlagBW.pdf            <---------
texmf-dist/doc/latex/europecv/EuropeFlagBlueCMYK.eps      <---------
texmf-dist/doc/latex/europecv/EuropeFlagBlueCMYK.pdf      <---------
texmf-dist/doc/latex/europecv/EuropeFlagCMYK.eps          <---------
texmf-dist/doc/latex/europecv/EuropeFlagCMYK.pdf          <---------
texmf-dist/doc/latex/europecv/EuropeFlagWB.eps            <---------
texmf-dist/doc/latex/europecv/EuropeFlagWB.pdf            <---------
texmf-dist/doc/latex/europecv/europecv.pdf
texmf-dist/doc/latex/europecv/europecv.tex
texmf-dist/doc/latex/europecv/examples/cv_template_en.pdf
texmf-dist/doc/latex/europecv/examples/cv_template_en.tex
texmf-dist/doc/latex/europecv/examples/cv_template_it.pdf
texmf-dist/doc/latex/europecv/examples/cv_template_it.tex
texmf-dist/doc/latex/europecv/examples/minimal.tex
texmf-dist/doc/latex/europecv/examples/publications.bib
     </TPM:DocFiles>
     <TPM:Provides>Package/europecv</TPM:Provides>
   </rdf:Description>
</rdf:RDF>

From sebastian.rahtz at computing-services.oxford.ac.uk  Sun Jan 30 14:22:39 2005
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sun Jan 30 14:24:54 2005
Subject: [tex-live] Europecv Bug report
In-Reply-To: <c0f1440943131466ad7ca4c9360dcaef@web.de>
References: <c0f1440943131466ad7ca4c9360dcaef@web.de>
Message-ID: <41FCDF9F.4080500@computing-services.oxford.ac.uk>

makes sense. I'll adjust the script which does the packaging

>
>
>


-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From W.Fleischer at erlenweg.de  Sun Jan 30 11:31:52 2005
From: W.Fleischer at erlenweg.de (Wolfgang Fleischer)
Date: Sun Jan 30 14:56:35 2005
Subject: [tex-live] Minor problem with TeX Live 2004
Message-ID: <41FCC5A8.23503.800F82@localhost>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello

I am just about to get familiar with TeX Live 2004. 
The server based TeX Live 2003 Installation (about 200 Boxes
with linux and windows) I have to maintain should be switched to the 
new distribution next month.

Is there anywhere a document like 'Whats new...' or 'Things that 
changed...'.

The documents tug.org/texlive/mapenc.html and 
tug.org/texlive/windows.html give some specific hints.

But there seem to be more changes.

Let me point to an minor problem: 
Obviously the place for scripts (perl, ruby, java...) changed
to $TEXMF/{scripts}. But the file texmf.cnf does not reflect this:

% Perl, Python, Ruby, Java scripts (Win32 only)
% This is used by the irun.exe program which simulates a symlink
% but also makes use of kpathsea to retrieve the target
PERLINPUTS =			.;$TEXMF/{perl,context,}//
PYTHONINPUTS =			.;$TEXMF/{python,}//
RUBYINPUTS =			.;$TEXMF/{ruby,context}//
JAVAINPUTS =			.;$TEXMF/{java,}//


For now I changed JAVAINPUTS to  .;$TEXMF/{scripts,}// to get
ppower4 working.

Thank you for TeX Live 2004

- -- 
Wolfgang Fleischer
W.Fleischer@Erlenweg.De
Telefon/Fax: 03721 32517
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (MingW32)
Comment: Weitere Infos: siehe http://www.gnupg.org

iEYEARECAAYFAkH8t5gACgkQ1V/bKQAPnZBlMwCg6egI7+Nxd/e5IsG7eYYUVbQM
Fi8AoJY0fAhTORa1Fga6iAUBt58GTOlX
=7Jb7
-----END PGP SIGNATURE-----

From karl at freefriends.org  Sun Jan 30 15:19:06 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Jan 30 15:21:19 2005
Subject: [tex-live] Minor problem with TeX Live 2004
In-Reply-To: <41FCC5A8.23503.800F82@localhost>
Message-ID: <200501301419.j0UEJ6V13730@f7.net>

    Is there anywhere a document like 'Whats new...' or 'Things that 
    changed...'.

It's in the doc:
http://www.tug.org/texlive/doc/texlive-en/livese11.html#x16-7000011.2

I'll add some stuff to the TL home page about this.

    But the file texmf.cnf does not reflect this:

Thanks for reporting this.  I hope someone knowledgeable about Windows
can comment.

From te at dbs.uni-hannover.de  Sun Jan 30 15:19:49 2005
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Jan 30 15:22:06 2005
Subject: [tex-live] Minor problem with TeX Live 2004
In-Reply-To: <41FCC5A8.23503.800F82@localhost>
References: <41FCC5A8.23503.800F82@localhost>
Message-ID: <20050130141949.GA5342@dbs.uni-hannover.de>

> For now I changed JAVAINPUTS to  .;$TEXMF/{scripts,}// to get
> ppower4 working.

Why not fix ppower4 to use --format=texmfscripts ?

Thomas

From karl at freefriends.org  Sun Jan 30 15:50:04 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Jan 30 15:52:17 2005
Subject: [tex-live] Europecv Bug report
In-Reply-To: <c0f1440943131466ad7ca4c9360dcaef@web.de>
Message-ID: <200501301450.j0UEo4N25593@f7.net>

    The flags (see below) are required when europecv is used and should go 
    into
    texmf-dist/tex/latex/europecv/.

Thanks for reporting this.

From Gerben.Wierda at rna.nl  Mon Jan 31 00:17:31 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Jan 31 00:19:57 2005
Subject: [tex-live] Why is TeX so slow on Mac OS X?
Message-ID: <1DA9213D-7315-11D9-A2D9-000D93B7C888@rna.nl>

http://www.nslog.org/latex.html has a table. Even with an adapted 
command (disabling Terminal output which wins you 10 seconds or so on 
this run):

time pdflatex source2e.tex >/dev/null

real    0m17.377s
user    0m16.100s
sys     0m0.580s

This 1.2GHz G4 is slow. A 1.4Ghz Pentium III, 1 GB RAM mit Debian Linux 
3.0 clocks in at 7seconds or so.

Why is TeX so slow? How do I find out what is going on?

G
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 491 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20050131/b0f7f88b/attachment.bin
From staw at gust.org.pl  Mon Jan 31 01:33:49 2005
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Jan 31 01:36:07 2005
Subject: [tex-live] Why is TeX so slow on Mac OS X?
In-Reply-To: <1DA9213D-7315-11D9-A2D9-000D93B7C888@rna.nl>
Message-ID: <Pine.LNX.4.44.0501310129190.755-100000@re86.internetdsl.tpnet.pl>

On Mon, 31 Jan 2005, Gerben Wierda wrote:

> http://www.nslog.org/latex.html has a table. Even with an adapted 
> command (disabling Terminal output which wins you 10 seconds or so on 
> this run):

Oops, would you please provide this example in more readable format
(base.sit ???? wrrrrr....)

Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From Gerben.Wierda at rna.nl  Mon Jan 31 07:22:09 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Jan 31 07:24:24 2005
Subject: [tex-live] Why is TeX so slow on Mac OS X?
In-Reply-To: <Pine.LNX.4.44.0501310129190.755-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0501310129190.755-100000@re86.internetdsl.tpnet.pl>
Message-ID: <6F8F8DD8-7350-11D9-9876-003065B3343E@rna.nl>

On Jan 31, 2005, at 01:33, Staszek Wawrykiewicz wrote:

> On Mon, 31 Jan 2005, Gerben Wierda wrote:
>
>> http://www.nslog.org/latex.html has a table. Even with an adapted
>> command (disabling Terminal output which wins you 10 seconds or so on
>> this run):
>
> Oops, would you please provide this example in more readable format
> (base.sit ???? wrrrrr....)

http://mail.rna.nl/~gerben/base.tar.bz2 (740kB)

G

From frank at kuesterei.ch  Sat Jan 29 21:28:09 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Mon Jan 31 08:24:55 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <200501291757.j0THvNt11953@f7.net> (Karl Berry's message of
	"Sat, 29 Jan 2005 12:57:23 -0500")
References: <200501291757.j0THvNt11953@f7.net>
Message-ID: <87y8ec9e06.fsf@alhambra.kuesterei.ch>

karl@freefriends.org (Karl Berry) schrieb:

>     I only suggested that the _Debian_ packages of tex-live and of teTeX
>     do it the same way, and I would drop the separation.
>
> I don't see the benefit of Debian rearranging the original source in
> this major way.  Do you just not like /usr/share/texmf-dist?

>From the point of view of a Debian package, it's just a useless
separation. When I first decided not to use it, I only thought about
teTeX on Debian.  And since teTeX is a little different on every system,
I didn't care to drop that (for me) useless duplication. Well, I might
change my mind. But up to now, I have not yet read any convincing
reasoning why I should use texmf-dist.

> (Personally I think /usr/TeX makes a lot more sense, would be less
> implementation work and better for users, but I know that's not going to
> go anywhere.)

And that's good. Every software that has some plugins, add-ons or
whatever would want a directory in /usr.

> One big hypothetical -- if there was another TeX distribution (e.g.,
> miktex) that was available on debian, it could reuse (and depend on)
> texmf-dist packages, but you wouldn't want to try to somehow use part of
> texmf from different binaries.  Ok, it doesn't exist today, but ...

I don't see the problem - that could be done without texmf-dist,
too. tex-live-binary packages would install their corresponding pool
files into TEXMFMAIN/web2c, and conflict with teTeX's or miktex's binary
packages. teTeX's texmf packages would install their TeX input files
into TEXMFMAIN/tex, TEXMFMAIN/fonts and so on (and possibly some in
TEXMFMAIN/web2c), and conflict with the particular texmf-package from
tex-live or miktex that also installs these files; but the
texmf-packages of either distribution could still be used with the
binary packages of any other. Conflicts are needed only where two
packages install the same files, and depends can provide alternatives:

Depends: tetex-base | tex-live-basetemxf | miktex-texmfbase

But they can happily install files into the same directories or
directory trees.

>     After all, it's just a question of removing one entry from
>     TEXMF = ..., and of creating the package in a particular way.
>
> "Just"?  You're moving hundreds of megabytes to a different location ...

Well, technically every file from the old package is removed, and the
file from the new package installed, even if the files are the
same. Therefore it doesn't make a difference if the file is in the same
directory or not.

And from the point of view of a Debian user who is acquainted to
tetex-2.0.2, we would only have to move files to a different location
when we *do* use TEXMF-DIST; if we don't, the files can stay in
/usr/share/texmf, just where they are now.

I think that it is less error prone that a user who previously installed
tex-live by hand now finds out that there is no separate directory, than
that a user (or maintainer) of Debian puts files into the wrong one -
especially given that it doesn't make a difference: Separating the
directories would only be because "we decided it", but in fact it
doesn't matter where the file is put, it simply works, here and there.


Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From frank at kuesterei.ch  Mon Jan 31 08:44:26 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Mon Jan 31 08:46:32 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <41FBD9B3.8030808@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Sat, 29 Jan 2005 18:45:07 +0000")
References: <200501291757.j0THvNt11953@f7.net>
	<41FBD9B3.8030808@computing-services.oxford.ac.uk>
Message-ID: <87d5vmdov9.fsf@alhambra.kuesterei.ch>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> wrote:

> Moving files from texmf-dist to a straight texmf could be done in the Debian
> build process, so its not that big a deal. The main argument against it
> is that after going through all the work of arguing about it, agreeing to do
> with teTeX too, it would be retrograde of Debian to undo it all again.

Is there any public archive of this arguing?

> Although we don't want the TeX tail to wag the Debian dog,
> we don't want the Debian tail wagging the TeX dog either.
> I strongly support leaving well alone in the TL setup.

I do not understand why such a divergence would imply any "wagging". My
point of view is - it might be wrong:

- We cannot take teTeX or tex-live as-is when creating a Debian package,
  some adaptations are necessary in any case. This is needed because we
  have to integrate into the system, and have some additional
  constraints, as well as that some problems don't exist here.

- On the other hand, it does not make sense that teTeX and tex-live
  adapt to the needs of Debian (or rpm-based distributions). In the
  first place, it should be possible to install and use them as easily
  as possible if you install them locally without any package management
  system, and on a variety of platforms.

- The adaptations needed specifically for Debian include things we add,
  things we do different, and things we drop or disable. A user who
  switches from a manually installed teTeX or tex-live to the Debian
  package will have to read the docs and possibly change habits *anyway*
  as soon as he wants to do any local adaptations.

  Therefore I do not see why we should not drop the distinction between
  TEXMFMAIN and TEMFDIST, too, when it doesn't make sense or a
  difference in *our* context.

I must say, however, that these considerations were all made without
considering the possibility of tex-live Debian packages, and generally
without considering tex-live at all. I was going along the following
reasoning: 

Instructions that could be found in any CTAN package should also apply
to Debian, whereas things that would not (or should not) be written in a
general README can as well differ.

This means, or course, that we strictly? adhere to the TDS, but that we
have a slightly different setup with respect to font maps - updmap.cfg
is not a real configuration file, it is generated from real
configuration files.

There is of course a grey area here. And maybe we must consider more the
influence of tex-live, both on Debian when it is going to be packaged,
and on the tex-scene in general - when more and more instructions say
something like "1. usual systems; 2. miktex" we should behave as a
"usual system" as much as possible.

Still, in the specific case of separating files into TEXMFDIST and
TEXMFMAIN, I don't see what problems would be caused by this. I only see
that we would have an additional directory in /usr/share (which doesn't
matter a lot) and would get some confusion: bug reports because files
added by the user or by "I have no explanation" in one of them shadow
package-provided files in the other. And maintainers of other packages
would have to be convinced to put their files in the correct location.

By the way, I doubt that we could use the straightforward naming scheme
for the directories, /usr/share/texmf for TEXMFMAIN and
/usr/share/texmf-dist for TEXMFDIST. Instead, TEXMFDIST would probably
have to stay /usr/share/texmf, because this is the place where all the
other packages install their TeX input files, and it would mean a
tremendous amount of work for us teTeX maintainers to file bug reports
on all of them and help the package's maintainers understand and perform
the change. I have better things to do than that, or rather I would like
to see more convincing reasoning for this change than just "upstream did
it". 

Regards, Frank


?well, not even that. At least I am considering to implement a
backwards-compatibility hack to enable a smoother transition to the new
location of font encodings. As is, Debian packages that provide fonts
for TeX will either work with tetex-2.0.2, or with tetex-3.0, but not
both. Since we want to enable people to easily backport tetex-3.0 to
sarge, we probably need such a hack.
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From Gerben.Wierda at rna.nl  Mon Jan 31 08:59:22 2005
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Jan 31 09:01:34 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <87y8ec9e06.fsf@alhambra.kuesterei.ch>
References: <200501291757.j0THvNt11953@f7.net>
	<87y8ec9e06.fsf@alhambra.kuesterei.ch>
Message-ID: <0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl>

On 29 Jan 2005, at 21:28, Frank K?ster wrote:

> karl@freefriends.org (Karl Berry) schrieb:
>
>>     I only suggested that the _Debian_ packages of tex-live and of 
>> teTeX
>>     do it the same way, and I would drop the separation.
>>
>> I don't see the benefit of Debian rearranging the original source in
>> this major way.  Do you just not like /usr/share/texmf-dist?
>
>> From the point of view of a Debian package, it's just a useless
> separation. When I first decided not to use it, I only thought about
> teTeX on Debian.  And since teTeX is a little different on every 
> system,
> I didn't care to drop that (for me) useless duplication. Well, I might
> change my mind. But up to now, I have not yet read any convincing
> reasoning why I should use texmf-dist.
>
>> (Personally I think /usr/TeX makes a lot more sense, would be less
>> implementation work and better for users, but I know that's not going 
>> to
>> go anywhere.)
>
> And that's good. Every software that has some plugins, add-ons or
> whatever would want a directory in /usr.
>
>> One big hypothetical -- if there was another TeX distribution (e.g.,
>> miktex) that was available on debian, it could reuse (and depend on)
>> texmf-dist packages, but you wouldn't want to try to somehow use part 
>> of
>> texmf from different binaries.  Ok, it doesn't exist today, but ...
>
> I don't see the problem - that could be done without texmf-dist,
> too. tex-live-binary packages would install their corresponding pool
> files into TEXMFMAIN/web2c, and conflict with teTeX's or miktex's 
> binary
> packages. teTeX's texmf packages would install their TeX input files
> into TEXMFMAIN/tex, TEXMFMAIN/fonts and so on (and possibly some in
> TEXMFMAIN/web2c),

This assumes. My distribution system does not have it, nor am I going 
to implement it. Too vulnerable given the philosophy of my installer 
(which partly is that it is not the *only* way software is installed on 
the system). So, if two packages would share dropping files in the same 
directory, I am lost, because I then cannot remove old before 
unarchiving new.

Anyway, I like the separation of the tree which is produced by make 
install in the sources and the rest. It is kind if clean. Having one 
unified tree doesw not improve matters much afaics.

G

From pragma at wxs.nl  Mon Jan 31 09:24:35 2005
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Jan 31 09:27:49 2005
Subject: [tex-live] Why is TeX so slow on Mac OS X?
In-Reply-To: <1DA9213D-7315-11D9-A2D9-000D93B7C888@rna.nl>
References: <1DA9213D-7315-11D9-A2D9-000D93B7C888@rna.nl>
Message-ID: <41FDEB43.3050007@wxs.nl>

Gerben Wierda wrote:
> http://www.nslog.org/latex.html has a table. Even with an adapted 
> command (disabling Terminal output which wins you 10 seconds or so on 
> this run):
> 
> time pdflatex source2e.tex >/dev/null
> 
> real 0m17.377s
> user 0m16.100s
> sys 0m0.580s
> 
> This 1.2GHz G4 is slow. A 1.4Ghz Pentium III, 1 GB RAM mit Debian Linux 
> 3.0 clocks in at 7seconds or so.
> 
> Why is TeX so slow? How do I find out what is going on?

normally, on an i386 tex the speed of tex does not differ per operating system 
(in any case, do a couple of runs to make sure that caching is not playing any role)

the only differences i notice are in terminal output (bitmaps, outlines, kind of 
fonts, noflines, etc make a difference)

however, there is one place where speed differs and that is in loading the 
pattern files: a djgpp version crawls when loading patterns compared to a native 
win32 version; so, it looks like the (cross)compiler has done something wrong 
there; could it be that something like that happens on the g4 as well, maybe 
something endian or so being messed up?

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From taco at elvenkind.com  Mon Jan 31 10:46:53 2005
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon Jan 31 10:49:08 2005
Subject: [tex-live] Why is TeX so slow on Mac OS X?
In-Reply-To: <41FDEB43.3050007@wxs.nl>
References: <1DA9213D-7315-11D9-A2D9-000D93B7C888@rna.nl>
	<41FDEB43.3050007@wxs.nl>
Message-ID: <41FDFE8D.20101@elvenkind.com>



Hans Hagen wrote:
> Gerben Wierda wrote:
> 
>> http://www.nslog.org/latex.html has a table. Even with an adapted 
>> command (disabling Terminal output which wins you 10 seconds or so on 
>> this run):
>>
>> time pdflatex source2e.tex >/dev/null
>>
>> real 0m17.377s
>> user 0m16.100s
>> sys 0m0.580s
>>
>> This 1.2GHz G4 is slow. A 1.4Ghz Pentium III, 1 GB RAM mit Debian 
>> Linux 3.0 clocks in at 7seconds or so.
>>
>> Why is TeX so slow? How do I find out what is going on?
>
> normally, on an i386 tex the speed of tex does not differ per operating 
> system (in any case, do a couple of runs to make sure that caching is 
> not playing any role)

But your bios settings can have a huge impact on a PC. Perhaps this is
true on G4's as well? (L2 cache, SDRAM speed, disk DMA yes/no). If you
can save that much time just by disabling output, perhaps there is some
I/O setting wrong?

Btw, here is the fastest of our office machines:

   4.06user 0.08system 0:04.21elapsed

AMD Athlon(tm) 64 Processor 3000+ (2Ghz), 1GB ram, 200GB disk, running
Mandrakelinux 10.1, Kernel 2.6.8.1-19mdk on a x86_64,


Greetings, Taco

From frank at kuesterei.ch  Mon Jan 31 12:36:26 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Mon Jan 31 12:40:21 2005
Subject: /usr/TeX (was: [tex-live] Re: Debian-TeXlive Proposal II)
In-Reply-To: <20050130101358.GB5707@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Sun, 30 Jan 2005 11:13:58 +0100")
References: <87oef8b2d1.fsf@alhambra.kuesterei.ch>
	<200501291757.j0THvNt11953@f7.net>
	<20050130101358.GB5707@gamma.logic.tuwien.ac.at>
Message-ID: <87d5vlj0ed.fsf_-_@alhambra.kuesterei.ch>

Norbert Preining <preining@logic.at> schrieb:

> On Sam, 29 Jan 2005, Karl Berry wrote:
>> (Personally I think /usr/TeX makes a lot more sense, would be less
>
> Do you think it is definitely impossible to get a /usr/TeX?
>
> Frank, as a DD, what do you think?

I don't see any possibility, and I don't even know what the benefit
would be.

Look at http://www.pathname.com/fhs/pub/fhs-2.3.html#THEUSRHIERARCHY

There is a rationale for each of the directories, and there doesn't seem
to be anything comparable for /usr/TeX. Reserving a subhierarchy to one
particular program (and not the most important one, most people except
us would say) contradicts the whole idea of the FHS, see 

http://www.pathname.com/fhs/pub/fhs-2.3.html#THEFILESYSTEM


I can imagine a whole lot of other software "systems" that would like to
have such a place. Then we would have to add all their bin/ directories
to the PATH, all their etc/ directories to the stuff that is regularly
backuped (because you can't restore it from the CD's), ...

Regards, Frank



-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From frank at kuesterei.ch  Mon Jan 31 12:29:40 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Mon Jan 31 12:40:32 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl> (Gerben Wierda's
	message of "Mon, 31 Jan 2005 08:59:22 +0100")
References: <200501291757.j0THvNt11953@f7.net>
	<87y8ec9e06.fsf@alhambra.kuesterei.ch>
	<0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl>
Message-ID: <87hdkxj0pn.fsf@alhambra.kuesterei.ch>

Gerben Wierda <Gerben.Wierda@rna.nl> wrote:

> On 29 Jan 2005, at 21:28, Frank K?ster wrote:
>
>> I don't see the problem - that could be done without texmf-dist,
>> too. tex-live-binary packages would install their corresponding pool
>> files into TEXMFMAIN/web2c, and conflict with teTeX's or miktex's
>> binary
>> packages. teTeX's texmf packages would install their TeX input files
>> into TEXMFMAIN/tex, TEXMFMAIN/fonts and so on (and possibly some in
>> TEXMFMAIN/web2c),
>
> This assumes. My distribution system does not have it, nor am I going
> to implement it.

I do not suggest that tex-live should stop separating TEXMFMAIN and
TEXMFDIST. I only suggest that the *Debian* packages of tex-live drop
that separation (or I ask why they should keep it).

Regards, Frank

-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From pragma at wxs.nl  Mon Jan 31 14:50:39 2005
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Jan 31 14:53:00 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <87hdkxj0pn.fsf@alhambra.kuesterei.ch>
References: <200501291757.j0THvNt11953@f7.net>
	<87y8ec9e06.fsf@alhambra.kuesterei.ch>
	<0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl>
	<87hdkxj0pn.fsf@alhambra.kuesterei.ch>
Message-ID: <41FE37AF.7070402@wxs.nl>

Frank K?ster wrote:

> I do not suggest that tex-live should stop separating TEXMFMAIN and
> TEXMFDIST. I only suggest that the *Debian* packages of tex-live drop
> that separation (or I ask why they should keep it).

i see no problem in merging them when installing; however, for the sake of 
upgrading, it makes sense to leave texmfdist settings in texmf.cnf untouched and 
take precedence over texmfmain; that way updates that unpack in the dist subtree 
will be seen first

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From frank at kuesterei.ch  Mon Jan 31 17:43:05 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Mon Jan 31 17:55:22 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <41FE37AF.7070402@wxs.nl> (Hans Hagen's message of "Mon, 31 Jan
	2005 14:50:39 +0100")
References: <200501291757.j0THvNt11953@f7.net>
	<87y8ec9e06.fsf@alhambra.kuesterei.ch>
	<0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl>
	<87hdkxj0pn.fsf@alhambra.kuesterei.ch> <41FE37AF.7070402@wxs.nl>
Message-ID: <878y69bld2.fsf@alhambra.kuesterei.ch>

Hans Hagen <pragma@wxs.nl> schrieb:

> Frank K?ster wrote:
>
>> I do not suggest that tex-live should stop separating TEXMFMAIN and
>> TEXMFDIST. I only suggest that the *Debian* packages of tex-live drop
>> that separation (or I ask why they should keep it).
>
> i see no problem in merging them when installing; however, for the
> sake of upgrading, it makes sense to leave texmfdist settings in
> texmf.cnf untouched and take precedence over texmfmain; that way
> updates that unpack in the dist subtree will be seen first

You mean, you suggest that we move all files to TEXMFMAIN, but create an
empty directory referenced by TEXMFDIST?  What would be the benefit of
this approach?  

Local administrators should never put any files below /usr/share on a
Debian system, and Debian packages shouldn't use TEXMFDIST, either. What
would I gain by starting to support TEXMFDIST?

P.S. The reason why Debian packages must install add-on files into the
same trees as tetex/tex-live does is that it would generally be a bug to
shadow a file provided by the main TeX package.  If packages generally
installed files into a different tree, I fear such bugs would occur
frequently, between teTeX/tex-live and add-on packages, or between two
add-on packages, one of which installs into TEXMFMAIN, the other into
the new TEXMFDIST.

We do consider to provide an additional tree for packages that
deliberately want to provide newer versions of input files than in teTeX
(or tex-live), especially for things that are under heavy development,
like the experimental to-be-LaTeX-3 packages (xkeyval...), or perhaps
new things like beamer. 

But this is a different concept than what TEXMFDIST was designed for.
First, it's not about easily replacing files, it's about deliberately
shadowing them.  Second, it is a problem that only occurs on a
distribution with some kind of package management system.  If you
install teTeX or tex-live manually, either you update the complete texmf
tarball (which is easier using TEXMFDIST), or you install updated
packages into LOCALTEXMF. On Debian, however, there is a third option:
Someone else does the installation for you, and you only pick the
package from the package manager. This cannot go into LOCALTEXMF (which
is still the realm of the local administrator), and it cannot go into
TEXMFMAIN (or TEXMFDIST if it exists), because one package may not
override an other ones files.



Regards, Frank

-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From pragma at wxs.nl  Mon Jan 31 18:28:14 2005
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Jan 31 18:30:25 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <878y69bld2.fsf@alhambra.kuesterei.ch>
References: <200501291757.j0THvNt11953@f7.net>
	<87y8ec9e06.fsf@alhambra.kuesterei.ch>
	<0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl>
	<87hdkxj0pn.fsf@alhambra.kuesterei.ch> <41FE37AF.7070402@wxs.nl>
	<878y69bld2.fsf@alhambra.kuesterei.ch>
Message-ID: <41FE6AAE.4020604@wxs.nl>

Frank K?ster wrote:

> You mean, you suggest that we move all files to TEXMFMAIN, but create an
> empty directory referenced by TEXMFDIST?  What would be the benefit of
> this approach?  

safeguard for user updates

> Local administrators should never put any files below /usr/share on a
> Debian system, and Debian packages shouldn't use TEXMFDIST, either. What
> would I gain by starting to support TEXMFDIST?

actually, since your starting point is tex live, you're talking about dropping 
texmf-dist, and that's just asking for work; it does not hurt to have that empty 
dir

imagine a user who downloads something from the internet (user group website, 
ctan, whatever) which is packaged (zipped or so) in the texlive directory 
structure using texmf-dist); normally the root tree is not part of such a 
package and so users will install in texmf-local, but there is no danger in 
providing the dist-subtree as well;

> P.S. The reason why Debian packages must install add-on files into the
> same trees as tetex/tex-live does is that it would generally be a bug to
> shadow a file provided by the main TeX package.  If packages generally
> installed files into a different tree, I fear such bugs would occur
> frequently, between teTeX/tex-live and add-on packages, or between two
> add-on packages, one of which installs into TEXMFMAIN, the other into
> the new TEXMFDIST.

normally users will update in texmf-local or in a $home based tree; but you 
cannot be dure of that, so things may end up in the place where users think they 
belong, for instance because the manuals tell them

concerning bugs ... installing a linux-package (from distributer) and tex live 
(from user group cdrom) on one system never worked well, users can best best 
stick on one or the other [and spraking from the user groups point of view, i.e. 
support, the closer one sticks to texlive or miktex, the better)

> We do consider to provide an additional tree for packages that
> deliberately want to provide newer versions of input files than in teTeX
> (or tex-live), especially for things that are under heavy development,
> like the experimental to-be-LaTeX-3 packages (xkeyval...), or perhaps
> new things like beamer. 

as long as it's not called texmf-extra since that one is already taken for goodies

> But this is a different concept than what TEXMFDIST was designed for.
> First, it's not about easily replacing files, it's about deliberately
> shadowing them.  Second, it is a problem that only occurs on a
> distribution with some kind of package management system.  If you

i must admit that i'm not a fan of texmf-dist, i just use texmf and alongside a 
bunch of texmf-platform[/bin|/web2c] paths since i run multiple os's and they 
share the common files; the texmf|texmf-dist model assumes that the whole bunch 
of binaries is in sync which is not always true and then pool files can get in 
the way

> install teTeX or tex-live manually, either you update the complete texmf
> tarball (which is easier using TEXMFDIST), or you install updated
> packages into LOCALTEXMF. On Debian, however, there is a third option:
> Someone else does the installation for you, and you only pick the
> package from the package manager. This cannot go into LOCALTEXMF (which
> is still the realm of the local administrator), and it cannot go into
> TEXMFMAIN (or TEXMFDIST if it exists), because one package may not
> override an other ones files.

yeah ... sysadm's ... my experience is that they don't like updating tex; for 
instance, installing tex live on a system that already has one of those old tex 
trees laying around [one that got installed when installing the system] in a 
pain; the average user - if already aware of how tex hooks into his/her system - 
is not able to figure out why old trees are found while new ones are installed, 
for instance because profiles have hard codes paths to them, or because 
texmf.cnf is not located under a web2c path but in etc or so;

it is for this reason that i think that merging the trees is not so much a 
problem, but adapting texmf.cnf (for instance by dropping the dist path) is 
asking for trouble, but on the other hand, tex live users by now know that hey 
should not mix distributions -)

Hans

PS. imagine what happens when users who have a working system update from their 
standard installation to tex live (incompatible changes in 2005) and after that 
using tetex 3.0 repackaged by debian; right now i start getting reports about 
such messed up systems and the best advice i can give those users is to buy a 
new machine dedicated for typesetting, and keep it far away from uncontrolled 
opdated -)



Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From frank at kuesterei.ch  Mon Jan 31 19:44:33 2005
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Mon Jan 31 19:46:52 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <41FE6AAE.4020604@wxs.nl> (Hans Hagen's message of "Mon, 31 Jan
	2005 18:28:14 +0100")
References: <200501291757.j0THvNt11953@f7.net>
	<87y8ec9e06.fsf@alhambra.kuesterei.ch>
	<0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl>
	<87hdkxj0pn.fsf@alhambra.kuesterei.ch> <41FE37AF.7070402@wxs.nl>
	<878y69bld2.fsf@alhambra.kuesterei.ch> <41FE6AAE.4020604@wxs.nl>
Message-ID: <87k6pt8mlq.fsf@alhambra.kuesterei.ch>

Hans Hagen <pragma@wxs.nl> schrieb:

> Frank K?ster wrote:
>
>> You mean, you suggest that we move all files to TEXMFMAIN, but create an
>> empty directory referenced by TEXMFDIST?  What would be the benefit of
>> this approach?
>
> safeguard for user updates
>
>> Local administrators should never put any files below /usr/share on a
>> Debian system, and Debian packages shouldn't use TEXMFDIST, either. What
>> would I gain by starting to support TEXMFDIST?
>
> actually, since your starting point is tex live, you're talking about
> dropping texmf-dist, and that's just asking for work; it does not hurt
> to have that empty dir

No, I don't think so. We are talking about Debian packages for
tex-live. A Debian user who installs these packages for the first time
is in one of two possible situations:

a) he did not have tex-live installed before (i.e. used tetex or
   nothing): There's no TEXMFDIST on his system.

b) he previously had tex-live installed manually (i.e. without a Debian
   package): He has some TEXMFDIST, but this must be some directory
   below /usr/local. 

ah, actually there is a third one:

c) he previously had tex-live installed in /usr/share with a home-made
   Debian package. There are files in TEXMFDIST, but they will
   automatically be removed and replaced by the ones in TEXMFMAIN.

For the case of b, we could consider to add the tree, there you are
right. But this wouldn't be TEXMFDIST, but rather something like
TEXMFDISTLOCAL, if not TEXMFDISTOLDLOCAL. And while I think about it, I
don't think that it will cause much good: Either it comes after
TEXMFMAIN, then it doesn't have any effect. Or it comes before it - but
then the system will for ever stay in the state of the old installed
tex-live texmf tree, no matter how recent the version in the Debian
package is.

Am I misunderstanding something, again?

> imagine a user who downloads something from the internet (user group
> website, ctan, whatever) which is packaged (zipped or so) in the
> texlive directory structure using texmf-dist); normally the root tree
> is not part of such a package and so users will install in
> texmf-local, but there is no danger in providing the dist-subtree as
> well;

If a "something" is packaged to extract itself into texmf-dist, it's
broken, anyway, isn't it? If we have the ordinary tex-live setup with
texmf-dist, these additional files will be removed by the tex-live
upgrade, anyway - that's what texmf-dist is for, isn't it?

So for a user of tex-live, the files would be lost after the next
upgrade of the distribution. For the Debian user, the files will stop
working as soon as he installs the Debian package (because they will no
longer be found), but they will still be present (unless he has done
havoc to his system and installed into /usr/share/texmf - then they will
be kept and found as they are).

>> P.S. The reason why Debian packages must install add-on files into the
>> same trees as tetex/tex-live does is that it would generally be a bug to
>> shadow a file provided by the main TeX package.  If packages generally
>> installed files into a different tree, I fear such bugs would occur
>> frequently, between teTeX/tex-live and add-on packages, or between two
>> add-on packages, one of which installs into TEXMFMAIN, the other into
>> the new TEXMFDIST.
>
> normally users will update in texmf-local or in a $home based tree;
> but you cannot be dure of that, so things may end up in the place
> where users think they belong, for instance because the manuals tell
> them

Do the manuals tell people to install into texmf-dist? I thought the
purpose of this directory would be to be able to completely remove it
and replace it by the new release.

> concerning bugs ... installing a linux-package (from distributer) and
> tex live (from user group cdrom) on one system never worked well,
> users can best best stick on one or the other [and spraking from the
> user groups point of view, i.e. support, the closer one sticks to
> texlive or miktex, the better)

So we don't need Debian packages of tex-live... Well, some people seem
to want them; and then we should build them in a way that installing
additional packages does work.

>> We do consider to provide an additional tree for packages that
>> deliberately want to provide newer versions of input files than in teTeX
>> (or tex-live), especially for things that are under heavy development,
>> like the experimental to-be-LaTeX-3 packages (xkeyval...), or perhaps
>> new things like beamer.
>
> as long as it's not called texmf-extra since that one is already taken for goodies

No, I was thinking about something like texmf-site, analogous to the
Debian naming of /usr/share/emacs/site-list and /usr/lib/site-python,
for Emacs Lisp files and (byte-compiled) Python scripts that don't come
with Emacs or Python themselves.

> yeah ... sysadm's ... my experience is that they don't like updating
> tex; for instance, installing tex live on a system that already has
> one of those old tex trees laying around [one that got installed when
> installing the system] in a pain; 

This is probably different for sysadmins of Debian systems. They are
used ot old software, too - because Debian stable could as well be
called stale. But if the release update comes, they usually update
everything soon.

> the average user - if already aware
> of how tex hooks into his/her system -
> is not able to figure out why old trees are found while new ones are
> installed, for instance because profiles have hard codes paths to
> them, or because texmf.cnf is not located under a web2c path but in
> etc or so;

This doesn't seem to be an issue in a properly configured Debian
package. There's one HOMETEXMF for every user which works out of the box
- not more and not less -, and in teTeX 3.0 there will be TEXMFCONFIG
which additionally supports creation of user-specific formats.

> PS. imagine what happens when users who have a working system update
> from their standard installation to tex live (incompatible changes in
> 2005) and after that using tetex 3.0 repackaged by debian; right now i
> start getting reports about such messed up systems and the best advice
> i can give those users is to buy a new machine dedicated for
> typesetting, and keep it far away from uncontrolled opdated -)

Well, what is going to happen for sure is that the files from the tex
live standard installation become invisible unless they are in
/usr/local/share/texmf. If they are there (are they?), there is a
problem. The package installation procedure will have to check this and
urge the sysadmin to remove them. If they are elsewhere, they just
become invisible - which is intended.

Regards, Frank
-- 
Frank K?ster
Inst. f. Biochemie der Univ. Z?rich
Debian Developer

From pragma at wxs.nl  Mon Jan 31 20:20:50 2005
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Jan 31 20:22:58 2005
Subject: [tex-live] Re: Debian-TeXlive Proposal II
In-Reply-To: <87k6pt8mlq.fsf@alhambra.kuesterei.ch>
References: <200501291757.j0THvNt11953@f7.net>
	<87y8ec9e06.fsf@alhambra.kuesterei.ch>
	<0465DEF1-735E-11D9-A2D9-000D93B7C888@rna.nl>
	<87hdkxj0pn.fsf@alhambra.kuesterei.ch> <41FE37AF.7070402@wxs.nl>
	<878y69bld2.fsf@alhambra.kuesterei.ch> <41FE6AAE.4020604@wxs.nl>
	<87k6pt8mlq.fsf@alhambra.kuesterei.ch>
Message-ID: <41FE8512.6050409@wxs.nl>

Hi Frank,

> For the case of b, we could consider to add the tree, there you are
> right. But this wouldn't be TEXMFDIST, but rather something like
> TEXMFDISTLOCAL, if not TEXMFDISTOLDLOCAL. And while I think about it, I
> don't think that it will cause much good: Either it comes after
> TEXMFMAIN, then it doesn't have any effect. Or it comes before it - but
> then the system will for ever stay in the state of the old installed
> tex-live texmf tree, no matter how recent the version in the Debian
> package is.
> 
> Am I misunderstanding something, again?

no -)

a complication is that you want to cover two situations:

- sysyadm installs tex and user ads his/herown stuff
- user installs tex

the first one is the most problematic and most of what you say refers to that;
indeed it does not make sense to have those extra paths there; in the second 
situation the "LOCAL" suffix could go.

the order problem is not related to dist, it also comes into play when 
texmflocal and some kind of texmfhome or so exists alongside: a user outs 
something in his local tree (fonts or so) and some sysadm installs something in 
texmflocal .... what should take precedence ... it depends on what the user 
expects (users ten dto forget that they have stuff in home specific tex paths)

> If a "something" is packaged to extract itself into texmf-dist, it's
> broken, anyway, isn't it? If we have the ordinary tex-live setup with
> texmf-dist, these additional files will be removed by the tex-live
> upgrade, anyway - that's what texmf-dist is for, isn't it?

indeed, but if "john" wants to help "joe" and sends him a zip with a texmf-dist 
root .... such things happen; it becomes even nastier when someone puts a 
package on ctan, and the accompanying manual talks about putting things in dist ...

btw, this makes me wonder: how about installing everything in texmf(main) and 
making a symlink from texmfdist to texmfmain, that way everything ends up in the 
expected place

> Do the manuals tell people to install into texmf-dist? I thought the
> purpose of this directory would be to be able to completely remove it
> and replace it by the new release.

hm, i think that both texmfdist and texmfmain are 'removeable' (at least here i 
just wipe them away, and copy the new texlive stuff onto it); but i'm not that 
sure if all users put their stuff in texmflocal (or texmffonts or texmfproject 
...); i must admit that i use only a small portion of the tree and never install 
packages, but i can imagine manuals/readme's to talk about where to put things

> So we don't need Debian packages of tex-live... Well, some people seem
> to want them; and then we should build them in a way that installing
> additional packages does work.

i dunno, it probably depends on where debian-texlive and debian-tetex differ; 
whatever you do, make sure that users know that they should stick to one or the 
other and not start mixing things

> No, I was thinking about something like texmf-site, analogous to the
> Debian naming of /usr/share/emacs/site-list and /usr/lib/site-python,
> for Emacs Lisp files and (byte-compiled) Python scripts that don't come
> with Emacs or Python themselves.

ok, texmf-site is not used yet afaik

> This doesn't seem to be an issue in a properly configured Debian
> package. There's one HOMETEXMF for every user which works out of the box
> - not more and not less -, and in teTeX 3.0 there will be TEXMFCONFIG
> which additionally supports creation of user-specific formats.

hm, does that one replace texmfvar (or vartexmf) ?

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

