From yury.donskoy at gmail.com  Wed Aug  1 00:05:46 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Tue, 31 Jul 2012 22:05:46 +0000
Subject: [tex-live] ctan->tl updates caught up
References: <201207302325.q6UNPGIx003715@freefriends.org>
Message-ID: <loom.20120801T000347-894@post.gmane.org>

Karl Berry <karl <at> freefriends.org> writes:

> 
> FWIW, as far as I know all pending updates on CTAN have been pushed to
> TL and will be out in tonight's update (there were a bunch of new ones
> today).  If anything seems stale after tomorrow, let me know.
> 
> k
> 
> 


Hello,

This is the result of tlmgr update --self --all under Win32 today. It's the same 
problem as yesterday, except that perl script's line # is different(235 
yesterday, 241 today).


C:\texlive\2012>tlmgr update --self --all
tlmgr: package repository http://mirror.csclub.uwaterloo.ca/CTAN/systems/texlive
/tlnet
tlmgr: saving backups to C:/texlive/2012/tlpkg/backups
Preparing TeX Live infrastructure update...
Backup option not implemented for infrastructure update.
DO NOT CLOSE THIS WINDOW!
TeX Live infrastructure update in progress ...
Detailed command logging to "C:\texlive\2012\temp\update-self.log"
self update: texlive.infra (27189 -> 27258)
Infrastructure update finished successfully.
About to restart tlmgr to complete update ...
tlmgr: package repository http://mirror.csclub.uwaterloo.ca/CTAN/systems/texlive
/tlnet
tlmgr: saving backups to C:/texlive/2012/tlpkg/backups
[ 1/10, ??:??/??:??] update: biblatex-chicago [2520k] (27002 -> 27254) ... done
[ 2/10, 00:16/01:46] update: ecclesiastic [236k] (19440 -> 27252) ... done
[ 3/10, 00:40/04:02] update: koma-script [5627k] (27218 -> 27255) ... done
[ 4/10, 00:59/01:57] update: moderncv [1197k] (25745 -> 27250) ... done
[ 5/10, 01:06/01:55] update: mychemistry [1955k] (22242 -> 27251) ... done
[ 6/10, 01:14/01:47] update: tablefootnote [498k] (25123 -> 27256) ... done
[ 7/10, 01:21/01:52] update: tetex [354k] (27240 -> 27260) ... done
[ 8/10, 01:27/01:57] update: texlive-docindex [188k] (27210 -> 27242) ... done
[ 9/10, 01:34/02:04] update: tui [261k] (25619 -> 27253) ... done
[10/10, 01:52/02:25] update: unicode-math [3873k] (26720 -> 27257) ... done
tlmgr: package log updated at C:/texlive/2012/texmf-var/web2c/tlmgr.log
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
running updmap-sys ...

updmap-sys failed (status 2), output:
2: No such file or directory at c:/texlive/2012/texmf/scripts/tetex/updmap.pl li
ne 241
C:\texlive\2012\bin\win32\runscript.tlu:587: command failed with exit code 2:
perl.exe c:/texlive/2012/texmf/scripts/tetex/updmap.pl

tlmgr: exiting unsuccessfully (status 1).


Thanks.
Yury.


From reinhard.kotucha at web.de  Wed Aug  1 00:33:18 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 1 Aug 2012 00:33:18 +0200
Subject: [tex-live] texmflocal
In-Reply-To: <CALBOmsb-dga=xACxt0dB=sKRed5pBegzADZPagdbm2MEe1rKrg@mail.gmail.com>
References: <69CCC52D-E837-4C03-A9F0-97F451098F4D@arcor.de>
 <20120730060630.GB1307@smoon>
 <28DB88A2-6F73-4D58-B7AE-FC379E123B74@logic.at>
 <20120730090523.GC1307@smoon>
 <CALBOmsb-dga=xACxt0dB=sKRed5pBegzADZPagdbm2MEe1rKrg@mail.gmail.com>
Message-ID: <20504.23854.892278.46823@zaphod.ms25.net>

On 2012-07-30 at 11:23:02 +0200, Mojca Miklavec wrote:

 > On Mon, Jul 30, 2012 at 11:05 AM, Vladimir Lomov wrote:
 > > Hello,
 > > ** Norbert Preining [2012-07-30 16:22:15 +0900]:
 > >
 > >> Hi
 > >
 > >>> Create file `texmf.cnf' and write to it
 > >>> TEXMFHOME=$HOME/texmf;$HOME/texmf-projects/STUFF
 > >
 > >> NOOOOOO
 > >
 > >> That is even MUCH MUCH less supported any will create much more
 > >> trouble. PLEASE don't do that!!!
 > >
 > > Then you may be know how to an ordinal user (i.e. not admin) can use
 > > several TDS trees in scheme that I described (separate TDS trees that
 > > can be switched on or off without messing TEXMFHOME)?
 > 
 > In principle one can add more trees to TEXMF variable. But I don't
 > know yet why multiple trees in TEXMFLOCAL or TEXMFHOME are not
 > desired, 

If such a variable contains a list of directories instead of a single
directory, and any program has to *write* files there, it's unclear
where to put them. 

 > I believe that gnuplot concatenates TEXMFLOCAL with
 > "tex/latex/gnuplot" for example, so in case that one has multiple
 > trees, gnuplot would have problems installing files there, but I
 > consider that being gnuplot's fault.

Exactly.  If they really re-define TEXMFLOCAL in order to prepend or
append a new tree, that would be disastrous.  If gnuplot prepends the
new tree and assumes that updates are supposed to go to the first
element of the list, all other programs making the same assumption
will install their files there too.  If the gnuplot tree is appended
and afterwards the user appends another tree, gnuplot will probably
install updates in the new tree.  These updates will never be seen
because the old stuff is found first.

BTW, I can't believe that Gnuplot developers do such nasty things.
I suppose that they simply create a directory "gnuplot" under
$TEXMFLOCAL/tex/latex.  That would be perfect.

Whenever a program has to *write* files, it's necessary that there is
a kpathsea variable which expands to a single directory.  Everything
else is based on guesses and thus extremely unreliable.  Even if brace
expansion is supported by particular programs, I strongly recommend
not to use it in directories where other programs might install files.

 > MikTeX has a nice GUI to add and remove additional trees.

Ulrike mentioned it already. (Are you surprised? :)

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From reinhard.kotucha at web.de  Wed Aug  1 00:49:30 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 1 Aug 2012 00:49:30 +0200
Subject: [tex-live] texmflocal
In-Reply-To: <20120731074645.GA913@smoon>
References: <69CCC52D-E837-4C03-A9F0-97F451098F4D@arcor.de>
 <20120730060630.GB1307@smoon>
 <20502.56944.417209.625184@zaphod.ms25.net>
 <20120731074645.GA913@smoon>
Message-ID: <20504.24826.791513.47977@zaphod.ms25.net>

On 2012-07-31 at 16:46:46 +0900, Vladimir Lomov wrote:

 > Hello,
 > 
 > ** Reinhard Kotucha [2012-07-30 21:20:16 +0200]:
 > 
 > > In general, if you need to extend your system, the least invasive
 > > solution is always the best one.
 > 
 > IMHO, this is more "invasiveness" vs "convenience" question; I know
 > both ways but prefer the second.

Those who know exactly what they are doing can ignore my advice, on
their own risk, of course.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Wed Aug  1 00:52:31 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 1 Aug 2012 07:52:31 +0900
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <loom.20120801T000347-894@post.gmane.org>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
Message-ID: <20120731225231.GB23699@gamma.logic.tuwien.ac.at>

On Di, 31 Jul 2012, Yury Donskoy wrote:
> problem as yesterday, except that perl script's line # is different(235 
> yesterday, 241 today).

Already reported here, already acked and fixed updmap.pl sent out yesterday.
Will bin in tlmgr update today.

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
BISHOP'S CAUNDLE
An opening gambit before a game of chess whereby the missing pieces
are replaced by small ornaments from the mantelpiece.
			--- Douglas Adams, The Meaning of Liff

From reinhard.kotucha at web.de  Wed Aug  1 01:51:58 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 1 Aug 2012 01:51:58 +0200
Subject: [tex-live] tl-install needs too much disk space
In-Reply-To: <50169922.6020605@imf.au.dk>
References: <000001cd48c8$e917c2c0$bb474840$@gmail.com>
 <20120712092237.GC1267@gamma.logic.tuwien.ac.at>
 <50169922.6020605@imf.au.dk>
Message-ID: <20504.28574.941430.222044@zaphod.ms25.net>

On 2012-07-30 at 16:24:34 +0200, Lars Madsen wrote:

 > Norbert Preining wrote, On 2012-07-12 11:22:
 > > On Mi, 13 Jun 2012, Leo Liu wrote:
 > >> When I installed TeX Live 2012 pretest on Windows, I noticed that it
 > >> costs too much disk space for compressed packages. The achieves in
 > >> texlive/temp/*.xz are not deleted in time.
 > > 
 > > 
 > > That is on purpose. In case the installation breaks at some point,
 > > a simple restart with the same target director will *re-use* 
 > > all the already downloaded packages.
 > > 
 > > So we keep them on purpose, they will be removed at the end of
 > > the installation.
 > > 
 > > I think nowadays with disk space normally abundant 1.5 or so extra G
 > > is not so much pain?!?
 > > 
 > >> Would it be changed? Thanks.
 > > 
 > > I don't think that changing this default for the rare case that someone
 > > is so low on disk space pays of the disadvantage to maybe be
 > > required to re-download all the packages ...
 > > 
 > > But I guess we are open for suggestions.
 > > 
 > > Best wishes
 > 
 > then at least the installer should mention this

The information how large the .tar.xz files are is not available ATM.

 > I just ran into this as well. User has 4Gb left on his HD, installer 
 > says TL will need 3Gb, but we ran out of space during the installation.
 > 
 > would it be possible to add an extra option to add the temp files in a 
 > separate folder (on a separate partition, say)

This might not be sufficient if you only have access to one partition
with limited size on a particular machine.  I encounterd this problem
when installing TeX Live on a server with quotas.  On my local machine
there was enough space but it wasn't accessible because the only way
to access the server was via ssh.

Norbert, what about this:
Whenever a package is installed successfully, the .tar.xz file is
replaced by an empty file with the same name, but the .tar.xz
extension removed.  This way the installer/updater can determine which
packages can be skipped when an aborted download is resumed.  In this
case the extra space needed is exaxtly the size of the largest package.

Is something like this feasable?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Wed Aug  1 02:01:43 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 1 Aug 2012 09:01:43 +0900
Subject: [tex-live] tl-install needs too much disk space
In-Reply-To: <20504.28574.941430.222044@zaphod.ms25.net>
References: <000001cd48c8$e917c2c0$bb474840$@gmail.com>
 <20120712092237.GC1267@gamma.logic.tuwien.ac.at> <50169922.6020605@imf.au.dk>
 <20504.28574.941430.222044@zaphod.ms25.net>
Message-ID: <20120801000143.GI23699@gamma.logic.tuwien.ac.at>

On Mi, 01 Aug 2012, Reinhard Kotucha wrote:
> The information how large the .tar.xz files are is not available ATM.

It is, see entry containersize in the tlpdb.

> Norbert, what about this:
> Whenever a package is installed successfully, the .tar.xz file is
> replaced by an empty file with the same name, but the .tar.xz
> extension removed.  This way the installer/updater can determine which

But we would have to check that the right package was installed,
by verifying md5sums, that sounds like a lot of pain.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
WIGAN (n.)
If, when talking to someone you know has only one leg, you're trying
to treat then perfectly casually and normally, but find to your horror
that your conversion is liberally studded with references to (a) Long
John Silver, (b) Hopalong Cassidy, (c) The Hockey Cokey, (d) 'putting
your foot in it', (e) 'the last leg of the UEFA competition', you are
said to have committed a wigan. The word is derived from the fact that
sub-editors at ITN used to manage to mention the name of either the
town Wigan, or Lord Wigg, in every fourth script that Reginald
Bosanquet was given to read.
			--- Douglas Adams, The Meaning of Liff

From yury.donskoy at gmail.com  Wed Aug  1 11:58:57 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Wed, 1 Aug 2012 09:58:57 +0000
Subject: [tex-live] ctan->tl updates caught up
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
Message-ID: <loom.20120801T115802-517@post.gmane.org>

Norbert Preining <preining <at> logic.at> writes:

> 
> On Di, 31 Jul 2012, Yury Donskoy wrote:
> > problem as yesterday, except that perl script's line # is different(235 
> > yesterday, 241 today).
> 
> Already reported here, already acked and fixed updmap.pl sent out yesterday.
> Will bin in tlmgr update today.
> 
> Norbert
> ------------------------------------------------------------------------
> Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
> JAIST, Japan                                 TeX Live & Debian Developer
> DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
> ------------------------------------------------------------------------
> BISHOP'S CAUNDLE
> An opening gambit before a game of chess whereby the missing pieces
> are replaced by small ornaments from the mantelpiece.
> 			--- Douglas Adams, The Meaning of Liff
> 
> 

This time the infrastructure(tlmgr?) itself is having problems, seems on Win32 
only.

C:\texlive>tlmgr update --list
tlmgr: package repository http://ctan.cms.math.ca/tex-archive/systems/texlive/tl
net
===============================================================================
Updates for tlmgr itself are present.
So, please update the package manager first, via either
  tlmgr update --self
or by getting the latest updater for Unix-ish systems:
  http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
and/or Windows systems:
  http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe
Then continue with other updates.
===============================================================================
tlmgr: saving backups to C:/texlive/2012/tlpkg/backups
update:   tetex              [354k]: local:    27260, source:    27265
update:   texlive.infra      [283k]: local:    27258, source:    27262
update:   texlive-docindex   [188k]: local:    27242, source:    27262

C:\texlive>tlmgr update --self --all
tlmgr: package repository http://ctan.cms.math.ca/tex-archive/systems/texlive/tl
net
tlmgr: saving backups to C:/texlive/2012/tlpkg/backups
Preparing TeX Live infrastructure update...
Backup option not implemented for infrastructure update.
DO NOT CLOSE THIS WINDOW!
TeX Live infrastructure update in progress ...
Detailed command logging to "C:\texlive\2012\temp\update-self.log"
failed self update: texlive.infra (27258 -> 27262)
Rolling back to previous version ...
failed self restore: texlive.infra (27258)
FATAL ERROR:
Infrastructure update failed and backup recovery failed too.
To repair your TeX Live installation download and run:
http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe

C:\texlive>


From yury.donskoy at gmail.com  Wed Aug  1 12:06:21 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Wed, 1 Aug 2012 10:06:21 +0000
Subject: [tex-live] ctan->tl updates caught up
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
Message-ID: <loom.20120801T120401-390@post.gmane.org>

Yury Donskoy <yury.donskoy <at> gmail.com> writes:

> FATAL ERROR:
> Infrastructure update failed and backup recovery failed too.
> To repair your TeX Live installation download and run:
> http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe
> 
> C:\texlive>
> 
> 

I downloaded "http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-
latest.exe", as per instructions above, and installed it successfully. But doing 
another "tlmgr update --list" tells me more infrastructure updates are 
available, but I'm not going to try those again.



From t34www at googlemail.com  Wed Aug  1 14:38:55 2012
From: t34www at googlemail.com (T T)
Date: Wed, 1 Aug 2012 13:38:55 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <loom.20120801T115802-517@post.gmane.org>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
Message-ID: <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>

On 1 August 2012 10:58, Yury Donskoy <yury.donskoy at gmail.com> wrote:
> Detailed command logging to "C:\texlive\2012\temp\update-self.log"

Can you send me this file (either to the list or to me privately)?

Cheers,

Tomek

From yury.donskoy at gmail.com  Wed Aug  1 23:13:57 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Wed, 1 Aug 2012 21:13:57 +0000
Subject: [tex-live] ctan->tl updates caught up
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
Message-ID: <loom.20120801T231310-80@post.gmane.org>

T T <t34www <at> googlemail.com> writes:

> 
> On 1 August 2012 10:58, Yury Donskoy <yury.donskoy <at> gmail.com> wrote:
> > Detailed command logging to "C:\texlive\2012\temp\update-self.log"
> 
> Can you send me this file (either to the list or to me privately)?
> 
> Cheers,
> 
> Tomek
> 
> 

Here you go:

C:\texlive>if [:doit] == [:doit] goto :doit 

C:\texlive>set prompt=TL$G 

TL>title TeX Live Manager 2012 Update 

TL>set PERL5LIB=C:/texlive/2012/tlpkg/tlperl/lib 

TL>echo DO NOT CLOSE THIS WINDOW! 1>con 

TL>echo TeX Live infrastructure update in progress ... 1>con 

TL>echo Detailed command logging to "C:\texlive\2012\temp\update-self.log" 1>con 

TL>chdir /d "C:\texlive\2012\temp\.." 

TL>if not errorlevel 1 goto :update 

TL>for %I in (texlive.infra.tar texlive.infra.doc.tar) do (
temp\tar.exe -xf temp\%I  
 if errorlevel 1 goto :rollback 
) 

TL>(
temp\tar.exe -xf temp\texlive.infra.tar  
 if errorlevel 1 goto :rollback 
) 
tar: Could not change access and modification times of 
texmf/scripts/texlive/tlmgr.pl: Permission denied

TL>echo [01/08/2012  6:54:37.30] failed self update: texlive.infra (27258 -> 
27262) 1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log" 
The process cannot access the file because it is being used by another process.

TL>echo failed self update: texlive.infra (27258 -> 27262) 1>con 

TL>echo Rolling back to previous version ... 1>con 

TL>for %I in (__BACKUP_texlive.infra.r27258.tar) do (
temp\tar.exe -xf temp\%I  
 if errorlevel 1 goto :panic 
) 

TL>(
temp\tar.exe -xf temp\__BACKUP_texlive.infra.r27258.tar  
 if errorlevel 1 goto :panic 
) 
tar: Could not change access and modification times of 
texmf/scripts/texlive/tlmgr.pl: Permission denied

TL>echo [01/08/2012  6:54:37.46] failed self restore: texlive.infra (27258) 
1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log" 
The process cannot access the file because it is being used by another process.

TL>echo failed self restore: texlive.infra (27258) 1>con 

TL>echo FATAL ERROR: 1>con 

TL>echo Infrastructure update failed and backup recovery failed too. 1>con 

TL>echo To repair your TeX Live installation download and run: 1>con 

TL>echo http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe 
1>con 

TL>rem  1>con 

TL>exit /b 666 





From reinhard.kotucha at web.de  Thu Aug  2 01:35:22 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 2 Aug 2012 01:35:22 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <loom.20120801T231310-80@post.gmane.org>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
Message-ID: <20505.48442.283313.439921@zaphod.ms25.net>

On 2012-08-01 at 21:13:57 +0000, Yury Donskoy wrote:

 > TL>echo [01/08/2012  6:54:37.30] failed self update: texlive.infra (27258 -> 
 > 27262) 1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log" 
 > The process cannot access the file because it is being used by
 > another process.

If you're using a virus scanner, turn it off while updating TeX Live.

The Windows file system doesn't allow two processes to access a
particular file at the same time.  Multitasking is supported by all
operating systems available today, except Windows.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From yury.donskoy at gmail.com  Thu Aug  2 02:42:55 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Thu, 2 Aug 2012 00:42:55 +0000
Subject: [tex-live] ctan->tl updates caught up
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
Message-ID: <loom.20120802T015905-184@post.gmane.org>

Reinhard Kotucha <reinhard.kotucha <at> web.de> writes:

> 
> On 2012-08-01 at 21:13:57 +0000, Yury Donskoy wrote:
> 
>  > TL>echo [01/08/2012  6:54:37.30] failed self update: texlive.infra (27258 -
> 
>  > 27262) 1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log" 
>  > The process cannot access the file because it is being used by
>  > another process.
> 
> If you're using a virus scanner, turn it off while updating TeX Live.
> 
> The Windows file system doesn't allow two processes to access a
> particular file at the same time.  Multitasking is supported by all
> operating systems available today, except Windows.
> 
> Regards,
>   Reinhard
> 

Thank you for that.

First of all, how does one go about turning off a virus scanner that does not 
involve uninstalling it? Every single piece of software for Windows comes with a 
warning to disable the virus scanner prior to installation, and it is NEVER 
necessary. The software packages all understand that sometimes files will be 
locked and not updateable, and therefore will require a reboot to complete the 
installation. Every single Windows user understands this.

Secondly, I have been using TeXLive since 2010 on Windows(before that on Linux). 
Before TLive on Windows, I was using Miktex. A virus scanner has NEVER been a 
problem with Miktex. Since I switched to TeXLive'2010 back when it was current, 
I have been updating it every single day with TLMGR UPDATE --SELF --ALL, and a 
virus scanner(the same one, AVG) has been active through all that time, and it 
has NEVER needed to be turned off before.

As a programmer who has worked on UNIX machines and mainframes, as well as on 
machines whose manufacturers no longer acknowledge them(or no longer even exist 
as corporate entities), I recognize that there are differences between various 
platforms. Nor do I fail to recognize that there are deficiencies in the 
Microsoft platform, especially when compared to machines and associated OSes 
costing hundreds of thousands, if not millions, of dollars.

To tell me to turn off my virus scanner to make work a command which I have 
successfully used every day for 3 years running is a slap in the face. This is 
especially egregious since there were no problems until certain packages and 
infrastructure were updated earlier this week. Since it continues to function on 
my Linux box, I have to say that the updates to the command and certain packages 
were never tested on a Win32 box prior to their release this week. This is a 
problem, but not the point of this post.

I realize that I am new in forum, that I don't have established STREET CRED, so 
to speak. That doesn't mean that I'm willing to accept subtle insults regarding 
my chosen work platform(same one as that of hundreds of millions of users 
worldwide) or that I don't expect us to come to sort of resolution for this 
problem that doesn't involve taking the easy, Microsoft way out of problems: if 
doesn't work, go see your manufacturer.

Thank you.
Yury Donskoy


From preining at logic.at  Thu Aug  2 03:02:48 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 2 Aug 2012 10:02:48 +0900
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <loom.20120802T015905-184@post.gmane.org>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <loom.20120802T015905-184@post.gmane.org>
Message-ID: <20120802010248.GE5117@gamma.logic.tuwien.ac.at>

Hi Yury,

why, instead of writing a long email, don't you send
the file Tomek asked for:

On Do, 02 Aug 2012, Yury Donskoy wrote:
> >  > 27262) 1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log" 
> >  > The process cannot access the file because it is being used by
> >  > another process.

The file you send does NOT look like the .log file, but like the .bat
file that is created during upgrade.

FOr your other items>

> First of all, how does one go about turning off a virus scanner that does not 
> involve uninstalling it? Every single piece of software for Windows comes with a 

Normally there is a button like "disable for 10 min" etc

> my Linux box, I have to say that the updates to the command and certain packages 
> were never tested on a Win32 box prior to their release this week. This is a 
> problem, but not the point of this post.

It is a problem, I agree. But then if updmap is broken for some
days it does not mean that the world ends, right?

BTW, you should try the exe updater again, you probably got an
old version of the updater.

> my chosen work platform(same one as that of hundreds of millions of users 
> worldwide) or that I don't expect us to come to sort of resolution for this 
> problem that doesn't involve taking the easy, Microsoft way out of problems: if 
> doesn't work, go see your manufacturer.

We are trying hard with our limited resources of volunteers and
very few that are active on WIndows to support it. Yes. 

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
POLBATHIC (adj.)
Gifted with ability to manipulate taps using only the feet.
			--- Douglas Adams, The Meaning of Liff

From yury.donskoy at gmail.com  Thu Aug  2 03:19:51 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Thu, 2 Aug 2012 01:19:51 +0000
Subject: [tex-live] ctan->tl updates caught up
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
Message-ID: <loom.20120802T031753-679@post.gmane.org>

T T <t34www <at> googlemail.com> writes:

> 
> On 1 August 2012 10:58, Yury Donskoy <yury.donskoy <at> gmail.com> wrote:
> > Detailed command logging to "C:\texlive\2012\temp\update-self.log"
> 
> Can you send me this file (either to the list or to me privately)?
> 
> Cheers,
> 
> Tomek
> 
> 


Hello,

I am attaching the file again, this time with the command that displays it, as 
there seems to be some question about its correctness.

C:\Users\yury>type C:\texlive\2012\temp\update-self.log

C:\texlive>if [:doit] == [:doit] goto :doit

C:\texlive>set prompt=TL$G

TL>title TeX Live Manager 2012 Update

TL>set PERL5LIB=C:/texlive/2012/tlpkg/tlperl/lib

TL>echo DO NOT CLOSE THIS WINDOW! 1>con

TL>echo TeX Live infrastructure update in progress ... 1>con

TL>echo Detailed command logging to "C:\texlive\2012\temp\update-self.log" 1>con


TL>chdir /d "C:\texlive\2012\temp\.."

TL>if not errorlevel 1 goto :update

TL>for %I in (texlive.infra.tar texlive.infra.doc.tar) do (
temp\tar.exe -xf temp\%I
 if errorlevel 1 goto :rollback
)

TL>(
temp\tar.exe -xf temp\texlive.infra.tar
 if errorlevel 1 goto :rollback
)
tar: Could not change access and modification times of texmf/scripts/texlive/tlm
gr.pl: Permission denied

TL>echo [01/08/2012  6:54:37.30] failed self update: texlive.infra (27258 -> 272
62) 1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log"
The process cannot access the file because it is being used by another process.

TL>echo failed self update: texlive.infra (27258 -> 27262) 1>con

TL>echo Rolling back to previous version ... 1>con

TL>for %I in (__BACKUP_texlive.infra.r27258.tar) do (
temp\tar.exe -xf temp\%I
 if errorlevel 1 goto :panic
)

TL>(
temp\tar.exe -xf temp\__BACKUP_texlive.infra.r27258.tar
 if errorlevel 1 goto :panic
)
tar: Could not change access and modification times of texmf/scripts/texlive/tlm
gr.pl: Permission denied

TL>echo [01/08/2012  6:54:37.46] failed self restore: texlive.infra (27258) 1>>"
C:/texlive/2012/texmf-var/web2c/tlmgr.log"
The process cannot access the file because it is being used by another process.

TL>echo failed self restore: texlive.infra (27258) 1>con

TL>echo FATAL ERROR: 1>con

TL>echo Infrastructure update failed and backup recovery failed too. 1>con

TL>echo To repair your TeX Live installation download and run: 1>con

TL>echo http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe 1>c
on

TL>rem  1>con

TL>exit /b 666

C:\Users\yury>


From preining at logic.at  Thu Aug  2 04:43:40 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 2 Aug 2012 11:43:40 +0900
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <loom.20120802T031753-679@post.gmane.org>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120802T031753-679@post.gmane.org>
Message-ID: <20120802024340.GC12746@gamma.logic.tuwien.ac.at>

On Do, 02 Aug 2012, Yury Donskoy wrote:
> tar: Could not change access and modification times of texmf/scripts/texlive/tlmgr.pl: Permission denied

That is strange. It seems that tlmgr.pl is not writable, or
that tlmgr is still running, what it should not.

Are you sure that no other process was/is using tlmgr at that time?

We did NOT change anything in this respect, but only one file
of the tlmgrgui.pl. So there is no reason why it should fail
suddenly, unless - well - maybe a virus scanner is having
the file open.

We had reports about this, and that is the reason why we recommend
turning of the virsu scanner.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
PITSLIGO (n.)
Part of traditional mating rite. During the first hot day of spring,
all the men in the tube start giving up their seats to ladies and
staphanging. The purpose of pitsligo is for them to demonstrate their
manhood by displaying the wet patches under their arms.
			--- Douglas Adams, The Meaning of Liff

From t34www at googlemail.com  Thu Aug  2 05:23:40 2012
From: t34www at googlemail.com (T T)
Date: Thu, 2 Aug 2012 04:23:40 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <loom.20120802T031753-679@post.gmane.org>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120802T031753-679@post.gmane.org>
Message-ID: <CADtfNzKFdvGNg5Uh95x4QbHstae4zEOxVeR7zcLgicdTj-Oxdw@mail.gmail.com>

On 2 August 2012 02:19, Yury Donskoy <yury.donskoy at gmail.com> wrote:
>
> I am attaching the file again, this time with the command that displays it, as
> there seems to be some question about its correctness.

Thanks, this is the right file.

> TL>(
> temp\tar.exe -xf temp\texlive.infra.tar
>  if errorlevel 1 goto :rollback
> )
> tar: Could not change access and modification times of texmf/scripts/texlive/tlmgr.pl: Permission denied

This could be due to interfering AV soft, as already mentioned, or you
had another instance of tlmgr running at the same time.  I've just
committed a fix that might help with the AV problems (avoids changing
timestamps on files).  It should be coming through with the next round
of updates (though, you may need to use update-tlmgr-latest.exe to get
it, if you experience the same problem again).

> TL>echo [01/08/2012  6:54:37.30] failed self update: texlive.infra (27258 -> 272
> 62) 1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log"
> The process cannot access the file because it is being used by another process.

This one's weird (makes sense only if another tlmgr was running at the
same time), but it wouldn't cause the update to fail as such.

Thanks again for the report and sorry for the trouble.

Cheers,

Tomek

From yury.donskoy at gmail.com  Thu Aug  2 06:30:07 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Thu, 2 Aug 2012 04:30:07 +0000
Subject: [tex-live] ctan->tl updates caught up
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120802T031753-679@post.gmane.org>
 <CADtfNzKFdvGNg5Uh95x4QbHstae4zEOxVeR7zcLgicdTj-Oxdw@mail.gmail.com>
Message-ID: <loom.20120802T062457-578@post.gmane.org>

T T <t34www <at> googlemail.com> writes:

> 
> On 2 August 2012 02:19, Yury Donskoy <yury.donskoy <at> gmail.com> wrote:
> >
> > I am attaching the file again, this time with the command that displays it, 
as
> > there seems to be some question about its correctness.
> 
> Thanks, this is the right file.
> 
> > TL>(
> > temp\tar.exe -xf temp\texlive.infra.tar
> >  if errorlevel 1 goto :rollback
> > )
> > tar: Could not change access and modification times of 
texmf/scripts/texlive/tlmgr.pl: Permission denied
> 
> This could be due to interfering AV soft, as already mentioned, or you
> had another instance of tlmgr running at the same time.  I've just
> committed a fix that might help with the AV problems (avoids changing
> timestamps on files).  It should be coming through with the next round
> of updates (though, you may need to use update-tlmgr-latest.exe to get
> it, if you experience the same problem again).
> 
> > TL>echo [01/08/2012  6:54:37.30] failed self update: texlive.infra (27258 -> 
272
> > 62) 1>>"C:/texlive/2012/texmf-var/web2c/tlmgr.log"
> > The process cannot access the file because it is being used by another 
process.
> 
> This one's weird (makes sense only if another tlmgr was running at the
> same time), but it wouldn't cause the update to fail as such.
> 
> Thanks again for the report and sorry for the trouble.
> 
> Cheers,
> 
> Tomek
> 
> 
Hello,

My system freaked out over something completely unrelated and I had to reboot. I 
then tried to update again, and it was successful. There were no other TLMGR 
processes running, but maybe after it had failed to update the first time, it 
didn't exit properly and release all the files. I've seen firefox do it on 
occasion. Anyway, here's the log. Thanks for your help.

C:\texlive\2012>tlmgr update --list
tlmgr: package repository http://ctan.cms.math.ca/tex-archive/systems/texlive/tl
net
===============================================================================
Updates for tlmgr itself are present.
So, please update the package manager first, via either
  tlmgr update --self
or by getting the latest updater for Unix-ish systems:
  http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
and/or Windows systems:
  http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe
Then continue with other updates.
===============================================================================
tlmgr: saving backups to C:/texlive/2012/tlpkg/backups
update:   tetex              [354k]: local:    27260, source:    27265
update:   texlive.infra      [283k]: local:    27258, source:    27262
update:   texlive-docindex   [188k]: local:    27242, source:    27262

C:\texlive\2012>tlmgr update --self --all
tlmgr: package repository http://ctan.cms.math.ca/tex-archive/systems/texlive/tl
net
tlmgr: saving backups to C:/texlive/2012/tlpkg/backups
Preparing TeX Live infrastructure update...
Backup option not implemented for infrastructure update.
DO NOT CLOSE THIS WINDOW!
TeX Live infrastructure update in progress ...
Detailed command logging to "C:\texlive\2012\temp\update-self.log"
self update: texlive.infra (27258 -> 27262)
Infrastructure update finished successfully.
About to restart tlmgr to complete update ...
tlmgr: package repository http://ctan.cms.math.ca/tex-archive/systems/texlive/tl
net
tlmgr: saving backups to C:/texlive/2012/tlpkg/backups
[1/2, ??:??/??:??] update: tetex [354k] (27260 -> 27265) ... done
[2/2, 00:07/00:10] update: texlive-docindex [188k] (27242 -> 27262) ... done
tlmgr: package log updated at C:/texlive/2012/texmf-var/web2c/tlmgr.log
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
running updmap-sys ...
done running updmap-sys.

C:\texlive\2012>



From t34www at googlemail.com  Thu Aug  2 12:00:56 2012
From: t34www at googlemail.com (T T)
Date: Thu, 2 Aug 2012 11:00:56 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <loom.20120802T062457-578@post.gmane.org>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120802T031753-679@post.gmane.org>
 <CADtfNzKFdvGNg5Uh95x4QbHstae4zEOxVeR7zcLgicdTj-Oxdw@mail.gmail.com>
 <loom.20120802T062457-578@post.gmane.org>
Message-ID: <CADtfNzLwHvzu5VJzkvOwVneywt6oQMywKyJwnBmDX911+tmSpg@mail.gmail.com>

On 2 August 2012 05:30, Yury Donskoy <yury.donskoy at gmail.com> wrote:
> I then tried to update again, and it was successful.

Glad to hear it.  This wasn't the update with the latest changes, so
expect another one soon.

> There were no other TLMGR
> processes running, but maybe after it had failed to update the first time, it
> didn't exit properly and release all the files. I've seen firefox do it on
> occasion.

Maybe, but these failures are very hard to diagnose.  AV software
often aggravate things further by racing against applications for file
access.  On many occasions I witnessed my system lock up for a while,
because of AV grinding through stuff and denying file access to
applications (although, I've never experienced failures due to this,
but it may depend on the AV you use).  BTW, I used AVG in the past,
but it grew to such a monstrosity, that I switched to avira.  It was
quite lean two major versions back, but it's a big resource hog now as
well.  Anyone has a lightweight AV to recommend for TL users?

> Anyway, here's the log. Thanks for your help.

No problem.

Cheers,

Tomek

From P.Taylor at rhul.ac.uk  Thu Aug  2 12:13:13 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Thu, 2 Aug 2012 11:13:13 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CADtfNzLwHvzu5VJzkvOwVneywt6oQMywKyJwnBmDX911+tmSpg@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120802T031753-679@post.gmane.org>
 <CADtfNzKFdvGNg5Uh95x4QbHstae4zEOxVeR7zcLgicdTj-Oxdw@mail.gmail.com>
 <loom.20120802T062457-578@post.gmane.org>
 <CADtfNzLwHvzu5VJzkvOwVneywt6oQMywKyJwnBmDX911+tmSpg@mail.gmail.com>
Message-ID: <501A52B9.4060504@Rhul.Ac.Uk>



T T wrote:

 > Anyone has a lightweight AV to recommend for TL users?

Microsoft Security Essentials is well worth considering, but I would
always back it up with a licenced copy of Malwarebytes and Spybot-SD.
Windows 7 has its intrinsic "Windows Defender", but whether this could
actually replace MWB and SBSD is moot -- for myself, I run all four.

** Phil.
-- 
MIL-05991/237/2012-B : Any loss of data or other computer malfunction 
resulting directly or indirectly from the use of Linux will be regarded 
as a self-inflicted injury and treated accordingly.  Users of Mac OS/X 
will be assumed to be insane.  You have been warned ...

From P.Taylor at rhul.ac.uk  Thu Aug  2 11:45:40 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Thu, 2 Aug 2012 10:45:40 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <20505.48442.283313.439921@zaphod.ms25.net>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
Message-ID: <501A4C44.5060409@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> If you're using a virus scanner, turn it off while updating TeX Live.

Not a valid solution, Reinhard : no Windows user in his or her
right mind should voluntarily turn off virus protection; it is the
responsibility of the installer to behave correctly in the presence
of such protection, not require that it be turned off, temporarily
of otherwise.

For what it's worth, I run three anti-virus and anti-malware products
concurrently on all my machines, and have /never/ had a problem with
a TeX Live install as a result of any or all of them.  Of course I have
not yet installed TeX Live 2012 (far too early in its release cycle,
IMHO) but if TL2012 has problems with concurrent file access that
did not exist in earlier versions, then this would represent a major
retrograde step.

** Phil.
-- 
MIL-05991/237/2012-B : Any loss of data or other computer malfunction 
resulting directly or indirectly from the use of Linux will be regarded 
as a self-inflicted injury and treated accordingly.  Users of Mac OS/X 
will be assumed to be insane.  You have been warned ...

From Angelo.Graziosi at roma1.infn.it  Thu Aug  2 13:06:53 2012
From: Angelo.Graziosi at roma1.infn.it (Angelo Graziosi)
Date: Thu, 2 Aug 2012 13:06:53 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
Message-ID: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>


The attached test case does not build any more after today upgrade of TL 
2012.

It builds fine on TL2011 and on TL2012 just released (say July 14, 2012).

With today TL2012 it builds *ONLY* IF one comments out

\label{foo}

OR

\usepackage{hyperref}


Ciao,
Angelo.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test_subfig.tar.bz2
Type: application/x-bzip2
Size: 1665 bytes
Desc: 
URL: <http://tug.org/pipermail/tex-live/attachments/20120802/2c094483/attachment.bz2>

From t34www at googlemail.com  Thu Aug  2 13:37:32 2012
From: t34www at googlemail.com (T T)
Date: Thu, 2 Aug 2012 12:37:32 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501A4C44.5060409@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
Message-ID: <CADtfNzLBDPf3NsvyNonmWQBx_3jFVDZ1RZb-JXzy2xFcnKzvUw@mail.gmail.com>

On 2 August 2012 10:45, Philip TAYLOR <P.Taylor at rhul.ac.uk> wrote:
>
> it is the
> responsibility of the installer to behave correctly in the presence
> of such protection

No, it is the responsibility of the AV not to screw with legitimate
file access by applications.

> IMHO) but if TL2012 has problems with concurrent file access that
> did not exist in earlier versions, then this would represent a major
> retrograde step.

Not that I'm aware of.  If anything, TL'12 should be more robust in
this respect than previous versions, but certainly not worse.

Cheers,

Tomek

From heiko.oberdiek at googlemail.com  Thu Aug  2 15:05:42 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Thu, 2 Aug 2012 15:05:42 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
Message-ID: <20120802130542.GA5983@oberdiek.my-fqdn.de>

On Thu, Aug 02, 2012 at 01:06:53PM +0200, Angelo Graziosi wrote:

> The attached test case does not build any more after today upgrade
> of TL 2012.

Please specify the problem. What error message, ...?

> It builds fine on TL2011 and on TL2012 just released (say July 14, 2012).

On my system it works without error messages or warnings.

 article.cls    2007/10/19 v1.4h Standard LaTeX document class
  size12.clo    2007/10/19 v1.4h Standard LaTeX file (size option)
graphicx.sty    1999/02/16 v1.0f Enhanced LaTeX Graphics (DPC,SPQR)
  keyval.sty    1999/03/16 v1.13 key=value parser (DPC)
graphics.sty    2009/02/05 v1.0o Standard LaTeX Graphics (DPC,SPQR)
    trig.sty    1999/03/16 v1.09 sin cos tan (DPC)
graphics.cfg    2010/04/23 v1.9 graphics configuration of TeX Live
  pdftex.def    2011/05/28 v0.06e Graphics/color for pdfTeX
infwarerr.sty    2010/04/08 v1.3 Providing info/warning/error messages (HO)
 ltxcmds.sty    2011/11/09 v1.22 LaTeX kernel commands for general use (HO)
  subfig.sty    2005/06/28 ver: 1.3 subfig package
 caption.sty    2012/02/19 v3.2f Customizing captions (AR)
caption3.sty    2012/01/12 v1.4b caption3 kernel (AR)
hyperref.sty    2012/07/31 v6.82x Hypertext links for LaTeX
hobsub-hyperref.sty    2012/07/29 v1.14 Bundle oberdiek, subset hyperref
(HO)
hobsub-generic.sty    2012/07/29 v1.14 Bundle oberdiek, subset generic (HO)
  hobsub.sty    2012/07/29 v1.14 Construct package bundles (HO)
protecteddef.sty    2011/01/31 v1.0 Define protected commands (HO)
ifluatex.sty    2010/03/01 v1.3 Provides the ifluatex switch (HO)
  ifvtex.sty    2010/03/01 v1.5 Detect VTeX and its facilities (HO)
 intcalc.sty    2007/09/27 v1.1 Expandable calculations with integers (HO)
   ifpdf.sty    2011/01/30 v2.3 Provides the ifpdf switch (HO)
etexcmds.sty    2011/02/16 v1.5 Avoid name clashes with e-TeX commands (HO)
kvsetkeys.sty    2012/04/25 v1.16 Key value parser (HO)
kvdefinekeys.sty    2011/04/07 v1.3 Define keys (HO)
pdftexcmds.sty    2011/11/29 v0.20 Utility functions of pdfTeX for LuaTeX
(HO)
pdfescape.sty    2012/07/29 v1.14 Implements pdfTeX's escape features (HO)
bigintcalc.sty    2012/04/08 v1.3 Expandable calculations on big integers
(HO)
  bitset.sty    2011/01/30 v1.1 Handle bit-vector datatype (HO)
uniquecounter.sty    2012/07/25 v1.3 Provide unlimited unique counter (HO)
 auxhook.sty    2011/03/04 v1.3 Hooks for auxiliary files (HO)
letltxmacro.sty    2010/09/02 v1.4 Let assignment for LaTeX macros (HO)
 hopatch.sty    2012/05/28 v1.2 Wrapper for package hooks (HO)
xcolor-patch.sty    2011/01/30 xcolor patch
atveryend.sty    2011/06/30 v1.8 Hooks at the very end of document (HO)
atbegshi.sty    2012/07/20 v1.17 At begin shipout hook (HO)
refcount.sty    2011/10/16 v3.4 Data extraction from label references (HO)
 hycolor.sty    2011/01/30 v1.7 Color options for hyperref/bookmark (HO)
 ifxetex.sty    2010/09/12 v0.6 Provides ifxetex conditional
kvoptions.sty    2011/06/30 v3.11 Key value format for package options (HO)
  pd1enc.def    2012/07/31 v6.82x Hyperref: PDFDocEncoding definition (HO)
hyperref.cfg    2002/06/06 v1.2 hyperref configuration of TeXLive
     url.sty    2006/04/12  ver 3.3  Verb mode for urls, etc.
 hpdftex.def    2012/07/31 v6.82x Hyperref driver for pdfTeX
rerunfilecheck.sty    2011/04/15 v1.7 Rerun checks for auxiliary files (HO)
rerunfilecheck.cfg    2011/04/15 Default configuration
supp-pdf.mkii
epstopdf-base.sty    2010/02/09 v2.5 Base part for package epstopdf
  grfext.sty    2010/08/19 v1.1 Manage graphics extensions (HO)
epstopdf-sys.cfg    2010/07/13 v1.3 Configuration of (r)epstopdf for TeX
Live
 nameref.sty    2012/07/31 v2.42 Cross-referencing by name of section
gettitlestring.sty    2010/12/03 v1.4 Cleanup title references (HO)

(some of my bundle packages are newer than CTAN, but I do not see
that this is related to the problem.)

Yours sincerely
  Heiko Oberdiek

From P.Taylor at rhul.ac.uk  Thu Aug  2 14:28:04 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Thu, 2 Aug 2012 13:28:04 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CADtfNzLBDPf3NsvyNonmWQBx_3jFVDZ1RZb-JXzy2xFcnKzvUw@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <CADtfNzLBDPf3NsvyNonmWQBx_3jFVDZ1RZb-JXzy2xFcnKzvUw@mail.gmail.com>
Message-ID: <501A7254.5080508@Rhul.Ac.Uk>



T T wrote:

> On 2 August 2012 10:45, Philip TAYLOR <P.Taylor at rhul.ac.uk>  wrote:
>>
>> it is the responsibility of the installer to behave correctly in
>> the presence of such protection
>
> No, it is the responsibility of the AV not to screw with legitimate
> file access by applications.

/Quot homines, tot sententi?/.

From Angelo.Graziosi at roma1.infn.it  Thu Aug  2 15:26:02 2012
From: Angelo.Graziosi at roma1.infn.it (Angelo Graziosi)
Date: Thu, 2 Aug 2012 15:26:02 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
Message-ID: <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>


Heiko Oberdiek wrote:

> Please specify the problem. What error message, ...?

========================================================================
$ latexmk -pdf test_subfig
Latexmk: This is Latexmk, John Collins, 30 March 2012, version: 4.31.
**** Report bugs etc to John Collins <collins at phys.psu.edu>. ****
Latexmk: applying rule 'pdflatex'...
Rule 'pdflatex': Rules & subrules not known to be previously run:
    pdflatex
Rule 'pdflatex': The following rules & subrules became out-of-date:
       'pdflatex'
------------
Run number 1 of rule 'pdflatex'
------------
------------
Running 'pdflatex  -recorder  "test_subfig.tex"'
------------
This is pdfTeX, Version 3.1415926-2.4-1.40.13 (TeX Live 2012)
  restricted \write18 enabled.
entering extended mode
(./test_subfig.tex
LaTeX2e <2011/06/27>
Babel <v3.8m> and hyphenation patterns for english, dumylang, 
nohyphenation, ge
rman-x-2012-05-30, ngerman-x-2012-05-30, afrikaans, ancientgreek, ibycus, 
arabi
c, armenian, basque, bulgarian, catalan, pinyin, coptic, croatian, czech, 
danis
h, dutch, ukenglish, usenglishmax, esperanto, estonian, ethiopic, farsi, 
finnis
h, french, friulan, galician, german, ngerman, swissgerman, monogreek, 
greek, h
ungarian, icelandic, assamese, bengali, gujarati, hindi, kannada, 
malayalam, ma
rathi, oriya, panjabi, tamil, telugu, indonesian, interlingua, irish, 
italian,
kurmanji, latin, latvian, lithuanian, mongolian, mongolianlmc, bokmal, 
nynorsk,
  polish, portuguese, romanian, romansh, russian, sanskrit, serbian, 
serbianc, s
lovak, slovenian, spanish, swedish, turkish, turkmen, ukrainian, 
uppersorbian,
welsh, loaded.
(/usr/local/texlive/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(/usr/local/texlive/texmf-dist/tex/latex/base/size12.clo))
(/usr/local/texlive/texmf-dist/tex/latex/graphics/graphicx.sty
(/usr/local/texlive/texmf-dist/tex/latex/graphics/keyval.sty)
(/usr/local/texlive/texmf-dist/tex/latex/graphics/graphics.sty
(/usr/local/texlive/texmf-dist/tex/latex/graphics/trig.sty)
(/usr/local/texlive/texmf-dist/tex/latex/latexconfig/graphics.cfg)
(/usr/local/texlive/texmf-dist/tex/latex/pdftex-def/pdftex.def
(/usr/local/texlive/texmf-dist/tex/generic/oberdiek/infwarerr.sty)
(/usr/local/texlive/texmf-dist/tex/generic/oberdiek/ltxcmds.sty))))
(/usr/local/texlive/texmf-dist/tex/latex/subfig/subfig.sty
(/usr/local/texlive/texmf-dist/tex/latex/caption/caption.sty
(/usr/local/texlive/texmf-dist/tex/latex/caption/caption3.sty)))
(/usr/local/texlive/texmf-dist/tex/latex/hyperref/hyperref.sty
(/usr/local/texlive/texmf-dist/tex/generic/oberdiek/hobsub-hyperref.sty
(/usr/local/texlive/texmf-dist/tex/generic/oberdiek/hobsub-generic.sty))
(/usr/local/texlive/texmf-dist/tex/generic/ifxetex/ifxetex.sty)
(/usr/local/texlive/texmf-dist/tex/latex/oberdiek/auxhook.sty)
(/usr/local/texlive/texmf-dist/tex/latex/oberdiek/kvoptions.sty)
(/usr/local/texlive/texmf-dist/tex/latex/hyperref/pd1enc.def)
(/usr/local/texlive/texmf-dist/tex/latex/latexconfig/hyperref.cfg)
(/usr/local/texlive/texmf-dist/tex/latex/url/url.sty))

Package hyperref Message: Driver (autodetected): hpdftex.

(/usr/local/texlive/texmf-dist/tex/latex/hyperref/hpdftex.def
(/usr/local/texlive/texmf-dist/tex/latex/oberdiek/rerunfilecheck.sty))
(./test_subfig.aux)
(/usr/local/texlive/texmf-dist/tex/context/base/supp-pdf.mkii
[Loading MPS to PDF converter (version 2006.09.02).]
) (/usr/local/texlive/texmf-dist/tex/latex/oberdiek/epstopdf-base.sty
(/usr/local/texlive/texmf-dist/tex/latex/oberdiek/grfext.sty)
(/usr/local/texlive/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg))
(/usr/local/texlive/texmf-dist/tex/latex/hyperref/nameref.sty
(/usr/local/texlive/texmf-dist/tex/generic/oberdiek/gettitlestring.sty))
<foo.pdf, id=4, 114.4275pt x 78.2925pt> <use foo.pdf>
! Undefined control sequence.
<recently read> \strip at period

l.18   \includegraphics{foo}}

?
========================================================================

It works with TL2011 and TL2012 just released.

I did "tlmgr update ..." etc. this morning from the main repo:

   ftp://ftp.tug.org/texlive/tlnet/


I have tested on Mac OS X and on GNU/Linux Fedora 16 with the same 
results.

I have rduced to that test case a more complex document.


Ciao,
Angelo.

From heiko.oberdiek at googlemail.com  Thu Aug  2 18:45:31 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Thu, 2 Aug 2012 18:45:31 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
Message-ID: <20120802164531.GA6836@oberdiek.my-fqdn.de>

On Thu, Aug 02, 2012 at 03:26:02PM +0200, Angelo Graziosi wrote:

> <recently read> \strip at period

That's already fixed in the latest nameref by readding the definition
for a now unused macro. It is always risky for packages to
use the internals of others.

Yours sincerely
  Heiko Oberdiek

From Angelo.Graziosi at roma1.infn.it  Thu Aug  2 22:35:44 2012
From: Angelo.Graziosi at roma1.infn.it (Angelo Graziosi)
Date: Thu, 2 Aug 2012 22:35:44 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
Message-ID: <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>


Heiko Oberdiek wrote:

> On Thu, Aug 02, 2012 at 03:26:02PM +0200, Angelo Graziosi wrote:
>
>> <recently read> \strip at period
>
> That's already fixed in the latest nameref by readding the definition
> for a now unused macro. It is always risky for packages to
> use the internals of others.

What do you mean? Should I wait the next update from repository? or what 
else?

Thanks,
  Angelo.

From sdc18 at pitt.edu  Thu Aug  2 14:34:43 2012
From: sdc18 at pitt.edu (Cochran, Steven Douglas)
Date: Thu, 2 Aug 2012 08:34:43 -0400
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
Message-ID: <06CA43679C38694C8929E96964344FCE128F76C64A@PITT-EXCH-13.univ.pitt.edu>

Dear Angelo,

I am no longer maintaining the subfigure or subfig packages.  A couple of years ago, I turned this over to Vafa Khalighi, but just checking, I note that he no longer is maintaining this package either.  It appears that there has been a recent change that affects the operation of this package; and I am afraid that I don't really have a good solution for you.  I suggest that, if you do not hear from any of the others that you have contacted, that you consider switching to use the subcaption portion (or companion package) of Axel Sommerfeldt's caption package as it  provides a similar service and is actively maintained.

Sorry that I cannot be of more help.

	Best regards,
	Steve

Steven Douglas Cochran, Ph.D.
Senior Systems Analyst,  University of Pittsburgh
SVC HS Information Technology,  Scaife Hall, Suite M200
3550 Terrace Street,  Pittsburgh, PA 15261
Voice: +1 (412) 624-9282;  FAX: +1 (412) 648-8865


-----Original Message-----
From: Angelo Graziosi [mailto:Angelo.Graziosi at roma1.infn.it] 
Sent: Thursday, August 02, 2012 7:07 AM
To: tex-live at tug.org
Cc: heiko.oberdiek at googlemail.com; sebastian.rahtz at oucs.ox.ac.uk; cochran at ieee.org; sdc at cs.cmu.edu
Subject: Problem with subfig and/or hyperref...


The attached test case does not build any more after today upgrade of TL 2012.

It builds fine on TL2011 and on TL2012 just released (say July 14, 2012).

With today TL2012 it builds *ONLY* IF one comments out

\label{foo}

OR

\usepackage{hyperref}


Ciao,
Angelo.


From reinhard.kotucha at web.de  Thu Aug  2 23:50:40 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 2 Aug 2012 23:50:40 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501A4C44.5060409@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
Message-ID: <20506.63024.291081.39754@zaphod.ms25.net>

On 2012-08-02 at 10:45:40 +0100, Philip TAYLOR wrote:

 > Reinhard Kotucha wrote:
 > 
 > > If you're using a virus scanner, turn it off while updating TeX Live.
 > 
 > Not a valid solution, Reinhard : no Windows user in his or her
 > right mind should voluntarily turn off virus protection; it is the
 > responsibility of the installer to behave correctly in the presence
 > of such protection, not require that it be turned off, temporarily
 > of otherwise.
 
See below.

 > For what it's worth, I run three anti-virus and anti-malware
 > products concurrently on all my machines, and have /never/ had a
 > problem with a TeX Live install as a result of any or all of them.
 > Of course I have not yet installed TeX Live 2012 (far too early in
 > its release cycle, IMHO) but if TL2012 has problems with concurrent
 > file access that did not exist in earlier versions, then this would
 > represent a major retrograde step.

First of all, the problem is independent of the TeX Live release.  It
solely occurs on Windows, all other platforms supported by TeX Live
allow to run more than one process at the same time.

There are different types of AV programs.  Some are scanning files on
the disk, others hook into system calls and surveil read/write
operations.

Only the first category is problematic because file locking is
involved.  On the other hand it probably takes hours to scan the whole
disk, hence viruses are not detected immediately.  Then it doesn't hurt
if the scanner is turned off for a while.

AV programs which hook into system calls don't need to lock any files
and thus don't have to be turned off.  Their advantage is that they
can detect malicious files while they are created or used and can
react immediately.

There were many reports regarding the file locking problem in the past
and I don't remember any case where disabling the virus scanner didn't
help.  If people report this problem in the future, we should ask them
which AV software they are using and maintain a list.  

There are certainly many AV programs available for free which don't
lock files.  Last year I installed TeX Live under Windows and AVIRA
didn't cause any trouble.  It doesn't necessarily mean that it doesn't
lock files, maybe it was busy scanning other parts of the disk during
installation by chance.  And I don't want to ask users to replace
their AV software unless I definitely know that what they have
installed is the culprit.  Therefore I think it's better to maintain a
blacklist rather than a whitelist.

On the other hand, if someone is willing to test AV software
thoroughly, it's feasible to maintain a whitelist too. 

Phil, you also said:

 > Quot homines, tot sententi?

Sure, but if a program running in the background with higher
privileges prevents other programs from creating/modifying files,
it's a technical problem, not a matter of taste.  You can ask as many
smartasses as you want and everyone has a different opinion indeed.
It would be more helpful if one of those smartasses comes up with a
technical solution rather than telling us his opinion.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From heiko.oberdiek at googlemail.com  Fri Aug  3 00:14:17 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 3 Aug 2012 00:14:17 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
Message-ID: <20120802221417.GA8264@oberdiek.my-fqdn.de>

On Thu, Aug 02, 2012 at 10:35:44PM +0200, Angelo Graziosi wrote:

> Heiko Oberdiek wrote:
> 
> >On Thu, Aug 02, 2012 at 03:26:02PM +0200, Angelo Graziosi wrote:
> >
> >><recently read> \strip at period
> >
> >That's already fixed in the latest nameref by readding the definition
> >for a now unused macro. It is always risky for packages to
> >use the internals of others.
> 
> What do you mean? Should I wait the next update from repository? or
> what else?

Since three days hyperref 2012/07/31 v6.82x is uptodate at the TUG server
and at the Puszcza server (see README for details).
CTAN is way out of date 2012/05/13 v6.82q. TeX Live has 2012/07/29 v6.82v.
I will notify the CTAN managers and (Mr.) TeX Live was busy with
eating the remaining backlog.

Yours sincerely
  Heiko Oberdiek

From P.Taylor at rhul.ac.uk  Thu Aug  2 23:54:35 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Thu, 2 Aug 2012 22:54:35 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <20506.63024.291081.39754@zaphod.ms25.net>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
Message-ID: <501AF71B.8030201@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> Sure, but if a program running in the background with higher
> privileges prevents other programs from creating/modifying files,
> it's a technical problem, not a matter of taste.  You can ask as many
> smartasses as you want and everyone has a different opinion indeed.
> It would be more helpful if one of those smartasses comes up with a
> technical solution rather than telling us his opinion.

As Yury has already pointed out, the preferred solution if
an update cannot replace a file because it is currently in
use (by a virus scanner, or anything else) is to queue
a boot-time job to replace the file and then advise the
user that a re-boot will be needed.

** Phil.

From zdenek.wagner at gmail.com  Fri Aug  3 01:11:09 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Aug 2012 01:11:09 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501AF71B.8030201@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
Message-ID: <CAC1phyaJM9AU4QabJnFRQ2b7bTP3P8+ToWOa36MJC5fPp-PscQ@mail.gmail.com>

2012/8/2 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>
> Reinhard Kotucha wrote:
>
>> Sure, but if a program running in the background with higher
>> privileges prevents other programs from creating/modifying files,
>> it's a technical problem, not a matter of taste.  You can ask as many
>> smartasses as you want and everyone has a different opinion indeed.
>> It would be more helpful if one of those smartasses comes up with a
>> technical solution rather than telling us his opinion.
>
>
> As Yury has already pointed out, the preferred solution if
> an update cannot replace a file because it is currently in
> use (by a virus scanner, or anything else) is to queue
> a boot-time job to replace the file and then advise the
> user that a re-boot will be needed.
>
> ** Phil.

Would it help? I would assume that the scanner starts earlier and it
may (or may not) lock the same file. If the boot-time queue starts
earlier, then the scanner is useless because this is the perfect way
how viruses may enter the system


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From reinhard.kotucha at web.de  Fri Aug  3 02:23:08 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 3 Aug 2012 02:23:08 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501AF71B.8030201@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
Message-ID: <20507.6636.504995.738875@zaphod.ms25.net>

On 2012-08-02 at 22:54:35 +0100, Philip TAYLOR wrote:

 > Reinhard Kotucha wrote:
 > 
 > > Sure, but if a program running in the background with higher
 > > privileges prevents other programs from creating/modifying files,
 > > it's a technical problem, not a matter of taste.  You can ask as
 > > many smartasses as you want and everyone has a different opinion
 > > indeed.  It would be more helpful if one of those smartasses
 > > comes up with a technical solution rather than telling us his
 > > opinion.
 > 
 > As Yury has already pointed out, the preferred solution if
 > an update cannot replace a file because it is currently in
 > use (by a virus scanner, or anything else) is to queue
 > a boot-time job to replace the file and then advise the
 > user that a re-boot will be needed.

Honestly, if it's necessary to re-boot the system whenever a file
cannot be written due to braindead file system, then the operating
should initialise the re-boot automatically.

I mentioned the smart-asses already.  Is there a directory on Windows
which doesn't interfere with virus scanners?  If true, it's certainly
feasible to install files there and copy them over when tlmgr is
invoked after a re-boot.  If there is a directory which doesn't suffer
from file locking, we could as well install TeX Live there by default.

Phil, do you really believe that all the deficiencies of Windows can
be solved by re-booting the system?  Why, on earth, should one re-boot
at all if the contents of a file is the same before and after a
re-boot?  If a re-boot helps at all, it means that Windows itself is
unstable.

As I said before, personal opinions are not helpful, what we need are
technical solutions.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From dhalperi at cs.washington.edu  Fri Aug  3 09:07:46 2012
From: dhalperi at cs.washington.edu (Daniel Halperin)
Date: Fri, 3 Aug 2012 00:07:46 -0700
Subject: [tex-live] hyperref psdextra compile issue
Message-ID: <CALSq=Banz6DNQ_+d4yw5fKP8xxT0Vc7jT97ZDtFXXg3=70t5rQ@mail.gmail.com>

Hi everyone,

I'm on MacTeX 2012 and with a recent update my docs will no longer compile,
complaining about hyperref. I found this very recent thread:
http://tug.org/pipermail/tex-live/2012-August/032055.html; upgrading to the
latest 6.82x fixed the problems for one of my documents.

I've run into a different problem with another document, as follows:

(/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/psdextra.def
! Undefined control sequence.
l.34 \Hy
        @VersionCheck{psdextra.def}
?

! LaTeX Error: Missing \begin{document}.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...

l.34 \Hy@
         VersionCheck{psdextra.def}
?

I have narrowed this problem down to the unicode option in \hypersetup.
When that's disabled, everything compiles fine.

Do you have any ideas on how to fix this?

Thanks so much!
Dan

(please cc me on replies, as I'm not subscribed.)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20120803/d21d6d22/attachment.html>

From t34www at googlemail.com  Fri Aug  3 09:19:49 2012
From: t34www at googlemail.com (T T)
Date: Fri, 3 Aug 2012 08:19:49 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501AF71B.8030201@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
Message-ID: <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>

On 2 August 2012 22:54, Philip TAYLOR <P.Taylor at rhul.ac.uk> wrote:
>
> As Yury has already pointed out, the preferred solution if
> an update cannot replace a file because it is currently in
> use (by a virus scanner, or anything else) is to queue
> a boot-time job to replace the file and then advise the
> user that a re-boot will be needed.

Yeah, and then just keep rebooting for each random file that failed?
I wouldn't call this the preferred solution.

Anyway, based on the error message, I think I understand the root
cause of this particular problem:

http://www.tug.org/pipermail/tex-live/2011-August/030024.html

The fix I committed yesterday should hopefully make it go away.

Cheers,

Tomek

From P.Taylor at rhul.ac.uk  Fri Aug  3 10:06:06 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 3 Aug 2012 09:06:06 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <20507.6636.504995.738875@zaphod.ms25.net>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net> <501AF71B.8030201@Rhul.Ac.Uk>
 <20507.6636.504995.738875@zaphod.ms25.net>
Message-ID: <501B866E.4040309@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> Honestly, if it's necessary to re-boot the system whenever a file
> cannot be written due to braindead file system, then the operating
> should initialise the re-boot automatically.

The user may not want his or her system re-booted at that
particular moment in time; that is why it must be an option.
And it is not "whenever a file ..."; it is "whenever one or
more files ...", otherwise the process could take forever
(or longer).

> Phil, do you really believe that all the deficiencies of Windows can
> be solved by re-booting the system?

Perhaps if you could enumerate "all of the deficiences" of Windows
I might be better placed to answer the question; I use Windows,
by choice, all day, every day, and although there are one or two
minor quibbles, in general it offers me a first-class service.

> Why, on earth, should one re-boot at all if the contents of a file is
> the same before and after a re-boot?

If they are the same before and after then the file has not
been updated and no re-boot is needed.

> If a re-boot helps at all, it means that Windows itself is unstable.

Do you understand the word "unstable", Reinhard ?  It has no
connection with what we are discussing.  "Unstable" implies that
the system crashes for no discernible reason.

> As I said before, personal opinions are not helpful, what we need
> are technical solutions.

If personal opinions are not helpful, then you are at liberty
not to offer them.  Just as you are at liberty to refrain from
using the word "smartarse" in two consecutive messages without
any attempt to explain or justify your usage.

One final point : are you aware that the TeX Live installer is the
/only/ installer to encounter this problem; all other Windows
installes quite happily co-exist with the wide range of anti-
virus programs that are in use, and queue an optional re-boot
if and when needed.  If every other Windows installer in the
world can manage this, does this not lead you to believe that
the problem may lay in the TeX Live installer rather than in
the anti-virus program and/or in Microsoft Windows ?

** Phil.
-- 
MIL-05991/237/2012-B : Any loss of data or other computer malfunction
resulting directly or indirectly from the use of Linux will be regarded
as a self-inflicted injury and treated accordingly.  Users of Mac OS/X
will be assumed to be insane.  You have been warned ...

From heiko.oberdiek at googlemail.com  Fri Aug  3 11:08:18 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 3 Aug 2012 11:08:18 +0200
Subject: [tex-live] hyperref psdextra compile issue
In-Reply-To: <CALSq=Banz6DNQ_+d4yw5fKP8xxT0Vc7jT97ZDtFXXg3=70t5rQ@mail.gmail.com>
References: <CALSq=Banz6DNQ_+d4yw5fKP8xxT0Vc7jT97ZDtFXXg3=70t5rQ@mail.gmail.com>
Message-ID: <20120803090818.GA10356@oberdiek.my-fqdn.de>

On Fri, Aug 03, 2012 at 12:07:46AM -0700, Daniel Halperin wrote:

> Hi everyone,
> 
> I'm on MacTeX 2012 and with a recent update my docs will no longer compile,
> complaining about hyperref. I found this very recent thread:
> http://tug.org/pipermail/tex-live/2012-August/032055.html; upgrading to the
> latest 6.82x fixed the problems for one of my documents.
> 
> I've run into a different problem with another document, as follows:
> 
> (/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/psdextra.def
> ! Undefined control sequence.
> l.34 \Hy
>         @VersionCheck{psdextra.def}
> ?

Help, I am already suffering from mental catcoditis.
It will be fixed.

> I have narrowed this problem down to the unicode option in \hypersetup.
> When that's disabled, everything compiles fine.

Thanks, another bug, the file should only be loaded if option `psdextrsa'
is given. (The option allows to use \alpha, \geq, ... directly
instead of \textalpha, \textgeq, ... for bookmarks with a slight
runtime penalty).

The fixes will be in v6.82y, probably today.

Yours sincerely
  Heiko Oberdiek

From P.Taylor at rhul.ac.uk  Fri Aug  3 11:14:53 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 3 Aug 2012 10:14:53 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net> <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
Message-ID: <501B968D.9010706@Rhul.Ac.Uk>

I have looked at the URL that Tomek cites, and of course
being (I think) PERL, it is singularly impenetrable, but
/if/ I have understood it even moderately correctly I am
unclear as to one point (well, more than one really, but
they all refer to the same central theme) --

1) Why does the installer seek to alter the "last-modified" time ?

2) Why, if this step can be safely omitted under Windows, can it
	not be safely omitted for all operating systems ?

** Phil.
--------

T T wrote:

> Anyway, based on the error message, I think I understand the root
> cause of this particular problem:
>
> http://www.tug.org/pipermail/tex-live/2011-August/030024.html

From t34www at googlemail.com  Fri Aug  3 12:09:27 2012
From: t34www at googlemail.com (T T)
Date: Fri, 3 Aug 2012 11:09:27 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501B968D.9010706@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
Message-ID: <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>

On 3 August 2012 10:14, Philip TAYLOR <P.Taylor at rhul.ac.uk> wrote:
>
> 1) Why does the installer seek to alter the "last-modified" time ?

It's what tar utility does by default.  No one knew this might be a
problem on Windows.

>
> 2) Why, if this step can be safely omitted under Windows, can it
>         not be safely omitted for all operating systems ?

Why change sane defaults on other systems, when issues are only on Windows?

Cheers,

Tomek

From P.Taylor at rhul.ac.uk  Fri Aug  3 10:10:07 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 3 Aug 2012 09:10:07 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net> <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
Message-ID: <501B875F.1080201@Rhul.Ac.Uk>



T T wrote:

> Yeah, and then just keep rebooting for each random file that failed?
> I wouldn't call this the preferred solution.

No, Tomek : please see my immediately preceding answer to
Reinhard.  /One/ re-boot at most is needed, which updates
all files that could not be updated because they were
in use at the time.

> Anyway, based on the error message, I think I understand the root
> cause of this particular problem:
>
> http://www.tug.org/pipermail/tex-live/2011-August/030024.html
>
> The fix I committed yesterday should hopefully make it go away.

That is excellent news : thank you for your work on this.
** Phil.
-- 
MIL-05991/237/2012-B : Any loss of data or other computer malfunction
resulting directly or indirectly from the use of Linux will be regarded
as a self-inflicted injury and treated accordingly.  Users of Mac OS/X
will be assumed to be insane.  You have been warned ...

From zdenek.wagner at gmail.com  Fri Aug  3 13:12:30 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Aug 2012 13:12:30 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501B875F.1080201@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B875F.1080201@Rhul.Ac.Uk>
Message-ID: <CAC1phyaXBwuH9fUv8Sztw2_dvyc1bhsH_LiHSvQh8hpUytOS0g@mail.gmail.com>

2012/8/3 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>
> T T wrote:
>
>> Yeah, and then just keep rebooting for each random file that failed?
>> I wouldn't call this the preferred solution.
>
>
> No, Tomek : please see my immediately preceding answer to
> Reinhard.  /One/ re-boot at most is needed, which updates
> all files that could not be updated because they were
> in use at the time.
>
If the antivirus does not look at files installed during reboot, how
can you prevent virus infection. Knowing that, if I were a virus
developer, I would schedule virus intrusion to the reboot time in
order not to be caught by antivirus. If I were an antivirus SW
developer, I would try to ensure that antivirus is the first running
service after local disks are accessible, before network becomes
available, before any boot actions are executed. (In my Linux computer
firewall starts earlier than the network.)
>
>> Anyway, based on the error message, I think I understand the root
>> cause of this particular problem:
>>
>> http://www.tug.org/pipermail/tex-live/2011-August/030024.html
>>
>> The fix I committed yesterday should hopefully make it go away.
>
>
> That is excellent news : thank you for your work on this.
>
> ** Phil.
> --
> MIL-05991/237/2012-B : Any loss of data or other computer malfunction
> resulting directly or indirectly from the use of Linux will be regarded
> as a self-inflicted injury and treated accordingly.  Users of Mac OS/X
> will be assumed to be insane.  You have been warned ...



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at rhul.ac.uk  Fri Aug  3 12:43:12 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 3 Aug 2012 11:43:12 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net> <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
Message-ID: <501BAB40.90302@Rhul.Ac.Uk>



T T wrote:

>> 2) Why, if this step can be safely omitted under Windows, can it
>>          not be safely omitted for all operating systems ?
>
> Why change sane defaults on other systems, when issues are only on Windows?

I don't think that really answers my question, Tomek :
if it is not necessary to modify the "last modified" date
on Windows, why is it necessary to modify it on any other
operating system ?

** Phil.
-- 
MIL-05991/237/2012-B : Any loss of data or other computer malfunction 
resulting directly or indirectly from the use of Linux will be regarded 
as a self-inflicted injury and treated accordingly.  Users of Mac OS/X 
will be assumed to be insane.  You have been warned ...

From Angelo.Graziosi at roma1.infn.it  Fri Aug  3 13:31:15 2012
From: Angelo.Graziosi at roma1.infn.it (Angelo Graziosi)
Date: Fri, 3 Aug 2012 13:31:15 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
Message-ID: <alpine.LRH.2.00.1208031324320.28120@login2.roma1.infn.it>


Heiko Oberdiek wrote:

> Since three days hyperref 2012/07/31 v6.82x is uptodate at the TUG 
> server and at the Puszcza server (see README for details). CTAN is way
> out of date 2012/05/13 v6.82q. TeX Live has 2012/07/29 v6.82v. I will 
> notify the CTAN managers and (Mr.) TeX Live was busy with eating the 
> remaining backlog.

> The fixes will be in v6.82y, probably today.

I have updated and the test case still fails.. Indeed hyperref.pdf says it 
is v6.82w, instead, if I understood correctly, the fixes are in v6.82x and 
v6.82y


> Help, I am already suffering from mental catcoditis.

Don't worry... :)

we can wait... :-)

The most important thing is that the problem has been understood... :)


All the Best,
  Angelo.

From zdenek.wagner at gmail.com  Fri Aug  3 14:08:11 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Aug 2012 14:08:11 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501BAB40.90302@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
Message-ID: <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>

2012/8/3 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>
> T T wrote:
>
>>> 2) Why, if this step can be safely omitted under Windows, can it
>>>          not be safely omitted for all operating systems ?
>>
>>
>> Why change sane defaults on other systems, when issues are only on
>> Windows?
>
>
> I don't think that really answers my question, Tomek :
> if it is not necessary to modify the "last modified" date
> on Windows, why is it necessary to modify it on any other
> operating system ?
>
There is a good reason. People usually routinely make backup. To copy
the whole disk every day (or in some companies several times a day)
would be very expensive, thus the backup is incremental and it is
necessary to know what was changed from the last backup time. The
archive bit is not available in most file systems while the
last-modified time is. As a matter of fact, in Linux it is not
modified by tar but by the file system kernel drivers and the user
cannot change it. The last modified time is changed even if only file
permissions are modified and the file contents remains unchanged, thus
if the file is damaged and restored from a backup copy, it will be
restored with the correct file permissions. AFAIK the archive bit is
also automatically reset if a file is modified.

In a user program it is not easy to find out what features are offered
by the underlying file system. Thus even on Windows TL can be
installed on a file system where the archive bit is unsupported. I do
have Windows (old XP in a virtual machine) and I can connect a network
drive from a Linux computer with the EXT3 file system. Since I
sometimes have to show someone how TeX Live works in Windows, I
install Windows binaries in Linux and use TL in Windows via that
network drive. It is nothing special, Masaryk University in Brno does
the same, they have on Unix installation with binaries for al
platforms shared via network with all computers. Thus in Windows there
may be cases when you can rely on last-modified only, not on the
archive bit.

>
> ** Phil.
> --
> MIL-05991/237/2012-B : Any loss of data or other computer malfunction
> resulting directly or indirectly from the use of Linux will be regarded as a
> self-inflicted injury and treated accordingly.  Users of Mac OS/X will be
> assumed to be insane.  You have been warned ...



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at rhul.ac.uk  Fri Aug  3 14:23:35 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 3 Aug 2012 13:23:35 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net> <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
 <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
Message-ID: <501BC2C7.8070405@Rhul.Ac.Uk>



Zdenek Wagner wrote:
 > There is a good reason. People usually routinely make backup. To copy
 > the whole disk every day (or in some companies several times a day)
 > would be very expensive, thus the backup is incremental and it is
 > necessary to know what was changed from the last backup time.

Indeed.  That last part is very clear.  And when the file is created
by TAR, its "last-modified" date will be set to the time of
its creation, will it not, since it has not in fact been modified
in its new home.  If this takes place automatically, why is it
necessary to then explicitly set the "last-modified" date ?  This
is the part that I am clearly failing to understand.

** Phil.

From zdenek.wagner at gmail.com  Fri Aug  3 14:32:36 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Aug 2012 14:32:36 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501BC2C7.8070405@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
 <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
 <501BC2C7.8070405@Rhul.Ac.Uk>
Message-ID: <CAC1phyZ2=yF_wk06qfu9eE8BMwUP0ofMNW3y6nTdZm21ggS_Tw@mail.gmail.com>

2012/8/3 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>
> Zdenek Wagner wrote:
>> There is a good reason. People usually routinely make backup. To copy
>> the whole disk every day (or in some companies several times a day)
>> would be very expensive, thus the backup is incremental and it is
>> necessary to know what was changed from the last backup time.
>
> Indeed.  That last part is very clear.  And when the file is created
> by TAR, its "last-modified" date will be set to the time of
> its creation, will it not, since it has not in fact been modified
> in its new home.  If this takes place automatically, why is it
> necessary to then explicitly set the "last-modified" date ?  This
> is the part that I am clearly failing to understand.
>
I cannot answer. I switched from DOS+Windows 3.0 to OS/2 in 1994, thus
I do not know the Windows specific details. Maybe I have old notes how
it worked on DOS but most probably, if I still keep them, they may be
on an old 5 1/4" diskette for which I do not have a drive any longer.

> ** Phil.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From zdenek.wagner at gmail.com  Fri Aug  3 14:49:14 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Aug 2012 14:49:14 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501BC639.10800@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
 <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
 <501BC2C7.8070405@Rhul.Ac.Uk>
 <CAC1phyZ2=yF_wk06qfu9eE8BMwUP0ofMNW3y6nTdZm21ggS_Tw@mail.gmail.com>
 <501BC639.10800@Rhul.Ac.Uk>
Message-ID: <CAC1phyYe3cRt9tesu25mS+=9tMLo5+aNT=62rKW0P=N9Nhu1Nw@mail.gmail.com>

2012/8/3 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>
> Zdenek Wagner wrote:
>
>> I cannot answer. I switched from DOS+Windows 3.0 to OS/2 in 1994, thus
>> I do not know the Windows specific details. Maybe I have old notes how
>> it worked on DOS but most probably, if I still keep them, they may be
>> on an old 5 1/4" diskette for which I do not have a drive any longer.
>
>
> OK, but it was not a Windows question (particularly as we already
> know from Tomek that that step may be omitted on Windows without
> any obvious harm).  It is a more general question, applicable to
> any operating system.  Q1 :  When TAR creates a file, does it set
> "last modified" to "time created", as it has not yet been modified.

In Linux it cannot, last-modified is set by the file system driver
whenever the file is modified and a program cannot change it.

> And Q2 :  If so, why is it then necessary to adjust "last modified"
> as a separate step ?
>
If tar writes the file (at least in Linux), last modified and created
are set automatically to the same value, ie to the time when it was
written (more precisely to the time when the file was closed). In the
next step the time created is set to the time when the original file
was created (that time is written in the tar archive). When the time
created is changed, the last modified time is also changed
automatically. The difference may not be easy to understand. In fact
when developing an automatic system requiring network safe atomic
locks and semaphores with recovery after power and network failures it
took me some time to find out why the programs do not work and how to
do it properly.

> ** Phil.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From zdenek.wagner at gmail.com  Fri Aug  3 14:58:47 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 3 Aug 2012 14:58:47 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501BC9D6.6050109@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
 <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
 <501BC2C7.8070405@Rhul.Ac.Uk>
 <CAC1phyZ2=yF_wk06qfu9eE8BMwUP0ofMNW3y6nTdZm21ggS_Tw@mail.gmail.com>
 <501BC639.10800@Rhul.Ac.Uk>
 <CAC1phyYe3cRt9tesu25mS+=9tMLo5+aNT=62rKW0P=N9Nhu1Nw@mail.gmail.com>
 <501BC9D6.6050109@Rhul.Ac.Uk>
Message-ID: <CAC1phyZ0VzaKy4xxcxSCb5=NKNVPsE+_f8gMMO_LDR5uThLLKQ@mail.gmail.com>

2012/8/3 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>
> Zdenek Wagner wrote:
>> If tar writes the file (at least in Linux), last modified and created
>> are set automatically to the same value, ie to the time when it was
>> written (more precisely to the time when the file was closed). In the
>> next step the time created is set to the time when the original file
>> was created (that time is written in the tar archive).
>
> OK, so that is the point that I had until this time failed to appreciate.  I
> can see some logic in it, but unless there is
> already universal acceptance that "time created" is "time
> originally created", not "time created in current location",
> then I would argue that both positions are defensible.  But
> that is neither here nor there : it is the actual behaviour
> of TAR that matter, not its behaviour in an alternative universe.
> All is now clear, but it would be interesting to know if
> (a) there is a switch in TAR to tell it to omit this step; and

Not in GNU version for Linux and OS/2

> (b) whether ZIP behaves in the same way.
>
Yes. All archiving programs I have ever seen do it.

I Unix there is a touch utility that can modify time created. Windows
port exists but there is probably Windows native program with the same
function. It is not difficult to write such a program for Windows.

> ** Phil.



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From P.Taylor at rhul.ac.uk  Fri Aug  3 14:53:42 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 3 Aug 2012 13:53:42 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CAC1phyYe3cRt9tesu25mS+=9tMLo5+aNT=62rKW0P=N9Nhu1Nw@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net> <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
 <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
 <501BC2C7.8070405@Rhul.Ac.Uk>
 <CAC1phyZ2=yF_wk06qfu9eE8BMwUP0ofMNW3y6nTdZm21ggS_Tw@mail.gmail.com>
 <501BC639.10800@Rhul.Ac.Uk>
 <CAC1phyYe3cRt9tesu25mS+=9tMLo5+aNT=62rKW0P=N9Nhu1Nw@mail.gmail.com>
Message-ID: <501BC9D6.6050109@Rhul.Ac.Uk>



Zdenek Wagner wrote:
 > If tar writes the file (at least in Linux), last modified and created
 > are set automatically to the same value, ie to the time when it was
 > written (more precisely to the time when the file was closed). In the
 > next step the time created is set to the time when the original file
 > was created (that time is written in the tar archive).

OK, so that is the point that I had until this time failed to 
appreciate.  I can see some logic in it, but unless there is
already universal acceptance that "time created" is "time
originally created", not "time created in current location",
then I would argue that both positions are defensible.  But
that is neither here nor there : it is the actual behaviour
of TAR that matter, not its behaviour in an alternative universe.
All is now clear, but it would be interesting to know if
(a) there is a switch in TAR to tell it to omit this step; and
(b) whether ZIP behaves in the same way.

** Phil.

From kakuto at fuk.kindai.ac.jp  Fri Aug  3 15:23:48 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 3 Aug 2012 22:23:48 +0900
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CAC1phyZ0VzaKy4xxcxSCb5=NKNVPsE+_f8gMMO_LDR5uThLLKQ@mail.gmail.com>
References: <CAC1phyZ0VzaKy4xxcxSCb5=NKNVPsE+_f8gMMO_LDR5uThLLKQ@mail.gmail.com>
Message-ID: <13440002289764700000e56@sniffer>

Dear Zdenek,

> > All is now clear, but it would be interesting to know if
> > (a) there is a switch in TAR to tell it to omit this step; and
> 
> Not in GNU version for Linux and OS/2

-m option does not extract file modified time.

Best,
Akira


From heiko.oberdiek at googlemail.com  Fri Aug  3 15:02:51 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 3 Aug 2012 15:02:51 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208031324320.28120@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208031324320.28120@login2.roma1.infn.it>
Message-ID: <20120803130251.GA11456@oberdiek.my-fqdn.de>

On Fri, Aug 03, 2012 at 01:31:15PM +0200, Angelo Graziosi wrote:

> Heiko Oberdiek wrote:
> 
> >Since three days hyperref 2012/07/31 v6.82x is uptodate at the TUG
> >server and at the Puszcza server (see README for details). CTAN is
> >way
> >out of date 2012/05/13 v6.82q. TeX Live has 2012/07/29 v6.82v. I
> >will notify the CTAN managers and (Mr.) TeX Live was busy with
> >eating the remaining backlog.
> 
> >The fixes will be in v6.82y, probably today.
> 
> I have updated and the test case still fails.. Indeed hyperref.pdf
> says it is v6.82w, instead, if I understood correctly, the fixes are
> in v6.82x and v6.82y

The fixes above are not related to the fixes for your case.
Your test case runs fine with me. Have you updated nameref.sty?
Version 2012/07/31 v2.42 reinserts the definition for \strip at period.

> >Help, I am already suffering from mental catcoditis.
> 
> Don't worry... :)
> 
> we can wait... :-)

Too late, I have already uploaded v6.82y two hours ago.

Yours sincerely
  Heiko Oberdiek

From herbs at wideopenwest.com  Fri Aug  3 15:34:48 2012
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Fri, 3 Aug 2012 08:34:48 -0500
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <20120803130251.GA11456@oberdiek.my-fqdn.de>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208031324320.28120@login2.roma1.infn.it>
 <20120803130251.GA11456@oberdiek.my-fqdn.de>
Message-ID: <6B1C93BD-F7E4-4BAB-8CC5-ABA75132B2A8@wideopenwest.com>


On Aug 3, 2012, at 8:02 AM, Heiko Oberdiek wrote:

> On Fri, Aug 03, 2012 at 01:31:15PM +0200, Angelo Graziosi wrote:
> 
>> Heiko Oberdiek wrote:
>> 
>>> Since three days hyperref 2012/07/31 v6.82x is uptodate at the TUG
>>> server and at the Puszcza server (see README for details). CTAN is
>>> way
>>> out of date 2012/05/13 v6.82q. TeX Live has 2012/07/29 v6.82v. I
>>> will notify the CTAN managers and (Mr.) TeX Live was busy with
>>> eating the remaining backlog.
>> 
>>> The fixes will be in v6.82y, probably today.
>> 
>> I have updated and the test case still fails.. Indeed hyperref.pdf
>> says it is v6.82w, instead, if I understood correctly, the fixes are
>> in v6.82x and v6.82y
> 
> The fixes above are not related to the fixes for your case.
> Your test case runs fine with me. Have you updated nameref.sty?
> Version 2012/07/31 v2.42 reinserts the definition for \strip at period.
> ...

Howdy,

The version in a fully updated TeX Live 2012 is still 2012/07/28 v2.41.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)




From P.Taylor at rhul.ac.uk  Fri Aug  3 14:38:17 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 3 Aug 2012 13:38:17 +0100
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <CAC1phyZ2=yF_wk06qfu9eE8BMwUP0ofMNW3y6nTdZm21ggS_Tw@mail.gmail.com>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net> <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net> <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
 <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
 <501BC2C7.8070405@Rhul.Ac.Uk>
 <CAC1phyZ2=yF_wk06qfu9eE8BMwUP0ofMNW3y6nTdZm21ggS_Tw@mail.gmail.com>
Message-ID: <501BC639.10800@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> I cannot answer. I switched from DOS+Windows 3.0 to OS/2 in 1994, thus
> I do not know the Windows specific details. Maybe I have old notes how
> it worked on DOS but most probably, if I still keep them, they may be
> on an old 5 1/4" diskette for which I do not have a drive any longer.

OK, but it was not a Windows question (particularly as we already
know from Tomek that that step may be omitted on Windows without
any obvious harm).  It is a more general question, applicable to
any operating system.  Q1 :  When TAR creates a file, does it set
"last modified" to "time created", as it has not yet been modified.
And Q2 :  If so, why is it then necessary to adjust "last modified"
as a separate step ?

** Phil.

From Angelo.Graziosi at roma1.infn.it  Fri Aug  3 15:47:31 2012
From: Angelo.Graziosi at roma1.infn.it (Angelo Graziosi)
Date: Fri, 3 Aug 2012 15:47:31 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <20120803130251.GA11456@oberdiek.my-fqdn.de>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208031324320.28120@login2.roma1.infn.it>
 <20120803130251.GA11456@oberdiek.my-fqdn.de>
Message-ID: <alpine.LRH.2.00.1208031536540.29465@login2.roma1.infn.it>



On Fri, 3 Aug 2012, Heiko Oberdiek wrote:

> On Fri, Aug 03, 2012 at 01:31:15PM +0200, Angelo Graziosi wrote:
>
>> Heiko Oberdiek wrote:
>>
>>> Since three days hyperref 2012/07/31 v6.82x is uptodate at the TUG
>>> server and at the Puszcza server (see README for details). CTAN is
>>> way
>>> out of date 2012/05/13 v6.82q. TeX Live has 2012/07/29 v6.82v. I
>>> will notify the CTAN managers and (Mr.) TeX Live was busy with
>>> eating the remaining backlog.
>>
>>> The fixes will be in v6.82y, probably today.
>>
>> I have updated and the test case still fails.. Indeed hyperref.pdf
>> says it is v6.82w, instead, if I understood correctly, the fixes are
>> in v6.82x and v6.82y
>
> The fixes above are not related to the fixes for your case.
> Your test case runs fine with me. Have you updated nameref.sty?

I usually do:

rsync -avz --delete tug.org::texlive/tlnet/ ~/work/tlnet_repo/

tlmgr update -list
tlmgr update -self
tlmgr update -all

and the package repository is ~/work/tlnet_repo

This means I am updating from the main repository.. Right?

What should I do, then? It is since 2008 I do updates in that way!

Which package owns nameref.sty?

May you explain the steps I have to do?

TIA,
Angelo.



> Version 2012/07/31 v2.42 reinserts the definition for \strip at period.
>
>>> Help, I am already suffering from mental catcoditis.
>>
>> Don't worry... :)
>>
>> we can wait... :-)
>
> Too late, I have already uploaded v6.82y two hours ago.
>
> Yours sincerely
>  Heiko Oberdiek
>
>

From branning at wildblue.net  Fri Aug  3 14:16:28 2012
From: branning at wildblue.net (Daniel Branning)
Date: Fri, 3 Aug 2012 06:16:28 -0600
Subject: [tex-live] biblatex error
Message-ID: <501BC11C.8020204@wildblue.net>

As of today's package update, I get this error...
...
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex.sty
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex1.sty
(/usr/local/texlive/2012/texmf-dist/tex/latex/logreq/logreq.sty
(/usr/local/texlive/2012/texmf-dist/tex/latex/logreq/logreq.def))
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/blx-compat.def)
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex.def)
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/bbx/authoryear.bbx
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/bbx/standard.bbx))
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/cbx/alphabetic-verb.cbx)
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex.cfg))
! Missing number, treated as zero.
<to be read again>
                    D
l.86

?

... and the last entry in the *.log file is:

Package biblatex Info: Trying to load compatibility code...
Package biblate

Please advise. Thank you.
-daniel

From joseph.wright at morningstar2.co.uk  Fri Aug  3 16:34:50 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Fri, 3 Aug 2012 15:34:50 +0100
Subject: [tex-live] biblatex error
In-Reply-To: <501BC11C.8020204@wildblue.net>
References: <501BC11C.8020204@wildblue.net>
Message-ID: <501BE18A.7020803@morningstar2.co.uk>

On 03/08/2012 13:16, Daniel Branning wrote:
> As of today's package update, I get this error...
> ...
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex.sty
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex1.sty
> (/usr/local/texlive/2012/texmf-dist/tex/latex/logreq/logreq.sty
> (/usr/local/texlive/2012/texmf-dist/tex/latex/logreq/logreq.def))
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/blx-compat.def)
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex.def)
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/bbx/authoryear.bbx
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/bbx/standard.bbx))
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/cbx/alphabetic-verb.cbx)
> 
> (/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex.cfg))
> ! Missing number, treated as zero.
> <to be read again>
>                    D
> l.86
> 
> ?
> 
> ... and the last entry in the *.log file is:
> 
> Package biblatex Info: Trying to load compatibility code...
> Package biblate
> 
> Please advise. Thank you.
> -daniel

This is 'works for me'. Can you post a minimal example plus the output
\listfiles gives if you just 'go past' the error?
-- 
Joseph Wright

From dhalperi at cs.washington.edu  Fri Aug  3 19:15:46 2012
From: dhalperi at cs.washington.edu (Daniel Halperin)
Date: Fri, 3 Aug 2012 10:15:46 -0700
Subject: [tex-live] hyperref psdextra compile issue
In-Reply-To: <20120803090818.GA10356@oberdiek.my-fqdn.de>
References: <CALSq=Banz6DNQ_+d4yw5fKP8xxT0Vc7jT97ZDtFXXg3=70t5rQ@mail.gmail.com>
 <20120803090818.GA10356@oberdiek.my-fqdn.de>
Message-ID: <CALSq=BZxF-jw88+tYT-O6UY6SXobQ9XFP=LyHTOSt7pC+RCCqw@mail.gmail.com>

On Fri, Aug 3, 2012 at 2:08 AM, Heiko Oberdiek <
heiko.oberdiek at googlemail.com> wrote:

> On Fri, Aug 03, 2012 at 12:07:46AM -0700, Daniel Halperin wrote:
> > I've run into a different problem with another document, as follows:
> >
> > (/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/psdextra.def
> > ! Undefined control sequence.
> > l.34 \Hy
> >         @VersionCheck{psdextra.def}
> > ?
>
> Help, I am already suffering from mental catcoditis.
> It will be fixed.
>
> > I have narrowed this problem down to the unicode option in \hypersetup.
> > When that's disabled, everything compiles fine.
>
> Thanks, another bug, the file should only be loaded if option `psdextrsa'
> is given. (The option allows to use \alpha, \geq, ... directly
> instead of \textalpha, \textgeq, ... for bookmarks with a slight
> runtime penalty).
>
> The fixes will be in v6.82y, probably today.
>

Just updated, and all is better now. Thanks for the quick response. I
really appreciate it!
Dan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20120803/902309cd/attachment-0001.html>

From heiko.oberdiek at googlemail.com  Fri Aug  3 19:36:54 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 3 Aug 2012 19:36:54 +0200
Subject: [tex-live] hyperref psdextra compile issue
In-Reply-To: <CALSq=BZxF-jw88+tYT-O6UY6SXobQ9XFP=LyHTOSt7pC+RCCqw@mail.gmail.com>
References: <CALSq=Banz6DNQ_+d4yw5fKP8xxT0Vc7jT97ZDtFXXg3=70t5rQ@mail.gmail.com>
 <20120803090818.GA10356@oberdiek.my-fqdn.de>
 <CALSq=BZxF-jw88+tYT-O6UY6SXobQ9XFP=LyHTOSt7pC+RCCqw@mail.gmail.com>
Message-ID: <20120803173654.GA12189@oberdiek.my-fqdn.de>

On Fri, Aug 03, 2012 at 10:15:46AM -0700, Daniel Halperin wrote:

> On Fri, Aug 3, 2012 at 2:08 AM, Heiko Oberdiek <
> > >
> > > (/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/psdextra.def
> > > ! Undefined control sequence.
> > > l.34 \Hy
> > >         @VersionCheck{psdextra.def}
> > > ?

> > The fixes will be in v6.82y, probably today.
> >
> 
> Just updated, and all is better now. Thanks for the quick response. I
> really appreciate it!

Thanks for the feedback.

Yours sincerely
  Heiko Oberdiek

From reinhard.kotucha at web.de  Fri Aug  3 23:55:22 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 3 Aug 2012 23:55:22 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501BC639.10800@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <CADtfNzKK+PwJzJbn45q-opunD=tonYPOphbHA1f0Jt8ruxZkhQ@mail.gmail.com>
 <501B968D.9010706@Rhul.Ac.Uk>
 <CADtfNzJANM3vT-R4iqBbtk=EPvaQ5PtNo26WnRbPb+HeE-dP6w@mail.gmail.com>
 <501BAB40.90302@Rhul.Ac.Uk>
 <CAC1phyYkrJxiVRBRhPx2JFJRxo_T23ZjKMe9Nxni=Ka=6s6hug@mail.gmail.com>
 <501BC2C7.8070405@Rhul.Ac.Uk>
 <CAC1phyZ2=yF_wk06qfu9eE8BMwUP0ofMNW3y6nTdZm21ggS_Tw@mail.gmail.com>
 <501BC639.10800@Rhul.Ac.Uk>
Message-ID: <20508.18634.900013.356156@zaphod.ms25.net>

On 2012-08-03 at 13:38:17 +0100, Philip TAYLOR wrote:

 > Zdenek Wagner wrote:
 > 
 > > I cannot answer. I switched from DOS+Windows 3.0 to OS/2 in 1994, thus
 > > I do not know the Windows specific details. Maybe I have old notes how
 > > it worked on DOS but most probably, if I still keep them, they may be
 > > on an old 5 1/4" diskette for which I do not have a drive any longer.
 > 
 > OK, but it was not a Windows question (particularly as we already
 > know from Tomek that that step may be omitted on Windows without
 > any obvious harm).  It is a more general question, applicable to
 > any operating system.  Q1 :  When TAR creates a file, does it set
 > "last modified" to "time created", as it has not yet been modified.

When a tar file is created, file names, time stamps, permission flags,
and other meta data are stored along with the file contents in the tar
file.

When files are extracted, these values are restored.  The creation
time will not be preserved because a new file had been created indeed.
The creation time denotes the time when a file was created on the
*file system*.

The last modified time is then set to the value stored in the tar file.
It denotes the time when the *content* was modified. 

Therefore a copied file could have been modified even before it was
created.  It's important to know that ctime and atime (time of last
access) refer to the file system and mtime refers to the file
contents.

 > And Q2 :  If so, why is it then necessary to adjust "last modified"
 > as a separate step ?

Because time stamps and permission flags are not part of the file
itself.  Not even the file name.  They are stored in inodes on Unix
and in directories at least in FAT file systems.  Don't know much
about NTFS but it's probably more Unix-like.

Since user-level commands like cp or copy also transfer meta data, at
a first glance one gets the impression that everything is stored
together and copying a file can be done with a single step on system
level.  Writing the system independent Perl function copy() in
tlpkg/TeXLive/TLUtils.pm was very instructive in this respect.  

A description of a copy function might be helpful in order to
understand how things work on system level.  All C functions
mentioned below are available on both, Unix and Windows.  On Windows
these functions reside in MSVCRT.DLL, the C runtime library.  

On Linux these functions are described in manual pages, on Windows
there are quite useful comments within the C source files.

In order to copy a file, the following steps have to be performed:

 * open the source file readonly with open().

 * if the target file doesn't exist already, it has to be created with
   creat(). This function creates a data structure in the file system
   if necessary and sets file permissions.  Hence it can also be used
   if the target file exists but permission flags from the source file
   have to be preserved.

 * open the target file writeonly with open().

 * read the content of the source file to memory with read() and write
   it to the target file using write().  In order to save memory, this
   is usually done block by block.

 * close both files using close(). 

What we have achieved so far is that we have a new file with the
content of another file.  creat() creates a new data structure within
the file system and sets file permissions, open() sets the file name,
read() and write() copy the content only.  No other meta data can be
transferred with these low-level system calls, hence all time stamps
are set to the time the new file was created.

If the last modified or last accessed time stamps have to be
preserved, they have to be retrieved from the meta data of the source
file and set accordingly using utime().

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From branning at wildblue.net  Sat Aug  4 01:16:37 2012
From: branning at wildblue.net (Daniel Branning)
Date: Fri, 3 Aug 2012 17:16:37 -0600
Subject: [tex-live] biblatex error
Message-ID: <501C5BD5.5070805@wildblue.net>

Joseph,

I can't get past the error with biblatex (version 27290) loaded, but I 
restored (version 27055) from backup and ran a minimum example:

*****************************************

\documentclass[10pt,letterpaper,twoside]{article}
\usepackage[LGR,T1]{fontenc}
\usepackage[safe]{textcomp}
\usepackage{amsmath}
\usepackage[altbullet]{lucidabr}

\DeclareEncodingSubset{TS1}{hlh}{1}

\usepackage[greek,english]{babel}
\usepackage[10pt,boldLipsian,GlyphNames]{teubner}
\usepackage{gfsporson}
\newcommand\grk[1]{\foreignlanguage{greek}{#1}}

\usepackage{csquotes}

\usepackage[normalem]{ulem}
\usepackage{fullpage,booktabs,enumerate,graphicx,units,stmaryrd,marvosym,cclicenses,lscape,chemarrow,hieroglf,mathbbol,manfnt}
\usepackage{longtable,ltcaption,multirow,dcolumn,hhline,paralist,rotating,fancybox,delarray,url,tipa,appendix,arcs}
\usepackage{varioref,refstyle}
\usepackage[font=normalsize]{caption}
\usepackage[countmax]{subfloat}
\usepackage{amsfonts,amstext,mathtools}
\usepackage{wasysym}

\usepackage{trsym}

\usepackage{pst-poly,pst-3dplot,pst-tree,pstricks-add}

\usepackage[backend=bibtex,style=authortitle,bibstyle=authoryear,citestyle=alphabetic-verb,sorting=nyt]{biblatex}
\bibliography{test}

\listfiles

\begin{document}

A citation to something.\cite{Zahrt}

\printbibliography

\end{document}

*******************************************

with \listfiles:

*******************************************

  *File List*
  article.cls    2007/10/19 v1.4h Standard LaTeX document class
   size10.clo    2007/10/19 v1.4h Standard LaTeX file (size option)
  fontenc.sty
   lgrenc.def    2008/06/17 v2.3 Greek Encoding
    t1enc.def    2005/09/27 v1.99g Standard LaTeX file
textcomp.sty    2005/09/27 v1.99g Standard LaTeX package
   ts1enc.def    2001/06/05 v3.0e (jk/car/fm) Standard LaTeX file
  amsmath.sty    2000/07/18 v2.13 AMS math features
  amstext.sty    2000/06/29 v2.01
   amsgen.sty    1999/11/30 v2.0
   amsbsy.sty    1999/11/29 v1.2d
   amsopn.sty    1999/12/14 v2.01 operator names
lucidabr.sty    2005/11/29 v4.3 Lucida Bright + Lucida New Math + Lucida 
Expert
  (SPQR/DPC/TUG)
    t1hlh.fd    2005/09/15 font definitions for T1/hlh (WaS/PCTeX/TUG)
    babel.sty    2008/07/08 v3.8m The Babel package
    greek.ldf    2005/03/30 v1.3l Greek support from the babel system
   lgrenc.def    2008/06/17 v2.3 Greek Encoding
  english.ldf    2005/03/30 v3.3o English support from the babel system
  teubner.sty    2011/09/07 v.3.3 extensions for Greek philology
  type1ec.sty    2002/09/07 v1.1 Type1 EC font definitions (for CM-Super 
fonts)
    t1cmr.fd    1999/05/25 v2.5h Standard LaTeX font definitions
graphicx.sty    1999/02/16 v1.0f Enhanced LaTeX Graphics (DPC,SPQR)
   keyval.sty    1999/03/16 v1.13 key=value parser (DPC)
graphics.sty    2009/02/05 v1.0o Standard LaTeX Graphics (DPC,SPQR)
     trig.sty    1999/03/16 v1.09 sin cos tan (DPC)
graphics.cfg    2010/04/23 v1.9 graphics configuration of TeX Live
    dvips.def    1999/02/16 v3.0i Driver-dependant file (DPC,SPQR)
   ifthen.sty    2001/05/26 v1.1c Standard LaTeX ifthen package (DPC)
  exscale.sty    2007/10/29 v2.1h Standard LaTeX package exscale
LGRaccents-glyphs.def    2011/09/07 v.3.3 Definitions of accents and 
glyphs for
  LGR encoded Greek fonts
    trace.sty    2003/04/30 v1.1c trace LaTeX code
gfsporson.sty    2001/12/15 v1.0 Package `gfsporson.sty'
csquotes.sty    2011/10/22 v5.1d context-sensitive quotations
etoolbox.sty    2011/01/03 v2.1 e-TeX tools for LaTeX
     etex.sty    1998/03/26 v2.0 eTeX basic definition package (PEB)
csquotes.def    2011/10/22 v5.1d csquotes generic definitions
csquotes.cfg
     ulem.sty    2012/05/18
fullpage.sty    1999/02/23 1.1 (PWD)
booktabs.sty    2005/04/14 v1.61803 publication quality tables
enumerate.sty    1999/03/05 v3.00 enumerate extensions (DPC)
    units.sty    1998/08/04 v0.9b Typesetting units
nicefrac.sty    1998/08/04 v0.9b Nice fractions
stmaryrd.sty    1994/03/03 St Mary's Road symbol package
marvosym.sty    2011/07/20 v2.2 Martin Vogel's Symbols font definitions
cclicenses.sty    2005/05/20 v0.4 CC licenses typesetting
rotating.sty    2009/03/28 v2.16a rotated objects in LaTeX
   lscape.sty    2000/10/22 v3.01 Landscape Pages (DPC)
chemarrow.sty
hieroglf.sty    2000/09/23 v1.2 package for poor mans hieroglyphs
    oands.sty    2000/08/19 v1.0 package for OandS fonts
mathbbol.sty    1995/01/01
   manfnt.sty    1999/07/010.2LaTeX2e manfnt package
longtable.sty    2004/02/01 v4.11 Multi-page Table package (DPC)
ltcaption.sty    2011/09/12 v1.3 longtable captions (AR)
multirow.sty
  dcolumn.sty    2001/05/28 v1.06 decimal alignment package (DPC)
    array.sty    2008/09/09 v2.4c Tabular extension package (FMi)
   hhline.sty    1994/05/23 v2.03 Table rule package (DPC)
paralist.sty    2002/03/18 v2.3b Extended list environments (BS)
fancybox.sty    2010/05/15 1.4
delarray.sty    1994/03/14 v1.01 array delimiter package (DPC)
      url.sty    2006/04/12  ver 3.3  Verb mode for urls, etc.
     tipa.sty    2002/08/08 TIPA version 1.1
  fontenc.sty
    t3enc.def    2001/12/31 T3 encoding
    t1hls.fd    2005/09/15 font definitions for T1/hls (WaS/PCTeX/TUG)
    t1enc.def    2005/09/27 v1.99g Standard LaTeX file
appendix.sty    2009/09/02 v1.2b extra appendix facilities
     arcs.sty    2004/05/09
  relsize.sty    2011/09/21 ver 4.0
varioref.sty    2011/10/02 v1.4z package for extended references (FMi)
refstyle.sty    2010/11/02 v0.5 Reference formatting (DNJ Els)
refstyle.cfg    2010/11/02 0.5 Configuration file for refstyle (DNJ Els)
  caption.sty    2012/02/19 v3.2f Customizing captions (AR)
caption3.sty    2012/01/12 v1.4b caption3 kernel (AR)
subfloat.sty    2003/08/21 version 2.14
amsfonts.sty    2009/06/22 v3.00 Basic AMSFonts support
mathtools.sty    2012/04/24 v1.12 mathematical typesetting tools
     calc.sty    2007/08/22 v4.3 Infix arithmetic (KKT,FJ)
  mhsetup.sty    2010/01/21 v1.2a programming setup (MH)
  wasysym.sty    2003/10/30 v2.0 Wasy-2 symbol support package
    trsym.sty    2000/06/25v1.0transformation symbol font
pst-poly.sty    2009/12/20 package wrapper for pst-poly.tex (dg,hv)
pstricks.sty    2011/10/31 v0.52 LaTeX wrapper for `PSTricks' (RN,HV)
pstricks.tex    2012/06/04 v2.29 `PSTricks' (tvz,hv)
pst-xkey.tex    2005/11/25 v1.6 PSTricks specialization of xkeyval (HA)
  xkeyval.sty    2008/08/13 v2.6a package option processing (HA)
  xkeyval.tex    2008/08/13 v2.6a key=value parser (HA)
   pst-fp.tex    2012/06/04 v2.29 `PST-fp' (hv)
   xcolor.sty    2007/01/21 v2.11 LaTeX color extensions (UK)
    color.cfg    2007/01/18 v1.5 color configuration of teTeX/TeXLive
pst-poly.tex    2009/12/20 v1.61 `PST-poly' (dg,hv)
pst-3dplot.sty    2010/01/01 package wrapper for pst-3dplot.tex (hv)
   pst-3d.sty    2009/07/28 package wrapper for pst-3d.tex (hv)
   pst-3d.tex    2010/02/14 v1.11 `PST-3d' (hv)
pst-plot.sty    2011/04/13 package wrapper for pst-plot.tex (hv)
pst-xkey.sty    2005/11/25 v1.6 package wrapper for pst-xkey.tex (HA)
  multido.sty    2004/05/17 package wrapper for PSTricks `multido.tex', 
(HV/RN)
pst-plot.tex    2012/05/03 1.42 `pst-plot' (tvz,hv)
pst-node.sty    2010/04/22 package wrapper for pst-node.tex
pst-node.tex    2012/05/03 1.42 `pst-node' (tvz)
pst-3dplot.tex    2012/06/07 v1.97 `PST-3dplot' (hv)
pst-tree.sty    2009/01/25 package wrapper for pst-tree.tex
pst-tree.tex    2011/02/28 1.12 `pst-tree' (tvz,hv)
pstricks-add.sty    2010/02/11 v. 0.14 package wrapper for 
pstricks-add.tex (hv
)
pst-math.sty    2009/01/20 package wrapper for PSTricks pst-math.tex
pstricks-add.tex    2011/12/11 v3.55 `PSTricks-add' (hv)
biblatex.sty    2012/07/01 v2.0 programmable bibliographies (PK/JW/AB)
biblatex1.sty    2012/07/01 v2.0 programmable bibliographies (bibtex) 
(PK/JW/AB
)
   logreq.sty    2010/08/04 v1.0 xml request logger
   logreq.def    2010/08/04 v1.0 logreq spec v1.0
blx-compat.def    2012/07/01 v2.0 biblatex compatibility (PK/JW/AB)
biblatex.def
standard.bbx    2012/07/01 v2.0 biblatex bibliography style (PK/JW/AB)
authoryear.bbx    2012/07/01 v2.0 biblatex bibliography style (PK/JW/AB)
alphabetic-verb.cbx    2012/07/01 v2.0 biblatex citation style (PK/JW/AB)
biblatex.cfg
  english.lbx    2012/07/01 v2.0 biblatex localization (PK/JW/AB)
   lgrcmr.fd    2008/06/17 v2.3 Greek Computer Modern
   ts1cmr.fd    1999/05/25 v2.5h Standard LaTeX font definitions
  lmrhlcm.fd    2005/11/28 v4.3 Lucida New Math Arrows (SPQR/DPC/TUG)
    t3cmr.fd    2001/12/31 TIPA font definitions
     test.bbl
  ***********

-daniel


From reinhard.kotucha at web.de  Sat Aug  4 04:53:31 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 4 Aug 2012 04:53:31 +0200
Subject: [tex-live] ctan->tl updates caught up
In-Reply-To: <501B866E.4040309@Rhul.Ac.Uk>
References: <201207302325.q6UNPGIx003715@freefriends.org>
 <loom.20120801T000347-894@post.gmane.org>
 <20120731225231.GB23699@gamma.logic.tuwien.ac.at>
 <loom.20120801T115802-517@post.gmane.org>
 <CADtfNz+hEfW=EsSfefTO+JSyC-EmAvWf+E9=nFm7E9hJYzYJnQ@mail.gmail.com>
 <loom.20120801T231310-80@post.gmane.org>
 <20505.48442.283313.439921@zaphod.ms25.net>
 <501A4C44.5060409@Rhul.Ac.Uk>
 <20506.63024.291081.39754@zaphod.ms25.net>
 <501AF71B.8030201@Rhul.Ac.Uk>
 <20507.6636.504995.738875@zaphod.ms25.net>
 <501B866E.4040309@Rhul.Ac.Uk>
Message-ID: <20508.36523.216271.739088@zaphod.ms25.net>

On 2012-08-03 at 09:06:06 +0100, Philip TAYLOR wrote:

 > Reinhard Kotucha wrote:
 > 
 > > Honestly, if it's necessary to re-boot the system whenever a file
 > > cannot be written due to braindead file system, then the
 > > operating should initialise the re-boot automatically.
 > 
 > The user may not want his or her system re-booted at that
 > particular moment in time; that is why it must be an option.
 > And it is not "whenever a file ..."; it is "whenever one or
 > more files ...", otherwise the process could take forever
 > (or longer).

At work I've installed TeX Live on a Linux server and users can access
it via NFS on Unix clients or via Samba on Windows clients.  I can
maintain the TeX Live system even though I don't have special
permissions on that server.  Thus I'm not able to re-boot the
system and there is no need to do that.

If there are no Unix clients, it's possible to install and maintain
TeX Live on a Windows server.  It's certainly quite annoying if the
server has to be re-booted whenever TeX Live is updated.

 > > Phil, do you really believe that all the deficiencies of Windows can
 > > be solved by re-booting the system?
 > 
 > Perhaps if you could enumerate "all of the deficiences" of Windows
 > I might be better placed to answer the question; I use Windows,
 > by choice, all day, every day, and although there are one or two
 > minor quibbles, in general it offers me a first-class service.

I mentioned many deficiencies already.  Dig out the old mails.  Or
look at the nasty workarounds in the installer and tlmgr sources.  I'm
not inclined to start a new discussion again.
 
 > > Why, on earth, should one re-boot at all if the contents of a file is
 > > the same before and after a re-boot?
 > 
 > If they are the same before and after then the file has not
 > been updated and no re-boot is needed.

If files are different before and after a re-boot, what happens at
boot time?  Are files downloaded and installed when the system is
booted and before the virus scanner is started?  

 > > If a re-boot helps at all, it means that Windows itself is
 > > unstable.
 > 
 > Do you understand the word "unstable", Reinhard ?  

Yes.

 > It has no connection with what we are discussing.  "Unstable"
 > implies that the system crashes for no discernible reason.

There are random crashes, at least if a virus scanner locks files.
 
 > > As I said before, personal opinions are not helpful, what we need
 > > are technical solutions.
 > 
 > If personal opinions are not helpful, then you are at liberty
 > not to offer them.  Just as you are at liberty to refrain from
 > using the word "smartarse" in two consecutive messages without
 > any attempt to explain or justify your usage.
 
Don't understand what you want to tell me.  Isn't the sentence you
cited clear enough? 

 > One final point : are you aware that the TeX Live installer is the
 > /only/ installer to encounter this problem; all other Windows
 > installes quite happily co-exist with the wide range of anti-
 > virus programs that are in use, and queue an optional re-boot
 > if and when needed.  If every other Windows installer in the
 > world can manage this, does this not lead you to believe that
 > the problem may lay in the TeX Live installer rather than in
 > the anti-virus program and/or in Microsoft Windows ?

Then please tell us what exactly we are doing wrong.

TeX Live has always been quite powerful on Unix systems but the
Windows port was treated quite stepmotherly as a single-platform
single-user system in the past.  There were even different config
files for Unix and Windows.  When I wrote the getnonfreefonts script,
the gap was already so large that writing a script which works on all
platforms was a pain.

I therefore initiated a discussion about TeX Live on Windows at
BachoTeX 2007.  Fortunately Siep and Norbert were present.  My idea was
to make all the nice features we had on Unix available to Windows
users too.

As of TeX Live 2008, there is actually no difference anymore between
Unix and Windows.  You can install it on a Windows server and and make
it available to the clients.  It's absolutely unacceptable that the
server has to be re-booted after each package update.

Sorry Phil, I'm so glad about what had been achieved so far, and what
I'm not going to accept is to increase the gap after all the efforts
again.  Since TeX Live can be installed on a Windows server now,
re-booting the system after a package update is not an option at all.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From joseph.wright at morningstar2.co.uk  Sat Aug  4 08:43:18 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sat, 4 Aug 2012 07:43:18 +0100
Subject: [tex-live] biblatex error
In-Reply-To: <501C5BD5.5070805@wildblue.net>
References: <501C5BD5.5070805@wildblue.net>
Message-ID: <501CC486.1040301@morningstar2.co.uk>

On 04/08/2012 00:16, Daniel Branning wrote:
> Joseph,
> 
> I can't get past the error with biblatex (version 27290) loaded, but I 

OK, this looks like something went wrong with the scripting when Philip
Kime did the latest CTAN release. I'll make sure he knows and ask him to
correct it.

(For me, pressing Enter enough times does get past the annoying errors.)
--
Joseph Wright

From iam-est-hora-surgere at despammed.com  Sat Aug  4 14:54:47 2012
From: iam-est-hora-surgere at despammed.com (Marcus Frings)
Date: Sat, 4 Aug 2012 14:54:47 +0200
Subject: [tex-live] biblatex error
References: <501C5BD5.5070805@wildblue.net>
 <501CC486.1040301@morningstar2.co.uk>
Message-ID: <vita-brevis-breviter-in-brevi-finietur-mors-venit-velociter-quae-neminem-veretur-87fw827r6w.fsf@shodan.gothgoose.net>

* Joseph Wright <joseph.wright at morningstar2.co.uk> wrote:

> OK, this looks like something went wrong with the scripting when Philip
> Kime did the latest CTAN release. I'll make sure he knows and ask him to
> correct it.

[I guess you and Phil are already working on the issue but I just wanted
to let you know, Joseph.]

I can confirm the error which Daniel has reported because I get the same
bunch of errors/warnings in my real document:

,----
| ! Missing number, treated as zero.
| <to be read again> 
|                    D
| 
| ! Missing = inserted for \ifnum.
| <to be read again> 
|                    D
| 
| ! Package csquotes Error: Outdated 'biblatex' package.
| 
| LaTeX Warning: You have requested, on input line 86, version
|                `' of package biblatex2,
|                but only version
|                `DATE vVERSION programmable bibliographies (biber) (PK/JW/AB)'
|                is available.
`----

In TL2012 I downgraded biber/biblatex to revisions 27056/27055
(v1.0/v2.0 which work but contain my reported subentry bug) or
26868/24596 (v0.9.9/v1.7 which work perfectly), respectively.

Best regards,
Marcus
-- 
"Tuba cum sonuerit dies erit extrema
et iudex advenerit vocabit sempiterna
electos in patria
prescitos ad inferna."


From heiko.oberdiek at googlemail.com  Sat Aug  4 23:40:22 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Sat, 4 Aug 2012 23:40:22 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <alpine.LRH.2.00.1208031536540.29465@login2.roma1.infn.it>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208031324320.28120@login2.roma1.infn.it>
 <20120803130251.GA11456@oberdiek.my-fqdn.de>
 <alpine.LRH.2.00.1208031536540.29465@login2.roma1.infn.it>
Message-ID: <20120804214022.GC17205@oberdiek.my-fqdn.de>

On Fri, Aug 03, 2012 at 03:47:31PM +0200, Angelo Graziosi wrote:

> On Fri, 3 Aug 2012, Heiko Oberdiek wrote:
> 
> >On Fri, Aug 03, 2012 at 01:31:15PM +0200, Angelo Graziosi wrote:
> >
> >>Heiko Oberdiek wrote:
> >>
> >>>Since three days hyperref 2012/07/31 v6.82x is uptodate at the TUG
> >>>server and at the Puszcza server (see README for details). CTAN is
> >>>way
> >>>out of date 2012/05/13 v6.82q. TeX Live has 2012/07/29 v6.82v. I
> >>>will notify the CTAN managers and (Mr.) TeX Live was busy with
> >>>eating the remaining backlog.
> >>
> >>>The fixes will be in v6.82y, probably today.
> >>
> >>I have updated and the test case still fails.. Indeed hyperref.pdf
> >>says it is v6.82w, instead, if I understood correctly, the fixes are
> >>in v6.82x and v6.82y
> >
> >The fixes above are not related to the fixes for your case.
> >Your test case runs fine with me. Have you updated nameref.sty?
> 
> I usually do:
> 
> rsync -avz --delete tug.org::texlive/tlnet/ ~/work/tlnet_repo/
> [...]

As far as I have seen, both
  hyperref: 2012/08/03 v6.82y
  nameref: 2012/07/31 v2.42
are now uptodate.

Yours sincerely
  Heiko Oberdiek

From Angelo.Graziosi at roma1.infn.it  Sun Aug  5 12:22:44 2012
From: Angelo.Graziosi at roma1.infn.it (Angelo Graziosi)
Date: Sun, 5 Aug 2012 12:22:44 +0200
Subject: [tex-live] Problem with subfig and/or hyperref...
In-Reply-To: <20120803130251.GA11456@oberdiek.my-fqdn.de>
References: <alpine.LRH.2.00.1208021259440.4020@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208021516520.12152@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208022230530.22086@login2.roma1.infn.it>
 <alpine.LRH.2.00.1208031324320.28120@login2.roma1.infn.it>
 <20120803130251.GA11456@oberdiek.my-fqdn.de>
Message-ID: <alpine.LRH.2.00.1208051221050.6892@login2.roma1.infn.it>



On Fri, 3 Aug 2012, Heiko Oberdiek wrote:

> As far as I have seen, both
>   hyperref: 2012/08/03 v6.82y
>   nameref: 2012/07/31 v2.42
> are now uptodate.

Indeed, I have done another update and all works fine now :-)

Thanks,
  Angelo.

From branning at wildblue.net  Sun Aug  5 13:58:13 2012
From: branning at wildblue.net (Daniel Branning)
Date: Sun, 5 Aug 2012 05:58:13 -0600
Subject: [tex-live] biblatex error --- fixed
Message-ID: <501E5FD5.2020809@wildblue.net>

... [v. 27308] works for me. Thanks, guys.
-daniel

From alessi at robertalessi.net  Sun Aug  5 16:25:18 2012
From: alessi at robertalessi.net (Robert Alessi)
Date: Sun, 5 Aug 2012 16:25:18 +0200
Subject: [tex-live] biblatex error --- fixed
In-Reply-To: <501E5FD5.2020809@wildblue.net>
References: <501E5FD5.2020809@wildblue.net>
Message-ID: <20120805142518.GA7341@kiddo.robertalessi.net>

On Sun, Aug 05, 2012 at 05:58:13AM -0600, Daniel Branning wrote:
> ... [v. 27308] works for me. Thanks, guys.
> -daniel

It doesn't for me. I had to revert to v. 27055. Here is the error
message I got with v. 27308:

[...]
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/bbx/authortitle.bbx
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/bbx/standard.bbx)))
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/cbx/authortitle-ibid.cbx
)
(/usr/local/texlive/2012/texmf-dist/tex/latex/biblatex/biblatex.cfg))
! Missing number, treated as zero.
<to be read again> 
                   D
l.86 

? 

Robert


From joseph.wright at morningstar2.co.uk  Sun Aug  5 18:33:01 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 5 Aug 2012 17:33:01 +0100
Subject: [tex-live] File issue with TL2012 on Windows
Message-ID: <501EA03D.8040506@morningstar2.co.uk>

Hello all,

A question came up on TeX-sx which I've been able to cut down to the
following example

  \documentclass{article}
  \usepackage{comment}
  \includecomment{foo}
  \includecomment{fuu}
  \includecomment{figurer}
  \begin{document}
  \begingroup
  \tracingall
  \begin{foo}
  \begin{fuu}
  \begin{figurer}
  A%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  B%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  C%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  D%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  E%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  F%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  G%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
  H%%%%%
  \end{figurer}
  \end{fuu}
  \end{foo}
  \endgroup
  \end{document}

This compiles fine on Unix, or on Windows with MiKTeX 2.9, but fails
with an up-to-date TL2012 (or indeed with TL2011): see the attached log
file. The key in seeing what might be up seems to be line 1144 in the
log, where you'll see

  \next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment
  Test}\test \edef \next {\noexpand \EndOfComment {\CurrentComment
  }}\else \ThisComment {#1}\let \next \ProcessCommentLine \fi \next
  #1<-\end{fuu
  {\def}

Notice the missing closing brace. Crucial to seeing the issue is the
number of tokens read: if you add another one to for example line 'H'
you loose other token during the read.

To see the issue, you seem to need both the multiple read/write steps
used by comment and an appropriate number of tokens in the comments, and
as I say this only shows up on Windows. You can move the tokens around
within the processed material, and it does not matter what they are: the
letters are there so the lines can be picked out in the log.

Anyone got any idea what is up?
-- 
Joseph Wright
-------------- next part --------------
This is pdfTeX, Version 3.1415926-2.3-1.40.12 (Web2C 2011) (format=pdflatex 2012.4.30)  5 AUG 2012 17:06
entering extended mode
 restricted \write18 enabled.
 %&-line parsing enabled.
**test
(./test.tex
LaTeX2e <2011/06/27>
Babel <v3.8m> and hyphenation patterns for english, dumylang, nohyphenation, ge
rman-x-2011-07-01, ngerman-x-2011-07-01, afrikaans, ancientgreek, ibycus, arabi
c, armenian, basque, bulgarian, catalan, pinyin, coptic, croatian, czech, danis
h, dutch, ukenglish, usenglishmax, esperanto, estonian, ethiopic, farsi, finnis
h, french, friulan, galician, german, ngerman, swissgerman, monogreek, greek, h
ungarian, icelandic, assamese, bengali, gujarati, hindi, kannada, malayalam, ma
rathi, oriya, panjabi, tamil, telugu, indonesian, interlingua, irish, italian, 
kurmanji, lao, latin, latvian, lithuanian, mongolian, mongolianlmc, bokmal, nyn
orsk, polish, portuguese, romanian, romansh, russian, sanskrit, serbian, serbia
nc, slovak, slovenian, spanish, swedish, turkish, turkmen, ukrainian, uppersorb
ian, welsh, loaded.
(c:/texlive/2011/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(c:/texlive/2011/texmf-dist/tex/latex/base/size10.clo
File: size10.clo 2007/10/19 v1.4h Standard LaTeX file (size option)
)
\c at part=\count79
\c at section=\count80
\c at subsection=\count81
\c at subsubsection=\count82
\c at paragraph=\count83
\c at subparagraph=\count84
\c at figure=\count85
\c at table=\count86
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
)
(c:/texlive/2011/texmf-dist/tex/latex/comment/comment.sty
\CommentStream=\write3

Excluding comment 'comment') Include comment 'foo' Include comment 'fuu'
Include comment 'figurer' (./test.aux)
\openout1 = `test.aux'.

LaTeX Font Info:    Checking defaults for OML/cmm/m/it on input line 6.
LaTeX Font Info:    ... okay on input line 6.
LaTeX Font Info:    Checking defaults for T1/cmr/m/n on input line 6.
LaTeX Font Info:    ... okay on input line 6.
LaTeX Font Info:    Checking defaults for OT1/cmr/m/n on input line 6.
LaTeX Font Info:    ... okay on input line 6.
LaTeX Font Info:    Checking defaults for OMS/cmsy/m/n on input line 6.
LaTeX Font Info:    ... okay on input line 6.
LaTeX Font Info:    Checking defaults for OMX/cmex/m/n on input line 6.
LaTeX Font Info:    ... okay on input line 6.
LaTeX Font Info:    Checking defaults for U/cmr/m/n on input line 6.
LaTeX Font Info:    ... okay on input line 6.
{vertical mode: \tracingstats}
{\tracingpages}
{\tracinglostchars}
{\tracingmacros}
{\tracingparagraphs}
{\tracingrestores}
{\errorcontextlines}

\loggingoutput ->\tracingoutput \@ne \showboxbreadth \maxdimen \showboxdepth \m
axdimen \errorstopmode 
{\tracingoutput}
{\showboxbreadth}
{\showboxdepth}
{\errorstopmode}


\showoverfull ->\tracingonline \@ne 
{\tracingonline}

\begin #1->\@ifundefined {#1}{\def \reserved at a {\@latex at error {Environment #1 u
ndefined}\@eha }}{\def \reserved at a {\def \@currenvir {#1}\edef \@currenvline {\
on at line }\csname #1\endcsname }}\@ignorefalse \begingroup \@endpefalse \reserve
d at a 
#1<-foo

\@ifundefined #1->\expandafter \ifx \csname #1\endcsname \relax \expandafter \@
firstoftwo \else \expandafter \@secondoftwo \fi 
#1<-foo
{\expandafter}
{\csname}
{\ifx}
{false}
{\expandafter}
{\fi}

\@secondoftwo #1#2->#2
#1<-\def \reserved at a {\@latex at error {Environment foo undefined}\@eha }
#2<-\def \reserved at a {\def \@currenvir {foo}\edef \@currenvline {\on at line }\csn
ame foo\endcsname }
{\def}

\@ignorefalse ->\global \let \if at ignore \iffalse 
{\global}
{\begingroup}

\@endpefalse ->\let \if at endpe \iffalse 
{\let}

\reserved at a ->\def \@currenvir {foo}\edef \@currenvline {\on at line }\csname foo\
endcsname 
{\def}
{\edef}

\on at line -> on input line \the \inputlineno 
{\csname}

\foo ->\BeforeIncludedComment \ProcessComment {foo}

\BeforeIncludedComment ->\immediate \openout \CommentStream =\CommentCutFile \l
et \ThisComment \WriteCommentLine 
{\immediate}

\CommentCutFile ->comment.cut
\openout3 = `comment.cut'.

{\let}

\ProcessComment #1->\begingroup \def \CurrentComment {#1}\let \do \makeinnocent
 \dospecials \makeinnocent \^^L\endlinechar `\^^M \catcode `\^^M=12 \xComment 
#1<-foo
{\begingroup}
{\def}
{\let}

\dospecials ->\do \ \do \\\do \{\do \}\do \$\do \&\do \#\do \^\do \_\do \%\do \
~

\do #1->\catcode `#1=12 
#1<-\ 
{\catcode}

\do #1->\catcode `#1=12 
#1<-\\
{\catcode}

\do #1->\catcode `#1=12 
#1<-\{
{\catcode}

\do #1->\catcode `#1=12 
#1<-\}
{\catcode}

\do #1->\catcode `#1=12 
#1<-\$
{\catcode}

\do #1->\catcode `#1=12 
#1<-\&
{\catcode}

\do #1->\catcode `#1=12 
#1<-\#
{\catcode}

\do #1->\catcode `#1=12 
#1<-\^
{\catcode}

\do #1->\catcode `#1=12 
#1<-\_
{\catcode}

\do #1->\catcode `#1=12 
#1<-\%
{\catcode}

\do #1->\catcode `#1=12 
#1<-\~
{\catcode}

\makeinnocent #1->\catcode `#1=12 
#1<-\^^L
{\catcode}
{\endlinechar}
{\catcode}

\xComment #1^^M->\expandafter \ProcessCommentLine 
#1<-
{\expandafter}

\ProcessCommentLine #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}
\test \edef \next {\noexpand \EndOfComment {\CurrentComment }}\else \ThisCommen
t {#1}\let \next \ProcessCommentLine \fi \next 
#1<-\begin{fuu}
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-\begin{fuu}
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-\begin{figurer}
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-\begin{figurer}
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-A%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-A%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-B%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-B%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-C%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-C%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-D%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-D%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-E%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-E%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-F%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-F%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-G%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-G%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-H%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-H%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-\end{figurer}
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-\end{figurer}
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-\end{fuu}
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-\end{fuu}
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-\end{foo}
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->foo
{\ifx}
{true}
{\edef}
{\noexpand}

\CurrentComment ->foo
{\else}

\next ->\EndOfComment {foo}

\EndOfComment #1->\endgroup \end {#1}\csname After#1Comment\endcsname 
#1<-foo
{\endgroup}
{restoring \next=undefined}
{restoring \CStmp=undefined}
{restoring \test=undefined}
{restoring \catcode13=5}
{restoring \catcode12=13}
{restoring \catcode126=13}
{restoring \catcode37=14}
{restoring \catcode95=8}
{restoring \catcode94=7}
{restoring \catcode35=6}
{restoring \catcode38=4}
{restoring \catcode36=3}
{restoring \catcode125=2}
{restoring \catcode123=1}
{restoring \catcode92=0}
{restoring \catcode32=10}
{restoring \do=\noexpand}
{restoring \CurrentComment=undefined}

\end #1->\csname end#1\endcsname \@checkend {#1}\expandafter \endgroup \if at endp
e \@doendpe \fi \if at ignore \@ignorefalse \ignorespaces \fi 
#1<-foo
{\csname}
{\relax}

\@checkend #1->\def \reserved at a {#1}\ifx \reserved at a \@currenvir \else \@badend
 {#1}\fi 
#1<-foo
{\def}
{\ifx}
{true}
{\else}
{\expandafter}
{\iffalse}
{false}
{\endgroup}
{restoring \reserved at a=macro:->\def \@currenvir {foo}\edef \@currenvline \ETC.}
{restoring \endfoo=undefined}
{restoring \ThisComment=undefined}
{restoring \@currenvline=macro:->}
{restoring \@currenvir=macro:->document}
{\iffalse}
{false}
{\csname}

\AfterfooComment ->\immediate \closeout \CommentStream \input {\CommentCutFile 
}\relax 
{\immediate}

\input ->\@ifnextchar \bgroup \@iinput \@@input 

\@ifnextchar #1#2#3->\let \reserved at d =#1\def \reserved at a {#2}\def \reserved at b 
{#3}\futurelet \@let at token \@ifnch 
#1<-\bgroup 
#2<-\@iinput 
#3<-\@@input 
{\let}
{\def}
{\def}
{\futurelet}

\@ifnch ->\ifx \@let at token \@sptoken \let \reserved at c \@xifnch \else \ifx \@let
@token \reserved at d \let \reserved at c \reserved at a \else \let \reserved at c \reserve
d at b \fi \fi \reserved at c 
{\ifx}
{false}
{\ifx}
{true}
{\let}
{\else}
{\fi}

\reserved at c ->\@iinput 

\@iinput #1->\InputIfFileExists {#1}{}{\filename at parse {#1}\edef \reserved at a {\
noexpand \@missingfileerror {\filename at area \filename at base }{\ifx \filename at ext
 \relax tex\else \filename at ext \fi }}\reserved at a }
#1<-\CommentCutFile 

\InputIfFileExists #1#2->\IfFileExists {#1}{#2\@addtofilelist {#1}\@@input \@fi
lef at und }
#1<-\CommentCutFile 
#2<-

\IfFileExists #1#2#3->\openin \@inputcheck #1 \ifeof \@inputcheck \ifx \input at p
ath \@undefined \def \reserved at a {#3}\else \def \reserved at a {\@iffileonpath {#1
}{#2}{#3}}\fi \else \closein \@inputcheck \edef \@filef at und {#1 }\def \reserved
@a {#2}\fi \reserved at a 
#1<-\CommentCutFile 
#2<-\@addtofilelist {\CommentCutFile }\@@input \@filef at und 
#3<-\filename at parse {\CommentCutFile }\edef \reserved at a {\noexpand \@missingfil
eerror {\filename at area \filename at base }{\ifx \filename at ext \relax tex\else \fil
ename at ext \fi }}\reserved at a 
{\openin}

\CommentCutFile ->comment.cut
{\ifeof}
{false}
{\closein}
{\edef}

\CommentCutFile ->comment.cut
{\def}
{\fi}

\reserved at a ->\@addtofilelist {\CommentCutFile }\@@input \@filef at und 

\@addtofilelist #1->
#1<-\CommentCutFile 
{\input}

\@filef at und ->comment.cut 
(./comment.cut
\begin #1->\@ifundefined {#1}{\def \reserved at a {\@latex at error {Environment #1 u
ndefined}\@eha }}{\def \reserved at a {\def \@currenvir {#1}\edef \@currenvline {\
on at line }\csname #1\endcsname }}\@ignorefalse \begingroup \@endpefalse \reserve
d at a 
#1<-fuu

\@ifundefined #1->\expandafter \ifx \csname #1\endcsname \relax \expandafter \@
firstoftwo \else \expandafter \@secondoftwo \fi 
#1<-fuu
{\expandafter}
{\csname}
{\ifx}
{false}
{\expandafter}
{\fi}

\@secondoftwo #1#2->#2
#1<-\def \reserved at a {\@latex at error {Environment fuu undefined}\@eha }
#2<-\def \reserved at a {\def \@currenvir {fuu}\edef \@currenvline {\on at line }\csn
ame fuu\endcsname }
{\def}

\@ignorefalse ->\global \let \if at ignore \iffalse 
{\global}
{\begingroup}

\@endpefalse ->\let \if at endpe \iffalse 
{\let}

\reserved at a ->\def \@currenvir {fuu}\edef \@currenvline {\on at line }\csname fuu\
endcsname 
{\def}
{\edef}

\on at line -> on input line \the \inputlineno 
{\csname}

\fuu ->\BeforeIncludedComment \ProcessComment {fuu}

\BeforeIncludedComment ->\immediate \openout \CommentStream =\CommentCutFile \l
et \ThisComment \WriteCommentLine 
{\immediate}

\CommentCutFile ->comment.cut
\openout3 = `comment.cut'.

{\let}

\ProcessComment #1->\begingroup \def \CurrentComment {#1}\let \do \makeinnocent
 \dospecials \makeinnocent \^^L\endlinechar `\^^M \catcode `\^^M=12 \xComment 
#1<-fuu
{\begingroup}
{\def}
{\let}

\dospecials ->\do \ \do \\\do \{\do \}\do \$\do \&\do \#\do \^\do \_\do \%\do \
~

\do #1->\catcode `#1=12 
#1<-\ 
{\catcode}

\do #1->\catcode `#1=12 
#1<-\\
{\catcode}

\do #1->\catcode `#1=12 
#1<-\{
{\catcode}

\do #1->\catcode `#1=12 
#1<-\}
{\catcode}

\do #1->\catcode `#1=12 
#1<-\$
{\catcode}

\do #1->\catcode `#1=12 
#1<-\&
{\catcode}

\do #1->\catcode `#1=12 
#1<-\#
{\catcode}

\do #1->\catcode `#1=12 
#1<-\^
{\catcode}

\do #1->\catcode `#1=12 
#1<-\_
{\catcode}

\do #1->\catcode `#1=12 
#1<-\%
{\catcode}

\do #1->\catcode `#1=12 
#1<-\~
{\catcode}

\makeinnocent #1->\catcode `#1=12 
#1<-\^^L
{\catcode}
{\endlinechar}
{\catcode}

\xComment #1^^M->\expandafter \ProcessCommentLine 
#1<-
{\expandafter}

\ProcessCommentLine #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}
\test \edef \next {\noexpand \EndOfComment {\CurrentComment }}\else \ThisCommen
t {#1}\let \next \ProcessCommentLine \fi \next 
#1<-\begin{figurer}
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-\begin{figurer}
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-A%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-A%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-B%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-B%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-C%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-C%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-D%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-D%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-E%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-E%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-F%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-F%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-G%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-G%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-H%%%%%
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-H%%%%%
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-\end{figurer}
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-\end{figurer}
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
#1<-\end{fuu
{\def}

\csarg #1#2->\expandafter #1\csname #2\endcsname 
#1<-\ifx 
#2<-End\CurrentComment Test
{\expandafter}
{\csname}

\CurrentComment ->fuu
{\ifx}
{false}

\ThisComment #1->\def \CStmp {#1}\immediate \write \CommentStream {\CSstringmea
ning \CStmp }
#1<-\end{fuu
{\def}
{\immediate}
\write->\CSstringmeaning \CStmp 

\CSstringmeaning #1->\expandafter \CSgobblearrow \meaning #1
#1<-\CStmp 
{no mode: \expandafter}
{\meaning}

\CSgobblearrow macro:->->
{vertical mode: \let}
{\fi}

\next #1^^M->\def \test {#1}\csarg \ifx {End\CurrentComment Test}\test \edef \n
ext {\noexpand \EndOfComment {\CurrentComment }}\else \ThisComment {#1}\let \ne
xt \ProcessCommentLine \fi \next 
)
Runaway argument?
! File ended while scanning use of \next.
<inserted text> 
                \par 
\@filef at und ->comment.cut 
                          
\AfterfooComment ...ream \input {\CommentCutFile }
                                                  \relax 
l.22 \end{foo}
              
? 
{\relax}
{the character \}
{horizontal mode: the character \}
)
*
(Please type a command or say `\end')
*
(Please type a command or say `\end')
*
! Emergency stop.
<*> 
    
End of file on the terminal!

 
Here is how much of TeX's memory you used:
 253 strings out of 493610
 2858 string characters out of 3145852
 49291 words of memory out of 3000000
 3644 multiletter control sequences out of 15000+200000
 3640 words of font info for 14 fonts, out of 3000000 for 9000
 831 hyphenation exceptions out of 8191
 23i,0n,17p,151b,82s stack positions out of 5000i,500n,10000p,200000b,50000s
!  ==> Fatal error occurred, no output PDF file produced!

From iam-est-hora-surgere at despammed.com  Sun Aug  5 18:38:32 2012
From: iam-est-hora-surgere at despammed.com (Marcus Frings)
Date: Sun, 5 Aug 2012 18:38:32 +0200
Subject: [tex-live] biblatex error --- fixed
References: <501E5FD5.2020809@wildblue.net>
Message-ID: <vita-brevis-breviter-in-brevi-finietur-mors-venit-velociter-quae-neminem-veretur-87sjc1pa47.fsf@shodan.gothgoose.net>

* Daniel Branning <branning at wildblue.net> wrote:

> ... [v. 27308] works for me. Thanks, guys.

As for Daniel, the upgrade from 27290 to 27308 fixed the problem in my
case, too. Weird, that Robert still reports the error to be present.

Best regards,
Marcus
-- 
"To call up a demon you must learn its name. Men dreamed that, once, but now it
is real in another way. You know that, Case. Your business is to learn the names
of programs, the long formal names, names the owners seek to conceal. True
names ..." - "A Turing code's not your name." - "Neuromancer", the boy said.


From alessi at robertalessi.net  Sun Aug  5 18:54:10 2012
From: alessi at robertalessi.net (Robert Alessi)
Date: Sun, 5 Aug 2012 18:54:10 +0200
Subject: [tex-live] biblatex error --- fixed
In-Reply-To: <vita-brevis-breviter-in-brevi-finietur-mors-venit-velociter-quae-neminem-veretur-87sjc1pa47.fsf@shodan.gothgoose.net>
References: <501E5FD5.2020809@wildblue.net>
 <vita-brevis-breviter-in-brevi-finietur-mors-venit-velociter-quae-neminem-veretur-87sjc1pa47.fsf@shodan.gothgoose.net>
Message-ID: <20120805165410.GA17582@kiddo.robertalessi.net>

On Sun, Aug 05, 2012 at 06:38:32PM +0200, Marcus Frings wrote:
> * Daniel Branning <branning at wildblue.net> wrote:
> 
> > ... [v. 27308] works for me. Thanks, guys.
> 
> As for Daniel, the upgrade from 27290 to 27308 fixed the problem in my
> case, too. Weird, that Robert still reports the error to be present.
> 
> Best regards,
> Marcus

Yes.  The thing is that the error appeared in my case just after I got
the update to 27308.  But I am aware that we still have to wait a
couple of days to get the latest update which definitely fixes the
problem.

Best,

Robert


From kakuto at fuk.kindai.ac.jp  Mon Aug  6 01:36:02 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 6 Aug 2012 08:36:02 +0900
Subject: [tex-live] File issue with TL2012 on Windows
In-Reply-To: <501EA03D.8040506@morningstar2.co.uk>
References: <501EA03D.8040506@morningstar2.co.uk>
Message-ID: <13442097636123000074af@sniffer>

Hi Joseph,

> This compiles fine on Unix, or on Windows with MiKTeX 2.9, but fails
> with an up-to-date TL2012 (or indeed with TL2011): see the attached log
> file.

Confirmed. I can update TL2012 W32 binaries by fixed ones
if needed and allowed. (pdftex, tex, aleph and luatex).
In W32, input_line() is a bit different to skip byte order marks.
By removing the difference, the error disapears.
But xetex has its own input_line(). Please teach me what
happens in the case of xelatex.
xelatex w32 shows the same error.

Thanks,
Akira


From lomov.vl at gmail.com  Mon Aug  6 05:25:48 2012
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Mon, 6 Aug 2012 12:25:48 +0900
Subject: [tex-live] About 'TEXMFCNF' env var
Message-ID: <20120806032547.GG915@smoon>

Hello,

TeX Live manual discourages users to set `TEXMFCNF' env var (Sec. 7.1.2
"Config files") and in recent discussion on the ML several people
dislike the idea to use it as well.

AFAIU, this is mainly because usual user (not advanced or experienced)
may screw up the whole TeX Live installation.

Some time ago I wrote a (private) note about the use of `TEXMFCNF' to
manage multiple texmf trees and now I want to update it explicitly
describe sources of possible troubles.

The list below is what come to my mind:

If you set `TEXMFCNF' env var then you may get troubles
1. if you assign incorrect value for the env;
2. if you assign wrong value(s) in `texmf.cnf' found somewhere in
   `$TEXMFCNF' search path.

To find out the origin of trouble in this case (troubleshoot the
problem) you have to check both items:
1. unset the `TEXMFCNF' variable, run a terminal and do ... (precise
   steps);
2. if item #1 solve the problem then something wrong with you
   `texmf.cnf' file; check the ... (precise steps).

Any other source of troubles and how to solve them?

---
WBR, Vladimir Lomov

-- 
FORTUNE'S FUN FACTS TO KNOW AND TELL:		#14
	The Baby Ruth candy bar was not named after George Herman "The Babe"
Ruth, but after the oldest daughter of President Grover Cleveland.

From kakuto at fuk.kindai.ac.jp  Mon Aug  6 06:12:33 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 6 Aug 2012 13:12:33 +0900
Subject: [tex-live] File issue with TL2012 on Windows
In-Reply-To: <13442097636123000074af@sniffer>
References: <13442097636123000074af@sniffer>
Message-ID: <1344226353233550000002b7@sniffer>

> > This compiles fine on Unix, or on Windows with MiKTeX 2.9, but fails
> > with an up-to-date TL2012 (or indeed with TL2011): see the attached log
> > file.
> 
> Confirmed. I can update TL2012 W32 binaries by fixed ones
> if needed and allowed. (pdftex, tex, aleph and luatex).
> In W32, input_line() is a bit different to skip byte order marks.
> By removing the difference, the error disapears.
> But xetex has its own input_line(). Please teach me what
> happens in the case of xelatex.
> xelatex w32 shows the same error.

I've updated related binaries since this is a crucial W32 bug.
XeTeX is not changed.

Thanks,
Akira


From joseph.wright at morningstar2.co.uk  Mon Aug  6 08:34:29 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 6 Aug 2012 07:34:29 +0100
Subject: [tex-live] File issue with TL2012 on Windows
In-Reply-To: <1344226353233550000002b7@sniffer>
References: <13442097636123000074af@sniffer> <1344226353233550000002b7@sniffer>
Message-ID: <501F6575.70606@morningstar2.co.uk>

On 06/08/2012 05:12, Akira Kakuto wrote:
>>> This compiles fine on Unix, or on Windows with MiKTeX 2.9, but fails
>>> with an up-to-date TL2012 (or indeed with TL2011): see the attached log
>>> file.
>>
>> Confirmed. I can update TL2012 W32 binaries by fixed ones
>> if needed and allowed. (pdftex, tex, aleph and luatex).
>> In W32, input_line() is a bit different to skip byte order marks.
>> By removing the difference, the error disapears.
>> But xetex has its own input_line(). Please teach me what
>> happens in the case of xelatex.
>> xelatex w32 shows the same error.
> 
> I've updated related binaries since this is a crucial W32 bug.
> XeTeX is not changed.
> 
> Thanks,
> Akira
> 
Thanks for the rapid response.
--
Joseph Wright
-- 
Joseph Wright          Tel.   01604 810094
Morning Star           Mobile 07974 148180
2 Dowthorpe End        Skype  josephawright
Earls Barton
Northants NN6 0NH

From daleif at imf.au.dk  Mon Aug  6 11:52:33 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Mon, 6 Aug 2012 11:52:33 +0200
Subject: [tex-live] Old metapost label issue
Message-ID: <501F93E1.9080404@imf.au.dk>

Hi TL's

Back in 2010, I described a labelling problem in metapost regarding 
relative paths

Here is Tacos answer

http://www.tug.org/pipermail/tex-live/2010-February/024806.html

Does anyone know the status of this? The problem still exists, but I'm 
not sure if this should be a bug or a feature due to security?


-- 

/Lars Madsen

From daleif at imf.au.dk  Mon Aug  6 16:12:43 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Mon, 6 Aug 2012 16:12:43 +0200
Subject: [tex-live] Old metapost label issue
In-Reply-To: <501F93E1.9080404@imf.au.dk>
References: <501F93E1.9080404@imf.au.dk>
Message-ID: <501FD0DB.3060901@imf.au.dk>

Lars Madsen wrote, On 2012-08-06 11:52:
> Hi TL's
> 
> Back in 2010, I described a labelling problem in metapost regarding 
> relative paths
> 
> Here is Tacos answer
> 
> http://www.tug.org/pipermail/tex-live/2010-February/024806.html
> 
> Does anyone know the status of this? The problem still exists, but I'm 
> not sure if this should be a bug or a feature due to security?
> 
> 

Interestingly, the following log shows that this has worked lately.

This is MetaPost, version 1.211 (TeX Live 2010) (kpathsea version 6.0.0) 
(mem=mpost 2011.06.01)  22 JUN 2011 14:48
**g11.mp
(./g11.mp (../t11.mp [11] [12] [13] [21] [22] [23] [31] [32] [33] [1] 
[2] [3] )
  )
12 output files written: g11.1 .. g11.33

(sometimes it is quite useful to save all old files)


So what is different in metapost 1.504 ?

-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From khaledhosny at eglug.org  Wed Aug  8 12:33:07 2012
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Wed, 8 Aug 2012 12:33:07 +0200
Subject: [tex-live] File issue with TL2012 on Windows
In-Reply-To: <13442097636123000074af@sniffer>
References: <501EA03D.8040506@morningstar2.co.uk>
 <13442097636123000074af@sniffer>
Message-ID: <20120808103307.GA30300@khaled-laptop>

On Mon, Aug 06, 2012 at 08:36:02AM +0900, Akira Kakuto wrote:
> In W32, input_line() is a bit different to skip byte order marks.

Apart from the bug, why this is done only on Windows, BOM should be
escaped on other platforms as well, nothing Windows specific about it.

Regards,
 Khaled

From mpg at elzevir.fr  Wed Aug  8 12:59:08 2012
From: mpg at elzevir.fr (=?UTF-8?B?TWFudWVsIFDDqWdvdXJpw6ktR29ubmFyZA==?=)
Date: Wed, 8 Aug 2012 12:59:08 +0200
Subject: [tex-live] File issue with TL2012 on Windows
In-Reply-To: <20120808103307.GA30300@khaled-laptop>
References: <501EA03D.8040506@morningstar2.co.uk>
 <13442097636123000074af@sniffer> <20120808103307.GA30300@khaled-laptop>
Message-ID: <5022467C.70804@elzevir.fr>

On 08/08/2012 12:33, Khaled Hosny wrote:
> On Mon, Aug 06, 2012 at 08:36:02AM +0900, Akira Kakuto wrote:
>> In W32, input_line() is a bit different to skip byte order marks.
> 
> Apart from the bug, why this is done only on Windows, BOM should be
> escaped on other platforms as well, nothing Windows specific about it.
> 
I agree. In general, it seems desirable that the same file always gives the same
result under Windows and other systems.

Manuel.

From frank at kuesterei.ch  Wed Aug  8 21:28:18 2012
From: frank at kuesterei.ch (Frank Kuester)
Date: Wed, 8 Aug 2012 21:28:18 +0200
Subject: [tex-live] Bug#683567: texlive-pictures: Dependency error while
	using latex package adjustbox from this package
In-Reply-To: <20120801211243.8827.2906.reportbug@debian.linux> (Saulo Soares
 de Toledo's message of "Wed, 01 Aug 2012 18:12:43 -0300")
References: <20120801211243.8827.2906.reportbug@debian.linux>
Message-ID: <87d3319oa5.fsf@riesling.miltenberg.kuesterei.ch>

forwarded 683567 TeXLive Mailing List <tex-live at tug.org>
stop

Dear TeX Live Team, 

we got a report about a missing dependency between collections:

Saulo Soares de Toledo <saulotoledo at gmail.com> writes:

> Latex package adjustbox is inside texlive-pictures
> While trying use "\usepackage{adjustbox}", we receive the error
> "collectbox.sty not found". This happens because this file, required by
> adjustbox, is at package texlive-latex-extra
>
> texlive-pictures should depends of texlive-latex-extra then.

s/texlive/collection/g

Do you generally fix such issues, or would that result in a mess of
mutual and circular dependencies?

Regards, Frank

From karl at freefriends.org  Thu Aug  9 00:28:37 2012
From: karl at freefriends.org (Karl Berry)
Date: Wed, 8 Aug 2012 22:28:37 +0000
Subject: [tex-live] Bug#683567: texlive-pictures: Dependency error
	while	using latex package adjustbox from this package
In-Reply-To: <87d3319oa5.fsf@riesling.miltenberg.kuesterei.ch>
Message-ID: <201208082228.q78MSblG019416@freefriends.org>

Hi Frank and Saulo,

Thanks for the report.

1. I moved adjustbox to collection-latexextra.

2. Yes, in general, satisfying dependencies with the static collection-*
assignments we have is impossible, for a variety of reasons.  This is
one reason why everything is installed by default (in the original TL).

k

From yury.donskoy at gmail.com  Thu Aug  9 13:27:19 2012
From: yury.donskoy at gmail.com (Yury Donskoy)
Date: Thu, 9 Aug 2012 11:27:19 +0000
Subject: [tex-live] generate fmtutil fails
Message-ID: <loom.20120809T132218-226@post.gmane.org>

Unfortunately, my output from tlmgr update --self --all got all tangled up with 
other stuff that was being sent to my terminal, but I reran the command and got 
the following. This is on Fedora 17, i686.
---------------------------------------------
[texlive at Server45 ~]$ tlmgr generate --rebuild-sys fmtutil
running fmtutil-sys --all ...

Use of uninitialized value $out in concatenation (.) or string at 
/opt/texlive/2012/bin/i386-linux/tlmgr line 609.
fmtutil-sys --all failed (status -1), output:

[texlive at Server45 ~]$
--------------------------------------------
Here is everything that was updated today:

-rw-rw-r-- 1 texlive texlive     388 Aug  9 08:01 a2ping.i386-linux.r6834.tar.xz
-rw-rw-r-- 1 texlive texlive   45580 Aug  9 08:01 a2ping.r26313.tar.xz
-rw-rw-r-- 1 texlive texlive 2074528 Aug  9 08:01 biber.r27291.tar.xz
-rw-rw-r-- 1 texlive texlive     564 Aug  9 08:03 collection-
humanities.r27117.tar.xz
-rw-rw-r-- 1 texlive texlive    4064 Aug  9 08:03 collection-
latexextra.r27237.tar.xz
-rw-rw-r-- 1 texlive texlive     808 Aug  9 08:03 collection-
pictures.r26093.tar.xz
-rw-rw-r-- 1 texlive texlive     864 Aug  9 08:03 collection-
publishers.r26304.tar.xz
-rw-rw-r-- 1 texlive texlive    1520 Aug  9 08:01 cyrillic-bin.i386-
linux.r10.tar.xz
-rw-rw-r-- 1 texlive texlive    6792 Aug  9 08:01 cyrillic-bin.r26689.tar.xz
-rw-rw-r-- 1 texlive texlive     604 Aug  9 08:01 fontinst.i386-linux.r10.tar.xz
-rw-rw-r-- 1 texlive texlive 1445608 Aug  9 08:01 fontinst.r26689.tar.xz
-rw-rw-r-- 1 texlive texlive   41472 Aug  9 08:01 kpathsea.i386-
linux.r26573.tar.xz
-rw-rw-r-- 1 texlive texlive 1119872 Aug  9 08:01 kpathsea.r26691.tar.xz
-rw-rw-r-- 1 texlive texlive  547536 Aug  9 08:02 pdftex.i386-
linux.r26912.tar.xz
-rw-rw-r-- 1 texlive texlive 2852768 Aug  9 08:02 pdftex.r27147.tar.xz
-rw-rw-r-- 1 texlive texlive  177884 Aug  9 08:02 pdftools.i386-
linux.r26912.tar.xz
-rw-rw-r-- 1 texlive texlive   21940 Aug  9 08:02 pdftools.r26689.tar.xz
-rw-rw-r-- 1 texlive texlive    4564 Aug  9 08:02 pstools.i386-
linux.r22641.tar.xz
-rw-rw-r-- 1 texlive texlive   43152 Aug  9 08:02 pstools.r26689.tar.xz
-rw-rw-r-- 1 texlive texlive   16968 Aug  9 08:02 tetex.i386-linux.r26402.tar.xz
-rw-rw-r-- 1 texlive texlive  358272 Aug  9 08:02 tetex.r27265.tar.xz
-rw-rw-r-- 1 texlive texlive    9048 Aug  9 08:02 texconfig.i386-
linux.r22544.tar.xz
-rw-rw-r-- 1 texlive texlive   13592 Aug  9 08:02 texconfig.r26689.tar.xz
-rw-rw-r-- 1 texlive texlive     408 Aug  9 08:02 texdoc.i386-
linux.r12518.tar.xz
-rw-rw-r-- 1 texlive texlive  305304 Aug  9 08:02 texdoc.r27222.tar.xz
-rw-rw-r-- 1 texlive texlive  189336 Aug  9 08:02 texlive-docindex.r27294.tar.xz



From peb at mppmu.mpg.de  Thu Aug  9 13:42:04 2012
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Thu, 9 Aug 2012 13:42:04 +0200
Subject: [tex-live] File issue with TL2012 on Windows
Message-ID: <alpine.LNX.2.00.1208091333250.31081@pcl321.mppmu.mpg.de>

On Wed, 8 Aug 2012, Khaled Hosny  wrote:

> Apart from the bug, why this is done only on Windows, BOM should be
> escaped on other platforms as well, nothing Windows specific about it.

Certainly true in principle, although files with byte order marks are
probably much more common on Windows.

Implementing this in TeX Live will be a medium size operation involving
at least texk/web2c and texk/ptexenc and perhaps this would best be put into
texk/kpathsea.

Regards
Peter Breitenlohner <peb at mppmu.mpg.de>

From tljack at forallx.net  Thu Aug  9 19:39:40 2012
From: tljack at forallx.net (tljack at forallx.net)
Date: Thu, 9 Aug 2012 11:39:40 -0600
Subject: [tex-live] Broken fmtutil, fmtutil-sys
Message-ID: <3e50ddcc9aff3ed38b9a336f5c610b77@forallx.net>

Today I updated with tlmgr.  fmtutil-sys failed.  I tried to run it 
manually, only to get:

-bash: fmtutil-sys: command not found

even though my $PATH is fine.

The problem is that a very recent update turned fmtuil and fmtutil-sys 
into symlinks to shell scripts, but the very same update failed to 
actually install those shell scripts.  fmtutil.sh and fmtutil-sys.sh are 
nowhere to be found on my machine.

Their absence persists after doing:

tlmgr install --reinstall texlive.infra tetex

--Jack

From karl at freefriends.org  Thu Aug  9 23:50:21 2012
From: karl at freefriends.org (Karl Berry)
Date: Thu, 9 Aug 2012 21:50:21 +0000
Subject: [tex-live] Broken fmtutil, fmtutil-sys
In-Reply-To: <3e50ddcc9aff3ed38b9a336f5c610b77@forallx.net>
Message-ID: <201208092150.q79LoLCE003752@freefriends.org>

    The problem is that a very recent update turned fmtuil and fmtutil-sys 
    into symlinks to shell scripts

Thanks for the report.  Indeed, a consistency problem was introduced.  I
will work on fixing it for tonight's update.  Sorry for the trouble.

k


From vivrii at gmail.com  Fri Aug 10 07:49:00 2012
From: vivrii at gmail.com (Victor Ivrii)
Date: Fri, 10 Aug 2012 09:49:00 +0400
Subject: [tex-live] Hyperref, ntheorem and pagination
Message-ID: <CADP=ZZrp2z0p7XBUszb+T6uOU5cDsT-c+7k8+xkwSpH21afLxA@mail.gmail.com>

I have not touched certain tex document between hyperref 2012/07/29
v6.82v and 2012/08/03 v6.82y and with the former it worked well but
with the latter

line 32.

! Missing \endcsname inserted.
<to be read again>
                   \bx at A
l.33 \end{proof}

?
! Undefined control sequence.
\in@ #1#2->\begingroup \def \in@@







Example:

important: to get an error use ntheorem rather than amsthm and the
"textfill"  is essential, also it isa important to have memoir (but
probably with different text fill article  breaks)




\documentclass[12pt,letter]{memoir}
\usepackage[amsthm,hyperref]{ntheorem}

\usepackage[english]{babel}






\usepackage{hyperref}



\begin{document}






However one can notice that essentially the same operators were
introduced byHowever one can notice that essentially the same
operators were introduced byHowever one can notice that essentially
the same operators were introduced byHowever one can notice that
essentially the same operators were introduced byHowever one However
one can notice that essentially the same operators were introduced
byHowever one can notice that essentially the same operators were
introduced byHowever one can notice that essentially the same
operators were introduced byHowever one can notice that essenHowever
one can notice that essentially the same operators were introduced
byHowever one can notice that essentially the same operators were
introduced byHowever one can notice that essentially the same
operators were introduced byHowever one can notice that essentially
the same operators were introduced byHowever one can notice that
essentially the same operators were introduced byHowever one can
notice that essentially the same operators were introduced byHowever
one can notice that essentially the same operators were introduced
byHowever one can notice that essentially the same operators were
introduced byHowever one can notice that essentially the same
operators were introduced byHowever one can notice that essentially
the same operators were introduced byHowever one can notice that
essentially the same operators were introduced byHowever one can
notice that essentially the same operators were introduced byHowever
one can notice that essentially the same operators were introduced
bytially the same operators were introduced bycan notice that
essentially the same operators were introduced byHoHowever one can
notice that essentially the same operators were introduced byHowever
one can notice that essentially the same operators were introduced
byHowever one can notice that essentially the same operators were
introduced bywever one can notice that essentially the same operators
were introduced byHowever one can notice that essentially the same
operators were introduced byHowever one can notice that essentially
the same operators were introduced byHowever one can notice that
essentially the same operators were introduced byHowever one can
notice that essentially the same operators were introduced by


However one can notice that essentially the same operators were introduced by
A.~Calderon-A.~Zygmund and S.~Mihlin as singular integral operators.
Also quantization procedure was introduced first by H.~Weyl, who used
yet
\begin{equation}
1+1=2\end{equation}


\begin{proof}
Blah
\end{proof}



\end{document}

-- 
========================
Victor Ivrii, Professor, Department of Mathematics, University of Toronto
http://www.math.toronto.edu/ivrii

From angelo.graziosi at alice.it  Mon Aug 13 14:15:13 2012
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Mon, 13 Aug 2012 14:15:13 +0200
Subject: [tex-live] updmap-sys failed in current upgrade
Message-ID: <5028EFD1.9090408@alice.it>

Today I rsynced ftp://ftp.tug.org/texlive/tlnet to my local repo:

   rsync -avz --delete tug.org::texlive/tlnet/ ~/work/tlnet_repo/

then, I did

$ tlmgr update -list
tlmgr: package repository ~/work/tlnet_repo
update:   a2ping              [48k]: local:    26313, source:    27321
update:   biber             [2028k]: local:    27291, source:    27332
update:   biblatex          [6441k]: local:    27290, source:    27308
update:   context-vim         [15k]: local:    27231, source:    27374
update:   cyrillic-bin         [9k]: local:    26689, source:    27328
update:   fontinst          [1467k]: local:    26689, source:    27335
update:   hyperref          [3643k]: local:    27298, source:    27375
update:   kpathsea          [1090k]: local:    26691, source:    27341
update:   pdftex            [2789k]: local:    27147, source:    27321
update:   pdftools            [22k]: local:    26689, source:    27321
update:   pstools             [45k]: local:    26689, source:    27328
update:   tetex              [376k]: local:    27265, source:    27355
update:   texconfig           [22k]: local:    26689, source:    27343
update:   texdoc             [301k]: local:    27222, source:    27321
update:   texlive-docindex   [188k]: local:    27294, source:    27372
update:   texlive-scripts     [69k]: local:    27282, source:    27312
autoinst: ktv-texdata        [205k]: local: <absent>, source:    27369
autoinst: nestquot             [2k]: local: <absent>, source:    27323
autoinst: opteng              [43k]: local: <absent>, source:    27331
autoinst: rrgtrees           [103k]: local: <absent>, source:    27322
autoinst: tamefloats           [7k]: local: <absent>, source:    27345
autoinst: uwmslide            [16k]: local: <absent>, source:    27354
update:   collection-humanities [1k]: local:    27117, source:    27322
update:   collection-latexextra [4k]: local:    27237, source:    27369
update:   collection-pictures  [1k]: local:    26093, source:    27346
update:   collection-publishers [1k]: local:    26304, source:    27331

and

$ tlmgr update -self
tlmgr: package repository ~/work/tlnet_repo
tlmgr: no updates for tlmgr present.
...

$ tlmgr update -all
tlmgr: package repository ~/work/tlnet_repo
[ 1/26, ??:??/??:??] update: a2ping [48k] (26313 -> 27321) ... done
[ 2/26, 00:02/13:16] update: biber [2028k] (27291 -> 27332) ... done
[ 3/26, 00:05/00:45] update: biblatex [6441k] (27290 -> 27308) ... done
[ 4/26, 00:15/00:33] update: context-vim [15k] (27231 -> 27374) ... done
[ 5/26, 00:18/00:39] update: cyrillic-bin [9k] (26689 -> 27328) ... done
[ 6/26, 00:20/00:44] update: fontinst [1467k] (26689 -> 27335) ... done
[ 7/26, 00:24/00:45] update: hyperref [3643k] (27298 -> 27375) ... done
[ 8/26, 00:29/00:40] update: kpathsea [1090k] (26691 -> 27341) ... done
[ 9/26, 00:32/00:41] update: pdftex [2789k] (27147 -> 27321) ... done
[10/26, 00:37/00:39] update: pdftools [22k] (26689 -> 27321) ... done
[11/26, 00:39/00:42] update: pstools [45k] (26689 -> 27328) ... done
[12/26, 00:41/00:44] update: tetex [376k] (27265 -> 27355) ... done
[13/26, 00:44/00:46] update: texconfig [22k] (26689 -> 27343) ... done
[14/26, 00:48/00:50] update: texdoc [301k] (27222 -> 27321) ... done
[15/26, 00:51/00:52] update: texlive-docindex [188k] (27294 -> 27372) 
... done
[16/26, 00:53/00:54] update: texlive-scripts [69k] (27282 -> 27312) ... done
[17/26, 00:56/00:57] auto-install: ktv-texdata (27369) [205k] ... done
[18/26, 00:57/00:57] auto-install: nestquot (27323) [2k] ... done
[19/26, 00:58/00:58] auto-install: opteng (27331) [43k] ... done
[20/26, 00:59/00:59] auto-install: rrgtrees (27322) [103k] ... done
[21/26, 01:00/01:00] auto-install: tamefloats (27345) [7k] ... done
[22/26, 01:01/01:01] auto-install: uwmslide (27354) [16k] ... done
[23/26, 01:02/01:02] update: collection-humanities [1k] (27117 -> 27322) 
... don
e
[24/26, 01:04/01:04] update: collection-latexextra [4k] (27237 -> 27369) 
... done
[25/26, 01:06/01:06] update: collection-pictures [1k] (26093 -> 27346) 
... done
[26/26, 01:08/01:08] update: collection-publishers [1k] (26304 -> 27331) 
... done
tlmgr: package log updated at /usr/local/texlive/texmf-var/web2c/tlmgr.log
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
running updmap-sys ...

Use of uninitialized value $out in concatenation (.) or string at 
/texlive/bin/custom/tlmgr line 609.
updmap-sys failed (status -1), output:

regenerating fmtutil.cnf in /usr/local/texlive/texmf-var
running fmtutil-sys --no-error-if-no-format --byengine pdftex ...
done running fmtutil-sys --no-error-if-no-format --byengine pdftex.
tlmgr: exiting unsuccessfully (status 1).


Should I simply wait the next update or can I do something?


TIA,
  Angelo.

From herbs at wideopenwest.com  Mon Aug 13 15:16:15 2012
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Mon, 13 Aug 2012 08:16:15 -0500
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <5028EFD1.9090408@alice.it>
References: <5028EFD1.9090408@alice.it>
Message-ID: <99C07DF2-A567-4BD1-ABC9-EB2FF3EA52F6@wideopenwest.com>


On Aug 13, 2012, at 7:15 AM, Angelo Graziosi wrote:

> Today I rsynced ftp://ftp.tug.org/texlive/tlnet to my local repo:
> 
>  rsync -avz --delete tug.org::texlive/tlnet/ ~/work/tlnet_repo/
> 
> then, I did
> 
> $ tlmgr update -list
> tlmgr: package repository ~/work/tlnet_repo
> update:   a2ping              [48k]: local:    26313, source:    27321
> update:   biber             [2028k]: local:    27291, source:    27332
> update:   biblatex          [6441k]: local:    27290, source:    27308
> update:   context-vim         [15k]: local:    27231, source:    27374
> update:   cyrillic-bin         [9k]: local:    26689, source:    27328
> update:   fontinst          [1467k]: local:    26689, source:    27335
> update:   hyperref          [3643k]: local:    27298, source:    27375
> update:   kpathsea          [1090k]: local:    26691, source:    27341
> update:   pdftex            [2789k]: local:    27147, source:    27321
> update:   pdftools            [22k]: local:    26689, source:    27321
> update:   pstools             [45k]: local:    26689, source:    27328
> update:   tetex              [376k]: local:    27265, source:    27355
> update:   texconfig           [22k]: local:    26689, source:    27343
> update:   texdoc             [301k]: local:    27222, source:    27321
> update:   texlive-docindex   [188k]: local:    27294, source:    27372
> update:   texlive-scripts     [69k]: local:    27282, source:    27312
> autoinst: ktv-texdata        [205k]: local: <absent>, source:    27369
> autoinst: nestquot             [2k]: local: <absent>, source:    27323
> autoinst: opteng              [43k]: local: <absent>, source:    27331
> autoinst: rrgtrees           [103k]: local: <absent>, source:    27322
> autoinst: tamefloats           [7k]: local: <absent>, source:    27345
> autoinst: uwmslide            [16k]: local: <absent>, source:    27354
> update:   collection-humanities [1k]: local:    27117, source:    27322
> update:   collection-latexextra [4k]: local:    27237, source:    27369
> update:   collection-pictures  [1k]: local:    26093, source:    27346
> update:   collection-publishers [1k]: local:    26304, source:    27331
> 
> and
> 
> $ tlmgr update -self
> tlmgr: package repository ~/work/tlnet_repo
> tlmgr: no updates for tlmgr present.
> ...
> 
> $ tlmgr update -all
> tlmgr: package repository ~/work/tlnet_repo
> [ 1/26, ??:??/??:??] update: a2ping [48k] (26313 -> 27321) ... done
> [ 2/26, 00:02/13:16] update: biber [2028k] (27291 -> 27332) ... done
> [ 3/26, 00:05/00:45] update: biblatex [6441k] (27290 -> 27308) ... done
> [ 4/26, 00:15/00:33] update: context-vim [15k] (27231 -> 27374) ... done
> [ 5/26, 00:18/00:39] update: cyrillic-bin [9k] (26689 -> 27328) ... done
> [ 6/26, 00:20/00:44] update: fontinst [1467k] (26689 -> 27335) ... done
> [ 7/26, 00:24/00:45] update: hyperref [3643k] (27298 -> 27375) ... done
> [ 8/26, 00:29/00:40] update: kpathsea [1090k] (26691 -> 27341) ... done
> [ 9/26, 00:32/00:41] update: pdftex [2789k] (27147 -> 27321) ... done
> [10/26, 00:37/00:39] update: pdftools [22k] (26689 -> 27321) ... done
> [11/26, 00:39/00:42] update: pstools [45k] (26689 -> 27328) ... done
> [12/26, 00:41/00:44] update: tetex [376k] (27265 -> 27355) ... done
> [13/26, 00:44/00:46] update: texconfig [22k] (26689 -> 27343) ... done
> [14/26, 00:48/00:50] update: texdoc [301k] (27222 -> 27321) ... done
> [15/26, 00:51/00:52] update: texlive-docindex [188k] (27294 -> 27372) ... done
> [16/26, 00:53/00:54] update: texlive-scripts [69k] (27282 -> 27312) ... done
> [17/26, 00:56/00:57] auto-install: ktv-texdata (27369) [205k] ... done
> [18/26, 00:57/00:57] auto-install: nestquot (27323) [2k] ... done
> [19/26, 00:58/00:58] auto-install: opteng (27331) [43k] ... done
> [20/26, 00:59/00:59] auto-install: rrgtrees (27322) [103k] ... done
> [21/26, 01:00/01:00] auto-install: tamefloats (27345) [7k] ... done
> [22/26, 01:01/01:01] auto-install: uwmslide (27354) [16k] ... done
> [23/26, 01:02/01:02] update: collection-humanities [1k] (27117 -> 27322) ... don
> e
> [24/26, 01:04/01:04] update: collection-latexextra [4k] (27237 -> 27369) ... done
> [25/26, 01:06/01:06] update: collection-pictures [1k] (26093 -> 27346) ... done
> [26/26, 01:08/01:08] update: collection-publishers [1k] (26304 -> 27331) ... done
> tlmgr: package log updated at /usr/local/texlive/texmf-var/web2c/tlmgr.log
> running mktexlsr ...
> done running mktexlsr.
> running mtxrun --generate ...
> done running mtxrun --generate.
> running updmap-sys ...
> 
> Use of uninitialized value $out in concatenation (.) or string at /texlive/bin/custom/tlmgr line 609.
> updmap-sys failed (status -1), output:
> 
> regenerating fmtutil.cnf in /usr/local/texlive/texmf-var
> running fmtutil-sys --no-error-if-no-format --byengine pdftex ...
> done running fmtutil-sys --no-error-if-no-format --byengine pdftex.
> tlmgr: exiting unsuccessfully (status 1).
> 
> 
> Should I simply wait the next update or can I do something?
> 
> 
> TIA,
> Angelo.


Howdy,

That was a one day glitch that was fixed for a few days ago. 

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)





From angelo.graziosi at alice.it  Mon Aug 13 16:11:51 2012
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Mon, 13 Aug 2012 16:11:51 +0200
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <99C07DF2-A567-4BD1-ABC9-EB2FF3EA52F6@wideopenwest.com>
References: <5028EFD1.9090408@alice.it>
 <99C07DF2-A567-4BD1-ABC9-EB2FF3EA52F6@wideopenwest.com>
Message-ID: <50290B27.7010809@alice.it>


Il 13/08/2012 15.16, Herbert Schulz ha scritto:
>
> On Aug 13, 2012, at 7:15 AM, Angelo Graziosi wrote:
>
>> Today I rsynced ftp://ftp.tug.org/texlive/tlnet to my local repo:
>>
>>   rsync -avz --delete tug.org::texlive/tlnet/ ~/work/tlnet_repo/
>>
>> then, I did
>>
>> $ tlmgr update -list
>> tlmgr: package repository ~/work/tlnet_repo
>> update:   a2ping              [48k]: local:    26313, source:    27321
>> update:   biber             [2028k]: local:    27291, source:    27332
>> update:   biblatex          [6441k]: local:    27290, source:    27308
>> update:   context-vim         [15k]: local:    27231, source:    27374
>> update:   cyrillic-bin         [9k]: local:    26689, source:    27328
>> update:   fontinst          [1467k]: local:    26689, source:    27335
>> update:   hyperref          [3643k]: local:    27298, source:    27375
>> update:   kpathsea          [1090k]: local:    26691, source:    27341
>> update:   pdftex            [2789k]: local:    27147, source:    27321
>> update:   pdftools            [22k]: local:    26689, source:    27321
>> update:   pstools             [45k]: local:    26689, source:    27328
>> update:   tetex              [376k]: local:    27265, source:    27355
>> update:   texconfig           [22k]: local:    26689, source:    27343
>> update:   texdoc             [301k]: local:    27222, source:    27321
>> update:   texlive-docindex   [188k]: local:    27294, source:    27372
>> update:   texlive-scripts     [69k]: local:    27282, source:    27312
>> autoinst: ktv-texdata        [205k]: local: <absent>, source:    27369
>> autoinst: nestquot             [2k]: local: <absent>, source:    27323
>> autoinst: opteng              [43k]: local: <absent>, source:    27331
>> autoinst: rrgtrees           [103k]: local: <absent>, source:    27322
>> autoinst: tamefloats           [7k]: local: <absent>, source:    27345
>> autoinst: uwmslide            [16k]: local: <absent>, source:    27354
>> update:   collection-humanities [1k]: local:    27117, source:    27322
>> update:   collection-latexextra [4k]: local:    27237, source:    27369
>> update:   collection-pictures  [1k]: local:    26093, source:    27346
>> update:   collection-publishers [1k]: local:    26304, source:    27331
>>
>> and
>>
>> $ tlmgr update -self
>> tlmgr: package repository ~/work/tlnet_repo
>> tlmgr: no updates for tlmgr present.
>> ...
>>
>> $ tlmgr update -all
>> tlmgr: package repository ~/work/tlnet_repo
>> [ 1/26, ??:??/??:??] update: a2ping [48k] (26313 -> 27321) ... done
>> [ 2/26, 00:02/13:16] update: biber [2028k] (27291 -> 27332) ... done
>> [ 3/26, 00:05/00:45] update: biblatex [6441k] (27290 -> 27308) ... done
>> [ 4/26, 00:15/00:33] update: context-vim [15k] (27231 -> 27374) ... done
>> [ 5/26, 00:18/00:39] update: cyrillic-bin [9k] (26689 -> 27328) ... done
>> [ 6/26, 00:20/00:44] update: fontinst [1467k] (26689 -> 27335) ... done
>> [ 7/26, 00:24/00:45] update: hyperref [3643k] (27298 -> 27375) ... done
>> [ 8/26, 00:29/00:40] update: kpathsea [1090k] (26691 -> 27341) ... done
>> [ 9/26, 00:32/00:41] update: pdftex [2789k] (27147 -> 27321) ... done
>> [10/26, 00:37/00:39] update: pdftools [22k] (26689 -> 27321) ... done
>> [11/26, 00:39/00:42] update: pstools [45k] (26689 -> 27328) ... done
>> [12/26, 00:41/00:44] update: tetex [376k] (27265 -> 27355) ... done
>> [13/26, 00:44/00:46] update: texconfig [22k] (26689 -> 27343) ... done
>> [14/26, 00:48/00:50] update: texdoc [301k] (27222 -> 27321) ... done
>> [15/26, 00:51/00:52] update: texlive-docindex [188k] (27294 -> 27372) ... done
>> [16/26, 00:53/00:54] update: texlive-scripts [69k] (27282 -> 27312) ... done
>> [17/26, 00:56/00:57] auto-install: ktv-texdata (27369) [205k] ... done
>> [18/26, 00:57/00:57] auto-install: nestquot (27323) [2k] ... done
>> [19/26, 00:58/00:58] auto-install: opteng (27331) [43k] ... done
>> [20/26, 00:59/00:59] auto-install: rrgtrees (27322) [103k] ... done
>> [21/26, 01:00/01:00] auto-install: tamefloats (27345) [7k] ... done
>> [22/26, 01:01/01:01] auto-install: uwmslide (27354) [16k] ... done
>> [23/26, 01:02/01:02] update: collection-humanities [1k] (27117 -> 27322) ... don
>> e
>> [24/26, 01:04/01:04] update: collection-latexextra [4k] (27237 -> 27369) ... done
>> [25/26, 01:06/01:06] update: collection-pictures [1k] (26093 -> 27346) ... done
>> [26/26, 01:08/01:08] update: collection-publishers [1k] (26304 -> 27331) ... done
>> tlmgr: package log updated at /usr/local/texlive/texmf-var/web2c/tlmgr.log
>> running mktexlsr ...
>> done running mktexlsr.
>> running mtxrun --generate ...
>> done running mtxrun --generate.
>> running updmap-sys ...
>>
>> Use of uninitialized value $out in concatenation (.) or string at /texlive/bin/custom/tlmgr line 609.
>> updmap-sys failed (status -1), output:
>>
>> regenerating fmtutil.cnf in /usr/local/texlive/texmf-var
>> running fmtutil-sys --no-error-if-no-format --byengine pdftex ...
>> done running fmtutil-sys --no-error-if-no-format --byengine pdftex.
>> tlmgr: exiting unsuccessfully (status 1).
>>
>>
>> Should I simply wait the next update or can I do something?
>>
>>
>> TIA,
>> Angelo.
>
>
> Howdy,
>
> That was a one day glitch that was fixed for a few days ago.

Hmmm... apparently, not yet... I did the updates just a few minutes 
before my post... :-(

Ciao,
   Angelo.


From herbs at wideopenwest.com  Mon Aug 13 16:46:07 2012
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Mon, 13 Aug 2012 09:46:07 -0500
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <50290B27.7010809@alice.it>
References: <5028EFD1.9090408@alice.it>
 <99C07DF2-A567-4BD1-ABC9-EB2FF3EA52F6@wideopenwest.com>
 <50290B27.7010809@alice.it>
Message-ID: <F2900A41-CA6B-4A3E-8926-E8AC3856BCE3@wideopenwest.com>


On Aug 13, 2012, at 9:11 AM, Angelo Graziosi wrote:

> 
> Il 13/08/2012 15.16, Herbert Schulz ha scritto:
>> 
>> On Aug 13, 2012, at 7:15 AM, Angelo Graziosi wrote:
>> 
>>> Today I rsynced ftp://ftp.tug.org/texlive/tlnet to my local repo:
>>> 
>>>  rsync -avz --delete tug.org::texlive/tlnet/ ~/work/tlnet_repo/
>>> 
>>> then, I did
>>> 
>>> $ tlmgr update -list
>>> tlmgr: package repository ~/work/tlnet_repo
>>> update:   a2ping              [48k]: local:    26313, source:    27321
>>> update:   biber             [2028k]: local:    27291, source:    27332
>>> update:   biblatex          [6441k]: local:    27290, source:    27308
>>> update:   context-vim         [15k]: local:    27231, source:    27374
>>> update:   cyrillic-bin         [9k]: local:    26689, source:    27328
>>> update:   fontinst          [1467k]: local:    26689, source:    27335
>>> update:   hyperref          [3643k]: local:    27298, source:    27375
>>> update:   kpathsea          [1090k]: local:    26691, source:    27341
>>> update:   pdftex            [2789k]: local:    27147, source:    27321
>>> update:   pdftools            [22k]: local:    26689, source:    27321
>>> update:   pstools             [45k]: local:    26689, source:    27328
>>> update:   tetex              [376k]: local:    27265, source:    27355
>>> update:   texconfig           [22k]: local:    26689, source:    27343
>>> update:   texdoc             [301k]: local:    27222, source:    27321
>>> update:   texlive-docindex   [188k]: local:    27294, source:    27372
>>> update:   texlive-scripts     [69k]: local:    27282, source:    27312
>>> autoinst: ktv-texdata        [205k]: local: <absent>, source:    27369
>>> autoinst: nestquot             [2k]: local: <absent>, source:    27323
>>> autoinst: opteng              [43k]: local: <absent>, source:    27331
>>> autoinst: rrgtrees           [103k]: local: <absent>, source:    27322
>>> autoinst: tamefloats           [7k]: local: <absent>, source:    27345
>>> autoinst: uwmslide            [16k]: local: <absent>, source:    27354
>>> update:   collection-humanities [1k]: local:    27117, source:    27322
>>> update:   collection-latexextra [4k]: local:    27237, source:    27369
>>> update:   collection-pictures  [1k]: local:    26093, source:    27346
>>> update:   collection-publishers [1k]: local:    26304, source:    27331
>>> 
>>> and
>>> 
>>> $ tlmgr update -self
>>> tlmgr: package repository ~/work/tlnet_repo
>>> tlmgr: no updates for tlmgr present.
>>> ...
>>> 
>>> $ tlmgr update -all
>>> tlmgr: package repository ~/work/tlnet_repo
>>> [ 1/26, ??:??/??:??] update: a2ping [48k] (26313 -> 27321) ... done
>>> [ 2/26, 00:02/13:16] update: biber [2028k] (27291 -> 27332) ... done
>>> [ 3/26, 00:05/00:45] update: biblatex [6441k] (27290 -> 27308) ... done
>>> [ 4/26, 00:15/00:33] update: context-vim [15k] (27231 -> 27374) ... done
>>> [ 5/26, 00:18/00:39] update: cyrillic-bin [9k] (26689 -> 27328) ... done
>>> [ 6/26, 00:20/00:44] update: fontinst [1467k] (26689 -> 27335) ... done
>>> [ 7/26, 00:24/00:45] update: hyperref [3643k] (27298 -> 27375) ... done
>>> [ 8/26, 00:29/00:40] update: kpathsea [1090k] (26691 -> 27341) ... done
>>> [ 9/26, 00:32/00:41] update: pdftex [2789k] (27147 -> 27321) ... done
>>> [10/26, 00:37/00:39] update: pdftools [22k] (26689 -> 27321) ... done
>>> [11/26, 00:39/00:42] update: pstools [45k] (26689 -> 27328) ... done
>>> [12/26, 00:41/00:44] update: tetex [376k] (27265 -> 27355) ... done
>>> [13/26, 00:44/00:46] update: texconfig [22k] (26689 -> 27343) ... done
>>> [14/26, 00:48/00:50] update: texdoc [301k] (27222 -> 27321) ... done
>>> [15/26, 00:51/00:52] update: texlive-docindex [188k] (27294 -> 27372) ... done
>>> [16/26, 00:53/00:54] update: texlive-scripts [69k] (27282 -> 27312) ... done
>>> [17/26, 00:56/00:57] auto-install: ktv-texdata (27369) [205k] ... done
>>> [18/26, 00:57/00:57] auto-install: nestquot (27323) [2k] ... done
>>> [19/26, 00:58/00:58] auto-install: opteng (27331) [43k] ... done
>>> [20/26, 00:59/00:59] auto-install: rrgtrees (27322) [103k] ... done
>>> [21/26, 01:00/01:00] auto-install: tamefloats (27345) [7k] ... done
>>> [22/26, 01:01/01:01] auto-install: uwmslide (27354) [16k] ... done
>>> [23/26, 01:02/01:02] update: collection-humanities [1k] (27117 -> 27322) ... don
>>> e
>>> [24/26, 01:04/01:04] update: collection-latexextra [4k] (27237 -> 27369) ... done
>>> [25/26, 01:06/01:06] update: collection-pictures [1k] (26093 -> 27346) ... done
>>> [26/26, 01:08/01:08] update: collection-publishers [1k] (26304 -> 27331) ... done
>>> tlmgr: package log updated at /usr/local/texlive/texmf-var/web2c/tlmgr.log
>>> running mktexlsr ...
>>> done running mktexlsr.
>>> running mtxrun --generate ...
>>> done running mtxrun --generate.
>>> running updmap-sys ...
>>> 
>>> Use of uninitialized value $out in concatenation (.) or string at /texlive/bin/custom/tlmgr line 609.
>>> updmap-sys failed (status -1), output:
>>> 
>>> regenerating fmtutil.cnf in /usr/local/texlive/texmf-var
>>> running fmtutil-sys --no-error-if-no-format --byengine pdftex ...
>>> done running fmtutil-sys --no-error-if-no-format --byengine pdftex.
>>> tlmgr: exiting unsuccessfully (status 1).
>>> 
>>> 
>>> Should I simply wait the next update or can I do something?
>>> 
>>> 
>>> TIA,
>>> Angelo.
>> 
>> 
>> Howdy,
>> 
>> That was a one day glitch that was fixed for a few days ago.
> 
> Hmmm... apparently, not yet... I did the updates just a few minutes before my post... :-(
> 
> Ciao,
>  Angelo.

Howdy,

Wait, I'm mixing that up with a glitch with fmtutil-sys a few days ago. Your error line was very similar to the one with the fmtutil-sys and I jumped to a conclusion.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)





From preining at logic.at  Mon Aug 13 23:12:24 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 14 Aug 2012 06:12:24 +0900
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <5028EFD1.9090408@alice.it>
References: <5028EFD1.9090408@alice.it>
Message-ID: <20120813211224.GG25835@gamma.logic.tuwien.ac.at>

On Mo, 13 Aug 2012, Angelo Graziosi wrote:
> Use of uninitialized value $out in concatenation (.) or string at  
> /texlive/bin/custom/tlmgr line 609.

Message of tlmgr, ok, but that is not the problem.

> updmap-sys failed (status -1), output:

There is NO output at all...

Can you please run
	updmap-sys
manually as root and send the output?

It might be that the moving of scripts that happened recently
created a problem.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
BOSEMAN
One who spends all day loafing about near pedestrian crossing looking
as if he's about to cross.
			--- Douglas Adams, The Meaning of Liff

From reinhard.kotucha at web.de  Mon Aug 13 23:25:45 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 13 Aug 2012 23:25:45 +0200
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <5028EFD1.9090408@alice.it>
References: <5028EFD1.9090408@alice.it>
Message-ID: <20521.28889.593296.209468@zaphod.ms25.net>

On 2012-08-13 at 14:15:13 +0200, Angelo Graziosi wrote:

 > $ tlmgr update -all
 > ...
 > 
 > running updmap-sys ...
 > 
 > Use of uninitialized value $out in concatenation (.) or string at 
 > /texlive/bin/custom/tlmgr line 609.
 > updmap-sys failed (status -1), output:

I just ran tlmgr update --self --all myself and it worked like a
charm.

What happens if you run updmap-sys on the command line?

  updmap-sys ; echo $?

What is the exit status reported by "echo $?" then?  If it doesn't
work, check the output of

  updmap-sys --version

And what is the directory "texlive/bin/custom/"?  If you've customized
your TeX Live installation, you probably have to provide more
information.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From herbs at wideopenwest.com  Mon Aug 13 23:27:44 2012
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Mon, 13 Aug 2012 16:27:44 -0500
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <20120813211224.GG25835@gamma.logic.tuwien.ac.at>
References: <5028EFD1.9090408@alice.it>
 <20120813211224.GG25835@gamma.logic.tuwien.ac.at>
Message-ID: <285486A2-C2AD-4F75-8337-A12379502E14@wideopenwest.com>


On Aug 13, 2012, at 4:12 PM, Norbert Preining wrote:

> On Mo, 13 Aug 2012, Angelo Graziosi wrote:
>> Use of uninitialized value $out in concatenation (.) or string at  
>> /texlive/bin/custom/tlmgr line 609.
> 
> Message of tlmgr, ok, but that is not the problem.
> 
>> updmap-sys failed (status -1), output:
> 
> There is NO output at all...
> 
> Can you please run
> 	updmap-sys
> manually as root and send the output?
> 
> It might be that the moving of scripts that happened recently
> created a problem.
> 
> Best wishes
> 
> Norbert


Howdy,

Just ran

sudo -H updmap-sys

on my Mac with a fully updated (earlier today) TL2012 without a problem.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)




From angelo.graziosi at alice.it  Tue Aug 14 10:18:40 2012
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Tue, 14 Aug 2012 10:18:40 +0200
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <20120813211224.GG25835@gamma.logic.tuwien.ac.at>
References: <5028EFD1.9090408@alice.it>
 <20120813211224.GG25835@gamma.logic.tuwien.ac.at>
Message-ID: <502A09E0.2040807@alice.it>

The problem is that now, after the update, the link

  /texlive/bin/custom/updmap-sys -> ../../texmf/scripts/tetex/updmap-sys.sh

Indeed now

$ find /usr/local/texlive/ -name "*updmap-sys.sh*"
/usr/local/texlive/texmf-dist/scripts/tetex/updmap-sys.sh


The upgrade created a wrong link or moved updmap-sys.sh... :-(

Since the release of TL2012, the update worked fine, also with updmap-sys

"custom" means I am using my built binaries...

Ciao,
Angelo.

Il 13/08/2012 23.12, Norbert Preining ha scritto:
> On Mo, 13 Aug 2012, Angelo Graziosi wrote:
>> Use of uninitialized value $out in concatenation (.) or string at
>> /texlive/bin/custom/tlmgr line 609.
>
> Message of tlmgr, ok, but that is not the problem.
>
>> updmap-sys failed (status -1), output:
>
> There is NO output at all...
>
> Can you please run
> 	updmap-sys
> manually as root and send the output?
>
> It might be that the moving of scripts that happened recently
> created a problem.
>
> Best wishes
>
> Norbert
> ------------------------------------------------------------------------
> Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
> JAIST, Japan                                 TeX Live & Debian Developer
> DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
> ------------------------------------------------------------------------
> BOSEMAN
> One who spends all day loafing about near pedestrian crossing looking
> as if he's about to cross.
> 			--- Douglas Adams, The Meaning of Liff
>


From preining at logic.at  Tue Aug 14 10:55:58 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 14 Aug 2012 17:55:58 +0900
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <502A09E0.2040807@alice.it>
References: <5028EFD1.9090408@alice.it>
 <20120813211224.GG25835@gamma.logic.tuwien.ac.at> <502A09E0.2040807@alice.it>
Message-ID: <20120814085558.GB30316@gamma.logic.tuwien.ac.at>

On Di, 14 Aug 2012, Angelo Graziosi wrote:
> "custom" means I am using my built binaries...

Then you missed some updates in the binaries of course, the link 
targets have changed, and that cannot be executed in custom bins.

You need to manually update *several* links as most of the scripts
are now in texmf-dist and not as before in texmf.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
MARKET DEEPING (participial vb.)
Stealing one piece of fruit from a street fruit-and- vegetable stall.
			--- Douglas Adams, The Meaning of Liff

From pander at users.sourceforge.net  Tue Aug 14 11:21:29 2012
From: pander at users.sourceforge.net (Pander)
Date: Tue, 14 Aug 2012 11:21:29 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
Message-ID: <502A1899.5020001@users.sourceforge.net>

Hi all,

XeLaTeX (and probably more) is not working for all my documents after I
upgraded today. The error is:

Messages for file
/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
! LaTeX Error: Missing \begin{document}.
See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...
l.1591 \DeclareTextCommand[\textBeam}{P
                                       U}{\9043\223}%* U+2393

How can this be fixed?

Thanks,

Pander

From angelo.graziosi at alice.it  Tue Aug 14 11:48:32 2012
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Tue, 14 Aug 2012 11:48:32 +0200
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <20120814085558.GB30316@gamma.logic.tuwien.ac.at>
References: <5028EFD1.9090408@alice.it>
 <20120813211224.GG25835@gamma.logic.tuwien.ac.at> <502A09E0.2040807@alice.it>
 <20120814085558.GB30316@gamma.logic.tuwien.ac.at>
Message-ID: <502A1EF0.3040604@alice.it>

Il 14/08/2012 10.55, Norbert Preining ha scritto:
> On Di, 14 Aug 2012, Angelo Graziosi wrote:
>> "custom" means I am using my built binaries...
>
> Then you missed some updates in the binaries of course, the link

I upgrade daily TL2012...

Instead, I think that

> targets have changed, and that cannot be executed in custom bins.
> You need to manually update *several* links as most of the scripts
> are now in texmf-dist and not as before in texmf.

this choice has broken the option "custom-bin" in install-tl script.

When one uses "install-tl -custom-bin PATH" it installs in bin/custom 
the binaries...

In these cases, "tlmgr update..." should warn the user and stop the 
upgrade...

In this way the installation is not broken and the user can think the 
best way to upgrade...

Ciao,
  Angelo.


From preining at logic.at  Tue Aug 14 12:09:28 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 14 Aug 2012 19:09:28 +0900
Subject: [tex-live] updmap-sys failed in current upgrade
In-Reply-To: <502A1EF0.3040604@alice.it>
References: <5028EFD1.9090408@alice.it>
 <20120813211224.GG25835@gamma.logic.tuwien.ac.at> <502A09E0.2040807@alice.it>
 <20120814085558.GB30316@gamma.logic.tuwien.ac.at> <502A1EF0.3040604@alice.it>
Message-ID: <20120814100928.GA4672@gamma.logic.tuwien.ac.at>

On Di, 14 Aug 2012, Angelo Graziosi wrote:
> I upgrade daily TL2012...

Irrelevant.

> this choice has broken the option "custom-bin" in install-tl script.
>
> When one uses "install-tl -custom-bin PATH" it installs in bin/custom  
> the binaries...

And that was ALWAYS the case. Using custom binaries means that updates
in the bin/$arch/ dirs will NOT be reflected and CANNOT be reflected
in your installation.

It was the same with new packages shipping new scripts, the never ended
in your bin/custom directory.

Nothing has changed ...

> In these cases, "tlmgr update..." should warn the user and stop the  
> upgrade...

No. custom-bin is only for emergency cases, not for normal use. 

> In this way the installation is not broken and the user can think the  
> best way to upgrade...

Welllll, one running with custom binaries should be WELL aware about
problems created by it.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
SCRANTON (n.)
A person who, after the declaration of the bodmin (q.v.), always
says,'... But I only had the tomato soup.'
			--- Douglas Adams, The Meaning of Liff

From heiko.oberdiek at googlemail.com  Tue Aug 14 12:42:37 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Tue, 14 Aug 2012 12:42:37 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <502A1899.5020001@users.sourceforge.net>
References: <502A1899.5020001@users.sourceforge.net>
Message-ID: <20120814104237.GA13307@oberdiek.my-fqdn.de>

On Tue, Aug 14, 2012 at 11:21:29AM +0200, Pander wrote:

> XeLaTeX (and probably more) is not working for all my documents after I
> upgraded today. The error is:
> 
> Messages for file
> /usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
> ! LaTeX Error: Missing \begin{document}.
> See the LaTeX manual or LaTeX Companion for explanation.
> Type  H <return>  for immediate help.
>  ...
> l.1591 \DeclareTextCommand[\textBeam}{P
>                                        U}{\9043\223}%* U+2393
> 
> How can this be fixed?

It is already fixed in hyperref 2012/08/13 6.83a.

Yours sincerely 
  Heiko Oberdiek

From news3 at nililand.de  Tue Aug 14 12:17:16 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 14 Aug 2012 12:17:16 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
References: <502A1899.5020001@users.sourceforge.net>
Message-ID: <1xbd1k3jn49t0.dlg@nililand.de>

Am Tue, 14 Aug 2012 11:21:29 +0200 schrieb Pander:

> Hi all,
> 
> XeLaTeX (and probably more) is not working for all my documents after I
> upgraded today. The error is:
> 
> Messages for file
> /usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
> ! LaTeX Error: Missing \begin{document}.
> See the LaTeX manual or LaTeX Companion for explanation.
> Type  H <return>  for immediate help.
>  ...
> l.1591 \DeclareTextCommand[\textBeam}{P
>                                        U}{\9043\223}%* U+2393

Well the brace "[" before \textBeam is obviously wrong. But it is 
correct in my version of puenc.def in TeXLive 2012 just updated. 

 2012/08/13 v6.83a %
 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From g at lanzani.nl  Tue Aug 14 12:08:36 2012
From: g at lanzani.nl (Giovanni Lanzani)
Date: Tue, 14 Aug 2012 10:08:36 +0000
Subject: [tex-live] hyperref/puenc.def broken after upgrade
References: <502A1899.5020001@users.sourceforge.net>
Message-ID: <loom.20120814T120602-878@post.gmane.org>

Pander <pander <at> users.sourceforge.net> writes:

[...]
> The error is:
[...]
> /usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
> ! LaTeX Error: Missing \begin{document}.
[...]
> Type  H <return>  for immediate help.
>  ...
> l.1591 \DeclareTextCommand[\textBeam}{P
>                                        U}{\9043\223}%* U+2393

Same here. Very annoying since hyperref was also broken with 
"subfig" a couple  of weeks ago.

Is there a way to "roll-back" to a previous version of the 
package? A l? git reset?


From zdenek.wagner at gmail.com  Tue Aug 14 16:09:54 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 14 Aug 2012 16:09:54 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <loom.20120814T120602-878@post.gmane.org>
References: <502A1899.5020001@users.sourceforge.net>
 <loom.20120814T120602-878@post.gmane.org>
Message-ID: <CAC1phyZZEa1ZtHSr5pPuObPnRVQqwUJZhVvUxw=prqGwQ=L7bg@mail.gmail.com>

2012/8/14 Giovanni Lanzani <g at lanzani.nl>:
> Pander <pander <at> users.sourceforge.net> writes:
>
> [...]
>> The error is:
> [...]
>> /usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
>> ! LaTeX Error: Missing \begin{document}.
> [...]
>> Type  H <return>  for immediate help.
>>  ...
>> l.1591 \DeclareTextCommand[\textBeam}{P
>>                                        U}{\9043\223}%* U+2393
>
> Same here. Very annoying since hyperref was also broken with
> "subfig" a couple  of weeks ago.
>
Hyperref is a complex package, clashes can be expected. No one is able
to test all possible combinations. Such problems may occur with other
packages too. That's why I never upgrade in the middle of an important
project.

> Is there a way to "roll-back" to a previous version of the
> package? A l? git reset?
>
tlmgr offers backup and restore of a previous version (RTFM).


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From pander at users.sourceforge.net  Tue Aug 14 16:10:05 2012
From: pander at users.sourceforge.net (Pander)
Date: Tue, 14 Aug 2012 16:10:05 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <loom.20120814T120602-878@post.gmane.org>
References: <502A1899.5020001@users.sourceforge.net>
 <loom.20120814T120602-878@post.gmane.org>
Message-ID: <502A5C3D.2050704@users.sourceforge.net>

On 2012-08-14 12:08, Giovanni Lanzani wrote:
> Pander <pander <at> users.sourceforge.net> writes:
> 
> [...]
>> The error is:
> [...]
>> /usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
>> ! LaTeX Error: Missing \begin{document}.
> [...]
>> Type  H <return>  for immediate help.
>>  ...
>> l.1591 \DeclareTextCommand[\textBeam}{P
>>                                        U}{\9043\223}%* U+2393
> 
> Same here. Very annoying since hyperref was also broken with 
> "subfig" a couple  of weeks ago.
> 
> Is there a way to "roll-back" to a previous version of the 
> package? A l? git reset?

According to Heiko, a fix has been uploaded to CTAN on the 13th. Now
someone has to propogate this update to Tex Live

> 


From zdenek.wagner at gmail.com  Tue Aug 14 16:24:03 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 14 Aug 2012 16:24:03 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <502A5C3D.2050704@users.sourceforge.net>
References: <502A1899.5020001@users.sourceforge.net>
 <loom.20120814T120602-878@post.gmane.org>
 <502A5C3D.2050704@users.sourceforge.net>
Message-ID: <CAC1phyauopUDyrgZK2QGJM=D3UPi97zh23k9Da_Gjjf7zcNntg@mail.gmail.com>

2012/8/14 Pander <pander at users.sourceforge.net>:
> On 2012-08-14 12:08, Giovanni Lanzani wrote:
>> Pander <pander <at> users.sourceforge.net> writes:
>>
>> [...]
>>> The error is:
>> [...]
>>> /usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
>>> ! LaTeX Error: Missing \begin{document}.
>> [...]
>>> Type  H <return>  for immediate help.
>>>  ...
>>> l.1591 \DeclareTextCommand[\textBeam}{P
>>>                                        U}{\9043\223}%* U+2393
>>
>> Same here. Very annoying since hyperref was also broken with
>> "subfig" a couple  of weeks ago.
>>
>> Is there a way to "roll-back" to a previous version of the
>> package? A l? git reset?
>
> According to Heiko, a fix has been uploaded to CTAN on the 13th. Now
> someone has to propogate this update to Tex Live
>
After upload the CTAN maintainers have to put it to a proper directory
and after that TL maintainers have to put it to TeX Live. It may
therefore happen a few days after CTAN upload.
>>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From pander at users.sourceforge.net  Tue Aug 14 16:30:47 2012
From: pander at users.sourceforge.net (Pander)
Date: Tue, 14 Aug 2012 16:30:47 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <CAC1phyauopUDyrgZK2QGJM=D3UPi97zh23k9Da_Gjjf7zcNntg@mail.gmail.com>
References: <502A1899.5020001@users.sourceforge.net>
 <loom.20120814T120602-878@post.gmane.org>
 <502A5C3D.2050704@users.sourceforge.net>
 <CAC1phyauopUDyrgZK2QGJM=D3UPi97zh23k9Da_Gjjf7zcNntg@mail.gmail.com>
Message-ID: <502A6117.9020708@users.sourceforge.net>

On 2012-08-14 16:24, Zdenek Wagner wrote:
> 2012/8/14 Pander <pander at users.sourceforge.net>:
>> On 2012-08-14 12:08, Giovanni Lanzani wrote:
>>> Pander <pander <at> users.sourceforge.net> writes:
>>>
>>> [...]
>>>> The error is:
>>> [...]
>>>> /usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def:
>>>> ! LaTeX Error: Missing \begin{document}.
>>> [...]
>>>> Type  H <return>  for immediate help.
>>>>  ...
>>>> l.1591 \DeclareTextCommand[\textBeam}{P
>>>>                                        U}{\9043\223}%* U+2393
>>>
>>> Same here. Very annoying since hyperref was also broken with
>>> "subfig" a couple  of weeks ago.
>>>
>>> Is there a way to "roll-back" to a previous version of the
>>> package? A l? git reset?
>>
>> According to Heiko, a fix has been uploaded to CTAN on the 13th. Now
>> someone has to propogate this update to Tex Live
>>
> After upload the CTAN maintainers have to put it to a proper directory
> and after that TL maintainers have to put it to TeX Live. It may
> therefore happen a few days after CTAN upload.

OK.

About testing hyperref, the following isn't even working with xelatex:

\documentclass{article}
\usepackage{hyperref}
\begin{document}
\end{document}

Perhaps this could be part of some automated testing in TeX Live
whenever anything related to hyperref changes.

>>>
>>
> 
> 
> 


From Robin.Fairbairns at cl.cam.ac.uk  Tue Aug 14 16:48:00 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 14 Aug 2012 15:48:00 +0100
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: Your message of Tue, 14 Aug 2012 16:30:47 +0200.
 <502A6117.9020708@users.sourceforge.net>
Message-ID: <9645.1344955680@cl.cam.ac.uk>

Pander <pander at users.sourceforge.net> wrote:

> About testing hyperref, the following isn't even working with xelatex:
> 
> \documentclass{article}
> \usepackage{hyperref}
> \begin{document}
> \end{document}
> 
> Perhaps this could be part of some automated testing in TeX Live
> whenever anything related to hyperref changes.

wouldn't help; i've just (a) updated tl, (b) run your test with xelatex
(and pdflatex and plain latex) without any problem.

if we're going to run tests for every package that's updated, there's
going to need to be an awful lot more work done on the tl release
infrastructure, including writing a test suite per package.

sounds excessive, to me.

robin

From pander at users.sourceforge.net  Tue Aug 14 17:19:05 2012
From: pander at users.sourceforge.net (Pander)
Date: Tue, 14 Aug 2012 17:19:05 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <9645.1344955680@cl.cam.ac.uk>
References: <9645.1344955680@cl.cam.ac.uk>
Message-ID: <502A6C69.9020501@users.sourceforge.net>

On 2012-08-14 16:48, Robin Fairbairns wrote:
> Pander <pander at users.sourceforge.net> wrote:
> 
>> About testing hyperref, the following isn't even working with xelatex:
>>
>> \documentclass{article}
>> \usepackage{hyperref}
>> \begin{document}
>> \end{document}
>>
>> Perhaps this could be part of some automated testing in TeX Live
>> whenever anything related to hyperref changes.
> 
> wouldn't help; i've just (a) updated tl, (b) run your test with xelatex
> (and pdflatex and plain latex) without any problem.

Here not :(

$ date
Tue Aug 14 17:10:46 CEST 2012

# tlmgr update --all
tlmgr: package repository
http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
tlmgr: no updates available

$ cat hyperref.tex
\documentclass{article}
\usepackage{hyperref}
\begin{document}
asdf
\end{document}

$ xelatex hyperref.tex
This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
 restricted \write18 enabled.
entering extended mode
(./hyperref.tex
LaTeX2e <2011/06/27>
Babel <v3.8m> and hyphenation patterns for english, dumylang,
nohyphenation, ge
rman-x-2012-05-30, ngerman-x-2012-05-30, afrikaans, ancientgreek,
ibycus, arabi
c, armenian, basque, bulgarian, catalan, pinyin, coptic, croatian,
czech, danis
h, dutch, ukenglish, usenglishmax, esperanto, estonian, ethiopic, farsi,
finnis
h, french, friulan, galician, german, ngerman, swissgerman, monogreek,
greek, h
ungarian, icelandic, assamese, bengali, gujarati, hindi, kannada,
malayalam, ma
rathi, oriya, panjabi, tamil, telugu, indonesian, interlingua, irish,
italian,
kurmanji, latin, latvian, lithuanian, mongolian, mongolianlmc, bokmal,
nynorsk,
 polish, portuguese, romanian, romansh, russian, sanskrit, serbian,
serbianc, s
lovak, slovenian, spanish, swedish, turkish, turkmen, ukrainian,
uppersorbian,
welsh, loaded.
(/usr/local/texlive/2012/texmf-dist/tex/latex/base/article.cls
Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
(/usr/local/texlive/2012/texmf-dist/tex/latex/base/size10.clo))
(/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/hyperref.sty
(/usr/local/texlive/2012/texmf-dist/tex/generic/oberdiek/hobsub-hyperref.sty
(/usr/local/texlive/2012/texmf-dist/tex/generic/oberdiek/hobsub-generic.sty))
(/usr/local/texlive/2012/texmf-dist/tex/latex/graphics/keyval.sty)
(/usr/local/texlive/2012/texmf-dist/tex/generic/ifxetex/ifxetex.sty)
(/usr/local/texlive/2012/texmf-dist/tex/latex/oberdiek/auxhook.sty)
(/usr/local/texlive/2012/texmf-dist/tex/latex/oberdiek/kvoptions.sty)
(/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/pd1enc.def)
(/usr/local/texlive/2012/texmf-dist/tex/xelatex/xetexconfig/hyperref.cfg)
(/usr/local/texlive/2012/texmf-dist/tex/latex/url/url.sty))

Package hyperref Message: Driver (autodetected): hxetex.

(/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/hxetex.def
(/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def

! LaTeX Error: Missing \begin{document}.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...

l.1591 \DeclareTextCommand[\textBeam}{P
                                       U}{\9043\223}%* U+2393
? x
No pages of output.
Transcript written on hyperref.log.

What example do you use?

If hyperref is a high risk upgrade, some simple testing would be in
place. People should be able to expect some quality when using TeX Live.
I value TeX Live distribution a lot so some extra tests would be very
welcome to keep on guaranteeing that.

Just start out with a simple test such as the one above and each time a
problem arises with new packages, just add that particular test. In this
way, updating is less risky as it apparently is now.

> if we're going to run tests for every package that's updated, there's
> going to need to be an awful lot more work done on the tl release
> infrastructure, including writing a test suite per package.

All packages should include their own tests. The tests I refer to are
for integration testing checking if all packages can coexist peacefully.

> sounds excessive, to me.
> 
> robin
> 


From zdenek.wagner at gmail.com  Tue Aug 14 17:33:31 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 14 Aug 2012 17:33:31 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <502A6C69.9020501@users.sourceforge.net>
References: <9645.1344955680@cl.cam.ac.uk>
 <502A6C69.9020501@users.sourceforge.net>
Message-ID: <CAC1phybw34QWC9n4RG+RGZYdWi6Qrfa9drnyTDHiY8y6TQeyCg@mail.gmail.com>

2012/8/14 Pander <pander at users.sourceforge.net>:
> On 2012-08-14 16:48, Robin Fairbairns wrote:
>> Pander <pander at users.sourceforge.net> wrote:
>>
>>> About testing hyperref, the following isn't even working with xelatex:
>>>
>>> \documentclass{article}
>>> \usepackage{hyperref}
>>> \begin{document}
>>> \end{document}
>>>
>>> Perhaps this could be part of some automated testing in TeX Live
>>> whenever anything related to hyperref changes.
>>
>> wouldn't help; i've just (a) updated tl, (b) run your test with xelatex
>> (and pdflatex and plain latex) without any problem.
>
> Here not :(
>
The new version is not available on all mirrors immediately.

> $ date
> Tue Aug 14 17:10:46 CEST 2012
>
> # tlmgr update --all
> tlmgr: package repository
> http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
> tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
> tlmgr: no updates available
>
> $ cat hyperref.tex
> \documentclass{article}
> \usepackage{hyperref}
> \begin{document}
> asdf
> \end{document}
>
> $ xelatex hyperref.tex
> This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
>  restricted \write18 enabled.
> entering extended mode
> (./hyperref.tex
> LaTeX2e <2011/06/27>
> Babel <v3.8m> and hyphenation patterns for english, dumylang,
> nohyphenation, ge
> rman-x-2012-05-30, ngerman-x-2012-05-30, afrikaans, ancientgreek,
> ibycus, arabi
> c, armenian, basque, bulgarian, catalan, pinyin, coptic, croatian,
> czech, danis
> h, dutch, ukenglish, usenglishmax, esperanto, estonian, ethiopic, farsi,
> finnis
> h, french, friulan, galician, german, ngerman, swissgerman, monogreek,
> greek, h
> ungarian, icelandic, assamese, bengali, gujarati, hindi, kannada,
> malayalam, ma
> rathi, oriya, panjabi, tamil, telugu, indonesian, interlingua, irish,
> italian,
> kurmanji, latin, latvian, lithuanian, mongolian, mongolianlmc, bokmal,
> nynorsk,
>  polish, portuguese, romanian, romansh, russian, sanskrit, serbian,
> serbianc, s
> lovak, slovenian, spanish, swedish, turkish, turkmen, ukrainian,
> uppersorbian,
> welsh, loaded.
> (/usr/local/texlive/2012/texmf-dist/tex/latex/base/article.cls
> Document Class: article 2007/10/19 v1.4h Standard LaTeX document class
> (/usr/local/texlive/2012/texmf-dist/tex/latex/base/size10.clo))
> (/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/hyperref.sty
> (/usr/local/texlive/2012/texmf-dist/tex/generic/oberdiek/hobsub-hyperref.sty
> (/usr/local/texlive/2012/texmf-dist/tex/generic/oberdiek/hobsub-generic.sty))
> (/usr/local/texlive/2012/texmf-dist/tex/latex/graphics/keyval.sty)
> (/usr/local/texlive/2012/texmf-dist/tex/generic/ifxetex/ifxetex.sty)
> (/usr/local/texlive/2012/texmf-dist/tex/latex/oberdiek/auxhook.sty)
> (/usr/local/texlive/2012/texmf-dist/tex/latex/oberdiek/kvoptions.sty)
> (/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/pd1enc.def)
> (/usr/local/texlive/2012/texmf-dist/tex/xelatex/xetexconfig/hyperref.cfg)
> (/usr/local/texlive/2012/texmf-dist/tex/latex/url/url.sty))
>
> Package hyperref Message: Driver (autodetected): hxetex.
>
> (/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/hxetex.def
> (/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def
>
> ! LaTeX Error: Missing \begin{document}.
>
> See the LaTeX manual or LaTeX Companion for explanation.
> Type  H <return>  for immediate help.
>  ...
>
> l.1591 \DeclareTextCommand[\textBeam}{P
>                                        U}{\9043\223}%* U+2393
> ? x
> No pages of output.
> Transcript written on hyperref.log.
>
> What example do you use?
>
> If hyperref is a high risk upgrade, some simple testing would be in
> place. People should be able to expect some quality when using TeX Live.
> I value TeX Live distribution a lot so some extra tests would be very
> welcome to keep on guaranteeing that.
>
> Just start out with a simple test such as the one above and each time a
> problem arises with new packages, just add that particular test. In this
> way, updating is less risky as it apparently is now.
>
>> if we're going to run tests for every package that's updated, there's
>> going to need to be an awful lot more work done on the tl release
>> infrastructure, including writing a test suite per package.
>
> All packages should include their own tests. The tests I refer to are
> for integration testing checking if all packages can coexist peacefully.
>
>> sounds excessive, to me.
>>
>> robin
>>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From Robin.Fairbairns at cl.cam.ac.uk  Tue Aug 14 17:44:55 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 14 Aug 2012 16:44:55 +0100
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: Your message of Tue, 14 Aug 2012 17:19:05 +0200.
 <502A6C69.9020501@users.sourceforge.net>
Message-ID: <10286.1344959095@cl.cam.ac.uk>

Pander <pander at users.sourceforge.net> wrote:

> On 2012-08-14 16:48, Robin Fairbairns wrote:
> > Pander <pander at users.sourceforge.net> wrote:
> > 
> >> About testing hyperref, the following isn't even working with xelatex:
> >>
> >> \documentclass{article}
> >> \usepackage{hyperref}
> >> \begin{document}
> >> \end{document}
> >>
> >> Perhaps this could be part of some automated testing in TeX Live
> >> whenever anything related to hyperref changes.
> > 
> > wouldn't help; i've just (a) updated tl, (b) run your test with xelatex
> > (and pdflatex and plain latex) without any problem.
> 
> Here not :(
> 
> $ date
> Tue Aug 14 17:10:46 CEST 2012
> 
> # tlmgr update --all
> tlmgr: package repository
> http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
> tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
> tlmgr: no updates available
> 
> $ cat hyperref.tex
> \documentclass{article}
> \usepackage{hyperref}
> \begin{document}
> asdf
> \end{document}
> 
> $ xelatex hyperref.tex
> This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
>  restricted \write18 enabled.
> entering extended mode
> (./hyperref.tex
> [...]
> ! LaTeX Error: Missing \begin{document}.
> 
> See the LaTeX manual or LaTeX Companion for explanation.
> Type  H <return>  for immediate help.
>  ...
> 
> l.1591 \DeclareTextCommand[\textBeam}{P
>                                        U}{\9043\223}%* U+2393

sounds to me as if i'm using a more up-to-date tl than you are.  (note i
take my updates over nfs from the ctan server in the next corridor.)

looking at your offending package, i see

$ ls -l `kpsewhich puenc.def`
-rw-r--r--. 1 rf10 rf10 122261 2012-08-13 23:37 /local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def

i.e., the package was installed yesterday, and would have appeared for
the first time in this morning's mirror.  are you *sure* you have an up
to date texlive?

> What example do you use?

the null document you previously posted.  i've now added some text in
the document body, but it plainly has no relevance

> If hyperref is a high risk upgrade, some simple testing would be in
> place. People should be able to expect some quality when using TeX Live.
> I value TeX Live distribution a lot so some extra tests would be very
> welcome to keep on guaranteeing that.
> 
> Just start out with a simple test such as the one above and each time a
> problem arises with new packages, just add that particular test. In this
> way, updating is less risky as it apparently is now.
> 
> > if we're going to run tests for every package that's updated, there's
> > going to need to be an awful lot more work done on the tl release
> > infrastructure, including writing a test suite per package.
> 
> All packages should include their own tests.

in an ideal world.  very few do (you wouldn't want many of them -- for
example, the latex tests are of the same order of size as latex itself).

in the real world, with software being developed by people in their
spare time, your "should" is one of those inaccessible pies, floating in
the sky, that no-one can get at.

> The tests I refer to are
> for integration testing checking if all packages can coexist peacefully.

but *everyone* knows that there are packages that can't coexist --
several (ones doing the same job in different ways) you wouldn't even
_want_ to coexist.

> > sounds excessive, to me.

i agree with myself.

you've not even mentioned when you last updated, nor which repository
you were updating from.  (have you tried updating since you first
observed the effect, even?)

robin 

From pander at users.sourceforge.net  Tue Aug 14 18:01:12 2012
From: pander at users.sourceforge.net (Pander)
Date: Tue, 14 Aug 2012 18:01:12 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <10286.1344959095@cl.cam.ac.uk>
References: <10286.1344959095@cl.cam.ac.uk>
Message-ID: <502A7648.6000908@users.sourceforge.net>

 2012-08-14 17:44, Robin Fairbairns wrote:
> Pander <pander at users.sourceforge.net> wrote:
> 
>> On 2012-08-14 16:48, Robin Fairbairns wrote:
>>> Pander <pander at users.sourceforge.net> wrote:
>>>
>>>> About testing hyperref, the following isn't even working with xelatex:
>>>>
>>>> \documentclass{article}
>>>> \usepackage{hyperref}
>>>> \begin{document}
>>>> \end{document}
>>>>
>>>> Perhaps this could be part of some automated testing in TeX Live
>>>> whenever anything related to hyperref changes.
>>>
>>> wouldn't help; i've just (a) updated tl, (b) run your test with xelatex
>>> (and pdflatex and plain latex) without any problem.
>>
>> Here not :(
>>
>> $ date
>> Tue Aug 14 17:10:46 CEST 2012
>>
>> # tlmgr update --all
>> tlmgr: package repository
>> http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
>> tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
>> tlmgr: no updates available
>>
>> $ cat hyperref.tex
>> \documentclass{article}
>> \usepackage{hyperref}
>> \begin{document}
>> asdf
>> \end{document}
>>
>> $ xelatex hyperref.tex
>> This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
>>  restricted \write18 enabled.
>> entering extended mode
>> (./hyperref.tex
>> [...]
>> ! LaTeX Error: Missing \begin{document}.
>>
>> See the LaTeX manual or LaTeX Companion for explanation.
>> Type  H <return>  for immediate help.
>>  ...
>>
>> l.1591 \DeclareTextCommand[\textBeam}{P
>>                                        U}{\9043\223}%* U+2393
> 
> sounds to me as if i'm using a more up-to-date tl than you are.  (note i
> take my updates over nfs from the ctan server in the next corridor.)
> 
> looking at your offending package, i see
> 
> $ ls -l `kpsewhich puenc.def`
> -rw-r--r--. 1 rf10 rf10 122261 2012-08-13 23:37 /local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def
> 
> i.e., the package was installed yesterday, and would have appeared for
> the first time in this morning's mirror.  are you *sure* you have an up
> to date texlive?


# tlmgr update --self
tlmgr: package repository
http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
tlmgr: no updates for tlmgr present.
tlmgr: no updates available

# tlmgr update --all
tlmgr: package repository
http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
tlmgr: no updates available

What more can one do? Except changing mirrors...

$ ls -l `kpsewhich puenc.def`
-rw-r--r-- 1 root root 118162 Aug 12 23:26
/usr/local/texlive/2012/texmf-dist/tex/latex/hyperref/puenc.def

> 
>> What example do you use?
> 
> the null document you previously posted.  i've now added some text in
> the document body, but it plainly has no relevance
> 
>> If hyperref is a high risk upgrade, some simple testing would be in
>> place. People should be able to expect some quality when using TeX Live.
>> I value TeX Live distribution a lot so some extra tests would be very
>> welcome to keep on guaranteeing that.
>>
>> Just start out with a simple test such as the one above and each time a
>> problem arises with new packages, just add that particular test. In this
>> way, updating is less risky as it apparently is now.
>>
>>> if we're going to run tests for every package that's updated, there's
>>> going to need to be an awful lot more work done on the tl release
>>> infrastructure, including writing a test suite per package.
>>
>> All packages should include their own tests.
> 
> in an ideal world.  very few do (you wouldn't want many of them -- for
> example, the latex tests are of the same order of size as latex itself).
> 
> in the real world, with software being developed by people in their
> spare time, your "should" is one of those inaccessible pies, floating in
> the sky, that no-one can get at.
> 
>> The tests I refer to are
>> for integration testing checking if all packages can coexist peacefully.
> 
> but *everyone* knows that there are packages that can't coexist --
> several (ones doing the same job in different ways) you wouldn't even
> _want_ to coexist.
> 
>>> sounds excessive, to me.
> 
> i agree with myself.

LOL

> you've not even mentioned when you last updated, nor which repository
> you were updating from.  (have you tried updating since you first
> observed the effect, even?)

Yes. I updated Monday and all was OK and today, then it broke down.

> 
> robin 
> 


From heiko.oberdiek at googlemail.com  Tue Aug 14 18:52:50 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Tue, 14 Aug 2012 18:52:50 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <502A7648.6000908@users.sourceforge.net>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
Message-ID: <20120814165250.GA14346@oberdiek.my-fqdn.de>

On Tue, Aug 14, 2012 at 06:01:12PM +0200, Pander wrote:

>  2012-08-14 17:44, Robin Fairbairns wrote:
> > Pander <pander at users.sourceforge.net> wrote:
> > 
> >> On 2012-08-14 16:48, Robin Fairbairns wrote:
> >>> Pander <pander at users.sourceforge.net> wrote:
> >>>
> >>>> About testing hyperref, the following isn't even working with xelatex:
> >>>>
> >>>> \documentclass{article}
> >>>> \usepackage{hyperref}
> >>>> \begin{document}
> >>>> \end{document}
> >>>>
> >>>> Perhaps this could be part of some automated testing in TeX Live
> >>>> whenever anything related to hyperref changes.

TeX distributions: They would have to do it for every package update
of every package. Many problems arise from compatibility issues
between packages.

hyperref: Yes, a better test infrastructure would be nice.
For some of my packages I have already some more or less
execessive tests. In case of hyperref:
* The package infrastructure is different.
* The package is much more complex, e.g., it has lots of options.
* It supports many drivers. I do not even have access to some of them
  (dvipsone, dviwindo, textures, ...).
* I do not know tools that make testing in the TeX world easier
  (except qstest, but that is limited to LaTeX + e-TeX).
  Also tools are needed that analyze the output file formats:
  link names, link positions, bookmarks, ...
* And most important the interfaces need to be clarified and more precisely
  defined and even simplified if possible. Currently there are many
  differences between the drivers.
* ...

Designing, implementing a reasonable test infrastructure with developing
all the needed tools is a software project much larger than hyperref itself.

Hoewever, the man power of the maintainers of hyperref is limited,
it is just one person.

> >> If hyperref is a high risk upgrade, some simple testing would be in
> >> place. People should be able to expect some quality when using TeX Live.
> >> I value TeX Live distribution a lot so some extra tests would be very
> >> welcome to keep on guaranteeing that.

Then help in writing tools that assist in automatic tests, for example.

> >> Just start out with a simple test such as the one above and each time a
> >> problem arises with new packages, just add that particular test. In this
> >> way, updating is less risky as it apparently is now.

It is on my ToDo list ...

Yours sincerely
  Heiko Oberdiek

From zdenek.wagner at gmail.com  Tue Aug 14 21:49:16 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 14 Aug 2012 21:49:16 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <20120814165250.GA14346@oberdiek.my-fqdn.de>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
Message-ID: <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>

2012/8/14 Heiko Oberdiek <heiko.oberdiek at googlemail.com>:
> On Tue, Aug 14, 2012 at 06:01:12PM +0200, Pander wrote:
>
>>  2012-08-14 17:44, Robin Fairbairns wrote:
>> > Pander <pander at users.sourceforge.net> wrote:
>> >
>> >> On 2012-08-14 16:48, Robin Fairbairns wrote:
>> >>> Pander <pander at users.sourceforge.net> wrote:
>> >>>
>> >>>> About testing hyperref, the following isn't even working with xelatex:
>> >>>>
>> >>>> \documentclass{article}
>> >>>> \usepackage{hyperref}
>> >>>> \begin{document}
>> >>>> \end{document}
>> >>>>
>> >>>> Perhaps this could be part of some automated testing in TeX Live
>> >>>> whenever anything related to hyperref changes.
>
> TeX distributions: They would have to do it for every package update
> of every package. Many problems arise from compatibility issues
> between packages.
>
> hyperref: Yes, a better test infrastructure would be nice.
> For some of my packages I have already some more or less
> execessive tests. In case of hyperref:
> * The package infrastructure is different.
> * The package is much more complex, e.g., it has lots of options.
> * It supports many drivers. I do not even have access to some of them
>   (dvipsone, dviwindo, textures, ...).
> * I do not know tools that make testing in the TeX world easier
>   (except qstest, but that is limited to LaTeX + e-TeX).
>   Also tools are needed that analyze the output file formats:
>   link names, link positions, bookmarks, ...
> * And most important the interfaces need to be clarified and more precisely
>   defined and even simplified if possible. Currently there are many
>   differences between the drivers.
> * ...
>
> Designing, implementing a reasonable test infrastructure with developing
> all the needed tools is a software project much larger than hyperref itself.
>
> Hoewever, the man power of the maintainers of hyperref is limited,
> it is just one person.
>
>> >> If hyperref is a high risk upgrade, some simple testing would be in
>> >> place. People should be able to expect some quality when using TeX Live.
>> >> I value TeX Live distribution a lot so some extra tests would be very
>> >> welcome to keep on guaranteeing that.
>
> Then help in writing tools that assist in automatic tests, for example.
>
>> >> Just start out with a simple test such as the one above and each time a
>> >> problem arises with new packages, just add that particular test. In this
>> >> way, updating is less risky as it apparently is now.
>
> It is on my ToDo list ...
>
That's what I do with zwpagelayout but as Heiko wrote, there is no
automatic tool. I have to read all log files and view all PDF files
because the result may be wrong even without any error message. I have
to verify some features by viewing by Adobe Acrobat Pro because the
Reader will not show them. Thus I spent at least 2 hours be testing
each change. And zwpagelayout is much simpler than hyperref. There is
only one way how to save yourself and how to help:

1. Never update in the middle of an important project (you never know
what may cease to work)

2. Report bugs in a helpful way with minimal sample files, send your
log and add \listfiles above \documentclass so that the developer may
see the versions of your packages. This may be an important
information.

> Yours sincerely
>   Heiko Oberdiek



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From pander at opentaal.org  Tue Aug 14 20:36:12 2012
From: pander at opentaal.org (Pander)
Date: Tue, 14 Aug 2012 20:36:12 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <20120814165250.GA14346@oberdiek.my-fqdn.de>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
Message-ID: <502A9A9C.5010605@opentaal.org>

On 2012-08-14 18:52, Heiko Oberdiek wrote:
> On Tue, Aug 14, 2012 at 06:01:12PM +0200, Pander wrote:
> 
>>  2012-08-14 17:44, Robin Fairbairns wrote:
>>> Pander <pander at users.sourceforge.net> wrote:
>>>
>>>> On 2012-08-14 16:48, Robin Fairbairns wrote:
>>>>> Pander <pander at users.sourceforge.net> wrote:
>>>>>
>>>>>> About testing hyperref, the following isn't even working with xelatex:
>>>>>>
>>>>>> \documentclass{article}
>>>>>> \usepackage{hyperref}
>>>>>> \begin{document}
>>>>>> \end{document}
>>>>>>
>>>>>> Perhaps this could be part of some automated testing in TeX Live
>>>>>> whenever anything related to hyperref changes.
> 
> TeX distributions: They would have to do it for every package update
> of every package. Many problems arise from compatibility issues
> between packages.
> 
> hyperref: Yes, a better test infrastructure would be nice.
> For some of my packages I have already some more or less
> execessive tests. In case of hyperref:
> * The package infrastructure is different.
> * The package is much more complex, e.g., it has lots of options.
> * It supports many drivers. I do not even have access to some of them
>   (dvipsone, dviwindo, textures, ...).
> * I do not know tools that make testing in the TeX world easier
>   (except qstest, but that is limited to LaTeX + e-TeX).
>   Also tools are needed that analyze the output file formats:
>   link names, link positions, bookmarks, ...
> * And most important the interfaces need to be clarified and more precisely
>   defined and even simplified if possible. Currently there are many
>   differences between the drivers.
> * ...
> 
> Designing, implementing a reasonable test infrastructure with developing
> all the needed tools is a software project much larger than hyperref itself.
> 
> Hoewever, the man power of the maintainers of hyperref is limited,
> it is just one person.
> 
>>>> If hyperref is a high risk upgrade, some simple testing would be in
>>>> place. People should be able to expect some quality when using TeX Live.
>>>> I value TeX Live distribution a lot so some extra tests would be very
>>>> welcome to keep on guaranteeing that.
> 
> Then help in writing tools that assist in automatic tests, for example.

So the goal would be integration testing. Since the package depencies
and mutual exclusion of some in usage prevents fully automating it,
manual configuration is needed I think. The following would be one way
of approaching it:

Per package, store a list of commands (re)using test files.
  package: hyperref
    command: pdflatex integrationtest1
    command: xelatex integrationtest1
    command: xelatex integrationtest2
    command: luatex integrationtest3
  package: fontspec
    command: xelatex integrationtest2
    command: xelatex integrationtest4

If one or more packages have changed, generate a list of unique command
that need to be executed ad run those tests. Tests failing should be
reported via e.g. email to TL maintainers.

>>>> Just start out with a simple test such as the one above and each time a
>>>> problem arises with new packages, just add that particular test. In this
>>>> way, updating is less risky as it apparently is now.
> 
> It is on my ToDo list ...
> 
> Yours sincerely
>   Heiko Oberdiek
> 


From zdenek.wagner at gmail.com  Tue Aug 14 23:18:54 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 14 Aug 2012 23:18:54 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <502A9A9C.5010605@opentaal.org>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <502A9A9C.5010605@opentaal.org>
Message-ID: <CAC1phyZe2VdEW9tMQF9UkrdeOQ5FiXV2N8C1y-O9xrCkZaf3BQ@mail.gmail.com>

2012/8/14 Pander <pander at opentaal.org>:
> On 2012-08-14 18:52, Heiko Oberdiek wrote:
>> On Tue, Aug 14, 2012 at 06:01:12PM +0200, Pander wrote:
>>
>>>  2012-08-14 17:44, Robin Fairbairns wrote:
>>>> Pander <pander at users.sourceforge.net> wrote:
>>>>
>>>>> On 2012-08-14 16:48, Robin Fairbairns wrote:
>>>>>> Pander <pander at users.sourceforge.net> wrote:
>>>>>>
>>>>>>> About testing hyperref, the following isn't even working with xelatex:
>>>>>>>
>>>>>>> \documentclass{article}
>>>>>>> \usepackage{hyperref}
>>>>>>> \begin{document}
>>>>>>> \end{document}
>>>>>>>
>>>>>>> Perhaps this could be part of some automated testing in TeX Live
>>>>>>> whenever anything related to hyperref changes.
>>
>> TeX distributions: They would have to do it for every package update
>> of every package. Many problems arise from compatibility issues
>> between packages.
>>
>> hyperref: Yes, a better test infrastructure would be nice.
>> For some of my packages I have already some more or less
>> execessive tests. In case of hyperref:
>> * The package infrastructure is different.
>> * The package is much more complex, e.g., it has lots of options.
>> * It supports many drivers. I do not even have access to some of them
>>   (dvipsone, dviwindo, textures, ...).
>> * I do not know tools that make testing in the TeX world easier
>>   (except qstest, but that is limited to LaTeX + e-TeX).
>>   Also tools are needed that analyze the output file formats:
>>   link names, link positions, bookmarks, ...
>> * And most important the interfaces need to be clarified and more precisely
>>   defined and even simplified if possible. Currently there are many
>>   differences between the drivers.
>> * ...
>>
>> Designing, implementing a reasonable test infrastructure with developing
>> all the needed tools is a software project much larger than hyperref itself.
>>
>> Hoewever, the man power of the maintainers of hyperref is limited,
>> it is just one person.
>>
>>>>> If hyperref is a high risk upgrade, some simple testing would be in
>>>>> place. People should be able to expect some quality when using TeX Live.
>>>>> I value TeX Live distribution a lot so some extra tests would be very
>>>>> welcome to keep on guaranteeing that.
>>
>> Then help in writing tools that assist in automatic tests, for example.
>
> So the goal would be integration testing. Since the package depencies
> and mutual exclusion of some in usage prevents fully automating it,
> manual configuration is needed I think. The following would be one way
> of approaching it:
>
> Per package, store a list of commands (re)using test files.
>   package: hyperref
>     command: pdflatex integrationtest1
>     command: xelatex integrationtest1
>     command: xelatex integrationtest2
>     command: luatex integrationtest3
>   package: fontspec
>     command: xelatex integrationtest2
>     command: xelatex integrationtest4
>
Who will do it? Read Heiko's mail, it may take the whole day or even
more to test extensively the hyperref package. I know how difficult
and time consuming it is with my small packages. Without user response
sum bugs will be there unnoticed.

> If one or more packages have changed, generate a list of unique command
> that need to be executed ad run those tests. Tests failing should be
> reported via e.g. email to TL maintainers.
>
Why not directly to the package maintainers? TL maintainers are
responsible for the infrastructure, not for the packages.

>>>>> Just start out with a simple test such as the one above and each time a
>>>>> problem arises with new packages, just add that particular test. In this
>>>>> way, updating is less risky as it apparently is now.
>>
>> It is on my ToDo list ...
>>
>> Yours sincerely
>>   Heiko Oberdiek
>>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From preining at logic.at  Wed Aug 15 01:20:18 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 15 Aug 2012 01:20:18 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <502A9A9C.5010605@opentaal.org>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de> <502A9A9C.5010605@opentaal.org>
Message-ID: <62814D62-1B9D-4AED-9A5E-111964F2027C@logic.at>


> So the goal would be integration testing. Since the package depencies
> and mutual exclusion of some in usage prevents fully automating it,
> manual configuration is needed I think. The following would be one way
> of approaching it:


What about stopping the whining around, sit down yourself, write such a test suite, make it work automatically, and the integrate it into the TeX Live system?

We would be very glad about that.

But putting forth wishlist after request after wishlist is not what will improve the situation.

Norbert

From pander at users.sourceforge.net  Wed Aug 15 12:25:13 2012
From: pander at users.sourceforge.net (Pander)
Date: Wed, 15 Aug 2012 12:25:13 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
Message-ID: <502B7909.9020308@users.sourceforge.net>

Hi all,

Please review:
  tlit - TeX Live Integration Testing
  https://github.com/PanderMusubi/tlit

The goal of integration testing of TeX Live is to automatically confirm
that an update did not break any major functionality. Detailed module
testing of individual packagese is up to the package maintaineres. This
is done in much more detail and is outside of the scope of integration
testing. Integration testing offered here is merely a simply check if
certain often used combinations of package can play together. The goal
is to prevent that simultaneous updateting of multiple packages, which
all passed their individual module tests without being aware that other
packages are also being updated on the same time, break TeX Live.

Regards,

Pander

From jaeschke at l3s.de  Thu Aug 16 09:22:40 2012
From: jaeschke at l3s.de (=?ISO-8859-15?Q?Robert_J=E4schke?=)
Date: Thu, 16 Aug 2012 09:22:40 +0200
Subject: [tex-live] problem with elsarticle.cls and hyperref
Message-ID: <502C9FC0.5080902@l3s.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Hello,

I am having trouble to typeset a document with the elsarticle class in
combination with the hyperref package.

After the first run of pdflatex and a subsequent run of bibtex, a run of
pdflatex produces the following output:

> This is pdfTeX, Version 3.1415926-2.4-1.40.13 (TeX Live 2012/Debian)
[...]
> Document Class: elsarticle 2009/09/17, 1.2.0: Elsevier Ltd
[...]
> (./test.out) (./test.out) (./test.bbl
> ! Undefined control sequence.
> <argument> \let \bibinfo at X@doi
>                                {10.1073/pnas.98.2.404}
> l.12  \doi{\bibinfo{doi}{10.1073/pnas.98.2.404}}
>                                                 .
> ?

The input files are the following:

- --- file: test.tex ----------------------------------
\documentclass{elsarticle}
\usepackage{hyperref}

\begin{document}

\cite{test2012test}

\bibliographystyle{elsarticle-num-names}
\bibliography{test}

\end{document}
- -----------------------------------------------------

- --- file: test.bib ----------------------------------
@article{test2012test,
  doi = {10.1073/pnas.98.2.404},
}
- -----------------------------------------------------

If I remove the hyperref package, everything works fine. I am assuming
that this is a TeXLive bug, since a search on the web brought me to
http://www.latex-community.org/forum/viewtopic.php?f=4&t=14622
where a similar problem is described and solved by switching to MikTeX:

> Thanks a lot for your post. It helped me to figure out that the
> problem is that I am using TeXLive. When I switch to MikTeX, it works
> perfectly.


Unfortunately, this is not an option for me. Can you confirm that this
is a TeXLive bug? Are there any workarounds besides not using the
hyperref package?


Best regards,
Robert


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iF4EAREIAAYFAlAsn7sACgkQPycGMHQuamJRaQEAxeiAs1TQNAxBwJ9vIBABco8E
Yv91ayNmEWihWrZ8+d0A/1eZAtpk0JIGuZBC370Rmx1HPTDzEWbSRj40x0UbQfpU
=AVEK
-----END PGP SIGNATURE-----

From joelcsalomon at gmail.com  Thu Aug 16 20:07:30 2012
From: joelcsalomon at gmail.com (Joel C. Salomon)
Date: Thu, 16 Aug 2012 14:07:30 -0400
Subject: [tex-live] Add short description to package
Message-ID: <CAFUtaNE-CPPgPZ7gRhDC8wbFjgK_e90uR7_owYY4GEeoC5aCYw@mail.gmail.com>

My new xpeek package (see <http://ctan.org/pkg/xpeek> &
<http://ctan.org/tex-archive/macros/latex/contrib/xpeek>) just made it
to TeX Live, but I notice there is no text in the Short Description.
Is there a step I missed in submitting to CTAN that I can correct when
I update it?

--Joel

From karl at freefriends.org  Thu Aug 16 23:35:19 2012
From: karl at freefriends.org (Karl Berry)
Date: Thu, 16 Aug 2012 21:35:19 +0000
Subject: [tex-live] Add short description to package
In-Reply-To: <CAFUtaNE-CPPgPZ7gRhDC8wbFjgK_e90uR7_owYY4GEeoC5aCYw@mail.gmail.com>
Message-ID: <201208162135.q7GLZJZu016233@freefriends.org>

Hi Joel,

You didn't do anything wrong that I can see.  I believe I updated xpeek
in TL before the Catalogue entry was (re)installed with the description
you provided to CTAN.  The description is in TL now.  The next time you
update the package, the shortdesc should show up for everyone.

All the best,
Karl

From zdenek.wagner at gmail.com  Fri Aug 17 01:26:05 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 17 Aug 2012 01:26:05 +0200
Subject: [tex-live] problem with elsarticle.cls and hyperref
In-Reply-To: <502C9FC0.5080902@l3s.de>
References: <502C9FC0.5080902@l3s.de>
Message-ID: <CAC1phyYj0vDAJbYSRzdq+pmaZjWSM5ydk8SqnF4wgxFrytvuSA@mail.gmail.com>

2012/8/16 Robert J?schke <jaeschke at l3s.de>:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
>
> Hello,
>
> I am having trouble to typeset a document with the elsarticle class in
> combination with the hyperref package.
>
> After the first run of pdflatex and a subsequent run of bibtex, a run of
> pdflatex produces the following output:
>
>> This is pdfTeX, Version 3.1415926-2.4-1.40.13 (TeX Live 2012/Debian)
> [...]
>> Document Class: elsarticle 2009/09/17, 1.2.0: Elsevier Ltd
> [...]
>> (./test.out) (./test.out) (./test.bbl
>> ! Undefined control sequence.
>> <argument> \let \bibinfo at X@doi
>>                                {10.1073/pnas.98.2.404}
>> l.12  \doi{\bibinfo{doi}{10.1073/pnas.98.2.404}}
>>                                                 .
>> ?
>
> The input files are the following:
>
> - --- file: test.tex ----------------------------------
> \documentclass{elsarticle}
> \usepackage{hyperref}
>
> \begin{document}
>
> \cite{test2012test}
>
> \bibliographystyle{elsarticle-num-names}
> \bibliography{test}
>
> \end{document}
> - -----------------------------------------------------
>
> - --- file: test.bib ----------------------------------
> @article{test2012test,
>   doi = {10.1073/pnas.98.2.404},
> }
> - -----------------------------------------------------
>
> If I remove the hyperref package, everything works fine. I am assuming
> that this is a TeXLive bug, since a search on the web brought me to
> http://www.latex-community.org/forum/viewtopic.php?f=4&t=14622
> where a similar problem is described and solved by switching to MikTeX:
>
>> Thanks a lot for your post. It helped me to figure out that the
>> problem is that I am using TeXLive. When I switch to MikTeX, it works
>> perfectly.
>
>
> Unfortunately, this is not an option for me. Can you confirm that this
> is a TeXLive bug? Are there any workarounds besides not using the
> hyperref package?
>
1. This is not a TeX Live vs MiKTeX problem. The difference is that
when the user switched from TeX Live to MiKTeX, he or she had
different versions of packages in MiKTeX than in TL

2. Do you really need hyperref with elsarticle? AFAIK elsarticle is
intended for articles in journals published by Elsevier. They will
certainly do hypertext references by their own means (references via
CrossRef etc). See their web page or the web page of Science Direct.

3. Have you checked the bugs fixed recently by Heiko?

>
> Best regards,
> Robert
>
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.10 (GNU/Linux)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/
>
> iF4EAREIAAYFAlAsn7sACgkQPycGMHQuamJRaQEAxeiAs1TQNAxBwJ9vIBABco8E
> Yv91ayNmEWihWrZ8+d0A/1eZAtpk0JIGuZBC370Rmx1HPTDzEWbSRj40x0UbQfpU
> =AVEK
> -----END PGP SIGNATURE-----



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From jaeschke at l3s.de  Fri Aug 17 07:08:15 2012
From: jaeschke at l3s.de (=?ISO-8859-2?Q?Robert_J=E4schke?=)
Date: Fri, 17 Aug 2012 07:08:15 +0200
Subject: [tex-live] problem with elsarticle.cls and hyperref
In-Reply-To: <CAC1phyYj0vDAJbYSRzdq+pmaZjWSM5ydk8SqnF4wgxFrytvuSA@mail.gmail.com>
References: <502C9FC0.5080902@l3s.de>
 <CAC1phyYj0vDAJbYSRzdq+pmaZjWSM5ydk8SqnF4wgxFrytvuSA@mail.gmail.com>
Message-ID: <502DD1BF.2020809@l3s.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256


Am 17.08.2012 01:26, schrieb Zdenek Wagner:
> I am having trouble to typeset a document with the elsarticle class
> in combination with the hyperref package.
> 
[...]
> 
> If I remove the hyperref package, everything works fine. I am
> assuming that this is a TeXLive bug, since a search on the web
> brought me to 
> http://www.latex-community.org/forum/viewtopic.php?f=4&t=14622 
> where a similar problem is described and solved by switching to
> MikTeX:
> 
>>>> Thanks a lot for your post. It helped me to figure out that
>>>> the problem is that I am using TeXLive. When I switch to
>>>> MikTeX, it works perfectly.
> 
> Unfortunately, this is not an option for me. Can you confirm that
> this is a TeXLive bug? Are there any workarounds besides not using
> the hyperref package?
> 
>> 1. This is not a TeX Live vs MiKTeX problem. The difference is
>> that when the user switched from TeX Live to MiKTeX, he or she
>> had different versions of packages in MiKTeX than in TL

OK. Good to know.


>> 2. Do you really need hyperref with elsarticle? AFAIK elsarticle
>> is intended for articles in journals published by Elsevier. They
>> will certainly do hypertext references by their own means
>> (references via CrossRef etc). See their web page or the web page
>> of Science Direct.

That is a good point. Actually, I don't necessarily need hyperref,
although it is nice to have hyperlinks when writing the article to
quickly jump through the document.

However, what I need is the url package, otherwise URLs won't be
typeset correctly. So I exchanged hyperref with url in the example
from my previous post and now the document compiles. However, the DOI
of the citation is now typeset as:

doi:\bibinfo{doi}{10.1073/pnas.98.2.404}

(yes, I see the raw macro in the PDF)

The url package is the most recent version. So I assume there is an
incompatibility between the elsarticle class and the url package and I
should contact the maintainers?


>> 3. Have you checked the bugs fixed recently by Heiko?

I found nothing in the changelog that could be related.



Robert
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.12 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iF4EAREIAAYFAlAt0b8ACgkQPycGMHQuamL0qwD/flkV2u83c1JWRho+SB9wbDLV
qkDKNNm2QtwQGHtsvEcA/391T9S40KeQnAZThKuTQxwP9Xai4iZALY8ScpylQ1Pn
=z4VR
-----END PGP SIGNATURE-----

From vivrii at gmail.com  Fri Aug 17 07:43:55 2012
From: vivrii at gmail.com (Victor Ivrii)
Date: Fri, 17 Aug 2012 09:43:55 +0400
Subject: [tex-live] pst-ode
Message-ID: <CADP=ZZrPQG19KncVj3AC8+QSTBRpeipYtNZh_55Cj2F09=SpuQ@mail.gmail.com>

During today update (a new package) pst-ode failed and attempts to
install it failed either

auto-install: pst-ode (27431) [110k] ... Downloading
   http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
did not succeed, please retry.
TLPDB::_install_package: couldn't unpack
http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
to /usr/local/texlive/2012/texmf-dist
tlmgr: couldn't install new package pst-ode

and attempts to install it failed either

% tlmgr install pst-ode
tlmgr: package repository
http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet
[1/1, ??:??/??:??] install: pst-ode [110k]
TLDownload::get_file: response error:
  404 Not Found
permanent server connection set up, but downloading did not
succeed!Retrying with wget.
Downloading
   http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
did not succeed, please retry.
TLPDB::_install_package: couldn't unpack
http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
to /usr/local/texlive/2012/texmf-dist
tlmgr: package log updated at /usr/local/texlive/2012/texmf-var/web2c/tlmgr.log


Victor

From Robin.Fairbairns at cl.cam.ac.uk  Fri Aug 17 08:56:34 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 17 Aug 2012 07:56:34 +0100
Subject: [tex-live] pst-ode
In-Reply-To: Your message of Fri, 17 Aug 2012 09:43:55 +0400.
 <CADP=ZZrPQG19KncVj3AC8+QSTBRpeipYtNZh_55Cj2F09=SpuQ@mail.gmail.com>
Message-ID: <31375.1345186594@cl.cam.ac.uk>

Victor Ivrii <vivrii at gmail.com> wrote:

> During today update (a new package) pst-ode failed and attempts to
> install it failed either
> 
> auto-install: pst-ode (27431) [110k] ... Downloading
>    http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
> did not succeed, please retry.
> TLPDB::_install_package: couldn't unpack
> http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
> to /usr/local/texlive/2012/texmf-dist
> tlmgr: couldn't install new package pst-ode
> 
> and attempts to install it failed either
> 
> % tlmgr install pst-ode
> tlmgr: package repository
> http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet
> [1/1, ??:??/??:??] install: pst-ode [110k]
> TLDownload::get_file: response error:
>   404 Not Found
> permanent server connection set up, but downloading did not
> succeed!Retrying with wget.
> Downloading
>    http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
> did not succeed, please retry.
> TLPDB::_install_package: couldn't unpack
> http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/archive/pst-ode.tar.xz
> to /usr/local/texlive/2012/texmf-dist
> tlmgr: package log updated at /usr/local/texlive/2012/texmf-var/web2c/tlmgr.log

are you on sabbatical (or holiday) in the uk?  if not, why on earth are
you using a uk mirror?

whatever, tl does indeed have pst-ode

  107204 Aug 17 03:45 archive/systems/texlive/tlnet/archive/pst-ode.doc.tar.xz
    4584 Aug 17 03:45 archive/systems/texlive/

but it arrived at most 4 hours ago; thus it's not surprising that the
oxford mirror doesn't have the package:

> http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet
> [1/1, ??:??/??:??] install: pst-ode [110k]
> TLDownload::get_file: response error:
>   404 Not Found
> permanent server connection set up, but downloading did not
> succeed!

note that "Not Found" (it's for real: oxford really doesn't have the
package).  mirrors are declared "failing" if they fall behind 24-hour
update-to-date-ness (as it were); oxford's nowhere near that, on this
metric.

Robin Fairbairns

For the CTAN team

From lomov.vl at gmail.com  Fri Aug 17 08:58:12 2012
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 17 Aug 2012 15:58:12 +0900
Subject: [tex-live] problem with elsarticle.cls and hyperref
In-Reply-To: <502C9FC0.5080902@l3s.de>
References: <502C9FC0.5080902@l3s.de>
Message-ID: <20120817065812.GA871@smoon>

Hello,

** Robert J?schke [2012-08-16 09:22:40 +0200]:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256

> Hello,

> I am having trouble to typeset a document with the elsarticle class in
> combination with the hyperref package.

> After the first run of pdflatex and a subsequent run of bibtex, a run of
> pdflatex produces the following output:

>> This is pdfTeX, Version 3.1415926-2.4-1.40.13 (TeX Live 2012/Debian)
> [...]
>> Document Class: elsarticle 2009/09/17, 1.2.0: Elsevier Ltd
> [...]
>> (./test.out) (./test.out) (./test.bbl
>> ! Undefined control sequence.
>> <argument> \let \bibinfo at X@doi
>>                                {10.1073/pnas.98.2.404}
>> l.12  \doi{\bibinfo{doi}{10.1073/pnas.98.2.404}}
>>                                                 .
>> ?

> The input files are the following:

> - --- file: test.tex ----------------------------------
> \documentclass{elsarticle}
> \usepackage{hyperref}

> \begin{document}

> \cite{test2012test}

> \bibliographystyle{elsarticle-num-names}
> \bibliography{test}

> \end{document}
> - -----------------------------------------------------

> - --- file: test.bib ----------------------------------
> @article{test2012test,
>   doi = {10.1073/pnas.98.2.404},
> }
> - -----------------------------------------------------

> If I remove the hyperref package, everything works fine. I am assuming
> that this is a TeXLive bug, since a search on the web brought me to
> http://www.latex-community.org/forum/viewtopic.php?f=4&t=14622
> where a similar problem is described and solved by switching to MikTeX:

>> Thanks a lot for your post. It helped me to figure out that the
>> problem is that I am using TeXLive. When I switch to MikTeX, it works
>> perfectly.

> Unfortunately, this is not an option for me. Can you confirm that this
> is a TeXLive bug? Are there any workarounds besides not using the
> hyperref package?

That's not a TeX Live bug and it is even not a bug, it is a "feature" of
hyperref package (only Heiko Oberdiek has the last word here: a bug or a
feature).

I checked your example with TeX Live 2010, 2011. 2012 and MikTeX 2.9: all
fail (6.82g, 6.82p, 6.82y and 6.82y).

Details: hyperref package redefines many macros, `\url' is one of such
macros.

> Best regards,
> Robert

---
WBR, Vladimir Lomov

-- 
I've only got 12 cards.

From Christine_Roemer at t-online.de  Fri Aug 17 09:16:47 2012
From: Christine_Roemer at t-online.de (Christine_Roemer)
Date: Fri, 17 Aug 2012 09:16:47 +0200
Subject: [tex-live] pst-ode
In-Reply-To: <31375.1345186594@cl.cam.ac.uk>
References: <31375.1345186594@cl.cam.ac.uk>
Message-ID: <502DEFDF.2020008@t-online.de>

Am 17.08.2012 08:56, schrieb Robin Fairbairns:
>
> tlmgr: couldn't install new package pst-ode
What is pst-ode now? pst-node?

Christine


From lomov.vl at gmail.com  Fri Aug 17 09:53:00 2012
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 17 Aug 2012 16:53:00 +0900
Subject: [tex-live] problem with elsarticle.cls and hyperref
In-Reply-To: <502DD1BF.2020809@l3s.de>
References: <502C9FC0.5080902@l3s.de>
 <CAC1phyYj0vDAJbYSRzdq+pmaZjWSM5ydk8SqnF4wgxFrytvuSA@mail.gmail.com>
 <502DD1BF.2020809@l3s.de>
Message-ID: <20120817075300.GB871@smoon>

Hello,

** Robert J?schke [2012-08-17 07:08:15 +0200]:

[...]

>>> 2. Do you really need hyperref with elsarticle? AFAIK elsarticle
>>> is intended for articles in journals published by Elsevier. They
>>> will certainly do hypertext references by their own means
>>> (references via CrossRef etc). See their web page or the web page
>>> of Science Direct.

> That is a good point. Actually, I don't necessarily need hyperref,
> although it is nice to have hyperlinks when writing the article to
> quickly jump through the document.

> However, what I need is the url package, otherwise URLs won't be
> typeset correctly. So I exchanged hyperref with url in the example
> from my previous post and now the document compiles. However, the DOI
> of the citation is now typeset as:

> doi:\bibinfo{doi}{10.1073/pnas.98.2.404}

> (yes, I see the raw macro in the PDF)

> The url package is the most recent version. So I assume there is an
> incompatibility between the elsarticle class and the url package and I
> should contact the maintainers?

IMHO, it shouldn't work at all. Consider the following small example:
----------------- 8< -----------------
\documentclass{minimal}
\usepackage{url}

\newcommand{\aword}{a//word}

\begin{document}

This is an URL: \url{\aword}

\end{document}
----------------- 8< -----------------

Typeset it with pdflatex and you see the macro itself, from
documentation:

% url.sty  ver 3.3    12-Apr-2006   Donald Arseneau   asnd at triumf.ca
%
% This package defines "\url", a form of "\verb" that allows linebreaks,
% and can often be used in the argument to another command.

So, like ordinary `\verb' command `\url' macro doesn't expand its
argument.

Perhaps elsarticle author(s) doesn't take into account the `url'
package.

---
WBR, Vladimir Lomov

-- 
...I would go so far as to suggest that, were it not for our ego and 
concern to be different, the African apes would be included in our 
family, the Hominidae.
- Richard Leakey

From Robin.Fairbairns at cl.cam.ac.uk  Fri Aug 17 10:29:30 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 17 Aug 2012 09:29:30 +0100
Subject: [tex-live] pst-ode
In-Reply-To: Your message of Fri, 17 Aug 2012 09:16:47 +0200.
 <502DEFDF.2020008@t-online.de>
Message-ID: <2836.1345192170@cl.cam.ac.uk>

Christine_Roemer <Christine_Roemer at t-online.de> wrote:

> Am 17.08.2012 08:56, schrieb Robin Fairbairns:
> >
> > tlmgr: couldn't install new package pst-ode
> What is pst-ode now? pst-node?

ordinary differential equation solver.  installed on ctan yesterday, so
will be announced some time today.

Robin Fairbairns

For the CTAN team

From heiko.oberdiek at googlemail.com  Fri Aug 17 10:29:38 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 17 Aug 2012 10:29:38 +0200
Subject: [tex-live] problem with elsarticle.cls and hyperref
In-Reply-To: <502C9FC0.5080902@l3s.de>
References: <502C9FC0.5080902@l3s.de>
Message-ID: <20120817082937.GA29077@oberdiek.my-fqdn.de>

On Thu, Aug 16, 2012 at 09:22:40AM +0200, Robert J?schke wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA256
> 
> Hello,
> 
> I am having trouble to typeset a document with the elsarticle class in
> combination with the hyperref package.
> 
> After the first run of pdflatex and a subsequent run of bibtex, a run of
> pdflatex produces the following output:
> 
> > This is pdfTeX, Version 3.1415926-2.4-1.40.13 (TeX Live 2012/Debian)
> [...]
> > Document Class: elsarticle 2009/09/17, 1.2.0: Elsevier Ltd
> [...]
> > (./test.out) (./test.out) (./test.bbl
> > ! Undefined control sequence.
> > <argument> \let \bibinfo at X@doi
> >                                {10.1073/pnas.98.2.404}
> > l.12  \doi{\bibinfo{doi}{10.1073/pnas.98.2.404}}
> >                                                 .
> > ?
> 
> The input files are the following:
> 
> - --- file: test.tex ----------------------------------
> \documentclass{elsarticle}
> \usepackage{hyperref}
> 
> \begin{document}
> 
> \cite{test2012test}
> 
> \bibliographystyle{elsarticle-num-names}
> \bibliography{test}
> 
> \end{document}
> - -----------------------------------------------------
> 
> - --- file: test.bib ----------------------------------
> @article{test2012test,
>   doi = {10.1073/pnas.98.2.404},
> }
> - -----------------------------------------------------
> 
> If I remove the hyperref package, everything works fine. I am assuming
> that this is a TeXLive bug,

TeX Live is a TeX distribution. It would be a TeX Live bug,
if a package is way out of date, files of a package are missing
or sorted wrongly, ...
  But package bugs, incompatibilities between packages are not
bugs of the distribution.

> since a search on the web brought me to
> http://www.latex-community.org/forum/viewtopic.php?f=4&t=14622
> where a similar problem is described and solved by switching to MikTeX:

A different TeX distribution might contain other packages in different
versions. Add \listfiles and compare the version list.

BTW, MiKTeX 2.9 shows the same behaviour.

> Can you confirm that this is a TeXLive bug?

No, it isn't.

The contents of the generated .bbl file:

  \begin{thebibliography}{1}
  \providecommand{\natexlab}[1]{#1}
  \providecommand{\url}[1]{\texttt{#1}}
  \providecommand{\urlprefix}{URL }
  \expandafter\ifx\csname urlstyle\endcsname\relax
    \providecommand{\doi}[1]{doi:\discretionary{}{}{}#1}\else
    \providecommand{\doi}[1]{doi:\discretionary{}{}{}\begingroup
    \urlstyle{rm}\url{#1}\endgroup}\fi
  \providecommand{\bibinfo}[2]{#2}

  \bibitem[{tes(????)}]{test2012test}
   \doi{\bibinfo{doi}{10.1073/pnas.98.2.404}}.

  \end{thebibliography}

* Class elsarticle loads package natbib that defines \bibinfo
  in a non-expandable way.
* Hyperref loads package url, thus \url and \urlstyle are defined.
* \doi is not defined.

Then \doi calls "\bibinfo{doi}{10.1073/pnas.98.2.404}" as url.
If only package url is loaded, then "\bibinfo" will be printed, too.
With package doipubmed that defines \doi, the printed text is also wrong.
If package hyperref or doi is loaded, then the non-expandable \bibinfo
of natbib breaks with an error message. \bibinfo should not be part
of the url/doi. BTW, for a clickable link, a real url is needed, too.
That is not provided by the provided definitions either.

Summary: It is a bug of the bibliography style elsarticle-num-names.bst
that should be fixed there.

> Are there any workarounds besides not using the
> hyperref package?

Workaround, if package hyperref is loaded and \doi is undefined:

\documentclass{elsarticle}

\usepackage{hyperref}

\makeatletter
\providecommand{\doi}[1]{%
  \begingroup
    \let\bibinfo\@secondoftwo
    \urlstyle{rm}%
    \href{http://dx.doi.org/#1}{%
      doi:\discretionary{}{}{}%
      \nolinkurl{#1}%
    }%
  \endgroup
}
\makeatother

\begin{document}

\cite{test2012test}

\bibliographystyle{elsarticle-num-names}
\bibliography{test}

\end{document}

Yours sincerely
  Heiko Oberdiek

From jeff.rummel at emory.edu  Fri Aug 17 16:39:15 2012
From: jeff.rummel at emory.edu (Rummel, Jeff)
Date: Fri, 17 Aug 2012 14:39:15 +0000
Subject: [tex-live] Finding files with texlive
Message-ID: <D619DBF0478D9E4287287A0D0704984341C67889@e14mbx11n.Enterprise.emory.net>

I have tried everything I can think of, so it is probably something obvious.  I thought it would be wise to migrate from PCTeX to the texlive implementation, since it seems to be a standard installation.  I have a search path in PCTeX that includes the parent of the current directory (\..) and a directory where I keep my LaTeX styles.

I read through the documentation and thought that texlive would look in TEXMFHOME for my styles.  I ran
Kpsewhich -var-value TEXMFHOME

thinking that is where pdfLaTeX would look when I click the typeset button in TeXworks.   So the document starts
\documentclass{jlrhandouts}

And jlrhandouts.cls is in the directory c:/Users/jrummel/texmf, but  TeXworks says file not found.  I tried
Set TEXINPUTS=c:\Users\jrummel\texmf

with and without the trailing semicolon.  I am at a loss about what to do next.  And then I have to figure out how to get the parent directory into my search.

Why doesn't TeX Live Manager 2012 have something in it for Windows users who want to point to some directories in a simple way?

Thanks for any help.

--jeff.
Jeff Rummel  (jrummel at emory.edu)




________________________________

This e-mail message (including any attachments) is for the sole use of
the intended recipient(s) and may contain confidential and privileged
information. If the reader of this message is not the intended
recipient, you are hereby notified that any dissemination, distribution
or copying of this message (including any attachments) is strictly
prohibited.

If you have received this message in error, please contact
the sender by reply e-mail message and destroy all copies of the
original message (including attachments).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20120817/c495351e/attachment.html>

From zdenek.wagner at gmail.com  Fri Aug 17 23:54:07 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 17 Aug 2012 23:54:07 +0200
Subject: [tex-live] Finding files with texlive
In-Reply-To: <D619DBF0478D9E4287287A0D0704984341C67889@e14mbx11n.Enterprise.emory.net>
References: <D619DBF0478D9E4287287A0D0704984341C67889@e14mbx11n.Enterprise.emory.net>
Message-ID: <CAC1phybdkyVJm9kZc7h6w8c-D=sjFOba5CfXvZV7-9XS+RBNGA@mail.gmail.com>

2012/8/17 Rummel, Jeff <jeff.rummel at emory.edu>:
> I have tried everything I can think of, so it is probably something obvious.
> I thought it would be wise to migrate from PCTeX to the texlive
> implementation, since it seems to be a standard installation.  I have a
> search path in PCTeX that includes the parent of the current directory (\..)
> and a directory where I keep my LaTeX styles.
>
>
>
> I read through the documentation and thought that texlive would look in
> TEXMFHOME for my styles.  I ran
>
> Kpsewhich -var-value TEXMFHOME
>
>
>
> thinking that is where pdfLaTeX would look when I click the typeset button
> in TeXworks.   So the document starts
>
> \documentclass{jlrhandouts}
>
>
>
> And jlrhandouts.cls is in the directory c:/Users/jrummel/texmf, but
> TeXworks says file not found.  I tried
>
It should be in c:/Users/jrummel/texmf/tex (or in its subdirctory).
You will find all searched directories by:

 kpsewhich -format=pdflatex -show-path=tex

> Set TEXINPUTS=c:\Users\jrummel\texmf
>
>
>
> with and without the trailing semicolon.  I am at a loss about what to do
> next.  And then I have to figure out how to get the parent directory into my
> search.
>
Parent directory is not searched for purpose. Access to arbitrary
directories is potential security risk. You should decide what you
allow programs to do and set it in texmf.cnf (or it can be also
overridden by command line options, at least for some programs)
>
>
> Why doesn't TeX Live Manager 2012 have something in it for Windows users who
> want to point to some directories in a simple way?
>
No one has written it so far.
>
>
> Thanks for any help.
>
>
>
> --jeff.
>
> Jeff Rummel  (jrummel at emory.edu)
>
>
>
>
>
>
>
>
> ________________________________
>
> This e-mail message (including any attachments) is for the sole use of
> the intended recipient(s) and may contain confidential and privileged
> information. If the reader of this message is not the intended
> recipient, you are hereby notified that any dissemination, distribution
> or copying of this message (including any attachments) is strictly
> prohibited.
>
> If you have received this message in error, please contact
> the sender by reply e-mail message and destroy all copies of the
> original message (including attachments).



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From karl at freefriends.org  Fri Aug 17 23:59:04 2012
From: karl at freefriends.org (Karl Berry)
Date: Fri, 17 Aug 2012 15:59:04 -0600
Subject: [tex-live] Finding files with texlive
In-Reply-To: <CAC1phybdkyVJm9kZc7h6w8c-D=sjFOba5CfXvZV7-9XS+RBNGA@mail.gmail.com> (message
 from Zdenek Wagner on Fri, 17 Aug 2012 23:54:07 +0200)
Message-ID: <86pq6pnpsn.fsf@frenzy.freefriends.org>

    > Why doesn't TeX Live Manager 2012 have something in it for Windows users who
    > want to point to some directories in a simple way?

tlmgr has nothing to do with actually running TeX, it's about
dealing with the installation.

If you want TeX to read the directory .. and the directory c:\mydoc, you
can set the TEXINPUTS environment variable (with the trailing semicolon
please, so the system directories get searched).

set TEXINPUTS=..;c:\mydoc;

k

From jeff.rummel at emory.edu  Sat Aug 18 00:17:23 2012
From: jeff.rummel at emory.edu (Rummel, Jeff)
Date: Fri, 17 Aug 2012 22:17:23 +0000
Subject: [tex-live] Finding files with texlive
In-Reply-To: <86pq6pnpsn.fsf@frenzy.freefriends.org>
References: <CAC1phybdkyVJm9kZc7h6w8c-D=sjFOba5CfXvZV7-9XS+RBNGA@mail.gmail.com>
 (message from Zdenek Wagner on Fri, 17 Aug 2012 23:54:07
 +0200),<86pq6pnpsn.fsf@frenzy.freefriends.org>
Message-ID: <BB2611EF-407D-4E3C-8473-BEB4BAEAC014@emory.edu>

I did that (but I did not try the .., just the other directory, to keep things simple at first).  Tried it with the trailing semicolon and without.  For a number of different directories (in case I was spelling things wrong).  Never worked.  I assume that going to CMD.exe to run the "set" command is where I do that so TeXWorks sees it?

I also tried putting the file in what looked like the directories that TeXworks already looks at.  Never was found.

Is the problem \documentclass{jlrhandouts.cls}?  Does the system expect to see jlrhandouts.cls buried somewhere in a subdirectory with a particular name because it is a class?  I see that the package directories are organized with many layers, but I don't have to do that for my files, do I?

BTW, if I type the full name of the file after the TeX error message, the file compiles.

Still mystified.  Sorry if I'm being dense.

--jeff.

Sent from my iPad

On Aug 17, 2012, at 5:59 PM, "Karl Berry" <karl at freefriends.org> wrote:

>> Why doesn't TeX Live Manager 2012 have something in it for Windows users who
>> want to point to some directories in a simple way?
>
> tlmgr has nothing to do with actually running TeX, it's about
> dealing with the installation.
>
> If you want TeX to read the directory .. and the directory c:\mydoc, you
> can set the TEXINPUTS environment variable (with the trailing semicolon
> please, so the system directories get searched).
>
> set TEXINPUTS=..;c:\mydoc;
>
> k

________________________________

This e-mail message (including any attachments) is for the sole use of
the intended recipient(s) and may contain confidential and privileged
information. If the reader of this message is not the intended
recipient, you are hereby notified that any dissemination, distribution
or copying of this message (including any attachments) is strictly
prohibited.

If you have received this message in error, please contact
the sender by reply e-mail message and destroy all copies of the
original message (including attachments).


From kakuto at fuk.kindai.ac.jp  Sat Aug 18 02:50:54 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 18 Aug 2012 09:50:54 +0900
Subject: [tex-live] Finding files with texlive
In-Reply-To: <BB2611EF-407D-4E3C-8473-BEB4BAEAC014@emory.edu>
References: <BB2611EF-407D-4E3C-8473-BEB4BAEAC014@emory.edu>
Message-ID: <134525105453308100007c35@sniffer>

Dear Rummel,

> ... ... so TeXWorks sees it?

start menu
--> computer
--> system property
--> detailed setting of the system
--> detailed setting
--> environment variables


Environment variables for a user:
Variable TEXINPUTS
Value    ..;c:/mydoc//;

Forward slashes are better.

Thanks,
Akira


From lomov.vl at gmail.com  Sat Aug 18 05:38:00 2012
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sat, 18 Aug 2012 12:38:00 +0900
Subject: [tex-live] Finding files with texlive
In-Reply-To: <D619DBF0478D9E4287287A0D0704984341C67889@e14mbx11n.Enterprise.emory.net>
References: <D619DBF0478D9E4287287A0D0704984341C67889@e14mbx11n.Enterprise.emory.net>
Message-ID: <20120818033800.GB829@smoon>

Hello,

** Rummel, Jeff [2012-08-17 14:39:15 +0000]:

> I have tried everything I can think of, so it is probably something
> obvious.  I thought it would be wise to migrate from PCTeX to the
> texlive implementation, since it seems to be a standard installation.
> I have a search path in PCTeX that includes the parent of the current
> directory (\..)

IMHO, very ugly feature.

> and a directory where I keep my LaTeX styles.

Didn't see PCTeX in action and don't know what this means.

> I read through the documentation and thought that texlive would look
> in TEXMFHOME for my styles.

Yes and not, TeX Live manual

2.3 Overview of the predefined texmf trees

TEXMFHOME

    The tree which users can use for their own individual installations
    of additional or updated macros, fonts, etc. The expansion of this
    variable dynamically adjusts for each user to their own individual
    directory. 


and below:

The default layout is:

user?s home
    ($HOME or %USERPROFILE%)

    texmf

        TEXMFHOME Personal macros, etc.

3.2.3 Directories

TEXMFHOME is the recommended location for personal macro files or
packages.

Special redundant note: TEXMFHOME, like all trees, must be organized
according to the TDS, or files may not be found.

> I ran
> Kpsewhich -var-value TEXMFHOME
> thinking that is where pdfLaTeX would look when I click the typeset
> button in TeXworks. So the document starts \documentclass{jlrhandouts}
> And jlrhandouts.cls is in the directory c:/Users/jrummel/texmf, but
> TeXworks says file not found.  I tried Set
> TEXINPUTS=c:\Users\jrummel\texmf

I tried (not hard) to search internet for `jlrhandouts' class file but
found nothing. Nevertheless, you use wrong path, see above quotes from
manual, you should put the class file here

C:/Users/texmf/tex/latex/jlr/

After that latex/pdflatex/xelatex/lualatex can find it. But this may be
not enough if class file uses some other custom files shipped with it,
they must be placed it the same directory.

> with and without the trailing semicolon.  I am at a loss about what to
> do next.  And then I have to figure out how to get the parent
> directory into my search.

Use recommended way to include personal files.

> Why doesn't TeX Live Manager 2012 have something in it for Windows
> users who want to point to some directories in a simple way?

Because this is the way to mess (don't get me wrong, but the "simple
way" is treated differently by different people).

> Thanks for any help.

---
WBR, Vladimir Lomov

-- 
	The master programmer moves from program to program without fear.  No
change in management can harm him.  He will not be fired, even if the project
is canceled. Why is this?  He is filled with the Tao.
		-- Geoffrey James, "The Tao of Programming"

From P.Taylor at rhul.ac.uk  Sat Aug 18 11:09:40 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Sat, 18 Aug 2012 10:09:40 +0100
Subject: [tex-live] Finding files with texlive
In-Reply-To: <BB2611EF-407D-4E3C-8473-BEB4BAEAC014@emory.edu>
References: <CAC1phybdkyVJm9kZc7h6w8c-D=sjFOba5CfXvZV7-9XS+RBNGA@mail.gmail.com> (message
 from Zdenek Wagner on Fri, 17 Aug 2012 23:54:07 +0200),
 <86pq6pnpsn.fsf@frenzy.freefriends.org>
 <BB2611EF-407D-4E3C-8473-BEB4BAEAC014@emory.edu>
Message-ID: <502F5BD4.3060808@Rhul.Ac.Uk>



Rummel, Jeff wrote:

> I assume that going to CMD.exe to run the "set" command is where I do
> that so TeXWorks sees it?

No, that sets the variables for the current CMD session.  To make
a permanent change (which you can, of course, revert through the
same interface) you have to use the GUI interface accessed via

	(My) Computer / Properties / Advanced (system settings) -
		System Properties / Advanced / Environment Variables -
			(Choose between User and System) -
				and then either Add or Edit as needed.

Philip Taylor

From P.Taylor at rhul.ac.uk  Sat Aug 18 11:22:46 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Sat, 18 Aug 2012 10:22:46 +0100
Subject: [tex-live] Finding files with texlive
In-Reply-To: <502F5BD4.3060808@Rhul.Ac.Uk>
References: <CAC1phybdkyVJm9kZc7h6w8c-D=sjFOba5CfXvZV7-9XS+RBNGA@mail.gmail.com> (message
 from Zdenek Wagner on Fri, 17 Aug 2012 23:54:07 +0200),
 <86pq6pnpsn.fsf@frenzy.freefriends.org>
 <BB2611EF-407D-4E3C-8473-BEB4BAEAC014@emory.edu>
 <502F5BD4.3060808@Rhul.Ac.Uk>
Message-ID: <502F5EE6.40405@Rhul.Ac.Uk>

Or, possibly/probably faster (certainy less faff)

	Start / Run / Sysdm.cpl

and then Advanced / Environment Variables -
               (Choose between User and System) -
                   and then either Add or Edit as needed.

as before.
--------
Philip TAYLOR wrote:

> Rummel, Jeff wrote:
>
>> I assume that going to CMD.exe to run the "set" command is where I do
>> that so TeXWorks sees it?

From jaeschke at l3s.de  Mon Aug 20 12:21:16 2012
From: jaeschke at l3s.de (=?ISO-8859-1?Q?Robert_J=E4schke?=)
Date: Mon, 20 Aug 2012 12:21:16 +0200
Subject: [tex-live] problem with elsarticle.cls and hyperref
In-Reply-To: <20120817082937.GA29077@oberdiek.my-fqdn.de>
References: <502C9FC0.5080902@l3s.de>
 <20120817082937.GA29077@oberdiek.my-fqdn.de>
Message-ID: <50320F9C.60601@l3s.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Hello Heiko,

On 17.08.2012 10:29, Heiko Oberdiek wrote:
[...]
> Workaround, if package hyperref is loaded and \doi is undefined:
> 
> \documentclass{elsarticle}
> 
> \usepackage{hyperref}
> 
> \makeatletter
> \providecommand{\doi}[1]{%
>   \begingroup
>     \let\bibinfo\@secondoftwo
>     \urlstyle{rm}%
>     \href{http://dx.doi.org/#1}{%
>       doi:\discretionary{}{}{}%
>       \nolinkurl{#1}%
>     }%
>   \endgroup
> }
> \makeatother
> 
> \begin{document}
> 
> \cite{test2012test}
> 
> \bibliographystyle{elsarticle-num-names}
> \bibliography{test}
> 
> \end{document}

Many thanks for all the good explanations (also from Valdimir and
Zdenek) and for this particular workaround. I will contact Elsevier and
let them know about the problem and its solution.


Best regards,
Robert

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iF4EAREIAAYFAlAyD5gACgkQPycGMHQuamJYOQEAhcPiQHFSJvVTe7ar7Cq9gSj2
YiKICOkYsv7tp9dE8fAA/2/1ahbH7gUPBBQO3/Mf+9BCDB6AjZy08/MFPvbHc9IC
=EN7v
-----END PGP SIGNATURE-----

From oberfnik at calypse.de  Mon Aug 20 14:10:16 2012
From: oberfnik at calypse.de (oberfnik)
Date: Mon, 20 Aug 2012 14:10:16 +0200
Subject: [tex-live] Texworks Editor
Message-ID: <50322928.6030608@calypse.de>

Dear members,
I'm not sure if I'm at the right place for this comment, but I feel that 
this list might be the least wrong selection among the tug-mailinglists.
I have a question/comment/suggestion concerning the great Texworks 
Editor and Tex Live Manager (2012).
Every time there is an update for the editor in Tex Live Manager, not 
only the binaries but also the configuration is overwritten.
Is there a way to keep the config-files untouched?
Best regards
Andreas Fink

From cursus.publicus at sacrumromanumimperium.org  Mon Aug 20 15:37:12 2012
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Mon, 20 Aug 2012 15:37:12 +0200
Subject: [tex-live] Texworks Editor
In-Reply-To: <50322928.6030608@calypse.de>
References: <50322928.6030608@calypse.de>
Message-ID: <50323D88.20905@sacrumromanumimperium.org>

Hi Andreas,

quoting oberfnik, [20.08.2012 14:10]:
> Dear members,
> I'm not sure if I'm at the right place for this comment, but I feel that 
> this list might be the least wrong selection among the tug-mailinglists.
> I have a question/comment/suggestion concerning the great Texworks 
> Editor and Tex Live Manager (2012).
> Every time there is an update for the editor in Tex Live Manager, not 
> only the binaries but also the configuration is overwritten.

I'm not quite sure but I as far as I know, TW-binaries are only replaced
once a year (creating a new TL-compilation).

> Is there a way to keep the config-files untouched?

For every TL-release where is a own config-directory at

<userhome>/.texliveYYYY/texmf-config/texworks/

so you can copy your modified files from one directory to another

\HTH

Andreas

-- 
Andreas Hirsch
Klarweinstr. 5a
82467 Garmisch-Partenkirchen
++49 8821 947477
GPG PublicKey http://members.gaponline.de/afj/keys/afj_pub.asc
Fingerprint 81D6 6C24 3AA8 E250 E034 CAF5 A1E8 D5E8 806C 3CB8

From oberfnik at calypse.de  Mon Aug 20 16:04:37 2012
From: oberfnik at calypse.de (oberfnik)
Date: Mon, 20 Aug 2012 16:04:37 +0200
Subject: [tex-live] Texworks Editor
In-Reply-To: <50323D88.20905@sacrumromanumimperium.org>
References: <50322928.6030608@calypse.de>
 <50323D88.20905@sacrumromanumimperium.org>
Message-ID: <503243F5.7080806@calypse.de>

Hi Andreas,
thank you very much for the fast response. I see, the problem isn't 
really a problem and can be resolved easily.

I anyhow suggest, that new versions of Texworks should import old 
config-files or at least offer to do so.

Best regards
Andreas Fink

Am 20.08.2012 15:37, schrieb Andreas Hirsch:
> Hi Andreas,
>
> quoting oberfnik, [20.08.2012 14:10]:
>> Dear members,
>> I'm not sure if I'm at the right place for this comment, but I feel that
>> this list might be the least wrong selection among the tug-mailinglists.
>> I have a question/comment/suggestion concerning the great Texworks
>> Editor and Tex Live Manager (2012).
>> Every time there is an update for the editor in Tex Live Manager, not
>> only the binaries but also the configuration is overwritten.
> I'm not quite sure but I as far as I know, TW-binaries are only replaced
> once a year (creating a new TL-compilation).
>
>> Is there a way to keep the config-files untouched?
> For every TL-release where is a own config-directory at
>
> <userhome>/.texliveYYYY/texmf-config/texworks/
>
> so you can copy your modified files from one directory to another
>
> \HTH
>
> Andreas
>


From joelcsalomon at gmail.com  Mon Aug 20 18:40:43 2012
From: joelcsalomon at gmail.com (Joel C. Salomon)
Date: Mon, 20 Aug 2012 12:40:43 -0400
Subject: [tex-live] Add short description to package
In-Reply-To: <201208162135.q7GLZJZu016233@freefriends.org>
References: <CAFUtaNE-CPPgPZ7gRhDC8wbFjgK_e90uR7_owYY4GEeoC5aCYw@mail.gmail.com>
 <201208162135.q7GLZJZu016233@freefriends.org>
Message-ID: <CAFUtaNEA6hFZHgZvZOHgUgc8FoAtULwaJjD-mvaO79BeuT3cug@mail.gmail.com>

On Thu, Aug 16, 2012 at 5:35 PM, Karl Berry <karl at freefriends.org> wrote:
> You didn't do anything wrong that I can see.  I believe I updated xpeek
> in TL before the Catalogue entry was (re)installed with the description
> you provided to CTAN.  The description is in TL now.  The next time you
> update the package, the shortdesc should show up for everyone.

I updated xpeek to v0.2 on CTAN, and the update's made it to TL, but
still has no short description.

BTW, is there an invocation of tlmgr (or of any TL program) that will
show the descriptions (short or long) of a package?

--Joel

From wynfield at gmail.com  Mon Aug 20 17:03:46 2012
From: wynfield at gmail.com (Wynfield Henman)
Date: Mon, 20 Aug 2012 08:03:46 -0700
Subject: [tex-live] error when trying to run ConTeXt
Message-ID: <CAM-A7MDJ_vvETGEebSmBLwC4SyH8hELOnDjLVc=jfrYBDhHMRw@mail.gmail.com>

TeXLive Version: 2012  ("--all" updated to August 20th, 2012)
The attempted command which ends in an error is:

   texexec -o pdf 659-water-stations.tex

Thei results in: "PANIC: unprotected error in call to Lua API
                         (zlib library version does not match -
header: 1.2.5, library: 1.2.7)"

However /usr/include/zlib.h  is for version 1.2.7, not the 1.2.5
mentioned in the error message.     Any idea of how to fix this, so I
can run ConTexT?
Thanks for any and all help.

From karl at freefriends.org  Tue Aug 21 00:46:54 2012
From: karl at freefriends.org (Karl Berry)
Date: Mon, 20 Aug 2012 22:46:54 +0000
Subject: [tex-live] Add short description to package
In-Reply-To: <CAFUtaNEA6hFZHgZvZOHgUgc8FoAtULwaJjD-mvaO79BeuT3cug@mail.gmail.com>
Message-ID: <201208202246.q7KMksGO029850@freefriends.org>

Hi Joel,

    I updated xpeek to v0.2 on CTAN, and the update's made it to TL, but
    still has no short description.

And did you update it in your installation?

I just tried an installation and the short description was there.
Hmm.

    BTW, is there an invocation of tlmgr (or of any TL program) that
    will show the descriptions (short or long) of a package?

If you're not running tlmgr, how are you seeing the (lack of)
descriptions?

Anyway, the answer is yes (of course): tlmgr info xpeek will show
everything.  (There is also tlmgr show and tlmgr list if you have an
older tlmgr that doesn't have "info" yet.  They are all synonyms now.)

Beyond that, feel free to look at tlpkg/texlive.tlpdb and search for
xpeek.  It's just a text file.  And that's where everything should be
getting its data from.

Best,
k

From joelcsalomon at gmail.com  Tue Aug 21 01:33:35 2012
From: joelcsalomon at gmail.com (Joel C. Salomon)
Date: Mon, 20 Aug 2012 19:33:35 -0400
Subject: [tex-live] Add short description to package
In-Reply-To: <201208202246.q7KMksGO029850@freefriends.org>
References: <201208202246.q7KMksGO029850@freefriends.org>
Message-ID: <5032C94F.7020108@gmail.com>

On 08/20/2012 06:46 PM, Karl Berry wrote:
>     I updated xpeek to v0.2 on CTAN, and the update's made it to TL, but
>     still has no short description.
> 
> And did you update it in your installation?
> 
> I just tried an installation and the short description was there.
> Hmm.

I tried it on my Windows installation of TeX Live at work just before I
wrote; the update was there, but no description.

At home now, under Ubuntu, it?s there with a description.

>     BTW, is there an invocation of tlmgr (or of any TL program) that
>     will show the descriptions (short or long) of a package?
> 
> Anyway, the answer is yes (of course): tlmgr info xpeek will show
> everything.

I tried that but (on my Windows system) there was no description; now
(under Linux) there is.

I?ll try this again tomorrow; maybe I can narrow things down a bit.

> Beyond that, feel free to look at tlpkg/texlive.tlpdb and search for
> xpeek.  It's just a text file.  And that's where everything should be
> getting its data from.

Thank you,
?Joel


From reinhard.kotucha at web.de  Tue Aug 21 02:11:31 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 21 Aug 2012 02:11:31 +0200
Subject: [tex-live] Texworks Editor
In-Reply-To: <503243F5.7080806@calypse.de>
References: <50322928.6030608@calypse.de>
 <50323D88.20905@sacrumromanumimperium.org>
 <503243F5.7080806@calypse.de>
Message-ID: <20530.53811.335376.899345@zaphod.ms25.net>

On 2012-08-20 at 16:04:37 +0200, oberfnik wrote:

 > Hi Andreas,
 > thank you very much for the fast response. I see, the problem isn't 
 > really a problem and can be resolved easily.
 > 
 > I anyhow suggest, that new versions of Texworks should import old 
 > config-files or at least offer to do so.

Maybe the config files are in TEXMFCONFIG on purpose because TeXworks
is work in progress and things might change in the future.

Anyway, whenever TeXworks config files are matured and file formats
are frozen, they can be installed in TEXMFHOME and will remain there
forever.

If config files are copied over automatically, you'll certainly miss
all additions made in a newer release.  I'm not sure whether this is
desirable at this stage.  Before you copy an old config file over, you
should probably check whether the newer one supports new features.

And as Andreas said, new versions of TeXworks appear only once a year.
Hence you're not bothered with such things frequently.

Of course, when everything is frozen it makes sense to install the
files in TEXMFHOME.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Tue Aug 21 03:07:11 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 21 Aug 2012 10:07:11 +0900
Subject: [tex-live] error when trying to run ConTeXt
In-Reply-To: <CAM-A7MDJ_vvETGEebSmBLwC4SyH8hELOnDjLVc=jfrYBDhHMRw@mail.gmail.com>
References: <CAM-A7MDJ_vvETGEebSmBLwC4SyH8hELOnDjLVc=jfrYBDhHMRw@mail.gmail.com>
Message-ID: <20120821010711.GB18935@gamma.logic.tuwien.ac.at>

On Mo, 20 Aug 2012, Wynfield Henman wrote:
> TeXLive Version: 2012  ("--all" updated to August 20th, 2012)
> The attempted command which ends in an error is:
> 
>    texexec -o pdf 659-water-stations.tex
> 
> Thei results in: "PANIC: unprotected error in call to Lua API
>                          (zlib library version does not match -
> header: 1.2.5, library: 1.2.7)"
> 
> However /usr/include/zlib.h  is for version 1.2.7, not the 1.2.5
> mentioned in the error message.     Any idea of how to fix this, so I
> can run ConTexT?
> Thanks for any and all help.

Are you running *ONLY* TeX Live a distributed by TUG/CTAN,
or do you have some distribution interfering?

That is a problem with dynamic linking of zlib as done by dists, but
normally not in binaries we ship.

Can you tell me the output of
	which pdftex
	ldd `which pdftex`

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
FROLESWORTH (n.)
Measure. The minimum time it is necessary to spend frowning in deep
concentration at each picture in an art gallery in order that everyone
else doesn't think you've a complete moron.
			--- Douglas Adams, The Meaning of Liff

From joseph.wright at morningstar2.co.uk  Tue Aug 21 12:48:52 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 21 Aug 2012 11:48:52 +0100
Subject: [tex-live] Datatool docs
Message-ID: <50336794.1060306@morningstar2.co.uk>

Hello all,

Currently

  texdoc datatool

opens the documented code, while

  texdoc -l datatool

has the user documentation as #2. It would seem to be more sensible to
reverse this, so the first hit is the user docs.
-- 
Joseph Wright

From kbrow1i at gmail.com  Tue Aug 21 13:06:46 2012
From: kbrow1i at gmail.com (Ken Brown)
Date: Tue, 21 Aug 2012 07:06:46 -0400
Subject: [tex-live] ruby-1.9.x
Message-ID: <50336BC6.2050901@gmail.com>

Cygwin's ruby package will soon be updated from 1.8.7 to 1.9.3.  Two 
questions:

1. Have all the ruby scripts in the TeX Live distribution been checked 
for compatibility with ruby-1.9.x?

2. If I want to check this myself, does it suffice to run 'make check' 
in the relevant build directories after the ruby update?

Thanks.

Ken

From news3 at nililand.de  Tue Aug 21 16:01:26 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 21 Aug 2012 16:01:26 +0200
Subject: [tex-live] xindy doesn't work on windows
Message-ID: <1c56n6jjqmd60$.dlg@nililand.de>

I can't run xindy on a texlive 2012 installed on win xp. I get the
following error:


I:\Z-Test>xindy -M texindy -L german-duden orte.idx
*** - TRUENAME: Directory #P"C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\"
does not exist

J:\texlive\2012\bin\win32\runscript.tlu:591: command failed with
exit code 1:
perl.exe j:/texlive/2012/texmf/scripts/xindy/xindy.pl -M texindy -L
german-duden orte.idx


The Temp-folder *does* exist, and if I add debug options I can see
that xindy write and reads files in this folder. So I suspect a bug
(quoting error) in xindy.pl or texindy.pl but I'm wondering why
nobody else seems to have problems. Is here someone on win xp who
could try it?

orte.idx was created with this document:

\documentclass{article}
\usepackage{multind}
\makeindex{orte}
\begin{document}
abc \index{orte}{Ort}Ort
\end{document}




-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at fuk.kindai.ac.jp  Tue Aug 21 18:16:22 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 22 Aug 2012 01:16:22 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1c56n6jjqmd60$.dlg@nililand.de>
References: <1c56n6jjqmd60$.dlg@nililand.de>
Message-ID: <13455657826101870000725d@sniffer>

Dear Ulrike,

> I can't run xindy on a texlive 2012 installed on win xp. I get the
> following error:

Here it works ok.
What happens in the case of simpler temp dir such as
TEMP=j:\tmp

Thanks,
Akira


From news3 at nililand.de  Tue Aug 21 20:03:07 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 21 Aug 2012 20:03:07 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <1c56n6jjqmd60$.dlg@nililand.de> <13455657826101870000725d@sniffer>
Message-ID: <s6f6av6sxjop.dlg@nililand.de>

Am Wed, 22 Aug 2012 01:16:22 +0900 schrieb Akira Kakuto:

> Dear Ulrike,
> 
>> I can't run xindy on a texlive 2012 installed on win xp. I get the
>> following error:
> 
> Here it works ok.
> What happens in the case of simpler temp dir such as
> TEMP=j:?tmp

TEMP=J:\temp works fine, while TEMP="J:\temp temp" fails with the
same error. (Actually with *exactly* the same error: The error
message again refers to "C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\"). 

So it is (not unsurprisingly) the space. But why I'm the only one
affected with the problem? I can't be the only windows user with a
TEMP pointing to %Userprofile ;-(. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From karl at freefriends.org  Tue Aug 21 23:23:05 2012
From: karl at freefriends.org (Karl Berry)
Date: Tue, 21 Aug 2012 21:23:05 +0000
Subject: [tex-live] ruby-1.9.x
In-Reply-To: <50336BC6.2050901@gmail.com>
Message-ID: <201208212123.q7LLN562012519@freefriends.org>

Hi Ken,

    1. Have all the ruby scripts in the TeX Live distribution been checked 
    for compatibility with ruby-1.9.x?

I can't imagine who would do such a thing (not me), since the Ruby
scripts come from many disparate authors.  I just install what I'm given ...

    2. If I want to check this myself, does it suffice to run 'make check' 
    in the relevant build directories after the ruby update?

No.  make check only checks the programs that actually get built.  The
Ruby (and other) scripts, by and large, are simply installed.  (This is
the whole linked_scripts/ thing, if you've been there.)

What I would suggest is to look for Ruby scripts in the
texmf-dist/scripts directory and just try to invoke them with --help or
whatever, and see if they work.  Or contact package authors.

Sorry.

k

From kakuto at fuk.kindai.ac.jp  Wed Aug 22 01:37:43 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 22 Aug 2012 08:37:43 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <s6f6av6sxjop.dlg@nililand.de>
References: <s6f6av6sxjop.dlg@nililand.de>
Message-ID: <1345592263152949000078d3@sniffer>

Dear Ulrike,

> TEMP=J:\temp works fine, while TEMP="J:\temp temp" fails with the
> same error. (Actually with *exactly* the same error: The error
> message again refers to "C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\"). 
> 
> So it is (not unsurprisingly) the space. But why I'm the only one
> affected with the problem? I can't be the only windows user with a
> TEMP pointing to %Userprofile ;-(. 

Sorry, the problem will be solved in the next update.
If you are in a hurry, please apply the following patch:

--- texmf/scripts/xindy/xindy.pl	Mon Jun 21 18:36:48 2010
+++ xindy.pl	Wed Aug 22 08:23:01 2012
@@ -661,6 +661,8 @@
 sub filter_index ( $$ ) {
     my ($filter, $input) = @_;
     my $output = tmpnam();
+    $output=quotify($output);
+    $input=quotify($input);
     push (@temp_files, $output);
     print "Running filter: $filter <$input >$output\n"  if $verbose;
     system "$filter <$input >$output";
@@ -745,7 +747,6 @@
 
     $style_file = quotify($style_file);
     $outfile = quotify($outfile);
-    $raw_index = quotify($raw_index);
     $logging = ':logfile ' . quotify($logfile)  if $logfile;
     $tracing = ':markup-trace :on'  if $debug{markup};
     $trace_level = ":trace-level $debug{trace_level}"  if $debug{trace_level};

Thanks,
Akira


From news3 at nililand.de  Wed Aug 22 11:35:25 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 22 Aug 2012 11:35:25 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <s6f6av6sxjop.dlg@nililand.de> <1345592263152949000078d3@sniffer>
Message-ID: <1qxph98zj9rzb.dlg@nililand.de>

Am Wed, 22 Aug 2012 08:37:43 +0900 schrieb Akira Kakuto:

> Dear Ulrike,
> 
>> TEMP=J:?temp works fine, while TEMP="J:?temp temp" fails with the
>> same error. (Actually with *exactly* the same error: The error
>> message again refers to "C:??DOKUME?1??User??LOKALE?1??Temp??"). 
>> 
>> So it is (not unsurprisingly) the space. But why I'm the only one
>> affected with the problem? I can't be the only windows user with a
>> TEMP pointing to %Userprofile ;-(. 
> 
> Sorry, the problem will be solved in the next update.
> If you are in a hurry, please apply the following patch:

Well I'm not in a hurry (and if I were I could simply change TEMP)
but I'm curious so I change xindy.pl but the error message is
unchanged. 

I run some tests with -d script. If TEMP is J:\temp then the
compilation starts like this:

I:\Z-Test>set TEMP=J:\temp

I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
concatenated xindy input file: J:\temp\ZImrBujKoR 

And all messages refers to the TEMP folder.



But if TEMP contains a space xindy goes "back" to the userprofile:

I:\Z-Test>set TEMP="J:\temp temp"

I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
concatenated xindy input file:
C:\DOKUME~1\User\LOKALE~1\Temp\TGp0UhUthu
.....

(I made sure that the modified xindy.pl is used by inserting a
message. And my real user name doesn't contain spaces or something
fishy.)


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From zdenek.wagner at gmail.com  Wed Aug 22 13:06:59 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 22 Aug 2012 13:06:59 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1qxph98zj9rzb.dlg@nililand.de>
References: <s6f6av6sxjop.dlg@nililand.de> <1345592263152949000078d3@sniffer>
 <1qxph98zj9rzb.dlg@nililand.de>
Message-ID: <CAC1phyapb__pktAH6vjELwfO_4xpwWv3r9MN-m8iGuGia4i9BQ@mail.gmail.com>

2012/8/22 Ulrike Fischer <news3 at nililand.de>:
> Am Wed, 22 Aug 2012 08:37:43 +0900 schrieb Akira Kakuto:
>
>> Dear Ulrike,
>>
>>> TEMP=J:?temp works fine, while TEMP="J:?temp temp" fails with the
>>> same error. (Actually with *exactly* the same error: The error
>>> message again refers to "C:??DOKUME?1??User??LOKALE?1??Temp??").
>>>
>>> So it is (not unsurprisingly) the space. But why I'm the only one
>>> affected with the problem? I can't be the only windows user with a
>>> TEMP pointing to %Userprofile ;-(.
>>
>> Sorry, the problem will be solved in the next update.
>> If you are in a hurry, please apply the following patch:
>
> Well I'm not in a hurry (and if I were I could simply change TEMP)
> but I'm curious so I change xindy.pl but the error message is
> unchanged.
>
> I run some tests with -d script. If TEMP is J:\temp then the
> compilation starts like this:
>
> I:\Z-Test>set TEMP=J:\temp
>
> I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
> concatenated xindy input file: J:\temp\ZImrBujKoR
>
> And all messages refers to the TEMP folder.
>
>
>
> But if TEMP contains a space xindy goes "back" to the userprofile:
>
> I:\Z-Test>set TEMP="J:\temp temp"
>
> I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
> concatenated xindy input file:
> C:\DOKUME~1\User\LOKALE~1\Temp\TGp0UhUthu
> .....
>
What I do not like on Windows is the ~1 type of file name shortening.
It may easily point to a wrong file or directory depending on the
history of file creation and deletion. Aren't perl and lua able to use
the original long names? And is TEMP used in perl only, or is it
needed in xindy? Maybe tilde needs to be escaped for LISP. I do not
know, just guessing...

> (I made sure that the modified xindy.pl is used by inserting a
> message. And my real user name doesn't contain spaces or something
> fishy.)
>
>
> --
> Ulrike Fischer
> http://www.troubleshooting-tex.de/
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From kakuto at fuk.kindai.ac.jp  Wed Aug 22 13:49:33 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 22 Aug 2012 20:49:33 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1qxph98zj9rzb.dlg@nililand.de>
References: <1qxph98zj9rzb.dlg@nililand.de>
Message-ID: <1345636173396659000007de@sniffer>

Dear Ulrike,

> I:\Z-Test>set TEMP="J:\temp temp"

Probably TMPDIR is prefered.
Try
set TMPDIR="J:\temp temp"

Thanks,
Akira


From daleif at imf.au.dk  Wed Aug 22 13:58:44 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Wed, 22 Aug 2012 13:58:44 +0200
Subject: [tex-live] Unattended TL install
Message-ID: <5034C974.9000107@imf.au.dk>

Hi

I just came back from a meeting with our IT department. I wanted them to 
provide TL as a part of the programmes users can choose.

For now we will not be using a centrally maintained LaTeX installation 
(several users will be on laptops and will be traveling, so LaTeX on a 
share is not feasible, we'll see if the need present it self in the future).

One thing the IT department could do is to run an unattended TL installation

According to the to the documentation, one should be able to do an 
unattended installation via

install-tl.bat -no-gui -profile file.profile

can a profile be written to simply install everything currently present 
in tlnet? Without listing the collections?

Does anyone have experience regarding installing TL via a kind of 
Windows deployment?

BTW: the documentation states that a TL installation should leave a 
.profile of the just installed Tl. We did not find any created via

install-tl-advanced.bat

(Win 64-bit, at the very end the installer mentioned an existing MikTeX 
installation, don't know if that is relevant)



-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From kakuto at fuk.kindai.ac.jp  Wed Aug 22 14:16:30 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 22 Aug 2012 21:16:30 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <5034C8D9.10101@Rhul.Ac.Uk>
References: <5034C8D9.10101@Rhul.Ac.Uk>
Message-ID: <134563779029727000000841@sniffer>

Dear Philip,

> from where does "TMPDIR" originate ?

>From my experiment about perl.
(I'm using Active perl. Therefore TeX Live perl can be different.)

Thanks,
Akira


From P.Taylor at rhul.ac.uk  Wed Aug 22 13:56:09 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Wed, 22 Aug 2012 12:56:09 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1345636173396659000007de@sniffer>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
Message-ID: <5034C8D9.10101@Rhul.Ac.Uk>



Akira Kakuto wrote:
> Dear Ulrike,
> 
>> I:\Z-Test>set TEMP="J:\temp temp"
> 
> Probably TMPDIR is prefered.
> Try
> set TMPDIR="J:\temp temp"
> 
> Thanks,
> Akira

What is the reason for this, Akira-san ?  The two normal environment
variables controlling the location of temporary files are "TEMP" and
"TMP"; from where does "TMPDIR" originate ?

** Phil.

From news3 at nililand.de  Wed Aug 22 14:42:20 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 22 Aug 2012 14:42:20 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
Message-ID: <1xaoc06ywhq2h$.dlg@nililand.de>

Am Wed, 22 Aug 2012 20:49:33 +0900 schrieb Akira Kakuto:

> Dear Ulrike,
> 
>> I:?Z-Test>set TEMP="J:?temp temp"
> 
> Probably TMPDIR is prefered.
> Try
> set TMPDIR="J:?temp temp"

Here the results of the german tests:

If I set both variables to folders without spaces then
 1. it works
 2. the folder set by TMPDIR is used

If one variable points to a folder with a space, then
 1. it works
 2. the folder (without spaces) set by the other variable is used.

If both variables points to a folder with a space then again xindy
(or more probably some perl module) falls back to the temp folder in
%userprofile and fails. 

And for good measure I also tested the variable TMP: setting this to
a folder without spaces works too (but TMPDIR is prefered if it
doesn't contain a space). 

So the code tries hard to find a tmp-folder without spaces and fails
only if none can be found.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From martin at oneiros.de  Wed Aug 22 14:43:31 2012
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 22 Aug 2012 14:43:31 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <5034C8D9.10101@Rhul.Ac.Uk>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk>
Message-ID: <CAP7DCDeEA3=6tUfrOhkyu1aarJ=N9x9VMSQhab5Loy4HfTesJg@mail.gmail.com>

2012/8/22 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
> What is the reason for this, Akira-san ?  The two normal environment
> variables controlling the location of temporary files are "TEMP" and
> "TMP"; from where does "TMPDIR" originate ?

Posix.
https://en.wikipedia.org/wiki/TMPDIR
https://en.wikipedia.org/wiki/Temporary_folder

Best
   Martin

From reinhard.kotucha at web.de  Wed Aug 22 23:34:32 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 22 Aug 2012 23:34:32 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <5034C8D9.10101@Rhul.Ac.Uk>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk>
Message-ID: <20533.20584.538756.511579@zaphod.ms25.net>

On 2012-08-22 at 12:56:09 +0100, Philip TAYLOR wrote:

 > Akira Kakuto wrote:
 > > Dear Ulrike,
 > > 
 > >> I:\Z-Test>set TEMP="J:\temp temp"
 > > 
 > > Probably TMPDIR is prefered.
 > > Try
 > > set TMPDIR="J:\temp temp"
 > > 
 > > Thanks,
 > > Akira
 > 
 > What is the reason for this, Akira-san ?  The two normal environment
 > variables controlling the location of temporary files are "TEMP" and
 > "TMP"; from where does "TMPDIR" originate ?

TMPDIR is used on Unix.  The reason why it's checked first is because
though Cygwin is a Unix like system, the Windows environment is
inherited.  A few variables are even adapted so that Windows paths can
be used.

Here is an excerpt (Cygwin on XP):

  OS=Windows_NT
  OSTYPE=cygwin
  PATH='/usr/local/bin:/usr/bin:?:/cygdrive/c/WINDOWS/system32:?'
  TEMP=/cygdrive/c/DOKUME~1/kotucha/LOKALE~1/Temp
  TMP=/cygdrive/c/DOKUME~1/kotucha/LOKALE~1/Temp

In order to allow Cygwin users to control the behaviour by setting
TMPDIR, this variable must have the precedence.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From P.Taylor at rhul.ac.uk  Wed Aug 22 23:38:22 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Wed, 22 Aug 2012 22:38:22 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <20533.20584.538756.511579@zaphod.ms25.net>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
Message-ID: <5035514E.8040306@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> TMPDIR is used on Unix.  The reason why it's checked first is because
> though Cygwin is a Unix like system, the Windows environment is
> inherited.  A few variables are even adapted so that Windows paths can
> be used.
>
> Here is an excerpt (Cygwin on XP):
>
>    OS=Windows_NT
>    OSTYPE=cygwin
>    PATH='/usr/local/bin:/usr/bin:?:/cygdrive/c/WINDOWS/system32:?'
>    TEMP=/cygdrive/c/DOKUME~1/kotucha/LOKALE~1/Temp
>    TMP=/cygdrive/c/DOKUME~1/kotucha/LOKALE~1/Temp
>
> In order to allow Cygwin users to control the behaviour by setting
> TMPDIR, this variable must have the precedence.

OK, thanks Reinhard, but still somewhat confused in that this
is (as far as I can tell) the first time that Cygwin has come
into this thread ...  Where/how is Cygwin involved ?

** Phil.

From karl at freefriends.org  Thu Aug 23 01:18:17 2012
From: karl at freefriends.org (Karl Berry)
Date: Wed, 22 Aug 2012 23:18:17 +0000
Subject: [tex-live] Unattended TL install
In-Reply-To: <5034C974.9000107@imf.au.dk>
Message-ID: <201208222318.q7MNIHRW022243@freefriends.org>

Hi Lars,

    can a profile be written to simply install everything currently present 
    in tlnet? Without listing the collections?

Yes.  Just have a line in the profile:
selected_scheme scheme-full
(or whatever scheme you choose) and *no* collection lines.

You'll also want to set the TEX* directory values, and perhaps
some of the option* values if you want to override the defaults.
Of course, the less you need to specify, the more future-proof :).

For reference, this is mentioned in the description of -profile in
install-tl --help, aka http://tug.org/texlive/doc/install-tl.html.

    Does anyone have experience regarding installing TL via a kind of 
    Windows deployment?

Not on Windows, but I routinely do batch installations using different
profiles when testing.

    BTW: the documentation states that a TL installation should leave a 
    .profile of the just installed Tl. We did not find any created via

If the installation succeeds, it should be in tlpkg/texlive.profile.
If the installation fails, no profile is written.

Hope this helps,
Karl

From reinhard.kotucha at web.de  Thu Aug 23 01:37:59 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 23 Aug 2012 01:37:59 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <5035514E.8040306@Rhul.Ac.Uk>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk>
 <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk>
Message-ID: <20533.27991.458767.795231@zaphod.ms25.net>

On 2012-08-22 at 22:38:22 +0100, Philip TAYLOR wrote:

 > Reinhard Kotucha wrote:
 > 
 > > TMPDIR is used on Unix.  The reason why it's checked first is because
 > > though Cygwin is a Unix like system, the Windows environment is
 > > inherited.  A few variables are even adapted so that Windows paths can
 > > be used.
 > >
 > > Here is an excerpt (Cygwin on XP):
 > >
 > >    OS=Windows_NT
 > >    OSTYPE=cygwin
 > >    PATH='/usr/local/bin:/usr/bin:?:/cygdrive/c/WINDOWS/system32:?'
 > >    TEMP=/cygdrive/c/DOKUME~1/kotucha/LOKALE~1/Temp
 > >    TMP=/cygdrive/c/DOKUME~1/kotucha/LOKALE~1/Temp
 > >
 > > In order to allow Cygwin users to control the behaviour by setting
 > > TMPDIR, this variable must have the precedence.
 > 
 > OK, thanks Reinhard, but still somewhat confused in that this
 > is (as far as I can tell) the first time that Cygwin has come
 > into this thread ...  Where/how is Cygwin involved ?

It's one of the platforms supported by TeX Live.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From kakuto at fuk.kindai.ac.jp  Thu Aug 23 05:46:45 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 23 Aug 2012 12:46:45 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1xaoc06ywhq2h$.dlg@nililand.de>
References: <1xaoc06ywhq2h$.dlg@nililand.de>
Message-ID: <1345693605386297000029c8@sniffer>

Dear Ulrike,

> So the code tries hard to find a tmp-folder without spaces and
> fails only if none can be found.

#
# Experiment by
#
use File::Spec;
$xxx = File::Spec->tmpdir();
print $xxx;

(1) set TMPDIR="c:\tst tst tst"
    TMPDIR is considered nonwritable and prints the default
    c:\temp (c:\temp exists here).

(2) set TMPDIR=c:\tst tst tst
    TMPDIR is recognized as writable and prints
    c:\tst tst tst

Apparently the double quotes are also considered as characters.

In the case
set TMPDIR=c:\tst tst tst
xindy runs as expected if I use the new xindy.pl:

 --- --- --- --- ---
xindy -v -M texindy -L german-duden orte.idx
Running filter: c:/usr/local/share/texmf/scripts/xindy/../../../../bin/tex2xindy <"C:\\tst tst tst\\4Efpgl_j_i" >"C:\\tst tst tst\\NJFpQnNbUE"
Opening logfile "nul" (done)
Reading indexstyle...
Loading module "C:\\tst tst tst\\ovsAFOOs41"...
Loading module "lang/german/duden-latin1-lang.xdy"...
Loading module "lang/german/duden-latin1.xdy"...
Finished loading module "lang/german/duden-latin1.xdy".
Finished loading module "lang/german/duden-latin1-lang.xdy".
Loading module "texindy.xdy"...
Loading module "numeric-sort.xdy"...
Finished loading module "numeric-sort.xdy".
Loading module "latex.xdy"...
Loading module "tex.xdy"...
Finished loading module "tex.xdy".
Finished loading module "latex.xdy".
Loading module "latex-loc-fmts.xdy"...
Finished loading module "latex-loc-fmts.xdy".
Loading module "makeindex.xdy"...
Finished loading module "makeindex.xdy".
Loading module "latin-lettergroups.xdy"...
Finished loading module "latin-lettergroups.xdy".
Finished loading module "texindy.xdy".
Finished loading module "C:\\tst tst tst\\ovsAFOOs41".
Finished reading indexstyle.
Finalizing indexstyle... (done)

Reading raw-index "C:\\tst tst tst\\NJFpQnNbUE"...
Finished reading raw-index.

Processing index... [10%] [20%] [30%] [40%] [50%] [60%] [70%] [80%] [90%] [100%]
Finished processing index.

Writing markup... [10%] [20%] [30%] [40%] [50%] [60%] [70%] [80%] [90%] [100%]
Markup written into file "orte.ind".


Thanks,
Akira



From kakuto at fuk.kindai.ac.jp  Thu Aug 23 07:17:11 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 23 Aug 2012 14:17:11 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <5035B536.80008@Rhul.Ac.Uk>
References: <5035B536.80008@Rhul.Ac.Uk>
Message-ID: <13456990317628500002e35@sniffer>

Dear Philip,

> the Windows port should use
> Windows conventions, should it not ?

perl module Spec/Win32.pm says:

Returns a string representation of the first existing directory
from the following list:

    $ENV{TMPDIR}
    $ENV{TEMP}
    $ENV{TMP}
    SYS:/temp
    C:\system\temp
    C:/temp
    /tmp
    /

As I stated previously,
TEMP="somedir" is bad, it should be TEMP=somedir

Thanks,
Akira


From P.Taylor at rhul.ac.uk  Thu Aug 23 06:44:38 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Thu, 23 Aug 2012 05:44:38 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <20533.27991.458767.795231@zaphod.ms25.net>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk> <20533.27991.458767.795231@zaphod.ms25.net>
Message-ID: <5035B536.80008@Rhul.Ac.Uk>



Reinhard Kotucha wrote:
 >   > OK, thanks Reinhard, but still somewhat confused in that this
 >   > is (as far as I can tell) the first time that Cygwin has come
 >   > into this thread ...  Where/how is Cygwin involved ?
 >
 > It's one of the platforms supported by TeX Live.

Of which there are many.  But each may have a different rule when
it comes to specifying how the preferred location for temporary
files is to be indicated through the medium of environment
variables, so whilst it makes perfect sense for the Cygwin port
to use Cygwin conventions, surely the Windows port should use
Windows conventions, should it not ?

** Phil.

From P.Taylor at rhul.ac.uk  Thu Aug 23 08:02:11 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Thu, 23 Aug 2012 07:02:11 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <13456990317628500002e35@sniffer>
References: <5035B536.80008@Rhul.Ac.Uk> <13456990317628500002e35@sniffer>
Message-ID: <5035C763.4010401@Rhul.Ac.Uk>



Akira Kakuto wrote:

> perl module Spec/Win32.pm says:
> 
> Returns a string representation of the first existing directory
> from the following list:
> 
>      $ENV{TMPDIR}
>      $ENV{TEMP}
>      $ENV{TMP}
>      SYS:/temp
>      C:\system\temp
>      C:/temp
>      /tmp
>      /
> 
> As I stated previously,
> TEMP="somedir" is bad, it should be TEMP=somedir

OK, fine, thank you, understood.  So it is a Perl convention, possibly
adopted from Posix (MD) or Cygwin (RK).  All is now clear.

** Phil.

From daleif at imf.au.dk  Thu Aug 23 10:17:51 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Thu, 23 Aug 2012 10:17:51 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <201208222318.q7MNIHRW022243@freefriends.org>
References: <201208222318.q7MNIHRW022243@freefriends.org>
Message-ID: <5035E72F.60205@imf.au.dk>

Karl Berry wrote, On 2012-08-23 01:18:
> Hi Lars,
> 
>     can a profile be written to simply install everything currently present 
>     in tlnet? Without listing the collections?
> 
> Yes.  Just have a line in the profile:
> selected_scheme scheme-full
> (or whatever scheme you choose) and *no* collection lines.
> 
> You'll also want to set the TEX* directory values, and perhaps
> some of the option* values if you want to override the defaults.
> Of course, the less you need to specify, the more future-proof :).
> 
> For reference, this is mentioned in the description of -profile in
> install-tl --help, aka http://tug.org/texlive/doc/install-tl.html.
> 

thanks

>     Does anyone have experience regarding installing TL via a kind of 
>     Windows deployment?
> 
> Not on Windows, but I routinely do batch installations using different
> profiles when testing.
> 
>     BTW: the documentation states that a TL installation should leave a 
>     .profile of the just installed Tl. We did not find any created via
> 
> If the installation succeeds, it should be in tlpkg/texlive.profile.
> If the installation fails, no profile is written.
> 

so since the installer detected miktex in the system path, the 
installation failed? even though TL was added to (the end of) the PATH, 
menus was added etc...?




-- 

/daleif

From simon at getthingsfixed.co.uk  Thu Aug 23 10:50:03 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Thu, 23 Aug 2012 09:50:03 +0100
Subject: [tex-live] debian install
Message-ID: <201208230950.03363.simon@getthingsfixed.co.uk>

Is there a new "debian-control-ex.txt" for texlive2012?

Or better still is there a way to build one automatically from one's 
installation/texlive disk? What we want to do is to prevent apt-get 
inadvertently stomping on our texlive install.

-- 
Get Things Fixed

From news3 at nililand.de  Thu Aug 23 10:58:22 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 23 Aug 2012 10:58:22 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <1xaoc06ywhq2h$.dlg@nililand.de> <1345693605386297000029c8@sniffer>
Message-ID: <3oia5mwg81j.dlg@nililand.de>

Am Thu, 23 Aug 2012 12:46:45 +0900 schrieb Akira Kakuto:

> Dear Ulrike,
> 
>> So the code tries hard to find a tmp-folder without spaces and
>> fails only if none can be found.
> 
> #
> # Experiment by
> #
> use File::Spec;
> $xxx = File::Spec->tmpdir();
> print $xxx;
> 
> (1) set TMPDIR="c:?tst tst tst"
>     TMPDIR is considered nonwritable and prints the default
>     c:?temp (c:?temp exists here).
> 
> (2) set TMPDIR=c:?tst tst tst
>     TMPDIR is recognized as writable and prints
>     c:?tst tst tst
> 
> Apparently the double quotes are also considered as characters.
> 
> In the case
> set TMPDIR=c:?tst tst tst
> xindy runs as expected if I use the new xindy.pl:

Yes, without quotes this here works fine too and use the standard
location:

set TMPDIR=%USERPROFILE%\Lokale Einstellungen\Temp

(Quotes get added to variables automatically if one use tab
expansion, so imho the script should be able to handle them)

But this doesn't help with the problem that xindy fails with the
default setting of TEMP in the windows system control: I didn't add
any explicit quotes there. The variable is set as
"%USERPROFILE%\Lokale Einstellungen\Temp" (without the quotes) in
system control and imho that is the default set by the windows
installation. 

I think that this problem has to do with the "short pathname":
Somewhere in the script it is not resolved correctly.

This would affect only windows users where "Short File Name
Generation" is enabled.


I have now added a Variable TMPDIR to my system. Perhaps TeXLife
should add such a setting e.g. to tl-cmd.bat.
  

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From daleif at imf.au.dk  Thu Aug 23 11:00:42 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Thu, 23 Aug 2012 11:00:42 +0200
Subject: [tex-live] debian install
In-Reply-To: <201208230950.03363.simon@getthingsfixed.co.uk>
References: <201208230950.03363.simon@getthingsfixed.co.uk>
Message-ID: <5035F13A.5070607@imf.au.dk>

simon at getthingsfixed.co.uk wrote, On 2012-08-23 10:50:
> Is there a new "debian-control-ex.txt" for texlive2012?
> 
> Or better still is there a way to build one automatically from one's 
> installation/texlive disk? What we want to do is to prevent apt-get 
> inadvertently stomping on our texlive install.
> 


Since the 'year' is not a part of the .deb packages, I would assume that 
the one used last year building the equivs package could be used again 
this year.

http://www.tug.org/texlive/debian.html


-- 

/daleif

From preining at logic.at  Thu Aug 23 11:06:11 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 23 Aug 2012 18:06:11 +0900
Subject: [tex-live] debian install
In-Reply-To: <201208230950.03363.simon@getthingsfixed.co.uk>
References: <201208230950.03363.simon@getthingsfixed.co.uk>
Message-ID: <20120823090611.GS13469@gamma.logic.tuwien.ac.at>

Hi Simon,

On Do, 23 Aug 2012, simon at getthingsfixed.co.uk wrote:
> Is there a new "debian-control-ex.txt" for texlive2012?

TL2012 is in Debian ... but if you want to adapt the config file,
here is a *ROUGH* list what is provided.

I didn't check every item .... maybe when I have time I will
update the .ex file... currently under heavy stress.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
AMLWCH (n.)
A British Rail sandwich which has been kept soft by being regularly
washed and resealed in clingfilm.
			--- Douglas Adams, The Meaning of Liff



auctex
chktex
cm-super
cm-super-minimal
context
context-doc-nonfree
context-nonfree
dvidvi
dvipng
ed
feynmf
fragmaster
jadetex
lacheck
latex-beamer
latex-cjk-all
latex-cjk-chinese
latex-cjk-chinese-arphic-bkai00mp
latex-cjk-chinese-arphic-bsmi00lp
latex-cjk-chinese-arphic-gbsn00lp
latex-cjk-chinese-arphic-gkai00mp
latex-cjk-common
latex-cjk-japanese
latex-cjk-japanese-wadalab
latex-cjk-korean
latex-cjk-thai
latexdiff
latex-fonts-sipa-arundina
latexmk
latex-sanskrit
latex-xcolor
lcdf-typetools
lmodern
luatex
m-tx
musixtex
passivetex
pgf
pmx
preview-latex-style
prosper
pstoedit
psutils
purifyeps
t1utils
tex4ht
tex4ht-common
tex-gyre
texinfo-doc-nonfree
texlive-base
texlive-base-bin
texlive-bibtex-extra
texlive-binaries
texlive-common
texlive-doc-ar
texlive-doc-base
texlive-doc-bg
texlive-doc-cs+sk
texlive-doc-de
texlive-doc-en
texlive-doc-es
texlive-doc-fi
texlive-doc-fr
texlive-doc-it
texlive-doc-ja
texlive-doc-ko
texlive-doc-mn
texlive-doc-nl
texlive-doc-pl
texlive-doc-pt
texlive-doc-rs
texlive-doc-ru
texlive-doc-si
texlive-doc-th
texlive-doc-tr
texlive-doc-uk
texlive-doc-vi
texlive-doc-zh
texlive-extra-utils
texlive-fonts-extra
texlive-fonts-extra-doc
texlive-fonts-recommended
texlive-fonts-recommended-doc
texlive-font-utils
texlive-formats-extra
texlive-games
texlive-generic-extra
texlive-generic-recommended
texlive-humanities
texlive-humanities-doc
texlive-lang-african
texlive-lang-arabic
texlive-lang-armenian
texlive-lang-cjk
texlive-lang-croatian
texlive-lang-cyrillic
texlive-lang-czechslovak
texlive-lang-danish
texlive-lang-dutch
texlive-lang-english
texlive-lang-finnish
texlive-lang-french
texlive-lang-german
texlive-lang-greek
texlive-lang-hebrew
texlive-lang-hungarian
texlive-lang-indic
texlive-lang-italian
texlive-lang-latin
texlive-lang-latvian
texlive-lang-lithuanian
texlive-lang-mongolian
texlive-lang-norwegian
texlive-lang-other
texlive-lang-polish
texlive-lang-portuguese
texlive-lang-spanish
texlive-lang-swedish
texlive-lang-tibetan
texlive-lang-vietnamese
texlive-latex-base
texlive-latex-base-doc
texlive-latex-extra
texlive-latex-extra-doc
texlive-latex-recommended
texlive-latex-recommended-doc
texlive-luatex
texlive-math-extra
texlive-metapost
texlive-metapost-doc
texlive-music
texlive-omega
texlive-pictures
texlive-pictures-doc
texlive-plain-extra
texlive-pstricks
texlive-pstricks-doc
texlive-publishers
texlive-publishers-doc
texlive-science
texlive-science-doc
texlive-xetex
thailatex
tipa
xfonts-utils
xindy
xindy-rules
xmltex

From Robin.Fairbairns at cl.cam.ac.uk  Thu Aug 23 12:59:14 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 23 Aug 2012 11:59:14 +0100
Subject: [tex-live] malayalam in tl
Message-ID: <5837.1345719554@cl.cam.ac.uk>

seems to date back rather a long way, and contains stuff no longer on
ctan.

could the package be refreshed?  or is it not possible because of the
encoder app?

robin

From simon at getthingsfixed.co.uk  Thu Aug 23 15:08:55 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Thu, 23 Aug 2012 14:08:55 +0100
Subject: [tex-live] luatex armel
Message-ID: <201208231408.55995.simon@getthingsfixed.co.uk>

On my Raspberry Pi (rasbian ) luatex produces bad pdfs. No text appears and 
okular complains about "Bogus memory allocation size".

%%%%%%%%%%
hello world\bye
%%%%%%%%%%

Compile via "pdftex hello.tex" works OK, via "luatex hello.tex" and won't 
display.

The luatex that came with raspian did work.

-- 
Get Things Fixed

From mojca.miklavec.lists at gmail.com  Thu Aug 23 16:50:44 2012
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 23 Aug 2012 16:50:44 +0200
Subject: [tex-live] luatex armel
In-Reply-To: <201208231408.55995.simon@getthingsfixed.co.uk>
References: <201208231408.55995.simon@getthingsfixed.co.uk>
Message-ID: <CALBOmsYX6QO_3mYefsCBO4iinPWZsVRJ0La7CBVMR=V-J2ZeEg@mail.gmail.com>

On Thu, Aug 23, 2012 at 3:08 PM,  <simon at getthingsfixed.co.uk> wrote:
> On my Raspberry Pi (rasbian ) luatex produces bad pdfs. No text appears and
> okular complains about "Bogus memory allocation size".
>
> %%%%%%%%%%
> hello world\bye
> %%%%%%%%%%
>
> Compile via "pdftex hello.tex" works OK, via "luatex hello.tex" and won't
> display.
>
> The luatex that came with raspian did work.

My device has been hacked and I didn't fix it yet, but is it possible
that it's related to "armhf" or however the new architecture is being
called? Raspbian uses slightly different architecture than the first
arm6v linuxes (binaries have been compiled on arm7v).

There are a few exotic bugs that manifest only on armel & mipsel, but
hello world has worked for me on armel (arm6v).

Mojca

From reinhard.kotucha at web.de  Thu Aug 23 21:02:10 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 23 Aug 2012 21:02:10 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <5035B536.80008@Rhul.Ac.Uk>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk>
 <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk>
 <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk>
Message-ID: <20534.32306.11125.218253@zaphod.ms25.net>

On 2012-08-23 at 05:44:38 +0100, Philip TAYLOR wrote:

 > Reinhard Kotucha wrote:
 >  >   > OK, thanks Reinhard, but still somewhat confused in that this
 >  >   > is (as far as I can tell) the first time that Cygwin has come
 >  >   > into this thread ...  Where/how is Cygwin involved ?
 >  >
 >  > It's one of the platforms supported by TeX Live.
 > 
 > Of which there are many.  But each may have a different rule when
 > it comes to specifying how the preferred location for temporary
 > files is to be indicated through the medium of environment
 > variables, 

Well, actually TeX Live currently supports only Unix and Windows.
So it can be assumed that all systems except Windows obey TMPDIR.

 > so whilst it makes perfect sense for the Cygwin port
 > to use Cygwin conventions, surely the Windows port should use
 > Windows conventions, should it not ?

It does.  Non-existent env vars are skipped.  Hence, what xindy does
works very well on all platforms.  I can't imagine any situation where
TMPDIR hurts on Windows.  If it exists, it's been set deliberately and
we can assume that the user wants it to be obeyed.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From karl at freefriends.org  Thu Aug 23 23:43:54 2012
From: karl at freefriends.org (Karl Berry)
Date: Thu, 23 Aug 2012 21:43:54 +0000
Subject: [tex-live] luatex armel
In-Reply-To: <CALBOmsYX6QO_3mYefsCBO4iinPWZsVRJ0La7CBVMR=V-J2ZeEg@mail.gmail.com>
Message-ID: <201208232143.q7NLhsTr025556@freefriends.org>

    binaries have been compiled on arm7v

I have no way to know if it would help, but another user compiled TL on
armv5.  That binary set is linked from
http://tug.org/texlive/custom-bin.html if you want to try it.

best,
k

From borisv at lk.net  Thu Aug 23 23:50:17 2012
From: borisv at lk.net (Boris Veytsman)
Date: Thu, 23 Aug 2012 17:50:17 -0400
Subject: [tex-live] luatex armel
In-Reply-To: <201208232143.q7NLhsTr025556@freefriends.org> (message from Karl
 Berry on Thu, 23 Aug 2012 21:43:54 +0000)
References: <201208232143.q7NLhsTr025556@freefriends.org>
Message-ID: <201208232150.q7NLoHdw005579@bilbo.localnet>

KB> Date: Thu, 23 Aug 2012 21:43:54 +0000
KB>  karl at freefriends.org using -f
KB> From: Karl Berry <karl at freefriends.org>

KB>     binaries have been compiled on arm7v

KB> I have no way to know if it would help, but another user compiled TL on
KB> armv5.  That binary set is linked from
KB> http://tug.org/texlive/custom-bin.html if you want to try it.

Actually raspberry pi is arm11.

Uwe seems to run TL on pi without a problem:
http://tex.stackexchange.com/questions/68488/installing-tex-live-on-a-synology-nas 

-- 
Good luck

-Boris

Freshest if eaten before date on carton.

From karl at freefriends.org  Thu Aug 23 23:57:03 2012
From: karl at freefriends.org (Karl Berry)
Date: Thu, 23 Aug 2012 21:57:03 +0000
Subject: [tex-live] Unattended TL install
In-Reply-To: <5035E72F.60205@imf.au.dk>
Message-ID: <201208232157.q7NLv3Rg026692@freefriends.org>

    so since the installer detected miktex in the system path, the 
    installation failed? 

No, I didn't mean to imply that.  It wasn't clear from your message if
you saw some other failure.

    even though TL was added to (the end of) the PATH, 
    menus was added etc...?

Sounds like success to me.  If tlpkg/texlive.profile isn't there, well,
I'm baffled.

k

From reinhard.kotucha at web.de  Fri Aug 24 00:16:35 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 24 Aug 2012 00:16:35 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <3oia5mwg81j.dlg@nililand.de>
References: <1xaoc06ywhq2h$.dlg@nililand.de> <1345693605386297000029c8@sniffer>
 <3oia5mwg81j.dlg@nililand.de>
Message-ID: <20534.43971.309866.128211@zaphod.ms25.net>

On 2012-08-23 at 10:58:22 +0200, Ulrike Fischer wrote:

 > Am Thu, 23 Aug 2012 12:46:45 +0900 schrieb Akira Kakuto:
 > 
 > > Dear Ulrike,
 > > 
 > >> So the code tries hard to find a tmp-folder without spaces and
 > >> fails only if none can be found.
 > > 
 > > #
 > > # Experiment by
 > > #
 > > use File::Spec;
 > > $xxx = File::Spec->tmpdir();
 > > print $xxx;
 > > 
 > > (1) set TMPDIR="c:?tst tst tst"
 > >     TMPDIR is considered nonwritable and prints the default
 > >     c:?temp (c:?temp exists here).
 > > 
 > > (2) set TMPDIR=c:?tst tst tst
 > >     TMPDIR is recognized as writable and prints
 > >     c:?tst tst tst
 > > 
 > > Apparently the double quotes are also considered as characters.
 > > 
 > > In the case
 > > set TMPDIR=c:?tst tst tst
 > > xindy runs as expected if I use the new xindy.pl:
 > 
 > Yes, without quotes this here works fine too and use the standard
 > location:
 > 
 > set TMPDIR=%USERPROFILE%\Lokale Einstellungen\Temp
 > 
 > (Quotes get added to variables automatically if one use tab
 > expansion, so imho the script should be able to handle them)
 
Yes, Windows doesn't evaluate quotes when you set environment
variables.  They are included literally.  But then, every other
program is supposed to fail too.  Why should a particular script make
an exception?  From the viewpoint of the OS the variable contains
invalid stuff.  It's not worse than a variable which points to a
non-existent or non-writable directory.  To some extent a program
should be able to assume that the system isn't broken.

 > But this doesn't help with the problem that xindy fails with the
 > default setting of TEMP in the windows system control: I didn't add
 > any explicit quotes there. The variable is set as
 > "%USERPROFILE%\Lokale Einstellungen\Temp" (without the quotes) in
 > system control and imho that is the default set by the windows
 > installation. 

Regardless of how the variable is set, I assume that what Perl sees is
what you see if you type

  echo %TEMP%

.  Does the output look reasonable?
 
 > I think that this problem has to do with the "short pathname":
 > Somewhere in the script it is not resolved correctly.

I doubt that anything is resolved at all.  I suppose that the content
of %TEMP% is simply prepended to the name of the temporary file and
the resulting string is used as an argument for open().  It's obvious
that it cannot work if the the env var contains literal quotes.

 > This would affect only windows users where "Short File Name
 > Generation" is enabled.

Is this configurable?  If yes, where?

 > I have now added a Variable TMPDIR to my system. Perhaps TeXLife
 > should add such a setting e.g. to tl-cmd.bat.

I fear that setting Unix variables in order to fix Windows problems
isn't the right approach.  I'm sure that Phil agrees with me...  ;)

Did you encounter the problem only with Xindy?  getnonfreefonts
determines temporary directories simarly.  Could you download and
install getnonfreefonts as described at

   http://tug.org/fonts/getnonfreefonts/
  
and send me the output of getnonfreefonts[-sys] --help ?  It tells you
where it would put temporary files.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Fri Aug 24 00:46:46 2012
From: karl at freefriends.org (Karl Berry)
Date: Thu, 23 Aug 2012 22:46:46 +0000
Subject: [tex-live] malayalam in tl
In-Reply-To: <5837.1345719554@cl.cam.ac.uk>
Message-ID: <201208232246.q7NMkkbI030265@freefriends.org>

Hi Robin,

    Subject: [tex-live] malayalam in tl
    seems to date back rather a long way, 

True.  I never touched what was installed by Sebastian, N years ago.  I
have now removed that package, especially since I see you guys moved it
to "obsolete" on CTAN.

malayalam-latex is practically uninstallable due to the binary,
bizarrely written shell script, etc.

malayalam-omega might be installable.  If anyone reading this wants
that, feel free let me know.  I am doubtful that anyone would choose
that route, nowadays.

karl

From Robin.Fairbairns at cl.cam.ac.uk  Fri Aug 24 01:08:08 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 24 Aug 2012 00:08:08 +0100
Subject: [tex-live] malayalam in tl
In-Reply-To: Your message of Thu, 23 Aug 2012 22:46:46 +0000.
 <201208232246.q7NMkkbI030265@freefriends.org>
Message-ID: <11756.1345763288@cl.cam.ac.uk>

Karl Berry <karl at freefriends.org> wrote:

>     Subject: [tex-live] malayalam in tl
>     seems to date back rather a long way, 
> 
> True.  I never touched what was installed by Sebastian, N years ago.  I
> have now removed that package, especially since I see you guys moved it
> to "obsolete" on CTAN.

aha! that's why i couldn't find it.

> malayalam-latex is practically uninstallable due to the binary,
> bizarrely written shell script, etc.

sigh.  i did no more than identify that it's probably the same thing as
what's on sarovar.

> malayalam-omega might be installable.  If anyone reading this wants
> that, feel free let me know.  I am doubtful that anyone would choose
> that route, nowadays.

indeed.  given the polyglossia support (assuming it's "good" -- i know
no-one i could ask...), xetex would seem the natural platform.  (or even
luatex, when the development of polyglossia on luatex is released.)

r

From jschrod at acm.org  Fri Aug 24 02:47:16 2012
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 24 Aug 2012 02:47:16 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <5035B536.80008@Rhul.Ac.Uk>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk> <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk>
Message-ID: <k16iuk$v97$1@ger.gmane.org>

Philip TAYLOR wrote:
> 
> Of which there are many.  But each may have a different rule when
> it comes to specifying how the preferred location for temporary
> files is to be indicated through the medium of environment
> variables

The behavior is that way because the author of the Perl standard
module File::Temp decided it to be that way. If you think that's a
problem, you should probably discuss that with him/her on a perl
distribution list, and not here on TL mailing list. Nobody here
will be able to change that behavior, and nobody will care. You're
barking up the wrong tree.

Meanwhile I'm still trying to understand the root cause of Ulrike's
problem, not having a Windows system where xindy is installed. She
writes the problematic value is set in system control -- is it
really set there with double quotes? Are quotes part of the env var
value that is passed to the Perl script?

If yes, and if that's a standard Windows behavior, I think one
could/should add a workaround that cares for that situation. There
are tons of workarounds for OS idiosynchrasies [sp?] in the script,
one more doesn't matter.

Cheers,
	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod, Roedermark, Germany
Email: jschrod at acm.org
xindy maintainer


From kakuto at fuk.kindai.ac.jp  Fri Aug 24 03:29:59 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 24 Aug 2012 10:29:59 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <k16iuk$v97$1@ger.gmane.org>
References: <k16iuk$v97$1@ger.gmane.org>
Message-ID: <134577179974734000004f05@sniffer>

Dear Joachim,

> Meanwhile I'm still trying to understand the root cause of Ulrike's
> problem, not having a Windows system where xindy is installed. She
> writes the problematic value is set in system control -- is it
> really set there with double quotes? Are quotes part of the env var
> value that is passed to the Perl script?

In Unix shell, for example, in
export VAR="a b"
double quotes are removed and $VAR==a b, as it should be.
In cmd.exe, however, after
set VAR="a b"
echo %VAR%
gives
"a b"
This is one of peculiar features of cmd.exe.

I think xindy.pl can remove the double quotes in ENV's, if they
exist in MSWin case, before calling tmpnam().

Thanks,
Akira


From jschrod at acm.org  Fri Aug 24 03:44:03 2012
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 24 Aug 2012 03:44:03 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <134577179974734000004f05@sniffer>
References: <k16iuk$v97$1@ger.gmane.org>
	<134577179974734000004f05@sniffer>
Message-ID: <20534.56419.942787.674590@puma.r.npc.de>

Akira Kakuto writes:
> Dear Joachim,
> 
> > Meanwhile I'm still trying to understand the root cause of Ulrike's
> > problem, not having a Windows system where xindy is installed. She
> > writes the problematic value is set in system control -- is it
> > really set there with double quotes? Are quotes part of the env var
> > value that is passed to the Perl script?
> 
> In Unix shell, for example, in
> export VAR="a b"
> double quotes are removed and $VAR==a b, as it should be.
> In cmd.exe, however, after
> set VAR="a b"
> echo %VAR%
> gives
> "a b"
> This is one of peculiar features of cmd.exe.

I understand that and knew that.

> I think xindy.pl can remove the double quotes in ENV's, if they
> exist in MSWin case, before calling tmpnam().

Yes, I think that's worthwile in any case.

What I don't understand is Ulrike's comment:

> But this doesn't help with the problem that xindy fails with the
> default setting of TEMP in the windows system control: I didn't add
> any explicit quotes there. The variable is set as
> "%USERPROFILE%\Lokale Einstellungen\Temp" (without the quotes) in
> system control and imho that is the default set by the windows
> installation.

On the one hand, she tells that the var is set without the quotes. On
the other hand, she tells that xindy still fails in that situation.
But that would mean that quotes in env var values are not the culprit
of the error that Ulrike observed. What I would like to know is: With
the default setting of TEMP -- as described by Ulrike -- does xindy
fail? If yes, is the env var value with or without quotes?

I.e., we have determined we have to care for quotes in a Windows
environment. We should path that. OK.
Does Ulrike actually report more situations where it fails?

That's me wondering where the problem root cause is. Incident handling
is clear: Determine quotes in a Windows environment and care for them.
But is this also a change that cares for the underlying problem? I
don't know if we have enough data to assert that.

Just my thoughts, at 3:45 am, in M-x hack-mode, after programming 17
hours straight through. Take them with a grain of salt. I go to bed
now. :-)

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Joachim Schrod, xindy maintainer. Roedermark, Germany
Email: jschrod at acm.org, http://www.xindy.org/

From kakuto at fuk.kindai.ac.jp  Fri Aug 24 05:09:00 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 24 Aug 2012 12:09:00 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <20534.56419.942787.674590@puma.r.npc.de>
References: <20534.56419.942787.674590@puma.r.npc.de>
Message-ID: <134577774031684300005365@sniffer>

Dear Joachim,

> Yes, I think that's worthwile in any case.
> 
> What I don't understand is Ulrike's comment:

Simplest fix may be

--- xindy.pl.orig	Fri Aug 24 11:53:42 2012
+++ xindy.pl	Fri Aug 24 11:56:25 2012
@@ -359,6 +359,14 @@
 # FIXME: In standalone installations, modules are still placed in lib
 # directory. This is not conformant to FHS.
 
+if ( $is_w32 ) {
+use Env qw(TMPDIR TEMP TMP);
+Env::import();
+if($TMPDIR ne "") {$TMPDIR=~s/\"//g};
+if($TEMP ne "")   {$TEMP=~s/\"//g};
+if($TMP ne "")    {$TMP=~s/\"//g};
+}
+
 if ( $is_TL ) { # TeX Live
 
     $modules_dir = Cwd::realpath("$cmd_dir/../../xindy/modules");

Ulrike, please test with your default setting of the OS.

Thanks,
Akira


From zdenek.wagner at gmail.com  Fri Aug 24 08:58:22 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 24 Aug 2012 08:58:22 +0200
Subject: [tex-live] malayalam in tl
In-Reply-To: <11756.1345763288@cl.cam.ac.uk>
References: <201208232246.q7NMkkbI030265@freefriends.org>
 <11756.1345763288@cl.cam.ac.uk>
Message-ID: <CAC1phyanECqyoGAMyrJfL4bEPGn6aKCMzGeVkKQU1xXi=kqZxw@mail.gmail.com>

2012/8/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> Karl Berry <karl at freefriends.org> wrote:
>
>>     Subject: [tex-live] malayalam in tl
>>     seems to date back rather a long way,
>>
>> True.  I never touched what was installed by Sebastian, N years ago.  I
>> have now removed that package, especially since I see you guys moved it
>> to "obsolete" on CTAN.
>
> aha! that's why i couldn't find it.
>
>> malayalam-latex is practically uninstallable due to the binary,
>> bizarrely written shell script, etc.
>
> sigh.  i did no more than identify that it's probably the same thing as
> what's on sarovar.
>
>> malayalam-omega might be installable.  If anyone reading this wants
>> that, feel free let me know.  I am doubtful that anyone would choose
>> that route, nowadays.
>
> indeed.  given the polyglossia support (assuming it's "good" -- i know
> no-one i could ask...), xetex would seem the natural platform.  (or even
> luatex, when the development of polyglossia on luatex is released.)
>
Luatex does not support indic scripts, thus it cannot be used for
malayalam. XeTeX will work.
> r



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From simon at getthingsfixed.co.uk  Fri Aug 24 09:03:16 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Fri, 24 Aug 2012 08:03:16 +0100
Subject: [tex-live] luatex armel
In-Reply-To: <201208232143.q7NLhsTr025556@freefriends.org>
References: <201208232143.q7NLhsTr025556@freefriends.org>
Message-ID: <201208240803.16721.simon@getthingsfixed.co.uk>

On Thursday 23 August 2012 22:43:54 Karl Berry wrote:
>     binaries have been compiled on arm7v
>
> I have no way to know if it would help, but another user compiled TL on
> armv5.  That binary set is linked from
> http://tug.org/texlive/custom-bin.html if you want to try it.

Thanks, I have now tried it. I am afraid that it still exhibits the same fault 
in the PDFs: ps2pdf still reports "empty MediaBox", and okular/xpdf show an 
white page.

So it would seem that the binaries there don't work on Raspian.


-- 
Get Things Fixed

From P.Taylor at rhul.ac.uk  Fri Aug 24 08:39:50 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 24 Aug 2012 07:39:50 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <k16iuk$v97$1@ger.gmane.org>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk> <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk> <k16iuk$v97$1@ger.gmane.org>
Message-ID: <503721B6.9050601@Rhul.Ac.Uk>



Joachim Schrod wrote:

> The behavior is that way because the author of the Perl standard
> module File::Temp decided it to be that way. If you think that's a
> problem, you should probably discuss that with him/her on a perl
> distribution list, and not here on TL mailing list. Nobody here
> will be able to change that behavior, and nobody will care. You're
> barking up the wrong tree.

We have a saying in English, Joachim : "a bad workman always blames
his tools".  Now there is no doubt whatsoever that those responsible
for TeX Live are /not/ bad workmen, and many of them have been very
active in trying to identify and solve Ulrike's problem (Akira-san
in particular), but if a package author, or TL writer, or whatever,
makes a conscious choice to use Perl, then he or she must accept
responsibility for any shortcomings that result from that choice,
not seek to pass the buck and say "Nuffin' to do wiv me, Guv.".

That said, if you had read the thread to the end before replying
to one message that appeared somewhere in the middle, you would
have seen that I had already written :

> OK, fine, thank you, understood.  So it is a Perl convention, possibly
> adopted from Posix (MD) or Cygwin (RK).  All is now clear.
>
> ** Phil.

in 23rd inst., in response to a message from Akira-san.

** Phil.



From news3 at nililand.de  Fri Aug 24 09:28:21 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 24 Aug 2012 09:28:21 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de>
Message-ID: <1xnetdsnrekji.dlg@nililand.de>

Am Fri, 24 Aug 2012 03:44:03 +0200 schrieb Joachim Schrod:

> I think that's worthwile in any case.
 
> What I don't understand is Ulrike's comment:
 
>> But this doesn't help with the problem that xindy fails with the
>> default setting of TEMP in the windows system control: I didn't add
>> any explicit quotes there. The variable is set as
>> "%USERPROFILE%\Lokale Einstellungen\Temp" (without the quotes) in
>> system control and imho that is the default set by the windows
>> installation.
 
> On the one hand, she tells that the var is set without the quotes. On
> the other hand, she tells that xindy still fails in that situation.
> But that would mean that quotes in env var values are not the culprit
> of the error that Ulrike observed. What I would like to know is: With
> the default setting of TEMP -- as described by Ulrike -- does xindy
> fail? If yes, is the env var value with or without quotes?

Sorry that I have been a bit unclear. So first some facts:

1. TEMP is set without quotes in system control.
2. echo %TEMP% gives the short path name (C:\DOKUME~1\....), again
without quotes.

I think that the problems with the quotes crept in during the tests
(as I set the variables with tab expansion and so windows added them
automatically around pathes with spaces) and led everyone on the
wrong track but that this is not the source of the original problem. 

3. xindy fails with this default TEMP setting, but not because it
can't find the folder at all. I played a bit around with the --debug
options and could see that xindy can write to and read from the
folder (I could find the temporary files). But somewhere in between
it fails to resolve the folder name (when xindy-lisp.exe is called). 

Here the output (a bit prettified): 

I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
concatenated xindy input file:
C:\DOKUME~1\User\LOKALE~1\Temp\q4tPCCzymR

Running filter:
j:/texlive/2012/texmf/scripts/xindy/../../../bin/win32/tex2xindy
<"C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\q4tPCCzymR">"
C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\PFudPpo3qM"

filtered xindy input file:
"C:\\DOKUME~1\\User\LOKALE~1\\Temp\\PFudPpo3qM"

Found language module
j:/texlive/2012/texmf/xindy/modules/lang/german/duden-latin1-lang.xdy

xindy startup file: C:\DOKUME~1\User\LOKALE~1\Temp\6dXVVMu4Aw
modules directory: j:/texlive/2012/texmf/xindy/modules.

command:
j:/texlive/2012/texmf/scripts/xindy/../../../bin/win32/xindy-lisp.exe
-M j:/texlive/2012/texmf/scripts/xindy/../../../bin/win32/xindy.mem
-E iso-8859-1 C:\DOKUME~1\User\LOKALE~1\Temp\6dXVVMu4Aw

*** - TRUENAME: Directory #P"C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\"
does not exist


My current hypothese is that a part of xindy can't resolve the short
path name correctly.



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From daleif at imf.au.dk  Fri Aug 24 09:49:46 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Fri, 24 Aug 2012 09:49:46 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <201208232157.q7NLv3Rg026692@freefriends.org>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
Message-ID: <5037321A.3080309@imf.au.dk>

Karl Berry wrote, On 2012-08-23 23:57:
>     so since the installer detected miktex in the system path, the 
>     installation failed? 
> 
> No, I didn't mean to imply that.  It wasn't clear from your message if
> you saw some other failure.
> 

As far as I know that was the only thing se saw

I can ask him to repeat

>     even though TL was added to (the end of) the PATH, 
>     menus was added etc...?
> 
> Sounds like success to me.  If tlpkg/texlive.profile isn't there, well,
> I'm baffled.
> 
> k


-- 

/daleif

From kakuto at fuk.kindai.ac.jp  Fri Aug 24 10:10:33 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 24 Aug 2012 17:10:33 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1xnetdsnrekji.dlg@nililand.de>
References: <1xnetdsnrekji.dlg@nililand.de>
Message-ID: <1345795833478000006596@sniffer>

Dear Ulrike,
 
> My current hypothese is that a part of xindy can't resolve the short
> path name correctly.

Confirmed. I misunderstood the problem. It is a difficult problem for me.
At present, if a user uses short path names, she/he must redefine
TEMP without using short names and without using quotes.

PS:
fsutil behavior set disable8dot3 1
after the next boot, short names are not written on
file system.


From P.Taylor at rhul.ac.uk  Fri Aug 24 10:19:33 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 24 Aug 2012 09:19:33 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1345795833478000006596@sniffer>
References: <1xnetdsnrekji.dlg@nililand.de> <1345795833478000006596@sniffer>
Message-ID: <50373915.8020800@Rhul.Ac.Uk>



Akira Kakuto wrote:

>> My current hypothese is that a part of xindy can't resolve the short
>> path name correctly.
> 
> Confirmed. I misunderstood the problem. It is a difficult problem for me.
> At present, if a user uses short path names, she/he must redefine
> TEMP without using short names and without using quotes.

Is it possible to send me a stand-alone Perl program that
demonstrates the problem ?  I would be more than willing to
investigate how it might be addressed without placing such
constraints on a normal would-be Windows TeX Live user.

> PS:
> fsutil behavior set disable8dot3 1
> after the next boot, short names are not written on
> file system.

"fsutil" needs to be launched from an elevated command prompt,
and such a solution is clearly only useful while investigating,
not as an integral part of the final solution.

** Phil.

From jschrod at acm.org  Fri Aug 24 10:29:19 2012
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 24 Aug 2012 10:29:19 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <503721B6.9050601@Rhul.Ac.Uk>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk> <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk> <k16iuk$v97$1@ger.gmane.org>
 <503721B6.9050601@Rhul.Ac.Uk>
Message-ID: <k17e0v$ksf$1@ger.gmane.org>

Philip TAYLOR wrote:
> Joachim Schrod wrote:
> 
>> The behavior is that way because the author of the Perl standard
>> module File::Temp decided it to be that way. If you think that's a
>> problem, you should probably discuss that with him/her on a perl
>> distribution list, and not here on TL mailing list. Nobody here
>> will be able to change that behavior, and nobody will care. You're
>> barking up the wrong tree.
> 
> We have a saying in English, Joachim : "a bad workman always blames
> his tools".

I don't blame them because, for me, usage of TMPDIR is mandanted by
POSIX (actually it's specified in P1003.2d), Windows clames to be
conformant to POSIX, and thus the behavior is correct.

I just don't think that this list is the right place to discuss
your ideas if using POSIX API on Windows is the right thing to do
or not. As I wrote above: Nobody will care. I care for users
problems like the Ulrike's, not for abstract conceivabilities how a
system should behave orderly.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod, Roedermark, Germany
Email: jschrod at acm.org


From siepo at cybercomm.nl  Fri Aug 24 10:33:16 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 24 Aug 2012 10:33:16 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1xnetdsnrekji.dlg@nililand.de>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de>
 <1xnetdsnrekji.dlg@nililand.de>
Message-ID: <20120824083316.GA1650@bitmuis.thuis.internal>

On Fri, Aug 24, 2012 at 09:28:21AM +0200, Ulrike Fischer wrote:
> Am Fri, 24 Aug 2012 03:44:03 +0200 schrieb Joachim Schrod:
> 
> > I think that's worthwile in any case.
>  
> > What I don't understand is Ulrike's comment:
>  
> >> But this doesn't help with the problem that xindy fails with the
> >> default setting of TEMP in the windows system control: I didn't add
> >> any explicit quotes there. The variable is set as
> >> "%USERPROFILE%\Lokale Einstellungen\Temp" (without the quotes) in
> >> system control and imho that is the default set by the windows
> >> installation.
>  
> > On the one hand, she tells that the var is set without the quotes. On
> > the other hand, she tells that xindy still fails in that situation.
> > But that would mean that quotes in env var values are not the culprit
> > of the error that Ulrike observed. What I would like to know is: With
> > the default setting of TEMP -- as described by Ulrike -- does xindy
> > fail? If yes, is the env var value with or without quotes?
> 
> Sorry that I have been a bit unclear. So first some facts:
> 
> 1. TEMP is set without quotes in system control.
> 2. echo %TEMP% gives the short path name (C:\DOKUME~1\....), again
> without quotes.
> 
> I think that the problems with the quotes crept in during the tests
> (as I set the variables with tab expansion and so windows added them
> automatically around pathes with spaces) and led everyone on the
> wrong track but that this is not the source of the original problem. 
> 
> 3. xindy fails with this default TEMP setting, but not because it
> can't find the folder at all. I played a bit around with the --debug
> options and could see that xindy can write to and read from the
> folder (I could find the temporary files). But somewhere in between
> it fails to resolve the folder name (when xindy-lisp.exe is called). 
> 
> Here the output (a bit prettified): 
> 
> I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
> concatenated xindy input file:
> C:\DOKUME~1\User\LOKALE~1\Temp\q4tPCCzymR

I am a bit puzzled. This looks like the short name of a _localized_
path. On my one localized Windows 7, I only see localized names in
Windows explorer. In a command prompt I see the real names:

APPDATA-C:\Users\siepo\AppData\Roaming
TEMP=C:\Users\siepo\AppData\Local\Temp
TMP=C:\Users\siepo\AppData\Local\Temp
USERPROFILE=C:\Users\siepo

In the environment variables dialog:

TEMP=%USERPROFILE%\AppData\Local\Temp
TMP=%USERPROFILE%\AppData\Local\Temp

whereas according to Windows Explorer the temp directory is
displayed as

C:\Gebruikers\siepo\AppData\Local\Temp

Is this just a matter of more aggressive localization for German
compared to Dutch?

-- 
Siep Kroonenberg

From jschrod at acm.org  Fri Aug 24 10:37:02 2012
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 24 Aug 2012 10:37:02 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1xnetdsnrekji.dlg@nililand.de>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de> <1xnetdsnrekji.dlg@nililand.de>
Message-ID: <k17eff$oeq$1@ger.gmane.org>

Ulrike Fischer wrote:
> 
> Sorry that I have been a bit unclear. So first some facts:
> 
> 1. TEMP is set without quotes in system control.
> 2. echo %TEMP% gives the short path name (C:\DOKUME~1\....), again
> without quotes.
> 
> I think that the problems with the quotes crept in during the tests
> (as I set the variables with tab expansion and so windows added them
> automatically around pathes with spaces) and led everyone on the
> wrong track but that this is not the source of the original problem. 

Yes, two independent problems. I suspected so. Let's hope that we
can solve both.

> 3. xindy fails with this default TEMP setting, but not because it
> can't find the folder at all. I played a bit around with the --debug
> options and could see that xindy can write to and read from the
> folder (I could find the temporary files). But somewhere in between
> it fails to resolve the folder name (when xindy-lisp.exe is called). 
> 
> Here the output (a bit prettified): 
> 
> I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
> concatenated xindy input file:
> C:\DOKUME~1\User\LOKALE~1\Temp\q4tPCCzymR
> 
> Running filter:
> j:/texlive/2012/texmf/scripts/xindy/../../../bin/win32/tex2xindy
> <"C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\q4tPCCzymR">"
> C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\PFudPpo3qM"

I.e., here Perl already works with the short name.

I wonder which part of the code transforms the long name to the
short name, where this creeps in, and if that is the point where
one would try to intervene.

To test that I need a fresh installation.

Is Windows XP sufficient (I could clone a VM I have arround), or do
I need to install a Windows 7 system?

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod, Roedermark, Germany
Email: jschrod at acm.org


From news3 at nililand.de  Fri Aug 24 10:43:03 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 24 Aug 2012 10:43:03 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <1xaoc06ywhq2h$.dlg@nililand.de>
 <1345693605386297000029c8@sniffer> <3oia5mwg81j.dlg@nililand.de>
 <20534.43971.309866.128211@zaphod.ms25.net>
Message-ID: <mzkkwk48r2dr$.dlg@nililand.de>

Am Fri, 24 Aug 2012 00:16:35 +0200 schrieb Reinhard Kotucha:

>  > But this doesn't help with the problem that xindy fails with the
>  > default setting of TEMP in the windows system control: I didn't add
>  > any explicit quotes there. The variable is set as
>  > "%USERPROFILE%\Lokale Einstellungen\Temp" (without the quotes) in
>  > system control and imho that is the default set by the windows
>  > installation. 
 
> Regardless of how the variable is set, I assume that what Perl sees is
> what you see if you type
> 
>   echo %TEMP%
> 
> .  Does the output look reasonable?

Yes the echo shows the short path version without quotes. 

 
>  > This would affect only windows users where "Short File Name
>  > Generation" is enabled.
 
> Is this configurable?  If yes, where?

As far as know only when a user account is generated, so the
decision was made some years ago (and not by me). 

 
>  > I have now added a Variable TMPDIR to my system. Perhaps TeXLife
>  > should add such a setting e.g. to tl-cmd.bat.
 
> I fear that setting Unix variables in order to fix Windows problems
> isn't the right approach.  I'm sure that Phil agrees with me...  ;)

Well any variable would do it, XINDYTEMP or XINDYTMP or whatever. I
suggested TMPDIR as it is normally not set in windows and so adding
it locally to command prompt window would probably not do much harm. 

 
> Did you encounter the problem only with Xindy?  getnonfreefonts
> determines temporary directories simarly. 

The problem  is not how the temp directory is determines but that -
as Akira has confirmed - the default directory has a short path
name. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From martin at oneiros.de  Fri Aug 24 10:46:19 2012
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 24 Aug 2012 10:46:19 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <k17eff$oeq$1@ger.gmane.org>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de>
 <1xnetdsnrekji.dlg@nililand.de> <k17eff$oeq$1@ger.gmane.org>
Message-ID: <CAP7DCDcrpPJt1Y_oGcFN-6P8rxnkf-wqwWu-SLsHVbZDgxe-Tg@mail.gmail.com>

2012/8/24 Joachim Schrod <jschrod at acm.org>:
> Is Windows XP sufficient (I could clone a VM I have arround), or do
> I need to install a Windows 7 system?

The shortened names (DOKUME~1) are NOT present on Win7.

Best
   Martin

From news3 at nililand.de  Fri Aug 24 10:47:02 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 24 Aug 2012 10:47:02 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de> <1xnetdsnrekji.dlg@nililand.de>
 <20120824083316.GA1650@bitmuis.thuis.internal>
Message-ID: <19375mw3cekn3.dlg@nililand.de>

Am Fri, 24 Aug 2012 10:33:16 +0200 schrieb Siep Kroonenberg:

 
>> I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
>> concatenated xindy input file:
>> C:\DOKUME~1\User\LOKALE~1\Temp\q4tPCCzymR
> 
> I am a bit puzzled. This looks like the short name of a _localized_
> path. On my one localized Windows 7, I only see localized names in
> Windows explorer. In a command prompt I see the real names:
> 
> APPDATA-C:\Users\siepo\AppData\Roaming

I'm on win xp here. 

The output depends - as far as I know - on a registry setting
(NtfsDisable8dot3NameCreation) which was set as the user account was
created some years ago. I don't know if changing this now would
solve the problem as I don't want to play around with it: There
exists a good work-around for xindy and I don't know if other
applications will run into problems when suddenly the 8.3 names
disappear.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From jschrod at acm.org  Fri Aug 24 10:53:49 2012
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 24 Aug 2012 10:53:49 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <20120824083316.GA1650@bitmuis.thuis.internal>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de> <1xnetdsnrekji.dlg@nililand.de>
 <20120824083316.GA1650@bitmuis.thuis.internal>
Message-ID: <k17feu$r1$1@ger.gmane.org>

Siep Kroonenberg wrote:
> On Fri, Aug 24, 2012 at 09:28:21AM +0200, Ulrike Fischer wrote:
>> 
>> 3. xindy fails with this default TEMP setting, but not because it
>> can't find the folder at all. I played a bit around with the --debug
>> options and could see that xindy can write to and read from the
>> folder (I could find the temporary files). But somewhere in between
>> it fails to resolve the folder name (when xindy-lisp.exe is called). 
>> 
>> Here the output (a bit prettified): 
>> 
>> I:\Z-Test>xindy -d script -M texindy -L german-duden orte.idx
>> concatenated xindy input file:
>> C:\DOKUME~1\User\LOKALE~1\Temp\q4tPCCzymR
> 
> I am a bit puzzled. This looks like the short name of a _localized_
> path. On my one localized Windows 7, I only see localized names in
> Windows explorer. In a command prompt I see the real names:
> 
> APPDATA-C:\Users\siepo\AppData\Roaming
> TEMP=C:\Users\siepo\AppData\Local\Temp
> TMP=C:\Users\siepo\AppData\Local\Temp
> USERPROFILE=C:\Users\siepo
> 

I checked the start of the thread. Ulrike uses Windows XP.
There, the dir names *are* localized.

It also answers my previous question if an XP would be sufficient
as a test box for that behavior.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod, Roedermark, Germany
Email: jschrod at acm.org


From kakuto at fuk.kindai.ac.jp  Fri Aug 24 10:56:56 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 24 Aug 2012 17:56:56 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <50373915.8020800@Rhul.Ac.Uk>
References: <50373915.8020800@Rhul.Ac.Uk>
Message-ID: <1345798616736567000066d8@sniffer>

Dear Philip,

> Is it possible to send me a stand-alone Perl program that
> demonstrates the problem ?  I would be more than willing to
> investigate how it might be addressed without placing such
> constraints on a normal would-be Windows TeX Live user.

It may not be a perl problem.
Try the example by Ulrike by defining TEMP with short names.
BTW, I don't see short names in the output of the command
"set" on my Windows XP. I don't disable 8dot3.

> "fsutil" needs to be launched from an elevated command prompt,
> and such a solution is clearly only useful while investigating,
> not as an integral part of the final solution.

Completely agreed.

Thanks,
Akira


From jschrod at acm.org  Fri Aug 24 11:00:53 2012
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 24 Aug 2012 11:00:53 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <CAP7DCDcrpPJt1Y_oGcFN-6P8rxnkf-wqwWu-SLsHVbZDgxe-Tg@mail.gmail.com>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de> <1xnetdsnrekji.dlg@nililand.de>
 <k17eff$oeq$1@ger.gmane.org>
 <CAP7DCDcrpPJt1Y_oGcFN-6P8rxnkf-wqwWu-SLsHVbZDgxe-Tg@mail.gmail.com>
Message-ID: <k17fs5$3rd$1@ger.gmane.org>

Martin Schr?der wrote:
> 2012/8/24 Joachim Schrod <jschrod at acm.org>:
>> Is Windows XP sufficient (I could clone a VM I have arround), or do
>> I need to install a Windows 7 system?
> 
> The shortened names (DOKUME~1) are NOT present on Win7.

I thought that's a VFAT thing and doesn't depend on Windows version.

That's why I need to set up a complete new system for tests. I only
have NTFS-based Windows systems without short names. I don't want
to change the NTFS registry setting that controls that XP behavior
in one of my standard workstations either, for the same reason that
Ulrike doesn't want to change her setting.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod, Roedermark, Germany
Email: jschrod at acm.org


From P.Taylor at rhul.ac.uk  Fri Aug 24 11:02:17 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 24 Aug 2012 10:02:17 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <CAP7DCDcrpPJt1Y_oGcFN-6P8rxnkf-wqwWu-SLsHVbZDgxe-Tg@mail.gmail.com>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de> <1xnetdsnrekji.dlg@nililand.de>
 <k17eff$oeq$1@ger.gmane.org>
 <CAP7DCDcrpPJt1Y_oGcFN-6P8rxnkf-wqwWu-SLsHVbZDgxe-Tg@mail.gmail.com>
Message-ID: <50374319.3070902@Rhul.Ac.Uk>



Martin Schr?der wrote:
> 2012/8/24 Joachim Schrod <jschrod at acm.org>:
>> Is Windows XP sufficient (I could clone a VM I have arround), or do
>> I need to install a Windows 7 system?
>
> The shortened names (DOKUME~1) are NOT present on Win7.

Incorrect : from my Windows 7 64-bit Enterprise server --

> Microsoft Windows [Version 6.1.7601]
> Copyright (c) 2009 Microsoft Corporation.  All rights reserved.
>
> C:\Users\System manager>set
> ALLUSERSPROFILE=C:\ProgramData
> APPDATA=C:\Users\System manager\AppData\Roaming
> CLIENTNAME=RV-103
> CommonProgramFiles=C:\Program Files\Common Files
> CommonProgramFiles(x86)=C:\Program Files (x86)\Common Files
> CommonProgramW6432=C:\Program Files\Common Files
> COMPUTERNAME=RV-200
> ComSpec=C:\Windows\system32\cmd.exe
> FP_NO_HOST_CHECK=NO
> HOMEDRIVE=C:
> HOMEPATH=\Users\System manager
> LOCALAPPDATA=C:\Users\System manager\AppData\Local
> LOGONSERVER=\\RV-200
> NUMBER_OF_PROCESSORS=2
> OS=Windows_NT
> Path=C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Window
> C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerS
> C:\Program Files\Microsoft\Web Platform Installer\
> PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC
> PROCESSOR_ARCHITECTURE=AMD64
> PROCESSOR_IDENTIFIER=AMD64 Family 15 Model 107 Stepping 2, AuthenticA
> PROCESSOR_LEVEL=15
> PROCESSOR_REVISION=6b02
> ProgramData=C:\ProgramData
> ProgramFiles=C:\Program Files
> ProgramFiles(x86)=C:\Program Files (x86)
> ProgramW6432=C:\Program Files
> PROMPT=$P$G
> PSModulePath=C:\Windows\system32\WindowsPowerShell\v1.0\Modules\
> PUBLIC=C:\Users\Public
> SESSIONNAME=RDP-Tcp#0
> SystemDrive=C:
> SystemRoot=C:\Windows
> TEMP=C:\Users\SYSTEM~1\AppData\Local\Temp
> TMP=C:\Users\SYSTEM~1\AppData\Local\Temp
> USERDOMAIN=RV-200
> USERNAME=System manager
> USERPROFILE=C:\Users\System manager
> windir=C:\Windows
> windows_tracing_flags=3
> windows_tracing_logfile=C:\BVTBin\Tests\installpackage\csilogfile.log

Note in particular TEMP & TMP.
Username has embedded space.

** P.

From news3 at nililand.de  Fri Aug 24 11:06:18 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 24 Aug 2012 11:06:18 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de> <1xnetdsnrekji.dlg@nililand.de>
 <k17eff$oeq$1@ger.gmane.org>
Message-ID: <1g6ul0q3fdv4t.dlg@nililand.de>

Am Fri, 24 Aug 2012 10:37:02 +0200 schrieb Joachim Schrod:


>> Running filter:
>> j:/texlive/2012/texmf/scripts/xindy/../../../bin/win32/tex2xindy
>> <"C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\q4tPCCzymR">"
>> C:\\DOKUME~1\\User\\LOKALE~1\\Temp\\PFudPpo3qM"
 
> I.e., here Perl already works with the short name.
 
> I wonder which part of the code transforms the long name to the
> short name, where this creeps in, and if that is the point where
> one would try to intervene.

Well echo %TEMP% already gives the short name - so imho perl simply
gets it from windows. I didn't search really thoroughly but got the
impression that when 8.3-file names are enabled then you get them
with echo. 

> To test that I need a fresh installation.
 
> Is Windows XP sufficient (I could clone a VM I have arround),

I have a win xp system with in the registry
NtfsDisable8dot3NameCreation set to 0. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at fuk.kindai.ac.jp  Fri Aug 24 11:07:42 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 24 Aug 2012 18:07:42 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <mzkkwk48r2dr$.dlg@nililand.de>
References: <mzkkwk48r2dr$.dlg@nililand.de>
Message-ID: <134579926256270000006726@sniffer>

Dear Ulrike,

> The problem  is not how the temp directory is determines but that -
> as Akira has confirmed - the default directory has a short path
> name. 

No, in my windows XP, all variables are real names in
the command prompt. I tested by manually defining TMPDIR
by short names. I don't remember I did something on my system.

Thanks,
Akira


From martin at oneiros.de  Fri Aug 24 11:09:28 2012
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 24 Aug 2012 11:09:28 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <k17fs5$3rd$1@ger.gmane.org>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de>
 <1xnetdsnrekji.dlg@nililand.de> <k17eff$oeq$1@ger.gmane.org>
 <CAP7DCDcrpPJt1Y_oGcFN-6P8rxnkf-wqwWu-SLsHVbZDgxe-Tg@mail.gmail.com>
 <k17fs5$3rd$1@ger.gmane.org>
Message-ID: <CAP7DCDcXL7xSqbZw4TWK_xDmf=mYKcCnT6SJGCtbhoJ7Z7mjwA@mail.gmail.com>

2012/8/24 Joachim Schrod <jschrod at acm.org>:
> I thought that's a VFAT thing and doesn't depend on Windows version.

Win2008R2 on NTFS exhibits the same problem (shortening). It's Windows. :-(

TEMP=C:\Users\ADMINI~1\AppData\Local\Temp\1
TMP=C:\Users\ADMINI~1\AppData\Local\Temp\1

Best
   Martin

From siepo at cybercomm.nl  Fri Aug 24 11:12:28 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 24 Aug 2012 11:12:28 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <k17fs5$3rd$1@ger.gmane.org>
References: <k16iuk$v97$1@ger.gmane.org> <134577179974734000004f05@sniffer>
 <20534.56419.942787.674590@puma.r.npc.de>
 <1xnetdsnrekji.dlg@nililand.de> <k17eff$oeq$1@ger.gmane.org>
 <CAP7DCDcrpPJt1Y_oGcFN-6P8rxnkf-wqwWu-SLsHVbZDgxe-Tg@mail.gmail.com>
 <k17fs5$3rd$1@ger.gmane.org>
Message-ID: <20120824091228.GB1650@bitmuis.thuis.internal>

On Fri, Aug 24, 2012 at 11:00:53AM +0200, Joachim Schrod wrote:
> Martin Schr?der wrote:
> > 2012/8/24 Joachim Schrod <jschrod at acm.org>:
> >> Is Windows XP sufficient (I could clone a VM I have arround), or do
> >> I need to install a Windows 7 system?
> > 
> > The shortened names (DOKUME~1) are NOT present on Win7.
> 
> I thought that's a VFAT thing and doesn't depend on Windows version.

If you type e.g. `dir /x c:\' on an NTFS w7 you still get to see
some short names such as PROGRA~1.

> That's why I need to set up a complete new system for tests. I only
> have NTFS-based Windows systems without short names. I don't want
> to change the NTFS registry setting that controls that XP behavior
> in one of my standard workstations either, for the same reason that
> Ulrike doesn't want to change her setting.

I would be lost without virtual machines. Because it takes only
minutes to back up and restore a virtual disk image, you can safely
do any experiment.

-- 
Siep Kroonenberg

From kakuto at fuk.kindai.ac.jp  Fri Aug 24 11:15:07 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 24 Aug 2012 18:15:07 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <134579926256270000006726@sniffer>
References: <134579926256270000006726@sniffer>
Message-ID: <134579970723124400006762@sniffer>

> I don't remember I did something on my system.

Sorry, I changed TEMP and TMP to c:\temp.

Thanks,
Akira


From P.Taylor at rhul.ac.uk  Fri Aug 24 10:39:57 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 24 Aug 2012 09:39:57 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <k17e0v$ksf$1@ger.gmane.org>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk> <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk> <k16iuk$v97$1@ger.gmane.org>
 <503721B6.9050601@Rhul.Ac.Uk> <k17e0v$ksf$1@ger.gmane.org>
Message-ID: <50373DDD.7010106@Rhul.Ac.Uk>



Joachim Schrod wrote:

> Windows clames to be conformant to POSIX

Could you cite the Microsoft reference on which you base
that assertion ?

> I just don't think that this list is the right place to discuss your
> ideas if using POSIX API on Windows is the right thing to do or not.
> As I wrote above: Nobody will care. I care for users problems like
> the Ulrike's, not for abstract conceivabilities how a system should
> behave orderly.

We /all/ care about solving real-world problems such as Ulrike's,
but they should be solved by identifying the underlying root cause
of the problem, not by seeking to paper over the cracks.

** P.

From jschrod at acm.org  Fri Aug 24 11:05:01 2012
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 24 Aug 2012 11:05:01 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <50373DDD.7010106@Rhul.Ac.Uk>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk>
 <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk>
 <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk> <k16iuk$v97$1@ger.gmane.org>
 <503721B6.9050601@Rhul.Ac.Uk> <k17e0v$ksf$1@ger.gmane.org>
 <50373DDD.7010106@Rhul.Ac.Uk>
Message-ID: <20535.17341.314921.432802@puma.r.npc.de>

Philip TAYLOR writes:
> Joachim Schrod wrote:
> 
> > Windows clames to be conformant to POSIX
> 
> Could you cite the Microsoft reference on which you base
> that assertion ?

On the 1st page of a Google search, the 1st Microsoft link:

http://technet.microsoft.com/en-us/library/cc976809.aspx

"Windows 2000 is fully compliant with the Institute of Electrical and
Electronic Engineers (IEEE) standard 1003.1" The same holds for future
Windows versions.

As the CEO of a Microsoft partner company, I also received respective
information from Microsoft Corp. in email and on paper. It's part of
the marketing information that they give to partner companies like
mine.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Joachim Schrod, xindy maintainer. Roedermark, Germany
Email: jschrod at acm.org, http://www.xindy.org/

From martin at oneiros.de  Fri Aug 24 11:54:43 2012
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 24 Aug 2012 11:54:43 +0200
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <20535.17341.314921.432802@puma.r.npc.de>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk>
 <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk>
 <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk> <k16iuk$v97$1@ger.gmane.org>
 <503721B6.9050601@Rhul.Ac.Uk> <k17e0v$ksf$1@ger.gmane.org>
 <50373DDD.7010106@Rhul.Ac.Uk>
 <20535.17341.314921.432802@puma.r.npc.de>
Message-ID: <CAP7DCDdHB4zY2E1a+N47cJWDoM_09rOTs=LfayG2wY8LXWTJ-A@mail.gmail.com>

2012/8/24 Joachim Schrod <jschrod at acm.org>:
> "Windows 2000 is fully compliant with the Institute of Electrical and
> Electronic Engineers (IEEE) standard 1003.1" The same holds for future
> Windows versions.

That's Win2000. :-(

https://en.wikipedia.org/wiki/Microsoft_POSIX_subsystem
https://en.wikipedia.org/wiki/Windows_Services_for_UNIX
"It is set to be deprecated after the release of Windows 8 and to be
removed in the version after Windows 8."

Best
   Martin

From P.Taylor at rhul.ac.uk  Fri Aug 24 11:19:26 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 24 Aug 2012 10:19:26 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <20535.17341.314921.432802@puma.r.npc.de>
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk> <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk> <k16iuk$v97$1@ger.gmane.org>
 <503721B6.9050601@Rhul.Ac.Uk> <k17e0v$ksf$1@ger.gmane.org>
 <50373DDD.7010106@Rhul.Ac.Uk> <20535.17341.314921.432802@puma.r.npc.de>
Message-ID: <5037471E.8030005@Rhul.Ac.Uk>



Joachim Schrod wrote:

>>> Windows clames to be conformant to POSIX
>>
>> (PT) Could you cite the Microsoft reference on which you base
>> that assertion ?
>
> On the 1st page of a Google search, the 1st Microsoft link:
>
> http://technet.microsoft.com/en-us/library/cc976809.aspx
>
> "Windows 2000 is fully compliant with the Institute of Electrical and
> Electronic Engineers (IEEE) standard 1003.1"

A statement about an O/S which is right down at the 3-sigma tail
of the usage distribution, if not beyond.

> The same holds for future Windows versions.

It makes no claims whatsoever about later versions, which makes
perfect sense since they would not have existed at the time
of writing.  If there is a similar statement concerning Windows XP,
Vista and/or Windows 7, it would be well worth adducing.

> As the CEO of a Microsoft partner company, I also received respective
> information from Microsoft Corp. in email and on paper. It's part of
> the marketing information that they give to partner companies like
> mine.

I have little doubt that Microsoft pay lip-service to Posix, just as
Digital did when they re-branded VMS as "Open VMS" (a term I refuse
to use to this day).  Unless there is real evidence that modern
versions of Windows (XP, Vista, 7) /are/, and set out to be,
Posix-compliant, then it would be far better (and far safer) to
assume that they are not, and to treat them as an entirely
disparate architecture.

** P.

From daleif at imf.au.dk  Fri Aug 24 12:32:14 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Fri, 24 Aug 2012 12:32:14 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <5037321A.3080309@imf.au.dk>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk>
Message-ID: <5037582E.90807@imf.au.dk>

Lars Madsen wrote, On 2012-08-24 09:49:
> Karl Berry wrote, On 2012-08-23 23:57:
>>     so since the installer detected miktex in the system path, the     
>> installation failed?
>> No, I didn't mean to imply that.  It wasn't clear from your message if
>> you saw some other failure.
>>
> 
> As far as I know that was the only thing se saw
> 
> I can ask him to repeat
> 
>>     even though TL was added to (the end of) the PATH,     menus was 
>> added etc...?
>>
>> Sounds like success to me.  If tlpkg/texlive.profile isn't there, well,
>> I'm baffled.
>>
>> k
> 
> 

I just had him do a TL12 reinstall

on all of his Win 7 systems (not sure if they are all virtualized), 
install-tl.bat crashed with the notorius 'perl is not working error' (or 
what ever the message is)

install-tl-advanced.bat

works fine. But no texlive.profile is created

He also wonders why this install-tl.bat vs. install-tl-advanced.bat on 
windows 7 has not been fixed?

We have seen quite a number of these on Win 7, especially 64-bit, which 
seems to be the default these days.



-- 

/daleif

From siepo at cybercomm.nl  Fri Aug 24 12:44:31 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 24 Aug 2012 12:44:31 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <5037582E.90807@imf.au.dk>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
Message-ID: <20120824104431.GE1650@bitmuis.thuis.internal>

On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
> Lars Madsen wrote, On 2012-08-24 09:49:
> >Karl Berry wrote, On 2012-08-23 23:57:

> He also wonders why this install-tl.bat vs. install-tl-advanced.bat
> on windows 7 has not been fixed?

See http://www.tug.org/texlive/windows.html#trouble

-- 
Siep Kroonenberg

From P.Taylor at rhul.ac.uk  Fri Aug 24 11:42:50 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 24 Aug 2012 10:42:50 +0100
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <1345798616736567000066d8@sniffer>
References: <50373915.8020800@Rhul.Ac.Uk> <1345798616736567000066d8@sniffer>
Message-ID: <50374C9A.60803@Rhul.Ac.Uk>



Akira Kakuto wrote:

> It may not be a perl problem.
> Try the example by Ulrike by defining TEMP with short names.

Not sure to which example you are referring, Akira-san : all
of Ulrike's examples that I can identify as such seem to
require a (non-)working Xindy and some adjunct test files.

But if there /is/ an example which I can usefully test and
investigate, do please let me know.  I have 32- and 64-bit
Windows 7 systems available, as well as XP, and run
multiple VMs as a matter of course.

** Phil.

From news3 at nililand.de  Fri Aug 24 13:27:00 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 24 Aug 2012 13:27:00 +0200
Subject: [tex-live] xindy doesn't work on windows
References: <1qxph98zj9rzb.dlg@nililand.de> <1345636173396659000007de@sniffer>
 <5034C8D9.10101@Rhul.Ac.Uk> <20533.20584.538756.511579@zaphod.ms25.net>
 <5035514E.8040306@Rhul.Ac.Uk> <20533.27991.458767.795231@zaphod.ms25.net>
 <5035B536.80008@Rhul.Ac.Uk> <k16iuk$v97$1@ger.gmane.org>
 <503721B6.9050601@Rhul.Ac.Uk> <k17e0v$ksf$1@ger.gmane.org>
 <50373DDD.7010106@Rhul.Ac.Uk>
Message-ID: <9nb6ujbpryjs$.dlg@nililand.de>

Am Fri, 24 Aug 2012 09:39:57 +0100 schrieb Philip TAYLOR:

> We /all/ care about solving real-world problems such as Ulrike's,
> but they should be solved by identifying the underlying root cause
> of the problem, not by seeking to paper over the cracks.

Well I would say it depends on the time you would have to invest to
identify the root cause and to correct it (if it is actually
possible for you to correct it). 

The problem here is what I would call a "historical relict problem":
The short path names are there because windows tries not to break
old applications which expects 8.3-file names and so offers an
additional naming system. That's an honorable goal but like always
when you try to keep compability with old systems it makes live more
complicated. 

Imho in such case often the best way is "to paper over the cracks". 
It is not very difficult to setup a sensible TEMP/TMP or TMPDIR
variable - you only have to know that this will help. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at fuk.kindai.ac.jp  Fri Aug 24 15:02:49 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 24 Aug 2012 22:02:49 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <9nb6ujbpryjs$.dlg@nililand.de>
References: <9nb6ujbpryjs$.dlg@nililand.de>
Message-ID: <134581336999009000006bc9@sniffer>

Dear Ulrike,

I propose the following simple fix, since the short-name problem
seems difficult:

--- texmf/scripts/xindy/xindy.pl	Wed Aug 22 08:25:34 2012
+++ xindy.pl	Fri Aug 24 21:42:55 2012
@@ -359,6 +359,12 @@
 # FIXME: In standalone installations, modules are still placed in lib
 # directory. This is not conformant to FHS.
 
+if ( $is_w32 ) {
+use Env qw(TMPDIR);
+Env::import();
+$TMPDIR=".";
+}
+
 if ( $is_TL ) { # TeX Live
 
     $modules_dir = Cwd::realpath("$cmd_dir/../../xindy/modules");


Namely we create temporary files in the current directory in xindy
on Windows.

Thanks,
Akira


From siepo at cybercomm.nl  Fri Aug 24 15:04:43 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 24 Aug 2012 15:04:43 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <5037582E.90807@imf.au.dk>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
Message-ID: <20120824130443.GF1650@bitmuis.thuis.internal>

On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
> Lars Madsen wrote, On 2012-08-24 09:49:
> >Karl Berry wrote, On 2012-08-23 23:57:
> >>    so since the installer detected miktex in the system path,
> >>the     installation failed?
> >>No, I didn't mean to imply that.  It wasn't clear from your message if
> >>you saw some other failure.
> >>
> >
> >As far as I know that was the only thing se saw
> >
> >I can ask him to repeat
> >
> >>    even though TL was added to (the end of) the PATH,     menus
> >>was added etc...?
> >>
> >>Sounds like success to me.  If tlpkg/texlive.profile isn't there, well,
> >>I'm baffled.
> >>
> >>k
> >
> >
> 
> I just had him do a TL12 reinstall
> 
> on all of his Win 7 systems (not sure if they are all virtualized),
> install-tl.bat crashed with the notorius 'perl is not working error'
> (or what ever the message is)
> 
> install-tl-advanced.bat
> 
> works fine. But no texlive.profile is created

I just tested with a small TL installation, on a non-virtual Dutch
w7 professional with miktex already on the system path. I did get a
<root>/tlpkg/texlive.profile

So this failure is not universal.

-- 
Siep Kroonenberg

From daleif at imf.au.dk  Fri Aug 24 15:07:02 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Fri, 24 Aug 2012 15:07:02 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20120824104431.GE1650@bitmuis.thuis.internal>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824104431.GE1650@bitmuis.thuis.internal>
Message-ID: <50377C76.2040209@imf.au.dk>

Siep Kroonenberg wrote, On 2012-08-24 12:44:
> On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
>> Lars Madsen wrote, On 2012-08-24 09:49:
>>> Karl Berry wrote, On 2012-08-23 23:57:
> 
>> He also wonders why this install-tl.bat vs. install-tl-advanced.bat
>> on windows 7 has not been fixed?
> 
> See http://www.tug.org/texlive/windows.html#trouble
> 

Here is his result from install-tl.bat -v



C:\temp\install-tl-20120821>install-tl -v
PATH=C:\temp\install-tl-20120821\tlpkg\tlperl\bin;C:\Windows\system32;C:\Windows
;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program
  Files\Pico Technology\Pico 
Full\;C:\MATLAB\R2009b\runtime\win32;C:\MATLAB\R2009
b\bin;C:\Program Files\IVI Foundation\IVI\bin;C:\Program Files\IVI 
Foundation\VI
SA\WinNT\Bin\;C:\Program Files\IVI 
Foundation\VISA\WinNT\Bin;C:\PROGRA~1\IVIFOU~
1\VISA\WinNT\Bin;C:\Program Files\QuickTime\QTSystem\;C:\Program 
Files\Altium De
signer Summer 09\System;C:\VISA\WinNTBin
D:found lang codes value = 0406, lm = 
da;@%SystemRoot%\system32\mlang.dll,-4382.
..

   Sorry, no translations available for da_@% (nor da); falling back to 
English.
   Make sure that you have the package "texlive-msg-translations" installed.
   (If you'd like to help translate the installer's messages, please see
   http://tug.org/texlive/doc.html#install-tl-xlate for information.)


after which Perl crashed

It has something to do with the trans.pl file, when it reverts back to a 
default language when it detects that is does not have a translation for 
this.

There is a very strange 'fix'

if one add

use Data::Dumper;

just before

use utf8;

in <installer-dir>/tlpkg/TeXLive/trans.pl

then install-tl.bat works fine on all Win 7's we have tested so far

So couldn't we just add that line to trans.pl for now?




-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From daleif at imf.au.dk  Fri Aug 24 17:07:17 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Fri, 24 Aug 2012 17:07:17 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20120824130443.GF1650@bitmuis.thuis.internal>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
Message-ID: <503798A5.2060800@imf.au.dk>

Siep Kroonenberg wrote, On 2012-08-24 15:04:
> On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
>> Lars Madsen wrote, On 2012-08-24 09:49:
>>> Karl Berry wrote, On 2012-08-23 23:57:
>>>>    so since the installer detected miktex in the system path,
>>>> the     installation failed?
>>>> No, I didn't mean to imply that.  It wasn't clear from your message if
>>>> you saw some other failure.
>>>>
>>> As far as I know that was the only thing se saw
>>>
>>> I can ask him to repeat
>>>
>>>>    even though TL was added to (the end of) the PATH,     menus
>>>> was added etc...?
>>>>
>>>> Sounds like success to me.  If tlpkg/texlive.profile isn't there, well,
>>>> I'm baffled.
>>>>
>>>> k
>>>
>> I just had him do a TL12 reinstall
>>
>> on all of his Win 7 systems (not sure if they are all virtualized),
>> install-tl.bat crashed with the notorius 'perl is not working error'
>> (or what ever the message is)
>>
>> install-tl-advanced.bat
>>
>> works fine. But no texlive.profile is created
> 
> I just tested with a small TL installation, on a non-virtual Dutch
> w7 professional with miktex already on the system path. I did get a
> <root>/tlpkg/texlive.profile
> 
> So this failure is not universal.
> 

did you try one where miktex was already installed?


-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From daleif at imf.au.dk  Fri Aug 24 17:10:50 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Fri, 24 Aug 2012 17:10:50 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <503798A5.2060800@imf.au.dk>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal> <503798A5.2060800@imf.au.dk>
Message-ID: <5037997A.4090401@imf.au.dk>

Lars Madsen wrote, On 2012-08-24 17:07:
> Siep Kroonenberg wrote, On 2012-08-24 15:04:
>> On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
>>> Lars Madsen wrote, On 2012-08-24 09:49:
>>>> Karl Berry wrote, On 2012-08-23 23:57:
>>>>>    so since the installer detected miktex in the system path,
>>>>> the     installation failed?
>>>>> No, I didn't mean to imply that.  It wasn't clear from your message if
>>>>> you saw some other failure.
>>>>>
>>>> As far as I know that was the only thing se saw
>>>>
>>>> I can ask him to repeat
>>>>
>>>>>    even though TL was added to (the end of) the PATH,     menus
>>>>> was added etc...?
>>>>>
>>>>> Sounds like success to me.  If tlpkg/texlive.profile isn't there, 
>>>>> well,
>>>>> I'm baffled.
>>>>>
>>>>> k
>>>>
>>> I just had him do a TL12 reinstall
>>>
>>> on all of his Win 7 systems (not sure if they are all virtualized),
>>> install-tl.bat crashed with the notorius 'perl is not working error'
>>> (or what ever the message is)
>>>
>>> install-tl-advanced.bat
>>>
>>> works fine. But no texlive.profile is created
>>
>> I just tested with a small TL installation, on a non-virtual Dutch
>> w7 professional with miktex already on the system path. I did get a
>> <root>/tlpkg/texlive.profile
>>
>> So this failure is not universal.
>>
> 
> did you try one where miktex was already installed?
> 
> 

ot at least where a miktex like PATH segment is present at the start of 
the PATH string


-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From siepo at cybercomm.nl  Fri Aug 24 18:18:13 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 24 Aug 2012 18:18:13 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <503798A5.2060800@imf.au.dk>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
 <503798A5.2060800@imf.au.dk>
Message-ID: <20120824161813.GG1650@bitmuis.thuis.internal>

On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
> Siep Kroonenberg wrote, On 2012-08-24 15:04:
> >On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
> >>Lars Madsen wrote, On 2012-08-24 09:49:
> >>>Karl Berry wrote, On 2012-08-23 23:57:
> >>>>   so since the installer detected miktex in the system path,
> >>>>the     installation failed?
> >>>>No, I didn't mean to imply that.  It wasn't clear from your message if
> >>>>you saw some other failure.
> >>>>
> >>>As far as I know that was the only thing se saw
> >>>
> >>>I can ask him to repeat
> >>>
> >>>>   even though TL was added to (the end of) the PATH,     menus
> >>>>was added etc...?
> >>>>
> >>>>Sounds like success to me.  If tlpkg/texlive.profile isn't there, well,
> >>>>I'm baffled.
> >>>>
> >>>>k
> >>>
> >>I just had him do a TL12 reinstall
> >>
> >>on all of his Win 7 systems (not sure if they are all virtualized),
> >>install-tl.bat crashed with the notorius 'perl is not working error'
> >>(or what ever the message is)
> >>
> >>install-tl-advanced.bat
> >>
> >>works fine. But no texlive.profile is created
> >
> >I just tested with a small TL installation, on a non-virtual Dutch
> >w7 professional with miktex already on the system path. I did get a
> ><root>/tlpkg/texlive.profile
> >
> >So this failure is not universal.
> >
> 
> did you try one where miktex was already installed?

Fake-installed: Portable miktex with system path pointing to it. I
did get the warning about tex on the system path which could not be
overridden in a user install. Miktex was at the end of the system
path.

-- 
Siep Kroonenberg

From daleif at imf.au.dk  Fri Aug 24 18:27:56 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Fri, 24 Aug 2012 18:27:56 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20120824161813.GG1650@bitmuis.thuis.internal>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal> <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal>
Message-ID: <5037AB8C.4020105@imf.au.dk>

Siep Kroonenberg wrote, On 2012-08-24 18:18:
> On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
>> Siep Kroonenberg wrote, On 2012-08-24 15:04:
>>> On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
>>>> Lars Madsen wrote, On 2012-08-24 09:49:
>>>>> Karl Berry wrote, On 2012-08-23 23:57:
>>>>>>   so since the installer detected miktex in the system path,
>>>>>> the     installation failed?
>>>>>> No, I didn't mean to imply that.  It wasn't clear from your message if
>>>>>> you saw some other failure.
>>>>>>
>>>>> As far as I know that was the only thing se saw
>>>>>
>>>>> I can ask him to repeat
>>>>>
>>>>>>   even though TL was added to (the end of) the PATH,     menus
>>>>>> was added etc...?
>>>>>>
>>>>>> Sounds like success to me.  If tlpkg/texlive.profile isn't there, well,
>>>>>> I'm baffled.
>>>>>>
>>>>>> k
>>>> I just had him do a TL12 reinstall
>>>>
>>>> on all of his Win 7 systems (not sure if they are all virtualized),
>>>> install-tl.bat crashed with the notorius 'perl is not working error'
>>>> (or what ever the message is)
>>>>
>>>> install-tl-advanced.bat
>>>>
>>>> works fine. But no texlive.profile is created
>>> I just tested with a small TL installation, on a non-virtual Dutch
>>> w7 professional with miktex already on the system path. I did get a
>>> <root>/tlpkg/texlive.profile
>>>
>>> So this failure is not universal.
>>>
>> did you try one where miktex was already installed?
> 
> Fake-installed: Portable miktex with system path pointing to it. I
> did get the warning about tex on the system path which could not be
> overridden in a user install. Miktex was at the end of the system
> path.
> 

but did you get the texlive.profile file in that case?

-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From siepo at cybercomm.nl  Fri Aug 24 20:55:16 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 24 Aug 2012 20:55:16 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <5037AB8C.4020105@imf.au.dk>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
 <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal>
 <5037AB8C.4020105@imf.au.dk>
Message-ID: <20120824185516.GA1607@bitmuis.thuis.internal>

On Fri, Aug 24, 2012 at 06:27:56PM +0200, Lars Madsen wrote:
> Siep Kroonenberg wrote, On 2012-08-24 18:18:
> >On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
> >>Siep Kroonenberg wrote, On 2012-08-24 15:04:
> >>>On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
> >>>>Lars Madsen wrote, On 2012-08-24 09:49:
> >>>>>Karl Berry wrote, On 2012-08-23 23:57:
> >>>>.....
> >>>>works fine. But no texlive.profile is created
> >>>I just tested with a small TL installation, on a non-virtual Dutch
> >>>w7 professional with miktex already on the system path. I did get a
> >>><root>/tlpkg/texlive.profile
> >>>
> >>>So this failure is not universal.
> >>>
> >>did you try one where miktex was already installed?
> >
> >Fake-installed: Portable miktex with system path pointing to it. I
> >did get the warning about tex on the system path which could not be
> >overridden in a user install. Miktex was at the end of the system
> >path.
> >
> 
> but did you get the texlive.profile file in that case?

Yes.

-- 
Siep Kroonenberg

From karl at freefriends.org  Sat Aug 25 01:50:48 2012
From: karl at freefriends.org (Karl Berry)
Date: Fri, 24 Aug 2012 23:50:48 +0000
Subject: [tex-live] Unattended TL install
In-Reply-To: <50377C76.2040209@imf.au.dk>
Message-ID: <201208242350.q7ONom8T017448@freefriends.org>

    There is a very strange 'fix'
    if one add
    use Data::Dumper;
    just before
    use utf8;

Yes, that certainly is a strange fix.  It would be nice to have a
glimmer of understanding and not just paper over the problem.  For all
we know, that might help on your machines, but cause new mysterious
failures on others.

First, it's not clear to me why the
use utf8;
no utf8;
idiom is in trans.pl in the first place.  (The script source itself does
not need non-ASCII UTF-8 that I can see, which is
http://perldoc.perl.org/utf8.html seems to be saying it's for.)

Can you try commenting those two lines out and see if it makes a
difference?

Second, looking at Dumper.pm, it's doing
use 5.006_001;
require Exporter;
require overload;

Can you try adding those lines to trans.pl (one at a time) and see if
they make a difference?  To try to narrow down what is actually needed
from Dumper.  (I can't imagine why they would, but this whole problem
and the fix is unimaginable too ...)

k

From reinhard.kotucha at web.de  Sat Aug 25 04:12:56 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 25 Aug 2012 04:12:56 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20120824185516.GA1607@bitmuis.thuis.internal>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
 <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal>
 <5037AB8C.4020105@imf.au.dk>
 <20120824185516.GA1607@bitmuis.thuis.internal>
Message-ID: <20536.13480.280402.392560@zaphod.ms25.net>

On 2012-08-24 at 20:55:16 +0200, Siep Kroonenberg wrote:

 > On Fri, Aug 24, 2012 at 06:27:56PM +0200, Lars Madsen wrote:
 > > Siep Kroonenberg wrote, On 2012-08-24 18:18:
 > > >On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
 > > >>Siep Kroonenberg wrote, On 2012-08-24 15:04:
 > > >>>On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
 > > >>>>Lars Madsen wrote, On 2012-08-24 09:49:
 > > >>>>>Karl Berry wrote, On 2012-08-23 23:57:
 > > >>>>.....
 > > >>>>works fine. But no texlive.profile is created
 > > >>>I just tested with a small TL installation, on a non-virtual Dutch
 > > >>>w7 professional with miktex already on the system path. I did get a
 > > >>><root>/tlpkg/texlive.profile
 > > >>>
 > > >>>So this failure is not universal.
 > > >>>
 > > >>did you try one where miktex was already installed?
 > > >
 > > >Fake-installed: Portable miktex with system path pointing to it. I
 > > >did get the warning about tex on the system path which could not be
 > > >overridden in a user install. Miktex was at the end of the system
 > > >path.
 > > >
 > > 
 > > but did you get the texlive.profile file in that case?
 > 
 > Yes.

It definitely has nothing to do with a formerly installed MiKTeX.
texlive.profile is just a dump of variables the installer uses
internally.  If the installer succeeds, the information exists and is
correct.  If the file is not written, the only explanation I can
imagine is that the target directory is not writable.  But on the
other hand the installer creates zillion of files in tlpkg.  Hence
this behavior is not explainable.

Lars, what makes you believe that texlive.profile isn't created?
Whether a file doesn't exists or doesn't appear in directory listings
are two completely different things on Windows.

I installed a cicuit simulator on W7 and created a few files in order
to define simulations.  It worked fine.  But when I tried to run
exactly the same simulations a few weeks later, the program complained
that none of the files I created myself exist.  And indeed, neither
dir (cmd.exe) nor the Exploder displayed them.

At a first glance I thought that the files got lost.  But Emacs in
dired-mode shows them all.  Emacs even allows me to copy/move/delete
these "non-existent" files.  
 
Hence it would be quite helpful to know whether texlive.profile
exists physically.  But you can't use Windows tools in order to find
out whether a file exists or not. 

Another thing I can reproduce on Windows 7 reliably:

  Go to %ProgramFiles% and run 

    zip -r foo.zip foo

The file foo.zip doesn't appear in any directory listing, neither
cmd.exe nor the Exploder displays it.  But it definitely exists.  You
need Emacs in order to access "non-existent" files under Windows.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Sat Aug 25 10:24:21 2012
From: preining at logic.at (Norbert Preining)
Date: Sat, 25 Aug 2012 17:24:21 +0900
Subject: [tex-live] Unattended TL install
In-Reply-To: <201208242350.q7ONom8T017448@freefriends.org>
References: <201208242350.q7ONom8T017448@freefriends.org>
Message-ID: <E4A6152F-6DD0-4CF2-AFFC-E74CEBF7691F@logic.at>

Hi all,

> First, it's not clear to me why the
> use utf8;
> no utf8;
> idiom is in trans.pl in the first place.  

I think because we read in UTF8 data, the po files, but have to write them out to the terminal in local encoding, otherwise the user see's gibberish output.

I think this is the reason ... afair when I wrote that piece. I surely didn't come up by chance with that.

Norbert

From siepo at cybercomm.nl  Sat Aug 25 11:02:15 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sat, 25 Aug 2012 11:02:15 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20536.13480.280402.392560@zaphod.ms25.net>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
 <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal>
 <5037AB8C.4020105@imf.au.dk>
 <20120824185516.GA1607@bitmuis.thuis.internal>
 <20536.13480.280402.392560@zaphod.ms25.net>
Message-ID: <20120825090215.GA2675@bitmuis.thuis.internal>

On Sat, Aug 25, 2012 at 04:12:56AM +0200, Reinhard Kotucha wrote:
> On 2012-08-24 at 20:55:16 +0200, Siep Kroonenberg wrote:
> 
>  > On Fri, Aug 24, 2012 at 06:27:56PM +0200, Lars Madsen wrote:
>  > > Siep Kroonenberg wrote, On 2012-08-24 18:18:
>  > > >On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
>  > > >>Siep Kroonenberg wrote, On 2012-08-24 15:04:
>  > > >>>On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
>  > > >>>>Lars Madsen wrote, On 2012-08-24 09:49:
>  > > >>>>>Karl Berry wrote, On 2012-08-23 23:57:
> 
> I installed a cicuit simulator on W7 and created a few files in order
> to define simulations.  It worked fine.  But when I tried to run
> exactly the same simulations a few weeks later, the program complained
> that none of the files I created myself exist.  And indeed, neither
> dir (cmd.exe) nor the Exploder displayed them.
> 
> At a first glance I thought that the files got lost.  But Emacs in
> dired-mode shows them all.  Emacs even allows me to copy/move/delete
> these "non-existent" files.  
>  
> Hence it would be quite helpful to know whether texlive.profile
> exists physically.  But you can't use Windows tools in order to find
> out whether a file exists or not. 
> 
> Another thing I can reproduce on Windows 7 reliably:
> 
>   Go to %ProgramFiles% and run 
> 
>     zip -r foo.zip foo
> 
> The file foo.zip doesn't appear in any directory listing, neither
> cmd.exe nor the Exploder displays it.  But it definitely exists.  You
> need Emacs in order to access "non-existent" files under Windows.
> 
> Regards,
>   Reinhard

On my XP-and W7 vm's the zipfile is visible.

Can you check whether the hidden attribute is set for the zipfile?
(which would be a mystery of its own)

-- 
Siep Kroonenberg

From kakuto at fuk.kindai.ac.jp  Sat Aug 25 12:05:53 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 25 Aug 2012 19:05:53 +0900
Subject: [tex-live] xindy doesn't work on windows
In-Reply-To: <9nb6ujbpryjs$.dlg@nililand.de>
References: <9nb6ujbpryjs$.dlg@nililand.de>
Message-ID: <134588915335538400000976@sniffer>

Dear Ulrike,

I've committed the following change, r27520.
It is working fine here.
Thanks,
Akira

--- texmf/scripts/xindy/xindy.pl	Wed Aug 22 08:25:34 2012
+++ xindy.pl	Sat Aug 25 18:36:55 2012
@@ -348,6 +348,17 @@
 
 our ($lib_dir, $modules_dir);
 
+# xindy-lisp.exe for Windows seems to be unable to interpret the short-name
+# format which is a default for the variables TEMP and TMP in Windows OS.
+# As a workaround, we create temporary files in the current directory
+# in xindy on Windows.
+
+if ( $is_w32 ) {
+use Env qw(TMPDIR);
+Env::import();
+$TMPDIR = ".";
+}
+
 # We have different installation structures for TeX-Live and a
 # standalone installation. In TeX-Live, the user command is a symlink
 # in some bin directory, and the actual script is in the library
@@ -643,6 +654,7 @@
 sub create_raw_index () {
     my ($output, $outfile) = tempfile();
     push (@temp_files, $outfile);
+    $outfile=quotify($outfile);
     while ( <> ) {
 	print $output $_;
     }
@@ -661,9 +673,8 @@
 sub filter_index ( $$ ) {
     my ($filter, $input) = @_;
     my $output = tmpnam();
-    $output=quotify($output);
-    $input=quotify($input);
     push (@temp_files, $output);
+    $output=quotify($output);
     print "Running filter: $filter <$input >$output\n"  if $verbose;
     system "$filter <$input >$output";
     print "filtered xindy input file: $output\n"  if $debug{script};
@@ -739,13 +750,13 @@
 	my $sf;
 	($sf, $style_file) = tempfile();
 	push (@temp_files, $style_file);
+	$style_file=quotify($style_file);
 	foreach my $module ( @modules ) {
 	    print $sf "(require \"$module\")\n";
 	}
 	close ($sf);
     }
 
-    $style_file = quotify($style_file);
     $outfile = quotify($outfile);
     $logging = ':logfile ' . quotify($logfile)  if $logfile;
     $tracing = ':markup-trace :on'  if $debug{markup};
@@ -781,6 +792,7 @@
     } elsif ($is_w32) {
 	my ($output, $outfile) = tempfile();
 	push (@temp_files, $outfile);
+	$outfile=quotify($outfile);
 	print $output $xindy_exp;
 	close ($output);
 	print "xindy startup file: $outfile\n" if $debug{script};


From reinhard.kotucha at web.de  Sat Aug 25 22:44:16 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 25 Aug 2012 22:44:16 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20120825090215.GA2675@bitmuis.thuis.internal>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
 <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal>
 <5037AB8C.4020105@imf.au.dk>
 <20120824185516.GA1607@bitmuis.thuis.internal>
 <20536.13480.280402.392560@zaphod.ms25.net>
 <20120825090215.GA2675@bitmuis.thuis.internal>
Message-ID: <20537.14624.147579.359718@zaphod.ms25.net>

On 2012-08-25 at 11:02:15 +0200, Siep Kroonenberg wrote:

 > On Sat, Aug 25, 2012 at 04:12:56AM +0200, Reinhard Kotucha wrote:
 > > On 2012-08-24 at 20:55:16 +0200, Siep Kroonenberg wrote:
 > > 
 > >  > On Fri, Aug 24, 2012 at 06:27:56PM +0200, Lars Madsen wrote:
 > >  > > Siep Kroonenberg wrote, On 2012-08-24 18:18:
 > >  > > >On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
 > >  > > >>Siep Kroonenberg wrote, On 2012-08-24 15:04:
 > >  > > >>>On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
 > >  > > >>>>Lars Madsen wrote, On 2012-08-24 09:49:
 > >  > > >>>>>Karl Berry wrote, On 2012-08-23 23:57:
 > > 
 > > I installed a cicuit simulator on W7 and created a few files in order
 > > to define simulations.  It worked fine.  But when I tried to run
 > > exactly the same simulations a few weeks later, the program complained
 > > that none of the files I created myself exist.  And indeed, neither
 > > dir (cmd.exe) nor the Exploder displayed them.
 > > 
 > > At a first glance I thought that the files got lost.  But Emacs in
 > > dired-mode shows them all.  Emacs even allows me to copy/move/delete
 > > these "non-existent" files.  
 > >  
 > > Hence it would be quite helpful to know whether texlive.profile
 > > exists physically.  But you can't use Windows tools in order to find
 > > out whether a file exists or not. 
 > > 
 > > Another thing I can reproduce on Windows 7 reliably:
 > > 
 > >   Go to %ProgramFiles% and run 
 > > 
 > >     zip -r foo.zip foo
 > > 
 > > The file foo.zip doesn't appear in any directory listing, neither
 > > cmd.exe nor the Exploder displays it.  But it definitely exists.  You
 > > need Emacs in order to access "non-existent" files under Windows.
 > > 
 > > Regards,
 > >   Reinhard
 > 
 > On my XP-and W7 vm's the zipfile is visible.
 > 
 > Can you check whether the hidden attribute is set for the zipfile?
 > (which would be a mystery of its own)

No, I can only check attributes of files which are displayed by
Windows.  Emacs only shows the permission bits and file owner.

The curious thing is that it worked some time ago and I didn't change
anything.  I'm using Windows only occasionally.  Most of the time I'm
using CentOS under vmware.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From pdickeybeta at gmail.com  Sat Aug 25 21:52:00 2012
From: pdickeybeta at gmail.com (Patrick Dickey)
Date: Sat, 25 Aug 2012 14:52:00 -0500
Subject: [tex-live] Question about Symlinks and the install-tl script
	(linux/unix)
Message-ID: <1345924320.3545.20.camel@dcky-ubuntu64>

Hello everyone,

I'm curious if there's a specific reason why symlinks are not activated
by default in the install-tl script.  (Option O then option L in the
script menu). This happens both when you run it as a regular user or
sudo (in linux at least).

Thanks, and have a great weekend.:)
Patrick.


From karl at freefriends.org  Sat Aug 25 23:37:30 2012
From: karl at freefriends.org (Karl Berry)
Date: Sat, 25 Aug 2012 21:37:30 +0000
Subject: [tex-live] Question about Symlinks and the install-tl
	script	(linux/unix)
In-Reply-To: <1345924320.3545.20.camel@dcky-ubuntu64>
Message-ID: <201208252137.q7PLbUk2010227@freefriends.org>

Hi Patrick,

    I'm curious if there's a specific reason why symlinks are not activated
    by default

Yes, there is: it would be wrong to mess with the user's system
directories by default.

All the best,
k

From siepo at cybercomm.nl  Sun Aug 26 11:25:56 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sun, 26 Aug 2012 11:25:56 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20537.14624.147579.359718@zaphod.ms25.net>
References: <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
 <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal>
 <5037AB8C.4020105@imf.au.dk>
 <20120824185516.GA1607@bitmuis.thuis.internal>
 <20536.13480.280402.392560@zaphod.ms25.net>
 <20120825090215.GA2675@bitmuis.thuis.internal>
 <20537.14624.147579.359718@zaphod.ms25.net>
Message-ID: <20120826092556.GB1704@bitmuis.thuis.internal>

On Sat, Aug 25, 2012 at 10:44:16PM +0200, Reinhard Kotucha wrote:
> On 2012-08-25 at 11:02:15 +0200, Siep Kroonenberg wrote:
> 
>  > On Sat, Aug 25, 2012 at 04:12:56AM +0200, Reinhard Kotucha wrote:
>  > > On 2012-08-24 at 20:55:16 +0200, Siep Kroonenberg wrote:
>  > > 
>  > >  > On Fri, Aug 24, 2012 at 06:27:56PM +0200, Lars Madsen wrote:
>  > >  > > Siep Kroonenberg wrote, On 2012-08-24 18:18:
>  > >  > > >On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
>  > >  > > >>Siep Kroonenberg wrote, On 2012-08-24 15:04:
>  > >  > > >>>On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
>  > >  > > >>>>Lars Madsen wrote, On 2012-08-24 09:49:
>  > >  > > >>>>>Karl Berry wrote, On 2012-08-23 23:57:
>  > > 
>  > > I installed a cicuit simulator on W7 and created a few files in order
>  > > to define simulations.  It worked fine.  But when I tried to run
>  > > exactly the same simulations a few weeks later, the program complained
>  > > that none of the files I created myself exist.  And indeed, neither
>  > > dir (cmd.exe) nor the Exploder displayed them.
>  > > 
>  > > At a first glance I thought that the files got lost.  But Emacs in
>  > > dired-mode shows them all.  Emacs even allows me to copy/move/delete
>  > > these "non-existent" files.  
>  > >  
>  > > Hence it would be quite helpful to know whether texlive.profile
>  > > exists physically.  But you can't use Windows tools in order to find
>  > > out whether a file exists or not. 
>  > > 
>  > > Another thing I can reproduce on Windows 7 reliably:
>  > > 
>  > >   Go to %ProgramFiles% and run 
>  > > 
>  > >     zip -r foo.zip foo
>  > > 
>  > > The file foo.zip doesn't appear in any directory listing, neither
>  > > cmd.exe nor the Exploder displays it.  But it definitely exists.  You
>  > > need Emacs in order to access "non-existent" files under Windows.
>  > > 
>  > > Regards,
>  > >   Reinhard
>  > 
>  > On my XP-and W7 vm's the zipfile is visible.
>  > 
>  > Can you check whether the hidden attribute is set for the zipfile?
>  > (which would be a mystery of its own)
> 
> No, I can only check attributes of files which are displayed by
> Windows.  Emacs only shows the permission bits and file owner.

Some 3rd-party file managers can display attributes. I use an
antique free beta of Servant Salamander for this purpose.

Also, `dir /ah' will display the invisible files. And in Windows
Explorer, you can select Tools / Folder Options, and on de View tab
you can make hidden files and `Protected operating system files'
visible. The hidden files are shown with a faded icon.

-- 
Siep Kroonenberg

From brade at kde.org  Sat Aug 25 23:41:17 2012
From: brade at kde.org (Michael Brade)
Date: Sat, 25 Aug 2012 23:41:17 +0200
Subject: [tex-live] xindy with "-I xindy" broke with the latest update on
	linux
Message-ID: <201208252341.18139.brade@kde.org>

Hi,

took me a while to figure this one out: makeglossaries broke lately, the reason 
being that "xindy -I xindy ..." fails with something like

command: /usr/local/texlive/bin/x86_64-linux/xindy.run -M 
/usr/local/texlive/bin/x86_64-linux/xindy.mem -E iso-8859-1 -x (progn
  (searchpath 
".:/usr/local/texlive/texmf/xindy/modules:/usr/local/texlive/texmf/xindy/modules/base")
  (xindy:startup
    :idxstyle "/tmp/SO6I_sq8ua"
    :rawindex /tmp/6qdn8OM9Y7
    :output "test.ind"
    :logfile "test.ilg"
    
    :trace-level 3)
  (exit))

*** - PROGN: variable /TMP/6QDN8OM9Y7 has no value

I.e., the /tmp-path is uppercased. Turned out that the missing quotes around 
the filename were the reason, this patch did it for me:


--- /usr/local/texlive/texmf/scripts/xindy/xindy.pl.orig        2012-08-25 
23:25:27.258479003 +0200
+++ /usr/local/texlive/texmf/scripts/xindy/xindy.pl     2012-08-25 
23:25:06.095479000 +0200
@@ -505,6 +505,8 @@
        $filter_cmd = "$cmd_dir/tex2xindy";
     } elsif ( $input_markup eq 'omega' ) {
        $filter_cmd = "$cmd_dir/tex2xindy -o";
+    } else {
+       $raw_index = quotify($raw_index);
     }
     $raw_index = filter_index ($filter_cmd, $raw_index)
       if $filter_cmd;

Used to work all the time, so something must have broken it.

cheers,
  Michael

PS: I am not subscribed to this list, so please CC me on replies.

From kakuto at fuk.kindai.ac.jp  Sun Aug 26 16:45:08 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 26 Aug 2012 23:45:08 +0900
Subject: [tex-live] xindy with "-I xindy" broke with the latest update
	on linux
In-Reply-To: <201208252341.18139.brade@kde.org>
References: <201208252341.18139.brade@kde.org>
Message-ID: <134599230866481800004264@sniffer>

Dear Michael,

> took me a while to figure this one out: makeglossaries broke lately, the reason 
> being that "xindy -I xindy ..." fails with something like

I think it was fixed in r27520.
Try it in the next update.

Thanks,
Akira


From reinhard.kotucha at web.de  Mon Aug 27 01:44:59 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 27 Aug 2012 01:44:59 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20120826092556.GB1704@bitmuis.thuis.internal>
References: <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal>
 <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal>
 <5037AB8C.4020105@imf.au.dk>
 <20120824185516.GA1607@bitmuis.thuis.internal>
 <20536.13480.280402.392560@zaphod.ms25.net>
 <20120825090215.GA2675@bitmuis.thuis.internal>
 <20537.14624.147579.359718@zaphod.ms25.net>
 <20120826092556.GB1704@bitmuis.thuis.internal>
Message-ID: <20538.46331.599878.821863@zaphod.ms25.net>

On 2012-08-26 at 11:25:56 +0200, Siep Kroonenberg wrote:

 > On Sat, Aug 25, 2012 at 10:44:16PM +0200, Reinhard Kotucha wrote:
 > > On 2012-08-25 at 11:02:15 +0200, Siep Kroonenberg wrote:
 > > 
 > >  > On Sat, Aug 25, 2012 at 04:12:56AM +0200, Reinhard Kotucha wrote:
 > >  > > On 2012-08-24 at 20:55:16 +0200, Siep Kroonenberg wrote:
 > >  > > 
 > >  > >  > On Fri, Aug 24, 2012 at 06:27:56PM +0200, Lars Madsen wrote:
 > >  > >  > > Siep Kroonenberg wrote, On 2012-08-24 18:18:
 > >  > >  > > >On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
 > >  > >  > > >>Siep Kroonenberg wrote, On 2012-08-24 15:04:
 > >  > >  > > >>>On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
 > >  > >  > > >>>>Lars Madsen wrote, On 2012-08-24 09:49:
 > >  > >  > > >>>>>Karl Berry wrote, On 2012-08-23 23:57:
 > >  > > 
 > >  > > I installed a cicuit simulator on W7 and created a few files in order
 > >  > > to define simulations.  It worked fine.  But when I tried to run
 > >  > > exactly the same simulations a few weeks later, the program complained
 > >  > > that none of the files I created myself exist.  And indeed, neither
 > >  > > dir (cmd.exe) nor the Exploder displayed them.
 > >  > > 
 > >  > > At a first glance I thought that the files got lost.  But Emacs in
 > >  > > dired-mode shows them all.  Emacs even allows me to copy/move/delete
 > >  > > these "non-existent" files.  
 > >  > >  
 > >  > > Hence it would be quite helpful to know whether texlive.profile
 > >  > > exists physically.  But you can't use Windows tools in order to find
 > >  > > out whether a file exists or not. 
 > >  > > 
 > >  > > Another thing I can reproduce on Windows 7 reliably:
 > >  > > 
 > >  > >   Go to %ProgramFiles% and run 
 > >  > > 
 > >  > >     zip -r foo.zip foo
 > >  > > 
 > >  > > The file foo.zip doesn't appear in any directory listing, neither
 > >  > > cmd.exe nor the Exploder displays it.  But it definitely exists.  You
 > >  > > need Emacs in order to access "non-existent" files under Windows.
 > >  > > 
 > >  > > Regards,
 > >  > >   Reinhard
 > >  > 
 > >  > On my XP-and W7 vm's the zipfile is visible.
 > >  > 
 > >  > Can you check whether the hidden attribute is set for the zipfile?
 > >  > (which would be a mystery of its own)
 > > 
 > > No, I can only check attributes of files which are displayed by
 > > Windows.  Emacs only shows the permission bits and file owner.
 > 
 > Some 3rd-party file managers can display attributes. I use an
 > antique free beta of Servant Salamander for this purpose.
 > 
 > Also, `dir /ah' will display the invisible files. And in Windows
 > Explorer, you can select Tools / Folder Options, and on de View tab
 > you can make hidden files and `Protected operating system files'
 > visible. The hidden files are shown with a faded icon.

I already tried to make hidden files visible as you proposed but it
didn't change anything.  It's a matter of fact that I'm not very
familiar with Windows and therefore asked a colleague.  He was quite
optimistic at the beginning but gave up soon.

Maybe 3rd-party tools are helpful, but I'm on leave until next month
and can't investigate anything.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From pdickeybeta at gmail.com  Mon Aug 27 12:42:33 2012
From: pdickeybeta at gmail.com (Patrick Dickey)
Date: Mon, 27 Aug 2012 05:42:33 -0500
Subject: [tex-live] xindy in Linux (r27520 update question)
In-Reply-To: <mailman.7.1346061601.14822.tex-live@tug.org>
References: <mailman.7.1346061601.14822.tex-live@tug.org>
Message-ID: <1346064153.6454.36.camel@dcky-ubuntu64>



On Mon, 2012-08-27 at 12:00 +0200, tex-live-request at tug.org wrote:

> Message: 2
> Date: Sun, 26 Aug 2012 23:45:08 +0900
> From: Akira Kakuto <kakuto at fuk.kindai.ac.jp>
> To: Michael Brade <brade at kde.org>
> Cc: tex-live at tug.org
> Subject: Re: [tex-live] xindy with "-I xindy" broke with the latest
> 	update	on linux
> Message-ID: <134599230866481800004264 at sniffer>
> Content-Type: text/plain; charset="iso-2022-jp"
> 
> Dear Michael,
> 
> > took me a while to figure this one out: makeglossaries broke lately, the reason 
> > being that "xindy -I xindy ..." fails with something like
> 
> I think it was fixed in r27520.
> Try it in the next update.
> 
> Thanks,
> Akira
> 
> 
> 
> ------------------------------

Will the next update come automatically, or do people have to reinstall
TexLive? I'm asking, because we use it for the Ubuntu Manual project,
and a few people have had issues with xindy (hit or miss issues). So
they'll be interested in knowing whether this will drop automatically or
if they need to do something to get it.

Thanks, and have a great day:)
Patrick.


From daleif at imf.au.dk  Mon Aug 27 15:28:17 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Mon, 27 Aug 2012 15:28:17 +0200
Subject: [tex-live] xindy in Linux (r27520 update question)
In-Reply-To: <1346064153.6454.36.camel@dcky-ubuntu64>
References: <mailman.7.1346061601.14822.tex-live@tug.org>
 <1346064153.6454.36.camel@dcky-ubuntu64>
Message-ID: <503B75F1.6000608@imf.au.dk>

Patrick Dickey wrote, On 2012-08-27 12:42:
> 
> On Mon, 2012-08-27 at 12:00 +0200, tex-live-request at tug.org wrote:
> 
>> Message: 2
>> Date: Sun, 26 Aug 2012 23:45:08 +0900
>> From: Akira Kakuto <kakuto at fuk.kindai.ac.jp>
>> To: Michael Brade <brade at kde.org>
>> Cc: tex-live at tug.org
>> Subject: Re: [tex-live] xindy with "-I xindy" broke with the latest
>> 	update	on linux
>> Message-ID: <134599230866481800004264 at sniffer>
>> Content-Type: text/plain; charset="iso-2022-jp"
>>
>> Dear Michael,
>>
>>> took me a while to figure this one out: makeglossaries broke lately, the reason 
>>> being that "xindy -I xindy ..." fails with something like
>> I think it was fixed in r27520.
>> Try it in the next update.
>>
>> Thanks,
>> Akira
>>
>>
>>
>> ------------------------------
> 
> Will the next update come automatically, or do people have to reinstall
> TexLive? I'm asking, because we use it for the Ubuntu Manual project,
> and a few people have had issues with xindy (hit or miss issues). So
> they'll be interested in knowing whether this will drop automatically or
> if they need to do something to get it.
> 
> Thanks, and have a great day:)
> Patrick.
> 

Depends

* if you are using the TUG TeX Live, then the fix will be available 
within a few days can you can use the tlmgr tool to update your TeX Live.

* if not .... no idea


-- 

/daleif

From dluecking at sbcglobal.net  Mon Aug 27 15:28:36 2012
From: dluecking at sbcglobal.net (Dan Luecking)
Date: Mon, 27 Aug 2012 08:28:36 -0500
Subject: [tex-live] Unattended TL install
Message-ID: <154384.96777.bm@smtp113.sbc.mail.bf1.yahoo.com>

Reinhard Kotucha 
<mailto:tex-live%40tug.org?Subject=Re%3A%20%5Btex-live%5D%20Unattended%20TL%20install&In-Reply-To=%3C20536.13480.280402.392560%40zaphod.ms25.net%3E>reinhard.kotucha 
at web.de
(Sat Aug 25 04:12:56 CEST 2012) wrote

>Another thing I can reproduce on Windows 7 reliably:
>
>   Go to %ProgramFiles% and run
>
>     zip -r foo.zip foo
>
>The file foo.zip doesn't appear in any directory listing, neither
>cmd.exe nor the Exploder displays it.  But it definitely exists.  You
>need Emacs in order to access "non-existent" files under Windows.

Windows explorer file listings display zip files (and other
recognized archive formats) with a folder icon. Perhaps you
are simply passing over the folders and don't notice it.

I can see all my zip files and the dir command in a cmd shell
exhibits them as files.

Dan


Daniel H. Luecking
Department of Mathematical Sciences
Fayetteville, Arkansas
http://www-cs-faculty.stanford.edu/~knuth/iaq.html 



From pdickeybeta at gmail.com  Mon Aug 27 23:42:58 2012
From: pdickeybeta at gmail.com (Patrick Dickey)
Date: Mon, 27 Aug 2012 16:42:58 -0500
Subject: [tex-live] xindy in Linux (r27520 update question)
In-Reply-To: <503B75F1.6000608@imf.au.dk>
References: <mailman.7.1346061601.14822.tex-live@tug.org>
 <1346064153.6454.36.camel@dcky-ubuntu64>
 <503B75F1.6000608@imf.au.dk>
Message-ID: <CAAWYQkhhD8rBbXSYN3pEMZTj5=jH3=ozr_6zWMi5iyNvGfpH2A@mail.gmail.com>

Thank you. I know some people are using the TexLive installation, and
others have downloaded it through the PPA on Ubuntu.  I'll pass the word on
to them.

Have a great day:)
Patrick.

On Mon, Aug 27, 2012 at 8:28 AM, Lars Madsen <daleif at imf.au.dk> wrote:

> Patrick Dickey wrote, On 2012-08-27 12:42:
>
>
>> On Mon, 2012-08-27 at 12:00 +0200, tex-live-request at tug.org wrote:
>>
>> Message: 2
>>> Date: Sun, 26 Aug 2012 23:45:08 +0900
>>> From: Akira Kakuto <kakuto at fuk.kindai.ac.jp>
>>> To: Michael Brade <brade at kde.org>
>>> Cc: tex-live at tug.org
>>> Subject: Re: [tex-live] xindy with "-I xindy" broke with the latest
>>>         update  on linux
>>> Message-ID: <134599230866481800004264@**sniffer>
>>> Content-Type: text/plain; charset="iso-2022-jp"
>>>
>>> Dear Michael,
>>>
>>> took me a while to figure this one out: makeglossaries broke lately, the
>>>> reason being that "xindy -I xindy ..." fails with something like
>>>>
>>> I think it was fixed in r27520.
>>> Try it in the next update.
>>>
>>> Thanks,
>>> Akira
>>>
>>>
>>>
>>> ------------------------------
>>>
>>
>> Will the next update come automatically, or do people have to reinstall
>> TexLive? I'm asking, because we use it for the Ubuntu Manual project,
>> and a few people have had issues with xindy (hit or miss issues). So
>> they'll be interested in knowing whether this will drop automatically or
>> if they need to do something to get it.
>>
>> Thanks, and have a great day:)
>> Patrick.
>>
>>
> Depends
>
> * if you are using the TUG TeX Live, then the fix will be available within
> a few days can you can use the tlmgr tool to update your TeX Live.
>
> * if not .... no idea
>
>
> --
>
> /daleif
>



-- 
Smile.. Someone out there cares deeply for you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20120827/e510a40d/attachment.html>

From daleif at imf.au.dk  Tue Aug 28 11:39:59 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 28 Aug 2012 11:39:59 +0200
Subject: [tex-live] Regarding anti virus
Message-ID: <503C91EF.7040901@imf.au.dk>

This is just for the archives...


There were some discussion about anti virus the other day.

We just had reports in another one.

Win 7 64-bits, install-tl.bat failed (perl.exe stopped working), 
presumably it was a Danish Win 7.

I asked the user to either disable any anti virus or use 
install-tl-advanded.bat

The user disabled anti virus and was able to install, presumable using 
install-tl.bat (though I'm not sure about this).

I asked about which anti virus it was:

microsoft security essentials




-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From siepo at cybercomm.nl  Tue Aug 28 12:35:07 2012
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Tue, 28 Aug 2012 12:35:07 +0200
Subject: [tex-live] Regarding anti virus
In-Reply-To: <503C91EF.7040901@imf.au.dk>
References: <503C91EF.7040901@imf.au.dk>
Message-ID: <20120828103507.GA1822@bitmuis.thuis.internal>

On Tue, Aug 28, 2012 at 11:39:59AM +0200, Lars Madsen wrote:
> This is just for the archives...
> 
> 
> There were some discussion about anti virus the other day.
> 
> We just had reports in another one.
> 
> Win 7 64-bits, install-tl.bat failed (perl.exe stopped working),
> presumably it was a Danish Win 7.
> 
> I asked the user to either disable any anti virus or use
> install-tl-advanded.bat
> 
> The user disabled anti virus and was able to install, presumable
> using install-tl.bat (though I'm not sure about this).
> 
> I asked about which anti virus it was:
> 
> microsoft security essentials

Thanks for reporting.

-- 
Siep Kroonenberg

From pander at users.sourceforge.net  Tue Aug 28 14:20:57 2012
From: pander at users.sourceforge.net (Pander)
Date: Tue, 28 Aug 2012 14:20:57 +0200
Subject: [tex-live] Regarding anti virus
In-Reply-To: <20120828103507.GA1822@bitmuis.thuis.internal>
References: <503C91EF.7040901@imf.au.dk>
 <20120828103507.GA1822@bitmuis.thuis.internal>
Message-ID: <503CB7A9.1000803@users.sourceforge.net>

On 2012-08-28 12:35, Siep Kroonenberg wrote:
> On Tue, Aug 28, 2012 at 11:39:59AM +0200, Lars Madsen wrote:
>> This is just for the archives...
>>
>>
>> There were some discussion about anti virus the other day.
>>
>> We just had reports in another one.
>>
>> Win 7 64-bits, install-tl.bat failed (perl.exe stopped working),
>> presumably it was a Danish Win 7.
>>
>> I asked the user to either disable any anti virus or use
>> install-tl-advanded.bat
>>
>> The user disabled anti virus and was able to install, presumable
>> using install-tl.bat (though I'm not sure about this).
>>
>> I asked about which anti virus it was:
>>
>> microsoft security essentials
> 
> Thanks for reporting.
> 

I just did a check with clamtk on installation of 2012 on 64-bit Linux.
Please see the attachment for the probable harmless results.
Perhaps this check can be incorporated in the yearly release process of
TeX Live
-------------- next part --------------
A non-text attachment was scrubbed...
Name: clamtk.jpg
Type: image/jpeg
Size: 207970 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20120828/0ce47870/attachment-0001.jpg>

From R.M.Krug at gmail.com  Tue Aug 28 10:14:54 2012
From: R.M.Krug at gmail.com (Rainer M Krug)
Date: Tue, 28 Aug 2012 10:14:54 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
Message-ID: <k1hum4$2ui$1@ger.gmane.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi

I guess tis is a simple question, but here it is.

I would like to update all my installed texlive packages via commandline.

I tried:


> tlmgr update all

and it told me, that there are no packages to be updated.
Then I used the GUI:

> tlmgr --gui

and selected "Update all installed"

and a few packages were updated.


So: How can I do this "Update all installed" fromm the commandline? I guess, that I have to add
one option to load from CRAN the package information data, but how can I do this friom the command
line?


OS: Ubuntu Precise Pangolin, texlive self installed in home directory.

Thanks,

Rainer
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://www.enigmail.net/

iEYEARECAAYFAlA8ff0ACgkQoYgNqgF2ego7OACfS1mNnikPTwRsPw0XWf0pmuQ+
G5UAn0zAnkstbxr/sPIxECoOEnn13JuU
=bbDV
-----END PGP SIGNATURE-----


From komascript at gmx.info  Tue Aug 28 15:29:17 2012
From: komascript at gmx.info (Markus Kohm)
Date: Tue, 28 Aug 2012 15:29:17 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <k1hum4$2ui$1@ger.gmane.org>
References: <k1hum4$2ui$1@ger.gmane.org>
Message-ID: <1570579.AgRQlZI65C@mailjo.komascript.de>

> So: How can I do this "Update all installed" fromm the commandline? I

tlmgr update --self --all

Markus Kohm
-- 
KOMA-Script, a versatile bundle of classes and packages for LaTeX2e
Current: KOMA-Script 3.11b (see <http://www.komascript.de/release> in German)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20120828/d2b34f73/attachment.bin>

From daleif at imf.au.dk  Tue Aug 28 15:29:38 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 28 Aug 2012 15:29:38 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <k1hum4$2ui$1@ger.gmane.org>
References: <k1hum4$2ui$1@ger.gmane.org>
Message-ID: <503CC7C2.5020808@imf.au.dk>

Rainer M Krug wrote, On 2012-08-28 10:14:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Hi
> 
> I guess tis is a simple question, but here it is.
> 
> I would like to update all my installed texlive packages via commandline.
> 
> I tried:
> 
> 
>> tlmgr update all
> 
> and it told me, that there are no packages to be updated.
> Then I used the GUI:
> 
>> tlmgr --gui
> 
> and selected "Update all installed"
> 
> and a few packages were updated.

tlmgr update --all --self

is what I normally use (assuming you are using TUG TL12)




> 
> 
> So: How can I do this "Update all installed" fromm the commandline? I guess, that I have to add
> one option to load from CRAN the package information data, but how can I do this friom the command
> line?
> 
> 
> OS: Ubuntu Precise Pangolin, texlive self installed in home directory.
> 
> Thanks,
> 
> Rainer
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.11 (GNU/Linux)
> Comment: Using GnuPG with Mozilla - http://www.enigmail.net/
> 
> iEYEARECAAYFAlA8ff0ACgkQoYgNqgF2ego7OACfS1mNnikPTwRsPw0XWf0pmuQ+
> G5UAn0zAnkstbxr/sPIxECoOEnn13JuU
> =bbDV
> -----END PGP SIGNATURE-----
> 


-- 

/daleif

From preining at logic.at  Tue Aug 28 17:02:45 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 29 Aug 2012 00:02:45 +0900
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <k1hum4$2ui$1@ger.gmane.org>
References: <k1hum4$2ui$1@ger.gmane.org>
Message-ID: <20120828150245.GD19598@gamma.logic.tuwien.ac.at>

On Di, 28 Aug 2012, Rainer M Krug wrote:
> > tlmgr update all

In addition to th two answers you already got, why didn't you try
	tlgr --help
or
	tlmgr help
and read down a few lines to the
	EXAMPLES
section?

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
KERRY (n.)
The small twist of skin which separated each sausage on a string.
			--- Douglas Adams, The Meaning of Liff

From P.Taylor at rhul.ac.uk  Tue Aug 28 17:11:40 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Tue, 28 Aug 2012 16:11:40 +0100
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
Message-ID: <503CDFAC.6010101@Rhul.Ac.Uk>



Norbert Preining wrote:

> On Di, 28 Aug 2012, Rainer M Krug wrote:
>>> tlmgr update all
>
> In addition to th two answers you already got, why didn't you try
> 	tl[m]gr --help
> or
> 	tlmgr help
> and read down a few lines to the
> 	EXAMPLES
> section?

One very good reason for not doing so in Windows 7 / TeX Live 2011
is that the output is evanescent and ephemeral : a black CMD box
appears, scrolls at high speed, then vanishes like the morning dew,
leaving not a trace behind.

Philip Taylor

From daleif at imf.au.dk  Tue Aug 28 17:17:15 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 28 Aug 2012 17:17:15 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <503CDFAC.6010101@Rhul.Ac.Uk>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
 <503CDFAC.6010101@Rhul.Ac.Uk>
Message-ID: <503CE0FB.1040603@imf.au.dk>

Philip TAYLOR wrote, On 2012-08-28 17:11:
> 
> 
> Norbert Preining wrote:
> 
>> On Di, 28 Aug 2012, Rainer M Krug wrote:
>>>> tlmgr update all
>>
>> In addition to th two answers you already got, why didn't you try
>>     tl[m]gr --help
>> or
>>     tlmgr help
>> and read down a few lines to the
>>     EXAMPLES
>> section?
> 
> One very good reason for not doing so in Windows 7 / TeX Live 2011
> is that the output is evanescent and ephemeral : a black CMD box
> appears, scrolls at high speed, then vanishes like the morning dew,
> leaving not a trace behind.
> 
> Philip Taylor

There is quite a big difference in executing the command via the Windows 
  'Run command' option and actually executing it within the windows 
command prompt.

You have the same problem with 'texdoc -l'

I have no idea whether it is possible to actually detect the difference 
between the two.


-- 

/daleif

From P.Taylor at rhul.ac.uk  Tue Aug 28 17:28:08 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Tue, 28 Aug 2012 16:28:08 +0100
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <503CE0FB.1040603@imf.au.dk>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
 <503CDFAC.6010101@Rhul.Ac.Uk> <503CE0FB.1040603@imf.au.dk>
Message-ID: <503CE388.6090305@Rhul.Ac.Uk>



Lars Madsen wrote:

> There is quite a big difference in executing the command via the Windows
>   'Run command' option and actually executing it within the windows
> command prompt.

 > You have the same problem with 'texdoc -l'

I agree.  But the naive user (and even the no-so-naive) user
cannot be expected to know, a priori, that he or she needs
to launch a separate CMD session before being able to use
either of those commands successfully.

> I have no idea whether it is possible to actually detect the difference
> between the two.

Nor have I, but I very much suspect that it is.  Unfortunately
it appears to be a .exe, so I cannot experiment to see how
hard or difficult it might be to detect the difference.

** Phil.

From plantz at cds1.net  Tue Aug 28 18:55:21 2012
From: plantz at cds1.net (Bob Plantz)
Date: Tue, 28 Aug 2012 09:55:21 -0700
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <503CE388.6090305@Rhul.Ac.Uk>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
 <503CDFAC.6010101@Rhul.Ac.Uk> <503CE0FB.1040603@imf.au.dk>
 <503CE388.6090305@Rhul.Ac.Uk>
Message-ID: <503CF7F9.7030404@cds1.net>

On 8/28/2012 8:28 AM, Philip TAYLOR wrote:
>
>
> Lars Madsen wrote:
>
>> There is quite a big difference in executing the command via the Windows
>>   'Run command' option and actually executing it within the windows
>> command prompt.
>
> > You have the same problem with 'texdoc -l'
>
> I agree.  But the naive user (and even the no-so-naive) user
> cannot be expected to know, a priori, that he or she needs
> to launch a separate CMD session before being able to use
> either of those commands successfully.
>
Perhaps a note in the documentation would help. For example, at 
http://tug.org/texlive/doc/tlmgr.html#examples something like, "Note: 
tlmgr must be run from the command line; use Command Prompt in Windows."

I note here that, at least in my experience including myself, a naive 
user is more apt to read the documentation than a not-to-naive user. ;-)

--Bob


From daleif at imf.au.dk  Tue Aug 28 19:34:13 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 28 Aug 2012 19:34:13 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <503CF7F9.7030404@cds1.net>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
 <503CDFAC.6010101@Rhul.Ac.Uk> <503CE0FB.1040603@imf.au.dk>
 <503CE388.6090305@Rhul.Ac.Uk> <503CF7F9.7030404@cds1.net>
Message-ID: <503D0115.5010900@imf.au.dk>

On 08/28/2012 06:55 PM, Bob Plantz wrote:
> On 8/28/2012 8:28 AM, Philip TAYLOR wrote:
>>
>>
>> Lars Madsen wrote:
>>
>>> There is quite a big difference in executing the command via the Windows
>>>   'Run command' option and actually executing it within the windows
>>> command prompt.
>>
>> > You have the same problem with 'texdoc -l'
>>
>> I agree.  But the naive user (and even the no-so-naive) user
>> cannot be expected to know, a priori, that he or she needs
>> to launch a separate CMD session before being able to use
>> either of those commands successfully.
>>
> Perhaps a note in the documentation would help. For example, at
> http://tug.org/texlive/doc/tlmgr.html#examples something like, "Note:
> tlmgr must be run from the command line; use Command Prompt in Windows."
>
> I note here that, at least in my experience including myself, a naive
> user is more apt to read the documentation than a not-to-naive user. ;-)
>
> --Bob
>

but a naive user now a days do not know the difference between the 'run 
command' function and the command prompt. Most users have never even 
been through the 'utilities' (or whereever the command promt lives) sub 
menu, so they'll never know.



From r.m.krug at gmail.com  Tue Aug 28 20:21:19 2012
From: r.m.krug at gmail.com (Rainer M Krug)
Date: Tue, 28 Aug 2012 20:21:19 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <1570579.AgRQlZI65C@mailjo.komascript.de>
References: <k1hum4$2ui$1@ger.gmane.org>
 <1570579.AgRQlZI65C@mailjo.komascript.de>
Message-ID: <503D0C1F.2090103@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 28/08/12 15:29, Markus Kohm wrote:
>> So: How can I do this "Update all installed" fromm the commandline? I
> 
> tlmgr update --self --all


Ah - the "--" in front of the "all"
That should do it.

Thanks,
Rainer


> 
> Markus Kohm
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://www.enigmail.net/

iEYEARECAAYFAlA9DB8ACgkQoYgNqgF2egpHpQCfSKs1ZhDW+uVHPzjCCBZ2UZn6
254AnRZGjCa3AonO8zdoWjMHEyZtyNs6
=i+a0
-----END PGP SIGNATURE-----

From R.M.Krug at gmail.com  Tue Aug 28 20:21:19 2012
From: R.M.Krug at gmail.com (Rainer M Krug)
Date: Tue, 28 Aug 2012 20:21:19 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <1570579.AgRQlZI65C@mailjo.komascript.de>
References: <k1hum4$2ui$1@ger.gmane.org>
 <1570579.AgRQlZI65C@mailjo.komascript.de>
Message-ID: <503D0C1F.2090103@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 28/08/12 15:29, Markus Kohm wrote:
>> So: How can I do this "Update all installed" fromm the commandline? I
> 
> tlmgr update --self --all


Ah - the "--" in front of the "all"
That should do it.

Thanks,
Rainer


> 
> Markus Kohm
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://www.enigmail.net/

iEYEARECAAYFAlA9DB8ACgkQoYgNqgF2egpHpQCfSKs1ZhDW+uVHPzjCCBZ2UZn6
254AnRZGjCa3AonO8zdoWjMHEyZtyNs6
=i+a0
-----END PGP SIGNATURE-----


From r.m.krug at gmail.com  Tue Aug 28 20:24:54 2012
From: r.m.krug at gmail.com (Rainer M Krug)
Date: Tue, 28 Aug 2012 20:24:54 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
Message-ID: <503D0CF6.7020104@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 28/08/12 17:02, Norbert Preining wrote:
> On Di, 28 Aug 2012, Rainer M Krug wrote:
>>> tlmgr update all
> 
> In addition to th two answers you already got, why didn't you try tlgr --help or tlmgr help and
> read down a few lines to the EXAMPLES section?

Well - if I do tlmgr --help (and believe me - I tried it), I get:


#!/usr/bin/env perl
# $Id: tlmgr.pl 27413 2012-08-15 22:26:59Z karl $
#
# Copyright 2008, 2009, 2010, 2011, 2012 Norbert Preining
# This file is licensed under the GNU General Public License version 2
# or any later version.

my $svnrev = '$Revision: 27413 $';
my $datrev = '$Date: 2012-08-16 00:26:59 +0200 (Thu, 16 Aug 2012) $';
my $tlmgrrevision;
my $prg;
if ($svnrev =~ m/: ([0-9]+) /) {
  $tlmgrrevision = $1;
} else {
  $tlmgrrevision = "unknown";
}
...

in other words, the tlmgr script.

I should have filed a bug report, but tlmgr worked.

> tlmgr --version
tlmgr revision 27413 (2012-08-16 00:26:59 +0200)
tlmgr using installation: /home/rkrug/texlive/2012
TeX Live (http://tug.org/texlive) version 2012


Cheers,

Rainer

> 
> Best wishes
> 
> Norbert ------------------------------------------------------------------------ Norbert
> Preining            preining@{jaist.ac.jp, logic.at, debian.org} JAIST, Japan
> TeX Live & Debian Developer DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5
> B094 ------------------------------------------------------------------------ KERRY (n.) The
> small twist of skin which separated each sausage on a string. --- Douglas Adams, The Meaning of
> Liff
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://www.enigmail.net/

iEYEARECAAYFAlA9DPUACgkQoYgNqgF2egqU2gCeIS2dGE2q5kxRx8eczCbNQeHZ
QiUAn2bKFV8x7qvqbedoSkUkz6RbDlUp
=BARK
-----END PGP SIGNATURE-----

From R.M.Krug at gmail.com  Tue Aug 28 20:24:54 2012
From: R.M.Krug at gmail.com (Rainer M Krug)
Date: Tue, 28 Aug 2012 20:24:54 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
Message-ID: <503D0CF6.7020104@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 28/08/12 17:02, Norbert Preining wrote:
> On Di, 28 Aug 2012, Rainer M Krug wrote:
>>> tlmgr update all
> 
> In addition to th two answers you already got, why didn't you try tlgr --help or tlmgr help and
> read down a few lines to the EXAMPLES section?

Well - if I do tlmgr --help (and believe me - I tried it), I get:


#!/usr/bin/env perl
# $Id: tlmgr.pl 27413 2012-08-15 22:26:59Z karl $
#
# Copyright 2008, 2009, 2010, 2011, 2012 Norbert Preining
# This file is licensed under the GNU General Public License version 2
# or any later version.

my $svnrev = '$Revision: 27413 $';
my $datrev = '$Date: 2012-08-16 00:26:59 +0200 (Thu, 16 Aug 2012) $';
my $tlmgrrevision;
my $prg;
if ($svnrev =~ m/: ([0-9]+) /) {
  $tlmgrrevision = $1;
} else {
  $tlmgrrevision = "unknown";
}
...

in other words, the tlmgr script.

I should have filed a bug report, but tlmgr worked.

> tlmgr --version
tlmgr revision 27413 (2012-08-16 00:26:59 +0200)
tlmgr using installation: /home/rkrug/texlive/2012
TeX Live (http://tug.org/texlive) version 2012


Cheers,

Rainer

> 
> Best wishes
> 
> Norbert ------------------------------------------------------------------------ Norbert
> Preining            preining@{jaist.ac.jp, logic.at, debian.org} JAIST, Japan
> TeX Live & Debian Developer DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5
> B094 ------------------------------------------------------------------------ KERRY (n.) The
> small twist of skin which separated each sausage on a string. --- Douglas Adams, The Meaning of
> Liff
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://www.enigmail.net/

iEYEARECAAYFAlA9DPUACgkQoYgNqgF2egqU2gCeIS2dGE2q5kxRx8eczCbNQeHZ
QiUAn2bKFV8x7qvqbedoSkUkz6RbDlUp
=BARK
-----END PGP SIGNATURE-----


From daleif at imf.au.dk  Tue Aug 28 22:47:54 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 28 Aug 2012 22:47:54 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <503D0CF6.7020104@gmail.com>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
 <503D0CF6.7020104@gmail.com>
Message-ID: <503D2E7A.2080508@imf.au.dk>

On 2012-08-28 20:24, Rainer M Krug wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> On 28/08/12 17:02, Norbert Preining wrote:
>> On Di, 28 Aug 2012, Rainer M Krug wrote:
>>>> tlmgr update all
>>
>> In addition to th two answers you already got, why didn't you try tlgr --help or tlmgr help and
>> read down a few lines to the EXAMPLES section?
>
> Well - if I do tlmgr --help (and believe me - I tried it), I get:
>
>
> #!/usr/bin/env perl
> # $Id: tlmgr.pl 27413 2012-08-15 22:26:59Z karl $
> #
> # Copyright 2008, 2009, 2010, 2011, 2012 Norbert Preining
> # This file is licensed under the GNU General Public License version 2
> # or any later version.
>
> my $svnrev = '$Revision: 27413 $';
> my $datrev = '$Date: 2012-08-16 00:26:59 +0200 (Thu, 16 Aug 2012) $';
> my $tlmgrrevision;
> my $prg;
> if ($svnrev =~ m/: ([0-9]+) /) {
>    $tlmgrrevision = $1;
> } else {
>    $tlmgrrevision = "unknown";
> }
> ...
>
> in other words, the tlmgr script.
>
> I should have filed a bug report, but tlmgr worked.
>
>> tlmgr --version
> tlmgr revision 27413 (2012-08-16 00:26:59 +0200)
> tlmgr using installation: /home/rkrug/texlive/2012
> TeX Live (http://tug.org/texlive) version 2012
>


this usually happen if you haven't installed perldoc

which is not installed by default on ubuntu, just do a

sudo apt-get install perldoc

and try again

/daleif





From R.M.Krug at gmail.com  Wed Aug 29 09:52:26 2012
From: R.M.Krug at gmail.com (Rainer M Krug)
Date: Wed, 29 Aug 2012 09:52:26 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <503D2E7A.2080508@imf.au.dk>
References: <k1hum4$2ui$1@ger.gmane.org>
 <20120828150245.GD19598@gamma.logic.tuwien.ac.at>
 <503D0CF6.7020104@gmail.com> <503D2E7A.2080508@imf.au.dk>
Message-ID: <503DCA3A.3090009@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 28/08/12 22:47, Lars Madsen wrote:
> On 2012-08-28 20:24, Rainer M Krug wrote:
>> -----BEGIN PGP SIGNED MESSAGE----- Hash: SHA1
>> 
>> On 28/08/12 17:02, Norbert Preining wrote:
>>> On Di, 28 Aug 2012, Rainer M Krug wrote:
>>>>> tlmgr update all
>>> 
>>> In addition to th two answers you already got, why didn't you try tlgr --help or tlmgr
>>> help and read down a few lines to the EXAMPLES section?
>> 
>> Well - if I do tlmgr --help (and believe me - I tried it), I get:
>> 
>> 
>> #!/usr/bin/env perl # $Id: tlmgr.pl 27413 2012-08-15 22:26:59Z karl $ # # Copyright 2008, 
>> 2009, 2010, 2011, 2012 Norbert Preining # This file is licensed under the GNU General Public 
>> License version 2 # or any later version.
>> 
>> my $svnrev = '$Revision: 27413 $'; my $datrev = '$Date: 2012-08-16 00:26:59 +0200 (Thu, 16 
>> Aug 2012) $'; my $tlmgrrevision; my $prg; if ($svnrev =~ m/: ([0-9]+) /) { $tlmgrrevision = 
>> $1; } else { $tlmgrrevision = "unknown"; } ...
>> 
>> in other words, the tlmgr script.
>> 
>> I should have filed a bug report, but tlmgr worked.
>> 
>>> tlmgr --version
>> tlmgr revision 27413 (2012-08-16 00:26:59 +0200) tlmgr using installation: 
>> /home/rkrug/texlive/2012 TeX Live (http://tug.org/texlive) version 2012
>> 
> 
> 
> this usually happen if you haven't installed perldoc
> 
> which is not installed by default on ubuntu, just do a
> 
> sudo apt-get install perldoc
> 
> and try again

Thanks - this worked nicely.

For the archives: the package is named "perl-doc".

Cheers,

Rainer

> 
> /daleif
> 
> 
> 
> 
> 

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://www.enigmail.net/

iEYEARECAAYFAlA9yjoACgkQoYgNqgF2egpAjgCeNDPrh7Xictig7U0sMb6rtDv3
UFMAn2MOfK53vaFYnTS5ULDYXf5RoD/Q
=atQJ
-----END PGP SIGNATURE-----


From daleif at imf.au.dk  Wed Aug 29 16:29:40 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Wed, 29 Aug 2012 16:29:40 +0200
Subject: [tex-live] Observations regarding "perl.exe stopped working"
Message-ID: <503E2754.5040301@imf.au.dk>


I just had a session with one of our IT guys who can reliably create Win 
7 (virtual) installations where install-tl.bat fails.

To recap we have observed that adding

use Data::Dumper;

to either trans.pl or install-menu-wizard.pl helps

Karl suggested just adding

use 5.006_001;
require Exporter;
require overload;

which did not do any difference.

We did not look further on the other modules possibly loaded by 
Data:Dumper; thus we have no idea if the 'fix' is caused by any of the 
extra modules in Dumper.pm or any overloading done within Dumper.


Instead we attempted to look for the exact moment where the programme 
failed.

We notice the following

install-tl.bat fails in install-menu-wizard.pl at the very first line in

sub run_menu_wizard {

i.e. line 139:

   $mw = Tk::MainWindow->new(-width => $MWIDTH, -height => $MHEIGHT);

(a warn added before it prints its argument to the prompt, placed after 
is never executed)



Ok, then we wondered, why does install-tl-advanced.bat work without 
problems. It loads install-menu-perltk.pl.

in the corresponding

sub run_menu_perltk {

(line 213) we find the following before the initial Tk::MainWindow->new

  if ($::opt_select_repository) {
   } else {
     do_remote_init();
     setup_perltk_local_vars();
     calc_depends();
   }

Interestingly, if we outcomment the three lines in the 'else' part, then 
install-tl-advanced.bat also fails with the "perl.exe stopped working"

So the question is: Is there anything set up by these three lines, that 
it would not hurt to be added to install-menu-wizard.pl such that it 
might run without problems??


BTW: The IT guy might be able to provide a VM ware image of a Win 7 that 
fails if anyone want to play with it for debugging. Drop me an email if 
interested.


-- 

/Lars Madsen
DK-TUG President
Maintainer of memoir and the mh bundle

From daleif at imf.au.dk  Wed Aug 29 16:36:43 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Wed, 29 Aug 2012 16:36:43 +0200
Subject: [tex-live] Unattended TL install
In-Reply-To: <20536.13480.280402.392560@zaphod.ms25.net>
References: <201208232157.q7NLv3Rg026692@freefriends.org>
 <5037321A.3080309@imf.au.dk> <5037582E.90807@imf.au.dk>
 <20120824130443.GF1650@bitmuis.thuis.internal> <503798A5.2060800@imf.au.dk>
 <20120824161813.GG1650@bitmuis.thuis.internal> <5037AB8C.4020105@imf.au.dk>
 <20120824185516.GA1607@bitmuis.thuis.internal>
 <20536.13480.280402.392560@zaphod.ms25.net>
Message-ID: <503E28FB.8070604@imf.au.dk>

Reinhard Kotucha wrote, On 2012-08-25 04:12:
> On 2012-08-24 at 20:55:16 +0200, Siep Kroonenberg wrote:
> 
>  > On Fri, Aug 24, 2012 at 06:27:56PM +0200, Lars Madsen wrote:
>  > > Siep Kroonenberg wrote, On 2012-08-24 18:18:
>  > > >On Fri, Aug 24, 2012 at 05:07:17PM +0200, Lars Madsen wrote:
>  > > >>Siep Kroonenberg wrote, On 2012-08-24 15:04:
>  > > >>>On Fri, Aug 24, 2012 at 12:32:14PM +0200, Lars Madsen wrote:
>  > > >>>>Lars Madsen wrote, On 2012-08-24 09:49:
>  > > >>>>>Karl Berry wrote, On 2012-08-23 23:57:
>  > > >>>>.....
>  > > >>>>works fine. But no texlive.profile is created
>  > > >>>I just tested with a small TL installation, on a non-virtual Dutch
>  > > >>>w7 professional with miktex already on the system path. I did get a
>  > > >>><root>/tlpkg/texlive.profile
>  > > >>>
>  > > >>>So this failure is not universal.
>  > > >>>
>  > > >>did you try one where miktex was already installed?
>  > > >
>  > > >Fake-installed: Portable miktex with system path pointing to it. I
>  > > >did get the warning about tex on the system path which could not be
>  > > >overridden in a user install. Miktex was at the end of the system
>  > > >path.
>  > > >
>  > > 
>  > > but did you get the texlive.profile file in that case?
>  > 
>  > Yes.
> 
> It definitely has nothing to do with a formerly installed MiKTeX.
> texlive.profile is just a dump of variables the installer uses
> internally.  If the installer succeeds, the information exists and is
> correct.  If the file is not written, the only explanation I can
> imagine is that the target directory is not writable.  But on the
> other hand the installer creates zillion of files in tlpkg.  Hence
> this behavior is not explainable.
> 
> Lars, what makes you believe that texlive.profile isn't created?
> Whether a file doesn't exists or doesn't appear in directory listings
> are two completely different things on Windows.
> 
> I installed a cicuit simulator on W7 and created a few files in order
> to define simulations.  It worked fine.  But when I tried to run
> exactly the same simulations a few weeks later, the program complained
> that none of the files I created myself exist.  And indeed, neither
> dir (cmd.exe) nor the Exploder displayed them.
> 
> At a first glance I thought that the files got lost.  But Emacs in
> dired-mode shows them all.  Emacs even allows me to copy/move/delete
> these "non-existent" files.  
>  
> Hence it would be quite helpful to know whether texlive.profile
> exists physically.  But you can't use Windows tools in order to find
> out whether a file exists or not. 
> 
> Another thing I can reproduce on Windows 7 reliably:
> 
>   Go to %ProgramFiles% and run 
> 
>     zip -r foo.zip foo
> 
> The file foo.zip doesn't appear in any directory listing, neither
> cmd.exe nor the Exploder displays it.  But it definitely exists.  You
> need Emacs in order to access "non-existent" files under Windows.
> 
> Regards,
>   Reinhard
> 

During out test to day, we used the install-tl-advanced.bat to install 
the minimal scheme (to save time).

Which created at texlive.profile just fine.

I'll ask out the IT person to roll back that VM ware Win 7, and install 
a full TL12, and see if texlive.profile appears




-- 

/daleif

From preining at logic.at  Thu Aug 30 00:51:46 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 30 Aug 2012 07:51:46 +0900
Subject: [tex-live] Observations regarding "perl.exe stopped working"
In-Reply-To: <503E2754.5040301@imf.au.dk>
References: <503E2754.5040301@imf.au.dk>
Message-ID: <20120829225146.GB22442@gamma.logic.tuwien.ac.at>

Hi Lars,

first of all, thanks for all your tests and investigations.

On Mi, 29 Aug 2012, Lars Madsen wrote:
> use Data::Dumper;
>
> to either trans.pl or install-menu-wizard.pl helps

Which is still a strange thing. But I read somewhere about interaction
between utf8 and Dumper ...

> use 5.006_001;
> require Exporter;
> require overload;
>
> which did not do any difference.

Did you try uncommenting the utf8 thingy?

> i.e. line 139:
>
>   $mw = Tk::MainWindow->new(-width => $MWIDTH, -height => $MHEIGHT);

Which is completely proper call ... no idea why it shouldn't work.

>  if ($::opt_select_repository) {
>   } else {
>     do_remote_init();
>     setup_perltk_local_vars();
>     calc_depends();
>   }
>
> Interestingly, if we outcomment the three lines in the 'else' part, then  
> install-tl-advanced.bat also fails with the "perl.exe stopped working"
>
> So the question is: Is there anything set up by these three lines, that  
> it would not hurt to be added to install-menu-wizard.pl such that it  
> might run without problems??

First of all, the same things are done by the wizard in a slightly
different way.
Secondly, do_remote_init and calc_depends has *no* influence on perl/tk
as it is also used in the textmode installer.
Thirdly, setup_perltk_local_vars only can run in ther perltk/advanced
installer, because it sets up some vars necessary for that installer,
but they are not used with other installers.

Lastly, I don't believe that it will change ... I believe that it is
some timing/threaded issue.:
- main window is created, probably in a subthread
- main thread continues (until the MainLop is called)
- at some point the sub thread of the main window dies and tears down
  the main one, too.

SO my wild guess is that if you change something, the error will appear 
somewhere else.

AND ... AND ... the above is *anyway* only executed if you start
the installer with 
	-select-repository
so if you start the advanced without the above option, the mentioned
lines will anyway not be executed. Which points once more at timing
issues independent of the actual code line.

> BTW: The IT guy might be able to provide a VM ware image of a Win 7 that  
> fails if anyone want to play with it for debugging. Drop me an email if  
> interested.

No VMware here, no disk space (old laptop crashed ...) so probably
*I* cannot help.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
PEORIA (n.)
The fear of peeling too few potatoes.
			--- Douglas Adams, The Meaning of Liff

From daleif at imf.au.dk  Thu Aug 30 10:42:58 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Thu, 30 Aug 2012 10:42:58 +0200
Subject: [tex-live] Observations regarding "perl.exe stopped working"
In-Reply-To: <20120829225146.GB22442@gamma.logic.tuwien.ac.at>
References: <503E2754.5040301@imf.au.dk>
 <20120829225146.GB22442@gamma.logic.tuwien.ac.at>
Message-ID: <503F2792.2050009@imf.au.dk>

On 08/30/2012 12:51 AM, Norbert Preining wrote:
> Hi Lars,
>
> first of all, thanks for all your tests and investigations.
>
> On Mi, 29 Aug 2012, Lars Madsen wrote:
>> use Data::Dumper;
>>
>> to either trans.pl or install-menu-wizard.pl helps
>
> Which is still a strange thing. But I read somewhere about interaction
> between utf8 and Dumper ...
>
>> use 5.006_001;
>> require Exporter;
>> require overload;
>>
>> which did not do any difference.
>
> Did you try uncommenting the utf8 thingy?
>
>> i.e. line 139:
>>
>>    $mw = Tk::MainWindow->new(-width => $MWIDTH, -height => $MHEIGHT);
>
> Which is completely proper call ... no idea why it shouldn't work.
>
>>   if ($::opt_select_repository) {
>>    } else {
>>      do_remote_init();
>>      setup_perltk_local_vars();
>>      calc_depends();
>>    }
>>
>> Interestingly, if we outcomment the three lines in the 'else' part, then
>> install-tl-advanced.bat also fails with the "perl.exe stopped working"
>>
>> So the question is: Is there anything set up by these three lines, that
>> it would not hurt to be added to install-menu-wizard.pl such that it
>> might run without problems??
>
> First of all, the same things are done by the wizard in a slightly
> different way.
> Secondly, do_remote_init and calc_depends has *no* influence on perl/tk
> as it is also used in the textmode installer.
> Thirdly, setup_perltk_local_vars only can run in ther perltk/advanced
> installer, because it sets up some vars necessary for that installer,
> but they are not used with other installers.
>
> Lastly, I don't believe that it will change ... I believe that it is
> some timing/threaded issue.:
> - main window is created, probably in a subthread
> - main thread continues (until the MainLop is called)
> - at some point the sub thread of the main window dies and tears down
>    the main one, too.
>
> SO my wild guess is that if you change something, the error will appear
> somewhere else.
>
> AND ... AND ... the above is *anyway* only executed if you start
> the installer with
> 	-select-repository
> so if you start the advanced without the above option, the mentioned
> lines will anyway not be executed. Which points once more at timing
> issues independent of the actual code line.
>

erh, the only thing we did was to comment those three lines, and double 
click the install-tl-advanced.bat in windows explorer.

We did not pass any options. That is why we were wondering

Isn't the else part only executed if the user has NOT specified a repo?


>> BTW: The IT guy might be able to provide a VM ware image of a Win 7 that
>> fails if anyone want to play with it for debugging. Drop me an email if
>> interested.
>
> No VMware here, no disk space (old laptop crashed ...) so probably
> *I* cannot help.
>
> Best wishes
>
> Norbert
> ------------------------------------------------------------------------
> Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
> JAIST, Japan                                 TeX Live & Debian Developer
> DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
> ------------------------------------------------------------------------
> PEORIA (n.)
> The fear of peeling too few potatoes.
> 			--- Douglas Adams, The Meaning of Liff
>


From Herbert.Voss at FU-Berlin.DE  Fri Aug 31 15:51:38 2012
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Fri, 31 Aug 2012 15:51:38 +0200
Subject: [tex-live] TL Updates
Message-ID: <5040C16A.1040608@FU-Berlin.DE>

Hi all,
there were a lot of updates in the last days, but I get:

voss at shania:~/bin> tlmgr --self --all update
tlmgr: package repository 
ftp://ftp.dante.de/tex-archive/systems/texlive/tlnet
tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
[1/1, ??:??/??:??] update: texlive-docindex [190k] (27546 -> 27553) ... done
tlmgr: package log updated at 
/usr/local/texlive/2012/texmf-var/web2c/tlmgr.log


Herbert

From preining at logic.at  Fri Aug 31 16:02:40 2012
From: preining at logic.at (Norbert Preining)
Date: Fri, 31 Aug 2012 23:02:40 +0900
Subject: [tex-live] TL Updates
In-Reply-To: <5040C16A.1040608@FU-Berlin.DE>
References: <5040C16A.1040608@FU-Berlin.DE>
Message-ID: <06E77B7A-C0F7-4F56-AF54-77E585589A8B@logic.at>


> there were a lot of updates in the last days, but I get:


you mean on CTAN?

> 
> voss at shania:~/bin> tlmgr --self --all update
> tlmgr: package repository ftp://ftp.dante.de/tex-archive/systems/texlive/tlnet
> tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
> [1/1, ??:??/??:??] update: texlive-docindex [190k] (27546 -> 27553) ... done
> tlmgr: package log updated at /usr/local/texlive/2012/texmf-var/web2c/tlmgr.log


I got yesterday a few more ... I don't see anything wrong, what in particular are you missing?

Maybe nobody had time to work through the updates?

Norbert

