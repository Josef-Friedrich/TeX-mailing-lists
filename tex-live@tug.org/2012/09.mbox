From Herbert.Voss at FU-Berlin.DE  Sat Sep  1 09:07:56 2012
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Sat, 1 Sep 2012 09:07:56 +0200
Subject: [tex-live] TL Updates
In-Reply-To: <06E77B7A-C0F7-4F56-AF54-77E585589A8B@logic.at>
References: <5040C16A.1040608@FU-Berlin.DE>
 <06E77B7A-C0F7-4F56-AF54-77E585589A8B@logic.at>
Message-ID: <5041B44C.20705@FU-Berlin.DE>

Am 31.08.2012 16:02, schrieb Norbert Preining:
>
>> there were a lot of updates in the last days, but I get:
>
>
> you mean on CTAN?

yes

>> voss at shania:~/bin> tlmgr --self --all update
>> tlmgr: package repository ftp://ftp.dante.de/tex-archive/systems/texlive/tlnet
>> tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
>> [1/1, ??:??/??:??] update: texlive-docindex [190k] (27546 -> 27553) ... done
>> tlmgr: package log updated at /usr/local/texlive/2012/texmf-var/web2c/tlmgr.log
>
>
> I got yesterday a few more ... I don't see anything wrong, what in particular are you missing?
>
> Maybe nobody had time to work through the updates?

same today, only tetex and texlive-docindex, but there were
a lot of other packages updated on CTAN. I thought that existing
packages were updated CTAN->TL automatically.

Herbert

From preining at logic.at  Sat Sep  1 09:33:14 2012
From: preining at logic.at (Norbert Preining)
Date: Sat, 1 Sep 2012 16:33:14 +0900
Subject: [tex-live] TL Updates
In-Reply-To: <5041B44C.20705@FU-Berlin.DE>
References: <5040C16A.1040608@FU-Berlin.DE>
 <06E77B7A-C0F7-4F56-AF54-77E585589A8B@logic.at> <5041B44C.20705@FU-Berlin.DE>
Message-ID: <E7BAD5A6-4EAF-4777-B23E-971B12C8B933@logic.at>

Hi Herbert


> I thought that existing
> packages were updated CTAN->TL automatically.

No, this is still a manual process ... but didn't you get l3* updates????

Something is wrong over there!

I am rsyncing from tug and I get updates.

Did you play around with pinning?

Norbert

From Robin.Fairbairns at cl.cam.ac.uk  Sat Sep  1 10:19:53 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sat, 1 Sep 2012 09:19:53 +0100
Subject: [tex-live] TL Updates
In-Reply-To: Your message of Sat, 01 Sep 2012 16:33:14 +0900.
 <E7BAD5A6-4EAF-4777-B23E-971B12C8B933@logic.at>
Message-ID: <1882.1346487593@cl.cam.ac.uk>

Norbert Preining <preining at logic.at> wrote:

> > I thought that existing
> > packages were updated CTAN->TL automatically.
> 
> No, this is still a manual process ... but didn't you get l3* updates????
> 
> Something is wrong over there!
> 
> I am rsyncing from tug and I get updates.
> 
> Did you play around with pinning?

remember, norbert, that the general populace is encouraged to pull from
a mirror (rather than tug or either of the ctan nodes) -- the guarantee
is only that any mirror will be up to date within 24 hours.

cambridge ctan pulls tl from tug at half-hourly intervals 0300-0430 local
i forget when dante mirrors cambridge, but i whenever i've looked,
dante's been up-to-date with cambridge.

this morning, my home mirror picked up a fair number (the machine's not
got space to run tl as well as maintain an archive copy), including the
packaging of the l3 stuff i installed yesterday.

robin

From usenet at siart.de  Sat Sep  1 15:39:08 2012
From: usenet at siart.de (Uwe Siart)
Date: Sat, 1 Sep 2012 15:39:08 +0200
Subject: [tex-live] TL Updates
References: <5040C16A.1040608@FU-Berlin.DE>
 <06E77B7A-C0F7-4F56-AF54-77E585589A8B@logic.at>
 <5041B44C.20705@FU-Berlin.DE>
Message-ID: <84d325j20z.fsf@siart.de>

Herbert Voss <Herbert.Voss at FU-Berlin.DE> writes:

> same today, only tetex and texlive-docindex,

Herbert, there must be a problem at your side. The TL repos contain more
updates. Below is the log of my update runs from last week. I pull from
the Berlin mirror. Checked Dante and Chemnitz - the same.

Uwe

[Sat Aug 25 10:24:50 2012] update: lualatex-math (24009 -> 27514)
[Sat Aug 25 10:24:58 2012] update: morewrites (27138 -> 27516)
[Sat Aug 25 10:25:32 2012] update: pstricks (27404 -> 27515)
[Sat Aug 25 10:25:39 2012] update: randomwalk (27139 -> 27517)
[Sat Aug 25 10:25:46 2012] update: texlive-docindex (27501 -> 27512)
[Thu Aug 30 09:35:43 2012] update: GS1 (27453 -> 27540)
[Thu Aug 30 09:35:46 2012] update: autonum (27444 -> 27538)
[Thu Aug 30 09:35:50 2012] update: beamer2thesis (24496 -> 27539)
[Thu Aug 30 09:35:58 2012] update: comfortaa (25090 -> 27536)
[Thu Aug 30 09:36:04 2012] update: context-letter (27229 -> 27537)
[Thu Aug 30 09:36:07 2012] update: fnpct (27180 -> 27551)
[Thu Aug 30 09:36:13 2012] update: latex-graphics-companion (15878 -> 27530)
[Thu Aug 30 09:36:21 2012] update: latex-web-companion (15878 -> 27531)
[Thu Aug 30 09:36:47 2012] update: pgfplots (24977 -> 27550)
[Thu Aug 30 09:36:51 2012] update: poemscol (23762 -> 27535)
[Thu Aug 30 09:36:55 2012] update: siunitx (27181 -> 27548)
[Thu Aug 30 09:37:00 2012] update: texlive-docindex (27512 -> 27546)
[Thu Aug 30 09:37:03 2012] update: texlive-scripts (27312 -> 27522)
[Thu Aug 30 09:37:14 2012] update: ucs (26123 -> 27549)
[Thu Aug 30 09:37:24 2012] update: xindy (27491 -> 27520)
[Thu Aug 30 09:37:26 2012] auto-install new: plipsum (27541)
[Thu Aug 30 09:37:28 2012] update: collection-plainextra (23436 -> 27541)
[Sat Sep  1 15:29:45 2012] update: achemso (27172 -> 27562)
[Sat Sep  1 15:30:19 2012] update: l3experimental (27406 -> 27561)
[Sat Sep  1 15:30:58 2012] update: l3kernel (27427 -> 27559)
[Sat Sep  1 15:31:12 2012] update: l3packages (27427 -> 27560)
[Sat Sep  1 15:31:19 2012] update: tetex (27422 -> 27563)
[Sat Sep  1 15:31:25 2012] update: texlive-docindex (27546 -> 27557)
[Sat Sep  1 15:31:29 2012] auto-install new: counttexruns (27555)
[Sat Sep  1 15:31:31 2012] update: collection-latexextra (27473 -> 27555)


From haines at histomat.net  Sat Sep  1 16:20:40 2012
From: haines at histomat.net (Haines Brown)
Date: Sat, 1 Sep 2012 10:20:40 -0400
Subject: [tex-live] Polyglossia breaks XeLaTeX
Message-ID: <20120901142040.GF5314@histomat.net>

I'm running TL2011 under Debian Squeeze in user's home.

Documents compile with xelatex, but if \usepackage{polyglossia} 
appears in the preamble, I get "XeLaTeX: done" when I compile, but no 
pdf and no log file.
 
When I compile with a xetex command in a terminal I get this error
message:

  ...
  No configuration file fmtcount.cfg found.
  ))
  *************************************************
  * xeCJK warning: "no-CJKfamily"
  * 
  * It seems that you have not declare a CJKfamily.
  * If you want to use xeCJK in the right way, you should use
  * 
  * \xeCJKmainfont[...]{...}
  * 
  * in the preamble to declare the main CJKfamily.
  * 
  *************************************************

However, these lines in the preamble don't cause trouble if 
polyglossia is not in the preamble:

  \usepackage{xeCJK}  
  \newfontfamily\Chinese{AR PL KaitiM GB}

The log says:

  This is pdfTeX, Version 3.1415926-2.3-1.40.12 (TeX Live 2011)
    (format=pdflatex 2011.10.30 entering extended mode
  restricted \write18 enabled.
  file:line:error style messages enabled.
  ...
  ~/texlive/2011/texmf-dist/tex/latex/xltxtra/xltxtra.sty:26:
   ********************************************
   * XeTeX is required to compile this document.
   * Sorry!
   ********************************************.
  \RequireXeTeX ...********************************}
                                                  \endgroup \fi
  l.26 \RequireXeTeX
  ...
  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !
  ~/texlive/2011/texmf-dist/tex/latex/fontspec/fontspec.sty:38: Fatal
  fontspec error: "cannot-use-pdftex"
  !
  ! The fontspec package requires either XeTeX or LuaTeX to function. 
  !
  ! You must change your typesetting engine to, e.g., "xelatex" or "lualatex"
  ! instead of plain "latex" or "pdflatex".
  !
  ! See the fontspec documentation for further information.
  !
  ! For immediate help type H <return>.
  !...............................................

  l.38 }
  
  |'''''''''''''''''''''''''''''''''''''''''''''''
  | This is a fatal error: LaTeX will abort
  |...............................................


Haines Brown

From Herbert.Voss at FU-Berlin.DE  Sat Sep  1 16:32:25 2012
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Sat, 1 Sep 2012 16:32:25 +0200
Subject: [tex-live] TL Updates
In-Reply-To: <84d325j20z.fsf@siart.de>
References: <5040C16A.1040608@FU-Berlin.DE>
 <06E77B7A-C0F7-4F56-AF54-77E585589A8B@logic.at> <5041B44C.20705@FU-Berlin.DE>
 <84d325j20z.fsf@siart.de>
Message-ID: <50421C79.1010602@FU-Berlin.DE>

Am 01.09.2012 15:39, schrieb Uwe Siart:
> Herbert Voss <Herbert.Voss at FU-Berlin.DE> writes:
>
>> same today, only tetex and texlive-docindex,
>
> Herbert, there must be a problem at your side. The TL repos contain more
> updates. Below is the log of my update runs from last week. I pull from
> the Berlin mirror. Checked Dante and Chemnitz - the same.

I have no idea what went wrong and I couldn't find the reason for
this problem. However, I installed all packages new and now I have
an up-to-date TL version.

Herbert



From Robin.Fairbairns at cl.cam.ac.uk  Sat Sep  1 16:39:20 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sat, 1 Sep 2012 15:39:20 +0100
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: Your message of Sat, 01 Sep 2012 10:20:40 -0400.
 <20120901142040.GF5314@histomat.net>
Message-ID: <17579.1346510360@cl.cam.ac.uk>

the supplied evidence shows that your document definitely breaks under
pdflatex, but then polyglossia requires xetex, so it's no surprise.

what happens if you compile with xelatex? -- an example document would
be good.

robin

From haines at histomat.net  Sat Sep  1 17:54:55 2012
From: haines at histomat.net (Haines Brown)
Date: Sat, 1 Sep 2012 11:54:55 -0400
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: <17579.1346510360@cl.cam.ac.uk>
References: <20120901142040.GF5314@histomat.net>
 <17579.1346510360@cl.cam.ac.uk>
Message-ID: <20120901155455.GG5314@histomat.net>

On Sat, Sep 01, 2012 at 03:39:20PM +0100, Robin Fairbairns wrote:
> the supplied evidence shows that your document definitely breaks under
> pdflatex, but then polyglossia requires xetex, so it's no surprise.
> 
> what happens if you compile with xelatex? -- an example document would
> be good.
> 
> robin

Sorry I wasn't clearer: I _am_ compiling with xelatex. That's why I 
couldn't make head or tail of the error message which appears to 
assume otherwise. Here is a sample preamble:

  %!TEX TS-program = xetex
  %!TEX encoding = UTF-8 Unicode

  \documentclass[12pt,titlepage]{article}
  \usepackage{xltxtra}
  \usepackage{xunicode,fontspec}

  % \usepackage(csquotes} % conflicts with polyglossia
  % \usepacage{fullpage} % conflicts with polyglossia
  % \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
                       % conflits with polyglossia.

  \usepackage{polyglossia}
  \usepackage{xeCJK}                % fontspec for CJK commands
  \newfontfamily\Chinese{AR PL KaitiM GB}
  \setmainfont[Ligatures=TeX,Mapping=tex-text]{Linux Libertine O}
  \begin{document}
  ...


If I omit polyglosia, all other packages can be included and run fine. 
If I include polyglossia, those packages marked as conflict can't be 
included.

Haines 

From zdenek.wagner at gmail.com  Sat Sep  1 18:16:43 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 1 Sep 2012 18:16:43 +0200
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: <20120901155455.GG5314@histomat.net>
References: <20120901142040.GF5314@histomat.net>
 <17579.1346510360@cl.cam.ac.uk>
 <20120901155455.GG5314@histomat.net>
Message-ID: <CAC1phyZccxFTzkh0p+dDpq7Zs=uC95bxp6dTx+VT6QKSRXRg2Q@mail.gmail.com>

2012/9/1 Haines Brown <haines at histomat.net>:
> On Sat, Sep 01, 2012 at 03:39:20PM +0100, Robin Fairbairns wrote:
>> the supplied evidence shows that your document definitely breaks under
>> pdflatex, but then polyglossia requires xetex, so it's no surprise.
>>
>> what happens if you compile with xelatex? -- an example document would
>> be good.
>>
>> robin
>
> Sorry I wasn't clearer: I _am_ compiling with xelatex. That's why I
> couldn't make head or tail of the error message which appears to
> assume otherwise. Here is a sample preamble:
>
No, the log file clearly says that pdflatex was used in your case.
Look at the first two lines of the log.

>   %!TEX TS-program = xetex
>   %!TEX encoding = UTF-8 Unicode
>
>   \documentclass[12pt,titlepage]{article}
>   \usepackage{xltxtra}
>   \usepackage{xunicode,fontspec}
>
>   % \usepackage(csquotes} % conflicts with polyglossia
>   % \usepacage{fullpage} % conflicts with polyglossia
>   % \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
>                        % conflits with polyglossia.
>
>   \usepackage{polyglossia}
>   \usepackage{xeCJK}                % fontspec for CJK commands
>   \newfontfamily\Chinese{AR PL KaitiM GB}
>   \setmainfont[Ligatures=TeX,Mapping=tex-text]{Linux Libertine O}
>   \begin{document}
>   ...
>
>
> If I omit polyglosia, all other packages can be included and run fine.
> If I include polyglossia, those packages marked as conflict can't be
> included.
>
> Haines



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From daleif at imf.au.dk  Sat Sep  1 18:59:56 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Sat, 1 Sep 2012 18:59:56 +0200
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: <CAC1phyZccxFTzkh0p+dDpq7Zs=uC95bxp6dTx+VT6QKSRXRg2Q@mail.gmail.com>
References: <20120901142040.GF5314@histomat.net>
 <17579.1346510360@cl.cam.ac.uk> <20120901155455.GG5314@histomat.net>
 <CAC1phyZccxFTzkh0p+dDpq7Zs=uC95bxp6dTx+VT6QKSRXRg2Q@mail.gmail.com>
Message-ID: <50423F0C.8020309@imf.au.dk>

On 09/01/2012 06:16 PM, Zdenek Wagner wrote:
> 2012/9/1 Haines Brown <haines at histomat.net>:
>> On Sat, Sep 01, 2012 at 03:39:20PM +0100, Robin Fairbairns wrote:
>>> the supplied evidence shows that your document definitely breaks under
>>> pdflatex, but then polyglossia requires xetex, so it's no surprise.
>>>
>>> what happens if you compile with xelatex? -- an example document would
>>> be good.
>>>
>>> robin
>>
>> Sorry I wasn't clearer: I _am_ compiling with xelatex. That's why I
>> couldn't make head or tail of the error message which appears to
>> assume otherwise. Here is a sample preamble:
>>
> No, the log file clearly says that pdflatex was used in your case.
> Look at the first two lines of the log.
>
>>    %!TEX TS-program = xetex
>>    %!TEX encoding = UTF-8 Unicode
>>
>>    \documentclass[12pt,titlepage]{article}
>>    \usepackage{xltxtra}
>>    \usepackage{xunicode,fontspec}
>>
>>    % \usepackage(csquotes} % conflicts with polyglossia
>>    % \usepacage{fullpage} % conflicts with polyglossia
>>    % \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
>>                         % conflits with polyglossia.
>>
>>    \usepackage{polyglossia}
>>    \usepackage{xeCJK}                % fontspec for CJK commands
>>    \newfontfamily\Chinese{AR PL KaitiM GB}
>>    \setmainfont[Ligatures=TeX,Mapping=tex-text]{Linux Libertine O}
>>    \begin{document}
>>    ...
>>
>>
>> If I omit polyglosia, all other packages can be included and run fine.
>> If I include polyglossia, those packages marked as conflict can't be
>> included.
>>
>> Haines
>
>
>

have you tried converting it manually without relying on an editor. As 
Zdenek mentions, the log looks strange


From daleif at imf.au.dk  Sat Sep  1 19:20:25 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Sat, 1 Sep 2012 19:20:25 +0200
Subject: [tex-live] Creating tlnet packages
Message-ID: <504243D9.3000503@imf.au.dk>

Hi list

When I get the chance, I'd like to explore the possibility to create our 
own TL repository, like tlcontrib, for locally created stuff like letter 
classes etc. that cannot be added to ctan.

But is the information as to how one manage such a repo and how one 
build/prepare the packages available somewhere online?

For example, I will need to be able to install fonts and add maps files.

/daleif

From usenet at siart.de  Sat Sep  1 19:44:41 2012
From: usenet at siart.de (Uwe Siart)
Date: Sat, 1 Sep 2012 19:44:41 +0200
Subject: [tex-live] Polyglossia breaks XeLaTeX
References: <20120901142040.GF5314@histomat.net>
Message-ID: <84txvhskmu.fsf@siart.de>

As the others already mentioned: pdflatex is called instead of xelatex.
I believe that either your editor is fooling or you are making a mistake
in using it.

Haines Brown <haines at histomat.net> writes:

> Documents compile with xelatex, but if \usepackage{polyglossia} 
> appears in the preamble, I get "XeLaTeX: done"

This message is not from LaTeX output. It is created by your editor and
it makes you believe that you ran XeLaTeX. But ...

> The log says:
>
>   This is pdfTeX, Version 3.1415926-2.3-1.40.12 (TeX Live 2011)
>     (format=pdflatex 2011.10.30 entering extended mode

Clearly: pdflatex is actually called. So no surprise that ...

>   ~/texlive/2011/texmf-dist/tex/latex/xltxtra/xltxtra.sty:26:
>    ********************************************
>    * XeTeX is required to compile this document.
>    * Sorry!
>    ********************************************.
>   \RequireXeTeX ...********************************}
>                                                   \endgroup \fi
>   l.26 \RequireXeTeX
>   ...
>   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
>   !
>   ~/texlive/2011/texmf-dist/tex/latex/fontspec/fontspec.sty:38: Fatal
>   fontspec error: "cannot-use-pdftex"
>   !
>   ! The fontspec package requires either XeTeX or LuaTeX to function. 
>   !
>   ! You must change your typesetting engine to, e.g., "xelatex" or "lualatex"
>   ! instead of plain "latex" or "pdflatex".

Try to figure out what your editor is doing behind the scenes. This
error is not related to polyglossia or xetex (or TeXLive even) at all.

-- 
Uwe


From haines at histomat.net  Sat Sep  1 20:24:41 2012
From: haines at histomat.net (Haines Brown)
Date: Sat, 1 Sep 2012 14:24:41 -0400
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: <50423F0C.8020309@imf.au.dk>
References: <20120901142040.GF5314@histomat.net>
 <17579.1346510360@cl.cam.ac.uk>
 <20120901155455.GG5314@histomat.net>
 <CAC1phyZccxFTzkh0p+dDpq7Zs=uC95bxp6dTx+VT6QKSRXRg2Q@mail.gmail.com>
 <50423F0C.8020309@imf.au.dk>
Message-ID: <20120901182441.GH5314@histomat.net>

On Sat, Sep 01, 2012 at 06:59:56PM +0200, Lars Madsen wrote:
> On 09/01/2012 06:16 PM, Zdenek Wagner wrote:
> >2012/9/1 Haines Brown <haines at histomat.net>:
> >>On Sat, Sep 01, 2012 at 03:39:20PM +0100, Robin Fairbairns wrote:
> >>>the supplied evidence shows that your document definitely breaks under
> >>>pdflatex, but then polyglossia requires xetex, so it's no surprise.

> have you tried converting it manually without relying on an editor.
> As Zdenek mentions, the log looks strange

Here again is the test document preamble (first line changed fom xetex 
to XeLaTeX):

  %!TEX TS-program = XeLaTeX
  %!TEX encoding = UTF-8 Unicode

  \documentclass[12pt,titlepage]{article}
  \usepackage{xltxtra}
  \usepackage{xunicode,fontspec}
  \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
  \usepackage{polyglossia} % conflicts with csquotes, fullpage, and biblatex.

I run the xelatex command from a terminal and get:

  ...
  (/home/haines/texlive/2011/texmf-dist/tex/generic/xkeyval/xkeyval.tex)))
  ! Undefined control sequence.
  <argument> blx at lng@\bbl at main@language 
                                      
  l.35 \begin{document}
                     
  ? s
  OK, entering \scrollmode...
  ! Undefined control sequence.
  <argument> blx at file@\bbl at main@language 
                                       .lbx
  l.35 \begin{document}
                     
  ! Undefined control sequence.
  <write> ...g to load language '\bbl at main@language 
                                                  '..\@gobble \on at line .
  l.35 \begin{document}
                     
  ! Undefined control sequence.
  <argument> \bbl at main@language 
                              .lbx
  l.35 \begin{document}
                     
  ! Undefined control sequence.
  <write> ...tex Info: ... file '\bbl at main@language 
                                                  .lbx' not found\@gobble \o...
  l.35 \begin{document}
                     
  ! Undefined control sequence.
  <argument> blx at file@\bbl at main@language 
                                       .lbx
  l.35 \begin{document}
                     
  ! Undefined control sequence.
  <argument> \bbl at main@language 
                              .lbx
  l.35 \begin{document}
                     
  ! Undefined control sequence.
  <write> ... Warning: Language '\bbl at main@language 
                                                  ' not supported.\MessageBr...
  l.35 \begin{document}
                     

  Package biblatex Warning: Language '' not supported.
  (biblatex)                Using fallback language 'english' on input line 35.

  (/home/haines/texlive/2011/texmf-dist/tex/latex/biblatex/lbx/english.lbx)
  ! Undefined control sequence.
  <argument> extras\bbl at main@language 
                                    
  l.35 \begin{document}
                     
  ! Undefined control sequence.
  <argument> noextras\bbl at main@language 
                                      
  l.35 \begin{document}
                     

  Package biblatex Warning: 'babel' detected but 'csquotes' missing.
  (biblatex)                Loading 'csquotes' recommended.

  No file test-xelatex-document.aux.
  (/home/haines/texlive/2011/texmf-dist/tex/latex/tipa/t3cmr.fd)
  No file test-xelatex-document.bbl.
  [1] (./test-xelatex-document.aux) )
  (see the transcript file for additional information)
  Output written on test-xelatex-document.pdf (1 page).
  Transcript written on test-xelatex-document.log.

>From a terminal I do get the PDF at the end, and so don't know how 
seriously to take all the warnings.

However, if I issue the xelatex command in emacs/AUCTeX, no PDF is 
created, and when I do C-c C-l to view the log, I see this:

  (/home/haines/texlive/2011/texmf-dist/tex/generic/xkeyval/xkeyval.tex)))
  ! Undefined control sequence.
  <argument> blx at lng@\bbl at main@language 
                                      
  l.35 \begin{document}
                     
  ? 

It does not accept any commands to get past this point, such as s to 
scroll to end.

Haines Brown 

From haines at histomat.net  Sat Sep  1 21:27:13 2012
From: haines at histomat.net (Haines Brown)
Date: Sat, 1 Sep 2012 15:27:13 -0400
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: <84txvhskmu.fsf@siart.de>
References: <20120901142040.GF5314@histomat.net>
 <84txvhskmu.fsf@siart.de>
Message-ID: <20120901192713.GJ5314@histomat.net>

On Sat, Sep 01, 2012 at 07:44:41PM +0200, Uwe Siart wrote:
> As the others already mentioned: pdflatex is called instead of xelatex.
> I believe that either your editor is fooling or you are making a mistake
> in using it.
> 
> Haines Brown <haines at histomat.net> writes:
> 
> > Documents compile with xelatex, but if \usepackage{polyglossia} 
> > appears in the preamble, I get "XeLaTeX: done"
> 
> This message is not from LaTeX output. It is created by your editor and
> it makes you believe that you ran XeLaTeX. But ...
> 
> > The log says:
> >
> >   This is pdfTeX, Version 3.1415926-2.3-1.40.12 (TeX Live 2011)
> >     (format=pdflatex 2011.10.30 entering extended mode
> 
> Clearly: pdflatex is actually called. So no surprise that ...


Uwe,

In my editor, I changed the TeX engine to default, and now when I 
compile the tex document my log start with:

  This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012) 
         (format=xelatex 2012.8.31) 1 SEP 2012 15:15

Incidentally, I have TL2011, not TL2012. While I updated the packages 
in TL2011, I did not upgrade to TL2012 (or at least as far as I know).

The log file ends with:

  ) (/home/haines/texlive/2011/texmf-dist/tex/latex/metalogo/metalogo.sty))

  ! LaTeX Error: File `(.sty' not found.

  Type X to quit or <RETURN> to proceed,
  or enter new name. (Default extension: sty)

  Enter file name: 

I used tlmgr to install the metalogo package, but get same results. 
When I type in metalogo at the prompt, nothing happens.

Haines 

From zdenek.wagner at gmail.com  Sat Sep  1 21:32:34 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 1 Sep 2012 21:32:34 +0200
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: <20120901182441.GH5314@histomat.net>
References: <20120901142040.GF5314@histomat.net>
 <17579.1346510360@cl.cam.ac.uk>
 <20120901155455.GG5314@histomat.net>
 <CAC1phyZccxFTzkh0p+dDpq7Zs=uC95bxp6dTx+VT6QKSRXRg2Q@mail.gmail.com>
 <50423F0C.8020309@imf.au.dk> <20120901182441.GH5314@histomat.net>
Message-ID: <CAC1phybiCE6NeWinXquJWGZJSnTyxd9kiDb_uLmzgDZN7rEjEQ@mail.gmail.com>

2012/9/1 Haines Brown <haines at histomat.net>:
> On Sat, Sep 01, 2012 at 06:59:56PM +0200, Lars Madsen wrote:
>> On 09/01/2012 06:16 PM, Zdenek Wagner wrote:
>> >2012/9/1 Haines Brown <haines at histomat.net>:
>> >>On Sat, Sep 01, 2012 at 03:39:20PM +0100, Robin Fairbairns wrote:
>> >>>the supplied evidence shows that your document definitely breaks under
>> >>>pdflatex, but then polyglossia requires xetex, so it's no surprise.
>
>> have you tried converting it manually without relying on an editor.
>> As Zdenek mentions, the log looks strange
>
> Here again is the test document preamble (first line changed fom xetex
> to XeLaTeX):
>
>   %!TEX TS-program = XeLaTeX
>   %!TEX encoding = UTF-8 Unicode
>
>   \documentclass[12pt,titlepage]{article}
>   \usepackage{xltxtra}
>   \usepackage{xunicode,fontspec}
>   \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
>   \usepackage{polyglossia} % conflicts with csquotes, fullpage, and biblatex.
>
> I run the xelatex command from a terminal and get:
>
I am not sure whether biblatex works with polyglossia. Anyway, some
packages may be confused by aux file from a previous unsuccessful run.
Delete the aux file and try again. If it does not help, you should
contact biblatex and polyglossia maintainers.
>   ...
>   (/home/haines/texlive/2011/texmf-dist/tex/generic/xkeyval/xkeyval.tex)))
>   ! Undefined control sequence.
>   <argument> blx at lng@\bbl at main@language
>
>   l.35 \begin{document}
>
>   ? s
>   OK, entering \scrollmode...
>   ! Undefined control sequence.
>   <argument> blx at file@\bbl at main@language
>                                        .lbx
>   l.35 \begin{document}
>
>   ! Undefined control sequence.
>   <write> ...g to load language '\bbl at main@language
>                                                   '..\@gobble \on at line .
>   l.35 \begin{document}
>
>   ! Undefined control sequence.
>   <argument> \bbl at main@language
>                               .lbx
>   l.35 \begin{document}
>
>   ! Undefined control sequence.
>   <write> ...tex Info: ... file '\bbl at main@language
>                                                   .lbx' not found\@gobble \o...
>   l.35 \begin{document}
>
>   ! Undefined control sequence.
>   <argument> blx at file@\bbl at main@language
>                                        .lbx
>   l.35 \begin{document}
>
>   ! Undefined control sequence.
>   <argument> \bbl at main@language
>                               .lbx
>   l.35 \begin{document}
>
>   ! Undefined control sequence.
>   <write> ... Warning: Language '\bbl at main@language
>                                                   ' not supported.\MessageBr...
>   l.35 \begin{document}
>
>
>   Package biblatex Warning: Language '' not supported.
>   (biblatex)                Using fallback language 'english' on input line 35.
>
>   (/home/haines/texlive/2011/texmf-dist/tex/latex/biblatex/lbx/english.lbx)
>   ! Undefined control sequence.
>   <argument> extras\bbl at main@language
>
>   l.35 \begin{document}
>
>   ! Undefined control sequence.
>   <argument> noextras\bbl at main@language
>
>   l.35 \begin{document}
>
>
>   Package biblatex Warning: 'babel' detected but 'csquotes' missing.
>   (biblatex)                Loading 'csquotes' recommended.
>
>   No file test-xelatex-document.aux.
>   (/home/haines/texlive/2011/texmf-dist/tex/latex/tipa/t3cmr.fd)
>   No file test-xelatex-document.bbl.
>   [1] (./test-xelatex-document.aux) )
>   (see the transcript file for additional information)
>   Output written on test-xelatex-document.pdf (1 page).
>   Transcript written on test-xelatex-document.log.
>
> >From a terminal I do get the PDF at the end, and so don't know how
> seriously to take all the warnings.
>
> However, if I issue the xelatex command in emacs/AUCTeX, no PDF is
> created, and when I do C-c C-l to view the log, I see this:
>
>   (/home/haines/texlive/2011/texmf-dist/tex/generic/xkeyval/xkeyval.tex)))
>   ! Undefined control sequence.
>   <argument> blx at lng@\bbl at main@language
>
>   l.35 \begin{document}
>
>   ?
>
> It does not accept any commands to get past this point, such as s to
> scroll to end.
>
> Haines Brown



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From zdenek.wagner at gmail.com  Sat Sep  1 21:37:32 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 1 Sep 2012 21:37:32 +0200
Subject: [tex-live] Polyglossia breaks XeLaTeX
In-Reply-To: <20120901192713.GJ5314@histomat.net>
References: <20120901142040.GF5314@histomat.net> <84txvhskmu.fsf@siart.de>
 <20120901192713.GJ5314@histomat.net>
Message-ID: <CAC1phyZgepTOaphsvFKi+9L3xKZDTqaEbVaZ8+2NwAB+x0EnHA@mail.gmail.com>

2012/9/1 Haines Brown <haines at histomat.net>:
> On Sat, Sep 01, 2012 at 07:44:41PM +0200, Uwe Siart wrote:
>> As the others already mentioned: pdflatex is called instead of xelatex.
>> I believe that either your editor is fooling or you are making a mistake
>> in using it.
>>
>> Haines Brown <haines at histomat.net> writes:
>>
>> > Documents compile with xelatex, but if \usepackage{polyglossia}
>> > appears in the preamble, I get "XeLaTeX: done"
>>
>> This message is not from LaTeX output. It is created by your editor and
>> it makes you believe that you ran XeLaTeX. But ...
>>
>> > The log says:
>> >
>> >   This is pdfTeX, Version 3.1415926-2.3-1.40.12 (TeX Live 2011)
>> >     (format=pdflatex 2011.10.30 entering extended mode
>>
>> Clearly: pdflatex is actually called. So no surprise that ...
>
>
> Uwe,
>
> In my editor, I changed the TeX engine to default, and now when I
> compile the tex document my log start with:
>
>   This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
>          (format=xelatex 2012.8.31) 1 SEP 2012 15:15
>
> Incidentally, I have TL2011, not TL2012. While I updated the packages
> in TL2011, I did not upgrade to TL2012 (or at least as far as I know).
>
> The log file ends with:
>
>   ) (/home/haines/texlive/2011/texmf-dist/tex/latex/metalogo/metalogo.sty))
>
>   ! LaTeX Error: File `(.sty' not found.
>
>   Type X to quit or <RETURN> to proceed,
>   or enter new name. (Default extension: sty)
>
>   Enter file name:
>
> I used tlmgr to install the metalogo package, but get same results.
> When I type in metalogo at the prompt, nothing happens.
>
This is a correct behaviour, as the log says, metalogo.sty has already
been read but the question is why LaTeX wants to read (.sty, this is a
strange file name. It might be a result of bad grouping or a conflict
between packages.

> Haines



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From dluecking at sbcglobal.net  Sun Sep  2 05:16:04 2012
From: dluecking at sbcglobal.net (Dan&Jan Luecking)
Date: Sat, 1 Sep 2012 22:16:04 -0500
Subject: [tex-live] Polyglossia breaks XeLaTeX
Message-ID: <344204.16910.qm@smtp107.sbc.mail.mud.yahoo.com>

On Sat Sep 1 2012 at 20:24:41 CEST, Haines Brown 
<mailto:tex-live%40tug.org?Subject=Re%3A%20%5Btex-live%5D%20Polyglossia%20breaks%20XeLaTeX&In-Reply-To=%3C20120901182441.GH5314%40histomat.net%3E>haines 
at histomat.net wrote:

>Here again is the test document preamble (first line changed fom xetex
>to XeLaTeX):
>
>   %!TEX TS-program = XeLaTeX

Is this correct? Isn't Unix case sensitive? Shouldn't it be xelatex?

>   %!TEX encoding = UTF-8 Unicode
>
>   \documentclass[12pt,titlepage]{article}
>   \usepackage{xltxtra}
>   \usepackage{xunicode,fontspec}
>   \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
>   \usepackage{polyglossia} % conflicts with csquotes, fullpage, and biblatex.

You should include a complete (but minimal) document that shows
the problem, not just a preamble.

On Sat Sep 1 2012 at 21:27:13 CEST, Haines Brown 
<mailto:tex-live%40tug.org?Subject=Re%3A%20%5Btex-live%5D%20Polyglossia%20breaks%20XeLaTeX&In-Reply-To=%3C20120901192713.GJ5314%40histomat.net%3E>haines 
at histomat.net wrote:

>The log file ends with:
>
>   ) (/home/haines/texlive/2011/texmf-dist/tex/latex/metalogo/metalogo.sty))
>
>   ! LaTeX Error: File `(.sty' not found.

Check for a line like
   \usepackage(foo)
using parentheses instead of braces. Also, create a complete
minimal document and someone would quickly discover such an
error.


Dan

Daniel H. Luecking
Department of Mathematical Sciences
Fayetteville, Arkansas
http://www-cs-faculty.stanford.edu/~knuth/iaq.html 


From joseph.wright at morningstar2.co.uk  Sun Sep  2 10:12:50 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 2 Sep 2012 09:12:50 +0100
Subject: [tex-live] Per user texmf.cnf
Message-ID: <50431502.1020301@morningstar2.co.uk>

Hello all,

I'm trying to tackle a question on TeX-sx:
http://tex.stackexchange.com/questions/66614/change-texmfhome-per-user.
This is about moving TEXMFHOME, but seems to require a per user
TEXMFCONFIG. I couldn't seem to get this to work, so would value some
advice. On my Mac, I get

  palladium:~ joseph$ kpsewhich --var-value TEXMFCONFIG
  /Users/joseph/Library/texlive/2012/texmf-config

so tried creating a texmf.cnf file there containing a line to move
TEXMFHOME.

 TEXMFHOME = ~/texmf

but

  kpsewhich --var-value TEXMFHOME

showed no change (~/Library/texmf).

A quick search finds
http://people.debian.org/~preining/TeX/TeX-on-Debian/ch2.html#s-sec-user-config-files,
but I did not follow this really: as TEXMFCONFIG points to a
perfectly-valid location, why does it not lead to texmf.cnf being found?
Are there any general instructions for using texmf.cnf on a per user basis?
--
Joseph Wright

From komascript at gmx.info  Sun Sep  2 11:08:17 2012
From: komascript at gmx.info (Markus Kohm)
Date: Sun, 2 Sep 2012 11:08:17 +0200
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <50431502.1020301@morningstar2.co.uk>
References: <50431502.1020301@morningstar2.co.uk>
Message-ID: <9977944.bz8z8q79er@mailjo.komascript.de>

> On my Mac, I get
> 
>   palladium:~ joseph$ kpsewhich --var-value TEXMFCONFIG
>   /Users/joseph/Library/texlive/2012/texmf-config
> 
> so tried creating a texmf.cnf file there

AFAIK kpathsea uses environment variable TEXMFCNF to find texmf.cnf not 
TEXMFCONFIG. See `texdoc kpathsea` (section 3.2.1) for more information.

Markus Kohm
-- 
KOMA-Script, a versatile bundle of classes and packages for LaTeX2e
Current: KOMA-Script 3.11b (see <http://www.komascript.de/release> in German)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20120902/8b59f838/attachment.bin>

From lomov.vl at gmail.com  Sun Sep  2 11:15:35 2012
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sun, 2 Sep 2012 18:15:35 +0900
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <50431502.1020301@morningstar2.co.uk>
References: <50431502.1020301@morningstar2.co.uk>
Message-ID: <20120902091535.GH837@smoon>

Hello,

** Joseph Wright [2012-09-02 09:12:50 +0100]:

> Hello all,

> I'm trying to tackle a question on TeX-sx:
> http://tex.stackexchange.com/questions/66614/change-texmfhome-per-user.

If I were you I've wondered at first if this question is asked by
ordinal user or by admin, who performed the TeX Live installation.

I try to answer the TSE question:

TSE> I would like to know if it's possible to change the default TEXMFHOME location.

I wonder why?

TSE> Partly because I dislike the idea of programs cluttering my home
TSE> directory with non-hidden files or directories (such as ~/texmf/)

See the TL manual: 2.3 Overview of the predefined texmf trees,
http://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-110002.3

quote:

TEXMFHOME

    The tree which users can use for their own individual installations
    of additional or updated macros, fonts, etc. The expansion of this
    variable dynamically adjusts for each user to their own individual
    directory.

If user don't have own macros he or she will never need the ~/texmf.

TSE> partly because I would like to be able to manually install new
TSE> LaTeX packages wherever I like for example in
TSE> /software/local-foo/
TSE> /software/local-bar/

IMHO, this is not good "thing", only expert and experience users
can do that without risk to break the TL installation.

TSE> I know I could change the TEXMFHOME environment variable, but is
TSE> there also a per-user config file which could change where LaTeX &
TSE> friends look for files?

This is very dangerous! I gave some advices in past (on this ML) about
something similar and even made a note about various ways to add several
user manageable texmf trees.

> This is about moving TEXMFHOME, but seems to require a per user
> TEXMFCONFIG. I couldn't seem to get this to work, so would value some
> advice. On my Mac, I get

>   palladium:~ joseph$ kpsewhich --var-value TEXMFCONFIG
>   /Users/joseph/Library/texlive/2012/texmf-config

> so tried creating a texmf.cnf file there containing a line to move
> TEXMFHOME.

>  TEXMFHOME = ~/texmf

> but

>   kpsewhich --var-value TEXMFHOME

> showed no change (~/Library/texmf).

That's because your `texmf.cnf' isn't read at all. Try to run

kpsewhich -var-value TEXMFCNF

to see the paths where `texmf.cnf' will be searched.

If you wish that `~/texmf.cnf' file be found and read you'll have to set
`TEXMFCNF' environment variable and set appropriate value to it.

> A quick search finds
> http://people.debian.org/~preining/TeX/TeX-on-Debian/ch2.html#s-sec-user-config-files,
> but I did not follow this really: as TEXMFCONFIG points to a
> perfectly-valid location, why does it not lead to texmf.cnf being found?
> Are there any general instructions for using texmf.cnf on a per user basis?

---
WBR, Vladimir Lomov

-- 
Metermaids eat their young.

From preining at logic.at  Sun Sep  2 15:58:59 2012
From: preining at logic.at (Norbert Preining)
Date: Sun, 2 Sep 2012 22:58:59 +0900
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <50431502.1020301@morningstar2.co.uk>
References: <50431502.1020301@morningstar2.co.uk>
Message-ID: <20120902135859.GB12558@gandalf.dynalias.org>

On Sun, 02 Sep 2012, Joseph Wright wrote:
>   /Users/joseph/Library/texlive/2012/texmf-config
> 
> so tried creating a texmf.cnf file there containing a line to move
> TEXMFHOME.
> 
>  TEXMFHOME = ~/texmf

1. why, it is already ~/texmf ???

2. you need to put it into texmf-config/web2c/texmf.cnf ...as you might
have guessed from the location of the other texmf.cnf files.

> http://people.debian.org/~preining/TeX/TeX-on-Debian/ch2.html#s-sec-user-config-files,

And what is written there ... please *read* it, too!
	..they can put it into TEXMFCONFIG/web2c..

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
IBSTOCK (n.)
Anything used to make a noise on a corrugated iron wall or
clinker-built fence by dragging it along the surface while walking
past it. 'Mr Bennett thoughtfully selected a stout ibstock and left
the house.' - Jane Austen, Pride and Prejudice, II.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sun Sep  2 16:01:22 2012
From: preining at logic.at (Norbert Preining)
Date: Sun, 2 Sep 2012 23:01:22 +0900
Subject: [tex-live] Creating tlnet packages
In-Reply-To: <504243D9.3000503@imf.au.dk>
References: <504243D9.3000503@imf.au.dk>
Message-ID: <20120902140122.GC12558@gandalf.dynalias.org>

Hi Lars,

On Sat, 01 Sep 2012, Lars Madsen wrote:
> But is the information as to how one manage such a repo and how one
> build/prepare the packages available somewhere online?

http://www.tug.org/svn/texlive/trunk/Master/tlpkg/doc/repository-setup.txt?view=markup

might be slightly outdated and wrong, but it worked for several
other people by now ;-)

If you have suggestions for improving it, please let me know.

I might go over it at some point and check if all is still valid.
...at some point...

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
He expanded his chest to make it totally clear that here
was the sort of man you only dared to cross if you had a
team of Sherpas with you.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From joseph.wright at morningstar2.co.uk  Sun Sep  2 16:23:44 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 2 Sep 2012 15:23:44 +0100
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <20120902135859.GB12558@gandalf.dynalias.org>
References: <50431502.1020301@morningstar2.co.uk>
 <20120902135859.GB12558@gandalf.dynalias.org>
Message-ID: <50436BF0.7050905@morningstar2.co.uk>

On 02/09/2012 14:58, Norbert Preining wrote:
> On Sun, 02 Sep 2012, Joseph Wright wrote:
>>   /Users/joseph/Library/texlive/2012/texmf-config
>>
>> so tried creating a texmf.cnf file there containing a line to move
>> TEXMFHOME.
>>
>>  TEXMFHOME = ~/texmf
> 
> 1. why, it is already ~/texmf ???

I'm just testing, so the location is unimportant provided it's different
from the default. As I'm testing on my Mac, the default is
~/Library/texmf. Perhaps better if I'd said

  TEXMFHOME = /some/deliberately/changed/place

(This does not need to 'work' beyond giving the expected output from
"kpsewhich --var-value TEXMFHOME".)

> 2. you need to put it into texmf-config/web2c/texmf.cnf ...as you might
> have guessed from the location of the other texmf.cnf files.
> 
>> http://people.debian.org/~preining/TeX/TeX-on-Debian/ch2.html#s-sec-user-config-files,
> 
> And what is written there ... please *read* it, too!
> 	..they can put it into TEXMFCONFIG/web2c..
I did read this, and I tried it too. However, neither

  ~/Library/texlive/2012/texmf-config/texmf.cnf

nor

  ~/Library/texlive/2012/texmf-config/web2c/texmf.cnf

seemed to work (I also tried ~/texmf.cnf and ./texmf.cnf, just in case).
Moreover, the 'master' texmf.cnf is in
/usr/local/texlive/2012/texmf.cnf, with no 'web2c' part to the directory
structure.

The part of the linked instructions I find odd is that is says you need to

     export TEXMFCNF=$HOME/.texmf-config/web2c:

but

  kpsewhich --var-value TEXMFCONFIG

already has a location.
--
Joseph Wright

From preining at logic.at  Sun Sep  2 16:36:11 2012
From: preining at logic.at (Norbert Preining)
Date: Sun, 2 Sep 2012 23:36:11 +0900
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <50436BF0.7050905@morningstar2.co.uk>
References: <50431502.1020301@morningstar2.co.uk>
 <20120902135859.GB12558@gandalf.dynalias.org>
 <50436BF0.7050905@morningstar2.co.uk>
Message-ID: <20120902143610.GA23070@gandalf.dynalias.org>

On Sun, 02 Sep 2012, Joseph Wright wrote:
>   ~/Library/texlive/2012/texmf-config/web2c/texmf.cnf

mktexlsr ~/Library/texlive/2012/texmf-config
export TEXMFCNF=$HOME/.texmf-config/web2c:
kpsewhich -var-value TEXMFHOME

did work here for me ... (besides that I used 
	~/tl/2012/texmf-config/web2c
instead of ~/Library...

If you don't want to use TEXMFCNF, I recommend editing/adding
one of the files in the paths given by
	kpsewhich -show-path texmf.cnf
? FOr example ../2012/../texmf-local/web2c/

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
VENTNOR (n.) One who, having been visited as a child by a mysterious
gypsy lady, is gifted with the strange power of being able to operate
the air-nozzles above aeroplane seats.
			--- Douglas Adams, The Meaning of Liff

From haines at histomat.net  Sun Sep  2 16:37:15 2012
From: haines at histomat.net (Haines Brown)
Date: Sun, 2 Sep 2012 10:37:15 -0400
Subject: [tex-live] [dluecking@sbcglobal.net: Re: Polyglossia breaks XeLaTeX]
Message-ID: <20120902143715.GK5314@histomat.net>

----- Forwarded message from Dan&Jan Luecking <dluecking at sbcglobal.net> -----

Date: Sat, 1 Sep 2012 22:16:04 -0500
From: Dan&Jan Luecking <dluecking at sbcglobal.net>
To: tex-live at tug.org
Subject: Re: [tex-live] Polyglossia breaks XeLaTeX
X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9

On Sat Sep 1 2012 at 20:24:41 CEST, Haines Brown <mailto:tex-live%40tug.org?Subject=Re%3A%20%5Btex-live%5D%20Polyglossia%20breaks%20XeLaTeX&In-Reply-To=%3C20120901182441.GH5314%40histomat.net%3E>haines
at histomat.net wrote:

> > Here again is the test document preamble (first line changed fom xetex
> > to XeLaTeX):
> > 
> >   %!TEX TS-program = XeLaTeX

> Is this correct? Isn't Unix case sensitive? Shouldn't it be xelatex? 

I don't know. I just copied it from somewhere. It was not apparent that 
two lines are even needed. Note below the "Running 'XeLaTeX'".

Here's a test document in its entirety:

  %!TEX TS-program = xelatex
  %!TEX encoding = UTF-8 Unicode

  \documentclass[12pt,titlepage]{article}
  \usepackage{xltxtra}
  \usepackage{xunicode,fontspec}
  \usepackage(csquotes}
  \begin{document}
  body
  \end{document}

When not using the csquotes package, things work (the PDF displays 
"body"). However, with use of this package (or polyglossia) I get an 
error. When I do C-c C-l I get:

  Running `XeLaTeX' on `test-xelatex-document' with ``xelatex test-xelatex-document.tex''
  This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
   restricted \write18 enabled.
  entering extended mode
  (./test-xelatex-document.tex
  LaTeX2e <2011/06/27>
  ...
  *************************************************
  * LaTeX warning: "xparse/redefine-command"
  * 
  * Redefining document command \textsuperscript with arg. spec. 's' on line 28.
  *************************************************
  ) (/home/haines/texlive/2011/texmf-dist/tex/latex/metalogo/metalogo.sty))

  ! LaTeX Error: File `(.sty' not found.

  Type X to quit or <RETURN> to proceed,
  or enter new name. (Default extension: sty)

  Enter file name: 

> Check for a line like
>   \usepackage(foo)
> using parentheses instead of braces. 

There were no lines at all that contained the string "usepackage". 

I checked the .log file also, and the string was not in it 
either, nor a string "csquotes".

I have no idea why it says "TeX Live 2012" above. I had a TL2011 
installation and all I did was to run tlmgr and did "Update all 
installed". I didn't expect this to install TL2012, but I see that 
tlmgr is the version for 2012. However, I have ~/texlive/2011 (and no 
/usr/local/texlive). If I inadvertantly upgraded to TL2012, I'm not 
surprised I have problems. But If I have TL2012 in a 2011 dirctory, I 
don't know how to fix it.


Haines Brown

From joseph.wright at morningstar2.co.uk  Sun Sep  2 16:59:01 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sun, 2 Sep 2012 15:59:01 +0100
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <20120902143610.GA23070@gandalf.dynalias.org>
References: <50431502.1020301@morningstar2.co.uk>
 <20120902135859.GB12558@gandalf.dynalias.org>
 <50436BF0.7050905@morningstar2.co.uk>
 <20120902143610.GA23070@gandalf.dynalias.org>
Message-ID: <50437435.1030305@morningstar2.co.uk>

On 02/09/2012 15:36, Norbert Preining wrote:
> On Sun, 02 Sep 2012, Joseph Wright wrote:
>>   ~/Library/texlive/2012/texmf-config/web2c/texmf.cnf
> 
> mktexlsr ~/Library/texlive/2012/texmf-config
> export TEXMFCNF=$HOME/.texmf-config/web2c:
> kpsewhich -var-value TEXMFHOME
> 
> did work here for me ... (besides that I used 
> 	~/tl/2012/texmf-config/web2c
> instead of ~/Library...
> 
> If you don't want to use TEXMFCNF, I recommend editing/adding
> one of the files in the paths given by
> 	kpsewhich -show-path texmf.cnf
> ? FOr example ../2012/../texmf-local/web2c/
> 
> Best wishes
> 
> Norbert

Ah, I see what I was getting wrong: there is a variable "TEXMFCONFIG"
and and a variable "TEXMFCNF", and they are not synonyms.

Going back to my original context, am I correct in understanding that
there is no per user location for which a texmf.cnf file is read as
standard (i.e. that TEXMFCNF does not include any directory relative to
"~"). If so, am I correct in understanding that the only way to move
TEXMFHOME on a per user basis is to set at least one environmental
variable (either TEXMFCNF then using a local texmf.cnf to move
TEXMFHOME, or setting TEXMFHOME directly)?
--
Joseph Wright

From zdenek.wagner at gmail.com  Sun Sep  2 17:17:38 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 2 Sep 2012 17:17:38 +0200
Subject: [tex-live] [dluecking@sbcglobal.net: Re: Polyglossia breaks
	XeLaTeX]
In-Reply-To: <20120902143715.GK5314@histomat.net>
References: <20120902143715.GK5314@histomat.net>
Message-ID: <CAC1phyYFJOxPaJcodqRHUveU5FdSaCC7ZZE2Q4zjy7VDnQqnOw@mail.gmail.com>

2012/9/2 Haines Brown <haines at histomat.net>:
> ----- Forwarded message from Dan&Jan Luecking <dluecking at sbcglobal.net> -----
>
> Date: Sat, 1 Sep 2012 22:16:04 -0500
> From: Dan&Jan Luecking <dluecking at sbcglobal.net>
> To: tex-live at tug.org
> Subject: Re: [tex-live] Polyglossia breaks XeLaTeX
> X-Mailer: QUALCOMM Windows Eudora Version 7.1.0.9
>
> On Sat Sep 1 2012 at 20:24:41 CEST, Haines Brown <mailto:tex-live%40tug.org?Subject=Re%3A%20%5Btex-live%5D%20Polyglossia%20breaks%20XeLaTeX&In-Reply-To=%3C20120901182441.GH5314%40histomat.net%3E>haines
> at histomat.net wrote:
>
>> > Here again is the test document preamble (first line changed fom xetex
>> > to XeLaTeX):
>> >
>> >   %!TEX TS-program = XeLaTeX
>
>> Is this correct? Isn't Unix case sensitive? Shouldn't it be xelatex?
>
> I don't know. I just copied it from somewhere. It was not apparent that
> two lines are even needed. Note below the "Running 'XeLaTeX'".
>
> Here's a test document in its entirety:
>
>   %!TEX TS-program = xelatex
>   %!TEX encoding = UTF-8 Unicode
>
>   \documentclass[12pt,titlepage]{article}
>   \usepackage{xltxtra}
>   \usepackage{xunicode,fontspec}
>   \usepackage(csquotes}
>   \begin{document}
>   body
>   \end{document}
>
> When not using the csquotes package, things work (the PDF displays
> "body"). However, with use of this package (or polyglossia) I get an
> error. When I do C-c C-l I get:
>
As already pointed by Dan, you have ( instead of { when calling
csquotes. \usepackage thus takes ( as its single argument and tries to
load (.sty.

>   Running `XeLaTeX' on `test-xelatex-document' with ``xelatex test-xelatex-document.tex''
>   This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
>    restricted \write18 enabled.
>   entering extended mode
>   (./test-xelatex-document.tex
>   LaTeX2e <2011/06/27>
>   ...
>   *************************************************
>   * LaTeX warning: "xparse/redefine-command"
>   *
>   * Redefining document command \textsuperscript with arg. spec. 's' on line 28.
>   *************************************************
>   ) (/home/haines/texlive/2011/texmf-dist/tex/latex/metalogo/metalogo.sty))
>
>   ! LaTeX Error: File `(.sty' not found.
>
>   Type X to quit or <RETURN> to proceed,
>   or enter new name. (Default extension: sty)
>
>   Enter file name:
>
>> Check for a line like
>>   \usepackage(foo)
>> using parentheses instead of braces.
>
> There were no lines at all that contained the string "usepackage".
>
> I checked the .log file also, and the string was not in it
> either, nor a string "csquotes".
>
> I have no idea why it says "TeX Live 2012" above. I had a TL2011
> installation and all I did was to run tlmgr and did "Update all
> installed". I didn't expect this to install TL2012, but I see that
> tlmgr is the version for 2012. However, I have ~/texlive/2011 (and no
> /usr/local/texlive). If I inadvertantly upgraded to TL2012, I'm not
> surprised I have problems. But If I have TL2012 in a 2011 dirctory, I
> don't know how to fix it.
>
>
> Haines Brown



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From haines at histomat.net  Sun Sep  2 19:12:01 2012
From: haines at histomat.net (Haines Brown)
Date: Sun, 2 Sep 2012 13:12:01 -0400
Subject: [tex-live] [zdenek.wagner@gmail.com: Re: [dluecking@sbcglobal.net:
 Re: Polyglossia breaks XeLaTeX]]
Message-ID: <20120902171201.GL5314@histomat.net>

----- Forwarded message from Zdenek Wagner <zdenek.wagner at gmail.com> -----

Date: Sun, 2 Sep 2012 17:17:38 +0200
From: Zdenek Wagner <zdenek.wagner at gmail.com>
To: Haines Brown <haines at histomat.net>
Cc: tex-live at tug.org
Subject: Re: [tex-live] [dluecking at sbcglobal.net: Re: Polyglossia breaks XeLaTeX]

> As already pointed by Dan, you have ( instead of { when calling
> csquotes. \usepackage thus takes ( as its single argument and tries to
> load (.sty.

Ouch! My apologies to Dan. I misunderstood his point. I fixed the typo.

But the basic problem remains: I can't use polyglosia in conjunction 
with csquotes, fullpage, or biblatex.

Here's the document:

  %!TEX TS-program = xelatex
  %!TEX encoding = UTF-8 Unicode

  \documentclass[12pt,titlepage]{article}
  \usepackage{xltxtra}
  \usepackage{xunicode,fontspec}
  % \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
  \usepackage{csquotes} % 
  % \usepackage{fullpage} 
  \usepackage{polyglossia} 
  \begin{document}
  body
  \end{document}

And here is the errror:

  Running `XeLaTeX' on `test-xelatex-document' with ``xelatex test-xelatex-document.tex''
  This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
   restricted \write18 enabled.
  entering extended mode
  ...
  (/home/haines/texlive/2011/texmf-dist/tex/generic/xkeyval/xkeyval.tex)))

  Package csquotes Warning: Using preliminary 'polyglossia' interface.
  (csquotes)                Some of the multilingual features may not
  (csquotes)                work as expected.

  ! Undefined control sequence.
  \csq at main@language ->\xpg at main@language 
                                        
  l.17 \begin{document}

I don't understand. The undefined control sequence does not seem to refer to csquotes. 

For some reason I can't scroll the error message in emacs/AUCTeX, but when I run the
command in a terminal, the error message has several sections like this:

  ...
  ? s
  OK, entering \scrollmode...
  ! Undefined control sequence.
  <argument> blx at file@\bbl at main@language 
                                       .lbx
  l.18 \begin{document}
                     
  ! Undefined control sequence.
  <write> ...g to load language '\bbl at main@language 
                                                  '..\@gobble \on at line .
  l.18 \begin{document}
                     
  ! Undefined control sequence.
  <argument> \bbl at main@language 
                              .lbx

But it produces a PDF. 



Haines Brown

From zdenek.wagner at gmail.com  Sun Sep  2 19:27:56 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 2 Sep 2012 19:27:56 +0200
Subject: [tex-live] [zdenek.wagner@gmail.com: Re:
 [dluecking@sbcglobal.net: Re: Polyglossia breaks XeLaTeX]]
In-Reply-To: <20120902171201.GL5314@histomat.net>
References: <20120902171201.GL5314@histomat.net>
Message-ID: <CAC1phyaRAOGUeew3s+fGoj_uMzzJKd2jxuccuhSYq-2O4LiOWw@mail.gmail.com>

2012/9/2 Haines Brown <haines at histomat.net>:
> ----- Forwarded message from Zdenek Wagner <zdenek.wagner at gmail.com> -----
>
> Date: Sun, 2 Sep 2012 17:17:38 +0200
> From: Zdenek Wagner <zdenek.wagner at gmail.com>
> To: Haines Brown <haines at histomat.net>
> Cc: tex-live at tug.org
> Subject: Re: [tex-live] [dluecking at sbcglobal.net: Re: Polyglossia breaks XeLaTeX]
>
>> As already pointed by Dan, you have ( instead of { when calling
>> csquotes. \usepackage thus takes ( as its single argument and tries to
>> load (.sty.
>
> Ouch! My apologies to Dan. I misunderstood his point. I fixed the typo.
>
> But the basic problem remains: I can't use polyglosia in conjunction
> with csquotes, fullpage, or biblatex.
>
> Here's the document:
>
>   %!TEX TS-program = xelatex
>   %!TEX encoding = UTF-8 Unicode
>
>   \documentclass[12pt,titlepage]{article}
>   \usepackage{xltxtra}
>   \usepackage{xunicode,fontspec}
>   % \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} %
>   \usepackage{csquotes} %
>   % \usepackage{fullpage}
>   \usepackage{polyglossia}
>   \begin{document}
>   body
>   \end{document}
>
> And here is the errror:
>
>   Running `XeLaTeX' on `test-xelatex-document' with ``xelatex test-xelatex-document.tex''
>   This is XeTeX, Version 3.1415926-2.4-0.9998 (TeX Live 2012)
>    restricted \write18 enabled.
>   entering extended mode
>   ...
>   (/home/haines/texlive/2011/texmf-dist/tex/generic/xkeyval/xkeyval.tex)))
>
>   Package csquotes Warning: Using preliminary 'polyglossia' interface.
>   (csquotes)                Some of the multilingual features may not
>   (csquotes)                work as expected.
>
>   ! Undefined control sequence.
>   \csq at main@language ->\xpg at main@language
>
>   l.17 \begin{document}
>
> I don't understand. The undefined control sequence does not seem to refer to csquotes.
>
See `texdoc csquotes`, the note at the bottome of page 2. The
polyglossia support in csquotes is experimental. Moreover, in your
file the default language for polyglossia is undefined, this may be
the reason why csquotes fails.

> For some reason I can't scroll the error message in emacs/AUCTeX, but when I run the
> command in a terminal, the error message has several sections like this:
>
>   ...
>   ? s
>   OK, entering \scrollmode...
>   ! Undefined control sequence.
>   <argument> blx at file@\bbl at main@language
>                                        .lbx
>   l.18 \begin{document}
>
>   ! Undefined control sequence.
>   <write> ...g to load language '\bbl at main@language
>                                                   '..\@gobble \on at line .
>   l.18 \begin{document}
>
>   ! Undefined control sequence.
>   <argument> \bbl at main@language
>                               .lbx
>
> But it produces a PDF.
>
>
>
> Haines Brown



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From karl at freefriends.org  Sun Sep  2 19:32:16 2012
From: karl at freefriends.org (Karl Berry)
Date: Sun, 2 Sep 2012 17:32:16 +0000
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <50437435.1030305@morningstar2.co.uk>
Message-ID: <201209021732.q82HWGIi027056@freefriends.org>

Hi Joseph,

    Ah, I see what I was getting wrong: there is a variable "TEXMFCONFIG"
    and and a variable "TEXMFCNF", and they are not synonyms.

Right.

    am I correct in understanding that there is no per user location for
    which a texmf.cnf file is read as standard (i.e. that TEXMFCNF does
    not include any directory relative to "~").

Yes.  (See the definition of TEXMFCNF in texmf.cnf.)

    If so, am I correct in understanding that the only way to move
    TEXMFHOME on a per user basis is to set at least one environmental
    variable (either TEXMFCNF then using a local texmf.cnf to move
    TEXMFHOME, or setting TEXMFHOME directly)?

Yes, and I would strongly recommend the latter.  Stay away from creating
your own texmf.cnf unless it's absolutely necessary.  Usually it isn't.

Best,
k

From joseph.wright at morningstar2.co.uk  Mon Sep  3 09:00:46 2012
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Sep 2012 08:00:46 +0100
Subject: [tex-live] Per user texmf.cnf
In-Reply-To: <201209021732.q82HWGIi027056@freefriends.org>
References: <201209021732.q82HWGIi027056@freefriends.org>
Message-ID: <5044559E.9090009@morningstar2.co.uk>

On 02/09/2012 18:32, Karl Berry wrote:
> Hi Joseph,
> 
>     Ah, I see what I was getting wrong: there is a variable "TEXMFCONFIG"
>     and and a variable "TEXMFCNF", and they are not synonyms.
> 
> Right.
> 
>     am I correct in understanding that there is no per user location for
>     which a texmf.cnf file is read as standard (i.e. that TEXMFCNF does
>     not include any directory relative to "~").
> 
> Yes.  (See the definition of TEXMFCNF in texmf.cnf.)
> 
>     If so, am I correct in understanding that the only way to move
>     TEXMFHOME on a per user basis is to set at least one environmental
>     variable (either TEXMFCNF then using a local texmf.cnf to move
>     TEXMFHOME, or setting TEXMFHOME directly)?
> 
> Yes, and I would strongly recommend the latter.  Stay away from creating
> your own texmf.cnf unless it's absolutely necessary.  Usually it isn't.
> 
> Best,
> k

Hello Karl
Thanks for that, particularly last comment: I was not sure from the docs
which of the two solutions was preferred.
--
Joseph Wright

From news3 at nililand.de  Mon Sep  3 10:45:02 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 3 Sep 2012 10:45:02 +0200
Subject: [tex-live] Polyglossia breaks XeLaTeX
References: <20120902171201.GL5314@histomat.net>
Message-ID: <9e0653j6ckre$.dlg@nililand.de>

Am Sun, 2 Sep 2012 13:12:01 -0400 schrieb Haines Brown:

> But the basic problem remains: I can't use polyglosia in conjunction 
> with csquotes, fullpage, or biblatex.

This here works fine for me on a current miktex 2.9. If it fails for
you you should make the complete log-file available so that one can
compare the versions

\listfiles
\documentclass[12pt,titlepage]{article}
\usepackage{fontspec}
\usepackage{polyglossia}
\setmainlanguage{german}
\setotherlanguage{english}
\usepackage[autostyle=true]{csquotes}
\MakeAutoQuote{?}{?}
\begin{document}
?body?
\selectlanguage{english}

?body?

\selectlanguage{german}  
?body?
\end{document}

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From haines at histomat.net  Mon Sep  3 16:51:14 2012
From: haines at histomat.net (Haines Brown)
Date: Mon, 3 Sep 2012 10:51:14 -0400
Subject: [tex-live] [Solved] Re:  Polyglossia breaks XeLaTeX
In-Reply-To: <9e0653j6ckre$.dlg@nililand.de>
References: <20120902171201.GL5314@histomat.net>
 <9e0653j6ckre$.dlg@nililand.de>
Message-ID: <20120903145114.GM5314@histomat.net>

On Mon, Sep 03, 2012 at 10:45:02AM +0200, Ulrike Fischer wrote:
> Am Sun, 2 Sep 2012 13:12:01 -0400 schrieb Haines Brown:
> 
> > But the basic problem remains: I can't use polyglosia in conjunction 
> > with csquotes, fullpage, or biblatex.
> 
> This here works fine for me on a current miktex 2.9. If it fails for
> you you should make the complete log-file available so that one can
> compare the versions
> 
> \listfiles
> \documentclass[12pt,titlepage]{article}
> \usepackage{fontspec}
> \usepackage{polyglossia}
> \setmainlanguage{german}
> \setotherlanguage{english}
> \usepackage[autostyle=true]{csquotes}
> \MakeAutoQuote{?}{?}
> \begin{document}
> ?body?
> \selectlanguage{english}
> 
> ?body?
> 
> \selectlanguage{german}  
> ?body?
> \end{document}
> 
> -- 
> Ulrike Fischer 
> http://www.troubleshooting-tex.de/


Ulrike, thank you for the snippet. Because it ran, it encouraged me to 
play around some more, and I came to the conclusion that polyglossia 
had to be called early on in the preamble. For example, this order 
currently works for me:

  %!TEX TS-program = xetex
  %!TEX encoding = UTF-8 Unicode

  \documentclass[12pt,titlepage]{article}
  \usepackage{xltxtra,xunicode}
  \usepackage{polyglossia} 
    \setmainlanguage{english}
  \usepackage[backend=biber,style=authoryear,sorting=nyt]{biblatex} 
  \usepackage{comment,csquotes,url,fullpage}  
  \usepackage{xeCJK} 
  \newfontfamily\Chinese{AR PL KaitiM GB}
  ...

Haines Brown

From news3 at nililand.de  Mon Sep  3 17:35:12 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 3 Sep 2012 17:35:12 +0200
Subject: [tex-live] [Solved] Re:  Polyglossia breaks XeLaTeX
References: <20120902171201.GL5314@histomat.net>
 <9e0653j6ckre$.dlg@nililand.de> <20120903145114.GM5314@histomat.net>
Message-ID: <13s5nirfvrfpr.dlg@nililand.de>

Am Mon, 3 Sep 2012 10:51:14 -0400 schrieb Haines Brown:


>   \usepackage{xltxtra,xunicode}

You seem to call this packages and fontspec a bit at random. So:

  \usepackage{fontspec} is normally enough (it will load xunicode)

If you need the additionaly definitions you can also use 

  \usepackage{xltxtra} (it will load fontspec and xunicode).




-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From arthur.j.odwyer at gmail.com  Mon Sep  3 23:38:38 2012
From: arthur.j.odwyer at gmail.com (Arthur O'Dwyer)
Date: Mon, 3 Sep 2012 14:38:38 -0700
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
	characters
Message-ID: <CADvuK0L7-FwkB3ZP0vHY+6VFZcQgheLa=db16-F7yJNNMPdwWg@mail.gmail.com>

The source-only version of CWEAVE available via CTAN
(http://mirrors.ctan.org/web/c_cpp/cweb/cweb-3.64ad.tar.gz) sets the
"longest_name" macro to 10000, which seems fine. But the TexLive
version of /usr/bin/cweave installed on my Ubuntu system (Ubuntu
11.10) seems to have been compiled with "longest_name" set to 1024.
This makes it impossible to weave some of Knuth's programs listed at
http://www-cs-faculty.stanford.edu/~knuth/programs.html.

Would it be possible for the next patch-release of TexLive to build
CWEAVE with the "longest_name" macro set to at least 3000?

Here's a minimal example. (Also notice that the woven "test.tex"
starts out okay and then descends into a spew of garbage characters,
due to the fact that the output string isn't null-terminated.
Personally I would consider this a bug in CWEAVE, but I'm sure it's a
known issue, and it's not like it happens *silently*.)

Thanks,
-Arthur

ajo at ubuntu:/tmp$ cat >test.w <<EOF
@*A Simple Example.
@c
int main(void)
{
   printf("You are on the edge of a breath-taking view.  Far below you is an\n\
active volcano, from which great gouts of molten lava come surging\n\
out, cascading back down into the depths.  The glowing rock fills the\n\
farthest reaches of the cavern with a blood-red glare, giving every-\n\
thing an eerie, macabre appearance.  The air is filled with flickering\n\
sparks of ash and a heavy smell of brimstone.  The walls are hot to\n\
the touch, and the thundering of the volcano drowns out all other\n\
sounds.  Embedded in the jagged roof far overhead are myriad twisted\n\
formations, composed of pure white alabaster, which scatter the murky\n\
light into sinister apparitions upon the walls.  To one side is a deep\n\
gorge, filled with a bizarre chaos of tortured rock that seems to have\n\
been crafted by the Devil himself.  An immense river of fire crashes\n\
out from the depths of the volcano, burns its way through the gorge,\n\
and plummets into a bottomless pit far off to your left.  To the\n\
right, an immense geyser...");
}
EOF
ajo at ubuntu:/tmp$ cweave test.w
This is CWEAVE, Version 3.64 (TeX Live 2009/Debian)
*1
! String too long: "You are on the edge of a...
Writing the output file...*1
! String too long: "You are on the edge of a...
Writing the index...
Done.
(Pardon me, but I think I spotted something wrong.)
ajo at ubuntu:/tmp$ uname -a
Linux ubuntu 3.0.0-23-generic #39-Ubuntu SMP Thu Jul 19 19:18:53 UTC
2012 i686 i686 i386 GNU/Linux
ajo at ubuntu:/tmp$ cweave --version
CWEAVE 3.64 (TeX Live 2009/Debian)
kpathsea version 5.0.0
Copyright 2009 Silvio Levy and Donald E. Knuth.
There is NO warranty.  Redistribution of this software is
covered by the terms of both the CWEAVE copyright and
the Lesser GNU General Public License.
For more information about these matters, see the file
named COPYING and the CWEAVE source.
Primary author of CWEAVE: Silvio Levy and Donald E. Knuth.

From preining at logic.at  Tue Sep  4 00:12:23 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 4 Sep 2012 07:12:23 +0900
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
 characters
In-Reply-To: <CADvuK0L7-FwkB3ZP0vHY+6VFZcQgheLa=db16-F7yJNNMPdwWg@mail.gmail.com>
References: <CADvuK0L7-FwkB3ZP0vHY+6VFZcQgheLa=db16-F7yJNNMPdwWg@mail.gmail.com>
Message-ID: <20120903221223.GA12100@gandalf.dynalias.org>

Hi Arthur,

> CWEAVE 3.64 (TeX Live 2009/Debian)

First of all to make a few things clear:
- this is a list for the development of TeX Live
- TeX Live 2012 has been released a few months ago from TUG
- your question is Debian/Ubuntu specific and should be asked
  at the appropriate places, which is not here, but some 
  Ubuntu support channel

Now for the details:

On Mon, 03 Sep 2012, Arthur O'Dwyer wrote:
> version of /usr/bin/cweave installed on my Ubuntu system (Ubuntu
> 11.10) seems to have been compiled with "longest_name" set to 1024.

Yes, because this release of TeX Live for Debian is based on TeX Live 2009.

The next version of TeX Live for Debian is already in Debian sid and
testing and will be included in the soon to be released Debian stable.
In Ubuntu it is included in the current dev branch and will be in the 12.10
release.

There is nothing else we can do now.

You could think about installing the TeX Live 2012 backport for Ubuntu
(please search yourself), or even better, just install the normal
upstream TeX Live as provided from tug.org.

Best wishes

Norbert
also responsible for TeX Live on Debian

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
BABWORTH
Something which justifies having a really good cry.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Tue Sep  4 01:19:14 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 4 Sep 2012 08:19:14 +0900
Subject: [tex-live] ulqda and Digest::SHA(1)
In-Reply-To: <20120903205530.32078.62728.malonedeb@chaenomeles.canonical.com>
References: <20120903205530.32078.62728.malonedeb@chaenomeles.canonical.com>
 <20120903205530.32078.62728.malonedeb@chaenomeles.canonical.com>
Message-ID: <20120903231914.GM12100@gandalf.dynalias.org>

Hi Ivan,

thanks for your work on ulqda. Recently a bug was reported to
the Ubuntu bug tracker, but it is the same in many other
distributions is my guess:

On Mon, 03 Sep 2012, Steven Goodpaster wrote:
> I'm trying to use ChemFig (included with texlive-science) to draw a
> chemical's structural formula within a LaTeX document. It appears to
> depend on a now depreciated/removed libdigest-sha1-perl, when it should
> instead depend on its replacement libdigest-sha-perl.  I'm using version
> texlive-science 2012.20120611-1~ubuntu12.04.1

And that is true, it calls
	use Digest::SHA1 ...
which is not available in at least Debian and Ubuntu, but has been
replaced by Digest::SHA.

I would suggest adding instead the following code to the
script which makes it run with both SHA1 and SHA:
----
eval { require Digest::SHA1; };
if ($@) {
  require Digest::SHA;
  Digest::SHA->import(qw(sha1 sha1_hex sha1_base64));
  print "loadins SHA...\n";
} else {
  Digest::SHA1->import(qw(sha1 sha1_hex sha1_base64));
}
----

Thanks for considering this item.

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
He dropped his voice still lower. In the stillness, a fly
would not have dared cleat its throat.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From karl at freefriends.org  Tue Sep  4 01:25:17 2012
From: karl at freefriends.org (Karl Berry)
Date: Mon, 3 Sep 2012 23:25:17 +0000
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <503D2E7A.2080508@imf.au.dk>
Message-ID: <201209032325.q83NPHO3013619@freefriends.org>

    this usually happen if you haven't installed perldoc

That should not matter.  We check for whether perldoc is in PATH.
Specifically, the help output is constructed from the pod by calling the
Perl function pod2usage (http://perldoc.perl.org/Pod/Usage.html), and
pass the -noperldoc option if perldoc is not in PATH.

If I remove all the perldocs in my PATH and run tlmgr --help, I do still
see the help msg, not the script.

If someone can give a recipe to reproduce seeing the script from using
--help, we can try to fix it.

karl

P.S. FWIW, the --help output is on the web at
http://tug.org/texlive/doc/tlmgr.html.

From karl at freefriends.org  Tue Sep  4 01:59:27 2012
From: karl at freefriends.org (Karl Berry)
Date: Mon, 3 Sep 2012 17:59:27 -0600
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com> (message
 from Kevin Godby on Mon, 3 Sep 2012 18:55:02 -0500)
Message-ID: <86wr0au080.fsf@frenzy.freefriends.org>

Hi Kevin,

    First, a dummy /usr/bin/perldoc executable is provided by the perl

Oh.  How useless.

Ok, will have to change tlmgr to check for a functional perldoc instead
of mere existence.  Sigh.

Thanks much for the info,
k

From arthur.j.odwyer at gmail.com  Tue Sep  4 02:53:53 2012
From: arthur.j.odwyer at gmail.com (Arthur O'Dwyer)
Date: Mon, 3 Sep 2012 17:53:53 -0700
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
	characters
In-Reply-To: <20120903221223.GA12100@gandalf.dynalias.org>
References: <CADvuK0L7-FwkB3ZP0vHY+6VFZcQgheLa=db16-F7yJNNMPdwWg@mail.gmail.com>
 <20120903221223.GA12100@gandalf.dynalias.org>
Message-ID: <CADvuK0+O6JhSkw3WJf2rmQHTLDGHYXgRztBGgAFDtHWGHdpyZA@mail.gmail.com>

On Mon, Sep 3, 2012 at 3:12 PM, Norbert Preining <preining at logic.at> wrote:
> Hi Arthur,
>
>> CWEAVE 3.64 (TeX Live 2009/Debian)
>
> First of all to make a few things clear:
> - this is a list for the development of TeX Live
> - TeX Live 2012 has been released a few months ago from TUG
> - your question is Debian/Ubuntu specific and should be asked
>   at the appropriate places, which is not here, but some
>   Ubuntu support channel

The only way your statement could be true is if TeX Live doesn't
actually include CWEAVE. I admit it's been a long time since I
installed it, so it's *possible* that I got CWEB from some other
source, rather than from the official TeX Live distribution.

But!  I did some more googling, and found a way to download the
official TeX Live sources:

http://www.tug.org/texlive/build.html
> rsync -a --delete --exclude=.svn tug.org::tldevsrc/Build/source/ /your/dir/

So I did this, and looked at the macros defined by TeX Live's
distribution of CWEAVE.

ajo at ubuntu:/tmp$ rsync -a --delete --exclude=.svn
tug.org::tldevsrc/Build/source/ ./texlive-2012
ajo at ubuntu:/tmp$ cd texlive-2012/texk/web2c/cwebdir
ajo at ubuntu:/tmp/texlive-2012/texk/web2c/cwebdir$ grep longest_name
cweave.w | head -1
@d longest_name 1000 /* section names and strings shouldn't be longer
than this */

Ah-HA! TeX Live's build of CWEAVE is setting longest_name to 1000.
This is Too Short; it results in garbage output when string literals
exceed 1000 characters. I recommend using Levy & Knuth's original
value of 10000.

Would it be possible for the next patch-release of TexLive to build
CWEAVE with the "longest_name" macro set to at least 3000?


> The next version of TeX Live for Debian is already in Debian sid and
> testing and will be included in the soon to be released Debian stable.
> In Ubuntu it is included in the current dev branch and will be in the 12.10
> release.

I'm not sure how your statement is relevant. I understand that it
could take a long time for any new changes in TeX Live to propagate
down into Ubuntu's package system --- and in particular that I
shouldn't expect upgrading my Ubuntu system to 12.10 to magically fix
the problem --- but that doesn't mean that
> there is nothing else we can do now.
I think I've pointed out a real deficiency in the CWEAVE currently
distributed with TeX Live (a deficiency which does not exist in
Levy/Knuth's original), and in this followup email I've even gone so
far as to pinpoint the exact line in the current TeXLive sources
hosted on tug.org. Tell me where to send the patch, and I'll patch it
for you too. :)

> You could think about installing the TeX Live 2012 backport for Ubuntu
> (please search yourself), or even better, just install the normal
> upstream TeX Live as provided from tug.org.

If this deficiency gets fixed in TeX Live 2013, I'll definitely
consider upgrading to TeX Live 2013. It is *not* fixed in TeX Live
2012, so there's no point in my upgrading yet.

Thanks,
-Arthur

From arthur.j.odwyer at gmail.com  Tue Sep  4 03:06:05 2012
From: arthur.j.odwyer at gmail.com (Arthur O'Dwyer)
Date: Mon, 3 Sep 2012 18:06:05 -0700
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
	characters
In-Reply-To: <CADvuK0+O6JhSkw3WJf2rmQHTLDGHYXgRztBGgAFDtHWGHdpyZA@mail.gmail.com>
References: <CADvuK0L7-FwkB3ZP0vHY+6VFZcQgheLa=db16-F7yJNNMPdwWg@mail.gmail.com>
 <20120903221223.GA12100@gandalf.dynalias.org>
 <CADvuK0+O6JhSkw3WJf2rmQHTLDGHYXgRztBGgAFDtHWGHdpyZA@mail.gmail.com>
Message-ID: <CADvuK0LJ6ivu9EzYcaDYKH7aVcneBnkvqt3ojgTw7L6cbUQUDA@mail.gmail.com>

To clarify: When I say "Levy and Knuth's original", I'm referring to
the version of cweave.w that's found in cweb.tar.gz downloadable from
this web page:
http://www-cs-faculty.stanford.edu/~uno/cweb.html

In this version (dated 2008-04-28), "longest_name" is defined to 10000.

-Arthur

On Mon, Sep 3, 2012 at 5:53 PM, Arthur O'Dwyer
<arthur.j.odwyer at gmail.com> wrote:
> On Mon, Sep 3, 2012 at 3:12 PM, Norbert Preining <preining at logic.at> wrote:
>> Hi Arthur,
>>
>>> CWEAVE 3.64 (TeX Live 2009/Debian)
>>
>> First of all to make a few things clear:
>> - this is a list for the development of TeX Live
>> - TeX Live 2012 has been released a few months ago from TUG
>> - your question is Debian/Ubuntu specific and should be asked
>>   at the appropriate places, which is not here, but some
>>   Ubuntu support channel
>
> The only way your statement could be true is if TeX Live doesn't
> actually include CWEAVE. I admit it's been a long time since I
> installed it, so it's *possible* that I got CWEB from some other
> source, rather than from the official TeX Live distribution.
>
> But!  I did some more googling, and found a way to download the
> official TeX Live sources:
>
> http://www.tug.org/texlive/build.html
>> rsync -a --delete --exclude=.svn tug.org::tldevsrc/Build/source/ /your/dir/
>
> So I did this, and looked at the macros defined by TeX Live's
> distribution of CWEAVE.
>
> ajo at ubuntu:/tmp$ rsync -a --delete --exclude=.svn
> tug.org::tldevsrc/Build/source/ ./texlive-2012
> ajo at ubuntu:/tmp$ cd texlive-2012/texk/web2c/cwebdir
> ajo at ubuntu:/tmp/texlive-2012/texk/web2c/cwebdir$ grep longest_name
> cweave.w | head -1
> @d longest_name 1000 /* section names and strings shouldn't be longer
> than this */
>
> Ah-HA! TeX Live's build of CWEAVE is setting longest_name to 1000.
> This is Too Short; it results in garbage output when string literals
> exceed 1000 characters. I recommend using Levy & Knuth's original
> value of 10000.
>
> Would it be possible for the next patch-release of TexLive to build
> CWEAVE with the "longest_name" macro set to at least 3000?
>
>
>> The next version of TeX Live for Debian is already in Debian sid and
>> testing and will be included in the soon to be released Debian stable.
>> In Ubuntu it is included in the current dev branch and will be in the 12.10
>> release.
>
> I'm not sure how your statement is relevant. I understand that it
> could take a long time for any new changes in TeX Live to propagate
> down into Ubuntu's package system --- and in particular that I
> shouldn't expect upgrading my Ubuntu system to 12.10 to magically fix
> the problem --- but that doesn't mean that
>> there is nothing else we can do now.
> I think I've pointed out a real deficiency in the CWEAVE currently
> distributed with TeX Live (a deficiency which does not exist in
> Levy/Knuth's original), and in this followup email I've even gone so
> far as to pinpoint the exact line in the current TeXLive sources
> hosted on tug.org. Tell me where to send the patch, and I'll patch it
> for you too. :)
>
>> You could think about installing the TeX Live 2012 backport for Ubuntu
>> (please search yourself), or even better, just install the normal
>> upstream TeX Live as provided from tug.org.
>
> If this deficiency gets fixed in TeX Live 2013, I'll definitely
> consider upgrading to TeX Live 2013. It is *not* fixed in TeX Live
> 2012, so there's no point in my upgrading yet.
>
> Thanks,
> -Arthur

From preining at logic.at  Tue Sep  4 03:21:33 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 4 Sep 2012 10:21:33 +0900
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
 characters
In-Reply-To: <CADvuK0LJ6ivu9EzYcaDYKH7aVcneBnkvqt3ojgTw7L6cbUQUDA@mail.gmail.com>
 <CADvuK0+O6JhSkw3WJf2rmQHTLDGHYXgRztBGgAFDtHWGHdpyZA@mail.gmail.com>
Message-ID: <20120904012133.GR12100@gandalf.dynalias.org>

Hi Arthur,

ok ... sorry I assumed that it is different in TeX Live 2012 ...

On Mon, 03 Sep 2012, Arthur O'Dwyer wrote:
> ajo at ubuntu:/tmp$ cd texlive-2012/texk/web2c/cwebdir
> ajo at ubuntu:/tmp/texlive-2012/texk/web2c/cwebdir$ grep longest_name
> cweave.w | head -1
> @d longest_name 1000 /* section names and strings shouldn't be longer
> than this */

Indeed. So it seems that this should be changed.

Karl, Peter???

> Would it be possible for the next patch-release of TexLive to build
> CWEAVE with the "longest_name" macro set to at least 3000?

What do you mean with "patch-release" - please do NOT mix 
Debian and upstream TeX Live. I am speaking here in a double position:
I am both one of the maintainers of the real TeX Live as distributed
by TUG, as well as the maintainer of TeX Live in Debian. And Ubuntu
takes what is in Debian.

> > The next version of TeX Live for Debian is already in Debian sid and
> > testing and will be included in the soon to be released Debian stable.
> > In Ubuntu it is included in the current dev branch and will be in the 12.10
> > release.
> 
> I'm not sure how your statement is relevant. I understand that it
> could take a long time for any new changes in TeX Live to propagate
> down into Ubuntu's package system --- and in particular that I

Right.

> shouldn't expect upgrading my Ubuntu system to 12.10 to magically fix
> the problem --- but that doesn't mean that

Again, please do not mix up things. Here some facts:

- TeX Live 2009 in Ubuntu will very probably not fix that. *I* on the
Debian side will not fix it, no interest since the new Debian/stable will
be released soon, and this is not a security fix.

- TeX Live 2012 in Ubuntu *MIGHT* fix it *IF* I fix it in Debian, and 
the fix is accepted into testing. This is not automatic anymore, since
Debian is in pre-release freeze.

- TeX Live 2012 (upstream, TUG) will not fix it, since we cannot recompile all
binaries for all architecture.

- TeX Live 2013 (upstream, TUG) will very probably adjust this parameter

- TeX Live 2013 Debian will include it, of course.

> I think I've pointed out a real deficiency in the CWEAVE currently
> distributed with TeX Live (a deficiency which does not exist in
> Levy/Knuth's original), and in this followup email I've even gone so
> far as to pinpoint the exact line in the current TeXLive sources
> hosted on tug.org. Tell me where to send the patch, and I'll patch it
> for you too. :)

No need to send a patch. We see the problem, thanks for pointing it out.

But you don't understand the procedure to go through to get fixes
into releases of Ubuntu and Debian, as well as update to TeX Live proper,
so please trust us.

> If this deficiency gets fixed in TeX Live 2013, I'll definitely
> consider upgrading to TeX Live 2013. It is *not* fixed in TeX Live
> 2012, so there's no point in my upgrading yet.

RIght, by now it is not fixed in TL 2012, nor TUG nor Debian nor Ubuntu.

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
TEGUCIGALPA (n.)
An embarrassing mistake arising out of confusing the shape of
something rather rude with something perfectly ordinary when groping
for it in the darkness. A common example of a tegucigalpa is when a
woman pulls a packet of Tampax out of her bag and offers them around
under the impression that it is a carton of cigarettes.
			--- Douglas Adams, The Meaning of Liff

From arthur.j.odwyer at gmail.com  Tue Sep  4 04:32:51 2012
From: arthur.j.odwyer at gmail.com (Arthur O'Dwyer)
Date: Mon, 3 Sep 2012 19:32:51 -0700
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
	characters
In-Reply-To: <20120904012133.GR12100@gandalf.dynalias.org>
References: <CADvuK0LJ6ivu9EzYcaDYKH7aVcneBnkvqt3ojgTw7L6cbUQUDA@mail.gmail.com>
 <CADvuK0+O6JhSkw3WJf2rmQHTLDGHYXgRztBGgAFDtHWGHdpyZA@mail.gmail.com>
 <20120904012133.GR12100@gandalf.dynalias.org>
Message-ID: <CADvuK0LrZ99NjuRjpa+nU90URcmsu7_5qZc7oHFqByz1kiYtvQ@mail.gmail.com>

On Mon, Sep 3, 2012 at 6:21 PM, Norbert Preining <preining at logic.at> wrote:
> On Mon, 03 Sep 2012, Arthur O'Dwyer wrote:
>> Would it be possible for the next patch-release of TexLive to build
>> CWEAVE with the "longest_name" macro set to at least 3000?
>
> What do you mean with "patch-release" - please do NOT mix
> Debian and upstream TeX Live.

Well, as you know, I'm not an expert on the internal politics of
TeXLive, Debian, or Ubuntu/Canonical. So by "the next patch-release",
I just mean "whatever is the next update that will be seen by the end
user."  In other words: Today my /usr/bin/cweave has a bug. Sometime
in the future, something will happen that causes the
last-modified-time of /usr/bin/cweave to change. When that happens, it
would be nice if the new /usr/bin/cweave didn't have the bug anymore.

Obviously there are a lot of different "downstreams"; even addressing
the problem in Debian won't cause the bug to go away for Windows
users. But it seems like the *first* prerequisite is for someone to
address the problem in TeXLive itself, so that anyone who rsyncs with
tug.org::tldevsrc/Build/source/ will see the fix.

Beyond that... If this fix can be pushed downstream fast enough to get
into Ubuntu 12.10, that would be nice. If it misses the initial
release of Ubuntu 12.10 but shows up in "Update Manager" a few months
later --- I'm *pretty* sure I've seen occasional updates to texlive
come through there --- that would also be nice. If Ubuntu's packaging
gnomes don't get around to packaging a fixed version until 2015, that
would suck but there's nothing I can do about it. And so on, and so
forth.

Thanks,
-Arthur

From preining at logic.at  Tue Sep  4 04:49:22 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 4 Sep 2012 11:49:22 +0900
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
 characters
In-Reply-To: <CADvuK0LrZ99NjuRjpa+nU90URcmsu7_5qZc7oHFqByz1kiYtvQ@mail.gmail.com>
References: <CADvuK0LJ6ivu9EzYcaDYKH7aVcneBnkvqt3ojgTw7L6cbUQUDA@mail.gmail.com>
 <CADvuK0+O6JhSkw3WJf2rmQHTLDGHYXgRztBGgAFDtHWGHdpyZA@mail.gmail.com>
 <20120904012133.GR12100@gandalf.dynalias.org>
 <CADvuK0LrZ99NjuRjpa+nU90URcmsu7_5qZc7oHFqByz1kiYtvQ@mail.gmail.com>
Message-ID: <20120904024922.GA24461@gandalf.dynalias.org>

On Mon, 03 Sep 2012, Arthur O'Dwyer wrote:
> users. But it seems like the *first* prerequisite is for someone to
> address the problem in TeXLive itself, so that anyone who rsyncs with
> tug.org::tldevsrc/Build/source/ will see the fix.

That is why in the last email I wrote
	Karl? Peter?
who are the ones doing this stuff and will surely answer at some point
in future.

> Beyond that... If this fix can be pushed downstream fast enough to get
> into Ubuntu 12.10, that would be nice. If it misses the initial

My procedure will be the following:
- wait for Karl and Peter to answer
- if accepted prepare a new texlive-bin package
- upload it to Debian/unstable and ask release-managers to include
  it in testing
- if it is in testing, Ubuntu will pull it for sure
  if it is not in testing, one can request that it will get pulled 
  from unstable 
  (but I don't know anything about the internals of Ubuntu)

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
in the space-time continuum.'
is he? Is he?'
                 --- Arthur failing in his first lesson of galactic physics
                 --- in four years.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From godbyk at gmail.com  Tue Sep  4 01:55:02 2012
From: godbyk at gmail.com (Kevin Godby)
Date: Mon, 3 Sep 2012 18:55:02 -0500
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <201209032325.q83NPHO3013619@freefriends.org>
References: <503D2E7A.2080508@imf.au.dk>
 <201209032325.q83NPHO3013619@freefriends.org>
Message-ID: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>

Hello, Karl.

On Mon, Sep 3, 2012 at 6:25 PM, Karl Berry <karl at freefriends.org> wrote:
> That should not matter.  We check for whether perldoc is in PATH.
> Specifically, the help output is constructed from the pod by calling the
> Perl function pod2usage (http://perldoc.perl.org/Pod/Usage.html), and
> pass the -noperldoc option if perldoc is not in PATH.
>
> If I remove all the perldocs in my PATH and run tlmgr --help, I do still
> see the help msg, not the script.
>
> If someone can give a recipe to reproduce seeing the script from using
> --help, we can try to fix it.

I'm happy to help track down the problem as I've encountered it myself.

First, a dummy /usr/bin/perldoc executable is provided by the perl
Ubuntu package. This perldoc script contains only the following:

    #!/bin/sh
    # place-holder, diverted by perl-doc
    echo You need to install the perl-doc package to use this program. >&2
    exit 1

So the call to TeXLive::TLUtils::which("perldoc") returns
"/usr/bin/perldoc" and therefore the noperldoc option is set to 0.

I'm not familiar enough with perldoc or pod2usage, so I can't say what
happens next without doing some more digging, but the end result is
that the source of the tlmgr script is loaded into the pager.

Installing the perl-doc Ubuntu package replaces the /usr/bin/perldoc
script with one that calls Pod::Perldoc->run();

If I can provide more information, please let me know.

Thanks!

--Kevin Godby

From godbyk at gmail.com  Tue Sep  4 02:07:02 2012
From: godbyk at gmail.com (Kevin Godby)
Date: Mon, 3 Sep 2012 19:07:02 -0500
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <86wr0au080.fsf@frenzy.freefriends.org>
References: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <86wr0au080.fsf@frenzy.freefriends.org>
Message-ID: <CABk3zN4xNLwxYob_oicePwFYfY7bTZhismT8+PytCePmS0kpRw@mail.gmail.com>

Hi, Karl.

On Mon, Sep 3, 2012 at 6:59 PM, Karl Berry <karl at freefriends.org> wrote:
> Ok, will have to change tlmgr to check for a functional perldoc instead
> of mere existence.  Sigh.

Unfortunately, that won't help. If I hard-code @noperldoc =
("-noperldoc", "0"); then the tlmgr script is still displayed verbatim
with less.  So I'm guessing that it's something to do with pod2usage
or deeper.

--Kevin

From Robin.Fairbairns at cl.cam.ac.uk  Tue Sep  4 18:35:53 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 4 Sep 2012 17:35:53 +0100
Subject: [tex-live] pst-doc.cls
Message-ID: <9871.1346776553@cl.cam.ac.uk>

somehow, that's ended up in pstricks doc folders.  kpsewhich doesn't
find it there, of course.

apparently it's used in other pstricks packages' docs, which means that
users can't easily compile those files.  such a user has surfaced on
comp.text.tex (miktex doesn't have the file at all, afaict).

robin



From tobilot at gmx.de  Tue Sep  4 20:39:32 2012
From: tobilot at gmx.de (tobilot)
Date: Tue, 4 Sep 2012 20:39:32 +0200
Subject: [tex-live] Bug in release 20120903
Message-ID: <50464AE4.1050408@gmx.de>

Hi list,
it is the first time I use this list. So when this list is not the proper way to adress my problem then just let me know!
To make it brief: I tried to install texlive on a server (gentoo) all the way into a user-home directory. I changed the default path values (under <D> 
-> (1)) to match the user directories where I have full write permissions.
But installation itself doesnt't went through fairly smooth, there were issues about 'no such file or directory' concerning mainly kpsewhich.
The install-logfile wrote:

....
Time used for installing the packages: 00:37
running mktexlsr $HOME/usr/local/texlive/2012/texmf-dist $HOME/usr/local/texlive/2012/texmf...
writing fmtutil.cnf to $HOME/usr/local/texlive/2012/texmf-var/web2c/fmtutil.cnf
writing updmap.cfg to $HOME/usr/local/texlive/2012/texmf-dist/web2c/updmap.cfg
writing language.dat to $HOME/usr/local/texlive/2012/texmf-var/tex/generic/config/language.dat
writing language.def to $HOME/usr/local/texlive/2012/texmf-var/tex/generic/config/language.def
writing language.dat.lua to $HOME/usr/local/texlive/2012/texmf-var/tex/generic/config/language.dat.lua
running mktexlsr $HOME/usr/local/texlive/2012/texmf-var $HOME/usr/local/texlive/2012/texmf-config $HOME/usr/local/texlive/2012/texmf-dist ...
running updmap-sys...$HOME/usr/local/texlive/2012/bin/x86_64-linux/updmap-sys: line 23: $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No 
such file or directory
$HOME/usr/local/texlive/2012/bin/x86_64-linux/updmap-sys: line 24: $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No such file or directory
Can't exec "kpsewhich": No such file or directory at $HOME/usr/local/texlive/2012/bin/x86_64-linux/updmap line 26.
updmap: Cannot find TEXMFROOT, aborting!
done
re-running mktexlsr $HOME/usr/local/texlive/2012/texmf-var $HOME/usr/local/texlive/2012/texmf-config...
pre-generating all format files (fmtutil-sys --all), be patient...$HOME/usr/local/texlive/2012/bin/x86_64-linux/fmtutil-sys: line 22: 
$HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No such file or directory
$HOME/usr/local/texlive/2012/bin/x86_64-linux/fmtutil-sys: line 23: $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No such file or directory
$HOME/usr/local/texlive/2012/bin/x86_64-linux/fmtutil: line 216: $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No such file or directory
$HOME/usr/local/texlive/2012/bin/x86_64-linux/fmtutil: line 395: /texconfig/tcfmgr: No such file or directory
fmtutil: config file `fmtutil.cnf' not found.
done
running package-specific postactions
postaction install script for dvipdfmx: perl /tlpkg/tlpostcode/dvipdfmx.pl
finished with package-specific postactions
-------------------------------------

whereas $HOME represents my user-homedirectory. I have just manually replaced this with the word $HOME in the above snippet.
I know its unusual to have another usr/local structure under $HOME but this is not causing the problem here.

As I am not very familiar with all that deep stuff I asked my server provider and they tried to execute kpsewhich with SSH and ./kpsewhich but this 
was NOT successful.
Then they made a try with strace and that's what the output was:

***************************************************
strace ./kpsewhich
execve("./kpsewhich", ["./kpsewhich"], [/* 26 vars */]) = -1 ENOENT (No
such file or directory)
dup(2)                                  = 3
fcntl64(3, F_GETFL)                     = 0x8002 (flags O_RDWR|O_LARGEFILE)
fstat64(3, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 0), ...}) = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1,
0) = 0xf052d000
_llseek(3, 0, 0xf9730248, SEEK_CUR)     = -1 ESPIPE (Illegal seek)
write(3, "strace: exec: No such file or di"..., 40strace: exec: No such
file or directory
) = 40
close(3)                                = 0
munmap(0xf052d000, 4096)                = 0
brk(0x80b9000)                          = 0x80b9000
exit_group(1)                           = ?
******************************************

The support team says they think that the script looks for a directory or there are dependencies which are not correctly set. They even tried it in 
their testing environment and this issue was reproducable
Other files like texindex were executable:

*****************************
texindex --version
texindex (GNU texinfo) 4.13

Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later
<http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
*****************************

I used this link with wget to get the latest texlive on my server:

http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz

Conclusion:
There must be something wrong with variables which should normally get a specific path. According the install.log this must be in:
updmap-sys: line 23:
updmap-sys: line 24:
updmap line 26
fmtutil-sys: line 23
fmtutil: line 216
fmtutil: line 395
respectively in their symlinked target files.

All the files which appears to be missing, are definitely physically there!

OK, my problem is, I have not the knowledge to dig into all the code and therefore I hope someone in this list can help to fix this. I don't either 
know how and where to file a ticket in a bugtracker.

Of course I set the pathvariable to "....bin/x86_64-linux:"

Thanks and regards
Tobias

From karl at freefriends.org  Tue Sep  4 23:55:28 2012
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Sep 2012 21:55:28 +0000
Subject: [tex-live] pst-doc.cls
In-Reply-To: <9871.1346776553@cl.cam.ac.uk>
Message-ID: <201209042155.q84LtSOB028570@freefriends.org>

Hi Robin,

    somehow, that's ended up in pstricks doc folders.  

Because it's in a doc/ directory on CTAN:
graphics/pstricks/base/doc/pst-doc.cls.

Anyway, I moved it to the runtime.  Thanks for mentioning it.

k

From preining at logic.at  Wed Sep  5 00:15:16 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Sep 2012 07:15:16 +0900
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <CABk3zN4xNLwxYob_oicePwFYfY7bTZhismT8+PytCePmS0kpRw@mail.gmail.com>
References: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <86wr0au080.fsf@frenzy.freefriends.org>
 <CABk3zN4xNLwxYob_oicePwFYfY7bTZhismT8+PytCePmS0kpRw@mail.gmail.com>
Message-ID: <20120904221516.GB12043@gandalf.dynalias.org>

On Mon, 03 Sep 2012, Kevin Godby wrote:
> Unfortunately, that won't help. If I hard-code @noperldoc =
> ("-noperldoc", "0"); then the tlmgr script is still displayed verbatim

Please try
	@noperldoc = ("-noperldoc", "1");
double negations are tricky ;-)))

Does it still go wrong?

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
BARSTIBLEY
A humorous device such as a china horse or small naked porcelain
infant which jocular hosts use of piss water into your Scotch with.
			--- Douglas Adams, The Meaning of Liff

From reinhard.kotucha at web.de  Wed Sep  5 00:18:16 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 5 Sep 2012 00:18:16 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
References: <503D2E7A.2080508@imf.au.dk>
 <201209032325.q83NPHO3013619@freefriends.org>
 <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
Message-ID: <20550.32296.854615.735559@zaphod.ms25.net>

On 2012-09-03 at 18:55:02 -0500, Kevin Godby wrote:

 > [...]
 > First, a dummy /usr/bin/perldoc executable is provided by the perl
 > Ubuntu package. This perldoc script contains only the following:
 > 
 >     #!/bin/sh
 >     # place-holder, diverted by perl-doc
 >     echo You need to install the perl-doc package to use this program. >&2
 >     exit 1
 > 
 > So the call to TeXLive::TLUtils::which("perldoc") returns
 > "/usr/bin/perldoc" and therefore the noperldoc option is set to 0.
 > [...]

It seems to be sufficient look to into the perldoc file and determine
from the shebang line whether it's a Perl or Shell script.  The "real"
perldoc script begins with #!/usr/bin/perl .

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From godbyk at gmail.com  Wed Sep  5 00:21:30 2012
From: godbyk at gmail.com (Kevin Godby)
Date: Tue, 4 Sep 2012 17:21:30 -0500
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <20120904221516.GB12043@gandalf.dynalias.org>
References: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <86wr0au080.fsf@frenzy.freefriends.org>
 <CABk3zN4xNLwxYob_oicePwFYfY7bTZhismT8+PytCePmS0kpRw@mail.gmail.com>
 <20120904221516.GB12043@gandalf.dynalias.org>
Message-ID: <CABk3zN4cthu+3dKFZzy2LSXmfyEaRfybDLT0zdVFXTQ_VubU1g@mail.gmail.com>

Hello, Norbert.

On Tue, Sep 4, 2012 at 5:15 PM, Norbert Preining <preining at logic.at> wrote:
> Please try
>         @noperldoc = ("-noperldoc", "1");
> double negations are tricky ;-)))

Ah, good catch!

> Does it still go wrong?

When I force it to 1, then it dumps the help text to the console (as it should).

So I take it back ? a more thorough check of the perldoc script (to
ensure that it's not the stub) should work.

The stub perldoc script does exit with a status code of 1 if that's at
all useful.

--Kevin


From preining at logic.at  Wed Sep  5 00:22:50 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Sep 2012 07:22:50 +0900
Subject: [tex-live] Bug in release 20120903
In-Reply-To: <50464AE4.1050408@gmx.de>
References: <50464AE4.1050408@gmx.de>
Message-ID: <20120904222250.GD12043@gandalf.dynalias.org>

On Tue, 04 Sep 2012, tobilot wrote:
> To make it brief: I tried to install texlive on a server (gentoo)
> all the way into a user-home directory. I changed the default path
> values (under <D> -> (1)) to match the user directories where I have
> full write permissions.

THat is, you set it to:
	$HOME/usr/local/texlive/2012
right?

> Time used for installing the packages: 00:37
> running mktexlsr $HOME/usr/local/texlive/2012/texmf-dist $HOME/usr/local/texlive/2012/texmf...
> writing fmtutil.cnf to $HOME/usr/local/texlive/2012/texmf-var/web2c/fmtutil.cnf
> writing updmap.cfg to $HOME/usr/local/texlive/2012/texmf-dist/web2c/updmap.cfg
> writing language.dat to $HOME/usr/local/texlive/2012/texmf-var/tex/generic/config/language.dat
> writing language.def to $HOME/usr/local/texlive/2012/texmf-var/tex/generic/config/language.def
> writing language.dat.lua to $HOME/usr/local/texlive/2012/texmf-var/tex/generic/config/language.dat.lua
> running mktexlsr $HOME/usr/local/texlive/2012/texmf-var $HOME/usr/local/texlive/2012/texmf-config $HOME/usr/local/texlive/2012/texmf-dist ...

so up to here all is fine.

> running updmap-sys...$HOME/usr/local/texlive/2012/bin/x86_64-linux/updmap-sys:
> line 23: $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No
> such file or directory


Huuu, ther is no kpsewhich ... Do you have this directory?
	$HOME/usr/local/texlive/2012/bin/x86_64-linux


> provider and they tried to execute kpsewhich with SSH and
> ./kpsewhich but this was NOT successful.

Of course -- if you run ./kpsewhich it means you are asking for
running it from the current dir, where it definitely is not present.

Try ssh-ing into it and type:
	which kpsewhich
and then
	ls $HOME/usr/local/texlive/2012/bin/x86_64-linux/
and send us the output.

> Then they made a try with strace and that's what the output was:

strace of a non-existing file ... umpf ... yes, thanks, we know
how that looks like .

> The support team says they think that the script looks for a
> directory or there are dependencies which are not correctly set.

Rubbish.

> All the files which appears to be missing, are definitely physically there!

Huuu?

Really?

Can you send the output of:
	which tlmgr
and if something is found, the output of
	tlmgr conf

> Of course I set the pathvariable to "....bin/x86_64-linux:"

STOP!!! WHAT did you set your PATH to, *EXACTLY* ...

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
SPROSTON GREEN (n.)
The violent colour of one of Nigel Rees's jackets, worn when he thinks
he's being elegant.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Wed Sep  5 00:32:15 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Sep 2012 07:32:15 +0900
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <CABk3zN4cthu+3dKFZzy2LSXmfyEaRfybDLT0zdVFXTQ_VubU1g@mail.gmail.com>
References: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <86wr0au080.fsf@frenzy.freefriends.org>
 <CABk3zN4xNLwxYob_oicePwFYfY7bTZhismT8+PytCePmS0kpRw@mail.gmail.com>
 <20120904221516.GB12043@gandalf.dynalias.org>
 <CABk3zN4cthu+3dKFZzy2LSXmfyEaRfybDLT0zdVFXTQ_VubU1g@mail.gmail.com>
Message-ID: <20120904223215.GF12043@gandalf.dynalias.org>

On Tue, 04 Sep 2012, Kevin Godby wrote:
> When I force it to 1, then it dumps the help text to the console (as it should).

Good. Can you work with patches? Please try the attached one against
the file
	.../2012/texmf/scripts/texlive/tlmgr.pl

and see if that works out automatically .. as it should ;-)

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
BABWORTH
Something which justifies having a really good cry.
			--- Douglas Adams, The Meaning of Liff
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tlmgr.diff
Type: text/x-diff
Size: 1183 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20120905/13fd876d/attachment.bin>

From karl at freefriends.org  Wed Sep  5 00:33:23 2012
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Sep 2012 16:33:23 -0600
Subject: [tex-live] Bug in release 20120903
In-Reply-To: <20120904222250.GD12043@gandalf.dynalias.org> (message from
 Norbert Preining on Wed, 5 Sep 2012 07:22:50 +0900)
Message-ID: <86sjaxto3w.fsf@frenzy.freefriends.org>

    > running updmap-sys...$HOME/usr/local/texlive/2012/bin/x86_64-linux/updmap-sys:
    > line 23: $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No
    > such file or directory

Sounds to me like $HOME did not get expanded, and hence it is looking
for a path with the literal string "$HOME/...", rather than
/home/whatever.

Variable expansion is not done on values you type to install-tl.
Please try using ~ instead of $HOME.

k

From preining at logic.at  Wed Sep  5 00:39:23 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Sep 2012 07:39:23 +0900
Subject: [tex-live] Bug in release 20120903
In-Reply-To: <86sjaxto3w.fsf@frenzy.freefriends.org>
References: <20120904222250.GD12043@gandalf.dynalias.org>
 <86sjaxto3w.fsf@frenzy.freefriends.org>
Message-ID: <20120904223923.GH12043@gandalf.dynalias.org>

On Tue, 04 Sep 2012, Karl Berry wrote:
>     > running updmap-sys...$HOME/usr/local/texlive/2012/bin/x86_64-linux/updmap-sys:
>     > line 23: $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No
>     > such file or directory
> 
> Sounds to me like $HOME did not get expanded, and hence it is looking
> for a path with the literal string "$HOME/...", rather than
> /home/whatever.

I think he said that he replaced it by hand in the email, but the
real path is ok ...

But you are right, that might be a problem.

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
And finally, " said Max, quieting the audience down and
putting on his solemn face, "finally I believe we have with
us here tonight, a party of believers, very devout
believers, from the Church of the Second Coming of the
Great Prophet Zarquon. " ... "There they are, " said Max,
"sitting there, patiently. He said he'd come again, and
he's kept you waiting a long time, so let's hope he's
hurrying fellas, because he's only got eight minutes left!
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From godbyk at gmail.com  Wed Sep  5 01:04:08 2012
From: godbyk at gmail.com (Kevin Godby)
Date: Tue, 4 Sep 2012 18:04:08 -0500
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <20120904223215.GF12043@gandalf.dynalias.org>
References: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <86wr0au080.fsf@frenzy.freefriends.org>
 <CABk3zN4xNLwxYob_oicePwFYfY7bTZhismT8+PytCePmS0kpRw@mail.gmail.com>
 <20120904221516.GB12043@gandalf.dynalias.org>
 <CABk3zN4cthu+3dKFZzy2LSXmfyEaRfybDLT0zdVFXTQ_VubU1g@mail.gmail.com>
 <20120904223215.GF12043@gandalf.dynalias.org>
Message-ID: <CABk3zN4NaSwdLpP+z48n5U=7WSPZ=dxN0Jyv8a8P4W5Bjq2s-Q@mail.gmail.com>

On Tue, Sep 4, 2012 at 5:32 PM, Norbert Preining <preining at logic.at> wrote:
> Good. Can you work with patches? Please try the attached one against
> the file
>         .../2012/texmf/scripts/texlive/tlmgr.pl
>
> and see if that works out automatically .. as it should ;-)

Worked perfectly!

When I tested it without the perl-doc Ubuntu package (i.e., with the
stub perldoc script), it outputted the help to the console.  When I
tested it with the perl-doc package (i.e., with the real perldoc
script), it sent the formatted output to my pager.

Nicely done!

--Kevin

From reinhard.kotucha at web.de  Wed Sep  5 01:06:05 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 5 Sep 2012 01:06:05 +0200
Subject: [tex-live] Bug in release 20120903
In-Reply-To: <20120904223923.GH12043@gandalf.dynalias.org>
References: <20120904222250.GD12043@gandalf.dynalias.org>
 <86sjaxto3w.fsf@frenzy.freefriends.org>
 <20120904223923.GH12043@gandalf.dynalias.org>
Message-ID: <20550.35165.588233.23378@zaphod.ms25.net>

On 2012-09-05 at 07:39:23 +0900, Norbert Preining wrote:

 > On Tue, 04 Sep 2012, Karl Berry wrote:
 > >  > running
 > >  > updmap-sys...$HOME/usr/local/texlive/2012/bin/x86_64-linux/updmap-sys:
 > >  > line 23:
 > >  > $HOME/usr/local/texlive/2012/bin/x86_64-linux/kpsewhich: No
 > >  > such file or directory
 > > 
 > > Sounds to me like $HOME did not get expanded, and hence it is looking
 > > for a path with the literal string "$HOME/...", rather than
 > > /home/whatever.
 > 
 > I think he said that he replaced it by hand in the email, but the
 > real path is ok ...
 > 
 > But you are right, that might be a problem.

Maybe it's helpful to have the *unmodified* output of

  tlmgr conf

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Wed Sep  5 01:11:46 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Sep 2012 08:11:46 +0900
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <CABk3zN4NaSwdLpP+z48n5U=7WSPZ=dxN0Jyv8a8P4W5Bjq2s-Q@mail.gmail.com>
References: <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <86wr0au080.fsf@frenzy.freefriends.org>
 <CABk3zN4xNLwxYob_oicePwFYfY7bTZhismT8+PytCePmS0kpRw@mail.gmail.com>
 <20120904221516.GB12043@gandalf.dynalias.org>
 <CABk3zN4cthu+3dKFZzy2LSXmfyEaRfybDLT0zdVFXTQ_VubU1g@mail.gmail.com>
 <20120904223215.GF12043@gandalf.dynalias.org>
 <CABk3zN4NaSwdLpP+z48n5U=7WSPZ=dxN0Jyv8a8P4W5Bjq2s-Q@mail.gmail.com>
Message-ID: <20120904231146.GK12043@gandalf.dynalias.org>

On Tue, 04 Sep 2012, Kevin Godby wrote:
> Worked perfectly!

Thanks for testing.

I have committed it to the svn repository, it will be in the
next release of tlmgr/texlive.infra.

When this will happen I don't know for now.

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
SEATTLE (vb.)
To make a noise like a train going along.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Wed Sep  5 01:35:39 2012
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Sep 2012 23:35:39 +0000
Subject: [tex-live] TexLive version of CWEB can't handle strings
	>1024	characters
In-Reply-To: <CADvuK0LJ6ivu9EzYcaDYKH7aVcneBnkvqt3ojgTw7L6cbUQUDA@mail.gmail.com>
Message-ID: <201209042335.q84NZdjb022296@freefriends.org>

Hi Arthur,

    http://www-cs-faculty.stanford.edu/~uno/cweb.html
    In this version (dated 2008-04-28), "longest_name" is defined to 10000.

Thankfully, that version
(ftp://ftp.cs.stanford.edu/pub/cweb/cweb.tar.gz) matches what is on
CTAN, in web/c_cpp/cweb.

I just updated the longest_name value in TL's cweave.w to match that
original.  There are a variety of other discrepancies to be ironed out,
as I noted incorrectly in the ChangeLog, but this seemed to be the only
case where the TL value is less than the original.

Thanks for the report.

karl

From preining at logic.at  Wed Sep  5 08:58:49 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Sep 2012 15:58:49 +0900
Subject: [tex-live] TexLive version of CWEB can't handle strings >1024
 characters
In-Reply-To: <20120904024922.GA24461@gandalf.dynalias.org>
References: <CADvuK0LJ6ivu9EzYcaDYKH7aVcneBnkvqt3ojgTw7L6cbUQUDA@mail.gmail.com>
 <CADvuK0+O6JhSkw3WJf2rmQHTLDGHYXgRztBGgAFDtHWGHdpyZA@mail.gmail.com>
 <20120904012133.GR12100@gandalf.dynalias.org>
 <CADvuK0LrZ99NjuRjpa+nU90URcmsu7_5qZc7oHFqByz1kiYtvQ@mail.gmail.com>
 <20120904024922.GA24461@gandalf.dynalias.org>
Message-ID: <20120905065849.GC15677@gandalf.dynalias.org>

Just FYI ...

On Tue, 04 Sep 2012, Norbert Preining wrote:
> - wait for Karl and Peter to answer
> - if accepted prepare a new texlive-bin package
> - upload it to Debian/unstable and ask release-managers to include
>   it in testing

the package is already in unstable and is unblocked, so it will
go into testing in 10 days unless new bugs pop up.

Transition to Ubuntu is out of my hands.

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
WEST WITTERING (participial vb.)
The uncontrollable twitching which breaks out when you're trying to
get away from the most boring person at a party.
			--- Douglas Adams, The Meaning of Liff

From daleif at imf.au.dk  Wed Sep  5 09:29:01 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Wed, 5 Sep 2012 09:29:01 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <20550.32296.854615.735559@zaphod.ms25.net>
References: <503D2E7A.2080508@imf.au.dk>
 <201209032325.q83NPHO3013619@freefriends.org>
 <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <20550.32296.854615.735559@zaphod.ms25.net>
Message-ID: <5046FF3D.50604@imf.au.dk>

Reinhard Kotucha wrote, On 2012-09-05 00:18:
> On 2012-09-03 at 18:55:02 -0500, Kevin Godby wrote:
> 
>  > [...]
>  > First, a dummy /usr/bin/perldoc executable is provided by the perl
>  > Ubuntu package. This perldoc script contains only the following:
>  > 
>  >     #!/bin/sh
>  >     # place-holder, diverted by perl-doc
>  >     echo You need to install the perl-doc package to use this program. >&2
>  >     exit 1
>  > 
>  > So the call to TeXLive::TLUtils::which("perldoc") returns
>  > "/usr/bin/perldoc" and therefore the noperldoc option is set to 0.
>  > [...]
> 
> It seems to be sufficient look to into the perldoc file and determine
> from the shebang line whether it's a Perl or Shell script.  The "real"
> perldoc script begins with #!/usr/bin/perl .
> 
> Regards,
>   Reinhard
> 

are you sure, someone once scorned me because I assumed a placement like 
that covered all linux


-- 

/daleif

From godbyk at gmail.com  Wed Sep  5 09:32:36 2012
From: godbyk at gmail.com (Kevin Godby)
Date: Wed, 5 Sep 2012 02:32:36 -0500
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <5046FF3D.50604@imf.au.dk>
References: <503D2E7A.2080508@imf.au.dk>
 <201209032325.q83NPHO3013619@freefriends.org>
 <CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>
 <20550.32296.854615.735559@zaphod.ms25.net>
 <5046FF3D.50604@imf.au.dk>
Message-ID: <CABk3zN7M0dYP-d1u1P1ajzam-_3_JBx3Uy09gJp4qJwDPoP8Sw@mail.gmail.com>

Hello, Lars.

On Wed, Sep 5, 2012 at 2:29 AM, Lars Madsen <daleif at imf.au.dk> wrote:
> Reinhard Kotucha wrote, On 2012-09-05 00:18:
>> It seems to be sufficient look to into the perldoc file and determine
>> from the shebang line whether it's a Perl or Shell script.  The "real"
>> perldoc script begins with #!/usr/bin/perl .
>
> are you sure, someone once scorned me because I assumed a placement like
> that covered all linux

Norbert's patch actually runs perldoc -V (which would print the
version information if the real perldoc script is being called and
does nothing otherwise) and checks the exit code. The dummy perldoc
script returns an exit code of 1 while the real perldoc script returns
an exit code of 0.

--Kevin

From daleif at imf.au.dk  Wed Sep  5 11:08:43 2012
From: daleif at imf.au.dk (Lars Madsen)
Date: Wed, 5 Sep 2012 11:08:43 +0200
Subject: [tex-live] tlmgr "Update all installed" via commandline?
In-Reply-To: <CABk3zN7M0dYP-d1u1P1ajzam-_3_JBx3Uy09gJp4qJwDPoP8Sw@mail.gmail.com>
References: <503D2E7A.2080508@imf.au.dk>	<201209032325.q83NPHO3013619@freefriends.org>	<CABk3zN7bYPd4anV-rhAB=MFFLWBiHHbNUHoLBy6RYCaf96P+HQ@mail.gmail.com>	<20550.32296.854615.735559@zaphod.ms25.net>	<5046FF3D.50604@imf.au.dk>
 <CABk3zN7M0dYP-d1u1P1ajzam-_3_JBx3Uy09gJp4qJwDPoP8Sw@mail.gmail.com>
Message-ID: <5047169B.5010904@imf.au.dk>

Kevin Godby wrote, On 2012-09-05 09:32:
> Hello, Lars.
> 
> On Wed, Sep 5, 2012 at 2:29 AM, Lars Madsen <daleif at imf.au.dk> wrote:
>> Reinhard Kotucha wrote, On 2012-09-05 00:18:
>>> It seems to be sufficient look to into the perldoc file and determine
>>> from the shebang line whether it's a Perl or Shell script.  The "real"
>>> perldoc script begins with #!/usr/bin/perl .
>> are you sure, someone once scorned me because I assumed a placement like
>> that covered all linux
> 
> Norbert's patch actually runs perldoc -V (which would print the
> version information if the real perldoc script is being called and
> does nothing otherwise) and checks the exit code. The dummy perldoc
> script returns an exit code of 1 while the real perldoc script returns
> an exit code of 0.
> 
> --Kevin

seems like a good choice

(didn't see Norbert's patch until after I had answered)

-- 

/daleif

From spiesser.philippe at orange.fr  Wed Sep  5 14:59:02 2012
From: spiesser.philippe at orange.fr (Philippe Spiesser)
Date: Wed, 5 Sep 2012 14:59:02 +0200
Subject: [tex-live] tlmgr 2012 and repository name with space
Message-ID: <50474C96.9080403@orange.fr>

Hello,

I synchronize with rsync tl2012 on a local USB disk identified by 
Iomega\ HDD,
from http:/..., and I update several local computers with it.

With tl2011 version, I had no problems with this;

but now, with tl2012, it seems that the command
     tlmgr option repository /media/Iomega\ HDD/....
generates two repositories (with update --list) :
/media/Iomega
     and
HDD/....
and so, blocks the update from this disk.

It is not important, but is it the correct way?

Thanks

From usenet at siart.de  Wed Sep  5 20:44:57 2012
From: usenet at siart.de (Uwe Siart)
Date: Wed, 5 Sep 2012 20:44:57 +0200
Subject: [tex-live] tlmgr 2012 and repository name with space
References: <50474C96.9080403@orange.fr>
Message-ID: <84zk5448d2.fsf@siart.de>

Philippe Spiesser <spiesser.philippe at orange.fr> writes:

> but now, with tl2012, it seems that the command
>     tlmgr option repository /media/Iomega\ HDD/....
> generates two repositories (with update --list) :
> /media/Iomega
>     and
> HDD/....
> and so, blocks the update from this disk.

This might be related to the fact that tlmgr 2012 supports multiple
repositories.

You could try to quote but I can't tell if this is supported by tlmgr.

-- 
Uwe


From P.Taylor at rhul.ac.uk  Wed Sep  5 20:58:02 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Wed, 5 Sep 2012 19:58:02 +0100
Subject: [tex-live] tlmgr 2012 and repository name with space
In-Reply-To: <50474C96.9080403@orange.fr>
References: <50474C96.9080403@orange.fr>
Message-ID: <5047A0BA.80702@Rhul.Ac.Uk>

I'm all for embedded spaces in filenames (except when they
are to be fetched from the web), but I have never felt the
need for a leading space.  Could you tell us what benefit
you see in creating a filename with a leading space ?

Philip Taylor
--------
Philippe Spiesser wrote:
> Hello,
>
> I synchronize with rsync tl2012 on a local USB disk identified by
> Iomega\ HDD,

From P.Taylor at rhul.ac.uk  Wed Sep  5 21:53:15 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Wed, 5 Sep 2012 20:53:15 +0100
Subject: [tex-live] tlmgr 2012 and repository name with space
In-Reply-To: <5047A0BA.80702@Rhul.Ac.Uk>
References: <50474C96.9080403@orange.fr> <5047A0BA.80702@Rhul.Ac.Uk>
Message-ID: <5047ADAB.5040106@Rhul.Ac.Uk>



Philip TAYLOR wrote:

> I'm all for embedded spaces in filenames (except when they
> are to be fetched from the web), but I have never felt the
> need for a leading space.  Could you tell us what benefit
> you see in creating a filename with a leading space ?

OK, annul that please.  A kind-but-anonymous correspondent
has just pointed out that it is an embedded space after all.

Philip Taylor

From preining at logic.at  Thu Sep  6 00:10:20 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 6 Sep 2012 07:10:20 +0900
Subject: [tex-live] tlmgr 2012 and repository name with space
In-Reply-To: <50474C96.9080403@orange.fr>
References: <50474C96.9080403@orange.fr>
Message-ID: <20120905221020.GC20263@gandalf.dynalias.org>

On Wed, 05 Sep 2012, Philippe Spiesser wrote:
>     tlmgr option repository /media/Iomega\ HDD/....

Indeed ... I have to think about how to fix that.

THe problem is that the multiple repositories are saved as
list in the .tlpdb file, separated by spaces ..

Guess I need space en/decoding there.

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
GANGES (n. rare : colonial Indian)
Leg-rash contracted from playing too much polo. (It is a little-known
fact that Prince Charles is troubled by ganges down the inside of his
arms.)
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Thu Sep  6 00:28:56 2012
From: karl at freefriends.org (Karl Berry)
Date: Wed, 5 Sep 2012 22:28:56 +0000
Subject: [tex-live] network maintenance tomorrow for tug.org
Message-ID: <201209052228.q85MSu1M000843@freefriends.org>

Just received word:

  'Planned and critical maintenance of network components'
  may give network problems for tug.org tomorow
  sep 6th between 16 - 22 CEST.

I figure almost everyone who is likely to notice/care is on this list :).

k

From preining at logic.at  Thu Sep  6 01:55:36 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 6 Sep 2012 08:55:36 +0900
Subject: [tex-live] tlmgr 2012 and repository name with space
In-Reply-To: <20120905221020.GC20263@gandalf.dynalias.org>
References: <50474C96.9080403@orange.fr>
 <20120905221020.GC20263@gandalf.dynalias.org>
Message-ID: <20120905235536.GH20263@gandalf.dynalias.org>

Hi Philippe,

On Thu, 06 Sep 2012, Norbert Preining wrote:
> >     tlmgr option repository /media/Iomega\ HDD/....

A fix will be from today on in tlcritical until it is pushed out.

Testing welcome!!!

Best wishes

Norbert

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
SKIBBEREEN (n.)
The noise made by a sunburned thighs leaving plastic chair.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu Sep  6 15:30:25 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 6 Sep 2012 22:30:25 +0900
Subject: [tex-live] tlmgr 2012 and repository name with space
In-Reply-To: <5048A25F.9040603@orange.fr>
References: <50474C96.9080403@orange.fr>
 <20120905221020.GC20263@gandalf.dynalias.org>
 <20120905235536.GH20263@gandalf.dynalias.org> <5048A25F.9040603@orange.fr>
Message-ID: <D61BEBAD-556F-48B8-BF58-DC6975CFD17E@logic.at>

Hi

thanks for testing, just one thing:

>> spungen:~ $ sudo tlmgr repository  add "/Users/philippe/Google\ Drive"

This will not work, unless you have the actual \ in the path!

You need either "..." xor \ , not both ;-)

Norbert

From spiesser.philippe at orange.fr  Thu Sep  6 15:17:19 2012
From: spiesser.philippe at orange.fr (Philippe Spiesser)
Date: Thu, 6 Sep 2012 15:17:19 +0200
Subject: [tex-live] tlmgr 2012 and repository name with space
In-Reply-To: <20120905235536.GH20263@gandalf.dynalias.org>
References: <50474C96.9080403@orange.fr>
 <20120905221020.GC20263@gandalf.dynalias.org>
 <20120905235536.GH20263@gandalf.dynalias.org>
Message-ID: <5048A25F.9040603@orange.fr>

Hi  Norbert

Le 06/09/12 01:55, Norbert Preining a ?crit :
> Hi Philippe,
>
> On Thu, 06 Sep 2012, Norbert Preining wrote:
>>>      tlmgr option repository /media/Iomega\ HDD/....
> A fix will be from today on in tlcritical until it is pushed out.
>
> Testing welcome!!!
>
I have made the test on another computer, but it was the same thing. I have
realized updating from tlcritical and now, everything seems OK.

here is the trace of commands:
> spungen:~ $ sudo tlmgr repository  add "/Users/philippe/Google\ Drive"
> tlmgr: added repository: /Users/philippe/Google\ Drive
> spungen:~ $ tlmgr repository list
> List of repositories (with tags if set):
>     /Users/philippe/Google\
>     Drive
>     /usr/local/src/tl2012 (main)
> spungen:~ $ sudo tlmgr repository  remove Drive
> tlmgr: removed repository: Drive
> spungen:~ $ sudo tlmgr repository  remove /Users/philippe/Google\\
> tlmgr: removed repository: /Users/philippe/Google\
> spungen:~ $ tlmgr --repository=ftp://tug.org/texlive/tlcritical update 
> --list
> tlmgr: package repository ftp://tug.org/texlive/tlcritical
> ===============================================================================
> Updates for tlmgr itself are present.
> So, please update the package manager first, via either
>   tlmgr update --self
> or by getting the latest updater for Unix-ish systems:
> http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
> and/or Windows systems:
> http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.exe
> Then continue with other updates.
> ===============================================================================
> tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
> keep:     tetex                    : local:    27563, source: 26299
> keep:     tetex.universal-darwin   : local:    27344, source: 25900
> update:   texlive.infra      [283k]: local:    27434, source: 27601
> spungen:~ $ sudo tlmgr --repository=ftp://tug.org/texlive/tlcritical 
> update --self
> tlmgr: package repository ftp://tug.org/texlive/tlcritical
> tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
> [1/1, ??:??/??:??] update: texlive.infra [283k] (27434 -> 27601) ... done
> tlmgr: package log updated at 
> /usr/local/texlive/2012/texmf-var/web2c/tlmgr.log
> running mktexlsr ...
> done running mktexlsr.
> running mtxrun --generate ...
> done running mtxrun --generate.
> spungen:~ $ sudo tlmgr repository  add "/Users/philippe/Google\ Drive"
> tlmgr: added repository: /Users/philippe/Google\ Drive
> spungen:~ $ tlmgr repository list
> List of repositories (with tags if set):
>     /Users/philippe/Google\ Drive
>     /usr/local/src/tl2012 (main)
> spungen:~ $ 

Testing done, thanks.

-- 

	Philippe



From lomov.vl at gmail.com  Fri Sep  7 09:14:49 2012
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 7 Sep 2012 16:14:49 +0900
Subject: [tex-live] [install-tl] Limitation on length of installation path?
Message-ID: <20120907071449.GB3251@smoon>

Hello,

I played with installation of TL into `~' and faced with strange
"limitation" of `install-tl':

if I set installation path (TEXDIR) to
  ~/usr/local/texlive
which is expanded to
  /home/vladimir/usr/local/texlive
installation goes fine, but when I tried to use
  ~/usr/local/texlive/2012
(expanded to
  /home/vladimir/usr/local/texlive/2012
) 'install-tl' warns me:

!! The default location as given below is forbidden or
!! can't be written to.
!! Either change the destination directory using <1> or create it
!! outside this script.

After I created that directory manually and returned to main menu
installation process goes without problem.

Also, removing either `local' or `texlive' (i.e. setting installation path to
  /home/vladimir/usr/texlive/2012
or
  /home/vladimir/usr/local/2012
) allows to install TL without manual intervetion.

Is this intended limitation?

OS: Fedora 17, i686, in VirtualBox

---
WBR, Vladimir Lomov

-- 
<aj> <Knghtbrd> the increase in tension worldwide (as evidenced by crime
<aj>            and whatnot) over that time period looks a lot like Linux
<aj>            growth since 1993
<aj> ``Linux linked to worldwide crime epidemic!!''

From usenet at siart.de  Fri Sep  7 10:49:30 2012
From: usenet at siart.de (Uwe Siart)
Date: Fri, 7 Sep 2012 10:49:30 +0200
Subject: [tex-live] Purge backup files manually
Message-ID: <84392uqkth.fsf@siart.de>

Dear developers,

a simple one-word answer yes/no would be totally sufficient. I just want
to make sure that I don't break the system.

Q: Is it safe to delete files from backupdir manually, i.e. by tools
other than tlmgr?

Background: I'd like to purge backup files based on age/filedate
("delete files older than ... days"). My philosophy on this: If no bug
popped up after 2 months of heavy usage then I'm almost certain that I
don't need the backup.

-- 
Uwe


From preining at logic.at  Fri Sep  7 12:07:03 2012
From: preining at logic.at (Norbert Preining)
Date: Fri, 7 Sep 2012 19:07:03 +0900
Subject: [tex-live] [install-tl] Limitation on length of installation
	path?
In-Reply-To: <20120907071449.GB3251@smoon>
References: <20120907071449.GB3251@smoon>
Message-ID: <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>

Hi

> Also, removing either `local' or `texlive' (i.e. setting installation path to
>  /home/vladimir/usr/texlive/2012
> or
>  /home/vladimir/usr/local/2012
> ) allows to install TL without manual intervetion.
> 
> Is this intended limitation?


Yes and no. We check on writeabity two levels up in the hierarchy, but if that does not even exist it looks like it breaks. We don't want to create intermediate directories.

So, yes known, but I also don't see too much of a problem ;-)

Norbert


From preining at logic.at  Fri Sep  7 12:07:29 2012
From: preining at logic.at (Norbert Preining)
Date: Fri, 7 Sep 2012 19:07:29 +0900
Subject: [tex-live] Purge backup files manually
In-Reply-To: <84392uqkth.fsf@siart.de>
References: <84392uqkth.fsf@siart.de>
Message-ID: <59181B35-C96E-4C2C-8005-82CF26758249@logic.at>

Yes, safe.

------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                    TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------

On 2012/09/07, at 17:49, Uwe Siart <usenet at siart.de> wrote:

> Dear developers,
> 
> a simple one-word answer yes/no would be totally sufficient. I just want
> to make sure that I don't break the system.
> 
> Q: Is it safe to delete files from backupdir manually, i.e. by tools
> other than tlmgr?
> 
> Background: I'd like to purge backup files based on age/filedate
> ("delete files older than ... days"). My philosophy on this: If no bug
> popped up after 2 months of heavy usage then I'm almost certain that I
> don't need the backup.
> 
> -- 
> Uwe
> 

From zdenek.wagner at gmail.com  Fri Sep  7 12:09:49 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 7 Sep 2012 12:09:49 +0200
Subject: [tex-live] [install-tl] Limitation on length of installation
	path?
In-Reply-To: <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
References: <20120907071449.GB3251@smoon>
 <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
Message-ID: <CAC1phybeNU7aCnVyT7rLRY0d6dxkSc53DjOWLycxF4ag4KSYrw@mail.gmail.com>

2012/9/7 Norbert Preining <preining at logic.at>:
> Hi
>
>> Also, removing either `local' or `texlive' (i.e. setting installation path to
>>  /home/vladimir/usr/texlive/2012
>> or
>>  /home/vladimir/usr/local/2012
>> ) allows to install TL without manual intervetion.
>>
>> Is this intended limitation?
>
>
> Yes and no. We check on writeabity two levels up in the hierarchy, but if that does not even exist it looks like it breaks. We don't want to create intermediate directories.
>
> So, yes known, but I also don't see too much of a problem ;-)
>
If I understand it well, at least ~/usr/local must exist in order to
install to ~/usr/local/texlive/2012

> Norbert
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From preining at logic.at  Fri Sep  7 12:28:11 2012
From: preining at logic.at (Norbert Preining)
Date: Fri, 7 Sep 2012 19:28:11 +0900
Subject: [tex-live] [install-tl] Limitation on length of installation
	path?
In-Reply-To: <CAC1phybeNU7aCnVyT7rLRY0d6dxkSc53DjOWLycxF4ag4KSYrw@mail.gmail.com>
References: <20120907071449.GB3251@smoon>
 <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
 <CAC1phybeNU7aCnVyT7rLRY0d6dxkSc53DjOWLycxF4ag4KSYrw@mail.gmail.com>
Message-ID: <FD5071EF-E538-4963-9779-601DE8A303C7@logic.at>


> If I understand it well, at least ~/usr/local must exist in order to
> install to ~/usr/local/texlive/2012

Could be ... but you can try.

Maybe only ~/usr ...

didn't look into this code for ages.
> 


Norbert

From lomov.vl at gmail.com  Fri Sep  7 12:28:02 2012
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Fri, 7 Sep 2012 19:28:02 +0900
Subject: [tex-live] [install-tl] Limitation on length of installation
 path?
In-Reply-To: <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
References: <20120907071449.GB3251@smoon>
 <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
Message-ID: <20120907102801.GC3251@smoon>

Hello,

** Norbert Preining [2012-09-07 19:07:03 +0900]:

> Hi

>> Also, removing either `local' or `texlive' (i.e. setting installation path to
>>  /home/vladimir/usr/texlive/2012
>> or
>>  /home/vladimir/usr/local/2012
>> ) allows to install TL without manual intervetion.

>> Is this intended limitation?

> Yes and no. We check on writeabity two levels up in the hierarchy, but
> if that does not even exist it looks like it breaks.

I naively thought that it is enough to check permission to write
(create) in top directory, like e.g. ~/usr (I assume that this directory
exists) or `~', if to talk about `~/usr/local/...'. Is this perl
limitation, e.g. missing analog of `-p' parameter of `mkdir' or
something other? I'm just curious.

> We don't want to create intermediate directories.

Correct me if I wrong, installer will work with
  /this/is/path/to/TL/installation
path only if path
  /this/is/path/to/TL
already exists and writeable by user, i.e. it will create only last
component of (full) path?

> So, yes known, but I also don't see too much of a problem ;-)

Yes, I agreed.

> Norbert

---
WBR, Vladimir Lomov

-- 
We all know Linux is great... it does infinite loops in 5 seconds.
        -- Linus Torvalds

From pander at users.sourceforge.net  Fri Sep  7 12:50:33 2012
From: pander at users.sourceforge.net (Pander)
Date: Fri, 7 Sep 2012 12:50:33 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <502B7909.9020308@users.sourceforge.net>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
 <502B7909.9020308@users.sourceforge.net>
Message-ID: <5049D179.8020203@users.sourceforge.net>

Hi all,

Would be nice that the people who told me to start working on this that
some feedback would be given.

Regards,

Pander

On 2012-08-15 12:25, Pander wrote:
> Hi all,
> 
> Please review:
>   tlit - TeX Live Integration Testing
>   https://github.com/PanderMusubi/tlit
> 
> The goal of integration testing of TeX Live is to automatically confirm
> that an update did not break any major functionality. Detailed module
> testing of individual packagese is up to the package maintaineres. This
> is done in much more detail and is outside of the scope of integration
> testing. Integration testing offered here is merely a simply check if
> certain often used combinations of package can play together. The goal
> is to prevent that simultaneous updateting of multiple packages, which
> all passed their individual module tests without being aware that other
> packages are also being updated on the same time, break TeX Live.
> 
> Regards,
> 
> Pander
> 


From P.Taylor at rhul.ac.uk  Fri Sep  7 12:57:54 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Fri, 7 Sep 2012 11:57:54 +0100
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <5049D179.8020203@users.sourceforge.net>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
 <502B7909.9020308@users.sourceforge.net>
 <5049D179.8020203@users.sourceforge.net>
Message-ID: <5049D332.7020506@Rhul.Ac.Uk>



Pander wrote:
> Hi all,
>
> Would be nice that the people who told me to start working on this that
> some feedback would be given.
>
> Regards,
>
> Pander
>
> On 2012-08-15 12:25, Pander wrote:
>> Hi all,
>>
>> Please review:
>>    tlit - TeX Live Integration Testing
>>    https://github.com/PanderMusubi/tlit

It could be that others, like myself, have little or no idea
how to interact with "Github".  I visited the page you cited,
followed the link "Clone on Windows" (thinking that this would
somehow create a replicate of your work on my Windows machine)
and found that the page to which it took me had nothing to do
with your work at all.

There may be other reasons, of course, but this one leapt out
as soon as I tried to follow your link.

Philip Taylor

From zdenek.wagner at gmail.com  Fri Sep  7 14:01:28 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 7 Sep 2012 14:01:28 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <5049D332.7020506@Rhul.Ac.Uk>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
 <502B7909.9020308@users.sourceforge.net>
 <5049D179.8020203@users.sourceforge.net>
 <5049D332.7020506@Rhul.Ac.Uk>
Message-ID: <CAC1phyZ0jxaZdeufvG0CMNN+dEsUJ2CF3jo-p3hYS+L=gdQang@mail.gmail.com>

2012/9/7 Philip TAYLOR <P.Taylor at rhul.ac.uk>:
>
>
> Pander wrote:
>>
>> Hi all,
>>
>> Would be nice that the people who told me to start working on this that
>> some feedback would be given.
>>
>> Regards,
>>
>> Pander
>>
>> On 2012-08-15 12:25, Pander wrote:
>>>
>>> Hi all,
>>>
>>> Please review:
>>>    tlit - TeX Live Integration Testing
>>>    https://github.com/PanderMusubi/tlit
>
>
> It could be that others, like myself, have little or no idea
> how to interact with "Github".  I visited the page you cited,
> followed the link "Clone on Windows" (thinking that this would
> somehow create a replicate of your work on my Windows machine)
> and found that the page to which it took me had nothing to do
> with your work at all.
>
Only some developers know github. If you wish to get feedback from
users (not developers), you should prepare easy to install snapshots.

> There may be other reasons, of course, but this one leapt out
> as soon as I tried to follow your link.
>
> Philip Taylor



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From heiko.oberdiek at googlemail.com  Fri Sep  7 14:26:55 2012
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 7 Sep 2012 14:26:55 +0200
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <5049D179.8020203@users.sourceforge.net>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
 <502B7909.9020308@users.sourceforge.net>
 <5049D179.8020203@users.sourceforge.net>
Message-ID: <20120907122655.GA6191@oberdiek.my-fqdn.de>

On Fri, Sep 07, 2012 at 12:50:33PM +0200, Pander wrote:

> Would be nice that the people who told me to start working on this that
> some feedback would be given.

> On 2012-08-15 12:25, Pander wrote:
> > 
> > Please review:
> >   tlit - TeX Live Integration Testing
> >   https://github.com/PanderMusubi/tlit
> > 
> > The goal of integration testing of TeX Live is to automatically confirm
> > that an update did not break any major functionality. Detailed module
> > testing of individual packagese is up to the package maintaineres. This
> > is done in much more detail and is outside of the scope of integration
> > testing. Integration testing offered here is merely a simply check if
> > certain often used combinations of package can play together. The goal
> > is to prevent that simultaneous updateting of multiple packages, which
> > all passed their individual module tests without being aware that other
> > packages are also being updated on the same time, break TeX Live.

* It assumes that packages have individual module tests that are run on
  updates. Both is not true with few excaptions only.

* To some degree package testing already involves other packages.
  There is no sharp separation line for integration testing.

* I cannot find, how this is addressed:
  * There are quite a few TeX compilers with quite a few formats.
  * There are lots of classes and tons of packages.
  * Classes and packages provide none up to an endless number of options
    with multiple values and working modes.
  * The number of package combinations and loading order is overwhelming.

* What is tested:
  * Errors: expected or unexpected
  * Warnings: expected or unexpected
  * Messages: expected or unexpected
  * Output: DVI/PS/PDF
  * log file, aux files, ...

* Which system to manage the tests?

* How to deal with the result? But report to package authors?

* ...

Good testing is a huge task requiring lots of "(wo)man power".

Yours sincerely
  Heiko Oberdiek

From s.murthy at ems.bbk.ac.uk  Fri Sep  7 07:26:11 2012
From: s.murthy at ems.bbk.ac.uk (Sandeep Murthy)
Date: Fri, 7 Sep 2012 06:26:11 +0100
Subject: [tex-live] Updating TeXLive 2009 to TeXLive 2012 on Snow Leopard
Message-ID: <504993830200000300074395@EMSMAIL.EMS.BBK.AC.UK>

Hi,


I have TeXLive 2009 installed on my Mac Book Pro running
Snow Leopard.  I would like to update this to TeXLive 2012,
which seems to be the latest version.  Do I need to uninstall
the old version before I install the new one, or is there an 
update facility?  I cannot see any update facility on the TeX
Distribution section on the System Preferences pane.


Sincerely, Sandeep.



From herbs at wideopenwest.com  Fri Sep  7 16:50:36 2012
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Fri, 7 Sep 2012 09:50:36 -0500
Subject: [tex-live] Updating TeXLive 2009 to TeXLive 2012 on Snow Leopard
In-Reply-To: <504993830200000300074395@EMSMAIL.EMS.BBK.AC.UK>
References: <504993830200000300074395@EMSMAIL.EMS.BBK.AC.UK>
Message-ID: <EBBD3F2E-5333-4486-ABAB-A05E3840899F@wideopenwest.com>


On Sep 7, 2012, at 12:26 AM, Sandeep Murthy <s.murthy at ems.bbk.ac.uk> wrote:

> Hi,
> 
> 
> I have TeXLive 2009 installed on my Mac Book Pro running
> Snow Leopard.  I would like to update this to TeXLive 2012,
> which seems to be the latest version.  Do I need to uninstall
> the old version before I install the new one, or is there an 
> update facility?  I cannot see any update facility on the TeX
> Distribution section on the System Preferences pane.
> 
> 
> Sincerely, Sandeep.


Howdy,

As long as you have plenty of HD space there is no need to remove TL2009 before installing TL2012. As a matter of fact the TeX Distribution preference pane in System Preferences, installed by MacTeX, will even allow you to switch between the two.

You can get more information at <http://www.tug.org/mactex/>.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)





From reinhard.kotucha at web.de  Fri Sep  7 22:41:55 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 7 Sep 2012 22:41:55 +0200
Subject: [tex-live] [install-tl] Limitation on length of installation
 path?
In-Reply-To: <20120907102801.GC3251@smoon>
References: <20120907071449.GB3251@smoon>
 <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
 <20120907102801.GC3251@smoon>
Message-ID: <20554.23571.544140.203572@zaphod.ms25.net>

On 2012-09-07 at 19:28:02 +0900, Vladimir Lomov wrote:

 > Hello,
 > 
 > ** Norbert Preining [2012-09-07 19:07:03 +0900]:
 > 
 > > Hi
 > 
 > >> Also, removing either `local' or `texlive' (i.e. setting
 > >> installation path to
 > >>  /home/vladimir/usr/texlive/2012
 > >> or
 > >>  /home/vladimir/usr/local/2012
 > >> ) allows to install TL without manual intervetion.
 > 
 > >> Is this intended limitation?
 > 
 > > Yes and no. We check on writeabity two levels up in the
 > > hierarchy, but if that does not even exist it looks like it
 > > breaks.
 > 
 > I naively thought that it is enough to check permission to write
 > (create) in top directory, like e.g. ~/usr (I assume that this
 > directory exists) or `~', if to talk about `~/usr/local/...'. Is
 > this perl limitation, e.g. missing analog of `-p' parameter of
 > `mkdir' or something other? I'm just curious.

No, there is a function mkdirhier() in TLUtils.pm which does the same
as mkdir -p .  It has been written in order to create the directory
tree in TEXMFLOCAL.
 
Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From zdenek.wagner at gmail.com  Fri Sep  7 23:00:51 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 7 Sep 2012 23:00:51 +0200
Subject: [tex-live] [install-tl] Limitation on length of installation
	path?
In-Reply-To: <20554.23571.544140.203572@zaphod.ms25.net>
References: <20120907071449.GB3251@smoon>
 <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
 <20120907102801.GC3251@smoon>
 <20554.23571.544140.203572@zaphod.ms25.net>
Message-ID: <CAC1phyZ-weOt2nhwRMqC0Sfj4+AOFgXAknQfd2QycTdYGZMfAw@mail.gmail.com>

2012/9/7 Reinhard Kotucha <reinhard.kotucha at web.de>:
> On 2012-09-07 at 19:28:02 +0900, Vladimir Lomov wrote:
>
>  > Hello,
>  >
>  > ** Norbert Preining [2012-09-07 19:07:03 +0900]:
>  >
>  > > Hi
>  >
>  > >> Also, removing either `local' or `texlive' (i.e. setting
>  > >> installation path to
>  > >>  /home/vladimir/usr/texlive/2012
>  > >> or
>  > >>  /home/vladimir/usr/local/2012
>  > >> ) allows to install TL without manual intervetion.
>  >
>  > >> Is this intended limitation?
>  >
>  > > Yes and no. We check on writeabity two levels up in the
>  > > hierarchy, but if that does not even exist it looks like it
>  > > breaks.
>  >
>  > I naively thought that it is enough to check permission to write
>  > (create) in top directory, like e.g. ~/usr (I assume that this
>  > directory exists) or `~', if to talk about `~/usr/local/...'. Is
>  > this perl limitation, e.g. missing analog of `-p' parameter of
>  > `mkdir' or something other? I'm just curious.
>
> No, there is a function mkdirhier() in TLUtils.pm which does the same
> as mkdir -p .  It has been written in order to create the directory
> tree in TEXMFLOCAL.
>
Is there any difference from the mkpath function trom the File::Path
module? I have been using mkpath in my programs for years. I used it
even in Perl on OS/2 Warp 4.

> Regards,
>   Reinhard
>
> --
> ----------------------------------------------------------------------------
> Reinhard Kotucha                                      Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                              mailto:reinhard.kotucha at web.de
> ----------------------------------------------------------------------------
> Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
> ----------------------------------------------------------------------------



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From reinhard.kotucha at web.de  Sat Sep  8 02:24:40 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 8 Sep 2012 02:24:40 +0200
Subject: [tex-live] [install-tl] Limitation on length of installation
 path?
In-Reply-To: <CAC1phyZ-weOt2nhwRMqC0Sfj4+AOFgXAknQfd2QycTdYGZMfAw@mail.gmail.com>
References: <20120907071449.GB3251@smoon>
 <3AAC715C-1F17-40CC-A673-8F7521C138D2@logic.at>
 <20120907102801.GC3251@smoon>
 <20554.23571.544140.203572@zaphod.ms25.net>
 <CAC1phyZ-weOt2nhwRMqC0Sfj4+AOFgXAknQfd2QycTdYGZMfAw@mail.gmail.com>
Message-ID: <20554.36936.337524.72437@zaphod.ms25.net>

On 2012-09-07 at 23:00:51 +0200, Zdenek Wagner wrote:

 > 2012/9/7 Reinhard Kotucha <reinhard.kotucha at web.de>:
 > > On 2012-09-07 at 19:28:02 +0900, Vladimir Lomov wrote:
 > >
 > >  > Hello,
 > >  >
 > >  > ** Norbert Preining [2012-09-07 19:07:03 +0900]:
 > >  >
 > >  > > Hi
 > >  >
 > >  > >> Also, removing either `local' or `texlive' (i.e. setting
 > >  > >> installation path to
 > >  > >>  /home/vladimir/usr/texlive/2012
 > >  > >> or
 > >  > >>  /home/vladimir/usr/local/2012
 > >  > >> ) allows to install TL without manual intervetion.
 > >  >
 > >  > >> Is this intended limitation?
 > >  >
 > >  > > Yes and no. We check on writeabity two levels up in the
 > >  > > hierarchy, but if that does not even exist it looks like it
 > >  > > breaks.
 > >  >
 > >  > I naively thought that it is enough to check permission to write
 > >  > (create) in top directory, like e.g. ~/usr (I assume that this
 > >  > directory exists) or `~', if to talk about `~/usr/local/...'. Is
 > >  > this perl limitation, e.g. missing analog of `-p' parameter of
 > >  > `mkdir' or something other? I'm just curious.
 > >
 > > No, there is a function mkdirhier() in TLUtils.pm which does the same
 > > as mkdir -p .  It has been written in order to create the directory
 > > tree in TEXMFLOCAL.
 > >
 > Is there any difference from the mkpath function trom the File::Path
 > module? I have been using mkpath in my programs for years. 

Don't know.  I wrote the function in order to keep the network
installer for Windows as small as possible.  Many Perl modules provide
much more than actually needed and support ancient operating systems
which will never be supported by TeX Live (NOS/VE, VMS,...).

BTW, when I wrote this function, the TL network installer for Windows
was much smaller than it's today.  It grew significantly when Norbert
added the GUI and localization.  The latter requires full Unicode
support, hence many files.  I suppose that the network installer for
Windows currently contains many files which are not used at all,
simply because it's too hard to compose a tiny Perl distribution
manually.  If we had something like strace(1) on Windows, it would be
easy to omit all unused files and it would then make more sense again
to avoid Perl modules if they save only ten lines of code.

 > I used it even in Perl on OS/2 Warp 4.

mkdirhier() is quite platform independent too.  It uses Perl core
functions like mkdir() only, but no shell escapes.  The function
supports all systems with either / or \ as directory separators.
Honestly, mkdirhier() is simple.  It just checks each path component
for existence and creates it if necessary.  If a directory cannot be
created, it aborts with an error message.  That's all.  mkdir -p does
the same, AFAIK.

I wouldn't be amazed if mkdirhier() works on OS/2 too.  Doesn't OS/2
support the same directory separators as MS-DOG?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Sat Sep  8 04:54:48 2012
From: preining at logic.at (Norbert Preining)
Date: Sat, 8 Sep 2012 11:54:48 +0900
Subject: [tex-live] hyperref/puenc.def broken after upgrade
In-Reply-To: <5049D179.8020203@users.sourceforge.net>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
 <502B7909.9020308@users.sourceforge.net>
 <5049D179.8020203@users.sourceforge.net>
Message-ID: <8AD82249-3302-4EA3-ABA6-AAB5B57F020E@logic.at>

Hi

> 
> Would be nice that the people who told me to start working on this that
> some feedback would be given.


Maybe we are busy with real life?

Maybe we are busy with work?

I took a look, and it is a good start, but the question is how to do the integration in our testing system.

BTW, I know how to use git(hub)

Norbert


From cereda.paulo at gmail.com  Sat Sep  8 19:53:58 2012
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Sat, 8 Sep 2012 14:53:58 -0300
Subject: [tex-live] A question on licensing
Message-ID: <504B8636.9040102@gmail.com>

Dear friends,

I have a question on licensing, so I beseech for your wisdom. :)

I have a humble tool written for TeX automation which is currently 
released under the New BSD license. So far, this tool is not on CTAN, 
but on a GitHub repository. Hopefully, I'll redeem myself with the new 
version, planned to be CTAN-friendly.

I also would love to make the release TL-friendly in order to be 
included in the TL distro, but I'm not sure if the current licensing 
scheme I'm using actually fits the TL policy. I'm quite happy to 
relicense my tool, if needed.

For what is worth, the license I'm currently using is this one:

http://opensource.org/licenses/bsd-license.php

This license seems to be verified as a GPL-compatible free software 
license by the Free Software Foundation, but vetted as an open source 
license by the Open Source Initiative.

Any help is appreciated. :)

Best wishes,

Paulo

From karl at freefriends.org  Sat Sep  8 23:47:11 2012
From: karl at freefriends.org (Karl Berry)
Date: Sat, 8 Sep 2012 15:47:11 -0600
Subject: [tex-live] A question on licensing
In-Reply-To: <504B8636.9040102@gmail.com> (message from Paulo Roberto Massa
 Cereda on Sat, 8 Sep 2012 14:53:58 -0300)
Message-ID: <861uictcf4.fsf@frenzy.freefriends.org>

Hi Paulo,

    http://opensource.org/licenses/bsd-license.php

Perfectly fine.

In practice, anything approved by the OSI, and also anything listed as
free by the FSF, is ok for TL.

k

From martin at oneiros.de  Sat Sep  8 23:51:12 2012
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 8 Sep 2012 23:51:12 +0200
Subject: [tex-live] A question on licensing
In-Reply-To: <504B8636.9040102@gmail.com>
References: <504B8636.9040102@gmail.com>
Message-ID: <CAP7DCDe3VyvwqCYTmwqOJL=rMgD2x=ja4VZezgA_HvzGGYwnaQ@mail.gmail.com>

2012/9/8 Paulo Roberto Massa Cereda <cereda.paulo at gmail.com>:
> I also would love to make the release TL-friendly in order to be included in
> the TL distro, but I'm not sure if the current licensing scheme I'm using
> actually fits the TL policy. I'm quite happy to relicense my tool, if
> needed.

It does. The BSD-2-clause is GPL and DFSG and Karl-Berry-compatible.
But I advise you to use the ISC-license instead:
http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/share/misc/license.template?rev=HEAD
"The ISC copyright is functionally equivalent to a two-term BSD
copyright with language removed that is made unnecessary by the Berne
convention."

Best
   Martin

From karl at freefriends.org  Sat Sep  8 23:57:44 2012
From: karl at freefriends.org (Karl Berry)
Date: Sat, 8 Sep 2012 15:57:44 -0600
Subject: [tex-live] A question on licensing
In-Reply-To: <CAP7DCDe3VyvwqCYTmwqOJL=rMgD2x=ja4VZezgA_HvzGGYwnaQ@mail.gmail.com>
 (message from Martin =?utf-8?Q?Schr=C3=B6der?= on Sat, 8 Sep 2012 23:51:12
 +0200)
Message-ID: <86sjasrxd3.fsf@frenzy.freefriends.org>

    But I advise you to use the ISC-license instead:

I'm glad you didn't cc Paulo :).

I advise *not* using the ISC license, not because it would be rejected,
but simply to avoid the questions which license-list.html raises about
it.  http://www.gnu.org/licenses/license-list.html#ISC (Personally, I
don't agree with the analysis there, but that's beside the point.  The
point is that it's better to use licenses which no one has problems
with.)

If one wants a "simpler" license, there is Expat,
http://www.gnu.org/licenses/license-list.html#Expat.
But New BSD is pretty simple.

Anyway.  I hope we don't have to spend more time on this now ...

k

From martin at oneiros.de  Sun Sep  9 00:16:32 2012
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 9 Sep 2012 00:16:32 +0200
Subject: [tex-live] A question on licensing
In-Reply-To: <86sjasrxd3.fsf@frenzy.freefriends.org>
References: <CAP7DCDe3VyvwqCYTmwqOJL=rMgD2x=ja4VZezgA_HvzGGYwnaQ@mail.gmail.com>
 <86sjasrxd3.fsf@frenzy.freefriends.org>
Message-ID: <CAP7DCDfgz+0usbLRMY6kShMJdSJRiPSN3ER0h3SPiPFPkH4frA@mail.gmail.com>

2012/9/8 Karl Berry <karl at freefriends.org>:
> I advise *not* using the ISC license, not because it would be rejected,
> but simply to avoid the questions which license-list.html raises about
> it.  http://www.gnu.org/licenses/license-list.html#ISC (Personally, I
> don't agree with the analysis there, but that's beside the point.  The
> point is that it's better to use licenses which no one has problems
> with.)

Yes, but notice that OpenBSD doesn't use "/or". :-)

See also http://opensource.org/licenses/ISC :-)

Best
   Martin

From cereda.paulo at gmail.com  Sun Sep  9 02:06:23 2012
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Sat, 8 Sep 2012 21:06:23 -0300
Subject: [tex-live] A question on licensing
In-Reply-To: <861uictcf4.fsf@frenzy.freefriends.org>
References: <861uictcf4.fsf@frenzy.freefriends.org>
Message-ID: <504BDD7F.7040307@gmail.com>

Thanks Karl!

I'll stick with the current license then. :)

Best wishes,

Paulo

Em 08/09/2012 18:47, Karl Berry escreveu:
> Hi Paulo,
>
>      http://opensource.org/licenses/bsd-license.php
>
> Perfectly fine.
>
> In practice, anything approved by the OSI, and also anything listed as
> free by the FSF, is ok for TL.
>
> k
>


From cereda.paulo at gmail.com  Sun Sep  9 02:09:02 2012
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Sat, 8 Sep 2012 21:09:02 -0300
Subject: [tex-live] A question on licensing
In-Reply-To: <CAP7DCDe3VyvwqCYTmwqOJL=rMgD2x=ja4VZezgA_HvzGGYwnaQ@mail.gmail.com>
References: <504B8636.9040102@gmail.com>
 <CAP7DCDe3VyvwqCYTmwqOJL=rMgD2x=ja4VZezgA_HvzGGYwnaQ@mail.gmail.com>
Message-ID: <504BDE1E.30506@gmail.com>

Hi Martin!

 > But I advise you to use the ISC-license instead:
 > http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/share
 > /misc/license.template?rev=HEAD
 > "The ISC copyright is functionally equivalent to a two-term BSD
 > copyright with language removed that is made unnecessary by the Berne
 > convention."

Interesting. :) Sadly, I have no skills to understand the involved 
legalese, so my plan for now is just hide from GPL. :P

Best wishes,

Paulo

Em 08/09/2012 18:51, Martin Schr?der escreveu:
> 2012/9/8 Paulo Roberto Massa Cereda <cereda.paulo at gmail.com>:
>> I also would love to make the release TL-friendly in order to be included in
>> the TL distro, but I'm not sure if the current licensing scheme I'm using
>> actually fits the TL policy. I'm quite happy to relicense my tool, if
>> needed.
>
> It does. The BSD-2-clause is GPL and DFSG and Karl-Berry-compatible.
> But I advise you to use the ISC-license instead:
> http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/share/misc/license.template?rev=HEAD
> "The ISC copyright is functionally equivalent to a two-term BSD
> copyright with language removed that is made unnecessary by the Berne
> convention."
>
> Best
>     Martin
>


From simon at getthingsfixed.co.uk  Mon Sep 10 08:55:27 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Mon, 10 Sep 2012 07:55:27 +0100
Subject: [tex-live] Raspbian texlive
Message-ID: <201209100755.27647.simon@getthingsfixed.co.uk>

I decided that I wanted my texlive directly (via DVD then usb stick) rather 
than from within the distro. Then I can manage my tex installation via tlmgr.

But 2012 hasn't got the armhf binaries, so I downloaded the sources and 
compiled.

Two issues I found:
* Wheezy's /bin/sh is dash and not bash. "Build" is #!/bin/sh and it barfed. 
It has some bashism in it, so I had to run it as "bash Build". It does call 
other things with /bin/sh in them, but it did not seem to cause a problem[1]. 
* RAM. Some of the tests failed because of inadequate RAM, so I gave it a 
temporary 1GB swapfile and it was happy[1].

[1] "Problem" being defined here as "did not write 'FAIL' into the log file, 
and the resultant binaries don't barf".

Then installed with "install_tl --custom-bin=...". Tested and all fine, or so 
it would seem.

Is that all there was to it? Apart from about 8hrs runtime it wasn't any 
hassle to compile.

Anything else I should know?

If it is apparently that easy would I be making a foolish promise to supply 
the official armhf binaries for texlive?

-- 
Get Things Fixed

From martin at oneiros.de  Mon Sep 10 15:51:42 2012
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Mon, 10 Sep 2012 15:51:42 +0200
Subject: [tex-live] pinning not working on win32?
Message-ID: <CAP7DCDdm01R4oVB0KY4wGUsUyNS8uKtJZG45xdo59eN1QcNLmA@mail.gmail.com>

Hi,
either I've made a dumb error or pinning is broken on Win32.

tlmgr show doesn't use pinning.txt, install knows about it but doesn't use it.

pinning.txt:
tlcontrib:microtype

C:\Users\ms>tlmgr install microtype
tlmgr: using pinning file C:/texlive/2012/../texmf-local/tlpkg/pinning.txt
tlmgr: package repositories:
        main = ftp://ftp.fu-berlin.de/tex/CTAN/systems/texlive/tlnet
        tlcontrib = http://tlcontrib.metatex.org/2012

C:\Users\ms>tlmgr show microtype
package:     microtype
category:    Package
shortdesc:   An interface to the micro-typographic features of pdfTeX.
installed:   Yes
revision:    16687
cat-version: 2.4
cat-date:    2010-01-12 04:41:39 +0100
cat-license: lppl
collection:  collection-latexrecommended

System has just been installed and updated.

Best
   Martin

From simon at getthingsfixed.co.uk  Mon Sep 10 16:35:14 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Mon, 10 Sep 2012 15:35:14 +0100
Subject: [tex-live] Raspbian texlive
In-Reply-To: <201209100755.27647.simon@getthingsfixed.co.uk>
References: <201209100755.27647.simon@getthingsfixed.co.uk>
Message-ID: <201209101535.14628.simon@getthingsfixed.co.uk>

On Monday 10 September 2012 07:55:27 simon at getthingsfixed.co.uk wrote:
> Two issues I found:
> * Wheezy's /bin/sh is dash and not bash. "Build" is #!/bin/sh and it
> barfed. It has some bashism in it, so I had to run it as "bash Build". It
> does call other things with /bin/sh in them, but it did not seem to cause a
> problem[1]. 

Actually not a "bashism" per se, but the absence of "time" in both dash and 
the standard install of Wheezy as on the Raspbian SD image.

When /usr/bin/time is installed then Build seems to work as normal.

If Build is called as "bash Build" it works fine because it uses bash's 
internal "time".

The standard "time" produces slightly ugly output so, given the choice, I 
would prefer the bash version.

The solutions would include a cleverer sh script or a special Build script 
that enforced bash.

-- 
Get Things Fixed

From borisv at lk.net  Mon Sep 10 17:50:17 2012
From: borisv at lk.net (Boris Veytsman)
Date: Mon, 10 Sep 2012 11:50:17 -0400
Subject: [tex-live] Raspbian texlive
In-Reply-To: <201209100755.27647.simon@getthingsfixed.co.uk>
References: <201209100755.27647.simon@getthingsfixed.co.uk>
Message-ID: <201209101550.q8AFoHkS001510@bilbo.localnet>

S> From: <simon at getthingsfixed.co.uk>
S> Date: Mon, 10 Sep 2012 07:55:27 +0100

S> I decided that I wanted my texlive directly (via DVD then usb
S> stick) rather than from within the distro. Then I can manage my tex
S> installation via tlmgr.

S> But 2012 hasn't got the armhf binaries, so I downloaded the sources and 
S> compiled.

Great


S> Is that all there was to it? Apart from about 8hrs runtime it wasn't any 
S> hassle to compile.

Did you compile clisp/xindy and asy?  (not that I imagine someone
would run xasy on this, but for completeness...)


S> If it is apparently that easy would I be making a foolish promise
S> to supply the official armhf binaries for texlive?

We did have requests for armhf binaries.  Arm7l binaries do run on
raspbian, but LuaTeX seems to have problems since it uses floating
point, which is implemented on armhf in a peculiar way.  So a separate
build for armhf is in the plans - at least in my plans.  I even
bought my own device, but it is still on the waiting list :(

The final decision is up to Karl, but my opinion is yes, it would be
very nice to have armhf binaries.

Karl, what do you think?

-- 
Good luck

-Boris

Ha. I say let them try -- even vi+perl couldn't match the power of an
editor which is, after all, its own OS.  ;-)
		-- Johnie Ingram on debian-devel, about linking vim with libperl.so

From simon at getthingsfixed.co.uk  Mon Sep 10 21:14:32 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Mon, 10 Sep 2012 20:14:32 +0100
Subject: [tex-live] Raspbian texlive
In-Reply-To: <201209101550.q8AFoHkS001510@bilbo.localnet>
References: <201209100755.27647.simon@getthingsfixed.co.uk>
 <201209101550.q8AFoHkS001510@bilbo.localnet>
Message-ID: <201209102014.32311.simon@getthingsfixed.co.uk>

On Monday 10 September 2012 16:50:17 Boris Veytsman wrote:
>
> S> Is that all there was to it? Apart from about 8hrs runtime it wasn't any
> S> hassle to compile.
>
> Did you compile clisp/xindy and asy?  (not that I imagine someone
> would run xasy on this, but for completeness...)

No. I just did the bozo thing of "bash Build" with no params to see if 
anything interesting came out of the other end.

Wheezy has clisp as an package, so I installed that just now.

But presumably "bash Build --enable-xindy" is the right commandline and then 
wait for it to cook.

> S> If it is apparently that easy would I be making a foolish promise
> S> to supply the official armhf binaries for texlive?
>
> We did have requests for armhf binaries.  Arm7l binaries do run on
> raspbian, but LuaTeX seems to have problems since it uses floating
> point, which is implemented on armhf in a peculiar way.  

As reported earlier: the armel pdftex seems to work fine on Raspian. Probably 
cos it's all 32bit integer. But of course luatex can be more chilled and use 
64bit fp when it wants to. Which is fine if your fp is working, which in that 
case it isn't.

Tested luatex for numeracy and it's fine:
%%%%%%%%%%%%%%
--[[!
	\file
	\brief test some fp
	]]
--main
a = 1.1
io.write('a=' .. a .. '\n')
b = a * 1.1
io.write('b=' .. b .. '\n')
--eof
outputs:
a=1.1
b=1.21
%%%%%%%%%%%%%%

How critical is the exact build of Raspian going to be? Or is it all vanilla 
to a runtime binary?

> So a separate 
> build for armhf is in the plans - at least in my plans.  I even
> bought my own device, but it is still on the waiting list :(
>
> The final decision is up to Karl, but my opinion is yes, it would be
> very nice to have armhf binaries.

Mine, with xindy, should be cooked by tomorrow.


-- 
Get Things Fixed

From borisv at lk.net  Mon Sep 10 22:26:09 2012
From: borisv at lk.net (Boris Veytsman)
Date: Mon, 10 Sep 2012 16:26:09 -0400
Subject: [tex-live] Raspbian texlive
In-Reply-To: <201209102014.32311.simon@getthingsfixed.co.uk>
References: <201209100755.27647.simon@getthingsfixed.co.uk>
 <201209101550.q8AFoHkS001510@bilbo.localnet>
 <201209102014.32311.simon@getthingsfixed.co.uk>
Message-ID: <201209102026.q8AKQ98v008286@bilbo.localnet>

S> From: <simon at getthingsfixed.co.uk>
S> Date: Mon, 10 Sep 2012 20:14:32 +0100

S> On Monday 10 September 2012 16:50:17 Boris Veytsman wrote:
>> 
>> 
>> Did you compile clisp/xindy and asy?  (not that I imagine someone
>> would run xasy on this, but for completeness...)

S> No. I just did the bozo thing of "bash Build" with no params to see if 
S> anything interesting came out of the other end.

S> Wheezy has clisp as an package, so I installed that just now.

Well, the TL policy is to compile clisp separately with static linking
of the libraries, so xindy does not depend on lisp libraries being
installed -- see the explanation in build.html.  The packaged lisp
is compiled with dynamic linking, which makes xindy depend on the
version of the libs...

Sorry for nitpicking.

-- 
Good luck

-Boris

Down that path lies madness.  On the other hand, the road to hell is
paved with melting snowballs.
		-- Larry Wall in <1992Jul2.222039.26476 at netlabs.com>

From karl at freefriends.org  Tue Sep 11 00:26:25 2012
From: karl at freefriends.org (Karl Berry)
Date: Mon, 10 Sep 2012 22:26:25 +0000
Subject: [tex-live] Raspbian texlive
In-Reply-To: <201209101550.q8AFoHkS001510@bilbo.localnet>
Message-ID: <201209102226.q8AMQPqP009723@freefriends.org>

Hi Simon (and Boris),

    S> But 2012 hasn't got the armhf binaries

I'm sorry, but the distinction between the plethora of arm* platforms,
and which are compatible with which others, simply cannot get into my
brain.  I've never seen any comprehensible description of the names, for
starters.

    B> but LuaTeX seems to have problems since it uses floating
    point, which is implemented on armhf in a peculiar way.

If possible, it seems to me it would be good for that to be fixed by
making luatex work in any case.

But I'm guessing there are other reasons to have armhf anyway.  (Mojca
wrote about this topic too, but then as now, any understandable
conclusions escaped me.  Sorry.)

At any rate, next year there will be an option to have binaries
choosable/installable from the net in the standard way which are not on
the DVD.  So adding more platforms doesn't have much impact.  (I'm not
saying armhf would not be on the DVD, necessarily, just that we'll have
the option of including more platforms in general because of the
decoupling from the DVD.)

    S> to supply the official armhf binaries for texlive?

If you want to, great, and please subscribe to the tlbuild list
(and further discussion would be better there, not here).

BTW, it's not required to build xindy and asy, from my point of view.
Not all platforms have them.  Or if you build them so that they have
additional shared library dependency, that's better than not at all.
That also is the case on some platforms.

Thanks,
k

From preining at logic.at  Tue Sep 11 01:02:35 2012
From: preining at logic.at (Norbert Preining)
Date: Tue, 11 Sep 2012 08:02:35 +0900
Subject: [tex-live] pinning not working on win32?
In-Reply-To: <CAP7DCDdm01R4oVB0KY4wGUsUyNS8uKtJZG45xdo59eN1QcNLmA@mail.gmail.com>
References: <CAP7DCDdm01R4oVB0KY4wGUsUyNS8uKtJZG45xdo59eN1QcNLmA@mail.gmail.com>
Message-ID: <20120910230235.GA12503@gamma.logic.tuwien.ac.at>

Hi Martin,

On Mo, 10 Sep 2012, Martin Schr?der wrote:
> either I've made a dumb error or pinning is broken on Win32.

not broken, not dump.

after the install microtype was already installed from the main repo
then you added the tlcontrib
after that you typed
	tlmgr install microtype
but tlmgr sees that this package is already installed, so it does
nothing.

You have to reinstall a package to get it from the pinned source:
	tlmgr install --reinstall microtype
will pull in the version from tlcontrib

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
CORRIECRAVIE (n.)
To avert the horrors of corrievorrie (q.v.) corriecravie is usually
employed. This is the cowardly but highly skilled process by which
both protagonists continue to approach while keeping up the pretence
that they haven't noticed each other - by staring furiously at their
feet, grimacing into a notebook, or studying the walls closely as if
in a mood of deep irritation.
			--- Douglas Adams, The Meaning of Liff

From linuxss at list.ru  Tue Sep 11 13:23:21 2012
From: linuxss at list.ru (linuxss)
Date: Tue, 11 Sep 2012 14:23:21 +0300
Subject: [tex-live] updmap: font rpncri is defined multiple times:
Message-ID: <504F1F29.8010608@list.ru>

hi,
I'm testing updmap-sys form texlive2012 distribution. it seems that the 
script should ignore duplicated font, bat it still inserts some of them.

F. e: I add line "Map nirvana.map" to updmap.cfg and when I recreate 
maps i get warnings:
updmap:   nirvana.map (/texlive2012/texmf-var/web2c/updmap.cfg) (used)
updmap: font rpagd is defined multiple times:
Use of uninitialized value in concatenation (.) or string at 
/texlive2012/texmf/scripts/tetex/updmap.pl li
ne 1842.

and in created psfonts.map file I see inserted duplicated fonts.

nirvana.map:
rpagd     AvantGarde-Demi          <agd_____.pfb
rpagdo    AvantGarde-DemiOblique   <agdo____.pfb
rpagk     AvantGarde-Book          <agw_____.pfb
rpagko    AvantGarde-BookOblique   <agwo____.pfb

Linas

From simon at getthingsfixed.co.uk  Tue Sep 11 14:54:44 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Tue, 11 Sep 2012 13:54:44 +0100
Subject: [tex-live] Raspbian texlive
In-Reply-To: <201209102226.q8AMQPqP009723@freefriends.org>
References: <201209102226.q8AMQPqP009723@freefriends.org>
Message-ID: <201209111354.44595.simon@getthingsfixed.co.uk>

Karl + Boris,

On Monday 10 September 2012 23:26:25 Karl Berry wrote:
> Hi Simon (and Boris),
>
>     S> But 2012 hasn't got the armhf binaries
>
> I'm sorry, but the distinction between the plethora of arm* platforms,
> and which are compatible with which others, simply cannot get into my
> brain.  I've never seen any comprehensible description of the names, for
> starters.

Somewhat of a mystery. Also no protection from running the wrong binaries. 
Rather than objecting to running it just silently does the wrong thing.

Presumably this makes for risky installation.

> At any rate, next year there will be an option to have binaries
> choosable/installable from the net in the standard way which are not on
> the DVD.  So adding more platforms doesn't have much impact.  (I'm not
> saying armhf would not be on the DVD, necessarily, just that we'll have
> the option of including more platforms in general because of the
> decoupling from the DVD.)

I assume install_tl will offer the common binaries from the DVD with a link to 
a list of the weird ones online. However that does compromise the usefulness 
of the DVD, especially to those who have low bandwidth.

>
>     S> to supply the official armhf binaries for texlive?
>
> If you want to, great, and please subscribe to the tlbuild list
> (and further discussion would be better there, not here).
>
> BTW, it's not required to build xindy and asy, from my point of view.
> Not all platforms have them.  Or if you build them so that they have
> additional shared library dependency, that's better than not at all.
> That also is the case on some platforms.

Suits me.  I don't use it, but ... I see from the Debian installation 
instructions, where we create a texlive-local.deb, that xindy is mentioned. 
Would it inconvenience other users who might want it?

-- 
Get Things Fixed

From simon at getthingsfixed.co.uk  Tue Sep 11 16:16:42 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Tue, 11 Sep 2012 15:16:42 +0100
Subject: [tex-live] Integrating vanilla TeX Live with Debian
Message-ID: <201209111516.42441.simon@getthingsfixed.co.uk>

Are the instructions in the debian page[1] correct?

The texlive-local does not seen to do much. Shouldn't it suppress synaptic/... 
from wanting/allowing the installation of the distro's packages?

If you list the packages it says that texlive-local is installed, but it 
allows me to install the distro packages. Is this right?

[1] http://www.tug.org/texlive/debian.html
-- 
Get Things Fixed

From preining at logic.at  Wed Sep 12 09:48:36 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 12 Sep 2012 16:48:36 +0900
Subject: [tex-live] updmap: font rpncri is defined multiple times:
In-Reply-To: <504F1F29.8010608@list.ru>
References: <504F1F29.8010608@list.ru>
Message-ID: <20120912074836.GA18093@gamma.logic.tuwien.ac.at>

Hi,

On Di, 11 Sep 2012, linuxss wrote:
> I'm testing updmap-sys form texlive2012 distribution. it seems that the  
> script should ignore duplicated font, bat it still inserts some of them.

Can you update to the latest version whipped in tlnet, using
tlmgr update --all?

> updmap:   nirvana.map (/texlive2012/texmf-var/web2c/updmap.cfg) (used)
> updmap: font rpagd is defined multiple times:
> Use of uninitialized value in concatenation (.) or string at  
> /texlive2012/texmf/scripts/tetex/updmap.pl li
> ne 1842.

Interesting, I don't get anything like that, and I also have several
duplicate fonts:
updmap: font putr8x is defined multiple times:
updmap:   mdput.map (from /home/norbert/tl/2012/texmf-dist/web2c/updmap.cfg)
updmap:   putx.map (from /usr/local/share/texmf/web2c/updmap.cfg) (used)
updmap: font putb8x is defined multiple times:
updmap:   mdput.map (from /home/norbert/tl/2012/texmf-dist/web2c/updmap.cfg)
updmap:   putx.map (from /usr/local/share/texmf/web2c/updmap.cfg) (used)
....

Can you please send the *full* output of the updmap-sys run.
Thanks.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
SCORRIER (n.)
A small hunting dog trained to snuffle amongst your private parts.
			--- Douglas Adams, The Meaning of Liff

From linuxss at list.ru  Wed Sep 12 10:00:58 2012
From: linuxss at list.ru (linuxss)
Date: Wed, 12 Sep 2012 11:00:58 +0300
Subject: [tex-live] updmap: font rpncri is defined multiple times:
In-Reply-To: <20120912074836.GA18093@gamma.logic.tuwien.ac.at>
References: <504F1F29.8010608@list.ru>
 <20120912074836.GA18093@gamma.logic.tuwien.ac.at>
Message-ID: <5050413A.3000600@list.ru>

On 9/12/2012 10:48 AM, Norbert Preining wrote:
> Hi,
>
> On Di, 11 Sep 2012, linuxss wrote:
>> I'm testing updmap-sys form texlive2012 distribution. it seems that the
>> script should ignore duplicated font, bat it still inserts some of them.
> Can you update to the latest version whipped in tlnet, using
> tlmgr update --all?
>
>> updmap:   nirvana.map (/texlive2012/texmf-var/web2c/updmap.cfg) (used)
>> updmap: font rpagd is defined multiple times:
>> Use of uninitialized value in concatenation (.) or string at
>> /texlive2012/texmf/scripts/tetex/updmap.pl li
>> ne 1842.
> Interesting, I don't get anything like that, and I also have several
> duplicate fonts:
> updmap: font putr8x is defined multiple times:
> updmap:   mdput.map (from /home/norbert/tl/2012/texmf-dist/web2c/updmap.cfg)
> updmap:   putx.map (from /usr/local/share/texmf/web2c/updmap.cfg) (used)
> updmap: font putb8x is defined multiple times:
> updmap:   mdput.map (from /home/norbert/tl/2012/texmf-dist/web2c/updmap.cfg)
> updmap:   putx.map (from /usr/local/share/texmf/web2c/updmap.cfg) (used)
> ....
>
> Can you please send the *full* output of the updmap-sys run.
> Thanks.
>
> Best wishes
>
> Norbert
> ------------------------------------------------------------------------
> Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
> JAIST, Japan                                 TeX Live & Debian Developer
> DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
> ------------------------------------------------------------------------
> SCORRIER (n.)
> A small hunting dog trained to snuffle amongst your private parts.
> 			--- Douglas Adams, The Meaning of Liff
>
>
hi, Norbert,
I'll try to update to a new version. The problem might be in my 
distributions, because I use several distributions
  and I changed texmf.cnf.

I saw that updmap.pl returns nothing in this line (1840):
my $maporig = $alldata->{'maps'}{$fontorig}{'origin'};

anyway, I'll try the latest version and will write you.

thanks, in advance :)



From daleif at imf.au.dk  Wed Sep 12 10:23:47 2012
From: daleif at imf.au.dk (=?utf-8?B?ZGFsZWlmQGltZi5hdS5kaw==?=)
Date: Wed, 12 Sep 2012 10:23:47 +0200
Subject: [tex-live] =?utf-8?q?Integrating_vanilla_TeX_Live_with_Debian?=
Message-ID: <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>

Something like that yes. When the package is build and installed it just tells Debian or Ubuntu that certain packages have already been installed. And thus apt-get should not attempt to install a plethora of texlive packages. 

Note that the auctex installation might fail since for some reason it will also install a latex package in a location that doesn't not exist when one is not using the debian/Ubuntu tl. Just run a forced install, the package is also included in tl 

/daleif
- via HTC

----- Reply message -----
Fra: simon at getthingsfixed.co.uk
Til: <tex-live at tug.org>
Emne: [tex-live] Integrating vanilla TeX Live with Debian
Dato: tir., sep. 11, 2012 16:16


Are the instructions in the debian page[1] correct?

The texlive-local does not seen to do much. Shouldn't it suppress synaptic/... 
from wanting/allowing the installation of the distro's packages?

If you list the packages it says that texlive-local is installed, but it 
allows me to install the distro packages. Is this right?

[1] http://www.tug.org/texlive/debian.html
-- 
Get Things Fixed
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20120912/53a21828/attachment.html>

From simon at getthingsfixed.co.uk  Wed Sep 12 11:17:45 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Wed, 12 Sep 2012 10:17:45 +0100
Subject: [tex-live] Integrating vanilla TeX Live with Debian
In-Reply-To: <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>
References: <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>
Message-ID: <201209121017.45261.simon@getthingsfixed.co.uk>

On Wednesday 12 September 2012 09:23:47 daleif at imf.au.dk wrote:
> Something like that yes. When the package is build and installed it just
> tells Debian or Ubuntu that certain packages have already been installed.
> And thus apt-get should not attempt to install a plethora of texlive
> packages.

This is what it seems to do, i.e. texlive-local looks broken.

What I would have expected was that synaptic would vehemently refuse to 
install the vanilla distro's texlivel packages. As it is I can install them 
as if texlive-local wasn't there.

////////////
Even if texlive-local worked: how do we ensure that it contains the correct 
packages and that we haven't missed any?

As it is we download a texlive-local (from 2011) and pray that it will work 
with our current distro and DVD.

Would it not be better if there was a utility that can nose the dpkg tree for 
texlive and use that to build the texlive-local?

-- 
Get Things Fixed

From preining at logic.at  Thu Sep 13 00:33:15 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 13 Sep 2012 07:33:15 +0900
Subject: [tex-live] Integrating vanilla TeX Live with Debian
In-Reply-To: <201209121017.45261.simon@getthingsfixed.co.uk>
 <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>
 <201209111516.42441.simon@getthingsfixed.co.uk>
References: <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>
 <201209121017.45261.simon@getthingsfixed.co.uk>
 <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>
 <201209111516.42441.simon@getthingsfixed.co.uk>
Message-ID: <20120912223315.GB31927@gamma.logic.tuwien.ac.at>

Hi everyone,

On Di, 11 Sep 2012, simon at getthingsfixed.co.uk wrote:
> Are the instructions in the debian page[1] correct?

Depending on what part of it.

> The texlive-local does not seen to do much. Shouldn't it suppress synaptic/... 
> from wanting/allowing the installation of the distro's packages?

Not necessarily.

> If you list the packages it says that texlive-local is installed, but it 
> allows me to install the distro packages. Is this right?

Yes, there is no conflict. But if all the necessary "Provides" would
have been added, aptitutude should not install anything, because we made
it believe everything is already instaled.

What is currently outdated is the example config file, it doesn't list all
the necessary provides.

On Mi, 12 Sep 2012, simon at getthingsfixed.co.uk wrote:
> This is what it seems to do, i.e. texlive-local looks broken.

No, it is not broken. It simply does not provide all the necessary
package names.

> What I would have expected was that synaptic would vehemently refuse to 
> install the vanilla distro's texlivel packages. As it is I can install them 
> as if texlive-local wasn't there.

THat *NOBODY* said at any time ...And it is not written there, neither.
So why do you assume this?

Please read up on the Debian Policy Manual, chapter 7, declaring relationships
on the meanings if you need.

The point is not that we forbid it, but that you don't need to install it.

If you want to prohibit installation of native packages, you have to
add
	Conflicts: ...
to the config file.

> Even if texlive-local worked: how do we ensure that it contains the correct 
> packages and that we haven't missed any?

texlive-local does not contain *anything*? Or do you mean *provides* the
right packages?

> Would it not be better if there was a utility that can nose the dpkg tree for 
> texlive and use that to build the texlive-local?

Well, one can, but nobody has written it up. Something in the lines of

apt-cache show texlive-full | grep Depends
then massage the output by removing the versions, and some external
packages not shipped in TUG TeX Live
also check for recommends and suggests, ...
and from this generate the list of package names that should be provided.

So yes, one can do it ...

> -- 
> Get Things Fixed

Really? By asking other peole to fix it?


Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
OSSETT (n.)
A frilly spare-toilet-roll-cosy.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu Sep 13 06:16:38 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 13 Sep 2012 13:16:38 +0900
Subject: [tex-live] updmap: font rpncri is defined multiple times:
In-Reply-To: <504F1F29.8010608@list.ru>
References: <504F1F29.8010608@list.ru>
Message-ID: <20120913041638.GA14652@gamma.logic.tuwien.ac.at>

Hi Linas,

I answer on the list so that other people see this discussion.

On Di, 11 Sep 2012, linuxss wrote:
> F. e: I add line "Map nirvana.map" to updmap.cfg and when I recreate  
> maps i get warnings:
> updmap:   nirvana.map (/texlive2012/texmf-var/web2c/updmap.cfg) (used)
> updmap: font rpagd is defined multiple times:
> Use of uninitialized value in concatenation (.) or string at  

You were right, this happens if you define a font in an additional 
map file that is also defined in one of the base35 fonts.

I have committed a fix for the " uninitialized value " problem
which will be in tomorrows tlnet update.

> and in created psfonts.map file I see inserted duplicated fonts.

This is a different problem, and I am not sure how we want to
deal with that.

> nirvana.map:
> rpagd     AvantGarde-Demi          <agd_____.pfb
> rpagdo    AvantGarde-DemiOblique   <agdo____.pfb
> rpagk     AvantGarde-Book          <agw_____.pfb
> rpagko    AvantGarde-BookOblique   <agwo____.pfb

First of all, you could achieve the same effect by setting
	updmap-sys --setoption LW35 ADOBE
which has the very same effect.


What remains is the question, should we allow disabling the built in
35 fonts at all ... assume that someone wants to define these 35
fonts in a completely different way, with new fonts he is developping.

I don't know, I think we will have some internal discussions about this.

Thanks

Norbert

------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
KURDISTAN (n.)
Hard stare given by a husband to his wife when he notices a sharp
increase in the number of times he answers the phone to be told,
'Sorry, wrong number.'
			--- Douglas Adams, The Meaning of Liff

From linuxss at list.ru  Thu Sep 13 07:50:33 2012
From: linuxss at list.ru (linuxss)
Date: Thu, 13 Sep 2012 08:50:33 +0300
Subject: [tex-live] updmap: font rpncri is defined multiple times:
In-Reply-To: <20120913041638.GA14652@gamma.logic.tuwien.ac.at>
References: <504F1F29.8010608@list.ru>
 <20120913041638.GA14652@gamma.logic.tuwien.ac.at>
Message-ID: <50517429.2030108@list.ru>

Norbert, thanks a lot!!!!!!!!!

I don't remember why there were changed adobe base fonts (it's an old map), probably it was installed with wrong names.

Anyway I'll know what to do now.

Thanks, again!


From simon at getthingsfixed.co.uk  Thu Sep 13 12:33:41 2012
From: simon at getthingsfixed.co.uk (simon at getthingsfixed.co.uk)
Date: Thu, 13 Sep 2012 11:33:41 +0100
Subject: [tex-live] Integrating vanilla TeX Live with Debian
In-Reply-To: <20120912223315.GB31927@gamma.logic.tuwien.ac.at>
References: <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>
 <201209111516.42441.simon@getthingsfixed.co.uk>
 <20120912223315.GB31927@gamma.logic.tuwien.ac.at>
Message-ID: <201209131133.42137.simon@getthingsfixed.co.uk>

On Wednesday 12 September 2012 23:33:15 Norbert Preining wrote:
> On Di, 11 Sep 2012, simon at getthingsfixed.co.uk wrote:
> > Are the instructions in the debian page[1] correct?
>
> Depending on what part of it.
>
> > The texlive-local does not seen to do much. Shouldn't it suppress
> > synaptic/... from wanting/allowing the installation of the distro's
> > packages?
>
> Not necessarily.

What is it supposed to do then?

Isn't it supposed to prevent one from inadvertently stomping on the tl 
packages?

> > Would it not be better if there was a utility that can nose the dpkg tree
> > for texlive and use that to build the texlive-local?
>
> Well, one can, but nobody has written it up. Something in the lines of
>
> apt-cache show texlive-full | grep Depends
> then massage the output by removing the versions, and some external
> packages not shipped in TUG TeX Live
> also check for recommends and suggests, ...
> and from this generate the list of package names that should be provided.
>
> So yes, one can do it ...

Tried it and then spotted that it trawls for lots more packages that 
definitely aren't part of texlive. The obvious ones I can write a fixup table 
to zap them before outputting the final texlive-local. But some might miss, 
so it would be in the final file.

The problem would seem to be that whilst we can traverse the dependency tree 
using apt-cache, but have no way of knowing what is actually on the DVD. This 
is because the names and contents of the distro's packages can't be 
guaranteed to line up with what they might be called in the DVD.


-- 
Get Things Fixed

From Peter_Dyballa at Freenet.DE  Thu Sep 13 21:36:08 2012
From: Peter_Dyballa at Freenet.DE (Peter Dyballa)
Date: Thu, 13 Sep 2012 21:36:08 +0200
Subject: [tex-live] detex -w is not 8-bit clean
Message-ID: <14129773-5C36-40ED-B950-41FACB02DB7D@Freenet.DE>

Hello!

While detex in TL '12 has no problems to preserve 8-bit characters, this fails when detex is used to output the text as a long list of one single word per line, i.e., in the detex -w mode. An example: the word "sch?n" in the text body is output as

	sch

The "?" is swallowed, and the remaining "n" is too short to be output as a word.


P.S.: Are these lines from detex.l correct? Or is the "minpage" just an internal symbol?

 191	<LaBegin>{S}"{"{S}"minipage"{S}"}"		{ KILLARGS(1);
 192							  if (BeginEnv("minpage"))
 193								BEGIN LaEnv;
 194							  else
 195								BEGIN Normal;
 196							  IGNORE;
 197							}


--
Greetings

  Pete

There is no national science just as there is no national multiplication table; what is national is no longer science.
				? Anton Checov



From preining at logic.at  Thu Sep 13 15:05:14 2012
From: preining at logic.at (Norbert Preining)
Date: Thu, 13 Sep 2012 22:05:14 +0900
Subject: [tex-live] Integrating vanilla TeX Live with Debian
In-Reply-To: <201209131133.42137.simon@getthingsfixed.co.uk>
References: <20120912082348.A2352E00C7@nysmtp.nfit.au.dk>
 <201209111516.42441.simon@getthingsfixed.co.uk>
 <20120912223315.GB31927@gamma.logic.tuwien.ac.at>
 <201209131133.42137.simon@getthingsfixed.co.uk>
Message-ID: <20120913130514.GB3309@gandalf.dynalias.org>

On Thu, 13 Sep 2012, simon at getthingsfixed.co.uk wrote:
> > > The texlive-local does not seen to do much. Shouldn't it suppress
> > > synaptic/... from wanting/allowing the installation of the distro's
> > > packages?
> >
> > Not necessarily.
> 
> What is it supposed to do then?

To not force installation if a package depending on texlive-* is
installed.

The whole point is that if one installs for example
	texmaker
or any other editor that recommends some of the texlive-packages,
that these packages are *not* automatically installed.

But it was never the aim to stop installing both ...

> Isn't it supposed to prevent one from inadvertently stomping on the tl 
> packages?

THere will be anyway no interference if you do it properly.

The only reason is here to make apt believe that a full TeX system
is installed.

> The problem would seem to be that whilst we can traverse the dependency tree 
> using apt-cache, but have no way of knowing what is actually on the DVD. This 
> is because the names and contents of the distro's packages can't be 
> guaranteed to line up with what they might be called in the DVD.

Then why don't you simply forget it and live with the Debian packages?
They are anyway about as new as TeX Live...
What are you trying to solve?? That would be very helpful if you 
could specify that instead of theoreticizing ...


Norbert
(asking myself why people without experience try to make things
they probably never need - stupid upgraditis)

----------------------------------------------------------------------------
Norbert Preining                preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                   TeX Live and Debian Developer
gpg DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
----------------------------------------------------------------------------
DUBUQUE (n.)
A look given by a superior person to someone who has arrived wearing
the wrong sort of shoes.
			--- Douglas Adams, The Meaning of Liff

From braumann at uni-leipzig.de  Tue Sep 18 17:45:19 2012
From: braumann at uni-leipzig.de (Ulf-Dietrich Braumann)
Date: Tue, 18 Sep 2012 17:45:19 +0200
Subject: [tex-live] uninitialized variable $firstline in TLUtils.pm
Message-ID: <alpine.WNT.2.01.1209181732120.3480@yncgbc2.vmov.hav-yrvcmvt.qr>

Hello,


once I updated my Cygwin based TL2012 installation today, I noticed some 
complaint when the TLUtils.pm Perl script is executed: "use of unitialized 
value $firstline":

%tlmgr update -all
tlmgr: package repository 
http://ftp.fernuni-hagen.de/ftp-dir/pub/mirrors/www.ctan.org/systems/texlive/tlnet
tlmgr: saving backups to /usr/local/texlive/2012/tlpkg/backups
[1/4, ??:??/??:??] update: fancytabs [181k] (23839 -> 27684) ... done
[2/4, 00:08/00:41] update: fixmetodonotes [7k] (27053 -> 27685) ... done
[3/4, 00:15/01:15] update: upmethodology [436k] (16575 -> 27686) ... done
[4/4, 01:03/01:35] update: uptex [321k] (26775 -> 27683) ... done
tlmgr: package log updated at 
/usr/local/texlive/2012/texmf-var/web2c/tlmgr.log
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
Use of uninitialized value $firstline in chomp at 
/usr/local/texlive/2012/tlpkg/TeXLive/TLUtils.pm line 2695.
Use of uninitialized value $firstline in pattern match (m//) at 
/usr/local/texlive/2012/tlpkg/TeXLive/TLUtils.pm line 2698.
running updmap-sys ...
done running updmap-sys.
regenerating fmtutil.cnf in /usr/local/texlive/2012/texmf-var
running fmtutil-sys --no-error-if-no-format --byengine euptex ...
done running fmtutil-sys --no-error-if-no-format --byengine euptex.
running fmtutil-sys --no-error-if-no-format --byengine uptex ...
done running fmtutil-sys --no-error-if-no-format --byengine uptex.
%

This is the function inside TLUtils.pm where $firstline appears 
uninitialised:

sub check_for_old_updmap_cfg {
   chomp( my $tmfsysconf = `kpsewhich -var-value=TEXMFSYSCONFIG` ) ;
   my $oldupd = "$tmfsysconf/web2c/updmap.cfg";
   return unless -r $oldupd;  # if no such file, good.

   open (OLDUPD, "<$oldupd") || die "open($oldupd) failed: $!";
   chomp( my $firstline = <OLDUPD> );
   close(OLDUPD);
   #
   if ($firstline =~ m/^# Generated by (install-tl|.*\/tlmgr) on/) {
     # assume it was our doing, rename it.
     my $nn = "$oldupd.DISABLED";
     if (-r $nn) {
       my $fh;
       ($fh, $nn) = File::Temp::tempfile(
         "updmap.cfg.DISABLED.XXXXXX", DIR => "$tmfsysconf/web2c");
     }
     print "Renaming old config file from
   $oldupd
to
   $nn
";
     if (rename($oldupd, $nn)) {
       if (system("mktexlsr", $tmfsysconf) != 0) {
         die "mktexlsr $tmfsysconf failed after updmap.cfg rename, fix fix: 
$!";
       }
       print "No further action should be necessary.\n";
     } else {
       print STDERR "
Renaming of
   $oldupd
did not succeed.  This config file should not be used anymore,
so please do what's necessary to eliminate it.
See the documentation for updmap.
";
     }

   } else {  # first line did not match
     # that is NOT a good idea, because updmap creates updmap.cfg in
     # TEXMFSYSCONFIG when called with --enable Map etc, so we should
     # NOT warn here
     # print STDERR "Apparently
#  $oldupd
# was created by hand.  This config file should not be used anymore,
# so please do what's necessary to eliminate it.
# See the documentation for updmap.
# ";
   }
}


Any ideas? I need to admit that I have installed additional fonts under 
/usr/local/texlive/texmf-local , and actually everything seems to work 
fine, I just wonder what consequences the abovementioned complaint in 
TLUtils.pm might have.

Regards - UD


From preining at logic.at  Wed Sep 19 02:32:03 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 19 Sep 2012 09:32:03 +0900
Subject: [tex-live] uninitialized variable $firstline in TLUtils.pm
In-Reply-To: <alpine.WNT.2.01.1209181732120.3480@yncgbc2.vmov.hav-yrvcmvt.qr>
References: <alpine.WNT.2.01.1209181732120.3480@yncgbc2.vmov.hav-yrvcmvt.qr>
Message-ID: <5BC8C142-E1E4-4BF3-A40C-7D7612782C8A@logic.at>

Hi,

I assume you have an empty updmap.cdg, right?

>  if ($firstline =~ m/^# Generated by (install-tl|.*\/tlmgr) on/) {

This should read
  if (defined($firstline) && $firstline =~ ........

Can you change that and let us know the result?

Norbert

From preining at logic.at  Wed Sep 19 03:13:07 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 19 Sep 2012 10:13:07 +0900
Subject: [tex-live] uninitialized variable $firstline in TLUtils.pm
In-Reply-To: <alpine.WNT.2.01.1209181732120.3480@yncgbc2.vmov.hav-yrvcmvt.qr>
References: <alpine.WNT.2.01.1209181732120.3480@yncgbc2.vmov.hav-yrvcmvt.qr>
Message-ID: <20120919011307.GA10729@gamma.logic.tuwien.ac.at>

Hi,

On Di, 18 Sep 2012, Ulf-Dietrich Braumann wrote:
> once I updated my Cygwin based TL2012 installation today, I noticed some  
> complaint when the TLUtils.pm Perl script is executed: "use of 
> unitialized value $firstline":

Hmm, interesting, I could now try it and I have no idea why it happens.
here on unix if there is an empty file it works.

Seems to be cygwin specific, can you tell me what
	cat /usr/local/telxive/2012/texmf-config/web2c/updmap.cfg | od
says?

THe warning comes from here:

>   return unless -r $oldupd;  # if no such file, good.

Ok, there is a file, I hope you can confrim that.

>   open (OLDUPD, "<$oldupd") || die "open($oldupd) failed: $!";

But if that succeeded, we should be able to read from the file.

>   chomp( my $firstline = <OLDUPD> );

reading from the file returned nothing, while on Unix it returns 
the empty string.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
FARNHAM (n.)
The feeling you get about four o'clock in the afternoon when you
haven't got enough done.
			--- Douglas Adams, The Meaning of Liff

From braumann at uni-leipzig.de  Wed Sep 19 15:44:36 2012
From: braumann at uni-leipzig.de (Ulf-Dietrich Braumann)
Date: Wed, 19 Sep 2012 15:44:36 +0200
Subject: [tex-live] uninitialized variable $firstline in TLUtils.pm
In-Reply-To: <5BC8C142-E1E4-4BF3-A40C-7D7612782C8A@logic.at>
References: <alpine.WNT.2.01.1209181732120.3480@yncgbc2.vmov.hav-yrvcmvt.qr>
 <5BC8C142-E1E4-4BF3-A40C-7D7612782C8A@logic.at>
Message-ID: <alpine.WNT.2.01.1209191538270.2864@yncgbc2.vmov.hav-yrvcmvt.qr>

Thanks for your help, Norbert,

well the file /usr/local/texlive/2012/texmf-config/web2c/updmap.cfg 
exists, but indeed is empty on my Cygwin based installation. I do not know 
what it means to have this particular file empty.

I would try out the hack below, but please tell me how to manually invoke 
the perl scripts around TLUtils.pm

Thanks - UD


On Wed, 19 Sep 2012, Norbert Preining wrote:

> Hi,
>
> I assume you have an empty updmap.cdg, right?
>
>>  if ($firstline =~ m/^# Generated by (install-tl|.*\/tlmgr) on/) {
>
> This should read
>  if (defined($firstline) && $firstline =~ ........
>
> Can you change that and let us know the result?
>
> Norbert
>
>

From preining at logic.at  Wed Sep 19 15:56:27 2012
From: preining at logic.at (Norbert Preining)
Date: Wed, 19 Sep 2012 22:56:27 +0900
Subject: [tex-live] uninitialized variable $firstline in TLUtils.pm
In-Reply-To: <alpine.WNT.2.01.1209191538270.2864@yncgbc2.vmov.hav-yrvcmvt.qr>
References: <alpine.WNT.2.01.1209181732120.3480@yncgbc2.vmov.hav-yrvcmvt.qr>
 <5BC8C142-E1E4-4BF3-A40C-7D7612782C8A@logic.at>
 <alpine.WNT.2.01.1209191538270.2864@yncgbc2.vmov.hav-yrvcmvt.qr>
Message-ID: <20120919135627.GC18309@gamma.logic.tuwien.ac.at>

On Mi, 19 Sep 2012, Ulf-Dietrich Braumann wrote:
> well the file /usr/local/texlive/2012/texmf-config/web2c/updmap.cfg  
> exists, but indeed is empty on my Cygwin based installation. I do not 
> know what it means to have this particular file empty.

As said in my second email, it seems to be a peculiarity of cygwin,
that wen I read from an empty file nothing is returned (undef),
instead of the empty string. Anyway, in one way or the other 
I will cater to that.

No need to test anything anymore. Thanks.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
DES MOINES (pl.n.)
The two little lines which come down from your nose.
			--- Douglas Adams, The Meaning of Liff

From news3 at nililand.de  Thu Sep 20 10:10:00 2012
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 20 Sep 2012 10:10:00 +0200
Subject: [tex-live] temporary files of otftotfm
Message-ID: <ntxyn3vx2uu.dlg@nililand.de>

Hello,

I'm trying to use the newest windows binaries from
http://w32tex.org/ of the lcdf-typetools (version 2.94). 

When calling otftotfm I get the error message
otftotfm: temporary file '\s1so.4': Permission denied
This looks as if otftotfm tries to write at the root of the drive.
I can avoid the problem by calling otftotfm with admin rights. 

I had this problem already two years ago. At this time it was a bug
which has been corrected:

http://www.tug.org/pipermail/tex-live/2010-February/024687.html

It worked fine with an older version (2.82 I think) until yesterday
when I downloaded the newest version ;-(.



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From pander at users.sourceforge.net  Thu Sep 20 10:23:54 2012
From: pander at users.sourceforge.net (Pander)
Date: Thu, 20 Sep 2012 10:23:54 +0200
Subject: [tex-live] Automated TeX Live Integration Testing
In-Reply-To: <20120907122655.GA6191@oberdiek.my-fqdn.de>
References: <10286.1344959095@cl.cam.ac.uk>
 <502A7648.6000908@users.sourceforge.net>
 <20120814165250.GA14346@oberdiek.my-fqdn.de>
 <CAC1phyarnzR+uvN3vVEWCAp9WbF-qw-6oVmw89S6rf04+AmcxQ@mail.gmail.com>
 <502B7909.9020308@users.sourceforge.net>
 <5049D179.8020203@users.sourceforge.net>
 <20120907122655.GA6191@oberdiek.my-fqdn.de>
Message-ID: <505AD29A.2030000@users.sourceforge.net>

On 2012-09-07 14:26, Heiko Oberdiek wrote:
> On Fri, Sep 07, 2012 at 12:50:33PM +0200, Pander wrote:
> 
>> Would be nice that the people who told me to start working on this that
>> some feedback would be given.
> 
>> On 2012-08-15 12:25, Pander wrote:
>>>
>>> Please review:
>>>   tlit - TeX Live Integration Testing
>>>   https://github.com/PanderMusubi/tlit
>>>
>>> The goal of integration testing of TeX Live is to automatically confirm
>>> that an update did not break any major functionality. Detailed module
>>> testing of individual packagese is up to the package maintaineres. This
>>> is done in much more detail and is outside of the scope of integration
>>> testing. Integration testing offered here is merely a simply check if
>>> certain often used combinations of package can play together. The goal
>>> is to prevent that simultaneous updateting of multiple packages, which
>>> all passed their individual module tests without being aware that other
>>> packages are also being updated on the same time, break TeX Live.

Heiko, thanks for having a look at it.

> * It assumes that packages have individual module tests that are run on
>   updates. Both is not true with few excaptions only.

Modules are tested by developers before uploading to CTAN, that I assume
but it is indeed unclear with which version of TeXLive this is done or
done at all. Actually I don't care, I just want to know if post upgrade
all is working. I will remove the assumption on the documentation.

> * To some degree package testing already involves other packages.
>   There is no sharp separation line for integration testing.

True. I just want to prevent what prevent situation that result in
non-functional TeX Live installation as happen (but was fixed quickly)
last time.

> * I cannot find, how this is addressed:
>   * There are quite a few TeX compilers with quite a few formats.
>   * There are lots of classes and tons of packages.
>   * Classes and packages provide none up to an endless number of options
>     with multiple values and working modes.
>   * The number of package combinations and loading order is overwhelming.

The tests currently in there are some major packages and engines I use.
If they do not work, that is a big enough signal for me. I would expand
the test cases only with incidents that happen in the future.

> * What is tested:
>   * Errors: expected or unexpected
>   * Warnings: expected or unexpected
>   * Messages: expected or unexpected
>   * Output: DVI/PS/PDF
>   * log file, aux files, ...

Simply and only the result status at this time.

> * Which system to manage the tests?

Hope some has one available.

> * How to deal with the result? But report to package authors?

To be discussed and implemented.

> * ...
> 
> Good testing is a huge task requiring lots of "(wo)man power".

My idea was to start something or give an impulse to this and have it
evolve by contributions from all. I have worked with many software
development environments that have a nightly build and subsequent
testing whenever changes have been made to the repository that day.

Best regards,

Pander

PS   If some of you want a .tar.gz, please go to
https://github.com/PanderMusubi/tlit/downloads

> Yours sincerely
>   Heiko Oberdiek
> 


From kakuto at fuk.kindai.ac.jp  Thu Sep 20 16:58:47 2012
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 20 Sep 2012 23:58:47 +0900
Subject: [tex-live] temporary files of otftotfm
In-Reply-To: <ntxyn3vx2uu.dlg@nililand.de>
References: <ntxyn3vx2uu.dlg@nililand.de>
Message-ID: <134815312750385500004b3a@sniffer>

Dear Ulrike,

> When calling otftotfm I get the error message
> otftotfm: temporary file '\s1so.4': Permission denied
> This looks as if otftotfm tries to write at the root of the drive.
> I can avoid the problem by calling otftotfm with admin rights. 
> 
> I had this problem already two years ago. At this time it was a bug
> which has been corrected:
> 
> http://www.tug.org/pipermail/tex-live/2010-February/024687.html
> 
> It worked fine with an older version (2.82 I think) until yesterday
> when I downloaded the newest version ;-(.

Thanks for the report.
I forgot http://www.tug.org/pipermail/tex-live/2010-February/024687.html and used the standard function.
I'll fix it ASAP.

Akira


From mpalmer at uwaterloo.ca  Fri Sep 21 20:58:24 2012
From: mpalmer at uwaterloo.ca (Michael Palmer)
Date: Fri, 21 Sep 2012 14:58:24 -0400
Subject: [tex-live] perl or lua standard library modules in texlive
Message-ID: <20120921145824.12392rfiwgre6xg0@www.nexusmail.uwaterloo.ca>

Hi,

I've got a technical question concerning executable scripts in TeXLive  
packages.

I have uploaded a Python program (mol2chemfig) as a package to CTAN.  
This program converts chemical structures in molfile or SMILES format  
to TeX code in the syntax defined by the chemfig package (which is in  
TeXLive).

I would like to make mol2chemfig fit for TeXLive also. However, on  
http://tug.org/texlive/pkgcontrib.html, it says that only Perl and Lua  
are supported by TeXLive, and that these two interpreters are supplied  
with TeXLive itself.

Because of third party library dependencies, converting mol2chemfig  
entirely to Perl or Lua is not an option. However, there is also a  
thin client version of mol2chemfig that simply takes user input from  
the command line and hands it off to my server. This is a small script  
and could in principle be translated to perl or lua; however, the  
translated versions would require standard library modules for parsing  
command line input and making HTTP requests.

Could anyone give me, or point me to, information on what standard  
library (or other potentially useful) modules are available to the  
perl or lua interpreters in TeXLive? Does this vary with the platform?  
If any essential modules are missing, could I add them to my package?

If there are any examples / tutorials for how to create perl or lua  
packages for TeXLive, pointers to those would be welcome, too.

Thanks, Michael

-- 
Michael Palmer
University of Waterloo
Waterloo, Canada
science.uwaterloo.ca/~mpalmer




From karl at freefriends.org  Sun Sep 23 00:57:19 2012
From: karl at freefriends.org (Karl Berry)
Date: Sat, 22 Sep 2012 22:57:19 +0000
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <20120921145824.12392rfiwgre6xg0@www.nexusmail.uwaterloo.ca>
Message-ID: <201209222257.q8MMvJfN013385@freefriends.org>

Hi Michael,

Thanks for writing.  I looked at your mol2chemfig when it hit CTAN and
regretted that I could not make it work in TL as-is.

The issue is not Python, per se -- any language is possible,
dependencies permitting.  There are a couple Python scripts in TL now
(dviasm, ebong), but they are standalone executables.  I expect it would
be possible to make mol2chemfig work in Python (if users have whatever
prerequisite libraries installed, if any).

I haven't written anything beyond the terse notes on pkgcontrib.html
that you already found.  Here is a more verbose version:

The two principal issues are:
- The installation instructions said to run "python setup.py", which I
  know is the standard method for Python packages, but it doesn't work
  at all with TL.  What I need are files that I can install in TL
  directly and that do not depend on the "install-time" environment.
  (Since the TL user who eventually runs the script will have an
  environment that arbitrarily differs from mine doing the install.)

- The executables have to be "self-locating", which is to say, they have
  to find their data files relative to their own location, not based on
  any absolute prefix.  (Since users can install TL anywhere.)  The
  package structure would end up being something like this:
bin/*/mol2chemfig symlink to:
texmf-dist/scripts/mol2chemfig/mol2chemfig.py
texmf-dist/scripts/mol2chemfig/atom.py
texmf-dist/scripts/mol2chemfig/common.py
..

In practice, when mol2chemfig is run, it needs to use kpsewhich to find
its files (or likely, in this case, find the directory to add to
PYTHONPATH or however it works ...):

subpath=`kpsewhich --progname=mol2chemfig --format=texmfscripts mol2chemfig.py`
.. `dirname $subpath` ...

I know I'm not spelling everything out, but hopefully those clues make a
little sense?  Please do ask further as needed.


Heiko, you probably do more than anyone with finding subsidiary script
files.  If you have anything to add/correct to the above, please do ...

Best,
Karl

From mpalmer at uwaterloo.ca  Sun Sep 23 02:04:53 2012
From: mpalmer at uwaterloo.ca (Michael Palmer)
Date: Sat, 22 Sep 2012 20:04:53 -0400
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <201209222257.q8MMvJfN013385@freefriends.org>
References: <201209222257.q8MMvJfN013385@freefriends.org>
Message-ID: <20120922200453.19773sb7jqbfs1kw@www.nexusmail.uwaterloo.ca>

Hi Karl,

thanks very much for your reply. In the meantime, I have dug a little  
further and am cobbling together a lua version of the thin client that  
would simply delegate all the real work to my server. This lua client  
would need to import a few more lua modules. No Python files would  
need to be installed on the user's computer.

The code generated by mol2chemfig also needs a little package (.sty)  
with custom macros. In addition, I would like to include a sample  
document (.tex) with mol2chemfig-generated examples (also .tex) and  
maybe some molfiles (.mol).

Could you point me to some example of a somewhat similar package, from  
which I could learn how to arrange the files in mine?

Thanks again and best wishes, Michael

Quoting Karl Berry <karl at freefriends.org>:

> Hi Michael,
>
> Thanks for writing.  I looked at your mol2chemfig when it hit CTAN and
> regretted that I could not make it work in TL as-is.
>
> The issue is not Python, per se -- any language is possible,
> dependencies permitting.  There are a couple Python scripts in TL now
> (dviasm, ebong), but they are standalone executables.  I expect it would
> be possible to make mol2chemfig work in Python (if users have whatever
> prerequisite libraries installed, if any).
>
> I haven't written anything beyond the terse notes on pkgcontrib.html
> that you already found.  Here is a more verbose version:
>
> The two principal issues are:
> - The installation instructions said to run "python setup.py", which I
>   know is the standard method for Python packages, but it doesn't work
>   at all with TL.  What I need are files that I can install in TL
>   directly and that do not depend on the "install-time" environment.
>   (Since the TL user who eventually runs the script will have an
>   environment that arbitrarily differs from mine doing the install.)
>
> - The executables have to be "self-locating", which is to say, they have
>   to find their data files relative to their own location, not based on
>   any absolute prefix.  (Since users can install TL anywhere.)  The
>   package structure would end up being something like this:
> bin/*/mol2chemfig symlink to:
> texmf-dist/scripts/mol2chemfig/mol2chemfig.py
> texmf-dist/scripts/mol2chemfig/atom.py
> texmf-dist/scripts/mol2chemfig/common.py
> ..
>
> In practice, when mol2chemfig is run, it needs to use kpsewhich to find
> its files (or likely, in this case, find the directory to add to
> PYTHONPATH or however it works ...):
>
> subpath=`kpsewhich --progname=mol2chemfig --format=texmfscripts  
> mol2chemfig.py`
> .. `dirname $subpath` ...
>
> I know I'm not spelling everything out, but hopefully those clues make a
> little sense?  Please do ask further as needed.
>
>
> Heiko, you probably do more than anyone with finding subsidiary script
> files.  If you have anything to add/correct to the above, please do ...
>
> Best,
> Karl
>



-- 
Michael Palmer
University of Waterloo
Waterloo, Canada
science.uwaterloo.ca/~mpalmer




From karl at freefriends.org  Sun Sep 23 02:35:21 2012
From: karl at freefriends.org (Karl Berry)
Date: Sat, 22 Sep 2012 18:35:21 -0600
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <20120922200453.19773sb7jqbfs1kw@www.nexusmail.uwaterloo.ca>
 (message from Michael Palmer on Sat, 22 Sep 2012 20:04:53 -0400)
Message-ID: <86ipb537au.fsf@frenzy.freefriends.org>

All sounds good, but the same issues pertain to Lua -- it still has to
find its files relative to its current location, no different from
Python, C executables, or anything else.  OTOH, if the thin client is
going to be standalone, then that's fine, there's no problem.
The TeX stuff and doc files are no problem either.

You don't have to worry about the exact structure unless you want to.
Our ctan->tl import script can rearrange as needed, that's how we handle
the vast majority of packages.  The critical thing is that the code
itself be prepared to be installed anywhere ...

k

From mpalmer at uwaterloo.ca  Sun Sep 23 02:45:26 2012
From: mpalmer at uwaterloo.ca (Michael Palmer)
Date: Sat, 22 Sep 2012 20:45:26 -0400
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <86ipb537au.fsf@frenzy.freefriends.org>
References: <86ipb537au.fsf@frenzy.freefriends.org>
Message-ID: <20120922204526.18103hfoqoam0lmo@www.nexusmail.uwaterloo.ca>

I understand that luatex / texlua uses kpathsea? So if the thin client  
would be executed by texlua and the lua modules to be imported could  
be installed by TeXLive somewhere in the LUAINPUTS path then it should  
work - no? That's at least how it appears on my machine (TeXLive /  
Debian testing).

Quoting Karl Berry <karl at freefriends.org>:

> All sounds good, but the same issues pertain to Lua -- it still has to
> find its files relative to its current location, no different from
> Python, C executables, or anything else.  OTOH, if the thin client is
> going to be standalone, then that's fine, there's no problem.
> The TeX stuff and doc files are no problem either.
>
> You don't have to worry about the exact structure unless you want to.
> Our ctan->tl import script can rearrange as needed, that's how we handle
> the vast majority of packages.  The critical thing is that the code
> itself be prepared to be installed anywhere ...
>
> k
>



-- 
Michael Palmer
University of Waterloo
Waterloo, Canada
science.uwaterloo.ca/~mpalmer




From mojca.miklavec.lists at gmail.com  Sun Sep 23 03:14:14 2012
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 23 Sep 2012 03:14:14 +0200
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <20120922200453.19773sb7jqbfs1kw@www.nexusmail.uwaterloo.ca>
References: <201209222257.q8MMvJfN013385@freefriends.org>
 <20120922200453.19773sb7jqbfs1kw@www.nexusmail.uwaterloo.ca>
Message-ID: <CALBOmsagpkp4HU-=HAqXizhmMAK9ormycu_GGMahgEj_=Z3Mog@mail.gmail.com>

On Sun, Sep 23, 2012 at 2:04 AM, Michael Palmer wrote:
>
> Could you point me to some example of a somewhat similar package, from which
> I could learn how to arrange the files in mine?

It should be something like this (inside texmf-dist or wherever you
have other files, possibly in TEXMFLOCAL) plus one or two executable
files (lua/python scripts) next to other binaries like "pdflatex":

scripts/mol2chemfig/<whatever-you-want-or-need>
scripts/mol2chemfig/lua/*.lua
scripts/mol2chemfig/python/*.py

tex/latex/mol2chemfig/mol2chemfig.sty
tex/context/third/mol2chemfig/t-mol2chemfig.tex ;)

doc/latex/mol2chemfig/<whatever-you-want-or-need>
doc/latex/mol2chemfig/mol2chemfig-doc.tex !!!
doc/latex/mol2chemfig/mol2chemfig-doc.pdf
doc/latex/mol2chemfig/README
doc/latex/mol2chemfig/samples/fmn.mol
doc/latex/mol2chemfig/samples/peniciling.mol
doc/latex/mol2chemfig/samples/peniciling.tex
doc/latex/mol2chemfig/samples/plp.mol
doc/latex/mol2chemfig/samples/plp.tex
doc/latex/mol2chemfig/samples/plp2.mol
doc/latex/mol2chemfig/samples/plp2.tex
doc/latex/mol2chemfig/samples/plp3.tex
doc/latex/mol2chemfig/samples/plpn.tex


The only "tricky" part that Karl is talking about is that your
executable mol2chemfig inside binaries should be able to load all
other *.py modules inside [texmf]/scripts/mol2chemfig/python/*.py.

You asked for some examples of other programs. My TL contains the
following python scripts:
    de-macro, dviasm, ebong, texliveonfly, xasy

The "xasy" does
    import xasyMainWin
for example and the file seems to be located under
    /usr/local/texlive/2012/texmf/asymptote/GUI/xasyMainWin.py
but I'm not sure which trick exactly does the magic. And I'm not able
to run xasy either since I don't have all the required python modules
installed.

The file texmf.cnf contains
JAVAINPUTS   = .;$TEXMF/scripts/{$progname,$engine,}/java//
PERLINPUTS   = .;$TEXMF/scripts/{$progname,$engine,}/perl//
PYTHONINPUTS = .;$TEXMF/scripts/{$progname,$engine,}/python//
RUBYINPUTS   = .;$TEXMF/scripts/{$progname,$engine,}/ruby//
but I don't believe that this would work out of the box without some
wrapper script somewhere.

[Another "package" uses *a lot* of perl, ruby and lua scripts which
are located inside texmf-dist and the binaries manage to load all the
proper libraries from there using a wrapper, but people would crucify
me if I would suggest to take that package as a role model.]

Mojca

From reinhard.kotucha at web.de  Sun Sep 23 18:46:53 2012
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 23 Sep 2012 18:46:53 +0200
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <CALBOmsagpkp4HU-=HAqXizhmMAK9ormycu_GGMahgEj_=Z3Mog@mail.gmail.com>
References: <201209222257.q8MMvJfN013385@freefriends.org>
 <20120922200453.19773sb7jqbfs1kw@www.nexusmail.uwaterloo.ca>
 <CALBOmsagpkp4HU-=HAqXizhmMAK9ormycu_GGMahgEj_=Z3Mog@mail.gmail.com>
Message-ID: <20575.15613.66226.494705@zaphod.ms25.net>

On 2012-09-23 at 03:14:14 +0200, Mojca Miklavec wrote:

 > The file texmf.cnf contains
 > JAVAINPUTS   = .;$TEXMF/scripts/{$progname,$engine,}/java//
 > PERLINPUTS   = .;$TEXMF/scripts/{$progname,$engine,}/perl//
 > PYTHONINPUTS = .;$TEXMF/scripts/{$progname,$engine,}/python//
 > RUBYINPUTS   = .;$TEXMF/scripts/{$progname,$engine,}/ruby//
 > but I don't believe that this would work out of the box without some
 > wrapper script somewhere.

Hi Mojca,
scripts can use kpsewhich directly in order to add these paths to the
module search path before loading modules.

A wrapper is only needed if the script assumes that all modules are at
standard locations.  In this case the wrapper has to run kpsewhich and
pass the result to the script by an environment variable. 

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From karl at freefriends.org  Mon Sep 24 00:48:14 2012
From: karl at freefriends.org (Karl Berry)
Date: Sun, 23 Sep 2012 22:48:14 +0000
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <CALBOmsagpkp4HU-=HAqXizhmMAK9ormycu_GGMahgEj_=Z3Mog@mail.gmail.com>
Message-ID: <201209232248.q8NMmELL003163@freefriends.org>

    scripts/mol2chemfig/lua/*.lua
    scripts/mol2chemfig/python/*.py

There's no need to separate things by language (unless you want to).

    I understand that luatex / texlua uses kpathsea? 

Yes.

    would be executed by texlua and the lua modules to be imported could  
    be installed by TeXLive somewhere in the LUAINPUTS path then it should  
    work - no? 

Yes, that's my understanding as well.  And that's fine, but if you rely
on that default lookup, please name your files with a unique prefix,
e.g., mol2c.  So, mol2c-common.py, not just common.py.  (Or .lua, or
whatever, the point is the same regardless.)

Once again: TL per se has no preference between languages.

Thanks,
k


From t34www at googlemail.com  Mon Sep 24 11:23:40 2012
From: t34www at googlemail.com (T T)
Date: Mon, 24 Sep 2012 10:23:40 +0100
Subject: [tex-live] perl or lua standard library modules in texlive
In-Reply-To: <20120922204526.18103hfoqoam0lmo@www.nexusmail.uwaterloo.ca>
References: <86ipb537au.fsf@frenzy.freefriends.org>
 <20120922204526.18103hfoqoam0lmo@www.nexusmail.uwaterloo.ca>
Message-ID: <CADtfNzLhx0zDYYh18EnMNm-zQnTUwNxLVDwHeToM5VeLcNhFaQ@mail.gmail.com>

On 23 September 2012 01:45, Michael Palmer <mpalmer at uwaterloo.ca> wrote:
> I understand that luatex / texlua uses kpathsea? So if the thin client would
> be executed by texlua and the lua modules to be imported could be installed
> by TeXLive somewhere in the LUAINPUTS path then it should work - no? That's
> at least how it appears on my machine (TeXLive / Debian testing).

You may find some additional bits of information on how to go about
packages with executables here:

http://tex.stackexchange.com/questions/40937/how-to-publish-a-package-that-includes-scripts-and-or-executables/40971#40971

Cheers,

Tomek

From bernhard.kleine at gmx.net  Mon Sep 24 21:56:56 2012
From: bernhard.kleine at gmx.net (bernhard)
Date: Mon, 24 Sep 2012 19:56:56 +0000
Subject: [tex-live] Possibility to enhance registers
Message-ID: <1348516616.6983.8.camel@amd3600x2bk>

Dear friends,

in the final stage of my book I encounter a crazy error: 

[213])) [214]
\openout2 = `Kap8/kap08_Rezeptoren.aux'.

(./Kap8/kap08_Rezeptoren.tex Kapitel 8.
\openout3 = `DritteDeutscheEdition.mtc'.
\openout3 = `DritteDeutscheEdition.mtc'.
! You can't use `\unpenalty' in vertical mode.
\mtc at BBR ->\unpenalty 
                      \nopagebreak [4]
\sv at minitoc@ ...\leavevmode \mtc at zrule \\\mtc at BBR 
\leftmargin \mtcindent \ri...
\minitoc@ ...ndottedtoclinep \fi \sv at minitoc@ [#1] }
<to be read again> \bigskip 
l.5 \minitoc\bigskip
                    
Sorry...I usually can't take things from the current page.
Perhaps you can make the output routine do it.

(./DritteDeutscheEdition.mtc8)

It is not the code in the file which raises this error since I can using
excludeonly exclude entire chapters and the error appears again. I
have :
        {\centering                 
        \setcounter{minitocdepth}{2}  
        \minitoc\bigskip
        }
at the beginning of any chapter. 

To remedy this situation I have in the texlive-directory (here
at /usr/local/texlive/texlive2011) the file texmf.cnf which has
drastically enhanced register values for tex-variables, however to no
avail.

My question is: Where can I increase texmf-registers to have all the 420
pages of my book compiled without this annoying error which crept in
earlier this year.

And I donot think this is OT since it deals with configuring tex in
texlive.

Greetings Bernhard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part
URL: <http://tug.org/pipermail/tex-live/attachments/20120924/975063a3/attachment.bin>

From zdenek.wagner at gmail.com  Mon Sep 24 20:15:14 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 24 Sep 2012 20:15:14 +0200
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <1348516616.6983.8.camel@amd3600x2bk>
References: <1348516616.6983.8.camel@amd3600x2bk>
Message-ID: <CAC1phyYLdKADaVE3T2URRB50kVtF7i_EzmBesB36-2cDGiMuVg@mail.gmail.com>

2012/9/24 bernhard <bernhard.kleine at gmx.net>:
> Dear friends,
>
> in the final stage of my book I encounter a crazy error:
>
> [213])) [214]
> \openout2 = `Kap8/kap08_Rezeptoren.aux'.
>
> (./Kap8/kap08_Rezeptoren.tex Kapitel 8.
> \openout3 = `DritteDeutscheEdition.mtc'.
> \openout3 = `DritteDeutscheEdition.mtc'.
> ! You can't use `\unpenalty' in vertical mode.
> \mtc at BBR ->\unpenalty
>                       \nopagebreak [4]
> \sv at minitoc@ ...\leavevmode \mtc at zrule \\\mtc at BBR
> \leftmargin \mtcindent \ri...
> \minitoc@ ...ndottedtoclinep \fi \sv at minitoc@ [#1] }
> <to be read again> \bigskip
> l.5 \minitoc\bigskip
>
> Sorry...I usually can't take things from the current page.
> Perhaps you can make the output routine do it.
>
> (./DritteDeutscheEdition.mtc8)
>
> It is not the code in the file which raises this error since I can using
> excludeonly exclude entire chapters and the error appears again. I
> have :
>         {\centering
>         \setcounter{minitocdepth}{2}
>         \minitoc\bigskip
>         }
> at the beginning of any chapter.
>
> To remedy this situation I have in the texlive-directory (here
> at /usr/local/texlive/texlive2011) the file texmf.cnf which has
> drastically enhanced register values for tex-variables, however to no
> avail.
>
> My question is: Where can I increase texmf-registers to have all the 420
> pages of my book compiled without this annoying error which crept in
> earlier this year.
>
> And I donot think this is OT since it deals with configuring tex in
> texlive.
>
No, it has nothing to do with configuration. The reason is that you
try to remove penalty in the vertical mode but the main vertical list
is empty (see The TeXbook for explanation). This is an error in a
definition of some macro.

> Greetings Bernhard



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From Robin.Fairbairns at cl.cam.ac.uk  Mon Sep 24 20:21:23 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 24 Sep 2012 19:21:23 +0100
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: Your message of Mon, 24 Sep 2012 19:56:56 -0000.
 <1348516616.6983.8.camel@amd3600x2bk>
Message-ID: <18260.1348510883@cl.cam.ac.uk>

bernhard <bernhard.kleine at gmx.net> wrote:

> in the final stage of my book I encounter a crazy error: 
> 
> [213])) [214]
> \openout2 = `Kap8/kap08_Rezeptoren.aux'.
> 
> (./Kap8/kap08_Rezeptoren.tex Kapitel 8.
> \openout3 = `DritteDeutscheEdition.mtc'.
> \openout3 = `DritteDeutscheEdition.mtc'.
> ! You can't use `\unpenalty' in vertical mode.
> \mtc at BBR ->\unpenalty 
>                       \nopagebreak [4]
> \sv at minitoc@ ...\leavevmode \mtc at zrule \\\mtc at BBR 
> \leftmargin \mtcindent \ri...
> \minitoc@ ...ndottedtoclinep \fi \sv at minitoc@ [#1] }
> <to be read again> \bigskip 
> l.5 \minitoc\bigskip
>                     
> Sorry...I usually can't take things from the current page.
> Perhaps you can make the output routine do it.
> 
> (./DritteDeutscheEdition.mtc8)

this isn't particularly weird; a pity that minitoc isn't maintained any
more, though.

> It is not the code in the file which raises this error since I can using
> excludeonly exclude entire chapters and the error appears again. I
> have :
>         {\centering                 
>         \setcounter{minitocdepth}{2}  
>         \minitoc\bigskip
>         }
> at the beginning of any chapter. 
> 
> To remedy this situation I have in the texlive-directory (here
> at /usr/local/texlive/texlive2011) the file texmf.cnf which has
> drastically enhanced register values for tex-variables, however to no
> avail.
> 
> My question is: Where can I increase texmf-registers to have all the 420
> pages of my book compiled without this annoying error which crept in
> earlier this year.

it doesn't sound like an error related to shortage of registers.

> And I donot think this is OT since it deals with configuring tex in
> texlive.

doesn't sound like that.  even if your idea of numbers of registers is
correct (check it by loading etex.sty immediately after \documentclass
line(s), which will give you all the registers tex can offer), it's not
a config value.

(actually finding what the problem is, isn't necessarily going to be
easy with the info you've given.)

r

From bernhard.kleine at gmx.net  Mon Sep 24 22:21:41 2012
From: bernhard.kleine at gmx.net (bernhard)
Date: Mon, 24 Sep 2012 20:21:41 +0000
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <CAC1phyYLdKADaVE3T2URRB50kVtF7i_EzmBesB36-2cDGiMuVg@mail.gmail.com>
References: <1348516616.6983.8.camel@amd3600x2bk>
 <CAC1phyYLdKADaVE3T2URRB50kVtF7i_EzmBesB36-2cDGiMuVg@mail.gmail.com>
Message-ID: <1348518101.6983.12.camel@amd3600x2bk>

Am Montag, den 24.09.2012, 20:15 +0200 schrieb Zdenek Wagner:
> > And I donot think this is OT since it deals with configuring tex in
> > texlive.
> >
> No, it has nothing to do with configuration. The reason is that you
> try to remove penalty in the vertical mode but the main vertical list
> is empty (see The TeXbook for explanation). This is an error in a
> definition of some macro.
> 
> > Greetings Bernhard
> 
> 
> 
> -- 
> Zden?k Wagner 

And can you please explain why this occurs only at the 8th occurence of
that code and not at the 1st,2nd...7th, 9th, ...14th. The code is for
sure the same at any of its 14 places!

Bernhard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part
URL: <http://tug.org/pipermail/tex-live/attachments/20120924/0b304919/attachment.bin>

From zdenek.wagner at gmail.com  Mon Sep 24 20:25:11 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 24 Sep 2012 20:25:11 +0200
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <18260.1348510883@cl.cam.ac.uk>
References: <1348516616.6983.8.camel@amd3600x2bk>
 <18260.1348510883@cl.cam.ac.uk>
Message-ID: <CAC1phyaB=+5bXzO6seVgF54=33OJBPEqumusGKY9Yk0wvyu38g@mail.gmail.com>

2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> bernhard <bernhard.kleine at gmx.net> wrote:
>
>> in the final stage of my book I encounter a crazy error:
>>
>> [213])) [214]
>> \openout2 = `Kap8/kap08_Rezeptoren.aux'.
>>
>> (./Kap8/kap08_Rezeptoren.tex Kapitel 8.
>> \openout3 = `DritteDeutscheEdition.mtc'.
>> \openout3 = `DritteDeutscheEdition.mtc'.
>> ! You can't use `\unpenalty' in vertical mode.
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
This line shows the exact source of the problem, see my previous mail.


>> \mtc at BBR ->\unpenalty
>>                       \nopagebreak [4]
>> \sv at minitoc@ ...\leavevmode \mtc at zrule \\\mtc at BBR
>> \leftmargin \mtcindent \ri...
>> \minitoc@ ...ndottedtoclinep \fi \sv at minitoc@ [#1] }
>> <to be read again> \bigskip
>> l.5 \minitoc\bigskip
>>
>> Sorry...I usually can't take things from the current page.
>> Perhaps you can make the output routine do it.
>>
>> (./DritteDeutscheEdition.mtc8)
>
> this isn't particularly weird; a pity that minitoc isn't maintained any
> more, though.
>
>> It is not the code in the file which raises this error since I can using
>> excludeonly exclude entire chapters and the error appears again. I
>> have :
>>         {\centering
>>         \setcounter{minitocdepth}{2}
>>         \minitoc\bigskip
>>         }
>> at the beginning of any chapter.
>>
>> To remedy this situation I have in the texlive-directory (here
>> at /usr/local/texlive/texlive2011) the file texmf.cnf which has
>> drastically enhanced register values for tex-variables, however to no
>> avail.
>>
>> My question is: Where can I increase texmf-registers to have all the 420
>> pages of my book compiled without this annoying error which crept in
>> earlier this year.
>
> it doesn't sound like an error related to shortage of registers.
>
>> And I donot think this is OT since it deals with configuring tex in
>> texlive.
>
> doesn't sound like that.  even if your idea of numbers of registers is
> correct (check it by loading etex.sty immediately after \documentclass
> line(s), which will give you all the registers tex can offer), it's not
> a config value.
>
> (actually finding what the problem is, isn't necessarily going to be
> easy with the info you've given.)
>
> r



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From Robin.Fairbairns at cl.cam.ac.uk  Mon Sep 24 20:31:51 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 24 Sep 2012 19:31:51 +0100
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: Your message of Mon, 24 Sep 2012 20:21:41 -0000.
 <1348518101.6983.12.camel@amd3600x2bk>
Message-ID: <18770.1348511511@cl.cam.ac.uk>

bernhard <bernhard.kleine at gmx.net> wrote:

> > No, it has nothing to do with configuration. The reason is that you
> > try to remove penalty in the vertical mode but the main vertical list
> > is empty (see The TeXbook for explanation). This is an error in a
> > definition of some macro.
> 
> And can you please explain why this occurs only at the 8th occurence of
> that code and not at the 1st,2nd...7th, 9th, ...14th. The code is for
> sure the same at any of its 14 places!

position on page, perhaps?  we're operating in the dark, here: you're
letting out snippets of information, none of which is likely to be
diagnostic, so far.

r

From zdenek.wagner at gmail.com  Mon Sep 24 20:29:58 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 24 Sep 2012 20:29:58 +0200
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <1348518101.6983.12.camel@amd3600x2bk>
References: <1348516616.6983.8.camel@amd3600x2bk>
 <CAC1phyYLdKADaVE3T2URRB50kVtF7i_EzmBesB36-2cDGiMuVg@mail.gmail.com>
 <1348518101.6983.12.camel@amd3600x2bk>
Message-ID: <CAC1phyZPe5PsCDTAaVq2X+YngPq8N9hYN9QCnLGHoV8La39D9w@mail.gmail.com>

2012/9/24 bernhard <bernhard.kleine at gmx.net>:
> Am Montag, den 24.09.2012, 20:15 +0200 schrieb Zdenek Wagner:
>> > And I donot think this is OT since it deals with configuring tex in
>> > texlive.
>> >
>> No, it has nothing to do with configuration. The reason is that you
>> try to remove penalty in the vertical mode but the main vertical list
>> is empty (see The TeXbook for explanation). This is an error in a
>> definition of some macro.
>>
>> > Greetings Bernhard
>>
>>
>>
>> --
>> Zden?k Wagner
>
> And can you please explain why this occurs only at the 8th occurence of
> that code and not at the 1st,2nd...7th, 9th, ...14th. The code is for
> sure the same at any of its 14 places!
>
If the last item in the composed list is a penlaty, \unpenalty removes
it, otherwise it does nothing. The only exception is if \unpenalty is
used in the vertical mode and the main vertical list is empty, in such
a case TeX reports an error. This means that in other occurences the
vertical list is not empty when \unpenalty is used.

> Bernhard



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From Robin.Fairbairns at cl.cam.ac.uk  Mon Sep 24 20:35:56 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 24 Sep 2012 19:35:56 +0100
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: Your message of Mon, 24 Sep 2012 20:25:11 +0200.
 <CAC1phyaB=+5bXzO6seVgF54=33OJBPEqumusGKY9Yk0wvyu38g@mail.gmail.com>
Message-ID: <18939.1348511756@cl.cam.ac.uk>

Zdenek Wagner <zdenek.wagner at gmail.com> wrote:

> 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> > bernhard <bernhard.kleine at gmx.net> wrote:
> >
> >> in the final stage of my book I encounter a crazy error:
> >>
> >> [213])) [214]
> >> \openout2 = `Kap8/kap08_Rezeptoren.aux'.
> >>
> >> (./Kap8/kap08_Rezeptoren.tex Kapitel 8.
> >> \openout3 = `DritteDeutscheEdition.mtc'.
> >> \openout3 = `DritteDeutscheEdition.mtc'.
> >> ! You can't use `\unpenalty' in vertical mode.
>      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> This line shows the exact source of the problem, see my previous mail.

indeed.  so it's a bug in minitoc, but as i said minitoc's not
maintained any longer, and its a rambling shambles of code that i gave
up on, last time i was wondering about something in it.

r

From zdenek.wagner at gmail.com  Mon Sep 24 20:36:06 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 24 Sep 2012 20:36:06 +0200
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <18770.1348511511@cl.cam.ac.uk>
References: <1348518101.6983.12.camel@amd3600x2bk>
 <18770.1348511511@cl.cam.ac.uk>
Message-ID: <CAC1phyZTUj53h3JOgbMhyywv2+R0cFF2mT-d-bbc-=CjbAyy8g@mail.gmail.com>

2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> bernhard <bernhard.kleine at gmx.net> wrote:
>
>> > No, it has nothing to do with configuration. The reason is that you
>> > try to remove penalty in the vertical mode but the main vertical list
>> > is empty (see The TeXbook for explanation). This is an error in a
>> > definition of some macro.
>>
>> And can you please explain why this occurs only at the 8th occurence of
>> that code and not at the 1st,2nd...7th, 9th, ...14th. The code is for
>> sure the same at any of its 14 places!
>
> position on page, perhaps?  we're operating in the dark, here: you're
> letting out snippets of information, none of which is likely to be
> diagnostic, so far.
>
It may be even more complex because page breaking is an asynchronous
operation. In the simplest case of a page containing text only the
paragraph is broken to lines and the lines are inserted to the main
vertical list. If the main vertical list is higher that the page
height, the page is completed and sent to the output device. The rest
is returned back to the main vertical list. It may happen that
everything fits on the page so that after the page break the main
vertical list will be empty. The result is that just by looking at the
file it is very difficult to predict whether the main vertical list
will be empty or not.

> r



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From Robin.Fairbairns at cl.cam.ac.uk  Mon Sep 24 20:52:44 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 24 Sep 2012 19:52:44 +0100
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: Your message of Mon, 24 Sep 2012 20:36:06 +0200.
 <CAC1phyZTUj53h3JOgbMhyywv2+R0cFF2mT-d-bbc-=CjbAyy8g@mail.gmail.com>
Message-ID: <19646.1348512764@cl.cam.ac.uk>

Zdenek Wagner <zdenek.wagner at gmail.com> wrote:

> 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
>
> > position on page, perhaps?  we're operating in the dark, here: you're
> > letting out snippets of information, none of which is likely to be
> > diagnostic, so far.
>
> It may be even more complex because page breaking is an asynchronous
> operation.

which would explain the apparently random nature of the problem.

i wonder if "simply" redefining \mtc at BBR without that \unpenalty would
solve the problem ... at least in this case.

robin

From P.Taylor at rhul.ac.uk  Mon Sep 24 20:30:13 2012
From: P.Taylor at rhul.ac.uk (Philip TAYLOR)
Date: Mon, 24 Sep 2012 19:30:13 +0100
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <1348518101.6983.12.camel@amd3600x2bk>
References: <1348516616.6983.8.camel@amd3600x2bk>
 <CAC1phyYLdKADaVE3T2URRB50kVtF7i_EzmBesB36-2cDGiMuVg@mail.gmail.com>
 <1348518101.6983.12.camel@amd3600x2bk>
Message-ID: <5060A6B5.904@Rhul.Ac.Uk>



bernhard wrote:

> And can you please explain why this occurs only at the 8th occurence of
> that code and not at the 1st,2nd...7th, 9th, ...14th. The code is for
> sure the same at any of its 14 places!

Well, it is clearly /not/ the same, otherwise the behaviour
would be the same.  Why do you not place your sources on
a web server and post the URL : then others would have
a finite chance of being able to offer real help, rather than
just musing on the likely underlying cause.

Philip Taylor

From zdenek.wagner at gmail.com  Mon Sep 24 21:13:38 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 24 Sep 2012 21:13:38 +0200
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <19646.1348512764@cl.cam.ac.uk>
References: <CAC1phyZTUj53h3JOgbMhyywv2+R0cFF2mT-d-bbc-=CjbAyy8g@mail.gmail.com>
 <19646.1348512764@cl.cam.ac.uk>
Message-ID: <CAC1phyZ=9vkGeLYZqWKvsaXY2rmGrE+pPC0q=NL9Gi40To=QGQ@mail.gmail.com>

2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>
>> 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
>>
>> > position on page, perhaps?  we're operating in the dark, here: you're
>> > letting out snippets of information, none of which is likely to be
>> > diagnostic, so far.
>>
>> It may be even more complex because page breaking is an asynchronous
>> operation.
>
> which would explain the apparently random nature of the problem.
>
> i wonder if "simply" redefining \mtc at BBR without that \unpenalty would
> solve the problem ... at least in this case.
>
Yes, it will solve the problem but the question is why \unpenalty was
used. LaTeX contains its own internal structures and switches so that
the macros could know whether \penalty is needed. \addpenalty is often
used instead of the \penalty primitive. I do not know the internals of
the minitoc package. I do not know when I used this package the last
time, maybe 15 years ago...

> robin



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From sigitas at vtex.lt  Tue Sep 25 06:55:28 2012
From: sigitas at vtex.lt (Sigitas Tolusis)
Date: Tue, 25 Sep 2012 07:55:28 +0300
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <CAC1phyZ=9vkGeLYZqWKvsaXY2rmGrE+pPC0q=NL9Gi40To=QGQ@mail.gmail.com>
References: <CAC1phyZTUj53h3JOgbMhyywv2+R0cFF2mT-d-bbc-=CjbAyy8g@mail.gmail.com>
 <19646.1348512764@cl.cam.ac.uk>
 <CAC1phyZ=9vkGeLYZqWKvsaXY2rmGrE+pPC0q=NL9Gi40To=QGQ@mail.gmail.com>
Message-ID: <3AAD3B0C-8610-4F3A-8C37-5B89DE39D033@vtex.lt>

Hi,

On Sep 24, 2012, at 10:13 PM, Zdenek Wagner wrote:

> 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
>> Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>> 
>>> 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
>>> 
>>>> position on page, perhaps?  we're operating in the dark, here: you're
>>>> letting out snippets of information, none of which is likely to be
>>>> diagnostic, so far.
>>> 
>>> It may be even more complex because page breaking is an asynchronous
>>> operation.
>> 
>> which would explain the apparently random nature of the problem.
>> 
>> i wonder if "simply" redefining \mtc at BBR without that \unpenalty would
>> solve the problem ... at least in this case.
>> 
> Yes, it will solve the problem but the question is why \unpenalty was
> used. LaTeX contains its own internal structures and switches so that
> the macros could know whether \penalty is needed. \addpenalty is often
> used instead of the \penalty primitive. I do not know the internals of
> the minitoc package. I do not know when I used this package the last
> time, maybe 15 years ago...
> 
>> robin

What about to change \unpenalty 
with \ifvmode\else\expandafter\unpenalty\fi
in \mtc at BBR definition?

--
Sigitas

P.S. Suggested solution is not tested in any case.

> 
> -- 
> Zden?k Wagner
> http://hroch486.icpf.cas.cz/wagner/
> http://icebearsoft.euweb.cz
> 
> 



From Robin.Fairbairns at cl.cam.ac.uk  Tue Sep 25 08:55:05 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 25 Sep 2012 07:55:05 +0100
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: Your message of Tue, 25 Sep 2012 07:55:28 +0300.
 <3AAD3B0C-8610-4F3A-8C37-5B89DE39D033@vtex.lt>
Message-ID: <18093.1348556105@cl.cam.ac.uk>

Sigitas Tolusis <sigitas at vtex.lt> wrote:

> On Sep 24, 2012, at 10:13 PM, Zdenek Wagner wrote:
> 
> > 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> >> Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
> >> 
> >>> 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> >>> 
> >>>> position on page, perhaps?  we're operating in the dark, here: you're
> >>>> letting out snippets of information, none of which is likely to be
> >>>> diagnostic, so far.
> >>> 
> >>> It may be even more complex because page breaking is an asynchronous
> >>> operation.
> >> 
> >> which would explain the apparently random nature of the problem.
> >> 
> >> i wonder if "simply" redefining \mtc at BBR without that \unpenalty would
> >> solve the problem ... at least in this case.
> >> 
> > Yes, it will solve the problem but the question is why \unpenalty was
> > used. LaTeX contains its own internal structures and switches so that
> > the macros could know whether \penalty is needed. \addpenalty is often
> > used instead of the \penalty primitive. I do not know the internals of
> > the minitoc package. I do not know when I used this package the last
> > time, maybe 15 years ago...
> 
> What about to change \unpenalty 
> with \ifvmode\else\expandafter\unpenalty\fi
> in \mtc at BBR definition?

either would deal with the present case; it would be good to know if
there were adverse consequences, for future reference.

we need an analysis of what the author actually thought he was doing by
saying \unpenalty before adding a penalty of 10000 using \linebreak

fwiw, looking for drucbert on google, the most recent reference i can
find is 2008 when he wasn't replying to email.

i'll have another prod later, unless someone  authoritative cares to
intervene.

sigh....

robin

From zdenek.wagner at gmail.com  Tue Sep 25 11:07:22 2012
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 25 Sep 2012 11:07:22 +0200
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <18093.1348556105@cl.cam.ac.uk>
References: <3AAD3B0C-8610-4F3A-8C37-5B89DE39D033@vtex.lt>
 <18093.1348556105@cl.cam.ac.uk>
Message-ID: <CAC1phybm-s+HqXnkG4fpCo5haop0PgKAr7gAzROHjeVosx5sHw@mail.gmail.com>

2012/9/25 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> Sigitas Tolusis <sigitas at vtex.lt> wrote:
>
>> On Sep 24, 2012, at 10:13 PM, Zdenek Wagner wrote:
>>
>> > 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
>> >> Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>> >>
>> >>> 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
>> >>>
>> >>>> position on page, perhaps?  we're operating in the dark, here: you're
>> >>>> letting out snippets of information, none of which is likely to be
>> >>>> diagnostic, so far.
>> >>>
>> >>> It may be even more complex because page breaking is an asynchronous
>> >>> operation.
>> >>
>> >> which would explain the apparently random nature of the problem.
>> >>
>> >> i wonder if "simply" redefining \mtc at BBR without that \unpenalty would
>> >> solve the problem ... at least in this case.
>> >>
>> > Yes, it will solve the problem but the question is why \unpenalty was
>> > used. LaTeX contains its own internal structures and switches so that
>> > the macros could know whether \penalty is needed. \addpenalty is often
>> > used instead of the \penalty primitive. I do not know the internals of
>> > the minitoc package. I do not know when I used this package the last
>> > time, maybe 15 years ago...
>>
>> What about to change \unpenalty
>> with \ifvmode\else\expandafter\unpenalty\fi
>> in \mtc at BBR definition?
>
> either would deal with the present case; it would be good to know if
> there were adverse consequences, for future reference.
>
> we need an analysis of what the author actually thought he was doing by
> saying \unpenalty before adding a penalty of 10000 using \linebreak
>
I see \nopagebreak[4] there

Anyway, \ifvmode will not help, it would be the same as deleting
\unpenalty because it always appear in the vertical mode. If there are
several consecutive penalties, the one with the lowest value wins.
Imagine that the main vertical list contains:

\penalty 50
\penalty 200
\penalty 5
\penalty 150
\penalty 10000 % result of \nopagebreak[4]

If the material after \nopagebreak cannot fit to the current page, the
vertical list will be split at \penalty 5 and the following \penalty
150 and \penalty 10000 will disappear because they are discardable
items. Thus I could understand why the author wishes to remove
optional preceding penalty. However, simple \unpenalty does not solve
the problem. Imagine that just preceding it the file contains in the
vertical mode:

\goodbreak \vskip 0pt plus 1fil

Now \unpenalty will see glue and do nothing, it will not see the
penalty resulting from \goodbreak, thus the page break could occur
above \nopagebreak.

In principle TeX does not allow you to go backwads. Even the \lastXXX
type primitives are not allowed if the main vertical list is empty.

The logic of the definition is wrong. If the page break should be
inhibited, it should be specified as "not allowed after" some
material. The current definition says: "Huh, there was already a page
break? No, please, ask the printer to send the printed page back,
convert the ink molecules back to the vertical list because I want to
produce a different page." The logic of the page breaking in these
macros has to be changed.

The error message in the original post means that something in the
main vertical list triggered a page break immediatelly above
\unpenalty \penalty 10000 which demonstrates that this definition is
logically wrong.

> fwiw, looking for drucbert on google, the most recent reference i can
> find is 2008 when he wasn't replying to email.
>
> i'll have another prod later, unless someone  authoritative cares to
> intervene.
>
> sigh....
>
> robin



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


From bernhard.kleine at gmx.net  Tue Sep 25 23:26:36 2012
From: bernhard.kleine at gmx.net (bernhard)
Date: Tue, 25 Sep 2012 21:26:36 +0000
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <19646.1348512764@cl.cam.ac.uk>
References: <19646.1348512764@cl.cam.ac.uk>
Message-ID: <1348608396.4770.3.camel@amd3600x2bk>

Am Montag, den 24.09.2012, 19:52 +0100 schrieb Robin Fairbairns: 
> Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
> 
> > 2012/9/24 Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk>:
> >
> > > position on page, perhaps?  we're operating in the dark, here: you're
> > > letting out snippets of information, none of which is likely to be
> > > diagnostic, so far.
> >
> > It may be even more complex because page breaking is an asynchronous
> > operation.
> 
> which would explain the apparently random nature of the problem.
> 
> i wonder if "simply" redefining \mtc at BBR without that \unpenalty would
> solve the problem ... at least in this case.
> 
> robin
Hi,

I  created myminitoc.sty in the local tree, removed the single
\unpenalty, run texhash and everything works still without this nasty
error message. 
There is in latexcommunity.org a fellow called alicehs who had the same
problem in 2009, wrote that he had a solution by did not reveal it :(

Kind regards Bernhard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part
URL: <http://tug.org/pipermail/tex-live/attachments/20120925/96e2d774/attachment.bin>

From Robin.Fairbairns at cl.cam.ac.uk  Tue Sep 25 22:19:30 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 25 Sep 2012 21:19:30 +0100
Subject: [tex-live] Dynblocks package
In-Reply-To: Your message of Tue, 25 Sep 2012 20:37:16 +0200.
 <CAKVLNUHprUjD8wPza6WzUiW2MQE0kN2ibWqcpt_DY3Cv=K8XfA@mail.gmail.com>
Message-ID: <19722.1348604370@cl.cam.ac.uk>

Claudio Fiandrino <claudio.fiandrino at gmail.com> wrote:

>    Dear CTAN,
>    after the new update of the dynblocks package, I've noticed that the
>    package is installed, but only in the doc folder of TeXLive
>    (texmf-dist/doc/latex) and not under /texmf-dist/tex/latex. Have I
>    wrongly sent the update?

apart from lots of doc files, istm that there's only one file that needs
to go to tl tex/latex/...

ctan:macros/latex/contrib/beamer-contrib/dynblocks/latex/dynblocks.sty

and it has gone to the wrong place -- doc/latex/dynblocks/latex/dynblocks.sty

were there other files you were expecting?  (there weren't in your may upload.)

whatever, plainly the .sty file should be in the dynblocks base .tar.xz

robin

From karl at freefriends.org  Tue Sep 25 23:21:53 2012
From: karl at freefriends.org (Karl Berry)
Date: Tue, 25 Sep 2012 21:21:53 +0000
Subject: [tex-live] Dynblocks package
In-Reply-To: <19722.1348604370@cl.cam.ac.uk>
Message-ID: <201209252121.q8PLLrjh002000@freefriends.org>

    not under /texmf-dist/tex/latex. Have I wrongly sent the update?

It was my mistake, sorry.  Fixed for tonight.

From karl at freefriends.org  Wed Sep 26 00:20:43 2012
From: karl at freefriends.org (Karl Berry)
Date: Tue, 25 Sep 2012 22:20:43 +0000
Subject: [tex-live] Possibility to enhance registers
In-Reply-To: <18093.1348556105@cl.cam.ac.uk>
Message-ID: <201209252220.q8PMKhQu005331@freefriends.org>

    fwiw, looking for drucbert on google, the most recent reference i can
    find is 2008 when he wasn't replying to email.

I tried quite hard in the past to contact Drucbert without success,
after he disappeared (about an English epslatex that he backported from
his French translation more than minitoc, but that's another painful
story).

So ... if anyone wants to take over his package(s), even if it's just
for fixing this one bug (or whatever), that would be great as far as I'm
concerned.

For LPPL purposes, it would probably be good to shoot off one more email
to whatever addresses come up, but if no answer is forthcoming (I'd be
greatly surprised, not to mention pleased), that's it.

karl

From usenet at siart.de  Wed Sep 26 09:30:25 2012
From: usenet at siart.de (Uwe Siart)
Date: Wed, 26 Sep 2012 09:30:25 +0200
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
Message-ID: <84627144xa.fsf@siart.de>

A minor issue: libertine.sty (new package libertine) resides in the doc
tree (doc/latex/libertine). It should go to latex/libertine.

-- 
Uwe


From rdt at cs.queensu.ca  Wed Sep 26 21:39:56 2012
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Wed, 26 Sep 2012 15:39:56 -0400
Subject: [tex-live]  [libertine]: libertine.sty in wrong dir
Message-ID: <50635a0c.7ZhgwA0/VZ39zZw0%rdt@cs.queensu.ca>

 >|A minor issue: libertine.sty (new package libertine) resides in the doc
 >|tree (doc/latex/libertine). It should go to latex/libertine.

There's no libertine.sty in updated TeXLive. There's libertine-type1.sty
here:

  tex/latex/libertine-type1/libertine-type1.sty

and libertineotf.sty here:

  tex/latex/libertineotf/libertineotf.sty

Where exactly have you found a libertine.sty?

Bob T.

From Robin.Fairbairns at cl.cam.ac.uk  Wed Sep 26 22:01:48 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed, 26 Sep 2012 21:01:48 +0100
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: Your message of Wed, 26 Sep 2012 15:39:56 -0400.
 <50635a0c.7ZhgwA0/VZ39zZw0%rdt@cs.queensu.ca>
Message-ID: <14815.1348689708@cl.cam.ac.uk>

Bob Tennent <rdt at cs.queensu.ca> wrote:

>  >|A minor issue: libertine.sty (new package libertine) resides in the doc
>  >|tree (doc/latex/libertine). It should go to latex/libertine.
> 
> There's no libertine.sty in updated TeXLive. There's libertine-type1.sty
> here:
> 
>   tex/latex/libertine-type1/libertine-type1.sty
> 
> and libertineotf.sty here:
> 
>   tex/latex/libertineotf/libertineotf.sty
> 
> Where exactly have you found a libertine.sty?

a new package uploaded yesterday.

robin

From rdt at cs.queensu.ca  Wed Sep 26 22:13:16 2012
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Wed, 26 Sep 2012 16:13:16 -0400
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <14815.1348689708@cl.cam.ac.uk>
References: <14815.1348689708@cl.cam.ac.uk>
Message-ID: <506361dc.S5S02pNqPGpEpqwr%rdt@cs.queensu.ca>

 >|> Where exactly have you found a libertine.sty?
 >|
 >|a new package uploaded yesterday.
 
Oh dear.  Dueling libertines.  The libertineotf maintainer and I 
are just about to merge our packages.  I guess we could merge this
one as well if Herbert is agreeable.

Bob T.

From Herbert.Voss at FU-Berlin.DE  Wed Sep 26 22:20:00 2012
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Wed, 26 Sep 2012 22:20:00 +0200
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <506361dc.S5S02pNqPGpEpqwr%rdt@cs.queensu.ca>
References: <14815.1348689708@cl.cam.ac.uk>
 <506361dc.S5S02pNqPGpEpqwr%rdt@cs.queensu.ca>
Message-ID: <50636370.4050905@FU-Berlin.DE>

Am 26.09.2012 22:13, schrieb Bob Tennent:
>   >|> Where exactly have you found a libertine.sty?
>   >|
>   >|a new package uploaded yesterday.
>
> Oh dear.  Dueling libertines.  The libertineotf maintainer and I
> are just about to merge our packages.  I guess we could merge this
> one as well if Herbert is agreeable.

there should be a libertine.sty which provides compatibility!
I have thousends (!) of example files which uses this package
and I suppose a lot of other users too.

Herbert

From rdt at cs.queensu.ca  Wed Sep 26 22:35:47 2012
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Wed, 26 Sep 2012 16:35:47 -0400
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <50636370.4050905@FU-Berlin.DE>
References: <14815.1348689708@cl.cam.ac.uk>
 <506361dc.S5S02pNqPGpEpqwr%rdt@cs.queensu.ca>
 <50636370.4050905@FU-Berlin.DE>
Message-ID: <50636723.uaObWIZLxtYwefpW%rdt@cs.queensu.ca>

 >|> Oh dear.  Dueling libertines.  The libertineotf maintainer and I
 >|> are just about to merge our packages.  I guess we could merge this
 >|> one as well if Herbert is agreeable.
 >|
 >|there should be a libertine.sty which provides compatibility!
 >|I have thousends (!) of example files which uses this package
 >|and I suppose a lot of other users too.

Point made. But are you agreeable to merging your libertine.sty
with our merged package?  

Bob T.

From Herbert.Voss at FU-Berlin.DE  Wed Sep 26 22:55:23 2012
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Wed, 26 Sep 2012 22:55:23 +0200
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <50636723.uaObWIZLxtYwefpW%rdt@cs.queensu.ca>
References: <14815.1348689708@cl.cam.ac.uk>
 <506361dc.S5S02pNqPGpEpqwr%rdt@cs.queensu.ca> <50636370.4050905@FU-Berlin.DE>
 <50636723.uaObWIZLxtYwefpW%rdt@cs.queensu.ca>
Message-ID: <50636BBB.4080903@FU-Berlin.DE>

Am 26.09.2012 22:35, schrieb Bob Tennent:
>   >|> Oh dear.  Dueling libertines.  The libertineotf maintainer and I
>   >|> are just about to merge our packages.  I guess we could merge this
>   >|> one as well if Herbert is agreeable.
>   >|
>   >|there should be a libertine.sty which provides compatibility!
>   >|I have thousends (!) of example files which uses this package
>   >|and I suppose a lot of other users too.
>
> Point made. But are you agreeable to merging your libertine.sty
> with our merged package?

sure, but there must be two packages libertine and libertineotf.
One of it can call the other one, that is not important, or maybe
a new third one. If backward compatibility for pdflatex/xelatex
/lualatex users is given, then everything is fine with me.

Herbert

From patrick at gundla.ch  Wed Sep 26 22:58:18 2012
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed, 26 Sep 2012 22:58:18 +0200
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <50636BBB.4080903@FU-Berlin.DE>
References: <14815.1348689708@cl.cam.ac.uk>
 <506361dc.S5S02pNqPGpEpqwr%rdt@cs.queensu.ca> <50636370.4050905@FU-Berlin.DE>
 <50636723.uaObWIZLxtYwefpW%rdt@cs.queensu.ca> <50636BBB.4080903@FU-Berlin.DE>
Message-ID: <C0EB067A-5186-4983-9138-6C48D9A76961@gundla.ch>


>> Point made. But are you agreeable to merging your libertine.sty
>> with our merged package?
> 
> sure, but there must be two packages libertine and libertineotf.
> One of it can call the other one, that is not important, or maybe
> a new third one. If backward compatibility for pdflatex/xelatex
> /lualatex users is given, then everything is fine with me.


I'd really like to see a "libertine.sty" that works more or less the same for PDFTeX and LuaTeX/XeTeX.

Patrick




From dluecking at sbcglobal.net  Thu Sep 27 00:21:11 2012
From: dluecking at sbcglobal.net (Dan Luecking)
Date: Wed, 26 Sep 2012 17:21:11 -0500
Subject: [tex-live] Possibility to enhance registers
Message-ID: <289249.87657.qm@smtp112.sbc.mail.mud.yahoo.com>

On Tue Sep 25 2012 at 08:55:05 CEST, Robin Fairbairns
(<Robin.Fairbairns at cl.cam.ac.uk>) wrote:


> > What about to change \unpenalty
> > with \ifvmode\else\expandafter\unpenalty\fi
> > in \<http://tug.org/mailman/listinfo/tex-live>mtc at BBR definition?
>
>either would deal with the present case; it would be good to know if
>there were adverse consequences, for future reference.
>
>we need an analysis of what the author actually thought he was doing by
>saying \unpenalty before adding a penalty of 10000 using \linebreak

I don't know what he actuall intended, but what the code
_does_ is:

1. When \centering is not in effect:

\unpenalty removes the negative penalty placed by \\,
cancelling the line break. Then, \nopagebreak[4] is
essentially \vadjust{\nobreak}. This prevents a break
between a previously placed rule across the page an
anything that might follow.

Oddly enough this makes the \\ more-or-less unnecessary
as well as all the other elements on this code:

(*) \nopagebreak[4]\null\leavevmode\mtc at zrule\\\mtc at BBR

2. In the presence of \centering:

Then \\ issues a \par and \mtc at BBR happens in vertical mode,
leading to the error.

The entire line of code (*) above doesn't place any penalties
except \\. It is quite silly to place this penalty and then
remove it. It is also silly to place a column-wide rule, than
add a bunch of zero-width invisible stuff after it.

I would replace all of (*) with \par\nobreak. This line of code
and slight variants of it, occurs 9 times in minitoc.sty. What
are macros for?

Dan


Daniel H. Luecking
Department of Mathematical Sciences
Fayetteville, Arkansas
http://www-cs-faculty.stanford.edu/~knuth/iaq.html 



From rdt at cs.queensu.ca  Thu Sep 27 16:19:58 2012
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Thu, 27 Sep 2012 10:19:58 -0400
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
Message-ID: <5064608e.ocL31vL4coiBBVy1%rdt@cs.queensu.ca>


 >|there should be a libertine.sty which provides compatibility!
 >|I have thousends (!) of example files which uses this package
 >|and I suppose a lot of other users too.

Herbert: And are you going to provide such a package? Your current
package does *not* provide compatibility for thousands of options,
macros, features and even whole fonts (outline, shadow) of the original
libertine.sty. It's great that *your* "thousands of files" apparently
don't need those features but other users' files likely do. Instead of
simply installing the compatibility style that works for you in *your*
tex system, you've now imposed it on TeXLive. I hope you're prepared as
maintainer to deal with complaints from other users. There *is* a simple
solution to the compatibility issue: users who can't use the new type1
packages should install libertine-legacy from CTAN.

BTW, it will *not* be possible to make the new type1 packages fully
compatible with libertine-legacy; for example, upstream no longer
supports outline and shadow fonts.

Bob T.

From Robin.Fairbairns at cl.cam.ac.uk  Thu Sep 27 16:33:23 2012
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 27 Sep 2012 15:33:23 +0100
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: Your message of Thu, 27 Sep 2012 10:19:58 -0400.
 <5064608e.ocL31vL4coiBBVy1%rdt@cs.queensu.ca>
Message-ID: <13140.1348756403@cl.cam.ac.uk>

Bob Tennent <rdt at cs.queensu.ca> wrote:

>  >|there should be a libertine.sty which provides compatibility!
>  >|I have thousends (!) of example files which uses this package
>  >|and I suppose a lot of other users too.
> 
> Herbert: And are you going to provide such a package? Your current
> package does *not* provide compatibility for thousands of options,
> macros, features and even whole fonts (outline, shadow) of the original
> libertine.sty. It's great that *your* "thousands of files" apparently
> don't need those features but other users' files likely do. Instead of
> simply installing the compatibility style that works for you in *your*
> tex system, you've now imposed it on TeXLive. I hope you're prepared as
> maintainer to deal with complaints from other users. There *is* a simple
> solution to the compatibility issue: users who can't use the new type1
> packages should install libertine-legacy from CTAN.
> 
> BTW, it will *not* be possible to make the new type1 packages fully
> compatible with libertine-legacy; for example, upstream no longer
> supports outline and shadow fonts.

whatever ...

i've made copies of my snapshots of the libertine-legacy tl packages and
the miktex package.

so if anyone wants to do something or other with them (such as put 'em
on the non-standard tl repo) they can just ask me.

they are, of course, rather bulky.  copying them disc-disc took rather a
while.

robin

From Herbert.Voss at FU-Berlin.DE  Thu Sep 27 16:40:28 2012
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Thu, 27 Sep 2012 16:40:28 +0200
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <5064608e.ocL31vL4coiBBVy1%rdt@cs.queensu.ca>
References: <5064608e.ocL31vL4coiBBVy1%rdt@cs.queensu.ca>
Message-ID: <5064655C.5080809@FU-Berlin.DE>

Am 27.09.2012 16:19, schrieb Bob Tennent:
>
>   >|there should be a libertine.sty which provides compatibility!
>   >|I have thousends (!) of example files which uses this package
>   >|and I suppose a lot of other users too.
>
> Herbert: And are you going to provide such a package? Your current
> package does *not* provide compatibility for thousands of options,
> macros, features and even whole fonts (outline, shadow) of the original
> libertine.sty. It's great that *your* "thousands of files" apparently
> don't need those features but other users' files likely do. Instead of
> simply installing the compatibility style that works for you in *your*
> tex system, you've now imposed it on TeXLive. I hope you're prepared as
> maintainer to deal with complaints from other users. There *is* a simple
> solution to the compatibility issue: users who can't use the new type1
> packages should install libertine-legacy from CTAN.

An installation of libertine-legacy should go into $TEXMFLOCAL,
the reason why the libertine.sty from that package will be used.


> BTW, it will *not* be possible to make the new type1 packages fully
> compatible with libertine-legacy; for example, upstream no longer
> supports outline and shadow fonts.

that is not my point. There were a lot of users who used the
libertine and biolinum with a simple \usepackage{libertine}.

Herbert

From patrick at gundla.ch  Fri Sep 28 11:14:02 2012
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 28 Sep 2012 11:14:02 +0200
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <5064655C.5080809@FU-Berlin.DE>
References: <5064608e.ocL31vL4coiBBVy1%rdt@cs.queensu.ca>
 <5064655C.5080809@FU-Berlin.DE>
Message-ID: <54DF225D-3EE0-44AC-B898-B60996D0C775@gundla.ch>

Hello,

can you please help me to understand the history and current situation?

* First there was the "libertine" package a file called "libertine.sty" that supported classic PDFTeX and LuaTEX/XeTeX.
* Then the support for type1 was dropped, thus "libertine.sty" only supported LuaTeX/XeTeX
* Then came "libertine-legacy" with a file called "libertine.sty" for support for PDFTeX
* The former libertine (the one with LuaTeX/XeTeX support) package was renamed to libertineotf (and a style file 'libertineotf.sty')
* A new package was uploaded recently with name libertine / libertine.sty that only supports PDFTeX

Is this view right? Any corrections?

Patrick



From Herbert.Voss at FU-Berlin.DE  Fri Sep 28 11:40:21 2012
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Fri, 28 Sep 2012 11:40:21 +0200
Subject: [tex-live] [libertine]: libertine.sty in wrong dir
In-Reply-To: <54DF225D-3EE0-44AC-B898-B60996D0C775@gundla.ch>
References: <5064608e.ocL31vL4coiBBVy1%rdt@cs.queensu.ca>
 <5064655C.5080809@FU-Berlin.DE>
 <54DF225D-3EE0-44AC-B898-B60996D0C775@gundla.ch>
Message-ID: <50657085.5050001@FU-Berlin.DE>

Am 28.09.2012 11:14, schrieb Patrick Gundlach:
>
> can you please help me to understand the history and current situation?
>
> * First there was the "libertine" package a file called "libertine.sty" that supported classic PDFTeX and LuaTEX/XeTeX.

no, only pdfTeX

> * Then the support for type1 was dropped, thus "libertine.sty" only supported LuaTeX/XeTeX

yes and no, libertine.sty way moved to obsolete and there ways a new 
libertineotf.sty, which supports only XeTeX/LuaTeX

> * Then came "libertine-legacy" with a file called "libertine.sty" for support for PDFTeX

yes, which was exactly the old sitatuation

> * The former libertine (the one with LuaTeX/XeTeX support) package was renamed to libertineotf (and a style file 'libertineotf.sty')

no that part was not affected by libertine-legacy.


* libertine-legacy moved into obsolete and two new packages were created
   liberine-type1 and biolinum-type1. libertine-sty was again missing

> * A new package was uploaded recently with name libertine / libertine.sty that only supports PDFTeX

to get again the old behaviour, using Libertine and Biolinum for pdfTeX. 
The obly difference: Now the new packages libertine-type1 and 
biolinum-type1 are used.


Herbert

>
> Is this view right? Any corrections?
>
> Patrick
>
>


From tobias.columbus at googlemail.com  Fri Sep 28 14:13:25 2012
From: tobias.columbus at googlemail.com (Tobias Columbus)
Date: Fri, 28 Sep 2012 14:13:25 +0200
Subject: [tex-live] Removal of libertine-legacy breaks newtx?
Message-ID: <20120928121324.GP1902@leviathan.localdomain>

Hi List,

After updating to the latest texlive, newtx and libertineotf won't work
anymore. Running lualatex always results in errors like this one:

    ...
    luaotfload | Updating the font names database:
    luaotfload | Scanning TEXMF fonts...
    luaotfload | Scanning OS fonts...
    luaotfload | Font names database saved: %s 
    :
    /home/tc/.texlive2012/texmf-var/luatex-cache/generic/names/otfl-names.lua
    ! Font \=fxlri-8r at 10.95pt not loadable: metric data not found or
    bad.
    ...

I deleted the luatex-cache and completely regenerated it, but that did
not help.

Some more details:
I use newtxmath with libertine, varg and vvarbb options
and libertineotf with microtype font features.
Not including newtxmath solved the error.

I reinstalled libertine-legacy from backup and that partially fixed 
that error. Instead of the very early error above, I now get the
following error

    ...
    kpathsea: Running mktexpk --mfmode / --bdpi 600 --mag 1+264/600 --dpi
    864 fxlri-8r
    mktexpk: don't know how to create bitmap font for fxlri-8r.
    mktexpk: perhaps fxlri-8r is missing from the map file.
    kpathsea: Appending font creation commands to missfont.log.

    !LuaTeX error (file fxlri-8r): Font fxlri-8r at 864 not found
    ...

after compilation is nearly finished. 

Any help will be appreciated! For the moment, I will roll back the 
last update and continue working ;)

Tobias


From willand at zippelius.eu  Fri Sep 28 16:14:27 2012
From: willand at zippelius.eu (Zippelius / RA Dr. Willand)
Date: Fri, 28 Sep 2012 14:14:27 +0000
Subject: [tex-live]  [libertine]: libertine.sty in wrong dir
Message-ID: <729D169A94915D48A531F71454A1FBAB264B82@SBS2011.kanzlei.local>

Dear all,

I'm one of those users who depend on a working \usepackage{libertine}, which I've been using since 2007. I've got thousands of documents and often have to "recycle" one of them. Libertine is the bread-and-butter-type of our Law office.

When the former maintainer of the Libertine package broke compatibility and left me with a non working document under time pressure, it was the first time I felt as bad as in times when using Word. 

So please, please, please, don't break compatiblity again. Me and many others rely on Libertine (=> \usepackage{libertine}) and pdfTeX. 

Regards,

Dr. Alexander Willand
Rechtsanwalt

 

Zippelius Rechtsanw?lte
Partnerschaftsgesellschaft
Wichernstra?e 2
76185 Karlsruhe

             
Tel:          07 21 95 78 48 - 0
Fax:         07 21 95 78 48 - 18
E-mail:    kanzlei at zippelius.eu
Website: www.zippelius.eu


Partnerschaftsregister:
AG Mannheim PR 700049
 

From gsavix at gmail.com  Sun Sep 30 02:41:07 2012
From: gsavix at gmail.com (gilberto dos santos alves)
Date: Sat, 29 Sep 2012 21:41:07 -0300
Subject: [tex-live] install Using URL:
 http://mirror.jmu.edu/pub/CTAN/systems/texlive/tlnet
Message-ID: <CAP9G-N+U=sq1J4GM-hXPvLXe4QV9XtBG3E2_nMM+5h+Te1GVww@mail.gmail.com>

I am using linux centos 5 with non root user and following procedures  from url
http://www.tug.org/texlive/quickinstall.html downloaded and unzip, and
inside directory install-tl-20120929,
i run ./install-tl -gui text

using option (D) directories and option 1 i choose install in my
$home/local directory
and i have this config.

Directories setup:

 <1> TEXDIR:       /home/meusr/local/
     support tree: /home/meusr/local/texmf
 <2> TEXMFLOCAL:     /home/meusr/local/texmf-local
 <3> TEXMFSYSVAR:    /home/meusr/local/texmf-var
 <4> TEXMFSYSCONFIG: /home/meusr/local/texmf-config
 <5> TEXMFVAR:       ~/.texlive2012/texmf-var
 <6> TEXMFCONFIG:    ~/.texlive2012/texmf-config
 <7> TEXMFHOME:      ~/texmf

 Note: ~ will expand to $HOME (or to %USERPROFILE% on Windows)
Actions:
 <R> return to main menu
 <Q> quit
...
after r  i choose option i (for install) and run in this error:
...
Installing [0073/2541, time/total: 00:43/22:44]: amstex [519k]
Installing [0074/2541, time/total: 00:43/22:29]: amstex.x86_64-linux [1k]
tar: bin/x86_64-linux/amstex: Cannot create symlink to `pdftex':
Permission denied
tar: Exiting with failure status due to previous errors
untar: untarring /home/meusr/local/temp/amstex.x86_64-linux.tar failed
(in /home/meusr/local)
untarring /home/meusr/local/temp/amstex.x86_64-linux.tar failed,
stopping install.

Please what i am missing here? my user is non root and i have all
privileges on my /home/meusr
i use share plan of hostgator.com.br

thanks for your help


-- 
gilberto dos santos alves
+55.11.98646-5049
s?o paulo - sp - brasil


From wgrundlingh at gmail.com  Sun Sep 30 07:59:35 2012
From: wgrundlingh at gmail.com (Werner Grundlingh)
Date: Sat, 29 Sep 2012 22:59:35 -0700
Subject: [tex-live] Adding a new package...
Message-ID: <CAGg4omUqB5EEy4k6LX_qppWPs8S66xpmbFKNaku-xGbOU+FPbA@mail.gmail.com>

I uploaded a package (abraces; http://ctan.org/pkg/abraces) to CTAN at
the beginning of the month. Here's the CTAN notification/announcement:
  http://www.mail-archive.com/ctan-ann at dante.de/msg05038.html
According to what I can see on the TeX Live requirements
(http://tug.org/texlive/pkgcontrib.html), my package satisfies all of
these. How do I get my package to part of TeX Live?

Thanks in advance,
Werner

