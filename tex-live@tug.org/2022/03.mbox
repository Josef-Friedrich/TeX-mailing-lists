From w.m.l at gmx.net  Tue Mar  1 00:04:49 2022
From: w.m.l at gmx.net (Robert)
Date: Tue, 1 Mar 2022 00:04:49 +0100
Subject: Problem with microtype and pdftricks
In-Reply-To: <CF9B856A-EF87-4BAF-82AF-DA85DBE56D18@wideopenwest.com>
References: <CF9B856A-EF87-4BAF-82AF-DA85DBE56D18@wideopenwest.com>
Message-ID: <svjkeh$a3p$1@ciao.gmane.io>

On 28.02.22 23:32, Herbert Schulz wrote:
> 
> ! Use of \MT at prot@group doesn't match its definition.
> <recently read> \bgroup

See here: https://github.com/schlcht/microtype/issues/10

This should hopefully fix it (I cannot test it for lack of ghostscript):

\def\MT at prot@group{\bgroup\afterassignment\MT at prot@get at firstchar\let\MT at temp= 
}

Best,
-- 
  Robert


From Herbert.Voss at fu-berlin.de  Tue Mar  1 07:20:15 2022
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Tue, 1 Mar 2022 07:20:15 +0100
Subject: Problem with microtype and pdftricks
In-Reply-To: <CF9B856A-EF87-4BAF-82AF-DA85DBE56D18@wideopenwest.com>
References: <CF9B856A-EF87-4BAF-82AF-DA85DBE56D18@wideopenwest.com>
Message-ID: <f44a0fe4-1c59-656c-0b17-f2d2a26ff97e@fu-berlin.de>



Am 28.02.22 um 23:32 schrieb Herbert Schulz:
> Typesetting the following source with pdflatex -shell-escape

Beside what Robert answered: you can use auto-pst-pdf instead:

\documentclass{article}
\usepackage{auto-pst-pdf}
\usepackage{microtype}
\usepackage{pstricks}
\begin{document}
\begin{pspicture}(0,0)(3,3)
\pscircle[fillstyle=solid,fillcolor=yellow](1.5,1.5){1.5}
\pscircle[fillstyle=solid,fillcolor=black](1.0,2.0){0.15}
\pscircle[fillstyle=solid,fillcolor=black](2.0,2.0){0.15}
\pscircle[fillstyle=solid,fillcolor=black](1.5,1.3){0.1}
\psarc{(-)}(1.5,1.5){1}{235}{305}
\end{pspicture}
\end{document}

or easier run it with lualatex (needs no GhostScript):

\RequirePackage{pdfmanagement-testphase}
\DeclareDocumentMetadata{uncompress}
\documentclass{article}
\usepackage{microtype}
\usepackage{pstricks}
\begin{document}
\begin{pspicture}(0,0)(3,3)
\pscircle[fillstyle=solid,fillcolor=yellow](1.5,1.5){1.5}
\pscircle[fillstyle=solid,fillcolor=black](1.0,2.0){0.15}
\pscircle[fillstyle=solid,fillcolor=black](2.0,2.0){0.15}
\pscircle[fillstyle=solid,fillcolor=black](1.5,1.3){0.1}
\psarc{(-)}(1.5,1.5){1}{235}{305}
\end{pspicture}
\end{document}


Herbert

From peter.ragosch at kabelmail.de  Tue Mar  1 10:17:44 2022
From: peter.ragosch at kabelmail.de (Peter Ragosch)
Date: Tue, 1 Mar 2022 10:17:44 +0100
Subject: pretest 2022 begin
In-Reply-To: <202202270246.21R2kRn5009866@freefriends.org>
References: <202202270246.21R2kRn5009866@freefriends.org>
Message-ID: <20220301101744.2fd40d5a.peter.ragosch@kabelmail.de>

Hello Karl, and everyone involved

on Linux raven 5.10.98-1-MANJARO #1 SMP PREEMPT Sun Feb 6 12:22:54 UTC
2022 x86_64 GNU/Linux

Installation of pretest runs without any problem.

Test of an lualatex document runs without any error.

_Great work!_

But one think I noticed:

Is it OK that the GUI doesn't follow a linked path or maybe I have
	wrong link settings ?

Settings and what I did:
My TL's are placed at one partition /data/opt/texlive/<year>/? 
and linked into the root partition at /opt/?

lrwxrwxrwx 1 root root 17 16. Jan 2021  /opt/texlive -> /data/opt/texlive

the ?/<year>/? directories below belong to the USER (me).

In ~/.zshrc I changed the year of the TL path to ?/2022/? 
download the pretest installer into ~/Downloads/TexLive/2022_pretest
#> wget https://texlive.info/tlpretest/install-tl 
and run 
#> ./install-tl -gui -repository https://texlive.info/tlpretest/

The Gui does not show the linked path to /opt/texlive/<year>/? but
/data/opt/texlive/<year>/? could be directly selected.

Any hint or suggestion?

Greeting
Peter 


On Sat, 26 Feb 2022 19:46:27 -0700
Karl Berry <karl at freefriends.org> wrote:

> Hi everyone.  I think the pretest area is populated with the first
> build for TL 2022. See https://tug.org/texlive/pretest.html as usual
> for details of how to install (unchanged from previous years), and
> the list of notable changes that I've got so far. Additions or
> corrections to the news are greatly appreciated.
[? snip?] 
> Hope it flies,
> Karl






From joseph.wright at morningstar2.co.uk  Tue Mar  1 10:20:01 2022
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 1 Mar 2022 09:20:01 +0000
Subject: HiTeX missing \savinghyphcodes
Message-ID: <e10c4b9e-87b1-0281-e2b3-14e875a58c4d@morningstar2.co.uk>

Hello all,

Testing HiTeX (currently by manually building formats), I spot that it 
is missing \savinghyphcodes. Thus with a call

     hitex -etex -ltx -ini latex.ltx

one gets an error from ibyhyph.tex during pattern loading.

\savinghyphcodes is part of e-TeX, so there could be other omissions. 
I'm not sure exactly where is best to report this, so for the present 
I'm logging here!

Regards,

Joseph

From d.p.carlisle at gmail.com  Tue Mar  1 10:33:08 2022
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 1 Mar 2022 09:33:08 +0000
Subject: HiTeX missing \savinghyphcodes
In-Reply-To: <e10c4b9e-87b1-0281-e2b3-14e875a58c4d@morningstar2.co.uk>
References: <e10c4b9e-87b1-0281-e2b3-14e875a58c4d@morningstar2.co.uk>
Message-ID: <CAEW6iOj69kQmGLQXZHmpRW7S+q2UJkFvXxjJdFRByEr8rePQHA@mail.gmail.com>

Related to this, hi(la)tex is not set up in fmtutil.cnf so you have to
build the formats by hand.

hitex --etex --ini plain

appears to build a working plain tex in cygwin 64 pretest and the resulting
hint file works with the windows hint viewer
but latex fails, if I make an ini file to temporary avoid th
savinghyphencodes issue

hilatex.ini

\countdef\savinghyphcodes1000
\input latex.ini

then

 hitex --etex --ini --ltx hilatex.ini

makes a hilatex format but using it segfaults:

$     hitex --fmt hilatex sample2e
This is HiTeX, Version 3.141592653, HINT version 1.4 (preloaded
format=hilatex)
entering extended mode
entering prote mode
(sample2e.tex
LaTeX2e <2021-11-15> patch level 1
L3 programming layer <2022-02-24> ("article.cls"
Document Class: article 2021/10/04 v1.4n Standard LaTeX document class
("size10.clo")) ("l3backend-dvips.def") ("sample2e.aux") ("omscmr.fd")
(sample2e.aux)Segmentation fault (core dumped)

David





On Tue, 1 Mar 2022 at 09:25, Joseph Wright <joseph.wright at morningstar2.co.uk>
wrote:

> Hello all,
>
> Testing HiTeX (currently by manually building formats), I spot that it
> is missing \savinghyphcodes. Thus with a call
>
>      hitex -etex -ltx -ini latex.ltx
>
> one gets an error from ibyhyph.tex during pattern loading.
>
> \savinghyphcodes is part of e-TeX, so there could be other omissions.
> I'm not sure exactly where is best to report this, so for the present
> I'm logging here!
>
> Regards,
>
> Joseph
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220301/b3d7a145/attachment-0001.html>

From Alois.Steindl at tuwien.ac.at  Tue Mar  1 13:13:44 2022
From: Alois.Steindl at tuwien.ac.at (Alois Steindl)
Date: Tue, 1 Mar 2022 13:13:44 +0100
Subject: pretest 2022 begin
In-Reply-To: <202202270246.21R2kRn5009866@freefriends.org>
References: <202202270246.21R2kRn5009866@freefriends.org>
Message-ID: <62acfb40-6ecc-8d67-c825-9321f944a3b6@tuwien.ac.at>

Dear TeXLive maintainers,

thank you very much for all your efforts!

I just tried to install to Windows 10, everything went smoothly and I 
cannot find any different behaviour when processing my files.

There seems to be a minor problem: I tried out what happens, if one asks 
the Manager to install the 64-bit binaries. It crashes and there is an 
entry in the event log. Maybe there should appear some message instead, 
that these binaries are not yet available.

With kind regards

Alois

From h.y.acetaminophen at gmail.com  Tue Mar  1 14:13:25 2022
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Tue, 1 Mar 2022 22:13:25 +0900
Subject: HiTeX missing \savinghyphcodes
In-Reply-To: <CAEW6iOj69kQmGLQXZHmpRW7S+q2UJkFvXxjJdFRByEr8rePQHA@mail.gmail.com>
References: <e10c4b9e-87b1-0281-e2b3-14e875a58c4d@morningstar2.co.uk>
 <CAEW6iOj69kQmGLQXZHmpRW7S+q2UJkFvXxjJdFRByEr8rePQHA@mail.gmail.com>
Message-ID: <CAJCZBmRvvpfjOt51PeK0sfB7iTEvqO0H4A5zUYXkWbm40mYZrQ@mail.gmail.com>

Hi Joseph and David,

> missing \savinghyphcodes

Not mentioned in hitexman, but it seems that following e-TeX primitives
are not implemented in HiTeX:
  * \savinghyphcodes
  * \lastlinefit
  * \marks and related primitives
  * (TeX--XeT extensions)

> hilatex segfault

I found that "hitex -ini" also segfaults with:

\catcode`\{=1
\catcode`\}=2
\write-1{}
\end


Best,
Hironobu

From joseph.wright at morningstar2.co.uk  Tue Mar  1 15:29:20 2022
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 1 Mar 2022 14:29:20 +0000
Subject: HiTeX missing \savinghyphcodes
In-Reply-To: <CAJCZBmRvvpfjOt51PeK0sfB7iTEvqO0H4A5zUYXkWbm40mYZrQ@mail.gmail.com>
References: <e10c4b9e-87b1-0281-e2b3-14e875a58c4d@morningstar2.co.uk>
 <CAEW6iOj69kQmGLQXZHmpRW7S+q2UJkFvXxjJdFRByEr8rePQHA@mail.gmail.com>
 <CAJCZBmRvvpfjOt51PeK0sfB7iTEvqO0H4A5zUYXkWbm40mYZrQ@mail.gmail.com>
Message-ID: <011fbd44-bfd9-f62b-97a1-ed73cb8990b5@morningstar2.co.uk>

On 01/03/2022 13:13, Hironobu Yamashita wrote:
> Not mentioned in hitexman, but it seems that following e-TeX primitives
> are not implemented in HiTeX:
>    * \savinghyphcodes
>    * \lastlinefit

These two are I think a real issue.

>    * \marks and related primitives

Hmm, I guess related to the lack of page output? Still would need to be 
documented.

>    * (TeX--XeT extensions)

That one is likely by-design

Joseph


From karl at freefriends.org  Wed Mar  2 00:18:55 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 Mar 2022 16:18:55 -0700
Subject: pretest 2022 begin
In-Reply-To: <20220301101744.2fd40d5a.peter.ragosch@kabelmail.de>
Message-ID: <202203012318.221NItEU025538@freefriends.org>

    Is it OK that the GUI doesn't follow a linked path or maybe I have
            wrong link settings ?

I know nothing about any GUI.  I'm not even sure what you're referring
to.  I hope Siep or someone else can help.

Thanks for trying the pretest. --best, karl.


From karl at freefriends.org  Wed Mar  2 00:22:21 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 Mar 2022 16:22:21 -0700
Subject: HiTeX missing \savinghyphcodes
In-Reply-To: <011fbd44-bfd9-f62b-97a1-ed73cb8990b5@morningstar2.co.uk>
Message-ID: <202203012322.221NMLYq026250@freefriends.org>

Regarding hitex bug reports, Martin is currently only on the
tlbuild at tug.org mailing list. While we are in these early stages, best
to send bugs there. I told him about the various reports from today.

Perhaps at some point we will use tex-k, or set up another mailing list. -k

From usenet at siart.de  Wed Mar  2 11:17:49 2022
From: usenet at siart.de (Uwe Siart)
Date: Wed, 02 Mar 2022 11:17:49 +0100
Subject: pretest 2022 begin
References: <202202270246.21R2kRn5009866@freefriends.org>
Message-ID: <86mti8acaa.fsf@siart.de>

A minor thing: The dvips doc is still 2021.1.

-- 
Uwe


From siepo at bitmuis.nl  Wed Mar  2 21:40:41 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 2 Mar 2022 21:40:41 +0100
Subject: pretest 2022 begin
In-Reply-To: <62acfb40-6ecc-8d67-c825-9321f944a3b6@tuwien.ac.at>
References: <202202270246.21R2kRn5009866@freefriends.org>
 <62acfb40-6ecc-8d67-c825-9321f944a3b6@tuwien.ac.at>
Message-ID: <Yh/WSVntphfeL+MN@bitmuis.nl>

On Tue, Mar 01, 2022 at 01:13:44PM +0100, Alois Steindl wrote:
> Dear TeXLive maintainers,
> 
> thank you very much for all your efforts!
> 
> I just tried to install to Windows 10, everything went smoothly and I cannot
> find any different behaviour when processing my files.
> 
> There seems to be a minor problem: I tried out what happens, if one asks the
> Manager to install the 64-bit binaries. It crashes and there is an entry in
> the event log. Maybe there should appear some message instead, that these
> binaries are not yet available.

I'll look into it.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Wed Mar  2 21:58:24 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 2 Mar 2022 21:58:24 +0100
Subject: pretest 2022 begin
In-Reply-To: <20220301101744.2fd40d5a.peter.ragosch@kabelmail.de>
References: <202202270246.21R2kRn5009866@freefriends.org>
 <20220301101744.2fd40d5a.peter.ragosch@kabelmail.de>
Message-ID: <Yh/acMG8CKT+OLNf@bitmuis.nl>

On Tue, Mar 01, 2022 at 10:17:44AM +0100, Peter Ragosch wrote:
> 
> Is it OK that the GUI doesn't follow a linked path or maybe I have
> 	wrong link settings ?
> 
> Settings and what I did:
> My TL's are placed at one partition /data/opt/texlive/<year>/? 
> and linked into the root partition at /opt/?
> 
> lrwxrwxrwx 1 root root 17 16. Jan 2021  /opt/texlive -> /data/opt/texlive
> 
> the ?/<year>/? directories below belong to the USER (me).
> 
> In ~/.zshrc I changed the year of the TL path to ?/2022/? 
> download the pretest installer into ~/Downloads/TexLive/2022_pretest
> #> wget https://texlive.info/tlpretest/install-tl 
> and run 
> #> ./install-tl -gui -repository https://texlive.info/tlpretest/
> 
> The Gui does not show the linked path to /opt/texlive/<year>/? but
> /data/opt/texlive/<year>/? could be directly selected.

I can confirm this for both tlmgr -gui and for tlshell. I do not
know whether or not this is a bad thing.

-- 
Siep Kroonenberg

From karl at freefriends.org  Wed Mar  2 23:23:09 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 2 Mar 2022 15:23:09 -0700
Subject: pretest 2022 begin
In-Reply-To: <86mti8acaa.fsf@siart.de>
Message-ID: <202203022223.222MN9T9005797@freefriends.org>

    A minor thing: The dvips doc is still 2021.1.

Thanks for mentioning it. I have not yet had a chance to update the Texinfo
manuals, man pages, and other assorted things. Maybe by this weekend. -k

From harald at mailbox.org  Thu Mar  3 09:30:15 2022
From: harald at mailbox.org (Harald Koenig)
Date: Thu, 3 Mar 2022 09:30:15 +0100
Subject: pretest 2022 begin
In-Reply-To: <86v8wzrs1g.fsf@siart.de>
References: <202202270246.21R2kRn5009866@freefriends.org>
 <31a52249-cea6-fdc4-1956-b258f75f8322@morningstar2.co.uk>
 <86v8wzrs1g.fsf@siart.de>
Message-ID: <YiB8lx61E1WC6HnA@hl.fritz.box>

On Feb 28, Uwe Siart wrote:

> Joseph Wright <joseph.wright at morningstar2.co.uk> writes:
> 
> > All good so far: installation smooth as usual.
> 
> Same here. All fine on Windows 10. Smooth (but lengthy, ~5hrs) install
> yesterday. Binaries updated today.

installation on opensuse tumbleweed (rolling release) worked fine,
some first documents still work as expected.


about installation time:
I first tried to use http://www.math.utah.edu/pub/tlpretest/
but this started horribly slow and estimated time was arounf 15-20+ hours.

so I stopped and restarted from http://ftp.cstug.cz/pub/tex/local/tlpretest/
which finished within ~41 minutes...


but as usual: YMMV... ;-)

Harald
-- 
"I hope to die                                      ___       _____
before I *have* to use Microsoft Word.",           0--,|    /OOOOOOO\
Donald E. Knuth, 02-Oct-2001 in Tuebingen.        <_/  /  /OOOOOOOOOOO\
                                                    \  \/OOOOOOOOOOOOOOO\
                                                      \ OOOOOOOOOOOOOOOOO|//
                                                       \/\/\/\/\/\/\/\/\/
Harald Koenig                                           //  /     \\  \
harald.koenig at mailbox.org                              ^^^^^       ^^^^^

From peter.ragosch at kabelmail.de  Thu Mar  3 10:50:21 2022
From: peter.ragosch at kabelmail.de (Peter Ragosch)
Date: Thu, 3 Mar 2022 10:50:21 +0100
Subject: pretest 2022 begin
In-Reply-To: <Yh/acMG8CKT+OLNf@bitmuis.nl>
References: <202202270246.21R2kRn5009866@freefriends.org>
 <20220301101744.2fd40d5a.peter.ragosch@kabelmail.de>
 <Yh/acMG8CKT+OLNf@bitmuis.nl>
Message-ID: <20220303105021.5e5c0e80.peter.ragosch@kabelmail.de>

On Wed, 2 Mar 2022 21:58:24 +0100
Siep Kroonenberg <siepo at bitmuis.nl> wrote:

> On Tue, Mar 01, 2022 at 10:17:44AM +0100, Peter Ragosch wrote:
> > 
> > Is it OK that the GUI doesn't follow a linked path or maybe I have
> > 	wrong link settings ?
> > 
> > Settings and what I did:
> > My TL's are placed at one partition /data/opt/texlive/<year>/? 
> > and linked into the root partition at /opt/?
> > 
> > lrwxrwxrwx 1 root root 17 16. Jan 2021  /opt/texlive ->
> > /data/opt/texlive
> > 
> > the ?/<year>/? directories below belong to the USER (me).
> > 
> > In ~/.zshrc I changed the year of the TL path to ?/2022/? 
> > download the pretest installer into ~/Downloads/TexLive/2022_pretest
> > #> wget https://texlive.info/tlpretest/install-tl 
> > and run 
> > #> ./install-tl -gui -repository https://texlive.info/tlpretest/
> > 
> > The Gui does not show the linked path to /opt/texlive/<year>/? but
> > /data/opt/texlive/<year>/? could be directly selected.
> 
> I can confirm this for both tlmgr -gui and for tlshell. I do not
> know whether or not this is a bad thing.
> 

Thank you Siep for the confirmation.

The entry in $PATH starts with 
/opt/texlive/2022/bin/x86_64-linux:/home/?

Today I started an (pretest) update, in zsh I did
 ? ? ? /opt ? tlshell & 
[1] 1307123
 ? ? ? /opt ?

In GUI both, update tlmgr and update all packages, run with no problems.

Therefore the linked folder does not cause any functional problems.

While the GUI shows the root path as /data/opt/texlive/2022, which in
the end is absolutely correct, but actually wasn't expected. However,
this can irritate the user if, for example, there is a more complex
partition/folder/path configuration that may not have been set up by
the user but by the system administrator.

I'd prefer the link to show up as the root path, but probably not worth
the effort if at all possible.

Best Regards
Peter



 




From jfine2358 at gmail.com  Thu Mar  3 15:32:14 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Thu, 3 Mar 2022 14:32:14 +0000
Subject: TeX Hour tonight: Why and How of Bridges : 18:30 UTC time
In-Reply-To: <CALD=Yf-E8-9=wbBufdj=716sEKqPsa+M6DHUisuoAmU1t=wPnw@mail.gmail.com>
References: <CALD=Yf8eN4T3GG0qgjW09kbqnb+Qs9K4pKsq9BcHcLE_OaUvQg@mail.gmail.com>
 <CALD=Yf-E8-9=wbBufdj=716sEKqPsa+M6DHUisuoAmU1t=wPnw@mail.gmail.com>
Message-ID: <CALD=Yf8LJ3RY5yY3oNPkCjs7ZWDaYLkqYPncLya43meuMGvw-g@mail.gmail.com>

Hi

Tonight's TeX hour is from 6:30 to 7:30pm UK (and UTC) time. The UK time
now: https://time.is/UK.
The zoom URL is
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

Bridges, both actual and metaphorical, are of great human
importance. Roads, canals and railways all lead to the building of bridges.
Famous bridges include the Ponte Vecchio in Florence, the Golden Gate in
California, the Tower Bridge in London, the Sydney Harbour Bridge and the
Stari Most in Bosnia and Herzegovina. Both Ponte Vecchio and Stari Most
mean "Old Bridge".

Here are some metaphorical bridges. Ordinary mail, the postal service,
telegraph, telegraph, wireless, the internet and email can all be thought
of as bridges. Language, oral transmission, writing, printing and books can
also be thought of as bridges. Successful bridges serve a social purpose.
The lack of such bridges can be a major obstacle.

Today's TeX Hour will be focussed on Bridges and TeX. I'd like to focus on
the social side of bridges and the building of bridges. It is out of this
that the technology of bridges emerged. For example, it was out of the TeX
community and FTP that our central store CTAN emerged. And FTP is a
metaphorical bridge that emerged from community needs, together with ground
provided by computer networks.

About 200 years ago Thomas Telford brilliantly combined the social and
technical forces of his time to found Civil Engineering as a profession.
That was in the United Kingdom.  About 50 years later James Eads had a
similar role in the United States. Other countries have their own civil
engineers.

To ground our conversation, I'd like us to start by sharing physical
bridges we personally know and love. All sorts of bridges are welcome.
Here's my contribution:
https://en.wikipedia.org/wiki/File:River_Wye_and_pack_horse_bridge_-_geograph.org.uk_-_29091.jpg

Tonight's TeX hour is from 6:30 to 7:30pm UK (and UTC) time. The UK time
now: https://time.is/UK.
The zoom URL is
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

Finally, the you can catch the 2022 TeX Hours at
https://www.youtube.com/playlist?list=PLw1FZfIX1w7hMtao93q9imCCYc4aoXahy

wishing you happy walking

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220303/bd286bd9/attachment.html>

From karl at freefriends.org  Fri Mar  4 17:05:12 2022
From: karl at freefriends.org (Karl Berry)
Date: Fri, 4 Mar 2022 09:05:12 -0700
Subject: pretest 2022 begin
In-Reply-To: <86mti8acaa.fsf@siart.de>
Message-ID: <202203041605.224G5CSO025571@freefriends.org>

    A minor thing: The dvips doc is still 2021.1.

FYI, I've now updated the Texinfo manuals, man pages, etc., for
tonight's pretest build. Let me know if you see anything still stale.
Thanks. -k

From jcc8 at psu.edu  Mon Mar  7 20:50:47 2022
From: jcc8 at psu.edu (John Collins)
Date: Mon, 7 Mar 2022 14:50:47 -0500
Subject: Non-ASCII characters in filenames/Unicode
Message-ID: <44de910a-d650-7b61-298c-e2340a43fc17@psu.edu>

I am updating latexmk so that it more correctly handles non-ASCII characters in 
filenames.  Particular problems are caused by the difference between the UTF-8 
encoding used in .log, .fls, and .aux files etc, and the typically non-UTF-8 
system code page used in Windows.  I have two questions for the TL maintainers 
(and anyone else interested):

1. Where do I look for how these things are done in the TL programs, especially 
any that are written in Perl?  Who should I ask about this?

2. On a Windows system where the **system** code page is not 65001, the PWD 
line at the top of an fls file is encoded in in the system code page.  The rest 
of the file is encoded in UTF-8.  Is this a bug?

Thanks,
John Collins

From kakuto at jcom.zaq.ne.jp  Tue Mar  8 06:30:54 2022
From: kakuto at jcom.zaq.ne.jp (Akira Kakuto)
Date: Tue, 8 Mar 2022 14:30:54 +0900
Subject: Non-ASCII characters in filenames/Unicode
In-Reply-To: <CAKTOP47M_fy7ygELuBi4e2aNi6Co1dgCbxjwW8n8np6CaR1BOA@mail.gmail.com>
References: <CAKTOP47M_fy7ygELuBi4e2aNi6Co1dgCbxjwW8n8np6CaR1BOA@mail.gmail.com>
Message-ID: <f4b169f9-637b-85fb-8147-9857aebdc606@jcom.zaq.ne.jp>

 > 2. On a Windows system where the **system** code page is not 65001, 
the PWD
 > line at the top of an fls file is encoded in in the system code page. 
  The rest
 > of the file is encoded in UTF-8.  Is this a bug?

Mixed encoding is a bug.
In the new Windows binaries, PWD is also encoded in UTF-8 in
luatex, pdftex, xetex, uptex, and euptex.

Best,
Akira

From karl at freefriends.org  Wed Mar  9 02:58:46 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 Mar 2022 18:58:46 -0700
Subject: Non-ASCII characters in filenames/Unicode
In-Reply-To: <44de910a-d650-7b61-298c-e2340a43fc17@psu.edu>
Message-ID: <202203090158.2291wk6V012350@freefriends.org>

Hi John,

    1. Where do I look for how these things are done in the TL programs,
    especially any that are written in Perl?  Who should I ask about this?

If you're talking about tlmgr, install-tl, etc., this is the right
place.  Norbert wrote them (for the most part). I see this in tlmgr:

binmode(STDOUT, ":utf8");
binmode(STDERR, ":utf8");

although I don't see it in install-tl. OTOH, install-tl sets utf8 for
its log file:

    $::LOGFILENAME = "$vars{'TEXDIR'}/install-tl.log";
    if (open(LOGF,">:utf8", $::LOGFILENAME)) {

which it seems tlmgr does not do. (I'm just searching for utf8 in the
sources, so may well be missing something.)

I am somewhat surprised. I know that in the past, it was a source of
tremendous error to assume the terminal was in utf8, or any particular
encoding, so we tried hard to output 7-bit ASCII. And still do, for the
most part, as far as I know. The emphasis stuff inserted by perldoc for
--help is the one exception I can think of, which creates tons of weird
cases requiring playing with the LESS envvars, etc.

Hope this helps somehow. Norbert can surely tell you more, and correct
whatever's wrong in the above. Happy hacking. --best, karl.

From norbert at preining.info  Wed Mar  9 03:24:55 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 9 Mar 2022 11:24:55 +0900
Subject: Non-ASCII characters in filenames/Unicode
In-Reply-To: <202203090158.2291wk6V012350@freefriends.org>
 <44de910a-d650-7b61-298c-e2340a43fc17@psu.edu>
Message-ID: <YigP922IYYb4jbNV@bulldog>

Hi John,

On Mon, 07 Mar 2022, John Collins wrote:
> I am updating latexmk so that it more correctly handles non-ASCII characters
> in filenames.  Particular problems are caused by the difference between the
> UTF-8 encoding used in .log, .fls, and .aux files etc, and the typically
> non-UTF-8 system code page used in Windows.  I have two questions for the TL

Huge pain.

> 1. Where do I look for how these things are done in the TL programs,
> especially any that are written in Perl?  Who should I ask about this?

Here is fine. I have no *real* recollection but that we have fought many
times with the same problem.

The places where one has to take care is output to the console
(STDOUT and STDERR), encoding of file names, and encoding of file
content.

Since neither install-tl nor tlmgr creates or handles files with
non-ascii file names, we happily ignore that ;-)

For the output to console we use the following in install-tl:
```
use Encode::Alias;
eval {
  require Encode::Locale;
  Encode::Locale->import ();
  debug("Encode::Locale is loaded.\n");
};
if ($@) {
  if (win32) {
    die ("For Windows, Encode::Locale is required.\n");
  }

  debug("Encode::Locale is not found. Assuming all encodings are UTF-8.\n");
  Encode::Alias::define_alias('locale' => 'UTF-8');
  Encode::Alias::define_alias('locale_fs' => 'UTF-8');
  Encode::Alias::define_alias('console_in' => 'UTF-8');
  Encode::Alias::define_alias('console_out' => 'UTF-8');
}
binmode (STDIN, ':encoding(console_in)');
binmode (STDOUT, ':encoding(console_out)');
binmode (STDERR, ':encoding(console_out)');
```

As far as I remember, the reason for that was the former GUI which was
written in PerlTK and had translated strings which were also output to
the console/terminal. With the above the encoding worked also for
non-utf8 based consoles (like Windows).

But I might be wrong about this, too ...

For the rest, as Karl said, we try hard to keep everything in ascii what
we output ;-) And all the files we create are in ASCII file names, too.



If you want to deal with non-ascii file names, I suggest looking at
https://github.com/texjporg/cjk-gs-support/blob/master/cjk-gs-integrate.pl
where dealing with non-ascii filename is important ( CJK file names).

We use
```
use utf8;
use Encode;

sub encode_utftocp {
  my ($foo) = @_;
  $foo = Encode::decode('utf-8', $foo);
  $foo = Encode::encode('cp932', $foo);
  return $foo;
}

sub encode_cptoutf {
  my ($foo) = @_;
  $foo = Encode::decode('cp932', $foo);
  $foo = Encode::encode('utf-8', $foo);
  return $foo;
}
```

and for example:
      $targetname = encode_utftocp($targetname);
      my $cmdl = "cmd.exe /c if not exist \"$targetname\" mklink ";

or
      # cp932 for win32 console
      if (win32()) {
        $fn = encode_utftocp($fn);
      }

I hope that helps.

> 2. On a Windows system where the **system** code page is not 65001, the PWD
> line at the top of an fls file is encoded in in the system code page.  The
> rest of the file is encoded in UTF-8.  Is this a bug?

Good point ... something Karl should probably answer. kpathsea should
use the same encoding for the whole I guess.

All the best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Wed Mar  9 11:18:09 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 9 Mar 2022 11:18:09 +0100
Subject: Non-ASCII characters in filenames/Unicode
References: <44de910a-d650-7b61-298c-e2340a43fc17@psu.edu>
Message-ID: <1xxx6u9q2299l$.dlg@nililand.de>

Am Mon, 7 Mar 2022 14:50:47 -0500 schrieb John Collins:

> 2. On a Windows system where the **system** code page is not 65001, the PWD 
> line at the top of an fls file is encoded in in the system code page.  The rest 
> of the file is encoded in UTF-8.  Is this a bug?

I can reproduce that in texlive 2021, but in texlive 2022 it seems
to be ok, the whole fls is utf8. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From Jan.Braun at klein-gallien.org  Wed Mar  9 10:04:01 2022
From: Jan.Braun at klein-gallien.org (Jan Braun)
Date: Wed, 9 Mar 2022 10:04:01 +0100
Subject: Using lacheck on LaTeX3 styles
Message-ID: <D65D70FE-E48D-45DD-A3B4-2E046BB06B8C@klein-gallien.org>

Hi everybody,

I am using lacheck not only for my LaTeX  documents, but 
also on my self written LaTeX packages.  

Nowadays, I started to coding them in LaTeX3, which is 
somewhat more generous, when it comes to spaces in the 
style file. Running lacheck on those files will give a 
lot of ?possible unwanted space? warnings.

Therefore I?d like to suggest, to test for the keyword 
`\ProvidesExplPackage?, to switch of this test/warnings.

What do you think?

Bye

   Jan

-- 
Jan Braun (er/ihm)
Jan.Braun at klein-gallien.org


=== ypchsh /usr/local/bin/emacs === go FORTH now ? ===



From jfine2358 at gmail.com  Wed Mar  9 17:21:34 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 9 Mar 2022 16:21:34 +0000
Subject: TeX Hour tomorrow: Command Line and Text User interfaces, Python
 syntax errors
In-Reply-To: <CALD=Yf_1ATEpMquPeFSRDeGCqQzF7rDzkS_tKvacLMf=7zggVg@mail.gmail.com>
References: <CALD=Yf8O1EyZER3S-oSp602hjoE6pJJy+2hnDzGvbT-msLpuWQ@mail.gmail.com>
 <CALD=Yf_1ATEpMquPeFSRDeGCqQzF7rDzkS_tKvacLMf=7zggVg@mail.gmail.com>
Message-ID: <CALD=Yf_qsSc2KGxTv6ZwB22YFAkquH8Zxg_8anxBkNkzuqkGaw@mail.gmail.com>

Hi

Accessibility is the focus of tomorrow's TeX Hour. All topics are welcome.
I'm providing:

1. Continuation of last month's discussion of Accessible Command Line
Interfaces (CLI)
2. Discussion of Text User Interfaces (TUI), and in particular
https://github.com/Textualize/textual
3. Visually impaired programmers and Python syntax errors, eg
https://bugs.python.org/issue46910
4. Accessible 'screen-shots' of CLI interaction and source files in HTML
and PDF.

Date and time: Thursday 10 March, 6:30 to 7:30pm UK (and UTC) time.
UK time now: https://time.is/UK.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

The recommendations on CLI discussed at last month's meeting are

1. Ensure that a HTML version of all documentation is available.
2. Provide a way to translate long outputs into another accessible format.
3. Document the output structure for each command.
4. Provide a way to translate tables in CLI output into another
accessible format.
5. Ensure that all commands provide status and progress indication.
6. Ensure that all status and progress indicators used are screen
reader friendly.
7. Ensure that error messages are understandable when read aloud.

Many of these recommendations also apply to TUI.

The video from last month is available at
https://www.youtube.com/watch?v=oVN09ae8GWc.

Many of us are concerned about the conflict in Ukraine. Terry Tao (Fields
Medallist) has made two helpful posts. The first is for scientists,
particularly mathematicians, displaced by the conflict.
https://terrytao.wordpress.com/2022/03/02/resources-for-displaced-mathematicians/

The second is about the displaced ICM. Four year ago Saint Petersburg,
Russia was chosen to be the venue for the 2022 International Congress of
Mathematicians and associated IMU event (2 to 14 July). It will now take
place as a fully virtual event, hosted outside Russia.
https://terrytao.wordpress.com/2022/02/26/the-international-congress-of-mathematicians-icm-2022

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220309/23bfb309/attachment.html>

From karl at freefriends.org  Wed Mar  9 23:35:17 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 9 Mar 2022 15:35:17 -0700
Subject: Using lacheck on LaTeX3 styles
In-Reply-To: <D65D70FE-E48D-45DD-A3B4-2E046BB06B8C@klein-gallien.org>
Message-ID: <202203092235.229MZH6F028731@freefriends.org>

    Therefore I???d like to suggest, to test for the keyword 
    `\ProvidesExplPackage???, to switch of this test/warnings.

Sounds sensible, but it's not something I want to take on
implementing. If you or someone else can provide a patch, great.
--thanks, karl.


From jcc8 at psu.edu  Thu Mar 10 00:01:08 2022
From: jcc8 at psu.edu (John Collins)
Date: Wed, 9 Mar 2022 18:01:08 -0500
Subject: Non-ASCII characters in filenames/Unicode
In-Reply-To: <YigP922IYYb4jbNV@bulldog>
References: <YigP922IYYb4jbNV@bulldog>
Message-ID: <1edb07c1-fa76-07c9-a403-1e9bdbdddbb0@psu.edu>

Hi Norbert,

Many thanks for the information.

On 3/8/22 9:24 PM, Norbert Preining wrote:
> 
> Huge pain.

That's for sure.  I'm on my 3rd approach for latexmk, which actually seems to 
work and needs very little surgery on the code!  It's nice to find some fellow 
sufferers.


> Since neither install-tl nor tlmgr creates or handles files with
> non-ascii file names, we happily ignore that ;-)

I was also interested in what's done in all the *tex programs, even though that 
is probably irrelevant to Perl scripts with current versions of Perl.  As you 
know, the *tex programs handle full Unicode for filename on the command line 
without problems, even when invoked from cmd.exe with non-UTF-8 code pages. The 
same behavior seems to be a lost cause for Perl scripts.


> binmode (STDIN, ':encoding(console_in)');
> binmode (STDOUT, ':encoding(console_out)');
> binmode (STDERR, ':encoding(console_out)');
> ```
> 
> As far as I remember, the reason for that was the former GUI which was
> written in PerlTK and had translated strings which were also output to
> the console/terminal. With the above the encoding worked also for
> non-utf8 based consoles (like Windows).

So internally you are using decoded strings (to use Perl terminology).  To me, 
that seemed the obvious and recommended way of doing things.  But it got 
complicated.  (I'll omit the reasons. ... :-()

My current approach is to use encoded strings in the system coding system, and 
to do the necessary translation of the contents of .fls, .log, .aux files.  I 
use the Win32 module to get the windows code pages.  Other OSs can safely use 
utf-8 AFAIK.

My other trick is to set the console CP on Windows to the system CP (and 
restore it at the end), so that filenames are displayed correctly.

I'm not at all sure my approach is the best.  Comments appreciated.

Best,
John

From zdenek.wagner at gmail.com  Thu Mar 10 00:14:21 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 10 Mar 2022 00:14:21 +0100
Subject: Using lacheck on LaTeX3 styles
In-Reply-To: <202203092235.229MZH6F028731@freefriends.org>
References: <D65D70FE-E48D-45DD-A3B4-2E046BB06B8C@klein-gallien.org>
 <202203092235.229MZH6F028731@freefriends.org>
Message-ID: <CAC1phyYx5H0qbGYpeUqRRKULFEry60LcJmqpm62rCiYY-Qxi1A@mail.gmail.com>

I think that the problem of LaTeX3 is that the \catcode of an
underscore is set to 11 (letter). If you just remove a check of
unwanted spaces, you create a risk of unwanted spaces remained
undetected. The proper solution is to add the underscore to the list
of letters. If I understand LaTeX3 styles, \my_macro is a valid
control sequence and TeX is then in a mode of gobbling spaces. If
lacheck is unaware of the underscore being a letter, then \my_macro
means that the control sequence is \my, it is followed by an
underscore with the \catcode as defined in math followed by letters
macro (\catcode 11) and all following spaces are collapsed to a single
space (see The TeXbook, Chapter 7, How TeX reads what you write).

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

st 9. 3. 2022 v 23:36 odes?latel Karl Berry <karl at freefriends.org> napsal:
>
>     Therefore I?d like to suggest, to test for the keyword
>     `\ProvidesExplPackage?, to switch of this test/warnings.
>
> Sounds sensible, but it's not something I want to take on
> implementing. If you or someone else can provide a patch, great.
> --thanks, karl.
>


From jcc8 at psu.edu  Thu Mar 10 00:24:47 2022
From: jcc8 at psu.edu (John Collins)
Date: Wed, 9 Mar 2022 18:24:47 -0500
Subject: Non-ASCII characters in filenames/Unicode
In-Reply-To: <f4b169f9-637b-85fb-8147-9857aebdc606@jcom.zaq.ne.jp>
References: <CAKTOP47M_fy7ygELuBi4e2aNi6Co1dgCbxjwW8n8np6CaR1BOA@mail.gmail.com>
 <f4b169f9-637b-85fb-8147-9857aebdc606@jcom.zaq.ne.jp>
Message-ID: <d2348ee2-580b-470c-a705-edaba24da804@psu.edu>

On 3/8/22 12:30 AM, Akira Kakuto wrote:
> 
> Mixed encoding is a bug.
> In the new Windows binaries, PWD is also encoded in UTF-8 in
> luatex, pdftex, xetex, uptex, and euptex.

Great.  I'll leave my work-around in latexmk, since not everyone updates 
TeXLive to the latest version.  (The work around depends on testing whether or 
not the PWD line is valid UTF-8, so it will behave properly with the new binaries.)


There's one other UTF-8 anomaly I noticed (and have work-around code for it in 
latexmk). This is that line wrapping in a .log file by pdflatex and lualatex 
doesn't respect the character semantics.  They wrap at a particular number of 
bytes, which in a default installation is 79.  You only definitely get utf-8 
after undoing the line wrapping.  In contrast, xelatex wraps at 79 code point 
units.

Dealing with line wrapping is important to latexmk, so that it can extract 
dependency information properly.  Once I realized the different behavior of 
xelatex, the true source of a user-reported bug in latexmk became clear.

Probably the best solution for latexmk is to turn off line wrapping by the 
programs it invokes. But that may make things not so nice for apps that display 
log files to the user.  (TeXShop, TeXWorks, etc.)


John Collins



From karl at freefriends.org  Thu Mar 10 00:43:01 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 9 Mar 2022 16:43:01 -0700
Subject: Non-ASCII characters in filenames/Unicode
In-Reply-To: <d2348ee2-580b-470c-a705-edaba24da804@psu.edu>
Message-ID: <202203092343.229Nh1dD006069@freefriends.org>

pdftex has no concept of multi-byte characters, and I don't see that
changing. I doubt that comes as a surprise :).

As for luatex, I forwarded your msg to Luigi. We'll see. -k

From usenet at siart.de  Thu Mar 10 07:07:15 2022
From: usenet at siart.de (Uwe Siart)
Date: Thu, 10 Mar 2022 07:07:15 +0100
Subject: [pretest] Creating hitex.fmt fails
Message-ID: <87lexi9w8c.fsf@siart.de>

This is my hitex.log after today's update:

,----[ hitex.log ]
| This is HiTeX, Version 3.141592653, HINT version 1.4 (INITEX)  10 MAR 2022 06:59
| entering extended mode
| entering Prote mode
| **hitex.ini 
| (hitex.ini (etex.src (plain.tex Preloading the plain format: codes, registers,
| \maxdimen=\dimen10
| \hideskip=\skip10
| \centering=\skip11
| \p@=\dimen11
| \z@=\dimen12
| \z at skip=\skip12
| \voidb at x=\box10
| 
| parameters,
| \smallskipamount=\skip13
| \medskipamount=\skip14
| \bigskipamount=\skip15
| \normalbaselineskip=\skip16
| \normallineskip=\skip17
| \normallineskiplimit=\dimen13
| \jot=\dimen14
| \interdisplaylinepenalty=\count23
| \interfootnotelinepenalty=\count24
|  fonts,
| ! Font \tenrm=cmr10 not loadable: Bad metric (TFM) file.
| <to be read again> 
|                    \font 
| l.401 \font
|            \preloaded=cmr9
| ? 
| ! Emergency stop.
| <to be read again> 
|                    \font 
| l.401 \font
|            \preloaded=cmr9
| End of file on the terminal!
`----

-- 
Uwe


From kakuto at jcom.zaq.ne.jp  Thu Mar 10 10:38:49 2022
From: kakuto at jcom.zaq.ne.jp (Akira Kakuto)
Date: Thu, 10 Mar 2022 18:38:49 +0900
Subject: [pretest] Creating hitex.fmt fails
In-Reply-To: <87lexi9w8c.fsf@siart.de>
References: <87lexi9w8c.fsf@siart.de>
Message-ID: <03742605-f535-23e2-c3ee-b7d2b28ddeff@jcom.zaq.ne.jp>

On 2022/03/10 15:07, Uwe Siart wrote:
> This is my hitex.log after today's update:

The bug is Windows specific. ("r" should be "rb" for reading tfm).
Fixed in the SVN.

Best,
Akira

From gnwiii at gmail.com  Thu Mar 10 16:59:31 2022
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 10 Mar 2022 11:59:31 -0400
Subject: Non-ASCII characters in filenames/Unicode
In-Reply-To: <d2348ee2-580b-470c-a705-edaba24da804@psu.edu>
References: <CAKTOP47M_fy7ygELuBi4e2aNi6Co1dgCbxjwW8n8np6CaR1BOA@mail.gmail.com>
 <f4b169f9-637b-85fb-8147-9857aebdc606@jcom.zaq.ne.jp>
 <d2348ee2-580b-470c-a705-edaba24da804@psu.edu>
Message-ID: <CAKTOP47tTPqVr2vSj=XZ-KxyguYwzTp-5bj6bUn5yOJHjQy=fA@mail.gmail.com>

On Wed, 9 Mar 2022 at 19:27, John Collins <jcc8 at psu.edu> wrote:

>
> Probably the best solution for latexmk is to turn off line wrapping by the
> programs it invokes. But that may make things not so nice for apps that
> display
> log files to the user.  (TeXShop, TeXWorks, etc.)
>

Logs from many applications are getting more verbose and users are moving to
wider terminal windows, so it is no longer reasonable to wrap lines for
80-character
terminals.   Going forward, apps that display log files should
provide wrapping.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220310/33110da4/attachment.html>

From tex at 2krueger.de  Thu Mar 10 19:51:46 2022
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Thu, 10 Mar 2022 19:51:46 +0100
Subject: Using lacheck on LaTeX3 styles
In-Reply-To: <CAC1phyYx5H0qbGYpeUqRRKULFEry60LcJmqpm62rCiYY-Qxi1A@mail.gmail.com>
References: <D65D70FE-E48D-45DD-A3B4-2E046BB06B8C@klein-gallien.org>
 <202203092235.229MZH6F028731@freefriends.org>
 <CAC1phyYx5H0qbGYpeUqRRKULFEry60LcJmqpm62rCiYY-Qxi1A@mail.gmail.com>
Message-ID: <20220310185146.veb6jtge3h24nyhd@beeblebrox>

On Thu, Mar 10, 2022 at 12:14:21AM +0100, Zdenek Wagner wrote:
> I think that the problem of LaTeX3 is that the \catcode of an
> underscore is set to 11 (letter). If you just remove a check of
> unwanted spaces, you create a risk of unwanted spaces remained
> undetected. The proper solution is to add the underscore to the list
> of letters. If I understand LaTeX3 styles, \my_macro is a valid
> control sequence and TeX is then in a mode of gobbling spaces. If
> lacheck is unaware of the underscore being a letter, then \my_macro
> means that the control sequence is \my, it is followed by an
> underscore with the \catcode as defined in math followed by letters
> macro (\catcode 11) and all following spaces are collapsed to a single
> space (see The TeXbook, Chapter 7, How TeX reads what you write).

The L3 programming layer does make underscore (and the colon) a letter but
that's not the only change. It also changes the catcode of space to
ignored, therefore they should never cause unwanted spaces. The tilde
gets catcode space, but I think it's rather unlikely that someone
accidentially inserts a space through a tilde, so disabling the check
makes sense.

Best,
Marcel

From Jan.Braun at klein-gallien.org  Thu Mar 10 20:20:30 2022
From: Jan.Braun at klein-gallien.org (Jan Braun)
Date: Thu, 10 Mar 2022 20:20:30 +0100
Subject: Using lacheck on LaTeX3 styles
In-Reply-To: <20220310185146.veb6jtge3h24nyhd@beeblebrox>
References: <D65D70FE-E48D-45DD-A3B4-2E046BB06B8C@klein-gallien.org>
 <202203092235.229MZH6F028731@freefriends.org>
 <CAC1phyYx5H0qbGYpeUqRRKULFEry60LcJmqpm62rCiYY-Qxi1A@mail.gmail.com>
 <20220310185146.veb6jtge3h24nyhd@beeblebrox>
Message-ID: <B756B0F3-4158-40D5-9E20-71C709F5F377@klein-gallien.org>

Good evening everyone,

(I am not member of the list, so thanks to everyone, who included 
me in their replies.)

> Am 10.03.2022 um 19:51 schrieb Marcel Fabian Kr?ger <tex at 2krueger.de>:
> 
> On Thu, Mar 10, 2022 at 12:14:21AM +0100, Zdenek Wagner wrote:
>> I think that the problem of LaTeX3 is that the \catcode of an
>> underscore is set to 11 (letter). [?]
> The L3 programming layer does make underscore (and the colon) a letter but
> that's not the only change. It also changes the catcode of space to
> ignored, therefore they should never cause unwanted spaces. The tilde
> gets catcode space, but I think it's rather unlikely that someone
> accidentially inserts a space through a tilde, so disabling the check
> makes sense.

At least, the tilde is easy to spot and harder to insert.

Karl, my programming skill are rusted, to say the least.  Its 20 
years ago, that I coded in C.  So, I won?t be any help here. :-(  
But given the fact, that L3 is still evolving and not that wide 
spread as is good old LaTeX (tm), a day or two more to wait for 
this patch to come won?t hurt anyone, I?d say.

Thank you all for your great support.

Bye

   Jan

-- 
Jan Braun (er/ihm)
Jan.Braun at klein-gallien.org


=== ypchsh /usr/local/bin/emacs === go FORTH now ? ===



From karl at freefriends.org  Mon Mar 14 22:36:09 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 14 Mar 2022 15:36:09 -0600
Subject: pretest testing please
Message-ID: <202203142136.22ELa9JG014248@freefriends.org>

Hello TeX Live users and all -- in theory the binaries for the upcoming
TL22 release have stabilized. If you have any time/inclination to try
the pretest, now would be a good time:
  https://tug.org/texlive/pretest.html

I expect to push out the final release in about a week. --thanks, karl.

From jfine2358 at gmail.com  Wed Mar 16 15:53:47 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 16 Mar 2022 14:53:47 +0000
Subject: TeX Hour tomorrow: More on Better Technical Documentation
In-Reply-To: <CALD=Yf8_qjb7gK_Wqda5_RC3szxWqqsga5MxWeV8Yyw3+NecYg@mail.gmail.com>
References: <CALD=Yf8O1EyZER3S-oSp602hjoE6pJJy+2hnDzGvbT-msLpuWQ@mail.gmail.com>
 <CALD=Yf8_qjb7gK_Wqda5_RC3szxWqqsga5MxWeV8Yyw3+NecYg@mail.gmail.com>
Message-ID: <CALD=Yf_yVJJJvutEjAoANEvmRQdqnBykc5L0D8iUr+nB1iYZdA@mail.gmail.com>

Hi

Tomorrow's TeX Hour continues from last month's topic: Better Technical
Documentation.

Date and time: Thursday 17 March, 6:30 to 7:30pm UK (and UTC) time.
UK time now: https://time.is/UK.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

Last month's meeting was based on a "needs discovery" meeting organised by
Daniele Procida, who I've met several times at UK Python conferences.
Daniele is now one of several Directors of Engineering at Canonical, the
 developers of Ubuntu Linux, where he has special responsibility for
improving both documentation and the process by which it is created.

Daniele is now giving 3 weekly 2 hour workshops to research software
engineers. Tomorrow's TeX Hour is based on my experience of the first two
workshops. Here's my core of last week's workshop.

People have different modes of activity. Common modes are sitting, standing
and lying. Listening, talking and observing. Common modes related to tools
are handling a tool, using a tool, creating a tool and understanding a
tool. Software documentation works better when it fits the mode of
activity. To be useful, this knowledge must be incorporated into experience
and practice.

The third and final workshop next week will be on tooling, with a focus on
the Sphinx system, which was created especially for the core Python
documentation. It's been in use since 2008. The previous system used LaTeX
as the input syntax. Sphinx uses the specially developed RST markup
language.
https://www.sphinx-doc.org/en/master/

Last month's TeX Hour on Better Technical Documentation
https://youtu.be/gbBNuUOWF0c
Last week's TeX Hour on CLI and text interfaces, Python syntax errors
https://youtu.be/E6jXQMRvVcg

This week's TeX Hour is: Thursday 17 March, 6:30 to 7:30pm UK (and UTC)
time.
UK time now: https://time.is/UK.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220316/3fd0fee4/attachment.html>

From Jerzy.Ludwichowski at umk.pl  Wed Mar 16 18:55:47 2022
From: Jerzy.Ludwichowski at umk.pl (Jerzy Ludwichowski)
Date: Wed, 16 Mar 2022 18:55:47 +0100
Subject: tlmgr - Windows 10
Message-ID: <59ccbfbd-3cfd-0dbd-6679-5f9a8c6a5504@umk.pl>

Hi,

in response to ctrl-C after

 ??? tlmgr -help |more

one gets

 ??? Terminating on signal SIGINT(2)

sitting there forever; another ctrl-C yields

 ??? The process tried to write to a nonexistent pipe.
 ??? ^C^C

This happens with tl2022 (trial). Same behavior with tl2021.
A "q" terminates tlmgr-help|more nicely. Shouldn't ctlr-C do the same?

Best,
-- Jerzy Ludwichowski


From Jerzy.Ludwichowski at umk.pl  Wed Mar 16 19:38:18 2022
From: Jerzy.Ludwichowski at umk.pl (Jerzy Ludwichowski)
Date: Wed, 16 Mar 2022 19:38:18 +0100
Subject: tlshell - "Remote rev. (ver.)" column (pretest)
Message-ID: <071cb63d-7bae-dcb9-3cbb-5f0cb9dad1a7@umk.pl>

Hi,

tlshell after being started does not show available updates in the 
"Remote rev. (ver.)" column.
The existence of that empty column just then might be misleading.
Perhaps a remote lookup (tlmgr update -list) should be done upon 
tlshell's startup?

Best,
-- Jerzy Ludwichowski

From Jerzy.Ludwichowski at umk.pl  Wed Mar 16 20:32:14 2022
From: Jerzy.Ludwichowski at umk.pl (Jerzy Ludwichowski)
Date: Wed, 16 Mar 2022 20:32:14 +0100
Subject: tlshell --help (pretest, Windows10)
Message-ID: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>

Hi,

tlshell displays a small info window "Backend gone. Last command:" when 
run e.g., like

 ??? tlshell -h

or

 ??? tlshell --help

or even the Windows way

 ??? tlshell \?

and goes away when the OK button is clicked in that window.


On the other hand it accepts options like "--gui" and "--gui-lang NN", 
or both.

Best,
-- Jerzy Ludwichowski



From siepo at bitmuis.nl  Wed Mar 16 20:40:51 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 16 Mar 2022 20:40:51 +0100
Subject: tlmgr - Windows 10
In-Reply-To: <59ccbfbd-3cfd-0dbd-6679-5f9a8c6a5504@umk.pl>
References: <59ccbfbd-3cfd-0dbd-6679-5f9a8c6a5504@umk.pl>
Message-ID: <YjI9Q0sPRjzsDmS4@bitmuis.nl>

On Wed, Mar 16, 2022 at 06:55:47PM +0100, Jerzy Ludwichowski wrote:
> Hi,
> 
> in response to ctrl-C after
> 
> ??? tlmgr -help |more
> 
> one gets
> 
> ??? Terminating on signal SIGINT(2)
> 
> sitting there forever; another ctrl-C yields
> 
> ??? The process tried to write to a nonexistent pipe.
> ??? ^C^C
> 
> This happens with tl2022 (trial). Same behavior with tl2021.
> A "q" terminates tlmgr-help|more nicely. Shouldn't ctlr-C do the same?

Confirmed. The first ^C terminates perl and more.exe, but apparently
not the batchfile. But I do not off-hand know of a simple enough
remedy.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Wed Mar 16 20:50:26 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 16 Mar 2022 20:50:26 +0100
Subject: tlshell - "Remote rev. (ver.)" column (pretest)
In-Reply-To: <071cb63d-7bae-dcb9-3cbb-5f0cb9dad1a7@umk.pl>
References: <071cb63d-7bae-dcb9-3cbb-5f0cb9dad1a7@umk.pl>
Message-ID: <YjI/gmNWC6FO6kna@bitmuis.nl>

On Wed, Mar 16, 2022 at 07:38:18PM +0100, Jerzy Ludwichowski wrote:
> Hi,
> 
> tlshell after being started does not show available updates in the "Remote
> rev. (ver.)" column.
> The existence of that empty column just then might be misleading.
> Perhaps a remote lookup (tlmgr update -list) should be done upon tlshell's
> startup?

It has some value to be able to run tlshell even if no internet
is available. The interface already indicates that the repository is
not loaded.

-- 
Siep Kroonenberg

From bd at bdtechconcepts.com  Thu Mar 17 03:52:50 2022
From: bd at bdtechconcepts.com (Brian Dunn)
Date: Wed, 16 Mar 2022 21:52:50 -0500
Subject: ctanify and Perl recursive copy
Message-ID: <20220316215250.7677b85d@alpha>


TeXLive 2021 with the ctanify utility worked correctly with my older Linux
installation.

I recently updated my Linux installation, which started from scratch with a
minimal Linux package install.  Ctanify stopped working, saying
"Can't locate File/Copy/Recursive.pm"
which I fixed by installing the Linux package
"libfile-copy-recursive-perl".

Does TeXLive come with its own Perl, and is the 2021 version missing the
recursive file copy?


Brian

From norbert at preining.info  Thu Mar 17 04:29:59 2022
From: norbert at preining.info (Norbert Preining)
Date: Thu, 17 Mar 2022 12:29:59 +0900
Subject: ctanify and Perl recursive copy
In-Reply-To: <20220316215250.7677b85d@alpha>
References: <20220316215250.7677b85d@alpha>
Message-ID: <YjKrN8JJ6jCE90Y8@bulldog>

Hi

> Does TeXLive come with its own Perl, and is the 2021 version missing the
> recursive file copy?

No, TeX Live does NOT bring its own perl on Unix, only on Windows.
It is the user's responsability to provide a working perl, and necessary
modules for the programs one uses.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From siepo at bitmuis.nl  Thu Mar 17 15:36:24 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Thu, 17 Mar 2022 15:36:24 +0100
Subject: tlshell --help (pretest, Windows10)
In-Reply-To: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
References: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
Message-ID: <YjNHaLrh4jCUzB+F@bitmuis.nl>

On Wed, Mar 16, 2022 at 08:32:14PM +0100, Jerzy Ludwichowski wrote:
> Hi,
> 
> tlshell displays a small info window "Backend gone. Last command:" when run
> e.g., like
> 
> ??? tlshell -h
> 
> or
> 
> ??? tlshell --help
> 
> or even the Windows way
> 
> ??? tlshell \?
> 
> and goes away when the OK button is clicked in that window.
> 
> 
> On the other hand it accepts options like "--gui" and "--gui-lang NN", or
> both.

This will be fixed. In the meantime, help is available from within
tlshell.

-- 
Siep Kroonenberg

From borisv at lk.net  Thu Mar 17 20:42:54 2022
From: borisv at lk.net (Boris Veytsman)
Date: Thu, 17 Mar 2022 12:42:54 -0700
Subject: ctanify and Perl recursive copy
In-Reply-To: <YjKrN8JJ6jCE90Y8@bulldog> (message from Norbert Preining on Thu, 
 17 Mar 2022 12:29:59 +0900)
References: <20220316215250.7677b85d@alpha> <YjKrN8JJ6jCE90Y8@bulldog>
Message-ID: <202203171942.22HJgs0r002426@bilbo.localnet>

NP> Date: Thu, 17 Mar 2022 12:29:59 +0900
NP> From: Norbert Preining <norbert at preining.info>

NP> No, TeX Live does NOT bring its own perl on Unix, only on Windows.
NP> It is the user's responsability to provide a working perl, and necessary
NP> modules for the programs one uses.

\begin{nitpicking}
TL does provide many TeX-specific modules for Perl.
\end{nitpicking}


-- 
Good luck

-Boris

From zdenek.wagner at gmail.com  Thu Mar 17 20:58:08 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 17 Mar 2022 20:58:08 +0100
Subject: ctanify and Perl recursive copy
In-Reply-To: <202203171942.22HJgs0r002426@bilbo.localnet>
References: <20220316215250.7677b85d@alpha> <YjKrN8JJ6jCE90Y8@bulldog>
 <202203171942.22HJgs0r002426@bilbo.localnet>
Message-ID: <CAC1phyZmFE_Y4J95_EgJV6o7mcW=VYTJJ9fujUFV0JiD7iy7DA@mail.gmail.com>

?t 17. 3. 2022 v 20:43 odes?latel Boris Veytsman <borisv at lk.net> napsal:
>
> NP> Date: Thu, 17 Mar 2022 12:29:59 +0900
> NP> From: Norbert Preining <norbert at preining.info>
>
> NP> No, TeX Live does NOT bring its own perl on Unix, only on Windows.
> NP> It is the user's responsability to provide a working perl, and necessary
> NP> modules for the programs one uses.
>
> \begin{nitpicking}
> TL does provide many TeX-specific modules for Perl.
> \end{nitpicking}
>
It provides modules but not perl itself. You must have perl installed
with the basic modules, without it the modules are just useless.
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


> --
> Good luck
>
> -Boris


From jfine2358 at gmail.com  Thu Mar 17 21:32:58 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Thu, 17 Mar 2022 20:32:58 +0000
Subject: Accessibility and ease of use
Message-ID: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>

Hi

Jonathan Godfrey on the BlindMath list wrote: "My request to anyone
developing LaTeX to HTML solutions is to make it easy for all authors to
use their tools. Offer the authors the chance to make HTML and maybe
they'll choose to make HTML."

Jonathan is a domain expert. He's a blind senior lecturer in statistics. He
made this statement in response to a message from Brian Dunn, regarding the
various LaTeX to HTML tools available (including his own lwarp package).

On the tex-live list, Brian noted that a vanilla install followed by an
install of tex-live results in a missing Perl module error.

Again on the tex-live list Norbert Preining replied that on Unix "It is the
user's responsibility to provide a working perl, and necessary modules for
the programs one uses."

Requiring the manual installation of a Perl module is an obstruction to the
easy use of the LaTeX to HTML tools provided by Brian and others. The
domain expert Jonathan Godfrey recommends that we remove such obstructions.

I think discussion of this question is best held on the tex-live list.

with kind regards

Jonathan

Jonathan Godfrey:
http://nfbnet.org/pipermail/blindmath_nfbnet.org/2022-March/010273.html
Norbert Preining: https://tug.org/pipermail/tex-live/2022-March/047897.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220317/e3dceffd/attachment.html>

From zdenek.wagner at gmail.com  Thu Mar 17 21:47:08 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 17 Mar 2022 21:47:08 +0100
Subject: Accessibility and ease of use
In-Reply-To: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>
References: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>
Message-ID: <CAC1phyb018z2Lxi2DusGx1APxFMH9NzmTRLHQ3ckkmPGDOYovw@mail.gmail.com>

?t 17. 3. 2022 v 21:33 odes?latel Jonathan Fine <jfine2358 at gmail.com> napsal:
>
> Hi
>
> Jonathan Godfrey on the BlindMath list wrote: "My request to anyone developing LaTeX to HTML solutions is to make it easy for all authors to use their tools. Offer the authors the chance to make HTML and maybe they'll choose to make HTML."
>
> Jonathan is a domain expert. He's a blind senior lecturer in statistics. He made this statement in response to a message from Brian Dunn, regarding the various LaTeX to HTML tools available (including his own lwarp package).
>
> On the tex-live list, Brian noted that a vanilla install followed by an install of tex-live results in a missing Perl module error.
>
> Again on the tex-live list Norbert Preining replied that on Unix "It is the user's responsibility to provide a working perl, and necessary modules for the programs one uses."
>
> Requiring the manual installation of a Perl module is an obstruction to the easy use of the LaTeX to HTML tools provided by Brian and others. The domain expert Jonathan Godfrey recommends that we remove such obstructions.
>
It is not easy to install a perl module just anywhere. The perl module
is a part of a distro package and although the name of the module is
the same, the name of the package in Fedora differs from the name of
the package in Debian etc. In addition, TeX Live is assumed to be
installed as a normal (non-root) user but Linux distro packages
(including those with perl modules) must be done by root. Of course,
the modules can be installed in non-system directories but than they
will have to be copied manually (not as packages) and the user must
know how to set the PERL5INC environment variable. CPAN installation
works for simple modules but complex modules as PerlTk installed from
CPAN often do not work. The problem is that CPAN installs the latest
version but the user might have an older Linux distro with older perl
which is not compatible with the latest module on CPAN. Thus
installation of perl modules from Linux distro packages is often a
better idea.

> I think discussion of this question is best held on the tex-live list.
>
> with kind regards
>
> Jonathan
>
> Jonathan Godfrey: http://nfbnet.org/pipermail/blindmath_nfbnet.org/2022-March/010273.html
> Norbert Preining: https://tug.org/pipermail/tex-live/2022-March/047897.html
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


>
>
>
>
>


From karl at freefriends.org  Thu Mar 17 23:01:28 2022
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Mar 2022 16:01:28 -0600
Subject: TL22 timing
Message-ID: <202203172201.22HM1ST5001754@freefriends.org>

About this year's release, FYI: I'm planning to take the last updates
from CTAN next Monday, March 21, then do the final TL pretest builds
on Tuesday.

Then there will be a hiatus of a few days to all updates for both the
released TL21 and the pretest TL222, so Manfred can test the final
TeX Collection image. When he gives the ok, I will make the pretest be
the new release, hopefully by the end of March.

Good luck to us all,
Karl

From norbert at preining.info  Fri Mar 18 00:52:50 2022
From: norbert at preining.info (Norbert Preining)
Date: Fri, 18 Mar 2022 08:52:50 +0900
Subject: Accessibility and ease of use
In-Reply-To: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>
References: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>
Message-ID: <YjPJ0lmWzDZQrvVf@sakefilet.preining.info>

Hi Jonathan,

> On the tex-live list, Brian noted that a vanilla install followed by an
> install of tex-live results in a missing Perl module error.

I cannot relate this sentence to anything in real-life TeX Live.

First of all, what is "vanilla install"? Of what?
Especially when "followedby an isntall of tex-live"?

> Again on the tex-live list Norbert Preining replied that on Unix "It is the
> user's responsibility to provide a working perl, and necessary modules for
> the programs one uses."

Yes.

> Requiring the manual installation of a Perl module is an obstruction to the
> easy use of the LaTeX to HTML tools provided by Brian and others. The
> domain expert Jonathan Godfrey recommends that we remove such obstructions.

> Jonathan Godfrey:
> http://nfbnet.org/pipermail/blindmath_nfbnet.org/2022-March/010273.html

Could you point me to the part of the long post that states this?

We cannot and will not provide Perl installations (that is the perl
binary and all the modules in the standard Perl distribution) for all
supported operating systems.

And as Zdenek pointed out, installation of additional perl modules is
impossible the same way.

What we *DO* ship and make available are all necessary modules to run
the TeX Live manager and all TeX Live internal scripts (updmap, fmtutil,
...).

What we do *NOT* ship are all modules that might be necessary to run any
Perl program that is available in TeX Live. Most of them are available
in any standard Perl installation, some might not. But we cannot and
will not provide them.

Best regards

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From reinhard.kotucha at gmx.de  Fri Mar 18 01:47:37 2022
From: reinhard.kotucha at gmx.de (Reinhard Kotucha)
Date: Fri, 18 Mar 2022 01:47:37 +0100
Subject: tlmgr - Windows 10
In-Reply-To: <YjI9Q0sPRjzsDmS4@bitmuis.nl>
References: <59ccbfbd-3cfd-0dbd-6679-5f9a8c6a5504@umk.pl>
 <YjI9Q0sPRjzsDmS4@bitmuis.nl>
Message-ID: <25139.54953.235549.860376@gargle.gargle.HOWL>

On 2022-03-16 at 20:40:51 +0100, Siep Kroonenberg wrote:

 > On Wed, Mar 16, 2022 at 06:55:47PM +0100, Jerzy Ludwichowski wrote:
 > > Hi,
 > > 
 > > in response to ctrl-C after
 > > 
 > > ??? tlmgr -help |more
 > > 
 > > one gets
 > > 
 > > ??? Terminating on signal SIGINT(2)
 > > 
 > > sitting there forever; another ctrl-C yields
 > > 
 > > ??? The process tried to write to a nonexistent pipe.
 > > ??? ^C^C
 > > 
 > > This happens with tl2022 (trial). Same behavior with tl2021.
 > > A "q" terminates tlmgr-help|more nicely. Shouldn't ctlr-C do the same?
 > 
 > Confirmed. The first ^C terminates perl and more.exe, but apparently
 > not the batchfile. But I do not off-hand know of a simple enough
 > remedy.

I suppose that "Terminating on signal SIGINT(2)" comes from Perl and
not from Windows.  It seems that Windows doesn't support signals at
all and that Perl polls the keyboard occasionally instead in order to
emulate them.

That a "q" terminates tlmgr-help|more nicely is because the help
message is quite small and has already been piped completely to 'more'
when "q" is pressed.

Try a larger input file.  Execute

  ftype | more

and immediately thereafter press "q" and see what happens.

I have the impression that Perl tries to emulate signals on Windows.
This means that "signals" work only while Perl is running.

You can write a signal handler in Perl which removes a temporary file.
If my assumption is correct, unlike as on Unix, on Windows the file
will be removed when you kill the process with ^C while Perl is
running but not if the process aborts otherwise.

This is different from Unix where signals are supported at OS level.
Create a file with Emacs but don't save it.  Then send SIGSEGV to
to the process and Emacs will create a backup file before aborting.

I fear that there is not much what can be done to make Windows behave
like Unix if particular features are not supported at OS level.
Though Perl tries hard to emulate them, there are limits which can't
be exceeded.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at gmx.de
------------------------------------------------------------------


From komascript at gmx.info  Fri Mar 18 09:02:57 2022
From: komascript at gmx.info (Markus Kohm)
Date: Fri, 18 Mar 2022 09:02:57 +0100
Subject: Accessibility and ease of use
In-Reply-To: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>
References: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>
Message-ID: <6755524.X5jbMppas3@komascript.de>

Am Donnerstag, 17. M?rz 2022, 21:32:58 CET schrieb Jonathan Fine:
> Again on the tex-live list Norbert Preining replied that on Unix "It is the
> user's responsibility to provide a working perl, and necessary modules for
> the programs one uses."

And this is always correct for Linux. If a user does not use the package 
manager of the Linux distribution s:he is always responsible for the 
requirements. So users who have problems in resolving all requirements should 
use the package manager of the Linux distro. And yes, they should also know, 
that TeX Live for most Linux distros is not a single package and if they want 
the whole thing, they have to install the whole thing. And because of this 
some knowledge in using the package manager(s) of the linux distribution would 
help. But this is nothing special for TeX Live. It is usual for several 
applications. So it is something, Linux users should know generally. User who 
do not, will have problems sooner or later.

Just a note: Several Linux distros also provide alternative package managers 
for docker, flatpack, snap etc.  So there are even more alternatives than 
either using the native package manager of the linux distro (with the current 
release repository or even an experimental one) or using a kind of manual 
vanilla installation.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20220318/793928ed/attachment.sig>

From zdenek.wagner at gmail.com  Fri Mar 18 10:45:01 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 18 Mar 2022 10:45:01 +0100
Subject: Accessibility and ease of use
In-Reply-To: <6755524.X5jbMppas3@komascript.de>
References: <CALD=Yf86sYL_JN+-LZiLFY3z4VChZfRVN3bTuUpDptwN3Mqr4w@mail.gmail.com>
 <6755524.X5jbMppas3@komascript.de>
Message-ID: <CAC1phyZ-ic8A+NBDJZxJgRR9nL9sjYjEPZ2gYQYWgNmxasi1qA@mail.gmail.com>

Hi all,

maybe I forgot to write that it is even more difficult. I had a
running software and then I upgraded Fedora. After upgrade the SW
ceased to work. I found that the maintainers decided to put
Time::Local into a package which is not installed as default, I had to
install it. The same happened with some octave functions which were
moved to packages no longer installed as default. Fedora upgrades are
available twice a year which means that things may cease to work
within the life time of TL distro and installation of Fedora packages
can be needed. TL maintainers do not know tne names of the packages in
all distros. If you need a perl module, you can ask "apt-cache search"
in Debian based distros, "yum search" in CentOS, "dnf search" in
Fedora, I do not know other distros. The output is human readable but
not easily parseable.

The remedy would be not to use perl-based SW in TeX Live but rewrite
all scripts to lua which is supplied with TL. I know that it needs a
lot of time and (wo)man-power so it will not happen soon.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

p? 18. 3. 2022 v 9:03 odes?latel Markus Kohm <komascript at gmx.info> napsal:
>
> Am Donnerstag, 17. M?rz 2022, 21:32:58 CET schrieb Jonathan Fine:
> > Again on the tex-live list Norbert Preining replied that on Unix "It is the
> > user's responsibility to provide a working perl, and necessary modules for
> > the programs one uses."
>
> And this is always correct for Linux. If a user does not use the package
> manager of the Linux distribution s:he is always responsible for the
> requirements. So users who have problems in resolving all requirements should
> use the package manager of the Linux distro. And yes, they should also know,
> that TeX Live for most Linux distros is not a single package and if they want
> the whole thing, they have to install the whole thing. And because of this
> some knowledge in using the package manager(s) of the linux distribution would
> help. But this is nothing special for TeX Live. It is usual for several
> applications. So it is something, Linux users should know generally. User who
> do not, will have problems sooner or later.
>
> Just a note: Several Linux distros also provide alternative package managers
> for docker, flatpack, snap etc.  So there are even more alternatives than
> either using the native package manager of the linux distro (with the current
> release repository or even an experimental one) or using a kind of manual
> vanilla installation.
>
> Markus


From xnhanhuynhx at gmail.com  Fri Mar 18 14:49:58 2022
From: xnhanhuynhx at gmail.com (Nhan Huynh)
Date: Fri, 18 Mar 2022 14:49:58 +0100
Subject: TeX Live in Windows Package Manager - Winget
Message-ID: <CAKf1sKbHYc-cjE1Yrx=JL8aNa278nLu2eF8__1SV4YVDZMjWaw@mail.gmail.com>

Is it possible to integrate TeX Live in the Windows Package Manager?

https://github.com/microsoft/winget-pkgs

Kind regards
Nhan Huynh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220318/3418e622/attachment.html>

From siepo at bitmuis.nl  Fri Mar 18 22:48:02 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Fri, 18 Mar 2022 22:48:02 +0100
Subject: tlshell --help (pretest, Windows10)
In-Reply-To: <YjNHaLrh4jCUzB+F@bitmuis.nl>
References: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
 <YjNHaLrh4jCUzB+F@bitmuis.nl>
Message-ID: <YjT+EnKqUwconxfS@bitmuis.nl>

On Thu, Mar 17, 2022 at 03:36:24PM +0100, Siep Kroonenberg wrote:
> On Wed, Mar 16, 2022 at 08:32:14PM +0100, Jerzy Ludwichowski wrote:
> > Hi,
> > 
> > tlshell displays a small info window "Backend gone. Last command:" when run
> > e.g., like
> > 
> > ??? tlshell -h
> > 
> > or
> > 
> > ??? tlshell --help
> > 
> > or even the Windows way
> > 
> > ??? tlshell \?
> > 
> > and goes away when the OK button is clicked in that window.
> > 
> > 
> > On the other hand it accepts options like "--gui" and "--gui-lang NN", or
> > both.

r62795: now pops up a messagebox which points to the built-in help.

-- 
Siep Kroonenberg

From Jerzy.Ludwichowski at umk.pl  Sat Mar 19 02:05:10 2022
From: Jerzy.Ludwichowski at umk.pl (Jerzy Ludwichowski)
Date: Sat, 19 Mar 2022 02:05:10 +0100
Subject: tlshell --help (pretest, Windows10)
In-Reply-To: <YjT+EnKqUwconxfS@bitmuis.nl>
References: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
 <YjNHaLrh4jCUzB+F@bitmuis.nl> <YjT+EnKqUwconxfS@bitmuis.nl>
Message-ID: <f9666ff4-21c8-9dec-5501-3819d7ddd40c@umk.pl>

,Hi Siep

W dniu 18.03.2022 o?22:48, Siep Kroonenberg pisze:
> On Thu, Mar 17, 2022 at 03:36:24PM +0100, Siep Kroonenberg wrote:
>> On Wed, Mar 16, 2022 at 08:32:14PM +0100, Jerzy Ludwichowski wrote:
>>> Hi,
>>>
>>> tlshell displays a small info window "Backend gone. Last command:" when run
>>> e.g., like
>>>
>>>  ??? tlshell -h
>>>
>>> or
>>>
>>>  ??? tlshell --help
>>>
>>> or even the Windows way
>>>
>>>  ??? tlshell \?
>>>
>>> and goes away when the OK button is clicked in that window.
>>>
>>>
>>> On the other hand it accepts options like "--gui" and "--gui-lang NN", or
>>> both.
> r62795: now pops up a messagebox which points to the built-in help.
>

can't confirm yet, 'cos on my way to do so I stumbled upon a problem 
which I seem to have seen reported elsewhere.

Events shown below happen in tl2022 pretest, windows 10, command line in 
the same CLI instance where a clean & happy full installation was made.

To get the new tlshell I asked

 ??? tlmgr update --list

and it replied that indeed, amongst other changes, a new version of 
tlshell is available:

> update:?? tlshell.win32???? [2707k]: local:??? 62700, source:??? 62728

So I did:

> tlmgr update --all

and got a smooth update ride until:

> [35/36, 01:59/02:03] update: tlshell.win32 [2707k] (62700 -> 62728) 
> ... tar: Could not create file tlpkg/tltcl/bin/tcl86.dll: Permission 
> denied
> tar: Could not create file tlpkg/tltcl/bin/tk86.dll: Permission denied
> tar: Could not create file tlpkg/tltcl/bin/wish.exe: Permission denied
> tar: Could not create file tlpkg/tltcl/bin/zlib1.dll: Permission denied
> tar: Could not create file tlpkg/tltcl/lib/reg1.3/tclreg13.dll: 
> Permission denied
> TLUtils::untar: C:\texlive\2022\tlpkg\installer\tar.exe xmf 
> C:\Users\jbl1\AppData\Local\Temp\RnwnCqz4dC\n1w00pELkw/tlshell.win32.tar 
> failed (in C:/texlive/2022)
> TLPDB::_install_data: untar failed for 
> http://ftp.cstug.cz/pub/tex/local/tlpretest/archive/tlshell.win32.tar.xz
> tlmgr.pl: Installation of new version of tlshell.win32 failed, trying 
> to unwind.
> tlmgr.pl: Restoring old package state succeeded.
> done

... the smooth ride continued with formats being recreated until the 
final messages

> tlmgr.pl: package log updated: C:/texlive/2022/texmf-var/web2c/tlmgr.log
> tlmgr.pl: command log updated: 
> C:/texlive/2022/texmf-var/web2c/tlmgr-commands.log
> tlmgr.pl: An error has occurred. See above messages. Exiting.

Permission denied -- what the heck???

To cut the story short: I seem to have found the culprit.? The parental 
install-tl-20220315 folder and each and every its subfolder, including? 
tlpkg (please note the name of? folder pointed to by the error msgs) and 
its subfolders into which tar tried to put tlshell in is being reported 
by Windows as allowing *only **read access* to xontained files. No 
individual files do have a read-only attribute set. A simple

 ??? dir /s /ar

command won't tell you anything, you have to employ the windows explorer.

There is no dependence? on the unpacker: I've unpacked install-tl.zip 
both with the 7-Zip and native windows unpacker -- same result.

Questions:

 1. How should? install-tl.zip be constructed?
 2. How do I get tlmgr to install tlshell after having fixed the
    permissions manually? In reply to update --list all it tells me:

> tlmgr.pl: package repository 
> http://ftp.cstug.cz/pub/tex/local/tlpretest (not verified: gpg 
> unavailable)
> tlmgr.pl: would save backups to C:/texlive/2022/tlpkg/backups
> tlmgr.pl: no updates available

Best,
-- Jerzy Ludwichowski











From siepo at bitmuis.nl  Sat Mar 19 10:47:52 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sat, 19 Mar 2022 10:47:52 +0100
Subject: tlshell --help (pretest, Windows10)
In-Reply-To: <f9666ff4-21c8-9dec-5501-3819d7ddd40c@umk.pl>
References: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
 <YjNHaLrh4jCUzB+F@bitmuis.nl> <YjT+EnKqUwconxfS@bitmuis.nl>
 <f9666ff4-21c8-9dec-5501-3819d7ddd40c@umk.pl>
Message-ID: <YjWmyOZ9o95VZxTM@bitmuis.nl>

On Sat, Mar 19, 2022 at 02:05:10AM +0100, Jerzy Ludwichowski wrote:
> 
> can't confirm yet, 'cos on my way to do so I stumbled upon a problem which I
> seem to have seen reported elsewhere.
> 
> Events shown below happen in tl2022 pretest, windows 10, command line in the
> same CLI instance where a clean & happy full installation was made.
> 
> To get the new tlshell I asked
> 
> ??? tlmgr update --list
> 
> and it replied that indeed, amongst other changes, a new version of tlshell
> is available:
> 
> > update:?? tlshell.win32???? [2707k]: local:??? 62700, source:??? 62728
> 
> So I did:
> 
> > tlmgr update --all
> 
> and got a smooth update ride until:
> 
> > [35/36, 01:59/02:03] update: tlshell.win32 [2707k] (62700 -> 62728) ...
> > tar: Could not create file tlpkg/tltcl/bin/tcl86.dll: Permission denied
> > tar: Could not create file tlpkg/tltcl/bin/tk86.dll: Permission denied
> > tar: Could not create file tlpkg/tltcl/bin/wish.exe: Permission denied
> > tar: Could not create file tlpkg/tltcl/bin/zlib1.dll: Permission denied
> > tar: Could not create file tlpkg/tltcl/lib/reg1.3/tclreg13.dll:
> > Permission denied
> > TLUtils::untar: C:\texlive\2022\tlpkg\installer\tar.exe xmf
> > C:\Users\jbl1\AppData\Local\Temp\RnwnCqz4dC\n1w00pELkw/tlshell.win32.tar
> > failed (in C:/texlive/2022)
> > TLPDB::_install_data: untar failed for
> > http://ftp.cstug.cz/pub/tex/local/tlpretest/archive/tlshell.win32.tar.xz
> > tlmgr.pl: Installation of new version of tlshell.win32 failed, trying to
> > unwind.
> > tlmgr.pl: Restoring old package state succeeded.
> > done
> 
> ... the smooth ride continued with formats being recreated until the final
> messages
> 
> > tlmgr.pl: package log updated: C:/texlive/2022/texmf-var/web2c/tlmgr.log
> > tlmgr.pl: command log updated:
> > C:/texlive/2022/texmf-var/web2c/tlmgr-commands.log
> > tlmgr.pl: An error has occurred. See above messages. Exiting.
> 
> Permission denied -- what the heck???

Windows' error messages are sometimes misleading.

> To cut the story short: I seem to have found the culprit.? The parental
> install-tl-20220315 folder and each and every its subfolder, including?
> tlpkg (please note the name of? folder pointed to by the error msgs) and its
> subfolders into which tar tried to put tlshell in is being reported by
> Windows as allowing *only **read access* to xontained files. No individual
> files do have a read-only attribute set. A simple
> 
> ??? dir /s /ar
> 
> command won't tell you anything, you have to employ the windows explorer.

Clicking on any folder under C:\texlive gives me 'Read-only (Only
applies to files in folder)'. But going to the Security tab, I see
permissions set to the expected values for files and folders. So
this looks like a red herring.

I would not just yet exclude a corrupt download.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Sat Mar 19 12:12:33 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sat, 19 Mar 2022 12:12:33 +0100
Subject: tlshell --help (pretest, Windows10)
In-Reply-To: <YjWmyOZ9o95VZxTM@bitmuis.nl>
References: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
 <YjNHaLrh4jCUzB+F@bitmuis.nl> <YjT+EnKqUwconxfS@bitmuis.nl>
 <f9666ff4-21c8-9dec-5501-3819d7ddd40c@umk.pl>
 <YjWmyOZ9o95VZxTM@bitmuis.nl>
Message-ID: <YjW6oVw0cIL3Xa6O@bitmuis.nl>

On Sat, Mar 19, 2022 at 10:47:52AM +0100, Siep Kroonenberg wrote:
> On Sat, Mar 19, 2022 at 02:05:10AM +0100, Jerzy Ludwichowski wrote:
> > 
> > can't confirm yet, 'cos on my way to do so I stumbled upon a problem which I
> > seem to have seen reported elsewhere.
> > 
> > Events shown below happen in tl2022 pretest, windows 10, command line in the
> > same CLI instance where a clean & happy full installation was made.
> > 
> > To get the new tlshell I asked
> > 
> > ??? tlmgr update --list
> > 
> > and it replied that indeed, amongst other changes, a new version of tlshell
> > is available:
> > 
> > > update:?? tlshell.win32???? [2707k]: local:??? 62700, source:??? 62728
> > 
> > So I did:
> > 
> > > tlmgr update --all
> > 
> > and got a smooth update ride until:
> > 
> > > [35/36, 01:59/02:03] update: tlshell.win32 [2707k] (62700 -> 62728) ...
> > > tar: Could not create file tlpkg/tltcl/bin/tcl86.dll: Permission denied
> > > tar: Could not create file tlpkg/tltcl/bin/tk86.dll: Permission denied
> > > tar: Could not create file tlpkg/tltcl/bin/wish.exe: Permission denied
> > > tar: Could not create file tlpkg/tltcl/bin/zlib1.dll: Permission denied
> > > tar: Could not create file tlpkg/tltcl/lib/reg1.3/tclreg13.dll:
> > > Permission denied
> > > TLUtils::untar: C:\texlive\2022\tlpkg\installer\tar.exe xmf
> > > C:\Users\jbl1\AppData\Local\Temp\RnwnCqz4dC\n1w00pELkw/tlshell.win32.tar
> > > failed (in C:/texlive/2022)
> > > TLPDB::_install_data: untar failed for
> > > http://ftp.cstug.cz/pub/tex/local/tlpretest/archive/tlshell.win32.tar.xz
> > > tlmgr.pl: Installation of new version of tlshell.win32 failed, trying to
> > > unwind.
> > > tlmgr.pl: Restoring old package state succeeded.
> > > done

Was by any chance still a copy of tlshell/wish/install-tl active or
present inTask Manager?

-- 
Siep Kroonenberg

From gustaf.borgstrom at koltrast.se  Sat Mar 19 21:00:20 2022
From: gustaf.borgstrom at koltrast.se (=?UTF-8?Q?Gustaf_Borgstr=C3=B6m?=)
Date: Sat, 19 Mar 2022 21:00:20 +0100
Subject: GPG error when downloading
Message-ID: <CAJPCqSQm-SSSf7Z4NUWz_MMi7bGLT3tibNUVMV4M+Q6zWerbXA@mail.gmail.com>

Hello,

I get the following error when running the install-tl script. Hope to see a
fix soon. :-) Thank you.

gpg: Signature made 2022-03-19 03:31:50 +0100 CET
gpg:                using RSA key 4CE1877E19438C70
gpg: BAD signature from "TeX Live Distribution <tex-live at tug.org>"
[ultimate]

Please try from a different mirror and/or wait a few minutes
and try again; usually this is because of transient updates.
If problems persist, feel free to report to texlive at tug.org.

/Gustaf
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220319/66288d6b/attachment-0001.html>

From alexis.maka at ipea.gov.br  Sat Mar 19 21:01:42 2022
From: alexis.maka at ipea.gov.br (Alexis Maka)
Date: Sat, 19 Mar 2022 20:01:42 +0000
Subject: TeX Live Installation failed at the very end
Message-ID: <1647719980537.60422@ipea.gov.br>

Hello.


I am trying, unsuccessfuly, to install TeXlive in my computer.


Running "install-tl-windows.exe" failed, so I used the unpacked downloaded zip ?le, double-click install-tl-windows.bat.


It was working until the very end. I am attaching the installation log file.


Any help would be greatly appreciated.


Best,


Alexis Maka


?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220319/f8e94604/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: install-tl.log
Type: application/octet-stream
Size: 332039 bytes
Desc: install-tl.log
URL: <https://tug.org/pipermail/tex-live/attachments/20220319/f8e94604/attachment-0001.obj>

From gustaf.borgstrom at koltrast.se  Sat Mar 19 21:04:57 2022
From: gustaf.borgstrom at koltrast.se (=?UTF-8?Q?Gustaf_Borgstr=C3=B6m?=)
Date: Sat, 19 Mar 2022 21:04:57 +0100
Subject: GPG error when downloading
In-Reply-To: <CAJPCqSQm-SSSf7Z4NUWz_MMi7bGLT3tibNUVMV4M+Q6zWerbXA@mail.gmail.com>
References: <CAJPCqSQm-SSSf7Z4NUWz_MMi7bGLT3tibNUVMV4M+Q6zWerbXA@mail.gmail.com>
Message-ID: <CAJPCqSTBVbgLjU91CaxnVAGPSLfC4d9gQXqsMNRuEzC-+wbvdg@mail.gmail.com>

Nevermind, must have been unlucky and hit a temporary hickup, started to
work fine soon after sending. Thanks anyway!

/Gustaf

On Sat, Mar 19, 2022, 21:00 Gustaf Borgstr?m <gustaf.borgstrom at koltrast.se>
wrote:

> Hello,
>
> I get the following error when running the install-tl script. Hope to see
> a fix soon. :-) Thank you.
>
> gpg: Signature made 2022-03-19 03:31:50 +0100 CET
> gpg:                using RSA key 4CE1877E19438C70
> gpg: BAD signature from "TeX Live Distribution <tex-live at tug.org>"
> [ultimate]
>
> Please try from a different mirror and/or wait a few minutes
> and try again; usually this is because of transient updates.
> If problems persist, feel free to report to texlive at tug.org.
>
> /Gustaf
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220319/2b41d789/attachment.html>

From Jerzy.Ludwichowski at umk.pl  Sat Mar 19 21:21:23 2022
From: Jerzy.Ludwichowski at umk.pl (Jerzy Ludwichowski)
Date: Sat, 19 Mar 2022 21:21:23 +0100
Subject: tlshell --help (pretest, Windows10)
In-Reply-To: <YjWmyOZ9o95VZxTM@bitmuis.nl>
References: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
 <YjNHaLrh4jCUzB+F@bitmuis.nl> <YjT+EnKqUwconxfS@bitmuis.nl>
 <f9666ff4-21c8-9dec-5501-3819d7ddd40c@umk.pl> <YjWmyOZ9o95VZxTM@bitmuis.nl>
Message-ID: <9ace7f5b-7e5f-9340-16e2-1342971d6ab1@umk.pl>


> Clicking on any folder under C:\texlive gives me 'Read-only (Only
> applies to files in folder)'. But going to the Security tab, I see
> permissions set to the expected values for files and folders. So
> this looks like a red herring.

A later, today's, retry at update --all did it's job by updating
some packages and tlshell.

So yes,

> I would not just yet exclude a corrupt download.

you were right spotting a red herring with the culprit being a corrupt 
download.

And, of course, your patch is in place. Many thanks!

-- Jerzy Ludwichowski

From Jerzy.Ludwichowski at umk.pl  Sat Mar 19 21:23:42 2022
From: Jerzy.Ludwichowski at umk.pl (Jerzy Ludwichowski)
Date: Sat, 19 Mar 2022 21:23:42 +0100
Subject: tlshell --help (pretest, Windows10)
In-Reply-To: <YjW6oVw0cIL3Xa6O@bitmuis.nl>
References: <fb231cb9-6b7a-dcdb-a942-9a34ffee6813@umk.pl>
 <YjNHaLrh4jCUzB+F@bitmuis.nl> <YjT+EnKqUwconxfS@bitmuis.nl>
 <f9666ff4-21c8-9dec-5501-3819d7ddd40c@umk.pl> <YjWmyOZ9o95VZxTM@bitmuis.nl>
 <YjW6oVw0cIL3Xa6O@bitmuis.nl>
Message-ID: <f5fdf247-f92a-290d-0239-9e033db89745@umk.pl>


> Was by any chance still a copy of tlshell/wish/install-tl active or
> present inTask Manager?

No, there wasn't.

-- Jerzy Ludwichowski



From P.Taylor at Rhul.Ac.Uk  Sat Mar 19 22:27:10 2022
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (Royal Holloway))
Date: Sat, 19 Mar 2022 21:27:10 +0000
Subject: [EXT] TeX Live Installation failed at the very end
In-Reply-To: <1647719980537.60422@ipea.gov.br>
References: <1647719980537.60422@ipea.gov.br>
Message-ID: <424eadcc-2da6-c551-d521-ac17a5945bdd@Rhul.Ac.Uk>

On 19/03/2022 20:01, Alexis Maka wrote:

Hello.


I am trying, unsuccessfuly, to install TeXlive in my computer.


Running "install-tl-windows.exe" failed, so I used the unpacked downloaded zip ?le, double-click install-tl-windows.bat.


It was working until the very end. I am attaching the installation log file.


Analogous problem reported 28/02/2022, 10:44; zero response received.  Earlier report appended.


Philip Taylor

--------

On 27/02/2022 02:46, Karl Berry wrote:

Hi everyone.  I think the pretest area is populated with the first build
for TL 2022. See https://tug.org/texlive/pretest.html as usual for
details of how to install (unchanged from previous years)

[...]

Hope it flies

Crashed and burned here :

Installing [4313/4313, time/total: 07:29:49/07:31:04]: zztex [147k]
Retrying to install: spectralsequences [1837k]
TeXLive::TLUtils::check_file_and_remove: checksums differ for C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz:
TeXLive::TLUtils::check_file_and_remove:   tlchecksum=217ab3a1d3823397947f2b3f449591c5d173f1a2a0e39be553cb6c0ae4f6b36bb41ccd6ba237f643123889a85ddc991145d4911ae7e8b6e5660a388ca4bb684b, arg=81bcfce4596232df7ace0a502ff845ae829bbc8855144b3cce3c6707e1040341063a6bee3b92f88029d3c96e7d440fc5a546a4b36a2851ee26fad43fd5fe6ceb
TeXLive::TLUtils::check_file_and_remove: backtrace:
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLUtils.pm:2448: TeXLive::TLUtils::check_file_and_remove
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLPDB.pm:1983: TeXLive::TLUtils::unpack
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLPDB.pm:1818: TeXLive::TLPDB::_install_data
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLPDB.pm:1734: TeXLive::TLPDB::not_virtual_install_package
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLUtils.pm:1677: TeXLive::TLPDB::install_package
 -> C:/TeX/Live/2022/Pre-test/install-tl:2170: TeXLive::TLUtils::install_packages
 -> C:/TeX/Live/2022/Pre-test/install-tl:976: main::do_install_packages
 -> C:/TeX/Live/2022/Pre-test/install-tl:709: main::do_installation
TeXLive::TLUtils::check_file_and_remove:   removing C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz, but saving copy in C:\Users\PHILIP~1\AppData\Local\Temp\csOK_gsvQ6
TLPDB::_install_data: downloading did not succeed (check_file_and_remove failed) for ftp://ftp.math.utah.edu/pub/tlpretest/archive/spectralsequences.tar.xz
Installation failed.
Rerunning the installer will try to restart the installation.
Or you can restart by running the installer with:
  install-tl-windows.bat --repository ftp://ftp.math.utah.edu/pub/tlpretest --profile installation.profile [YOUR-EXTRA-ARGS]
C:/TeX/Live/2022/Pre-test/install-tl: Writing log in current directory: C:/TeX/Live/2022/Pre-test/install-tl.log

If I "Re-run the installer [to] try to restart the installation", will it re-try just the failed part or will it need to download all 4313 packages again ?

--
Philip Taylor


This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220319/63b25e89/attachment.html>

From alexis.maka at ipea.gov.br  Sat Mar 19 23:31:44 2022
From: alexis.maka at ipea.gov.br (Alexis Maka)
Date: Sat, 19 Mar 2022 22:31:44 +0000
Subject: [EXT] TeX Live Installation failed at the very end
In-Reply-To: <424eadcc-2da6-c551-d521-ac17a5945bdd@Rhul.Ac.Uk>
References: <1647719980537.60422@ipea.gov.br>,
 <424eadcc-2da6-c551-d521-ac17a5945bdd@Rhul.Ac.Uk>
Message-ID: <1647729102961.21059@ipea.gov.br>

?Thank you.


________________________________
De: Philip Taylor (Royal Holloway) <P.Taylor at Rhul.Ac.Uk>
Enviado: s?bado, 19 de mar?o de 2022 18:27
Para: Alexis Maka; tex-live at tug.org
Assunto: Re: [EXT] TeX Live Installation failed at the very end

On 19/03/2022 20:01, Alexis Maka wrote:

Hello.


I am trying, unsuccessfuly, to install TeXlive in my computer.


Running "install-tl-windows.exe" failed, so I used the unpacked downloaded zip ?le, double-click install-tl-windows.bat.


It was working until the very end. I am attaching the installation log file.


Analogous problem reported 28/02/2022, 10:44; zero response received.  Earlier report appended.


Philip Taylor

--------

On 27/02/2022 02:46, Karl Berry wrote:

Hi everyone.  I think the pretest area is populated with the first build
for TL 2022. See https://tug.org/texlive/pretest.html as usual for
details of how to install (unchanged from previous years)

[...]

Hope it flies

Crashed and burned here :

Installing [4313/4313, time/total: 07:29:49/07:31:04]: zztex [147k]
Retrying to install: spectralsequences [1837k]
TeXLive::TLUtils::check_file_and_remove: checksums differ for C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz:
TeXLive::TLUtils::check_file_and_remove:   tlchecksum=217ab3a1d3823397947f2b3f449591c5d173f1a2a0e39be553cb6c0ae4f6b36bb41ccd6ba237f643123889a85ddc991145d4911ae7e8b6e5660a388ca4bb684b, arg=81bcfce4596232df7ace0a502ff845ae829bbc8855144b3cce3c6707e1040341063a6bee3b92f88029d3c96e7d440fc5a546a4b36a2851ee26fad43fd5fe6ceb
TeXLive::TLUtils::check_file_and_remove: backtrace:
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLUtils.pm:2448: TeXLive::TLUtils::check_file_and_remove
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLPDB.pm:1983: TeXLive::TLUtils::unpack
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLPDB.pm:1818: TeXLive::TLPDB::_install_data
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLPDB.pm:1734: TeXLive::TLPDB::not_virtual_install_package
 -> C:/TeX/Live/2022/Pre-test/tlpkg/TeXLive/TLUtils.pm:1677: TeXLive::TLPDB::install_package
 -> C:/TeX/Live/2022/Pre-test/install-tl:2170: TeXLive::TLUtils::install_packages
 -> C:/TeX/Live/2022/Pre-test/install-tl:976: main::do_install_packages
 -> C:/TeX/Live/2022/Pre-test/install-tl:709: main::do_installation
TeXLive::TLUtils::check_file_and_remove:   removing C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz, but saving copy in C:\Users\PHILIP~1\AppData\Local\Temp\csOK_gsvQ6
TLPDB::_install_data: downloading did not succeed (check_file_and_remove failed) for ftp://ftp.math.utah.edu/pub/tlpretest/archive/spectralsequences.tar.xz
Installation failed.
Rerunning the installer will try to restart the installation.
Or you can restart by running the installer with:
  install-tl-windows.bat --repository ftp://ftp.math.utah.edu/pub/tlpretest --profile installation.profile [YOUR-EXTRA-ARGS]
C:/TeX/Live/2022/Pre-test/install-tl: Writing log in current directory: C:/TeX/Live/2022/Pre-test/install-tl.log

If I "Re-run the installer [to] try to restart the installation", will it re-try just the failed part or will it need to download all 4313 packages again ?

--
Philip Taylor


This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220319/c6fe0aea/attachment-0001.html>

From norbert at preining.info  Sun Mar 20 06:19:33 2022
From: norbert at preining.info (Norbert Preining)
Date: Sun, 20 Mar 2022 14:19:33 +0900
Subject: TeX Live Installation failed at the very end
In-Reply-To: <1647719980537.60422@ipea.gov.br>
References: <1647719980537.60422@ipea.gov.br>
Message-ID: <Yja5ZcQEhVXq1NxM@bulldog>

On Sat, 19 Mar 2022, Alexis Maka wrote:
> I am trying, unsuccessfuly, to install TeXlive in my computer.

I suggest
- installing scheme-minimal instead of scheme-full
- after the installation finished, run
	tlmgr install scheme-full

Another option is trying the TeX Live 2022 installer which should ignore
errors like this..

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Sun Mar 20 06:20:56 2022
From: norbert at preining.info (Norbert Preining)
Date: Sun, 20 Mar 2022 14:20:56 +0900
Subject: [EXT] TeX Live Installation failed at the very end
In-Reply-To: <424eadcc-2da6-c551-d521-ac17a5945bdd@Rhul.Ac.Uk>
References: <1647719980537.60422@ipea.gov.br>
 <424eadcc-2da6-c551-d521-ac17a5945bdd@Rhul.Ac.Uk>
Message-ID: <Yja5uBKLlOMFZsVC@bulldog>

Hi Phil,

> Analogous problem reported 28/02/2022, 10:44; zero response received.  Earlier report appended.

Yes, because it is Windows, connection problems are impossible to debug
over the line, and above all not reproducible.

Feel free to throw your own infinite expertise into the ring and try to
solve the problems, that would be *greatly* appreciated.

Enjoy

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Sun Mar 20 11:40:48 2022
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (Royal Holloway))
Date: Sun, 20 Mar 2022 10:40:48 +0000
Subject: [EXT] TeX Live Installation failed at the very end
In-Reply-To: <Yja5uBKLlOMFZsVC@bulldog>
References: <1647719980537.60422@ipea.gov.br>
 <424eadcc-2da6-c551-d521-ac17a5945bdd@Rhul.Ac.Uk> <Yja5uBKLlOMFZsVC@bulldog>
Message-ID: <6b915e41-f0c7-550a-11c8-247fef1ce816@Rhul.Ac.Uk>

On 20/03/2022 05:20, Norbert Preining wrote:

Hi Phil,



Analogous problem reported 28/02/2022, 10:44; zero response received.  Earlier report appended.



Yes, because it is Windows, connection problems are impossible to debug
over the line, and above all not reproducible.

Please explain "because it is Windows".   What, architecturally speaking, makes Windows "connection problems impossible to debug over the line", what operating system(s) do allow one to successfully "debug connection problems over the line", and what is the architectural difference between the two ?

Feel free to throw your own infinite expertise into the ring and try to
solve the problems, that would be *greatly* appreciated.

At this point :

[1] TeXLive::TLUtils::check_file_and_remove:   removing C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz, but saving copy in C:\Users\PHILIP~1\AppData\Local\Temp\csOK_gsvQ6
[2] TLPDB::_install_data: downloading did not succeed (check_file_and_remove failed) for ftp://ftp.math.utah.edu/pub/tlpretest/archive/spectralsequences.tar.xz
Installation failed.
the diagnostics are confusing; line 1 says that it is attempting to remove C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz but saving a copy in C:\Users\PHILIP~1\AppData\Local\Temp\csOK_gsvQ6, whilst line 2 says that "downloading did not succeed" and goes on to say that "check_file_and_remove failed".  The transcript makes no mention as to what error(s) occurred during the attempt to "check_file_and_remove" ? are these errors logged, and if so, where ?  And since "check_file_and_remove" would appear to be operating solely on local files, where do "connection problems" come into the matter ?

Finally I repeat my original question: "If I "Re-run the installer [to] try to restart the installation", will it re-try just the failed part or will it need to download all 4313 packages again ?"

--
** Phil.

This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220320/f268f611/attachment.html>

From news3 at nililand.de  Sun Mar 20 13:03:59 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 20 Mar 2022 13:03:59 +0100
Subject: TeX Live Installation failed at the very end
References: <1647719980537.60422@ipea.gov.br>
Message-ID: <jp9ewmedvn3b.dlg@nililand.de>

Am Sat, 19 Mar 2022 20:01:42 +0000 schrieb Alexis Maka:

> It was working until the very end. I am attaching the installation log file.

I wouldn't take a failure to install one package to seriously, I
often have some missing packages after an installation because the
PC did go sleeping or the connection had a failure. You can always
install missing packages later. 

Before restarting everything, check if the tex system work, check
the path variable and perhaps call the tools updmap-sys, mktexlsr
and fmtutil-sys.


-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From jhielscher at posteo.de  Sun Mar 20 14:47:42 2022
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sun, 20 Mar 2022 13:47:42 +0000
Subject: [EXT] TeX Live Installation failed at the very end
In-Reply-To: <6b915e41-f0c7-550a-11c8-247fef1ce816@Rhul.Ac.Uk>
References: <1647719980537.60422@ipea.gov.br>
 <424eadcc-2da6-c551-d521-ac17a5945bdd@Rhul.Ac.Uk>
 <Yja5uBKLlOMFZsVC@bulldog>
 <6b915e41-f0c7-550a-11c8-247fef1ce816@Rhul.Ac.Uk>
Message-ID: <20220320144742.59951d94@capsicvm>

Am Sun, 20 Mar 2022 10:40:48 +0000
schrieb "Philip Taylor (Royal Holloway)" <P.Taylor at Rhul.Ac.Uk>:

> On 20/03/2022 05:20, Norbert Preining wrote:
> 
> Hi Phil,
> 
> 
> 
> Analogous problem reported 28/02/2022, 10:44; zero response
> received.  Earlier report appended.
> 
> 
> 
> Yes, because it is Windows, connection problems are impossible to
> debug over the line, and above all not reproducible.
> 
> Please explain "because it is Windows".   What, architecturally
> speaking, makes Windows "connection problems impossible to debug over
> the line", what operating system(s) do allow one to successfully
> "debug connection problems over the line", and what is the
> architectural difference between the two ?
> 
> Feel free to throw your own infinite expertise into the ring and try
> to solve the problems, that would be *greatly* appreciated.
> 
> At this point :
> 
> [1] TeXLive::TLUtils::check_file_and_remove:   removing
> C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz,
> but saving copy in C:\Users\PHILIP~1\AppData\Local\Temp\csOK_gsvQ6
> [2] TLPDB::_install_data: downloading did not succeed
> (check_file_and_remove failed) for
> ftp://ftp.math.utah.edu/pub/tlpretest/archive/spectralsequences.tar.xz
> Installation failed. the diagnostics are confusing; line 1 says that
> it is attempting to remove
> C:\Users\PHILIP~1\AppData\Local\Temp\RPAddWJRpP\nKUKULiiZu/spectralsequences.tar.xz
> but saving a copy in C:\Users\PHILIP~1\AppData\Local\Temp\csOK_gsvQ6,
> whilst line 2 says that "downloading did not succeed" and goes on to
> say that "check_file_and_remove failed".  The transcript makes no
> mention as to what error(s) occurred during the attempt to
> "check_file_and_remove" ? are these errors logged, and if so,
> where ?  And since "check_file_and_remove" would appear to be
> operating solely on local files, where do "connection problems" come
> into the matter ?
> 
> Finally I repeat my original question: "If I "Re-run the installer
> [to] try to restart the installation", will it re-try just the failed
> part or will it need to download all 4313 packages again ?"

There are several ways to find out. You could have a look into the
sources and their inline documentation [0], and figure out what is
supposed to happen. You could also just try it.

Chances are, even if someone in your situation retries the installation
(by themselves, or tlmgr's internal logic), things will randomly break
again for the same rogue reasons why they have broken before, i. e.
simple re?teration would just increment your frustration, without
gaining any more knowledge about the actual cause of the unpleasant
behaviour.
As long as nobody understands (and has a good fix for) the download/
installation failure of unsuspicious packages, is there a point of just
hoping that things sort out by themselves?

Have you considered Norbert's suggestion to go the Divide&Conquer route
(installing scheme-minimal and then grow the installation step by
step)?
This is a good way to obtain a usable TL installation in an unreliable
environment, for pretesting TeX & friends (the ?payload? of TL).
It is a very respectable motivation to also assist in the improvement of
tlmgr/install-tl infrastructure, yet this is a distinct topic.
Contributions are very welcome to improve this situation. There has
been no thorough discussion what behaviour and output verbosity to
expect, and in my impression it hasn't yet become obvious how much
tlmgr has improved lately at this front.
(Note that your issue on 2022-02-28 is not connected specifically to
TL2022 (= is not a regression introduced by TL22 pretest); Alexis'
report was with the TL2021 installer).


Best,
Johannes

[0]
https://tug.org/svn/texlive/trunk/Master/install-tl?view=markup&pathrev=62745#l2160
https://tug.org/svn/texlive/trunk/Master/tlpkg/TeXLive/TLUtils.pm?view=markup&pathrev=62745#l1649
https://tug.org/svn/texlive/trunk/Master/install-tl?r1=62015&r2=62016&pathrev=62745&

> 
> --
> ** Phil.
> 
> This email, its contents and any attachments are intended solely for
> the addressee and may contain confidential information. In certain
> circumstances, it may also be subject to legal privilege. Any
> unauthorised use, disclosure, or copying is not permitted. If you
> have received this email in error, please notify us and immediately
> and permanently delete it. Any views or opinions expressed in
> personal emails are solely those of the author and do not necessarily
> represent those of Royal Holloway, University of London. It is your
> responsibility to ensure that this email and any attachments are
> virus free.



From henrylinto at gmail.com  Sun Mar 20 02:22:35 2022
From: henrylinto at gmail.com (King Bunyip)
Date: Sun, 20 Mar 2022 01:22:35 +0000
Subject: \input and \file_if_exist:nTF search diffrent paths in
 texlive-lualatex.
Message-ID: <CACpxsdRRi192YQF1CYoF8k3BkGpZvRqcX8Re3q2VM=x=yf6Fhw@mail.gmail.com>

Hi all,

I noticed recently that the primitive \input is able to use files in
the -output-dir that \file_if_exist:nTF thinks doesn't exist when
using texlive lualatex.

Strangely this is only for lualatex, and not pdflatex/xelatex/platex/etc

I have started a github issue over at the latex3 github:
https://github.com/latex3/latex3/issues/1070

In the discussion there I was told that ` kpse.find_file ' is able to
find the file under miktex but not texlive, and that I should come
report it over here ;p

Thanks -- Skipp1


For a minimum working example: if we have the folder structure:

-------------------------------------------------\
jobdir/
   | - a.tex
   | - outdir/
        | - b.tex
-------------------------------------------------/
Where the files:

a.tex
-------------------------------------------------\
\documentclass{article}
\usepackage{expl3}
\begin{document}

\input{b.tex}

\ExplSyntaxOn
\file_if_exist:nTF { b.tex } {
	b.tex ~ exists
} {
	b.tex ~ does ~ not ~ exist
}
\ExplSyntaxOff

\end{document}
-------------------------------------------------/

b.tex
-------------------------------------------------\
I am the contents of b.tex
-------------------------------------------------/

And the command:
-------------------------------------------------\
$ cd jobdir/
$ lualatex -output-dir=outdir a.tex
-------------------------------------------------/

Under lualatex this will produce a pdf containing
-------------------------------------------------\
b.tex does not exist
-------------------------------------------------/

However, under pdflatex,xelatex,platex,etc  this will produce a pdf containing
-------------------------------------------------\
I am the contents of b.tex
b.tex does exist
-------------------------------------------------/

All of this was done using the opensuse provided texlive:

pdfTeX, Version 3.141592653-2.6-1.40.22
LuaHBTeX, Version 1.13.2
LaTeX2e <2020-10-01> patch level 4
L3 programming layer <2021-02-18>

From norbert at preining.info  Sun Mar 20 15:51:51 2022
From: norbert at preining.info (Norbert Preining)
Date: Sun, 20 Mar 2022 23:51:51 +0900
Subject: TeX Live Installation failed at the very end
In-Reply-To: <jp9ewmedvn3b.dlg@nililand.de>
References: <1647719980537.60422@ipea.gov.br>
 <jp9ewmedvn3b.dlg@nililand.de>
Message-ID: <Yjc/h8JuPdB7aF0E@bulldog>

> I wouldn't take a failure to install one package to seriously, I
> often have some missing packages after an installation because the

And TL 2022 will have this behaviour by default:
- first install only required packages (tlmgr etc)
- then install the rest, but continue even if packages failed to install
After that, one can fix with
	tlmgr update --all --reinstall-forcibly-removed

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Sun Mar 20 23:51:38 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 20 Mar 2022 16:51:38 -0600
Subject: \input and \file_if_exist:nTF search diffrent paths in
 texlive-lualatex.
In-Reply-To: <CACpxsdRRi192YQF1CYoF8k3BkGpZvRqcX8Re3q2VM=x=yf6Fhw@mail.gmail.com>
Message-ID: <202203202251.22KMpcCW009082@freefriends.org>

Thanks for the report.

    https://github.com/latex3/latex3/issues/1070

Lots of followup and other references there.

In essence the problem appears to be that the kpse.find_file luatex call
does not look in the --output-directory (if it was given). I asked Luigi
(Scarso, the primary luatex maintainer) about fixing this.

Yours is evidently the second report about this in a dozen years or so.
It would be nice to have it fixed, but one more year does not seem
terribly critical. I have been planning to make the TL22 release
on Tuesday.

Hmm. --thanks, karl.

From pablgonz at educarchile.cl  Mon Mar 21 00:38:50 2022
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Gonz=C3=A1lez_L?=)
Date: Sun, 20 Mar 2022 20:38:50 -0300
Subject: TeX Live 2022 on windows 11...done :D
In-Reply-To: <mailman.7.1647774002.9467.tex-live@tug.org>
References: <mailman.7.1647774002.9467.tex-live@tug.org>
Message-ID: <CANeU4n9avPf0AQBRGeDw3aEjwB3iY1Q+h_g50ogWWUR1jFhq7A@mail.gmail.com>

After a few cups of coffee everything has been installed perfectly.

As every year I followed the instructions from
(https://tug.org/texlive/pretest.html) but now I did it using
WSL/Ubuntu from win11 :)

A couple of notes for the future, could you put in
(https://tug.org/texlive/pretest.html) the explicit way to avoid the
`.pkg` files?
I think they were not there before and that took longer
than usual to download (I am lazy and have not read the rsync
documentation).

I know it's a bit late to give the report, anyway just thankful for all
the TeX Live team.

Regards

Pablo

From norbert at preining.info  Mon Mar 21 01:14:39 2022
From: norbert at preining.info (Norbert Preining)
Date: Mon, 21 Mar 2022 09:14:39 +0900
Subject: TeX Live 2022 on windows 11...done :D
In-Reply-To: <CANeU4n9avPf0AQBRGeDw3aEjwB3iY1Q+h_g50ogWWUR1jFhq7A@mail.gmail.com>
References: <mailman.7.1647774002.9467.tex-live@tug.org>
 <CANeU4n9avPf0AQBRGeDw3aEjwB3iY1Q+h_g50ogWWUR1jFhq7A@mail.gmail.com>
Message-ID: <YjfDb9o2I38JTsdw@sakefilet.preining.info>

Hi Pablo,

> A couple of notes for the future, could you put in
> (https://tug.org/texlive/pretest.html) the explicit way to avoid the
> `.pkg` files?

Already written there ...
	rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
the 
	--exclude="mactex*"
should already take care of that AFAIR.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From pablgonz at educarchile.cl  Mon Mar 21 01:32:13 2022
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Gonz=C3=A1lez_L?=)
Date: Sun, 20 Mar 2022 21:32:13 -0300
Subject: TeX Live 2022 on windows 11...done :D
Message-ID: <CANeU4n_FpsD0d1g9c=5fNhEf0tfm5+uQ6CJ0YAr2Cj0pXrgqOA@mail.gmail.com>

> Already written there ...
> rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
> the
> --exclude="mactex*"
> should already take care of that AFAIR.
It worked before, but now it downloads `BasicTeX.pkg`, `MacTeX.pkg`,
`MacTeX.pkg`, `MacTeX.pkg` and `MacTeX.pkg`.

I don't know well how `rsync` works but I assume it is a case sensitive.

Saludos

Pablo

From norbert at preining.info  Mon Mar 21 01:48:37 2022
From: norbert at preining.info (Norbert Preining)
Date: Mon, 21 Mar 2022 09:48:37 +0900
Subject: TeX Live 2022 on windows 11...done :D
In-Reply-To: <CANeU4n_FpsD0d1g9c=5fNhEf0tfm5+uQ6CJ0YAr2Cj0pXrgqOA@mail.gmail.com>
References: <CANeU4n_FpsD0d1g9c=5fNhEf0tfm5+uQ6CJ0YAr2Cj0pXrgqOA@mail.gmail.com>
Message-ID: <YjfLZbLwDxEPQ2mH@sakefilet.preining.info>

On Sun, 20 Mar 2022, Pablo Gonz?lez L wrote:
> It worked before, but now it downloads `BasicTeX.pkg`, `MacTeX.pkg`,
> `MacTeX.pkg`, `MacTeX.pkg` and `MacTeX.pkg`.

Then add
	--exclude "*.pkg"
to the rsync call.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Mon Mar 21 02:17:08 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 20 Mar 2022 19:17:08 -0600
Subject: TeX Live 2022 on windows 11...done :D
In-Reply-To: <CANeU4n_FpsD0d1g9c=5fNhEf0tfm5+uQ6CJ0YAr2Cj0pXrgqOA@mail.gmail.com>
Message-ID: <202203210117.22L1H81L028070@freefriends.org>

Hi Pablo,

    It worked before, but now it downloads `BasicTeX.pkg`, `MacTeX.pkg`,
    `MacTeX.pkg`, `MacTeX.pkg` and `MacTeX.pkg`.

    I don't know well how `rsync` works but I assume it is a case sensitive.

Yes, but it should only be transferring (broken) symlinks for those
*TeX.pkg files, not any real archives, so they are of no real
consequence. I asked Dick (Koch) to create/maintain those links because
having generic names is useful.

Since it's come up, though, I guess I'll add the extra --exclude to omit
them.  Thanks for the report, and for trying the pretest. -k

From pablgonz at educarchile.cl  Mon Mar 21 03:29:55 2022
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Gonz=C3=A1lez_L?=)
Date: Sun, 20 Mar 2022 23:29:55 -0300
Subject: TeX Live 2022 on windows 11...done :D
In-Reply-To: <202203210117.22L1H81L028070@freefriends.org>
References: <CANeU4n_FpsD0d1g9c=5fNhEf0tfm5+uQ6CJ0YAr2Cj0pXrgqOA@mail.gmail.com>
 <202203210117.22L1H81L028070@freefriends.org>
Message-ID: <CANeU4n8y2yAnfa1AHm-kki-yM-xGqseU_DF+h5Dcujh29JYg1Q@mail.gmail.com>

> Yes, but it should only be transferring (broken) symlinks for those
> *TeX.pkg files, not any real archives, so they are of no real
> consequence. I asked Dick (Koch) to create/maintain those links because
> having generic names is useful.
Thank you very much for your answers. Probably my problem was because
of the line that I run:

rsync -a -v -L --delete --exclude="mactex*"
ftp.cstug.cz::pub/tex/local/tlpretest texlive2022/

So I didn't download symbolic links, only about 5GB :(

> Since it's come up, though, I guess I'll add the extra --exclude to omit
> them.  Thanks for the report, and for trying the pretest. -k
Great :D

Thanks to all

Pablo

From news3 at nililand.de  Mon Mar 21 09:04:10 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 21 Mar 2022 09:04:10 +0100
Subject: \input and \file_if_exist:nTF search diffrent paths in
 texlive-lualatex.
References: <CACpxsdRRi192YQF1CYoF8k3BkGpZvRqcX8Re3q2VM=x=yf6Fhw@mail.gmail.com>
 <202203202251.22KMpcCW009082@freefriends.org>
Message-ID: <ya74sds0wkek.dlg@nililand.de>

Am Sun, 20 Mar 2022 16:51:38 -0600 schrieb Karl Berry:

> Yours is evidently the second report about this in a dozen years or so.
> It would be nice to have it fixed, but one more year does not seem
> terribly critical. 

Personally I'm not affected as I never use --output-directory, but
while looking at it I found another difference between miktex and
texlive which affects all engines: If I have child.tex in a
subfolder, and then call pdflatex --output-directory on this file:

\documentclass{article}

\begin{document}
\input{child}

\input{child.tex}
\end{document}

Then miktex compiles fine, and finds child.tex for both \input, but
in texlive the first one errors.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From karl at freefriends.org  Mon Mar 21 15:20:03 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 Mar 2022 15:20:03 +0100
Subject: \input and \file_if_exist:nTF search diffrent paths in
 texlive-lualatex.
In-Reply-To: <ya74sds0wkek.dlg@nililand.de>
Message-ID: <202203211420.22LEK3ns027173@tug.org>

    If I have child.tex in a
    subfolder, and then call pdflatex --output-directory on this file:

    \documentclass{article}

    \begin{document}
    \input{child}

    \input{child.tex}
    \end{document}

If you're reporting that the .tex extension is not automatically added
for --output-directory searches, that's intentional and will not change.
(I'm not sure if you're reporting that, or something about subdirs.)

Long ago I wrote about this in the web2c manual.
The last paragraph in this section:
  https://tug.org/texinfohtml/web2c.html#Output-file-location

says:
    TEXMFOUTPUT is also checked for input files, as TeX often generates
    files that need to be subsequently read; for input, no suffixes
    (such as tex') are added by default and no exhaustive path searching
    is done, the input name is simply checked as given.

If/Since Christian decided to change that, that's fine for him, but I
don't think it's desirable to do anything but check the name as given in
TEXMFOUTPUT.  That search is special and we wouldn't want to find the
wrong thing. --thanks, karl.


From karl at freefriends.org  Mon Mar 21 15:36:23 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 Mar 2022 08:36:23 -0600
Subject: \input and \file_if_exist:nTF search diffrent paths in
 texlive-lualatex.
In-Reply-To: <CACpxsdRRi192YQF1CYoF8k3BkGpZvRqcX8Re3q2VM=x=yf6Fhw@mail.gmail.com>
Message-ID: <202203211436.22LEaN8k012051@freefriends.org>

    https://github.com/latex3/latex3/issues/1070

Since Luigi is plenty busy with other things right now, we're going to
postpone dealing with this until next year. Thanks again for the report. -k

From news3 at nililand.de  Mon Mar 21 17:56:47 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 21 Mar 2022 17:56:47 +0100
Subject: \input and \file_if_exist:nTF search diffrent paths in
 texlive-lualatex.
References: <ya74sds0wkek.dlg@nililand.de>
 <202203211420.22LEK3ns027173@tug.org>
Message-ID: <1gbjwdro2qyq6.dlg@nililand.de>

Am Mon, 21 Mar 2022 15:20:03 +0100 schrieb Karl Berry:

> If you're reporting that the .tex extension is not automatically added
> for --output-directory searches,

Yes, at least I'm reporting that there is a difference between
miktex and texlive here.

> that's intentional and will not change.

Fine with me, I only wanted to mention it. 


-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From karl at freefriends.org  Mon Mar 21 22:50:12 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 Mar 2022 15:50:12 -0600
Subject: tl frozen please
Message-ID: <202203212150.22LLoCCj011328@freefriends.org>

FYI, I've started what I hope will be the final build for the TL22
release. So please refrain from making any commits to the repo until
after the release is made.

Thanks,
Karl

From Georg.Matejka.external at ps.rolls-royce.com  Tue Mar 22 11:00:53 2022
From: Georg.Matejka.external at ps.rolls-royce.com (Georg.Matejka.external at ps.rolls-royce.com)
Date: Tue, 22 Mar 2022 10:00:53 +0000
Subject: Suppress Warnings Option
Message-ID: <b7f860efeaa54655b658d23e07daf103@ps.rolls-royce.com>

Dead TexLive Team,

We are using the 2015 version of the latex2pdf converter in a Java programm.
The command promt is used as logging file but with all the warnings it takes a long time to find an actual error.
Is there an Option to suppress the Warnings and only get errors?

It would help a lot with finding corrupted tex files.

Thank you and best regards
Georg Matejka

Rolls-Royce Power Systems and its affiliates respects the protection of your personal data. For further information, please click here for our privacy notice.<https://www.mtu-solutions.com/eu/en/legal-pages/privacy-policy.html>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220322/95c4b5f6/attachment.html>

From jfine2358 at gmail.com  Tue Mar 22 17:31:06 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Tue, 22 Mar 2022 16:31:06 +0000
Subject: Robin Fairbairns died on 25 February
Message-ID: <CALD=Yf9Ud74A=5-2QXcbN5EVc9_cwyO2FPz==qgbrfzk6CMEOw@mail.gmail.com>

Hello

Here is some sad news, communicated to the members of UK TUG by Joseph
Wright.
BEGIN
I am sad to say that Robin Fairbairns, former UK-TUG Chair
and long-standing CTAN node maintainer, died late last month. Robin
was well-known to many of us, either in his CTAN role, as author and editors
of the UK TeX FAQ or as a constant presence on comp.text.tex. Robin
was also a member of the LaTeX Project, and author of several
important LaTeX packages. His funeral will take place on the 30th March at
Cambridge Crematorium:

https://funeral-notices.co.uk/notice/fairbairns/5024136
END

On hearing this I shared with the members of UK TUG this message.
BEGIN
I'm saddened to hear that Robin Fairbairns has died. I knew that for some
time he had health problems. His family, friends and colleagues have my
condolences.

About 30 years ago I learnt of his role in the TeX community, and was
delighted that he and I lived close to each other in Cambridge. I learnt a
lot from him, particularly working together in person on the TeX FAQ, which
had recently become the responsibility of the UK TeX Users Group.

In 1994 Chris Rowley, as chair of UK TUG, reported
===
The notable innovation in 1994 has been the regular appearance of
Baskerville. Under the editorship of Sebastian Rahtz, and with Robin
Fairbairns and Jonathan Fine as publisher and distributor, issues of our
newsletter now reach members approximately every two months.

It contains an interesting variety of TeX-related articles in addition to
notices of meetings and subscription forms. In my opinion, Baskerville is
the best in content and, by a wide margin, in timeliness of all the
journals and newsletters produced by TeX user groups.

Thanks to Sebastian, Robin and Jonathan, and also to all those who have
written items for Baskerville.
==
http://uk.tug.org/wp-installed-content/uploads/2008/12/51.pdf (p35)

With the tragic early death of Sebastian in 2016, and Robin this year, of
the four persons named in that news story only myself and Chris Rowley are
still alive.
END

https://tug.org/pipermail/uktug-announce/2022q1/000611.html # Joseph's
message
https://tug.org/pipermail/uktug-announce/2022q1/000612.html # Jonathan's
message

with a mixture of sadness, regrets and gratitude

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220322/00a6eabe/attachment.html>

From karl at freefriends.org  Tue Mar 22 23:10:25 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 22 Mar 2022 16:10:25 -0600
Subject: Suppress Warnings Option
In-Reply-To: <b7f860efeaa54655b658d23e07daf103@ps.rolls-royce.com>
Message-ID: <202203222210.22MMAP4Y000788@freefriends.org>

    We are using the 2015 version of the latex2pdf converter in a Java programm.

I have no knowledge of a "latex2pdf" converter that can be called from
(written in?) Java.

However, there are many programs which try to filter the verbose output
from a normal TeX run. Maybe you can somehow adapt one of them. The one
I wrote is this:
https://ctan.org/pkg/texfot

Others, that approach the problem in other ways, include:
  texloganalyser pydflatex logfilter latexmk rubber arara
and searching for "log" at https://ctan.org/search.

Hope something helps,
Karl

From norbert at preining.info  Wed Mar 23 01:30:12 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 23 Mar 2022 09:30:12 +0900
Subject: Suppress Warnings Option
In-Reply-To: <b7f860efeaa54655b658d23e07daf103@ps.rolls-royce.com>
References: <b7f860efeaa54655b658d23e07daf103@ps.rolls-royce.com>
Message-ID: <YjpqFMBMsqndlkM2@bulldog>

Hi Georg

> We are using the 2015 version of the latex2pdf converter in a Java programm.

My *really* wild guess is that you are using the "latex2pdf" that is
provided by
	https://metacpan.org/dist/LaTeX-Driver
I have no personal experience with it, but as Karl wrote, there are
several projects that parse the log file and show errors and warnings:
TeX editors (TeXworks, TeX Studio, ...) have C/C++ code that does that.
I guess there will be some Perl code, too.

All the best

Norbert

PS: I find it nice to hear that you are using LaTeX over at RR!

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From Georg.Matejka.external at ps.rolls-royce.com  Wed Mar 23 10:37:52 2022
From: Georg.Matejka.external at ps.rolls-royce.com (Georg.Matejka.external at ps.rolls-royce.com)
Date: Wed, 23 Mar 2022 09:37:52 +0000
Subject: Suppress Warnings Option
Message-ID: <90e3242bff254cc6ad759e3551b3620c@ps.rolls-royce.com>

Thank you guys fort he quick reply.

I have a small correction to make. We are using the pdflatex.exe.
But the verbose log is probably managed the same.

Thank you and best regards
Georg

Rolls-Royce Power Systems and its affiliates respects the protection of your personal data. For further information, please click here for our privacy notice.<https://www.mtu-solutions.com/eu/en/legal-pages/privacy-policy.html>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220323/fb88cabe/attachment.html>

From norbert at preining.info  Wed Mar 23 11:19:49 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 23 Mar 2022 19:19:49 +0900
Subject: Suppress Warnings Option
In-Reply-To: <90e3242bff254cc6ad759e3551b3620c@ps.rolls-royce.com>
References: <90e3242bff254cc6ad759e3551b3620c@ps.rolls-royce.com>
Message-ID: <Yjr0RVWFCiXILR0N@sakefilet.preining.info>

Hi Georg,

> I have a small correction to make. We are using the pdflatex.exe.
> But the verbose log is probably managed the same.

Then you need to parse the log. I suggest discarding stdout/stderr and
then parsing the log file itself.

A quick internet search brought up a js parser from overleaf
	https://github.com/overleaf/latex-log-parser
and in the links Karl send there should be probably some Java code, too.

Best regards

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research     +    IFMGA Guide     +    TU Wien    +    TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From P.Taylor at Hellenic-Institute.Uk  Wed Mar 23 11:21:31 2022
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor (Hellenic Institute))
Date: Wed, 23 Mar 2022 10:21:31 +0000
Subject: Suppress Warnings Option
In-Reply-To: <90e3242bff254cc6ad759e3551b3620c@ps.rolls-royce.com>
References: <90e3242bff254cc6ad759e3551b3620c@ps.rolls-royce.com>
Message-ID: <8a6fb7b7-3937-b070-704d-113a7710d509@Hellenic-Institute.Uk>

On 23/03/2022 09:37, Georg.Matejka.external at ps.rolls-royce.com wrote:
>
> Thank you guys fort he quick reply.
>
> I have a small correction to make. We are using the pdflatex.exe.
>
In that case, I wonder whether :

> \def \GenericWarning #1#2{}

might help.

-- 
/Philip Taylor/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220323/a369ad07/attachment-0001.html>

From jfine2358 at gmail.com  Wed Mar 23 15:50:04 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 23 Mar 2022 14:50:04 +0000
Subject: TeX Hour: Thu 24 Mar: 6:30pm UK time: Open Hour - all welcome
Message-ID: <CALD=Yf__6-QzNYkWsr0CU1q7MtNY9pgc_ce2o-jz8p=LhxXfZQ@mail.gmail.com>

Hi

Tomorrow's TeX Hour is Open House. All persons, and any topics such as TeX,
documents, accessibility, software, hardware are welcome. There might even
be some jokes. An informal gathering.

WARNING: New York is on summer time, but London is not. Check the UK time.
Beware the https://en.wikipedia.org/wiki/Off-by-one_error.
See also: https://twitter.com/secretGeek/status/7269997868

UK Time Now: https://time.is/UK.
Date and time: Thursday 24 March, 6:30 to 7:30pm UK (and UTC) time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

wishing you happy TeXing, full accessibility, reliable software, powerful
hardware and only happy and interesting documents to read

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220323/01400f0f/attachment.html>

From maximilian.noethe at tu-dortmund.de  Fri Mar 25 13:39:03 2022
From: maximilian.noethe at tu-dortmund.de (=?UTF-8?Q?Maximilian_N=c3=b6the?=)
Date: Fri, 25 Mar 2022 13:39:03 +0100
Subject: Running latexmk on multiple documents in parallel errors due to
 lualatex font cache
Message-ID: <ccd4a358-32e7-85c3-be91-6988107080d8@tu-dortmund.de>

Hi everyone,

Running multiple latexmk commands in parallel to produce many documents,
I encountered the issue that latexmk does not finish and runs into its 
limit for
the number of compilations due to the updating of the lualatex font cache of
the different parallel jobs:

Latexmk: applying rule 'pdflatex'...
Rule 'pdflatex': File changes, etc:
    Changed files, or newly in use since previous run(s):
   /root/texlive/2021/texmf-var/luatex-cache/generic/names/luaotfload-lookup-cache.luc

Latexmk: Failure in processing file 'smda00_organisation.tex':
    'pdflatex' needed too many passes
----------------------


Is there any way to avoid this?

Cheers
Max

-- 
Dr.
Maximilian N?the
PostDoc Astroteilchenphysik

Technische Universit?t Dortmund
Fakult?t Physik / Astroteilchenphysik
Otto-Hahn-Str. 4a
44227 Dortmund

Tel.: +49 231 755 8895
maximilian.noethe at tu-dortmund.de
https://app.tu-dortmund.de
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220325/4b8b6095/attachment.html>

From tex at mareipeischl.de  Fri Mar 25 14:57:54 2022
From: tex at mareipeischl.de (Marei Peischl)
Date: Fri, 25 Mar 2022 14:57:54 +0100
Subject: Running latexmk on multiple documents in parallel errors due to
 lualatex font cache
In-Reply-To: <ccd4a358-32e7-85c3-be91-6988107080d8@tu-dortmund.de>
References: <ccd4a358-32e7-85c3-be91-6988107080d8@tu-dortmund.de>
Message-ID: <daccdf22-fb11-5269-28fa-c2d631d34cb9@mareipeischl.de>

Hi Max,

On 25.03.22 13:39, Maximilian N?the wrote:
>
> Hi everyone,
>
> Running multiple latexmk commands in parallel to produce many documents,
> I encountered the issue that latexmk does not finish and runs into its 
> limit for
> the number of compilations due to the updating of the lualatex font 
> cache of
> the different parallel jobs:
>
> Latexmk: applying rule 'pdflatex'...
> Rule 'pdflatex': File changes, etc:
>     Changed files, or newly in use since previous run(s):
>    /root/texlive/2021/texmf-var/luatex-cache/generic/names/luaotfload-lookup-cache.luc
>
> Latexmk: Failure in processing file 'smda00_organisation.tex':
>     'pdflatex' needed too many passes
> ----------------------

You can tell latexmk to ignore changes in the luc files by adding

$hash_calc_ignore_pattern{'luc'}='^';

to your latexmk configuration files. That should help.


Though I'd expect such a question rather via texhax 
(https://tug.org/mailman/listinfo/texhax) instead of the TeX Live list.

Best,

Marei

> Is there any way to avoid this?
>
> Cheers
> Max
>
> -- 
> Dr.
> Maximilian N?the
> PostDoc Astroteilchenphysik
>
> Technische Universit?t Dortmund
> Fakult?t Physik / Astroteilchenphysik
> Otto-Hahn-Str. 4a
> 44227 Dortmund
>
> Tel.: +49 231 755 8895
> maximilian.noethe at tu-dortmund.de
> https://app.tu-dortmund.de

From alexander.krumeich at gmail.com  Sat Mar 26 11:40:08 2022
From: alexander.krumeich at gmail.com (Alexander Krumeich)
Date: Sat, 26 Mar 2022 11:40:08 +0100
Subject: Running latexmk on multiple documents in parallel errors due to
 lualatex font cache
In-Reply-To: <daccdf22-fb11-5269-28fa-c2d631d34cb9@mareipeischl.de>
References: <ccd4a358-32e7-85c3-be91-6988107080d8@tu-dortmund.de>
 <daccdf22-fb11-5269-28fa-c2d631d34cb9@mareipeischl.de>
Message-ID: <CALeLr1m3gyg+OSvFLjmyckGYW1VHAzhOmJGm3A8QojoQCy4DMA@mail.gmail.com>

Thanks, Marei! This is a viable workaround for an issue that is
described at https://github.com/latex3/luaotfload/issues/157

Your solution is better than setting an individual TEXMFCACHE variable
per concurrent run.

   Alexander

On Fri, Mar 25, 2022 at 3:47 PM Marei Peischl via tex-live
<tex-live at tug.org> wrote:
>
> Hi Max,
>
> On 25.03.22 13:39, Maximilian N?the wrote:
> >
> > Hi everyone,
> >
> > Running multiple latexmk commands in parallel to produce many documents,
> > I encountered the issue that latexmk does not finish and runs into its
> > limit for
> > the number of compilations due to the updating of the lualatex font
> > cache of
> > the different parallel jobs:
> >
> > Latexmk: applying rule 'pdflatex'...
> > Rule 'pdflatex': File changes, etc:
> >     Changed files, or newly in use since previous run(s):
> >    /root/texlive/2021/texmf-var/luatex-cache/generic/names/luaotfload-lookup-cache.luc
> >
> > Latexmk: Failure in processing file 'smda00_organisation.tex':
> >     'pdflatex' needed too many passes
> > ----------------------
>
> You can tell latexmk to ignore changes in the luc files by adding
>
> $hash_calc_ignore_pattern{'luc'}='^';
>
> to your latexmk configuration files. That should help.
>
>
> Though I'd expect such a question rather via texhax
> (https://tug.org/mailman/listinfo/texhax) instead of the TeX Live list.
>
> Best,
>
> Marei
>
> > Is there any way to avoid this?
> >
> > Cheers
> > Max
> >
> > --
> > Dr.
> > Maximilian N?the
> > PostDoc Astroteilchenphysik
> >
> > Technische Universit?t Dortmund
> > Fakult?t Physik / Astroteilchenphysik
> > Otto-Hahn-Str. 4a
> > 44227 Dortmund
> >
> > Tel.: +49 231 755 8895
> > maximilian.noethe at tu-dortmund.de
> > https://app.tu-dortmund.de


From contact at yannsalmon.fr  Sun Mar 27 10:09:54 2022
From: contact at yannsalmon.fr (Yann Salmon)
Date: Sun, 27 Mar 2022 10:09:54 +0200
Subject: Behaviour of kpsea re symlinks to directories
Message-ID: <e493406e-3eb7-b8f4-45dd-06f68b748f7b@yannsalmon.fr>

Hello,

I would not call strictly a bug because this is, iirc, a documented 
behaviour, but I would like to raise a question about how 
dir_list_search_list (?) manages symlinks to directories.

Consider the following :

mkdir -p ~/texmf/tex/latex/newfolder
touch ~/texmf/tex/latex/newfolder/thing.sty

kpsewhich thing.sty returns our file.

If we do :

mkdir -p /tmp/target
touch /tmp/target/test.sty
ln -s /tmp/target ~/texmf/tex/latex/newfolder/link

Now our local texmf has a symlink to a folder /tmp/target, containing a 
test.sty.

kpsewhich test.sty will not find that file, because, iiuc, arriving into 
~/texmf/tex/latex/newfolder, it does not see any folder there and thus 
does not make a recursive attempt to go beyond the files that are 
present (ie. thing.sty).

If we add

mkdir -p ~/texmf/tex/latex/newfolder/dummy

then test.sty will be found as ~/texmf/tex/latex/newfolder/link/test.sty.


I read this was done so for performance reasons.

I can personally live with this, but it is quite a possible barrier for 
people, because, unix-wise, creating a symlink to help tools find files 
and folders is common and reasonable, but having to create a dummy 
folder is not at all. I always feel ill-at-ease when I have to tell 
colleagues this?

And this is very difficult to pin down as the source of "texlive does 
not find my files despite them being accessible from local texmf !!".

So, is the performance tradeoff for doing so still occurring nowadays ? 
Would the performance be significantly decreased if the presence of 
symlinks were checked before deciding not to recur, since we list all 
files in the folder anyway ?

Thanks in advance for any insight !

Yann Salmon


From luciano.ribichini at alumni.uni-hannover.de  Sun Mar 27 12:40:29 2022
From: luciano.ribichini at alumni.uni-hannover.de (Luciano)
Date: Sun, 27 Mar 2022 12:40:29 +0200
Subject: texlive i386 32bit iso image
Message-ID: <6371c79c-4451-f5fc-760a-a5483ae32034@alumni.uni-hannover.de>

Hallo everybody,

1) I am a long time TeX user
2) Thanks a lot for your work !
3) Please produce the iso image for TeXlive2022
    for 32bit i386 computers.
    I have a bunch of such computers that are too good to be dismissed.

Greetings from Italy
Luciano

From jfine2358 at gmail.com  Sun Mar 27 17:46:22 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Sun, 27 Mar 2022 16:46:22 +0100
Subject: texlive i386 32bit iso image
In-Reply-To: <6371c79c-4451-f5fc-760a-a5483ae32034@alumni.uni-hannover.de>
References: <6371c79c-4451-f5fc-760a-a5483ae32034@alumni.uni-hannover.de>
Message-ID: <CALD=Yf-YjGi-3MJOn=1qiivJEyRJ82Hs_4nyS685U147L=vL0w@mail.gmail.com>

Hi

Help us help you.

What operating system are you using? From where can it be downloaded?

Jonathan

On Sun, 27 Mar 2022, 15:52 Luciano, <
luciano.ribichini at alumni.uni-hannover.de> wrote:

> Hallo everybody,
>
> 1) I am a long time TeX user
> 2) Thanks a lot for your work !
> 3) Please produce the iso image for TeXlive2022
>     for 32bit i386 computers.
>     I have a bunch of such computers that are too good to be dismissed.
>
> Greetings from Italy
> Luciano
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220327/5185ba83/attachment.html>

From luciano.ribichini at alumni.uni-hannover.de  Sun Mar 27 17:56:01 2022
From: luciano.ribichini at alumni.uni-hannover.de (Luciano)
Date: Sun, 27 Mar 2022 17:56:01 +0200
Subject: texlive i386 32bit iso image
In-Reply-To: <CALD=Yf-YjGi-3MJOn=1qiivJEyRJ82Hs_4nyS685U147L=vL0w@mail.gmail.com>
References: <6371c79c-4451-f5fc-760a-a5483ae32034@alumni.uni-hannover.de>
 <CALD=Yf-YjGi-3MJOn=1qiivJEyRJ82Hs_4nyS685U147L=vL0w@mail.gmail.com>
Message-ID: <4f15899a-b7dd-aa6d-1014-e24b44896c2a@alumni.uni-hannover.de>

Hallo,

1) thanks for the quick answer !
2) I use Linux (different flavors)
    and having a huge iso image (32 bit i386),
    instead of endless packages to download individually, helps a lot.
3) I use the mirrors provided in the tug.org website.

Luciano

On 27/03/22 17:46, Jonathan Fine wrote:
> Hi
> 
> Help us help you.
> 
> What operating system are you using? From where can it be downloaded?
> 
> Jonathan
> 
> On Sun, 27 Mar 2022, 15:52 Luciano, 
> <luciano.ribichini at alumni.uni-hannover.de 
> <mailto:luciano.ribichini at alumni.uni-hannover.de>> wrote:
> 
>     Hallo everybody,
> 
>     1) I am a long time TeX user
>     2) Thanks a lot for your work !
>     3) Please produce the iso image for TeXlive2022
>      ? ? for 32bit i386 computers.
>      ? ? I have a bunch of such computers that are too good to be dismissed.
> 
>     Greetings from Italy
>     Luciano
> 

From jfine2358 at gmail.com  Sun Mar 27 21:17:59 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Sun, 27 Mar 2022 20:17:59 +0100
Subject: texlive i386 32bit iso image
In-Reply-To: <4f15899a-b7dd-aa6d-1014-e24b44896c2a@alumni.uni-hannover.de>
References: <6371c79c-4451-f5fc-760a-a5483ae32034@alumni.uni-hannover.de>
 <CALD=Yf-YjGi-3MJOn=1qiivJEyRJ82Hs_4nyS685U147L=vL0w@mail.gmail.com>
 <4f15899a-b7dd-aa6d-1014-e24b44896c2a@alumni.uni-hannover.de>
Message-ID: <CALD=Yf8Xz_yyB_=trs=toKN6ZiGVDr1WtpNGxDS5zpasrTOcLA@mail.gmail.com>

To help focus minds, please provide identifying information about one of
the Linux distributions you use.

Jonathan

On Sun, 27 Mar 2022, 16:56 Luciano, <
luciano.ribichini at alumni.uni-hannover.de> wrote:

> Hallo,
>
> 1) thanks for the quick answer !
> 2) I use Linux (different flavors)
>     and having a huge iso image (32 bit i386),
>     instead of endless packages to download individually, helps a lot.
> 3) I use the mirrors provided in the tug.org website.
>
> Luciano
>
> On 27/03/22 17:46, Jonathan Fine wrote:
> > Hi
> >
> > Help us help you.
> >
> > What operating system are you using? From where can it be downloaded?
> >
> > Jonathan
> >
> > On Sun, 27 Mar 2022, 15:52 Luciano,
> > <luciano.ribichini at alumni.uni-hannover.de
> > <mailto:luciano.ribichini at alumni.uni-hannover.de>> wrote:
> >
> >     Hallo everybody,
> >
> >     1) I am a long time TeX user
> >     2) Thanks a lot for your work !
> >     3) Please produce the iso image for TeXlive2022
> >          for 32bit i386 computers.
> >          I have a bunch of such computers that are too good to be
> dismissed.
> >
> >     Greetings from Italy
> >     Luciano
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220327/3b79c626/attachment.html>

From luciano.ribichini at alumni.uni-hannover.de  Sun Mar 27 22:17:32 2022
From: luciano.ribichini at alumni.uni-hannover.de (Luciano)
Date: Sun, 27 Mar 2022 22:17:32 +0200
Subject: texlive i386 32bit iso image
In-Reply-To: <CALD=Yf8Xz_yyB_=trs=toKN6ZiGVDr1WtpNGxDS5zpasrTOcLA@mail.gmail.com>
References: <6371c79c-4451-f5fc-760a-a5483ae32034@alumni.uni-hannover.de>
 <CALD=Yf-YjGi-3MJOn=1qiivJEyRJ82Hs_4nyS685U147L=vL0w@mail.gmail.com>
 <4f15899a-b7dd-aa6d-1014-e24b44896c2a@alumni.uni-hannover.de>
 <CALD=Yf8Xz_yyB_=trs=toKN6ZiGVDr1WtpNGxDS5zpasrTOcLA@mail.gmail.com>
Message-ID: <debec9b2-97fa-12d8-8cee-40380aecce27@alumni.uni-hannover.de>

Hallo,

I use Linux Slackware 15.0 on i386 32bit
(very nice distro, indeed).

Luciano

On 27/03/22 21:17, Jonathan Fine wrote:
> To help focus minds, please provide identifying information about one of 
> the Linux distributions you use.
> 
> Jonathan
> 
> On Sun, 27 Mar 2022, 16:56 Luciano, 
> <luciano.ribichini at alumni.uni-hannover.de 
> <mailto:luciano.ribichini at alumni.uni-hannover.de>> wrote:
> 
>     Hallo,
> 
>     1) thanks for the quick answer !
>     2) I use Linux (different flavors)
>      ? ? and having a huge iso image (32 bit i386),
>      ? ? instead of endless packages to download individually, helps a lot.
>     3) I use the mirrors provided in the tug.org <http://tug.org> website.
> 
>     Luciano
> 
>     On 27/03/22 17:46, Jonathan Fine wrote:
>      > Hi
>      >
>      > Help us help you.
>      >
>      > What operating system are you using? From where can it be downloaded?
>      >
>      > Jonathan
>      >
>      > On Sun, 27 Mar 2022, 15:52 Luciano,
>      > <luciano.ribichini at alumni.uni-hannover.de
>     <mailto:luciano.ribichini at alumni.uni-hannover.de>
>      > <mailto:luciano.ribichini at alumni.uni-hannover.de
>     <mailto:luciano.ribichini at alumni.uni-hannover.de>>> wrote:
>      >
>      >? ? ?Hallo everybody,
>      >
>      >? ? ?1) I am a long time TeX user
>      >? ? ?2) Thanks a lot for your work !
>      >? ? ?3) Please produce the iso image for TeXlive2022
>      >? ? ? ? ? for 32bit i386 computers.
>      >? ? ? ? ? I have a bunch of such computers that are too good to be
>     dismissed.
>      >
>      >? ? ?Greetings from Italy
>      >? ? ?Luciano
>      >
> 

From karl at freefriends.org  Sun Mar 27 22:33:13 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 27 Mar 2022 14:33:13 -0600
Subject: texlive i386 32bit iso image
In-Reply-To: <6371c79c-4451-f5fc-760a-a5483ae32034@alumni.uni-hannover.de>
Message-ID: <202203272033.22RKXDDZ029909@freefriends.org>

Hi Luciano - the dvd ran out of space in years past, but i386-linux
binaries are available over the network and always have been. If you
download the normal network installation image
(https://tug.org/texlive/acquire-netinstall.html) and run it on an
i386-linux system, it should be recognized, and those binaries
installed. You could burn the result on your own DVD if that's what you
need. --best, karl.

From karl at freefriends.org  Sun Mar 27 23:00:29 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 27 Mar 2022 15:00:29 -0600
Subject: Behaviour of kpsea re symlinks to directories
In-Reply-To: <e493406e-3eb7-b8f4-45dd-06f68b748f7b@yannsalmon.fr>
Message-ID: <202203272100.22RL0TKb001432@freefriends.org>

Hi Yann,

    I would not call strictly a bug because this is, iirc, a documented 
    behaviour, 

Yes. https://tug.org/texinfohtml/kpathsea.html#Subdirectory-expansion

    So, is the performance tradeoff for doing so still occurring nowadays ? 

Well, (thankfully) nothing has changed about the relevant Unix
filesystem semantics. They still have st_nlink==2 if there are no
subdirectories.

    symlinks were checked before deciding not to recur, since we list all 
    files in the folder anyway ?

All entries should not get stat-ed, when there are no subdirs.
(Normally.) Kpse would not recurse into the directory to look for
subdirs. That's the whole point.

Or did I break this when I put in the casefolding madness? To be honest,
I'm not sure.
    
    And this is very difficult to pin down as the source of "texlive does 
    not find my files despite them being accessible from local texmf !!".

Yes, I understand the problem.

    ln -s /tmp/target ~/texmf/tex/latex/newfolder/link

I'm guessing the problem is only seen in TEXMFHOME? In other trees
(aside from the little-used/known TEXMFCONFIG and TEXMFVAR), !! is
specified so searches use ls-R, and the st_nlink trick does not apply --
and symlinks are not followed, or read, I think.

Now, since TEXMFHOME is generally small (relatively speaking), and the
other significant trees use !!, maybe we could turn off the check
without inducing noticeable pain.  People with very large TEXMFHOME's
might want to use !!, but they would probably already be doing that, if
they care.

I feel unsure. Can you try an analogous "symlink search" in TEXMFLOCAL?
Can you run a simple "symlink search" in TEXMFHOME under strace, and see
what stat() is called on?

Thanks,
Karl

From luciano.ribichini at alumni.uni-hannover.de  Mon Mar 28 07:51:52 2022
From: luciano.ribichini at alumni.uni-hannover.de (Luciano)
Date: Mon, 28 Mar 2022 07:51:52 +0200
Subject: texlive i386 32bit iso image
In-Reply-To: <202203272033.22RKXDDZ029909@freefriends.org>
References: <202203272033.22RKXDDZ029909@freefriends.org>
Message-ID: <1e06dd1b-c15f-f0ef-3da8-3a2d6760a07c@alumni.uni-hannover.de>

Hallo,

1) thanks a lot for the answer
2) thanks a lot for your work on TeX

Luciano

On 27/03/22 22:33, Karl Berry wrote:
> Hi Luciano - the dvd ran out of space in years past, but i386-linux
> binaries are available over the network and always have been. If you
> download the normal network installation image
> (https://tug.org/texlive/acquire-netinstall.html) and run it on an
> i386-linux system, it should be recognized, and those binaries
> installed. You could burn the result on your own DVD if that's what you
> need. --best, karl.

From contact at yannsalmon.fr  Mon Mar 28 09:29:16 2022
From: contact at yannsalmon.fr (Yann Salmon)
Date: Mon, 28 Mar 2022 09:29:16 +0200
Subject: Behaviour of kpsea re symlinks to directories
In-Reply-To: <202203272100.22RL0TKb001432@freefriends.org>
References: <202203272100.22RL0TKb001432@freefriends.org>
Message-ID: <60357e68-e0a5-269d-126f-a9fcf1bf856d@yannsalmon.fr>

Hello,

> Yes. https://tug.org/texinfohtml/kpathsea.html#Subdirectory-expansion

Thank you for that pointer ; I had read it a long time ago but it is not 
easy to find because in the use case I am dealing with, the user is not 
explicitly using kpsea, and in fact may not be even aware of its existence.


> All entries should not get stat-ed, when there are no subdirs.
> (Normally.) Kpse would not recurse into the directory to look for
> subdirs. That's the whole point.

IIUC, we can get just the names of the files in a dir (without getting 
their nature as a regular file, symlink or directory) and the 
information that there is (or not) at least a directory, and this is 
faster than getting all info I would get by doing ls -l ? (I am a noob 
wrt these things). And the ls-R cache is to even avoid fetching that 
list of names from the filesystem each time, to get even more performance.


> I feel unsure. Can you try an analogous "symlink search" in TEXMFLOCAL?

My TEXMFLOCAL is /opt/yann/texlive/texmf-local (and it has !! in the 
path setting). Putting a file there without mktexlsr'ing does not let 
kpsewhich find it, which iiuc is intended.

Putting a symlink to a file works after mktexlsr (ie. mktexlsr indexes it).

The same holds with a symlink to a folder containing a file, even if 
there is no folder in the folder (so that's different from TEXMFHOME, 
presumably because of mktexlsr's behaviour).

> Can you run a simple "symlink search" in TEXMFHOME under strace, and see
> what stat() is called on?

Attached is what happens when doing

kpsewhich thing2.sty

when that file is located in .../essai, a folder containing no folder 
and two files : thing.sty and thing2.sty.

Notice thing2.sty is stat'ed (probably because that is the requested 
file) but not thing.sty. If I add a dummy folder in essai, then 
thing.sty gets stat'ed. As intended.

Notice that we are stat'ing a lot of files anyway?

In fact I feel that the current behaviour brings a significant 
performance improvement when dealing with a folder that has no subfolder 
but a lot of files.

For example, there is no stat to files in 
/home/yann/texmf/tex/latex/descartes, which is actually a symlink to the 
repository containing files for producing my courses, but there are in 
/home/yann/texmf/tex/latex/nsi/, because in that repository we put the 
fonts in a subfolder.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: kpse-stat.log
Type: text/x-log
Size: 7451 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20220328/2c7bc55f/attachment.bin>

From arash at gnu.org  Tue Mar 29 14:35:28 2022
From: arash at gnu.org (Arash Esbati)
Date: Tue, 29 Mar 2022 14:35:28 +0200
Subject: Switching graphical installer's language
Message-ID: <86h77hos1b.fsf@gnu.org>

Hi all,

I fetched texlive2022-20220321.iso and ran the installer on Windows 10
(German).  After starting, I also hit the 'Fortgeschritten' (Advanced)
button to get to the next page.  If I now change the language from 'GUI
language' menu to en, this is what I see:
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tl.png
Type: image/png
Size: 30759 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20220329/847bed89/attachment-0001.png>
-------------- next part --------------

Note the language for the second entry under *Options* isn't changed and
is still in German.  If I switch the language to fr for instance and
switch back to en, this one entry remains in fr.

I don't think this is a showstopper but I wanted to report it.

Best, Arash

From siepo at bitmuis.nl  Tue Mar 29 20:22:43 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Tue, 29 Mar 2022 20:22:43 +0200
Subject: Switching graphical installer's language
In-Reply-To: <86h77hos1b.fsf@gnu.org>
References: <86h77hos1b.fsf@gnu.org>
Message-ID: <YkNOc6sR7tLqq7t7@bitmuis.nl>

On Tue, Mar 29, 2022 at 02:35:28PM +0200, Arash Esbati wrote:
> Hi all,
> 
> I fetched texlive2022-20220321.iso and ran the installer on Windows 10
> (German).  After starting, I also hit the 'Fortgeschritten' (Advanced)
> button to get to the next page.  If I now change the language from 'GUI
> language' menu to en, this is what I see:

Thanks for reporting. As this is indeed not a show-stopper, I'll
look into it after release.

-- 
Siep Kroonenberg

From jfine2358 at gmail.com  Wed Mar 30 14:50:51 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 30 Mar 2022 13:50:51 +0100
Subject: TeX Hour: Thu 31 Mar: 6:30pm UK time: Christopher Alexander; I like
 TeX ...
Message-ID: <CALD=Yf9mh1KZO8sO_amCzxitz_eBwWBQq_dYkA=4h-xewxkGWA@mail.gmail.com>

Hi
For tomorrow's TeX Hour, I suggest two topics.

The first topic is the life, work and influence of
https://en.wikipedia.org/wiki/Christopher_Alexander, who died earlier this
month. Alexander was an architect, with a focus on design as a process. His
work led to the use of design patterns in software.

https://www.theguardian.com/artanddesign/2022/mar/29/christopher-alexander-obituary
https://www.nytimes.com/2022/03/29/arts/christopher-alexander-dead.html

The second topic is "I like TeX ...". All present with be asked to share
what they like about TeX, broadly understood. This includes Metafont,
Computer Modern, LaTeX, tikz, MathJax and so forth.

Note: Both the UK and USA are on Summer Time. UK Time Now:
https://time.is/UK.
Date and time: Thursday 24 March, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

Last week: LaTeXML and the arXiv: Bruce Miller and Deyan Ginev
https://youtu.be/pOSwI6fIpF4

Christopher Alexander: ?I am trying to make a building which is like a
smile on a person?s face.?

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220330/2f096aff/attachment.html>

From ivo.welch at ucla.edu  Wed Mar 30 04:16:05 2022
From: ivo.welch at ucla.edu (ivo welch)
Date: Tue, 29 Mar 2022 19:16:05 -0700
Subject: update
Message-ID: <CAJrNScQVfO0bj3SHYA847VoZGLn+UP4XQ1e7mMeyFfy7LJEX2Q@mail.gmail.com>

hi --- texlive utility update of tl2021 currently fails for me with

2022-03-30 02:13:44 +0000 Warning tlu_ipctask[13918] Error in MD5
checksums: 2bc9de911de776f01d3a07499d631254 is different from
40dff7584a7a410d9349a1e2c35d0854

regards,

/iaw

--
Ivo Welch (ivo.welch at ucla.edu)
http://www.ivo-welch.info/
J. Fred Weston Distinguished Professor, UCLA Anderson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220329/77fc6cbc/attachment.html>

From enrico.gregorio at gmail.com  Wed Mar 30 15:06:58 2022
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Wed, 30 Mar 2022 15:06:58 +0200
Subject: Error with els-cas-templates
Message-ID: <3E7E20B5-EF46-4E49-95C4-986382DBBC26@gmail.com>

There is a ?packaging error? in the package els-cas-templates:

Included files, by type:
run files:
  texmf-dist/bibtex/bst/els-cas-templates/cas-model2-names.bst
  texmf-dist/tex/latex/els-cas-templates/cas-common.sty
  texmf-dist/tex/latex/els-cas-templates/cas-dc.cls
  texmf-dist/tex/latex/els-cas-templates/cas-sc.cls
doc files:
  texmf-dist/doc/latex/els-cas-templates/README details="Readme"
  texmf-dist/doc/latex/els-cas-templates/cas-dc-template.tex
  texmf-dist/doc/latex/els-cas-templates/cas-refs.bib
  texmf-dist/doc/latex/els-cas-templates/cas-sc-template.tex
  texmf-dist/doc/latex/els-cas-templates/doc/dc-sample.pdf
  texmf-dist/doc/latex/els-cas-templates/doc/elsdoc-cas.pdf details="Package documentation"
  texmf-dist/doc/latex/els-cas-templates/doc/elsdoc-cas.tex
  texmf-dist/doc/latex/els-cas-templates/doc/glyphtounicode.tex
  texmf-dist/doc/latex/els-cas-templates/doc/makefile
  texmf-dist/doc/latex/els-cas-templates/doc/pdfwidgets.sty
  texmf-dist/doc/latex/els-cas-templates/doc/rvdtx.sty
  texmf-dist/doc/latex/els-cas-templates/doc/sc-sample.pdf
  texmf-dist/doc/latex/els-cas-templates/manifest.txt
  texmf-dist/doc/latex/els-cas-templates/thumbnails/cas-email.jpeg
  texmf-dist/doc/latex/els-cas-templates/thumbnails/cas-facebook.jpeg
  texmf-dist/doc/latex/els-cas-templates/thumbnails/cas-gplus.jpeg
  texmf-dist/doc/latex/els-cas-templates/thumbnails/cas-linkedin.jpeg
  texmf-dist/doc/latex/els-cas-templates/thumbnails/cas-twitter.jpeg
  texmf-dist/doc/latex/els-cas-templates/thumbnails/cas-url.jpeg

The thumbnails are meant to be used in actual documents, so the subdirectory
should be in the runtime tree, not in the documentation tree.

Ciao
Enrico

From karl at freefriends.org  Wed Mar 30 17:04:07 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 Mar 2022 09:04:07 -0600
Subject: Behaviour of kpsea re symlinks to directories
In-Reply-To: <60357e68-e0a5-269d-126f-a9fcf1bf856d@yannsalmon.fr>
Message-ID: <202203301504.22UF474D023853@freefriends.org>

    IIRC, we can get just the names of the files in a dir ....

Yes. opendir()... readdir()... closedir()... gets you the names of the
"directory entries" (struct dirent).

    faster than getting all info I would get by doing ls -l ?

Yes. You have to make a separate system call to stat(2) to get the file
type (regular file, symlink, ...), size, etc.

    And the ls-R cache is to even avoid fetching that 
    list of names from the filesystem each time, to get even more performance.

Yes again. Because of I/O caching at every level, reading a single file
is much faster than traversing a directory structure, even if the total
number of bytes of data (all the files' names) is basically the same.

    My TEXMFLOCAL is /opt/yann/texlive/texmf-local (and it has !! in the 
    ...
    Putting a symlink to a file works after mktexlsr (ie. mktexlsr indexes it).

Oh, good. Indeed, I see now that mktexlsr boils down to running "ls -LRa",
and the -L dereferences symlinks (recursively). I'd forgotten that.

    In fact I feel that the current behaviour brings a significant
    performance improvement when dealing with a folder that has no
    subfolder but a lot of files.

Right. That's one of the reasons to do the st_nlink check.  The other
reason is even more applicable to a giant tree like texmf-dist: if there
are zillions of "leaf" directories, even if most leaf dirs are not big
in themselves, it is a significant improvement not to stat() the entries
in all those leaf dirs. This is exactly our case.

    Attached is what happens when doing
    kpsewhich thing2.sty

Thanks.

Since the st_nlink check isn't relevant for !! trees, and the only
non-!! tree (in the default configuration) is TEXMFHOME, and TEXMFHOME
is rarely so huge as to matter, I'm coming to the conclusion that I
should turn the check off by default, and make it controllable by a
texmf.cnf variable. That way anyone who needs the check can get it, but
the "create a dummy directory" requirement would in general go away.

I'm occupied with non-computer things this week, and the binaries won't
change before next year anyway, but I'll get back to this in due time.
Thanks much for bringing this up. --best, karl.


From karl at freefriends.org  Wed Mar 30 17:04:10 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 Mar 2022 09:04:10 -0600
Subject: Error with els-cas-templates
In-Reply-To: <3E7E20B5-EF46-4E49-95C4-986382DBBC26@gmail.com>
Message-ID: <202203301504.22UF4AY0023861@freefriends.org>

Hi Enrico,

      ...
      texmf-dist/doc/latex/els-cas-templates/thumbnails/cas-url.jpeg

    The thumbnails are meant to be used in actual documents, so the
    subdirectory should be in the runtime tree, not in the documentation tree.

Ok, thanks. Will fix after pushing out the release.
Hopefully this weekend. -k

