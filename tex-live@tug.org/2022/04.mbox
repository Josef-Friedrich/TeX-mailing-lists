From manfred at dante.de  Sat Apr  2 08:50:03 2022
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 2 Apr 2022 08:50:03 +0200
Subject: Call for testing: TeX Collection 2022
Message-ID: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>

Hi folks,
The TeX Collection image for 2022 is available for testing from
     http://tug.org/~manfred

Specifically
  http://tug.org/~manfred/texcol2022.iso

Checksums are available as:
  http://tug.org/~manfred/texcol2022.iso.md5
or
  http://tug.org/~manfred/texcol2022.iso.sha512

Important
---------

This year there is no ProTeXt on the DVD. Instead we have included a 
specifically prepared MiKTeX following the medium installation of TeX Live. 

Many thanks to Christian Schenk for his support making this special edition of 
MiKTeX possible. Also many thanks to Klaus H?ppner who prepared the 
image I included here.


The same procedure as every year
--------------------------------

As every year I just make assumptions what could be possibly
tested by you. Feel free to do whatever you can do.

Uwe Ziegenhagen:  texlive on Linux,
Windows; miktex on Windows; antivirus check

Martin Sievers: texlive on Ubuntu; miktex on Windows 10

Thomas Feuerstack: miktex on Windows

Klaus H?ppner: miktex on Windows

Herbert Vo?: miktex on Windows, texlive on Linux

Siep Kroonenberg: miktex and texlive on Windows

Dick Koch: mactex


Please report your test results by including operating system and
version, e.g. Ubuntu 20.04.

Others not mentioned above but reading this mail are invited to test as
well, of course.


Thanks a lot to all of you for your help.


--
Cheers, Manfred

From Herbert.Voss at fu-berlin.de  Sat Apr  2 18:11:07 2022
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Sat, 2 Apr 2022 18:11:07 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
Message-ID: <ceaf3ec2-9662-aa97-7c9c-f3f58b9f8012@fu-berlin.de>

Am 02.04.22 um 08:50 schrieb Manfred Lotz:
> Hi folks,
> The TeX Collection image for 2022 is available for testing from
>       http://tug.org/~manfred
>
> Specifically
>    http://tug.org/~manfred/texcol2022.iso
>
> Checksums are available as:
>    http://tug.org/~manfred/texcol2022.iso.md5
> or
>    http://tug.org/~manfred/texcol2022.iso.sha512
>
> Important
> ---------
>
>
> Herbert Vo?: miktex on Windows, texlive on Linux



MiKTeX on Win10 in a virtual machine under macOS (Monterey 12.3.1) no 
problem. But
after installation I get this webpage https://miktex.org/giveback

The html-files of the documentation are still the old ones.

Herbert


From kjh at harcombe.net  Sat Apr  2 19:52:51 2022
From: kjh at harcombe.net (Keiran Harcombe)
Date: Sat, 2 Apr 2022 18:52:51 +0100
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
Message-ID: <c62c5fcd-23a6-d8ec-99e4-0d750c3a3689@harcombe.net>

I've tested Mactex on macOS 12.3 on Apple Silicon (M1)

No problems installing and running LaTeX except I've been unable to get
system fonts to work for XeTeX. I've attempted to follow the guide but
I'm stuck with this and can't find any further instructions.

Manfred Lotz wrote on 02/04/2022 07:50:
> Hi folks,
> The TeX Collection image for 2022 is available for testing from
>      http://tug.org/~manfred
>
> Specifically
>   http://tug.org/~manfred/texcol2022.iso
>
> Checksums are available as:
>   http://tug.org/~manfred/texcol2022.iso.md5
> or
>   http://tug.org/~manfred/texcol2022.iso.sha512
>
> Important
> ---------
>
> This year there is no ProTeXt on the DVD. Instead we have included a 
> specifically prepared MiKTeX following the medium installation of TeX Live. 
>
> Many thanks to Christian Schenk for his support making this special edition of 
> MiKTeX possible. Also many thanks to Klaus H?ppner who prepared the 
> image I included here.
>
>
> The same procedure as every year
> --------------------------------
>
> As every year I just make assumptions what could be possibly
> tested by you. Feel free to do whatever you can do.
>
> Uwe Ziegenhagen:  texlive on Linux,
> Windows; miktex on Windows; antivirus check
>
> Martin Sievers: texlive on Ubuntu; miktex on Windows 10
>
> Thomas Feuerstack: miktex on Windows
>
> Klaus H?ppner: miktex on Windows
>
> Herbert Vo?: miktex on Windows, texlive on Linux
>
> Siep Kroonenberg: miktex and texlive on Windows
>
> Dick Koch: mactex
>
>
> Please report your test results by including operating system and
> version, e.g. Ubuntu 20.04.
>
> Others not mentioned above but reading this mail are invited to test as
> well, of course.
>
>
> Thanks a lot to all of you for your help.
>
>
> --
> Cheers, Manfred

-- 
Keiran Harcombe<https://www.postbox-inc.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220402/450cdd93/attachment.html>

From karl at freefriends.org  Sat Apr  2 22:49:42 2022
From: karl at freefriends.org (Karl Berry)
Date: Sat, 2 Apr 2022 14:49:42 -0600
Subject: [mactex22 and xetex and system fonts]
In-Reply-To: <c62c5fcd-23a6-d8ec-99e4-0d750c3a3689@harcombe.net>
Message-ID: <202204022049.232KngfU028500@freefriends.org>

    kjh> I've tested Mactex on macOS 12.3 on Apple Silicon (M1)
    kjh> No problems installing and running LaTeX except I've been
    kjh> unable to get system fonts to work for XeTeX. I've attempted to
    kjh> follow the guide but I'm stuck with this and can't find any
    kjh> further instructions.

Kieran - nothing has changed for j2022 wrt XeTeX and system fonts on Macs,
as far as I know. I think the best people who might be able to help you
debug are on mactex-support at tug.org (cc'd). --best, karl.


From gnwiii at gmail.com  Sat Apr  2 23:54:25 2022
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 2 Apr 2022 18:54:25 -0300
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
Message-ID: <CAKTOP44AwE+jQ8E=9ECWYLFBk_sTiC6PtUJvD8=o5pVCT8uW8w@mail.gmail.com>

On Sat, 2 Apr 2022 at 03:51, Manfred Lotz <manfred at dante.de> wrote:

> Hi folks,
> The TeX Collection image for 2022 is available for testing from
>      http://tug.org/~manfred
>
> Specifically
>   http://tug.org/~manfred/texcol2022.iso


A test install on a severely locked-down Windows 10 Enterprise system went
through without
errors and "works for me" (after installing a few missing packages with
tlshell) on a moderately
complex test document.  Thanks to all those who contributed.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220402/b9e0b8f5/attachment.html>

From denis.bitouze at univ-littoral.fr  Sun Apr  3 16:53:52 2022
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 03 Apr 2022 16:53:52 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de> (Manfred Lotz's
 message of "Sat, 2 Apr 2022 08:50:03 +0200")
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
Message-ID: <87k0c6kykf.fsf@example.com>

Le 02/04/22 ? 08h50, Manfred Lotz a ?crit :

> Hi folks,

Hi,

> The TeX Collection image for 2022 is available for testing from
>      http://tug.org/~manfred
>
> Specifically
>   http://tug.org/~manfred/texcol2022.iso

I tested texlive on GNU/Linux (Mageia 8) with the following procedure in
a terminal:

  ?????
  ? sudo mount -t iso9660 -o ro,loop,noauto texlive2021.iso /mnt?
  ? cd /mnt?
  ? perl ./install-tl?
  ? o?
  ? l????
  ? r?
  ? i?
  ?????

and noticed that the install process hangs without any message in the
following cases:

- not enough available space disk,
- directory not writable.

The error messages appears only after the process is canceled (with ^C).

Otherwise, the procedure runs smoothly.
-- 
Denis


From manfred at dante.de  Sun Apr  3 19:54:59 2022
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 3 Apr 2022 19:54:59 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <ceaf3ec2-9662-aa97-7c9c-f3f58b9f8012@fu-berlin.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <ceaf3ec2-9662-aa97-7c9c-f3f58b9f8012@fu-berlin.de>
Message-ID: <4030104b-e6bf-6716-156b-ba93a2285574@dante.de>



On 4/2/22 18:11, Herbert Voss wrote:
> Am 02.04.22 um 08:50 schrieb Manfred Lotz:
>> Hi folks,
>> The TeX Collection image for 2022 is available for testing from
>> ????? http://tug.org/~manfred
>>
>> Specifically
>> ?? http://tug.org/~manfred/texcol2022.iso
>>
>> Checksums are available as:
>> ?? http://tug.org/~manfred/texcol2022.iso.md5
>> or
>> ?? http://tug.org/~manfred/texcol2022.iso.sha512
>>
>> Important
>> ---------
>>
>>
>> Herbert Vo?: miktex on Windows, texlive on Linux
> 
> 
> 
> MiKTeX on Win10 in a virtual machine under macOS (Monterey 12.3.1) no problem. But
> after installation I get this webpage https://miktex.org/giveback
> 

Thanks, Herbert.

> The html-files of the documentation are still the old ones.
> 
> Herbert
> 

If you are referring to the files in the top level directories. Yes, they have
to be worked on. Hope, we will have updated them within the next days.


-- 
Manfred

From manfred at dante.de  Sun Apr  3 19:56:19 2022
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 3 Apr 2022 19:56:19 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <CAKTOP44AwE+jQ8E=9ECWYLFBk_sTiC6PtUJvD8=o5pVCT8uW8w@mail.gmail.com>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <CAKTOP44AwE+jQ8E=9ECWYLFBk_sTiC6PtUJvD8=o5pVCT8uW8w@mail.gmail.com>
Message-ID: <b52025a3-4502-950e-745c-83b29dcbdc5e@dante.de>



On 4/2/22 23:54, George N. White III wrote:
> On Sat, 2 Apr 2022 at 03:51, Manfred Lotz <manfred at dante.de
> <mailto:manfred at dante.de>> wrote:
> 
>     Hi folks,
>     The TeX Collection image for 2022 is available for testing from
>     ? ? ?http://tug.org/~manfred <http://tug.org/~manfred>
> 
>     Specifically
>     ? http://tug.org/~manfred/texcol2022.iso
>     <http://tug.org/~manfred/texcol2022.iso>
> 
> 
> A test install on a severely?locked-down Windows 10 Enterprise system went
> through without
> errors and "works for me" (after installing a few missing packages with tlshell)
> on a moderately?
> complex test document.? Thanks to all those who contributed.
> 

Sounds good. Thanks for testing.

-- 
Manfred


From harald at mailbox.org  Sun Apr  3 20:27:17 2022
From: harald at mailbox.org (Harald Koenig)
Date: Sun, 3 Apr 2022 20:27:17 +0200
Subject: performace of install-tl (linux)
Message-ID: <YknnBfmib2mXYpC5@hl.fritz.box>

Hi,

today I did an install test with Manfred's texcol2022.iso image.  worked fine.

BUT again I wondered my on my notebook with SSD running linux took exactly 15 min
just to install all the package read ISO image from SSD and writing to SSD:

	...
	Installing [4343/4344, time/total: 14:59/14:59]: zxjatype [144k]
	Installing [4344/4344, time/total: 14:59/14:59]: zztex [147k]
	Time used for installing the packages: 15:00

so I tried to just extract all packages, using the list of tlpkg/tlpobj/*.tlpobj files.
I'm a bit surprised that I find 4619 tlpobj files while the installer mentioned 4344 packages.

just extracting those 4619 packages using tar takes only 3min 15sec (3m16.838s real, 142.913 user,   45.949 sys,     95.95 cpu)
no matter if I just use tar with pipes to uncompress/extract

   tar xCf ~/tl22 $pkg

or use temp file as the perl does

   xz -dcf < $pkg > /tmp/XC ; tar xCf ~/tl22 /tmp/XC



do you have any idea whats the reason for those extra 12min installation time (only extracting pkgs) for the install-tl script ?

I'm not a perl guy, I did not even manage to find tar/xz commands in any perl file in texlive tree :-(


happy to run more tests & benchmarks,
and to test alternate installers ;-)

Harald
-- 
"I hope to die                                      ___       _____
before I *have* to use Microsoft Word.",           0--,|    /OOOOOOO\
Donald E. Knuth, 02-Oct-2001 in Tuebingen.        <_/  /  /OOOOOOOOOOO\
                                                    \  \/OOOOOOOOOOOOOOO\
                                                      \ OOOOOOOOOOOOOOOOO|//
                                                       \/\/\/\/\/\/\/\/\/
Harald Koenig                                           //  /     \\  \
harald.koenig at mailbox.org                              ^^^^^       ^^^^^

From vlmantova at gmail.com  Sun Apr  3 22:24:16 2022
From: vlmantova at gmail.com (Vincenzo Mantova)
Date: Sun, 3 Apr 2022 21:24:16 +0100
Subject: Circular dependency between ctex and xecjk
Message-ID: <CAM6y5te098Ej-62f3tQ+k9m69LVBCxYn5DMwvoc3FeS1QB03vg@mail.gmail.com>

Hi,

I noticed a circular dependency in the current TeX Live: ctex depends on
xecjk, and xecjk depends on ctex. Is this normal?

I noticed because this breaks the nixpkgs build of TeX Live. The proper fix
is to improve the dependency resolution algorithm in nixpkgs, so that it
doesn't trip on circular dependencies, but in the meantime I thought I'd
flag it here.

Best,
Vincenzo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220403/eeb5a255/attachment.html>

From karl at freefriends.org  Sun Apr  3 22:39:41 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 3 Apr 2022 14:39:41 -0600
Subject: Circular dependency between ctex and xecjk
In-Reply-To: <CAM6y5te098Ej-62f3tQ+k9m69LVBCxYn5DMwvoc3FeS1QB03vg@mail.gmail.com>
Message-ID: <202204032039.233KdfJg029469@freefriends.org>

Hi Vincenzo,

    I noticed a circular dependency in the current TeX Live: ctex depends on
    xecjk, and xecjk depends on ctex. Is this normal?

It is intentional, anyway.  I added the (indeed, known to be circular)
dependency in January, in response to:
  https://tug.org/pipermail/tex-live/2022-January/047648.html
  
No one else has reported any resulting problems. So I hope you can fix
or work around it somehow. I doubt it will cause any great consternation
if you simply drop one or the other dependency for the time being.

In my answer, I noted that our tlmgr script works ok with it.
I also surmised that there were already other circular deps,
but given your note, I guess not, and this was the first. --best, karl.

From karl at freefriends.org  Sun Apr  3 22:50:45 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 3 Apr 2022 14:50:45 -0600
Subject: tl22 released
Message-ID: <202204032050.233KojBU031225@freefriends.org>

Hi everyone - I've moved the tl22 and mactex22 images and other files to
the public areas on tug.org. They are making their way around CTAN.
Please give it a couple days to reach the mirrors.
https://tug.org/texlive/acquire.html
https://tug.org/mactex

There are no changes from the final pretest.
We hope a torrent for the .iso will be available soon. It will be linked
from https://tug.org/texlive/acquire-iso.html.

I've updated the TL web pages at https://tug.org/texlive, though likely
some staleness remains.  It will take me a few days to catch up with the
CTAN updates.  Let me know if other problems.

The TeX Collection image is not yet final, so I haven't made those
updates. We have no ETA on this year's DVD mailing as yet.

Happy TeXing. --karl

From jhielscher at posteo.de  Sun Apr  3 23:27:50 2022
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sun,  3 Apr 2022 21:27:50 +0000
Subject: performace of install-tl (linux)
In-Reply-To: <YknnBfmib2mXYpC5@hl.fritz.box>
References: <YknnBfmib2mXYpC5@hl.fritz.box>
Message-ID: <20220403232750.6a7861e5@capsicvm>

Am Sun, 3 Apr 2022 20:27:17 +0200
schrieb Harald Koenig via tex-live <tex-live at tug.org>:

> Hi,
> 
> today I did an install test with Manfred's texcol2022.iso image.
> worked fine.
> 
> BUT again I wondered my on my notebook with SSD running linux took
> exactly 15 min just to install all the package read ISO image from
> SSD and writing to SSD:

On my notebook SSD, the whole installation took 8:48 (that's 14.3 MB/s,
but I had the ISO mounted as a loop device off NFS, so there was an
additional network overhead). I just forgot to thank everyone for the
fastest TL installation that I ever witnessed.

I watched I/O on my SSD, and saw constant write rates of 60..120 MB/s
at a loadavg of slightly above 1. I can only speculate that your SSD
NAND/cache/filesystem(s), CPU, and/or memory are slow, and/or been busy
with other things meanwhile.

Note how this data rate is close to the physical maximum that a DVD can
offer under ideal conditions. I'd say that tlmgr is a perfect match for
the off-the-DVD user experience, but not prematurely optimised :-P

The other main usage scenario of tlmgr (network install from the
internet) is suffering from similar bandwidth constraints (unless you
happen to have a TL mirror in your LAN).

> 
> 	...
> 	Installing [4343/4344, time/total: 14:59/14:59]: zxjatype
> [144k] Installing [4344/4344, time/total: 14:59/14:59]: zztex [147k]
> 	Time used for installing the packages: 15:00
> 
> so I tried to just extract all packages, using the list of
> tlpkg/tlpobj/*.tlpobj files. I'm a bit surprised that I find 4619
> tlpobj files while the installer mentioned 4344 packages.
> 
> just extracting those 4619 packages using tar takes only 3min 15sec
> (3m16.838s real, 142.913 user,   45.949 sys,     95.95 cpu) no matter
> if I just use tar with pipes to uncompress/extract
> 
>    tar xCf ~/tl22 $pkg
> 
> or use temp file as the perl does
> 
>    xz -dcf < $pkg > /tmp/XC ; tar xCf ~/tl22 /tmp/XC
> 
> 
> 
> do you have any idea whats the reason for those extra 12min
> installation time (only extracting pkgs) for the install-tl script ?
> 



Have you tried how things change when you sync(1) between each tarball
extraction? Have you cleared the filesystem cache prior to each
benchmark via `echo 3 > /proc/sys/vm/drop_caches` or similar?
htop? dstat? iotop?




> I'm not a perl guy, I did not even manage to find tar/xz commands in
> any perl file in texlive tree :-(
> 
> 
> happy to run more tests & benchmarks,
> and to test alternate installers ;-)
> 
> Harald

Best,
Johannes

From karl at freefriends.org  Sun Apr  3 23:36:51 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 3 Apr 2022 15:36:51 -0600
Subject: performace of install-tl (linux)
In-Reply-To: <YknnBfmib2mXYpC5@hl.fritz.box>
Message-ID: <202204032136.233Lapxf005240@freefriends.org>

Hi Harald - Johannes' reply is good system queries.
I have a few more bits to add ...

    I'm a bit surprised that I find 4619 tlpobj files while the
    installer mentioned 4344 packages.

The platform-specific "subpackages", plus .doc and .source, are all
different .tlpobj files (to avoid having to download them if they are
not desired). For example:
$ pwd
/usr/local/texlive/2022/tlpkg/tlpobj
$ ls fontinst.*
fontinst.doc.tlpobj	fontinst.tlpobj
fontinst.source.tlpobj	fontinst.x86_64-linux.tlpobj

    do you have any idea whats the reason for those extra 12min
    installation time (only extracting pkgs) for the install-tl script ?

The installer has to create/update texlive.tlpdb, i.e., consider what is
being installed, not just blindly untar the files. There is a lot of
scaffolding around the tar.

Disk caching and other system stuff could also be a factor. Doing a few
thousand tar commands in a row in a single directory is about the best
possible scenario for caching.

    I did not even manage to find tar/xz commands in any perl file in
    texlive tree :-(

tlpkg/TeXLive/*.pm
I believe the fundamental untar happens in TLUtils.pm, function untar,
around line 2559.

    happy to run more tests & benchmarks,

Thanks. I don't have an exact recipe, but profiling the installer seems
worth a shot.

Install the Devel::NYTProf module (https://metacpan.org/pod/Devel::NYTProf)
and then try running something like:
  perl -d:NYTProf install-tl --profile=TLfull-fmt.pro

where TLfull-fmt.pro is attached. A profile file that installs everything
into /tmp/ki, so as not to disturb any real installation. fmts are not
built since we don't care about that here. --best, karl.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: TLfull-fmt.pro
Type: application/octet-stream
Size: 287 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20220403/7a9fe7fc/attachment-0001.obj>

From vlmantova at gmail.com  Mon Apr  4 12:56:37 2022
From: vlmantova at gmail.com (Vincenzo Mantova)
Date: Mon, 4 Apr 2022 11:56:37 +0100
Subject: Circular dependency between ctex and xecjk
In-Reply-To: <202204032039.233KdfJg029469@freefriends.org>
References: <CAM6y5te098Ej-62f3tQ+k9m69LVBCxYn5DMwvoc3FeS1QB03vg@mail.gmail.com>
 <202204032039.233KdfJg029469@freefriends.org>
Message-ID: <CAM6y5tc2n_gBsuAU=jOmKCUc6YoSnRBYBbh0CRQc3UzWyqotmw@mail.gmail.com>

Hi Karl,

Many thanks for the quick clarification. That January thread flew under my
radar, or I might have caught this earlier.

No one else has reported any resulting problems. So I hope you can fix
> or work around it somehow. I doubt it will cause any great consternation
> if you simply drop one or the other dependency for the time being.
>

Indeed, we'll start by dropping one dependency, until we can make our code
more robust. I also don't think it will cause any trouble.

Best,
Vincenzo

Il giorno dom 3 apr 2022 alle ore 21:39 Karl Berry <karl at freefriends.org>
ha scritto:

> Hi Vincenzo,
>
>     I noticed a circular dependency in the current TeX Live: ctex depends
> on
>     xecjk, and xecjk depends on ctex. Is this normal?
>
> It is intentional, anyway.  I added the (indeed, known to be circular)
> dependency in January, in response to:
>   https://tug.org/pipermail/tex-live/2022-January/047648.html
>
> No one else has reported any resulting problems. So I hope you can fix
> or work around it somehow. I doubt it will cause any great consternation
> if you simply drop one or the other dependency for the time being.
>
> In my answer, I noted that our tlmgr script works ok with it.
> I also surmised that there were already other circular deps,
> but given your note, I guess not, and this was the first. --best, karl.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220404/a32a57e2/attachment.html>

From git at ursliska.de  Mon Apr  4 20:57:06 2022
From: git at ursliska.de (Urs Liska)
Date: Mon, 4 Apr 2022 20:57:06 +0200
Subject: Manual installation incompatible
Message-ID: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>

I have an issue with \newfloatsetup which on Stackexchange Ulrike
Fischer confirmed erroring on TL 2019 (presumably a bug) but not on 2021
anymore.

The release of TL 2022 1-2 days ago prompted me to try manually
installing the latest version over my TL 2019 provided by my Linux Mint
repository.

Unfortunately the installation doesn't start but reports



install-tl: The TeX Live versions of the local installation
and the repository being accessed are not compatible:
      local: 2021
 repository: 2022
Perhaps you need to use a different CTAN mirror?

which somewhat leaves me clueless: I have TL 2019 and not 2021 which the
message seems to suggest. And I have no idea how that incompatibility
could be fixed for installing TL 2022.

Any suggestions or info would be gratefully received!

Thanks
Urs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220404/a21bcaec/attachment.html>

From siepo at bitmuis.nl  Mon Apr  4 21:15:53 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 4 Apr 2022 21:15:53 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
Message-ID: <YktD6eP/N7Du9FqF@bitmuis.nl>

On Sat, Apr 02, 2022 at 08:50:03AM +0200, Manfred Lotz wrote:
> Hi folks,
> The TeX Collection image for 2022 is available for testing from
>      http://tug.org/~manfred
> 
> Specifically
>   http://tug.org/~manfred/texcol2022.iso
> 
> Checksums are available as:
>   http://tug.org/~manfred/texcol2022.iso.md5
> or
>   http://tug.org/~manfred/texcol2022.iso.sha512
> 
> Important
> ---------
> 
> This year there is no ProTeXt on the DVD. Instead we have included a 
> specifically prepared MiKTeX following the medium installation of TeX Live. 

Tested various combinations of multiuser/single user, miktex/texlive
and windows 7/8/10/11, all on VM's except for one full multiuser TL
installation on a bare-metal W10 21H2. No show stoppers but:

- Readme.txt in the root still mentions protext
- xelatex on miktex: required glyphlist package not on iso
  but is present in the iso MT database, which presumably
  is the full online database.
- can somebody check whether setup.bat works on an up to date w8?
  It did not on my w8 VM, which however is not up to date and has no
  internet access either.
- in some cases, both the MT and the TL uninstaller left some
  traces behind.

-- 
Siep Kroonenberg

From jozef.babjak at gmail.com  Mon Apr  4 20:10:26 2022
From: jozef.babjak at gmail.com (Jozef Babjak)
Date: Mon, 4 Apr 2022 20:10:26 +0200
Subject: 2021 relics in TeX Live 2022 distribution?
Message-ID: <CANjqRPDgcmPrD1mc20q1zb50ibUHEuLW9YEWoWbpzsE1_hYRxg@mail.gmail.com>

Hello!

I've just installed the 2022 distribution of TeX Live, as every April.
Kudos to all the people involved in this amazing distribution, very
appreciated!

However, it seems that there are some relics of the previous year
distribution. Namely:

1) The default installation directory prefix seems to be
/usr/local/texlive/2021/; I had to manually changed it to
/usr/local/texlive/2022. I'm keeping two versions installed for some
time as a fallback option, if something goes terribly wrong.

2) I update my tex live packages [almost] daily, I have incorporated these:

tlmgr update --self
tlmgr update --all
tlmgr backup --all --clean=0

into my [Arch Linux] system update scripts, and it works like a charm.
However, now the situation is as follows:

[root at goldencut][~][20:06:03]
/usr/local/texlive/2022/bin/x86_64-linux/tlmgr --version
tlmgr revision 61401 (2021-12-24 23:42:10 +0100)
tlmgr using installation: /usr/local/texlive/2022
TeX Live (https://tug.org/texlive) version 2021
[root at goldencut][~][20:06:13]
/usr/local/texlive/2022/bin/x86_64-linux/tlmgr update --self

tlmgr: Local TeX Live (2021) is older than remote repository (2022).
Cross release updates are only supported with
  update-tlmgr-latest(.sh/.exe) --update
See https://tug.org/texlive/upgrade.html for details.

In another word, there also seems to be a kind of reference to 2021
still, preventing update attempts. So, is there really something wrong
with the distribution, or I simply did something wrong installing it?
Basically I installed 2022 release as a new installation, but I did
not wiped out neither any /usr/local/texlive/texfm-local/ nor
dot-directories. I do not have any local customization whatsoever, so
I don't mind to wipe out any of these, if that matters.

Jozef Babjak

From karl at freefriends.org  Tue Apr  5 00:09:28 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 4 Apr 2022 16:09:28 -0600
Subject: 2021 relics in TeX Live 2022 distribution?
In-Reply-To: <CANjqRPDgcmPrD1mc20q1zb50ibUHEuLW9YEWoWbpzsE1_hYRxg@mail.gmail.com>
Message-ID: <202204042209.234M9SSl009858@freefriends.org>

Hi Jozef,

    1) The default installation directory prefix seems to be
    /usr/local/texlive/2021/

I believe (sincerely hope) you unknowingly downloaded the installer
package for 2021.  That would also explain the other things you are
seeing.  When I run the 2022 installer, it defaults to
/usr/local/texlive/2022.

tlmgr version for the TL22 release reports:
tlmgr revision 62273 (2022-02-28 09:52:17 +0100)

In the tlnet directory, there is an empty file TEXLIVE_2022 (or
TEXLIVE_2021), to provide a clue as to what is being provided, given the
asynchronous nature of mirror updates. --best, karl.

From manfred at dante.de  Tue Apr  5 07:18:18 2022
From: manfred at dante.de (Manfred Lotz)
Date: Tue, 5 Apr 2022 07:18:18 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
Message-ID: <050c8b9f-5d73-edd7-89a7-2762f8b91afd@dante.de>

Hi all,
Please note that I have uploaded an updated image to http://tug.org/~manfred

- For what has changed please consult https://tug.org/~manfred/README.md
- If you want to see exactly which files have changed in the ISO image you may
  compare
          https://tug.org/~manfred/FILES.DVD and
          https://tug.org/~manfred/previous/FILES.DVD

  or just look into https://tug.org/~manfred/FILED.DVD.diff

-- 
Manfred



On 4/2/22 08:50, Manfred Lotz wrote:
> Hi folks,
> The TeX Collection image for 2022 is available for testing from
>      http://tug.org/~manfred
> 
> Specifically
>   http://tug.org/~manfred/texcol2022.iso
> 
> Checksums are available as:
>   http://tug.org/~manfred/texcol2022.iso.md5
> or
>   http://tug.org/~manfred/texcol2022.iso.sha512
> 
> Important
> ---------
> 
> This year there is no ProTeXt on the DVD. Instead we have included a 
> specifically prepared MiKTeX following the medium installation of TeX Live. 
> 
> Many thanks to Christian Schenk for his support making this special edition of 
> MiKTeX possible. Also many thanks to Klaus H?ppner who prepared the 
> image I included here.
> 
> 
> The same procedure as every year
> --------------------------------
> 
> As every year I just make assumptions what could be possibly
> tested by you. Feel free to do whatever you can do.
> 
> Uwe Ziegenhagen:  texlive on Linux,
> Windows; miktex on Windows; antivirus check
> 
> Martin Sievers: texlive on Ubuntu; miktex on Windows 10
> 
> Thomas Feuerstack: miktex on Windows
> 
> Klaus H?ppner: miktex on Windows
> 
> Herbert Vo?: miktex on Windows, texlive on Linux
> 
> Siep Kroonenberg: miktex and texlive on Windows
> 
> Dick Koch: mactex
> 
> 
> Please report your test results by including operating system and
> version, e.g. Ubuntu 20.04.
> 
> Others not mentioned above but reading this mail are invited to test as
> well, of course.
> 
> 
> Thanks a lot to all of you for your help.
> 
> 
> --
> Cheers, Manfred

From manfred at dante.de  Tue Apr  5 07:40:07 2022
From: manfred at dante.de (Manfred Lotz)
Date: Tue, 5 Apr 2022 07:40:07 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <YktD6eP/N7Du9FqF@bitmuis.nl>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <YktD6eP/N7Du9FqF@bitmuis.nl>
Message-ID: <51638dc2-3ae4-694d-b6d3-dd0c7cfd5885@dante.de>



On 4/4/22 21:15, Siep Kroonenberg wrote:
> On Sat, Apr 02, 2022 at 08:50:03AM +0200, Manfred Lotz wrote:
>> Hi folks,
>> The TeX Collection image for 2022 is available for testing from
>>      http://tug.org/~manfred
>>
>> Specifically
>>   http://tug.org/~manfred/texcol2022.iso
>>
>> Checksums are available as:
>>   http://tug.org/~manfred/texcol2022.iso.md5
>> or
>>   http://tug.org/~manfred/texcol2022.iso.sha512
>>
>> Important
>> ---------
>>
>> This year there is no ProTeXt on the DVD. Instead we have included a 
>> specifically prepared MiKTeX following the medium installation of TeX Live. 
> 
> Tested various combinations of multiuser/single user, miktex/texlive
> and windows 7/8/10/11, all on VM's except for one full multiuser TL
> installation on a bare-metal W10 21H2. No show stoppers but:
> 
> - Readme.txt in the root still mentions protext

All affected readmes and index files are updated now.

> - xelatex on miktex: required glyphlist package not on iso

Will ask Klaus if this could still be added.

>   but is present in the iso MT database, which presumably
>   is the full online database.
> - can somebody check whether setup.bat works on an up to date w8?
>   It did not on my w8 VM, which however is not up to date and has no
>   internet access either.
> - in some cases, both the MT and the TL uninstaller left some
>   traces behind.
> 

Thanks a lot for testing.


-- 
Manfred

From jozef.babjak at gmail.com  Tue Apr  5 09:56:13 2022
From: jozef.babjak at gmail.com (Jozef Babjak)
Date: Tue, 5 Apr 2022 09:56:13 +0200
Subject: 2021 relics in TeX Live 2022 distribution?
In-Reply-To: <202204042209.234M9SSl009858@freefriends.org>
References: <CANjqRPDgcmPrD1mc20q1zb50ibUHEuLW9YEWoWbpzsE1_hYRxg@mail.gmail.com>
 <202204042209.234M9SSl009858@freefriends.org>
Message-ID: <CANjqRPAEpnjSKPUuAnAqEP2vLo6O9Wm-0fOHk4Cqp2EEJH9eJg@mail.gmail.com>

Thanks for the prompt answer.

I removed my installation, downloaded and installed TL 2022 again and
everything now looks fine: the prefix is 2022 as expected, tlmgr
version is as given by Karl above and package updates work as well.

Unfortunately, I cannot explain why old installer has been used first
time: I downloaded the installer -- that small tar.gz file -- from
texlive webpage and I'm pretty sure that extracted directory name
contained timestamp starting with 2022, i.e. install-tl-2022xxxx.

Jozef

On Tue, Apr 5, 2022 at 12:09 AM Karl Berry <karl at freefriends.org> wrote:
>
> Hi Jozef,
>
>     1) The default installation directory prefix seems to be
>     /usr/local/texlive/2021/
>
> I believe (sincerely hope) you unknowingly downloaded the installer
> package for 2021.  That would also explain the other things you are
> seeing.  When I run the 2022 installer, it defaults to
> /usr/local/texlive/2022.
>
> tlmgr version for the TL22 release reports:
> tlmgr revision 62273 (2022-02-28 09:52:17 +0100)
>
> In the tlnet directory, there is an empty file TEXLIVE_2022 (or
> TEXLIVE_2021), to provide a clue as to what is being provided, given the
> asynchronous nature of mirror updates. --best, karl.

From romano at rgtti.com  Tue Apr  5 10:47:59 2022
From: romano at rgtti.com (Romano Giannetti)
Date: Tue, 5 Apr 2022 10:47:59 +0200
Subject: 2021 relics in TeX Live 2022 distribution?
In-Reply-To: <CANjqRPAEpnjSKPUuAnAqEP2vLo6O9Wm-0fOHk4Cqp2EEJH9eJg@mail.gmail.com>
References: <CANjqRPDgcmPrD1mc20q1zb50ibUHEuLW9YEWoWbpzsE1_hYRxg@mail.gmail.com>
 <202204042209.234M9SSl009858@freefriends.org>
 <CANjqRPAEpnjSKPUuAnAqEP2vLo6O9Wm-0fOHk4Cqp2EEJH9eJg@mail.gmail.com>
Message-ID: <750f0d1e-31d7-7246-21c5-88c547aba759@rgtti.com>

On 05/04/2022 09:56, Jozef Babjak wrote:
> Unfortunately, I cannot explain why old installer has been used first
> time: I downloaded the installer -- that small tar.gz file -- from
> texlive webpage and I'm pretty sure that extracted directory name
> contained timestamp starting with 2022, i.e. install-tl-2022xxxx.

I had exactly the same problem. I determined that my error was to run 
"install-tl" instead of? "./install-tl", and it got the old one that was 
in my $PATH before the new one...

Romano

-- 
Romano Giannetti, Ph.D, Electronic Engineer, Professor
http://www.rgtti.com/


From zdenek.wagner at gmail.com  Tue Apr  5 14:50:52 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 5 Apr 2022 14:50:52 +0200
Subject: Manual installation incompatible
In-Reply-To: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>
References: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>
Message-ID: <CAC1phyZMSLLKNoWfSwP7Zpj1bUMabZy2SRc2x3SjkbbAzPSC4Q@mail.gmail.com>

Hi,

I am afraid that you mix two things. There is TeX Live from TUG which
is just for any Linux, it is distro agnostic. On the contrary, some
Linux distros provide their own TeX Live packages which are than
installed by the distro package manager. I do not use Linux Mint hence
i do not know which TeX distro it provides. Thus it seems to me that
you have TeX live 2019 provided by Linux Mint, not from TUG. Now you
downloaded install-tl from version 2021 and try to install it
(therefore the local version is reported as 2021) but it no longer
exist on the CTAN mirror. You have to downoad install-tl for 2022 in
order to make it work.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

po 4. 4. 2022 v 20:57 odes?latel Urs Liska <git at ursliska.de> napsal:
>
> I have an issue with \newfloatsetup which on Stackexchange Ulrike Fischer confirmed erroring on TL 2019 (presumably a bug) but not on 2021 anymore.
>
> The release of TL 2022 1-2 days ago prompted me to try manually installing the latest version over my TL 2019 provided by my Linux Mint repository.
>
> Unfortunately the installation doesn't start but reports
>
>
>
> install-tl: The TeX Live versions of the local installation
> and the repository being accessed are not compatible:
>       local: 2021
>  repository: 2022
> Perhaps you need to use a different CTAN mirror?
>
> which somewhat leaves me clueless: I have TL 2019 and not 2021 which the message seems to suggest. And I have no idea how that incompatibility could be fixed for installing TL 2022.
>
> Any suggestions or info would be gratefully received!
>
> Thanks
> Urs


From git at ursliska.de  Tue Apr  5 18:46:52 2022
From: git at ursliska.de (Urs Liska)
Date: Tue, 5 Apr 2022 18:46:52 +0200
Subject: Manual installation incompatible
In-Reply-To: <CAC1phyZMSLLKNoWfSwP7Zpj1bUMabZy2SRc2x3SjkbbAzPSC4Q@mail.gmail.com>
References: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>
 <CAC1phyZMSLLKNoWfSwP7Zpj1bUMabZy2SRc2x3SjkbbAzPSC4Q@mail.gmail.com>
Message-ID: <1073f48c-76fd-9465-0438-4a5feae972c5@ursliska.de>


Am 05.04.22 um 14:50 schrieb Zdenek Wagner:
> Hi,
>
> I am afraid that you mix two things. 
That sounds plausible but I don't think it is the case.
> There is TeX Live from TUG which
> is just for any Linux, it is distro agnostic. On the contrary, some
> Linux distros provide their own TeX Live packages which are than
> installed by the distro package manager. I do not use Linux Mint hence
> i do not know which TeX distro it provides. 
AFAICS the newest one is TL 2019, and this is installed (through the
distro package manager).
> Thus it seems to me that
> you have TeX live 2019 provided by Linux Mint, not from TUG. 
That is correct.
> Now you
> downloaded install-tl from version 2021 
No, I downloaded and started that from 2022.
> and try to install it
> (therefore the local version is reported as 2021) 
This I don't understand because I never installed 2021.
> but it no longer
> exist on the CTAN mirror. You have to downoad install-tl for 2022 in
> order to make it work.

Obviously not. Locally I have the 'apt' installation of 2019, not 2021
as the message suggests.

Thanks for the thoughts anyway
Urs

>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
>
> po 4. 4. 2022 v 20:57 odes?latel Urs Liska <git at ursliska.de> napsal:
>> I have an issue with \newfloatsetup which on Stackexchange Ulrike Fischer confirmed erroring on TL 2019 (presumably a bug) but not on 2021 anymore.
>>
>> The release of TL 2022 1-2 days ago prompted me to try manually installing the latest version over my TL 2019 provided by my Linux Mint repository.
>>
>> Unfortunately the installation doesn't start but reports
>>
>>
>>
>> install-tl: The TeX Live versions of the local installation
>> and the repository being accessed are not compatible:
>>       local: 2021
>>  repository: 2022
>> Perhaps you need to use a different CTAN mirror?
>>
>> which somewhat leaves me clueless: I have TL 2019 and not 2021 which the message seems to suggest. And I have no idea how that incompatibility could be fixed for installing TL 2022.
>>
>> Any suggestions or info would be gratefully received!
>>
>> Thanks
>> Urs

From karl at freefriends.org  Tue Apr  5 23:16:57 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 5 Apr 2022 15:16:57 -0600
Subject: 2021 relics in TeX Live 2022 distribution?
In-Reply-To: <CANjqRPAEpnjSKPUuAnAqEP2vLo6O9Wm-0fOHk4Cqp2EEJH9eJg@mail.gmail.com>
Message-ID: <202204052116.235LGvCB001442@freefriends.org>

    contained timestamp starting with 2022, i.e. install-tl-2022xxxx.

There are releases of TL21 in the year 2022. Up until about March 21. -k

From zdenek.wagner at gmail.com  Tue Apr  5 23:18:04 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 5 Apr 2022 23:18:04 +0200
Subject: Manual installation incompatible
In-Reply-To: <1073f48c-76fd-9465-0438-4a5feae972c5@ursliska.de>
References: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>
 <CAC1phyZMSLLKNoWfSwP7Zpj1bUMabZy2SRc2x3SjkbbAzPSC4Q@mail.gmail.com>
 <1073f48c-76fd-9465-0438-4a5feae972c5@ursliska.de>
Message-ID: <CAC1phyY+-oQ9O_n_5GB7ybZu0j6XJFTve0Htun7r+0cLHjkboA@mail.gmail.com>

?t 5. 4. 2022 v 18:46 odes?latel Urs Liska <git at ursliska.de> napsal:
>
>
> Am 05.04.22 um 14:50 schrieb Zdenek Wagner:
> > Hi,
> >
> > I am afraid that you mix two things.
> That sounds plausible but I don't think it is the case.
> > There is TeX Live from TUG which
> > is just for any Linux, it is distro agnostic. On the contrary, some
> > Linux distros provide their own TeX Live packages which are than
> > installed by the distro package manager. I do not use Linux Mint hence
> > i do not know which TeX distro it provides.
> AFAICS the newest one is TL 2019, and this is installed (through the
> distro package manager).
> > Thus it seems to me that
> > you have TeX live 2019 provided by Linux Mint, not from TUG.
> That is correct.
> > Now you
> > downloaded install-tl from version 2021
> No, I downloaded and started that from 2022.
> > and try to install it
> > (therefore the local version is reported as 2021)
> This I don't understand because I never installed 2021.
> > but it no longer
> > exist on the CTAN mirror. You have to downoad install-tl for 2022 in
> > order to make it work.
>
> Obviously not. Locally I have the 'apt' installation of 2019, not 2021
> as the message suggests.
>
When you unpacked install-tl-unx.tar.gz, what was the name of the
created directory? What does ./instal-tl --version say?

> Thanks for the thoughts anyway
> Urs
>
> >

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


> > Zden?k Wagner
> > http://ttsm.icpf.cas.cz/team/wagner.shtml
> >
> > po 4. 4. 2022 v 20:57 odes?latel Urs Liska <git at ursliska.de> napsal:
> >> I have an issue with \newfloatsetup which on Stackexchange Ulrike Fischer confirmed erroring on TL 2019 (presumably a bug) but not on 2021 anymore.
> >>
> >> The release of TL 2022 1-2 days ago prompted me to try manually installing the latest version over my TL 2019 provided by my Linux Mint repository.
> >>
> >> Unfortunately the installation doesn't start but reports
> >>
> >>
> >>
> >> install-tl: The TeX Live versions of the local installation
> >> and the repository being accessed are not compatible:
> >>       local: 2021
> >>  repository: 2022
> >> Perhaps you need to use a different CTAN mirror?
> >>
> >> which somewhat leaves me clueless: I have TL 2019 and not 2021 which the message seems to suggest. And I have no idea how that incompatibility could be fixed for installing TL 2022.
> >>
> >> Any suggestions or info would be gratefully received!
> >>
> >> Thanks
> >> Urs


From git at ursliska.de  Wed Apr  6 11:16:45 2022
From: git at ursliska.de (Urs Liska)
Date: Wed, 6 Apr 2022 11:16:45 +0200
Subject: Manual installation incompatible
In-Reply-To: <CAC1phyY+-oQ9O_n_5GB7ybZu0j6XJFTve0Htun7r+0cLHjkboA@mail.gmail.com>
References: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>
 <CAC1phyZMSLLKNoWfSwP7Zpj1bUMabZy2SRc2x3SjkbbAzPSC4Q@mail.gmail.com>
 <1073f48c-76fd-9465-0438-4a5feae972c5@ursliska.de>
 <CAC1phyY+-oQ9O_n_5GB7ybZu0j6XJFTve0Htun7r+0cLHjkboA@mail.gmail.com>
Message-ID: <169f944a-c6ec-6f23-23d2-8c69f9c55be4@ursliska.de>


Am 05.04.22 um 23:18 schrieb Zdenek Wagner:
> ?t 5. 4. 2022 v 18:46 odes?latel Urs Liska <git at ursliska.de> napsal:
>>
>> Am 05.04.22 um 14:50 schrieb Zdenek Wagner:
>>> Hi,
>>>
>>> I am afraid that you mix two things.
>> That sounds plausible but I don't think it is the case.
>>> There is TeX Live from TUG which
>>> is just for any Linux, it is distro agnostic. On the contrary, some
>>> Linux distros provide their own TeX Live packages which are than
>>> installed by the distro package manager. I do not use Linux Mint hence
>>> i do not know which TeX distro it provides.
>> AFAICS the newest one is TL 2019, and this is installed (through the
>> distro package manager).
>>> Thus it seems to me that
>>> you have TeX live 2019 provided by Linux Mint, not from TUG.
>> That is correct.
>>> Now you
>>> downloaded install-tl from version 2021
>> No, I downloaded and started that from 2022.
>>> and try to install it
>>> (therefore the local version is reported as 2021)
>> This I don't understand because I never installed 2021.
>>> but it no longer
>>> exist on the CTAN mirror. You have to downoad install-tl for 2022 in
>>> order to make it work.
>> Obviously not. Locally I have the 'apt' installation of 2019, not 2021
>> as the message suggests.
>>
> When you unpacked install-tl-unx.tar.gz, what was the name of the
> created directory? 
install-tl-20220322
> What does ./instal-tl --version say?
install-tl (TeX Live Cross Platform Installer) revision 62146
TeX Live (https://tug.org/texlive) version *2021*, although I downloaded
it from tug.org after 2022 was released. ??
>
>> Thanks for the thoughts anyway
>> Urs
>>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
>
>
>>> Zden?k Wagner
>>> http://ttsm.icpf.cas.cz/team/wagner.shtml
>>>
>>> po 4. 4. 2022 v 20:57 odes?latel Urs Liska <git at ursliska.de> napsal:
>>>> I have an issue with \newfloatsetup which on Stackexchange Ulrike Fischer confirmed erroring on TL 2019 (presumably a bug) but not on 2021 anymore.
>>>>
>>>> The release of TL 2022 1-2 days ago prompted me to try manually installing the latest version over my TL 2019 provided by my Linux Mint repository.
>>>>
>>>> Unfortunately the installation doesn't start but reports
>>>>
>>>>
>>>>
>>>> install-tl: The TeX Live versions of the local installation
>>>> and the repository being accessed are not compatible:
>>>>       local: 2021
>>>>  repository: 2022
>>>> Perhaps you need to use a different CTAN mirror?
>>>>
>>>> which somewhat leaves me clueless: I have TL 2019 and not 2021 which the message seems to suggest. And I have no idea how that incompatibility could be fixed for installing TL 2022.
>>>>
>>>> Any suggestions or info would be gratefully received!
>>>>
>>>> Thanks
>>>> Urs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220406/821a5189/attachment.html>

From zdenek.wagner at gmail.com  Wed Apr  6 11:25:13 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 6 Apr 2022 11:25:13 +0200
Subject: Manual installation incompatible
In-Reply-To: <169f944a-c6ec-6f23-23d2-8c69f9c55be4@ursliska.de>
References: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>
 <CAC1phyZMSLLKNoWfSwP7Zpj1bUMabZy2SRc2x3SjkbbAzPSC4Q@mail.gmail.com>
 <1073f48c-76fd-9465-0438-4a5feae972c5@ursliska.de>
 <CAC1phyY+-oQ9O_n_5GB7ybZu0j6XJFTve0Htun7r+0cLHjkboA@mail.gmail.com>
 <169f944a-c6ec-6f23-23d2-8c69f9c55be4@ursliska.de>
Message-ID: <CAC1phyZ_d7NjjdXyUEnjUVpqTKYy9Jv0De7A8xgPhN6aKa-UyA@mail.gmail.com>

st 6. 4. 2022 v 11:16 odes?latel Urs Liska <git at ursliska.de> napsal:
>
>
> Am 05.04.22 um 23:18 schrieb Zdenek Wagner:
>
> ?t 5. 4. 2022 v 18:46 odes?latel Urs Liska <git at ursliska.de> napsal:
>
> Am 05.04.22 um 14:50 schrieb Zdenek Wagner:
>
> Hi,
>
> I am afraid that you mix two things.
>
> That sounds plausible but I don't think it is the case.
>
> There is TeX Live from TUG which
> is just for any Linux, it is distro agnostic. On the contrary, some
> Linux distros provide their own TeX Live packages which are than
> installed by the distro package manager. I do not use Linux Mint hence
> i do not know which TeX distro it provides.
>
> AFAICS the newest one is TL 2019, and this is installed (through the
> distro package manager).
>
> Thus it seems to me that
> you have TeX live 2019 provided by Linux Mint, not from TUG.
>
> That is correct.
>
> Now you
> downloaded install-tl from version 2021
>
> No, I downloaded and started that from 2022.
>
> and try to install it
> (therefore the local version is reported as 2021)
>
> This I don't understand because I never installed 2021.
>
> but it no longer
> exist on the CTAN mirror. You have to downoad install-tl for 2022 in
> order to make it work.
>
> Obviously not. Locally I have the 'apt' installation of 2019, not 2021
> as the message suggests.
>
> When you unpacked install-tl-unx.tar.gz, what was the name of the
> created directory?
>
> install-tl-20220322
>
> What does ./instal-tl --version say?
>
> install-tl (TeX Live Cross Platform Installer) revision 62146
> TeX Live (https://tug.org/texlive) version 2021, although I downloaded it from tug.org after 2022 was released. ??
>
This means that you have downloaded an old version from a mirror which
was not fully in sync. In my computer it says:

$ ./install-tl --version
install-tl (TeX Live Cross Platform Installer) revision 62745
TeX Live (https://tug.org/texlive) version 2022

So it should work fine if you download the latest installer.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml



> Thanks for the thoughts anyway
> Urs
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
>
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
>
> po 4. 4. 2022 v 20:57 odes?latel Urs Liska <git at ursliska.de> napsal:
>
> I have an issue with \newfloatsetup which on Stackexchange Ulrike Fischer confirmed erroring on TL 2019 (presumably a bug) but not on 2021 anymore.
>
> The release of TL 2022 1-2 days ago prompted me to try manually installing the latest version over my TL 2019 provided by my Linux Mint repository.
>
> Unfortunately the installation doesn't start but reports
>
>
>
> install-tl: The TeX Live versions of the local installation
> and the repository being accessed are not compatible:
>       local: 2021
>  repository: 2022
> Perhaps you need to use a different CTAN mirror?
>
> which somewhat leaves me clueless: I have TL 2019 and not 2021 which the message seems to suggest. And I have no idea how that incompatibility could be fixed for installing TL 2022.
>
> Any suggestions or info would be gratefully received!
>
> Thanks
> Urs


From komascript at gmx.info  Wed Apr  6 11:30:29 2022
From: komascript at gmx.info (Markus Kohm)
Date: Wed, 06 Apr 2022 11:30:29 +0200
Subject: Manual installation incompatible
In-Reply-To: <169f944a-c6ec-6f23-23d2-8c69f9c55be4@ursliska.de>
References: <1456547b-26d1-48bd-f846-b89992c48c98@ursliska.de>
 <CAC1phyY+-oQ9O_n_5GB7ybZu0j6XJFTve0Htun7r+0cLHjkboA@mail.gmail.com>
 <169f944a-c6ec-6f23-23d2-8c69f9c55be4@ursliska.de>
Message-ID: <5809618.lOV4Wx5bFT@komascript.de>

Am Mittwoch, 6. April 2022, 11:16:45 CEST schrieb Urs Liska:
>  although I downloaded it from tug.org after 2022 was released.

The link is a generic one. Not all mirrors provided TeX Live 2022 in the first
two days after the release. I've got an TeX Live 2022 installer on April 3rd,
but the first installation failed because of a mirror with TeX Live 2021. The
second attempt was successful.

BTW: I've tested installation with linux-x86_64, with linux-armhf and linux-
aarch64. All successful. Good job. Unfortunately vanilla TeX Live has no biber
with linux-armhf and linux-aarch64.

Markus




From jfine2358 at gmail.com  Wed Apr  6 15:31:42 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 6 Apr 2022 14:31:42 +0100
Subject: TeX Hour: Thu 7 Apr: 6:30pm UK time: Accessible tables, AOB, ICM
 2022, TeXLive 2022 media
Message-ID: <CALD=Yf9jCWMVzAq6x3OvEa6kdjj+MLvA1qYMhuhYE+DkjvaWtg@mail.gmail.com>

Hi

Here's a suggested agenda for tomorrow's TeX Hour. Your ideas are very
welcome, and will be prioritized (see item 2).

1. Accessible HTML table via Lwarp (and tex4ht), a problem reported by
Jason White.
https://github.com/jfine2358/scratch/tree/y2022p007

2. Any Other Business. The floor is open, the microphone is yours. No
reasonable offer refused.

3. The organisers are "working hard to develop the digital infrastructure"
for the VIRTUAL International Congress of Mathematicians (ICM), which was
to be held in Russia. Perhaps we can learn from and help with this.
https://www.mathunion.org/icm/virtual-icm-2022

4. Comparing iso, tgz and git as distribution media for TeXLive 2022. This
is based on some experiments I've been doing. It seems that git is best, on
the limited evidence created.
https://github.com/jfine2358/scratch/tree/y2022p008

TeX Hour: Thursday 7 April, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Note: Both the UK and USA are on Summer Time. UK Time Now:
https://time.is/UK.

Last week: Christopher Alexander, and what we like about TeX.
https://youtu.be/3ZbYIABDqcY

Still here! Would you like to improve the TeX Hour? Suggest a topic or
special guest. Offer help with video editing. Contact people. Set up a
mailing list. Create some web pages. Lots to do.

wishing you happy TeXing

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220406/cd5d3438/attachment.html>

From karl at freefriends.org  Wed Apr  6 21:49:05 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 6 Apr 2022 13:49:05 -0600
Subject: Manual installation incompatible
In-Reply-To: <5809618.lOV4Wx5bFT@komascript.de>
Message-ID: <202204061949.236Jn5Qb009941@freefriends.org>

    Unfortunately vanilla TeX Live has no biber
    with linux-armhf and linux-aarch64.

Agreed, although it's not up to "TeX Live". The biber binary is not
(cannot be) built as part of TL. The biber maintainer provides whatever
binaries that volunteers are willing to build (not a trivial task), and
I copy whatever is built upstream into TL.

Any aarch/armhf/other person interested in helping with building biber
should contact the biber maintainer (Phil Kime). I think it's currently
developed on github, https://github.com/plk/biber. --best, karl.


From karl at freefriends.org  Wed Apr  6 21:55:22 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 6 Apr 2022 13:55:22 -0600
Subject: Manual installation incompatible
In-Reply-To: <5809618.lOV4Wx5bFT@komascript.de>
Message-ID: <202204061955.236JtMcI011151@freefriends.org>

    Unfortunately vanilla TeX Live has no biber
    with linux-armhf and linux-aarch64.

Agreed, although it's not up to "TeX Live". The biber binary is not
(cannot be) built as part of TL. The biber maintainer provides whatever
binaries that volunteers are willing to build (not a trivial task), and
I copy whatever is built upstream into TL.

Any aarch/armhf/other person interested in helping with building biber
should contact the biber maintainer (Phil Kime). I think it's currently
developed on github, https://github.com/plk/biber. --best, karl.


From lmo at vt.edu  Thu Apr  7 02:38:32 2022
From: lmo at vt.edu (Luke Mo)
Date: Wed, 6 Apr 2022 17:38:32 -0700
Subject: =?UTF-8?Q?Texlive_2022_cannot_install_on_a_15=E2=80=9D_M1_MacBook_Pr?=
 =?UTF-8?Q?o?=
Message-ID: <CAN3_V1MATVBEnX7H4bO-L919zVamDNu0fCSsvhuLDZNU04VW-Q@mail.gmail.com>

Dear Sir:

When install Texlive 2022 on a 15? M1 MacBook Pro, the popup installation
window for ?wish? is dark. And there is no way to install it.

There was not such a trouble for installing Texlive 2021 on the same cpu.
Therefore, I think it is a bug in the installation script.

Thanks for your attention,

Luke W. Mo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220406/9f09661e/attachment.html>

From komascript at gmx.info  Thu Apr  7 07:44:41 2022
From: komascript at gmx.info (Markus Kohm)
Date: Thu, 07 Apr 2022 07:44:41 +0200
Subject: Manual installation incompatible
In-Reply-To: <202204061955.236JtMcI011151@freefriends.org>
References: <202204061955.236JtMcI011151@freefriends.org>
Message-ID: <4388907.LvFx2qVVIh@komascript.de>

Am Mittwoch, 6. April 2022, 21:55:22 CEST schrieb Karl Berry:
> Agreed, although it's not up to "TeX Live". The biber binary is not
> (cannot be) built as part of TL. The biber maintainer provides whatever
> binaries that volunteers are willing to build (not a trivial task), and
> I copy whatever is built upstream into TL.

I know, and it wasn't meant to be an accusation, just an observation.
Unfortunately, I am currently and probably for a long time so busy that I can
not possibly take care of it too.

Regards
Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20220407/cc9fa936/attachment.sig>

From koch at uoregon.edu  Thu Apr  7 16:56:38 2022
From: koch at uoregon.edu (Richard Koch)
Date: Thu, 7 Apr 2022 14:56:38 +0000
Subject: =?Windows-1252?Q?Re:_Re:_Texlive_2022_cannot_install_on_a_15=94_M1_MacBoo?=
 =?Windows-1252?Q?k_Pro?=
Message-ID: <5034B4F2-0457-45F5-8887-B7D6724A4F8F@uoregon.edu>

Luke Mo,

The "wish" program provided by Apple was deprecated, and is broken on Monterey.

On most machines, the Unix install script works in text mode by default. Unfortunately, it defaults to graphic mode on the Mac and thus fails on Monterey. To revert to text mode on the Mac, add the flag

--gui text

TUG recommends using MacTeX to install on Macs. See https://tug.org/mactex

Richard Koch
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220407/a9407c85/attachment.html>

From manfred at dante.de  Thu Apr  7 17:04:46 2022
From: manfred at dante.de (Manfred Lotz)
Date: Thu, 7 Apr 2022 17:04:46 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <050c8b9f-5d73-edd7-89a7-2762f8b91afd@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <050c8b9f-5d73-edd7-89a7-2762f8b91afd@dante.de>
Message-ID: <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>

Hi all,
Presumably, the last update.

Known link http://tug.org/~manfred

- Please consult https://tug.org/~manfred/README.md so see what has changed
- If you want to see exactly which files have changed in the ISO image you may
  compare
          https://tug.org/~manfred/FILES.DVD and
          https://tug.org/~manfred/FILES.DVD.previous

  or just look into https://tug.org/~manfred/FILES.DVD.diff

-- 
Manfred



On 4/5/22 07:18, Manfred Lotz wrote:
> Hi all,
> Please note that I have uploaded an updated image to http://tug.org/~manfred
> 
> - For what has changed please consult https://tug.org/~manfred/README.md
> - If you want to see exactly which files have changed in the ISO image you may
>   compare
>           https://tug.org/~manfred/FILES.DVD and
>           https://tug.org/~manfred/previous/FILES.DVD
> 
>   or just look into https://tug.org/~manfred/FILED.DVD.diff
> 

From siepo at bitmuis.nl  Fri Apr  8 10:45:57 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Fri, 8 Apr 2022 10:45:57 +0200
Subject: Call for testing: TeX Collection 2022
In-Reply-To: <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <050c8b9f-5d73-edd7-89a7-2762f8b91afd@dante.de>
 <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>
Message-ID: <Yk/2RQodwuouK7RT@bitmuis.nl>

On Thu, Apr 07, 2022 at 05:04:46PM +0200, Manfred Lotz wrote:
> Hi all,
> Presumably, the last update.
> 
> Known link http://tug.org/~manfred
> 
> - Please consult https://tug.org/~manfred/README.md so see what has changed
> - If you want to see exactly which files have changed in the ISO image you may
>   compare
>           https://tug.org/~manfred/FILES.DVD and
>           https://tug.org/~manfred/FILES.DVD.previous
> 
>   or just look into https://tug.org/~manfred/FILES.DVD.diff

- setup.bat now runs on my w8 vm.
- xetex problem on MT with glyphlist resolved

-- 
Siep Kroonenberg

From P.Taylor at Hellenic-Institute.Uk  Sat Apr  9 08:34:14 2022
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor (Hellenic Institute))
Date: Sat, 9 Apr 2022 07:34:14 +0100
Subject: [EXT] Re: Call for testing: TeX Collection 2022
In-Reply-To: <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <050c8b9f-5d73-edd7-89a7-2762f8b91afd@dante.de>
 <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>
Message-ID: <bf14e5b7-a54c-39bd-e582-6882341799e1@Hellenic-Institute.Uk>

On 07/04/2022 16:04, Manfred Lotz wrote:

> Presumably, the last update.

Regret not working here.? Unlike the first iteration, it does /start to/ 
install under Windows 7 (64-bit) but then I get a series of the following :

> Installing [0107/4325, time/total: 01:01/28:39]: animate [3123k]
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> ...

> fail bad gmtime
> fail bad gmtime
> Installing [0108/4325, time/total: 01:02/28:27]: annee-scolaire [1115k]
> Installing [0109/4325, time/total: 01:03/28:40]: annotate [5k]
> ...
> Installing [0215/4325, time/total: 02:03/26:42]: autopdf [237k]
> Installing [0216/4325, time/total: 02:04/26:53]: autopuncitems [37k]
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> ...
> fail bad gmtime
> fail bad gmtime
> Installing [0217/4325, time/total: 02:04/26:53]: autosp [277k]
> Installing [0218/4325, time/total: 02:05/27:05]: autosp.win32 [20k]
> ...
> Installing [0309/4325, time/total: 02:46/32:05]: bbding [449k]
> Installing [0310/4325, time/total: 02:47/32:14]: bbm [35k]
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> ...
> Installing [4313/4325, time/total: 52:30/52:35]: zlmtt [233k]
> Installing [4314/4325, time/total: 52:30/52:35]: zootaxa-bst [139k]
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> ...
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> Installing [4315/4325, time/total: 52:31/52:36]: zref [687k]
> Installing [4316/4325, time/total: 52:33/52:37]: zref-check [1051k]
> Installing [4317/4325, time/total: 52:34/52:37]: zref-clever [1556k]
> Installing [4318/4325, time/total: 52:35/52:37]: zref-vario [695k]
> Installing [4319/4325, time/total: 52:36/52:37]: zwgetfdate [242k]
> Installing [4320/4325, time/total: 52:37/52:38]: zwpagelayout [630k]
> Installing [4321/4325, time/total: 52:38/52:38]: zx-calculus [636k]
> Installing [4322/4325, time/total: 52:38/52:38]: zxjafbfont [3k]
> Installing [4323/4325, time/total: 52:39/52:39]: zxjafont [173k]
> Installing [4324/4325, time/total: 52:40/52:40]: zxjatype [144k]
> Installing [4325/4325, time/total: 52:40/52:40]: zztex [147k]
> Time used for installing the packages: 52:41
> Use of uninitialized value $deftmflocal in string at 
> N:/texlive/install-tl line 1415.
> running mktexlsr C:/TeX/Live/2022/texmf-dist ...
> mktexlsr: Updating C:/TeX/Live/2022/texmf-dist/ls-R...
> mktexlsr: Updated C:/TeX/Live/2022/texmf-dist/ls-R.
> mktexlsr: Done.
> writing fmtutil.cnf to C:/TeX/Live/2022/texmf-dist/web2c/fmtutil.cnf
> writing updmap.cfg to C:/TeX/Live/2022/texmf-dist/web2c/updmap.cfg
> writing language.dat to 
> C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.dat
> writing language.def to 
> C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.def
> writing language.dat.lua to 
> C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.dat.lua
> running mktexlsr C:/TeX/Live/2022/TeX-MF/Var 
> C:/TeX/Live/2022/TeX-MF/Config C:/TeX/Live/2022/texmf-dist ...
> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Var/ls-R...
> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Var/ls-R.
> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Config/ls-R...
> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Config/ls-R.
> mktexlsr: Updating C:/TeX/Live/2022/texmf-dist/ls-R...
> mktexlsr: Updated C:/TeX/Live/2022/texmf-dist/ls-R.
> mktexlsr: Done.
> running updmap-sys --nohash ...done
> re-running mktexlsr C:/TeX/Live/2022/TeX-MF/Var 
> C:/TeX/Live/2022/TeX-MF/Config ...
> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Var/ls-R...
> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Var/ls-R.
> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Config/ls-R...
> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Config/ls-R.
> mktexlsr: Done.
> setting up ConTeXt cache: running mtxrun --generate ...done
> pre-generating all format files, be patient...
> running fmtutil-sys 
> --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-strict 
> --all ...done
> running path adjustment actions
> finished with path adjustment actions
> running package-specific postactions
> 3 File(s) copied
> 1 File(s) copied
> Running fc-cache -v -r
> finished with package-specific postactions
>
> ?----------------------------------------------------------------------
> ?The following environment variables contain the string "tex"
> ?(case-independent).? If you're doing anything but adding personal
> ?directories to the system paths, they may well cause trouble somewhere
> ?while running TeX.? If you encounter problems, try unsetting them.
> ?Please ignore spurious matches unrelated to TeX.
>
> ??? II=C:\TeX\Live\2022\bin\win32
> ??? TEXCOL=N:\setup\texcollection.exe
> ?----------------------------------------------------------------------
>
>
> Welcome to TeX Live!
>
>
> See C:/TeX/Live/2022/index.html for links to documentation.
> The TeX Live web site (https://tug.org/texlive/) contains any updates 
> and corrections. TeX Live is a joint project of the TeX user groups 
> around the world; please consider supporting it by joining the group 
> best for you. The list of groups is available on the web at 
> https://tug.org/usergroups.html.
> Logfile: C:/TeX/Live/2022/install-tl.log
> Installed on platform win32 at C:/TeX/Live/2022
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
> fail bad gmtime
>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220409/00832748/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Fri Apr  8 21:58:39 2022
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (Royal Holloway))
Date: Fri, 8 Apr 2022 20:58:39 +0100
Subject: [EXT] Re: Call for testing: TeX Collection 2022
In-Reply-To: <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <050c8b9f-5d73-edd7-89a7-2762f8b91afd@dante.de>
 <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>
Message-ID: <21e37aa5-c42c-09db-81fa-b33182da81f9@Rhul.Ac.Uk>

On 07/04/2022 16:04, Manfred Lotz wrote:


Presumably, the last update.

Regret not working here.  Unlike the first iteration, it does start to install under Windows 7 (64-bit) but then I get a series of the following :

Installing [0107/4325, time/total: 01:01/28:39]: animate [3123k]
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
...

fail bad gmtime
fail bad gmtime
Installing [0108/4325, time/total: 01:02/28:27]: annee-scolaire [1115k]
Installing [0109/4325, time/total: 01:03/28:40]: annotate [5k]
...
Installing [0215/4325, time/total: 02:03/26:42]: autopdf [237k]
Installing [0216/4325, time/total: 02:04/26:53]: autopuncitems [37k]
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
...
fail bad gmtime
fail bad gmtime
Installing [0217/4325, time/total: 02:04/26:53]: autosp [277k]
Installing [0218/4325, time/total: 02:05/27:05]: autosp.win32 [20k]
...
Installing [0309/4325, time/total: 02:46/32:05]: bbding [449k]
Installing [0310/4325, time/total: 02:47/32:14]: bbm [35k]
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
...
Installing [4313/4325, time/total: 52:30/52:35]: zlmtt [233k]
Installing [4314/4325, time/total: 52:30/52:35]: zootaxa-bst [139k]
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
...
fail bad gmtime
fail bad gmtime
fail bad gmtime
Installing [4315/4325, time/total: 52:31/52:36]: zref [687k]
Installing [4316/4325, time/total: 52:33/52:37]: zref-check [1051k]
Installing [4317/4325, time/total: 52:34/52:37]: zref-clever [1556k]
Installing [4318/4325, time/total: 52:35/52:37]: zref-vario [695k]
Installing [4319/4325, time/total: 52:36/52:37]: zwgetfdate [242k]
Installing [4320/4325, time/total: 52:37/52:38]: zwpagelayout [630k]
Installing [4321/4325, time/total: 52:38/52:38]: zx-calculus [636k]
Installing [4322/4325, time/total: 52:38/52:38]: zxjafbfont [3k]
Installing [4323/4325, time/total: 52:39/52:39]: zxjafont [173k]
Installing [4324/4325, time/total: 52:40/52:40]: zxjatype [144k]
Installing [4325/4325, time/total: 52:40/52:40]: zztex [147k]
Time used for installing the packages: 52:41
Use of uninitialized value $deftmflocal in string at N:/texlive/install-tl line 1415.
running mktexlsr C:/TeX/Live/2022/texmf-dist ...
mktexlsr: Updating C:/TeX/Live/2022/texmf-dist/ls-R...
mktexlsr: Updated C:/TeX/Live/2022/texmf-dist/ls-R.
mktexlsr: Done.
writing fmtutil.cnf to C:/TeX/Live/2022/texmf-dist/web2c/fmtutil.cnf
writing updmap.cfg to C:/TeX/Live/2022/texmf-dist/web2c/updmap.cfg
writing language.dat to C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.dat
writing language.def to C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.def
writing language.dat.lua to C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.dat.lua
running mktexlsr C:/TeX/Live/2022/TeX-MF/Var C:/TeX/Live/2022/TeX-MF/Config C:/TeX/Live/2022/texmf-dist ...
mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Var/ls-R...
mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Var/ls-R.
mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Config/ls-R...
mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Config/ls-R.
mktexlsr: Updating C:/TeX/Live/2022/texmf-dist/ls-R...
mktexlsr: Updated C:/TeX/Live/2022/texmf-dist/ls-R.
mktexlsr: Done.
running updmap-sys --nohash ...done
re-running mktexlsr C:/TeX/Live/2022/TeX-MF/Var C:/TeX/Live/2022/TeX-MF/Config ...
mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Var/ls-R...
mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Var/ls-R.
mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Config/ls-R...
mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Config/ls-R.
mktexlsr: Done.
setting up ConTeXt cache: running mtxrun --generate ...done
pre-generating all format files, be patient...
running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-strict --all ...done
running path adjustment actions
finished with path adjustment actions
running package-specific postactions
3 File(s) copied
1 File(s) copied
Running fc-cache -v -r
finished with package-specific postactions

 ----------------------------------------------------------------------
 The following environment variables contain the string "tex"
 (case-independent).  If you're doing anything but adding personal
 directories to the system paths, they may well cause trouble somewhere
 while running TeX.  If you encounter problems, try unsetting them.
 Please ignore spurious matches unrelated to TeX.

    II=C:\TeX\Live\2022\bin\win32
    TEXCOL=N:\setup\texcollection.exe
 ----------------------------------------------------------------------


Welcome to TeX Live!


See C:/TeX/Live/2022/index.html for links to documentation.
The TeX Live web site (https://tug.org/texlive/) contains any updates and corrections. TeX Live is a joint project of the TeX user groups around the world; please consider supporting it by joining the group best for you. The list of groups is available on the web at https://tug.org/usergroups.html.
Logfile: C:/TeX/Live/2022/install-tl.log
Installed on platform win32 at C:/TeX/Live/2022
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime
fail bad gmtime





This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220408/7a4ea761/attachment-0001.html>

From klaus at dante.de  Sat Apr  9 10:34:56 2022
From: klaus at dante.de (Klaus Hoeppner)
Date: Sat, 09 Apr 2022 10:34:56 +0200
Subject: [texcollection] [EXT] Re: Call for testing: TeX Collection 2022
In-Reply-To: <bf14e5b7-a54c-39bd-e582-6882341799e1@Hellenic-Institute.Uk>
References: <49cb4d87-d1cd-2e0e-1235-e15c1699f48a@dante.de>
 <050c8b9f-5d73-edd7-89a7-2762f8b91afd@dante.de>
 <be68d620-2b68-0ae0-91fa-f1bca4c8fd80@dante.de>
 <bf14e5b7-a54c-39bd-e582-6882341799e1@Hellenic-Institute.Uk>
Message-ID: <df6b801c-5586-44a4-b6e8-f64f3b3066e2@dante.de>

I see the same behavior when installing the tl medium scheme on a Win7 x64 SP1 VM with bad gmtime showing up several times occasionally, but can't see any harm caused by it.

Klaus

Am 9. Apr. 2022, 08:34, um 08:34, "Philip Taylor (Hellenic Institute)" <p.taylor at hellenic-institute.uk> schrieb:
>On 07/04/2022 16:04, Manfred Lotz wrote:
>
>> Presumably, the last update.
>
>Regret not working here.? Unlike the first iteration, it does /start
>to/ 
>install under Windows 7 (64-bit) but then I get a series of the
>following :
>
>> Installing [0107/4325, time/total: 01:01/28:39]: animate [3123k]
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> ...
>
>> fail bad gmtime
>> fail bad gmtime
>> Installing [0108/4325, time/total: 01:02/28:27]: annee-scolaire
>[1115k]
>> Installing [0109/4325, time/total: 01:03/28:40]: annotate [5k]
>> ...
>> Installing [0215/4325, time/total: 02:03/26:42]: autopdf [237k]
>> Installing [0216/4325, time/total: 02:04/26:53]: autopuncitems [37k]
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> ...
>> fail bad gmtime
>> fail bad gmtime
>> Installing [0217/4325, time/total: 02:04/26:53]: autosp [277k]
>> Installing [0218/4325, time/total: 02:05/27:05]: autosp.win32 [20k]
>> ...
>> Installing [0309/4325, time/total: 02:46/32:05]: bbding [449k]
>> Installing [0310/4325, time/total: 02:47/32:14]: bbm [35k]
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> ...
>> Installing [4313/4325, time/total: 52:30/52:35]: zlmtt [233k]
>> Installing [4314/4325, time/total: 52:30/52:35]: zootaxa-bst [139k]
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> ...
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> Installing [4315/4325, time/total: 52:31/52:36]: zref [687k]
>> Installing [4316/4325, time/total: 52:33/52:37]: zref-check [1051k]
>> Installing [4317/4325, time/total: 52:34/52:37]: zref-clever [1556k]
>> Installing [4318/4325, time/total: 52:35/52:37]: zref-vario [695k]
>> Installing [4319/4325, time/total: 52:36/52:37]: zwgetfdate [242k]
>> Installing [4320/4325, time/total: 52:37/52:38]: zwpagelayout [630k]
>> Installing [4321/4325, time/total: 52:38/52:38]: zx-calculus [636k]
>> Installing [4322/4325, time/total: 52:38/52:38]: zxjafbfont [3k]
>> Installing [4323/4325, time/total: 52:39/52:39]: zxjafont [173k]
>> Installing [4324/4325, time/total: 52:40/52:40]: zxjatype [144k]
>> Installing [4325/4325, time/total: 52:40/52:40]: zztex [147k]
>> Time used for installing the packages: 52:41
>> Use of uninitialized value $deftmflocal in string at 
>> N:/texlive/install-tl line 1415.
>> running mktexlsr C:/TeX/Live/2022/texmf-dist ...
>> mktexlsr: Updating C:/TeX/Live/2022/texmf-dist/ls-R...
>> mktexlsr: Updated C:/TeX/Live/2022/texmf-dist/ls-R.
>> mktexlsr: Done.
>> writing fmtutil.cnf to C:/TeX/Live/2022/texmf-dist/web2c/fmtutil.cnf
>> writing updmap.cfg to C:/TeX/Live/2022/texmf-dist/web2c/updmap.cfg
>> writing language.dat to 
>> C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.dat
>> writing language.def to 
>> C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.def
>> writing language.dat.lua to 
>> C:/TeX/Live/2022/TeX-MF/Var/tex/generic/config/language.dat.lua
>> running mktexlsr C:/TeX/Live/2022/TeX-MF/Var 
>> C:/TeX/Live/2022/TeX-MF/Config C:/TeX/Live/2022/texmf-dist ...
>> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Var/ls-R...
>> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Var/ls-R.
>> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Config/ls-R...
>> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Config/ls-R.
>> mktexlsr: Updating C:/TeX/Live/2022/texmf-dist/ls-R...
>> mktexlsr: Updated C:/TeX/Live/2022/texmf-dist/ls-R.
>> mktexlsr: Done.
>> running updmap-sys --nohash ...done
>> re-running mktexlsr C:/TeX/Live/2022/TeX-MF/Var 
>> C:/TeX/Live/2022/TeX-MF/Config ...
>> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Var/ls-R...
>> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Var/ls-R.
>> mktexlsr: Updating C:/TeX/Live/2022/TeX-MF/Config/ls-R...
>> mktexlsr: Updated C:/TeX/Live/2022/TeX-MF/Config/ls-R.
>> mktexlsr: Done.
>> setting up ConTeXt cache: running mtxrun --generate ...done
>> pre-generating all format files, be patient...
>> running fmtutil-sys 
>> --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-strict 
>> --all ...done
>> running path adjustment actions
>> finished with path adjustment actions
>> running package-specific postactions
>> 3 File(s) copied
>> 1 File(s) copied
>> Running fc-cache -v -r
>> finished with package-specific postactions
>>
>>
>?----------------------------------------------------------------------
>> ?The following environment variables contain the string "tex"
>> ?(case-independent).? If you're doing anything but adding personal
>> ?directories to the system paths, they may well cause trouble
>somewhere
>> ?while running TeX.? If you encounter problems, try unsetting them.
>> ?Please ignore spurious matches unrelated to TeX.
>>
>> ??? II=C:\TeX\Live\2022\bin\win32
>> ??? TEXCOL=N:\setup\texcollection.exe
>>
>?----------------------------------------------------------------------
>>
>>
>> Welcome to TeX Live!
>>
>>
>> See C:/TeX/Live/2022/index.html for links to documentation.
>> The TeX Live web site (https://tug.org/texlive/) contains any updates
>
>> and corrections. TeX Live is a joint project of the TeX user groups 
>> around the world; please consider supporting it by joining the group 
>> best for you. The list of groups is available on the web at 
>> https://tug.org/usergroups.html.
>> Logfile: C:/TeX/Live/2022/install-tl.log
>> Installed on platform win32 at C:/TeX/Live/2022
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>> fail bad gmtime
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220409/4156a54c/attachment.html>

From hongy19 at gmail.com  Sat Apr  9 14:34:06 2022
From: hongy19 at gmail.com (Yang Hong)
Date: Sat, 9 Apr 2022 20:34:06 +0800
Subject: tlmgr bug on tlmgr check files in usermode
Message-ID: <CAL9ss_gBybGX742pkDj0HVUU+_AgmgJWe25-EGh=WG1yBjcLug@mail.gmail.com>

hi all,
today i found one bug for tlmgr  in usermode

>
>    - (base) [hongy19 at CN-00000988 ~]$ tlmgr check files
>    Files present but not covered (relative to /home/hongy19/texmf):
>    web2c/tlmgr-commands.log
>    web2c/tlmgr.log
>    tlmgr.pl: An error has occurred. See above messages. Exiting.
>
>  I checked man page and source code.  tlmgr man page mentioned that the
log should be stored in TEXMFSYSVAR/web2c, but actually the log is stored
in TEXMFHOME/web2c in usermode and man page doesn't mention it.

*Should man page mention that the log is in TEXMFHOME/web2c in usermode and
tlmgr check should ignore these logs?*


   - -package-logfile *file* "tlmgr" logs all package actions (install,
   remove, update, failed updates, failed restores) to a separate log file, by
   default "TEXMFSYSVAR/web2c/tlmgr.log". This option allows you to specify a
   different file for the log.
   - --command-logfile *file* "tlmgr" logs the output of all programs
   invoked (mktexlr, mtxrun, fmtutil, updmap) to a separate log file, by
   default "TEXMFSYSVAR/web2c/tlmgr-commands.log". This option allows you to
   specify a different file for the log.


>
>
>
> * if ($opts{"usermode"}) {    $packagelogfile ||=
> "$::maintree/web2c/tlmgr.log";  } else {    $packagelogfile ||=
> "$texmfsysvar/web2c/tlmgr.log";  }*
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220409/d43e5b8c/attachment.html>

From muc_marek at icloud.com  Sun Apr 10 12:46:26 2022
From: muc_marek at icloud.com (Marek Stepanek)
Date: Sun, 10 Apr 2022 12:46:26 +0200
Subject: MacTeX Live 2022 Install Hassels
Message-ID: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>


Hello all!

First posting here. Hope this is the right group. 

First: Thank you for your great work! It is always a great pleasure, to restart each year with a new install of TeX-Live.

I am on macOS 12.3.1 MacBook Pro (15-inch, 2018)
I have a HomeBrew install with ghostscript. All my installs of TeXLive 2022 I left the defaults as they are. Probably here lies my issue?

I installed TeX-Live 2022, while distribution of 2021 was still present in `/usr/local/texlive`.

Testing immediately after install my `pandoc` command with a Markdown-Document the command was working (probably because the right paths were still active in Memory); so I moved `/usr/local/texlive/2021` into the Bin. But after restart, `pdflatex` was not found anymore. 

`make` command issued:

```
pandoc: pdflatex: createProcess: posix_spawnp: illegal operation (Inappropriate ioctl for device)
make: *** [typeset] Error 1
```

First I found, my command `pdflatex` was not found anymore.

So I dug into it, and found many symbolic links of `texbin`.

First my $PATH:

```
/Users/mstep/Library/Python/3.9/bin
/usr/local/opt/ruby/bin
/usr/local/bin
/usr/local/sbin
/usr/local/mysql/bin
/Users/mstep/.vim/filters/text
/Users/mstep/Library/Python/3.9/bin

/usr/bin
/bin
/usr/sbin
/sbin
/Library/TeX/texbin
/Library/Apple/usr/bin
/Applications/Wireshark.app/Contents/MacOS
```

So starting here in /Library/TeX/

```
cd /Library/TeX/
ls -l texbin
  texbin@ -> Distributions/Programs/texbin
cd Distributions/Programs/
ls -l texbin
  lrwxr-xr-x  1 root  wheel    39B  1 Dec  2018 texbin@ -> ../.DefaultTeX/Contents/Programs/texbin
cd ../.DefaultTeX/Contents/Programs/
ll texbin
  lrwxr-xr-x  1 root  wheel     9B  2 Apr  2021 texbin@ -> universal
ll universal
  lrwxr-xr-x  1 root  wheel    64B  2 Apr  2021 universal@ -> ../../../../../../../usr/local/texlive/2021/bin/universal-darwin
```

Making a general `ls -l` in `/Library/TeX/Distributions/.DefaultTeX/Contents/Programs` revealed many wrong pointers to the now obsolete distribution of TeXLive 2021:

```
cd /Library/TeX/Distributions/.DefaultTeX/Contents/Programs
ll
total 0
  lrwxr-xr-x  1 root  wheel    64B  2 Apr  2021 arm64@ -> ../../../../../../../usr/local/texlive/2021/bin/universal-darwin
  lrwxr-xr-x  1 root  wheel    59B  2 Apr  2021 i386@ -> ../../../../../../../usr/local/texlive/2021/bin/i386-darwin
  lrwxr-xr-x  1 root  wheel    62B  2 Apr  2021 powerpc@ -> ../../../../../../../usr/local/texlive/2021/bin/powerpc-darwin
  lrwxr-xr-x  1 root  wheel    62B  2 Apr  2021 ppc@ -> ../../../../../../../usr/local/texlive/2021/bin/powerpc-darwin
  lrwxr-xr-x  1 root  wheel     9B  2 Apr  2021 texbin@ -> universal
  lrwxr-xr-x  1 root  wheel    64B  2 Apr  2021 universal@ -> ../../../../../../../usr/local/texlive/2021/bin/universal-darwin
  lrwxr-xr-x  1 root  wheel    64B  2 Apr  2021 x86-64@ -> ../../../../../../../usr/local/texlive/2021/bin/universal-darwin
  lrwxr-xr-x  1 root  wheel    67B  2 Apr  2021 x86_64-legacy@ -> ../../../../../../../usr/local/texlive/2021/bin/x86_64-darwinlegacy
```

Little remark: texbin makes many circles. Would it not be easier to point directly to `/usr/local/texlive/2021/bin/universal-darwin`?

So I restarted the install again, and again. No command `pdflatex` found anymore. Still symbolic links to 2021 ...

Any help?


Best greetings to all


marek










From tex at 2krueger.de  Sun Apr 10 16:42:51 2022
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Sun, 10 Apr 2022 16:42:51 +0200
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
References: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
Message-ID: <20220410144251.haeritwkc2i4dsil@beeblebrox>

Hi,

On Sun, Apr 10, 2022 at 12:46:26PM +0200, Marek Stepanek via tex-live wrote:
> 
> Hello all!
> 
> First posting here. Hope this is the right group. 
> 
> First: Thank you for your great work! It is always a great pleasure, to restart each year with a new install of TeX-Live.
> 
> I am on macOS 12.3.1 MacBook Pro (15-inch, 2018)
> I have a HomeBrew install with ghostscript. All my installs of TeXLive 2022 I left the defaults as they are. Probably here lies my issue?
> 
> I installed TeX-Live 2022, while distribution of 2021 was still present in `/usr/local/texlive`.

That's intentional to allow you to have both versions installed and
switch between them when needed.

I don't have any macOS experience but according to
https://tug.org/mactex/multipletexdistributions.html
you should be able to change which version is pointed to by default
using the "TeX Live utility".

Best,
Marcel

From jcc8 at psu.edu  Sun Apr 10 19:38:24 2022
From: jcc8 at psu.edu (John Collins)
Date: Sun, 10 Apr 2022 13:38:24 -0400
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
References: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
Message-ID: <ff8ebc83-c4fc-dd01-fdf8-86f3e187c048@psu.edu>

On 4/10/22 6:46 AM, Marek Stepanek via tex-live wrote:
> 
> I am on macOS 12.3.1 MacBook Pro (15-inch, 2018)
> I have a HomeBrew install with ghostscript. All my installs of TeXLive 2022 I left the defaults as they are. Probably here lies my issue?

That actually isn't a problem at all.

I presume you installed TeX Live 2022 by using the generic unix install script 
rather than by installing MacTeX-2022.  Is that correct?

If so, there's one extra item you need for installation on macOS.  This is to 
install TeXDist-2022.  For details, see

https://tug.org/mactex/mactex-unix-download.html

(This link will probably get modified by the Microsoft mail server to go via a 
Microsoft server for security.)

I used this method yesterday, and it worked without any problem.  What it does 
is first to add the appropriate pointers to TeX Live 2022 in the directories 
under /Library/TeX. Then it arranges for TeX Live 2022 to be used in place of 
TeX Live 2021.   The new installation should be in its default place 
/usr/local/texlive/2022.

By the way, at the end of the TeX Live 2022 there is a paragraph about setting 
various environment variables.  This should be ignored under macOS.  It would 
be nice if the TeX Live maintainers added a mention of the web page for 
macOS-specific differences.)


> I installed TeX-Live 2022, while distribution of 2021 was still present in `/usr/local/texlive`.

That's what's should happen.



> First my $PATH:
> 
> ```
> /Users/mstep/Library/Python/3.9/bin
> /usr/local/opt/ruby/bin
> /usr/local/bin
> /usr/local/sbin
> /usr/local/mysql/bin
> /Users/mstep/.vim/filters/text
> /Users/mstep/Library/Python/3.9/bin
> 
> /usr/bin
> /bin
> /usr/sbin
> /sbin
> /Library/TeX/texbin
> /Library/Apple/usr/bin
> /Applications/Wireshark.app/Contents/MacOS
> ```
> 
> So starting here in /Library/TeX/
> 
> ```
> cd /Library/TeX/
> ls -l texbin
>    texbin@ -> Distributions/Programs/texbin
> cd Distributions/Programs/
> ls -l texbin
>    lrwxr-xr-x  1 root  wheel    39B  1 Dec  2018 texbin@ -> ../.DefaultTeX/Contents/Programs/texbin
> cd ../.DefaultTeX/Contents/Programs/
> ll texbin
>    lrwxr-xr-x  1 root  wheel     9B  2 Apr  2021 texbin@ -> universal
> ll universal
>    lrwxr-xr-x  1 root  wheel    64B  2 Apr  2021 universal@ -> ../../../../../../../usr/local/texlive/2021/bin/universal-darwin
> ```
> 
> Making a general `ls -l` in `/Library/TeX/Distributions/.DefaultTeX/Contents/Programs` revealed many wrong pointers to the now obsolete distribution of TeXLive 2021:

That's the problem that's overcome by the extra step I mentioned above.  If you 
had used the MacTeX-2022 distribution to install TeX Live 2022, that extra step 
wouldn't have been needed.  (The apparently excessively indirect symlinks are 
there for good reason, but it would take another e-mail to explain why.)

The general recommendation is to use the MacTeX-2022 distribution rather than 
the generic Unix installer, unless there are special reasons (e.g., a too-old 
version of macOS to be supported by MacTeX-2022).

John Collins

From jcc8 at psu.edu  Sun Apr 10 19:46:11 2022
From: jcc8 at psu.edu (John Collins)
Date: Sun, 10 Apr 2022 13:46:11 -0400
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <20220410144251.haeritwkc2i4dsil@beeblebrox>
References: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
 <20220410144251.haeritwkc2i4dsil@beeblebrox>
Message-ID: <947e9934-af32-2a24-542f-3b1694df382c@psu.edu>


> I don't have any macOS experience but according to
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Ftug.org%2Fmactex%2Fmultipletexdistributions.html&amp;data=04%7C01%7Cjcc8%40psu.edu%7C8fde5c1c117f4262cbff08da1b00770b%7C7cf48d453ddb4389a9c1c115526eb52e%7C0%7C0%7C637851986491414154%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=Fj7MVuMHJ1GWQpNfwsgTssqV1dslrvomp1TxEw3aYGE%3D&amp;reserved=0
> you should be able to change which version is pointed to by default
> using the "TeX Live utility".

If you just do a generic unix installation of TeX Live 2022, TeX Live Utility 
will not know about the newly installed version.  There's an extra step needed: 
See https://tug.org/mactex/mactex-unix-download.html

(Sorry about the mangling of the URLs done by a Microsoft server; they should 
still work.)

John Collins

From P.Taylor at Hellenic-Institute.Uk  Sun Apr 10 19:51:45 2022
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor (Hellenic Institute))
Date: Sun, 10 Apr 2022 18:51:45 +0100
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <947e9934-af32-2a24-542f-3b1694df382c@psu.edu>
References: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
 <20220410144251.haeritwkc2i4dsil@beeblebrox>
 <947e9934-af32-2a24-542f-3b1694df382c@psu.edu>
Message-ID: <f693e21e-2522-5bd9-3c90-85c46bbf62db@Hellenic-Institute.Uk>

John Collins wrote:

> (Sorry about the mangling of the URLs done by a Microsoft server; they 
> should still work.)

If they don't, paste them here <https://www.o365atp.com/>.
-- 
/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220410/5f11667b/attachment.html>

From zdenek.wagner at gmail.com  Sun Apr 10 20:25:30 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 10 Apr 2022 20:25:30 +0200
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <f693e21e-2522-5bd9-3c90-85c46bbf62db@Hellenic-Institute.Uk>
References: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
 <20220410144251.haeritwkc2i4dsil@beeblebrox>
 <947e9934-af32-2a24-542f-3b1694df382c@psu.edu>
 <f693e21e-2522-5bd9-3c90-85c46bbf62db@Hellenic-Institute.Uk>
Message-ID: <CAC1phybY04iJPswoMCwgGN7wsurVsNozEcBB-=xPP+m4aHibQg@mail.gmail.com>

Hi,

I have an old version of generic TeX Live on Mac and have not
installed anything Mac specific. I did the same as suggested in the
Linux version, added the path to the binaries to the beginning of the
PATH variable. The problem is that bash in Linux executes .bashrc on
startup, GUI executes .bash_profile. It is not the case on a Mac. You
must open the properties of the terminal and configure the startup
file, without it .bashrc will not be used. Mac offers several schemes
for terminals and you must configure it to all of them.

BTW: I got the link to mactex download without any mangling.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

ne 10. 4. 2022 v 19:51 odes?latel Philip Taylor (Hellenic Institute)
<P.Taylor at hellenic-institute.uk> napsal:
>
> John Collins wrote:
>
> (Sorry about the mangling of the URLs done by a Microsoft server; they should still work.)
>
>
> If they don't, paste them here.
> --
> Philip Taylor


From muc_marek at icloud.com  Sun Apr 10 20:35:26 2022
From: muc_marek at icloud.com (Marek Stepanek)
Date: Sun, 10 Apr 2022 20:35:26 +0200
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <CAC1phybY04iJPswoMCwgGN7wsurVsNozEcBB-=xPP+m4aHibQg@mail.gmail.com>
References: <012F625D-2465-4DA0-85B5-F7B00CBFA455@icloud.com>
 <20220410144251.haeritwkc2i4dsil@beeblebrox>
 <947e9934-af32-2a24-542f-3b1694df382c@psu.edu>
 <f693e21e-2522-5bd9-3c90-85c46bbf62db@Hellenic-Institute.Uk>
 <CAC1phybY04iJPswoMCwgGN7wsurVsNozEcBB-=xPP+m4aHibQg@mail.gmail.com>
Message-ID: <3C704B34-876C-443E-866A-2D1ABB189445@icloud.com>



> On 10. Apr 2022, at 20:25, Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
> 
> Hi,
> 
> I have an old version of generic TeX Live on Mac and have not
> installed anything Mac specific. I did the same as suggested in the
> Linux version, added the path to the binaries to the beginning of the
> PATH variable. The problem is that bash in Linux executes .bashrc on
> startup, GUI executes .bash_profile. It is not the case on a Mac. You
> must open the properties of the terminal and configure the startup
> file, without it .bashrc will not be used. Mac offers several schemes
> for terminals and you must configure it to all of them.
> 
> BTW: I got the link to mactex download without any mangling.
> 
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> 
> ne 10. 4. 2022 v 19:51 odes?latel Philip Taylor (Hellenic Institute)
> <P.Taylor at hellenic-institute.uk> napsal:
>> 
>> John Collins wrote:
>> 
>> (Sorry about the mangling of the URLs done by a Microsoft server; they should still work.)
>> 
>> 
>> If they don't, paste them here.
>> --
>> Philip Taylor
> 

thx Zden?k, this thread is going mixed privately and to the mailing list.

As I said already privately to John Collins: I forgot to mention, that I used the MacTeX.pkg (binary) installer. And this at least four times. But this installer is not changing to the new version and I have had to change it via the TeX Live Utility. I switched several times from 2021 to 2022 version and back.

I will stick to my 2021 install, because hypersetup is not working anymore with 2022 install ... 





From koch at uoregon.edu  Sun Apr 10 21:17:39 2022
From: koch at uoregon.edu (Richard Koch)
Date: Sun, 10 Apr 2022 19:17:39 +0000
Subject: MacTeX Live 2022 Install Hassels
Message-ID: <7A46EAF8-5047-482A-A6D2-5C40CA5B0412@uoregon.edu>

Marek,

All the points I'll make below are made on the MacTeX web pages and I'd recommend them first in case of trouble.

MacTeX installs the full TeX Live in /usr/local/texlive/2022. The first thing I'd recommend if something fails is looking at that location to see if TeX is there. I'm sure it is on your machine.

Second, MacTeX installs a symbolic link which indirectly points to the binaries at

	/Library/TeX/texbin

All of our GUI apps are configured to look for TeX at that spot. When you use a GUI app (and there are tons available), point to this spot and it will work. 

If you are curious and decide to follow the link and see how it works, you'll be sorry. There is a complicated history behind the link. I once gave a TUG talk opposing the design because I had a bad case of paranoia about it. Finally someone cured my delusions. All very embarrassing. But if you just trust us and point to /Library/TeX/texbin, everything will work.

Or, if you don't like that, create your own link or configure your app to go to

	/usr/local/texlive/2022/bin/universal-darwin

-----------

You seem to have run into trouble because instead of running a standard GUI app, you ran pandoc. That's fine, of course. The trouble for me is that your message doesn't explain how you call pandoc, so it's impossible for me to help, and instead you dissect texbin, which brings back memories of a TUG talk and doesn't help debug.


Feel free to write me directly and I think we can solve this problem in short order.

Richard Koch
koch at uoregon.edu

From koch at uoregon.edu  Sun Apr 10 21:45:30 2022
From: koch at uoregon.edu (Richard Koch)
Date: Sun, 10 Apr 2022 19:45:30 +0000
Subject: MacTeX Live 2022 Install Hassels
Message-ID: <4C757649-C8E9-45E4-860C-E3AE3C47B0BF@uoregon.edu>

Marek,

I've now read other comments more closely, and also your original question and response more closely
You installed MacTeX-2022 and it looks to me like everything worked as expected. Your problem was that pandoc didn't work.

Please issue the following commands in Terminal

cd /Library/TeX/texbin
ls

If you see a list of lots of TeX binaries, then the symbolic link is working correctly.

I suspect you don't use TeXShop, but my program has a "Pandoc Engine".You won't want to use it directly, but it illustrates that nothing very fancy needs to happen when you call pandoc:

--------
#!/bin/zsh

# pandoc takes an input file (including markdown) and writes an output file (html, pdf, latex, ...)

PATH=$PATH:/Library/TeX/texbin:/usr/texbin:/usr/local/bin

OUTFILE="`basename $1`"

OUTFILE="${OUTFILE%.*}.html"

# echo $OUTFILE

pandoc  -s "$1"  -o $OUTFILE

/Applications/Safari.app/Contents/MacOS/Safari "$OUTFILE"  &
-------

Why not try another experiment in Terminal. Temporarily set your PATH to just point to /Library/TeX/texbin
in Terminal, and then change to a directory with a pandoc document and call pandoc from within that Terminal session. Does that work?

If so but there are still problems, explain how you actuall call pandoc in your work flow.

Richard Koch
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220410/aaf27d87/attachment-0001.html>

From karl at freefriends.org  Sun Apr 10 22:40:54 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 10 Apr 2022 14:40:54 -0600
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <ff8ebc83-c4fc-dd01-fdf8-86f3e187c048@psu.edu>
Message-ID: <202204102040.23AKesG2003420@freefriends.org>

Hi John (and Dick),

    By the way, at the end of the TeX Live 2022 there is a paragraph
    about setting various environment variables.  

I presume you mean PATH (and, the rather uninteresting, MANPATH and
INFOPATH).

    This should be ignored under macOS.

I don't understand why.  Something has to set PATH. Indeed, wasn't that
exactly Marek's problem?

Our generic install-tl script cannot assume (or know) that it is being
called by the MacTeX installer. It is quite possible to install and use
TL on Macs without the /Library stuff or anything MacTeX-specific at
all. It all depends on what the user wants.

The MacTeX installer could set the envvar TEXLIVE_INSTALL_NO_WELCOME=1
before calling install-tl to omit the welcome msg. It should probably do
that. Dick? --best, karl.

P.S. There are other TEXLIVE_INSTALL_* envvars to control various
aspects of install-tl behavior, apart from the cmd line options.
https://www.tug.org/texlive/doc/install-tl.html#ENVIRONMENT-VARIABLES

From koch at uoregon.edu  Mon Apr 11 00:35:11 2022
From: koch at uoregon.edu (Richard Koch)
Date: Sun, 10 Apr 2022 22:35:11 +0000
Subject: MacTeX Live 2022 Install Hassels
Message-ID: <70187C8D-0D07-4A4C-ABE2-36E10DFC04A4@uoregon.edu>

Folks,

Karl Berry knows everything there is to know about TeX. It's useful to have such a person around.

However, the recent message from Karl in this thread is a little confusing, particularly when we come to the sentence  "Our generic install-tl script cannot assume (or know) that it is being called by the MacTeX installer."

This is confusing because the MacTeX installer never calls the Unix install-tl script.

There are two ways to install TeX Live 2022 on a Mac. One method is to download and install the MacTeX-2022 package. That is what Marek Stepanek actually did. When a user does this, they click one or two buttons that say "OK" and then installation occurs without any further action. The installer never asks questions. It just does its thing.

In this process, three things happen which users on other platforms sometimes find confusing, but they are completely natural on a Mac:

1) The installer creates a symbolic link /Library/TeX/texbin which points to the tex binary directory. Users don't have to use this link; it is there because most GUI TeX Software on the Mac (both open source and commercial) uses it to find TeX.

2) There is a way to determine whether letter size paper or A4 paper is being used on the Mac, and MacTeX looks up that information and automatically resets papersize in TeX.

3) On Linux and other machines, users control PATH with shell initialization software, so setting up PATH is a key step. On the Mac, the majority of users never use the command line, so the Mac has a default way to set up PATH in Terminal for casual users. This Apple method can be slightly modified, and MacTeX uses an Apple method to add /Library/TeX/texbin to the END of the default PATH used by Terminal. This means that if a casual user is told to run TeX from the command line, it will work. More technically minded users set up PATH on their own and our method doesn't interfere with them.

--------------

The second method of installing TeX on the Mac is to use the Unix install script. In that case there isn't any MacTeX. It is the Unix install script you all know all love, pure and simple.

We use this method on the DVD, because otherwise the DVD would have two complete copies of TeX Live.

Users of older machines also use it because the Unix install script is the only way to run the x86_64-darwinlegacy binaries. This year, for example, MacTeX works on macOS Big Sur and higher, but the Unix script works on Snow Leopard and above, so almost all Macs still running.

--------------

As everyone on this list knows, the install script ends by telling users to set up their PATH appropriately. That's fine. We have no desire to modify the install script in any way.

By now Mac users are familiar with the /Library/TeX/texbin link, and all of their GUI software has been configured to use it. So on both the DVD and on our web site, we provide a tiny extra install package at the very end. It runs on Snow Leopard and above, and the only thing it does is to create that symbolic link (and associated structure). It is called TeXDist-2022 and was mentioned by several people in the thread who assumed that Marek installed with the install script.

I suspect Marek's problems are easily solved, but won't know until we connect up.


Dick Koch

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220410/25616e45/attachment.html>

From karl at freefriends.org  Mon Apr 11 00:49:06 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 10 Apr 2022 16:49:06 -0600
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <70187C8D-0D07-4A4C-ABE2-36E10DFC04A4@uoregon.edu>
Message-ID: <202204102249.23AMn6ip020587@freefriends.org>

    This is confusing because the MacTeX installer never calls the Unix
    install-tl script.

Dick, you can just tell me when I'm totally off-base :).

I was mixing up the normal mactex install with the dvd install, from the
context. I do know the mactex installer doesn't call install-tl. -k

From muc_marek at icloud.com  Mon Apr 11 08:41:17 2022
From: muc_marek at icloud.com (Marek Stepanek)
Date: Mon, 11 Apr 2022 08:41:17 +0200
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <202204102040.23AKesG2003420@freefriends.org>
References: <202204102040.23AKesG2003420@freefriends.org>
Message-ID: <C8678BA8-1FD8-4848-9CCA-7DE3680C6B44@icloud.com>

Hello all,

Thank you for this great echo. I am new on this list, and made some mistakes with my first posting.

1. I mangled up private dialogues and mailing list (-; or was it John [Collins] ;-)
2. I forgot to mention, I used the binary installer (MacTeX.pkg)

Sorry for it! Finally I have found two issues: 

1. the package installer does not change the symlinks from 2021 => 2022. In former installs this was in any case the normal behaviour. 

2. I have now an issue with \hypersetup which is not working anymore under 2022 install. I have actually no time, to test with a pure LaTeX file and will stick to 2021. 


Thx again for all your replies


marek









From jcc8 at psu.edu  Mon Apr 11 18:24:24 2022
From: jcc8 at psu.edu (John Collins)
Date: Mon, 11 Apr 2022 12:24:24 -0400
Subject: MacTeX Live 2022 Install Hassels
In-Reply-To: <202204102040.23AKesG2003420@freefriends.org>
References: <202204102040.23AKesG2003420@freefriends.org>
Message-ID: <1627527f-4a3f-2d6d-08d8-0b839a58fc6d@psu.edu>

Hi Karl,

On 4/10/22 4:40 PM, Karl Berry wrote:
> Hi John (and Dick),
> 
>      By the way, at the end of the TeX Live 2022 there is a paragraph
>      about setting various environment variables.
> 
> I presume you mean PATH (and, the rather uninteresting, MANPATH and
> INFOPATH). >
>      This should be ignored under macOS.
> 
> I don't understand why.  Something has to set PATH. Indeed, wasn't that
> exactly Marek's problem?

Actually not.  His PATH was set correctly, since it contained the item 
/Library/TeX/texbin, and needed no change.  (That was the almost the first 
thing I looked for in the original message.)  In Marek's case, the problem is 
definitely somewhere else.

John

From siepo at bitmuis.nl  Mon Apr 11 20:59:32 2022
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 11 Apr 2022 20:59:32 +0200
Subject: Texlive 2022 cannot =?utf-8?Q?install_?=
 =?utf-8?Q?on_a_15=E2=80=9D?= M1 MacBook Pro
In-Reply-To: <CAN3_V1MATVBEnX7H4bO-L919zVamDNu0fCSsvhuLDZNU04VW-Q@mail.gmail.com>
References: <CAN3_V1MATVBEnX7H4bO-L919zVamDNu0fCSsvhuLDZNU04VW-Q@mail.gmail.com>
Message-ID: <YlR6lFtIOaWd3hR7@bitmuis.nl>

On Wed, Apr 06, 2022 at 05:38:32PM -0700, Luke Mo wrote:
> Dear Sir:
> 
> When install Texlive 2022 on a 15? M1 MacBook Pro, the popup installation
> window for ?wish? is dark. And there is no way to install it.

install-tl -gui text

should work.

We are changing the default interface to text mode for installation
on macOS.  If gui mode is requested, the installer first tests for
wish, and if not found it reverts to text mode.  Unfortunately, on
Monterey wish exists but is broken.

Sorry for the late reply.

-- 
Siep Kroonenberg

From hartmut_henkel at gmx.de  Tue Apr 12 13:55:24 2022
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 12 Apr 2022 13:55:24 +0200 (CEST)
Subject: tixzlings problem?
Message-ID: <a0a1d0f1-c35-d8c7-327e-1dc043f414f3@hahepc1.hahe>

Hi,

this code snippet

\documentclass[a4paper,12pt]{article}
\usepackage{tikzlings}
\begin{document}
Hi \marmot.
\end{document}

gives here, with today's TeX Live:

[...]
(/usr/local/texlive/2022/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg))

! LaTeX Error: Environment scope undefined.

See the LaTeX manual or LaTeX Companion for explanation.
[...]

What could be wrong here?

Best Regards, Hartmut

From phe.h.o1 at gmail.com  Tue Apr 12 14:02:37 2022
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 12 Apr 2022 09:02:37 -0300
Subject: tixzlings problem?
In-Reply-To: <a0a1d0f1-c35-d8c7-327e-1dc043f414f3@hahepc1.hahe>
References: <a0a1d0f1-c35-d8c7-327e-1dc043f414f3@hahepc1.hahe>
Message-ID: <CANfjC0_32xsRE_RmmWnw75TrCY-ny7nLXq+1P+cdYvTFpW6vjA@mail.gmail.com>

Hi Hartmut,

On Tue, Apr 12, 2022 at 8:56 AM Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
>
> \documentclass[a4paper,12pt]{article}
> \usepackage{tikzlings}
> \begin{document}
> Hi \marmot.
> \end{document}

TikZlings commands aren't "standalone" (for the lack of a better word).
You have to use them inside a |tikzpicture| environment or |\tikz|:

    \documentclass[a4paper,12pt]{article}
    \usepackage{tikzlings}
    \begin{document}
    Hi \tikz\marmot;.
    \end{document}

Best,
Phelype

From hartmut_henkel at gmx.de  Tue Apr 12 14:16:56 2022
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 12 Apr 2022 14:16:56 +0200 (CEST)
Subject: tixzlings problem?
In-Reply-To: <CANfjC0_32xsRE_RmmWnw75TrCY-ny7nLXq+1P+cdYvTFpW6vjA@mail.gmail.com>
References: <a0a1d0f1-c35-d8c7-327e-1dc043f414f3@hahepc1.hahe>
 <CANfjC0_32xsRE_RmmWnw75TrCY-ny7nLXq+1P+cdYvTFpW6vjA@mail.gmail.com>
Message-ID: <d3a122d-6537-f73f-67f9-9e25a1d1591@hahepc1.hahe>

Dear Phelype,

On Tue, 12 Apr 2022, Phelype Oleinik wrote:
> On Tue, Apr 12, 2022 at 8:56 AM Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
> >
> > \documentclass[a4paper,12pt]{article}
> > \usepackage{tikzlings}
> > \begin{document}
> > Hi \marmot.
> > \end{document}
>
> TikZlings commands aren't "standalone" (for the lack of a better
> word). You have to use them inside a |tikzpicture| environment or
> |\tikz|:
>
>     \documentclass[a4paper,12pt]{article}
>     \usepackage{tikzlings}
>     \begin{document}
>     Hi \tikz\marmot;.
>     \end{document}

indeed, the problem was in front of the monitor :-) Should have read the
manual more carefully. Many thanks for your help!

Best Regards, Hartmut

From karl at freefriends.org  Wed Apr 13 02:49:53 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 12 Apr 2022 18:49:53 -0600
Subject: tlmgr bug on tlmgr check files in usermode
In-Reply-To: <CAL9ss_gBybGX742pkDj0HVUU+_AgmgJWe25-EGh=WG1yBjcLug@mail.gmail.com>
Message-ID: <202204130049.23D0nraO020593@freefriends.org>

    *Should man page mention that the log is in TEXMFHOME/web2c in usermode 

Yes. 

    tlmgr check should ignore these logs?*

Yes.

Committed in r63018, but I want to take a little time before pushing
this out as an update. If you could manually install the patch below and
make sure it works as intended, that would be great.

Thanks,
Karl

--- tlmgr.pl	(revision 63010)
+++ tlmgr.pl	(working copy)
@@ -5614,6 +5614,7 @@
     tlpkg/texlive.tlpdb tlpkg/tlpobj tlpkg/texlive.profile
     texmf-config/ texmf-var/
     texmf.cnf texmfcnf.lua install-tl.log
+    tlmgr.log tlmgr-commands.log
   !;
   my %tltreefiles = %{$tltree->{'_allfiles'}};
   my @tlpdbfiles = keys %filetopacks;
@@ -9648,6 +9649,11 @@
 In user mode, these actions operate only on the user tree's
 configuration files and/or C<texlive.tlpdb>.
 
+=head2 User mode logs
+
+In user mode, C<tlmgr.log> and <tlmgr-commands.log> are written in the 
+C<USERTREE/web2c/> directlry instead of C<TEXMFSYSVAR/web2c/>.
+
 =head1 MULTIPLE REPOSITORIES
 
 The main TeX Live repository contains a vast array of packages.

From jfine2358 at gmail.com  Wed Apr 13 18:32:25 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 13 Apr 2022 17:32:25 +0100
Subject: No TeX Hour tomorrow. Next TeX Hour Thu 21 April: 6:30pm UK time
In-Reply-To: <CALD=Yf9jCWMVzAq6x3OvEa6kdjj+MLvA1qYMhuhYE+DkjvaWtg@mail.gmail.com>
References: <CALD=Yf9jCWMVzAq6x3OvEa6kdjj+MLvA1qYMhuhYE+DkjvaWtg@mail.gmail.com>
Message-ID: <CALD=Yf9ZMojOx0f=3p+Um4_tPzuV4BgO5TZEFjEu=HbN9-hYpA@mail.gmail.com>

Hi

There won't be a TeX Hour tomorrow. The next TeX Hour will be on Thursday
21 April at 6:30pm.

Last week: Accessible Tables, small publisher typesetting (Abbas Jaffary),
ICM 2022 (Paulo Ney de Souza). Martin Ruckert's HINT.
https://youtu.be/JIL5R5WVFjQ

wishing you happy TeXing

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220413/b6ca8f88/attachment.html>

From thenders at gmail.com  Wed Apr 13 20:17:27 2022
From: thenders at gmail.com (Troy Henderson)
Date: Wed, 13 Apr 2022 13:17:27 -0500
Subject: Default Paper Size
Message-ID: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>

I recently installed Fedora Linux on a computer, and several packages
require that I have TeX Live installed through Fedora's package
system/repositories.  However, the default paper size in this distribution
of TeX Live 2021 is A4, and I would like to change it to Letter.

The command "tlmgr paper letter" does not seem to affect LuaTeX
(specifically, LuaLaTeX) and fails with the following output:

> sudo tlmgr paper letter
tlmgr: setting paper size for dvipdfmx to letter:
/usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
tlmgr: setting paper size for dvips to letter:
/usr/share/texlive/texmf-config/dvips/config/config.ps
tlmgr: setting paper size for pdftex to letter:
/usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
tlmgr: setting paper size for psutils to letter:
/usr/share/texlive/texmf-config/psutils/paper.cfg
tlmgr: setting paper size for xdvi to letter:
/usr/share/texlive/texmf-config/xdvi/XDvi
tlmgr: An error has occurred. See above messages. Exiting.

This is almost certainly a Fedora TeX Live packaging issue, and it could be
resolved (I'm confident) by manually installing the binary TeX Live
distribution directly from TUG (which I have done many times before).
However, this is an undesirable solution because it may cause other
packages (that depend on TeX Live) to be "confused" and also would result
in twice the storage used (having side-by-side installations of TeX Live).

My question is "how can I 'fix' this problem?".  Specifically, are either
of the following possible:

   - Is it possible to change the default paper size without having to use
   tlmgr?  Does tlmgr call/execute a particular command that could possibly be
   executed manually?
   - Is it possible to set the default paper size for Lua(La)TeX from the
   command line?  For example, "lualatex --defaultpapersize letter" (or
   similar)?

Thank you in advance,

Troy Henderson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220413/e967fa73/attachment.html>

From reinhard.kotucha at gmx.de  Thu Apr 14 00:05:15 2022
From: reinhard.kotucha at gmx.de (Reinhard Kotucha)
Date: Thu, 14 Apr 2022 00:05:15 +0200
Subject: Default Paper Size
In-Reply-To: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
Message-ID: <25175.18715.71377.971781@gargle.gargle.HOWL>

On 2022-04-13 at 13:17:27 -0500, Troy Henderson wrote:

 > I recently installed Fedora Linux on a computer, and several packages
 > require that I have TeX Live installed through Fedora's package
 > system/repositories.  However, the default paper size in this distribution
 > of TeX Live 2021 is A4, and I would like to change it to Letter.
 >
 > The command "tlmgr paper letter" does not seem to affect LuaTeX
 > (specifically, LuaLaTeX) and fails with the following output:
 >
 > > sudo tlmgr paper letter
 > tlmgr: setting paper size for dvipdfmx to letter:
 > /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
 > tlmgr: setting paper size for dvips to letter:
 > /usr/share/texlive/texmf-config/dvips/config/config.ps
 > tlmgr: setting paper size for pdftex to letter:
 > /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
 > tlmgr: setting paper size for psutils to letter:
 > /usr/share/texlive/texmf-config/psutils/paper.cfg
 > tlmgr: setting paper size for xdvi to letter:
 > /usr/share/texlive/texmf-config/xdvi/XDvi
 > tlmgr: An error has occurred. See above messages. Exiting.
 >
 > This is almost certainly a Fedora TeX Live packaging issue, and it could be
 > resolved (I'm confident) by manually installing the binary TeX Live
 > distribution directly from TUG (which I have done many times before).
 > However, this is an undesirable solution because it may cause other
 > packages (that depend on TeX Live) to be "confused" and also would result
 > in twice the storage used (having side-by-side installations of TeX Live).
 >
 > My question is "how can I 'fix' this problem?".  Specifically, are either
 > of the following possible:
 >
 >    - Is it possible to change the default paper size without having to use
 >    tlmgr?  Does tlmgr call/execute a particular command that could possibly be
 >    executed manually?
 >    - Is it possible to set the default paper size for Lua(La)TeX from the
 >    command line?  For example, "lualatex --defaultpapersize letter" (or
 >    similar)?

Does it work with pdftex?  Then you probably have to re-generate the
lua[la]tex format files.

The file luatexconfig.tex, which is read when the format files are
created, contains:

   \input{pdftexconfig}%

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at gmx.de
------------------------------------------------------------------


From norbert at preining.info  Thu Apr 14 02:20:35 2022
From: norbert at preining.info (Norbert Preining)
Date: Thu, 14 Apr 2022 09:20:35 +0900
Subject: Default Paper Size
In-Reply-To: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
Message-ID: <Yldo04yYSYo65tkP@bulldog>

Hi Troy,

(also answering here, but please refrain from double posting, first try
one, then the other).

first of all, I have no idea about Fedora's packaging of TL, but I know
how I did the packaging in Debian, and I know upstream TL quite well.

> The command "tlmgr paper letter" does not seem to affect LuaTeX

I don't think that tlmgr paper will work out of the box in Fedora.
tlmgr is a package manager, and making it work would mean interfering
with rpm/dnf/whatever fedora uses. Thus, I guess that your changes
didn't work.

> > sudo tlmgr paper letter
> tlmgr: setting paper size for dvipdfmx to letter:
> /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
> tlmgr: setting paper size for dvips to letter:
> /usr/share/texlive/texmf-config/dvips/config/config.ps
> tlmgr: setting paper size for pdftex to letter:
> /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
> tlmgr: setting paper size for psutils to letter:
> /usr/share/texlive/texmf-config/psutils/paper.cfg
> tlmgr: setting paper size for xdvi to letter:
> /usr/share/texlive/texmf-config/xdvi/XDvi
> tlmgr: An error has occurred. See above messages. Exiting.

It is strange that there is no other indication of what went wrong.
If you can reproduce this with 
	tlmgr -v paper letter
(or even -v -v) and send me the output, I can take a look.

> This is almost certainly a Fedora TeX Live packaging issue, and it could be

Yes, so I suggest contacting Fedora about this. Nothing we here can fix.
The least this list (luatex), but even the main tex-live mailing list
wouldn't be perfect (although some fedora users might help you there).

> resolved (I'm confident) by manually installing the binary TeX Live
> distribution directly from TUG (which I have done many times before).

Yes, that is what I do, too.

> However, this is an undesirable solution because it may cause other
> packages (that depend on TeX Live) to be "confused" and also would result
> in twice the storage used (having side-by-side installations of TeX Live).

confusion comes from PATH setup. You have to make sure that the TUG TL
comes first in the PATH.

Concerning storage size: In Debian you can use the "equivs" command to
create a package that *fakes* an installation, see
	https://www.tug.org/texlive/debian.html
under "Integrating vanilla TeX Live with Debian"

I am pretty sure there is something similar for Fedora, too.

>    - Is it possible to change the default paper size without having to use
>    tlmgr?  Does tlmgr call/execute a particular command that could possibly be
>    executed manually?

Change the configuration files used. The question is where these files
are located in Fedora. Maybe in /etc/texmf ?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From thenders at gmail.com  Thu Apr 14 03:39:51 2022
From: thenders at gmail.com (Troy Henderson)
Date: Wed, 13 Apr 2022 20:39:51 -0500
Subject: Default Paper Size
In-Reply-To: <25175.18715.71377.971781@gargle.gargle.HOWL>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
 <25175.18715.71377.971781@gargle.gargle.HOWL>
Message-ID: <CAFP+xFLri8V-E8s1wT9qDVXvKG=WL9fq-QQY7NT9p-+x0fRgBw@mail.gmail.com>

>
> Does it work with pdftex?  Then you probably have to re-generate the
> lua[la]tex format files.
>

Yes, PDFLaTeX respected the paper size change from tlmgr.  The
re-generation of the format files is what was necessary, but I couldn't
figure out the correct command.  The command

fmtutil-sys --all

did exactly what was needed.  Thank you!

Troy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220413/e084b7ad/attachment.html>

From pablgonz at educarchile.cl  Thu Apr 14 04:05:38 2022
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Gonz=C3=A1lez_L?=)
Date: Wed, 13 Apr 2022 22:05:38 -0400
Subject: Default Paper Size
Message-ID: <CANeU4n-RWRHC=0pG1b6ZSfa=U6nGV9YB4q+-e2gJd-=EO0vBTA@mail.gmail.com>

Hello, you should take a look at:

https://tex.stackexchange.com/questions/301126/how-to-install-vanilla-texlive-on-fedora

Personally, it is not recommended to rely on `dnf` for TeX Live
installation (it is always out of date), it is better to remove
whatever `dnf` installs, then to load the repo:

https://copr.fedorainfracloud.org/coprs/fatka/texlive-dummy/

then:

dnf -y install perl-Tk

and then follow with a clean install of TeX Live 2022 :D

Salu2

From zdenek.wagner at gmail.com  Thu Apr 14 14:15:43 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 14 Apr 2022 14:15:43 +0200
Subject: Default Paper Size
In-Reply-To: <Yldo04yYSYo65tkP@bulldog>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
 <Yldo04yYSYo65tkP@bulldog>
Message-ID: <CAC1phybkMq5E3zPvrGSdthniCoL3r4et-DwGx930Cypao2ZWVA@mail.gmail.com>

Hi all,

I am not aware of "equiv TL packages" in Redhat based distros, maybe
Jind?ich Nov? could know more (I am sending cc). Anyway, you have to
install these packages because dnf/rpm dependencies requires it. On
the other hand, when the installed tools call text binaries, they use
whatever is first at PATH. Thus you can have TeX Live from TUG and the
Fedora packages will never be used. I have both with TL from TUG at
the beginning of PATH and usually I do not care that I have the Fedora
packages because my disk is large enough but sometimes, e.g. on a
notepad with a small disk, installation of TL packages consumes too
much space. This is a problem of R-project. I am not an R programmer,
I will never use TeX for typesetting R documentation, I only want to
run trivial R programs written by someone else, yet I am forced to
install the TL packages due to dependencies. And it is the same on a
Mac if I need the R-project from macports. In fact I am not allowed to
used the R-project on some of my computers because i have no space for
TeX. Thus the ability of ignoring the dependences on TeX while
accepting other dependences will be useful.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

?t 14. 4. 2022 v 2:20 odes?latel Norbert Preining
<norbert at preining.info> napsal:
>
> Hi Troy,
>
> (also answering here, but please refrain from double posting, first try
> one, then the other).
>
> first of all, I have no idea about Fedora's packaging of TL, but I know
> how I did the packaging in Debian, and I know upstream TL quite well.
>
> > The command "tlmgr paper letter" does not seem to affect LuaTeX
>
> I don't think that tlmgr paper will work out of the box in Fedora.
> tlmgr is a package manager, and making it work would mean interfering
> with rpm/dnf/whatever fedora uses. Thus, I guess that your changes
> didn't work.
>
> > > sudo tlmgr paper letter
> > tlmgr: setting paper size for dvipdfmx to letter:
> > /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
> > tlmgr: setting paper size for dvips to letter:
> > /usr/share/texlive/texmf-config/dvips/config/config.ps
> > tlmgr: setting paper size for pdftex to letter:
> > /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
> > tlmgr: setting paper size for psutils to letter:
> > /usr/share/texlive/texmf-config/psutils/paper.cfg
> > tlmgr: setting paper size for xdvi to letter:
> > /usr/share/texlive/texmf-config/xdvi/XDvi
> > tlmgr: An error has occurred. See above messages. Exiting.
>
> It is strange that there is no other indication of what went wrong.
> If you can reproduce this with
>         tlmgr -v paper letter
> (or even -v -v) and send me the output, I can take a look.
>
> > This is almost certainly a Fedora TeX Live packaging issue, and it could be
>
> Yes, so I suggest contacting Fedora about this. Nothing we here can fix.
> The least this list (luatex), but even the main tex-live mailing list
> wouldn't be perfect (although some fedora users might help you there).
>
> > resolved (I'm confident) by manually installing the binary TeX Live
> > distribution directly from TUG (which I have done many times before).
>
> Yes, that is what I do, too.
>
> > However, this is an undesirable solution because it may cause other
> > packages (that depend on TeX Live) to be "confused" and also would result
> > in twice the storage used (having side-by-side installations of TeX Live).
>
> confusion comes from PATH setup. You have to make sure that the TUG TL
> comes first in the PATH.
>
> Concerning storage size: In Debian you can use the "equivs" command to
> create a package that *fakes* an installation, see
>         https://www.tug.org/texlive/debian.html
> under "Integrating vanilla TeX Live with Debian"
>
> I am pretty sure there is something similar for Fedora, too.
>
> >    - Is it possible to change the default paper size without having to use
> >    tlmgr?  Does tlmgr call/execute a particular command that could possibly be
> >    executed manually?
>
> Change the configuration files used. The question is where these files
> are located in Fedora. Maybe in /etc/texmf ?
>
> Best
>
> Norbert
>
> --
> PREINING Norbert                              https://www.preining.info
> Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From rdtennent at gmail.com  Fri Apr 15 18:21:05 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 15 Apr 2022 12:21:05 -0400
Subject: texlua issue on raspberry pi
Message-ID: <CAGtK6=FdSzEXVrg=EcW_wLXfjoPE4N8kxUjwy_PST4+o2NpWWA@mail.gmail.com>

texlua: /lib/arm-linux-gnueabihf/libm.so.6: version `GLIBC_2.29' not found
(required by texlua)

This on a newly installed TL-2022.

Bob T.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/ee4ae525/attachment.html>

From henri at henrimenke.de  Fri Apr 15 18:24:12 2022
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 15 Apr 2022 18:24:12 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CAGtK6=FdSzEXVrg=EcW_wLXfjoPE4N8kxUjwy_PST4+o2NpWWA@mail.gmail.com>
References: <CAGtK6=FdSzEXVrg=EcW_wLXfjoPE4N8kxUjwy_PST4+o2NpWWA@mail.gmail.com>
Message-ID: <6ca03237dd964eb732f10035faeb0133b8aa80ea.camel@henrimenke.de>

On Fri, 2022-04-15 at 12:21 -0400, Bob Tennent wrote:
> texlua: /lib/arm-linux-gnueabihf/libm.so.6: version `GLIBC_2.29' not
> found
> (required by texlua)

Cool story.



What operating system?

Cheers, Henri

> 
> This on a newly installed TL-2022.
> 
> Bob T.


From rdtennent at gmail.com  Fri Apr 15 19:49:13 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 15 Apr 2022 13:49:13 -0400
Subject: texlua issue on raspberry pi
Message-ID: <CAGtK6=FJZ3x0qH+PAUPQmT32aBKMDbvgJutJ4YEFqs97szJcNg@mail.gmail.com>

> What operating system?

I think it's called Raspbian, the Raspberry Pi variant of Debian. More
specifically: rpi3 5.10.63-v7+ #1496 according to uname.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/d271aa36/attachment.html>

From henri at henrimenke.de  Fri Apr 15 20:37:29 2022
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 15 Apr 2022 20:37:29 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CAGtK6=FJZ3x0qH+PAUPQmT32aBKMDbvgJutJ4YEFqs97szJcNg@mail.gmail.com>
References: <CAGtK6=FJZ3x0qH+PAUPQmT32aBKMDbvgJutJ4YEFqs97szJcNg@mail.gmail.com>
Message-ID: <8041f6e7208d749cfa66103ba600b91afb08e4a3.camel@henrimenke.de>

On Fri, 2022-04-15 at 13:49 -0400, Bob Tennent wrote:
> > What operating system?
> 
> I think it's called Raspbian, the Raspberry Pi variant of Debian.
> More
> specifically: rpi3 5.10.63-v7+ #1496 according to uname.

That's only the kernel version but texlua is complaining about the
version of glibc. Check the following instead:
* lsb_release -a
* cat /etc/os-release
* dpkg -l libc6
Please make sure that you are running Raspian 11 (Bullseye) since
that's what the armhf binaries of TeX Live have been compiled for.

Cheers, Henri

From rdtennent at gmail.com  Fri Apr 15 21:52:07 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 15 Apr 2022 15:52:07 -0400
Subject: texlua issue on raspberry pi
Message-ID: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>

>Check the following instead:
* lsb_release -a

No LSB modules are available.
Distributor ID: Raspbian
Description: Raspbian GNU/Linux 10 (buster)
Release: 10
Codename: buster

* cat /etc/os-release

PRETTY_NAME="Raspbian GNU/Linux 10 (buster)"
NAME="Raspbian GNU/Linux"
VERSION_ID="10"
VERSION="10 (buster)"
VERSION_CODENAME=buster
ID=raspbian
ID_LIKE=debian
HOME_URL="http://www.raspbian.org/"
SUPPORT_URL="http://www.raspbian.org/RaspbianForums"
BUG_REPORT_URL="http://www.raspbian.org/RaspbianBugs"

* dpkg -l libc6

Desired=Unknown/Install/Remove/Purge/Hold
|
Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name           Version           Architecture Description
+++-==============-=================-============-=================================
ii  libc6:armhf    2.28-10+rpt2+rpi1 armhf        GNU C Library: Shared
libraries

>Please make sure that you are running Raspian 11 (Bullseye) since
that's what the armhf binaries of TeX Live have been compiled for.

Apparently I'm not but I have no intention of updating the operating system
on this device. Is there no alternative approach?  I suppose I could
reinstall TL2021, which didn't have this issue.

Bob T.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/d32e2e29/attachment.html>

From henri at henrimenke.de  Fri Apr 15 22:07:29 2022
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 15 Apr 2022 22:07:29 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
Message-ID: <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>

On Fri, 2022-04-15 at 15:52 -0400, Bob Tennent wrote:
> > Check the following instead:
> * lsb_release -a
> 
> No LSB modules are available.
> Distributor ID: Raspbian
> Description: Raspbian GNU/Linux 10 (buster)
> Release: 10
> Codename: buster
> 
> * cat /etc/os-release
> 
> PRETTY_NAME="Raspbian GNU/Linux 10 (buster)"
> NAME="Raspbian GNU/Linux"
> VERSION_ID="10"
> VERSION="10 (buster)"
> VERSION_CODENAME=buster
> ID=raspbian
> ID_LIKE=debian
> HOME_URL="http://www.raspbian.org/"
> SUPPORT_URL="http://www.raspbian.org/RaspbianForums"
> BUG_REPORT_URL="http://www.raspbian.org/RaspbianBugs"
> 
> * dpkg -l libc6
> 
> Desired=Unknown/Install/Remove/Purge/Hold
> > 
> Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-
> aWait/Trig-pend
> > / Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
> > > / Name?????????? Version?????????? Architecture Description
> +++-==============-=================-============-
> =================================
> ii? libc6:armhf??? 2.28-10+rpt2+rpi1 armhf??????? GNU C Library: Shared
> libraries
> 
> > Please make sure that you are running Raspian 11 (Bullseye) since
> that's what the armhf binaries of TeX Live have been compiled for.
> 
> Apparently I'm not but I have no intention of updating the operating
> system
> on this device. Is there no alternative approach?? I suppose I could
> reinstall TL2021, which didn't have this issue.

You have a couple of options:
- Upgrade Raspbian to 11
- Downgrade TeX Live to 2021
- Recompile the TeX Live binaries on Raspbian 10
- Ask Johannes Hieschler to compile the binaries in TeX Live 2023 on
Raspbian 10 again and wait for TeX Live 2023

Unrelated, but please use the "Reply to list" functionality of you
email client when answering emails on the list. You emails are all
lacking the In-Reply-To header with the message id of the thread, so
every time you write to the list, the server thinks that the message is
unrelated which messes up the thread. Right now it looks like you are
replying to yourself:
https://tug.org/pipermail/tex-live/2022-April/thread.html

Cheers, Henri

> 
> Bob T.


From reinhard.kotucha at gmx.de  Fri Apr 15 22:56:51 2022
From: reinhard.kotucha at gmx.de (Reinhard Kotucha)
Date: Fri, 15 Apr 2022 22:56:51 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
Message-ID: <25177.56339.449564.482387@gargle.gargle.HOWL>

On 2022-04-15 at 15:52:07 -0400, Bob Tennent wrote:

 >> Please make sure that you are running Raspian 11 (Bullseye) since
 >> that's what the armhf binaries of TeX Live have been compiled for.
 >
 > Apparently I'm not but I have no intention of updating the
 > operating system on this device. Is there no alternative approach?
 > I suppose I could reinstall TL2021, which didn't have this issue.

It's definitely not desirable to compile the binaries with the latest
OS release, just in order to avoid these nasty libc problems.

For this reason Karl deliberately compiles TL for x86_64-linux on a
reasonably old system.  They perfectly work on newer systems too.

I'm also not inclined to install a newer version of Raspbian right now
either, especially because security updates are still available.
Instead I'm now compiling TeX Live on Raspbian GNU/Linux 10 (buster).

This takes a lot of time because Raspberries are much slower than my
main machine and because I currently use only one of the four CPUs.
When I instruct Make to use all CPUs the system runs out of memory and
crashes when it tries to compile four programs at the same time.

When I succeed I'll put the binaries on my web server and let you
know.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at gmx.de
------------------------------------------------------------------


From rdtennent at gmail.com  Fri Apr 15 22:57:31 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 15 Apr 2022 16:57:31 -0400
Subject: replying to the list
Message-ID: <CAGtK6=Hw-+y+fE6AMbYfANuFdizLwwCQUDKsncgBiGNaKHCApg@mail.gmail.com>

>please use the "Reply to list" functionality of you
email client when answering emails on the list.

I was configured to receive the digest and so wasn't actually "replying" to
individual posts.

Bob T.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/357a2211/attachment-0001.html>

From henri at henrimenke.de  Fri Apr 15 23:01:49 2022
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 15 Apr 2022 23:01:49 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <25177.56339.449564.482387@gargle.gargle.HOWL>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <25177.56339.449564.482387@gargle.gargle.HOWL>
Message-ID: <e9dad623e58e58385dccae20adc78c8a8e1c94e8.camel@henrimenke.de>

On Fri, 2022-04-15 at 22:56 +0200, Reinhard Kotucha wrote:
> On 2022-04-15 at 15:52:07 -0400, Bob Tennent wrote:
> 
> ?>> Please make sure that you are running Raspian 11 (Bullseye) since
> ?>> that's what the armhf binaries of TeX Live have been compiled
> for.
> ?>
> ?> Apparently I'm not but I have no intention of updating the
> ?> operating system on this device. Is there no alternative approach?
> ?> I suppose I could reinstall TL2021, which didn't have this issue.
> 
> It's definitely not desirable to compile the binaries with the latest
> OS release, just in order to avoid these nasty libc problems.

Yes and no. It's not desirable if you are on an older version of
Raspbian, but newer versions of the Raspberry Pi hardware cannot be
targeted by the old GCC, so either you end up with binaries that do not
run on old Raspbian or ones that do not run on newer boards. Pick your
poison.

Cheers, Henri

> 
> For this reason Karl deliberately compiles TL for x86_64-linux on a
> reasonably old system.? They perfectly work on newer systems too.
> 
> I'm also not inclined to install a newer version of Raspbian right
> now
> either, especially because security updates are still available.
> Instead I'm now compiling TeX Live on Raspbian GNU/Linux 10 (buster).
> 
> This takes a lot of time because Raspberries are much slower than my
> main machine and because I currently use only one of the four CPUs.
> When I instruct Make to use all CPUs the system runs out of memory
> and
> crashes when it tries to compile four programs at the same time.
> 
> When I succeed I'll put the binaries on my web server and let you
> know.
> 
> Regards,
> ? Reinhard
> 
> --
> ------------------------------------------------------------------
> Reinhard Kotucha??????????????????????????? Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover??????????????????? mailto:reinhard.kotucha at gmx.de
> ------------------------------------------------------------------
> 


From rdtennent at gmail.com  Fri Apr 15 23:06:01 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 15 Apr 2022 17:06:01 -0400
Subject: texlua issue on raspberry pi
In-Reply-To: <25177.56339.449564.482387@gargle.gargle.HOWL>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <25177.56339.449564.482387@gargle.gargle.HOWL>
Message-ID: <CAGtK6=Gf5edJAqCtk6HEBT_TvHW2ntHfen1rejMSAANi4ygq3Q@mail.gmail.com>

> I'm now compiling TeX Live on Raspbian GNU/Linux 10 (buster).

Thanks.  I'm actually currently re-installing TL2021.  Would I need to
re-install TL2022 and replace the binaries?

On Fri, Apr 15, 2022 at 4:56 PM Reinhard Kotucha <reinhard.kotucha at gmx.de>
wrote:

> On 2022-04-15 at 15:52:07 -0400, Bob Tennent wrote:
>
>  >> Please make sure that you are running Raspian 11 (Bullseye) since
>  >> that's what the armhf binaries of TeX Live have been compiled for.
>  >
>  > Apparently I'm not but I have no intention of updating the
>  > operating system on this device. Is there no alternative approach?
>  > I suppose I could reinstall TL2021, which didn't have this issue.
>
> It's definitely not desirable to compile the binaries with the latest
> OS release, just in order to avoid these nasty libc problems.
>
> For this reason Karl deliberately compiles TL for x86_64-linux on a
> reasonably old system.  They perfectly work on newer systems too.
>
> I'm also not inclined to install a newer version of Raspbian right now
> either, especially because security updates are still available.
> Instead I'm now compiling TeX Live on Raspbian GNU/Linux 10 (buster).
>
> This takes a lot of time because Raspberries are much slower than my
> main machine and because I currently use only one of the four CPUs.
> When I instruct Make to use all CPUs the system runs out of memory and
> crashes when it tries to compile four programs at the same time.
>
> When I succeed I'll put the binaries on my web server and let you
> know.
>
> Regards,
>   Reinhard
>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at gmx.de
> ------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/052bd6ab/attachment.html>

From henri at henrimenke.de  Fri Apr 15 23:09:06 2022
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 15 Apr 2022 23:09:06 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CAGtK6=Gf5edJAqCtk6HEBT_TvHW2ntHfen1rejMSAANi4ygq3Q@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <25177.56339.449564.482387@gargle.gargle.HOWL>
 <CAGtK6=Gf5edJAqCtk6HEBT_TvHW2ntHfen1rejMSAANi4ygq3Q@mail.gmail.com>
Message-ID: <b5f3d1d40ade8ce7ac45de841866aeac5ca6ed7b.camel@henrimenke.de>

On Fri, 2022-04-15 at 17:06 -0400, Bob Tennent wrote:
> > I'm now compiling TeX Live on Raspbian GNU/Linux 10 (buster).
> 
> Thanks.? I'm actually currently re-installing TL2021.? Would I need
> to
> re-install TL2022 and replace the binaries?

It's very likely that you could even use TeX Live 2022 with old
binaries from TeX Live 2021. Then you don't have to reinstall the whole
thing. I don't think there were any big engine changes between 2021 and
2022 whose absence would break newer macro code.

Cheers, Henri

> 
> On Fri, Apr 15, 2022 at 4:56 PM Reinhard Kotucha
> <reinhard.kotucha at gmx.de>
> wrote:
> 
> > On 2022-04-15 at 15:52:07 -0400, Bob Tennent wrote:
> > 
> > ?>> Please make sure that you are running Raspian 11 (Bullseye)
> > since
> > ?>> that's what the armhf binaries of TeX Live have been compiled
> > for.
> > ?>
> > ?> Apparently I'm not but I have no intention of updating the
> > ?> operating system on this device. Is there no alternative
> > approach?
> > ?> I suppose I could reinstall TL2021, which didn't have this
> > issue.
> > 
> > It's definitely not desirable to compile the binaries with the
> > latest
> > OS release, just in order to avoid these nasty libc problems.
> > 
> > For this reason Karl deliberately compiles TL for x86_64-linux on a
> > reasonably old system.? They perfectly work on newer systems too.
> > 
> > I'm also not inclined to install a newer version of Raspbian right
> > now
> > either, especially because security updates are still available.
> > Instead I'm now compiling TeX Live on Raspbian GNU/Linux 10
> > (buster).
> > 
> > This takes a lot of time because Raspberries are much slower than
> > my
> > main machine and because I currently use only one of the four CPUs.
> > When I instruct Make to use all CPUs the system runs out of memory
> > and
> > crashes when it tries to compile four programs at the same time.
> > 
> > When I succeed I'll put the binaries on my web server and let you
> > know.
> > 
> > Regards,
> > ? Reinhard
> > 
> > --
> > ------------------------------------------------------------------
> > Reinhard Kotucha??????????????????????????? Phone: +49-511-3373112
> > Marschnerstr. 25
> > D-30167 Hannover??????????????????? mailto:reinhard.kotucha at gmx.de
> > ------------------------------------------------------------------
> > 


From tkacvins at gmail.com  Fri Apr 15 23:24:07 2022
From: tkacvins at gmail.com (Tom Kacvinsky)
Date: Fri, 15 Apr 2022 17:24:07 -0400
Subject: texlua issue on raspberry pi
In-Reply-To: <e9dad623e58e58385dccae20adc78c8a8e1c94e8.camel@henrimenke.de>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <25177.56339.449564.482387@gargle.gargle.HOWL>
 <e9dad623e58e58385dccae20adc78c8a8e1c94e8.camel@henrimenke.de>
Message-ID: <CAG_eJLfiSzXSN+ZB2y69f5UpMqgVT0bucjbDeGnd_=_kxz_MLw@mail.gmail.com>

On Fri, Apr 15, 2022 at 5:01 PM Henri Menke via tex-live <tex-live at tug.org>
wrote:

> On Fri, 2022-04-15 at 22:56 +0200, Reinhard Kotucha wrote:
> > On 2022-04-15 at 15:52:07 -0400, Bob Tennent wrote:
> >
> >  >> Please make sure that you are running Raspian 11 (Bullseye) since
> >  >> that's what the armhf binaries of TeX Live have been compiled
> > for.
> >  >
> >  > Apparently I'm not but I have no intention of updating the
> >  > operating system on this device. Is there no alternative approach?
> >  > I suppose I could reinstall TL2021, which didn't have this issue.
> >
> > It's definitely not desirable to compile the binaries with the latest
> > OS release, just in order to avoid these nasty libc problems.
>
> Yes and no. It's not desirable if you are on an older version of
> Raspbian, but newer versions of the Raspberry Pi hardware cannot be
> targeted by the old GCC, so either you end up with binaries that do not
> run on old Raspbian or ones that do not run on newer boards. Pick your
> poison.
>
>
I'm a little perplexed here -  are you saying an older GCC does not have a
-march
option for the newer hardware?   Maybe the default architecture is right,
but there
is an issue with the defaults for -mtune.  Could be tweaking -mtune to be
more
generic would do the trick.  I am thinking of neon - not sure if the isns
change for
the newer hardware, but you'd think the new hardware would support the neon
isns
in a binary produced by an older GCC (because the neon instruction set is
"fixed"
in some sense of fixed).

I also suppose it could be the difference between the original RiPIs being
32-bit and
the newer generation being aarch64.

One other thought I had -  it might be an issue with the binutils used by
the older distros.
There has been quite a bit of work on aarch64 support in binutils over the
last year or
so and I wonder if something in the assembler/linker might be playing a
role in this.

Tom


> > For this reason Karl deliberately compiles TL for x86_64-linux on a
> > reasonably old system.  They perfectly work on newer systems too.
> >
> > I'm also not inclined to install a newer version of Raspbian right
> > now
> > either, especially because security updates are still available.
> > Instead I'm now compiling TeX Live on Raspbian GNU/Linux 10 (buster).
> >
> > This takes a lot of time because Raspberries are much slower than my
> > main machine and because I currently use only one of the four CPUs.
> > When I instruct Make to use all CPUs the system runs out of memory
> > and
> > crashes when it tries to compile four programs at the same time.
> >
> > When I succeed I'll put the binaries on my web server and let you
> > know.
> >
> > Regards,
> >   Reinhard
> >
> > --
> > ------------------------------------------------------------------
> > Reinhard Kotucha                            Phone: +49-511-3373112
> > Marschnerstr. 25
> > D-30167 Hannover                    mailto:reinhard.kotucha at gmx.de
> > ------------------------------------------------------------------
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/c912a877/attachment.html>

From karl at freefriends.org  Fri Apr 15 23:49:57 2022
From: karl at freefriends.org (Karl Berry)
Date: Fri, 15 Apr 2022 15:49:57 -0600
Subject: texlua issue on raspberry pi
In-Reply-To: <25177.56339.449564.482387@gargle.gargle.HOWL>
Message-ID: <202204152149.23FLnvlq005730@freefriends.org>

Maybe the aarch64-linux binaries work on RPi? They were compiled (by
Johannes H) on Debian 10, I believe.

The armhf-linux binaries were compiled by Simon Dales.
(See tug.org/texlive/build.html for full list.)

The distinction between the two is, I admit, unknown to me. The whole
situation with RPi hardware has been unclear to me since the beginning.
I know that Johannes and Simon were discussing whether both would be
needed in the future.

You can force the installer to use a particular platform with, for
example, --force-platform=aarch64-linux ... --best, karl.

From jhielscher at posteo.de  Sat Apr 16 01:26:50 2022
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Fri, 15 Apr 2022 23:26:50 +0000
Subject: texlua issue on raspberry pi
In-Reply-To: <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
Message-ID: <20220416012650.77b86e9d@capsicvm>

Am Fri, 15 Apr 2022 22:07:29 +0200
schrieb Henri Menke via tex-live <tex-live at tug.org>:

> On Fri, 2022-04-15 at 15:52 -0400, Bob Tennent wrote:
> > > Check the following instead:  
> > * lsb_release -a
> > 
> > No LSB modules are available.
> > Distributor ID: Raspbian
> > Description: Raspbian GNU/Linux 10 (buster)
> > Release: 10
> > Codename: buster
> > 
> > * cat /etc/os-release
> > 
> > PRETTY_NAME="Raspbian GNU/Linux 10 (buster)"
> > NAME="Raspbian GNU/Linux"
> > VERSION_ID="10"
> > VERSION="10 (buster)"
> > VERSION_CODENAME=buster
> > ID=raspbian
> > ID_LIKE=debian
> > HOME_URL="http://www.raspbian.org/"
> > SUPPORT_URL="http://www.raspbian.org/RaspbianForums"
> > BUG_REPORT_URL="http://www.raspbian.org/RaspbianBugs"
> > 
> > * dpkg -l libc6
> > 
> > Desired=Unknown/Install/Remove/Purge/Hold  
> > >   
> > Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-
> > aWait/Trig-pend  
> > > / Err?=(none)/Reinst-required (Status,Err: uppercase=bad)  
> > > > / Name?????????? Version?????????? Architecture Description  
> > +++-==============-=================-============-
> > =================================
> > ii? libc6:armhf??? 2.28-10+rpt2+rpi1 armhf??????? GNU C Library:
> > Shared libraries
> >   
> > > Please make sure that you are running Raspian 11 (Bullseye)
> > > since  
> > that's what the armhf binaries of TeX Live have been compiled for.
> > 
> > Apparently I'm not but I have no intention of updating the operating
> > system
> > on this device. Is there no alternative approach?? I suppose I could
> > reinstall TL2021, which didn't have this issue.  
> 
> You have a couple of options:
> - Upgrade Raspbian to 11
> - Downgrade TeX Live to 2021
> - Recompile the TeX Live binaries on Raspbian 10
> - Ask Johannes Hieschler to compile the binaries in TeX Live 2023 on
> Raspbian 10 again and wait for TeX Live 2023

Bob is apparently running the 32 bit flavour of RPiOS (armhf), for
which Simon Dales is the one who has provided the TL binaries.

I've contributed the aarch64-linux binaries (arm64 in Debian speak),
compiled on Armbian Buster against glibc 2.28 .

Hence, we could add the following hypothetical (slow, labour-intensive
and potentially destructive) option to Henri's list:
- Upgrade/reinstall Raspbian/RPiOS to the 64 bit version (I don't know
  if this is a viable upgrade path, or it'd be better to start from
  scratch here; in that case you'd go with Debian 11 as a basis anyway).

Should you aim on compiling the binaries for yourself, I might still
help you out, though (-:

Best,
Johannes


From rdtennent at gmail.com  Sat Apr 16 01:34:45 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 15 Apr 2022 19:34:45 -0400
Subject: texlua issue on raspberry pi
In-Reply-To: <b5f3d1d40ade8ce7ac45de841866aeac5ca6ed7b.camel@henrimenke.de>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <25177.56339.449564.482387@gargle.gargle.HOWL>
 <CAGtK6=Gf5edJAqCtk6HEBT_TvHW2ntHfen1rejMSAANi4ygq3Q@mail.gmail.com>
 <b5f3d1d40ade8ce7ac45de841866aeac5ca6ed7b.camel@henrimenke.de>
Message-ID: <CAGtK6=GQzrDHWTtUoX=C4UqrB+LaDt6d4eWVuoEo4bHM4qp-HQ@mail.gmail.com>

>
>
> It's very likely that you could even use TeX Live 2022 with old
> binaries from TeX Live 2021.
>

Would it suffice to do

tlmgr path add

with the 2021 tlmgr to create symlinks or do I have to copy the binaries
themselves?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/75e0e57b/attachment.html>

From rickhg12hs at gmail.com  Sat Apr 16 01:41:02 2022
From: rickhg12hs at gmail.com (Richard Graham)
Date: Sat, 16 Apr 2022 01:41:02 +0200
Subject: Default Paper Size
In-Reply-To: <CAC1phybkMq5E3zPvrGSdthniCoL3r4et-DwGx930Cypao2ZWVA@mail.gmail.com>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
 <Yldo04yYSYo65tkP@bulldog>
 <CAC1phybkMq5E3zPvrGSdthniCoL3r4et-DwGx930Cypao2ZWVA@mail.gmail.com>
Message-ID: <CAF+zCGR-0sGmWd481_BGsfxPWrvsmjU61ZAFV_XRcGGm4Q_5gA@mail.gmail.com>

I'm wondering if someone with Fedora "package-fu" could create a
"fake" RPM that would "satisfy" all other Fedora TeX/LaTeX/texlive
dependencies.

Would that prevent `dnf` from installing the Fedora texlive package
and all its dependencies?  If it worked as hoped, if you have already
installed the full TexLive from TUG/etc., then everything would still
work and there would be no need to download the gigantic Fedora
texlive.

This seems like playing with fire but if it worked it sure would save
a lot of disk space.

On Thu, Apr 14, 2022 at 2:17 PM Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>
> Hi all,
>
> I am not aware of "equiv TL packages" in Redhat based distros, maybe
> Jind?ich Nov? could know more (I am sending cc). Anyway, you have to
> install these packages because dnf/rpm dependencies requires it. On
> the other hand, when the installed tools call text binaries, they use
> whatever is first at PATH. Thus you can have TeX Live from TUG and the
> Fedora packages will never be used. I have both with TL from TUG at
> the beginning of PATH and usually I do not care that I have the Fedora
> packages because my disk is large enough but sometimes, e.g. on a
> notepad with a small disk, installation of TL packages consumes too
> much space. This is a problem of R-project. I am not an R programmer,
> I will never use TeX for typesetting R documentation, I only want to
> run trivial R programs written by someone else, yet I am forced to
> install the TL packages due to dependencies. And it is the same on a
> Mac if I need the R-project from macports. In fact I am not allowed to
> used the R-project on some of my computers because i have no space for
> TeX. Thus the ability of ignoring the dependences on TeX while
> accepting other dependences will be useful.
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
>
> ?t 14. 4. 2022 v 2:20 odes?latel Norbert Preining
> <norbert at preining.info> napsal:
> >
> > Hi Troy,
> >
> > (also answering here, but please refrain from double posting, first try
> > one, then the other).
> >
> > first of all, I have no idea about Fedora's packaging of TL, but I know
> > how I did the packaging in Debian, and I know upstream TL quite well.
> >
> > > The command "tlmgr paper letter" does not seem to affect LuaTeX
> >
> > I don't think that tlmgr paper will work out of the box in Fedora.
> > tlmgr is a package manager, and making it work would mean interfering
> > with rpm/dnf/whatever fedora uses. Thus, I guess that your changes
> > didn't work.
> >
> > > > sudo tlmgr paper letter
> > > tlmgr: setting paper size for dvipdfmx to letter:
> > > /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
> > > tlmgr: setting paper size for dvips to letter:
> > > /usr/share/texlive/texmf-config/dvips/config/config.ps
> > > tlmgr: setting paper size for pdftex to letter:
> > > /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
> > > tlmgr: setting paper size for psutils to letter:
> > > /usr/share/texlive/texmf-config/psutils/paper.cfg
> > > tlmgr: setting paper size for xdvi to letter:
> > > /usr/share/texlive/texmf-config/xdvi/XDvi
> > > tlmgr: An error has occurred. See above messages. Exiting.
> >
> > It is strange that there is no other indication of what went wrong.
> > If you can reproduce this with
> >         tlmgr -v paper letter
> > (or even -v -v) and send me the output, I can take a look.
> >
> > > This is almost certainly a Fedora TeX Live packaging issue, and it could be
> >
> > Yes, so I suggest contacting Fedora about this. Nothing we here can fix.
> > The least this list (luatex), but even the main tex-live mailing list
> > wouldn't be perfect (although some fedora users might help you there).
> >
> > > resolved (I'm confident) by manually installing the binary TeX Live
> > > distribution directly from TUG (which I have done many times before).
> >
> > Yes, that is what I do, too.
> >
> > > However, this is an undesirable solution because it may cause other
> > > packages (that depend on TeX Live) to be "confused" and also would result
> > > in twice the storage used (having side-by-side installations of TeX Live).
> >
> > confusion comes from PATH setup. You have to make sure that the TUG TL
> > comes first in the PATH.
> >
> > Concerning storage size: In Debian you can use the "equivs" command to
> > create a package that *fakes* an installation, see
> >         https://www.tug.org/texlive/debian.html
> > under "Integrating vanilla TeX Live with Debian"
> >
> > I am pretty sure there is something similar for Fedora, too.
> >
> > >    - Is it possible to change the default paper size without having to use
> > >    tlmgr?  Does tlmgr call/execute a particular command that could possibly be
> > >    executed manually?
> >
> > Change the configuration files used. The question is where these files
> > are located in Fedora. Maybe in /etc/texmf ?
> >
> > Best
> >
> > Norbert
> >
> > --
> > PREINING Norbert                              https://www.preining.info
> > Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
> > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>


From zdenek.wagner at gmail.com  Sat Apr 16 01:50:36 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 16 Apr 2022 01:50:36 +0200
Subject: Default Paper Size
In-Reply-To: <CAF+zCGR-0sGmWd481_BGsfxPWrvsmjU61ZAFV_XRcGGm4Q_5gA@mail.gmail.com>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
 <Yldo04yYSYo65tkP@bulldog>
 <CAC1phybkMq5E3zPvrGSdthniCoL3r4et-DwGx930Cypao2ZWVA@mail.gmail.com>
 <CAF+zCGR-0sGmWd481_BGsfxPWrvsmjU61ZAFV_XRcGGm4Q_5gA@mail.gmail.com>
Message-ID: <CAC1phyarLkhbCGFPDp8q_Brd=XehRaQ9T5mxCvte5SFLXa_D1g@mail.gmail.com>

Hi,

I was pointed to this project:
https://copr.fedorainfracloud.org/coprs/fatka/texlive-dummy/

I use dnf upgrade plugin to upgrade Fedora to release n+1 but I am not
sure whether it survives. I will try...

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

so 16. 4. 2022 v 1:41 odes?latel Richard Graham <rickhg12hs at gmail.com> napsal:
>
> I'm wondering if someone with Fedora "package-fu" could create a
> "fake" RPM that would "satisfy" all other Fedora TeX/LaTeX/texlive
> dependencies.
>
> Would that prevent `dnf` from installing the Fedora texlive package
> and all its dependencies?  If it worked as hoped, if you have already
> installed the full TexLive from TUG/etc., then everything would still
> work and there would be no need to download the gigantic Fedora
> texlive.
>
> This seems like playing with fire but if it worked it sure would save
> a lot of disk space.
>
> On Thu, Apr 14, 2022 at 2:17 PM Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
> >
> > Hi all,
> >
> > I am not aware of "equiv TL packages" in Redhat based distros, maybe
> > Jind?ich Nov? could know more (I am sending cc). Anyway, you have to
> > install these packages because dnf/rpm dependencies requires it. On
> > the other hand, when the installed tools call text binaries, they use
> > whatever is first at PATH. Thus you can have TeX Live from TUG and the
> > Fedora packages will never be used. I have both with TL from TUG at
> > the beginning of PATH and usually I do not care that I have the Fedora
> > packages because my disk is large enough but sometimes, e.g. on a
> > notepad with a small disk, installation of TL packages consumes too
> > much space. This is a problem of R-project. I am not an R programmer,
> > I will never use TeX for typesetting R documentation, I only want to
> > run trivial R programs written by someone else, yet I am forced to
> > install the TL packages due to dependencies. And it is the same on a
> > Mac if I need the R-project from macports. In fact I am not allowed to
> > used the R-project on some of my computers because i have no space for
> > TeX. Thus the ability of ignoring the dependences on TeX while
> > accepting other dependences will be useful.
> >
> > Zden?k Wagner
> > http://ttsm.icpf.cas.cz/team/wagner.shtml
> >
> > ?t 14. 4. 2022 v 2:20 odes?latel Norbert Preining
> > <norbert at preining.info> napsal:
> > >
> > > Hi Troy,
> > >
> > > (also answering here, but please refrain from double posting, first try
> > > one, then the other).
> > >
> > > first of all, I have no idea about Fedora's packaging of TL, but I know
> > > how I did the packaging in Debian, and I know upstream TL quite well.
> > >
> > > > The command "tlmgr paper letter" does not seem to affect LuaTeX
> > >
> > > I don't think that tlmgr paper will work out of the box in Fedora.
> > > tlmgr is a package manager, and making it work would mean interfering
> > > with rpm/dnf/whatever fedora uses. Thus, I guess that your changes
> > > didn't work.
> > >
> > > > > sudo tlmgr paper letter
> > > > tlmgr: setting paper size for dvipdfmx to letter:
> > > > /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
> > > > tlmgr: setting paper size for dvips to letter:
> > > > /usr/share/texlive/texmf-config/dvips/config/config.ps
> > > > tlmgr: setting paper size for pdftex to letter:
> > > > /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
> > > > tlmgr: setting paper size for psutils to letter:
> > > > /usr/share/texlive/texmf-config/psutils/paper.cfg
> > > > tlmgr: setting paper size for xdvi to letter:
> > > > /usr/share/texlive/texmf-config/xdvi/XDvi
> > > > tlmgr: An error has occurred. See above messages. Exiting.
> > >
> > > It is strange that there is no other indication of what went wrong.
> > > If you can reproduce this with
> > >         tlmgr -v paper letter
> > > (or even -v -v) and send me the output, I can take a look.
> > >
> > > > This is almost certainly a Fedora TeX Live packaging issue, and it could be
> > >
> > > Yes, so I suggest contacting Fedora about this. Nothing we here can fix.
> > > The least this list (luatex), but even the main tex-live mailing list
> > > wouldn't be perfect (although some fedora users might help you there).
> > >
> > > > resolved (I'm confident) by manually installing the binary TeX Live
> > > > distribution directly from TUG (which I have done many times before).
> > >
> > > Yes, that is what I do, too.
> > >
> > > > However, this is an undesirable solution because it may cause other
> > > > packages (that depend on TeX Live) to be "confused" and also would result
> > > > in twice the storage used (having side-by-side installations of TeX Live).
> > >
> > > confusion comes from PATH setup. You have to make sure that the TUG TL
> > > comes first in the PATH.
> > >
> > > Concerning storage size: In Debian you can use the "equivs" command to
> > > create a package that *fakes* an installation, see
> > >         https://www.tug.org/texlive/debian.html
> > > under "Integrating vanilla TeX Live with Debian"
> > >
> > > I am pretty sure there is something similar for Fedora, too.
> > >
> > > >    - Is it possible to change the default paper size without having to use
> > > >    tlmgr?  Does tlmgr call/execute a particular command that could possibly be
> > > >    executed manually?
> > >
> > > Change the configuration files used. The question is where these files
> > > are located in Fedora. Maybe in /etc/texmf ?
> > >
> > > Best
> > >
> > > Norbert
> > >
> > > --
> > > PREINING Norbert                              https://www.preining.info
> > > Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
> > > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> >


From jhielscher at posteo.de  Sat Apr 16 02:04:03 2022
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sat, 16 Apr 2022 00:04:03 +0000
Subject: texlua issue on raspberry pi
In-Reply-To: <CAG_eJLfiSzXSN+ZB2y69f5UpMqgVT0bucjbDeGnd_=_kxz_MLw@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <25177.56339.449564.482387@gargle.gargle.HOWL>
 <e9dad623e58e58385dccae20adc78c8a8e1c94e8.camel@henrimenke.de>
 <CAG_eJLfiSzXSN+ZB2y69f5UpMqgVT0bucjbDeGnd_=_kxz_MLw@mail.gmail.com>
Message-ID: <20220416020403.7e3c3f23@capsicvm>

Am Fri, 15 Apr 2022 17:24:07 -0400
schrieb Tom Kacvinsky <tkacvins at gmail.com>:

> On Fri, Apr 15, 2022 at 5:01 PM Henri Menke via tex-live
> <tex-live at tug.org> wrote:
> 
> > On Fri, 2022-04-15 at 22:56 +0200, Reinhard Kotucha wrote:  
> > > On 2022-04-15 at 15:52:07 -0400, Bob Tennent wrote:
> > >  
> > >  >> Please make sure that you are running Raspian 11 (Bullseye)
> > >  >> since that's what the armhf binaries of TeX Live have been
> > >  >> compiled  
> > > for.  
> > >  >
> > >  > Apparently I'm not but I have no intention of updating the
> > >  > operating system on this device. Is there no alternative
> > >  > approach? I suppose I could reinstall TL2021, which didn't
> > >  > have this issue.  
> > >
> > > It's definitely not desirable to compile the binaries with the
> > > latest OS release, just in order to avoid these nasty libc
> > > problems.  
> >
> > Yes and no. It's not desirable if you are on an older version of
> > Raspbian, but newer versions of the Raspberry Pi hardware cannot be
> > targeted by the old GCC, so either you end up with binaries that do
> > not run on old Raspbian or ones that do not run on newer boards.
> > Pick your poison.
> >
> >  
> I'm a little perplexed here -  are you saying an older GCC does not
> have a -march
> option for the newer hardware?   Maybe the default architecture is
> right, but there
> is an issue with the defaults for -mtune.  Could be tweaking -mtune
> to be more
> generic would do the trick.  I am thinking of neon - not sure if the
> isns change for
> the newer hardware, but you'd think the new hardware would support
> the neon isns
> in a binary produced by an older GCC (because the neon instruction
> set is "fixed"
> in some sense of fixed).

Oh plz, don't start me with Neon :-P
Point is, some RPi hardware speaks Neon, some not. Not all of the CPUs
understand the full ARMv7 instruction set. Rather the least common
denominator is ?ARMv6.5?, a weird hybrid that pulled some stuff (but
not all) from ARMv7.
That makes it so difficult for compilers to target RPi hardware.

Broadcom had not designed these SoCs with a vivid FOSS/open hardware/
hacker community in mind. And to make things worse, the RPi Foundation
needed 7 (in words: seven) years to overcome their unconditional
downwards compatibility dogma, and finally released a flavour that
would allow their AArch64-capable CPUs (first released in 2015) to
natively run AArch64 code and make calls to AArch64 libraries.

Supposedly there are multiarch efforts in the RPi world (think of the
i686?x86_64 transition), but I myself couldn't be bothered to give them
a try. Neither with cross-compile toolchains etc.
Things would have been easier if the RPi ecosystem had been more eager
to adhere to commonly accepted standards, instead of trying to push
their own.
Sorry, Bob, that this doesn't help you out.

Best,
Johannes

> 
> I also suppose it could be the difference between the original RiPIs
> being 32-bit and
> the newer generation being aarch64.
> 
> One other thought I had -  it might be an issue with the binutils
> used by the older distros.
> There has been quite a bit of work on aarch64 support in binutils
> over the last year or
> so and I wonder if something in the assembler/linker might be playing
> a role in this.
> 
> Tom
> 
> 
> > > For this reason Karl deliberately compiles TL for x86_64-linux on
> > > a reasonably old system.  They perfectly work on newer systems
> > > too.
> > >
> > > I'm also not inclined to install a newer version of Raspbian right
> > > now
> > > either, especially because security updates are still available.
> > > Instead I'm now compiling TeX Live on Raspbian GNU/Linux 10
> > > (buster).
> > >
> > > This takes a lot of time because Raspberries are much slower than
> > > my main machine and because I currently use only one of the four
> > > CPUs. When I instruct Make to use all CPUs the system runs out of
> > > memory and
> > > crashes when it tries to compile four programs at the same time.
> > >
> > > When I succeed I'll put the binaries on my web server and let you
> > > know.
> > >
> > > Regards,
> > >   Reinhard
> > >
> > > --
> > > ------------------------------------------------------------------
> > > Reinhard Kotucha                            Phone: +49-511-3373112
> > > Marschnerstr. 25
> > > D-30167 Hannover                    mailto:reinhard.kotucha at gmx.de
> > > ------------------------------------------------------------------
> > >  
> >
> >  



From gnwiii at gmail.com  Sat Apr 16 02:57:23 2022
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 15 Apr 2022 21:57:23 -0300
Subject: Default Paper Size
In-Reply-To: <CAF+zCGR-0sGmWd481_BGsfxPWrvsmjU61ZAFV_XRcGGm4Q_5gA@mail.gmail.com>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
 <Yldo04yYSYo65tkP@bulldog>
 <CAC1phybkMq5E3zPvrGSdthniCoL3r4et-DwGx930Cypao2ZWVA@mail.gmail.com>
 <CAF+zCGR-0sGmWd481_BGsfxPWrvsmjU61ZAFV_XRcGGm4Q_5gA@mail.gmail.com>
Message-ID: <CAKTOP471DsOoBsXa80Bd5bC8VQEWS=yqkiuBFWOW693uP_HsgA@mail.gmail.com>

On Fri, 15 Apr 2022 at 20:42, Richard Graham <rickhg12hs at gmail.com> wrote:

> I'm wondering if someone with Fedora "package-fu" could create a
> "fake" RPM that would "satisfy" all other Fedora TeX/LaTeX/texlive
> dependencies.
>
> Would that prevent `dnf` from installing the Fedora texlive package
> and all its dependencies?  If it worked as hoped, if you have already
> installed the full TexLive from TUG/etc., then everything would still
> work and there would be no need to download the gigantic Fedora
> texlive.
>
> This seems like playing with fire but if it worked it sure would save
> a lot of disk space.
>

I have used dummy packages on Ubuntu LTS systems, but not without
issues.   Some Ubuntu software was configured with paths to TeX programs,
so it was necessary to use the TL install option to create symbolic links.
There
were issues formatting documents on other systems running Ubntu's TL
packages -- mostly with fonts (differing versions and fonts that weren't
provided in Ubuntu's TL packages).   This was a problem when working
on multi-author projects with authors at other institutions.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220415/a2981733/attachment-0001.html>

From zdenek.wagner at gmail.com  Sat Apr 16 03:22:05 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 16 Apr 2022 03:22:05 +0200
Subject: Default Paper Size
In-Reply-To: <CAKTOP471DsOoBsXa80Bd5bC8VQEWS=yqkiuBFWOW693uP_HsgA@mail.gmail.com>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
 <Yldo04yYSYo65tkP@bulldog>
 <CAC1phybkMq5E3zPvrGSdthniCoL3r4et-DwGx930Cypao2ZWVA@mail.gmail.com>
 <CAF+zCGR-0sGmWd481_BGsfxPWrvsmjU61ZAFV_XRcGGm4Q_5gA@mail.gmail.com>
 <CAKTOP471DsOoBsXa80Bd5bC8VQEWS=yqkiuBFWOW693uP_HsgA@mail.gmail.com>
Message-ID: <CAC1phya0tuYHQFGTw3BsfypuhqmFAK+aQ8iamq9zgw2f7zH0Og@mail.gmail.com>

so 16. 4. 2022 v 2:57 odes?latel George N. White III <gnwiii at gmail.com> napsal:
>
> On Fri, 15 Apr 2022 at 20:42, Richard Graham <rickhg12hs at gmail.com> wrote:
>>
>> I'm wondering if someone with Fedora "package-fu" could create a
>> "fake" RPM that would "satisfy" all other Fedora TeX/LaTeX/texlive
>> dependencies.
>>
>> Would that prevent `dnf` from installing the Fedora texlive package
>> and all its dependencies?  If it worked as hoped, if you have already
>> installed the full TexLive from TUG/etc., then everything would still
>> work and there would be no need to download the gigantic Fedora
>> texlive.
>>
>> This seems like playing with fire but if it worked it sure would save
>> a lot of disk space.
>
>
> I have used dummy packages on Ubuntu LTS systems, but not without
> issues.   Some Ubuntu software was configured with paths to TeX programs,
> so it was necessary to use the TL install option to create symbolic links.  There
> were issues formatting documents on other systems running Ubntu's TL
> packages -- mostly with fonts (differing versions and fonts that weren't
> provided in Ubuntu's TL packages).   This was a problem when working
> on multi-author projects with authors at other institutions.
>
You will always have problems with non-TL fonts. There are different
versions in different Linux distros (even in different releases of the
same distros), on a Mac, on Windows.

I have no problem to install useless TeX on my desktops with large
disks but I have problems on servers where the disk should be used for
something else but some scripts will use trivial operations in the
R-project and will never call TeX. I even do not need any
documentation because it will not be accessible to users anyway.
> --
> George N. White III
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


From mojca.miklavec.lists at gmail.com  Sat Apr 16 07:59:14 2022
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 16 Apr 2022 07:59:14 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
Message-ID: <CALBOmsbtrHrvzSDHekFBFd0APFwc0RyEy3zk+nHV6mf2r7Hwdw@mail.gmail.com>

On Fri, 15 Apr 2022 at 22:08, Henri Menke via tex-live wrote:
>
> You have a couple of options:
> - Upgrade Raspbian to 11
> - Downgrade TeX Live to 2021
> - Recompile the TeX Live binaries on Raspbian 10
> - Ask Johannes Hieschler to compile the binaries in TeX Live 2023 on
> Raspbian 10 again and wait for TeX Live 2023

I believe that we keep compiling the binaries on Raspbian 10, so you
can check if these work for you:
    https://dl.contextgarden.net/build/texlive/armhf-linux.tar.xz
If you download, extract and successfully manage to execute one of the
binaries, you can point the installer to these binaries in order to
end up with a fully functional installation of TL 2022.

Mojca

From rdtennent at gmail.com  Sat Apr 16 14:37:11 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Sat, 16 Apr 2022 08:37:11 -0400
Subject: texlua issue on raspberry pi
In-Reply-To: <CALBOmsbtrHrvzSDHekFBFd0APFwc0RyEy3zk+nHV6mf2r7Hwdw@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
 <CALBOmsbtrHrvzSDHekFBFd0APFwc0RyEy3zk+nHV6mf2r7Hwdw@mail.gmail.com>
Message-ID: <CAGtK6=HTaBMhP3UeFZEoDw4h4AwwjNYp7JdK_KcOPCwsKoF7eA@mail.gmail.com>

On Sat, Apr 16, 2022 at 2:00 AM Mojca Miklavec <
mojca.miklavec.lists at gmail.com> wrote:

>
> I believe that we keep compiling the binaries on Raspbian 10, so you
> can check if these work for you:
>     https://dl.contextgarden.net/build/texlive/armhf-linux.tar.xz
> If you download, extract and successfully manage to execute one of the
> binaries, you can point the installer to these binaries in order to
> end up with a fully functional installation of TL 2022.
>
>
Mojca:  I presume "point the installer to these binaries" means using
the -custom-bin option.    But can this be done *after* a normal
installation of TL2022?

Bob T.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220416/96445296/attachment.html>

From mojca.miklavec.lists at gmail.com  Sat Apr 16 14:44:35 2022
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 16 Apr 2022 14:44:35 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CAGtK6=HTaBMhP3UeFZEoDw4h4AwwjNYp7JdK_KcOPCwsKoF7eA@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
 <CALBOmsbtrHrvzSDHekFBFd0APFwc0RyEy3zk+nHV6mf2r7Hwdw@mail.gmail.com>
 <CAGtK6=HTaBMhP3UeFZEoDw4h4AwwjNYp7JdK_KcOPCwsKoF7eA@mail.gmail.com>
Message-ID: <CALBOmsaChgpZxPqqPJG7L1u7f7KKoxC6ZD3K4CugQM3D-t4-OQ@mail.gmail.com>

On Sat, 16 Apr 2022 at 14:37, Bob Tennent wrote:
>
> Mojca:  I presume "point the installer to these binaries" means using the -custom-bin option.

Yes. https://www.tug.org/texlive/custom-bin.html

> But can this be done after a normal installation of TL2022?

I cannot test on this machine.
I see that tlmgr has an option to change the default platform, but I
don't know whether you can also tell it that you want to switch to
custom bin:

https://www.tug.org/texlive/doc/tlmgr.html#platform

You can of course always just change the PATH, though format
generation and such might keep failing during updates when tlmgr
doesn't know about the custom bin.

Are you just trying to save some bandwidth?

Mojca

From rdtennent at gmail.com  Sat Apr 16 17:34:25 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Sat, 16 Apr 2022 11:34:25 -0400
Subject: texlua issue on raspberry pi
In-Reply-To: <CALBOmsaChgpZxPqqPJG7L1u7f7KKoxC6ZD3K4CugQM3D-t4-OQ@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
 <CALBOmsbtrHrvzSDHekFBFd0APFwc0RyEy3zk+nHV6mf2r7Hwdw@mail.gmail.com>
 <CAGtK6=HTaBMhP3UeFZEoDw4h4AwwjNYp7JdK_KcOPCwsKoF7eA@mail.gmail.com>
 <CALBOmsaChgpZxPqqPJG7L1u7f7KKoxC6ZD3K4CugQM3D-t4-OQ@mail.gmail.com>
Message-ID: <CAGtK6=GoDhBtTqJswfaNB1fRyuQGqm3-27k72ki3iEh9pmSgtw@mail.gmail.com>

Mojca:  Okay, I installed TL2022 (third time) with the -custom-bin option
and set the PATH to /usr/local/texlive/2022/bin/custom. To install a new
package,
I also had to do

tlmgr platform set custom

Thanks for the help.

Bob T.




On Sat, Apr 16, 2022 at 8:44 AM Mojca Miklavec <
mojca.miklavec.lists at gmail.com> wrote:

> On Sat, 16 Apr 2022 at 14:37, Bob Tennent wrote:
> >
> > Mojca:  I presume "point the installer to these binaries" means using
> the -custom-bin option.
>
> Yes. https://www.tug.org/texlive/custom-bin.html
>
> > But can this be done after a normal installation of TL2022?
>
> I cannot test on this machine.
> I see that tlmgr has an option to change the default platform, but I
> don't know whether you can also tell it that you want to switch to
> custom bin:
>
> https://www.tug.org/texlive/doc/tlmgr.html#platform
>
> You can of course always just change the PATH, though format
> generation and such might keep failing during updates when tlmgr
> doesn't know about the custom bin.
>
> Are you just trying to save some bandwidth?
>
> Mojca
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220416/f66b06eb/attachment.html>

From rickhg12hs at gmail.com  Sat Apr 16 17:48:56 2022
From: rickhg12hs at gmail.com (Richard Graham)
Date: Sat, 16 Apr 2022 17:48:56 +0200
Subject: Default Paper Size
In-Reply-To: <CAC1phya0tuYHQFGTw3BsfypuhqmFAK+aQ8iamq9zgw2f7zH0Og@mail.gmail.com>
References: <CAFP+xFJ6ndzKjLoY50ii36RdweHc8SJ0Cr19mf9bHL61G_ryqQ@mail.gmail.com>
 <Yldo04yYSYo65tkP@bulldog>
 <CAC1phybkMq5E3zPvrGSdthniCoL3r4et-DwGx930Cypao2ZWVA@mail.gmail.com>
 <CAF+zCGR-0sGmWd481_BGsfxPWrvsmjU61ZAFV_XRcGGm4Q_5gA@mail.gmail.com>
 <CAKTOP471DsOoBsXa80Bd5bC8VQEWS=yqkiuBFWOW693uP_HsgA@mail.gmail.com>
 <CAC1phya0tuYHQFGTw3BsfypuhqmFAK+aQ8iamq9zgw2f7zH0Og@mail.gmail.com>
Message-ID: <CAF+zCGTxQLvurOBq58_jPYiR5nfgDpEEYpMh_OUFjCXK_6bq3A@mail.gmail.com>

On Sat, Apr 16, 2022 at 3:23 AM Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>
> ... but I have problems on servers where the disk should be used for
> something else but some scripts will use trivial operations in the
> R-project and will never call TeX. I even do not need any
> documentation because it will not be accessible to users anyway.

Same for installing `sagemath`.

R

From karl at freefriends.org  Sat Apr 16 23:26:01 2022
From: karl at freefriends.org (Karl Berry)
Date: Sat, 16 Apr 2022 15:26:01 -0600
Subject: texlua issue on raspberry pi
In-Reply-To: <25177.56339.449564.482387@gargle.gargle.HOWL>
Message-ID: <202204162126.23GLQ1Su030643@freefriends.org>

    For this reason Karl deliberately compiles TL for x86_64-linux on a
    reasonably old system.  They perfectly work on newer systems too.

For the record, for some years now the {x86_64,i386}-linux{,musl}
binaries have been compiled via the github autobuild system, set up by
Norbert, rather than by me.  https://github.com/TeX-Live/texlive-source

But yes, we use an older os (centos7, with devtoolset-9 to get a newer
compiler, since the libraries require it).

I write the build system info given to me in the Build/source/README
file, for the sake of people who might like to try building from
scratch. --best, karl.

P.S. Congratulations on getting the binaries, Bob. Irrelevant now, but
I'll just mention that I notice that Nelson built 32-bit arm binaries,
downloadable here: 
http://ftp.math.utah.edu/pub/texlive-utah/bin/armv7l-archlinux.tar.xz
and info: http://ftp.math.utah.edu/pub/texlive-utah/#archlinux-arm32

From reinhard.kotucha at gmx.de  Sun Apr 17 02:03:14 2022
From: reinhard.kotucha at gmx.de (Reinhard Kotucha)
Date: Sun, 17 Apr 2022 02:03:14 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CALBOmsaChgpZxPqqPJG7L1u7f7KKoxC6ZD3K4CugQM3D-t4-OQ@mail.gmail.com>
References: <CAGtK6=HtYeMRbxnzQrX65oRMTd8B8aFaFE_PuhONfOQuBnvHQw@mail.gmail.com>
 <d2366e7c0804e41e81f1334a019c356aa06fcc37.camel@henrimenke.de>
 <CALBOmsbtrHrvzSDHekFBFd0APFwc0RyEy3zk+nHV6mf2r7Hwdw@mail.gmail.com>
 <CAGtK6=HTaBMhP3UeFZEoDw4h4AwwjNYp7JdK_KcOPCwsKoF7eA@mail.gmail.com>
 <CALBOmsaChgpZxPqqPJG7L1u7f7KKoxC6ZD3K4CugQM3D-t4-OQ@mail.gmail.com>
Message-ID: <25179.22850.253427.385212@gargle.gargle.HOWL>

On 2022-04-16 at 14:44:35 +0200, Mojca Miklavec wrote:

 > On Sat, 16 Apr 2022 at 14:37, Bob Tennent wrote:
 > >
 > > Mojca:  I presume "point the installer to these binaries" means using the -custom-bin option.
 >
 > Yes. https://www.tug.org/texlive/custom-bin.html
 >
 > > But can this be done after a normal installation of TL2022?
 >
 > I cannot test on this machine.
 > I see that tlmgr has an option to change the default platform, but I
 > don't know whether you can also tell it that you want to switch to
 > custom bin:

I simply replaced the binaries in bin/armhf-linux with the binaries I
compiled myself.  There will not be binary updates between TL releases
except for Windows.  And if there are updates though, they will
certainly support GLIBC_2.28.  And if everything goes wrong it's
always possible to extract armhf-linux.tar.xz at any time again.
In this case it's not necessary to adapt PATHs, everything works as
usual.

I think that custom-bin is useful for platforms which are not
supported by TeX Live at all.  But in this particular case I don't
think that the effort isn't worthwhile.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at gmx.de
------------------------------------------------------------------


From rdtennent at gmail.com  Sun Apr 17 13:54:21 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Sun, 17 Apr 2022 07:54:21 -0400
Subject: texlua issue on raspberry pi
Message-ID: <CAGtK6=FyEg6OtRb2=pPoXk+adWZcedV7ikxeqekpBq0mEGL8Tw@mail.gmail.com>

> Irrelevant now, but
I'll just mention that I notice that Nelson built 32-bit arm binaries,
downloadable here:
http://ftp.math.utah.edu/pub/texlive-utah/bin/armv7l-archlinux.tar.xz
and info: http://ftp.math.utah.edu/pub/texlive-utah/#archlinux-arm32

Thanks Karl.  Nelson had contacted me privately about this but I went with
Mojca's archive. I wonder whether there should be an "official" repository
of non-standard architectures in the future.

Bob T.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220417/724300c7/attachment.html>

From amunn at gmx.com  Tue Apr 19 03:08:34 2022
From: amunn at gmx.com (Alan Munn)
Date: Tue, 19 Apr 2022 03:08:34 +0200
Subject: Problem with the 2022 MacTeX installer?
Message-ID: <trinity-b9d7e588-6e7d-40f3-a40f-383105592304-1650330514488@3c-app-mailcom-bs11>

An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220419/41ebf0b2/attachment.html>

From koch at uoregon.edu  Tue Apr 19 05:13:22 2022
From: koch at uoregon.edu (Richard Koch)
Date: Tue, 19 Apr 2022 03:13:22 +0000
Subject: Problem with the 2022 MacTeX installer?
Message-ID: <AB268FBD-A966-4C6F-9459-2CAE568A3546@uoregon.edu>

Alan,

The MacTeX package is created as follows. I install TeX Live using the Unix install script on a machine which has been wiped clean of TeX. That script would find no fonts in /usr/local/texlive/texmf-local because that directory is empty when I install, I select letter size paper. And of course I make formats. This will be important later.

Then I copy the distribution to the install package. The install package installs an exact duplicate on your machine. 

After that, a postinstall script is run. The only way extra fonts on your machine could be detected is if the postinstall script detects them. So I looked at this year's postinstall script, and at postinstall scripts from past years. 

In 2019, there was no line to recompile formats or reconfigure fonts. However, earlier in the script I determined the user's paper size and reset it to a4 if necessary. This step would recompile formats. Consequently, installation sometimes recompiled formats, and sometimes didn't. But it never looked for additional fonts.

In more recent years including 2022, the script compiles formats for all systems. The last line of the script reads

	 /usr/local/texlive/2022/bin/universal-darwin/fmtutil-sys --all

But it does not reconfigure fonts.

Herbert Schulz knows much more about fonts than I do. As I understand it, some users put extra fonts in /usr/local/texlive/texmf-local and some put them in ~/Library/texmf, and different scripts must be run for these situations. But maybe I misunderstand.

-------------

So I'm fairly certain that MacTeX's behavior did not change, and you would have had to do something extra to recognize extra fonts. TeX Live Utility has such procedures and that is probably what fixed things for you in the past.

As far as I'm concerned, MacTeX-2022 is done. If an additional script should be run in the future, I'd be happy to add it, provided the experts can verify that it will work for everybody, rather than making life more convenient for many at the expense of breaking things for a few.

Dick Koch

	






From witiko at gmail.com  Tue Apr 19 11:31:55 2022
From: witiko at gmail.com (=?UTF-8?B?VsOtdCBOb3ZvdG7DvQ==?=)
Date: Tue, 19 Apr 2022 11:31:55 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <6ca03237dd964eb732f10035faeb0133b8aa80ea.camel@henrimenke.de>
References: <CAGtK6=FdSzEXVrg=EcW_wLXfjoPE4N8kxUjwy_PST4+o2NpWWA@mail.gmail.com>
 <6ca03237dd964eb732f10035faeb0133b8aa80ea.camel@henrimenke.de>
Message-ID: <CAKt3JyWgTzNK-7AA114WRAWfW0eMdqCQDwuxu8yKmq1NANK1VA@mail.gmail.com>

Linux raspberrypi 5.10.63-v7l+ #1496 SMP Wed Dec 1 15:58:56 GMT 2021 armv7l
GNU/Linux

p? 15. 4. 2022 v 18:24 odes?latel Henri Menke via tex-live <tex-live at tug.org>
napsal:

> On Fri, 2022-04-15 at 12:21 -0400, Bob Tennent wrote:
> > texlua: /lib/arm-linux-gnueabihf/libm.so.6: version `GLIBC_2.29' not
> > found
> > (required by texlua)
>
> Cool story.
>
>
>
> What operating system?
>
> Cheers, Henri
>
> >
> > This on a newly installed TL-2022.
> >
> > Bob T.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220419/b45524ba/attachment.html>

From rdtennent at gmail.com  Tue Apr 19 13:41:56 2022
From: rdtennent at gmail.com (Bob Tennent)
Date: Tue, 19 Apr 2022 07:41:56 -0400
Subject: texlua issue on raspberry pi
Message-ID: <CAGtK6=FR5c8woyrvBAm8_5W7Wg5rGdi9GXiTzfZ0YH5zNsWJpg@mail.gmail.com>

@Vit: If you have the same issue, you should

  * download and extract

https://dl.contextgarden.net/build/texlive/armhf-linux.tar.xz

 * re-run the tl installer with the following option:

           -custom-bin <extracted directory>

 *  [sudo] tlmgr platform set custom

You should then be able to execute binaries and update or install packages
as usual.

Bob T.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220419/7bb483f7/attachment.html>

From witiko at gmail.com  Tue Apr 19 21:21:27 2022
From: witiko at gmail.com (=?UTF-8?B?VsOtdCBOb3ZvdG7DvQ==?=)
Date: Tue, 19 Apr 2022 21:21:27 +0200
Subject: texlua issue on raspberry pi
In-Reply-To: <CAGtK6=FR5c8woyrvBAm8_5W7Wg5rGdi9GXiTzfZ0YH5zNsWJpg@mail.gmail.com>
References: <CAGtK6=FR5c8woyrvBAm8_5W7Wg5rGdi9GXiTzfZ0YH5zNsWJpg@mail.gmail.com>
Message-ID: <CAKt3JyXEsRCxWnH77=j66YYLn0yg-uog9qYcc=bR9rXLXEGvVQ@mail.gmail.com>

@Bob T.: Thank you, worked like a charm:

~ $ wget https://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
~ $ tar xzvf install-tl-unx.tar.gz
~ $ cd install-tl-*
~/install-tl-20220418 $ wget
https://dl.contextgarden.net/build/texlive/armhf-linux.tar.xz

~/install-tl-20220418 $ tar xJvf armhf-linux.tar.xz
~/install-tl-20220418 $ sudo perl ./install-tl -custom-bin
bin/armv7l-unknown-linux-gnueabihf
~/install-tl-20220418 $ sudo tlmgr platform set custom


Best,
Vit

?t 19. 4. 2022 v 13:42 odes?latel Bob Tennent <rdtennent at gmail.com> napsal:

> @Vit: If you have the same issue, you should
>
>   * download and extract
>
> https://dl.contextgarden.net/build/texlive/armhf-linux.tar.xz
>
>  * re-run the tl installer with the following option:
>
>            -custom-bin <extracted directory>
>
>  *  [sudo] tlmgr platform set custom
>
> You should then be able to execute binaries and update or install packages
> as usual.
>
> Bob T.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220419/c8775b61/attachment.html>

From jfine2358 at gmail.com  Wed Apr 20 19:58:14 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 20 Apr 2022 18:58:14 +0100
Subject: TeX Hour: Thu 21 Apr: 6:30pm UK time: TeX Live dist'n media, your
 ideas, ConTeXt and LaTeX, you
Message-ID: <CALD=Yf831dGM7Zhxa61gn4ZdWCneUv4rg=reMEO015EpqCgpKQ@mail.gmail.com>

Hi

Suggested agenda for tomorrow's TeX Hour. Your ideas are very welcome, and
will be prioritised.

1. Comparing iso, tgz and git as distribution media for TeXLive 2022. This
is based on some experiments I've been doing. It seems that git is best, on
the limited evidence created.
https://github.com/jfine2358/scratch/tree/y2022p008

2. Your ideas. Anything TeX or typography or design on accessibility
related. Even HTML and CSS.

3. Why are ConTeXt and LaTeX two different typesetting systems instead of
joining forces? This is https://tex.stackexchange.com/questions/641299/.

TeX Hour: Thursday 21 April, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Note: Both the UK and USA are on Summer Time. UK Time Now:
https://time.is/UK.

Previous TeX Hour: Accessible Tables, small publisher typesetting (Abbas
Jaffary), ICM 2022 (Paulo Ney de Souza). Martin Ruckert's HINT.
https://youtu.be/JIL5R5WVFjQ

wishing you happy TeXing

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220420/0b676e34/attachment.html>

From n.talbot at uea.ac.uk  Thu Apr 21 14:14:32 2022
From: n.talbot at uea.ac.uk (Dr Nicola L C Talbot)
Date: Thu, 21 Apr 2022 13:14:32 +0100
Subject: tlmgr package dependencies
Message-ID: <559cf44f-fe82-8594-0440-a632618ff708@uea.ac.uk>

Hi,

I've had an issue logged on my bug tracker for datetime2 that when 
installing datetime2 using tlmgr, the dependent package tracklang isn't 
also installed. (https://www.dickimaw-books.com/bugtracker.php?key=200)

Does tlmgr install dependent packages and, if so, how does it determine 
dependencies?

Regards
Nicola Talbot

From norbert at preining.info  Thu Apr 21 14:32:47 2022
From: norbert at preining.info (Norbert Preining)
Date: Thu, 21 Apr 2022 21:32:47 +0900
Subject: tlmgr package dependencies
In-Reply-To: <559cf44f-fe82-8594-0440-a632618ff708@uea.ac.uk>
References: <559cf44f-fe82-8594-0440-a632618ff708@uea.ac.uk>
Message-ID: <YmFO75oNyZiufoVX@bulldog>

Hi Nicola,

> Does tlmgr install dependent packages and, if so, how does it determine
> dependencies?

Yes, if they are recorded.
And recording is a manual process, that is adding a depends line to a
file in our repo. So if you know of hard dependencies (not induced by
loading a package with some options, but a package that is always
loaded), let us know.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From n.talbot at uea.ac.uk  Thu Apr 21 14:38:23 2022
From: n.talbot at uea.ac.uk (Dr Nicola L C Talbot)
Date: Thu, 21 Apr 2022 13:38:23 +0100
Subject: tlmgr package dependencies
In-Reply-To: <YmFO75oNyZiufoVX@bulldog>
References: <559cf44f-fe82-8594-0440-a632618ff708@uea.ac.uk>
 <YmFO75oNyZiufoVX@bulldog>
Message-ID: <718ecec5-4a9d-434a-8061-de0c67264eb5@uea.ac.uk>

Hi Norbert,

On 21/04/2022 13:32, Norbert Preining wrote:
> Yes, if they are recorded.
> And recording is a manual process, that is adding a depends line to a
> file in our repo. So if you know of hard dependencies (not induced by
> loading a package with some options, but a package that is always
> loaded), let us know.
>
datetime2 always loads: tracklang, etoolbox and xkeyval.

Thank you.

Best regards
Nicola

From karl at freefriends.org  Thu Apr 21 23:03:07 2022
From: karl at freefriends.org (Karl Berry)
Date: Thu, 21 Apr 2022 15:03:07 -0600
Subject: tlmgr package dependencies
In-Reply-To: <718ecec5-4a9d-434a-8061-de0c67264eb5@uea.ac.uk>
Message-ID: <202204212103.23LL373v026244@freefriends.org>

Hi Nicola,

    datetime2 always loads: tracklang, etoolbox and xkeyval.

Added those dependencies for tonight's TL update. --best, karl.

From bvoisin at icloud.com  Fri Apr 22 00:56:17 2022
From: bvoisin at icloud.com (Bruno Voisin)
Date: Fri, 22 Apr 2022 00:56:17 +0200
Subject: Problem with the 2022 MacTeX installer?
Message-ID: <35122047-87FA-4D9A-AD9A-441054C13A4B@icloud.com>

Seeing this message from Alan Munn on the list archive:

> I just updated my distribution to TL 2022 using the MacTeX installer. After installation, fonts in /usr/local/texlive/texmf-local were not found. After running tlmgr to update packages, (using TeX Live Utility) everything is back to normal. I had quick look through the MacTeX installer scripts and don't see updmap-sys being run. Was this an oversight? I've never encountered such a problem in the past 8 years of TL installations.

For me it's rather been the opposite: a few years back, after a new MacTeX install, I needed to run updmap-sys and fmtutil-sys manually (and maybe even mktexlsr too) to ensure that the additional fonts in texmf-local were seen and the additional formats defined there were created. Now it no longer seems to be the case.

I've had a quick look at the postinstall script for MacTeX-2022 (once MacTeX.pkg has been expanded with pkgutil, it's MacTeX/TeXLive-2022-Start.pkg/Scripts/postinstall):

- As Dick Koch said, the script ends up with

	/usr/local/texlive/2022/bin/universal-darwin/fmtutil-sys --all

- Before that, if your default paper size (from System Preferences > Printers & Scanners) is found to be A4, then the script runs

	if [[ "$PAPER" == "a4" ]]; then
		/usr/local/texlive/2022/bin/universal-darwin/tlmgr paper $PAPER
	fi

- Other than that, no call of tlmgr nor updmap-sys.

So nothing is done font-wise.

But for me this year, after erasing my whole TeX install save for texmf-local, then installing MacTeX-2022 from scratch, and before running TeX Live utilityt, I checked:

- The map files for my texmf-local fonts had had their content added inside the map files at /usr/local/texlive/2022/texmf-var/fonts/map.

- The fmt files for the formats defined in texmf-local had been created inside /usr/local/texlive/2022/texmf-var/web2c.

Maybe this is due to the way my setup is configured:

- A file/usr/local/texlive/texmf-local/web2c/updmap.cfg list the map files to be added to those in TeX Live. It contains lines like (for MathTime, MathTime Pro 2 and Lucida)

	#! Map belleek.map
	Map mt-yy.map
	Map mtpro2.map
	Map lucida.map

- A file /usr/local/texlive/texmf-local/web2c/fmtutil.cnf lists which additional formats should be created and how. For example one line is

	cupplain pdftex - -translate-file=cp227.tcx cupplain.ini

Then it seems that, without requiring any action on my part, this was found and used automatically during the MacTeX install process. I've no idea why.

Maybe because my default OS paper size is A4, so tlmgr was run to make it the default for TeX, and while doing so maybe tlmgr noticed there were these updmap.cfg and fmtutil.cnf and decided to act on it?

If for some reason this isn't done, there's always the possibility to do things manually, with

	sudo mktexlsr
	sudo updmap-sys
	sudo fmtutil-sys --cnffile /Library/TeX/Local/web2c/fmtutil.cnf --missing

Hope this helps,

Bruno Voisin



From n.talbot at uea.ac.uk  Fri Apr 22 17:04:31 2022
From: n.talbot at uea.ac.uk (Dr Nicola L C Talbot)
Date: Fri, 22 Apr 2022 16:04:31 +0100
Subject: tlmgr package dependencies
In-Reply-To: <202204212103.23LL373v026244@freefriends.org>
References: <202204212103.23LL373v026244@freefriends.org>
Message-ID: <0e9cacaf-57c6-5abf-2906-8ed1e9564588@uea.ac.uk>

Hi Karl,

>      datetime2 always loads: tracklang, etoolbox and xkeyval.
> 
> Added those dependencies for tonight's TL update. --best, karl.

That's great. Thanks.

Regards
Nicola

From undinevollmer at gmx.de  Fri Apr 22 19:39:13 2022
From: undinevollmer at gmx.de (Undine Vollmer)
Date: Fri, 22 Apr 2022 19:39:13 +0200
Subject: texlive 2022 and csquotes
Message-ID: <trinity-1228991b-1c9f-4d62-a79b-740378c67fa9-1650649153487@3c-app-gmx-bs39>

An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220422/aca2cbbd/attachment.html>

From usenet at siart.de  Sat Apr 23 10:48:25 2022
From: usenet at siart.de (Uwe Siart)
Date: Sat, 23 Apr 2022 10:48:25 +0200
Subject: texlive 2022 and csquotes
References: <trinity-1228991b-1c9f-4d62-a79b-740378c67fa9-1650649153487@3c-app-gmx-bs39>
Message-ID: <86r15oi3s6.fsf@siart.de>

Undine Vollmer <undinevollmer at gmx.de> writes:

> Using csquotes with texlive 2022 produces strange error messages,
> mainly if there is a footnoote or an environment inside \enquote{},
> e.g. \enquote{text\footnote} text} or \enquote{\begin{verse} text
> \end{verse} text}. I reinstalled texlive 2021, and everything is
> working as indended. So this must be an error in the
> texlive-distributon, not a package error of csquotes.

\documentclass{article}
\usepackage{csquotes}
\begin{document}
\enquote{\footnote{Text} Text}
\enquote{%
  \begin{verse}
    Text
  \end{verse}}
\end{document}

compiles fine with pdflatex in TL2022. However, using an environment
that switches to vertical mode inside \enquote{} looks like malpractice
to me. The logical order is

\begin{verse}
\enquote{Text}
\end{verse}

which makes more sense, IMO.

-- 
Uwe


From maximilian.noethe at tu-dortmund.de  Sat Apr 23 11:02:39 2022
From: maximilian.noethe at tu-dortmund.de (=?UTF-8?Q?Maximilian_N=c3=b6the?=)
Date: Sat, 23 Apr 2022 11:02:39 +0200
Subject: tlmgr package dependencies
In-Reply-To: <202204212103.23LL373v026244@freefriends.org>
References: <202204212103.23LL373v026244@freefriends.org>
Message-ID: <b9c1c716-092f-3e0a-799b-a3d9b3fcbc2d@tu-dortmund.de>

Hi all,

Seeing issues like these pop up so often and the manual process involved 
for fixing them,
wouldn't there an easy, intermediate solution for improving the 
situation that's not going "full package management"?

I am thinking something simple like packages could include a simple 
"required_texlive_packages.txt"* for packages that
could be included in the source distribution with one package per line? 
Sure, it would take some time until a
large number of packages pick this up, but package maintainers normally 
know better what they depend on and under which circumstances
than TeX-Live maintainers, right?

Cheers
Max


* more advanced options would be adding files along the lines of a 
package.json or pyproject.toml, but that would require
a more thorough design process.

On 21.04.22 23:03, Karl Berry wrote:
> Hi Nicola,
>
>      datetime2 always loads: tracklang, etoolbox and xkeyval.
>
> Added those dependencies for tonight's TL update. --best, karl.

-- 
Dr.
Maximilian N?the
PostDoc Astroteilchenphysik

Technische Universit?t Dortmund
Fakult?t Physik / Astroteilchenphysik
Otto-Hahn-Str. 4a
44227 Dortmund

Tel.: +49 231 755 8895
maximilian.noethe at tu-dortmund.de
https://app.tu-dortmund.de


From martin at dante.de  Sat Apr 23 11:45:18 2022
From: martin at dante.de (Martin Sievers)
Date: Sat, 23 Apr 2022 11:45:18 +0200
Subject: texlive 2022 and csquotes
In-Reply-To: <trinity-1228991b-1c9f-4d62-a79b-740378c67fa9-1650649153487@3c-app-gmx-bs39>
References: <trinity-1228991b-1c9f-4d62-a79b-740378c67fa9-1650649153487@3c-app-gmx-bs39>
Message-ID: <509b3746-bbf6-a481-58f0-c073143dba45@dante.de>

Am 22.04.22 um 19:39 schrieb Undine Vollmer:
> Using csquotes with texlive 2022 produces strange error messages, mainly 
> if there is a footnoote or an environment inside \enquote{}, e.g. 
> \enquote{text\footnote} text} or \enquote{\begin{verse} text \end{verse} 
> text}.
> I reinstalled texlive 2021, and everything is working as indended. So 
> this must be an error in the texlive-distributon, not a package error of 
> csquotes.

I remember having similar problems with a document using these 
structures after one the last TeX Live 2021 updates, so this might be 
caused by a change in one of the involved packages, not the distribution 
itself (in my case it was microtype AFAIR).

Best regards,
Martin

From zdenek.wagner at gmail.com  Sat Apr 23 12:08:51 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 23 Apr 2022 12:08:51 +0200
Subject: tlmgr package dependencies
In-Reply-To: <b9c1c716-092f-3e0a-799b-a3d9b3fcbc2d@tu-dortmund.de>
References: <202204212103.23LL373v026244@freefriends.org>
 <b9c1c716-092f-3e0a-799b-a3d9b3fcbc2d@tu-dortmund.de>
Message-ID: <CAC1phyY0r2jX57B97N7H2xzD+A5BnPsN7wHGPdoKOEX3c84-tg@mail.gmail.com>

Hi all,

yes, it would work in an ideal world where all package authors would
prepare such a file but I am aware that all authors will not do it.
Another proble is that there is not only TeX Live but also MiKTeX and
authors probably will not be happy to prepare two dependency files. In
fact, even Linux is not that ideal. Maybe it is already fixed but
VirtualBox does not work out of the box in Fedora because an important
dependency is missing, you must know what to install manually to make
it work. A few days ago I uploaded a bug fix of my packages and CTAN
does not say how to include an information on dependencies. I list
dependencies in the manual and will mention in the announcement if it
changes.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

so 23. 4. 2022 v 11:02 odes?latel Maximilian N?the
<maximilian.noethe at tu-dortmund.de> napsal:
>
> Hi all,
>
> Seeing issues like these pop up so often and the manual process involved
> for fixing them,
> wouldn't there an easy, intermediate solution for improving the
> situation that's not going "full package management"?
>
> I am thinking something simple like packages could include a simple
> "required_texlive_packages.txt"* for packages that
> could be included in the source distribution with one package per line?
> Sure, it would take some time until a
> large number of packages pick this up, but package maintainers normally
> know better what they depend on and under which circumstances
> than TeX-Live maintainers, right?
>
> Cheers
> Max
>
>
> * more advanced options would be adding files along the lines of a
> package.json or pyproject.toml, but that would require
> a more thorough design process.
>
> On 21.04.22 23:03, Karl Berry wrote:
> > Hi Nicola,
> >
> >      datetime2 always loads: tracklang, etoolbox and xkeyval.
> >
> > Added those dependencies for tonight's TL update. --best, karl.
>
> --
> Dr.
> Maximilian N?the
> PostDoc Astroteilchenphysik
>
> Technische Universit?t Dortmund
> Fakult?t Physik / Astroteilchenphysik
> Otto-Hahn-Str. 4a
> 44227 Dortmund
>
> Tel.: +49 231 755 8895
> maximilian.noethe at tu-dortmund.de
> https://app.tu-dortmund.de
>


From martin at dante.de  Sat Apr 23 13:39:17 2022
From: martin at dante.de (Martin Sievers)
Date: Sat, 23 Apr 2022 13:39:17 +0200
Subject: texlive 2022 and csquotes
In-Reply-To: <86r15oi3s6.fsf@siart.de>
References: <trinity-1228991b-1c9f-4d62-a79b-740378c67fa9-1650649153487@3c-app-gmx-bs39>
 <86r15oi3s6.fsf@siart.de>
Message-ID: <15d992d7-7ad3-f3cc-aad7-0d91f53277c3@dante.de>

Am 23.04.22 um 10:48 schrieb Uwe Siart:
> Undine Vollmer <undinevollmer at gmx.de> writes:
> 
>> Using csquotes with texlive 2022 produces strange error messages,
>> mainly if there is a footnoote or an environment inside \enquote{},
>> e.g. \enquote{text\footnote} text} or \enquote{\begin{verse} text
>> \end{verse} text}. I reinstalled texlive 2021, and everything is
>> working as indended. So this must be an error in the
>> texlive-distributon, not a package error of csquotes.
> 
> \documentclass{article}
> \usepackage{csquotes}
> \begin{document}
> \enquote{\footnote{Text} Text}
> \enquote{%
>    \begin{verse}
>      Text
>    \end{verse}}
> \end{document}
> 
> compiles fine with pdflatex in TL2022. However, using an environment
> that switches to vertical mode inside \enquote{} looks like malpractice
> to me. The logical order is
> 
> \begin{verse}
> \enquote{Text}
> \end{verse}
> 
> which makes more sense, IMO.

Dear all,

as an addition to my previous post, I can confirm, that

\documentclass{article}
\usepackage{csquotes}
\usepackage{microtype}
\begin{document}
    \enquote{\footnote{Text} Text}
    \enquote{%
       \begin{verse}
          Text
    \end{verse}}
\end{document}

using a most recent installation of TeX Live 2022 with packages:
  *File List*
  article.cls    2021/10/04 v1.4n Standard LaTeX document class
   size10.clo    2021/10/04 v1.4n Standard LaTeX file (size option)
csquotes.sty    2021-02-22 v5.2l context-sensitive quotations (JAW)
etoolbox.sty    2020/10/05 v2.5k e-TeX tools for LaTeX (JAW)
   keyval.sty    2014/10/28 v1.15 key=value parser (DPC)
csquotes.def    2021-02-22 v5.2l csquotes generic definitions (JAW)
csquotes.cfg
microtype.sty    2022/03/14 v3.0d Micro-typographical refinements (RS)
microtype-pdftex.def    2022/03/14 v3.0d Definitions specific to pdftex (RS)
microtype.cfg    2022/03/14 v3.0d microtype main configuration file (RS)
l3backend-pdftex.def    2022-04-20 L3 backend support: PDF output (pdfTeX)
   mt-cmr.cfg    2013/05/19 v2.2 microtype config. file: Computer Modern 
Roman (
RS)
  ***********

results in many errors arising from csquotes while it works in my TL 
2021 installation with an older microtype package:

*File List*
  article.cls    2021/10/04 v1.4n Standard LaTeX document class
   size10.clo    2021/10/04 v1.4n Standard LaTeX file (size option)
csquotes.sty    2021-02-22 v5.2l context-sensitive quotations (JAW)
etoolbox.sty    2020/10/05 v2.5k e-TeX tools for LaTeX (JAW)
   keyval.sty    2014/10/28 v1.15 key=value parser (DPC)
csquotes.def    2021-02-22 v5.2l csquotes generic definitions (JAW)
csquotes.cfg
microtype.sty    2021/12/10 v3.0b Micro-typographical refinements (RS)
microtype-pdftex.def    2021/12/10 v3.0b Definitions specific to pdftex (RS)
microtype.cfg    2021/12/10 v3.0b microtype main configuration file (RS)
l3backend-pdftex.def    2022-02-07 L3 backend support: PDF output (pdfTeX)
   mt-cmr.cfg    2013/05/19 v2.2 microtype config. file: Computer Modern 
Roman (
RS)
  ***********


Best regards,
Martin

From news3 at nililand.de  Sat Apr 23 23:21:44 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 23 Apr 2022 23:21:44 +0200
Subject: texlive 2022 and csquotes
References: <trinity-1228991b-1c9f-4d62-a79b-740378c67fa9-1650649153487@3c-app-gmx-bs39>
 <86r15oi3s6.fsf@siart.de> <15d992d7-7ad3-f3cc-aad7-0d91f53277c3@dante.de>
Message-ID: <iajikl2c5y90$.dlg@nililand.de>

Am Sat, 23 Apr 2022 13:39:17 +0200 schrieb Martin Sievers:


> as an addition to my previous post, I can confirm, that
> 
> \documentclass{article}
> \usepackage{csquotes}
> \usepackage{microtype}
> \begin{document}
>     \enquote{\footnote{Text} Text}
>     \enquote{%
>        \begin{verse}
>           Text
>     \end{verse}}
> \end{document}

> results in many errors arising from csquotes while it works in my TL 
> 2021 installation with an older microtype package:

Some of the new microtype patches are a bit fragile. With 

\documentclass{article}
\usepackage{csquotes}
\usepackage[nopatch={footnote,item}]{microtype}
\begin{document}
    \enquote{\footnote{Text} Text}
    \enquote{%
       \begin{verse}
          Text
    \end{verse}}
\end{document}


it compiles.

-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From karl at freefriends.org  Sun Apr 24 00:58:26 2022
From: karl at freefriends.org (Karl Berry)
Date: Sat, 23 Apr 2022 16:58:26 -0600
Subject: tlmgr package dependencies
In-Reply-To: <b9c1c716-092f-3e0a-799b-a3d9b3fcbc2d@tu-dortmund.de>
Message-ID: <202204232258.23NMwQ6v007545@freefriends.org>

Hi Max,

    could be included in the source distribution with one package per line? 

I invented the file DEPENDS.txt for exactly this, a few years ago.
https://tug.org/texlive/pkgcontrib.html#deps

Some packages use it. It is not especially easy to deal with (either
creating or reading, I imagine), but I guess it helps in some cases, so
that is fine.

    know better what they depend on and under which circumstances
    than TeX-Live maintainers, right?

1) the TL maintainers (e.g., me) don't even attempt to guess at
dependencies. That would be, as you imply, crazy :).

2) There is no way to define conditional dependencies (or conditions).
No information is available to tlmgr about that.

Best,
Karl

From khzimmer at posteo.de  Sun Apr 24 08:48:22 2022
From: khzimmer at posteo.de (khzimmer at posteo.de)
Date: Sun, 24 Apr 2022 06:48:22 +0000
Subject: texlive 2022 and csquotes
In-Reply-To: <iajikl2c5y90$.dlg@nililand.de>
References: <trinity-1228991b-1c9f-4d62-a79b-740378c67fa9-1650649153487@3c-app-gmx-bs39>
 <86r15oi3s6.fsf@siart.de> <15d992d7-7ad3-f3cc-aad7-0d91f53277c3@dante.de>
 <iajikl2c5y90$.dlg@nililand.de>
Message-ID: <7861361ebbf7c4274f8b4b430fc8415a@posteo.de>

THX for the hint, I've informed my Twitter followers now, feel free to 
retweet:

https://twitter.com/khzimmer2/status/1518118971177897985

Cheers
Karl-Heinz

Am 23.04.2022 23:21 schrieb Ulrike Fischer:
> Am Sat, 23 Apr 2022 13:39:17 +0200 schrieb Martin Sievers:
> 
> 
>> as an addition to my previous post, I can confirm, that
>> 
>> \documentclass{article}
>> \usepackage{csquotes}
>> \usepackage{microtype}
>> \begin{document}
>>     \enquote{\footnote{Text} Text}
>>     \enquote{%
>>        \begin{verse}
>>           Text
>>     \end{verse}}
>> \end{document}
> 
>> results in many errors arising from csquotes while it works in my TL
>> 2021 installation with an older microtype package:
> 
> Some of the new microtype patches are a bit fragile. With
> 
> \documentclass{article}
> \usepackage{csquotes}
> \usepackage[nopatch={footnote,item}]{microtype}
> \begin{document}
>     \enquote{\footnote{Text} Text}
>     \enquote{%
>        \begin{verse}
>           Text
>     \end{verse}}
> \end{document}
> 
> 
> it compiles.

From cazzola at di.unimi.it  Sun Apr 24 16:31:06 2022
From: cazzola at di.unimi.it (Walter Cazzola)
Date: Sun, 24 Apr 2022 16:31:06 +0200 (CEST)
Subject: tlmgr messes up the rights of installed/updated packagess
Message-ID: <91e95e18-6d5e-d7df-fa5-28e78c28e2fa@di.unimi.it>

Dear TeXLive Users/Developers,
I have a problem with tlmgr that affects my texlive installation since TL2021.

Context. I'm on a Linux (Fedora 35 flavor) box where I have installed texlive
as root with the TUG script. In this way all the users of the Linux box can
use LaTeX. I'm currently using an up-to-date TL2022 full installation.

Once installed everything work as expected. Unfortunately when I run (as
root):

   > tlmgr update --all

the updated packages have their rights access changed from 755 to 700 (644 to
600 if they are files). This provokes a file not found error when the user try
to use the updated style, class, font or documentation.

At the moment, I tame the issue by manually searching for the wrong right
configurations and reverting them to the expected ones. This is a boring and
a quite error-prone process that I would prefer to avoid.

This behavior is occurring since TL2021 
I googled around but I can't find anything on the topic.

Am I doing something wrong? Do you have a way to fix it?

Thank you in advance for your help

Walter

-

From tkacvins at gmail.com  Sun Apr 24 17:15:48 2022
From: tkacvins at gmail.com (Tom Kacvinsky)
Date: Sun, 24 Apr 2022 11:15:48 -0400
Subject: tlmgr messes up the rights of installed/updated packagess
In-Reply-To: <91e95e18-6d5e-d7df-fa5-28e78c28e2fa@di.unimi.it>
References: <91e95e18-6d5e-d7df-fa5-28e78c28e2fa@di.unimi.it>
Message-ID: <CAG_eJLevhK4iB+6GwGymxwghqR90NMz13QYtCC=WREHHKJRj9g@mail.gmail.com>

On Sun, Apr 24, 2022 at 11:03 AM Walter Cazzola <cazzola at di.unimi.it> wrote:

> Dear TeXLive Users/Developers,
> I have a problem with tlmgr that affects my texlive installation since
> TL2021.
>
> Context. I'm on a Linux (Fedora 35 flavor) box where I have installed
> texlive
> as root with the TUG script. In this way all the users of the Linux box can
> use LaTeX. I'm currently using an up-to-date TL2022 full installation.
>
> Once installed everything work as expected. Unfortunately when I run (as
> root):
>
>    > tlmgr update --all
>
> the updated packages have their rights access changed from 755 to 700 (644
> to
> 600 if they are files). This provokes a file not found error when the user
> try
> to use the updated style, class, font or documentation.
>
> At the moment, I tame the issue by manually searching for the wrong right
> configurations and reverting them to the expected ones. This is a boring
> and
> a quite error-prone process that I would prefer to avoid.
>
> This behavior is occurring since TL2021
> I googled around but I can't find anything on the topic.
>
> Am I doing something wrong? Do you have a way to fix it?
>
> Thank you in advance for your help


What is the rumask for the root user?  That is probably the culprit.  If it
restricts
group and other permissions, non-root users won't be able to see it .  Then
it
might be a tlmgr issue, but I don't see tlmgr playing with the umask for a
user.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220424/72a3d7a7/attachment.html>

From zdenek.wagner at gmail.com  Sun Apr 24 17:27:57 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 24 Apr 2022 17:27:57 +0200
Subject: tlmgr messes up the rights of installed/updated packagess
In-Reply-To: <CAG_eJLevhK4iB+6GwGymxwghqR90NMz13QYtCC=WREHHKJRj9g@mail.gmail.com>
References: <91e95e18-6d5e-d7df-fa5-28e78c28e2fa@di.unimi.it>
 <CAG_eJLevhK4iB+6GwGymxwghqR90NMz13QYtCC=WREHHKJRj9g@mail.gmail.com>
Message-ID: <CAC1phyZ==O_wYW8H4t9gcXmqN4S6MdDD1QUucb0b9+TSbrc6pg@mail.gmail.com>

ne 24. 4. 2022 v 17:16 odes?latel Tom Kacvinsky <tkacvins at gmail.com> napsal:
>
>
>
> On Sun, Apr 24, 2022 at 11:03 AM Walter Cazzola <cazzola at di.unimi.it> wrote:
>>
>> Dear TeXLive Users/Developers,
>> I have a problem with tlmgr that affects my texlive installation since TL2021.
>>
>> Context. I'm on a Linux (Fedora 35 flavor) box where I have installed texlive
>> as root with the TUG script. In this way all the users of the Linux box can
>> use LaTeX. I'm currently using an up-to-date TL2022 full installation.
>>
>> Once installed everything work as expected. Unfortunately when I run (as
>> root):
>>
>>    > tlmgr update --all
>>
>> the updated packages have their rights access changed from 755 to 700 (644 to
>> 600 if they are files). This provokes a file not found error when the user try
>> to use the updated style, class, font or documentation.
>>
>> At the moment, I tame the issue by manually searching for the wrong right
>> configurations and reverting them to the expected ones. This is a boring and
>> a quite error-prone process that I would prefer to avoid.
>>
>> This behavior is occurring since TL2021
>> I googled around but I can't find anything on the topic.
>>
>> Am I doing something wrong? Do you have a way to fix it?
>>
>> Thank you in advance for your help
>
>
> What is the rumask for the root user?  That is probably the culprit.  If it restricts
> group and other permissions, non-root users won't be able to see it .  Then it
> might be a tlmgr issue, but I don't see tlmgr playing with the umask for a user.

I also have Fedora 35 and umask for root is 0022. Anyway, it is not
necessary to install TL from TUG as a root. If it is installed by an
ordinary user in /usr/local/texlive and PATH added to bash profile for
all users (must be done by root), then that one user has r/w access
and can maintain it and other users can read and execute.

It may also be different whether you do su - and then call tlmgr or
whether you use sudo. Anyway, umask is the first thing what you should
try.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


From cazzola at di.unimi.it  Sun Apr 24 17:38:33 2022
From: cazzola at di.unimi.it (Walter Cazzola)
Date: Sun, 24 Apr 2022 17:38:33 +0200 (CEST)
Subject: tlmgr messes up the rights of installed/updated packagess
In-Reply-To: <CAG_eJLevhK4iB+6GwGymxwghqR90NMz13QYtCC=WREHHKJRj9g@mail.gmail.com>
References: <91e95e18-6d5e-d7df-fa5-28e78c28e2fa@di.unimi.it>
 <CAG_eJLevhK4iB+6GwGymxwghqR90NMz13QYtCC=WREHHKJRj9g@mail.gmail.com>
Message-ID: <54c0dd98-144-6ea4-73c-703b86361d@di.unimi.it>

On Sun, 24 Apr 2022, Tom Kacvinsky wrote:

> On Sun, Apr 24, 2022 at 11:03 AM Walter Cazzola <cazzola at di.unimi.it> wrote:

>> Dear TeXLive Users/Developers,
>> I have a problem with tlmgr that affects my texlive installation since
>> TL2021.

>> Context. I'm on a Linux (Fedora 35 flavor) box where I have installed
>> texlive
>> as root with the TUG script. In this way all the users of the Linux box can
>> use LaTeX. I'm currently using an up-to-date TL2022 full installation.

>> Once installed everything work as expected. Unfortunately when I run (as
>> root):

>>   > tlmgr update --all

>> the updated packages have their rights access changed from 755 to 700 (644
>> to 600 if they are files). This provokes a file not found error when the
>> user try to use the updated style, class, font or documentation.

>> At the moment, I tame the issue by manually searching for the wrong right
>> configurations and reverting them to the expected ones. This is a boring
>> and a quite error-prone process that I would prefer to avoid.

>> This behavior is occurring since TL2021
>> I googled around but I can't find anything on the topic.

>> Am I doing something wrong? Do you have a way to fix it?

>> Thank you in advance for your help

> What is the rumask for the root user?  That is probably the culprit.  If it
> restricts group and other permissions, non-root users won't be able to see
> it.  Then it might be a tlmgr issue, but I don't see tlmgr playing with the
> umask for a user.

Current umask for the root user is 0033 as far as I can far this should grand
reading access to all users but directory should also need execution rights.

I will try to add it. Thank you.

Walter

-- 

From zdenek.wagner at gmail.com  Sun Apr 24 17:48:57 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 24 Apr 2022 17:48:57 +0200
Subject: tlmgr messes up the rights of installed/updated packagess
In-Reply-To: <54c0dd98-144-6ea4-73c-703b86361d@di.unimi.it>
References: <91e95e18-6d5e-d7df-fa5-28e78c28e2fa@di.unimi.it>
 <CAG_eJLevhK4iB+6GwGymxwghqR90NMz13QYtCC=WREHHKJRj9g@mail.gmail.com>
 <54c0dd98-144-6ea4-73c-703b86361d@di.unimi.it>
Message-ID: <CAC1phyZhbgxL+sa1GO3SR-3+EGskUGAAomMh+Ezv+7gqzD9Q1w@mail.gmail.com>

ne 24. 4. 2022 v 17:38 odes?latel Walter Cazzola <cazzola at di.unimi.it> napsal:
>
> On Sun, 24 Apr 2022, Tom Kacvinsky wrote:
>
> > On Sun, Apr 24, 2022 at 11:03 AM Walter Cazzola <cazzola at di.unimi.it> wrote:
>
> >> Dear TeXLive Users/Developers,
> >> I have a problem with tlmgr that affects my texlive installation since
> >> TL2021.
>
> >> Context. I'm on a Linux (Fedora 35 flavor) box where I have installed
> >> texlive
> >> as root with the TUG script. In this way all the users of the Linux box can
> >> use LaTeX. I'm currently using an up-to-date TL2022 full installation.
>
> >> Once installed everything work as expected. Unfortunately when I run (as
> >> root):
>
> >>   > tlmgr update --all
>
> >> the updated packages have their rights access changed from 755 to 700 (644
> >> to 600 if they are files). This provokes a file not found error when the
> >> user try to use the updated style, class, font or documentation.
>
> >> At the moment, I tame the issue by manually searching for the wrong right
> >> configurations and reverting them to the expected ones. This is a boring
> >> and a quite error-prone process that I would prefer to avoid.
>
> >> This behavior is occurring since TL2021
> >> I googled around but I can't find anything on the topic.
>
> >> Am I doing something wrong? Do you have a way to fix it?
>
> >> Thank you in advance for your help
>
> > What is the rumask for the root user?  That is probably the culprit.  If it
> > restricts group and other permissions, non-root users won't be able to see
> > it.  Then it might be a tlmgr issue, but I don't see tlmgr playing with the
> > umask for a user.
>
> Current umask for the root user is 0033 as far as I can far this should grand
> reading access to all users but directory should also need execution rights.
>
OK, this is the problem. Value 1 of a bit forbids the right, thus 0033
means no-write, no-execute for group and users while 0022 means just
no-write.

> I will try to add it. Thank you.
>
> Walter
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


> --


From cazzola at di.unimi.it  Sun Apr 24 21:47:38 2022
From: cazzola at di.unimi.it (Walter Cazzola)
Date: Sun, 24 Apr 2022 21:47:38 +0200 (CEST)
Subject: tlmgr messes up the rights of installed/updated packagess
In-Reply-To: <CAC1phyZhbgxL+sa1GO3SR-3+EGskUGAAomMh+Ezv+7gqzD9Q1w@mail.gmail.com>
References: <91e95e18-6d5e-d7df-fa5-28e78c28e2fa@di.unimi.it>
 <CAG_eJLevhK4iB+6GwGymxwghqR90NMz13QYtCC=WREHHKJRj9g@mail.gmail.com>
 <54c0dd98-144-6ea4-73c-703b86361d@di.unimi.it>
 <CAC1phyZhbgxL+sa1GO3SR-3+EGskUGAAomMh+Ezv+7gqzD9Q1w@mail.gmail.com>
Message-ID: <8b49e41a-bc0-2410-c02-a8d4617787a@di.unimi.it>

On Sun, 24 Apr 2022, Zdenek Wagner wrote:

>> Current umask for the root user is 0033 as far as I can far this should grand
>> reading access to all users but directory should also need execution rights.

> OK, this is the problem. Value 1 of a bit forbids the right, thus 0033
> means no-write, no-execute for group and users while 0022 means just
> no-write.

Indeed this solved the issue. Thank you.

Walter

-- 

From lloyd at writersglen.com  Sun Apr 24 22:51:22 2022
From: lloyd at writersglen.com (Lloyd R. Prentice)
Date: Sun, 24 Apr 2022 16:51:22 -0400
Subject: TeX Live for self publishers
Message-ID: <019B9CB6-B1FC-4679-900E-3F2AAA457989@writersglen.com>

Hello,

As a self publisher with more than 30 years of software development experience and low-on-the-learning-curve LaTeX skills, I can only imagine and applaud the many person-hours of diligent work that has gone into the TeX Live distribution. No doubt the system is bundled and deployed as it is for good reasons.

I?m drawn to LaTex with an interest in quality typesetting and the markdown package. And, my sense is that many other self publishers would benefit by integrating the two technologies into their workflow.

But in my own practice two things are serious barriers to adoption by the hundreds of thousands of self publishers currently wedded to MS Word. Note that since the markdown package is a work-in-progress, I and other self publishers need an up-to-date version of the markdown package, so installing via apt is not in the cards. So, concerns:

1. The official installation procedure and docs feels overly cumbersome and error prone 
2. TeX Live installs gigabytes of packages that have little added value to a book publisher

Tinytex appears to be a serious effort to solve these two concerns. But, as I understand, it?s wedded to R.

So, questions:

 ? What skills and effort would it take to create a simple-to-install LaTeX distribution dedicated to book publishing, perhaps based upon tinytex?

? How difficult would it be to develop automation tools that would take the larger TeX Live distribution and generate a much smaller purpose-built version for book publishers?

? Is there interest in the community to doso?

Thanks,

LRP


Sent from my iPad


From don.hosek at gmail.com  Sun Apr 24 23:10:36 2022
From: don.hosek at gmail.com (Don Hosek)
Date: Sun, 24 Apr 2022 17:10:36 -0400
Subject: TeX Live for self publishers
In-Reply-To: <019B9CB6-B1FC-4679-900E-3F2AAA457989@writersglen.com>
References: <019B9CB6-B1FC-4679-900E-3F2AAA457989@writersglen.com>
Message-ID: <D83BC492-CD08-41D1-87F1-4501CCC01B02@gmail.com>


> Tinytex appears to be a serious effort to solve these two concerns. But, as I understand, it?s wedded to R.

TinyTeX is, in fact not wedded to R (although its default selection of packages is geared towards the needs of that community). 

MikTeX is available for windows, Mac and Linux and is probably the most user-friendly option for a TeX distribution with packages installed on an as-needed basis. 

-dh

From amunn at gmx.com  Sun Apr 24 23:22:30 2022
From: amunn at gmx.com (amunn at gmx.com)
Date: Sun, 24 Apr 2022 23:22:30 +0200
Subject: TeX Live for self publishers
In-Reply-To: <D83BC492-CD08-41D1-87F1-4501CCC01B02@gmail.com>
References: <019B9CB6-B1FC-4679-900E-3F2AAA457989@writersglen.com>
 <D83BC492-CD08-41D1-87F1-4501CCC01B02@gmail.com>
Message-ID: <trinity-c4f541f1-53b7-4781-a97e-5ed6ae82d1b7-1650835350322@msvc-mesg-gmx022>


On 4/24/22 at 17:11, Don Hosek wrote:

> 
> > Tinytex appears to be a serious effort to solve these two concerns. But, as I understand, it?s wedded to R.
> 
> TinyTeX is, in fact not wedded to R (although its default selection of packages is geared towards the needs of that community). 
> 
> MikTeX is available for windows, Mac and Linux and is probably the most user-friendly option for a TeX distribution with packages installed on an as-needed basis. 
> 
> -dh
> 

The vast majority of Mac users use the MacTeX distribution which comes as a single click installer, admittedly large. The number of Mac MikTeX users is likely very small and almost any advice you will find on TeX for the Mac (and Linux for that matter) will assume a TeXLive distribution. So while MikTeX is a good alternative for Windows users I?m not convinced it is for Mac and Linux users. 

Alan


From karl at freefriends.org  Sun Apr 24 23:41:42 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 24 Apr 2022 15:41:42 -0600
Subject: TeX Live for self publishers
In-Reply-To: <019B9CB6-B1FC-4679-900E-3F2AAA457989@writersglen.com>
Message-ID: <202204242141.23OLfgo4013049@freefriends.org>

Lloyd,

1) You can already install a subset of tl with a single command (after
downloading):

perl install-tl -scheme scheme-small

Nothing more is needed, if you're willing to accept the defaults.
The documentation is all about letting people do things other than the
default.

You do still have to add the newly-created TL bin directory to your
PATH.  We can't do that for you.

2) As implied by the above, if you/colleagues/whomever can define the
set of packages that would be good for "self publishers", we can easily
define it as an additional scheme (e.g., scheme-selfpublish). I could
not begin to guess at what was needed myself. One big question is
whether to include extra fonts, and if so, which fonts. Fonts account
for the majority of disk space in a full system.

3) Just FYI, the "small" scheme in the example above is used for the
"BasicTeX" variant of MacTeX. It includes support for some European
languages and a few additional packages. It does not include extra
fonts. It apparently suffices for many people who just want to "typeset
their thesis", but it's surely not enough for self-publishing.

Here is a list of the existing schemes and their sizes, so you can get a
sense of where things stand.
mbytes               #pkgs
7333 scheme-full      4315
2662 scheme-tetex     1552
1860 scheme-medium    1306
1113 scheme-gust       539
 619 scheme-context    131
 533 scheme-small      322
 254 scheme-basic      118
  73 scheme-minimal     56
   7 scheme-infraonly    7


From zdenek.wagner at gmail.com  Mon Apr 25 00:22:40 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 25 Apr 2022 00:22:40 +0200
Subject: TeX Live for self publishers
In-Reply-To: <202204242141.23OLfgo4013049@freefriends.org>
References: <019B9CB6-B1FC-4679-900E-3F2AAA457989@writersglen.com>
 <202204242141.23OLfgo4013049@freefriends.org>
Message-ID: <CAC1phybREwVY84Bep96kXgqTrJ88Ft_hqK74SVd-+GD45W-tGA@mail.gmail.com>

Hi Lloyd,

it is difficult to say what is the bare minimum. I am not exactlya
self publisher but I typeset books for several publishers. After
approximately 200 books I can write what I need. Basically my most
important package is zwpagelayout, not because it was developed by me,
but because I sometimes get the page description from the graphical
designer who does not understand computers and does not understand
TeX. I did not want to recalculate the design to the (La)TeX way thus
I developed a package which accepts page dimensions in the same way
how the designers think. The books often contain images therefore the
graphic package is needed. Some books are typeset in two columns thus
the multicol package is needed. If I can decide, I prefer XeLaTeX to
pdflatex. And because many of my books are not in English or even are
multilingual, I need the polyglossia package. You can definitely live
with just a few basic font, in fact the classical typography did not
use a lot of fonts which we have now but if you typeset invitations,
wedding announcement and such, you will need more fonts. I have also a
large collection of commercial fonts because the publishers want them.
I write the source directly in LaTeX and make my own macros because
each book is different Sometimes the source is in XML but the XML
tools are not part of the TeX distros. An example of such a book is
here: http://icebearsoft.euweb.cz/bharat.php

If you need some information from my practice, just ask.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

ne 24. 4. 2022 v 23:41 odes?latel Karl Berry <karl at freefriends.org> napsal:
>
> Lloyd,
>
> 1) You can already install a subset of tl with a single command (after
> downloading):
>
> perl install-tl -scheme scheme-small
>
> Nothing more is needed, if you're willing to accept the defaults.
> The documentation is all about letting people do things other than the
> default.
>
> You do still have to add the newly-created TL bin directory to your
> PATH.  We can't do that for you.
>
> 2) As implied by the above, if you/colleagues/whomever can define the
> set of packages that would be good for "self publishers", we can easily
> define it as an additional scheme (e.g., scheme-selfpublish). I could
> not begin to guess at what was needed myself. One big question is
> whether to include extra fonts, and if so, which fonts. Fonts account
> for the majority of disk space in a full system.
>
> 3) Just FYI, the "small" scheme in the example above is used for the
> "BasicTeX" variant of MacTeX. It includes support for some European
> languages and a few additional packages. It does not include extra
> fonts. It apparently suffices for many people who just want to "typeset
> their thesis", but it's surely not enough for self-publishing.
>
> Here is a list of the existing schemes and their sizes, so you can get a
> sense of where things stand.
> mbytes               #pkgs
> 7333 scheme-full      4315
> 2662 scheme-tetex     1552
> 1860 scheme-medium    1306
> 1113 scheme-gust       539
>  619 scheme-context    131
>  533 scheme-small      322
>  254 scheme-basic      118
>   73 scheme-minimal     56
>    7 scheme-infraonly    7
>


From karl at freefriends.org  Tue Apr 26 00:36:39 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 25 Apr 2022 16:36:39 -0600
Subject: texlua issue on raspberry pi
In-Reply-To: <CAKt3JyXEsRCxWnH77=j66YYLn0yg-uog9qYcc=bR9rXLXEGvVQ@mail.gmail.com>
Message-ID: <202204252236.23PMadKf015253@freefriends.org>

For the record: A couple days I updated the armhf-linux binaries for TL
with versions built on an older Debian, namely 10 aka buster, by Mojca.

So the custom-bin procedureshould only be necessary for armhf now if you
have an even older system ...  --thanks, karl.

From clark.michael.c at gmail.com  Mon Apr 25 23:37:27 2022
From: clark.michael.c at gmail.com (Michael Clark)
Date: Mon, 25 Apr 2022 15:37:27 -0600
Subject: lacheck is confused when curly brackets are inside a \newcommand
Message-ID: <CABF6iw1LQX++whcEa1f=RjRO0EF9r+3F59np062uZB=8fCSogA@mail.gmail.com>

Example latex file (foo.tex):

    \newcommand{\boldx}[1]{{\bf #1}}
    \newcommand{\ibx}[1]{\textbf{\textit{#1}}}

lacheck output:

    "foo.tex", line 1: <- unmatched "}"
    "foo.tex", line 1: -> unmatched "beginning of file foo.tex"
    "foo.tex", line 2: <- unmatched "}"
    "foo.tex", line 1: -> unmatched "beginning of file foo.tex"

I pulled the example commands from
https://www.physicsread.com/latex-bold/ showing two useful cases. One,
using a command inside of a newcommand, and the other creates a group
to isolate the scope of the command to the included text.

Replacing \newcommand with \newcommand* reports no error as expected.
If an error is expected behavior for \newcommand, it would be nice if
the error message were more clear, as the brackets are correctly
matched.

Thank you for maintaining this tool. I'd need to devote longer than I
have to figure out where to go from line 391 of lacheck.l
(https://tug.org/svn/texlive/trunk/Build/source/utils/lacheck/lacheck.l?view=markup#l391).

From daleif at math.au.dk  Tue Apr 26 09:08:30 2022
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 26 Apr 2022 07:08:30 +0000
Subject: lacheck is confused when curly brackets are inside a \newcommand
In-Reply-To: <CABF6iw1LQX++whcEa1f=RjRO0EF9r+3F59np062uZB=8fCSogA@mail.gmail.com>
References: <CABF6iw1LQX++whcEa1f=RjRO0EF9r+3F59np062uZB=8fCSogA@mail.gmail.com>
Message-ID: <HE1PR0102MB271300EC754B21D7739F48CDF2FB9@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>

I would have hoped that it complained a lot more from

    \newcommand{\boldx}[1]{{\bf #1}}

\bf has been depreciated syntax since 1993!



Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Michael Clark <clark.michael.c at gmail.com>
Sent: 25 April 2022 23:37
To: tex-live at tug.org <tex-live at tug.org>
Subject: lacheck is confused when curly brackets are inside a \newcommand

Example latex file (foo.tex):

    \newcommand{\boldx}[1]{{\bf #1}}
    \newcommand{\ibx}[1]{\textbf{\textit{#1}}}

lacheck output:

    "foo.tex", line 1: <- unmatched "}"
    "foo.tex", line 1: -> unmatched "beginning of file foo.tex"
    "foo.tex", line 2: <- unmatched "}"
    "foo.tex", line 1: -> unmatched "beginning of file foo.tex"

I pulled the example commands from
https://www.physicsread.com/latex-bold/ showing two useful cases. One,
using a command inside of a newcommand, and the other creates a group
to isolate the scope of the command to the included text.

Replacing \newcommand with \newcommand* reports no error as expected.
If an error is expected behavior for \newcommand, it would be nice if
the error message were more clear, as the brackets are correctly
matched.

Thank you for maintaining this tool. I'd need to devote longer than I
have to figure out where to go from line 391 of lacheck.l
(https://tug.org/svn/texlive/trunk/Build/source/utils/lacheck/lacheck.l?view=markup#l391).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220426/bb3654b5/attachment.html>

From karl at freefriends.org  Tue Apr 26 23:56:14 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 26 Apr 2022 15:56:14 -0600
Subject: lacheck is confused when curly brackets are inside a \newcommand
In-Reply-To: <CABF6iw1LQX++whcEa1f=RjRO0EF9r+3F59np062uZB=8fCSogA@mail.gmail.com>
Message-ID: <202204262156.23QLuEpT015563@freefriends.org>

Hi Michael,

    have to figure out where to go from line 391 of lacheck.l
    (https://tug.org/svn/texlive/trunk/Build/source/utils/lacheck/lacheck.l?view=markup#l391).

Thanks for that pointer. Maybe we can just add a \* in the right place
in that pattern. I'll give it a try when I have a chance.  What platform
are you on? Conceivably I could send you a test binary.

Thanks,
Karl

From norbert at preining.info  Wed Apr 27 10:15:54 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 27 Apr 2022 17:15:54 +0900
Subject: Installer
In-Reply-To: <CAFBMCdMq7ZZo4EU=RosKKQWrqYxyZ7c1-60+EKEV3xYM4d-+Og@mail.gmail.com>
References: <CAFBMCdOHgeVW=p2f8F9kO_eHqi+y2+V7R5mnADxt3AQ2oQ+dLQ@mail.gmail.com>
 <25187.5315.463517.829450@gargle.gargle.HOWL>
 <CAFBMCdMq7ZZo4EU=RosKKQWrqYxyZ7c1-60+EKEV3xYM4d-+Og@mail.gmail.com>
Message-ID: <Ymj7ut/zB53rup5G@bulldog>

Hi Milan,

(moving this to the tex-live mailing list, since texhax is not really
the best place for that!)

thanks a lot. I took a look at the repo, and it is fast indeed.
Unpacking needs to be done into the same directory, though.
Concerning the xz compression, is Python using some library or the
external xz/xzdec command, do you know?

I am still thinking about how we could reasonable integrate such
"alternative install cores" into the whole infra. In particular, since
it would not only be for the installer itself, but also for tlmgr.
But with tlmgr, there are a lot of additional requirements (reverting to
previous version if installation failed, ...) that is not clear to me
how this can be easily done.

Still, it is a great start, thanks a lot!

All the best

Norbert

> https://github.com/skaanbilly2/tex-live-installer

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Wed Apr 27 11:53:09 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 27 Apr 2022 18:53:09 +0900
Subject: Installer
In-Reply-To: <CAFBMCdO_4azpo5_Lpp_MGco1Tg_0R8wNF6oR_jJ09ZmOJAGkKA@mail.gmail.com>
References: <CAFBMCdOHgeVW=p2f8F9kO_eHqi+y2+V7R5mnADxt3AQ2oQ+dLQ@mail.gmail.com>
 <25187.5315.463517.829450@gargle.gargle.HOWL>
 <CAFBMCdMq7ZZo4EU=RosKKQWrqYxyZ7c1-60+EKEV3xYM4d-+Og@mail.gmail.com>
 <Ymj7ut/zB53rup5G@bulldog>
 <CAFBMCdO_4azpo5_Lpp_MGco1Tg_0R8wNF6oR_jJ09ZmOJAGkKA@mail.gmail.com>
Message-ID: <YmkShQFfidBcU34f@bulldog>

Hi Milan,

> As far as the directory goes, I just assumed nothing for the output
> directory, hence the path is just an alterable input. If all needs to be in
> one place, it can be adjusted as well but it is not a limitation of the
> software.

For sure, I don't think this is a serious problem and can easily be
adjusted.

> As far as the decompression goes, I am not entirely certain about the way
> it is done. As far as I can tell from the documentation and the source
> code, the tarfile package will refer to the lzma package for xz files. This
> however imports a LZMADecompressor that I do not find directly in the
> source code. I assume this is just a layer on top of C to support python
> calls to it. I just think that it is fast enough for this purpose as well
> as it is cross-platform.

Speed of the decompressor is less an issue, I guess. The question is
whether we need to ship/have available xz/xzdec as binaries somehow.
At the moment we ship xz/xzdec for most/all architectures to be sure we
can decompress our own packages.

> At the moment I think it is best if all the requirements for the package
> download were to be listed.

Not sure what you want to say with that.

> Correct me if I am wrong but the installer uses tlmgr, does it not?

No, it does not.
tlmgr and install-tl use the same functions from TeXLive::TLUtils, but
the installer does NOT use tlmgr.

I have thought about this and in case I find time I might implement it:
Install a minimal installation (like scheme-infra) and do all the rest
of the installation via tlmgr. But that is future talk, which hasn't
realized till now, mostly because the "features" or "expectations" of
install-tl and tlmgr are different. tlmgr needs to be able to revert to
old versions when installations fail, etc etc.

> If that were to be true I would only change the download portion of tlmgr
> by calling this downloader, leaving the logic intact. If that were to be
> the case only simpel download commands and responses can be given and
> returned by the program. Letting the logic of reverting back to the
> previous version be handled by tlmgr.

That would work for both install-tl and tlmgr, since both hook into
TeXLive::TLUtils. But parallelization is a different topic and much more
complicated.
I don't think that what you propose wrt tlmgr and reverting is easily
realizable, though.

I think the first task is speeding up install-tl, and see how we can
interface with a "special installer" like your python code based one.
After that, we can look into how to unify this approach over to tlmgr.
Again, future talk.

Now, if I only had the chance to quit my job and spend my time to do all this...

> If you would want to discuss this further, you can mail me or we could have
> a meeting.

Let us continue for now per email here on the list. If needs arrises, we
can surely arrange a video meeting (but be aware I am based in Japan JST
= UTC+9). There is also a IRC chat room on libera #texlive, although I
am the only one there (such an old style guy ...).

All the best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Wed Apr 27 13:05:41 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 27 Apr 2022 20:05:41 +0900
Subject: Installer
In-Reply-To: <CAFBMCdPu5WCSvbPkth4VPv7Ypwyy3kOw-bZTPnhM3pf9K9QJaw@mail.gmail.com>
References: <CAFBMCdOHgeVW=p2f8F9kO_eHqi+y2+V7R5mnADxt3AQ2oQ+dLQ@mail.gmail.com>
 <25187.5315.463517.829450@gargle.gargle.HOWL>
 <CAFBMCdMq7ZZo4EU=RosKKQWrqYxyZ7c1-60+EKEV3xYM4d-+Og@mail.gmail.com>
 <Ymj7ut/zB53rup5G@bulldog>
 <CAFBMCdO_4azpo5_Lpp_MGco1Tg_0R8wNF6oR_jJ09ZmOJAGkKA@mail.gmail.com>
 <YmkShQFfidBcU34f@bulldog>
 <CAFBMCdPu5WCSvbPkth4VPv7Ypwyy3kOw-bZTPnhM3pf9K9QJaw@mail.gmail.com>
Message-ID: <YmkjhXRNAgahS6Mb@bulldog>

Hi Milan,

> At the moment I am looking into two install packagers namely nuitka and

Don't worry about this *now*, there are many more important things to be
done. Packaging Python programs can be done later, have done it before.

> If we were to use this, no additional things would need to be added and a
> single executable would be the result.

But that is only supported on a limited number of platforms. AFAIR these
bundlers don't support - say - Cygwin, or NetBSD, or ...

> No platform specific distributions of a decompressor should be bundled
> manually.

Are you sure about that? You weren't sure in your last email whether an
external or internal xz(-library) was used. Anyway, also this is topic
for much later.

All the best

Norbert

PS: I will be more or less offline for a week due to extended holidays
here in Japan. Please ping me after May 8 in case there is something I
should look into.

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at aspodata.se  Wed Apr 27 15:08:32 2022
From: karl at aspodata.se (karl at aspodata.se)
Date: Wed, 27 Apr 2022 15:08:32 +0200 (CEST)
Subject: left/right page lineup
Message-ID: <20220427130832.52C9D82572B5@turkos.aspodata.se>

 How do you line up, in a page spread, the left and right
page text lines ?

I'm trying to make a text booklet (size 115 x 180 mm)
in a dvd-case for a music recording of Buxtehudes
membra Jesu nostri:
 https://en.wikipedia.org/wiki/Membra_Jesu_Nostri

In it I like to have the latin text on the left page
and the translation on the right page. The pages are
too small to have the latin and translation side by side
on the same page.

Now given the files in:
 http://aspodata.se/tmp/tex/
it works fine for the first spread to just have the same amount of
text lines in the tex file. But for the second spread it doesn't work.

Both the latin and the translation have the same amount of lines.
How come it is typeset differently ?
How do I do to solve that without resorting to manually setting
paragraph heights ?

Regards,
/Karl Hammar



From zdenek.wagner at gmail.com  Wed Apr 27 15:19:27 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 27 Apr 2022 15:19:27 +0200
Subject: left/right page lineup
In-Reply-To: <20220427130832.52C9D82572B5@turkos.aspodata.se>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
Message-ID: <CAC1phybU=C7dyVmpwO1FkxhNFAuknHg8G1oN95bLZCSJH9zpYQ@mail.gmail.com>

Hi,

I am not sure that i understand what you need but maybe you need what
I did a few years ago. I prepared a book of poems where each poems
starts on a new page and each poem is in two languages, left page in
Hindi, right page in Czech. The translation preserved the form, i.e.
the number of lines. Some poems was just on one page, some of them
needed two pages so the macros were designed to put the first part of
the Hindi version, then the first part of the Czech version, then the
second part of the Hindi version and the second part of the Czech
version. The macros are a bit complex but if you like, I can send them
to you. You will probably have to modify them.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

st 27. 4. 2022 v 15:08 odes?latel <karl at aspodata.se> napsal:
>
>  How do you line up, in a page spread, the left and right
> page text lines ?
>
> I'm trying to make a text booklet (size 115 x 180 mm)
> in a dvd-case for a music recording of Buxtehudes
> membra Jesu nostri:
>  https://en.wikipedia.org/wiki/Membra_Jesu_Nostri
>
> In it I like to have the latin text on the left page
> and the translation on the right page. The pages are
> too small to have the latin and translation side by side
> on the same page.
>
> Now given the files in:
>  http://aspodata.se/tmp/tex/
> it works fine for the first spread to just have the same amount of
> text lines in the tex file. But for the second spread it doesn't work.
>
> Both the latin and the translation have the same amount of lines.
> How come it is typeset differently ?
> How do I do to solve that without resorting to manually setting
> paragraph heights ?
>
> Regards,
> /Karl Hammar
>
>


From skaanbilly2 at gmail.com  Wed Apr 27 11:33:09 2022
From: skaanbilly2 at gmail.com (Skaanbilly2)
Date: Wed, 27 Apr 2022 11:33:09 +0200
Subject: Installer
In-Reply-To: <Ymj7ut/zB53rup5G@bulldog>
References: <CAFBMCdOHgeVW=p2f8F9kO_eHqi+y2+V7R5mnADxt3AQ2oQ+dLQ@mail.gmail.com>
 <25187.5315.463517.829450@gargle.gargle.HOWL>
 <CAFBMCdMq7ZZo4EU=RosKKQWrqYxyZ7c1-60+EKEV3xYM4d-+Og@mail.gmail.com>
 <Ymj7ut/zB53rup5G@bulldog>
Message-ID: <CAFBMCdO_4azpo5_Lpp_MGco1Tg_0R8wNF6oR_jJ09ZmOJAGkKA@mail.gmail.com>

Hi Norbert

Thanks for the move, I was not aware of this mailing list.

As far as the directory goes, I just assumed nothing for the output
directory, hence the path is just an alterable input. If all needs to be in
one place, it can be adjusted as well but it is not a limitation of the
software.

As far as the decompression goes, I am not entirely certain about the way
it is done. As far as I can tell from the documentation and the source
code, the tarfile package will refer to the lzma package for xz files. This
however imports a LZMADecompressor that I do not find directly in the
source code. I assume this is just a layer on top of C to support python
calls to it. I just think that it is fast enough for this purpose as well
as it is cross-platform.

At the moment I think it is best if all the requirements for the package
download were to be listed.
Correct me if I am wrong but the installer uses tlmgr, does it not?
If that were to be true I would only change the download portion of tlmgr
by calling this downloader, leaving the logic intact. If that were to be
the case only simpel download commands and responses can be given and
returned by the program. Letting the logic of reverting back to the
previous version be handled by tlmgr.

If you would want to discuss this further, you can mail me or we could have
a meeting.

Kind regards
Milan

Op wo 27 apr. 2022 om 10:15 schreef Norbert Preining <norbert at preining.info
>:

> Hi Milan,
>
> (moving this to the tex-live mailing list, since texhax is not really
> the best place for that!)
>
> thanks a lot. I took a look at the repo, and it is fast indeed.
> Unpacking needs to be done into the same directory, though.
> Concerning the xz compression, is Python using some library or the
> external xz/xzdec command, do you know?
>
> I am still thinking about how we could reasonable integrate such
> "alternative install cores" into the whole infra. In particular, since
> it would not only be for the installer itself, but also for tlmgr.
> But with tlmgr, there are a lot of additional requirements (reverting to
> previous version if installation failed, ...) that is not clear to me
> how this can be easily done.
>
> Still, it is a great start, thanks a lot!
>
> All the best
>
> Norbert
>
> > https://github.com/skaanbilly2/tex-live-installer
>
> --
> PREINING Norbert                              https://www.preining.info
> Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220427/278d93bb/attachment-0001.html>

From skaanbilly2 at gmail.com  Wed Apr 27 12:17:43 2022
From: skaanbilly2 at gmail.com (Skaanbilly2)
Date: Wed, 27 Apr 2022 12:17:43 +0200
Subject: Installer
In-Reply-To: <YmkShQFfidBcU34f@bulldog>
References: <CAFBMCdOHgeVW=p2f8F9kO_eHqi+y2+V7R5mnADxt3AQ2oQ+dLQ@mail.gmail.com>
 <25187.5315.463517.829450@gargle.gargle.HOWL>
 <CAFBMCdMq7ZZo4EU=RosKKQWrqYxyZ7c1-60+EKEV3xYM4d-+Og@mail.gmail.com>
 <Ymj7ut/zB53rup5G@bulldog>
 <CAFBMCdO_4azpo5_Lpp_MGco1Tg_0R8wNF6oR_jJ09ZmOJAGkKA@mail.gmail.com>
 <YmkShQFfidBcU34f@bulldog>
Message-ID: <CAFBMCdPu5WCSvbPkth4VPv7Ypwyy3kOw-bZTPnhM3pf9K9QJaw@mail.gmail.com>

Hi Norbert

Thanks for the quick reply.

At the moment I am looking into two install packagers namely nuitka and
pyinstaller.
https://nuitka.net/index.html
https://pyinstaller.org/en/stable/index.html

If we were to use this, no additional things would need to be added and a
single executable would be the result.
No platform specific distributions of a decompressor should be bundled
manually.

Kind regards
Milan

Op wo 27 apr. 2022 om 11:53 schreef Norbert Preining <norbert at preining.info
>:

> Hi Milan,
>
> > As far as the directory goes, I just assumed nothing for the output
> > directory, hence the path is just an alterable input. If all needs to be
> in
> > one place, it can be adjusted as well but it is not a limitation of the
> > software.
>
> For sure, I don't think this is a serious problem and can easily be
> adjusted.
>
> > As far as the decompression goes, I am not entirely certain about the way
> > it is done. As far as I can tell from the documentation and the source
> > code, the tarfile package will refer to the lzma package for xz files.
> This
> > however imports a LZMADecompressor that I do not find directly in the
> > source code. I assume this is just a layer on top of C to support python
> > calls to it. I just think that it is fast enough for this purpose as well
> > as it is cross-platform.
>
> Speed of the decompressor is less an issue, I guess. The question is
> whether we need to ship/have available xz/xzdec as binaries somehow.
> At the moment we ship xz/xzdec for most/all architectures to be sure we
> can decompress our own packages.
>
> > At the moment I think it is best if all the requirements for the package
> > download were to be listed.
>
> Not sure what you want to say with that.
>
> > Correct me if I am wrong but the installer uses tlmgr, does it not?
>
> No, it does not.
> tlmgr and install-tl use the same functions from TeXLive::TLUtils, but
> the installer does NOT use tlmgr.
>
> I have thought about this and in case I find time I might implement it:
> Install a minimal installation (like scheme-infra) and do all the rest
> of the installation via tlmgr. But that is future talk, which hasn't
> realized till now, mostly because the "features" or "expectations" of
> install-tl and tlmgr are different. tlmgr needs to be able to revert to
> old versions when installations fail, etc etc.
>
> > If that were to be true I would only change the download portion of tlmgr
> > by calling this downloader, leaving the logic intact. If that were to be
> > the case only simpel download commands and responses can be given and
> > returned by the program. Letting the logic of reverting back to the
> > previous version be handled by tlmgr.
>
> That would work for both install-tl and tlmgr, since both hook into
> TeXLive::TLUtils. But parallelization is a different topic and much more
> complicated.
> I don't think that what you propose wrt tlmgr and reverting is easily
> realizable, though.
>
> I think the first task is speeding up install-tl, and see how we can
> interface with a "special installer" like your python code based one.
> After that, we can look into how to unify this approach over to tlmgr.
> Again, future talk.
>
> Now, if I only had the chance to quit my job and spend my time to do all
> this...
>
> > If you would want to discuss this further, you can mail me or we could
> have
> > a meeting.
>
> Let us continue for now per email here on the list. If needs arrises, we
> can surely arrange a video meeting (but be aware I am based in Japan JST
> = UTC+9). There is also a IRC chat room on libera #texlive, although I
> am the only one there (such an old style guy ...).
>
> All the best
>
> Norbert
>
> --
> PREINING Norbert                              https://www.preining.info
> Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220427/92009e4e/attachment-0001.html>

From skaanbilly2 at gmail.com  Wed Apr 27 13:29:33 2022
From: skaanbilly2 at gmail.com (Skaanbilly2)
Date: Wed, 27 Apr 2022 13:29:33 +0200
Subject: Installer
In-Reply-To: <YmkjhXRNAgahS6Mb@bulldog>
References: <CAFBMCdOHgeVW=p2f8F9kO_eHqi+y2+V7R5mnADxt3AQ2oQ+dLQ@mail.gmail.com>
 <25187.5315.463517.829450@gargle.gargle.HOWL>
 <CAFBMCdMq7ZZo4EU=RosKKQWrqYxyZ7c1-60+EKEV3xYM4d-+Og@mail.gmail.com>
 <Ymj7ut/zB53rup5G@bulldog>
 <CAFBMCdO_4azpo5_Lpp_MGco1Tg_0R8wNF6oR_jJ09ZmOJAGkKA@mail.gmail.com>
 <YmkShQFfidBcU34f@bulldog>
 <CAFBMCdPu5WCSvbPkth4VPv7Ypwyy3kOw-bZTPnhM3pf9K9QJaw@mail.gmail.com>
 <YmkjhXRNAgahS6Mb@bulldog>
Message-ID: <CAFBMCdNu5R7YMsJ9cnUK6Tmk4hqRFk6ZHQsZ_ECZf7HKqH6HZA@mail.gmail.com>

Hi Norbert

For the sake of experimentation I used pyinstaller to create a one-file
executable and tried to run that executable from Windows and from Ubuntu
(through WSL).
Both of these worked fine in my case. For me that indicates no xz-library
needs to be added manually for Windows and Ubuntu, of course more
investigation is needed.

I am not sure about Cygwin or NetBSD since I am not familiar with these, I
think it is better if someone else with more experience with those looks at
that.


Kind regards
Milan

Op wo 27 apr. 2022 om 13:05 schreef Norbert Preining <norbert at preining.info
>:

> Hi Milan,
>
> > At the moment I am looking into two install packagers namely nuitka and
>
> Don't worry about this *now*, there are many more important things to be
> done. Packaging Python programs can be done later, have done it before.
>
> > If we were to use this, no additional things would need to be added and a
> > single executable would be the result.
>
> But that is only supported on a limited number of platforms. AFAIR these
> bundlers don't support - say - Cygwin, or NetBSD, or ...
>
> > No platform specific distributions of a decompressor should be bundled
> > manually.
>
> Are you sure about that? You weren't sure in your last email whether an
> external or internal xz(-library) was used. Anyway, also this is topic
> for much later.
>
> All the best
>
> Norbert
>
> PS: I will be more or less offline for a week due to extended holidays
> here in Japan. Please ping me after May 8 in case there is something I
> should look into.
>
> --
> PREINING Norbert                              https://www.preining.info
> Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220427/c8e5f228/attachment.html>

From karl at aspodata.se  Wed Apr 27 15:35:20 2022
From: karl at aspodata.se (karl at aspodata.se)
Date: Wed, 27 Apr 2022 15:35:20 +0200 (CEST)
Subject: left/right page lineup
In-Reply-To: <CAC1phybU=C7dyVmpwO1FkxhNFAuknHg8G1oN95bLZCSJH9zpYQ@mail.gmail.com>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
 <CAC1phybU=C7dyVmpwO1FkxhNFAuknHg8G1oN95bLZCSJH9zpYQ@mail.gmail.com>
Message-ID: <20220427133520.F290A82572B5@turkos.aspodata.se>

Zdenek Wagner:
> I am not sure that i understand what you need but maybe you need what
> I did a few years ago. I prepared a book of poems where each poems
> starts on a new page and each poem is in two languages, left page in
> Hindi, right page in Czech. The translation preserved the form, i.e.
> the number of lines. Some poems was just on one page, some of them
> needed two pages so the macros were designed to put the first part of
> the Hindi version, then the first part of the Czech version, then the
> second part of the Hindi version and the second part of the Czech
> version. The macros are a bit complex but if you like, I can send them
> to you. You will probably have to modify them.

Yes, I want to preserve the form and I think one page each should be
sufficient.

Now that you mentions it, I might search for poetry packages.

Regards,
/Karl Hammar


From zdenek.wagner at gmail.com  Wed Apr 27 16:05:48 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 27 Apr 2022 16:05:48 +0200
Subject: left/right page lineup
In-Reply-To: <20220427133520.F290A82572B5@turkos.aspodata.se>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
 <CAC1phybU=C7dyVmpwO1FkxhNFAuknHg8G1oN95bLZCSJH9zpYQ@mail.gmail.com>
 <20220427133520.F290A82572B5@turkos.aspodata.se>
Message-ID: <CAC1phybPnW61RAECSn5Qthb6gpnatP8XRyDD3G0cRzf+NVWh6g@mail.gmail.com>

st 27. 4. 2022 v 15:35 odes?latel <karl at aspodata.se> napsal:
>
> Zdenek Wagner:
> > I am not sure that i understand what you need but maybe you need what
> > I did a few years ago. I prepared a book of poems where each poems
> > starts on a new page and each poem is in two languages, left page in
> > Hindi, right page in Czech. The translation preserved the form, i.e.
> > the number of lines. Some poems was just on one page, some of them
> > needed two pages so the macros were designed to put the first part of
> > the Hindi version, then the first part of the Czech version, then the
> > second part of the Hindi version and the second part of the Czech
> > version. The macros are a bit complex but if you like, I can send them
> > to you. You will probably have to modify them.
>
> Yes, I want to preserve the form and I think one page each should be
> sufficient.
>
> Now that you mentions it, I might search for poetry packages.
>
I have my own poetry package which also allows mixing of prose into a
poem and a poem into a prose. It is quite configurable but almost
undocumented and my multilingual solutin is based upon this package. I
was asked to write about it to TUGboat but I found no time...

> Regards,
> /Karl Hammar
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


From alessi at robertalessi.net  Wed Apr 27 17:10:22 2022
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 27 Apr 2022 17:10:22 +0200
Subject: left/right page lineup
In-Reply-To: <20220427130832.52C9D82572B5@turkos.aspodata.se>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
Message-ID: <Ymlc3j4pk5xNHEMK@robertalessi.net>

Hello Karl,

Maybe you should use the verse package for poetry and the paracol
package for parallel typesetting, as in the attached files.

paracol uses the starred version of \begin{column} to have texts
printed in such a way that the tops of all paragraphs are vertically
aligned.

Hope this helps.

Regards,

Robert

On Wed, Apr 27, 2022 at 03:08:32PM +0200, karl at aspodata.se wrote:
>  How do you line up, in a page spread, the left and right
> page text lines ?
> 
> I'm trying to make a text booklet (size 115 x 180 mm)
> in a dvd-case for a music recording of Buxtehudes
> membra Jesu nostri:
>  https://en.wikipedia.org/wiki/Membra_Jesu_Nostri
> 
> In it I like to have the latin text on the left page
> and the translation on the right page. The pages are
> too small to have the latin and translation side by side
> on the same page.
> 
> Now given the files in:
>  http://aspodata.se/tmp/tex/
> it works fine for the first spread to just have the same amount of
> text lines in the tex file. But for the second spread it doesn't work.
> 
> Both the latin and the translation have the same amount of lines.
> How come it is typeset differently ?
> How do I do to solve that without resorting to manually setting
> paragraph heights ?
> 
> Regards,
> /Karl Hammar
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test-tt.pdf
Type: application/pdf
Size: 28946 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20220427/baf38ac8/attachment-0001.pdf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test-tt.tex
Type: text/x-tex
Size: 3444 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20220427/baf38ac8/attachment-0001.bin>

From zdenek.wagner at gmail.com  Wed Apr 27 17:28:56 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 27 Apr 2022 17:28:56 +0200
Subject: left/right page lineup
In-Reply-To: <Ymlc3j4pk5xNHEMK@robertalessi.net>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
 <Ymlc3j4pk5xNHEMK@robertalessi.net>
Message-ID: <CAC1phya--JCTU2R2byjHHyTZdApBA_fgwFYPumEYv7vRKQDvFw@mail.gmail.com>

Hi,

this is more difficult than my solution because in paracol you have to
split it and put Latin, Swedish, Latin, Swedish, etc. Whe I was
preparing our Hindi.Czech book (see
http://icebearsoft.euweb.cz/ArunakashKaRasta/), I developed an
environment where I put the whole Hindi poem and the whole Czech poem.
Each of them is typeset to a \vbox and if it is higher than
\textheight, it is split to pieces by \vsplit and the boxes are then
placed to the pages. I do not have flexible spaces between paragraph,
i.e. \parskip is a fixed length without the "plus" and "minus" part,
flexibility is allowed on the bottom of page only. And since both
versions have the same numbers of lines, they are vertically aligned.

I do not know Swedish and I am lazy to try translators but I think
that "till dig ?nd?" at the end of the long line means "for your
soul". I do not know Latin as well but it seems to me that I do not
see it in the Latin text while "de tuis sanctis pedibus" certainly
means "fr?n dina heliga f?tter" (I know a little Danish and
Norwegian).

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

st 27. 4. 2022 v 17:10 odes?latel Robert Alessi
<alessi at robertalessi.net> napsal:
>
> Hello Karl,
>
> Maybe you should use the verse package for poetry and the paracol
> package for parallel typesetting, as in the attached files.
>
> paracol uses the starred version of \begin{column} to have texts
> printed in such a way that the tops of all paragraphs are vertically
> aligned.
>
> Hope this helps.
>
> Regards,
>
> Robert
>
> On Wed, Apr 27, 2022 at 03:08:32PM +0200, karl at aspodata.se wrote:
> >  How do you line up, in a page spread, the left and right
> > page text lines ?
> >
> > I'm trying to make a text booklet (size 115 x 180 mm)
> > in a dvd-case for a music recording of Buxtehudes
> > membra Jesu nostri:
> >  https://en.wikipedia.org/wiki/Membra_Jesu_Nostri
> >
> > In it I like to have the latin text on the left page
> > and the translation on the right page. The pages are
> > too small to have the latin and translation side by side
> > on the same page.
> >
> > Now given the files in:
> >  http://aspodata.se/tmp/tex/
> > it works fine for the first spread to just have the same amount of
> > text lines in the tex file. But for the second spread it doesn't work.
> >
> > Both the latin and the translation have the same amount of lines.
> > How come it is typeset differently ?
> > How do I do to solve that without resorting to manually setting
> > paragraph heights ?
> >
> > Regards,
> > /Karl Hammar
> >


From alessi at robertalessi.net  Wed Apr 27 17:43:25 2022
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 27 Apr 2022 17:43:25 +0200
Subject: left/right page lineup
In-Reply-To: <CAC1phya--JCTU2R2byjHHyTZdApBA_fgwFYPumEYv7vRKQDvFw@mail.gmail.com>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
 <Ymlc3j4pk5xNHEMK@robertalessi.net>
 <CAC1phya--JCTU2R2byjHHyTZdApBA_fgwFYPumEYv7vRKQDvFw@mail.gmail.com>
Message-ID: <YmlknVQVu5hKAGsk@robertalessi.net>

Hi,

What you describe sounds very interesting.  Did you make a package out
of these macros?  Aside, you are right: switching columns all the time
is certainly not the most flexible way that is.  (As you are also
right about the line breaks.)

Best,

Robert

On Wed, Apr 27, 2022 at 05:28:56PM +0200, Zdenek Wagner wrote:
> Hi,
> 
> this is more difficult than my solution because in paracol you have to
> split it and put Latin, Swedish, Latin, Swedish, etc. Whe I was
> preparing our Hindi.Czech book (see
> http://icebearsoft.euweb.cz/ArunakashKaRasta/), I developed an
> environment where I put the whole Hindi poem and the whole Czech poem.
> Each of them is typeset to a \vbox and if it is higher than
> \textheight, it is split to pieces by \vsplit and the boxes are then
> placed to the pages. I do not have flexible spaces between paragraph,
> i.e. \parskip is a fixed length without the "plus" and "minus" part,
> flexibility is allowed on the bottom of page only. And since both
> versions have the same numbers of lines, they are vertically aligned.
> 
> I do not know Swedish and I am lazy to try translators but I think
> that "till dig ?nd?" at the end of the long line means "for your
> soul". I do not know Latin as well but it seems to me that I do not
> see it in the Latin text while "de tuis sanctis pedibus" certainly
> means "fr?n dina heliga f?tter" (I know a little Danish and
> Norwegian).
> 
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> 
> st 27. 4. 2022 v 17:10 odes?latel Robert Alessi
> <alessi at robertalessi.net> napsal:
> >
> > Hello Karl,
> >
> > Maybe you should use the verse package for poetry and the paracol
> > package for parallel typesetting, as in the attached files.
> >
> > paracol uses the starred version of \begin{column} to have texts
> > printed in such a way that the tops of all paragraphs are vertically
> > aligned.
> >
> > Hope this helps.
> >
> > Regards,
> >
> > Robert
> >
> > On Wed, Apr 27, 2022 at 03:08:32PM +0200, karl at aspodata.se wrote:
> > >  How do you line up, in a page spread, the left and right
> > > page text lines ?
> > >
> > > I'm trying to make a text booklet (size 115 x 180 mm)
> > > in a dvd-case for a music recording of Buxtehudes
> > > membra Jesu nostri:
> > >  https://en.wikipedia.org/wiki/Membra_Jesu_Nostri
> > >
> > > In it I like to have the latin text on the left page
> > > and the translation on the right page. The pages are
> > > too small to have the latin and translation side by side
> > > on the same page.
> > >
> > > Now given the files in:
> > >  http://aspodata.se/tmp/tex/
> > > it works fine for the first spread to just have the same amount of
> > > text lines in the tex file. But for the second spread it doesn't work.
> > >
> > > Both the latin and the translation have the same amount of lines.
> > > How come it is typeset differently ?
> > > How do I do to solve that without resorting to manually setting
> > > paragraph heights ?
> > >
> > > Regards,
> > > /Karl Hammar
> > >

From jfine2358 at gmail.com  Wed Apr 27 18:54:33 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 27 Apr 2022 17:54:33 +0100
Subject: TeX Hour: Thu 28 Apr: 6:30pm UK time: Why don't ConTeXt and LaTeX
 join forces?
In-Reply-To: <ba2ee442-de33-4526-b2c9-0b08f54f6a36n@googlegroups.com>
References: <ba2ee442-de33-4526-b2c9-0b08f54f6a36n@googlegroups.com>
Message-ID: <CALD=Yf8zf3yzVvTSoP5fFYAnW_AYdaGQp+fW6ne9LsRXunkTng@mail.gmail.com>

Hi

Suggested agenda for tomorrow's TeX Hour. Your ideas are very welcome, and
will be prioritised. Please bring your contributions, as I've been busy
with other things .

1. Your ideas. Anything TeX or typography or design on accessibility
related. Even HTML and CSS.

2. Why are ConTeXt and LaTeX two different typesetting systems instead of
joining forces? This is https://tex.stackexchange.com/questions/641299/.

TeX Hour: Thursday 21 April, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Note: Both the UK and USA are on Summer Time. UK Time Now:
https://time.is/UK.

Item (2) was on the agenda last week, but we didn't get to it. Instead we
spent the whole hour on using git to transfer files (without any version
control).
Recording of last week: https://youtu.be/hMcWpdZK8iQ

wishing you happy TeXing

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220427/021db102/attachment.html>

From herries.press at earthlink.net  Wed Apr 27 20:59:51 2022
From: herries.press at earthlink.net (peter wilson)
Date: Wed, 27 Apr 2022 19:59:51 +0100
Subject: left/right page lineup
In-Reply-To: <YmlknVQVu5hKAGsk@robertalessi.net>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
 <Ymlc3j4pk5xNHEMK@robertalessi.net>
 <CAC1phya--JCTU2R2byjHHyTZdApBA_fgwFYPumEYv7vRKQDvFw@mail.gmail.com>
 <YmlknVQVu5hKAGsk@robertalessi.net>
Message-ID: <cb0f1cc0-4a8f-a9f7-c2e2-75c9934c674f@earthlink.net>

Take a look at the reledpar package. I initially developed the precursor 
of this to treat your desire. It has since been extended/redeveloped but 
I have not followed its evolution.

Peter W.

On 27/04/2022 16:43, Robert Alessi wrote:
> Hi,
>
> What you describe sounds very interesting.  Did you make a package out
> of these macros?  Aside, you are right: switching columns all the time
> is certainly not the most flexible way that is.  (As you are also
> right about the line breaks.)
>
> Best,
>
> Robert
>
> On Wed, Apr 27, 2022 at 05:28:56PM +0200, Zdenek Wagner wrote:
>> Hi,
>>
>> this is more difficult than my solution because in paracol you have to
>> split it and put Latin, Swedish, Latin, Swedish, etc. Whe I was
>> preparing our Hindi.Czech book (see
>> http://icebearsoft.euweb.cz/ArunakashKaRasta/), I developed an
>> environment where I put the whole Hindi poem and the whole Czech poem.
>> Each of them is typeset to a \vbox and if it is higher than
>> \textheight, it is split to pieces by \vsplit and the boxes are then
>> placed to the pages. I do not have flexible spaces between paragraph,
>> i.e. \parskip is a fixed length without the "plus" and "minus" part,
>> flexibility is allowed on the bottom of page only. And since both
>> versions have the same numbers of lines, they are vertically aligned.
>>
>> I do not know Swedish and I am lazy to try translators but I think
>> that "till dig ?nd?" at the end of the long line means "for your
>> soul". I do not know Latin as well but it seems to me that I do not
>> see it in the Latin text while "de tuis sanctis pedibus" certainly
>> means "fr?n dina heliga f?tter" (I know a little Danish and
>> Norwegian).
>>
>> Zden?k Wagner
>> http://ttsm.icpf.cas.cz/team/wagner.shtml
>>
>> st 27. 4. 2022 v 17:10 odes?latel Robert Alessi
>> <alessi at robertalessi.net> napsal:
>>> Hello Karl,
>>>
>>> Maybe you should use the verse package for poetry and the paracol
>>> package for parallel typesetting, as in the attached files.
>>>
>>> paracol uses the starred version of \begin{column} to have texts
>>> printed in such a way that the tops of all paragraphs are vertically
>>> aligned.
>>>
>>> Hope this helps.
>>>
>>> Regards,
>>>
>>> Robert
>>>
>>> On Wed, Apr 27, 2022 at 03:08:32PM +0200, karl at aspodata.se wrote:
>>>>   How do you line up, in a page spread, the left and right
>>>> page text lines ?
>>>>
>>>> I'm trying to make a text booklet (size 115 x 180 mm)
>>>> in a dvd-case for a music recording of Buxtehudes
>>>> membra Jesu nostri:
>>>>   https://en.wikipedia.org/wiki/Membra_Jesu_Nostri
>>>>
>>>> In it I like to have the latin text on the left page
>>>> and the translation on the right page. The pages are
>>>> too small to have the latin and translation side by side
>>>> on the same page.
>>>>
>>>> Now given the files in:
>>>>   http://aspodata.se/tmp/tex/
>>>> it works fine for the first spread to just have the same amount of
>>>> text lines in the tex file. But for the second spread it doesn't work.
>>>>
>>>> Both the latin and the translation have the same amount of lines.
>>>> How come it is typeset differently ?
>>>> How do I do to solve that without resorting to manually setting
>>>> paragraph heights ?
>>>>
>>>> Regards,
>>>> /Karl Hammar
>>>>

From herries.press at earthlink.net  Wed Apr 27 21:09:54 2022
From: herries.press at earthlink.net (peter wilson)
Date: Wed, 27 Apr 2022 20:09:54 +0100
Subject: left/right page lineup
In-Reply-To: <cb0f1cc0-4a8f-a9f7-c2e2-75c9934c674f@earthlink.net>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
 <Ymlc3j4pk5xNHEMK@robertalessi.net>
 <CAC1phya--JCTU2R2byjHHyTZdApBA_fgwFYPumEYv7vRKQDvFw@mail.gmail.com>
 <YmlknVQVu5hKAGsk@robertalessi.net>
 <cb0f1cc0-4a8f-a9f7-c2e2-75c9934c674f@earthlink.net>
Message-ID: <269aa733-9f13-724b-08c0-65f16c0c4371@earthlink.net>


On 27/04/2022 19:59, peter wilson wrote:
> Take a look at the reledpar package. I initially developed the 
> precursor of this to treat your desire. It has since been 
> extended/redeveloped but I have not followed its evolution.
>
> Peter W.

PS. Have you thought of asking your question on 
https://tex.stackexchange.com/questions ? You might get a wider range of 
responses.

Peter W.



From zdenek.wagner at gmail.com  Wed Apr 27 21:34:00 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 27 Apr 2022 21:34:00 +0200
Subject: left/right page lineup
In-Reply-To: <YmlknVQVu5hKAGsk@robertalessi.net>
References: <20220427130832.52C9D82572B5@turkos.aspodata.se>
 <Ymlc3j4pk5xNHEMK@robertalessi.net>
 <CAC1phya--JCTU2R2byjHHyTZdApBA_fgwFYPumEYv7vRKQDvFw@mail.gmail.com>
 <YmlknVQVu5hKAGsk@robertalessi.net>
Message-ID: <CAC1phya4q2f0wa-o1O7OPNJ_ipOobqdijWea_k3M02VJTVi-Kg@mail.gmail.com>

st 27. 4. 2022 v 17:43 odes?latel Robert Alessi
<alessi at robertalessi.net> napsal:
>
> Hi,
>
> What you describe sounds very interesting.  Did you make a package out
> of these macros?  Aside, you are right: switching columns all the time
> is certainly not the most flexible way that is.  (As you are also
> right about the line breaks.)
>
Unfortunately not. My zwpoetry package could be published but it has
no documentation. When typesetting the poetry books many years ago I
copied the macros from one book to another and modified them. After
some time I designed a configurable package. The bilingual macros have
a strange origin which lies in this book:
http://icebearsoft.euweb.cz/bharat.php

In usual LaTeX documents you have a text ant figures and tables float
within the text. However, this is a photo book, the images should have
fixed places and the text should float around them. The slides to the
lecture are in Czech but you can see that first it allows to position
the images with an auxilliary grid. Next it shows the place of the
text lines using grey lines within the grid (after defining the text
areas). When the text is inserted, the grey lines are replaced with
the text and finally the lines are removed. You can see in the example
that the width on the left page differs from the text width on the
right page and the paragraph is properly broken on the page break.
This is done by typesetting in a \vbox with \parshape and then
\vsplit. And when I learned \vsplit, it was easy to use zwpoetry with
the selected macros for the Hindi/Czech book. It has a preface in both
languages which is a prose and the sentences have different  lengths,
thus they do not have the same number of lines. It does not matter
much. Table of contents have two parts, Hindi and Czech and again in
the multipage TOC the left pages are in Hindi, right pages in Czech.
It is, of course, generated automatically. In addition, \@evenfoot
number the pages using Devanagari digits, \@oddfoot numbers them in
Arabic digits. The page numbers are sent to the respective TOCs as
numbers (\thepage) but the Hindi part converts them to Devanagari. So
I can put the macros to my web and you will have to modify them.

And I must stress that my goal was not a critical edition, I just
wanted to present myself in India and one Indian poet here in the
Czech Republic and prepare a book which was not publishe previously
and most probably another similar book will never be published.

> Best,
>
> Robert
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


> On Wed, Apr 27, 2022 at 05:28:56PM +0200, Zdenek Wagner wrote:
> > Hi,
> >
> > this is more difficult than my solution because in paracol you have to
> > split it and put Latin, Swedish, Latin, Swedish, etc. Whe I was
> > preparing our Hindi.Czech book (see
> > http://icebearsoft.euweb.cz/ArunakashKaRasta/), I developed an
> > environment where I put the whole Hindi poem and the whole Czech poem.
> > Each of them is typeset to a \vbox and if it is higher than
> > \textheight, it is split to pieces by \vsplit and the boxes are then
> > placed to the pages. I do not have flexible spaces between paragraph,
> > i.e. \parskip is a fixed length without the "plus" and "minus" part,
> > flexibility is allowed on the bottom of page only. And since both
> > versions have the same numbers of lines, they are vertically aligned.
> >
> > I do not know Swedish and I am lazy to try translators but I think
> > that "till dig ?nd?" at the end of the long line means "for your
> > soul". I do not know Latin as well but it seems to me that I do not
> > see it in the Latin text while "de tuis sanctis pedibus" certainly
> > means "fr?n dina heliga f?tter" (I know a little Danish and
> > Norwegian).
> >
> > Zden?k Wagner
> > http://ttsm.icpf.cas.cz/team/wagner.shtml
> >
> > st 27. 4. 2022 v 17:10 odes?latel Robert Alessi
> > <alessi at robertalessi.net> napsal:
> > >
> > > Hello Karl,
> > >
> > > Maybe you should use the verse package for poetry and the paracol
> > > package for parallel typesetting, as in the attached files.
> > >
> > > paracol uses the starred version of \begin{column} to have texts
> > > printed in such a way that the tops of all paragraphs are vertically
> > > aligned.
> > >
> > > Hope this helps.
> > >
> > > Regards,
> > >
> > > Robert
> > >
> > > On Wed, Apr 27, 2022 at 03:08:32PM +0200, karl at aspodata.se wrote:
> > > >  How do you line up, in a page spread, the left and right
> > > > page text lines ?
> > > >
> > > > I'm trying to make a text booklet (size 115 x 180 mm)
> > > > in a dvd-case for a music recording of Buxtehudes
> > > > membra Jesu nostri:
> > > >  https://en.wikipedia.org/wiki/Membra_Jesu_Nostri
> > > >
> > > > In it I like to have the latin text on the left page
> > > > and the translation on the right page. The pages are
> > > > too small to have the latin and translation side by side
> > > > on the same page.
> > > >
> > > > Now given the files in:
> > > >  http://aspodata.se/tmp/tex/
> > > > it works fine for the first spread to just have the same amount of
> > > > text lines in the tex file. But for the second spread it doesn't work.
> > > >
> > > > Both the latin and the translation have the same amount of lines.
> > > > How come it is typeset differently ?
> > > > How do I do to solve that without resorting to manually setting
> > > > paragraph heights ?
> > > >
> > > > Regards,
> > > > /Karl Hammar
> > > >


