From jfine2358 at gmail.com  Wed Jun  1 16:07:55 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 1 Jun 2022 15:07:55 +0100
Subject: TeX Hour: 2 June: 6:30pm UK time: Setting up workstation with
 Distrobox
Message-ID: <CALD=Yf_01ev44Hv+=Ruf_CV55vuhq3VNwC7YdxQ9w0tfRx9GUg@mail.gmail.com>

Hi

Sometimes I make or find the thing whose absence is blocking me. It's nice
when this happens. In tomorrow's TeX Hour I will share what I've learnt
about Distrobox, and how it will help me repackage TeX Live so that it can
be stored and distributed using git as a distributed content
addressable store. This is part of the foundation for Portable TeX
Documents (PTD).

Software tools for creating accessible documents have many components.
Reproducing this environment for others to use is hard work. Portable TeX
Documents will make it much easier and quicker to build the environment
needed to a source document.

TeX Hour: Thursday 2 June, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
UK Time Now: https://time.is/UK.

Here's the background. I've rebuilt my PC to have a 24-thread CPU, 64 GB of
memory and 1 TB of NVME storage. The new parts (including motherboard and
cooler) cost about ?1,000. It's an upgrade from a machine built about 10
years ago, and I hope it will also last about 10 years. I'm keen to do
large reproducible calculations, and to develop systems that work on
multiple platforms. Setting things up now will bring benefits later (and
soon, I hope). One is better understanding of the NVDA screen reader.

And here's why Distrobox. Yesterday in The Register I read:

If you routinely have to work with multiple different distros [...]
> DistroBox could save you a fair amount of time and effort. The tool is
> intended to simplify the creation and use of Linux system containers,
> making it easy to run one distro on top of another without the overhead of
> virtual machines.


https://www.theregister.com/2022/05/31/distrobox_130_released/
https://distrobox.privatedns.org/

Recent TeX Hour video uploads
28 April: ConTeXt and LaTeX join forces?: https://youtu.be/kMdC413K7sY
28 April: Extra - about VMS: https://youtu.be/5Kk1hHIo3qU
26 May: Access and Accessibility: https://youtu.be/LmZ39M_22eE

with best wishes

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220601/4ff14df5/attachment.html>

From cazzola at di.unimi.it  Wed Jun  1 17:14:40 2022
From: cazzola at di.unimi.it (Walter Cazzola)
Date: Wed, 1 Jun 2022 17:14:40 +0200 (CEST)
Subject: minted
Message-ID: <1dd66a9a-a260-94ed-61-1185f9419346@di.unimi.it>

Dear Tex Live Users/Maintainers,
I'm a user of TeXLive 2022 fully installed and updated.

Today I discovered that a new version of minted 6 months old exists that is
not installed by tlmgr. tlmgr installs version 2.5.something whereas the new
version is the 2.6. This is a quite breaking through release because the
styles have been changed. The git repo is at:

                        https://github.com/gpoore/minted

I noticed this because Arch Linux (that a co-author is using) installation of
texlive is installing it through its packet manager but this doesn't happen if
you installed it through the tl-install script.

So there is a way to install it through tlmgr? Are there hopes to have it
updated any soon?

Thank you 
Walter

-- 

From joseph.wright at morningstar2.co.uk  Wed Jun  1 17:29:24 2022
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 1 Jun 2022 16:29:24 +0100
Subject: minted
In-Reply-To: <1dd66a9a-a260-94ed-61-1185f9419346@di.unimi.it>
References: <1dd66a9a-a260-94ed-61-1185f9419346@di.unimi.it>
Message-ID: <4e736a05-ec1d-f907-754d-abac8f9fbc91@morningstar2.co.uk>

On 01/06/2022 16:14, Walter Cazzola wrote:
> Dear Tex Live Users/Maintainers,
> I'm a user of TeXLive 2022 fully installed and updated.
> 
> Today I discovered that a new version of minted 6 months old exists that is
> not installed by tlmgr. tlmgr installs version 2.5.something whereas the 
> new
> version is the 2.6. This is a quite breaking through release because the
> styles have been changed. The git repo is at:
> 
>  ?????????????????????? https://github.com/gpoore/minted
> 
> I noticed this because Arch Linux (that a co-author is using) 
> installation of
> texlive is installing it through its packet manager but this doesn't 
> happen if
> you installed it through the tl-install script.
> 
> So there is a way to install it through tlmgr? Are there hopes to have it
> updated any soon?
> 
> Thank you Walter
> 

I have v2.6 here in TL'22 - are you 100% sure you've not got a local copy?

Joseph

From cazzola at di.unimi.it  Wed Jun  1 17:45:31 2022
From: cazzola at di.unimi.it (Walter Cazzola)
Date: Wed, 1 Jun 2022 17:45:31 +0200 (CEST)
Subject: [LaTeX] Re: minted
In-Reply-To: <4e736a05-ec1d-f907-754d-abac8f9fbc91@morningstar2.co.uk>
References: <1dd66a9a-a260-94ed-61-1185f9419346@di.unimi.it>
 <4e736a05-ec1d-f907-754d-abac8f9fbc91@morningstar2.co.uk>
Message-ID: <7366fc5-3edd-e314-477d-b6a811a4ae12@di.unimi.it>

On Wed, 1 Jun 2022, Joseph Wright wrote:

> I have v2.6 here in TL'22 - are you 100% sure you've not got a local copy?

You are right! This was exactly the case. Face palm! I didn't think of that.
Thank you

Walter

-- 

From denis.bitouze at univ-littoral.fr  Fri Jun  3 19:29:50 2022
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Fri, 03 Jun 2022 19:29:50 +0200
Subject: [MacTeX] TEXMFHOME uneasy to reach
Message-ID: <8735gl8xkh.fsf@example.com>

Hi,

I just finished a LaTeX course given to some PhD students.

After MacTeX was installed on some of their Mac computers, we tried to
get to their TEXMFHOME to put their bib files in the subdirectories:

  ?????
  ? $TEXMFHOME/bibtex/bib
  ?????

I asked them to check what MacTeX considered their TEXMFHOME with the
following command run in a terminal:

  ?????
  ? kpsewhich --var-value TEXMFHOME
  ?????

and, as expected, it was:

  ?????
  ? /Users/?User name?/Library/texmf
  ?????

The problem is, when they wanted to reach `/Users/?User name?/Library/`
with the Finder in order to create the ((sub)sub)directories
`texmf/bibtex/bib`, they first went to `/Users/?User name?` but, once
there, the `Library` subdirectory was not displayed, even though it does
exist as can be easily verified with the command :

  ?????
  ? ls /Users/?User name?/Library
  ?????

Well, it is still possible to create the necessary subdirectories with the
command:

  ?????
  ? mkdir -p /Users/?User name?/Library/texmf/bibtex/bib
  ?????

but this is well beyond the scope of average users, especially LaTeX
beginners.

Finally, in order for them to be able to visit their TEXMFHOME with the
Finder, I resorted to the trick:

  ?????
  ? tlmgr conf texmf TEXMFHOME "~/Library/texmf:~/texmf"
  ?????

and used `~/texmf`, but this is a too complicated solution, even for
average users.

Maybe MacTeX (or TeX Live?) should consider another location for the
TEXMFHOME directory, e.g. `~/texmf` as it is the case for GNU/Linux and
for Windows.

Thanks for your attention.
-- 
Denis


From markus.kohm at gmx.de  Fri Jun  3 19:41:38 2022
From: markus.kohm at gmx.de (Markus Kohm)
Date: Fri, 03 Jun 2022 19:41:38 +0200
Subject: [MacTeX] TEXMFHOME uneasy to reach
In-Reply-To: <8735gl8xkh.fsf@example.com>
References: <8735gl8xkh.fsf@example.com>
Message-ID: <11989994.O9o76ZdvQC@komascript.de>

Am Freitag, 3. Juni 2022, 19:29:50 CEST schrieb Denis Bitouz?:
> The problem is, when they wanted to reach `/Users/?User name?/Library/`
> with the Finder in order to create the ((sub)sub)directories
> `texmf/bibtex/bib`, they first went to `/Users/?User name?` but, once
> there, the `Library` subdirectory was not displayed, even though it does
> exist as can be easily verified with the command :

I'm not a Mac user, however: 
? <https://appletoolbox.com/unhide-access-mac-library-folder/>
? <https://www.laptopmag.com/how-to/permanently-unhide-the-user-library-folder-in-macos>
?

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20220603/6b8f3ed3/attachment.sig>

From herbs2 at mac.com  Fri Jun  3 20:55:49 2022
From: herbs2 at mac.com (Herbert Schulz)
Date: Fri, 3 Jun 2022 13:55:49 -0500
Subject: [MacTeX] TEXMFHOME uneasy to reach
In-Reply-To: <8735gl8xkh.fsf@example.com>
References: <8735gl8xkh.fsf@example.com>
Message-ID: <DC0B8C15-32D3-4BC8-919F-B136C119F0DE@mac.com>



> On Jun 3, 2022, at 12:29 PM, Denis Bitouz? <denis.bitouze at univ-littoral.fr> wrote:
> 
> 
> The problem is, when they wanted to reach `/Users/?User name?/Library/`
> with the Finder in order to create the ((sub)sub)directories
> `texmf/bibtex/bib`, they first went to `/Users/?User name?` but, once
> there, the `Library` subdirectory was not displayed, even though it does
> exist as can be easily verified with the command :
> 

Howdy,

It's not shown by default. If you hold down the Opt key and click on the Go Menu in Finder an option to go there will appear in that menu. You can make it permanently visible in you HOME folder by opening that folder and click on the View->Show View Options (Cmd-J) to check the `Show Library Folder' option. From then on ~/Library will be visible in the HOME folder.

Note: the MacTeX installer does NOT create anything in the Users folders. You must create the texmf folder in ~/Library and any sub-folders you need.

Good Luck,

Herb Schulz
herbs2 at mac.com




From denis.bitouze at univ-littoral.fr  Sat Jun  4 14:52:16 2022
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 04 Jun 2022 14:52:16 +0200
Subject: [OS X TeX] [MacTeX] TEXMFHOME uneasy to reach
In-Reply-To: <96E59E91-CF30-4BDB-A692-5D1F1CA1F2D3@uoregon.edu> (Richard
 Koch's message of "Fri, 3 Jun 2022 17:49:13 +0000")
References: <8735gl8xkh.fsf@example.com>
 <96E59E91-CF30-4BDB-A692-5D1F1CA1F2D3@uoregon.edu>
Message-ID: <87y1yc7fr3.fsf@example.com>

Le 03/06/22 ? 17h49, Richard Koch a ?crit :

> Apple hides the ~/Library directory in Finder. However, it is where
> all cofiguration data for a user is stored and thus is the correct
> spot for TEXMFHOME.

Well, IMO, not that much with respect to this very problem.

> If you press the Option key while accessing the Finder's Go menu,
> a new item is added to the menu taking you to ~/Library. It is also
> possible to add ~/Library to the location list in the first column of
> the Finder's window.

Oh boy, and Mac users claim Mac computers are very intuitive and user
friendly... ;)

> I don't know what front end your students use, but TeXShop

They used TeXstudio.

> also has a menu item to take you to ~/Library/TeXShop and thus to
> ~/Library.

OK, but this limitation is encountered in other contexts (and hence
the -- nice -- trick `open` given by others on this thread is not
enough): I explained to these students how to export Zotero libraries or
collections to `.bib` files and to store them, preferably, in the
TEXMFHOME; is it also possible to display the ~/Library directories in
the pop-up windows that lets the user choose the directory where to
store the exported file?

Thanks to all for your answers!
-- 
Denis


From hille42 at web.de  Mon Jun  6 23:11:29 2022
From: hille42 at web.de (=?UTF-8?Q?Hilmar_Preu=c3=9fe?=)
Date: Mon, 6 Jun 2022 23:11:29 +0200
Subject: Typos in manual pages & Binaries
In-Reply-To: <202205182129.24ILTvc4019129@freefriends.org>
References: <202205182129.24ILTvc4019129@freefriends.org>
Message-ID: <36886029-5f81-5b8d-c236-f2f6e1921f48@web.de>

Am 18.05.2022 um 23:29 teilte Karl Berry mit:

Hi Karl,

> Taking a look, it should be no problem to apply this, although it will
> be some time before I have the chance to actually do so. Thanks Hilmar!
> 
Did you do something regarding this case. I guess not.. So please then 
leave the job to me. I'll try contact othe responsible persons. It might 
take a while due to the priority of the issue.

> The one thing that comes to mindthat would also help is ChangeLog 
> entries, since I feel duty-bound to make them for all changes.
> Clearly they are trivial in this case, but still ... but thanks for
> the patches in any case. --karl
> 
Yes, correct.

Hilmar
-- 
sigfault

-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 840 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20220606/dd5c7c0e/attachment.sig>

From preston at Preston.dev  Tue Jun  7 06:25:49 2022
From: preston at Preston.dev (Preston Moore)
Date: Tue, 07 Jun 2022 04:25:49 +0000
Subject: Fuzzing Identified Segfault in detex
Message-ID: <D6555EC0-0D04-4728-A78C-5E24E5394B23@Preston.dev>

Hello,

I have been fuzzing some tex-live binaries and found a test case that reliably causes a segfault when passed to `detex.`  The crash is present in the latest version available here (https://github.com/TeX-Live/texlive-source, git-svn-id: svn://tug.org/texlive/trunk/Build/source at 63492 c570f23f-e606-0410-a88d-b1316a301751)

What is the preferred method for reporting such an issue and providing the crashing test case?

Thanks,
Preston




From karl at freefriends.org  Tue Jun  7 23:07:25 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 7 Jun 2022 15:07:25 -0600
Subject: Fuzzing Identified Segfault in detex
In-Reply-To: <D6555EC0-0D04-4728-A78C-5E24E5394B23@Preston.dev>
Message-ID: <202206072107.257L7PNn008825@freefriends.org>

    What is the preferred method for reporting such an issue and
    providing the crashing test case?

Email to tlsecurity at tug.org. Thanks. -k

From Magnus.Ekhall at sectra.com  Wed Jun  8 08:58:19 2022
From: Magnus.Ekhall at sectra.com (Magnus Ekhall)
Date: Wed, 8 Jun 2022 06:58:19 +0000
Subject: Default location of TEXMFLOCAL with alternate installation path
Message-ID: <0009d20fde654cb9b0a0349ebdb2e59e@sectra.com>

Hello,

When installing on Windows with an alternate installation path I encountered a problem:

In install-tl there is an attempt to check if TEXMFLOCAL is configured to the default location. To do this an abs_path of TEXDIR/../texmf-local is calculated. However, this results in an undefined variable since that path does not exist in my case.

I'm attaching a small patch that resolves this issue which simply checks if the variable is defined (and thus abs_path was successful).

/Magnus


-------------- next part --------------
A non-text attachment was scrubbed...
Name: install-tl.patch
Type: application/octet-stream
Size: 597 bytes
Desc: install-tl.patch
URL: <https://tug.org/pipermail/tex-live/attachments/20220608/7de9816e/attachment.obj>

From norbert at preining.info  Wed Jun  8 16:01:39 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 8 Jun 2022 23:01:39 +0900
Subject: Default location of TEXMFLOCAL with alternate installation path
In-Reply-To: <0009d20fde654cb9b0a0349ebdb2e59e@sectra.com>
References: <0009d20fde654cb9b0a0349ebdb2e59e@sectra.com>
Message-ID: <YqCrw9oFewFEqdx/@bulldog>

Hi Magnus,

> In install-tl there is an attempt to check if TEXMFLOCAL is configured to the default location. To do this an abs_path of TEXDIR/../texmf-local is calculated. However, this results in an undefined variable since that path does not exist in my case.
> 
> I'm attaching a small patch that resolves this issue which simply checks if the variable is defined (and thus abs_path was successful).

That is strange, since we are supposed to create this very path
TEXDIR/../texmf-local beforehand, so it should be exist.

Could you provide a way to reproduce this, like a profile that does
exhibit this problem?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From Magnus.Ekhall at sectra.com  Wed Jun  8 16:27:32 2022
From: Magnus.Ekhall at sectra.com (Magnus Ekhall)
Date: Wed, 8 Jun 2022 14:27:32 +0000
Subject: Default location of TEXMFLOCAL with alternate installation path
In-Reply-To: <YqCrw9oFewFEqdx/@bulldog>
References: <0009d20fde654cb9b0a0349ebdb2e59e@sectra.com>
 <YqCrw9oFewFEqdx/@bulldog>
Message-ID: <f9943f73e3f3441da81ca77911be2d01@sectra.com>

>That is strange, since we are supposed to create this very path TEXDIR/../texmf-local beforehand, so it should be exist.
>
>Could you provide a way to reproduce this, like a profile that does exhibit this problem?

That is odd indeed...
Here is a profile that shows the issue when I install:

selected_scheme scheme-basic
TEXDIR c:\users\magnus\texlive-installation
TEXMFLOCAL c:\users\magnus\texlive-installation\texlive\texmf-local
TEXMFSYSCONFIG c:\users\magnus \texlive-installation\texlive\2022\texmf-config
TEXMFSYSVAR c:\users\magnus\texlive-installation\texlive\2022\texmf-var


The error I get is:
"Use of uninitialized value $deftmflocal in string at C:\tools\install-tl-08062216\install-tl line 1416"

Where in install-tl is that directory created? Could it be that the creation of that directory did not succeed and then this fails?

Regards,
Magnus


From jfine2358 at gmail.com  Wed Jun  8 17:40:47 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 8 Jun 2022 16:40:47 +0100
Subject: TeX Hour: 9 June: 6:30 to 7:30pm UK time: Learning Platforms - books
 to containers, Euclid to Katacoda
Message-ID: <CALD=Yf9G3p1YG1O+Fp4GQd8WyjVi4H0B2QOib8mSarLtbJhu4g@mail.gmail.com>

Hi

At tomorrow's TeX Hour we'll explore Learning Platforms. Many years ago,
even before the invention of the printing press in 1440, the book was a
prominent learning platform. Euclid's Elements consists of 13 books,
written about 300 BCE. A learning platform is a posh word for a library of
digital interactive books. Let's ensure they're accessible to the visually
impaired.

TeX Hour: Thursday 9 June, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
UK Time Now: https://time.is/UK.

Since the rise of cheap computing and the internet, the nature of learning
has changed. The covid pandemic has accelerated that change. Last week,
completely by chance, I discovered a new "Interactive Learning and Training
Platform for Software Engineers". It is https://katacoda.com/, and I
encourage you to explore it.

In late 2019 O'Reilly acquired katacoda.com because it was "a powerful
solution for developing critical tech skills for the 2.8 million members of
the O'Reilly learning platform". Last month O'Reilly announced that public
use of katacoda.com will end, and that the site will be shuttered on June
15 (a week from today).

Here's an analogy that arose at last week's TeX Hour on distrobox. The
printing press is expensive, but it makes each of multiple identical copies
of a book cheap. Before the press, each copy of a book was written out by
hand, and was expensive. There was a time when each server was
hand-crafted. With cloud computers and in particular the introduction of
containers (as in docker) each of multiple identical copies of a server is
cheap.

Here's the punchline. O'Reilly started in 1978 as technical writing
consultancy. From there it became the publisher of "Nutshell Handbooks" on
Unix. From 1988 publishing became the focus. In 2001 O'Reilly launched
Safari Books Online, a joint venture with Pearson Technology Group. In 2018
Safari was re-branded to O'Reilly Online Learning. And in 2019 they
acquired Katacoda, to provide a consistent interactive learning experience
to users of O'Reilly Online Learning.

I've signed up to katacoda.com as an author, and at tomorrow's TeX Hour to
start the discussion I'll share my experience.

At last week's TeX Hour Nelson Beebe and I had an energetic discussion on
containers (the interactive digital press of our time) and the distrobox /
toolbox interface provided for software developers. The video is available
at https://youtu.be/-Kro60y4Pmc.

Happy TeXing in the age of the interactive digital book

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220608/c250b8a6/attachment.html>

From karl at freefriends.org  Thu Jun  9 00:49:26 2022
From: karl at freefriends.org (Karl Berry)
Date: Wed, 8 Jun 2022 16:49:26 -0600
Subject: Default location of TEXMFLOCAL with alternate installation path
In-Reply-To: <f9943f73e3f3441da81ca77911be2d01@sectra.com>
Message-ID: <202206082249.258MnQfe000844@freefriends.org>

Hi Magnus,

    "Use of uninitialized value $deftmflocal in string at
    C:\tools\install-tl-08062216\install-tl line 1416"

Several curiousities here.

1) Did you rename the install-tl directory manually? Ordinarily
it would be named "install-tl-20220608", afaik. Just wanting to be sure
we're talking about the same version, since ...

2) ... there is no mention of $deftmflocal on line 1416 in current
install-tl. It's defined on line 1410 and used on line 1411. (See below.)

3) As shown in your patch, $deftmflocal is defined on the line right
before the one you changed (1410):

       my $deftmflocal = Cwd::abs_path($vars{'TEXDIR'}.'/../texmf-local');
-      if (Cwd::abs_path($vars{TEXMFLOCAL}) ne "$deftmflocal") {
+      if (defined $deftmflocal && Cwd::abs_path($vars{TEXMFLOCAL}) ne "$deftmflocal") {

I didn't think abs_path could ever return undef.
Can you insert a print between the assignment and use?
Is it $vars{'TEXDIR'} that is undef? But it shouldn't be, per your profile...

Thanks,
Karl

(from install-tl 63068 2022-04-18 ... see second line of file.)
1410      my $deftmflocal = Cwd::abs_path($vars{'TEXDIR'}.'/../texmf-local');
1411      if (Cwd::abs_path($vars{TEXMFLOCAL}) ne "$deftmflocal") {
1412        push @changedtmf, "TEXMFLOCAL = $vars{'TEXMFLOCAL'}\n";
1413      }
1414    } elsif ($line =~ m/^TEXMFSYSVAR/) {
1415      if ("$vars{'TEXMFSYSVAR'}" ne "$vars{'TEXDIR'}/texmf-var") {
1416        push @changedtmf, "TEXMFSYSVAR = $vars{'TEXMFSYSVAR'}\n";

From Magnus.Ekhall at sectra.com  Thu Jun  9 08:58:51 2022
From: Magnus.Ekhall at sectra.com (Magnus Ekhall)
Date: Thu, 9 Jun 2022 06:58:51 +0000
Subject: Default location of TEXMFLOCAL with alternate installation path
In-Reply-To: <202206082249.258MnQfe000844@freefriends.org>
References: <f9943f73e3f3441da81ca77911be2d01@sectra.com>
 <202206082249.258MnQfe000844@freefriends.org>
Message-ID: <b7429fbe01114f7c897708914f96a7c6@sectra.com>

Hi Karl,

> 1) Did you rename the install-tl directory manually? Ordinarily it would be named "install-tl-20220608", afaik. Just wanting to be sure we're talking about the same version, since ...
> 2) ... there is no mention of $deftmflocal on line 1416 in current install-tl. It's defined on line 1410 and used on line 1411. (See below.)

Indeed, I encountered this issue when using an older version but I got the same result with the latest version. That is why the lines does not match. And the install is being made through Chocolatey, but that should not matter much I guess. The patch I wrote is towards the latest revision though.

> 3) As shown in your patch, $deftmflocal is defined on the line right before the one you changed (1410):
> I didn't think abs_path could ever return undef.

Now, my perl skills are not something to brag about so I may well be wrong here. But I think that abs_path works with the current filesystem and can indeed return an undefined if you try to get an absolute path to a location that does not exist.

> Can you insert a print between the assignment and use?
> Is it $vars{'TEXDIR'} that is undef? But it shouldn't be, per your profile...

If I print 
$vars{'TEXDIR'}.'/../texmf-local' 
I get: 
c:\users\magnus\texlive-installation/../texmf-local

And that looks fine to me... abs_path() does indeed return an undefined, and according to the manual it sets $! when that happens.

In my case $! Is set to: "No such file or directory"

Where in install-tl is the $vars{'TEXDIR'}.'/../texmf-local' directory created? Could it be that the directory has not been created and thus abs_path fails?
 
Regards,
Magnus


From karl at freefriends.org  Sat Jun 11 00:08:45 2022
From: karl at freefriends.org (Karl Berry)
Date: Fri, 10 Jun 2022 16:08:45 -0600
Subject: Default location of TEXMFLOCAL with alternate installation path
In-Reply-To: <b7429fbe01114f7c897708914f96a7c6@sectra.com>
Message-ID: <202206102208.25AM8jNU015723@freefriends.org>

Hi Magnus - thanks for all the info.  I think the right patch is this
(line numbers will vary), sort-of inverting the sense of your change:

@@ -1407,8 +1463,9 @@
     if ($line =~ m/^TEXMFLOCAL\b/) { # don't find TEXMFLOCALEDIR
       # by default TEXMFLOCAL = TEXDIR/../texmf-local, if this is the case
       # we don't have to write a new setting.
-      my $deftmflocal = Cwd::abs_path($vars{'TEXDIR'}.'/../texmf-local');
-      if (Cwd::abs_path($vars{TEXMFLOCAL}) ne "$deftmflocal") {
+      my $deftmflocal = Cwd::abs_path($vars{'TEXDIR'}) . '/../texmf-local';
+      if (!defined $deftmflocal # in case abs_path couldn't resolve
+          || Cwd::abs_path($vars{TEXMFLOCAL}) ne "$deftmflocal") {
         push @changedtmf, "TEXMFLOCAL = $vars{'TEXMFLOCAL'}\n";
       }
     } elsif ($line =~ m/^TEXMFSYSVAR/) {


I've installed it (r63541), so it should show up in tonight's
install-tl.zip, etc.  Can you try it and see if it works? Fingers
crossed.

Explanation: what we're doing here is checking if the TEXMFLOCAL
directory value has been changed from the default.  If it has, we write
the new definition in texmf.cnf (that's texmf-dist/web2c/texmf.cnf).
If it is still the default, we do nothing.

So, since you have changed the value for TEXMFLOCAL, we want that new
value to be written to texmf.cnf.

The answer to "where are the directories created" is this line:
  make_local_skeleton "$vars{'TEXMFLOCAL'}";
which is part of do_installation, which is called before the code we are
discussing (in do_texmf_cnf, part of do_postinst_stuff, called further
down in do_installation. Probably more than you care to hear. :)

But we only want to create the directories that are requested.  That is,
with the directory value changed, we don't want to create the default
"$TEXDIR/../texmf-local" directory.  Hence abs_path returning undef is
expected, and we should consider TEXMFLOCAL to be a changed value for
texmf.cnf.

Thanks again for reporting, and tracking it down to the exact line!

Karl

P.S. Just for the record, at least for me, on non-Windows, abs_path
apparently returns undef when it has to traverse a nonexistent directory
level. For example,
  abs_path("/nonesuch")
  abs_path("nonesuch")
  abs_path("/tmp/nonesuch")
all return their argument, although those dirents do not exist. On the
other hand,
  abs_path("/nonesuch/.")
returns undef. Which actually seems to make some sort of sense :).

I suspect in principle we need to check for undef results from abs_path
in other places too.

From pedrolima.n at gmail.com  Sat Jun 11 17:57:49 2022
From: pedrolima.n at gmail.com (Pedro Lima)
Date: Sat, 11 Jun 2022 08:57:49 -0700
Subject: fancyhdr install doesn't work
Message-ID: <CABcZuP9jwpV-T7D+syqG0NYCKoOYjsF9_oCXy_X=p6+3b80vJA@mail.gmail.com>

Hi,

I'm trying to install fancyhdr and it doesn't work.

This is the message I get:

tlmgr update --self
tlmgr install fancyhdr

C:\Users\plima\AppData\Roaming\TinyTeX\texmf-dist\scripts\texlive\tlmgr.pl:
signature verification error of
C:/Users/plima/AppData/Roaming/TinyTeX/tlpkg/texlive.tlpdb.main.2fdb20874d4fe1a3267a99dbbf353926
from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb:
cryptographic signature verification of
  C:\Users\plima\AppData\Local\Temp\ojwObA5rAC\U1eVkjkuFD
against

https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was:
gpg: Signature made Thu Jun  9 18:10:52 2022 PDT using RSA key ID 19438C70
gpg: BAD signature from "TeX Live Distribution <tex-live at tug.org>"

Please try from a different mirror and/or wait a few minutes
and try again; usually this is because of transient updates.
If problems persist, feel free to report to texlive at tug.org.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220611/c13fda2c/attachment.html>

From jfine2358 at gmail.com  Sat Jun 11 21:12:11 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Sat, 11 Jun 2022 20:12:11 +0100
Subject: fancyhdr install doesn't work
In-Reply-To: <CABcZuP9jwpV-T7D+syqG0NYCKoOYjsF9_oCXy_X=p6+3b80vJA@mail.gmail.com>
References: <CABcZuP9jwpV-T7D+syqG0NYCKoOYjsF9_oCXy_X=p6+3b80vJA@mail.gmail.com>
Message-ID: <CALD=Yf9YX8PaHuOJnAfXe06bb97czqeCfiz9EjXhqHEQBXvHKQ@mail.gmail.com>

Hi Pedro

I notice that your AppData path includes TinyTeX. This might be relevant.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220611/b121a50f/attachment.html>

From norbert at preining.info  Sun Jun 12 01:43:59 2022
From: norbert at preining.info (Norbert Preining)
Date: Sun, 12 Jun 2022 08:43:59 +0900
Subject: fancyhdr install doesn't work
In-Reply-To: <CABcZuP9jwpV-T7D+syqG0NYCKoOYjsF9_oCXy_X=p6+3b80vJA@mail.gmail.com>
References: <CABcZuP9jwpV-T7D+syqG0NYCKoOYjsF9_oCXy_X=p6+3b80vJA@mail.gmail.com>
Message-ID: <YqUovyjRPA3cOoYT@bulldog>

On Sat, 11 Jun 2022, Pedro Lima wrote:
> from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb:

Hmm, you should have been redirected to an actual mirror. What you see
is probably an error response from mirror.ctan that is obviously not a
signature.

What happens if you access
	https://mirror.ctan.org/
with a browser?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From Magnus.Ekhall at sectra.com  Mon Jun 13 10:36:33 2022
From: Magnus.Ekhall at sectra.com (Magnus Ekhall)
Date: Mon, 13 Jun 2022 08:36:33 +0000
Subject: Default location of TEXMFLOCAL with alternate installation path
In-Reply-To: <202206102208.25AM8jNU015723@freefriends.org>
References: <b7429fbe01114f7c897708914f96a7c6@sectra.com>
 <202206102208.25AM8jNU015723@freefriends.org>
Message-ID: <972fd1fd4abf420598a3d6349e2aa349@sectra.com>

Hi Karl,

> I've installed it (r63541), so it should show up in tonight's install-tl.zip, etc.  Can you try it and see if it works? Fingers crossed.

I have tested it, and indeed it works well for me. Thank you for taking the time to look into this and in general for the work with texlive!

>The answer to "where are the directories created" is this line:
>  make_local_skeleton "$vars{'TEXMFLOCAL'}"; which is part of do_installation, which is called before the code we are discussing (in do_texmf_cnf, part of do_postinst_stuff, called further down in do_installation. 
>Probably more than you care to hear. :)

Ok, thanks for pointing me in the right direction.

> I suspect in principle we need to check for undef results from abs_path in other places too.

This may indeed be the case. There is supposedly a File::Spec module in perl that can be used to work with non-existing paths. I've never used it, and I don't know if it can be used with the tl-installer given that it uses a minimal perl environment on Windows. In any case, I have not seen any other issues apart from the one I reported. 

Once again thanks for the quick response to my questions.

/Magnus


From andreas_tex at freenet.de  Wed Jun 15 01:13:12 2022
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Wed, 15 Jun 2022 01:13:12 +0200
Subject: Default location of TEXMFLOCAL with alternate installation path
In-Reply-To: <972fd1fd4abf420598a3d6349e2aa349@sectra.com>
References: <972fd1fd4abf420598a3d6349e2aa349@sectra.com>
Message-ID: <2334f1ad-a35c-9a03-69d8-aa0486440dbe@freenet.de>

Hello, Markus,

> There is supposedly a File::Spec module in perl that can be used to 
> work with non-existing paths.
"File::Spec->rel2abs()" is mentioned on StackOverflow: 
https://stackoverflow.com/questions/53914055/cwdabs-path-returns-undef

I find "use File::Spec;" in 'tlmgr.pl'-

Greetings,
Andreas

From news3 at nililand.de  Wed Jun 15 12:16:35 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 15 Jun 2022 12:16:35 +0200
Subject: failed "trying to unwind"
Message-ID: <94n8vygy9iby$.dlg@nililand.de>

I regularly manage to get an failed update because some
documentation is still open in the adobe reader and so blocked
(which shows that I'm on windows ...). 

The message then says "trying to unwind" but this fails, and in the
next update the package is marked as "forcibly removed".

TLPDB::_install_data: untar failed for
https://ftp.rrze.uni-erlangen.de/ctan/systems/texlive/tlnet/archive/hyperref.doc.tar.xz
tlmgr.pl: Installation of new version of hyperref failed, trying to
unwind.
Cannot open tlpobj file:
C:/texlive/2022/tlpkg/tlpobj/hyperref.tlpobj at
C:/texlive/2022/tlpkg/TeXLive/TLPOBJ.pm line 72.

tlmgr.pl: skipping forcibly removed package: hyperref

Is there anything I can do to avoid the "forcibly removed" marker so
that the next update simply tries again?



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From norbert at preining.info  Wed Jun 15 13:59:21 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 15 Jun 2022 20:59:21 +0900
Subject: failed "trying to unwind"
In-Reply-To: <94n8vygy9iby$.dlg@nililand.de>
References: <94n8vygy9iby$.dlg@nililand.de>
Message-ID: <YqnJmTjcvSOBTyW0@KCR9J032WQ>

Hi Ulrike,

That is a tricky one ...

> TLPDB::_install_data: untar failed for
> https://ftp.rrze.uni-erlangen.de/ctan/systems/texlive/tlnet/archive/hyperref.doc.tar.xz
> tlmgr.pl: Installation of new version of hyperref failed, trying to
> unwind.

File was open, so untar failed. Up to here all is fine.

Now we try to unpack the safety backup we made before the upgrade.
But unpacking that again fails because well, the pdf is still open in acroread.

And because that failed ...
> Cannot open tlpobj file:
> C:/texlive/2022/tlpkg/tlpobj/hyperref.tlpobj at
> C:/texlive/2022/tlpkg/TeXLive/TLPOBJ.pm line 72.

And after that, the package is removed but a collection depends on it, from
which tlmgr deduces that the package was forcibly removed.

I don't see a good option ... maybe tar has a way to ignore errors like
that on windows. I need to investigate what can be done here.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Wed Jun 15 14:08:30 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 15 Jun 2022 21:08:30 +0900
Subject: failed "trying to unwind"
In-Reply-To: <YqnJmTjcvSOBTyW0@KCR9J032WQ>
References: <94n8vygy9iby$.dlg@nililand.de>
 <YqnJmTjcvSOBTyW0@KCR9J032WQ>
Message-ID: <YqnLvgSrb3s+37iI@KCR9J032WQ>

Hi Ulrike

> I don't see a good option ... maybe tar has a way to ignore errors like
> that on windows. I need to investigate what can be done here.

Could you try an experiment?

- open a hyperref doc pdf file
- then try to extract the backup container (first unpack, then tar -x)
  but *ADD* 
	--warning=none
  to the tar invocation.
Does that give an error or finishes fine?

(I know, it is a bit short an explanation, but I am in the airplane and
landing in a minute ;-)

All the best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Wed Jun 15 18:14:48 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 15 Jun 2022 17:14:48 +0100
Subject: TeX Hour: 16 June: 6:30 to 7:30pm UK time: From Alpine Linux to
 DocBook via AsciiDoc
Message-ID: <CALD=Yf8wrJRgD+TA6tkVOSN-4G+7KcEeGyaQY0LTrpnH+cxpCw@mail.gmail.com>

Hi

Tomorrow's TeX hour is on a successful human interface to DocBook XML, as
used in practice.

Recently I revisited Alpine Linux (small, simple, secure and good in
containers) and discovered that it has new documentation pages. I liked the
pages and so wondered how they were created. They use AsciiDoc (new to me)
which is a human-readable document format, semantically equivalent to
DocBook (a long established XML markup language for technical
documentation).

This greatly interests me. There are many tools that can process DocBook
XML, which underlies the math accessibility project PreTeXt (which can
generate braille output). And AsciiDoc is being used by Alpine Linux who,
in my opinion, have very good taste in their choice and adoption of
technology. What I've learnt will be the subject of tomorrow's TeX Hour.

TeX Hour: Thursday 16 June, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
UK Time Now: https://time.is/UK.

URLS:
https://www.alpinelinux.org
https://docs.alpinelinux.org
https://antora.org
https://asciidoc.org
https://asciidoctor.org
https://asciidoc-wg.eclipse.org
https://pretextbook.org

Last week's TeX Hour was Learning Platforms - books to containers, Euclid
to Katacoda.
Video is available at  https://youtu.be/n_Ew8Gol0TE.

Next week's TeX Hour (Thus 23 June) will be on PDF and typeset output in
the web browser. I used to collect stamps and I will start as a case study
with two high level stamp auction sites.

https://siegelauctions.com/
https://siegelauctions.com/2022/1259/1259.pdf # Warning - large.

https://en.calameo.com/books/0043275393edf39430f7f
https://en.calameo.com/read/0043275393edf39430f7f

By the way, for security and other reasons from 1840 until about 1950
postage stamps were miniature masterpieces of design and printing (in other
words graphic typography), as on a larger scale were banknotes. Both are
part of https://en.wikipedia.org/wiki/Security_printing. New security
measures include polymer printing and holograms. And bar-code readers in
postal systems allow users to print their own pre-paid postage labels, a
substitute for the postage stamp.

By the way, the Universal Postal Union, founded 1874 by the Treaty of Bern,
is the world's third oldest international organisation, and now part of the
United Nations.

wishing you well

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220615/7ee5511e/attachment.html>

From news3 at nililand.de  Fri Jun 17 00:10:42 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 17 Jun 2022 00:10:42 +0200
Subject: failed "trying to unwind"
References: <94n8vygy9iby$.dlg@nililand.de> <YqnJmTjcvSOBTyW0@KCR9J032WQ>
 <YqnLvgSrb3s+37iI@KCR9J032WQ>
Message-ID: <7c5a7t9z6e4f.dlg@nililand.de>

Am Wed, 15 Jun 2022 21:08:30 +0900 schrieb Norbert Preining:

> Hi Ulrike

>> And after that, the package is removed but a collection depends on it, from
>> which tlmgr deduces that the package was forcibly removed.

I understand the logic. Could there be an general option "never
remove forcibly" or "always reinstall forcibly"? I don't think that
I removed a package in the last years so I could live with it. 

>> I don't see a good option ... maybe tar has a way to ignore errors like
>> that on windows. I need to investigate what can be done here.
> 
> Could you try an experiment?
> 
> - open a hyperref doc pdf file
> - then try to extract the backup container (first unpack, then tar -x)
>   but *ADD* 
> 	--warning=none
>   to the tar invocation.
> Does that give an error or finishes fine?

Hm. I'm not sure how to extract from the backup container so that it
tries to overwrite the doc file from the texmf-dist folder. 

In any case all tar versions I could find in windows and in texlive
don't know a --warning option.





-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From karl at freefriends.org  Sat Jun 18 00:50:45 2022
From: karl at freefriends.org (Karl Berry)
Date: Fri, 17 Jun 2022 16:50:45 -0600
Subject: failed "trying to unwind"
In-Reply-To: <7c5a7t9z6e4f.dlg@nililand.de>
Message-ID: <202206172250.25HMojjS026191@freefriends.org>

    Could there be an general option "never remove forcibly" or
    "always reinstall forcibly"? 

There could be. The problem is that occasionally packages are renamed,
which amounts to removal of the old package and addition of the new one,
which will end in a bad situation if the removal isn't done.

That doesn't happen often, though. Clearly the unanticipated removal of
perfectly-fine packages is a worse and more common outcome on Windows.

I wonder if it's possible to somehow override the fail-if-a-file-is-open
behavior in our internal tar used on Windows (Master/source/tar-w32.*).
Or at least detect it. That's the fundamental source of the problem.

    Hm. I'm not sure how to extract from the backup container so that it
    tries to overwrite the doc file from the texmf-dist folder. 

I believe:

cd c:/.../2022  # the directory containing texmf-dist, tlpkg, etc.
xz -dcf < tlpkg/backups/whatever.r*.tar.xz | tar -xf -

That is, the tar file unpacks into the Master tree. As you probably
already know, but just in case, you can use tar tf - to see the contents
of the tar after uncompressing.

If you don't have xz in your path, you can use the one in
./tlpkg/installer/xz/xz.exe.

    In any case all tar versions I could find in windows and in texlive
    don't know a --warning option.

It's only in GNU tar :(.  -k

From norbert at preining.info  Sat Jun 18 01:49:14 2022
From: norbert at preining.info (Norbert Preining)
Date: Sat, 18 Jun 2022 08:49:14 +0900
Subject: failed "trying to unwind"
In-Reply-To: <202206172250.25HMojjS026191@freefriends.org>
References: <7c5a7t9z6e4f.dlg@nililand.de>
 <202206172250.25HMojjS026191@freefriends.org>
Message-ID: <Yq0S+kP9azHD8+Pj@bulldog>

Sorry, busy...

> cd c:/.../2022  # the directory containing texmf-dist, tlpkg, etc.
> xz -dcf < tlpkg/backups/whatever.r*.tar.xz | tar -xf -

Better with
	.\tlpkg\installer\xz\xz.exe -dcf tlpg/backups/.... | .\tlpkg\installer\tar\tar.exe -xvf -

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From gnwiii at gmail.com  Sat Jun 18 13:29:44 2022
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 18 Jun 2022 08:29:44 -0300
Subject: failed "trying to unwind"
In-Reply-To: <202206172250.25HMojjS026191@freefriends.org>
References: <7c5a7t9z6e4f.dlg@nililand.de>
 <202206172250.25HMojjS026191@freefriends.org>
Message-ID: <CAKTOP4722ZEAH3p7_F07pWjPodP8Qp6mm5_g5eRYw+ZbAXfxsQ@mail.gmail.com>

On Fri, Jun 17, 2022 at 7:52 PM Karl Berry <karl at freefriends.org> wrote:

>     Could there be an general option "never remove forcibly" or
>     "always reinstall forcibly"?
>
> There could be. The problem is that occasionally packages are renamed,
> which amounts to removal of the old package and addition of the new one,
> which will end in a bad situation if the removal isn't done.
>
> That doesn't happen often, though. Clearly the unanticipated removal of
> perfectly-fine packages is a worse and more common outcome on Windows.
>
> I wonder if it's possible to somehow override the fail-if-a-file-is-open
> behavior in our internal tar used on Windows (Master/source/tar-w32.*).
> Or at least detect it. That's the fundamental source of the problem.


Yes, and has different implications if the open file is not the same version
as the one the tar archive.  Keeping the old package seems reasonable,
but it is easy to miss a warning message for one package when installing
dozens, so it could be helpful to produce a summary of the installation:

N packages updated
M packages not updated: download problem
O packages not updated: overwriting open file(s) not allowed on Windows
P packages not updated< <due to reason ...>

For details see: <location of log file>


> [...]
>     In any case all tar versions I could find in windows and in texlive
>     don't know a --warning option.
>
> It's only in GNU tar :(.  -k
>

GNU tar is available for Windows from Cygwin and Msys2.  Windows 10 now
provides BSD tar.

The current set of POSIX-like utilities provided by TeX Live has been a
source of
confusion.  I assume Microst's Universal CRT will require changes.  It
might be
worth looking at the Msys2 toolchain used by the R-project. They provide
Rtools40
which allows users to build packages on Windows, but official packages are
built
using MXE <https://mxe.cc/> cross compilers on linux.

R-project has been relatively successful at providing uniform user
experience
across POSIX-like and Windows platforms.  For non-Western languages,
UCRT helps reduce differences between POSIX-like and Windows systems.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220618/8599c8fd/attachment.html>

From jfine2358 at gmail.com  Sat Jun 18 15:46:01 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Sat, 18 Jun 2022 14:46:01 +0100
Subject: fail to install texlive
In-Reply-To: <801c84df-120f-eba9-88ad-83e0663b66b4@Hellenic-Institute.Uk>
References: <CAJJc037BRPMhd0nRdRyyat-187Md1OLy+awtOzi8P4oHv-J7gg@mail.gmail.com>
 <801c84df-120f-eba9-88ad-83e0663b66b4@Hellenic-Institute.Uk>
Message-ID: <CALD=Yf_5vKHt2L47PqRHQ0MDMDjtcZXFHVUhYnxZOvjfys4vTQ@mail.gmail.com>

Hi

I've added the texlive list to the recipients. The original post is
https://tug.org/pipermail/texhax/2022-June/025706.html.

@Nur: Thank you for your message. I hope you're not discouraged and will
soon get help with your problem.

@texlive-dev: It seems to be that the undefined 'expand_tilde' is an error
in the TeXLive install script. What do you think?

@texlive-dev: Please consider further checks before installation for
obstructions to installation. Nur's experience of "conflicting [pdf]tex
program" surely could be issued prior to installation.

when you get there, happy TeXing

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220618/2ae81d29/attachment.html>

From norbert at preining.info  Sat Jun 18 16:36:28 2022
From: norbert at preining.info (Norbert Preining)
Date: Sat, 18 Jun 2022 23:36:28 +0900
Subject: fail to install texlive
In-Reply-To: <CAJJc037BRPMhd0nRdRyyat-187Md1OLy+awtOzi8P4oHv-J7gg@mail.gmail.com>
References: <CAJJc037BRPMhd0nRdRyyat-187Md1OLy+awtOzi8P4oHv-J7gg@mail.gmail.com>
Message-ID: <Yq3i7DaZC4hiYjXl@bulldog>

Hi Nur,

> I read that Texlive would be a good choice. I use windows 10 on a laptop.
> As suggested, I install from the internet. I didn't expect it. It was a big

but ...

> Warning: conflicting [pdf]tex program found on the system path in
> C:\Program Files\MiKTeX 2.9\miktex\bin\x64\; not fixable in user mode.

You have installed MiKTeX system wide, and now try to install TeX Live
for the current user only. This does not work.

If you **really** want both installed, you need to run install-tl as
administrator.

> TLPDB::_install_data: downloading did not succeed (download_file failed)
> for
> https://mirror.unpad.ac.id/ctan/systems/texlive/tlnet/archive/latex.doc.tar.xz

But it seems that it has successfully installed on second try, so
nothing to worry.

> Later on, I thought that I might not have installed Texlive to be
> functioning.
> So, I enter the C:\texlive directory and run        *install-tl-windows.bat*
> I direct it to install to  *C:\texlive2*, carry out advanced install {only
> english and german, some graphics, (total expected to be about 5giga), and
> choose mirror from singapore  (unpad seems to have a problem).
> But, installation could not proceed!!  On display was the following:
> 
> [install-tl-windows.bat
> Installing to: C:/texliv2/2022
> Undefined subroutine &TeXLive::TLUtils::expand_tilde called at
> C:/texlive/2022/install-tl line 1014, <STDIN> line 477.]

That is **really** strange, and I am not really clear how that has
happened, in particular because your explanations are not clear what you
have actually done.

To give you a bit of context:
- the installer package you downloaded contains the newest code as in
  the repo, and in included TeXLive::TLUtils::expand_tilde
- what is actually installed contains a vetted and properly released
  version ot the TeX Live Perl utils, which does NOT at the moment
  contain TeXLive::TLUtils::expand_tilde
- You should NOT be able to MIX the two variants unless you do some
  really interesting invocations

> What did I do wrong? What should I do to install Texlive properly? Can I
> use Texlive on Win10?

Many things:
- You have MikTeX installed for all users (system-wide) and then tried
  to install TeX Live only for the current user
- reinstallation with "install-tl" are not supported, please use tlmgr

All the best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From skostysh at lyx.org  Sun Jun 19 16:21:49 2022
From: skostysh at lyx.org (Scott Kostyshak)
Date: Sun, 19 Jun 2022 10:21:49 -0400
Subject: install-tl change of behavior for setting TEXMFHOME ?
Message-ID: <20220619142149.pnsgog6ep4ieqzxk@gary>

Has install-tl changed behavior recently (e.g., past two weeks) in terms of how TEXMF configurations are set? Could someone point me to a change log?

I have a script that does something like the following:

------
# download install-tl.tar.gz
cd install-tl-*
./install-tl
------

If I run this script with sudo, I get the following:

$ /usr/local/texlive/2022/bin/x86_64-linux/kpsewhich -var-value TEXMFHOME
/root/texmf

I'm not sure, but I think the output in this case (even when the script was run with sudo) used to be: /home/<my user name>/texmf.

I'm guessing this change of behavior was intended since when the script is run with sudo $HOME is indeed /root, but I just wanted to double-check.

Thanks to everyone for their work on TeX Live!

Scott

From karl at freefriends.org  Sun Jun 19 23:09:02 2022
From: karl at freefriends.org (Karl Berry)
Date: Sun, 19 Jun 2022 15:09:02 -0600
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <20220619142149.pnsgog6ep4ieqzxk@gary>
Message-ID: <202206192109.25JL92jD024252@freefriends.org>

    Has install-tl changed behavior recently (e.g., past two weeks) in
    terms of how TEXMF configurations are set? 

Not intentionally, but we (Norbert and I) have been playing with the
directory-setting code, so indeed, a bug like this seems probable.

    Could someone point me to a change log?

Unfortunately we don't keep a separate ChangeLog file for this, but our
commit log msgs are here (or on the github mirror, if you prefer):
https://tug.org/svn/texlive/trunk/Master/install-tl?view=log
https://github.com/TeX-Live/texlive-source/commits

    I'm not sure, but I think the output in this case (even when the
    script was run with sudo) used to be: /home/<my user name>/texmf.

I do seem to recall having a special case so that root's home dir was
not used. What is the value of your HOME envvar after sudo?

Thanks,
Karl

From hille42 at web.de  Sun Jun 19 23:17:13 2022
From: hille42 at web.de (=?UTF-8?Q?Hilmar_Preu=c3=9fe?=)
Date: Sun, 19 Jun 2022 23:17:13 +0200
Subject: Typos in manual pages & Binaries
In-Reply-To: <202206192108.25JL8xJo024207@freefriends.org>
References: <202206192108.25JL8xJo024207@freefriends.org>
Message-ID: <9cbcc995-e8f3-7693-ea54-2f23d2a477e6@web.de>

Am 19.06.2022 um 23:08 teilte Karl Berry mit:

Hi,

> I was going to try to install the man page
> patches. But the url you sent earlier is 404? Help?
> 
> https://raw.githubusercontent.com/debian-tex/texlive-bin/experimental_2022/debian/patches/spelling_in_manual_pages
> 
I deleted that git branch in the meantime and merged it to master, sorry!

https://raw.githubusercontent.com/debian-tex/texlive-bin/master/debian/patches/spelling_in_manual_pages

Hilmar
-- 
sigfault

-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 840 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20220619/4255a65d/attachment.sig>

From witiko at gmail.com  Mon Jun 20 15:53:59 2022
From: witiko at gmail.com (=?UTF-8?B?VsOtdCBOb3ZvdG7DvQ==?=)
Date: Mon, 20 Jun 2022 15:53:59 +0200
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <202206192109.25JL92jD024252@freefriends.org>
References: <20220619142149.pnsgog6ep4ieqzxk@gary>
 <202206192109.25JL92jD024252@freefriends.org>
Message-ID: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>

Hello,

here is an issue that I noticed today and seems related: Sometime between
the last Sunday and yesterday, TeX Live ceased to index
/usr/local/texlive/texmf-local/tex/generic in kpathsea. Here is a
demonstration of the issue using the historic TeX Live 2021 Docker image:

# docker run --rm -it texlive/texlive:TL2021-historic
(entering docker container)
# mkdir -p /usr/local/texlive/texmf-local/tex/generic/foo
# touch /usr/local/texlive/texmf-local/tex/generic/foo/bar.tex
# texhash
texhash: Updating /usr/local/texlive/2021/texmf-config/ls-R...
texhash: Updating /usr/local/texlive/2021/texmf-dist/ls-R...
texhash: Updating /usr/local/texlive/2021/texmf-var/ls-R...
texhash: Updating /usr/local/texlive/texmf-local/ls-R...
texhash: Done.
# kpsewhich bar.tex
/usr/local/texlive/texmf-local/tex/generic/foo/bar.tex


# docker run --rm -it texlive/texlive:latest
(entering docker container)
# mkdir -p /usr/local/texlive/texmf-local/tex/generic/foo
# touch /usr/local/texlive/texmf-local/tex/generic/foo/bar.tex
# texhash
texhash: Updating /usr/local/texlive/2022/texmf-config/ls-R...
texhash: Updating /usr/local/texlive/2022/texmf-dist/ls-R...
texhash: Updating /usr/local/texlive/2022/texmf-local/ls-R...
texhash: Updating /usr/local/texlive/2022/texmf-var/ls-R...
texhash: Done.
# kpsewhich bar.tex
(no results)


The TeX Live 2022 Docker image exhibited the same behavior as the TeX Live
2021 Docker image until yesterday's weekly update of the Docker image. Is
this a bug or the intended behavior from now on? It is currently breaking the
continuous integration of the Markdown package
<https://github.com/witiko/markdown/actions/runs/2526661788>.

Best,
Vit

ne 19. 6. 2022 v 23:09 odes?latel Karl Berry <karl at freefriends.org> napsal:

>     Has install-tl changed behavior recently (e.g., past two weeks) in
>     terms of how TEXMF configurations are set?
>
> Not intentionally, but we (Norbert and I) have been playing with the
> directory-setting code, so indeed, a bug like this seems probable.
>
>     Could someone point me to a change log?
>
> Unfortunately we don't keep a separate ChangeLog file for this, but our
> commit log msgs are here (or on the github mirror, if you prefer):
> https://tug.org/svn/texlive/trunk/Master/install-tl?view=log
> https://github.com/TeX-Live/texlive-source/commits
>
>     I'm not sure, but I think the output in this case (even when the
>     script was run with sudo) used to be: /home/<my user name>/texmf.
>
> I do seem to recall having a special case so that root's home dir was
> not used. What is the value of your HOME envvar after sudo?
>
> Thanks,
> Karl
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220620/85f6afe6/attachment.html>

From scott.kostyshak at gmail.com  Mon Jun 20 03:49:39 2022
From: scott.kostyshak at gmail.com (Scott Kostyshak)
Date: Sun, 19 Jun 2022 21:49:39 -0400
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <202206192109.25JL92jD024252@freefriends.org>
References: <20220619142149.pnsgog6ep4ieqzxk@gary>
 <202206192109.25JL92jD024252@freefriends.org>
Message-ID: <20220620014939.btp42sjumfkc2342@gary>

On Sun, Jun 19, 2022 at 03:09:02PM -0600, Karl Berry wrote:
>>     Has install-tl changed behavior recently (e.g., past two weeks) in
>>     terms of how TEXMF configurations are set? 
> 
> Not intentionally, but we (Norbert and I) have been playing with the
> directory-setting code, so indeed, a bug like this seems probable.
> 
>>     Could someone point me to a change log?
> 
> Unfortunately we don't keep a separate ChangeLog file for this, but our
> commit log msgs are here (or on the github mirror, if you prefer):
> https://tug.org/svn/texlive/trunk/Master/install-tl?view=log
> https://github.com/TeX-Live/texlive-source/commits

That'll do just fine, thanks!

>>     I'm not sure, but I think the output in this case (even when the
>>     script was run with sudo) used to be: /home/<my user name>/texmf.
> 
> I do seem to recall having a special case so that root's home dir was
> not used. What is the value of your HOME envvar after sudo?

If I put "echo $HOME" inside the script, and I run the script with sudo,
it echos "/root".

Thanks for your reply,
Scott

From norbert at preining.info  Mon Jun 20 16:46:20 2022
From: norbert at preining.info (Norbert Preining)
Date: Mon, 20 Jun 2022 23:46:20 +0900
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
References: <20220619142149.pnsgog6ep4ieqzxk@gary>
 <202206192109.25JL92jD024252@freefriends.org>
 <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
Message-ID: <YrCIPPmSAvGl+SyY@bulldog>

Hi,

> # texhash
> texhash: Updating /usr/local/texlive/2022/texmf-config/ls-R...
> texhash: Updating /usr/local/texlive/2022/texmf-dist/ls-R...
> texhash: Updating /usr/local/texlive/2022/texmf-local/ls-R...
> texhash: Updating /usr/local/texlive/2022/texmf-var/ls-R...
> texhash: Done.

How was the docker image created? Dockerfile, or at least the install-tl
invocation and set environmental variables, please.

> <https://github.com/witiko/markdown/actions/runs/2526661788>.

This is a huge bunch of output ;-)

We need to see the invocation of install-tl and set env vars to be able
to reproduce it.
Aim was that nothing *should* break by our changes, and our tests didn't
show incorrect behaviours.

Thanks

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Mon Jun 20 17:08:07 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Mon, 20 Jun 2022 16:08:07 +0100
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <YrCIPPmSAvGl+SyY@bulldog>
References: <20220619142149.pnsgog6ep4ieqzxk@gary>
 <202206192109.25JL92jD024252@freefriends.org>
 <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <YrCIPPmSAvGl+SyY@bulldog>
Message-ID: <CALD=Yf8yOKtP6N7MWB-S1SnKx11gw5fzmiwCHi3b9mGApad_Tw@mail.gmail.com>

Hi Norbert

You wrote:

> How was the docker image created? Dockerfile, or at least the
> install-tl invocation and set environmental variables, please.


I think https://github.com/Witiko/markdown/tree/main/.github/workflows is
the continuous integration script that creates the test failure that Vit
referred to.

You wrote:

> Aim was that nothing *should* break by our changes, and our tests
> didn't show incorrect behaviours.


Please provide a URL for your tests. Are they automated, and applied via
continuous integration upon commit?

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220620/bdcd0741/attachment.html>

From norbert at preining.info  Mon Jun 20 17:20:36 2022
From: norbert at preining.info (Norbert Preining)
Date: Mon, 20 Jun 2022 15:20:36 +0000 (UTC)
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <CALD=Yf8yOKtP6N7MWB-S1SnKx11gw5fzmiwCHi3b9mGApad_Tw@mail.gmail.com>
References: <20220619142149.pnsgog6ep4ieqzxk@gary>
 <202206192109.25JL92jD024252@freefriends.org>
 <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <YrCIPPmSAvGl+SyY@bulldog>
 <CALD=Yf8yOKtP6N7MWB-S1SnKx11gw5fzmiwCHi3b9mGApad_Tw@mail.gmail.com>
Message-ID: <d75bc1fd-0388-436e-84ab-6a29959e226a@preining.info>

Thanks JF, as usually very helpful.

I know how CI works, but the markdown package's ci uses the TL docker image, and what counts is how *that* docker image is made.

Thanks for your as usual incredible contribution

Norbert

-- 
PREINING Norbert????????????????????????????? https://www.preining.info
Mercari?????????????? +??? IFMGA ProGuide??? +?? TU Wien??? +?? TeX Live
GPG: 0x860CDC13?? fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

Jun 21, 2022 00:08:20 Jonathan Fine <jfine2358 at gmail.com>:

> Hi Norbert
> 
> You wrote:
>> How was the docker image created? Dockerfile, or at least the install-tl?invocation and set environmental variables, please.
> 
> I think https://github.com/Witiko/markdown/tree/main/.github/workflows is the continuous integration script that creates the test failure that Vit referred?to.
> 
> You wrote:
>> Aim was that nothing *should* break by our changes, and our tests didn't?show incorrect behaviours.
> 
> Please provide a URL for your tests. Are they automated, and applied via continuous integration upon commit?
> 
> --?
> Jonathan?


From jfine2358 at gmail.com  Mon Jun 20 17:33:24 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Mon, 20 Jun 2022 16:33:24 +0100
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <d75bc1fd-0388-436e-84ab-6a29959e226a@preining.info>
References: <20220619142149.pnsgog6ep4ieqzxk@gary>
 <202206192109.25JL92jD024252@freefriends.org>
 <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <YrCIPPmSAvGl+SyY@bulldog>
 <CALD=Yf8yOKtP6N7MWB-S1SnKx11gw5fzmiwCHi3b9mGApad_Tw@mail.gmail.com>
 <d75bc1fd-0388-436e-84ab-6a29959e226a@preining.info>
Message-ID: <CALD=Yf_D9O5W_hh83XiuAWJ4S5etVMNwqL1EPbqaJA9fKdwJvw@mail.gmail.com>

Hi

I thank Norbert for these kind words:

> Thanks JF, as usually very helpful.

Thanks for your as usual incredible contribution.


My question below to Norbert is not yet answered.

> Please provide a URL for your tests. Are they automated, and applied via
> continuous integration upon commit?


-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220620/17d2f81f/attachment-0001.html>

From karl at freefriends.org  Tue Jun 21 00:22:02 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 20 Jun 2022 16:22:02 -0600
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
Message-ID: <202206202222.25KMM2Pe030993@freefriends.org>

Hi Vit -- I see:

    # docker run --rm -it texlive/texlive:TL2021-historic
    texhash: Updating /usr/local/texlive/texmf-local/ls-R...
      vs.
    # docker run --rm -it texlive/texlive:latest
    texhash: Updating /usr/local/texlive/2022/texmf-local/ls-R...

So what has changed is the value of TEXMFLOCAL -- in :latest, it is set
to be under the /2022/ dir. All else follows.

This is surely due to our recent changes to install-tl (nothing else
relevant has changed). We did not intend to change the defaults, but
it seems we have. I will peruse shortly.

BTW, I don't believe this is related to Scott's original report about
TEXMFHOME for a root install. Looks like two different things. --thanks, karl.


From norbert at preining.info  Tue Jun 21 01:12:17 2022
From: norbert at preining.info (Norbert Preining)
Date: Tue, 21 Jun 2022 08:12:17 +0900
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <CALD=Yf_D9O5W_hh83XiuAWJ4S5etVMNwqL1EPbqaJA9fKdwJvw@mail.gmail.com>
References: <20220619142149.pnsgog6ep4ieqzxk@gary>
 <202206192109.25JL92jD024252@freefriends.org>
 <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <YrCIPPmSAvGl+SyY@bulldog>
 <CALD=Yf8yOKtP6N7MWB-S1SnKx11gw5fzmiwCHi3b9mGApad_Tw@mail.gmail.com>
 <d75bc1fd-0388-436e-84ab-6a29959e226a@preining.info>
 <CALD=Yf_D9O5W_hh83XiuAWJ4S5etVMNwqL1EPbqaJA9fKdwJvw@mail.gmail.com>
Message-ID: <YrD+0ZWuLjfVJUEY@bulldog>

> My question below to Norbert is not yet answered.

Use the source, Luke!

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Tue Jun 21 03:11:09 2022
From: karl at freefriends.org (Karl Berry)
Date: Tue, 21 Jun 2022 03:11:09 +0200
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <20220620014939.btp42sjumfkc2342@gary>
Message-ID: <202206210111.25L1B9Bg032693@tug.org>

Hi Scott,

    If I put "echo $HOME" inside the script, and I run the script with sudo,
    it echos "/root".

It is puzzling. Can you show us the exact script, or say exactly how to
reproduce? I can't find any prior special case for root. ~ always
expands to $HOME (on Unix), so far as I can see. For example:
$ env HOME=/foobar kpsewhich -var-value TEXMFHOME                      
/foobar/texmf

So, if you don't change TEXMFHOME in your script, the value in the
distributed /.../texmf-dist/web2c/texmf.cnf should be what's active, and
that is ~/texmf.  Unless you weren't root, or otherwise changed HOME
when you ran TEXMFHOME, I can't see how that would expand to anything
other than /root/texmf.

But, one thing has changed (and maybe we should undo it): if you do
change TEXMFHOME in the installer to, say, ~/junk, what will get written
to /.../texmf.cnf (the top-level texmf.cnf, not the one in texmf-dist)
will have the tilde expanded at the time of installation:
TEXMFHOME = /root/junk

In the past, we literally wrote the tilde, so the top texmf.cnf would
have contained:
TEXMFHOME = ~/junk

Which, depending on the circumstances in which you're running the
various commands, could explain it. Please advise ... --thanks, karl.

From karl at freefriends.org  Tue Jun 21 03:17:18 2022
From: karl at freefriends.org (Karl Berry)
Date: Mon, 20 Jun 2022 19:17:18 -0600
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
Message-ID: <202206210117.25L1HIfm025883@freefriends.org>

> So what has changed is the value of TEXMFLOCAL

Hopefully fixed (r63670) for tonight's build of the installer packages.
Thanks for the report. -k

From michael at rmrco.com  Tue Jun 21 21:46:27 2022
From: michael at rmrco.com (Mike)
Date: Tue, 21 Jun 2022 12:46:27 -0700
Subject: file names
Message-ID: <5588E697-0E19-4306-AC5E-D4D816DC6691@rmrco.com>

The file name 04.rosr_frame.pdf in includegraphics fails.

   \includegraphics[width=12cm]{img/04.rosr_frame.pdf}
this crashes.

   \includegraphics[width=12cm]{img/04rosr_frame.pdf}
works fine.

It's the dot. Any suggestions?

Best Wishes,
Mike


From joseph.wright at morningstar2.co.uk  Tue Jun 21 22:22:23 2022
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 21 Jun 2022 21:22:23 +0100
Subject: file names
In-Reply-To: <5588E697-0E19-4306-AC5E-D4D816DC6691@rmrco.com>
References: <5588E697-0E19-4306-AC5E-D4D816DC6691@rmrco.com>
Message-ID: <4eab1065-72ad-f0a2-e575-ca90e3c812b4@morningstar2.co.uk>

On 21/06/2022 20:46, Mike wrote:
> The file name 04.rosr_frame.pdf in includegraphics fails.
> 
>     \includegraphics[width=12cm]{img/04.rosr_frame.pdf}
> this crashes.
> 
>     \includegraphics[width=12cm]{img/04rosr_frame.pdf}
> works fine.
> 
> It's the dot. Any suggestions?
> 
> Best Wishes,
> Mike

Make a short example including \listfiles and post the resulting .log 
file here. With an up-to-date LaTeX, everything should work with files 
containing dots.

Joseph

From skostysh at lyx.org  Wed Jun 22 04:07:27 2022
From: skostysh at lyx.org (Scott Kostyshak)
Date: Tue, 21 Jun 2022 22:07:27 -0400
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <202206202222.25KMM2Pe030993@freefriends.org>
References: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <202206202222.25KMM2Pe030993@freefriends.org>
Message-ID: <20220622020727.a3b7zymgon734tip@gary>

On Mon, Jun 20, 2022 at 04:22:02PM -0600, Karl Berry wrote:
> 
> BTW, I don't believe this is related to Scott's original report about
> TEXMFHOME for a root install. Looks like two different things. --thanks, karl.
> 

I just tested and I still have the problem so unfortunately you're
right. In any case, I'm glad the other issue was fixed.

I'm guessing I can just set the TEXMF values manually to what I was used
to.

Thanks for the help!
Scott
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 488 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20220621/20f03018/attachment.sig>

From norbert at preining.info  Wed Jun 22 06:20:11 2022
From: norbert at preining.info (Norbert Preining)
Date: Wed, 22 Jun 2022 13:20:11 +0900
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <20220622020727.a3b7zymgon734tip@gary>
References: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <202206202222.25KMM2Pe030993@freefriends.org>
 <20220622020727.a3b7zymgon734tip@gary>
Message-ID: <YrKYezZt4jHH8SfL@bulldog>

Hi Scott,

> I just tested and I still have the problem so unfortunately you're
> right. In any case, I'm glad the other issue was fixed.

That is a bug on our side, I am working on it.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Wed Jun 22 10:36:36 2022
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 22 Jun 2022 10:36:36 +0200
Subject: file names
In-Reply-To: <4eab1065-72ad-f0a2-e575-ca90e3c812b4@morningstar2.co.uk>
References: <5588E697-0E19-4306-AC5E-D4D816DC6691@rmrco.com>
 <4eab1065-72ad-f0a2-e575-ca90e3c812b4@morningstar2.co.uk>
Message-ID: <CAC1phybs_W9h_nEzXc2GmqCoHNyZ153=MxmPkSdbFx_=61MN7A@mail.gmail.com>

I am not sure but I think that includgeraphics considers everything
after the first dot an extension, so in the first case .rosr_frame.pdf
is an extension and it does not know how to proces pictures of such
types. The authors of the graphicx package will know exactly.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

?t 21. 6. 2022 v 22:22 odes?latel Joseph Wright
<joseph.wright at morningstar2.co.uk> napsal:
>
> On 21/06/2022 20:46, Mike wrote:
> > The file name 04.rosr_frame.pdf in includegraphics fails.
> >
> >     \includegraphics[width=12cm]{img/04.rosr_frame.pdf}
> > this crashes.
> >
> >     \includegraphics[width=12cm]{img/04rosr_frame.pdf}
> > works fine.
> >
> > It's the dot. Any suggestions?
> >
> > Best Wishes,
> > Mike
>
> Make a short example including \listfiles and post the resulting .log
> file here. With an up-to-date LaTeX, everything should work with files
> containing dots.
>
> Joseph


From komascript at gmx.info  Wed Jun 22 11:14:19 2022
From: komascript at gmx.info (Markus Kohm)
Date: Wed, 22 Jun 2022 11:14:19 +0200
Subject: file names
In-Reply-To: <CAC1phybs_W9h_nEzXc2GmqCoHNyZ153=MxmPkSdbFx_=61MN7A@mail.gmail.com>
References: <5588E697-0E19-4306-AC5E-D4D816DC6691@rmrco.com>
 <4eab1065-72ad-f0a2-e575-ca90e3c812b4@morningstar2.co.uk>
 <CAC1phybs_W9h_nEzXc2GmqCoHNyZ153=MxmPkSdbFx_=61MN7A@mail.gmail.com>
Message-ID: <13041710.uLZWGnKmhe@komascript.de>

Am Mittwoch, 22. Juni 2022, 10:36:36 CEST schrieb Zdenek Wagner:
> I am not sure but I think that includgeraphics considers everything
> after the first dot an extension

This is not correct. graphicx uses \filename at parse and end of 2019 the LaTeX
kernel has been changed to take the last dot not the first one. Note, that
rollback to a prior version (e.g. 2019/04/01) would also rollback to the old
\filename at parse.

You can simply test it using:

% \RequirePackage[2019/04/01]{latexrelease}
% The code of the follwing filecontents environment is from grfguide.
\begin{filecontents*}{a.test.from.graphics.eps}
%!
%%BoundingBox:0 0 72 72
0 0 moveto
72 72 rlineto
72 neg 0 rlineto
72 72 neg rlineto
stroke
0 0 moveto
/Times-Roman findfont
72 scalefont
setfont
(A) show
showpage
\end{filecontents*}
\documentclass{article}
\usepackage{graphicx}
\begin{document}
\includegraphics{a.test.from.graphics.eps}

\includegraphics{a.test.from.graphics}
\end{document}

This should work, but if you'll remove the % from the beginning of the first
line, it should fail with error "LaTeX Error: Unknown graphics extension:
.test.from.graphics.eps."

AFAIK this is not notes in ltnews30, but there is another note in ltnews32
about another issue with several dots in file names. And in ltnews33 there is
more information about "Improved handling of file names".

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20220622/f80ed3bb/attachment.sig>

From scott.kostyshak at gmail.com  Wed Jun 22 19:20:23 2022
From: scott.kostyshak at gmail.com (Scott Kostyshak)
Date: Wed, 22 Jun 2022 13:20:23 -0400
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <YrKYezZt4jHH8SfL@bulldog>
References: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <202206202222.25KMM2Pe030993@freefriends.org>
 <20220622020727.a3b7zymgon734tip@gary> <YrKYezZt4jHH8SfL@bulldog>
Message-ID: <20220622172023.l5o5ooxpbcneeviq@porter>

Hi Norbert,

> Hi Scott,
> 
> > I just tested and I still have the problem so unfortunately you're
> > right. In any case, I'm glad the other issue was fixed.
> 
> That is a bug on our side, I am working on it.

Sounds good, thank you for your time on it!

Best,
Scott

From jfine2358 at gmail.com  Wed Jun 22 21:53:28 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 22 Jun 2022 20:53:28 +0100
Subject: No TeX Hour tomorrow, next TeX Hour Thur 30 June
Message-ID: <CALD=Yf9N1aukOtg4Mt_DkosUH-z9AZrwLsu9kXB_XYJKWXYjYA@mail.gmail.com>

Hi

There won't be a TeX Hour tomorrow. The next TeX Hour will be on Thursday
30 June, 6:30 to 7:30pm UK time.

The TeX Users Group 2022 conference will be 22-24 July. It's an online
conference, free with donations welcome. There's about 35 presentations and
110 participants.
https://tug.org/tug2022/

Off topic: This afternoon I went to a local event to mark and celebrate
Empire Windrush Day. The organisers and community state and embody the
principle that "together we will make a difference". I like that.
https://en.wikipedia.org/wiki/Windrush_Day
https://www.bbc.co.uk/news/uk-61884535

Here's the earliest use I've found of "together we will make a difference."
10 May 2000: U.S. Postal Service and Dave Thomas Foundation for Adoption
http://psestamp.com/articles/article2506.chtml

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220622/7c5643ee/attachment.html>

From usenet at siart.de  Fri Jun 24 11:36:12 2022
From: usenet at siart.de (Uwe Siart)
Date: Fri, 24 Jun 2022 11:36:12 +0200
Subject: Biber doesn't match biblatex
Message-ID: <86sfnuiesz.fsf@siart.de>

After today's update biber and biblatex versions are out of sync and so
biber aborts with an error, saying that biber 2.17 doesn't match
biblatex 3.18.

-- 
Uwe


From artourter at gmail.com  Fri Jun 24 11:45:21 2022
From: artourter at gmail.com (Greg' Ar Tourter)
Date: Fri, 24 Jun 2022 10:45:21 +0100
Subject: Biber doesn't match biblatex
In-Reply-To: <86sfnuiesz.fsf@siart.de>
References: <86sfnuiesz.fsf@siart.de>
Message-ID: <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>

I can confirm I get the same problem:

ERROR - Error: Found biblatex control file version 3.9, expected version
3.8.
This means that your biber (2.17) and biblatex (3.18) versions are
incompatible.
See compat matrix in biblatex or biber PDF documentation.

On Fri, 24 Jun 2022 at 10:36, Uwe Siart <usenet at siart.de> wrote:

> After today's update biber and biblatex versions are out of sync and so
> biber aborts with an error, saying that biber 2.17 doesn't match
> biblatex 3.18.
>
> --
> Uwe
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220624/70e95abd/attachment.html>

From enrico.gregorio at gmail.com  Fri Jun 24 11:55:08 2022
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Fri, 24 Jun 2022 11:55:08 +0200
Subject: Biber doesn't match biblatex
In-Reply-To: <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
Message-ID: <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>



> On 24 Jun 2022, at 11:45 , Greg' Ar Tourter <artourter at gmail.com> wrote:
> 
> I can confirm I get the same problem:
> 
> ERROR - Error: Found biblatex control file version 3.9, expected version 3.8.
> This means that your biber (2.17) and biblatex (3.18) versions are incompatible.
> See compat matrix in biblatex or biber PDF documentation.
> 
> On Fri, 24 Jun 2022 at 10:36, Uwe Siart <usenet at siart.de> wrote:
> After today's update biber and biblatex versions are out of sync and so
> biber aborts with an error, saying that biber 2.17 doesn't match
> biblatex 3.18.

Not for me (MacTeX, just run TL Utility and updated everything). I took
one of the documents used for an answer on TeX.SX, run pdflatex to set
version 3.9 and got

> biber schiff
INFO - This is Biber 2.18
INFO - Logfile is 'schiff.blg'
INFO - Reading 'schiff.bcf'
INFO - Found 1 citekeys in bib section 0
INFO - Processing section 0
INFO - Looking for bibtex file 'schiff.bib' for section 0
INFO - LaTeX decoding ...
INFO - Found BibTeX data source 'schiff.bib'
INFO - Overriding locale 'en-US' defaults 'normalization = NFD' with 'normalization = prenormalized'
INFO - Overriding locale 'en-US' defaults 'variable = shifted' with 'variable = non-ignorable'
INFO - Sorting list 'nty/global//global/global' of type 'entry' with template 'nty' and locale 'en-US'
INFO - No sort tailoring available for locale 'en-US'
INFO - Writing 'schiff.bbl' with encoding 'UTF-8'
INFO - Output to schiff.bbl

Ciao
Enrico

From franciszek.wieczorek at onet.eu  Fri Jun 24 12:11:28 2022
From: franciszek.wieczorek at onet.eu (Franciszek Wieczorek)
Date: Fri, 24 Jun 2022 11:11:28 +0100
Subject: Biber doesn't match biblatex
In-Reply-To: <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
Message-ID: <5b31bdc8-5ef0-fa51-944a-e89b97814fef@onet.eu>

I can confirm on the error:

Biber error: [160] Utils.pm:409> ERROR - Error: Found biblatex control 
file version 3.9, expected version 3.8

TeX Live version:

tlmgr revision 63068 (2022-04-18 07:58:07 +0200)
...
TeX Live (https://tug.org/texlive) version 2022


From daleif at math.au.dk  Fri Jun 24 12:16:32 2022
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 24 Jun 2022 10:16:32 +0000
Subject: Biber doesn't match biblatex
In-Reply-To: <5b31bdc8-5ef0-fa51-944a-e89b97814fef@onet.eu>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
 <5b31bdc8-5ef0-fa51-944a-e89b97814fef@onet.eu>
Message-ID: <HE1PR0102MB271369ABBD8D8D1665F92502F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>

I just ran the updater

[ 8/81, 00:06/00:44] update: biber [1201k] (61867 -> 63708) ... done
[ 9/81, 00:08/00:56] update: biblatex [7389k] (61868 -> 63708) ... done

and afterwards I also get

biber --version
biber version: 2.17

perhaps the proper biber update haven't gotten to all the mirrors yet?


Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Franciszek Wieczorek <franciszek.wieczorek at onet.eu>
Sent: 24 June 2022 12:11
To: tex-live at tug.org <tex-live at tug.org>
Subject: Re: Biber doesn't match biblatex

I can confirm on the error:

Biber error: [160] Utils.pm:409> ERROR - Error: Found biblatex control
file version 3.9, expected version 3.8

TeX Live version:

tlmgr revision 63068 (2022-04-18 07:58:07 +0200)
...
TeX Live (https://tug.org/texlive) version 2022

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220624/995b46c3/attachment.html>

From daleif at math.au.dk  Fri Jun 24 12:20:16 2022
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 24 Jun 2022 10:20:16 +0000
Subject: Biber doesn't match biblatex
In-Reply-To: <HE1PR0102MB271369ABBD8D8D1665F92502F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
 <5b31bdc8-5ef0-fa51-944a-e89b97814fef@onet.eu>
 <HE1PR0102MB271369ABBD8D8D1665F92502F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
Message-ID: <HE1PR0102MB2713325C322C409AB1662E49F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>

Well the biber files on my mirror (dorsrc.org) are dated 2022/06/23



Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 24 June 2022 12:16
To: tex-live at tug.org <tex-live at tug.org>
Subject: Re: Biber doesn't match biblatex

I just ran the updater

[ 8/81, 00:06/00:44] update: biber [1201k] (61867 -> 63708) ... done
[ 9/81, 00:08/00:56] update: biblatex [7389k] (61868 -> 63708) ... done

and afterwards I also get

biber --version
biber version: 2.17

perhaps the proper biber update haven't gotten to all the mirrors yet?


Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Franciszek Wieczorek <franciszek.wieczorek at onet.eu>
Sent: 24 June 2022 12:11
To: tex-live at tug.org <tex-live at tug.org>
Subject: Re: Biber doesn't match biblatex

I can confirm on the error:

Biber error: [160] Utils.pm:409> ERROR - Error: Found biblatex control
file version 3.9, expected version 3.8

TeX Live version:

tlmgr revision 63068 (2022-04-18 07:58:07 +0200)
...
TeX Live (https://tug.org/texlive) version 2022

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220624/7b8fea5d/attachment-0001.html>

From daleif at math.au.dk  Fri Jun 24 12:31:58 2022
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 24 Jun 2022 10:31:58 +0000
Subject: Biber doesn't match biblatex
In-Reply-To: <HE1PR0102MB2713325C322C409AB1662E49F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
 <5b31bdc8-5ef0-fa51-944a-e89b97814fef@onet.eu>
 <HE1PR0102MB271369ABBD8D8D1665F92502F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
 <HE1PR0102MB2713325C322C409AB1662E49F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
Message-ID: <HE1PR0102MB2713AADB8D9D35F637B4EDF2F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>

Looking at

http://dante.ctan.org/tex-archive/systems/texlive/tlnet/archive/

lists biber data are dated today but they are marked 63707 and that contains biber 2.17 and biblatex is marked 63708



Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 24 June 2022 12:20
To: tex-live at tug.org <tex-live at tug.org>
Subject: Re: Biber doesn't match biblatex

Well the biber files on my mirror (dorsrc.org) are dated 2022/06/23



Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 24 June 2022 12:16
To: tex-live at tug.org <tex-live at tug.org>
Subject: Re: Biber doesn't match biblatex

I just ran the updater

[ 8/81, 00:06/00:44] update: biber [1201k] (61867 -> 63708) ... done
[ 9/81, 00:08/00:56] update: biblatex [7389k] (61868 -> 63708) ... done

and afterwards I also get

biber --version
biber version: 2.17

perhaps the proper biber update haven't gotten to all the mirrors yet?


Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Franciszek Wieczorek <franciszek.wieczorek at onet.eu>
Sent: 24 June 2022 12:11
To: tex-live at tug.org <tex-live at tug.org>
Subject: Re: Biber doesn't match biblatex

I can confirm on the error:

Biber error: [160] Utils.pm:409> ERROR - Error: Found biblatex control
file version 3.9, expected version 3.8

TeX Live version:

tlmgr revision 63068 (2022-04-18 07:58:07 +0200)
...
TeX Live (https://tug.org/texlive) version 2022

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220624/e4ccda0b/attachment.html>

From alessi at robertalessi.net  Fri Jun 24 12:49:37 2022
From: alessi at robertalessi.net (Robert Alessi)
Date: Fri, 24 Jun 2022 12:49:37 +0200
Subject: Biber doesn't match biblatex
In-Reply-To: <HE1PR0102MB2713AADB8D9D35F637B4EDF2F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
 <5b31bdc8-5ef0-fa51-944a-e89b97814fef@onet.eu>
 <HE1PR0102MB271369ABBD8D8D1665F92502F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
 <HE1PR0102MB2713325C322C409AB1662E49F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
 <HE1PR0102MB2713AADB8D9D35F637B4EDF2F2B49@HE1PR0102MB2713.eurprd01.prod.exchangelabs.com>
Message-ID: <YrWWwR1KQSwbz2x9@robertalessi.net>

Confirmed. To get the updated biber to work again temporarily, I had
to revert biblatex like so: 'tlmgr restore biblatex 61868'

Robert

On Fri, Jun 24, 2022 at 10:31:58AM +0000, Lars Madsen wrote:
> Looking at
> 
> http://dante.ctan.org/tex-archive/systems/texlive/tlnet/archive/
> 
> lists biber data are dated today but they are marked 63707 and that contains biber 2.17 and biblatex is marked 63708
> 
> 
> 
> Lars Madsen
> Programm?r
> 
> Institut for Matematik
> Aarhus Universitet
> 
> person.au.dk/daleif at math<https://person.au.dk/daleif at math>
> 
> ________________________________
> From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
> Sent: 24 June 2022 12:20
> To: tex-live at tug.org <tex-live at tug.org>
> Subject: Re: Biber doesn't match biblatex
> 
> Well the biber files on my mirror (dorsrc.org) are dated 2022/06/23
> 
> 
> 
> Lars Madsen
> Programm?r
> 
> Institut for Matematik
> Aarhus Universitet
> 
> person.au.dk/daleif at math<https://person.au.dk/daleif at math>
> 
> ________________________________
> From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
> Sent: 24 June 2022 12:16
> To: tex-live at tug.org <tex-live at tug.org>
> Subject: Re: Biber doesn't match biblatex
> 
> I just ran the updater
> 
> [ 8/81, 00:06/00:44] update: biber [1201k] (61867 -> 63708) ... done
> [ 9/81, 00:08/00:56] update: biblatex [7389k] (61868 -> 63708) ... done
> 
> and afterwards I also get
> 
> biber --version
> biber version: 2.17
> 
> perhaps the proper biber update haven't gotten to all the mirrors yet?
> 
> 
> Lars Madsen
> Programm?r
> 
> Institut for Matematik
> Aarhus Universitet
> 
> person.au.dk/daleif at math<https://person.au.dk/daleif at math>
> 
> ________________________________
> From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Franciszek Wieczorek <franciszek.wieczorek at onet.eu>
> Sent: 24 June 2022 12:11
> To: tex-live at tug.org <tex-live at tug.org>
> Subject: Re: Biber doesn't match biblatex
> 
> I can confirm on the error:
> 
> Biber error: [160] Utils.pm:409> ERROR - Error: Found biblatex control
> file version 3.9, expected version 3.8
> 
> TeX Live version:
> 
> tlmgr revision 63068 (2022-04-18 07:58:07 +0200)
> ...
> TeX Live (https://tug.org/texlive) version 2022
> 

From usenet at siart.de  Fri Jun 24 13:09:17 2022
From: usenet at siart.de (Uwe Siart)
Date: Fri, 24 Jun 2022 13:09:17 +0200
Subject: Biber doesn't match biblatex
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
Message-ID: <86mte2uxlu.fsf@siart.de>

Enrico Gregorio <enrico.gregorio at gmail.com> writes:

> Not for me (MacTeX, just run TL Utility and updated everything).

It could well be that it's just an issue with biber.win23.

-- 
Uwe


From alessi at robertalessi.net  Fri Jun 24 13:20:22 2022
From: alessi at robertalessi.net (Robert Alessi)
Date: Fri, 24 Jun 2022 13:20:22 +0200
Subject: Biber doesn't match biblatex
In-Reply-To: <86mte2uxlu.fsf@siart.de>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com>
 <86mte2uxlu.fsf@siart.de>
Message-ID: <YrWd9sVZN2ZpB3U/@robertalessi.net>

On Fri, Jun 24, 2022 at 01:09:17PM +0200, Uwe Siart wrote:
> Enrico Gregorio <enrico.gregorio at gmail.com> writes:
> 
> > Not for me (MacTeX, just run TL Utility and updated everything).
> 
> It could well be that it's just an issue with biber.win23.

I don't think so for I use biber.x86_64-linux

R.

From norbert at preining.info  Fri Jun 24 16:32:53 2022
From: norbert at preining.info (Norbert Preining)
Date: Fri, 24 Jun 2022 23:32:53 +0900
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <20220622172023.l5o5ooxpbcneeviq@porter>
References: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <202206202222.25KMM2Pe030993@freefriends.org>
 <20220622020727.a3b7zymgon734tip@gary> <YrKYezZt4jHH8SfL@bulldog>
 <20220622172023.l5o5ooxpbcneeviq@porter>
Message-ID: <YrXLFc/K+8V4Ln6l@bulldog>

Hi Scott,

On Wed, 22 Jun 2022, Scott Kostyshak wrote:
> > That is a bug on our side, I am working on it.

Should be fixed with tomorrow's installer.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at jcom.zaq.ne.jp  Fri Jun 24 23:16:49 2022
From: kakuto at jcom.zaq.ne.jp (Akira Kakuto)
Date: Sat, 25 Jun 2022 06:16:49 +0900
Subject: Biber doesn't match biblatex
In-Reply-To: <86mte2uxlu.fsf@siart.de>
References: <86sfnuiesz.fsf@siart.de>
 <CAK09-vnmv-+VvWTjC8=f0Jm_RvW_K7z5XpGRW8w5WKFcfi8czw@mail.gmail.com>
 <11DE6D5F-B3E2-4F74-9880-93B30860C4C7@gmail.com> <86mte2uxlu.fsf@siart.de>
Message-ID: <6560f6a3-66ff-22d4-4c52-66f23e8747ea@jcom.zaq.ne.jp>

On 2022/06/24 20:09, Uwe Siart wrote:
> Enrico Gregorio <enrico.gregorio at gmail.com> writes:
> 
>> Not for me (MacTeX, just run TL Utility and updated everything).
> 
> It could well be that it's just an issue with biber.win23.
> 

I think that
CTAN/biblio/biber/binaries/Windows/biber-MSWIN64.zip 2022-06-22 22:20
is version 2.18, while
CTAN/biblio/biber/binaries/Windows/biber-MSWIN32.zip 2022-06-22 22:20
is version 2.17.

So the original biber-MSWIN32.zip will be a mistake.

Akira

From s_k- at gmx.de  Fri Jun 24 19:52:00 2022
From: s_k- at gmx.de (Benjamin Armbruster)
Date: Fri, 24 Jun 2022 19:52:00 +0200
Subject: Biber doesn't match biblatex
In-Reply-To: <86mte2uxlu.fsf@siart.de>
Message-ID: <20220624195200.000005bb@gmx.de>

Hi,

it is an upstream bug that has already been reported and accepted at
https://github.com/plk/biber/issues/415

Greetz


From skostysh at lyx.org  Sat Jun 25 04:40:09 2022
From: skostysh at lyx.org (Scott Kostyshak)
Date: Fri, 24 Jun 2022 22:40:09 -0400
Subject: install-tl change of behavior for setting TEXMFHOME ?
In-Reply-To: <YrXLFc/K+8V4Ln6l@bulldog>
References: <CAKt3JyUf_A57QwwPvNjTgU1Jk+A64Ou2a4g_b_NRt7+pLmD=Nw@mail.gmail.com>
 <202206202222.25KMM2Pe030993@freefriends.org>
 <20220622020727.a3b7zymgon734tip@gary> <YrKYezZt4jHH8SfL@bulldog>
 <20220622172023.l5o5ooxpbcneeviq@porter> <YrXLFc/K+8V4Ln6l@bulldog>
Message-ID: <20220625024009.gq6tkezbet5dzwss@gary>

Hi Norbert,

On Fri, Jun 24, 2022 at 11:32:53PM +0900, Norbert Preining wrote:
> Hi Scott,
> 
> On Wed, 22 Jun 2022, Scott Kostyshak wrote:
> > > That is a bug on our side, I am working on it.
> 
> Should be fixed with tomorrow's installer.

Great, thank you for the fix and for letting me know!

Best,
Scott

From benjamin.armbruster at fu-berlin.de  Sat Jun 25 11:51:49 2022
From: benjamin.armbruster at fu-berlin.de (Benjamin Armbruster)
Date: Sat, 25 Jun 2022 11:51:49 +0200
Subject: [biblatex-apa] catalogue updated but not the package itself
Message-ID: <20220625115149.0000716c@fu-berlin.de>

Hi,

the catalogue info for biblatex-apa was updated to v9.16
(https://tug.org/pipermail/tex-live-commits/2022-June/022329.html),
which `tlmgr info biblatex-apa` confirms. But the package remains at
v9.15 (biblatex-apa.r63708.tar.xz) still (see i.e. apa.bbx).

Greetings

From norbert at preining.info  Sat Jun 25 16:55:51 2022
From: norbert at preining.info (Norbert Preining)
Date: Sat, 25 Jun 2022 23:55:51 +0900
Subject: [biblatex-apa] catalogue updated but not the package itself
In-Reply-To: <20220625115149.0000716c@fu-berlin.de>
References: <20220625115149.0000716c@fu-berlin.de>
Message-ID: <Yrch94jOJsAIqpoZ@KCR9J032WQ>

> the catalogue info for biblatex-apa was updated to v9.16
> (https://tug.org/pipermail/tex-live-commits/2022-June/022329.html),
> which `tlmgr info biblatex-apa` confirms. But the package remains at
> v9.15 (biblatex-apa.r63708.tar.xz) still (see i.e. apa.bbx).

catalogue updates and actual data updates are not coupled.
biblatex-apa was updated in the svn repo after the daily rebuild, so will
be in tomorrow's release.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From luecking at uark.edu  Sat Jun 25 21:22:04 2022
From: luecking at uark.edu (Daniel H. Luecking)
Date: Sat, 25 Jun 2022 19:22:04 +0000
Subject: Bug: reverxii.tex in wrong location
Message-ID: <SN6PR04MB4144D0278EFA723F929963E1B9B79@SN6PR04MB4144.namprd04.prod.outlook.com>

The file texmf-dist/doc/plain/reverxii/reverxii.tex in TeXLive needs to be in the tex,latex search tree, presumably in one of
texmf-dist/tex/plain/reverxii/reverxii.tex or
texmf-dist/tex/generic/reverxii/reverxii.tex

Daniel H. Luecking [luecking at uark.edu]
Department of Mathematical Sciences
1 University of Arkansas
Fayetteville, AR, USA 72701-1201
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220625/c9179010/attachment.html>

From karl at freefriends.org  Sat Jun 25 23:17:06 2022
From: karl at freefriends.org (Karl Berry)
Date: Sat, 25 Jun 2022 15:17:06 -0600
Subject: Bug: reverxii.tex in wrong location
In-Reply-To: <SN6PR04MB4144D0278EFA723F929963E1B9B79@SN6PR04MB4144.namprd04.prod.outlook.com>
Message-ID: <202206252117.25PLH6Id005114@freefriends.org>

    The file texmf-dist/doc/plain/reverxii/reverxii.tex in TeXLive needs
    to be in the tex,latex search tree, 

Thanks Dan, fixed for tonight.

    presumably in one of
    texmf-dist/tex/plain/reverxii/reverxii.tex or
    texmf-dist/tex/generic/reverxii/reverxii.tex

Since it's in plain/ on CTAN, I put it in plain/ in TL. -k

From morse at mittelbach-online.de  Sat Jun 25 23:25:44 2022
From: morse at mittelbach-online.de (Frank Mittelbach)
Date: Sat, 25 Jun 2022 23:25:44 +0200
Subject: Bug: reverxii.tex in wrong location
In-Reply-To: <202206252117.25PLH6Id005114@freefriends.org>
References: <202206252117.25PLH6Id005114@freefriends.org>
Message-ID: <87917191-371f-28c0-5365-3d7f19dac99f@mittelbach-online.de>

Am 25.06.22 um 23:17 schrieb Karl Berry:
> Since it's in plain/ on CTAN, I put it in plain/ in TL. -k

but it isn't "plain" it is kind of LaTeX, only very unreadable LaTeX, it 
contains \documentclass{report} so it wouldn't run under plain

From manfred at dante.de  Sun Jun 26 07:34:52 2022
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 26 Jun 2022 07:34:52 +0200
Subject: Bug: reverxii.tex in wrong location
In-Reply-To: <87917191-371f-28c0-5365-3d7f19dac99f@mittelbach-online.de>
References: <202206252117.25PLH6Id005114@freefriends.org>
 <87917191-371f-28c0-5365-3d7f19dac99f@mittelbach-online.de>
Message-ID: <d34c106f-9cfe-3cb4-b0cb-29eb180d9f15@dante.de>



On 6/25/22 23:25, Frank Mittelbach wrote:
> Am 25.06.22 um 23:17 schrieb Karl Berry:
>> Since it's in plain/ on CTAN, I put it in plain/ in TL. -k
> 
> but it isn't "plain" it is kind of LaTeX, only very unreadable LaTeX, it
> contains \documentclass{report} so it wouldn't run under plain

So we should move it to macros/latex/contrib I guess.

-- 
Manfred


From bnb at tug.org  Sun Jun 26 17:21:23 2022
From: bnb at tug.org (barbara beeton)
Date: Sun, 26 Jun 2022 17:21:23 +0200 (CEST)
Subject: Bug: reverxii.tex in wrong location
In-Reply-To: <d34c106f-9cfe-3cb4-b0cb-29eb180d9f15@dante.de>
References: <202206252117.25PLH6Id005114@freefriends.org>
 <87917191-371f-28c0-5365-3d7f19dac99f@mittelbach-online.de>
 <d34c106f-9cfe-3cb4-b0cb-29eb180d9f15@dante.de>
Message-ID: <bf8c2fae-777a-ca82-31a6-badc313288e@tug.org>

On Sun, 26 Jun 2022, Manfred Lotz wrote:
>
> On 6/25/22 23:25, Frank Mittelbach wrote:
>> Am 25.06.22 um 23:17 schrieb Karl Berry:
>>> Since it's in plain/ on CTAN, I put it in plain/ in TL. -k
>>
>> but it isn't "plain" it is kind of LaTeX, only very unreadable LaTeX, it
>> contains \documentclass{report} so it wouldn't run under plain
>
> So we should move it to macros/latex/contrib I guess.

I've read the manual.  It specifically says that it works with plain,
although it requires eplain and uses some latex techniques.  I don't
think removing the plain association is warranted.
 						-- bb


From frank.mittelbach at latex-project.org  Sun Jun 26 18:12:38 2022
From: frank.mittelbach at latex-project.org (Frank Mittelbach)
Date: Sun, 26 Jun 2022 18:12:38 +0200
Subject: Bug: reverxii.tex in wrong location
In-Reply-To: <bf8c2fae-777a-ca82-31a6-badc313288e@tug.org>
References: <202206252117.25PLH6Id005114@freefriends.org>
 <87917191-371f-28c0-5365-3d7f19dac99f@mittelbach-online.de>
 <d34c106f-9cfe-3cb4-b0cb-29eb180d9f15@dante.de>
 <bf8c2fae-777a-ca82-31a6-badc313288e@tug.org>
Message-ID: <22cf479f-616b-e746-8823-182187ee1b76@latex-project.org>

Am 26.06.22 um 17:21 schrieb barbara beeton:
>>
> 
> I've read the manual.? It specifically says that it works with plain,
> although it requires eplain and uses some latex techniques.? I don't
> think removing the plain association is warranted.

hmm guess I was wrong, it contains \documentclass to work in LaTeX but 
actually tests for a condition to execute only if available, so yes 
generic is correct --- sorry for the noise

frank

From jfine2358 at gmail.com  Wed Jun 29 13:29:35 2022
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 29 Jun 2022 12:29:35 +0100
Subject: TeX Hour: Thu 30 June: Society, computers and networks: 6:30pm UK time
Message-ID: <CALD=Yf-BV5pNFSR5nKs2mqzn8osmH7WS2hJsSabTv3FzR7SfbA@mail.gmail.com>

Hi

Tomorrow's TeX Hour will be a general discussion on the themes of society,
computers and networks. All views on this are welcome. My personal interest
is continuing the good in the past and adopting what is good in the future.

TeX Hour: Thursday 30 June, 6:30 to 7:30pm UK time.
Zoom URL:
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
UK Time Now: https://time.is/UK.

Next week's TeX Hour will be case studies on software documentation.
Examples include:

https://docs.alpinelinux.org/user-handbook/0.1a/index.html
https://docs.julialang.org/en/v1/
https://www.latex-project.org/help/documentation/
https://numpy.org/doc/stable/
https://docs.python.org/3/

By the way, X-windows turned 38 last week. Its replacement, called Wayland,
is now adopted by major Linux distributions, with compatibility with X.
This is a nice example of continuity and change.

Here's a link to the 1986 manual for V-system (a predecessor to X). It's a
paper manual scanned in as a PDF, with OCR providing search and copy. How
things have changed.
http://bitsavers.org/pdf/stanford/v-system/V_6.0refMan_Jun86.pdf

And you might also be interested in
https://www.theregister.com/2022/06/22/the_x_window_system_just/
https://lunduke.substack.com/p/w-the-window-system-before-x-that

with best wishes

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20220629/295e3f07/attachment.html>

From cazzola at di.unimi.it  Thu Jun 30 15:09:51 2022
From: cazzola at di.unimi.it (Walter Cazzola)
Date: Thu, 30 Jun 2022 15:09:51 +0200 (CEST)
Subject: beamer and inputenc (utf8x) issue
Message-ID: <8bb43615-70dc-55b3-f5d7-149389d34af0@di.unimi.it>

Dear TeX-perts,
I'm using TeX live 2022 with a full and up-to-date installation on a linux
box.

Recently the combination between beamer and inputenc gives an error

   ! Argument of ? has an extra }.
   <inserted text>
                 \par
   l.5 \begin{document}

   ?
   Runaway argument?
   ! Paragraph ended before ? was complete.
   <to be read again>
                    \par
   l.5 \begin{document}

and pdflatex gives up on generating  the output.

This is a minimal example showing the issue:

\documentclass[a4paper]{beamer}

\usepackage[utf8x]{inputenc}

\begin{document}

\end{document}

The example is so minimal than this sounds as a bug to me but maybe I'm still
doing something wrong. Attached you have the corresponding log file.

I know that the usage of utf8x is discouraged but this seems a bug that to
some extends could impede its use also when is the only option.

Walter

-- 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: MWE-inputenc.log
URL: <https://tug.org/pipermail/tex-live/attachments/20220630/776734f6/attachment-0001.log>

From news3 at nililand.de  Thu Jun 30 15:16:04 2022
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 30 Jun 2022 15:16:04 +0200
Subject: beamer and inputenc (utf8x) issue
References: <8bb43615-70dc-55b3-f5d7-149389d34af0@di.unimi.it>
Message-ID: <1ttjm0p9ksoqz.dlg@nililand.de>

Am Thu, 30 Jun 2022 15:09:51 +0200 (CEST) schrieb Walter Cazzola:

> Dear TeX-perts,
> I'm using TeX live 2022 with a full and up-to-date installation on a linux
> box.
> 
> Recently the combination between beamer and inputenc gives an error
> 
>    ! Argument of ? has an extra }.
>    <inserted text>
>                  \par
>    l.5 \begin{document}
> 
>    ?
>    Runaway argument?
>    ! Paragraph ended before ? was complete.
>    <to be read again>
>                     \par
>    l.5 \begin{document}
> 
> and pdflatex gives up on generating  the output.
> 
> This is a minimal example showing the issue:
> 
> \documentclass[a4paper]{beamer}
> 
> \usepackage[utf8x]{inputenc}
> 
> \begin{document}
> 
> \end{document}
> 
> The example is so minimal than this sounds as a bug to me but maybe I'm still
> doing something wrong. Attached you have the corresponding log file.
> 
> I know that the usage of utf8x is discouraged but this seems a bug that to
> some extends could impede its use also when is the only option.

I wrote the maintainer of ucs some weeks ago and told them what they
must do if they want to stay compatible with the changes in hyperref
(which followed changes in the utf8 handling in latex).

My advice is: don't to use utf8x/ucs anymore if it doesn't get
updated. It doesn't support the various improvement which have be
done in the utf8 handling in latex, for example you can't load files
with umlauts or use umlauts in \label with it.

See also https://github.com/latex3/hyperref/issues/248


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


