From axnnoindexr11 at gmail.com  Mon May  1 01:55:52 2017
From: axnnoindexr11 at gmail.com (=?UTF-8?B?Lum6u+mCo+awtOeEoQ==?=)
Date: Mon, 1 May 2017 08:55:52 +0900
Subject: [tex-live] Initial installing ptex package reports errors
Message-ID: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>

Dear tex-live list members,

I have a tlmgr (and fmtutil) bug.  However, I cannot find the solution
for fixed this bug.
I want feedback (, and a patch to fix tlmgr and fmtutil sources).


When I installed ptex package on texlive 2017 pretest, I got below errors:

```
# tlmgr install ptex
tlmgr: package repository http://ftp.math.utah.edu/pub/tlpretest (verified)
...
regenerating fmtutil.cnf in /usr/local/texlive/2017/texmf-dist
running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit
--no-error-if-no-format --byengine eptex ...

tlmgr: fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit
--no-error-if-no-format --byengine ptex failed (status 1), output:
fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence order):
fmtutil:   /usr/local/texlive/2017/texmf-dist/web2c/fmtutil.cnf
fmtutil: fmtutil is using the following fmtutil.cnf file for writing changes:
fmtutil:   /usr/local/texlive/2017/texmf-config/web2c/fmtutil.cnf
fmtutil [INFO]: writing formats under /usr/local/texlive/2017/texmf-var/web2c
fmtutil [INFO]: --- remaking ptex with ptex
fmtutil [ERROR]: not building ptex due to missing engine ptex.
fmtutil [INFO]: Disabled formats: 1
fmtutil [INFO]: Not selected formats: 20
fmtutil [INFO]: Failed to build: 1 (ptex/ptex)
fmtutil [INFO]: Total formats: 22
fmtutil [INFO]: exiting with status 1
...
tlmgr: package log updated: /usr/local/texlive/2017/texmf-var/web2c/tlmgr.log
tlmgr: An error has occurred. See above messages. Exiting.
# tlmgr install ptex
tlmgr: package repository http://ftp.math.utah.edu/pub/tlpretest (verified)
tlmgr install: package already present: ptex
```

This error raised by
https://www.tug.org/svn/texlive/trunk/Master/texmf-dist/scripts/texlive/fmtutil.pl?view=markup#l630.

tlmgr runs fmtutil when you install some package including engines.
Because TLUtils::which search only in $PATH env, fmtutil misses engine
installed by tlmgr in texlive local.

This bug can be fixed by adding texlive local bin directory to PATH env:

```
# export PATH=/usr/local/texlive/2017/bin/x86_64-linux:$PATH
# tlmgr install ptex
tlmgr: package repository http://ftp.math.utah.edu/pub/tlpretest (verified)
...
regenerating fmtutil.cnf in /usr/local/texlive/2017/texmf-dist
running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit
--no-error-if-no-format --byengine ptex ...
done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit
--no-error-if-no-format --byengine ptex.
running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit
--no-error-if-no-format --byengine eptex ...
done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit
--no-error-if-no-format --byengine eptex.
tlmgr: package log updated: /usr/local/texlive/2017/texmf-var/web2c/tlmgr.log
```

However, I'm a `tlmgr path add` user.  So, I'm finding another solutions.
The path action of tlmgr adds symlinks on /usr/local/bin.  That means:

```
# tlmgr install ptex
fmtutil raised errors
# tlmgr path add
# tlmgr install --reinstall ptex
no error
```

1. When `tlmgr install ptex`, tlmgr creates
/usr/local/texlive/2017/bin/x86_64-linux/ptex
2. Initial `fmtutil-sys ... --byengine ptex` miss local ptex script,
so, raise error
3. `tlmgr path add` creates /usr/local/bin/ptex ->
/usr/local/texlive/2017/bin/x86_64-linux/ptex
4. Second `fmtutil-sys ... --byengine ptex` by `tlmgr install
--reinstall ptex` find the symlink for the local ptex

Above steps are all.

I think TLUtils::which should also search texlive local directory
($Master/bin/$arch), but, I understand the fixing affects widely, too.

Is there anyone having the best solution?

Regards,

Nishiyama Shun,
A user of TeXLive

From preining at logic.at  Mon May  1 09:19:13 2017
From: preining at logic.at (Norbert Preining)
Date: Mon, 1 May 2017 16:19:13 +0900
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
Message-ID: <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>

Dear Shun,

> # tlmgr install ptex
[...]
> This bug can be fixed by adding texlive local bin directory to PATH env:
> # export PATH=/usr/local/texlive/2017/bin/x86_64-linux:$PATH

How did you invoke tlmgr? The above prompt
	# tlmgr ...
assumes that tlmgr is in the PATH, so should be also ptex.

If you invoked tlmgr with
	$ /usr/local/texlive/2017/bin/x86_64-linux/tlmgr install ptex
then, no, sorry, this does not work.

> However, I'm a `tlmgr path add` user.  So, I'm finding another solutions.

Yes, because then both tlmgr and ptex are in the PATH.

> I think TLUtils::which should also search texlive local directory
> ($Master/bin/$arch), but, I understand the fixing affects widely, too.

No, it should *not*. The current method is the correct one, because:
fmtutil rebuilds the engines by calling
	$engine $args
thus, if $engine is *not* in the PATH, it will not work.
Also, we need to make sure that kpsewhich and other bin programs
are in the PATH in the *correct* version to get the correct files.
 
> Is there anyone having the best solution?

Yes, either add the TL bin directory to the PATH, or do tlmgr path add,
these are the only solutions.

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From axnnoindexr11 at gmail.com  Mon May  1 10:33:57 2017
From: axnnoindexr11 at gmail.com (=?UTF-8?B?Lum6u+mCo+awtOeEoQ==?=)
Date: Mon, 1 May 2017 17:33:57 +0900
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
 <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
Message-ID: <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>

Dear Norbert,

I talk about my situations:

* I run `/usr/local/texlive/*/bin/*/tlmgr path add` only first.
* And, when I install engine packages, I run `tlmgr path add`.

When I install ptex package via tlmgr, the steps are:

1. tlmgr installs ptex package and creates
/usr/local/texlive/2017/x86_64-linux/ptex
2. tlmgr runs fmtutil for rebuilding and fmtutil search ptex in PATH env
3. But, ptex is not in PATH, so, fmtutil raises errors
4. Finally, tlmgr raises fmtutil errors

My cosidering:

* TL bin(/usr/local/texlive/2017/bin/x86_64-linux) is too specific
i.e. when I update texlive 2016 to 2017, I must change PATH bin.
* TeXLive provides `tlmgr path add` action, so, should provide correct
action for `tlmgr path add` user?
* tlmgr install ptex is wrong action initially

However, I have less understanding for TeXLive.
I think this is a bug for `tlmgr path add` users, but, maybe this is a
feature request, isn't?

> Also, we need to make sure that kpsewhich and other bin programs
> are in the PATH in the *correct* version to get the correct files.

Will this be applied to fmtutil?

Hope to hear from you.

Thanks

Nishiyama Shun

From preining at logic.at  Mon May  1 11:02:09 2017
From: preining at logic.at (Norbert Preining)
Date: Mon, 1 May 2017 18:02:09 +0900
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
 <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
 <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>
Message-ID: <20170501090209.vsv27mfynh45m2v2@burischnitzel.preining.info>

Dear Shun,

> * I run `/usr/local/texlive/*/bin/*/tlmgr path add` only first.
> * And, when I install engine packages, I run `tlmgr path add`.

I guess I see what you mean, what you *really* did is:

* basic installation, no ptex installed, PATH *not* adjusted
* then you called
	/usr/local/texlive/*/bin/*/tlmgr path add
* now tlmgr is being found in PATH
* then you called
	tlmgr install ptex
and here it breaks.

Yes, indeed. This is not supported (by now).

I don't see a good way to fix this, though ...

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Mon May  1 11:19:56 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 1 May 2017 11:19:56 +0200
Subject: [tex-live] BIBINPUTS and quoted pathes
Message-ID: <1ilvad6iey25q$.dlg@nililand.de>


I never used BIBINPUTS but due to a question I now saw that it
doesn't work with quoted pathes (in miktex neither). That means that
this here works fine (on windows 10):

C:\Users\XXX\Documents\tests>set
BIBINPUTS=C:\Users\XXX\Documents\tests\tex

C:\Users\XXX\Documents\tests>bibtex test-utf8
This is BibTeX, Version 0.99d (TeX Live 2017/W32TeX)
The top-level auxiliary file: test-utf8.aux
The style file: plain.bst
Database file #1: testxxxxx.bib


while this here breaks:

C:\Users\XXX\Documents\tests>set
BIBINPUTS="C:\Users\XXX\Documents\tests\tex"

C:\Users\XXX\Documents\tests>bibtex test-utf8
This is BibTeX, Version 0.99d (TeX Live 2017/W32TeX)
The top-level auxiliary file: test-utf8.aux
The style file: plain.bst
I couldn't open database file testxxxxx.bib


Is this to be expected. And if yes how do one set it then for pathes
with spaces?



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at fuk.kindai.ac.jp  Mon May  1 15:11:48 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 1 May 2017 22:11:48 +0900
Subject: [tex-live] BIBINPUTS and quoted pathes
In-Reply-To: <1ilvad6iey25q$.dlg@nililand.de>
References: <1ilvad6iey25q$.dlg@nililand.de>
Message-ID: <7C7FD5F793204820AF057477BBE0A4E6@CJ3001517A>

Dear Ulrike,

> BIBINPUTS="C:\Users\XXX\Documents\tests\tex"
>
> C:\Users\XXX\Documents\tests>bibtex test-utf8
> This is BibTeX, Version 0.99d (TeX Live 2017/W32TeX)
> The top-level auxiliary file: test-utf8.aux
> The style file: plain.bst
> I couldn't open database file testxxxxx.bib
>
>
> Is this to be expected. And if yes how do one set it then for pathes
> with spaces?

Yes that is expected, because BIBINPUTS is
"C:\Users\XXX\Documents\tests\tex" including quotation mark " in cmd.exe,
that is not an existing path.
In the case of paths with spaces, setting it is easy:
set BIBINPUTS=C:/Users/XXX YYY ZZZ/Documents/tests/tex//;C:/other dirs/a//

I recommend forward slashes instead of backward slashes.

Best,
Akira


From kakuto at fuk.kindai.ac.jp  Mon May  1 15:58:14 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 1 May 2017 22:58:14 +0900
Subject: [tex-live] BIBINPUTS and quoted pathes
Message-ID: <8CFD16761D9847FA85ACA264684A16F1@CJ3001517A>

> Yes that is expected, because BIBINPUTS is
> "C:\Users\XXX\Documents\tests\tex" including quotation mark " in cmd.exe,
> that is not an existing path.

This is the same for TEXINPUTS:
set TEXINPUTS="c:/some dir/a b c//";
does not work, but
set TEXINPUTS=c:/some dir/a b c//;
works in cmd.exe.

Best,
Akira


From axnnoindexr11 at gmail.com  Tue May  2 06:46:53 2017
From: axnnoindexr11 at gmail.com (=?UTF-8?B?Lum6u+mCo+awtOeEoQ==?=)
Date: Tue, 2 May 2017 13:46:53 +0900
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <20170501090209.vsv27mfynh45m2v2@burischnitzel.preining.info>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
 <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
 <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>
 <20170501090209.vsv27mfynh45m2v2@burischnitzel.preining.info>
Message-ID: <CALW+CeSCVdLTE37MBbTcxaHjrjZ7RqiMFxMqELKtTBHN2dK6jQ@mail.gmail.com>

Dear Norbert,

I see.
Now, I try to use another way.

Make a symlink on `/usr/local/texlive/texbin` to TL bin directory.
This way works for me.

However, I will think about it for using `tlmgr path add`.

Thanks

Nishiyama Shun

From preining at logic.at  Tue May  2 09:09:10 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 02 May 2017 09:09:10 +0200
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <CALW+CeSCVdLTE37MBbTcxaHjrjZ7RqiMFxMqELKtTBHN2dK6jQ@mail.gmail.com>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
 <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
 <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>
 <20170501090209.vsv27mfynh45m2v2@burischnitzel.preining.info>
 <CALW+CeSCVdLTE37MBbTcxaHjrjZ7RqiMFxMqELKtTBHN2dK6jQ@mail.gmail.com>
Message-ID: <44ACCB7A-CDAA-41BB-94C7-45C819F82A44@logic.at>

Please wait a moment, we will try to fix it on our side according to your suggestion.

Thanks

Norbert

On May 2, 2017 6:46:53 AM GMT+02:00, ".????" <axnnoindexr11 at gmail.com> wrote:
>Dear Norbert,
>
>I see.
>Now, I try to use another way.
>
>Make a symlink on `/usr/local/texlive/texbin` to TL bin directory.
>This way works for me.
>
>However, I will think about it for using `tlmgr path add`.
>
>Thanks
>
>Nishiyama Shun

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From news3 at nililand.de  Tue May  2 12:05:36 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 2 May 2017 12:05:36 +0200
Subject: [tex-live] BIBINPUTS and quoted pathes
References: <1ilvad6iey25q$.dlg@nililand.de>
 <7C7FD5F793204820AF057477BBE0A4E6@CJ3001517A>
Message-ID: <qos9v9ypcs5o.dlg@nililand.de>

Am Mon, 1 May 2017 22:11:48 +0900 schrieb Akira Kakuto:

Dear  Akira,

>> BIBINPUTS="C:\Users\XXX\Documents\tests\tex"
>>
>> C:\Users\XXX\Documents\tests>bibtex test-utf8
>> This is BibTeX, Version 0.99d (TeX Live 2017/W32TeX)
>> The top-level auxiliary file: test-utf8.aux
>> The style file: plain.bst
>> I couldn't open database file testxxxxx.bib
>>
>>
>> Is this to be expected. And if yes how do one set it then for pathes
>> with spaces?
 
> Yes that is expected, because BIBINPUTS is
> "C:\Users\XXX\Documents\tests\tex" including quotation mark " in cmd.exe,
> that is not an existing path.
> In the case of paths with spaces, setting it is easy:
> set BIBINPUTS=C:/Users/XXX YYY ZZZ/Documents/tests/tex//;C:/other dirs/a//

Thanks -- but I wished they never had allowed the damn spaces, quote
or not to quote is always the question. 



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From mojca.miklavec.lists at gmail.com  Tue May  2 19:00:19 2017
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 2 May 2017 19:00:19 +0200
Subject: [tex-live] Support for OpenBSD
Message-ID: <CALBOmsYyOgV0A010y+uzqi-ha0Sma6zMogZcBRK3NpxtuFXcRw@mail.gmail.com>

Hi,

I would like to ask if there is any demand for OpenBSD binaries in TL
/ whether we should add the binaries.



Quick summary:

- OpenBSD gets a new release every 6 months.

- Binaries for one release are *incompatible* for the other.

- Two versions are supported at any time (at the moment that's 6.0 and
6.1; 6.1 has been released in April).

- Opinion of some OpenBSD user: one should always use the latest
release. If one doesn't, it's his/her problem. That is: if TL is to
provide support for binaries, it's perfectly OK to support just the
latest release. (Keeping in mind that in October 2017 support for 6.2
should then be added; 6.1 could either be removed then or during the
freeze period in preparation for TL2018.)

- The problem is that OpenBSD currently only supports TL 2015 from the
package manager. TL 2016 is nearly ready, but from what I understand
that means that it will only make it into version 6.2 in October 2017,
so in the best case TL 2017 might make it into 6.3 in April 2018
(maybe I'm wrong though).

- ConTeXt from TL 2015 is basically "useless" which makes TL 2017 more
valuable. We can make a ConTeXt distro ourselves without depending on
TL, but it's still easier if we take all the base binaries from TL.

- Sources can be compiled since a few days ago, but one still needs a
tiny hack to be able to do it, it doesn't work out of the box.

- (The last few points explain why providing TL binaries is somewhat
more important.)

- We have the OpenBSD builds working nearly automatically, so it's not
a questions of whether or not we can/want to provide binaries, but
rather whether or not we need them (I know of at least one user who
would benefit - not me, but in all honesty I don't know how many
potential users we have).


Some other things:

- If we accept the binaries, I would strongly suggest to call them
    {i386|amd64}-openbsd6.1 or
    {i386|amd64}-openbsd61
or something along the lines rather than just "openbsd" to prevent
users of 6.0 or 6.2 accidentally downloading binaries that are broken
for them. Someone would need to introduce a patch to the perl code for
platform name.

- We would probably want/have to add binaries for 6.2 in October.

- I still have issues building wget (the same problems are present on
Mac and Solaris, it's just that wget developers defended workarounds
for these two platforms). The problem should either have to be fixed
or the users could install wget with their package manager, but that's
not really a problem (I've heard that Linux arch users don't get wget
with their distro, so it's not that much different).

Mojca

From karl at freefriends.org  Tue May  2 23:36:40 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 2 May 2017 21:36:40 GMT
Subject: [tex-live] Support for OpenBSD
In-Reply-To: <CALBOmsYyOgV0A010y+uzqi-ha0Sma6zMogZcBRK3NpxtuFXcRw@mail.gmail.com>
Message-ID: <201705022136.v42Lae3j019604@freefriends.org>

It seems like a waste of space and time to me to enshrine binaries in TL
which get intentionally obsoleted every six months.

Instead, I would prefer the binaries for whichever versions you want to
build be available on the net (which they are already, I know, thanks to
your efforts) and installed with -custom-bin.

That way, openbsd users can choose the set relevant to them without
being distracted by whatever version TL included (which, I would guess,
would be either too old or too new for the majority of users).
--thanks, karl.

From karl at freefriends.org  Wed May  3 00:25:17 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 2 May 2017 22:25:17 GMT
Subject: [tex-live] collection merging
Message-ID: <201705022225.v42MPHCQ024582@freefriends.org>

I'm wondering about merging a few more of the small collections,
primarily just to make the lists shorter and simpler. See lists below;
the numbers to the left of the c-name are the sizes in megabytes,
numbers to the right are the number of packages in that
collection. "collection-" is abbreviated to "c-".

For languages, I wonder if we could get away with putting langafrican
and langindic (both of which are tiny) into langother.

For non-languages, what comes to mind is to merge plainextra,
genericrecommended, and genericextra (all tiny, and those distinctions
don't seem important nowadays...) into, say, c-genericplain.

Also, c-htmlxml is only a few packages:
  classpack jadetex lwarp passivetex tex4ht xmltex xmltexconfig

jadetex, passivetex, and xmltex are essentially unused these days. They
could go to c-otherformats. I think c-omega could go there too. (Maybe
scheme-xml can be deleted too, while we're at it.)

As for classpack, tex4ht, and lwarp, they can fit somewhere else, e.g.,
latexrecommended/extra, genericplain, somewhere.

I feel doubtful that anyone (de)selects the above collections
individually.

Any comments? Is the whole idea of more collection merging worth
pursuing at all?  --thanks, karl.

-----------------------------------------------------------------------------
 414 c-langjapanese    43        1052 c-fontsextra        255
 161 c-langchinese     22         598 c-latexextra       1148
 145 c-langkorean      12         343 c-pstricks           99
 142 c-langenglish     60         223 c-publishers        173
  99 c-langgreek       25         211 c-context            53
  54 c-langgerman      49         193 c-pictures          160
  52 c-langother       28         190 c-fontsrecommended   34
  47 c-langcyrillic    43         115 c-bibtexextra       128
  41 c-langczechslovak 28         106 c-latex              40
  41 c-langfrench      32          92 c-xetex              50
  37 c-langarabic      15          91 c-latexrecommended   59
  26 c-langcjk         14          84 c-mathscience       163
  24 c-langeuropean    64          83 c-binextra          161
  24 c-langpolish      27          80 c-basic              55
  16 c-langportuguese   9          56 c-music              31
  11 c-langindic       15          51 c-metapost           44
  10 c-langspanish     14          40 c-htmlxml            21
  10 c-langafrican      4          29 c-humanities         51
   8 c-langitalian     16          23 c-genericextra       51
                                   18 c-luatex             39
                                   15 c-fontutils          31
                                   15 c-games              32
                                   15 c-formatsextra       21
                                   11 c-omega              10
                                    7 c-plainextra         24
                                    7 c-genericrecommended  9
                                    1 c-wintools            1
                                    0 c-texworks            1


P.S. For the record, the above output is from the tlpkg/bin/tlpsizes
utility script in the repository, with a little editing after.

From zdenek.wagner at gmail.com  Wed May  3 00:35:57 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 3 May 2017 00:35:57 +0200
Subject: [tex-live] collection merging
In-Reply-To: <201705022225.v42MPHCQ024582@freefriends.org>
References: <201705022225.v42MPHCQ024582@freefriends.org>
Message-ID: <CAC1phyYr7fg-sjvLaV-FtzxpSiODgdtLCVc3iw1G_fdYBdbBxg@mail.gmail.com>

I do not know how many users actually select individua languages instead of
just installing averything but I am afraid that such users might be
confused if they do not see lang-indic and lang-african. I have no problem
with merging other packages.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-05-03 0:25 GMT+02:00 Karl Berry <karl at freefriends.org>:

> I'm wondering about merging a few more of the small collections,
> primarily just to make the lists shorter and simpler. See lists below;
> the numbers to the left of the c-name are the sizes in megabytes,
> numbers to the right are the number of packages in that
> collection. "collection-" is abbreviated to "c-".
>
> For languages, I wonder if we could get away with putting langafrican
> and langindic (both of which are tiny) into langother.
>
> For non-languages, what comes to mind is to merge plainextra,
> genericrecommended, and genericextra (all tiny, and those distinctions
> don't seem important nowadays...) into, say, c-genericplain.
>
> Also, c-htmlxml is only a few packages:
>   classpack jadetex lwarp passivetex tex4ht xmltex xmltexconfig
>
> jadetex, passivetex, and xmltex are essentially unused these days. They
> could go to c-otherformats. I think c-omega could go there too. (Maybe
> scheme-xml can be deleted too, while we're at it.)
>
> As for classpack, tex4ht, and lwarp, they can fit somewhere else, e.g.,
> latexrecommended/extra, genericplain, somewhere.
>
> I feel doubtful that anyone (de)selects the above collections
> individually.
>
> Any comments? Is the whole idea of more collection merging worth
> pursuing at all?  --thanks, karl.
>
> ------------------------------------------------------------
> -----------------
>  414 c-langjapanese    43        1052 c-fontsextra        255
>  161 c-langchinese     22         598 c-latexextra       1148
>  145 c-langkorean      12         343 c-pstricks           99
>  142 c-langenglish     60         223 c-publishers        173
>   99 c-langgreek       25         211 c-context            53
>   54 c-langgerman      49         193 c-pictures          160
>   52 c-langother       28         190 c-fontsrecommended   34
>   47 c-langcyrillic    43         115 c-bibtexextra       128
>   41 c-langczechslovak 28         106 c-latex              40
>   41 c-langfrench      32          92 c-xetex              50
>   37 c-langarabic      15          91 c-latexrecommended   59
>   26 c-langcjk         14          84 c-mathscience       163
>   24 c-langeuropean    64          83 c-binextra          161
>   24 c-langpolish      27          80 c-basic              55
>   16 c-langportuguese   9          56 c-music              31
>   11 c-langindic       15          51 c-metapost           44
>   10 c-langspanish     14          40 c-htmlxml            21
>   10 c-langafrican      4          29 c-humanities         51
>    8 c-langitalian     16          23 c-genericextra       51
>                                    18 c-luatex             39
>                                    15 c-fontutils          31
>                                    15 c-games              32
>                                    15 c-formatsextra       21
>                                    11 c-omega              10
>                                     7 c-plainextra         24
>                                     7 c-genericrecommended  9
>                                     1 c-wintools            1
>                                     0 c-texworks            1
>
>
> P.S. For the record, the above output is from the tlpkg/bin/tlpsizes
> utility script in the repository, with a little editing after.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170503/9e88e185/attachment.html>

From karl at freefriends.org  Wed May  3 00:42:26 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 02 May 2017 16:42:26 -0600
Subject: [tex-live] collection merging
In-Reply-To: <CAC1phyYr7fg-sjvLaV-FtzxpSiODgdtLCVc3iw1G_fdYBdbBxg@mail.gmail.com> (message
 from Zdenek Wagner on Wed, 3 May 2017 00:35:57 +0200)
Message-ID: <86pofqswx9.fsf@frenzy.freefriends.org>

    such users might be confused 

That would argue for no c-langother at all, because the languages
currently there (thai, vietnamese, hebrew, and more) would have the same
problem. But the fact is that there have been zero reports of confusion,
as far as I've seen. I find it difficult to believe that
c-lang{indic,african} somehow differ from the languages already in
langother. So it still seems plausible to me ... --thanks, karl.

From kbrow1i at gmail.com  Wed May  3 05:08:46 2017
From: kbrow1i at gmail.com (Ken Brown)
Date: Tue, 2 May 2017 23:08:46 -0400
Subject: [tex-live] collection merging
In-Reply-To: <201705022225.v42MPHCQ024582@freefriends.org>
References: <201705022225.v42MPHCQ024582@freefriends.org>
Message-ID: <195eb386-cab2-ae0b-a632-3f0469654601@gmail.com>

On 5/2/2017 6:25 PM, Karl Berry wrote:
> I'm wondering about merging a few more of the small collections,
> primarily just to make the lists shorter and simpler.

I'm in favor of shortening and simplification.  People who just choose one of 
the schemes aren't affected, but people who choose individual collections might 
well find the current list bewildering.  In particular, I agree with all of the 
specific suggestions you made.

Ken

From witiko at mail.muni.cz  Wed May  3 12:53:32 2017
From: witiko at mail.muni.cz (=?iso-8859-1?Q?V=EDt_Novotn=FD?=)
Date: Wed, 3 May 2017 12:53:32 +0200
Subject: [tex-live] md5.sumhexa unavailable in luatex from the pretest TL
	2017
Message-ID: <20170503105332.36dzv2ljwndvdbhr@inspiron>

Hi,

I noticed that if I execute the following script:

    require"md5"
    print(md5.sum)
    print(md5.sumhexa)
    print(md5.crypt)
    print(md5.decrypt)
    print(md5.exor)

using the texlua binary from TL 2017 pretest, I receive the following
output:

    function: 0x5f3280
    nil
    function: 0x5f32e0
    function: 0x5f30c0
    function: 0x5f3430

instead of

    function: 0x5f2910
    function: 0x1cfdc30
    function: 0x5f2970
    function: 0x5f2760
    function: 0x5f2ac0

which is what I get with the texlua binary from TL 2016.

The `md5.sumhexa` method is a part of the md5 library interface [1] and
the luatex manual makes no mention about modifying the library. I can
easily work around the missing method in my package, but this seems as a
bug.

 [1]: http://www.inf.puc-rio.br/~roberto/md5/md5-5/md5.html

Best Regards,
V?t Novotn?

From luecking at uark.edu  Wed May  3 19:46:58 2017
From: luecking at uark.edu (Daniel H. Luecking)
Date: Wed, 3 May 2017 17:46:58 +0000
Subject: [tex-live] collection merging
Message-ID: <MWHPR04MB05266D3AA06C4C39554CFBE0B9160@MWHPR04MB0526.namprd04.prod.outlook.com>

Zdenek Wagner wrote:

>I do not know how many users actually select individua languages instead of
>just installing averything but I am afraid that such users might be
>confused if they do not see lang-indic and lang-african. I have no problem
>with merging other packages.

I deselect all non-European language collections individually
but also collection-langother, so I would not be confused if
langindic and langafrican (and langarabic, langcjk, etc.)
disappeared into langother.

The same is true of htmlxml, omega, etc., if they
were moved into formatsextra, as I deselect all those too.


Finally, I am OK with  merging plainextra, genericrecommended, and genericextra

as I always keep all of those.

Dan

Daniel H. Luecking, Graduate Coordinator
Dept. of Mathematical Sciences
University of Arkansas
Fayetteville, AR, USA

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170503/66f4a40b/attachment.html>

From zdenek.wagner at gmail.com  Wed May  3 20:00:43 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 3 May 2017 20:00:43 +0200
Subject: [tex-live] collection merging
In-Reply-To: <MWHPR04MB05266D3AA06C4C39554CFBE0B9160@MWHPR04MB0526.namprd04.prod.outlook.com>
References: <MWHPR04MB05266D3AA06C4C39554CFBE0B9160@MWHPR04MB0526.namprd04.prod.outlook.com>
Message-ID: <CAC1phyaj46CkGVLUSeM0jSgM6r7EaRLPjRYCbQTuLkbw4n38dA@mail.gmail.com>

2017-05-03 19:46 GMT+02:00 Daniel H. Luecking <luecking at uark.edu>:

> *Zdenek Wagner* wrote:
>
>
>
> >I do not know how many users actually select individua languages instead
> of
>
> >just installing averything but I am afraid that such users might be
>
> >confused if they do not see lang-indic and lang-african. I have no problem
>
> >with merging other packages.
>
>
>
> I deselect all non-European language collections individually
>
> but also collection-langother, so I would not be confused if
>
> langindic and langafrican (and langarabic, langcjk, etc.)
>
> disappeared into langother.
>

This might be a problem for indologists who need just a few European
languages and Indic and nothing else. I do not know whther they find it in
langotherwithout complaining first that the Indic support disappear. It is
not a problem for me personally because I always install everything.

>
>
> The same is true of htmlxml, omega, etc., if they
>
> were moved into formatsextra, as I deselect all those too.
>
>
>
> Finally, I am OK with  merging plainextra, genericrecommended, and genericextra
>
> as I always keep all of those.
>
>
>
> Dan
>
>
>
> Daniel H. Luecking, Graduate Coordinator
>
> Dept. of Mathematical Sciences
>
> University of Arkansas
>
> Fayetteville, AR, USA
>
>
>


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170503/3b32de32/attachment.html>

From d.p.carlisle at gmail.com  Wed May  3 20:54:50 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 3 May 2017 19:54:50 +0100
Subject: [tex-live] collection merging
In-Reply-To: <CAC1phyaj46CkGVLUSeM0jSgM6r7EaRLPjRYCbQTuLkbw4n38dA@mail.gmail.com>
References: <MWHPR04MB05266D3AA06C4C39554CFBE0B9160@MWHPR04MB0526.namprd04.prod.outlook.com>
 <CAC1phyaj46CkGVLUSeM0jSgM6r7EaRLPjRYCbQTuLkbw4n38dA@mail.gmail.com>
Message-ID: <CAEW6iOgWN7eQKC3A_sjUhHuGtmcOWTBtG73g=PKfjSsXnzMndw@mail.gmail.com>

> jadetex, passivetex, and xmltex are essentially unused these days.

moving those to any collection (especially one that suggests they shouldn't
be used) is fine by me.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170503/166c9031/attachment.html>

From karl at freefriends.org  Wed May  3 22:49:49 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 3 May 2017 20:49:49 GMT
Subject: [tex-live] collection merging
In-Reply-To: <CAC1phyaj46CkGVLUSeM0jSgM6r7EaRLPjRYCbQTuLkbw4n38dA@mail.gmail.com>
Message-ID: <201705032049.v43Knn9h027929@freefriends.org>

    This might be a problem for indologists who need just a few European
    languages and Indic and nothing else.

I am highly skeptical that c-langindic is installed by anyone on its
own, these days. The situation was different 15 years ago.

I plan to make the proposed changes in the next day or two. -k

From kakuto at fuk.kindai.ac.jp  Thu May  4 00:20:58 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 4 May 2017 07:20:58 +0900
Subject: [tex-live] md5.sumhexa unavailable in luatex from the pretest
	TL2017
In-Reply-To: <20170503105332.36dzv2ljwndvdbhr@inspiron>
References: <20170503105332.36dzv2ljwndvdbhr@inspiron>
Message-ID: <CE943BB8979B46E2B593B9580D3DEECE@CJ3001517A>

Dear V?t,

> The `md5.sumhexa` method is a part of the md5 library interface [1] and
> the luatex manual makes no mention about modifying the library. I can
> easily work around the missing method in my package, but this seems as a bug.

Fixed in r44176 in TeX Live SVN:

--- luastuff.w.orig    Sat Mar 11 09:31:06 2017
+++ luastuff.w    Thu May 04 07:07:47 2017
@@ -293,6 +293,8 @@
     lua_pushcfunction(L,luatex_loadfile);
     lua_setglobal(L, "loadfile");

+    luatex_md5_lua_open(L);
+
     open_oslibext(L);
     open_strlibext(L);
     open_lfslibext(L);

Thanks for the report.

Akira


From usenet at siart.de  Thu May  4 07:23:07 2017
From: usenet at siart.de (Uwe Siart)
Date: Thu, 04 May 2017 07:23:07 +0200
Subject: [tex-live] [pretest] collection not found
Message-ID: <84k25x2o1w.fsf@siart.de>

Since today's update I keep getting

,----
| d:\>tlmgr update --list
| tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest/ (not verified: gnupg not available)
| tlmgr.pl: Strange, collection-otherformats mentioned but not found anywhere!
| skipping forcibly removed package collection-otherformats
| tlmgr.pl: no updates available
`----

Do I need to take some local action to fix this?

-- 
Uwe


From witiko at mail.muni.cz  Thu May  4 09:50:58 2017
From: witiko at mail.muni.cz (=?iso-8859-1?Q?V=EDt_Novotn=FD?=)
Date: Thu, 4 May 2017 09:50:58 +0200
Subject: [tex-live] md5.sumhexa unavailable in luatex from the pretest
 TL2017
In-Reply-To: <CE943BB8979B46E2B593B9580D3DEECE@CJ3001517A>
References: <20170503105332.36dzv2ljwndvdbhr@inspiron>
 <CE943BB8979B46E2B593B9580D3DEECE@CJ3001517A>
Message-ID: <20170504075058.iwiwowrq4xgxg6ih@inspiron>

On Thu, May 04, 2017 at 07:20:58AM +0900, Akira Kakuto wrote:
> Dear V?t,
> 
> > The `md5.sumhexa` method is a part of the md5 library interface [1] and
> > the luatex manual makes no mention about modifying the library. I can
> > easily work around the missing method in my package, but this seems as a bug.
> 
> Fixed in r44176 in TeX Live SVN:
> 
> --- luastuff.w.orig    Sat Mar 11 09:31:06 2017
> +++ luastuff.w    Thu May 04 07:07:47 2017
> @@ -293,6 +293,8 @@
>     lua_pushcfunction(L,luatex_loadfile);
>     lua_setglobal(L, "loadfile");
> 
> +    luatex_md5_lua_open(L);
> +
>     open_oslibext(L);
>     open_strlibext(L);
>     open_lfslibext(L);
> 
> Thanks for the report.

Hello Akira,

thank you for the response. Is the binary going to be rebuild prior to
the TL 2017 release, or should I assume that this bug may appear in the
release version and update my packages accordingly?

Best Regards,
V?t

> 
> Akira

From preining at logic.at  Thu May  4 10:01:15 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 4 May 2017 17:01:15 +0900
Subject: [tex-live] md5.sumhexa unavailable in luatex from the pretest
 TL2017
In-Reply-To: <20170504075058.iwiwowrq4xgxg6ih@inspiron>
References: <20170503105332.36dzv2ljwndvdbhr@inspiron>
 <CE943BB8979B46E2B593B9580D3DEECE@CJ3001517A>
 <20170504075058.iwiwowrq4xgxg6ih@inspiron>
Message-ID: <20170504080115.6d5ey4t2rdua54wx@burischnitzel.preining.info>

> thank you for the response. Is the binary going to be rebuild prior to
> the TL 2017 release, or should I assume that this bug may appear in the
> release version and update my packages accordingly?

Yes, the binaries will be rebuild.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at fuk.kindai.ac.jp  Thu May  4 10:03:17 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 4 May 2017 17:03:17 +0900
Subject: [tex-live] md5.sumhexa unavailable in luatex from the pretest
	TL2017
In-Reply-To: <20170504075058.iwiwowrq4xgxg6ih@inspiron>
References: <20170503105332.36dzv2ljwndvdbhr@inspiron>
 <CE943BB8979B46E2B593B9580D3DEECE@CJ3001517A>
 <20170504075058.iwiwowrq4xgxg6ih@inspiron>
Message-ID: <D99E3BD6A1C944538B788AE13DF1E951@CJ3001517A>

> Is the binary going to be rebuild prior to
> the TL 2017 release, or should I assume that this bug may appear in the
> release version and update my packages accordingly?

My patch may be redundant. I believe that the authors will give
a correct answer.
If the present binaries are not correct, I believe they will be
rebuilt in the TL release.

Best,
Akira


From usenet at siart.de  Thu May  4 12:30:10 2017
From: usenet at siart.de (Uwe Siart)
Date: Thu, 04 May 2017 12:30:10 +0200
Subject: [tex-live] [pretest] collection not found
References: <84k25x2o1w.fsf@siart.de>
Message-ID: <848tmc7w3x.fsf@siart.de>

Uwe Siart <usenet at siart.de> writes:

> Since today's update I keep getting
>
> ,----
> | d:\>tlmgr update --list
> | tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest/ (not verified: gnupg not available)
> | tlmgr.pl: Strange, collection-otherformats mentioned but not found anywhere!
> | skipping forcibly removed package collection-otherformats
> | tlmgr.pl: no updates available
> `----

>From the messages above I guessed that --reinstall-forcibly-removed
might help, but then:

,----
| d:\>tlmgr update --reinstall-forcibly-removed --all
| tlmgr.pl: Strange, collection-otherformats mentioned but not found anywhere!
| 
| tlmgr.pl: Should not happen: collection-otherformats not found in ftp://ftp.cstug.cz/pub/local/tlpretest/
| tlmgr.pl: action update returned an error; continuing.
| tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest/ (not verified: gnupg not available)
| tlmgr.pl: no updates available
| tlmgr.pl: An error has occurred. See above messages. Exiting.
`----

-- 
Uwe


From vdesj086 at uottawa.ca  Thu May  4 17:21:44 2017
From: vdesj086 at uottawa.ca (=?UTF-8?Q?Val=C3=A9rie_Desjardins?=)
Date: Thu, 4 May 2017 11:21:44 -0400
Subject: [tex-live] TeX Live Utility - Listings Failed - gpg
Message-ID: <CAPeEKw0rL_j8-7z4=rxUCR347g3=eSKxSm1WYdRZPo9FfgkEWg@mail.gmail.com>

Hello!

I'm trying to update my packages, but TeX Live Utility 2016 is saying
'Listings Failed' instead of showing the updates available. The packages
show up under the packages just fine, but not under updates. I have looked
for solutions online, but this seems like a unique problem with the tlmgr,
and the gpg. In fact, even when trying to update the tlmgr from the
terminal, it gives me an error as well. Both seem to be a problem with the
gpg, but being really new with programming and using computers more in
depth, I have no idea how to fix this.

*The error log from Tex Live Utility:*

2017-05-04 15:04:02 +0000 Notice +[TLMEnvironment initialize][5332] Welcome
to TeX Live Utility 1.26, running under Mac OS X Version 10.7.5 (Build
11G63b) with 4/4 processors active and 4.0 GB physical memory. 2017-05-04
15:04:02 +0000 Notice +[TLMEnvironment _checkProcessUmask][5332] Process
umask = 022 2017-05-04 15:04:02 +0000 Notice +[TLMEnvironment
updateEnvironment][5332] Setting up a new environment for
/usr/local/texlive/2016? 2017-05-04 15:04:02 +0000 Notice +[TLMEnvironment
updatePathEnvironment][5332] Using PATH = "( "/usr/bin", "/bin",
"/usr/sbin", "/sbin", "/Library/TeX/texbin" )" 2017-05-04 15:04:02 +0000
Notice +[TLMEnvironment _checkSystemPythonMajorVersion:minorVersion:][5332]
Using python at '/usr/bin/python' 2017-05-04 15:04:02 +0000 Notice
+[TLMEnvironment _checkSystemPythonMajorVersion:minorVersion:][5332] Python
version is 2.7.1 (r271:86832, Jun 16 2011, 16:59:05) [GCC 4.2.1 (Based on
Apple Inc. build 5658) (LLVM build 2335.15.00)] 2017-05-04 15:04:02 +0000
Notice +[TLMEnvironment updateEnvironment][5332] Nothing to update for
/usr/local/texlive/2016 2017-05-04 15:04:02 +0000 Notice -[TLMDatabase
_downloadDatabaseHead][5332] Checking the repository version. Please be
patient. 2017-05-04 15:04:02 +0000 Notice -[TLMDatabase
_downloadDatabaseHead][5332] Downloading at least 2048 bytes of tlpdb for a
version check? 2017-05-04 15:04:02 +0000 Notice -[TLMDatabase
_downloadDatabaseHead][5332] Downloaded 65536 bytes of tlpdb for version
check 2017-05-04 15:04:02 +0000 Notice -[TLMEnvironment
initWithInstallDirectory:][5332] Looks like you're using TeX Live 2016
2017-05-04 15:04:02 +0000 Notice +[TLMEnvironment _logEnvironment][5332]
Current environment from /usr/bin/env: __CF_USER_TEXT_ENCODING=0x1F5:0:0
Apple_PubSub_Socket_Render=/tmp/launch-ojE7Gr/Render
Apple_Ubiquity_Message=/tmp/launch-22QhrF/Apple_Ubiquity_Message
CC_FOR_BUILD=no_compiler_found COMMAND_MODE=unix2003
DISPLAY=/tmp/launch-r04yHY/org.x:0 HOME=/Users/BennettLab
LOGNAME=BennettLab PATH=/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin
SHELL=/bin/bash SSH_AUTH_SOCK=/tmp/launch-vPg7Ri/Listeners
TMPDIR=/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/ USER=BennettLab
2017-05-04 15:04:02 +0000 Notice -[TLMEnvironment
_checkForRootPrivileges][5332] Root permission required for installation at
/usr/local/texlive/2016 2017-05-04 15:04:02 +0000 Notice +[TLMEnvironment
updateEnvironment][5332] Nothing to update for /usr/local/texlive/2016
2017-05-04 15:04:02 +0000 Notice -[TLMDatabase _reloadFromLocalFile][5332]
Reloading local tlpdb from
file://localhost/usr/local/texlive/2016/tlpkg/texlive.tlpdb 2017-05-04
15:04:06 +0000 Notice -[TLMDatabase _reloadFromLocalFile][5332] Took 3.74
seconds to reload local tlpdb 2017-05-04 15:04:08 +0000 Notice
-[TLMAuthorizedOperation main][5332] Checking code signature before running
tlu_ipctask as root? 2017-05-04 15:04:08 +0000 Notice
/usr/bin/codesign[5332] /Applications/TeX/TeX Live
Utility.app/Contents/MacOS/tlu_ipctask: valid on disk /Applications/TeX/TeX
Live Utility.app/Contents/MacOS/tlu_ipctask: satisfies its Designated
Requirement 2017-05-04 15:04:08 +0000 Notice -[TLMAuthorizedOperation
main][5332] Signature was valid, okay to run tlu_ipctask 2017-05-04
15:04:09 +0000 Notice -[TLMMainWindowController
_paperSizeCheckTerminated:][5332] System paper size = letter, pdftex paper
size = letter 2017-05-04 15:04:11 +0000 Notice -[TLMAuthorizedOperation
main][5332] Invoking privileged task via AuthorizationExecuteWithPrivileges
2017-05-04 15:04:11 +0000 Notice tlu_ipctask[5386] dropped privileges to
user nobody 2017-05-04 15:04:12 +0000 Notice -[TLMAuthorizedOperation
setWrapperPID:][5332] tlu_ipctask checking in: tlu_ipctask pid = 5386
2017-05-04 15:04:12 +0000 Notice -[TLMAuthorizedOperation
setUnderlyingPID:][5332] tlu_ipctask checking in: pid = 5387
(/Library/TeX/texbin/tlmgr --machine-readable --repository
http://www.preining.info/tlgpg/ --persistent-downloads install --reinstall
tlgpg) 2017-05-04 15:04:12 +0000 Notice tlu_ipctask[5386] tlu_ipctask:
child HOME = '/var/root' 2017-05-04 15:04:12 +0000 Notice tlu_ipctask[5386]
tlu_ipctask: current HOME = '/var/empty' 2017-05-04 15:04:14 +0000 Warning
tlu_ipctask[5386] sh: line 1: 5426 Segmentation fault: 11
"/usr/local/texlive/2016/tlpkg/installer/gpg/gpg.x86_64-darwin" --homedir
"/usr/local/texlive/2016/tlpkg/gpg" --no-secmem-warning
--no-permission-warning --lock-never --status-file
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/EcFVudDxgH/VdCpfr4OSC"
--verify
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/EcFVudDxgH/Vg7HLPQBzx"
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/EcFVudDxgH/KKZiQHpiUS"
2>&1 2017-05-04 15:04:14 +0000 Warning tlu_ipctask[5386] tlmgr:
verification of checksum for http://www.preining.info/tlgpg/ failed:
cryptographic signature verification of 2017-05-04 15:04:14 +0000 Warning
tlu_ipctask[5386]
/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/EcFVudDxgH/KKZiQHpiUS
2017-05-04 15:04:14 +0000 Warning tlu_ipctask[5386] against 2017-05-04
15:04:14 +0000 Warning tlu_ipctask[5386]
http://www.preining.info/tlgpg//tlpkg/texlive.tlpdb.sha512.asc 2017-05-04
15:04:14 +0000 Warning tlu_ipctask[5386] failed. Output was 2017-05-04
15:04:14 +0000 Warning tlu_ipctask[5386] 2017-05-04 15:04:14 +0000 Warning
tlu_ipctask[5386] Please report to texlive at tug.org 2017-05-04 15:04:14
+0000 Warning tlu_ipctask[5386] 2017-05-04 15:04:14 +0000 Notice
-[TLMAuthorizedOperation _runUntilChildExit][5332] kqueue noted that pid
5387 exited (/Library/TeX/texbin/tlmgr --machine-readable --repository
http://www.preining.info/tlgpg/ --persistent-downloads install --reinstall
tlgpg) 2017-05-04 15:04:14 +0000 Notice tlu_ipctask[5386] child process pid
= 5387 exited 2017-05-04 15:04:15 +0000 Error tlu_ipctask[5386] Value of
errno is Operation not permitted 2017-05-04 15:04:15 +0000 Error
tlu_ipctask[5386] ** ERROR ** exit status of pid = 5387 was 1 2017-05-04
15:04:15 +0000 Notice -[TLMAuthorizedOperation _runUntilChildExit][5332]
waitpid returned 5386, WIFEXITED(256) = 1, errno = 0 (No error) 2017-05-04
15:04:15 +0000 Notice -[TLMAuthorizedOperation _runUntilChildExit][5332]
kqueue noted that tlu_ipctask (pid = 5386) exited with status 1 2017-05-04
15:04:15 +0000 Notice -[TLMDatabase _downloadDatabaseHead][5332] Checking
the repository version. Please be patient. 2017-05-04 15:04:15 +0000 Notice
-[TLMDatabase _downloadDatabaseHead][5332] Downloading at least 2048 bytes
of tlpdb for a version check? 2017-05-04 15:04:17 +0000 Notice
-[TLMDatabase connection:willSendRequest:redirectResponse:][5332]
redirected request to
http://muug.ca/mirror/ctan/systems/texlive/tlnet/tlpkg/texlive.tlpdb 2017-05-04
15:04:19 +0000 Notice -[TLMDatabase _downloadDatabaseHead][5332] Downloaded
8420 bytes of tlpdb for version check 2017-05-04 15:04:19 +0000 Notice
-[TLMEnvironment _getValidServerURL:repositoryYear:fromURL:][5332]
Repository version appears to be 2016; a mature TeX Live 2017-05-04
15:04:19 +0000 Notice -[TLMMainWindowController
_refreshUpdatedPackageListFromLocation:][5332] Refreshing list of updated
packages? 2017-05-04 15:04:19 +0000 Notice -[TLMLogWindowController
awakeFromNib][5332] Loaded log window controller 2017-05-04 15:04:23 +0000
Notice -[TLMOperation main][5332] Failed executing /Library/TeX/texbin/tlmgr
--machine-readable --repository
http://muug.ca/mirror/ctan/systems/texlive/tlnet/ update --list --all (error
1) 2017-05-04 15:04:23 +0000 Notice -[TLMOperation main][5332] sh: line 1:
5470 Segmentation fault: 11
"/usr/local/texlive/2016/tlpkg/installer/gpg/gpg.x86_64-darwin" --homedir
"/usr/local/texlive/2016/tlpkg/gpg" --no-secmem-warning
--no-permission-warning --lock-never --status-file
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/pJLN0SpoLA/uf66Q6pcz4"
--verify
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/pJLN0SpoLA/VTlWvWSWM6"
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/pJLN0SpoLA/TQXM8K_Z4F"
2>&1 /Library/TeX/texbin/tlmgr: signature verification error of
/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/pJLN0SpoLA/CCDvPsc0dz from
http://muug.ca/mirror/ctan/systems/texlive/tlnet//tlpkg/texlive.tlpdb:
cryptographic signature verification of
/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/pJLN0SpoLA/TQXM8K_Z4F
against
http://muug.ca/mirror/ctan/systems/texlive/tlnet//tlpkg/texlive.tlpdb.sha512.asc
failed.
Output was

Please report to texlive at tug.org

*The error log from tlmgr in the Terminal:*

sh: line 1: 5544 Segmentation fault: 11
"/usr/local/texlive/2016/tlpkg/installer/gpg/gpg.x86_64-darwin" --homedir
"/usr/local/texlive/2016/tlpkg/gpg" --no-secmem-warning
--no-permission-warning --lock-never --status-file
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/4q_QvbX0_Z/mvucnE5mpb"
--verify
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/4q_QvbX0_Z/lmTO10lY92"
"/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/4q_QvbX0_Z/l9CdXuUREi"
2>&1 /Library/TeX/texbin/tlmgr: signature verification error of
/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/4q_QvbX0_Z/17X9e04Hvo from
http://ctan.forsale.plus/systems/texlive/tlnet/tlpkg/texlive.tlpdb:
cryptographic signature verification of
/var/folders/m5/j5tzzztd415gz6b668bstchr0000gn/T/4q_QvbX0_Z/l9CdXuUREi
against
http://ctan.forsale.plus/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed.
Output was

Please report to texlive at tug.org

Thank you!

Valerie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170504/75905be8/attachment-0001.html>

From P.Taylor at Rhul.Ac.Uk  Thu May  4 17:45:45 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 4 May 2017 16:45:45 +0100
Subject: [tex-live] TeX Live Utility - Listings Failed - gpg
In-Reply-To: <CAPeEKw0rL_j8-7z4=rxUCR347g3=eSKxSm1WYdRZPo9FfgkEWg@mail.gmail.com>
References: <CAPeEKw0rL_j8-7z4=rxUCR347g3=eSKxSm1WYdRZPo9FfgkEWg@mail.gmail.com>
Message-ID: <54ddecb4-5c7f-0fdf-07c7-044f7eea0df4@Rhul.Ac.Uk>



Val?rie Desjardins wrote:
>
> Hello!
>
> I'm trying to update my packages, but TeX Live Utility 2016 is saying 'Listings Failed' instead of showing the updates available. The packages show up under the packages just fine, but not under updates. I have looked for solutions online, but this seems like a unique problem with the tlmgr, and the gpg. In fact, even when trying to update the tlmgr from the terminal, it gives me an error as well. Both seem to be a problem with the gpg, but being really new with programming and using computers more in depth, I have no idea how to fix this.
>
No idea what the "gpg" is, but the most likely cause is that there are no longer updates available for TeX Live 2016 now that TeX Live 2017 has entered pre-test.
Philip Taylor

From mojca.miklavec.lists at gmail.com  Thu May  4 17:51:55 2017
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 4 May 2017 17:51:55 +0200
Subject: [tex-live] TeX Live Utility - Listings Failed - gpg
In-Reply-To: <54ddecb4-5c7f-0fdf-07c7-044f7eea0df4@Rhul.Ac.Uk>
References: <CAPeEKw0rL_j8-7z4=rxUCR347g3=eSKxSm1WYdRZPo9FfgkEWg@mail.gmail.com>
 <54ddecb4-5c7f-0fdf-07c7-044f7eea0df4@Rhul.Ac.Uk>
Message-ID: <CALBOmsa+5ADkGfz+Zh=7gr=pUOMnSvobxyLWcWW7CzCQ6VvS8Q@mail.gmail.com>

On 4 May 2017 at 17:45, Philip Taylor wrote:
> Val?rie Desjardins wrote:
>>
>> Hello!
>>
>> I'm trying to update my packages, but TeX Live Utility 2016 is saying 'Listings Failed' instead of showing the updates available. The packages show up under the packages just fine, but not under updates. I have looked for solutions online, but this seems like a unique problem with the tlmgr, and the gpg. In fact, even when trying to update the tlmgr from the terminal, it gives me an error as well. Both seem to be a problem with the gpg, but being really new with programming and using computers more in depth, I have no idea how to fix this.
>>
> No idea what the "gpg" is,

It checks signature of packages and makes sure that whatever you
fetched matches whatever was built by the TL team.

> but the most likely cause is that there are no longer updates available for TeX Live 2016 now that TeX Live 2017 has entered pre-test.

No, that's not the same problem.

This segmentation fault could be caused by a binary that's not
supported on OS X 10.7, but I don't know if that's in fact the case.

Mojca


From zdenek.wagner at gmail.com  Thu May  4 17:53:39 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 4 May 2017 17:53:39 +0200
Subject: [tex-live] TeX Live Utility - Listings Failed - gpg
In-Reply-To: <54ddecb4-5c7f-0fdf-07c7-044f7eea0df4@Rhul.Ac.Uk>
References: <CAPeEKw0rL_j8-7z4=rxUCR347g3=eSKxSm1WYdRZPo9FfgkEWg@mail.gmail.com>
 <54ddecb4-5c7f-0fdf-07c7-044f7eea0df4@Rhul.Ac.Uk>
Message-ID: <CAC1phyaxT7Tf8SYKcOYdUd=1ZBAZBgkG5H1-ApxTYGy9w62ssg@mail.gmail.com>

2017-05-04 17:45 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Val?rie Desjardins wrote:
> >
> > Hello!
> >
> > I'm trying to update my packages, but TeX Live Utility 2016 is saying
> 'Listings Failed' instead of showing the updates available. The packages
> show up under the packages just fine, but not under updates. I have looked
> for solutions online, but this seems like a unique problem with the tlmgr,
> and the gpg. In fact, even when trying to update the tlmgr from the
> terminal, it gives me an error as well. Both seem to be a problem with the
> gpg, but being really new with programming and using computers more in
> depth, I have no idea how to fix this.
> >
> No idea what the "gpg" is, but the most likely cause is that there are no
> longer updates available for TeX Live 2016 now that TeX Live 2017 has
> entered pre-test.
>

gpg is a free encryption software that allows to verify digital signature
of the packages. It ensures authenticity of te packages but it is not
necesary, installation is possible even without it. Anyway, although TL
2016 is frozen, it should be pssible to update to the latest version if you
have not updated for a while.


> Philip Taylor
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170504/3f38d9a4/attachment.html>

From preining at logic.at  Thu May  4 22:10:51 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 5 May 2017 05:10:51 +0900
Subject: [tex-live] TeX Live Utility - Listings Failed - gpg
In-Reply-To: <CAPeEKw0rL_j8-7z4=rxUCR347g3=eSKxSm1WYdRZPo9FfgkEWg@mail.gmail.com>
References: <CAPeEKw0rL_j8-7z4=rxUCR347g3=eSKxSm1WYdRZPo9FfgkEWg@mail.gmail.com>
Message-ID: <20170504201051.iy2xwfvcsplrlxoj@burischnitzel.preining.info>

Hi,

> I'm trying to update my packages, but TeX Live Utility 2016 is saying
> 'Listings Failed' instead of showing the updates available. The packages

Can you try the following:
* open a terminal
* type in
	sudo tlmgr remove tlgpg
* try again with TLU

Does this change anything?

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From reinhard.kotucha at web.de  Thu May  4 23:36:13 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 4 May 2017 23:36:13 +0200
Subject: [tex-live] BIBINPUTS and quoted pathes
In-Reply-To: <qos9v9ypcs5o.dlg@nililand.de>
References: <1ilvad6iey25q$.dlg@nililand.de>
 <7C7FD5F793204820AF057477BBE0A4E6@CJ3001517A>
 <qos9v9ypcs5o.dlg@nililand.de>
Message-ID: <22795.40653.218281.275411@zaphod.ms25.net>

On 2017-05-02 at 12:05:36 +0200, Ulrike Fischer wrote:

 > Am Mon, 1 May 2017 22:11:48 +0900 schrieb Akira Kakuto:
 > 
 > Dear  Akira,
 > 
 > >> BIBINPUTS="C:\Users\XXX\Documents\tests\tex"
 > >>
 > >> C:\Users\XXX\Documents\tests>bibtex test-utf8
 > >> This is BibTeX, Version 0.99d (TeX Live 2017/W32TeX)
 > >> The top-level auxiliary file: test-utf8.aux
 > >> The style file: plain.bst
 > >> I couldn't open database file testxxxxx.bib
 > >>
 > >>
 > >> Is this to be expected. And if yes how do one set it then for pathes
 > >> with spaces?
 >  
 > > Yes that is expected, because BIBINPUTS is
 > > "C:\Users\XXX\Documents\tests\tex" including quotation mark " in cmd.exe,
 > > that is not an existing path.
 > > In the case of paths with spaces, setting it is easy:
 > > set BIBINPUTS=C:/Users/XXX YYY ZZZ/Documents/tests/tex//;C:/other dirs/a//
 > 
 > Thanks -- but I wished they never had allowed the damn spaces, quote
 > or not to quote is always the question. 

The "damn spaces" are allowed because users of GUIs expect them to be
allowed.  They want to use comprehesible file names and don't want to
care about the underlying operating system.

Hence avoiding spaces completely is neither desired nor possible.
Both, operating systems and programs have to support them.

Unix avoids spaces in file names completely but allows users to use
them for their own files.  Given that improper quoting is risky, this
is certainly a good compromise.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From preining at logic.at  Thu May  4 23:43:50 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 5 May 2017 06:43:50 +0900
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <44ACCB7A-CDAA-41BB-94C7-45C819F82A44@logic.at>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
 <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
 <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>
 <20170501090209.vsv27mfynh45m2v2@burischnitzel.preining.info>
 <CALW+CeSCVdLTE37MBbTcxaHjrjZ7RqiMFxMqELKtTBHN2dK6jQ@mail.gmail.com>
 <44ACCB7A-CDAA-41BB-94C7-45C819F82A44@logic.at>
Message-ID: <20170504214350.mvfkrrchx4rqfoxu@burischnitzel.preining.info>

> Please wait a moment, we will try to fix it on our side according to your suggestion.

Should be fixed with the next rebuild, or patch yourself with the following code:
http://git.preining.info/texlive.git/commit/?id=ec13a012595b88e782dc4a1e3a428ba82683c147

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Thu May  4 23:54:13 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 4 May 2017 23:54:13 +0200
Subject: [tex-live] BIBINPUTS and quoted pathes
References: <1ilvad6iey25q$.dlg@nililand.de>
 <7C7FD5F793204820AF057477BBE0A4E6@CJ3001517A> <qos9v9ypcs5o.dlg@nililand.de>
 <22795.40653.218281.275411@zaphod.ms25.net>
Message-ID: <1br0gmvlp3fu1.dlg@nililand.de>

Am Thu, 4 May 2017 23:36:13 +0200 schrieb Reinhard Kotucha:

>  > Thanks -- but I wished they never had allowed the damn spaces, quote
>  > or not to quote is always the question. 
> 
> The "damn spaces" are allowed because users of GUIs expect them to be
> allowed.  They want to use comprehesible file names and don't want to
> care about the underlying operating system.

I personally don't find them comprehensible - I don't know where
they end and handling the quoting (or not quoting) is a constant
source of problems. But I know what you mean and I know that the
struggle against spaces is long lost -- I was simply a bit
exasparated ;-)

 
-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From axnnoindexr11 at gmail.com  Fri May  5 05:47:40 2017
From: axnnoindexr11 at gmail.com (=?UTF-8?B?Lum6u+mCo+awtOeEoQ==?=)
Date: Fri, 5 May 2017 12:47:40 +0900
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <20170504214350.mvfkrrchx4rqfoxu@burischnitzel.preining.info>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
 <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
 <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>
 <20170501090209.vsv27mfynh45m2v2@burischnitzel.preining.info>
 <CALW+CeSCVdLTE37MBbTcxaHjrjZ7RqiMFxMqELKtTBHN2dK6jQ@mail.gmail.com>
 <44ACCB7A-CDAA-41BB-94C7-45C819F82A44@logic.at>
 <20170504214350.mvfkrrchx4rqfoxu@burischnitzel.preining.info>
Message-ID: <CALW+CeR7M0h0A44at1Wkm+4sojYRs6ZK6Bu5rHnzvHXjVt4bbw@mail.gmail.com>

> Should be fixed with the next rebuild, or patch yourself with the following code:
> http://git.preining.info/texlive.git/commit/?id=ec13a012595b88e782dc4a1e3a428ba82683c147

This patch works great!  And, current pretest works, too.

Very thanks, Norbert.

Nishiyama Shun

From usenet at siart.de  Fri May  5 07:16:58 2017
From: usenet at siart.de (Uwe Siart)
Date: Fri, 05 May 2017 07:16:58 +0200
Subject: [tex-live] [pretest] collection not found
References: <84k25x2o1w.fsf@siart.de> <848tmc7w3x.fsf@siart.de>
Message-ID: <8437cjx4qd.fsf@siart.de>

Uwe Siart <usenet at siart.de> writes:

> tlmgr.pl: Strange, collection-otherformats mentioned but not found anywhere!
> tlmgr.pl: Should not happen: collection-otherformats not found in ftp://ftp.cstug.cz/pub/local/tlpretest/

Disappeared today. Thanks.

-- 
Uwe


From list1 at michaelshell.org  Fri May  5 08:48:59 2017
From: list1 at michaelshell.org (Michael Shell)
Date: Fri, 5 May 2017 02:48:59 -0400
Subject: [tex-live] BIBINPUTS and quoted pathes
In-Reply-To: <1br0gmvlp3fu1.dlg@nililand.de>
References: <1ilvad6iey25q$.dlg@nililand.de>
 <7C7FD5F793204820AF057477BBE0A4E6@CJ3001517A>
 <qos9v9ypcs5o.dlg@nililand.de>
 <22795.40653.218281.275411@zaphod.ms25.net>
 <1br0gmvlp3fu1.dlg@nililand.de>
Message-ID: <20170505024859.feece6f8b200851cad7f48f2@michaelshell.org>

On Thu, 4 May 2017 23:54:13 +0200
Ulrike Fischer <news3 at nililand.de> wrote:

> I personally don't find them comprehensible - I don't know where
> they end and handling the quoting (or not quoting) is a constant
> source of problems. But I know what you mean and I know that the
> struggle against spaces is long lost -- I was simply a bit
> exasparated ;-)


+1
Sigh.

And the underscore is such a great solution to the problem,
if only people would use it.


  Cheers,

  Mike Shell

From preining at logic.at  Fri May  5 16:44:00 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 5 May 2017 23:44:00 +0900
Subject: [tex-live] Initial installing ptex package reports errors
In-Reply-To: <CALW+CeR7M0h0A44at1Wkm+4sojYRs6ZK6Bu5rHnzvHXjVt4bbw@mail.gmail.com>
References: <CALW+CeQjJk5C78NK0mnUN6a5bCLbgz4guMQVamd6Df_yu0bXvA@mail.gmail.com>
 <20170501071913.p4vkx6zxcnb6p5l2@burischnitzel.preining.info>
 <CALW+CeRutHK79RQUu3Tp7q1ZyCxhwPCgysg+tJa1ggb-4ognAA@mail.gmail.com>
 <20170501090209.vsv27mfynh45m2v2@burischnitzel.preining.info>
 <CALW+CeSCVdLTE37MBbTcxaHjrjZ7RqiMFxMqELKtTBHN2dK6jQ@mail.gmail.com>
 <44ACCB7A-CDAA-41BB-94C7-45C819F82A44@logic.at>
 <20170504214350.mvfkrrchx4rqfoxu@burischnitzel.preining.info>
 <CALW+CeR7M0h0A44at1Wkm+4sojYRs6ZK6Bu5rHnzvHXjVt4bbw@mail.gmail.com>
Message-ID: <20170505144400.4y3nj5vjvf6woxli@burischnitzel.preining.info>

> This patch works great!  And, current pretest works, too.

Thanks for testing.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From damien at thiriet.web4me.fr  Fri May  5 19:27:23 2017
From: damien at thiriet.web4me.fr (damien at thiriet.web4me.fr)
Date: Fri, 5 May 2017 19:27:23 +0200 (CEST)
Subject: [tex-live] Support for OpenBSD
Message-ID: <1935215492.1011457.1494005243139.JavaMail.zimbra@thiriet.web4me.fr>

Hello,


I am the OpenBSD user asking for binaries. I totally agree with the idea that a custom-bin install should be sufficient.
I made today an install for my 64-bits thin clients, it works, thanks a lot for that great job.
The binaries where the one provided by Mojca on contextgarden.net.
To have a better understanding of texlive, I tried also to find them on texlive servers, searching different links from
texlive.org, but did not succeed.
I think this is a non relevant issue, because the website still documents 2016 release and I use pre-2017 binaries.
I will search for a link after the official release.

Best regards,


Damien Thiriet

From damien at thiriet.web4me.fr  Fri May  5 20:58:15 2017
From: damien at thiriet.web4me.fr (damien at thiriet.web4me.fr)
Date: Fri, 5 May 2017 20:58:15 +0200 (CEST)
Subject: [tex-live] beamer dependencies
Message-ID: <2122206630.1014830.1494010695275.JavaMail.zimbra@thiriet.web4me.fr>

Hello,


I made today a fresh install from texlive with a minimal set of packages. The idea is to have only what is strictly needed on my disk.
When I tried to compile (lualatex) a "hello word" beamer after installing beamer, I had error messages with missing .sty documents.
I read beamer.cls and noticed, that it recquires package ucs that is not listed in texlive as a dependency.
Even after installing ucs, my install was incomplete, and I had to look for everyshi.sty. Loading the package ms
solved the problem.

Could ucs and ms be added as beamer dependencies ?
As far as I understand, ms is rather a dependency for pgfcore, but I could not find which package relies on it. 

I know anywhay that it is an old problem: a few years ago, I had a texlive install on my Arch Linux and had also to look for this everyshi.sty
file and several others. I remember there was a lot of posts related to searching this file.

Best regards,


Damien T.

Here is my hello world file :

\documentclass[11pt,noamsmath]{beamer}

\usepackage{polyglossia}

\setdefaultlanguage{french}


\setmainfont{Latin Modern Roman}
\setsansfont{Latin Modern Sans}
\setmonofont{Latin Modern Mono}

\title{bla??}
\author{Damien Thiriet}
\date{}


\begin{document}
\maketitle

\begin{frame}
   \frametitle{Un test}
   Hello world
\end{frame}
\end{document}


From d.p.carlisle at gmail.com  Fri May  5 23:45:20 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 5 May 2017 22:45:20 +0100
Subject: [tex-live] beamer dependencies
In-Reply-To: <2122206630.1014830.1494010695275.JavaMail.zimbra@thiriet.web4me.fr>
References: <2122206630.1014830.1494010695275.JavaMail.zimbra@thiriet.web4me.fr>
Message-ID: <CAEW6iOh9pEsv4BX4D2zGqqEfP6oWh0-P0kx8k=j_fP-sMbo2wg@mail.gmail.com>

Your test file doesn't load ucs, beamer only loads ucs if the ucs (or
utf8x) option is given

\DeclareOptionBeamer{ucs}{%
 ...
      \RequirePackage{ucs}%


so I don't think it's correct to say ucs is a dependency, it's just a
package you can optionally load.



everyshi is required by pgf, it isn't (directly) a dependency of beamer,
pgfutil-layer.def does \RequirePackage{everyshi}

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170505/10f03355/attachment.html>

From zdenek.wagner at gmail.com  Sat May  6 00:09:01 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 6 May 2017 00:09:01 +0200
Subject: [tex-live] beamer dependencies
In-Reply-To: <CAEW6iOh9pEsv4BX4D2zGqqEfP6oWh0-P0kx8k=j_fP-sMbo2wg@mail.gmail.com>
References: <2122206630.1014830.1494010695275.JavaMail.zimbra@thiriet.web4me.fr>
 <CAEW6iOh9pEsv4BX4D2zGqqEfP6oWh0-P0kx8k=j_fP-sMbo2wg@mail.gmail.com>
Message-ID: <CAC1phyZzxASM1SXbmY9RyGH0oJsOr0E7egnxrzkDmsV82f4Ccw@mail.gmail.com>

Even if it was a dependency, the TeX Live design goal is not to provide
dependencies between packages. It is divided into collections and if you
install a collection, you get certain packages. If you install a package,
there is no guarantee that you have everything needed for its use.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-05-05 23:45 GMT+02:00 David Carlisle <d.p.carlisle at gmail.com>:

> Your test file doesn't load ucs, beamer only loads ucs if the ucs (or
> utf8x) option is given
>
> \DeclareOptionBeamer{ucs}{%
>  ...
>       \RequirePackage{ucs}%
>
>
> so I don't think it's correct to say ucs is a dependency, it's just a
> package you can optionally load.
>
>
>
> everyshi is required by pgf, it isn't (directly) a dependency of beamer,
> pgfutil-layer.def does \RequirePackage{everyshi}
>
> David
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170506/f11f0d2f/attachment.html>

From mojca.miklavec.lists at gmail.com  Sat May  6 00:16:44 2017
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 6 May 2017 00:16:44 +0200
Subject: [tex-live] beamer dependencies
In-Reply-To: <CAC1phyZzxASM1SXbmY9RyGH0oJsOr0E7egnxrzkDmsV82f4Ccw@mail.gmail.com>
References: <2122206630.1014830.1494010695275.JavaMail.zimbra@thiriet.web4me.fr>
 <CAEW6iOh9pEsv4BX4D2zGqqEfP6oWh0-P0kx8k=j_fP-sMbo2wg@mail.gmail.com>
 <CAC1phyZzxASM1SXbmY9RyGH0oJsOr0E7egnxrzkDmsV82f4Ccw@mail.gmail.com>
Message-ID: <CALBOmsZiC+ivTZVnALV9vx-S4PU6pmejWK8ryZfEF3dik7em3g@mail.gmail.com>

On 6 May 2017 at 00:09, Zdenek Wagner wrote:
> Even if it was a dependency, the TeX Live design goal is not to provide
> dependencies between packages. It is divided into collections and if you
> install a collection, you get certain packages. If you install a package,
> there is no guarantee that you have everything needed for its use.

I would use a different explanation.

Given how many packages we have and given that nearly no packages
provide meta information about their dependencies (like it is common
nowadays with pypi or any other modules), it is not reasonable to
expect that all dependencies get listed. But it never hurts to fix
this for individual packages.

Mojca

From zdenek.wagner at gmail.com  Sat May  6 14:36:12 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 6 May 2017 14:36:12 +0200
Subject: [tex-live] beamer dependencies
In-Reply-To: <CALBOmsZiC+ivTZVnALV9vx-S4PU6pmejWK8ryZfEF3dik7em3g@mail.gmail.com>
References: <2122206630.1014830.1494010695275.JavaMail.zimbra@thiriet.web4me.fr>
 <CAEW6iOh9pEsv4BX4D2zGqqEfP6oWh0-P0kx8k=j_fP-sMbo2wg@mail.gmail.com>
 <CAC1phyZzxASM1SXbmY9RyGH0oJsOr0E7egnxrzkDmsV82f4Ccw@mail.gmail.com>
 <CALBOmsZiC+ivTZVnALV9vx-S4PU6pmejWK8ryZfEF3dik7em3g@mail.gmail.com>
Message-ID: <CAC1phybBKLJ8BC-asMMXb9fSBC6suLQwiRYGW0F+mEaXKEVZdA@mail.gmail.com>

017-05-06 0:16 GMT+02:00 Mojca Miklavec <mojca.miklavec.lists at gmail.com>:

> ...
>
> I would use a different explanation.
>
> Given how many packages we have and given that nearly no packages
> provide meta information about their dependencies (like it is common
> nowadays with pypi or any other modules), it is not reasonable to
> expect that all dependencies get listed. But it never hurts to fix
> this for individual packages.
>

Just a question, when uploading a package to CTAN, is there a way how
specify the dependencies in a machine parsable way?

>
> Mojca
>


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170506/ee5934db/attachment.html>

From karl at freefriends.org  Sun May  7 00:13:29 2017
From: karl at freefriends.org (Karl Berry)
Date: Sat, 6 May 2017 22:13:29 GMT
Subject: [tex-live] beamer dependencies
In-Reply-To: <CAC1phybBKLJ8BC-asMMXb9fSBC6suLQwiRYGW0F+mEaXKEVZdA@mail.gmail.com>
Message-ID: <201705062213.v46MDTTf027106@freefriends.org>

    when uploading a package to CTAN, is there a way how specify the
    dependencies in a machine parsable way?

No.

And, as I and others have written (many many times) before, and as
exemplified by David's latest answer, there is a theoretical
problem. Package A often loads package B [recurse here] only if some
option is set. So B should not be listed as a hard requirement of A;
whether B is needed is only known at *runtime*. No static analysis of
TeX programs is going to be useful.

Therefore, as I've also said many times before, I think dynamic loading
of packages a la MiKTeX is the only robust mechanism. Unfortunately,
barring some capable and committed new volunteer (Norbert and I have
asked for such plenty of times, with [unsurprisingly] zero response), I
don't see it happening in TL. -k

From zdenek.wagner at gmail.com  Sun May  7 03:29:21 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 7 May 2017 03:29:21 +0200
Subject: [tex-live] beamer dependencies
In-Reply-To: <201705062213.v46MDTTf027106@freefriends.org>
References: <CAC1phybBKLJ8BC-asMMXb9fSBC6suLQwiRYGW0F+mEaXKEVZdA@mail.gmail.com>
 <201705062213.v46MDTTf027106@freefriends.org>
Message-ID: <CAC1phya9EGBphAYEOdxzxNxDXawb2ZhuTj9FUcXhWjjKFopkow@mail.gmail.com>

2017-05-07 0:13 GMT+02:00 Karl Berry <karl at freefriends.org>:

>     when uploading a package to CTAN, is there a way how specify the
>     dependencies in a machine parsable way?
>
> No.
>
> And, as I and others have written (many many times) before, and as
> exemplified by David's latest answer, there is a theoretical
> problem. Package A often loads package B [recurse here] only if some
> option is set. So B should not be listed as a hard requirement of A;
> whether B is needed is only known at *runtime*. No static analysis of
> TeX programs is going to be useful.
>

I know, it even applies to my zwpagelayout.

>
> Therefore, as I've also said many times before, I think dynamic loading
> of packages a la MiKTeX is the only robust mechanism. Unfortunately,
> barring some capable and committed new volunteer (Norbert and I have
> asked for such plenty of times, with [unsurprisingly] zero response), I
> don't see it happening in TL. -k
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170507/29155253/attachment.html>

From wujastyk at gmail.com  Mon May  8 05:05:48 2017
From: wujastyk at gmail.com (Dominik Wujastyk)
Date: Sun, 7 May 2017 21:05:48 -0600
Subject: [tex-live] on installing pretest,
 the "create symlinks in system directories" option has no effect
Message-ID: <CAKdt-CdyDgukyeqvk42DJMh+igStrGmZRtCDyQh7TMTw9FuSuA@mail.gmail.com>

Using install-tl-20170506

Linux Mint 18.1

My installation log file is attached.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170507/3e8a4e41/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: install-tl.log
Type: text/x-log
Size: 36988 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170507/3e8a4e41/attachment-0001.bin>

From preining at logic.at  Mon May  8 06:53:58 2017
From: preining at logic.at (Norbert Preining)
Date: Mon, 8 May 2017 13:53:58 +0900
Subject: [tex-live] on installing pretest,
 the "create symlinks in system directories" option has no effect
In-Reply-To: <CAKdt-CdyDgukyeqvk42DJMh+igStrGmZRtCDyQh7TMTw9FuSuA@mail.gmail.com>
References: <CAKdt-CdyDgukyeqvk42DJMh+igStrGmZRtCDyQh7TMTw9FuSuA@mail.gmail.com>
Message-ID: <20170508045358.rzxeflsxu6kcwc47@burischnitzel.preining.info>

Hi Dominik,

> Subject: Re: [tex-live] on installing pretest, the "create symlinks in system
> directories" option has no effect

This has been the case now for many years. We stopped doing hte symlinks
automatically, and leave it to the user with
	tlmgr path [add|remove]
The reason is that it is anyway a bad idea to rely on this mechanism, due 
to programs added, removed during tlmgr update runs, which will not be
reflected in the symlinks.

Better to add the TL bin dir to the PATH.

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From d.p.carlisle at gmail.com  Mon May  8 13:54:27 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 8 May 2017 12:54:27 +0100
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
Message-ID: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>

Scaling by small values in xetex/xdvipdfmx
==========================================


Short Version
=============

Would it be possible for (x)dvipdfm(x) when giving this warning

WARN("Transformation matrix not invertible.");

to anyway scale by the specified transform, or to scale by the
smallest invertible transformation that it can handle.
Or failing that could it use some more numerically stable
test than calculating the determinant.

The overwhelmingly most common transform is a scale factor
which is invertible if the x and y scale are non zero but
calculating the determinant squares the scale factor and
so gets very small and hits the test det < 1.e-8 used by the driver.

Currently small scale factors that trigger this warning leave the text
unscaled.


Long version
============


(x)dvipdfm(x) unlike dvips or pdftex or luatex gives an error on
transformation matrices that are close to being non-invertible and
does not apply the transformation.

This is especially noticeable in xetex where by default the  warnings
from xdvipdfmx are obscured, but the end result is that text fails to
scale.

In this test file with xelatex only 1234 is scaled, ABCDEFG and WXYZ
stay at their normal size using xetex if using the xetex.def from

https://github.com/latex3/graphics-def

If you use the current version of xetex.def from texlive then all
three scale. The difference is

https://github.com/latex3/graphics-def/commit/02e549d7fd34b76cf8df1c5cdda399
7f12473959


The texlive 2016 version of xetex.def uses a pdfliteral to implement
scaling

pdf:literal \Gscale at x\space 0 0 \Gscale at y\space 0 0 cm

specifically to avoid this dvipdfm driver warning.

However this has been reverted to use the

\special{x:gsave}\special{x:scale \Gscale at x\space\Gscale at y}


specials as used in texlive 2014 as otherwise nested links from using
the bann special do not use the transformed coordinate system so the
link annotation appears in the wrong place.

The test file has local definitions of the scale code so should show the
same
issue whichever version of xetex.def is used.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass{article}

\usepackage{graphics,hyperref,parskip}

\begin{document}

\textbf{x:scale: wrong small scaling, but good link area}

\makeatletter
\def\Gscale at start{%
  \special{x:gsave}%
  \special{x:scale \Gscale at x\space\Gscale at y}
  }

\makeatother

[\scalebox{0.00001}{ABCDEFG}]

[\scalebox{0.000001}[0.001]{WXYZ}]

[\scalebox{0.000001}[0.01]{1234}]

\scalebox{2}{\href{abc}{abc}}

\bigskip
\textbf{pdf:literal: correct small scaling, but bad link area}

\makeatletter
\def\Gscale at start{%
  \special{x:gsave}%
  \special{pdf:literal \Gscale at x\space 0 0 \Gscale at y\space 0 0 cm}
  }
\makeatother
[\scalebox{0.00001}{ABCDEFG}]

[\scalebox{0.000001}[0.001]{WXYZ}]

[\scalebox{0.000001}[0.01]{1234}]

\scalebox{2}{\href{abc}{abc}}
\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%


xdvipdfmx warns:

xdvipdfmx:warning: Transformation matrix not invertible.
xdvipdfmx:warning: --- M = [1e-05 0 0 1e-05 79.4811 -62.764]
xdvipdfmx:warning: Transformation matrix not invertible.
xdvipdfmx:warning: --- M = [1e-06 0 0 0.001 79.4819 -74.6451]

despite the fact that both those matrices are clearly invertible.

The xdvipdfmx sources (pdfdraw.c) have


  if (fabs(detP(M)) < 1.e-8) {
    WARN("Transformation matrix not invertible.");
    WARN("--- M = [%g %g %g %g %g %g]",
         M->a, M->b, M->c, M->d, M->e, M->f);
    return -1;


As noted above this will give the zero determinant warning


Even if the transform really is non-invertible for example

\scalebox{0}{oops}

It would probably be less surprising if the text was scaled to nothing
(with a warning) rather than not scaled at all.

The PDF Reference manual observes that such transformations are not
illegal in PDF but may not work as expected:

> Note:
>
> When rendering graphics objects, it is sometimes necessary for an
> application to perform the inverse of a transformation?that is, to
> find the user space coordinates that correspond to a given pair of
> device space coordinates.  Not all transformations are invertible,
> however. For example, if a matrix contains a, b, c, and d elements
> that are all zero, all user coordinates map to the same device
> coordinates and there is no unique inverse transformation. Such
> noninvertible transformations are not very useful and generally arise
> from unintended operations, such as scaling by 0. Use of a
> noninvertible matrix when painting graphics objects can result in
> un-predictable behavior.


See these two stackexchange questions

Example of small scaling that fails in xetex

https://tex.stackexchange.com/questions/328825

Example of mis-placed link annotations with xetex

https://tex.stackexchange.com/a/368385
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170508/78180a60/attachment.html>

From denis.bitouze at univ-littoral.fr  Mon May  8 14:54:03 2017
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Mon, 08 May 2017 14:54:03 +0200
Subject: [tex-live] Install file of the TL should have unique name
Message-ID: <m3fugfik5w.fsf@example.com>

Hi there,

after the following discussion:

  ?????
  ? http://tug.org/pipermail/tex-live/2014-January/034704.html
  ?????

install files of the TL used to have unique names.

But I noticed that's not the case anymore with the up to date TL 2016:
there are:

  ?????
  ? install-tl-windows.bat
  ? install-tl-windows.exe
  ?????

and some students of mine to who I provided this up to date TL 2016
didn't succeed to install it because they double-clicked on the `.exe'
instead of the `.bat' file.

It would be worth to fix this for TL 2017.

All the best.
-- 
Denis


From siepo at cybercomm.nl  Mon May  8 16:01:03 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 8 May 2017 16:01:03 +0200
Subject: [tex-live] Install file of the TL should have unique name
In-Reply-To: <m3fugfik5w.fsf@example.com>
References: <m3fugfik5w.fsf@example.com>
Message-ID: <20170508140102.3v4eqsjwg7qktxea@bitmuis.thuis.internal>

On Mon, May 08, 2017 at 02:54:03PM +0200, Denis Bitouz? wrote:
> Hi there,
> 
> after the following discussion:
> 
>   ?????
>   ? http://tug.org/pipermail/tex-live/2014-January/034704.html
>   ?????
> 
> install files of the TL used to have unique names.
> 
> But I noticed that's not the case anymore with the up to date TL 2016:
> there are:
> 
>   ?????
>   ? install-tl-windows.bat
>   ? install-tl-windows.exe
>   ?????
> 
> and some students of mine to who I provided this up to date TL 2016
> didn't succeed to install it because they double-clicked on the `.exe'
> instead of the `.bat' file.
> 
> It would be worth to fix this for TL 2017.

A better solution would be to remove install-tl-windows.exe and also
the .zip- and .tar.gz archives from the installation media.

-- 
Siep Kroonenberg

From zdenek.wagner at gmail.com  Mon May  8 16:17:48 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 8 May 2017 16:17:48 +0200
Subject: [tex-live] Install file of the TL should have unique name
In-Reply-To: <20170508140102.3v4eqsjwg7qktxea@bitmuis.thuis.internal>
References: <m3fugfik5w.fsf@example.com>
 <20170508140102.3v4eqsjwg7qktxea@bitmuis.thuis.internal>
Message-ID: <CAC1phyZdjgXowr0BMAz3uctgX4zSOCbK4PpY=XrBLXb7V16i9Q@mail.gmail.com>

2017-05-08 16:01 GMT+02:00 Siep Kroonenberg <siepo at cybercomm.nl>:

> On Mon, May 08, 2017 at 02:54:03PM +0200, Denis Bitouz? wrote:
> > Hi there,
> >
> > after the following discussion:
> >
> >   ?????
> >   ? http://tug.org/pipermail/tex-live/2014-January/034704.html
> >   ?????
> >
> > install files of the TL used to have unique names.
> >
> > But I noticed that's not the case anymore with the up to date TL 2016:
> > there are:
> >
> >   ?????
> >   ? install-tl-windows.bat
> >   ? install-tl-windows.exe
> >   ?????
> >
> > and some students of mine to who I provided this up to date TL 2016
> > didn't succeed to install it because they double-clicked on the `.exe'
> > instead of the `.bat' file.
> >
> > It would be worth to fix this for TL 2017.
>
> A better solution would be to remove install-tl-windows.exe and also
> the .zip- and .tar.gz archives from the installation media.
>
> About a month ago I used just install-tl-windows.exe for network
installation of TL 2016 and it worked. The only problem was that for the
first time the downloaded file was corrupted for unknown reason.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



> --
> Siep Kroonenberg
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170508/fe515925/attachment.html>

From siepo at cybercomm.nl  Mon May  8 16:40:54 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 8 May 2017 16:40:54 +0200
Subject: [tex-live] Install file of the TL should have unique name
In-Reply-To: <CAC1phyZdjgXowr0BMAz3uctgX4zSOCbK4PpY=XrBLXb7V16i9Q@mail.gmail.com>
References: <m3fugfik5w.fsf@example.com>
 <20170508140102.3v4eqsjwg7qktxea@bitmuis.thuis.internal>
 <CAC1phyZdjgXowr0BMAz3uctgX4zSOCbK4PpY=XrBLXb7V16i9Q@mail.gmail.com>
Message-ID: <20170508144054.l3sf4q2qiuwevu5q@bitmuis.thuis.internal>

On Mon, May 08, 2017 at 04:17:48PM +0200, Zdenek Wagner wrote:
> 2017-05-08 16:01 GMT+02:00 Siep Kroonenberg <siepo at cybercomm.nl>:
> 
> > On Mon, May 08, 2017 at 02:54:03PM +0200, Denis Bitouz? wrote:
> > > Hi there,
> > >
> > > after the following discussion:
> > >
> > >   ?????
> > >   ? http://tug.org/pipermail/tex-live/2014-January/034704.html
> > >   ?????
> > >
> > > install files of the TL used to have unique names.
> > >
> > > But I noticed that's not the case anymore with the up to date TL 2016:
> > > there are:
> > >
> > >   ?????
> > >   ? install-tl-windows.bat
> > >   ? install-tl-windows.exe
> > >   ?????
> > >
> > > and some students of mine to who I provided this up to date TL 2016
> > > didn't succeed to install it because they double-clicked on the `.exe'
> > > instead of the `.bat' file.
> > >
> > > It would be worth to fix this for TL 2017.
> >
> > A better solution would be to remove install-tl-windows.exe and also
> > the .zip- and .tar.gz archives from the installation media.
> >
> > About a month ago I used just install-tl-windows.exe for network
> installation of TL 2016 and it worked. The only problem was that for the
> first time the downloaded file was corrupted for unknown reason.

That is the intended use of this file. But when you already have
local media with an unpacked installer, then the packed installers,
including install-tl-windows.exe, just get in the way.

-- 
Siep Kroonenberg

From karl at freefriends.org  Mon May  8 19:30:31 2017
From: karl at freefriends.org (Karl Berry)
Date: Mon, 8 May 2017 17:30:31 GMT
Subject: [tex-live] spaceful directories and update-tlmgr-*.sh
In-Reply-To: <0EFE5319-E73C-401D-BDB0-4F58450849FE@axelkielhorn.de>
Message-ID: <201705081730.v48HUVrO002051@freefriends.org>

Hi Axel (and all),

Not quite a year ago, you reported:

    Date: Tue, 31 May 2016 17:59:48 +0200
    From: Axel Kielhorn <tex at axelkielhorn.de>
    To: TeX-live <tex-live at tug.org>
    Subject: Re: [tex-live] Bug in TL infra

    [...] make runme cope with spaces is paths.

I've just committed (r44249) a bunch of changes to the makeself updater
to, I hope, fully support spaces in the destination directory path. If
nothing goes awry, it'll be used in tonight's (pretest) build.

Thanks for the patch and report. -k

From marlin.frickenschmidt at rwth-aachen.de  Mon May  8 18:33:40 2017
From: marlin.frickenschmidt at rwth-aachen.de (Marlin Frickenschmidt)
Date: Mon, 8 May 2017 18:33:40 +0200
Subject: [tex-live] TexLive 2016: cannot get TikZ graphdrawing library to
 work (pgfkeys errors)
Message-ID: <ef6d0541-f201-0a47-d2ec-bf9f1cc155b9@rwth-aachen.de>

Hey all,
I'm on an office computer running Ubuntu 14.04 LTS, and wanted to use
the TikZ graph drawing library that comes with PGF 3.0 - therefore I
completely uninstalled the default texlive installation, added the PPA
https://launchpad.net/~jonathonf/+archive/ubuntu/texlive, and then
installed texlive again.

Now whenever I include the graphdrawing library, I get lots of pgfkeys
errors such as "! Package pgfkeys Error: I do not know the key
'/tikz/hyper/.forward to' and I am going to ignore it. Perhaps you
misspelled it."

This happens even with the simple example file from
http://texample.net/tikz/examples/drawing-graphs/ - of course I do use
LuaLaTeX and not PDFLatex to compile.

Can anyone tell me why this happens, and/or how I might be able to fix
it? I have researched the error for two hours now and was not able to
find anything useful.

Best regards,
Marlin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4890 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170508/b1bedb7c/attachment.p7s>

From wujastyk at gmail.com  Mon May  8 23:33:21 2017
From: wujastyk at gmail.com (Dominik Wujastyk)
Date: Mon, 8 May 2017 15:33:21 -0600
Subject: [tex-live] on installing pretest,
 the "create symlinks in system directories" option has no effect
In-Reply-To: <20170508045358.rzxeflsxu6kcwc47@burischnitzel.preining.info>
References: <CAKdt-CdyDgukyeqvk42DJMh+igStrGmZRtCDyQh7TMTw9FuSuA@mail.gmail.com>
 <20170508045358.rzxeflsxu6kcwc47@burischnitzel.preining.info>
Message-ID: <CAKdt-Ce7XrFj=jfhdc-vQmSJ=3gkSV-ky-dTO1i2PC28C31MoA@mail.gmail.com>

The "create symlinks in system directories" selector worked just fine up to
TeXLive 2016.  It has stopped working in the install-tl program in the 2017
pretest distribution.

Are we talking about the same thing?  See picture attached.

Best,
Dominik


?
--
Professor Dominik Wujastyk <http://ualberta.academia.edu/DominikWujastyk>
?,?

Singhmar Chair in Classical Indian Society and Polity
?,?

Department of History and Classics <http://historyandclassics.ualberta.ca/>
?,?
University of Alberta, Canada
?.?

South Asia at the U of A:

?sas.ualberta.ca?
??


On 7 May 2017 at 22:53, Norbert Preining <preining at logic.at> wrote:

> Hi Dominik,
>
> > Subject: Re: [tex-live] on installing pretest, the "create symlinks in
> system
> > directories" option has no effect
>
> This has been the case now for many years. We stopped doing hte symlinks
> automatically, and leave it to the user with
>         tlmgr path [add|remove]
> The reason is that it is anyway a bad idea to rely on this mechanism, due
> to programs added, removed during tlmgr update runs, which will not be
> reflected in the symlinks.
>
> Better to add the TL bin dir to the PATH.
>
> All the best
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170508/df108584/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2017-05-08 15-32-30.png
Type: image/png
Size: 60178 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170508/df108584/attachment-0001.png>

From kakuto at fuk.kindai.ac.jp  Tue May  9 00:51:04 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 9 May 2017 07:51:04 +0900
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
Message-ID: <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>

Dear David,

> The xdvipdfmx sources (pdfdraw.c) have
> ... ...

I'm not familiar with pdfdraw.c, thus I have replaced a
small number 1.e-8 by OUR_EPSILON (=2.5e-16) in pdfdraw.c,
hoping that it does not break the author's intention (r44252).

> Even if the transform really is non-invertible for example
>
> \scalebox{0}{oops}

Apparently this may not be solved by r44252.

Best,
Akira


From shunsaku.hirata74 at gmail.com  Tue May  9 07:06:00 2017
From: shunsaku.hirata74 at gmail.com (=?iso-2022-jp?B?GyRCSj9FRD1TOm4bKEI=?=)
Date: Tue, 9 May 2017 14:06:00 +0900
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
Message-ID: <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>


Hi,

I think Acrobat disliked such transformations,
giving an error for such cases.

Shunsaku Hirata

2017/05/09 7:51?Akira Kakuto <kakuto at fuk.kindai.ac.jp> ??????:

> Dear David,
> 
>> The xdvipdfmx sources (pdfdraw.c) have
>> ... ...
> 
> I'm not familiar with pdfdraw.c, thus I have replaced a
> small number 1.e-8 by OUR_EPSILON (=2.5e-16) in pdfdraw.c,
> hoping that it does not break the author's intention (r44252).
> 
>> Even if the transform really is non-invertible for example
>> 
>> \scalebox{0}{oops}
> 
> Apparently this may not be solved by r44252.
> 
> Best,
> Akira
> 


From d.p.carlisle at gmail.com  Tue May  9 09:04:15 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 9 May 2017 08:04:15 +0100
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
Message-ID: <CAEW6iOgbuvqByAL7u1OWOP6UD7Np5kBkvrF6EZb=h6z6UCmQzg@mail.gmail.com>

On 8 May 2017 at 23:51, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:

> Dear David,
>
> The xdvipdfmx sources (pdfdraw.c) have
>> ... ...
>>
>
> I'm not familiar with pdfdraw.c, thus I have replaced a
> small number 1.e-8 by OUR_EPSILON (=2.5e-16) in pdfdraw.c,
> hoping that it does not break the author's intention (r44252).
>


Thanks! I was going to say that the least invasive change would be just to
change that -8.

If the scale factor is calculated (as it in in the latex graphics packages)
by fixed point
"dimen" arithmetic then the smallest positive x and y scale will be1sp =
2e-5 so the
smallest determinant is 4e-10  so any determinant less than that is a bit
suspect
but  the 1e-8 test was really a problem giving errors on (almost:-)
reasonable matrices.


> Even if the transform really is non-invertible for example
>>
>> \scalebox{0}{oops}
>>
>
> Apparently this may not be solved by r44252.
>

Yes that  is probably best left if you are not familiar with the code (or
possibly best left anyway).

Of course 0 really is not invertible so if you let the determinant=0 case
go through you'd need
to check that you don't get division by zero error in the driver code
later. It is anyway easy to catch this
case of exactly zero in the tex macros and give a warning before it gets to
the dvi driver.

>
> Best,
> Akira
>
>
Thanks again

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/78f089e6/attachment.html>

From d.p.carlisle at gmail.com  Tue May  9 10:33:04 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 9 May 2017 09:33:04 +0100
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
 <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>
Message-ID: <CAEW6iOhYKiqjwQ8DFG+o0NbXvCOaEdQEeMBu63s564z30CYN0A@mail.gmail.com>

On 9 May 2017 at 06:06, ???? <shunsaku.hirata74 at gmail.com> wrote:

>
> Hi,
>
> I think Acrobat disliked such transformations,
> giving an error for such cases.
>
> Shunsaku Hirata
>
>
> I tried with acrobat reader DC and got reasonable results even with a
scale factor of 0 (inserted via pdf:literal)

With a (now very old) copy of acrobat 9 pro I did get some strange effects
if the scale factor was very small
but I don't think that  if the viewer is doing arithmetic using double then
1e-5 is particularity small and we shouldn't
make strange output on all systems just for old versions of acrobat.

It (might:-) be interesting to know how old a version of acrobat you have
to have before this is a problem.
Note that for the last 18 months latex has avoided this dvipdfm issue by
applying the scale factor via a pdfliteral
cm matrix operator rather than the driver's x:scale special, and no one has
reported any issues with acrobat.
(Although I admit probably not many people are scaling things by these
small values)


If we wanted to avoid small scale factors (personally I'd do this also for
0) I'd give the warning and force it to be
the smallest "safe" value, not just simply not scale, as currently.


But for values within the normal range of tex dimen <factor> (that is, 1sp
= 2e-5pt) I don't think there should be any
warning or adjusting of the values at all. Akira's change just now would do
that,

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/b1d4780d/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Tue May  9 10:43:51 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 9 May 2017 09:43:51 +0100
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <CAEW6iOhYKiqjwQ8DFG+o0NbXvCOaEdQEeMBu63s564z30CYN0A@mail.gmail.com>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
 <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>
 <CAEW6iOhYKiqjwQ8DFG+o0NbXvCOaEdQEeMBu63s564z30CYN0A@mail.gmail.com>
Message-ID: <688ed04a-7961-c6ce-14d3-5c0861de18fc@Rhul.Ac.Uk>



David Carlisle wrote:
> It (might:-) be interesting to know how old a version of acrobat you have to have before this is a problem.
I have (and use on a daily basis) Adobe Acrobat 7.1.0, so I am happy to offer to test any edge cases ...

From d.p.carlisle at gmail.com  Tue May  9 11:01:20 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 9 May 2017 10:01:20 +0100
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <688ed04a-7961-c6ce-14d3-5c0861de18fc@Rhul.Ac.Uk>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
 <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>
 <CAEW6iOhYKiqjwQ8DFG+o0NbXvCOaEdQEeMBu63s564z30CYN0A@mail.gmail.com>
 <688ed04a-7961-c6ce-14d3-5c0861de18fc@Rhul.Ac.Uk>
Message-ID: <CAEW6iOid6ESG8y+Zafe0wMNJ6P91XSkaeeyonRF2UuejH1H8fQ@mail.gmail.com>

On 9 May 2017 at 09:43, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

>
>
> David Carlisle wrote:
> > It (might:-) be interesting to know how old a version of acrobat you
> have to have before this is a problem.
> I have (and use on a daily basis) Adobe Acrobat 7.1.0, so I am happy to
> offer to test any edge cases ...
>

I rather meant between 9 and DC (to see at what point it stopped being a
problem) but if you want to test with 7
there is a test file in the message at the start of this thread.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/afe276a9/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Tue May  9 11:15:24 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 9 May 2017 10:15:24 +0100
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <CAEW6iOid6ESG8y+Zafe0wMNJ6P91XSkaeeyonRF2UuejH1H8fQ@mail.gmail.com>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
 <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>
 <CAEW6iOhYKiqjwQ8DFG+o0NbXvCOaEdQEeMBu63s564z30CYN0A@mail.gmail.com>
 <688ed04a-7961-c6ce-14d3-5c0861de18fc@Rhul.Ac.Uk>
 <CAEW6iOid6ESG8y+Zafe0wMNJ6P91XSkaeeyonRF2UuejH1H8fQ@mail.gmail.com>
Message-ID: <4f0a3691-3724-1854-37df-1c96e17660dd@Rhul.Ac.Uk>



David Carlisle wrote:
> I rather meant between 9 and DC (to see at what point it stopped being a problem) but if you want to test with 7
> there is a test file in the message at the start of this thread.
Transcript follows, screen shots at https://get.google.com/albumarchive/110725905659537251822/album/AF1QipPoBHxgQdugr7I7LtiVYzSg4ErkgBwUzqpl0Lwp?authKey=CMuc2cSQtbKjwwE

This is XeTeX, Version 3.14159265-2.6-0.99997 (TeX Live 2017/W32TeX) (preloaded format=xelatex)

restricted \write18 enabled.

entering extended mode

(./Carlisle-001.tex

LaTeX2e <2017-04-15>

Babel <3.9r> and hyphenation patterns for 83 language(s) loaded.

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/base/article.cls

Document Class: article 2014/09/29 v1.4h Standard LaTeX document class

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/base/size10.clo))

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/graphics/graphics.sty

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/graphics/trig.sty)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/graphics-cfg/graphics.cfg)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/graphics-def/xetex.def))

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/hyperref/hyperref.sty

(c:/TeX/Live/2017/TeXMF/Dist/tex/generic/oberdiek/hobsub-hyperref.sty

(c:/TeX/Live/2017/TeXMF/Dist/tex/generic/oberdiek/hobsub-generic.sty))

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/graphics/keyval.sty)

(c:/TeX/Live/2017/TeXMF/Dist/tex/generic/ifxetex/ifxetex.sty)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/oberdiek/auxhook.sty)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/oberdiek/kvoptions.sty)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/hyperref/pd1enc.def)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/latexconfig/hyperref.cfg)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/url/url.sty))


Package hyperref Message: Driver (autodetected): hxetex.


(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/hyperref/hxetex.def

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/hyperref/puenc.def)

(c:/TeX/Live/2017/TeXMF/Dist/tex/generic/oberdiek/stringenc.sty)

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/oberdiek/rerunfilecheck.sty))

(c:/TeX/Live/2017/TeXMF/Dist/tex/latex/parskip/parskip.sty) (./Carlisle-001.aux

) (c:/TeX/Live/2017/TeXMF/Dist/tex/latex/hyperref/nameref.sty

(c:/TeX/Live/2017/TeXMF/Dist/tex/generic/oberdiek/gettitlestring.sty))

(./Carlisle-001.out) (./Carlisle-001.out)

(c:/TeX/Live/2017/TeXMF/Dist/tex/generic/oberdiek/se-ascii-print.def) [1]

(./Carlisle-001.aux) )

Output written on Carlisle-001.pdf (1 page).

SyncTeX written on Carlisle-001.synctex.gz.

Transcript written on Carlisle-001.log.




From shunsaku.hirata74 at gmail.com  Tue May  9 11:17:50 2017
From: shunsaku.hirata74 at gmail.com (=?iso-2022-jp?B?GyRCSj9FRD1TOm4bKEI=?=)
Date: Tue, 9 May 2017 18:17:50 +0900
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <CAEW6iOid6ESG8y+Zafe0wMNJ6P91XSkaeeyonRF2UuejH1H8fQ@mail.gmail.com>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
 <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>
 <CAEW6iOhYKiqjwQ8DFG+o0NbXvCOaEdQEeMBu63s564z30CYN0A@mail.gmail.com>
 <688ed04a-7961-c6ce-14d3-5c0861de18fc@Rhul.Ac.Uk>
 <CAEW6iOid6ESG8y+Zafe0wMNJ6P91XSkaeeyonRF2UuejH1H8fQ@mail.gmail.com>
Message-ID: <563E22BC-E6A2-4538-97E5-D445BADEEF32@gmail.com>

It was more than 10 years ago when I first noticed that.
I don't remember well but I think at that time Acrobat showed a blank page with an error message.
So I made dvipdfmx to ignore transformations which can cause such problems . 
I think Acrobat had been partly using fixed point numbers.

The situation might have changed, so it would be better to reconsider implementation.

Shunsaku Hirata

2017/05/09 18:01?David Carlisle <d.p.carlisle at gmail.com> ??????:

> 
> 
>> On 9 May 2017 at 09:43, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:
>> 
>> 
>> David Carlisle wrote:
>> > It (might:-) be interesting to know how old a version of acrobat you have to have before this is a problem.
>> I have (and use on a daily basis) Adobe Acrobat 7.1.0, so I am happy to offer to test any edge cases ...
> 
> 
> I rather meant between 9 and DC (to see at what point it stopped being a problem) but if you want to test with 7
> there is a test file in the message at the start of this thread.
> 
> David
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/7777ab8f/attachment.html>

From d.p.carlisle at gmail.com  Tue May  9 11:47:27 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 9 May 2017 10:47:27 +0100
Subject: [tex-live] Small scaling values in xetex / (x)dvipdfm(x)
In-Reply-To: <4f0a3691-3724-1854-37df-1c96e17660dd@Rhul.Ac.Uk>
References: <CAEW6iOia2Bh4aoKSeL38_t-1Af=UJ3kEeq_BkV-12zSqhSVMZg@mail.gmail.com>
 <8564FD4510A34CC4B7C4C9BE100AA03A@CJ3001517A>
 <42B09AF0-639B-460B-89E9-795C046D32E1@gmail.com>
 <CAEW6iOhYKiqjwQ8DFG+o0NbXvCOaEdQEeMBu63s564z30CYN0A@mail.gmail.com>
 <688ed04a-7961-c6ce-14d3-5c0861de18fc@Rhul.Ac.Uk>
 <CAEW6iOid6ESG8y+Zafe0wMNJ6P91XSkaeeyonRF2UuejH1H8fQ@mail.gmail.com>
 <4f0a3691-3724-1854-37df-1c96e17660dd@Rhul.Ac.Uk>
Message-ID: <CAEW6iOiPKfrjaRPAvMp6QZhuM6qHowEbrB77U63bxkiMcRuEOw@mail.gmail.com>

On 9 May 2017 at 10:15, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

> Screen shots at...

yes so acrobat 7 messes up, but not surprising, since acrobat 9 does.
However I don't think that should constrain us now.

Acrobat 9 is 2008, Acrobat 7 is 2005, so  if pdf files with tiny scaling
can't be
shown correctly in 9 (or 12) year old viewers I think that is not such a
big problem
compared to them not showing correctly in any viewers as the instruction to
scale
omitted from the pdf.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/b210e161/attachment.html>

From preining at logic.at  Tue May  9 11:48:28 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 9 May 2017 18:48:28 +0900
Subject: [tex-live] TexLive 2016: cannot get TikZ graphdrawing library
 to work (pgfkeys errors)
In-Reply-To: <ef6d0541-f201-0a47-d2ec-bf9f1cc155b9@rwth-aachen.de>
References: <ef6d0541-f201-0a47-d2ec-bf9f1cc155b9@rwth-aachen.de>
Message-ID: <20170509094828.siugxtulh62xfrit@bulldog.preining.info>

Hi Marlin,

this list is not for support of Ubuntu (Debian), but for the
*development* of upstream TeX Live.

Please contact the package maintainers of Ubuntu.

> https://launchpad.net/~jonathonf/+archive/ubuntu/texlive, and then
> installed texlive again.

In particular the author of this PPA, has he obviously has havoced
your installation.

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue May  9 11:49:31 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 9 May 2017 18:49:31 +0900
Subject: [tex-live] on installing pretest,
 the "create symlinks in system directories" option has no effect
In-Reply-To: <CAKdt-Ce7XrFj=jfhdc-vQmSJ=3gkSV-ky-dTO1i2PC28C31MoA@mail.gmail.com>
References: <CAKdt-CdyDgukyeqvk42DJMh+igStrGmZRtCDyQh7TMTw9FuSuA@mail.gmail.com>
 <20170508045358.rzxeflsxu6kcwc47@burischnitzel.preining.info>
 <CAKdt-Ce7XrFj=jfhdc-vQmSJ=3gkSV-ky-dTO1i2PC28C31MoA@mail.gmail.com>
Message-ID: <20170509094931.5vvpgoyn4xm4lqia@bulldog.preining.info>

> The "create symlinks in system directories" selector worked just fine up to
> TeXLive 2016.  It has stopped working in the install-tl program in the 2017
> pretest distribution.

Indeed, I forgot we still provide this option.

I guess something happened when reworking the installer, I will
investigate.

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Tue May  9 12:25:46 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 9 May 2017 11:25:46 +0100
Subject: [tex-live] xetex.def
Message-ID: <62c0d988-0cf4-8788-2de5-8b7e392e564a@morningstar2.co.uk>

Hello all,

Following a bug report for (x)dvipdfmx box scaling, we are talking a
look at xetex.def and dvidpfmx.def to fix that and related issues. This
raises a question: what is the reason for having two .def files here. A
quick test suggests that XeTeX (xdvipdfmx) can happily use dvipdfmx.def
with the exception of a few lines at the end of the file: those could
easily be made conditional.

Reading over the comments, I see some about the older non-xdvipdfmx
drivers for XeTeX, but these are as far as I know no longer in use
(particularly for anyone likely to use an updated .def file). Are there
any particular reasons that XeTeX needs a separate driver today?

Joseph

From marlin.frickenschmidt at rwth-aachen.de  Tue May  9 12:28:47 2017
From: marlin.frickenschmidt at rwth-aachen.de (Marlin Frickenschmidt)
Date: Tue, 9 May 2017 12:28:47 +0200
Subject: [tex-live] TexLive 2016: cannot get TikZ graphdrawing library
 to work (pgfkeys errors)
In-Reply-To: <20170509094828.siugxtulh62xfrit@bulldog.preining.info>
References: <ef6d0541-f201-0a47-d2ec-bf9f1cc155b9@rwth-aachen.de>
 <20170509094828.siugxtulh62xfrit@bulldog.preining.info>
Message-ID: <d1e17ccb-3aa3-acfb-8ae4-091beb16dab9@rwth-aachen.de>

Hello Norbert,
I'm sorry, I'm just an end-user and was thus not able to
see/decide whether *I* was doing something wrong here, or whether the
packager did. I will follow your suggestion, but I suppose that it will
take a while to fix this. I would like to get things to work more
quickly than that.

Would you suggest I remove the butchered TeXlive installation and go for
a manual home directory install as described on
https://www.tug.org/texlive/quickinstall.html ? Or is there a different
way how I might fix this by myself?

Thank you for your help,
Marlin

Am 09.05.2017 um 11:48 schrieb Norbert Preining:
> Hi Marlin,
> 
> this list is not for support of Ubuntu (Debian), but for the
> *development* of upstream TeX Live.
> 
> Please contact the package maintainers of Ubuntu.
> 
>> https://launchpad.net/~jonathonf/+archive/ubuntu/texlive, and then
>> installed texlive again.
> 
> In particular the author of this PPA, has he obviously has havoced
> your installation.
> 
> All the best
> 
> Norbert
> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4890 bytes
Desc: S/MIME Cryptographic Signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/174633fe/attachment.p7s>

From preining at logic.at  Tue May  9 13:39:55 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 9 May 2017 20:39:55 +0900
Subject: [tex-live] TexLive 2016: cannot get TikZ graphdrawing library
 to work (pgfkeys errors)
In-Reply-To: <d1e17ccb-3aa3-acfb-8ae4-091beb16dab9@rwth-aachen.de>
References: <ef6d0541-f201-0a47-d2ec-bf9f1cc155b9@rwth-aachen.de>
 <20170509094828.siugxtulh62xfrit@bulldog.preining.info>
 <d1e17ccb-3aa3-acfb-8ae4-091beb16dab9@rwth-aachen.de>
Message-ID: <20170509113955.bhnlztn3dixfno3o@bulldog.preining.info>

Hi Marlin,

> Would you suggest I remove the butchered TeXlive installation and go for
> a manual home directory install as described on
> https://www.tug.org/texlive/quickinstall.html ? Or is there a different
> way how I might fix this by myself?

I get different errors:
! Undefined control sequence.
\sa at placebox ->\newpage \global \pdfpagewidth 
                                              =\wd \sa at box \global \pdfpageh...

with the Debian packages for TL2016, which are more or less the ones
in Ubuntu and in the ppa you are using.

I guess that some packages are not compatible with old luatex in
TL2016, or something else is broken.

You haven't sent a sample file nor the error log, nobody can help
you here without any decent report.

Thus, I suggest you install TL2016 as mentioned in quickinstall.html,
or probably even better the tlpretest of TL2017 which includes already
an updated luatex.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Tue May  9 14:32:43 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 9 May 2017 14:32:43 +0200
Subject: [tex-live] No user prompting asking for PATH adjustment after
	pretest install?
Message-ID: <92e75964-3f1c-31b7-7356-d18c3e292c24@free.fr>

Hi,

I rsync'ed a tlpretest mirror, then did ./install-tl

Packages were installed then various mktexlsr and format
building actions happened.

At the end of all this I was surprised not to see any message
about updating my PATH for 2017 location.

I am actually on Mac OS, so I have the /Library/TeX/texbin
thing in my PATH. But it is a symlink and some update needs to
be done (I copy over whole texdist structure from year to year
and adjust symlinks very quickly using edit mod in
Emacs dired buffers; this year I had to pay attention to new
name x86_64-darwinlegacy).

After install-tl completes all binaries (as well as the environment
variables I set up in my .bash_profile to avoid the important
kpsewhich --var-value latency on Mac OS X; perhaps it has
improved not tested) were the 2016 ones. So I find the absence
of a message at end of install-tl execution a bit dangerous.
For example I could have used tlmgr option repository at this
stage, but this would have modified the 2016 config (anyhow
frozen, so it is not dramatic).

I needed naturally to activate the 2017
symlinks before issueing tlmgr option repository to point
to my local disc mirror of the tlpretest.

I suppose the mktexlsr and fmtutil-sys executed are the 2017
ones, not the 2016, at end of install...

Also there was a "no scheme-custom defined" message (I had
only a partial TL2016, and agreed for the install-tl to take
over my settings of last year).

I have not checked the
collections installed yet, I know some renaming happened,
hence wonder if the "take over from 2016" is ok, but could not
check yet because I needed to quit my mac at this time.

Best,

Jean-Francois

From daleif at math.au.dk  Tue May  9 14:43:53 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 9 May 2017 12:43:53 +0000
Subject: [tex-live] No user prompting asking for PATH adjustment
	after	pretest install?
In-Reply-To: <92e75964-3f1c-31b7-7356-d18c3e292c24@free.fr>
References: <92e75964-3f1c-31b7-7356-d18c3e292c24@free.fr>
Message-ID: <1494333842380.66432@math.au.dk>

isn't it the MacTeX installer that updates the texbin link? 

AFAIR, the TL base installer has never messed with PATH on other systems than windows.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of jfbu <jfbu at free.fr>
Sent: 09 May 2017 14:32
To: TeXLive
Subject: [tex-live] No user prompting asking for PATH adjustment after  pretest install?

Hi,

I rsync'ed a tlpretest mirror, then did ./install-tl

Packages were installed then various mktexlsr and format
building actions happened.

At the end of all this I was surprised not to see any message
about updating my PATH for 2017 location.

I am actually on Mac OS, so I have the /Library/TeX/texbin
thing in my PATH. But it is a symlink and some update needs to
be done (I copy over whole texdist structure from year to year
and adjust symlinks very quickly using edit mod in
Emacs dired buffers; this year I had to pay attention to new
name x86_64-darwinlegacy).

After install-tl completes all binaries (as well as the environment
variables I set up in my .bash_profile to avoid the important
kpsewhich --var-value latency on Mac OS X; perhaps it has
improved not tested) were the 2016 ones. So I find the absence
of a message at end of install-tl execution a bit dangerous.
For example I could have used tlmgr option repository at this
stage, but this would have modified the 2016 config (anyhow
frozen, so it is not dramatic).

I needed naturally to activate the 2017
symlinks before issueing tlmgr option repository to point
to my local disc mirror of the tlpretest.

I suppose the mktexlsr and fmtutil-sys executed are the 2017
ones, not the 2016, at end of install...

Also there was a "no scheme-custom defined" message (I had
only a partial TL2016, and agreed for the install-tl to take
over my settings of last year).

I have not checked the
collections installed yet, I know some renaming happened,
hence wonder if the "take over from 2016" is ok, but could not
check yet because I needed to quit my mac at this time.

Best,

Jean-Francois


From jfbu at free.fr  Tue May  9 14:51:06 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 9 May 2017 14:51:06 +0200
Subject: [tex-live] No user prompting asking for PATH adjustment after
 pretest install?
In-Reply-To: <1494333842380.66432@math.au.dk>
References: <92e75964-3f1c-31b7-7356-d18c3e292c24@free.fr>
 <1494333842380.66432@math.au.dk>
Message-ID: <077c9787-5407-977f-bbb8-a2ff034d0e63@free.fr>

Le 09/05/2017 ? 14:43, Lars Madsen a ?crit :
> isn't it the MacTeX installer that updates the texbin link? 

I explained I do not proceed via MacTeX

> 
> AFAIR, the TL base installer has never messed with PATH on other systems than windows.
> 

It didn't. I am just saying it did not ask me to do it.

Last year and the years before, it did.

here it left me in a situation where the PATH was still (indirectly) pointing to 2016 install.

It is impossible to say that from only looking at PATH at top level, because it contains, as I said, /Library/TeX/texbin.

I think the installer should not take for granted that things are OK.

At this stage all binaries called from command line, including tlmgr itself, would have been the 2016 ones.

Jean-Fran?ois

> 
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math
> 
> 
> ________________________________________
> From: tex-live <tex-live-bounces at tug.org> on behalf of jfbu <jfbu at free.fr>
> Sent: 09 May 2017 14:32
> To: TeXLive
> Subject: [tex-live] No user prompting asking for PATH adjustment after  pretest install?
> 
> Hi,
> 
> I rsync'ed a tlpretest mirror, then did ./install-tl
> 
> Packages were installed then various mktexlsr and format
> building actions happened.
> 
> At the end of all this I was surprised not to see any message
> about updating my PATH for 2017 location.
> 
> I am actually on Mac OS, so I have the /Library/TeX/texbin
> thing in my PATH. But it is a symlink and some update needs to
> be done (I copy over whole texdist structure from year to year
> and adjust symlinks very quickly using edit mod in
> Emacs dired buffers; this year I had to pay attention to new
> name x86_64-darwinlegacy).
> 
> After install-tl completes all binaries (as well as the environment
> variables I set up in my .bash_profile to avoid the important
> kpsewhich --var-value latency on Mac OS X; perhaps it has
> improved not tested) were the 2016 ones. So I find the absence
> of a message at end of install-tl execution a bit dangerous.
> For example I could have used tlmgr option repository at this
> stage, but this would have modified the 2016 config (anyhow
> frozen, so it is not dramatic).
> 
> I needed naturally to activate the 2017
> symlinks before issueing tlmgr option repository to point
> to my local disc mirror of the tlpretest.
> 
> I suppose the mktexlsr and fmtutil-sys executed are the 2017
> ones, not the 2016, at end of install...
> 
> Also there was a "no scheme-custom defined" message (I had
> only a partial TL2016, and agreed for the install-tl to take
> over my settings of last year).
> 
> I have not checked the
> collections installed yet, I know some renaming happened,
> hence wonder if the "take over from 2016" is ok, but could not
> check yet because I needed to quit my mac at this time.
> 
> Best,
> 
> Jean-Francois
> 




From kakuto at fuk.kindai.ac.jp  Tue May  9 15:19:07 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 9 May 2017 22:19:07 +0900
Subject: [tex-live] [XeTeX] xetex.def
In-Reply-To: <62c0d988-0cf4-8788-2de5-8b7e392e564a@morningstar2.co.uk>
References: <62c0d988-0cf4-8788-2de5-8b7e392e564a@morningstar2.co.uk>
Message-ID: <3C5344401A4E47EAA736224E591E9368@CJ3001517A>

Dear Joseph,

> Following a bug report for (x)dvipdfmx box scaling, we are talking a
> look at xetex.def and dvidpfmx.def to fix that and related issues. This
> raises a question: what is the reason for having two .def files here. A
> quick test suggests that XeTeX (xdvipdfmx) can happily use dvipdfmx.def
> with the exception of a few lines at the end of the file: those could
> easily be made conditional.

I'm not familiar with the drivers, but I think that the independent
xetex.def is definitely needed.

I think that images png, jpg, pdf, are efficiently embedded in XeTeX,
probably by using primitives, while dvipdfmx requires an external
program extractbb to obtain sizes of the images.

For example,

%
% xelatex test.tex    (xetex.def)
%
\documentclass[12pt]{article}
\usepackage{graphicx}
\usepackage{pdfpages}
\begin{document}
\includepdf[pages={1-9}]{xtst.pdf}
\end{document}

is far faster than

%
% xelatex test.tex   (dvipdfmx.def)
%
\documentclass[12pt,dvipdfmx]{article}
\usepackage{graphicx}
\usepackage{pdfpages}
\begin{document}
\includepdf[pages={1-9}]{xtst.pdf}
\end{document}

Best,
Akira


From joseph.wright at morningstar2.co.uk  Tue May  9 15:27:26 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 9 May 2017 14:27:26 +0100
Subject: [tex-live] [XeTeX] xetex.def
In-Reply-To: <3C5344401A4E47EAA736224E591E9368@CJ3001517A>
References: <62c0d988-0cf4-8788-2de5-8b7e392e564a@morningstar2.co.uk>
 <3C5344401A4E47EAA736224E591E9368@CJ3001517A>
Message-ID: <206c153c-d764-2d1b-8f17-fd894c71a84d@morningstar2.co.uk>

On 09/05/2017 14:19, Akira Kakuto wrote:
> Dear Joseph,
> 
>> Following a bug report for (x)dvipdfmx box scaling, we are talking a
>> look at xetex.def and dvidpfmx.def to fix that and related issues. This
>> raises a question: what is the reason for having two .def files here. A
>> quick test suggests that XeTeX (xdvipdfmx) can happily use dvipdfmx.def
>> with the exception of a few lines at the end of the file: those could
>> easily be made conditional.
> 
> I'm not familiar with the drivers, but I think that the independent
> xetex.def is definitely needed.
> 
> I think that images png, jpg, pdf, are efficiently embedded in XeTeX,
> probably by using primitives, while dvipdfmx requires an external
> program extractbb to obtain sizes of the images.
> 
> For example,
> 
> %
> % xelatex test.tex    (xetex.def)
> %
> \documentclass[12pt]{article}
> \usepackage{graphicx}
> \usepackage{pdfpages}
> \begin{document}
> \includepdf[pages={1-9}]{xtst.pdf}
> \end{document}
> 
> is far faster than
> 
> %
> % xelatex test.tex   (dvipdfmx.def)
> %
> \documentclass[12pt,dvipdfmx]{article}
> \usepackage{graphicx}
> \usepackage{pdfpages}
> \begin{document}
> \includepdf[pages={1-9}]{xtst.pdf}
> \end{document}
> 
> Best,
> Akira

Image inclusion is one I'd looked at, and certainly there is some
benefit from using the primitive for bounding-box lookup. However, that
doesn't mean that the entire .def files have to be different: for
example, we might pull them 'back together' in a .dtx and have only the
image inclusion bit varying. Other operations (scaling, rotation, colour
support, ...) seem to be addressable using common code, and indeed final
image inclusion (as opposed to BB extraction) could be done using a
common path for the shared data types (probably though as the BB lookup
is separate one should stick to the primitives in XeTeX).

So the question is what are the _essentials_ of the difference: really
it's about 'how much difference do we need to look after in the .def files'.

Joseph



From joseph.wright at morningstar2.co.uk  Tue May  9 15:30:59 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 9 May 2017 14:30:59 +0100
Subject: [tex-live] [XeTeX] xetex.def
In-Reply-To: <206c153c-d764-2d1b-8f17-fd894c71a84d@morningstar2.co.uk>
References: <62c0d988-0cf4-8788-2de5-8b7e392e564a@morningstar2.co.uk>
 <3C5344401A4E47EAA736224E591E9368@CJ3001517A>
 <206c153c-d764-2d1b-8f17-fd894c71a84d@morningstar2.co.uk>
Message-ID: <a36bf55c-1a29-0788-739b-98a8f0c9b7d0@morningstar2.co.uk>

On 09/05/2017 14:27, Joseph Wright wrote:
> So the question is what are the _essentials_ of the difference: really
> it's about 'how much difference do we need to look after in the .def files'.

I should add that the question arose as dvipdfmx.def and xetex.def
currently use different approaches to colour. The reasons are I think
historical: xdv2pdf didn't support the dvipdfmx approach, but xdvipdfmx
does. For maintenance *today* it would be clearer if we had a simple way
of knowing which parts have to be different between the dvipdfmx and
xetex drivers.

Joseph


From benoit.rivet at free.fr  Tue May  9 15:44:40 2017
From: benoit.rivet at free.fr (=?iso-8859-1?q?Beno=EEt?= RIVET)
Date: Tue, 9 May 2017 15:44:40 +0200
Subject: [tex-live] TexLive 2016: cannot get TikZ graphdrawing library
 to work (pgfkeys errors)
In-Reply-To: <20170509113955.bhnlztn3dixfno3o@bulldog.preining.info>
References: <ef6d0541-f201-0a47-d2ec-bf9f1cc155b9@rwth-aachen.de>
 <20170509094828.siugxtulh62xfrit@bulldog.preining.info>
 <d1e17ccb-3aa3-acfb-8ae4-091beb16dab9@rwth-aachen.de>
 <20170509113955.bhnlztn3dixfno3o@bulldog.preining.info>
Message-ID: <255B9EC6-CD4F-4C00-BB06-1C22E91DFD84@free.fr>


> Le 9 mai 2017 ? 13:39, Norbert Preining <preining at logic.at> a ?crit :
> 
> Hi Marlin,
> 
>> Would you suggest I remove the butchered TeXlive installation and go for
>> a manual home directory install as described on
>> https://www.tug.org/texlive/quickinstall.html ? Or is there a different
>> way how I might fix this by myself?
> 
> I get different errors:
> ! Undefined control sequence.
> \sa at placebox ->\newpage \global \pdfpagewidth 
>                                              =\wd \sa at box \global \pdfpageh...
> 
> with the Debian packages for TL2016, which are more or less the ones
> in Ubuntu and in the ppa you are using.
> 
> I guess that some packages are not compatible with old luatex in
> TL2016, or something else is broken.

\pdfxxx primitives are not defined with luatex as shipped in TexLive starting with TL 2016 IIRC :

\usepackage{luatex85} fixes the problem.

--  
Beno?t Rivet

From nikola.lecic at anthesphoria.net  Tue May  9 16:41:24 2017
From: nikola.lecic at anthesphoria.net (Nikola =?UTF-8?B?TGXEjWnEhw==?=)
Date: Tue, 9 May 2017 17:41:24 +0300
Subject: [tex-live] lualatex in pretest: "(linebreak): invalid list tail,
 probably missing glue"
Message-ID: <201705091441.v49EfhJd001069@anthesphoria.net>

Hi,

I'm trying to switch to lualatex for building texlive-sr (tired of
fontspec problems after merging type1 and opentype versions of the
package 'oldstandard').

However, in the *second* pass (first pass yields no errors), I get the
following error:

...
Language serbian already loaded; id is 4
(/mnt/tl-pretest/texlive/texmf-dist/tex/latex/lm/ot1lmr.fd)
(/mnt/tl-pretest/texlive/texmf-dist/tex/latex/lm/omllmm.fd)
(/mnt/tl-pretest/texlive/texmf-dist/tex/latex/lm/omslmsy.fd)
(/mnt/tl-pretest/texlive/texmf-dist/tex/latex/lm/omxlmex.fd)
Language serbian already loaded; id is 4 (./texlive-sr.toc
Language serbian already loaded; id is 4 [1{/mnt/tl-pretest/texlive/texmf-var/f
onts/map/pdftex/updmap/pdftex.map}]
Language serbian already loaded; id is 4) [2]

LaTeX Warning: Reference `sec:tl-coll-dists' on page 3 undefined on input line
130.

! error:  (linebreak): invalid list tail, probably missing glue
!  ==> Fatal error occurred, no output PDF file produced!*** Error code 1

Stop.

How to reproduce:

* take texlive-sr.tex, texlive-sr.sty and Makefile from the attachment,
  and put them over existing files in pretest
  texmf-dist/doc/texlive/texlive-sr/;
* run 'make one' -- everything goes fine;
* run 'make one' again -- you should get the aforementioned error.

This was tested with the latest pretest, but I get the same error with
TL2016 as well.

As far as I can see, the similar error was mentioned here:
https://www.bountysource.com/issues/39261397-error-linebreak-invalid-list-tail-probably-missing-glue
https://github.com/phi-gamma/luaotfload/commit/94649446c7d25187901b396845067dc7d8b7d61d

The test examples from the first link work for me.

Please let me know if I can provide more info. I know that
texlive-sr.tex is not really an MWE, but if interested people need it,
I'd appreciate some sort of instruction on how to construct it, i.e.
where to find an error.

-- 
Nikola Le?i? = ?????? ?????
fingerprint : FEF3 66AF C90E EDC3 D878  7CDC 956D F4AB A377 1C9B
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Makefile
Type: text/x-makefile
Size: 612 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/c7b45bc1/attachment-0003.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texlive-sr.sty
Type: text/x-tex
Size: 2508 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/c7b45bc1/attachment-0004.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texlive-sr.tex
Type: text/x-tex
Size: 294249 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/c7b45bc1/attachment-0005.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 331 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/c7b45bc1/attachment-0001.sig>

From jfbu at free.fr  Tue May  9 17:44:27 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 9 May 2017 17:44:27 +0200
Subject: [tex-live] no backups kept
Message-ID: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>

Hi,

I wanted to test the backups functionality, and something strange happens: upon removing collection-context, no backups at all have been done.

$ tlmgr option show
Number of backups to keep (autobackup): 1
Directory for backups (backupdir): tlpkg/backups
Create formats on installation (formats): 1
Run tlmgr generate updmap after maps have changed (generate_updmap): 0
Install documentation files (docfiles): 1
Install source files (srcfiles): 1
Default package repository (repository): /Users/jfb/Downloads/TLmirror/
Run postinst code blobs (postcode): 1
Destination for symlinks for binaries (sys_bin): /usr/local/bin
Destination for symlinks for info docs (sys_info): /usr/local/share/info
Destination for symlinks for man pages (sys_man): /usr/local/share/man

$ tlmgr info collections
tlmgr: package repository /Users/jfb/Downloads/TLmirror (verified)
i collection-basic: Essential programs and files
  collection-bibtexextra: BibTeX additional styles
i collection-binextra: TeX auxiliary programs
i collection-context: ConTeXt and packages
i collection-fontsextra: Additional fonts
i ...

$ tlmgr remove collection-context
tlmgr: not removing collection-context, needed by scheme-context
tlmgr: no packages removed.
tlmgr: action remove returned an error; continuing.
tlmgr: An error has occurred. See above messages. Exiting.

$ tlmgr remove scheme-context
tlmgr: removing collection-context
tlmgr: removing collection-metapost
tlmgr: removing package automata
...
tlmgr: ultimately removed these packages: automata bbcard blockdraw_mp bpolynomial cmarrows collection-context collection-metapost context context-account context-algorithmic context-animation context-annotation context-bnf context-chromato context-cmscbf context-cmttbf context-construction-plan context-cyrillicnumbers context-degrade context-fancybreak context-filter context-french context-fullpage context-gantt context-gnuplot context-inifile context-layout context-letter context-lettrine context-mathsets context-notes-zh-cn context-rst context-ruby context-simplefonts context-simpleslides context-title context-transliterator context-typearea context-typescripts context-vim context-visualcounter context.x86_64-darwinlegacy drv dviincl emp epsincl expressg exteps featpost feynmf feynmp-auto garrigues gmp hatching jmn latexmp mcf2graph metago metaobj metaplot metapost metapost.x86_64-darwinlegacy metauml mfpic mfpic4ode mp3d mparrows mpattern mpcolornames mpgraphics piechartmp repere roex roundrect scheme-context shapes slideshow splines suanpan textpath threeddice
running mktexlsr ...
done running mktexlsr.
running updmap-sys ...
done running updmap-sys.
regenerating fmtutil.cnf in /usr/local/texlive/2017/texmf-dist
tlmgr: package log updated: /usr/local/texlive/2017/texmf-var/web2c/tlmgr.log

$ du -hc -d0 /usr/local/texlive/2017/tlpkg/backups
  0B	/usr/local/texlive/2017/tlpkg/backups
  0B	total

??

Best,

Jean-Fran?ois



From jfbu at free.fr  Tue May  9 18:04:33 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 9 May 2017 18:04:33 +0200
Subject: [tex-live] how many bytes in a scheme or collection ?
Message-ID: <C538BDC2-13A8-4A6B-B0C9-C66350B98C49@free.fr>

Hi,

Is there anyway to query tlmgr about how many bytes packages
in a given collection amount to?

Already, simply the total of the tar.xz sizes will be
informative enough to me

I discover now that the C<ollections> menu of install-tl has
an informative indication of the total size of a custom
install. But individual collections do not indicate their
shares, one has to deduce it from selecting and deselecting.

It would be nice to have the info displayed individually to
start with.

And then it would be nice if later on tlmgr could provide this
too at a later stage, when one hesitates about installing an
additional whole collection via tlmgr.

Is there some way already to get
that info ?

Best

Jean-Fran?ois

From nikola.lecic at anthesphoria.net  Tue May  9 21:01:21 2017
From: nikola.lecic at anthesphoria.net (Nikola =?UTF-8?B?TGXEjWnEhw==?=)
Date: Tue, 9 May 2017 22:01:21 +0300
Subject: [tex-live] lualatex in pretest: "(linebreak): invalid list tail,
 probably missing glue"
In-Reply-To: <201705091441.v49EfhJd001069@anthesphoria.net>
References: <201705091441.v49EfhJd001069@anthesphoria.net>
Message-ID: <201705091901.v49J1YPo005423@anthesphoria.net>

On Tue, 9 May 2017 17:41:24 +0300
  in <201705091441.v49EfhJd001069 at anthesphoria.net>
  Nikola Le?i? <nikola.lecic at anthesphoria.net> wrote:

> I know that texlive-sr.tex is not really an MWE

I think found where the problem lies. Please try to compile this with
lualatex twice:

\documentclass{article}
\usepackage{polyglossia}
\setmainlanguage{serbian}
\setmainfont{Old Standard}
\begin{document}
??\char"0302 ?
\end{document}

After second pass, you will get

! error:  (linebreak): invalid list tail, probably missing glue
!  ==> Fatal error occurred, no output PDF file produced!

I guess this shouldn't happen...

-- 
Nikola Le?i? = ?????? ?????
fingerprint : FEF3 66AF C90E EDC3 D878  7CDC 956D F4AB A377 1C9B
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 331 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/835c282b/attachment.sig>

From jfbu at free.fr  Tue May  9 21:49:27 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 9 May 2017 21:49:27 +0200
Subject: [tex-live] no backups kept
In-Reply-To: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>
References: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>
Message-ID: <0099BFF5-02BC-4F91-97C9-5777DD9AF4A4@free.fr>


Le 9 mai 2017 ? 17:44, jfbu <jfbu at free.fr> a ?crit :

> Hi,
> 
> I wanted to test the backups functionality, and something strange happens: upon removing collection-context, no backups at all have been done.


perhaps the reason is simply that backups are triggered by update actions

without any updates having been done, there were no backups

I erroneously thought "remove" would make sure there were backups

That would explain it

Best

Jean-Fran?ois

From karl at freefriends.org  Tue May  9 23:36:01 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 9 May 2017 21:36:01 GMT
Subject: [tex-live] lualatex in pretest: "(linebreak): invalid list tail,
 probably missing glue"
In-Reply-To: <201705091901.v49J1YPo005423@anthesphoria.net>
Message-ID: <201705092136.v49La1bh002563@freefriends.org>

    I guess this shouldn't happen...

I guess not either, but it's nothing I can solve. You could conceivably
report the bug to lualatex-dev at tug.org, though I'm not sure if anything
will happen. I wouldn't wait around for it to translate the doc.

All I can suggest is to simplify your document, e.g., don't use
polyglossia, don't use Old Standard, don't use lualatex, etc. Sorry ... -k

From karl at freefriends.org  Tue May  9 23:50:57 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 9 May 2017 21:50:57 GMT
Subject: [tex-live] no backups kept
In-Reply-To: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>
Message-ID: <201705092150.v49LovqA004373@freefriends.org>

    tlmgr: ultimately removed these packages

I believe you are correct only tlmgr update does backups. It sounds
plausible on the face of it for tlmgr remove to also backup packages
being removed, but I'm not sure. Norbert, wdyt? --thanks, karl.

From karl at freefriends.org  Tue May  9 23:56:25 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 9 May 2017 21:56:25 GMT
Subject: [tex-live] No user prompting asking for PATH adjustment
	after	pretest install?
In-Reply-To: <92e75964-3f1c-31b7-7356-d18c3e292c24@free.fr>
Message-ID: <201705092156.v49LuPUj005000@freefriends.org>

    At the end of all this I was surprised not to see any message
    about updating my PATH for 2017 location.

I still see the usual message after a test install:
    ...
    Most importantly, add /tmp/ki/bin/x86_64-linux
    to your PATH for current and future sessions.

I can't explain why you didn't see it, since I doubt you have the envvar
TEXLIVE_INSTALL_NO_WELCOME set. (Which explicitly omits the msg.)

It's printed in this loop around current line 597 of install-tl, if you
want to delve into it ... --best, karl.


From nikola.lecic at anthesphoria.net  Wed May 10 00:11:37 2017
From: nikola.lecic at anthesphoria.net (Nikola =?UTF-8?B?TGXEjWnEhw==?=)
Date: Wed, 10 May 2017 01:11:37 +0300
Subject: [tex-live] lualatex in pretest: "(linebreak): invalid list tail,
 probably missing glue"
In-Reply-To: <201705092136.v49La1bh002563@freefriends.org>
References: <201705091901.v49J1YPo005423@anthesphoria.net>
 <201705092136.v49La1bh002563@freefriends.org>
Message-ID: <201705092211.v49MBmMY008771@anthesphoria.net>

On Tue, 9 May 2017 21:36:01 GMT
  in <201705092136.v49La1bh002563 at freefriends.org>
  Karl Berry <karl at freefriends.org> wrote:

>     I guess this shouldn't happen...
> 
> I guess not either, but it's nothing I can solve. You could
> conceivably report the bug to lualatex-dev at tug.org, though I'm not
> sure if anything will happen. 

Will do it.

> I wouldn't wait around for it to translate the doc.

No, of course I won't wait. The translation is almost complete.

> All I can suggest is to simplify your document, e.g., don't use
> polyglossia, don't use Old Standard, don't use lualatex, etc.

It's oldstandard + combining diacritics + lualatex problem (not
polyglossia). I'll find some workaround.

-- 
Nikola Le?i? = ?????? ?????
fingerprint : FEF3 66AF C90E EDC3 D878  7CDC 956D F4AB A377 1C9B
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 331 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170510/f22014b6/attachment.sig>

From karl at freefriends.org  Wed May 10 00:13:45 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 9 May 2017 22:13:45 GMT
Subject: [tex-live] xetex.def
In-Reply-To: <62c0d988-0cf4-8788-2de5-8b7e392e564a@morningstar2.co.uk>
Message-ID: <201705092213.v49MDjGa007151@freefriends.org>

    what is the reason for having two .def files here.

I can't imagine an insurmountable technical reason for having two
independent .def files these days. Indeed, it would seem highly
desirable to me to merge them, with conditional parts as needed. It sure
was a pain to be applying changes to both independently, when I was
the one doing that. One of the reasons I was so happy to turn them over
to you guys :).

As I expect you know, they currently exist separately because of their
historical development. xetex.def was based on dvipdfmx.def at the time
of creating XeTeX. And that was reasonable during active XeTeX
development. And so it has continued to the present day.  But nowadays,
when dvipdfmx and xdvipdfmx themselves have been (sort of) merged
(thanks always to Khaled ...), merging the .def files too seems good.

--thanks, karl.

From norbert at preining.info  Wed May 10 04:50:31 2017
From: norbert at preining.info (Norbert Preining)
Date: Wed, 10 May 2017 11:50:31 +0900
Subject: [tex-live] no backups kept
In-Reply-To: <201705092150.v49LovqA004373@freefriends.org>
References: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>
 <201705092150.v49LovqA004373@freefriends.org>
Message-ID: <20170510025031.kwouzyy43rj5ezk4@bulldog.preining.info>

> I believe you are correct only tlmgr update does backups. It sounds
> plausible on the face of it for tlmgr remove to also backup packages
> being removed, but I'm not sure. Norbert, wdyt? --thanks, karl.

I will investigate. And if possible add support for backups on removal.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed May 10 06:44:57 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 10 May 2017 13:44:57 +0900
Subject: [tex-live] no backups kept
In-Reply-To: <201705092150.v49LovqA004373@freefriends.org>
References: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>
 <201705092150.v49LovqA004373@freefriends.org>
Message-ID: <20170510044457.23eadx4y7yndsjsg@bulldog.preining.info>

> plausible on the face of it for tlmgr remove to also backup packages

Submitted to svn. I would be happy if you could test tomorrow. Here it
worked.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed May 10 07:10:57 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 10 May 2017 14:10:57 +0900
Subject: [tex-live] on installing pretest,
 the "create symlinks in system directories" option has no effect
In-Reply-To: <20170509094931.5vvpgoyn4xm4lqia@bulldog.preining.info>
References: <CAKdt-CdyDgukyeqvk42DJMh+igStrGmZRtCDyQh7TMTw9FuSuA@mail.gmail.com>
 <20170508045358.rzxeflsxu6kcwc47@burischnitzel.preining.info>
 <CAKdt-Ce7XrFj=jfhdc-vQmSJ=3gkSV-ky-dTO1i2PC28C31MoA@mail.gmail.com>
 <20170509094931.5vvpgoyn4xm4lqia@bulldog.preining.info>
Message-ID: <20170510051057.5jlf6gpglipgyacp@bulldog.preining.info>

> I guess something happened when reworking the installer, I will
> investigate.

Fixed in svn, should be in tomorrow's rebuild.

Thanks for the report!

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed May 10 07:14:14 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 10 May 2017 14:14:14 +0900
Subject: [tex-live] how many bytes in a scheme or collection ?
In-Reply-To: <C538BDC2-13A8-4A6B-B0C9-C66350B98C49@free.fr>
References: <C538BDC2-13A8-4A6B-B0C9-C66350B98C49@free.fr>
Message-ID: <20170510051414.vbr7g74lrkh7wp6u@bulldog.preining.info>

Hi

> Is there anyway to query tlmgr about how many bytes packages
> in a given collection amount to?

	tlmgr info $pkg
gives you the sizes of source files, run files, and doc files.

> It would be nice to have the info displayed individually to
> start with.

You mean in the installer? Not by now, not sure I want to do this
now.

> And then it would be nice if later on tlmgr could provide this
> too at a later stage, when one hesitates about installing an
> additional whole collection via tlmgr.

Could be done, in principle ...

> Is there some way already to get
> that info ?

Yes, loop over the packages to be installed and add up the sizes
given by tlmgr info.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From wujastyk at gmail.com  Wed May 10 07:33:40 2017
From: wujastyk at gmail.com (Dominik Wujastyk)
Date: Tue, 9 May 2017 23:33:40 -0600
Subject: [tex-live] on installing pretest,
 the "create symlinks in system directories" option has no effect
In-Reply-To: <20170510051057.5jlf6gpglipgyacp@bulldog.preining.info>
References: <CAKdt-CdyDgukyeqvk42DJMh+igStrGmZRtCDyQh7TMTw9FuSuA@mail.gmail.com>
 <20170508045358.rzxeflsxu6kcwc47@burischnitzel.preining.info>
 <CAKdt-Ce7XrFj=jfhdc-vQmSJ=3gkSV-ky-dTO1i2PC28C31MoA@mail.gmail.com>
 <20170509094931.5vvpgoyn4xm4lqia@bulldog.preining.info>
 <20170510051057.5jlf6gpglipgyacp@bulldog.preining.info>
Message-ID: <CAKdt-Ce3adRP6B-YBo6HaKFueZwouksp2_vB0jq+20v6qFR=oQ@mail.gmail.com>

Thank you!

--
Sent from Dominik Wujastyk's Android phone

On 9 May 2017 11:11 pm, "Norbert Preining" <preining at logic.at> wrote:

> > I guess something happened when reworking the installer, I will
> > investigate.
>
> Fixed in svn, should be in tomorrow's rebuild.
>
> Thanks for the report!
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170509/0f159a2b/attachment.html>

From jfbu at free.fr  Wed May 10 08:29:15 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 10 May 2017 08:29:15 +0200
Subject: [tex-live] No user prompting asking for PATH adjustment after
	pretest install?
In-Reply-To: <201705092156.v49LuPUj005000@freefriends.org>
References: <201705092156.v49LuPUj005000@freefriends.org>
Message-ID: <D3D8EA33-8BCF-41B7-8AF6-04A51020606E@free.fr>


Hi Karl:

>    At the end of all this I was surprised not to see any message
>    about updating my PATH for 2017 location.
> 
> I still see the usual message after a test install:
>    ...
>    Most importantly, add /tmp/ki/bin/x86_64-linux
>    to your PATH for current and future sessions.
> 
> I can't explain why you didn't see it, since I doubt you have the envvar
> TEXLIVE_INSTALL_NO_WELCOME set. (Which explicitly omits the msg.)


indeed I don't have this envvar set
> 
> It's printed in this loop around current line 597 of install-tl, if you
> want to delve into it ... --best, karl.
> 

I made another try this morning with the minimal scheme
and the installation did finish with what was not seen 
yesterday:

**** <start of quote>
Enter command: I
Installing to: /usr/local/texlive/foo
Installing [01/56, time/total: ??:??/??:??]: amsfonts [4725k]
Installing [02/56, time/total: 00:00/00:00]: bibtex [389k]
Installing [03/56, time/total: 00:01/00:04]: bibtex.x86_64-darwinlegacy [75k]
Installing [04/56, time/total: 00:01/00:04]: cm [237k]
Installing [05/56, time/total: 00:01/00:04]: collection-basic [1k]

...
Installing [56/56, time/total: 00:05/00:05]: xdvi.x86_64-darwinlegacy [482k]
Time used for installing the packages: 00:05
running mktexlsr /usr/local/texlive/foo/texmf-dist ...
mktexlsr: Updating /usr/local/texlive/foo/texmf-dist/ls-R... 

...
running package-specific postactions
finished with package-specific postactions

 ----------------------------------------------------------------------
 The following environment variables contain the string "tex"
 (case-independent).  If you're doing anything but adding personal
 directories to the system paths, they may well cause trouble somewhere
 while running TeX.  If you encounter problems, try unsetting them.

...
Add /usr/local/texlive/foo/texmf-dist/doc/man to MANPATH.
Add /usr/local/texlive/foo/texmf-dist/doc/info to INFOPATH.
Most importantly, add /usr/local/texlive/foo/bin/x86_64-darwinlegacy
to your PATH for current and future sessions.

Logfile: /usr/local/texlive/foo/install-tl.log
****


Yesterday the entirety of the console output after 
"finished with package-specific postactions"
was missing

In its place there was something like

scheme-custom undefined

I have forgotten the exact wording.

I have only about 4G left on my hard-disk so I can not repeat
the process of yesterday where about 4,1G were installed
into /usr/local/texlive,

yesterday I had said "Yes" to 

**** <start of quote>
If you want the selection of schemes/collections and various options being
taken over press `y', otherwise anything else.

Import settings from previous TeX Live installation: (y/n): 
****

This seems to have put the installer into some type of error
condition at the end, having to do with with scheme-custom
being "undefined",
and it aborted before prompting about making PATH update.

Sorry I can't repeat the whole process, barring removing 
/usr/local/texlive/2017 and re-installing. As mentioned
above I have only 4,5G left on my disk and don't want to
go higher. At end of pretest period I will reclaim
the 3,2G from my local dist rsync'ed tlpretest mirror.

And I don't want to have Time Machine again spin for
hours over wifi to backup the 4G

Best

Jean-Fran?ois




From jfbu at free.fr  Wed May 10 08:42:42 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 10 May 2017 08:42:42 +0200
Subject: [tex-live] how many bytes in a scheme or collection ?
In-Reply-To: <20170510051414.vbr7g74lrkh7wp6u@bulldog.preining.info>
References: <C538BDC2-13A8-4A6B-B0C9-C66350B98C49@free.fr>
 <20170510051414.vbr7g74lrkh7wp6u@bulldog.preining.info>
Message-ID: <EB2D4210-8624-4BC9-8F3C-2C828088D342@free.fr>

Hi Norbert

>> It would be nice to have the info displayed individually to
>> start with.
> 
> You mean in the installer? Not by now, not sure I want to do this
> now.


Indeed, there isn't much space indeed where to display that info

> 
>> And then it would be nice if later on tlmgr could provide this
>> too at a later stage, when one hesitates about installing an
>> additional whole collection via tlmgr.
> 
> Could be done, in principle ...


... good !

> 
>> Is there some way already to get
>> that info ?
> 
> Yes, loop over the packages to be installed and add up the sizes
> given by tlmgr info.

I have always been a promoter of training kids to practice 
mental arithmetic !

I also had a colleague who had a login script which
would refuse to start-up his station if he could not
solve in less than 20s some such computations...

...ok, will think about it,

Jean-Fran?ois



From jfbu at free.fr  Wed May 10 08:44:15 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 10 May 2017 08:44:15 +0200
Subject: [tex-live] no backups kept
In-Reply-To: <20170510044457.23eadx4y7yndsjsg@bulldog.preining.info>
References: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>
 <201705092150.v49LovqA004373@freefriends.org>
 <20170510044457.23eadx4y7yndsjsg@bulldog.preining.info>
Message-ID: <0E1680DF-3F22-4AFA-B4E9-AF060058E73C@free.fr>

Hi Norbert

>> plausible on the face of it for tlmgr remove to also backup packages
> 
> Submitted to svn. I would be happy if you could test tomorrow. Here it
> worked.
> 

I will try tomorrow morning May 11 (Europe) and report

Best

Jean-Fran?ois



From news3 at nililand.de  Wed May 10 09:42:55 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 10 May 2017 09:42:55 +0200
Subject: [tex-live] lualatex in pretest: "(linebreak): invalid list tail,
	probably missing glue"
References: <201705091441.v49EfhJd001069@anthesphoria.net>
Message-ID: <1mc0h2vqdnw4t$.dlg@nililand.de>

Am Tue, 9 May 2017 17:41:24 +0300 schrieb Nikola Le?i?:

> * take texlive-sr.tex, texlive-sr.sty and Makefile from the attachment,
>   and put them over existing files in pretest

Side remark: Don't use xltxtra. It is outdated. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From joseph.wright at morningstar2.co.uk  Wed May 10 10:36:37 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 10 May 2017 09:36:37 +0100
Subject: [tex-live] xetex.def
In-Reply-To: <201705092213.v49MDjGa007151@freefriends.org>
References: <201705092213.v49MDjGa007151@freefriends.org>
Message-ID: <66f80091-202c-a2e4-de7d-b5ef7cfb28ce@morningstar2.co.uk>

On 09/05/2017 23:13, Karl Berry wrote:
>     what is the reason for having two .def files here.
> 
> I can't imagine an insurmountable technical reason for having two
> independent .def files these days. Indeed, it would seem highly
> desirable to me to merge them, with conditional parts as needed. It sure
> was a pain to be applying changes to both independently, when I was
> the one doing that.

'Yes'

> One of the reasons I was so happy to turn them over
> to you guys :).

Well the ideas originate from the team ... you'll see for expl3 we've
gone back to 'one definite source' as the number of drivers is nowadays
small and predictable.

> As I expect you know, they currently exist separately because of their
> historical development. xetex.def was based on dvipdfmx.def at the time
> of creating XeTeX. And that was reasonable during active XeTeX
> development. And so it has continued to the present day.  But nowadays,
> when dvipdfmx and xdvipdfmx themselves have been (sort of) merged
> (thanks always to Khaled ...), merging the .def files too seems good.

OK, I'll probably work on this but not before TL'17 release: somewhat
risky and not something I'd want to put on the DVD. (I will send the
latest update to CTAN to fix the issue concerning scaling of links.)

Joseph


From karl at freefriends.org  Thu May 11 00:04:07 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 10 May 2017 22:04:07 GMT
Subject: [tex-live] No user prompting asking for PATH adjustment
	after	pretest install?
In-Reply-To: <D3D8EA33-8BCF-41B7-8AF6-04A51020606E@free.fr>
Message-ID: <201705102204.v4AM477b006195@freefriends.org>

    yesterday I had said "Yes" to 
    **** <start of quote>

Ah. I'm not surprised that caused problems.

I have to admit I am tempted to simply take the question about importing
previous settings away ... would anyone really miss it?


From w.m.l at gmx.net  Thu May 11 02:48:59 2017
From: w.m.l at gmx.net (Robert)
Date: Thu, 11 May 2017 02:48:59 +0200
Subject: [tex-live] No user prompting asking for PATH adjustment after
 pretest install?
In-Reply-To: <201705102204.v4AM477b006195@freefriends.org>
References: <D3D8EA33-8BCF-41B7-8AF6-04A51020606E@free.fr>
 <201705102204.v4AM477b006195@freefriends.org>
Message-ID: <69006541-443a-7991-5883-6311feb23310@gmx.net>

On 11.05.17 00:04, Karl Berry wrote:
> I have to admit I am tempted to simply take the question about importing
> previous settings away ... would anyone really miss it?

Every year, I'm happy to be able to just answer "yes" instead of trying 
to remember which options I chose last time, so yes, I would definitely 
miss it.
(In fact, I would even be happier if TL could additionally install the 
packages/collections that I installed after the main installation.)

Best,
-- 
  Robert


From w.m.l at gmx.net  Thu May 11 02:48:59 2017
From: w.m.l at gmx.net (Robert)
Date: Thu, 11 May 2017 02:48:59 +0200
Subject: [tex-live] No user prompting asking for PATH adjustment after
 pretest install?
In-Reply-To: <201705102204.v4AM477b006195@freefriends.org>
References: <D3D8EA33-8BCF-41B7-8AF6-04A51020606E@free.fr>
 <201705102204.v4AM477b006195@freefriends.org>
Message-ID: <69006541-443a-7991-5883-6311feb23310@gmx.net>

On 11.05.17 00:04, Karl Berry wrote:
> I have to admit I am tempted to simply take the question about importing
> previous settings away ... would anyone really miss it?

Every year, I'm happy to be able to just answer "yes" instead of trying 
to remember which options I chose last time, so yes, I would definitely 
miss it.
(In fact, I would even be happier if TL could additionally install the 
packages/collections that I installed after the main installation.)

Best,
-- 
  Robert

From preining at logic.at  Thu May 11 05:17:56 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 11 May 2017 12:17:56 +0900
Subject: [tex-live] how many bytes in a scheme or collection ?
In-Reply-To: <EB2D4210-8624-4BC9-8F3C-2C828088D342@free.fr>
References: <C538BDC2-13A8-4A6B-B0C9-C66350B98C49@free.fr>
 <20170510051414.vbr7g74lrkh7wp6u@bulldog.preining.info>
 <EB2D4210-8624-4BC9-8F3C-2C828088D342@free.fr>
Message-ID: <20170511031756.5filnz3stg5pdghs@bulldog.preining.info>

> >> And then it would be nice if later on tlmgr could provide this
> >> too at a later stage, when one hesitates about installing an
> >> additional whole collection via tlmgr.
> > 
> > Could be done, in principle ...
> 
> 
> ... good !

Done, should be in tomorrows tlmgr.

	tlmgr info <collection>
	tlmgr info <scheme>

gives now not empty sizes, but the *accumulated* size:

	$ tlmgr info collection-context
	...
	sizes:       137793k
	...

Note that:
* same-level deps are not included, that is, if there is
  a collection depending onto another (we have these cases),
  the size of the later is not included! Same for schemes.
* don't trust the sizes to the bytes ;-)

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Thu May 11 12:32:03 2017
From: jfbu at free.fr (jfbu)
Date: Thu, 11 May 2017 12:32:03 +0200
Subject: [tex-live] no backups kept
In-Reply-To: <0E1680DF-3F22-4AFA-B4E9-AF060058E73C@free.fr>
References: <2BACBF3D-00C4-40BB-854B-1F80C00D12FC@free.fr>
 <201705092150.v49LovqA004373@freefriends.org>
 <20170510044457.23eadx4y7yndsjsg@bulldog.preining.info>
 <0E1680DF-3F22-4AFA-B4E9-AF060058E73C@free.fr>
Message-ID: <8C28EAEF-56B5-4488-8D3B-BE6A76BCD8E9@free.fr>


Hi Norbert

I tried today and it works.

$ du -hc -d0 /usr/local/texlive/2017/tlpkg/backups
324K	/usr/local/texlive/2017/tlpkg/backups
324K	total

(this was presumably from tlmgr update --self)

$ tlmgr remove collection-metapost
tlmgr: saving backups to /usr/local/texlive/2017/tlpkg/backups
tlmgr: removing collection-metapost
[...]
tlmgr: package log updated: /usr/local/texlive/2017/texmf-var/web2c/tlmgr.log

$ du -hc -d0 /usr/local/texlive/2017/tlpkg/backups
 31M	/usr/local/texlive/2017/tlpkg/backups
 31M	total

Thanks !

Jean-Fran?ois

From norbert at preining.info  Fri May 12 04:01:42 2017
From: norbert at preining.info (Norbert Preining)
Date: Fri, 12 May 2017 11:01:42 +0900
Subject: [tex-live] bug/warning on updates in tlmgr
Message-ID: <20170512020142.tgqab7itel3cig2w@bulldog.preining.info>

Just FYI, today's tlmgr has a bug:
	Use of uninitialized value $totalsize in multiplication ...
which is fixed in the repo already and will be in tomorrow's tlmgr.

Sorry

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Fri May 12 08:17:10 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 12 May 2017 08:17:10 +0200
Subject: [tex-live] how many bytes in a scheme or collection ?
In-Reply-To: <20170511031756.5filnz3stg5pdghs@bulldog.preining.info>
References: <C538BDC2-13A8-4A6B-B0C9-C66350B98C49@free.fr>
 <20170510051414.vbr7g74lrkh7wp6u@bulldog.preining.info>
 <EB2D4210-8624-4BC9-8F3C-2C828088D342@free.fr>
 <20170511031756.5filnz3stg5pdghs@bulldog.preining.info>
Message-ID: <4A1C6CE1-42E2-40B3-AF80-7E24BBD501AA@free.fr>

Hi Norbert

>>>> And then it would be nice if later on tlmgr could provide this
>>>> too at a later stage, when one hesitates about installing an
>>>> additional whole collection via tlmgr.
>>> 
>>> Could be done, in principle ...
>> 
>> 
>> ... good !
> 
> Done, should be in tomorrows tlmgr.
> 
> 	tlmgr info <collection>
> 	tlmgr info <scheme>
> 
> gives now not empty sizes, but the *accumulated* size:
> 
> 	$ tlmgr info collection-context
> 	...
> 	sizes:       137793k
> 	...
> 
> Note that:
> * same-level deps are not included, that is, if there is
>  a collection depending onto another (we have these cases),
>  the size of the later is not included! Same for schemes.
> * don't trust the sizes to the bytes ;-)

This works on my side! (and reports currently 137809k
for collection-context).

Tested with tlmgr rev 44293. (but see my reply
to your message signaling a problem with today's update)

Best,

Jean-Fran?ois



From jfbu at free.fr  Fri May 12 08:20:33 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 12 May 2017 08:20:33 +0200
Subject: [tex-live] bug/warning on updates in tlmgr
In-Reply-To: <20170512020142.tgqab7itel3cig2w@bulldog.preining.info>
References: <20170512020142.tgqab7itel3cig2w@bulldog.preining.info>
Message-ID: <49912376-D550-44E0-B754-84322EFE0ED0@free.fr>


Hi Norbert

I did

$ tlmgr --repository=ftp://tug.org/texlive/tlcritical update --self
tlmgr: package repository ftp://tug.org/texlive/tlcritical (verified)
tlmgr: saving backups to /usr/local/texlive/2017/tlpkg/backups
[1/1, ??:??/??:??] update: texlive.infra [338k] (44275 -> 44293) ... done
running mktexlsr ...
done running mktexlsr.
tlmgr: package log updated: /usr/local/texlive/2017/texmf-var/web2c/tlmgr.log

and I have not hit the bug yet with this version, which was it seems also
the one currently on the tlpretest mirror I rsync'ed from:

update-tlmgr-latest.sh -> update-tlmgr-r44293.sh

However when I do

$ tlmgr --version

it reports currently

tlmgr revision 44289 (2017-05-11 04:41:34 +0200)
tlmgr using installation: /usr/local/texlive/2017
TeX Live (http://tug.org/texlive) version 2017

Hence there seems to be a discrepancy between version numbers:
44289 and 44293

Best,

Jean-Fran?ois

From arash at gnu.org  Fri May 12 08:32:26 2017
From: arash at gnu.org (Arash Esbati)
Date: Fri, 12 May 2017 08:32:26 +0200
Subject: [tex-live] No user prompting asking for PATH adjustment after
	pretest install?
In-Reply-To: <69006541-443a-7991-5883-6311feb23310@gmx.net> (Robert's message
 of "Thu, 11 May 2017 02:48:59 +0200")
References: <D3D8EA33-8BCF-41B7-8AF6-04A51020606E@free.fr>
 <201705102204.v4AM477b006195@freefriends.org>
 <69006541-443a-7991-5883-6311feb23310@gmx.net>
Message-ID: <86wp9m1t6t.fsf@gnu.org>

Robert <w.m.l at gmx.net> writes:

> (In fact, I would even be happier if TL could additionally install the
> packages/collections that I installed after the main installation.)

+1.

This is something I'm also missing.  It would suffice if I could export
my current installed collections/packages to a file and read it while
installing the new TL version.

Best, Arash

From preining at logic.at  Fri May 12 08:46:26 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 12 May 2017 15:46:26 +0900
Subject: [tex-live] how many bytes in a scheme or collection ?
In-Reply-To: <4A1C6CE1-42E2-40B3-AF80-7E24BBD501AA@free.fr>
References: <C538BDC2-13A8-4A6B-B0C9-C66350B98C49@free.fr>
 <20170510051414.vbr7g74lrkh7wp6u@bulldog.preining.info>
 <EB2D4210-8624-4BC9-8F3C-2C828088D342@free.fr>
 <20170511031756.5filnz3stg5pdghs@bulldog.preining.info>
 <4A1C6CE1-42E2-40B3-AF80-7E24BBD501AA@free.fr>
Message-ID: <20170512064626.lh6ntzxkpi57fmfe@burischnitzel.preining.info>

Hi,

> This works on my side! (and reports currently 137809k

That is fine.

Thanks for testing.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Fri May 12 08:47:58 2017
From: norbert at preining.info (Norbert Preining)
Date: Fri, 12 May 2017 15:47:58 +0900
Subject: [tex-live] bug/warning on updates in tlmgr
In-Reply-To: <49912376-D550-44E0-B754-84322EFE0ED0@free.fr>
References: <20170512020142.tgqab7itel3cig2w@bulldog.preining.info>
 <49912376-D550-44E0-B754-84322EFE0ED0@free.fr>
Message-ID: <20170512064758.lonyu4ghvcom2apw@burischnitzel.preining.info>

> and I have not hit the bug yet with this version, which was it seems also
> the one currently on the tlpretest mirror I rsync'ed from:

It will happen on the *next* update --all, as it was introduced in this
version.

> Hence there seems to be a discrepancy between version numbers:
> 44289 and 44293

No, the one is the svn revision of the tlmgr.pl file, the other is
the maximum revision number of all the files in texlive.infra, that
is including all the perl modules.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Fri May 12 10:34:10 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 12 May 2017 10:34:10 +0200
Subject: [tex-live] bug/warning on updates in tlmgr
In-Reply-To: <20170512064758.lonyu4ghvcom2apw@burischnitzel.preining.info>
References: <20170512020142.tgqab7itel3cig2w@bulldog.preining.info>
 <49912376-D550-44E0-B754-84322EFE0ED0@free.fr>
 <20170512064758.lonyu4ghvcom2apw@burischnitzel.preining.info>
Message-ID: <cb3945a3-be13-bc19-6c2b-5e2be14d66af@free.fr>

hi

> No, the one is the svn revision of the tlmgr.pl file, the other is
> the maximum revision number of all the files in texlive.infra, that
> is including all the perl modules.

ok, thanks, so I confused texlive.infra revision number with tlmgr.pl 's one

my confusion originates from getting

[1/1, ??:??/??:??] update: texlive.infra [338k] (44275 -> 44293) ... done

in the console output after having issued 

tlmgr update --self

Possibly, I did not distinguish tlmgr and texlive.infra in my mind

(and I am more a practitioner of git tags than svn revision numbers)

Jean-Fran?ois



From jfbu at free.fr  Sat May 13 08:18:47 2017
From: jfbu at free.fr (jfbu)
Date: Sat, 13 May 2017 08:18:47 +0200
Subject: [tex-live] bug/warning on updates in tlmgr
In-Reply-To: <20170512064758.lonyu4ghvcom2apw@burischnitzel.preining.info>
References: <20170512020142.tgqab7itel3cig2w@bulldog.preining.info>
 <49912376-D550-44E0-B754-84322EFE0ED0@free.fr>
 <20170512064758.lonyu4ghvcom2apw@burischnitzel.preining.info>
Message-ID: <72D9C39F-F3DE-4D75-A11F-A15D1A9358AD@free.fr>

Hi

> It will happen on the *next* update --all, as it was introduced in this
> version.


yes, I had not yet done update --all. I did see the

    Use of uninitialized value $totalsize.

afterwards.

Confirming that this is now gone with today's update

update: texlive.infra [338k] (44293 -> 44301) ... done

Best,
Jean-Fran?ois

From usenet at siart.de  Tue May 16 10:15:55 2017
From: usenet at siart.de (Uwe Siart)
Date: Tue, 16 May 2017 10:15:55 +0200
Subject: [tex-live] [tlmgr] --help doesn't mention auxtrees
Message-ID: <84vap18bes.fsf@siart.de>


The 2017 news advertise a new action "conf auxtrees" but tlmgr --help
doesn't tell a word about it. Is it still to come or should it be an
undocumented feature for now?

-- 
Uwe


From jcc8 at psu.edu  Tue May 16 20:57:39 2017
From: jcc8 at psu.edu (John Collins)
Date: Tue, 16 May 2017 14:57:39 -0400
Subject: [tex-live] Package with C program: how to submit
Message-ID: <cf8de9f2-5171-ecdb-ede9-82c02bc88a46@psu.edu>

I am one of the maintainers of a package axodraw2 
(http://www.ctan.org/pkg/axodraw2) that is on CTAN and that we'd like to 
be included in TeXLive.  It's not in TeXLive at the moment, and as far 
as I can see the only reason is that one component of the package is a C 
program that needs to be compiled, but the package isn't set up to be 
compatible with the TeXLive build method.

Unfortunately, I couldn't work out from the TeXLive information at 
https://tug.org/texlive/pkgcontrib.html exactly what I need to put in 
the set of files uploaded to CTAN upload to make it suitable for 
TeXLive.  I looked at one or two apparently relevant packages (e.g., 
detex) but it wasn't clear to me that those obey the stated TeXLive 
requirements.  Could someone point me to a good example for a simple 
case?  Is there anything else I need to do to get axodraw2 into TeXLive?

(In the axodraw2 package, there is a single monolithic source file in 
very standard C, so absolutely nothing complicated is needed. Of course, 
in an ideal world, we would have converted the program to Perl.  But 
that's for the future ...)

Thank you,
John Collins


From karl at freefriends.org  Wed May 17 00:17:16 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 16 May 2017 22:17:16 GMT
Subject: [tex-live] [tlmgr] --help doesn't mention auxtrees
In-Reply-To: <84vap18bes.fsf@siart.de>
Message-ID: <201705162217.v4GMHGTR031542@freefriends.org>

    The 2017 news advertise a new action "conf auxtrees" but tlmgr --help
    doesn't tell a word about it.

It is there under the conf action:

   The subcommand "auxtrees" allows adding and removing ...

It is only one paragraph and a couple of examples. Also online at (sorry
about the url):

http://tug.org/texlive/doc/tlmgr.html#conf-texmf-tlmgr-updmap---conffile-file---delete-key-value-head2-conf-auxtrees---conffile-file-show-add-delete-value

(There is also a mistake in that the =head2 pod command shows up
literally in the output. Fixed for tonight ...) --thanks, karl.

From karl at freefriends.org  Wed May 17 00:39:39 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 16 May 2017 22:39:39 GMT
Subject: [tex-live] Package with C program: how to submit
In-Reply-To: <cf8de9f2-5171-ecdb-ede9-82c02bc88a46@psu.edu>
Message-ID: <201705162239.v4GMddtQ002512@freefriends.org>

Hi John - I also believe that C compilation is the only stumbling
block for getting axodraw2 in TL.

There are a bunch of details, but let me ask something else first: we
just (yesterday) finished what was hoped to be the last build of
binaries for TL17. How problematic is it to wait for TL18?  (Sorry.)

Thanks for the note,
Karl

From witiko at mail.muni.cz  Thu May 18 08:48:17 2017
From: witiko at mail.muni.cz (=?iso-8859-1?Q?V=EDt_Novotn=FD?=)
Date: Thu, 18 May 2017 08:48:17 +0200
Subject: [tex-live] md5.sumhexa unavailable in luatex from the pretest
 TL2017
In-Reply-To: <20170504080115.6d5ey4t2rdua54wx@burischnitzel.preining.info>
References: <20170503105332.36dzv2ljwndvdbhr@inspiron>
 <CE943BB8979B46E2B593B9580D3DEECE@CJ3001517A>
 <20170504075058.iwiwowrq4xgxg6ih@inspiron>
 <20170504080115.6d5ey4t2rdua54wx@burischnitzel.preining.info>
Message-ID: <20170518064817.k5lddq55rzqltivo@inspiron>

On Thu, May 04, 2017 at 05:01:15PM +0900, Norbert Preining wrote:
> > thank you for the response. Is the binary going to be rebuild prior to
> > the TL 2017 release, or should I assume that this bug may appear in the
> > release version and update my packages accordingly?
> 
> Yes, the binaries will be rebuild.
> 
> Norbert

Confirming that the current pretest binary no longer suffers from the bug.

Best Regards,
V?t Novotn?

> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Fri May 19 23:27:23 2017
From: karl at freefriends.org (Karl Berry)
Date: Fri, 19 May 2017 21:27:23 GMT
Subject: [tex-live] tl17 freeze at hand
Message-ID: <201705192127.v4JLRNTC017960@freefriends.org>

Hi everyone - I expect today to be the last day to pull regular CTAN
updates (included l3build, babel, xsim, etc.; fingers
crossed). Hopefully the final pretest build will be tonight. Manfred
will be putting together the full TeX Collection imminently.

Sorry for the late notice. If some urgent fix is needed, we can probably
cherry-pick updates for a couple more days, although of course I'd
rather not touch anything.

As far as I know the binaries are final.

More on timing of the final release when I know ...

Thanks to all,
Karl

From pablgonz at educarchile.cl  Sun May 21 23:08:50 2017
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Alfonso_Gonz=C3=A1lez_Luengo?=)
Date: Sun, 21 May 2017 17:08:50 -0400
Subject: [tex-live] Very good news for windows users
Message-ID: <CANeU4n9udstqdahzWC1GYpQSd64fMOPJq35niDz0qt7Le-TkEA@mail.gmail.com>

Today I just installed TexLive 2017, on windows 10 pro and fedora 25,
checking the utilities that texlivefor windows brings me I realize that
pdftoppm, pdftops, pdfimage are no longer taken from xpdf but from
poppler:) ... now Includes ALL the utilities to manage pdf provided by
poppler utils, like pdftocairo for example. Very excited about all the
great work and this new novelty.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170521/bc8c334c/attachment.html>

From zarniwhoop at ntlworld.com  Mon May 22 02:37:39 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Mon, 22 May 2017 01:37:39 +0100
Subject: [tex-live] Advice on debugging segfault in luatex (2017 source,
	gcc-7.1) ?
Message-ID: <20170522003739.GA14070@milliways.localdomain>

OK, I came late to this - I'm behind on everything and my "distro"
of choice (LFS) has moved to gcc-7.1.  First I installed the
x86_64-linux binary: works, although I was surprised to see that asy
now needs libtinfo.so.5 (libncurses.so.5 used to be fine - a post on
an Arch formum suggested symlinking to that, which seems to fix it).

IFF I can build from source, I may have further comments on asy : my
3D document seemed to build extremely slowly.  But meanwhile -

With source from r44437 I'm getting one test failure in 'make check':
FAIL: luatexdir/luaimage.test

And when I look in my build dir (texlive-build/ since there is
already a Build/) at texk/web2c/test-suite.log I see bad news:

line 12:   5909 Segmentation fault   ./luatex -ini luaimage

So, I'm fairly sure this is a gcc-7.1 problem.  I've installed gdb,
and added -g to my CFLAGS and CXXFLAGS, but I'm having trouble
trying to run that command by hand (so that I know I have the
*right* command before I invoke gdb).

I went into my texlive-build/texk/web2c directory and tried to run
./luatex -ini ../../../texk/web2c/luatexdir/tests/luaimage.tex
(note in passing that the luatex wrapper is very hard to exit if it
can't find the specified file)

But that just gives me:
! I can't find file `basic'.
l.5   \input basic

At least ^D works there, but can somebody give me hints about how to
run this test / where to run it from, please ?

?en
-- 
I live in a city. I know sparrows from starlings.  After that
everything is a duck as far as I'm concerned.  -- Monstrous Regiment

From kakuto at fuk.kindai.ac.jp  Mon May 22 11:29:02 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 22 May 2017 18:29:02 +0900
Subject: [tex-live]  Advice on debugging segfault in luatex (2017 source,
	gcc-7.1) ?
In-Reply-To: <CANeU4n9udstqdahzWC1GYpQSd64fMOPJq35niDz0qt7Le-TkEA@mail.gmail.com>
References: <CANeU4n9udstqdahzWC1GYpQSd64fMOPJq35niDz0qt7Le-TkEA@mail.gmail.com>
Message-ID: <998139DD0E7844B48920E97C865C60EB@CJ3001517A>

> At least ^D works there, but can somebody give me hints about how to
> run this test / where to run it from, please ?

What about

#
# change $YOUR appropriately
#
export TEXMFCNF=$YOUR/texlive-build/texk/kpathsea
export TEXINPUTS=$YOUR/texlive-build/texk/web2c/tests:$YOUR/texlive-build/texk/web2c/luatexdir/tests
export TEXFORMATS=.
./luatex -ini luaimage

#
# if the above is OK
#

./luatex -fmt=luaimage luaimage


Best,
Akira


From zarniwhoop at ntlworld.com  Mon May 22 23:29:16 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Mon, 22 May 2017 22:29:16 +0100
Subject: [tex-live] Advice on debugging segfault in luatex (2017 source,
 gcc-7.1) ?
In-Reply-To: <998139DD0E7844B48920E97C865C60EB@CJ3001517A>
References: <CANeU4n9udstqdahzWC1GYpQSd64fMOPJq35niDz0qt7Le-TkEA@mail.gmail.com>
 <998139DD0E7844B48920E97C865C60EB@CJ3001517A>
Message-ID: <20170522212916.GA10506@milliways.localdomain>

On Mon, May 22, 2017 at 06:29:02PM +0900, Akira Kakuto wrote:
> > At least ^D works there, but can somebody give me hints about how to
> > run this test / where to run it from, please ?
> 
> What about
> 
> #
> # change $YOUR appropriately
> #
> export TEXMFCNF=$YOUR/texlive-build/texk/kpathsea
> export TEXINPUTS=$YOUR/texlive-build/texk/web2c/tests:$YOUR/texlive-build/texk/web2c/luatexdir/tests
> export TEXFORMATS=.
> ./luatex -ini luaimage
> 
> #
> # if the above is OK
> #
> 
> ./luatex -fmt=luaimage luaimage
> 
> 
> Best,
> Akira

Thanks.  Didn't quite work out like that, but the segfault is when
it closes - didn't notice that last night - so even after an error
it still faults.  Got the backtrace.

?en
-- 
I live in a city. I know sparrows from starlings.  After that
everything is a duck as far as I'm concerned.  -- Monstrous Regiment

From zarniwhoop at ntlworld.com  Wed May 24 05:10:45 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Wed, 24 May 2017 04:10:45 +0100
Subject: [tex-live] Advice on debugging segfault in luatex (2017 source,
 gcc-7.1) ?
In-Reply-To: <20170522212916.GA10506@milliways.localdomain>
References: <CANeU4n9udstqdahzWC1GYpQSd64fMOPJq35niDz0qt7Le-TkEA@mail.gmail.com>
 <998139DD0E7844B48920E97C865C60EB@CJ3001517A>
 <20170522212916.GA10506@milliways.localdomain>
Message-ID: <20170524031045.GA26166@milliways.localdomain>

On Mon, May 22, 2017 at 10:29:16PM +0100, Ken Moffat wrote:
> On Mon, May 22, 2017 at 06:29:02PM +0900, Akira Kakuto wrote:
> > > At least ^D works there, but can somebody give me hints about how to
> > > run this test / where to run it from, please ?
> > 
> > What about
> > 
> > #
> > # change $YOUR appropriately
> > #
> > export TEXMFCNF=$YOUR/texlive-build/texk/kpathsea
> > export TEXINPUTS=$YOUR/texlive-build/texk/web2c/tests:$YOUR/texlive-build/texk/web2c/luatexdir/tests
> > export TEXFORMATS=.
> > ./luatex -ini luaimage
> > 

> 
> Thanks.  Didn't quite work out like that, but the segfault is when
> it closes - didn't notice that last night - so even after an error
> it still faults.  Got the backtrace.
> 
So, I got absolutely nowhere in working out what exactly in gcc-7.1
breaks this.  I also tried to build 2016, that passes all its tests.

Looking at the trace, something in the lua area seems to be
miscompiled by gcc-7.1.  The good news is that detuning CFLAGS to -O
(instead of -O2 which is the default and what I too prefer) makes
luatex work.

I looked at the documented changes for gcc-7.1: -fstore-merging and
-fcode-hoisting are both on for -O2 (and -Os), but turning both of
them off had no effect.  No other new optimizations are mentioned in
the defaults.  I then tried changing
source/libs/lua52/Makefile.in to add -O at the end of the CFLAGS but
that appeared to have no effect.

So for the moment I'm building the whole thing with -O and all my
own tests work.  I already feel as if I'm too far out and not waving
but drowning, so I don't plan to try to work out where it goes wrong
(I have a hate / hate relationship with gdb).  Sorry.

But if anyone else wants to build from source on gcc-7.1, this might
help.

?en
-- 
I live in a city. I know sparrows from starlings.  After that
everything is a duck as far as I'm concerned.  -- Monstrous Regiment

From zarniwhoop at ntlworld.com  Wed May 24 05:28:53 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Wed, 24 May 2017 04:28:53 +0100
Subject: [tex-live] Comments on asy in the x86_64 2017 pretest binary
Message-ID: <20170524032853.GA26381@milliways.localdomain>

When I posted a couple of days ago about my problem with lua in 2017
source (caused by gcc-7.1), I mentioned that I might comment more on
the binary asy if I managed to rebuild it (and the main texlive) from
source.

The reason is that 3D drawing/diagrams in asy seems exceptionally
slow in the binary.

Using the attached file (it produces a pink cylinder - not very
exciting) I run:

pdflatex cylinder.tex
asy -V cylinder-*.asy
pdflatex cylinder.tex
pdflatex cylinder.tex

At the moment I'm on an intel haswell i7 ticking along at about 3.6
GHz.  With the binary, and my Makefile to run those commands as
'make cylinder', it takes between 47 and 48 seconds.  With the
self-compiled version of asymptote it takes just over 13 seconds.

2D drawing does not seem to be impacted.  I see that my own build
of asymptote used the following flags in g++ : -Wall -DHAVE_CONFIG_H
-D_FILE_OFFSET_BITS=64 -DUSEGC  -pthread -DFFTWPP_SINGLE_THREAD
-std=c++11 -g -O3 -fno-var-tracking

Also, I throw a lot of system deps at this: gc, fftw, gsl, freeglut,
even libsigsegv.  I then rebuild Python so it can pick up tk, then
build its Imaging module - but from memory that only lets me try to
use xasy, and like so many things I have not yet acquired the knack
of doing anything useful with that.

But although the extra asymptote deps are clearly not essential, it
does seem to run a lot faster if they are present.  Perhaps they
might be reconsidered if texlive moves to a newer c++ standard for
2018 ?

?en
-- 
I live in a city. I know sparrows from starlings.  After that
everything is a duck as far as I'm concerned.  -- Monstrous Regiment
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cylinder.tex
Type: application/x-tex
Size: 403 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170524/e7d15d3a/attachment.tex>

From mojca.miklavec.lists at gmail.com  Wed May 24 09:11:16 2017
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 24 May 2017 09:11:16 +0200
Subject: [tex-live] Comments on asy in the x86_64 2017 pretest binary
In-Reply-To: <20170524032853.GA26381@milliways.localdomain>
References: <20170524032853.GA26381@milliways.localdomain>
Message-ID: <CALBOmsZaDn=pHHasitko7fP1-PRzo8YDR1kctsNyKE7rzQShUg@mail.gmail.com>

On 24 May 2017 at 05:28, Ken Moffat wrote:
> When I posted a couple of days ago about my problem with lua in 2017
> source (caused by gcc-7.1), I mentioned that I might comment more on
> the binary asy if I managed to rebuild it (and the main texlive) from
> source.
>
> The reason is that 3D drawing/diagrams in asy seems exceptionally
> slow in the binary.
>
> Using the attached file (it produces a pink cylinder - not very
> exciting) I run:
>
> pdflatex cylinder.tex
> asy -V cylinder-*.asy
> pdflatex cylinder.tex
> pdflatex cylinder.tex
>
> At the moment I'm on an intel haswell i7 ticking along at about 3.6
> GHz.  With the binary, and my Makefile to run those commands as
> 'make cylinder', it takes between 47 and 48 seconds.  With the
> self-compiled version of asymptote it takes just over 13 seconds.
>
> 2D drawing does not seem to be impacted.  I see that my own build
> of asymptote used the following flags in g++ : -Wall -DHAVE_CONFIG_H
> -D_FILE_OFFSET_BITS=64 -DUSEGC  -pthread -DFFTWPP_SINGLE_THREAD
> -std=c++11 -g -O3 -fno-var-tracking
>
> Also, I throw a lot of system deps at this: gc, fftw, gsl, freeglut,
> even libsigsegv.

I don't know about the linux binary in particular. Mac binaries are
compiled with gc, fftw, gsl statically, but no freeglut or libsigsegv.
Most binaries are probably only compiled with gc and potentially some
system opengl libraries.

> I then rebuild Python so it can pick up tk, then
> build its Imaging module - but from memory that only lets me try to
> use xasy, and like so many things I have not yet acquired the knack
> of doing anything useful with that.

Yes, Python and Tk are only useful for xasy.

> But although the extra asymptote deps are clearly not essential, it
> does seem to run a lot faster if they are present.

Would you be willing to try to recompile asymptote without some of
those dependencies and check whether that's indeed the case? It's
quite possible that slower runtime is caused by asymptote being
compiled with an ancient non-C++11 compiler.

It would be helpful to figure out the *exact* cause of the slow
binaries. We had problems with slow i386-linux luatex (factor of 2) a
few weeks ago which turned out to be related to some optimisation
flags only.

I assume you are on Linux?

> Perhaps they
> might be reconsidered if texlive moves to a newer c++ standard for
> 2018 ?

Optional libraries for asy are usually not included because it's an
extra hassle to fetch and compile all the dependencies statically
first and each person compiling has to go through the trouble of
repeating those same steps over and over again. If we provide a single
command to do all the work, it's more likely that the libraries will
be included over a wider spectrum of supported platforms.

I wrote a bunch of scripts to compile asy with a bunch of static
libraries, but the scripts would need slightly more work to be more
generally usable over a wider spectrum of platforms.

Going to C++11 will be a "fun experience", leaving many older platforms behind.

Mojca

From mojca.miklavec.lists at gmail.com  Wed May 24 09:27:39 2017
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 24 May 2017 09:27:39 +0200
Subject: [tex-live] Comments on asy in the x86_64 2017 pretest binary
In-Reply-To: <20170524032853.GA26381@milliways.localdomain>
References: <20170524032853.GA26381@milliways.localdomain>
Message-ID: <CALBOmsbhYCa2gRP0rwz-K9uZNVHteYQjbhk8=PacYskc8Ny5xg@mail.gmail.com>

On 24 May 2017 at 05:28, Ken Moffat wrote:
> When I posted a couple of days ago about my problem with lua in 2017
> source (caused by gcc-7.1), I mentioned that I might comment more on
> the binary asy if I managed to rebuild it (and the main texlive) from
> source.
>
> The reason is that 3D drawing/diagrams in asy seems exceptionally
> slow in the binary.
>
> Using the attached file (it produces a pink cylinder - not very
> exciting) I run:
>
> pdflatex cylinder.tex
> asy -V cylinder-*.asy
> pdflatex cylinder.tex
> pdflatex cylinder.tex
>
> At the moment I'm on an intel haswell i7 ticking along at about 3.6
> GHz.  With the binary, and my Makefile to run those commands as
> 'make cylinder', it takes between 47 and 48 seconds.  With the
> self-compiled version of asymptote it takes just over 13 seconds.

I have an ancient 2.26 GHz Core 2 Duo.

I tested with i386-darwin binary that was statically compiled on 10.6
with gcc 4.2 against the latest version of gsl and fftw + system
OpenGL.
It took 2 min 50 s.

I repeated the experiment with x86_64 binary that was compiled with
clang against lots of shared libraries provided by the MacPorts
package manager (readline, fftw-3, gsl, libsigsegv, ncurses, boehmgc
among others) and it took 53 s to complete. So a factor of 3+ in my
case as well, but I should be able to do more tests (comparing which
factor causes these delays exactly).

Mojca

From bernhard.kleine at gmx.net  Wed May 24 12:38:59 2017
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Wed, 24 May 2017 12:38:59 +0200
Subject: [tex-live] No longer updates on Pretest?
Message-ID: <74067347-5162-b8f5-e4c5-cfc94155e61c@gmx.net>

I wonder whether I could expect updates on the Czech pretest mirror
since I have not yet seen a final announcement here about a TL17 freeze.
Since two days I get from the mirror the message: no updates available.

Do you please comment?

Regards Bernhard


-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170524/e5590454/attachment.sig>

From kbrow1i at gmail.com  Wed May 24 14:24:26 2017
From: kbrow1i at gmail.com (Ken Brown)
Date: Wed, 24 May 2017 08:24:26 -0400
Subject: [tex-live] No longer updates on Pretest?
In-Reply-To: <74067347-5162-b8f5-e4c5-cfc94155e61c@gmx.net>
References: <74067347-5162-b8f5-e4c5-cfc94155e61c@gmx.net>
Message-ID: <a80deffe-5e24-046c-1439-3ddcbbe4e6f5@gmail.com>

On 5/24/2017 6:38 AM, Bernhard Kleine wrote:
> I wonder whether I could expect updates on the Czech pretest mirror
> since I have not yet seen a final announcement here about a TL17 freeze.

http://tug.org/pipermail/tex-live/2017-May/040157.html

From zarniwhoop at ntlworld.com  Wed May 24 20:57:23 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Wed, 24 May 2017 19:57:23 +0100
Subject: [tex-live] Comments on asy in the x86_64 2017 pretest binary
In-Reply-To: <CALBOmsZaDn=pHHasitko7fP1-PRzo8YDR1kctsNyKE7rzQShUg@mail.gmail.com>
References: <20170524032853.GA26381@milliways.localdomain>
 <CALBOmsZaDn=pHHasitko7fP1-PRzo8YDR1kctsNyKE7rzQShUg@mail.gmail.com>
Message-ID: <20170524185723.GA17731@milliways.localdomain>

On Wed, May 24, 2017 at 09:11:16AM +0200, Mojca Miklavec wrote:
> On 24 May 2017 at 05:28, Ken Moffat wrote:
> > The reason is that 3D drawing/diagrams in asy seems exceptionally
> > slow in the binary.
> >
[...]
> >
> > 2D drawing does not seem to be impacted.  I see that my own build
> > of asymptote used the following flags in g++ : -Wall -DHAVE_CONFIG_H
> > -D_FILE_OFFSET_BITS=64 -DUSEGC  -pthread -DFFTWPP_SINGLE_THREAD
> > -std=c++11 -g -O3 -fno-var-tracking
> >
> > Also, I throw a lot of system deps at this: gc, fftw, gsl, freeglut,
> > even libsigsegv.
> 
> I don't know about the linux binary in particular. Mac binaries are
> compiled with gc, fftw, gsl statically, but no freeglut or libsigsegv.
> Most binaries are probably only compiled with gc and potentially some
> system opengl libraries.
> 

I have a vague memory that when I was first trying to use/test asy
(in general, not just from TeX) freeglut was needed for "full"
rendering, but that was several versions ago and clearly no longer
true.  And I promoted libsigsegv into my asymptote build because I
will anyway build it for clisp for xindy.

> > I then rebuild Python so it can pick up tk, then
> > build its Imaging module - but from memory that only lets me try to
> > use xasy, and like so many things I have not yet acquired the knack
> > of doing anything useful with that.
> 

> Would you be willing to try to recompile asymptote without some of
> those dependencies and check whether that's indeed the case? It's
> quite possible that slower runtime is caused by asymptote being
> compiled with an ancient non-C++11 compiler.
> 

On the machine with gcc-7.1 that will be difficult (I don't use
formal package management), I'll have a look.

The other thing I changed recently was to allow asymptote to use its
default optimization (-O3) - I was told that is important, but I'm
not sure if that is picked up by the full texlive builds.

> It would be helpful to figure out the *exact* cause of the slow
> binaries. We had problems with slow i386-linux luatex (factor of 2) a
> few weeks ago which turned out to be related to some optimisation
> flags only.
> 
> I assume you are on Linux?

Yes, {,Beyond} Linux From Scratch.

I've also got a SandyBridge i3 with gcc-6.3.  I'm not sure about the
status of texlive there, but since in BLFS we use /opt I guess I can
do much the same tests there - but I see from your follow-up that
you too see the relative speedup.
> 
> Optional libraries for asy are usually not included because it's an
> extra hassle to fetch and compile all the dependencies statically
> first and each person compiling has to go through the trouble of
> repeating those same steps over and over again. If we provide a single
> command to do all the work, it's more likely that the libraries will
> be included over a wider spectrum of supported platforms.
> 
> I wrote a bunch of scripts to compile asy with a bunch of static
> libraries, but the scripts would need slightly more work to be more
> generally usable over a wider spectrum of platforms.
> 
> Going to C++11 will be a "fun experience", leaving many older platforms behind.
> 
> Mojca

Yes indeed.  I'll need to give this some thought before I jump in
and do the wrong things, and I'm supposed to be doing other things,
so probably several days before I follow up.

?en
-- 
I live in a city. I know sparrows from starlings.  After that
everything is a duck as far as I'm concerned.  -- Monstrous Regiment

From h.y.acetaminophen at gmail.com  Wed May 24 21:04:16 2017
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Thu, 25 May 2017 04:04:16 +0900
Subject: [tex-live] Add rmpost in shell_escape_commands ??
Message-ID: <193D911C-9605-4470-9765-7EB1DF0F25C2@gmail.com>

Hello,

Now TeX Live 2017 is at hand -- Thank you all for the great work.

I noticed that
* mpost was removed from shell_escape_commands list
  of texmf.cnf last year
* mpost binaries are updated to have -restricted option

Would it be possible to have new commands like
* "rmpost" (mpost -restricted)
* "rpmpost" (upmpost -restricted)
* "rupmpost" (upmpost -restricted)

And also, would it be possible/safe to have "rmpost" added to
shell_escape_commands again?

Thanks,

Hironobu Yamashita

From h.y.acetaminophen at gmail.com  Wed May 24 21:07:20 2017
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Thu, 25 May 2017 04:07:20 +0900
Subject: [tex-live] Add rmpost in shell_escape_commands ??
In-Reply-To: <193D911C-9605-4470-9765-7EB1DF0F25C2@gmail.com>
References: <193D911C-9605-4470-9765-7EB1DF0F25C2@gmail.com>
Message-ID: <D8B29DE0-7412-4B32-9B2B-5BA24EAB3823@gmail.com>

Sorry, a typo:

> * "rpmpost" (upmpost -restricted)

should be corrected to

* "rpmpost" (pmpost -restricted)

Hironobu Yamashita

From kakuto at fuk.kindai.ac.jp  Wed May 24 22:17:28 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 25 May 2017 05:17:28 +0900
Subject: [tex-live] Add rmpost in shell_escape_commands ??
In-Reply-To: <193D911C-9605-4470-9765-7EB1DF0F25C2@gmail.com>
References: <193D911C-9605-4470-9765-7EB1DF0F25C2@gmail.com>
Message-ID: <0F77BB903ECA4A2987DB114B7996E184@CJ3001517A>

> Would it be possible to have new commands like
> * "rmpost" (mpost -restricted)
> * "rpmpost" (upmpost -restricted)
> * "rupmpost" (upmpost -restricted)

(1) Usual platforms:
    ln -s mpost rmpost
    ln -s pmpost rpmpost
    ln -s upmpost rupmpost

(2) Windows
    copy mpost.exe rmpost.exe
    copy pmpost.exe rpmpost.exe
    copy upmpost.exe rupmpost.exe

Then "rmpost" is equivalent with "mpost -restricted", etc.

> And also, would it be possible/safe to have "rmpost" added to
> shell_escape_commands again?

They will be convenient, though "btex ... etex" can't be used.

Best,
Akira


From zarniwhoop at ntlworld.com  Wed May 24 22:57:00 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Wed, 24 May 2017 21:57:00 +0100
Subject: [tex-live] Comments on asy in the x86_64 2017 pretest binary
In-Reply-To: <20170524185723.GA17731@milliways.localdomain>
References: <20170524032853.GA26381@milliways.localdomain>
 <CALBOmsZaDn=pHHasitko7fP1-PRzo8YDR1kctsNyKE7rzQShUg@mail.gmail.com>
 <20170524185723.GA17731@milliways.localdomain>
Message-ID: <20170524205700.GA21038@milliways.localdomain>

On Wed, May 24, 2017 at 07:57:23PM +0100, Ken Moffat wrote:
> 
> > Would you be willing to try to recompile asymptote without some of
> > those dependencies and check whether that's indeed the case? It's
> > quite possible that slower runtime is caused by asymptote being
> > compiled with an ancient non-C++11 compiler.
> > 
> 
> On the machine with gcc-7.1 that will be difficult (I don't use
> formal package management), I'll have a look.
> 
Well, it turned out to be difficult, but not for the reason I
expected.  I can use the included gc (same version, I think, but
static lib) and disable fftw, gsl, sigsegv.  Doing that, it still
runs my cylinder test in 13 seconds.

The difficult part is doing without freeglut (in the upstream
version of asymptote).  The configure script looks for GL/glut.h so
I hid that (i.e. renamed it to glut.h.hidden).  But configure then
tests for glutMainLoop in -lglut, and finds it.  So I hid
libglut.so.3.10.0.  After that it told me it was building without
freeglut, but it then errored with

glrender.cc:428:21 error 'glutGetWindow' was not declared in this
scope

Well, duh - that is defined in a freeglut header.

So my current status: adding fftw, gsl, sigsegv doesn't actually
make a difference.  And I can't build without freeglut.

?en
-- 
I live in a city. I know sparrows from starlings.  After that
everything is a duck as far as I'm concerned.  -- Monstrous Regiment

From karl at freefriends.org  Thu May 25 00:17:23 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 24 May 2017 22:17:23 GMT
Subject: [tex-live] Add rmpost in shell_escape_commands ??
In-Reply-To: <193D911C-9605-4470-9765-7EB1DF0F25C2@gmail.com>
Message-ID: <201705242217.v4OMHNVg022452@freefriends.org>

    * mpost binaries are updated to have -restricted option
    ...
    have "rmpost" added to shell_escape_commands again?

You're in luck -- I guess we can do this after the release, since (per
Akira) it doesn't require recompiling. Thanks. -k

From tak_yato at yahoo.co.jp  Thu May 25 11:57:33 2017
From: tak_yato at yahoo.co.jp (Takayuki YATO)
Date: Thu, 25 May 2017 18:57:33 +0900 (JST)
Subject: [tex-live] tlmgr conf has a problem on line continuation
Message-ID: <835095.23191.qm@web102120.mail.ssk.yahoo.co.jp>

Hello all,

It seems "tlmgr conf" does not work properly when the configuration
file that tlmgr tries to update has line continuation.

For example, suppose the file "ROOT/texmf.cnf" (to which
"tlmgr conf texmf" will write) originally reads:

alice = foo,\
bar
bob = gee,\
whiz

And when you run:

tlmgr conf texmf alice baz

Then you will expect something like:

alice = baz
bob = gee,\
whiz

But actually you will have:

alice = baz\
bar
bob = gee,\\
whiz


(Yes, an extra backslash is appended.)


Thanks,

Takayuki Yato


From P.Taylor at Rhul.Ac.Uk  Thu May 25 15:56:31 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 25 May 2017 14:56:31 +0100
Subject: [tex-live] Problems installing TeX Live 2017 pre-test
Message-ID: <6e0b1d7d-30d7-a22e-9109-df876e8bccb7@Rhul.Ac.Uk>

Having problems with my main machine, I decided to bring back into play my RM spare (Win-7-Enterprise, 64-bit).  I copied across my rsynched mirror, re-rsynched (and was surprised to find it downloading a large number of files -- I had re-rsynched the main machine only this morning), then went through a normal (for me) "install-tl-advanced.bat" as Administrator.  All appeared normal.  I launched a CMD prompt to check that D:\TeX\Live\2017\bin\win32 was now in my path (it was) and then launched XeTeX.  This reported that it was from TeX Live 2017/W32 TeX, and at the "*" prompt I entered "\end".  I was then surprised to find that it wanted to run "mktexfmt xetex.fmt" and even more surprised to find that it failed ("Either -sys or -user mode is required").  I then launched the TeX Live 2017 instance of TLMGR, told it to rebuild the file name database, then told it to rebuild all formats.  At-end it claimed to have successfully rebuilt 35 formats and failed to build 9
(luatex/luatex, euptex/euptex, luajittex/luajittex, pdftex/pdftex, xetex/xetex, eptex/eptex, pdftex/pdfetex, pdftex/etex, luatex/dviluatex).  Six formats were reported as disabled, and the last page of the transcript reported that a number of formats (including XeTeX, which is all that I really need) failed "due to options --strict".  Any thoughts ?
-- 
<Signature>
Philip Taylor

From kakuto at fuk.kindai.ac.jp  Thu May 25 16:43:48 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 25 May 2017 23:43:48 +0900
Subject: [tex-live] Problems installing TeX Live 2017 pre-test
In-Reply-To: <6e0b1d7d-30d7-a22e-9109-df876e8bccb7@Rhul.Ac.Uk>
References: <6e0b1d7d-30d7-a22e-9109-df876e8bccb7@Rhul.Ac.Uk>
Message-ID: <CA11B31282F641DCAF30B52BFA1D4A4D@CJ3001517A>

Dear Philip,

> I was then surprised to find that it wanted to run
> "mktexfmt xetex.fmt" and even more surprised to find
> that it failed ("Either -sys or -user mode is required").

I forgot to update "mktexfmt" command.
Please run fmtutil-sys before the use of TeX in order not to
execute the old mktexfmt at runtime.
I'll update the command after the release of TeX Live 2017.
For the other questions, I pass to Norbert.

Best,
Akira


From P.Taylor at Rhul.Ac.Uk  Thu May 25 17:21:50 2017
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Thu, 25 May 2017 16:21:50 +0100
Subject: [tex-live] Problems installing TeX Live 2017 pre-test
In-Reply-To: <CA11B31282F641DCAF30B52BFA1D4A4D@CJ3001517A>
References: <6e0b1d7d-30d7-a22e-9109-df876e8bccb7@Rhul.Ac.Uk>
 <CA11B31282F641DCAF30B52BFA1D4A4D@CJ3001517A>
Message-ID: <032079d0-3b20-9194-cf4d-856338c5a7a0@Rhul.Ac.Uk>

Arigato gozaimasu, Akira-san.  I have now run "fmtutil-sys" as 
suggested, but this disclosed another problem -- even though I had 
performed the installation as Administrator, the TeX Live 2017 TeX Live 
command-line shortcut in my "Start" menu had not been set to run as 
Administrator, so "fmtutil-sys" could not succeed.  I have now modified 
the properties by hand, but I think that the installer, detecting that 
it is being run as Administrator, should do this for the user.
Also, I now find that fmtutil-sys --missing appears to ignore the 
--missing qualifier and rebuild all formats every time.  Finally the 
original problem was XeTeX's failure to find "loadhyph-he.tex" (which I 
had inadvertently failed to include in /TeX/Live/TeX-MF/Local) ...

** Phil.
--------
Akira Kakuto wrote:
> Dear Philip,
>
>> I was then surprised to find that it wanted to run
>> "mktexfmt xetex.fmt" and even more surprised to find
>> that it failed ("Either -sys or -user mode is required").
>
> I forgot to update "mktexfmt" command.
> Please run fmtutil-sys before the use of TeX in order not to
> execute the old mktexfmt at runtime.
> I'll update the command after the release of TeX Live 2017.
> For the other questions, I pass to Norbert.
>
> Best,
> Akira
>


From h.y.acetaminophen at gmail.com  Thu May 25 17:28:54 2017
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Fri, 26 May 2017 00:28:54 +0900
Subject: [tex-live] Add rmpost in shell_escape_commands ??
In-Reply-To: <201705242217.v4OMHNVg022452@freefriends.org>
References: <201705242217.v4OMHNVg022452@freefriends.org>
Message-ID: <443F5DE6-515C-4A7A-9E0A-DFFBF7411E4E@gmail.com>

2017/05/25 7:17, Karl Berry <karl at freefriends.org>:

>    * mpost binaries are updated to have -restricted option
>    ...
>    have "rmpost" added to shell_escape_commands again?
> 
> You're in luck -- I guess we can do this after the release, since (per
> Akira) it doesn't require recompiling.

I'm happy to hear that. Thanks!

Hironobu Yamashita

From kakuto at fuk.kindai.ac.jp  Thu May 25 17:47:08 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 26 May 2017 00:47:08 +0900
Subject: [tex-live] Problems installing TeX Live 2017 pre-test
In-Reply-To: <032079d0-3b20-9194-cf4d-856338c5a7a0@Rhul.Ac.Uk>
References: <6e0b1d7d-30d7-a22e-9109-df876e8bccb7@Rhul.Ac.Uk>
 <CA11B31282F641DCAF30B52BFA1D4A4D@CJ3001517A>
 <032079d0-3b20-9194-cf4d-856338c5a7a0@Rhul.Ac.Uk>
Message-ID: <844CCA7BF56C49578F466FBF9268EEC2@CJ3001517A>

Dear Philip,

> Finally the  original problem was XeTeX's failure to find
> "loadhyph-he.tex" (which I  had inadvertently failed to
> include in /TeX/Live/TeX-MF/Local) ...

Is loadhyph-he.tex your own file?
I think loadhyph-he.tex is not written in the full
language.def and language.dat files.

Best,
Akira


From P.Taylor at Rhul.Ac.Uk  Thu May 25 17:49:38 2017
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Thu, 25 May 2017 16:49:38 +0100
Subject: [tex-live] Problems installing TeX Live 2017 pre-test
In-Reply-To: <844CCA7BF56C49578F466FBF9268EEC2@CJ3001517A>
References: <6e0b1d7d-30d7-a22e-9109-df876e8bccb7@Rhul.Ac.Uk>
 <CA11B31282F641DCAF30B52BFA1D4A4D@CJ3001517A>
 <032079d0-3b20-9194-cf4d-856338c5a7a0@Rhul.Ac.Uk>
 <844CCA7BF56C49578F466FBF9268EEC2@CJ3001517A>
Message-ID: <9fcb2392-0406-c6ca-af5c-06aebe81cebd@Rhul.Ac.Uk>

Akira Kakuto wrote:
> Is loadhyph-he.tex your own file?
> I think loadhyph-he.tex is not written in the full
> language.def and language.dat files.
Yes it is, Akira-san -- I have a recurring need to typeset in Hebrew.
** Phil.

P.S.  It is empty :-)

From karl at freefriends.org  Thu May 25 23:47:01 2017
From: karl at freefriends.org (Karl Berry)
Date: Thu, 25 May 2017 21:47:01 GMT
Subject: [tex-live] tlmgr conf has a problem on line continuation
In-Reply-To: <835095.23191.qm@web102120.mail.ssk.yahoo.co.jp>
Message-ID: <201705252147.v4PLl1Wj016630@freefriends.org>

    It seems "tlmgr conf" does not work properly when the configuration
    file that tlmgr tries to update has line continuation.

Not a surprise, but thanks for the bug report.

    Then you will expect something like:

Yes. I could imagine collapsing the value so that the result has no
continuations. I could also imagine simply aborting with "can't handle
values with continuations, sorry". (Clearly the current behavior is
wrong.)  Norbert?  (The code in TLConfFile.pm makes me dizzy ...)

Thanks again,
Karl

From preining at logic.at  Fri May 26 01:42:38 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 26 May 2017 08:42:38 +0900
Subject: [tex-live] Problems installing TeX Live 2017 pre-test
In-Reply-To: <032079d0-3b20-9194-cf4d-856338c5a7a0@Rhul.Ac.Uk>
References: <6e0b1d7d-30d7-a22e-9109-df876e8bccb7@Rhul.Ac.Uk>
 <CA11B31282F641DCAF30B52BFA1D4A4D@CJ3001517A>
 <032079d0-3b20-9194-cf4d-856338c5a7a0@Rhul.Ac.Uk>
Message-ID: <20170525234238.y4qjkft6ccaea4xs@bulldog.preining.info>

Hi Philip,

first of all, I refuse debugging your setups, because I know and
you have explained it several times that you have a very special
setup, moving around files etc.

Just one comment:
> Also, I now find that fmtutil-sys --missing appears to ignore the --missing

Yes indeed, fmtutil contains the following comment, written by myself:
  # we just identify 'all', 'refresh', 'missing'
  # I don't see much point in keeping all of them

Enjoy

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri May 26 01:44:28 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 26 May 2017 08:44:28 +0900
Subject: [tex-live] tlmgr conf has a problem on line continuation
In-Reply-To: <835095.23191.qm@web102120.mail.ssk.yahoo.co.jp>
References: <835095.23191.qm@web102120.mail.ssk.yahoo.co.jp>
Message-ID: <20170525234428.fkyrwhf22xofsdll@bulldog.preining.info>

> But actually you will have:
> 
> alice = baz\
> bar
> bob = gee,\\
> whiz

That is not good. I will look into it. In theory it *should* handle
continuation lines ..

Thanks for the detailed report.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From bergamaschifrancesco at gmail.com  Fri May 26 15:48:21 2017
From: bergamaschifrancesco at gmail.com (Francesco Bergamaschi)
Date: Fri, 26 May 2017 15:48:21 +0200
Subject: [tex-live] TexLive 2016 installation failed on windows 10 home (64
	bit Windows)
Message-ID: <CAF5LmeRiVcDmrRFQYEGBVayuK2ttvLR6DMEQ8j_v3+Ls_b-Xsw@mail.gmail.com>

Hi,
can anyone help on the issue in subject? I attach the log file

Thanks

Francesco Bergamaschi, MEng, MEcon, MBA
Senior Data Scientist, Learning & Project Manager
Professor at the School of Economics, Management and Statistics - Bologna
University
Professor at the Bologna Business School - Bologna University
www.unibo.it/sitoweb/francesco.bergamaschi/en
www.bbs.unibo.it/hp/en/faculty/bergamaschi-3
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170526/ef12b2d4/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: install-tl.log
Type: application/octet-stream
Size: 4219 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170526/ef12b2d4/attachment.obj>

From ziegenhagen at gmail.com  Fri May 26 18:03:24 2017
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Fri, 26 May 2017 18:03:24 +0200
Subject: [tex-live] TexLive 2016 installation failed on windows 10 home
 (64 bit Windows)
In-Reply-To: <CAF5LmeRiVcDmrRFQYEGBVayuK2ttvLR6DMEQ8j_v3+Ls_b-Xsw@mail.gmail.com>
References: <CAF5LmeRiVcDmrRFQYEGBVayuK2ttvLR6DMEQ8j_v3+Ls_b-Xsw@mail.gmail.com>
Message-ID: <CAML7JCifrEjcJcUDiYw67-pBeGzTXwVp8j20o2bf01M7pp6CKg@mail.gmail.com>

Looks as if you want to install to c:\texlive without admin privileges.
Either install as admin or install to your local user directory.

Uwe

2017-05-26 15:48 GMT+02:00 Francesco Bergamaschi <
bergamaschifrancesco at gmail.com>:

> Hi,
> can anyone help on the issue in subject? I attach the log file
>
> Thanks
>
> Francesco Bergamaschi, MEng, MEcon, MBA
> Senior Data Scientist, Learning & Project Manager
> Professor at the School of Economics, Management and Statistics - Bologna
> University
> Professor at the Bologna Business School - Bologna University
> www.unibo.it/sitoweb/francesco.bergamaschi/en
> www.bbs.unibo.it/hp/en/faculty/bergamaschi-3
>



-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170526/db580f7c/attachment.html>

From siepo at cybercomm.nl  Fri May 26 18:33:05 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 26 May 2017 18:33:05 +0200
Subject: [tex-live] TexLive 2016 installation failed on windows 10 home
 (64 bit Windows)
In-Reply-To: <CAML7JCifrEjcJcUDiYw67-pBeGzTXwVp8j20o2bf01M7pp6CKg@mail.gmail.com>
References: <CAF5LmeRiVcDmrRFQYEGBVayuK2ttvLR6DMEQ8j_v3+Ls_b-Xsw@mail.gmail.com>
 <CAML7JCifrEjcJcUDiYw67-pBeGzTXwVp8j20o2bf01M7pp6CKg@mail.gmail.com>
Message-ID: <20170526163305.tmafklcueudnklj4@bitmuis.thuis.internal>

On Fri, May 26, 2017 at 06:03:24PM +0200, Uwe Ziegenhagen wrote:
> Looks as if you want to install to c:\texlive without admin privileges.
> Either install as admin or install to your local user directory.

Normally, a non-admin user can create subdirectories in c:\ but not
regular files. Maybe a corrupted download, maybe a write-protected
c:\texlive from a previous installation?

-- 
Siep Kroonenberg

From zdenek.wagner at gmail.com  Fri May 26 19:33:26 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 26 May 2017 19:33:26 +0200
Subject: [tex-live] TexLive 2016 installation failed on windows 10 home
 (64 bit Windows)
In-Reply-To: <20170526163305.tmafklcueudnklj4@bitmuis.thuis.internal>
References: <CAF5LmeRiVcDmrRFQYEGBVayuK2ttvLR6DMEQ8j_v3+Ls_b-Xsw@mail.gmail.com>
 <CAML7JCifrEjcJcUDiYw67-pBeGzTXwVp8j20o2bf01M7pp6CKg@mail.gmail.com>
 <20170526163305.tmafklcueudnklj4@bitmuis.thuis.internal>
Message-ID: <CAC1phyYwPz9c2ETso2hbrRqhs4kFYk_Bi7e_rMhqLq9kg06L-g@mail.gmail.com>

I would guess the latter, untar failed usually menas that the tar file is
corrupted.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-05-26 18:33 GMT+02:00 Siep Kroonenberg <siepo at cybercomm.nl>:

> On Fri, May 26, 2017 at 06:03:24PM +0200, Uwe Ziegenhagen wrote:
> > Looks as if you want to install to c:\texlive without admin privileges.
> > Either install as admin or install to your local user directory.
>
> Normally, a non-admin user can create subdirectories in c:\ but not
> regular files. Maybe a corrupted download, maybe a write-protected
> c:\texlive from a previous installation?
>
> --
> Siep Kroonenberg
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170526/781e597c/attachment.html>

From preining at logic.at  Mon May 29 04:13:10 2017
From: preining at logic.at (Norbert Preining)
Date: Mon, 29 May 2017 11:13:10 +0900
Subject: [tex-live] tlmgr conf has a problem on line continuation
In-Reply-To: <835095.23191.qm@web102120.mail.ssk.yahoo.co.jp>
References: <835095.23191.qm@web102120.mail.ssk.yahoo.co.jp>
Message-ID: <20170529021310.wakwynjuhhnpnl2k@bulldog.preining.info>

Hi,

> It seems "tlmgr conf" does not work properly when the configuration
> file that tlmgr tries to update has line continuation.

Indeed, there have been two bugs, both of which hopefully are fixed
by the attached patch to TLConfFile.pm

The changes are also in the post-release branch at
	git.preining.info/texlive.git
	http://git.preining.info/texlive.git/?h=post-release

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tlconffile.diff
Type: text/x-diff
Size: 4234 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170529/5eb41f7d/attachment.bin>

From webmaster at wilke-j.de  Tue May 30 19:34:31 2017
From: webmaster at wilke-j.de (Jens Wilke)
Date: Tue, 30 May 2017 19:34:31 +0200
Subject: [tex-live] bugreport: error in texlive 2017 (lualatex)
Message-ID: <1496165671.11031.2.camel@wilke-j.de>

Hello Texlive-Team,

lualatex produces an portrait format PDF instead an landscape format
PDF (see also example in attachment). pdflatex works correct.

LaTeX-Code in file:
-------------------

\documentclass[landscape]{article}
...
\usepackage[landscape,a4paper]{geometry}
...

Commands:
--------

lualatex file.tex && lualatex file.tex
pdflatex file.tex && pdflatex file.tex

Thanks for your good work and greetings from saxonia,
J. Wilke
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Test_texlive_2017-bugreport.tar.xz
Type: application/x-xz-compressed-tar
Size: 40600 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170530/ec8ab39b/attachment-0001.bin>

From d.p.carlisle at gmail.com  Tue May 30 23:01:43 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 30 May 2017 22:01:43 +0100
Subject: [tex-live] bugreport: error in texlive 2017 (lualatex)
In-Reply-To: <1496165671.11031.2.camel@wilke-j.de>
References: <1496165671.11031.2.camel@wilke-j.de>
Message-ID: <CAEW6iOgfpC6gop5m-rqukf4GeoDQZ-VV1eUksTeG0dPa_b0xwg@mail.gmail.com>

This is not an issue with texlive, they can only distribute the code that
is uploaded to ctan by authors.

unfortunately geometry package has not been updated to work with luatex
0.85 (this has been reported to the author many times)

for now (as for the whole of last year) you need

\RequirePackage{luatex85}

a layer of compatibility with old luatex.

David



On 30 May 2017 at 18:34, Jens Wilke <webmaster at wilke-j.de> wrote:

> Hello Texlive-Team,
>
> lualatex produces an portrait format PDF instead an landscape format
> PDF (see also example in attachment). pdflatex works correct.
>
> LaTeX-Code in file:
> -------------------
>
> \documentclass[landscape]{article}
> ...
> \usepackage[landscape,a4paper]{geometry}
> ...
>
> Commands:
> --------
>
> lualatex file.tex && lualatex file.tex
> pdflatex file.tex && pdflatex file.tex
>
> Thanks for your good work and greetings from saxonia,
> J. Wilke
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170530/c93e8bb2/attachment.html>

From kakuto at fuk.kindai.ac.jp  Tue May 30 23:06:10 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 31 May 2017 06:06:10 +0900
Subject: [tex-live] bugreport: error in texlive 2017 (lualatex)
In-Reply-To: <1496165671.11031.2.camel@wilke-j.de>
References: <1496165671.11031.2.camel@wilke-j.de>
Message-ID: <A3D8014C68844D70949C114654EE2775@CJ3001517A>

> lualatex produces an portrait format PDF instead an landscape format
> PDF (see also example in attachment). pdflatex works correct.

Experiment:

Required landscape was obtained by the following:

\documentclass[landscape]{article}
\usepackage{graphicx}
... ...


or

\documentclass[landscape]{article}
\usepackage{luatex85}
... ...


Best,
Akira


