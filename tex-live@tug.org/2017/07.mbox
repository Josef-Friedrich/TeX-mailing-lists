From joseph.wright at morningstar2.co.uk  Mon Jul  3 10:05:38 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Jul 2017 09:05:38 +0100
Subject: [tex-live] dvipdfmx: Two (related) special queries
Message-ID: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>

Hello all,

I'm looking at reproducing some effects achievable using pdfTeX in
direct PDF output mode when in DVI mode, specifically when targetting
dvipdfmx. Normally this is relatively simple as specials are used
directly by a 'TeX-aware' tool.

The first issue is the equivalent of "\pdfliteral direct{...}". That
should be \special{pdf:literal direct ...}/\special{pdf:code ...}.
However, if one tries to do that to put a comment in the PDF stream (see
below) it fails. For example, with pdfTeX we can do

    \pdfcompresslevel=0 %
    \begin{document}
    Hello
    \makeatletter
    \pdfliteral direct{\@percentchar HELLO}
    \end{document}

and get in the PDF stream

    stream
    BT
    /F8 9.9626 Tf 148.712 707.125 Td [(Hello)]TJ
    %HELLO
     154.421 -567.87 Td [(1)]TJ
    ET

but trying the dvipdfmx equivalent

    \documentclass{article}
    \begin{document}
    Hello
    \makeatletter
    \special{pdf:literal direct \@percentchar HELLO}
    \end{document}

nothing happens. I must be missing something obvious!

The second query is about the compress level. I can set that at the
dvipdfmx level using the -z0 switch. However, I'm not entirely clear if
that is the same as applying

    \pdfcompresslevel=0
    \pdfobjcompresslevel=0

in pdfTeX. There's also normally a \special form of support for other
ideas that match up between the routes, for example for papersize. Am I
missing one here? (It would be particularly handy for xdvipdfmx, where
one normally doesn't run the driver directly.)

Joseph

From zdenek.wagner at gmail.com  Mon Jul  3 10:32:28 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 3 Jul 2017 10:32:28 +0200
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
Message-ID: <CAC1phyZeYyK_Cb69gdShKJyEmuN_dwm9ixHi=P+qH-b7uQc9cA@mail.gmail.com>

Ho Jiseph,

I do not think that xdvipdfmx supports \special{pdf: literal ... }. I use
\special{pdf: code ... }. You can look into zwpagelayout.sty, line 670 and
below where I implement black overprint for pdftex, xetex (=xdvipdfmx), and
dvips.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-07-03 10:05 GMT+02:00 Joseph Wright <joseph.wright at morningstar2.co.uk>:

> Hello all,
>
> I'm looking at reproducing some effects achievable using pdfTeX in
> direct PDF output mode when in DVI mode, specifically when targetting
> dvipdfmx. Normally this is relatively simple as specials are used
> directly by a 'TeX-aware' tool.
>
> The first issue is the equivalent of "\pdfliteral direct{...}". That
> should be \special{pdf:literal direct ...}/\special{pdf:code ...}.
> However, if one tries to do that to put a comment in the PDF stream (see
> below) it fails. For example, with pdfTeX we can do
>
>     \pdfcompresslevel=0 %
>     \begin{document}
>     Hello
>     \makeatletter
>     \pdfliteral direct{\@percentchar HELLO}
>     \end{document}
>
> and get in the PDF stream
>
>     stream
>     BT
>     /F8 9.9626 Tf 148.712 707.125 Td [(Hello)]TJ
>     %HELLO
>      154.421 -567.87 Td [(1)]TJ
>     ET
>
> but trying the dvipdfmx equivalent
>
>     \documentclass{article}
>     \begin{document}
>     Hello
>     \makeatletter
>     \special{pdf:literal direct \@percentchar HELLO}
>     \end{document}
>
> nothing happens. I must be missing something obvious!
>
> The second query is about the compress level. I can set that at the
> dvipdfmx level using the -z0 switch. However, I'm not entirely clear if
> that is the same as applying
>
>     \pdfcompresslevel=0
>     \pdfobjcompresslevel=0
>
> in pdfTeX. There's also normally a \special form of support for other
> ideas that match up between the routes, for example for papersize. Am I
> missing one here? (It would be particularly handy for xdvipdfmx, where
> one normally doesn't run the driver directly.)
>
> Joseph
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170703/4ad5b309/attachment.html>

From joseph.wright at morningstar2.co.uk  Mon Jul  3 11:47:16 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Jul 2017 10:47:16 +0100
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <CAC1phyZeYyK_Cb69gdShKJyEmuN_dwm9ixHi=P+qH-b7uQc9cA@mail.gmail.com>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
 <CAC1phyZeYyK_Cb69gdShKJyEmuN_dwm9ixHi=P+qH-b7uQc9cA@mail.gmail.com>
Message-ID: <2a78064f-5b7f-1ecf-9e08-6fda49aa79e8@morningstar2.co.uk>

On 03/07/2017 09:32, Zdenek Wagner wrote:
> Ho Jiseph,
> 
> I do not think that xdvipdfmx supports \special{pdf: literal ... }. I use
> \special{pdf: code ... }. You can look into zwpagelayout.sty, line 670 and
> below where I implement black overprint for pdftex, xetex (=xdvipdfmx), and
> dvips.

According to the manual (used to be "texdoc dvipdfmx", now "texdoc -l
dvipdfmx" option 2), "literal direct" and "code" are equivalent: neither
works in any case!

Joseph


From zdenek.wagner at gmail.com  Mon Jul  3 12:22:13 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 3 Jul 2017 12:22:13 +0200
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <2a78064f-5b7f-1ecf-9e08-6fda49aa79e8@morningstar2.co.uk>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
 <CAC1phyZeYyK_Cb69gdShKJyEmuN_dwm9ixHi=P+qH-b7uQc9cA@mail.gmail.com>
 <2a78064f-5b7f-1ecf-9e08-6fda49aa79e8@morningstar2.co.uk>
Message-ID: <CAC1phybFT5Nfa7X4+eQPJOF_4JE-S4z3N+c4gqpThRf+JtK9bw@mail.gmail.com>

2017-07-03 11:47 GMT+02:00 Joseph Wright <joseph.wright at morningstar2.co.uk>:

> On 03/07/2017 09:32, Zdenek Wagner wrote:
> > Ho Jiseph,
> >
> > I do not think that xdvipdfmx supports \special{pdf: literal ... }. I use
> > \special{pdf: code ... }. You can look into zwpagelayout.sty, line 670
> and
> > below where I implement black overprint for pdftex, xetex (=xdvipdfmx),
> and
> > dvips.
>
> According to the manual (used to be "texdoc dvipdfmx", now "texdoc -l
> dvipdfmx" option 2), "literal direct" and "code" are equivalent: neither
> works in any case!
>

Maybe a recent change. I was too busy, I have not tried TL 2017 so far so I
probably have to try whether zwpagelayout still works as it worked with TL
2016.

>
> Joseph
>
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170703/8ce8bf24/attachment.html>

From kakuto at fuk.kindai.ac.jp  Mon Jul  3 13:00:58 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 3 Jul 2017 20:00:58 +0900
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
Message-ID: <0A1FCA1A2A614D1DA855745EFC337481@CJ3001517A>

> It would be particularly handy for xdvipdfmx, where
> one normally doesn't run the driver directly.

Some of command-line options have a \special form:
For example, xdvipdfmx -z 0 ...
is equivalent with 
\special{dvipdfmx:config z 0}
...

I hope the author will answer other questions.

Best,
Akira

From joseph.wright at morningstar2.co.uk  Mon Jul  3 13:09:37 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Jul 2017 12:09:37 +0100
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <0A1FCA1A2A614D1DA855745EFC337481@CJ3001517A>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
 <0A1FCA1A2A614D1DA855745EFC337481@CJ3001517A>
Message-ID: <4628f09c-49f4-f5ae-59b1-f9a476822fd6@morningstar2.co.uk>

On 03/07/2017 12:00, Akira Kakuto wrote:
>> It would be particularly handy for xdvipdfmx, where
>> one normally doesn't run the driver directly.
> 
> Some of command-line options have a \special form:
> For example, xdvipdfmx -z 0 ...
> is equivalent with \special{dvipdfmx:config z 0}
> ...

Excellent: deals with dvipdfmx and xdvipdfmx :)

Joseph


From shunsaku.hirata74 at gmail.com  Mon Jul  3 16:21:36 2017
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Mon, 3 Jul 2017 23:21:36 +0900
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
Message-ID: <CAOyMh2rYxgeggB8h-QDjd8h0kso+9rhSZYs4OqYzo61nzVtHeQ@mail.gmail.com>

Hi Joseph,

(Sorry for sending again. I forgot to send it to TeXLive Mailing List too)

2017-07-03 17:05 GMT+09:00 Joseph Wright <joseph.wright at morningstar2.co.uk>:

> The first issue is the equivalent of "\pdfliteral direct{...}". That
> should be \special{pdf:literal direct ...}/\special{pdf:code ...}.
> However, if one tries to do that to put a comment in the PDF stream (see
> below) it fails.

Dvipdfmx removes leading comment-lines and white space characters.

> The second query is about the compress level. I can set that at the
> dvipdfmx level using the -z0 switch. However, I'm not entirely clear if
> that is the same as applying
>
>     \pdfcompresslevel=0
>     \pdfobjcompresslevel=0
>
> in pdfTeX.

The 'z' option does not control the use of object stream.
The "-C 0x40" option flag is the same as applying \pdfobjcompresslevel=0.


Shunsaku Hirata

From joseph.wright at morningstar2.co.uk  Mon Jul  3 17:44:54 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Jul 2017 16:44:54 +0100
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <CAOyMh2rYxgeggB8h-QDjd8h0kso+9rhSZYs4OqYzo61nzVtHeQ@mail.gmail.com>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
 <CAOyMh2rYxgeggB8h-QDjd8h0kso+9rhSZYs4OqYzo61nzVtHeQ@mail.gmail.com>
Message-ID: <7198280f-428a-f395-b0eb-85aace6e0e9d@morningstar2.co.uk>

On 03/07/2017 15:21, Shunsaku Hirata wrote:
> Hi Joseph,
> 
> (Sorry for sending again. I forgot to send it to TeXLive Mailing List too)
> 
> 2017-07-03 17:05 GMT+09:00 Joseph Wright <joseph.wright at morningstar2.co.uk>:
> 
>> The first issue is the equivalent of "\pdfliteral direct{...}". That
>> should be \special{pdf:literal direct ...}/\special{pdf:code ...}.
>> However, if one tries to do that to put a comment in the PDF stream (see
>> below) it fails.
> 
> Dvipdfmx removes leading comment-lines and white space characters.
> 
>> The second query is about the compress level. I can set that at the
>> dvipdfmx level using the -z0 switch. However, I'm not entirely clear if
>> that is the same as applying
>>
>>     \pdfcompresslevel=0
>>     \pdfobjcompresslevel=0
>>
>> in pdfTeX.
> 
> The 'z' option does not control the use of object stream.
> The "-C 0x40" option flag is the same as applying \pdfobjcompresslevel=0.

Thanks for this: most useful.

Joseph


From zdenek.wagner at gmail.com  Mon Jul  3 17:54:58 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 3 Jul 2017 17:54:58 +0200
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <7198280f-428a-f395-b0eb-85aace6e0e9d@morningstar2.co.uk>
References: <c0ebb5f3-0ddd-4ec1-c5af-283af41723e8@morningstar2.co.uk>
 <CAOyMh2rYxgeggB8h-QDjd8h0kso+9rhSZYs4OqYzo61nzVtHeQ@mail.gmail.com>
 <7198280f-428a-f395-b0eb-85aace6e0e9d@morningstar2.co.uk>
Message-ID: <CAC1phyZbT9J0uh=5PKHRv8xXUNvYPgQKphV7tRMTkzjhPA9Y-w@mail.gmail.com>

For some reason I have a strange mess of TL 2016 and 2017, something is
definitely wrong in my computer. I have to make preparations for tomorrow's
important meeting so I will continue the test maybe tomorrow evening.



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-07-03 17:44 GMT+02:00 Joseph Wright <joseph.wright at morningstar2.co.uk>:

> On 03/07/2017 15:21, Shunsaku Hirata wrote:
> > Hi Joseph,
> >
> > (Sorry for sending again. I forgot to send it to TeXLive Mailing List
> too)
> >
> > 2017-07-03 17:05 GMT+09:00 Joseph Wright <joseph.wright at morningstar2.
> co.uk>:
> >
> >> The first issue is the equivalent of "\pdfliteral direct{...}". That
> >> should be \special{pdf:literal direct ...}/\special{pdf:code ...}.
> >> However, if one tries to do that to put a comment in the PDF stream (see
> >> below) it fails.
> >
> > Dvipdfmx removes leading comment-lines and white space characters.
> >
> >> The second query is about the compress level. I can set that at the
> >> dvipdfmx level using the -z0 switch. However, I'm not entirely clear if
> >> that is the same as applying
> >>
> >>     \pdfcompresslevel=0
> >>     \pdfobjcompresslevel=0
> >>
> >> in pdfTeX.
> >
> > The 'z' option does not control the use of object stream.
> > The "-C 0x40" option flag is the same as applying \pdfobjcompresslevel=0.
>
> Thanks for this: most useful.
>
> Joseph
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170703/2bb49d5e/attachment.html>

From prabhat.jha97 at gmail.com  Mon Jul  3 17:48:43 2017
From: prabhat.jha97 at gmail.com (Prabhat Kumar Jha)
Date: Mon, 3 Jul 2017 21:18:43 +0530
Subject: [tex-live] Help required!!!
Message-ID: <CAJxFGy+L3QtxOSk0D4fxDtro8fNcM=LRzi_aWO+3+GO1xF3c9Q@mail.gmail.com>

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170703/e340ddc2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2017-07-03 21-16-56.png
Type: image/png
Size: 53039 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170703/e340ddc2/attachment-0001.png>

From karl at freefriends.org  Mon Jul  3 23:16:40 2017
From: karl at freefriends.org (Karl Berry)
Date: Mon, 3 Jul 2017 21:16:40 GMT
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <2a78064f-5b7f-1ecf-9e08-6fda49aa79e8@morningstar2.co.uk>
Message-ID: <201707032116.v63LGe33020309@freefriends.org>

    used to be "texdoc dvipdfmx", now "texdoc -l
    dvipdfmx" option 2

I still get the user's manual as option 1, as far as I can see.

$ texdoc -l dvipdfmx
 1 /usr/local/texlive/2017/texmf-dist/doc/dvipdfmx/dvipdfmx.pdf
 2 /usr/local/texlive/2017/texmf-dist/doc/dvipdfmx/dvipdfmx-special.pdf
 ...

From joseph.wright at morningstar2.co.uk  Mon Jul  3 23:19:50 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Jul 2017 22:19:50 +0100
Subject: [tex-live] dvipdfmx: Two (related) special queries
In-Reply-To: <201707032116.v63LGe33020309@freefriends.org>
References: <201707032116.v63LGe33020309@freefriends.org>
Message-ID: <a89b83e9-e6fe-ebd8-df60-558167340402@morningstar2.co.uk>

On 03/07/2017 22:16, Karl Berry wrote:
>     used to be "texdoc dvipdfmx", now "texdoc -l
>     dvipdfmx" option 2
> 
> I still get the user's manual as option 1, as far as I can see.
> 
> $ texdoc -l dvipdfmx
>  1 /usr/local/texlive/2017/texmf-dist/doc/dvipdfmx/dvipdfmx.pdf
>  2 /usr/local/texlive/2017/texmf-dist/doc/dvipdfmx/dvipdfmx-special.pdf
>  ...

Yes-and-no, or at least 'depends what you expected'. Up to last year you
got dvipdfmx-special.pdf from "texdoc dvipdfmx" (i.e. it was option 1).
Now, I know that the new "dvipdfmx.pdf" is a proper manual, but for
someone working on obscure special-based stuff, dvipdfmx-special.pdf is
pretty handy.

Joseph


From zdenek.wagner at gmail.com  Mon Jul  3 23:21:44 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 3 Jul 2017 23:21:44 +0200
Subject: [tex-live] Help required!!!
In-Reply-To: <CAJxFGy+L3QtxOSk0D4fxDtro8fNcM=LRzi_aWO+3+GO1xF3c9Q@mail.gmail.com>
References: <CAJxFGy+L3QtxOSk0D4fxDtro8fNcM=LRzi_aWO+3+GO1xF3c9Q@mail.gmail.com>
Message-ID: <CAC1phyYft8atd5BhFK4YLW75rdqCv1e=Ai7My-NkYk7Xgb_msA@mail.gmail.com>

It seems that you do not have xzdec. In Fedora it is in the xz package, in
Raspbian in the xzdec package. What does xzdec say on your computer?


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-07-03 17:48 GMT+02:00 Prabhat Kumar Jha <prabhat.jha97 at gmail.com>:

> Thanks
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170703/e9e0b99d/attachment.html>

From reinhard.kotucha at web.de  Mon Jul  3 23:38:46 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 3 Jul 2017 23:38:46 +0200
Subject: [tex-live] Help required!!!
In-Reply-To: <CAJxFGy+L3QtxOSk0D4fxDtro8fNcM=LRzi_aWO+3+GO1xF3c9Q@mail.gmail.com>
References: <CAJxFGy+L3QtxOSk0D4fxDtro8fNcM=LRzi_aWO+3+GO1xF3c9Q@mail.gmail.com>
Message-ID: <22874.47462.631075.548261@zaphod.ms25.net>

On 2017-07-03 at 21:18:43 +0530, Prabhat Kumar Jha wrote:

 > Thanks


Did you read the error message?  It says:

  /usr/bin/tlmgr: could not find a usable xzdec  
  /usr/bin/tlmgr: Please install xzdec and try again

Please run

  sudo apt-get install xzdec

and try again.

Norbert, maybe tlmgr could check whether xz is in PATH and use this
if xzdec isn't available.

I suppose that Debian maintains the tiny xzdec as an extra package in
order to allow users to set up systems where disk space is limited.
But in most cases it's more likely that xz is already installed.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From lamby at debian.org  Wed Jul  5 09:40:01 2017
From: lamby at debian.org (Chris Lamb)
Date: Wed, 05 Jul 2017 08:40:01 +0100
Subject: [tex-live] Please default \pdftrailerid{} to SOURCE_DATE_EPOCH
 if exported
In-Reply-To: <201706282151.v5SLpkvC002329@freefriends.org>
References: <201706282151.v5SLpkvC002329@freefriends.org>
Message-ID: <1499240401.1368797.1030778048.7AA67458@webmail.messagingengine.com>

Hi Karl,

>       -/ID [<A979E943C51DC1AAE48AAFF27BBA5A0D> <EA2B7DBF37C8E3DC2AA0AFDAA1FF4E0C>]
>       +/ID [<EA2B7DBF37C8E3DC2AA0AFDAA1FF4E0C> <A979E943C51DC1AAE48AAFF27BBA5A0D>]
> 
>     This varies depending on the *path* from which you are building,
> 
> Ack, thanks for the report.
> 
> I'll send a patch after I have a chance to construct one, if no one else
> (Akira?) gets there first.

Just a friendly ping on this; we have a whole bunch of packages we'd love to be
reproducible within Debian and this is the only remaining blocker for them :)


Best wishes,

-- 
      ,''`.
     : :'  :     Chris Lamb, Debian Project Leader
     `. `'`      lamby at debian.org / chris-lamb.co.uk
       `-

From bernhard.kleine at gmx.net  Wed Jul  5 12:57:05 2017
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Wed, 5 Jul 2017 12:57:05 +0200
Subject: [tex-live] Update error texliove 2017
Message-ID: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>

Hi,

today I experienced an error while updating via tlmgr running in admin.mode:

[24/32, 02:29/03:20] update: wintools.win32 [4531k] (43991 -> 44721) ...
Failure to delete HKLM/Software/Classes/TL.bitmap2eps.convert.2017/
done

What shall I do?

Greetings Bernhard

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170705/6fa4d708/attachment.sig>

From daleif at math.au.dk  Wed Jul  5 13:02:46 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 5 Jul 2017 11:02:46 +0000
Subject: [tex-live] Update error texliove 2017
In-Reply-To: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>
References: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>
Message-ID: <1499252582969.3640@math.au.dk>

I've seen that one as well the other day on Win10.

Did not seem to bother WIn10 or TL

Basically it is just saying that I was not able to delete a registry from Windows while removing the mentioned executable from TL.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Bernhard Kleine <bernhard.kleine at gmx.net>
Sent: 05 July 2017 12:57
To: tex-live at tug.org
Subject: [tex-live] Update error texliove 2017

Hi,

today I experienced an error while updating via tlmgr running in admin.mode:

[24/32, 02:29/03:20] update: wintools.win32 [4531k] (43991 -> 44721) ...
Failure to delete HKLM/Software/Classes/TL.bitmap2eps.convert.2017/
done

What shall I do?

Greetings Bernhard

--
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09




From siepo at cybercomm.nl  Wed Jul  5 13:30:56 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 5 Jul 2017 13:30:56 +0200
Subject: [tex-live] Update error texliove 2017
In-Reply-To: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>
References: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>
Message-ID: <20170705113056.7gyvqe2zqvqfheix@bitmuis.thuis.internal>

On Wed, Jul 05, 2017 at 12:57:05PM +0200, Bernhard Kleine wrote:
> Hi,
> 
> today I experienced an error while updating via tlmgr running in admin.mode:
> 
> [24/32, 02:29/03:20] update: wintools.win32 [4531k] (43991 -> 44721) ...
> Failure to delete HKLM/Software/Classes/TL.bitmap2eps.convert.2017/
> done
> 
> What shall I do?

Ignore. This is a known error that I have only seen happening on
32-bits Windows, and I do not know of a fix. It fails to remove a
filetype, but as long as this filetype is no longer associated with
a filename extension, its continued existence should not make a
practical difference.

Since you were doing an update, I guess this registry entry would be
rewritten anyway.

-- 
Siep Kroonenberg

From Jonathan.Komar at ith-icoserve.com  Wed Jul  5 11:24:38 2017
From: Jonathan.Komar at ith-icoserve.com (Jonathan Komar)
Date: Wed, 5 Jul 2017 11:24:38 +0200
Subject: [tex-live] xelatex exit status and its driver's exit status behavior
Message-ID: <4A73F31802B9FB46A4428BA93C0A3DEB05738CA09CC9@hermes.ith-icoserve.com>

It seems that the exit status of the subprocess xdvipdfmx does not affect the exit status of xelatex. Is there a way to change this behavious? It is my opinion that the default behavior of xelatex should be to allow xdvipdfmx to influence its exit status. I am aware of xelatex --no-pdf.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170705/7314e327/attachment-0001.html>

From daleif at math.au.dk  Wed Jul  5 15:14:02 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 5 Jul 2017 13:14:02 +0000
Subject: [tex-live] Update error texliove 2017
In-Reply-To: <20170705113056.7gyvqe2zqvqfheix@bitmuis.thuis.internal>
References: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>,
 <20170705113056.7gyvqe2zqvqfheix@bitmuis.thuis.internal>
Message-ID: <1499260459670.24744@math.au.dk>

Hi Siep

Just wanted to not that I saw it in 64-bit Win10.

Perhaps the latest Win10 changed something? 


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Siep Kroonenberg <siepo at cybercomm.nl>
Sent: 05 July 2017 13:30
To: tex-live at tug.org
Subject: Re: [tex-live] Update error texliove 2017

On Wed, Jul 05, 2017 at 12:57:05PM +0200, Bernhard Kleine wrote:
> Hi,
>
> today I experienced an error while updating via tlmgr running in admin.mode:
>
> [24/32, 02:29/03:20] update: wintools.win32 [4531k] (43991 -> 44721) ...
> Failure to delete HKLM/Software/Classes/TL.bitmap2eps.convert.2017/
> done
>
> What shall I do?

Ignore. This is a known error that I have only seen happening on
32-bits Windows, and I do not know of a fix. It fails to remove a
filetype, but as long as this filetype is no longer associated with
a filename extension, its continued existence should not make a
practical difference.

Since you were doing an update, I guess this registry entry would be
rewritten anyway.

--
Siep Kroonenberg


From bernhard.kleine at gmx.net  Wed Jul  5 16:01:55 2017
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Wed, 5 Jul 2017 16:01:55 +0200
Subject: [tex-live] Update error texliove 2017
In-Reply-To: <1499260459670.24744@math.au.dk>
References: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>
 <20170705113056.7gyvqe2zqvqfheix@bitmuis.thuis.internal>
 <1499260459670.24744@math.au.dk>
Message-ID: <fa810b51-4fa6-1398-73ad-212ba38b4eea@gmx.net>

I am on Win7-64bit.


Am 05.07.2017 um 15:14 schrieb Lars Madsen:
> Hi Siep
>
> Just wanted to not that I saw it in 64-bit Win10.
>
> Perhaps the latest Win10 changed something? 
>
>
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math
>
>
> ________________________________________
> From: tex-live <tex-live-bounces at tug.org> on behalf of Siep Kroonenberg <siepo at cybercomm.nl>
> Sent: 05 July 2017 13:30
> To: tex-live at tug.org
> Subject: Re: [tex-live] Update error texliove 2017
>
> On Wed, Jul 05, 2017 at 12:57:05PM +0200, Bernhard Kleine wrote:
>> Hi,
>>
>> today I experienced an error while updating via tlmgr running in admin.mode:
>>
>> [24/32, 02:29/03:20] update: wintools.win32 [4531k] (43991 -> 44721) ...
>> Failure to delete HKLM/Software/Classes/TL.bitmap2eps.convert.2017/
>> done
>>
>> What shall I do?
> Ignore. This is a known error that I have only seen happening on
> 32-bits Windows, and I do not know of a fix. It fails to remove a
> filetype, but as long as this filetype is no longer associated with
> a filename extension, its continued existence should not make a
> practical difference.
>
> Since you were doing an update, I guess this registry entry would be
> rewritten anyway.
>
> --
> Siep Kroonenberg
>

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170705/ce5cc561/attachment.sig>

From siepo at cybercomm.nl  Wed Jul  5 21:47:55 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 5 Jul 2017 21:47:55 +0200
Subject: [tex-live] Update error texliove 2017
In-Reply-To: <1499260459670.24744@math.au.dk>
References: <892f35d9-1c34-11e6-b169-ebac0adef1c9@gmx.net>
 <20170705113056.7gyvqe2zqvqfheix@bitmuis.thuis.internal>
 <1499260459670.24744@math.au.dk>
Message-ID: <20170705194755.yz6uroweecbje5rg@bitmuis.thuis.internal>

On Wed, Jul 05, 2017 at 01:14:02PM +0000, Lars Madsen wrote:
> Hi Siep
> 
> Just wanted to not that I saw it in 64-bit Win10.

Ok, noted.

-- 
Siep Kroonenberg

From karl at freefriends.org  Wed Jul  5 23:38:35 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 5 Jul 2017 21:38:35 GMT
Subject: [tex-live] xelatex exit status and its driver's exit status
	behavior
In-Reply-To: <4A73F31802B9FB46A4428BA93C0A3DEB05738CA09CC9@hermes.ith-icoserve.com>
Message-ID: <201707052138.v65LcZp7019781@freefriends.org>

    the default behavior of xelatex should be to allow xdvipdfmx to
    influence its exit status.

I agree, FWIW, but I don't maintain XeTeX.
Can you submit this as an issue on xetex.sf.net, please?  --thanks, karl.

From karl at freefriends.org  Wed Jul  5 23:40:32 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 5 Jul 2017 21:40:32 GMT
Subject: [tex-live] Please default \pdftrailerid{} to SOURCE_DATE_EPOCH
 if exported
In-Reply-To: <1499240401.1368797.1030778048.7AA67458@webmail.messagingengine.com>
Message-ID: <201707052140.v65LeWwJ020134@freefriends.org>

    Just a friendly ping on this; we have a whole bunch of packages we'd
    love to be reproducible within Debian and this is the only remaining
    blocker for them :)

Maybe someone in Debian could come up with a patch, since it is
important to you. I doubt I will be able to look at it before August,
at best. Sorry. -k

From lamby at debian.org  Wed Jul  5 23:51:53 2017
From: lamby at debian.org (Chris Lamb)
Date: Wed, 05 Jul 2017 22:51:53 +0100
Subject: [tex-live] Please default \pdftrailerid{} to SOURCE_DATE_EPOCH
 if exported
In-Reply-To: <201707052140.v65LeWwJ020134@freefriends.org>
References: <201707052140.v65LeWwJ020134@freefriends.org>
Message-ID: <1499291513.2440592.1031631584.7A598745@webmail.messagingengine.com>

Dear Karl,

> > Just a friendly ping on this; we have a whole bunch of packages we'd
> > love to be reproducible within Debian and this is the only remaining
> > blocker for them :)
> 
> Maybe someone in Debian could come up with a patch, since it is
> important to you

No, my apologies; I inferred from your previous mail that a patch would be
quick and easy for you hence why I didn't immediately jump in.

Am very happy to get my hands dirty in the code! (Although any quick
implementation hints before I do that??)


Best wishes,

-- 
      ,''`.
     : :'  :     Chris Lamb, Debian Project Leader
     `. `'`      lamby at debian.org / chris-lamb.co.uk
       `-


From andreas_tex at freenet.de  Sat Jul  8 15:31:34 2017
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Sat, 8 Jul 2017 15:31:34 +0200
Subject: [tex-live] Place two \epsfboxes vertically centered next to each
	other
Message-ID: <1166b1bc-74fe-00fb-3e5d-22bb8df82c1d@freenet.de>

Dear all,

the following problem has been brought to my attention by private
communication: In the CWEB example program 'skew-ternary-calc.w' by Don
Knuth
(https://github.com/ascherer/cwebtest/blob/master/skew-ternary-calc.w)
there are multiple occurrences of this construct:

$$\vcenter{\epsfbox{...}}\qquad\\qquad
  \vcenter{\epsfbox{...}}$$

where '...' are names of MetaPost graphics from 'skew-ternary-calc.mp'
(https://github.com/ascherer/cwebtest/blob/master/skew-ternary-calc.mp).

Running 'for i in skew-ternary-calc; do mpost $i; cweave $i; tex $i;
dvipdfm $i; done' produces extreeemely 'overful boxes' and results in a
PDF with several displays where the right-hand graphic is outside the
page frame.

Adding '\hbox{...}' around almost all the '\epsfbox{...}'es seems to fix
this problem.

A simple $$\vcenter{\epsfbox{...}}$$ works fine, but as soon as some
other material comes alongside the '\epsfbox{...}' all hell breaks loose.

Any ideas what's going on here?

Thanks, Andreas

From andreas_tex at freenet.de  Sat Jul  8 17:57:24 2017
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Sat, 8 Jul 2017 17:57:24 +0200
Subject: [tex-live] Place two \epsfboxes vertically centered next to
	each other
In-Reply-To: <1166b1bc-74fe-00fb-3e5d-22bb8df82c1d@freenet.de>
References: <1166b1bc-74fe-00fb-3e5d-22bb8df82c1d@freenet.de>
Message-ID: <c1838b4a-afcc-d3a2-901d-120165fdf771@freenet.de>

Am 08.07.2017 um 15:31 schrieb Andreas Scherer:
> Any ideas what's going on here?
Posting the same question on TeX exchange (later) lead to the likely
answer to this issue: Don is using the "original" epsf.tex.

See
https://tex.stackexchange.com/questions/378755/place-two-epsfboxes-vertically-centered-next-to-each-other/379765#379765

Case closed.

Andreas

From moasen at zoho.com  Sat Jul  8 19:49:23 2017
From: moasen at zoho.com (Emanuel Berg)
Date: Sat, 08 Jul 2017 19:49:23 +0200
Subject: [tex-live] install font manually, tlmgr broke
Message-ID: <86eftqes4c.fsf@zoho.com>

I got a font from CTAN, ocr-b, how can
I install it manually?

tlmgr is broke on my system despite reinstall:

    $ tlmgr install ocr
    (running on Debian, switching to user
    mode!) Unknown directive
    ...containerchecksum
    06c8c1fff8b025f6f55f8629af6e41a6dd695e13bbdfe8b78b678e9cb0cfa509826355f4ece20d8a99b49bcee3c5931b8d766f0fc3dae0d6a645303d487600b0...
    , please fix it!
    at
    /usr/share/texlive/tlpkg/TeXLive/TLPOBJ.pm
    line 210, <$retfh> line 5761.

-- 
underground experts united
http://user.it.uu.se/~embe8573


From martin at dante.de  Tue Jul 11 07:41:50 2017
From: martin at dante.de (Martin Sievers)
Date: Tue, 11 Jul 2017 07:41:50 +0200
Subject: [tex-live] Some mirror servers on 2016?
Message-ID: <9b862c8b-3db8-875c-6e53-8154a72d2d32@dante.de>

Hello,

when trying to update TL 2017 this morning I got the following message:

http://mirror.unl.edu/ctan/systems/texlive/tlnet
  (2016--2016)
do not include the version of the local installation
  (2017).

I would consider this a bug as enough time has gone by since the release
of TL 2017.

Best regards
Martin

From preining at logic.at  Fri Jul 14 05:47:44 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 14 Jul 2017 12:47:44 +0900
Subject: [tex-live] install font manually, tlmgr broke
In-Reply-To: <86eftqes4c.fsf@zoho.com>
References: <86eftqes4c.fsf@zoho.com>
Message-ID: <97D26626-0D2A-4C66-98B7-E6974FCCF43F@logic.at>

You are using the tlmgr shipped with Debian which is not working with the most current release of TeX Live.

You need to find an archive of TeX Live 2016 and use it instead of the normal network distribution of TeX Live.

Hope that helps

Norbert

PS this is actually a Debian question, the first line clearly states that tlmgr is running on Debian.

On July 9, 2017 2:49:23 AM GMT+09:00, Emanuel Berg <moasen at zoho.com> wrote:
>I got a font from CTAN, ocr-b, how can
>I install it manually?
>
>tlmgr is broke on my system despite reinstall:
>
>    $ tlmgr install ocr
>    (running on Debian, switching to user
>    mode!) Unknown directive
>    ...containerchecksum
>06c8c1fff8b025f6f55f8629af6e41a6dd695e13bbdfe8b78b678e9cb0cfa509826355f4ece20d8a99b49bcee3c5931b8d766f0fc3dae0d6a645303d487600b0...
>    , please fix it!
>    at
>    /usr/share/texlive/tlpkg/TeXLive/TLPOBJ.pm
>    line 210, <$retfh> line 5761.

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From moasen at zoho.com  Fri Jul 14 05:58:03 2017
From: moasen at zoho.com (Emanuel Berg)
Date: Fri, 14 Jul 2017 05:58:03 +0200
Subject: [tex-live] install font manually, tlmgr broke
References: <86eftqes4c.fsf@zoho.com>
 <97D26626-0D2A-4C66-98B7-E6974FCCF43F@logic.at>
Message-ID: <86zic7sm9g.fsf@zoho.com>

Norbert Preining wrote:

> You need to find an archive of TeX Live 2016
> and use it instead of the normal network
> distribution of TeX Live.

Yes, the thought crossed me. Do I have to
compile or are there binaries compatible with
my architecture? And do you know where it is?

Tho OS is Raspbian which is a Debian fork and
yes uses Debian software.

-- 
underground experts united
http://user.it.uu.se/~embe8573


From zdenek.wagner at gmail.com  Fri Jul 14 09:49:32 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 14 Jul 2017 09:49:32 +0200
Subject: [tex-live] install font manually, tlmgr broke
In-Reply-To: <86zic7sm9g.fsf@zoho.com>
References: <86eftqes4c.fsf@zoho.com>
 <97D26626-0D2A-4C66-98B7-E6974FCCF43F@logic.at>
 <86zic7sm9g.fsf@zoho.com>
Message-ID: <CAC1phyZc=iPyyPBCxi1nAEoTEThcf3vYtJjHvF71_Lkrjz=26Q@mail.gmail.com>

2017-07-14 5:58 GMT+02:00 Emanuel Berg <moasen at zoho.com>:

> Norbert Preining wrote:
>
> > You need to find an archive of TeX Live 2016
> > and use it instead of the normal network
> > distribution of TeX Live.
>
> Yes, the thought crossed me. Do I have to
> compile or are there binaries compatible with
> my architecture? And do you know where it is?
>
> Tho OS is Raspbian which is a Debian fork and
> yes uses Debian software.
>

I use TeX Live from TUG, not from Debian, it is available from
http://mirror.ctan.org/systems/texlive/tlnet and binaries from Raspbian are
inclkuded.



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



> --
> underground experts united
> http://user.it.uu.se/~embe8573
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170714/f19d7d99/attachment.html>

From preining at logic.at  Fri Jul 14 10:21:00 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 14 Jul 2017 17:21:00 +0900
Subject: [tex-live] install font manually, tlmgr broke
In-Reply-To: <86zic7sm9g.fsf@zoho.com>
References: <86eftqes4c.fsf@zoho.com>
 <97D26626-0D2A-4C66-98B7-E6974FCCF43F@logic.at>
 <86zic7sm9g.fsf@zoho.com>
Message-ID: <20170714082100.e4kgsp7xxoroiix4@burischnitzel.preining.info>

Hi Emanuel,

> Yes, the thought crossed me. Do I have to
> compile or are there binaries compatible with

No, as I wrote, you need to find an archive of
TeX Live 2016's tlnet, and point tlmgr to it.
Nothing else.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From rod.yager at mq.edu.au  Sat Jul 15 06:50:48 2017
From: rod.yager at mq.edu.au (Rod Yager)
Date: Sat, 15 Jul 2017 04:50:48 +0000
Subject: [tex-live] Error updating lwarp
Message-ID: <7EC7CCC6-848C-498A-9B35-2CBFADD50091@mq.edu.au>

tlmgr: package repository http://mirror.aarnet.edu.au/pub/CTAN/systems/texlive/tlnet (verified)
tlmgr: saving backups to /usr/local/texlive/2017/tlpkg/backups
TLUtils::check_file: removing /tmp/m3Qq_frm5N/6Kf8xuGaEH/lwarp.tar.xz, sizes differ:
TLUtils::check_file:   TL=50252, arg=50656
TLPDB::_install_package: downloading did not succeed
tlmgr: Installation of new version of lwarp failed, trying to unwind.
[1/1, ??:??/??:??] update: lwarp [1613k] (44552 -> 44781) ... tlmgr: Restoring old package state succeeded.
done
tlmgr: action update returned an error; continuing.
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
tlmgr: package log updated: /usr/local/texlive/2017/texmf-var/web2c/tlmgr.log
tlmgr: An error has occurred. See above messages. Exiting.


Rod

From usenet at siart.de  Sat Jul 15 09:32:49 2017
From: usenet at siart.de (Uwe Siart)
Date: Sat, 15 Jul 2017 09:32:49 +0200
Subject: [tex-live] Error updating lwarp
References: <7EC7CCC6-848C-498A-9B35-2CBFADD50091@mq.edu.au>
Message-ID: <m38tjqupcu.fsf@siart.de>

Rod Yager <rod.yager at mq.edu.au> writes:

> TLPDB::_install_package: downloading did not succeed
> tlmgr: Installation of new version of lwarp failed, trying to unwind.
> [1/1, ??:??/??:??] update: lwarp [1613k] (44552 -> 44781) ... tlmgr: Restoring
> old package state succeeded.

Maybe just a temporary glitch in the server's response. I updated today
with no problems (lwarp package included).

Try to restart "tlmgr update --all" and see what happens.

-- 
Uwe


From rod.yager at mq.edu.au  Sat Jul 15 12:17:14 2017
From: rod.yager at mq.edu.au (Rod Yager)
Date: Sat, 15 Jul 2017 10:17:14 +0000
Subject: [tex-live] Error updating lwarp
Message-ID: <E32B76BA-299F-4864-927B-235E7071E35A@mq.edu.au>

Seems it was a problem with the mirror I was using.

Switching to the mirror at http://mirror.hmc.edu/ctan/systems/texlive/tlnet fixed the problem.

Hopefully the mirror in my region will notice the difference with its corrupt copy and pull a fresh copy on the next sync.


Rod


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170715/4e03851e/attachment.html>

From nplatis at gmail.com  Sat Jul 15 12:40:09 2017
From: nplatis at gmail.com (Nikos Platis)
Date: Sat, 15 Jul 2017 13:40:09 +0300
Subject: [tex-live] Upgrade from texlive 2016
Message-ID: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>

Hello,

Some recent years there was a procedure (unsupported but for me always
successful) for upgrading TeXLive from a previous year installation (for
Unix). The respective page (https://www.tug.org/texlive/upgrade.html) is
the one from last year, when it was not possible to upgrade TeXLive 2015 to
2016.

Have there been any tests for upgrading TeXLive 2016 to 2017?

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170715/ee8c095c/attachment.html>

From karl at freefriends.org  Sat Jul 15 23:52:47 2017
From: karl at freefriends.org (Karl Berry)
Date: Sat, 15 Jul 2017 21:52:47 GMT
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
Message-ID: <201707152152.v6FLqla1032538@freefriends.org>

    Have there been any tests for upgrading TeXLive 2016 to 2017?

There has been no testing, but I think the same dangerous upgrade
procedure as in other years should work. That is, I don't recall
changing the tlpdb directives this year.

I updated the page http://tug.org/texlive/upgrade.html to give the same
procedure as in previous updatable years. Good luck ... -k


From martin at dante.de  Sun Jul 16 07:51:29 2017
From: martin at dante.de (martin at dante.de)
Date: Sun, 16 Jul 2017 07:51:29 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
Message-ID: <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>

I accidently did that by just updating TL 2016 (tlmgr update --all --self) after 2017 had been released. 

To be honest: I did not like that result as it happened without warning.

Best regards
Martin

?Gesendet mit TypeApp ?

Am 15. Juli 2017, 12:41, um 12:41, Nikos Platis <nplatis at gmail.com> schrieb:
>Hello,
>
>Some recent years there was a procedure (unsupported but for me always
>successful) for upgrading TeXLive from a previous year installation
>(for
>Unix). The respective page (https://www.tug.org/texlive/upgrade.html)
>is
>the one from last year, when it was not possible to upgrade TeXLive
>2015 to
>2016.
>
>Have there been any tests for upgrading TeXLive 2016 to 2017?
>
>Thanks!



From manfred at dante.de  Sun Jul 16 08:02:57 2017
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 16 Jul 2017 08:02:57 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <201707152152.v6FLqla1032538@freefriends.org>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <201707152152.v6FLqla1032538@freefriends.org>
Message-ID: <20170716080257.41d382ba@hogwart.bsdlocal.net>

On Sat, 15 Jul 2017 21:52:47 GMT
Karl Berry <karl at freefriends.org> wrote:

>     Have there been any tests for upgrading TeXLive 2016 to 2017?
> 
> There has been no testing, but I think the same dangerous upgrade
> procedure as in other years should work. That is, I don't recall
> changing the tlpdb directives this year.
> 
> I updated the page http://tug.org/texlive/upgrade.html to give the
> same procedure as in previous updatable years. Good luck ... -k
> 

It happened to me that recently I did an upgrade
in /usr/local/texlive/2016 and ended up having the TeXLive 2017
in /usr/local/texlive/2016. 

I didn't dig deeper but thought this is a feature.

-- 
Manfred

From manfred at dante.de  Sun Jul 16 08:05:35 2017
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 16 Jul 2017 08:05:35 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
Message-ID: <20170716080535.7e6524e1@hogwart.bsdlocal.net>

On Sun, 16 Jul 2017 07:51:29 +0200
martin at dante.de wrote:

> I accidently did that by just updating TL 2016 (tlmgr update --all
> --self) after 2017 had been released. 
> 
> To be honest: I did not like that result as it happened without
> warning.
> 

Yes, for those who want to keep older texlive installations it is bad
to get this result without prior warning.

> Best regards
> Martin
> 
> ?Gesendet mit TypeApp ?
> 
> Am 15. Juli 2017, 12:41, um 12:41, Nikos Platis <nplatis at gmail.com>
> schrieb:
> >Hello,
> >
> >Some recent years there was a procedure (unsupported but for me
> >always successful) for upgrading TeXLive from a previous year
> >installation (for
> >Unix). The respective page (https://www.tug.org/texlive/upgrade.html)
> >is
> >the one from last year, when it was not possible to upgrade TeXLive
> >2015 to
> >2016.
> >
> >Have there been any tests for upgrading TeXLive 2016 to 2017?
> >
> >Thanks!  
> 
> 



From zdenek.wagner at gmail.com  Sun Jul 16 11:04:24 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 16 Jul 2017 11:04:24 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <20170716080535.7e6524e1@hogwart.bsdlocal.net>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
Message-ID: <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>

2017-07-16 8:05 GMT+02:00 Manfred Lotz <manfred at dante.de>:

> On Sun, 16 Jul 2017 07:51:29 +0200
> martin at dante.de wrote:
>
> > I accidently did that by just updating TL 2016 (tlmgr update --all
> > --self) after 2017 had been released.
> >
> > To be honest: I did not like that result as it happened without
> > warning.
> >
>
> Yes, for those who want to keep older texlive installations it is bad
> to get this result without prior warning.
>

It says: copy the 2016 directory to 2017. If you follow this instruction,
at the end of the procedure you have both.

>
> > Best regards
> > Martin
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



> >
> > ?Gesendet mit TypeApp ?
> >
> > Am 15. Juli 2017, 12:41, um 12:41, Nikos Platis <nplatis at gmail.com>
> > schrieb:
> > >Hello,
> > >
> > >Some recent years there was a procedure (unsupported but for me
> > >always successful) for upgrading TeXLive from a previous year
> > >installation (for
> > >Unix). The respective page (https://www.tug.org/texlive/upgrade.html)
> > >is
> > >the one from last year, when it was not possible to upgrade TeXLive
> > >2015 to
> > >2016.
> > >
> > >Have there been any tests for upgrading TeXLive 2016 to 2017?
> > >
> > >Thanks!
> >
> >
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170716/631e161f/attachment.html>

From preining at logic.at  Sun Jul 16 15:25:46 2017
From: preining at logic.at (Norbert Preining)
Date: Sun, 16 Jul 2017 22:25:46 +0900
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
Message-ID: <20170716132546.cneaav23ar6snq4t@bulldog.preining.info>

> I accidently did that by just updating TL 2016 (tlmgr update --all --self) after 2017 had been released. 
> To be honest: I did not like that result as it happened without warning.

Indeed. I am surprised that this worked ;-)

I guess I will add a safe-guard for that, thanks for reminding me.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From moasen at zoho.com  Sun Jul 16 19:03:10 2017
From: moasen at zoho.com (Emanuel Berg)
Date: Sun, 16 Jul 2017 19:03:10 +0200
Subject: [tex-live] install font manually, tlmgr broke
References: <86eftqes4c.fsf@zoho.com>
 <97D26626-0D2A-4C66-98B7-E6974FCCF43F@logic.at> <86zic7sm9g.fsf@zoho.com>
 <20170714082100.e4kgsp7xxoroiix4@burischnitzel.preining.info>
Message-ID: <86k238uxf5.fsf@zoho.com>

Norbert Preining wrote:

> No, as I wrote, you need to find an archive
> of TeX Live 2016's tlnet, and point tlmgr to
> it. Nothing else.

Are you sure that's the problem? Because that
error message sure sounds like a bug, not
a repository insufficiency. Unless the bug is
in the repo itself, of course.

Anyway, I did this:

    $ tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet
    <tp://mirror.ctan.org/systems/texlive/tlnet
    (running on Debian, switching to user mode!)
    tlmgr: setting default package repository to
    http://mirror.ctan.org/systems/texlive/tlnet

(I found the mirror URL in the tlmgr man page.)

Alas:

    $ tlmgr update --all
    (running on Debian, switching to user mode!)
    Unknown directive ...containerchecksum
    06c8c1fff8b025f6f55f8629af6e41a6dd695e13bbdfe8b78b678e9cb0cfa509826355f4ece20d8a99b49bcee3c5931b8d766f0fc3dae0d6a645303d487600b0...
    , please fix it!
    at /usr/share/texlive/tlpkg/TeXLive/TLPOBJ.pm
    line 210, <$retfh> line 5761.

-- 
underground experts united
http://user.it.uu.se/~embe8573


From manfred at dante.de  Sun Jul 16 19:45:17 2017
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 16 Jul 2017 19:45:17 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
Message-ID: <20170716194517.7b31a4fb@hogwart.bsdlocal.net>

On Sun, 16 Jul 2017 11:04:24 +0200
Zdenek Wagner <zdenek.wagner at gmail.com> wrote:

> 2017-07-16 8:05 GMT+02:00 Manfred Lotz <manfred at dante.de>:
> 
> > On Sun, 16 Jul 2017 07:51:29 +0200
> > martin at dante.de wrote:
> >  
> > > I accidently did that by just updating TL 2016 (tlmgr update --all
> > > --self) after 2017 had been released.
> > >
> > > To be honest: I did not like that result as it happened without
> > > warning.
> > >  
> >
> > Yes, for those who want to keep older texlive installations it is
> > bad to get this result without prior warning.
> >  
> 
> It says: copy the 2016 directory to 2017. If you follow this
> instruction, at the end of the procedure you have both.
> 

Hm, I don't recall having seen any warning. 

If this was a warning without requiring me to answer anything in order
to continue then it could be that the warning appeared but I didn't
notice it. In this case  I would diagnose it as pebkac.



-- 
Manfred

From nplatis at uop.gr  Sun Jul 16 19:52:36 2017
From: nplatis at uop.gr (Nikos Platis)
Date: Sun, 16 Jul 2017 20:52:36 +0300
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
Message-ID: <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>

OK, there are two things mixed up here, incorrectly (by Zdenek and then
Manfred).

(a) The update command (tlmgr update ...) has updated TL 2016 to 2017
without any warning, in the same directory.
(b) The procedure described in https://www.tug.org/texlive/upgrade.html
does instruct to duplicate the installation directory.

It seems that all this (esp. (a)) will soon be corrected by Norbert (btw,
if I recall correctly, in previous years you simply could not upgrade
directly).



2017-07-16 20:45 GMT+03:00 Manfred Lotz <manfred at dante.de>:

> On Sun, 16 Jul 2017 11:04:24 +0200
> Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>
> > 2017-07-16 8:05 GMT+02:00 Manfred Lotz <manfred at dante.de>:
> >
> > > On Sun, 16 Jul 2017 07:51:29 +0200
> > > martin at dante.de wrote:
> > >
> > > > I accidently did that by just updating TL 2016 (tlmgr update --all
> > > > --self) after 2017 had been released.
> > > >
> > > > To be honest: I did not like that result as it happened without
> > > > warning.
> > > >
> > >
> > > Yes, for those who want to keep older texlive installations it is
> > > bad to get this result without prior warning.
> > >
> >
> > It says: copy the 2016 directory to 2017. If you follow this
> > instruction, at the end of the procedure you have both.
> >
>
> Hm, I don't recall having seen any warning.
>
> If this was a warning without requiring me to answer anything in order
> to continue then it could be that the warning appeared but I didn't
> notice it. In this case  I would diagnose it as pebkac.
>
>
>
> --
> Manfred
>



-- 
Nikos Platis
Assistant Professor
Department of Informatics and Telecommunications, University of the
Peloponnese
nplatis at uop.gr  ---  http://users.uop.gr/~nplatis/  ---  +30 2710 230171
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170716/e082b282/attachment.html>

From manfred at dante.de  Sun Jul 16 20:19:40 2017
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 16 Jul 2017 20:19:40 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
Message-ID: <20170716201940.06d45715@hogwart.bsdlocal.net>

On Sun, 16 Jul 2017 20:52:36 +0300
Nikos Platis <nplatis at uop.gr> wrote:

> OK, there are two things mixed up here, incorrectly (by Zdenek and
> then Manfred).
> 
> (a) The update command (tlmgr update ...) has updated TL 2016 to 2017
> without any warning, in the same directory.
> (b) The procedure described in
> https://www.tug.org/texlive/upgrade.html does instruct to duplicate
> the installation directory.
> 
> It seems that all this (esp. (a)) will soon be corrected by Norbert
> (btw, if I recall correctly, in previous years you simply could not
> upgrade directly).
> 
> 

Thanks, Nikos. Your explanations make much sense, and I'm happy not to
have had a pebkac issue in that particular situation.

-- 
Best, Manfred

> 
> 2017-07-16 20:45 GMT+03:00 Manfred Lotz <manfred at dante.de>:
> 
> > On Sun, 16 Jul 2017 11:04:24 +0200
> > Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
> >  
> > > 2017-07-16 8:05 GMT+02:00 Manfred Lotz <manfred at dante.de>:
> > >  
> > > > On Sun, 16 Jul 2017 07:51:29 +0200
> > > > martin at dante.de wrote:
> > > >  
> > > > > I accidently did that by just updating TL 2016 (tlmgr update
> > > > > --all --self) after 2017 had been released.
> > > > >
> > > > > To be honest: I did not like that result as it happened
> > > > > without warning.
> > > > >  
> > > >
> > > > Yes, for those who want to keep older texlive installations it
> > > > is bad to get this result without prior warning.
> > > >  
> > >
> > > It says: copy the 2016 directory to 2017. If you follow this
> > > instruction, at the end of the procedure you have both.
> > >  
> >
> > Hm, I don't recall having seen any warning.
> >
> > If this was a warning without requiring me to answer anything in
> > order to continue then it could be that the warning appeared but I
> > didn't notice it. In this case  I would diagnose it as pebkac.
> >
> >
> >
> > --
> > Manfred
> >  
> 
> 
> 


From reinhard.kotucha at web.de  Mon Jul 17 01:55:43 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 17 Jul 2017 01:55:43 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
Message-ID: <22891.64767.113859.140140@zaphod.ms25.net>

On 2017-07-16 at 20:52:36 +0300, Nikos Platis wrote:

 > OK, there are two things mixed up here, incorrectly (by Zdenek and
 > then Manfred).
 > 
 > (a) The update command (tlmgr update ...) has updated TL 2016 to
 > 2017 without any warning, in the same directory.
 > (b) The procedure described
 > in?https://www.tug.org/texlive/upgrade.html does instruct to
 > duplicate the installation directory.
 > 
 > It seems that all this (esp. (a)) will soon be corrected by Norbert
 > (btw, if I recall correctly, in previous years you simply could not
 > upgrade directly).

Upgrading from a previous release was possible in the past.  But take
the documentation you mentioned above seriously.  It clearly states
that the recommended way is to install TeX Live from scratch and that
you are on your own if you follow the instructions.

The very first sentence, printed with bold letters, states:

 | By default, please get the new TL by doing a new installation
 | instead of proceeding here.

It's a matter of fact that upgrading from a previous release is faster
than installing from scratch.  But upgrading is quite risky and the
gain is negligible if you take into account that new versions of TeX
Live are released only once per year.

In short, before you consider to upgrade your system, read

  https://www.tug.org/texlive/upgrade.html

carefully.  I've never seen a comparable file which comes with so many
warnings.  Take them seriously.

Coming back to your statements:

 > (a) The update command (tlmgr update ...) has updated TL 2016 to
 > 2017 without any warning, in the same directory.

When I upgraded from TeX Live 2016 to tlpretest I've got a warning.

 > (b) The procedure described in

 >        https://www.tug.org/texlive/upgrade.html

 > does instruct to duplicate the installation directory.

I assume that Manfred followed this advice.  Hopefully!  Then both
directories, texlive/2016 and texlive/2017, contain identical copies
of TeX Live 2016.

Given that Manfred forgot to adjust PATH to point to
texlive/2017/bin/<platform>, then tlmgr upgraded files in texlive/2016
to TeX Live 2017.

This looks disastrous at a first glance.  But nothing is lost.

   texlive/2016 now contains TeX Live 2017

but

   texlive/2017 still contains a copy of TeX Live 2016.

All one has to do is to remame directories and to adjust PATH.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From manfred at dante.de  Mon Jul 17 06:21:28 2017
From: manfred at dante.de (Manfred Lotz)
Date: Mon, 17 Jul 2017 06:21:28 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <22891.64767.113859.140140@zaphod.ms25.net>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
 <22891.64767.113859.140140@zaphod.ms25.net>
Message-ID: <20170717062128.5f574dd7@hogwart.bsdlocal.net>

Hi Reinhard,

On Mon, 17 Jul 2017 01:55:43 +0200
Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> On 2017-07-16 at 20:52:36 +0300, Nikos Platis wrote:
> 
>  > OK, there are two things mixed up here, incorrectly (by Zdenek and
>  > then Manfred).
>  > 
>  > (a) The update command (tlmgr update ...) has updated TL 2016 to
>  > 2017 without any warning, in the same directory.
>  > (b) The procedure described
>  > in?https://www.tug.org/texlive/upgrade.html does instruct to
>  > duplicate the installation directory.
>  > 
>  > It seems that all this (esp. (a)) will soon be corrected by Norbert
>  > (btw, if I recall correctly, in previous years you simply could not
>  > upgrade directly).  
> 
> Upgrading from a previous release was possible in the past.  But take
> the documentation you mentioned above seriously.  It clearly states
> that the recommended way is to install TeX Live from scratch and that
> you are on your own if you follow the instructions.
> 
> The very first sentence, printed with bold letters, states:
> 
>  | By default, please get the new TL by doing a new installation
>  | instead of proceeding here.
> 
> It's a matter of fact that upgrading from a previous release is faster
> than installing from scratch.  But upgrading is quite risky and the
> gain is negligible if you take into account that new versions of TeX
> Live are released only once per year.
> 
> In short, before you consider to upgrade your system, read
> 
>   https://www.tug.org/texlive/upgrade.html
> 
> carefully.  I've never seen a comparable file which comes with so many
> warnings.  Take them seriously.
> 
> Coming back to your statements:
> 
>  > (a) The update command (tlmgr update ...) has updated TL 2016 to
>  > 2017 without any warning, in the same directory.  
> 
> When I upgraded from TeX Live 2016 to tlpretest I've got a warning.
> 
>  > (b) The procedure described in  
> 
>  >        https://www.tug.org/texlive/upgrade.html  
> 
>  > does instruct to duplicate the installation directory.  
> 
> I assume that Manfred followed this advice.  Hopefully!  Then both
> directories, texlive/2016 and texlive/2017, contain identical copies
> of TeX Live 2016.
> 

To be honest, I haven't read that as I didn't expect 2016 to be lifted
to 2017.

> Given that Manfred forgot to adjust PATH to point to
> texlive/2017/bin/<platform>, then tlmgr upgraded files in texlive/2016
> to TeX Live 2017.
> 

No, usually (as a command line geek) I'm pretty much aware of PATH and
other environment variables.  :-)

> This looks disastrous at a first glance.  But nothing is lost.
> 
>    texlive/2016 now contains TeX Live 2017
> 
> but
> 
>    texlive/2017 still contains a copy of TeX Live 2016.
> 
> All one has to do is to remame directories and to adjust PATH.
> 
> Regards,
>   Reinhard
> 

Let me tell what I did.  :-)

On a second non-private laptop I installed texlive 2017 and adjusted
the PATH, and all was fine.

Then I thought: texlive 2016 is very old as I hadn't done any update
for an awful lot of time. So, I should at least get the newest stuff of
texlive 2016. 

I adjusted the PATH back to 2016 and did: tlmgr update --all

Of course I got told to do a --self which i did.  Then I restarted the
'tlmgr update --all', went to the kitchenn for a coffee and when
being back I got a list of 880 packages to update. 

On the one hand I was wondering about the sheer amount of packages
to update on the other hand I new that I hadn't done an update "for
ages" and I also know on a daily basis how busy authors do update their
packages. So I did the mass update, and was happy.

Some time later, Harald K?nig told me that it happened to him, after an
upgrade in texlive 2016 ,that now his /usr/local/texlive/2016 contains
texlive 2017.

Being back at home I checked my updated 2016 tree, and discovered the
same. Actually, in my case it wasn't important if I have still the 2016
lying around. So, instead to recover from backup I deleted the 2016
(containing 2017) tree.


-- 
Best, Manfred
 










From simonrob at gmail.com  Mon Jul 17 11:42:26 2017
From: simonrob at gmail.com (Simon Robinson)
Date: Mon, 17 Jul 2017 02:42:26 -0700 (PDT)
Subject: [tex-live] TeXLive error
Message-ID: <EA8E4443-12C0-4DA5-A386-A4BD46AAD18A@gmail.com>

Hi - I've just installed MacTeX 2017 and tried to run TeX Live. At the prompt to enable authentication, I get the following error message, so am reporting it as requested. I'm using OS X 10.8.5:


2017-07-17 09:40:22 +0000 Notice -[TLMOperation main][93637]	/usr/texbin/tlmgr: Initialization failed (in setup_unix_one):
/usr/texbin/tlmgr: could not find a usable wget.
/usr/texbin/tlmgr: Please install wget and try again.
/usr/texbin/tlmgr: Initialization failed (in setup_unix_one):
/usr/texbin/tlmgr: could not find a usable xzdec.
/usr/texbin/tlmgr: Please install xzdec and try again.
tlmgr: Couldn't set up the necessary programs.
Installation of packages is not supported.
Please report to texlive at tug.org.
Use of uninitialized value $r in split at /usr/texbin/tlmgr line 3976.
tlmgr: Cannot find main repository, you have to tag one as main!



Regards,
Simon Robinson

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170717/ec12fff4/attachment.html>

From simonrob at gmail.com  Mon Jul 17 11:49:28 2017
From: simonrob at gmail.com (Simon Robinson)
Date: Mon, 17 Jul 2017 02:49:28 -0700 (PDT)
Subject: [tex-live] TeXLive error
In-Reply-To: <EA8E4443-12C0-4DA5-A386-A4BD46AAD18A@gmail.com>
References: <EA8E4443-12C0-4DA5-A386-A4BD46AAD18A@gmail.com>
Message-ID: <0E667AE9-0048-4B63-BDC5-A1787E1BE428@gmail.com>

Hi - just to follow up, I've checked the supported systems page, and found that 10.8.5 isn't supported, so I suppose this is why TeX Live isn't working.


I probably would have noticed this before downloading and installing if it was mentioned on the download page (i.e.,?https://www.tug.org/mactex/mactex-download.html, which is what Google took me to), rather than just the homepage.


To avoid many others like me sending you unnecessary emails, a note in the error message would probably help too.


Thanks for all the work on MacTeX!
Simon Robinson


> On Jul 17, 2017, at 10:42 AM, Simon Robinson <simonrob at gmail.com> wrote:
> 
> 
> Hi - I've just installed MacTeX 2017 and tried to run TeX Live. At the prompt to enable authentication, I get the following error message, so am reporting it as requested. I'm using OS X 10.8.5:
> 
> 
> 2017-07-17 09:40:22 +0000 Notice -[TLMOperation main][93637]	/usr/texbin/tlmgr: Initialization failed (in setup_unix_one):
> /usr/texbin/tlmgr: could not find a usable wget.
> /usr/texbin/tlmgr: Please install wget and try again.
> /usr/texbin/tlmgr: Initialization failed (in setup_unix_one):
> /usr/texbin/tlmgr: could not find a usable xzdec.
> /usr/texbin/tlmgr: Please install xzdec and try again.
> tlmgr: Couldn't set up the necessary programs.
> Installation of packages is not supported.
> Please report to texlive at tug.org.
> Use of uninitialized value $r in split at /usr/texbin/tlmgr line 3976.
> tlmgr: Cannot find main repository, you have to tag one as main!
> 
> 
> 
> Regards,
> Simon Robinson
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170717/7f232531/attachment.html>

From mojca.miklavec.lists at gmail.com  Mon Jul 17 16:23:55 2017
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 17 Jul 2017 16:23:55 +0200
Subject: [tex-live] TeXLive error
In-Reply-To: <0E667AE9-0048-4B63-BDC5-A1787E1BE428@gmail.com>
References: <EA8E4443-12C0-4DA5-A386-A4BD46AAD18A@gmail.com>
 <0E667AE9-0048-4B63-BDC5-A1787E1BE428@gmail.com>
Message-ID: <CALBOmsah13KGbW3a74eH0s5JG7w1FpCfv7GEgfeBCM4akrOijg@mail.gmail.com>

On 17 July 2017 at 11:49, Simon Robinson wrote:
> Hi - just to follow up, I've checked the supported systems page, and found
> that 10.8.5 isn't supported, so I suppose this is why TeX Live isn't
> working.

While MacTeX is not supporting 10.8, you can still install full TeX
Live via command-line:
    https://www.tug.org/texlive/acquire-netinstall.html
which will automatically fetch the proper old binaries compatible with
older systems.

I'm surprised that the installer doesn't prevent you from installing
MacTeX. Maybe that's something that has never been tested, but could
probably easily be fixed.

(There's also a tiny installer that can adjust the paths automatically.)

Mojca

From richardmoncriefkoch at icloud.com  Mon Jul 17 16:53:00 2017
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Mon, 17 Jul 2017 07:53:00 -0700
Subject: [tex-live] TeXLive error
Message-ID: <F5BFB95D-33CD-4BE9-AE8B-ECEE8D34F7E0@icloud.com>

Simon,

Thanks for the notes about your install experience, which were polite and appreciated. I'll revise the downloading page later today. My feelings about the site which linked you to our download page are sharper and unprintable.

I spent considerable time reworking the main page of MacTeX so users would know the current support policy. Just below the title line, which reads "The MacTeX-2017 Distribution", are two lines. The first reads "New Policy on Supported Systems" and the second is a link that says "Please Read". This link explains in detail that we only support Yosemite and up, and why.

Then there is a dividing line, followed by text which reads "This distribution requires Mac OS 10.10, Yosemite, or higher and runs on Intel processors." Immediately after that, there comes the link to the download page.

It is damn frustrating for somebody to bypass all of that and just link you to the downloading page. A rather sharp note to whatever page sent you there would be appreciated. We always construct the main page so the download link comes very close to the top, and other web sites should link to that main page.

Dick Koch

From reinhard.kotucha at web.de  Mon Jul 17 22:56:56 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 17 Jul 2017 22:56:56 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <20170717062128.5f574dd7@hogwart.bsdlocal.net>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
 <22891.64767.113859.140140@zaphod.ms25.net>
 <20170717062128.5f574dd7@hogwart.bsdlocal.net>
Message-ID: <22893.9368.352025.348310@zaphod.ms25.net>

On 2017-07-17 at 06:21:28 +0200, Manfred Lotz wrote:

 > [....]
 >
 > Some time later, Harald K?nig told me that it happened to him, after an
 > upgrade in texlive 2016 ,that now his /usr/local/texlive/2016 contains
 > texlive 2017.
 > 
 > Being back at home I checked my updated 2016 tree, and discovered the
 > same. Actually, in my case it wasn't important if I have still the 2016
 > lying around. So, instead to recover from backup I deleted the 2016
 > (containing 2017) tree.

Hi Manfred,
now I understand what happened to you.

Maybe tlmgr could compare the first line of the file
"texlive/<YYYY>/release-texlive.txt" (if it exists) with that in the
repository and abort with an error message if release numbers don't
match.

If someone wants to upgrade deliberately, all s?he has to do is to
remove the file "release-texlive.txt" from the local directory.

Norbert, what do you think?  Requesting people to remove a file is
probably better than adding yet another optional argument to tlmgr.
A good error message is unavoidable anyway.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From preining at logic.at  Tue Jul 18 02:01:56 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 18 Jul 2017 09:01:56 +0900
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <20170717062128.5f574dd7@hogwart.bsdlocal.net>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
 <22891.64767.113859.140140@zaphod.ms25.net>
 <20170717062128.5f574dd7@hogwart.bsdlocal.net>
Message-ID: <20170718000156.u4kpgroduk7xrwgs@bulldog.preining.info>

> I adjusted the PATH back to 2016 and did: tlmgr update --all
> 
> Of course I got told to do a --self which i did.  Then I restarted the
> 'tlmgr update --all', went to the kitchenn for a coffee and when
> being back I got a list of 880 packages to update. 

Just for everyone's information: I have committed a patch to tlmgr
that prohibits updates via tlmgr across releases. This will of course
not fix TL2016 installations, sorry for that, but at least next
year it shouldn't happen again ;-)

Output would look like this:
$ tlmgr update --self --all
tlmgr: Remote repository is newer than local (2016 < 2017)
Cross release updates are only supported with
  update-tlmgr-latest(.sh/.exe) --update
Please see https://tug.org/texlive/upgrade.html for details.
$

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From rickhg12hs at gmail.com  Tue Jul 18 15:08:43 2017
From: rickhg12hs at gmail.com (Rick Graham)
Date: Tue, 18 Jul 2017 15:08:43 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <20170717062128.5f574dd7@hogwart.bsdlocal.net>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
 <22891.64767.113859.140140@zaphod.ms25.net>
 <20170717062128.5f574dd7@hogwart.bsdlocal.net>
Message-ID: <CAF+zCGQ8AmUg9mULFT+QeXvMeoHuyfeCo67gvxjPqUV5XJJjgA@mail.gmail.com>

I had a similar experience.

If one does want a fully updated TexLive 2016 now, how should that be done?


On Mon, Jul 17, 2017 at 6:21 AM, Manfred Lotz <manfred at dante.de> wrote:

> Hi Reinhard,
>
> On Mon, 17 Jul 2017 01:55:43 +0200
> Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
>
> > On 2017-07-16 at 20:52:36 +0300, Nikos Platis wrote:
> >
> >  > OK, there are two things mixed up here, incorrectly (by Zdenek and
> >  > then Manfred).
> >  >
> >  > (a) The update command (tlmgr update ...) has updated TL 2016 to
> >  > 2017 without any warning, in the same directory.
> >  > (b) The procedure described
> >  > in https://www.tug.org/texlive/upgrade.html does instruct to
> >  > duplicate the installation directory.
> >  >
> >  > It seems that all this (esp. (a)) will soon be corrected by Norbert
> >  > (btw, if I recall correctly, in previous years you simply could not
> >  > upgrade directly).
> >
> > Upgrading from a previous release was possible in the past.  But take
> > the documentation you mentioned above seriously.  It clearly states
> > that the recommended way is to install TeX Live from scratch and that
> > you are on your own if you follow the instructions.
> >
> > The very first sentence, printed with bold letters, states:
> >
> >  | By default, please get the new TL by doing a new installation
> >  | instead of proceeding here.
> >
> > It's a matter of fact that upgrading from a previous release is faster
> > than installing from scratch.  But upgrading is quite risky and the
> > gain is negligible if you take into account that new versions of TeX
> > Live are released only once per year.
> >
> > In short, before you consider to upgrade your system, read
> >
> >   https://www.tug.org/texlive/upgrade.html
> >
> > carefully.  I've never seen a comparable file which comes with so many
> > warnings.  Take them seriously.
> >
> > Coming back to your statements:
> >
> >  > (a) The update command (tlmgr update ...) has updated TL 2016 to
> >  > 2017 without any warning, in the same directory.
> >
> > When I upgraded from TeX Live 2016 to tlpretest I've got a warning.
> >
> >  > (b) The procedure described in
> >
> >  >        https://www.tug.org/texlive/upgrade.html
> >
> >  > does instruct to duplicate the installation directory.
> >
> > I assume that Manfred followed this advice.  Hopefully!  Then both
> > directories, texlive/2016 and texlive/2017, contain identical copies
> > of TeX Live 2016.
> >
>
> To be honest, I haven't read that as I didn't expect 2016 to be lifted
> to 2017.
>
> > Given that Manfred forgot to adjust PATH to point to
> > texlive/2017/bin/<platform>, then tlmgr upgraded files in texlive/2016
> > to TeX Live 2017.
> >
>
> No, usually (as a command line geek) I'm pretty much aware of PATH and
> other environment variables.  :-)
>
> > This looks disastrous at a first glance.  But nothing is lost.
> >
> >    texlive/2016 now contains TeX Live 2017
> >
> > but
> >
> >    texlive/2017 still contains a copy of TeX Live 2016.
> >
> > All one has to do is to remame directories and to adjust PATH.
> >
> > Regards,
> >   Reinhard
> >
>
> Let me tell what I did.  :-)
>
> On a second non-private laptop I installed texlive 2017 and adjusted
> the PATH, and all was fine.
>
> Then I thought: texlive 2016 is very old as I hadn't done any update
> for an awful lot of time. So, I should at least get the newest stuff of
> texlive 2016.
>
> I adjusted the PATH back to 2016 and did: tlmgr update --all
>
> Of course I got told to do a --self which i did.  Then I restarted the
> 'tlmgr update --all', went to the kitchenn for a coffee and when
> being back I got a list of 880 packages to update.
>
> On the one hand I was wondering about the sheer amount of packages
> to update on the other hand I new that I hadn't done an update "for
> ages" and I also know on a daily basis how busy authors do update their
> packages. So I did the mass update, and was happy.
>
> Some time later, Harald K?nig told me that it happened to him, after an
> upgrade in texlive 2016 ,that now his /usr/local/texlive/2016 contains
> texlive 2017.
>
> Being back at home I checked my updated 2016 tree, and discovered the
> same. Actually, in my case it wasn't important if I have still the 2016
> lying around. So, instead to recover from backup I deleted the 2016
> (containing 2017) tree.
>
>
> --
> Best, Manfred
>
>
>
>
>
>
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170718/2a23aa93/attachment.html>

From preining at logic.at  Tue Jul 18 15:56:58 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 18 Jul 2017 22:56:58 +0900
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <CAF+zCGQ8AmUg9mULFT+QeXvMeoHuyfeCo67gvxjPqUV5XJJjgA@mail.gmail.com>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
 <22891.64767.113859.140140@zaphod.ms25.net>
 <20170717062128.5f574dd7@hogwart.bsdlocal.net>
 <CAF+zCGQ8AmUg9mULFT+QeXvMeoHuyfeCo67gvxjPqUV5XJJjgA@mail.gmail.com>
Message-ID: <20170718135658.3q4sfm37oilozpak@bulldog.preining.info>

> If one does want a fully updated TexLive 2016 now, how should that be done?

Too late. You had about 2-3 months during the freeze time to do the
update. The 2016 tlnet archive is now gone.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From rickhg12hs at gmail.com  Tue Jul 18 16:02:34 2017
From: rickhg12hs at gmail.com (Rick Graham)
Date: Tue, 18 Jul 2017 16:02:34 +0200
Subject: [tex-live] Upgrade from texlive 2016
In-Reply-To: <20170718135658.3q4sfm37oilozpak@bulldog.preining.info>
References: <CACceKym_=rHYCLhaQTCsqohBYu0syM+6TGb63zgO7pDtDPOo3Q@mail.gmail.com>
 <1475a053-4d2d-46c1-a126-2deb78e23028@dante.de>
 <20170716080535.7e6524e1@hogwart.bsdlocal.net>
 <CAC1phyb-05kVje=jnsR8LevHdFM5DmsaO02MCkJpsqb2LRz=kA@mail.gmail.com>
 <20170716194517.7b31a4fb@hogwart.bsdlocal.net>
 <CACceKyna6xhtDZh1LhhDCKbkbro1NYR4cSCWhwUfmmvAn2QR0w@mail.gmail.com>
 <22891.64767.113859.140140@zaphod.ms25.net>
 <20170717062128.5f574dd7@hogwart.bsdlocal.net>
 <CAF+zCGQ8AmUg9mULFT+QeXvMeoHuyfeCo67gvxjPqUV5XJJjgA@mail.gmail.com>
 <20170718135658.3q4sfm37oilozpak@bulldog.preining.info>
Message-ID: <CAF+zCGQ7DO=PC9XH+r4V2-bEtAomvK-zL=Vx5jB8PXVobPDPPQ@mail.gmail.com>

No problem.  I have it.

I was just wondering for others.

On Tue, Jul 18, 2017 at 3:56 PM, Norbert Preining <preining at logic.at> wrote:

> > If one does want a fully updated TexLive 2016 now, how should that be
> done?
>
> Too late. You had about 2-3 months during the freeze time to do the
> update. The 2016 tlnet archive is now gone.
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170718/683180aa/attachment.html>

From phschlesinger at gmail.com  Wed Jul 19 22:43:12 2017
From: phschlesinger at gmail.com (Paul Schlesinger)
Date: Wed, 19 Jul 2017 15:43:12 -0500
Subject: [tex-live] Beamer/Tex-Live
Message-ID: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>

Each year at this time I update my lectures for ?Physics of
Macromolecules.? I do this using emacs (25.2) on both windows7 and OSx
10.12.5 using MiKTeX 2.9 or TeXlive 2017 respectively and 64 bit Os
versions.  This year identical files compile differently.  On windows there
are no errors or warnings.  On OSx the file compiles but end with the
warning Latex Problems after (the # of the last page) pages.  Does anyone
know what might be causing this?

Paul Schlesinger

Paul H. Schlesinger MD, PhD
Washington University School of Medicine
Don't let your models of reality become confused with reality itself.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170719/e01d1a16/attachment.html>

From alessi at robertalessi.net  Thu Jul 20 00:23:22 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 20 Jul 2017 00:23:22 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
Message-ID: <20170719222322.GA5363@riseup.net>

Your version of auctex may be outdated.  I experienced the same issue,
and updating auctex solved it.

Robert

On Wed, Jul 19, 2017 at 03:43:12PM -0500, Paul Schlesinger wrote:
> Each year at this time I update my lectures for ?Physics of
> Macromolecules.? I do this using emacs (25.2) on both windows7 and OSx
> 10.12.5 using MiKTeX 2.9 or TeXlive 2017 respectively and 64 bit Os
> versions.  This year identical files compile differently.  On windows there
> are no errors or warnings.  On OSx the file compiles but end with the
> warning Latex Problems after (the # of the last page) pages.  Does anyone
> know what might be causing this?
> 
> Paul Schlesinger
> 
> Paul H. Schlesinger MD, PhD
> Washington University School of Medicine
> Don't let your models of reality become confused with reality itself.

From phschlesinger at gmail.com  Thu Jul 20 00:39:07 2017
From: phschlesinger at gmail.com (Paul Schlesinger)
Date: Wed, 19 Jul 2017 17:39:07 -0500
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170719222322.GA5363@riseup.net>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net>
Message-ID: <CAG8VtR0KGph8Wi4xYkYJCOzpZAhQLbyhHJhaPWot+sopB3b2OA@mail.gmail.com>

Thank you, that seems to have worked.

Paul H. Schlesinger MD, PhD
Washington University School of Medicine
Don't let your models of reality become confused with reality itself.

On Wed, Jul 19, 2017 at 5:23 PM, Robert Alessi <alessi at robertalessi.net>
wrote:

> Your version of auctex may be outdated.  I experienced the same issue,
> and updating auctex solved it.
>
> Robert
>
> On Wed, Jul 19, 2017 at 03:43:12PM -0500, Paul Schlesinger wrote:
> > Each year at this time I update my lectures for ?Physics of
> > Macromolecules.? I do this using emacs (25.2) on both windows7 and OSx
> > 10.12.5 using MiKTeX 2.9 or TeXlive 2017 respectively and 64 bit Os
> > versions.  This year identical files compile differently.  On windows
> there
> > are no errors or warnings.  On OSx the file compiles but end with the
> > warning Latex Problems after (the # of the last page) pages.  Does anyone
> > know what might be causing this?
> >
> > Paul Schlesinger
> >
> > Paul H. Schlesinger MD, PhD
> > Washington University School of Medicine
> > Don't let your models of reality become confused with reality itself.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170719/58cc74cb/attachment.html>

From daleif at math.au.dk  Thu Jul 20 09:08:52 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Thu, 20 Jul 2017 07:08:52 +0000
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170719222322.GA5363@riseup.net>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>,
 <20170719222322.GA5363@riseup.net>
Message-ID: <1500534550270.83426@math.au.dk>

Just out of couriosity, which auctex version did you update to?

I recently switched to 11.90, and I do get Emacs saying that the compilation finished with problems, enven if there are none.

Not a big deal for me as I most ly compile using latexmk -pvc externally from emacs.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Robert Alessi <alessi at robertalessi.net>
Sent: 20 July 2017 00:23
To: Paul Schlesinger
Cc: tex-live at tug.org
Subject: Re: [tex-live] Beamer/Tex-Live

Your version of auctex may be outdated.  I experienced the same issue,
and updating auctex solved it.

Robert

On Wed, Jul 19, 2017 at 03:43:12PM -0500, Paul Schlesinger wrote:
> Each year at this time I update my lectures for ?Physics of
> Macromolecules.? I do this using emacs (25.2) on both windows7 and OSx
> 10.12.5 using MiKTeX 2.9 or TeXlive 2017 respectively and 64 bit Os
> versions.  This year identical files compile differently.  On windows there
> are no errors or warnings.  On OSx the file compiles but end with the
> warning Latex Problems after (the # of the last page) pages.  Does anyone
> know what might be causing this?
>
> Paul Schlesinger
>
> Paul H. Schlesinger MD, PhD
> Washington University School of Medicine
> Don't let your models of reality become confused with reality itself.


From preining at logic.at  Thu Jul 20 09:18:23 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 20 Jul 2017 16:18:23 +0900
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <1500534550270.83426@math.au.dk>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
Message-ID: <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>

> I recently switched to 11.90, and I do get Emacs saying that the compilation finished with problems, enven if there are none.

Same here, 11.90 plus TeX Live 2017 gives "finished with problems"

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From daleif at math.au.dk  Thu Jul 20 09:28:13 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Thu, 20 Jul 2017 07:28:13 +0000
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net>
 <1500534550270.83426@math.au.dk>,
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
Message-ID: <1500535710971.80522@math.au.dk>

ahh, seems to be 11.90.2 which is not on the website

Explanation of the problem is found here:

https://tex.stackexchange.com/a/368424/3929

it is harmless.

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Norbert Preining <preining at logic.at>
Sent: 20 July 2017 09:18
To: tex-live at tug.org
Subject: Re: [tex-live] Beamer/Tex-Live

> I recently switched to 11.90, and I do get Emacs saying that the compilation finished with problems, enven if there are none.

Same here, 11.90 plus TeX Live 2017 gives "finished with problems"

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From preining at logic.at  Thu Jul 20 09:42:20 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 20 Jul 2017 16:42:20 +0900
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <1500535710971.80522@math.au.dk>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <1500535710971.80522@math.au.dk>
Message-ID: <20170720074220.7ydsplx5imgqhdg4@burischnitzel.preining.info>

> ahh, seems to be 11.90.2 which is not on the website

Umpf, that is disappointing. I hate it when they do these elpa
updates without proper releases, which are necessary for the
distributors like Debian, RedHat etc.

Thanks for digging that up

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From alessi at robertalessi.net  Thu Jul 20 09:54:45 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 20 Jul 2017 09:54:45 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <1500535710971.80522@math.au.dk>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <1500535710971.80522@math.au.dk>
Message-ID: <20170720075445.GA2046@riseup.net>

Yes, I was about to write a quick note.  auctex 11.90.2 is not yet
packaged in the major linux distributions, but is available on git or
through emacs itself: just do 'M-x package-list-packages', which is
after all the recommended way to install and update packages such as
auctex.

On Thu, Jul 20, 2017 at 07:28:13AM +0000, Lars Madsen wrote:
> ahh, seems to be 11.90.2 which is not on the website
> 
> Explanation of the problem is found here:
> 
> https://tex.stackexchange.com/a/368424/3929
> 
> it is harmless.
> 
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math
> 
> 
> ________________________________________
> From: tex-live <tex-live-bounces at tug.org> on behalf of Norbert Preining <preining at logic.at>
> Sent: 20 July 2017 09:18
> To: tex-live at tug.org
> Subject: Re: [tex-live] Beamer/Tex-Live
> 
> > I recently switched to 11.90, and I do get Emacs saying that the compilation finished with problems, enven if there are none.
> 
> Same here, 11.90 plus TeX Live 2017 gives "finished with problems"
> 
> Norbert
> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From alessi at robertalessi.net  Thu Jul 20 10:02:55 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 20 Jul 2017 10:02:55 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170720074220.7ydsplx5imgqhdg4@burischnitzel.preining.info>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <1500535710971.80522@math.au.dk>
 <20170720074220.7ydsplx5imgqhdg4@burischnitzel.preining.info>
Message-ID: <20170720080255.GB2046@riseup.net>

So I was wrong in saying 'not yet packaged by the major linux
distributions' since 11.90.2 wasn't released by the auctex team.

On Thu, Jul 20, 2017 at 04:42:20PM +0900, Norbert Preining wrote:
> > ahh, seems to be 11.90.2 which is not on the website
> 
> Umpf, that is disappointing. I hate it when they do these elpa
> updates without proper releases, which are necessary for the
> distributors like Debian, RedHat etc.
> 
> Thanks for digging that up
> 
> Norbert
> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Thu Jul 20 10:10:05 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 20 Jul 2017 17:10:05 +0900
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170720075445.GA2046@riseup.net>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <1500535710971.80522@math.au.dk> <20170720075445.GA2046@riseup.net>
Message-ID: <20170720081005.ipzeeodesztf2oh3@burischnitzel.preining.info>

> Yes, I was about to write a quick note.  auctex 11.90.2 is not yet
> packaged in the major linux distributions, 

Because there are no tar balls and no releases.

> but is available on git or

I don't see any tag related to 11.90.2? Is
	git://git.savannah.gnu.org/auctex.git
this the correct git repo?

The last tag is the release tag of 11.90

> through emacs itself: just do 'M-x package-list-packages', which is
> after all the recommended way to install and update packages such as
> auctex.

Not for distributions.

Thanks for your cooperation

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From alessi at robertalessi.net  Thu Jul 20 10:33:50 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 20 Jul 2017 10:33:50 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170720081005.ipzeeodesztf2oh3@burischnitzel.preining.info>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <1500535710971.80522@math.au.dk> <20170720075445.GA2046@riseup.net>
 <20170720081005.ipzeeodesztf2oh3@burischnitzel.preining.info>
Message-ID: <927b9860-ad40-8ad4-fcb9-4c1090c1cce1@riseup.net>

Le 20/07/2017 ? 10:10, Norbert Preining a ?crit :
>> Yes, I was about to write a quick note.  auctex 11.90.2 is not yet
>> packaged in the major linux distributions, 
> 
> Because there are no tar balls and no releases.

You are right. Sorry about my mistake (which I corrected in a previous
post).

> 
>> but is available on git or
> 
> I don't see any tag related to 11.90.2? Is
> 	git://git.savannah.gnu.org/auctex.git
> this the correct git repo?

Yes

> 
> The last tag is the release tag of 11.90

Correct, there is no minor version number on git, so one has to do with
the master branch.  To take an example, there is an 'auctex-git' package
available to Archlinux users in AUR:
https://aur.archlinux.org/packages/auctex-git (see 'view pkgbuild' in
the 'Package actions' block on the right.

>> through emacs itself: just do 'M-x package-list-packages', which is
>> after all the recommended way to install and update packages such as
>> auctex.
> 
> Not for distributions.

Oddly, this is where 11.90.2 can be found!

> Thanks for your cooperation
> 
> Norbert
> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> 

From preining at logic.at  Thu Jul 20 10:39:00 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 20 Jul 2017 17:39:00 +0900
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <927b9860-ad40-8ad4-fcb9-4c1090c1cce1@riseup.net>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <1500535710971.80522@math.au.dk> <20170720075445.GA2046@riseup.net>
 <20170720081005.ipzeeodesztf2oh3@burischnitzel.preining.info>
 <927b9860-ad40-8ad4-fcb9-4c1090c1cce1@riseup.net>
Message-ID: <20170720083900.6sb2mf5gefmmwkcq@burischnitzel.preining.info>

Hi Robert,

> Correct, there is no minor version number on git, so one has to do with
> the master branch.  To take an example, there is an 'auctex-git' package

Yes, building from git is one option, but most distributions are not
happy. Arch is a rolling release distribution (AFAIR) and thus
doesn't care for timings, but most big dists use generally released
versions of software.

> >> through emacs itself: just do 'M-x package-list-packages', which is
> >> after all the recommended way to install and update packages such as
> >> auctex.
> > 
> > Not for distributions.
> 
> Oddly, this is where 11.90.2 can be found!

Sorry for being unclear - I meant using elpa/M-x package-list-packages is
"not the recommended way for distributions".

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From markus.kohm at gmx.de  Thu Jul 20 11:42:36 2017
From: markus.kohm at gmx.de (Markus Kohm)
Date: Thu, 20 Jul 2017 11:42:36 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
Message-ID: <8117594.8AyU35H43I@komascript.de>

Am Donnerstag, 20. Juli 2017, 16:18:23 CEST schrieb Norbert Preining:
> Same here, 11.90 plus TeX Live 2017 gives "finished with problems"

I have "LaTeX: problems after {1} page" with auctex 11.89 and 11.90 and GNU 
Emacs 25.2.1 and pdflatex of TeX Live 2017 but not with TeX Live 2016.

Test file was:

\documentclass{article}\begin{document}test\end{document}
 
It seems the regular expression for the LaTeX-Version check in tex-buf.el 
doesn't work for TL2017, because it search for a line like:

LaTeX2e <2017/01/01>

that is missing in the log-file of TeX Live 2017.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20170720/ffe3a6ae/attachment.sig>

From alessi at robertalessi.net  Thu Jul 20 12:14:19 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 20 Jul 2017 12:14:19 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170720083900.6sb2mf5gefmmwkcq@burischnitzel.preining.info>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <20170719222322.GA5363@riseup.net> <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <1500535710971.80522@math.au.dk> <20170720075445.GA2046@riseup.net>
 <20170720081005.ipzeeodesztf2oh3@burischnitzel.preining.info>
 <927b9860-ad40-8ad4-fcb9-4c1090c1cce1@riseup.net>
 <20170720083900.6sb2mf5gefmmwkcq@burischnitzel.preining.info>
Message-ID: <20170720101419.GA1609@riseup.net>

Hi Norbert,

On Thu, Jul 20, 2017 at 05:39:00PM +0900, Norbert Preining wrote:
> Hi Robert,
> 
> > Correct, there is no minor version number on git, so one has to do with
> > the master branch.  To take an example, there is an 'auctex-git' package
> 
> Yes, building from git is one option, but most distributions are not
> happy. Arch is a rolling release distribution (AFAIR) and thus
> doesn't care for timings, but most big dists use generally released
> versions of software.

That is correct.  I don't use Arch myself, but unless I be wrong, AUR
is not the official Arch, which still has v11.90 of auctex and so that
glitch which accompanies it.

> > >> through emacs itself: just do 'M-x package-list-packages', which is
> > >> after all the recommended way to install and update packages such as
> > >> auctex.
> > > 
> > > Not for distributions.
> > 
> > Oddly, this is where 11.90.2 can be found!
> 
> Sorry for being unclear - I meant using elpa/M-x package-list-packages is
> "not the recommended way for distributions".

I was skimming too fast.  If I may, wouldn't it be worth recompiling
the current version with a small patch for the time being?

All the best,

Robert

> All the best
> 
> Norbert
> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From alessi at robertalessi.net  Thu Jul 20 12:17:48 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 20 Jul 2017 12:17:48 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <8117594.8AyU35H43I@komascript.de>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <1500534550270.83426@math.au.dk>
 <20170720071823.f5ov57rlnshmwxva@burischnitzel.preining.info>
 <8117594.8AyU35H43I@komascript.de>
Message-ID: <20170720101748.GB1609@riseup.net>

Then how about applying small patch to the current version?

On Thu, Jul 20, 2017 at 11:42:36AM +0200, Markus Kohm wrote:
> Am Donnerstag, 20. Juli 2017, 16:18:23 CEST schrieb Norbert Preining:
> > Same here, 11.90 plus TeX Live 2017 gives "finished with problems"
> 
> I have "LaTeX: problems after {1} page" with auctex 11.89 and 11.90 and GNU 
> Emacs 25.2.1 and pdflatex of TeX Live 2017 but not with TeX Live 2016.
> 
> Test file was:
> 
> \documentclass{article}\begin{document}test\end{document}
>  
> It seems the regular expression for the LaTeX-Version check in tex-buf.el 
> doesn't work for TL2017, because it search for a line like:
> 
> LaTeX2e <2017/01/01>
> 
> that is missing in the log-file of TeX Live 2017.
> 
> Markus


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170720/c6a68c8b/attachment.sig>

From markus.kohm at gmx.de  Thu Jul 20 12:31:29 2017
From: markus.kohm at gmx.de (Markus Kohm)
Date: Thu, 20 Jul 2017 12:31:29 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <20170720101748.GB1609@riseup.net>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <8117594.8AyU35H43I@komascript.de> <20170720101748.GB1609@riseup.net>
Message-ID: <4198018.xCet1CMtfG@komascript.de>

Am Donnerstag, 20. Juli 2017, 12:17:48 CEST schrieb Robert Alessi:
> Then how about applying small patch to the current version?

A small patch for tex-buf.el would be:

1585c1585
< \\(Version\\|ver\\.\\|<[0-9/]*\\(?:u[^>]*\\)?>\\)" nil t)
---
> \\(Version\\|ver\\.\\|<[0-9/-]*\\(?:u[^>]*\\)?>\\)" nil t)

I've just replaced [0-9/] by [0-9/-].
Don't forget to rebuild the tex-buf.elc after changing tex-bug.el.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20170720/fdd225c8/attachment.sig>

From alessi at robertalessi.net  Thu Jul 20 12:38:54 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 20 Jul 2017 12:38:54 +0200
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <4198018.xCet1CMtfG@komascript.de>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <8117594.8AyU35H43I@komascript.de> <20170720101748.GB1609@riseup.net>
 <4198018.xCet1CMtfG@komascript.de>
Message-ID: <3c30f5fa-aca4-5b14-bd5e-04e518d20112@riseup.net>

Many thanks.  I will apply that patch right away.

All the best,

Robert

Le 20/07/2017 ? 12:31, Markus Kohm a ?crit :
> Am Donnerstag, 20. Juli 2017, 12:17:48 CEST schrieb Robert Alessi:
>> Then how about applying small patch to the current version?
> 
> A small patch for tex-buf.el would be:
> 
> 1585c1585
> < \\(Version\\|ver\\.\\|<[0-9/]*\\(?:u[^>]*\\)?>\\)" nil t)
> ---
>> \\(Version\\|ver\\.\\|<[0-9/-]*\\(?:u[^>]*\\)?>\\)" nil t)
> 
> I've just replaced [0-9/] by [0-9/-].
> Don't forget to rebuild the tex-buf.elc after changing tex-bug.el.
> 
> Markus
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 866 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170720/194051bf/attachment.sig>

From yudai.nkt at gmail.com  Thu Jul 20 07:48:11 2017
From: yudai.nkt at gmail.com (Yudai NAKATA)
Date: Thu, 20 Jul 2017 01:48:11 -0400
Subject: [tex-live] Strange TEXMFHOME in TeX Live 2017 on Darwin
Message-ID: <CAJwGACjRdUrWO0-885muaR6b9E7u8Yk_YXonLO_mmHnuxqATYQ@mail.gmail.com>

Dear all,

I noticed that TEXMFHOME is different between TL 2016 and TL 2017
although I don?t think I configured something special when installing:

$?/usr/local/texlive/2016/bin/x86_64-darwin/kpsewhich -var-value TEXMFHOME
/Users/yudai-nkt/texmf
$ !!:s/2016/2017/
/usr/local/texlive/2017/bin/x86_64-darwin/kpsewhich -var-value TEXMFHOME
/Users/yudai-nkt/Library/texmf

TEXMFHOME in TL 2016 is same as the documentation (7th paragraph in
https://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-260003.2.3)
and
the one in TL 2017 is like MacTeX style (please note that I use
vanilla TeX Live, not MacTeX).

As Perl is Greek to me I have no idea about what install-tl is doing,
but I found some relevant part
(line numbers are just for reference):

1393 # Environment variables and default values on UNIX:
1394 # ? TEXLIVE_INSTALL_PREFIX ? ? ? ? /usr/local/texlive ? => $tex_prefix
1395 # ? TEXLIVE_INSTALL_TEXDIR ? ? ? ? $tex_prefix/2010 ? ? => $TEXDIR
1396 # ? TEXLIVE_INSTALL_TEXMFSYSVAR ? ?$TEXDIR/texmf-var
1397 # ? TEXLIVE_INSTALL_TEXMFSYSCONFIG $TEXDIR/texmf-config
1398 # ? TEXLIVE_INSTALL_TEXMFLOCAL ? ? $tex_prefix/texmf-local
1399 # ? TEXLIVE_INSTALL_TEXMFHOME ? ? ?'$HOME/texmf'
1400 # ? TEXLIVE_INSTALL_TEXMFVAR ? ? ? ~/.texlive2010/texmf-var
1401 # ? TEXLIVE_INSTALL_TEXMFCONFIG ? ?~/.texlive2010/texmf-config

1434 ?if (platform() =~ m/darwin/) {
1435 ? ?$texmfhome ||= "~/Library";
1436 ?} else {
1437 ? ?$texmfhome ||= "~";
1438 ?}
1439 ?$vars{'TEXMFHOME'} = "$texmfhome/texmf";

If I run the script, however, different default values are proposed
regarding non-systemwide directories:

$ cd /path/to/install-tl && sudo ./install-tl
[...]
<D> set directories:
? ?TEXDIR (the main TeX directory):
? ? ?/usr/local/texlive/2017
? ?TEXMFLOCAL (directory for site-wide local files):
? ? ?/usr/local/texlive/texmf-local
? ?TEXMFSYSVAR (directory for variable and automatically generated data):
? ? ?/usr/local/texlive/2017/texmf-var
? ?TEXMFSYSCONFIG (directory for local config):
? ? ?/usr/local/texlive/2017/texmf-config
? ?TEXMFVAR (personal directory for variable and automatically generated data):
? ? ?~/Library/texlive/2017/texmf-var
? ?TEXMFCONFIG (personal directory for local config):
? ? ?~/Library/texlive/2017/texmf-config
? ?TEXMFHOME (directory for user-specific files):
? ? ?~/Library/texmf
[...]

I have no problem since I symlinked files to a new TEXMFHOME, but I?d
like to let you know just in case
(and also suppose contradiction between manual and actual behavior is confusing)

Best regards,
Yudai Nakata


From daleif at math.au.dk  Thu Jul 20 15:35:00 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Thu, 20 Jul 2017 13:35:00 +0000
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <4198018.xCet1CMtfG@komascript.de>
References: <CAG8VtR0qY-cCZ0wufxCZ2MniWc_QzhpX2y5bvW-9+7Ye_nooGg@mail.gmail.com>
 <8117594.8AyU35H43I@komascript.de>
 <20170720101748.GB1609@riseup.net>,<4198018.xCet1CMtfG@komascript.de>
Message-ID: <1500557718741.57347@math.au.dk>

Thanks Markus

that worked well


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Markus Kohm <markus.kohm at gmx.de>
Sent: 20 July 2017 12:31
To: tex-live at tug.org
Subject: Re: [tex-live] Beamer/Tex-Live

Am Donnerstag, 20. Juli 2017, 12:17:48 CEST schrieb Robert Alessi:
> Then how about applying small patch to the current version?

A small patch for tex-buf.el would be:

1585c1585
< \\(Version\\|ver\\.\\|<[0-9/]*\\(?:u[^>]*\\)?>\\)" nil t)
---
> \\(Version\\|ver\\.\\|<[0-9/-]*\\(?:u[^>]*\\)?>\\)" nil t)

I've just replaced [0-9/] by [0-9/-].
Don't forget to rebuild the tex-buf.elc after changing tex-bug.el.

Markus


From enrico.gregorio at gmail.com  Thu Jul 20 16:09:39 2017
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Thu, 20 Jul 2017 16:09:39 +0200
Subject: [tex-live] Strange TEXMFHOME in TeX Live 2017 on Darwin
In-Reply-To: <CAJwGACjRdUrWO0-885muaR6b9E7u8Yk_YXonLO_mmHnuxqATYQ@mail.gmail.com>
References: <CAJwGACjRdUrWO0-885muaR6b9E7u8Yk_YXonLO_mmHnuxqATYQ@mail.gmail.com>
Message-ID: <83784EEF-BBE6-49C1-961A-2B7CADA9EC38@gmail.com>

> On 20 Jul 2017, at 07:48, Yudai NAKATA <yudai.nkt at gmail.com> wrote:
> 
> Dear all,
> 
> I noticed that TEXMFHOME is different between TL 2016 and TL 2017
> although I don?t think I configured something special when installing:
> 
> $ /usr/local/texlive/2016/bin/x86_64-darwin/kpsewhich -var-value TEXMFHOME
> /Users/yudai-nkt/texmf
> $ !!:s/2016/2017/
> /usr/local/texlive/2017/bin/x86_64-darwin/kpsewhich -var-value TEXMFHOME
> /Users/yudai-nkt/Library/texmf

It?s a documented change, see page 42 of texlive-en.pdf, look for install-tl:

 install-tl: Personal paths are now set to MacTEX values (~/Library/...) by default on Macs.

You can revert to the old setup by modifying the top texmf.cnf file.

Ciao
Enrico

From preining at logic.at  Fri Jul 21 03:13:16 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 21 Jul 2017 10:13:16 +0900
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <4198018.xCet1CMtfG@komascript.de>
 <20170720101419.GA1609@riseup.net>
Message-ID: <20170721011316.s5e2hy2ejuxmwlev@burischnitzel.preining.info>

Hi Robert, hi Markus,

> I was skimming too fast.  If I may, wouldn't it be worth recompiling
> the current version with a small patch for the time being?

> A small patch for tex-buf.el would be:

Thanks, that is what I will suggest to the maintainer of auctex.
I am responsible for the TeX Live etc stuff, but auctex is
maintained by someone else.

Thanks!

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From usenet at siart.de  Fri Jul 21 07:11:09 2017
From: usenet at siart.de (Uwe Siart)
Date: Fri, 21 Jul 2017 07:11:09 +0200
Subject: [tex-live] Beamer/Tex-Live
References: <4198018.xCet1CMtfG@komascript.de>
 <20170721011316.s5e2hy2ejuxmwlev@burischnitzel.preining.info>
Message-ID: <84bmoeml1u.fsf@siart.de>

Norbert Preining <preining at logic.at> writes:

> Hi Robert, hi Markus,
>
>> A small patch for tex-buf.el would be:
>
> Thanks, that is what I will suggest to the maintainer of auctex.

But this patch is exactly what has been included in AUCTeX 11.90.2 3
months ago. So what you actually want to suggest is to make a "true"
release out of 11.90.2, don't you?

-- 
Uwe


From yudai.nkt at gmail.com  Fri Jul 21 07:37:17 2017
From: yudai.nkt at gmail.com (Yudai NAKATA)
Date: Fri, 21 Jul 2017 01:37:17 -0400
Subject: [tex-live] Strange TEXMFHOME in TeX Live 2017 on Darwin
In-Reply-To: <B574F184-4365-4DCF-BCAB-E11E0C546251@gmail.com>
References: <CAJwGACjRdUrWO0-885muaR6b9E7u8Yk_YXonLO_mmHnuxqATYQ@mail.gmail.com>
 <B574F184-4365-4DCF-BCAB-E11E0C546251@gmail.com>
Message-ID: <CAJwGACg=ze=iP_zR1vT9ad8rT9x9KuTedpoRsdRmVx4hJKivfg@mail.gmail.com>

Dear Enrico and all,

> It?s a documented change, see page 42 of texlive-en.pdf

Oops, I overlooked that section as I just grepped with ?texmfhome?.
Thank you for pointing out.

Maybe section 3.2.3 can also be updated accordingly?

Best regards,
Yudai Nakata

On 2017?7?20? at 22:54:27, Enrico Gregorio (enrico.gregorio at gmail.com) wrote:
> > On 20 Jul 2017, at 07:48, Yudai NAKATA wrote:
> >
> > Dear all,
> >
> > I noticed that TEXMFHOME is different between TL 2016 and TL 2017
> > although I don?t think I configured something special when installing:
> >
> > $ /usr/local/texlive/2016/bin/x86_64-darwin/kpsewhich -var-value TEXMFHOME
> > /Users/yudai-nkt/texmf
> > $ !!:s/2016/2017/
> > /usr/local/texlive/2017/bin/x86_64-darwin/kpsewhich -var-value TEXMFHOME
> > /Users/yudai-nkt/Library/texmf
>
> It?s a documented change, see page 42 of texlive-en.pdf, look for install-tl:
>
> install-tl: Personal paths are now set to MacTEX values (~/Library/...) by default
> on Macs.
>
> You can revert to the old setup by modifying the top texmf.cnf file.
>
> Ciao
> Enrico


From preining at logic.at  Fri Jul 21 10:34:43 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 21 Jul 2017 17:34:43 +0900
Subject: [tex-live] Beamer/Tex-Live
In-Reply-To: <84bmoeml1u.fsf@siart.de>
References: <4198018.xCet1CMtfG@komascript.de>
 <20170721011316.s5e2hy2ejuxmwlev@burischnitzel.preining.info>
 <84bmoeml1u.fsf@siart.de>
Message-ID: <20170721083443.cb4d2e32ki7doav3@burischnitzel.preining.info>

> But this patch is exactly what has been included in AUCTeX 11.90.2 3
> months ago. So what you actually want to suggest is to make a "true"
> release out of 11.90.2, don't you?

Not necessarily. 11.90 + this one line patch is different from 11.90.2 ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Sat Jul 22 01:03:57 2017
From: karl at freefriends.org (Karl Berry)
Date: Fri, 21 Jul 2017 23:03:57 GMT
Subject: [tex-live] TL17 fails to compile a document when including a
 graphic whose file name contains multiple dots
In-Reply-To: <CADionr6s1bw7qqVnicS=O5rLSEYbBUh2pj1ts9bxRLSgmbeC2A@mail.gmail.com>
Message-ID: <201707212303.v6LN3vh3025371@freefriends.org>

FYI, I posted bug reports to follow up on the issues you (Leo) reported.
I don't know how or when they will be resolved, but we can hope for
something in the not-impossibly-distant future, I guess ...

https://github.com/latex3/graphics-def/issues/12
https://github.com/ho-tex/oberdiek/issues/30
https://sourceforge.net/p/xetex/bugs/141/

karl

From jfbu at free.fr  Wed Jul 26 22:00:30 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 26 Jul 2017 22:00:30 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
Message-ID: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>

Hi,

I am ready to upload xint 1.2l to CTAN tonight, and although
I didn't expect much changes (this is mainly a maintenance
release), as part of my release routine
I ran some code from the user manual about pi via Machin formula
to compare execution time with 1.2k version. (I expected no big
change because I did not much modify the code base)

Let me point out that the matter here is not the code itself,
which is surely much improvable upon, for example by dropping
TeX altogether. I am just saying that to preventively dispel some
misinterpretations. I know how to improve the speed by a factor
5000 at least, if I really want.

I just take it as a benchmark test.

Procedure to follow:

1. grab xint.dtx from CTAN (currently 1.2k, in 2 or 3 days will be 1.2l)

http://mirrors.ctan.org/macros/generic/xint/xint.dtx

2. execute "etex xint.dtx" in some work repertory

Then you have all xint.sty etc.. files extracted

3. run in this work repertory the test file which I will indicate next via

"time etex testmachin.tex"

- with TL2017

- with TL2015

4. compare the timing result. On my Mac OS 10.9.5 I consistently get
on an iMac about 5 years old, around

- 6.5 seconds with TL2017 

- 4.5 seconds with TL2015

(the to-be-uploaded 1.2l seems to be about 5% faster than 1.2k
on this test, but this is not the point here)

Now I have no idea why 4.5 seconds with TL2015 and 6.5 seconds with TL2017 !

This is, as explained above, with the exact same xint version.

xint has no dependencies on other macro packages. The only different
thing is the etex (pdfetex) binary.

Here is now the benchmark file, it is extracted from the user manual basically
(The user manual contains a much faster other algorithm for pi too. Just to
help dispel preventively some misinterpretations) 

----
% save this as testmachin.tex
% Compile with e-TeX extensions enabled (etex, pdftex, ...)
\input xintfrac.sty
\input xintseries.sty
% pi = 16 Arctg(1/5) - 4 Arctg(1/239) (John Machin's formula)
\def\coeffarctg #1{\the\numexpr\ifodd#1 -1\else1\fi\relax/%
                                       \the\numexpr 2*#1+1\relax [0]}%
\def\xa {1/25[0]}%
\def\xb {1/57121[0]}%
\def\Machin #1{%
    \romannumeral0\expandafter\MachinA \expandafter
    {\the\numexpr (#1+3)*5/7\expandafter}\expandafter
    {\the\numexpr (#1+3)*10/45\expandafter}\expandafter
    {\the\numexpr #1+3\expandafter}\expandafter
    {\the\numexpr #1\relax }}%
\def\MachinA #1#2#3#4%
{\xinttrunc {#4}
 {\xintSub
  {\xintMul {16/5}{\xintFxPtPowerSeries {0}{#1}{\coeffarctg}{\xa}{#3}}}
  {\xintMul {4/239}{\xintFxPtPowerSeries {0}{#2}{\coeffarctg}{\xb}{#3}}}%
}}%
\pdfresettimer
\fdef\Z {\Machin {1000}}
\odef\W {\the\pdfelapsedtime}
\message{\Z}
\message{computed in \xintRound {2}{\W/65536} seconds.}

\def\x{3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989}

\ifx\x\Z \message{OK}\else \ERROR\fi
\bye 
----

As I don't trust enormously \pdfelapsedtime, I double check via the unix "time",
hence the "time etex testmachin.tex"


Let me repeat the question is not about xint from TL2015 versus xint from TL2017

We are testing here the very same xint. At my side, the development version
which I will upload later tonight. At your side currently the 1.2k version.

The only difference is in the pdfetex.

Now the timing difference appears very significative.

I take the liberty to alert you upon this because I initially could not understand
the former timings I had recorded as comments in my copy of the file, 

this discrepancy is causing alarm on unsuspecting software developers and perhaps
someone will have an explanation

Perhaps my OS is relevant ? Mac OS X 10.9.5. This means that with 
TL2017 I use the so-called darwinlegacy executable.

(because I have not had the time to compile myself the binaries).

I would appreciate if you could CC to my mail address
as I don't subscribe to the list.

My bet is that people not on darwinlegacy will not reproduce my findings.

Best,

Jean-Francois



From reinhard.kotucha at web.de  Thu Jul 27 02:15:37 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 27 Jul 2017 02:15:37 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
 TL2015 and TL2017
In-Reply-To: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
Message-ID: <22905.12457.590323.8056@zaphod.ms25.net>

On 2017-07-26 at 22:00:30 +0200, jfbu wrote:

 > 3. run in this work repertory the test file which I will indicate
 > next via
 > 
 > "time etex testmachin.tex"
 > 
 > - with TL2017
 > 
 > - with TL2015

Dear Jean-Francois,
I get

  TL2017:  computed in 9.27 seconds.
  TL2015:  computed in 9.21 seconds.

No significant difference, but in both cases I get the error message

  ! Undefined control sequence.
  l.31 \ifx\x\Z \message{OK}\else \ERROR
                                        \fi

and thus the return value of "time" isn't usable.  What went wrong?

My system is an AMD 2.4 GHz CPU running Gentoo Linux and TeX binaries
are from tug.org.

I must admit that benchmarks are confusing me ATM.  I've written a
tiny program in several programming languages which does nothing else
than to multiply numbers in nested for-loops.  On my old AMD machine,
luajit was as fast as C.  On my brand-new Intel i7-7700K luajit is
twice as fast as C.  Don't know why.  The CPU clock frequency is
obviously not all that counts.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From beebe at math.utah.edu  Thu Jul 27 02:45:19 2017
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Wed, 26 Jul 2017 18:45:19 -0600
Subject: [tex-live] strange discrepancy in running time of etex between
 TL2015 and TL2017
Message-ID: <CMM.0.95.0.1501116319.beebe@gamma.math.utah.edu>

One other point to note when comparing times of small benchmarks is
that modern processors, especially in laptops and compute servers,
monitor their workload, and decrease clock frequency when they don't
have much to do.  The reason is that energy consumption is
proportional to (clock frequency)**x, where x is usually some number
between 2 and 3.

Thus, for a benchmark that takes only a few seconds, you need to run
it multiple times in a row to keep the CPU busy: after a while
(usually a few minutes), the times will likely become reasonably
stable, if nothing else is happening on the system.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From jfbu at free.fr  Thu Jul 27 08:58:43 2017
From: jfbu at free.fr (jfbu)
Date: Thu, 27 Jul 2017 08:58:43 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
In-Reply-To: <22905.12457.590323.8056@zaphod.ms25.net>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
Message-ID: <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>


Hi Reinhard

Le 27 juil. 2017 at02:15, Reinhard Kotucha  :

> On 2017-07-26 at 22:00:30 +0200, jfbu wrote:
> 
>> 3. run in this work repertory the test file which I will indicate
>> next via
>> 
>> "time etex testmachin.tex"
>> 
>> - with TL2017
>> 
>> - with TL2015
> 
> Dear Jean-Francois,
> I get
> 
>  TL2017:  computed in 9.27 seconds.
>  TL2015:  computed in 9.21 seconds.
> 
> No significant difference, but in both cases I get the error message
> 
>  ! Undefined control sequence.
>  l.31 \ifx\x\Z \message{OK}\else \ERROR
>                                        \fi
> 
> and thus the return value of "time" isn't usable.  What went wrong?


Thanks a lot for trying out, the most likely cause is that the 

def\x{3.141592653589793238462....

line got hard-wrapped somehow so that it occupies multiple lines

(it should be on only one line)

and this means the \x has spaces in it and the \ifx test fails
because the \Z computed by \fdef\Z {\Machin {1000}} contains
the first 1000 digits of Pi with no spaces.

I really should not have left that piece of code in there, my wrong.

It makes sense as an error check, but as I validated it once at the
time of 1.2k upload to CTAN a few months back,
it was superfluous to keep it here

(I try again here xint 1.2k. OK, no issue on my side)


> 
> My system is an AMD 2.4 GHz CPU running Gentoo Linux and TeX binaries
> are from tug.org.
> 
> I must admit that benchmarks are confusing me ATM.  I've written a
> tiny program in several programming languages which does nothing else
> than to multiply numbers in nested for-loops.  On my old AMD machine,
> luajit was as fast as C.  On my brand-new Intel i7-7700K luajit is
> twice as fast as C.  Don't know why.  The CPU clock frequency is
> obviously not all that counts.


I have no idea: perhaps the luajit was compiled with top-notch
machines and software and performs at its best in such contexts?

Best,

Jean-Francois

From zdenek.wagner at gmail.com  Thu Jul 27 10:37:17 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 27 Jul 2017 10:37:17 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
 TL2015 and TL2017
In-Reply-To: <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
Message-ID: <CAC1phyaWOk8Z8fSjcd1NmxktG2Mt49mUwQ+MZmioOPQDxzk5mw@mail.gmail.com>

Hi all,

there is another problem with small benchmark, the memory cache. If the
program is run for the first time, it has to be read from disk. If you run
it again, it may be still present in cache, hence it starts faster. If you
do not have SSD, then especially on the laptops the HD may be stopped in
order to save energy and reading may be slow. It may also be a difference
between a statically linked C program run immediately after compilation and
linking, because it may still be in the cache, and running the same program
the next day.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-07-27 8:58 GMT+02:00 jfbu <jfbu at free.fr>:

>
> Hi Reinhard
>
> Le 27 juil. 2017 at02:15, Reinhard Kotucha  :
>
> > On 2017-07-26 at 22:00:30 +0200, jfbu wrote:
> >
> >> 3. run in this work repertory the test file which I will indicate
> >> next via
> >>
> >> "time etex testmachin.tex"
> >>
> >> - with TL2017
> >>
> >> - with TL2015
> >
> > Dear Jean-Francois,
> > I get
> >
> >  TL2017:  computed in 9.27 seconds.
> >  TL2015:  computed in 9.21 seconds.
> >
> > No significant difference, but in both cases I get the error message
> >
> >  ! Undefined control sequence.
> >  l.31 \ifx\x\Z \message{OK}\else \ERROR
> >                                        \fi
> >
> > and thus the return value of "time" isn't usable.  What went wrong?
>
>
> Thanks a lot for trying out, the most likely cause is that the
>
> def\x{3.141592653589793238462....
>
> line got hard-wrapped somehow so that it occupies multiple lines
>
> (it should be on only one line)
>
> and this means the \x has spaces in it and the \ifx test fails
> because the \Z computed by \fdef\Z {\Machin {1000}} contains
> the first 1000 digits of Pi with no spaces.
>
> I really should not have left that piece of code in there, my wrong.
>
> It makes sense as an error check, but as I validated it once at the
> time of 1.2k upload to CTAN a few months back,
> it was superfluous to keep it here
>
> (I try again here xint 1.2k. OK, no issue on my side)
>
>
> >
> > My system is an AMD 2.4 GHz CPU running Gentoo Linux and TeX binaries
> > are from tug.org.
> >
> > I must admit that benchmarks are confusing me ATM.  I've written a
> > tiny program in several programming languages which does nothing else
> > than to multiply numbers in nested for-loops.  On my old AMD machine,
> > luajit was as fast as C.  On my brand-new Intel i7-7700K luajit is
> > twice as fast as C.  Don't know why.  The CPU clock frequency is
> > obviously not all that counts.
>
>
> I have no idea: perhaps the luajit was compiled with top-notch
> machines and software and performs at its best in such contexts?
>
> Best,
>
> Jean-Francois
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170727/555c75e1/attachment.html>

From jfbu at free.fr  Thu Jul 27 14:44:35 2017
From: jfbu at free.fr (jfbu)
Date: Thu, 27 Jul 2017 14:44:35 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
In-Reply-To: <CAC1phyaWOk8Z8fSjcd1NmxktG2Mt49mUwQ+MZmioOPQDxzk5mw@mail.gmail.com>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
 <CAC1phyaWOk8Z8fSjcd1NmxktG2Mt49mUwQ+MZmioOPQDxzk5mw@mail.gmail.com>
Message-ID: <FEE3F263-304E-47E5-9547-39F20531A9EF@free.fr>

Thanks to Nelson, Reinhard, Zdenek, 

yesterday I was in the midst of finalizing my maintenance
release of xint. I had not been doing speed benchmarks 
as I was not expecting significant changes;

(I was rather focused on non-regression testing)

so when I observed at
last minute a 40% speed penalty I was surprised, but then
discovered that this was a TL2017 issue (and, I assume
a darwinlegacy issue). So I started this thread.

Later I understood it was actually presumably the same
problem I had already encountered with luatex

Here is a no-package version:

----
\def\A{\B\B\B\B\B\B\B\B\B\B}% 10
\def\B{\C\C\C\C\C\C\C\C\C\C}% 100
\def\C{\noexpand\A\noexpand\A\noexpand\A\noexpand\A
       \noexpand\A\noexpand\A\noexpand\A\noexpand\A
       \noexpand\A\noexpand\A}% 1000
\edef\D{\A}% 1000
\edef\E{\D}% 1000000

\def\A{\edef\z{666}}

\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\bye
----

Hence now no \numexpr, only Knuth tex

When I do 

time tex testspeed.tex

I consistently get on my iMac 10.9.5:

- with TL2015: about 1.62s (last digit non-significant)

- with TL2017: about 2.18s (idem)

Thus, it appears, but somehow I had overlooked it so far,
that darwinlegacy tex (et al.) is at least 33% slower on TL2017
than formerly

I was aware of that with luatex but had not realized it applied to all tex's

If something like this is reproduced on other systems than Mac OS 10.9.5
or more generally the "darwinlegacy", I would be interested to know

Best

(sorry for the xint distraction, but that was my initial focus)

Jean-Francois

From jfbu at free.fr  Thu Jul 27 20:58:07 2017
From: jfbu at free.fr (jfbu)
Date: Thu, 27 Jul 2017 20:58:07 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
In-Reply-To: <CAKTOP44OxL11oMCG9k-tM2cqGEA-EF+wsYEz49urkPvuZO9O=g@mail.gmail.com>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
 <CAC1phyaWOk8Z8fSjcd1NmxktG2Mt49mUwQ+MZmioOPQDxzk5mw@mail.gmail.com>
 <FEE3F263-304E-47E5-9547-39F20531A9EF@free.fr>
 <CAKTOP44OxL11oMCG9k-tM2cqGEA-EF+wsYEz49urkPvuZO9O=g@mail.gmail.com>
Message-ID: <3D3BE5CF-8888-4690-8305-C7E1239D4D8A@free.fr>

Hi,

Le 27 juil. 2017 at 17:26, George N. White III <gnwiii at gmail.com> wrote :

> On 27 July 2017 at 09:44, jfbu <jfbu at free.fr> wrote:
> [...] 
> Hence now no \numexpr, only Knuth tex
> 
> When I do
> 
> time tex testspeed.tex
> 
> I consistently get on my iMac 10.9.5:
> 
> - with TL2015: about 1.62s (last digit non-significant)
> 
> - with TL2017: about 2.18s (idem)
> 
> Thus, it appears, but somehow I had overlooked it so far,
> that darwinlegacy tex (et al.) is at least 33% slower on TL2017
> than formerly
> 
> 
> I have iMac 10.11.6 with 4 TeX Live systems (current macports, TL2015--TL2017) and 
> checkX.sh scripts that format the same set of basic files on each.
> 
> After several iterations, times are reasonably stable.  The last run gave:
> 
>               macports               TL2015             TL2016              TL2017
> 
> real	 0m2.628s    0m3.901s    0m4.610s    0m4.587s
> 
> user 	0m2.156s    0m3.352s    0m4.085s    0m3.996s 
> 
> sys	  0m0.313s    0m0.343s    0m0.368s    0m0.378s
> 
> 
> 
> There is a big gain to had from compiling locally over the generic TL builds, and not much change from TL2016 to TL2017.
> 

This is very interesting thanks.

It dispels somewhat my obsession about the specificity of darwinlegacy.

The difference with the macports binaries is impressive and unexpected to me.

And the change from TL2015 to TL2017 is at least 10% which again
surprises me. However it could be inside the margin of fluctuation
from run to run perhaps.

I am very much interested now into compiling locally, but I will be off internet
for a while so I will have to think by myself how to achieve that after having
rsync'ed the TeXLive sources, and thinking by myself might prove hard.

Best,

Jean-Francois

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170727/2afef17f/attachment.html>

From reinhard.kotucha at web.de  Fri Jul 28 03:26:33 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 28 Jul 2017 03:26:33 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
 TL2015 and TL2017
In-Reply-To: <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
Message-ID: <22906.37577.840043.467145@zaphod.ms25.net>

On 2017-07-27 at 08:58:43 +0200, jfbu wrote:

 > Thanks a lot for trying out, the most likely cause is that the 
 > 
 > def\x{3.141592653589793238462....
 > 
 > line got hard-wrapped somehow so that it occupies multiple lines
 > 
 > (it should be on only one line)
 > 
 > and this means the \x has spaces in it and the \ifx test fails
 > because the \Z computed by \fdef\Z {\Machin {1000}} contains
 > the first 1000 digits of Pi with no spaces.

The problem was that the value of \x contained three spurious
characters (numbers are code points):

  0039: DIGIT NINE
  0032: DIGIT TWO
  0037: DIGIT SEVEN
  0038: DIGIT EIGHT
  0037: DIGIT SEVEN
  0021: EXCLAMATION MARK
  000A: <control> LINE FEED (LF)
  0020: SPACE
  0036: DIGIT SIX
  0036: DIGIT SIX
  0031: DIGIT ONE
  0031: DIGIT ONE
  0031: DIGIT ONE

I do not know where these characters had been inserted.  But if you
send code by mail which contains non-ASCII characters and/or where
linebreaks matter, I strongly recommend to send the file as an email
attachment.  It's also advisable to gzip the file because it's marked
as "application/octet-stream" then by your mail client.

You can trust \pdfelapsedtime because it just uses system calls but I
don't know which system call is used by pdftex.  It seems that it's
based on gettimeofday(2).

Luatex provides os.clock() and os.gettimeofday().

os.clock() counts CPU cycles of the current process with a resolution
of 10 ms.  It disregards CPU cycles used by sub-processes or other
processes running at the same time.

os.gettimeofday(), as its name implies, just returns the current time
and is less reliable when a cronjob is running or Emacs creates an
auto-backup.  The resolution is system dependent (1?s on Linux and
500?s on Windows).  Don't be confused by the many decimal digits.
Most of them are just rounding errors which are almost always
introduced when binary numbers are converted to the decimal system.
See also

  https://www.tug.org/TUGboat/tb28-3/tb90beebe.pdf

If you are using \pdfelapsedtime, os.clock(), or os.gettimeofday(), it
doesn't matter whether any files are cached already, at least if your
input file resets the counter at the beginning and you avoid \input.
IMO it's best to use os.clock() on LuaTeX for benchmarks despite its
low resolution.  The problem you reported is OS/X specific but in most
cases a resolution of 10 ms is sufficient on a Raspberry Pi.

If you are using time(1), which depends on gettimeofday(2), you have
to run the script several times because other processes might run in
the background.  It's also advisable to install a system monitor like
xosview.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From reinhard.kotucha at web.de  Fri Jul 28 05:36:45 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 28 Jul 2017 05:36:45 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
 TL2015 and TL2017
In-Reply-To: <CMM.0.95.0.1501116319.beebe@gamma.math.utah.edu>
References: <CMM.0.95.0.1501116319.beebe@gamma.math.utah.edu>
Message-ID: <22906.45389.964166.225041@zaphod.ms25.net>

On 2017-07-26 at 18:45:19 -0600, Nelson H. F. Beebe wrote:

 > One other point to note when comparing times of small benchmarks is
 > that modern processors, especially in laptops and compute servers,
 > monitor their workload, and decrease clock frequency when they
 > don't have much to do.  The reason is that energy consumption is
 > proportional to (clock frequency)**x, where x is usually some
 > number between 2 and 3.

Dear Nelson,
the relationship between clock frequency and power consumption is
linear.  It always takes the same amount of energy to charge or
discharge a capacitor, it only matters how often you do it.

Power consumption also depends on the operating voltage and this
relationship is quadratic according to the formula

  $ E = \frac{1}{2} C V^2 $  

This is the reason why CPU core voltages are so low nowadays.  

I noticed recently that modern computers reduce the clock frequency
when there is noting to do.  I assumed this already but didn't care
until I played with a small computer based on an ARM processor running
Ubuntu LTS with the real-time extensions enabled in the Linux Kernel.
The idle frequency is 200 MHz and it switches to 800 MHz within 300 ?s
if loaded.  This is a feature of the Linux kernel.  Don't know whether
it's necessary to recompile the kernel in order to change the
parameters.  Maybe it's sufficient to simply poke them into the /proc
filesystem.

The machine I'm currently using runs a Gentoo system with a customized
kernel.  xosview reports a constant CPU frequency of 2493 MHz and it
seems that I wasted a lot of energy in the past.  My new machine is
running Centos 7.  The clock frequency is 800 MHz in idle state and
4.4 GHz if loaded.

Hence the tests I did on my old machine are not affected by varying
CPU frequencies.  I also believe that it's acceptable for benchmarks
if it takes only 300 ?s in order to switch to full speed, even on fast
machines.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From jfbu at free.fr  Fri Jul 28 09:15:32 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 28 Jul 2017 09:15:32 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
In-Reply-To: <22906.37577.840043.467145@zaphod.ms25.net>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
 <22906.37577.840043.467145@zaphod.ms25.net>
Message-ID: <B0F7C342-055D-4E65-B13C-FF92B25B9F09@free.fr>


Le 28 juil. 2017 at 03:26, Reinhard Kotucha <reinhard.kotucha at web.de> :

> On 2017-07-27 at 08:58:43 +0200, jfbu wrote:
> 
>> Thanks a lot for trying out, the most likely cause is that the 
>> 
>> def\x{3.141592653589793238462....
>> 
>> line got hard-wrapped somehow so that it occupies multiple lines
>> 
>> (it should be on only one line)
>> 
>> and this means the \x has spaces in it and the \ifx test fails
>> because the \Z computed by \fdef\Z {\Machin {1000}} contains
>> the first 1000 digits of Pi with no spaces.
> 
> The problem was that the value of \x contained three spurious
> characters (numbers are code points):
> 
>  0039: DIGIT NINE
>  0032: DIGIT TWO
>  0037: DIGIT SEVEN
>  0038: DIGIT EIGHT
>  0037: DIGIT SEVEN
>  0021: EXCLAMATION MARK
>  000A: <control> LINE FEED (LF)
>  0020: SPACE
>  0036: DIGIT SIX
>  0036: DIGIT SIX
>  0031: DIGIT ONE
>  0031: DIGIT ONE
>  0031: DIGIT ONE
> 
> I do not know where these characters had been inserted.  But if you
> send code by mail which contains non-ASCII characters and/or where
> linebreaks matter, I strongly recommend to send the file as an email
> attachment.  It's also advisable to gzip the file because it's marked
> as "application/octet-stream" then by your mail client.

Thanks for confirming the corruption of \x

visiting with Firefox

http://tug.org/pipermail/tex-live/2017-July/040488.html

I don't see the extra ! CTRL-J SPACE. But certainly I should have
sent the file as binary to avoid any such problem with a line of 
1000 or so characters.

On arXiv of old years, and even on CTAN, one could find
many many latex file or dtx files containing "> From" at start
of lines. The original had only "From" and the mailer inserted the "> ".

People collaborating on a paper send versions by mail, hence
it might even be that a very large proportion of math papers in the
nineties got corrugated in this way.

(I have forgotten now, perhaps it was in fact also related to ftp
transfers)

> 
> You can trust \pdfelapsedtime because it just uses system calls but I
> don't know which system call is used by pdftex.  It seems that it's
> based on gettimeofday(2).


I have lots of experimenting with \pdfelapsedtime on Mac OS and
also a bit on Linux, and it has always stricken me as quite fluctuating
even when used for durations of tens of seconds.

One such source is definitely deep in the CPU management, because
on my laptop I have a specific phenomenon which I do not observe
on a Mac desktop regarding computation times when running into
minutes: for very lengthy things (5mns+) my laptop *slows down*
in comparison to the desktop or the Linux machine


> 
> Luatex provides os.clock() and os.gettimeofday().
> 
> os.clock() counts CPU cycles of the current process with a resolution
> of 10 ms.  It disregards CPU cycles used by sub-processes or other
> processes running at the same time.
> 
> os.gettimeofday(), as its name implies, just returns the current time
> and is less reliable when a cronjob is running or Emacs creates an
> auto-backup.  The resolution is system dependent (1?s on Linux and
> 500?s on Windows).  Don't be confused by the many decimal digits.
> Most of them are just rounding errors which are almost always
> introduced when binary numbers are converted to the decimal system.
> See also
> 
>  https://www.tug.org/TUGboat/tb28-3/tb90beebe.pdf


Thanks for the link I will check it out.

> 
> If you are using \pdfelapsedtime, os.clock(), or os.gettimeofday(), it
> doesn't matter whether any files are cached already, at least if your
> input file resets the counter at the beginning and you avoid \input.
> IMO it's best to use os.clock() on LuaTeX for benchmarks despite its
> low resolution.  The problem you reported is OS/X specific but in most
> cases a resolution of 10 ms is sufficient on a Raspberry Pi.
> 
> If you are using time(1), which depends on gettimeofday(2), you have
> to run the script several times because other processes might run in
> the background.  It's also advisable to install a system monitor like
> xosview.


When I need to be a bit serious and not only get a general impression
I indeed try to run the test in a controlled environment:

- turn off the wifi, hence all internet

- kill all apps beyond Terminal

- run on house electric power, not on batteries

In my experience on Mac OSes, \pdfelapsedtime has some
significant fluctuations when I use it multiple times in the same
TeX job, 

Some years ago I was usually simply sending \the\pdfelapsedtime
to PDF output
and I noticed I should do a \noindent before \pdfresettimer
to get things a bit stabilized between multiple uses
of \pdfelapsedtime in same TeX run

nowadays I work more likely with log or terminal output,
and when I want to get serious I do not use Emacs AUCTeX,
because I noticed that it significantly slows down compilation
time, presumably from its on-the-fly parsing of log output,
when this log output is voluminous (which in LaTeX it always
is to some extent)

With "time", I get relatively stable and coherent results with 
the occasional extravagancy when the system did something
strange like sending to the NSA or to my ISP provider
all my private data, or perhaps my computer is talking with 
Apple servers or whatever Google Analytics.

But globally "time" has always given me more coherent results
than "\pdfelapsedtime".

Best,

Jean-Francois

From jfbu at free.fr  Fri Jul 28 12:12:31 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 28 Jul 2017 12:12:31 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
In-Reply-To: <22906.37577.840043.467145@zaphod.ms25.net>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
 <22906.37577.840043.467145@zaphod.ms25.net>
Message-ID: <C6E5AC82-FF8E-49D4-B7E7-95393F7E3100@free.fr>


28 juil. 2017 at 03:26, Reinhard Kotucha <reinhard.kotucha at web.de> :

> See also
> 
>  https://www.tug.org/TUGboat/tb28-3/tb90beebe.pdf

Very interesting reading, thanks.

It is the intent of xint to implement at the macro layer the
IBM General Decimal Arithmetic Specification, (arbitrary
precision floating point) in a manner analogous to the
Python Decimal module.

http://speleotrove.com/decimal/decarith.html

Note that this specification only includes exp and log,
but not the other functions like sin, cos,... (it of course
includes sqrt which is already in xint with correct rounding;
but the rounding mode is not customizable yet). However
the plan is first to implement the specification as it stands
as first step.

But the specification is not strict on correct rounding,

Python 3.3 and later is now using a C library
for its Decimal module

http://www.bytereef.org/mpdecimal/

but even then

Power function:
Results are not correctly rounded, even if the allcr context field is set to 1. This might change in a future release. The error of the function is less than 1ULP+t, where t has a maximum of 0.1ULP, but is almost always less than 0.01ULP.

(power function with integer or half-integer exponent in xint currently achieves better precision than that, more like 0.5ULP + epsilon)

On the other hand the MPFR
 
http://www.mpfr.org/

requires and achieves correct rounding for all its functions.

For TeX, apnum has done (non expandably) arbitrary precision math. I think it is not aiming at correct rounding (not checked).

Regarding xint, I think it could prove usable for up to a few dozen digits of floating point precision.

16 digits is already very well and extensively covered by l3fp.

xint is just for fun and because LaTeX3 has not that covered yet ;-) and
surely it must be possible to use MPFR from LuaTeX, so LuaTeX users
already have engine-level solution, thousands of times faster. (at least)

Jean-Francois




From reinhard.kotucha at web.de  Sat Jul 29 02:07:11 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 29 Jul 2017 02:07:11 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
 TL2015 and TL2017
In-Reply-To: <B0F7C342-055D-4E65-B13C-FF92B25B9F09@free.fr>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
 <22906.37577.840043.467145@zaphod.ms25.net>
 <B0F7C342-055D-4E65-B13C-FF92B25B9F09@free.fr>
Message-ID: <22907.53679.491703.72128@zaphod.ms25.net>

On 2017-07-28 at 09:15:32 +0200, jfbu wrote:

 > I have lots of experimenting with \pdfelapsedtime on Mac OS and
 > also a bit on Linux, and it has always stricken me as quite
 > fluctuating even when used for durations of tens of seconds.

 > One such source is definitely deep in the CPU management, because
 > on my laptop I have a specific phenomenon which I do not observe on
 > a Mac desktop regarding computation times when running into
 > minutes: for very lengthy things (5mns+) my laptop *slows down* in
 > comparison to the desktop or the Linux machine

Hi Jean-Francois,
the CPU fan is obviously not able to keep the CPU temperature below a
certain limit.  In order to prevent the CPU from being destroyed by
heat, the clock frequency is reduced.  This is intended and expected
behavior.

Power consumption increases linearly with clock frequency.  If your
CPU gets too hot, your system has only two choices: either reduce the
clock frequency or shutdown the system completely.

You can check yourself:  Before starting your program, open another
terminal window and run

  while true; do clear; grep 'cpu MHz' /proc/cpuinfo; sleep 1; done

therein.  This works at least on Linux.  On OS X you probably have to
run "sysctl -a" and check whether the current CPU frequencies are
reported.  I don't have OS X.

I suppose that the CPU frequencies are quite low at the beginnig, when
no other processes are running.  When you start your program, at least
one CPU will run at full speed.  After a while, when your system gets
slower, you'll see that CPU frequencies are decreased.  You'll also
notice that the air coming from the CPU fan is extremely hot.

The problem is that laptops are almost as powerful as desktop PCs but
there is not enough space for a decent cooling system.  This is quite
unfortunate because lifetime of electronic components heavily depend
on temperature.

BTW, I encountered a peculiarity with my Linux machine a few years
ago.  I could do everything with this machine -- except compiling gcc.
Whenever I invoked "./configure && make -j3", the power supply turned
off after a few minutes.  In this case the power supply was too weak
and replacing it by a bigger one solved the problem.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From jfbu at free.fr  Sat Jul 29 09:45:45 2017
From: jfbu at free.fr (jfbu)
Date: Sat, 29 Jul 2017 09:45:45 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
In-Reply-To: <C6E5AC82-FF8E-49D4-B7E7-95393F7E3100@free.fr>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
 <22906.37577.840043.467145@zaphod.ms25.net>
 <C6E5AC82-FF8E-49D4-B7E7-95393F7E3100@free.fr>
Message-ID: <C2AF0810-864F-4EDB-9A57-E240FE44EFAE@free.fr>



> 
> http://www.bytereef.org/mpdecimal/
> 
> but even then
> 
> Power function:
> Results are not correctly rounded, even if the allcr context field is set to 1. This might change in a future release. The error of the function is less than 1ULP+t, where t has a maximum of 0.1ULP, but is almost always less than 0.01ULP.
> 
> (power function with integer or half-integer exponent in xint currently achieves better precision than that, more like 0.5ULP + epsilon)

Hi, sorry for noise, but just to correct myself,
as the mpdecimal allows the various rounding modes
from the IBM specification, 

http://www.bytereef.org/mpdecimal/doc/libmpdec/context.html#rounding

such as "round away from 0" it is normal that the error
is qualified as 1ULP+something. Probably when the rounding
mode is half_up, half_down, or half_even, then the library
achieves 0.5ULP + something, but the doc does not say so
in this quote,

I know I am drifting off topic, but I wanted
to correct my remark (people will read this 
in decades even centuries, so I have to tighten
the bolts)

Best,
Jean-Francois



From jfbu at free.fr  Sat Jul 29 10:07:16 2017
From: jfbu at free.fr (jfbu)
Date: Sat, 29 Jul 2017 10:07:16 +0200
Subject: [tex-live] strange discrepancy in running time of etex between
	TL2015 and TL2017
In-Reply-To: <22907.53679.491703.72128@zaphod.ms25.net>
References: <9BC7B42A-180F-4B39-8500-BB48E3DE057F@free.fr>
 <22905.12457.590323.8056@zaphod.ms25.net>
 <EF596AB2-9657-4C22-B8F0-684889A6BB86@free.fr>
 <22906.37577.840043.467145@zaphod.ms25.net>
 <B0F7C342-055D-4E65-B13C-FF92B25B9F09@free.fr>
 <22907.53679.491703.72128@zaphod.ms25.net>
Message-ID: <6286D438-6FE6-4D36-ADD9-2E972FFD3834@free.fr>


Le 29 juil. 2017 ? 02:07, Reinhard Kotucha <reinhard.kotucha at web.de> a ?crit :

> On 2017-07-28 at 09:15:32 +0200, jfbu wrote:
> 
>> [...]
>> minutes: for very lengthy things (5mns+) my laptop *slows down* in
>> comparison to the desktop or the Linux machine
> 
> Hi Jean-Francois,
> the CPU fan is obviously not able to keep the CPU temperature below a
> certain limit.  In order to prevent the CPU from being destroyed by
> heat, the clock frequency is reduced.  This is intended and expected
> behavior.
> 
> Power consumption increases linearly with clock frequency.  If your
> CPU gets too hot, your system has only two choices: either reduce the
> clock frequency or shutdown the system completely.


Hi Reinhard

somehow, I sort of did not quite think it out this way because
I observed the phenomenon with computations lasting of the order
of one minute, but my fan gets started for longer computations
of at least seven or eight minutes. But I think you must
be right. (anyway there must be _some_ explanation ;-) I was
thinking perhaps some virtual memory thing, but I have an SSD
only on my laptop)


> 
> You can check yourself:  Before starting your program, open another
> terminal window and run
> 
>  while true; do clear; grep 'cpu MHz' /proc/cpuinfo; sleep 1; done
> 
> therein.  This works at least on Linux.  On OS X you probably have to
> run "sysctl -a" and check whether the current CPU frequencies are
> reported.  I don't have OS X.

yes sysctl -a seems report quite a bunch of cpu information

I see things like

hw.cpufamily: 526772277
hw.cpufrequency: 2000000000
hw.cpufrequency_min: 2000000000
hw.cpufrequency_max: 2000000000
hw.cputhreadtype: 1

machdep.cpu.brand_string: Intel(R) Core(TM) i7-3667U CPU @ 2.00GHz

machdep.cpu.thermal.sensor: 1
machdep.cpu.thermal.dynamic_acceleration: 1
machdep.cpu.thermal.invariant_APIC_timer: 1
machdep.cpu.thermal.thresholds: 2
machdep.cpu.thermal.ACNT_MCNT: 1
machdep.cpu.thermal.core_power_limits: 1
machdep.cpu.thermal.fine_grain_clock_mod: 1
machdep.cpu.thermal.package_thermal_intr: 1
machdep.cpu.thermal.hardware_feedback: 0

I have not tried yet to use dynamically

> 
> I suppose that the CPU frequencies are quite low at the beginnig, when
> no other processes are running.  When you start your program, at least
> one CPU will run at full speed.  After a while, when your system gets
> slower, you'll see that CPU frequencies are decreased.  You'll also
> notice that the air coming from the CPU fan is extremely hot.


I will try to investigate if CPU frequency is adapted

> 
> The problem is that laptops are almost as powerful as desktop PCs but
> there is not enough space for a decent cooling system.  This is quite
> unfortunate because lifetime of electronic components heavily depend
> on temperature.


> 
> BTW, I encountered a peculiarity with my Linux machine a few years
> ago.  I could do everything with this machine -- except compiling gcc.
> Whenever I invoked "./configure && make -j3", the power supply turned
> off after a few minutes.  In this case the power supply was too weak
> and replacing it by a bigger one solved the problem.

Lucky you not with Mac: you can replace things.

Here my batteries are 5 years old and changing them is way overdue
but I must bring the thing to an Apple Store, for this I need
to make an appointment, then they want to charge me something
like 200 euros (don't recall the details; but definitely it
is something like at least 50 euros for the physical replacement
not the price of batteries; and if I wait too long possibly
the battery model will not exist anymore).

Best

Jean-Francois



From erlend.graff at gmail.com  Sat Jul 29 19:17:40 2017
From: erlend.graff at gmail.com (Erlend Graff)
Date: Sat, 29 Jul 2017 17:17:40 +0000
Subject: [tex-live] Broken error code logic in install-tl/do_path_adjustments
Message-ID: <CAGvOPVWO3BzP-pHa3zsjPnK1u3VDSyzHpxZS7PR75ieH31MJcA@mail.gmail.com>

Hello all,

I think I've found a small error in the latest install-tl script (rev 44872
of 2017-07-23).
I noticed that the installer returned an error code 1 after a seemingly
successful install. After some debugging, I found in
the do_path_adjustments sub-routine of install-tl that the logic has been
slightly changed for the code that adds symlinks.

This is the problematic code:
    if (!TeXLive::TLUtils::add_symlinks($vars{'TEXDIR'},
$vars{'this_platform'},
         $vars{'tlpdbopt_sys_bin'}, $vars{'tlpdbopt_sys_man'},
         $vars{'tlpdbopt_sys_info'})) {
      $ret = 1;
    }

>From what I can tell, the problem is that add_remove_symlinks in TLUtils.pm
returns $F_OK (which has the value 0) if it completes successfully, so the
error test in the if statement above seems to be inverted.

--
Erlend Graff
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170729/2984ed17/attachment.html>

From preining at logic.at  Sun Jul 30 01:40:17 2017
From: preining at logic.at (Norbert Preining)
Date: Sun, 30 Jul 2017 08:40:17 +0900
Subject: [tex-live] Broken error code logic in
 install-tl/do_path_adjustments
In-Reply-To: <CAGvOPVWO3BzP-pHa3zsjPnK1u3VDSyzHpxZS7PR75ieH31MJcA@mail.gmail.com>
References: <CAGvOPVWO3BzP-pHa3zsjPnK1u3VDSyzHpxZS7PR75ieH31MJcA@mail.gmail.com>
Message-ID: <20170729234017.pjfj4tj2ua6jdeqy@bulldog.preining.info>

> >From what I can tell, the problem is that add_remove_symlinks in TLUtils.pm
> returns $F_OK (which has the value 0) if it completes successfully, so the
> error test in the if statement above seems to be inverted.

Indeed, recent change. Thanks for the notice. I have updated install-tl
and it should be in today's rebuild.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From 041018006 at fudan.edu.cn  Sun Jul 30 04:46:43 2017
From: 041018006 at fudan.edu.cn (Easior Lars)
Date: Sun, 30 Jul 2017 10:46:43 +0800
Subject: [tex-live] Is it possible to make lstlocal.cfg per LaTeX project
	work?
Message-ID: <m2pocizlnw.fsf@fudan.edu.cn>

Hi, all!

The listings package is great. However, it could be enhanced to
configure more than one programming languages by lstset command in
LaTeX source files. For examples, I can add more highlighting keywords to
bash language just as follows:
,--------------------------------------------------------
| \lstset{morekeywords={sudo, apt-get, dnf, emerge, gcc}}
| \begin{lstlisting}[language=bash]
| $ sudo emerge -av emacs
| \end{lstlisting}
`--------------------------------------------------------
I can do the same trick to C language like:
,---------------------------------------------------------
| \lstset{morekeywords={gint, gchar, GtkWidget, gpointer}}
| \begin{lstlisting}[language=bash]
| gpointer fun_callback(GtkWidget *, gpointer);
| \end{lstlisting}
`---------------------------------------------------------
But, I can't do this trick at LaTeX preamble by lstset command.

Throughout google search engine, I found that there is a
lstlocal.cfg and some specific *.prf to reach this end by
putting those ones into TEXMFHOME/tex/latex/listings/ directory.
Unfortunately, those changing would have effects on all of LaTeX
sources. I hope there would be a similar lstlocal.cfg per LaTeX
source file/project. Is it possible?

-- 
???

EL
---------------------------------
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????
????????????????????

                        ??????
---------------------------------


From preining at logic.at  Sun Jul 30 07:06:27 2017
From: preining at logic.at (Norbert Preining)
Date: Sun, 30 Jul 2017 14:06:27 +0900
Subject: [tex-live] Is it possible to make lstlocal.cfg per LaTeX
 project work?
In-Reply-To: <m2pocizlnw.fsf@fudan.edu.cn>
References: <m2pocizlnw.fsf@fudan.edu.cn>
Message-ID: <20170730050627.m5kvshyejzzo4uwd@bulldog.preining.info>

On Sun, 30 Jul 2017, Easior Lars wrote:
> sources. I hope there would be a similar lstlocal.cfg per LaTeX
> source file/project. Is it possible?

Put the relevant copy into the project directory and it will be 
found before any other.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

