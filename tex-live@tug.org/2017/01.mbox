From andreas_tex at freenet.de  Fri Jan  6 11:01:14 2017
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Fri, 6 Jan 2017 11:01:14 +0100
Subject: [tex-live] Weird results from 'tlmgr update'
Message-ID: <6177a76f-b1c4-7d70-79f5-5eb17bde85fe@freenet.de>

Dear all,

a few moments ago I experienced the following suite of output with
curious switching from 'auto-install' to 'auto-remove' and back to
'auto-install' again:

andreas at andreas-Komputer:~$ tlmgr update --all
tlmgr: package repository http://ftp.fau.de/ctan/systems/texlive/tlnet
(verified)
tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
skipping forcibly removed package pstring
[ 1/12, ??:??/??:??] update: glossaries-french [195k] (35665 -> 42873)
... done
[ 2/12, 00:02/01:09] update: inconsolata [540k] (42819 -> 42871) ... done
[ 3/12, 00:05/00:45] update: lt3graph [583k] (40368 -> 42874) ... done
[ 4/12, 00:07/00:35] update: markdown [371k] (42660 -> 42868) ... done
[ 5/12, 00:10/00:39] update: old-arrows [873k] (38619 -> 42872) ... done
[ 6/12, 00:13/00:34] update: tetex [568k] (42722 -> 42865) ... done
[ 7/12, 00:17/00:36] update: texlive-docindex [223k] (42861 -> 42864)
... done
[ 8/12, 00:22/00:44] update: updmap-map [144k] (42544 -> 42865) ... done
[ 9/12, 00:23/00:44] auto-install: arimo (42870) [2910k] ... done
[10/12, 00:31/00:32] auto-install: mpostinl (42875) [323k] ... done
[11/12, 00:33/00:33] update: collection-fontsextra [2k] (42862 -> 42870)
... done
[12/12, 00:34/00:34] update: collection-latexextra [6k] (42857 -> 42875)
... done
tlmgr: package log updated: /opt/texlive/2016/texmf-var/web2c/tlmgr.log
running mktexlsr ...
done running mktexlsr.
running updmap-sys ...
done running updmap-sys.
andreas at andreas-Komputer:~$ man tlmgr
andreas at andreas-Komputer:~$ tlmgr update --all --reinstall-forcibly-removed
tlmgr: package repository
ftp://ftp.tu-chemnitz.de/pub/tex/systems/texlive/tlnet (verified)
tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
[1/3] auto-remove: arimo ... done
[2/3] auto-remove: mpostinl ... done
[3/3, ??:??/??:??] auto-install: pstring (42857) [128k] ... done
tlmgr: package log updated: /opt/texlive/2016/texmf-var/web2c/tlmgr.log
running mktexlsr ...
done running mktexlsr.
running updmap-sys ...
done running updmap-sys.
andreas at andreas-Komputer:~$ tlmgr update --all --reinstall-forcibly-removed
tlmgr: package repository
http://ftp.fernuni-hagen.de/ftp-dir/pub/mirrors/www.ctan.org/systems/texlive/tlnet
(verified)
tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
[1/2, ??:??/??:??] auto-install: arimo (42870) [2910k] ... done
[2/2, 00:09/00:09] auto-install: mpostinl (42875) [323k] ... done
tlmgr: package log updated: /opt/texlive/2016/texmf-var/web2c/tlmgr.log
running mktexlsr ...
done running mktexlsr.
running updmap-sys ...
done running updmap-sys.
andreas at andreas-Komputer:~$ tlmgr update --all --reinstall-forcibly-removed
tlmgr: package repository
http://ctan.space-pro.be/tex-archive/systems/texlive/tlnet (verified)
tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
tlmgr: no updates available

From cereda.paulo at gmail.com  Fri Jan  6 11:50:40 2017
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Fri, 6 Jan 2017 08:50:40 -0200
Subject: [tex-live] Weird results from 'tlmgr update'
In-Reply-To: <6177a76f-b1c4-7d70-79f5-5eb17bde85fe@freenet.de>
References: <6177a76f-b1c4-7d70-79f5-5eb17bde85fe@freenet.de>
Message-ID: <71f84b9c-8205-46f8-d49e-4aacc6882a09@gmail.com>

'ello,

Repositories were different on each run, so they might be unsynchronized.

Best,

Paulo

Em 06-01-2017 08:01, Andreas Scherer escreveu:
> Dear all,
>
> a few moments ago I experienced the following suite of output with
> curious switching from 'auto-install' to 'auto-remove' and back to
> 'auto-install' again:
>
> andreas at andreas-Komputer:~$ tlmgr update --all
> tlmgr: package repository http://ftp.fau.de/ctan/systems/texlive/tlnet
> (verified)
> tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
> skipping forcibly removed package pstring
> [ 1/12, ??:??/??:??] update: glossaries-french [195k] (35665 -> 42873)
> ... done
> [ 2/12, 00:02/01:09] update: inconsolata [540k] (42819 -> 42871) ... done
> [ 3/12, 00:05/00:45] update: lt3graph [583k] (40368 -> 42874) ... done
> [ 4/12, 00:07/00:35] update: markdown [371k] (42660 -> 42868) ... done
> [ 5/12, 00:10/00:39] update: old-arrows [873k] (38619 -> 42872) ... done
> [ 6/12, 00:13/00:34] update: tetex [568k] (42722 -> 42865) ... done
> [ 7/12, 00:17/00:36] update: texlive-docindex [223k] (42861 -> 42864)
> ... done
> [ 8/12, 00:22/00:44] update: updmap-map [144k] (42544 -> 42865) ... done
> [ 9/12, 00:23/00:44] auto-install: arimo (42870) [2910k] ... done
> [10/12, 00:31/00:32] auto-install: mpostinl (42875) [323k] ... done
> [11/12, 00:33/00:33] update: collection-fontsextra [2k] (42862 -> 42870)
> ... done
> [12/12, 00:34/00:34] update: collection-latexextra [6k] (42857 -> 42875)
> ... done
> tlmgr: package log updated: /opt/texlive/2016/texmf-var/web2c/tlmgr.log
> running mktexlsr ...
> done running mktexlsr.
> running updmap-sys ...
> done running updmap-sys.
> andreas at andreas-Komputer:~$ man tlmgr
> andreas at andreas-Komputer:~$ tlmgr update --all --reinstall-forcibly-removed
> tlmgr: package repository
> ftp://ftp.tu-chemnitz.de/pub/tex/systems/texlive/tlnet (verified)
> tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
> [1/3] auto-remove: arimo ... done
> [2/3] auto-remove: mpostinl ... done
> [3/3, ??:??/??:??] auto-install: pstring (42857) [128k] ... done
> tlmgr: package log updated: /opt/texlive/2016/texmf-var/web2c/tlmgr.log
> running mktexlsr ...
> done running mktexlsr.
> running updmap-sys ...
> done running updmap-sys.
> andreas at andreas-Komputer:~$ tlmgr update --all --reinstall-forcibly-removed
> tlmgr: package repository
> http://ftp.fernuni-hagen.de/ftp-dir/pub/mirrors/www.ctan.org/systems/texlive/tlnet
> (verified)
> tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
> [1/2, ??:??/??:??] auto-install: arimo (42870) [2910k] ... done
> [2/2, 00:09/00:09] auto-install: mpostinl (42875) [323k] ... done
> tlmgr: package log updated: /opt/texlive/2016/texmf-var/web2c/tlmgr.log
> running mktexlsr ...
> done running mktexlsr.
> running updmap-sys ...
> done running updmap-sys.
> andreas at andreas-Komputer:~$ tlmgr update --all --reinstall-forcibly-removed
> tlmgr: package repository
> http://ctan.space-pro.be/tex-archive/systems/texlive/tlnet (verified)
> tlmgr: saving backups to /opt/texlive/2016/tlpkg/backups
> tlmgr: no updates available
>

From reinhard.kotucha at web.de  Fri Jan  6 23:45:05 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 6 Jan 2017 23:45:05 +0100
Subject: [tex-live] Weird results from 'tlmgr update'
In-Reply-To: <71f84b9c-8205-46f8-d49e-4aacc6882a09@gmail.com>
References: <6177a76f-b1c4-7d70-79f5-5eb17bde85fe@freenet.de>
 <71f84b9c-8205-46f8-d49e-4aacc6882a09@gmail.com>
Message-ID: <22640.7665.114333.540964@zaphod.ms25.net>

On 2017-01-06 at 08:50:40 -0200, Paulo Roberto Massa Cereda wrote:

 > Repositories were different on each run, so they might be
 > unsynchronized.

Andreas,
Paulo's statement is correct.  Not all mirrors are always up-to-date.
They are synchronized with CTAN at different times.

The solution is to select a particular mirror explicitly:

  tlmgr option repository <your favourite mirror>

You'll find a list of mirrors at

  http://dante.ctan.org/mirmon

It's recommended to select a mirror nearby.  BTW, I can confirm that
all mirrors in Germany are reliable and fast.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From andreas_tex at freenet.de  Sat Jan  7 11:36:03 2017
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Sat, 7 Jan 2017 11:36:03 +0100
Subject: [tex-live] Weird results from 'tlmgr update'
In-Reply-To: <22640.7665.114333.540964@zaphod.ms25.net>
References: <6177a76f-b1c4-7d70-79f5-5eb17bde85fe@freenet.de>
 <71f84b9c-8205-46f8-d49e-4aacc6882a09@gmail.com>
 <22640.7665.114333.540964@zaphod.ms25.net>
Message-ID: <74ffc187-cc50-7935-8f22-347c970079a4@freenet.de>

Hello, Reinhard et al.,

thank you for your comments to clarify my issue. I will set a fixed tl
repo to avoid similar problems.

Regards, Andreas

From jadenb1729 at yahoo.com  Tue Jan 10 00:57:20 2017
From: jadenb1729 at yahoo.com (Loren Spice)
Date: Mon, 9 Jan 2017 23:57:20 +0000 (UTC)
Subject: [tex-live] texdoc and other binaries no longer working
References: <1359315595.1433508.1484006240951.ref@mail.yahoo.com>
Message-ID: <1359315595.1433508.1484006240951@mail.yahoo.com>

After today's `tlmgr update --self --all` (on a previously working installation), I get the following when trying to run TeXdoc:
$PATH_TO_TEXLIVE/bin/x86_64-darwin/texdoc:7: module 'texdoc.main' not found:
??? no field package.preload['texdoc.main']
??? [kpse lua searcher] file not found: 'texdoc.main'
??? [kpse C searcher] file not found: 'texdoc.main'
??? no file '/usr/local/lib/lua/5.2/texdoc.so'
??? no file '/usr/local/lib/lua/5.2/loadall.so'
??? no file './texdoc.so'

`kpsewhich` silently fails, and font generation also seems to fail.? Another `tlmgr update --self --all` reports no available updates.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170109/40e13354/attachment.html>

From preining at logic.at  Tue Jan 10 02:23:36 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 10 Jan 2017 10:23:36 +0900
Subject: [tex-live] texdoc and other binaries no longer working
In-Reply-To: <1359315595.1433508.1484006240951@mail.yahoo.com>
References: <1359315595.1433508.1484006240951.ref@mail.yahoo.com>
 <1359315595.1433508.1484006240951@mail.yahoo.com>
Message-ID: <20170110012336.rgty2q34slwd2bj2@bulldog.preining.info>

> After today's `tlmgr update --self --all` (on a previously working installation), I get the following when trying to run TeXdoc:

Not reproducible here.

> ??? no file '/usr/local/lib/lua/5.2/texdoc.so'
> ??? no file '/usr/local/lib/lua/5.2/loadall.so'

That all looks very strange ... the file should NOT be loaded with
an external lua interpreter, but with texlua.

> `kpsewhich` silently fails, and font generation also seems to fail.? Another `tlmgr update --self --all` reports no available updates.

Even more strange, as kpsewhich is a binary.

So my guess is you have some mixture of destribution provided TeX and
locally installed TeX Live, plus a library mixup.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Jan 10 03:27:20 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 10 Jan 2017 11:27:20 +0900
Subject: [tex-live] texdoc and other binaries no longer working
In-Reply-To: <1664337487.11599.1484014027361@mail.yahoo.com>
References: <1359315595.1433508.1484006240951.ref@mail.yahoo.com>
 <1359315595.1433508.1484006240951@mail.yahoo.com>
 <20170110012336.rgty2q34slwd2bj2@bulldog.preining.info>
 <1664337487.11599.1484014027361@mail.yahoo.com>
Message-ID: <20170110022720.usj74msklzabpvh3@bulldog.preining.info>

Hi

first of all, please keep the mailing list in Cc.

On Tue, 10 Jan 2017, Loren Spice wrote:
> The installation is purely local; I'm running on OS X, which doesn't deign to provide TeX, and, though I use MacPorts, I don't use its TeXLive.? This can't be purely an installation issue, because it was working fine up to this morning; and I didn't knowingly change anything other than running the update.

Hard to believe.

What does
	which kpsewhich
	which texlua
	which texdoc
say?

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jadenb1729 at yahoo.com  Tue Jan 10 04:32:46 2017
From: jadenb1729 at yahoo.com (Loren Spice)
Date: Tue, 10 Jan 2017 03:32:46 +0000 (UTC)
Subject: [tex-live] texdoc and other binaries no longer working
In-Reply-To: <20170110022720.usj74msklzabpvh3@bulldog.preining.info>
References: <1359315595.1433508.1484006240951.ref@mail.yahoo.com>
 <1359315595.1433508.1484006240951@mail.yahoo.com>
 <20170110012336.rgty2q34slwd2bj2@bulldog.preining.info>
 <1664337487.11599.1484014027361@mail.yahoo.com>
 <20170110022720.usj74msklzabpvh3@bulldog.preining.info>
Message-ID: <564766420.52460.1484019166925@mail.yahoo.com>

> first of all, please keep the mailing list in Cc.



Sorry; I didn't know the etiquette.
> Hard to believe.

But true; but, as you guessed, not the whole story.
> What does
> ? ?which kpsewhich
> ? ?which texlua
> ? ?which texdoc
> say?

When I updated TeXLive, I also updated MacPorts, and some package pulled in MacPorts's own `texlive-basic` installation (as you suspected). ?That beat TeXLive in my path, so I was pulling in MacPorts's `kpsewhich`. ?Re-ordering the path fixed it.
Thank you!Loren   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170110/851e651a/attachment.html>

From jfbu at free.fr  Tue Jan 10 12:59:05 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 10 Jan 2017 12:59:05 +0100
Subject: [tex-live] etex
Message-ID: <FFA9828E-D0A6-4202-AC69-92E2A1739C2A@free.fr>

Hi,

exit code of etex is 1 if processed file did a \showbox for example.
(but not with \tracingoutput1 which is good)

On the other hand exit code is 0 even if there were mismatched \if..\fi
or missing \endgroup which nevertheless are signaled in the log.

Is there any option to let etex not throw status 1 on exit when
\showbox is being used (assuming -interaction batchmode) ?

and (more importantly to me) to let it use exit status 1 in case
it adds error message
in the log about mismatched \if's or missing \endgroup's  ?

I tried to find information on etex's exit codes, also googling
for pdftex, but I am afraid I would have to look at sources.

Should I raise this on pdftex list rather ?

I solved my problem by not using \showbox, (but using \tracingoutput1
and other solutions are possible because this is just a check
for extra spaces from style files)

and by using grep
on the etex compilation logs to check for error messages
related to \if..\fi,
however if I could avoid grepping the log files that would
be better (the regression testing is not done on the log files
but on created files which are under git version control; it would
be better if I could trust exit code 0 from etex to mean that
TeX compilation was ok, but alas... the exit code does not
signal mismatched if's or group's)

Best,
Jean-Fran?ois



From d.p.carlisle at gmail.com  Tue Jan 10 14:23:49 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 10 Jan 2017 13:23:49 +0000
Subject: [tex-live] etex
In-Reply-To: <FFA9828E-D0A6-4202-AC69-92E2A1739C2A@free.fr>
References: <FFA9828E-D0A6-4202-AC69-92E2A1739C2A@free.fr>
Message-ID: <CAEW6iOhqVnV+uG74iM1VykSo_MwpfLEuEWxjpjVBDspMYF=_FQ@mail.gmail.com>

currently it is non-zero (always 1, I think) if there has been any
error (including forced "errors" from \show..)
and 0 otherwise, even if there were warnings.

> and (more importantly to me) to let it use exit status 1 in case
> it adds error message
> in the log about mismatched \if's or missing \endgroup's  ?

you get 1 if there is an error over mismatched if for example

\fi
\end

gives the error

! Extra \fi.


and exit status of 1

conversely

\if aa
\end


is not an error you just get a warning

(\end occurred when \if on line 3 was incomplete)


and an exit status of 0.

So the distinction is not really that tex gives different exit status
for different errors, but that some things that one might expect to be
an error are just a warning.

I think the distinction matters as the exit code is a system dependent
thing and could be potentially changed, but changing whether primitive
TeX syntax generates an error or a warning would be changing the
documented behaviour of tex which is more problematic (perhaps)

David

From jfbu at free.fr  Tue Jan 10 15:53:30 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 10 Jan 2017 15:53:30 +0100
Subject: [tex-live] etex
In-Reply-To: <CAEW6iOhqVnV+uG74iM1VykSo_MwpfLEuEWxjpjVBDspMYF=_FQ@mail.gmail.com>
References: <FFA9828E-D0A6-4202-AC69-92E2A1739C2A@free.fr>
 <CAEW6iOhqVnV+uG74iM1VykSo_MwpfLEuEWxjpjVBDspMYF=_FQ@mail.gmail.com>
Message-ID: <C59A5BD9-9EA4-4959-B923-757425922EBA@free.fr>

Hi David,

Le 10 janv. 2017 ? 14:23, David Carlisle <d.p.carlisle at gmail.com> a ?crit :

> ...

thanks,

I was not precise enough about mismatched, my use case was
indeed with missing \fi not missing \if

> 
> conversely
> 
> \if aa
> \end
> 
> 
> is not an error you just get a warning
> 
> (\end occurred when \if on line 3 was incomplete)
> 
> 
> and an exit status of 0.
> 
> So the distinction is not really that tex gives different exit status
> for different errors, but that some things that one might expect to be
> an error are just a warning.

ok


> 
> I think the distinction matters as the exit code is a system dependent
> thing and could be potentially changed, but changing whether primitive
> TeX syntax generates an error or a warning would be changing the
> documented behaviour of tex which is more problematic (perhaps)
> 

what about exit code 2 for warnings ?

it would still be a change in behaviour ... but would not mix errors
and warnings in the same bag

I understand tex should not change, but what about etex ?

I guess integrated editors do not care because they parse the log file
for more precise information anyhow.

But this situation is frustrating for doing speedy shell scripts for
batch processing.

And I then would have to check all possible warnings and see if
I want my regression test suite to check the logs for all those
possibilities too... currently I grep for the string "occurred" which
is enough to
pick the missing \fi's and the missing \endgroup's ...

(my logs are small hence I didn't even wonder if using "tail"
before "grep" could speed up things, if someone more experienced than
me in shell scripting has an advice, I would be grateful)

Does there exist TeXLive supported systems which have only 0 or 1 for exit
codes of processes ? (or no exit codes at all ?)

and
Off-Topic: does someone know if e-TeX ever considered introducing
a \showboxtofile{foo}<box number> primitive which would do like \showbox
but with
target something else than the log file, and more importantly would not
raise an "error" ?


Jean-Fran?ois



From d.p.carlisle at gmail.com  Tue Jan 10 16:00:59 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 10 Jan 2017 15:00:59 +0000
Subject: [tex-live] etex
In-Reply-To: <C59A5BD9-9EA4-4959-B923-757425922EBA@free.fr>
References: <FFA9828E-D0A6-4202-AC69-92E2A1739C2A@free.fr>
 <CAEW6iOhqVnV+uG74iM1VykSo_MwpfLEuEWxjpjVBDspMYF=_FQ@mail.gmail.com>
 <C59A5BD9-9EA4-4959-B923-757425922EBA@free.fr>
Message-ID: <CAEW6iOh2D650_Cwiv8ZESWL=kGVK3jJMdCMb+nRQjY0Nb2Hbnw@mail.gmail.com>

Off-Topic: does someone know if e-TeX ever considered introducing
a \showboxtofile{foo}<box number> primitive which would do like \showbox
but with
target something else than the log file, and more importantly would not
raise an "error" ?


Goes to the log but you can get the box output without raising an error eg

%%%%%%%%%%%%%%%%
\tracingonline1

\setbox0=\vbox{\hsize=5cm
one

two

{\bf three}

$x=y$
}

\setbox0=\hbox to \maxdimen{\box0}


\bye
%%%%%%%%%%%%%%%%%%

so long as you ignore the spurious underfull hbox around the outside
(this essentially is the same trick \showhyphens uses)

David

From jfbu at free.fr  Tue Jan 10 17:49:08 2017
From: jfbu at free.fr (jfbu)
Date: Tue, 10 Jan 2017 17:49:08 +0100
Subject: [tex-live] etex
In-Reply-To: <CAEW6iOh2D650_Cwiv8ZESWL=kGVK3jJMdCMb+nRQjY0Nb2Hbnw@mail.gmail.com>
References: <FFA9828E-D0A6-4202-AC69-92E2A1739C2A@free.fr>
 <CAEW6iOhqVnV+uG74iM1VykSo_MwpfLEuEWxjpjVBDspMYF=_FQ@mail.gmail.com>
 <C59A5BD9-9EA4-4959-B923-757425922EBA@free.fr>
 <CAEW6iOh2D650_Cwiv8ZESWL=kGVK3jJMdCMb+nRQjY0Nb2Hbnw@mail.gmail.com>
Message-ID: <DBFDB825-A9BC-4FE1-A1D0-FD1DE89788EF@free.fr>


Le 10 janv. 2017 ? 16:00, David Carlisle <d.p.carlisle at gmail.com> a ?crit :

> Goes to the log but you can get the box output without raising an error eg
> 
> %%%%%%%%%%%%%%%%
> \tracingonline1
> 
> \setbox0=\vbox{\hsize=5cm
> one
> 
> two
> 
> {\bf three}
> 
> $x=y$
> }
> 
> \setbox0=\hbox to \maxdimen{\box0}
> 
> 
> \bye
> %%%%%%%%%%%%%%%%%%
> 
> so long as you ignore the spurious underfull hbox around the outside
> (this essentially is the same trick \showhyphens uses)

oh this is good trick.

If I insert \nonstopmode before the second \setbox0
and run with etex -interaction batchmode foo.tex
I get the information I want to stdout with only the
pdftex banner as extra and my shell script can redirect
that to a file, which will be the one git-controlled.
Also I can do all this without creation of a dvi file.

this is better than my current method with \tracingoutput1
which requires some use of tail and head to extract what I
want from the log file,
(and I had not polished it, so older releases of my package
using less \count's had the log lines shifted hence caused a diff
when running the test)

ok, I have got it working now (something like

    ... set up working directory, copy there or generate tex and "tlg" files
    ... set up git repo with the "tlg" files (I stole extension from l3build ;-)
    
    # do all the unit tests

    # now do the sole test handling boxes
    # the fancy stuff here I copied pasted, it is to avoid creating temp file
    mkfifo mypipe
    tail -n +2 > testcatcodes.tlg < mypipe &
    etex -halt-on-error -interaction batchmode -- testcatcodes.tex >mypipe 2>&1
    if [ $? -eq 0 ]
    then
        # no error with TeX run
        check for "occurred" in log file,
        then run git diff --quiet on ".tlg" file and check its $?
        ... inform the user ...
    else
      # error with TeX run
      ... print some big red thing and set status flag to 1 for final exit code ...
    fi
    rm mypipe # but I have to clean the fifo pipe anyhow

Thanks,

Jean-Fran?ois
PS
I know about l3build -- whose documentation I have looked at --
but I don't use it for this package because I don't need all its power,
particularly for typesetting checks, as my package is not about
typesetting, and the thing above is to catch if style files create
spaces or \par on input (or upset catcodes)




From karl at freefriends.org  Tue Jan 10 23:53:03 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 10 Jan 2017 22:53:03 GMT
Subject: [tex-live] etex
In-Reply-To: <C59A5BD9-9EA4-4959-B923-757425922EBA@free.fr>
Message-ID: <201701102253.v0AMr3Eu019473@freefriends.org>

I confess I am not at all inclined to fiddle with etex (or pdftex) exit
values. Although I don't think the current behavior is perfectly logical
or optimal, I also don't think the benefits of changing it would be
worth the agony of changing something that has been stable for
decades. E.g., Makefiles would start to fail where they now succeed, or
vice versa. I don't think we should go there. --karl

From P.Taylor at Rhul.Ac.Uk  Wed Jan 11 09:16:48 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 11 Jan 2017 08:16:48 +0000
Subject: [tex-live] etex
In-Reply-To: <201701102253.v0AMr3Eu019473@freefriends.org>
References: <201701102253.v0AMr3Eu019473@freefriends.org>
Message-ID: <86d19e9e-d5f3-b136-9ad6-94f40551e64c@Rhul.Ac.Uk>

I for one would be 100% in favour of improving the utility of the return status of the *TeX engines, enabling stati of "Success", "Informational", "Warning", "Error", and "Severe (or 'fatal') Error" and so on to be easily distinguished.  If this were implemented through a new command-line parameter, no existing files ("Make" or otherwise) would be affected.

Philip Taylor
--------
Karl Berry wrote:
> I confess I am not at all inclined to fiddle with etex (or pdftex) exit
> values. Although I don't think the current behavior is perfectly logical
> or optimal, I also don't think the benefits of changing it would be
> worth the agony of changing something that has been stable for
> decades. E.g., Makefiles would start to fail where they now succeed, or
> vice versa. I don't think we should go there. --karl

From jfbu at free.fr  Wed Jan 11 13:16:01 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 11 Jan 2017 13:16:01 +0100
Subject: [tex-live] etex
In-Reply-To: <86d19e9e-d5f3-b136-9ad6-94f40551e64c@Rhul.Ac.Uk>
References: <201701102253.v0AMr3Eu019473@freefriends.org>
 <86d19e9e-d5f3-b136-9ad6-94f40551e64c@Rhul.Ac.Uk>
Message-ID: <BA6850C3-4948-417A-8588-00C4EC77A918@free.fr>


to my dismay, xelatex and lualatex seem to follow suit regarding missing \fi's or missing \endgroup's not changing exit status from 0.

I wonder if there has been in the past some discussion about this in the respective lists, because it looks very strange for "modern" binaries to issue non-usable exit stati.

My opinion is that maintaining compatibility with Makefiles from thirty years ago is illusory, shells change too. People will already have had more problems with diverging version of ``Make/make``. I expect that if some historic archive of TeX files is to be maintained, the people in charge will have taken care of archiving the full eco-system.

It is very nice to be able to use tex as is with thirty years old files and I do not disagree at all with that, (for many years I used only TeX, and I am 100% sure those files will compile identically, but since I switched to LaTeX, I am sure they don't, for example simply from changes to the babel module for French, not to mention all other packages, I have had problems with that and needed to take extra measures like preserving style or config files, despite the underlying TeX being strictly backwards compatible and LaTeX format also -- at least to 99.9999% perhaps even 100% -- but the eco-system for LaTeX is definitely not backwards compatible), but having a constraint that scripts from thirty years ago should not be broken looks like a very conservative way. Frankly, I was shocked to see that xetex and luatex aimed at maintaining 100% compatibility there where there was option for improvement. (I have not looked at the docs to see if there was an option like Philip suggests to toggle new policy for exit stati)

>From a na?ve point of view here now 15-20 years later, I am also surprised by etex's decisions. I presume this may be related to the fact that OS's were more diverse back then. With Mac OS X a flavour of unix and the spread of Linux even to one's home refrigerator (not mine!), I think in 2017 there is different situation, psychologically.

Jean-Fran?ois

Philip Taylor wrote:

> I for one would be 100% in favour of improving the utility of the return status of the *TeX engines, enabling stati of "Success", "Informational", "Warning", "Error", and "Severe (or 'fatal') Error" and so on to be easily distinguished.  If this were implemented through a new command-line parameter, no existing files ("Make" or otherwise) would be affected.
> 
> Philip Taylor
> --------
> Karl Berry wrote:
>> I confess I am not at all inclined to fiddle with etex (or pdftex) exit
>> values. Although I don't think the current behavior is perfectly logical
>> or optimal, I also don't think the benefits of changing it would be
>> worth the agony of changing something that has been stable for
>> decades. E.g., Makefiles would start to fail where they now succeed, or
>> vice versa. I don't think we should go there. --karl



From d.p.carlisle at gmail.com  Wed Jan 11 13:39:08 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 11 Jan 2017 12:39:08 +0000
Subject: [tex-live] etex
In-Reply-To: <BA6850C3-4948-417A-8588-00C4EC77A918@free.fr>
References: <201701102253.v0AMr3Eu019473@freefriends.org>
 <86d19e9e-d5f3-b136-9ad6-94f40551e64c@Rhul.Ac.Uk>
 <BA6850C3-4948-417A-8588-00C4EC77A918@free.fr>
Message-ID: <CAEW6iOggpfUO_dd-bwLez7ULQ5=oD9UsEhBrRhnX-LDWi7-UiQ@mail.gmail.com>

> to my dismay, xelatex and lualatex seem to follow suit regarding missing
\fi's or missing \endgroup's not changing exit status from 0.

Like most programs they give 0 if the program only made warnings and not
errors.

It's easy enough to make these things an error via macros, in which case
the exit status is non zero.

For example the following plain tex with any engine supporting etex
extensions:


\outer\def\bye{\par\vfill\supereject
\ifnum\currentiflevel>1
\errmessage{if nesting is \the\numexpr\currentiflevel-1\relax}%
\fi
\end}



\if aa %\fi
\bye



will run without warning or error if you uncomment the \fi but as it is you
get an error status of 1 as shown by

$ pdftex --interaction=scrollmode er.tex; echo exit status = $?
This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016) (preloaded
format=pdftex)
 restricted \write18 enabled.
entering extended mode
(./er.tex
! if nesting is 1.
\bye ...s \the \numexpr \currentiflevel -1\relax }
                                                  \fi \end
l.11 \bye

 )
(\end occurred when \if on line 10 was incomplete)
(see the transcript file for additional information)
No pages of output.
Transcript written on er.log.
exit status = 1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170111/58caed40/attachment.html>

From jfbu at free.fr  Wed Jan 11 16:37:02 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 11 Jan 2017 16:37:02 +0100
Subject: [tex-live] etex
In-Reply-To: <CAEW6iOggpfUO_dd-bwLez7ULQ5=oD9UsEhBrRhnX-LDWi7-UiQ@mail.gmail.com>
References: <201701102253.v0AMr3Eu019473@freefriends.org>
 <86d19e9e-d5f3-b136-9ad6-94f40551e64c@Rhul.Ac.Uk>
 <BA6850C3-4948-417A-8588-00C4EC77A918@free.fr>
 <CAEW6iOggpfUO_dd-bwLez7ULQ5=oD9UsEhBrRhnX-LDWi7-UiQ@mail.gmail.com>
Message-ID: <ce973fef-a094-e12c-517b-5376f05d5ce5@free.fr>

Le 11/01/2017 ? 13:39, David Carlisle a ?crit :
> 
> Like most programs they give 0 if the program only made warnings and not errors.
> 
> It's easy enough to make these things an error via macros, in which case the exit status is non zero.
> 
> ....


thanks again, I feel dumb about not having thought about \currentgrouplevel,
\currentiflevel, ... but I never used them before. This definitely looks like
something I will use and it will avoid grepping the log.

It is a work-around, and as I don't have in my mind a clear picture of all
kinds of warnings a TeX job can emit, I don't know immediately offhand
if I can handle all of them
thanks to the e-TeX primitives this way: I would need to dig into it...


By the way, I hope not to have given a too opinionated impression,
it is hard to discuss something without adding arguments, but
arguments take time to expose with completeness, so one quickly
ends up in essence just saying one does not like this or that
... just because it all takes time to be clearer.

I understand this is not
likely to created good enticement for those who are not
(initially...) of the same opinion to implement the changes ;-)

I could also now "complain" about batchmode printing a not very
useful banner and then not printing anything to stdout to signal
end of the job to human user ... ;-)

... but then I would have to "complain" about LuaTeX and XeTeX
in batchmode doing the same as PDFTeX... 

Best wishes,

Jean-Fran?ois



From jfbu at free.fr  Wed Jan 11 18:40:29 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 11 Jan 2017 18:40:29 +0100
Subject: [tex-live] etex
In-Reply-To: <CAEW6iOggpfUO_dd-bwLez7ULQ5=oD9UsEhBrRhnX-LDWi7-UiQ@mail.gmail.com>
References: <201701102253.v0AMr3Eu019473@freefriends.org>
 <86d19e9e-d5f3-b136-9ad6-94f40551e64c@Rhul.Ac.Uk>
 <BA6850C3-4948-417A-8588-00C4EC77A918@free.fr>
 <CAEW6iOggpfUO_dd-bwLez7ULQ5=oD9UsEhBrRhnX-LDWi7-UiQ@mail.gmail.com>
Message-ID: <bb10dc32-285c-e7e4-176c-3499bee7eaf3@free.fr>

Le 11/01/2017 ? 13:39, David Carlisle a ?crit :
> \outer\def\bye{\par\vfill\supereject
> \ifnum\currentiflevel>1
> \errmessage{if nesting is \the\numexpr\currentiflevel-1\relax}%
> \fi
> \end}

but with -halt-on-error I lose the information such as 
(\end occurred when \if on line 10 was incomplete)
(see the transcript file for additional information)

anyway, in case of such an error I can always do an
additional etex run without -halt-on-error, either
manually or from the script, hence this is not really
an issue

Thanks again,

JF



From jfbu at free.fr  Fri Jan 13 10:36:12 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 13 Jan 2017 10:36:12 +0100
Subject: [tex-live] texlive guide entry for 2014
Message-ID: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>

Hi,

I needed to examine texmf.cnf and dvipdfmx.def of recent
releases to determine that, if I am not mistaken,
it is since TeXLive 2014 that the dvipdfmx driver for
latex+graphics has the capability
on Unix like system to generate bounding box information
on the fly via extractbb. This is not mentioned in 
the 9.1.11 2014 entry of TeX Live 2016, the 9.1.5 2008
entry speaks about dvipdfmx and extractbb, I don't
know if the driver file for graphics used extractbb
but from later versions (2012, 2013) I believe
it needed shell-escape.

I think the same apply for platex (Japanese latex)
but not reading Japanese it is harder for me to check.

Can someone confirm that since TL2014 there is no need
on Unix-like systems to prepare beforehand .xbb
files for graphics inclusion of .png, .jpeg, ..., 
when doing latex+dvipdfmx or platex+dvipdfmx ?
(and that it was either needed before, or at least
shell-escape had to be enabled) ?

And if true, could this information be integrated
to 2014 entry in TeX Live Guide for future reference ?

(my checks are only on last updated versions of the
various TL201X)

Best wishes

Jean-Fran?ois



From d.p.carlisle at gmail.com  Fri Jan 13 12:35:42 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 13 Jan 2017 11:35:42 +0000
Subject: [tex-live] texlive guide entry for 2014
In-Reply-To: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
References: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
Message-ID: <CAEW6iOg+sNBvPRPR66KN2WUDPc7eYD+j5oaMZKQJbRvWAidT0g@mail.gmail.com>

Can someone confirm that since TL2014 there is no need
> on Unix-like systems to prepare beforehand .xbb
> files for graphics inclusion of .png, .jpeg, ...,
> when doing latex+dvipdfmx or platex+dvipdfmx ?



Not sure when it was added but I can confirm that dvipdfmx.def calls out to
extractbb now.

That said there is nothing dvipdfmx specific about that and no reason why a
document that works with
\usepackage[dvipdfmx]{graphicx} should fail with the default [dvips] option
with


! LaTeX Error: Cannot determine size of graphic in zzz.jpg (no BoundingBox).

I should make dvips.def try to make (and use) a .xbb file with extractbb
before giving up
with that message, as done in dvipdfmx.def.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170113/094a7d2d/attachment.html>

From d.p.carlisle at gmail.com  Fri Jan 13 13:24:48 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 13 Jan 2017 12:24:48 +0000
Subject: [tex-live] texlive guide entry for 2014
In-Reply-To: <CAEW6iOg+sNBvPRPR66KN2WUDPc7eYD+j5oaMZKQJbRvWAidT0g@mail.gmail.com>
References: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
 <CAEW6iOg+sNBvPRPR66KN2WUDPc7eYD+j5oaMZKQJbRvWAidT0g@mail.gmail.com>
Message-ID: <CAEW6iOgJzy0e0gXHRYMJakbadJn0b9eKJOhjS_4dSGHOXVqH0w@mail.gmail.com>

On 13 January 2017 at 11:35, I wrote:

> That said there is nothing dvipdfmx specific about that and no reason why a
> document that works with
> \usepackage[dvipdfmx]{graphicx} should fail with the default [dvips] option
> with
>
>
> ! LaTeX Error: Cannot determine size of graphic in zzz.jpg (no BoundingBox).
>
> I should make dvips.def try to make (and use) a .xbb file with extractbb
> before giving up with that message, as done in dvipdfmx.def.
>
> David

Unfortunately that was nonsense, you could do this and make latex process
the file without error but it only makes sense for image formats for which
extractbb can get the size and dvips can include into the generated PostScript
and the number of formats for which both of those are true is.. limited....

David

From h.y.acetaminophen at gmail.com  Fri Jan 13 13:44:17 2017
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Fri, 13 Jan 2017 21:44:17 +0900
Subject: [tex-live] texlive guide entry for 2014
In-Reply-To: <CAEW6iOg+sNBvPRPR66KN2WUDPc7eYD+j5oaMZKQJbRvWAidT0g@mail.gmail.com>
References: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
 <CAEW6iOg+sNBvPRPR66KN2WUDPc7eYD+j5oaMZKQJbRvWAidT0g@mail.gmail.com>
Message-ID: <4F729670-F628-4801-BA39-67BEE1C3FCBF@gmail.com>

Hello from Japan,

2017/01/13 20:35, David Carlisle <d.p.carlisle at gmail.com>:

> Not sure when it was added but I can confirm that dvipdfmx.def calls out to
> extractbb now.

extractbb was added to shell_escape_commands in TL2015 (see r36787),
as dvipdfmx + dvipdfmx.def in TL2015 or later supoorts input of BoundingBox
info through pipe, making it unnecesary to generate xbb files

Hironobu Yamashota

From h.y.acetaminophen at gmail.com  Fri Jan 13 13:59:46 2017
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Fri, 13 Jan 2017 21:59:46 +0900
Subject: [tex-live] texlive guide entry for 2014
In-Reply-To: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
References: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
Message-ID: <F59A9DD7-A408-4A88-A5F8-7C90C0240E6C@gmail.com>

Hello,

2017/01/13 18:36, jfbu <jfbu at free.fr>:

> Can someone confirm that since TL2014 there is no need
> on Unix-like systems to prepare beforehand .xbb
> files for graphics inclusion of .png, .jpeg, ..., 
> when doing latex+dvipdfmx or platex+dvipdfmx ?
> (and that it was either needed before, or at least
> shell-escape had to be enabled) ?

I remember xbb files were necessary for TL2014 or earlier.
Japanese people has been heavily using dvipdfmx, so they added
extractbb to their local texmf.cnf by hand

Hironobu Yamashita

From jfbu at free.fr  Fri Jan 13 20:44:42 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 13 Jan 2017 20:44:42 +0100
Subject: [tex-live] texlive guide entry for 2014
In-Reply-To: <F59A9DD7-A408-4A88-A5F8-7C90C0240E6C@gmail.com>
References: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
 <F59A9DD7-A408-4A88-A5F8-7C90C0240E6C@gmail.com>
Message-ID: <53A599BF-3964-46AD-8CCD-7634A04D4934@free.fr>


Le 13 janv. 2017 ? 13:59, Hironobu Yamashita <h.y.acetaminophen at gmail.com> a ?crit :

> Hello,
> 
> 2017/01/13 18:36, jfbu <jfbu at free.fr>:
> 
>> Can someone confirm that since TL2014 there is no need
>> on Unix-like systems to prepare beforehand .xbb
>> files for graphics inclusion of .png, .jpeg, ..., 
>> when doing latex+dvipdfmx or platex+dvipdfmx ?
>> (and that it was either needed before, or at least
>> shell-escape had to be enabled) ?
> 
> I remember xbb files were necessary for TL2014 or earlier.
> Japanese people has been heavily using dvipdfmx, so they added
> extractbb to their local texmf.cnf by hand
> 
> Hironobu Yamashita

Thanks for the information ! This is for support
of some other software, now I know they can avoid
the explicit extractbb calls but under assumption
of a TL2015 or more recent install,

Jean-Fran?ois



From jfbu at free.fr  Fri Jan 13 20:47:20 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 13 Jan 2017 20:47:20 +0100
Subject: [tex-live] texlive guide entry for 2014
In-Reply-To: <CAEW6iOgJzy0e0gXHRYMJakbadJn0b9eKJOhjS_4dSGHOXVqH0w@mail.gmail.com>
References: <156AC5C8-AF6C-40A4-8A39-7C7A744AB559@free.fr>
 <CAEW6iOg+sNBvPRPR66KN2WUDPc7eYD+j5oaMZKQJbRvWAidT0g@mail.gmail.com>
 <CAEW6iOgJzy0e0gXHRYMJakbadJn0b9eKJOhjS_4dSGHOXVqH0w@mail.gmail.com>
Message-ID: <034F6110-4370-4832-ABD4-583F97EBD36D@free.fr>


Le 13 janv. 2017 ? 13:24, David Carlisle <d.p.carlisle at gmail.com> a ?crit :

> Unfortunately that was nonsense, you could do this and make latex process
> the file without error but it only makes sense for image formats for 

take this as proof of both eternal youth, which always
tries new things, and of wisdom of bygone years which
has already tried all things ;-)

JF

From P.Taylor at Rhul.Ac.Uk  Sat Jan 14 15:41:14 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Jan 2017 14:41:14 +0000
Subject: [tex-live] Problem with XeTeX's (and perhaps other binaries -- not
 investigated) handling of --output-directory
Message-ID: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>

If XeTeX is invoked on file foo.tex specifying --output-directory=../dynamic-content,
and if there is also a file ../dynamic-content/foo.tex, then XeTeX will process that file
rather than the file which it was instructed to process :

> \message {This is the intended foo.tex}
> \end


> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (../dynamic-content/./foo.tex This is the unintended foo.tex )
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.

-- 

Philip Taylor

From zdenek.wagner at gmail.com  Sat Jan 14 17:17:50 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 14 Jan 2017 17:17:50 +0100
Subject: [tex-live] Problem with XeTeX's (and perhaps other binaries --
 not investigated) handling of --output-directory
In-Reply-To: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
Message-ID: <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>

I have just tried on Linux and found that it depends on the way how the
file name is specified, namely whether foo.tex is given including the
extension or only foo:

$ xetex --output-directory=./dynamic-content foo
This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016) (preloaded
format=xetex)
entering extended
mode

(./foo.tex [1]
)

Output written on ./dynamic-content/foo.pdf (1 page).

$ xetex --output-directory=./dynamic-content foo.tex
This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016) (preloaded
format=xetex)
entering extended
mode

(./dynamic-content/foo.tex [1]
)

Output written on ./dynamic-content/foo.pdf (1 page).

I have also tried luatex, tex, and pdfcsplain and all of them behave
identically.



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-14 15:41 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

> If XeTeX is invoked on file foo.tex specifying
> --output-directory=../dynamic-content,
> and if there is also a file ../dynamic-content/foo.tex, then XeTeX will
> process that file
> rather than the file which it was instructed to process :
>
> > \message {This is the intended foo.tex}
> > \end
>
>
> > This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX)
> (preloaded format=xetex)
> >  restricted \write18 enabled.
> > entering extended mode
> > (../dynamic-content/./foo.tex This is the unintended foo.tex )
> > No pages of output.
> > Transcript written on ../dynamic-content/foo.log.
>
> --
>
> Philip Taylor
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170114/b297666c/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sat Jan 14 18:19:59 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Jan 2017 17:19:59 +0000
Subject: [tex-live] Problem with XeTeX's (and perhaps other binaries --
 not investigated) handling of --output-directory
In-Reply-To: <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
Message-ID: <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>


Zden?k Wagner napsal :

> I have just tried on Linux and found that it depends on the way how
> the file name is specified, namely whether foo.tex is given including
> the extension or only foo:

Under Windows (7, Ultimate, 64-bit) what appears to matter is the order of parameter v. qualifier;
the presence or absence of the file extension appears to matter not :

> E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content foo
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (../dynamic-content/./foo.tex This is the unintended foo.tex )
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.
> 
> E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content foo.tex
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (../dynamic-content/./foo.tex This is the unintended foo.tex )
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.
> 
> E:\TeX\Projects\WBH\Welcome>xetex foo.tex --output-directory=../dynamic-content
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (./foo.tex This is the intended foo.tex )
> No pages of output.
> Transcript written on foo.log.
> 
> E:\TeX\Projects\WBH\Welcome>xetex foo --output-directory=../dynamic-content
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (./foo.tex This is the intended foo.tex )
> No pages of output.
> Transcript written on foo.log.
-- 
Philip Taylor

From d.p.carlisle at gmail.com  Sat Jan 14 18:27:24 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 14 Jan 2017 17:27:24 +0000
Subject: [tex-live] Problem with XeTeX's (and perhaps other binaries --
 not investigated) handling of --output-directory
In-Reply-To: <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
Message-ID: <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>

Phil,

> E:\TeX\Projects\WBH\Welcome>xetex foo --output-directory=../dynamic-
content
> (./foo.tex This is the intended foo.tex )

isn't that just because the flags after the filename are ignored?

Personally I'd just add it to the end of the list of reasons never to use
--output-directory,
although that list is so long, it's hard to find the end:-)

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170114/16f5e4de/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sat Jan 14 18:39:42 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Jan 2017 17:39:42 +0000
Subject: [tex-live] Problem with XeTeX's (and perhaps other binaries --
 not investigated) handling of --output-directory
In-Reply-To: <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
Message-ID: <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>



David Carlisle wrote:

>> E:\TeX\Projects\WBH\Welcome>xetex foo --output-directory=../dynamic-content 
>> (./foo.tex This is the intended foo.tex )
> 
> isn't that just because the flags after the filename are ignored?

Silently ?! :-(

> Personally I'd just add it to the end of the list of reasons never to
> use --output-directory, although that list is so long, it's hard to
> find the end:-)

If (as I do) one uses Dropbox to mirror one's work for security, the last thing one needs is for Dropbox to continually synch one's ephemeral files (.aux, .log, .ind/idx, .pdf, etc), whence my unvarying use of --output-directory via TeXworks configuration options.

** Phil.

From d.p.carlisle at gmail.com  Sat Jan 14 19:14:09 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 14 Jan 2017 18:14:09 +0000
Subject: [tex-live] Problem with XeTeX's (and perhaps other binaries --
 not investigated) handling of --output-directory
In-Reply-To: <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
Message-ID: <CAEW6iOjE3MC3hiW_yieDoNjKQ9OQap+b02B2x-Z8m6fAEq+sCQ@mail.gmail.com>

On 14 January 2017 at 17:39, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

>
>
> David Carlisle wrote:
>
> >> E:\TeX\Projects\WBH\Welcome>xetex foo --output-directory=../dynamic-
> content
> >> (./foo.tex This is the intended foo.tex )
> >
> > isn't that just because the flags after the filename are ignored?
>
> Silently ?! :-(
>


try a file without \end[document} (\end for you:-)  and type \end to the *
prompt
you will see that the text such as
--output-directory=...
after the filename is just typeset

so any text on the commandline after the filename is just like text at the
end of the file
which is silently ignored if the file has \end before that point.


>
> > Personally I'd just add it to the end of the list of reasons never to
> > use --output-directory, although that list is so long, it's hard to
> > find the end:-)
>
> If (as I do) one uses Dropbox to mirror one's work for security, the last
> thing one needs is for Dropbox to continually synch one's ephemeral files
> (.aux, .log, .ind/idx, .pdf, etc), whence my unvarying use of
> --output-directory via TeXworks configuration options.
>
> ** Phil.
>



The problem is that if you configure tex to write somewhere strange you
have to configure _everything_
(makeindex, bibtex, tex, ... to find the files that have been written: it
causes endless confusion and questions
on support lists) compared to just (for example) configuring your editor to
save a copy to your dropbox
backup folder on each save.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170114/52b1ad8c/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sat Jan 14 19:58:16 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Jan 2017 18:58:16 +0000
Subject: [tex-live] Problem with XeTeX's (and perhaps other binaries --
 not investigated) handling of --output-directory
In-Reply-To: <CAEW6iOjE3MC3hiW_yieDoNjKQ9OQap+b02B2x-Z8m6fAEq+sCQ@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAEW6iOjE3MC3hiW_yieDoNjKQ9OQap+b02B2x-Z8m6fAEq+sCQ@mail.gmail.com>
Message-ID: <ce81c5c3-d7d4-03c6-b88f-dda6026f6d3c@Rhul.Ac.Uk>



David Carlisle wrote:

> try a file without \end[document} (\end for you:-)  and type \end to the * prompt
> you will see that the text such as
> --output-directory=...
> after the filename is just typeset

True -- I had not considered that possibility.

> The problem is that if you configure tex to write somewhere strange you have to configure _everything_
> (makeindex, bibtex, tex, ... to find the files that have been written: it causes endless confusion and questions
> on support lists) 

Well, as soon as I started using --output-directory, I adjusted my methodology to automatically
search for such files in the appropriate place; it didn't seem to require a great deal of brain-
power ...

> compared to just (for example) configuring your editor to save a copy to your dropbox
> backup folder on each save.

I have no idea whether TeXworks can do that, but for me --output-directory is a very useful feature.
** Phil.

From wujastyk at gmail.com  Sun Jan 15 09:09:13 2017
From: wujastyk at gmail.com (Dominik Wujastyk)
Date: Sun, 15 Jan 2017 01:09:13 -0700
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
Message-ID: <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>

On 14 January 2017 at 10:39, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

> ?...?
>
> If (as I do) one uses Dropbox to mirror one's work for security, the last
> thing one needs is for Dropbox to continually synch one's ephemeral files
> (.aux, .log, .ind/idx, .pdf, etc), whence my unvarying use of
> --output-directory via TeXworks configuration options.
>
> ** Phil.
>
>
?I routinely work on tex projects in my Dropbox file area. I mean every
day, all the time.  I've never noticed a problem with Dropbox mirroring my
ephemeral files, even the synctex one.  I have moderately fast wifi at home
and fast ethernet at work; it might be different if the bandwidth was low
and slow.  The little dropbox icon shows that my files are updated more or
less instantly.  I honestly have never noticed any overhead.

Best,
Dominik
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170115/0b15354e/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 10:20:13 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 09:20:13 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
Message-ID: <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>



Dominik Wujastyk wrote:

> ?I routinely work on tex projects in my Dropbox file area. I mean
> every day, all the time.  I've never noticed a problem with Dropbox
> mirroring my ephemeral files, even the synctex one.  I have
> moderately fast wifi at home and fast ethernet at work; it might be
> different if the bandwidth was low and slow.  The little dropbox icon
> shows that my files are updated more or less instantly.  I honestly
> have never noticed any overhead.

On a 3Mbps link, Dominik, synching (e.g.,) the Descriptive Catalogue
of Greek MSS in the Lambeth Palace Library ties up my link for hours
at a time following each compilation.  I therefore need to exclude
the generated PDF from synchronisation, and as there is no way of which
I am aware to send the PDF to anywhere other than the same location as
the (relatively trivial) auxiliary files, I send them all to a location
for which Dropbox synchronisation is inhibited.

But all of this is besides the point :  surely 

	o XeTeX --output-directory=../dynamic-content foo (or foo.tex)

should compile foo.tex, not ../dynamic-content/foo.tex

** Phil.

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 10:26:43 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 09:26:43 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
Message-ID: <0ece07eb-ddae-0815-5556-61087549b302@Rhul.Ac.Uk>



Philip Taylor wrote:

> But all of this is besides the point :  surely 
> 
> 	o XeTeX --output-directory=../dynamic-content foo (or foo.tex)
> 
> should compile foo.tex, not ../dynamic-content/foo.tex

Note that this occurs even if a specific path to "foo.tex" is given :

> E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content ./foo
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (../dynamic-content/./foo.tex This is the unintended foo.tex)
> *\end
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.
> 
> E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content ./foo.tex
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (../dynamic-content/./foo.tex This is the unintended foo.tex)
> *\end
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.
> 
> E:\TeX\Projects\WBH\Welcome>

From zdenek.wagner at gmail.com  Sun Jan 15 10:40:49 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 15 Jan 2017 10:40:49 +0100
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <0ece07eb-ddae-0815-5556-61087549b302@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <0ece07eb-ddae-0815-5556-61087549b302@Rhul.Ac.Uk>
Message-ID: <CAC1phyaS+9OmQMWEKkNSyr871iz1Jj3LHKy_ZNZixFe=dPYt4A@mail.gmail.com>

The same on Linux but with the full (absolute) path it works as expected:

[zw at ..... tmp]$ xetex --output-directory=./dynamic-content /tmp/foo.tex
This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016) (preloaded
format=xetex)
entering extended mode
(/tmp/foo.tex [1] )
Output written on ./dynamic-content/foo.pdf (1 page).
Transcript written on ./dynamic-content/foo.log.

My ADSL speed is 8 Mbps for download but only 512 kbps for upload, so
syncing large files is a problem (uploading 1 hour video takes almost a
week). I use a different strategy for my work, I take advantage of
versioning and use either subversion or git. Only the source files that
cannot be generated are versioned. My hard disk certainly will not die
within a few hours (in fact not within a few months) and I commit
frequently and at least daily push the git cloned repository. If you do not
share the work with others but want to have it available from several
computers, Dropbox can be used as a siple subresion and/or git server. The
only rule to surviv is: do not do "svn commit" or "git push" if you are
offline. And if you do, do not work on other computer before connecting the
computer with the latest repository version and syncing it.



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-15 10:26 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Philip Taylor wrote:
>
> > But all of this is besides the point :  surely
> >
> >       o XeTeX --output-directory=../dynamic-content foo (or foo.tex)
> >
> > should compile foo.tex, not ../dynamic-content/foo.tex
>
> Note that this occurs even if a specific path to "foo.tex" is given :
>
> > E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content
> ./foo
> > This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX)
> (preloaded format=xetex)
> >  restricted \write18 enabled.
> > entering extended mode
> > (../dynamic-content/./foo.tex This is the unintended foo.tex)
> > *\end
> > No pages of output.
> > Transcript written on ../dynamic-content/foo.log.
> >
> > E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content
> ./foo.tex
> > This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX)
> (preloaded format=xetex)
> >  restricted \write18 enabled.
> > entering extended mode
> > (../dynamic-content/./foo.tex This is the unintended foo.tex)
> > *\end
> > No pages of output.
> > Transcript written on ../dynamic-content/foo.log.
> >
> > E:\TeX\Projects\WBH\Welcome>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170115/37cb0b40/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 16:00:33 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 15:00:33 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <CAC1phyaS+9OmQMWEKkNSyr871iz1Jj3LHKy_ZNZixFe=dPYt4A@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <0ece07eb-ddae-0815-5556-61087549b302@Rhul.Ac.Uk>
 <CAC1phyaS+9OmQMWEKkNSyr871iz1Jj3LHKy_ZNZixFe=dPYt4A@mail.gmail.com>
Message-ID: <d44ce12c-5ab9-fe9a-645b-8830092ecb20@Rhul.Ac.Uk>



Zden?k Wagner wrote:

> The same on Linux but with the full (absolute) path it works as
> expected:
> 
> [zw at ..... tmp]$ xetex --output-directory=./dynamic-content /tmp/foo.tex

But from "/tmp", does "./dynamic-content" exist, and if so, does it contain an instance of "foo.tex" ?

** Phil.

From zdenek.wagner at gmail.com  Sun Jan 15 16:11:13 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 15 Jan 2017 16:11:13 +0100
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <d44ce12c-5ab9-fe9a-645b-8830092ecb20@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <0ece07eb-ddae-0815-5556-61087549b302@Rhul.Ac.Uk>
 <CAC1phyaS+9OmQMWEKkNSyr871iz1Jj3LHKy_ZNZixFe=dPYt4A@mail.gmail.com>
 <d44ce12c-5ab9-fe9a-645b-8830092ecb20@Rhul.Ac.Uk>
Message-ID: <CAC1phyaiyo6=oYkC5CMP2tjoUe6mDw1tauBsQrVGBOnpsVkoyA@mail.gmail.com>

2017-01-15 16:00 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Zden?k Wagner wrote:
>
> > The same on Linux but with the full (absolute) path it works as
> > expected:
> >
> > [zw at ..... tmp]$ xetex --output-directory=./dynamic-content /tmp/foo.tex
>
> But from "/tmp", does "./dynamic-content" exist, and if so, does it
> contain an instance of "foo.tex" ?
>

Yes, it does, I have both /tmp/foo.tex and /tmp/dynamic-content/foo.tex and
both are different.

>
> ** Phil.
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170115/1a9466da/attachment.html>

From d.p.carlisle at gmail.com  Sun Jan 15 19:56:20 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 15 Jan 2017 18:56:20 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
Message-ID: <CAEW6iOgKRdn1iP2re4CYvZMg1-GWFe4jmcWzuQ_2vOS8sXME-w@mail.gmail.com>

On 15 January 2017 at 09:20, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

>
>
> But all of this is besides the point :  surely
>
>         o XeTeX --output-directory=../dynamic-content foo (or foo.tex)
>
> should compile foo.tex, not ../dynamic-content/foo.tex
>
> ** Phil.
>


No I think not,  if you do not give a full path to a file tex (usually)
looks in . first
then looks along the path. --output-directory --output-directory is
documented
as using the specified directory before the path

texdoc web2c page 8 says

`-output-directory=dirname'
               Specify the directory dirname to which output files are
written. Also look for
               input files in dirname first, before looking along the
normal search path. See
               Section 3.4 [Output file location], page 9.


but as I said this thread just joins the many previous ones, it seems like
anyone who
uses --output-directory eventually asks about some confusing aspect of its
behaviour.

I don't think it would be better here if tex looked in the current
directory, then the output
directory then the path, as that would mean that if you add
-output-directory a document
would keep inputting stale tables of contents and aux files from the
current directory
not new ones being written elsewhere.

You can always use a full path to the input file to specify a specific file.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170115/d38f9b51/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 20:02:06 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 19:02:06 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <993fkisku4wz$.dlg@nililand.de>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
Message-ID: <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>



Ulrike Fischer wrote:

> The output-directory is not only for output-files. XeTeX must also be
> able to read from this folder, e.g. a toc-file or an aux-file. And if
> there is (in a latex compilation) an (older) foo.aux in the current
> folder and a new foo.aux in /dynamic-content you would want it to
> find the newer one. 

Whether or not the file "foo.aux" in ../dynamic-content is newer,
it should be read in preference to the one in the current directory
because that is the defined behaviour when --output-directory=../dynamic-content

But the defined behaviour for :

	o xetex --output-directory=../dynamic-content E:/TeX/Projects/WBH/Welcome/foo.tex

must /surely/ be to process E:/TeX/Projects/WBH/Welcome/foo.tex, not E:/TeX/Projects/WBH/Dynamic-content/foo.tex, which is what it does; the "texinputs" path does not come into this, since
an explicit directory has been given.  Furthermore, if both E:/TeX/Projects/WBH/Welcome/foo.tex 
and E:/TeX/Projects/WBH/Dynamic-content/foo.tex contain "\input E:/TeX/Projects/WBH/Welcome/foo.aux", then E:/TeX/Projects/WBH/Welcome/foo.aux is indeed \input as specified (i.e., the value of "texinputs" is ignored (as it should be) because an explicit path to the file has been given).

Philip Taylor

From mskala at ansuz.sooke.bc.ca  Sun Jan 15 20:16:16 2017
From: mskala at ansuz.sooke.bc.ca (mskala at ansuz.sooke.bc.ca)
Date: Sun, 15 Jan 2017 13:16:16 -0600 (CST)
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <CAEW6iOgKRdn1iP2re4CYvZMg1-GWFe4jmcWzuQ_2vOS8sXME-w@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <CAEW6iOgKRdn1iP2re4CYvZMg1-GWFe4jmcWzuQ_2vOS8sXME-w@mail.gmail.com>
Message-ID: <alpine.LNX.2.20.1701151311490.1044@localhost.localdomain>

On Sun, 15 Jan 2017, David Carlisle wrote:
> ?????????????? Specify the directory dirname to which output files are
> written. Also look for
> ?????????????? input files in dirname first, before looking along the normal
> search path. See
> ?????????????? Section 3.4 [Output file location], page 9.

The general principle here is that TeX expects to modify files in place.
Stuff like the multi-stage compilation of LaTeX implicitly assumes that it
works this way, but it is TeX, not LaTeX, that originally instituted the
concept.  It's not in keeping with the Unix philosophy of programs working
as pipes, and it causes trouble for people with other expectations.  For
instance, I nearly always run TeX engines through Makefiles, and the
rewriting of files that are used as both input and output screws up how
Make works and requires complicated side handling.  But the "modify in
place" philosophy is built into TeX at a very deep level; it's not going
to change soon; and it's probably pointless to expect that it could be
turned off in a real way by a simple command line option.

-- 
Matthew Skala
mskala at ansuz.sooke.bc.ca                 People before principles.
http://ansuz.sooke.bc.ca/

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 20:26:12 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 19:26:12 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
Message-ID: <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>



Philip Taylor wrote:

> But the defined behaviour for :
> 
> 	o xetex --output-directory=../dynamic-content E:/TeX/Projects/WBH/Welcome/foo.tex
> 
> must /surely/ be to process E:/TeX/Projects/WBH/Welcome/foo.tex, not E:/TeX/Projects/WBH/Dynamic-content/foo.tex, which is what it does; 

This statement was in error :

>	o xetex --output-directory=../dynamic-content E:/TeX/Projects/WBH/Welcome/foo.tex

does indeed process E:/TeX/Projects/WBH/Welcome/foo.tex as requested.  Yet with
the current working directory :

> E:/TeX/Projects/WBH/Welcome/foo.tex

>	o xetex --output-directory=../dynamic-content ./foo.tex

the file that is actually processed is 

> E:/TeX/Projects/WBH/Dynamic-content/foo.tex

In both cases, the path to the source directory has been specified, yet "E:/TeX/Projects/WBH/Welcome/" is correctly honoured while "./" (for . = E:/TeX/Projects/WBH/Welcome) is not.  I remain completely confused by this seemingly aberrant and inconsistency behaviour. 

Philip Taylor
--------
E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content E:/TeX/Projects/WBH/Welcome/foo.tex
This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
 restricted \write18 enabled.
entering extended mode
(e:/TeX/Projects/WBH/Welcome/foo.tex This is the intended foo.tex
(e:/TeX/Projects/WBH/Welcome/foo.aux This is the intended foo.aux) )
No pages of output.
Transcript written on ../dynamic-content/foo.log.

E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content ./foo.tex
This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
 restricted \write18 enabled.
entering extended mode
(../dynamic-content/./foo.tex This is the unintended foo.tex
(e:/TeX/Projects/WBH/Welcome/foo.aux This is the intended foo.aux) )
No pages of output.
Transcript written on ../dynamic-content/foo.log.

E:\TeX\Projects\WBH\Welcome>

From zdenek.wagner at gmail.com  Sun Jan 15 20:30:27 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 15 Jan 2017 20:30:27 +0100
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
 <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
Message-ID: <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>

No, ./ is not a path specification, the normalization rules will remove it,
./foo.tex is the same as foo.tex. If you want to specify the path,
../Welcome/foo.tex will help because such a file is not below
dynamic-content.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-15 20:26 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Philip Taylor wrote:
>
> > But the defined behaviour for :
> >
> >       o xetex --output-directory=../dynamic-content
> E:/TeX/Projects/WBH/Welcome/foo.tex
> >
> > must /surely/ be to process E:/TeX/Projects/WBH/Welcome/foo.tex, not
> E:/TeX/Projects/WBH/Dynamic-content/foo.tex, which is what it does;
>
> This statement was in error :
>
> >       o xetex --output-directory=../dynamic-content
> E:/TeX/Projects/WBH/Welcome/foo.tex
>
> does indeed process E:/TeX/Projects/WBH/Welcome/foo.tex as requested.
> Yet with
> the current working directory :
>
> > E:/TeX/Projects/WBH/Welcome/foo.tex
>
> >       o xetex --output-directory=../dynamic-content ./foo.tex
>
> the file that is actually processed is
>
> > E:/TeX/Projects/WBH/Dynamic-content/foo.tex
>
> In both cases, the path to the source directory has been specified, yet
> "E:/TeX/Projects/WBH/Welcome/" is correctly honoured while "./" (for . =
> E:/TeX/Projects/WBH/Welcome) is not.  I remain completely confused by this
> seemingly aberrant and inconsistency behaviour.
>
> Philip Taylor
> --------
> E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content
> E:/TeX/Projects/WBH/Welcome/foo.tex
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX)
> (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (e:/TeX/Projects/WBH/Welcome/foo.tex This is the intended foo.tex
> (e:/TeX/Projects/WBH/Welcome/foo.aux This is the intended foo.aux) )
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.
>
> E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content
> ./foo.tex
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX)
> (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (../dynamic-content/./foo.tex This is the unintended foo.tex
> (e:/TeX/Projects/WBH/Welcome/foo.aux This is the intended foo.aux) )
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.
>
> E:\TeX\Projects\WBH\Welcome>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170115/ca74357f/attachment.html>

From mskala at ansuz.sooke.bc.ca  Sun Jan 15 20:43:03 2017
From: mskala at ansuz.sooke.bc.ca (mskala at ansuz.sooke.bc.ca)
Date: Sun, 15 Jan 2017 13:43:03 -0600 (CST)
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
 <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
Message-ID: <alpine.LNX.2.20.1701151332240.1044@localhost.localdomain>

On Sun, 15 Jan 2017, Philip Taylor wrote:
> the current working directory :
>
> > E:/TeX/Projects/WBH/Welcome/foo.tex
>
> >	o xetex --output-directory=../dynamic-content ./foo.tex
>
> the file that is actually processed is
>
> > E:/TeX/Projects/WBH/Dynamic-content/foo.tex

I agree that that shouldn't happen.  A relative path on the command line
should normally be relative to the current working directory when the
program is invoked.  My guess is that the option's main effect may really
be to cause XeTeX to change to the output directory before doing
anything else (like Make's -C option), after which relative paths refer to
the specified output directory.

But there's more going on here, because what about relative paths
specified inside the .tex file?  There will be cases where the right thing
is to read them from the output directory (like .aux files), and cases
where the right thing is for them to be relative to the directory that
actually contains the .tex file (like fonts).  I'm not sure any simple
priority rule for searching both directories will correctly handle all
these cases.

The bottom line is that attempting to defeat TeX's efforts to keep input
and output in the same directory is asking for trouble.  Maybe this option
shouldn't exist at all.

-- 
Matthew Skala
mskala at ansuz.sooke.bc.ca                 People before principles.
http://ansuz.sooke.bc.ca/

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 21:05:34 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 20:05:34 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
 <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
 <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
Message-ID: <161045c8-588f-7d1a-bfda-6a3ed88f53dc@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> No, ./ is not a path specification, the normalization rules will
> remove it, ./foo.tex is the same as foo.tex. If you want to specify
> the path, ../Welcome/foo.tex will help because such a file is not
> below dynamic-content.

What are "the normalisation rules", Zden?k ?
** Phil.

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 21:25:02 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 20:25:02 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
 <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
 <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
Message-ID: <25c6769b-2ffd-72a4-434e-9f2c99f4826c@Rhul.Ac.Uk>



Zdenek Wagner wrote:

If you want to specify the path, ../Welcome/foo.tex will help because such a file is not below dynamic-content.

That would indeed appear to be the case, Zden?k :

> E:\TeX\Projects\WBH\Welcome>xetex --output-directory=../dynamic-content ../welcome/foo.tex
> This is XeTeX, Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded format=xetex)
>  restricted \write18 enabled.
> entering extended mode
> (../dynamic-content/../Welcome/foo.tex This is the intended foo.tex
> (e:/TeX/Projects/WBH/Welcome/foo.aux This is the intended foo.aux) )
> No pages of output.
> Transcript written on ../dynamic-content/foo.log.
> 
> E:\TeX\Projects\WBH\Welcome>

but is not the path through which it finally located the intended "foo.tex" more than a little arcane ?

> (../dynamic-content/../Welcome/foo.tex This is the intended foo.tex ...)

** Phil.


From zdenek.wagner at gmail.com  Sun Jan 15 21:26:33 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 15 Jan 2017 21:26:33 +0100
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <161045c8-588f-7d1a-bfda-6a3ed88f53dc@Rhul.Ac.Uk>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
 <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
 <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
 <161045c8-588f-7d1a-bfda-6a3ed88f53dc@Rhul.Ac.Uk>
Message-ID: <CAC1phyaXF52CF3xPH0yrfKU6pjxRvG=afnLoW5ALA5XsYQOWLw@mail.gmail.com>

2017-01-15 21:05 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Zdenek Wagner wrote:
>
> > No, ./ is not a path specification, the normalization rules will
> > remove it, ./foo.tex is the same as foo.tex. If you want to specify
> > the path, ../Welcome/foo.tex will help because such a file is not
> > below dynamic-content.
>
> What are "the normalisation rules", Zden?k ?
> ** Phil.
>

A path can be specified by many equivalent ways, for instance a/./b is the
same as a/b, a/c/../b is again a/b (it need not be true in unix systems).
Doble slashes are ignored too, a//b is again a/b. The canonical path does
not contain double slashes, ./, ../, the engine may remove them before
searching the file.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170115/14997d20/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sun Jan 15 21:34:39 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Jan 2017 20:34:39 +0000
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <CAC1phyaXF52CF3xPH0yrfKU6pjxRvG=afnLoW5ALA5XsYQOWLw@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
 <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
 <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
 <161045c8-588f-7d1a-bfda-6a3ed88f53dc@Rhul.Ac.Uk>
 <CAC1phyaXF52CF3xPH0yrfKU6pjxRvG=afnLoW5ALA5XsYQOWLw@mail.gmail.com>
Message-ID: <d9f74c90-c307-7342-e2be-6a751ec428e3@Rhul.Ac.Uk>



Zden?k Wagner wrote:

>> [PT] What are "the normalisation rules", Zden?k ? ** Phil.

> A path can be specified by many equivalent ways, for instance a/./b
> is the same as a/b, a/c/../b is again a/b (it need not be true in
> unix systems). Doble slashes are ignored too, a//b is again a/b. The
> canonical path does not contain double slashes, ./, ../, the engine
> may remove them before searching the file.

Hmmm, thank you : however, it would appear to be the case (here, at least) that "//" <> "/" :

> E:\TeX\Projects\WBH\Welcome>xetex
> --output-directory=../dynamic-content /foo.tex This is XeTeX, Version
> 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded
> format=xetex) restricted \write18 enabled. entering extended mode 
> (/foo.tex This is the intended foo.tex) *\end No pages of output. 
> Transcript written on ../dynamic-content/foo.log.
> 
> E:\TeX\Projects\WBH\Welcome>xetex
> --output-directory=../dynamic-content //foo.tex This is XeTeX,
> Version 3.14159265-2.6-0.99996 (TeX Live 2016/W32TeX) (preloaded
> format=xetex) restricted \write18 enabled. entering extended mode ! I
> can't find file `//foo.tex'.

** Phil.

From jcc8 at psu.edu  Mon Jan 16 00:26:41 2017
From: jcc8 at psu.edu (John Collins)
Date: Sun, 15 Jan 2017 18:26:41 -0500
Subject: [tex-live] [XeTeX] Problem with XeTeX's (and perhaps other
 binaries -- not investigated) handling of --output-directory
In-Reply-To: <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
References: <b2432d60-bbc1-e197-cc66-32d372e8613a@Rhul.Ac.Uk>
 <CAC1phyYZXiQTVv+4M_-P6Vtfzc-hvCya2adMwoaD6pXOd6zNdA@mail.gmail.com>
 <dbe58471-472a-80f5-6a27-dba9cd191255@Rhul.Ac.Uk>
 <CAEW6iOh215ip=KX5Gs0DVQtt6qAVioPWk81wcU8ZFbTL8N+pMQ@mail.gmail.com>
 <483a4d13-75b2-6602-9993-233fd29e1e77@Rhul.Ac.Uk>
 <CAKdt-Cf_dir6A9TDBC7iyZKN=k81iBxTMPLrq2XCsoNeSrCknA@mail.gmail.com>
 <d66097af-cf6e-b010-2d83-6550962fe323@Rhul.Ac.Uk>
 <993fkisku4wz$.dlg@nililand.de>
 <395e2574-0d79-8887-6c0a-e362c4560bff@Rhul.Ac.Uk>
 <062d9976-4b98-da7b-69e8-f5b3bedca542@Rhul.Ac.Uk>
 <CAC1phyb8yvbi0OGJfBiTJSN3GucY+5bfNTTGbaRGXUFeG9Pw=g@mail.gmail.com>
Message-ID: <807f988c-634c-62b7-856e-ba5c230e8c17@psu.edu>

On 1/15/17 2:30 PM, Zdenek Wagner wrote:
> No, ./ is not a path specification, the normalization rules will remove
> it, ./foo.tex is the same as foo.tex. If you want to specify the path,
> ../Welcome/foo.tex will help because such a file is not below
> dynamic-content.

Normalization rules such as this normally appear to be an excellent 
idea, and may not even deserve documentation.  But I wonder whether the 
present case indicates that the behavior should be changed.  At least 
the normalization should be done after finding the files rather than before.

Of course, without good reasons to the contrary, having an input source 
file in the output directory seems not a good idea.  It's even less of a 
good idea when there is a file of the same name in the current directory 
and one knows that the output directory is necessarily ahead of the 
current directory in the search path.  But such unusual situations do 
happen occasionally.

Here are my reasons against normalizing the given filename in the way it 
is currently done:

1. It violates natural (or naive) user expectations that ./test.tex and 
./test refer to a file specifically in the current directory.

2. It violates natural user expectations that ./test and ./test.tex 
should refer to the same test.tex file (if it exists).

3. It gives different behavior between the tex programs and kpsewhich. 
Suppose I define TEXINPUTS to put the output (or some other) directory 
ahead of the current directory and have a file test.tex in both.  Then
running both "kpsewhich ./test" and "kpsewhich ./test.tex" return 
./test.tex.  In contrast "pdflatex ./test" and "pdflatex ./test.tex" 
have different behavior.

4. When the file in the current directory is used, the log file reports 
it as ./test.tex, which reinforces the user's naive expectation that 
using ./test.tex on the command line should specifically select the file 
in the current directory.

5. When the file test.tex exists only somewhere else in the kpsearch 
path, it won't be found by "pdflatex ./test.tex", unlike the case when 
the file is in the output directory.

John Collins


From christophe.jorssen at gmail.com  Tue Jan 17 09:34:31 2017
From: christophe.jorssen at gmail.com (Christophe Jorssen)
Date: Tue, 17 Jan 2017 09:34:31 +0100
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
Message-ID: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>

Hello all,

I installed a vanilla TeXLive 2016 on my new archlinux laptop (long story:
as my laptop is a brand new one, I had to switch from debian stable to
archlinux to make it (simply) work. No expert of archlinux here!).

When I invoke asy, I get this:

christophe> asy
asy: error while loading shared libraries: libreadline.so.5: cannot open
shared object file: No such file or directory

This is asy coming with TeXLive 2016:

christophe> which asy
/opt/texbin/asy

christophe> find /opt/texbin/. -maxdepth 1 -type l -ls | grep asy
1710836      0 lrwxrwxrwx   1  root     root           38 ao?t 14  2014
/opt/texbin/./xasy -> ../../texmf-dist/asymptote/GUI/xasy.py

I have a readline library :

 christophe> ldconfig -p | grep readline
libreadline.so.7 (libc6,x86-64) => /usr/lib/libreadline.so.7
libreadline.so (libc6,x86-64) => /usr/lib/libreadline.so
libguilereadline-v-18.so.18 (libc6,x86-64) =>
/usr/lib/libguilereadline-v-18.so.18
libguilereadline-v-18.so (libc6,x86-64) => /usr/lib/libguilereadline-v-18.so

but I guess it is the wrong one (numbers following 'so.' indicates
version?).

What should I do to make asy work?

1) Get the right lib? Where?
2) Compile it on my own. Ok, but I guess I still need the right readline
lib? In addition, I'd like to install it as a "home" version inside my HOME
texmf directory (BTW I asked a question about it:
http://tex.stackexchange.com/q/347237/8425).
3) Install the archlinux package:
https://www.archlinux.org/packages/extra/x86_64/asymptote/. I guess it will
work but before I'll have to fake a texlive package installation (/a la/
equivs) since texlive-core is a dependency and I don't know (yet) how to do
it. So I'd rather go for an other solution.

Thanks for your help.

Best regards

-- 
Christophe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170117/d488e9d4/attachment-0001.html>

From nplatis at gmail.com  Tue Jan 17 10:25:30 2017
From: nplatis at gmail.com (Nikos Platis)
Date: Tue, 17 Jan 2017 11:25:30 +0200
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
In-Reply-To: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
References: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
Message-ID: <CACceKykVxc1+ewMa3stYL18484HdODxGunZTFzka_KS+n4GQfQ@mail.gmail.com>

I would go for solution 3. All you need to do is install package
'texlive-dummy' from AUR, and then you can install 'asymptote' from Arch
repos.


???? 17 ??? 2017 10:35 ?.?., ? ??????? "Christophe Jorssen" <
christophe.jorssen at gmail.com> ??????:

> Hello all,
>
> I installed a vanilla TeXLive 2016 on my new archlinux laptop (long story:
> as my laptop is a brand new one, I had to switch from debian stable to
> archlinux to make it (simply) work. No expert of archlinux here!).
>
> When I invoke asy, I get this:
>
> christophe> asy
> asy: error while loading shared libraries: libreadline.so.5: cannot open
> shared object file: No such file or directory
>
> This is asy coming with TeXLive 2016:
>
> christophe> which asy
> /opt/texbin/asy
>
> christophe> find /opt/texbin/. -maxdepth 1 -type l -ls | grep asy
> 1710836      0 lrwxrwxrwx   1  root     root           38 ao?t 14  2014
> /opt/texbin/./xasy -> ../../texmf-dist/asymptote/GUI/xasy.py
>
> I have a readline library :
>
>  christophe> ldconfig -p | grep readline
> libreadline.so.7 (libc6,x86-64) => /usr/lib/libreadline.so.7
> libreadline.so (libc6,x86-64) => /usr/lib/libreadline.so
> libguilereadline-v-18.so.18 (libc6,x86-64) => /usr/lib/libguilereadline-v-
> 18.so.18
> libguilereadline-v-18.so (libc6,x86-64) => /usr/lib/libguilereadline-v-
> 18.so
>
> but I guess it is the wrong one (numbers following 'so.' indicates
> version?).
>
> What should I do to make asy work?
>
> 1) Get the right lib? Where?
> 2) Compile it on my own. Ok, but I guess I still need the right readline
> lib? In addition, I'd like to install it as a "home" version inside my HOME
> texmf directory (BTW I asked a question about it:
> http://tex.stackexchange.com/q/347237/8425).
> 3) Install the archlinux package: https://www.
> archlinux.org/packages/extra/x86_64/asymptote/. I guess it will work but
> before I'll have to fake a texlive package installation (/a la/ equivs)
> since texlive-core is a dependency and I don't know (yet) how to do it. So
> I'd rather go for an other solution.
>
> Thanks for your help.
>
> Best regards
>
> --
> Christophe
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170117/524f94de/attachment.html>

From beebe at math.utah.edu  Tue Jan 17 16:06:12 2017
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 17 Jan 2017 08:06:12 -0700
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
In-Reply-To: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
Message-ID: <CMM.0.96.0.1484665572.beebe@gamma.math.utah.edu>

Christophe Jorssen <christophe.jorssen at gmail.com> reports about his
new ArchLinux laptop:

>> asy: error while loading shared libraries: libreadline.so.5: cannot open

You can find many alternative bin distributions for TeX Live 2016 at

	http://www.math.utah.edu/pub/texlive-utah/

The x86_64-linux-arch version of asy refers to libreadline.so.6, so I
checked all of the other x86_64-linux*/asy files, and found that they
need either libreadline.so.5 or libreadline.so.6.

ArchLinux uses a bleeding-edge rolling release model (as does Debian
unstable/testing, Fedora Rawhide, OpenSUSE Tumbleweed, TrueOS, and
Ubuntu RR), and regrettably, the distributors fail to understand that
once released, shared library versions need to be preserved, and not
deleted, because user code may be linked against them.

As a temporary fix, I suggest doing this on your system:

	sudo ln -s libreadline.so.7 /usr/lib/libreadline.so.6

That allows asy on my ArchLinux system to at least respond to
--version.  I've had to do similar things for -lreadline in the past
for other packages, so I suspect you'll then be just fine.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From zarniwhoop at ntlworld.com  Tue Jan 17 20:05:03 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Tue, 17 Jan 2017 19:05:03 +0000
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
In-Reply-To: <CMM.0.96.0.1484665572.beebe@gamma.math.utah.edu>
References: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
 <CMM.0.96.0.1484665572.beebe@gamma.math.utah.edu>
Message-ID: <20170117190503.GA6583@milliways.localdomain>

On Tue, Jan 17, 2017 at 08:06:12AM -0700, Nelson H. F. Beebe wrote:
> Christophe Jorssen <christophe.jorssen at gmail.com> reports about his
> new ArchLinux laptop:
> 
> >> asy: error while loading shared libraries: libreadline.so.5: cannot open
> 
> You can find many alternative bin distributions for TeX Live 2016 at
> 
> 	http://www.math.utah.edu/pub/texlive-utah/
> 
> The x86_64-linux-arch version of asy refers to libreadline.so.6, so I
> checked all of the other x86_64-linux*/asy files, and found that they
> need either libreadline.so.5 or libreadline.so.6.
> 
> ArchLinux uses a bleeding-edge rolling release model (as does Debian
> unstable/testing, Fedora Rawhide, OpenSUSE Tumbleweed, TrueOS, and
> Ubuntu RR), and regrettably, the distributors fail to understand that
> once released, shared library versions need to be preserved, and not
> deleted, because user code may be linked against them.
> 
> As a temporary fix, I suggest doing this on your system:
> 
> 	sudo ln -s libreadline.so.7 /usr/lib/libreadline.so.6
> 
> That allows asy on my ArchLinux system to at least respond to
> --version.  I've had to do similar things for -lreadline in the past
> for other packages, so I suspect you'll then be just fine.

In BLFS (beyond linuxfromscratch) we give instrutions to install the
old 5.2 for those using binary texlive.

http://www.linuxfromscratch.org/blfs/view/svn/pst/tl-installer.html

configure ; make ;

as root -

install -v -m755 shlib/libreadline.so.5.2 /usr/lib ;
ln -sv /usr/lib/libreadline.so.5{.2,}

(except that I didn't spell out the details, I just wrote that it
should be manually copied and symlinked).

That link is for the development sysv book, but the page should be
the same in our systemd development version (and in our 7.10
releases, unless there were any typos I've forgotten about).

?en
-- 
`I shall take my mountains', said Lu-Tze. `The climate will be good
for them.'     -- Small Gods

From hzmonte at hotmail.com  Tue Jan 17 19:16:17 2017
From: hzmonte at hotmail.com (hz hzmonte)
Date: Tue, 17 Jan 2017 18:16:17 +0000
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <1484661292799.89987@math.au.dk>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <1484661292799.89987@math.au.dk>
Message-ID: <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>

Bug in TexLive installer

I just downloaded the install-tl-windows.exe for Windows from https://www.tug.org/texlive/acquire-netinstall.html for my Win XP.  It has been a big hassle to install it.  I think at least part of the problems is that an outdated version of perl - perl522.dll (and maybe other files as well) was included in \install-tl-20170116\tlpkg\tlperl\bin.  The installer looked for perl524.dll - it said so explicitly in the error message!  After putting perl524.dll in \install-tl-20170116\tlpkg\tlperl\bin  I still got perl and wget problems. I don't know what else is wrong.


From leonid.sinev at gmail.com  Tue Jan 17 20:09:24 2017
From: leonid.sinev at gmail.com (Leonid Sinev)
Date: Tue, 17 Jan 2017 22:09:24 +0300
Subject: [tex-live] Problem with script converting gost package from CTAN to
 gost package of TeXLive
Message-ID: <CAHwQHeFYNaRyWjqMYh+Lzo+z3Jm7LybNbJvi1ZXFructmAHPzA@mail.gmail.com>

Greetings!
Why contents of gost.zip\gost\doc from CTAN does not convert to the same
file structure of gost.doc.tar.xz\doc\bibtex\gost\ of TeXLive?
Some script bug?
Files mixed, folder structure smashed.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170117/9489e902/attachment.html>

From zdenek.wagner at gmail.com  Tue Jan 17 23:04:43 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 17 Jan 2017 23:04:43 +0100
Subject: [tex-live] Problem with script converting gost package from
 CTAN to gost package of TeXLive
In-Reply-To: <CAHwQHeFYNaRyWjqMYh+Lzo+z3Jm7LybNbJvi1ZXFructmAHPzA@mail.gmail.com>
References: <CAHwQHeFYNaRyWjqMYh+Lzo+z3Jm7LybNbJvi1ZXFructmAHPzA@mail.gmail.com>
Message-ID: <CAC1phyZ23Fiphy_+16HZzg0Rd5fO=06Ysr4dnDyTPekyjySWPQ@mail.gmail.com>

2017-01-17 20:09 GMT+01:00 Leonid Sinev <leonid.sinev at gmail.com>:

> Greetings!
> Why contents of gost.zip\gost\doc from CTAN does not convert to the same
> file structure of gost.doc.tar.xz\doc\bibtex\gost\ of TeXLive?
> Some script bug?
> Files mixed, folder structure smashed.
>

TeX Live is a distro with its own infrastructure, its packages are prepared
for direct installation. CTAN's aim is to mak file easily browsable. In
addition, TeX Live is not the only TeX distro, there are others, so why
should be compatible with just one of them?

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170117/06c6da96/attachment-0001.html>

From siepo at cybercomm.nl  Tue Jan 17 23:22:47 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Tue, 17 Jan 2017 23:22:47 +0100
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <20170117222247.g7ayvc7efocgikbq@bitmuis.thuis.internal>

On Tue, Jan 17, 2017 at 06:16:17PM +0000, hz hzmonte wrote:
> Bug in TexLive installer
> 
> I just downloaded the install-tl-windows.exe for Windows from https://www.tug.org/texlive/acquire-netinstall.html for my Win XP.  It has been a big hassle to install it.  I think at least part of the problems is that an outdated version of perl - perl522.dll (and maybe other files as well) was included in \install-tl-20170116\tlpkg\tlperl\bin.  The installer looked for perl524.dll - it said so explicitly in the error message!  After putting perl524.dll in \install-tl-20170116\tlpkg\tlperl\bin  I still got perl and wget problems. I don't know what else is wrong.

I have no idea why the installer would look for Perl 5.24; it goes
out of its way to isolate the installation process from any
pre-installed Perl versions and just use the included perl, which is
indeed version 5.22.1.

Did you maybe unpack the installer and try to run the install-tl
perl script directly? This script in meant to be run from either
install-tl-windows.bat or from install-tl-advanced.bat. This second
batchfile just invokes the first one with an extra option.

It would help if you could include a screenshot of the error
message, or, better, copy-and-paste any text output into your mail.

-- 
Siep Kroonenberg

From karl at freefriends.org  Tue Jan 17 23:25:03 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 17 Jan 2017 22:25:03 GMT
Subject: [tex-live] Problem with script converting gost package from
 CTAN to gost package of TeXLive
In-Reply-To: <CAHwQHeFYNaRyWjqMYh+Lzo+z3Jm7LybNbJvi1ZXFructmAHPzA@mail.gmail.com>
Message-ID: <201701172225.v0HMP3vY024502@freefriends.org>

    Why contents of gost.zip\gost\doc from CTAN does not convert to the same
    file structure of gost.doc.tar.xz\doc\bibtex\gost\ of TeXLive?

I redid the import into TL to preserve the subdirectories under
doc/examples. Let me know if still problematic. Thanks for the report. -k

From preining at logic.at  Wed Jan 18 01:06:05 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 18 Jan 2017 09:06:05 +0900
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
In-Reply-To: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
References: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
Message-ID: <20170118000605.ncjeobcjfgabnbek@bulldog.preining.info>

Hi Christophe,

> christophe> asy
> asy: error while loading shared libraries: libreadline.so.5: cannot open
> shared object file: No such file or directory

Known problem. We are building the binaries for TL on rather old systems,
on purpose, and try to keep lib deps to a minimum, but that doesn't
work out always in the best way.

I guess we need to link readline statically, because without readline
it would be very uncomfortable to work with asy.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From beebe at math.utah.edu  Wed Jan 18 01:18:00 2017
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 17 Jan 2017 17:18:00 -0700
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
In-Reply-To: <20170118000605.ncjeobcjfgabnbek@bulldog.preining.info>
Message-ID: <CMM.0.96.0.1484698680.beebe@gamma.math.utah.edu>

Norbert Preining <preining at logic.at> writes on Wed, 18 Jan 2017 09:06:05 +0900
about the replaced libreadline.so version on ArchLinux:

>> I guess we need to link readline statically, because without readline
>> it would be very uncomfortable to work with asy.

I too thought of that, but ArchLinux and other rolling-release
distributions can replace libraries arbitrarily, deleting old
versions.  Here is the list of dependencies for asy on an Ubuntu 16.04
LTS system:

% ldd /usr/uumath/texlive/2016/bin/x86_64-linux/asy | awk '{print $1}' | sort -u | pr -c4 -w80 -f -t
/lib64/ld-linux-x86 libXfixes.so.3      libglut.so.3        libxcb-dri3.so.0
libGL.so.1          libXi.so.6          libm.so.6           libxcb-glx.so.0
libGLU.so.1         libXxf86vm.so.1     libncurses.so.5     libxcb-present.so.0
libX11-xcb.so.1     libc.so.6           libpthread.so.0     libxcb-sync.so.1
libX11.so.6         libdl.so.2          libreadline.so.5    libxcb.so.1
libXau.so.6         libdrm.so.2         librt.so.1          libxshmfence.so.1
libXdamage.so.1     libexpat.so.1       libstdc++.so.6      libz.so.1
libXdmcp.so.6       libgcc_s.so.1       libtinfo.so.5       linux-vdso.so.1
libXext.so.6        libglapi.so.0       libxcb-dri2.so.0

That is 35 different libraries, any of which could be replaced during
the year a given TeX Live YYYY release is likely to be in use.

Static linking of all libraries would (a) dramatically increase the
size of executables, and (b) not be possible for the many of them that
are available exclusively as shared libraries (*.so.*) instead of
static ones (*.a).

For the TeX Live 2017 effort that will soon be starting, I suppose
that I could augment the 100+ bin/*.tar.xz files at our Web site with
corresponding lib/*.tar.gz files containing the collection of shared
libraries needed by all of the executables.

However, that still might not solve the problem, because we have many
times seen kernel and/or glibc-version symbols embedded in shared
libraries that prevent their use on systems with older kernels or
older glibc installations.  However, it should at least supply missing
libraries for systems that have been upgraded to newer software
versions.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From preining at logic.at  Wed Jan 18 02:24:51 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 18 Jan 2017 10:24:51 +0900
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
In-Reply-To: <CMM.0.96.0.1484698680.beebe@gamma.math.utah.edu>
References: <20170118000605.ncjeobcjfgabnbek@bulldog.preining.info>
 <CMM.0.96.0.1484698680.beebe@gamma.math.utah.edu>
Message-ID: <20170118012451.qqx3ivl5b23lgn73@bulldog.preining.info>

Hi Nelson,

> That is 35 different libraries, any of which could be replaced during
> the year a given TeX Live YYYY release is likely to be in use.

I didn't suggest linking all libs statically, but only readline.
In the last 10+ years the other libs hardly created any problem,
while readline was also very stable for long time (version wise),
it has seen jumps recently.

> times seen kernel and/or glibc-version symbols embedded in shared
> libraries that prevent their use on systems with older kernels or

That is the reason we try to build on as old machines as possible.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From hzmonte at hotmail.com  Wed Jan 18 04:02:30 2017
From: hzmonte at hotmail.com (hz hzmonte)
Date: Wed, 18 Jan 2017 03:02:30 +0000
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <1484661292799.89987@math.au.dk>,
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>


I am not able to re-produce the perl524.dll error.  The behavior of install-tl-windows.bat is unable.  My first try this evening led to a command window as attached screenshot - "perl.exe encountered a problem".  My second try led me to the installation GUI before giving me "perl.exe encountered a problem". Subsequent tries led to the command window directly.  I already disabled my anti-virus program, by the way.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TexLiveBug1.jpg
Type: image/pjpeg
Size: 561716 bytes
Desc: TexLiveBug1.jpg
URL: <http://tug.org/pipermail/tex-live/attachments/20170118/5f3f1fc5/attachment-0001.bin>

From hzmonte at hotmail.com  Wed Jan 18 08:22:48 2017
From: hzmonte at hotmail.com (hz hzmonte)
Date: Wed, 18 Jan 2017 07:22:48 +0000
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <1484661292799.89987@math.au.dk>,
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>


Typo correction of the prev message: "unable" should be "unstable".
Also, I initially clicked on the install-tl-windows.exe file to do full/custom installation but failed.   It gave me a  "wget.exe has encountered a problem" error and the last part of the installation window showed "Extract: install-tl-20170116\inst_mod.bat  Starting the main installer:  ..."  So I unpacked the files instead and still got errors as mentioned in the prev message.

From jfbu at free.fr  Wed Jan 18 08:40:56 2017
From: jfbu at free.fr (jfbu)
Date: Wed, 18 Jan 2017 08:40:56 +0100
Subject: [tex-live] Linking etex with readline ? (was: TeXLive 2016
	asymptote on archlinux)
In-Reply-To: <20170118000605.ncjeobcjfgabnbek@bulldog.preining.info>
References: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
 <20170118000605.ncjeobcjfgabnbek@bulldog.preining.info>
Message-ID: <7A287444-5032-431A-8A75-D2754E21612F@free.fr>


Le 18 janv. 2017 ? 01:06, Norbert Preining <preining at logic.at> a ?crit :

> I guess we need to link readline statically, because without readline
> it would be very uncomfortable to work with asy.

Hi, new topic:

is it technically feasible to link pdftex with readline ?

My query is actually for etex, the latter being a symlink to pdftex,

Or perhaps have a rletex ? ? but RL will create confusion
due to Right to Left en Left to Right existing with other
meanings in the *TeX world.

I use rlwrap for comfort in worksheet sessions with etex
but sometimes forget about it and must kill the job and
start from scratch,

Best,

Jean-Fran?ois

From siepo at cybercomm.nl  Wed Jan 18 10:28:48 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 18 Jan 2017 10:28:48 +0100
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <20170118092848.dlv5srcsgikwks3c@bitmuis.thuis.internal>

On Wed, Jan 18, 2017 at 03:02:30AM +0000, hz hzmonte wrote:
> 
> I am not able to re-produce the perl524.dll error.  The behavior of install-tl-windows.bat is unable.  My first try this evening led to a command window as attached screenshot - "perl.exe encountered a problem".  My second try led me to the installation GUI before giving me "perl.exe encountered a problem". Subsequent tries led to the command window directly.  I already disabled my anti-virus program, by the way.

The problem MAY be with the graphical module of Perl. In that case,
you may have better luck with the text mode installer: in a command
prompt, go to the directory where you unpacked the installer, and
then type:

install-tl-windows.bat -gui text

If you get again the error window with `perl.exe has encountered a
problem' then click on `click here' and make another screenshot.
Sometimes it contains useful information.

Another two remarks:

1. Why did you unpack under c:\program files\TexLive? The place
where you unpack has nothing to do with the place where you install,
and picking the same place may lead to problems. And picking a
directory with spaces in its path may cause problems with some
third-party scripts.

2. The installer does not receive a lot of testing under XP any
more.

-- 
Siep Kroonenberg

From christophe.jorssen at gmail.com  Wed Jan 18 18:11:34 2017
From: christophe.jorssen at gmail.com (Christophe Jorssen)
Date: Wed, 18 Jan 2017 18:11:34 +0100
Subject: [tex-live] TeXLive 2016 asymptote on archlinux
In-Reply-To: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
References: <CAN1usO2Wd76z2gXjSoT++ZN5yR+uK2COOaLWvsxHr-BwVnjT7Q@mail.gmail.com>
Message-ID: <CAN1usO2d7RtS-xivGMvQz2wYBwGD4pygkJLnXnwJ1b+k+2cjXg@mail.gmail.com>

2017-01-17 9:34 GMT+01:00 Christophe Jorssen <christophe.jorssen at gmail.com>:

> Hello all,
>
> I installed a vanilla TeXLive 2016 on my new archlinux laptop (long story:
> as my laptop is a brand new one, I had to switch from debian stable to
> archlinux to make it (simply) work. No expert of archlinux here!).
>
> When I invoke asy, I get this:
>
> christophe> asy
> asy: error while loading shared libraries: libreadline.so.5: cannot open
> shared object file: No such file or directory
>
>
Thank you all for your answers.

Best regards.

-- 
Christophe
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170118/68555293/attachment.html>

From hzmonte at hotmail.com  Wed Jan 18 19:29:00 2017
From: hzmonte at hotmail.com (hz hzmonte)
Date: Wed, 18 Jan 2017 18:29:00 +0000
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <1484661292799.89987@math.au.dk>,
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>

This time I got the wget.exe error.  Attached is the screenshot.

The unpack location may have nothing to do with the instal location, but I just want to keep them together/close.  I saw no warning against doing that.  Neither did I see warning against picking a directory with spaces in its path; after all, it is expected that one would install a program in c:\program files.  
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TexLiveBug3.jpg
Type: image/pjpeg
Size: 683070 bytes
Desc: TexLiveBug3.jpg
URL: <http://tug.org/pipermail/tex-live/attachments/20170118/9d87f1c8/attachment-0001.bin>

From pablgonz at educarchile.cl  Wed Jan 18 20:14:34 2017
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Alfonso_Gonz=C3=A1lez_Luengo?=)
Date: Wed, 18 Jan 2017 16:14:34 -0300
Subject: [tex-live] update dvisvgm in texlive 2016 (windows version)
Message-ID: <CANeU4n-uv-XfkXrNn-=bBrX0NOgkOOC86i4csuMpWAf-1f8piQ@mail.gmail.com>

There is some plan to update the version of "dvisvgm" to 2.02 (windows
TexLive 2016)
Saludos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170118/6caf2dc3/attachment.html>

From h.y.acetaminophen at gmail.com  Wed Jan 18 20:29:36 2017
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Thu, 19 Jan 2017 04:29:36 +0900
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <B9A32533-8DCB-4B47-A97C-51020E65DA9E@gmail.com>

hello,

2017/01/19 3:29, hz hzmonte <hzmonte at hotmail.com>:
> 
> The unpack location may have nothing to do with the instal location,
> but I just want to keep them together/close.  I saw no warning against
> doing that.  Neither did I see warning against picking a directory with
> spaces in its path; after all, it is expected that one would install a
> program in c:\program files.  

In my humble opinion, both the unpack location and the install location
should not contain spaces. Of course no warning would be thrown by
the installer itself even when the path contains spaces, but it's simply
because such usage is not considered; that means, unsupported. It
may or may not work, nobody knows. Why not try with space-free
paths? And, It would be more helpful to know that some programs in
TeX Live will fail to run when it is installed under c:\program files\etc,
as individual authors of each program may or may not support spaces
in file paths.

Also, the installer itself will become mere trash after successful install;
there is no reason to keep them together/closer.

Hironobu Yamashita

From d.p.carlisle at gmail.com  Wed Jan 18 20:47:40 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 18 Jan 2017 19:47:40 +0000
Subject: [tex-live] misplaced file in pgf-spectra package
Message-ID: <CAEW6iOgozz08-jn-Dw4Wu8NR_GFqP95amBNSZwPRDY8rfosLkQ@mail.gmail.com>

Hi

texlive/2016/texmf-dist/tex/latex/pgf-spectra/pgf-spectra.sty

ends with

\input{spectra.data.tex}

which generates a missing file error if the package is used, the data file
is on ctan but it's misplaced in texlive as

texlive/2016/texmf-dist/doc/latex/pgf-spectra/spectra.data.tex

It should be in the tex tree not doc,

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170118/c0707632/attachment.html>

From hzmonte at hotmail.com  Wed Jan 18 20:54:50 2017
From: hzmonte at hotmail.com (hz hzmonte)
Date: Wed, 18 Jan 2017 19:54:50 +0000
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <1484661292799.89987@math.au.dk>,
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <BLUPR16MB02589C6EE5FC4E0415F36707A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>

When I said warning, I had the installation instructions, i.e., https://www.tug.org/texlive/windows.html, in mind.   If it is true that there should be no spaces in the path, then I think the developers should definitely document that in the instructions.

And I think reasonable software engineering practices should also make sure things work even when someone thinks "there is no reason to keep [some files] together/closer."  Whereas someone thinks there is no reason to do something, someone else thinks there is very good reason to do the same thing.  And I am not going to argue here whether there is indeed reason to put the unpack and install locations under the same parent directory.  If merely doing so would break the installer, then I have to say that there is room for improvement.

From kakuto at fuk.kindai.ac.jp  Wed Jan 18 21:57:38 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 19 Jan 2017 05:57:38 +0900
Subject: [tex-live] update dvisvgm in texlive 2016 (windows version)
In-Reply-To: <CANeU4n-uv-XfkXrNn-=bBrX0NOgkOOC86i4csuMpWAf-1f8piQ@mail.gmail.com>
References: <CANeU4n-uv-XfkXrNn-=bBrX0NOgkOOC86i4csuMpWAf-1f8piQ@mail.gmail.com>
Message-ID: <F05D506F981C4C6F8F84787BEA9413F9@CJ3001517A>

> There is some plan to update the version of "dvisvgm" to 2.02 (windows TexLive 2016)

I had built the Windows binary of dvisvgm 2.0.4,
and it will be in the next TeX Live 2017.
Interested users can find the binary in
CTAN/systems/win32/w32tex/dvitools-w32.tar.xz.
Note:
dvisvgm.exe can be replaced with the old one in bin/win32 in TL2016.
However don't copy other files, because they are incompatible with TL2016.

Best,
Akira


From karl at freefriends.org  Wed Jan 18 23:26:09 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 18 Jan 2017 22:26:09 GMT
Subject: [tex-live] misplaced file in pgf-spectra package
In-Reply-To: <CAEW6iOgozz08-jn-Dw4Wu8NR_GFqP95amBNSZwPRDY8rfosLkQ@mail.gmail.com>
Message-ID: <201701182226.v0IMQ9e1006588@freefriends.org>

    texlive/2016/texmf-dist/doc/latex/pgf-spectra/spectra.data.tex
    It should be in the tex tree not doc,

Thanks, fixed for tonight's update. -k

From karl at freefriends.org  Wed Jan 18 23:26:11 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 18 Jan 2017 22:26:11 GMT
Subject: [tex-live] update dvisvgm in texlive 2016 (windows version)
In-Reply-To: <CANeU4n-uv-XfkXrNn-=bBrX0NOgkOOC86i4csuMpWAf-1f8piQ@mail.gmail.com>
Message-ID: <201701182226.v0IMQBPB006604@freefriends.org>

    There is some plan to update the version of "dvisvgm" to 2.02 (windows
    TexLive 2016)

The TeX Live binaries (as opposed to Akira's w32tex binaries) will not
be updated until the 2017 release. -k

From siepo at cybercomm.nl  Wed Jan 18 23:35:17 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 18 Jan 2017 23:35:17 +0100
Subject: [tex-live] Disregard, just testing...
Message-ID: <20170118223517.qvbn6wg4nqrenrsm@bitmuis.thuis.internal>

-- 
Siep Kroonenberg

From siepo at cybercomm.nl  Wed Jan 18 23:42:48 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 18 Jan 2017 23:42:48 +0100
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB02589C6EE5FC4E0415F36707A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02589C6EE5FC4E0415F36707A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <20170118224248.ps4cpgirzf7yi6ek@bitmuis.thuis.internal>

On Wed, Jan 18, 2017 at 07:54:50PM +0000, hz hzmonte wrote:

Thanks for the new screenshot. I saw, among other things:

Can't spawn
"C:\PROGRA~1\TeXLive\install-tl-20170116\installer\wget\wget.exe":
Inappropriate I/O operation at ... TLUtils.pm line 2473.

and later:

...install-tl: open tlpdf(.../texlive.tlpdb) failed:
Permission denied at ...TLPDB.pm line 359.

Further down Error removing... and cannot unlink ... but these may
just be warnings. It happens all the time that Windows cannot delete
something for no good reason.

Anyhow, it should be worth a try to run the installer from outside
Program Files, especially because, even on XP, this directory has
somewhat restrictive permissions.

> When I said warning, I had the installation instructions, i.e.,
https://www.tug.org/texlive/windows.html, in mind.   If it is true
that there should be no spaces in the path, then I think the
developers should definitely document that in the instructions.

If spaces in the path cause trouble, then we would consider that a
bug which we need to fix. But we can make no promises about
third-party scripts.

> And I think reasonable software engineering practices should also
make sure things work even when someone thinks "there is no reason
to keep [some files] together/closer."  Whereas someone thinks there
is no reason to do something, someone else thinks there is very good
reason to do the same thing.  And I am not going to argue here
whether there is indeed reason to put the unpack and install
locations under the same parent directory.  If merely doing so would
break the installer, then I have to say that there is room for
improvement.

I am just trying to suggest things which may give you a better
chance of success.  We cannot possibly test every possible scenario.
Going with the defaults is the safe course.

-- 
Siep Kroonenberg


From karl at freefriends.org  Thu Jan 19 00:48:12 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 18 Jan 2017 23:48:12 GMT
Subject: [tex-live] Linking etex with readline ? (was: TeXLive
	2016	asymptote on archlinux)
In-Reply-To: <7A287444-5032-431A-8A75-D2754E21612F@free.fr>
Message-ID: <201701182348.v0INmCKx010792@freefriends.org>

    is it technically feasible to link pdftex with readline ?

It's technically *possible*, of course, but no, I wouldn't call it
"feasible".  It would create a nontrivial and problematic dependency (as
we've just been discussing in another thread), while benefitting
extremely few users. So, sorry, but no. -k

From reinhard.kotucha at web.de  Thu Jan 19 03:53:03 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 19 Jan 2017 03:53:03 +0100
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <22656.10767.603039.342792@zaphod.ms25.net>

On 2017-01-18 at 18:29:00 +0000, hz hzmonte wrote:

 > The unpack location may have nothing to do with the instal
 > location, but I just want to keep them together/close.

As Hironobu already pointed out, there is no need to keep the network
installer at all.  It's better to remove it after a successful
installation.

You can keep the directory trees of the network installer and the TeX
Live installation as close together as you want.  But you should never
install TeX Live within the directory tree of the network installer.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From hzmonte at hotmail.com  Thu Jan 19 05:55:48 2017
From: hzmonte at hotmail.com (hz hzmonte)
Date: Thu, 19 Jan 2017 04:55:48 +0000
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <22656.10767.603039.342792@zaphod.ms25.net>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <22656.10767.603039.342792@zaphod.ms25.net>
Message-ID: <BLUPR16MB0258E22C99CBFD218C7EBF6CA07E0@BLUPR16MB0258.namprd16.prod.outlook.com>

Putting the instal folder directly under C: still yielded a "perl.exe encountered a problem" error.

It is moot to discuss now whether there is need to keep the installer, as the installtion has not succeeded.  
________________________________________
As Hironobu already pointed out, there is no need to keep the network
installer at all.  It's better to remove it after a successful
installation.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TexLiveBug4.jpg
Type: image/pjpeg
Size: 610526 bytes
Desc: TexLiveBug4.jpg
URL: <http://tug.org/pipermail/tex-live/attachments/20170119/c5936a20/attachment-0001.bin>

From zdenek.wagner at gmail.com  Thu Jan 19 08:55:18 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 19 Jan 2017 08:55:18 +0100
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <BLUPR16MB0258E22C99CBFD218C7EBF6CA07E0@BLUPR16MB0258.namprd16.prod.outlook.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <22656.10767.603039.342792@zaphod.ms25.net>
 <BLUPR16MB0258E22C99CBFD218C7EBF6CA07E0@BLUPR16MB0258.namprd16.prod.outlook.com>
Message-ID: <CAC1phya0i1kPW3ORp0CgkRxN08YbkH3_B0TcUDHAK3Oa4gkWaA@mail.gmail.com>

Do you have "Home" ediotion, or "Professional"? In the Home edition
permissions cannot be set so everything is usable while in the Professional
edition C:\ is not writable for normal users. I rarely install TeX Live in
Windows but when doing it I follow the same procedure as on Linux. I create
C:\texlive and make it writable for the user who will install and maintain
TL. Then I unpack the installer into this directory, run it and install to
C:\texlive\YYYY where YYYY is the year of the distro. I often keep the
installer because I am lazy to delete it and my disks are large enough.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-19 5:55 GMT+01:00 hz hzmonte <hzmonte at hotmail.com>:

> Putting the instal folder directly under C: still yielded a "perl.exe
> encountered a problem" error.
>
> It is moot to discuss now whether there is need to keep the installer, as
> the installtion has not succeeded.
> ________________________________________
> As Hironobu already pointed out, there is no need to keep the network
> installer at all.  It's better to remove it after a successful
> installation.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170119/2ddfca0e/attachment.html>

From michael.liepelt at t-online.de  Thu Jan 19 19:46:07 2017
From: michael.liepelt at t-online.de (Michael Liepelt)
Date: Thu, 19 Jan 2017 19:46:07 +0100
Subject: [tex-live] Baroque Initials
Message-ID: <5881096F.20503@t-online.de>

Hello TeX Live team,

I wanted to compile the "Baroque Initials" example on

http://www.tug.dk/FontCatalogue/baroqueinitials/

with TeX Live 2016, but I get the following error message:

kpathsea: Running mktextfm yinitas
mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1;
nonstopmode; input yinitas
This is METAFONT, Version 2.7182818 (TeX Live 2016) (preloaded base=mf)


kpathsea: Running mktexmf yinitas
! I can't find file `yinitas'.
<*> ...=ljfour; mag:=1; nonstopmode; input yinitas
                                                 
Please type another input file name
! Emergency stop.
<*> ...=ljfour; mag:=1; nonstopmode; input yinitas
                                                 
Transcript written on mfput.log.
grep: yinitas.log: No such file or directory
mktextfm: `mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode;
input yinitas' failed to make yinitas.tfm.
kpathsea: Appending font creation commands to missfont.log.

! Font U/yinitas/m/n/10.95=yinitas at 42.34pt not loadable: Metric (TFM)
file n
ot found.
<to be read again>
                   relax
l.16 \normalfont\initfamily


Kind regards
Michael


From Herbert.Voss at FU-Berlin.DE  Thu Jan 19 20:37:54 2017
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Thu, 19 Jan 2017 20:37:54 +0100
Subject: [tex-live] Baroque Initials
In-Reply-To: <5881096F.20503@t-online.de>
References: <5881096F.20503@t-online.de>
Message-ID: <7a86ecb2-8cf8-d9d9-6090-c8943c991b63@FU-Berlin.DE>

Am 19.01.2017 um 19:46 schrieb Michael Liepelt:

> I wanted to compile the "Baroque Initials" example on
>
> http://www.tug.dk/FontCatalogue/baroqueinitials/
>
> with TeX Live 2016, but I get the following error message:

you have to install the mf and tfm files from

http://www.ctan.org/tex-archive/fonts/gothic/yinit

Herbert


>
> kpathsea: Running mktextfm yinitas
> mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1;
> nonstopmode; input yinitas
> This is METAFONT, Version 2.7182818 (TeX Live 2016) (preloaded base=mf)
>
>
> kpathsea: Running mktexmf yinitas
> ! I can't find file `yinitas'.
> <*> ...=ljfour; mag:=1; nonstopmode; input yinitas
>
> Please type another input file name
> ! Emergency stop.
> <*> ...=ljfour; mag:=1; nonstopmode; input yinitas
>
> Transcript written on mfput.log.
> grep: yinitas.log: No such file or directory
> mktextfm: `mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode;
> input yinitas' failed to make yinitas.tfm.
> kpathsea: Appending font creation commands to missfont.log.
>
> ! Font U/yinitas/m/n/10.95=yinitas at 42.34pt not loadable: Metric (TFM)
> file n
> ot found.
> <to be read again>
>                    relax
> l.16 \normalfont\initfamily
>
>
> Kind regards
> Michael
>


From elie.roux at telecom-bretagne.eu  Thu Jan 19 21:24:01 2017
From: elie.roux at telecom-bretagne.eu (=?UTF-8?Q?=c3=89lie_Roux?=)
Date: Thu, 19 Jan 2017 21:24:01 +0100
Subject: [tex-live] Baroque Initials
In-Reply-To: <7a86ecb2-8cf8-d9d9-6090-c8943c991b63@FU-Berlin.DE>
References: <5881096F.20503@t-online.de>
 <7a86ecb2-8cf8-d9d9-6090-c8943c991b63@FU-Berlin.DE>
Message-ID: <8fd1573e-4559-59d8-748e-7993f77c3d40@telecom-bretagne.eu>

> you have to install the mf and tfm files from
> 
> http://www.ctan.org/tex-archive/fonts/gothic/yinit

Or if you're using LuaTeX or XeTeX,

https://www.ctan.org/pkg/yinit-otf

is certainly the easiest way...

Thank you,
-- 
Elie

From hzmonte at hotmail.com  Fri Jan 20 03:04:08 2017
From: hzmonte at hotmail.com (hz hzmonte)
Date: Fri, 20 Jan 2017 02:04:08 +0000
Subject: [tex-live] Bug in TexLive installer
In-Reply-To: <CAC1phya0i1kPW3ORp0CgkRxN08YbkH3_B0TcUDHAK3Oa4gkWaA@mail.gmail.com>
References: <BLUPR16MB02584B0BA125643B02036D09A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <1484661292799.89987@math.au.dk>
 <BLUPR16MB0258AF1B54227A226878B1A4A07C0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB0258D2918C4C625FF4C319C7A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02583FFA5DC713D951C2F181A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <BLUPR16MB02589011221179CF20C8B043A07F0@BLUPR16MB0258.namprd16.prod.outlook.com>
 <22656.10767.603039.342792@zaphod.ms25.net>
 <BLUPR16MB0258E22C99CBFD218C7EBF6CA07E0@BLUPR16MB0258.namprd16.prod.outlook.com>,
 <CAC1phya0i1kPW3ORp0CgkRxN08YbkH3_B0TcUDHAK3Oa4gkWaA@mail.gmail.com>
Message-ID: <BLUPR16MB025870E228443EA284C97517A0710@BLUPR16MB0258.namprd16.prod.outlook.com>

I am using WinXP Pro.  I am using an account of the Administrator type; and it is the only account I set up.
________________________________________
From: Zdenek Wagner [zdenek.wagner at gmail.com]
Do you have "Home" ediotion, or "Professional"? In the Home edition permissions cannot be set so everything is usable while in the Professional edition C:\ is not writable for normal users. 

From Rolf.Niepraschk at gmx.de  Sat Jan 21 13:28:23 2017
From: Rolf.Niepraschk at gmx.de (Rolf Niepraschk)
Date: Sat, 21 Jan 2017 13:28:23 +0100
Subject: [tex-live] wrong place for "nodetree.tex" and "nodetree.lua"
Message-ID: <bc7a0059-b722-95e3-2939-088750d109c3@gmx.de>

The LaTeX package "nodetree.sty" inputs the file "nodetree.tex" but 
can't find this file because its locate at the wrong place:

   texmf-dist/doc/luatex/nodetree/nodetree.tex

"nodetree.lua" is also misplaced.

...Rolf



From karl at freefriends.org  Sun Jan 22 00:13:04 2017
From: karl at freefriends.org (Karl Berry)
Date: Sat, 21 Jan 2017 23:13:04 GMT
Subject: [tex-live] wrong place for "nodetree.tex" and "nodetree.lua"
In-Reply-To: <bc7a0059-b722-95e3-2939-088750d109c3@gmx.de>
Message-ID: <201701212313.v0LND4SP028050@freefriends.org>

       texmf-dist/doc/luatex/nodetree/nodetree.tex
    "nodetree.lua" is also misplaced.

Thanks Rolf. Fixed for tonight. -k

From vivrii at gmail.com  Sun Jan 22 13:30:18 2017
From: vivrii at gmail.com (Victor Ivrii)
Date: Sun, 22 Jan 2017 07:30:18 -0500
Subject: [tex-live] oplotsymbl documentation
Message-ID: <CADP=ZZrQP69vAGyVvdUsz8dO6_95_CvCOYAG9UvxCUfXV9WUvA@mail.gmail.com>

In the new package "oplotsymbl" pdf-documentation oPlotSymbl-Manual-en.pdf
seems to be either missing or completely misplaced (it is present on CTAN
and mentioned in README.texlive)

-- 

Victor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170122/4ffceafd/attachment.html>

From paulo at berkeley.edu  Sun Jan 22 19:45:35 2017
From: paulo at berkeley.edu (Paulo Ney DE SOUZA)
Date: Sun, 22 Jan 2017 10:45:35 -0800
Subject: [tex-live] Debian TeXLive messing up TL 2016.
Message-ID: <CAOGegRSdCvur0Hk2jRbgnt8JzmvzLNQB=eDbs1cM5cWBsWQVkw@mail.gmail.com>

What is the best strategy to follow when Debian/Ubuntu TL installation
messes up one standard TL installation. Here is an example:

If you install TL'16 and all of a sudden need one of the LaTeX to HTML
translators (HeVeA, Tralics, LaTeX2HTML, ...) most of them are not part of
TL'16, but Ubuntu prompt happily inform you that they are available from
the repositories.

At that point if you execute:

    apt-get install latex2html

AND you have a personal (local) texmf tree, it will install 1.2 Gig of
Ubuntu TL on your machine and it will install a 20-year old version of
"url.sty" on your local texmf tree that will take precedence of the
standard url.sty from TL'16 and will mess just about everything in your
installation including Biblatex.

At that point executing

    apt-get remove latex2html

you will get the surprise that it will remove only 5 Megabytes of stuff and
you are left with a non-working TL installation.

What is the best strategy here - to start with a fresh install ?

Paulo Ney de Souza
UC Berkeley
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170122/92f264e2/attachment.html>

From paulo at berkeley.edu  Sun Jan 22 20:05:12 2017
From: paulo at berkeley.edu (Paulo Ney DE SOUZA)
Date: Sun, 22 Jan 2017 11:05:12 -0800
Subject: [tex-live] Debian TeXLive messing up TL 2016
Message-ID: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>

What is the best strategy to follow when Debian/Ubuntu TL installation
messes up ones standard TL installation. Here is an example:

If you install TL'16 and all of a sudden need one of the LaTeX to HTML
translators (HeVeA, Tralics, LaTeX2HTML, ...) most of them are not part of
TL'16, but Ubuntu prompt happily inform you that they are available from
the repositories.

At that point if you execute:

    apt-get install latex2html

AND you have a personal (local) texmf tree, it will install 1.2 Gig of
Ubuntu TL on your machine and it will install a 20-year old version of
"url.sty" on your local texmf tree that will take precedence of the
standard url.sty from TL'16 and will mess just about everything in your
installation including Biblatex.

At that point executing

    apt-get remove latex2html

you will get the surprise that it will remove only 5 Megabytes of stuff and
you are left with a non-working TL installation.

What is the best strategy here - to start with a fresh install ?

Paulo Ney de Souza
UC Berkeley
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170122/d6957122/attachment.html>

From rpspringuel at gmail.com  Sun Jan 22 20:12:49 2017
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Sun, 22 Jan 2017 14:12:49 -0500
Subject: [tex-live] Debian TeXLive messing up TL 2016
In-Reply-To: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
References: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
Message-ID: <d0d6edf9-daae-d403-c868-390827f683ba@gmail.com>

First, to get rid of the stuff that was installed as a dependency of 
latex2html (which has now been removed), use `apt-get autoremove`.  This 
should remove the packaged version of TeX (and any other packages which 
were installed as dependencies of a package which has been uninstalled) 
and get your TeXLive installation back in working order.

Once that's done, follow the instructions on the following page to make 
apt-get aware of the TeXLive 2016 installation that you already have:

https://www.tug.org/texlive/debian.html


Once that is done, you should be able to install latex2html without 
apt-get trying to install the TeX version in the repositories.
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From martin at oneiros.de  Sun Jan 22 20:13:43 2017
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Sun, 22 Jan 2017 20:13:43 +0100
Subject: [tex-live] Debian TeXLive messing up TL 2016
In-Reply-To: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
References: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
Message-ID: <CAP7DCDeBEmP3zMVSH1v_khGP5JpS_y7wou47RKxyFyBOpw612A@mail.gmail.com>

2017-01-22 20:05 GMT+01:00 Paulo Ney DE SOUZA <paulo at berkeley.edu>:
> What is the best strategy to follow when Debian/Ubuntu TL installation messes up ones standard TL installation. Here is an example:

See https://www.tug.org/texlive/debian.html

Best
   Martin

From karl at freefriends.org  Sun Jan 22 23:58:27 2017
From: karl at freefriends.org (Karl Berry)
Date: Sun, 22 Jan 2017 22:58:27 GMT
Subject: [tex-live] oplotsymbl documentation
In-Reply-To: <CADP=ZZrQP69vAGyVvdUsz8dO6_95_CvCOYAG9UvxCUfXV9WUvA@mail.gmail.com>
Message-ID: <201701222258.v0MMwRHC000915@freefriends.org>

    seems to be either missing or completely misplaced (it is present on CTAN
    and mentioned in README.texlive)

Hi Victor - well, the fact that README.TEXLIVE was created is a clue
that this was intentional. The source to the .pdf was not included in
the package (so far as I could see), therefore I had to omit it.

If you have the time/energy to contact the package author(s) and ask
them to release the doc sources as well, that would be great. -k


From bernhard.kleine at gmx.net  Mon Jan 23 09:15:54 2017
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Mon, 23 Jan 2017 09:15:54 +0100
Subject: [tex-live] oplotsymbl documentation
In-Reply-To: <201701222258.v0MMwRHC000915@freefriends.org>
References: <201701222258.v0MMwRHC000915@freefriends.org>
Message-ID: <f2fd6c04-40ec-9725-690f-5778678a8b3d@gmx.net>



Am 22.01.2017 um 23:58 schrieb Karl Berry:
>     seems to be either missing or completely misplaced (it is present on CTAN
>     and mentioned in README.texlive)
>
> Hi Victor - well, the fact that README.TEXLIVE was created is a clue
> that this was intentional. The source to the .pdf was not included in
> the package (so far as I could see), therefore I had to omit it.
Hi Karl,
that is strange, since I have seen the pdf on the CTAN website when I
looked for the package.
Regards Bernhard

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


From usenet at siart.de  Mon Jan 23 09:57:27 2017
From: usenet at siart.de (Uwe Siart)
Date: Mon, 23 Jan 2017 09:57:27 +0100
Subject: [tex-live] oplotsymbl documentation
References: <201701222258.v0MMwRHC000915@freefriends.org>
 <f2fd6c04-40ec-9725-690f-5778678a8b3d@gmx.net>
Message-ID: <844m0q2lxk.fsf@siart.de>

Bernhard Kleine <bernhard.kleine at gmx.net> writes:

> that is strange, since I have seen the pdf on the CTAN website when I
> looked for the package.

The issue is that the  s o u r c e  is missing.

-- 
Uwe


From jfbu at free.fr  Mon Jan 23 11:01:34 2017
From: jfbu at free.fr (jfbu)
Date: Mon, 23 Jan 2017 11:01:34 +0100
Subject: [tex-live] latexbug
Message-ID: <99CD6959-AD54-44C7-90A2-32840BBD782F@free.fr>

Hi, 

I want to report a bug to LaTeX using brand new latexbug,
but texdoc latexbug finds nothing so far and doing next:

texmf-dist$ find . -name 'latexbug.*'
./tex/latex/base/latexbug.tex

but

http://www.ctan.org/pkg/latexbug

does has pdf and dtx file

Best

Jean-Fran?ois

From joseph.wright at morningstar2.co.uk  Mon Jan 23 11:06:16 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 23 Jan 2017 10:06:16 +0000
Subject: [tex-live] cslatex?
Message-ID: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>

Hello all,

On the automated test set up for LaTeX3 code, we've got a failure at the
format-building stage due to trying (and failing) to make cslatex. (The
installation is minimised so currently lacks the relevant TeX Live package.)

Before I work back through everything here, does anyone know if the
packaging or set up fro fmtutil was altered recently for cslatex (by
'recently' I mean since TL'16 was released)?

Joseph

From jfbu at free.fr  Mon Jan 23 11:08:49 2017
From: jfbu at free.fr (jfbu)
Date: Mon, 23 Jan 2017 11:08:49 +0100
Subject: [tex-live] latexbug
In-Reply-To: <99CD6959-AD54-44C7-90A2-32840BBD782F@free.fr>
References: <99CD6959-AD54-44C7-90A2-32840BBD782F@free.fr>
Message-ID: <5BE9085C-05BC-45C1-960B-A98F759CBE25@free.fr>


Le 23 janv. 2017 ? 11:01, jfbu <jfbu at free.fr> a ?crit :

> Hi, 
> 
> I want to report a bug to LaTeX using brand new latexbug,
> but texdoc latexbug finds nothing so far and doing next:
> 
> texmf-dist$ find . -name 'latexbug.*'
> ./tex/latex/base/latexbug.tex
> 
> but
> 
> http://www.ctan.org/pkg/latexbug
> 
> does has pdf and dtx file
> 
> Best
> 
> Jean-Fran?ois

by the way, fetching it manually

ERROR: Package latexbug Error: Third-party file(s)

--- TeX said ---
(latexbug)                
(latexbug)                This test file uses third-party file(s)
(latexbug)                
(latexbug)                ==============
(latexbug)                fontspec.sty
(latexbug)                ==============
(latexbug)                
(latexbug)                So you should contact the authors
(latexbug)                of these files, not the LaTeX Team!
(latexbug)                (Or remove the packages that load
(latexbug)                them, if they are not necessary to
(latexbug)                exhibit the problem).
(latexbug)                
(latexbug)                If you think the bug is in core LaTeX
(latexbug)                (as maintained by the LaTeX Team) but
(latexbug)                these files are needed to demonstrate
(latexbug)                the problem, please continue and mention
(latexbug)                this explicitly in your bug report.

See the latexbug package documentation for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.7 \begin{document}
                  
--- HELP ---
>From the .log file...

Please correct your test file prior to submitting the bug report.
Otherwise it is likely to be rejected!

but isn't fontspec handled by LaTeX team also, it was bundled
with last update ?

sorry for cross-posting, as you know bug reporting is 
extremely time-consuming

best,

Jean-Fran?ois

From zdenek.wagner at gmail.com  Mon Jan 23 11:14:31 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 23 Jan 2017 11:14:31 +0100
Subject: [tex-live] cslatex?
In-Reply-To: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
References: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
Message-ID: <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>

The maintainer of cslatex is Petr Ol??k (cc), he should be informed about
any problems. He probably reads this list but I am not sure. Maybe Petr
does not know the TL infrastructure, anyway I am ready to help with it.
AFAIK there should be no change. We declared cslatex obsolete and not
recommended for new documents but there are still to many documents relying
upon it so we should not remove it for compatibility reasons.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-23 11:06 GMT+01:00 Joseph Wright <joseph.wright at morningstar2.co.uk>:

> Hello all,
>
> On the automated test set up for LaTeX3 code, we've got a failure at the
> format-building stage due to trying (and failing) to make cslatex. (The
> installation is minimised so currently lacks the relevant TeX Live
> package.)
>
> Before I work back through everything here, does anyone know if the
> packaging or set up fro fmtutil was altered recently for cslatex (by
> 'recently' I mean since TL'16 was released)?
>
> Joseph
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170123/104050f7/attachment.html>

From d.p.carlisle at gmail.com  Mon Jan 23 11:15:48 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 23 Jan 2017 10:15:48 +0000
Subject: [tex-live] latexbug
In-Reply-To: <5BE9085C-05BC-45C1-960B-A98F759CBE25@free.fr>
References: <99CD6959-AD54-44C7-90A2-32840BBD782F@free.fr>
 <5BE9085C-05BC-45C1-960B-A98F759CBE25@free.fr>
Message-ID: <CAEW6iOh67uYKzw1LjqjarRKoggH307Y-qDAhX3vs2hfwkrLOSg@mail.gmail.com>

> but isn't fontspec handled by LaTeX team also, it was bundled
> with last update ?

No it's handled outside of the team by someone who is a team member.
You get the same for example for my packages like colortbl or Joseph's
siunitx.

fontspec issues should go to the github issue tracker

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170123/1a612593/attachment.html>

From joseph.wright at morningstar2.co.uk  Mon Jan 23 11:18:15 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 23 Jan 2017 10:18:15 +0000
Subject: [tex-live] cslatex?
In-Reply-To: <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>
References: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
 <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>
Message-ID: <5613580d-9613-774c-42df-1feaa6de83f2@morningstar2.co.uk>

On 23/01/2017 10:14, Zdenek Wagner wrote:
> The maintainer of cslatex is Petr Ol??k (cc), he should be informed about
> any problems. He probably reads this list but I am not sure. Maybe Petr
> does not know the TL infrastructure, anyway I am ready to help with it.
> AFAIK there should be no change. We declared cslatex obsolete and not
> recommended for new documents but there are still to many documents relying
> upon it so we should not remove it for compatibility reasons.

Hi Zden?k,

I doubt it's a change in cslatex itself, rather in how it's set up in
TeX Live. Something must have altered somewhere as our minimised system
has never bothered about cslatex and we've now got an error. I can track
it down but thought I'd ask first!

Joseph


From jfbu at free.fr  Mon Jan 23 11:44:06 2017
From: jfbu at free.fr (jfbu)
Date: Mon, 23 Jan 2017 11:44:06 +0100
Subject: [tex-live] latexbug
In-Reply-To: <CAEW6iOh67uYKzw1LjqjarRKoggH307Y-qDAhX3vs2hfwkrLOSg@mail.gmail.com>
References: <99CD6959-AD54-44C7-90A2-32840BBD782F@free.fr>
 <5BE9085C-05BC-45C1-960B-A98F759CBE25@free.fr>
 <CAEW6iOh67uYKzw1LjqjarRKoggH307Y-qDAhX3vs2hfwkrLOSg@mail.gmail.com>
Message-ID: <AD5374D2-D238-4AAC-8119-7DB6B8C47D4C@free.fr>


Le 23 janv. 2017 ? 11:15, David Carlisle <d.p.carlisle at gmail.com> a ?crit :

> 
> > but isn't fontspec handled by LaTeX team also, it was bundled
> > with last update ?
> 
> No it's handled outside of the team by someone who is a team member.
> You get the same for example for my packages like colortbl or Joseph's
> siunitx.
> 
> fontspec issues should go to the github issue tracker
> 
> David
> 

Hi David

 to TeXLive list: sorry for bringing this somewhat off-topic thing,
on top of initial one which was simply that for whatever reason
my TeXLive update this morning did not bring me the latexbug

to wrap it up, turns out my issue is not caused by fontspec indeed
but it was extremely natural for me to use fontspec in the test file
for its \setmainfont, and it is related to the synchronized switch
 to TU encoding by default in fontspec and in the latex formats
for the Unicode engines. Hence the somewhat strange feeling
I got when seeing latexbug complain about fontspec.

But I do understand the underlying logic and that fontspec
is handled outside and that generally speaking issues with
it should be reported on its github tracker.

going back to TeXLive issue

I had launched tlmgr info latexbug a while ago but it
hanged for a very long time while 
I was exchanging messages on github latexbug's page, now
I see this output

$ tlmgr info latexbug
tlmgr: package repository http://distrib-coffee.ipsl.jussieu.fr/pub/mirrors/ctan/systems/texlive/tlnet (verified)
tlmgr: cannot find package latexbug, searching for other matches:

Packages containing `latexbug' in their title/description:

Packages containing files matching `latexbug':
latex:
	texmf-dist/tex/latex/base/latexbug.tex


Best,

Jean-Fran?ois









From pander at users.sourceforge.net  Mon Jan 23 14:19:54 2017
From: pander at users.sourceforge.net (Pander)
Date: Mon, 23 Jan 2017 14:19:54 +0100
Subject: [tex-live] Debian TeXLive messing up TL 2016
In-Reply-To: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
References: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
Message-ID: <3d4de0c7-869e-5050-68f7-3d51ba4c0a7d@users.sourceforge.net>

On 2017-01-22 20:05, Paulo Ney DE SOUZA wrote:
> What is the best strategy to follow when Debian/Ubuntu TL installation
> messes up ones standard TL installation. Here is an example:

...
> What is the best strategy here - to start with a fresh install ? 

I have a script you might want to use, send me a person message if you
are interested. The approach is to install as less as possible
TeX-related pckages from Debian/Ubuntu and have the latest TL in /usr/local.

The most problems I encounter are packages with font dependencies which
clash with (usually more recent) fonts shipped by TL. As a result from
that I try to get packages to drop hard dependencies on font packages,
something which slowly gets better. If someone is interested in current
font package issues, send me a personal message too.


From preining at logic.at  Mon Jan 23 16:01:42 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 24 Jan 2017 00:01:42 +0900
Subject: [tex-live] cslatex?
In-Reply-To: <5613580d-9613-774c-42df-1feaa6de83f2@morningstar2.co.uk>
References: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
 <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>
 <5613580d-9613-774c-42df-1feaa6de83f2@morningstar2.co.uk>
Message-ID: <20170123150142.nbbgko7q4uiktow3@bulldog.preining.info>

Hi Joseph,

> I doubt it's a change in cslatex itself, rather in how it's set up in
> TeX Live. Something must have altered somewhere as our minimised system

Can you send me the output of the failed run? I don't remember any
(fundamental) change, nothing that should effect cslatex or anything
else.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Mon Jan 23 16:57:44 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 23 Jan 2017 16:57:44 +0100
Subject: [tex-live] cslatex?
In-Reply-To: <20170123150142.nbbgko7q4uiktow3@bulldog.preining.info>
References: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
 <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>
 <5613580d-9613-774c-42df-1feaa6de83f2@morningstar2.co.uk>
 <20170123150142.nbbgko7q4uiktow3@bulldog.preining.info>
Message-ID: <CAC1phyZr_UARJS__g6AisYoZZ5MZm9+izPmnB+Dr+HSGGpT8Pg@mail.gmail.com>

Joseph has already sent it to me and Petr Ol??k. It seems that cslatex
fails due to missing  czhyphen.tex because csplain is not installed. This
file is shared by both formats.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-23 16:01 GMT+01:00 Norbert Preining <preining at logic.at>:

> Hi Joseph,
>
> > I doubt it's a change in cslatex itself, rather in how it's set up in
> > TeX Live. Something must have altered somewhere as our minimised system
>
> Can you send me the output of the failed run? I don't remember any
> (fundamental) change, nothing that should effect cslatex or anything
> else.
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170123/e1285ba1/attachment.html>

From joseph.wright at morningstar2.co.uk  Mon Jan 23 17:05:31 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 23 Jan 2017 16:05:31 +0000
Subject: [tex-live] cslatex?
In-Reply-To: <20170123150142.nbbgko7q4uiktow3@bulldog.preining.info>
References: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
 <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>
 <5613580d-9613-774c-42df-1feaa6de83f2@morningstar2.co.uk>
 <20170123150142.nbbgko7q4uiktow3@bulldog.preining.info>
Message-ID: <fce88917-709f-6386-bb8a-e37ef681f73b@morningstar2.co.uk>

On 23/01/2017 15:01, Norbert Preining wrote:
> Hi Joseph,
> 
>> I doubt it's a change in cslatex itself, rather in how it's set up in
>> TeX Live. Something must have altered somewhere as our minimised system
> 
> Can you send me the output of the failed run? I don't remember any
> (fundamental) change, nothing that should effect cslatex or anything
> else.
> 
> Norbert

Getting the full log from the Travis VM is somewhat tricky (and doesn't
lend itself to multiple runs): I'll update on this later today when I
can run it from a local VM (needs my PC at home).

Joseph


From joseph.wright at morningstar2.co.uk  Mon Jan 23 21:33:17 2017
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 23 Jan 2017 20:33:17 +0000
Subject: [tex-live] cslatex?
In-Reply-To: <CAC1phyZr_UARJS__g6AisYoZZ5MZm9+izPmnB+Dr+HSGGpT8Pg@mail.gmail.com>
References: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
 <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>
 <5613580d-9613-774c-42df-1feaa6de83f2@morningstar2.co.uk>
 <20170123150142.nbbgko7q4uiktow3@bulldog.preining.info>
 <CAC1phyZr_UARJS__g6AisYoZZ5MZm9+izPmnB+Dr+HSGGpT8Pg@mail.gmail.com>
Message-ID: <4c7f21b4-b1f1-4304-93f3-1ea7694b481a@morningstar2.co.uk>

On 23/01/2017 15:57, Zdenek Wagner wrote:
> Joseph has already sent it to me and Petr Ol??k. It seems that cslatex
> fails due to missing  czhyphen.tex because csplain is not installed. This
> file is shared by both formats.
> 
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
> 
> 2017-01-23 16:01 GMT+01:00 Norbert Preining <preining at logic.at>:
> 
>> Hi Joseph,
>>
>>> I doubt it's a change in cslatex itself, rather in how it's set up in
>>> TeX Live. Something must have altered somewhere as our minimised system
>>
>> Can you send me the output of the failed run? I don't remember any
>> (fundamental) change, nothing that should effect cslatex or anything
>> else.
>>
>> Norbert

Seems it must have been a local issue: clearing out the TL system and
starting from scratch seems to work.

Joseph


From zdenek.wagner at gmail.com  Mon Jan 23 21:53:45 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 23 Jan 2017 21:53:45 +0100
Subject: [tex-live] cslatex?
In-Reply-To: <4c7f21b4-b1f1-4304-93f3-1ea7694b481a@morningstar2.co.uk>
References: <2efec0fe-029c-bcd7-391e-2be61f62996d@morningstar2.co.uk>
 <CAC1phyYUrF42M3YMewc0+G091rXUSLXDmim+=rQQRy8-tCphmA@mail.gmail.com>
 <5613580d-9613-774c-42df-1feaa6de83f2@morningstar2.co.uk>
 <20170123150142.nbbgko7q4uiktow3@bulldog.preining.info>
 <CAC1phyZr_UARJS__g6AisYoZZ5MZm9+izPmnB+Dr+HSGGpT8Pg@mail.gmail.com>
 <4c7f21b4-b1f1-4304-93f3-1ea7694b481a@morningstar2.co.uk>
Message-ID: <CAC1phyaR28fe-zsU=Bn9r0P=AvxUsozDxs06yGxTJHf-54VLUw@mail.gmail.com>

2017-01-23 21:33 GMT+01:00 Joseph Wright <joseph.wright at morningstar2.co.uk>:

> On 23/01/2017 15:57, Zdenek Wagner wrote:
> > Joseph has already sent it to me and Petr Ol??k. It seems that cslatex
> > fails due to missing  czhyphen.tex because csplain is not installed. This
> > file is shared by both formats.
> >
> > Zden?k Wagner
> > http://ttsm.icpf.cas.cz/team/wagner.shtml
> > http://icebearsoft.euweb.cz
> >
> > 2017-01-23 16:01 GMT+01:00 Norbert Preining <preining at logic.at>:
> >
> >> Hi Joseph,
> >>
> >>> I doubt it's a change in cslatex itself, rather in how it's set up in
> >>> TeX Live. Something must have altered somewhere as our minimised system
> >>
> >> Can you send me the output of the failed run? I don't remember any
> >> (fundamental) change, nothing that should effect cslatex or anything
> >> else.
> >>
> >> Norbert
>
> Seems it must have been a local issue: clearing out the TL system and
> starting from scratch seems to work.
>

Maybe TEXINPUT problem...

>
> Joseph
>
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170123/0ef9deec/attachment.html>

From vojta at math.berkeley.edu  Mon Jan 23 22:47:34 2017
From: vojta at math.berkeley.edu (Paul Vojta)
Date: Mon, 23 Jan 2017 13:47:34 -0800
Subject: [tex-live] Debian TeXLive messing up TL 2016
In-Reply-To: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
References: <CAOGegRR9BY2n6CnoXoD4FYC0CHUX4AUyvDGseeu0HaNa2SABHQ@mail.gmail.com>
Message-ID: <20170123214734.GA3250@math.berkeley.edu>

After "apt-get remove latex2html", try "apt-get autoremove"

To avoid automatic installation of the Debian/Ubuntu TL, learn how to
use the "equivs" package.

Paul Vojta


On Sun, Jan 22, 2017 at 11:05:12AM -0800, Paulo Ney DE SOUZA wrote:
> What is the best strategy to follow when Debian/Ubuntu TL installation
> messes up ones standard TL installation. Here is an example:
> 
> If you install TL'16 and all of a sudden need one of the LaTeX to HTML
> translators (HeVeA, Tralics, LaTeX2HTML, ...) most of them are not part of
> TL'16, but Ubuntu prompt happily inform you that they are available from
> the repositories.
> 
> At that point if you execute:
> 
>     apt-get install latex2html
> 
> AND you have a personal (local) texmf tree, it will install 1.2 Gig of
> Ubuntu TL on your machine and it will install a 20-year old version of
> "url.sty" on your local texmf tree that will take precedence of the
> standard url.sty from TL'16 and will mess just about everything in your
> installation including Biblatex.
> 
> At that point executing
> 
>     apt-get remove latex2html
> 
> you will get the surprise that it will remove only 5 Megabytes of stuff and
> you are left with a non-working TL installation.
> 
> What is the best strategy here - to start with a fresh install ?
> 
> Paulo Ney de Souza
> UC Berkeley

From bernhard.kleine at gmx.net  Tue Jan 24 09:24:04 2017
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Tue, 24 Jan 2017 09:24:04 +0100
Subject: [tex-live] oplotsymbl documentation
In-Reply-To: <201701222258.v0MMwRHC000915@freefriends.org>
References: <201701222258.v0MMwRHC000915@freefriends.org>
Message-ID: <eeae4173-0479-a159-8cdd-be9e325b51be@gmx.net>

Am 22.01.2017 um 23:58 schrieb Karl Berry:
> If you have the time/energy to contact the package author(s) and ask
> them to release the doc sources as well, that would be great. -k
I did.
Regards
Bernhard

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170124/32dc357b/attachment.sig>

From preining at logic.at  Wed Jan 25 06:39:15 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 25 Jan 2017 14:39:15 +0900
Subject: [tex-live] unicode-math now unable to process
	$\widetilde{\mathbf{a}}$
In-Reply-To: <148532158062.8389.12051936845498864434.reportbug@pandora>
References: <148532158062.8389.12051936845498864434.reportbug@pandora>
Message-ID: <20170125053915.zz6ib4xuuvssyedv@bulldog.preining.info>

Hi Will,

(please keep Cc, thanks!)

Norbert here. Downstream at Debian, but it is the same in upstream TeX Live,
I got a bug report that the latest version of unicode-math does not work
properly with xelatex. The following minimal working example breaks
under xelatex:

	\documentclass{article}
	\usepackage{unicode-math}

	\begin{document}
	  $\widetilde{\mathbf{a}}$
	\end{document}

With the following error:
	Error message:
	! Internal error: bad native font flag in `map_char_to_glyph'


Do you have an idea what might have triggered this?

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Wed Jan 25 10:06:20 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 25 Jan 2017 10:06:20 +0100
Subject: [tex-live] unicode-math now unable to process
	$\widetilde{\mathbf{a}}$
References: <148532158062.8389.12051936845498864434.reportbug@pandora>
 <20170125053915.zz6ib4xuuvssyedv@bulldog.preining.info>
Message-ID: <1usg2chywy7de.dlg@nililand.de>

Am Wed, 25 Jan 2017 14:39:15 +0900 schrieb Norbert Preining:

> Hi Will,
> 
> (please keep Cc, thanks!)
> 
> Norbert here. Downstream at Debian, but it is the same in upstream TeX Live,
> I got a bug report that the latest version of unicode-math does not work
> properly with xelatex. The following minimal working example breaks
> under xelatex:
> 
> 	\documentclass{article}
> 	\usepackage{unicode-math}
> 
> 	\begin{document}
> 	  $\widetilde{\mathbf{a}}$
> 	\end{document}
> 
> With the following error:
> 	Error message:
> 	! Internal error: bad native font flag in `map_char_to_glyph'
> 
> 
> Do you have an idea what might have triggered this?

The problem is that \mathbf doesn't use a font with math table and
accent commands don't like this. You can find quite a number of
questions about this on tex.sx. E.g.
http://tex.stackexchange.com/questions/214570/try-to-use-ams-blackboard-bold-font-together-with-texgyrepagella

The correct input would be \symbf. Or you must hide the \mathbf in a
box:

\documentclass{article}
	\usepackage{unicode-math}

	\begin{document}
	  $\widetilde{\symbf{a}} \widetilde{\mbox{$\mathbf{a}$}}$
	\end{document}

(\widetilde{\text{$\mathbf{a}$}} with amsmath work too)


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From preining at logic.at  Wed Jan 25 16:07:00 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 26 Jan 2017 00:07:00 +0900
Subject: [tex-live] unicode-math now unable to process
 $\widetilde{\mathbf{a}}$
In-Reply-To: <1usg2chywy7de.dlg@nililand.de>
References: <148532158062.8389.12051936845498864434.reportbug@pandora>
 <20170125053915.zz6ib4xuuvssyedv@bulldog.preining.info>
 <1usg2chywy7de.dlg@nililand.de>
Message-ID: <20170125150700.3kwdti4suwpspdln@bulldog.preining.info>

Dear Ulrike,

> The problem is that \mathbf doesn't use a font with math table and
> accent commands don't like this. You can find quite a number of

Thanks a lot for your answer, that was very helpful.

All the best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Wed Jan 25 22:48:17 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 25 Jan 2017 22:48:17 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
Message-ID: <1vasy7ulsftd1.dlg@nililand.de>

After todays update the creation of the xelatex format fails with
the error


(c:/texlive/2016/texmf-dist/tex/generic/hyph-utf8/patterns/tex/hyph-ru.tex
! Duplicate pattern.
l.7046 8????8????

lualatex works, but running a document which loads russian fails
with the same error.

Comparing hyph-ru.tex with the version of miktex which still works
shows a difference in line 7046:
Texlive:
8?8?
}

Miktex:
8?8?-
}



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From arthur.reutenauer at normalesup.org  Wed Jan 25 23:13:25 2017
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Wed, 25 Jan 2017 23:13:25 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
In-Reply-To: <1vasy7ulsftd1.dlg@nililand.de>
References: <1vasy7ulsftd1.dlg@nililand.de>
Message-ID: <20170125221325.GB147993@phare.normalesup.org>

	Hi Ulrike,

  Thanks for the report.  This is really strange as the hyphenation
patterns haven?t been updated on CTAN in eight months.  I can confirm
that the pattern MiKTeX has at that line is the intended one (with the
trailing hyphen).

	Best,

		Arthur

From news3 at nililand.de  Wed Jan 25 23:26:45 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 25 Jan 2017 23:26:45 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
References: <1vasy7ulsftd1.dlg@nililand.de>
 <20170125221325.GB147993@phare.normalesup.org>
Message-ID: <nvx38ooczby7.dlg@nililand.de>

Am Wed, 25 Jan 2017 23:13:25 +0100 schrieb Arthur Reutenauer:

> 	Hi Ulrike,
> 
>   Thanks for the report.  This is really strange as the hyphenation
> patterns haven?t been updated on CTAN in eight months.  

It was a quite large update as I was on holiday. The tlmgr log
doesn't show directly an hyph-related package: but babel-russian has
been updated and a number of collections.

The curious thing is that I did an update today on another computer
and had no problems. I really don't know why my hyph-ru.tex is
suddenly wrong ;-).
 

> I can confirm
> that the pattern MiKTeX has at that line is the intended one (with the
> trailing hyphen).

I thought so. I changed the line and now the xelatex format could be
created.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From arthur.reutenauer at normalesup.org  Wed Jan 25 23:58:22 2017
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Wed, 25 Jan 2017 23:58:22 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
In-Reply-To: <nvx38ooczby7.dlg@nililand.de>
References: <1vasy7ulsftd1.dlg@nililand.de>
 <20170125221325.GB147993@phare.normalesup.org>
 <nvx38ooczby7.dlg@nililand.de>
Message-ID: <20170125225822.GF147993@phare.normalesup.org>

> It was a quite large update as I was on holiday. The tlmgr log
> doesn't show directly an hyph-related package: but babel-russian has
> been updated and a number of collections.

  That can?t be it either, the update contains only russianb.ldf and
associated files.

> The curious thing is that I did an update today on another computer
> and had no problems. I really don't know why my hyph-ru.tex is
> suddenly wrong ;-).

  Strange indeed.

	Best,

		Arthur

From reinhard.kotucha at web.de  Thu Jan 26 00:15:37 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 26 Jan 2017 00:15:37 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
In-Reply-To: <20170125221325.GB147993@phare.normalesup.org>
References: <1vasy7ulsftd1.dlg@nililand.de>
 <20170125221325.GB147993@phare.normalesup.org>
Message-ID: <22665.12697.445240.778135@zaphod.ms25.net>

On 2017-01-25 at 23:13:25 +0100, Arthur Reutenauer wrote:

 > 	Hi Ulrike,
 > 
 >   Thanks for the report.  This is really strange as the hyphenation
 > patterns haven?t been updated on CTAN in eight months.  I can confirm
 > that the pattern MiKTeX has at that line is the intended one (with the
 > trailing hyphen).

Hi Ulrike and Arthur,
the version provided by TeX Live is correct and has a trailing hyphen.
I just updated TL here and all format files were built correctly.

There are no updates in the TL repository since

  ------------------------------------------------------------------------
  r39700 | karl | 2016-02-13 01:08:09 +0100 (Sat, 13 Feb 2016) | 1 line
  
  hyph-utf8 (12feb16)
  ------------------------------------------------------------------------

Ulrike, I suppose that you are the only one who encountered this
problem, though I don't have the slightest idea how this could happen.

What happens if you remove the package and install it again?

Regards,
  Reinhard


-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From Rolf.Niepraschk at gmx.de  Thu Jan 26 07:54:14 2017
From: Rolf.Niepraschk at gmx.de (Rolf Niepraschk)
Date: Thu, 26 Jan 2017 07:54:14 +0100
Subject: [tex-live] Recommendations for viewer_md
Message-ID: <trinity-0a33e3c1-4738-4fe3-94b4-41271524fb9d-1485413654061@3capp-gmx-bs39>

If I try for example

  texdoc biblatex-lni

I get the following warning:

  texdoc warning: No viewer_md defined, using viewer_txt.

Do you have any recommendations for useful definitions of "viewer_md"? I use Linux. Thanks in advace.

...Rolf

From Herbert.Voss at FU-Berlin.DE  Thu Jan 26 09:18:52 2017
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Thu, 26 Jan 2017 09:18:52 +0100
Subject: [tex-live] Recommendations for viewer_md
In-Reply-To: <trinity-0a33e3c1-4738-4fe3-94b4-41271524fb9d-1485413654061@3capp-gmx-bs39>
References: <trinity-0a33e3c1-4738-4fe3-94b4-41271524fb9d-1485413654061@3capp-gmx-bs39>
Message-ID: <01b30623-e450-cfbf-dc5a-1a48f6e086a1@FU-Berlin.DE>

Am 26.01.2017 um 07:54 schrieb Rolf Niepraschk:
> If I try for example
>
>   texdoc biblatex-lni
>
> I get the following warning:
>
>   texdoc warning: No viewer_md defined, using viewer_txt.
>
> Do you have any recommendations for useful definitions of "viewer_md"? I use Linux. Thanks in advace.

mkdir -p ~/texmf/texdoc/
echo "viewer_md = (less %s)" >> ~/texmf/texdoc/texdoc.cnf

see documentation of texdoc

Herbert

From news3 at nililand.de  Thu Jan 26 09:38:09 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 26 Jan 2017 09:38:09 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
References: <1vasy7ulsftd1.dlg@nililand.de>
 <20170125221325.GB147993@phare.normalesup.org>
 <22665.12697.445240.778135@zaphod.ms25.net>
Message-ID: <vf1ybuea88nb$.dlg@nililand.de>

Am Thu, 26 Jan 2017 00:15:37 +0100 schrieb Reinhard Kotucha:

 
> Ulrike, I suppose that you are the only one who encountered this
> problem, though I don't have the slightest idea how this could happen.

After a night sleep I think I did it myself. I realized that the
error in the file could have been there already for months and that
in september there was a discussion about russian hyphenation
(https://tex.stackexchange.com/questions/330180/accent-in-russian-above-%d1%8b-goes-to-next-line)
and that I looked at the file at that time. 

Sorry for the noise ;-)

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From Rolf.Niepraschk at gmx.de  Thu Jan 26 10:02:01 2017
From: Rolf.Niepraschk at gmx.de (Rolf Niepraschk)
Date: Thu, 26 Jan 2017 10:02:01 +0100
Subject: [tex-live] Recommendations for viewer_md
In-Reply-To: <01b30623-e450-cfbf-dc5a-1a48f6e086a1@FU-Berlin.DE>
References: <trinity-0a33e3c1-4738-4fe3-94b4-41271524fb9d-1485413654061@3capp-gmx-bs39>, 
 <01b30623-e450-cfbf-dc5a-1a48f6e086a1@FU-Berlin.DE>
Message-ID: <trinity-8eb684df-c536-43a1-9be6-66f90a98bde1-1485421321680@3capp-gmx-bs39>

> Gesendet: Donnerstag, 26. Januar 2017 um 09:18 Uhr
> Von: "Herbert Voss" <Herbert.Voss at FU-Berlin.DE>
> 
> mkdir -p ~/texmf/texdoc/
> echo "viewer_md = (less %s)" >> ~/texmf/texdoc/texdoc.cnf
> 
> see documentation of texdoc
> 
> Herbert
> 

This is not what mean. "less" is still the fallback for viewing markdown files. I want a _real_ markdown viewer to see the structure of the markdown document. 

...Rolf

From Herbert.Voss at FU-Berlin.DE  Thu Jan 26 10:14:03 2017
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Thu, 26 Jan 2017 10:14:03 +0100
Subject: [tex-live] Recommendations for viewer_md
In-Reply-To: <trinity-8eb684df-c536-43a1-9be6-66f90a98bde1-1485421321680@3capp-gmx-bs39>
References: <trinity-0a33e3c1-4738-4fe3-94b4-41271524fb9d-1485413654061@3capp-gmx-bs39>
 <01b30623-e450-cfbf-dc5a-1a48f6e086a1@FU-Berlin.DE>
 <trinity-8eb684df-c536-43a1-9be6-66f90a98bde1-1485421321680@3capp-gmx-bs39>
Message-ID: <1eff3717-22ed-c1a5-9402-25b7e4afdd9c@FU-Berlin.DE>

Am 26.01.2017 um 10:02 schrieb Rolf Niepraschk:
>> Gesendet: Donnerstag, 26. Januar 2017 um 09:18 Uhr
>> Von: "Herbert Voss" <Herbert.Voss at FU-Berlin.DE>
>>
>> mkdir -p ~/texmf/texdoc/
>> echo "viewer_md = (less %s)" >> ~/texmf/texdoc/texdoc.cnf
>>
>> see documentation of texdoc
>>
>> Herbert
>>
>
> This is not what mean. "less" is still the fallback for viewing markdown files. I want a _real_ markdown viewer to see the structure of the markdown document.

for example

https://software.opensuse.org/package/retext

Herbert

From arthur.reutenauer at normalesup.org  Thu Jan 26 11:57:00 2017
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Thu, 26 Jan 2017 11:57:00 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
In-Reply-To: <vf1ybuea88nb$.dlg@nililand.de>
References: <1vasy7ulsftd1.dlg@nililand.de>
 <20170125221325.GB147993@phare.normalesup.org>
 <22665.12697.445240.778135@zaphod.ms25.net>
 <vf1ybuea88nb$.dlg@nililand.de>
Message-ID: <20170126105700.GG147993@phare.normalesup.org>

> Sorry for the noise ;-)

  No worries, that makes more sense actually :-)  (Although I wonder how
you ended up with an invalid pattern file!)

	Best,

		Arthur

From news3 at nililand.de  Thu Jan 26 13:15:55 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 26 Jan 2017 13:15:55 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
References: <1vasy7ulsftd1.dlg@nililand.de>
 <20170125221325.GB147993@phare.normalesup.org>
 <22665.12697.445240.778135@zaphod.ms25.net> <vf1ybuea88nb$.dlg@nililand.de>
 <20170126105700.GG147993@phare.normalesup.org>
Message-ID: <19pyf3hziritz$.dlg@nililand.de>

Am Thu, 26 Jan 2017 11:57:00 +0100 schrieb Arthur Reutenauer:

>> Sorry for the noise ;-)
> 
>   No worries, that makes more sense actually :-)  (Although I wonder how
> you ended up with an invalid pattern file!)

Actually I think this question was the culprit:
http://tex.stackexchange.com/questions/339242/avoid-hyphenation-before-combining-accents

I now remember that I played around with the patterns in hyph-ru.tex
and I probably didn't restore it correctly ;-(. 

Did you add patterns for all combining accents as I mentioned in one
of the comments?



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From arthur.reutenauer at normalesup.org  Thu Jan 26 13:51:56 2017
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Thu, 26 Jan 2017 13:51:56 +0100
Subject: [tex-live] hyph-ru.tex is faulty.
In-Reply-To: <19pyf3hziritz$.dlg@nililand.de>
References: <1vasy7ulsftd1.dlg@nililand.de>
 <20170125221325.GB147993@phare.normalesup.org>
 <22665.12697.445240.778135@zaphod.ms25.net>
 <vf1ybuea88nb$.dlg@nililand.de>
 <20170126105700.GG147993@phare.normalesup.org>
 <19pyf3hziritz$.dlg@nililand.de>
Message-ID: <20170126125156.GH147993@phare.normalesup.org>

  (Moving discussion from the TeX Live list to TeX-hyphen, please reply
there.)

> Did you add patterns for all combining accents as I mentioned in one
> of the comments?

  Not yet, but it?s on our list: https://github.com/hyphenation/tex-hyphen/issues/5
I need to figure out the best way to do it: should we input the full
list of all combining characters for every language, or only those
diacritic signs that are relevant for each language?  The former option
may seem like less work but we need to make sure that the accents don?t
interact with the existing patterns (for all the languages), and ensure
that it stays so in the future.  If for example someone comes up with a
pattern set for Russian that does take the combining acute accent into
account, having a default list of patterns with accents may be
self-defeating.

	Best,

		Arthur

From astronaut at verizon.net  Thu Jan 26 05:54:43 2017
From: astronaut at verizon.net (Charles E Campbell)
Date: Wed, 25 Jan 2017 23:54:43 -0500
Subject: [tex-live] texlive setup problems
Message-ID: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>

Hello:

I originally tried using the texlive that came with Scientific Linux 7.2 
and ran into problems.  So I've now used the texlive installation 
directions with the default directory targets.  When trying to latex a 
small LaTeX file (which works on another Scientific Linux box), I get 
570 lines of kpathsea stuff and then:

This is pdfTeX, Version 3.1415926-2.5-1.40.14 (TeX Live 2013)
---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't 
match pdftex.pool
(Fatal format file error; I'm stymied)

Again, this is a fresh install.  I've unset my old TEXINPUTS and TEXMF 
environment variables, but that didn't improve things any. So, I'm 
stymied too!
What may be hints:

1) I can't seem to find pdftex.pool; its not anywhere under .texlive2016 
or /usr/local/texlive.

2) When I tried to run texhash,
warning: kpathsea: configuration file texmf.cnf not found in these 
directories: ...

Please help, and thank you,
Chip Campbell


From zdenek.wagner at gmail.com  Thu Jan 26 15:04:40 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 26 Jan 2017 15:04:40 +0100
Subject: [tex-live] texlive setup problems
In-Reply-To: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
Message-ID: <CAC1phyYj0_7Mt6+ob9kzgjqWqBso=V_vVF-o21ExxeC9QADgsg@mail.gmail.com>

This usually happens when you have two TeX distros and the TeX Live binary
is not at the _beginning_ of PATH. The files are then often mixed and the
result is total confusion.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-26 5:54 GMT+01:00 Charles E Campbell <astronaut at verizon.net>:

> Hello:
>
> I originally tried using the texlive that came with Scientific Linux 7.2
> and ran into problems.  So I've now used the texlive installation
> directions with the default directory targets.  When trying to latex a
> small LaTeX file (which works on another Scientific Linux box), I get 570
> lines of kpathsea stuff and then:
>
> This is pdfTeX, Version 3.1415926-2.5-1.40.14 (TeX Live 2013)
> ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't
> match pdftex.pool
> (Fatal format file error; I'm stymied)
>
> Again, this is a fresh install.  I've unset my old TEXINPUTS and TEXMF
> environment variables, but that didn't improve things any. So, I'm stymied
> too!
> What may be hints:
>
> 1) I can't seem to find pdftex.pool; its not anywhere under .texlive2016
> or /usr/local/texlive.
>
> 2) When I tried to run texhash,
> warning: kpathsea: configuration file texmf.cnf not found in these
> directories: ...
>
> Please help, and thank you,
> Chip Campbell
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170126/9d7c3e25/attachment.html>

From martin at oneiros.de  Thu Jan 26 15:25:25 2017
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Thu, 26 Jan 2017 15:25:25 +0100
Subject: [tex-live] pdftex.pool (was:  texlive setup problems)
Message-ID: <CAP7DCDf=GgjQkTV+OPzKah4+R4bY8+bg-xj_RRf6f7s8LWj00A@mail.gmail.com>

2017-01-26 5:54 GMT+01:00 Charles E Campbell <astronaut at verizon.net>:
> This is pdfTeX, Version 3.1415926-2.5-1.40.14 (TeX Live 2013)
> ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match
> pdftex.pool
> (Fatal format file error; I'm stymied)

[...]

> 1) I can't seem to find pdftex.pool; its not anywhere under .texlive2016 or
> /usr/local/texlive.

IIRC we made pool files obselete more than ten years ago and deleted it.

Could we also fix the error message so it doesn't have users searching for
a file we deleted years ago?

Best
   Martin

From preining at logic.at  Thu Jan 26 15:03:08 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 26 Jan 2017 23:03:08 +0900
Subject: [tex-live] texlive setup problems
In-Reply-To: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
Message-ID: <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>

On Wed, 25 Jan 2017, Charles E Campbell wrote:
> ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match

Remove 
	/home/cec/.texlive2016/texmf-var/web2c/pdftex
and maybe even more radically
	/home/cec/.texlive2016/texmf-var/*
and it should work.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Thu Jan 26 23:42:38 2017
From: karl at freefriends.org (Karl Berry)
Date: Thu, 26 Jan 2017 22:42:38 GMT
Subject: [tex-live] Recommendations for viewer_md
In-Reply-To: <01b30623-e450-cfbf-dc5a-1a48f6e086a1@FU-Berlin.DE>
Message-ID: <201701262242.v0QMgc8i002016@freefriends.org>

    >   texdoc warning: No viewer_md defined, using viewer_txt.

I tweaked texmf-dist/scripts/texdoc/config.tlu to set up viewer_md
from the usual myriad envvars if set, with a final default of $PAGER:
  MDVIEWER_texdoc, TEXDOCVIEW_md, TEXDOC_VIEWER_MD, PAGER

I don't think any real viewer of md files is usually installed.
Didn't try to detect one.

Doc update will have to wait for another time, or forever :(. --thanks, k.

From reinhard.kotucha at web.de  Fri Jan 27 02:17:06 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 27 Jan 2017 02:17:06 +0100
Subject: [tex-live] texlive setup problems
In-Reply-To: <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
Message-ID: <22666.40851.566.390375@zaphod.ms25.net>

On 2017-01-26 at 23:03:08 +0900, Norbert Preining wrote:

 > On Wed, 25 Jan 2017, Charles E Campbell wrote:
 > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match
 > 
 > Remove 
 > 	/home/cec/.texlive2016/texmf-var/web2c/pdftex
 > and maybe even more radically
 > 	/home/cec/.texlive2016/texmf-var/*
 > and it should work.

Maybe it's better not to remove anything right now because Charles is
able to reproduce the bug and can provide further information.

The problem is not that different versions of TeX Live are involved,
the main problem which has to be fixed is that programs which are not
aware of pool files at all complain about missing pool files.
Charles' broken setup can be quite helpful in order to confirm that a
bugfix solves the problem.

Sure, I assume that Charles needs a working TeX Live system right now.
But then I wouldn't suggest to delete any files provided by TL-2016 in
favour of an ancient release (TL-2013).  It's better to make sure that
the bin/ directory of TeX Live 2016 comes first in PATH.

Strange enough that TeX Live 2013 is aware of a directory
~/.texlive2016 .

Charles, can you send us the output of

  tlmgr conf

?

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From reinhard.kotucha at web.de  Fri Jan 27 02:17:56 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 27 Jan 2017 02:17:56 +0100
Subject: [tex-live] pdftex.pool (was:  texlive setup problems)
In-Reply-To: <CAP7DCDf=GgjQkTV+OPzKah4+R4bY8+bg-xj_RRf6f7s8LWj00A@mail.gmail.com>
References: <CAP7DCDf=GgjQkTV+OPzKah4+R4bY8+bg-xj_RRf6f7s8LWj00A@mail.gmail.com>
Message-ID: <22666.40900.797211.583876@zaphod.ms25.net>

On 2017-01-26 at 15:25:25 +0100, Martin Schr?der wrote:

 > 2017-01-26 5:54 GMT+01:00 Charles E Campbell <astronaut at verizon.net>:
 > > This is pdfTeX, Version 3.1415926-2.5-1.40.14 (TeX Live 2013)
 > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match
 > > pdftex.pool
 > > (Fatal format file error; I'm stymied)
 > 
 > [...]
 > 
 > > 1) I can't seem to find pdftex.pool; its not anywhere under
 > > .texlive2016 or /usr/local/texlive.
 > 
 > IIRC we made pool files obselete more than ten years ago and
 > deleted it.
 > 
 > Could we also fix the error message so it doesn't have users
 > searching for a file we deleted years ago?

The question is *why* this error message appeared at all.  The pdftex
binary from TL-2013 shouldn't look for a pool file.

Zden?k's assumption is correct: The TL-2013 version of pdftex
obviously searches it's format files in ~/.texlive2016 .

But I can't imagine that whenever TeX (at least Knuth's TeX) detects
an incompatible format file it blames the pool file.  Hence it's not
sufficient to change the error message.  It's necessary to determine
the cause.

I'm sure that the bug was introduced when Taco eliminated the pool
files.  There are two things which are different from Knuth's TeX:

 1. Format files are binary files and thus not portable due to the
    endian-mess.  Karl made them platform-independent in order to
    support all the platforms we have in TeX Live.  But this change
    has nothing to do with pool files and certainly no impact on error
    messages.

 2. Taco eliminated the pool files.  AFAIR, he told me at TUG-2006
    that what one has to do in order to insert strings into the
    program instead into a separate file is to replace single quotes
    by double qoutes in the WEB sources (or vice versa).  Maybe this
    wasn't sufficient.

Martin, I'm sure that you are quite familiar with the pdftex sources.
Can you find out *what* causes pdftex to complain about a missing pool
file?

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From preining at logic.at  Fri Jan 27 02:21:34 2017
From: preining at logic.at (Norbert Preining)
Date: Fri, 27 Jan 2017 10:21:34 +0900
Subject: [tex-live] texlive setup problems
In-Reply-To: <22666.40851.566.390375@zaphod.ms25.net>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
 <22666.40851.566.390375@zaphod.ms25.net>
Message-ID: <20170127012134.477dwqf3kn7qcknc@bulldog.preining.info>

>  > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match

> Maybe it's better not to remove anything right now because Charles is
> able to reproduce the bug and can provide further information.

Reinhard, the bug is obvious to me. An *old* format is tried to be 
loaded into a newer engine. That is very typical.

User A wants to fix something.
Calls
	fmtutil --byfmt latex
and bang, all further updates to TeX Live default will update format
dumps, but the local copy, even if it is dead-old, takes precedence.

Not much a bug here, but a feature of kpathsea, which - unfortunately -
creates complication all around. It can be used by experts, but
mostly it creates problems :-(

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at fuk.kindai.ac.jp  Fri Jan 27 09:08:19 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 27 Jan 2017 17:08:19 +0900
Subject: [tex-live] pdftex.pool (was:  texlive setup problems)
In-Reply-To: <22666.40900.797211.583876@zaphod.ms25.net>
References: <CAP7DCDf=GgjQkTV+OPzKah4+R4bY8+bg-xj_RRf6f7s8LWj00A@mail.gmail.com>
 <22666.40900.797211.583876@zaphod.ms25.net>
Message-ID: <7A423D314DE24E509EF96D88DDBD79AB@CJ3001517A>

Dear Reinhard,

> The question is *why* this error message appeared at all.

The data "pdftex.pool" is written in latex.fmt.
Thus the error message
---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match pdftex.pool
is shown if fmt and pool data are inconsistent.
Years ago, Taco embedded pool files in the executable files.
So pdftex.pool is not distributed as a file, but the data are
in the pdftex executable file.

Best,
Akira


From zdenek.wagner at gmail.com  Fri Jan 27 09:14:50 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 27 Jan 2017 09:14:50 +0100
Subject: [tex-live] texlive setup problems
In-Reply-To: <20170127012134.477dwqf3kn7qcknc@bulldog.preining.info>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
 <22666.40851.566.390375@zaphod.ms25.net>
 <20170127012134.477dwqf3kn7qcknc@bulldog.preining.info>
Message-ID: <CAC1phyaWijzd5-_ws_iGm3gSffHb=CtgU7WkUiZV8Qt7u+NeqA@mail.gmail.com>

Of course, it can be later diagnosed by strace but there is no sense to do
it. Why know the reason in general, it is not needed to know which exact
versions clash on a particular computer. And yes, if such a problem occurs,
it is always reproducible.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2017-01-27 2:21 GMT+01:00 Norbert Preining <preining at logic.at>:

> >  > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt
> doesn't match
>
> > Maybe it's better not to remove anything right now because Charles is
> > able to reproduce the bug and can provide further information.
>
> Reinhard, the bug is obvious to me. An *old* format is tried to be
> loaded into a newer engine. That is very typical.
>
> User A wants to fix something.
> Calls
>         fmtutil --byfmt latex
> and bang, all further updates to TeX Live default will update format
> dumps, but the local copy, even if it is dead-old, takes precedence.
>
> Not much a bug here, but a feature of kpathsea, which - unfortunately -
> creates complication all around. It can be used by experts, but
> mostly it creates problems :-(
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170127/439aa694/attachment.html>

From martin at oneiros.de  Fri Jan 27 14:52:05 2017
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Fri, 27 Jan 2017 14:52:05 +0100
Subject: [tex-live] pdftex.pool (was: texlive setup problems)
In-Reply-To: <7A423D314DE24E509EF96D88DDBD79AB@CJ3001517A>
References: <CAP7DCDf=GgjQkTV+OPzKah4+R4bY8+bg-xj_RRf6f7s8LWj00A@mail.gmail.com>
 <22666.40900.797211.583876@zaphod.ms25.net>
 <7A423D314DE24E509EF96D88DDBD79AB@CJ3001517A>
Message-ID: <CAP7DCDcTPy4H0afwkQ_ZHaS2_+do6saLZBzDPKHne3HeZ=58bg@mail.gmail.com>

2017-01-27 9:08 GMT+01:00 Akira Kakuto <kakuto at fuk.kindai.ac.jp>:
> is shown if fmt and pool data are inconsistent.
> Years ago, Taco embedded pool files in the executable files.
> So pdftex.pool is not distributed as a file, but the data are
> in the pdftex executable file.

So the message should be "format file not created by this executable,
please recreate it"

Best
   Martin

From zdenek.wagner at gmail.com  Fri Jan 27 14:55:58 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 27 Jan 2017 14:55:58 +0100
Subject: [tex-live] pdftex.pool (was: texlive setup problems)
In-Reply-To: <CAP7DCDcTPy4H0afwkQ_ZHaS2_+do6saLZBzDPKHne3HeZ=58bg@mail.gmail.com>
References: <CAP7DCDf=GgjQkTV+OPzKah4+R4bY8+bg-xj_RRf6f7s8LWj00A@mail.gmail.com>
 <22666.40900.797211.583876@zaphod.ms25.net>
 <7A423D314DE24E509EF96D88DDBD79AB@CJ3001517A>
 <CAP7DCDcTPy4H0afwkQ_ZHaS2_+do6saLZBzDPKHne3HeZ=58bg@mail.gmail.com>
Message-ID: <CAC1phyYUvZHYZtFO2=Pk2+8bF=eA0Eookrs0VMxSBJKsC0Sfww@mail.gmail.com>

2017-01-27 14:52 GMT+01:00 Martin Schr?der <martin at oneiros.de>:

> 2017-01-27 9:08 GMT+01:00 Akira Kakuto <kakuto at fuk.kindai.ac.jp>:
> > is shown if fmt and pool data are inconsistent.
> > Years ago, Taco embedded pool files in the executable files.
> > So pdftex.pool is not distributed as a file, but the data are
> > in the pdftex executable file.
>
> So the message should be "format file not created by this executable,
> please recreate it"
>

It will not help either. If the real source of the problem is a mix of two
or more distros, recreation of the format does not help.

>
> Best
>    Martin
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170127/eb7f77c1/attachment.html>

From martin at oneiros.de  Fri Jan 27 15:45:45 2017
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Fri, 27 Jan 2017 15:45:45 +0100
Subject: [tex-live] pdftex.pool (was: texlive setup problems)
In-Reply-To: <CAC1phyYUvZHYZtFO2=Pk2+8bF=eA0Eookrs0VMxSBJKsC0Sfww@mail.gmail.com>
References: <CAP7DCDf=GgjQkTV+OPzKah4+R4bY8+bg-xj_RRf6f7s8LWj00A@mail.gmail.com>
 <22666.40900.797211.583876@zaphod.ms25.net>
 <7A423D314DE24E509EF96D88DDBD79AB@CJ3001517A>
 <CAP7DCDcTPy4H0afwkQ_ZHaS2_+do6saLZBzDPKHne3HeZ=58bg@mail.gmail.com>
 <CAC1phyYUvZHYZtFO2=Pk2+8bF=eA0Eookrs0VMxSBJKsC0Sfww@mail.gmail.com>
Message-ID: <CAP7DCDfGyfyeh+En-jcD6ji-sfsY9XRToNwefkzaH9C59LqhZA@mail.gmail.com>

2017-01-27 14:55 GMT+01:00 Zdenek Wagner <zdenek.wagner at gmail.com>:
> 2017-01-27 14:52 GMT+01:00 Martin Schr?der <martin at oneiros.de>:
>> So the message should be "format file not created by this executable,
>> please recreate it"
>
> It will not help either. If the real source of the problem is a mix of two
> or more distros, recreation of the format does not help.

Yes, but if one would google *that* message one would hopefully get
the *right* answer (and not the useless one pointing to pool files).

Best
   Martin


From tomas at basun.net  Fri Jan 27 10:06:06 2017
From: tomas at basun.net (Tomas By)
Date: Fri, 27 Jan 2017 10:06:06 +0100
Subject: [tex-live] typesetting source code (Funnelweb)
Message-ID: <f1f06c51b82d98d83678b5b5e8861785@basun.net>

Hi all,

I am using the Funnelweb literate programming tool, producing Tex 
output.

In some code I have, I need to insert ASCII code 25 in the C source 
code.

This works fine as far as producing the C code, but when I run Latex on 
the .tex file, I get:

| ! Text line contains an invalid character.
| l.1573
...
| ^^Y

The relevant piece of the .tex file is:

| \fwbtx[
...
| ^Y
...
| ]

(in Emacs; the ^Y is one character, not two)

and the "fwbtx" macro is defined as:

| \def\fwbtx[{%
| \begingroup%
| \def\par{\leavevmode\endgraf}%
| \catcode`\`=\active%
| \obeylines%
| \def\do##1{\catcode`##1=12 }\dospecials%
| \obeyspaces
| \parskip=0pt%
| \tt%
| \fwverbatimgobble}

| \def\fwverbatimgobble#1]fwetx={#1\endgroup}

which, I believe, is supposed to escape all non-ASCII characters, so 
that Tex does not complain.

Can anybody explain what goes wrong?

Is there some simple work-around? Replace the "fwbtx" macro with 
something?

Any help appreciated.

/Tomas

From jfbu at free.fr  Fri Jan 27 16:06:26 2017
From: jfbu at free.fr (jfbu)
Date: Fri, 27 Jan 2017 16:06:26 +0100
Subject: [tex-live] typesetting source code (Funnelweb)
In-Reply-To: <f1f06c51b82d98d83678b5b5e8861785@basun.net>
References: <f1f06c51b82d98d83678b5b5e8861785@basun.net>
Message-ID: <FB653CAE-4EF4-4D42-9973-F4010280FC90@free.fr>


Le 27 janv. 2017 ? 10:06, Tomas By <tomas at basun.net> a ?crit :

> | \catcode`\`=\active%

Are you sure you want that ?

you should ask on c.t.tex as this is not a tex-live issue

Best

Jean-Fran?ois



From daleif at math.au.dk  Fri Jan 27 16:27:15 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 27 Jan 2017 15:27:15 +0000
Subject: [tex-live] typesetting source code (Funnelweb)
In-Reply-To: <FB653CAE-4EF4-4D42-9973-F4010280FC90@free.fr>
References: <f1f06c51b82d98d83678b5b5e8861785@basun.net>,
 <FB653CAE-4EF4-4D42-9973-F4010280FC90@free.fr>
Message-ID: <1485530837960.6161@math.au.dk>

or nowadays perhaps better ask on

tex.stackexchange.com

as hardly anyone uses newsgroups these days


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of jfbu <jfbu at free.fr>
Sent: 27 January 2017 16:06
To: Tomas By
Cc: tex-live at tug.org
Subject: Re: [tex-live] typesetting source code (Funnelweb)

Le 27 janv. 2017 ? 10:06, Tomas By <tomas at basun.net> a ?crit :

> | \catcode`\`=\active%

Are you sure you want that ?

you should ask on c.t.tex as this is not a tex-live issue

Best

Jean-Fran?ois




From tomas at basun.net  Fri Jan 27 16:29:06 2017
From: tomas at basun.net (Tomas By)
Date: Fri, 27 Jan 2017 16:29:06 +0100
Subject: [tex-live] typesetting source code (Funnelweb)
In-Reply-To: <FB653CAE-4EF4-4D42-9973-F4010280FC90@free.fr>
References: <f1f06c51b82d98d83678b5b5e8861785@basun.net>
 <FB653CAE-4EF4-4D42-9973-F4010280FC90@free.fr>
Message-ID: <a9bb2a384d34d0fd769602b7b00a3f84@basun.net>

Hi,

Thanks for the reply.

Am I sure? Haha, nope!

I have only a very vague idea what this means, but will try it.

Yes, I re-posted it on the Texhack list as that seemed better.

/Tomas



On 2017-01-27 16:06, jfbu wrote:
> Le 27 janv. 2017 ? 10:06, Tomas By <tomas at basun.net> a ?crit :
> 
>> | \catcode`\`=\active%
> 
> Are you sure you want that ?
> 
> you should ask on c.t.tex as this is not a tex-live issue
> 
> Best
> 
> Jean-Fran?ois

From tomas at basun.net  Fri Jan 27 16:31:28 2017
From: tomas at basun.net (Tomas By)
Date: Fri, 27 Jan 2017 16:31:28 +0100
Subject: [tex-live] typesetting source code (Funnelweb)
In-Reply-To: <1485530837960.6161@math.au.dk>
References: <f1f06c51b82d98d83678b5b5e8861785@basun.net>,
 <FB653CAE-4EF4-4D42-9973-F4010280FC90@free.fr>
 <1485530837960.6161@math.au.dk>
Message-ID: <682401e8897563e90a2f30449302795b@basun.net>

On 2017-01-27 16:27, Lars Madsen wrote:
> or nowadays perhaps better ask on
> 
> tex.stackexchange.com
> 
> as hardly anyone uses newsgroups these days


Ok, thanks.

/Tomas

From astronaut at verizon.net  Fri Jan 27 16:51:58 2017
From: astronaut at verizon.net (Charles Campbell)
Date: Fri, 27 Jan 2017 10:51:58 -0500
Subject: [tex-live] texlive setup problems
In-Reply-To: <22666.40851.566.390375@zaphod.ms25.net>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
 <22666.40851.566.390375@zaphod.ms25.net>
Message-ID: <588B6C9E.7090902@verizon.net>

Reinhard Kotucha wrote:
> On 2017-01-26 at 23:03:08 +0900, Norbert Preining wrote:
> 
>  > On Wed, 25 Jan 2017, Charles E Campbell wrote:
>  > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match
>  > 
>  > Remove 
>  > 	/home/cec/.texlive2016/texmf-var/web2c/pdftex
>  > and maybe even more radically
>  > 	/home/cec/.texlive2016/texmf-var/*
>  > and it should work.
> 
> Maybe it's better not to remove anything right now because Charles is
> able to reproduce the bug and can provide further information.
> 
> The problem is not that different versions of TeX Live are involved,
> the main problem which has to be fixed is that programs which are not
> aware of pool files at all complain about missing pool files.
> Charles' broken setup can be quite helpful in order to confirm that a
> bugfix solves the problem.
> 
> Sure, I assume that Charles needs a working TeX Live system right now.
> But then I wouldn't suggest to delete any files provided by TL-2016 in
> favour of an ancient release (TL-2013).  It's better to make sure that
> the bin/ directory of TeX Live 2016 comes first in PATH.
> 
> Strange enough that TeX Live 2013 is aware of a directory
> ~/.texlive2016 .
> 
> Charles, can you send us the output of
> 
>   tlmgr conf
Hello:

I'll try doing that tonight (its 10:45am here), when I hope to have a
moment to work with my home desktop.

Thank you!
Chip Campbell


From reinhard.kotucha at web.de  Sat Jan 28 00:34:46 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 28 Jan 2017 00:34:46 +0100
Subject: [tex-live] texlive setup problems
In-Reply-To: <20170127012134.477dwqf3kn7qcknc@bulldog.preining.info>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
 <22666.40851.566.390375@zaphod.ms25.net>
 <20170127012134.477dwqf3kn7qcknc@bulldog.preining.info>
Message-ID: <22667.55574.266495.81689@zaphod.ms25.net>

On 2017-01-27 at 10:21:34 +0900, Norbert Preining wrote:

 > >  > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match
 > 
 > > Maybe it's better not to remove anything right now because Charles is
 > > able to reproduce the bug and can provide further information.
 > 
 > Reinhard, the bug is obvious to me. An *old* format is tried to be 
 > loaded into a newer engine. That is very typical.

Hi Norbert,
obviously, of course, but this is not what I mean.  Since pool files
were even abolished long time before TL-2013 was released, the actual
bug is that they are mentioned at all in error messages.

I would agree with you if a TeX system older than ten years is
involved but this is definitely not the case here.

If an inappropriate format file is loaded, I would expect that TeX
only reports a "Fatal format file error" but doesn't mention a pool
file.  The message we're talking about is misleading.  pdftex does
*not* load a (non-existent) pool file at all but complains that it
doesn't match.

I assume that Knuth's TeX checks whether the format file and the
binary match *and* whether the format file and the pool file match.
Newer engines, which are not aware of pool files, should do only the
first check.  They can't do the the second one anyway, otherwise
creation of format files will always fail.  Hence it's unclear what
triggered this error message.  This is also the reason I said that
someone who is familiar with TeX's internals can provide further
information and probably a patch.

In other words, the actual bug is not that a new binary found a stale
format file or vice versa but the misleading error message.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From zdenek.wagner at gmail.com  Sat Jan 28 09:15:17 2017
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 28 Jan 2017 09:15:17 +0100
Subject: [tex-live] texlive setup problems
In-Reply-To: <22667.55574.266495.81689@zaphod.ms25.net>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
 <22666.40851.566.390375@zaphod.ms25.net>
 <20170127012134.477dwqf3kn7qcknc@bulldog.preining.info>
 <22667.55574.266495.81689@zaphod.ms25.net>
Message-ID: <CAC1phyZjjVLyUuoxg7CzixsOqU=PN67iRFYwybcudEkAWOhB4w@mail.gmail.com>

2017-01-28 0:34 GMT+01:00 Reinhard Kotucha <reinhard.kotucha at web.de>:

> On 2017-01-27 at 10:21:34 +0900, Norbert Preining wrote:
>
>  > >  > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt
> doesn't match
>  >
>  > > Maybe it's better not to remove anything right now because Charles is
>  > > able to reproduce the bug and can provide further information.
>  >
>  > Reinhard, the bug is obvious to me. An *old* format is tried to be
>  > loaded into a newer engine. That is very typical.
>
> Hi Norbert,
> obviously, of course, but this is not what I mean.  Since pool files
> were even abolished long time before TL-2013 was released, the actual
> bug is that they are mentioned at all in error messages.
>

Imagine that you have a mess in PATH, you run a tex binary from 2011 (form
another distro, not from TL) which requires a pool file but it finds a
format from TL 2016 were no pool exists. How can you set a better error
message?

>
> I would agree with you if a TeX system older than ten years is
> involved but this is definitely not the case here.
>
> If an inappropriate format file is loaded, I would expect that TeX
> only reports a "Fatal format file error" but doesn't mention a pool
> file.  The message we're talking about is misleading.  pdftex does
> *not* load a (non-existent) pool file at all but complains that it
> doesn't match.
>
> I assume that Knuth's TeX checks whether the format file and the
> binary match *and* whether the format file and the pool file match.
> Newer engines, which are not aware of pool files, should do only the
> first check.  They can't do the the second one anyway, otherwise
> creation of format files will always fail.  Hence it's unclear what
> triggered this error message.  This is also the reason I said that
> someone who is familiar with TeX's internals can provide further
> information and probably a patch.
>
> In other words, the actual bug is not that a new binary found a stale
> format file or vice versa but the misleading error message.
>
> Regards,
>   Reinhard
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170128/f1843827/attachment.html>

From Rolf.Niepraschk at gmx.de  Sat Jan 28 12:22:49 2017
From: Rolf.Niepraschk at gmx.de (Rolf Niepraschk)
Date: Sat, 28 Jan 2017 12:22:49 +0100
Subject: [tex-live] Recommendations for viewer_md
In-Reply-To: <201701262242.v0QMgc8i002016@freefriends.org>
References: <201701262242.v0QMgc8i002016@freefriends.org>
Message-ID: <b4c8c211-64b0-19c0-2809-e94a6f9c6fc8@gmx.de>

Am 26.01.2017 um 23:42 schrieb Karl Berry:
>     >   texdoc warning: No viewer_md defined, using viewer_txt.
>
> I tweaked texmf-dist/scripts/texdoc/config.tlu to set up viewer_md
> from the usual myriad envvars if set, with a final default of $PAGER:
>   MDVIEWER_texdoc, TEXDOCVIEW_md, TEXDOC_VIEWER_MD, PAGER
>
> I don't think any real viewer of md files is usually installed.
> Didn't try to detect one.
>
> Doc update will have to wait for another time, or forever :(. --thanks, k.
>

Thank you Karl for the update. Now (for example) the following works:

   TEXDOCVIEW_md='(pandoc %s | w3m -T text/html)' texdoc biblatex-lni

...Rolf



From leonid.sinev at gmail.com  Sat Jan 28 18:34:18 2017
From: leonid.sinev at gmail.com (Leonid Sinev)
Date: Sat, 28 Jan 2017 20:34:18 +0300
Subject: [tex-live] Latexmk (42982) and later problem (on Windows only?)
Message-ID: <CAHwQHeEH+UzCvAgCYwpxvvxn0AD3qbXezMP=yP-QAByjme5T_g@mail.gmail.com>

latexmk (42272) produce expected result with commandline:
latexmk -xelatex -jobname=dissertation_xelatex -ps- -dvi- -recorder -silent
dissertation.tex

But latexmk (42982) and latexmk (42993) fail to compile with the following
error:
Collected error summary (may duplicate other messages):
  xelatex: (Pdf)LaTeX failed to generate the expected log file
'dissertation_xel
atex.log'
Latexmk: Did not finish processing file 'dissertation.tex':
   (Pdf)LaTeX failed to generate the expected log file
'dissertation_xelatex.log
'
Latexmk: Use the -f option to force complete processing,
 unless error was exceeding maximum runs of latex/pdflatex.
C:\texlive\2016\bin\win32\runscript.tlu:679: command failed with exit code
12:
perl.exe c:\texlive\2016\texmf-dist\scripts\latexmk\latexmk.pl -xelatex
-jobname=dissertation_xelatex -ps- -dvi- -recorder -silent dissertation.tex

As far as i remember, same happens for -lualatex option also but not with
-pdf.
Fortunately i have found PC with not so up-to-date texlive, archived
latexmk with tlmgr and restored it on my PC.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170128/40acaed3/attachment.html>

From reinhard.kotucha at web.de  Sat Jan 28 21:38:08 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 28 Jan 2017 21:38:08 +0100
Subject: [tex-live] texlive setup problems
In-Reply-To: <CAC1phyZjjVLyUuoxg7CzixsOqU=PN67iRFYwybcudEkAWOhB4w@mail.gmail.com>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
 <22666.40851.566.390375@zaphod.ms25.net>
 <20170127012134.477dwqf3kn7qcknc@bulldog.preining.info>
 <22667.55574.266495.81689@zaphod.ms25.net>
 <CAC1phyZjjVLyUuoxg7CzixsOqU=PN67iRFYwybcudEkAWOhB4w@mail.gmail.com>
Message-ID: <22669.304.661822.688344@zaphod.ms25.net>

On 2017-01-28 at 09:15:17 +0100, Zdenek Wagner wrote:

 > 2017-01-28 0:34 GMT+01:00 Reinhard Kotucha <reinhard.kotucha at web.de>:
 > 
 >     On 2017-01-27 at 10:21:34 +0900, Norbert Preining wrote:
 
 >     ?> Reinhard, the bug is obvious to me. An *old* format is tried to be
 >     ?> loaded into a newer engine. That is very typical.
 >    
 >     Hi Norbert,
 >     obviously, of course, but this is not what I mean.? Since pool files
 >     were even abolished long time before TL-2013 was released, the actual
 >     bug is that they are mentioned at all in error messages.
 > 
 > Imagine that you have a mess in PATH, you run a tex binary from
 > 2011 (form another distro, not from TL) which requires a pool file
 > but it finds a format from TL 2016 were no pool exists. How can you
 > set a better error message?

There were no pool files in TL-2011 either.  The latest TeX Live
release which contained pool files was TL-2007.  I just confirmed this
by searching for pool files in all the TeX Live distros I have
installed (TL-2003 ... TL-2016).

And we are not talking about arbitrary distros:

 >>>>  This is pdfTeX, Version 3.1415926-2.5-1.40.14 (TeX Live 2013)

Zden?k, can you explain why *this* particular version complains about
a missing pool file?

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From karl at freefriends.org  Sun Jan 29 01:20:03 2017
From: karl at freefriends.org (Karl Berry)
Date: Sun, 29 Jan 2017 00:20:03 GMT
Subject: [tex-live] texlive setup problems
In-Reply-To: <22669.304.661822.688344@zaphod.ms25.net>
Message-ID: <201701290020.v0T0K3OC007988@freefriends.org>

I've installed the following change to the error message wording so it
no longer refers to pool files. (With thanks to Akira, as always.)

The pool file is compiled into the tex binary as well as all other. I
think I should change the *POOL definitions in texmf.cnf to /nonesuch to
make it clear they are not intended to be used. If anyone has a reason
to the contrary, let me know ... -k

--- ChangeLog	(revision 43076)
+++ ChangeLog	(working copy)
@@ -1,6 +1,12 @@
+2017-01-28  Karl Berry  <karl at freefriends.org>
+
+	* tex.ch (texarray),
+	* mf.ch (texarray): don't mention nonexistent pool files in error.
+	Thread from http://tug.org/pipermail/tex-live/2017-January/039647.html.
+
[...]
--- alephdir/com16bit.ch	(revision 43076)
+++ alephdir/com16bit.ch	(working copy)
@@ -2177,7 +2177,8 @@
 format_debug('string pool checksum')(x);
 if x<>@$ then begin {check that strings are the same}
   wake_up_terminal;
-  wterm_ln('---! ', stringcast(name_of_file+1), ' doesn''t match ', pool_name);
+  wterm_ln('---! ', stringcast(name_of_file+1),
+           'made by different executable version');
   goto bad_fmt;
 end;
 undump_int(x);
--- mf.ch	(revision 43076)
+++ mf.ch	(working copy)
@@ -1812,7 +1812,8 @@
 undump_int(x);
 if x<>@$ then begin {check that strings are the same}
   wake_up_terminal;
-  wterm_ln('---! ', stringcast(name_of_file+1), ' doesn''t match ', pool_name);
+  wterm_ln('---! ', stringcast(name_of_file+1),
+           'made by different executable version');
   goto off_base;
 end;
 @<Undump |xord|, |xchr|, and |xprn|@>;
--- tex.ch	(revision 43076)
+++ tex.ch	(working copy)
@@ -3477,7 +3477,8 @@
 format_debug('string pool checksum')(x);
 if x<>@$ then begin {check that strings are the same}
   wake_up_terminal;
-  wterm_ln('---! ', stringcast(name_of_file+1), ' doesn''t match ', pool_name);
+  wterm_ln('---! ', stringcast(name_of_file+1),
+           ' made by different executable version');
   goto bad_fmt;
 end;
 @<Undump |xord|, |xchr|, and |xprn|@>;

From reinhard.kotucha at web.de  Sun Jan 29 03:56:20 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 29 Jan 2017 03:56:20 +0100
Subject: [tex-live] texlive setup problems
In-Reply-To: <201701290020.v0T0K3OC007988@freefriends.org>
References: <22669.304.661822.688344@zaphod.ms25.net>
 <201701290020.v0T0K3OC007988@freefriends.org>
Message-ID: <22669.22996.252996.804322@zaphod.ms25.net>

On 2017-01-29 at 00:20:03 GMT, Karl Berry wrote:

 > I've installed the following change to the error message wording so
 > it no longer refers to pool files. (With thanks to Akira, as
 > always.)

 > -  wterm_ln('---! ', stringcast(name_of_file+1), ' doesn''t match ', pool_name);
 > +  wterm_ln('---! ', stringcast(name_of_file+1),
 > +           ' made by different executable version');

Dear Karl,
admittedly, it's a great step forward if links to non-existing files
are removed from error messages.  But it is quite unfortunate that
Knuth's famous error messages are now replaced with something
completely different.  I prefer minimally invasive surgery instead.

What do you think about this approach?

  Replace

    /path/to/<format file> doesn't match <nonexistent pool file>

  with

    /path/to/<format file> doesn't match /path/to/<tex executable>

This is only a slight modification of Knuth's original error message,
which takes into account that the string pool is now compiled into the
binary.  It also contains useful information about the files being
involved (their location).

The most drastic change is that Knuth only mentions the name of the
pool file (without any information about its location) while I suggest
to mention the full path to the executable.  But file systems are OS
dependent and Knuth explicitly allowed to adapt OS specific code.  IMO
we shall take this opportunity in order to provide a good error
message.  Nowadays we have to consider that there are many TeX
distributions which sometimes interfere, a situation which was
unforeseeable four decades ago, when Knuth wrote his amazing program.

 > The pool file is compiled into the tex binary as well as all other. I
 > think I should change the *POOL definitions in texmf.cnf to /nonesuch to
 > make it clear they are not intended to be used. If anyone has a reason
 > to the contrary, let me know ... -k

Do we need the *POOL definitions in texmf.cnf at all if there are no
pool files anymore?  Ancient versions of TeX Live use ancient versions
of texmf.cnf.

Dear Akira,
thank you very much for the explanation.  Though I knew what Taco did
I couldn't explain the error message.  But now it's clear why even
recent executables still complain about missing pool files.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From kakuto at fuk.kindai.ac.jp  Sun Jan 29 13:02:48 2017
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 29 Jan 2017 21:02:48 +0900
Subject: [tex-live] texlive setup problems
In-Reply-To: <22669.22996.252996.804322@zaphod.ms25.net>
References: <22669.304.661822.688344@zaphod.ms25.net>
 <201701290020.v0T0K3OC007988@freefriends.org>
 <22669.22996.252996.804322@zaphod.ms25.net>
Message-ID: <89D9A8241E5D4CB3BBEE045370AA663E@CJ3001517A>

Dear Reinhard,

> But it is quite unfortunate that Knuth's
> famous error messages are now replaced
> with something completely different.

IIRC, the error message was added by tex.ch.
Pardon me if I'm saying something wrong.
I believe that the new one by Karl is sufficient
to know what to do when the message is shown,
which may not be so frequent, although probably
more elaborate one is possible.

Best,
Akira


From daleif at math.au.dk  Mon Jan 30 09:04:08 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 30 Jan 2017 08:04:08 +0000
Subject: [tex-live] Latexmk (42982) and later problem (on Windows only?)
In-Reply-To: <CAHwQHeEH+UzCvAgCYwpxvvxn0AD3qbXezMP=yP-QAByjme5T_g@mail.gmail.com>
References: <CAHwQHeEH+UzCvAgCYwpxvvxn0AD3qbXezMP=yP-QAByjme5T_g@mail.gmail.com>
Message-ID: <1485763454724.37615@math.au.dk>

I suggest you write directly to the latexmk maintainer


http://www.personal.psu.edu/jcc8/


He is usually very fast when it comes to fixing bugs.


Recently the system call for xelatex and lualatex was separated out into $xelatex and $lualatex (earlier it was overloading $pdflatex), and that may have introduced problems.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Leonid Sinev <leonid.sinev at gmail.com>
Sent: 28 January 2017 18:34
To: tex-live at tug.org
Subject: [tex-live] Latexmk (42982) and later problem (on Windows only?)

latexmk (42272) produce expected result with commandline:
latexmk -xelatex -jobname=dissertation_xelatex -ps- -dvi- -recorder -silent dissertation.tex

But latexmk (42982) and latexmk (42993) fail to compile with the following error:
Collected error summary (may duplicate other messages):
  xelatex: (Pdf)LaTeX failed to generate the expected log file 'dissertation_xel
atex.log'
Latexmk: Did not finish processing file 'dissertation.tex':
   (Pdf)LaTeX failed to generate the expected log file 'dissertation_xelatex.log
'
Latexmk: Use the -f option to force complete processing,
 unless error was exceeding maximum runs of latex/pdflatex.
C:\texlive\2016\bin\win32\runscript.tlu:679: command failed with exit code 12:
perl.exe c:\texlive\2016\texmf-dist\scripts\latexmk\latexmk.pl<http://latexmk.pl> -xelatex -jobname=dissertation_xelatex -ps- -dvi- -recorder -silent dissertation.tex

As far as i remember, same happens for -lualatex option also but not with -pdf.
Fortunately i have found PC with not so up-to-date texlive, archived latexmk with tlmgr and restored it on my PC.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170130/fb0db404/attachment.html>

From jcc8 at psu.edu  Mon Jan 30 12:58:23 2017
From: jcc8 at psu.edu (John Collins)
Date: Mon, 30 Jan 2017 06:58:23 -0500
Subject: [tex-live] Latexmk (42982) and later problem (on Windows only?)
In-Reply-To: <1485763454724.37615@math.au.dk>
References: <CAHwQHeEH+UzCvAgCYwpxvvxn0AD3qbXezMP=yP-QAByjme5T_g@mail.gmail.com>
 <1485763454724.37615@math.au.dk>
Message-ID: <ee10acf2-196d-e1e4-d98b-33afb924e6c3@psu.edu>

The bug has already been reported and corrected in latexmk 4.53c.  But I 
dropped the ball and didn't upload the corrected version to CTAN, so 
it's not yet in TeXLive.  I'll upload it today.  Meanwhile the corrected 
version is at 
http://personal.psu.edu/jcc8/software/latexmk-jcc/versions.html

John

On 1/30/17 3:04 AM, Lars Madsen wrote:
> I suggest you write directly to the latexmk maintainer
>
>
> http://www.personal.psu.edu/jcc8/
>
>
> He is usually very fast when it comes to fixing bugs.
>
>
> Recently the system call for xelatex and lualatex was separated out into
> $xelatex and $lualatex (earlier it was overloading $pdflatex), and that
> may have introduced problems.
>
>
>
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at math <http://au.dk/daleif at imf> / More
> information: http://au.dk/en/daleif at math <http://au.dk/en/daleif at imf>
>
> ------------------------------------------------------------------------
> *From:* tex-live <tex-live-bounces at tug.org> on behalf of Leonid Sinev
> <leonid.sinev at gmail.com>
> *Sent:* 28 January 2017 18:34
> *To:* tex-live at tug.org
> *Subject:* [tex-live] Latexmk (42982) and later problem (on Windows only?)
>
> latexmk (42272) produce expected result with commandline:
> latexmk -xelatex -jobname=dissertation_xelatex -ps- -dvi- -recorder
> -silent dissertation.tex
>
> But latexmk (42982) and latexmk (42993) fail to compile with the
> following error:
> Collected error summary (may duplicate other messages):
>   xelatex: (Pdf)LaTeX failed to generate the expected log file
> 'dissertation_xel
> atex.log'
> Latexmk: Did not finish processing file 'dissertation.tex':
>    (Pdf)LaTeX failed to generate the expected log file
> 'dissertation_xelatex.log
> '
> Latexmk: Use the -f option to force complete processing,
>  unless error was exceeding maximum runs of latex/pdflatex.
> C:\texlive\2016\bin\win32\runscript.tlu:679: command failed with exit
> code 12:
> perl.exe c:\texlive\2016\texmf-dist\scripts\latexmk\latexmk.pl
> <http://latexmk.pl> -xelatex -jobname=dissertation_xelatex -ps- -dvi-
> -recorder -silent dissertation.tex
>
> As far as i remember, same happens for -lualatex option also but not
> with -pdf.
> Fortunately i have found PC with not so up-to-date texlive, archived
> latexmk with tlmgr and restored it on my PC.


From jcc8 at psu.edu  Mon Jan 30 14:16:15 2017
From: jcc8 at psu.edu (John Collins)
Date: Mon, 30 Jan 2017 08:16:15 -0500
Subject: [tex-live] Latexmk (42982) and later problem (on Windows only?)
In-Reply-To: <ee10acf2-196d-e1e4-d98b-33afb924e6c3@psu.edu>
References: <CAHwQHeEH+UzCvAgCYwpxvvxn0AD3qbXezMP=yP-QAByjme5T_g@mail.gmail.com>
 <1485763454724.37615@math.au.dk>
 <ee10acf2-196d-e1e4-d98b-33afb924e6c3@psu.edu>
Message-ID: <c8e94383-c785-02f3-8243-7b46c70571fd@psu.edu>

Correction to the message: It's latexmk 4.52c not 4.53c.  The upload to 
CTAN has been done.

John

On 1/30/17 6:58 AM, John Collins wrote:
> The bug has already been reported and corrected in latexmk 4.53c.  But I
> dropped the ball and didn't upload the corrected version to CTAN, so
> it's not yet in TeXLive.  I'll upload it today.  Meanwhile the corrected
> version is at
> http://personal.psu.edu/jcc8/software/latexmk-jcc/versions.html


From astronaut at verizon.net  Tue Jan 31 04:33:26 2017
From: astronaut at verizon.net (Charles E Campbell)
Date: Mon, 30 Jan 2017 22:33:26 -0500
Subject: [tex-live] texlive setup problems
In-Reply-To: <22666.40851.566.390375@zaphod.ms25.net>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <20170126140308.4kqii2za55u7w3ll@burischnitzel.preining.info>
 <22666.40851.566.390375@zaphod.ms25.net>
Message-ID: <ea597b39-921d-71c5-b339-a79760de7513@verizon.net>

Reinhard Kotucha wrote:
> On 2017-01-26 at 23:03:08 +0900, Norbert Preining wrote:
>
>   > On Wed, 25 Jan 2017, Charles E Campbell wrote:
>   > > ---! /home/cec/.texlive2016/texmf-var/web2c/pdftex/latex.fmt doesn't match
>   >
>   > Remove
>   > 	/home/cec/.texlive2016/texmf-var/web2c/pdftex
>   > and maybe even more radically
>   > 	/home/cec/.texlive2016/texmf-var/*
>   > and it should work.
>
> Maybe it's better not to remove anything right now because Charles is
> able to reproduce the bug and can provide further information.
>
> The problem is not that different versions of TeX Live are involved,
> the main problem which has to be fixed is that programs which are not
> aware of pool files at all complain about missing pool files.
> Charles' broken setup can be quite helpful in order to confirm that a
> bugfix solves the problem.
>
> Sure, I assume that Charles needs a working TeX Live system right now.
> But then I wouldn't suggest to delete any files provided by TL-2016 in
> favour of an ancient release (TL-2013).  It's better to make sure that
> the bin/ directory of TeX Live 2016 comes first in PATH.
>
> Strange enough that TeX Live 2013 is aware of a directory
> ~/.texlive2016 .
>
> Charles, can you send us the output of
>
>    tlmgr conf
Unfortunately, tlmgr conf doesn't work with my former path:

which latex
/usr/bin/latex
cec/ fsp#11 djinni? tlmgr conf
ksh: tlmgr: not found [No such file or directory]

Regards,
Chip Campbell


From astronaut at verizon.net  Tue Jan 31 04:45:02 2017
From: astronaut at verizon.net (Charles E Campbell)
Date: Mon, 30 Jan 2017 22:45:02 -0500
Subject: [tex-live] texlive setup problems
In-Reply-To: <CAC1phyYj0_7Mt6+ob9kzgjqWqBso=V_vVF-o21ExxeC9QADgsg@mail.gmail.com>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <CAC1phyYj0_7Mt6+ob9kzgjqWqBso=V_vVF-o21ExxeC9QADgsg@mail.gmail.com>
Message-ID: <88ac1fdb-39d1-d54b-9679-bf447eced1f6@verizon.net>

Zdenek Wagner wrote:
> This usually happens when you have two TeX distros and the TeX Live 
> binary is not at the _beginning_ of PATH. The files are then often 
> mixed and the result is total confusion.
>
I've now got my PATH fixed...

which latex
/usr/local/texlive/2016/bin/x86_64-linux/latex

but it now gives me yet another problem:

latex roster2016.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016) 
(preloaded format=latex)
  restricted \write18 enabled.

kpathsea: Running mktexfmt latex.fmt
mktexfmt: mktexfmt is using the following fmtutil.cnf files (in 
precedence order):
mktexfmt: mktexfmt is using the following fmtutil.cnf file for writing 
changes:
mktexfmt:   /home/cec/.texlive2016/texmf-config/web2c/fmtutil.cnf
mktexfmt [INFO]: writing formats under 
/home/cec/.texlive2016/texmf-var/web2c
mktexfmt [INFO]: did not find entry for byfmt=latex, skipped
mktexfmt [INFO]: Total formats: 0
mktexfmt [INFO]: exiting with status 0
I can't find the format file `latex.fmt'!

I'd moved two earlier instances out (.texlive2007/ to 
keep_.texlive2007/, and similarly for .texlive2012).  Once I get a 
working latex I plan on removing those, btw.
This sounds like another path issue...

/usr/local/texlive/2016/texmf-var/web2c/pdftex/latex.fmt

does exist.

Thank you for helping with this,
Chip Campbell

From preining at logic.at  Tue Jan 31 07:48:09 2017
From: preining at logic.at (Norbert Preining)
Date: Tue, 31 Jan 2017 15:48:09 +0900
Subject: [tex-live] texlive setup problems
In-Reply-To: <88ac1fdb-39d1-d54b-9679-bf447eced1f6@verizon.net>
References: <d7fe6809-941b-ec83-aafd-c5608edbddf0@verizon.net>
 <CAC1phyYj0_7Mt6+ob9kzgjqWqBso=V_vVF-o21ExxeC9QADgsg@mail.gmail.com>
 <88ac1fdb-39d1-d54b-9679-bf447eced1f6@verizon.net>
Message-ID: <20170131064809.bmmazijxzha2gw5j@burischnitzel.preining.info>

> I've now got my PATH fixed...
> 
> which latex
> /usr/local/texlive/2016/bin/x86_64-linux/latex

How? For all shells (subshells or only the current one)?

> kpathsea: Running mktexfmt latex.fmt
> mktexfmt: mktexfmt is using the following fmtutil.cnf files (in precedence
> order):

You don't have any fmtutil.cnf file, that sounds very strange.

> mktexfmt [INFO]: Total formats: 0
> mktexfmt [INFO]: exiting with status 0

And indeed, you have no formats.

How did you install texlive? Is everything there.

> /usr/local/texlive/2016/texmf-var/web2c/pdftex/latex.fmt
> 
> does exist.

My guess is again that your PATH is not correctly set up for *all*
shells, including new ones.


Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

