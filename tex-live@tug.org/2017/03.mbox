From reinhard.kotucha at web.de  Wed Mar  1 00:57:46 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 1 Mar 2017 00:57:46 +0100
Subject: [tex-live] gnadhi.map not loaded by updmap
In-Reply-To: <20170228172353.d5ADS1hX5%rdt@cs.queensu.ca>
References: <8737eyhfph.fsf@pallej.dk>
 <20170228113559.wPeyGjPH1%rdt@cs.queensu.ca>
 <8437ey5kjl.fsf@siart.de>
 <20170228172353.d5ADS1hX5%rdt@cs.queensu.ca>
Message-ID: <22710.3706.111159.759028@zaphod.ms25.net>

On 2017-02-28 at 12:23:53 -0500, Bob Tennent wrote:

 >  >|> The license for gandhi in not entirely free and this package
 >  >|> should I think not be in TeXLive. See License.pdf in the doc
 >  >|> directory.
 >  >|
 >  >|I think the only obstacle is the ?don't sell? restriction. So,
 >  >|would this package be a candidate for distribution via
 >  >|getnonfreefonts?
 > 
 > I would think so.

I already looked into them and will add them soon.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From reinhard.kotucha at web.de  Wed Mar  1 02:43:07 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 1 Mar 2017 02:43:07 +0100
Subject: [tex-live] tu-clash
In-Reply-To: <201702280001.v1S01ooO025275@freefriends.org>
References: <22707.27691.949137.540407@zaphod.ms25.net>
 <201702280001.v1S01ooO025275@freefriends.org>
Message-ID: <22710.10027.312108.178372@zaphod.ms25.net>

On 2017-02-28 at 00:01:50 GMT, Karl Berry wrote:

 >     It's a pity that nobody suggested such a
 >     change during the teTeX-2.0 beta tests.
 > 
 > Thomas E. and I did discuss it. At that time, the infrastructure
 > (of making formats, automatic updates) was far less developed, not
 > to say nonexistent, and the choice was not clear. Ultimately we
 > decided that it would be better for users if "fmtutil" continued to
 > be for user areas, and the new program, fmtutil-sys, would be for
 > system areas, thus (we thought) putting the burden on people more
 > able to handle it.
 > 
 > As things have developed, that was the wrong decision, but it was
 > an actual decision with some rationale, not just a random choice.

Hi Karl,
this is exactly what I surmised.  At that time nobody considered that
TeX systems could be updated at any time one day.  AFAIR the only
complaits came from system admins who accidentally ran updmap or
fmtutil with root permissions and the created files were installed at
/root instead of beeing visible to users.

 > I'm not sure if we can ameliorate the situation now.

For updmap one could consider a set of symlinks:

  mktexmap -> updmap-sys
  mktexmap-user -> updmap

and replace updmap with mktexmap in the documentation.  Existing
scripts will still work, newbies will use the new names, people who
are using teTeX/TeX Live for decades probably need some time in order
to change their habits.

fmtutil is more difficult because there is a similar symlink already:

  mktexfmt -> fmtutil

I don't know how dangerous it is to change it now

  mktexfmt -> fmtutil-sys
  mktexfmt-user -> fmtutil

If such a change is considered too dangerous,

  mktexformat -> fmtutil-sys
  mktexformat-user -> fmtutil

could be an alternative though I think mktexfmt is the better name.

Werner, a link from fmtutil to fmtutil-user isn't sufficient because
the main problem is that people invoke fmtutil accidentally.  And they
will do even if fmtutil-user is available.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From preining at logic.at  Wed Mar  1 03:31:30 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 1 Mar 2017 11:31:30 +0900
Subject: [tex-live] tu-clash
In-Reply-To: <22710.10027.312108.178372@zaphod.ms25.net>
References: <22707.27691.949137.540407@zaphod.ms25.net>
 <201702280001.v1S01ooO025275@freefriends.org>
 <22710.10027.312108.178372@zaphod.ms25.net>
Message-ID: <20170301023130.2wmrrbsndpp35an3@bulldog.preining.info>

On Wed, 01 Mar 2017, Reinhard Kotucha wrote:
> Werner, a link from fmtutil to fmtutil-user isn't sufficient because
> the main problem is that people invoke fmtutil accidentally.  And they
> will do even if fmtutil-user is available.

We are ventilating ideas to have
	{fmtutil,updmap}-{sys,user}
scripts, and only those can be actually called. The base scripts
	{fmtutil,updmap}
will issue a warning and tell the user to either use -user cmd line
option or -user script (basically the same), and refer at the same
time to a (to be written) web page explaining best practices.

I really think that all usage of {updmap,fmtutil} out there falls into
two categories:
* experts knowing what they are doing
* unaware calls
The first are not a problem, they will need to adjust but can.
The second will be pushed to learn the correct method.

It is just making Gedankexperiments by now, but I really want to change
something for TL2017.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From d.p.carlisle at gmail.com  Wed Mar  1 08:49:48 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 1 Mar 2017 07:49:48 +0000
Subject: [tex-live] mvorigin option in (x)dvipdfmx
In-Reply-To: <6BC48E3B2669404B9BF7BCFD69F30734@CJ3001517A>
References: <6BC48E3B2669404B9BF7BCFD69F30734@CJ3001517A>
Message-ID: <CAEW6iOjZS8jJaqA8knQYTCni-55=wn0iMitN1DuZqnWz7q6XzA@mail.gmail.com>

On 28 February 2017 at 22:11, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>> --mvorigin option becomes redundant and can be removed
>> in TeX Live 2017.
>
>
> I want to keep the option, since it will be still
> convenient, for example in the case of plain TeX
> such as
>...

Akira,
yes that's fine,  thanks for the confirmation though.
I'll try to get an updated def file for testing as soon as I get some time:-)

David

From daleif at math.au.dk  Wed Mar  1 12:25:31 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 1 Mar 2017 11:25:31 +0000
Subject: [tex-live] reset tlmgr to default net repo via cli
Message-ID: <1488367533656.13165@math.au.dk>

Hi

I sometimes install TL from a tlnet copy from my office PC. Afterwards I'd like the installation to get updated from the standard net repo.

The gui has a nice button for this, so I'm wondering if there is a cli option that can be used to do this reconfiguration (so I do not need to remember the URL for the default net repo).

It seems I can do this

tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet

but then I need to remember it, or look in the man pages, would an alias for the default net-repo be possible so one could do

tlmgr option repository net-default


?

/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math



From preining at logic.at  Wed Mar  1 15:44:29 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 01 Mar 2017 23:44:29 +0900
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <1488367533656.13165@math.au.dk>
References: <1488367533656.13165@math.au.dk>
Message-ID: <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>

     tlmgr option repository ctan
should work..

Norbert

On March 1, 2017 8:25:31 PM GMT+09:00, Lars Madsen <daleif at math.au.dk> wrote:
>Hi
>
>I sometimes install TL from a tlnet copy from my office PC. Afterwards
>I'd like the installation to get updated from the standard net repo.
>
>The gui has a nice button for this, so I'm wondering if there is a cli
>option that can be used to do this reconfiguration (so I do not need to
>remember the URL for the default net repo).
>
>It seems I can do this
>
>tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet
>
>but then I need to remember it, or look in the man pages, would an
>alias for the default net-repo be possible so one could do
>
>tlmgr option repository net-default
>
>
>?
>
>/Lars Madsen
>Institut for Matematik / Department of Mathematics
>Aarhus Universitet / Aarhus University
>Mere info: http://au.dk/daleif at math / More information:
>http://au.dk/en/daleif at math

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From daleif at math.au.dk  Wed Mar  1 15:59:37 2017
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 1 Mar 2017 14:59:37 +0000
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>
References: <1488367533656.13165@math.au.dk>,
 <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>
Message-ID: <1488380380183.410@math.au.dk>

nice

is that documented?  I obviously never search for 'ctan'


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: Norbert Preining <preining at logic.at>
Sent: 01 March 2017 15:44
To: tex-live at tug.org; Lars Madsen
Subject: Re: [tex-live] reset tlmgr to default net repo via cli

     tlmgr option repository ctan
should work..

Norbert

On March 1, 2017 8:25:31 PM GMT+09:00, Lars Madsen <daleif at math.au.dk> wrote:
>Hi
>
>I sometimes install TL from a tlnet copy from my office PC. Afterwards
>I'd like the installation to get updated from the standard net repo.
>
>The gui has a nice button for this, so I'm wondering if there is a cli
>option that can be used to do this reconfiguration (so I do not need to
>remember the URL for the default net repo).
>
>It seems I can do this
>
>tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet
>
>but then I need to remember it, or look in the man pages, would an
>alias for the default net-repo be possible so one could do
>
>tlmgr option repository net-default
>
>
>?
>
>/Lars Madsen
>Institut for Matematik / Department of Mathematics
>Aarhus Universitet / Aarhus University
>Mere info: http://au.dk/daleif at math / More information:
>http://au.dk/en/daleif at math

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From kbrow1i at gmail.com  Wed Mar  1 17:33:41 2017
From: kbrow1i at gmail.com (Ken Brown)
Date: Wed, 1 Mar 2017 11:33:41 -0500
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <1488380380183.410@math.au.dk>
References: <1488367533656.13165@math.au.dk>
 <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>
 <1488380380183.410@math.au.dk>
Message-ID: <68b1bb13-feb5-aae0-d044-743cdfcbe35e@gmail.com>

On 3/1/2017 9:59 AM, Lars Madsen wrote:
 > From: Norbert Preining <preining at logic.at>
 > Sent: 01 March 2017 15:44
 > To: tex-live at tug.org; Lars Madsen
 > Subject: Re: [tex-live] reset tlmgr to default net repo via cli
 >
 >      tlmgr option repository ctan
 > should work..
 >
 > Norbert

> nice
>
> is that documented?  I obviously never search for 'ctan'

The first example command given by 'tlmgr --help' is

     "tlmgr option repository http://mirror.ctan.org/systems/texlive/tlnet"

This example is repeated later under the help for 'tlmgr option'. 
Norbert, maybe it would be useful to give the shorter version (with the 
URL replaced by "ctan") instead of or in addition to the long version.

Ken

From P.Taylor at Rhul.Ac.Uk  Wed Mar  1 19:45:39 2017
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 1 Mar 2017 18:45:39 +0000
Subject: [tex-live] TeX Live 2016 CMD window remains open
Message-ID: <ab19e1d5-afc7-03f2-8403-aa8d2f097911@Rhul.Ac.Uk>

Just out of interest, I performed an "Update all installed" via the GUI after performing a command-line "TLMGR option repository ctan" [1] and I notice that although the exercise appears to have concluded the CMD window has remained open, displaying :
> [421/422, 01:28:04/01:28:04] auto-install: collection-mathscience (43350) [2k] .
> .. done
> [422/422, 01:28:05/01:28:05] update: scheme-full [1k] (41825 -> 42384) ... done
> running mktexlsr ...
> done running mktexlsr.
> running mtxrun --generate ...
> done running mtxrun --generate.
> running updmap-sys ...
> done running updmap-sys.
> regenerating fmtutil.cnf in E:/TeX/Live/2016/texmf-dist
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine ptex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine ptex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine luajittex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine luajittex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine euptex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine euptex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine uptex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine uptex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine xetex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine xetex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine eptex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine eptex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine luatex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine luatex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine aleph ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine aleph.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine tex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine tex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-if-no-
> format --byengine pdftex ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --no-error-i
> f-no-format --byengine pdftex.
> running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --byfmt mf ...
> done running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --byfmt mf.
> Completed.
Philip Taylor

From reinhard.kotucha at web.de  Wed Mar  1 22:36:37 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 1 Mar 2017 22:36:37 +0100
Subject: [tex-live] gnadhi.map not loaded by updmap
In-Reply-To: <22710.3706.111159.759028@zaphod.ms25.net>
References: <8737eyhfph.fsf@pallej.dk>
 <20170228113559.wPeyGjPH1%rdt@cs.queensu.ca>
 <8437ey5kjl.fsf@siart.de>
 <20170228172353.d5ADS1hX5%rdt@cs.queensu.ca>
 <22710.3706.111159.759028@zaphod.ms25.net>
Message-ID: <22711.16101.552963.864704@zaphod.ms25.net>

On 2017-03-01 at 00:57:46 +0100, Reinhard Kotucha wrote:

 > On 2017-02-28 at 12:23:53 -0500, Bob Tennent wrote:
 > 
 >  >  >|> The license for gandhi in not entirely free and this package
 >  >  >|> should I think not be in TeXLive. See License.pdf in the doc
 >  >  >|> directory.
 >  >  >|
 >  >  >|I think the only obstacle is the ?don't sell? restriction. So,
 >  >  >|would this package be a candidate for distribution via
 >  >  >|getnonfreefonts?
 >  > 
 >  > I would think so.
 > 
 > I already looked into them and will add them soon.

Done.  You can try now

  getnonfreefonts[-sys] --lsfonts

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From news3 at nililand.de  Wed Mar  1 22:52:42 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 1 Mar 2017 22:52:42 +0100
Subject: [tex-live] dvips option -T ignored if a document contains
	specials.
References: <1q85u1u1qzks7.dlg@nililand.de>
 <1803390DED7C41E2A2873FA9185C41D8@CJ3001517A>
Message-ID: <l7x7r7x2jp4o$.dlg@nililand.de>

Am Wed, 1 Mar 2017 07:02:51 +0900 schrieb Akira Kakuto:

>> In this dvips the handling of \specials for papersizes have been
>> changed to be more in line with the other engines/drivers -- now the
>> last paper size settings wins. This seems to have a side-effect on
>> the -T option as has been reported on the miktex list.
> 
> I think I fixed the problem in r43362.

Thanks!

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From rdt at cs.queensu.ca  Wed Mar  1 22:53:37 2017
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Wed, 01 Mar 2017 16:53:37 -0500
Subject: [tex-live] gnadhi.map not loaded by updmap
In-Reply-To: <22711.16101.552963.864704@zaphod.ms25.net>
References: <8737eyhfph.fsf@pallej.dk>
 <20170228113559.wPeyGjPH1%rdt@cs.queensu.ca> <8437ey5kjl.fsf@siart.de>
 <20170228172353.d5ADS1hX5%rdt@cs.queensu.ca>
 <22710.3706.111159.759028@zaphod.ms25.net>
 <22711.16101.552963.864704@zaphod.ms25.net>
Message-ID: <20170301215337.A4aRQCVe4%rdt@cs.queensu.ca>

 >|Done.  You can try now
 >|
 >|  getnonfreefonts[-sys] --lsfonts

Thanks.  Works fine.

Best,
Bob T.

From reinhard.kotucha at web.de  Thu Mar  2 00:35:58 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 2 Mar 2017 00:35:58 +0100
Subject: [tex-live] gnadhi.map not loaded by updmap
In-Reply-To: <20170301215337.A4aRQCVe4%rdt@cs.queensu.ca>
References: <8737eyhfph.fsf@pallej.dk>
 <20170228113559.wPeyGjPH1%rdt@cs.queensu.ca>
 <8437ey5kjl.fsf@siart.de>
 <20170228172353.d5ADS1hX5%rdt@cs.queensu.ca>
 <22710.3706.111159.759028@zaphod.ms25.net>
 <22711.16101.552963.864704@zaphod.ms25.net>
 <20170301215337.A4aRQCVe4%rdt@cs.queensu.ca>
Message-ID: <22711.23262.989780.392791@zaphod.ms25.net>

On 2017-03-01 at 16:53:37 -0500, Bob Tennent wrote:

 >  >|Done.  You can try now
 >  >|
 >  >|  getnonfreefonts[-sys] --lsfonts
 > 
 > Thanks.  Works fine.

Nice to hear.  Adding new fonts is easy if there is a TDS compliant
package on CTAN.  Everything else requires much more work.

Whenever you provide an update, it would be nice if you at least
update the time stamp at the top of the README too.  getnonfreefonts
currently compares the README installed on your system with that on
CTAN in order to determine whether an update is available.

Thanks and best Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From preining at logic.at  Thu Mar  2 00:43:08 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 2 Mar 2017 08:43:08 +0900
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <1488380380183.410@math.au.dk>
References: <1488367533656.13165@math.au.dk>
 <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>
 <1488380380183.410@math.au.dk>
Message-ID: <20170301234308.yeqafxpedntqfhln@bulldog.preining.info>

> nice

$ tlmgr option repository ctan
tlmgr: setting default package repository to http://mirror.ctan.org/systems/texlive/tlnet

> is that documented?  I obviously never search for 'ctan'

Probably not ;-)

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Thu Mar  2 00:49:54 2017
From: norbert at preining.info (Norbert Preining)
Date: Thu, 2 Mar 2017 08:49:54 +0900
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <68b1bb13-feb5-aae0-d044-743cdfcbe35e@gmail.com>
References: <1488367533656.13165@math.au.dk>
 <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>
 <1488380380183.410@math.au.dk>
 <68b1bb13-feb5-aae0-d044-743cdfcbe35e@gmail.com>
Message-ID: <20170301234954.voqda63sxgwsuan3@bulldog.preining.info>

> This example is repeated later under the help for 'tlmgr option'. Norbert,
> maybe it would be useful to give the shorter version (with the URL replaced
> by "ctan") instead of or in addition to the long version.

Already done by Karl ;-) Thanks.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Thu Mar  2 01:04:39 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 01 Mar 2017 17:04:39 -0700
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <20170301234308.yeqafxpedntqfhln@bulldog.preining.info> (message
 from Norbert Preining on Thu, 2 Mar 2017 08:43:08 +0900)
Message-ID: <86varsee7c.fsf@frenzy.freefriends.org>

    > is that documented?  I obviously never search for 'ctan'

    Probably not ;-)

I had documented it in install-tl, but failed to do so in tlmgr.
Updated for TL17 if not before ... thanks for the report.

(And thanks to Ken also. :)

From reinhard.kotucha at web.de  Thu Mar  2 01:27:58 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 2 Mar 2017 01:27:58 +0100
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <20170301234308.yeqafxpedntqfhln@bulldog.preining.info>
References: <1488367533656.13165@math.au.dk>
 <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>
 <1488380380183.410@math.au.dk>
 <20170301234308.yeqafxpedntqfhln@bulldog.preining.info>
Message-ID: <22711.26382.798818.81108@zaphod.ms25.net>

On 2017-03-02 at 08:43:08 +0900, Norbert Preining wrote:

 > > nice
 > 
 > $ tlmgr option repository ctan tlmgr: setting default package
 > repository to http://mirror.ctan.org/systems/texlive/tlnet
 > 
 > > is that documented?  I obviously never search for 'ctan'
 > 
 > Probably not ;-)

Is it desirable to use http://mirror.ctan.org at all?  Whenever you
update your system you are directed to a different mirror and not all
mirrors are always up-to-date.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From usenet at siart.de  Thu Mar  2 10:30:35 2017
From: usenet at siart.de (Uwe Siart)
Date: Thu, 02 Mar 2017 10:30:35 +0100
Subject: [tex-live] reset tlmgr to default net repo via cli
References: <1488367533656.13165@math.au.dk>
 <3AA13877-5C2F-436E-B867-C745775335AF@logic.at>
 <1488380380183.410@math.au.dk>
 <20170301234308.yeqafxpedntqfhln@bulldog.preining.info>
 <22711.26382.798818.81108@zaphod.ms25.net>
Message-ID: <84vars6n5w.fsf@siart.de>

Reinhard Kotucha <reinhard.kotucha at web.de> writes:

> On 2017-03-02 at 08:43:08 +0900, Norbert Preining wrote:
>
>  > > nice
>  > 
>  > $ tlmgr option repository ctan tlmgr: setting default package
>  > repository to http://mirror.ctan.org/systems/texlive/tlnet
>  > 
>  > > is that documented?  I obviously never search for 'ctan'
>  > 
>  > Probably not ;-)
>
> Is it desirable to use http://mirror.ctan.org at all?  Whenever you
> update your system you are directed to a different mirror and not all
> mirrors are always up-to-date.

Using http://mirror.ctan.org/ looks like a good idea to me, basically.

I think, the only use case that could give some trouble, happens when
users call "tlmgr update" in quick succession. Then it might happen that
(due to random choice of the mirror) packages get alternately installed
and removed.

What about pointing to that problem in the documentation? Perhaps it
would be enough to distract users from doing updates in intervals
shorter than one day.

-- 
Uwe


From news3 at nililand.de  Thu Mar  2 14:28:12 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 2 Mar 2017 14:28:12 +0100
Subject: [tex-live] xe(la)ex and font searching delay
Message-ID: <xlee0e7ltia6.dlg@nililand.de>


Since some time I observe a problem with xelatex and its font
search.   

Today I had a quite extreme example. xelatex hanged so long when
loading size10.clo (where in the newest format the latin modern open
type fonts are loaded) that I at first thought there were a loop
somewhere. 

The delay could be seen in miktex, in texlive 2014 (in this case
with a document) and texlive 2016. But miktex and texlive 2014
behaved again after I waited long enough so that the compilation
succeded. 

With texlive 2016 the only thing that helps is to call 
  fc-cache -f 

Imho the only thing I did that could be font related was to install
a few .ttf fonts in a local texmf tree to try out an example on
tex.sx. 

My impression is that xelatex realizes that the fonts have changes
and triggers the recreation of the cache but that the cache is then
not correctly stored and so is recreated at every compilation until
a manual fc-cache -f corrects the situation.

I'm on windows 10 and installed texlive in my normal user account. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From siepo at cybercomm.nl  Thu Mar  2 14:40:02 2017
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 2 Mar 2017 14:40:02 +0100
Subject: [tex-live] xe(la)ex and font searching delay
In-Reply-To: <xlee0e7ltia6.dlg@nililand.de>
References: <xlee0e7ltia6.dlg@nililand.de>
Message-ID: <20170302134002.xr5x46all6aozyyg@bitmuis.thuis.internal>

On Thu, Mar 02, 2017 at 02:28:12PM +0100, Ulrike Fischer wrote:
> 
> Since some time I observe a problem with xelatex and its font
> search.   
> 
> Today I had a quite extreme example. xelatex hanged so long when
> loading size10.clo (where in the newest format the latin modern open
> type fonts are loaded) that I at first thought there were a loop
> somewhere. 
> 
> The delay could be seen in miktex, in texlive 2014 (in this case
> with a document) and texlive 2016. But miktex and texlive 2014
> behaved again after I waited long enough so that the compilation
> succeded. 
> 
> With texlive 2016 the only thing that helps is to call 
>   fc-cache -f 
> 
> Imho the only thing I did that could be font related was to install
> a few .ttf fonts in a local texmf tree to try out an example on
> tex.sx. 
> 
> My impression is that xelatex realizes that the fonts have changes
> and triggers the recreation of the cache but that the cache is then
> not correctly stored and so is recreated at every compilation until
> a manual fc-cache -f corrects the situation.
> 
> I'm on windows 10 and installed texlive in my normal user account. 

That is a known problem. When xetex tries to refresh the font cache
it fails to overwite the old version with the new version,
apparently because Windows locks the old version for no good reason.

This is a well-known Windows problem, which also occurs in other
situations.

-- 
Siep Kroonenberg

From news3 at nililand.de  Thu Mar  2 14:48:32 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 2 Mar 2017 14:48:32 +0100
Subject: [tex-live] xe(la)ex and font searching delay
References: <xlee0e7ltia6.dlg@nililand.de>
 <20170302134002.xr5x46all6aozyyg@bitmuis.thuis.internal>
Message-ID: <1et5a8osmzh3f$.dlg@nililand.de>

Am Thu, 2 Mar 2017 14:40:02 +0100 schrieb Siep Kroonenberg:

> That is a known problem. When xetex tries to refresh the font cache
> it fails to overwite the old version with the new version,
> apparently because Windows locks the old version for no good reason.
> 
> This is a well-known Windows problem, which also occurs in other
> situations.

But then why does it work with miktex and texlive 2014? There are
installed on the same computer and in the same account.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From preining at logic.at  Thu Mar  2 14:56:54 2017
From: preining at logic.at (Norbert Preining)
Date: Thu, 2 Mar 2017 22:56:54 +0900
Subject: [tex-live] xe(la)ex and font searching delay
In-Reply-To: <1et5a8osmzh3f$.dlg@nililand.de>
References: <xlee0e7ltia6.dlg@nililand.de>
 <20170302134002.xr5x46all6aozyyg@bitmuis.thuis.internal>
 <1et5a8osmzh3f$.dlg@nililand.de>
Message-ID: <20170302135654.amhxqddcwfues2um@bulldog.preining.info>

On Thu, 02 Mar 2017, Ulrike Fischer wrote:
> But then why does it work with miktex and texlive 2014? There are
> installed on the same computer and in the same account.

I guess that is due to the loading of the lmodern fonts, which 
wasn't done before LaTeX 2017/01/01 and the new encoding default.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Thu Mar  2 15:20:25 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 2 Mar 2017 15:20:25 +0100
Subject: [tex-live] xe(la)ex and font searching delay
References: <xlee0e7ltia6.dlg@nililand.de>
 <20170302134002.xr5x46all6aozyyg@bitmuis.thuis.internal>
 <1et5a8osmzh3f$.dlg@nililand.de>
 <20170302135654.amhxqddcwfues2um@bulldog.preining.info>
Message-ID: <1a0nvldxivn88$.dlg@nililand.de>

Am Thu, 2 Mar 2017 22:56:54 +0900 schrieb Norbert Preining:

>> But then why does it work with miktex and texlive 2014? There are
>> installed on the same computer and in the same account.
 
> I guess that is due to the loading of the lmodern fonts, which 
> wasn't done before LaTeX 2017/01/01 and the new encoding default.

I don't think so. I had the problem already last year -- only the
location when xelatex stopped was different as the fonts were loaded
later. It simply happens when xelatex has to load the first open
type font (and so has to access the cache).

Something is blocking xelatex to store the cache files. I can see in
fonts/cache of TL16 a lots of "doublettes": a .cache-7  and a
.cache-7.NEW with the same name. 

 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From h.y.acetaminophen at gmail.com  Thu Mar  2 15:32:29 2017
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Thu, 2 Mar 2017 23:32:29 +0900
Subject: [tex-live] xe(la)ex and font searching delay
In-Reply-To: <xlee0e7ltia6.dlg@nililand.de>
References: <xlee0e7ltia6.dlg@nililand.de>
Message-ID: <33CD01AF-3739-45D2-9AE0-A357E1E858F3@gmail.com>

I guess the bug in fontconfig (2.11.95 or later) is responsible.
https://lists.freedesktop.org/archives/fontconfig/2017-January/005898.html
The problem is already reported to fontconfig developers,
but it is not fixed so far; it seems that Akira Kakuto fixed the issue
(personally) for his W32TeX. See his changelog 2017/01/15.

Hironobu Yamashita



2017/03/02 22:28, Ulrike Fischer <news3 at nililand.de>:

> 
> Since some time I observe a problem with xelatex and its font
> search.   
> 
> Today I had a quite extreme example. xelatex hanged so long when
> loading size10.clo (where in the newest format the latin modern open
> type fonts are loaded) that I at first thought there were a loop
> somewhere. 
> 
> The delay could be seen in miktex, in texlive 2014 (in this case
> with a document) and texlive 2016. But miktex and texlive 2014
> behaved again after I waited long enough so that the compilation
> succeded. 
> 
> With texlive 2016 the only thing that helps is to call 
>  fc-cache -f 
> 
> Imho the only thing I did that could be font related was to install
> a few .ttf fonts in a local texmf tree to try out an example on
> tex.sx. 
> 
> My impression is that xelatex realizes that the fonts have changes
> and triggers the recreation of the cache but that the cache is then
> not correctly stored and so is recreated at every compilation until
> a manual fc-cache -f corrects the situation.
> 
> I'm on windows 10 and installed texlive in my normal user account. 
> 
> 
> -- 
> Ulrike Fischer 
> http://www.troubleshooting-tex.de/
> 

From news3 at nililand.de  Thu Mar  2 15:40:06 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 2 Mar 2017 15:40:06 +0100
Subject: [tex-live] xe(la)ex and font searching delay
References: <xlee0e7ltia6.dlg@nililand.de>
 <33CD01AF-3739-45D2-9AE0-A357E1E858F3@gmail.com>
Message-ID: <1t7gcnbmh8m9b.dlg@nililand.de>

Am Thu, 2 Mar 2017 23:32:29 +0900 schrieb Hironobu Yamashita:

> I guess the bug in fontconfig (2.11.95 or later) is responsible.
> https://lists.freedesktop.org/archives/fontconfig/2017-January/005898.html
> The problem is already reported to fontconfig developers,
> but it is not fixed so far; it seems that Akira Kakuto fixed the issue
> (personally) for his W32TeX. See his changelog 2017/01/15.

Yes, this sound like the probably cause. And if Akira knows about it
there is a good chance that problem with disappear in TL17 ;-).


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From news3 at nililand.de  Thu Mar  2 17:46:50 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 2 Mar 2017 17:46:50 +0100
Subject: [tex-live] texinputs setting for luajitlatex missing in texmf.cnf
Message-ID: <1ilsnepi6ahxo.dlg@nililand.de>

In texmf.cnf there is an entry for luajittex but not luajitlatex:

% LuaTeX.
TEXINPUTS.lualatex      =
.;$TEXMF/tex/{lualatex,latex,luatex,generic,}//
TEXINPUTS.dvilualatex   =
.;$TEXMF/tex/{lualatex,latex,luatex,generic,}//
TEXINPUTS.luatex        = .;$TEXMF/tex/{luatex,plain,generic,}//
TEXINPUTS.luajittex     = .;$TEXMF/tex/{luatex,plain,generic,}//
TEXINPUTS.dviluatex     = .;$TEXMF/tex/{luatex,plain,generic,}//


In my case this meant that during the format generation the
fonttext.cfg from cslatex was used instead of the one in latex/base


Adding 

TEXINPUTS.luajitlatex      =
.;$TEXMF/tex/{lualatex,latex,luatex,generic,}//

to a local texmf.cnf resolved the problem.




-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From karl at freefriends.org  Thu Mar  2 23:12:14 2017
From: karl at freefriends.org (Karl Berry)
Date: Thu, 2 Mar 2017 22:12:14 GMT
Subject: [tex-live] texinputs setting for luajitlatex missing in
	texmf.cnf
In-Reply-To: <1ilsnepi6ahxo.dlg@nililand.de>
Message-ID: <201703022212.v22MCEWS020680@freefriends.org>

    TEXINPUTS.luajitlatex      =
    .;$TEXMF/tex/{lualatex,latex,luatex,generic,}//

Thanks Ulrike.  Installed.  -k

From karl at freefriends.org  Thu Mar  2 23:33:59 2017
From: karl at freefriends.org (Karl Berry)
Date: Thu, 2 Mar 2017 22:33:59 GMT
Subject: [tex-live] reset tlmgr to default net repo via cli
In-Reply-To: <84vars6n5w.fsf@siart.de>
Message-ID: <201703022233.v22MXxRb023312@freefriends.org>

    What about pointing to that problem in the documentation?

I'll think about the best way to do it. Thanks. -k

From alessi at robertalessi.net  Sun Mar  5 14:17:40 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Sun, 5 Mar 2017 14:17:40 +0100
Subject: [tex-live] Fwd: Re: Documentation license
Message-ID: <20170305131740.GC8749@riseup.net>

Hi list (and Hi Karl),

May I forward this question I asked this morning and the reply that I
just got from Gerd?

A bit of context: I am the author of the arabluatex package which is
licensed under the terms of the GPL v3, and is part of TeXLive too.

I am thinking of choosing a license for the documentation and was
considering CC BY-CA as a possible option.

Would that choice be ok for TeXLive?

Cheers,

Robert

----- Forwarded message from Robert Alessi <alessi at robertalessi.net> -----

Date: Sun, 5 Mar 2017 14:05:00 +0100
From: Robert Alessi <alessi at robertalessi.net>
To: Gerd Neugebauer <gene at gerd-neugebauer.de>
Cc: ctan at ctan.org
Subject: Re: Documentation license
User-Agent: Mutt/1.8.0 (2017-02-23)

Hi Gerd,

On Sun, Mar 05, 2017 at 12:56:17PM +0100, Gerd Neugebauer wrote:
[...]
> > For the documentation, I was considering CC BY-SA, but I saw that this
> > license is not listed among the possible choices in the upload form on
> > CTAN. Is that to say that the maintainers of packages are discouraged
> > from adopting CC BY-CA?
> 
> No, it just means that way back in the last millenium when the list has been collected nobody thought about theis alternative.
> We are in the process of renewing the upload page. Then more licenses will be listed for selection.
> In any case it is your software. You decide about the license. Just be aware that non-free licenses might ban your sofftware from distributions like TeXLive -- not from CTAN. But CC BY-SA should not be a problem.
> In any case you should provide an exact name -- including version -- as defined by Creative Commons.
> 
> [...]
Many thanks for this quick reply.  Now I understand much better how
things have been done over the past years.

I'll drop a line to Karl Berry later on just to be absolutely sure
that CC BY-CA license is ok for TexLive too: I could not stand not
even for a second being banned from CTAN or TeXLive!

One final question: if I choose CC BY-CA for the documentation, what
should I pick in the list that is currently presented by the upload
form?
[...]

> Ciao
> Gerd
Cheers!

Robert

----- End forwarded message -----

From karl at freefriends.org  Sun Mar  5 22:36:50 2017
From: karl at freefriends.org (Karl Berry)
Date: Sun, 5 Mar 2017 21:36:50 GMT
Subject: [tex-live] Fwd: Re: Documentation license
In-Reply-To: <20170305131740.GC8749@riseup.net>
Message-ID: <201703052136.v25Lao6D009581@freefriends.org>

Hi Robert - I assume you mean CC BY-SA
(e.g., https://creativecommons.org/licenses/by-sa/4.0).
Yes, that is fine for TL, any version.

I am not aware of anything called CC BY-CA ... --thanks for checking, karl.

From alessi at robertalessi.net  Mon Mar  6 11:18:46 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Mon, 6 Mar 2017 11:18:46 +0100
Subject: [tex-live] Fwd: Re: Documentation license
In-Reply-To: <201703052136.v25Lao6D009581@freefriends.org>
References: <20170305131740.GC8749@riseup.net>
 <201703052136.v25Lao6D009581@freefriends.org>
Message-ID: <20170306101846.GA8397@riseup.net>

Hi Karl,

Aknowledged.  Yes, I meant CC BY-SA, sorry for the typo.

Many thanks,

-- Robert

On Sun, Mar 05, 2017 at 09:36:50PM +0000, Karl Berry wrote:
> Hi Robert - I assume you mean CC BY-SA
> (e.g., https://creativecommons.org/licenses/by-sa/4.0).
> Yes, that is fine for TL, any version.
> 
> I am not aware of anything called CC BY-CA ... --thanks for checking, karl.

From news3 at nililand.de  Mon Mar  6 14:56:02 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 6 Mar 2017 14:56:02 +0100
Subject: [tex-live] synctex bug
Message-ID: <g7agg8qi9cij.dlg@nililand.de>

syntex has a bug in connection with \pdfrefxform (and the similar
command of luatex). 

The problem has already been reported in 2009 
http://tug.org/pipermail/pdftex/2009-May/008027.html 

The bug affects synchronisation if the clip-Option of
\includegraphics is used (which is implemented with \pdfrefxform) 

e.g.
http://tex.stackexchange.com/questions/263105/synctex-fails-for-input-files-related-to-fancyhdr-graphicx

and is also imho the source of this problem
https://sourceforge.net/p/pgf/bugs/333/

Could someone tell me who maintains synctex today (if ever) and
where to report the issue? 



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From karl at freefriends.org  Mon Mar  6 23:45:12 2017
From: karl at freefriends.org (Karl Berry)
Date: Mon, 6 Mar 2017 22:45:12 GMT
Subject: [tex-live] synctex bug
In-Reply-To: <g7agg8qi9cij.dlg@nililand.de>
Message-ID: <201703062245.v26MjC8H031408@freefriends.org>

Hi Ulrike,

    http://tug.org/pipermail/pdftex/2009-May/008027.html 

Gosh.

    Could someone tell me who maintains synctex today (if ever) 

Peter B had been maintaining it since the main development was finished.
So I guess I am maintaining it now :(.

Jerome Laurens originally wrote synctex.  Although he gave up
maintenance a few years ago, I think I will ask him if he can look at it.

    and where to report the issue? 

Here was the right place. --thanks, karl.

From news3 at nililand.de  Tue Mar  7 10:12:15 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 7 Mar 2017 10:12:15 +0100
Subject: [tex-live] synctex bug
References: <g7agg8qi9cij.dlg@nililand.de>
 <201703062245.v26MjC8H031408@freefriends.org>
Message-ID: <ns01sc8qoz5p$.dlg@nililand.de>

Am Mon, 6 Mar 2017 22:45:12 GMT schrieb Karl Berry:

> Hi Ulrike,
> 
>     http://tug.org/pipermail/pdftex/2009-May/008027.html 
> 
> Gosh.
> 
>     Could someone tell me who maintains synctex today (if ever) 
> 
> Peter B had been maintaining it since the main development was finished.
> So I guess I am maintaining it now :(.
> 
> Jerome Laurens originally wrote synctex.  Although he gave up
> maintenance a few years ago, I think I will ask him if he can look at it.
> 
>     and where to report the issue? 
> 
> Here was the right place. --thanks, karl.

Thanks for looking in it. Can you inform me if something happens? 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From alessi at robertalessi.net  Tue Mar  7 18:29:48 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Tue, 7 Mar 2017 18:29:48 +0100
Subject: [tex-live] Documentation license
In-Reply-To: <1097957045.130346.1488721177791@email.1und1.de>
References: <20170305100258.GA3662@riseup.net>
 <1801265589.128917.1488714977878@email.1und1.de>
 <20170305130500.GB8749@riseup.net>
 <1097957045.130346.1488721177791@email.1und1.de>
Message-ID: <20170307172948.GC5399@riseup.net>

On Sun, Mar 05, 2017 at 02:39:37PM +0100, Gerd Neugebauer wrote:
> > One final question: if I choose CC BY-SA for the documentation, what
> > should I pick in the list that is currently presented by the upload
> > form?
> 
> you can select the major license GPL3 from the drop down and add a
> comment mentioning the other licenses.  As you can see for instance
> on https://www.ctan.org/pkg/bibtool we are already able to manage
> more than one license internally.

Aknowledged.  Thanks.

One finalfinal question:  I also added a .el AUCTeX style file for my
package.  Where should it go in the TDS tree?  In source/ or in doc/?
I've seen such files in either directory so far.

Cheers,

Robert


From gene at gerd-neugebauer.de  Tue Mar  7 19:30:29 2017
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Tue, 7 Mar 2017 19:30:29 +0100 (CET)
Subject: [tex-live] Documentation license
In-Reply-To: <20170307172948.GC5399@riseup.net>
References: <20170305100258.GA3662@riseup.net>
 <1801265589.128917.1488714977878@email.1und1.de>
 <20170305130500.GB8749@riseup.net>
 <1097957045.130346.1488721177791@email.1und1.de>
 <20170307172948.GC5399@riseup.net>
Message-ID: <505614442.245237.1488911429435@email.1und1.de>


> On 07 March 2017 at 18:29 Robert Alessi <alessi at robertalessi.net> wrote:
[...]
> One finalfinal question: I also added a .el AUCTeX style file for my
> package. Where should it go in the TDS tree? In source/ or in doc/?
> I've seen such files in either directory so far.

I am not an expert in TDS. I would guess they belong in something like emacs -- which does not exist. Right now they are mainly scattered across the doc directory.
Maybe you should just leave it to the distributions. Maybe the scripts are smart enough to find a good place for Emacs lisp files.

> Cheers,
> Robert

Ciao
Gerd

From karl at freefriends.org  Tue Mar  7 23:10:07 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 7 Mar 2017 22:10:07 GMT
Subject: [tex-live] Documentation license
In-Reply-To: <20170307172948.GC5399@riseup.net>
Message-ID: <201703072210.v27MA7Kh006986@freefriends.org>

    I also added a .el AUCTeX style file for my
    package.  Where should it go in the TDS tree?  In source/ or in doc/?

It doesn't matter. Either one. For it to be used, a user will have to
arrange to load it, or copy it to an Elisp dir, or some such. It is the
same for many non-TeX file types. --best, k.

From reinhard.kotucha at web.de  Tue Mar  7 23:13:14 2017
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 7 Mar 2017 23:13:14 +0100
Subject: [tex-live] Documentation license
In-Reply-To: <505614442.245237.1488911429435@email.1und1.de>
References: <20170305100258.GA3662@riseup.net>
 <1801265589.128917.1488714977878@email.1und1.de>
 <20170305130500.GB8749@riseup.net>
 <1097957045.130346.1488721177791@email.1und1.de>
 <20170307172948.GC5399@riseup.net>
 <505614442.245237.1488911429435@email.1und1.de>
Message-ID: <22719.12410.668055.786164@zaphod.ms25.net>

On 2017-03-07 at 19:30:29 +0100, Gerd Neugebauer wrote:

 > > On 07 March 2017 at 18:29 Robert Alessi <alessi at robertalessi.net> wrote:
 > [...]
 > > One finalfinal question: I also added a .el AUCTeX style file for my
 > > package. Where should it go in the TDS tree? In source/ or in doc/?
 > > I've seen such files in either directory so far.
 > 
 > I am not an expert in TDS. I would guess they belong in something
 > like emacs -- which does not exist. Right now they are mainly
 > scattered across the doc directory.  Maybe you should just leave it
 > to the distributions. Maybe the scripts are smart enough to find a
 > good place for Emacs lisp files.

Shouldn't it better be shipped with AUCTeX?  AFAIK AUCTeX doesn't look
for .el files in TEXMF trees.

I suppose that Mos? Giordano <mose at gnu.org> is the current maintainer
of AUCTeX and recommend to ask him.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From keno.wehr at uni-oldenburg.de  Tue Mar  7 23:02:45 2017
From: keno.wehr at uni-oldenburg.de (Keno Wehr)
Date: Tue, 7 Mar 2017 23:02:45 +0100
Subject: [tex-live] phonenumbers package
Message-ID: <9da5507b-c390-5be4-d23d-cbfadf6f20a0@uni-oldenburg.de>

A few days ago I uploaded a new version of the PHONENUMBERS package to CTAN.
The tex directory includes the new file ?Landeskennzahlen.tex?. This file
is now located in the doc tree of TeX Live, it should be in the tex/latex
tree. Could someone correct this, please? The package does not work at the
moment.

Keno Wehr

From karl at freefriends.org  Tue Mar  7 23:51:15 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 07 Mar 2017 15:51:15 -0700
Subject: [tex-live] phonenumbers package
In-Reply-To: <9da5507b-c390-5be4-d23d-cbfadf6f20a0@uni-oldenburg.de> (message
 from Keno Wehr on Tue, 7 Mar 2017 23:02:45 +0100)
Message-ID: <86a88wn1jw.fsf@frenzy.freefriends.org>

Hi Keno,

    Landeskennzahlen.tex

Ok, i'll fix, but can you please re-upload and prefix all your runtime
files with phn- or some such? Otherwise we're just asking for a hard-to-debug
filename collision at some point. --thanks, karl.

From arash at gnu.org  Wed Mar  8 11:36:26 2017
From: arash at gnu.org (Arash Esbati)
Date: Wed, 08 Mar 2017 11:36:26 +0100
Subject: [tex-live] Documentation license
In-Reply-To: <20170307172948.GC5399@riseup.net> (Robert Alessi's message of
 "Tue, 7 Mar 2017 18:29:48 +0100")
References: <20170305100258.GA3662@riseup.net>
 <1801265589.128917.1488714977878@email.1und1.de>
 <20170305130500.GB8749@riseup.net>
 <1097957045.130346.1488721177791@email.1und1.de>
 <20170307172948.GC5399@riseup.net>
Message-ID: <86shmot5qt.fsf@gnu.org>

Robert Alessi <alessi at robertalessi.net> writes:

> One finalfinal question: I also added a .el AUCTeX style file for my
> package.  Where should it go in the TDS tree?  In source/ or in doc/?
> I've seen such files in either directory so far.

I agree with Reinhard that it would be great if you bundle your style
file with AUCTeX.  Your style is already under GPL, so that part is
already done.  The only thing you will have to do is to assign the
copyright to the FSF.  Here the link if you want to start the process:

http://git.savannah.gnu.org/gitweb/?p=gnulib.git;a=blob;f=doc/Copyright/request-assign.future;hb=HEAD

If you have any questions, please drop a line to <auctex-devel at gnu.org>.

At any rate, I took the liberty and patched your style a little; diff is
attached.  Please review my patch as I'm not familiar with arabluatex
(not even installed on my system).  It should work, though.

Best, Arash

-------------- next part --------------
A non-text attachment was scrubbed...
Name: arabluatex.el.diff
Type: text/x-patch
Size: 2548 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20170308/d82ccba6/attachment.bin>

From alessi at robertalessi.net  Thu Mar  9 09:47:41 2017
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 9 Mar 2017 09:47:41 +0100
Subject: [tex-live] Documentation license
In-Reply-To: <86shmot5qt.fsf@gnu.org>
 <201703072210.v27MA7Kh006986@freefriends.org>
 <22719.12410.668055.786164@zaphod.ms25.net>
 <505614442.245237.1488911429435@email.1und1.de>
Message-ID: <20170309084741.GA1893@riseup.net>

Hi everyone,

Thank you very much for your replies and your help.  I will try to
follow all of your advices.  First I will adapt my makefile to make
the .el file go to doc/ in my TDS archive which is I think the most
widely used directory for this kind of files.

Then I will contact the maintainers of AUCTeX as Reinhard and Arash
suggested.  However, it has to be noted that I currently have three
projects under heavy development, so it's very likely that my .el
files be often modified at least for the next six months to come.  It
may be wise to wait a little before making these part of such stable a
project as AUCTeX.

Thank you for the patch, Arash.  I will send you the comments and
questions I have later on.

Many thanks to all of you for your time!  I'm very grateful.

Best,

-- Robert

On Tue, Mar 07, 2017 at 07:30:29PM +0100, Gerd Neugebauer wrote:
> > On 07 March 2017 at 18:29 Robert Alessi <alessi at robertalessi.net> wrote:
> > One finalfinal question: I also added a .el AUCTeX style file for my
> > package. Where should it go in the TDS tree? In source/ or in doc/?
> > I've seen such files in either directory so far.
> 
> I am not an expert in TDS. I would guess they belong in something
> like emacs -- which does not exist. Right now they are mainly
> scattered across the doc directory.  Maybe you should just leave it
> to the distributions. Maybe the scripts are smart enough to find a
> good place for Emacs lisp files.

On Tue, Mar 07, 2017 at 11:13:14PM +0100, Reinhard Kotucha wrote:
> Shouldn't it better be shipped with AUCTeX?  AFAIK AUCTeX doesn't look
> for .el files in TEXMF trees.

On Tue, Mar 07, 2017 at 10:10:07PM +0000, Karl Berry wrote:
> It doesn't matter. Either one. For it to be used, a user will have to
> arrange to load it, or copy it to an Elisp dir, or some such. It is the
> same for many non-TeX file types. --best, k.

On Wed, Mar 08, 2017 at 11:36:26AM +0100, Arash Esbati wrote:
> I agree with Reinhard that it would be great if you bundle your style
> file with AUCTeX.  Your style is already under GPL, so that part is
> already done.  The only thing you will have to do is to assign the
> copyright to the FSF.  Here the link if you want to start the process:
>
> At any rate, I took the liberty and patched your style a little; diff is
> attached.  Please review my patch as I'm not familiar with arabluatex
> (not even installed on my system).  It should work, though.
> 

From jfbu at free.fr  Sun Mar 12 16:43:08 2017
From: jfbu at free.fr (jfbu)
Date: Sun, 12 Mar 2017 16:43:08 +0100
Subject: [tex-live] what is pdfcolor.tex
Message-ID: <1C966074-59D8-4263-A46E-4F788C65E0BF@free.fr>

Hi,

there is 

/usr/local/texlive/2016/texmf-dist/tex/generic/pdftex/pdfcolor.tex

I am wondering what this file serves for, it defines a bunch
of colours but also ends in definitions of \makefootline
and \makeheadline (also defined by Plain TeX) and sets \pdfoutput to 1,
defines a \setcolor macro, a \pdfsetcolor one, ...

... it looks more like some documentation file, or example file, but
is not in the doc/ tree.

none of the drivers at /usr/local/texlive/2016/texmf-dist/tex/latex/graphics
use it, and neither do those at /usr/local/texlive/2016/texmf-dist/tex/latex/graphics-def

actually, the file looks like a Plain pdfTeX dedicated file,

but it is loaded in some LaTeX package I help maintaining and it
seems to have been there for years for some forgotten reasons,
so any help about its purpose will be appreciated. I expect that
the more modern way is to load color package with suitable options
or xcolor package, to have various colour names defined. (the CMYK
color space is seemingly the topic of pdfcolor.tex and it bypasses
the higher level color package calls)

As the said LaTeX package is trying to support xelatex, lualatex, platex,
I would be happy to get rid of that dependency, which is wrapped
in strange conditionals there,

Jean-Fran?ois

From jfbu at free.fr  Sun Mar 12 17:00:15 2017
From: jfbu at free.fr (jfbu)
Date: Sun, 12 Mar 2017 17:00:15 +0100
Subject: [tex-live] what is pdfcolor.tex
In-Reply-To: <1C966074-59D8-4263-A46E-4F788C65E0BF@free.fr>
References: <1C966074-59D8-4263-A46E-4F788C65E0BF@free.fr>
Message-ID: <1C60D731-2BA4-40D3-9059-C1FD47E0B53C@free.fr>

> 
> /usr/local/texlive/2016/texmf-dist/tex/generic/pdftex/pdfcolor.tex
> 
> I am wondering what this file serves for, 

in fact my question maybe formulated as: is there some LaTeX file
defining macros \SpringGreen etc like there, but as wrappers
to higher level \color[cmyk]{...} calls, so that I can maintain
backwards compatibility in multi-engine way, via color package.

(I guess not)
(but it is easily done of course)
(problem is I will end up defining dozens of macros for maintaining
functionality that may well have been completely forgotten by users
of the package and at any rate was never documented in my context)

best,

Jean-Fran?ois

From jfbu at free.fr  Sun Mar 12 17:13:06 2017
From: jfbu at free.fr (jfbu)
Date: Sun, 12 Mar 2017 17:13:06 +0100
Subject: [tex-live] what is pdfcolor.tex
In-Reply-To: <1C60D731-2BA4-40D3-9059-C1FD47E0B53C@free.fr>
References: <1C966074-59D8-4263-A46E-4F788C65E0BF@free.fr>
 <1C60D731-2BA4-40D3-9059-C1FD47E0B53C@free.fr>
Message-ID: <3521C256-9D81-4944-8FE9-881349669CA0@free.fr>


Le 12 mars 2017 ? 17:00, jfbu <jfbu at free.fr> a ?crit :

>> 
>> /usr/local/texlive/2016/texmf-dist/tex/generic/pdftex/pdfcolor.tex
>> 
>> I am wondering what this file serves for, 
> 
> in fact my question maybe formulated as: is there some LaTeX file
> defining macros \SpringGreen etc like there, but as wrappers
> to higher level \color[cmyk]{...} calls, so that I can maintain
> backwards compatibility in multi-engine way, via color package.
> 
> (I guess not)


I am stupid. These names seem to match exactly with those of dvipsnam.def

Thus I guess I only have to pass dvipsnames option to color.sty...

(these leaves open the question whether I should define macros
too like \SpringGreen ...)

Sorry for annoyance,

JF

From karl at freefriends.org  Mon Mar 13 23:48:05 2017
From: karl at freefriends.org (Karl Berry)
Date: Mon, 13 Mar 2017 22:48:05 GMT
Subject: [tex-live] what is pdfcolor.tex
In-Reply-To: <1C966074-59D8-4263-A46E-4F788C65E0BF@free.fr>
Message-ID: <201703132248.v2DMm5hb026984@freefriends.org>

    /usr/local/texlive/2016/texmf-dist/tex/generic/pdftex/pdfcolor.tex

Hi jf - I agree it is a strange beast.  I tried to move it to doc a
couple years ago and was promptly informed it was still needed.

$ svn log pdfcolor.tex
r33060 | karl | 2014-02-27 23:04:26 +0100 (Thu, 27 Feb 2014) | 1 line
restore pdfcolor.tex, evidently some people/packages use it despite everything

Unfortunately I failed to note the exact messages with the reports and
don't feel like looking it all up now.

Running grep -r on texmf-dist/tex, I see it is \input by cwebmac.tex,
pdfwebmac.tex, and pdfcwebmac.tex. It all should be done differently,
but I'm not inclined to spend time on this.

    but it is loaded in some LaTeX package I help maintaining 

What package? I guess you fixed it already? All to the good to avoid
using pdfcolor.tex, for sure ... --thanks, karl.


From henka20 at hotmail.com  Tue Mar 14 09:00:13 2017
From: henka20 at hotmail.com (Henrik Grimler)
Date: Tue, 14 Mar 2017 08:00:13 +0000
Subject: [tex-live] fmtutil doesn't recognize '--no-strict' as an option
Message-ID: <HE1P195MB0186DED277FCB886D154E0F9A4280@HE1P195MB0186.EURP195.PROD.OUTLOOK.COM>

Hi all,


Some people are currently trying to build a texlive package for the android terminal emulator Termux<http://termux.com/> over at github<https://github.com/termux/termux-packages/pull/752>.


In the most current install-tl-unx.tar.gz<http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz>, the install-tl script executes the command:

    fmtutil-sys $common_fmtutil_args --no-strict --all<http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz>

but the latest available fmtutil.pl script (in texlive-20160523b-source.tar.xz<ftp://ftp.tug.org/texlive/historic/2016/texlive-20160523b-source.tar.xz>) doesn't recognize '--no-strict' as an option and therefore gives an error(warning?) when running the script install-tl.
The problem is solved with the latest development version of fmtutil.pl available from the texlive svn-tree<https://www.tug.org/svn/texlive/trunk/Build/source/texk/texlive/linked_scripts/texlive/fmtutil.pl>.

Perhaps the install-tl script shouldn't call fmtutil with '--no-strict' before texlive 2017 is released?<https://www.tug.org/svn/texlive/trunk/Build/source/texk/texlive/linked_scripts/texlive/fmtutil.pl?>


Best regards,

Henrik Grimler

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20170314/226695f5/attachment.html>

From preining at logic.at  Tue Mar 14 16:05:47 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 15 Mar 2017 00:05:47 +0900
Subject: [tex-live] fmtutil doesn't recognize '--no-strict' as an option
In-Reply-To: <HE1P195MB0186DED277FCB886D154E0F9A4280@HE1P195MB0186.EURP195.PROD.OUTLOOK.COM>
References: <HE1P195MB0186DED277FCB886D154E0F9A4280@HE1P195MB0186.EURP195.PROD.OUTLOOK.COM>
Message-ID: <20170314150547.tc5ge35rmrmbjv2p@bulldog.preining.info>

Hi Henrik,

thanks for your interest! Great to hear that TeX Live is included into
Termux, I myself am using it ;-)

>     fmtutil-sys $common_fmtutil_args --no-strict --all<http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz>

Which is correct.

> but the latest available fmtutil.pl script (in texlive-20160523b-source.tar.xz<ftp://ftp.tug.org/texlive/historic/2016/texlive-20160523b-source.tar.xz>) doesn't recognize '--no-strict' as an option and therefore gives an error(warning?) when running the script install-tl.

Because this is *NOT* the fmtutil you should use at all.

The source.tar.xz *ONLY* builds the binaries and creates a few links, but
it does *NOT* provide a working system.

TeX Live is daily updated, I have updated fmtutil(.pl) several times 
over the last few days, and these changes are shipped out to the
users immediately.

That means, yes, the *BINARIES* built from the above source.tar.xz are
still the same in TeX Live, but consider all of the "executables" which
are actual links into the texmf-dist tree in a way that the authorative
source *is* the svn, or the current tlnet checkout.

> The problem is solved with the latest development version of fmtutil.pl available from the texlive svn-tree<https://www.tug.org/svn/texlive/trunk/Build/source/texk/texlive/linked_scripts/texlive/fmtutil.pl>.

THis is not a problem, but on purpose.

> Perhaps the install-tl script shouldn't call fmtutil with '--no-strict' before texlive 2017 is released?<https://www.tug.org/svn/texlive/trunk/Build/source/texk/texlive/linked_scripts/texlive/fmtutil.pl?>

The install-tl-unx script you are using *should*not*use* the scripts
in the source.tar file, but make a proper installation.

If you are interested, Debian (by myself), SuSE, RedHat and many others have
made packages. The Debian packages are in fact on the status of 
about tlnet Feb/2017.

If you need further details, or want me to look into anything, please
contact us, best on tldistro at tug.org

All the best

Norbert
(responsible, for tlmgr, fmtutil.pl, updmap.pl, ..., and Debian packages)

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Tue Mar 14 23:19:31 2017
From: karl at freefriends.org (Karl Berry)
Date: Tue, 14 Mar 2017 22:19:31 GMT
Subject: [tex-live] fmtutil doesn't recognize '--no-strict' as an option
In-Reply-To: <HE1P195MB0186DED277FCB886D154E0F9A4280@HE1P195MB0186.EURP195.PROD.OUTLOOK.COM>
Message-ID: <201703142219.v2EMJViP009566@freefriends.org>

Hi Henrik - to follow up briefly on Norbert's reply:

1) install-tl-unx.tar.gz (etc.) in tlnet are updated nightly from the
current sources.

2) The historic/*/*.tar.xz files are made at the time of the
release (i.e., last year) and never changed.

So they can't be mixed, as you discovered. You could take the
install-tl-unx from historic, and then they'd be in sync, but more
likely you want to do what Norbert said and use the current runtime and
installer. --best, karl.


From henka20 at hotmail.com  Thu Mar 16 21:37:23 2017
From: henka20 at hotmail.com (Henrik Grimler)
Date: Thu, 16 Mar 2017 20:37:23 +0000
Subject: [tex-live] fmtutil doesn't recognize '--no-strict' as an option
In-Reply-To: <201703142219.v2EMJViP009566@freefriends.org>
References: <HE1P195MB0186DED277FCB886D154E0F9A4280@HE1P195MB0186.EURP195.PROD.OUTLOOK.COM>,
 <201703142219.v2EMJViP009566@freefriends.org>
Message-ID: <HE1P195MB01866989253967EA110CF16AA4260@HE1P195MB0186.EURP195.PROD.OUTLOOK.COM>

Hi Norbert and Karl (and everyone else),

Thanks, makes sense that the install-tl-unx also have to be taken from historic to work together with the (historic) source files. I will use that version instead.

Norbert, thanks, are you saying that we should package texlive similar to as debian and other linux distros do, with many packages called texlive-[something]? Instead of using the install-tl script that is. ("proper installation"?)
That is a good project for future development, I might very well contact you at tldistro. 

Best regards,
Henrik Grimler

From news3 at nililand.de  Sun Mar 19 23:20:25 2017
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 19 Mar 2017 23:20:25 +0100
Subject: [tex-live] synctex bug
References: <g7agg8qi9cij.dlg@nililand.de>
 <201703062245.v26MjC8H031408@freefriends.org>
Message-ID: <1xbin3lukq1jh.dlg@nililand.de>

Am Mon, 6 Mar 2017 22:45:12 GMT schrieb Karl Berry:

> Hi Ulrike,
> 
>     http://tug.org/pipermail/pdftex/2009-May/008027.html 
> 
> Gosh.
> 
>     Could someone tell me who maintains synctex today (if ever) 
> 
> Peter B had been maintaining it since the main development was finished.
> So I guess I am maintaining it now :(.
> 
> Jerome Laurens originally wrote synctex.  Although he gave up
> maintenance a few years ago, I think I will ask him if he can look at it.

I just learned that there is a github repository:
https://github.com/jlaurens/synctex


I will add an issue there so that there is an "official" reference. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From beebe at math.utah.edu  Tue Mar 21 16:53:01 2017
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 21 Mar 2017 09:53:01 -0600
Subject: [tex-live]  status of citesort.sty ?
Message-ID: <CMM.0.96.0.1490111581.beebe@gamma.math.utah.edu>

I was reminded by some of my own writing today that the very useful
citesort.sty, available at

	http://www.math.utah.edu/pub/uuthesis/citesort.sty
	http://ctan.math.utah.edu/tex-archive/obsolete/macros/latex209/contrib/misc/citesort.sty

and whose comments attribute it to Donald Arseneau, is not included in
the TeX Live distribution.

Does anyone know why it was omitted?  Its comments contain no license
restriction.

If there is no distribution restriction, then can we please get it
into the TeX Live 2017 tree?

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From d.p.carlisle at gmail.com  Tue Mar 21 16:58:47 2017
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 21 Mar 2017 15:58:47 +0000
Subject: [tex-live] status of citesort.sty ?
In-Reply-To: <CMM.0.96.0.1490111581.beebe@gamma.math.utah.edu>
References: <CMM.0.96.0.1490111581.beebe@gamma.math.utah.edu>
Message-ID: <CAEW6iOi1x-GfVuYtkrGrWkXxsuLmFQ9tErj408Dx2QqktMwD7w@mail.gmail.com>

On 21 March 2017 at 15:53, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
> I was reminded by some of my own writing today that the very useful
> citesort.sty, available at
>
>         http://www.math.utah.edu/pub/uuthesis/citesort.sty
>         http://ctan.math.utah.edu/tex-archive/obsolete/macros/latex209/contrib/misc/citesort.sty
>
> and whose comments attribute it to Donald Arseneau, is not included in
> the TeX Live distribution.
>
> Does anyone know why it was omitted?  Its comments contain no license
> restriction.
>
> If there is no distribution restriction, then can we please get it
> into the TeX Live 2017 tree?
>

wasn't it just an extension of cite.sty that's not needed as cite.sty
does sorting now anyway (since 1992)?

David

From beebe at math.utah.edu  Tue Mar 21 17:44:28 2017
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 21 Mar 2017 10:44:28 -0600
Subject: [tex-live] status of citesort.sty ?
In-Reply-To: <CAEW6iOi1x-GfVuYtkrGrWkXxsuLmFQ9tErj408Dx2QqktMwD7w@mail.gmail.com>
Message-ID: <CMM.0.96.0.1490114668.beebe@gamma.math.utah.edu>

David Carlisle kindly responds to my question about citesort.sty:

>> wasn't it just an extension of cite.sty that's not needed as cite.sty
>> does sorting now anyway (since 1992)?

Thank you!  I even have comments about cite.sty written in my copy
of the LaTeX Companion, but I had completely forgotten about that
package.  I'm revising my writing to replace mention of citesort
by cite.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From bernhard.kleine at gmx.net  Sun Mar 26 13:45:38 2017
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Sun, 26 Mar 2017 13:45:38 +0200
Subject: [tex-live] Biber crash of unknown reason
Message-ID: <e1629ae5-d32f-ab82-c89b-f13ef1ce339e@gmx.net>

Sorry, are there any reports for biber not working any longer?

The reason I ask here: I am using jabref for citations and I apply
cleaning the bib-file regularly. Since yesterday I have cleaned new
entries into the bib-file, but I do not get a biber run completed. Using
trace I get this:


K:\BuchprojektSpringer\VierteAuflage>biber -T Chap4only
INFO - This is Biber 2.7
INFO - Logfile is 'Chap4only.blg'
INFO - Reading 'Chap4only.bcf'
INFO - Found 9 citekeys in bib section 0
INFO - Found 272 citekeys in bib section 1
INFO - Found 0 citekeys in bib section 0
INFO - Processing section 0
INFO - Looking for bibtex format file
'Literatur/EndokrinologieKunde.bib' for
section 0
INFO - Decoding LaTeX character macros into UTF-8
INFO - Found BibTeX data source 'Literatur/EndokrinologieKunde.bib'
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
INFO - Overriding locale 'de-DE' defaults 'variable = shifted' with
'variable
= non-ignorable'
INFO - Overriding locale 'de-DE' defaults 'normalization = NFD' with
'normaliz
ation = prenormalized'
INFO - Sorting list 'nyt/global/' of type 'entry' with scheme 'nyt' and
locale
 'de-DE'
INFO - No sort tailoring available for locale 'de-DE'
INFO - Processing section 1
INFO - Looking for bibtex format file
'Literatur/EndokrinologieKunde.bib' for
section 1
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
Use of uninitialized value $end in substitution (s///) at
C:\Users\bk\AppData\
Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
er/Input/file/bibtex.pm line 1011.
INFO - Looking for bibtex format file 'Literatur/FatMetabolism.bib' for
sectio
n 1
INFO - Decoding LaTeX character macros into UTF-8
INFO - Found BibTeX data source 'Literatur/FatMetabolism.bib'
A s s e r t i o n   f a i l e d !

 P r o g r a m :   C : \ U s e r s \ b k \ A p p D a t a \ L o c a l \ T
e m p
 \ p a r - 6 2 6 b \ c a c h e - 2 a a 0 b 7 4 e 6 d 5 e 7 5 f 8 e 7 1 a
4 b 8
 c 9 5 0 1 a 9 c 7 c 2 4 d d b f 0 \ b i b e r . e x e
 F i l e :   b t p a r s e \ s r c \ l e x _ a u x i l i a r y . c ,   L
i n e
   1 5 8

 E x p r e s s i o n :   ( t x t [ 0 ]   = =   ' { '   & &   t x t [ l e
n - 1
 ]   = =   ' } ' )   | |   ( t x t [ 0 ]   = =   ' \ " '   & &   t x t [
l e n
 - 1 ]   = =   ' \ " ' )

This application has requested the Runtime to terminate it in an unusual
way.
Please contact the application's support team for more information.

Any help welcome
Bernhard

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170326/c3df0485/attachment.sig>

From bernhard.kleine at gmx.net  Sun Mar 26 14:27:57 2017
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Sun, 26 Mar 2017 14:27:57 +0200
Subject: [tex-live] Biber crash of unknown reason
In-Reply-To: <e1629ae5-d32f-ab82-c89b-f13ef1ce339e@gmx.net>
References: <e1629ae5-d32f-ab82-c89b-f13ef1ce339e@gmx.net>
Message-ID: <39359553-7ee9-6b5c-012e-7ab28b559642@gmx.net>

I sent a report to the authors of biber.


Am 26.03.2017 um 13:45 schrieb Bernhard Kleine:
> Sorry, are there any reports for biber not working any longer?
>
> The reason I ask here: I am using jabref for citations and I apply
> cleaning the bib-file regularly. Since yesterday I have cleaned new
> entries into the bib-file, but I do not get a biber run completed. Using
> trace I get this:
>
>
> K:\BuchprojektSpringer\VierteAuflage>biber -T Chap4only
> INFO - This is Biber 2.7
> INFO - Logfile is 'Chap4only.blg'
> INFO - Reading 'Chap4only.bcf'
> INFO - Found 9 citekeys in bib section 0
> INFO - Found 272 citekeys in bib section 1
> INFO - Found 0 citekeys in bib section 0
> INFO - Processing section 0
> INFO - Looking for bibtex format file
> 'Literatur/EndokrinologieKunde.bib' for
> section 0
> INFO - Decoding LaTeX character macros into UTF-8
> INFO - Found BibTeX data source 'Literatur/EndokrinologieKunde.bib'
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> INFO - Overriding locale 'de-DE' defaults 'variable = shifted' with
> 'variable
> = non-ignorable'
> INFO - Overriding locale 'de-DE' defaults 'normalization = NFD' with
> 'normaliz
> ation = prenormalized'
> INFO - Sorting list 'nyt/global/' of type 'entry' with scheme 'nyt' and
> locale
>  'de-DE'
> INFO - No sort tailoring available for locale 'de-DE'
> INFO - Processing section 1
> INFO - Looking for bibtex format file
> 'Literatur/EndokrinologieKunde.bib' for
> section 1
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> Use of uninitialized value $end in substitution (s///) at
> C:\Users\bk\AppData\
> Local\Temp\par-626b\cache-2aa0b74e6d5e75f8e71a4b8c9501a9c7c24ddbf0\inc\lib/Bib
> er/Input/file/bibtex.pm line 1011.
> INFO - Looking for bibtex format file 'Literatur/FatMetabolism.bib' for
> sectio
> n 1
> INFO - Decoding LaTeX character macros into UTF-8
> INFO - Found BibTeX data source 'Literatur/FatMetabolism.bib'
> A s s e r t i o n   f a i l e d !
>
>  P r o g r a m :   C : \ U s e r s \ b k \ A p p D a t a \ L o c a l \ T
> e m p
>  \ p a r - 6 2 6 b \ c a c h e - 2 a a 0 b 7 4 e 6 d 5 e 7 5 f 8 e 7 1 a
> 4 b 8
>  c 9 5 0 1 a 9 c 7 c 2 4 d d b f 0 \ b i b e r . e x e
>  F i l e :   b t p a r s e \ s r c \ l e x _ a u x i l i a r y . c ,   L
> i n e
>    1 5 8
>
>  E x p r e s s i o n :   ( t x t [ 0 ]   = =   ' { '   & &   t x t [ l e
> n - 1
>  ]   = =   ' } ' )   | |   ( t x t [ 0 ]   = =   ' \ " '   & &   t x t [
> l e n
>  - 1 ]   = =   ' \ " ' )
>
> This application has requested the Runtime to terminate it in an unusual
> way.
> Please contact the application's support team for more information.
>
> Any help welcome
> Bernhard
>

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20170326/918d8cdf/attachment.sig>

From lomov.vl at gmail.com  Wed Mar 29 14:29:46 2017
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Wed, 29 Mar 2017 20:29:46 +0800
Subject: [tex-live] Build binaries with static libraries
Message-ID: <20170329122946.GA833@smoon.vl-lomov.ru>

Hello,

I'm using Archlinux x86-64, it is rolling release so my system has most
fresh libraries, therefore two programs: asymptote and xindy currently
don't work (missing libraries).

Is it possible to build binaries for TeX Live 2017 with static
libraries?

P.S. Output of ldd:

$ ldd asy
	linux-vdso.so.1 (0x00007ffd5a3ba000)
	libglut.so.3 => /usr/lib/libglut.so.3 (0x00007f926e7fa000)
	libGLU.so.1 => /usr/lib/libGLU.so.1 (0x00007f926e57a000)
	libGL.so.1 => /usr/lib/libGL.so.1 (0x00007f926e2ef000)
	libreadline.so.5 => not found
	librt.so.1 => /usr/lib/librt.so.1 (0x00007f926e0e7000)
	libz.so.1 => /usr/lib/libz.so.1 (0x00007f926ded0000)
	libncurses.so.5 => not found
	libstdc++.so.6 => /usr/lib/libstdc++.so.6 (0x00007f926db48000)
	libm.so.6 => /usr/lib/libm.so.6 (0x00007f926d835000)
	libgcc_s.so.1 => /usr/lib/libgcc_s.so.1 (0x00007f926d61e000)
	libpthread.so.0 => /usr/lib/libpthread.so.0 (0x00007f926d400000)
	libc.so.6 => /usr/lib/libc.so.6 (0x00007f926d05c000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f926eab6000)
	libX11.so.6 => /usr/lib/libX11.so.6 (0x00007f926cd1d000)
	libXrandr.so.2 => /usr/lib/libXrandr.so.2 (0x00007f926cb12000)
	libXxf86vm.so.1 => /usr/lib/libXxf86vm.so.1 (0x00007f926c90c000)
	libXi.so.6 => /usr/lib/libXi.so.6 (0x00007f926c6fb000)
	libGLX.so.0 => /usr/lib/libGLX.so.0 (0x00007f926c4c9000)
	libXext.so.6 => /usr/lib/libXext.so.6 (0x00007f926c2b7000)
	libGLdispatch.so.0 => /usr/lib/libGLdispatch.so.0 (0x00007f926c001000)
	libdl.so.2 => /usr/lib/libdl.so.2 (0x00007f926bdfd000)
	libxcb.so.1 => /usr/lib/libxcb.so.1 (0x00007f926bbd4000)
	libXrender.so.1 => /usr/lib/libXrender.so.1 (0x00007f926b9c9000)
	libXau.so.6 => /usr/lib/libXau.so.6 (0x00007f926b7c5000)
	libXdmcp.so.6 => /usr/lib/libXdmcp.so.6 (0x00007f926b5bf000)

$ ldd xindy.run
	linux-vdso.so.1 (0x00007ffe57796000)
	libm.so.6 => /usr/lib/libm.so.6 (0x00007f35d6816000)
	libcrypt.so.1 => /usr/lib/libcrypt.so.1 (0x00007f35d65de000)
	libncurses.so.5 => not found
	libdl.so.2 => /usr/lib/libdl.so.2 (0x00007f35d63da000)
	libc.so.6 => /usr/lib/libc.so.6 (0x00007f35d6036000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f35d6b29000)

---
WBR, Vladimir Lomov

-- 
Debian Linux is a solid, comprehensive product, and a genuine pleasure to
use.  It is also great to become involved with the Debian collective,
whose friendliness and spirit recalls the early days of the Internet and
its sense of openness and global cooperation.

From preining at logic.at  Wed Mar 29 15:21:47 2017
From: preining at logic.at (Norbert Preining)
Date: Wed, 29 Mar 2017 22:21:47 +0900
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <20170329122946.GA833@smoon.vl-lomov.ru>
References: <20170329122946.GA833@smoon.vl-lomov.ru>
Message-ID: <4A43F972-8453-4EE9-85A6-A58C754A5859@logic.at>

Which libreadline and ncurses do you have???

Norbert


On March 29, 2017 9:29:46 PM GMT+09:00, Vladimir Lomov <lomov.vl at gmail.com> wrote:
>Hello,
>
>I'm using Archlinux x86-64, it is rolling release so my system has most
>fresh libraries, therefore two programs: asymptote and xindy currently
>don't work (missing libraries).
>
>Is it possible to build binaries for TeX Live 2017 with static
>libraries?
>
>P.S. Output of ldd:
>
>$ ldd asy
>	linux-vdso.so.1 (0x00007ffd5a3ba000)
>	libglut.so.3 => /usr/lib/libglut.so.3 (0x00007f926e7fa000)
>	libGLU.so.1 => /usr/lib/libGLU.so.1 (0x00007f926e57a000)
>	libGL.so.1 => /usr/lib/libGL.so.1 (0x00007f926e2ef000)
>	libreadline.so.5 => not found
>	librt.so.1 => /usr/lib/librt.so.1 (0x00007f926e0e7000)
>	libz.so.1 => /usr/lib/libz.so.1 (0x00007f926ded0000)
>	libncurses.so.5 => not found
>	libstdc++.so.6 => /usr/lib/libstdc++.so.6 (0x00007f926db48000)
>	libm.so.6 => /usr/lib/libm.so.6 (0x00007f926d835000)
>	libgcc_s.so.1 => /usr/lib/libgcc_s.so.1 (0x00007f926d61e000)
>	libpthread.so.0 => /usr/lib/libpthread.so.0 (0x00007f926d400000)
>	libc.so.6 => /usr/lib/libc.so.6 (0x00007f926d05c000)
>	/lib64/ld-linux-x86-64.so.2 (0x00007f926eab6000)
>	libX11.so.6 => /usr/lib/libX11.so.6 (0x00007f926cd1d000)
>	libXrandr.so.2 => /usr/lib/libXrandr.so.2 (0x00007f926cb12000)
>	libXxf86vm.so.1 => /usr/lib/libXxf86vm.so.1 (0x00007f926c90c000)
>	libXi.so.6 => /usr/lib/libXi.so.6 (0x00007f926c6fb000)
>	libGLX.so.0 => /usr/lib/libGLX.so.0 (0x00007f926c4c9000)
>	libXext.so.6 => /usr/lib/libXext.so.6 (0x00007f926c2b7000)
>	libGLdispatch.so.0 => /usr/lib/libGLdispatch.so.0 (0x00007f926c001000)
>	libdl.so.2 => /usr/lib/libdl.so.2 (0x00007f926bdfd000)
>	libxcb.so.1 => /usr/lib/libxcb.so.1 (0x00007f926bbd4000)
>	libXrender.so.1 => /usr/lib/libXrender.so.1 (0x00007f926b9c9000)
>	libXau.so.6 => /usr/lib/libXau.so.6 (0x00007f926b7c5000)
>	libXdmcp.so.6 => /usr/lib/libXdmcp.so.6 (0x00007f926b5bf000)
>
>$ ldd xindy.run
>	linux-vdso.so.1 (0x00007ffe57796000)
>	libm.so.6 => /usr/lib/libm.so.6 (0x00007f35d6816000)
>	libcrypt.so.1 => /usr/lib/libcrypt.so.1 (0x00007f35d65de000)
>	libncurses.so.5 => not found
>	libdl.so.2 => /usr/lib/libdl.so.2 (0x00007f35d63da000)
>	libc.so.6 => /usr/lib/libc.so.6 (0x00007f35d6036000)
>	/lib64/ld-linux-x86-64.so.2 (0x00007f35d6b29000)
>
>---
>WBR, Vladimir Lomov

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From karl at freefriends.org  Thu Mar 30 01:24:11 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 29 Mar 2017 23:24:11 GMT
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <20170329122946.GA833@smoon.vl-lomov.ru>
Message-ID: <201703292324.v2TNOBPW001767@freefriends.org>

Hi Vladimir,

    Is it possible to build binaries for TeX Live 2017 with static
    libraries?

We already build everything possible statically, and on oldish systems,
precisely to minimize these problems. xindy and asy are inherently
problematic. Just be glad TeX works (if it does).

readline and ncurses are fundamental libraries. Arch surely provides
them? If Arch chooses to break every existing binary by bumping the
version number (if that's what happened), we can't help that. Maybe they
provide their own asy, at least.

Regarding asy, the author tells us that readline and GL are important
parts of the functionality, so we don't want to remove them, and it's
impractical to compile all of X (which is what it would amount to).
Most of the other deps are induced from GL.

Regarding xindy.run (aka clisp), it seems there is a nearly-undocumented
configure option, --with-no-termcap-ncurses. I'll try it.

Thanks,
Karl

From karl at freefriends.org  Wed Mar 29 23:54:04 2017
From: karl at freefriends.org (Karl Berry)
Date: Wed, 29 Mar 2017 21:54:04 GMT
Subject: [tex-live] Suggested corrections/improvements to TeX Live
	2016	notes (texlive-en.pdf)
In-Reply-To: <CAN0dEZw92KkNhzwxOc58EDLCQYjZMGe1X_Vgy--FjHvyXZK8+w@mail.gmail.com>
Message-ID: <201703292154.v2TLs4xa025485@freefriends.org>

Hi Gernot,

Thank you again for your detailed reading of the TL manual last fall.

    Date: Wed, 30 Nov 2016 15:23:12 +0900
    From: Gernot Hassenpflug <aikishugyo at gmail.com>
    [...]
    (1) "To install in expert GUI mode (figure 3),"
    should be: "To install in expert GUI mode (Figure 3),"

"figure" vs. "Figure" in the text is a stylistic choice, it seems to me,
and to my eyes "figure" is less obtrusive. So I left those and changed
other in-sentence "Figure"s to "figure". Probably missed some.

    In the above, "must exist" seems to be the name of an option
    "file must exist" explanation is hard to follow.

Hard to follow is an understatement. I deleted those two paragraphs
referring to "must exist". They long ago lost any importance they may
have had.

I think I've made all the other fixes you suggested, occasionally in a
slightly different way. I committed new files to
http://tug.org/svn/texlive/trunk/Master/texmf-dist/doc/texlive/texlive-en/
(Not yet including any changes for this year's upcoming release.)

Thanks,
Karl

From lomov.vl at gmail.com  Thu Mar 30 02:19:26 2017
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Thu, 30 Mar 2017 08:19:26 +0800
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <4A43F972-8453-4EE9-85A6-A58C754A5859@logic.at>
References: <20170329122946.GA833@smoon.vl-lomov.ru>
 <4A43F972-8453-4EE9-85A6-A58C754A5859@logic.at>
Message-ID: <20170330001926.GB833@smoon.vl-lomov.ru>

** Norbert Preining [2017-03-29 22:21:47 +0900]:

> Which libreadline and ncurses do you have???

$ ls -l /usr/lib/libreadline.so*
lrwxrwxrwx 1 root root     16 Jan 30 15:28 /usr/lib/libreadline.so -> libreadline.so.7
lrwxrwxrwx 1 root root     18 Jan 30 15:28 /usr/lib/libreadline.so.7 -> libreadline.so.7.0
-r-xr-xr-x 1 root root 363064 Jan 30 15:28 /usr/lib/libreadline.so.7.0

$ ls -l /usr/lib/libncurses*
-rw-r--r-- 1 root root     20 Jan 30 15:26 /usr/lib/libncurses++.so
lrwxrwxrwx 1 root root     18 Jan 30 15:26 /usr/lib/libncurses++w.so -> libncurses++w.so.6
lrwxrwxrwx 1 root root     20 Jan 30 15:26 /usr/lib/libncurses++w.so.6 -> libncurses++w.so.6.0
-rwxr-xr-x 1 root root  77336 Jan 30 15:26 /usr/lib/libncurses++w.so.6.0
-rw-r--r-- 1 root root     18 Jan 30 15:26 /usr/lib/libncurses.so
lrwxrwxrwx 1 root root     16 Jan 30 15:26 /usr/lib/libncursesw.so -> libncursesw.so.6
lrwxrwxrwx 1 root root     18 Jan 30 15:26 /usr/lib/libncursesw.so.6 -> libncursesw.so.6.0
-rwxr-xr-x 1 root root 440632 Jan 30 15:26 /usr/lib/libncursesw.so.6.0

That box has following versions of readline and ncurses:
  readline 7.0.003-1
  ncurses 6.0+20170128-1

> 
> Norbert
> 
> 
[...]

---
WBR, Vladimir Lomov

-- 
The primary requisite for any new tax law is for it to exempt enough
voters to win the next election.

From lomov.vl at gmail.com  Thu Mar 30 03:51:17 2017
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Thu, 30 Mar 2017 09:51:17 +0800
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <201703292324.v2TNOBPW001767@freefriends.org>
References: <20170329122946.GA833@smoon.vl-lomov.ru>
 <201703292324.v2TNOBPW001767@freefriends.org>
Message-ID: <20170330015117.GC833@smoon.vl-lomov.ru>

** Karl Berry [2017-03-29 23:24:11 +0000]:

> Hi Vladimir,
> 
>     Is it possible to build binaries for TeX Live 2017 with static
>     libraries?
> 
> We already build everything possible statically, and on oldish systems,
> precisely to minimize these problems. xindy and asy are inherently
> problematic. Just be glad TeX works (if it does).

Yes, it works fine. Actually I checked all binaries in directory
"/usr/local/opt/texlive/2016/bin/x86_64-linux" (I installed TeX Live
into "/usr/local/opt/texlive") and only these two programs have missing
libraries.

> readline and ncurses are fundamental libraries. Arch surely provides
> them?

Yes, they provide following versions of the libraries:
  readline 7.0.003-1
  ncurses 6.0+20170128-1

readline was updated in November 2016, ncurses was updated to ver. 6.0
in May 2015 but I don't now when was so version changed.

> If Arch chooses to break every existing binary by bumping the
> version number (if that's what happened), we can't help that.

IMO, they don't do nothing special except to build packages (that's the
credo) but provides most fresh packages and don't provide old libraries
but that the rule of the distro (someone should take care of old
libraries, if it is not the packager).

> Maybe they provide their own asy, at least.

Yes, Archlinux provides asymptote package and 'asy' is in "/usr/bin".
But as I installed TeX Live into "/usr/local/opt/texlive" I put the path
to TeX Live binaries "/usr/local/opt/texlive/2016/bin/x86_64-linux" in
the beginning of the PATH, so I would somehow overrule PATH to run
asymptote from distro package (when I was needed to run asymptote I used
full path: "/usr/bin/asy" but that was inconvenient; I could imagine to
make a shell alias or shell function with full path to "/usr/bin/asy"
but that won't work, for example, in vim and emacs which I use to edit
files).

I tried to remove TeX Live package with only x86_64 asymptote binaries:
"asymptote.x86_64-linux" but it is always restored after running

  tlmgr update --self --all

which I use to update TeX Live packages. I didn't remove the whole
package 'asymptote' because I also installed binaries for win32 platform
and share the TeX Live path to a Windows host.

> Regarding asy, the author tells us that readline and GL are important
> parts of the functionality, so we don't want to remove them, and it's
> impractical to compile all of X (which is what it would amount to).
> Most of the other deps are induced from GL.
> 
> Regarding xindy.run (aka clisp), it seems there is a nearly-undocumented
> configure option, --with-no-termcap-ncurses. I'll try it.
> 
> Thanks,
> Karl

If it were possible to build asymptote vs static libraries it would be a good
solution for me or even if it were possible to remove only
"asymptote.x86_64-linux" package without it restoring after

  tlmgr update --self --all

that would be enough.

I'll try to make some workaround.

---
WBR, Vladimir Lomov

-- 
My calculator is my shepherd, I shall not want
It maketh me accurate to ten significant figures,
	and it leadeth me in scientific notation to 99 digits.
It restoreth my square roots and guideth me along paths of floating
	decimal points for the sake of precision.
Yea, tho I walk through the valley of surprise quizzes,
	I will fear no prof, for my calculator is there to hearten me.
It prepareth a log table to comfort me, it prepareth an
	arc sin for me in the presence of my teachers.
It annoints my homework with correct solutions, my interpolations are
	over.
Surely, both precision and accuracy shall follow me all the days of my
	life, and I shall dwell in the house of Texas instruments forever.

From karl at freefriends.org  Fri Mar 31 00:05:30 2017
From: karl at freefriends.org (Karl Berry)
Date: Thu, 30 Mar 2017 22:05:30 GMT
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <20170330015117.GC833@smoon.vl-lomov.ru>
Message-ID: <201703302205.v2UM5UVg007294@freefriends.org>

     don't provide old libraries

If they don't provide compatibility libraries, then they are breaking
existing binaries by design. I can't solve that. I already explained why
it is not practical to compile asy as statically as we compile most
other binaries.

    package 'asymptote' because I also installed binaries for win32
    platform and share the TeX Live path to a Windows host.

You've created a very complicated situation for yourself.

    I'll try to make some workaround.

rm /usr/local/opt/texlive/2016/bin/x86_64-linux/*asy

(Or use Arch's TeX and forget about our original TL. That's obviously
what the Arch distro intends.) -k


From markus.kohm at gmx.de  Fri Mar 31 08:02:00 2017
From: markus.kohm at gmx.de (Markus Kohm)
Date: Fri, 31 Mar 2017 08:02:00 +0200
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <20170329122946.GA833@smoon.vl-lomov.ru>
References: <20170329122946.GA833@smoon.vl-lomov.ru>
Message-ID: <1584849.Y24R1gkspW@x61s.fritz.box>

Am Mittwoch, 29. M?rz 2017, 20:29:46 CEST schrieb Vladimir Lomov:
>         libreadline.so.5 => not found
>         libncurses.so.5 => not found

You could try to extract them from debian packages using either ar or dpkg. 
But I do not know whether or not this would result in other dependency 
problems.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20170331/86fc9ffa/attachment.sig>

From mojca.miklavec.lists at gmail.com  Fri Mar 31 11:11:56 2017
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 31 Mar 2017 11:11:56 +0200
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <201703292324.v2TNOBPW001767@freefriends.org>
References: <20170329122946.GA833@smoon.vl-lomov.ru>
 <201703292324.v2TNOBPW001767@freefriends.org>
Message-ID: <CALBOmsZ9Q8iSPcJ6rVOVu5nOZtdD=yvNihPHeu2JN2q5+nz+5g@mail.gmail.com>

On 30 March 2017 at 01:24, Karl Berry wrote:
>
> readline and ncurses are fundamental libraries. Arch surely provides
> them? If Arch chooses to break every existing binary by bumping the
> version number (if that's what happened), we can't help that. Maybe they
> provide their own asy, at least.

They most likely provide the latest version of everything. Providing
binaries without any external dependencies like TeX Live does is
rather an exception than the rule. The whole GNU Linux ecosystem works
on the basis of packaging OpenSource software inside the distro, so I
doubt they are actually breaking anything by providing the latest
version of libraries. All packages are built from sources (or perhaps
on the build servers, not sure), so for whatever package the distro
provides, this is not an issue.

> Regarding asy, the author tells us that readline and GL are important
> parts of the functionality, so we don't want to remove them, and it's
> impractical to compile all of X (which is what it would amount to).
> Most of the other deps are induced from GL.

Karl, the only two "problematic" libraries for Vladimir were
"readline" and "ncurses", X apparently works. Something similar is
true for Solaris and Mac.

At least readline is problematic for me for basically all the
platforms where I have to compile asymptote (Mac, Solaris) and now we
figured out that it's also a problem on Linux (I don't know how
windows binaries are compiled, but I'm sure that one needs a copy of
the library there as well).

Readline is pretty lightweight. Compiling the whole of X11 would
clearly be an overkill, but adding a small set of additional libraries
to be statically linked in asy would help in my opinion.

Mojca

From zarniwhoop at ntlworld.com  Fri Mar 31 18:06:26 2017
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Fri, 31 Mar 2017 17:06:26 +0100
Subject: [tex-live] Build binaries with static libraries
In-Reply-To: <CALBOmsZ9Q8iSPcJ6rVOVu5nOZtdD=yvNihPHeu2JN2q5+nz+5g@mail.gmail.com>
References: <20170329122946.GA833@smoon.vl-lomov.ru>
 <201703292324.v2TNOBPW001767@freefriends.org>
 <CALBOmsZ9Q8iSPcJ6rVOVu5nOZtdD=yvNihPHeu2JN2q5+nz+5g@mail.gmail.com>
Message-ID: <20170331160626.GA18435@milliways.localdomain>

On Fri, Mar 31, 2017 at 11:11:56AM +0200, Mojca Miklavec wrote:
> On 30 March 2017 at 01:24, Karl Berry wrote:
> >
> > readline and ncurses are fundamental libraries. Arch surely provides
> > them? If Arch chooses to break every existing binary by bumping the
> > version number (if that's what happened), we can't help that. Maybe they
> > provide their own asy, at least.
> 
> They most likely provide the latest version of everything. Providing
> binaries without any external dependencies like TeX Live does is
> rather an exception than the rule. The whole GNU Linux ecosystem works
> on the basis of packaging OpenSource software inside the distro, so I
> doubt they are actually breaking anything by providing the latest
> version of libraries. All packages are built from sources (or perhaps
> on the build servers, not sure), so for whatever package the distro
> provides, this is not an issue.
> 
[...]
> 
> Karl, the only two "problematic" libraries for Vladimir were
> "readline" and "ncurses", X apparently works. Something similar is
> true for Solaris and Mac.
> 
> At least readline is problematic for me for basically all the
> platforms where I have to compile asymptote (Mac, Solaris) and now we
> figured out that it's also a problem on Linux (I don't know how
> windows binaries are compiled, but I'm sure that one needs a copy of
> the library there as well).
> 
If I understood the problem correctly, on Arch libreadline.so is
linked to the current version (.so.7) whereas the asy binary is
linked to libreadline.so.5.  And similarly ncurses was linked to .5.

For the little it is worth, in BLFS we cover a similar situation for
people who use the binaries (for from-source we do asy and xindy
separately and therefore they link to the system versions).  I'll
point to our systemd books since Arch uses systemd, although the
details in the sysv books are similar:

http://www.linuxfromscratch.org/blfs/view/stable-systemd/pst/tl-installer.html

>From the section  Recommended (at runtime)

"the optional non-wide-character ncurses library (for "some
binary-only application") from the bottom of the Ncurses page in LFS
is needed by asy and also for xindy.run which is used by xindy"

That is at
http://www.linuxfromscratch.org/lfs/view/stable-systemd/chapter06/ncurses.html
specifically the Note just above '6.20.2 Contents of Ncurses'

And for asy -

"The binary versions of asy needs GLU-9.0.0, Freeglut-3.0.0. and
libreadline-5.2 : this only requires libreadline.so.5.2 which can be
manually copied from the shlib/ directory after running configure
and make and then symlinked as libreadline.so.5."

But for people using Arch, the simplest solution is to use Arch's
packages.

?en
-- 
`I shall take my mountains', said Lu-Tze. `The climate will be good
for them.'     -- Small Gods

