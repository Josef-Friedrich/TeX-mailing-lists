From Sebastian.Hopp at ge.com  Fri Feb  1 10:10:56 2019
From: Sebastian.Hopp at ge.com (Hopp, Sebastian (INNIO, Non-GE))
Date: Fri, 1 Feb 2019 09:10:56 +0000
Subject: [tex-live] Problems with the installation
Message-ID: <HE1P101MB0074A1B3C0B3524E82DADD20EA920@HE1P101MB0074.NAMP101.PROD.OUTLOOK.COM>

Hello!


I tried to install Tex Live 2016 on my computer but it says, that the connection to the Tex Live server is not possible (screenshot attached)?

Can you help me or tell me what the problem is?


Best regards,
Sebastian hopp
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190201/54bfad9a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Bild2.png
Type: image/png
Size: 39099 bytes
Desc: Bild2.png
URL: <https://tug.org/pipermail/tex-live/attachments/20190201/54bfad9a/attachment-0001.png>

From cursus.publicus at sacrumromanumimperium.org  Fri Feb  1 16:02:06 2019
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Fri, 1 Feb 2019 16:02:06 +0100
Subject: [tex-live] [TexLive-Installation] Problems with the installation
In-Reply-To: <HE1P101MB0074A1B3C0B3524E82DADD20EA920@HE1P101MB0074.NAMP101.PROD.OUTLOOK.COM>
References: <HE1P101MB0074A1B3C0B3524E82DADD20EA920@HE1P101MB0074.NAMP101.PROD.OUTLOOK.COM>
Message-ID: <947e8b91-66c5-3476-a7e7-5ca0d5400592@sacrumromanumimperium.org>

Hi Sebastian,

Hopp, Sebastian (INNIO, Non-GE) schrieb am 2019-02-01 um 10:10:
> Hello!
> 
> 
> I tried to install Tex Live 2016 on my computer but it says, that the connection to the Tex Live server is not possible (screenshot attached)?
> 
> Can you help me or tell me what the problem is?

Are where serious reasons for installing TL2016?

best Andreas



From krishnakumar at imperial.ac.uk  Fri Feb  8 19:05:57 2019
From: krishnakumar at imperial.ac.uk (Gopalakrishnan, Krishnakumar)
Date: Fri, 8 Feb 2019 18:05:57 +0000
Subject: [tex-live] Problems on windows 10 since tlmgr infrastructure update
 of 07/Feb/2019
Message-ID: <AM0PR06MB4147ED1E6604AE76590FC3ABE5690@AM0PR06MB4147.eurprd06.prod.outlook.com>

Hi,

Since the tlmgr update of 07/Feb/2019, tlmgr has become unusable on my windows 10 machine (installed on a network-mounted drive). Prior to this, I had no problems with my setup for the last one year.

Here is one of the issues, https://tex.stackexchange.com/questions/473822/tlmgr-update-self-fails-with-a-weird-error-message-windows-10?noredirect=1#comment1195235_473822
Wherein the update -self command kept failing.

I gave up and decided to clean up and do a fresh install, which finally succeeded today.

But, I still get the following issues:

$ tlmgr install raleway phonenumbers

tlmgr.pl: verification of checksum for http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet failed: cryptographic signature verification of
  \\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\rmR07u7da9
against
  http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was
gpg: can't create '\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\fnmll3uhca': No such file or directory

Please report to texlive at tug.org

Error removing //icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz/fnmll3uhca at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm line 762.
cannot unlink file for \\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\fnmll3uhca: Permission denied at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm line 784.
cannot remove directory for //icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz: Directory not empty at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm line 784<file://icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/tlperl/lib/File/Temp.pm%20line%20784>.


After disabling gpg verification, I still get the following error:

Can't spawn "cmd.exe": No error at //icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/TeXLive/TLUtils.pm line 2484.



A suspicious thing is, why is tlmgr reporting path separator as /, instead of \ ?

Cheers,
Krishna




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190208/6225a588/attachment.html>

From krishnakumar at imperial.ac.uk  Fri Feb  8 19:09:40 2019
From: krishnakumar at imperial.ac.uk (Gopalakrishnan, Krishnakumar)
Date: Fri, 8 Feb 2019 18:09:40 +0000
Subject: [tex-live] Problems on windows 10 since tlmgr infrastructure update
 of 07/Feb/2019
In-Reply-To: <AM0PR06MB4147ED1E6604AE76590FC3ABE5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
References: <AM0PR06MB4147ED1E6604AE76590FC3ABE5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
Message-ID: <AM0PR06MB414783EF4E8C4DDF4F150674E5690@AM0PR06MB4147.eurprd06.prod.outlook.com>

Hi,

Since the tlmgr update of 07/Feb/2019, tlmgr has become unusable on my windows 10 machine (installed on a network-mounted drive). Prior to this, I had no problems with my setup for the last one year.

Here is one of the issues, https://tex.stackexchange.com/questions/473822/tlmgr-update-self-fails-with-a-weird-error-message-windows-10?noredirect=1#comment1195235_473822
Wherein the update -self command kept failing.

I gave up and decided to clean up and do a fresh install, which finally succeeded today.

But, I still get the following issues:

$ tlmgr install raleway phonenumbers

tlmgr.pl: verification of checksum for http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet failed: cryptographic signature verification of
  \\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\rmR07u7da9<file://icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz/rmR07u7da9>
against
  http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was
gpg: can't create '\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\fnmll3uhca': No such file or directory

Please report to texlive at tug.org<mailto:texlive at tug.org>

Error removing //icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz/fnmll3uhca at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm<file://icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/tlperl/lib/File/Temp.pm> line 762.
cannot unlink file for \\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\fnmll3uhca<file://icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz/fnmll3uhca>: Permission denied at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm<file://icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/tlperl/lib/File/Temp.pm> line 784.
cannot remove directory for //icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz: Directory not empty at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm line 784<file://icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/tlperl/lib/File/Temp.pm%20line%20784>.


After disabling gpg verification, I still get the following error:

Can't spawn "cmd.exe": No error at //icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/TeXLive/TLUtils.pm line 2484.



A suspicious thing is, why is tlmgr reporting path separator as /, instead of \ ?

Cheers,
Krishna




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190208/75d7f451/attachment.html>

From P.Taylor at rhul.ac.uk  Sat Feb  9 08:13:35 2019
From: P.Taylor at rhul.ac.uk (Taylor, P)
Date: Sat, 9 Feb 2019 07:13:35 +0000
Subject: [tex-live] Problems on windows 10 since tlmgr infrastructure
 update of 07/Feb/2019
In-Reply-To: <AM0PR06MB414783EF4E8C4DDF4F150674E5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
References: <AM0PR06MB4147ED1E6604AE76590FC3ABE5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
 <AM0PR06MB414783EF4E8C4DDF4F150674E5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
Message-ID: <7af02d2b-a5a0-2375-1b22-e22d73f1f887@Rhul.Ac.Uk>

What happens if you use Explorer functionality to map your network drive to a drive letter and then try to install to that drive letter rather than to a UNC ?
You may also need to set TMP/TEMP to use a drive-letter-based path.

Philip Taylor
--------
Gopalakrishnan, Krishnakumar wrote:
Hi,

Since the tlmgr update of 07/Feb/2019, tlmgr has become unusable on my windows 10 machine (installed on a network-mounted drive). Prior to this, I had no problems with my setup for the last one year.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190209/2121f0b1/attachment-0001.html>

From siepo at bitmuis.nl  Sat Feb  9 10:48:43 2019
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sat, 9 Feb 2019 10:48:43 +0100
Subject: [tex-live] Problems on windows 10 since tlmgr infrastructure
 update of 07/Feb/2019
In-Reply-To: <AM0PR06MB414783EF4E8C4DDF4F150674E5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
References: <AM0PR06MB4147ED1E6604AE76590FC3ABE5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
 <AM0PR06MB414783EF4E8C4DDF4F150674E5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
Message-ID: <20190209094843.GA1729@bitmuis.nl>

On Fri, Feb 08, 2019 at 06:09:40PM +0000, Gopalakrishnan, Krishnakumar wrote:
> Hi,
> 
> Since the tlmgr update of 07/Feb/2019, tlmgr has become unusable on my windows 10 machine (installed on a network-mounted drive). Prior to this, I had no problems with my setup for the last one year.
> 
> Here is one of the issues, https://tex.stackexchange.com/questions/473822/tlmgr-update-self-fails-with-a-weird-error-message-windows-10?noredirect=1#comment1195235_473822
> Wherein the update -self command kept failing.
> 
> I gave up and decided to clean up and do a fresh install, which finally succeeded today.
> 
> But, I still get the following issues:
> 
> $ tlmgr install raleway phonenumbers
> 
> tlmgr.pl: verification of checksum for http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet failed: cryptographic signature verification of
>   \\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\rmR07u7da9<file://icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz/rmR07u7da9>
> against
>   http://mirror.ox.ac.uk/sites/ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
> failed. Output was
> gpg: can't create '\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\fnmll3uhca': No such file or directory
> 
> Please report to texlive at tug.org<mailto:texlive at tug.org>
> 
> Error removing //icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz/fnmll3uhca at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm<file://icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/tlperl/lib/File/Temp.pm> line 762.
> cannot unlink file for \\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\fnmll3uhca<file://icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz/fnmll3uhca>: Permission denied at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm<file://icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/tlperl/lib/File/Temp.pm> line 784.
> cannot remove directory for //icnas1.cc.ic.ac.uk/kg314/cygwin_64_install/home/kg314/AppData/Local/Temp/FFv90yJjTz: Directory not empty at \\icnas1.cc.ic.ac.uk\kg314\texlive\2018\tlpkg\tlperl\lib/File/Temp.pm line 784<file://icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/tlperl/lib/File/Temp.pm%20line%20784>.
> 
> 
> After disabling gpg verification, I still get the following error:
> 
> Can't spawn "cmd.exe": No error at //icnas1.cc.ic.ac.uk/kg314/texlive/2018/tlpkg/TeXLive/TLUtils.pm line 2484.
> 
> 
> 
> A suspicious thing is, why is tlmgr reporting path separator as /, instead of \ ?

That is not suspect; internally, TL mostly uses forward slashes,
although it tries to use backslashes when talking to windows.
Surprisingly often, windows does not even care.

What IS suspect is the inability to spawn cmd.exe. Are your path
settings correct?

Also, I saw mention of cygwin in your output. Are you sure that
cygwin is not interfering?

I did some testing myself with a UNC installation and a UNC temp,
but that does not seem to be the problem.

-- 
Siep Kroonenberg

From reinhard.kotucha at web.de  Sun Feb 10 01:23:13 2019
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 10 Feb 2019 01:23:13 +0100
Subject: [tex-live] Problems on windows 10 since tlmgr infrastructure
 update of 07/Feb/2019
In-Reply-To: <20190209094843.GA1729@bitmuis.nl>
References: <AM0PR06MB4147ED1E6604AE76590FC3ABE5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
 <AM0PR06MB414783EF4E8C4DDF4F150674E5690@AM0PR06MB4147.eurprd06.prod.outlook.com>
 <20190209094843.GA1729@bitmuis.nl>
Message-ID: <23647.28401.672076.297267@gargle.gargle.HOWL>

On 2019-02-09 at 10:48:43 +0100, Siep Kroonenberg wrote:

 > Also, I saw mention of cygwin in your output. Are you sure that
 > cygwin is not interfering?

It seems that the Windows installation is broken.  Cygwin should never
be mentioned in any path on Windows.

 >> gpg: can't create '\icnas1.cc.ic.ac.uk\kg314\cygwin_64_install\home\kg314\AppData\Local\Temp\FFv90yJjTz\fnmll3uhca': No such file or directory

Of course, there is no AppData directory within the Cygwin tree.

If TeX Live is installed on a server, all one has to do is to add the
bin/<platform> directory to PATH.  On Windows,

  echo %PATH%

should never mention cygwin.  If it does, try to fix it yourself or
send us the output of echo %PATH%.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From yscysc01 at hotmail.com  Fri Feb 15 04:35:55 2019
From: yscysc01 at hotmail.com (Young Siger)
Date: Fri, 15 Feb 2019 03:35:55 +0000
Subject: [tex-live] [TeXLive Cross Compilation] The test on fontconfig
 failed when the target pkg-config is unavailable
Message-ID: <TY2PR0101MB2862D9BDE372E4FF773771CECE600@TY2PR0101MB2862.apcprd01.prod.exchangelabs.com>

Here is my cross compilation information:
Host / Target: mipsel-openwrt-linux
Build: x86_64-pc-linux

I use rsync to get the complete source code of TeXLive and then configure with
./configure --enable-multiplatform --disable-native-texlive-build --prefix=PREFIX --with-fontconfig-includes=INCDIR --with-fontconfig-libdir=LIBDIR --enable-build-in-source-tree --target=mipsel-openwrt-linux --host=mipsel-openwrt-linux --build=x86_64-pc-linux
with paths like INCDIR LIBDIR and PREFIX are set correctly then make && make world

Anyhow, all is fine except that XeTeX isn't built.

After I viewed the config.log of each package, I found such a part in web2c:
configure:16676: checking for installed fontconfig headers and library
configure:16709: mipsel-openwrt-linux-gcc -o conftest -g -O2 -I/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/include   conftest.c -L/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib -lfontconfig  >&5
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/gcc/mipsel-openwrt-linux-musl/7.3.0/../../../../mipsel-openwrt-linux-musl/bin/ld: warning: libexpat.so.1, needed by /home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so, not found (try using -rpath or -rpath-link)
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/gcc/mipsel-openwrt-linux-musl/7.3.0/../../../../mipsel-openwrt-linux-musl/bin/ld: warning: libbz2.so.1.0, needed by /home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6, not found (try using -rpath or -rpath-link)
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/gcc/mipsel-openwrt-linux-musl/7.3.0/../../../../mipsel-openwrt-linux-musl/bin/ld: warning: libpng16.so.16, needed by /home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6, not found (try using -rpath or -rpath-link)
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/gcc/mipsel-openwrt-linux-musl/7.3.0/../../../../mipsel-openwrt-linux-musl/bin/ld: warning: libz.so.1, needed by /home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6, not found (try using -rpath or -rpath-link)
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_palette_to_rgb at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_get_error_ptr at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_read_end at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_SetElementHandler'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_interlace_handling at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_get_valid at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `inflate'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_SetDoctypeDeclHandler'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `BZ2_bzDecompressInit'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_ParserFree'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `BZ2_bzDecompress'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_read_image at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `BZ2_bzDecompressEnd'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_create_info_struct at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_SetCharacterDataHandler'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_create_read_struct at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_ErrorString'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_ParseBuffer'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_get_io_ptr at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_packing at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_ParserCreate'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_read_info at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_error at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_strip_16 at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `inflateReset'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_get_IHDR at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_filler at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_tRNS_to_alpha at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_read_update_info at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_gray_to_rgb at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_read_user_transform_fn at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_SetUserData'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_expand_gray_1_2_4_to_8 at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_GetErrorCode'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_longjmp_fn at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_GetBuffer'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_destroy_read_struct at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `inflateEnd'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib/libfontconfig.so: undefined reference to `XML_GetCurrentLineNumber'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `png_set_read_fn at PNG16_0'
/home/siger/openwrt/mt7620a_18.06.2/staging_dir/toolchain-mipsel_24kc_gcc-7.3.0_musl/mipsel-openwrt-linux-musl/bin/../../../toolchain-mipsel_24kc_gcc-7.3.0_musl/lib/libfreetype.so.6: undefined reference to `inflateInit2_'
collect2: error: ld returned 1 exit status
configure:16709: $? = 1

The test failed and some libraries weren't linked automatically, thus XeTeX was disabled. However, pkg-config isn't available in my OpenWRT toolchain and the only thing I could do is to specify the fontconfig library and include path.

And further, I think the test parameters is different from the build parameters for XeTeX because here
configure:16709: mipsel-openwrt-linux-gcc -o conftest -g -O2 -I/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/include   conftest.c -L/home/siger/openwrt/mt7620a_18.06.2/staging_dir/target-mipsel_24kc_musl/usr/lib -lfontconfig  >&5
the library path doesn't contains freetype from the source.

I know that I should add some flags here, but I'd like to ask which flag I should add to, or any other sustainable solutions?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190215/22658cde/attachment-0001.html>

From jcray at protonmail.com  Sat Feb 16 06:28:37 2019
From: jcray at protonmail.com (James Ray)
Date: Sat, 16 Feb 2019 05:28:37 +0000
Subject: [tex-live] Error with install: Can't write to
 '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device
 at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
Message-ID: <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>

Hi all,

I have tried to run the `.install-tl` script twice after extracting http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz today. However, I get this error in the subject line:
```
Installing [2567/3746, time/total: 01:33:08/02:18:01]: pgfplots [15151k]
Can't write to '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
[jray at jr-dl install-tl-20190215]$
cat /usr/share/perl5/vendor_perl/LWP/Protocol.pm
package LWP::Protocol;

use base 'LWP::MemberMixin';

our $VERSION = '6.36';

use strict;
use Carp ();
use HTTP::Status ();
use HTTP::Response ();
use Try::Tiny qw(try catch);

my %ImplementedBy = (); # scheme => classname

sub new
{
    my($class, $scheme, $ua) = @_;

    my $self = bless {
scheme => $scheme,
ua => $ua,

# historical/redundant
        max_size => $ua->{max_size},
    }, $class;

    $self;
}

sub create
{
    my($scheme, $ua) = @_;
    my $impclass = LWP::Protocol::implementor($scheme) or
Carp::croak("Protocol scheme '$scheme' is not supported");

    # hand-off to scheme specific implementation sub-class
    my $protocol = $impclass->new($scheme, $ua);

    return $protocol;
}

sub implementor
{
    my($scheme, $impclass) = @_;

    if ($impclass) {
$ImplementedBy{$scheme} = $impclass;
    }
    my $ic = $ImplementedBy{$scheme};
    return $ic if $ic;

    return '' unless $scheme =~ /^([.+\-\w]+)$/;  # check valid URL schemes
    $scheme = $1; # untaint
    $scheme =~ tr/.+-/_/;  # make it a legal module name

    # scheme not yet known, look for a 'use'd implementation
    $ic = "LWP::Protocol::$scheme";  # default location
    $ic = "LWP::Protocol::nntp" if $scheme eq 'news'; #XXX ugly hack
    no strict 'refs';
    # check we actually have one for the scheme:
    unless (@{"${ic}::ISA"}) {
        # try to autoload it
        try {
            (my $class = $ic) =~ s{::}{/}g;
            $class .= '.pm' unless $class =~ /\.pm$/;
            require $class;
        }
        catch {
            my $error = $_;
            if ($error =~ /Can't locate/) {
                $ic = '';
            }
            else {
                die "$error\n";
            }
        };
    }
    $ImplementedBy{$scheme} = $ic if $ic;
    $ic;
}

sub request
{
    my($self, $request, $proxy, $arg, $size, $timeout) = @_;
    Carp::croak('LWP::Protocol::request() needs to be overridden in subclasses');
}

# legacy
sub timeout    { shift->_elem('timeout',    @_); }
sub max_size   { shift->_elem('max_size',   @_); }

sub collect
{
    my ($self, $arg, $response, $collector) = @_;
    my $content;
    my($ua, $max_size) = @{$self}{qw(ua max_size)};

    # This can't be moved to Try::Tiny due to the closures within causing
    # leaks on any version of Perl prior to 5.18.
    # https://perl5.git.perl.org/perl.git/commitdiff/a0d2bbd5c
    my $error = do { #catch
        local $@;
        local $\; # protect the print below from surprises
        eval { # try
            if (!defined($arg) || !$response->is_success) {
                $response->{default_add_content} = 1;
            }
            elsif (!ref($arg) && length($arg)) {
                open(my $fh, ">", $arg) or die "Can't write to '$arg': $!";
                binmode($fh);
                push(@{$response->{handlers}{response_data}}, {
                    callback => sub {
                        print $fh $_[3] or die "Can't write to '$arg': $!";
                        1;
                    },
                });
                push(@{$response->{handlers}{response_done}}, {
                    callback => sub {
                        close($fh) or die "Can't write to '$arg': $!";
                        undef($fh);
                    },
                });
            }
            elsif (ref($arg) eq 'CODE') {
                push(@{$response->{handlers}{response_data}}, {
                    callback => sub {
                        &$arg($_[3], $_[0], $self);
                        1;
                    },
                });
            }
            else {
                die "Unexpected collect argument '$arg'";
            }

            $ua->run_handlers("response_header", $response);

            if (delete $response->{default_add_content}) {
                push(@{$response->{handlers}{response_data}}, {
                    callback => sub {
                        $_[0]->add_content($_[3]);
                        1;
                    },
                });
            }

            my $content_size = 0;
            my $length = $response->content_length;
            my %skip_h;

            while ($content = &$collector, length $$content) {
                for my $h ($ua->handlers("response_data", $response)) {
                    next if $skip_h{$h};
                    unless ($h->{callback}->($response, $ua, $h, $$content)) {
                        # XXX remove from $response->{handlers}{response_data} if present
                        $skip_h{$h}++;
                    }
                }
                $content_size += length($$content);
                $ua->progress(($length ? ($content_size / $length) : "tick"), $response);
                if (defined($max_size) && $content_size > $max_size) {
                    $response->push_header("Client-Aborted", "max_size");
                    last;
                }
            }
            1;
        };
        $@;
    };

    if ($error) {
        chomp($error);
        $response->push_header('X-Died' => $error);
        $response->push_header("Client-Aborted", "die");
    };
    delete $response->{handlers}{response_data};
    delete $response->{handlers} unless %{$response->{handlers}};
    return $response;
}

sub collect_once
{
    my($self, $arg, $response) = @_;
    my $content = \ $_[3];
    my $first = 1;
    $self->collect($arg, $response, sub {
return $content if $first--;
return \ "";
    });
}

1;

__END__

=pod

=head1 NAME

LWP::Protocol - Base class for LWP protocols

=head1 SYNOPSIS

package LWP::Protocol::foo;
use base qw(LWP::Protocol);

=head1 DESCRIPTION

This class is used as the base class for all protocol implementations
supported by the LWP library.

When creating an instance of this class using
C<LWP::Protocol::create($url)>, and you get an initialized subclass
appropriate for that access method. In other words, the
L<LWP::Protocol/create> function calls the constructor for one of its
subclasses.

All derived C<LWP::Protocol> classes need to override the request()
method which is used to service a request. The overridden method can
make use of the collect() function to collect together chunks of data
as it is received.

=head1 METHODS

The following methods and functions are provided:

=head2 new

    my $prot = LWP::Protocol->new();

The LWP::Protocol constructor is inherited by subclasses. As this is a
virtual base class this method should B<not> be called directly.

=head2 create

    my $prot = LWP::Protocol::create($scheme)

Create an object of the class implementing the protocol to handle the
given scheme. This is a function, not a method. It is more an object
factory than a constructor. This is the function user agents should
use to access protocols.

=head2 implementor

    my $class = LWP::Protocol::implementor($scheme, [$class])

Get and/or set implementor class for a scheme.  Returns C<''> if the
specified scheme is not supported.

=head2 request

    $response = $protocol->request($request, $proxy, undef);
    $response = $protocol->request($request, $proxy, '/tmp/sss');
    $response = $protocol->request($request, $proxy, \&callback, 1024);

Dispatches a request over the protocol, and returns a response
object. This method needs to be overridden in subclasses.  Refer to
L<LWP::UserAgent> for description of the arguments.

=head2 collect

    my $res = $prot->collect(undef, $response, $collector); # stored in $response
    my $res = $prot->collect($filename, $response, $collector);
    my $res = $prot->collect(sub { ... }, $response, $collector);

Collect the content of a request, and process it appropriately into a scalar,
file, or by calling a callback. If the first parameter is undefined, then the
content is stored within the C<$response>. If it's a simple scalar, then it's
interpreted as a file name and the content is written to this file.  If it's a
code reference, then content is passed to this routine.

The collector is a routine that will be called and which is
responsible for returning pieces (as ref to scalar) of the content to
process.  The C<$collector> signals C<EOF> by returning a reference to an
empty string.

The return value is the L<HTTP::Response> object reference.

B<Note:> We will only use the callback or file argument if
C<< $response->is_success() >>.  This avoids sending content data for
redirects and authentication responses to the callback which would be
confusing.

=head2 collect_once

    $prot->collect_once($arg, $response, $content)

Can be called when the whole response content is available as content. This
will invoke L<LWP::Protocol/collect> with a collector callback that
returns a reference to C<$content> the first time and an empty string the
next.

=head1 SEE ALSO

Inspect the F<LWP/Protocol/file.pm> and F<LWP/Protocol/http.pm> files
for examples of usage.

=head1 COPYRIGHT

Copyright 1995-2001 Gisle Aas.

This library is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.

=cut
[jray at jr-dl install-tl-20190215]$ lsblk -f
NAME   FSTYPE LABEL     UUID                                 FSAVAIL FSUSE% MOUNTPOINT
sda
??sda1 vfat             7D57-B7BC                             299.1M     0% /boot/efi
??sda2 ext4             8ad88713-bc2e-4bfb-af80-c0f7e0f5e91c  250.8G     7% /
??sda3 swap             86ea7831-1a63-4a74-9286-f8741ef4ce8c                [SWAP]
sdb
??sdb1 ext4   SG_data   52776559-1302-4aa3-92b8-987d2d3d9a9c  461.9G    21% /home
??sdb2 ext4   SG_backup a9eb34d2-615f-4113-ab93-b60ac2192a8d  228.4G    17% /media/sg_backup
sr0
[jray at jr-dl install-tl-20190215]$ inxi -Fxz
System:    Host: jr-dl Kernel: 4.20.7-1-MANJARO x86_64 bits: 64 compiler: gcc v: 8.2.1 Desktop: N/A Distro: Manjaro Linux
Machine:   Type: Laptop System: Dell product: Latitude E6410 v: 0001 serial: <filter>
           Mobo: Dell model: 0HNGW4 serial: <filter> UEFI: Dell v: A16 date: 12/05/2013
Battery:   ID-1: BAT0 charge: 39.6 Wh condition: 39.6/48.8 Wh (81%) model: Samsung SDI DELL PT43699 status: Full
CPU:       Topology: Dual Core model: Intel Core i5 M 560 bits: 64 type: MT MCP arch: Nehalem rev: 5 L2 cache: 3072 KiB
           flags: lm nx pae sse sse2 sse3 sse4_1 sse4_2 ssse3 vmx bogomips: 21290
           Speed: 1444 MHz min/max: 1199/2667 MHz Core speeds (MHz): 1: 1230 2: 1253 3: 1278 4: 1445
Graphics:  Device-1: Intel Core Processor Integrated Graphics vendor: Dell Latitude E6410 driver: i915 v: kernel
           bus ID: 00:02.0
           Display: x11 server: X.Org 1.20.3 driver: intel unloaded: modesetting resolution: 1440x900~60Hz, 1920x1080~60Hz
           OpenGL: renderer: Mesa DRI Intel Ironlake Mobile v: 2.1 Mesa 18.3.2 direct render: Yes
Audio:     Device-1: Intel 5 Series/3400 Series High Definition Audio vendor: Dell Latitude E6410 driver: snd_hda_intel
           v: kernel bus ID: 00:1b.0
           Sound Server: ALSA v: k4.20.7-1-MANJARO
Network:   Device-1: Intel 82577LM Gigabit Network vendor: Dell Latitude E6410 driver: e1000e v: 3.2.6-k port: 7040
           bus ID: 00:19.0
           IF: eno1 state: up speed: 1000 Mbps duplex: full mac: <filter>
           Device-2: Broadcom and subsidiaries BCM43224 802.11a/b/g/n vendor: Dell Wireless 1520 Half-size Mini PCIe Card
           driver: wl v: kernel port: 7000 bus ID: 02:00.0
           IF: wlp2s0 state: down mac: <filter>
Drives:    Local Storage: total: 1.20 TiB used: 197.53 GiB (16.1%)
           ID-1: /dev/sda vendor: Seagate model: ST9320423AS size: 298.09 GiB
           ID-2: /dev/sdb type: USB vendor: Seagate model: Expansion size: 931.51 GiB
Partition: ID-1: / size: 284.06 GiB used: 18.79 GiB (6.6%) fs: ext4 dev: /dev/sda2
           ID-2: /home size: 622.48 GiB used: 128.93 GiB (20.7%) fs: ext4 dev: /dev/sdb1
           ID-3: swap-1 size: 8.18 GiB used: 728.2 MiB (8.7%) fs: swap dev: /dev/sda3
Sensors:   System Temperatures: cpu: 48.0 C mobo: N/A sodimm: 45.0 C
           Fan Speeds (RPM): cpu: 3321
Info:      Processes: 208 Uptime: 5h 00m Memory: 3.72 GiB used: 2.10 GiB (56.5%) Init: systemd Compilers: gcc: 8.2.1
           clang: 7.0.1 Shell: bash v: 5.0.0 inxi: 3.0.30
[jray at jr-dl install-tl-20190215]$

```
I checked the known issues and bugs page but couldn't see anything relevant to this issue.

Kind regards,

James Ray
https://about.me/james.ray

Sent with [ProtonMail](https://protonmail.com) Secure Email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190216/ca68ec6e/attachment-0001.html>

From jcray at protonmail.com  Sat Feb 16 08:38:24 2019
From: jcray at protonmail.com (James Ray)
Date: Sat, 16 Feb 2019 07:38:24 +0000
Subject: [tex-live] Error with install: Can't write to
 '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device
 at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
In-Reply-To: <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>
References: <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>
Message-ID: <xsQjM-VWczPKksFAEZnOfK4iKi3JOC2uqWB_uCVYwJqBl4mpR2fJ55EuXeLMVosUC03tAx7JmYRsxm4Rz5e3Dm4FaOcWPWrkZc55UsUKJRk=@protonmail.com>

PS,

[jray at jr-dl install-tl-20190215]$ perl -v

This is perl 5, version 28, subversion 1 (v5.28.1) built for x86_64-linux-thread-multi

Copyright 1987-2018, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using "man perl" or "perldoc perl".  If you have access to the
Internet, point your browser at http://www.perl.org/, the Perl Home Page.

[jray at jr-dl install-tl-20190215]$ echo $PATH
/home/jray/.cargo/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl
[jray at jr-dl install-tl-20190215]$ ls /usr/local/texlive/
2018  texmf-local
```
I think that's the problem, I forgot to remove these (which were installed via the `yay` package manager). Trying again, will report back in ~1.5 h.

Kind regards,

James Ray
https://about.me/james.ray

Sent with [ProtonMail](https://protonmail.com) Secure Email.

??????? Original Message ???????
On Saturday, February 16, 2019 4:28 PM, James Ray <jcray at protonmail.com> wrote:

> Hi all,
>
> I have tried to run the `.install-tl` script twice after extracting http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz today. However, I get this error in the subject line:
> ```
> Installing [2567/3746, time/total: 01:33:08/02:18:01]: pgfplots [15151k]
> Can't write to '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
> [jray at jr-dl install-tl-20190215]$
> cat /usr/share/perl5/vendor_perl/LWP/Protocol.pm
> package LWP::Protocol;
>
> use base 'LWP::MemberMixin';
>
> our $VERSION = '6.36';
>
> use strict;
> use Carp ();
> use HTTP::Status ();
> use HTTP::Response ();
> use Try::Tiny qw(try catch);
>
> my %ImplementedBy = (); # scheme => classname
>
> sub new
> {
>     my($class, $scheme, $ua) = @_;
>
>     my $self = bless {
> scheme => $scheme,
> ua => $ua,
>
> # historical/redundant
>         max_size => $ua->{max_size},
>     }, $class;
>
>     $self;
> }
>
> sub create
> {
>     my($scheme, $ua) = @_;
>     my $impclass = LWP::Protocol::implementor($scheme) or
> Carp::croak("Protocol scheme '$scheme' is not supported");
>
>     # hand-off to scheme specific implementation sub-class
>     my $protocol = $impclass->new($scheme, $ua);
>
>     return $protocol;
> }
>
> sub implementor
> {
>     my($scheme, $impclass) = @_;
>
>     if ($impclass) {
> $ImplementedBy{$scheme} = $impclass;
>     }
>     my $ic = $ImplementedBy{$scheme};
>     return $ic if $ic;
>
>     return '' unless $scheme =~ /^([.+\-\w]+)$/;  # check valid URL schemes
>     $scheme = $1; # untaint
>     $scheme =~ tr/.+-/_/;  # make it a legal module name
>
>     # scheme not yet known, look for a 'use'd implementation
>     $ic = "LWP::Protocol::$scheme";  # default location
>     $ic = "LWP::Protocol::nntp" if $scheme eq 'news'; #XXX ugly hack
>     no strict 'refs';
>     # check we actually have one for the scheme:
>     unless (@{"${ic}::ISA"}) {
>         # try to autoload it
>         try {
>             (my $class = $ic) =~ s{::}{/}g;
>             $class .= '.pm' unless $class =~ /\.pm$/;
>             require $class;
>         }
>         catch {
>             my $error = $_;
>             if ($error =~ /Can't locate/) {
>                 $ic = '';
>             }
>             else {
>                 die "$error\n";
>             }
>         };
>     }
>     $ImplementedBy{$scheme} = $ic if $ic;
>     $ic;
> }
>
> sub request
> {
>     my($self, $request, $proxy, $arg, $size, $timeout) = @_;
>     Carp::croak('LWP::Protocol::request() needs to be overridden in subclasses');
> }
>
> # legacy
> sub timeout    { shift->_elem('timeout',    @_); }
> sub max_size   { shift->_elem('max_size',   @_); }
>
> sub collect
> {
>     my ($self, $arg, $response, $collector) = @_;
>     my $content;
>     my($ua, $max_size) = @{$self}{qw(ua max_size)};
>
>     # This can't be moved to Try::Tiny due to the closures within causing
>     # leaks on any version of Perl prior to 5.18.
>     # https://perl5.git.perl.org/perl.git/commitdiff/a0d2bbd5c
>     my $error = do { #catch
>         local $@;
>         local $\; # protect the print below from surprises
>         eval { # try
>             if (!defined($arg) || !$response->is_success) {
>                 $response->{default_add_content} = 1;
>             }
>             elsif (!ref($arg) && length($arg)) {
>                 open(my $fh, ">", $arg) or die "Can't write to '$arg': $!";
>                 binmode($fh);
>                 push(@{$response->{handlers}{response_data}}, {
>                     callback => sub {
>                         print $fh $_[3] or die "Can't write to '$arg': $!";
>                         1;
>                     },
>                 });
>                 push(@{$response->{handlers}{response_done}}, {
>                     callback => sub {
>                         close($fh) or die "Can't write to '$arg': $!";
>                         undef($fh);
>                     },
>                 });
>             }
>             elsif (ref($arg) eq 'CODE') {
>                 push(@{$response->{handlers}{response_data}}, {
>                     callback => sub {
>                         &$arg($_[3], $_[0], $self);
>                         1;
>                     },
>                 });
>             }
>             else {
>                 die "Unexpected collect argument '$arg'";
>             }
>
>             $ua->run_handlers("response_header", $response);
>
>             if (delete $response->{default_add_content}) {
>                 push(@{$response->{handlers}{response_data}}, {
>                     callback => sub {
>                         $_[0]->add_content($_[3]);
>                         1;
>                     },
>                 });
>             }
>
>             my $content_size = 0;
>             my $length = $response->content_length;
>             my %skip_h;
>
>             while ($content = &$collector, length $$content) {
>                 for my $h ($ua->handlers("response_data", $response)) {
>                     next if $skip_h{$h};
>                     unless ($h->{callback}->($response, $ua, $h, $$content)) {
>                         # XXX remove from $response->{handlers}{response_data} if present
>                         $skip_h{$h}++;
>                     }
>                 }
>                 $content_size += length($$content);
>                 $ua->progress(($length ? ($content_size / $length) : "tick"), $response);
>                 if (defined($max_size) && $content_size > $max_size) {
>                     $response->push_header("Client-Aborted", "max_size");
>                     last;
>                 }
>             }
>             1;
>         };
>         $@;
>     };
>
>     if ($error) {
>         chomp($error);
>         $response->push_header('X-Died' => $error);
>         $response->push_header("Client-Aborted", "die");
>     };
>     delete $response->{handlers}{response_data};
>     delete $response->{handlers} unless %{$response->{handlers}};
>     return $response;
> }
>
> sub collect_once
> {
>     my($self, $arg, $response) = @_;
>     my $content = \ $_[3];
>     my $first = 1;
>     $self->collect($arg, $response, sub {
> return $content if $first--;
> return \ "";
>     });
> }
>
> 1;
>
> __END__
>
> =pod
>
> =head1 NAME
>
> LWP::Protocol - Base class for LWP protocols
>
> =head1 SYNOPSIS
>
> package LWP::Protocol::foo;
> use base qw(LWP::Protocol);
>
> =head1 DESCRIPTION
>
> This class is used as the base class for all protocol implementations
> supported by the LWP library.
>
> When creating an instance of this class using
> C<LWP::Protocol::create($url)>, and you get an initialized subclass
> appropriate for that access method. In other words, the
> L<LWP::Protocol/create> function calls the constructor for one of its
> subclasses.
>
> All derived C<LWP::Protocol> classes need to override the request()
> method which is used to service a request. The overridden method can
> make use of the collect() function to collect together chunks of data
> as it is received.
>
> =head1 METHODS
>
> The following methods and functions are provided:
>
> =head2 new
>
>     my $prot = LWP::Protocol->new();
>
> The LWP::Protocol constructor is inherited by subclasses. As this is a
> virtual base class this method should B<not> be called directly.
>
> =head2 create
>
>     my $prot = LWP::Protocol::create($scheme)
>
> Create an object of the class implementing the protocol to handle the
> given scheme. This is a function, not a method. It is more an object
> factory than a constructor. This is the function user agents should
> use to access protocols.
>
> =head2 implementor
>
>     my $class = LWP::Protocol::implementor($scheme, [$class])
>
> Get and/or set implementor class for a scheme.  Returns C<''> if the
> specified scheme is not supported.
>
> =head2 request
>
>     $response = $protocol->request($request, $proxy, undef);
>     $response = $protocol->request($request, $proxy, '/tmp/sss');
>     $response = $protocol->request($request, $proxy, \&callback, 1024);
>
> Dispatches a request over the protocol, and returns a response
> object. This method needs to be overridden in subclasses.  Refer to
> L<LWP::UserAgent> for description of the arguments.
>
> =head2 collect
>
>     my $res = $prot->collect(undef, $response, $collector); # stored in $response
>     my $res = $prot->collect($filename, $response, $collector);
>     my $res = $prot->collect(sub { ... }, $response, $collector);
>
> Collect the content of a request, and process it appropriately into a scalar,
> file, or by calling a callback. If the first parameter is undefined, then the
> content is stored within the C<$response>. If it's a simple scalar, then it's
> interpreted as a file name and the content is written to this file.  If it's a
> code reference, then content is passed to this routine.
>
> The collector is a routine that will be called and which is
> responsible for returning pieces (as ref to scalar) of the content to
> process.  The C<$collector> signals C<EOF> by returning a reference to an
> empty string.
>
> The return value is the L<HTTP::Response> object reference.
>
> B<Note:> We will only use the callback or file argument if
> C<< $response->is_success() >>.  This avoids sending content data for
> redirects and authentication responses to the callback which would be
> confusing.
>
> =head2 collect_once
>
>     $prot->collect_once($arg, $response, $content)
>
> Can be called when the whole response content is available as content. This
> will invoke L<LWP::Protocol/collect> with a collector callback that
> returns a reference to C<$content> the first time and an empty string the
> next.
>
> =head1 SEE ALSO
>
> Inspect the F<LWP/Protocol/file.pm> and F<LWP/Protocol/http.pm> files
> for examples of usage.
>
> =head1 COPYRIGHT
>
> Copyright 1995-2001 Gisle Aas.
>
> This library is free software; you can redistribute it and/or
> modify it under the same terms as Perl itself.
>
> =cut
> [jray at jr-dl install-tl-20190215]$ lsblk -f
> NAME   FSTYPE LABEL     UUID                                 FSAVAIL FSUSE% MOUNTPOINT
> sda
> ??sda1 vfat             7D57-B7BC                             299.1M     0% /boot/efi
> ??sda2 ext4             8ad88713-bc2e-4bfb-af80-c0f7e0f5e91c  250.8G     7% /
> ??sda3 swap             86ea7831-1a63-4a74-9286-f8741ef4ce8c                [SWAP]
> sdb
> ??sdb1 ext4   SG_data   52776559-1302-4aa3-92b8-987d2d3d9a9c  461.9G    21% /home
> ??sdb2 ext4   SG_backup a9eb34d2-615f-4113-ab93-b60ac2192a8d  228.4G    17% /media/sg_backup
> sr0
> [jray at jr-dl install-tl-20190215]$ inxi -Fxz
> System:    Host: jr-dl Kernel: 4.20.7-1-MANJARO x86_64 bits: 64 compiler: gcc v: 8.2.1 Desktop: N/A Distro: Manjaro Linux
> Machine:   Type: Laptop System: Dell product: Latitude E6410 v: 0001 serial: <filter>
>            Mobo: Dell model: 0HNGW4 serial: <filter> UEFI: Dell v: A16 date: 12/05/2013
> Battery:   ID-1: BAT0 charge: 39.6 Wh condition: 39.6/48.8 Wh (81%) model: Samsung SDI DELL PT43699 status: Full
> CPU:       Topology: Dual Core model: Intel Core i5 M 560 bits: 64 type: MT MCP arch: Nehalem rev: 5 L2 cache: 3072 KiB
>            flags: lm nx pae sse sse2 sse3 sse4_1 sse4_2 ssse3 vmx bogomips: 21290
>            Speed: 1444 MHz min/max: 1199/2667 MHz Core speeds (MHz): 1: 1230 2: 1253 3: 1278 4: 1445
> Graphics:  Device-1: Intel Core Processor Integrated Graphics vendor: Dell Latitude E6410 driver: i915 v: kernel
>            bus ID: 00:02.0
>            Display: x11 server: X.Org 1.20.3 driver: intel unloaded: modesetting resolution: 1440x900~60Hz, 1920x1080~60Hz
>            OpenGL: renderer: Mesa DRI Intel Ironlake Mobile v: 2.1 Mesa 18.3.2 direct render: Yes
> Audio:     Device-1: Intel 5 Series/3400 Series High Definition Audio vendor: Dell Latitude E6410 driver: snd_hda_intel
>            v: kernel bus ID: 00:1b.0
>            Sound Server: ALSA v: k4.20.7-1-MANJARO
> Network:   Device-1: Intel 82577LM Gigabit Network vendor: Dell Latitude E6410 driver: e1000e v: 3.2.6-k port: 7040
>            bus ID: 00:19.0
>            IF: eno1 state: up speed: 1000 Mbps duplex: full mac: <filter>
>            Device-2: Broadcom and subsidiaries BCM43224 802.11a/b/g/n vendor: Dell Wireless 1520 Half-size Mini PCIe Card
>            driver: wl v: kernel port: 7000 bus ID: 02:00.0
>            IF: wlp2s0 state: down mac: <filter>
> Drives:    Local Storage: total: 1.20 TiB used: 197.53 GiB (16.1%)
>            ID-1: /dev/sda vendor: Seagate model: ST9320423AS size: 298.09 GiB
>            ID-2: /dev/sdb type: USB vendor: Seagate model: Expansion size: 931.51 GiB
> Partition: ID-1: / size: 284.06 GiB used: 18.79 GiB (6.6%) fs: ext4 dev: /dev/sda2
>            ID-2: /home size: 622.48 GiB used: 128.93 GiB (20.7%) fs: ext4 dev: /dev/sdb1
>            ID-3: swap-1 size: 8.18 GiB used: 728.2 MiB (8.7%) fs: swap dev: /dev/sda3
> Sensors:   System Temperatures: cpu: 48.0 C mobo: N/A sodimm: 45.0 C
>            Fan Speeds (RPM): cpu: 3321
> Info:      Processes: 208 Uptime: 5h 00m Memory: 3.72 GiB used: 2.10 GiB (56.5%) Init: systemd Compilers: gcc: 8.2.1
>            clang: 7.0.1 Shell: bash v: 5.0.0 inxi: 3.0.30
> [jray at jr-dl install-tl-20190215]$
>
> ```
> I checked the known issues and bugs page but couldn't see anything relevant to this issue.
>
> Kind regards,
>
> James Ray
> https://about.me/james.ray
>
> Sent with [ProtonMail](https://protonmail.com) Secure Email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190216/37cd6e24/attachment-0001.html>

From jcray at protonmail.com  Sat Feb 16 08:57:42 2019
From: jcray at protonmail.com (James Ray)
Date: Sat, 16 Feb 2019 07:57:42 +0000
Subject: [tex-live] Error with install: Can't write to
 '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device
 at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
In-Reply-To: <xsQjM-VWczPKksFAEZnOfK4iKi3JOC2uqWB_uCVYwJqBl4mpR2fJ55EuXeLMVosUC03tAx7JmYRsxm4Rz5e3Dm4FaOcWPWrkZc55UsUKJRk=@protonmail.com>
References: <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>
 <xsQjM-VWczPKksFAEZnOfK4iKi3JOC2uqWB_uCVYwJqBl4mpR2fJ55EuXeLMVosUC03tAx7JmYRsxm4Rz5e3Dm4FaOcWPWrkZc55UsUKJRk=@protonmail.com>
Message-ID: <WiTVHp5jzWC6VsbDUBshsef2HlknWhf3eDvDoG1dxwwjirIvBTMr5AolvKbTVVcMXyoUqhVcHBoM_XoTqKIypi__CtAhAmyNz5oSU3qgE9c=@protonmail.com>

No dice, a log is attached.

Kind regards,

James Ray
https://about.me/james.ray

Sent with [ProtonMail](https://protonmail.com) Secure Email.

??????? Original Message ???????
On Saturday, February 16, 2019 6:38 PM, James Ray <jcray at protonmail.com> wrote:

> PS,
>
> [jray at jr-dl install-tl-20190215]$ perl -v
>
> This is perl 5, version 28, subversion 1 (v5.28.1) built for x86_64-linux-thread-multi
>
> Copyright 1987-2018, Larry Wall
>
> Perl may be copied only under the terms of either the Artistic License or the
> GNU General Public License, which may be found in the Perl 5 source kit.
>
> Complete documentation for Perl, including FAQ lists, should be found on
> this system using "man perl" or "perldoc perl".  If you have access to the
> Internet, point your browser at http://www.perl.org/, the Perl Home Page.
>
> [jray at jr-dl install-tl-20190215]$ echo $PATH
> /home/jray/.cargo/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl
> [jray at jr-dl install-tl-20190215]$ ls /usr/local/texlive/
> 2018  texmf-local
> ```
> I think that's the problem, I forgot to remove these (which were installed via the `yay` package manager). Trying again, will report back in ~1.5 h.
>
> Kind regards,
>
> James Ray
> https://about.me/james.ray
>
> Sent with [ProtonMail](https://protonmail.com) Secure Email.
>
> ??????? Original Message ???????
> On Saturday, February 16, 2019 4:28 PM, James Ray <jcray at protonmail.com> wrote:
>
>> Hi all,
>>
>> I have tried to run the `.install-tl` script twice after extracting http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz today. However, I get this error in the subject line:
>> ```
>> Installing [2567/3746, time/total: 01:33:08/02:18:01]: pgfplots [15151k]
>> Can't write to '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
>> [jray at jr-dl install-tl-20190215]$
>> cat /usr/share/perl5/vendor_perl/LWP/Protocol.pm
>> package LWP::Protocol;
>>
>> use base 'LWP::MemberMixin';
>>
>> our $VERSION = '6.36';
>>
>> use strict;
>> use Carp ();
>> use HTTP::Status ();
>> use HTTP::Response ();
>> use Try::Tiny qw(try catch);
>>
>> my %ImplementedBy = (); # scheme => classname
>>
>> sub new
>> {
>>     my($class, $scheme, $ua) = @_;
>>
>>     my $self = bless {
>> scheme => $scheme,
>> ua => $ua,
>>
>> # historical/redundant
>>         max_size => $ua->{max_size},
>>     }, $class;
>>
>>     $self;
>> }
>>
>> sub create
>> {
>>     my($scheme, $ua) = @_;
>>     my $impclass = LWP::Protocol::implementor($scheme) or
>> Carp::croak("Protocol scheme '$scheme' is not supported");
>>
>>     # hand-off to scheme specific implementation sub-class
>>     my $protocol = $impclass->new($scheme, $ua);
>>
>>     return $protocol;
>> }
>>
>> sub implementor
>> {
>>     my($scheme, $impclass) = @_;
>>
>>     if ($impclass) {
>> $ImplementedBy{$scheme} = $impclass;
>>     }
>>     my $ic = $ImplementedBy{$scheme};
>>     return $ic if $ic;
>>
>>     return '' unless $scheme =~ /^([.+\-\w]+)$/;  # check valid URL schemes
>>     $scheme = $1; # untaint
>>     $scheme =~ tr/.+-/_/;  # make it a legal module name
>>
>>     # scheme not yet known, look for a 'use'd implementation
>>     $ic = "LWP::Protocol::$scheme";  # default location
>>     $ic = "LWP::Protocol::nntp" if $scheme eq 'news'; #XXX ugly hack
>>     no strict 'refs';
>>     # check we actually have one for the scheme:
>>     unless (@{"${ic}::ISA"}) {
>>         # try to autoload it
>>         try {
>>             (my $class = $ic) =~ s{::}{/}g;
>>             $class .= '.pm' unless $class =~ /\.pm$/;
>>             require $class;
>>         }
>>         catch {
>>             my $error = $_;
>>             if ($error =~ /Can't locate/) {
>>                 $ic = '';
>>             }
>>             else {
>>                 die "$error\n";
>>             }
>>         };
>>     }
>>     $ImplementedBy{$scheme} = $ic if $ic;
>>     $ic;
>> }
>>
>> sub request
>> {
>>     my($self, $request, $proxy, $arg, $size, $timeout) = @_;
>>     Carp::croak('LWP::Protocol::request() needs to be overridden in subclasses');
>> }
>>
>> # legacy
>> sub timeout    { shift->_elem('timeout',    @_); }
>> sub max_size   { shift->_elem('max_size',   @_); }
>>
>> sub collect
>> {
>>     my ($self, $arg, $response, $collector) = @_;
>>     my $content;
>>     my($ua, $max_size) = @{$self}{qw(ua max_size)};
>>
>>     # This can't be moved to Try::Tiny due to the closures within causing
>>     # leaks on any version of Perl prior to 5.18.
>>     # https://perl5.git.perl.org/perl.git/commitdiff/a0d2bbd5c
>>     my $error = do { #catch
>>         local $@;
>>         local $\; # protect the print below from surprises
>>         eval { # try
>>             if (!defined($arg) || !$response->is_success) {
>>                 $response->{default_add_content} = 1;
>>             }
>>             elsif (!ref($arg) && length($arg)) {
>>                 open(my $fh, ">", $arg) or die "Can't write to '$arg': $!";
>>                 binmode($fh);
>>                 push(@{$response->{handlers}{response_data}}, {
>>                     callback => sub {
>>                         print $fh $_[3] or die "Can't write to '$arg': $!";
>>                         1;
>>                     },
>>                 });
>>                 push(@{$response->{handlers}{response_done}}, {
>>                     callback => sub {
>>                         close($fh) or die "Can't write to '$arg': $!";
>>                         undef($fh);
>>                     },
>>                 });
>>             }
>>             elsif (ref($arg) eq 'CODE') {
>>                 push(@{$response->{handlers}{response_data}}, {
>>                     callback => sub {
>>                         &$arg($_[3], $_[0], $self);
>>                         1;
>>                     },
>>                 });
>>             }
>>             else {
>>                 die "Unexpected collect argument '$arg'";
>>             }
>>
>>             $ua->run_handlers("response_header", $response);
>>
>>             if (delete $response->{default_add_content}) {
>>                 push(@{$response->{handlers}{response_data}}, {
>>                     callback => sub {
>>                         $_[0]->add_content($_[3]);
>>                         1;
>>                     },
>>                 });
>>             }
>>
>>             my $content_size = 0;
>>             my $length = $response->content_length;
>>             my %skip_h;
>>
>>             while ($content = &$collector, length $$content) {
>>                 for my $h ($ua->handlers("response_data", $response)) {
>>                     next if $skip_h{$h};
>>                     unless ($h->{callback}->($response, $ua, $h, $$content)) {
>>                         # XXX remove from $response->{handlers}{response_data} if present
>>                         $skip_h{$h}++;
>>                     }
>>                 }
>>                 $content_size += length($$content);
>>                 $ua->progress(($length ? ($content_size / $length) : "tick"), $response);
>>                 if (defined($max_size) && $content_size > $max_size) {
>>                     $response->push_header("Client-Aborted", "max_size");
>>                     last;
>>                 }
>>             }
>>             1;
>>         };
>>         $@;
>>     };
>>
>>     if ($error) {
>>         chomp($error);
>>         $response->push_header('X-Died' => $error);
>>         $response->push_header("Client-Aborted", "die");
>>     };
>>     delete $response->{handlers}{response_data};
>>     delete $response->{handlers} unless %{$response->{handlers}};
>>     return $response;
>> }
>>
>> sub collect_once
>> {
>>     my($self, $arg, $response) = @_;
>>     my $content = \ $_[3];
>>     my $first = 1;
>>     $self->collect($arg, $response, sub {
>> return $content if $first--;
>> return \ "";
>>     });
>> }
>>
>> 1;
>>
>> __END__
>>
>> =pod
>>
>> =head1 NAME
>>
>> LWP::Protocol - Base class for LWP protocols
>>
>> =head1 SYNOPSIS
>>
>> package LWP::Protocol::foo;
>> use base qw(LWP::Protocol);
>>
>> =head1 DESCRIPTION
>>
>> This class is used as the base class for all protocol implementations
>> supported by the LWP library.
>>
>> When creating an instance of this class using
>> C<LWP::Protocol::create($url)>, and you get an initialized subclass
>> appropriate for that access method. In other words, the
>> L<LWP::Protocol/create> function calls the constructor for one of its
>> subclasses.
>>
>> All derived C<LWP::Protocol> classes need to override the request()
>> method which is used to service a request. The overridden method can
>> make use of the collect() function to collect together chunks of data
>> as it is received.
>>
>> =head1 METHODS
>>
>> The following methods and functions are provided:
>>
>> =head2 new
>>
>>     my $prot = LWP::Protocol->new();
>>
>> The LWP::Protocol constructor is inherited by subclasses. As this is a
>> virtual base class this method should B<not> be called directly.
>>
>> =head2 create
>>
>>     my $prot = LWP::Protocol::create($scheme)
>>
>> Create an object of the class implementing the protocol to handle the
>> given scheme. This is a function, not a method. It is more an object
>> factory than a constructor. This is the function user agents should
>> use to access protocols.
>>
>> =head2 implementor
>>
>>     my $class = LWP::Protocol::implementor($scheme, [$class])
>>
>> Get and/or set implementor class for a scheme.  Returns C<''> if the
>> specified scheme is not supported.
>>
>> =head2 request
>>
>>     $response = $protocol->request($request, $proxy, undef);
>>     $response = $protocol->request($request, $proxy, '/tmp/sss');
>>     $response = $protocol->request($request, $proxy, \&callback, 1024);
>>
>> Dispatches a request over the protocol, and returns a response
>> object. This method needs to be overridden in subclasses.  Refer to
>> L<LWP::UserAgent> for description of the arguments.
>>
>> =head2 collect
>>
>>     my $res = $prot->collect(undef, $response, $collector); # stored in $response
>>     my $res = $prot->collect($filename, $response, $collector);
>>     my $res = $prot->collect(sub { ... }, $response, $collector);
>>
>> Collect the content of a request, and process it appropriately into a scalar,
>> file, or by calling a callback. If the first parameter is undefined, then the
>> content is stored within the C<$response>. If it's a simple scalar, then it's
>> interpreted as a file name and the content is written to this file.  If it's a
>> code reference, then content is passed to this routine.
>>
>> The collector is a routine that will be called and which is
>> responsible for returning pieces (as ref to scalar) of the content to
>> process.  The C<$collector> signals C<EOF> by returning a reference to an
>> empty string.
>>
>> The return value is the L<HTTP::Response> object reference.
>>
>> B<Note:> We will only use the callback or file argument if
>> C<< $response->is_success() >>.  This avoids sending content data for
>> redirects and authentication responses to the callback which would be
>> confusing.
>>
>> =head2 collect_once
>>
>>     $prot->collect_once($arg, $response, $content)
>>
>> Can be called when the whole response content is available as content. This
>> will invoke L<LWP::Protocol/collect> with a collector callback that
>> returns a reference to C<$content> the first time and an empty string the
>> next.
>>
>> =head1 SEE ALSO
>>
>> Inspect the F<LWP/Protocol/file.pm> and F<LWP/Protocol/http.pm> files
>> for examples of usage.
>>
>> =head1 COPYRIGHT
>>
>> Copyright 1995-2001 Gisle Aas.
>>
>> This library is free software; you can redistribute it and/or
>> modify it under the same terms as Perl itself.
>>
>> =cut
>> [jray at jr-dl install-tl-20190215]$ lsblk -f
>> NAME   FSTYPE LABEL     UUID                                 FSAVAIL FSUSE% MOUNTPOINT
>> sda
>> ??sda1 vfat             7D57-B7BC                             299.1M     0% /boot/efi
>> ??sda2 ext4             8ad88713-bc2e-4bfb-af80-c0f7e0f5e91c  250.8G     7% /
>> ??sda3 swap             86ea7831-1a63-4a74-9286-f8741ef4ce8c                [SWAP]
>> sdb
>> ??sdb1 ext4   SG_data   52776559-1302-4aa3-92b8-987d2d3d9a9c  461.9G    21% /home
>> ??sdb2 ext4   SG_backup a9eb34d2-615f-4113-ab93-b60ac2192a8d  228.4G    17% /media/sg_backup
>> sr0
>> [jray at jr-dl install-tl-20190215]$ inxi -Fxz
>> System:    Host: jr-dl Kernel: 4.20.7-1-MANJARO x86_64 bits: 64 compiler: gcc v: 8.2.1 Desktop: N/A Distro: Manjaro Linux
>> Machine:   Type: Laptop System: Dell product: Latitude E6410 v: 0001 serial: <filter>
>>            Mobo: Dell model: 0HNGW4 serial: <filter> UEFI: Dell v: A16 date: 12/05/2013
>> Battery:   ID-1: BAT0 charge: 39.6 Wh condition: 39.6/48.8 Wh (81%) model: Samsung SDI DELL PT43699 status: Full
>> CPU:       Topology: Dual Core model: Intel Core i5 M 560 bits: 64 type: MT MCP arch: Nehalem rev: 5 L2 cache: 3072 KiB
>>            flags: lm nx pae sse sse2 sse3 sse4_1 sse4_2 ssse3 vmx bogomips: 21290
>>            Speed: 1444 MHz min/max: 1199/2667 MHz Core speeds (MHz): 1: 1230 2: 1253 3: 1278 4: 1445
>> Graphics:  Device-1: Intel Core Processor Integrated Graphics vendor: Dell Latitude E6410 driver: i915 v: kernel
>>            bus ID: 00:02.0
>>            Display: x11 server: X.Org 1.20.3 driver: intel unloaded: modesetting resolution: 1440x900~60Hz, 1920x1080~60Hz
>>            OpenGL: renderer: Mesa DRI Intel Ironlake Mobile v: 2.1 Mesa 18.3.2 direct render: Yes
>> Audio:     Device-1: Intel 5 Series/3400 Series High Definition Audio vendor: Dell Latitude E6410 driver: snd_hda_intel
>>            v: kernel bus ID: 00:1b.0
>>            Sound Server: ALSA v: k4.20.7-1-MANJARO
>> Network:   Device-1: Intel 82577LM Gigabit Network vendor: Dell Latitude E6410 driver: e1000e v: 3.2.6-k port: 7040
>>            bus ID: 00:19.0
>>            IF: eno1 state: up speed: 1000 Mbps duplex: full mac: <filter>
>>            Device-2: Broadcom and subsidiaries BCM43224 802.11a/b/g/n vendor: Dell Wireless 1520 Half-size Mini PCIe Card
>>            driver: wl v: kernel port: 7000 bus ID: 02:00.0
>>            IF: wlp2s0 state: down mac: <filter>
>> Drives:    Local Storage: total: 1.20 TiB used: 197.53 GiB (16.1%)
>>            ID-1: /dev/sda vendor: Seagate model: ST9320423AS size: 298.09 GiB
>>            ID-2: /dev/sdb type: USB vendor: Seagate model: Expansion size: 931.51 GiB
>> Partition: ID-1: / size: 284.06 GiB used: 18.79 GiB (6.6%) fs: ext4 dev: /dev/sda2
>>            ID-2: /home size: 622.48 GiB used: 128.93 GiB (20.7%) fs: ext4 dev: /dev/sdb1
>>            ID-3: swap-1 size: 8.18 GiB used: 728.2 MiB (8.7%) fs: swap dev: /dev/sda3
>> Sensors:   System Temperatures: cpu: 48.0 C mobo: N/A sodimm: 45.0 C
>>            Fan Speeds (RPM): cpu: 3321
>> Info:      Processes: 208 Uptime: 5h 00m Memory: 3.72 GiB used: 2.10 GiB (56.5%) Init: systemd Compilers: gcc: 8.2.1
>>            clang: 7.0.1 Shell: bash v: 5.0.0 inxi: 3.0.30
>> [jray at jr-dl install-tl-20190215]$
>>
>> ```
>> I checked the known issues and bugs page but couldn't see anything relevant to this issue.
>>
>> Kind regards,
>>
>> James Ray
>> https://about.me/james.ray
>>
>> Sent with [ProtonMail](https://protonmail.com) Secure Email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190216/2438132f/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: install-tl.log
Type: text/x-log
Size: 36759 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20190216/2438132f/attachment-0001.bin>

From jcray at protonmail.com  Sat Feb 16 11:17:10 2019
From: jcray at protonmail.com (James Ray)
Date: Sat, 16 Feb 2019 10:17:10 +0000
Subject: [tex-live] Error with install: Can't write to
 '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device
 at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
In-Reply-To: <WiTVHp5jzWC6VsbDUBshsef2HlknWhf3eDvDoG1dxwwjirIvBTMr5AolvKbTVVcMXyoUqhVcHBoM_XoTqKIypi__CtAhAmyNz5oSU3qgE9c=@protonmail.com>
References: <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>
 <xsQjM-VWczPKksFAEZnOfK4iKi3JOC2uqWB_uCVYwJqBl4mpR2fJ55EuXeLMVosUC03tAx7JmYRsxm4Rz5e3Dm4FaOcWPWrkZc55UsUKJRk=@protonmail.com>
 <WiTVHp5jzWC6VsbDUBshsef2HlknWhf3eDvDoG1dxwwjirIvBTMr5AolvKbTVVcMXyoUqhVcHBoM_XoTqKIypi__CtAhAmyNz5oSU3qgE9c=@protonmail.com>
Message-ID: <qW0uStIiO9qP09l3yMNE9lmeBFQUSpa66FTM5jaOZBE7SWvJxZnzcdky6fA_yvK1CiKIYrH2eWtvPQZtyCUm_2Cr-USnnmYPFSDDU2Pk0kc=@protonmail.com>

Still the same error, this time it showed the full error:
Can't write to '/tmp/NM1m05irUJ/EQypZqt50S/pgfplots.doc.tar.xz': No space left on device at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line 124, <PROFILE> line 30.

Trying again with sudo ./install-tl after sudo rm -rf /usr/local/texlive/2018 && rm -rf ~/.texlive2018.

Installing [0189/3746, time/total: 07:32/02:01:44]: axodraw2 [529k]
TLUtils::check_file: removing /tmp/TAtnCz8wQo/raQT_rxBSe/axodraw2.doc.tar.xz, checksums differ:
TLUtils::check_file:   TL=2dee6f66b102c8d4dab09f17ffbb46790cdaf8e9db274760fdfebb0ba8f8f45c37043f4c51402a133b401e5f8858c12cf0d1c32321be00acb12a9b1b5773888c, arg=81c4ca83efa2d96bdd358f2fc569bbb65e7ebad041e10450f33d131bb2f306f4d4d1f9838c44c35f910cd07fd4b65077ef6a89f9af1332a8fdb7351e7ff2a673
TLPDB::_install_package: downloading did not succeed
Installation failed.
Rerunning the installer will try to restart the installation.
Or you can restart by running the installer with:
  install-tl --profile installation.profile [EXTRA-ARGS]

Kind regards,

James Ray
https://about.me/james.ray

Sent with [ProtonMail](https://protonmail.com) Secure Email.

??????? Original Message ???????
On Saturday, February 16, 2019 6:57 PM, James Ray <jcray at protonmail.com> wrote:

> No dice, a log is attached.
>
> Kind regards,
>
> James Ray
> https://about.me/james.ray
>
> Sent with [ProtonMail](https://protonmail.com) Secure Email.
>
> ??????? Original Message ???????
> On Saturday, February 16, 2019 6:38 PM, James Ray <jcray at protonmail.com> wrote:
>
>> PS,
>>
>> [jray at jr-dl install-tl-20190215]$ perl -v
>>
>> This is perl 5, version 28, subversion 1 (v5.28.1) built for x86_64-linux-thread-multi
>>
>> Copyright 1987-2018, Larry Wall
>>
>> Perl may be copied only under the terms of either the Artistic License or the
>> GNU General Public License, which may be found in the Perl 5 source kit.
>>
>> Complete documentation for Perl, including FAQ lists, should be found on
>> this system using "man perl" or "perldoc perl".  If you have access to the
>> Internet, point your browser at http://www.perl.org/, the Perl Home Page.
>>
>> [jray at jr-dl install-tl-20190215]$ echo $PATH
>> /home/jray/.cargo/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl
>> [jray at jr-dl install-tl-20190215]$ ls /usr/local/texlive/
>> 2018  texmf-local
>> ```
>> I think that's the problem, I forgot to remove these (which were installed via the `yay` package manager). Trying again, will report back in ~1.5 h.
>>
>> Kind regards,
>>
>> James Ray
>> https://about.me/james.ray
>>
>> Sent with [ProtonMail](https://protonmail.com) Secure Email.
>>
>> ??????? Original Message ???????
>> On Saturday, February 16, 2019 4:28 PM, James Ray <jcray at protonmail.com> wrote:
>>
>>> Hi all,
>>>
>>> I have tried to run the `.install-tl` script twice after extracting http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz today. However, I get this error in the subject line:
>>> ```
>>> Installing [2567/3746, time/total: 01:33:08/02:18:01]: pgfplots [15151k]
>>> Can't write to '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
>>> [jray at jr-dl install-tl-20190215]$
>>> cat /usr/share/perl5/vendor_perl/LWP/Protocol.pm
>>> package LWP::Protocol;
>>>
>>> use base 'LWP::MemberMixin';
>>>
>>> our $VERSION = '6.36';
>>>
>>> use strict;
>>> use Carp ();
>>> use HTTP::Status ();
>>> use HTTP::Response ();
>>> use Try::Tiny qw(try catch);
>>>
>>> my %ImplementedBy = (); # scheme => classname
>>>
>>> sub new
>>> {
>>>     my($class, $scheme, $ua) = @_;
>>>
>>>     my $self = bless {
>>> scheme => $scheme,
>>> ua => $ua,
>>>
>>> # historical/redundant
>>>         max_size => $ua->{max_size},
>>>     }, $class;
>>>
>>>     $self;
>>> }
>>>
>>> sub create
>>> {
>>>     my($scheme, $ua) = @_;
>>>     my $impclass = LWP::Protocol::implementor($scheme) or
>>> Carp::croak("Protocol scheme '$scheme' is not supported");
>>>
>>>     # hand-off to scheme specific implementation sub-class
>>>     my $protocol = $impclass->new($scheme, $ua);
>>>
>>>     return $protocol;
>>> }
>>>
>>> sub implementor
>>> {
>>>     my($scheme, $impclass) = @_;
>>>
>>>     if ($impclass) {
>>> $ImplementedBy{$scheme} = $impclass;
>>>     }
>>>     my $ic = $ImplementedBy{$scheme};
>>>     return $ic if $ic;
>>>
>>>     return '' unless $scheme =~ /^([.+\-\w]+)$/;  # check valid URL schemes
>>>     $scheme = $1; # untaint
>>>     $scheme =~ tr/.+-/_/;  # make it a legal module name
>>>
>>>     # scheme not yet known, look for a 'use'd implementation
>>>     $ic = "LWP::Protocol::$scheme";  # default location
>>>     $ic = "LWP::Protocol::nntp" if $scheme eq 'news'; #XXX ugly hack
>>>     no strict 'refs';
>>>     # check we actually have one for the scheme:
>>>     unless (@{"${ic}::ISA"}) {
>>>         # try to autoload it
>>>         try {
>>>             (my $class = $ic) =~ s{::}{/}g;
>>>             $class .= '.pm' unless $class =~ /\.pm$/;
>>>             require $class;
>>>         }
>>>         catch {
>>>             my $error = $_;
>>>             if ($error =~ /Can't locate/) {
>>>                 $ic = '';
>>>             }
>>>             else {
>>>                 die "$error\n";
>>>             }
>>>         };
>>>     }
>>>     $ImplementedBy{$scheme} = $ic if $ic;
>>>     $ic;
>>> }
>>>
>>> sub request
>>> {
>>>     my($self, $request, $proxy, $arg, $size, $timeout) = @_;
>>>     Carp::croak('LWP::Protocol::request() needs to be overridden in subclasses');
>>> }
>>>
>>> # legacy
>>> sub timeout    { shift->_elem('timeout',    @_); }
>>> sub max_size   { shift->_elem('max_size',   @_); }
>>>
>>> sub collect
>>> {
>>>     my ($self, $arg, $response, $collector) = @_;
>>>     my $content;
>>>     my($ua, $max_size) = @{$self}{qw(ua max_size)};
>>>
>>>     # This can't be moved to Try::Tiny due to the closures within causing
>>>     # leaks on any version of Perl prior to 5.18.
>>>     # https://perl5.git.perl.org/perl.git/commitdiff/a0d2bbd5c
>>>     my $error = do { #catch
>>>         local $@;
>>>         local $\; # protect the print below from surprises
>>>         eval { # try
>>>             if (!defined($arg) || !$response->is_success) {
>>>                 $response->{default_add_content} = 1;
>>>             }
>>>             elsif (!ref($arg) && length($arg)) {
>>>                 open(my $fh, ">", $arg) or die "Can't write to '$arg': $!";
>>>                 binmode($fh);
>>>                 push(@{$response->{handlers}{response_data}}, {
>>>                     callback => sub {
>>>                         print $fh $_[3] or die "Can't write to '$arg': $!";
>>>                         1;
>>>                     },
>>>                 });
>>>                 push(@{$response->{handlers}{response_done}}, {
>>>                     callback => sub {
>>>                         close($fh) or die "Can't write to '$arg': $!";
>>>                         undef($fh);
>>>                     },
>>>                 });
>>>             }
>>>             elsif (ref($arg) eq 'CODE') {
>>>                 push(@{$response->{handlers}{response_data}}, {
>>>                     callback => sub {
>>>                         &$arg($_[3], $_[0], $self);
>>>                         1;
>>>                     },
>>>                 });
>>>             }
>>>             else {
>>>                 die "Unexpected collect argument '$arg'";
>>>             }
>>>
>>>             $ua->run_handlers("response_header", $response);
>>>
>>>             if (delete $response->{default_add_content}) {
>>>                 push(@{$response->{handlers}{response_data}}, {
>>>                     callback => sub {
>>>                         $_[0]->add_content($_[3]);
>>>                         1;
>>>                     },
>>>                 });
>>>             }
>>>
>>>             my $content_size = 0;
>>>             my $length = $response->content_length;
>>>             my %skip_h;
>>>
>>>             while ($content = &$collector, length $$content) {
>>>                 for my $h ($ua->handlers("response_data", $response)) {
>>>                     next if $skip_h{$h};
>>>                     unless ($h->{callback}->($response, $ua, $h, $$content)) {
>>>                         # XXX remove from $response->{handlers}{response_data} if present
>>>                         $skip_h{$h}++;
>>>                     }
>>>                 }
>>>                 $content_size += length($$content);
>>>                 $ua->progress(($length ? ($content_size / $length) : "tick"), $response);
>>>                 if (defined($max_size) && $content_size > $max_size) {
>>>                     $response->push_header("Client-Aborted", "max_size");
>>>                     last;
>>>                 }
>>>             }
>>>             1;
>>>         };
>>>         $@;
>>>     };
>>>
>>>     if ($error) {
>>>         chomp($error);
>>>         $response->push_header('X-Died' => $error);
>>>         $response->push_header("Client-Aborted", "die");
>>>     };
>>>     delete $response->{handlers}{response_data};
>>>     delete $response->{handlers} unless %{$response->{handlers}};
>>>     return $response;
>>> }
>>>
>>> sub collect_once
>>> {
>>>     my($self, $arg, $response) = @_;
>>>     my $content = \ $_[3];
>>>     my $first = 1;
>>>     $self->collect($arg, $response, sub {
>>> return $content if $first--;
>>> return \ "";
>>>     });
>>> }
>>>
>>> 1;
>>>
>>> __END__
>>>
>>> =pod
>>>
>>> =head1 NAME
>>>
>>> LWP::Protocol - Base class for LWP protocols
>>>
>>> =head1 SYNOPSIS
>>>
>>> package LWP::Protocol::foo;
>>> use base qw(LWP::Protocol);
>>>
>>> =head1 DESCRIPTION
>>>
>>> This class is used as the base class for all protocol implementations
>>> supported by the LWP library.
>>>
>>> When creating an instance of this class using
>>> C<LWP::Protocol::create($url)>, and you get an initialized subclass
>>> appropriate for that access method. In other words, the
>>> L<LWP::Protocol/create> function calls the constructor for one of its
>>> subclasses.
>>>
>>> All derived C<LWP::Protocol> classes need to override the request()
>>> method which is used to service a request. The overridden method can
>>> make use of the collect() function to collect together chunks of data
>>> as it is received.
>>>
>>> =head1 METHODS
>>>
>>> The following methods and functions are provided:
>>>
>>> =head2 new
>>>
>>>     my $prot = LWP::Protocol->new();
>>>
>>> The LWP::Protocol constructor is inherited by subclasses. As this is a
>>> virtual base class this method should B<not> be called directly.
>>>
>>> =head2 create
>>>
>>>     my $prot = LWP::Protocol::create($scheme)
>>>
>>> Create an object of the class implementing the protocol to handle the
>>> given scheme. This is a function, not a method. It is more an object
>>> factory than a constructor. This is the function user agents should
>>> use to access protocols.
>>>
>>> =head2 implementor
>>>
>>>     my $class = LWP::Protocol::implementor($scheme, [$class])
>>>
>>> Get and/or set implementor class for a scheme.  Returns C<''> if the
>>> specified scheme is not supported.
>>>
>>> =head2 request
>>>
>>>     $response = $protocol->request($request, $proxy, undef);
>>>     $response = $protocol->request($request, $proxy, '/tmp/sss');
>>>     $response = $protocol->request($request, $proxy, \&callback, 1024);
>>>
>>> Dispatches a request over the protocol, and returns a response
>>> object. This method needs to be overridden in subclasses.  Refer to
>>> L<LWP::UserAgent> for description of the arguments.
>>>
>>> =head2 collect
>>>
>>>     my $res = $prot->collect(undef, $response, $collector); # stored in $response
>>>     my $res = $prot->collect($filename, $response, $collector);
>>>     my $res = $prot->collect(sub { ... }, $response, $collector);
>>>
>>> Collect the content of a request, and process it appropriately into a scalar,
>>> file, or by calling a callback. If the first parameter is undefined, then the
>>> content is stored within the C<$response>. If it's a simple scalar, then it's
>>> interpreted as a file name and the content is written to this file.  If it's a
>>> code reference, then content is passed to this routine.
>>>
>>> The collector is a routine that will be called and which is
>>> responsible for returning pieces (as ref to scalar) of the content to
>>> process.  The C<$collector> signals C<EOF> by returning a reference to an
>>> empty string.
>>>
>>> The return value is the L<HTTP::Response> object reference.
>>>
>>> B<Note:> We will only use the callback or file argument if
>>> C<< $response->is_success() >>.  This avoids sending content data for
>>> redirects and authentication responses to the callback which would be
>>> confusing.
>>>
>>> =head2 collect_once
>>>
>>>     $prot->collect_once($arg, $response, $content)
>>>
>>> Can be called when the whole response content is available as content. This
>>> will invoke L<LWP::Protocol/collect> with a collector callback that
>>> returns a reference to C<$content> the first time and an empty string the
>>> next.
>>>
>>> =head1 SEE ALSO
>>>
>>> Inspect the F<LWP/Protocol/file.pm> and F<LWP/Protocol/http.pm> files
>>> for examples of usage.
>>>
>>> =head1 COPYRIGHT
>>>
>>> Copyright 1995-2001 Gisle Aas.
>>>
>>> This library is free software; you can redistribute it and/or
>>> modify it under the same terms as Perl itself.
>>>
>>> =cut
>>> [jray at jr-dl install-tl-20190215]$ lsblk -f
>>> NAME   FSTYPE LABEL     UUID                                 FSAVAIL FSUSE% MOUNTPOINT
>>> sda
>>> ??sda1 vfat             7D57-B7BC                             299.1M     0% /boot/efi
>>> ??sda2 ext4             8ad88713-bc2e-4bfb-af80-c0f7e0f5e91c  250.8G     7% /
>>> ??sda3 swap             86ea7831-1a63-4a74-9286-f8741ef4ce8c                [SWAP]
>>> sdb
>>> ??sdb1 ext4   SG_data   52776559-1302-4aa3-92b8-987d2d3d9a9c  461.9G    21% /home
>>> ??sdb2 ext4   SG_backup a9eb34d2-615f-4113-ab93-b60ac2192a8d  228.4G    17% /media/sg_backup
>>> sr0
>>> [jray at jr-dl install-tl-20190215]$ inxi -Fxz
>>> System:    Host: jr-dl Kernel: 4.20.7-1-MANJARO x86_64 bits: 64 compiler: gcc v: 8.2.1 Desktop: N/A Distro: Manjaro Linux
>>> Machine:   Type: Laptop System: Dell product: Latitude E6410 v: 0001 serial: <filter>
>>>            Mobo: Dell model: 0HNGW4 serial: <filter> UEFI: Dell v: A16 date: 12/05/2013
>>> Battery:   ID-1: BAT0 charge: 39.6 Wh condition: 39.6/48.8 Wh (81%) model: Samsung SDI DELL PT43699 status: Full
>>> CPU:       Topology: Dual Core model: Intel Core i5 M 560 bits: 64 type: MT MCP arch: Nehalem rev: 5 L2 cache: 3072 KiB
>>>            flags: lm nx pae sse sse2 sse3 sse4_1 sse4_2 ssse3 vmx bogomips: 21290
>>>            Speed: 1444 MHz min/max: 1199/2667 MHz Core speeds (MHz): 1: 1230 2: 1253 3: 1278 4: 1445
>>> Graphics:  Device-1: Intel Core Processor Integrated Graphics vendor: Dell Latitude E6410 driver: i915 v: kernel
>>>            bus ID: 00:02.0
>>>            Display: x11 server: X.Org 1.20.3 driver: intel unloaded: modesetting resolution: 1440x900~60Hz, 1920x1080~60Hz
>>>            OpenGL: renderer: Mesa DRI Intel Ironlake Mobile v: 2.1 Mesa 18.3.2 direct render: Yes
>>> Audio:     Device-1: Intel 5 Series/3400 Series High Definition Audio vendor: Dell Latitude E6410 driver: snd_hda_intel
>>>            v: kernel bus ID: 00:1b.0
>>>            Sound Server: ALSA v: k4.20.7-1-MANJARO
>>> Network:   Device-1: Intel 82577LM Gigabit Network vendor: Dell Latitude E6410 driver: e1000e v: 3.2.6-k port: 7040
>>>            bus ID: 00:19.0
>>>            IF: eno1 state: up speed: 1000 Mbps duplex: full mac: <filter>
>>>            Device-2: Broadcom and subsidiaries BCM43224 802.11a/b/g/n vendor: Dell Wireless 1520 Half-size Mini PCIe Card
>>>            driver: wl v: kernel port: 7000 bus ID: 02:00.0
>>>            IF: wlp2s0 state: down mac: <filter>
>>> Drives:    Local Storage: total: 1.20 TiB used: 197.53 GiB (16.1%)
>>>            ID-1: /dev/sda vendor: Seagate model: ST9320423AS size: 298.09 GiB
>>>            ID-2: /dev/sdb type: USB vendor: Seagate model: Expansion size: 931.51 GiB
>>> Partition: ID-1: / size: 284.06 GiB used: 18.79 GiB (6.6%) fs: ext4 dev: /dev/sda2
>>>            ID-2: /home size: 622.48 GiB used: 128.93 GiB (20.7%) fs: ext4 dev: /dev/sdb1
>>>            ID-3: swap-1 size: 8.18 GiB used: 728.2 MiB (8.7%) fs: swap dev: /dev/sda3
>>> Sensors:   System Temperatures: cpu: 48.0 C mobo: N/A sodimm: 45.0 C
>>>            Fan Speeds (RPM): cpu: 3321
>>> Info:      Processes: 208 Uptime: 5h 00m Memory: 3.72 GiB used: 2.10 GiB (56.5%) Init: systemd Compilers: gcc: 8.2.1
>>>            clang: 7.0.1 Shell: bash v: 5.0.0 inxi: 3.0.30
>>> [jray at jr-dl install-tl-20190215]$
>>>
>>> ```
>>> I checked the known issues and bugs page but couldn't see anything relevant to this issue.
>>>
>>> Kind regards,
>>>
>>> James Ray
>>> https://about.me/james.ray
>>>
>>> Sent with [ProtonMail](https://protonmail.com) Secure Email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190216/3ed31556/attachment-0001.html>

From komascript at gmx.info  Sat Feb 16 15:50:54 2019
From: komascript at gmx.info (Markus Kohm)
Date: Sat, 16 Feb 2019 15:50:54 +0100
Subject: [tex-live] Error with install: Can't write to
	'/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space
	left on device at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
In-Reply-To: <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>
References: <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>
Message-ID: <3154351.SNst0QodFD@komascript.de>

Am Samstag, 16. Februar 2019, 06:28:37 CET schrieb James Ray:
> Distro: Manjaro Linux

AFAIK Manjaro uses a RAM bases tmpfs filesystem for /tmp. This can be too 
small for download and installation of TeX Live. See, e.g., https://
forum.manjaro.org/t/size-of-tmp-can-i-make-it-larger/24008 for information on 
how to enlarge /tmp. Alternatively you can try to install a smaller scheme of 
TeX Live first and then extend it to full. Adding more RAM to your system 
could also help.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20190216/9d22f92b/attachment.sig>

From preining at logic.at  Sat Feb 16 16:51:46 2019
From: preining at logic.at (Norbert Preining)
Date: Sun, 17 Feb 2019 00:51:46 +0900
Subject: [tex-live] Error with install: Can't write to
 '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device
 at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line
In-Reply-To: <3154351.SNst0QodFD@komascript.de>
 <sAkptP0w_zN5NTaz0tvhxeQiS4KgX9Zf2dMHlfE17oJ3cwMHNvAn-XiRDhClKCXwEQXjv-YIS9pPuY-nYmz-VVl2KcWF_ZKG60IP4ZWmqUM=@protonmail.com>
Message-ID: <20190216155146.GB20583@burischnitzel.preining.info>

Hi James,

> Can't write to '/tmp/MvcGi1mPGs/i97SMsuejQ/pgfplots.doc.tar.xz': No space left on device at /usr/share/perl5/vendor_perl/LWP/Protocol.pm line

On Sat, 16 Feb 2019, Markus Kohm wrote:
> AFAIK Manjaro uses a RAM bases tmpfs filesystem for /tmp. This can be too 
> small for download and installation of TeX Live. See, e.g., https://
> forum.manjaro.org/t/size-of-tmp-can-i-make-it-larger/24008 for information on 

Please set TMP, TMPDIR, or TEMP env variable to a directory that has
enough free space available.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Wed Feb 20 18:07:21 2019
From: jfbu at free.fr (jfbu)
Date: Wed, 20 Feb 2019 18:07:21 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
	garamond option from mathdesign
Message-ID: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>

Hi,

following

\documentclass[dvipdfmx]{article}
\usepackage[garamond]{mathdesign}
\begin{document}

$A/B$.

$B = 2^a5^b B'$.
\end{document}

when compiled via latex+dvipdfmx gives this

dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296


On the other hand neither latex + dvips, pdflatex or xelatex (of course
then with dvipdfmx class option removed) report any possible
ill-formed font files.


Is it simply that dvipdfmx is more conscientious or some other reason?

Mentioning this in case it has changed in upcoming TL2019.

Regards,

Jean-Fran?ois



From jfbu at free.fr  Wed Feb 20 18:37:25 2019
From: jfbu at free.fr (jfbu)
Date: Wed, 20 Feb 2019 18:37:25 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
	garamond option from mathdesign
In-Reply-To: <585154D4-5B39-435D-87D4-8FA20D431BCD@gmail.com>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <585154D4-5B39-435D-87D4-8FA20D431BCD@gmail.com>
Message-ID: <026F8275-E2BB-4B35-A72B-1B8EA3EED8ED@free.fr>


Le 20 f?vr. 2019 ? 18:19, Ralph Martin <ralphrmartin at gmail.com> a ?crit :

> Jean-Fran?ois
> 
>> On 20 Feb 2019, at 17:07, jfbu <jfbu at free.fr> wrote:
>> 
>> \documentclass[dvipdfmx]{article}
>> \usepackage[garamond]{mathdesign}
>> \begin{document}
>> 
>> $A/B$.
>> 
>> $B = 2^a5^b B'$.
>> \end{document}
>> 
>> when compiled via latex+dvipdfmx gives this
>> 
>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
>> dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
>> dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
>> dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296
>> 
> 
> It works OK for me. Maybe your font files are corrupted somehow?
> 
> Ralph

Ah thanks for the hint. This made me start to look, 

I have a  garamondx install dating back to 2015 in my texmf-local.

and

Map ugm.map
Map zgm.map

in my local updmap.cfg

but I don't think this should interfer.

In  /usr/local/texlive/2018/texmf-var/fonts/map/pdftex/updmap/pdftex_dl14.map:
% maintained by updmap[-sys] (multi).
% Don't change this file directly. Use updmap[-sys] instead.

(for pdftex)

I see this

md-gmri7m MathDesign-GM-Regular-Italic-MathItalic-10 <md-gmri7m.pfb
md-gmri7t MathDesign-GM-Regular-Italic-OT1-10 <md-gmri7t.pfb

md-gmr7y MathDesign-GM-Regular-Symbol-10 <md-gmr7y.pfb



I see the same in 

/usr/local/texlive/2018/texmf-var/fonts/map/dvips/updmap/psfonts_t1.map


In 

/usr/local/texlive/2018/texmf-var/fonts/map/dvipdfmx/updmap

I only have a file kanjix.map with nothing related to Garamond.


And in my $HOME I have nothing special

Best,

Jean-Fran?ois






From jfbu at free.fr  Wed Feb 20 19:00:40 2019
From: jfbu at free.fr (jfbu)
Date: Wed, 20 Feb 2019 19:00:40 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
	garamond option from mathdesign
In-Reply-To: <7F5B7F6E-E71B-4BF8-8519-74583E2038E0@gmail.com>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <585154D4-5B39-435D-87D4-8FA20D431BCD@gmail.com>
 <026F8275-E2BB-4B35-A72B-1B8EA3EED8ED@free.fr>
 <7F5B7F6E-E71B-4BF8-8519-74583E2038E0@gmail.com>
Message-ID: <19E4164A-C65D-4BBE-8582-4D5A5DD46B43@free.fr>

Hi Ralph,

Thanks for the additional info.

The font you indicate could only be used with xelatex or lualatex,
but I am concerned with latex runs which use fonts prepared for TeX.

The binary files "pfb" extensions are the ones ending up in pdf.

It seems dvipdfmx complains about mismatches of glyph dimensions
in TFM (which are the date on which TeX bases its layout of document)
and the glyph dimensions in Type 1 font files.

Pehaps those font files from mathdesign package are deficient in some way
(dimensions slightly off), not too serious, but I am curious why only
dvipdfmx but not dvips or pdflatex complain.

Best,

Jean-Fran?ois

Le 20 f?vr. 2019 ? 18:56, Ralph Martin <ralphrmartin at gmail.com> a ?crit :

> Jean-Fran?ois
> 
> My map files seem to be in agreement with yours. 
> 
> My font file is 
> 	Location	/Library/Fonts/Garamond.ttc
> 	Unique name	Garamond; 13.0d1e2; 2017-06-15
> 	Manufacturer	Monotype Typography, Inc.
> 
> Ralph



From jfbu at free.fr  Wed Feb 20 19:12:46 2019
From: jfbu at free.fr (jfbu)
Date: Wed, 20 Feb 2019 19:12:46 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
	garamond option from mathdesign
In-Reply-To: <438CD607-AFDD-4F5B-AD1E-7565048ECE6C@gmail.com>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <585154D4-5B39-435D-87D4-8FA20D431BCD@gmail.com>
 <026F8275-E2BB-4B35-A72B-1B8EA3EED8ED@free.fr>
 <7F5B7F6E-E71B-4BF8-8519-74583E2038E0@gmail.com>
 <438CD607-AFDD-4F5B-AD1E-7565048ECE6C@gmail.com>
Message-ID: <90A65C1F-7B52-4C0F-9628-794776773028@free.fr>

Ralph, thanks again for following up !

no differencs 

  /usr/local/texlive/2018/texmf-dist/fonts/type1/public/mathdesign/mdugm:

  -rw-r--r--   1 xxxx  wheel   7829 25 nov  2016 md-gmri7t.pfb
  -rw-r--r--   1 xxxx  wheel  26661 25 nov  2016 md-gmr7y.pfb
  -rw-r--r--   1 xxxx  wheel  15553 25 nov  2016 md-gmri7m.pfb

 Le 20 f?vr. 2019 ? 19:01, Ralph Martin <ralphrmartin at gmail.com> a ?crit :

> Oops, dunno how that happened.... :-)
> 
> My font files are
> 
> -rw-r--r--  1 root  wheel  7829 25 Nov  2016 /usr/local/texlive/2018/texmf-dist/fonts/type1/public/mathdesign/mdugm/md-gmri7t.pfb
> -rw-r--r--  1 root  wheel  26661 25 Nov  2016 /usr/local/texlive/2018/texmf-dist/fonts/type1/public/mathdesign/mdugm/md-gmr7y.pfb
> -rw-r--r--  1 root  wheel  15553 25 Nov  2016 /usr/local/texlive/2018/texmf-dist/fonts/type1/public/mathdesign/mdugm/md-gmri7m.pfb
> 
> 
> Are the dates and sizes of your files the same?
> 
> Ralph
> 
> 



From jfbu at free.fr  Wed Feb 20 19:24:48 2019
From: jfbu at free.fr (jfbu)
Date: Wed, 20 Feb 2019 19:24:48 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
	garamond option from mathdesign
In-Reply-To: <07407D66-39FE-464C-AF26-9D8DA6829B91@gmail.com>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <07407D66-39FE-464C-AF26-9D8DA6829B91@gmail.com>
Message-ID: <98BC039C-A188-43D6-855E-EC35B395D618@free.fr>

Hi Ralph


Le 20 f?vr. 2019 ? 19:22, Ralph Martin <ralphrmartin at gmail.com> a ?crit :

> Jean-Fran?ois
> 
> it seems I did not do what I thought I did the first time.
> 
> I have just double checked I was using dvipdfmx. Clearly I was not. Now that I am, indeed I do in fact get the same result as you:
> 
> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
> dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
> dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
> dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296
> 
> Perhaps I should just crawl back under my rock and shut up.


That happens ! Please don't, you are my friend here  :-)

Thanks,

Jean-Fran?ois

PS: it appears my SMTP server has some problems sometimes with gmail addresses and my messages get flagged as possibly fraudulent. I don't know what happens. It looks as if it depends on time of day.



> 
> Ralph



From ralphrmartin at gmail.com  Wed Feb 20 18:19:32 2019
From: ralphrmartin at gmail.com (Ralph Martin)
Date: Wed, 20 Feb 2019 17:19:32 +0000
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
 garamond option from mathdesign
In-Reply-To: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
Message-ID: <585154D4-5B39-435D-87D4-8FA20D431BCD@gmail.com>

Jean-Fran?ois

> On 20 Feb 2019, at 17:07, jfbu <jfbu at free.fr> wrote:
> 
> \documentclass[dvipdfmx]{article}
> \usepackage[garamond]{mathdesign}
> \begin{document}
> 
> $A/B$.
> 
> $B = 2^a5^b B'$.
> \end{document}
> 
> when compiled via latex+dvipdfmx gives this
> 
> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
> dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
> dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
> dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296
> 

It works OK for me. Maybe your font files are corrupted somehow?

Ralph

From ralphrmartin at gmail.com  Wed Feb 20 18:56:25 2019
From: ralphrmartin at gmail.com (Ralph Martin)
Date: Wed, 20 Feb 2019 17:56:25 +0000
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
 garamond option from mathdesign
In-Reply-To: <026F8275-E2BB-4B35-A72B-1B8EA3EED8ED@free.fr>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <585154D4-5B39-435D-87D4-8FA20D431BCD@gmail.com>
 <026F8275-E2BB-4B35-A72B-1B8EA3EED8ED@free.fr>
Message-ID: <7F5B7F6E-E71B-4BF8-8519-74583E2038E0@gmail.com>

Jean-Fran?ois

My map files seem to be in agreement with yours. 

My font file is 
	Location	/Library/Fonts/Garamond.ttc
	Unique name	Garamond; 13.0d1e2; 2017-06-15
	Manufacturer	Monotype Typography, Inc.

Ralph

From ralphrmartin at gmail.com  Wed Feb 20 19:01:03 2019
From: ralphrmartin at gmail.com (Ralph Martin)
Date: Wed, 20 Feb 2019 18:01:03 +0000
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
 garamond option from mathdesign
In-Reply-To: <7F5B7F6E-E71B-4BF8-8519-74583E2038E0@gmail.com>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <585154D4-5B39-435D-87D4-8FA20D431BCD@gmail.com>
 <026F8275-E2BB-4B35-A72B-1B8EA3EED8ED@free.fr>
 <7F5B7F6E-E71B-4BF8-8519-74583E2038E0@gmail.com>
Message-ID: <438CD607-AFDD-4F5B-AD1E-7565048ECE6C@gmail.com>

Oops, dunno how that happened.... :-)

My font files are

-rw-r--r--  1 root  wheel  7829 25 Nov  2016 /usr/local/texlive/2018/texmf-dist/fonts/type1/public/mathdesign/mdugm/md-gmri7t.pfb
-rw-r--r--  1 root  wheel  26661 25 Nov  2016 /usr/local/texlive/2018/texmf-dist/fonts/type1/public/mathdesign/mdugm/md-gmr7y.pfb
-rw-r--r--  1 root  wheel  15553 25 Nov  2016 /usr/local/texlive/2018/texmf-dist/fonts/type1/public/mathdesign/mdugm/md-gmri7m.pfb


Are the dates and sizes of your files the same?

Ralph




From ralphrmartin at gmail.com  Wed Feb 20 19:22:28 2019
From: ralphrmartin at gmail.com (Ralph Martin)
Date: Wed, 20 Feb 2019 18:22:28 +0000
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
 garamond option from mathdesign
In-Reply-To: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
Message-ID: <07407D66-39FE-464C-AF26-9D8DA6829B91@gmail.com>

Jean-Fran?ois

it seems I did not do what I thought I did the first time.

I have just double checked I was using dvipdfmx. Clearly I was not. Now that I am, indeed I do in fact get the same result as you:

dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296

Perhaps I should just crawl back under my rock and shut up.

Ralph

From reinhard.kotucha at web.de  Wed Feb 20 21:36:03 2019
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 20 Feb 2019 21:36:03 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used
	with	garamond option from mathdesign
In-Reply-To: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
Message-ID: <23661.47667.233335.925388@gargle.gargle.HOWL>

On 2019-02-20 at 18:07:21 +0100, jfbu wrote:

 > Hi,
 > 
 > following
 > 
 > \documentclass[dvipdfmx]{article}
 > \usepackage[garamond]{mathdesign}
 > \begin{document}
 > 
 > $A/B$.
 > 
 > $B = 2^a5^b B'$.
 > \end{document}
 > 
 > when compiled via latex+dvipdfmx gives this
 > 
 > dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
 > dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
 > dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
 > dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
 > dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
 > dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296
 > 
 > 
 > On the other hand neither latex + dvips, pdflatex or xelatex (of course
 > then with dvipdfmx class option removed) report any possible
 > ill-formed font files.
 > 
 > 
 > Is it simply that dvipdfmx is more conscientious or some other reason?

Hi Jean-Fran?ois,
values in TFM files are in pt whereas values in Type 1 files
are in bp.


  > 479.792/478
  ans =  1.0037

  > 760.843/758
  ans =  1.0038

  > 297.109/296
  ans =  1.0037

and

  > 72.27/72
  ans =  1.0037


I vaguely remember that it was discussed some time ago, either here
or on texhax...

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From jfbu at free.fr  Wed Feb 20 22:45:32 2019
From: jfbu at free.fr (jfbu)
Date: Wed, 20 Feb 2019 22:45:32 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
	garamond option from mathdesign
In-Reply-To: <23661.47667.233335.925388@gargle.gargle.HOWL>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <23661.47667.233335.925388@gargle.gargle.HOWL>
Message-ID: <DC95CDF9-F1AC-4458-A0BE-6737810D75B4@free.fr>

Hi Reinhard

Le 20 f?vr. 2019 ? 21:36, Reinhard Kotucha <reinhard.kotucha at web.de> a ?crit :

> On 2019-02-20 at 18:07:21 +0100, jfbu wrote:
> 
>> Hi,
>> 
>> following
>> 
>> \documentclass[dvipdfmx]{article}
>> \usepackage[garamond]{mathdesign}
>> \begin{document}
>> 
>> $A/B$.
>> 
>> $B = 2^a5^b B'$.
>> \end{document}
>> 
>> when compiled via latex+dvipdfmx gives this
>> 
>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
>> dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
>> dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
>> dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296
>> 
>> 
>> On the other hand neither latex + dvips, pdflatex or xelatex (of course
>> then with dvipdfmx class option removed) report any possible
>> ill-formed font files.
>> 
>> 
>> Is it simply that dvipdfmx is more conscientious or some other reason?
> 
> Hi Jean-Fran?ois,
> values in TFM files are in pt whereas values in Type 1 files
> are in bp.
> 
> 
>> 479.792/478
>  ans =  1.0037
> 
>> 760.843/758
>  ans =  1.0038
> 
>> 297.109/296
>  ans =  1.0037
> 
> and
> 
>> 72.27/72
>  ans =  1.0037


Absolutely convincing!

> 
> 
> I vaguely remember that it was discussed some time ago, either here
> or on texhax...

Ok, I will try to find something in the archives...

Thanks!

Best,

Jean-Fran?ois

> 
> Regards,
>  Reinhard
> 
> -- 
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------



From jfbu at free.fr  Wed Feb 20 22:56:40 2019
From: jfbu at free.fr (jfbu)
Date: Wed, 20 Feb 2019 22:56:40 +0100
Subject: [tex-live] latex+dvipdfmx reports glyphs issues when used with
	garamond option from mathdesign
In-Reply-To: <DC95CDF9-F1AC-4458-A0BE-6737810D75B4@free.fr>
References: <9599B710-4DAC-4176-9AE3-B1B18B79E3F2@free.fr>
 <23661.47667.233335.925388@gargle.gargle.HOWL>
 <DC95CDF9-F1AC-4458-A0BE-6737810D75B4@free.fr>
Message-ID: <CCCA0B7C-3E7F-4729-BC64-2840E2EF7407@free.fr>

Hi,

I found this earlier (short) thread

https://tug.org/pipermail/tex-live/2018-January/040943.html

from a bit more than a year ago,

this appears to be same issue.

Maybe something is wrong in the way the Type1 font files are done
for mathdesign package with the mix-up in units as analyzed by Reinhard?

Best,

Jean-Fran?ois

Le 20 f?vr. 2019 ? 22:45, jfbu <jfbu at free.fr> a ?crit :

> Hi Reinhard
> 
> Le 20 f?vr. 2019 ? 21:36, Reinhard Kotucha <reinhard.kotucha at web.de> a ?crit :
> 
>> On 2019-02-20 at 18:07:21 +0100, jfbu wrote:
>> 
>>> Hi,
>>> 
>>> following
>>> 
>>> \documentclass[dvipdfmx]{article}
>>> \usepackage[garamond]{mathdesign}
>>> \begin{document}
>>> 
>>> $A/B$.
>>> 
>>> $B = 2^a5^b B'$.
>>> \end{document}
>>> 
>>> when compiled via latex+dvipdfmx gives this
>>> 
>>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmri7m)
>>> dvipdfmx:warning: TFM: 479.792 vs. Type1 font: 478
>>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7t)
>>> dvipdfmx:warning: TFM: 760.843 vs. Type1 font: 758
>>> dvipdfmx:warning: Glyph width mismatch for TFM and font (md-gmr7y)
>>> dvipdfmx:warning: TFM: 297.109 vs. Type1 font: 296
>>> 
>>> 
>>> On the other hand neither latex + dvips, pdflatex or xelatex (of course
>>> then with dvipdfmx class option removed) report any possible
>>> ill-formed font files.
>>> 
>>> 
>>> Is it simply that dvipdfmx is more conscientious or some other reason?
>> 
>> Hi Jean-Fran?ois,
>> values in TFM files are in pt whereas values in Type 1 files
>> are in bp.
>> 
>> 
>>> 479.792/478
>> ans =  1.0037
>> 
>>> 760.843/758
>> ans =  1.0038
>> 
>>> 297.109/296
>> ans =  1.0037
>> 
>> and
>> 
>>> 72.27/72
>> ans =  1.0037
> 
> 
> Absolutely convincing!
> 
>> 
>> 
>> I vaguely remember that it was discussed some time ago, either here
>> or on texhax...
> 
> Ok, I will try to find something in the archives...
> 
> Thanks!
> 
> Best,
> 
> Jean-Fran?ois
> 
>> 
>> Regards,
>> Reinhard
>> 
>> -- 
>> ------------------------------------------------------------------
>> Reinhard Kotucha                            Phone: +49-511-3373112
>> Marschnerstr. 25
>> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
>> ------------------------------------------------------------------
> 
> 



From karl at freefriends.org  Wed Feb 20 23:39:56 2019
From: karl at freefriends.org (Karl Berry)
Date: Wed, 20 Feb 2019 15:39:56 -0700
Subject: no more subject prefix for tex-live mailing list
Message-ID: <201902202239.x1KMduvO024409@freefriends.org>

Hi - I've removed the "[tex-live]" prefix on Subject lines from this
mailing list (tex-live)'s messages. It is my hope that this will stop
the ever-increasing flood of dmarc failures

This was first noticed with Yahoo, long ago, which hardly mattered, then
with icloud etc., which was worse, and now I see it from other
institutions and (occasionally) gmail.  It is hard to discern exactly
when the errors happen, but they are increasingly common.

The List-Id: header identifies the mailing list for mailing list
messages. I know it is less convenient, but that is the Internet today.

I'm going to do this on other tug lists too, eventually all of them.

I despise the need to kowtow to dmarc's breaking of standard mailing
list usage, but there is no viable alternative. Sigh. -k

From norbert at preining.info  Sun Feb 24 07:18:21 2019
From: norbert at preining.info (Norbert Preining)
Date: Sun, 24 Feb 2019 15:18:21 +0900
Subject: context update in TeX Live
Message-ID: <20190224061821.GB6823@bulldog.preining.info>

Hi Luigi,

you did an update of context in TeX Live, and during this the contents
and format of texmfcnf.lua (texmf-dist/web2c/) has changed considerably,
and above all, the time stamp has gone back one year.

There is no TEXMFCONFIG definition anymore, the CACHE is different etc
etc.

Just wanted to make sure that this was intended!?!?

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From luigi.scarso at gmail.com  Sun Feb 24 09:46:44 2019
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 24 Feb 2019 09:46:44 +0100
Subject: context update in TeX Live
In-Reply-To: <20190224061821.GB6823@bulldog.preining.info>
References: <20190224061821.GB6823@bulldog.preining.info>
Message-ID: <CAG5iGsAbOBoynct4vQq7L3kjFSjBtD_UE1eULahLzDq=a71ZpQ@mail.gmail.com>

On Sun, Feb 24, 2019 at 7:18 AM Norbert Preining <norbert at preining.info>
wrote:

> Hi Luigi,
>
> you did an update of context in TeX Live, and during this the contents
> and format of texmfcnf.lua (texmf-dist/web2c/) has changed considerably,
> and above all, the time stamp has gone back one year.
>
> There is no TEXMFCONFIG definition anymore, the CACHE is different etc
> etc.
>
> Just wanted to make sure that this was intended!?!?
>
> intended but hm... why context has this file then ? I would like to have a
single one if possible.
Anyway : can you revert to the previous one (not in front of my linux box
now) ?


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190224/a428be8d/attachment.html>

From luigi.scarso at gmail.com  Sun Feb 24 09:49:50 2019
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 24 Feb 2019 09:49:50 +0100
Subject: context update in TeX Live
In-Reply-To: <20190224061821.GB6823@bulldog.preining.info>
References: <20190224061821.GB6823@bulldog.preining.info>
Message-ID: <CAG5iGsDMks78BSUBuVbaoL1Z1jou_H+oSYne=FAOCS8WFU04fg@mail.gmail.com>

On Sun, Feb 24, 2019 at 7:18 AM Norbert Preining <norbert at preining.info>
wrote:

> Hi Luigi,
>
> you did an update of context in TeX Live, and during this the contents
> and format of texmfcnf.lua (texmf-dist/web2c/) has changed considerably,
> and above all, the time stamp has gone back one year.
>
> There is no TEXMFCONFIG definition anymore, the CACHE is different etc
> etc.
>
> Just wanted to make sure that this was intended!?!?
>
>

(amazing gmail client...)
intended but hm... why context has this file then ? I would like to have a
single one if possible.
Anyway : can you revert to the previous one (not in front of my linux box
now) ?


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190224/c02315bb/attachment.html>

From norbert at preining.info  Sun Feb 24 10:16:10 2019
From: norbert at preining.info (Norbert Preining)
Date: Sun, 24 Feb 2019 18:16:10 +0900
Subject: context update in TeX Live
In-Reply-To: <CAG5iGsDMks78BSUBuVbaoL1Z1jou_H+oSYne=FAOCS8WFU04fg@mail.gmail.com>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CAG5iGsDMks78BSUBuVbaoL1Z1jou_H+oSYne=FAOCS8WFU04fg@mail.gmail.com>
Message-ID: <20190224091610.GA30279@bulldog.preining.info>

Hi Luigi,

On Sun, 24 Feb 2019, luigi scarso wrote:
> intended but hm... why context has this file then ? I would like to have a
> single one if possible.

No idea why context has it, in TL it is in the luatex package.

> Anyway : can you revert to the previous one (not in front of my linux box
> now) ?

Hmm, not done for now. The header is anyway strange here diff
(- is what you committed with latest context, + is previous version)

     type    = "configuration",
-    version = "1.1.1",
-    date    = "2011-06-02",
-    time    = "14:59:00",
+    version = "1.1.0",
+    date    = "2012-05-24",
+    time    = "12:12:12",
     comment = "ConTeXt MkIV configuration file",
     author  = "Hans Hagen, PRAGMA-ADE, Hasselt NL",

version goes up, time goes down, lots of changes. Full diff attached.

Maybe some context gurus could also comment on this.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texmfcnf.lua.diff
Type: text/x-diff
Size: 11335 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20190224/f79207bc/attachment.bin>

From luigi.scarso at gmail.com  Sun Feb 24 10:36:16 2019
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 24 Feb 2019 10:36:16 +0100
Subject: context update in TeX Live
In-Reply-To: <20190224091610.GA30279@bulldog.preining.info>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CAG5iGsDMks78BSUBuVbaoL1Z1jou_H+oSYne=FAOCS8WFU04fg@mail.gmail.com>
 <20190224091610.GA30279@bulldog.preining.info>
Message-ID: <CAG5iGsCcWYAdGcEa3EG=W-vGU=-A19G76QfVbHnBoY34XX1Pow@mail.gmail.com>

Il Dom 24 Feb 2019, 10:16 Norbert Preining <norbert at preining.info> ha
scritto:

>
>
> Maybe some context gurus could also comment on this.
>



We will fix it later today.

---
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190224/bd2f06e1/attachment-0001.html>

From mojca.miklavec.lists at gmail.com  Sun Feb 24 10:59:10 2019
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 24 Feb 2019 10:59:10 +0100
Subject: context update in TeX Live
In-Reply-To: <20190224061821.GB6823@bulldog.preining.info>
References: <20190224061821.GB6823@bulldog.preining.info>
Message-ID: <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>

On Sun, 24 Feb 2019 at 07:19, Norbert Preining wrote:
>
> Hi Luigi,
>
> you did an update of context in TeX Live, and during this the contents
> and format of texmfcnf.lua (texmf-dist/web2c/) has changed considerably,
> and above all, the time stamp has gone back one year.

Just guessing: the timestamp might have been increased in TeX Live
internally when the file was imported/adapted, while the timestamp in
texmfcnf.lua in ConTeXt never actually changed.

> There is no TEXMFCONFIG definition anymore, the CACHE is different etc
> etc.
>
> Just wanted to make sure that this was intended!?!?

This file texmfcnf.lua is not supposed to be copied from ConTeXt as it
is specific to the ConTeXt distribution and needs specific
modifications for TeX Live. There is a chance that some settings need
to be synchronised / fixed (I see that some values are bigger in TeX
Live, so maybe those need to be increased in ConTeXt for better
consistency), others might have become obsolete. But that file should
not be copied one-to-one.

For all I know is that Karl made some script a while ago that's able
to automatically update ConTeXt in TeX Live, avoiding accidental
mistakes. I asked him to do that since it has never been
straightforward to put the right files to the right place.

For example:
    TEXMFCONTEXT    = "selfautoparent:texmf-context",
only makes sense for the ConTeXt distribution, it's meaningless for
TeX Live, while TEXMFSYSCONFIG (not needed in ConTeXt distro) has been
removed. I didn't do a close inspection, but such changes could make
LuaTeX completely broken in TL.

The diff is here:
http://tug.org/svn/texlive/trunk/Master/texmf-dist/web2c/texmfcnf.lua?limit_changes=0&r1=50086&r2=50085&pathrev=50086

But I'm confused why the ConTeXt sources were committed now since the
freeze did not even happen yet. (Or did I miss something?)

This means that ConTeXt is now most likely broken in TeX Live 2018
(and will forever remain broken for those who update now unless we
roll back). Or does the latest version of ConTeXt work with last
year's LuaTeX?

Mojca

From luigi.scarso at gmail.com  Sun Feb 24 11:09:27 2019
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 24 Feb 2019 11:09:27 +0100
Subject: context update in TeX Live
In-Reply-To: <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
Message-ID: <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>

Il Dom 24 Feb 2019, 10:59 Mojca Miklavec <mojca.miklavec.lists at gmail.com>
ha scritto:


This means that ConTeXt is now most likely broken in TeX Live 2018
> (and will forever remain broken for those who update now unless we
> roll back). Or does the latest version of ConTeXt work with last
> year's LuaTeX?
>


Hm, a bit messy situation.  Anyway,   you can revert the context commits
--- or I will do it later today.

>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190224/a7f1cb00/attachment.html>

From norbert at preining.info  Sun Feb 24 16:17:10 2019
From: norbert at preining.info (Norbert Preining)
Date: Mon, 25 Feb 2019 00:17:10 +0900
Subject: context update in TeX Live
In-Reply-To: <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
Message-ID: <20190224151710.GA3229@bulldog.preining.info>

Hi all,

On Sun, 24 Feb 2019, luigi scarso wrote:
> Hm, a bit messy situation.  Anyway,   you can revert the context commits
> --- or I will do it later today.

I have reverted:
	svn50099	fixed a typo in font-dsp.lua
	svn50092	update mtxrun.lua (w32)
	svn50086	ConTeXt version 2019.02.22 19:35
I hope that this is now back to the state before.

It would be nice if some knowledgable soul could check this tomorrow
after the rebuild.

Please be careful before committing again, especially so close to the
freeze period - people will have to live with what is in tlnet for 2-3
months.

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mojca.miklavec.lists at gmail.com  Sun Feb 24 16:39:00 2019
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 24 Feb 2019 16:39:00 +0100
Subject: context update in TeX Live
In-Reply-To: <20190224151710.GA3229@bulldog.preining.info>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
Message-ID: <CALBOmsYUVG564fLQxWkgZQThJzsOZNHVAkmr4Wddh6CHOnK11Q@mail.gmail.com>

On Sun, 24 Feb 2019 at 16:17, Norbert Preining wrote:
>
> I have reverted:
>         svn50099        fixed a typo in font-dsp.lua
>         svn50092        update mtxrun.lua (w32)
>         svn50086        ConTeXt version 2019.02.22 19:35
> I hope that this is now back to the state before.

Thank you.

> It would be nice if some knowledgable soul could check this tomorrow
> after the rebuild.

It might be useful to just compare the contents of context's xz before
and after the update.

> Please be careful before committing again, especially so close to the
> freeze period - people will have to live with what is in tlnet for 2-3
> months.

We would usually never update ConTeXt outside of the TL freeze period,
unless for some minor patches to fix obvious bugs, or when some font
names changed. I would say that it still makes sense to stick to that
practice.

Mojca

From luigi.scarso at gmail.com  Sun Feb 24 16:58:48 2019
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 24 Feb 2019 16:58:48 +0100
Subject: context update in TeX Live
In-Reply-To: <20190224151710.GA3229@bulldog.preining.info>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
Message-ID: <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>

On Sun, Feb 24, 2019 at 4:17 PM Norbert Preining <norbert at preining.info>
wrote:

> Hi all,
>
> On Sun, 24 Feb 2019, luigi scarso wrote:
> > Hm, a bit messy situation.  Anyway,   you can revert the context commits
> > --- or I will do it later today.
>
> I have reverted:
>         svn50099        fixed a typo in font-dsp.lua
>         svn50092        update mtxrun.lua (w32)
>         svn50086        ConTeXt version 2019.02.22 19:35
>
 ok


> It would be nice if some knowledgable soul could check this tomorrow
> after the rebuild.
>
> what kind of check do you expect ?

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190224/928ae8e9/attachment.html>

From mojca.miklavec.lists at gmail.com  Sun Feb 24 20:43:37 2019
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 24 Feb 2019 20:43:37 +0100
Subject: context update in TeX Live
In-Reply-To: <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
 <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
Message-ID: <CALBOmsYY4qiSZ5PM3Pj7+1ANB-cSC31OnDM9o=crU02q7=AS2g@mail.gmail.com>

On Sun, 24 Feb 2019 at 16:59, luigi scarso wrote:
> On Sun, Feb 24, 2019 at 4:17 PM Norbert Preining wrote:
>
>> It would be nice if some knowledgable soul could check this tomorrow
>> after the rebuild.
>>
> what kind of check do you expect ?

I don't know what Norbert had in mind, but I would say:

(a) The contents of yesterday's and tomorrow's context (and luatex)
should be basically the same.
(b) ConTeXt from TL 2018 works.

Mojca

From j.hagen at xs4all.nl  Sun Feb 24 21:44:30 2019
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Sun, 24 Feb 2019 21:44:30 +0100
Subject: context update in TeX Live
In-Reply-To: <CALBOmsYY4qiSZ5PM3Pj7+1ANB-cSC31OnDM9o=crU02q7=AS2g@mail.gmail.com>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
 <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
 <CALBOmsYY4qiSZ5PM3Pj7+1ANB-cSC31OnDM9o=crU02q7=AS2g@mail.gmail.com>
Message-ID: <ef2161d7-578d-43c2-da09-44a4240a90a8@xs4all.nl>

On 2/24/2019 8:43 PM, Mojca Miklavec wrote:
> On Sun, 24 Feb 2019 at 16:59, luigi scarso wrote:
>> On Sun, Feb 24, 2019 at 4:17 PM Norbert Preining wrote:
>>
>>> It would be nice if some knowledgable soul could check this tomorrow
>>> after the rebuild.
>>>
>> what kind of check do you expect ?
> 
> I don't know what Norbert had in mind, but I would say:
> 
> (a) The contents of yesterday's and tomorrow's context (and luatex)
> should be basically the same.
> (b) ConTeXt from TL 2018 works.
But for luatex 1.10 one needs a recent context. Anyway, we're not in 
'current' mode for a while. So up to you to decide when to push to the 
tl repos.

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From mojca.miklavec.lists at gmail.com  Sun Feb 24 21:51:57 2019
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 24 Feb 2019 21:51:57 +0100
Subject: context update in TeX Live
In-Reply-To: <ef2161d7-578d-43c2-da09-44a4240a90a8@xs4all.nl>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
 <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
 <CALBOmsYY4qiSZ5PM3Pj7+1ANB-cSC31OnDM9o=crU02q7=AS2g@mail.gmail.com>
 <ef2161d7-578d-43c2-da09-44a4240a90a8@xs4all.nl>
Message-ID: <CALBOmsYuTgUJDqt849D49NJ+QW5uOiL3m31tXkb_9zuG-9=Grw@mail.gmail.com>

On Sun, 24 Feb 2019 at 21:44, Hans Hagen wrote:
>
> But for luatex 1.10 one needs a recent context.

True, but LuaTeX 1.10 won't be shipped with TeX Live for another few
months. The LuaTeX sources have been committed, but the binaries
haven't even been built (other than for testing purposes) and
committed yet.

If we push the latest version of ConTeXt now, users will end up with
one-year-old LuaTeX + latest ConTeXt, which will almost definitely
break. We need to wait until March 1st at least (or whenever the
freeze happens).

Mojca

From karl at freefriends.org  Mon Feb 25 00:40:18 2019
From: karl at freefriends.org (Karl Berry)
Date: Sun, 24 Feb 2019 16:40:18 -0700
Subject: context update in TeX Live
In-Reply-To: <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
Message-ID: <201902242340.x1ONeHXK021524@freefriends.org>

    Just guessing: the timestamp might have been increased in TeX Live
    internally 

I know of nothing on the TL side that would have automatically changed a
timestamp specified as in texmfcnf.lua.

    Karl made some script a while ago that's able
    to automatically update ConTeXt in TeX Live, 

Yes. It downloads .pragma-ade.nl/context/current/cont-tmf.zip.  The code
that moves stuff around is mostly in tlpkg/libexec/ctan2tds. The upshot
being that our usual "ctan2tl context" is what's intended to work to
import context, as for any package.

texmfcnf.lua is not in the zip, and therefore not updated by this
process. So far as I know, it is only ever updated by hand. I only
remember incrementing the year (e.g., 2017->2018) in TEXMFCONFIG there.

If/when real changes are needed (after the freeze I guess), one of you
ConTeXters will need to do it.

    freeze did not even happen yet.

Correct. --thanks, karl.

From norbert at preining.info  Mon Feb 25 00:46:06 2019
From: norbert at preining.info (Norbert Preining)
Date: Mon, 25 Feb 2019 08:46:06 +0900
Subject: context update in TeX Live
In-Reply-To: <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
 <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
Message-ID: <20190224234606.GA4422@bulldog.preining.info>

Hi,

On Sun, 24 Feb 2019, luigi scarso wrote:
> > what kind of check do you expect ?

I always was dreaming of some nice documents using MkIV that can be run
for tests after upgrade. I have a few MkII documents from old times I
test run, but that doesn't help with MkIV bugs.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mojca.miklavec.lists at gmail.com  Mon Feb 25 07:49:51 2019
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 25 Feb 2019 07:49:51 +0100
Subject: context update in TeX Live
In-Reply-To: <20190224234606.GA4422@bulldog.preining.info>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
 <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
 <20190224234606.GA4422@bulldog.preining.info>
Message-ID: <CALBOmsZE7jsJmA0tchJOCJE_zPMHg7foRmXL3QZKd31B6+qp7Q@mail.gmail.com>

On Mon, 25 Feb 2019 at 00:46, Norbert Preining wrote:
>
> On Sun, 24 Feb 2019, luigi scarso wrote:
> > > what kind of check do you expect ?
>
> I always was dreaming of some nice documents using MkIV that can be run
> for tests after upgrade. I have a few MkII documents from old times I
> test run, but that doesn't help with MkIV bugs.

What about the pretty large collection of documents inside
    doc/context/sources
?

This got me thinking that we might want to run some of those on
Travis, if nothing else to check for trivial build errors, checking
for correctness is yet another story.

Mojca


That said, I just got a failure compiling
    doc/context/sources/general/manuals/metafun/metafun.tex
but it's probably just a missing figure?

floatblocks     > '33' placed (here)

tex error       > mp error on line 6 in file virtual://buffer.noname.163:

! Arithmetic overflow.
<*> ...e "somecow.pdf" xscaled 276.03125pt yscaled
200.75pt scaled .5 slante...
Uh, oh. A little while ago one of the quantities that I was
computing got too large, so I'm afraid your answers will be
somewhat askew. You'll probably have to adopt different
tactics next time. But I shall try to carry on anyway.

! Arithmetic overflow.
<*> ...xscaled 276.03125pt yscaled 200.75pt scaled
.5 slanted .5 ; ;
Uh, oh. A little while ago one of the quantities that I was
computing got too large, so I'm afraid your answers will be
somewhat askew. You'll probably have to adopt different
tactics next time. But I shall try to carry on anyway.

[1]

<empty file>


?

From luigi.scarso at gmail.com  Mon Feb 25 11:54:06 2019
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 25 Feb 2019 11:54:06 +0100
Subject: context update in TeX Live
In-Reply-To: <201902242340.x1ONeHXK021524@freefriends.org>
References: <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <201902242340.x1ONeHXK021524@freefriends.org>
Message-ID: <CAG5iGsCHQ2UoQ+ZAFWN0anJ=ZGBQRPO51JBX+xCNnHeB9O0WNg@mail.gmail.com>

On Mon, Feb 25, 2019 at 12:40 AM Karl Berry <karl at freefriends.org> wrote:

>     Just guessing: the timestamp might have been increased in TeX Live
>     internally
>
> I know of nothing on the TL side that would have automatically changed a
> timestamp specified as in texmfcnf.lua.
>
>     Karl made some script a while ago that's able
>     to automatically update ConTeXt in TeX Live,
>
> Yes. It downloads .pragma-ade.nl/context/current/cont-tmf.zip.  The code
> that moves stuff around is mostly in tlpkg/libexec/ctan2tds.
>

ah ok, I missed  ctan2tds. Good to know.
It looks  that after reverting we are again ok:

1) on February 23 a local user complained that  the latest update of
context failed with
!!!!: Your luatex binary is too old, you need at least version 1.09
Today the same user says that is ok with  LuaTeX, Version 1.07.0 (TeX Live
2018)

2) svn repo is ok

TeXLive assembled from
texlive[50099] Master/texmf-dist/tex/context/base/mkiv/font-dsp.lua:
<https://tug.org/pipermail/tex-live-commits/2019-February/008823.html>
(hence luatex 1.10 and  current context )
looks ok -- I can generate formats and font cache. Simple examples of
lualatex & context also work.

I think that for texlive 2020 we could  have something like
21feb: tlnet (and TL'18) frozen
22feb: sources committed, builds begin.
1mar:  tlpretest starts, CTAN updates continue there.


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190225/e346901b/attachment.html>

From j.hagen at xs4all.nl  Mon Feb 25 14:41:25 2019
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Mon, 25 Feb 2019 14:41:25 +0100
Subject: context update in TeX Live
In-Reply-To: <CALBOmsZE7jsJmA0tchJOCJE_zPMHg7foRmXL3QZKd31B6+qp7Q@mail.gmail.com>
References: <20190224061821.GB6823@bulldog.preining.info>
 <CALBOmsZ_ahFF9Xmfuz2dge0WY4uQO7A31sVe39r9RO_EyXHU0g@mail.gmail.com>
 <CAG5iGsCjoPEu-MhJj5M8yh4WsFf2f-U_wqWKBfBrySxU2KyqQg@mail.gmail.com>
 <20190224151710.GA3229@bulldog.preining.info>
 <CAG5iGsBOYxzWVMn8WKQUgpbUyJeMyMpX_9RfF_URz=yLxE5EJQ@mail.gmail.com>
 <20190224234606.GA4422@bulldog.preining.info>
 <CALBOmsZE7jsJmA0tchJOCJE_zPMHg7foRmXL3QZKd31B6+qp7Q@mail.gmail.com>
Message-ID: <23ad3c01-ad3d-d2dd-e22d-89ef4a1e773c@xs4all.nl>

On 2/25/2019 7:49 AM, Mojca Miklavec wrote:
> On Mon, 25 Feb 2019 at 00:46, Norbert Preining wrote:
>>
>> On Sun, 24 Feb 2019, luigi scarso wrote:
>>>> what kind of check do you expect ?
>>
>> I always was dreaming of some nice documents using MkIV that can be run
>> for tests after upgrade. I have a few MkII documents from old times I
>> test run, but that doesn't help with MkIV bugs.
> 
> What about the pretty large collection of documents inside
>      doc/context/sources
> ?
> 
> This got me thinking that we might want to run some of those on
> Travis, if nothing else to check for trivial build errors, checking
> for correctness is yet another story.

hm, not sure if it makes sense ... i can add stuff without checking and 
i only check every now and then ... so 'testing ok' but replacing the 
originals with results cane be tricky

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Tue Feb 26 23:44:45 2019
From: karl at freefriends.org (Karl Berry)
Date: Tue, 26 Feb 2019 15:44:45 -0700
Subject: last build of tl18 tonight
Message-ID: <201902262244.x1QMijnG006324@freefriends.org>

Barring disaster, I'm planning to make tonight the last build of
tl18. If that's problematic for anyone, let me know.

We'll build and release the first pretest image asap after
that. --thanks, karl.

From artourter at gmail.com  Thu Feb 28 12:31:11 2019
From: artourter at gmail.com (Greg' Ar Tourter)
Date: Thu, 28 Feb 2019 11:31:11 +0000
Subject: last build of tl18 tonight
In-Reply-To: <201902262244.x1QMijnG006324@freefriends.org>
References: <201902262244.x1QMijnG006324@freefriends.org>
Message-ID: <CAK09-vky0nND0HA+RJMZZStVP8ZkdAHzB0=GDgTniLyWAea4DQ@mail.gmail.com>

Hi,

since the last update, microtype used with lualatex crashes (works fine
with pdflatex and xelatex).

a simple:

\documentclass{article}
\usepackage{fontspec}
\usepackage{microtype}
\begin{document}
test
\end{document}

when compiled with lualatex will crash with the error:

exlive/2018/texmf-dist/tex/latex/microtype/microtype.lua:145: attempt to
call f
ield 'warning' (a nil value)
stack traceback:
        ...exlive/2018/texmf-dist/tex/latex/microtype/microtype.lua:145: in
main chunk

        [C]: in function 'require'
        [\directlua]:1: in main chunk.
l.59 \MT at lua{require("microtype")}

This is a problem with the latest version of luaotfload as restoring to
version 49978 works fine.
Cheers

Greg


On Tue, 26 Feb 2019 at 22:45, Karl Berry <karl at freefriends.org> wrote:

> Barring disaster, I'm planning to make tonight the last build of
> tl18. If that's problematic for anyone, let me know.
>
> We'll build and release the first pretest image asap after
> that. --thanks, karl.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190228/2e3bbe8d/attachment.html>

From artourter at gmail.com  Thu Feb 28 13:33:24 2019
From: artourter at gmail.com (Greg' Ar Tourter)
Date: Thu, 28 Feb 2019 12:33:24 +0000
Subject: last build of tl18 tonight
In-Reply-To: <CAK09-vky0nND0HA+RJMZZStVP8ZkdAHzB0=GDgTniLyWAea4DQ@mail.gmail.com>
References: <201902262244.x1QMijnG006324@freefriends.org>
 <CAK09-vky0nND0HA+RJMZZStVP8ZkdAHzB0=GDgTniLyWAea4DQ@mail.gmail.com>
Message-ID: <CAK09-vkv=zMa7UjAtVaqnVDBF0q9gVCpNnzC=tLnEcBU0HUzWw@mail.gmail.com>

This is actually a bug in microtype that was exposed by the latest change
in luaotfload.
the current workaround is to load `luatexbase` before loading microtype.

https://tex.stackexchange.com/questions/476740/microtype-error-with-lualatex-attempt-to-call-field-warning-a-nil-value
https://github.com/u-fischer/luaotfload/issues/46

sorry for the noise
Cheers

Greg


On Thu, 28 Feb 2019 at 11:31, Greg' Ar Tourter <artourter at gmail.com> wrote:

> Hi,
>
> since the last update, microtype used with lualatex crashes (works fine
> with pdflatex and xelatex).
>
> a simple:
>
> \documentclass{article}
> \usepackage{fontspec}
> \usepackage{microtype}
> \begin{document}
> test
> \end{document}
>
> when compiled with lualatex will crash with the error:
>
> exlive/2018/texmf-dist/tex/latex/microtype/microtype.lua:145: attempt to
> call f
> ield 'warning' (a nil value)
> stack traceback:
>         ...exlive/2018/texmf-dist/tex/latex/microtype/microtype.lua:145:
> in main chunk
>
>         [C]: in function 'require'
>         [\directlua]:1: in main chunk.
> l.59 \MT at lua{require("microtype")}
>
> This is a problem with the latest version of luaotfload as restoring to
> version 49978 works fine.
> Cheers
>
> Greg
>
>
> On Tue, 26 Feb 2019 at 22:45, Karl Berry <karl at freefriends.org> wrote:
>
>> Barring disaster, I'm planning to make tonight the last build of
>> tl18. If that's problematic for anyone, let me know.
>>
>> We'll build and release the first pretest image asap after
>> that. --thanks, karl.
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190228/ba0dd53a/attachment.html>

From simon at simifilm.ch  Thu Feb 28 15:34:47 2019
From: simon at simifilm.ch (Simon Spiegel)
Date: Thu, 28 Feb 2019 15:34:47 +0100
Subject: last build of tl18 tonight
In-Reply-To: <CAK09-vkv=zMa7UjAtVaqnVDBF0q9gVCpNnzC=tLnEcBU0HUzWw@mail.gmail.com>
References: <201902262244.x1QMijnG006324@freefriends.org>
 <CAK09-vky0nND0HA+RJMZZStVP8ZkdAHzB0=GDgTniLyWAea4DQ@mail.gmail.com>
 <CAK09-vkv=zMa7UjAtVaqnVDBF0q9gVCpNnzC=tLnEcBU0HUzWw@mail.gmail.com>
Message-ID: <9BE102BB-A30A-466C-9EDB-1C68930B9E65@simifilm.ch>



> On 28 Feb 2019, at 13:33, Greg' Ar Tourter <artourter at gmail.com> wrote:
> 
> This is actually a bug in microtype that was exposed by the latest change in luaotfload.
> the current workaround is to load `luatexbase` before loading microtype.
> 
> https://tex.stackexchange.com/questions/476740/microtype-error-with-lualatex-attempt-to-call-field-warning-a-nil-value <https://tex.stackexchange.com/questions/476740/microtype-error-with-lualatex-attempt-to-call-field-warning-a-nil-value>
> https://github.com/u-fischer/luaotfload/issues/46 <https://github.com/u-fischer/luaotfload/issues/46>
> 
> sorry for the noise
> Cheers
> 
> Greg

> 

While this is a bug in microtype and while there is an easy workaround, I think it still makes sense to discuss whether a TL freeze at this very moment is indeed a smart decision. Many documents will break because of this bug and I am not sure whether it is wise to freeze TL exactly at a point where such a prominent bug appears.

I have no idea how long it will take until microtype is updated, but it might make sense to wait a few days before TL18 is frozen.


Simon
--
Simon Spiegel
Maneggplatz 18
8041 Z?rich

Telephon: ++41 44 451 5334
Mobophon: ++41 76 459 6039


http://www.simifilm.ch <http://www.simifilm.ch/>
http://www.utopia2016 <http://www.utopia2016/>.ch

?Etwas ist immer.? Kurt Tucholsky
 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20190228/5f195c9d/attachment.html>

From preining at logic.at  Thu Feb 28 15:46:47 2019
From: preining at logic.at (Norbert Preining)
Date: Thu, 28 Feb 2019 23:46:47 +0900
Subject: last build of tl18 tonight
In-Reply-To: <9BE102BB-A30A-466C-9EDB-1C68930B9E65@simifilm.ch>
References: <201902262244.x1QMijnG006324@freefriends.org>
 <CAK09-vky0nND0HA+RJMZZStVP8ZkdAHzB0=GDgTniLyWAea4DQ@mail.gmail.com>
 <CAK09-vkv=zMa7UjAtVaqnVDBF0q9gVCpNnzC=tLnEcBU0HUzWw@mail.gmail.com>
 <9BE102BB-A30A-466C-9EDB-1C68930B9E65@simifilm.ch>
Message-ID: <20190228144647.GA13963@burischnitzel.preining.info>

Hi,

On Thu, 28 Feb 2019, Simon Spiegel wrote:
> While this is a bug in microtype and while there is an easy workaround, I think it still makes sense to discuss whether a TL freeze at this very moment is indeed a smart decision. Many documents will break because of this bug and I am not sure whether it is wise to freeze TL exactly at a point where such a prominent bug appears.

All nice and fine, but TL got frozen *before* this bug was reported, and
we have already commited updates to binaries etc etc.

Sorry, this is a pain indeed, and I agree that the luaotfload update
should have been better timed or better tested, but that is life.

I don't think we can easily update tlnet to fix this chaos. And anyway,
there is no microtype update available ...

@Karl The only option if at all possible is to *manually* create a new
microtype .tar.xz, and update the tlpdb with a revision+1 for microtype,
and do the signing etc manually. *IF* we want to do this, let me know.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Thu Feb 28 16:01:37 2019
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 28 Feb 2019 16:01:37 +0100
Subject: last build of tl18 tonight
In-Reply-To: <20190228144647.GA13963@burischnitzel.preining.info>
References: <201902262244.x1QMijnG006324@freefriends.org>
 <CAK09-vky0nND0HA+RJMZZStVP8ZkdAHzB0=GDgTniLyWAea4DQ@mail.gmail.com>
 <CAK09-vkv=zMa7UjAtVaqnVDBF0q9gVCpNnzC=tLnEcBU0HUzWw@mail.gmail.com>
 <9BE102BB-A30A-466C-9EDB-1C68930B9E65@simifilm.ch>
 <20190228144647.GA13963@burischnitzel.preining.info>
Message-ID: <CAC1phyYLg6FgXk1XDG0jTJbWkzs_T7AX4buRPnfGDm=unOdXDQ@mail.gmail.com>

Hi,

it might be easier to make a branch at a point before committing the
binaries (the point of freeze), update microtype there and make the
next build of TL 18. If feasible, the microtype update can be
cherry-picked to the trunk. The branch will then die. I would consider
this solution clearer.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

?t 28. 2. 2019 v 15:46 odes?latel Norbert Preining <preining at logic.at> napsal:
>
> Hi,
>
> On Thu, 28 Feb 2019, Simon Spiegel wrote:
> > While this is a bug in microtype and while there is an easy workaround, I think it still makes sense to discuss whether a TL freeze at this very moment is indeed a smart decision. Many documents will break because of this bug and I am not sure whether it is wise to freeze TL exactly at a point where such a prominent bug appears.
>
> All nice and fine, but TL got frozen *before* this bug was reported, and
> we have already commited updates to binaries etc etc.
>
> Sorry, this is a pain indeed, and I agree that the luaotfload update
> should have been better timed or better tested, but that is life.
>
> I don't think we can easily update tlnet to fix this chaos. And anyway,
> there is no microtype update available ...
>
> @Karl The only option if at all possible is to *manually* create a new
> microtype .tar.xz, and update the tlpdb with a revision+1 for microtype,
> and do the signing etc manually. *IF* we want to do this, let me know.
>
> Norbert
>
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc.     +    JAIST     +    TeX Live     +    Debian Developer
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From news3 at nililand.de  Thu Feb 28 18:33:01 2019
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 28 Feb 2019 18:33:01 +0100
Subject: last build of tl18 tonight
References: <201902262244.x1QMijnG006324@freefriends.org>
 <CAK09-vky0nND0HA+RJMZZStVP8ZkdAHzB0=GDgTniLyWAea4DQ@mail.gmail.com>
 <CAK09-vkv=zMa7UjAtVaqnVDBF0q9gVCpNnzC=tLnEcBU0HUzWw@mail.gmail.com>
 <9BE102BB-A30A-466C-9EDB-1C68930B9E65@simifilm.ch>
 <20190228144647.GA13963@burischnitzel.preining.info>
Message-ID: <19dru8vgef3xx.dlg@nililand.de>

Am Thu, 28 Feb 2019 23:46:47 +0900 schrieb Norbert Preining:


> Sorry, this is a pain indeed, and I agree that the luaotfload update
> should have been better timed or better tested, but that is life.

It was tested and we knew that microtype will errors. But the
previous luaotfload version contained a severe bug (letterspacing
was completly broken) and we didn't want to leave this in the frozen
texlive.

While the microtype error is a nuisance, the work-around is at least
easy: load luatexbase. 

> I don't think we can easily update tlnet to fix this chaos. And anyway,
> there is no microtype update available ...

I wrote the author, but didn't get an answer yet.


> @Karl The only option if at all possible is to *manually* create a new
> microtype .tar.xz, and update the tlpdb with a revision+1 for microtype,
> and do the signing etc manually. *IF* we want to do this, let me know.

Well if you want to do an emergency update, I would suggest to
comment this line in microtype.lua:


    microtype.warning("overwriting function `keepligature'")

should get:

    -- microtype.warning("overwriting function `keepligature'")

-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


