From werner at suse.de  Mon Mar  2 16:28:45 2015
From: werner at suse.de (Dr. Werner Fink)
Date: Mon, 2 Mar 2015 16:28:45 +0100
Subject: [tex-live] Bug in bbold.map and associated entries in dvips/pdftex
	maps
Message-ID: <20150302152845.GA1503@boole.suse.de>

Hi,

after some investigation with an example [see below bbold-test.tex]
it is see that

  pdflatex bbold-test.tex

does its work whereas

  latex bbold-test.tex
  dvips bbold-test.dvi

does not.  After changing all entries for bbold, e.g. in bbold.map

  bbold17 BBOLD10 <bbold10.pfb
  bbold12 BBOLD10 <bbold10.pfb
  bbold10 BBOLD10 <bbold10.pfb
  bbold9 BBOLD10 <bbold10.pfb
  bbold8 BBOLD7 <bbold7.pfb
  bbold7 BBOLD7 <bbold7.pfb
  bbold6 BBOLD5 <bbold5.pfb
  bbold5 BBOLD5 <bbold5.pfb

it works, that is all bbold are seen in all sizes.

I guess that the second column in the map files is the font name which
are defined in bbold10.afm, bbold5.afm, and bbold7.afm. That is there
is no BBOLD12 nor a BBOLD17 nor a BBOLD8 or BBOLD9


Werner

[bbold-test.tex compare with bugzilla.opensuse.org/show_bug.cgi?id=918248]

\documentclass[12pt,a4paper]{article}
\usepackage{bbold}
\begin{document}
\section*{Problems with bbold}
\noindent
The bbold font gives us digits like: $\mathbb{1234567890}$.  \\
{ \large
large The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \Large
Large The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \LARGE
LARGE The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \tiny
tiny The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \scriptsize 
scriptsize The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \footnotesize
footnotesize The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \small
small The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
\end{document}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 836 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20150302/01e032d1/attachment.bin>

From daleif at math.au.dk  Mon Mar  2 16:41:28 2015
From: daleif at math.au.dk (Lars Madsen)
Date: Mon, 2 Mar 2015 15:41:28 +0000
Subject: [tex-live] Bug in bbold.map and associated entries in
 dvips/pdftex	maps
In-Reply-To: <20150302152845.GA1503@boole.suse.de>
References: <20150302152845.GA1503@boole.suse.de>
Message-ID: <89ECE88578D8F648A22E307DAEE88579B5ADBD00@SRVUNIMBX01.uni.au.dk>

what exactly are you testing this against?

If I run it agains my TeX Live 2014 (TUG direct), I do not get any errors with latex+dvips



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf


________________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Dr. Werner Fink [werner at suse.de]
Sent: 02 March 2015 16:28
To: tex-live at tug.org
Cc: tcs27 at cantab.net
Subject: [tex-live] Bug in bbold.map and associated entries in dvips/pdftex     maps

Hi,

after some investigation with an example [see below bbold-test.tex]
it is see that

  pdflatex bbold-test.tex

does its work whereas

  latex bbold-test.tex
  dvips bbold-test.dvi

does not.  After changing all entries for bbold, e.g. in bbold.map

  bbold17 BBOLD10 <bbold10.pfb
  bbold12 BBOLD10 <bbold10.pfb
  bbold10 BBOLD10 <bbold10.pfb
  bbold9 BBOLD10 <bbold10.pfb
  bbold8 BBOLD7 <bbold7.pfb
  bbold7 BBOLD7 <bbold7.pfb
  bbold6 BBOLD5 <bbold5.pfb
  bbold5 BBOLD5 <bbold5.pfb

it works, that is all bbold are seen in all sizes.

I guess that the second column in the map files is the font name which
are defined in bbold10.afm, bbold5.afm, and bbold7.afm. That is there
is no BBOLD12 nor a BBOLD17 nor a BBOLD8 or BBOLD9


Werner

[bbold-test.tex compare with bugzilla.opensuse.org/show_bug.cgi?id=918248]

\documentclass[12pt,a4paper]{article}
\usepackage{bbold}
\begin{document}
\section*{Problems with bbold}
\noindent
The bbold font gives us digits like: $\mathbb{1234567890}$.  \\
{ \large
large The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \Large
Large The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \LARGE
LARGE The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \tiny
tiny The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \scriptsize
scriptsize The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \footnotesize
footnotesize The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
{ \small
small The bbold font gives us digits like: $\mathbb{1234567890}$. } \\
\end{document}


From werner at suse.de  Mon Mar  2 17:04:41 2015
From: werner at suse.de (Dr. Werner Fink)
Date: Mon, 2 Mar 2015 17:04:41 +0100
Subject: [tex-live] Bug in bbold.map and associated entries in
 dvips/pdftex	maps
In-Reply-To: <89ECE88578D8F648A22E307DAEE88579B5ADBD00@SRVUNIMBX01.uni.au.dk>
References: <20150302152845.GA1503@boole.suse.de>
 <89ECE88578D8F648A22E307DAEE88579B5ADBD00@SRVUNIMBX01.uni.au.dk>
Message-ID: <20150302160441.GA2989@boole.suse.de>

On Mon, Mar 02, 2015 at 03:41:28PM +0000, Lars Madsen wrote:
> what exactly are you testing this against?
> 
> If I run it agains my TeX Live 2014 (TUG direct), I do not get any errors with latex+dvips

Indeed https://www.tug.org/svn/texlive/trunk/Master/texmf-dist/fonts/map/dvips/bbold-type1/bbold.map?revision=33143&view=markup
shows a fixed version.  TeXLive 2013 does not.

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 836 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20150302/ba4edf46/attachment.bin>

From vivrii at gmail.com  Fri Mar  6 11:50:14 2015
From: vivrii at gmail.com (Victor Ivrii)
Date: Fri, 6 Mar 2015 05:50:14 -0500
Subject: [tex-live] phaistos
Message-ID: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>

According to http://www.ctan.org/pkg/phaistos this package is in TeXLive
which is incorrect. My understanding is that it was in TL2013 and earlier
but not in 2014.

Probably this page should be fixed


Victor

-- 

Victor Ivrii
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150306/a9ff4ec1/attachment.html>

From daleif at math.au.dk  Fri Mar  6 12:02:15 2015
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 6 Mar 2015 11:02:15 +0000
Subject: [tex-live] phaistos
In-Reply-To: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
Message-ID: <89ECE88578D8F648A22E307DAEE88579B5AE71F9@SRVUNIMBX01.uni.au.dk>

Erh

:~$ kpsewhich phaistos.sty
/opt/texlive/2014/texmf-dist/tex/latex/phaistos/phaistos.sty



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at imf / More information: http://au.dk/en/daleif at imf

________________________________
From: tex-live [tex-live-bounces at tug.org] on behalf of Victor Ivrii [vivrii at gmail.com]
Sent: 06 March 2015 11:50
To: texlive tug
Subject: [tex-live] phaistos

According to http://www.ctan.org/pkg/phaistos this package is in TeXLive which is incorrect. My understanding is that it was in TL2013 and earlier but not in 2014.

Probably this page should be fixed


Victor

--

Victor Ivrii
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150306/09942164/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Fri Mar  6 12:07:53 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 6 Mar 2015 11:07:53 +0000
Subject: [tex-live] phaistos
In-Reply-To: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
Message-ID: <54F98A89.2000605@Rhul.Ac.Uk>



Victor Ivrii wrote:

> According to http://www.ctan.org/pkg/phaistos this package is in TeXLive
> which is incorrect. My understanding is that it was in TL2013 and
> earlier but not in 2014.
>
> Probably this page should be fixed

So should this not therefore be addressed to the CTAN team rather than 
the TeX Live team ?

As an aside, the page that Victor cites lacks both a "Last-revised: " 
date and any indication of authorship/ownership.  Could it (and this 
comment too should clearly be address to the CTAN team) therefore not 
usefully be enhanced as well as updated ?

Philip Taylor

From manfred at dante.de  Fri Mar  6 12:48:15 2015
From: manfred at dante.de (Manfred Lotz)
Date: Fri, 6 Mar 2015 12:48:15 +0100
Subject: [tex-live] phaistos
In-Reply-To: <54F98A89.2000605@Rhul.Ac.Uk>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
Message-ID: <20150306124815.43e12918@hogwart.bsdlocal.net>

Phil,
Thanks contacting us.

@Victor: I'm not sure if you are right because in CTAN's texlive
package directory systems/texlive/tlnet/archive/ I see

-rw-rw-r-- 1 ftpmaint server 174584 Apr 18  2014 phaistos.doc.tar.xz
-rw-rw-r-- 1 ftpmaint server   3368 Apr 18  2014 phaistos.source.tar.xz
-rw-rw-r-- 1 ftpmaint server 183376 Apr 18  2014 phaistos.tar.xz

My local texlive 2014 installation shows this:

$ tlmgr list |grep phais    
i phaistos: Disk of Phaistos font.


Why do you think the package isn't part of TeX Live?

-- 
Cheers, Manfred


On Fri, 06 Mar 2015 11:07:53 +0000
Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

> 
> 
> Victor Ivrii wrote:
> 
> > According to http://www.ctan.org/pkg/phaistos this package is in
> > TeXLive which is incorrect. My understanding is that it was in
> > TL2013 and earlier but not in 2014.
> >
> > Probably this page should be fixed
> 
> So should this not therefore be addressed to the CTAN team rather
> than the TeX Live team ?
> 
> As an aside, the page that Victor cites lacks both a "Last-revised: " 
> date and any indication of authorship/ownership.  Could it (and this 
> comment too should clearly be address to the CTAN team) therefore not 
> usefully be enhanced as well as updated ?
> 
> Philip Taylor



-- 
  For the CTAN Team
    Manfred Lotz

--
Please send messages to this mailing list in English only.
Please do not send HTML messages, they are held in our Spam filter.
Please do not send software to this list, use the web upload form.

From vivrii at gmail.com  Fri Mar  6 13:04:01 2015
From: vivrii at gmail.com (Victor Ivrii)
Date: Fri, 6 Mar 2015 07:04:01 -0500
Subject: [tex-live] phaistos
In-Reply-To: <20150306124815.43e12918@hogwart.bsdlocal.net>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>	<20150306124815.43e12918@hogwart.bsdlocal.net>
Message-ID: <CADP=ZZq-GnezHcGrFEVY7627Y8n6k90dWznqVT57gTyemqDuHQ@mail.gmail.com>

>
>
> Why do you think the package isn't part of TeX Live?
>
> --
>



I am sorry -- it was a blunder ? strange things happened yesterday on the
same computer and the same

tlmgr show phaistos
and
texdoc phaistos

returned "no such package" while today everything is back to normal

Victor Ivrii
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150306/467534bd/attachment.html>

From beebe at math.utah.edu  Fri Mar  6 14:34:23 2015
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 6 Mar 2015 06:34:23 -0700
Subject: [tex-live] phaistos
Message-ID: <CMM.0.95.0.1425648863.beebe@psi.math.utah.edu>

I just tried 

	texdoc phaistos

and looked at the macro names for the glyphs.  I noticed one irregularity:

	\PHgaunlet

The word for that object is gauntlet.  If `gaunlet' is not a typo
in the doc file, it would be good to add the proper name

	\PHgauntlet

in the documentation and TeX code.  Otherwise, we'll be propagating a
mistake like that Adobe made in *.afm files with

	guillemotright and guillemotleft,

which should have been

	guillemetright and guillemetleft;

they confused the French name for bracketing delimiters with the name
for a sea bird (the two words are etymologically related, however).

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Fri Mar  6 19:39:57 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 6 Mar 2015 18:39:57 +0000
Subject: [tex-live] CTAN package pages
In-Reply-To: <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
 <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>
Message-ID: <54F9F47D.7010106@Rhul.Ac.Uk>



Gerd Neugebauer wrote:

> Concerning the last revised date I think this has to be discussed in the CTAN
> team, whether we want to show this information.

Understood, Gerd. I personally think such information would prove useful.

> Concering the ownership I don't understand what you expect. The authors of the
> package are clearly indicated.

No, nothing to do with the package.  The authorship/ownership of the 
/page/ (so that errors can be fed back to the author/owner).  Not in the 
least concerned with licenses, copyright or similar.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Fri Mar  6 20:04:11 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 6 Mar 2015 19:04:11 +0000
Subject: [tex-live] CTAN package pages
In-Reply-To: <551608106.82291.1425668144698.JavaMail.open-xchange@oxbaltgw05.schlund.de>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
 <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9F47D.7010106@Rhul.Ac.Uk>
 <551608106.82291.1425668144698.JavaMail.open-xchange@oxbaltgw05.schlund.de>
Message-ID: <54F9FA2B.8090904@Rhul.Ac.Uk>



Gerd Neugebauer wrote:

> Each page contains a link in the footer labeled "Contact". It leads
> to a page > with contact email aresses and hints for their proper
> use. Isn't that enough?

The "Contact" button occurs outside the context of the page, in the page
wrapper, and leads to a generic address :

http://www.ctan.org/contact/

It was not (and is not) at all clear to me that the "Contact" button is
intended to provide a feedback mechanism for the page, and when clicked,
the visitor is offered just two options :

> In case of tech?ni?cal prob?lems with these Web pages please
> con?tact web?mas?ter at ctan.org
>
> In case of up?load prob?lems with pack?ages please con?tact
> ctan at ctan.org

Neither of these are appropriate if one wants to report (e.g.,) a
factual error on the page. and the fact that the link fails to capture
the page context as in, for example :

http://www.ctan.org/contact/feedback.aspx?URL=http://www.ctan.org/pkg/phaistos
(with appropriate URL encoding))

means that it is effectively useless for such purposes.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Fri Mar  6 20:20:42 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 6 Mar 2015 19:20:42 +0000
Subject: [tex-live] CTAN package pages
In-Reply-To: <405420989.82501.1425669153465.JavaMail.open-xchange@oxbaltgw05.schlund.de>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
 <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9F47D.7010106@Rhul.Ac.Uk>
 <551608106.82291.1425668144698.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9FA2B.8090904@Rhul.Ac.Uk>
 <405420989.82501.1425669153465.JavaMail.open-xchange@oxbaltgw05.schlund.de>
Message-ID: <54F9FE0A.4070606@Rhul.Ac.Uk>




Gerd Neugebauer wrote:

 > OK. Understood. I will have to think about a solution.

Thank you, Gerd; much appreciated.
** Phil.

From P.Taylor at Rhul.Ac.Uk  Fri Mar  6 20:21:15 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 6 Mar 2015 19:21:15 +0000
Subject: [tex-live] CTAN package pages
In-Reply-To: <405420989.82501.1425669153465.JavaMail.open-xchange@oxbaltgw05.schlund.de>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
 <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9F47D.7010106@Rhul.Ac.Uk>
 <551608106.82291.1425668144698.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9FA2B.8090904@Rhul.Ac.Uk>
 <405420989.82501.1425669153465.JavaMail.open-xchange@oxbaltgw05.schlund.de>
Message-ID: <54F9FE2B.40607@Rhul.Ac.Uk>




Gerd Neugebauer wrote:

> OK. Understood. I will have to think about a solution.

P.S. If you look at (for example)

	http://hellenic-institute.rhul.ac.uk/Research/Etheridge/Electronic-Edition/

then highlight any stretch of text in the right-hand pane and click on
[Feedback], you will see that not only is the URL captured but also the
view state and the selected text, and all of these are then used to
pre-populate a web form.

** Phil.

From gene at gerd-neugebauer.de  Fri Mar  6 19:34:10 2015
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Fri, 6 Mar 2015 19:34:10 +0100
Subject: [tex-live] CTAN package pages (was:  phaistos)
In-Reply-To: <54F98A89.2000605@Rhul.Ac.Uk>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
Message-ID: <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>


> On 06 March 2015 at 12:07 Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:

[...]
> As an aside, the page that Victor cites lacks both a "Last-revised: " 
> date and any indication of authorship/ownership.

Concerning the last revised date I think this has to be discussed in the CTAN
team, whether we want to show this information.

Concering the ownership I don't understand what you expect. The authors of the
package are clearly indicated. Do you mean something line a legal footer
indicating something like a copyright of this page and license conditions under
which the contents can be used?
I think an example would be helpful.

[...]
> Philip Taylor

Ciao
Gerd

From gene at gerd-neugebauer.de  Fri Mar  6 19:55:44 2015
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Fri, 6 Mar 2015 19:55:44 +0100
Subject: [tex-live] CTAN package pages
In-Reply-To: <54F9F47D.7010106@Rhul.Ac.Uk>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
 <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9F47D.7010106@Rhul.Ac.Uk>
Message-ID: <551608106.82291.1425668144698.JavaMail.open-xchange@oxbaltgw05.schlund.de>


> On 06 March 2015 at 19:39 Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:

> Gerd Neugebauer wrote:

[...]
> > Concering the ownership I don't understand what you expect. The authors of
> > the
> > package are clearly indicated.

> No, nothing to do with the package. The authorship/ownership of the 
> /page/ (so that errors can be fed back to the author/owner). Not in the 
> least concerned with licenses, copyright or similar.

I am still not sure if got it right.
Each page contains a link in the footer labeled "Contact". It leads to a page
with contact email aresses and hints for their proper use. Isn't that enough?
What else would you expect?

> ** Phil.

Ciao
Gerd

From gene at gerd-neugebauer.de  Fri Mar  6 20:12:33 2015
From: gene at gerd-neugebauer.de (Gerd Neugebauer)
Date: Fri, 6 Mar 2015 20:12:33 +0100
Subject: [tex-live] CTAN package pages
In-Reply-To: <54F9FA2B.8090904@Rhul.Ac.Uk>
References: <CADP=ZZq2VqrA7XQLxZxXgTAJLdJ7wFT4aN9PhH6+LMGNYq0RaQ@mail.gmail.com>
 <54F98A89.2000605@Rhul.Ac.Uk>
 <445921211.81815.1425666850155.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9F47D.7010106@Rhul.Ac.Uk>
 <551608106.82291.1425668144698.JavaMail.open-xchange@oxbaltgw05.schlund.de>
 <54F9FA2B.8090904@Rhul.Ac.Uk>
Message-ID: <405420989.82501.1425669153465.JavaMail.open-xchange@oxbaltgw05.schlund.de>


> On 06 March 2015 at 20:04 Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:

[...]
> The "Contact" button occurs outside the context of the page, in the page
> wrapper, and leads to a generic address :
> 
> http://www.ctan.org/contact/
> 
> It was not (and is not) at all clear to me that the "Contact" button is
> intended to provide a feedback mechanism for the page, and when clicked,
> the visitor is offered just two options :
> 
> > In case of tech?ni?cal prob?lems with these Web pages please
> > con?tact web?mas?ter at ctan.org
> >
> > In case of up?load prob?lems with pack?ages please con?tact
> > ctan at ctan.org
> 
> Neither of these are appropriate if one wants to report (e.g.,) a
> factual error on the page. and the fact that the link fails to capture
> the page context as in, for example :
> 
> http://www.ctan.org/contact/feedback.aspx?URL=http://www.ctan.org/pkg/phaistos
> (with appropriate URL encoding))
> 
> means that it is effectively useless for such purposes.

OK. Understood. I will have to think about a solution.

> ** Phil.

Ciao
Gerd


From tex at nanl.de  Mon Mar  9 20:29:57 2015
From: tex at nanl.de (Mirko Vogt)
Date: Mon, 9 Mar 2015 20:29:57 +0100
Subject: [tex-live] automake issues with $(AM_V_P)
Message-ID: <54FDF4B5.8060001@nanl.de>

Hello,

I'm having issues compiling latest trunk (svn rev 36459):

configure: creating ./config.status
config.status: creating Makefile
config.status: creating kpathsea/c-auto.h
config.status: executing depfiles commands
config.status: executing libtool commands
make[3]: Entering directory '/compile/texlive-36470/texk/web2c/web2c'
/bin/bash: -c: line 4: syntax error near unexpected token `;'
/bin/bash: -c: line 4: `    if ; then :; else echo "  GEN
w2c/config.h"; fi; \'
Makefile:929: recipe for target 'w2c/config.h' failed
make[3]: *** [w2c/config.h] Error 1
make[3]: Leaving directory '/compile/texlive-36470/texk/web2c/web2c'

This seem to come from:
texk/web2c/web2c/Makefile.in:933:	    if $(AM_V_P); then :; else echo "
 GEN      $@"; fi; \

which expands to:
texk/web2c/web2c/Makefile:227:    if test -f "$$i"; then echo $$i; else
echo $(srcdir)/$$i; fi; \


I noticed Norbert had a similar problem once[1], which was solved by a
newer automake version. His problem was <AM_V_P> not being defined -
however I don't think that's the case here, still it seems to be related
to silent rules.
I get this error regardless whether I run autoreconf or not.

/bin/automake --version
automake (GNU automake) 1.15

Thanks a lot in advance!

Cheers

  mirko

[1]http://comments.gmane.org/gmane.comp.tex.texlive.build/1962

From peb at mppmu.mpg.de  Tue Mar 10 10:17:19 2015
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Tue, 10 Mar 2015 10:17:19 +0100
Subject: [tex-live] automake issues with $(AM_V_P)
In-Reply-To: <54FDF4B5.8060001@nanl.de>
References: <54FDF4B5.8060001@nanl.de>
Message-ID: <alpine.LSU.2.11.1503101004170.14664@pcl321.mppmu.mpg.de>

On Mon, 9 Mar 2015, Mirko Vogt wrote:

> I'm having issues compiling latest trunk (svn rev 36459):
                                                     ^^^^^
> ...
> make[3]: Entering directory '/compile/texlive-36470/texk/web2c/web2c'
                                                 ^^^^^

Hi Mirko,

which revision? on which system? perhaps a mutilated checkout.

Makefile.in contains (should contain)
   AM_V_P = $(am__v_P_ at AM_V@)
   am__v_P_ = $(am__v_P_ at AM_DEFAULT_V@)
   AM_DEFAULT_VERBOSITY = @AM_DEFAULT_VERBOSITY@
what are the corresponding lines in Makefile?

Regards
Peter

From tex at nanl.de  Tue Mar 10 16:18:14 2015
From: tex at nanl.de (Mirko Vogt)
Date: Tue, 10 Mar 2015 16:18:14 +0100
Subject: [tex-live] automake issues with $(AM_V_P)
In-Reply-To: <alpine.LSU.2.11.1503101004170.14664@pcl321.mppmu.mpg.de>
References: <54FDF4B5.8060001@nanl.de>
 <alpine.LSU.2.11.1503101004170.14664@pcl321.mppmu.mpg.de>
Message-ID: <54FF0B36.6050400@nanl.de>

On 03/10/2015 10:17 AM, Peter Breitenlohner wrote:
> On Mon, 9 Mar 2015, Mirko Vogt wrote:
> 
>> I'm having issues compiling latest trunk (svn rev 36459):
>                                                     ^^^^^
>> ...
>> make[3]: Entering directory '/compile/texlive-36470/texk/web2c/web2c'

> which revision?

Oh - probably I noticed new commits upstream meanwhile, so I pulled in
the latest changes which however didn't change anything.
Either way, I'm explicitly talking about r36470 here.

> on which system?

I'm trying to cross-compile texlive within OpenWrt on Ubuntu 14.10.
The previous automake output I posted came from the automake used within
OpenWrt.

However the exact revision before introducing silent-make-rules compiles
fine within that environment. Although I can't say for sure of course,
it doesn't look like the typical cross-compiling issues to me.

> Makefile.in contains (should contain)
>   AM_V_P = $(am__v_P_ at AM_V@)
>   am__v_P_ = $(am__v_P_ at AM_DEFAULT_V@)
>   AM_DEFAULT_VERBOSITY = @AM_DEFAULT_VERBOSITY@
> what are the corresponding lines in Makefile?


I pasted the Makefile (texlive-36470/texk/web2c/web2c/Makefile) result here:
  http://pb.nanl.de/show.php?id=1418&hash=99971114

Log of the whole process (big):
  http://pb.nanl.de/show.php?id=1420&hash=60001721&mode=raw

> 
> Regards

Likewise

> Peter

mirko

From tex at nanl.de  Tue Mar 10 21:53:54 2015
From: tex at nanl.de (Mirko Vogt)
Date: Tue, 10 Mar 2015 21:53:54 +0100
Subject: [tex-live] automake issues with $(AM_V_P)
In-Reply-To: <54FF0B36.6050400@nanl.de>
References: <54FDF4B5.8060001@nanl.de>
 <alpine.LSU.2.11.1503101004170.14664@pcl321.mppmu.mpg.de>
 <54FF0B36.6050400@nanl.de>
Message-ID: <54FF59E2.7040200@nanl.de>

Problem solved I guess - I dug a bit into automake:

AM_V_P = $(am__v_P_$(V))
am__v_P_ = $(am__v_P_$(AM_DEFAULT_VERBOSITY))
am__v_P_0 = false
am__v_P_1 = :

That means, that automake expects to be $V either 1 or 0.

Within OpenWrt you can use $(V) to enable debugging in different modes
(V=s, V=c, etc.)
That way AM_V_P results into being undefined.

That  being said and solved - how the fuck automake think they can claim
such a generic variable exclusively and just fail once it's not set to
what they expect it to be set?

$(V) shouldn't be claimed to be exclusively used by automake.
Expanding AM_V_P to true if V is set to whatever or false if it's not
set or set to 0 would make much more sense..

Grrr..

Anyway - thanks!

  mirko

On 03/10/2015 04:18 PM, Mirko Vogt wrote:
> On 03/10/2015 10:17 AM, Peter Breitenlohner wrote:
>> On Mon, 9 Mar 2015, Mirko Vogt wrote:
>>
>>> I'm having issues compiling latest trunk (svn rev 36459):
>>                                                     ^^^^^
>>> ...
>>> make[3]: Entering directory '/compile/texlive-36470/texk/web2c/web2c'
> 
>> which revision?
> 
> Oh - probably I noticed new commits upstream meanwhile, so I pulled in
> the latest changes which however didn't change anything.
> Either way, I'm explicitly talking about r36470 here.
> 
>> on which system?
> 
> I'm trying to cross-compile texlive within OpenWrt on Ubuntu 14.10.
> The previous automake output I posted came from the automake used within
> OpenWrt.
> 
> However the exact revision before introducing silent-make-rules compiles
> fine within that environment. Although I can't say for sure of course,
> it doesn't look like the typical cross-compiling issues to me.
> 
>> Makefile.in contains (should contain)
>>   AM_V_P = $(am__v_P_ at AM_V@)
>>   am__v_P_ = $(am__v_P_ at AM_DEFAULT_V@)
>>   AM_DEFAULT_VERBOSITY = @AM_DEFAULT_VERBOSITY@
>> what are the corresponding lines in Makefile?
> 
> 
> I pasted the Makefile (texlive-36470/texk/web2c/web2c/Makefile) result here:
>   http://pb.nanl.de/show.php?id=1418&hash=99971114
> 
> Log of the whole process (big):
>   http://pb.nanl.de/show.php?id=1420&hash=60001721&mode=raw
> 
>>
>> Regards
> 
> Likewise
> 
>> Peter
> 
> mirko
> 

From karl at freefriends.org  Tue Mar 10 22:09:39 2015
From: karl at freefriends.org (Karl Berry)
Date: Tue, 10 Mar 2015 15:09:39 -0600
Subject: [tex-live] automake issues with $(AM_V_P)
In-Reply-To: <54FF59E2.7040200@nanl.de> (message from Mirko Vogt on Tue, 10
 Mar 2015 21:53:54 +0100)
Message-ID: <868uf4d0fg.fsf@frenzy.freefriends.org>

TL uses automake, and we go to great lengths to make it possible to
download and compile our sources without rerunning automake at all.  I
fail to see how some other systems' use of $(V) is relevant.  I don't
complain when some other system uses conventions that I find abhorrent.

They started using $V quite a few years ago.  And they chose a short
name to make it convenient for people to change on a run-by-run basis.
Which people do.  It was not just stupidity.

That said, I still wish they had chosen AMV or some such.

k

From P.Taylor at Rhul.Ac.Uk  Wed Mar 11 11:59:36 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 11 Mar 2015 10:59:36 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <868uf4d0fg.fsf@frenzy.freefriends.org>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
Message-ID: <55002018.9010007@Rhul.Ac.Uk>

I have TeX Live 2014 installed on two similar Windows 7 64-bit systems;
each has 16Gb of RAM and a fast processor.  Neither is performing any
other significant tasks.  Yet a 500pp book which typesets in 30 seconds
on one machine requires almost seven times as long (03:15) on the other.
 TEXINPUTS.xetex is optimised on both machines as :

	 .;$TEXMF/tex/{plain,generic,}//

What is even more puzzling is that performing the compilation within a
32-bit VM on the "slow" machine is as fast (under TeX Live 2013) as the
compilation in the "fast" host system.

How should I go about identifying the cause of the bottleneck in the
slow system ?

Philip Taylor

From komascript at gmx.info  Wed Mar 11 12:18:48 2015
From: komascript at gmx.info (Markus Kohm)
Date: Wed, 11 Mar 2015 12:18:48 +0100
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <55002018.9010007@Rhul.Ac.Uk>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>
Message-ID: <6020901.8CnFyzqhWU@mailjo.komascript.de>

> How should I go about identifying the cause of the bottleneck in the
> slow system ?

- Compare TEXMF and the components of TEXMF like TEXMFDIST. Missing "!!" could 
slow down file searching.

- Ask kpsewhich for other texmf.cnf using `kpsewhich -a texmf.cnf'.

Use the KPATHSEA_DEBUG and TEXMFLOG to get more information about file 
searching. See `texdoc kpathsea', section 8.3 and 8.4 for more information 
about this.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20150311/9b52cb71/attachment.bin>

From zdenek.wagner at gmail.com  Wed Mar 11 12:46:39 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 11 Mar 2015 12:46:39 +0100
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <6020901.8CnFyzqhWU@mailjo.komascript.de>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<6020901.8CnFyzqhWU@mailjo.komascript.de>
Message-ID: <CAC1phyY11e8sBnZeSdt_z=MPXfJRW1SQ1456aCzUftnQk-VJPA@mail.gmail.com>

Hi Phil,

it seems to me that your TEXINPUT is not optimized,, it searches file by
disk lookup instead of default database lookup (if the components contain
!! as Markus wrote). The difference is thus the performance of the file
system. It is difficult to say why VM is faster, it would be important to
know whether it locates the files on its virtual disk or on the host disk.
Anyway, in plain TeX the difference should not be as pronounced as in LaTeX
where typically a lot of packages and other support files have to be
loaded. In plain TeX you read usually just the format, tfm files and your
document. You can try to use kpsewhich to locate a file and measure
required time.

Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

2015-03-11 12:18 GMT+01:00 Markus Kohm <komascript at gmx.info>:

> > How should I go about identifying the cause of the bottleneck in the
> > slow system ?
>
> - Compare TEXMF and the components of TEXMF like TEXMFDIST. Missing "!!"
> could
> slow down file searching.
>
> - Ask kpsewhich for other texmf.cnf using `kpsewhich -a texmf.cnf'.
>
> Use the KPATHSEA_DEBUG and TEXMFLOG to get more information about file
> searching. See `texdoc kpathsea', section 8.3 and 8.4 for more information
> about this.
>
> Markus
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150311/5200ecd4/attachment.html>

From akhlaghi at gnu.org  Wed Mar 11 02:43:11 2015
From: akhlaghi at gnu.org (Mohammad Akhlaghi)
Date: Wed, 11 Mar 2015 10:43:11 +0900
Subject: [tex-live] Permission bits of installed packages
Message-ID: <54FF9DAF.8080501@gnu.org>

Dear TeX-live maintainers,

First of all, I wanted to thank you for the great tool, I have been 
using TeX live for nearly four years now and it has been great.

Recently I set my umask to 077 (in /etc/profile.d). The next time I ran 
"sudo tlmgr update --all", I noticed that LaTeX (when I ran it as a 
user) complains about not having permission to access the newly updated 
packages. When I checked I noticed that the permission bits of all the 
updated packages and directories were also set to "rwx------". This 
didn't happen with my distribution's package manger (it wasn't dependent 
on my umask value).

So I wanted to ask if it is possible to correct the permission bits 
(maybe to 755) during installation so the result doesn't depend on the 
user's umask?

Thank you very much again,
Mohammad

From preining at logic.at  Wed Mar 11 15:14:57 2015
From: preining at logic.at (Norbert Preining)
Date: Wed, 11 Mar 2015 23:14:57 +0900
Subject: [tex-live] Permission bits of installed packages
In-Reply-To: <54FF9DAF.8080501@gnu.org>
References: <54FF9DAF.8080501@gnu.org>
Message-ID: <20150311141457.GM7999@auth.logic.tuwien.ac.at>

> Recently I set my umask to 077 (in /etc/profile.d). The next time I
[...]
> So I wanted to ask if it is possible to correct the permission bits
> (maybe to 755) during installation so the result doesn't depend on
> the user's umask?

It is not only the user's umask, but also the one of root. If you don't
want this, then you have to make sure that what you put in profile.d/*
is proper.

Sorry, we will not override permissions that root has set via umask.

A simple solution for this is
* either install TeX Live as user and not as root (-> no need for sudo)
* or give root proper umask, an umask of 077 for root is *very* bad idea

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Wed Mar 11 20:31:34 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 11 Mar 2015 19:31:34 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <CAC1phyY11e8sBnZeSdt_z=MPXfJRW1SQ1456aCzUftnQk-VJPA@mail.gmail.com>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<6020901.8CnFyzqhWU@mailjo.komascript.de>
 <CAC1phyY11e8sBnZeSdt_z=MPXfJRW1SQ1456aCzUftnQk-VJPA@mail.gmail.com>
Message-ID: <55009816.7010105@Rhul.Ac.Uk>


Many thanks to you both for your suggestions.  I am no closer to finding
the cause, but I have now installed TeX Live 2014 in my VM as well as
2013, and the performance in the VM remains as fast as it was with 2013.
 So, I have one system where it behaves like a dog in the host, yet
flies along in a VM, and another where it flies in the host (I have no
VMs on that machine).  And all are configured identically.

But following on from your suggestions, I have tried using KPSEWHICH to
investigate, and I have found something consistently odd in all three
installations -- the expansion of TEXMFCNF.  Here it is from the VM in
which I am typing this (all three are similar) :

> C:\Users\Chaa006>kpsewhich -expand-var $texmfcnf
> {D:/TeX/Live/2014/bin/win32,D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c,D
> :/TeX/Live/2014/bin/win32/share/texmf-dist/web2c,D:/TeX/Live/2014/bin/win32/shar
> e/texmf/web2c,D:/TeX/Live/2014/bin/win32/texmf-local/web2c,D:/TeX/Live/2014/bin/
> win32/texmf-dist/web2c,D:/TeX/Live/2014/bin/win32/texmf/web2c,D:/TeX/Live/2014/b
> in,D:/TeX/Live/2014/bin/share/texmf-local/web2c,D:/TeX/Live/2014/bin/share/texmf
> -dist/web2c,D:/TeX/Live/2014/bin/share/texmf/web2c,D:/TeX/Live/2014/bin/texmf-lo
> cal/web2c,D:/TeX/Live/2014/bin/texmf-dist/web2c,D:/TeX/Live/2014/bin/texmf/web2c
> ,D:/TeX/Live/texmf-local/web2c,D:/TeX/Live/2014,D:/TeX/Live/2014/share/texmf-loc
> al/web2c,D:/TeX/Live/2014/share/texmf-dist/web2c,D:/TeX/Live/2014/share/texmf/we
> b2c,D:/TeX/Live/2014/texmf-local/web2c,D:/TeX/Live/2014/texmf-dist/web2c,D:/TeX/
> Live/2014/texmf/web2c}

Now, here are my questions :

1) If one is mean to make local changes in \TeX\Live\2014\TeXMF.cnf, why
is that so far down the pecking order ?  TeXdoc KPATHSEA says (in part) :

> Kpathsea reads all texmf.cnf files in the search path, not just the first one found;
> definitions in earlier files override those in later files.

so surely \TeX\Live\2014 should be the first element, not the $n$th ...

2) What are the references to (e.g.,)
"D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c" ?  There /is/ no
"share" directory under Win32.

3) Why does TEXMFCNF reference a hard-wired (e.g.,)
"D:/TeX/Live/2014/texmf-local/web2c" ?  I have no such directory -- my
TEXMFLOCAL is \TeX\Live\TeXMF\Local, declared as such at installation time.

4) What program is responsible for defining TEXMFCNF, and should I try
over-riding it with a more sensibly valued environment variable of the
same name ?

** Phil.

From zdenek.wagner at gmail.com  Wed Mar 11 22:20:33 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 11 Mar 2015 22:20:33 +0100
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <55009816.7010105@Rhul.Ac.Uk>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<6020901.8CnFyzqhWU@mailjo.komascript.de>
 <CAC1phyY11e8sBnZeSdt_z=MPXfJRW1SQ1456aCzUftnQk-VJPA@mail.gmail.com>
 <55009816.7010105@Rhul.Ac.Uk>
Message-ID: <CAC1phyYOuSPBXaZeXA5NLv2AhfC1XjO-1BQ20yMax9smZ3yH9w@mail.gmail.com>

Hi Phil,

I do not work with Windows so I do not know its specific but in Linux
kpathsea finds the configuration as well as other files relative to its
executable. Setting TEXMFCNF in the environment is not needed and if not
done carefully, it may be a source of problems. Could you examine
enviropnment settins of all your machines, especially diferences in TEX*
environment variables?

Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

2015-03-11 20:31 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
> Many thanks to you both for your suggestions.  I am no closer to finding
> the cause, but I have now installed TeX Live 2014 in my VM as well as
> 2013, and the performance in the VM remains as fast as it was with 2013.
>  So, I have one system where it behaves like a dog in the host, yet
> flies along in a VM, and another where it flies in the host (I have no
> VMs on that machine).  And all are configured identically.
>
> But following on from your suggestions, I have tried using KPSEWHICH to
> investigate, and I have found something consistently odd in all three
> installations -- the expansion of TEXMFCNF.  Here it is from the VM in
> which I am typing this (all three are similar) :
>
> > C:\Users\Chaa006>kpsewhich -expand-var $texmfcnf
> >
> {D:/TeX/Live/2014/bin/win32,D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c,D
> >
> :/TeX/Live/2014/bin/win32/share/texmf-dist/web2c,D:/TeX/Live/2014/bin/win32/shar
> >
> e/texmf/web2c,D:/TeX/Live/2014/bin/win32/texmf-local/web2c,D:/TeX/Live/2014/bin/
> >
> win32/texmf-dist/web2c,D:/TeX/Live/2014/bin/win32/texmf/web2c,D:/TeX/Live/2014/b
> >
> in,D:/TeX/Live/2014/bin/share/texmf-local/web2c,D:/TeX/Live/2014/bin/share/texmf
> >
> -dist/web2c,D:/TeX/Live/2014/bin/share/texmf/web2c,D:/TeX/Live/2014/bin/texmf-lo
> >
> cal/web2c,D:/TeX/Live/2014/bin/texmf-dist/web2c,D:/TeX/Live/2014/bin/texmf/web2c
> >
> ,D:/TeX/Live/texmf-local/web2c,D:/TeX/Live/2014,D:/TeX/Live/2014/share/texmf-loc
> >
> al/web2c,D:/TeX/Live/2014/share/texmf-dist/web2c,D:/TeX/Live/2014/share/texmf/we
> >
> b2c,D:/TeX/Live/2014/texmf-local/web2c,D:/TeX/Live/2014/texmf-dist/web2c,D:/TeX/
> > Live/2014/texmf/web2c}
>
> Now, here are my questions :
>
> 1) If one is mean to make local changes in \TeX\Live\2014\TeXMF.cnf, why
> is that so far down the pecking order ?  TeXdoc KPATHSEA says (in part) :
>
> > Kpathsea reads all texmf.cnf files in the search path, not just the
> first one found;
> > definitions in earlier files override those in later files.
>
> so surely \TeX\Live\2014 should be the first element, not the $n$th ...
>
> 2) What are the references to (e.g.,)
> "D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c" ?  There /is/ no
> "share" directory under Win32.
>
> 3) Why does TEXMFCNF reference a hard-wired (e.g.,)
> "D:/TeX/Live/2014/texmf-local/web2c" ?  I have no such directory -- my
> TEXMFLOCAL is \TeX\Live\TeXMF\Local, declared as such at installation time.
>
> 4) What program is responsible for defining TEXMFCNF, and should I try
> over-riding it with a more sensibly valued environment variable of the
> same name ?
>
> ** Phil.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150311/663e5acf/attachment.html>

From akhlaghi at gnu.org  Thu Mar 12 05:39:50 2015
From: akhlaghi at gnu.org (Mohammad Akhlaghi)
Date: Thu, 12 Mar 2015 13:39:50 +0900
Subject: [tex-live] Permission bits of installed packages
In-Reply-To: <20150311141457.GM7999@auth.logic.tuwien.ac.at>
References: <54FF9DAF.8080501@gnu.org>
 <20150311141457.GM7999@auth.logic.tuwien.ac.at>
Message-ID: <55011896.2070804@gnu.org>

On 03/11/2015 11:14 PM, Norbert Preining wrote:
>> Recently I set my umask to 077 (in /etc/profile.d). The next time I
> [...]
>> So I wanted to ask if it is possible to correct the permission bits
>> (maybe to 755) during installation so the result doesn't depend on
>> the user's umask?
> It is not only the user's umask, but also the one of root. If you don't
> want this, then you have to make sure that what you put in profile.d/*
> is proper.
>
> Sorry, we will not override permissions that root has set via umask.
>
> A simple solution for this is
> * either install TeX Live as user and not as root (-> no need for sudo)
> * or give root proper umask, an umask of 077 for root is *very* bad idea
>
I understand, I just wanted to say that most other build systems ignore 
the umask, for example here is a build script (after running "make 
install") of a program named astmkprof (which uses GNU Autoconf and GNU 
Automake):

     libtool: install: /usr/bin/install -c astmkprof 
/usr/local/bin/astmkprof
      /usr/bin/mkdir -p '/usr/local/etc'
      /usr/bin/install -c -m 644 astmkprof.conf '/usr/local/etc'
      /usr/bin/mkdir -p '/usr/local/share/man/man1'
      /usr/bin/install -c -m 644 astmkprof.1 '/usr/local/share/man/man1'

Before install this was the long listing for astmkprof:

    $ ls -l astmkprof
    -rwx------ 1 myuserid myuserid 3743200 Mar 12 13:26 astmkprof

After install it is:

    $ ls -l /usr/local/bin/astmkprof
    -rwxr-xr-x 1 root     root      3743200 Mar 12 13:27 astmkprof

You can see that the GNU Build system (which is widely used by nearly 
all users of GNU/Linux distributions and other OSs) explicitly sets the 
permission bits on install and does not rely on the value of umask (you 
can see that its default is "rwxr-xr-x"). As you can see, it also does 
this for the man page. Infact from the manual of GNU Coreutils, this is 
the whole purpose of the "install" program, otherwise the build script 
would simply have used "cp".

So my question is that while most other components of the operating 
system (which use Autoconf and Automake) don't rely on or ignore the 
"permissions that root has set via umask", why does Tex live rely on it?

I understand that it might be an internal convention for Texinfo, I just 
don't understand its relevance given that other major programs ignore umask.

Thank you very much,
Mohammad

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 06:53:36 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 05:53:36 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <CAC1phyYOuSPBXaZeXA5NLv2AhfC1XjO-1BQ20yMax9smZ3yH9w@mail.gmail.com>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<6020901.8CnFyzqhWU@mailjo.komascript.de>
 <CAC1phyY11e8sBnZeSdt_z=MPXfJRW1SQ1456aCzUftnQk-VJPA@mail.gmail.com>
 <55009816.7010105@Rhul.Ac.Uk>
 <CAC1phyYOuSPBXaZeXA5NLv2AhfC1XjO-1BQ20yMax9smZ3yH9w@mail.gmail.com>
Message-ID: <550129E0.9080407@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> I do not work with Windows so I do not know its specific but in Linux
> kpathsea finds the configuration as well as other files relative to its
> executable. Setting TEXMFCNF in the environment is not needed and if not
> done carefully, it may be a source of problems. Could you examine
> enviropnment settins of all your machines, especially diferences in TEX*
> environment variables?

Well, I have not set any TeX-related environment variables for many
years, but the current expansion of TEXMFCNF is surely completely
insane, hence my suggestion that perhaps over-riding it might be
justified in this case (until we can find why it is so badly screwed and
fix that) ...  Anyhow, below are the environment variables as reported
by SET; first set are from the VM, second from the host.  You will see
that none commence TeX.

** Phil.
--------
(VM)

C:\Users\Chaa006>set
ALLUSERSPROFILE=C:\ProgramData
APPDATA=C:\Users\Chaa006\AppData\Roaming
CLIENTNAME=RV-103
CommonProgramFiles=C:\Program Files\Common Files
COMPUTERNAME=RM-VM-102
ComSpec=C:\Windows\system32\cmd.exe
FP_NO_HOST_CHECK=NO
HOMEDRIVE=C:
HOMEPATH=\Users\Chaa006
LOCALAPPDATA=C:\Users\Chaa006\AppData\Local
LOGONSERVER=\\RM-VM-102
NUMBER_OF_PROCESSORS=1
OS=Windows_NT
Path=D:\TeX\Live\2014\bin\win32;E:\Layered products\Active State\Perl\
:\Layered products\Active State\Perl\bin;C:\Windows\system32;C:\Window
ws\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Layere
\Gnu\Win32\bin;E:\Layered products\Calibre2\;D:\TeX\Live\2014\bin\win3
\Chaa006\Documents\Adobe\CS2\Documents\HTK-3.4w\htk\bin.win32;E:\Layer
s\Active State\Perl\site\bin;E:\Layered products\Active State\Perl\bin
s\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\Win
hell\v1.0\;C:\Layered products\Gnu\Win32\bin;E:\Layered products\Calib
X\Live\2014\bin\win32
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC
PROCESSOR_ARCHITECTURE=x86
PROCESSOR_IDENTIFIER=x86 Family 6 Model 42 Stepping 7, GenuineIntel
PROCESSOR_LEVEL=6
PROCESSOR_REVISION=2a07
ProgramData=C:\ProgramData
ProgramFiles=C:\Program Files
PROMPT=$P$G
PSModulePath=C:\Windows\system32\WindowsPowerShell\v1.0\Modules\
PUBLIC=C:\Users\Public
SESSIONNAME=RDP-Tcp#0
SystemDrive=C:
SystemRoot=C:\Windows
TEMP=C:\Users\Chaa006\AppData\Local\Temp
test=d:\
TMP=C:\Users\Chaa006\AppData\Local\Temp
USERDOMAIN=RM-VM-102
USERNAME=Chaa006
USERPROFILE=C:\Users\Chaa006
windir=C:\Windows
windows_tracing_flags=3
windows_tracing_logfile=C:\BVTBin\Tests\installpackage\csilogfile.log

(HOST)

D:\TeX\Live\2014>set
ALLUSERSPROFILE=C:\ProgramData
APPDATA=C:\Users\Philip TAYLOR\AppData\Roaming
CommonProgramFiles=C:\Program Files\Common Files
CommonProgramFiles(x86)=C:\Program Files (x86)\Common Files
CommonProgramW6432=C:\Program Files\Common Files
COMPUTERNAME=RV-103
ComSpec=C:\Windows\system32\cmd.exe
ESET_OPTIONS=






FP_NO_HOST_CHECK=NO
HOMEDRIVE=C:
HOMEPATH=\Users\Philip TAYLOR
LOCALAPPDATA=C:\Users\Philip TAYLOR\AppData\Local
LOGONSERVER=\\RV-103
NUMBER_OF_PROCESSORS=8
OS=Windows_NT
Path=D:\TeX\Live\2014\bin\win32;C:\ProgramData\Oracle\Java\javapath;C:\Program
F
iles (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\Common
Files\Microso
ft Shared\Microsoft Online Services;C:\Program Files (x86)\Common
Files\Microsof
t Shared\Microsoft Online Services;C:\Program Files\Common
Files\Microsoft Share
d\Windows Live;C:\Program Files (x86)\Common Files\Microsoft
Shared\Windows Live
;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Program
Files\Window
s Imaging\;C:\Program Files (x86)\Windows Live\Shared;C:\Program
Files\Microsoft
\Web Platform
Installer\;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\
System32\WindowsPowerShell\v1.0\;C:\Layered
products\DeltaCopy\;D:\TeX\Live\2014
\bin\win32;C:\Layered products (x86)\EaseUS\Todo Backup\Todo Backup\bin\x64\
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC
PROCESSOR_ARCHITECTURE=AMD64
PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 42 Stepping 7, GenuineIntel
PROCESSOR_LEVEL=6
PROCESSOR_REVISION=2a07
ProgramData=C:\ProgramData
ProgramFiles=C:\Program Files
ProgramFiles(x86)=C:\Program Files (x86)
ProgramW6432=C:\Program Files
PROMPT=$P$G
PSModulePath=C:\Windows\system32\WindowsPowerShell\v1.0\Modules\
PUBLIC=C:\Users\Public
SESSIONNAME=Console
SystemDrive=C:
SystemRoot=C:\Windows
TEMP=C:\Users\PHILIP~1\AppData\Local\Temp
TMP=C:\Users\PHILIP~1\AppData\Local\Temp
USERDOMAIN=RV-103
USERNAME=Philip TAYLOR
USERPROFILE=C:\Users\Philip TAYLOR
windir=C:\Windows
windows_tracing_flags=3
windows_tracing_logfile=C:\BVTBin\Tests\installpackage\csilogfile.log



From news3 at nililand.de  Thu Mar 12 10:26:41 2015
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 12 Mar 2015 10:26:41 +0100
Subject: [tex-live] Identifying the cause of slow compilation
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>
Message-ID: <1ksdd6li4s7ic$.dlg@nililand.de>

Am Wed, 11 Mar 2015 10:59:36 +0000 schrieb Philip Taylor:

>  TEXINPUTS.xetex is optimised on both machines as :

You are using xetex? What fonts are you using and where are they?



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 10:35:10 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 09:35:10 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <1ksdd6li4s7ic$.dlg@nililand.de>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk> <1ksdd6li4s7ic$.dlg@nililand.de>
Message-ID: <55015DCE.2090508@Rhul.Ac.Uk>



Ulrike Fischer wrote:

> You are using xetex? What fonts are you using and where are they?

Palatino Linotype and Arial Unicode, both in the system fonts directory.
** Phil.

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 10:43:32 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 09:43:32 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <1ksdd6li4s7ic$.dlg@nililand.de>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk> <1ksdd6li4s7ic$.dlg@nililand.de>
Message-ID: <55015FC4.3010208@Rhul.Ac.Uk>

Incidentally, now tried on four separate hard discs, including one for
which system protection is not enabled, and no change.  TeXMF.cnf in
\TeX\Live\2014 simplified to :

> TEXINPUTS.xetex = .;!!$TEXMFROOT/texmf-dist/tex/{eplain,generic,plain,xetex,}//
> TEXMFLOCAL = D:/TeX/Live/TeXMF/Local
> TEXMFSYSVAR = $SELFAUTOPARENT/TeXMF/Var
> TEXMFSYSCONFIG = $SELFAUTOPARENT/TeXMF/Config
> TEXMFHOME = D:\Users\Philip TAYLOR\TeXMF
> OSFONTDIR = $SystemRoot/fonts//

Philip Taylor

From news3 at nililand.de  Thu Mar 12 10:51:43 2015
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 12 Mar 2015 10:51:43 +0100
Subject: [tex-live] Identifying the cause of slow compilation
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk> <1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk>
Message-ID: <sdncutelu09.dlg@nililand.de>

Am Thu, 12 Mar 2015 09:35:10 +0000 schrieb Philip Taylor:

>> You are using xetex? What fonts are you using and where are they?
 
> Palatino Linotype and Arial Unicode, both in the system fonts directory.
> ** Phil.

Change the fonts to some which resides in the texmf-tree to check if
here is the bottleneck. 

Do you call fonts by font name or by file name?

Did you update the xetex cache with fc-cache?

As you are on windows: You could try the process monitor to monitor
file access:
https://technet.microsoft.com/en-us/library/bb896645.aspx

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From zdenek.wagner at gmail.com  Thu Mar 12 10:57:38 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 12 Mar 2015 10:57:38 +0100
Subject: [tex-live] Permission bits of installed packages
In-Reply-To: <55011896.2070804@gnu.org>
References: <54FF9DAF.8080501@gnu.org>
 <20150311141457.GM7999@auth.logic.tuwien.ac.at>	<55011896.2070804@gnu.org>
Message-ID: <CAC1phyYy-KbBRyvpTvibfSTq4pNSoc1=v=A5fx7_BPrrzG_TZg@mail.gmail.com>

Hi all,

this is the question of what you think about computer's root and security.
If you thing that the root knows what he/she is doing and understands
security, you must honour settings done by the root. If you think that you
are cleverer that the root and you think that security setting made by the
root are not important to you, you can do anything you wish to intrude into
the system. If a tool changes umask without being explicitely asked to do
it, it is not a godd feature but quite a dangerous vulnerability.

Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

2015-03-12 5:39 GMT+01:00 Mohammad Akhlaghi <akhlaghi at gnu.org>:

> On 03/11/2015 11:14 PM, Norbert Preining wrote:
>
>> Recently I set my umask to 077 (in /etc/profile.d). The next time I
>>>
>> [...]
>>
>>> So I wanted to ask if it is possible to correct the permission bits
>>> (maybe to 755) during installation so the result doesn't depend on
>>> the user's umask?
>>>
>> It is not only the user's umask, but also the one of root. If you don't
>> want this, then you have to make sure that what you put in profile.d/*
>> is proper.
>>
>> Sorry, we will not override permissions that root has set via umask.
>>
>> A simple solution for this is
>> * either install TeX Live as user and not as root (-> no need for sudo)
>> * or give root proper umask, an umask of 077 for root is *very* bad idea
>>
>>  I understand, I just wanted to say that most other build systems ignore
> the umask, for example here is a build script (after running "make
> install") of a program named astmkprof (which uses GNU Autoconf and GNU
> Automake):
>
>     libtool: install: /usr/bin/install -c astmkprof
> /usr/local/bin/astmkprof
>      /usr/bin/mkdir -p '/usr/local/etc'
>      /usr/bin/install -c -m 644 astmkprof.conf '/usr/local/etc'
>      /usr/bin/mkdir -p '/usr/local/share/man/man1'
>      /usr/bin/install -c -m 644 astmkprof.1 '/usr/local/share/man/man1'
>
> Before install this was the long listing for astmkprof:
>
>    $ ls -l astmkprof
>    -rwx------ 1 myuserid myuserid 3743200 Mar 12 13:26 astmkprof
>
> After install it is:
>
>    $ ls -l /usr/local/bin/astmkprof
>    -rwxr-xr-x 1 root     root      3743200 Mar 12 13:27 astmkprof
>
> You can see that the GNU Build system (which is widely used by nearly all
> users of GNU/Linux distributions and other OSs) explicitly sets the
> permission bits on install and does not rely on the value of umask (you can
> see that its default is "rwxr-xr-x"). As you can see, it also does this for
> the man page. Infact from the manual of GNU Coreutils, this is the whole
> purpose of the "install" program, otherwise the build script would simply
> have used "cp".
>
> So my question is that while most other components of the operating system
> (which use Autoconf and Automake) don't rely on or ignore the "permissions
> that root has set via umask", why does Tex live rely on it?
>
> I understand that it might be an internal convention for Texinfo, I just
> don't understand its relevance given that other major programs ignore umask.
>
> Thank you very much,
> Mohammad
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150312/8f46e928/attachment-0001.html>

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 11:08:37 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 10:08:37 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <sdncutelu09.dlg@nililand.de>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk> <1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk> <sdncutelu09.dlg@nililand.de>
Message-ID: <550165A5.3080302@Rhul.Ac.Uk>



Ulrike Fischer wrote:

> Change the fonts to some which resides in the texmf-tree to check if
> here is the bottleneck. 

That will take some (considerable !) time ...

> Do you call fonts by font name or by file name?

Typical font invocation set :

\def \normalfonts
    {%
	\font \bodyfont = "Palatino Linotype"
	\font \italicbodyfont = "Palatino Linotype/I"
	\font \bolditalicbodyfont = "Palatino Linotype/BI"
	\font \latinfont = "Palatino Linotype/I"
	\font \hebrewfont = "Arial Unicode MS"
	\font \headfont = "Arial Unicode MS/B:color=BF0000"
	\font \runningheadfont ="Arial Unicode MS/B:color=BF0000"
	\let \englishfont = \bodyfont
	\let \greekfont = \bodyfont
	\let \italicgreekfont = \italicbodyfont
	\bodyfont
    }	

+

\font \captionfont = "Arial Unicode MS/B:color=005F00" at 8pt
\font \redcaptionfont = "Arial Unicode MS/B" at 8,8pt


> 
> Did you update the xetex cache with fc-cache?

Just tried that, with -v -s -r :  no difference.

> As you are on windows: You could try the process monitor to monitor
> file access:
> https://technet.microsoft.com/en-us/library/bb896645.aspx

Will try that next ...

** Phil.

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 11:37:03 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 10:37:03 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <sdncutelu09.dlg@nililand.de>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk> <1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk> <sdncutelu09.dlg@nililand.de>
Message-ID: <55016C4F.8030702@Rhul.Ac.Uk>



Ulrike Fischer wrote:

> As you are on windows: You could try the process monitor to monitor
> file access:
> https://technet.microsoft.com/en-us/library/bb896645.aspx

This looks very useful, Ulrike, and the column "Duration" may well hold
the key, but I can't see how to sort by duration -- do you have any
suggestions ?

** Phil.

From zdenek.wagner at gmail.com  Thu Mar 12 11:44:08 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 12 Mar 2015 11:44:08 +0100
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <550165A5.3080302@Rhul.Ac.Uk>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk>	<sdncutelu09.dlg@nililand.de>
 <550165A5.3080302@Rhul.Ac.Uk>
Message-ID: <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>

Hi Phil,

I was not careful enough when reading your original post. I have read it
again and I have a few new suggestions:

1. Yes, you can easily override any setting in texmf.cnf by editing the
root texmf.cnf (in $texmf-dist/YYYY where YYYY is the year). If TEXMF
contains strange directories, copy the definition to the root texmf.cnf and
remove the wrong ones.

2. It is not necessary to add the working directory to TEXINPUT beccause it
is searched as the first location. If you do it, TeX will look there twice.
If the directory contents is cached by OS, the second lookup will be fast.
If the OS (or VM) has little space for disk cache, the second lookup will
be as slow as the first one.

3. Remove the trailing comma inside the curly braces, It will cause
searching the whole $TEXMF/tex tree.

Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

2015-03-12 11:08 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Ulrike Fischer wrote:
>
> > Change the fonts to some which resides in the texmf-tree to check if
> > here is the bottleneck.
>
> That will take some (considerable !) time ...
>
> > Do you call fonts by font name or by file name?
>
> Typical font invocation set :
>
> \def \normalfonts
>     {%
>         \font \bodyfont = "Palatino Linotype"
>         \font \italicbodyfont = "Palatino Linotype/I"
>         \font \bolditalicbodyfont = "Palatino Linotype/BI"
>         \font \latinfont = "Palatino Linotype/I"
>         \font \hebrewfont = "Arial Unicode MS"
>         \font \headfont = "Arial Unicode MS/B:color=BF0000"
>         \font \runningheadfont ="Arial Unicode MS/B:color=BF0000"
>         \let \englishfont = \bodyfont
>         \let \greekfont = \bodyfont
>         \let \italicgreekfont = \italicbodyfont
>         \bodyfont
>     }
>
> +
>
> \font \captionfont = "Arial Unicode MS/B:color=005F00" at 8pt
> \font \redcaptionfont = "Arial Unicode MS/B" at 8,8pt
>
>
> >
> > Did you update the xetex cache with fc-cache?
>
> Just tried that, with -v -s -r :  no difference.
>
> > As you are on windows: You could try the process monitor to monitor
> > file access:
> > https://technet.microsoft.com/en-us/library/bb896645.aspx
>
> Will try that next ...
>
> ** Phil.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150312/34f5c4c1/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 11:50:40 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 10:50:40 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <550165A5.3080302@Rhul.Ac.Uk>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk> <1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk> <sdncutelu09.dlg@nililand.de>
 <550165A5.3080302@Rhul.Ac.Uk>
Message-ID: <55016F80.9040809@Rhul.Ac.Uk>



Philip Taylor wrote:

>> As you are on windows: You could try the process monitor to monitor
>> file access:
>> https://technet.microsoft.com/en-us/library/bb896645.aspx
> 
> Will try that next ...

The results are intriguing, but highly counter-intuitive.  On the fast
system (the VM), there are over 800 events with a duration exceeded
0.01; on the slow system (the host), there are only 36 such events.

What is also quite confusing is that files that should be being opened
read-only (PDFs, XML files, opened with \openin, \input) are being
opened using CreateFile and with share mode "read/write" ...

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 12:02:44 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 11:02:44 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk>	<sdncutelu09.dlg@nililand.de>
 <550165A5.3080302@Rhul.Ac.Uk>
 <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>
Message-ID: <55017254.3000508@Rhul.Ac.Uk>



Zdenek Wagner wrote:
> Hi Phil,
> 
> I was not careful enough when reading your original post. I have read it
> again and I have a few new suggestions:
> 
> 1. Yes, you can easily override any setting in texmf.cnf by editing the
> root texmf.cnf (in $texmf-dist/YYYY where YYYY is the year). If TEXMF
> contains strange directories, copy the definition to the root texmf.cnf
> and remove the wrong ones.

Should that read "(in $texmfroot)" rather than "(in texmf-dist/YEAR)",
Zden?k ?  There is no "2014" under $texmf-dist here ...

> 2. It is not necessary to add the working directory to TEXINPUT beccause
> it is searched as the first location. If you do it, TeX will look there
> twice. If the directory contents is cached by OS, the second lookup will
> be fast. If the OS (or VM) has little space for disk cache, the second
> lookup will be as slow as the first one.

To be tried.

> 3. Remove the trailing comma inside the curly braces, It will cause
> searching the whole $TEXMF/tex tree.

I tried that, and it failed to find a key file; I will try again.
** Phil.

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 12:14:57 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 11:14:57 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk>	<sdncutelu09.dlg@nililand.de>
 <550165A5.3080302@Rhul.Ac.Uk>
 <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>
Message-ID: <55017531.9000507@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> 2. It is not necessary to add the working directory to TEXINPUT beccause
> it is searched as the first location. If you do it, TeX will look there
> twice. If the directory contents is cached by OS, the second lookup will
> be fast. If the OS (or VM) has little space for disk cache, the second
> lookup will be as slow as the first one.

This seems not to be true.  With the following TeXMF.cnf in
\TeX\Live\2014, "Master.TeX" cannot be found (it is in the current
directory) :

> TEXINPUTS.xetex = !!$TEXMFROOT/texmf-dist/tex/{eplain,generic,plain,xetex,latex/graphics,latex/latexconfig,xelatex}//
> TEXMFLOCAL = D:/TeX/Live/TeXMF/Local
> TEXMFSYSVAR = $SELFAUTOPARENT/TeXMF/Var
> TEXMFSYSCONFIG = $SELFAUTOPARENT/TeXMF/Config
> TEXMFHOME = D:\Users\Philip TAYLOR\TeXMF
> OSFONTDIR = $SystemRoot/fonts//

[OT]  It is annoying that I have to add xelatex to the search path in
order to be able to load "xetex.cfg"; surely that file should reside in
"xetex", not "xelatex" ...

** Phil.

From zdenek.wagner at gmail.com  Thu Mar 12 12:50:00 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 12 Mar 2015 12:50:00 +0100
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <55017531.9000507@Rhul.Ac.Uk>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk>	<sdncutelu09.dlg@nililand.de>
 <550165A5.3080302@Rhul.Ac.Uk>
 <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>
 <55017531.9000507@Rhul.Ac.Uk>
Message-ID: <CAC1phyazLQiYtAmZOG5Agq8jutNWg9Q6YDGNjEGNHe=eYdZAxA@mail.gmail.com>

2015-03-12 12:14 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Zdenek Wagner wrote:
>
> > 2. It is not necessary to add the working directory to TEXINPUT beccause
> > it is searched as the first location. If you do it, TeX will look there
> > twice. If the directory contents is cached by OS, the second lookup will
> > be fast. If the OS (or VM) has little space for disk cache, the second
> > lookup will be as slow as the first one.
>
> This seems not to be true.  With the following TeXMF.cnf in
> \TeX\Live\2014, "Master.TeX" cannot be found (it is in the current
> directory) :
>
> This is really strange...


> > TEXINPUTS.xetex =
> !!$TEXMFROOT/texmf-dist/tex/{eplain,generic,plain,xetex,latex/graphics,latex/latexconfig,xelatex}//
> > TEXMFLOCAL = D:/TeX/Live/TeXMF/Local
> > TEXMFSYSVAR = $SELFAUTOPARENT/TeXMF/Var
> > TEXMFSYSCONFIG = $SELFAUTOPARENT/TeXMF/Config
> > TEXMFHOME = D:\Users\Philip TAYLOR\TeXMF
> > OSFONTDIR = $SystemRoot/fonts//
>
> [OT]  It is annoying that I have to add xelatex to the search path in
> order to be able to load "xetex.cfg"; surely that file should reside in
> "xetex", not "xelatex" ...
>
> If a file is useful both for plain XeTeX and XeLaTeX, it should be IMHO in
generic. Shouldn't it be reported as a bug?


> ** Phil.
>



Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150312/3881c1a7/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Thu Mar 12 13:18:23 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 12 Mar 2015 12:18:23 +0000
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <CAC1phyazLQiYtAmZOG5Agq8jutNWg9Q6YDGNjEGNHe=eYdZAxA@mail.gmail.com>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk>	<sdncutelu09.dlg@nililand.de>
 <550165A5.3080302@Rhul.Ac.Uk>
 <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>
 <55017531.9000507@Rhul.Ac.Uk>
 <CAC1phyazLQiYtAmZOG5Agq8jutNWg9Q6YDGNjEGNHe=eYdZAxA@mail.gmail.com>
Message-ID: <5501840F.7010906@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> If a file is useful both for plain XeTeX and XeLaTeX, it should be IMHO
> in generic. Shouldn't it be reported as a bug?

Well, probably :-)  But I am rather more keen to get to the bottom of
this performance problem.  I think the next step will be to see if I can
capture the filtered output from Process Monitor and then subject it to
a rigorous statistical analysis -- I have already disabled all
anti-virus/anti-malware stuff with zero effect (other than, perhaps, to
have let some nasties in when I wasn't watching ...).

** Phil.

From zdenek.wagner at gmail.com  Thu Mar 12 13:25:42 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 12 Mar 2015 13:25:42 +0100
Subject: [tex-live] Identifying the cause of slow compilation
In-Reply-To: <5501840F.7010906@Rhul.Ac.Uk>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
 <55002018.9010007@Rhul.Ac.Uk>	<1ksdd6li4s7ic$.dlg@nililand.de>
 <55015DCE.2090508@Rhul.Ac.Uk>	<sdncutelu09.dlg@nililand.de>
 <550165A5.3080302@Rhul.Ac.Uk>
 <CAC1phyb=aD_nDme3SUwc_B1aaESTByN1ObxJSufMKmXQ3oU2mw@mail.gmail.com>
 <55017531.9000507@Rhul.Ac.Uk>
 <CAC1phyazLQiYtAmZOG5Agq8jutNWg9Q6YDGNjEGNHe=eYdZAxA@mail.gmail.com>
 <5501840F.7010906@Rhul.Ac.Uk>
Message-ID: <CAC1phyZBHaSOZcf_0=hXaa81gcwGmg+Ws-nxzxAhRWcBdu15MQ@mail.gmail.com>

How about unplugging the ethernet cable during the test? Wireshark shows me
that we have a lot of traffic in our network. I am not sure whether it can
affect performance, maybe the difference will be negligible but it may be
worth trying.


Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

2015-03-12 13:18 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Zdenek Wagner wrote:
>
> > If a file is useful both for plain XeTeX and XeLaTeX, it should be IMHO
> > in generic. Shouldn't it be reported as a bug?
>
> Well, probably :-)  But I am rather more keen to get to the bottom of
> this performance problem.  I think the next step will be to see if I can
> capture the filtered output from Process Monitor and then subject it to
> a rigorous statistical analysis -- I have already disabled all
> anti-virus/anti-malware stuff with zero effect (other than, perhaps, to
> have let some nasties in when I wasn't watching ...).
>
> ** Phil.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150312/c00f951a/attachment.html>

From karl at freefriends.org  Thu Mar 12 23:02:06 2015
From: karl at freefriends.org (Karl Berry)
Date: Thu, 12 Mar 2015 22:02:06 +0000
Subject: [tex-live] Permission bits of installed packages
In-Reply-To: <55011896.2070804@gnu.org>
Message-ID: <201503122202.t2CM26H3025131@freefriends.org>

Hi Mohammad,

          /usr/bin/mkdir -p '/usr/local/etc'

BTW, that mkdir will/should respect umask if the dir doesn't happen to
exist already.

      /usr/bin/install -c -m 644 astmkprof.conf '/usr/local/etc'

I actually find it a bug, and always have, that the default for
INSTALL_DATA and INSTALL_EXEC forces installation with particular
permissions.  However, I was overruled some 30 years ago and don't
expect it to change now :).

    why does Tex live rely on it?

Alternatively, a valid question to my mind is why other programs ignore
umask.

Aside from that -- by default, we install a whole tree from scratch
(/usr/local/texlive/YYYY), rather than putting new pieces into an
existing tree (/usr/local in the case of autoconf).  Furthermore, we do
not recommend, let alone require, that people install TL as root.  This
makes it all the more critical, to my mind, to respect users' settings.

Both behaviors have reasonable arguments.  Don't expect unification any
time soon, if ever.

k

From reinhard.kotucha at web.de  Thu Mar 12 23:27:35 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 12 Mar 2015 23:27:35 +0100
Subject: [tex-live] Permission bits of installed packages
In-Reply-To: <55011896.2070804@gnu.org>
References: <54FF9DAF.8080501@gnu.org>
 <20150311141457.GM7999@auth.logic.tuwien.ac.at>	<55011896.2070804@gnu.org>
Message-ID: <21762.4823.785867.661327@zaphod.ms25.net>

On 2015-03-12 at 13:39:50 +0900, Mohammad Akhlaghi wrote:

 > So my question is that while most other components of the operating
 > system (which use Autoconf and Automake) don't rely on or ignore
 > the "permissions that root has set via umask", why does Tex live
 > rely on it?

Why did you deliberately break your system and expect that software
installers provide a workaround?

There is no good reason to set umask 077 globally.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From akhlaghi at gnu.org  Fri Mar 13 01:35:10 2015
From: akhlaghi at gnu.org (Mohammad Akhlaghi)
Date: Fri, 13 Mar 2015 09:35:10 +0900
Subject: [tex-live] Permission bits of installed packages
In-Reply-To: <201503122202.t2CM26H3025131@freefriends.org>
References: <201503122202.t2CM26H3025131@freefriends.org>
Message-ID: <550230BE.2050601@gnu.org>

On 03/13/2015 07:02 AM, Karl Berry wrote:
> Both behaviors have reasonable arguments.  Don't expect unification any
> time soon, if ever.
Thank you very much for the clear explanation.

Thank you,
Mohammad

From tex at nanl.de  Fri Mar 13 23:37:28 2015
From: tex at nanl.de (Mirko Vogt)
Date: Fri, 13 Mar 2015 23:37:28 +0100
Subject: [tex-live] automake issues with $(AM_V_P)
In-Reply-To: <868uf4d0fg.fsf@frenzy.freefriends.org>
References: <868uf4d0fg.fsf@frenzy.freefriends.org>
Message-ID: <550366A8.6050007@nanl.de>

I'm aware that's surely the wrong list to "discuss" that issue, however
I have the impression my previous mail on this matter was misunderstood,
so I'd like to clarify my point of view on this:

On 03/10/2015 10:09 PM, Karl Berry wrote:
> TL uses automake, and we go to great lengths to make it possible to
> download and compile our sources without rerunning automake at all.  I
> fail to see how some other systems' use of $(V) is relevant.  I don't
> complain when some other system uses conventions that I find abhorrent.

One example here is - as said - OpenWrt, which is a cross-compiling
toolchain written in make.
Here we use $(V) to define the verbosity and allow other values than
just '1' and '0'
If doing so (e.g. <make V=99>) and trying to cross-compile a package
(e.g. texlive) where Makefiles were generated by automake using
silent-rules, it crashes.
That has nothing to do with whether I find OpenWrt is using $(V)
properly or not. The issue is btw. workarounded within OpenWrt in a
general by now (although rather poorly than well)[1]

> They started using $V quite a few years ago.  And they chose a short
> name to make it convenient for people to change on a run-by-run basis.
> Which people do.  It was not just stupidity.
> 
> That said, I still wish they had chosen AMV or some such.

Please don't get me wrong here. I don't mind automake using that variable.
However the argument whether automake claimed $(V) before any other
project - and therewith is allowed to define what $(V) is allowed to be
set to and what not - I find rather nonsense. That doesn't justify why
they use $(V) in a variable name expansion and therewith fail for any
other value.
Also - although it is not using automake - the Linux kernel uses $(V),
too, and pretty well documents values other than '0' and '1'.
My conclusion here is that passing $(V) to make with other values than
0/1 is not uncommon.
That's the exact point I fail to understand and why I filed a bug report.

Have a nice weekend!

  mirko

[1]https://dev.openwrt.org/changeset/44684
[2]http://debbugs.gnu.org/cgi/bugreport.cgi?bug=20077

From tex at nanl.de  Sat Mar 14 02:01:29 2015
From: tex at nanl.de (Mirko Vogt)
Date: Sat, 14 Mar 2015 02:01:29 +0100
Subject: [tex-live] Issues with texlive locating necessary files
Message-ID: <55038869.2090504@nanl.de>

Hey,

I'm still trying get texlive running within OpenWrt and at least passed
all (cross-)compiling issues so far - facing the runtime now.

I have two issues right now which might or might not be related to each other.

   root at OpenWrt:~# pdftex foo.tex
   This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2015/devno) (preloaded format=pdftex)
    restricted \write18 enabled.
   
   kpathsea: Running mktexfmt pdftex.fmt
   /usr/bin/mktexfmt: line 1027: //texmf-dist/texconfig/tcfmgr: not found
   fmtutil: config file `fmtutil.cnf' not found.
   I can't find the format file `pdftex.fmt'!

According to source it tries to find tcfmgr in $MT_TEXMFMAIN/texmf-dist/texconfig/

$MT_TEXMFMAIN seems to be derived from $TEXMFMAIN which I can set as an
environment variable:

   root at OpenWrt:~# export TEXMFMAIN="/usr/share/texmf-dist"
   root at OpenWrt:~# pdftex foo.tex
   This is pdfTeX, Version 3.14159265-2.6-1.40.15 (TeX Live 2015/devno) (preloaded format=pdftex)
    restricted \write18 enabled.
   
   kpathsea: Running mktexfmt pdftex.fmt
   tcfmgr: config file `tcfmgr.map' (usually in $TEXMFMAIN/texconfig) not found (ls-R missing?).
   fmtutil: config file `fmtutil.cnf' not found.
   I can't find the format file `pdftex.fmt'!

Now it can't find tcfmgr.map in $TEXMFMAIN/texconfig, which however is
actually right there:

   root at OpenWrt:~# ls -l $TEXMFMAIN/texconfig/tcfmgr.map
   -rw-r--r--    1 root     root           401 Mar 13 18:56 /usr/share/texmf-dist/texconfig/tcfmgr.map

Responsible code for locating the file tcfmgr.map seems to be located in setupMap() in tcfmgr:

   setupMap()
   {
     case $setupMapOK in
       "") : ;;
       *) (exit 0); return 0;;
     esac
                                                                    
     case $TFC_MAP in
       "") TFC_MAP=`(kpsewhich -progname=texconfig -format='other text files' tcfmgr.map) 2>/dev/null`;;
     esac
                                                                                                        
     case $TFC_MAP in
       "") abort "config file \`tcfmgr.map' (usually in \$TEXMFMAIN/texconfig) not found (ls-R missing?)";;
     esac
                                                                                                           
     if test ! -f "$TFC_MAP"; then
       abort "config file \`TFC_MAP' does not exist"
     fi
     setupMapOK=true
   }

The switch-case checks two times whether $TFC_MAP is an empty string.
If that's the case the first time it tries to set it with:

   TFC_MAP=`(kpsewhich -progname=texconfig -format='other text files' tcfmgr.map) 2>/dev/null`

That command run by itself prints nothing (-> empty string) on stdout and returns 1 as exit code.

That's why the second test fails and prints respective error message.

Question 1) Is setting $TEXMFMAIN as an environment variable the proper
way? How do other distributions achieve the prefix-path being set correctly?

Question 2) What is necessary to make the map file being found by tcfmgr?

Thanks a lot and have a nice weekend!

   mirko

From preining at logic.at  Sat Mar 14 03:08:15 2015
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2015 11:08:15 +0900
Subject: [tex-live] Issues with texlive locating necessary files
In-Reply-To: <55038869.2090504@nanl.de>
References: <55038869.2090504@nanl.de>
Message-ID: <20150314020815.GA7999@auth.logic.tuwien.ac.at>

On Sat, 14 Mar 2015, Mirko Vogt wrote:
>   /usr/bin/mktexfmt: line 1027: //texmf-dist/texconfig/tcfmgr: not found

Do you have a proper texmf-dist tree installed?

Building and installing the sources *does*NOT* suffice to get a 
running system. You need to have texmf-dist from SVN.

THen you have to put the binaries into
	texmf-dist/../bin/ARCH/
(depending on your compile option without the ARCH).

In principle any tex program that uses kpathsea searches first for
the main texmf.cnf via a compiled in list of dirs, that also 
includes some relative to the location of the binary.

Use kpsewhich -show-path texmf.cnf to see where the files are searched.

If you want to search different ones, you need to set that before 
compiling.

> Question 1) Is setting $TEXMFMAIN as an environment variable the proper
> way? How do other distributions achieve the prefix-path being set correctly?

Installing a proper texmf-dist tree and setting the proper search path
before compiling, if necessary.

> Question 2) What is necessary to make the map file being found by tcfmgr?

a proper kpathsea setup, that is, the main texmf.cnf needs to be found.


I suggest *looking* into the packaging of TeX Live for Debian/Fedora/Suse
etc to see how it is done there.



Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From tex at nanl.de  Sat Mar 14 04:47:36 2015
From: tex at nanl.de (Mirko Vogt)
Date: Sat, 14 Mar 2015 04:47:36 +0100
Subject: [tex-live] Issues with texlive locating necessary files
In-Reply-To: <20150314020815.GA7999@auth.logic.tuwien.ac.at>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>
Message-ID: <5503AF58.9010605@nanl.de>

Hello Norbert,

On 03/14/2015 03:08 AM, Norbert Preining wrote:
> On Sat, 14 Mar 2015, Mirko Vogt wrote:
>>    /usr/bin/mktexfmt: line 1027: //texmf-dist/texconfig/tcfmgr: not found
>
> Do you have a proper texmf-dist tree installed?
>
> Building and installing the sources *does*NOT* suffice to get a
> running system. You need to have texmf-dist from SVN.

I'm not sure about that - what I checked out is

   svn://username:password at tug.org/texlive/trunk/Build/source

and a <make install> seems to install everything I need.
If not, I'm not sure what two trees you're referring to.

> THen you have to put the binaries into
> 	texmf-dist/../bin/ARCH/
> (depending on your compile option without the ARCH).

Nothing bin-like under texmf-dist/, but a regular <make install> puts
quite some binaries into $PREFIX/bin (mktex*, pdftex, etc.) where
prefix in my case is "/usr".

Is texmf-dist/../bin/ARCH/ what I'm missing from the texmf-dist thingy?

>
> In principle any tex program that uses kpathsea searches first for
> the main texmf.cnf via a compiled in list of dirs, that also
> includes some relative to the location of the binary.
>
> Use kpsewhich -show-path texmf.cnf to see where the files are searched.
>
> If you want to search different ones, you need to set that before
> compiling.

The texmf.cnf doesn't seem to be the problem (in case I got you and the errors right) -
AFAIK it wasn't "not found" at any time.
< kpsewhich -show-path texmf.cnf > includes the path where it actually is:
/usr/share/texmf-dist/web2c

What's missing according the error messages is "fmtutil.cnf" (besides "pdftex.fmt").

>
>> Question 1) Is setting $TEXMFMAIN as an environment variable the proper
>> way? How do other distributions achieve the prefix-path being set correctly?
>
> Installing a proper texmf-dist tree and setting the proper search path
> before compiling, if necessary.

Following up on that: Where does the "texmf-dist" come from?
And - as mentioned above - to me it doesn't seem the search path is wrong.

>
>> Question 2) What is necessary to make the map file being found by tcfmgr?
>
> a proper kpathsea setup, that is, the main texmf.cnf needs to be found.

As stated above, search path seems right and texmf.cnf is located under an
included path.

>
>
> I suggest *looking* into the packaging of TeX Live for Debian/Fedora/Suse
> etc to see how it is done there.

Unfortunately I can't really match the debian *.orig.-src-archives to the
source found in SVN.
Still not sure, where the stated texmf-dist (or any other required) tree
comes from, if not from above mentioned SVN repository.

Thanks a lot

> Norbert

   mirko

From mojca.miklavec.lists at gmail.com  Sat Mar 14 08:40:37 2015
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 14 Mar 2015 08:40:37 +0100
Subject: [tex-live] Issues with texlive locating necessary files
In-Reply-To: <5503AF58.9010605@nanl.de>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503AF58.9010605@nanl.de>
Message-ID: <CALBOmsaEZmEzCAyH5W6M93V8aVT=q-Ru9bQOe-U5T1PQnLNXeg@mail.gmail.com>

On Sat, Mar 14, 2015 at 4:47 AM, Mirko Vogt wrote:
> Hello Norbert,
>
> On 03/14/2015 03:08 AM, Norbert Preining wrote:
>>
>> On Sat, 14 Mar 2015, Mirko Vogt wrote:
>>>
>>>    /usr/bin/mktexfmt: line 1027: //texmf-dist/texconfig/tcfmgr: not found
>>
>> Do you have a proper texmf-dist tree installed?
>>
>> Building and installing the sources *does*NOT* suffice to get a
>> running system. You need to have texmf-dist from SVN.
>
> I'm not sure about that - what I checked out is
>
>   svn://username:password at tug.org/texlive/trunk/Build/source
>
> and a <make install> seems to install everything I need.

No. Like Norbert said, "make install" doesn't install everything you
need. It installs just the binaries (and maybe a few other
minor/trivial things).

> If not, I'm not sure what two trees you're referring to.

svn://tug.org/texlive/trunk/Master/texmf-dist/
(http://tug.org/svn/texlive/trunk/Master/texmf-dist/)

That would be /usr/share/texmf-dist in your case according to what you
mention later in the message, but the main question is whether you
have enough files there in the first place. That folder should contain
a substantial amount of what's in the above mentioned SVN tree. What's
the size of contents in /usr/share/texmf-dist? If that's anything less
than hundreds of megabytes (up to a few gigabytes), chances are that
you will have problems running TeX.

The second very important thing is that you (or a script) should run
"[sudo] mktexlsr" from /usr/share/texmf-dir and you should have a file
with a name "ls-R" in that tree.

>> THen you have to put the binaries into
>>         texmf-dist/../bin/ARCH/
>> (depending on your compile option without the ARCH).
>
> Nothing bin-like under texmf-dist/, but a regular <make install> puts
> quite some binaries into $PREFIX/bin (mktex*, pdftex, etc.) where
> prefix in my case is "/usr".
>
> Is texmf-dist/../bin/ARCH/ what I'm missing from the texmf-dist thingy?

In that case $PREFIX/bin can be used *instead of*
texmf-dist/../bin/ARCH. But you still need "texmf-dist" (for example
fetched from SVN) somewhere. The tree could theoretically have another
name, but you need the contents and the ls-R file (that file is
generated by mktexlsr).

> Following up on that: Where does the "texmf-dist" come from?

Contents can be taken from SVN and have to be provided separately in
some way. "make install" won't fill it in for you.

>> I suggest *looking* into the packaging of TeX Live for Debian/Fedora/Suse
>> etc to see how it is done there.
>
> Unfortunately I can't really match the debian *.orig.-src-archives to the
> source found in SVN.
> Still not sure, where the stated texmf-dist (or any other required) tree
> comes from, if not from above mentioned SVN repository.

Again, texmf-dist has to be some subset of
http://tug.org/svn/texlive/trunk/Master/texmf-dist/ and it's not an
easy task to figure out what subset you want.

If you want to create packages for your OS, there will be a
substantial effort needed to get it right (just as a warning). The
easiest thing you can do is to simply fetch the complete tree (just to
check whether it works).

I don't know how Debian works (it has a very well organized TeX
installation). You can also check (way less sophisticated, but still
very complex) MacPorts packages in
http://trac.macports.org/browser/trunk/dports/tex/ (see just
"texlive-*"). The contents of SVN are packaged in standalone archives,
for example http://distfiles.macports.org/texlive-latex-recommended/.
These files are then decompressed into $prefix/share/texmf-texlive.
Depending on the type/completeness of installation one can end up with
a few gigabytes. (I would nevertheless recommend looking into Debian
packages if you really want to create a package yourself.)

Mojca

From P.Taylor at Rhul.Ac.Uk  Sat Mar 14 09:27:45 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Mar 2015 08:27:45 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <20150314020815.GA7999@auth.logic.tuwien.ac.at>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>
Message-ID: <5503F101.8010206@Rhul.Ac.Uk>



Norbert Preining wrote:

> Use kpsewhich -show-path texmf.cnf to see where the files are searched.

As I am currently trying to track down a serious performance issue with 
TeX Live 2014 on one of three machines, I tried Norbert's suggestion 
above, and the results are weird indeed :

> D:\>kpsewhich -show-path texmf.cnf

> D:/TeX/Live/2014/bin/win32;D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c;D:
> /TeX/Live/2014/bin/win32/share/texmf-dist/web2c;D:/TeX/Live/2014/bin/win32/share
> /texmf/web2c;D:/TeX/Live/2014/bin/win32/texmf-local/web2c;D:/TeX/Live/2014/bin/w
> in32/texmf-dist/web2c;D:/TeX/Live/2014/bin/win32/texmf/web2c;D:/TeX/Live/2014/bi
> n;D:/TeX/Live/2014/bin/share/texmf-local/web2c;D:/TeX/Live/2014/bin/share/texmf-
> dist/web2c;D:/TeX/Live/2014/bin/share/texmf/web2c;D:/TeX/Live/2014/bin/texmf-loc
> al/web2c;D:/TeX/Live/2014/bin/texmf-dist/web2c;D:/TeX/Live/2014/bin/texmf/web2c;
> D:/TeX/Live/texmf-local/web2c;D:/TeX/Live/2014;D:/TeX/Live/2014/share/texmf-loca
> l/web2c;D:/TeX/Live/2014/share/texmf-dist/web2c;D:/TeX/Live/2014/share/texmf/web
> 2c;D:/TeX/Live/2014/texmf-local/web2c;D:/TeX/Live/2014/texmf-dist/web2c;D:/TeX/L
> ive/2014/texmf/web2c

Here are my questions :

1) If one is mean to make local changes in \TeX\Live\2014\TeXMF.cnf, why
is that so far down the pecking order ?  TeXdoc KPATHSEA says (in part):

> Kpathsea reads all texmf.cnf files in the search path, not just the
> first one found; definitions in earlier files override those in later
> files.

so surely \TeX\Live\2014 should be the first element, not the $n$th ...

2) What are the references to (e.g.,)
"D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c" ?  There /is/ no
"share" directory under /Bin/Win32.

3) Why does TEXMFCNF reference a hard-wired "texmf-local" (e.g.,)
"D:/TeX/Live/2014/texmf-local/web2c" ?  I have no such directory -- my
TEXMFLOCAL is \TeX\Live\TeXMF\Local, declared as such at installation time.

Philip Taylor

From mojca.miklavec.lists at gmail.com  Sat Mar 14 09:40:38 2015
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 14 Mar 2015 09:40:38 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <5503F101.8010206@Rhul.Ac.Uk>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503F101.8010206@Rhul.Ac.Uk>
Message-ID: <CALBOmsaZOeF6Q+=hq_nWnytYaC2Qxogco+te93F710FOd3jSoA@mail.gmail.com>

Hi,

Just a single answer.

On Sat, Mar 14, 2015 at 9:27 AM, Philip Taylor wrote:
>
> 2) What are the references to (e.g.,)
> "D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c" ?  There /is/ no
> "share" directory under /Bin/Win32.

I don't particularly like "share" being added by default either.
Package managers like Debian/Fedora/SuSE/*BSD/MacPorts/HomeBrew/...
can change that path at build time. And for TeX Live as distributed on
DVD/online there is/should be no need to look into "share". But I
didn't ever experience any serious performance issues, so I never
complained. I agree that the path is somewhat weird though.

> 3) Why does TEXMFCNF reference a hard-wired "texmf-local" (e.g.,)
> "D:/TeX/Live/2014/texmf-local/web2c" ?  I have no such directory -- my
> TEXMFLOCAL is \TeX\Live\TeXMF\Local, declared as such at installation time.

This is partially a chicken-and-egg problem. If you define TEXMFLOCAL
to be \TeX\Live\TeXMF\Local at installation time (rather than
compilation time), there is no way for kpathsea to know where your
TEXMFLOCAL/web2c/texmf.cnf is until it actually reads at least one
texmf.cnf file. That path was probably added there to fit the default
installation scheme.

Mojca

From kakuto at fuk.kindai.ac.jp  Sat Mar 14 09:57:27 2015
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 14 Mar 2015 17:57:27 +0900
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <5503F101.8010206@Rhul.Ac.Uk>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at> <5503F101.8010206@Rhul.Ac.Uk>
Message-ID: <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>

Dear Philip,

> D:/TeX/Live/2014/bin/win32;
> D:/TeX/Live/2014/bin/win32/share/texmf-local/web2c;
> D:/TeX/Live/2014/bin/win32/share/texmf-dist/web2c;
> D:/TeX/Live/2014/bin/win32/share/texmf/web2c;
> D:/TeX/Live/2014/bin/win32/texmf-local/web2c;
> D:/TeX/Live/2014/bin/win32/texmf-dist/web2c;
> D:/TeX/Live/2014/bin/win32/texmf/web2c;
> D:/TeX/Live/2014/bin;
> D:/TeX/Live/2014/bin/share/texmf-local/web2c;
> D:/TeX/Live/2014/bin/share/texmf-dist/web2c;
> D:/TeX/Live/2014/bin/share/texmf/web2c;
> D:/TeX/Live/2014/bin/texmf-local/web2c;
> D:/TeX/Live/2014/bin/texmf-dist/web2c;
> D:/TeX/Live/2014/bin/texmf/web2c;
> D:/TeX/Live/texmf-local/web2c;
> D:/TeX/Live/2014;
> D:/TeX/Live/2014/share/texmf-local/web2c;
> D:/TeX/Live/2014/share/texmf-dist/web2c;
> D:/TeX/Live/2014/share/texmf/web2c;
> D:/TeX/Live/2014/texmf-local/web2c;
> D:/TeX/Live/2014/texmf-dist/web2c;
> D:/TeX/Live/2014/texmf/web2c

That is correct.
The following is the rule in Kpathsea to search for texmf.cnf:

$SELFAUTOLOC
$SELFAUTOLOC/share/texmf-local/web2c
$SELFAUTOLOC/share/texmf-dist/web2c
$SELFAUTOLOC/share/texmf/web2c
$SELFAUTOLOC/texmf-local/web2c
$SELFAUTOLOC/texmf-dist/web2c
$SELFAUTOLOC/texmf/web2c
$SELFAUTODIR
$SELFAUTODIR/share/texmf-local/web2c
$SELFAUTODIR/share/texmf-dist/web2c
$SELFAUTODIR/share/texmf/web2c
$SELFAUTODIR/texmf-local/web2c
$SELFAUTODIR/texmf-dist/web2c
$SELFAUTODIR/texmf/web2c
$SELFAUTOGRANDPARENT/texmf-local/web2c
$SELFAUTOPARENT
$SELFAUTOPARENT/share/texmf-local/web2c
$SELFAUTOPARENT/share/texmf-dist/web2c
$SELFAUTOPARENT/share/texmf/web2c
$SELFAUTOPARENT/texmf-local/web2c
$SELFAUTOPARENT/texmf-dist/web2c
$SELFAUTOPARENT/texmf/web2c

Thanks,
Akira


From zdenek.wagner at gmail.com  Sat Mar 14 11:01:18 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 14 Mar 2015 11:01:18 +0100
Subject: [tex-live] Issues with texlive locating necessary files
In-Reply-To: <5503AF58.9010605@nanl.de>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503AF58.9010605@nanl.de>
Message-ID: <CAC1phyZm9Ap670nkgKNqO3NLueesX811nnYfGEJNDS5aseiZMA@mail.gmail.com>

015-03-14 4:47 GMT+01:00 Mirko Vogt <tex at nanl.de>:

> Hello Norbert,
>
> On 03/14/2015 03:08 AM, Norbert Preining wrote:
>
>> On Sat, 14 Mar 2015, Mirko Vogt wrote:
>>
>>>    /usr/bin/mktexfmt: line 1027: //texmf-dist/texconfig/tcfmgr: not found
>>>
>>
>> Do you have a proper texmf-dist tree installed?
>>
>> Building and installing the sources *does*NOT* suffice to get a
>> running system. You need to have texmf-dist from SVN.
>>
>
> I'm not sure about that - what I checked out is
>
>   svn://username:password at tug.org/texlive/trunk/Build/source
>
> If I understand it well, this is the rot of problem, you have just the
sources, not the build environment. You need the whole trunk.


Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

2


> and a <make install> seems to install everything I need.
> If not, I'm not sure what two trees you're referring to.
>
>  THen you have to put the binaries into
>>         texmf-dist/../bin/ARCH/
>> (depending on your compile option without the ARCH).
>>
>
> Nothing bin-like under texmf-dist/, but a regular <make install> puts
> quite some binaries into $PREFIX/bin (mktex*, pdftex, etc.) where
> prefix in my case is "/usr".
>
> Is texmf-dist/../bin/ARCH/ what I'm missing from the texmf-dist thingy?
>
>
>> In principle any tex program that uses kpathsea searches first for
>> the main texmf.cnf via a compiled in list of dirs, that also
>> includes some relative to the location of the binary.
>>
>> Use kpsewhich -show-path texmf.cnf to see where the files are searched.
>>
>> If you want to search different ones, you need to set that before
>> compiling.
>>
>
> The texmf.cnf doesn't seem to be the problem (in case I got you and the
> errors right) -
> AFAIK it wasn't "not found" at any time.
> < kpsewhich -show-path texmf.cnf > includes the path where it actually is:
> /usr/share/texmf-dist/web2c
>
> What's missing according the error messages is "fmtutil.cnf" (besides
> "pdftex.fmt").
>
>
>>  Question 1) Is setting $TEXMFMAIN as an environment variable the proper
>>> way? How do other distributions achieve the prefix-path being set
>>> correctly?
>>>
>>
>> Installing a proper texmf-dist tree and setting the proper search path
>> before compiling, if necessary.
>>
>
> Following up on that: Where does the "texmf-dist" come from?
> And - as mentioned above - to me it doesn't seem the search path is wrong.
>
>
>>  Question 2) What is necessary to make the map file being found by tcfmgr?
>>>
>>
>> a proper kpathsea setup, that is, the main texmf.cnf needs to be found.
>>
>
> As stated above, search path seems right and texmf.cnf is located under an
> included path.
>
>
>>
>> I suggest *looking* into the packaging of TeX Live for Debian/Fedora/Suse
>> etc to see how it is done there.
>>
>
> Unfortunately I can't really match the debian *.orig.-src-archives to the
> source found in SVN.
> Still not sure, where the stated texmf-dist (or any other required) tree
> comes from, if not from above mentioned SVN repository.
>
> Thanks a lot
>
>  Norbert
>>
>
>   mirko
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150314/9993b322/attachment-0001.html>

From P.Taylor at Rhul.Ac.Uk  Sat Mar 14 11:14:35 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Mar 2015 10:14:35 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at> <5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>
Message-ID: <55040A0B.4050106@Rhul.Ac.Uk>

Dear Akira -- Thank you for your prompt reply.  I am very happy to
accept that (for my system) the search path for TeXMF.cnf is correct,
but I am still very unclear why the rule-set that you enumerate is
logical.  For example, and assuming that all binaries are in :

	.../bin/win32

> $SELFAUTOLOC
> $SELFAUTOLOC/share/texmf-local/web2c
> $SELFAUTOLOC/share/texmf-dist/web2c
> $SELFAUTOLOC/share/texmf/web2c

Why might there be a "share" under /bin/win32 ?

> $SELFAUTOLOC/texmf-local/web2c
> $SELFAUTOLOC/texmf-dist/web2c
> $SELFAUTOLOC/texmf/web2c

Why might there be a texmf-local/texmf-dist/texmf under /bin/win32

> $SELFAUTODIR
> $SELFAUTODIR/share/texmf-local/web2c
> $SELFAUTODIR/share/texmf-dist/web2c
> $SELFAUTODIR/share/texmf/web2c
> $SELFAUTODIR/texmf-local/web2c

Why does the configuration assume that there will be a "texmf-local" at
all, given that the user can specify (e.g.,) /TeX/Live/TeXMF/Local as
the local equivalent of "texmf-local" at installation time.

And so on ...
** Phil.

From kakuto at fuk.kindai.ac.jp  Sat Mar 14 13:43:00 2015
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 14 Mar 2015 21:43:00 +0900
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <55040A0B.4050106@Rhul.Ac.Uk>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at> <5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A> <55040A0B.4050106@Rhul.Ac.Uk>
Message-ID: <5581DB39343B42B8BA5BB42A06927B38@CJ3001517A>

Dear Philip,

> Why might there be a "share" under /bin/win32 ?

Usually there may not be. But if there is, kpathsea
sees it.

>> $SELFAUTOLOC/texmf-local/web2c
>> $SELFAUTOLOC/texmf-dist/web2c
>> $SELFAUTOLOC/texmf/web2c

> Why might there be a texmf-local/texmf-dist/texmf under /bin/win32

Usually there may not be. But if there are, kpathsea
sees them.

>> $SELFAUTODIR
>> $SELFAUTODIR/share/texmf-local/web2c
>> $SELFAUTODIR/share/texmf-dist/web2c
>> $SELFAUTODIR/share/texmf/web2c
>> $SELFAUTODIR/texmf-local/web2c

> Why does the configuration assume that there will be a "texmf-local" at
> all, given that the user can specify (e.g.,) /TeX/Live/TeXMF/Local as
> the local equivalent of "texmf-local" at installation time.

Note that the rule is set at compile time of binaries.
I think the names are mainly due to historical reason,
based on, probably teTeX.
A user may assume the existence of .../share/texmf-local/web2c,
even if you don't need it.

Note that the distributed texmf.cnf is searched in the (2nd) last
location in order that users can modify variables. The "texmf" was added
later because Hans wanted it.

I think the rule itself is not related to the loss of performance.
Try
kpsewhich --all texmf.cnf

This will show all texmf.cnf's. If there are unnecessary ones, remove
them.

If you really want, you can define an environment variable

TEXMFCNF=D:/TeX/Live/2014;D:/TeX/Live/2014/texmf-dist/web2c

without a trailing semicolon.
In this case only the above two directories are searched.

Thank you,
Akira


From peb at mppmu.mpg.de  Sat Mar 14 14:56:32 2015
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Sat, 14 Mar 2015 14:56:32 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <55040A0B.4050106@Rhul.Ac.Uk>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at> <5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A> <55040A0B.4050106@Rhul.Ac.Uk>
Message-ID: <alpine.LSU.2.11.1503141444270.14664@pcl321.mppmu.mpg.de>

On Sat, 14 Mar 2015, Philip Taylor wrote:

>> $SELFAUTOLOC
>> $SELFAUTOLOC/share/texmf-local/web2c
>> $SELFAUTOLOC/share/texmf-dist/web2c
>> $SELFAUTOLOC/share/texmf/web2c
>
> Why might there be a "share" under /bin/win32 ?
>
>> $SELFAUTOLOC/texmf-local/web2c
>> $SELFAUTOLOC/texmf-dist/web2c
>> $SELFAUTOLOC/texmf/web2c
>
> Why might there be a texmf-local/texmf-dist/texmf under /bin/win32
>
>> $SELFAUTODIR
>> $SELFAUTODIR/share/texmf-local/web2c
>> $SELFAUTODIR/share/texmf-dist/web2c
>> $SELFAUTODIR/share/texmf/web2c
>> $SELFAUTODIR/texmf-local/web2c
>
> Why does the configuration assume that there will be a "texmf-local" at
> all, given that the user can specify (e.g.,) /TeX/Live/TeXMF/Local as
> the local equivalent of "texmf-local" at installation time.

Hi Phil,

the same unmodified file texmf.cnf (as it is called on case sensitive file
systems) is used under Unix where all of these paths may exist, e.g.,
   /usr/bin/ for binaries
   /usr/share/texmf-dist/ for architecture independent files
etc

It is even possible to share the files in the texmf-dist/ tree between
different systems, e.g., Windows and Linux or 32-bit and 64-bit!

Regards
Peter

From P.Taylor at Rhul.Ac.Uk  Sat Mar 14 15:03:20 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Mar 2015 14:03:20 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <alpine.LSU.2.11.1503141444270.14664@pcl321.mppmu.mpg.de>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at> <5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A> <55040A0B.4050106@Rhul.Ac.Uk>
 <alpine.LSU.2.11.1503141444270.14664@pcl321.mppmu.mpg.de>
Message-ID: <55043FA8.8010008@Rhul.Ac.Uk>



Peter Breitenlohner wrote:

> Hi Phil,
> 
> the same unmodified file texmf.cnf (as it is called on case sensitive file
> systems) is used under Unix where all of these paths may exist, e.g.,
>   /usr/bin/ for binaries
>   /usr/share/texmf-dist/ for architecture independent files
> etc
> 
> It is even possible to share the files in the texmf-dist/ tree between
> different systems, e.g., Windows and Linux or 32-bit and 64-bit!
> 
> Regards
> Peter

OK, thank you Peter.  I won't pretend I understand for a second the full
rationale behind this, but I will instead assume that it is all
perfectly rational and that I must therefore seek elsewhere for the
cause of my performance problems (which affect only one machine out of
three, all with identical configurations).

** Phil.

From reinhard.kotucha at web.de  Sun Mar 15 07:50:42 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 15 Mar 2015 07:50:42 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <55040A0B.4050106@Rhul.Ac.Uk>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>	<55040A0B.4050106@Rhul.Ac.Uk>
Message-ID: <21765.11202.123843.292544@zaphod.ms25.net>

On 2015-03-14 at 10:14:35 +0000, Philip Taylor wrote:

 > Dear Akira -- Thank you for your prompt reply.  I am very happy to
 > accept that (for my system) the search path for TeXMF.cnf is correct,
 > but I am still very unclear why the rule-set that you enumerate is
 > logical.  For example, and assuming that all binaries are in :
 > 
 > 	.../bin/win32
 > 
 > > $SELFAUTOLOC
 > > $SELFAUTOLOC/share/texmf-local/web2c
 > > $SELFAUTOLOC/share/texmf-dist/web2c
 > > $SELFAUTOLOC/share/texmf/web2c
 > 
 > Why might there be a "share" under /bin/win32 ?
 > 
 > > $SELFAUTOLOC/texmf-local/web2c
 > > $SELFAUTOLOC/texmf-dist/web2c
 > > $SELFAUTOLOC/texmf/web2c
 > 
 > Why might there be a texmf-local/texmf-dist/texmf under /bin/win32
 > 
 > > $SELFAUTODIR
 > > $SELFAUTODIR/share/texmf-local/web2c
 > > $SELFAUTODIR/share/texmf-dist/web2c
 > > $SELFAUTODIR/share/texmf/web2c
 > > $SELFAUTODIR/texmf-local/web2c
 > 
 > Why does the configuration assume that there will be a "texmf-local" at
 > all, given that the user can specify (e.g.,) /TeX/Live/TeXMF/Local as
 > the local equivalent of "texmf-local" at installation time.
 > 
 > And so on ...

Hi Phil,
directories which don't exist are not critical in respect of
efficiency.

You are running TeX Live in three different environments.  Two of them
are fast, one is slow.  You are now investigating the config files.
Is it possible to confirm that they are identical on all these
systems?

I don't know why Windows is [sometimes] so slow.  A LaTeX file written
by a colleague could be compiled within 40 seconds.  Under CentOS
running in a virtual machine on top of Windows I needed only 8 seconds.
My colleague installed Linux in a virtual machine as well and could
compile his document within 8 seconds too.

Why is Windows so slow?  Many people claim that the file system is
the culprit.  On the other hand I wrote a LuaTeX program where speed
matters.  It reads a few files from the file system and creates a PDF
file.  There is absolutely no difference whether this file is
processed on Unix or Windows.  Admittedly, I optimised the program so
that it doesn't depend on too many external files and I pushed as much
as possible to the format file.  Maybe the Windows file system is the
bottle neck indeed, but I'm not sure.

Phil, in order to avoid too many rooms of freedom, could you confirm
that the config files on all your installations are identical?  IMO it
doesn't make sense to investigate further until you confirm that they
are identical.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From kakuto at fuk.kindai.ac.jp  Sun Mar 15 10:28:11 2015
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 15 Mar 2015 18:28:11 +0900
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <21765.11202.123843.292544@zaphod.ms25.net>
References: <55038869.2090504@nanl.de><20150314020815.GA7999@auth.logic.tuwien.ac.at><5503F101.8010206@Rhul.Ac.Uk><16F66C8D69D647138A022BD9603DDB04@CJ3001517A><55040A0B.4050106@Rhul.Ac.Uk>
 <21765.11202.123843.292544@zaphod.ms25.net>
Message-ID: <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>

Dear Reinhard,

> I don't know why Windows is [sometimes] so slow.

Since windows OS uses monocase filesystem, all characters in
ls-R are interpreted after transforming into lower case,
and filename characters in hash tables are transformed into
lower case. These processes are rather expensive.
If users of windows admit, I think I can remove the relevant
codes. In this case, users on windows have to use case
sensitive names in TeX.
For example at present, one can find IEEEtran.cls by
\documentclass{ieeetran}
on windows.
If I remove the relevant codes, one should correctly write as
\documentclass{IEEEtran}
I think this is natural in TeX world and users may admit.

Thanks,
Akira


From P.Taylor at Rhul.Ac.Uk  Sun Mar 15 10:56:57 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Mar 2015 09:56:57 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>
References: <55038869.2090504@nanl.de><20150314020815.GA7999@auth.logic.tuwien.ac.at><5503F101.8010206@Rhul.Ac.Uk><16F66C8D69D647138A022BD9603DDB04@CJ3001517A><55040A0B.4050106@Rhul.Ac.Uk>
 <21765.11202.123843.292544@zaphod.ms25.net>
 <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>
Message-ID: <55055769.4050005@Rhul.Ac.Uk>

As one from an entirely case-insenstive background (MS/DOS, VMS, MS
Windows), I have just two thoughts on this :

1) I do not find (TeX under) Windows slow, except on a single machine on
which it was recently installed.  All other instances (32-bit, 64-bit)
are blindingly fast ...

2) Provided that the file is displayed in Explorer and analogous
utilities as (e.g.,) "IEEEtran.cls", then (were I to use LaTeX) I would
have no objection to having to write "\documentclass {IEEEtran}".

Perhaps at the same time we could then correct "language.def", which at
the moment ignores the example and key definition provided by its
original authors :

	%%% Next section is      E X A M P L E   O N L Y
	%%% \addlanguage {German}{ghyph31}{}{2}{2}
	%%% Previous section is  E X A M P L E   O N L Y

	\addlanguage {USenglish}{hyphen}{}{2}{3}

and thereafter spells language names entirely in lower-case, thereby
ignoring both convention and precedent :

\addlanguage{arabic}{zerohyph.tex}{}{2}{3}
% from hyphen-armenian:
\addlanguage{armenian}{loadhyph-hy.tex}{}{1}{2}
% from hyphen-basque:
\addlanguage{basque}{loadhyph-eu.tex}{}{2}{2}
% from hyphen-bulgarian:
\addlanguage{bulgarian}{loadhyph-bg.tex}{}{2}{2}
% from hyphen-catalan:
\addlanguage{catalan}{loadhyph-ca.tex}{}{2}{2}
% from hyphen-chinese:
<etc>

** Phil.

From zdenek.wagner at gmail.com  Sun Mar 15 11:59:34 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 15 Mar 2015 11:59:34 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <55055769.4050005@Rhul.Ac.Uk>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>	<55040A0B.4050106@Rhul.Ac.Uk>
 <21765.11202.123843.292544@zaphod.ms25.net>
 <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>	<55055769.4050005@Rhul.Ac.Uk>
Message-ID: <CAC1phyavZnRP0ae1H9vvAbQkm+P8hR6=QArkWg4LjBR-4oe+cQ@mail.gmail.com>

2015-03-15 10:56 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

> As one from an entirely case-insenstive background (MS/DOS, VMS, MS
> Windows), I have just two thoughts on this :
>
> 1) I do not find (TeX under) Windows slow, except on a single machine on
> which it was recently installed.  All other instances (32-bit, 64-bit)
> are blindingly fast ...
>
> 2) Provided that the file is displayed in Explorer and analogous
> utilities as (e.g.,) "IEEEtran.cls", then (were I to use LaTeX) I would
> have no objection to having to write "\documentclass {IEEEtran}".
>
> It depends... Most probably the isolated Windows computer use the NTFS
file system. It evolved from the HPFS file system created jointly by IBM
and Microsoft for OS/2 (NTFS has new features that were not available in
HPFS). The file names are case insensitive but case retensive. If you
create the file as  IEEEtran.cls, you will see that name in Explorer. If
you try to open it as ieeetran.cls, it will be found. If you copy anything
over it and specify the target name as ieeetran.cls, the displayed name
will still be IEEEtran.cls because the file is not deleted and created
again, but truncated to zero length and the new contents are appended.
teTeX for eComStation (the successor of OS/2) uses case sensitive ls-R.
However, being a Linux user I have no right to vote.

There is, however, one point to consider. In some universities a netwrk
installation of TeX Live is available on a shared disk. The user mounts
(connects) the texmf trees and adds the correct binary path to the PATH
setting. The texmf tree is on some Unix machine, therefore the file names
are case sensitive. I am not sure whether Windows try to cope with case if
Unix file system is connected to it.


Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



> Perhaps at the same time we could then correct "language.def", which at
> the moment ignores the example and key definition provided by its
> original authors :
>
>         %%% Next section is      E X A M P L E   O N L Y
>         %%% \addlanguage {German}{ghyph31}{}{2}{2}
>         %%% Previous section is  E X A M P L E   O N L Y
>
>         \addlanguage {USenglish}{hyphen}{}{2}{3}
>
> and thereafter spells language names entirely in lower-case, thereby
> ignoring both convention and precedent :
>
> \addlanguage{arabic}{zerohyph.tex}{}{2}{3}
> % from hyphen-armenian:
> \addlanguage{armenian}{loadhyph-hy.tex}{}{1}{2}
> % from hyphen-basque:
> \addlanguage{basque}{loadhyph-eu.tex}{}{2}{2}
> % from hyphen-bulgarian:
> \addlanguage{bulgarian}{loadhyph-bg.tex}{}{2}{2}
> % from hyphen-catalan:
> \addlanguage{catalan}{loadhyph-ca.tex}{}{2}{2}
> % from hyphen-chinese:
> <etc>
>
> ** Phil.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150315/1a478fee/attachment.html>

From daleif at math.au.dk  Sun Mar 15 12:21:24 2015
From: daleif at math.au.dk (Lars Madsen)
Date: Sun, 15 Mar 2015 11:21:24 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <CAC1phyavZnRP0ae1H9vvAbQkm+P8hR6=QArkWg4LjBR-4oe+cQ@mail.gmail.com>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>
 <5503F101.8010206@Rhul.Ac.Uk> <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>
 <55040A0B.4050106@Rhul.Ac.Uk> <21765.11202.123843.292544@zaphod.ms25.net>
 <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>
 <55055769.4050005@Rhul.Ac.Uk>,
 <CAC1phyavZnRP0ae1H9vvAbQkm+P8hR6=QArkWg4LjBR-4oe+cQ@mail.gmail.com>
Message-ID: <89ECE88578D8F648A22E307DAEE88579B5AE93C3@SRVUNIMBX01.uni.au.dk>

There is also the case where the latex installation is on local dusk, but the user files are mounted via a file server.

Many of our windows lysine employees, see a performance issues because of the networking on there mounted folders. But not as severe af Philip is describing.

Just wanted to mention it.

If our users move their sources onto a local folder, then latex is fast again

/daleif

-----Original Message-----
From: Zdenek Wagner [zdenek.wagner at gmail.com]
Received: s?ndag, 15 mar. 2015, 12:03
To: Philip Taylor [P.Taylor at rhul.ac.uk]
CC: Norbert Preining [preining at logic.at]; TeX Live [tex-live at tug.org]
Subject: Re: [tex-live] Pathological search path for TeXMF.cnf

2015-03-15 10:56 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk<mailto:P.Taylor at rhul.ac.uk>>:
As one from an entirely case-insenstive background (MS/DOS, VMS, MS
Windows), I have just two thoughts on this :

1) I do not find (TeX under) Windows slow, except on a single machine on
which it was recently installed.  All other instances (32-bit, 64-bit)
are blindingly fast ...

2) Provided that the file is displayed in Explorer and analogous
utilities as (e.g.,) "IEEEtran.cls", then (were I to use LaTeX) I would
have no objection to having to write "\documentclass {IEEEtran}".

It depends... Most probably the isolated Windows computer use the NTFS file system. It evolved from the HPFS file system created jointly by IBM and Microsoft for OS/2 (NTFS has new features that were not available in HPFS). The file names are case insensitive but case retensive. If you create the file as  IEEEtran.cls, you will see that name in Explorer. If you try to open it as ieeetran.cls, it will be found. If you copy anything over it and specify the target name as ieeetran.cls, the displayed name will still be IEEEtran.cls because the file is not deleted and created again, but truncated to zero length and the new contents are appended. teTeX for eComStation (the successor of OS/2) uses case sensitive ls-R. However, being a Linux user I have no right to vote.

There is, however, one point to consider. In some universities a netwrk installation of TeX Live is available on a shared disk. The user mounts (connects) the texmf trees and adds the correct binary path to the PATH setting. The texmf tree is on some Unix machine, therefore the file names are case sensitive. I am not sure whether Windows try to cope with case if Unix file system is connected to it.


Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


Perhaps at the same time we could then correct "language.def", which at
the moment ignores the example and key definition provided by its
original authors :

        %%% Next section is      E X A M P L E   O N L Y
        %%% \addlanguage {German}{ghyph31}{}{2}{2}
        %%% Previous section is  E X A M P L E   O N L Y

        \addlanguage {USenglish}{hyphen}{}{2}{3}

and thereafter spells language names entirely in lower-case, thereby
ignoring both convention and precedent :

\addlanguage{arabic}{zerohyph.tex}{}{2}{3}
% from hyphen-armenian:
\addlanguage{armenian}{loadhyph-hy.tex}{}{1}{2}
% from hyphen-basque:
\addlanguage{basque}{loadhyph-eu.tex}{}{2}{2}
% from hyphen-bulgarian:
\addlanguage{bulgarian}{loadhyph-bg.tex}{}{2}{2}
% from hyphen-catalan:
\addlanguage{catalan}{loadhyph-ca.tex}{}{2}{2}
% from hyphen-chinese:
<etc>

** Phil.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150315/ed41e966/attachment.html>

From reinhard.kotucha at web.de  Sun Mar 15 13:21:01 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 15 Mar 2015 13:21:01 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>	<55040A0B.4050106@Rhul.Ac.Uk>
 <21765.11202.123843.292544@zaphod.ms25.net>
 <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>
Message-ID: <21765.31021.3896.440413@zaphod.ms25.net>

On 2015-03-15 at 18:28:11 +0900, Akira Kakuto wrote:

 > Dear Reinhard,
 > 
 > > I don't know why Windows is [sometimes] so slow.
 > 
 > Since windows OS uses monocase filesystem, all characters in
 > ls-R are interpreted after transforming into lower case,
 > and filename characters in hash tables are transformed into
 > lower case. These processes are rather expensive.
 > If users of windows admit, I think I can remove the relevant
 > codes. In this case, users on windows have to use case
 > sensitive names in TeX.
 > For example at present, one can find IEEEtran.cls by
 > \documentclass{ieeetran}
 > on windows.
 > If I remove the relevant codes, one should correctly write as
 > \documentclass{IEEEtran}
 > I think this is natural in TeX world and users may admit.

Dear Akira,
yes, it would be nice if Windows users spell file names consistently.
Whenever I try to help Windows users, I have to rename their files.
They write \includegraphics{foo.ps} though the actual name of the file
is FOO.ps.  This is quite annoying.

Case insensitive file names were invented in the 60ies when IBM
assumed that there is no need for more than six computers worldwide.

At this time it was quite easy to deal with arbitrary case.  In ASCII
lowercase and uppercase letters differ only by one bit, hence they
could be transformed by a single instruction in machine code.
Nowadays Windows is using zillions of national character encodings and
other systems are using Unicode.  Conversion is more expensive now,
maybe even table lookups are required now.

Even worse, environment variables are case insensitive too on Windows.
This is quite painful because programming languages can't simply push
the environment to an associative list.  You have to make sure that
Path, PAth, PATh, PATH and all the other permutations are allowed. 

Though I dislike case insensitive file names I can't believe that this
is the reason that a particular file can be compiled within eight
seconds under Linux while it takes 40 seconds under Windows.  Please
note that the Linux system is running on the same Windows system in a
virtual machine (VMware).  The hardware can't be the culprit.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Sun Mar 15 13:22:39 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Mar 2015 12:22:39 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <21765.31021.3896.440413@zaphod.ms25.net>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>	<55040A0B.4050106@Rhul.Ac.Uk>
 <21765.11202.123843.292544@zaphod.ms25.net>
 <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>
 <21765.31021.3896.440413@zaphod.ms25.net>
Message-ID: <5505798F.9000906@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> Though I dislike case insensitive file names I can't believe that this
> is the reason that a particular file can be compiled within eight
> seconds under Linux while it takes 40 seconds under Windows.  Please
> note that the Linux system is running on the same Windows system in a
> virtual machine (VMware).  The hardware can't be the culprit.

Please send (off list) said file.
** Phil.

From kakuto at fuk.kindai.ac.jp  Sun Mar 15 14:47:31 2015
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 15 Mar 2015 22:47:31 +0900
Subject: [tex-live] Pathological search path for TeXMF.cnf
Message-ID: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>

> If users of windows admit, I think I can remove the relevant codes.

I will not change the present behavior of Kpathsea on
windows in order not to introduce confusion.
There are many others in addition to the ls-R issue,
added to support windows, which may cause loss of performance.
But I believe that TeX's on windows are usable at least.

Thank you,
Akira


From P.Taylor at Rhul.Ac.Uk  Sun Mar 15 14:50:43 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 15 Mar 2015 13:50:43 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
Message-ID: <55058E33.8060400@Rhul.Ac.Uk>



Akira Kakuto wrote:

> But I believe that TeXs on windows are usable at least.

Oh, they most certainly are.  I am currently processing a 500pp book
which performs real-time parsing of XML (98% of the content is in raw
XML) as well as multiple image insertions, and on two of my three
systems the task completes within 30 seconds ...

** Phil.


From stefan.swerk at gmail.com  Sun Mar 15 14:11:33 2015
From: stefan.swerk at gmail.com (Stefan Swerk)
Date: Sun, 15 Mar 2015 14:11:33 +0100
Subject: [tex-live] [Bug] Misplaced file in europasscv package installation
Message-ID: <55058505.7090304@gmail.com>

Dear all,

during the installation of the europasscv-package [1] via
	# tlmgr install europasscv

the file is installed as
	texmf-dist/doc/latex/europasscv/europasslogo2013.pdf

however, it should be (in my opinion) placed within
	texmf-dist/tex/latex/europasscv/

instead, since it is directly referenced and required by
the respective document class and leads to a document
compilation error otherwise.

Thank you,
Stefan Swerk

[1] http://www.ctan.org/tex-archive/macros/latex/contrib/europasscv

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20150315/d5127860/attachment.bin>

From P.Taylor at Rhul.Ac.Uk  Mon Mar 16 07:23:40 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 16 Mar 2015 06:23:40 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <21765.11202.123843.292544@zaphod.ms25.net>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>	<55040A0B.4050106@Rhul.Ac.Uk>
 <21765.11202.123843.292544@zaphod.ms25.net>
Message-ID: <550676EC.5090008@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> Phil, in order to avoid too many rooms of freedom, could you confirm
> that the config files on all your installations are identical?  IMO it
> doesn't make sense to investigate further until you confirm that they
> are identical.

They were identical when I started, but I received so many helpful 
suggestions which I applied to the slow system that they have now 
diverged.  I think that somewhere back in the thread someone told me how 
to find out exactly how many copies of TeXMF.cnf I had and how to locate 
them; I shall start there, ensure the two systems are in synch from that 
perspective, and then copy the corresponding TeXMF.cnf files from the 
fast system to the slow before repeating the timing test.

In the meantime, I carried out a fascinating analysis of the time spent 
on each operation as reported by Process Monitor (well over 3 million 
records) using MS Access, but still failed to identify the root cause.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Mon Mar 16 18:02:58 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 16 Mar 2015 17:02:58 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <55058E33.8060400@Rhul.Ac.Uk>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>
Message-ID: <55070CC2.6030800@Rhul.Ac.Uk>

I have copied the entire 4Gb+ of the TeX Live 2014 installation from the 
fast machine to a 250Gb drive attached direct to my router, and 
therefore accessible from all machines on my home network.

On the slow machine, I set up a pseudo-drive letter and modified path :

Net use T: \\DSL-3780\usb\TeX\Live\2014
Set Path=T:\Bin\Win32;%Path%

I then try XeTeX from this remote file system :

D:
CD D:\Users\Philip Taylor\AppData\Local\Dropbox\LPL\Catalogue\Version 
2\16-Mar-2015
XeTeX -output-directory=../Remote-content Master

and whilst it limps along initially, while loading (e.g.,) 
./Image-float.tex, ./Captions.tex, ./Prelims.tex, 
./Dynamic-content/Master.toc, ./Dynamic-content/Master.toc, 
./Dynamic-content/TOC.aux, ...

it then becomes blindingly fast once it gets onto processing the guts of 
the book.

I shall now have to re-clone the TeX installation from the DSL-3780 to a 
hard disc on the slow machine and see if I can still replicate that 
performance gain.

** Phil.

From gnwiii at gmail.com  Mon Mar 16 19:15:23 2015
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 16 Mar 2015 15:15:23 -0300
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <55070CC2.6030800@Rhul.Ac.Uk>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
Message-ID: <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>

On Mon, Mar 16, 2015 at 2:02 PM, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

> I have copied the entire 4Gb+ of the TeX Live 2014 installation from the
> fast machine to a 250Gb drive attached direct to my router, and therefore
> accessible from all machines on my home network.
>
> On the slow machine, I set up a pseudo-drive letter and modified path :
>
> Net use T: \\DSL-3780\usb\TeX\Live\2014
> Set Path=T:\Bin\Win32;%Path%
>
> I then try XeTeX from this remote file system :
>
> D:
> CD D:\Users\Philip Taylor\AppData\Local\Dropbox\LPL\Catalogue\Version
> 2\16-Mar-2015
> XeTeX -output-directory=../Remote-content Master
>
> and whilst it limps along initially, while loading (e.g.,)
> ./Image-float.tex, ./Captions.tex, ./Prelims.tex,
> ./Dynamic-content/Master.toc, ./Dynamic-content/Master.toc,
> ./Dynamic-content/TOC.aux, ...
>
> it then becomes blindingly fast once it gets onto processing the guts of
> the book.
>
> I shall now have to re-clone the TeX installation from the DSL-3780 to a
> hard disc on the slow machine and see if I can still replicate that
> performance gain.
>

All that suggests a disk problem.

Overheating (e.g,, CPU cooling fins heavily loaded with dust), damaged
cables/connectors, or badly fragmented drives can
cause poor performance.  I have seen Windows machines slowing down when a
disk is about to fail.   The S.M.A.R.T system is not very good at
identifying failing drives, but in some cases you can see increasing counts
for error recovery and reallocated sectors.  I have also seen Windows
systems get slow due to some filesystem metadata problem.   Running chkdsk
may help, but you may be better off reformatting the drive and
reinstalling.  The last system where we tried chkdsk (because a task that
should take a couple hours was taking 24) came up with "file not found"
popups during the reboot so had to be reformatted.  I was concerned that
the disk might be failing, but several months later the task is maintaining
the expected performance.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150316/de3bb4d6/attachment.html>

From zdenek.wagner at gmail.com  Mon Mar 16 19:29:38 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 16 Mar 2015 19:29:38 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
 <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
Message-ID: <CAC1phyY_t0B1_AaLjcs3cb=PeogyDB=iLUCgx_Bp2TUj0_be5g@mail.gmail.com>

Some time ago I had similar problems in Linux due to failing disk
controller on my motherboard. It helped a little after reconnecting the
disk to another slot. However, if HW is the source of the problem, it would
not explain why it runs fast in 32 VM on the same computer.

Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

2015-03-16 19:15 GMT+01:00 George N. White III <gnwiii at gmail.com>:

> On Mon, Mar 16, 2015 at 2:02 PM, Philip Taylor <P.Taylor at rhul.ac.uk>
> wrote:
>
>> I have copied the entire 4Gb+ of the TeX Live 2014 installation from the
>> fast machine to a 250Gb drive attached direct to my router, and therefore
>> accessible from all machines on my home network.
>>
>> On the slow machine, I set up a pseudo-drive letter and modified path :
>>
>> Net use T: \\DSL-3780\usb\TeX\Live\2014
>> Set Path=T:\Bin\Win32;%Path%
>>
>> I then try XeTeX from this remote file system :
>>
>> D:
>> CD D:\Users\Philip Taylor\AppData\Local\Dropbox\LPL\Catalogue\Version
>> 2\16-Mar-2015
>> XeTeX -output-directory=../Remote-content Master
>>
>> and whilst it limps along initially, while loading (e.g.,)
>> ./Image-float.tex, ./Captions.tex, ./Prelims.tex,
>> ./Dynamic-content/Master.toc, ./Dynamic-content/Master.toc,
>> ./Dynamic-content/TOC.aux, ...
>>
>> it then becomes blindingly fast once it gets onto processing the guts of
>> the book.
>>
>> I shall now have to re-clone the TeX installation from the DSL-3780 to a
>> hard disc on the slow machine and see if I can still replicate that
>> performance gain.
>>
>
> All that suggests a disk problem.
>
> Overheating (e.g,, CPU cooling fins heavily loaded with dust), damaged
> cables/connectors, or badly fragmented drives can
> cause poor performance.  I have seen Windows machines slowing down when a
> disk is about to fail.   The S.M.A.R.T system is not very good at
> identifying failing drives, but in some cases you can see increasing counts
> for error recovery and reallocated sectors.  I have also seen Windows
> systems get slow due to some filesystem metadata problem.   Running chkdsk
> may help, but you may be better off reformatting the drive and
> reinstalling.  The last system where we tried chkdsk (because a task that
> should take a couple hours was taking 24) came up with "file not found"
> popups during the reboot so had to be reformatted.  I was concerned that
> the disk might be failing, but several months later the task is maintaining
> the expected performance.
>
> --
> George N. White III <aa056 at chebucto.ns.ca>
> Head of St. Margarets Bay, Nova Scotia
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150316/e60ef138/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Mon Mar 16 19:29:48 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 16 Mar 2015 18:29:48 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
 <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
Message-ID: <5507211C.1060802@Rhul.Ac.Uk>



George N. White III wrote:

> All that suggests a disk problem.

Thank you for that, George (and for the additional detail, snipped 
here).  I had thought that the VM VHDs were on the disc where TeX is 
stored, but I now see that they are not; they are on external USB 
drives.  So yes, it is a definite possibility that the D: drive is 
failing. I shall know more once the cloning operation is complete.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Mon Mar 16 19:33:38 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 16 Mar 2015 18:33:38 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <CAC1phyY_t0B1_AaLjcs3cb=PeogyDB=iLUCgx_Bp2TUj0_be5g@mail.gmail.com>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
 <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
 <CAC1phyY_t0B1_AaLjcs3cb=PeogyDB=iLUCgx_Bp2TUj0_be5g@mail.gmail.com>
Message-ID: <55072202.3040904@Rhul.Ac.Uk>



Zden?k Wagner wrote:

> Some time ago I had similar problems in Linux due to failing disk
> controller on my motherboard. It helped a little after reconnecting the
> disk to another slot. However, if HW is the source of the problem, it
> would not explain why it runs fast in 32 VM on the same computer.

It may, Zden?k -- the VHDs for the VM are on different, external, USB 
drives, not on the (possibly failing) D-drive where TeX lives ...

But a quick look at the system error log suggests there is nothing too 
much to worry about; only 8 reported disc errors since the start of the 
year.

** Phil.

From reinhard.kotucha at web.de  Mon Mar 16 20:46:11 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 16 Mar 2015 20:46:11 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <5505798F.9000906@Rhul.Ac.Uk>
References: <55038869.2090504@nanl.de>
 <20150314020815.GA7999@auth.logic.tuwien.ac.at>	<5503F101.8010206@Rhul.Ac.Uk>
 <16F66C8D69D647138A022BD9603DDB04@CJ3001517A>	<55040A0B.4050106@Rhul.Ac.Uk>
 <21765.11202.123843.292544@zaphod.ms25.net>
 <E1947CC6B994493AA94131D7C0A73313@CJ3001517A>
 <21765.31021.3896.440413@zaphod.ms25.net>	<5505798F.9000906@Rhul.Ac.Uk>
Message-ID: <21767.13059.587899.880054@zaphod.ms25.net>

On 2015-03-15 at 12:22:39 +0000, Philip Taylor wrote:

 > Reinhard Kotucha wrote:
 > 
 > > Though I dislike case insensitive file names I can't believe that
 > > this is the reason that a particular file can be compiled within
 > > eight seconds under Linux while it takes 40 seconds under
 > > Windows.  Please note that the Linux system is running on the
 > > same Windows system in a virtual machine (VMware).  The hardware
 > > can't be the culprit.
 > 
 > Please send (off list) said file.

Sorry Phil, this file is property of the company I'd been working with
until last year and I'm not allowed to make it available to others.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From amaxwell at mac.com  Mon Mar 16 21:48:05 2015
From: amaxwell at mac.com (Adam R. Maxwell)
Date: Mon, 16 Mar 2015 13:48:05 -0700
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
Message-ID: <D548C806-D161-45E6-AF11-C25D7D17B5BD@mac.com>


> On Mar 15, 2015, at 06:47 , Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
> 
>> If users of windows admit, I think I can remove the relevant codes.
> 
> I will not change the present behavior of Kpathsea on
> windows in order not to introduce confusion.
> There are many others in addition to the ls-R issue,
> added to support windows, which may cause loss of performance.
> But I believe that TeX's on windows are usable at least.

Mac OS was having issues with kpathsea performance due to
case-insensitive behavior. I forget all the issues, but
IIRC it was reading ls-R multiple times; I gave Karl a
patch that improved performance by 5x or so on MacOS, and
presumably that will appear in next year?s TL. I think
this affected Windows, also, but don?t recall for sure;
there were some #ifdefs that we removed.

Adam



From zdenek.wagner at gmail.com  Mon Mar 16 22:31:43 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 16 Mar 2015 22:31:43 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <55072202.3040904@Rhul.Ac.Uk>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
 <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
 <CAC1phyY_t0B1_AaLjcs3cb=PeogyDB=iLUCgx_Bp2TUj0_be5g@mail.gmail.com>
 <55072202.3040904@Rhul.Ac.Uk>
Message-ID: <CAC1phybo_RqkRKMpYJ_g-y+WsO-KnaRj6p70_+SJxrAgNhcCNA@mail.gmail.com>

2015-03-16 19:33 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Zden?k Wagner wrote:
>
>  Some time ago I had similar problems in Linux due to failing disk
>> controller on my motherboard. It helped a little after reconnecting the
>> disk to another slot. However, if HW is the source of the problem, it
>> would not explain why it runs fast in 32 VM on the same computer.
>>
>
> It may, Zden?k -- the VHDs for the VM are on different, external, USB
> drives, not on the (possibly failing) D-drive where TeX lives ...
>
> But a quick look at the system error log suggests there is nothing too
> much to worry about; only 8 reported disc errors since the start of the
> year.
>
> ** Phil.
>

It is irrelevant whether you have errors in the log or not. During the last
year I had two problems:

1. Failing disk controller

2. Failing power supply (at leas one of the voltages and the power loss was
not permanent)

There was no error record at all. HD was just in a kind of wait state which
is not considered an error, it just makes everything terribly slow.
Sometimes the disc stopped rotating for a while ad then started to work
again but it was not recorded as an error. Not all kinds of error states
are reported.


Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150316/def125da/attachment.html>

From karl at freefriends.org  Mon Mar 16 22:50:04 2015
From: karl at freefriends.org (Karl Berry)
Date: Mon, 16 Mar 2015 21:50:04 +0000
Subject: [tex-live] [Bug] Misplaced file in europasscv package
	installation
In-Reply-To: <55058505.7090304@gmail.com>
Message-ID: <201503162150.t2GLo47c012205@freefriends.org>

            texmf-dist/tex/latex/europasscv/

Indeed.  Fixed for tonight, thanks.

k

From P.Taylor at Rhul.Ac.Uk  Mon Mar 16 23:28:58 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 16 Mar 2015 22:28:58 +0000
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <CAC1phybo_RqkRKMpYJ_g-y+WsO-KnaRj6p70_+SJxrAgNhcCNA@mail.gmail.com>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
 <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
 <CAC1phyY_t0B1_AaLjcs3cb=PeogyDB=iLUCgx_Bp2TUj0_be5g@mail.gmail.com>
 <55072202.3040904@Rhul.Ac.Uk>
 <CAC1phybo_RqkRKMpYJ_g-y+WsO-KnaRj6p70_+SJxrAgNhcCNA@mail.gmail.com>
Message-ID: <5507592A.9070303@Rhul.Ac.Uk>



Zdenek Wagner wrote:

> It is irrelevant whether you have errors in the log or not. During the
> last year I had two problems:
>
> 1. Failing disk controller
>
> 2. Failing power supply (at leas one of the voltages and the power loss
> was not permanent)
>
> There was no error record at all. HD was just in a kind of wait state
> which is not considered an error, it just makes everything terribly
> slow. Sometimes the disc stopped rotating for a while ad then started to
> work again but it was not recorded as an error. Not all kinds of error
> states are reported.

Noted with thanks.  However I am delighted to report that the cloned TeX 
Live 2014 system is now seemingly as fast on what was the slow system as 
on the fast, so for now the problem is (re)solved.  I shall, of course, 
report back if things change ...

** Phil.

From kakuto at fuk.kindai.ac.jp  Mon Mar 16 23:35:58 2015
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 17 Mar 2015 07:35:58 +0900
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <D548C806-D161-45E6-AF11-C25D7D17B5BD@mac.com>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <D548C806-D161-45E6-AF11-C25D7D17B5BD@mac.com>
Message-ID: <A09A1D6085214A289D88CAB18EFB7EE3@CJ3001517A>

Dear Adam,

> I think this affected Windows, also, but don?t recall for sure;
> there were some #ifdefs that we removed.

That is not related to the issue on Windows.

Thanks,
Akira


From reinhard.kotucha at web.de  Tue Mar 17 00:21:32 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 17 Mar 2015 00:21:32 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <CAC1phybo_RqkRKMpYJ_g-y+WsO-KnaRj6p70_+SJxrAgNhcCNA@mail.gmail.com>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
 <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
 <CAC1phyY_t0B1_AaLjcs3cb=PeogyDB=iLUCgx_Bp2TUj0_be5g@mail.gmail.com>
 <55072202.3040904@Rhul.Ac.Uk>
 <CAC1phybo_RqkRKMpYJ_g-y+WsO-KnaRj6p70_+SJxrAgNhcCNA@mail.gmail.com>
Message-ID: <21767.25980.837648.284474@zaphod.ms25.net>

On 2015-03-16 at 22:31:43 +0100, Zdenek Wagner wrote:

 > 2015-03-16 19:33 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

 > > But a quick look at the system error log suggests there is
 > > nothing too much to worry about; only 8 reported disc errors
 > > since the start of the year.
 > 
 > It is irrelevant whether you have errors in the log or not. During
 > the last year I had two problems:
 > 
 > 1. Failing disk controller
 > 
 > 2. Failing power supply (at leas one of the voltages and the power
 > loss was not permanent)
 > 
 > There was no error record at all. HD was just in a kind of wait
 > state which is not considered an error, it just makes everything
 > terribly slow.  Sometimes the disc stopped rotating for a while ad
 > then started to work again but it was not recorded as an error. Not
 > all kinds of error states are reported.

Zden?k, do you really think that Phil should ignore the warnings only
because your sytem crashed without any warning?

Phil said:
  "only 8 reported disc errors since the start of the year."

What are "disc errors"?  Are they harmless?  I'm alarmed if my system
tells me that there is something wrong with my disk.  Even if it's a
false alarm, I take such messages serious.  A broken disk is the least
thing I can afford.  I had a disk crash a few months ago.  However, no
data loss though.  I could restore everything from my backup disk.  My
heroes are the developers of rsync.  rsync allows me to backup my
system efficiently.  Nobody creates backups if it's inconvenient.
What I still don't understand is why rsync is so incredibly fast.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From zdenek.wagner at gmail.com  Tue Mar 17 00:59:56 2015
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 17 Mar 2015 00:59:56 +0100
Subject: [tex-live] Pathological search path for TeXMF.cnf
In-Reply-To: <21767.25980.837648.284474@zaphod.ms25.net>
References: <1AE0BD0116854E78B2F4231C0C3784B7@CJ3001517A>
 <55058E33.8060400@Rhul.Ac.Uk>	<55070CC2.6030800@Rhul.Ac.Uk>
 <CAKTOP47UXLZ531D+s98OM2Ns31VZQYrknSkoZqsqptJjq=BJXw@mail.gmail.com>
 <CAC1phyY_t0B1_AaLjcs3cb=PeogyDB=iLUCgx_Bp2TUj0_be5g@mail.gmail.com>
 <55072202.3040904@Rhul.Ac.Uk>
 <CAC1phybo_RqkRKMpYJ_g-y+WsO-KnaRj6p70_+SJxrAgNhcCNA@mail.gmail.com>
 <21767.25980.837648.284474@zaphod.ms25.net>
Message-ID: <CAC1phybNqW_Wxz2suTz6TgLUcTNzN4_sD9opRe4ycMTqdSP_wQ@mail.gmail.com>

2015-03-17 0:21 GMT+01:00 Reinhard Kotucha <reinhard.kotucha at web.de>:

> On 2015-03-16 at 22:31:43 +0100, Zdenek Wagner wrote:
>
>  > 2015-03-16 19:33 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:
>
>  > > But a quick look at the system error log suggests there is
>  > > nothing too much to worry about; only 8 reported disc errors
>  > > since the start of the year.
>  >
>  > It is irrelevant whether you have errors in the log or not. During
>  > the last year I had two problems:
>  >
>  > 1. Failing disk controller
>  >
>  > 2. Failing power supply (at leas one of the voltages and the power
>  > loss was not permanent)
>  >
>  > There was no error record at all. HD was just in a kind of wait
>  > state which is not considered an error, it just makes everything
>  > terribly slow.  Sometimes the disc stopped rotating for a while ad
>  > then started to work again but it was not recorded as an error. Not
>  > all kinds of error states are reported.
>
> Zden?k, do you really think that Phil should ignore the warnings only
> because your sytem crashed without any warning?
>

Of course not. I just wanted to write that HW may be failing without
showing any warning/error messages.

>
> Phil said:
>   "only 8 reported disc errors since the start of the year."
>
> What are "disc errors"?  Are they harmless?  I'm alarmed if my system
> tells me that there is something wrong with my disk.  Even if it's a
> false alarm, I take such messages serious.  A broken disk is the least
> thing I can afford.  I had a disk crash a few months ago.  However, no
> data loss though.  I could restore everything from my backup disk.  My
> heroes are the developers of rsync.  rsync allows me to backup my
> system efficiently.  Nobody creates backups if it's inconvenient.
> What I still don't understand is why rsync is so incredibly fast.
>

Copying opens a new connection for each file, if you copy a lot of small
files, you have large overhead. rsync does everything in one step. Anyway,
I do not use it, I use hdup2 instead because it gives me a history of
backup. I have already saved a few weeks of MD calculations when my
colleague's program crashed when writing configuration and he noticed only
after the backup was done. Due to hdup2 I was able to restore the
configuration from the previous day, thus only one day was lost, not
several weeks.

I bought new disks for my office computer this January because SMART
started reporting bad sectors. The disks might still be usable for some
time but the data on them are more expensive than the new disks. And I have
RAID, so I have replace one disk, waited a few hours for synchronization
and then replaced the second disk. It was not necessary to restore anything
from backups.

(But now we are going off topic.)

>
> Regards,
>   Reinhard
>
>

Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz



> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150317/dd96d566/attachment-0001.html>

From jfbu at free.fr  Mon Mar 23 17:38:28 2015
From: jfbu at free.fr (jfbu)
Date: Mon, 23 Mar 2015 17:38:28 +0100
Subject: [tex-live] Issues with Latin Modern
Message-ID: <2509F0E7-EFC0-4D7C-8448-C10EEFADA399@free.fr>

Hi all, 

I hope this mail will not be considered as too much off-list,
but I am trying to find a way to signal some problems in
the Latin Modern font definition files (or style file) I became 
aware of some years back already, reported back then (for 3 out of 4), 
but to no avail.

Notice that Problem A has recently re-surfaced on tex.stackexchange
and this is the reason why I end up writing this here.

http://tex.stackexchange.com/a/234020/4686

----

Problem A. Originally reported by mail to one of the maintainers
on January 11, 2011

> 
> Dear Mr Jackowski
> 
> I wanted to try out the options lighttt and
> variablett which I discovered through reading lmodern.sty
> 
> (I use the distribution TeXLive 2010)
> 
> It seems that some font shape substitutions are afflicted by typos
> in the files
> ./il2lmvtt.fd
> ./l7xlmvtt.fd
> ./ly1lmvtt.fd
> ./ot1lmvtt.fd
> ./ot4lmvtt.fd
> ./qxlmvtt.fd
> ./t1lmvtt.fd
> ./t5lmvtt.fd
> ./ts1lmvtt.fd
> 
> The typos appear inside the 
> \ifx\lmtt at use@light at as@normal\@empty
> ...
> \else
> 
> conditional. Here is from t1lmvtt.fd
> 
> \ifx\lmtt at use@light at as@normal\@empty
> % macro defined, so we use the light variant as medium (m), and
> % medium as semi-bold (sb):
> \DeclareFontShape{T1}{lmvtt}{sb}{n}
>     {<-> ec-lmvtt10}{}
> \DeclareFontShape{T1}{lmvtt}{sb}{sl}
>     {<-> ec-lmvtto10}{}
> \DeclareFontShape{T1}{lmvtt}{sb}{it}
> TYPO A     {<->sub*lmvtt/m/sl}{}
> %%%%%%%% light (l) and dark (b) variants:
> \DeclareFontShape{T1}{lmvtt}{m}{n}
>     {<-> ec-lmvtl10}{}
> \DeclareFontShape{T1}{lmvtt}{m}{sl}
>     {<-> ec-lmvtlo10}{}
> \DeclareFontShape{T1}{lmvtt}{m}{it}
> TYPO B     {<->sub*lmvtt/l/sl}{}
> 
> I think the "TYPO A" line should read {<->sub*lmvtt/sb/sl}{}
> and "TYPO B" line should read {<->sub*lmvtt/m/sl}{}
> 
> Furthermore the commented line in the middle should read "light (l) as medium"
> 
> Best regards


Problem A, part II. 

Similarly reported by mail on January 11, 2011. 

[the letter was on ot4lmtt.fd, but it is the same for T1 etc...; I checked on my up-to-date TL2014 today that nothing has changed at least for T1, I did not go and check again OT4]

> Dear Boguslaw
> 
> the same problems I mentioned for the *lmvtt.fd files is present also in the *lmtt.fd files
> 
> e.g. from ot4lmtt.fd, inside the \ifx\lmtt at use@light at as@normal\@empty conditional
> 
> \DeclareFontShape{OT4}{lmtt}{m}{it}
>     {<->sub*lmtt/l/sl}{}
> 
> but \DeclareFontShape{OT4}{lmtt}{l}{sl} appears only after the \else (and before the \fi)
> 
> so I think it should be
> \DeclareFontShape{OT4}{lmtt}{m}{it}
>     {<->sub*lmtt/m/sl}{}
> 
> quite probably this is the same in all other *lmtt.fd files
> 
> regards,
> 
> Jean-Francois

----

Problem B. reported by mail on October 22, 2012.
 
> Dear Boguslaw Jackowski
> 
> the lmodern.sty file contains the line 
> 
> \SetMathAlphabet{\mathtt}{bold}  {OT1}{lmtt}{m}{n} 
> 
> but there is a bold lmtt, so shouldn't the above line
> be
> 
> \SetMathAlphabet{\mathtt}{bold}  {OT1}{lmtt}{b}{n} 
> 
> ?
> 
> regards,
> 
> Jean-Fran?ois Burnol

other version found in my outbox

> Hi,
> 
> the Latin Modern fonts include a bold typewriter that
> you can see with \texttt{\textbf{hello}} for example
> 
> (true of OT1 as well as T1 encoding for example)
> 
> however the lmodern.sty file contains the line
> 
> \SetMathAlphabet{\mathtt}{bold}  {OT1}{lmtt}{m}{n}
> 
> As a result \mathversion{bold} $\mathtt{hello}$
> is not bold (contrarily to what happens with \mathsf or
> \mathit)
> 
> Thus I believe the above line should be
> 
> \SetMathAlphabet{\mathtt}{bold}  {OT1}{lmtt}{b}{n}
> 
> What is the best way to inform the lmodern maintainers?
> 
> Regards,
> 
> Jean-Francois

----

Problem C. Reported on c.t.tex on October 5, 2012.

I see now that I should report it to the current maintainer
Claudio Beccari, perhaps he sees this on TeXLive mailing list,
else I will also report to him. (I checked that the bug 
still holds for the 2014 version). Thus this problem was
not properly transmitted to maintainer so far. (I think)

> Hi,
> 
> There is a problem with font definition file for
> Latin Modern in LGR encoding which on my system is
> there:
> 
> /usr/local/texlive/2012/texmf-dist/tex/generic/babel/lgrlmr.fd
> 
> This problem show up in size 6 for the bold variant,
> there are two missing letters at the ends of lines 88 and 93
> of the file. These lines should read, respectively:
> 
>     {<-5.5>    grxn0500      <5.5-6.5> grxn0600
> 
> and
> 
>     {<-5.5>    gmxn0500      <5.5-6.5> gmxn0600
> 
> I don't know to whom communicate that information in the most
> efficient manner, this is why I post here.
> 
> The fix is to put a copy of the original file, modified
> as above in your local texmf tree.
> 

----

Problem D. Reported by mail to Latin Modern maintainer on October 27, 2012.

> \documentclass{article}
> % Time-stamp: <27-10-2012 12:25:25 CEST jfb>
> % TL2012 (updated today October 27) on a mac os x
> 
> % \setminus does not show up with TGTermes-Math, TGPagella-math,
> % LatinModern-Math Math (but ok with Asana-Math or xits-math.)
> % 
> 
> \usepackage{ifluatex}
> \usepackage{unicode-math} 
> \ifluatex
> \setmathfont{TGTermes-Math}
> \else 
> % xetex
> \setmathfont[ExternalLocation]{texgyretermes-math}
> \fi
> 
> \begin{document}
> The setminus symbol does not show up:
> $A\setminus B$
> 
> Identical results whether XeTeX or LuaLatex.
> 
> Same with Latin Modern Math and TeX Gyre Pagella Math, but ok
> with XITS and Asana-Math.
> \end{document}

Note that in the above one should now use

\setmathfont{TeX Gyre Termes Math}

for the lualatex branch

because font names have changed since TL2012. 

The other branch for xelatex has this form because I am
on mac os x, and the files have not been made known to the system

But anyhow the problem about \setminus is still there.

Thank you for your patience

Jean-Fran?ois

From CLIENTSW2 at CSBSJU.EDU  Tue Mar 24 17:32:21 2015
From: CLIENTSW2 at CSBSJU.EDU (Client Group IT Services Student Worker 2 (Andrew Honzay))
Date: Tue, 24 Mar 2015 16:32:21 +0000
Subject: [tex-live] Remote installation in Windows
Message-ID: <E4B9283BE2C64A43A05095D4B789B53C4CECB0F3@MAIL-MBX1.ad.csbsju.edu>

Good morning,

I have been trying to find a way of remotely installing Texlive using a interal distribution point. I think the issue I am having currently is the "Directory for temporary files" being set to a user's context. Is there a way for me to change this directory to something like "C:\Windows"? I have attached the texlive.profile file I have been using.

"\\PathToBat\install-tl-advanced.bat" --profile "texlive.profile" -all-options  --repository "\\PathToTlnet\tlnet" -logfile "C:\Logs\TexLive"

This is the script I am using to start the Texlive installation. It works on the computer I am using, but does not work on a computer which doesn't have a user logged in.

Thank you,
Andrew Honzay
IT Services
CSBSJU


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20150324/bbcc5ed8/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texlive.profile
Type: application/octet-stream
Size: 2050 bytes
Desc: texlive.profile
URL: <http://tug.org/pipermail/tex-live/attachments/20150324/bbcc5ed8/attachment.obj>

From P.Taylor at Rhul.Ac.Uk  Tue Mar 24 18:22:02 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 24 Mar 2015 17:22:02 +0000
Subject: [tex-live] Remote installation in Windows
In-Reply-To: <E4B9283BE2C64A43A05095D4B789B53C4CECB0F3@MAIL-MBX1.ad.csbsju.edu>
References: <E4B9283BE2C64A43A05095D4B789B53C4CECB0F3@MAIL-MBX1.ad.csbsju.edu>
Message-ID: <55119D3A.8010309@Rhul.Ac.Uk>



Client Group IT Services Student Worker 2 (Andrew Honzay) wrote:

> This is the script I am using to start the Texlive installation. It
> works on the computer I am using, but does not work on a computer which
> doesn?t have a user logged in.

What happens if you explicitly set the environment variable "temp" (all 
case variants !) before invoking \\PathToBat\install-tl-advanced.bat ?

Philip Taylor

From P.Taylor at Rhul.Ac.Uk  Wed Mar 25 15:46:30 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 25 Mar 2015 14:46:30 +0000
Subject: [tex-live] Remote installation in Windows
In-Reply-To: <E4B9283BE2C64A43A05095D4B789B53C4CECF37E@MAIL-MBX1.ad.csbsju.edu>
References: <E4B9283BE2C64A43A05095D4B789B53C4CECB0F3@MAIL-MBX1.ad.csbsju.edu>
 <55119D3A.8010309@Rhul.Ac.Uk>
 <E4B9283BE2C64A43A05095D4B789B53C4CECF37E@MAIL-MBX1.ad.csbsju.edu>
Message-ID: <5512CA46.2090803@Rhul.Ac.Uk>



Client Group IT Services Student Worker 2 (Andrew Honzay) wrote:

>> What happens if you explicitly set the environment variable "temp" (all case variants !) before invoking \\PathToBat\install-tl-advanced.bat ?
> I changed the user variable TEMP and TMP of my own account to C:\Temp. This worked for changing the directory while I am logged on, however, the computers I would like to install on will be at the CTRL + ALT + DELETE screen and will not have a user environment in which to work. Is it possible to do an install within those parameters?

What I meant was to set "TEMP" (and friends) within a script that goes 
on to invoke \\PathToBat\install-tl-advanced.bat, Andrew.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Wed Mar 25 17:42:14 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 25 Mar 2015 16:42:14 +0000
Subject: [tex-live] Remote installation in Windows
In-Reply-To: <E4B9283BE2C64A43A05095D4B789B53C4CED541D@MAIL-MBX1.ad.csbsju.edu>
References: <E4B9283BE2C64A43A05095D4B789B53C4CECB0F3@MAIL-MBX1.ad.csbsju.edu>
 <55119D3A.8010309@Rhul.Ac.Uk>
 <E4B9283BE2C64A43A05095D4B789B53C4CECF37E@MAIL-MBX1.ad.csbsju.edu>
 <5512CA46.2090803@Rhul.Ac.Uk>
 <E4B9283BE2C64A43A05095D4B789B53C4CED541D@MAIL-MBX1.ad.csbsju.edu>
Message-ID: <5512E566.9040006@Rhul.Ac.Uk>



Client Group IT Services Student Worker 2 (Andrew Honzay) wrote:

> I created a simple bat script that set "TEMP", etc. However, the installer does not run at the CTRL + ALT + DELETE screen.

OK, then I am sorry but I do not think I can be of further help (if 
indeed I have been of any help at all).

** Phil.

