From martinfeck at aol.com  Wed Jun  1 08:56:17 2016
From: martinfeck at aol.com (Martin Feck)
Date: Wed, 1 Jun 2016 08:56:17 +0200
Subject: [tex-live] tlmgr does not work
In-Reply-To: <mailman.4391.1464710452.3842.tex-live@tug.org>
References: <mailman.4391.1464710452.3842.tex-live@tug.org>
Message-ID: <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>

Hi there,

tlmgr does not work correct ...

xelatex martin # tlmgr --version
tlmgr revision 39298 (2016-01-07 03:44:29 +0100)
tlmgr using installation: /usr/local/texlive/2016
TeX Live (http://tug.org/texlive) version 2016

Message:

xelatex martin # tlmgr --gui
Lade lokale TeX Live Datenbank
   (/usr/local/texlive/2016/tlpkg/texlive.tlpdb)
Dies kann eine Weile dauern, bitte warten ...
Unknown directive ...containerchecksum 
c59200574a316416a23695c258edf3a32531fbda43ccdc09360ee105c3f07f9fb77df17c4ba4c2ea4f3a5ea6667e064b51e3d8c2fe6c984ba3e71b4e32716955... 
, please fix it! at /usr/local/texlive/2016/tlpkg/TeXLive/TLPOBJ.pm line 
210, <TMP> line 36.
Compilation failed in require at /usr/local/bin/tlmgr line 4654, <TMP> 
line 36.

Is there a solution?

Best regards

Martin Feck

-------------- next part --------------
A non-text attachment was scrubbed...
Name: martinfeck.vcf
Type: text/x-vcard
Size: 100 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160601/d73aedf5/attachment.vcf>

From preining at logic.at  Wed Jun  1 09:19:30 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 1 Jun 2016 16:19:30 +0900
Subject: [tex-live] tlmgr does not work
In-Reply-To: <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>
References: <mailman.4391.1464710452.3842.tex-live@tug.org>
 <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>
Message-ID: <20160601071930.GO965@logic.at>

Hi Martin,

> tlmgr does not work correct ...

no, it *does* work correctly.

> Is there a solution?

Yes, reading the archives ... reported some time ago. Including
the solution: Use
	tlmgr-update-latest.sh
from the tlpretest area.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed Jun  1 09:32:11 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 1 Jun 2016 16:32:11 +0900
Subject: [tex-live] tlmgr does not work
In-Reply-To: <ed6535c8-4099-87ab-0846-32536187f72b@aol.com>
References: <mailman.4391.1464710452.3842.tex-live@tug.org>
 <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>
 <20160601071930.GO965@logic.at>
 <ed6535c8-4099-87ab-0846-32536187f72b@aol.com>
Message-ID: <20160601073211.GP965@logic.at>

Hi Martin,

(please keep list in Cc)

> tlmgr-update-latest.sh
> from the tlpretest area.

Output of running the program?

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed Jun  1 10:41:59 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 1 Jun 2016 17:41:59 +0900
Subject: [tex-live] tlmgr does not work
In-Reply-To: <72d03c8a-b752-e8e5-2d23-972f3166d49b@aol.com>
References: <mailman.4391.1464710452.3842.tex-live@tug.org>
 <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>
 <20160601071930.GO965@logic.at>
 <ed6535c8-4099-87ab-0846-32536187f72b@aol.com>
 <20160601073211.GP965@logic.at>
 <72d03c8a-b752-e8e5-2d23-972f3166d49b@aol.com>
Message-ID: <7E426BAC-454A-4A33-A1A1-206BF9915B95@logic.at>

Hi Martin

Again, please keep the mailing list in Cc...




>nothing, the window is closed very fast ... i can not read anything.

Which window???? You are running Linux, right?

Please open a terminal, change the directory to three place where the update-tlmgr-latest.sh is, then type
   bash update-tlmgr-latest.sh
And copy and paste the output into an email.

Norbert

-- 
Sent from my mobile device. Please excuse my brevity.

From martinfeck at aol.com  Wed Jun  1 10:50:40 2016
From: martinfeck at aol.com (Martin Feck)
Date: Wed, 1 Jun 2016 10:50:40 +0200
Subject: [tex-live] tlmgr does not work
In-Reply-To: <84300cf1-a537-11e3-f86e-ff15bd47f06d@aol.com>
References: <mailman.4391.1464710452.3842.tex-live@tug.org>
 <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>
 <20160601071930.GO965@logic.at>
 <ed6535c8-4099-87ab-0846-32536187f72b@aol.com>
 <20160601073211.GP965@logic.at>
 <72d03c8a-b752-e8e5-2d23-972f3166d49b@aol.com>
 <7E426BAC-454A-4A33-A1A1-206BF9915B95@logic.at>
 <84300cf1-a537-11e3-f86e-ff15bd47f06d@aol.com>
Message-ID: <c33c3993-2969-8f97-b156-c7309e038710@aol.com>

Hi Norbert,


this is the output:

xelatex Schreibtisch #  bash update-tlmgr-latest.sh
Verifying archive integrity...Error in MD5 checksums: 
990ca70d7aa935a579a1ed0715dd2e25 is different from 
3a0eb7c90a643395481f525056ae8335
xelatex Schreibtisch #

Martin Feck


Am 01.06.2016 um 10:46 schrieb Martin Feck:
> Hi Norbert,
>
>
> this is the output ...
>
> xelatex Schreibtisch #  bash update-tlmgr-latest.sh
> Verifying archive integrity...Error in MD5 checksums: 
> 990ca70d7aa935a579a1ed0715dd2e25 is different from 
> 3a0eb7c90a643395481f525056ae8335
>
> Martin Feck
>
> Am 01.06.2016 um 10:41 schrieb Norbert Preining:
>> Hi Martin
>>
>> Again, please keep the mailing list in Cc...
>>
>>
>>
>>
>>> nothing, the window is closed very fast ... i can not read anything.
>> Which window???? You are running Linux, right?
>>
>> Please open a terminal, change the directory to three place where the 
>> update-tlmgr-latest.sh is, then type
>>     bash update-tlmgr-latest.sh
>> And copy and paste the output into an email.
>>
>> Norbert
>>
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: martinfeck.vcf
Type: text/x-vcard
Size: 100 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160601/0bcafae8/attachment-0001.vcf>

From preining at logic.at  Wed Jun  1 10:52:16 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 1 Jun 2016 17:52:16 +0900
Subject: [tex-live] tlmgr does not work
In-Reply-To: <84300cf1-a537-11e3-f86e-ff15bd47f06d@aol.com>
References: <mailman.4391.1464710452.3842.tex-live@tug.org>
 <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>
 <20160601071930.GO965@logic.at>
 <ed6535c8-4099-87ab-0846-32536187f72b@aol.com>
 <20160601073211.GP965@logic.at>
 <72d03c8a-b752-e8e5-2d23-972f3166d49b@aol.com>
 <7E426BAC-454A-4A33-A1A1-206BF9915B95@logic.at>
 <84300cf1-a537-11e3-f86e-ff15bd47f06d@aol.com>
Message-ID: <76F18E02-608D-47DD-A03D-2886B5CC4AFD@logic.at>

Your download is corrupted. Delete the file and redownload it.

On June 1, 2016 5:46:42 PM GMT+09:00, Martin Feck <martinfeck at aol.com> wrote:
>Hi Norbert,
>
>
>this is the output ...
>
>xelatex Schreibtisch #  bash update-tlmgr-latest.sh
>Verifying archive integrity...Error in MD5 checksums: 
>990ca70d7aa935a579a1ed0715dd2e25 is different from 
>3a0eb7c90a643395481f525056ae8335
>
>Martin Feck
>
>Am 01.06.2016 um 10:41 schrieb Norbert Preining:
>> Hi Martin
>>
>> Again, please keep the mailing list in Cc...
>>
>>
>>
>>
>>> nothing, the window is closed very fast ... i can not read anything.
>> Which window???? You are running Linux, right?
>>
>> Please open a terminal, change the directory to three place where the
>update-tlmgr-latest.sh is, then type
>>     bash update-tlmgr-latest.sh
>> And copy and paste the output into an email.
>>
>> Norbert
>>

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From martinfeck at aol.com  Wed Jun  1 10:58:34 2016
From: martinfeck at aol.com (Martin Feck)
Date: Wed, 1 Jun 2016 10:58:34 +0200
Subject: [tex-live] tlmgr does not work
In-Reply-To: <76F18E02-608D-47DD-A03D-2886B5CC4AFD@logic.at>
References: <mailman.4391.1464710452.3842.tex-live@tug.org>
 <e1476f00-3c2e-ffe2-d4c6-2e67c028d942@aol.com>
 <20160601071930.GO965@logic.at>
 <ed6535c8-4099-87ab-0846-32536187f72b@aol.com>
 <20160601073211.GP965@logic.at>
 <72d03c8a-b752-e8e5-2d23-972f3166d49b@aol.com>
 <7E426BAC-454A-4A33-A1A1-206BF9915B95@logic.at>
 <84300cf1-a537-11e3-f86e-ff15bd47f06d@aol.com>
 <76F18E02-608D-47DD-A03D-2886B5CC4AFD@logic.at>
Message-ID: <3774f6fb-00a4-f376-94fd-9a2106e33a15@aol.com>

Hi Norbert,


I have already done ten times, without success ... can you send me a 
working one, please??


Martin Feck


Am 01.06.2016 um 10:52 schrieb Norbert Preining:
> Your download is corrupted. Delete the file and redownload it.
>
> On June 1, 2016 5:46:42 PM GMT+09:00, Martin Feck <martinfeck at aol.com> wrote:
>> Hi Norbert,
>>
>>
>> this is the output ...
>>
>> xelatex Schreibtisch #  bash update-tlmgr-latest.sh
>> Verifying archive integrity...Error in MD5 checksums:
>> 990ca70d7aa935a579a1ed0715dd2e25 is different from
>> 3a0eb7c90a643395481f525056ae8335
>>
>> Martin Feck
>>
>> Am 01.06.2016 um 10:41 schrieb Norbert Preining:
>>> Hi Martin
>>>
>>> Again, please keep the mailing list in Cc...
>>>
>>>
>>>
>>>
>>>> nothing, the window is closed very fast ... i can not read anything.
>>> Which window???? You are running Linux, right?
>>>
>>> Please open a terminal, change the directory to three place where the
>> update-tlmgr-latest.sh is, then type
>>>      bash update-tlmgr-latest.sh
>>> And copy and paste the output into an email.
>>>
>>> Norbert
>>>
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160601/78e3778e/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: martinfeck.vcf
Type: text/x-vcard
Size: 100 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160601/78e3778e/attachment.vcf>

From martinfeck at aol.com  Wed Jun  1 12:58:57 2016
From: martinfeck at aol.com (Martin Feck)
Date: Wed, 1 Jun 2016 12:58:57 +0200
Subject: [tex-live] tex-live Digest, Vol 161, Issue 3
In-Reply-To: <mailman.3.1464775202.17860.tex-live@tug.org>
References: <mailman.3.1464775202.17860.tex-live@tug.org>
Message-ID: <3073b347-d11a-4037-e4ad-f2ab419fc51f@aol.com>

Hi there,

downloading bash file update-tlmgr-latest.sh from: 
http://mirror.hmc.edu/tlpretest/ solve the problem.

tanks a lot

Martin Feck


Am 01.06.2016 um 12:00 schrieb tex-live-request at tug.org:
> Send tex-live mailing list submissions to
> 	tex-live at tug.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	http://tug.org/mailman/listinfo/tex-live
> or, via email, send a message with subject or body 'help' to
> 	tex-live-request at tug.org
>
> You can reach the person managing the list at
> 	tex-live-owner at tug.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of tex-live digest..."
>
>
> Today's Topics:
>
>     1. Re: tlmgr does not work (Norbert Preining)
>     2. Re: tlmgr does not work (Martin Feck)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Wed, 1 Jun 2016 17:52:16 +0900
> From: Norbert Preining <preining at logic.at>
> To: Martin Feck <martinfeck at aol.com>, <tex-live at tug.org>
> Subject: Re: [tex-live] tlmgr does not work
> Message-ID: <76F18E02-608D-47DD-A03D-2886B5CC4AFD at logic.at>
> Content-Type: text/plain; charset="utf-8"
>
> Your download is corrupted. Delete the file and redownload it.
>
> On June 1, 2016 5:46:42 PM GMT+09:00, Martin Feck <martinfeck at aol.com> wrote:
>> Hi Norbert,
>>
>>
>> this is the output ...
>>
>> xelatex Schreibtisch #  bash update-tlmgr-latest.sh
>> Verifying archive integrity...Error in MD5 checksums:
>> 990ca70d7aa935a579a1ed0715dd2e25 is different from
>> 3a0eb7c90a643395481f525056ae8335
>>
>> Martin Feck
>>
>> Am 01.06.2016 um 10:41 schrieb Norbert Preining:
>>> Hi Martin
>>>
>>> Again, please keep the mailing list in Cc...
>>>
>>>
>>>
>>>
>>>> nothing, the window is closed very fast ... i can not read anything.
>>> Which window???? You are running Linux, right?
>>>
>>> Please open a terminal, change the directory to three place where the
>> update-tlmgr-latest.sh is, then type
>>>      bash update-tlmgr-latest.sh
>>> And copy and paste the output into an email.
>>>
>>> Norbert
>>>
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
>
> ------------------------------
>
> Message: 2
> Date: Wed, 1 Jun 2016 10:58:34 +0200
> From: Martin Feck <martinfeck at aol.com>
> To: Norbert Preining <preining at logic.at>, tex-live at tug.org
> Subject: Re: [tex-live] tlmgr does not work
> Message-ID: <3774f6fb-00a4-f376-94fd-9a2106e33a15 at aol.com>
> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>
> Hi Norbert,
>
>
> I have already done ten times, without success ... can you send me a
> working one, please??
>
>
> Martin Feck
>
>
> Am 01.06.2016 um 10:52 schrieb Norbert Preining:
>> Your download is corrupted. Delete the file and redownload it.
>>
>> On June 1, 2016 5:46:42 PM GMT+09:00, Martin Feck <martinfeck at aol.com> wrote:
>>> Hi Norbert,
>>>
>>>
>>> this is the output ...
>>>
>>> xelatex Schreibtisch #  bash update-tlmgr-latest.sh
>>> Verifying archive integrity...Error in MD5 checksums:
>>> 990ca70d7aa935a579a1ed0715dd2e25 is different from
>>> 3a0eb7c90a643395481f525056ae8335
>>>
>>> Martin Feck
>>>
>>> Am 01.06.2016 um 10:41 schrieb Norbert Preining:
>>>> Hi Martin
>>>>
>>>> Again, please keep the mailing list in Cc...
>>>>
>>>>
>>>>
>>>>
>>>>> nothing, the window is closed very fast ... i can not read anything.
>>>> Which window???? You are running Linux, right?
>>>>
>>>> Please open a terminal, change the directory to three place where the
>>> update-tlmgr-latest.sh is, then type
>>>>       bash update-tlmgr-latest.sh
>>>> And copy and paste the output into an email.
>>>>
>>>> Norbert
>>>>
>> --
>> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
>> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <http://tug.org/pipermail/tex-live/attachments/20160601/78e3778e/attachment-0001.html>
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: martinfeck.vcf
> Type: text/x-vcard
> Size: 100 bytes
> Desc: not available
> URL: <http://tug.org/pipermail/tex-live/attachments/20160601/78e3778e/attachment-0001.vcf>
>
> ------------------------------
>
> Subject: Digest Footer
>
> _______________________________________________
> tex-live mailing list
> tex-live at tug.org
> http://tug.org/mailman/listinfo/tex-live
>
>
> ------------------------------
>
> End of tex-live Digest, Vol 161, Issue 3
> ****************************************

-------------- next part --------------
A non-text attachment was scrubbed...
Name: martinfeck.vcf
Type: text/x-vcard
Size: 100 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160601/23faab6e/attachment.vcf>

From tex at axelkielhorn.de  Wed Jun  1 17:31:06 2016
From: tex at axelkielhorn.de (Axel Kielhorn)
Date: Wed, 1 Jun 2016 17:31:06 +0200
Subject: [tex-live] Bug in TL infra
In-Reply-To: <201605312142.u4VLgO65015749@freefriends.org>
References: <201605312142.u4VLgO65015749@freefriends.org>
Message-ID: <2EC444E7-5D8E-4110-806E-A590F8CE15CB@axelkielhorn.de>


> Am 31.05.2016 um 23:42 schrieb Karl Berry <karl at freefriends.org>:
> 
> Hi Axel,
> 
>    A space in a filename is a really bad thing.
> 
> We go to great lengths to support spaces in file/directory names in
> general.  Obviously we fell down when it comes to runme.sh.

?Macintosh HD? is the default name for the first volume on Mac OS since ages.
This would normally not be a problem, since runme.sh uses the path:

/usr/local/texlive/2016

But I have a dual boot system with TeXLive on one volume and some links on the other.
When I run runme.sh on the second system the path will be turned into

/Volumen/Macntosh HD/usr local/texlive/2016

Thus an ordinary user will probably not fall into that trap.

This also explains why an infra update sometimes success (run on system 1) and sometimes fails (run on system 2). I didn?t realize that this was a problem since everything else works.

>  I'll
> install your fix and work further on it after updates resume.
> 
> -  for a in $ROOT/bin/*; do
> +  for a in "$ROOT/bin/*"; do
> 
> I'm guessing that should be "$ROOT"/bin/* -- want the wildcard
> expansion, not a literal "*?.

Ooops, you are right.

Axel



From preining at logic.at  Thu Jun  2 05:07:27 2016
From: preining at logic.at (Norbert Preining)
Date: Thu, 2 Jun 2016 12:07:27 +0900
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <d2c87843-d779-1674-9d0e-dd9f90344c39@gmx.net>
References: <2f7dbcca-290b-9db0-9be7-4baca67e3802@gmx.net>
 <20160531002547.GV965@logic.at>
 <d2c87843-d779-1674-9d0e-dd9f90344c39@gmx.net>
Message-ID: <20160602030727.GA22897@logic.at>

Hi Bernhard, (and everyone who is running TL on Windows)

I have tested this now and I see a similar behaviour, although not
as slow as on your side.

BUT, I see a very fast shutdown when I do *not* load the remote tlpdb.
I am not sure whether this depends on rather minimal installation
I am testing on Windows or something else.

Can you please start the gui, and then simply exit it again without
loading hte remote dbs. Is it a fast or slow finish?

And before I hear the answer - here my theory: Loading the 3000 packages
and displaying them creates a lot of Tk instances in the table. They
need all be destroyed, this happens automatically in the background,
but it seems to take quite some time on Windows.

ANyway, if those with a *full* TL installation could do the above
test I would be happy.

Thanks

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From bernhard.kleine at gmx.net  Thu Jun  2 11:04:19 2016
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Thu, 2 Jun 2016 11:04:19 +0200
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <20160602030727.GA22897@logic.at>
References: <2f7dbcca-290b-9db0-9be7-4baca67e3802@gmx.net>
 <20160531002547.GV965@logic.at>
 <d2c87843-d779-1674-9d0e-dd9f90344c39@gmx.net>
 <20160602030727.GA22897@logic.at>
Message-ID: <181af83b-2feb-8e91-8bed-468f06d540b8@gmx.net>

Am 02.06.2016 um 05:07 schrieb Norbert Preining:
> Hi Bernhard, (and everyone who is running TL on Windows)
>
> I have tested this now and I see a similar behaviour, although not
> as slow as on your side.
>
> BUT, I see a very fast shutdown when I do *not* load the remote tlpdb.
> I am not sure whether this depends on rather minimal installation
> I am testing on Windows or something else.
>
> Can you please start the gui, and then simply exit it again without
> loading hte remote dbs. Is it a fast or slow finish?
>
> And before I hear the answer - here my theory: Loading the 3000 packages
> and displaying them creates a lot of Tk instances in the table. They
> need all be destroyed, this happens automatically in the background,
> but it seems to take quite some time on Windows.
>
> ANyway, if those with a *full* TL installation could do the above
> test I would be happy.
>
> Thanks
>
> Norbert
>
The tlmgr shutdown after solely opening tlmgr without any activity takes
50 sec.
Bernhard



From josef.kleber at gmx.de  Thu Jun  2 15:30:48 2016
From: josef.kleber at gmx.de (Josef Kleber)
Date: Thu, 2 Jun 2016 15:30:48 +0200
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <20160602030727.GA22897@logic.at>
References: <2f7dbcca-290b-9db0-9be7-4baca67e3802@gmx.net>
 <20160531002547.GV965@logic.at>
 <d2c87843-d779-1674-9d0e-dd9f90344c39@gmx.net>
 <20160602030727.GA22897@logic.at>
Message-ID: <4cc1d355-0e68-9404-0113-c97243118dc2@gmx.de>

Am 02.06.2016 um 05:07 schrieb Norbert Preining:
> Hi Bernhard, (and everyone who is running TL on Windows)
> 
> I have tested this now and I see a similar behaviour, although not
> as slow as on your side.
> 
> BUT, I see a very fast shutdown when I do *not* load the remote tlpdb.
> I am not sure whether this depends on rather minimal installation
> I am testing on Windows or something else.
> 
> Can you please start the gui, and then simply exit it again without
> loading hte remote dbs. Is it a fast or slow finish?

Here (Win10, TL2016pretest), it's about 25-30 seconds in both cases.
Loading remote tlpdb doesn't matter!

Josef


-- 
PGP Public Key:
http://kirza.kleberj.de/pgp
DAA2 4AA6 5157 AD05 F6B8 043A D1BE 1EEA 86C6 4C5F
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x86C64C5F.asc
Type: application/pgp-keys
Size: 4725 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160602/32abd05f/attachment.bin>

From josef.kleber at gmx.de  Thu Jun  2 15:37:49 2016
From: josef.kleber at gmx.de (Josef Kleber)
Date: Thu, 2 Jun 2016 15:37:49 +0200
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <4cc1d355-0e68-9404-0113-c97243118dc2@gmx.de>
References: <2f7dbcca-290b-9db0-9be7-4baca67e3802@gmx.net>
 <20160531002547.GV965@logic.at>
 <d2c87843-d779-1674-9d0e-dd9f90344c39@gmx.net>
 <20160602030727.GA22897@logic.at>
 <4cc1d355-0e68-9404-0113-c97243118dc2@gmx.de>
Message-ID: <4907c2a2-e297-7274-7d74-cd3eba1f612b@gmx.de>

Am 02.06.2016 um 15:30 schrieb Josef Kleber:
> Here (Win10, TL2016pretest), it's about 25-30 seconds in both cases.
> Loading remote tlpdb doesn't matter!

BTW, it's the same with TL2015! I don't have older TLs installed.

Josef

-- 
PGP Public Key:
http://kirza.kleberj.de/pgp
DAA2 4AA6 5157 AD05 F6B8 043A D1BE 1EEA 86C6 4C5F
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x86C64C5F.asc
Type: application/pgp-keys
Size: 4725 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160602/1997afc6/attachment-0001.bin>

From siepo at cybercomm.nl  Thu Jun  2 16:05:52 2016
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 2 Jun 2016 16:05:52 +0200
Subject: [tex-live] Unable to use install-tl-windows.exe: "Windows XP
 earliest supported version; aborting..."
In-Reply-To: <CAD0jTRuDLCwBqRGL-vK7rjA4rh1UXy-h=nArVBDxszYBnoRuew@mail.gmail.com>
References: <CAD0jTRuDLCwBqRGL-vK7rjA4rh1UXy-h=nArVBDxszYBnoRuew@mail.gmail.com>
Message-ID: <20160602140552.GA6399@bitmuis.thuis.internal>

On Tue, May 31, 2016 at 02:06:52PM -0500, Jon Hood wrote:
> When trying to run install-tl-windows.exe from
> https://www.tug.org/texlive/acquire-netinstall.html I receive an
> immediate pop-up stating, "Windows XP earliest supported version;
> aborting..."
> 
> My platform: Windows 7 Enterprise Service Pack 1 64-bit
> 
> Current workaround: open install-tl-windows.exe in 7zip and extract
> the install-tl-20160405 folder. Run install-tl-windows.bat from the
> extracted folder
> 
> Thanks,
> Jon

I cannot reproduce this with a freshly-downloaded
install-tl-windows.exe on Windows 10 64-bit, and have no idea what
may have caused this.

-- 
Siep Kroonenberg

From ziegenhagen at gmail.com  Thu Jun  2 16:13:50 2016
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Thu, 2 Jun 2016 16:13:50 +0200
Subject: [tex-live] Unable to use install-tl-windows.exe: "Windows XP
 earliest supported version; aborting..."
In-Reply-To: <20160602140552.GA6399@bitmuis.thuis.internal>
References: <CAD0jTRuDLCwBqRGL-vK7rjA4rh1UXy-h=nArVBDxszYBnoRuew@mail.gmail.com>
 <20160602140552.GA6399@bitmuis.thuis.internal>
Message-ID: <D3DEC87D-DF9B-4541-A97F-658FD4F3EAB6@gmail.com>

How does the Script determine the windows version it is running on? I would assume windows 7 Enterprise is using a Different identifier than win7 home Or Professional. 

Uwe

Von meinem iPhone gesendet

> Am 02.06.2016 um 16:05 schrieb Siep Kroonenberg <siepo at cybercomm.nl>:
> 
>> On Tue, May 31, 2016 at 02:06:52PM -0500, Jon Hood wrote:
>> When trying to run install-tl-windows.exe from
>> https://www.tug.org/texlive/acquire-netinstall.html I receive an
>> immediate pop-up stating, "Windows XP earliest supported version;
>> aborting..."
>> 
>> My platform: Windows 7 Enterprise Service Pack 1 64-bit
>> 
>> Current workaround: open install-tl-windows.exe in 7zip and extract
>> the install-tl-20160405 folder. Run install-tl-windows.bat from the
>> extracted folder
>> 
>> Thanks,
>> Jon
> 
> I cannot reproduce this with a freshly-downloaded
> install-tl-windows.exe on Windows 10 64-bit, and have no idea what
> may have caused this.
> 
> -- 
> Siep Kroonenberg


From preining at logic.at  Thu Jun  2 17:25:25 2016
From: preining at logic.at (Norbert Preining)
Date: Fri, 3 Jun 2016 00:25:25 +0900
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <4cc1d355-0e68-9404-0113-c97243118dc2@gmx.de>
 <181af83b-2feb-8e91-8bed-468f06d540b8@gmx.net>
Message-ID: <20160602152525.GX965@logic.at>

On Thu, 02 Jun 2016, Bernhard Kleine wrote:
> The tlmgr shutdown after solely opening tlmgr without any activity takes
> 50 sec.

On Thu, 02 Jun 2016, Josef Kleber wrote:
> Here (Win10, TL2016pretest), it's about 25-30 seconds in both cases.
> Loading remote tlpdb doesn't matter!

Do both of you have texlive-full installed?

This is my guess ...

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From siepo at cybercomm.nl  Thu Jun  2 17:27:15 2016
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 2 Jun 2016 17:27:15 +0200
Subject: [tex-live] Unable to use install-tl-windows.exe: "Windows XP
 earliest supported version; aborting..."
In-Reply-To: <D3DEC87D-DF9B-4541-A97F-658FD4F3EAB6@gmail.com>
References: <CAD0jTRuDLCwBqRGL-vK7rjA4rh1UXy-h=nArVBDxszYBnoRuew@mail.gmail.com>
 <20160602140552.GA6399@bitmuis.thuis.internal>
 <D3DEC87D-DF9B-4541-A97F-658FD4F3EAB6@gmail.com>
Message-ID: <20160602152715.GB6399@bitmuis.thuis.internal>

On Thu, Jun 02, 2016 at 04:13:50PM +0200, Uwe Ziegenhagen wrote:
> How does the Script determine the windows version it is running on? I would assume windows 7 Enterprise is using a Different identifier than win7 home Or Professional. 

The edition (home/pro/enterprise) is independent from the version
(xp/vista/w7/w8/w10).  The nsis wrapper script loads the WinVer.nsh
header file for testing the version, not the edition. This header
file does have special code for server versions but that is another
story.

I just realized that I have remote access to a windows 7 enterprise.
On that system, too, I could start up the `real' installer.

I am reluctant to spend a lot of time on this: there have been no
recent changes in this wrapper, I recall no similar error reports, I
cannot reproduce the problem, and the affected user found a
workaround for himself (another workaround is downloading the zip
version).

-- 
Siep Kroonenberg

From josef.kleber at gmx.de  Thu Jun  2 17:47:23 2016
From: josef.kleber at gmx.de (Josef Kleber)
Date: Thu, 2 Jun 2016 17:47:23 +0200
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <20160602152525.GX965@logic.at>
References: <20160602152525.GX965@logic.at>
Message-ID: <4317976b-fc9f-e97f-95fe-bfa0e08e1722@gmx.de>

Am 02.06.2016 um 17:25 schrieb Norbert Preining:
> On Thu, 02 Jun 2016, Bernhard Kleine wrote:
>> The tlmgr shutdown after solely opening tlmgr without any activity takes
>> 50 sec.
> 
> On Thu, 02 Jun 2016, Josef Kleber wrote:
>> Here (Win10, TL2016pretest), it's about 25-30 seconds in both cases.
>> Loading remote tlpdb doesn't matter!
> 
> Do both of you have texlive-full installed?
> 

Yes, I have installed texlive-full!

Josef


-- 
PGP Public Key:
http://kirza.kleberj.de/pgp
DAA2 4AA6 5157 AD05 F6B8 043A D1BE 1EEA 86C6 4C5F
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0x86C64C5F.asc
Type: application/pgp-keys
Size: 4725 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160602/7f62312d/attachment.bin>

From squinky86 at gmail.com  Thu Jun  2 23:27:35 2016
From: squinky86 at gmail.com (Jon Hood)
Date: Thu, 2 Jun 2016 16:27:35 -0500
Subject: [tex-live] Unable to use install-tl-windows.exe: "Windows XP
 earliest supported version; aborting..."
In-Reply-To: <20160602152715.GB6399@bitmuis.thuis.internal>
References: <CAD0jTRuDLCwBqRGL-vK7rjA4rh1UXy-h=nArVBDxszYBnoRuew@mail.gmail.com>
 <20160602140552.GA6399@bitmuis.thuis.internal>
 <D3DEC87D-DF9B-4541-A97F-658FD4F3EAB6@gmail.com>
 <20160602152715.GB6399@bitmuis.thuis.internal>
Message-ID: <e9095ea9-1b60-5c51-c06a-bf8b3e412fd7@gmail.com>

Can you point me to the code that does the detection and I can try to 
debug it on my end?

Thanks!

Jon


On 6/2/2016 10:27 AM, Siep Kroonenberg wrote:
> On Thu, Jun 02, 2016 at 04:13:50PM +0200, Uwe Ziegenhagen wrote:
>> How does the Script determine the windows version it is running on? I would assume windows 7 Enterprise is using a Different identifier than win7 home Or Professional.
> The edition (home/pro/enterprise) is independent from the version
> (xp/vista/w7/w8/w10).  The nsis wrapper script loads the WinVer.nsh
> header file for testing the version, not the edition. This header
> file does have special code for server versions but that is another
> story.
>
> I just realized that I have remote access to a windows 7 enterprise.
> On that system, too, I could start up the `real' installer.
>
> I am reluctant to spend a lot of time on this: there have been no
> recent changes in this wrapper, I recall no similar error reports, I
> cannot reproduce the problem, and the affected user found a
> workaround for himself (another workaround is downloading the zip
> version).
>


From siepo at cybercomm.nl  Fri Jun  3 11:39:19 2016
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 3 Jun 2016 11:39:19 +0200
Subject: [tex-live] Unable to use install-tl-windows.exe: "Windows XP
 earliest supported version; aborting..."
In-Reply-To: <e9095ea9-1b60-5c51-c06a-bf8b3e412fd7@gmail.com>
References: <CAD0jTRuDLCwBqRGL-vK7rjA4rh1UXy-h=nArVBDxszYBnoRuew@mail.gmail.com>
 <20160602140552.GA6399@bitmuis.thuis.internal>
 <D3DEC87D-DF9B-4541-A97F-658FD4F3EAB6@gmail.com>
 <20160602152715.GB6399@bitmuis.thuis.internal>
 <e9095ea9-1b60-5c51-c06a-bf8b3e412fd7@gmail.com>
Message-ID: <20160603093919.GA2329@bitmuis.thuis.internal>

On Thu, Jun 02, 2016 at 04:27:35PM -0500, Jon Hood wrote:
> Can you point me to the code that does the detection and I can try to debug
> it on my end?
> 
> Thanks!

The nsis script:
http://www.tug.org/svn/texlive/trunk/Master/tlpkg/libexec/install-tl.nsi?revision=33535&view=markup

Nsis is available as Debian/Ubuntu package. The version on my system
is 2.50-1, but what matters is the nsis version on the TUG site
which compiles the nsis installer as part of the nightly updates, and which may be a bit older. A Windows version can be
downloaded from http://nsis.sourceforge.net/ The header file in question
is WinVer.nsh.

-- 
Siep Kroonenberg

From karl at freefriends.org  Fri Jun  3 23:47:58 2016
From: karl at freefriends.org (Karl Berry)
Date: Fri, 3 Jun 2016 21:47:58 +0000
Subject: [tex-live] Unable to use install-tl-windows.exe: "Windows XP
 earliest supported version; aborting..."
In-Reply-To: <20160603093919.GA2329@bitmuis.thuis.internal>
Message-ID: <201606032147.u53LlwOU016841@freefriends.org>

    what matters is the nsis version on the TUG site

Which is 2.46, looks like.  As I recall, we've never had a reason to
update it since we first installed it.  Can do so if it'll help ... -karl

From d.p.carlisle at gmail.com  Sun Jun  5 23:09:29 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 5 Jun 2016 22:09:29 +0100
Subject: [tex-live] pdftex segfault with \pdflastmatch
Message-ID: <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>

This plain tex document demonstrates \pdflastmatch failing if used after
a \pdfmatch that returned no matches.

\pdfmatch{a}{b}
\pdflastmatch0
\bye


segfaults  (for me on cygwin tl2016 pretest) and originally reported by
Henri Menke in stackexchange chat on Debian linux TL 2015.

he commented

> Ohhhh. Could also be a libc bug. Because it works in GDB.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160605/04f78424/attachment.html>

From d.p.carlisle at gmail.com  Sun Jun  5 23:20:16 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 5 Jun 2016 22:20:16 +0100
Subject: [tex-live] pdftex segfault with \pdflastmatch
In-Reply-To: <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
References: <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
Message-ID: <CAEW6iOjq+F8=sjTSWcS75a9OUd6nHoeDjq-2PWP8vKArSbASWw@mail.gmail.com>

a gdb trace of the core dump, and valgrind reports are available in chat
around

http://chat.stackexchange.com/transcript/message/30145736#30145736

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160605/a3c0c898/attachment.html>

From kakuto at fuk.kindai.ac.jp  Mon Jun  6 00:15:42 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 6 Jun 2016 07:15:42 +0900
Subject: [tex-live] pdftex segfault with \pdflastmatch
In-Reply-To: <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
References: <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
Message-ID: <248EACE4D9714086BE38F6AEA223AE07@CJ3001517A>

Hi David,

> This plain tex document demonstrates \pdflastmatch failing if used after
> a \pdfmatch that returned no matches.

The crash disappears if I apply an attached utils.c.diff.
But I don't know that the patch is right or not.

Best,
Akira
-------------- next part --------------
A non-text attachment was scrubbed...
Name: utils.c.diff
Type: application/octet-stream
Size: 482 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/f835f6d6/attachment-0001.obj>

From bernhard.kleine at gmx.net  Mon Jun  6 09:15:29 2016
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Mon, 6 Jun 2016 09:15:29 +0200
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <20160602152525.GX965@logic.at>
References: <20160602152525.GX965@logic.at>
Message-ID: <f48488c3-d650-affa-d65d-2b44683a69d1@gmx.net>

Am 02.06.2016 um 17:25 schrieb Norbert Preining:
> On Thu, 02 Jun 2016, Bernhard Kleine wrote:
>> The tlmgr shutdown after solely opening tlmgr without any activity takes
>> 50 sec.
> On Thu, 02 Jun 2016, Josef Kleber wrote:
>> Here (Win10, TL2016pretest), it's about 25-30 seconds in both cases.
>> Loading remote tlpdb doesn't matter!
> Do both of you have texlive-full installed?
>
> This is my guess ...
>
> Norbert
>
I have to report that after the full install of texlive2016 closing is
down to about 10 sec.
Bernhard

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/d8e22adf/attachment.bin>

From preining at logic.at  Mon Jun  6 16:38:10 2016
From: preining at logic.at (Norbert Preining)
Date: Mon, 6 Jun 2016 23:38:10 +0900
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <f48488c3-d650-affa-d65d-2b44683a69d1@gmx.net>
References: <20160602152525.GX965@logic.at>
 <f48488c3-d650-affa-d65d-2b44683a69d1@gmx.net>
Message-ID: <20160606143810.GC965@logic.at>

Hi Bernhard,

> >> The tlmgr shutdown after solely opening tlmgr without any activity takes
> >> 50 sec.

> I have to report that after the full install of texlive2016 closing is
> down to about 10 sec.

That is very very very *very* strange and I honestly believe there
have been other reasons for the long delay. Increasing the number of
packages by installing texlive-full can only *increase* the time
as more objects/widgets are created and need to be destroyed at the
end. 

So my theory is that you had some background process taking CPU time
or IO time (backup service, update service, whatever service) and
thus the long delay appeared.

But as a non-Windows user (most of the time) I am open to different
explanations.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From bernhard.kleine at gmx.net  Mon Jun  6 16:39:21 2016
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Mon, 6 Jun 2016 16:39:21 +0200
Subject: [tex-live] installation failure
Message-ID: <201cf44b-1d12-effe-5fa9-1a3876ee6014@gmx.net>

Since Texlive 2016 was announced in the newsgroup I started to install it:

Installation failed:
F:\Downloads\Software\texlive\install-tl\install-tl-20160405>install-tl-advanced
-repository http://mirror.ctan.org/systems/texlive/tlnet
PATH=F:\Downloads\Software\texlive\install-tl\install-tl-20160405\tlpkg\tlperl\bin;;C:\Program
Files (x86)\AMD
APP\bin\x86;C:\ProgramData\Oracle\Java\javapath;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program
Files (x86)\AMD\ATI.ACE\Core-Static;C:\Program Files (x86)\GNU\GnuPG\pub
"F:\Downloads\Software\texlive\install-tl\install-tl-20160405\install-tl"
-gui perltk -repository http://mirror.ctan.org/systems/texlive/tlnet
Loading
ftp://ftp.fu-berlin.de/tex/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
Unknown directive ...containerchecksum
c59200574a316416a23695c258edf3a32531fbda43ccdc09360ee105c3f07f9fb77df17c4ba4c2ea4f3a5ea6667e064b51e3d8c2fe6c984ba
 F:/Downloads/Software/texlive/install-tl/install-tl-20160405/tlpkg/TeXLive/TLPOBJ.pm line 210, <$retfh> line 5579.
Dr?cken Sie eine beliebige Taste . . .

Gnupg installed see Path

Regards Bernhard


-- 
--
spitzhalde9
79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/4fd6b469/attachment.bin>

From usenet at siart.de  Mon Jun  6 16:51:09 2016
From: usenet at siart.de (Uwe Siart)
Date: Mon, 6 Jun 2016 16:51:09 +0200
Subject: [tex-live] installation failure
References: <201cf44b-1d12-effe-5fa9-1a3876ee6014@gmx.net>
Message-ID: <84wpm2weua.fsf@siart.de>

Bernhard Kleine <bernhard.kleine at gmx.net> writes:

> F:\Downloads\Software\texlive\install-tl\install-tl-20160405>install-tl-advanced

Your mirror isn't yet up to date. 20160405 points to the freeze date of
TL15.

-- 
Uwe


From preining at logic.at  Mon Jun  6 16:55:32 2016
From: preining at logic.at (Norbert Preining)
Date: Mon, 6 Jun 2016 23:55:32 +0900
Subject: [tex-live] installation failure
In-Reply-To: <201cf44b-1d12-effe-5fa9-1a3876ee6014@gmx.net>
References: <201cf44b-1d12-effe-5fa9-1a3876ee6014@gmx.net>
Message-ID: <20160606145532.GD965@logic.at>

On Mon, 06 Jun 2016, Bernhard Kleine wrote:
> F:\Downloads\Software\texlive\install-tl\install-tl-20160405>install-tl-advanced

Your install-tl is too old. This is not the one released with TL2016.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Mon Jun  6 17:34:16 2016
From: preining at logic.at (Norbert Preining)
Date: Tue, 7 Jun 2016 00:34:16 +0900
Subject: [tex-live] pdftex segfault with \pdflastmatch
In-Reply-To: <248EACE4D9714086BE38F6AEA223AE07@CJ3001517A>
 <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
Message-ID: <20160606153416.GE965@logic.at>

Hi

> This plain tex document demonstrates \pdflastmatch failing if used after
> a \pdfmatch that returned no matches.

I confirm that the same happens on x86_64-linux.

> The crash disappears if I apply an attached utils.c.diff.
> But I don't know that the patch is right or not.

I also confirm that the crash disappears, but for the mentioned
document:
	\pdfmatch{a}{b}
	\pdflastmatch0
	\bye
I get a strange output of
	0 -1-<inverted question mark>

Not sure if this is supposed to be.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From squinky86 at gmail.com  Mon Jun  6 19:07:05 2016
From: squinky86 at gmail.com (Jon Hood)
Date: Mon, 6 Jun 2016 12:07:05 -0500
Subject: [tex-live] [NSIS-devel] Fwd: Unable to use
 install-tl-windows.exe: "Windows XP earliest supported version; aborting..."
In-Reply-To: <CAE8zcpRw8nujjt_Sqh6QnXM1ui_a1At1iYz2YjH3b-b+o5zDGw@mail.gmail.com>
References: <CAD0jTRuDLCwBqRGL-vK7rjA4rh1UXy-h=nArVBDxszYBnoRuew@mail.gmail.com>
 <20160602140552.GA6399@bitmuis.thuis.internal>
 <CAD0jTRsRP=p8L7GKdawE+EaL9A-JfZWRHYs=sUoO2Bc3f1mMsg@mail.gmail.com>
 <CAE8zcpS7u3MRVFY2mUZnLTKnEHOFpEZGYgCzA1tQrprWD9hV8Q@mail.gmail.com>
 <CAD0jTRtd6XnGHUds2ykWtkVkeqgRDjtfFGrXeJD0dkkqUtLnkA@mail.gmail.com>
 <CAE8zcpRw8nujjt_Sqh6QnXM1ui_a1At1iYz2YjH3b-b+o5zDGw@mail.gmail.com>
Message-ID: <CAD0jTRt=-KjnFvFD9XCCCXfQV-EzuZxNiEy3kQdYUorWXBUhbg@mail.gmail.com>

This is occurring on the Army Gold Master image for Windows 7, and
thanks to your input, I've been able to track it down:

* Force XP compatbility mode in the installers Properties->Compatbility
* Rename the installer
* Move the installer to C:\
* Use another user (preferably with only English letters in its name)
* Try on a different Windows 7 computer
Same result on all systems with this image.

* Disable your AV
* Run the version test suite on your --
https://github.com/kichik/nsis/blob/51e74df6c950cd8176ded182d09fc2553481f1ba/Source/Tests/winver.nsi
Bingo - that got it. The issue is with McAfee Host Intrusion
Prevention and McAfee VirusScan. Winver copies dll files to %TEMP%
including a system.dll file. It then begins executing within a new
folder in %TEMP%. McAfee configuration information is available here:

https://kc.mcafee.com/resources/sites/MCAFEE/content/live/PRODUCT_DOCUMENTATION/22000/PD22818/en_US/Access_Protection_Rules.pdf
p. 6 starting with the section ?Prevent all programs from running
files from the Temp folder?

And the STIG rule for the fully unclassified side is available at:
https://www.stigviewer.com/stig/mcafee_virusscan_8.8_managed_client/2015-06-18/finding/V-59363

So, the moral of the story: NSIS version checking does not work on a
DoD-STIG'd system using McAfee VirusScan or HIP.

I'm cross-posting this on the texlive list so that their developers
know that the issue has been tracked down, and it's an issue with the
U.S. DoD + McAfee, not with NSIS.

Thanks again,
Jon


On Mon, Jun 6, 2016 at 11:37 AM, Amir Szekely <kichik at gmail.com> wrote:
> We use relative version comparison to avoid issues like the one you're
> describing. There is no list where Windows 7 SP1 is missing. I have
> developed this feature on Windows SP1 and have worked with it for the past 3
> years without seeing this issue. Yours is also the first report of such an
> issue. I am therefore under the working assumption that this is a local
> issue with your computer or that specific installer.
>
> Here is a list of a few things you can try to pinpoint the issue:
>
> * Force XP compatbility mode in the installers Properties->Compatbility
> * Rename the installer
> * Move the installer to C:\
> * Disable your AV
> * Use another user (preferably with only English letters in its name)
> * Try on a different Windows 7 computer
> * Run the version test suite on your --
> https://github.com/kichik/nsis/blob/51e74df6c950cd8176ded182d09fc2553481f1ba/Source/Tests/winver.nsi
>
> On Mon, Jun 6, 2016 at 7:43 AM, Jon Hood <squinky86 at gmail.com> wrote:
>>
>> I can confirm that the installer is not being run in compatibility mode.
>>
>> C:\>ver
>> Microsoft Windows [Version 6.1.7601]
>>
>> On Sat, Jun 4, 2016 at 4:10 PM, Amir Szekely <kichik at gmail.com> wrote:
>> > Sounds like you're running your installer in Windows 2000 compatibility
>> > mode. Right click the executable, go to the Compatibility tab and make
>> > sure
>> > everything is unchecked.
>> >
>> > On Fri, Jun 3, 2016 at 12:14 PM, Jon Hood <squinky86 at gmail.com> wrote:
>> >>
>> >> I had the following exchange with the texlive people who use nsis and
>> >> downloaded the latest nsis subversion trunk. The Windows 7 Enterprise
>> >> w/ SP 1 version appears to be missing from Include/WinVer.nsh:
>> >>
>> >>  Mine: "Microsoft Windows NT 6.1.7601 Service Pack 1"
>> >>
>> >> Can you please make sure Windows 7 with Service Pack 1 (version
>> >> 6.1.7601) is supported with nsis so that ${AtMostWin2000} evaluates
>> >> that I'm using at least Windows XP? (line 72 of
>> >>
>> >>
>> >> http://www.tug.org/svn/texlive/trunk/Master/tlpkg/libexec/install-tl.nsi?revision=33535&view=markup
>> >> begins the block that I'm tripping up on).
>> >>
>> >> Additional reference for Windows 7 version:
>> >> http://www.jrsoftware.org/ishelp/index.php?topic=winvernotes
>> >>
>> >> Thanks!
>> >> Jon
>> >>
>> >> ---------- Forwarded message ----------
>> >> From: Siep Kroonenberg <siepo at cybercomm.nl>
>> >> Date: Thu, Jun 2, 2016 at 9:05 AM
>> >> Subject: Re: [tex-live] Unable to use install-tl-windows.exe: "Windows
>> >> XP earliest supported version; aborting..."
>> >> To: Jon Hood <squinky86 at gmail.com>
>> >> Cc: tex-live at tug.org
>> >>
>> >>
>> >> On Tue, May 31, 2016 at 02:06:52PM -0500, Jon Hood wrote:
>> >> > When trying to run install-tl-windows.exe from
>> >> > https://www.tug.org/texlive/acquire-netinstall.html I receive an
>> >> > immediate pop-up stating, "Windows XP earliest supported version;
>> >> > aborting..."
>> >> >
>> >> > My platform: Windows 7 Enterprise Service Pack 1 64-bit
>> >> >
>> >> > Current workaround: open install-tl-windows.exe in 7zip and extract
>> >> > the install-tl-20160405 folder. Run install-tl-windows.bat from the
>> >> > extracted folder
>> >> >
>> >> > Thanks,
>> >> > Jon
>> >>
>> >> I cannot reproduce this with a freshly-downloaded
>> >> install-tl-windows.exe on Windows 10 64-bit, and have no idea what
>> >> may have caused this.
>> >>
>> >> --
>> >> Siep Kroonenberg
>> >>
>> >>
>> >>
>> >> ------------------------------------------------------------------------------
>> >> What NetFlow Analyzer can do for you? Monitors network bandwidth and
>> >> traffic
>> >> patterns at an interface-level. Reveals which users, apps, and
>> >> protocols
>> >> are
>> >> consuming the most bandwidth. Provides multi-vendor support for
>> >> NetFlow,
>> >> J-Flow, sFlow and other flows. Make informed decisions using capacity
>> >> planning reports.
>> >> https://ad.doubleclick.net/ddm/clk/305295220;132659582;e
>> >> _______________________________________________
>> >> Nsis-devel mailing list
>> >> Nsis-devel at lists.sourceforge.net
>> >> https://lists.sourceforge.net/lists/listinfo/nsis-devel
>> >
>> >
>
>


From thomasgmeyer at online.de  Mon Jun  6 19:55:08 2016
From: thomasgmeyer at online.de (Thomas Meyer)
Date: Mon, 6 Jun 2016 19:55:08 +0200
Subject: [tex-live] LuaLaTex MacTex 2016 doesn't work
Message-ID: <023373fb-d377-334e-f5b9-8b8ab60ca2ef@online.de>

Hi,

I tried today installed MacTex 2016 with Texshop 3.62 on iMac (El
Capitan), but I got only an error message!


Example:

\documentclass[12pt,a4paper]{scrartcl}
\begin{document}
Hello
\end{document}

Message:

This is LuaTeX, Version 0.95.0 (TeX Live 2016)
 restricted system commands enabled.
(./HelloTest.tex
LaTeX2e <2016/03/31>
Babel <3.9r> and hyphenation patterns for 1 language(s) loaded.
(/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrartcl.cls
Document Class: scrartcl 2016/05/10 v3.20 KOMA-Script document class
(article)
(/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrkbase.sty
(/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrbase.sty
(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics/keyval.sty)
(/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrlfile.sty
Package scrlfile, 2016/05/10 v3.20 KOMA-Script package (loading files)
                  Copyright (C) Markus Kohm

))) (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/tocbasic.sty)
(/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrsize12pt.clo)
(/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/typearea.sty
Package typearea, 2016/05/10 v3.20 KOMA-Script package (type area)
                  Copyright (C) Frank Neukam, 1992-1994
                  Copyright (C) Markus Kohm, 1994-

)) (./HelloTest.aux)
./HelloTest.tex:3: Missing number, treated as zero.
<to be read again>
p
l.3 \begin{document}

? x
 443 words of node memory still in use:
   2 hlist, 1 rule, 1 local_par, 1 dir, 5 glue, 10 glyph, 44 glue_spec,
1 temp,
 11 if_stack, 1 write nodes
   avail lists: 2:9,3:1,4:1,5:4,6:18,7:2,8:1,9:2,11:3

warning  (pdf backend): no pages of output.
Transcript written on HelloTest.log.

What's going wrong?

Greetings
Thomas


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 841 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/fad5c781/attachment.bin>

From joseph.wright at morningstar2.co.uk  Mon Jun  6 20:05:28 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 6 Jun 2016 19:05:28 +0100
Subject: [tex-live] LuaLaTex MacTex 2016 doesn't work
In-Reply-To: <023373fb-d377-334e-f5b9-8b8ab60ca2ef@online.de>
References: <023373fb-d377-334e-f5b9-8b8ab60ca2ef@online.de>
Message-ID: <8490f4b1-4010-fd33-b360-e412125aaea3@morningstar2.co.uk>

On 06/06/2016 18:55, Thomas Meyer wrote:
> Hi,
> 
> I tried today installed MacTex 2016 with Texshop 3.62 on iMac (El
> Capitan), but I got only an error message!
> 
> 
> Example:
> 
> \documentclass[12pt,a4paper]{scrartcl}
> \begin{document}
> Hello
> \end{document}
> 
> Message:
> 
> This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>  restricted system commands enabled.
> (./HelloTest.tex
> LaTeX2e <2016/03/31>
> Babel <3.9r> and hyphenation patterns for 1 language(s) loaded.
> (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrartcl.cls
> Document Class: scrartcl 2016/05/10 v3.20 KOMA-Script document class
> (article)
> (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrkbase.sty
> (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrbase.sty
> (/usr/local/texlive/2016/texmf-dist/tex/latex/graphics/keyval.sty)
> (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrlfile.sty
> Package scrlfile, 2016/05/10 v3.20 KOMA-Script package (loading files)
>                   Copyright (C) Markus Kohm
> 
> ))) (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/tocbasic.sty)
> (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/scrsize12pt.clo)
> (/usr/local/texlive/2016/texmf-dist/tex/latex/koma-script/typearea.sty
> Package typearea, 2016/05/10 v3.20 KOMA-Script package (type area)
>                   Copyright (C) Frank Neukam, 1992-1994
>                   Copyright (C) Markus Kohm, 1994-
> 
> )) (./HelloTest.aux)
> ./HelloTest.tex:3: Missing number, treated as zero.
> <to be read again>
> p
> l.3 \begin{document}
> 
> ? x
>  443 words of node memory still in use:
>    2 hlist, 1 rule, 1 local_par, 1 dir, 5 glue, 10 glyph, 44 glue_spec,
> 1 temp,
>  11 if_stack, 1 write nodes
>    avail lists: 2:9,3:1,4:1,5:4,6:18,7:2,8:1,9:2,11:3
> 
> warning  (pdf backend): no pages of output.
> Transcript written on HelloTest.log.
> 
> What's going wrong?
> 
> Greetings
> Thomas
> 
> 

Various changes in LuaTeX mean other material has to catch up. For the
present

    \RequirePackage{luatex85}

right at the start should address things.

Joseph


From komascript at gmx.info  Mon Jun  6 20:09:40 2016
From: komascript at gmx.info (Markus Kohm)
Date: Mon, 6 Jun 2016 20:09:40 +0200
Subject: [tex-live] LuaLaTex MacTex 2016 doesn't work
In-Reply-To: <023373fb-d377-334e-f5b9-8b8ab60ca2ef@online.de>
References: <023373fb-d377-334e-f5b9-8b8ab60ca2ef@online.de>
Message-ID: <2382684.l2dEdiHFUk@x61s.fritz.box>

Am Montag, 6. Juni 2016, 19:55:08 schrieb Thomas Meyer:
> What's going wrong?

This is not a TeX Live bug, it's a known KOMA-Script bug:

? <http://www.komascript.de/release3.20>

Markus
---
Infos zu LaTeX: <http://www.dante.de/tex.html>
Infos zu KOMA-Script: <http://www.komascript.de>
Aktuelles KOMA-Script: <http://www.komascript.de/current>
KOMA-Script-Anleitung: <http://www.komascript.de/scrguide>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/91dee36a/attachment-0001.bin>

From d.p.carlisle at gmail.com  Mon Jun  6 21:43:04 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 6 Jun 2016 20:43:04 +0100
Subject: [tex-live] pdftex segfault with \pdflastmatch
In-Reply-To: <20160606153416.GE965@logic.at>
References: <248EACE4D9714086BE38F6AEA223AE07@CJ3001517A>
 <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
 <20160606153416.GE965@logic.at>
Message-ID: <CAEW6iOjhQih-9kpEqJ7_vV1xevkgqe104RoRkhPmr_FdppvqxA@mail.gmail.com>

On 6 June 2016 at 16:34, Norbert Preining <preining at logic.at> wrote:

> Hi
>
> > This plain tex document demonstrates \pdflastmatch failing if used after
> > a \pdfmatch that returned no matches.
>
> I confirm that the same happens on x86_64-linux.
>
> > The crash disappears if I apply an attached utils.c.diff.
> > But I don't know that the patch is right or not.
>
> I also confirm that the crash disappears, but for the mentioned
> document:
>         \pdfmatch{a}{b}
>         \pdflastmatch0
>         \bye
> I get a strange output of
>         0 -1-<inverted question mark>
>
> Not sure if this is supposed to be.
>
> Norbert
>

that is I think the correct output
the -> comes out as an inverted question mark unless you add \tt somewhere
because cmr10 encoding is entertaining,

so that is
0 from  \pdfmatch (no match)
-1 from \pdflastmatch0 (non existing index of start of requested match)
-><nothing>  the non existing string matched.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/c404a51d/attachment.html>

From uli.laube at kabelmail.de  Mon Jun  6 21:22:20 2016
From: uli.laube at kabelmail.de (Uli Laube)
Date: Mon, 6 Jun 2016 21:22:20 +0200
Subject: [tex-live] TL2016 algorithm2e.sty encoding
Message-ID: <fc4ee669-ccf6-340f-57dd-a7f31770a54d@kabelmail.de>

Hi!

I just gave TL2016 a try. One of my documents uses algorithm2e.sty. Running it through LuaLaTex gives


! String contains an invalid utf-8 sequence.
l.1311 \renewcommand{\algorithmcflinename}{
                                          ?izizgi}%
! String contains an invalid utf-8 sequence.
l.1313 \renewcommand{\@algocf at procname}{Prosed
                                             r}%
! String contains an invalid utf-8 sequence.
l.1315 \renewcommand{\procedureautorefname}{prosed
                                                 r}%
)


Checking with

$ file algorithm2e.sty
algorithm2e.sty: ISO-8859 text

hints indeed an encoding problem.
Converting it to utf-8 and placing it in texmf-local with a run of mktexlsr, fixes the messages above.


Kind regards
Uli Laube



From alan at alphabyte.co.nz  Mon Jun  6 22:47:18 2016
From: alan at alphabyte.co.nz (Alan Litchfield)
Date: Tue, 7 Jun 2016 08:47:18 +1200
Subject: [tex-live] TL2016 algorithm2e.sty encoding
In-Reply-To: <fc4ee669-ccf6-340f-57dd-a7f31770a54d@kabelmail.de>
References: <fc4ee669-ccf6-340f-57dd-a7f31770a54d@kabelmail.de>
Message-ID: <d4b7fe96-2d0b-6f0f-9a23-542155fd3049@alphabyte.co.nz>

Hmm.

When running a file in LaTeX we got the same error. We already had

\usepackage[utf8]{inputenc}

Probably not associated with TeXLive but a problem with the package. 
Have added the package maintainer to the thread.

Regards
Alan

On 7/06/16 7:22 am, Uli Laube wrote:
> Hi!
>
> I just gave TL2016 a try. One of my documents uses algorithm2e.sty.
> Running it through LuaLaTex gives
>
>
> ! String contains an invalid utf-8 sequence.
> l.1311 \renewcommand{\algorithmcflinename}{
>                                          ?izizgi}%
> ! String contains an invalid utf-8 sequence.
> l.1313 \renewcommand{\@algocf at procname}{Prosed
>                                             r}%
> ! String contains an invalid utf-8 sequence.
> l.1315 \renewcommand{\procedureautorefname}{prosed
>                                                 r}%
> )
>
>
> Checking with
>
> $ file algorithm2e.sty
> algorithm2e.sty: ISO-8859 text
>
> hints indeed an encoding problem.
> Converting it to utf-8 and placing it in texmf-local with a run of
> mktexlsr, fixes the messages above.
>
>
> Kind regards
> Uli Laube

-- 
Dr Alan Litchfield
AlphaByte
PO Box 1941
Auckland, New Zealand 1140

From alan at alphabyte.co.nz  Mon Jun  6 22:51:25 2016
From: alan at alphabyte.co.nz (Alan Litchfield)
Date: Tue, 7 Jun 2016 08:51:25 +1200
Subject: [tex-live] TL2016 algorithm2e.sty encoding
In-Reply-To: <d4b7fe96-2d0b-6f0f-9a23-542155fd3049@alphabyte.co.nz>
References: <fc4ee669-ccf6-340f-57dd-a7f31770a54d@kabelmail.de>
 <d4b7fe96-2d0b-6f0f-9a23-542155fd3049@alphabyte.co.nz>
Message-ID: <0227fc61-01c5-483c-565c-7453469d70c4@alphabyte.co.nz>

Package maintainer? Or maybe not...

The following message to <cfiorio at umontpellier.fr> was undeliverable.
The reason for the problem:
5.1.0 - Unknown address error 550-'5.1.1 <cfiorio at umontpellier.fr>: 
Recipient address rejected: User unknown'



Reporting-MTA: dns; mx1.univ-montp1.fr

Final-Recipient: rfc822;cfiorio at umontpellier.fr
Action: failed
Status: 5.0.0 (permanent failure)
Remote-MTA: dns; [193.51.152.128]
Diagnostic-Code: smtp; 5.1.0 - Unknown address error 550-'5.1.1 
<cfiorio at umontpellier.fr>: Recipient address rejected: User unknown' 
(delivery attempts: 0)



On 7/06/16 8:47 am, Alan Litchfield wrote:
> Hmm.
>
> When running a file in LaTeX we got the same error. We already had
>
> \usepackage[utf8]{inputenc}
>
> Probably not associated with TeXLive but a problem with the package.
> Have added the package maintainer to the thread.
>
> Regards
> Alan
>
> On 7/06/16 7:22 am, Uli Laube wrote:
>> Hi!
>>
>> I just gave TL2016 a try. One of my documents uses algorithm2e.sty.
>> Running it through LuaLaTex gives
>>
>>
>> ! String contains an invalid utf-8 sequence.
>> l.1311 \renewcommand{\algorithmcflinename}{
>>                                          ?izizgi}%
>> ! String contains an invalid utf-8 sequence.
>> l.1313 \renewcommand{\@algocf at procname}{Prosed
>>                                             r}%
>> ! String contains an invalid utf-8 sequence.
>> l.1315 \renewcommand{\procedureautorefname}{prosed
>>                                                 r}%
>> )
>>
>>
>> Checking with
>>
>> $ file algorithm2e.sty
>> algorithm2e.sty: ISO-8859 text
>>
>> hints indeed an encoding problem.
>> Converting it to utf-8 and placing it in texmf-local with a run of
>> mktexlsr, fixes the messages above.
>>
>>
>> Kind regards
>> Uli Laube
>

-- 
Dr Alan Litchfield
AlphaByte
PO Box 1941
Auckland, New Zealand 1140

From d.p.carlisle at gmail.com  Mon Jun  6 22:52:29 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 6 Jun 2016 21:52:29 +0100
Subject: [tex-live] TL2016 algorithm2e.sty encoding
In-Reply-To: <fc4ee669-ccf6-340f-57dd-a7f31770a54d@kabelmail.de>
References: <fc4ee669-ccf6-340f-57dd-a7f31770a54d@kabelmail.de>
Message-ID: <CAEW6iOgq+YXnmFW7LA-uqDb8BEZLP09bs284TvpWYSnSN=PmgQ@mail.gmail.com>

Note this is a package bug, so can't be fixed by texlive, this has come up
a few times (I reported it to the algrothm2e author and the
algorithm2e-discussion at lirmm.fr  list back in May, and I think others have
reported it too)

the fix is to use  markup such as \c{c} in the package so it works with all
encodings, if you just re-encode to UTF-8 it will only work in UTF8 and
will give a similar error for documents using a 1-byte encoding.


David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/337b23f7/attachment.html>

From d.p.carlisle at gmail.com  Mon Jun  6 23:05:06 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 6 Jun 2016 22:05:06 +0100
Subject: [tex-live] TL2016 algorithm2e.sty encoding
In-Reply-To: <0227fc61-01c5-483c-565c-7453469d70c4@alphabyte.co.nz>
References: <fc4ee669-ccf6-340f-57dd-a7f31770a54d@kabelmail.de>
 <d4b7fe96-2d0b-6f0f-9a23-542155fd3049@alphabyte.co.nz>
 <0227fc61-01c5-483c-565c-7453469d70c4@alphabyte.co.nz>
Message-ID: <CAEW6iOhDf8dL_7==ht-n1s+4rJfgbB2DaSq1onRZ7P1gure31Q@mail.gmail.com>

There is a probably newer address here

https://www.lirmm.fr/lirmm_eng/users/utilisateurs-lirmm/christophe-fiorio

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160606/fd0c7624/attachment-0001.html>

From karl at freefriends.org  Mon Jun  6 23:09:15 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 06 Jun 2016 21:09:15 -0000
Subject: [tex-live] TeX Live 2016 release available
Message-ID: <201606062109.u56L96k4020573@freefriends.org>

For the sake of anyone who doesn't follow ctan-ann ...

TeX Live 2016 has been released.  It will soon (but not this instant)
be available from CTAN sites (http://mirror.ctan.org/systems/texlive).
Package updates will resume in another day or two.

As usual, we recommend doing a network install in one way or another
instead of downloading the large (3+gb) .iso -- see
http://tug.org/texlive/acquire.html for a discussion of the various
alternatives.

If anyone notices stale or missing information on the TL web pages, or
problems with the release, please report as usual.

MacTeX (http://tug.org/mactex) has also been released and are available
from CTAN.

The TeX Collection DVD (http://tug.org/texcollection) is going to
production shortly and should be available in due course.  I don't have
an ETA.

Happy TeXing,
Karl

P.S. Bug reports about packages suddenly not working, especially with
luatex, should go to the package maintainers, not TL.

From tljack at forallx.net  Mon Jun  6 23:24:31 2016
From: tljack at forallx.net (tljack at forallx.net)
Date: Mon, 06 Jun 2016 15:24:31 -0600
Subject: [tex-live] TL2016 brings "no driver" error where previously there
 was none
Message-ID: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>

I just got TL2016 installed.  There is a LaTeX document that with TL2015 
typesets (pdfLaTeX) fine with no errors or warnings, but when I typset 
it with pdfLaTeX from 2016 I see:

/tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics 
Error:
No driver specified.

I don't know why it's saying this or why it's asking for a driver.  I 
don't have a funny document or a funny preamble.  All it does is this:

\usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}

I see this even  if the entire textual content between the 
\{begin,end}{document} the body is "Foo".

If I remove the "graphicx" the error goes away.  Doing "texdoc graphics" 
reveals nothing to illuminate this or why it would suddenly be different 
from TL2015.

-jack

From martin at oneiros.de  Mon Jun  6 23:44:33 2016
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Mon, 6 Jun 2016 23:44:33 +0200
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
Message-ID: <CAP7DCDccfoQTeWuofEbpMgaz3wjq8=8dVd0+kwa55q05rXWnOg@mail.gmail.com>

2016-06-06 23:24 GMT+02:00  <tljack at forallx.net>:
> If I remove the "graphicx" the error goes away.  Doing "texdoc graphics"
> reveals nothing to illuminate this or why it would suddenly be different
> from TL2015.

Section 2 explains the driver option. IIRC it was always needed.

Best
   Martin

From news3 at nililand.de  Mon Jun  6 23:57:40 2016
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 6 Jun 2016 23:57:40 +0200
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
Message-ID: <99srjjzqqonp.dlg@nililand.de>

Am Mon, 06 Jun 2016 15:24:31 -0600 schrieb tljack at forallx.net:

> I just got TL2016 installed.  There is a LaTeX document that with TL2015 
> typesets (pdfLaTeX) fine with no errors or warnings, but when I typset 
> it with pdfLaTeX from 2016 I see:
> 
> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics 
> Error:
> No driver specified.

I don't get such an error.

> 
> I don't know why it's saying this or why it's asking for a driver.  I 
> don't have a funny document or a funny preamble.  All it does is this:

Check the log file if you have some local graphics.cfg.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at fuk.kindai.ac.jp  Tue Jun  7 00:05:22 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 7 Jun 2016 07:05:22 +0900
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
Message-ID: <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>

> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics 
> Error:
> No driver specified.

Not confirmed here.
% pdflatex
\documentclass[a4paper]{article}
\usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
\begin{document}
Foo.
\end{document}
works ok.
Do you have
texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?

Best,
Akira


From w.m.l at gmx.net  Tue Jun  7 01:24:53 2016
From: w.m.l at gmx.net (Robert)
Date: Tue, 7 Jun 2016 01:24:53 +0200
Subject: [tex-live] pdftex segfault with \pdflastmatch
In-Reply-To: <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
References: <CAEW6iOiv39T7KkODzjtxAWUuOuPH9gyZHu-S41wdX7JVzHwBnw@mail.gmail.com>
Message-ID: <nj50o6$94m$1@ger.gmane.org>

On 05.06.16 23:09, David Carlisle wrote:
> \pdfmatch{a}{b}
> \pdflastmatch0
> \bye

On Mac OS X (x86_64-darwin), there is no crash, but the second number in 
the output (eg. the 8 in "0 8-?") randomly changes on every run (seems 
to be between 0 and 15).

I haven't tested with the patch.

Best,
-- 
  Robert


From werner at suse.de  Tue Jun  7 13:49:39 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 7 Jun 2016 13:49:39 +0200
Subject: [tex-live] TeXLive 2016 source tar ball with object and library
 files?
Message-ID: <20160607114939.2e6qzkxeex5l4ite@boole.suse.de>

Hi,

just tried to archivemount texlive-20160523-source.tar.xz and recoginzed
that the tar ball is much larger then those of 2015 (252126K to 44395K)
due a lot of binary, object, and library files.

Why this?

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160607/a5e3eda1/attachment.bin>

From daleif at math.au.dk  Tue Jun  7 16:43:24 2016
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 7 Jun 2016 14:43:24 +0000
Subject: [tex-live] Download did not succeed
Message-ID: <92d9c7b2ffca40828638f0419112a153@Exch08.uni.au.dk>


I tried installing TL2016 today

I keep getting 

TLUtils::check_file: removing /tmp/bd1BBkrSDi/uEpFRVo_Yx/pdfpagediff.doc.tar.xz, sizes differ:
TLUtils::check_file:   TL=56330, arg=740820
TLPDB::_install_package: downloading did not succeed
Installation failed.
Rerunning the installer will try to restart the installation.
Or you can restart by running the installer with:
  install-tl --profile installation.profile [EXTRA-ARGS]
install-tl: Writing log in current directory: /home/daleif/tmp/install-tl-20160523/install-tl.log

at random places in the package list.

I just rerun it, and when I come back to it some time later, it has given a similar error at a different package.

Any ideas? 

Using

Automated TeX Live installation using profile: installation.profile
Trying to verify cryptographic signatures!
Loading http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet/tlpkg/texlive.tlpdb
Installing TeX Live 2016 from: http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet (verified)
Platform: x86_64-linux => 'GNU/Linux on x86_64'
Distribution: net  (downloading)
Using URL: http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
Directory for temporary files: /tmp/bd1BBkrSDi


I'll see if the Danish mirror is working and try to use that instead





/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math



From daleif at math.au.dk  Tue Jun  7 17:08:03 2016
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 7 Jun 2016 15:08:03 +0000
Subject: [tex-live] Download did not succeed
In-Reply-To: <92d9c7b2ffca40828638f0419112a153@Exch08.uni.au.dk>
References: <92d9c7b2ffca40828638f0419112a153@Exch08.uni.au.dk>
Message-ID: <1465312091062.15766@math.au.dk>

seems to have been a bad mirror

Restarted everything against a Norwegian mirror, no issues at all, download done in ~20min

sorry for the noise


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Lars Madsen <daleif at math.au.dk>
Sent: 07 June 2016 16:43
To: tex-live at tug.org
Subject: [tex-live] Download did not succeed

I tried installing TL2016 today

I keep getting

TLUtils::check_file: removing /tmp/bd1BBkrSDi/uEpFRVo_Yx/pdfpagediff.doc.tar.xz, sizes differ:
TLUtils::check_file:   TL=56330, arg=740820
TLPDB::_install_package: downloading did not succeed
Installation failed.
Rerunning the installer will try to restart the installation.
Or you can restart by running the installer with:
  install-tl --profile installation.profile [EXTRA-ARGS]
install-tl: Writing log in current directory: /home/daleif/tmp/install-tl-20160523/install-tl.log

at random places in the package list.

I just rerun it, and when I come back to it some time later, it has given a similar error at a different package.

Any ideas?

Using

Automated TeX Live installation using profile: installation.profile
Trying to verify cryptographic signatures!
Loading http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet/tlpkg/texlive.tlpdb
Installing TeX Live 2016 from: http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet (verified)
Platform: x86_64-linux => 'GNU/Linux on x86_64'
Distribution: net  (downloading)
Using URL: http://ftp.snt.utwente.nl/pub/software/tex/systems/texlive/tlnet
Directory for temporary files: /tmp/bd1BBkrSDi


I'll see if the Danish mirror is working and try to use that instead





/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math




From tljack at forallx.net  Tue Jun  7 17:34:28 2016
From: tljack at forallx.net (tljack at forallx.net)
Date: Tue, 07 Jun 2016 09:34:28 -0600
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
Message-ID: <03610f21a8464e9ec4df0d9dfd752908@forallx.net>

On 2016-06-06 16:05, Akira Kakuto wrote:
>> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics 
>> Error:
>> No driver specified.
> 
> Not confirmed here.
> % pdflatex
> \documentclass[a4paper]{article}
> \usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
> \begin{document}
> Foo.
> \end{document}
> works ok.
> Do you have
> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?

I assume that path should end with /graphics/graphics.cfg.

Anyway, no I don't have that file either in TL2016, or in TL2015.  
TL2016 is the only one with the error.

-jack

From d.p.carlisle at gmail.com  Tue Jun  7 17:42:13 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 7 Jun 2016 16:42:13 +0100
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
Message-ID: <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>

On 7 June 2016 at 16:34, <tljack at forallx.net> wrote:

> On 2016-06-06 16:05, Akira Kakuto wrote:
>
>> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics Error:
>>> No driver specified.
>>>
>>
>> Not confirmed here.
>> % pdflatex
>> \documentclass[a4paper]{article}
>> \usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
>> \begin{document}
>> Foo.
>> \end{document}
>> works ok.
>> Do you have
>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
>>
>
> I assume that path should end with /graphics/graphics.cfg.
>
> Anyway, no I don't have that file either in TL2016, or in TL2015.  TL2016
> is the only one with the error.
>
> -jack
>


If you do not have graphics.cfg then you need to supply an explicit driver
option to the graphics package but one has been part of texlive since
before it was called texlive.

in tl2015 (and possibly tl2016) what do you get returned for

kpsewhich graphics.cfg

If you have not got that file you can get it from

https://www.ctan.org/tex-archive/macros/latex/contrib/graphics-cfg

but how did you install texlive?

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160607/7dc2f110/attachment.html>

From martin at oneiros.de  Tue Jun  7 17:47:55 2016
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Tue, 7 Jun 2016 17:47:55 +0200
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
Message-ID: <CAP7DCDezj=qJfPk3rbDkqJQHUq0AsA9ag9VExPFT8fRS+7ke2w@mail.gmail.com>

2016-06-07 17:34 GMT+02:00  <tljack at forallx.net>:
> On 2016-06-06 16:05, Akira Kakuto wrote:
>> Do you have
>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
>
>
> I assume that path should end with /graphics/graphics.cfg.

Do you have the directory texmf-dist/tex/latex/graphics-cfg/
and what does it contain?

Anway: Your installation looks broken. It's probably easier if you reinstall.

Best
   Martin

From tljack at forallx.net  Tue Jun  7 17:53:55 2016
From: tljack at forallx.net (tljack at forallx.net)
Date: Tue, 07 Jun 2016 09:53:55 -0600
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
Message-ID: <78ac2bbe0636794a5369dc1aa820c338@forallx.net>

On 2016-06-07 09:42, David Carlisle wrote:
> On 7 June 2016 at 16:34, <tljack at forallx.net> wrote:
> 
>> On 2016-06-06 16:05, Akira Kakuto wrote:
>> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics
>> Error:
>> No driver specified.
>> 
>> Not confirmed here.
>> % pdflatex
>> documentclass[a4paper]{article}
>> usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
>> begin{document}
>> Foo.
>> end{document}
>> works ok.
>> Do you have
>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
> 
>  I assume that path should end with /graphics/graphics.cfg.
> 
>  Anyway, no I don't have that file either in TL2016, or in TL2015.
> TL2016 is the only one with the error.
> 
>  -jack
> 
> If you do not have graphics.cfg then you need to supply an explicit
> driver option to the graphics package but one has been part of texlive
> since before it was called texlive.
> 
> in tl2015 (and possibly tl2016) what do you get returned for
> 
> kpsewhich graphics.cfg

Ah, now we're getting somewhere.  That command returns nothing at all in 
TL2016, but in TL2015 it returns: 
/tl/texmf-dist/tex/latex/latexconfig/graphics.cfg

I don't know why it wouldn't be there this year.

> If you have not got that file you can get it from
> 
> https://www.ctan.org/tex-archive/macros/latex/contrib/graphics-cfg [1]
> 
> but how did you install texlive?

For the last few years, I've done it this way: I rsync the entire distro 
to my machine, then I run the tlnet/install-tl script and install the 
"minimal" scheme.  I then make sure that everything is on my $PATH (by 
doing e.g., `which tex`).  Then I tell tlmgr to use my local clone as 
the repo, and then I install some more packages.

Prior to that I did not rsync the entire distro, but just downloaded the 
small tarball that holds "install-tl", and ran that.

-jack

From tljack at forallx.net  Tue Jun  7 17:59:30 2016
From: tljack at forallx.net (tljack at forallx.net)
Date: Tue, 07 Jun 2016 09:59:30 -0600
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <CAP7DCDezj=qJfPk3rbDkqJQHUq0AsA9ag9VExPFT8fRS+7ke2w@mail.gmail.com>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAP7DCDezj=qJfPk3rbDkqJQHUq0AsA9ag9VExPFT8fRS+7ke2w@mail.gmail.com>
Message-ID: <99cf6d18c536b2688c06a7e0b6710fc6@forallx.net>

On 2016-06-07 09:47, Martin Schr?der wrote:
> 2016-06-07 17:34 GMT+02:00  <tljack at forallx.net>:
>> On 2016-06-06 16:05, Akira Kakuto wrote:
>>> Do you have
>>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
>> 
>> 
>> I assume that path should end with /graphics/graphics.cfg.
> 
> Do you have the directory texmf-dist/tex/latex/graphics-cfg/
> and what does it contain?

No, I have no directories ending in "graphics-cfg". I have "graphics", 
but it contains only .sty and .def files.

I don't see how my installation could be broken unless some big change 
happened since last year.  Even if I reinstall TL2016 using the 
".profile" from TL2015 (but changing the year), I still see this.

Did the missing folder get moved into a different package from where it 
previously was kept?  Which package should contain it?

-jack

From d.p.carlisle at gmail.com  Tue Jun  7 18:01:32 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 7 Jun 2016 17:01:32 +0100
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
 <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
Message-ID: <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>

On 7 June 2016 at 16:53, <tljack at forallx.net> wrote:

> On 2016-06-07 09:42, David Carlisle wrote:
>
>> On 7 June 2016 at 16:34, <tljack at forallx.net> wrote:
>>
>> On 2016-06-06 16:05, Akira Kakuto wrote:
>>> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics
>>> Error:
>>> No driver specified.
>>>
>>> Not confirmed here.
>>> % pdflatex
>>> documentclass[a4paper]{article}
>>> usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
>>> begin{document}
>>> Foo.
>>> end{document}
>>> works ok.
>>> Do you have
>>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
>>>
>>
>>  I assume that path should end with /graphics/graphics.cfg.
>>
>>  Anyway, no I don't have that file either in TL2016, or in TL2015.
>> TL2016 is the only one with the error.
>>
>>  -jack
>>
>> If you do not have graphics.cfg then you need to supply an explicit
>> driver option to the graphics package but one has been part of texlive
>> since before it was called texlive.
>>
>> in tl2015 (and possibly tl2016) what do you get returned for
>>
>> kpsewhich graphics.cfg
>>
>
> Ah, now we're getting somewhere.  That command returns nothing at all in
> TL2016, but in TL2015 it returns:
> /tl/texmf-dist/tex/latex/latexconfig/graphics.cfg
>
> I don't know why it wouldn't be there this year.
>

there's been some rearrangement of the locations, in particular that file
is now on ctan (and pulled from there to texlive) rather than being
maintained directly in texlive. so in 2016 it is
2016/texmf-dist/tex/latex/graphics-cfg/graphics.cfg




>
> If you have not got that file you can get it from
>>
>> https://www.ctan.org/tex-archive/macros/latex/contrib/graphics-cfg [1]
>>
>> but how did you install texlive?
>>
>
> For the last few years, I've done it this way: I rsync the entire distro
> to my machine, then I run the tlnet/install-tl script and install the
> "minimal" scheme.


I leave it to the texlive maintainers to say what should or shouldn't be in
minimal
but if you install minimal then it's natural that you have to install some
additional
things so that real-world documents run, so it's not necessarily a bug that
graphics.cfg isn't in minimal.  (The graphics package hopefully clearly
documents that it is optional and what you need to do to specify a driver
if you don't have a cfg file)


David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160607/32fc112c/attachment-0001.html>

From tljack at forallx.net  Tue Jun  7 18:06:00 2016
From: tljack at forallx.net (tljack at forallx.net)
Date: Tue, 07 Jun 2016 10:06:00 -0600
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
 <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
 <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
Message-ID: <6fc429fff496f9bc80abd054380f1fbb@forallx.net>

On 2016-06-07 10:01, David Carlisle wrote:
> On 7 June 2016 at 16:53, <tljack at forallx.net> wrote:
> 
>> On 2016-06-07 09:42, David Carlisle wrote:
>> On 7 June 2016 at 16:34, <tljack at forallx.net> wrote:
>> 
>> On 2016-06-06 16:05, Akira Kakuto wrote:
>> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics
>> Error:
>> No driver specified.
>> 
>> Not confirmed here.
>> % pdflatex
>> documentclass[a4paper]{article}
>> usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
>> begin{document}
>> Foo.
>> end{document}
>> works ok.
>> Do you have
>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
>> 
>> I assume that path should end with /graphics/graphics.cfg.
>> 
>> Anyway, no I don't have that file either in TL2016, or in TL2015.
>> TL2016 is the only one with the error.
>> 
>> -jack
>> 
>> If you do not have graphics.cfg then you need to supply an explicit
>> driver option to the graphics package but one has been part of
>> texlive
>> since before it was called texlive.
>> 
>> in tl2015 (and possibly tl2016) what do you get returned for
>> 
>> kpsewhich graphics.cfg
> 
>  Ah, now we're getting somewhere.  That command returns nothing at all
> in TL2016, but in TL2015 it returns:
> /tl/texmf-dist/tex/latex/latexconfig/graphics.cfg
> 
>  I don't know why it wouldn't be there this year.
> 
> there's been some rearrangement of the locations, in particular that
> file is now on ctan (and pulled from there to texlive) rather than
> being maintained directly in texlive. so in 2016 it is
> 2016/texmf-dist/tex/latex/graphics-cfg/graphics.cfg
> 
>>> If you have not got that file you can get it from
>>> 
>>> https://www.ctan.org/tex-archive/macros/latex/contrib/graphics-cfg
>>> [1] [1]
>>> 
>>> but how did you install texlive?
>> 
>> For the last few years, I've done it this way: I rsync the entire
>> distro to my machine, then I run the tlnet/install-tl script and
>> install the "minimal" scheme.
> 
> I leave it to the texlive maintainers to say what should or shouldn't
> be in minimal
> 
> but if you install minimal then it's natural that you have to install
> some additional
> 
> things so that real-world documents run, so it's not necessarily a bug
> that graphics.cfg isn't in minimal.  (The graphics package hopefully
> clearly documents that it is optional and what you need to do to
> specify a driver if you don't have a cfg file)

I don't just install the minimal scheme.  I must've forgot to mention 
that in my email.  After the minimal scheme, I install several hundred 
additional packages.

-jack

From tljack at forallx.net  Tue Jun  7 18:08:27 2016
From: tljack at forallx.net (tljack at forallx.net)
Date: Tue, 07 Jun 2016 10:08:27 -0600
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
 <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
 <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
Message-ID: <a71233a686693763ad3e5029ad21e5bb@forallx.net>

On 2016-06-07 10:01, David Carlisle wrote:
> On 7 June 2016 at 16:53, <tljack at forallx.net> wrote:
> 
>> On 2016-06-07 09:42, David Carlisle wrote:
>> On 7 June 2016 at 16:34, <tljack at forallx.net> wrote:
>> 
>> On 2016-06-06 16:05, Akira Kakuto wrote:
>> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics
>> Error:
>> No driver specified.
>> 
>> Not confirmed here.
>> % pdflatex
>> documentclass[a4paper]{article}
>> usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
>> begin{document}
>> Foo.
>> end{document}
>> works ok.
>> Do you have
>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
>> 
>> I assume that path should end with /graphics/graphics.cfg.
>> 
>> Anyway, no I don't have that file either in TL2016, or in TL2015.
>> TL2016 is the only one with the error.
>> 
>> -jack
>> 
>> If you do not have graphics.cfg then you need to supply an explicit
>> driver option to the graphics package but one has been part of
>> texlive
>> since before it was called texlive.
>> 
>> in tl2015 (and possibly tl2016) what do you get returned for
>> 
>> kpsewhich graphics.cfg
> 
>  Ah, now we're getting somewhere.  That command returns nothing at all
> in TL2016, but in TL2015 it returns:
> /tl/texmf-dist/tex/latex/latexconfig/graphics.cfg
> 
>  I don't know why it wouldn't be there this year.
> 
> there's been some rearrangement of the locations, in particular that
> file is now on ctan (and pulled from there to texlive) rather than
> being maintained directly in texlive. so in 2016 it is
> 2016/texmf-dist/tex/latex/graphics-cfg/graphics.cfg

My question, then, is which package should I tell tlmgr to install, so 
that I get that file?

-jack


From tljack at forallx.net  Tue Jun  7 18:13:58 2016
From: tljack at forallx.net (tljack at forallx.net)
Date: Tue, 07 Jun 2016 10:13:58 -0600
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
 <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
 <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
Message-ID: <5da059b2b1823c1a1d7cdc543408a1cd@forallx.net>

On 2016-06-07 10:01, David Carlisle wrote:
> On 7 June 2016 at 16:53, <tljack at forallx.net> wrote:
> 
>> On 2016-06-07 09:42, David Carlisle wrote:
>> On 7 June 2016 at 16:34, <tljack at forallx.net> wrote:
>> 
>> On 2016-06-06 16:05, Akira Kakuto wrote:
>> /tl/texmf-dist/tex/latex/graphics/graphics.sty:94: Package graphics
>> Error:
>> No driver specified.
>> 
>> Not confirmed here.
>> % pdflatex
>> documentclass[a4paper]{article}
>> usepackage{enumitem,geometry,array,graphicx,amsmath,amssymb}
>> begin{document}
>> Foo.
>> end{document}
>> works ok.
>> Do you have
>> texmf-dist/tex/latex/graphics-cfg/graphics.cfg ?
>> 
>> I assume that path should end with /graphics/graphics.cfg.
>> 
>> Anyway, no I don't have that file either in TL2016, or in TL2015.
>> TL2016 is the only one with the error.
>> 
>> -jack
>> 
>> If you do not have graphics.cfg then you need to supply an explicit
>> driver option to the graphics package but one has been part of
>> texlive
>> since before it was called texlive.
>> 
>> in tl2015 (and possibly tl2016) what do you get returned for
>> 
>> kpsewhich graphics.cfg
> 
>  Ah, now we're getting somewhere.  That command returns nothing at all
> in TL2016, but in TL2015 it returns:
> /tl/texmf-dist/tex/latex/latexconfig/graphics.cfg
> 
>  I don't know why it wouldn't be there this year.
> 
> there's been some rearrangement of the locations, in particular that
> file is now on ctan (and pulled from there to texlive) rather than
> being maintained directly in texlive. so in 2016 it is
> 2016/texmf-dist/tex/latex/graphics-cfg/graphics.cfg

I asked what package this is in, because if I do: "tlmgr info 
graphics-cfg", I get this:

Unknown directive ...containerchecksum 
c59200574a316416a23695c258edf3a32531fbda43ccdc09360ee105c3f07f9fb77df17c4ba4c2ea4f3a5ea6667e064b51e3d8c2fe6c984ba3e71b4e32716955... 
, please fix it! at /opt/tl/tlpkg/TeXLive/TLPOBJ.pm line 210, <TMP> line 
5579.

-jack

From preining at logic.at  Tue Jun  7 18:17:22 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 8 Jun 2016 01:17:22 +0900
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <6fc429fff496f9bc80abd054380f1fbb@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
 <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
 <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
 <6fc429fff496f9bc80abd054380f1fbb@forallx.net>
Message-ID: <E4B1F2D0-A214-447D-B793-D7F9FAEB01A3@logic.at>

Well, without telling which packages you installed nobody can help you.

In particular, of you only install packages one but one you might have forgotten the necessary packages that got singled out into a separate package as explained.

It is up to you to install the necessary packages if you don't use the collections we provide.

Simply installing collection-latex would fix your problems I guess.

Norbert


>that in my email.  After the minimal scheme, I install several hundred 
>additional packages.

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Jun  7 18:17:58 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 8 Jun 2016 01:17:58 +0900
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <a71233a686693763ad3e5029ad21e5bb@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
 <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
 <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
 <a71233a686693763ad3e5029ad21e5bb@forallx.net>
Message-ID: <C8C3E8D5-35C7-49CB-9EBA-1884E67AE845@logic.at>

Use
  tlmgr search
?
--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From d.p.carlisle at gmail.com  Tue Jun  7 18:20:57 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 7 Jun 2016 17:20:57 +0100
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <a71233a686693763ad3e5029ad21e5bb@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <FC53C8E940354F32AE35B4645D18F5E7@CJ3001517A>
 <03610f21a8464e9ec4df0d9dfd752908@forallx.net>
 <CAEW6iOhohX_ZAKFvo4HJnR4aP09638SynNVLc5poxzOT0ciC-g@mail.gmail.com>
 <78ac2bbe0636794a5369dc1aa820c338@forallx.net>
 <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
 <a71233a686693763ad3e5029ad21e5bb@forallx.net>
Message-ID: <CAEW6iOjEaKaKySAst4aC4PbgWArsUU7asyRVpUz+U38BBTQ7MQ@mail.gmail.com>

On 7 June 2016 at 17:08, <tljack at forallx.net> wrote:

>
> My question, then, is which package should I tell tlmgr to install, so
> that I get that file?
>
> -jack
>
>
seems to be graphics-cfg:


$ tlmgr info graphics-cfg

package:     graphics-cfg
category:    Package
shortdesc:   Sample configuration files for LaTeX color and graphics
longdesc:    This bundle includes color.cfg and graphics.cfg files that set
default "driver" options for the color and graphics packages. It contains
support for defaulting the new LuaTeX option which was added to graphics
and color in the 2016-02-01 release. The LuaTeX option is only used for
LuaTeX versions from 0.87, older versions use the pdfTeX option as before.
installed:   Yes
revision:    40269
sizes:       doc: 5k, run: 9k
relocatable: No
cat-date:    2016-03-01 21:50:00 +0100
cat-license: pd
cat-topics:  graphics colour
cat-related: color graphics
collection:  collection-latex

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160607/e5c22ccc/attachment-0001.html>

From komascript at gmx.info  Tue Jun  7 19:12:18 2016
From: komascript at gmx.info (Markus Kohm)
Date: Tue, 7 Jun 2016 19:12:18 +0200
Subject: [tex-live] TL2016 brings "no driver" error where previously
 there was none
In-Reply-To: <5da059b2b1823c1a1d7cdc543408a1cd@forallx.net>
References: <647200a3759eed02dd99c9be7e75b8a1@forallx.net>
 <CAEW6iOi1e+fNArb=MOwqktzt5vz8RyUE7Wx7Yw862czZTn=pYw@mail.gmail.com>
 <5da059b2b1823c1a1d7cdc543408a1cd@forallx.net>
Message-ID: <4075266.4px6TCTdWA@x61s.fritz.box>

Am Dienstag, 7. Juni 2016, 10:13:58 schrieb tljack at forallx.net:
> Unknown directive ...containerchecksum 

Your tlmgr is outdated. Maybe you are using tlmgr from TL2015.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20160607/c1522e32/attachment.bin>

From joseph.wright at morningstar2.co.uk  Tue Jun  7 23:51:59 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 7 Jun 2016 22:51:59 +0100
Subject: [tex-live] (u)p(La)TeX dependency tree
Message-ID: <2feaf360-d84d-8a56-1fc5-69d03d3ee1d1@morningstar2.co.uk>

Hello all,

Updating some automated tests from TL'15 to TL'16, I find that there are
some oddities with (u)pTeX/(u)pLaTeX. In particular, with TL'15 a
minimised system with

    tlmgr install babel babel-english latex latex-bin \
      latex-fonts latexconfig xetex
    tlmgr install --no-depends ptex uptex

would allow basic testing with (u)pTeX including with (u)pLaTeX. To
achieve the same in TL'16 I need

    tlmgr install babel babel-english latex latex-bin \
      latex-fonts latexconfig xetex
    tlmgr install --no-depends ptex uptex ptex-base \
      uptex-base ptex-fonts uptex-fonts platex uplatex

What's odd in particular is:

- You need the two 'fonts' packages to get the formats to be listed
  in fmtutil.cnf
- The (u)platex packages don't depend on the (u)ptex ones

(I use the --no-depends here as the aim is to have a truly minimal
system which has just enough to work: it's automatically reinstalled for
every run, so there is a need to avoid any unused material.)

Joseph

From kakuto at fuk.kindai.ac.jp  Wed Jun  8 03:06:03 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 8 Jun 2016 10:06:03 +0900
Subject: [tex-live] xindy.pl
In-Reply-To: <2feaf360-d84d-8a56-1fc5-69d03d3ee1d1@morningstar2.co.uk>
References: <2feaf360-d84d-8a56-1fc5-69d03d3ee1d1@morningstar2.co.uk>
Message-ID: <62D8C6CFFE7A434EBA2AEBC67BF934BA@CJ3001517A>

Hello all,

In r41316, we have updated xindy.pl.  In the new xindy.pl,
kpsewhich is used to search for xindy modules.
The performance is lost. However user modules specified
by the -M option can be under <anytexmf>/xindy/modules/.

Best,
Akira


From thomasgmeyer at online.de  Wed Jun  8 17:21:49 2016
From: thomasgmeyer at online.de (Thomas Meyer)
Date: Wed, 8 Jun 2016 17:21:49 +0200
Subject: [tex-live] LuaLaTex MacTex 2016 doesn't work
In-Reply-To: <2382684.l2dEdiHFUk@x61s.fritz.box>
References: <023373fb-d377-334e-f5b9-8b8ab60ca2ef@online.de>
 <2382684.l2dEdiHFUk@x61s.fritz.box>
Message-ID: <75d6839e-6a0f-755a-7472-75028a2adfdc@online.de>

Hi,

thank you all for your answers.
Now I can work with.

Greetings
Thomas

Am 06.06.16 um 20:09 schrieb Markus Kohm:
> Am Montag, 6. Juni 2016, 19:55:08 schrieb Thomas Meyer:
>> What's going wrong?
> 
> This is not a TeX Live bug, it's a known KOMA-Script bug:
> 
> ? <http://www.komascript.de/release3.20>
> 
> Markus
> ---
> Infos zu LaTeX: <http://www.dante.de/tex.html>
> Infos zu KOMA-Script: <http://www.komascript.de>
> Aktuelles KOMA-Script: <http://www.komascript.de/current>
> KOMA-Script-Anleitung: <http://www.komascript.de/scrguide>
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 841 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20160608/2713ac9c/attachment.bin>

From vincent.torri at gmail.com  Wed Jun  8 22:20:20 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Wed, 8 Jun 2016 22:20:20 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
Message-ID: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>

Hello

I am writing a library using the kpathsea library. kpathsea reports,
on Windows, this message:

warning: kpathsea: configuration file texmf.cnf not found in these
directories: etc...

Here are the steps that described what and how I install and use TeX Live:

1) I installed TeX Live 2016 (using install-tl-windows.exe) in the
directory E:\Documents\programmes_x86\texlive, so I have texmf.cnf in
E:\Documents\programmes_x86\texlive\2016

2) just after the installation of TeX Live, I have added the binary
directory to PATH (that is :
E:\Documents\programmes_x86\texlive\2016\bin\win32)

3) As there is only the kpathsea DLL (no import library, no header
file for developping with kpathsea), I have loaded the DLL with
LoadLibrary and retrieve the symbols with GetProcAdress(). The code
can be find here :

https://github.com/vtorri/libdvi/blob/master/src/lib/dvi_kpathsea.c

(lines 281 and after, and the macros are defined lines 230 and after)

4) I test my code with a DVI file using the font files cmr12.tfm and
cmsy10.tfm, with the code of the above file, function
dvi_kpathsea_path_name_get(), line 357.

5) I install my program in /opt/efl_i686/bin, that is :
E:/Documents/MSYS2/opt/efl_i686/bin

6) When I run my program, with MSYS2, the kpathsea message is :

warning: kpathsea: configuration file texmf.cnf not found in these
directories: E:/Documents/MSYS2/opt/efl_i686/bin;E:/Documents/MSYS2/opt/efl_i686/bin/share/texmf-local/web2c;E:/Documents/MSYS2/opt/efl_i686/bin/share/texmf-dist/web2c;E:/Documents/MSYS2/opt/efl_i686/bin/share/texmf/web2c;E:/Documents/MSYS2/opt/efl_i686/bin/texmf-local/web2c;E:/Documents/MSYS2/opt/efl_i686/bin/texmf-dist/web2c;E:/Documents/MSYS2/opt/efl_i686/bin/texmf/web2c;E:/Documents/MSYS2/opt/efl_i686;E:/Documents/MSYS2/opt/efl_i686/share/texmf-local/web2c;E:/Documents/MSYS2/opt/efl_i686/share/texmf-dist/web2c;E:/Documents/MSYS2/opt/efl_i686/share/texmf/web2c;E:/Documents/MSYS2/opt/efl_i686/texmf-local/web2c;E:/Documents/MSYS2/opt/efl_i686/texmf-dist/web2c;E:/Documents/MSYS2/opt/efl_i686/texmf/web2c;E:/Documents/MSYS2/texmf-local/web2c;E:/Documents/MSYS2/opt;E:/Documents/MSYS2/opt/share/texmf-local/web2c;E:/Documents/MSYS2/opt/share/texmf-dist/web2c;E:/Documents/MSYS2/opt/share/texmf/web2c;E:/Documents/MSYS2/opt/texmf-local/web2c;E:/Documents/MSYS2/opt/texmf-dist/web2c;E:/Documents/MSYS2/opt/texmf/web2c.

So, it seems to search texmf.cnf only in subdirectories of
E:/Documents/MSYS2/opt/.

Maybe it is because I load kpathsea DLL with LoadLibrary, and kpathsea
searches texmf.cnf from where my program is installed.

Maybe it is the code of dvi_kpathsea_path_name_get() : I call
kpathsea_set_program_name() and kpathsea_init_prog() with the name of
my program ("dvi.exe", installed in
E:/Documents/MSYS2/opt/efl_i686/bin)

I tried to set TEXMF and TEXMFCNF in the shell  to some values,
without success. But maybe i've wrongly set those environment
variables.

Does someone have ideas to solve this issue ?

thank you

Vincent Torri


From kakuto at fuk.kindai.ac.jp  Thu Jun  9 01:42:52 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 9 Jun 2016 08:42:52 +0900
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
Message-ID: <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>

Dear Vincent,

> I install my program in /opt/efl_i686/bin, that is :
> E:/Documents/MSYS2/opt/efl_i686/bin

You have to install your program into
E:/Documents/programmes_x86/texlive/2016/bin/win32

in order to search for texmf.cnf's correctly.

Best,
Akira


From vincent.torri at gmail.com  Thu Jun  9 04:02:25 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Thu, 9 Jun 2016 04:02:25 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
Message-ID: <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>

Hello

On Thu, Jun 9, 2016 at 1:42 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
> Dear Vincent,
>
>> I install my program in /opt/efl_i686/bin, that is :
>> E:/Documents/MSYS2/opt/efl_i686/bin
>
>
> You have to install your program into
> E:/Documents/programmes_x86/texlive/2016/bin/win32
>
> in order to search for texmf.cnf's correctly.

There is no other option, like setting an environment variable (TEXMF*
environment variable) ? Otherwise, that's very annoying as it force me
to install all the program using my library in that directory.

There is certainly another option, as kpsewhich can find the directory
where cmr12.tfm is located.

Vincent Torri

From kakuto at fuk.kindai.ac.jp  Thu Jun  9 04:32:12 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 9 Jun 2016 11:32:12 +0900
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
Message-ID: <A54B8434E8854D5B9F4BFA0307EFE895@CJ3001517A>

Dear Vincent,

> There is no other option, like setting an environment variable (TEXMF*
> environment variable) ? Otherwise, that's very annoying as it force me
> to install all the program using my library in that directory.

> so I have texmf.cnf in
> E:/Documents/programmes_x86/texlive/2016

Define the env variable TEXMFCNF as
TEXMFCNF=E:/Documents/programmes_x86/texlive/2016;

The trailing semicolon is important. If the semicolon does not exist,
texmf.cnf is searched only in E:/Documents/programmes_x86/texlive/2016.

Best,
Akira


From vincent.torri at gmail.com  Thu Jun  9 04:33:25 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Thu, 9 Jun 2016 04:33:25 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
Message-ID: <CAMq1adqcMbTJ6rkYSJQA=Ddr9CPdJ6t=pUQYvAxHczr4QDwZ0A@mail.gmail.com>

Hello

1) Is setting TEXMFCNF in some way can help ?

2) If i call kpathsea_set_program_name(kpse, "kpsewhich.exe", NULL);
that is not wth "dvi.exe" but with "kpsewhich.exe", it works. Is this
reasonable to call kpathsea_set_program_name() like that ?

thank you

Vincent Torri


On Thu, Jun 9, 2016 at 4:02 AM, Vincent Torri <vincent.torri at gmail.com> wrote:
> Hello
>
> On Thu, Jun 9, 2016 at 1:42 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>> Dear Vincent,
>>
>>> I install my program in /opt/efl_i686/bin, that is :
>>> E:/Documents/MSYS2/opt/efl_i686/bin
>>
>>
>> You have to install your program into
>> E:/Documents/programmes_x86/texlive/2016/bin/win32
>>
>> in order to search for texmf.cnf's correctly.
>
> There is no other option, like setting an environment variable (TEXMF*
> environment variable) ? Otherwise, that's very annoying as it force me
> to install all the program using my library in that directory.
>
> There is certainly another option, as kpsewhich can find the directory
> where cmr12.tfm is located.
>
> Vincent Torri

From vincent.torri at gmail.com  Thu Jun  9 04:38:49 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Thu, 9 Jun 2016 04:38:49 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <A54B8434E8854D5B9F4BFA0307EFE895@CJ3001517A>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
 <A54B8434E8854D5B9F4BFA0307EFE895@CJ3001517A>
Message-ID: <CAMq1adqa_Kj8aH_vz=yAjipE7h5JRcER8tivOSm+++iF2nUw=A@mail.gmail.com>

On Thu, Jun 9, 2016 at 4:32 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
> Dear Vincent,
>
>> There is no other option, like setting an environment variable (TEXMF*
>> environment variable) ? Otherwise, that's very annoying as it force me
>> to install all the program using my library in that directory.
>
>
>> so I have texmf.cnf in
>> E:/Documents/programmes_x86/texlive/2016
>
>
> Define the env variable TEXMFCNF as
> TEXMFCNF=E:/Documents/programmes_x86/texlive/2016;
>
> The trailing semicolon is important. If the semicolon does not exist,
> texmf.cnf is searched only in E:/Documents/programmes_x86/texlive/2016.

1) I've just tried this. My program seems to hang.

2) I tried E:/Documents/programmes_x86/texlive/2016: (with : at the
end) and I get

warning: kpathsea: configuration file texmf.cnf not found in these
directories: E;E:/Documents/MSYS2/Documents/programmes_x86/texlive/2016.

Vincent Torri

From bernhard.kleine at gmx.net  Thu Jun  9 09:22:06 2016
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Thu, 9 Jun 2016 09:22:06 +0200
Subject: [tex-live] sanitize-umlaut in CTAN but not in texlive
Message-ID: <4762883f-0a8e-3927-2e20-add5626827f4@gmx.net>

Is there an issue with licences?

Regards
Bernhard

-- 
--
spitzhalde9
79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


From news3 at nililand.de  Thu Jun  9 14:08:12 2016
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 9 Jun 2016 14:08:12 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
 <A54B8434E8854D5B9F4BFA0307EFE895@CJ3001517A>
 <CAMq1adqa_Kj8aH_vz=yAjipE7h5JRcER8tivOSm+++iF2nUw=A@mail.gmail.com>
Message-ID: <yqyhrpquv09o$.dlg@nililand.de>

Am Thu, 9 Jun 2016 04:38:49 +0200 schrieb Vincent Torri:

>> The trailing semicolon is important. If the semicolon does not exist,
>> texmf.cnf is searched only in E:/Documents/programmes_x86/texlive/2016.
> 
> 1) I've just tried this. My program seems to hang.

I'm using 

TEXMFCNF=D:\xxx\yyy\;

on windows 7 and 10 to get texlive to use a special texmf.cnf and it
works fine. 

 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From zdenek.wagner at gmail.com  Thu Jun  9 14:19:39 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 9 Jun 2016 14:19:39 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <CAMq1adqa_Kj8aH_vz=yAjipE7h5JRcER8tivOSm+++iF2nUw=A@mail.gmail.com>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
 <A54B8434E8854D5B9F4BFA0307EFE895@CJ3001517A>
 <CAMq1adqa_Kj8aH_vz=yAjipE7h5JRcER8tivOSm+++iF2nUw=A@mail.gmail.com>
Message-ID: <CAC1phyYMy8-4+wcLGocM1LGgqFWPJBatrSWpA41Dq3M0nbM2Qg@mail.gmail.com>

2016-06-09 4:38 GMT+02:00 Vincent Torri <vincent.torri at gmail.com>:

> On Thu, Jun 9, 2016 at 4:32 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp>
> wrote:
> > Dear Vincent,
> >
> >> There is no other option, like setting an environment variable (TEXMF*
> >> environment variable) ? Otherwise, that's very annoying as it force me
> >> to install all the program using my library in that directory.
> >
> >
> >> so I have texmf.cnf in
> >> E:/Documents/programmes_x86/texlive/2016
> >
> >
> > Define the env variable TEXMFCNF as
> > TEXMFCNF=E:/Documents/programmes_x86/texlive/2016;
> >
> > The trailing semicolon is important. If the semicolon does not exist,
> > texmf.cnf is searched only in E:/Documents/programmes_x86/texlive/2016.
>
> 1) I've just tried this. My program seems to hang.
>
> 2) I tried E:/Documents/programmes_x86/texlive/2016: (with : at the
> end) and I get
>

Unix-like forward slashes instead of windows-like backslashes are probably
OK but what matters is the unix-like colon at the end, it certailny does
not work. You must use a semicolon in Windows because a colon is used to
separate a drive letter.

>
> warning: kpathsea: configuration file texmf.cnf not found in these
> directories: E;E:/Documents/MSYS2/Documents/programmes_x86/texlive/2016.
>
> Vincent Torri
>



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160609/6f6605ea/attachment.html>

From preining at logic.at  Thu Jun  9 15:50:24 2016
From: preining at logic.at (Norbert Preining)
Date: Thu, 9 Jun 2016 22:50:24 +0900
Subject: [tex-live] TeXLive 2016 source tar ball with object and library
 files?
In-Reply-To: <20160607114939.2e6qzkxeex5l4ite@boole.suse.de>
References: <20160607114939.2e6qzkxeex5l4ite@boole.suse.de>
Message-ID: <20160609135024.GQ16030@logic.at>

On Tue, 07 Jun 2016, Dr. Werner Fink wrote:
> just tried to archivemount texlive-20160523-source.tar.xz and recoginzed
> that the tar ball is much larger then those of 2015 (252126K to 44395K)
> due a lot of binary, object, and library files.

No idea what has happened here ...

Karl?

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Thu Jun  9 15:53:45 2016
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 9 Jun 2016 15:53:45 +0200
Subject: [tex-live] sanitize-umlaut in CTAN but not in texlive
References: <4762883f-0a8e-3927-2e20-add5626827f4@gmx.net>
Message-ID: <joh5r9dbwckm.dlg@nililand.de>

Am Thu, 9 Jun 2016 09:22:06 +0200 schrieb Bernhard Kleine:

> Is there an issue with licences?

No. Probably texlive simply didn't yet catch up all new packages. 
After the freeze it can take some time until everything is there.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From preining at logic.at  Thu Jun  9 16:01:37 2016
From: preining at logic.at (Norbert Preining)
Date: Thu, 9 Jun 2016 23:01:37 +0900
Subject: [tex-live] (u)p(La)TeX dependency tree
In-Reply-To: <2feaf360-d84d-8a56-1fc5-69d03d3ee1d1@morningstar2.co.uk>
References: <2feaf360-d84d-8a56-1fc5-69d03d3ee1d1@morningstar2.co.uk>
Message-ID: <20160609140137.GR16030@logic.at>

Hi Joseph,

> - You need the two 'fonts' packages to get the formats to be listed
>   in fmtutil.cnf
> - The (u)platex packages don't depend on the (u)ptex ones

We don't track package - package dependencies completely seriously.
The uptex rework was very recent, and thus probably needs some adjustments.
If you have suggetions (which depends to be added to which package)
simple mail them to Karl and me.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From werner at suse.de  Thu Jun  9 16:01:51 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Thu, 9 Jun 2016 16:01:51 +0200
Subject: [tex-live] TeXLive 2016 source tar ball with object and library
 files?
In-Reply-To: <20160609135024.GQ16030@logic.at>
References: <20160607114939.2e6qzkxeex5l4ite@boole.suse.de>
 <20160609135024.GQ16030@logic.at>
Message-ID: <20160609140151.bennnt643maxsqun@boole.suse.de>

On Thu, Jun 09, 2016 at 10:50:24PM +0900, Norbert Preining wrote:
> On Tue, 07 Jun 2016, Dr. Werner Fink wrote:
> > just tried to archivemount texlive-20160523-source.tar.xz and recoginzed
> > that the tar ball is much larger then those of 2015 (252126K to 44395K)
> > due a lot of binary, object, and library files.
> 
> No idea what has happened here ...

Meanwhile I've cleaned out the source tar ball, no only binary, object, and
library files but also config.status and the dependency files as well ;)

 du -ck texlive-20160523-source.tar.xz
 46656   texlive-20160523-source.tar.xz
 46656   total

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160609/827fe591/attachment-0001.bin>

From henrimenke at gmail.com  Thu Jun  9 16:05:53 2016
From: henrimenke at gmail.com (Henri Menke)
Date: Thu, 9 Jun 2016 16:05:53 +0200
Subject: [tex-live] Debugging symbols for binaries
Message-ID: <575977C1.5020205@gmail.com>

Dear list,

recently I found that pdftex segfaults [1].  When trying to find the
issue, I ran pdftex in gdb to obtain a full backtrace.  Unfortunately,
without debugging symbols these backtraces are somewhat worthless, as
they only show memory addresses.  I then tried to compile pdftex from
source, but soon noticed that a lot of handwork has to be done to make
it run (installing header files, building formats, etc.).

Therefore, I ask humbly, whether it would be possible to include
debugging symbols for binaries in TeXlive (perhaps in an extra tree like
documentation and sources).  It is not necessary to have extra binaries
with symbols, but symbols can be extracted to an extra file after
compilation [2], so there is little to no redundancy.

Below I have listed some pros and cons:

[+] Experienced users have the ability to debug crashes
[+] Developers might receive higher quality bug reports
[+] Full stack traces reveal why it ?doesn't work on my machine?

[-] Little to no use for most of the users
[-] Additional disk space (approx. 5 times the size of the exe)
[-] Platform dependent

Thank you very much for your consideration.

Kind regards,
Henri

[1] https://www.tug.org/pipermail/tex-live/2016-June/038664.html
[2] https://stackoverflow.com/questions/866721

From karl at freefriends.org  Thu Jun  9 20:07:45 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 9 Jun 2016 18:07:45 +0000
Subject: [tex-live] Debugging symbols for binaries
In-Reply-To: <575977C1.5020205@gmail.com>
Message-ID: <201606091807.u59I7jUf003435@freefriends.org>

Hi Henri - thanks for the suggestion and the links.  I am sympathetic to
the idea, as I have been stymied myself plenty of times on crashes with
various distro-supplied binaries which (of course) have no symbols and
are not feasible to recompile.  (Or useful, as most likely the crash is
not easily reproducible anyway.)  I have the vague impression that
Debian started supplying binaries with symbols in a sibling repo at one
point, but I don't know.

Anyway, back to TL, our standard build process does create the binaries
with symbols; they're only stripped as part of going into the final bin/
directory.  So it should be straightforward to make tarballs of the
debuggable binaries available on the web.  (I don't think it's worth it
to try to include them in the distro or the repo.)

I'll think about it and discuss it with the builders.  Thanks again.

P.S. As for the problem at hand, Akira came up with a patch (below). -k

--- utils.c.orig	Fri Feb 19 11:45:32 2016
+++ utils.c	Mon Jun 06 07:06:49 2016
@@ -870,7 +870,8 @@
     int size, len = 0;          /* to avoid warning about uninitialized use of len */
 
     boolean found = i < sub_match_count
-        && match_string != NULL && pmatch[i].rm_so >= 0 && i >= 0;
+        && match_string != NULL && pmatch[i].rm_so >= 0 && i >= 0
+        && pmatch[i].rm_eo >= pmatch[i].rm_so;
 
     if (found) {
         len = pmatch[i].rm_eo - pmatch[i].rm_so;

From karl at freefriends.org  Thu Jun  9 23:47:32 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 9 Jun 2016 21:47:32 +0000
Subject: [tex-live] TeXLive 2016 source tar ball with object and library
 files?
In-Reply-To: <20160607114939.2e6qzkxeex5l4ite@boole.suse.de>
Message-ID: <201606092147.u59LlWmB028458@freefriends.org>

    due a lot of binary, object, and library files.
    Why this?

I obviously made a mistake somewhere in my scripts.  I'll do the same
cutting you did and update the file when I have a chance.  Sorry.  -k

From reinhard.kotucha at web.de  Fri Jun 10 00:57:11 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 10 Jun 2016 00:57:11 +0200
Subject: [tex-live] Debugging symbols for binaries
In-Reply-To: <201606091807.u59I7jUf003435@freefriends.org>
References: <575977C1.5020205@gmail.com>
 <201606091807.u59I7jUf003435@freefriends.org>
Message-ID: <22361.62535.96968.324708@zaphod.ms25.net>

On 2016-06-09 at 18:07:45 +0000, Karl Berry wrote:

 > Hi Henri - thanks for the suggestion and the links.  I am sympathetic to
 > the idea, as I have been stymied myself plenty of times on crashes with
 > various distro-supplied binaries which (of course) have no symbols and
 > are not feasible to recompile.  (Or useful, as most likely the crash is
 > not easily reproducible anyway.)  I have the vague impression that
 > Debian started supplying binaries with symbols in a sibling repo at one
 > point, but I don't know.
 > 
 > Anyway, back to TL, our standard build process does create the binaries
 > with symbols; they're only stripped as part of going into the final bin/
 > directory.  So it should be straightforward to make tarballs of the
 > debuggable binaries available on the web.  (I don't think it's worth it
 > to try to include them in the distro or the repo.)
 > 
 > I'll think about it and discuss it with the builders.  Thanks again.

Hi Karl,
is it feasible/reasonable to add an option --nostrip to the
trunk/Build/source/Build shell script and adapt the makefiles
accordingly? 

Since all we need is to avoid that the program strip(1) is run, I
suppose that a platform-independent solution is possible.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From kakuto at fuk.kindai.ac.jp  Fri Jun 10 06:48:56 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 10 Jun 2016 13:48:56 +0900
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
Message-ID: <B4801F9E69684EAA9CB980B775058329@CJ3001517A>

>> TEXMFCNF=E:/Documents/programmes_x86/texlive/2016;
>>
>> The trailing semicolon is important. If the semicolon does not exist,
>> texmf.cnf is searched only in E:/Documents/programmes_x86/texlive/2016.
>
> 1) I've just tried this. My program seems to hang.
>
> 2) I tried E:/Documents/programmes_x86/texlive/2016: (with : at the
> end) and I get

Probably you are using a non-standard shell in which
the semicolon is a special character.
But the kpathsea for w32 requires DOS path separator, semicolon.
So maybe the following works:
export TEXMFCNF='E:/Documents/programmes_x86/texlive/2016;'

Best,
Akira


From vincent.torri at gmail.com  Fri Jun 10 06:57:49 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 10 Jun 2016 06:57:49 +0200
Subject: [tex-live] kpathsea: adding import library on Windows (and if
 possible header files too)
Message-ID: <CAMq1adpKabUsm8Y4_iG18=GLgaaFhoQX53SQGMvKNz3xDwPghg@mail.gmail.com>

Hello

Would it be possible to add the import library for kpathsea on
Windows, when creating the DLL ?

if gcc is used, then it is easy. The function are already declared
with the dllexport storage class attribute, so when creating the DLL,
you can do something like that in the make rule:

$(SHAREDLIB): $(OBJS)
    $(CC) -shared -Wl,--out-implib,$(IMPLIB) $(LDFLAGS) -o $@ $(OBJS)
    $(STRIP) $@

usually, the name of the import library, stored in $(IMPLIB), is
libkpathsea.dll.a with gcc and is installed in a lib/ subdirectory.

Here, TeX Live is a bit different from what is commonly used in other
projects : the  binaries are not in a bin/ subdir but in bin/win32/.
If you follow the same scheme, the import library would be installed
in lib/win32/

Changing this to win32/bin and win32/lib would be a bit more what is
commonly used.

Anyway, in whatever directory you install the files, it would be nice
to have such import library on Windows

thank you

Vincent Torri

From vincent.torri at gmail.com  Fri Jun 10 07:09:37 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 10 Jun 2016 07:09:37 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
Message-ID: <CAMq1adp-R281Eu6CMep4_6hFCopFQA0VspX=NVQOTSE7_KvzEQ@mail.gmail.com>

Hello

I've downloaded the installation binary from
https://www.tug.org/texlive/acquire-netinstall.html, and it installs a
32 bits version of TeX Live

I would like to know if there is a 64 bits Windows version of TeX Live.

thank you

Vincent Torri

From vincent.torri at gmail.com  Fri Jun 10 07:14:13 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 10 Jun 2016 07:14:13 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <B4801F9E69684EAA9CB980B775058329@CJ3001517A>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
 <B4801F9E69684EAA9CB980B775058329@CJ3001517A>
Message-ID: <CAMq1adoWx0xNUuJW1hw64R-277Q1r6jckgj_oYJTn+P8x64haw@mail.gmail.com>

Hello

On Fri, Jun 10, 2016 at 6:48 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>>> TEXMFCNF=E:/Documents/programmes_x86/texlive/2016;
>>>
>>> The trailing semicolon is important. If the semicolon does not exist,
>>> texmf.cnf is searched only in E:/Documents/programmes_x86/texlive/2016.
>>
>>
>> 1) I've just tried this. My program seems to hang.
>>
>> 2) I tried E:/Documents/programmes_x86/texlive/2016: (with : at the
>> end) and I get
>
>
> Probably you are using a non-standard shell in which
> the semicolon is a special character.
> But the kpathsea for w32 requires DOS path separator, semicolon.
> So maybe the following works:
> export TEXMFCNF='E:/Documents/programmes_x86/texlive/2016;'


I use MSYS2. It indeed suppresses the warning, but with that code:

    char *name = "cmsy10.tfm";
    kpathsea kpse;
    char *n;

    kpse = kpathsea_new();
    kpathsea_set_program_name(kpse, "dvi.exe", NULL);
    kpathsea_init_prog (kpse, "dvi.exe", 300, NULL, NULL);
    n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
    kpathsea_finish(kpse);

n is NULL.

If I replace "dvi.exe" with "kpsewhich.exe", n is filled with the correct value.

Any idea why ?

thank you

Vincent Torri

From kakuto at fuk.kindai.ac.jp  Fri Jun 10 07:27:52 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 10 Jun 2016 14:27:52 +0900
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adp-R281Eu6CMep4_6hFCopFQA0VspX=NVQOTSE7_KvzEQ@mail.gmail.com>
References: <CAMq1adp-R281Eu6CMep4_6hFCopFQA0VspX=NVQOTSE7_KvzEQ@mail.gmail.com>
Message-ID: <6172301186B14EC8B7F17C04AE3A0C79@CJ3001517A>

> I would like to know if there is a 64 bits Windows version of TeX Live.

See CTAN/systems/win32/w32tex/TLW64/
Please read 00README.TLW64 carefully.

Best,
Akira


From dbitouze at wanadoo.fr  Fri Jun 10 08:04:10 2016
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Fri, 10 Jun 2016 08:04:10 +0200
Subject: [tex-live] Error with TL 2015 (involving `floatrow')
In-Reply-To: <m3h9q3xw21.fsf@example.com> ("Denis
 \=\?utf-8\?Q\?Bitouz\=C3\=A9\?\= \=\?utf-8\?Q\?\=22's\?\= message of "Fri, 19
 Jun 2015 22:49:58 +0200")
References: <m3h9q3xw21.fsf@example.com>
Message-ID: <m3d1np60md.fsf@example.com>

Hi,

Le 19/06/15 ? 22h49, Denis Bitouz? a ?crit :

> the following M (non) WE example:
>
> \documentclass{article}
> \usepackage{kpfonts}
> \usepackage{booktabs}
> \usepackage{siunitx}
> \usepackage{pgfplots}
> \usepackage{floatrow}
> \begin{document}
> Foo
> \end{document}
>
> used to compile like a charm with TL 2014 but fails to compile with an
> up to date TL 2015 with error:
>
>   ?????
>   ? (/usr/local/texlive/2015/texmf-dist/tex/latex/floatrow/floatrow.sty
>   ? (/usr/local/texlive/2015/texmf-dist/tex/latex/caption/caption3.sty)
>   ? ! No room for a new \dimen .
>   ? \ch at ck ...\else \errmessage {No room for a new #3}
>   ?                                                   \fi 
>   ? l.485 ...finable\flrow at foot{\newinsert\flrow at foot}
>   ?                                                   
>   ? ? 
>   ?????

I noticed that this bug, due to (quoting David Carlisle):

  "Line 485 of floatrow.sty should be

   \@ifdefinable\flrow at foot{\newbox\flrow at foot}

   not

  \@ifdefinable\flrow at foot{\newinsert\flrow at foot}"

has been fixed in TL 2016 and even in an updated TL 2015 (great!),
though `floatrow.sty' hasn't been updated (still 2008/08/02 v0.3b).

Do you know what happened?

Thanks in anticipation.
-- 
Denis


From d.p.carlisle at gmail.com  Fri Jun 10 08:41:04 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 10 Jun 2016 07:41:04 +0100
Subject: [tex-live] Error with TL 2015 (involving `floatrow')
In-Reply-To: <m3d1np60md.fsf@example.com>
References: <m3h9q3xw21.fsf@example.com> <m3d1np60md.fsf@example.com>
Message-ID: <CAEW6iOgk2rQSxEUOZaensRistEAye1f4K-umc6dExiSxuReD=Q@mail.gmail.com>

On 10 June 2016 at 07:04, Denis Bitouz? <dbitouze at wanadoo.fr> wrote:

> Hi,
>
> Le 19/06/15 ? 22h49, Denis Bitouz? a ?crit :
>
> > the following M (non) WE example:
> >
> > \documentclass{article}
> > \usepackage{kpfonts}
> > \usepackage{booktabs}
> > \usepackage{siunitx}
> > \usepackage{pgfplots}
> > \usepackage{floatrow}
> > \begin{document}
> > Foo
> > \end{document}
> >
> > used to compile like a charm with TL 2014 but fails to compile with an
> > up to date TL 2015 with error:
> >
> >   ?????
> >   ? (/usr/local/texlive/2015/texmf-dist/tex/latex/floatrow/floatrow.sty
> >   ? (/usr/local/texlive/2015/texmf-dist/tex/latex/caption/caption3.sty)
> >   ? ! No room for a new \dimen .
> >   ? \ch at ck ...\else \errmessage {No room for a new #3}
> >   ?                                                   \fi
> >   ? l.485 ...finable\flrow at foot{\newinsert\flrow at foot}
> >   ?
> >   ? ?
> >   ?????
>
> I noticed that this bug, due to (quoting David Carlisle):
>
>   "Line 485 of floatrow.sty should be
>
>    \@ifdefinable\flrow at foot{\newbox\flrow at foot}
>
>    not
>
>   \@ifdefinable\flrow at foot{\newinsert\flrow at foot}"
>
> has been fixed in TL 2016 and even in an updated TL 2015 (great!),
> though `floatrow.sty' hasn't been updated (still 2008/08/02 v0.3b).
>
> Do you know what happened?
>
> Thanks in anticipation.
> --
> Denis
>
>

I did actually get an updated version of floatrow at the time but it never
got to ctan (there were some communication/language issues that complicated
things) but meanwhile we made latex aware that it's running in etex and has
rather more registers available (although not more inserts actually) and
so you are far less likely to get the no room for a new dimen error in
latex releases after 2015/10/01.

(None of this is related to texlive really: it's all macro layer changes
and applies to any tex distribution).

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160610/89450da0/attachment.html>

From angelo.graziosi at alice.it  Fri Jun 10 15:15:18 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 10 Jun 2016 15:15:18 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
Message-ID: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>

Akira Kakuto wrote:
> See CTAN/systems/win32/w32tex/TLW64/
> Please read 00README.TLW64 carefully.

I wonder if we can install TL2016 from MSYS2 shell using the Perl script 
install-tl with the "-custom-bin" option.

BTW, I tried to build TL2016 many months ago with MSYS2/MINGW64 [1] and 
there were some build issues.. I tried to call attention [2] but none 
took care of it.

I think that TL W64 binaries can be created adding MSYS2/MINGW64 as new 
TL platform but it need the help of TL gurus.. (as we did when Cygwin 
was added...)

This could/should be one of the goals of the next 2017 release..

Ciao,
  Angelo.

---
[1] MSYS2 is a fork from Cygwin which aims to build apps natively for 
W64 (https://sourceforge.net/p/msys2/wiki/Home).

[2] http://tug.org/mailman/htdig/tlbuild/2015q3/003317.html
     https://sourceforge.net/p/msys2/tickets/197

From mojca.miklavec.lists at gmail.com  Fri Jun 10 15:43:13 2016
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 10 Jun 2016 15:43:13 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
Message-ID: <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>

On 10 June 2016 at 15:15, Angelo Graziosi wrote:
> Akira Kakuto wrote:
>>
>> See CTAN/systems/win32/w32tex/TLW64/
>> Please read 00README.TLW64 carefully.
>
> I wonder if we can install TL2016 from MSYS2 shell using the Perl script
> install-tl with the "-custom-bin" option.

It would probably be nice to support installing TL under windows from
a shell script (either from MSYS2 or from the new shell that Windows
10 has introduced). This alone doesn't require official addition of
new binaries, but maybe some patches would be needed.

However adding *both* binaries (one compiled with Visual Studio and
one compiled with MinGW for the *same* architecture; please note that
I'm not talking about 32 vs. 64-bit here) makes no sense in my
opinion. (The cygwin binaries actually also have very little added
value if you ask me; cygwin users could just as well install the other
windows binaries from the shell script.)

Supporting 64-bit windows binaries is another story though. Akira
already compiles and provides 64-bit binaries built with Visual
Studio, so there is no need to compile yet another set (you can of
course do that at home and complain when something breaks). The
problem is just that they are not officially included.

I would also be in favour of adding them, but Karl is afraid of the
added complexity with not that much "added value" (properly supporting
64-bit Windows also means providing 64-bit perl, ghostscript etc.,
doubling the space required for all those binaries and properly
deciding whether the Windows in 32-bit or 64-bit, ...).


> BTW, I tried to build TL2016 many months ago with MSYS2/MINGW64 [1] and
> there were some build issues.. I tried to call attention [2] but none took
> care of it.
>     https://sourceforge.net/p/msys2/tickets/197

It's not that TeX Live calls clang. It's ICU that calls clang.

I would suggest you to try to compile the official ICU under the same
window. I would say that this is a bug that ICU developers have to fix
(or perhaps a bug in clang ? not impossible either; Akira is probably
not using clang) and you probably need to complain to them. Just for
fun you could try to uninstall clang[++] and make a new clean build
attempt. Maybe you'll then succeed.

I didn't know that mingw64-w64 was actually shipping clang[++] by
default. I looked at it a while ago and only found gcc plus some
unofficial builds or instructions that needed quite a bit of patience
to make it work.

> I think that TL W64 binaries can be created adding MSYS2/MINGW64 as new TL
> platform but it need the help of TL gurus.. (as we did when Cygwin was
> added...)

There are several different unrelated goals:
- making 64-bit mingw builds work out of the box (you should really
try to pursue that further)
- supporting installation of existing or "third-party" binaries from
the msys shell
- adding a new set of binaries and support to TL

Karl was not particularly in favour of achieving the last goal, but
fixing the build can be taken care of separately.

Mojca


From vincent.torri at gmail.com  Fri Jun 10 15:48:13 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 10 Jun 2016 15:48:13 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
Message-ID: <CAMq1adre6Sh=RJiwNuLr2U4rY6koahktGjPBueZSnfiEu5sg3w@mail.gmail.com>

On Fri, Jun 10, 2016 at 3:15 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
> Akira Kakuto wrote:
>>
>> See CTAN/systems/win32/w32tex/TLW64/
>> Please read 00README.TLW64 carefully.
>
>
> I wonder if we can install TL2016 from MSYS2 shell using the Perl script
> install-tl with the "-custom-bin" option.
>
> BTW, I tried to build TL2016 many months ago with MSYS2/MINGW64 [1] and
> there were some build issues.. I tried to call attention [2] but none took
> care of it.
>
> I think that TL W64 binaries can be created adding MSYS2/MINGW64 as new TL
> platform but it need the help of TL gurus.. (as we did when Cygwin was
> added...)
>
> This could/should be one of the goals of the next 2017 release..
>
> Ciao,
>  Angelo.
>
> ---
> [1] MSYS2 is a fork from Cygwin which aims to build apps natively for W64
> (https://sourceforge.net/p/msys2/wiki/Home).
>
> [2] http://tug.org/mailman/htdig/tlbuild/2015q3/003317.html
>     https://sourceforge.net/p/msys2/tickets/197

Maybe this could help : http://stackoverflow.com/a/13792251/688348

Vincent Torri

From kakuto at fuk.kindai.ac.jp  Fri Jun 10 16:02:36 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 10 Jun 2016 23:02:36 +0900
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
Message-ID: <F800F386AF9D4F0EBEC85EFE5E79B5DC@CJ3001517A>

Dear Mojca,

> I would also be in favour of adding them, but Karl is afraid of the
> added complexity with not that much "added value" (properly supporting
> 64-bit Windows also means providing 64-bit perl, ghostscript etc.,
> doubling the space required for all those binaries and properly
> deciding whether the Windows in 32-bit or 64-bit, ...).

I prefer not to include 64bit binaries for windows in TeX Live,
because it introduces unnecessary complexities, and WOW64 is great.
I assume that the present TLW64 is enough for interested 64bit users.

Best,
Akira


From d.p.carlisle at gmail.com  Fri Jun 10 16:15:39 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 10 Jun 2016 15:15:39 +0100
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
Message-ID: <CAEW6iOib0gzYU6a+RJtnMOC310PmQ8vVYsmN6DG3bhwNv=Z+nQ@mail.gmail.com>

On 10 June 2016 at 14:43, Mojca Miklavec <mojca.miklavec.lists at gmail.com>
wrote:

>
> The cygwin binaries actually also have very little added
> value if you ask me; cygwin users could just as well install the other
> windows binaries from the shell script.)
>


Just to comment on that aspect, personally I find the cygwin builds
invaluable.

Calling native windows binaries from cygwin is of course possible but since
they have a different view of the filesystem paths, you always have to be
aware
of the file system mapping and so path searching, shell escape etc would
never
work in a natural way from a cygwin shell if using a native windows tex
build, would they?

I do this all the time with  calling a native windows Java application from
cygwin, but
it's good not to have the same issues with tex.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160610/1940248e/attachment.html>

From angelo.graziosi at alice.it  Fri Jun 10 16:26:15 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 10 Jun 2016 16:26:15 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
Message-ID: <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>



Il 10/06/2016 15:43, Mojca Miklavec ha scritto:
>
> However adding *both* binaries (one compiled with Visual Studio and
> one compiled with MinGW for the *same* architecture; please note that
> I'm not talking about 32 vs. 64-bit here) makes no sense in my
> opinion. (The cygwin binaries actually also have very little added
> value if you ask me; cygwin users could just as well install the other
> windows binaries from the shell script.)

I would remove VS binaries in favor of Cygwin and MSYS2-MINGW64 ones. 
Notice that Cygwin already gives a method to install and use TL in the 
same manner one uses TL on GNU/Linux and OSX (I don't use MacTex): same 
scripts to setup PATHs, same build documents commands and so on... With 
MSYS2-MINGW64 would be the same, almost..

>
> I would also be in favour of adding them, but Karl is afraid of the
> added complexity with not that much "added value" (properly supporting
> 64-bit Windows also means providing 64-bit perl, ghostscript etc.,
> doubling the space required for all those binaries and properly
> deciding whether the Windows in 32-bit or 64-bit, ...).

why then having double binaries for other platforms (i386/x86_64 for 
linux etc..)

BTW, having the same app running on different systems helps in finding 
subtle bugs..


>
> It's not that TeX Live calls clang. It's ICU that calls clang.
>
> I would suggest you to try to compile the official ICU under the same
> window. I would say that this is a bug that ICU developers have to fix
> (or perhaps a bug in clang ? not impossible either; Akira is probably
> not using clang) and you probably need to complain to them. Just for
> fun you could try to uninstall clang[++] and make a new clean build
> attempt. Maybe you'll then succeed.

No, the fix was to build TL using a command like this (I did this many 
months ago and don't remember exactly):

   CC=gcc ./Build...  ## force to use GCC

that helped in building ICU but then the build stopped in another step 
of the build..

In any case, my was only a suggestion. If none of the TL guys take care 
of this, let's stop to discuss it, then.



   Angelo

From kakuto at fuk.kindai.ac.jp  Fri Jun 10 16:26:01 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 10 Jun 2016 23:26:01 +0900
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <CAMq1adoWx0xNUuJW1hw64R-277Q1r6jckgj_oYJTn+P8x64haw@mail.gmail.com>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
 <B4801F9E69684EAA9CB980B775058329@CJ3001517A>
 <CAMq1adoWx0xNUuJW1hw64R-277Q1r6jckgj_oYJTn+P8x64haw@mail.gmail.com>
Message-ID: <3601A79C6A3143F7BE85A8E6948167D2@CJ3001517A>

> Any idea why ?

Because TEXMF in
TFMFONTS = .;{$TEXMF/fonts,$VARTEXFONTS}/tfm//
is defined by using $SELFAUTOLOC, the directory where
the exec file exists.
As you find in this exapmle, you have to install your
program into bin/win32 in order to fully use the kpathsea.

Best,
Akira


From zdenek.wagner at gmail.com  Fri Jun 10 16:49:06 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 10 Jun 2016 16:49:06 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
Message-ID: <CAC1phyYteeHSr2x3xdh6ZJ-HzbtC=3=Rqs78+8=gf+iSxNV11g@mail.gmail.com>

Is it possible to use cygwin binaries without cygwin? I know a lot of
Windows users who do not need cygwin at all and do not need it. It would be
very bad to inform them that TL will cease to work. You will send them to
MiKTeX as the only Windows friendly distributin in such a case.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2016-06-10 16:26 GMT+02:00 Angelo Graziosi <angelo.graziosi at alice.it>:

>
>
> Il 10/06/2016 15:43, Mojca Miklavec ha scritto:
>
>>
>> However adding *both* binaries (one compiled with Visual Studio and
>> one compiled with MinGW for the *same* architecture; please note that
>> I'm not talking about 32 vs. 64-bit here) makes no sense in my
>> opinion. (The cygwin binaries actually also have very little added
>> value if you ask me; cygwin users could just as well install the other
>> windows binaries from the shell script.)
>>
>
> I would remove VS binaries in favor of Cygwin and MSYS2-MINGW64 ones.
> Notice that Cygwin already gives a method to install and use TL in the same
> manner one uses TL on GNU/Linux and OSX (I don't use MacTex): same scripts
> to setup PATHs, same build documents commands and so on... With
> MSYS2-MINGW64 would be the same, almost..
>
>
>> I would also be in favour of adding them, but Karl is afraid of the
>> added complexity with not that much "added value" (properly supporting
>> 64-bit Windows also means providing 64-bit perl, ghostscript etc.,
>> doubling the space required for all those binaries and properly
>> deciding whether the Windows in 32-bit or 64-bit, ...).
>>
>
> why then having double binaries for other platforms (i386/x86_64 for linux
> etc..)
>
> BTW, having the same app running on different systems helps in finding
> subtle bugs..
>
>
>
>> It's not that TeX Live calls clang. It's ICU that calls clang.
>>
>> I would suggest you to try to compile the official ICU under the same
>> window. I would say that this is a bug that ICU developers have to fix
>> (or perhaps a bug in clang ? not impossible either; Akira is probably
>> not using clang) and you probably need to complain to them. Just for
>> fun you could try to uninstall clang[++] and make a new clean build
>> attempt. Maybe you'll then succeed.
>>
>
> No, the fix was to build TL using a command like this (I did this many
> months ago and don't remember exactly):
>
>   CC=gcc ./Build...  ## force to use GCC
>
> that helped in building ICU but then the build stopped in another step of
> the build..
>
> In any case, my was only a suggestion. If none of the TL guys take care of
> this, let's stop to discuss it, then.
>
>
>
>   Angelo
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160610/08026c62/attachment-0001.html>

From enrico.gregorio at univr.it  Fri Jun 10 17:07:13 2016
From: enrico.gregorio at univr.it (Enrico Gregorio)
Date: Fri, 10 Jun 2016 17:07:13 +0200
Subject: [tex-live] Xdvi not working
Message-ID: <D78DA563-EB71-4145-959F-C3C637119F0C@univr.it>

Situation: TeX Live 2016 (MacTeX) on Mac OS X (10.11.5); XQuartz 2.7.9

Running 

    tex ?story\bye'
    xdvi story

results in a segmentation fault

    Warning: locale not supported by Xlib, locale set to C
    xdvi-xaw 22.87.03 (Xaw toolkit): ../../../texk/xdvik/events.c:4450: Shouldn't happen: Segmentation fault - trying to clean up and aborting ...
    Abort trap: 6

The issue affects all other Xdvi binaries I have on my machine (TL 2012, 2013, 2014 and 2015).

On the TeX.SX chat, Joseph Wright told it worked for him, until he upgraded from XQuartz 2.7.8 to 2.7.9.

The release notes of XQuartz 2.7.9 tell that some fixes have been done on libXaw, but I could not gather much about them:

	? libXaw
		? Remove incorrect export of vendorShellClassRec and vendorShellWidgetClass

Maybe some expert can shed light on the matter

Ciao
Enrico

From angelo.graziosi at alice.it  Fri Jun 10 17:11:51 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 10 Jun 2016 17:11:51 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
Message-ID: <3aab8ac6-06f8-0196-9909-471cccd8d088@alice.it>

Il 10/06/2016 15:15, Angelo Graziosi ha scritto:
> I wonder if we can install TL2016 from MSYS2 shell using the Perl script
> install-tl with the "-custom-bin" option.

I tried this:

$ /e/tlrepo/install-tl -custom-bin bin/win64

being /e/tlrepo a copy (rsync) of a CTAN/tlnet repository of TL2016. It 
fails in post-install step with

[...]
running fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --all ...done
/e/tlrepo/install-tl: fmtutil-sys 
--no-error-if-no-engine=luajittex,mfluajit --all failed:
running package-specific postactions
/tlpkg/tlpostcode/dvipdfmx.pl": No such file or directory
/e/tlrepo/install-tl: calling post action script 
tlpkg/tlpostcode/dvipdfmx.pl did not succeed in /home/angelo, status 2 
at /e/tlrepo/tlpkg/TeXLive/TLUtils.pm line 1575.
/tlpkg/tlpostcode/ptex2pdf-tlpost.pl": No such file or directory
/e/tlrepo/install-tl: calling post action script 
tlpkg/tlpostcode/ptex2pdf-tlpost.pl did not succeed in /home/angelo, 
status 2 at /e/tlrepo/tlpkg/TeXLive/TLUtils.pm line 1575.
/tlpkg/tlpostcode/xetex.pl": No such file or directory
/e/tlrepo/install-tl: calling post action script 
tlpkg/tlpostcode/xetex.pl did not succeed in /home/angelo, status 2 at 
/e/tlrepo/tlpkg/TeXLive/TLUtils.pm line 1575.
finished with package-specific postactions

  See
    /opt/texlive/index.html
  for links to documentation.  The TeX Live web site
  contains updates and corrections: http://tug.org/texlive.

  TeX Live is a joint project of the TeX user groups around the world;
  please consider supporting it by joining the group best for you. The
  list of user groups is on the web at http://tug.org/usergroups.html.

  Add /opt/texlive/texmf-dist/doc/info to INFOPATH.
  Add /opt/texlive/texmf-dist/doc/man to MANPATH
    (if not dynamically found).

  Most importantly, add /opt/texlive/bin/custom
  to your PATH for current and future sessions.
[...]

I am not sure if the failure depend on the installation method or 
somewhere else..

  Angelo

From angelo.graziosi at alice.it  Fri Jun 10 17:26:40 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 10 Jun 2016 17:26:40 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAC1phyYteeHSr2x3xdh6ZJ-HzbtC=3=Rqs78+8=gf+iSxNV11g@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAC1phyYteeHSr2x3xdh6ZJ-HzbtC=3=Rqs78+8=gf+iSxNV11g@mail.gmail.com>
Message-ID: <f10670ab-29db-27b4-2815-7c8c1d6691a0@alice.it>



Il 10/06/2016 16:49, Zdenek Wagner ha scritto:
> Is it possible to use cygwin binaries without cygwin? I know a lot of
> Windows users who do not need cygwin at all and do not need it. It would be
> very bad to inform them that TL will cease to work. You will send them to
> MiKTeX as the only Windows friendly distributin in such a case.

Is it possible to use Windows binaries without Windows? Don't they need 
the VS DLL? Also the win32 binaries contain the msvcr*dll.

In any case, my proposal to remove VS binaries was quite rhetoric..


   Angelo

From zdenek.wagner at gmail.com  Fri Jun 10 17:46:32 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 10 Jun 2016 17:46:32 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <f10670ab-29db-27b4-2815-7c8c1d6691a0@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAC1phyYteeHSr2x3xdh6ZJ-HzbtC=3=Rqs78+8=gf+iSxNV11g@mail.gmail.com>
 <f10670ab-29db-27b4-2815-7c8c1d6691a0@alice.it>
Message-ID: <CAC1phyZ6w1HkfS8bqSzMNzafzYSLrBDSRUn-+jeB5KeXNQ0niA@mail.gmail.com>

2016-06-10 17:26 GMT+02:00 Angelo Graziosi <angelo.graziosi at alice.it>:

>
>
> Il 10/06/2016 16:49, Zdenek Wagner ha scritto:
>
>> Is it possible to use cygwin binaries without cygwin? I know a lot of
>> Windows users who do not need cygwin at all and do not need it. It would
>> be
>> very bad to inform them that TL will cease to work. You will send them to
>> MiKTeX as the only Windows friendly distributin in such a case.
>>
>
> Is it possible to use Windows binaries without Windows? Don't they need
> the VS DLL? Also the win32 binaries contain the msvcr*dll.
>
> In any case, my proposal to remove VS binaries was quite rhetoric..
>

If you can include just a few cygwin DLL's that will be installed as a part
of TL, it will be fine.

>
>
>   Angelo
>


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160610/d2361a9a/attachment.html>

From vincent.torri at gmail.com  Fri Jun 10 19:05:47 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 10 Jun 2016 19:05:47 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <3601A79C6A3143F7BE85A8E6948167D2@CJ3001517A>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
 <B4801F9E69684EAA9CB980B775058329@CJ3001517A>
 <CAMq1adoWx0xNUuJW1hw64R-277Q1r6jckgj_oYJTn+P8x64haw@mail.gmail.com>
 <3601A79C6A3143F7BE85A8E6948167D2@CJ3001517A>
Message-ID: <CAMq1adrK-osRQsNrq8FUbRkDD5Hz2bo3_tk5wdmtCP430h4Ycg@mail.gmail.com>

Is it a problem to use "kpsewhich.exe" when I call kpathsea_set_program_name() ?

thank you

Vincent Torri


On Fri, Jun 10, 2016 at 4:26 PM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>> Any idea why ?
>
>
> Because TEXMF in
> TFMFONTS = .;{$TEXMF/fonts,$VARTEXFONTS}/tfm//
> is defined by using $SELFAUTOLOC, the directory where
> the exec file exists.
> As you find in this exapmle, you have to install your
> program into bin/win32 in order to fully use the kpathsea.
>
> Best,
> Akira
>

From faro49 at gmail.com  Fri Jun 10 20:40:26 2016
From: faro49 at gmail.com (Roberto Fanciulli)
Date: Fri, 10 Jun 2016 20:40:26 +0200
Subject: [tex-live] TexLive manager does not load any repository
Message-ID: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>

I use WinEdt 10.1 Build: 20,160,526 (v. 10.1) - 32-bit on Texlive, under
Windows 10.
After several days of inactivity I wanted to update the Tex packages.
In WinEDT I started Texlive manager 2015, but I can not load any repository.
Texlive manager can not load any database, in the window the repository
name remains always fixed on the same server even if I try to change it. No
database server is loaded and no package of the remote server appears.
The debug log file contains:
















*Loading local TeX Live database  (C:/texlive/2014/tlpkg/texlive.tlpdb)This
may take some time, please be patient ...... caricamento
completo.D:TLPDB.pm: trying to initialize from
ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
<ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb>D:trying
to download
ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
<ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
to C:\Users\User\AppData\Local\Temp\WGcc0d54MbD:persistent connection set
up, trying to get
ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
<ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
(for C:\Users\User\AppData\Local\Temp\WGcc0d54Mb)D:downloading file via
persistent connection succeededD:un-xzing
C:\Users\User\AppData\Local\Temp\WGcc0d54Mb to
C:\Users\User\AppData\Local\Temp\N1ElYvHivbD:found the uncompressed xz
fileD:TLPDB.pm: trying to initialize from
ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
<ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb>D:trying
to download
ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
<ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
to C:\Users\User\AppData\Local\Temp\R_sWKng9bfD:persistent connection set
up, trying to get
ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
<ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
(for C:\Users\User\AppData\Local\Temp\R_sWKng9bf)D:downloading file via
persistent connection succeededD:un-xzing
C:\Users\User\AppData\Local\Temp\R_sWKng9bf to
C:\Users\User\AppData\Local\Temp\Xr0UI3jgQrD:found the uncompressed xz file*

What can I do to restore normal operation of the TeXlive manager?
Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160610/d1dab4b4/attachment-0001.html>

From ziegenhagen at gmail.com  Fri Jun 10 23:59:17 2016
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Fri, 10 Jun 2016 23:59:17 +0200
Subject: [tex-live] TexLive manager does not load any repository
In-Reply-To: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
References: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
Message-ID: <CAML7JChWugTJvZEsNk6e3h2PATgtJwwXX8RT1-L+5RLGGXhvVw@mail.gmail.com>

I recommend a new installation of TeX Live 2016 as there are no more
updates for 2014 and 2015. 2016 is brandnew.


Uwe

2016-06-10 20:40 GMT+02:00 Roberto Fanciulli <faro49 at gmail.com>:

> I use WinEdt 10.1 Build: 20,160,526 (v. 10.1) - 32-bit on Texlive, under
> Windows 10.
> After several days of inactivity I wanted to update the Tex packages.
> In WinEDT I started Texlive manager 2015, but I can not load any
> repository.
> Texlive manager can not load any database, in the window the repository
> name remains always fixed on the same server even if I try to change it. No
> database server is loaded and no package of the remote server appears.
> The debug log file contains:
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
> *Loading local TeX Live database
> (C:/texlive/2014/tlpkg/texlive.tlpdb)This may take some time, please be
> patient ...... caricamento completo.D:TLPDB.pm: trying to initialize from
> ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
> <ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb>D:trying
> to download
> ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
> <ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
> to C:\Users\User\AppData\Local\Temp\WGcc0d54MbD:persistent connection set
> up, trying to get
> ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
> <ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
> (for C:\Users\User\AppData\Local\Temp\WGcc0d54Mb)D:downloading file via
> persistent connection succeededD:un-xzing
> C:\Users\User\AppData\Local\Temp\WGcc0d54Mb to
> C:\Users\User\AppData\Local\Temp\N1ElYvHivbD:found the uncompressed xz
> fileD:TLPDB.pm: trying to initialize from
> ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
> <ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb>D:trying
> to download
> ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
> <ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
> to C:\Users\User\AppData\Local\Temp\R_sWKng9bfD:persistent connection set
> up, trying to get
> ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
> <ftp://ftp.rrzn.uni-hannover.de/pub/mirror/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz>
> (for C:\Users\User\AppData\Local\Temp\R_sWKng9bf)D:downloading file via
> persistent connection succeededD:un-xzing
> C:\Users\User\AppData\Local\Temp\R_sWKng9bf to
> C:\Users\User\AppData\Local\Temp\Xr0UI3jgQrD:found the uncompressed xz file*
>
> What can I do to restore normal operation of the TeXlive manager?
> Thanks!
>



-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160610/82aef91d/attachment.html>

From karl at freefriends.org  Sat Jun 11 00:11:57 2016
From: karl at freefriends.org (Karl Berry)
Date: Fri, 10 Jun 2016 22:11:57 +0000
Subject: [tex-live] Xdvi not working
In-Reply-To: <D78DA563-EB71-4145-959F-C3C637119F0C@univr.it>
Message-ID: <201606102211.u5AMBvtk026341@freefriends.org>

        tex ????story\bye'
        xdvi story

Works fine for me on i386-linux.  

    Situation: TeX Live 2016 (MacTeX) on Mac OS X (10.11.5); XQuartz 2.7.9

I'll tell Dick.  -k

From richardmoncriefkoch at icloud.com  Sat Jun 11 05:03:50 2016
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Fri, 10 Jun 2016 20:03:50 -0700
Subject: [tex-live] Xdvi not working
Message-ID: <34FE27CE-9859-4C00-BCE1-37286685EA17@icloud.com>

Folks,

As already noted on this list, xdvi works if you have XQuartz 2.7.8, but
fails if you updated to XQuartz 2.7.9, which was released on May 5, 2016.

Just now, I installed XQuartz 2.7.9 on El Capitan and recompiled. Then
I installed the new xdvi and xdvi-xaw. After that, xdvi ran fine on El Capitan.

But there is a complication. I actually compile 64 bit binaries on Snow
Leopard, so the binaries will run on many different systems. That machine
had XQuartz 2.3.6.

It turns out that XQuartz 2.7.9 can be installed on Snow Leopard (it is
the oldest version of OS X supported by XQuartz). I?ve updated and
am compiling xdvi now. With luck, this version will work on all the
current 64 bit architectures if XQuartz is updated to the current version.
(With even greater luck, perhaps the binary will work without updating
XQuartz).

A lot more testing is required, however, because Ghostscript in MacTeX
was compiled both with and without X11 support, and the X11 support
used XQuartz 2.3.6. We wouldn?t want to fix xdvi for the very few people
who use it, but break Ghostscript.

Next week is WWDC, which I?m going to watch from home using
appleTV. This note explains that we are looking at the xdvi problem,
but doesn?t promise a fix very soon.

Dick Koch

From Herbert.Voss at FU-Berlin.DE  Sat Jun 11 11:23:35 2016
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Sat, 11 Jun 2016 11:23:35 +0200
Subject: [tex-live] update failure
Message-ID: <575BD897.5040904@FU-Berlin.DE>

Is it a problem with that mirror?
It works if I choose for example dante.de

Herbert

voss at shania:~/Dropbox/DTK/.Versand> tlmgr --self --all update
/usr/local/texlive/2016/tlpkg/installer/xz/xzdec.x86_64-linux: (stdin): 
File format not recognized
/usr/local/texlive/current/bin/x86_64-linux/tlmgr: signature 
verification error of /tmp/H6cVJlGfHy/Y8fxEmWIBt from 
http://get-software.net/systems/texlive/tlnet#main/tlpkg/texlive.tlpdb: 
cryptographic signature verification of
   /tmp/H6cVJlGfHy/x2tAb_xZWh
against
 
http://get-software.net/systems/texlive/tlnet#main/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was
gpg: no valid OpenPGP data found.
gpg: the signature could not be verified.
Please remember that the signature file (.sig or .asc)
should be the first file given on the command line.

Please report to texlive at tug.org

From preining at logic.at  Sat Jun 11 11:25:01 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 11 Jun 2016 18:25:01 +0900
Subject: [tex-live] TexLive manager does not load any repository
In-Reply-To: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
References: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
Message-ID: <20160611092501.GF25579@logic.at>

> In WinEDT I started Texlive manager 2015, but I can not load any repository.

TL 2015? Your log file says 2014? Both of them are not updated
anymore and the repositories don't work unless you change
to a copy of the historic repos of old TL releases.

> What can I do to restore normal operation of the TeXlive manager?

Update to TL2016. There are anyway no package updates for 2014 or 2015.
So no need for tlmgr ;-)

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Sat Jun 11 11:35:07 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 11 Jun 2016 18:35:07 +0900
Subject: [tex-live] update failure
In-Reply-To: <575BD897.5040904@FU-Berlin.DE>
References: <575BD897.5040904@FU-Berlin.DE>
Message-ID: <20160611093507.GH25579@logic.at>

> /usr/local/texlive/2016/tlpkg/installer/xz/xzdec.x86_64-linux:
> (stdin): File format not recognized

Seems to be an update in progress - the texlive.tlpdb.xz was not fully
updated and thus xzdec complained - and then gpg complained ;-)

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From Rolf.Niepraschk at gmx.de  Sat Jun 11 11:37:02 2016
From: Rolf.Niepraschk at gmx.de (Rolf Niepraschk)
Date: Sat, 11 Jun 2016 11:37:02 +0200
Subject: [tex-live] update failure
In-Reply-To: <575BD897.5040904@FU-Berlin.DE>
References: <575BD897.5040904@FU-Berlin.DE>
Message-ID: <16593d96-c46e-f7ee-be08-01193ca88ae1@gmx.de>

Am 11.06.2016 um 11:23 schrieb Herbert Voss:
> Is it a problem with that mirror?
> It works if I choose for example dante.de
>

No Problem here with (automatically selected)

   ftp://ftp.tu-chemnitz.de/pub/tex/systems/texlive/tlnet

...Rolf



From Herbert.Voss at FU-Berlin.DE  Sat Jun 11 11:41:12 2016
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Sat, 11 Jun 2016 11:41:12 +0200
Subject: [tex-live] update failure
In-Reply-To: <20160611093507.GH25579@logic.at>
References: <575BD897.5040904@FU-Berlin.DE> <20160611093507.GH25579@logic.at>
Message-ID: <575BDCB8.30402@FU-Berlin.DE>

Am 11.06.2016 um 11:35 schrieb Norbert Preining:
>> /usr/local/texlive/2016/tlpkg/installer/xz/xzdec.x86_64-linux:
>> (stdin): File format not recognized
>
> Seems to be an update in progress - the texlive.tlpdb.xz was not fully
> updated and thus xzdec complained - and then gpg complained ;-)

The files look okay to me:

-rwxr-xr-x 1 voss users  74832 17. Apr 20:39 xzdec.x86_64-linux
-rwxr-xr-x 1 voss users 198656 17. Apr 20:39 xz.x86_64-linux

I had the problem always with that mirror and not with
another one.

Herbert


From preining at logic.at  Sat Jun 11 11:48:37 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 11 Jun 2016 18:48:37 +0900
Subject: [tex-live] update failure
In-Reply-To: <575BDCB8.30402@FU-Berlin.DE>
References: <575BD897.5040904@FU-Berlin.DE> <20160611093507.GH25579@logic.at>
 <575BDCB8.30402@FU-Berlin.DE>
Message-ID: <20160611094837.GA10246@logic.at>

On Sat, 11 Jun 2016, Herbert Voss wrote:
> -rwxr-xr-x 1 voss users  74832 17. Apr 20:39 xzdec.x86_64-linux
> -rwxr-xr-x 1 voss users 198656 17. Apr 20:39 xz.x86_64-linux

Not those, the 
	texlive.tlpdb.xz
which is updated on every sync. xzdec tries to decompress it and
finds rubbish, thus it errors out.

> I had the problem always with that mirror and not with
> another one.

Interesting. Let me check ..

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Sat Jun 11 11:50:38 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 11 Jun 2016 18:50:38 +0900
Subject: [tex-live] update failure
In-Reply-To: <575BD897.5040904@FU-Berlin.DE>
References: <575BD897.5040904@FU-Berlin.DE>
Message-ID: <20160611095038.GB10246@logic.at>

On Sat, 11 Jun 2016, Herbert Voss wrote:
> verification error of /tmp/H6cVJlGfHy/Y8fxEmWIBt from http://get-software.net/systems/texlive/tlnet#main/tlpkg/texlive.tlpdb:

Aemm something is strange here ... why do you have the
	#main/tlpkg/texlive.tlpdb
attached to the URL?

Did you edit the texlive.tlpdb by hand?

Can you show me the output of
	tlmgr option
	tlmgr repository
and/or the head of your texlive.tlpdb (yours).

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From Herbert.Voss at FU-Berlin.DE  Sat Jun 11 11:54:38 2016
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Sat, 11 Jun 2016 11:54:38 +0200
Subject: [tex-live] update failure
In-Reply-To: <20160611095038.GB10246@logic.at>
References: <575BD897.5040904@FU-Berlin.DE> <20160611095038.GB10246@logic.at>
Message-ID: <575BDFDE.4080003@FU-Berlin.DE>

Am 11.06.2016 um 11:50 schrieb Norbert Preining:
> On Sat, 11 Jun 2016, Herbert Voss wrote:
>> verification error of /tmp/H6cVJlGfHy/Y8fxEmWIBt from http://get-software.net/systems/texlive/tlnet#main/tlpkg/texlive.tlpdb:
>
> Aemm something is strange here ... why do you have the
> 	#main/tlpkg/texlive.tlpdb
> attached to the URL?

Ah, I got it ...
A problem with adding another repository. And I suppose that I did
something wrong with using "tlmgr add ...". But cannot remember
what I did wrong. However, I deleted the wrong line and now its ok.

Sorry for the noise ...

Herbert

From bernhard.kleine at gmx.net  Sat Jun 11 12:35:59 2016
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Sat, 11 Jun 2016 12:35:59 +0200
Subject: [tex-live] sanitize-umlaut in CTAN but not in texlive
In-Reply-To: <joh5r9dbwckm.dlg@nililand.de>
References: <4762883f-0a8e-3927-2e20-add5626827f4@gmx.net>
 <joh5r9dbwckm.dlg@nililand.de>
Message-ID: <b18015e6-d7af-6f53-3179-6a16a92ca2ce@gmx.net>

Am 09.06.2016 um 15:53 schrieb Ulrike Fischer:
> Am Thu, 9 Jun 2016 09:22:06 +0200 schrieb Bernhard Kleine:
>
>> Is there an issue with licences?
> No. Probably texlive simply didn't yet catch up all new packages. 
> After the freeze it can take some time until everything is there.
It seems to be forgotten. I have updated every day and packages where
updates arrived much later are updated, and new packages are installed
as well, however, sanitize-umlaut is not picked up. Maybe that could change?

 
--
spitzhalde9
79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20160611/8fc6aa68/attachment.bin>

From preining at logic.at  Sat Jun 11 16:07:42 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 11 Jun 2016 23:07:42 +0900
Subject: [tex-live] sanitize-umlaut in CTAN but not in texlive
In-Reply-To: <b18015e6-d7af-6f53-3179-6a16a92ca2ce@gmx.net>
References: <4762883f-0a8e-3927-2e20-add5626827f4@gmx.net>
 <joh5r9dbwckm.dlg@nililand.de> <b18015e6-d7af-6f53-3179-6a16a92ca2ce@gmx.net>
Message-ID: <2CCC88D9-5239-4F66-A9FE-71C9945A9876@logic.at>

Please calm down and give us (Karl) some time. 

On June 11, 2016 7:35:59 PM GMT+09:00, Bernhard Kleine <bernhard.kleine at gmx.net> wrote:
>Am 09.06.2016 um 15:53 schrieb Ulrike Fischer:
>> Am Thu, 9 Jun 2016 09:22:06 +0200 schrieb Bernhard Kleine:
>>
>>> Is there an issue with licences?
>> No. Probably texlive simply didn't yet catch up all new packages. 
>> After the freeze it can take some time until everything is there.
>It seems to be forgotten. I have updated every day and packages where
>updates arrived much later are updated, and new packages are installed
>as well, however, sanitize-umlaut is not picked up. Maybe that could
>change?
>
> 
>--
>spitzhalde9
>79853 lenzkirch
>bernhard.kleine at gmx.net
>www.b-kleine.com, www.urseetal.net
>-
>thunderbird mit enigmail
>GPG schl?ssel: D5257409
>fingerprint:
>08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Sat Jun 11 16:48:51 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 11 Jun 2016 23:48:51 +0900
Subject: [tex-live] TexLive manager does not load any repository
In-Reply-To: <CAJ9wK43TgOxVDVRDWS3FoN+fRF27v+pwdSVdXa9ckJFmT9WigQ@mail.gmail.com>
References: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
 <20160611092501.GF25579@logic.at>
 <CAJ9wK43TgOxVDVRDWS3FoN+fRF27v+pwdSVdXa9ckJFmT9WigQ@mail.gmail.com>
Message-ID: <20160611144851.GI10246@logic.at>

Hi

Please keep the list in Cc

> Thanks for your help. Texlive 2016 properly updates the packages.

Good to hear.

> However, because I want to keep both installed MiKTeX and Texlive, I would

Fine with us.

> like to ask you how to eliminate the following warning that is shown in the

> Warning: conflicting [pdf] tex program found on the
> system path in C: \ Program Files \ MiKTeX 2.9 \ miktex \ bin \; 

No. There is a reason this warning is there, and it is to warn people
that having multiple (epsecially old, not here though!) tex programs
hanging around will give a bad outcome.

This warning has a reason, is correct, and thus will not be removed.

BTW, how do you switch between MikTeX and TeX Live?

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From ml at mariochiari.net  Sat Jun 11 16:52:07 2016
From: ml at mariochiari.net (mario chiari)
Date: Sat, 11 Jun 2016 16:52:07 +0200
Subject: [tex-live] Unknown directive ...containerchecksum
In-Reply-To: <CAEW6iOjF9=pzt50LBNHVPovq2ojt3WgfzgBxPHacAmLoyYrpTA@mail.gmail.com>
References: <87twhxaoqv.fsf@skimble.plus.com>
 <CAEW6iOjF9=pzt50LBNHVPovq2ojt3WgfzgBxPHacAmLoyYrpTA@mail.gmail.com>
Message-ID: <1465656727.3811.1.camel@mariochiari.net>

hi

I am suffering the same issue.
Which script should I get, which server should I get it from?
thanks
cheers
mario

On Mon, 2016-05-16 at 18:51 +0100, David Carlisle wrote:
> On 16 May 2016 at 18:36, Sharon Kimble <boudiccas at skimble.plus.com> wrote:
> > 
> > I had a problem with tlmgr, so I used ' tlmgr update --self' which
> > failed so I then tried ' ./update-tlmgr-latest.sh' which failed with
> > this error report -
> 
> Did you get??update-tlmgr-latest.sh from the tlpretest mirror, not the
> one linked from the top level texlive page (which is 2015 version)
> I've seen that error after makingtthat mistake myself:-)
> 
> David
> 
> > 
> > 
> > --8<---------------cut here---------------start------------->8---
> > tlmgr update --self
> > Unknown directive ...containerchecksum
> > c59200574a316416a23695c258edf3a32531fbda43ccdc09360ee105c3f07f9fb77df17c4ba4
> > c2ea4f3a5ea6667e064b51e3d8c2fe6c984ba3e71b4e32716955... , please fix it! at
> > /usr/local/texlive/2016/tlpkg/TeXLive/TLPOBJ.pm line 210, <TMP> line 36.
> > --8<---------------cut here---------------end--------------->8---
> > 
> > Now tlmgr is failing to work. Is it possible to copy over tlmgr from
> > texlive 2015 to get things working properly again? If not, how do I get
> > texlive2016-pretest working again please?
> > 
> > Thanks
> > Sharon.
> > --
> > A taste of linux = http://www.sharons.org.uk
> > TGmeds = http://www.tgmeds.org.uk
> > Debian 8.4, fluxbox 1.3.7, emacs 25.0.93
> 
> 

From preining at logic.at  Sat Jun 11 17:09:36 2016
From: preining at logic.at (Norbert Preining)
Date: Sun, 12 Jun 2016 00:09:36 +0900
Subject: [tex-live] Unknown directive ...containerchecksum
In-Reply-To: <1465656727.3811.1.camel@mariochiari.net>
References: <87twhxaoqv.fsf@skimble.plus.com>
 <CAEW6iOjF9=pzt50LBNHVPovq2ojt3WgfzgBxPHacAmLoyYrpTA@mail.gmail.com>
 <1465656727.3811.1.camel@mariochiari.net>
Message-ID: <20160611150936.GJ10246@logic.at>

On Sat, 11 Jun 2016, mario chiari wrote:
> I am suffering the same issue.

Since you sent this email from a host called fedora-pc I assume
you are on Linux (but this is a guess ..)

What is the output of 
	tlmgr version
If it says
	...
	TeX Live (http://tug.org/texlive) version 2016
then ...

> Which script should I get, which server should I get it from?

get
	http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
then run
	bash update-tlmgr-latest.sh --info
That should give you lots of output, but most importatntly:
	update-tlmgr-r41280.sh
somewhere. That is the correct one (or any rNNNNNN that is bigger than 40000)

After that, make sure you have tlmgr in the path
	which tlmgr
should return the path to your tlmgr.

And finally, run
	bash update-tlmgr-latest.sh


(Can we post this somewhere that I don't have to retype it???)

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From ml at mariochiari.net  Sat Jun 11 17:15:28 2016
From: ml at mariochiari.net (mario chiari)
Date: Sat, 11 Jun 2016 17:15:28 +0200
Subject: [tex-live]
 http://ctan.mirror.garr.it/mirrors/CTAN/systems/texlive/tlnet/update-tlmgr-latest.sh
Message-ID: <1465658128.3811.2.camel@mariochiari.net>

Hi

is?http://ctan.mirror.garr.it/mirrors/CTAN/systems/texlive/tlnet/update-tlmgr-la
test.sh?broken (for texlive2015).

thanks
m.

From preining at logic.at  Sat Jun 11 17:25:50 2016
From: preining at logic.at (Norbert Preining)
Date: Sun, 12 Jun 2016 00:25:50 +0900
Subject: [tex-live]
 http://ctan.mirror.garr.it/mirrors/CTAN/systems/texlive/tlnet/update-tlmgr-latest.sh
In-Reply-To: <1465658128.3811.2.camel@mariochiari.net>
References: <1465658128.3811.2.camel@mariochiari.net>
Message-ID: <20160611152550.GK10246@logic.at>

On Sat, 11 Jun 2016, mario chiari wrote:
> is?http://ctan.mirror.garr.it/mirrors/CTAN/systems/texlive/tlnet/update-tlmgr-la
> test.sh?broken (for texlive2015).

No. It is the correct for TeX Live 2016.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From beebe at math.utah.edu  Sat Jun 11 17:28:46 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sat, 11 Jun 2016 09:28:46 -0600
Subject: [tex-live]
 http://ctan.mirror.garr.it/mirrors/CTAN/systems/texlive/tlnet/update-tlmgr-latest.sh
In-Reply-To: <1465658128.3811.2.camel@mariochiari.net>
Message-ID: <CMM.0.96.0.1465658926.beebe@gamma.math.utah.edu>

Mario Chiari <ml at mariochiari.net> asks on Sat, 11 Jun 2016 17:15:28 +0200:

>> is
>> 	http://ctan.mirror.garr.it/mirrors/CTAN/systems/texlive/tlnet/update-tlmgr-latest.sh 
>> broken (for texlive2015).

The mirror status reports site at

	http://dante.ctan.org/mirmon/

shows that garr.it is up-to-date.  I fetched the above *.sh file,
and compared it with our mirror in Utah at

	http://ctan.math.utah.edu/tex-archive/systems/texlive/tlnet/update-tlmgr-latest.sh

They are identical.

The timestamp on the file is May 22 16:34 (MDT = UTC/GMT - 6).

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From ml at mariochiari.net  Sat Jun 11 18:15:52 2016
From: ml at mariochiari.net (mario chiari)
Date: Sat, 11 Jun 2016 18:15:52 +0200
Subject: [tex-live] 2016 or 2015?
Message-ID: <1465661752.3811.6.camel@mariochiari.net>

Hi

I am trying top install texlive 2016 (and I wish to keep 2015).?
But if I launch install-tl-20160610/install-tl, it seems it tries to install
into the 2015 folder.
Why so? do I need to fix something?
thanks
m.?

[root at fedora-pc install-tl-20160610]# install-tl --gui=text
Loading /usr/local/texlive/2015/tlpkg/texlive.tlpdb
Installing TeX Live 2015 from: /usr/local/texlive/2015 ? ?<<<<<<<
Platform: x86_64-linux => 'GNU/Linux on x86_64'
Distribution: live (uncompressed)
Directory for temporary files: /tmp

From beebe at math.utah.edu  Sat Jun 11 18:51:10 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sat, 11 Jun 2016 10:51:10 -0600
Subject: [tex-live] 2016 or 2015?
In-Reply-To: <1465661752.3811.6.camel@mariochiari.net>
Message-ID: <CMM.0.96.0.1465663870.beebe@gamma.math.utah.edu>

Mario Chiari <ml at mariochiari.net> asks today about installing TeX Live 2016
while preserving the 2015 version.  That is certainly possible; I have
TeX Live versions back to 2003 on some of our servers here.

>> # install-tl --gui=text
>> Loading /usr/local/texlive/2015/tlpkg/texlive.tlpdb

It looks like your install-tl script is coming from the 2015 release.

You can empty the environment with "env -i" and then set PATH appropriately:

# env -i PATH=/path/to/texlive/2016:/bin:/usr/bin install-tl --gui=text

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Sat Jun 11 19:14:24 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 11 Jun 2016 18:14:24 +0100
Subject: [tex-live] TexLive manager does not load any repository
In-Reply-To: <20160611144851.GI10246@logic.at>
References: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
 <20160611092501.GF25579@logic.at>
 <CAJ9wK43TgOxVDVRDWS3FoN+fRF27v+pwdSVdXa9ckJFmT9WigQ@mail.gmail.com>
 <20160611144851.GI10246@logic.at>
Message-ID: <4e2d0f01-fc71-a23f-4bea-a6fb2a46184c@Rhul.Ac.Uk>



Norbert Preining wrote:
>  in C: \ Program Files \ MiKTeX 2.9 \ miktex \ bin \; 
> No. There is a reason this warning is there, and it is to warn people
> that having multiple (epsecially old, not here though!) tex programs
> hanging around will give a bad outcome.

"Will" ?  Surely "may".
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160611/c48cf480/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160611/c48cf480/attachment-0001.jpg>

From richardmoncriefkoch at icloud.com  Sat Jun 11 21:08:14 2016
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Sat, 11 Jun 2016 12:08:14 -0700
Subject: [tex-live] Xdvi not working
Message-ID: <7CA44916-B8C2-461E-9C74-991C2BC6E4C1@icloud.com>

Folks,

Recall the problem. On 64 bit Macintoshes, xdvi in TeX Live 2016
works with XQuartz 2.7.8, but immediately crashes with XQuartz 2.7.9,
which was released on May 5, 2016.

The 64 bit version of xdvi in MacTeX was compiled on a machine
running Snow Leopard, with XQuartz 2.3.6.

?????

Tests:

The file xdvi is just a script which ultimately calls xdvi-xaw.

I recompiled TeX Live on El Capitan on a machine with
XQuartz 2.7.9. Then I moved the file xdvi-xaw from this
compile into the binary directory of TeX Live. After that
xdvi worked. (But the binary didn?t work on older machines,
as expected.)

Next I installed XQuartz 2.7.9 on my Snow Leopard machine
and recompiled TeX Live. Then I moved the file xdvi-xaw
from this compile into the binary directory of TeX Live on
that Snow Leopard machine running XQuartz 2.7.9.
After that, xdvi worked.

I have another machine running Snow Leopard. The
system was installed from scratch during the TeX Live testing
period, so it has X11 version 2.3.6. I moved the xdvi-xaw file
created above to the binary directory of TeX Live on the other
Snow Leopard machine. After that, xdvi continued to work.

Next I repeated this expeiment on an El Capitan machine
still running XQuartz 2.7.8. After that, xdvi continued to work.

So far, so good. If we upgrade XQuartz on the Snow Leopard
machine used to compile 64-bit binaries, then xdvi works on all
systems supporting 68 bits, and WITHOUT UPDATING XQUARTZ.
This is exactly what we need.

So there is one more test. I moved the xdvi-xaw file
created above to an El Capitan machine running XQuartz 2.7.9.
After that, xdvi failed in the standard way.

????

Conclusion: XQuartz and xdvi break the underlying assumption
behind TeX Live precompiled binaries: ?we can compile binaries
on an older machine and get code which runs on any version of OS X"

 I?ll report these experiments to the XQuartz
people. 

If you want to use xdvi, don?t update to XQuartz 2.7.9.

Dick Koch

From faro49 at gmail.com  Sat Jun 11 22:05:02 2016
From: faro49 at gmail.com (Roberto Fanciulli)
Date: Sat, 11 Jun 2016 22:05:02 +0200
Subject: [tex-live] TexLive manager does not load any repository
In-Reply-To: <4e2d0f01-fc71-a23f-4bea-a6fb2a46184c@Rhul.Ac.Uk>
References: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
 <20160611092501.GF25579@logic.at>
 <CAJ9wK43TgOxVDVRDWS3FoN+fRF27v+pwdSVdXa9ckJFmT9WigQ@mail.gmail.com>
 <20160611144851.GI10246@logic.at>
 <4e2d0f01-fc71-a23f-4bea-a6fb2a46184c@Rhul.Ac.Uk>
Message-ID: <CAJ9wK42h8vdJaNJob4S2u6JV7LHqxiaMDQbY-_0bB0ERe4YP+Q@mail.gmail.com>

Thanks for this new help too.

> BTW, how do you switch between MikTeX and TeX Live?

I use WindEdt 10.1 as tex editor and by the "Options->Configurations" in
the main menus it is possible to switch between MikTeX and TeXLive

Roberto

2016-06-11 19:14 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Norbert Preining wrote:
>
>  in C: \ Program Files \ MiKTeX 2.9 \ miktex \ bin \;
>
> No. There is a reason this warning is there, and it is to warn people
> that having multiple (epsecially old, not here though!) tex programs
> hanging around will give a bad outcome.
>
>
> "Will" ?  Surely "may".
> --
>
> Philip Taylor
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160611/a9aa35b8/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160611/a9aa35b8/attachment-0001.jpg>

From karl at freefriends.org  Sun Jun 12 00:24:51 2016
From: karl at freefriends.org (Karl Berry)
Date: Sat, 11 Jun 2016 22:24:51 +0000
Subject: [tex-live] Xdvi not working
In-Reply-To: <7CA44916-B8C2-461E-9C74-991C2BC6E4C1@icloud.com>
Message-ID: <201606112224.u5BMOpbY007784@freefriends.org>

    Conclusion: XQuartz and xdvi break the underlying assumption

I really doubt it is xdvi, per se, that is breaking anything.
xdvi hasn't notably changed.  And there is no problem on any other
platform.

    If you want to use xdvi, don????t update to XQuartz 2.7.9.

How about if you send me an xdvi-for-xquartz-2.7.9 binary (just the one
xdvi-xaw executable file) and I'll make it available from the TL bugs
page?  Or you could make it available from the mactex page.  Then at
least when people have the problem -- and we can be sure it will be
reported ad infinitum -- we have an easy answer.

We could ship both binaries and do tweaking in the shell script to
invoke the right one, but I don't want to!   --karl

From beebe at math.utah.edu  Sun Jun 12 01:35:48 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sat, 11 Jun 2016 17:35:48 -0600
Subject: [tex-live]  TeX Live 2016 binaries status,
 and TeX Live 2016 reaches        some Linux distributions
Message-ID: <CMM.0.96.0.1465688148.beebe@gamma.math.utah.edu>

I've made several reports on this list about building TeX Live 2016
binary distributions for numerous platforms.  The current state of
affairs is documented at

	http://www.math.utah.edu/pub/texlive/
	 ftp://ftp.math.utah.edu/pub/texlive/

in the top-level README.html file.  That page reports today a total of
88 systems, among them CentOS 7 on IBM POWER8 little-endian, and GNU
Hurd on x86.

As I was running system updates on various machines today, I noticed
that TeX Live 2016 has finally reached some Linux distributions:

	Kali Linux 
	Debian 8-testing
	Debian 8-unstable

All are on x86-64, but presumably there are, or will soon be,
distributions for other supported CPUs.  On the Debian systems, I had
to do "apt-get dist-upgrade" to get the latest TeX Live.

I have several flavors of Ubuntu, which uses Debian-style packaging,
but the latest version, 16.04 LTS (Long-Term Support -- to 2021), is
still supplying TeX Live 2015.

CentOS 7 (and thus, Red Hat 7 and Scientific Linux 7), the latest
version in that popular distribution family, still has only TeX Live
2013.

For another popular platform with commercial support, openSUSE 13, and
42.1 supply only TeX Live 2013.  However, the latest release, openSUSE
TumbleWeed (rolling updates) has TeX Live 2015.

I conclude that, although a few of us developers are at the latest TeX
Live release, most of the (La)TeX users on the large installed based
of Linux systems are years behind.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From richardmoncriefkoch at icloud.com  Sun Jun 12 03:30:33 2016
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Sat, 11 Jun 2016 18:30:33 -0700
Subject: [tex-live] Xdvi not working
Message-ID: <3745E153-97E4-4F8C-A4F6-DD1769BA2E82@icloud.com>

Karl wrote ?How about if you send me an xdvi-for-xquartz-2.7.9 binary
and I?ll make it available from the TL bugs page? Or you could make it
available from the mactex page.?

If only life were that simple. Our 64 bit binaries run on seven different
versions of OS X:

	Snow Leopard
	Lion
	Mountain Lion	
	Mavericks
	Yosemite
	El Capitan
	The system Apple will unveil on Monday

Every one of these could have several different versions of
XQuartz. The current binaries work UNLESS XQuartz 2.7.9
is installed. It can be installed on each of the seven systems.

I happen to have two computers which can run Snow Leopard
and two computers which can run El Capitan. So I installed XQuartz 2.7.9
on one Snow Leopard computer and one El Capitan computer,
and I recompiled xdvi on both. The Snow Leopard version 
doesn?t fix the problem on the El Capitan machine.
The El Capitan version doesn?t even run on Snow Leopard.

Thus potentially we might need seven different copies of xdvi-xaw
for the seven systems when they are upgraded to XQuartz 2.7.9.

I have computers running all seven systems, but I don?t want to install
XQuartz 2.7.9 on the five remaining systems, for fear of making compiling
and testing much harder in the future. Thus we?d need five
people willing to sacrifice five systems for testing, and potentially
compile five copies of the TeX Live binaries.

Better to wait and see if my bug report to XQuartz yields any fruit.

Dick




From vincent.torri at gmail.com  Sun Jun 12 07:09:34 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Sun, 12 Jun 2016 07:09:34 +0200
Subject: [tex-live] TeX Live 2016 binaries status,
 and TeX Live 2016 reaches some Linux distributions
In-Reply-To: <CMM.0.96.0.1465688148.beebe@gamma.math.utah.edu>
References: <CMM.0.96.0.1465688148.beebe@gamma.math.utah.edu>
Message-ID: <CAMq1adrN_JEXgeEPBSR6xd17ozMvf1FMjxBBm_pBQrSz9hq0uA@mail.gmail.com>

Hello

On Sun, Jun 12, 2016 at 1:35 AM, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
>
> I've made several reports on this list about building TeX Live 2016
> binary distributions for numerous platforms.  The current state of
> affairs is documented at
>
>         http://www.math.utah.edu/pub/texlive/
>          ftp://ftp.math.utah.edu/pub/texlive/

openindiana is mentioned only for i386 CPU and not x86_64. Is it normal ?

Vincent Torri

> in the top-level README.html file.  That page reports today a total of
> 88 systems, among them CentOS 7 on IBM POWER8 little-endian, and GNU
> Hurd on x86.
>
> As I was running system updates on various machines today, I noticed
> that TeX Live 2016 has finally reached some Linux distributions:
>
>         Kali Linux
>         Debian 8-testing
>         Debian 8-unstable
>
> All are on x86-64, but presumably there are, or will soon be,
> distributions for other supported CPUs.  On the Debian systems, I had
> to do "apt-get dist-upgrade" to get the latest TeX Live.
>
> I have several flavors of Ubuntu, which uses Debian-style packaging,
> but the latest version, 16.04 LTS (Long-Term Support -- to 2021), is
> still supplying TeX Live 2015.
>
> CentOS 7 (and thus, Red Hat 7 and Scientific Linux 7), the latest
> version in that popular distribution family, still has only TeX Live
> 2013.
>
> For another popular platform with commercial support, openSUSE 13, and
> 42.1 supply only TeX Live 2013.  However, the latest release, openSUSE
> TumbleWeed (rolling updates) has TeX Live 2015.
>
> I conclude that, although a few of us developers are at the latest TeX
> Live release, most of the (La)TeX users on the large installed based
> of Linux systems are years behind.
>
> -------------------------------------------------------------------------------
> - Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
> - University of Utah                    FAX: +1 801 581 4148                  -
> - Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
> - 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
> - Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
> -------------------------------------------------------------------------------

From vincent.torri at gmail.com  Sun Jun 12 08:27:47 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Sun, 12 Jun 2016 08:27:47 +0200
Subject: [tex-live] Windows (MSYS2) : kpathsea does not find texmf.cnf
In-Reply-To: <CAMq1adrK-osRQsNrq8FUbRkDD5Hz2bo3_tk5wdmtCP430h4Ycg@mail.gmail.com>
References: <CAMq1adppS9q79Fh77akk2PVnmG0QGD=BpB-dhKN8BsWaDV-mkw@mail.gmail.com>
 <90EFD62E9E6148D59255BE42586502CD@CJ3001517A>
 <CAMq1adpw0O26AVuVCobpKxibR4wouC3kF0HmXAi9p7+PLU4BKA@mail.gmail.com>
 <B4801F9E69684EAA9CB980B775058329@CJ3001517A>
 <CAMq1adoWx0xNUuJW1hw64R-277Q1r6jckgj_oYJTn+P8x64haw@mail.gmail.com>
 <3601A79C6A3143F7BE85A8E6948167D2@CJ3001517A>
 <CAMq1adrK-osRQsNrq8FUbRkDD5Hz2bo3_tk5wdmtCP430h4Ycg@mail.gmail.com>
Message-ID: <CAMq1adrUsLYoQQhvP8TqsK5JST=Px6EwOX3biE5uw4hJSp=Q9Q@mail.gmail.com>

Hello

On Fri, Jun 10, 2016 at 7:05 PM, Vincent Torri <vincent.torri at gmail.com> wrote:
> Is it a problem to use "kpsewhich.exe" when I call kpathsea_set_program_name() ?

actually, from the source code, argv0 is only used to set some
environment variables like SELFAUTOLOC from its path, so kpsewhich is
sufficient

Vincent Torri

> thank you
>
> Vincent Torri
>
>
> On Fri, Jun 10, 2016 at 4:26 PM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>>> Any idea why ?
>>
>>
>> Because TEXMF in
>> TFMFONTS = .;{$TEXMF/fonts,$VARTEXFONTS}/tfm//
>> is defined by using $SELFAUTOLOC, the directory where
>> the exec file exists.
>> As you find in this exapmle, you have to install your
>> program into bin/win32 in order to fully use the kpathsea.
>>
>> Best,
>> Akira
>>

From zdenek.wagner at gmail.com  Sun Jun 12 13:48:17 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 12 Jun 2016 13:48:17 +0200
Subject: [tex-live] TexLive manager does not load any repository
In-Reply-To: <4e2d0f01-fc71-a23f-4bea-a6fb2a46184c@Rhul.Ac.Uk>
References: <CAJ9wK43rvtO8yU+LUOyHkYwLF92=V0Fgx59YYCWs+6PTM=H3bw@mail.gmail.com>
 <20160611092501.GF25579@logic.at>
 <CAJ9wK43TgOxVDVRDWS3FoN+fRF27v+pwdSVdXa9ckJFmT9WigQ@mail.gmail.com>
 <20160611144851.GI10246@logic.at>
 <4e2d0f01-fc71-a23f-4bea-a6fb2a46184c@Rhul.Ac.Uk>
Message-ID: <CAC1phybQzBTEwHymg1DUAe_kQEQev1TMRJsHcG7UGtTynnv75g@mail.gmail.com>

2016-06-11 19:14 GMT+02:00 Philip Taylor <P.Taylor at rhul.ac.uk>:

>
>
> Norbert Preining wrote:
>
>  in C: \ Program Files \ MiKTeX 2.9 \ miktex \ bin \;
>
> No. There is a reason this warning is there, and it is to warn people
> that having multiple (epsecially old, not here though!) tex programs
> hanging around will give a bad outcome.
>
>
> "Will" ?  Surely "may".
>

Yes, it is a common problem in Linux where TeX is installed with the OS, a
user installs TeX Live, both are in PATH and quite often (because TeX Live
is usually more complete but further in PATH), some binaries are take from
one TeX distro and some binaries from the other. Each binary reads its own
settings and use its own packages that have different versions. The result
is a strange error message or even a crash.



Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



> --
>
> Philip Taylor
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/c53833c0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/c53833c0/attachment-0001.jpg>

From enrico.gregorio at gmail.com  Sun Jun 12 15:50:00 2016
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Sun, 12 Jun 2016 15:50:00 +0200
Subject: [tex-live] Xdvi not working
In-Reply-To: <3745E153-97E4-4F8C-A4F6-DD1769BA2E82@icloud.com>
References: <3745E153-97E4-4F8C-A4F6-DD1769BA2E82@icloud.com>
Message-ID: <CAD1MDiB5FHpTw=SyX4EVpO6nS9ncLtHM0ckAHyCFSJ4T2aPMPg@mail.gmail.com>

Too bad indeed! Thanks for the effort.

I don't think there are many people around who use Xdvi
on Mac OS X; it just happened that I wanted to check
an answer also with it and, to my dismay, I discovered
the problem.

Let's hope the bug report about XQuartz succeeds.
Otherwise, short instructions on how to compile Xdvi
(possibly without building all the binaries) or a binary
to download might be an acceptable workaround.

Ciao
Enrico


2016-06-12 3:30 GMT+02:00 Richard Koch <richardmoncriefkoch at icloud.com>:

> Karl wrote ?How about if you send me an xdvi-for-xquartz-2.7.9 binary
> and I?ll make it available from the TL bugs page? Or you could make it
> available from the mactex page.?
>
> If only life were that simple. Our 64 bit binaries run on seven different
> versions of OS X:
>
>         Snow Leopard
>         Lion
>         Mountain Lion
>         Mavericks
>         Yosemite
>         El Capitan
>         The system Apple will unveil on Monday
>
> Every one of these could have several different versions of
> XQuartz. The current binaries work UNLESS XQuartz 2.7.9
> is installed. It can be installed on each of the seven systems.
>
> I happen to have two computers which can run Snow Leopard
> and two computers which can run El Capitan. So I installed XQuartz 2.7.9
> on one Snow Leopard computer and one El Capitan computer,
> and I recompiled xdvi on both. The Snow Leopard version
> doesn?t fix the problem on the El Capitan machine.
> The El Capitan version doesn?t even run on Snow Leopard.
>
> Thus potentially we might need seven different copies of xdvi-xaw
> for the seven systems when they are upgraded to XQuartz 2.7.9.
>
> I have computers running all seven systems, but I don?t want to install
> XQuartz 2.7.9 on the five remaining systems, for fear of making compiling
> and testing much harder in the future. Thus we?d need five
> people willing to sacrifice five systems for testing, and potentially
> compile five copies of the TeX Live binaries.
>
> Better to wait and see if my bug report to XQuartz yields any fruit.
>
> Dick
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/cf591cff/attachment.html>

From jfbu at free.fr  Sun Jun 12 16:01:12 2016
From: jfbu at free.fr (jfbu)
Date: Sun, 12 Jun 2016 16:01:12 +0200
Subject: [tex-live] Xdvi not working
In-Reply-To: <CAD1MDiB5FHpTw=SyX4EVpO6nS9ncLtHM0ckAHyCFSJ4T2aPMPg@mail.gmail.com>
References: <3745E153-97E4-4F8C-A4F6-DD1769BA2E82@icloud.com>
 <CAD1MDiB5FHpTw=SyX4EVpO6nS9ncLtHM0ckAHyCFSJ4T2aPMPg@mail.gmail.com>
Message-ID: <DFB9B9E8-F343-4DDB-94D8-04810E0C1D82@free.fr>


Le 12 juin 2016 ? 15:50, Enrico Gregorio <enrico.gregorio at gmail.com> a ?crit :

> Too bad indeed! Thanks for the effort.
> 
> I don't think there are many people around who use Xdvi
> on Mac OS X;


indeed, but for info I do use xdvi sometimes, hence many thanks
for this whole thread which has led me to refuse the 2.7.9 install...
(on mavericks)

Best

Jean-Fran?ois

> it just happened that I wanted to check
> an answer also with it and, to my dismay, I discovered
> the problem.
> 
> Let's hope the bug report about XQuartz succeeds.
> Otherwise, short instructions on how to compile Xdvi
> (possibly without building all the binaries) or a binary
> to download might be an acceptable workaround.
> 
> Ciao
> Enrico
> 
> 
> 2016-06-12 3:30 GMT+02:00 Richard Koch <richardmoncriefkoch at icloud.com>:
> Karl wrote ?How about if you send me an xdvi-for-xquartz-2.7.9 binary
> and I?ll make it available from the TL bugs page? Or you could make it
> available from the mactex page.?
> 
> If only life were that simple. Our 64 bit binaries run on seven different
> versions of OS X:
> 
>         Snow Leopard
>         Lion
>         Mountain Lion
>         Mavericks
>         Yosemite
>         El Capitan
>         The system Apple will unveil on Monday
> 
> Every one of these could have several different versions of
> XQuartz. The current binaries work UNLESS XQuartz 2.7.9
> is installed. It can be installed on each of the seven systems.
> 
> I happen to have two computers which can run Snow Leopard
> and two computers which can run El Capitan. So I installed XQuartz 2.7.9
> on one Snow Leopard computer and one El Capitan computer,
> and I recompiled xdvi on both. The Snow Leopard version
> doesn?t fix the problem on the El Capitan machine.
> The El Capitan version doesn?t even run on Snow Leopard.
> 
> Thus potentially we might need seven different copies of xdvi-xaw
> for the seven systems when they are upgraded to XQuartz 2.7.9.
> 
> I have computers running all seven systems, but I don?t want to install
> XQuartz 2.7.9 on the five remaining systems, for fear of making compiling
> and testing much harder in the future. Thus we?d need five
> people willing to sacrifice five systems for testing, and potentially
> compile five copies of the TeX Live binaries.
> 
> Better to wait and see if my bug report to XQuartz yields any fruit.
> 
> Dick
> 
> 
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/809f9c6f/attachment-0001.html>

From vivrii at gmail.com  Sun Jun 12 16:13:35 2016
From: vivrii at gmail.com (Victor Ivrii)
Date: Sun, 12 Jun 2016 10:13:35 -0400
Subject: [tex-live] Xdvi not working
In-Reply-To: <DFB9B9E8-F343-4DDB-94D8-04810E0C1D82@free.fr>
References: <3745E153-97E4-4F8C-A4F6-DD1769BA2E82@icloud.com>
 <CAD1MDiB5FHpTw=SyX4EVpO6nS9ncLtHM0ckAHyCFSJ4T2aPMPg@mail.gmail.com>
 <DFB9B9E8-F343-4DDB-94D8-04810E0C1D82@free.fr>
Message-ID: <CADP=ZZraqqGaTRbpVRA4prUrf+BSqH-auttgATmKawyC02sFTQ@mail.gmail.com>

xdvi works for me on XQuartz 2.7.9 and MacOSX 10.7.5
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/0ad7f550/attachment.html>

From richardmoncriefkoch at icloud.com  Sun Jun 12 17:24:05 2016
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Sun, 12 Jun 2016 08:24:05 -0700
Subject: [tex-live] Xdvi not working
Message-ID: <346F6FBA-8D1F-4F13-BC9C-2EC3C75F3BC5@icloud.com>

Folks,

My bug report to XQuartz led to important information from them.
Our problem may be solvable. Please have patience. I should
know later today.

Dick Koch

From ml at mariochiari.net  Sun Jun 12 18:18:02 2016
From: ml at mariochiari.net (mario chiari)
Date: Sun, 12 Jun 2016 18:18:02 +0200
Subject: [tex-live] calling mktexnam, bug or misconf?
Message-ID: <1465748282.3535.4.camel@mariochiari.net>

Hi

trying texlive2016, i get the following error msg:

-----
LaTeX Font Warning: Font shape `T2A/wncyr/m/n' undefined
(Font)??????????????using `T2A/cmr/m/n' instead on input line 15.

kpathsea: Running mktextfm larm1200
/usr/share/texlive/texmf-dist/web2c/mktexnam: Could not map source
abbreviation??for larm1200.
/usr/share/texlive/texmf-dist/web2c/mktexnam: Need to update ?
----

clearly, it should call /usr/share/texlive/***2016***/texmf-dist/web2c/mktexnam
instead. (i fixed my compilation by running > mktextfm larm1200; ?directly)

Is it a bug or a misconfiguration on my side?
Comments welcome

thanks
cheers
mario




From ml at mariochiari.net  Sun Jun 12 18:23:35 2016
From: ml at mariochiari.net (mario chiari)
Date: Sun, 12 Jun 2016 18:23:35 +0200
Subject: [tex-live] 2016 or 2015?
In-Reply-To: <1465661752.3811.6.camel@mariochiari.net>
References: <1465661752.3811.6.camel@mariochiari.net>
Message-ID: <1465748615.3535.9.camel@mariochiari.net>

Hi

trying ?

#??perl install-tl -gui

it works very fine.

It still bother me that #install-tl does not work for me

thanks?
cheers
mario


On Sat, 2016-06-11 at 18:15 +0200, mario chiari wrote:
> Hi
> 
> I am trying top install texlive 2016 (and I wish to keep 2015).?
> But if I launch install-tl-20160610/install-tl, it seems it tries to install
> into the 2015 folder.
> Why so? do I need to fix something?
> thanks
> m.?
> 
> [root at fedora-pc install-tl-20160610]# install-tl --gui=text
> Loading /usr/local/texlive/2015/tlpkg/texlive.tlpdb
> Installing TeX Live 2015 from: /usr/local/texlive/2015 ? ?<<<<<<<
> Platform: x86_64-linux => 'GNU/Linux on x86_64'
> Distribution: live (uncompressed)
> Directory for temporary files: /tmp

From komascript at gmx.info  Sun Jun 12 18:36:52 2016
From: komascript at gmx.info (Markus Kohm)
Date: Sun, 12 Jun 2016 18:36:52 +0200
Subject: [tex-live] 2016 or 2015?
In-Reply-To: <1465748615.3535.9.camel@mariochiari.net>
References: <1465661752.3811.6.camel@mariochiari.net>
 <1465748615.3535.9.camel@mariochiari.net>
Message-ID: <1651126.kOWM2cz86e@x61s.fritz.box>

Am Sonntag, 12. Juni 2016, 18:23:35 schrieb mario chiari:
> [root at fedora-pc install-tl-20160610]# install-tl --gui=text

Are you sure, that this should call the correct install-tl? What does

	which install-tl

say?

Current directory should not be part of PATH, i.e., for root. Generally you 
have to add a (relative) path to the call of install-tl in the current 
directory.

Try: 

	./install-tl --gui=text

instead of

	install-tl --gui=text
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/80c30436/attachment.bin>

From martin at oneiros.de  Sun Jun 12 18:38:40 2016
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Sun, 12 Jun 2016 18:38:40 +0200
Subject: [tex-live] TeX Live 2016 binaries status,
 and TeX Live 2016 reaches some Linux distributions
In-Reply-To: <CMM.0.96.0.1465688148.beebe@gamma.math.utah.edu>
References: <CMM.0.96.0.1465688148.beebe@gamma.math.utah.edu>
Message-ID: <CAP7DCDft_EQ3SuoVfn_7YqzGWeo2Y_4-qmTAJGPnqF_3jJ=rKA@mail.gmail.com>

2016-06-12 1:35 GMT+02:00 Nelson H. F. Beebe <beebe at math.utah.edu>:
> I have several flavors of Ubuntu, which uses Debian-style packaging,
> but the latest version, 16.04 LTS (Long-Term Support -- to 2021), is
> still supplying TeX Live 2015.

Nelson, sorry - but I have to ask: Do you know what "Long-Term Support" means?
I doubt it - otherwise you wouldn't imply that 16.04 should update to TL2016.

> CentOS 7 (and thus, Red Hat 7 and Scientific Linux 7), the latest
> version in that popular distribution family, still has only TeX Live
> 2013.

Small wonder: RHEL7 was released on 2014-06-10.

OTOH Fedora currently has TL2015.

Best
   Martin

From richardmoncriefkoch at icloud.com  Sun Jun 12 18:40:55 2016
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Sun, 12 Jun 2016 09:40:55 -0700
Subject: [tex-live] Xdvi not working
Message-ID: <2A8E6FF5-5CA6-40F3-923C-D7391D0D804A@icloud.com>

Folks,

Using information from the XQuartz bug system, I?ve compiled
xdvi on Snow Leopard for XQuartz 2.7.9. This version will be supplied
by tlmgr and TeX Live Utility in a few days as an update. 

The new version runs on Snow Leopard and El Capitan, and I assume
on all intermediate systems, but users MUST update to XQuartz 2.7.9.
The update is available for Snow Leopard and above, and thus on
all systems supported by x86_64-darwin.

The 64 bit binaries for the Mac in TeX Live are compiled on Snow
Leopard, for compatibility with older systems. In most cases, TeX Live
contains its own copies of libraries, rather than relying on system
libraries. But X11 is an exception. Until now, I have used
XQuartz 2.3.6 on Snow Leopard for maximum compatibility. This
failed with the introduction of XQuartz 2.7.9, so from now on I
will update to the latest version of XQuartz before making
TeX Live. Users who need X11 should get in the habit of
updating it regularly.


Dick Koch




From zdenek.wagner at gmail.com  Sun Jun 12 18:48:07 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 12 Jun 2016 18:48:07 +0200
Subject: [tex-live] calling mktexnam, bug or misconf?
In-Reply-To: <1465748282.3535.4.camel@mariochiari.net>
References: <1465748282.3535.4.camel@mariochiari.net>
Message-ID: <CAC1phyahL5bn7-xfkPGv_nuPqeVg_9DS1dEkLCoxvZq=FmLALw@mail.gmail.com>

The TeX from your Linux distro is before TeX from TL in your PATH. Change
the order and it will work. It is one of the most frequents errors in PATH
settings.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2016-06-12 18:18 GMT+02:00 mario chiari <ml at mariochiari.net>:

> Hi
>
> trying texlive2016, i get the following error msg:
>
> -----
> LaTeX Font Warning: Font shape `T2A/wncyr/m/n' undefined
> (Font)              using `T2A/cmr/m/n' instead on input line 15.
>
> kpathsea: Running mktextfm larm1200
> /usr/share/texlive/texmf-dist/web2c/mktexnam: Could not map source
> abbreviation  for larm1200.
> /usr/share/texlive/texmf-dist/web2c/mktexnam: Need to update ?
> ----
>
> clearly, it should call
> /usr/share/texlive/***2016***/texmf-dist/web2c/mktexnam
> instead. (i fixed my compilation by running > mktextfm larm1200;  directly)
>
> Is it a bug or a misconfiguration on my side?
> Comments welcome
>
> thanks
> cheers
> mario
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/abf2b41a/attachment.html>

From zdenek.wagner at gmail.com  Sun Jun 12 18:52:20 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 12 Jun 2016 18:52:20 +0200
Subject: [tex-live] TeX Live 2016 binaries status,
 and TeX Live 2016 reaches some Linux distributions
In-Reply-To: <CAP7DCDft_EQ3SuoVfn_7YqzGWeo2Y_4-qmTAJGPnqF_3jJ=rKA@mail.gmail.com>
References: <CMM.0.96.0.1465688148.beebe@gamma.math.utah.edu>
 <CAP7DCDft_EQ3SuoVfn_7YqzGWeo2Y_4-qmTAJGPnqF_3jJ=rKA@mail.gmail.com>
Message-ID: <CAC1phyaV6yhdegAFkocYF0WwZiyXG4=XSQs9Np+P19NcsectDQ@mail.gmail.com>

2016-06-12 18:38 GMT+02:00 Martin Schr?der <martin at oneiros.de>:

> 2016-06-12 1:35 GMT+02:00 Nelson H. F. Beebe <beebe at math.utah.edu>:
> > I have several flavors of Ubuntu, which uses Debian-style packaging,
> > but the latest version, 16.04 LTS (Long-Term Support -- to 2021), is
> > still supplying TeX Live 2015.
>
> Nelson, sorry - but I have to ask: Do you know what "Long-Term Support"
> means?
> I doubt it - otherwise you wouldn't imply that 16.04 should update to
> TL2016.
>
> > CentOS 7 (and thus, Red Hat 7 and Scientific Linux 7), the latest
> > version in that popular distribution family, still has only TeX Live
> > 2013.
>
> Small wonder: RHEL7 was released on 2014-06-10.
>

It is explicitely written in the CentOS documentation. If the major version
of CentOS is not changed, software is never updated to a new major version
even if it contains known bugs (as was the gace of ghostsvript in CentOS
4.x). The newer TeX Live will appear in CentOS 8.0.

>
> OTOH Fedora currently has TL2015.
>
> Best
>    Martin
>


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/28af7e91/attachment-0001.html>

From ml at mariochiari.net  Sun Jun 12 19:04:48 2016
From: ml at mariochiari.net (mario chiari)
Date: Sun, 12 Jun 2016 19:04:48 +0200
Subject: [tex-live] 2016 or 2015?
In-Reply-To: <1651126.kOWM2cz86e@x61s.fritz.box>
References: <1465661752.3811.6.camel@mariochiari.net>
 <1465748615.3535.9.camel@mariochiari.net>
 <1651126.kOWM2cz86e@x61s.fritz.box>
Message-ID: <1465751088.3535.10.camel@mariochiari.net>

On Sun, 2016-06-12 at 18:36 +0200, Markus Kohm wrote:
> Am Sonntag, 12. Juni 2016, 18:23:35 schrieb mario chiari:
> > 
> > [root at fedora-pc install-tl-20160610]# install-tl --gui=text
> Are you sure, that this should call the correct install-tl? What does
> 
> 	which install-tl
> 
> say?
> 
> Current directory should not be part of PATH, i.e., for root. Generally you?
> have to add a (relative) path to the call of install-tl in the current?
> directory.
> 
> Try:?
> 
> 	./install-tl --gui=text

yes, it works, thanks
(by the way, why?)

cheers
mario

> 
> instead of
> 
> 	install-tl --gui=text

From karl at freefriends.org  Sun Jun 12 20:19:59 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 12 Jun 2016 18:19:59 +0000
Subject: [tex-live] pdftex segfault with \pdflastmatch
In-Reply-To: <248EACE4D9714086BE38F6AEA223AE07@CJ3001517A>
Message-ID: <201606121819.u5CIJxpj013815@freefriends.org>

    dc> This plain tex document demonstrates \pdflastmatch failing if
    dc> used after a \pdfmatch that returned no matches.

Thanks for the report, of course, though it's sad.

    ak> The crash disappears if I apply an attached utils.c.diff.
    ak> But I don't know that the patch is right or not.

I was still seeing garbage for the position reported by \pdflastmatch
unless I added an explicit check (and variable) for whether the
preceding match succeeded.  (Because otherwise the various arrays are
accessed without necessarily being set.)

Patch (minus the documentation, etc.) below; I installed it in pdftex
and TL.  Akira (or anyone), let me know you see problems with it.

Thanks,
Karl

My test file (with the example from the pdftex manual):

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This file public domain.  Bug report of \pdflastmatch crash:
% http://tug.org/pipermail/tex-live/2016-June/038664.html
%
\catcode`\{=1 \catcode`\}=2 \catcode`^=7 \newlinechar=`^^J
%
\message{^^Jpdflastmatch0 before any match: \pdflastmatch0}
\message{^^J}%
%
\message{^^Jmatch a to b: \pdfmatch{a}{b}}
\message{^^J}%
\message{pdflastmatch0: \pdflastmatch0}
\message{^^J}%
%
\message{^^Jmatch example: \pdfmatch subcount 3 {ab(cd)*ef(gh)(ij)}{abefghij}}
\message{^^J}%
\message{pdflastmatch0 (0->abefghij): \pdflastmatch0 ^^J}
\message{pdflastmatch1 (-1->): \pdflastmatch1 ^^J}
\message{pdflastmatch2 (4->gh): \pdflastmatch2 ^^J}
\message{pdflastmatch3 (-1->): \pdflastmatch3}
\message{^^J}%
\end
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


And the patch:

--- pdftexdir/utils.c	(revision 757)
+++ pdftexdir/utils.c	(working copy)
@@ -817,12 +817,16 @@
     pdf_printf("/ModDate (%s)\n", start_time_str);
 }
 
+
 #define DEFAULT_SUB_MATCH_COUNT 10
 static int sub_match_count = DEFAULT_SUB_MATCH_COUNT;
 static regmatch_t *pmatch = NULL;
 static char *match_string = NULL;
+static int last_match_succeeded = 0;
 
-void matchstrings(strnumber s, strnumber t, int subcount, boolean icase)
+/* Implements \pdfmatch */
+void
+matchstrings(strnumber s, strnumber t, int subcount, boolean icase)
 {
     regex_t preg;
     int cflags = REG_EXTENDED;
@@ -857,20 +861,31 @@
             pmatch = xtalloc(sub_match_count, regmatch_t);
         }
         ret = regexec(&preg, str, sub_match_count, pmatch, eflags);
+        
         xfree(match_string);
-        match_string = xstrdup(str);
-        strpool[poolptr++] = ((ret == 0) ? '1' : '0');
+        match_string = xstrdup(str);  /* save searched-in string, used below */
+        last_match_succeeded = ret == 0;     /* save whether match succeeded */
+        strpool[poolptr++] = ((ret == 0) ? '1' : '0'); /* in string pool too */
     }
 
     regfree(&preg);
 }
 
-void getmatch(int i)
+/* Implements \pdflastmatch */
+
+void
+getmatch(int i)
 {
-    int size, len = 0;          /* to avoid warning about uninitialized use of len */
+    int size;
+    int len = 0;                /* avoid spurious uninitialized warning */
 
-    boolean found = i < sub_match_count
-        && match_string != NULL && pmatch[i].rm_so >= 0 && i >= 0;
+    boolean found
+      = i >= 0                  /* should always be so due to pdftex.web */
+        && i < sub_match_count  /* if >subcount, not found by definition */
+        && match_string != NULL /* first call, and just in case */
+        && last_match_succeeded /* if no match, not found */
+        && pmatch[i].rm_so >= 0 /* if no starting position, not found */
+        && pmatch[i].rm_eo >= pmatch[i].rm_so; /* just in case */
 
     if (found) {
         len = pmatch[i].rm_eo - pmatch[i].rm_so;

From komascript at gmx.info  Sun Jun 12 20:40:30 2016
From: komascript at gmx.info (Markus Kohm)
Date: Sun, 12 Jun 2016 20:40:30 +0200
Subject: [tex-live] 2016 or 2015?
In-Reply-To: <1465751088.3535.10.camel@mariochiari.net>
References: <1465661752.3811.6.camel@mariochiari.net>
 <1651126.kOWM2cz86e@x61s.fritz.box>
 <1465751088.3535.10.camel@mariochiari.net>
Message-ID: <6664896.Goedeo5Ftj@x61s.fritz.box>

Am Sonntag, 12. Juni 2016, 19:04:48 schrieb mario chiari:
> by the way, why?

Because it does not start the intall_tl from PATH but install_tl located at 
the current working directory.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/241198a3/attachment-0001.bin>

From simon.b.may at gmail.com  Sun Jun 12 21:45:18 2016
From: simon.b.may at gmail.com (Simon May)
Date: Sun, 12 Jun 2016 21:45:18 +0200
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <CAC1phyZgHXv63_NXBNT_iTkyeo79yMTY-mPTKW7ofoEkSs2VqQ@mail.gmail.com>
References: <2f7dbcca-290b-9db0-9be7-4baca67e3802@gmx.net>
 <84eg8j3gl6.fsf@siart.de> <22348.45767.11629.528210@zaphod.ms25.net>
 <CAC1phyZgHXv63_NXBNT_iTkyeo79yMTY-mPTKW7ofoEkSs2VqQ@mail.gmail.com>
Message-ID: <575DBBCE.90306@gmail.com>

Apologies for digging this out again, but I would like to comment on
this in the interest of educating the public. It is certainly not true
that Java (OpenJDK) is not freely redistributable. The OpenJDK is
licensed under the GPL and has been the reference implementation of Java
since version 7 (see [1]). The ?Oracle JDK? and OpenJDK are virtually
identical in any recent version. I do not understand what you mean by
?the GNU Java for Linux? and that it ?lacks GUI?. I am not aware of any
Java implementations which omit the graphical user interface toolkits
(AWT and Swing) as these are part of the Java standard library.

There are no ?standard classes that are not distributed with JRE but JDK
is required?. Java has a standard library, required to be implemented by
all conforming implementations (like the C standard library for the C
language) and which is distributed in what is called the JRE, or Java
Runtime Environment. The JDK (Java Development Kit) is for development,
as the name suggests. Any program relying specifically on the presence
of a JDK is doing something seriously wrong.

Yes, historically, there have been some differences and difficulties
between open Java implementations and the Sun/Oracle proprietary
distribution, but as explained above, with OpenJDK as the reference
implementation, these have been gone for years. Without any detailed
information, I cannot say why the application you dealt with ran on your
Linux machine, but not on another Windows machine. From experience, I
would rather suggest that the issue is that program installation
(especially runtimes like Java, which are used by many independent
applications) under Windows is a complete mess due to the lack of
package management. Often, Windows users have many different versions of
the JRE are installed at the same time, causing all sorts of trouble.

[1]: https://en.wikipedia.org/wiki/OpenJDK


Best wishes,
Simon May


On 30.05.2016 23:56, Zdenek Wagner wrote:
> 
>     I don't know anything about Java, but I've been told that current
>     implementations are quite fast.
> 
> 
> Yes, it is fast but the GNU Java for Linux lacks GUI, Java for other
> platforms is not freely redistributable, users will have to download and
> install it themselves. It need not be trivial. A few month ago I found
> that a Java app working fine on my Linux did not work on a Windows
> computer and the error message was not useful. The reason was that the
> app required standard classes that are not distributed with JRE but JDK
> is required. It can easily be figured out by a Java expert but not by
> normal users, they will just report that it does not work.
> 
> 
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/tex-live/attachments/20160612/49c857e1/attachment.bin>

From cereda.paulo at gmail.com  Mon Jun 13 00:26:54 2016
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Sun, 12 Jun 2016 19:26:54 -0300
Subject: [tex-live] Tlmgr closing takes fairly long
In-Reply-To: <575DBBCE.90306@gmail.com>
References: <2f7dbcca-290b-9db0-9be7-4baca67e3802@gmx.net>
 <84eg8j3gl6.fsf@siart.de> <22348.45767.11629.528210@zaphod.ms25.net>
 <CAC1phyZgHXv63_NXBNT_iTkyeo79yMTY-mPTKW7ofoEkSs2VqQ@mail.gmail.com>
 <575DBBCE.90306@gmail.com>
Message-ID: <eb84212b-b48c-df80-91a2-13c3ad280ec5@gmail.com>

'ello! :)

[Simon May]
 > There are no ?standard classes that are not distributed with JRE but
 > JDK is required?. Java has a standard library, required to be
 > implemented by all conforming implementations (like the C standard
 > library for the C language) and which is distributed in what is
 > called the JRE, or Java Runtime Environment. The JDK (Java
 > Development Kit) is for development, as the name suggests. Any
 > program relying specifically on the presence of a JDK is doing
 > something seriously wrong.

It is worth mentioning that some Linux distros deliberately separate 
Java components in order to avoid unnecessary bindings. In Fedora, 
there's a headless version:

[paulo at cambridge ~] $ rpm -qa | grep headless
java-1.8.0-openjdk-headless-1.8.0.91-6.b14.fc23.x86_64

This package has no graphical components. As the name indicates, it is 
used in environments where there is no need for a GUI (there are no X11 
bindings). This is my Java setup:

[paulo at cambridge ~] $ rpm -qa | grep openjdk
java-1.8.0-openjdk-1.8.0.91-6.b14.fc23.x86_64
java-1.8.0-openjdk-headless-1.8.0.91-6.b14.fc23.x86_64
java-1.8.0-openjdk-devel-1.8.0.91-6.b14.fc23.x86_64

The first two ensure normal execution of Java programs, including the 
ones with GUI features. The last one regards development and it is not 
needed for the average user.

About execution, as time goes by, each version gets enhanced (or 
bloated, pick the term you like) with new features. In general, you can 
run older code in newer JVMs, but the opposite is not always true. Also, 
bytecode compatibility does not always guarantee proper execution in 
older JVMs, but that's another chapter. :)

From karl at freefriends.org  Mon Jun 13 00:51:29 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 12 Jun 2016 22:51:29 +0000
Subject: [tex-live] Unknown directive ...containerchecksum
In-Reply-To: <20160611150936.GJ10246@logic.at>
Message-ID: <201606122251.u5CMpTTQ030799@freefriends.org>

    Subject: Re: [tex-live] Unknown directive ...containerchecksum

    np> ... get
    http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
    (Can we post this somewhere that I don't have to retype it???)

I added a note on http://tug.org/texlive/bugs.html and explicitly
mentioned the "Unknown directive" error on
http://tug.org/texlive/tlmgr.html (#disaster).  -k

From enrico.gregorio at gmail.com  Mon Jun 13 09:52:33 2016
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Mon, 13 Jun 2016 09:52:33 +0200
Subject: [tex-live] magyar.ldf hacked?
Message-ID: <CAD1MDiDF1tOjhTcger0Exi1hNr0QzxHWvAAQZg8-ty=RMhRV8A@mail.gmail.com>

Please look at

http://tug.org/svn/texlive/trunk/Master/texmf-dist/tex/generic/babel-hungarian/magyar.ldf?sortby=date&r1=41421&r2=41420&pathrev=41421

Ciao
Enrico
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160613/4fce9a39/attachment.html>

From preining at logic.at  Mon Jun 13 10:32:09 2016
From: preining at logic.at (Norbert Preining)
Date: Mon, 13 Jun 2016 17:32:09 +0900
Subject: [tex-live] magyar.ldf hacked?
In-Reply-To: <CAD1MDiDF1tOjhTcger0Exi1hNr0QzxHWvAAQZg8-ty=RMhRV8A@mail.gmail.com>
References: <CAD1MDiDF1tOjhTcger0Exi1hNr0QzxHWvAAQZg8-ty=RMhRV8A@mail.gmail.com>
Message-ID: <20160613083209.GZ10246@logic.at>

On Mon, 13 Jun 2016, Enrico Gregorio wrote:
> http://tug.org/svn/texlive/trunk/Master/texmf-dist/tex/generic/babel-hungarian/magyar.ldf?sortby=date&r1=41421&r2=41420&pathrev=41421

Thanks. Bad. CTAN is also bad.

I removed the file and will inform CTAN and the authors.

THANKS!!!

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Mon Jun 13 10:43:56 2016
From: preining at logic.at (Norbert Preining)
Date: Mon, 13 Jun 2016 17:43:56 +0900
Subject: [tex-live] magyar.ldf hacked?
In-Reply-To: <20160613083209.GZ10246@logic.at>
References: <CAD1MDiDF1tOjhTcger0Exi1hNr0QzxHWvAAQZg8-ty=RMhRV8A@mail.gmail.com>
 <20160613083209.GZ10246@logic.at>
Message-ID: <20160613084356.GC10246@logic.at>

> I removed the file and will inform CTAN and the authors.

Reinstalled the v1.5c verion, informed CTAN and author.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Mon Jun 13 10:45:50 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 13 Jun 2016 09:45:50 +0100
Subject: [tex-live] magyar.ldf hacked?
In-Reply-To: <20160613083209.GZ10246@logic.at>
References: <CAD1MDiDF1tOjhTcger0Exi1hNr0QzxHWvAAQZg8-ty=RMhRV8A@mail.gmail.com>
 <20160613083209.GZ10246@logic.at>
Message-ID: <314a9388-e6fc-96b4-2d30-6ffed949b382@Rhul.Ac.Uk>

"disgustedobjective.com" -> "holdhelptime.com";
WHOIS for "holdhelptime.com" :

> Domain Name: holdhelptime.com
> Registry Domain ID: D400707386
> Registrar WHOIS Server: Whois.domainerschoice.com
> Updated date: 2016-04-15T15:47:37Z
> Creation date: 2016-04-15T15:00:17Z
> Registrar Registration Expiration date:
> Registrar: Nanjing Imperiosus Technology Co. Ltd
> Registrar IANA ID: 953
> Registrar Abuse Contact Email: abuse at domainerschoice.com
> Registrar Abuse Contact Phone: +86.2584752360
> Registrar Abuse Website: http://www.domainerschoice.com/report_abuse
> Domain Status: ok
> Registry Registrant ID:
> Registrant Name: Private Registration
> Registrant Organization: WhoisGuardService.com
> Registrant Street: Tian Hong Shan Zhuang, BLd. 7, Office 104
> Registrant City: Nanjing
> Registrant State/Province : Jiangsu
> Registrant Postal Code: 210049
> Registrant Country: CHINA
> Registrant Phone: 86.2584752362
> Registrant Phone Ext:
> Registrant Fax: 86.2584752360
> Registrant Fax Ext:
> Registrant Email: holdhelptime.com at domainersidshield.com
> Registry Admin ID:
> Admin Name: Private Registration
> Admin Organization: WhoisGuardService.com
> Admin Street: Tian Hong Shan Zhuang, BLd. 7, Office 104
> Admin City: Nanjing
> Admin State/Province : Jiangsu
> Admin Postal Code : 210049
> Admin Country: CHINA
> Admin Phone: 86.2584752362
> Admin Phone Ext:
> Admin Fax: 86.2584752360
> Admin Fax Ext:
> Admin Email: holdhelptime.com at domainersidshield.com
> Registry Tech ID:
> Tech Name: Private Registration
> Tech Organization: WhoisGuardService.com
> Tech Street: Tian Hong Shan Zhuang, BLd. 7, Office 104
> Tech City: Nanjing
> Tech State/Province: Jiangsu
> Tech Postal Code: 210049
> Tech Country: CHINA
> Tech Phone: 86.2584752362
> Tech Phone Ext:
> Tech Fax: 86.2584752360
> Tech Fax Ext:
> Tech Email: holdhelptime.com at domainersidshield.com
> Name Server: NS1.PQL.NET
> Name Server: NS2.PQL.NET
> DNSSEC: UnSigned
> URL of the ICANN WHOIS Data Problem Reporting System:
> http://wdprs.internic.net/
> Last update of WHOIS database: 2016-04-15T15:47:37Z 
Just across the bay from you, Norbert -- perhaps you could call in and
have a word with them :-)
** Phil.


From beebe at math.utah.edu  Mon Jun 13 14:43:59 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon, 13 Jun 2016 06:43:59 -0600
Subject: [tex-live] TeX Live 2016 binaries status,
 and TeX Live 2016        reaches some Linux distributions
In-Reply-To: <CAMq1adrN_JEXgeEPBSR6xd17ozMvf1FMjxBBm_pBQrSz9hq0uA@mail.gmail.com>
Message-ID: <CMM.0.96.0.1465821839.beebe@gamma.math.utah.edu>

Vincent Torri <vincent.torri at gmail.com> asks on Sun, 12 Jun 2016 07:09:34 +0200:

>> openindiana is mentioned only for i386 CPU and not x86_64. Is it normal ?

Yes, it is normal.

The SPARC architecture that has been the core CPU of Solaris since the
introduction of SPARC in 1987 as Sun Microsystems' version of the
Berkeley RISC design, replacing Sun's previous use of the Motorola
68000 family processors, has been a mixed 32-bit and 64-bit system
since SPARC V8 in 1990.  

It is possible to compile software on Solaris (and its OpenSolaris
relative, OpenIndiana) in either mode, but the compiler default for
both SPARC and Intel x86/x86-64 CPUs, has always been 32-bit mode.
Indeed, a check of the executables in /bin (== /usr/bin) on both CPU
platforms shows that all are 32-bit files.

Thus, we have

    % cc hello.c && file a.out
    a.out: ELF 32-bit MSB executable, SPARC32PLUS, V8+ Required, 
    version 1 (SYSV), dynamically linked (uses shared libs), not stripped

    % cc hello.c && file a.out
    a.out: ELF 32-bit LSB executable, Intel 80386, version 1,
    dynamically linked (uses shared libs), not stripped, uses FPU

    % cc -m64 hello.c && file a.out
    a.out: ELF 64-bit MSB executable, SPARC V9, total store ordering,
    version 1 (SYSV), dynamically linked (uses shared libs), not stripped

    % cc -m64 hello.c && file a.out
    a.out: ELF 64-bit LSB executable, x86-64, version 1,
    dynamically linked (uses shared libs), not stripped, uses FPU FXSR SSE

For typesetting applications, consider that a typical book is about
1MB of text, I find it hard to imagine that an address space of more
than 4096MB would be needed for the majority of users, especially
because TeX processes only a page at a time.  The memory hogs are
instead the document viewers that try to hold everything in memory for
rapid navigation.

Nevertheless, if there is a feeling that a 64-bit build of TeX Live
2016 for OpenIndiana would be of interest, I can certainly try it.

The Open Community Software Project (OpenCSW)

	https://en.wikipedia.org/wiki/OpenCSW

that provides an archive of about 3850 open-source and free software
packages built for Solaris and OpenIndiana currently has TeX Live, but
only the 2012 version.  Thus, as I reported on Saturday on this list,
major software channels for easy installation of binary distributions
are often several years behind.

By offering TeX binaries for as many platforms as possible, we can
bring the end-user community up to the latest available TeXware.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From mojca.miklavec.lists at gmail.com  Mon Jun 13 14:53:23 2016
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 13 Jun 2016 14:53:23 +0200
Subject: [tex-live] TeX Live 2016 binaries status,
 and TeX Live 2016 reaches some Linux distributions
In-Reply-To: <CMM.0.96.0.1465821839.beebe@gamma.math.utah.edu>
References: <CAMq1adrN_JEXgeEPBSR6xd17ozMvf1FMjxBBm_pBQrSz9hq0uA@mail.gmail.com>
 <CMM.0.96.0.1465821839.beebe@gamma.math.utah.edu>
Message-ID: <CALBOmsYX5X0pERTmDFGacZQoXa-1MKVKZ+vJ3-60iZ3V40uV4w@mail.gmail.com>

On 13 June 2016 at 14:43, Nelson H. F. Beebe wrote:
>
> Nevertheless, if there is a feeling that a 64-bit build of TeX Live
> 2016 for OpenIndiana would be of interest, I can certainly try it.

Official binaries do include 64-bit binaries for Solaris. I assume
they work just fine on OpenIndiana.

> The Open Community Software Project (OpenCSW)
>
>         https://en.wikipedia.org/wiki/OpenCSW
>
> that provides an archive of about 3850 open-source and free software
> packages built for Solaris and OpenIndiana currently has TeX Live, but
> only the 2012 version.

Indeed. This should be upgraded at some point and I'm sure they would
warmly welcome any contribution, but good luck upgrading it ... there
are 5380 lines of code to package TL 2012 ...

https://buildfarm.opencsw.org/source/xref/opencsw/csw/mgar/pkg/texlive/trunk/Makefile
https://www.opencsw.org/packages/texlive/

Mojca

From arthur.reutenauer at normalesup.org  Mon Jun 13 14:58:28 2016
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Mon, 13 Jun 2016 13:58:28 +0100
Subject: [tex-live] TeX Live 2016 binaries status,
 and TeX Live 2016 reaches some Linux distributions
In-Reply-To: <CMM.0.96.0.1465821839.beebe@gamma.math.utah.edu>
References: <CAMq1adrN_JEXgeEPBSR6xd17ozMvf1FMjxBBm_pBQrSz9hq0uA@mail.gmail.com>
 <CMM.0.96.0.1465821839.beebe@gamma.math.utah.edu>
Message-ID: <20160613125828.GA3906224@phare.normalesup.org>

> The Open Community Software Project (OpenCSW)
> 
> 	https://en.wikipedia.org/wiki/OpenCSW
> 
> that provides an archive of about 3850 open-source and free software
> packages built for Solaris and OpenIndiana currently has TeX Live, but
> only the 2012 version.

  As I understand, an OpenCSW developer actually tried compiling more
recent binaries but did run into serious technical problems.  Mojca has
more details on that.

	Best,

		Arthur

From beebe at math.utah.edu  Mon Jun 13 15:09:36 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon, 13 Jun 2016 07:09:36 -0600
Subject: [tex-live] TeX Live 2016 binaries status,
 and TeX Live 2016        reaches some Linux distributions
In-Reply-To: <CAP7DCDft_EQ3SuoVfn_7YqzGWeo2Y_4-qmTAJGPnqF_3jJ=rKA@mail.gmail.com>
Message-ID: <CMM.0.96.0.1465823376.beebe@gamma.math.utah.edu>

Martin Schr{\"o}der <martin at oneiros.de> asks on Sun, 12 Jun 2016 18:38:40 +0200:

>> but I have to ask: Do you know what "Long-Term Support" means?
>> I doubt it - otherwise you wouldn't imply that 16.04 should update to TL2016.
>> ...
>> > CentOS 7 (and thus, Red Hat 7 and Scientific Linux 7), the latest
>> > version in that popular distribution family, still has only TeX Live
>> > 2013.
>> 
>> Small wonder: RHEL7 was released on 2014-06-10.
>> 
>> OTOH Fedora currently has TL2015.
>> ...

The shelf-life of most Linux (and BSD) distributions is fairly short,
especially in comparison to Solaris where I can still run binaries
build in 1990 (and IBM mainframe O/Ses can sometimes run 60-year-old
binaries).

For Ubuntu, releases appear twice a year, and according to

	https://en.wikipedia.org/wiki/Ubuntu_%28operating_system%29#History_and_development_process

every fourth release is labeled long-term support (LTS), and since
version 12.04 LTS (on 26 April 2012), support is guaranteed for five
years.

Fedora's major releases seem to appear every few months: according to

	https://fedoraproject.org/wiki/Releases

major version 1 appeared in 2003, and version 24 in 2016.

Because many Linux distributions drop previously-released shared
libraries, user-produced executables often fail to run after major
version upgrades.  That is a HUGE problem at many sites, commercial,
government, and academic, and is a strong reason for the commercial
success of companies like Red Hat and SUSE who offer customers support
for more than a decade on each release.  See

	https://access.redhat.com/support/policy/updates/errata/
	https://www.suse.com/support/policy

As an indication of the size of the problem, on the CentOS 7 desktop
on which I'm writing this letter, I have 23,667 executables in my
PATH, and 60% of those are not from the CentOS channel.

It has never seemed to me that the release of an O/S major version
should mean that all additional software should be frozen at the
levels available sometime before the date of version n.0 of the kernel
of that O/S.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From beebe at math.utah.edu  Mon Jun 13 17:07:55 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon, 13 Jun 2016 09:07:55 -0600
Subject: [tex-live]  64-bit binaries for OpenIndiana 11: success
Message-ID: <CMM.0.96.0.1465830475.beebe@gamma.math.utah.edu>

I've just successfully built 64-bit binaries for TeX Live 2016 on
OpenIndiana 11.  The first attempt with -m64 added to CFLAGS and
CXXFLAGS failed:

	gmake[6]: Leaving directory `/local/build/c89/texlive-20160513/source/Work/libs/luajit/native'                 

	native/buildvm -m bcdef -o lj_bcdef.h lib_base.c lib_math.c lib_bit.c lib_string.c lib_table.c lib_io.c
	lib_os.c lib_package.c lib_debug.c lib_ji\
	t.c lib_ffi.c                                                                                                  

	native/buildvm -m ffdef -o lj_ffdef.h lib_base.c lib_math.c lib_bit.c lib_string.c lib_table.c lib_io.c
	lib_os.c lib_package.c lib_debug.c lib_ji\
	t.c lib_ffi.c                                                                                                  

	Error: pointer size mismatch in cross-build.                                                                   

	Try: make HOST_CC="gcc -m32" CROSS=...                                                                         
                                  
I deleted the source/Work directory and tried again:

	% env TL_CONFIGURE_FLAGS='--disable-luajittex --disable-mfluajit' \
		./build-texlive-2016.sh -m64 texlive-20160513

That succeeded, with 402 files in the bin directory.  They are now
available at the usual location

	http://www.math.utah.edu/pub/texlive/

I noticed that clisp is available in the CSW distribution, so I've
just installed it, and am now redoing 32-bit and 64-bit builds on
OpenIndiana 11 in the hope of getting xindy into the binary
distributions.  More later....

----------------------------------------

P.S. Normally, we try to minimize the dependence of TeX Live
executables on packages and libraries that are not provided by the
main vendor distribution channel.

For these new OpenIndiana builds, I needed ghostscript, freeglut, and
mesa libraries from the OpenCSW channel, and their scores of
dependents, all installed this morning.

Here are the library dependendents from that channel:

	% /usr/uumath/src/texlive/show-texlive-libs.sh . | grep /opt
	      1 /opt/csw/lib/64/libGL.so.1
	      1 /opt/csw/lib/64/libGLU.so.1
	      1 /opt/csw/lib/64/libOSMesa.so.7
	      1 /opt/csw/lib/64/libgcc_s.so.1
	      1 /opt/csw/lib/64/libglut.so.3
	      1 /opt/csw/lib/64/libncurses.so.5
	      1 /opt/csw/lib/64/libreadline.so.5
	      1 /opt/csw/lib/64/libsigsegv.so.0
	      1 /opt/csw/lib/64/libz.so.1

Here are the executables that use those OpenCSW libraries:

	libGL			asy
	libGLU			asy
	libOSMesa		asy
	libglut			asy
	libncurses		asy
	libreadline		asy
	libsigsegv		asy
	libz			asy asy xelatex xelollipop xetex
	libgcc_s		amstex asy bibtexu cfftot1 cslatex csplain	\
				dvilualatex dviluatex eplain etex		\
				jadetex latex lollipop lualatex			\
				lualollipop luatex mex mllatex mltex		\
				mmafm mmpfb otfinfo otftotfm			\
				pdfcslatex pdfcsplain pdfetex			\
				pdfjadetex pdflatex pdfmex pdftex		\
				pdftosrc pdfxmltex t1dotlessj t1lint		\
				t1rawafm t1reencode t1testpage			\
				teckit_compile texlua texluac texsis		\
				ttftotype42 upmendex utf8mex xelatex		\
				xelollipop xetex xmltex
				
Regrettably, the -lgcc_s dependence is present in far too many
executables, so users of these binaries will need to install several
OpenCSW packages.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From beebe at math.utah.edu  Mon Jun 13 22:45:14 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon, 13 Jun 2016 14:45:14 -0600
Subject: [tex-live]  TeX Live 2016 binaries for OpenIndiana 11
Message-ID: <CMM.0.96.0.1465850714.beebe@gamma.math.utah.edu>

Thanks to a question earlier today on this list, I'm pleased to
announce the availability of both 32-bit and 64-bit binaries for
OpenIndiana 11 (aka OpenSolaris) on x86 and x86-64 systems, with the
necessary support of libraries from the OpenCSW distribution channel.

The binaries now include asympotote and xindy, thanks to the clisp
package from OpenCSW.

See 
	http://www.math.utah.edu/pub/texlive/
and two links to openindiana files.

All is not entirely rosy, however.  I've yet to succeed in building
TeX Live 2016 on Hipster, the rolling-update version of OpenSolaris.
Fortunately, the two OpenIndiana builds appear to work correctly on
Hipster, and I'm using that approach for Hipster until native builds
succeed.


-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From mojca.miklavec.lists at gmail.com  Mon Jun 13 23:18:32 2016
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 13 Jun 2016 23:18:32 +0200
Subject: [tex-live] 64-bit binaries for OpenIndiana 11: success
In-Reply-To: <CMM.0.96.0.1465830475.beebe@gamma.math.utah.edu>
References: <CMM.0.96.0.1465830475.beebe@gamma.math.utah.edu>
Message-ID: <CALBOmsZ08XgKGnggmh_zNBmEBmEwaUT1wwyUWqvj5UkzswdEdg@mail.gmail.com>

On 13 June 2016 at 17:07, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
> I've just successfully built 64-bit binaries for TeX Live 2016 on
> OpenIndiana 11.  The first attempt with -m64 added to CFLAGS and
> CXXFLAGS failed:
>
>         gmake[6]: Leaving directory `/local/build/c89/texlive-20160513/source/Work/libs/luajit/native'
>
>         native/buildvm -m bcdef -o lj_bcdef.h lib_base.c lib_math.c lib_bit.c lib_string.c lib_table.c lib_io.c
>         lib_os.c lib_package.c lib_debug.c lib_ji\
>         t.c lib_ffi.c
>
>         native/buildvm -m ffdef -o lj_ffdef.h lib_base.c lib_math.c lib_bit.c lib_string.c lib_table.c lib_io.c
>         lib_os.c lib_package.c lib_debug.c lib_ji\
>         t.c lib_ffi.c
>
>         Error: pointer size mismatch in cross-build.
>
>         Try: make HOST_CC="gcc -m32" CROSS=...
>
> I deleted the source/Work directory and tried again:
>
>         % env TL_CONFIGURE_FLAGS='--disable-luajittex --disable-mfluajit' \
>                 ./build-texlive-2016.sh -m64 texlive-20160513

You can check my notes at
    http://tug.org/svn/texlive/trunk/Build/source/doc/README.solaris?view=markup

If you want to build LuaJIT, you need to use
    export CC="/path/to/gcc -m64"
    export CXX="/path/to/g++ -m64"
rather than setting those variables in CFLAGS/CXXFLAGS. I would say
that's due to a bug in LuaJIT's configuration, but at the moment this
is the only way to get the two additional binaries.

> Here are the executables that use those OpenCSW libraries:
>
>         libGL                   asy
>         libGLU                  asy
>         libOSMesa               asy
>         libglut                 asy
>         libncurses              asy
>         libreadline             asy
>         libsigsegv              asy

You cannot avoid dependency on OpenGL anyway unless you want a
"featureless" Asymptote.

>         libz                    asy asy xelatex xelollipop xetex

In my case libz came from the OS:

> ldd xetex
        libfontconfig.so.1 =>    /usr/lib/libfontconfig.so.1
        libsocket.so.1 =>        /lib/libsocket.so.1
        libm.so.2 =>     /lib/libm.so.2
        libc.so.1 =>     /lib/libc.so.1
        libfreetype.so.6 =>      /usr/sfw/lib/libfreetype.so.6
        libz.so.1 =>     /usr/lib/libz.so.1
        libexpat.so.0 =>         /usr/sfw/lib/libexpat.so.0
        libnsl.so.1 =>   /lib/libnsl.so.1
        libmp.so.2 =>    /lib/libmp.so.2
        libmd.so.1 =>    /lib/libmd.so.1
        libscf.so.1 =>   /lib/libscf.so.1
        libdoor.so.1 =>  /lib/libdoor.so.1
        libuutil.so.1 =>         /lib/libuutil.so.1
        libgen.so.1 =>   /lib/libgen.so.1
        /platform/SUNW,SPARC-Enterprise-T5220/lib/libc_psr.so.1
        /platform/SUNW,SPARC-Enterprise-T5220/lib/libmd_psr.so.1


>         libgcc_s                amstex asy bibtexu cfftot1 cslatex csplain      \
>                                 dvilualatex dviluatex eplain etex               \
>                                 jadetex latex lollipop lualatex                 \
>                                 lualollipop luatex mex mllatex mltex            \
>                                 mmafm mmpfb otfinfo otftotfm                    \
>                                 pdfcslatex pdfcsplain pdfetex                   \
>                                 pdfjadetex pdflatex pdfmex pdftex               \
>                                 pdftosrc pdfxmltex t1dotlessj t1lint            \
>                                 t1rawafm t1reencode t1testpage                  \
>                                 teckit_compile texlua texluac texsis            \
>                                 ttftotype42 upmendex utf8mex xelatex            \
>                                 xelollipop xetex xmltex
>
> Regrettably, the -lgcc_s dependence is present in far too many
> executables, so users of these binaries will need to install several
> OpenCSW packages.

I didn't get any dependency on libgcc_s at all. I assume that must
have something to do with the way you used or installed the compiler.

Mojca

From werner at suse.de  Tue Jun 14 18:35:50 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 14 Jun 2016 18:35:50 +0200
Subject: [tex-live] TL2016: Stack smashed in upmendex fprint_uchar() function
Message-ID: <20160614163550.xoedjzx7wp27oq2b@boole.suse.de>

Hi,

during test I've seen a catched stack smash done by glibc fortify.
It seems that in texk/upmendex/fwrite.c the function fprint_uchar()
will be overflowed by the UChar inital array in indwrite()

  UChar datama[256],initial[INITIALLENGTH],initial_prev[INITIALLENGTH];

  [...]

                      fprint_uchar(fp,initial,lethead_flag,-1);

as the macro INITIALLENGTH had shown 18 members during debugging whereas
in the original fprint_uchar() only 5 members are handled

  static void fprint_uchar(FILE *fp, const UChar *a, const int mode, const int len)
  {
          int k;
          char str[15], *ret;
          UChar istr[5];
          int olen, wclen;
          UErrorCode perr;
  
          if (len<0) {
                  for (k=0; a[k] || k<4; k++) istr[k]=a[k];
                  wclen=k;
          } else {
                  wclen = is_surrogate_pair(a) ? 2 : 1;
                                istr[0]=a[0];
                  if (wclen==2) istr[1]=a[1];
          }
          istr[wclen]=L'\0';
          ^^^^^^^^^^^^^^^^^^  Stack smash

maybe the macro INITIALLENGTH has other values for other builds as this
crash only happens on a view build environments here around ;)

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: x
Type: text/x-patch
Size: 652 bytes
Desc: Patch
URL: <http://tug.org/pipermail/tex-live/attachments/20160614/f425acf0/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160614/f425acf0/attachment-0001.bin>

From norbert at preining.info  Wed Jun 15 08:08:16 2016
From: norbert at preining.info (Norbert Preining)
Date: Wed, 15 Jun 2016 15:08:16 +0900
Subject: [tex-live] TL2016: Stack smashed in upmendex fprint_uchar()
 function
In-Reply-To: <20160614163550.xoedjzx7wp27oq2b@boole.suse.de>
References: <20160614163550.xoedjzx7wp27oq2b@boole.suse.de>
Message-ID: <20160615060816.GI10246@logic.at>

Hi Werner,

> during test I've seen a catched stack smash done by glibc fortify.
> It seems that in texk/upmendex/fwrite.c the function fprint_uchar()
> will be overflowed by the UChar inital array in indwrite()

Hmm, that looks interesting. I have seen several test failures
due to segfaults on Debian packages, too, and I will give this
patch a try. Thanks!

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From werner at suse.de  Wed Jun 15 10:08:10 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 15 Jun 2016 10:08:10 +0200
Subject: [tex-live] How to configure and build luajit for PPC on PPC64?
Message-ID: <20160615080810.3hggqouiiua7ndti@boole.suse.de>

Hi,

as subject says I'd like to compile the luajit tree (libs and binaries)
on PPC64 but for PPC (should be doable with -m32) but AFAICS the
autoconfigure does not support to compile a part with a different bit
environment?

The reason is that ppc(32) is out of the focus but luajit does not
(yet?) support ppc64.

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160615/c3fb3012/attachment-0001.bin>

From werner at suse.de  Wed Jun 15 10:13:58 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 15 Jun 2016 10:13:58 +0200
Subject: [tex-live] TL2016: Stack smashed in upmendex fprint_uchar()
 function
In-Reply-To: <20160615060816.GI10246@logic.at>
References: <20160614163550.xoedjzx7wp27oq2b@boole.suse.de>
 <20160615060816.GI10246@logic.at>
Message-ID: <20160615081358.cut6em4gwgaspywb@boole.suse.de>

On Wed, Jun 15, 2016 at 03:08:16PM +0900, Norbert Preining wrote:
> Hi Werner,
> 
> > during test I've seen a catched stack smash done by glibc fortify.
> > It seems that in texk/upmendex/fwrite.c the function fprint_uchar()
> > will be overflowed by the UChar inital array in indwrite()
> 
> Hmm, that looks interesting. I have seen several test failures
> due to segfaults on Debian packages, too, and I will give this
> patch a try. Thanks!

Even if the patch avoids the crash here I've no idea if the solution
is fully correct, that is that fprint_uchar() does really its job for
all 18 UChar members as the final char array is a bit small I guess.

But IMHO this is a job for upstream of upmendex ;)

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160615/abd34f05/attachment.bin>

From norbert at preining.info  Wed Jun 15 10:24:30 2016
From: norbert at preining.info (Norbert Preining)
Date: Wed, 15 Jun 2016 17:24:30 +0900
Subject: [tex-live] How to configure and build luajit for PPC on PPC64?
In-Reply-To: <20160615080810.3hggqouiiua7ndti@boole.suse.de>
References: <20160615080810.3hggqouiiua7ndti@boole.suse.de>
Message-ID: <20160615082430.GO10246@logic.at>

Hi Werner,

> as subject says I'd like to compile the luajit tree (libs and binaries)
> on PPC64 but for PPC (should be doable with -m32) but AFAICS the

Hmm, AFAIR the luajit part is not supported on ppc, anyof them.

On Debian we only build for some archs:
LUAJIT_GOOD_ARCHS := amd64 armel armhf hurd-i386 i386 kfreebsd-amd64 kfreebsd-i386 powerpc

FOr the others
	--disable-luajittex --disable-mfluajit

All the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From werner at suse.de  Wed Jun 15 10:59:46 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 15 Jun 2016 10:59:46 +0200
Subject: [tex-live] How to configure and build luajit for PPC on PPC64?
In-Reply-To: <20160615082430.GO10246@logic.at>
References: <20160615080810.3hggqouiiua7ndti@boole.suse.de>
 <20160615082430.GO10246@logic.at>
Message-ID: <20160615085946.dfaldpstkllkmh7b@boole.suse.de>

On Wed, Jun 15, 2016 at 05:24:30PM +0900, Norbert Preining wrote:
> Hi Werner,
> 
> > as subject says I'd like to compile the luajit tree (libs and binaries)
> > on PPC64 but for PPC (should be doable with -m32) but AFAICS the
> 
> Hmm, AFAIR the luajit part is not supported on ppc, anyof them.

You meant ppc64 and ppc64le (whereas I prefere big endian as natural endianess),
as here powerpc is given ;)

> On Debian we only build for some archs:
> LUAJIT_GOOD_ARCHS := amd64 armel armhf hurd-i386 i386 kfreebsd-amd64 kfreebsd-i386 powerpc
> 
> FOr the others
> 	--disable-luajittex --disable-mfluajit
> 
> All the best

Similar here, from spec file:

 #
 # LuaJIT -- does not build nor support all architectures
 #           Current status is available at https://github.com/LuaJIT/LuaJIT
 #           Compare with libs/luajit/LuaJIT-<version>/src/lj_arch.h
 #
 %ifarch %ix86 x86_64 ppc arm mips
 %global         with_LuaJIT 1
 %endif
 %bcond_with     LuaJIT

 [...]
 %if %{with LuaJIT}
             --enable-luajittex                  \
              --enable-mfluajit                   \
 %else
             --disable-luajittex                 \
             --disable-mfluajit                  \
 %endif

even arm64 (aarch64) seems to be doable.

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160615/12293735/attachment-0001.bin>

From mojca.miklavec.lists at gmail.com  Wed Jun 15 12:11:24 2016
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 15 Jun 2016 12:11:24 +0200
Subject: [tex-live] How to configure and build luajit for PPC on PPC64?
In-Reply-To: <20160615082430.GO10246@logic.at>
References: <20160615080810.3hggqouiiua7ndti@boole.suse.de>
 <20160615082430.GO10246@logic.at>
Message-ID: <CALBOmsbqJA0CeeS_LPKY2TQsuFGNi01bDUC_j8DLQO0NEi5LUA@mail.gmail.com>

> On 15 June 2016 at 10:08, Dr. Werner Fink wrote:
>>
>> as subject says I'd like to compile the luajit tree (libs and binaries)
>> on PPC64 but for PPC (should be doable with -m32) but AFAICS the
>> autoconfigure does not support to compile a part with a different bit
>> environment?

The problem is that you are not compiling "just that tiny bit". I'm
not sure how you do the compilation on SuSE(?), but compiling LuaJIT
means that you probably want to end up with a luajittex binary which
has to link (either statically or dynamically) with other libraries
like libpng. So you also need a lot of 32-bit libraries, not just
luajit and I don't see any easy way to do that in a single step
(unless you were compiling "fat" libraries and binaries containing
multiple architectures like it used to be popular on Mac OS X).

On 15 June 2016 at 10:24, Norbert Preining wrote:
>
> Hmm, AFAIR the luajit part is not supported on ppc, anyof them.

That's not entirely true. It is supposed to work on PPC on Linux. It
even compiles on Mac and some basic functionality works (I can even
make a ConTeXt format file and typeset a basic document on Mac OS X
10.5/PPC), but there are examples that dump core and the typeset
document is somewhat junk (some weird scaling of fonts).

But on the other hand luajittex doesn't really bring any extra
functionality, it is just supposed to be slightly optimized in some
aspects. (One could in principle make a symlink from luajittex to
luatex and users wouldn't even notice.)

If I was packaging TeX Live on a distribution that doesn't have native
support for luajit, I would not bother about ugly hacks to compile
luajittex.

Mojca

From herbs at wideopenwest.com  Wed Jun 15 16:04:11 2016
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Wed, 15 Jun 2016 09:04:11 -0500
Subject: [tex-live] today's pdftex update
Message-ID: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>

Howdy,

With today's update to pdftex I no longer can get automatic conversion of file.eps->file-eps-converted-to.pdf without using --shell-escape. I get the error message

!! Error: Option forbidden in restricted mode: --device
system returned with code 65280

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)







From d.p.carlisle at gmail.com  Wed Jun 15 16:07:43 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 15 Jun 2016 15:07:43 +0100
Subject: [tex-live] today's pdftex update
In-Reply-To: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>
References: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>
Message-ID: <CAEW6iOhvTKNPNCEWDOZGZao4MBvqpWcT4149i2HMdmokyhDD=A@mail.gmail.com>

On 15 June 2016 at 15:04, Herbert Schulz <herbs at wideopenwest.com> wrote:

> Howdy,
>
> With today's update to pdftex I no longer can get automatic conversion of
> file.eps->file-eps-converted-to.pdf without using --shell-escape. I get the
> error message
>
> !! Error: Option forbidden in restricted mode: --device
> system returned with code 65280
>
> Good Luck,
>
> Herb Schulz
> (herbs at wideopenwest dot com)
>
>
>
The code was re-arranged, but it's supposed to work, let me check.....
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160615/00d173d8/attachment-0001.html>

From ttk at t-lab.opal.ne.jp  Wed Jun 15 16:45:02 2016
From: ttk at t-lab.opal.ne.jp (TANAKA Takuji)
Date: Wed, 15 Jun 2016 23:45:02 +0900
Subject: [tex-live] TL2016: Stack smashed in upmendex fprint_uchar()
 function
In-Reply-To: <20160615081358.cut6em4gwgaspywb@boole.suse.de>
References: <20160614163550.xoedjzx7wp27oq2b@boole.suse.de>
 <20160615060816.GI10246@logic.at>
 <20160615081358.cut6em4gwgaspywb@boole.suse.de>
Message-ID: <da774d41-1f6d-6237-f6f8-cae46f21432d@t-lab.opal.ne.jp>

Hi Werner,

Thank you for your report.
I (the author of upmendex) will fix the issue later.

Takuji

On 2016/06/15 17:13, Dr. Werner Fink wrote:
> On Wed, Jun 15, 2016 at 03:08:16PM +0900, Norbert Preining wrote:
>> Hi Werner,
>>
>>> during test I've seen a catched stack smash done by glibc fortify.
>>> It seems that in texk/upmendex/fwrite.c the function fprint_uchar()
>>> will be overflowed by the UChar inital array in indwrite()
>>
>> Hmm, that looks interesting. I have seen several test failures
>> due to segfaults on Debian packages, too, and I will give this
>> patch a try. Thanks!
>
> Even if the patch avoids the crash here I've no idea if the solution
> is fully correct, that is that fprint_uchar() does really its job for
> all 18 UChar members as the final char array is a bit small I guess.
>
> But IMHO this is a job for upstream of upmendex ;)
>
> Werner
>


From d.p.carlisle at gmail.com  Wed Jun 15 16:58:42 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 15 Jun 2016 15:58:42 +0100
Subject: [tex-live] today's pdftex update
In-Reply-To: <CAEW6iOhvTKNPNCEWDOZGZao4MBvqpWcT4149i2HMdmokyhDD=A@mail.gmail.com>
References: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>
 <CAEW6iOhvTKNPNCEWDOZGZao4MBvqpWcT4149i2HMdmokyhDD=A@mail.gmail.com>
Message-ID: <CAEW6iOi0gVfQCndj3d3eb+tbe6AKgQ7H1mch45abFM7vLLN0qA@mail.gmail.com>

On 15 June 2016 at 15:07, David Carlisle <d.p.carlisle at gmail.com> wrote:

>
>
> On 15 June 2016 at 15:04, Herbert Schulz <herbs at wideopenwest.com> wrote:
>
>> Howdy,
>>
>> With today's update to pdftex I no longer can get automatic conversion of
>> file.eps->file-eps-converted-to.pdf without using --shell-escape. I get the
>> error message
>>
>> !! Error: Option forbidden in restricted mode: --device
>> system returned with code 65280
>>
>> Good Luck,
>>
>> Herb Schulz
>> (herbs at wideopenwest dot com)
>>
>>
>>
> The code was re-arranged, but it's supposed to work, let me check.....
>


Oh, I spotted a couple of issues with the graphics package re-arrangement
so I may have to update but I think the underlying error isn't my fault
this time (for once:-)

I get on a test file more or less as you reported:

(./rotex.exepstopdf ($Id: epstopdf.pl 41287 2016-05-28 18:09:45Z karl $)
2.24
!!! Error: Option forbidden in restricted mode: --device

Karl, is this a change in epstopdf?

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160615/3ea8f3db/attachment.html>

From norbert at preining.info  Wed Jun 15 17:11:24 2016
From: norbert at preining.info (Norbert Preining)
Date: Thu, 16 Jun 2016 00:11:24 +0900
Subject: [tex-live] today's pdftex update
In-Reply-To: <CAEW6iOi0gVfQCndj3d3eb+tbe6AKgQ7H1mch45abFM7vLLN0qA@mail.gmail.com>
References: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>
 <CAEW6iOhvTKNPNCEWDOZGZao4MBvqpWcT4149i2HMdmokyhDD=A@mail.gmail.com>
 <CAEW6iOi0gVfQCndj3d3eb+tbe6AKgQ7H1mch45abFM7vLLN0qA@mail.gmail.com>
Message-ID: <20160615151124.GS10246@logic.at>

Hi Herb, hi all.

> >> !! Error: Option forbidden in restricted mode: --device

Yes, support for the device options was removed in the restricted
mode. It should not be necessary at all.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From d.p.carlisle at gmail.com  Wed Jun 15 17:22:38 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 15 Jun 2016 16:22:38 +0100
Subject: [tex-live] today's pdftex update
In-Reply-To: <20160615151124.GS10246@logic.at>
References: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>
 <CAEW6iOhvTKNPNCEWDOZGZao4MBvqpWcT4149i2HMdmokyhDD=A@mail.gmail.com>
 <CAEW6iOi0gVfQCndj3d3eb+tbe6AKgQ7H1mch45abFM7vLLN0qA@mail.gmail.com>
 <20160615151124.GS10246@logic.at>
Message-ID: <CAEW6iOjJpnp=422E1CiJs=Vq18bJRDgJi8R8pTSrOqqJ9HiB7w@mail.gmail.com>

On 15 June 2016 at 16:11, Norbert Preining <norbert at preining.info> wrote:
> Hi Herb, hi all.
>
>> >> !! Error: Option forbidden in restricted mode: --device
>
> Yes, support for the device options was removed in the restricted
> mode. It should not be necessary at all.
>
> Norbert
>

yes but... the macros don't appear to be using that option

the log shows

runsystem(repstopdf --outfile=example-image-eps-converted-to.pdf example-image.
epstopdf ($Id: epstopdf.pl 41287 2016-05-28 18:09:45Z karl $) 2.24
!!! Error: Option forbidden in restricted mode: --device
system returned with code 65280
eps)...executed safely (allowed).

so if I read that right, the option isn't used, and repstopdf is
allowed to run but then complains about the option?

David

From news3 at nililand.de  Wed Jun 15 22:57:40 2016
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 15 Jun 2016 22:57:40 +0200
Subject: [tex-live] today's pdftex update
References: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>
 <CAEW6iOhvTKNPNCEWDOZGZao4MBvqpWcT4149i2HMdmokyhDD=A@mail.gmail.com>
 <CAEW6iOi0gVfQCndj3d3eb+tbe6AKgQ7H1mch45abFM7vLLN0qA@mail.gmail.com>
 <20160615151124.GS10246@logic.at>
 <CAEW6iOjJpnp=422E1CiJs=Vq18bJRDgJi8R8pTSrOqqJ9HiB7w@mail.gmail.com>
Message-ID: <1pdgo38no5ld7.dlg@nililand.de>

Am Wed, 15 Jun 2016 16:22:38 +0100 schrieb David Carlisle:

> On 15 June 2016 at 16:11, Norbert Preining <norbert at preining.info> wrote:
>> Hi Herb, hi all.
>>
>>> >> !! Error: Option forbidden in restricted mode: --device
>>
>> Yes, support for the device options was removed in the restricted
>> mode. It should not be necessary at all.

> 
> yes but... the macros don't appear to be using that option
> 
> the log shows
> 
> runsystem(repstopdf --outfile=example-image-eps-converted-to.pdf example-image.
> epstopdf ($Id: epstopdf.pl 41287 2016-05-28 18:09:45Z karl $) 2.24
> !!! Error: Option forbidden in restricted mode: --device
> system returned with code 65280
> eps)...executed safely (allowed).
> 
> so if I read that right, the option isn't used, and repstopdf is
> allowed to run but then complains about the option?

Hm. epstopdf.pl contains

$::opt_device = $default_device;

and later

if ($::opt_device) {
  if ($restricted) {
    error "Option forbidden in restricted mode: --device";
  } else {
    debug "Switching from $default_device to $::opt_device";
  }
}


This looks wrong. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From ml at mariochiari.net  Thu Jun 16 00:01:09 2016
From: ml at mariochiari.net (mario chiari)
Date: Thu, 16 Jun 2016 00:01:09 +0200
Subject: [tex-live] 2016 or 2015?
In-Reply-To: <6664896.Goedeo5Ftj@x61s.fritz.box>
References: <1465661752.3811.6.camel@mariochiari.net>
 <1651126.kOWM2cz86e@x61s.fritz.box>
 <1465751088.3535.10.camel@mariochiari.net>
 <6664896.Goedeo5Ftj@x61s.fritz.box>
Message-ID: <1466028069.14972.4.camel@mariochiari.net>

On Sun, 2016-06-12 at 20:40 +0200, Markus Kohm wrote:
> Am Sonntag, 12. Juni 2016, 19:04:48 schrieb mario chiari:
> > 
> > by the way, why?
> Because it does not start the intall_tl from PATH but install_tl located at?
> the current working directory.

yes, of course
thanks
mario

From norbert at preining.info  Thu Jun 16 02:34:35 2016
From: norbert at preining.info (Norbert Preining)
Date: Thu, 16 Jun 2016 09:34:35 +0900
Subject: [tex-live] today's pdftex update
In-Reply-To: <1pdgo38no5ld7.dlg@nililand.de>
References: <0AF15335-D112-42A8-A1A5-2DA903DEA0C1@wideopenwest.com>
 <CAEW6iOhvTKNPNCEWDOZGZao4MBvqpWcT4149i2HMdmokyhDD=A@mail.gmail.com>
 <CAEW6iOi0gVfQCndj3d3eb+tbe6AKgQ7H1mch45abFM7vLLN0qA@mail.gmail.com>
 <20160615151124.GS10246@logic.at>
 <CAEW6iOjJpnp=422E1CiJs=Vq18bJRDgJi8R8pTSrOqqJ9HiB7w@mail.gmail.com>
 <1pdgo38no5ld7.dlg@nililand.de>
Message-ID: <20160616003435.GV10246@logic.at>

> $::opt_device = $default_device;

Yes, I will fix if for today.

Thanks!

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From werner at suse.de  Thu Jun 16 10:44:25 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Thu, 16 Jun 2016 10:44:25 +0200
Subject: [tex-live] hyphen -- nearly all languages added by default
Message-ID: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>

Hi,

just get a report that language.dat nearly all hyphen are added by
default (package  hyphen-base). What is the reason for this?
Shouldn't this be done by AddHyphen execute of the specific hyphen
package?

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160616/cf162d7e/attachment.bin>

From mojca.miklavec.lists at gmail.com  Thu Jun 16 12:06:12 2016
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 16 Jun 2016 12:06:12 +0200
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
References: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
Message-ID: <CALBOmsYF6m030=XOt6gMAT5Nu7PVWjZcAUCmwCnMK6M8Pd_4UQ@mail.gmail.com>

On 16 June 2016 at 10:44, Dr. Werner Fink wrote:
> Hi,
>
> just get a report that language.dat nearly all hyphen are added by
> default (package  hyphen-base).

This must be a misinformation. The hyphen-base package only adds the
Knuth's English patterns.

It is true though that the "default" full installation of TeX Live
installs all hyphenation patterns.

> Shouldn't this be done by AddHyphen execute of the specific hyphen
> package?

This is already the case.

It used to be the case until TL 2016 that hyph-utf8 shipped all the
patterns and hyphen-<language> packages only enabled those patterns in
language.dat(.def). But since recently even the patterns themselves
are shipped by individual packages.

See http://tug.org/svn/texlive/trunk/Master/tlpkg/tlpsrc/hyphen-german.tlpsrc?revision=40340&view=markup
for example.

Mojca

From arthur.reutenauer at normalesup.org  Thu Jun 16 12:26:38 2016
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Thu, 16 Jun 2016 11:26:38 +0100
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <CALBOmsYF6m030=XOt6gMAT5Nu7PVWjZcAUCmwCnMK6M8Pd_4UQ@mail.gmail.com>
References: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
 <CALBOmsYF6m030=XOt6gMAT5Nu7PVWjZcAUCmwCnMK6M8Pd_4UQ@mail.gmail.com>
Message-ID: <20160616102638.GI330775@phare.normalesup.org>

> This must be a misinformation. The hyphen-base package only adds the
> Knuth's English patterns.
> 
> It is true though that the "default" full installation of TeX Live
> installs all hyphenation patterns.

  I can confirm that.  We need more information to diagnose the problem;
it may be that the user who reported this just installed the default
scheme of the net installer, and hence got all the patterns.

	Best,

		Arthur

From norbert at preining.info  Thu Jun 16 13:11:44 2016
From: norbert at preining.info (Norbert Preining)
Date: Thu, 16 Jun 2016 20:11:44 +0900
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
References: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
Message-ID: <20160616111144.GZ10246@logic.at>

Hi Werner,

> just get a report that language.dat nearly all hyphen are added by
> default (package  hyphen-base). What is the reason for this?

With the very unclear information it is hard to diagnose. Do
you speak about upstream TeX LIve (TUG) or the SuSE packaging?

I *can* imagine that you ship in the TL package the language.dat
that is included in TL - this is the one that containss *ALL*
patterns.

FOr an actual installation the AddHyphen directives need to be
evaluated. In TeX Live from TUG the installer/tlmgr doe that 
and generates a fitting language.dat.

In Debian every package ships a snippet for language.dat (.def,dat.lua)
adn those are combined at installation time.

So bottomline: without further information it is hard to 
give a good explanation.

All the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From norbert at preining.info  Thu Jun 16 13:12:23 2016
From: norbert at preining.info (Norbert Preining)
Date: Thu, 16 Jun 2016 20:12:23 +0900
Subject: [tex-live] How to configure and build luajit for PPC on PPC64?
In-Reply-To: <20160615085946.dfaldpstkllkmh7b@boole.suse.de>
References: <20160615080810.3hggqouiiua7ndti@boole.suse.de>
 <20160615082430.GO10246@logic.at>
 <20160615085946.dfaldpstkllkmh7b@boole.suse.de>
Message-ID: <20160616111223.GA10246@logic.at>

> You meant ppc64 and ppc64le (whereas I prefere big endian as natural endianess),
> as here powerpc is given ;)

Of course, sorry ...

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From werner at suse.de  Thu Jun 16 14:48:07 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Thu, 16 Jun 2016 14:48:07 +0200
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <20160616111144.GZ10246@logic.at>
References: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
 <20160616111144.GZ10246@logic.at>
Message-ID: <20160616124807.h5sgnqrenpqwnvso@boole.suse.de>

On Thu, Jun 16, 2016 at 08:11:44PM +0900, Norbert Preining wrote:
> Hi Werner,
> 
> > just get a report that language.dat nearly all hyphen are added by
> > default (package  hyphen-base). What is the reason for this?
> 
> With the very unclear information it is hard to diagnose. Do
> you speak about upstream TeX LIve (TUG) or the SuSE packaging?
> 
> I *can* imagine that you ship in the TL package the language.dat
> that is included in TL - this is the one that containss *ALL*
> patterns.
> 
> FOr an actual installation the AddHyphen directives need to be
> evaluated. In TeX Live from TUG the installer/tlmgr doe that 
> and generates a fitting language.dat.
> 
> In Debian every package ships a snippet for language.dat (.def,dat.lua)
> adn those are combined at installation time.
> 
> So bottomline: without further information it is hard to 
> give a good explanation.

Doing a

  tar Oxf archive/hyphen-base.tar.xz tex/generic/config/language.dat

shows that *all* hyphens had already been added.  The same for
language.def and language.dat.lua.  And clearly this file has been
packaged for openSUSE as I was not aware of this major change.
Indeed thos caused a bug that all hyphens are required for generating
the formats now.

Also the perl update of those files are a nightmare for rpm based
distributions.  Using tlmgr is not an option ... I've looked at
TeXLive/TL*.pm and with this I see, after some small changes, that
without a local copy of the already installed hyphens the last
installed hyphen does overwrite all others :(


Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160616/8b97cbe0/attachment.bin>

From norbert at preining.info  Thu Jun 16 15:07:45 2016
From: norbert at preining.info (Norbert Preining)
Date: Thu, 16 Jun 2016 22:07:45 +0900
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <20160616124807.h5sgnqrenpqwnvso@boole.suse.de>
References: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
 <20160616111144.GZ10246@logic.at>
 <20160616124807.h5sgnqrenpqwnvso@boole.suse.de>
Message-ID: <ABBFFB98-E405-4C4B-92D5-C49B796B2E83@preining.info>

Dear Werner

Only quick from the mobile


On June 16, 2016 9:48:07 PM GMT+09:00, "Dr. Werner Fink" <werner at suse.de> wrote:
>  tar Oxf archive/hyphen-base.tar.xz tex/generic/config/language.dat
>
>shows that *all* hyphens had already been added.  The same for

Yes, but it has been like this since long. A distribution (including TeX Live itself) that allows for partial install may not use this file, by either generating a fitting copy and optionally not even including this file.

How did you do this till 2015? You still had to activate patterns on demand at package installation time, right? (Same with font maps and format definitions!)

If you don't like the Perl modules, at package (rpm) creation date you can parse the tlpdb trivially in shell (enough examples are floating around) to pull out the AddHyphen lines used in the packages to be built, and adjust the post-install routine to activate the hyphens (and deactivate on uninstall) in the system language.*

If you can use Perl, just load the TL modules, in particular TLPDB to parse, and TLUtils to generate the language.* files.


All the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From werner at suse.de  Thu Jun 16 15:27:25 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Thu, 16 Jun 2016 15:27:25 +0200
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <20160616124807.h5sgnqrenpqwnvso@boole.suse.de>
References: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
 <20160616111144.GZ10246@logic.at>
 <20160616124807.h5sgnqrenpqwnvso@boole.suse.de>
Message-ID: <20160616132725.jonwa4cslactzpl3@boole.suse.de>

On Thu, Jun 16, 2016 at 02:48:07PM +0200, Werner Fink wrote:
> On Thu, Jun 16, 2016 at 08:11:44PM +0900, Norbert Preining wrote:
> > Hi Werner,
> > 
> > > just get a report that language.dat nearly all hyphen are added by
> > > default (package  hyphen-base). What is the reason for this?
> > 
> > With the very unclear information it is hard to diagnose. Do
> > you speak about upstream TeX LIve (TUG) or the SuSE packaging?
> > 
> > I *can* imagine that you ship in the TL package the language.dat
> > that is included in TL - this is the one that containss *ALL*
> > patterns.
> > 
> > FOr an actual installation the AddHyphen directives need to be
> > evaluated. In TeX Live from TUG the installer/tlmgr doe that 
> > and generates a fitting language.dat.
> > 
> > In Debian every package ships a snippet for language.dat (.def,dat.lua)
> > adn those are combined at installation time.
> > 
> > So bottomline: without further information it is hard to 
> > give a good explanation.
> 
> Doing a
> 
>   tar Oxf archive/hyphen-base.tar.xz tex/generic/config/language.dat
> 
> shows that *all* hyphens had already been added.  The same for
> language.def and language.dat.lua.  And clearly this file has been
> packaged for openSUSE as I was not aware of this major change.
> Indeed thos caused a bug that all hyphens are required for generating
> the formats now.
> 
> Also the perl update of those files are a nightmare for rpm based
> distributions.  Using tlmgr is not an option ... I've looked at
> TeXLive/TL*.pm and with this I see, after some small changes, that
> without a local copy of the already installed hyphens the last
> installed hyphen does overwrite all others :(

Indeed using TeXLive::TLPDB creates via

  our $hyphen = "$texdir/tex/generic/config/language.dat";
  our $hlocal = "/var/lib/texmf/config/language.dat";
  TeXLive::TLUtils::create_language_dat($tlpdb, $hyphen, $hlocal);

the same content as already in archive/hyphen-base.tar.xz ...
beside the first two lines (Generated by / $Id:).
Hacking TeXLive/TLPOBJ.pm to have a method root and skipping the
usermode in TeXLive/TLUtils.pm does only write out one entry.

Do I miss something here?

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160616/36f38212/attachment.bin>

From werner at suse.de  Thu Jun 16 15:32:24 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Thu, 16 Jun 2016 15:32:24 +0200
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <ABBFFB98-E405-4C4B-92D5-C49B796B2E83@preining.info>
References: <20160616084425.adu5xvcea6zygzkw@boole.suse.de>
 <20160616111144.GZ10246@logic.at>
 <20160616124807.h5sgnqrenpqwnvso@boole.suse.de>
 <ABBFFB98-E405-4C4B-92D5-C49B796B2E83@preining.info>
Message-ID: <20160616133224.3rxgkxscydjltyog@boole.suse.de>

On Thu, Jun 16, 2016 at 10:07:45PM +0900, Norbert Preining wrote:
> Dear Werner
> 
> Only quick from the mobile
> 
> 
> On June 16, 2016 9:48:07 PM GMT+09:00, "Dr. Werner Fink" <werner at suse.de> wrote:
> >  tar Oxf archive/hyphen-base.tar.xz tex/generic/config/language.dat
> >
> >shows that *all* hyphens had already been added.  The same for
> 
> Yes, but it has been like this since long. A distribution (including TeX Live itself) that allows for partial install may not use this file, by either generating a fitting copy and optionally not even including this file.
> 
> How did you do this till 2015? You still had to activate patterns on demand at package installation time, right? (Same with font maps and format definitions!)

For 2015 the spec file post scriptlets had worked well. And indeed
I generate those scriptlets from the texlive.tlpdb.xz during
generating the spec files (in perl).

> 
> If you don't like the Perl modules, at package (rpm) creation date you can parse the tlpdb trivially in shell (enough examples are floating around) to pull out the AddHyphen lines used in the packages to be built, and adjust the post-install routine to activate the hyphens (and deactivate on uninstall) in the system language.*
> 
> If you can use Perl, just load the TL modules, in particular TLPDB to parse, and TLUtils to generate the language.* files.

That is what I've tried but the TLPDB does include all AddHyphen lines
found in texlive.tlpdb but do not skip the not installed packages.
Also it would be a great win if TLPDB could read xz-zipped texlive.tlpdb ;)

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160616/d8bb7336/attachment.bin>

From preining at logic.at  Thu Jun 16 15:59:07 2016
From: preining at logic.at (Norbert Preining)
Date: Thu, 16 Jun 2016 22:59:07 +0900
Subject: [tex-live] hyphen -- nearly all languages added by default
In-Reply-To: <20160616133224.3rxgkxscydjltyog@boole.suse.de>
 <20160616132725.jonwa4cslactzpl3@boole.suse.de>
Message-ID: <20160616135907.GA21093@logic.at>

Hi Werner,

On Thu, 16 Jun 2016, Dr. Werner Fink wrote:
> Indeed using TeXLive::TLPDB creates via
> 
>   our $hyphen = "$texdir/tex/generic/config/language.dat";
>   our $hlocal = "/var/lib/texmf/config/language.dat";
>   TeXLive::TLUtils::create_language_dat($tlpdb, $hyphen, $hlocal);
> 
> the same content as already in archive/hyphen-base.tar.xz ...

But from *which* tlpdb did you generate the language.dat?

My guess is that you are misundersstanding TLPDBs. They describe
the status of the TeX Live installation at *that*point*.

That means, the TLPDB from tlnet (or DVD, or svn) contains *all*
packages - because all are installed, and thus also all AddHyphen
lines.

> That is what I've tried but the TLPDB does include all AddHyphen lines
> found in texlive.tlpdb but do not skip the not installed packages.

This is incorrect - or you are using the wrong TLPDB. I just started
install-tl and selected scheme-minimal, and then grepped fro AddHyphen
lines
[~/tlfoo/2016/tlpkg] grep AddHyphen texlive.tlpdb 
norbert at wienerschnitzel:   1
[~/tlfoo/2016/tlpkg] 

Nothing.

THe reason is that the installer *creates* a new TLPDB, and adds only
those packages that are actually installed.

On the Debian side we don't do this, because we don't allow for
tlmgr to do anything but user mode, and thus we *know* at package
build time what are the execute actions.

Again my guess: You are doing this from the *full* tlpdb from which you
are selecting package to be installed.

My suggestion: You need to create a *new* tlpdb, and for each package
$pkg installed into the package you include in the rpm, you need to 
collect the execute lines ($tlpobj->executes plus some utility
functions in TLUtils).

Another approach would be that:
* each rom ships the .tlpobj files for teh TL packages included in it
* on installation the tlpobj are *added* to the user computer tlpdb
* language.dat (etc) is generated in the postinst form the user computer tlpdb
But that sounds complicated.

Don't you have something like "many packages contribute to one configuration 
file via snippets" ? How does SuSE do that with emacs packages, python,
perl, etc?

> Also it would be a great win if TLPDB could read xz-zipped texlive.tlpdb ;)

It does already, but in a slightly tricky way ;-) SOrry for that
	my $tlpdb = TeXLive::TLPDB->new;
	my $nr_pkgs_loaded = $tlpdb->from_file("file://path/to/root/")
*should* try to load
	/path/to/root/tlpkg/texlive.tlpdb.xz
and only then the non-xz variant.

But this is a hardly travelled code path ... so I don't put my hand
into the fire for it ;-)

But I will think about to extend this to reading .xz files from
	TeXLive::TLPDB->new(root => "/path/to/root")

Hope the above explanations help - although I am still stymed what 
has changed so deeply to 2016 that your scripts broke.

ALl the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From samuel.c.p.neves at gmail.com  Fri Jun 17 01:29:34 2016
From: samuel.c.p.neves at gmail.com (Samuel Neves)
Date: Fri, 17 Jun 2016 00:29:34 +0100
Subject: [tex-live] xcolor broken with pdflatex
Message-ID: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>

Minimal example:

  \documentclass{standalone}

  \usepackage{xcolor}

  \begin{document}

  \end{document}


This fails with pdflatex with an undefined control sequence error. Including graphicx before xcolor fixes this. This appears related to this change:  https://github.com/ho-tex/pdftex-def/commit/ea30c0fbc033ce69f7dd43ea266270b9f09dd7d3

From d.p.carlisle at gmail.com  Fri Jun 17 01:43:20 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 17 Jun 2016 00:43:20 +0100
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
Message-ID: <CAEW6iOiAhqTuEOkMbX1idZzWCVj2HHCDKnHvDzZbGnzqGPScJw@mail.gmail.com>

On 17 June 2016 at 00:29, Samuel Neves <samuel.c.p.neves at gmail.com> wrote:
> Minimal example:
>
>   \documentclass{standalone}
>
>   \usepackage{xcolor}
>
>   \begin{document}
>
>   \end{document}
>
>
> This fails with pdflatex with an undefined control sequence error. Including graphicx before xcolor fixes this. This appears related to this change:  https://github.com/ho-tex/pdftex-def/commit/ea30c0fbc033ce69f7dd43ea266270b9f09dd7d3


sigh, thanks for the report I'll fix (could also be fixed in xcolor,
but I guess I should do it.

If you don't want to load graphics,

\makeatletter
\newif\ifGin at setpagesize
\makeatother


would also avoid the error.


David

From zarniwhoop at ntlworld.com  Fri Jun 17 02:04:19 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Fri, 17 Jun 2016 01:04:19 +0100
Subject: [tex-live] Asymptote 3D and gcc-6.1 ?
Message-ID: <20160617000419.GA3140@milliways.localdomain>

Verging on O/T, but I'm not sure where to ask (I suspect the problem
is in freeglut) and I'm making no headway trying to debug this.

The linux x86_64 2016 binary works fine on my Beyond
Linuxfromscratch 7.9 system, where gcc is 5.3.1.  But on a
development system using gcc-6.1 it fails to create 3D drawings and
I can't get close to identifying the exact problem (the 2D drawings
seem fine).

The binary uses ncurses5, readline5, and freeglut from the host, but
since the 2D drawing is fine I am guessing that freeglut is the
problem.

I updated my test scripts to include a 3D drawing:
http://www.linuxfromscratch.org/~ken/tex-testfiles/latex-test-20160523.tar.xz
(run ./configure - it won't install anything - and then make
cylinder) but that juist craps out with:

(./cylinder-1.tex

LaTeX Warning: File `cylinder-1+0_0.pdf' not found on input line 14.


! Package pdftex.def Error: File `cylinder-1+0_0.pdf' not found.

See the pdftex.def package documentation for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.14 ...-1+0_0.pdf}}}{\ASYprefix\jobname-1+0.prc}}

and sure enough, all I have is cylinder-1.0.{pdf,prc} as well as
cylinder-1.{asy,pre,tex} : I tried diffing the stdout from runs on
gcc-5.3.1 and gcc-6.1 but it was too different for me to make any
sense of it.

Then I tried building asymptote from source on gcc-6.1, but of course
nothing changed (I did add extra deps such as fftw and Imaging).

I've tried kicking freeglut's cmake until I managed to get it to
build with no optimization at all (other gcc-6.1 bugs have sometimes
been worked around by disabling optimization), and then adding all
the -fno-this-and-that flags I've had to add to other packages, but
no change.

Can anybody offer any pointers, please ?

?en
-- 
                       War is Peace
                    Freedom is Slavery
                   Ignorance is Strength

From d.p.carlisle at gmail.com  Fri Jun 17 03:26:10 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 17 Jun 2016 02:26:10 +0100
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
Message-ID: <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>

I just updated latex-graphics, luatex-def and pdftex-def on ctan  (for
dvips.def, luatex.def and pdftex.def) to guard against the files being
loaded without the new pagesize option being set up.

Sorry about that ,

David

From vk489 at uowmail.edu.au  Thu Jun 16 03:31:17 2016
From: vk489 at uowmail.edu.au (Vafa Khalighi)
Date: Thu, 16 Jun 2016 01:31:17 +0000
Subject: [tex-live] Lollipop is broken in TeXlive 2016
Message-ID: <BN3PR0301MB1249142107F3737942291498D6560@BN3PR0301MB1249.namprd03.prod.outlook.com>

Hi Karl


lollipop is broken in TeXLive 2016. Create a simple lollipop document


\Start

This is a test.

\Stop


and process it with `lollipop test.tex' and this is the error you get


%%%%%%%%%%

This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016) (preloaded format=lollipop)

 restricted \write18 enabled.


kpathsea: Running mktexfmt lollipop.fmt

mktexfmt: mktexfmt is using the following fmtutil.cnf files (in precedence order):

mktexfmt:   /usr/local/texlive/2016/texmf-dist/web2c/fmtutil.cnf

mktexfmt: mktexfmt is using the following fmtutil.cnf file for writing changes:

mktexfmt:   /Users/vafa/Library/texlive/2016/texmf-config/web2c/fmtutil.cnf

mktexfmt [INFO]: writing formats under /Users/vafa/Library/texlive/2016/texmf-var/web2c

mktexfmt [INFO]: --- remaking lollipop with tex

mktexfmt: running `tex -ini   -jobname=lollipop -progname=lollipop lollipop.ini' ...

This is TeXk, Version 3.14159265 (TeX Live 2016) (INITEX)

 restricted \write18 enabled.

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop.ini

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop.tex

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-plain.tex

(/usr/local/texlive/2016/texmf-dist/tex/generic/hyphen/hyphen.tex))

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-tools.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-define.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-fonts.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-fontdefs.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-text.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-document.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-heading.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-output.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-float.tex)

(/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-lists.tex)

) )

Beginning to dump on file lollipop.fmt

 (preloaded format=lollipop 2016.6.16)

3422 strings of total length 48580

33354 memory locations dumped; current usage is 158&33023

2325 multiletter control sequences

\font\nullfont=nullfont

\font\exx=cmex10

\font\ttx=cmtt10

\font\ComputerModernromanx=cmr10

\font\ttix=cmtt9

\font\ttxi=cmtt10 at 10.95pt

\font\ttxii=cmtt10 at 12.0pt

\font\ttxiv=cmtt10 at 14.4pt

\font\ttxvii=cmtt10 at 17.28pt

\font\ttxx=cmtt10 at 20.73999pt

\font\ComputerModernboldx=cmbx10

\font\ComputerModernslantx=cmsl10

\font\ComputerModernitalicx=cmti10

2706 words of font info for 12 preloaded fonts

19 hyphenation exceptions

Hyphenation trie of length 6075 has 181 ops out of 35111

  181 for language 0

No pages of output.

Transcript written on lollipop.log.

mktexfmt [INFO]: /Users/vafa/Library/texlive/2016/texmf-var/web2c/tex/lollipop.fmt installed.

mktexfmt [INFO]: Disabled formats: 6

mktexfmt [INFO]: Successfully rebuilt formats: 1

mktexfmt [INFO]: Not selected formats: 43

mktexfmt [INFO]: Total formats: 50

mktexfmt [INFO]: exiting with status 0

---! /Users/vafa/Library/texlive/2016/texmf-var/web2c/tex/lollipop.fmt was written by tex

(Fatal format file error; I'm stymied)


%%%%%%%%%%%%%%%%%%%%%%



This is because, lollipop format should be based on Knuth tex and not pdftex. Indeed, when I look at TeXLive repository, I can confirm that only netbsd platforms have lollipop based on Knuth TeX (link tex) and all other platforms link pdftex. I believe I sent you an email and explained this clearly to you when you asked me to delete xelollipop.


lollipop is the only tex format that I use myself and this breaks all my documents.


Could you please fix this?


Thanks


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160616/5c15a0a3/attachment-0001.html>

From hendry at webconverger.com  Thu Jun 16 17:22:58 2016
From: hendry at webconverger.com (Kai Hendry)
Date: Thu, 16 Jun 2016 16:22:58 +0100
Subject: [tex-live] Letter template
Message-ID: <CAF8XF0cPschdZDLsJFRDz5S5_p5aFkuxCj2qGHbnSDjc=ZAUyQ@mail.gmail.com>

Hi there,

I created a Docker image with texlive to help generate a letter from a
Web form in the very occasional times I need to.

However I recently got a complaint from my wife that the template the
font is too small and the borders are too wide and the signature is
odd for being offset to the right.

This is the current template I am using and it must be 10 years old.
Can anyone offer offer pointers to a better (more modern) template?
https://github.com/kaihendry/letterly/blob/master/www/pdf/letter.template

\documentclass[british,a4paper]{letter}
\usepackage{fontspec}
\defaultfontfeatures{Mapping=tex-text}
\usepackage{xunicode}
\usepackage{babel}
\begin{document}


Many thanks!

From leonid.sinev at yandex.ru  Thu Jun 16 21:14:56 2016
From: leonid.sinev at yandex.ru (Leonid Sinev)
Date: Thu, 16 Jun 2016 22:14:56 +0300
Subject: [tex-live] texcount on Windows fail because of Perl file missing
 from TeX Live distribution
Message-ID: <306071466104496@web16h.yandex.ru>

Greetings, 

This problem already discussed at
https://www.tug.org/pipermail/tex-live/2015-August/037293.html
but nothing changed in TeXLive 2016.

Nothing changed after 
http://tex.stackexchange.com/a/145766 advice
of Win32::Console::ANSI from CPAN
I have copied file from this package to
C:\texlive\2016\tlpkg\tlperl\site\lib\Win32\Console\ANSI.pm
and got this: 

Can't locate loadable object for module Win32::Console::ANSI in @INC (@INC conta ins: C:/texlive/2016/tlpkg/tlperl/lib c:/texlive/2016/tlpkg/tlperl/site/lib c:/t exlive/2016/tlpkg/tlperl/lib .) at c:\texlive\2016\texmf-dist\scripts\texcount\t excount.pl line 11.
Compilation failed in require at c:\texlive\2016\texmf-dist\scripts\texcount\tex count.pl line 11.
BEGIN failed--compilation aborted at c:\texlive\2016\texmf-dist\scripts\texcount \texcount.pl line 14.
C:\texlive\2016\bin\win32\runscript.tlu:679: command failed with exit code 2: perl.exe c:\texlive\2016\texmf-dist\scripts\texcount\texcount.pl

Can there be a patch or update for TeXLive for windows that can make windows users use Perl scripts like texcount without need of additional perl installation or messing with additional packaging for tlperl?

--?
Best regards,
Leonid

From royalts at gmail.com  Thu Jun 16 21:20:32 2016
From: royalts at gmail.com (Tobias Schmidt)
Date: Thu, 16 Jun 2016 19:20:32 +0000
Subject: [tex-live] =?utf-8?q?MacTeX_=E2=80=9CThe_installation_failed?=
 =?utf-8?b?4oCd?=
Message-ID: <CAJYaLfuXUAoX2fKFb3xdB6kxPtGXo0EiHSnWXLdb0_RcQNYwgQ@mail.gmail.com>

Hi all,

I'm trying to install the current MacTeX distribution (mactex-20160603.pkg)
but am getting an "The installation failed" error. I downloaded via Safari
and checked the md5 checksum and so am sure that it's not just a corrupt
download. Here's the complete install.log:

Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: LSExceptions
[0x7fa471e18aa0] loaded
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]:
@(#)PROGRAM:Install  PROJECT:Install-1000
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]:
@(#)PROGRAM:Installer  PROJECT:Installer-853
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Hardware:
MacBookPro11,5 @ 2.80 GHz (x 8), 16384 MB RAM
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Running OS
Build: Mac OS X 10.11.3 (15D21)
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env:
__CF_USER_TEXT_ENCODING=0x1F5:0x0:0x0
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env:
TMPDIR=/var/folders/wl/klf5ry4n2vg4lfmtqk5tv5sr0000gn/T/
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env:
HOME=/Users/tobiasschmidt
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env: SHELL=/bin/bash
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env:
SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.gWKsCfbdVh/Listeners
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env:
Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.eTsiSMBp81/Render
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env:
PATH=/usr/bin:/bin:/usr/sbin:/sbin
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env: LOGNAME=tobiasschmidt
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env:
XPC_SERVICE_NAME=com.apple.xpc.launchd.oneshot.0x10000062.Installer
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env: COMMAND_MODE=unix2003
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env: USER=tobiasschmidt
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Env: XPC_FLAGS=0x0
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: MacTeX-2016
Installation Log
Jun 12 18:22:41 Tobiass-MacBook-Pro Installer[68769]: Opened from:
/Users/tobiasschmidt/Downloads/mactex-20160603.pkg
Jun 12 18:22:42 Tobiass-MacBook-Pro Installer[68769]: Product archive
/Users/tobiasschmidt/Downloads/mactex-20160603.pkg trustLevel=202
Jun 12 18:22:46 Tobiass-MacBook-Pro Installer[68769]:
InstallerStatusNotifications plugin loaded
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]: Administrator
authorization granted.
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
================================================================================
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]: User picked
Standard Install
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]: Choices selected
for installation:
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:   Upgrade: "MacTeX-2016"
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:   Upgrade:
"TeXLive-2016" at path "//"
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
mactex-20160603.pkg#root.pkg : org.tug.mactex.texlive2016 : 1.0
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:   Upgrade:
"GUI-Applications" at path "//"
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
mactex-20160603.pkg#applications.pkg : org.tug.mactex.gui2016 : 1.0
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:   Upgrade:
"Ghostscript-9.19" at path "//"
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
mactex-20160603.pkg#local.pkg : org.tug.mactex.ghostscript9.19 : 1.0
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
================================================================================
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]: It took 0.00
seconds to summarize the package selections.
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
-[IFDInstallController(Private) _buildInstallPlanReturningError:]:
location = file://localhost
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
-[IFDInstallController(Private) _buildInstallPlanReturningError:]:
file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#root.pkg
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
-[IFDInstallController(Private) _buildInstallPlanReturningError:]:
file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#applications.pkg
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]:
-[IFDInstallController(Private) _buildInstallPlanReturningError:]:
file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#local.pkg
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]: Set
authorization level to root for session
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]: Will use PK session
Jun 12 18:22:51 Tobiass-MacBook-Pro Installer[68769]: Using
authorization level of root for IFPKInstallElement
Jun 12 18:22:52 Tobiass-MacBook-Pro Installer[68769]: LSExceptions
[0x7fa471e18aa0] unloaded
Jun 12 18:22:53 Tobiass-MacBook-Pro Installer[68769]: Starting installation:
Jun 12 18:22:53 Tobiass-MacBook-Pro Installer[68769]: Configuring
volume "Macintosh HD"
Jun 12 18:22:53 Tobiass-MacBook-Pro Installer[68769]: Preparing disk
for local booted install.
Jun 12 18:22:53 Tobiass-MacBook-Pro Installer[68769]: Free space on
"Macintosh HD": 26,96 GB (26955264000 bytes).
Jun 12 18:22:53 Tobiass-MacBook-Pro Installer[68769]: Create temporary
directory "/var/folders/wl/klf5ry4n2vg4lfmtqk5tv5sr0000gn/T//Install.68769gACYZl"
Jun 12 18:22:53 Tobiass-MacBook-Pro Installer[68769]:
IFPKInstallElement (3 packages)
Jun 12 18:22:53 Tobiass-MacBook-Pro installd[341]: PackageKit: Adding
client PKInstallDaemonClient pid=68769, uid=501
(/System/Library/CoreServices/Installer.app/Contents/MacOS/Installer)
Jun 12 18:22:53 Tobiass-MacBook-Pro Installer[68769]: PackageKit:
Enqueuing install with framework-specified quality of service
(utility)
Jun 12 18:22:53 Tobiass-MacBook-Pro installd[341]: PackageKit: -----
Begin install -----
Jun 12 18:22:53 Tobiass-MacBook-Pro installd[341]: PackageKit:
request=PKInstallRequest <3 packages, destination=/>
Jun 12 18:22:53 Tobiass-MacBook-Pro installd[341]: PackageKit: packages=(
        "PKLeopardPackage
<file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#root.pkg>",
        "PKLeopardPackage
<file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#applications.pkg>",
        "PKLeopardPackage
<file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#local.pkg>"
    )
Jun 12 18:22:59 Tobiass-MacBook-Pro installd[341]: PackageKit:
Extracting file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#root.pkg
(destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/C/PKInstallSandboxManager/8BD855B4-CAA1-4A63-8137-72E3A47D8F49.activeSandbox/Root,
uid=0)
Jun 12 18:23:40 Tobiass-MacBook-Pro installd[341]: PackageKit:
Extracting file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#applications.pkg
(destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/C/PKInstallSandboxManager/8BD855B4-CAA1-4A63-8137-72E3A47D8F49.activeSandbox/Root/Applications,
uid=0)
Jun 12 18:23:42 Tobiass-MacBook-Pro installd[341]: PackageKit:
Extracting file://localhost/Users/tobiasschmidt/Downloads/mactex-20160603.pkg#local.pkg
(destination=/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/C/PKInstallSandboxManager/8BD855B4-CAA1-4A63-8137-72E3A47D8F49.activeSandbox/Root/usr/local,
uid=0)
Jun 12 18:23:43 Tobiass-MacBook-Pro installd[341]: PackageKit: prevent
user idle system sleep
Jun 12 18:23:43 Tobiass-MacBook-Pro installd[341]: PackageKit:
suspending backupd
Jun 12 18:23:43 Tobiass-MacBook-Pro install_monitor[68901]:
Temporarily excluding: /Applications, /Library, /System, /bin,
/private, /sbin, /usr
Jun 12 18:23:43 Tobiass-MacBook-Pro install_monitor[68901]:
Re-included: /Applications, /Library, /System, /bin, /private, /sbin,
/usr
Jun 12 18:23:43 Tobiass-MacBook-Pro installd[341]: PackageKit: releasing backupd
Jun 12 18:23:43 Tobiass-MacBook-Pro installd[341]: PackageKit: allow
user idle system sleep
Jun 12 18:23:43 Tobiass-MacBook-Pro installd[341]: PackageKit: Install
Failed: Error Domain=NSPOSIXErrorDomain Code=2 "No such file or
directory" UserInfo={NSFilePath=/private/tmp/PKInstallSandbox.XXXXXX}
{
        NSFilePath = "/private/tmp/PKInstallSandbox.XXXXXX";
    }
Jun 12 18:23:43 Tobiass-MacBook-Pro installd[341]: PackageKit: Running
idle tasks
Jun 12 18:23:43 Tobiass-MacBook-Pro Installer[68769]:
install:didFailWithError:Error Domain=NSPOSIXErrorDomain Code=2 "No
such file or directory"
UserInfo={NSFilePath=/private/tmp/PKInstallSandbox.XXXXXX}
Jun 12 18:23:43 Tobiass-MacBook-Pro installd[341]: PackageKit:
Removing client PKInstallDaemonClient pid=68769, uid=501
(/System/Library/CoreServices/Installer.app/Contents/MacOS/Installer)
Jun 12 18:23:44 Tobiass-MacBook-Pro Installer[68769]: Install failed:
The Installer encountered an error that caused the installation to
fail. Contact the software manufacturer for assistance.
Jun 12 18:23:44 Tobiass-MacBook-Pro Installer[68769]:
IFDInstallController 74036930 state = 8
Jun 12 18:23:44 Tobiass-MacBook-Pro Installer[68769]: Displaying
'Install Failed' UI.
Jun 12 18:23:44 Tobiass-MacBook-Pro Installer[68769]: 'Install Failed'
UI displayed message:'The Installer encountered an error that caused
the installation to fail. Contact the software manufacturer for
assistance.'.
Jun 12 18:23:53 Tobiass-MacBook-Pro installd[341]: PackageKit: Done
with sandbox removals
Jun 12 18:23:53 Tobiass-MacBook-Pro installd[341]: PackageKit: Sandbox
/var/folders/zz/zyxvpxvq6csfxvn_n0000000000000/C/PKInstallSandboxManager/563D4C1A-7052-4D64-9A27-42AFEBA305D2.sandbox:
relevance 72



Any idea where I might be going wrong?

Best,

Tobias
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160616/7c0b56c8/attachment-0001.html>

From kakuto at fuk.kindai.ac.jp  Fri Jun 17 05:18:28 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 17 Jun 2016 12:18:28 +0900
Subject: [tex-live] Lollipop is broken in TeXlive 2016
In-Reply-To: <BN3PR0301MB1249142107F3737942291498D6560@BN3PR0301MB1249.namprd03.prod.outlook.com>
References: <BN3PR0301MB1249142107F3737942291498D6560@BN3PR0301MB1249.namprd03.prod.outlook.com>
Message-ID: <553EA6C97769458DA05A3D0650CEB477@CJ3001517A>

Dear Vafa,

> lollipop is broken in TeXLive 2016. Create a simple lollipop document

> \Start
>
> This is a test.
>
> \Stop

Here lollipop test.tex works fine with pdftex:

This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016/W32TeX) (preloaded format=lollipop)
restricted \write18 enabled.
entering extended mode
(./test.tex  >>>> This is Lollipop TeX (v1.07, 21 May 2016) <<<< (./test.aux)
[1.1] (./test.aux) )
Output written on test.dvi (1 page, 216 bytes).
Transcript written on test.log.

Generated test.dvi looks fine.
I think that pdftex is not incompatible with the Knuth TeX.
But Karl may change to use tex instead of pdftex if you want.

Best,
Akira


From languasc at gmail.com  Fri Jun 17 06:26:36 2016
From: languasc at gmail.com (Alessandro Languasco)
Date: Fri, 17 Jun 2016 06:26:36 +0200
Subject: [tex-live] Lollipop is broken in TeXlive 2016
In-Reply-To: <BN3PR0301MB1249142107F3737942291498D6560@BN3PR0301MB1249.namprd03.prod.outlook.com>
References: <BN3PR0301MB1249142107F3737942291498D6560@BN3PR0301MB1249.namprd03.prod.outlook.com>
Message-ID: <88B12276-2625-47D2-B7CD-8196826F52E4@gmail.com>

I see the same problem Vafa Khalighi wrote both on my mac with mactex-2016
and my linux box with texlive 2016.

Bests, 	Alessandro



> On 16 Jun 2016, at 03:31, Vafa Khalighi <vk489 at uowmail.edu.au> wrote:
> 
> Hi Karl
> 
> lollipop is broken in TeXLive 2016. Create a simple lollipop document
> 
> \Start
> This is a test.
> \Stop
> 
> and process it with `lollipop test.tex' and this is the error you get
> 
> %%%%%%%%%%
> This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016) (preloaded format=lollipop)
>  restricted \write18 enabled.
> 
> kpathsea: Running mktexfmt lollipop.fmt
> mktexfmt: mktexfmt is using the following fmtutil.cnf files (in precedence order):
> mktexfmt:   /usr/local/texlive/2016/texmf-dist/web2c/fmtutil.cnf
> mktexfmt: mktexfmt is using the following fmtutil.cnf file for writing changes:
> mktexfmt:   /Users/vafa/Library/texlive/2016/texmf-config/web2c/fmtutil.cnf
> mktexfmt [INFO]: writing formats under /Users/vafa/Library/texlive/2016/texmf-var/web2c
> mktexfmt [INFO]: --- remaking lollipop with tex
> mktexfmt: running `tex -ini   -jobname=lollipop -progname=lollipop lollipop.ini' ...
> This is TeXk, Version 3.14159265 (TeX Live 2016) (INITEX)
>  restricted \write18 enabled.
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop.ini
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop.tex
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-plain.tex
> (/usr/local/texlive/2016/texmf-dist/tex/generic/hyphen/hyphen.tex))
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-tools.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-define.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-fonts.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-fontdefs.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-text.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-document.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-heading.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-output.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-float.tex)
> (/usr/local/texlive/2016/texmf-dist/tex/lollipop/lollipop-lists.tex)
> ) )
> Beginning to dump on file lollipop.fmt
>  (preloaded format=lollipop 2016.6.16)
> 3422 strings of total length 48580
> 33354 memory locations dumped; current usage is 158&33023
> 2325 multiletter control sequences
> \font\nullfont=nullfont
> \font\exx=cmex10
> \font\ttx=cmtt10
> \font\ComputerModernromanx=cmr10
> \font\ttix=cmtt9
> \font\ttxi=cmtt10 at 10.95pt
> \font\ttxii=cmtt10 at 12.0pt
> \font\ttxiv=cmtt10 at 14.4pt
> \font\ttxvii=cmtt10 at 17.28pt
> \font\ttxx=cmtt10 at 20.73999pt
> \font\ComputerModernboldx=cmbx10
> \font\ComputerModernslantx=cmsl10
> \font\ComputerModernitalicx=cmti10
> 2706 words of font info for 12 preloaded fonts
> 19 hyphenation exceptions
> Hyphenation trie of length 6075 has 181 ops out of 35111
>   181 for language 0
> No pages of output.
> Transcript written on lollipop.log.
> mktexfmt [INFO]: /Users/vafa/Library/texlive/2016/texmf-var/web2c/tex/lollipop.fmt installed.
> mktexfmt [INFO]: Disabled formats: 6
> mktexfmt [INFO]: Successfully rebuilt formats: 1
> mktexfmt [INFO]: Not selected formats: 43
> mktexfmt [INFO]: Total formats: 50
> mktexfmt [INFO]: exiting with status 0
> ---! /Users/vafa/Library/texlive/2016/texmf-var/web2c/tex/lollipop.fmt was written by tex
> (Fatal format file error; I'm stymied)
> 
> %%%%%%%%%%%%%%%%%%%%%%
> 
> 
> This is because, lollipop format should be based on Knuth tex and not pdftex. Indeed, when I look at TeXLive repository, I can confirm that only netbsd platforms have lollipop based on Knuth TeX (link tex) and all other platforms link pdftex. I believe I sent you an email and explained this clearly to you when you asked me to delete xelollipop.
> 
> lollipop is the only tex format that I use myself and this breaks all my documents. 
> 
> Could you please fix this?
> 
> Thanks

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160617/dc198d1e/attachment-0001.html>

From kakuto at fuk.kindai.ac.jp  Fri Jun 17 07:12:17 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 17 Jun 2016 14:12:17 +0900
Subject: [tex-live] Lollipop is broken in TeXlive 2016
In-Reply-To: <88B12276-2625-47D2-B7CD-8196826F52E4@gmail.com>
References: <BN3PR0301MB1249142107F3737942291498D6560@BN3PR0301MB1249.namprd03.prod.outlook.com>
 <88B12276-2625-47D2-B7CD-8196826F52E4@gmail.com>
Message-ID: <955ABE217C2342FBAE84549D737DDD3F@CJ3001517A>

Dear Vafa,  Alessandro,

> I see the same problem Vafa Khalighi wrote both on my mac with mactex-2016
> and my linux box with texlive 2016.

I have found the reason.
Karl already had changed fmtutil.cnf to use
tex instead of pdftex in fmtutil.cnf:

# from lollipop:
lollipop tex - lollipop.ini

However he forgot to change symlink for lollipop,
which is still linked to pdftex.
Please wait a day.

Thanks,
Akira


From zdenek.wagner at gmail.com  Fri Jun 17 10:09:18 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 17 Jun 2016 10:09:18 +0200
Subject: [tex-live] Letter template
In-Reply-To: <CAF8XF0cPschdZDLsJFRDz5S5_p5aFkuxCj2qGHbnSDjc=ZAUyQ@mail.gmail.com>
References: <CAF8XF0cPschdZDLsJFRDz5S5_p5aFkuxCj2qGHbnSDjc=ZAUyQ@mail.gmail.com>
Message-ID: <CAC1phyZvaG813d3TvbstJ9rR_Rbbn94Qt+QdW9yu1T0cy82qgw@mail.gmail.com>

Hi,

this question has nothing to do with TeX Live maintenance so this should be
posted somewhere else.

Anyway, I am afraid that a good general answer does not exist. Although
various internationalization projects exist so that you can prepare a
general template containing macros as \from, \to, \cc etc., the universe is
not that grey. First, there are different conventions in different
countries one of them being the position of the signature. Generally it can
be said that for A4 or letter size paper the font size should be 11pt or
12pt, margins should be around 1in (the old Czech standard required 25mm
which is almost the same dimension). Setting of \parindent and \parskip is
also a matter of convention. What is the most important is "corporate
identity". I was asked to prepare letter templates for several companies.
The layout was designed by a graphuical design studio. The people from the
studio do not know LaTeX and the companies requested LaTeX so I have
implemented it for them. In short, if you wish a professional design, ask a
graphical designer. If you think that you can do it yourself. look at
letters that you receive from others and try to do it in a similar way.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2016-06-16 17:22 GMT+02:00 Kai Hendry <hendry at webconverger.com>:

> Hi there,
>
> I created a Docker image with texlive to help generate a letter from a
> Web form in the very occasional times I need to.
>
> However I recently got a complaint from my wife that the template the
> font is too small and the borders are too wide and the signature is
> odd for being offset to the right.
>
> This is the current template I am using and it must be 10 years old.
> Can anyone offer offer pointers to a better (more modern) template?
> https://github.com/kaihendry/letterly/blob/master/www/pdf/letter.template
>
> \documentclass[british,a4paper]{letter}
> \usepackage{fontspec}
> \defaultfontfeatures{Mapping=tex-text}
> \usepackage{xunicode}
> \usepackage{babel}
> \begin{document}
>
>
> Many thanks!
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160617/06a1e0fb/attachment-0001.html>

From zdenek.wagner at gmail.com  Fri Jun 17 10:13:37 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 17 Jun 2016 10:13:37 +0200
Subject: [tex-live] texcount on Windows fail because of Perl file
 missing from TeX Live distribution
In-Reply-To: <306071466104496@web16h.yandex.ru>
References: <306071466104496@web16h.yandex.ru>
Message-ID: <CAC1phyY+tLyy2Ci3mw7HAHROscRz6cMz_pp27EVwpKbUCDRF8w@mail.gmail.com>

This is strange, cannot it be a problem of permissions? The error message
lists the @INC settings and it is clear that you have it in the right
directory.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2016-06-16 21:14 GMT+02:00 Leonid Sinev <leonid.sinev at yandex.ru>:

> Greetings,
>
> This problem already discussed at
> https://www.tug.org/pipermail/tex-live/2015-August/037293.html
> but nothing changed in TeXLive 2016.
>
> Nothing changed after
> http://tex.stackexchange.com/a/145766 advice
> of Win32::Console::ANSI from CPAN
> I have copied file from this package to
> C:\texlive\2016\tlpkg\tlperl\site\lib\Win32\Console\ANSI.pm
> and got this:
>
> Can't locate loadable object for module Win32::Console::ANSI in @INC (@INC
> conta ins: C:/texlive/2016/tlpkg/tlperl/lib
> c:/texlive/2016/tlpkg/tlperl/site/lib c:/t exlive/2016/tlpkg/tlperl/lib .)
> at c:\texlive\2016\texmf-dist\scripts\texcount\t excount.pl line 11.
> Compilation failed in require at
> c:\texlive\2016\texmf-dist\scripts\texcount\tex count.pl line 11.
> BEGIN failed--compilation aborted at
> c:\texlive\2016\texmf-dist\scripts\texcount \texcount.pl line 14.
> C:\texlive\2016\bin\win32\runscript.tlu:679: command failed with exit code
> 2: perl.exe c:\texlive\2016\texmf-dist\scripts\texcount\texcount.pl
>
> Can there be a patch or update for TeXLive for windows that can make
> windows users use Perl scripts like texcount without need of additional
> perl installation or messing with additional packaging for tlperl?
>
> --
> Best regards,
> Leonid
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160617/e9c1f6c4/attachment.html>

From preining at logic.at  Fri Jun 17 12:16:09 2016
From: preining at logic.at (Norbert Preining)
Date: Fri, 17 Jun 2016 19:16:09 +0900
Subject: [tex-live] =?utf-8?q?MacTeX_=E2=80=9CThe_installation_failed?=
 =?utf-8?b?4oCd?=
In-Reply-To: <CAJYaLfuXUAoX2fKFb3xdB6kxPtGXo0EiHSnWXLdb0_RcQNYwgQ@mail.gmail.com>
References: <CAJYaLfuXUAoX2fKFb3xdB6kxPtGXo0EiHSnWXLdb0_RcQNYwgQ@mail.gmail.com>
Message-ID: <20160617101609.GD21093@logic.at>

> I'm trying to install the current MacTeX distribution (mactex-20160603.pkg)

Can you please contact the mactex mailing list - it is the most
appropriate one. None of the devs here are working on the MacTeX
personally (AFAIR).

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri Jun 17 12:23:45 2016
From: preining at logic.at (Norbert Preining)
Date: Fri, 17 Jun 2016 19:23:45 +0900
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
Message-ID: <20160617102345.GE21093@logic.at>

Thanks David,

> I just updated latex-graphics, luatex-def and pdftex-def on ctan  (for

updated for tomorrow.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri Jun 17 13:43:07 2016
From: preining at logic.at (Norbert Preining)
Date: Fri, 17 Jun 2016 20:43:07 +0900
Subject: [tex-live] Asymptote 3D and gcc-6.1 ?
In-Reply-To: <20160617000419.GA3140@milliways.localdomain>
References: <20160617000419.GA3140@milliways.localdomain>
Message-ID: <20160617114307.GA16040@logic.at>

On Fri, 17 Jun 2016, Ken Moffat wrote:
> development system using gcc-6.1 it fails to create 3D drawings and

Do you mean that when you recompile with gcc-6 you get problems?
Or are you using the shipped binaries on a system with gcc-6?
(libstdc++ and some other libs would change I guess).

asy is not the only problem, on Debian I see other failures with gcc-6,
and some of them are for sure compiler bugs. WHether this is the case
for asy/3d, I don't know.

So all in all - yes - I expect lots of problems with gcc6, at least
in the beginning.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From josemaria.alcaide at ehu.eus  Fri Jun 17 15:51:14 2016
From: josemaria.alcaide at ehu.eus (=?utf-8?Q?Jos=C3=A9_Mar=C3=ADa_Alcaide?=)
Date: Fri, 17 Jun 2016 15:51:14 +0200
Subject: [tex-live] pdftex.def 0.06f breaks xcolor package
Message-ID: <B773643D-6DCE-4647-9F60-496330A53C4B@ehu.eus>

Hello.

I have TeX Live 2016 installed (MacTeX 2016). After updating TL using tlmgr, I found that loading the xcolor package causes this error with pdftex:

/usr/local/texlive/2016/texmf-dist/tex/latex/pdftex-def/pdftex.def:444: Undefined control sequence.
l.444 \ifGin at setpagesize

And, indeed, pdftex.def was among the files updated (from v0.06d to v0.06f). Restoring pdftex v0.06d makes that error to go away.

This problem also affects other packages which use xcolor (such as the minted package).


--
Jos? Mar?a Alcaide
Prof. titular de Lenguajes y sistemas inform?ticos
    Universidad del Pa?s Vasco
    Dpto. de Electricidad y Electr?nica
    Facultad de Ciencia y Tecnolog?a
    48940 Leioa (Spain)



From josemaria.alcaide at ehu.eus  Fri Jun 17 15:59:37 2016
From: josemaria.alcaide at ehu.eus (=?utf-8?Q?Jos=C3=A9_Mar=C3=ADa_Alcaide?=)
Date: Fri, 17 Jun 2016 15:59:37 +0200
Subject: [tex-live] pdftex.def 0.06f breaks xcolor package
In-Reply-To: <B773643D-6DCE-4647-9F60-496330A53C4B@ehu.eus>
References: <B773643D-6DCE-4647-9F60-496330A53C4B@ehu.eus>
Message-ID: <B9FE2060-0793-49DE-BD1A-8C31E591AB42@ehu.eus>

> El 17 jun 2016, a las 15:51, Jos? Mar?a Alcaide <josemaria.alcaide at ehu.eus> escribi?:
> 
> Hello.
> 
> I have TeX Live 2016 installed (MacTeX 2016). After updating TL using tlmgr, I found that loading the xcolor package causes this error with pdftex:
> 
> /usr/local/texlive/2016/texmf-dist/tex/latex/pdftex-def/pdftex.def:444: Undefined control sequence.
> l.444 \ifGin at setpagesize
> 
> And, indeed, pdftex.def was among the files updated (from v0.06d to v0.06f). Restoring pdftex v0.06d makes that error to go away.
> 
> This problem also affects other packages which use xcolor (such as the minted package).
> 

Ouch. I have just found another thread from a few hours ago reporting this same problem. Sorry for the duplicate!


--
Jos? Mar?a Alcaide
Prof. titular de Lenguajes y sistemas inform?ticos
    Universidad del Pa?s Vasco
    Dpto. de Electricidad y Electr?nica
    Facultad de Ciencia y Tecnolog?a
    48940 Leioa (Spain)



From preining at logic.at  Fri Jun 17 16:41:35 2016
From: preining at logic.at (Norbert Preining)
Date: Fri, 17 Jun 2016 23:41:35 +0900
Subject: [tex-live] pdftex.def 0.06f breaks xcolor package
In-Reply-To: <B773643D-6DCE-4647-9F60-496330A53C4B@ehu.eus>
References: <B773643D-6DCE-4647-9F60-496330A53C4B@ehu.eus>
Message-ID: <20160617144135.GA14671@logic.at>

> /usr/local/texlive/2016/texmf-dist/tex/latex/pdftex-def/pdftex.def:444: Undefined control sequence.
> l.444 \ifGin at setpagesize

Should be fixed with tomorrow's update.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From herbs at wideopenwest.com  Fri Jun 17 17:04:04 2016
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Fri, 17 Jun 2016 10:04:04 -0500
Subject: [tex-live] pdftex.def 0.06f breaks xcolor package
In-Reply-To: <20160617144135.GA14671@logic.at>
References: <B773643D-6DCE-4647-9F60-496330A53C4B@ehu.eus>
 <20160617144135.GA14671@logic.at>
Message-ID: <8C707D24-8950-40EE-997A-AD7A83CEE915@wideopenwest.com>

> On Jun 17, 2016, at 9:41 AM, Norbert Preining <preining at logic.at> wrote:
> 
>> /usr/local/texlive/2016/texmf-dist/tex/latex/pdftex-def/pdftex.def:444: Undefined control sequence.
>> l.444 \ifGin at setpagesize
> 
> Should be fixed with tomorrow's update.
> 
> Norbert

Howdy,

In the mean time, assuming you're using the graphicx package also, load graohicx before xcolor.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)








From zarniwhoop at ntlworld.com  Fri Jun 17 17:20:14 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Fri, 17 Jun 2016 16:20:14 +0100
Subject: [tex-live] Asymptote 3D and gcc-6.1 ?
In-Reply-To: <20160617114307.GA16040@logic.at>
References: <20160617000419.GA3140@milliways.localdomain>
 <20160617114307.GA16040@logic.at>
Message-ID: <20160617152014.GA1725@milliways.localdomain>

On Fri, Jun 17, 2016 at 08:43:07PM +0900, Norbert Preining wrote:
> On Fri, 17 Jun 2016, Ken Moffat wrote:
> > development system using gcc-6.1 it fails to create 3D drawings and
> 
> Do you mean that when you recompile with gcc-6 you get problems?
> Or are you using the shipped binaries on a system with gcc-6?
> (libstdc++ and some other libs would change I guess).
> 

This is for the shipped binary - I have not got around to building
everything from source.  Hmm, yes, a different libstdc++.

> asy is not the only problem, on Debian I see other failures with gcc-6,
> and some of them are for sure compiler bugs. WHether this is the case
> for asy/3d, I don't know.
> 

For the moment, this is the binary - the same one that works on a
gcc-5.3.1 system.

> So all in all - yes - I expect lots of problems with gcc6, at least
> in the beginning.
> 
> Norbert
> 

Yes, I/we (BLFS) have had fun in several of packages.  I've only got
back to this now that I've got firefox-47 stable.

Thanks for those comments.

?en
-- 
                       War is Peace
                    Freedom is Slavery
                   Ignorance is Strength

From leonid.sinev at yandex.ru  Fri Jun 17 18:19:46 2016
From: leonid.sinev at yandex.ru (Leonid Sinev)
Date: Fri, 17 Jun 2016 19:19:46 +0300
Subject: [tex-live] texcount on Windows fail because of Perl file
 missing from TeX Live distribution
In-Reply-To: <CAC1phyY+tLyy2Ci3mw7HAHROscRz6cMz_pp27EVwpKbUCDRF8w@mail.gmail.com>
References: <306071466104496@web16h.yandex.ru>
 <CAC1phyY+tLyy2Ci3mw7HAHROscRz6cMz_pp27EVwpKbUCDRF8w@mail.gmail.com>
Message-ID: <462441466180386@web3m.yandex.ru>

An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160617/21fa8d0e/attachment-0001.html>

From jfbu at free.fr  Fri Jun 17 19:05:51 2016
From: jfbu at free.fr (jfbu)
Date: Fri, 17 Jun 2016 19:05:51 +0200
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <20160617102345.GE21093@logic.at>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
Message-ID: <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>

Hi,

should I worry about these tlmgr error messages below ?
(I don't as the first compilation I tried which had failed before now worked)

Best,

Jean-Fran?ois

$ tlmgr restore graphics
Available backups for graphics: 41015 (2016-06-17 12:13) 

$ tlmgr restore graphics 41015
Do you really want to restore graphics to revision 41015 (y/N): y
Restoring graphics, 41015 from /usr/local/texlive/2016/tlpkg/backups/graphics.r41015.tar.xz
Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.

$ tlmgr restore luatex-def
Available backups for luatex-def: 41398 (2016-06-17 12:13) 

$ tlmgr restore luatex-def 41398
Do you really want to restore luatex-def to revision 41398 (y/N): y
Restoring luatex-def, 41398 from /usr/local/texlive/2016/tlpkg/backups/luatex-def.r41398.tar.xz
Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.

$ tlmgr restore pdftex-def
Available backups for pdftex-def: 22653 (2016-06-17 12:13) 

$ tlmgr restore pdftex-def 22653
Do you really want to restore pdftex-def to revision 22653 (y/N): y
Restoring pdftex-def, 22653 from /usr/local/texlive/2016/tlpkg/backups/pdftex-def.r22653.tar.xz
Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.

[19:03:28] jfb at mba-de-jfb:~
~$ 




Le 17 juin 2016 ? 12:23, Norbert Preining <preining at logic.at> a ?crit :

> Thanks David,
> 
>> I just updated latex-graphics, luatex-def and pdftex-def on ctan  (for
> 
> updated for tomorrow.
> 
> Norbert
> 
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13



From jfbu at free.fr  Fri Jun 17 20:05:25 2016
From: jfbu at free.fr (jfbu)
Date: Fri, 17 Jun 2016 20:05:25 +0200
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
 <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
Message-ID: <B0597A74-022E-48BA-B127-7D43F38D1B63@free.fr>

Le 17 juin 2016 ? 19:05, jfbu <jfbu at free.fr> a ?crit :

> Hi,
> 
> should I worry about these tlmgr error messages below ?

apparently I should because there simply isn't anymore a pdftex.def on my installation...

(sorry for not complete report but I am doing other things with latex compilation as a side thing once in a while and I currently can not investigated too much the latex problems, reverted to TL2015 for my immediate needs)

after a compilation failed and kpsewhich pdftex.def reported nothing quick try:

$ ls /usr/local/texlive/2016/texmf-dist/tex/latex/graphics
ls: /usr/local/texlive/2016/texmf-dist/tex/latex/graphics: No such file or directory

$ ls /usr/local/texlive/2015/texmf-dist/tex/latex/graphics
color.sty    dvipsone.def graphics.sty pctex32.def  tcidvi.def
dvipdf.def   dviwin.def   graphicx.sty pctexhp.def  trig.sty
dvips.def    emtex.def    keyval.sty   pctexps.def  truetex.def
dvipsnam.def epsfig.sty   lscape.sty   pctexwin.def


but in backups I see (extract)
  -rw-r--r--   1 xxxxxx  yyyyyy     13592 Jun 17 12:13 pdftex-def.r22653.tar.xz
  -rw-r--r--   1 xxxxxx  yyyyyy    175036 Jun 17 12:13 luatex85.r41395.tar.xz
  -rw-r--r--   1 xxxxxx  yyyyyy      8980 Jun 17 12:13 luatex-def.r41398.tar.xz
  -rw-r--r--   1 xxxxxx  yyyyyy  12886592 Jun 17 12:13 latex.r40218.tar.xz
  -rw-r--r--   1 xxxxxx  yyyyyy      2400 Jun 17 12:13 graphics-cfg.r40269.tar.xz
  -rw-r--r--   1 xxxxxx  yyyyyy   1685216 Jun 17 12:13 graphics.r41015.tar.xz
  -rw-r--r--   1 xxxxxx  yyyyyy     36972 Jun 17 12:13 epstopdf.r41388.tar.xz

Jean-Fran?ois



> (I don't as the first compilation I tried which had failed before now worked)
> 
> Best,
> 
> Jean-Fran?ois
> 
> $ tlmgr restore graphics
> Available backups for graphics: 41015 (2016-06-17 12:13) 
> 
> $ tlmgr restore graphics 41015
> Do you really want to restore graphics to revision 41015 (y/N): y
> Restoring graphics, 41015 from /usr/local/texlive/2016/tlpkg/backups/graphics.r41015.tar.xz
> Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.
> 
> $ tlmgr restore luatex-def
> Available backups for luatex-def: 41398 (2016-06-17 12:13) 
> 
> $ tlmgr restore luatex-def 41398
> Do you really want to restore luatex-def to revision 41398 (y/N): y
> Restoring luatex-def, 41398 from /usr/local/texlive/2016/tlpkg/backups/luatex-def.r41398.tar.xz
> Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.
> 
> $ tlmgr restore pdftex-def
> Available backups for pdftex-def: 22653 (2016-06-17 12:13) 
> 
> $ tlmgr restore pdftex-def 22653
> Do you really want to restore pdftex-def to revision 22653 (y/N): y
> Restoring pdftex-def, 22653 from /usr/local/texlive/2016/tlpkg/backups/pdftex-def.r22653.tar.xz
> Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.
> 
> [19:03:28] jfb at mba-de-jfb:~
> ~$ 
> 
> 
> 
> 
> Le 17 juin 2016 ? 12:23, Norbert Preining <preining at logic.at> a ?crit :
> 
>> Thanks David,
>> 
>>> I just updated latex-graphics, luatex-def and pdftex-def on ctan  (for
>> 
>> updated for tomorrow.
>> 
>> Norbert
>> 
>> --
>> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
>> GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
> 



From karl at freefriends.org  Sat Jun 18 00:43:35 2016
From: karl at freefriends.org (Karl Berry)
Date: Fri, 17 Jun 2016 22:43:35 +0000
Subject: [tex-live] texcount on Windows fail because of Perl file
 missing from TeX Live distribution
In-Reply-To: <462441466180386@web3m.yandex.ru>
Message-ID: <201606172243.u5HMhZsi025686@freefriends.org>

It has never been a goal for the w32 Perl distributed with TeX Live to
have every Perl module possibly needed by every package.  Rather, its
purpose is to allow Windows users to run the TL infrastructure programs
written in Perl without installing a Perl themselves.

Thus, if you want to be able to run texcount, you need to install
another Perl with the extra packages.  Or install the extra packages
somewhere and arrange for our Perl to see it, if that's feasible on
Windows.

Maybe someone else here can help more specifically ... -k

From preining at logic.at  Sat Jun 18 02:48:54 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 18 Jun 2016 09:48:54 +0900
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
 <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
Message-ID: <20160618004854.GC14671@logic.at>

On Fri, 17 Jun 2016, jfbu wrote:
> Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.


Bad, fixed for today, need to use tlcritical for now.

Thanks for finding this

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Sat Jun 18 07:36:33 2016
From: jfbu at free.fr (jfbu)
Date: Sat, 18 Jun 2016 07:36:33 +0200
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <20160618004854.GC14671@logic.at>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
 <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
 <20160618004854.GC14671@logic.at>
Message-ID: <5498EC78-CE7C-4C5B-99A1-89EF39E500DC@free.fr>


Le 18 juin 2016 ? 02:48, Norbert Preining <preining at logic.at> a ?crit :

> On Fri, 17 Jun 2016, jfbu wrote:
>> Can't locate object method "_install_package" via package "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line 1.
> 
> 
> Bad, fixed for today, need to use tlcritical for now.
> 
> Thanks for finding this
> 

just to confirm that after updating tlmgr itself from tlcritical
the restoring of graphics, luatex-def, and pdftex-def from backuped
versions then worked, Thanks !

the new versions do not seem to have made it yet to mirrors, I get

$ tlmgr update --list
tlmgr: package repository http://ftp.oleane.net/pub/CTAN/systems/texlive/tlnet (verified)
tlmgr: saving backups to /usr/local/texlive/2016/tlpkg/backups
keep:     texlive.infra            : local:    41476, source:    41280
update:   graphics          [1924k]: local:    41015, source:    41447
update:   luatex-def          [10k]: local:    41398, source:    41450
update:   pdftex-def          [15k]: local:    22653, source:    41449

and I think graphics-41447 is the broken one.

Jean-Fran?ois



From ziegenhagen at gmail.com  Sat Jun 18 07:37:59 2016
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Sat, 18 Jun 2016 07:37:59 +0200
Subject: [tex-live] General test suite for TeX-Live
Message-ID: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>

Hi everyone,

I think it might be a good idea to create a general test suite for TeX Live
that we could use during the preparations of each release. Interactions
between different components are likely to grow so a set of tests could
help us determine if the release is fine or not.

What do you think?

Uwe

PS: If you agree that it would be a good thing I suggest to create a
Subversion repository which we could fill either on per-tester but maybe
better on per-topic basis.

-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160618/18baa1ff/attachment-0001.html>

From preining at logic.at  Sat Jun 18 07:38:41 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 18 Jun 2016 14:38:41 +0900
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <5498EC78-CE7C-4C5B-99A1-89EF39E500DC@free.fr>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
 <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
 <20160618004854.GC14671@logic.at>
 <5498EC78-CE7C-4C5B-99A1-89EF39E500DC@free.fr>
Message-ID: <2C1A255A-9732-4430-8534-A0D93D141172@logic.at>

The current versions, including the graphics one, should be the fixed one.

Norbert

On June 18, 2016 2:36:33 PM GMT+09:00, jfbu <jfbu at free.fr> wrote:
>
>Le 18 juin 2016 ? 02:48, Norbert Preining <preining at logic.at> a ?crit :
>
>> On Fri, 17 Jun 2016, jfbu wrote:
>>> Can't locate object method "_install_package" via package
>"TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line
>1.
>> 
>> 
>> Bad, fixed for today, need to use tlcritical for now.
>> 
>> Thanks for finding this
>> 
>
>just to confirm that after updating tlmgr itself from tlcritical
>the restoring of graphics, luatex-def, and pdftex-def from backuped
>versions then worked, Thanks !
>
>the new versions do not seem to have made it yet to mirrors, I get
>
>$ tlmgr update --list
>tlmgr: package repository
>http://ftp.oleane.net/pub/CTAN/systems/texlive/tlnet (verified)
>tlmgr: saving backups to /usr/local/texlive/2016/tlpkg/backups
>keep:     texlive.infra            : local:    41476, source:    41280
>update:   graphics          [1924k]: local:    41015, source:    41447
>update:   luatex-def          [10k]: local:    41398, source:    41450
>update:   pdftex-def          [15k]: local:    22653, source:    41449
>
>and I think graphics-41447 is the broken one.
>
>Jean-Fran?ois

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Sat Jun 18 07:43:57 2016
From: jfbu at free.fr (jfbu)
Date: Sat, 18 Jun 2016 07:43:57 +0200
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <2C1A255A-9732-4430-8534-A0D93D141172@logic.at>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
 <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
 <20160618004854.GC14671@logic.at>
 <5498EC78-CE7C-4C5B-99A1-89EF39E500DC@free.fr>
 <2C1A255A-9732-4430-8534-A0D93D141172@logic.at>
Message-ID: <FC1C07F7-8A74-4312-9A7A-022EA0A8F77D@free.fr>


Le 18 juin 2016 ? 07:38, Norbert Preining <preining at logic.at> a ?crit :

> The current versions, including the graphics one, should be the fixed one.


however if I reinstall the current versions, I get a failed compilation

(/usr/local/texlive/2016/texmf-dist/tex/latex/xcolor/xcolor.sty
(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics-cfg/color.cfg)
(/usr/local/texlive/2016/texmf-dist/tex/latex/pdftex-def/pdftex.def
(/usr/local/texlive/2016/texmf-dist/tex/generic/oberdiek/infwarerr.sty)
(/usr/local/texlive/2016/texmf-dist/tex/generic/oberdiek/ltxcmds.sty)
! Undefined control sequence.
l.444 \ifGin at setpagesize
                        
? 


on a project of mine, which seems to be the earlier reported problem

(this project uses a style file which loads xcolor first then graphicx)

the update looked like:

$ tlmgr update --all
tlmgr: package repository http://ftp.oleane.net/pub/CTAN/systems/texlive/tlnet (verified)
tlmgr: saving backups to /usr/local/texlive/2016/tlpkg/backups
[1/4, ??:??/??:??] update: graphics [1924k] (41015 -> 41447) ... done
[2/4, 00:04/00:04] update: graphics-cfg [2k] (40269 -> 41448) ... done
[3/4, 00:05/00:05] update: luatex-def [10k] (41398 -> 41450) ... done
[4/4, 00:06/00:06] update: pdftex-def [15k] (22653 -> 41449) ... done
tlmgr: package log updated: /usr/local/texlive/2016/texmf-var/web2c/tlmgr.log
running mktexlsr ...

(in between I had restore graphics-cfg, this is why it gets updated here again)

best,

JF

PS: I have set autobackup to 2 in the meantime ;-)


> 
> Norbert
> 
> On June 18, 2016 2:36:33 PM GMT+09:00, jfbu <jfbu at free.fr> wrote:
>> 
>> Le 18 juin 2016 ? 02:48, Norbert Preining <preining at logic.at> a ?crit :
>> 
>>> On Fri, 17 Jun 2016, jfbu wrote:
>>>> Can't locate object method "_install_package" via package
>> "TeXLive::TLPDB" at /Library/TeX/texbin/tlmgr line 1768, <STDIN> line
>> 1.
>>> 
>>> 
>>> Bad, fixed for today, need to use tlcritical for now.
>>> 
>>> Thanks for finding this
>>> 
>> 
>> just to confirm that after updating tlmgr itself from tlcritical
>> the restoring of graphics, luatex-def, and pdftex-def from backuped
>> versions then worked, Thanks !
>> 
>> the new versions do not seem to have made it yet to mirrors, I get
>> 
>> $ tlmgr update --list
>> tlmgr: package repository
>> http://ftp.oleane.net/pub/CTAN/systems/texlive/tlnet (verified)
>> tlmgr: saving backups to /usr/local/texlive/2016/tlpkg/backups
>> keep:     texlive.infra            : local:    41476, source:    41280
>> update:   graphics          [1924k]: local:    41015, source:    41447
>> update:   luatex-def          [10k]: local:    41398, source:    41450
>> update:   pdftex-def          [15k]: local:    22653, source:    41449
>> 
>> and I think graphics-41447 is the broken one.
>> 
>> Jean-Fran?ois
> 
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13



From preining at logic.at  Sat Jun 18 07:52:16 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 18 Jun 2016 14:52:16 +0900
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <FC1C07F7-8A74-4312-9A7A-022EA0A8F77D@free.fr>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
 <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
 <20160618004854.GC14671@logic.at>
 <5498EC78-CE7C-4C5B-99A1-89EF39E500DC@free.fr>
 <2C1A255A-9732-4430-8534-A0D93D141172@logic.at>
 <FC1C07F7-8A74-4312-9A7A-022EA0A8F77D@free.fr>
Message-ID: <20160618055216.GG14671@logic.at>

On Sat, 18 Jun 2016, jfbu wrote:
> however if I reinstall the current versions, I get a failed compilation

YUour server is not uptodate.

> [1/4, ??:??/??:??] update: graphics [1924k] (41015 -> 41447) ... done
> [2/4, 00:04/00:04] update: graphics-cfg [2k] (40269 -> 41448) ... done
> [3/4, 00:05/00:05] update: luatex-def [10k] (41398 -> 41450) ... done
> [4/4, 00:06/00:06] update: pdftex-def [15k] (22653 -> 41449) ... done

Here I get:
[ 4/10, 00:04/00:12] update: graphics [2000k] (41447 -> 41468 at main) ... done
[ 8/10, 00:09/00:13] update: luatex-def [10k] (41450 -> 41466 at main) ... done
[ 9/10, 00:10/00:15] update: pdftex-def [15k] (41449 -> 41467 at main) ... done

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Sat Jun 18 07:53:46 2016
From: jfbu at free.fr (jfbu)
Date: Sat, 18 Jun 2016 07:53:46 +0200
Subject: [tex-live] xcolor broken with pdflatex
In-Reply-To: <FC1C07F7-8A74-4312-9A7A-022EA0A8F77D@free.fr>
References: <5834b23c-92f5-200d-b91a-73c449bda09a@gmail.com>
 <CAEW6iOj-4WJBsB93O3uY9sGdoZhoXKkEaQRu9WE7XZgz8AeRtQ@mail.gmail.com>
 <20160617102345.GE21093@logic.at>
 <42490C09-B19D-4E6D-A76B-8D02015B7F7D@free.fr>
 <20160618004854.GC14671@logic.at>
 <5498EC78-CE7C-4C5B-99A1-89EF39E500DC@free.fr>
 <2C1A255A-9732-4430-8534-A0D93D141172@logic.at>
 <FC1C07F7-8A74-4312-9A7A-022EA0A8F77D@free.fr>
Message-ID: <0D40250C-C72C-4EDA-A6AD-507AEB10F3AD@free.fr>


Le 18 juin 2016 ? 07:43, jfbu <jfbu at free.fr> a ?crit :

>> The current versions, including the graphics one, should be the fixed one.
> 


I just saw announcement on c.t.tex from CTAN, but it appears that from
where I am the mirror which was chosen by the multiplexer does not 
yet serve these updates, that's all

similarly the announced luaotfload 2.7-fix-3 is not yet updated via my use of tlmgr

best,

Jean-Fran?ois

From preining at logic.at  Sat Jun 18 07:59:18 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 18 Jun 2016 14:59:18 +0900
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
Message-ID: <20160618055918.GH14671@logic.at>

Hi Uwe,

I think this is a nice idea, but needs good thinking. I don't want
just a bunch of examples - all must be automatized and best
included in our daily checks.

I have pushed the L3 Team to include support for reproducible builds
(SOURCE_DATE_EPOCH) into the l3build suite, and I am now working/thinking
about setting up some environment so that package authors
can upload tests, or we write them. These test would be run against
l3build tester automatically during the nightly rebuild.

For now I am thinking aobut hte following:
* loading test:
  - for every latex package (.sty file) if nothing is extra specified
    for testts we try a simple document like:
	\documentclass{article}
	\usepackage{....}
	\begin{document}Hellow Wolrd\end{document}
    and make sure that hte generated pdf does not change under S_D_E settings.
  - one can override the documentclass, engine, etc etc on a per sty
    file
  - one can submit more involved tests
* other tests coming (combinations, user supplied)

Well, that is all in very early stages and if I would have more
time I would have written some code already - maybe during TUG 2016.
Are you coming?

Maybe intereted people can make a brain storming session during TUG.

Also, I would prefer a git repository on github/lab or similar.

On Sat, 18 Jun 2016, Uwe Ziegenhagen wrote:
> I think it might be a good idea to create a general test suite for TeX Live

All the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From hendry at webconverger.com  Sat Jun 18 08:17:45 2016
From: hendry at webconverger.com (Kai Hendry)
Date: Sat, 18 Jun 2016 07:17:45 +0100
Subject: [tex-live] Letter template
In-Reply-To: <CAC1phyZvaG813d3TvbstJ9rR_Rbbn94Qt+QdW9yu1T0cy82qgw@mail.gmail.com>
References: <CAF8XF0cPschdZDLsJFRDz5S5_p5aFkuxCj2qGHbnSDjc=ZAUyQ@mail.gmail.com>
 <CAC1phyZvaG813d3TvbstJ9rR_Rbbn94Qt+QdW9yu1T0cy82qgw@mail.gmail.com>
Message-ID: <CAF8XF0fj0GMXgjyCt8yGxjAR5nfF8Cs=2tLN0obtdKbamMnFkA@mail.gmail.com>

Thank you for your reply Zdenek,

On 17 June 2016 at 09:09, Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
> this question has nothing to do with TeX Live maintenance so this should be
> posted somewhere else.

Sorry, please let me know a better forum. Perhaps
http://tex.stackexchange.com/ ?

> Anyway, I am afraid that a good general answer does not exist. Although
> various internationalization projects exist so that you can prepare a
> general template containing macros as \from, \to, \cc etc., the universe is
> not that grey. First, there are different conventions in different countries
> one of them being the position of the signature. Generally it can be said
> that for A4 or letter size paper the font size should be 11pt or 12pt,
> margins should be around 1in (the old Czech standard required 25mm which is

I think that's really the problem I have. I don't even know how to
change the font size or if I even need this lines:

\usepackage{fontspec}
\defaultfontfeatures{Mapping=tex-text}
\usepackage{xunicode}
\usepackage{babel}

> almost the same dimension). Setting of \parindent and \parskip is also a
> matter of convention. What is the most important is "corporate identity". I
> was asked to prepare letter templates for several companies. The layout was
> designed by a graphuical design studio. The people from the studio do not
> know LaTeX and the companies requested LaTeX so I have implemented it for
> them. In short, if you wish a professional design, ask a graphical designer.
> If you think that you can do it yourself. look at letters that you receive
> from others and try to do it in a similar way.

I don't have the skills to hack tex templates. I would be just
shooting in the dark. I was hoping to find a canonical minimal letter
template and go from there but I was struggling. I did find a couple
of more templates on a Github search:

https://github.com/khemanta/Rescv/blob/master/CL.tex <-- bit complex
https://github.com/albcorp/alb-latex/blob/master/make/serial/example-letter.tex
<-- better

So I've since minimised my template:
https://github.com/kaihendry/letterly/commit/45dd0a0de6590fb2466205f86ffa3cab7db5a780


I find marrying tex with a Web form quite a challenge. Perhaps someone
has already done the work? For example certain characters like # need
escaping. Is there a list?

There are certain commands I need to disable like braces
https://github.com/kaihendry/letterly/blob/master/www/pdf/index.php#L3
I am running in a container which should prevent an attacker "owning"
my system, but it seems very difficult to secure latex from malicious
input.

Has anyone converted markdown the latex? I simply want to be able to
write lists and embolden text and have that reflected in the output
without the jarring latex syntax.

How does one handle emojis or unicode? Since in my tests it doesn't work at all.

And last but not least, why is texlive-bin texlive-core (both seems
typically needed) about 1GB !?

Can't help but feel tex is headed into obsolescence.

Kind regards,

From ziegenhagen at gmail.com  Sat Jun 18 08:33:28 2016
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Sat, 18 Jun 2016 08:33:28 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <20160618055918.GH14671@logic.at>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at>
Message-ID: <CAML7JCjiKwT1ZFDbm26OVvRBgywAm2Xh9D6LUsqVPsW_RGdxaw@mail.gmail.com>

I can't come to TUG, too many things keeping me busy here right now.
Automated testing is a good idea. I can start an Etherpad this weekend to
collect the requirements. Git is fine for me of course.

Uwe

2016-06-18 7:59 GMT+02:00 Norbert Preining <preining at logic.at>:

> Hi Uwe,
>
> I think this is a nice idea, but needs good thinking. I don't want
> just a bunch of examples - all must be automatized and best
> included in our daily checks.
>
> I have pushed the L3 Team to include support for reproducible builds
> (SOURCE_DATE_EPOCH) into the l3build suite, and I am now working/thinking
> about setting up some environment so that package authors
> can upload tests, or we write them. These test would be run against
> l3build tester automatically during the nightly rebuild.
>
> For now I am thinking aobut hte following:
> * loading test:
>   - for every latex package (.sty file) if nothing is extra specified
>     for testts we try a simple document like:
>         \documentclass{article}
>         \usepackage{....}
>         \begin{document}Hellow Wolrd\end{document}
>     and make sure that hte generated pdf does not change under S_D_E
> settings.
>   - one can override the documentclass, engine, etc etc on a per sty
>     file
>   - one can submit more involved tests
> * other tests coming (combinations, user supplied)
>
> Well, that is all in very early stages and if I would have more
> time I would have written some code already - maybe during TUG 2016.
> Are you coming?
>
> Maybe intereted people can make a brain storming session during TUG.
>
> Also, I would prefer a git repository on github/lab or similar.
>
> On Sat, 18 Jun 2016, Uwe Ziegenhagen wrote:
> > I think it might be a good idea to create a general test suite for TeX
> Live
>
> All the best
>
> Norbert
>
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
>



-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160618/6fd55f61/attachment.html>

From komascript at gmx.info  Sat Jun 18 08:42:23 2016
From: komascript at gmx.info (Markus Kohm)
Date: Sat, 18 Jun 2016 08:42:23 +0200
Subject: [tex-live] Letter template
In-Reply-To: <CAF8XF0fj0GMXgjyCt8yGxjAR5nfF8Cs=2tLN0obtdKbamMnFkA@mail.gmail.com>
References: <CAF8XF0cPschdZDLsJFRDz5S5_p5aFkuxCj2qGHbnSDjc=ZAUyQ@mail.gmail.com>
 <CAC1phyZvaG813d3TvbstJ9rR_Rbbn94Qt+QdW9yu1T0cy82qgw@mail.gmail.com>
 <CAF8XF0fj0GMXgjyCt8yGxjAR5nfF8Cs=2tLN0obtdKbamMnFkA@mail.gmail.com>
Message-ID: <3737341.2bnjbHTBLL@x61s.fritz.box>

Am Samstag, 18. Juni 2016, 07:17:45 schrieb Kai Hendry:
> I don't even know how to
> change the font size or if I even need this lines

You should at least read an introduction to LaTeX, e.g. 
<http://ctan.org/pkg/lshort-english> or even <http://www.dickimaw-books.com/latex/novices/>.

After this you should be prepared to search and ask on 
<http://tex.stackexchange.com/>.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20160618/ba2f444f/attachment.bin>

From jfbu at free.fr  Sat Jun 18 09:31:04 2016
From: jfbu at free.fr (jfbu)
Date: Sat, 18 Jun 2016 09:31:04 +0200
Subject: [tex-live] 3.4.4 System font configuration for XeTEX and LuaTEX
In-Reply-To: <CAC1phybY5HP-9t3+4jmWDjMAqOe04QXxD3yvcHrfFRPDmHYHXQ@mail.gmail.com>
References: <04B5F63F-0F54-44EC-9C48-3D477FB4A899@free.fr>
 <201605132249.u4DMnYWS030466@freefriends.org>
 <CAC1phyY3PR7OxvZrc_Py-cvYtRDsksNxv+L+_XEd0d2ORnj40w@mail.gmail.com>
 <FFEAD54F-6BBD-4E22-B9C1-2F9ECBBA477A@free.fr>
 <CAC1phybY5HP-9t3+4jmWDjMAqOe04QXxD3yvcHrfFRPDmHYHXQ@mail.gmail.com>
Message-ID: <AFB7C148-E5DC-4EFE-A899-98E93FB3E7E8@free.fr>

Hi all,

with luaotfload 2.7-fix-3 now on CTAN, the symlinks are automatically filtered out from the database

Hence doing on mac os x 

ln -s /Library/TeX/Root/texmf-dist/fonts/opentype ~/Library/Fonts/TeXOpenType

ln -s /Library/TeX/Root/texmf-dist/fonts/truetype ~/Library/Fonts/TeXTrueType

to make all opentype/truetype fonts inside the texlive/mactex
tree visible to XeTeX hasn't anymore an impact on increased font
database for LuaTeX

Jean-Fran?ois

Le 16 mai 2016 ? 01:24, Zdenek Wagner <zdenek.wagner at gmail.com> a ?crit :

> Hi,
> 
> this is good to know. A friend of mine just copied all the font files which I do not consider good. Imagine that one year later you will have to remove TL fonts and install the new versions. Copying all files can then turn into a nightmare. This is why I sggested to try to symlink the directory tree. It is good news that it works.
> 
> I have not only the TL fonts but also a huge collection of commercial fonts. Yes, when I want to see the font list in any Linux application, it takes some time but I do not need it frequently. I prefer having the fonts available.
> 
> 
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
> 
> 2016-05-15 16:38 GMT+02:00 jfbu <jfbu at free.fr>:
> Hi
> 
> 
> Le 14 mai 2016 ? 09:37, Zdenek Wagner <zdenek.wagner at gmail.com> a
> ?crit :
> 
> >> 2016-05-14 0:49 GMT+02:00 Karl Berry <karl at freefriends.org>:
> >>     because in recent years I don't think that was the case.
> >>
> >> I suppose you're right. I'll have to ask about what can be
> >> sensibly said instead. Thanks.
> >>
> >>     Else one must use filenames, or fontspec with ExternalLocation
> >>
> >> Well, that's preferable anyway :). --karl
> > As I remember, someone has already mentioned that the font
> > instructions for Mac OSX are wrong.
> 
> I think that was me, a few weeks ago ;-) and perhaps also
> last year ;-)
> 
> Then the formulation changed but the new formulation says that
> things are automatically set-up for XeTeX on mac os x, which is
> wrong.
> 
> 
> > I do not have Mac so I cannot try whether it is really necessary
> > to copy the fonts, maybe the symlink would be sufficient. And I do
> > not know whether the font files must be symlinked, maybe just the
> > parent directory may be symlinked. I do not know whether Mac can
> > look for fonts into subdirectories.
> >
> 
> 1. I had not tried earlier the symlink approach because the Mac
> comes with FontBook app which has a concept of "Font Library"
> which one can add to it without having to copy or symlink the
> fonts. Also I feared that perhaps I would have to symlink
> individually files or many repertories.
> 
> The "Font Library" method initially seemed to work but I soon
> realized it was a nightmare, because FontBook.app is seriously
> broken (at least on Mavericks, but Herb indicates he also has had
> bad experiences).
> 
> Thus I dropped it some months ago and entered resignation mode.
> 
> (Michael Sharpe has some very nice extras to his font packages so
> that even when accessing a font by filename with xelatex one does
> not have to list explicitely the bold, italic, etc.. variants, but
> doing this for all fonts obviously requires extra work)
> 
> 2. But Herb Schulz gave me very good advice to simply symlink the
> texmf-dist/fonts/opentype (and I did also texmf-dist/fonts/truetype)
> from $HOME/Library/Fonts. The miracle is :
> 
> a. FontBook.app is still usable after that. There is only a
> slight delay in opening it, about two seconds during which the font
> list is prepared.
> 
> b. all fonts in sub-repertories are found nicely
> 
> c. there are a few duplicates between .otf and .ttf (FreeSerif,
> FreeSans, FreeMono in particular) but the FontBook GUI allows to
> choose which fonts to validate and this works with no hiccup.
> (which is surprising regarding FontBook.app)
> 
> d. there is slight disadvantage that some fonts with names
> starting with "drm" occupies many (dozens) lines in FontBook
> display, but that's cosmetic.
> 
> After my bad experience with the concept of "Font Library" I was
> very much surprised that simply putting symlinks worked out so
> well. Thanks Herb !
> 
> And I could confirm that after that, all the TeXLive distributed
> opentype/truetype fonts become generally available to Mac
> Applications such as TextEdit, OpenOffice, etc... and to XeTeX
> naturally. The delay I mentioned above applies only to FontBook.app,
> applications such as OpenOffice have their font popup instantly
> available with TeX Gyre Termes etc... and naturally XeTeX works
> with no delay either.
> 
> 3. There is perhaps an impact on LuaTeX+luaotfload, because the
> TeXLive distributed fonts will be indexed twice. I do not know if
> this slows down LuaTeX. I opened a ticked on github site of
> luaotfload about this asking for info.
> 
> https://github.com/lualatex/luaotfload/issues/359
> 
> 4. The specific way to symlink by Herb takes advantage of the
> TeXDist structure which has been part of MacTeX install for some
> years, in /Library/TeX. This way the symlinks are dynamical and
> obey on the fly change of TeXLive distribution year.
> 
> ln -s /Library/TeX/Root/texmf-dist/fonts/opentype
> ~/Library/Fonts/TeXOpenType
> 
> I did also
> 
> ln -s /Library/TeX/Root/texmf-dist/fonts/truetype
> ~/Library/Fonts/TeXTrueType
> 
> but had to resolve a few duplicates then as mentioned above.
> 
> (the point is that /Library/TeX/Root is already itself a symlink,
> and when changing distribution year via the former Panel or via
> TLU, its target is automatically updated)
> 
> 5. To make my story complete: took me a while to go to the root
> of the following problem. I was surprised to see that log files
> with \XeTeXtracingfonts1 indicated the opentype fonts were picked
> always from texlive/2015, even if working with TL2014 or TL2016
> pretest.
> 
> Turns out that my earlier attempt at adding TeXLive OpenType fonts
> to general mac os availability via a "Font Library" added to FontBook.app
> had resulted in some non-removed cache in /private/var/folders.
> 
> I looked
> in vain everywhere in my $HOME and in obvious system locations,
> for such a file, as it was obviously the only explanation to the
> observed behavior and was finally saved by the tip at
> 
> http://osxdaily.com/2015/01/08/clear-font-caches-databases-mac-os-x/
> 
> which is to do $ sudo atsutil databases -remove
> 
> it is important to reboot immediately after that.
> 
> This last item is only of relevance to people who messed up with
> FontBook.app before, I guess.
> 
> To sum up: For smooth experience with XeTeX on Mac OS X, some
> people (me following Herb) have found that
> 
> ln -s /Library/TeX/Root/texmf-dist/fonts/opentype ~/Library/Fonts/TeXOpenType
> 
> and
> 
> ln -s /Library/TeX/Root/texmf-dist/fonts/truetype ~/Library/Fonts/TeXTrueType
> 
> is a well-working approach. In some rare cases, it might be needed to do
> (before or after it does not matter)
> 
>    sudo atsutil databases -remove
> 
> and
> to reboot. That's only to clean-up a pre-existing dysfunctional font situation.
> 
> Hope it helps.
> 
> Jean-Fran?ois
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160618/2d6cc36d/attachment-0001.html>

From jfbu at free.fr  Sat Jun 18 10:44:40 2016
From: jfbu at free.fr (jfbu)
Date: Sat, 18 Jun 2016 10:44:40 +0200
Subject: [tex-live] xdvi on mac os
Message-ID: <E75AA064-EF84-4E64-B3A1-751CACDC57B7@free.fr>

Hi,

on mac os x  10.9.5, XQuartz 2.7.8 (xorg-server 1.16.4)

I have a problem with xdvi. Unfortunately I can't recall last time I used it. There is no backup available from tlmgr retore (besides, when the pretest period ended, I removed all backups).
$ tlmgr restore xdvi.x86_64-darwin
Available backups for xdvi.x86_64-darwin: 

(nothing)

Now, from an xterm launched in XQuartz

$ which xdvi
/Library/TeX/texbin/xdvi

$ xdvi &
[1] 55250

$ dyld: Library not loaded: /opt/X11/lib/libXt.7.dylib
  Referenced from: /Library/TeX/texbin/xdvi-xaw
  Reason: image not found

[1]+  Trace/BPT trap: 5       xdvi

After reverting to TL2015, works fine. (without even re-launching xterm).

State of memory makes it impossible for me to say if I tested during pretest or since. I believe Yes for pretest-period, but not sure.

The XQuartz as stated above is the 2.7.8, not the 2.7.9.

Best

Jean-Fran?ois






From siepo at cybercomm.nl  Sat Jun 18 12:38:11 2016
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sat, 18 Jun 2016 12:38:11 +0200
Subject: [tex-live] texcount on Windows fail because of Perl file
 missing from TeX Live distribution
In-Reply-To: <306071466104496@web16h.yandex.ru>
References: <306071466104496@web16h.yandex.ru>
Message-ID: <20160618103811.GA2920@bitmuis.thuis.internal>

On Thu, Jun 16, 2016 at 10:14:56PM +0300, Leonid Sinev wrote:
> Greetings, 
> 
> This problem already discussed at
> https://www.tug.org/pipermail/tex-live/2015-August/037293.html
> but nothing changed in TeXLive 2016.
> 
> Nothing changed after 
> http://tex.stackexchange.com/a/145766 advice
> of Win32::Console::ANSI from CPAN
> I have copied file from this package to
> C:\texlive\2016\tlpkg\tlperl\site\lib\Win32\Console\ANSI.pm
> and got this: 
> 
> Can't locate loadable object for module Win32::Console::ANSI in @INC (@INC conta ins: C:/texlive/2016/tlpkg/tlperl/lib c:/texlive/2016/tlpkg/tlperl/site/lib c:/t exlive/2016/tlpkg/tlperl/lib .) at c:\texlive\2016\texmf-dist\scripts\texcount\t excount.pl line 11.
> Compilation failed in require at c:\texlive\2016\texmf-dist\scripts\texcount\tex count.pl line 11.
> BEGIN failed--compilation aborted at c:\texlive\2016\texmf-dist\scripts\texcount \texcount.pl line 14.
> C:\texlive\2016\bin\win32\runscript.tlu:679: command failed with exit code 2: perl.exe c:\texlive\2016\texmf-dist\scripts\texcount\texcount.pl
> 
> Can there be a patch or update for TeXLive for windows that can make windows users use Perl scripts like texcount without need of additional perl installation or messing with additional packaging for tlperl?
> 
> --?
> Best regards,
> Leonid

1. This module includes a dll which would need to be added too.

2. MetaCPAN https://metacpan.org/pod/Win32::Console::ANSI lists a
   dependency Win32::Pipe which is not in tlperl either

As Karl noted, the included perl for windows does not aim to
support all included perl scripts.

-- 
Siep Kroonenberg

From mojca.miklavec.lists at gmail.com  Sat Jun 18 13:10:41 2016
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 18 Jun 2016 13:10:41 +0200
Subject: [tex-live] xdvi on mac os
In-Reply-To: <E75AA064-EF84-4E64-B3A1-751CACDC57B7@free.fr>
References: <E75AA064-EF84-4E64-B3A1-751CACDC57B7@free.fr>
Message-ID: <CALBOmsZDhCj0Px2ZqaiUdM55=fB_9mwuh65uGk2FO6v7ObJHtA@mail.gmail.com>

On 18 June 2016 at 10:44, jfbu <jfbu at free.fr> wrote:
> Hi,
>
> on mac os x  10.9.5, XQuartz 2.7.8 (xorg-server 1.16.4)
>
> I have a problem with xdvi.

You need to upgrade XQuartz to 2.7.9. There have been recent updates
of binaries (after the TL release) and there is no way to support both
2.7.8 and 2.7.9 at the same time with a single binary, so Dick decided
to support the latest version only.

Mojca

From jfbu at free.fr  Sat Jun 18 13:18:43 2016
From: jfbu at free.fr (jfbu)
Date: Sat, 18 Jun 2016 13:18:43 +0200
Subject: [tex-live] xdvi on mac os
In-Reply-To: <CALBOmsZDhCj0Px2ZqaiUdM55=fB_9mwuh65uGk2FO6v7ObJHtA@mail.gmail.com>
References: <E75AA064-EF84-4E64-B3A1-751CACDC57B7@free.fr>
 <CALBOmsZDhCj0Px2ZqaiUdM55=fB_9mwuh65uGk2FO6v7ObJHtA@mail.gmail.com>
Message-ID: <3D1282CD-7DD4-43D9-9CA9-0D33123C38E9@free.fr>


Le 18 juin 2016 ? 13:10, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :

> On 18 June 2016 at 10:44, jfbu <jfbu at free.fr> wrote:
>> Hi,
>> 
>> on mac os x  10.9.5, XQuartz 2.7.8 (xorg-server 1.16.4)
>> 
>> I have a problem with xdvi.
> 
> You need to upgrade XQuartz to 2.7.9. There have been recent updates
> of binaries (after the TL release) and there is no way to support both
> 2.7.8 and 2.7.9 at the same time with a single binary, so Dick decided
> to support the latest version only.
> 

Thanks! I thought I had followed that thread, but obviously I did
not quite get it.

But will XQuartz 2.7.9 be backwards compatible with xdvi binaries 
of bygone years ? 

It is very important to me to be able to switch back to one of the
earlier TeXLive on my computer,

JF

From chuck.newman at hpe.com  Sat Jun 18 04:34:46 2016
From: chuck.newman at hpe.com (Newman, Chuck)
Date: Sat, 18 Jun 2016 02:34:46 +0000
Subject: [tex-live] Error installing install-tl-unx.tar.gz
Message-ID: <TU4PR84MB00628F8188E5A163AF5C99108E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>

# ./install-tl
cannot contact mirror.ctan.org, returning a backbone server!
Loading http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
./tlpkg/installer/xz/xzdec.x86_64-linux: (stdin): File format not recognized
./install-tl: signature verification error of /tmp/0etZ_Fw4Ec/paQlkCVfEv from http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
  /tmp/0etZ_Fw4Ec/GiM4SAMCXi
against
  http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was
gpg: no valid OpenPGP data found.
gpg: the signature could not be verified.
Please remember that the signature file (.sig or .asc)
should be the first file given on the command line.

Please report to texlive at tug.org


From preining at logic.at  Sat Jun 18 16:08:46 2016
From: preining at logic.at (Norbert Preining)
Date: Sat, 18 Jun 2016 23:08:46 +0900
Subject: [tex-live] Error installing install-tl-unx.tar.gz
In-Reply-To: <TU4PR84MB00628F8188E5A163AF5C99108E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
References: <TU4PR84MB00628F8188E5A163AF5C99108E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
Message-ID: <20160618140846.GK14671@logic.at>

Hi Chuck,

> Loading http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
> ./tlpkg/installer/xz/xzdec.x86_64-linux: (stdin): File format not recognized

Is this reproducible? I just tried myself with the very same
mirror and didn't have any problems.

It seems that the download of the tlpdb.xz file failed.

Can you please retry and see if it works?

Do you have any proxies or filters on the way?

> ./install-tl: signature verification error of /tmp/0etZ_Fw4Ec/paQlkCVfEv from http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of

All the rest is just a continuation of the problems above.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From herries.press at earthlink.net  Sat Jun 18 20:03:11 2016
From: herries.press at earthlink.net (Peter Wilson)
Date: Sat, 18 Jun 2016 19:03:11 +0100
Subject: [tex-live] Letter template
In-Reply-To: <3737341.2bnjbHTBLL@x61s.fritz.box>
References: <CAF8XF0cPschdZDLsJFRDz5S5_p5aFkuxCj2qGHbnSDjc=ZAUyQ@mail.gmail.com>
 <CAC1phyZvaG813d3TvbstJ9rR_Rbbn94Qt+QdW9yu1T0cy82qgw@mail.gmail.com>
 <CAF8XF0fj0GMXgjyCt8yGxjAR5nfF8Cs=2tLN0obtdKbamMnFkA@mail.gmail.com>
 <3737341.2bnjbHTBLL@x61s.fritz.box>
Message-ID: <57658CDF.3060609@earthlink.net>



On 18/06/16 07:42, Markus Kohm wrote:
> Am Samstag, 18. Juni 2016, 07:17:45 schrieb Kai Hendry:
>> I don't even know how to
>> change the font size or if I even need this lines
> You should at least read an introduction to LaTeX, e.g.
> <http://ctan.org/pkg/lshort-english> or even <http://www.dickimaw-books.com/latex/novices/>.
>
> After this you should be prepared to search and ask on
> <http://tex.stackexchange.com/>.

Don't forget the standard LaTeX letter class.


From chuck.newman at hpe.com  Sat Jun 18 20:46:52 2016
From: chuck.newman at hpe.com (Newman, Chuck)
Date: Sat, 18 Jun 2016 18:46:52 +0000
Subject: [tex-live] Error installing install-tl-unx.tar.gz
In-Reply-To: <20160618140846.GK14671@logic.at>
References: <TU4PR84MB00628F8188E5A163AF5C99108E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
 <20160618140846.GK14671@logic.at>
Message-ID: <TU4PR84MB00620E60D5AC356A8B0C2C728E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>

Yes, I still get the same error, although the /tmp filename is different.  Below is what I got just now.  Yes, there is a proxy server that I have to go through.


# ./install-tl
cannot contact mirror.ctan.org, returning a backbone server!
Loading http://www.tex.ac.uk/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
./tlpkg/installer/xz/xzdec.x86_64-linux: (stdin): File format not recognized
./install-tl: signature verification error of /tmp/Y6yDS8DtAw/Qeut_ibPT4 from http://www.tex.ac.uk/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
  /tmp/Y6yDS8DtAw/9PCwZUJXXc
against
  http://www.tex.ac.uk/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was
gpg: no valid OpenPGP data found.
gpg: the signature could not be verified.
Please remember that the signature file (.sig or .asc)
should be the first file given on the command line.

Please report to texlive at tug.org

-----Original Message-----
From: Norbert Preining [mailto:preining at logic.at] 
Sent: Saturday, 18 June, 2016 10:09
To: Newman, Chuck <chuck.newman at hpe.com>
Cc: texlive at tug.org
Subject: Re: [tex-live] Error installing install-tl-unx.tar.gz

Hi Chuck,

> Loading http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
> ./tlpkg/installer/xz/xzdec.x86_64-linux: (stdin): File format not recognized

Is this reproducible? I just tried myself with the very same
mirror and didn't have any problems.

It seems that the download of the tlpdb.xz file failed.

Can you please retry and see if it works?

Do you have any proxies or filters on the way?

> ./install-tl: signature verification error of /tmp/0etZ_Fw4Ec/paQlkCVfEv from http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of

All the rest is just a continuation of the problems above.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13


From esbati at gmx.de  Sat Jun 18 23:47:20 2016
From: esbati at gmx.de (Arash Esbati)
Date: Sat, 18 Jun 2016 23:47:20 +0200
Subject: [tex-live] egreg.txt in LaTeX base
Message-ID: <nk4fhp$g24$1@ger.gmane.org>

Hi all,

with the latest update for LaTeX base, there comes a file named
`egreg.txt':

    $ tlmgr info --list latex | grep egreg
        texmf-dist/doc/latex/base/egreg.txt

The file looks like a snippet from a chat on tex.sx.  Is this on
purpose?

Best, Arash


From d.p.carlisle at gmail.com  Sun Jun 19 00:24:30 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 18 Jun 2016 23:24:30 +0100
Subject: [tex-live] egreg.txt in LaTeX base
In-Reply-To: <nk4fhp$g24$1@ger.gmane.org>
References: <nk4fhp$g24$1@ger.gmane.org>
Message-ID: <CAEW6iOg67WzHUA378_bH4ykEqp2X0ANbkd1+XzZX2rdDsCG8dw@mail.gmail.com>

oops:-)

will remove for next time, thanks

David

On 18 June 2016 at 22:47, Arash Esbati <esbati at gmx.de> wrote:
> Hi all,
>
> with the latest update for LaTeX base, there comes a file named
> `egreg.txt':
>
>     $ tlmgr info --list latex | grep egreg
>         texmf-dist/doc/latex/base/egreg.txt
>
> The file looks like a snippet from a chat on tex.sx.  Is this on
> purpose?
>
> Best, Arash
>



-- 
http://dpcarlisle.blogspot.com/

From koch at uoregon.edu  Sun Jun 19 01:28:30 2016
From: koch at uoregon.edu (Richard Koch)
Date: Sat, 18 Jun 2016 16:28:30 -0700
Subject: [tex-live] xdvi on mac os
Message-ID: <68C7A3F4-C18E-4E22-94CF-D8738D012645@uoregon.edu>

JF asked "but will XQuartz 2.7.9 be backward compatible with
xdvi binaries of bygone years?".

I'm in San Francisco for the opera: Carmen last night, Don Carlos
tonight, Jenufu tomorrow.

The answer is that you cannot have everything (and thus the
answer is NO). TeX Live protects itself against library changes
by including its own copy of most important libraries. Thus if
you run TeX Live 2014, you are running binaries compiled with
an older version of libpng, or popler, or icu, but you are
also running older versions of these libraries. One exception
is common libraries like the standard C library, but these are
usually upward compatible. Mac 64 bit binaries, for example, were
compiled on Snow Leopard.

X11 is a special case because it is a fundamental library on Linux
machines, so TeX Live doesn't contain it.

You can install the latest XQuartz on Snow Leopard and above, 
so all our machines can run the latest binaries.

But do older binaries of xdvi run on these machines after
they have been updated to the latest XQuartz. Luckily,
my traveling portable has the 2012, 2013, and 2014 binaries, 
so I can test, and the answer is NO.

Usually users need xdvi for "isolated checks", and it is easy
enough to switch to TeXLive 2016 temporarily and make that check.

Since this email is essentially a piece of bad news, let me end
with some good news. I am running MacTeX-2016 and TeX Live 2016,
and doing these checks, in Sierra.

Dick Koch


From reinhard.kotucha at web.de  Sun Jun 19 04:12:44 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 19 Jun 2016 04:12:44 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <20160618055918.GH14671@logic.at>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at>
Message-ID: <22373.65436.46521.354964@zaphod.ms25.net>

On 2016-06-18 at 14:59:18 +0900, Norbert Preining wrote:

 > Hi Uwe,
 > 
 > I think this is a nice idea, but needs good thinking. I don't want
 > just a bunch of examples - all must be automatized and best
 > included in our daily checks.

Hi Uwe and Norbert,
maybe it's worthwhile to know how Thomas Esser tested all the packages
before they were included in teTeX.

Thomas said that his tests were never supposed to detect all problems
but a package should at least be able to compile its own
documentation.  Thus he created a Makefile for each and every package
he supported.

Even this was an enormous amount of work.  teTeX was a small subset of
TeX Live, hence it was feasible.  But TeX Live was always much bigger
and grew rapidly since then.

Compiling package documentation is a good starting point.  If a
package comes with a .dtx file, the process can probably be
automatized, but I fear that most packages require manual
intervention.

An other point comes to my mind.  Occasionally people report that some
dependencies in texlive.tlpdb are incorrect.  Of course, it's
difficult to get everything correct.  But if there is a halfway
comprehensive test suite we can probably determine dependencies from
the log files.  Another approach is to run TeX with the --recorder
option on these files and evaluate the .fls files afterwards.

I don't think that the dependencies in texlive.tlpdb can be determined
automatically but I'm convinced that a halfway comprehensive test
suite can provide useful information.

Uwe's idea is, as far as I understand, to create files which load many
packages at once.  This reduces the mumber of required tests
significantly.  The caveat is that some packages are overlooked
because Uwe doesn't use them.

After all, I like Uwe's idea.  In TeX parlance:

  \let\uwe\proceed

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From preining at logic.at  Sun Jun 19 07:31:11 2016
From: preining at logic.at (Norbert Preining)
Date: Sun, 19 Jun 2016 14:31:11 +0900
Subject: [tex-live] Error installing install-tl-unx.tar.gz
In-Reply-To: <TU4PR84MB00620E60D5AC356A8B0C2C728E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
References: <TU4PR84MB00628F8188E5A163AF5C99108E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
 <20160618140846.GK14671@logic.at>
 <TU4PR84MB00620E60D5AC356A8B0C2C728E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
Message-ID: <20160619053111.GP14671@logic.at>

Hi CHuck,

again, I am seriously believe that something in your network setup 
is broken. It seems that the proxy needs some login, or whatever.

> cannot contact mirror.ctan.org, returning a backbone server!

First of all, this is *strange*. It means that you cannot connect.

So my guess is the following:

Your proxy allows only a certain set of "User Agents" - that means
that a User Agent of LWP or so is blocked. That would explain

If you have
	lwp-download
installed, can you try
	lwp-download http://mirror.ctan.org
and send the output of it, probably saved into "index" named file.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Sun Jun 19 08:32:00 2016
From: jfbu at free.fr (jfbu)
Date: Sun, 19 Jun 2016 08:32:00 +0200
Subject: [tex-live] xdvi on mac os
In-Reply-To: <68C7A3F4-C18E-4E22-94CF-D8738D012645@uoregon.edu>
References: <68C7A3F4-C18E-4E22-94CF-D8738D012645@uoregon.edu>
Message-ID: <81DDA609-5D3D-4809-89A0-19E022884B0E@free.fr>


Hi Dick, 

> JF asked "but will XQuartz 2.7.9 be backward compatible with
> xdvi binaries of bygone years?".
> 
> I'm in San Francisco for the opera: Carmen last night, Don Carlos
> tonight, Jenufu tomorrow.

that's quite a treat ! reminds me of the technique my dentist
employed last time to get me relaxed ;-)

> 
> The answer is that you cannot have everything (and thus the
> answer is NO).
> [...]

thanks for taking time to explain. It was implicit or even
explicit from earlier messages, but I did not then read
closely enough. I always have the possibility to archive
my current XQuartz 2.7.8, and ressuscitating it in my /opt for
one-shot occasions could be as easy as executing
a script (although I am not sure about the /Applications
part). And, it is true that I don't  expect too much trouble
if my xdvi use is tied to TL2016.
Jean-Fran?ois




From zdenek.wagner at gmail.com  Sun Jun 19 09:30:51 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 19 Jun 2016 09:30:51 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <22373.65436.46521.354964@zaphod.ms25.net>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
Message-ID: <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>

Hi all,

the idea of automated tested was here more than a year ago and I explained
that I consider it impossible. Nobody knows which set of packages will be
used in a document created by each user. It is only possible to create
subsets of test files. It happened to my zwpagelayout package, it did not
work for one user at all. After the bug report I found conflicting
packages, therefore I added code to cope with it. I still cannot guarantee
that it will work with every package (it does not work with xcolor and the
support of RTL is very limited). Without loading such packages you cannot
find the problem and it took a few years before somebody did it. In this
case the error appeared when the package was loaded, but for instance if
you have path.sty together with any package loading url.sty (for instance
hyperref), the packages wil load without errors but it will fail when
typesetting the URL.

If you load a lot of packages into a single document, it is more probable
that new clashes will be detected but then it might be difficult to find
the reason. Moreover, it sometimes depends on the order of packages.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2016-06-19 4:12 GMT+02:00 Reinhard Kotucha <reinhard.kotucha at web.de>:

> On 2016-06-18 at 14:59:18 +0900, Norbert Preining wrote:
>
>  > Hi Uwe,
>  >
>  > I think this is a nice idea, but needs good thinking. I don't want
>  > just a bunch of examples - all must be automatized and best
>  > included in our daily checks.
>
> Hi Uwe and Norbert,
> maybe it's worthwhile to know how Thomas Esser tested all the packages
> before they were included in teTeX.
>
> Thomas said that his tests were never supposed to detect all problems
> but a package should at least be able to compile its own
> documentation.  Thus he created a Makefile for each and every package
> he supported.
>
> Even this was an enormous amount of work.  teTeX was a small subset of
> TeX Live, hence it was feasible.  But TeX Live was always much bigger
> and grew rapidly since then.
>
> Compiling package documentation is a good starting point.  If a
> package comes with a .dtx file, the process can probably be
> automatized, but I fear that most packages require manual
> intervention.
>
> An other point comes to my mind.  Occasionally people report that some
> dependencies in texlive.tlpdb are incorrect.  Of course, it's
> difficult to get everything correct.  But if there is a halfway
> comprehensive test suite we can probably determine dependencies from
> the log files.  Another approach is to run TeX with the --recorder
> option on these files and evaluate the .fls files afterwards.
>
> I don't think that the dependencies in texlive.tlpdb can be determined
> automatically but I'm convinced that a halfway comprehensive test
> suite can provide useful information.
>
> Uwe's idea is, as far as I understand, to create files which load many
> packages at once.  This reduces the mumber of required tests
> significantly.  The caveat is that some packages are overlooked
> because Uwe doesn't use them.
>
> After all, I like Uwe's idea.  In TeX parlance:
>
>   \let\uwe\proceed
>
> Regards,
>   Reinhard
>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160619/e84b5e9e/attachment-0001.html>

From jfbu at free.fr  Sun Jun 19 09:38:37 2016
From: jfbu at free.fr (jfbu)
Date: Sun, 19 Jun 2016 09:38:37 +0200
Subject: [tex-live] xdvi on mac os
In-Reply-To: <81DDA609-5D3D-4809-89A0-19E022884B0E@free.fr>
References: <68C7A3F4-C18E-4E22-94CF-D8738D012645@uoregon.edu>
 <81DDA609-5D3D-4809-89A0-19E022884B0E@free.fr>
Message-ID: <9E2799C3-A3AA-48C5-865B-ECEBFF13F4E6@free.fr>



>> 
>> JF asked "but will XQuartz 2.7.9 be backward compatible with
>> xdvi binaries of bygone years?".
> 
>> 
>> The answer is that you cannot have everything (and thus the
>> answer is NO).
>> [...]
> 

perhaps I should simply use the currently distributed xdvi, xdvi-xaw
as compiled by Dick to work with XQuartz 2.7.9 and copy them or
symlink them from 2016 to the earlier TeXLive ? wouldn't that work ?

thus my earlier texlive/YYYY would be slightly altered but with 
a functional xdvi ?

Best,

Jean-Fran?ois

From mojca.miklavec.lists at gmail.com  Sun Jun 19 09:42:38 2016
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 19 Jun 2016 09:42:38 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
Message-ID: <CALBOmsbXB0D7hQyxaHhjs8n+H_3K-sZuHCB5h2GX9qdtZCvi6g@mail.gmail.com>

On 19 June 2016 at 09:30, Zdenek Wagner wrote:
> Hi all,
>
> the idea of automated tested was here more than a year ago and I explained
> that I consider it impossible.

It is certainly impossible to create a complete test suite that would
catch any problem one could run into.

But that doesn't mean (and shouldn't be an excuse) that a group of
volunteers couldn't come up with a "small" test suite to cover at
least the most basic functionality and to prevent cases with packages
not loading at all.

I would imagine that such a test suite should be able to raise an
alarm during the latest magyar.ldf update (even though I still argue
that it wouldn't prevent a savy TeX user from tricking CTAN and TL
into accepting a formally valid tex file with super weird
functionality).

Mojca

From jfbu at free.fr  Sun Jun 19 09:54:23 2016
From: jfbu at free.fr (jfbu)
Date: Sun, 19 Jun 2016 09:54:23 +0200
Subject: [tex-live] xdvi on mac os
In-Reply-To: <9E2799C3-A3AA-48C5-865B-ECEBFF13F4E6@free.fr>
References: <68C7A3F4-C18E-4E22-94CF-D8738D012645@uoregon.edu>
 <81DDA609-5D3D-4809-89A0-19E022884B0E@free.fr>
 <9E2799C3-A3AA-48C5-865B-ECEBFF13F4E6@free.fr>
Message-ID: <826480F0-B2CF-4E5D-99E1-988506DF8A0A@free.fr>


Le 19 juin 2016 ? 09:38, jfbu <jfbu at free.fr> a ?crit :

> 
> 
>>> 
>>> JF asked "but will XQuartz 2.7.9 be backward compatible with
>>> xdvi binaries of bygone years?".
>> 
>>> 
>>> The answer is that you cannot have everything (and thus the
>>> answer is NO).
>>> [...]
>> 
> 
> perhaps I should simply use the currently distributed xdvi, xdvi-xaw
> as compiled by Dick to work with XQuartz 2.7.9 and copy them or
> symlink them from 2016 to the earlier TeXLive ? wouldn't that work ?
> 

Hello world example works (tried with TL2012's xdvi-xaw replaced by a 
symlink to TL2016's xdvi-xaw) I don't know anything about the innards of
xdvi and which libraries it uses and whether symlinking it in this way
to something away from PATH is ok. (I recall that some years ago
it started using some t1lib which avoided pk fonts, that's all)



> thus my earlier texlive/YYYY would be slightly altered but with 
> a functional xdvi ?

JF



From preining at logic.at  Sun Jun 19 10:17:16 2016
From: preining at logic.at (Norbert Preining)
Date: Sun, 19 Jun 2016 17:17:16 +0900
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CALBOmsbXB0D7hQyxaHhjs8n+H_3K-sZuHCB5h2GX9qdtZCvi6g@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <CALBOmsbXB0D7hQyxaHhjs8n+H_3K-sZuHCB5h2GX9qdtZCvi6g@mail.gmail.com>
Message-ID: <20160619081716.GR14671@logic.at>

> It is certainly impossible to create a complete test suite that would
> catch any problem one could run into.
> 
> But that doesn't mean (and shouldn't be an excuse) that a group of
> volunteers couldn't come up with a "small" test suite to cover at

For me the "one big test file" was anyway never of interest.

Of course we cannot check all code path in a sty file in an automated
way - this must be left for the author.

What I want is
* automated testing of simple load functionality
* provide infrastructure (via l3build and maybe some extra infos)
  for package authros to provide more complete tests that can
  be part of an automated testing environment for TL

> I would imagine that such a test suite should be able to raise an
> alarm during the latest magyar.ldf update (even though I still argue

Yes, typical case which a simple load test would exhibit.

Same with many other case. Eg the recent shellesc which should have
been loadable by plain tex, but wasn't. These things are
testable in an automated way. We only need to start providing
a easy to use infra and start writing a few tests.

... *only* ...

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From ziegenhagen at gmail.com  Sun Jun 19 10:39:20 2016
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Sun, 19 Jun 2016 10:39:20 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <20160619081716.GR14671@logic.at>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <CALBOmsbXB0D7hQyxaHhjs8n+H_3K-sZuHCB5h2GX9qdtZCvi6g@mail.gmail.com>
 <20160619081716.GR14671@logic.at>
Message-ID: <5DD3F71D-C62B-48D8-BAA5-1BA5256F8CAA@gmail.com>

I have a few ideas, let me get back to You later today 

Von meinem iPhone gesendet

Am 19.06.2016 um 10:17 schrieb Norbert Preining <preining at logic.at>:

>> It is certainly impossible to create a complete test suite that would
>> catch any problem one could run into.
>> 
>> But that doesn't mean (and shouldn't be an excuse) that a group of
>> volunteers couldn't come up with a "small" test suite to cover at
> 
> For me the "one big test file" was anyway never of interest.
> 
> Of course we cannot check all code path in a sty file in an automated
> way - this must be left for the author.
> 
> What I want is
> * automated testing of simple load functionality
> * provide infrastructure (via l3build and maybe some extra infos)
>  for package authros to provide more complete tests that can
>  be part of an automated testing environment for TL
> 
>> I would imagine that such a test suite should be able to raise an
>> alarm during the latest magyar.ldf update (even though I still argue
> 
> Yes, typical case which a simple load test would exhibit.
> 
> Same with many other case. Eg the recent shellesc which should have
> been loadable by plain tex, but wasn't. These things are
> testable in an automated way. We only need to start providing
> a easy to use infra and start writing a few tests.
> 
> ... *only* ...
> 
> Norbert
> 
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Sun Jun 19 11:05:31 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 19 Jun 2016 11:05:31 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <20160619081716.GR14671@logic.at>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <CALBOmsbXB0D7hQyxaHhjs8n+H_3K-sZuHCB5h2GX9qdtZCvi6g@mail.gmail.com>
 <20160619081716.GR14671@logic.at>
Message-ID: <CAC1phya3tCnhm6EZfQz9NQ9X6U-NReVf1KpLxCHuzXRwMup5LA@mail.gmail.com>

016-06-19 10:17 GMT+02:00 Norbert Preining <preining at logic.at>:
>
> > It is certainly impossible to create a complete test suite that would
> > catch any problem one could run into.
> >
> > But that doesn't mean (and shouldn't be an excuse) that a group of
> > volunteers couldn't come up with a "small" test suite to cover at
>
> For me the "one big test file" was anyway never of interest.
>
> Of course we cannot check all code path in a sty file in an automated
> way - this must be left for the author.
>
> What I want is
> * automated testing of simple load functionality
> * provide infrastructure (via l3build and maybe some extra infos)
>   for package authros to provide more complete tests that can
>   be part of an automated testing environment for TL


I would be very happy to have such infrastructure. I have some tiny tests used
during development of my packages but they are private, I do not include them
in the version for CTAN. If you decide to offer suchan infreastructure, I can
publish my tests that could be automated (some test files require visual check).
>
>
> > I would imagine that such a test suite should be able to raise an
> > alarm during the latest magyar.ldf update (even though I still argue
>
> Yes, typical case which a simple load test would exhibit.
>
> Same with many other case. Eg the recent shellesc which should have
> been loadable by plain tex, but wasn't. These things are
> testable in an automated way. We only need to start providing
> a easy to use infra and start writing a few tests.
>
> ... *only* ...
>
> Norbert




Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2
>
>
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13


From zdenek.wagner at gmail.com  Sun Jun 19 11:06:35 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 19 Jun 2016 11:06:35 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <5DD3F71D-C62B-48D8-BAA5-1BA5256F8CAA@gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <CALBOmsbXB0D7hQyxaHhjs8n+H_3K-sZuHCB5h2GX9qdtZCvi6g@mail.gmail.com>
 <20160619081716.GR14671@logic.at>
 <5DD3F71D-C62B-48D8-BAA5-1BA5256F8CAA@gmail.com>
Message-ID: <CAC1phyZWpPpetPLSX1s9=2w_6y4Fv-g=851gRm4+vPkYYtwjdw@mail.gmail.com>

2016-06-19 10:39 GMT+02:00 Uwe Ziegenhagen <ziegenhagen at gmail.com>:
> I have a few ideas, let me get back to You later today
>
I will also be interested.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz



> Von meinem iPhone gesendet
>
> Am 19.06.2016 um 10:17 schrieb Norbert Preining <preining at logic.at>:
>
>>> It is certainly impossible to create a complete test suite that would
>>> catch any problem one could run into.
>>>
>>> But that doesn't mean (and shouldn't be an excuse) that a group of
>>> volunteers couldn't come up with a "small" test suite to cover at
>>
>> For me the "one big test file" was anyway never of interest.
>>
>> Of course we cannot check all code path in a sty file in an automated
>> way - this must be left for the author.
>>
>> What I want is
>> * automated testing of simple load functionality
>> * provide infrastructure (via l3build and maybe some extra infos)
>>  for package authros to provide more complete tests that can
>>  be part of an automated testing environment for TL
>>
>>> I would imagine that such a test suite should be able to raise an
>>> alarm during the latest magyar.ldf update (even though I still argue
>>
>> Yes, typical case which a simple load test would exhibit.
>>
>> Same with many other case. Eg the recent shellesc which should have
>> been loadable by plain tex, but wasn't. These things are
>> testable in an automated way. We only need to start providing
>> a easy to use infra and start writing a few tests.
>>
>> ... *only* ...
>>
>> Norbert
>>
>> --
>> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
>> GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13


From reinhard.kotucha at web.de  Sun Jun 19 11:13:05 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 19 Jun 2016 11:13:05 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at>	<22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
Message-ID: <22374.25121.269329.71735@zaphod.ms25.net>

On 2016-06-19 at 09:30:51 +0200, Zdenek Wagner wrote:

 > Hi all,
 > 
 > the idea of automated tested was here more than a year ago and I
 > explained that I consider it impossible. Nobody knows which set of
 > packages will be used in a document created by each user. It is
 > only possible to create subsets of test files.

Dear Zden?k,
I fully agree with you. But I don't think that a test is useless
only because it doesn't catch all possible errors.

What I propose is to

  \let\uwe\proceed

Zden?k, I'm certainly much more pessimistic than you, but I think that
we should allow Uwe to prove that our assumptions are wrong.

The only alternative I can imagine is to do nothing.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From ziegenhagen at gmail.com  Sun Jun 19 21:00:25 2016
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Sun, 19 Jun 2016 21:00:25 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <22374.25121.269329.71735@zaphod.ms25.net>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <22374.25121.269329.71735@zaphod.ms25.net>
Message-ID: <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>

I created a Etherpad instance to collect some thoughts: I think that even
visual checks might not be necessary if we calculate statistical summaries
for a given output.

https://piratenpad.de/p/TeXLiveTesting

I commute each day approx. 2 hours, I'll start some design approach
tomorrow-

Uwe

2016-06-19 11:13 GMT+02:00 Reinhard Kotucha <reinhard.kotucha at web.de>:

> On 2016-06-19 at 09:30:51 +0200, Zdenek Wagner wrote:
>
>  > Hi all,
>  >
>  > the idea of automated tested was here more than a year ago and I
>  > explained that I consider it impossible. Nobody knows which set of
>  > packages will be used in a document created by each user. It is
>  > only possible to create subsets of test files.
>
> Dear Zden?k,
> I fully agree with you. But I don't think that a test is useless
> only because it doesn't catch all possible errors.
>
> What I propose is to
>
>   \let\uwe\proceed
>
> Zden?k, I'm certainly much more pessimistic than you, but I think that
> we should allow Uwe to prove that our assumptions are wrong.
>
> The only alternative I can imagine is to do nothing.
>
> Regards,
>   Reinhard
>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>
>


-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160619/2c4f1157/attachment.html>

From zdenek.wagner at gmail.com  Sun Jun 19 21:25:12 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 19 Jun 2016 21:25:12 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <22374.25121.269329.71735@zaphod.ms25.net>
 <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
Message-ID: <CAC1phyZTKPa+eCNVPBJ4BLvf0gXxZ_do+kNzsiGnN88B1R4CEw@mail.gmail.com>

Wouldn't it be better to use lua instead of python? Python is
automatically installed on Linux but not on Windows, on the other hand
lua is a part of TeX Live, hence it always exists.
Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-06-19 21:00 GMT+02:00 Uwe Ziegenhagen <ziegenhagen at gmail.com>:
> I created a Etherpad instance to collect some thoughts: I think that even
> visual checks might not be necessary if we calculate statistical summaries
> for a given output.
>
> https://piratenpad.de/p/TeXLiveTesting
>
> I commute each day approx. 2 hours, I'll start some design approach
> tomorrow-
>
> Uwe
>
> 2016-06-19 11:13 GMT+02:00 Reinhard Kotucha <reinhard.kotucha at web.de>:
>>
>> On 2016-06-19 at 09:30:51 +0200, Zdenek Wagner wrote:
>>
>>  > Hi all,
>>  >
>>  > the idea of automated tested was here more than a year ago and I
>>  > explained that I consider it impossible. Nobody knows which set of
>>  > packages will be used in a document created by each user. It is
>>  > only possible to create subsets of test files.
>>
>> Dear Zden?k,
>> I fully agree with you. But I don't think that a test is useless
>> only because it doesn't catch all possible errors.
>>
>> What I propose is to
>>
>>   \let\uwe\proceed
>>
>> Zden?k, I'm certainly much more pessimistic than you, but I think that
>> we should allow Uwe to prove that our assumptions are wrong.
>>
>> The only alternative I can imagine is to do nothing.
>>
>> Regards,
>>   Reinhard
>>
>> --
>> ------------------------------------------------------------------
>> Reinhard Kotucha                            Phone: +49-511-3373112
>> Marschnerstr. 25
>> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
>> ------------------------------------------------------------------
>>
>
>
>
> --
> Dr. Uwe Ziegenhagen
> <http://www.uweziegenhagen.de>


From ziegenhagen at gmail.com  Sun Jun 19 21:30:12 2016
From: ziegenhagen at gmail.com (Uwe Ziegenhagen)
Date: Sun, 19 Jun 2016 21:30:12 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAC1phyZTKPa+eCNVPBJ4BLvf0gXxZ_do+kNzsiGnN88B1R4CEw@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <22374.25121.269329.71735@zaphod.ms25.net>
 <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
 <CAC1phyZTKPa+eCNVPBJ4BLvf0gXxZ_do+kNzsiGnN88B1R4CEw@mail.gmail.com>
Message-ID: <CAML7JCitrmq9jw6YPwFz8pZMzWeTW0cZhvVv+y-1To+UPk5GBg@mail.gmail.com>

Maybe but my Lua Skills are non-existing, my Python skills improving on a
daily basis.

Let's see if it works at all, then we can find a way.

Uwe



2016-06-19 21:25 GMT+02:00 Zdenek Wagner <zdenek.wagner at gmail.com>:

> Wouldn't it be better to use lua instead of python? Python is
> automatically installed on Linux but not on Windows, on the other hand
> lua is a part of TeX Live, hence it always exists.
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
>
>
> 2016-06-19 21:00 GMT+02:00 Uwe Ziegenhagen <ziegenhagen at gmail.com>:
> > I created a Etherpad instance to collect some thoughts: I think that even
> > visual checks might not be necessary if we calculate statistical
> summaries
> > for a given output.
> >
> > https://piratenpad.de/p/TeXLiveTesting
> >
> > I commute each day approx. 2 hours, I'll start some design approach
> > tomorrow-
> >
> > Uwe
> >
> > 2016-06-19 11:13 GMT+02:00 Reinhard Kotucha <reinhard.kotucha at web.de>:
> >>
> >> On 2016-06-19 at 09:30:51 +0200, Zdenek Wagner wrote:
> >>
> >>  > Hi all,
> >>  >
> >>  > the idea of automated tested was here more than a year ago and I
> >>  > explained that I consider it impossible. Nobody knows which set of
> >>  > packages will be used in a document created by each user. It is
> >>  > only possible to create subsets of test files.
> >>
> >> Dear Zden?k,
> >> I fully agree with you. But I don't think that a test is useless
> >> only because it doesn't catch all possible errors.
> >>
> >> What I propose is to
> >>
> >>   \let\uwe\proceed
> >>
> >> Zden?k, I'm certainly much more pessimistic than you, but I think that
> >> we should allow Uwe to prove that our assumptions are wrong.
> >>
> >> The only alternative I can imagine is to do nothing.
> >>
> >> Regards,
> >>   Reinhard
> >>
> >> --
> >> ------------------------------------------------------------------
> >> Reinhard Kotucha                            Phone: +49-511-3373112
> >> Marschnerstr. 25
> >> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> >> ------------------------------------------------------------------
> >>
> >
> >
> >
> > --
> > Dr. Uwe Ziegenhagen
> > <http://www.uweziegenhagen.de>
>



-- 
Dr. Uwe Ziegenhagen
<http://www.uweziegenhagen.de>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160619/ec787df9/attachment.html>

From d.p.carlisle at gmail.com  Sun Jun 19 21:34:53 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 19 Jun 2016 20:34:53 +0100
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAML7JCitrmq9jw6YPwFz8pZMzWeTW0cZhvVv+y-1To+UPk5GBg@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <22374.25121.269329.71735@zaphod.ms25.net>
 <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
 <CAC1phyZTKPa+eCNVPBJ4BLvf0gXxZ_do+kNzsiGnN88B1R4CEw@mail.gmail.com>
 <CAML7JCitrmq9jw6YPwFz8pZMzWeTW0cZhvVv+y-1To+UPk5GBg@mail.gmail.com>
Message-ID: <CAEW6iOiBnGYsJR8MUfvK5Y6kk4z+CA-3mn+9tb8_uO8p8Zb7eg@mail.gmail.com>

On 19 June 2016 at 20:30, Uwe Ziegenhagen <ziegenhagen at gmail.com> wrote:
> Maybe but my Lua Skills are non-existing, my Python skills improving on a
> daily basis.
>
> Let's see if it works at all, then we can find a way.
>
> Uwe
>

the existing (lua) l3build framework could be used as a model of a
cross platform tex test suite.

Using texlua as the scripting engine has proved pretty successful in
making testing and building
packages work in all texlive supported environments.

David

From karl at freefriends.org  Sun Jun 19 23:33:41 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 19 Jun 2016 21:33:41 +0000
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
Message-ID: <201606192133.u5JLXf7r019275@freefriends.org>

All I have to add is that my previous attempt at automated testing
(years and years ago) is in ./Build/tests.  The directory names will
give the idea:

./Build/tests/
Makefile	 dvi-latex0-small2e/   largefile/
README		 dvi-latex1-sample2e/  pdf-context0-hello/
asytestlibs.asy  dvi-latex2-pdfprim/   pdf-context4-select/
checkdvi.pl*	 dvi-latex5-tugboat/   pdf-latex0-small2e/
checkpdf.pl*	 dvi-tex0-story/       pdf-tex0-story/
common.mak	 dvi-tex5-tugboat/     tryconcat/

My approach for PDF (DVI is easy) was to make images and compare them.
Turned out to be impractical, not surprisingly.

The advent of l3build and "reproducible builds" for PDF should make the
idea much more viable.  -k

P.S.
> https://piratenpad.de/p/TeXLiveTesting

I don't understand why you put ideas in some read-only temporary url.
Here is the text you wrote, for reading/archival on the mailing list
like everything else in the thread.

Thoughts regarding automated TeX LIVE Testing

Requirements

* must run on at least Mac OS, Windows and Linux, more platforms are appreciated
* shall not require manual checks
* shall be self contained
* shall test a majority of user scenarios (letters, reports, books, etc.)
* many small tests may be helpful, bigger test scenarios must not be omitted (I, for example, ran a 600 pages dissertation as part of my testing)
* cannot test each and every scenario users may come across


Design Ideas

* use python (as I know it best)
* make use of its unit test facilities
* run a testcase by calling TeX engine n-times on specific file
* check if the process ended properly
* proper process ending does not mean that file is correct
* Gather statistics on file: Size, number of pages, ...
* Convert generated file to image and run imagemagick to collect statistical data. 
* Compare statistical data to known result. If theshold > level ==> testcase failed.

From karl at freefriends.org  Mon Jun 20 00:08:40 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 19 Jun 2016 22:08:40 +0000
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <22373.65436.46521.354964@zaphod.ms25.net>
Message-ID: <201606192208.u5JM8edJ026549@freefriends.org>

    Another approach is to run TeX with the --recorder
    option on these files and evaluate the .fls files afterwards.

For the record, some months ago I wrote a script
./Master/tlpkg/bin/check-fmttriggers to do this -- get package
dependencies from .fls files -- for format builds.  It's how the
fmttriggers= settings in tlpdb are defined.  I run it regularly since
changes in the dependencies, while not frequent, certainly happen from
time to time.

If long lists of dependencies were being created for lots of packages,
updating them would have to be automated also, one way or another.
Certainly doable, no particular problem, just something to remember and
not start down the road of doing it manually.

Anyway, the hard part is setting up meaningful and re-runnable tests.
Good luck.  -k

From zdenek.wagner at gmail.com  Mon Jun 20 00:20:06 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 20 Jun 2016 00:20:06 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <201606192208.u5JM8edJ026549@freefriends.org>
References: <22373.65436.46521.354964@zaphod.ms25.net>
 <201606192208.u5JM8edJ026549@freefriends.org>
Message-ID: <CAC1phyb1HJx_uED-mSL2hK-xZ0qnCxonCusyacDYnGng8eK2xg@mail.gmail.com>

And I have just found that my xevlna.sty silently does not work ?
because the number of character classes has changed... I will have to
fix it...

Such things can hardly be verified automatically...
Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-06-20 0:08 GMT+02:00 Karl Berry <karl at freefriends.org>:
>     Another approach is to run TeX with the --recorder
>     option on these files and evaluate the .fls files afterwards.
>
> For the record, some months ago I wrote a script
> ./Master/tlpkg/bin/check-fmttriggers to do this -- get package
> dependencies from .fls files -- for format builds.  It's how the
> fmttriggers= settings in tlpdb are defined.  I run it regularly since
> changes in the dependencies, while not frequent, certainly happen from
> time to time.
>
> If long lists of dependencies were being created for lots of packages,
> updating them would have to be automated also, one way or another.
> Certainly doable, no particular problem, just something to remember and
> not start down the road of doing it manually.
>
> Anyway, the hard part is setting up meaningful and re-runnable tests.
> Good luck.  -k


From zarniwhoop at ntlworld.com  Mon Jun 20 00:45:54 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sun, 19 Jun 2016 23:45:54 +0100
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <201606192133.u5JLXf7r019275@freefriends.org>
References: <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
 <201606192133.u5JLXf7r019275@freefriends.org>
Message-ID: <20160619224554.GB10411@milliways.localdomain>

On Sun, Jun 19, 2016 at 09:33:41PM +0000, Karl Berry wrote:

(replying to Uwe, I think)

> All I have to add is that my previous attempt at automated testing
> (years and years ago) is in ./Build/tests.  The directory names will
> give the idea:
> 
> ./Build/tests/
> Makefile	 dvi-latex0-small2e/   largefile/
> README		 dvi-latex1-sample2e/  pdf-context0-hello/
> asytestlibs.asy  dvi-latex2-pdfprim/   pdf-context4-select/
> checkdvi.pl*	 dvi-latex5-tugboat/   pdf-latex0-small2e/
> checkpdf.pl*	 dvi-tex0-story/       pdf-tex0-story/
> common.mak	 dvi-tex5-tugboat/     tryconcat/
> 
> My approach for PDF (DVI is easy) was to make images and compare them.
> Turned out to be impractical, not surprisingly.

Which has an impact on the points you've copied in below (thanks for
doing that - it always helps if links can be read at some point in
the future).
> 
> The advent of l3build and "reproducible builds" for PDF should make the
> idea much more viable.  -k
> 
> P.S.
> > https://piratenpad.de/p/TeXLiveTesting
> 
> I don't understand why you put ideas in some read-only temporary url.
> Here is the text you wrote, for reading/archival on the mailing list
> like everything else in the thread.
> 
> Thoughts regarding automated TeX LIVE Testing
> 
> Requirements
> 
> * must run on at least Mac OS, Windows and Linux, more platforms are appreciated
> * shall not require manual checks

Nice if you can achieve it.

> * shall be self contained


I don't think I understand what you mean - e.g. you mention using
ImageMagik which is a separate program, and probably there will be
other external programs.

> * shall test a majority of user scenarios (letters, reports, books, etc.)

In my limited experience (and to be honest, I'm dubious about
posting on this because my latex skills are so limited) the fun
comes from various things within the texsphere - letters, reports,
etc should be tested but they may be tangential to likely problems.

I have my own tests for Beyond Linuxfromscratch which I mentioned
the other day, but they are fairly minimal and do require manual
review (I adapted my xindy tests to make sure the index did get
created - but only after some changes in how _I_ built it caused
failures).  And they are definitely not useful in general although
they should work on any 'nix-ish system with bash and a PDF viewer.

> * many small tests may be helpful, bigger test scenarios must not be omitted (I, for example, ran a 600 pages dissertation as part of my testing)

I know that CPU power continues to increase, and tests can be run in
parallel if you can keep the details separate, but for repeated
testing smaller is probably better.

> * cannot test each and every scenario users may come across
> 
Indeed, that is why people have to test for themselves.

> 
> Design Ideas
> 
> * use python (as I know it best)
> * make use of its unit test facilities

For a proof of concept, whatever you are familiar with.

> * run a testcase by calling TeX engine n-times on specific file

This I do not understand.  I understand using the engine the
required number of times - and interspersing that with calls to
other parts of TeX such as xindy or asymptote - but I'm not at all
clear what you are proposing.

> * check if the process ended properly

I don't know about your preferred python (I try to avoid scripting
languages where whitespace is important ;) but when my own tests run
from a Makefile hang in TeX I have to key 'x' to stop.  And
sometimes TeX reports normal status but part of the test did not
work.

> * proper process ending does not mean that file is correct
> * Gather statistics on file: Size, number of pages, ...
> * Convert generated file to image and run imagemagick to collect statistical data. 

This goes back to what Karl wrote above - what guarantee is there
that the version of ImageMagick you use today will give the same
results as the next version you happen to use ?

Also, I have no experience in using ImageMagick to split a
multi-page PDF into individual page images, but I suspect there
might be a large overhead and perhaps other tools such as qpdf may
be better for that.

> * Compare statistical data to known result. If theshold > level ==> testcase failed.

I'm not a statistician, but I suspect that the degree of acceptable
variation will probably differ for each test.

Interesting ideas, and don't let me discourage you.

?en
-- 
                       War is Peace
                    Freedom is Slavery
                   Ignorance is Strength

From werner at suse.de  Mon Jun 20 09:13:26 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Mon, 20 Jun 2016 09:13:26 +0200
Subject: [tex-live] TL2016: latexpand perl script is fragile as it depends
 on perl version
Message-ID: <20160620071326.k65vtndvfzp2auvy@boole.suse.de>

Hi,

... lines like

   my ($_, $prefix, $file) = @_;

in sub process_line or 

                 if (!$keep_comments && $line =~ /^[ \t]*\\end{document}/) {

in sub process_file
do not work well with all perl versions out there, compare with

   https://bugzilla.opensuse.org/show_bug.cgi?id=983823

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160620/7fd2e1d5/attachment.bin>

From zdenek.wagner at gmail.com  Mon Jun 20 11:08:05 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 20 Jun 2016 11:08:05 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <20160619224554.GB10411@milliways.localdomain>
References: <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
 <201606192133.u5JLXf7r019275@freefriends.org>
 <20160619224554.GB10411@milliways.localdomain>
Message-ID: <CAC1phyaZtHHKX4DFnC2BWU__Jd6y-UbNcLHuUtfe__TM4ZHPSg@mail.gmail.com>

2016-06-20 0:45 GMT+02:00 Ken Moffat <zarniwhoop at ntlworld.com>:
> On Sun, Jun 19, 2016 at 09:33:41PM +0000, Karl Berry wrote:
>
> (replying to Uwe, I think)
>
>> All I have to add is that my previous attempt at automated testing
>> (years and years ago) is in ./Build/tests.  The directory names will
>> give the idea:
>>
>> ./Build/tests/
>> Makefile       dvi-latex0-small2e/   largefile/
>> README                 dvi-latex1-sample2e/  pdf-context0-hello/
>> asytestlibs.asy  dvi-latex2-pdfprim/   pdf-context4-select/
>> checkdvi.pl*   dvi-latex5-tugboat/   pdf-latex0-small2e/
>> checkpdf.pl*   dvi-tex0-story/       pdf-tex0-story/
>> common.mak     dvi-tex5-tugboat/     tryconcat/
>>
>> My approach for PDF (DVI is easy) was to make images and compare them.
>> Turned out to be impractical, not surprisingly.
>
> Which has an impact on the points you've copied in below (thanks for
> doing that - it always helps if links can be read at some point in
> the future).
>>
>> The advent of l3build and "reproducible builds" for PDF should make the
>> idea much more viable.  -k
>>
>> P.S.
>> > https://piratenpad.de/p/TeXLiveTesting
>>
>> I don't understand why you put ideas in some read-only temporary url.
>> Here is the text you wrote, for reading/archival on the mailing list
>> like everything else in the thread.
>>
>> Thoughts regarding automated TeX LIVE Testing
>>
>> Requirements
>>
>> * must run on at least Mac OS, Windows and Linux, more platforms are appreciated
>> * shall not require manual checks
>
> Nice if you can achieve it.
>
>> * shall be self contained
>
>
> I don't think I understand what you mean - e.g. you mention using
> ImageMagik which is a separate program, and probably there will be
> other external programs.
>
I hope I understand this idea. It replaces the need of visual check.
Suppose you have an output from TeX Live "year-1" and the output from
the latest versions. Both have equal number of pages. You can now
convert the pages to images and use ImageMagick to subtract them.
Ideally the resul should be white pages. You can them make a test to
distinguish different pages from rounding errors.

>> * shall test a majority of user scenarios (letters, reports, books, etc.)
>
> In my limited experience (and to be honest, I'm dubious about
> posting on this because my latex skills are so limited) the fun
> comes from various things within the texsphere - letters, reports,
> etc should be tested but they may be tangential to likely problems.
>
> I have my own tests for Beyond Linuxfromscratch which I mentioned
> the other day, but they are fairly minimal and do require manual
> review (I adapted my xindy tests to make sure the index did get
> created - but only after some changes in how _I_ built it caused
> failures).  And they are definitely not useful in general although
> they should work on any 'nix-ish system with bash and a PDF viewer.
>
There is a philosophy around the trip and trap tests made by D. E.
Knuth. He tests a lot of things that can be verified automatically,
does not do such tests that require  visual check because users will
spot it during normal work.

>> * many small tests may be helpful, bigger test scenarios must not be omitted (I, for example, ran a 600 pages dissertation as part of my testing)
>
> I know that CPU power continues to increase, and tests can be run in
> parallel if you can keep the details separate, but for repeated
> testing smaller is probably better.
>
Minimal tests are much better not becaus they run faster but because
they clearly say what went wrong.

>> * cannot test each and every scenario users may come across
>>
> Indeed, that is why people have to test for themselves.
>
>>
>> Design Ideas
>>
>> * use python (as I know it best)
>> * make use of its unit test facilities
>
> For a proof of concept, whatever you are familiar with.
>
>> * run a testcase by calling TeX engine n-times on specific file
>
> This I do not understand.  I understand using the engine the
> required number of times - and interspersing that with calls to
> other parts of TeX such as xindy or asymptote - but I'm not at all
> clear what you are proposing.
>
>> * check if the process ended properly
>
> I don't know about your preferred python (I try to avoid scripting
> languages where whitespace is important ;) but when my own tests run
> from a Makefile hang in TeX I have to key 'x' to stop.  And
> sometimes TeX reports normal status but part of the test did not
> work.
>
I have the same feeling, I do not like a language where a white space
is an important element. I do not need python for my work (I just have
it installed) but as you could see in another thread, even perl
scripts distributed with TL do not work in Windows. I would not be
surprized if a Windows version of python were incomplete. The
existence of lua in TL motivates me to learn lua, not python.

The status code is not the best way to use in such tests. It will be
necessary to analyze the log file. The test files can be designed in
such a way that the analysis of the log should not be difficult.

>> * proper process ending does not mean that file is correct
>> * Gather statistics on file: Size, number of pages, ...
>> * Convert generated file to image and run imagemagick to collect statistical data.
>
> This goes back to what Karl wrote above - what guarantee is there
> that the version of ImageMagick you use today will give the same
> results as the next version you happen to use ?
>
There are basic operations that must always work. First the number of
pages must match and the page size must match, if not, the output is
not equivalent. Unless there is a bug in ImageMagick, subtraction must
work and calculation of non-white pixels must work. It is not
necessary to use sophisticated filters that may (and probably will)
depend on the version of ImageMagick. Anyway, this test need not be
the most important.

> Also, I have no experience in using ImageMagick to split a
> multi-page PDF into individual page images, but I suspect there
> might be a large overhead and perhaps other tools such as qpdf may
> be better for that.
>
>> * Compare statistical data to known result. If theshold > level ==> testcase failed.
>
> I'm not a statistician, but I suspect that the degree of acceptable
> variation will probably differ for each test.
>
Not for the text but for the font. If you use the same resolution, the
roundoff errors in both documents will be the same but if the font is
updated and the glyphs are modified, you will get a different output
even if the metrics of the font remained unchanged. It might be useful
to subtract the images and before counting the non-white pixels apply
a filter based on algorithms of mathematical gnostics. It will remove
noise but retain patterns that signal real differences.

> Interesting ideas, and don't let me discourage you.
>
> ?en


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From beebe at math.utah.edu  Mon Jun 20 14:07:09 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon, 20 Jun 2016 06:07:09 -0600
Subject: [tex-live] mirroring beebe's binaries
In-Reply-To: <CALBOmsbOMwb9pfWUe9XccWUzKCjq3-1Vnjvv1TUrLfFtroAZWw@mail.gmail.com>
Message-ID: <CMM.0.96.0.1466424429.beebe@gamma.math.utah.edu>

>> This no longer works.
>> rsync://ftp.math.utah.edu/texlive/bin is no longer there.

That is because of a small change that I made yesterday after
prompting from Karl Berry about an inconsistency in naming.

% rsync rsync://ftp.math.utah.edu/
CTAN            all of ftp://ctan.tug.org/                                          [huge: > 31GB]
bib             TeX User Group bibliography archive                                 [> 5GB]
bibnet          BibNet Project bibliography archive                                 [about 0.3GB]
historic        archive of past TeX distributions and files                         [huge: > 150GB]
texlive         all of ftp://ftp.math.utah.edu/pub/ctan/tex-archive/systems/texlive [> 6GB]
texlive-pretest all of ftp://ftp.math.utah.edu/pub/texlive-pretest/                 [> 4GB]
TUHS            The Unix Heritage Society (TUHS) mirror                             [> 3GB]

Thus, you can pull the pretest tree with the binaries over like this:

	rsync -a rsync://ftp.math.utah.edu/texlive-pretest texlive-pretest

The pretest tree is not intended to be a part of TeX Live, just a place
where I can record experiences from building the system on many machines,
and deposit binaries for them.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From chuck.newman at hpe.com  Mon Jun 20 17:00:58 2016
From: chuck.newman at hpe.com (Newman, Chuck)
Date: Mon, 20 Jun 2016 15:00:58 +0000
Subject: [tex-live] Error installing install-tl-unx.tar.gz
In-Reply-To: <20160619053111.GP14671@logic.at>
References: <TU4PR84MB00628F8188E5A163AF5C99108E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
 <20160618140846.GK14671@logic.at>
 <TU4PR84MB00620E60D5AC356A8B0C2C728E280@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>
 <20160619053111.GP14671@logic.at>
Message-ID: <TU4PR84MB0062636AD210DFD005A709738E2A0@TU4PR84MB0062.NAMPRD84.PROD.OUTLOOK.COM>

Norbert --

The server is on a hidden network (10. address) behind a server inside our corporate environment.  I suppose there are several ways the process could break down.  I am able to install .rpms from the web using yum, so not everything is broken.

I've decided instead to install from DVD, so am downloading the .iso image from my target machine:
	firefox 'http://mirror.unl.edu/ctan/systems/texlive/Images/texlive.iso'

I expect that should work well.  If not, I'll install on a different server and move /usr/local/texlive over to my target server.

Thank you for your quick replies.

							-- Chuck Newman
-----Original Message-----
From: Norbert Preining [mailto:preining at logic.at] 
Sent: Sunday, 19 June, 2016 01:31
To: Newman, Chuck <chuck.newman at hpe.com>
Cc: texlive at tug.org
Subject: Re: [tex-live] Error installing install-tl-unx.tar.gz

Hi CHuck,

again, I am seriously believe that something in your network setup 
is broken. It seems that the proxy needs some login, or whatever.

> cannot contact mirror.ctan.org, returning a backbone server!

First of all, this is *strange*. It means that you cannot connect.

So my guess is the following:

Your proxy allows only a certain set of "User Agents" - that means
that a User Agent of LWP or so is blocked. That would explain

If you have
	lwp-download
installed, can you try
	lwp-download http://mirror.ctan.org
and send the output of it, probably saved into "index" named file.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13


From joseph.wright at morningstar2.co.uk  Mon Jun 20 17:51:57 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 20 Jun 2016 16:51:57 +0100
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAEW6iOiBnGYsJR8MUfvK5Y6kk4z+CA-3mn+9tb8_uO8p8Zb7eg@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at> <22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <22374.25121.269329.71735@zaphod.ms25.net>
 <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
 <CAC1phyZTKPa+eCNVPBJ4BLvf0gXxZ_do+kNzsiGnN88B1R4CEw@mail.gmail.com>
 <CAML7JCitrmq9jw6YPwFz8pZMzWeTW0cZhvVv+y-1To+UPk5GBg@mail.gmail.com>
 <CAEW6iOiBnGYsJR8MUfvK5Y6kk4z+CA-3mn+9tb8_uO8p8Zb7eg@mail.gmail.com>
Message-ID: <96054516-5df1-6a2d-526c-dde892deebc0@morningstar2.co.uk>

On 19/06/2016 20:34, David Carlisle wrote:
> On 19 June 2016 at 20:30, Uwe Ziegenhagen <ziegenhagen at gmail.com> wrote:
>> Maybe but my Lua Skills are non-existing, my Python skills improving on a
>> daily basis.
>>
>> Let's see if it works at all, then we can find a way.
>>
>> Uwe
>>
> 
> the existing (lua) l3build framework could be used as a model of a
> cross platform tex test suite.
> 
> Using texlua as the scripting engine has proved pretty successful in
> making testing and building
> packages work in all texlive supported environments.
> 
> David

I'd strongly suggest taking a look over l3build before anyone expends
effort in scripting something new. Whilst it's about more than just
testing, the core idea goes back a long way (see
http://tug.org/TUGboat/tb35-3/tb111mitt-l3build.pdf).

As detailed in
http://mirrors.ctan.org/macros/latex/contrib/l3build/l3build.pdf, it
does log-based testing with Lua doing the 'grind' and uses system
utilities for the diff step (if required). (The team and so l3build
needs to work cross-platform, so this works on *nix and Windows.) As
Norbert has noted, we've recently added PDF-based comparisons as this
will be potentially-useful for cases where log-based methods are not so
useful.

I'd also point to the automated testing we've set up:
https://travis-ci.org/latex3/latex3. (Travis-CI is one of many choices,
this is just a convenient way of running the tests on a VM we don't have
to maintain.) In amongst our own tests there are a small number for
third-party code (https://github.com/latex3/latex3/tree/master/contrib).
I talked about this at the UK-TUG meeting last year:
http://river-valley.zeeba.tv/why-does-it-always-fail-on-me-automating-testing-using-travis-ci/.

Joseph


From karl at freefriends.org  Tue Jun 21 01:23:18 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 20 Jun 2016 23:23:18 +0000
Subject: [tex-live] TL2016: latexpand perl script is fragile as it
 depends on perl version
In-Reply-To: <20160620071326.k65vtndvfzp2auvy@boole.suse.de>
Message-ID: <201606202323.u5KNNIMb019003@freefriends.org>

Hi Werner,

    Subject: [tex-live] TL2016: latexpand perl script is fragile as it depends

I wish Perl had not made that backward-incompatible change, but anyway,
latexpand is not maintained by TL, we just import the package from CTAN.
You can find the maintainer email at the top of the script.  --best, karl.

From karl at freefriends.org  Tue Jun 21 01:35:42 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 20 Jun 2016 23:35:42 +0000
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <96054516-5df1-6a2d-526c-dde892deebc0@morningstar2.co.uk>
Message-ID: <201606202335.u5KNZgRM021161@freefriends.org>

    > * Convert generated file to image and run imagemagick to collect
    > * statistical data.

FWIW,I have done some image comparisons over the years using imagemagick
(there are some excellent web pages from anthony thyssen about it), and
I am extremely skeptical that statistical image comparison will work.

    jw> I'd strongly suggest taking a look over l3build 

FWIW, I fully agree.  l3build is the way!

    km> using ImageMagick to split a multi-page PDF into individual page images

Imagemagick just delegates to gs for PDF operations, as far as I know.
Personally, I'd just use gs directly.  It could also be done with
pdf(la)tex itself, e.g., with the pdfjam scripts for convenience.
If it's really needed to split PDF output in the first place, which is
certainly premature to be discussing.

    km> when my own tests run from a Makefile hang in TeX I have to key 'x'

Aside, but FWIW, alternatives:
tex '\nonstopmode\input ...'
or -interaction=nonstopmode, 
or </dev/null.

(I run TeX from a Makefile 99% of the time, and I never want interaction.)

k

From reinhard.kotucha at web.de  Tue Jun 21 02:12:38 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 21 Jun 2016 02:12:38 +0200
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <CAML7JCitrmq9jw6YPwFz8pZMzWeTW0cZhvVv+y-1To+UPk5GBg@mail.gmail.com>
References: <CAML7JCiPby4JbJxmPoHNkxS=0mpuhRZDGXObPMMuhZZvWR6L=A@mail.gmail.com>
 <20160618055918.GH14671@logic.at>	<22373.65436.46521.354964@zaphod.ms25.net>
 <CAC1phybQ+C-P3nUbXyz=VC7tE065UqPMSqA2Nqrp3C7X0xmPPw@mail.gmail.com>
 <22374.25121.269329.71735@zaphod.ms25.net>
 <CAML7JCiWGnnAonNKoa-a0bFRCtQgaCSX_y+qW23cgj=Wt-3e1A@mail.gmail.com>
 <CAC1phyZTKPa+eCNVPBJ4BLvf0gXxZ_do+kNzsiGnN88B1R4CEw@mail.gmail.com>
 <CAML7JCitrmq9jw6YPwFz8pZMzWeTW0cZhvVv+y-1To+UPk5GBg@mail.gmail.com>
Message-ID: <22376.34422.711429.520771@zaphod.ms25.net>

On 2016-06-19 at 21:30:12 +0200, Uwe Ziegenhagen wrote:

 > Maybe but my Lua Skills are non-existing, my Python skills
 > improving on a daily basis.

Vice versa here.  However, I've bought a book about Python some time
ago and have the impression that the main concepts are the same or at
least very similar.  Thus, you benefit a lot from your knowledge about
Python.  Since Lua is a small language, there is much less you have to
learn.

As other people mentioned already, TeXLua has two important
advantages: it's the most portable programming language in the TeX
world, and the LaTeX team is using TeXLua already for regression
tests.  The latter is an important point because the infrastructure
exists already.

Uwe, I know that it is an extra burden to learn two programming
languages at the same time.  But Lua is much less complex than Python.

The definite source is the book "Programming in Lua", see:

  https://www.lua.org/docs.html

This book is nicely written, easy to understand, and though it's not
very verbose at all, it contains everything you need.

The current version of the Reference Manual is available online (see
link above).

If you just want to know how things are done in Lua which you already
can do in Python, the Lua Tutorial is quite helpful:

  http://lua-users.org/wiki/TutorialDirectory

You definitely don't have to study all tutorials.  Some of them
explain things you never need.

 > Let's see if it works at all, then we can find a way.

I'm convinced that if you provide a Python script and someone converts
it to Lua, you will write your next script in Lua anyway because you
recognize that it's quite easy. ;)

Please consult the tutorial in order to compare Python with Lua.  Your
knowledge about Python is helpful because the concepts are very
similar.  And if you have a question, don't hesitate to ask.  In my
opinion TeXLua is by far the best approach.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From Gunner.Gewiss at posteo.de  Mon Jun 20 23:42:35 2016
From: Gunner.Gewiss at posteo.de (=?UTF-8?Q?Gunner_Gewi=c3=9f?=)
Date: Mon, 20 Jun 2016 23:42:35 +0200
Subject: [tex-live] ERROR: cannot build FMT files since update to TeXLive
 2016 (Linux: OpenSuSE)
Message-ID: <730f2b8f-1fd4-2844-0c11-38457c9d2d4f@posteo.de>

Dear all,

my system is OpenSuSE Leap 42.1, with the following repositories as its
base: <https://github.com/gunnersson/my_archive/blob/master/repos.repo.txt>.

Since my update to TeXLive 2016 I cannot build needed FMT files any more.

The log
<https://github.com/gunnersson/my_archive/blob/master/fmtutil-sys_--all.log.txt>
says
"! I can't find file `pdftexconfig.tex'."
and
"! I can't find file `pdftexconfig.tex'."
as well as
"! I can't find file `loadhyph-af.tex'."

This did not happen before.

Any ideas, any help? Very appreciated. TIA (many thanks).

Thank you and kind regards,

Gunner

From rpspringuel at gmail.com  Tue Jun 21 03:42:40 2016
From: rpspringuel at gmail.com (R. Padraic Springuel)
Date: Mon, 20 Jun 2016 21:42:40 -0400
Subject: [tex-live] General test suite for TeX-Live
In-Reply-To: <201606202335.u5KNZgRM021161@freefriends.org>
References: <201606202335.u5KNZgRM021161@freefriends.org>
Message-ID: <5328D804-69C7-42FC-826B-8F2DF7DF8AF7@gmail.com>

As an example of using imagemagik to compare pdf outputs, people might want to take a look at the gregorio-test repository on GitHub (https://github.com/gregorio-project/gregorio-test). While our infrastructure is bash based, we use imagemagik to check the output from using our package against a previously produced known good model.  Furthermore, by specifying the paper size and a font which is provided locally in the test repository, we're able to do this across both Mac and Linux systems running in both the US and Europe. 

????????????????????????
Br. Samuel, OSB
(R. Padraic Springuel)
PAX ? ???????

On Jun 20, 2016, at 7:35 PM, Karl Berry <karl at freefriends.org> wrote:

>> * Convert generated file to image and run imagemagick to collect
>> * statistical data.
> 
> FWIW,I have done some image comparisons over the years using imagemagick
> (there are some excellent web pages from anthony thyssen about it), and
> I am extremely skeptical that statistical image comparison will work.
> 
>    jw> I'd strongly suggest taking a look over l3build 
> 
> FWIW, I fully agree.  l3build is the way!
> 
>    km> using ImageMagick to split a multi-page PDF into individual page images
> 
> Imagemagick just delegates to gs for PDF operations, as far as I know.
> Personally, I'd just use gs directly.  It could also be done with
> pdf(la)tex itself, e.g., with the pdfjam scripts for convenience.
> If it's really needed to split PDF output in the first place, which is
> certainly premature to be discussing.
> 
>    km> when my own tests run from a Makefile hang in TeX I have to key 'x'
> 
> Aside, but FWIW, alternatives:
> tex '\nonstopmode\input ...'
> or -interaction=nonstopmode, 
> or </dev/null.
> 
> (I run TeX from a Makefile 99% of the time, and I never want interaction.)
> 
> k
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160620/b6f712e4/attachment-0001.html>

From preining at logic.at  Tue Jun 21 07:40:47 2016
From: preining at logic.at (Norbert Preining)
Date: Tue, 21 Jun 2016 14:40:47 +0900
Subject: [tex-live] ERROR: cannot build FMT files since update to
 TeXLive 2016 (Linux: OpenSuSE)
In-Reply-To: <730f2b8f-1fd4-2844-0c11-38457c9d2d4f@posteo.de>
References: <730f2b8f-1fd4-2844-0c11-38457c9d2d4f@posteo.de>
Message-ID: <C43DC20E-490F-4AE9-A0A1-F53759B01F6E@logic.at>

Hi Gunner

This looks like a SuSE packaged version of TeX Live - we cannot help here a lot as this mailing list is for upstream TeX Live.

I guess it is best for you to send a bug report via the usual SuSE channels. It simply looks like some files are missing in the packaging.

All the best

Norbert

On June 21, 2016 6:42:35 AM GMT+09:00, "Gunner Gewi?" <Gunner.Gewiss at posteo.de> wrote:
>Dear all,
>
>my system is OpenSuSE Leap 42.1, with the following repositories as its
>base:
><https://github.com/gunnersson/my_archive/blob/master/repos.repo.txt>.
>
>Since my update to TeXLive 2016 I cannot build needed FMT files any
>more.
>
>The log
><https://github.com/gunnersson/my_archive/blob/master/fmtutil-sys_--all.log.txt>
>says
>"! I can't find file `pdftexconfig.tex'."
>and
>"! I can't find file `pdftexconfig.tex'."
>as well as
>"! I can't find file `loadhyph-af.tex'."
>
>This did not happen before.
>
>Any ideas, any help? Very appreciated. TIA (many thanks).
>
>Thank you and kind regards,
>
>Gunner

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From Gunner.Gewiss at posteo.de  Tue Jun 21 10:08:38 2016
From: Gunner.Gewiss at posteo.de (=?UTF-8?Q?Gunner_Gewi=c3=9f?=)
Date: Tue, 21 Jun 2016 10:08:38 +0200
Subject: [tex-live] ERROR: cannot build FMT files since update to
 TeXLive 2016 (Linux: OpenSuSE)
In-Reply-To: <C43DC20E-490F-4AE9-A0A1-F53759B01F6E@logic.at>
References: <730f2b8f-1fd4-2844-0c11-38457c9d2d4f@posteo.de>
 <C43DC20E-490F-4AE9-A0A1-F53759B01F6E@logic.at>
Message-ID: <a844605a-26fb-52a0-6acb-45bfafb56b42@posteo.de>

SOLVED! :-)

I declared the TeXLive installation on my OpenSuSE as broken and
completely re-installed it. Now, it works.

Sorry for any inconvenience.

Gunner

Am 21.06.2016 um 07:40 schrieb Norbert Preining:
> I guess it is best for you to send a bug report via the usual SuSE channels. It simply looks like some files are missing in the packaging.
> On June 21, 2016 6:42:35 AM GMT+09:00, "Gunner Gewi?" <Gunner.Gewiss at posteo.de> wrote:
>> Since my update to TeXLive 2016 I cannot build needed FMT files any
>> more.

From norbert at preining.info  Tue Jun 21 10:15:03 2016
From: norbert at preining.info (Norbert Preining)
Date: Tue, 21 Jun 2016 17:15:03 +0900
Subject: [tex-live] TeX Live Testing - call for participants
Message-ID: <20160621081503.GG14671@logic.at>

Dear all,

to get something started on a more substantial level, I have created
an organization at github called
	TeX-Live
	https://github.com/TeX-Live
and within that a first reposiotry
	tltesting
	https://github.com/TeX-Live/tltesting
by now there is only a minimal README, but I have collected my
and Uwe's ideas plus other things that went over the line here.

I invite everyone interested to apply for membership in this
organization and we can work on tltesting together.

Since the ideas page is a wiki pafge, everyone can add new ideas
and design proposals for now.

In the next days I will upload simple examples for l3build testing
of loading and maybe pdf testing.

Hope that helps

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From norbert at preining.info  Tue Jun 21 10:23:29 2016
From: norbert at preining.info (Norbert Preining)
Date: Tue, 21 Jun 2016 17:23:29 +0900
Subject: [tex-live] TeX Live Testing - call for participants
In-Reply-To: <20160621081503.GG14671@logic.at>
References: <20160621081503.GG14671@logic.at>
Message-ID: <20160621082329.GI14671@logic.at>

Hi all, forgot the Wiki URL:

On Tue, 21 Jun 2016, Norbert Preining wrote:
> Dear all,
> 
> to get something started on a more substantial level, I have created
> an organization at github called
> 	TeX-Live
> 	https://github.com/TeX-Live
> and within that a first reposiotry
> 	tltesting
> 	https://github.com/TeX-Live/tltesting
> by now there is only a minimal README, but I have collected my
> and Uwe's ideas plus other things that went over the line here.

... into a Wiki page:
https://github.com/TeX-Live/tltesting/wiki

> I invite everyone interested to apply for membership in this
> organization and we can work on tltesting together.
> 
> Since the ideas page is a wiki pafge, everyone can add new ideas
> and design proposals for now.
> 
> In the next days I will upload simple examples for l3build testing
> of loading and maybe pdf testing.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Tue Jun 21 11:07:04 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 21 Jun 2016 11:07:04 +0200
Subject: [tex-live] TeX Live Testing - call for participants
In-Reply-To: <20160621082329.GI14671@logic.at>
References: <20160621081503.GG14671@logic.at> <20160621082329.GI14671@logic.at>
Message-ID: <CAC1phyZGJFzAuJ_mLS1Cw0mX6E1S2v5idF78aAEfQt9J81xtAA@mail.gmail.com>

2016-06-21 10:23 GMT+02:00 Norbert Preining <norbert at preining.info>:
> Hi all, forgot the Wiki URL:
>
Hi all,

I will certainly be interested. It will even help me to learn git (I
have to learn it anyway).

> On Tue, 21 Jun 2016, Norbert Preining wrote:
>> Dear all,
>>
>> to get something started on a more substantial level, I have created
>> an organization at github called
>>       TeX-Live
>>       https://github.com/TeX-Live
>> and within that a first reposiotry
>>       tltesting
>>       https://github.com/TeX-Live/tltesting
>> by now there is only a minimal README, but I have collected my
>> and Uwe's ideas plus other things that went over the line here.
>
> ... into a Wiki page:
> https://github.com/TeX-Live/tltesting/wiki
>
>> I invite everyone interested to apply for membership in this
>> organization and we can work on tltesting together.
>>
>> Since the ideas page is a wiki pafge, everyone can add new ideas
>> and design proposals for now.
>>
>> In the next days I will upload simple examples for l3build testing
>> of loading and maybe pdf testing.
>
> Norbert
>
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From beebe at math.utah.edu  Tue Jun 21 23:46:47 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 21 Jun 2016 15:46:47 -0600
Subject: [tex-live]  rsync to Utah TeX Live 2016 binaries, redux
Message-ID: <CMM.0.96.0.1466545607.beebe@gamma.math.utah.edu>

I have made what I hope will be a final change in the rsync
configuration for the Utah TeX Live 2016 binaries:

	% rsync rsync://ftp.math.utah.edu/
	...
	texlive-utah    all of ftp://ftp.math.utah.edu/pub/texlive-utah/                    [> 4GB]
	...

The path component texlive-utah is a symlink to the local directory
texlive, so the tree can also be accessed via FTP and Web clients as

	ftp://ftp.math.utah.edu/pub/texlive/
	http://www.math.utah.edu/pub/texlive/
	http://www.math.utah.edu/pub/texlive-utah/

In retrospect, it was a mistake on my part to have named the local
pretest work directory texlive, but that has now been recorded by at
least the Google search engine, so it cannot be changed.

As far as I know, our University does not pay any of the search engine
companies for more frequent global indexing, and it seems that new
additions to our HTTP trees may wait for several weeks before they are
discovered by search engines.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From ttk at t-lab.opal.ne.jp  Wed Jun 22 16:33:08 2016
From: ttk at t-lab.opal.ne.jp (TANAKA Takuji)
Date: Wed, 22 Jun 2016 23:33:08 +0900
Subject: [tex-live] TL2016: Stack smashed in upmendex fprint_uchar()
 function
In-Reply-To: <20160615081358.cut6em4gwgaspywb@boole.suse.de>
References: <20160614163550.xoedjzx7wp27oq2b@boole.suse.de>
 <20160615060816.GI10246@logic.at>
 <20160615081358.cut6em4gwgaspywb@boole.suse.de>
Message-ID: <f33617fc-76f5-1677-c01e-789590af98d8@t-lab.opal.ne.jp>

Hi Werner,

I think r.41497 & r.41498 have fixed the issue.

Takuji

On 2016/06/15 17:13, Dr. Werner Fink wrote:
>>
>>> during test I've seen a catched stack smash done by glibc fortify.
>>> It seems that in texk/upmendex/fwrite.c the function fprint_uchar()
>>> will be overflowed by the UChar inital array in indwrite()
>>

From norbert at preining.info  Wed Jun 22 17:10:41 2016
From: norbert at preining.info (Norbert Preining)
Date: Thu, 23 Jun 2016 00:10:41 +0900
Subject: [tex-live] TL2016: Stack smashed in upmendex fprint_uchar()
 function
In-Reply-To: <f33617fc-76f5-1677-c01e-789590af98d8@t-lab.opal.ne.jp>
References: <20160614163550.xoedjzx7wp27oq2b@boole.suse.de>
 <20160615060816.GI10246@logic.at>
 <20160615081358.cut6em4gwgaspywb@boole.suse.de>
 <f33617fc-76f5-1677-c01e-789590af98d8@t-lab.opal.ne.jp>
Message-ID: <20160622151041.GP840@logic.at>

> I think r.41497 & r.41498 have fixed the issue.

I can confirm that the Debian packages where I included these two
patches are now building and all test succeeding on all architectures.

Thanks a lot

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From siepo at cybercomm.nl  Thu Jun 23 11:41:00 2016
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 23 Jun 2016 11:41:00 +0200
Subject: [tex-live] texcount on Windows fail because of Perl file
 missing from TeX Live distribution
In-Reply-To: <20160618103811.GA2920@bitmuis.thuis.internal>
References: <306071466104496@web16h.yandex.ru>
 <20160618103811.GA2920@bitmuis.thuis.internal>
Message-ID: <20160623094100.GA3303@bitmuis.nl>

On Sat, Jun 18, 2016 at 12:38:11PM +0200, Siep Kroonenberg wrote:
> On Thu, Jun 16, 2016 at 10:14:56PM +0300, Leonid Sinev wrote:
> > Greetings, 
 
> 1. This module includes a dll which would need to be added too.
> 
> 2. MetaCPAN https://metacpan.org/pod/Win32::Console::ANSI lists a
>    dependency Win32::Pipe which is not in tlperl either
> 
> As Karl noted, the included perl for windows does not aim to
> support all included perl scripts.

Maybe some user of texcount should contact the author of the script
about making the ANSI modules optional.

-- 
Siep Kroonenberg

From zarniwhoop at ntlworld.com  Fri Jun 24 09:32:12 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Fri, 24 Jun 2016 08:32:12 +0100
Subject: [tex-live] Bad perms in 2016 texmf ?
Message-ID: <20160624073212.GA28723@milliways.localdomain>

Maybe this is me (I'm not at my best any more), but after my first
attempt to install from source for 2016 crapped out when I tried to
use context (unreadable directories/files for a user when mtxrun was
invoked) I compared it to the binary I had been using : several
directories in the texmf tarball seem to not be usable by users, and
a number of files are similarly not readable.

I'm currently rebuilding (for that, installing in /opt is nice) and
will be trying to change all directories in texmf-dist to 775 and
all files to 644.  Meanwhile I have noted the following by untarring
the texmf tarball :

texmf-dist/doc/latex/acroterm 750

texmf-dist/doc/fonts/source/lh/*/* 600

texmf-dist/doc/latex/acroterm/* 640

some texmf-dist/doc/latex/*/README are
 700 gmiflink
 600 gmverse
NB in my binary install gmverse/README was 664!

texmf-dist/makeindex/gmdoc/gmglo.ist 700

texmf-dist/source/fonts/lh/*.mfj 600

texmf-dist/source/fonts/lh/tex/*.t* 600

texmf-dist/source/fonts/lh/tex/wrk/*/* 600

texmf-dist/source/latex/acroterm/* 640

texmf-dist/source/latex/lh/* - my notes on this directory look
flakey (like me at the moment), but I think some of the files are 600
and some 640.

texmf-dist/tex/latex/acroterm 750

texmf-dist/tex/latex/lh 700

texmf-dist/tex/latex/acroterm/* { acroterm.sty ) 640

texmf-dist/tex/latex/lh/* 600 for files and 700 for directories

texmf-dist/tex/plain/lh 700

texmf-dist/tex/plain/lh/* (*.tex) 600

I *hope* this is me again doing something wrong, but for the moment
I think texmf this year has bad perms.

?en
-- 
Yes, you CAN fool most of the people some of the time.

From karl at freefriends.org  Sat Jun 25 00:37:02 2016
From: karl at freefriends.org (Karl Berry)
Date: Fri, 24 Jun 2016 22:37:02 +0000
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <20160624073212.GA28723@milliways.localdomain>
Message-ID: <201606242237.u5OMb2Jp003615@freefriends.org>

    I *hope* this is me again doing something wrong, but for the moment
    I think texmf this year has bad perms.

You're speaking of texlive-20160523-texmf.tar.xz, I presume.  From tar
tvf, looks like you are right.  Sigh.  Will check the others and fix all
when I have a chance.  --thanks, karl.


From zarniwhoop at ntlworld.com  Sat Jun 25 01:34:11 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sat, 25 Jun 2016 00:34:11 +0100
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <201606242237.u5OMb2Jp003615@freefriends.org>
References: <20160624073212.GA28723@milliways.localdomain>
 <201606242237.u5OMb2Jp003615@freefriends.org>
Message-ID: <20160624233411.GA28044@milliways.localdomain>

On Fri, Jun 24, 2016 at 10:37:02PM +0000, Karl Berry wrote:
>     I *hope* this is me again doing something wrong, but for the moment
>     I think texmf this year has bad perms.
> 
> You're speaking of texlive-20160523-texmf.tar.xz, I presume.  From tar
> tvf, looks like you are right.  Sigh.  Will check the others and fix all
> when I have a chance.  --thanks, karl.

I've had a bad day with this (forcing *all* texmf files to 644 was a
bad idea because I had overlooked the scripts).  For the moment I'm
rebuilding again, using the following commands post-install :

find /opt/texlive/${TEXYEAR}/texmf-dist -type d -perm 2750 -exec \
chmod -v 755 {} \;
find /opt/texlive/${TEXYEAR}/texmf-dist -type f -perm 744 -exec \
chmod -v 644 {} \;
find /opt/texlive/${TEXYEAR}/texmf-dist -type f -perm 600 -o -perm \
640 -exec chmod -v 644 {} \;

The first catches a few directories such as doc/latex/acroterm where
context (mtxrun) initially blew up when I ran it as a user.  I guess
that only a root install (and perhaps a root untar) preserves the
sgid bit.

The second gets over 2000 files where the perms look dodgy but I doubt
they cause any real harm.

The last one is where I keep making mistakes / typos : it is for
files like
texmf-dist/source/fonts/lh/*.mfj
texmf-dist/source/fonts/lh/tex/*.t*
texmf-dist/source/fonts/lh/tex/wrk/*/* (all 600)

texmf-dist/source/latex/acroterm/* and
texmf-dist/source/latex/lh/* (mostly 640)

I think I will still be failing to address
texmf-dist/makeindex/gmdoc/gmglo.ist which got installed as 700
instead of 644.

?en
-- 
Yes, you CAN fool most of the people some of the time.

From reinhard.kotucha at web.de  Sat Jun 25 03:02:18 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 25 Jun 2016 03:02:18 +0200
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <20160624233411.GA28044@milliways.localdomain>
References: <20160624073212.GA28723@milliways.localdomain>
 <201606242237.u5OMb2Jp003615@freefriends.org>
 <20160624233411.GA28044@milliways.localdomain>
Message-ID: <22381.55322.168113.967958@zaphod.ms25.net>

On 2016-06-25 at 00:34:11 +0100, Ken Moffat wrote:

 > I've had a bad day...

If your internet connection isn't extraordinary slow, it's better to
throw everything away and install TeX Live again.

Fixing file permissions manually is time-consuming and you can never
be sure that everything you've done is correct.   

Regards,
  Reinhard
  
-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From zarniwhoop at ntlworld.com  Sat Jun 25 04:16:14 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sat, 25 Jun 2016 03:16:14 +0100
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <22381.55322.168113.967958@zaphod.ms25.net>
References: <20160624073212.GA28723@milliways.localdomain>
 <201606242237.u5OMb2Jp003615@freefriends.org>
 <20160624233411.GA28044@milliways.localdomain>
 <22381.55322.168113.967958@zaphod.ms25.net>
Message-ID: <20160625021614.GA31374@milliways.localdomain>

On Sat, Jun 25, 2016 at 03:02:18AM +0200, Reinhard Kotucha wrote:
> On 2016-06-25 at 00:34:11 +0100, Ken Moffat wrote:
> 
>  > I've had a bad day...
> 
> If your internet connection isn't extraordinary slow, it's better to
> throw everything away and install TeX Live again.
> 
> Fixing file permissions manually is time-consuming and you can never
> be sure that everything you've done is correct.   
> 
> Regards,
>   Reinhard

I'm installing from source (I moved the initial binary install out
of the way after I had modified both my asymptote tests to work as
expected on a system where all the system libs were built with gcc6).

For a binary install, yes, reinstall (hopefully, with better
downloads after an update).  But some of us prefer building from
source.  And we get all the pleasure of discovering new breakages
when system packages change (not just gcc or libstdc++, I think it
was grep which caused problems in xindy in the last year or so).

Fortunately I have the moved binary files to compare (and they are
fine).

At the moment I'm reinstalling again (I've lost count of the times
I've done this, but at least my i7 is quite quick) :

 find -perm 600 -o -perm 640 -o -perm 700 -exec chmod ...

is only chmodding the files matched by the last test.  Retrying with
xargs.

?en
-- 
Yes, you CAN fool most of the people some of the time.

From texlive at schoepfer.info  Sat Jun 25 09:20:00 2016
From: texlive at schoepfer.info (texlive at schoepfer.info)
Date: Sat, 25 Jun 2016 09:20:00 +0200
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <20160625021614.GA31374@milliways.localdomain>
References: <20160624073212.GA28723@milliways.localdomain>
 <201606242237.u5OMb2Jp003615@freefriends.org>
 <20160624233411.GA28044@milliways.localdomain>
 <22381.55322.168113.967958@zaphod.ms25.net>
 <20160625021614.GA31374@milliways.localdomain>
Message-ID: <6b2c8289a3a64ec7787ad1d06983dc59@schoepfer.info>

> At the moment I'm reinstalling again (I've lost count of the times
> I've done this, but at least my i7 is quite quick) :
> 
>  find -perm 600 -o -perm 640 -o -perm 700 -exec chmod ...
> 
> is only chmodding the files matched by the last test.  Retrying with
> xargs.

Maybe
  chmod -R u+w,go-w,a+rX-st PATH
does the trick for you.

Regards,
Johannes

From zarniwhoop at ntlworld.com  Sat Jun 25 19:10:00 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sat, 25 Jun 2016 18:10:00 +0100
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <6b2c8289a3a64ec7787ad1d06983dc59@schoepfer.info>
References: <20160624073212.GA28723@milliways.localdomain>
 <201606242237.u5OMb2Jp003615@freefriends.org>
 <20160624233411.GA28044@milliways.localdomain>
 <22381.55322.168113.967958@zaphod.ms25.net>
 <20160625021614.GA31374@milliways.localdomain>
 <6b2c8289a3a64ec7787ad1d06983dc59@schoepfer.info>
Message-ID: <20160625171000.GC18696@milliways.localdomain>

On Sat, Jun 25, 2016 at 09:20:00AM +0200, texlive at schoepfer.info wrote:
> > At the moment I'm reinstalling again (I've lost count of the times
> > I've done this, but at least my i7 is quite quick) :
> > 
> >  find -perm 600 -o -perm 640 -o -perm 700 -exec chmod ...
> > 
> > is only chmodding the files matched by the last test.  Retrying with
> > xargs.
> 
> Maybe
>  chmod -R u+w,go-w,a+rX-st PATH
> does the trick for you.
> 
I'm told I needed parentheses because there is an implicit AND
before the -exec, with a higher priority than OR.

But yes, recursive chmod like that might be simpler.

?en
-- 
Yes, you CAN fool most of the people some of the time.

From vincent.torri at gmail.com  Sun Jun 26 22:01:50 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Sun, 26 Jun 2016 22:01:50 +0200
Subject: [tex-live] memory leak with kpathsea_find_file() ?
Message-ID: <CAMq1adqc-8Prrfdbu=YofOkDcb3kvHA5yT4XajQf7WT4mNAR2Q@mail.gmail.com>

hello

my little library uses kpathsea_find_file(). The actual code to retrieve
the full path of a TFM file is the following:

-------------
    kpathsea kpse;
    char *n;

    kpse = kpathsea_new();
    kpathsea_set_program_name(kpse, "kpsewhich", NULL);
    kpathsea_init_prog (kpse, "LIBDVI", 300, NULL, NULL);
    n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
    kpathsea_finish(kpse);
-------------

Drmemory (or valgrind) reports the following unfreed memory :

# 1 ll!xmalloc                          +0x16
# 2 ll!hash_create                      +0x11
# 3 ll!concatn                          +0x8a0
# 4 ll!kpathsea_cnf_get                 +0x2e
# 5 ll!kpathsea_var_value               +0xa5
# 6 ll!kpse_set_suffixes                +0x54
# 7 ll!kpathsea_init_format_return_varlist+0x1f0
# 8 ll!kpathsea_find_file_generic       +0x70
# 9 ll!kpathsea_find_file               +0x1b
#10 dvi_kpathsea_path_name_get           [src/lib/dvi_kpathsea.c:354]
#11 dvi_font_define                      [src/lib/dvi_font.c:332]

trying to free 'n' with free() leads to errors in drmemory (or valgrind).

Is this unfreed memory normal ? or my code is not fully correct ?

thank you

Vincent Torri
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160626/c8b16c09/attachment.html>

From karl at freefriends.org  Sun Jun 26 23:48:23 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 26 Jun 2016 15:48:23 -0600
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <CAMq1adqc-8Prrfdbu=YofOkDcb3kvHA5yT4XajQf7WT4mNAR2Q@mail.gmail.com> (message
 from Vincent Torri on Sun, 26 Jun 2016 22:01:50 +0200)
Message-ID: <86oa6naafs.fsf@frenzy.freefriends.org>

    n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
    ...
    trying to free 'n' with free() leads to errors

I don't understand that.  As far as I can recall, kpathsea_find_file
should always return newly-malloced memory, aside perhaps from
pathological cases, certainly not yours.

    Is this unfreed memory normal ? 

Yes, it is normal.  I never tried to make kpse 100% memory efficient.
A few lost bytes did not matter in 1986, and they matter even less now.

    or my code is not fully correct ?

Your code looks ok to me.  -k

From karl at freefriends.org  Mon Jun 27 00:31:14 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 26 Jun 2016 22:31:14 +0000
Subject: [tex-live] TeXLive 2016 source tar ball with object and library
 files?
In-Reply-To: <20160607114939.2e6qzkxeex5l4ite@boole.suse.de>
Message-ID: <201606262231.u5QMVEQB018440@freefriends.org>

Hi Werner,

    texlive-20160523-source.tar.xz and recoginzed
    that the tar ball is much larger then those of 2015 (252126K to 44395K)
    due a lot of binary, object, and library files.

Sorry for the delay.  I have finally rebuilt
texlive-20160523-source.tar.xz without the useless bloat, now at
ftp://tug.org/historic/systems/texlive/2016/texlive-20160523b-source.tar.xz
(and .sha512 and .sha512.asc).  The content should be the same, only
the excess files removed.

This happened because I accidentally/stupidly made one last-minute
rebuild out of my working directory instead of the clean reference tree.
(Which is also the cause of some, though not all, of the permission
problems in the texmf tarball noted by Ken M.  Sigh.)

Let me know if problems, of course ... -k

From ul at openlilylib.org  Mon Jun 27 01:06:44 2016
From: ul at openlilylib.org (Urs Liska)
Date: Mon, 27 Jun 2016 01:06:44 +0200
Subject: [tex-live] Directory structure for package including files
Message-ID: <2810541d-3a91-ddde-6418-4f143d4fa44f@openlilylib.org>

Hi all,

I'm mentoring a GSoC student who will as part of his project produce a
LaTeX package and upload it to CTAN. (As some background that is not
directly relevant to the question: This package will take sets of LaTeX
commands generated from annotations in LilyPond music scores and typeset
a critical report from them.)

The package will provide extensive configuration options for the visual
appearance of the output, mainly implemented through \setkeys. As the
definition of the *default* appearance will use a significant number of
code lines the student suggested to move that to a separate file, e.g.
`default-stylesheet.inp` (which I find good as it's also a good example
file for end-users).

The question is: Should we take any precautions regarding the directory
structure when it comes to uploading the package to CTAN? Of course in
the context of a CTAN package it's probably the most straightforward to
just put it in the same folder as the .sty file. But is that also a good
approach when we expect the package to be incorporated in distributions
like tex-live?

Best
Urs


From karl at freefriends.org  Mon Jun 27 03:01:07 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 27 Jun 2016 01:01:07 +0000
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <20160624233411.GA28044@milliways.localdomain>
Message-ID: <201606270101.u5R117x7031179@freefriends.org>

Hi Ken - you probably have no reason to spend more time on it, but FYI,
I've recreated the texmf tarball as texlive-20160523b-texmf.tar.xz in
ftp://tug.org/historic/systems/texlive/2016/ (also .sha512 and .asc).
Hopefully the permissions are more reasonable.

I found some Japanese property list (.pl) files that were spuriously
executable due to the conflict with .pl for Perl.  I fixed those.

Aside from that, under doc/ and source/, there may well be some scripts
which are not executable (especially if they don't have an extension),
but I've never worried about that.  (People can always invoke them
"manually".)  I'm more interested in fixing files that are executable
and shouldn't be, if you find any of those.  (gmglo.ist is fixed.)

Thanks/sorry,
Karl

From vincent.torri at gmail.com  Mon Jun 27 07:30:10 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Mon, 27 Jun 2016 07:30:10 +0200
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <86oa6naafs.fsf@frenzy.freefriends.org>
References: <CAMq1adqc-8Prrfdbu=YofOkDcb3kvHA5yT4XajQf7WT4mNAR2Q@mail.gmail.com>
 <86oa6naafs.fsf@frenzy.freefriends.org>
Message-ID: <CAMq1ado4mP_vf+pWnd6p07uZEhyXt1qQHbVQsBmBHsGugVrN0w@mail.gmail.com>

On Sun, Jun 26, 2016 at 11:48 PM, Karl Berry <karl at freefriends.org> wrote:
>
>     n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
>     ...
>     trying to free 'n' with free() leads to errors
>
> I don't understand that.  As far as I can recall, kpathsea_find_file
> should always return newly-malloced memory, aside perhaps from
> pathological cases, certainly not yours.

if I free the result given by kpathsea_find_file(), after
kpathsea_finish(), i get :

Error #1: INVALID HEAP ARGUMENT to free 0x03bec028
# 0 replace_free
[d:\drmemory_package\common\alloc_replace.c:2706]
# 1 libdvi-0.dll!dvi_font_define                  [src/lib/dvi_font.c:342]
# 2 libdvi-0.dll!dvi_interpreter_fnt_def_parse
[src/lib/dvi_interpreter.c:505]
# 3 libdvi-0.dll!dvi_interpreter_postamble_parse
[src/lib/dvi_interpreter.c:369]
# 4 libdvi-0.dll!dvi_document_new                 [src/lib/dvi_document.c:153]
# 5 main                                          [src/bin/dvi.c:16]
Note: @0:00:27.083 in thread 2704
Note: refers to -1 byte(s) before next malloc
Note: next higher malloc: 0x03bec028-0x03bec07f
Note: refers to -87 byte(s) beyond last valid byte in prior malloc
Note: prev lower malloc:  0x03bec028-0x03bec07f

The code is equivalent to this:

    kpathsea kpse;
    char *n;

    kpse = kpathsea_new();
    kpathsea_set_program_name(kpse, "kpsewhich", NULL);
    kpathsea_init_prog (kpse, "LIBDVI", 300, NULL, NULL);
    n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
    kpathsea_finish(kpse);
    /* i do something */
    free(n);

Vincent Torri


>
>     Is this unfreed memory normal ?
>
> Yes, it is normal.  I never tried to make kpse 100% memory efficient.
> A few lost bytes did not matter in 1986, and they matter even less now.
>
>     or my code is not fully correct ?
>
> Your code looks ok to me.  -k

From vincent.torri at gmail.com  Mon Jun 27 07:36:35 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Mon, 27 Jun 2016 07:36:35 +0200
Subject: [tex-live] question about kpathsea_new() and kpathsea_finish(),
 and thread safety
Message-ID: <CAMq1adouaKrqF8bCz56isM4jwb3-zLMg_O2MioJ1ZrZwS0O7og@mail.gmail.com>

Hello

I'm using these 2 functions in my library. Is it reasonnable to call
kpathsea_new() when my library starts and kpathsea_finish() when my
library finishes, and in between i can use all the kpathsea_*
functions I want ?

Another question: is kpathsea thread safe and reentrant ? I want to
find function names and glyphs of several fonts in different threads,
one thread per font.

thank you

Vincent Torri

From kakuto at fuk.kindai.ac.jp  Mon Jun 27 08:48:35 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 27 Jun 2016 15:48:35 +0900
Subject: [tex-live] question about kpathsea_new() and kpathsea_finish(),
 and thread safety
In-Reply-To: <CAMq1adouaKrqF8bCz56isM4jwb3-zLMg_O2MioJ1ZrZwS0O7og@mail.gmail.com>
References: <CAMq1adouaKrqF8bCz56isM4jwb3-zLMg_O2MioJ1ZrZwS0O7og@mail.gmail.com>
Message-ID: <C678ECC3B61B4DEF848C54A4F8D457A5@CJ3001517A>

> Another question: is kpathsea thread safe and reentrant ?

On Unix platforms, I believe that kpathsea is reentrant,
thanks to Taco. On windows, unfortunately, there are,
probably, two global variables, which Peter and I had
left for simplicity.

Best,
Akira


From zdenek.wagner at gmail.com  Mon Jun 27 10:47:50 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 27 Jun 2016 10:47:50 +0200
Subject: [tex-live] Directory structure for package including files
In-Reply-To: <2810541d-3a91-ddde-6418-4f143d4fa44f@openlilylib.org>
References: <2810541d-3a91-ddde-6418-4f143d4fa44f@openlilylib.org>
Message-ID: <CAC1phyasGUbgMHEm+-CDia911J6mknLo1osuYNTXA=xffV=Qcw@mail.gmail.com>

Hi Urs,

first of all you should read the CTAN guidelines. CTAN itself is not
primarily used for installation, the contents must be easily
browsable. The maintainers require flat structure, everything in the
single directory. If the package is too complex, it is possible to
separate the files to a directory containing the macros, a directory
containing documentation etc. It is explained on CTAN. In addition,
you can upload a TDS zip file. In TDS (used in nowadays TeX distros)
the macros for your package will reside in
$TEXMF/tex/latex/your_package_name, hence it is not necessary to split
it to other directories unless you need different files for different
engines but having the same name. Anyway, even without the TDS zip
file the TeX Live maintainers can cope with it. As each package must
contain a README file, this is the best place where to describe the
structure of the package so that the distro maintainers know how to
install it.

Hope this helps.
Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-06-27 1:06 GMT+02:00 Urs Liska <ul at openlilylib.org>:
> Hi all,
>
> I'm mentoring a GSoC student who will as part of his project produce a
> LaTeX package and upload it to CTAN. (As some background that is not
> directly relevant to the question: This package will take sets of LaTeX
> commands generated from annotations in LilyPond music scores and typeset
> a critical report from them.)
>
> The package will provide extensive configuration options for the visual
> appearance of the output, mainly implemented through \setkeys. As the
> definition of the *default* appearance will use a significant number of
> code lines the student suggested to move that to a separate file, e.g.
> `default-stylesheet.inp` (which I find good as it's also a good example
> file for end-users).
>
> The question is: Should we take any precautions regarding the directory
> structure when it comes to uploading the package to CTAN? Of course in
> the context of a CTAN package it's probably the most straightforward to
> just put it in the same folder as the .sty file. But is that also a good
> approach when we expect the package to be incorporated in distributions
> like tex-live?
>
> Best
> Urs
>


From ul at openlilylib.org  Mon Jun 27 10:54:17 2016
From: ul at openlilylib.org (Urs Liska)
Date: Mon, 27 Jun 2016 10:54:17 +0200
Subject: [tex-live] Directory structure for package including files
In-Reply-To: <CAC1phyasGUbgMHEm+-CDia911J6mknLo1osuYNTXA=xffV=Qcw@mail.gmail.com>
References: <2810541d-3a91-ddde-6418-4f143d4fa44f@openlilylib.org>
 <CAC1phyasGUbgMHEm+-CDia911J6mknLo1osuYNTXA=xffV=Qcw@mail.gmail.com>
Message-ID: <0ce86c19-1d9a-5904-5986-daedefe778d8@openlilylib.org>

Hi Zdenek,

thank you for the explanation.
When I published my last package things were more complicated (providing
additional Python scripts, font files etc.) so I probably didn't think
of it being that simple and "flat" in simpler cases.

But then I was strongly discouraged to provide a TDS file. Have
recommendations changed in the last few years?

Urs


Am 27.06.2016 um 10:47 schrieb Zdenek Wagner:
> Hi Urs,
>
> first of all you should read the CTAN guidelines. CTAN itself is not
> primarily used for installation, the contents must be easily
> browsable. The maintainers require flat structure, everything in the
> single directory. If the package is too complex, it is possible to
> separate the files to a directory containing the macros, a directory
> containing documentation etc. It is explained on CTAN. In addition,
> you can upload a TDS zip file. In TDS (used in nowadays TeX distros)
> the macros for your package will reside in
> $TEXMF/tex/latex/your_package_name, hence it is not necessary to split
> it to other directories unless you need different files for different
> engines but having the same name. Anyway, even without the TDS zip
> file the TeX Live maintainers can cope with it. As each package must
> contain a README file, this is the best place where to describe the
> structure of the package so that the distro maintainers know how to
> install it.
>
> Hope this helps.
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
>
>
> 2016-06-27 1:06 GMT+02:00 Urs Liska <ul at openlilylib.org>:
>> Hi all,
>>
>> I'm mentoring a GSoC student who will as part of his project produce a
>> LaTeX package and upload it to CTAN. (As some background that is not
>> directly relevant to the question: This package will take sets of LaTeX
>> commands generated from annotations in LilyPond music scores and typeset
>> a critical report from them.)
>>
>> The package will provide extensive configuration options for the visual
>> appearance of the output, mainly implemented through \setkeys. As the
>> definition of the *default* appearance will use a significant number of
>> code lines the student suggested to move that to a separate file, e.g.
>> `default-stylesheet.inp` (which I find good as it's also a good example
>> file for end-users).
>>
>> The question is: Should we take any precautions regarding the directory
>> structure when it comes to uploading the package to CTAN? Of course in
>> the context of a CTAN package it's probably the most straightforward to
>> just put it in the same folder as the .sty file. But is that also a good
>> approach when we expect the package to be incorporated in distributions
>> like tex-live?
>>
>> Best
>> Urs
>>


From zdenek.wagner at gmail.com  Mon Jun 27 11:08:31 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 27 Jun 2016 11:08:31 +0200
Subject: [tex-live] Directory structure for package including files
In-Reply-To: <0ce86c19-1d9a-5904-5986-daedefe778d8@openlilylib.org>
References: <2810541d-3a91-ddde-6418-4f143d4fa44f@openlilylib.org>
 <CAC1phyasGUbgMHEm+-CDia911J6mknLo1osuYNTXA=xffV=Qcw@mail.gmail.com>
 <0ce86c19-1d9a-5904-5986-daedefe778d8@openlilylib.org>
Message-ID: <CAC1phyYUN2jSSdb7b3mZxv20so3hCZ5v7dzjJxXUm0p9SbbuXQ@mail.gmail.com>

Hi Urs,

the current instructions for CTAN upload are here: http://www.ctan.org/upload

If you upload a package in TDS only, the CTAN team would not like it.
TeX Live maintainers do not need the TDS zip file, they have a script
to put the files to correct directories.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-06-27 10:54 GMT+02:00 Urs Liska <ul at openlilylib.org>:
> Hi Zdenek,
>
> thank you for the explanation.
> When I published my last package things were more complicated (providing
> additional Python scripts, font files etc.) so I probably didn't think
> of it being that simple and "flat" in simpler cases.
>
> But then I was strongly discouraged to provide a TDS file. Have
> recommendations changed in the last few years?
>
> Urs
>
>
> Am 27.06.2016 um 10:47 schrieb Zdenek Wagner:
>> Hi Urs,
>>
>> first of all you should read the CTAN guidelines. CTAN itself is not
>> primarily used for installation, the contents must be easily
>> browsable. The maintainers require flat structure, everything in the
>> single directory. If the package is too complex, it is possible to
>> separate the files to a directory containing the macros, a directory
>> containing documentation etc. It is explained on CTAN. In addition,
>> you can upload a TDS zip file. In TDS (used in nowadays TeX distros)
>> the macros for your package will reside in
>> $TEXMF/tex/latex/your_package_name, hence it is not necessary to split
>> it to other directories unless you need different files for different
>> engines but having the same name. Anyway, even without the TDS zip
>> file the TeX Live maintainers can cope with it. As each package must
>> contain a README file, this is the best place where to describe the
>> structure of the package so that the distro maintainers know how to
>> install it.
>>
>> Hope this helps.
>> Zden?k Wagner
>> http://ttsm.icpf.cas.cz/team/wagner.shtml
>> http://icebearsoft.euweb.cz
>>
>>
>> 2016-06-27 1:06 GMT+02:00 Urs Liska <ul at openlilylib.org>:
>>> Hi all,
>>>
>>> I'm mentoring a GSoC student who will as part of his project produce a
>>> LaTeX package and upload it to CTAN. (As some background that is not
>>> directly relevant to the question: This package will take sets of LaTeX
>>> commands generated from annotations in LilyPond music scores and typeset
>>> a critical report from them.)
>>>
>>> The package will provide extensive configuration options for the visual
>>> appearance of the output, mainly implemented through \setkeys. As the
>>> definition of the *default* appearance will use a significant number of
>>> code lines the student suggested to move that to a separate file, e.g.
>>> `default-stylesheet.inp` (which I find good as it's also a good example
>>> file for end-users).
>>>
>>> The question is: Should we take any precautions regarding the directory
>>> structure when it comes to uploading the package to CTAN? Of course in
>>> the context of a CTAN package it's probably the most straightforward to
>>> just put it in the same folder as the .sty file. But is that also a good
>>> approach when we expect the package to be incorporated in distributions
>>> like tex-live?
>>>
>>> Best
>>> Urs
>>>
>


From karl at freefriends.org  Mon Jun 27 23:37:55 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 27 Jun 2016 21:37:55 +0000
Subject: [tex-live] Directory structure for package including files
In-Reply-To: <0ce86c19-1d9a-5904-5986-daedefe778d8@openlilylib.org>
Message-ID: <201606272137.u5RLbthO013528@freefriends.org>

    But then I was strongly discouraged to provide a TDS file. 

I continue to strongly discourage people from making a .tds.zip file
unless their package is very very complicated.

    Have recommendations changed in the last few years?

Nope.

In short: for a small package like this, it is best to put all files in
one directory for CTAN, omit files derived from the .dtx (if it uses
.dtx), and no .tds.zip.

Good luck with the project!  -k

From reinhard.kotucha at web.de  Tue Jun 28 00:32:42 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 28 Jun 2016 00:32:42 +0200
Subject: [tex-live] Directory structure for package including files
In-Reply-To: <0ce86c19-1d9a-5904-5986-daedefe778d8@openlilylib.org>
References: <2810541d-3a91-ddde-6418-4f143d4fa44f@openlilylib.org>
 <CAC1phyasGUbgMHEm+-CDia911J6mknLo1osuYNTXA=xffV=Qcw@mail.gmail.com>
 <0ce86c19-1d9a-5904-5986-daedefe778d8@openlilylib.org>
Message-ID: <22385.43402.899210.927664@zaphod.ms25.net>

On 2016-06-27 at 10:54:17 +0200, Urs Liska wrote:

 > Hi Zdenek,
 > 
 > thank you for the explanation.
 > When I published my last package things were more complicated (providing
 > additional Python scripts, font files etc.) so I probably didn't think
 > of it being that simple and "flat" in simpler cases.
 > 
 > But then I was strongly discouraged to provide a TDS file. Have
 > recommendations changed in the last few years?

Not within the last few years.  More than a decade ago TDS files were
preferred.  But Karl Berry said that if a TDS file isn't 100% correct,
it's not helpful at all and even causes much more extra work.

However, IMO it's very helpful if there is one level of subdirectories
on CTAN, for instance doc/, tex/, source/, ...

I suppose that most CTAN users are interested in documentation only.
It's also quite helpful to have distinct directories for macros and
documentation because this allows the author to make clear whether a
particular file is only part of the documentation (has to be found by
texdoc) or must be accessible at run-time (has to be found by TeX).  

VnTeX, for instance, comes with a lot of test files which can't even
be compiled easily on all platforms.  I prefer to have these files
in source/ instead of doc/.  With a completely flat hierarchy (only
one directory for everything) all my intentions certainly get lost.

A flat hierarchy (only one level) is quite helpful IMO in order to
preserve the author's intents.

This is also described at

  http://www.ctan.org/upload

but I think that instead of distinguishing between small and very
large packages, it makes more sense to assume that your package is
very large if particular files in your package have to be installed at
certain places.  If there are no such ambiguities you can assume that
your package is small.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From karl at freefriends.org  Tue Jun 28 00:50:53 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 27 Jun 2016 22:50:53 +0000
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <CAMq1ado4mP_vf+pWnd6p07uZEhyXt1qQHbVQsBmBHsGugVrN0w@mail.gmail.com>
Message-ID: <201606272250.u5RMorAS021379@freefriends.org>

    kpathsea_new() when my library starts and kpathsea_finish() when my
    library finishes, and in between i can use all the kpathsea_*
    functions I want ?

Sounds reasonable to me.

    Error #1: INVALID HEAP ARGUMENT to free 0x03bec028

Do you check if n is NULL?

Does it make a difference if the free is before the kpathsea_finish call?
(kpathsea_finish should be nearly a no-op, but ...)

Are you using a distro's kpathsea or the original from TL?
I have no idea what distros do to kpathsea, but I'm pretty sure they
don't leave it alone.

Aside from those trivialities, I don't have drmemory and can't reproduce
it with valgrind if I set name = "cmr10.tfm".  So I don't know what to
say.  All I can suggest is running it under the debugger to see what's
going on.

Good luck,
Karl

From kakuto at fuk.kindai.ac.jp  Tue Jun 28 06:46:49 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 28 Jun 2016 13:46:49 +0900
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <201606272250.u5RMorAS021379@freefriends.org>
References: <201606272250.u5RMorAS021379@freefriends.org>
Message-ID: <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>

>     n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
>     ...
>     trying to free 'n' with free() leads to errors

On windows, if I link by using the import library,
I cannot reproduce the error.
However if I use the LoadLibrary() method, I can reproduce
the error. I don't understand why. Presumably my DLL lacks
something necessary, though it has been useful if used with
the import library.

Best,
Akira


From vincent.torri at gmail.com  Tue Jun 28 07:30:58 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Tue, 28 Jun 2016 07:30:58 +0200
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
References: <201606272250.u5RMorAS021379@freefriends.org>
 <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
Message-ID: <CAMq1adrwDAjiOU0Z-kj5nY228RiTtc3grU8pg7+3O7zHoBx8Tw@mail.gmail.com>

On Tue, Jun 28, 2016 at 6:46 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>>     n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
>>     ...
>>     trying to free 'n' with free() leads to errors
>
>
> On windows, if I link by using the import library,

where is the import library in the texlive 2016 tree ??

> I cannot reproduce the error.
> However if I use the LoadLibrary() method,

that's what i use as  i can't find the import library

> I can reproduce
> the error. I don't understand why. Presumably my DLL lacks
> something necessary, though it has been useful if used with
> the import library.

you can seee all the exported symbols in the DLL with dependency
walker in casee it helps you

Vincent Torri

From vincent.torri at gmail.com  Tue Jun 28 08:05:59 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Tue, 28 Jun 2016 08:05:59 +0200
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
References: <201606272250.u5RMorAS021379@freefriends.org>
 <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
Message-ID: <CAMq1adoNQKdHJ+DCOJpHVAgZ_32uvOyu49pvB0KPj4NzYBG5pw@mail.gmail.com>

On Tue, Jun 28, 2016 at 6:46 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>>     n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
>>     ...
>>     trying to free 'n' with free() leads to errors
>
>
> On windows, if I link by using the import library,
> I cannot reproduce the error.
> However if I use the LoadLibrary() method, I can reproduce

another problem: as I use LoadLibrary and as texlive provides only a
32bits DLL, i have an error if my library is compiled in 64bits mode:
error 193 (ERROR_BAD_EXE_FORMAT): "%1 is not a valid Win32
application."

Vincent Torri

> the error. I don't understand why. Presumably my DLL lacks
> something necessary, though it has been useful if used with
> the import library.
>
> Best,
> Akira
>

From vincent.torri at gmail.com  Tue Jun 28 08:09:04 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Tue, 28 Jun 2016 08:09:04 +0200
Subject: [tex-live] kpathsea PDF document has wrong table of contents
Message-ID: <CAMq1adqfE1pkDF2xFt+YG5do4+aCB9+NG7LhJ5s9eWpiNFRfyg@mail.gmail.com>

Hello

kpathsea.pdf (in texlive\2016\texmf-dist\doc\kpathsea) seems to have a
wrong table of contents (or the table of contents is correct but the
content is wrong)

Vincent Torri

From kakuto at fuk.kindai.ac.jp  Tue Jun 28 08:18:49 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 28 Jun 2016 15:18:49 +0900
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <CAMq1adrwDAjiOU0Z-kj5nY228RiTtc3grU8pg7+3O7zHoBx8Tw@mail.gmail.com>
References: <201606272250.u5RMorAS021379@freefriends.org>
 <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
 <CAMq1adrwDAjiOU0Z-kj5nY228RiTtc3grU8pg7+3O7zHoBx8Tw@mail.gmail.com>
Message-ID: <50623A2575FC4FD383E44CD988155DCC@CJ3001517A>

Dear Vincent,

> where is the import library ...

I already sent you off-list kpathsea.tar.gz, which contains
32bit and 64bit DLLs and import libs.
Please check spam mails also, due to the attachment.

Best,
Akira


From vincent.torri at gmail.com  Tue Jun 28 12:30:02 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Tue, 28 Jun 2016 12:30:02 +0200
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <50623A2575FC4FD383E44CD988155DCC@CJ3001517A>
References: <201606272250.u5RMorAS021379@freefriends.org>
 <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
 <CAMq1adrwDAjiOU0Z-kj5nY228RiTtc3grU8pg7+3O7zHoBx8Tw@mail.gmail.com>
 <50623A2575FC4FD383E44CD988155DCC@CJ3001517A>
Message-ID: <CAMq1adovqsKoDODKK7UfFGFScDOs5haTgPQVC2hiaZV8fywMCA@mail.gmail.com>

On Tue, Jun 28, 2016 at 8:18 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
> Dear Vincent,
>
>> where is the import library ...
>
>
> I already sent you off-list kpathsea.tar.gz, which contains
> 32bit and 64bit DLLs and import libs.

sorry, but I have no private mail from you. Only a mail with a link to
get the 64 bits dll and exe (CTAN/systems/win32/w32tex/TLW64/)


> Please check spam mails also, due to the attachment.

nor in spam mails. Can you resend it please ?

thank you

Vincent Torri

From P.Taylor at Rhul.Ac.Uk  Tue Jun 28 20:00:22 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 28 Jun 2016 19:00:22 +0100
Subject: [tex-live] TeX Live 2016 release available
In-Reply-To: <201606062109.u56L96k4020573@freefriends.org>
References: <201606062109.u56L96k4020573@freefriends.org>
Message-ID: <6281de42-3cfa-b591-492b-1fcecc71b799@Rhul.Ac.Uk>


On 22/07/2011 at 00:07, Karl Berry wrote:

> Date: Thu, 21 Jul 2011 23:07:45 +0000
> From: Karl Berry <karl at freefriends.org>
> To: <tex-live at tug.org>, <texhax at tug.org>
> For the sake of anyone who doesn't follow ctan-ann ...
>
> TeX Live 2016 has been released.  
Could I just check the date of this announcement ?  According to the message headers, TeX Live 2016 was announced as released on Thu, 21 Jul 2011 at 23:07:45 +0000; however, the first "Received: " header does not appear until Mon, 6 Jun 2016 at 21:09:06 GMT.  Where was the message lurking for five years, and how was Karl able so accurately to predict the future ?!
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160628/b6ea3a33/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160628/b6ea3a33/attachment-0001.jpg>

From jacobgyntelberg at me.com  Tue Jun 28 20:50:57 2016
From: jacobgyntelberg at me.com (Jacob Gyntelberg)
Date: Tue, 28 Jun 2016 20:50:57 +0200
Subject: [tex-live] TeX Live 2016 release available
In-Reply-To: <6281de42-3cfa-b591-492b-1fcecc71b799@Rhul.Ac.Uk>
References: <201606062109.u56L96k4020573@freefriends.org>
 <6281de42-3cfa-b591-492b-1fcecc71b799@Rhul.Ac.Uk>
Message-ID: <6D4428BB-DC3F-43AD-9BC9-18DB0FE0EA82@me.com>

Karl rocks :-)

Sent from my iPhone

On 28 Jun 2016, at 20:00, Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:


On 22/07/2011 at 00:07, Karl Berry wrote:

> Date: Thu, 21 Jul 2011 23:07:45 +0000
> From: Karl Berry <karl at freefriends.org>
> To: <tex-live at tug.org>, <texhax at tug.org>
> For the sake of anyone who doesn't follow ctan-ann ...
> 
> TeX Live 2016 has been released.  
Could I just check the date of this announcement ?  According to the message headers, TeX Live 2016 was announced as released on Thu, 21 Jul 2011 at 23:07:45 +0000; however, the first "Received: " header does not appear until Mon, 6 Jun 2016 at 21:09:06 GMT.  Where was the message lurking for five years, and how was Karl able so accurately to predict the future ?!
-- 
<Signature.jpg>
Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160628/47072e11/attachment.html>

From kakuto at fuk.kindai.ac.jp  Tue Jun 28 23:15:47 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 29 Jun 2016 06:15:47 +0900
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <CAMq1adovqsKoDODKK7UfFGFScDOs5haTgPQVC2hiaZV8fywMCA@mail.gmail.com>
References: <201606272250.u5RMorAS021379@freefriends.org>
 <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
 <CAMq1adrwDAjiOU0Z-kj5nY228RiTtc3grU8pg7+3O7zHoBx8Tw@mail.gmail.com>
 <50623A2575FC4FD383E44CD988155DCC@CJ3001517A>
 <CAMq1adovqsKoDODKK7UfFGFScDOs5haTgPQVC2hiaZV8fywMCA@mail.gmail.com>
Message-ID: <922532B9924C4F99B9A45EAC6EBEE641@CJ3001517A>

Dear Vincent,

> sorry, but I have no private mail from you. 

You can obtain it at
http://members2.jcom.home.ne.jp/wt1357ak/kpathsea2016.zip

Best,
Akira


From karl at freefriends.org  Tue Jun 28 23:36:42 2016
From: karl at freefriends.org (Karl Berry)
Date: Tue, 28 Jun 2016 21:36:42 +0000
Subject: [tex-live] kpathsea PDF document has wrong table of contents
In-Reply-To: <CAMq1adqfE1pkDF2xFt+YG5do4+aCB9+NG7LhJ5s9eWpiNFRfyg@mail.gmail.com>
Message-ID: <201606282136.u5SLagkb004616@freefriends.org>

    Subject: [tex-live] kpathsea PDF document has wrong table of contents

So it does.  Strange.  I'll regenerate it and check the others that I
did similarly.  Thanks for the report.  -k


From karl at freefriends.org  Tue Jun 28 23:46:27 2016
From: karl at freefriends.org (Karl Berry)
Date: Tue, 28 Jun 2016 21:46:27 +0000
Subject: [tex-live] Directory structure for package including files
In-Reply-To: <22385.43402.899210.927664@zaphod.ms25.net>
Message-ID: <201606282146.u5SLkRNL005487@freefriends.org>

    all my intentions certainly get lost.

In the case when an author has a straightforward-enough package but
wants certain files in certain places, it is fine to either include an
installation note in the README, or with the CTAN upload (they pass it
on to me), or, if I install it wrong, report the problem and I will fix
it.  Not an issue.  Much better than making a .tds.zip just to "work
around" my bug.

Notwithstanding, I think .tds.zip is fine and appropriate for vntex.  -k

From reinhard.kotucha at web.de  Wed Jun 29 01:54:01 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 29 Jun 2016 01:54:01 +0200
Subject: [tex-live] Directory structure for package including files
In-Reply-To: <201606282146.u5SLkRNL005487@freefriends.org>
References: <22385.43402.899210.927664@zaphod.ms25.net>
 <201606282146.u5SLkRNL005487@freefriends.org>
Message-ID: <22387.3609.234358.545676@zaphod.ms25.net>

On 2016-06-28 at 21:46:27 +0000, Karl Berry wrote:

 >     all my intentions certainly get lost.
 > 
 > In the case when an author has a straightforward-enough package but
 > wants certain files in certain places, it is fine to either include
 > an installation note in the README, or with the CTAN upload (they
 > pass it on to me), or, if I install it wrong, report the problem
 > and I will fix it.  Not an issue.  Much better than making a
 > .tds.zip just to "work around" my bug.

Sure.  I actually didn't have tds.zip files in mind.  What I suggest
is a flat hierarchy on CTAN like

  packagename/{doc,source,tex,tfm,...}

The CTAN team assumes that users want to browse the files.  But web
browsers display only files with particular filename extensions and
offer to download everything else.  So it's useful to have browsable
and unrecognized files in different directories.  In this case you get
the information where an author wants to have his files installed for
free.

Admittedly, I never used the CTAN web interface for accessing anything
but documentation.  Browsing anything else is nearly impossible. 

I suppose that even if an author provides everything in a single
directory, the CTAN team sorts out the documentation, at least.

 > Notwithstanding, I think .tds.zip is fine and appropriate for
 > vntex.

Good to know.  It saves us a lot of time because our svn repository
has been TDS compliant from the beginnig.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From vincent.torri at gmail.com  Wed Jun 29 17:59:26 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Wed, 29 Jun 2016 17:59:26 +0200
Subject: [tex-live] memory leak with kpathsea_find_file() ?
In-Reply-To: <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
References: <201606272250.u5RMorAS021379@freefriends.org>
 <FB33C39BC91C43E3AB9A6AAAB4400B4B@CJ3001517A>
Message-ID: <CAMq1adoQR9FnRox3esmSJij2OUKVvr+8fduc8AvO52EfNP3gHg@mail.gmail.com>

On Tue, Jun 28, 2016 at 6:46 AM, Akira Kakuto <kakuto at fuk.kindai.ac.jp> wrote:
>>     n = kpathsea_find_file(kpse, name, kpse_tfm_format, 1);
>>     ...
>>     trying to free 'n' with free() leads to errors
>
>
> On windows, if I link by using the import library,
> I cannot reproduce the error.
> However if I use the LoadLibrary() method, I can reproduce
> the error. I don't understand why. Presumably my DLL lacks
> something necessary, though it has been useful if used with
> the import library.

maybe some initialization not done. Maybe look at DllMain() to
initialize stuff when the DLL is loaded

https://msdn.microsoft.com/en-us/library/windows/desktop/ms682583(v=vs.85).aspx
https://msdn.microsoft.com/en-us/library/windows/desktop/ms682596(v=vs.85).aspx

regards

Vincent Torri

From zarniwhoop at ntlworld.com  Wed Jun 29 22:59:14 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Wed, 29 Jun 2016 21:59:14 +0100
Subject: [tex-live] Bad perms in 2016 texmf ?
In-Reply-To: <201606270101.u5R117x7031179@freefriends.org>
References: <20160624233411.GA28044@milliways.localdomain>
 <201606270101.u5R117x7031179@freefriends.org>
Message-ID: <20160629205914.GA675@milliways.localdomain>

On Mon, Jun 27, 2016 at 01:01:07AM +0000, Karl Berry wrote:

(replying to the list now that I've had time to use it)

> Hi Ken - you probably have no reason to spend more time on it, but FYI,
> I've recreated the texmf tarball as texlive-20160523b-texmf.tar.xz in
> ftp://tug.org/historic/systems/texlive/2016/ (also .sha512 and .asc).
> Hopefully the permissions are more reasonable.
> 
> I found some Japanese property list (.pl) files that were spuriously
> executable due to the conflict with .pl for Perl.  I fixed those.
> 
> Aside from that, under doc/ and source/, there may well be some scripts
> which are not executable (especially if they don't have an extension),
> but I've never worried about that.  (People can always invoke them
> "manually".)  I'm more interested in fixing files that are executable
> and shouldn't be, if you find any of those.  (gmglo.ist is fixed.)
> 
> Thanks/sorry,
> Karl

Works fine for me.  In the previous version, it was only the
'unreadable by others' files and directories that made me look.
Those are all gone, and all my limited tests now pass.

Thanks again.

?en
-- 
Democracy is the theory that the common people know what they want,
and deserve to get it good and hard -- H.L. Mencken

From vincent.torri at gmail.com  Thu Jun 30 12:08:25 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Thu, 30 Jun 2016 12:08:25 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
Message-ID: <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>

Hello

On Fri, Jun 10, 2016 at 4:26 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
>
>
> I would remove VS binaries in favor of Cygwin and MSYS2-MINGW64 ones. Notice
> that Cygwin already gives a method to install and use TL in the same manner
> one uses TL on GNU/Linux and OSX (I don't use MacTex): same scripts to setup
> PATHs, same build documents commands and so on... With MSYS2-MINGW64 would
> be the same, almost..

As the Windows maintainer of several projects, I can confirm that with
MSYS2 + mingw-w64, the compilation is the same (and even, cross
compiling on linux is even faster as MSYS2 is quite slow).

it's a matter of using i686-w64-mingw32-gcc or x86_64-w64-mingw32-gcc
as compiler, that's all.

I think that you use the autotools, in that case, configure should
just be called like that (in MSYS2 or on linux for cross compilation):

./configure --host=i686-w64-mingw32 etc....

or

./configure --host=x86_64-w64-mingw32 etc....

On the coding side, what is important is that on Windows 64 bits,
'long int' is a 32 bits type, unlike on UNIX 64 bits.

>>
>> I would also be in favour of adding them, but Karl is afraid of the
>> added complexity with not that much "added value" (properly supporting
>> 64-bit Windows also means providing 64-bit perl, ghostscript etc.,
>> doubling the space required for all those binaries and properly
>> deciding whether the Windows in 32-bit or 64-bit, ...).
>
>
> why then having double binaries for other platforms (i386/x86_64 for linux
> etc..)
>
> BTW, having the same app running on different systems helps in finding
> subtle bugs..

indeed.

Vincent Torri

From angelo.graziosi at alice.it  Thu Jun 30 15:37:11 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Thu, 30 Jun 2016 15:37:11 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
Message-ID: <9127527f-093f-0aa3-29dd-d545c9c5a9d1@alice.it>

Ciao Vincent,

Il 30/06/2016 12:08, Vincent Torri ha scritto:
>
> As the Windows maintainer of several projects, I can confirm that with
> MSYS2 + mingw-w64, the compilation is the same (and even, cross
> compiling on linux is even faster as MSYS2 is quite slow).
>
> it's a matter of using i686-w64-mingw32-gcc or x86_64-w64-mingw32-gcc
> as compiler, that's all.

is not clear if you have successfully build TL (say from master) using this:

>
> I think that you use the autotools, in that case, configure should
> just be called like that (in MSYS2 or on linux for cross compilation):
>
> ./configure --host=i686-w64-mingw32 etc....
>
> or
>
> ./configure --host=x86_64-w64-mingw32 etc....

I tried "CXX=g++ ./Build" (or something like that) but the build stopped 
after a while (not on ICU) (now I don't remember...)

If you have built TL, may you give a recipe both for MSYS2-MINGW64 build 
and the cross build on linux?

> On the coding side, what is important is that on Windows 64 bits,
> 'long int' is a 32 bits type, unlike on UNIX 64 bits.

Yes, this is an old story..

TIA,
  Angelo.

