From vincent.torri at gmail.com  Fri Jul  1 07:13:35 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 1 Jul 2016 07:13:35 +0200
Subject: [tex-live] my experience of building TeX Live with Windows gcc 64
 bits
Message-ID: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>

Hello

after the checkout of the TeX Live tree,  I run

./Build --build=x86_64-w64-mingw32 --host =x86_64-w64-mingw32

1) In kpathsea,  I have several warnings of const/non const strings.
For example, the first one:

../../../texk/kpathsea/expand.c: In function 'brace_expand':
../../../texk/kpathsea/expand.c:346:9: warning: passing argument 2 of
'kpathsea_IS_KANJI' discards 'const' qualifier from pointer target
type [enabled by default]
         else if (kpathsea_IS_KANJI(kpse, p))
         ^
In file included from ../../../texk/kpathsea/../kpathsea/config.h:104:0,
                 from ../../../texk/kpathsea/expand.c:20:
../../../texk/kpathsea/../kpathsea/knj.h:42:20: note: expected 'char
*' but argument is of type 'const_string'
 extern KPSEDLL int kpathsea_IS_KANJI(kpathsea kpse, char *p);
                    ^

I can provide all the warnings, if you want


2) I have an error during the build of the documentation of kpathsea:

../../../../texk/kpathsea/doc/kpathsea.texi:126: First argument to
cross-reference may not be empty.
../../../../texk/kpathsea/doc/kpathsea.texi:127: First argument to
cross-reference may not be empty.
../../../../texk/kpathsea/doc/kpathsea.texi:128: First argument to
cross-reference may not be empty.
../../../../texk/kpathsea/doc/kpathsea.texi:137: First argument to
cross-reference may not be empty.
../../../../texk/kpathsea/doc/kpathsea.texi:2356: First argument to
cross-reference may not be empty.
makeinfo: Removing output file
`../../../../texk/kpathsea/doc/kpathsea.info' due to errors; use
--force to preserve.

regards

Vincent Torri

From kakuto at fuk.kindai.ac.jp  Fri Jul  1 10:26:23 2016
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 1 Jul 2016 17:26:23 +0900
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
Message-ID: <59D050FC505741C08822829763780FB4@CJ3001517A>

Dear Vincent,

> 1) In kpathsea,  I have several warnings of const/non const strings.
> For example, the first one:

Thanks. Fixed in r41586.

Best,
Akira


From P.Taylor at Rhul.Ac.Uk  Fri Jul  1 10:53:43 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 1 Jul 2016 09:53:43 +0100
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <59D050FC505741C08822829763780FB4@CJ3001517A>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
 <59D050FC505741C08822829763780FB4@CJ3001517A>
Message-ID: <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>

Dear Vincent / Akira-san --

Akira Kakuto wrote:
> Dear Vincent,
>> 1) In kpathsea,  I have several warnings of const/non const strings.
>> For example, the first one:
> Thanks. Fixed in r41586.
Does this mean that it is now possible for "normal" Windows users such as myself (people who have no familiarity with C or with packages such as "autoconf", etc., to compile [1] Windows 64-bit binaries for themselves ?  I ask because when I asked earlier about compiling TeX under Windows, I understood from Akira-san that a great deal of manual intervention was required which he did not have time to document; is this no longer the case ?

Philip Taylor
--------
[1] not cross-compile

From vincent.torri at gmail.com  Fri Jul  1 12:30:38 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 1 Jul 2016 12:30:38 +0200
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
 <59D050FC505741C08822829763780FB4@CJ3001517A>
 <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>
Message-ID: <CAMq1adpUeDzeE7qM9HU2M+Az2M-SqfpRcAztQpUP1T+PeoeWxQ@mail.gmail.com>

hello

On Fri, Jul 1, 2016 at 10:53 AM, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:
> Dear Vincent / Akira-san --
>
> Akira Kakuto wrote:
>> Dear Vincent,
>>> 1) In kpathsea,  I have several warnings of const/non const strings.
>>> For example, the first one:
>> Thanks. Fixed in r41586.
> Does this mean that it is now possible for "normal" Windows users such as myself (people who have no familiarity with C or with packages such as "autoconf", etc., to compile [1] Windows 64-bit binaries for themselves ?  I ask because when I asked earlier about compiling TeX under Windows, I understood from Akira-san that a great deal of manual intervention was required which he did not have time to document; is this no longer the case ?

if the autotools are well written and the code support windows 64
bits, it is (or should be) easy with MSYS2.

note that, technically speaking, it's still cross-compilation, but
it's native (no cygwin).

If there are errors, i'll report tham in that thread.

Vincent Torri


>
> Philip Taylor
> --------
> [1] not cross-compile


From P.Taylor at Rhul.Ac.Uk  Fri Jul  1 12:33:01 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 1 Jul 2016 11:33:01 +0100
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <09C7B999813F44CFBE3A0FC5641DC023@CJ3001517A>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
 <59D050FC505741C08822829763780FB4@CJ3001517A>
 <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>
 <09C7B999813F44CFBE3A0FC5641DC023@CJ3001517A>
Message-ID: <03c414c3-e0c2-506d-bf98-7574838cb32e@Rhul.Ac.Uk>



Is it safe to assume that if I follow Karl's instructions and perform

> rsync -a --delete --exclude=.svn tug.org::tldevsrc/Build/source/ /your/dir/

I will automatically get the latest version which will include "(Fixed in) r41586" or later ?

** Phil.


From vincent.torri at gmail.com  Fri Jul  1 12:34:38 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 1 Jul 2016 12:34:38 +0200
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
Message-ID: <CAMq1adqzYSNba=m9nxc1-pdqhtC+JpcNwtO4nMJdnjMX=2bNpA@mail.gmail.com>

Hello,

Dependency texinfo is needed. In MSYS2:

pacman -Sy texinfo

Vincent Torri


On Fri, Jul 1, 2016 at 7:13 AM, Vincent Torri <vincent.torri at gmail.com> wrote:
> Hello
>
> after the checkout of the TeX Live tree,  I run
>
> ./Build --build=x86_64-w64-mingw32 --host =x86_64-w64-mingw32
>
> 1) In kpathsea,  I have several warnings of const/non const strings.
> For example, the first one:
>
> ../../../texk/kpathsea/expand.c: In function 'brace_expand':
> ../../../texk/kpathsea/expand.c:346:9: warning: passing argument 2 of
> 'kpathsea_IS_KANJI' discards 'const' qualifier from pointer target
> type [enabled by default]
>          else if (kpathsea_IS_KANJI(kpse, p))
>          ^
> In file included from ../../../texk/kpathsea/../kpathsea/config.h:104:0,
>                  from ../../../texk/kpathsea/expand.c:20:
> ../../../texk/kpathsea/../kpathsea/knj.h:42:20: note: expected 'char
> *' but argument is of type 'const_string'
>  extern KPSEDLL int kpathsea_IS_KANJI(kpathsea kpse, char *p);
>                     ^
>
> I can provide all the warnings, if you want
>
>
> 2) I have an error during the build of the documentation of kpathsea:
>
> ../../../../texk/kpathsea/doc/kpathsea.texi:126: First argument to
> cross-reference may not be empty.
> ../../../../texk/kpathsea/doc/kpathsea.texi:127: First argument to
> cross-reference may not be empty.
> ../../../../texk/kpathsea/doc/kpathsea.texi:128: First argument to
> cross-reference may not be empty.
> ../../../../texk/kpathsea/doc/kpathsea.texi:137: First argument to
> cross-reference may not be empty.
> ../../../../texk/kpathsea/doc/kpathsea.texi:2356: First argument to
> cross-reference may not be empty.
> makeinfo: Removing output file
> `../../../../texk/kpathsea/doc/kpathsea.info' due to errors; use
> --force to preserve.
>
> regards
>
> Vincent Torri

From P.Taylor at Rhul.Ac.Uk  Fri Jul  1 13:57:07 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 1 Jul 2016 12:57:07 +0100
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <03c414c3-e0c2-506d-bf98-7574838cb32e@Rhul.Ac.Uk>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
 <59D050FC505741C08822829763780FB4@CJ3001517A>
 <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>
 <09C7B999813F44CFBE3A0FC5641DC023@CJ3001517A>
 <03c414c3-e0c2-506d-bf98-7574838cb32e@Rhul.Ac.Uk>
Message-ID: <bf6d62c4-6b3c-2e3b-936d-0e0d017208ef@Rhul.Ac.Uk>


Delighted to learn from Vincent Torri that one can, at least in theory, build a 64-bit TeX Live for Windows, and having overcome a couple of initial hurdles, I can now, like Vicent, perform a :

./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32

within the context of an Msys command-line window.  However, this builds a complete TeX Live system, which is not only massive overkill for my requirements but also slows down testing very badly indeed.  What I would /like/ to be able to do is to compile and link only XeTeX.  Could anyone familiar with  the TeX Live "Build" system please advise how to accomplish that via the "Build" script rather than via manual invocations of "configure", "make", etc., with none of which have I any familiarity at all.

Many thanks in advance :
-- 

Philip Taylor


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/83b040e9/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/83b040e9/attachment-0001.jpe>

From vincent.torri at gmail.com  Fri Jul  1 14:13:21 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 1 Jul 2016 14:13:21 +0200
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <CAMq1adqzYSNba=m9nxc1-pdqhtC+JpcNwtO4nMJdnjMX=2bNpA@mail.gmail.com>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
 <CAMq1adqzYSNba=m9nxc1-pdqhtC+JpcNwtO4nMJdnjMX=2bNpA@mail.gmail.com>
Message-ID: <CAMq1adpbi=FdP0eeY6ZHiJwbbD-Xik8eKC=nxu2abM0exDgyNw@mail.gmail.com>

another warning:


../../../libs/zziplib/zziplib-src/zzip/plugin.c:49:5: warning:
initialization from incompatible pointer type [enabled by default]
     &_zzip_read,
     ^
../../../libs/zziplib/zziplib-src/zzip/plugin.c:49:5: warning: (near
initialization for 'default_io.read') [enabled by default]
../../../libs/zziplib/zziplib-src/zzip/plugin.c:54:1: warning:
initialization from incompatible pointer type [enabled by default]
 };
 ^
../../../libs/zziplib/zziplib-src/zzip/plugin.c:54:1: warning: (near
initialization for 'default_io.write') [enabled by default]


On Fri, Jul 1, 2016 at 12:34 PM, Vincent Torri <vincent.torri at gmail.com> wrote:
> Hello,
>
> Dependency texinfo is needed. In MSYS2:
>
> pacman -Sy texinfo
>
> Vincent Torri
>
>
> On Fri, Jul 1, 2016 at 7:13 AM, Vincent Torri <vincent.torri at gmail.com> wrote:
>> Hello
>>
>> after the checkout of the TeX Live tree,  I run
>>
>> ./Build --build=x86_64-w64-mingw32 --host =x86_64-w64-mingw32
>>
>> 1) In kpathsea,  I have several warnings of const/non const strings.
>> For example, the first one:
>>
>> ../../../texk/kpathsea/expand.c: In function 'brace_expand':
>> ../../../texk/kpathsea/expand.c:346:9: warning: passing argument 2 of
>> 'kpathsea_IS_KANJI' discards 'const' qualifier from pointer target
>> type [enabled by default]
>>          else if (kpathsea_IS_KANJI(kpse, p))
>>          ^
>> In file included from ../../../texk/kpathsea/../kpathsea/config.h:104:0,
>>                  from ../../../texk/kpathsea/expand.c:20:
>> ../../../texk/kpathsea/../kpathsea/knj.h:42:20: note: expected 'char
>> *' but argument is of type 'const_string'
>>  extern KPSEDLL int kpathsea_IS_KANJI(kpathsea kpse, char *p);
>>                     ^
>>
>> I can provide all the warnings, if you want
>>
>>
>> 2) I have an error during the build of the documentation of kpathsea:
>>
>> ../../../../texk/kpathsea/doc/kpathsea.texi:126: First argument to
>> cross-reference may not be empty.
>> ../../../../texk/kpathsea/doc/kpathsea.texi:127: First argument to
>> cross-reference may not be empty.
>> ../../../../texk/kpathsea/doc/kpathsea.texi:128: First argument to
>> cross-reference may not be empty.
>> ../../../../texk/kpathsea/doc/kpathsea.texi:137: First argument to
>> cross-reference may not be empty.
>> ../../../../texk/kpathsea/doc/kpathsea.texi:2356: First argument to
>> cross-reference may not be empty.
>> makeinfo: Removing output file
>> `../../../../texk/kpathsea/doc/kpathsea.info' due to errors; use
>> --force to preserve.
>>
>> regards
>>
>> Vincent Torri

From idest at online.de  Fri Jul  1 14:24:01 2016
From: idest at online.de (Michael Berger)
Date: Fri, 1 Jul 2016 14:24:01 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command '\it'
 and '\rm'
Message-ID: <577660E1.4050603@online.de>

Hi all,
I am new to this list.
I am heavily engaged in writing linguistic and engineering papers.
I have Mageia5 x86:64  KDE which runs so far without any problems using 
texlive2013 and Lyx 2.1., both as standard installations using Mageia's 
software manger.

Going for new features and latest improvements of LyX and KOMA I 
installed texlive2016 GUI and Lyx 2.2.0
Now I am facing various problems, most annoying the one as per 'subject'.

The mini file attached compiles if I add 'enabledeprecatedfontcommands' 
in Class options > Custom.
This option works for the mini example with no no complaint although it 
is also already deprecated.
However, using this very option in other (more complex) documents 
returns errors and plenty of warnings.

Members of the lyx users lists could not help.
Some suspect a conflict with the covington package, and of course in all 
my documents the module 'linguistics' is loaded.
But now that I am addressing the 'real TeXers' hope comes up!
(I am just an ordinary user!)

Please, is somebody out there to resolve this?

Thanks and cheers,
Michael

PS: the error occurs with both TL2013/LyX2.1 and TL2016/LyX 2.2.0 as well
-------------- next part --------------
A non-text attachment was scrubbed...
Name: glosseLyx2.2.lyx
Type: application/x-lyx
Size: 2390 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/0536bc3e/attachment-0001.bin>

From bnb at ams.org  Fri Jul  1 15:36:03 2016
From: bnb at ams.org (Barbara Beeton)
Date: Fri, 1 Jul 2016 09:36:03 -0400
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <577660E1.4050603@online.de>
References: <577660E1.4050603@online.de>
Message-ID: <alpine.LRH.2.00.1607010932420.8500@snort.ams.org>

hi, michael,

    I am new to this list.

the purpose of this list is to discuss
matters concerning the tex live distribution,
not particular user problems.

a better "target" for your problem is the
tex.stackexchange q&a site:

  http://tex.stackexchange.com

if you post your problem there, i'm sure
it will be given a helpful reception.

    I am heavily engaged in writing linguistic and engineering papers.
    [...]

good luck.				-- bb


From daleif at math.au.dk  Fri Jul  1 15:43:18 2016
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 1 Jul 2016 13:43:18 +0000
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <577660E1.4050603@online.de>
References: <577660E1.4050603@online.de>
Message-ID: <1467380602716.42144@math.au.dk>

in general where does those \it and \rm commands come from?

They have been on the do-not-use list since the 1990'ies and thus should not be used at all.


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Michael Berger <idest at online.de>
Sent: 01 July 2016 14:24
To: "tex-live" mailing list
Subject: [tex-live] Class scrartcl Error: undefined old font command '\it' and '\rm'

Hi all,
I am new to this list.
I am heavily engaged in writing linguistic and engineering papers.
I have Mageia5 x86:64  KDE which runs so far without any problems using
texlive2013 and Lyx 2.1., both as standard installations using Mageia's
software manger.

Going for new features and latest improvements of LyX and KOMA I
installed texlive2016 GUI and Lyx 2.2.0
Now I am facing various problems, most annoying the one as per 'subject'.

The mini file attached compiles if I add 'enabledeprecatedfontcommands'
in Class options > Custom.
This option works for the mini example with no no complaint although it
is also already deprecated.
However, using this very option in other (more complex) documents
returns errors and plenty of warnings.

Members of the lyx users lists could not help.
Some suspect a conflict with the covington package, and of course in all
my documents the module 'linguistics' is loaded.
But now that I am addressing the 'real TeXers' hope comes up!
(I am just an ordinary user!)

Please, is somebody out there to resolve this?

Thanks and cheers,
Michael

PS: the error occurs with both TL2013/LyX2.1 and TL2016/LyX 2.2.0 as well


From zdenek.wagner at gmail.com  Fri Jul  1 15:52:10 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 1 Jul 2016 15:52:10 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <alpine.LRH.2.00.1607010932420.8500@snort.ams.org>
References: <577660E1.4050603@online.de>
 <alpine.LRH.2.00.1607010932420.8500@snort.ams.org>
Message-ID: <CAC1phyZxbUrsmRsQyNuoeXQB_qts3ABJ63W_z+0iuLN1D4btOw@mail.gmail.com>

As Barbara wrote, this list deals with development of TeX Live
infrastructure, not TeX itself, not the packages. Anyway, the answer is
simple, you are trying to use commands of LaTeX 2.09 which is deprecated
for more that 10 years. Instead of \it you should use {\itshape text in
italics\/} or even better \textit{text in italics} etc. You should
definitely read an introduction to LaTeX, especially font switching
commands as they are defined in NFSS2.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

2016-07-01 15:36 GMT+02:00 Barbara Beeton <bnb at ams.org>:

> hi, michael,
>
>     I am new to this list.
>
> the purpose of this list is to discuss
> matters concerning the tex live distribution,
> not particular user problems.
>
> a better "target" for your problem is the
> tex.stackexchange q&a site:
>
>   http://tex.stackexchange.com
>
> if you post your problem there, i'm sure
> it will be given a helpful reception.
>
>     I am heavily engaged in writing linguistic and engineering papers.
>     [...]
>
> good luck.                              -- bb
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/28de7c20/attachment.html>

From idest at online.de  Fri Jul  1 16:08:04 2016
From: idest at online.de (Michael Berger)
Date: Fri, 1 Jul 2016 16:08:04 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <1467380602716.42144@math.au.dk>
References: <577660E1.4050603@online.de> <1467380602716.42144@math.au.dk>
Message-ID: <57767944.60209@online.de>

Hi Lars,
that is the mistery!
This error turned up AFTER I started using the laTest availabe TL2016, I 
never ever typed \is and/or \rm.
And I never saw this error when using TL2013 with LyX 2.1.
Michael

On 07/01/2016 03:43 PM, Lars Madsen wrote:
> in general where does those \it and \rm commands come from?
>
> They have been on the do-not-use list since the 1990'ies and thus should not be used at all.
>
>
> /Lars Madsen
> Institut for Matematik / Department of Mathematics
> Aarhus Universitet / Aarhus University
> Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math
>
>
> ________________________________________
> From: tex-live <tex-live-bounces at tug.org> on behalf of Michael Berger <idest at online.de>
> Sent: 01 July 2016 14:24
> To: "tex-live" mailing list
> Subject: [tex-live] Class scrartcl Error: undefined old font command '\it' and '\rm'
>
> Hi all,
> I am new to this list.
> I am heavily engaged in writing linguistic and engineering papers.
> I have Mageia5 x86:64  KDE which runs so far without any problems using
> texlive2013 and Lyx 2.1., both as standard installations using Mageia's
> software manger.
>
> Going for new features and latest improvements of LyX and KOMA I
> installed texlive2016 GUI and Lyx 2.2.0
> Now I am facing various problems, most annoying the one as per 'subject'.
>
> The mini file attached compiles if I add 'enabledeprecatedfontcommands'
> in Class options > Custom.
> This option works for the mini example with no no complaint although it
> is also already deprecated.
> However, using this very option in other (more complex) documents
> returns errors and plenty of warnings.
>
> Members of the lyx users lists could not help.
> Some suspect a conflict with the covington package, and of course in all
> my documents the module 'linguistics' is loaded.
> But now that I am addressing the 'real TeXers' hope comes up!
> (I am just an ordinary user!)
>
> Please, is somebody out there to resolve this?
>
> Thanks and cheers,
> Michael
>
> PS: the error occurs with both TL2013/LyX2.1 and TL2016/LyX 2.2.0 as well
>


From angelo.graziosi at alice.it  Fri Jul  1 17:00:08 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 1 Jul 2016 17:00:08 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
Message-ID: <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>

Vincent Torri wrote:
> after the checkout of the TeX Live tree,  I run
>
> ./Build --build=x86_64-w64-mingw32 --host =x86_64-w64-mingw32


Philip Taylor wrote:
> Delighted to learn from Vincent Torri that one can, at least in
> theory, build a 64-bit TeX Live for Windows, and having overcome
> a couple of initial hurdles, I can now, like Vicent, perform a :
>
> ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32
>
> within the context of an Msys command-line window.

Which "Msys command-line window"?

Please, explain..

If I try

   ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32


from msys2 shell [1], it fails, obviously, as:

$ ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32
[...]

+ eval ../configure --prefix=/tmp/tlsrc/inst --datadir=/tmp/tlsrc/inst 
--disable-missing --enable-largefile --disable-shared 
--with-xdvi-x-toolkit=xaw --build=x86_64-w64-mingw32 
--host=x86_64-w64-mingw32
../configure --prefix=/tmp/tlsrc/inst --datadir=/tmp/tlsrc/inst 
--disable-missing --enable-largefile --disable-shared 
--with-xdvi-x-toolkit=xaw --build=x86_64-w64-mingw32 
--host=x86_64-w64-mingw32
++ ../configure --prefix=/tmp/tlsrc/inst --datadir=/tmp/tlsrc/inst 
--disable-missing --enable-largefile --disable-shared 
--with-xdvi-x-toolkit=xaw --build=x86_64-w64-mingw32 
--host=x86_64-w64-mingw32
configure: loading site script /etc/config.site
checking build system type... x86_64-w64-mingw32
checking host system type... x86_64-w64-mingw32
checking for x86_64-w64-mingw32-gcc... x86_64-w64-mingw32-gcc
checking whether the C compiler works... no
configure: error: in `/tmp/tlsrc/Work':
configure: error: C compiler cannot create executables
See `config.log' for more details
+ echo 77
done (exit status 77) Fri Jul 1 16:32:07 CEST 2016


If I run the same command from MINGW64 shell [2], it fails building icu 
library

$ ls -lrt /tmp/tlsrc/Work/libs/
totale 168
[...]        1 lug 13.15 config.status
[...]        1 lug 13.15 Makefile
[...]        1 lug 13.15 config.log
[...]     0  1 lug 13.23 zlib
[...]     0  1 lug 13.25 lua52
[...]     0  1 lug 13.29 luajit
[...]     0  1 lug 13.30 libpaper
[...]     0  1 lug 13.31 libpng
[...]     0  1 lug 13.34 freetype2
[...]     0  1 lug 13.36 gd
[...]     0  1 lug 13.36 potrace
[...]     0  1 lug 13.38 pixman
[...]     0  1 lug 13.40 cairo
[...]     0  1 lug 13.43 gmp
[...]     0  1 lug 13.45 mpfr
[...]     0  1 lug 13.50 poppler
[...]     0  1 lug 13.54 xpdf
[...]     0  1 lug 13.55 zziplib
[...]     0  1 lug 13.56 graphite2
[...]     0  1 lug 13.57 teckit
[...]     0  1 lug 13.58 icu

because the build switches to use clang++ which does not like icu code 
(something related to 128 bit float..).

So,

$ CC=x86_64-w64-mingw32-gcc CXX=x86_64-w64-mingw32-g++ ./Build 
--build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32

fixes this issue and the build continues completing the build in libs, 
utils and many things in texk. Then it breaks at

libtool: link: x86_64-w64-mingw32-g++ -g -O2 -o xetex.exe 
xetexdir/xetex-xetexextra.o synctexdir/xetex-synctex.o xetex-xetexini.o 
xetex-xetex0.o xetex-xetex-pool.o  libxetex.a 
/tmp/tlsrc/Work/libs/harfbuzz/libharfbuzz.a 
/tmp/tlsrc/Work/libs/graphite2/libgraphite2.a 
/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicuuc.a 
/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a 
/tmp/tlsrc/Work/libs/teckit/libTECkit.a 
/tmp/tlsrc/Work/libs/poppler/libpoppler.a -lgdi32 
/tmp/tlsrc/Work/libs/libpng/libpng.a 
/tmp/tlsrc/Work/libs/freetype2/libfreetype.a 
/tmp/tlsrc/Work/libs/zlib/libz.a libmd5.a -LC:/msys64/mingw64/lib 
-lfontconfig -lfreetype lib/lib.a 
/tmp/tlsrc/Work/texk/kpathsea/.libs/libkpathsea.a -lwsock32
x86_64-w64-mingw32-g++.exe: error: 
C:/msys64/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a: No such 
file or directory

Indeed, libicudata.a does not exist there..

  Angelo

---------
[1] MSYS2 shell is that started with C:\msys64\msys2.exe or 
C:\msys64\msys2_shell.bat or, since yesterday upgrade, 
C:\msys64\msys2_shell.cmd -msys.

[2] MINGW64 shell, instead, it that started with C:\msys64\mingw64.exe 
or C:\msys64\mingw64_shell.bat or, since yesterday upgrade, 
C:\msys64\msys2_shell.cmd -mingw64.

From P.Taylor at Rhul.Ac.Uk  Fri Jul  1 17:17:26 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 1 Jul 2016 16:17:26 +0100
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
Message-ID: <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>


Angelo Graziosi wrote:
> Philip Taylor wrote:
>> Delighted to learn from Vincent Torri that one can, at least in
>> theory, build a 64-bit TeX Live for Windows, and having overcome
>> a couple of initial hurdles, I can now, like Vicent, perform a :
>>
>> ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32
>>
>> within the context of an Msys command-line window.
>
> Which "Msys command-line window"?
>
> Please, explain..
At first I did not have Msys at all, and did not realise that it was needed.  Needless to say, "./Build" failed horribly at a CMD prompt.  I then installed "msys-base" from the MinGW GUI installer window (and later, mingw32-gcc-g++ and mingw-developer-toolkit, when I found that one or both were needed), created a shortcut called "Msys" in D:\MinGW\msys\1.0 with "Start in" set to D:\MinGW\msys\1.0\bin as recommended in Msys.bat :
> rem ember to set the "Start in:" field of the shortcut.
> rem A value similar to C:\msys\1.0\bin is what the "Start in:" field needs
> rem to represent.
but still encountered problems (such as "No C compiler in path").

Finally I added D:\MinGW\bin, D:\Mingw\Msys\1.0 and D:\Mingw\Msys\1.0\bin to the front of the system-wide path, launched a normal CMD window (in order to pick up the modified path) and typed "Msys". 

That launched the Msys window to which I referred in my earlier message.

Whether this will allow me to compile and link XeTeX, I still do not know; it has been running now for about two hours, and still shews no signs of completion.  The incantation to launch this was taken and modified from Karl's "Build one package" instructions :

> # Create build directory:
> mkdir Work
> cd Work
> # Do the configure:
> ../configure --disable-all-pkgs --enable-xetex -C CFLAGS=-g CXXFLAGS=-g
>
> # Do the make:
> make
but I am not yet in a position to try :
> # Test:
> cd texk/dvipdfm-x
> make check
Of course, this is a 32-bit build; only once that works will I try to see if I can work out how to convert :

> ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32 
into the corresponding incantations for "Configure" and/or "Make".

-- 

Philip Taylor


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/5d370064/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/5d370064/attachment-0001.jpe>

From P.Taylor at Rhul.Ac.Uk  Fri Jul  1 17:30:20 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 1 Jul 2016 16:30:20 +0100
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
Message-ID: <cfe75262-2258-289f-704a-cd48077b7540@Rhul.Ac.Uk>



Philip Taylor wrote:

> but I am not yet in a position to try :
>> # Test:
>> cd texk/dvipdfm-x
>> make check
Well, I am now in that position (at least, in the position as I should have stated it) :

> # Test:
> cd texk/xetex
> make check
but I cannot, since "texk/xetex" was not created.  No errors were reported (as far as I could see) during the "Configure" and "Make" phases.

What staggers me is not that it did not work (that would have been far too much to hope for !) but the sheer number of things that it /did/ build that seemingly have nothing to do with XeTeX at all -- all if these directories have been created under "work/texk" :

> 01/07/2016  14:30    <DIR>          web2c
> 01/07/2016  14:33    <DIR>          afm2pl
> 01/07/2016  14:36    <DIR>          bibtex-x
> 01/07/2016  14:40    <DIR>          chktex
> 01/07/2016  14:42    <DIR>          cjkutils
> 01/07/2016  14:45    <DIR>          detex
> 01/07/2016  14:48    <DIR>          dtl
> 01/07/2016  14:51    <DIR>          dvi2tty
> 01/07/2016  14:54    <DIR>          dvidvi
> 01/07/2016  14:58    <DIR>          dviljk
> 01/07/2016  15:02    <DIR>          dvipdfm-x
> 01/07/2016  15:07    <DIR>          dvipng
> 01/07/2016  15:10    <DIR>          dvipos
> 01/07/2016  15:14    <DIR>          dvipsk
> 01/07/2016  15:18    <DIR>          dvisvgm
> 01/07/2016  15:21    <DIR>          gregorio
> 01/07/2016  15:24    <DIR>          gsftopk
> 01/07/2016  15:29    <DIR>          lcdf-typetools
> 01/07/2016  15:33    <DIR>          makeindexk
> 01/07/2016  15:36    <DIR>          makejvf
> 01/07/2016  15:39    <DIR>          mendexk
> 01/07/2016  15:43    <DIR>          musixtnt
> 01/07/2016  15:47    <DIR>          ps2pk
> 01/07/2016  15:51    <DIR>          psutils
> 01/07/2016  15:55    <DIR>          seetexk
> 01/07/2016  15:58    <DIR>          tex4htk
> 01/07/2016  16:01    <DIR>          ttf2pk2
> 01/07/2016  16:02    <DIR>          ttfdump
> 01/07/2016  16:04    <DIR>          upmendex
> 01/07/2016  16:09    <DIR>          xdvik
> 01/07/2016  16:10    <DIR>          texlive



-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/fd3637d4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/fd3637d4/attachment-0001.jpg>

From kbrow1i at gmail.com  Fri Jul  1 17:39:56 2016
From: kbrow1i at gmail.com (Ken Brown)
Date: Fri, 1 Jul 2016 11:39:56 -0400
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <cfe75262-2258-289f-704a-cd48077b7540@Rhul.Ac.Uk>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
 <cfe75262-2258-289f-704a-cd48077b7540@Rhul.Ac.Uk>
Message-ID: <c545453f-a558-13f2-c3e5-2354fcbe764d@gmail.com>

On 7/1/2016 11:30 AM, Philip Taylor wrote:
>> # Test:
>> cd texk/xetex
>> make check
> but I cannot, since "texk/xetex" was not created.  No errors were
> reported (as far as I could see) during the "Configure" and "Make" phases.

Try cd texk/web2c.

Ken


From usenet at siart.de  Fri Jul  1 17:41:33 2016
From: usenet at siart.de (Uwe Siart)
Date: Fri, 1 Jul 2016 17:41:33 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
References: <577660E1.4050603@online.de> <1467380602716.42144@math.au.dk>
 <57767944.60209@online.de>
Message-ID: <841t3d8ixe.fsf@siart.de>

Michael Berger <idest at online.de> writes:

> This error turned up AFTER I started using the laTest availabe TL2016, I never
> ever typed \is and/or \rm.
> And I never saw this error when using TL2013 with LyX 2.1.

I'm not a LyX user/expert at all, but my rough guess is that LyX
creates/uses those commands and scrartcl.cls stomached them in earlier
versions but issues an error now.

-- 
Uwe


From angelo.graziosi at alice.it  Fri Jul  1 17:50:11 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 1 Jul 2016 17:50:11 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
Message-ID: <87aeea2b-c894-a3f0-b87a-7ba20582b8bb@alice.it>



Il 01/07/2016 17:17, Philip Taylor ha scritto:
> At first I did not have Msys at all, and did not realise that it was needed.
> Needless to say, "./Build" failed horribly at a CMD prompt.  I then installed
> "msys-base" from the MinGW GUI installer window (and later, mingw32-gcc-g++ and
> mingw-developer-toolkit, when I found that one or both were needed), created a
> shortcut called "Msys" in D:\MinGW\msys\1.0 with "Start in" set to
> D:\MinGW\msys\1.0\bin as recommended in Msys.bat :

Oh.. now I understand you are using msys NOT MSYS2 
(http://sourceforge.net/projects/msys2/)!

So, we re speaking of different tools..

  Angelo

From P.Taylor at Rhul.Ac.Uk  Fri Jul  1 17:50:51 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 1 Jul 2016 16:50:51 +0100
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <c545453f-a558-13f2-c3e5-2354fcbe764d@gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
 <cfe75262-2258-289f-704a-cd48077b7540@Rhul.Ac.Uk>
 <c545453f-a558-13f2-c3e5-2354fcbe764d@gmail.com>
Message-ID: <2d9167b5-9838-e677-6e67-25e76717485f@Rhul.Ac.Uk>

Thank you Ken; will try that later, as now am experimenting to see if a 64-bit build gets any further ...

Ken Brown wrote:
> Try cd texk/web2c.

-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/42dc4902/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/42dc4902/attachment-0001.jpg>

From P.Taylor at Rhul.Ac.Uk  Fri Jul  1 17:52:10 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 1 Jul 2016 16:52:10 +0100
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <87aeea2b-c894-a3f0-b87a-7ba20582b8bb@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
 <87aeea2b-c894-a3f0-b87a-7ba20582b8bb@alice.it>
Message-ID: <628d55b8-ded3-2ac6-4f16-096a604dbc02@Rhul.Ac.Uk>



Angelo Graziosi wrote:
> Oh.. now I understand you are using msys NOT MSYS2 (http://sourceforge.net/projects/msys2/)!
>
> So, we re speaking of different tools..
Understood.  In my case, I simply installed the version that the MinGW GUI installer offered me; I was not aware of other versions.
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/81e28f07/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/81e28f07/attachment-0001.jpg>

From vincent.torri at gmail.com  Fri Jul  1 18:34:30 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 1 Jul 2016 18:34:30 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
Message-ID: <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>

On Fri, Jul 1, 2016 at 5:00 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
> Vincent Torri wrote:
>>
>> after the checkout of the TeX Live tree,  I run
>>
>> ./Build --build=x86_64-w64-mingw32 --host =x86_64-w64-mingw32
>
>
>
> If I try
>
>   ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32
>
>
> from msys2 shell [1], it fails, obviously, as:

it obviously does not fail on my computer.

>
> $ ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32
> [...]
>
> + eval ../configure --prefix=/tmp/tlsrc/inst --datadir=/tmp/tlsrc/inst
> --disable-missing --enable-largefile --disable-shared
> --with-xdvi-x-toolkit=xaw --build=x86_64-w64-mingw32
> --host=x86_64-w64-mingw32
> ../configure --prefix=/tmp/tlsrc/inst --datadir=/tmp/tlsrc/inst
> --disable-missing --enable-largefile --disable-shared
> --with-xdvi-x-toolkit=xaw --build=x86_64-w64-mingw32
> --host=x86_64-w64-mingw32
> ++ ../configure --prefix=/tmp/tlsrc/inst --datadir=/tmp/tlsrc/inst
> --disable-missing --enable-largefile --disable-shared
> --with-xdvi-x-toolkit=xaw --build=x86_64-w64-mingw32
> --host=x86_64-w64-mingw32
> configure: loading site script /etc/config.site
> checking build system type... x86_64-w64-mingw32
> checking host system type... x86_64-w64-mingw32
> checking for x86_64-w64-mingw32-gcc... x86_64-w64-mingw32-gcc
> checking whether the C compiler works... no
> configure: error: in `/tmp/tlsrc/Work':
> configure: error: C compiler cannot create executables
> See `config.log' for more details
> + echo 77
> done (exit status 77) Fri Jul 1 16:32:07 CEST 2016

did you look at config.log ? For me, you just didn't install the
mingw-w64 toolchain...

> If I run the same command from MINGW64 shell [2], it fails building icu
> library

This one has the mingw-w64 toolchain installed. You just have to know
what MSYS2 installs, and use for example pacman inside MSYS2 to
install what you want.

if you want, i'll write a document with all the steps I did.

>
> $ CC=x86_64-w64-mingw32-gcc CXX=x86_64-w64-mingw32-g++ ./Build
> --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32
>
> fixes this issue and the build continues completing the build in libs, utils
> and many things in texk. Then it breaks at
>
> /tmp/tlsrc/Work/texk/kpathsea/.libs/libkpathsea.a -lwsock32
> x86_64-w64-mingw32-g++.exe: error:
> C:/msys64/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a: No such file
> or directory
>
> Indeed, libicudata.a does not exist there..

I use a framework which installs some useful dependencies, named win-builds.

Vincent Torri

From vincent.torri at gmail.com  Fri Jul  1 18:36:45 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 1 Jul 2016 18:36:45 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <628d55b8-ded3-2ac6-4f16-096a604dbc02@Rhul.Ac.Uk>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <e9536edf-7851-a527-7347-a9576d9bcdc5@Rhul.Ac.Uk>
 <87aeea2b-c894-a3f0-b87a-7ba20582b8bb@alice.it>
 <628d55b8-ded3-2ac6-4f16-096a604dbc02@Rhul.Ac.Uk>
Message-ID: <CAMq1adp2SoXtxX0i_shf3WBkC_KGoMdG1u-rS=pEwigAvXqyww@mail.gmail.com>

On Fri, Jul 1, 2016 at 5:52 PM, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:
>
>
>
> Angelo Graziosi wrote:
>
> Oh.. now I understand you are using msys NOT MSYS2 (http://sourceforge.net/projects/msys2/)!
>
> So, we re speaking of different tools..
>
> Understood.  In my case, I simply installed the version that the MinGW GUI installer offered me; I was not aware of other versions.

MSYS2 is used a lot as quite faster than MSYS1

Vincent Torri

From angelo.graziosi at alice.it  Fri Jul  1 18:46:27 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 1 Jul 2016 18:46:27 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
Message-ID: <1c660f7b-2538-1d9e-2f7b-0f601a8213bf@alice.it>

Il 01/07/2016 18:34, Vincent Torri ha scritto:
> On Fri, Jul 1, 2016 at 5:00 PM, Angelo Graziosi
> <angelo.graziosi at alice.it> wrote:
>> Vincent Torri wrote:
>>>
>>> after the checkout of the TeX Live tree,  I run
>>>
>>> ./Build --build=x86_64-w64-mingw32 --host =x86_64-w64-mingw32
>>
>>
>>
>> If I try
>>
>>   ./Build --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32
>>
>>
>> from msys2 shell [1], it fails, obviously, as:
>
> it obviously does not fail on my computer.

Obviously...

>>

> did you look at config.log ? For me, you just didn't install the
> mingw-w64 toolchain...

but I DO HAVE that installed! I installed that when I installed MSYS2,

pacman -S --needed msys2-devel
pacman -S --needed mingw-w64-x86_64-toolchain
pacman -S --needed mingw-w64-cross-toolchain
pacman -S --needed mingw-w64-i686-toolchain
pacman -S --needed net-utils
pacman -S --needed sys-utils

>
>> If I run the same command from MINGW64 shell [2], it fails building icu
>> library
>
> This one has the mingw-w64 toolchain installed. You just have to know

as shown above I installed all the group... For example, with it I build 
routinely the mingw-w64-emacs-git package 
(https://github.com/Alexpux/MINGW-packages/tree/master/mingw-w64-emacs-git)

>
> if you want, i'll write a document with all the steps I did.

maybe this is useful.

  Angelo

From angelo.graziosi at alice.it  Fri Jul  1 19:41:02 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 1 Jul 2016 19:41:02 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
Message-ID: <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>



Il 01/07/2016 18:34, Vincent Torri ha scritto:
>
> did you look at config.log ?

it contains these failures:

[...]
configure:3462: x86_64-w64-mingw32-gcc -V >&5
x86_64-w64-mingw32-gcc: error: unrecognized command line option '-V'
x86_64-w64-mingw32-gcc: fatal error: no input files
compilation terminated.
[...]
configure:3462: x86_64-w64-mingw32-gcc -qversion >&5
x86_64-w64-mingw32-gcc: error: unrecognized command line option '-qversion'
x86_64-w64-mingw32-gcc: fatal error: no input files
compilation terminated.
[...]
configure:3462: x86_64-w64-mingw32-gcc -qversion >&5
x86_64-w64-mingw32-gcc: error: unrecognized command line option '-qversion'
x86_64-w64-mingw32-gcc: fatal error: no input files
compilation terminated.
[...]

>
> I use a framework which installs some useful dependencies, named win-builds.

So you are not using a pure MSYS2-MINGW64 system...

Angelo

From reinhard.kotucha at web.de  Fri Jul  1 22:39:42 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 1 Jul 2016 22:39:42 +0200
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
 <59D050FC505741C08822829763780FB4@CJ3001517A>
 <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>
Message-ID: <22390.54542.684555.171001@zaphod.ms25.net>

On 2016-07-01 at 09:53:43 +0100, Philip Taylor wrote:

 > Does this mean that it is now possible for "normal" Windows users
 > such as myself (people who have no familiarity with C or with
 > packages such as "autoconf", etc., to compile [1] Windows 64-bit
 > binaries for themselves ?  I ask because when I asked earlier about
 > compiling TeX under Windows, I understood from Akira-san that a
 > great deal of manual intervention was required which he did not
 > have time to document; is this no longer the case ?

Hello Phil,
do you *want* to compile the binaries yourself?  An alternative is to
steal them from Akira's W32TeX.  The file

  http://ctan.ijs.si/mirror/w32tex/current/win64/xetex-w64.tar.xz

is just two days old and very likely contains the latest fix.

As far as your question is concerned, my experience is that it is
*much* easier to compile programs on Linux and Cygwin rather than with
MinGW. Thus I suppose that Akira's binaries are a very good
alternative, at least if your main intention isn't to compile the
binaries yourself.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From vincent.torri at gmail.com  Fri Jul  1 23:37:29 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 1 Jul 2016 23:37:29 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
Message-ID: <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>

On Fri, Jul 1, 2016 at 7:41 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
>
>
> Il 01/07/2016 18:34, Vincent Torri ha scritto:
>>
>
>>
>> I use a framework which installs some useful dependencies, named
>> win-builds.
>
>
> So you are not using a pure MSYS2-MINGW64 system...

There is no pure MSYS2-MINGW-W64.

There is MSYS2 which is a terminal which interprets some POSIX
features. Technically speaking, it has no relation at all with the
mingw-w64 project. To be more precise :

MSYS1 is derived from the cygwin 1.5 terminal
MSYS2 is derived from the cygwin 1.8 terminal, which is itself derived
from mintty. MSYS2 provides the same package manager than Archlinux
(windows port of pacman).

That's all.

The mingw-w64 project is a gcc toolchain which aims at compiling
source files for Windows, 32 or 64 bits, natively (that is, without
any cygwin DLL dependency). It can be installed and can be used with
any terminal that can execute Windows programs (the Windows console,
MSYS1, MSYS2, ConEmu, Console2, etc...)

That's all.

Then from these 2 projects, you have some kind of MSYS2 + mingw-w64
"distro", that is some projects which install both MSYS2 and
mingw-w64, with different versions.

What I do is installing MSYS2  as terminal, and I use win-builds which
install, among other libraries and program, the mingw-w64 toolchain

Vincent Torri

From angelo.graziosi at alice.it  Sat Jul  2 00:00:09 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Sat, 2 Jul 2016 00:00:09 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
Message-ID: <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>

Hi Vincent,

Il 01/07/2016 23:37, Vincent Torri ha scritto:
> On Fri, Jul 1, 2016 at 7:41 PM, Angelo Graziosi
>>
>>
>> Il 01/07/2016 18:34, Vincent Torri ha scritto:
>>> I use a framework which installs some useful dependencies, named
>>> win-builds.
>>
>> So you are not using a pure MSYS2-MINGW64 system...
>
> There is no pure MSYS2-MINGW-W64.
>
> There is MSYS2 which is a terminal which interprets some POSIX
> features. Technically speaking, it has no relation at all with the
> mingw-w64 project. To be more precise :
>
> MSYS1 is derived from the cygwin 1.5 terminal
> MSYS2 is derived from the cygwin 1.8 terminal, which is itself derived
> from mintty. MSYS2 provides the same package manager than Archlinux
> (windows port of pacman).
>
> That's all.
>
> The mingw-w64 project is a gcc toolchain which aims at compiling
> source files for Windows, 32 or 64 bits, natively (that is, without
> any cygwin DLL dependency). It can be installed and can be used with
> any terminal that can execute Windows programs (the Windows console,
> MSYS1, MSYS2, ConEmu, Console2, etc...)
>
> That's all.

I know the story of MSYS, MinGW, Cygwin, MSYS2 MINGW-W64 and so on (I 
used Cygwin when it was at release 1.2..)

I know also the story of MinTTY, ConEmu (my default terminal) and so on ..

>
> Then from these 2 projects, you have some kind of MSYS2 + mingw-w64
> "distro", that is some projects which install both MSYS2 and
> mingw-w64, with different versions.
>
> What I do is installing MSYS2  as terminal, and I use win-builds which
> install, among other libraries and program, the mingw-w64 toolchain

You should still proof you are able to build Win64 binaries of TL using 
*only* MSYS2 [*] tools and packages..

This is what I mean for "pure MSYS2"!

  Angelo

----
[*] MSYS2 here stands for all the software is described here: 
https://sourceforge.net/projects/msys2

From reinhard.kotucha at web.de  Sat Jul  2 00:19:24 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 2 Jul 2016 00:19:24 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <841t3d8ixe.fsf@siart.de>
References: <577660E1.4050603@online.de>	<1467380602716.42144@math.au.dk>
 <57767944.60209@online.de>	<841t3d8ixe.fsf@siart.de>
Message-ID: <22390.60524.892637.317921@zaphod.ms25.net>

On 2016-07-01 at 17:41:33 +0200, Uwe Siart wrote:

 > Michael Berger <idest at online.de> writes:
 > 
 > > This error turned up AFTER I started using the laTest availabe
 > > TL2016, I never ever typed \is and/or \rm.  And I never saw this
 > > error when using TL2013 with LyX 2.1.
 > 
 > I'm not a LyX user/expert at all, but my rough guess is that LyX
 > creates/uses those commands and scrartcl.cls stomached them in
 > earlier versions but issues an error now.

This is exactly what I assume too.  However, at a first glance it
seems that LyX is the culprit because it creates the LaTeX code.  But
it's also possible and certainly more likely that these deprecated
commands are inherited from another macro package.

The LaTeX team declared the old commands as being deprecated.  But in
order to support old (LaTeX 2.09) documents too, they were kept.  If
they aren't disabled (\let\rm\undefined), they are definitely allowed,
though deprecated.

What, on earth, is the variable

  enabledeprecatedfontcommands
  
good for?  Is it a LyX variable?  Does it control whether LyX itself
inserts \bfseries instead of \bf?  I doubt.  I suppose that the sole
purpose of this variable is to deliberately break everything by
default in order to educate package authors.

Since all the old font commands are still valid in LaTeX2e, though
deprecated, no program should reject them deliberately.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From d.p.carlisle at gmail.com  Sat Jul  2 00:45:32 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 1 Jul 2016 23:45:32 +0100
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <22390.60524.892637.317921@zaphod.ms25.net>
References: <577660E1.4050603@online.de> <1467380602716.42144@math.au.dk>
 <57767944.60209@online.de> <841t3d8ixe.fsf@siart.de>
 <22390.60524.892637.317921@zaphod.ms25.net>
Message-ID: <CAEW6iOhUHN28b=qe1H4X9KrYkn1a4hLX0YTNV5bthJiO1fpT6Q@mail.gmail.com>

On 1 July 2016 at 23:19, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

Since all the old font commands are still valid in LaTeX2e, though
deprecated, no program should reject them deliberately.


Well not really. They were never really "deprecated" as they were _never_
defined in the latex2e format.
They are defined in the standard article/report/book classes and many
contributed classes.

The koma classes recently stopped defining them, which is a slightly brave
choice but one the class
author is entitled to make.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160701/940317dc/attachment-0001.html>

From karl at freefriends.org  Sat Jul  2 01:03:55 2016
From: karl at freefriends.org (Karl Berry)
Date: Fri, 1 Jul 2016 23:03:55 +0000
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
Message-ID: <201607012303.u61N3te0026831@freefriends.org>

    ../../../../texk/kpathsea/doc/kpathsea.texi:126: First argument to
    cross-reference may not be empty.

1. You need the current Texinfo.  That was a new feature we introduced
in Texinfo 5.0 (2013), I believe.

2. If you preserve time stamps from the repository (don't know if that's
possible with your complicated build setup, but anyway), no .info (or
bison or flex or autostuff) files will need to be rebuilt and you don't
need Texinfo at all.  That is the whole reason we check those files into
the repository -- to reduce such dependencies.

If by chance that happens, it is a bug that we will fix, but it is not
the case here, so far as I and my make can determine:

$ cd Build/source/texk/kpathsea/doc
$ ls -lt
total 572
-rw-rw-r-- 1 karl root  24479 Jun 30 01:13 Makefile.in
-rw-rw-r-- 1 karl root 176127 Jun 30 01:07 kpathsea.info
-rw-rw-r-- 1 karl root 127202 Jun 30 01:04 kpathsea.texi
..

--best, karl.

From list1 at michaelshell.org  Sat Jul  2 01:59:13 2016
From: list1 at michaelshell.org (Michael Shell)
Date: Fri, 1 Jul 2016 19:59:13 -0400
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <577660E1.4050603@online.de>
References: <577660E1.4050603@online.de>
Message-ID: <20160701195913.4cd92fba7c16c4fd2230a900@michaelshell.org>

On Fri, 1 Jul 2016 14:24:01 +0200
Michael Berger <idest at online.de> wrote:

> Going for new features and latest improvements of LyX and KOMA I 
> installed texlive2016 GUI and Lyx 2.2.0


I suppose the Koma class stopped supporting those old commands and
something else called in your document is still referring to them.
If you find out which package does that, it is something that is
good to report so that it can get fixed.

You can bring the old commands back as needed via:


\makeatletter
\DeclareOldFontCommand{\rm}{\normalfont\rmfamily}{\mathrm}
\DeclareOldFontCommand{\sf}{\normalfont\sffamily}{\mathsf}
\DeclareOldFontCommand{\tt}{\normalfont\ttfamily}{\mathtt}
\DeclareOldFontCommand{\bf}{\normalfont\bfseries}{\mathbf}
\DeclareOldFontCommand{\it}{\normalfont\itshape}{\mathit}
\DeclareOldFontCommand{\sl}{\normalfont\slshape}{\@nomath\sl}
\DeclareOldFontCommand{\sc}{\normalfont\scshape}{\@nomath\sc}
\makeatother


just after your \documentclass line.

As mentioned by others, tex-live is not the best place to ask
about this kind of stuff. FWIW, there is a newsgroup dedicated
to such TeX/LaTeX user problems - comp.text.tex 

https://groups.google.com/d/forum/comp.text.tex

There is also the texhax mailing list:

http://tug.org/mailman/listinfo/texhax



  Cheers,

  Mike Shell

From P.Taylor at Rhul.Ac.Uk  Sat Jul  2 09:33:54 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 2 Jul 2016 08:33:54 +0100
Subject: [tex-live] my experience of building TeX Live with Windows gcc
 64 bits
In-Reply-To: <22390.54542.684555.171001@zaphod.ms25.net>
References: <CAMq1adosSVZDeornDWv6bihqAP=s49jT9PXuB1+5giFKo_Yiww@mail.gmail.com>
 <59D050FC505741C08822829763780FB4@CJ3001517A>
 <b04e5398-ba50-837f-28a2-1206a7ef3664@Rhul.Ac.Uk>
 <22390.54542.684555.171001@zaphod.ms25.net>
Message-ID: <ce67d071-7ead-9136-cef9-ad099912f0e5@Rhul.Ac.Uk>


Reinhard Kotucha wrote:
> do you *want* to compile the binaries yourself?  An alternative is to
> steal them from Akira's W32TeX.  The file
>
>   http://ctan.ijs.si/mirror/w32tex/current/win64/xetex-w64.tar.xz
>
> is just two days old and very likely contains the latest fix.
>
> As far as your question is concerned, my experience is that it is
> *much* easier to compile programs on Linux and Cygwin rather than with
> MinGW. Thus I suppose that Akira's binaries are a very good
> alternative, at least
I really would like to be able to compile at least XeTeX, Reinhard -- then I can experiment with features that I think useful but which are not of interest to others.  The 64-bit version is optional, but as I have a 64-bit processor and a 64-bit operating system, a 64-bit XeTeX binary would seem to make sense to me ...

And I also think that the TeX community as a whole would benefit if expertise in compiling TeX Live for Windows were more widely distributed than at present -- the entire TeX world is surely grateful to Akira for his incredibly useful work, but if he were suddenly to find himself in a position where he could no longer offer this service, then it would seem to me to be important that a few others should be able to slowly try to take over what he has been doing single-handedly until now ...

The real problem, as I now understand rather better than I did 24 hours ago (i.e., pre-MinGW) is that one does not simply "compile XeTeX".  The whole thing is wrapped in a whole sequence of wrappers (build, configure, make, ...), none of which do I understand in the slightest. 

Anyhow, my attempt failed.  I tried the following :
> # Create build directory:
> mkdir Work
> cd Work
> # Do the configure:
> ../configure --disable-all-pkgs --enable-xetex -C CFLAGS=-g CXXFLAGS=-g
>
> # Do the make:
> make
no error was reported at the final exit of "make", but no XeTeX binary was created and instead I ended up with dozens of new, partially populated directories in "Work/texk"that appear to have nothing whatsoever to do with XeTeX, and a rather smaller number under "Work/utils" and elsewhere.   How do I even start to try to identify why things failed, and why do I now have all these new, seemingly unwanted, directories ?

As an aside, "configure" is extraordinarily verbose :  can I not send the 99.9% of "OK" or "GOOD" messages elsewhere and see only "FAILED" messages on my screen ?

Sub-directory listing of "Work/texk" :
>
>   * afm2pl
>   * bibtex-x
>   * chktex
>   * cjkutils
>   * detex
>   * dtl
>   * dvi2tty
>   * dvidvi
>   * dviljk
>   * dvipdfm-x
>   * dvipng
>   * dvipos
>   * dvipsk
>   * dvisvgm
>   * gregorio
>   * gsftopk
>   * kpathsea
>   * lcdf-typetools
>   * makeindexk
>   * makejvf
>   * mendexk
>   * musixtnt
>   * ps2pk
>   * psutils
>   * ptexenc
>   * seetexk
>   * tex4htk
>   * texlive
>   * ttf2pk2
>   * ttfdump
>   * upmendex
>   * web2c
>   * xdvik
>
Sub-directory listing of "Work/utils" :

  * autosp
  * devnag
  * lacheck
  * m-tx
  * pmx
  * ps2eps
  * t1utils
  * texdoctk
  * tpic2pdftex
  * vlna
  * xindy
  * xpdfopen


** Phil.
-- 

Philip Taylor

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160702/17bc98d8/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160702/17bc98d8/attachment-0001.jpe>

From vincent.torri at gmail.com  Sat Jul  2 11:15:14 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Sat, 2 Jul 2016 11:15:14 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
Message-ID: <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>

Hello,

On Sat, Jul 2, 2016 at 12:00 AM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
> Hi Vincent,
>
> Il 01/07/2016 23:37, Vincent Torri ha scritto:
>>
>> On Fri, Jul 1, 2016 at 7:41 PM, Angelo Graziosi
>>>
>>>
>>>
>>> Il 01/07/2016 18:34, Vincent Torri ha scritto:
>>>>
>>>> I use a framework which installs some useful dependencies, named
>>>> win-builds.
>>>
>>>
>>> So you are not using a pure MSYS2-MINGW64 system...
>>
>>
>> There is no pure MSYS2-MINGW-W64.
>>
>> There is MSYS2 which is a terminal which interprets some POSIX
>> features. Technically speaking, it has no relation at all with the
>> mingw-w64 project. To be more precise :
>>
>> MSYS1 is derived from the cygwin 1.5 terminal
>> MSYS2 is derived from the cygwin 1.8 terminal, which is itself derived
>> from mintty. MSYS2 provides the same package manager than Archlinux
>> (windows port of pacman).
>>
>> That's all.
>>
>> The mingw-w64 project is a gcc toolchain which aims at compiling
>> source files for Windows, 32 or 64 bits, natively (that is, without
>> any cygwin DLL dependency). It can be installed and can be used with
>> any terminal that can execute Windows programs (the Windows console,
>> MSYS1, MSYS2, ConEmu, Console2, etc...)
>>
>> That's all.
>
>
> I know the story of MSYS, MinGW, Cygwin, MSYS2 MINGW-W64 and so on (I used
> Cygwin when it was at release 1.2..)
>
> I know also the story of MinTTY, ConEmu (my default terminal) and so on ..
>
>>
>> Then from these 2 projects, you have some kind of MSYS2 + mingw-w64
>> "distro", that is some projects which install both MSYS2 and
>> mingw-w64, with different versions.
>>
>> What I do is installing MSYS2  as terminal, and I use win-builds which
>> install, among other libraries and program, the mingw-w64 toolchain
>
>
> You should still proof you are able to build Win64 binaries of TL using
> *only* MSYS2 [*] tools and packages..
>
> This is what I mean for "pure MSYS2"!

Ok, i'll try to do the compilation with only MSYS2. I'll try to write
a doc with all the steps. Don't expect that soon : i have few times
these days. But i'll definitely give it a try !

best regards

Vincent Torri

From idest at online.de  Sat Jul  2 11:17:49 2016
From: idest at online.de (Michael Berger)
Date: Sat, 2 Jul 2016 11:17:49 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <841t3d8ixe.fsf@siart.de>
References: <577660E1.4050603@online.de> <1467380602716.42144@math.au.dk>
 <57767944.60209@online.de> <841t3d8ixe.fsf@siart.de>
Message-ID: <577786BD.4050304@online.de>

Yes Uwe,
it very much looks like that. It could also be a mix of Mageia's 64 and 
32 bits packages.
I am still working on this but have no clue as of this moment.
Cheers,
Michael

On 07/01/2016 05:41 PM, Uwe Siart wrote:
> Michael Berger <idest at online.de> writes:
>
>> This error turned up AFTER I started using the laTest availabe TL2016, I never
>> ever typed \is and/or \rm.
>> And I never saw this error when using TL2013 with LyX 2.1.
> I'm not a LyX user/expert at all, but my rough guess is that LyX
> creates/uses those commands and scrartcl.cls stomached them in earlier
> versions but issues an error now.
>


From idest at online.de  Sat Jul  2 11:34:43 2016
From: idest at online.de (Michael Berger)
Date: Sat, 2 Jul 2016 11:34:43 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <CAEW6iOhUHN28b=qe1H4X9KrYkn1a4hLX0YTNV5bthJiO1fpT6Q@mail.gmail.com>
References: <577660E1.4050603@online.de> <1467380602716.42144@math.au.dk>
 <57767944.60209@online.de> <841t3d8ixe.fsf@siart.de>
 <22390.60524.892637.317921@zaphod.ms25.net>
 <CAEW6iOhUHN28b=qe1H4X9KrYkn1a4hLX0YTNV5bthJiO1fpT6Q@mail.gmail.com>
Message-ID: <57778AB3.3020501@online.de>

David, I think so too.
Michael

On 07/02/2016 12:45 AM, David Carlisle wrote:
>
>
> On 1 July 2016 at 23:19, Reinhard Kotucha <reinhard.kotucha at web.de 
> <mailto:reinhard.kotucha at web.de>> wrote:
>
>     Since all the old font commands are still valid in LaTeX2e, though
>     deprecated, no program should reject them deliberately.
>
>
> Well not really. They were never really "deprecated" as they were 
> _never_ defined in the latex2e format.
> They are defined in the standard article/report/book classes and many 
> contributed classes.
>
> The koma classes recently stopped defining them, which is a slightly 
> brave choice but one the class
> author is entitled to make.
>
> David
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160702/ec392c54/attachment-0001.html>

From idest at online.de  Sat Jul  2 11:33:08 2016
From: idest at online.de (Michael Berger)
Date: Sat, 2 Jul 2016 11:33:08 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <22390.60524.892637.317921@zaphod.ms25.net>
References: <577660E1.4050603@online.de> <1467380602716.42144@math.au.dk>
 <57767944.60209@online.de> <841t3d8ixe.fsf@siart.de>
 <22390.60524.892637.317921@zaphod.ms25.net>
Message-ID: <57778A54.4030300@online.de>



On 07/02/2016 12:19 AM, Reinhard Kotucha wrote:
> On 2016-07-01 at 17:41:33 +0200, Uwe Siart wrote:
>
>   > Michael Berger <idest at online.de> writes:
>   >
>   > > This error turned up AFTER I started using the laTest availabe
>   > > TL2016, I never ever typed \is and/or \rm.  And I never saw this
>   > > error when using TL2013 with LyX 2.1.
>   >
>   > I'm not a LyX user/expert at all, but my rough guess is that LyX
>   > creates/uses those commands and scrartcl.cls stomached them in
>   > earlier versions but issues an error now.
>
> This is exactly what I assume too.  However, at a first glance it
> seems that LyX is the culprit because it creates the LaTeX code.  But
> it's also possible and certainly more likely that these deprecated
> commands are inherited from another macro package.
>
> The LaTeX team declared the old commands as being deprecated.  But in
> order to support old (LaTeX 2.09) documents too, they were kept.  If
> they aren't disabled (\let\rm\undefined), they are definitely allowed,
> though deprecated.
>
> What, on earth, is the variable
>
>    enabledeprecatedfontcommands
>    
> good for?
Reinhard, it is a recommended workaround provided in the log file. This 
is ridiculous because itself is an already deprecated option!
I tried it on some of my LyX documents (as a document class option) and 
it worked, but failed on others.
If it works the log file is full with Warnings ... 'one should NOT use 
it because it is a deprecated option'! :-D

Thanks and cheers!

From idest at online.de  Sat Jul  2 11:40:14 2016
From: idest at online.de (Michael Berger)
Date: Sat, 2 Jul 2016 11:40:14 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <20160701195913.4cd92fba7c16c4fd2230a900@michaelshell.org>
References: <577660E1.4050603@online.de>
 <20160701195913.4cd92fba7c16c4fd2230a900@michaelshell.org>
Message-ID: <57778BFE.7040600@online.de>

Thanks Michael,
good idea but I insist on getting the latest and not going back (still 
working on the problem on my sand box machine).
But I will check the links you sent me.
Michael

On 07/02/2016 01:59 AM, Michael Shell wrote:
> On Fri, 1 Jul 2016 14:24:01 +0200
> Michael Berger <idest at online.de> wrote:
>
>> Going for new features and latest improvements of LyX and KOMA I
>> installed texlive2016 GUI and Lyx 2.2.0
>
> I suppose the Koma class stopped supporting those old commands and
> something else called in your document is still referring to them.
> If you find out which package does that, it is something that is
> good to report so that it can get fixed.
>
> You can bring the old commands back as needed via:
>
>
> \makeatletter
> \DeclareOldFontCommand{\rm}{\normalfont\rmfamily}{\mathrm}
> \DeclareOldFontCommand{\sf}{\normalfont\sffamily}{\mathsf}
> \DeclareOldFontCommand{\tt}{\normalfont\ttfamily}{\mathtt}
> \DeclareOldFontCommand{\bf}{\normalfont\bfseries}{\mathbf}
> \DeclareOldFontCommand{\it}{\normalfont\itshape}{\mathit}
> \DeclareOldFontCommand{\sl}{\normalfont\slshape}{\@nomath\sl}
> \DeclareOldFontCommand{\sc}{\normalfont\scshape}{\@nomath\sc}
> \makeatother
>
>
> just after your \documentclass line.
>
> As mentioned by others, tex-live is not the best place to ask
> about this kind of stuff. FWIW, there is a newsgroup dedicated
> to such TeX/LaTeX user problems - comp.text.tex
>
> https://groups.google.com/d/forum/comp.text.tex
>
> There is also the texhax mailing list:
>
> http://tug.org/mailman/listinfo/texhax
>
>
>
>    Cheers,
>
>    Mike Shell
>


From angelo.graziosi at alice.it  Sat Jul  2 13:59:37 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Sat, 2 Jul 2016 13:59:37 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
Message-ID: <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>



Il 02/07/2016 11:15, Vincent Torri ha scritto:

> Ok, i'll try to do the compilation with only MSYS2. I'll try to write
> a doc with all the steps. Don't expect that soon : i have few times
> these days. But i'll definitely give it a try !

Thank you! All the Win64 people will be grateful! :-)


Ciao,
  Angelo.

From tibaldi.amos at gmail.com  Sat Jul  2 07:52:00 2016
From: tibaldi.amos at gmail.com (Amico)
Date: Sat, 2 Jul 2016 07:52:00 +0200
Subject: [tex-live] Found a problem at the formatting at the end of the row
Message-ID: <CAKAO28_WAFcLVFHC1RW_oQ-AfneX2S=Pev+uimx32x-og=vzmQ@mail.gmail.com>

Hello to you.

Probably there is a bug in these three TeX packages:

ii  texlive
2014.20141024-2                      all          TeX Live: A decent
selection of the TeX Live packages
ii  texlive-base
2014.20141024-2                      all          TeX Live: Essential
programs and files
ii  texlive-binaries
2014.20140926.35254-6                amd64        Binaries for TeX Live

I don't understand why the most important formulas or sentences related to
maths and physics that I am still writing are always separated at the end
of the row and splitted in two different lines instead of being kept
together. I hope this is not a bug of this new version of TeX.

Thanks very much indeed for all the answers that you can give to me.

The TeX user Amos Tibaldi.

-- 
Amos Tibaldi
cell phone number: +39 3405594804
mail: tibaldi.amos at gmail.com
Via Strada Rizza 28 - Reggiolo (RE) - Italy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160702/500be51c/attachment.html>

From preining at logic.at  Sun Jul  3 00:03:15 2016
From: preining at logic.at (Norbert Preining)
Date: Sun, 3 Jul 2016 07:03:15 +0900
Subject: [tex-live] Found a problem at the formatting at the end of the
 row
In-Reply-To: <CAKAO28_WAFcLVFHC1RW_oQ-AfneX2S=Pev+uimx32x-og=vzmQ@mail.gmail.com>
References: <CAKAO28_WAFcLVFHC1RW_oQ-AfneX2S=Pev+uimx32x-og=vzmQ@mail.gmail.com>
Message-ID: <20160702220315.GA24392@wienerschnitzel>

Hi Amos,

> ii  texlive
> 2014.20141024-2                      all          TeX Live: A decent

This is TeX Live repackaged for Debian.

This list is only concerned with the original TeX Live packaging.

> I don't understand why the most important formulas or sentences related to
> maths and physics that I am still writing are always separated at the end
> of the row and splitted in two different lines instead of being kept
> together. I hope this is not a bug of this new version of TeX.

These are questions you should ask (WITH!!! an example document) at
	http://tex.stackexchange.com

This list is *not* a user support list.

Thanks.

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From reinhard.kotucha at web.de  Sun Jul  3 02:31:18 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 3 Jul 2016 02:31:18 +0200
Subject: [tex-live] Found a problem at the formatting at the end of the
 row
In-Reply-To: <CAKAO28_WAFcLVFHC1RW_oQ-AfneX2S=Pev+uimx32x-og=vzmQ@mail.gmail.com>
References: <CAKAO28_WAFcLVFHC1RW_oQ-AfneX2S=Pev+uimx32x-og=vzmQ@mail.gmail.com>
Message-ID: <22392.23766.527468.617820@zaphod.ms25.net>

On 2016-07-02 at 07:52:00 +0200, Amico wrote:

 > Hello to you.
 > 
 > Probably there is a bug in these three TeX packages:
 > 
 > ii? texlive?????????????????????????????????????
 > 2014.20141024-2????????????????????? all????????? TeX Live: A decent selection
 > of the TeX Live packages
 > ii? texlive-base????????????????????????????????
 > 2014.20141024-2????????????????????? all????????? TeX Live: Essential programs
 > and files
 > ii? texlive-binaries????????????????????????????
 > 2014.20140926.35254-6??????????????? amd64??????? Binaries for TeX Live
 > 

Norbert answered already.  I'd like to add that unless you are an
expert, you should install TeX Live completely.  If a particular
Debian package is not installed, TeX never produces wrong output
but complains about a missing file.  Thus your problem is definitely
not related to Debian packaging.

 > I don't understand why the most important formulas or sentences
 > related to maths and physics that I am still writing are always
 > separated at the end of the row and splitted in two different lines
 > instead of being kept together.
 
Norbert already pointed you to http://tex.stackexchange.com

Alternatively, if you prefer mailing lists,

  http://tug.org/mailman/listinfo/texhax

is also appropriate.

I must admit that I don't understand your problem.  Please create a
*tiny* TeX file which allows people to reproduce your problem and
attach it to your message to either stackexchange or texhax.

I guess that you have math formulas within paragraphs.  They are
treated as ordinary text, of course, and linebreaks can occur
everywhere.

If you want to avoid linebreaks within formulas, put your formulas
between \begin{equation} and \end{equation}.

I strongly recommend to type

  texdoc amsmath

on the command line in order to get more information. 

 > I hope this is not a bug of this new version of TeX.

There is no bug and there is no new version of TeX.  For a quarter of
a century I believed that the LaTeX sources of my diploma thesis were
lost because we used floppy disks at this time.

I recently found the LaTeX sources of my diploma thesis in a ZIP file
and even though they depend on an older version of LaTeX (LaTeX2.09),
I can still compile them with the current release of LaTeX/TeX Live,
without the need to touch any file.

Even if a new version of TeX is released, you can be dead certain that
it never breaks existing documents.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From reinhard.kotucha at web.de  Sun Jul  3 02:59:52 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 3 Jul 2016 02:59:52 +0200
Subject: [tex-live] Class scrartcl Error: undefined old font command
 '\it' and '\rm'
In-Reply-To: <CAEW6iOhUHN28b=qe1H4X9KrYkn1a4hLX0YTNV5bthJiO1fpT6Q@mail.gmail.com>
References: <577660E1.4050603@online.de>	<1467380602716.42144@math.au.dk>
 <57767944.60209@online.de>	<841t3d8ixe.fsf@siart.de>
 <22390.60524.892637.317921@zaphod.ms25.net>
 <CAEW6iOhUHN28b=qe1H4X9KrYkn1a4hLX0YTNV5bthJiO1fpT6Q@mail.gmail.com>
Message-ID: <22392.25480.60212.362089@zaphod.ms25.net>

On 2016-07-01 at 23:45:32 +0100, David Carlisle wrote:

 > On 1 July 2016 at 23:19, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
 > 
 >     Since all the old font commands are still valid in LaTeX2e,
 >     though deprecated, no program should reject them deliberately.
 > 
 > Well not really. They were never really "deprecated" as they were
 > _never_ defined in the latex2e format.  They are defined in the
 > standard article/report/book classes and many contributed classes.
 > 
 > The koma classes recently stopped defining them, which is a
 > slightly brave choice but one the class author is entitled to make.

Yes, it's a brave choice indeed.  The problem is that KOMA-Script
users can still include arbitrary files.  Is Markus on this list?

Regards,
  Reinhard

--

------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From jared.szechy at brilligent.com  Tue Jul  5 16:10:44 2016
From: jared.szechy at brilligent.com (Jared Szechy)
Date: Tue, 5 Jul 2016 10:10:44 -0400
Subject: [tex-live] luajittex glibc version and centos 5
Message-ID: <CAJFqnuz5gag7KbNKvJg3pWXm6vT6X07G437pDQ4FEzDwTdZ3DA@mail.gmail.com>

I'm having trouble installing texlive on a centos 5 system. I have been
installing the latest version just fine on centos 5 vm's for the past 3
years.

It looks like something in fmtutil has changed that broke the
--no-error-if-no-engine flag.

I am now getting the following output:

fmtutil [INFO]: /opt/texlive/texmf-var/web2c/pdftex/pdfetex.fmt installed.
fmtutil [ERROR]: running `luajittex -ini   -jobname=luajittex
-progname=luajittex luatex.ini </dev/null' return status 1
fmtutil [ERROR]: return error due to options --strict
fmtutil [INFO]: Disabled formats: 1
fmtutil [INFO]: Successfully rebuilt formats: 12
fmtutil [INFO]: Failed to build: 1 (luajittex/luajittex)
fmtutil [INFO]: Total formats: 14
fmtutil [INFO]: exiting with status 1
./install-tl: fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --all
failed:


I used to get this output:

fmtutil [INFO]: /opt/texlive/texmf-var/web2c/pdftex/pdfetex.fmt installed.
fmtutil [ERROR]: running `luajittex -ini   -jobname=luajittex
-progname=luajittex luatex.ini </dev/null' return status 1
fmtutil [ERROR]: `luajittex -ini   -jobname=luajittex -progname=luajittex
luatex.ini </dev/null' failed (no luajittex.fmt)
fmtutil [INFO]: Disabled formats: 1
fmtutil [INFO]: Successfully rebuilt formats: 12
fmtutil [INFO]: Failed to build: 1 (luajittex/luajittex)
fmtutil [INFO]: Total formats: 14
fmtutil [INFO]: exiting with status 0

I know the root of this is that the glibc version of the shipped luajittex
binary is too new for centos5. It would be great if texlive could build
their linux binaries on an older systems so they would work with older
glibc versions.

At the very least fmtutil needs to be fixed so that it doesn't fail
anymore. I see mention of a '--strict' option in the output, I'm not sure
where that is coming from either.

-- 
Jared Szechy
*Brilligent Solutions, Inc.*

Office: 937.879.4148 x1007
Fax: 937.879.4158
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160705/652650ff/attachment-0001.html>

From jared.szechy at brilligent.com  Tue Jul  5 16:24:46 2016
From: jared.szechy at brilligent.com (Jared Szechy)
Date: Tue, 5 Jul 2016 10:24:46 -0400
Subject: [tex-live] luajittex glibc version and centos 5
In-Reply-To: <CAJFqnuz5gag7KbNKvJg3pWXm6vT6X07G437pDQ4FEzDwTdZ3DA@mail.gmail.com>
References: <CAJFqnuz5gag7KbNKvJg3pWXm6vT6X07G437pDQ4FEzDwTdZ3DA@mail.gmail.com>
Message-ID: <CAJFqnuxuLADoP5ejw6HmwYd5Tr6gVZOwvfQM=EzM7omrPMtsTA@mail.gmail.com>

>From what I can tell this is the breaking change...

https://www.tug.org/svn/texlive/trunk/Build/source/texk/texlive/linked_scripts/texlive/fmtutil.pl?r1=40768&r2=41545

On Tue, Jul 5, 2016 at 10:10 AM, Jared Szechy <jared.szechy at brilligent.com>
wrote:

> I'm having trouble installing texlive on a centos 5 system. I have been
> installing the latest version just fine on centos 5 vm's for the past 3
> years.
>
> It looks like something in fmtutil has changed that broke the
> --no-error-if-no-engine flag.
>
> I am now getting the following output:
>
> fmtutil [INFO]: /opt/texlive/texmf-var/web2c/pdftex/pdfetex.fmt installed.
> fmtutil [ERROR]: running `luajittex -ini   -jobname=luajittex
> -progname=luajittex luatex.ini </dev/null' return status 1
> fmtutil [ERROR]: return error due to options --strict
> fmtutil [INFO]: Disabled formats: 1
> fmtutil [INFO]: Successfully rebuilt formats: 12
> fmtutil [INFO]: Failed to build: 1 (luajittex/luajittex)
> fmtutil [INFO]: Total formats: 14
> fmtutil [INFO]: exiting with status 1
> ./install-tl: fmtutil-sys --no-error-if-no-engine=luajittex,mfluajit --all
> failed:
>
>
> I used to get this output:
>
> fmtutil [INFO]: /opt/texlive/texmf-var/web2c/pdftex/pdfetex.fmt installed.
> fmtutil [ERROR]: running `luajittex -ini   -jobname=luajittex
> -progname=luajittex luatex.ini </dev/null' return status 1
> fmtutil [ERROR]: `luajittex -ini   -jobname=luajittex -progname=luajittex
> luatex.ini </dev/null' failed (no luajittex.fmt)
> fmtutil [INFO]: Disabled formats: 1
> fmtutil [INFO]: Successfully rebuilt formats: 12
> fmtutil [INFO]: Failed to build: 1 (luajittex/luajittex)
> fmtutil [INFO]: Total formats: 14
> fmtutil [INFO]: exiting with status 0
>
> I know the root of this is that the glibc version of the shipped luajittex
> binary is too new for centos5. It would be great if texlive could build
> their linux binaries on an older systems so they would work with older
> glibc versions.
>
> At the very least fmtutil needs to be fixed so that it doesn't fail
> anymore. I see mention of a '--strict' option in the output, I'm not sure
> where that is coming from either.
>
> --
> Jared Szechy
> *Brilligent Solutions, Inc.*
>
> Office: 937.879.4148 x1007
> Fax: 937.879.4158
>



-- 
Jared Szechy
*Brilligent Solutions, Inc.*

Office: 937.879.4148 x1007
Fax: 937.879.4158
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160705/fc12780a/attachment-0001.html>

From helge.paternoga at googlemail.com  Tue Jul  5 20:49:02 2016
From: helge.paternoga at googlemail.com (Helge)
Date: Tue, 5 Jul 2016 20:49:02 +0200
Subject: [tex-live] Tex Live 2016 on RaspberryPi - where is biber?
Message-ID: <6a5b7f7d-231b-4e3c-0be9-2a53a2b468c7@googlemail.com>

Hello,

I would like to use TeX Live in my living room on my RaspberryPi 
(running Raspbian Jessie 2016-05-27).

Recently I had some issues with TeX Live on my Desktop system (Debian), 
where I had to uninstall Texlive from the Debian repository and 
reinstall the Vanilla Version (as documented here 
<http://www.tug.org/texlive/debian.html>). The problem was that "biber" 
produced errors, without any changes to Texlive. I realized that it had 
to do with the recent updates to Perl in Debian, thats why I switched to 
Tex Live 2016. Since then its working flawlessly.

Therefore I chose the same approach for my RaspberryPi, running 
Raspbian. I installed Texlive 2016 as mentioned above + Texstudio (from 
the raspi repository), which worked fine. But now there seems to be no 
version of "biber" installed. It is not present in the /bin folder and 
when I do sudo find / -name "biber", it only finds the source and doc of 
biber 2.5. What i don't understand is that in tlmgr it shows biber 2.4 
as installed (+ when I click on update or install, it says that it is 
already installed), yet I can't find the binary.

Do I have to build biber myself? When running "perl Build.PL" it gives 
me all the prerequisites, that are not met (basically everything), but 
two are actually installed, but out of date. Is it possible to compile 
this on the RasPi without also compiling the prerequisites? I'm 
currently running the script to install the missing prerequisites (takes 
a while on the RasPi), but I think this won't resolve the outdated ones?

Anyway, thats it for now, I'm kinda new to this so I don't know whats 
possible and what isn't. So some clarification would be really welcome ;)

Thanks for reading!

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160705/1c7c136d/attachment.html>

From jhielscher at posteo.de  Wed Jul  6 00:15:40 2016
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Wed, 6 Jul 2016 00:15:40 +0200
Subject: [tex-live] Tex Live 2016 on RaspberryPi - where is biber?
In-Reply-To: <6a5b7f7d-231b-4e3c-0be9-2a53a2b468c7@googlemail.com>
References: <6a5b7f7d-231b-4e3c-0be9-2a53a2b468c7@googlemail.com>
Message-ID: <20160706001540.63f9e1ed@zommbronn>

Am Tue, 5 Jul 2016 20:49:02 +0200
schrieb Helge <helge.paternoga at googlemail.com>:

> Hello,
> 
> I would like to use TeX Live in my living room on my RaspberryPi 
> (running Raspbian Jessie 2016-05-27).
> 
> Recently I had some issues with TeX Live on my Desktop system
> (Debian), where I had to uninstall Texlive from the Debian repository
> and reinstall the Vanilla Version (as documented here 
> <http://www.tug.org/texlive/debian.html>). The problem was that
> "biber" produced errors, without any changes to Texlive. I realized
> that it had to do with the recent updates to Perl in Debian, thats
> why I switched to Tex Live 2016. Since then its working flawlessly.
> 
> Therefore I chose the same approach for my RaspberryPi, running 
> Raspbian. I installed Texlive 2016 as mentioned above + Texstudio
> (from the raspi repository), which worked fine. But now there seems
> to be no version of "biber" installed. It is not present in the /bin
> folder and when I do sudo find / -name "biber", it only finds the
> source and doc of biber 2.5. What i don't understand is that in tlmgr
> it shows biber 2.4 as installed (+ when I click on update or install,
> it says that it is already installed), yet I can't find the binary.
> 
> Do I have to build biber myself?
Basically yes (see below).
> When running "perl Build.PL" it
> gives me all the prerequisites, that are not met (basically
> everything), but two are actually installed, but out of date. Is it
> possible to compile this on the RasPi without also compiling the
> prerequisites? I'm currently running the script to install the
> missing prerequisites (takes a while on the RasPi), but I think this
> won't resolve the outdated ones?
The issue (as far as I overview the loose integration of biber binaries
into TeX Live) is that TeX Live does not care about biber binary
distributions itself, but rather refers to the upstream bundles
from biblatex-biber.sf.net . These include all the dozens of
non-standard Perl packages into a self-contained binary (contrary to
Debian maintainers, who have them in their repos, anyway, and can biber
make just depend on them).

Unfortunately, upstream provides only x86 and x86_64 binaries (Linux)
and so does TeX Live. Hence, the official way to get other
architectures, such as ARM, for biber into Vanilla TeX Live is to
contribute it directly to the biber team at Sourceforge.
There are some docs how to port biber to new systems, and in fact, some
time ago I started to do so for armv7h. Maybe knowing that someone else
misses biber on ARM (chromebook hardware here) motivates me to
contribute this effort to upstream (-:

Best,
Johannes

> 
> Anyway, thats it for now, I'm kinda new to this so I don't know whats 
> possible and what isn't. So some clarification would be really
> welcome ;)
> 
> Thanks for reading!
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 819 bytes
Desc: Digitale Signatur von OpenPGP
URL: <http://tug.org/pipermail/tex-live/attachments/20160706/fd695542/attachment-0001.bin>

From karl at freefriends.org  Wed Jul  6 00:16:29 2016
From: karl at freefriends.org (Karl Berry)
Date: Tue, 5 Jul 2016 22:16:29 +0000
Subject: [tex-live] luajittex glibc version and centos 5
In-Reply-To: <CAJFqnuxuLADoP5ejw6HmwYd5Tr6gVZOwvfQM=EzM7omrPMtsTA@mail.gmail.com>
Message-ID: <201607052216.u65MGT7b028660@freefriends.org>

Hi Jared,

    > fmtutil [ERROR]: running `luajittex -ini   -jobname=luajittex
    > -progname=luajittex luatex.ini </dev/null' return status 1

Please run that command by hand in the shell and see why it is failing.
Or look for a luajittex.log file.

I build the i386-linux binaries for TL on, as it turns out, CentOS 5
(fully patched), for precisely the reasons you state.  And the luajittex
formats build for me.

Maybe you are on x86_64 and that accounts for the discrepancy?  Those
binaries were indeed built on a slightly newer system and thus could
result in the problem.

    > At the very least fmtutil needs to be fixed so that it doesn't fail

Our change to make fmtutil fail if a format fails to build was
intentional (i.e., to enable --strict by default), since that is, after
all, logical and almost always desirable.

Thus, assuming we can't make the formats work for you, it seems to me
the right thing is for you to disable the jit-related formats.
Regardless of what we do next year, we won't be rebuilding binaries now.

One kludgey way to do this would be, I think, to mv the binary to a
different name.

The clean way, I believe, would be to create
$TEXMFLOCAL/web2c/fmtutil.cnf with this line:

#! luajittex luajittex language.def,language.dat.lua luatex.ini

(General comments can be introduced with "# ".)

Sorry, I have no chance to actually test/verify either of these methods
right now.  Hope it flies.  -k

From jared.szechy at brilligent.com  Wed Jul  6 00:27:55 2016
From: jared.szechy at brilligent.com (Jared Szechy)
Date: Tue, 5 Jul 2016 18:27:55 -0400
Subject: [tex-live] luajittex glibc version and centos 5
In-Reply-To: <201607052216.u65MGT7b028660@freefriends.org>
References: <CAJFqnuxuLADoP5ejw6HmwYd5Tr6gVZOwvfQM=EzM7omrPMtsTA@mail.gmail.com>
 <201607052216.u65MGT7b028660@freefriends.org>
Message-ID: <CAJFqnuwMAzNPuYGxsYhuQF-U6d20-Ly=-xaaod9_TmoE8e4-XQ@mail.gmail.com>

On Tue, Jul 5, 2016 at 6:16 PM, Karl Berry <karl at freefriends.org> wrote:

> Hi Jared,
>
>     > fmtutil [ERROR]: running `luajittex -ini   -jobname=luajittex
>     > -progname=luajittex luatex.ini </dev/null' return status 1
>
> Please run that command by hand in the shell and see why it is failing.
> Or look for a luajittex.log file.
>

./luajittex: /lib64/libc.so.6: version `GLIBC_2.7' not found (required by
./luajittex)

CentOS 5 has glibc version 2.5, which explains why it doesn't work.

>
> I build the i386-linux binaries for TL on, as it turns out, CentOS 5
> (fully patched), for precisely the reasons you state.  And the luajittex
> formats build for me.
>
> Maybe you are on x86_64 and that accounts for the discrepancy?  Those
> binaries were indeed built on a slightly newer system and thus could
> result in the problem.
>

Yes I'm on a x86_64 system.

>
>     > At the very least fmtutil needs to be fixed so that it doesn't fail
>
> Our change to make fmtutil fail if a format fails to build was
> intentional (i.e., to enable --strict by default), since that is, after
> all, logical and almost always desirable.
>
> Thus, assuming we can't make the formats work for you, it seems to me
> the right thing is for you to disable the jit-related formats.
> Regardless of what we do next year, we won't be rebuilding binaries now.
>
> One kludgey way to do this would be, I think, to mv the binary to a
> different name.
>
> The clean way, I believe, would be to create
> $TEXMFLOCAL/web2c/fmtutil.cnf with this line:
>
> #! luajittex luajittex language.def,language.dat.lua luatex.ini
>
> (General comments can be introduced with "# ".)
>
> Sorry, I have no chance to actually test/verify either of these methods
> right now.  Hope it flies.  -k
>

I actually ended up just patching the install script to use the --no-strict
argument.

--- install-tl	2016-06-14 21:41:40.000000000 -0400
+++ install-tl.new	2016-07-05 10:29:53.000000000 -0400
@@ -1040,7 +1040,7 @@
   if ($vars{'option_fmt'}) {
     if (-x "$plat_bindir/fmtutil-sys$progext") {
       info("pre-generating all format files, be patient...\n");
-      $errcount += run_postinst_cmd("fmtutil-sys $common_fmtutil_args --all");
+      $errcount += run_postinst_cmd("fmtutil-sys $common_fmtutil_args
--no-strict --all");
     } else {
       info("not running fmtutil-sys (not installed)\n");
     }



-- 
Jared Szechy
*Brilligent Solutions, Inc.*

Office: 937.879.4148 x1007
Fax: 937.879.4158
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160705/87ed8858/attachment.html>

From beebe at math.utah.edu  Wed Jul  6 02:47:55 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 5 Jul 2016 18:47:55 -0600
Subject: [tex-live]  TeX Live 2016 binary distribution milestone
Message-ID: <CMM.0.96.0.1467766075.beebe@gamma.math.utah.edu>

Earlier today, I installed TeX Live 2016 binary distribution number

			     _  ___   ___  
			    / |/ _ \ / _ \ 
			    | | | | | | | |
			    | | |_| | |_| |
			    |_|\___/ \___/ 
				   
(100) at the usual site

	http://www.math.utah.edu/pub/texlive-utah/

Unless some really interesting Un*x(-like) operating system variants
show up that I don't already have running here in our software test lab,
I probably won't be adding to that large archive, although I expect to
cover new O/S releases that appear for some of the more common O/S
distributions.

In particular, over the last month, I've added binaries for the
bleeding-edge releases of Debian, Fedora, Mint, and Ubuntu, as well as
for several O/Ses in the BSD family.

The final section of the above Web site has a (currently) 24-item list
of comments about various systems.

It gives a pretty reasonable list of reasons for build failures that
we really should address for next year, to make the build process
easier for us, as well as for the various O/S distribution maintainers
who package TeX Live for their software channels.

Notable among the causes of partial failures on many platforms is the
bogus error message error: "Sorry, you need zlib with compress2" from
dvipdfm-x, and the defective packaging of Asymptote that uses CFLAGS
for C++ compilations instead of CXXFLAGS.

The list of missing executables about 1/3 way down the above Web site
identifies these programs as frequently failing to build:

	 inimflua inimfluajit lualollipop xelollipop
	 tex2xindy texindy xindy xindy.mem xindy.run

The first row has to do with the limited architecture support for LuaJIT
because of its use of assembly-language coding: why isn't there
fall-back portable C or C++ code that works everywhere?

The second row is entirely due to the sad lack of a maintainer for
Clisp, which fails to build on numerous platforms, or builds but fails
to run, and has gone without updates for at least six years.

Many of those systems without Clisp have alternate Common Lisp
implementations, such as gcl and sbcl, and because Common Lisp is
pretty-well defined in Guy Steele's books, it ought to be feasible to
host xindy on different implementations of Common Lisp.  The Reduce and
Maxima symbolic algebra systems can both be built on multiple such
implementations, and xindy is far less complex than they are.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From beebe at math.utah.edu  Wed Jul  6 03:07:22 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 5 Jul 2016 19:07:22 -0600
Subject: [tex-live]  Another service interruption at Utah
Message-ID: <CMM.0.96.0.1467767242.beebe@gamma.math.utah.edu>

I'm sorry to report that we have had another service interruption at
Utah, this time a fairly serious one.  In the wee hours of Sunday
3-Jul-2016, smack in the middle of the most popular summer long
weekend in the USA, the motherboard on our tertiary fileserver, a
summer-2005-vintage Sun Fire E2900, failed.

That system hosted our FTP site, ftp.math.utah.edu, as well as
providing storage for backup savesets, numerous virtual machines, and
a software license manager.  Sadly, the tight budgets that we always
suffer from in academia have made it impossible to keep that machine
on a hardware maintenance contract, so we are in the process of moving
those services to other systems, and retiring the Sun hardware that
has otherwise performed reliably for 11 years, and in that time,
served files to more than 100,000 student accounts.

FTP services were restored on another system that came up at 16:09
Monday 4-Jul-2016 and has been stable since then.  No FTP-able files
were lost, because the motherboard failure happened a couple of hours
after the failing machine's nightly filesystem snapshot completed
around midnight, and was propagated to another system.  That snapshot
was used to populate the replacement server.

We are in the process of bringing up a remote snapshot storage system
at a datacenter several km from our main campus.  That should provide
us with much-needed storage for a longer backup cycle, as well as
providing off-site copies of all system and user data that are updated
nightly, to guard against building disasters (earthquake, fire, flood,
sabotage, ....).  We are also looking into the possibility of that
remote system providing an emergency fallback server for our normal
FTP and HTTP servers, allowing much quicker fail-over than the 36
hours that it took us this time.

The failure did not affect most HTTP services, but the FTP tree, which
has always been visible from

	http://www.math.utah.edu/pub

was inaccessible via HTTP until FTP services came back.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From karl at freefriends.org  Wed Jul  6 23:43:20 2016
From: karl at freefriends.org (Karl Berry)
Date: Wed, 6 Jul 2016 21:43:20 +0000
Subject: [tex-live] TeX Live 2016 binary distribution milestone
In-Reply-To: <CMM.0.96.0.1467766075.beebe@gamma.math.utah.edu>
Message-ID: <201607062143.u66LhK7f025385@freefriends.org>

    inimflua inimfluajit

Nelson, as I think I wrote you before, TL does not build any ini*
executable except for inimf and initex (which, for many years now, are
merely symlinks to mf and tex, respectively).  So it is not an error
that those are not built.  (It was a leftover in the Automake files that
I corrected before the release.)

I agree with your comments about LuaJIT in general, of course, but it's
not up to me.

    lualollipop xelollipop

Those are also no longer built in TL; lollipop now runs on plain tex
only (per the lollipop maintainer).  The TL'16 release includes no such
binaries/links -- just "lollipop" itself.  So that's also not an error.

    "Sorry, you need zlib with compress2" from dvipdfm-x, 

I don't know what that means.  I hope someone on an affected platform
can debug it.
    
    and the defective packaging of Asymptote that uses CFLAGS for C++
    compilations instead of CXXFLAGS.

I have the vague impression that Bowman has already fixed that, but I am
not sure.  I hope so.

    it ought to be feasible to
    host xindy on different implementations of Common Lisp.  

Indeed.  Would be great, if Joachim (or a new xindy volunteer) is up for
working on it.

Best,
Karl

From jschrod at acm.org  Thu Jul  7 01:08:48 2016
From: jschrod at acm.org (Joachim Schrod)
Date: Thu, 7 Jul 2016 01:08:48 +0200
Subject: [tex-live] TeX Live 2016 binary distribution milestone
In-Reply-To: <201607062143.u66LhK7f025385@freefriends.org>
References: <CMM.0.96.0.1467766075.beebe@gamma.math.utah.edu>
 <201607062143.u66LhK7f025385@freefriends.org>
Message-ID: <nlk321$gbr$1@ger.gmane.org>

On 07/06/16 23:43, Karl Berry wrote:
> 
>     it ought to be feasible to
>     host xindy on different implementations of Common Lisp.  
> 
> Indeed.  Would be great, if Joachim (or a new xindy volunteer) is up for
> working on it.

Roughly 6 weeks ago, I started to evaluate what other CL systems
are available and widespread. Currently, Steel Bank CL
http://sbcl.sourceforge.net/ looks like an interesting choice. Or
ECL https://common-lisp.net/project/ecl/. Evaluation of Unicode
support in these CL systems is not done and important; we neither
need nor want UTF-8, but full codepoint support (32bit per
character is best).

IMO, it would be interesting to ressurect the original noweb files
and merge the few changes that happened since then; a port to
Allegro CL had been done there already. But Allegro Cl is not open
source, thus not an effort directly usable for TL.

If anybody wants to join that effort, or take over that task, that
would be great.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod, Roedermark, Germany
Email: jschrod at acm.org


From preining at logic.at  Thu Jul  7 02:57:02 2016
From: preining at logic.at (Norbert Preining)
Date: Thu, 7 Jul 2016 09:57:02 +0900
Subject: [tex-live] TeX Live 2016 binary distribution milestone
In-Reply-To: <nlk321$gbr$1@ger.gmane.org>
References: <CMM.0.96.0.1467766075.beebe@gamma.math.utah.edu>
 <201607062143.u66LhK7f025385@freefriends.org> <nlk321$gbr$1@ger.gmane.org>
Message-ID: <20160707005702.GE23223@logic.at>

Hi Joachim, hi all

> >     host xindy on different implementations of Common Lisp.  

That would be a great!

> Roughly 6 weeks ago, I started to evaluate what other CL systems
> are available and widespread. Currently, Steel Bank CL
> http://sbcl.sourceforge.net/ looks like an interesting choice. Or
> ECL https://common-lisp.net/project/ecl/. Evaluation of Unicode

I personally have good experiences with SBCL. We are developing 
an algebraic specification language on top of CL, originally
Allegro, then also Gnu Common Lisp (what a pain, horrible!),
and since 3 years on also sbcl, and we are more or less
exclusively using sbcl nowadays.

As also one of the xindy maintainers in Debian I would love to see
a switch to sbcl, as xindy is already removed from testing and
thus the next stable release due to problems with the underlying
cl, which is also removed.

All the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From vincent.torri at gmail.com  Thu Jul  7 10:48:15 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Thu, 7 Jul 2016 10:48:15 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
Message-ID: <CAMq1ado+WVVJdVUagbQjw75xb_rYbP1AfaxJX5OeieUmVjTFqw@mail.gmail.com>

Hello

I had some time to partially build (see next mail) TeX Live (trunk)
with mingw-w64 targetting x86_64.

This mail is to report a warning:


In file included from ../../../texk/web2c/pdftexdir/regex/regex.c:27:0:
../../../texk/web2c/pdftexdir/regex/regex_internal.h:424:0: warning:
"alloca" redefined
 # define alloca(size)   __builtin_alloca (size)
 ^
In file included from
C:/msys64/mingw64/x86_64-w64-mingw32/include/stdlib.h:686:0,
                 from ../../../texk/web2c/pdftexdir/regex/regex_internal.h:27,
                 from ../../../texk/web2c/pdftexdir/regex/regex.c:27:
C:/msys64/mingw64/x86_64-w64-mingw32/include/malloc.h:183:0: note:
this is the location of the previous definition
 #define alloca(x) __builtin_alloca((x))
 ^

Vincent Torri

On Sat, Jul 2, 2016 at 1:59 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
>
>
> Il 02/07/2016 11:15, Vincent Torri ha scritto:
>
>> Ok, i'll try to do the compilation with only MSYS2. I'll try to write
>> a doc with all the steps. Don't expect that soon : i have few times
>> these days. But i'll definitely give it a try !
>
>
> Thank you! All the Win64 people will be grateful! :-)
>
>
> Ciao,
>  Angelo.

From jschrod at acm.org  Thu Jul  7 11:00:14 2016
From: jschrod at acm.org (Joachim Schrod)
Date: Thu, 7 Jul 2016 11:00:14 +0200
Subject: [tex-live] Spam (100):Re: TeX Live 2016 binary distribution
 milestone
In-Reply-To: <20160707005702.GE23223@logic.at>
References: <CMM.0.96.0.1467766075.beebe@gamma.math.utah.edu>
 <201607062143.u66LhK7f025385@freefriends.org>	<nlk321$gbr$1@ger.gmane.org>
 <20160707005702.GE23223@logic.at>
Message-ID: <22398.6686.332385.182657@puma.r.npc.de>

Norbert Preining writes:
> Hi Joachim, hi all
> 
> > >     host xindy on different implementations of Common Lisp.  
> 
> That would be a great!
> 
> > Roughly 6 weeks ago, I started to evaluate what other CL systems
> > are available and widespread. Currently, Steel Bank CL
> > http://sbcl.sourceforge.net/ looks like an interesting choice. Or
> > ECL https://common-lisp.net/project/ecl/. Evaluation of Unicode
> 
> I personally have good experiences with SBCL. We are developing 
> an algebraic specification language on top of CL, originally
> Allegro, then also Gnu Common Lisp (what a pain, horrible!),
> and since 3 years on also sbcl, and we are more or less
> exclusively using sbcl nowadays.

Good to know; so my investigation will continue in that direction.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Joachim Schrod, xindy maintainer. Roedermark, Germany
Email: jschrod at acm.org, http://www.xindy.org/

From vincent.torri at gmail.com  Thu Jul  7 12:16:16 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Thu, 7 Jul 2016 12:16:16 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
Message-ID: <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>

Hello

So here are the steps i did to try to compile TeX Live for Windows 64
bits, using only MSYS2:

1) go to https://msys2.github.io/ and download
msys2-x86_64-20160205.exe (the version number might change if another
version is released) and follow all the steps

2) install some additional packages:

In case you have to rebuild configure and al., the following installs
the autotools. It also installs gcc, make and some dependencies :

pacman -S autoconf automake libtool m4 bison flex texinfo make svn
pacman -S mingw-w64-x86_64-gcc mingw-w64-x86_64-lua mingw-w64-x86_64-python2
pacman -S mingw-w64-x86_64-pkg-config mingw-w64-x86_64-fontconfig
pacman -S mingw-w64-x86_64-poppler

you can of course install all the packages with 1 pacman command, i've
splitted them so that they are well displayed in the mail

3) edit ~/.subversion/config and uncomment the line:

use-commit-times = yes

4) in $HOME, here is the command to retrieve, configure and compiles the trunk:
mkdir svnroot
cd svnroot
svn co svn://tug.org/texlive/trunk/Build/source
cd source
mkdir texlive-x86_64
cd texlive-x86_64
../configure --prefix=$HOME/opt --enable-shared --host=x86_64-w64-mingw32
make V=0 -j7

--host=x86_64-w64-mingw32 is not necessary as the only compiler
available in MSYS2 at that time. But it can be if you have multiple
cross compilers

Note that it seems that the options of the toplevel configure are not
passed to the configure's sub directories. It can be annoying if you
have multiple cross compilers

Ghostscript is not found (it's normal)

I have that error:


  CXX      dvisvgm-src/src/Bezier.o
  CXX      dvisvgm-src/src/BgColorSpecialHandler.o
In file included from
C:/msys64/mingw64/x86_64-w64-mingw32/include/pthread.h:66:0,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr-default.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr.h:148,
                 from C:/msys64/mingw64/include/c++/5.4.0/ext/atomicity.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/bits/basic_string.h:39,
                 from C:/msys64/mingw64/include/c++/5.4.0/string:52,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
../../../texk/dvisvgm/dvisvgm-src/src/process.h:36:15: error: field
'_cmd' has incomplete type 'std::__cxx11::string {aka
std::__cxx11::basic_string<char>}'
   std::string _cmd;
               ^
In file included from C:/msys64/mingw64/include/c++/5.4.0/string:39:0,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
C:/msys64/mingw64/include/c++/5.4.0/bits/stringfwd.h:71:11: note:
declaration of 'std::__cxx11::string {aka class
std::__cxx11::basic_string<char>}'
     class basic_string;
           ^
In file included from
C:/msys64/mingw64/x86_64-w64-mingw32/include/pthread.h:66:0,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr-default.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr.h:148,
                 from C:/msys64/mingw64/include/c++/5.4.0/ext/atomicity.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/bits/basic_string.h:39,
                 from C:/msys64/mingw64/include/c++/5.4.0/string:52,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
../../../texk/dvisvgm/dvisvgm-src/src/process.h:37:21: error: field
'_paramstr' has incomplete type 'const string {aka const
std::__cxx11::basic_string<char>}'
   const std::string _paramstr;
                     ^
In file included from C:/msys64/mingw64/include/c++/5.4.0/string:39:0,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
C:/msys64/mingw64/include/c++/5.4.0/bits/stringfwd.h:71:11: note:
declaration of 'std::__cxx11::string {aka class
std::__cxx11::basic_string<char>}'
     class basic_string;
           ^


regards

Vincent Torri

On Sat, Jul 2, 2016 at 1:59 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
>
>
> Il 02/07/2016 11:15, Vincent Torri ha scritto:
>
>> Ok, i'll try to do the compilation with only MSYS2. I'll try to write
>> a doc with all the steps. Don't expect that soon : i have few times
>> these days. But i'll definitely give it a try !
>
>
> Thank you! All the Win64 people will be grateful! :-)
>
>
> Ciao,
>  Angelo.

From beebe at math.utah.edu  Thu Jul  7 16:53:51 2016
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Thu, 7 Jul 2016 08:53:51 -0600
Subject: [tex-live] TeX Live 2016 binary distribution milestone
Message-ID: <CMM.0.96.0.1467903231.beebe@gamma.math.utah.edu>

Karl Berry reports on this list on Wed, 6 Jul 2016 21:43:20 GMT, that
lualollipop and xelollipop are no longer built, and of the ini*
executables, only inimf and initex are now included, and those two are
symlinks to mf and tex, respectively.  Thanks, Karl, for that
clarification!

I've therefore updated the show-file-counts.sh script to suppress
mention of those no-longer-included executables, and regenerated the
relevant portion of the Web page at

	http://www.math.utah.edu/pub/texlive-utah/

I have no plans to rebuild TeX Live 2016 to remove those executables
on systems where they were originally built; the "Missing binaries"
report just does not list them.  There are now 35 systems for which
the missing-binaries report is empty, and 65 with missing programs.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From angelo.graziosi at alice.it  Thu Jul  7 17:47:42 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Thu, 7 Jul 2016 17:47:42 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
Message-ID: <e4e54e28-3405-b029-4329-3dfb34a02bf6@alice.it>

Ciao Vincent,

Il 07/07/2016 12:16, Vincent Torri ha scritto:
> Hello
>
> So here are the steps i did to try to compile TeX Live for Windows 64
> bits, using only MSYS2:

here things are a bit different.

I installed MSYS2 from the tarball msys2-base-x86_64-20160205.tar.xz, 
then, after setup steps, I installed a bunch of packages:


pacman -S --needed base
pacman -S --needed base-devel
pacman -S --needed compression
pacman -S --needed editors
pacman -S --needed msys2-devel
pacman -S --needed mingw-w64-x86_64-toolchain
pacman -S --needed mingw-w64-cross-toolchain
pacman -S --needed mingw-w64-i686-toolchain
pacman -S --needed net-utils
pacman -S --needed sys-utils
pacman -S atool
pacman -S bc
pacman -S tree
pacman -S clang-svn
pacman -S mingw-w64-x86_64-clang-analyzer
pacman -S mingw-w64-x86_64-clang-tools-extra
pacman -S mingw-w64-x86_64-compiler-rt
pacman -S mingw-w64-x86_64-libc++
pacman -S mingw-w64-x86_64-libc++abi
pacman -S mingw-w64-x86_64-lld
pacman -S --needed mingw-w64-x86_64-gimp-plugins
pacman -S mingw-w64-x86_64-gimp
pacman -S mingw-w64-x86_64-vlc-git
pacman -S mingw-w64-x86_64-graphicsmagick
pacman -S mingw-w64-x86_64-tesseract-ocr
pacman -S mingw-w64-x86_64-tesseract-data-ita
pacman -S --needed mingw-w64-x86_64-ceres-solver
pacman -S mingw-w64-x86_64-aspell-en

about 15GiB with deps...

(BTW, this installed also all the packages you suggest..)

Now, with all MSYS2 updated and TL at the last sources

rsync -av --delete --exclude=.svn tug.org::tldevsrc/Build/source/ 
/tmp/tlsrc/

I tried the build from MINGW64 shell (that started with 
C:\msys64\mingw64.exe), and tried first:

./Build --build=x86_64-w64-mingw32

(notice: no parallel build) which failed when building in libs/icu:

[...]
clang++   -DU_ENABLE_DYLOAD=0 -DU_HAVE_ATOMIC=1 -DU_HAVE_MMAP=0 
-DU_STATIC_IMPLEMENTATION 
-I/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common 
-I/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/i18n 
"-DU_BUILD=\"x86_64-w64-mingw32\"" "-DU_HOST=\"x86_64-w64-mingw32\"" 
"-DU_CC=\"clang\"" "-DU_CXX=\"clang++\"" 
-DUNISTR_FROM_CHAR_EXPLICIT=explicit 
-DUNISTR_FROM_STRING_EXPLICIT=explicit -DU_ATTRIBUTE_DEPRECATED= 
-DU_TOOLUTIL_IMPLEMENTATION -O2 --std=c++0x -mthreads -Qunused-arguments 
-Wno-parentheses-equality  -c   -o toolutil.ao 
/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/tools/toolutil/toolutil.cpp
In file included from 
C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/tools/toolutil/toolutil.cpp:66:
In file included from 
C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/i18n\unicode/ucal.h:12:
In file included from 
C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/uenum.h:24:
In file included from 
C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/strenum.h:14:
In file included from 
C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/unistr.h:31:
In file included from 
C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/std_string.h:33:
In file included from C:\msys64\mingw64\include\c++\5.4.0\string:40:
In file included from 
C:\msys64\mingw64\include\c++\5.4.0\bits/char_traits.h:39:
In file included from 
C:\msys64\mingw64\include\c++\5.4.0\bits/stl_algobase.h:64:
In file included from 
C:\msys64\mingw64\include\c++\5.4.0\bits/stl_pair.h:59:
In file included from C:\msys64\mingw64\include\c++\5.4.0\bits/move.h:57:
C:\msys64\mingw64\include\c++\5.4.0\type_traits:311:39: error: use of 
undeclared identifier '__float128'
     struct __is_floating_point_helper<__float128>

As you see, when building in libs/icu it switched to use clang/clang++..

So after cleaning, I tried:

CXX=g++ CC=gcc ./Build --build=x86_64-w64-mingw32


Now all things in libs seem built.. but then the build stops trying to 
build xetex:

[...]
libtool: link: g++ -g -O2 -o xetex.exe xetexdir/xetex-xetexextra.o 
synctexdir/xetex-synctex.o xetex-xetexini.o xetex-xetex0.o 
xetex-xetex-pool.o  libxetex.a 
/tmp/tlsrc/Work/libs/harfbuzz/libharfbuzz.a 
/tmp/tlsrc/Work/libs/graphite2/libgraphite2.a 
/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicuuc.a 
/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a 
/tmp/tlsrc/Work/libs/teckit/libTECkit.a 
/tmp/tlsrc/Work/libs/poppler/libpoppler.a -lgdi32 
/tmp/tlsrc/Work/libs/libpng/libpng.a 
/tmp/tlsrc/Work/libs/freetype2/libfreetype.a 
/tmp/tlsrc/Work/libs/zlib/libz.a libmd5.a -LC:/msys64/mingw64/lib 
-lfontconfig -lfreetype lib/lib.a 
/tmp/tlsrc/Work/texk/kpathsea/.libs/libkpathsea.a -lwsock32
g++.exe: error: 
C:/msys64/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a: No such 
file or directory

Indeed libicudata.a does not exist but there are many *icu*.a libraries 
there in libs/icu.. Maybe someone of these should simply be renamed..

Notice that MSYS2 does not use symlinks and that it has the icu packages,

  pacman -Ss icu
mingw32/mingw-w64-i686-icu 57.1-1
     International Components for Unicode library (mingw-w64)
mingw32/mingw-w64-i686-icu-debug-libs 57.1-1
     International Components for Unicode library (mingw-w64)
mingw32/mingw-w64-i686-python2-icu 1.9.2-3
     Python extension wrapping the ICU C++ API (mingw-w64)
mingw32/mingw-w64-i686-python3-icu 1.9.2-3
     Python extension wrapping the ICU C++ API (mingw-w64)
mingw64/mingw-w64-x86_64-icu 57.1-1 [installato]
     International Components for Unicode library (mingw-w64)
mingw64/mingw-w64-x86_64-icu-debug-libs 57.1-1 [installato]
     International Components for Unicode library (mingw-w64)
mingw64/mingw-w64-x86_64-python2-icu 1.9.2-3
     Python extension wrapping the ICU C++ API (mingw-w64)
mingw64/mingw-w64-x86_64-python3-icu 1.9.2-3
     Python extension wrapping the ICU C++ API (mingw-w64)
msys/icu 56.1-1 (libraries) [installato]
     International Components for Unicode library
msys/icu-devel 56.1-1 (development)
     ICU headers and libraries


Ciao, Angelo.

From angelo.graziosi at alice.it  Thu Jul  7 18:24:30 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Thu, 7 Jul 2016 18:24:30 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
Message-ID: <e74214f7-9d75-928d-cb46-8f7e9f31b703@alice.it>

Just for completeness...

Il 07/07/2016 12:16, Vincent Torri ha scritto:

>
> Ghostscript is not found (it's normal)

notice that MSYS2 has that packages:


pacman -Ss ghost
mingw32/mingw-w64-i686-ghostscript 9.19-3
     An interpreter for the PostScript language (mingw-w64)
mingw64/mingw-w64-x86_64-ghostscript 9.19-3 [installato]
     An interpreter for the PostScript language (mingw-w64)

ls -lrt /mingw64/bin/gs*
[...]
  ...   350 ... /mingw64/bin/gslp
  ...   353 ... /mingw64/bin/gslj
  ...   352 ... /mingw64/bin/gsdj500
  ...   352 ... /mingw64/bin/gsdj
  ...   350 ... /mingw64/bin/gsbj
  ...   277 ... /mingw64/bin/gsnd
  ... 22107 ... /mingw64/bin/gsc.exe
  ... 22107 ... /mingw64/bin/gs.exe
  ... 62165 ... /mingw64/bin/gsx.exe
  ... 22107 ... /mingw64/bin/gswin32c.exe
[...]


Angelo

From angelo.graziosi at alice.it  Thu Jul  7 18:22:21 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Thu, 7 Jul 2016 18:22:21 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
Message-ID: <2b1b3a1b-e2f4-65f8-96f4-7cf534125ab5@alice.it>

Just for completeness...

Il 07/07/2016 12:16, Vincent Torri ha scritto:

>
> Ghostscript is not found (it's normal)

notice that MSYS2 has that packages:


pacman -Ss ghost
mingw32/mingw-w64-i686-ghostscript 9.19-3
     An interpreter for the PostScript language (mingw-w64)
mingw64/mingw-w64-x86_64-ghostscript 9.19-3 [installato]
     An interpreter for the PostScript language (mingw-w64)

ls -lrt /mingw64/bin/gs*
[...]
  ...   350 ... /mingw64/bin/gslp
  ...   353 ... /mingw64/bin/gslj
  ...   352 ... /mingw64/bin/gsdj500
  ...   352 ... /mingw64/bin/gsdj
  ...   350 ... /mingw64/bin/gsbj
  ...   277 ... /mingw64/bin/gsnd
  ... 22107 ... /mingw64/bin/gsc.exe
  ... 22107 ... /mingw64/bin/gs.exe
  ... 62165 ... /mingw64/bin/gsx.exe
  ... 22107 ... /mingw64/bin/gswin32c.exe
[...]


Angelo

From vincent.torri at gmail.com  Thu Jul  7 19:11:13 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Thu, 7 Jul 2016 19:11:13 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <e4e54e28-3405-b029-4329-3dfb34a02bf6@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
 <e4e54e28-3405-b029-4329-3dfb34a02bf6@alice.it>
Message-ID: <CAMq1adorV+uv=PJBd==+ZcFoAQCjt4D8PzZK5CeSyVuy3KeGmg@mail.gmail.com>

hello

On Thu, Jul 7, 2016 at 5:47 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
> Ciao Vincent,
>
> Il 07/07/2016 12:16, Vincent Torri ha scritto:
>>
>> Hello
>>
>> So here are the steps i did to try to compile TeX Live for Windows 64
>> bits, using only MSYS2:
>
>
> here things are a bit different.
>
> I installed MSYS2 from the tarball msys2-base-x86_64-20160205.tar.xz, then,
> after setup steps, I installed a bunch of packages:

why did'nt you use the installer ?

>
> pacman -S --needed base
> pacman -S --needed base-devel
> pacman -S --needed compression
> pacman -S --needed editors
> pacman -S --needed msys2-devel
> pacman -S --needed mingw-w64-x86_64-toolchain
> pacman -S --needed mingw-w64-cross-toolchain
> pacman -S --needed mingw-w64-i686-toolchain
> pacman -S --needed net-utils
> pacman -S --needed sys-utils
> pacman -S atool
> pacman -S bc
> pacman -S tree
> pacman -S clang-svn
> pacman -S mingw-w64-x86_64-clang-analyzer
> pacman -S mingw-w64-x86_64-clang-tools-extra
> pacman -S mingw-w64-x86_64-compiler-rt
> pacman -S mingw-w64-x86_64-libc++
> pacman -S mingw-w64-x86_64-libc++abi
> pacman -S mingw-w64-x86_64-lld
> pacman -S --needed mingw-w64-x86_64-gimp-plugins
> pacman -S mingw-w64-x86_64-gimp
> pacman -S mingw-w64-x86_64-vlc-git
> pacman -S mingw-w64-x86_64-graphicsmagick
> pacman -S mingw-w64-x86_64-tesseract-ocr
> pacman -S mingw-w64-x86_64-tesseract-data-ita
> pacman -S --needed mingw-w64-x86_64-ceres-solver
> pacman -S mingw-w64-x86_64-aspell-en
>
> about 15GiB with deps...

well, maybe there are some useless packages. I have installed only
what should be needed for Tex Live (except the autotools). So it's
minimal in that sense.

>
> (BTW, this installed also all the packages you suggest..)
>
> Now, with all MSYS2 updated and TL at the last sources
>
> rsync -av --delete --exclude=.svn tug.org::tldevsrc/Build/source/
> /tmp/tlsrc/
>
> I tried the build from MINGW64 shell (that started with
> C:\msys64\mingw64.exe), and tried first:
>
> ./Build --build=x86_64-w64-mingw32

is there a good reason to use the Build script over configure ?

> (notice: no parallel build) which failed when building in libs/icu:
>
> [...]
> clang++   -DU_ENABLE_DYLOAD=0 -DU_HAVE_ATOMIC=1 -DU_HAVE_MMAP=0
> -DU_STATIC_IMPLEMENTATION
> -I/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common
> -I/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/i18n
> "-DU_BUILD=\"x86_64-w64-mingw32\"" "-DU_HOST=\"x86_64-w64-mingw32\""
> "-DU_CC=\"clang\"" "-DU_CXX=\"clang++\""
> -DUNISTR_FROM_CHAR_EXPLICIT=explicit -DUNISTR_FROM_STRING_EXPLICIT=explicit
> -DU_ATTRIBUTE_DEPRECATED= -DU_TOOLUTIL_IMPLEMENTATION -O2 --std=c++0x
> -mthreads -Qunused-arguments -Wno-parentheses-equality  -c   -o toolutil.ao
> /tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/tools/toolutil/toolutil.cpp
> In file included from
> C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/tools/toolutil/toolutil.cpp:66:
> In file included from
> C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/i18n\unicode/ucal.h:12:
> In file included from
> C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/uenum.h:24:
> In file included from
> C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/strenum.h:14:
> In file included from
> C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/unistr.h:31:
> In file included from
> C:/msys64/tmp/tlsrc/Work/libs/icu/../../../libs/icu/icu-src/source/common\unicode/std_string.h:33:
> In file included from C:\msys64\mingw64\include\c++\5.4.0\string:40:
> In file included from
> C:\msys64\mingw64\include\c++\5.4.0\bits/char_traits.h:39:
> In file included from
> C:\msys64\mingw64\include\c++\5.4.0\bits/stl_algobase.h:64:
> In file included from
> C:\msys64\mingw64\include\c++\5.4.0\bits/stl_pair.h:59:
> In file included from C:\msys64\mingw64\include\c++\5.4.0\bits/move.h:57:
> C:\msys64\mingw64\include\c++\5.4.0\type_traits:311:39: error: use of
> undeclared identifier '__float128'
>     struct __is_floating_point_helper<__float128>
>
> As you see, when building in libs/icu it switched to use clang/clang++..
>
> So after cleaning, I tried:
>
> CXX=g++ CC=gcc ./Build --build=x86_64-w64-mingw32
>
>
> Now all things in libs seem built.. but then the build stops trying to build
> xetex:
>
> [...]
> libtool: link: g++ -g -O2 -o xetex.exe xetexdir/xetex-xetexextra.o
> synctexdir/xetex-synctex.o xetex-xetexini.o xetex-xetex0.o
> xetex-xetex-pool.o  libxetex.a /tmp/tlsrc/Work/libs/harfbuzz/libharfbuzz.a
> /tmp/tlsrc/Work/libs/graphite2/libgraphite2.a
> /tmp/tlsrc/Work/libs/icu/icu-build/lib/libicuuc.a
> /tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a
> /tmp/tlsrc/Work/libs/teckit/libTECkit.a
> /tmp/tlsrc/Work/libs/poppler/libpoppler.a -lgdi32
> /tmp/tlsrc/Work/libs/libpng/libpng.a
> /tmp/tlsrc/Work/libs/freetype2/libfreetype.a
> /tmp/tlsrc/Work/libs/zlib/libz.a libmd5.a -LC:/msys64/mingw64/lib
> -lfontconfig -lfreetype lib/lib.a
> /tmp/tlsrc/Work/texk/kpathsea/.libs/libkpathsea.a -lwsock32
> g++.exe: error:
> C:/msys64/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a: No such file
> or directory

I had that error once. it seems it has gone, don't know why. I'll
anyway do another builld from scratch (removing msys2 and installing
it again) to be sure it is working.

> Indeed libicudata.a does not exist but there are many *icu*.a libraries
> there in libs/icu.. Maybe someone of these should simply be renamed..
>
> Notice that MSYS2 does not use symlinks and that it has the icu packages,

i prefered not installing icu from msys2 as it should work as is. So
there is something wrong here that needs some fixes

regards

Vincent

From angelo.graziosi at alice.it  Thu Jul  7 23:12:04 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Thu, 7 Jul 2016 23:12:04 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adorV+uv=PJBd==+ZcFoAQCjt4D8PzZK5CeSyVuy3KeGmg@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
 <e4e54e28-3405-b029-4329-3dfb34a02bf6@alice.it>
 <CAMq1adorV+uv=PJBd==+ZcFoAQCjt4D8PzZK5CeSyVuy3KeGmg@mail.gmail.com>
Message-ID: <f6073cc6-daab-899f-c433-1347524607bb@alice.it>

Il 07/07/2016 19:11, Vincent Torri ha scritto
> On Thu, Jul 7, 2016 at 5:47 PM, Angelo Graziosi
>  wrote:
>>
>> here things are a bit different.
>>
>> I installed MSYS2 from the tarball msys2-base-x86_64-20160205.tar.xz, then,
>> after setup steps, I installed a bunch of packages:
>
> why did'nt you use the installer ?
>

I don't like it, the links it puts on Start menu and so on... With the 
tarball I have developed a simple and efficient setup.. :)

>>
>> pacman -S --needed base
>> pacman -S --needed base-devel
>> ...
>>
>
> well, maybe there are some useless packages. I have installed only
> what should be needed for Tex Live (except the autotools). So it's
> minimal in that sense.

But I haven't installed them to build TL! it is my normal usage of MSYS2...

>>
>> I tried the build from MINGW64 shell (that started with
>> C:\msys64\mingw64.exe), and tried first:
>>
>> ./Build --build=x86_64-w64-mingw32
>
> is there a good reason to use the Build script over configure ?
>

it should be the standard way to build TL, as suggested 
(https://www.tug.org/texlive/build.html)

>
> i prefered not installing icu from msys2 as it should work as is. So

here it is installed as dependency of some other package.. i don't 
remember which..

> there is something wrong here that needs some fixes

indeed... :(

Angelo


From enrico.gregorio at gmail.com  Fri Jul  8 13:24:42 2016
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Fri, 8 Jul 2016 13:24:42 +0200
Subject: [tex-live] New navydocs package file ended up in graphics
Message-ID: <CAD1MDiCxtPb66uz4=_4o9VngEvGXRidZEnQRsUWXN14AfRFLYQ@mail.gmail.com>

For some reason, the new navydocs package has triggered an update
to graphics; here's the output of

    tlmgr info graphics --list

as of today

package:     graphics
category:    Package
shortdesc:   The LaTeX standard graphics bundle
longdesc:    This is a collection of LaTeX packages for: producing colour
including graphics (eg PostScript) files rotation and scaling of text in
LaTeX documents. It comprises the packages color, graphics, graphicx, trig,
epsfig, keyval, and lscape.
installed:   Yes
revision:    41643
sizes:       src: 245k, doc: 2945k, run: 129k
relocatable: No
cat-date:    2016-06-24 19:18:15 +0200
cat-license: lppl1.3
cat-topics:  collection
collection:  collection-latex
Included files, by type:
run files:
  texmf-dist/tex/latex/graphics/color.sty
  texmf-dist/tex/latex/graphics/dvipdf.def
  texmf-dist/tex/latex/graphics/dvips.def
  texmf-dist/tex/latex/graphics/dvipsnam.def
  texmf-dist/tex/latex/graphics/dvipsone.def
  texmf-dist/tex/latex/graphics/dviwin.def
  texmf-dist/tex/latex/graphics/emtex.def
  texmf-dist/tex/latex/graphics/epsfig.sty
  texmf-dist/tex/latex/graphics/graphics.sty
  texmf-dist/tex/latex/graphics/graphicx.sty
  texmf-dist/tex/latex/graphics/keyval.sty
  texmf-dist/tex/latex/graphics/lscape.sty
  texmf-dist/tex/latex/graphics/pctex32.def
  texmf-dist/tex/latex/graphics/pctexhp.def
  texmf-dist/tex/latex/graphics/pctexps.def
  texmf-dist/tex/latex/graphics/pctexwin.def
  texmf-dist/tex/latex/graphics/rotating.sty
  texmf-dist/tex/latex/graphics/tcidvi.def
  texmf-dist/tex/latex/graphics/trig.sty
  texmf-dist/tex/latex/graphics/truetex.def
source files:
  texmf-dist/source/latex/graphics/color.dtx
  texmf-dist/source/latex/graphics/drivers.dtx
  texmf-dist/source/latex/graphics/epsfig.dtx
  texmf-dist/source/latex/graphics/graphics-drivers.ins
  texmf-dist/source/latex/graphics/graphics.dtx
  texmf-dist/source/latex/graphics/graphics.ins
  texmf-dist/source/latex/graphics/graphicx.dtx
  texmf-dist/source/latex/graphics/keyval.dtx
  texmf-dist/source/latex/graphics/lscape.dtx
  texmf-dist/source/latex/graphics/rotating.dtx
  texmf-dist/source/latex/graphics/trig.dtx
doc files:
  texmf-dist/doc/latex/graphics/README.txt details="Readme"
  texmf-dist/doc/latex/graphics/a.pdf
  texmf-dist/doc/latex/graphics/cat-eps-converted-to.pdf
  texmf-dist/doc/latex/graphics/cat.eps
  texmf-dist/doc/latex/graphics/changes.txt
  texmf-dist/doc/latex/graphics/color.pdf
  texmf-dist/doc/latex/graphics/drivers.pdf
  texmf-dist/doc/latex/graphics/epsfig.pdf
  texmf-dist/doc/latex/graphics/graphics.pdf
  texmf-dist/doc/latex/graphics/graphicx.pdf
  texmf-dist/doc/latex/graphics/grfguide.pdf details="Bundle documentation"
  texmf-dist/doc/latex/graphics/grfguide.tex
  texmf-dist/doc/latex/graphics/keyval.pdf
  texmf-dist/doc/latex/graphics/lscape.pdf
  texmf-dist/doc/latex/graphics/rotating.pdf
  texmf-dist/doc/latex/graphics/rotex.pdf
  texmf-dist/doc/latex/graphics/rotex.tex
  texmf-dist/doc/latex/graphics/trig.pdf
  texmf-dist/doc/latex/navydocs/graphics/navy-logo-102.png

The last file didn't show for the package in revision 41527

Ciao
Enrico
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160708/e1a5a7de/attachment.html>

From preining at logic.at  Fri Jul  8 16:39:48 2016
From: preining at logic.at (Norbert Preining)
Date: Fri, 8 Jul 2016 23:39:48 +0900
Subject: [tex-live] New navydocs package file ended up in graphics
In-Reply-To: <CAD1MDiCxtPb66uz4=_4o9VngEvGXRidZEnQRsUWXN14AfRFLYQ@mail.gmail.com>
References: <CAD1MDiCxtPb66uz4=_4o9VngEvGXRidZEnQRsUWXN14AfRFLYQ@mail.gmail.com>
Message-ID: <20160708143948.GX23223@logic.at>

Ciao Enrico,

>   texmf-dist/doc/latex/navydocs/graphics/navy-logo-102.png

Well spotted!

Karl fixed it already in the tlpsrc file, so for tomorrow it should
be fixed.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From vincent.torri at gmail.com  Fri Jul  8 19:17:21 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Fri, 8 Jul 2016 19:17:21 +0200
Subject: [tex-live] compilation error when compiling TeX Live on Windows 64
 bits
Message-ID: <CAMq1adrKpMkGJ6UvG0C=YvqGH8eq3T-HMO82pvEQB7cR5nCYHg@mail.gmail.com>

Here is the error:


  CXX      dvisvgm-src/src/BgColorSpecialHandler.o
In file included from
C:/msys64/mingw64/x86_64-w64-mingw32/include/pthread.h:66:0,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr-default.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr.h:148,
                 from C:/msys64/mingw64/include/c++/5.4.0/ext/atomicity.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/bits/basic_string.h:39,
                 from C:/msys64/mingw64/include/c++/5.4.0/string:52,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
../../../texk/dvisvgm/dvisvgm-src/src/process.h:36:15: error: field
'_cmd' has incomplete type 'std::__cxx11::string {aka
std::__cxx11::basic_string<char>}'
   std::string _cmd;
               ^
In file included from C:/msys64/mingw64/include/c++/5.4.0/string:39:0,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
C:/msys64/mingw64/include/c++/5.4.0/bits/stringfwd.h:71:11: note:
declaration of 'std::__cxx11::string {aka class
std::__cxx11::basic_string<char>}'
     class basic_string;
           ^
In file included from
C:/msys64/mingw64/x86_64-w64-mingw32/include/pthread.h:66:0,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr-default.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/x86_64-w64-mingw32/bits/gthr.h:148,
                 from C:/msys64/mingw64/include/c++/5.4.0/ext/atomicity.h:35,
                 from
C:/msys64/mingw64/include/c++/5.4.0/bits/basic_string.h:39,
                 from C:/msys64/mingw64/include/c++/5.4.0/string:52,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
../../../texk/dvisvgm/dvisvgm-src/src/process.h:37:21: error: field
'_paramstr' has incomplete type 'const string {aka const
std::__cxx11::basic_string<char>}'
   const std::string _paramstr;
                     ^
In file included from C:/msys64/mingw64/include/c++/5.4.0/string:39:0,
                 from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                 from
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
C:/msys64/mingw64/include/c++/5.4.0/bits/stringfwd.h:71:11: note:
declaration of 'std::__cxx11::string {aka class
std::__cxx11::basic_string<char>}'
     class basic_string;
           ^

regards

Vincent Torri

From angelo.graziosi at alice.it  Fri Jul  8 22:19:22 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Fri, 8 Jul 2016 22:19:22 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adorV+uv=PJBd==+ZcFoAQCjt4D8PzZK5CeSyVuy3KeGmg@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
 <e4e54e28-3405-b029-4329-3dfb34a02bf6@alice.it>
 <CAMq1adorV+uv=PJBd==+ZcFoAQCjt4D8PzZK5CeSyVuy3KeGmg@mail.gmail.com>
Message-ID: <d4de12fd-938c-81bb-c6f2-ee1585c571d5@alice.it>

Hi Vincent,

Il 07/07/2016 19:11, Vincent Torri ha scritto:
> On Thu, Jul 7, 2016 at 5:47 PM, Angelo Graziosi
> wrote:
>>
>> As you see, when building in libs/icu it switched to use clang/clang++..
>>
>> So after cleaning, I tried:
>>
>> CXX=g++ CC=gcc ./Build --build=x86_64-w64-mingw32
>>
>>
>> Now all things in libs seem built.. but then the build stops trying to build
>> xetex:
>>
>> [...]
>> C:/msys64/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a: No such file
>> or directory
>
> I had that error once. it seems it has gone, don't know why. I'll
> anyway do another builld from scratch (removing msys2 and installing
> it again) to be sure it is working.

the ICU issues are fixed by patch below [*], created from a few patches 
used by MSYS2 people 
(https://github.com/Alexpux/MINGW-packages/tree/master/mingw-w64-icu). 
After this, building TL with

CXX=g++ CC=gcc ./Build --build=x86_64-w64-mingw32


fails as you,

g++ -DHAVE_CONFIG_H -I. -I../../../texk/dvisvgm 
-I../../../texk/dvisvgm/dvisvgm-src/clipper 
-I../../../texk/dvisvgm/dvisvgm-src/src 
-I../../../texk/dvisvgm/dvisvgm-src/xxHash -I/tmp/tlsrc/Work/texk 
-I/tmp/tlsrc/texk -I/tmp/tlsrc/Work/libs/potrace/include 
-I/tmp/tlsrc/Work/libs/freetype2/freetype2 
-I/tmp/tlsrc/Work/libs/zlib/include  -DTEXLIVEWIN32  -Wreturn-type 
-Wno-unknown-pragmas -Wno-write-strings -g -O2 -MT 
dvisvgm-src/src/BgColorSpecialHandler.o -MD -MP -MF $depbase.Tpo -c -o 
dvisvgm-src/src/BgColorSpecialHandler.o 
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp &&\
mv -f $depbase.Tpo $depbase.Po
[...]In file included from 
C:/msys64/mingw64/x86_64-w64-mingw32/include/pthread.h:66:0,
[...]
In file included from C:/msys64/mingw64/include/c++/5.4.0/string:39:0,
                  from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
                  from 
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
                  from 
../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
C:/msys64/mingw64/include/c++/5.4.0/bits/stringfwd.h:71:11: note: 
declaration of 'std::__cxx11::string {aka class 
std::__cxx11::basic_string<char>}'
      class basic_string;
            ^


Ciao,
  Angelo.

---
[*] The patch:

--------------------------------------------------------------------------------
--- icu/source/tools/genren/Makefile.orig       2011-08-10 
14:03:08.000000000 +0200
+++ icu/source/tools/genren/Makefile    2016-07-08 15:19:09.162109300 +0200
@@ -30,12 +30,12 @@
  include $(BUILDDIR)/icudefs.mk
  endif

-COM=$(ICUDIR)/lib/libicuuc.$(SO)
-I18=$(ICUDIR)/lib/libicui18n.$(SO)
-LAY=$(ICUDIR)/lib/libicule.$(SO)
-LEX=$(ICUDIR)/lib/libiculx.$(SO)
+COM=$(ICUDIR)/bin/libicuuc.$(SO)
+I18=$(ICUDIR)/bin/libicui18n.$(SO)
+LAY=$(ICUDIR)/bin/libicule.$(SO)
+LEX=$(ICUDIR)/bin/libiculx.$(SO)
  DAT=$(ICUDIR)/stubdata/libicudata.$(SO)
-UIO=$(ICUDIR)/lib/libicuio.$(SO)
+UIO=$(ICUDIR)/bin/libicuio.$(SO)

  LIBS=$(COM) $(I18) $(LAY) $(LEX) $(UIO)

--- icu/source/config/mh-mingw64.orig   2016-03-27 19:16:39.000000000 +0200
+++ icu/source/config/mh-mingw64        2016-07-08 16:16:05.349609300 +0200
@@ -8,10 +8,6 @@
  # This file is similar to mh-mingw
  # Any changes made here may also need to be made in mh-mingw

-# We install sbin tools into the same bin directory because
-# pkgdata needs some of the tools in sbin, and we can't always depend on
-# icu-config working on Windows.
-sbindir=$(bindir)

  ## Commands to generate dependency files
  GEN_DEPS.c=    $(CC) -E -MM $(DEFS) $(CPPFLAGS)
@@ -44,8 +40,8 @@
  LD_SOOPTIONS= -Wl,-Bsymbolic

  ## Commands to make a shared library
-SHLIB.c=       $(CC) $(CFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)lib$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
-SHLIB.cc=      $(CXX) $(CXXFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)lib$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
+SHLIB.c=       $(CC) $(CFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
+SHLIB.cc=      $(CXX) $(CXXFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#

  ## Compiler switch to embed a runtime search path
  LD_RPATH=
@@ -66,27 +62,28 @@
  endif

  # Static library prefix and file extension
-LIBSICU = lib$(LIBPREFIX)$(STATIC_PREFIX)$(ICUPREFIX)
+LIBSICU = $(LIBPREFIX)$(STATIC_PREFIX)$(ICUPREFIX)
  A = a

  ## An import library is needed for z/OS and MSVC
  IMPORT_LIB_EXT = .dll.a

-LIBPREFIX=
+LIBPREFIX=lib

  # Change the stubnames so that poorly working FAT disks and 
installation programs can work.
  # This is also for backwards compatibility.
-DATA_STUBNAME = dt
-I18N_STUBNAME = in
-LIBICU = $(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)
+LIBICU = $(LIBPREFIX)$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)
+
+# The following is for Makefile.inc's use.
+ICULIBSUFFIX_VERSION = $(LIB_VERSION_MAJOR)

  #SH### copied from Makefile.inc
  #SH## for icu-config to test with
 
#SH#ICULIBS_COMMON_LIB_NAME="${LIBICU}${COMMON_STUBNAME}${ICULIBSUFFIX}${ICULIBSUFFIX_VERSION}.${SO}"
 
#SH#ICULIBS_COMMON_LIB_NAME_A="${LIBICU}${COMMON_STUBNAME}${ICULIBSUFFIX}.${A}"

-#SH#ICULIBS_DATA="-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)"
-#SH#ICULIBS_I18N="-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)"
+#SH#ICULIBS_DATA="-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)"
+#SH#ICULIBS_I18N="-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)"
  #SH#
  #SH## ICULIBS is the set of libraries your application should link
  #SH## with usually. Many applications will want to add ${ICULIBS_I18N} 
as well.
@@ -94,11 +91,11 @@

  # The #M# is used to delete lines for icu-config
  # Current full path directory.
-#CURR_FULL_DIR=$(shell pwd -W)#M# for MSYS
-CURR_FULL_DIR?=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
+CURR_FULL_DIR=$(shell $(SHELL) -c "pwd -W")#M# for MSYS
+#CURR_FULL_DIR?=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
  # Current full path directory for use in source code in a -D compiler 
option.
-#CURR_SRCCODE_FULL_DIR=$(subst /,\\\\,$(shell pwd -W))#M# for MSYS
-CURR_SRCCODE_FULL_DIR=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
+CURR_SRCCODE_FULL_DIR=$(subst /,\\\\,$(shell $(SHELL) -c "pwd -W"))#M# 
for MSYS
+#CURR_SRCCODE_FULL_DIR=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell

  ## Compilation rules
  %.$(STATIC_O): $(srcdir)/%.c
@@ -130,7 +127,7 @@
  FINAL_SO_TARGET=$(basename $(SO_TARGET))$(SO_TARGET_VERSION_MAJOR).$(SO)
  MIDDLE_SO_TARGET=$(FINAL_SO_TARGET)

-FINAL_IMPORT_LIB = $(dir $(SO_TARGET))lib$(notdir $(basename 
$(SO_TARGET)))$(IMPORT_LIB_EXT)#M#
+FINAL_IMPORT_LIB = $(dir $(SO_TARGET))$(notdir $(basename 
$(SO_TARGET)))$(IMPORT_LIB_EXT)#M#
  IMPORT_LIB = $(FINAL_IMPORT_LIB)#M#
  MIDDLE_IMPORT_LIB = $(FINAL_IMPORT_LIB)#M#

--- icu/source/tools/pkgdata/pkgdata.cpp.orig   2016-03-27 
19:16:39.000000000 +0200
+++ icu/source/tools/pkgdata/pkgdata.cpp        2016-07-08 
16:02:40.083984300 +0200
@@ -891,20 +891,9 @@
      const char* FILE_EXTENSION_SEP = uprv_strlen(pkgDataFlags[SO_EXT]) 
== 0 ? "" : ".";
      const char* FILE_SUFFIX = pkgDataFlags[LIB_EXT_ORDER][0] == '.' ? 
"." : "";

-#if U_PLATFORM == U_PF_MINGW
-        /* MinGW does not need the library prefix when building in dll 
mode. */
-        if (IN_DLL_MODE(mode)) {
-            sprintf(libFileNames[LIB_FILE], "%s", libName);
-        } else {
-            sprintf(libFileNames[LIB_FILE], "%s%s",
-                    pkgDataFlags[LIBPREFIX],
-                    libName);
-        }
-#else
          sprintf(libFileNames[LIB_FILE], "%s%s",
                  pkgDataFlags[LIBPREFIX],
                  libName);
-#endif

          if(o->verbose) {
            fprintf(stdout, "# libFileName[LIB_FILE] = %s\n", 
libFileNames[LIB_FILE]);
--- icu/source/tools/pkgdata/pkgtypes.h.orig    2012-03-22 
10:50:28.000000000 +0100
+++ icu/source/tools/pkgdata/pkgtypes.h 2016-07-08 16:02:40.100585900 +0200
@@ -138,10 +138,10 @@
  # ifndef UDATA_SO_SUFFIX
  #  define UDATA_SO_SUFFIX ".dll"
  # endif
-# define LIB_PREFIX ""
-# define LIB_STATIC_PREFIX ""
-# define OBJ_SUFFIX ".obj"
-# define UDATA_LIB_SUFFIX ".lib"
+# define LIB_PREFIX "lib"
+# define LIB_STATIC_PREFIX "lib"
+# define OBJ_SUFFIX ".o"
+# define UDATA_LIB_SUFFIX ".a"

  #elif U_PLATFORM == U_PF_CYGWIN
  # define LIB_PREFIX "cyg"
--- icu/source/icudefs.mk.in.orig       2016-03-27 22:50:56.000000000 +0200
+++ icu/source/icudefs.mk.in    2016-07-08 16:10:23.023437500 +0200
@@ -262,18 +262,18 @@
  USING_ICULEHB=no
  ICULEHB_TRUE=#
  ICULEHB_FALSE=
-ICULIBS_LE     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUT_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
+ICULIBS_LE     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUT_STUBNAME)$(ICULIBSUFFIX)
  ICULE_CFLAGS=-I$(top_srcdir)
  endif

  # Just the libs.
-ICULIBS_DT     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_UC     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(COMMON_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_I18N   = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_LX     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUTEX_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_IO     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(IO_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_CTESTFW        = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(CTESTFW_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_TOOLUTIL = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(TOOLUTIL_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
+ICULIBS_DT     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_UC     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(COMMON_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_I18N   = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_LX     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUTEX_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_IO     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(IO_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_CTESTFW        = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(CTESTFW_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_TOOLUTIL = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(TOOLUTIL_STUBNAME)$(ICULIBSUFFIX)
  # Link commands to link to ICU libs
  LLIBDIR                = -L$(LIBDIR)
  LSTUBDIR       = -L$(top_builddir)/stubdata
--- icu/source/config/Makefile.inc.in.orig      2016-03-27 
22:50:56.000000000 +0200
+++ icu/source/config/Makefile.inc.in   2016-07-08 16:21:19.580078100 +0200
@@ -106,15 +106,15 @@
  #    - $(ICULIBS_LAYOUT)  - ICU layout library.
  #    - $(ICULIBS_ICUIO)   - ICU stdio equivalent library

-ICULIBS_COMMON = -l$(ICUPREFIX)uc$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_DATA   = 
-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_I18N   = 
-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_TOOLUTIL = -l$(ICUPREFIX)tu$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_CTESTFW = 
-l$(ICUPREFIX)ctestfw$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_ICUIO = -l$(ICUPREFIX)io$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_OBSOLETE = 
-l$(ICUPREFIX)obsolete$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_LAYOUT = -l$(ICUPREFIX)le$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_LAYOUTEX = -l$(ICUPREFIX)lx$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
+ICULIBS_COMMON = -l$(ICUPREFIX)uc$(ICULIBSUFFIX)
+ICULIBS_DATA   = -l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_I18N   = -l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_TOOLUTIL = -l$(ICUPREFIX)tu$(ICULIBSUFFIX)
+ICULIBS_CTESTFW = -l$(ICUPREFIX)ctestfw$(ICULIBSUFFIX)
+ICULIBS_ICUIO = -l$(ICUPREFIX)io$(ICULIBSUFFIX)
+ICULIBS_OBSOLETE = -l$(ICUPREFIX)obsolete$(ICULIBSUFFIX)
+ICULIBS_LAYOUT = -l$(ICUPREFIX)le$(ICULIBSUFFIX)
+ICULIBS_LAYOUTEX = -l$(ICUPREFIX)lx$(ICULIBSUFFIX)
  ICULIBS_BASE = -L$(libdir)

  # for icu-config to test with
----------------------------------------------------------------------

From karl at freefriends.org  Sat Jul  9 01:11:32 2016
From: karl at freefriends.org (Karl Berry)
Date: Fri, 8 Jul 2016 23:11:32 +0000
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1ado+WVVJdVUagbQjw75xb_rYbP1AfaxJX5OeieUmVjTFqw@mail.gmail.com>
Message-ID: <201607082311.u68NBW8X026405@freefriends.org>

    ../../../texk/web2c/pdftexdir/regex/regex_internal.h:424:0: warning:
    "alloca" redefined
     # define alloca(size)   __builtin_alloca (size)

I will add the obvious #ifndef in regex_internal.h to avoid the warning.  -k

From martin.gieseking at uos.de  Sat Jul  9 08:50:33 2016
From: martin.gieseking at uos.de (Martin Gieseking)
Date: Sat, 9 Jul 2016 08:50:33 +0200
Subject: [tex-live] compilation error when compiling TeX Live on Windows
 64 bits
In-Reply-To: <CAMq1adrKpMkGJ6UvG0C=YvqGH8eq3T-HMO82pvEQB7cR5nCYHg@mail.gmail.com>
References: <CAMq1adrKpMkGJ6UvG0C=YvqGH8eq3T-HMO82pvEQB7cR5nCYHg@mail.gmail.com>
Message-ID: <951d3cb3-61cc-80e1-544d-cb022d9f4e97@uos.de>

Am 08.07.2016 um 19:17 schrieb Vincent Torri:
>   CXX      dvisvgm-src/src/BgColorSpecialHandler.o
> In file included from
> C:/msys64/mingw64/x86_64-w64-mingw32/include/pthread.h:66:0,
> [...]
> ../../../texk/dvisvgm/dvisvgm-src/src/process.h:36:15: error: field
> '_cmd' has incomplete type 'std::__cxx11::string {aka
> std::__cxx11::basic_string<char>}'
>    std::string _cmd;


Hi Vincent,

I guess the reason for this error is that the TeX Live build script adds
texk/dvisvgm/dvisvgm-src/src to the include path. As a result, the
#include statement in pthread.h picks up dvisvgm's Process.h rather than
x86_64-w64-mingw32\include\process.h.
As a quick workaround, it should be enough to rename dvisvgm's Process.h
and to adapt the #includes in FileFinder.cpp, MetafontWrapper.cpp, and
Process.cpp accordingly.

Best,
Martin




From ajohnson at redneon.com  Sat Jul  9 10:47:16 2016
From: ajohnson at redneon.com (Adrian Johnson)
Date: Sat, 9 Jul 2016 18:17:16 +0930
Subject: [tex-live] ttfdump seg faults on subsetted fonts
Message-ID: <49402cbe-1c7b-ee19-274d-0cacbbaf3b07@redneon.com>

When using ttfdump to inspect a subsetted font I get a seg fault due to
the missing cmap, name, and post tables. Attached is a fix.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160709/8fe6b332/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ttfdump.patch
Type: text/x-patch
Size: 979 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160709/8fe6b332/attachment.bin>

From angelo.graziosi at alice.it  Sat Jul  9 16:22:23 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Sat, 9 Jul 2016 16:22:23 +0200
Subject: [tex-live] compilation error when compiling TeX Live on Windows
 64 bits
Message-ID: <5c556e91-7cdb-4d9c-d356-82f27af4edc5@alice.it>

Ciao Martin,

Martin Gieseking wrote:
> As a quick workaround, it should be enough to rename dvisvgm's Process.h
> and to adapt the #includes in FileFinder.cpp, MetafontWrapper.cpp, and
> Process.cpp accordingly.

I have applied these suggestions and indeed they fix that build error, 
the build continues and then stops at:

[...]
mv -f $depbase.Tpo $depbase.Po
depbase=`echo error.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++ -Wreturn-type -Wno-unknown-pragmas -Wno-write-strings 
-DHAVE_CONFIG_H -I. 
-I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf -I../.. 
-I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/../include 
-D_FORTIFY_SOURCE=2 -D__USE_MINGW_ANSI_STDIO=1  -march=x86-64 
-mtune=generic -O2 -pipe -MT error.o -MD -MP -MF $depbase.Tpo -c -o 
error.o 
../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc &&\
mv -f $depbase.Tpo $depbase.Po
../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc: 
In static member function 'static String ErrorHandler::vxformat(int, 
const char*, va_list)':
../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc:684:37: 
error: cast from 'void*' to 'long unsigned int' loses precision 
[-fpermissive]
       s1 = do_number((unsigned long) v, (char*) s2, 16, flags);
                                      ^
depbase=`echo filename.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++ -Wreturn-type -Wno-unknown-pragmas -Wno-write-strings 
-DHAVE_CONFIG_H -I. 
-I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf -I../.. 
-I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/../include 
-D_FORTIFY_SOURCE=2 -D__USE_MINGW_ANSI_STDIO=1  -march=x86-64 
-mtune=generic -O2 -pipe -MT filename.o -MD -MP -MF $depbase.Tpo -c -o 
filename.o 
../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/filename.cc 
&&\
mv -f $depbase.Tpo $depbase.Po
make[6]: *** [Makefile:451: error.o] Error 1


Ciao,
  Angelo.

From angelo.graziosi at alice.it  Sat Jul  9 17:05:14 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Sat, 9 Jul 2016 17:05:14 +0200
Subject: [tex-live] compilation error when compiling TeX Live on Windows
 64 bits
In-Reply-To: <5c556e91-7cdb-4d9c-d356-82f27af4edc5@alice.it>
References: <5c556e91-7cdb-4d9c-d356-82f27af4edc5@alice.it>
Message-ID: <274534bf-7f9d-3cdd-28c1-a314b9e38f3c@alice.it>

This patch seems to fix the issue:

--- lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc.orig 
2016-06-22 08:25:09.000000000 +0200
+++ lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc  2016-07-09 
16:48:14.693359300 +0200
@@ -681,7 +681,12 @@
             }
             void* v = va_arg(val, void*);
             s2 = numbuf + NUMBUF_SIZE;
+#ifdef __MINGW32__
+           s1 = do_number((size_t) v, (char*) s2, 16, flags);
+#else
             s1 = do_number((unsigned long) v, (char*) s2, 16, flags);
+#endif /* __MINGW32__ */
+
             s1 = do_number_flags((char*) s1, (char*) s2, 16, flags | 
cf_alternate_form, precision, field_width);
             break;
         }

Let's see now when the build stops.. :)


Angelo



Il 09/07/2016 16:22, Angelo Graziosi ha scritto:
> Ciao Martin,
>
> Martin Gieseking wrote:
>> As a quick workaround, it should be enough to rename dvisvgm's Process.h
>> and to adapt the #includes in FileFinder.cpp, MetafontWrapper.cpp, and
>> Process.cpp accordingly.
>
> I have applied these suggestions and indeed they fix that build error,
> the build continues and then stops at:
>
> [...]
> mv -f $depbase.Tpo $depbase.Po
> depbase=`echo error.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
> g++ -Wreturn-type -Wno-unknown-pragmas -Wno-write-strings
> -DHAVE_CONFIG_H -I.
> -I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf -I../..
> -I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/../include
> -D_FORTIFY_SOURCE=2 -D__USE_MINGW_ANSI_STDIO=1  -march=x86-64
> -mtune=generic -O2 -pipe -MT error.o -MD -MP -MF $depbase.Tpo -c -o
> error.o
> ../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc &&\
> mv -f $depbase.Tpo $depbase.Po
> ../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc:
> In static member function 'static String ErrorHandler::vxformat(int,
> const char*, va_list)':
> ../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc:684:37:
> error: cast from 'void*' to 'long unsigned int' loses precision
> [-fpermissive]
>       s1 = do_number((unsigned long) v, (char*) s2, 16, flags);
>                                      ^
> depbase=`echo filename.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
> g++ -Wreturn-type -Wno-unknown-pragmas -Wno-write-strings
> -DHAVE_CONFIG_H -I.
> -I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf -I../..
> -I../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/../include
> -D_FORTIFY_SOURCE=2 -D__USE_MINGW_ANSI_STDIO=1  -march=x86-64
> -mtune=generic -O2 -pipe -MT filename.o -MD -MP -MF $depbase.Tpo -c -o
> filename.o
> ../../../../../texk/lcdf-typetools/lcdf-typetools-src/liblcdf/filename.cc &&\
>
> mv -f $depbase.Tpo $depbase.Po
> make[6]: *** [Makefile:451: error.o] Error 1
>
>
> Ciao,
>  Angelo.

From karl at freefriends.org  Sat Jul  9 17:33:10 2016
From: karl at freefriends.org (Karl Berry)
Date: Sat, 9 Jul 2016 15:33:10 +0000
Subject: [tex-live] compilation error when compiling TeX Live on Windows
 64 bits
In-Reply-To: <274534bf-7f9d-3cdd-28c1-a314b9e38f3c@alice.it>
Message-ID: <201607091533.u69FXAkp000383@freefriends.org>

    +#ifdef __MINGW32__
    +           s1 = do_number((size_t) v, (char*) s2, 16, flags);
    +#else
                 s1 = do_number((unsigned long) v, (char*) s2, 16, flags);
    +#endif /* __MINGW32__ */

1) It seems it would be better to avoid the #ifdef and always use size_t.
2) The report must go upstream, to the lcdf maintainer, Eddie Kohler.
Please send the bug and your patch to him for his consideration.

Thanks,
Karl

From karl at freefriends.org  Sat Jul  9 17:40:13 2016
From: karl at freefriends.org (Karl Berry)
Date: Sat, 9 Jul 2016 15:40:13 +0000
Subject: [tex-live] ttfdump seg faults on subsetted fonts
In-Reply-To: <49402cbe-1c7b-ee19-274d-0cacbbaf3b07@redneon.com>
Message-ID: <201607091540.u69FeDP9001141@freefriends.org>

    When using ttfdump to inspect a subsetted font I get a seg fault due to
    the missing cmap, name, and post tables. Attached is a fix.

Thanks, but can you please also send a font and invocation that shows
the crash?  -k

From angelo.graziosi at alice.it  Sun Jul 10 14:31:34 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Sun, 10 Jul 2016 14:31:34 +0200
Subject: [tex-live] compilation error when compiling TeX Live on Windows
 64 bits
In-Reply-To: <274534bf-7f9d-3cdd-28c1-a314b9e38f3c@alice.it>
References: <5c556e91-7cdb-4d9c-d356-82f27af4edc5@alice.it>
 <274534bf-7f9d-3cdd-28c1-a314b9e38f3c@alice.it>
Message-ID: <a93c2a05-77ff-816d-400e-402280c58014@alice.it>



Il 09/07/2016 17:05, Angelo Graziosi ha scritto:
> This patch seems to fix the issue:
>
> --- lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc.orig 2016-06-22
> 08:25:09.000000000 +0200
> +++ lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc  2016-07-09
> 16:48:14.693359300 +0200
> @@ -681,7 +681,12 @@
>             }
>             void* v = va_arg(val, void*);
>             s2 = numbuf + NUMBUF_SIZE;
> +#ifdef __MINGW32__
> +           s1 = do_number((size_t) v, (char*) s2, 16, flags);
> +#else
>             s1 = do_number((unsigned long) v, (char*) s2, 16, flags);
> +#endif /* __MINGW32__ */
> +
>             s1 = do_number_flags((char*) s1, (char*) s2, 16, flags |
> cf_alternate_form, precision, field_width);
>             break;
>         }
>
> Let's see now when the build stops.. :)


Now it stops at:

[...]
make[4]: Entering directory '/tmp/tlsrc/Work/texk/tex4htk'
[...]
gcc -DHAVE_CONFIG_H -I. -I../../../texk/tex4htk  -I/tmp/tlsrc/Work/texk 
-I/tmp/tlsrc/texk -DANSI -DKPATHSEA  -Wimplicit -Wreturn-type 
-Wdeclaration-after-statement -Wno-unknown-pragmas -g -O2 -MT tex4ht.o 
-MD -MP -MF $depbase.Tpo -c -o tex4ht.o ../../../texk/tex4htk/tex4ht.c &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ./libtool  --tag=CC   --mode=link gcc -Wimplicit -Wreturn-type 
-Wdeclaration-after-statement -Wno-unknown-pragmas -g -O2   -o 
tex4ht.exe tex4ht.o /tmp/tlsrc/Work/texk/kpathsea/libkpathsea.la
libtool: link: gcc -Wimplicit -Wreturn-type 
-Wdeclaration-after-statement -Wno-unknown-pragmas -g -O2 -o tex4ht.exe 
tex4ht.o  /tmp/tlsrc/Work/texk/kpathsea/.libs/libkpathsea.a
make[4]: *** No rule to make target 'xhlatex.bat', needed by 'all-am'. 
Stop.
make[4]: Leaving directory '/tmp/tlsrc/Work/texk/tex4htk'
[...]

It fails after building

find Work -name "*.exe" | grep -c .exe
197

executable...


> Angelo

From angelo.graziosi at alice.it  Sun Jul 10 15:17:32 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Sun, 10 Jul 2016 15:17:32 +0200
Subject: [tex-live] compilation error when compiling TeX Live on Windows
 64 bits
In-Reply-To: <a93c2a05-77ff-816d-400e-402280c58014@alice.it>
References: <5c556e91-7cdb-4d9c-d356-82f27af4edc5@alice.it>
 <274534bf-7f9d-3cdd-28c1-a314b9e38f3c@alice.it>
 <a93c2a05-77ff-816d-400e-402280c58014@alice.it>
Message-ID: <371e6a1e-6d53-6655-13cb-e03301d6eefe@alice.it>



Il 10/07/2016 14:31, Angelo Graziosi ha scritto:
>
>
> Il 09/07/2016 17:05, Angelo Graziosi ha scritto:
>>
>> Let's see now when the build stops.. :)
>
>
> Now it stops at:
>
> [...]
> make[4]: Entering directory '/tmp/tlsrc/Work/texk/tex4htk'
> [...]
> gcc -DHAVE_CONFIG_H -I. -I../../../texk/tex4htk  -I/tmp/tlsrc/Work/texk
> -I/tmp/tlsrc/texk -DANSI -DKPATHSEA  -Wimplicit -Wreturn-type
> -Wdeclaration-after-statement -Wno-unknown-pragmas -g -O2 -MT tex4ht.o
> -MD -MP -MF $depbase.Tpo -c -o tex4ht.o ../../../texk/tex4htk/tex4ht.c &&\
> mv -f $depbase.Tpo $depbase.Po
> /bin/sh ./libtool  --tag=CC   --mode=link gcc -Wimplicit -Wreturn-type
> -Wdeclaration-after-statement -Wno-unknown-pragmas -g -O2   -o
> tex4ht.exe tex4ht.o /tmp/tlsrc/Work/texk/kpathsea/libkpathsea.la
> libtool: link: gcc -Wimplicit -Wreturn-type
> -Wdeclaration-after-statement -Wno-unknown-pragmas -g -O2 -o tex4ht.exe
> tex4ht.o  /tmp/tlsrc/Work/texk/kpathsea/.libs/libkpathsea.a
> make[4]: *** No rule to make target 'xhlatex.bat', needed by 'all-am'.
> Stop.
> make[4]: Leaving directory '/tmp/tlsrc/Work/texk/tex4htk'
> [...]
>
> It fails after building
>
> find Work -name "*.exe" | grep -c .exe
> 197
>
> executable...

I see that the Makefile has:

am__dist_bin_SCRIPTS_DIST = ht.bat htcontext.bat htlatex.bat htmex.bat \
	httex.bat httexi.bat htxelatex.bat htxetex.bat xhlatex.bat

Now, all the other .bat file are in the tree but not xhlatex.bat. I see 
also that about three weks ago there was some change (add/remove) 
regarding xhlatex* file.. May be you have forgot to re-add this 
xhlatex.bat...


Just a guess..

In any case, adding manually that batch file (from r41440, 
/trunk/Master/bin/win32/xhlatex.bat) and typing. now, make && make 
install, the 'inst' folder contains

find /tmp/tlsrc/inst/bin/x86_64-w64-mingw32/ -name "*.exe" | grep -c .exe
323

find /tmp/tlsrc/inst/bin/x86_64-w64-mingw32/ -name "*.bat" | grep -c .bat
9

find /tmp/tlsrc/inst/bin/x86_64-w64-mingw32/ -name "*.dll" | grep -c .dll
2

find /tmp/tlsrc/inst/bin/x86_64-w64-mingw32/ -name "*.tlu" | grep -c .tlu
1

find /tmp/tlsrc/inst/bin/x86_64-w64-mingw32/ -name "*.lua" | grep -c .lua
1

for a total of 336 files. Is this to be expected for a complete build?


>> Angelo

From karl at freefriends.org  Sun Jul 10 23:51:59 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 10 Jul 2016 21:51:59 +0000
Subject: [tex-live] compilation error when compiling TeX Live on Windows
 64 bits
In-Reply-To: <371e6a1e-6d53-6655-13cb-e03301d6eefe@alice.it>
Message-ID: <201607102151.u6ALpxow004829@freefriends.org>

    all the other .bat file are in the tree but not xhlatex.bat

I added it in the source tree, thanks.

    for a total of 336 files. Is this to be expected for a complete build?

An ls|wc of the Master/bin/win32 directory results in 462.  I don't know
where the discrepancy might lie.  -k

From vincent.torri at gmail.com  Mon Jul 11 11:17:23 2016
From: vincent.torri at gmail.com (Vincent Torri)
Date: Mon, 11 Jul 2016 11:17:23 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <d4de12fd-938c-81bb-c6f2-ee1585c571d5@alice.it>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
 <e4e54e28-3405-b029-4329-3dfb34a02bf6@alice.it>
 <CAMq1adorV+uv=PJBd==+ZcFoAQCjt4D8PzZK5CeSyVuy3KeGmg@mail.gmail.com>
 <d4de12fd-938c-81bb-c6f2-ee1585c571d5@alice.it>
Message-ID: <CAMq1adoa-QGgyur9YzBp4CCrTbP2LfUpYWaNtne==PS1+J+bkQ@mail.gmail.com>

hello

what is the status of the patch below ?

Vincent

On Fri, Jul 8, 2016 at 10:19 PM, Angelo Graziosi
<angelo.graziosi at alice.it> wrote:
> Hi Vincent,
>
> Il 07/07/2016 19:11, Vincent Torri ha scritto:
>>
>> On Thu, Jul 7, 2016 at 5:47 PM, Angelo Graziosi
>> wrote:
>>>
>>>
>>> As you see, when building in libs/icu it switched to use clang/clang++..
>>>
>>> So after cleaning, I tried:
>>>
>>> CXX=g++ CC=gcc ./Build --build=x86_64-w64-mingw32
>>>
>>>
>>> Now all things in libs seem built.. but then the build stops trying to
>>> build
>>> xetex:
>>>
>>> [...]
>>> C:/msys64/tmp/tlsrc/Work/libs/icu/icu-build/lib/libicudata.a: No such
>>> file
>>> or directory
>>
>>
>> I had that error once. it seems it has gone, don't know why. I'll
>> anyway do another builld from scratch (removing msys2 and installing
>> it again) to be sure it is working.
>
>
> the ICU issues are fixed by patch below [*], created from a few patches used
> by MSYS2 people
> (https://github.com/Alexpux/MINGW-packages/tree/master/mingw-w64-icu). After
> this, building TL with
>
> CXX=g++ CC=gcc ./Build --build=x86_64-w64-mingw32
>
>
> fails as you,
>
> g++ -DHAVE_CONFIG_H -I. -I../../../texk/dvisvgm
> -I../../../texk/dvisvgm/dvisvgm-src/clipper
> -I../../../texk/dvisvgm/dvisvgm-src/src
> -I../../../texk/dvisvgm/dvisvgm-src/xxHash -I/tmp/tlsrc/Work/texk
> -I/tmp/tlsrc/texk -I/tmp/tlsrc/Work/libs/potrace/include
> -I/tmp/tlsrc/Work/libs/freetype2/freetype2
> -I/tmp/tlsrc/Work/libs/zlib/include  -DTEXLIVEWIN32  -Wreturn-type
> -Wno-unknown-pragmas -Wno-write-strings -g -O2 -MT
> dvisvgm-src/src/BgColorSpecialHandler.o -MD -MP -MF $depbase.Tpo -c -o
> dvisvgm-src/src/BgColorSpecialHandler.o
> ../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp &&\
> mv -f $depbase.Tpo $depbase.Po
> [...]In file included from
> C:/msys64/mingw64/x86_64-w64-mingw32/include/pthread.h:66:0,
> [...]
> In file included from C:/msys64/mingw64/include/c++/5.4.0/string:39:0,
>                  from ../../../texk/dvisvgm/dvisvgm-src/src/Color.h:24,
>                  from
> ../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.h:25,
>                  from
> ../../../texk/dvisvgm/dvisvgm-src/src/BgColorSpecialHandler.cpp:23:
> C:/msys64/mingw64/include/c++/5.4.0/bits/stringfwd.h:71:11: note:
> declaration of 'std::__cxx11::string {aka class
> std::__cxx11::basic_string<char>}'
>      class basic_string;
>            ^
>
>
> Ciao,
>  Angelo.
>
> ---
> [*] The patch:
>
> --------------------------------------------------------------------------------
> --- icu/source/tools/genren/Makefile.orig       2011-08-10
> 14:03:08.000000000 +0200
> +++ icu/source/tools/genren/Makefile    2016-07-08 15:19:09.162109300 +0200
> @@ -30,12 +30,12 @@
>  include $(BUILDDIR)/icudefs.mk
>  endif
>
> -COM=$(ICUDIR)/lib/libicuuc.$(SO)
> -I18=$(ICUDIR)/lib/libicui18n.$(SO)
> -LAY=$(ICUDIR)/lib/libicule.$(SO)
> -LEX=$(ICUDIR)/lib/libiculx.$(SO)
> +COM=$(ICUDIR)/bin/libicuuc.$(SO)
> +I18=$(ICUDIR)/bin/libicui18n.$(SO)
> +LAY=$(ICUDIR)/bin/libicule.$(SO)
> +LEX=$(ICUDIR)/bin/libiculx.$(SO)
>  DAT=$(ICUDIR)/stubdata/libicudata.$(SO)
> -UIO=$(ICUDIR)/lib/libicuio.$(SO)
> +UIO=$(ICUDIR)/bin/libicuio.$(SO)
>
>  LIBS=$(COM) $(I18) $(LAY) $(LEX) $(UIO)
>
> --- icu/source/config/mh-mingw64.orig   2016-03-27 19:16:39.000000000 +0200
> +++ icu/source/config/mh-mingw64        2016-07-08 16:16:05.349609300 +0200
> @@ -8,10 +8,6 @@
>  # This file is similar to mh-mingw
>  # Any changes made here may also need to be made in mh-mingw
>
> -# We install sbin tools into the same bin directory because
> -# pkgdata needs some of the tools in sbin, and we can't always depend on
> -# icu-config working on Windows.
> -sbindir=$(bindir)
>
>  ## Commands to generate dependency files
>  GEN_DEPS.c=    $(CC) -E -MM $(DEFS) $(CPPFLAGS)
> @@ -44,8 +40,8 @@
>  LD_SOOPTIONS= -Wl,-Bsymbolic
>
>  ## Commands to make a shared library
> -SHLIB.c=       $(CC) $(CFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS)
> -Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)lib$(notdir
> $(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
> -SHLIB.cc=      $(CXX) $(CXXFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS)
> -Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)lib$(notdir
> $(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
> +SHLIB.c=       $(CC) $(CFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS)
> -Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)$(notdir
> $(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
> +SHLIB.cc=      $(CXX) $(CXXFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS)
> -Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)$(notdir
> $(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
>
>  ## Compiler switch to embed a runtime search path
>  LD_RPATH=
> @@ -66,27 +62,28 @@
>  endif
>
>  # Static library prefix and file extension
> -LIBSICU = lib$(LIBPREFIX)$(STATIC_PREFIX)$(ICUPREFIX)
> +LIBSICU = $(LIBPREFIX)$(STATIC_PREFIX)$(ICUPREFIX)
>  A = a
>
>  ## An import library is needed for z/OS and MSVC
>  IMPORT_LIB_EXT = .dll.a
>
> -LIBPREFIX=
> +LIBPREFIX=lib
>
>  # Change the stubnames so that poorly working FAT disks and installation
> programs can work.
>  # This is also for backwards compatibility.
> -DATA_STUBNAME = dt
> -I18N_STUBNAME = in
> -LIBICU = $(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)
> +LIBICU = $(LIBPREFIX)$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)
> +
> +# The following is for Makefile.inc's use.
> +ICULIBSUFFIX_VERSION = $(LIB_VERSION_MAJOR)
>
>  #SH### copied from Makefile.inc
>  #SH## for icu-config to test with
>
> #SH#ICULIBS_COMMON_LIB_NAME="${LIBICU}${COMMON_STUBNAME}${ICULIBSUFFIX}${ICULIBSUFFIX_VERSION}.${SO}"
>
> #SH#ICULIBS_COMMON_LIB_NAME_A="${LIBICU}${COMMON_STUBNAME}${ICULIBSUFFIX}.${A}"
>
> -#SH#ICULIBS_DATA="-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)"
> -#SH#ICULIBS_I18N="-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)"
> +#SH#ICULIBS_DATA="-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)"
> +#SH#ICULIBS_I18N="-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)"
>  #SH#
>  #SH## ICULIBS is the set of libraries your application should link
>  #SH## with usually. Many applications will want to add ${ICULIBS_I18N} as
> well.
> @@ -94,11 +91,11 @@
>
>  # The #M# is used to delete lines for icu-config
>  # Current full path directory.
> -#CURR_FULL_DIR=$(shell pwd -W)#M# for MSYS
> -CURR_FULL_DIR?=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
> +CURR_FULL_DIR=$(shell $(SHELL) -c "pwd -W")#M# for MSYS
> +#CURR_FULL_DIR?=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
>  # Current full path directory for use in source code in a -D compiler
> option.
> -#CURR_SRCCODE_FULL_DIR=$(subst /,\\\\,$(shell pwd -W))#M# for MSYS
> -CURR_SRCCODE_FULL_DIR=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
> +CURR_SRCCODE_FULL_DIR=$(subst /,\\\\,$(shell $(SHELL) -c "pwd -W"))#M# for
> MSYS
> +#CURR_SRCCODE_FULL_DIR=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
>
>  ## Compilation rules
>  %.$(STATIC_O): $(srcdir)/%.c
> @@ -130,7 +127,7 @@
>  FINAL_SO_TARGET=$(basename $(SO_TARGET))$(SO_TARGET_VERSION_MAJOR).$(SO)
>  MIDDLE_SO_TARGET=$(FINAL_SO_TARGET)
>
> -FINAL_IMPORT_LIB = $(dir $(SO_TARGET))lib$(notdir $(basename
> $(SO_TARGET)))$(IMPORT_LIB_EXT)#M#
> +FINAL_IMPORT_LIB = $(dir $(SO_TARGET))$(notdir $(basename
> $(SO_TARGET)))$(IMPORT_LIB_EXT)#M#
>  IMPORT_LIB = $(FINAL_IMPORT_LIB)#M#
>  MIDDLE_IMPORT_LIB = $(FINAL_IMPORT_LIB)#M#
>
> --- icu/source/tools/pkgdata/pkgdata.cpp.orig   2016-03-27
> 19:16:39.000000000 +0200
> +++ icu/source/tools/pkgdata/pkgdata.cpp        2016-07-08
> 16:02:40.083984300 +0200
> @@ -891,20 +891,9 @@
>      const char* FILE_EXTENSION_SEP = uprv_strlen(pkgDataFlags[SO_EXT]) == 0
> ? "" : ".";
>      const char* FILE_SUFFIX = pkgDataFlags[LIB_EXT_ORDER][0] == '.' ? "." :
> "";
>
> -#if U_PLATFORM == U_PF_MINGW
> -        /* MinGW does not need the library prefix when building in dll
> mode. */
> -        if (IN_DLL_MODE(mode)) {
> -            sprintf(libFileNames[LIB_FILE], "%s", libName);
> -        } else {
> -            sprintf(libFileNames[LIB_FILE], "%s%s",
> -                    pkgDataFlags[LIBPREFIX],
> -                    libName);
> -        }
> -#else
>          sprintf(libFileNames[LIB_FILE], "%s%s",
>                  pkgDataFlags[LIBPREFIX],
>                  libName);
> -#endif
>
>          if(o->verbose) {
>            fprintf(stdout, "# libFileName[LIB_FILE] = %s\n",
> libFileNames[LIB_FILE]);
> --- icu/source/tools/pkgdata/pkgtypes.h.orig    2012-03-22
> 10:50:28.000000000 +0100
> +++ icu/source/tools/pkgdata/pkgtypes.h 2016-07-08 16:02:40.100585900 +0200
> @@ -138,10 +138,10 @@
>  # ifndef UDATA_SO_SUFFIX
>  #  define UDATA_SO_SUFFIX ".dll"
>  # endif
> -# define LIB_PREFIX ""
> -# define LIB_STATIC_PREFIX ""
> -# define OBJ_SUFFIX ".obj"
> -# define UDATA_LIB_SUFFIX ".lib"
> +# define LIB_PREFIX "lib"
> +# define LIB_STATIC_PREFIX "lib"
> +# define OBJ_SUFFIX ".o"
> +# define UDATA_LIB_SUFFIX ".a"
>
>  #elif U_PLATFORM == U_PF_CYGWIN
>  # define LIB_PREFIX "cyg"
> --- icu/source/icudefs.mk.in.orig       2016-03-27 22:50:56.000000000 +0200
> +++ icu/source/icudefs.mk.in    2016-07-08 16:10:23.023437500 +0200
> @@ -262,18 +262,18 @@
>  USING_ICULEHB=no
>  ICULEHB_TRUE=#
>  ICULEHB_FALSE=
> -ICULIBS_LE     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUT_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> +ICULIBS_LE     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUT_STUBNAME)$(ICULIBSUFFIX)
>  ICULE_CFLAGS=-I$(top_srcdir)
>  endif
>
>  # Just the libs.
> -ICULIBS_DT     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> -ICULIBS_UC     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(COMMON_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> -ICULIBS_I18N   =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> -ICULIBS_LX     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUTEX_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> -ICULIBS_IO     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(IO_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> -ICULIBS_CTESTFW        =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(CTESTFW_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> -ICULIBS_TOOLUTIL =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(TOOLUTIL_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
> +ICULIBS_DT     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_UC     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(COMMON_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_I18N   =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_LX     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUTEX_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_IO     =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(IO_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_CTESTFW        =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(CTESTFW_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_TOOLUTIL =
> -l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(TOOLUTIL_STUBNAME)$(ICULIBSUFFIX)
>  # Link commands to link to ICU libs
>  LLIBDIR                = -L$(LIBDIR)
>  LSTUBDIR       = -L$(top_builddir)/stubdata
> --- icu/source/config/Makefile.inc.in.orig      2016-03-27
> 22:50:56.000000000 +0200
> +++ icu/source/config/Makefile.inc.in   2016-07-08 16:21:19.580078100 +0200
> @@ -106,15 +106,15 @@
>  #    - $(ICULIBS_LAYOUT)  - ICU layout library.
>  #    - $(ICULIBS_ICUIO)   - ICU stdio equivalent library
>
> -ICULIBS_COMMON = -l$(ICUPREFIX)uc$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_DATA   =
> -l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_I18N   =
> -l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_TOOLUTIL = -l$(ICUPREFIX)tu$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_CTESTFW =
> -l$(ICUPREFIX)ctestfw$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_ICUIO = -l$(ICUPREFIX)io$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_OBSOLETE =
> -l$(ICUPREFIX)obsolete$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_LAYOUT = -l$(ICUPREFIX)le$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> -ICULIBS_LAYOUTEX = -l$(ICUPREFIX)lx$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
> +ICULIBS_COMMON = -l$(ICUPREFIX)uc$(ICULIBSUFFIX)
> +ICULIBS_DATA   = -l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_I18N   = -l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)
> +ICULIBS_TOOLUTIL = -l$(ICUPREFIX)tu$(ICULIBSUFFIX)
> +ICULIBS_CTESTFW = -l$(ICUPREFIX)ctestfw$(ICULIBSUFFIX)
> +ICULIBS_ICUIO = -l$(ICUPREFIX)io$(ICULIBSUFFIX)
> +ICULIBS_OBSOLETE = -l$(ICUPREFIX)obsolete$(ICULIBSUFFIX)
> +ICULIBS_LAYOUT = -l$(ICUPREFIX)le$(ICULIBSUFFIX)
> +ICULIBS_LAYOUTEX = -l$(ICUPREFIX)lx$(ICULIBSUFFIX)
>  ICULIBS_BASE = -L$(libdir)
>
>  # for icu-config to test with
> ----------------------------------------------------------------------

From angelo.graziosi at alice.it  Mon Jul 11 12:53:06 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Mon, 11 Jul 2016 12:53:06 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adoa-QGgyur9YzBp4CCrTbP2LfUpYWaNtne==PS1+J+bkQ@mail.gmail.com>
References: <a2a7fe80-e062-72b1-803d-7e6e5f206b57@alice.it>
 <CALBOmsYkWh_G9s0+KO04nsZBH9v9u4666L5mg5OYxF2Z7rONGA@mail.gmail.com>
 <835e5d64-dbb1-7149-4c52-10133c517211@alice.it>
 <CAMq1adre-pm+DC8dsFxcGYatsKdUTP9hmnqU_8WTxNARMPZnOQ@mail.gmail.com>
 <020833e4-1974-1c63-53d4-f36b95ea5b6b@alice.it>
 <CAMq1adp9bUzyGfkAdNOiC312R8cOD1gQQz_SoDmSyMVcfOP95w@mail.gmail.com>
 <22c822d5-b364-c9ba-2fe9-16dd0ed77ab9@alice.it>
 <CAMq1adpYioxXAFdmsPWieOZwE=oDyCk+3YbcFe2RBwmnQ7pBoA@mail.gmail.com>
 <74ef4322-5b79-7a1d-f65d-dbe89ffb0b8b@alice.it>
 <CAMq1adr_ZXP_SRFFnBycTUOokQQVoF34uFWhyeRT2V3LGvpD-g@mail.gmail.com>
 <c43dac56-0f81-196d-6a4e-3391fe52950e@alice.it>
 <CAMq1adqwN25cMGh2i1cSonzNq0HQfDkQkWUz3s-gNWN7cQ55ZQ@mail.gmail.com>
 <e4e54e28-3405-b029-4329-3dfb34a02bf6@alice.it>
 <CAMq1adorV+uv=PJBd==+ZcFoAQCjt4D8PzZK5CeSyVuy3KeGmg@mail.gmail.com>
 <d4de12fd-938c-81bb-c6f2-ee1585c571d5@alice.it>
 <CAMq1adoa-QGgyur9YzBp4CCrTbP2LfUpYWaNtne==PS1+J+bkQ@mail.gmail.com>
Message-ID: <02f1b9f7-5d3e-006f-db42-8d86050788f3@alice.it>



Il 11/07/2016 11:17, Vincent Torri ha scritto:
> hello
>
> what is the status of the patch below ?

For completeness, I summarize the steps to build TL for Win64 using 
MSYS2 tools.

 From a MinGW64 shell (/mingw64.exe):

1. rsync -av --delete --exclude=.svn tug.org::tldevsrc/Build/source/ 
/tmp/tlsrc/

2.
     cd /tmp/tlsrc
     patch -p0 < /tmp/TL-msys2-mingw64.patch  ## [*]

3.
     cd /tmp/tlsrc/texk/dvisvgm/dvisvgm-src/src
     mv Process.h Process_tl.h

     sed -i.bkp 's/Process.h/Process_tl.h/' Process.cpp
     sed -i.bkp 's/Process.h/Process_tl.h/' MetafontWrapper.cpp
     sed -i.bkp 's/Process.h/Process_tl.h/' FileFinder.cpp

(4.
     cd /tmp
     cp -p -i xhlatex.bat tlsrc/texk/tex4htk/

as Karl wrote, we do not need step #4 anymore..)

5.
    cd /tmp/tlsrc
    CXX=g++ CC=gcc ./Build --build=x86_64-w64-mingw32


After a few hours the build stops/finishes with a lua testing failure 
and with the message that 336 executable are installed in 
bin/x86_64-w64-mingw32.

With those binaries, I tried a custom-bin installation

/e/tlrepo/install-tl -custom-bin /tmp/tlsrc/inst/bin/x86_64-w64-mingw32

but there were errors in postinstall steps and a bad exit status. So I 
didn't try to test it either..

Angelo


-----
[*] $ cat /tmp/TL-msys2-mingw64.patch
--- libs/icu/icu-src/source/tools/genren/Makefile.orig  2011-08-10 
14:03:08.000000000 +0200
+++ libs/icu/icu-src/source/tools/genren/Makefile       2016-07-08 
15:19:09.162109300 +0200
@@ -30,12 +30,12 @@
  include $(BUILDDIR)/icudefs.mk
  endif

-COM=$(ICUDIR)/lib/libicuuc.$(SO)
-I18=$(ICUDIR)/lib/libicui18n.$(SO)
-LAY=$(ICUDIR)/lib/libicule.$(SO)
-LEX=$(ICUDIR)/lib/libiculx.$(SO)
+COM=$(ICUDIR)/bin/libicuuc.$(SO)
+I18=$(ICUDIR)/bin/libicui18n.$(SO)
+LAY=$(ICUDIR)/bin/libicule.$(SO)
+LEX=$(ICUDIR)/bin/libiculx.$(SO)
  DAT=$(ICUDIR)/stubdata/libicudata.$(SO)
-UIO=$(ICUDIR)/lib/libicuio.$(SO)
+UIO=$(ICUDIR)/bin/libicuio.$(SO)

  LIBS=$(COM) $(I18) $(LAY) $(LEX) $(UIO)

--- libs/icu/icu-src/source/config/mh-mingw64.orig      2016-03-27 
19:16:39.000000000 +0200
+++ libs/icu/icu-src/source/config/mh-mingw64   2016-07-08 
16:16:05.349609300 +0200
@@ -8,10 +8,6 @@
  # This file is similar to mh-mingw
  # Any changes made here may also need to be made in mh-mingw

-# We install sbin tools into the same bin directory because
-# pkgdata needs some of the tools in sbin, and we can't always depend on
-# icu-config working on Windows.
-sbindir=$(bindir)

  ## Commands to generate dependency files
  GEN_DEPS.c=    $(CC) -E -MM $(DEFS) $(CPPFLAGS)
@@ -44,8 +40,8 @@
  LD_SOOPTIONS= -Wl,-Bsymbolic

  ## Commands to make a shared library
-SHLIB.c=       $(CC) $(CFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)lib$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
-SHLIB.cc=      $(CXX) $(CXXFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)lib$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
+SHLIB.c=       $(CC) $(CFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#
+SHLIB.cc=      $(CXX) $(CXXFLAGS) $(LDFLAGS) -shared $(LD_SOOPTIONS) 
-Wl,--enable-auto-import -Wl,--out-implib=$(dir $@)$(notdir 
$(@:$(SO_TARGET_VERSION_MAJOR).$(SO)=))$(IMPORT_LIB_EXT)#M#

  ## Compiler switch to embed a runtime search path
  LD_RPATH=
@@ -66,27 +62,28 @@
  endif

  # Static library prefix and file extension
-LIBSICU = lib$(LIBPREFIX)$(STATIC_PREFIX)$(ICUPREFIX)
+LIBSICU = $(LIBPREFIX)$(STATIC_PREFIX)$(ICUPREFIX)
  A = a

  ## An import library is needed for z/OS and MSVC
  IMPORT_LIB_EXT = .dll.a

-LIBPREFIX=
+LIBPREFIX=lib

  # Change the stubnames so that poorly working FAT disks and 
installation programs can work.
  # This is also for backwards compatibility.
-DATA_STUBNAME = dt
-I18N_STUBNAME = in
-LIBICU = $(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)
+LIBICU = $(LIBPREFIX)$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)
+
+# The following is for Makefile.inc's use.
+ICULIBSUFFIX_VERSION = $(LIB_VERSION_MAJOR)

  #SH### copied from Makefile.inc
  #SH## for icu-config to test with
 
#SH#ICULIBS_COMMON_LIB_NAME="${LIBICU}${COMMON_STUBNAME}${ICULIBSUFFIX}${ICULIBSUFFIX_VERSION}.${SO}"
 
#SH#ICULIBS_COMMON_LIB_NAME_A="${LIBICU}${COMMON_STUBNAME}${ICULIBSUFFIX}.${A}"

-#SH#ICULIBS_DATA="-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)"
-#SH#ICULIBS_I18N="-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)"
+#SH#ICULIBS_DATA="-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)"
+#SH#ICULIBS_I18N="-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)"
  #SH#
  #SH## ICULIBS is the set of libraries your application should link
  #SH## with usually. Many applications will want to add ${ICULIBS_I18N} 
as well.
@@ -94,11 +91,11 @@

  # The #M# is used to delete lines for icu-config
  # Current full path directory.
-#CURR_FULL_DIR=$(shell pwd -W)#M# for MSYS
-CURR_FULL_DIR?=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
+CURR_FULL_DIR=$(shell $(SHELL) -c "pwd -W")#M# for MSYS
+#CURR_FULL_DIR?=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
  # Current full path directory for use in source code in a -D compiler 
option.
-#CURR_SRCCODE_FULL_DIR=$(subst /,\\\\,$(shell pwd -W))#M# for MSYS
-CURR_SRCCODE_FULL_DIR=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell
+CURR_SRCCODE_FULL_DIR=$(subst /,\\\\,$(shell $(SHELL) -c "pwd -W"))#M# 
for MSYS
+#CURR_SRCCODE_FULL_DIR=$(subst \,/,$(shell cmd /c cd))#M# for Cygwin shell

  ## Compilation rules
  %.$(STATIC_O): $(srcdir)/%.c
@@ -130,7 +127,7 @@
  FINAL_SO_TARGET=$(basename $(SO_TARGET))$(SO_TARGET_VERSION_MAJOR).$(SO)
  MIDDLE_SO_TARGET=$(FINAL_SO_TARGET)

-FINAL_IMPORT_LIB = $(dir $(SO_TARGET))lib$(notdir $(basename 
$(SO_TARGET)))$(IMPORT_LIB_EXT)#M#
+FINAL_IMPORT_LIB = $(dir $(SO_TARGET))$(notdir $(basename 
$(SO_TARGET)))$(IMPORT_LIB_EXT)#M#
  IMPORT_LIB = $(FINAL_IMPORT_LIB)#M#
  MIDDLE_IMPORT_LIB = $(FINAL_IMPORT_LIB)#M#

--- libs/icu/icu-src/source/tools/pkgdata/pkgdata.cpp.orig 
2016-03-27 19:16:39.000000000 +0200
+++ libs/icu/icu-src/source/tools/pkgdata/pkgdata.cpp   2016-07-08 
16:02:40.083984300 +0200
@@ -891,20 +891,9 @@
      const char* FILE_EXTENSION_SEP = uprv_strlen(pkgDataFlags[SO_EXT]) 
== 0 ? "" : ".";
      const char* FILE_SUFFIX = pkgDataFlags[LIB_EXT_ORDER][0] == '.' ? 
"." : "";

-#if U_PLATFORM == U_PF_MINGW
-        /* MinGW does not need the library prefix when building in dll 
mode. */
-        if (IN_DLL_MODE(mode)) {
-            sprintf(libFileNames[LIB_FILE], "%s", libName);
-        } else {
-            sprintf(libFileNames[LIB_FILE], "%s%s",
-                    pkgDataFlags[LIBPREFIX],
-                    libName);
-        }
-#else
          sprintf(libFileNames[LIB_FILE], "%s%s",
                  pkgDataFlags[LIBPREFIX],
                  libName);
-#endif

          if(o->verbose) {
            fprintf(stdout, "# libFileName[LIB_FILE] = %s\n", 
libFileNames[LIB_FILE]);
--- libs/icu/icu-src/source/tools/pkgdata/pkgtypes.h.orig 
2012-03-22 10:50:28.000000000 +0100
+++ libs/icu/icu-src/source/tools/pkgdata/pkgtypes.h    2016-07-08 
16:02:40.100585900 +0200
@@ -138,10 +138,10 @@
  # ifndef UDATA_SO_SUFFIX
  #  define UDATA_SO_SUFFIX ".dll"
  # endif
-# define LIB_PREFIX ""
-# define LIB_STATIC_PREFIX ""
-# define OBJ_SUFFIX ".obj"
-# define UDATA_LIB_SUFFIX ".lib"
+# define LIB_PREFIX "lib"
+# define LIB_STATIC_PREFIX "lib"
+# define OBJ_SUFFIX ".o"
+# define UDATA_LIB_SUFFIX ".a"

  #elif U_PLATFORM == U_PF_CYGWIN
  # define LIB_PREFIX "cyg"
--- libs/icu/icu-src/source/icudefs.mk.in.orig  2016-03-27 
22:50:56.000000000 +0200
+++ libs/icu/icu-src/source/icudefs.mk.in       2016-07-08 
16:10:23.023437500 +0200
@@ -262,18 +262,18 @@
  USING_ICULEHB=no
  ICULEHB_TRUE=#
  ICULEHB_FALSE=
-ICULIBS_LE     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUT_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
+ICULIBS_LE     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUT_STUBNAME)$(ICULIBSUFFIX)
  ICULE_CFLAGS=-I$(top_srcdir)
  endif

  # Just the libs.
-ICULIBS_DT     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_UC     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(COMMON_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_I18N   = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_LX     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUTEX_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_IO     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(IO_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_CTESTFW        = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(CTESTFW_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
-ICULIBS_TOOLUTIL = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(TOOLUTIL_STUBNAME)$(ICULIBSUFFIX)$(SO_TARGET_VERSION_SUFFIX)
+ICULIBS_DT     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_UC     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(COMMON_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_I18N   = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_LX     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(LAYOUTEX_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_IO     = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(IO_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_CTESTFW        = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(CTESTFW_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_TOOLUTIL = 
-l$(STATIC_PREFIX_WHEN_USED)$(ICUPREFIX)$(TOOLUTIL_STUBNAME)$(ICULIBSUFFIX)
  # Link commands to link to ICU libs
  LLIBDIR                = -L$(LIBDIR)
  LSTUBDIR       = -L$(top_builddir)/stubdata
--- libs/icu/icu-src/source/config/Makefile.inc.in.orig 2016-03-27 
22:50:56.000000000 +0200
+++ libs/icu/icu-src/source/config/Makefile.inc.in      2016-07-08 
16:21:19.580078100 +0200
@@ -106,15 +106,15 @@
  #    - $(ICULIBS_LAYOUT)  - ICU layout library.
  #    - $(ICULIBS_ICUIO)   - ICU stdio equivalent library

-ICULIBS_COMMON = -l$(ICUPREFIX)uc$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_DATA   = 
-l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_I18N   = 
-l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_TOOLUTIL = -l$(ICUPREFIX)tu$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_CTESTFW = 
-l$(ICUPREFIX)ctestfw$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_ICUIO = -l$(ICUPREFIX)io$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_OBSOLETE = 
-l$(ICUPREFIX)obsolete$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_LAYOUT = -l$(ICUPREFIX)le$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
-ICULIBS_LAYOUTEX = -l$(ICUPREFIX)lx$(ICULIBSUFFIX)$(ICULIBSUFFIX_VERSION)
+ICULIBS_COMMON = -l$(ICUPREFIX)uc$(ICULIBSUFFIX)
+ICULIBS_DATA   = -l$(ICUPREFIX)$(DATA_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_I18N   = -l$(ICUPREFIX)$(I18N_STUBNAME)$(ICULIBSUFFIX)
+ICULIBS_TOOLUTIL = -l$(ICUPREFIX)tu$(ICULIBSUFFIX)
+ICULIBS_CTESTFW = -l$(ICUPREFIX)ctestfw$(ICULIBSUFFIX)
+ICULIBS_ICUIO = -l$(ICUPREFIX)io$(ICULIBSUFFIX)
+ICULIBS_OBSOLETE = -l$(ICUPREFIX)obsolete$(ICULIBSUFFIX)
+ICULIBS_LAYOUT = -l$(ICUPREFIX)le$(ICULIBSUFFIX)
+ICULIBS_LAYOUTEX = -l$(ICUPREFIX)lx$(ICULIBSUFFIX)
  ICULIBS_BASE = -L$(libdir)

  # for icu-config to test with
--- texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc.orig 
2016-06-22 08:25:09.000000000 +0200
+++ texk/lcdf-typetools/lcdf-typetools-src/liblcdf/error.cc 
2016-07-09 16:48:14.693359300 +0200
@@ -681,7 +681,12 @@
             }
             void* v = va_arg(val, void*);
             s2 = numbuf + NUMBUF_SIZE;
+#ifdef __MINGW32__
+           s1 = do_number((size_t) v, (char*) s2, 16, flags);
+#else
             s1 = do_number((unsigned long) v, (char*) s2, 16, flags);
+#endif /* __MINGW32__ */
+
             s1 = do_number_flags((char*) s1, (char*) s2, 16, flags | 
cf_alternate_form, precision, field_width);
             break;
         }



From karl at freefriends.org  Tue Jul 12 00:26:42 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 11 Jul 2016 22:26:42 +0000
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <CAMq1adoa-QGgyur9YzBp4CCrTbP2LfUpYWaNtne==PS1+J+bkQ@mail.gmail.com>
Message-ID: <201607112226.u6BMQggh011888@freefriends.org>

    what is the status of the patch below ?

As I wrote before: patches should go upstream (dvisvgm maintainer,
lcdf maintainer, icu maintainers).  Angelo, please report them there.

We can temporarily install them in TL -- that is, the ones that don't
clash with use on other systems (I already replied about some of those
problems that I happened to notice) -- but that creates more work and
more burden for everyone -- you, me, builders, everyone.  So, again:
please report them upstream.

Thanks,
Karl

From angelo.graziosi at alice.it  Tue Jul 12 00:45:37 2016
From: angelo.graziosi at alice.it (Angelo Graziosi)
Date: Tue, 12 Jul 2016 00:45:37 +0200
Subject: [tex-live] 64 bits version of TeX Live on Windows
In-Reply-To: <201607112226.u6BMQggh011888@freefriends.org>
References: <201607112226.u6BMQggh011888@freefriends.org>
Message-ID: <ec4561c1-5ce7-8014-4b3e-9579618dba12@alice.it>



Il 12/07/2016 00:26, Karl Berry ha scritto:
>
> We can temporarily install them in TL -- that is, the ones that don't
> clash with use on other systems (I already replied about some of those
> problems that I happened to notice) -- but that creates more work and
> more burden for everyone -- you, me, builders, everyone.  So, again:
> please report them upstream.

...beside this, we should obtain something working before pinging 
upstream. I wrote to someone of them (lcdf) but no replay, for now..

Ciao,
Angelo.

From P.Taylor at Rhul.Ac.Uk  Tue Jul 12 11:56:05 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 12 Jul 2016 10:56:05 +0100
Subject: [tex-live] Unable to rsynch :
Message-ID: <5784BEB5.3000809@Rhul.Ac.Uk>

E:\TeX\Live\2016\TLnet>rsync -a --delete rsync://ftp.heanet.ie/mirrors/ctan.org/tex/systems/texlive/tlnet/ .

(also rsync -a --delete rsync://mirror.physik-pool.tu-berlin.de/ctan/systems/texlive/tlnet/ .)

rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe" -> "update-tlmgr-r41476.exe" failed: Bad file number (9)
rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512" -> "update-tlmgr-r41476.exe.sha512" failed: Bad file number (
9)
rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512.asc" -> "update-tlmgr-r41476.exe.sha512.asc" failed: Bad file
number (9)
rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh" -> "update-tlmgr-r41476.sh" failed: Bad file number (9)
rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512" -> "update-tlmgr-r41476.sh.sha512" failed: Bad file number (9)

rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512.asc" -> "update-tlmgr-r41476.sh.sha512.asc" failed: Bad file nu
mber (9)
rsync error: received SIGINT, SIGTERM, or SIGHUP (code 20) at /usr/src/rsync/rsync-3.0.8/rsync.c(549) [generator=3.0.8]

E:\TeX\Live\2016\TLnet>rsync error: received SIGUSR1 (code 19) at /usr/src/rsync/rsync-3.0.8/main.c(1298) [receiver=3.0.8]


From P.Taylor at Rhul.Ac.Uk  Tue Jul 12 12:24:51 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 12 Jul 2016 11:24:51 +0100
Subject: [tex-live] TeX Live installer -- an idea for TeX Live 2017
Message-ID: <5784C573.6010607@Rhul.Ac.Uk>

Unable to rsynch, I have fallen back on the tried, tested but slow, http://mirror.ctan.org/systems/texlive/tlnet/install-tl-windows.exe, and as every year, after the initial dialogue has completed, I am told "Installing 12many, installing 2up, installing Asana Maths,  ...".  Now, the probability that the first thing that a user would want to access being "12many" is vanishing small, so could not the installation proceed in a more logical fashion, i.e.:

    <binaries for current platform>
    <support files to enable basic TeX, PdfTeX, XeTeX, ...  use>
    <build basic formats, etc>
    <support files for LaTeX>
    <build LaTeX formats, etc>
    <support files for other formats>
    <build other formats, etc>
    <anything left over>
    <rebuild formats, etc., if necessary>

In that way, a user could start testing TeX Live 2017 (+) within a few minutes of commencing installation, whereas at the moment he or she has to wait until the entire download is complete and all formats (etc) built, which in my case can confidently be predicted to be several hours ...

** Phil.
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160712/44e0c4c8/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160712/44e0c4c8/attachment-0001.jpg>

From preining at logic.at  Tue Jul 12 16:25:34 2016
From: preining at logic.at (Norbert Preining)
Date: Tue, 12 Jul 2016 23:25:34 +0900
Subject: [tex-live] TeX Live installer -- an idea for TeX Live 2017
In-Reply-To: <5784C573.6010607@Rhul.Ac.Uk>
References: <5784C573.6010607@Rhul.Ac.Uk>
Message-ID: <20160712142534.shgxobkjyhnyk4s5@wienerschnitzel>

Hi Phil,

>     <binaries for current platform>
>     <support files to enable basic TeX, PdfTeX, XeTeX, ...  use>
>     <build basic formats, etc>
>     <support files for LaTeX>
[...]

If you could come up with a categorization of all packages in TL
according to your needs, that would be helpful.

> In that way, a user could start testing TeX Live 2017 (+) within a few minutes of commencing installation, whereas at the moment he or she has to wait until the entire download is complete and all formats (etc) built, which in my case can confidently be predicted to be several hours ...

Hmmm, intermediate format building and font map updates are an option,
but rather tricky to implement (please check how we did it on Debian -
your favorite hate distribution I guess ;-).

OTOH, as installations of TL is a once-in-a-year action, I am not sure
whether this complicated adaption really pays off? Feel free to use
TL 2016 while installing TL 2017!

Norbert

------------------------------------------------------------------------
PREINING, Norbert                               http://www.preining.info
JAIST, Japan                                 TeX Live & Debian Developer
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13
------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Tue Jul 12 17:17:04 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 12 Jul 2016 16:17:04 +0100
Subject: [tex-live] Seemingly inexplicable shift in page origin between TL
 2014 and TL 2016
Message-ID: <578509F0.1060000@Rhul.Ac.Uk>

I have just installed TeX Live 2016 for the first time, using the "small" scheme and a couple of additional options, but I find when I try to re-generate /The Oral History of Horsmonden/ that the entire page image has been displaced vertically upwards by about 1 true in.  I append the code that does the necessary computation of dimensions, and wonder whether anyone can identify what has changed between the two releases.

% !TeX Program=XeTeX
% !TeX Root = Oral-History.TeX

\magnification 1000

\special {pdf: docview << /PageLayout /TwoPageRight >>}
\special {pdf: docview << /OpenAction [0 /Fit] >>}

\newdimen \innermargin
\newdimen \outermargin
\newdimen \uppermargin
\newdimen \lowermargin
\newdimen \cropwidth
\newdimen \cropheight
\newdimen \cropmark
\newdimen \cropmitre
\newdimen \Knuthoffset

\innermargin = 0,618 true in
\outermargin = 1,0 true in
\uppermargin = \dimexpr (\innermargin + \outermargin) / 2 \relax
\lowermargin = \uppermargin
\Knuthoffset = 1 in

\def \imagepath {}

\hsize = 176 true mm
\vsize = 250 true mm
\ifcropmarks
    \pdfpagewidth = 210 true mm
    \pdfpageheight = 297 true mm
\else
    \pdfpagewidth = \hsize
    \pdfpageheight = \vsize
\fi
\advance \hsize by -1.618 true in
\advance \vsize by -1.618 true in
\parindent = 0 pt

\advance \hoffset by \dimexpr -0.382 true in / 2 \relax
\advance \voffset by \dimexpr -0.382 true in / 2 \relax

\ifcropmarks
    \advance \hoffset by \dimexpr (210 true mm - 176 true mm) / 2 \relax
    \advance \voffset by \dimexpr (297 true mm - 250 true mm) / 2 \relax
\fi

\ifcropmarks
    \input Cropmarks
    \rvcropmarkstrue
   
    \rectotopcropmark = \dimexpr 1.618 true in / 2 \relax plus 1 cm minus -1 mm
    \rectobottomcropmark = \dimexpr 250 true mm - \rectotopcropmark \relax plus 1 cm minus -1 mm
    \rectoleftcropmark = 0,618 true in plus 1 cm minus -1 mm
    \rectorightcropmark = \dimexpr 176 true mm - \rectoleftcropmark  \relax plus 1 cm minus -1 mm
   
    \versotopcropmark = \rectotopcropmark
    \versobottomcropmark =\rectobottomcropmark
    \versoleftcropmark = 1,0 true in plus 1 cm minus -1 mm
    \versorightcropmark = \dimexpr 176 true mm - \versoleftcropmark  \relax plus 1 cm minus -1 mm
\fi

*\advance \voffset by 1 true in % REQUIRED ONLY F**OR **TL 2016*

-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160712/d1b0f647/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160712/d1b0f647/attachment-0001.jpg>

From reinhard.kotucha at web.de  Tue Jul 12 23:34:47 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 12 Jul 2016 23:34:47 +0200
Subject: [tex-live] TeX Live installer -- an idea for TeX Live 2017
In-Reply-To: <5784C573.6010607@Rhul.Ac.Uk>
References: <5784C573.6010607@Rhul.Ac.Uk>
Message-ID: <22405.25207.474138.677150@zaphod.ms25.net>

On 2016-07-12 at 11:24:51 +0100, Philip Taylor wrote:

 > Unable to rsynch, I have fallen back on the tried, tested but slow,
 > http://mirror.ctan.org/systems/texlive/tlnet/install-tl-windows.exe,
 > and as every year, after the initial dialogue has completed, I am
 > told "Installing 12many, installing 2up, installing Asana Maths,?
 > ...".? Now, the probability that the first thing that a user would
 > want to access being "12many" is vanishing small, so could not the
 > installation proceed in a more logical fashion, i.e.:
 > 
 > ??? <binaries for current platform>
 > ??? <support files to enable basic TeX, PdfTeX, XeTeX, ...? use>
 > ??? <build basic formats, etc>
 > ??? <support files for LaTeX>
 > ??? <build LaTeX formats, etc>
 > ??? <support files for other formats>
 > ??? <build other formats, etc>
 > ??? <anything left over>
 > ??? <rebuild formats, etc., if necessary>
 > 
 > In that way, a user could start testing TeX Live 2017 (+) within a
 > few minutes of commencing installation, whereas at the moment he or
 > she has to wait until the entire download is complete and all
 > formats (etc) built, which in my case can confidently be predicted
 > to be several hours ...

Dear Phil,
Tex Live is modular, hence you don't have to install everything at
once.  Admittedly, it's often not easy to determine in advance which
collections are needed and thus we recommend less experienced users to
install scheme-full unconditionally.

You are certainly experienced enough to customize your installation.
Don't know how much time you can save.  Even if you disable
collections which only contain LaTeX packages, it's quite difficult to
find out which font collections you need.  Such investigations
definitely take more time than a full install.

It seems that your internet connection is much slower than mine.  I
actually don't know how much time I need to install TL from the
internet because I have a local mirror on my Raspberry Pi and I always
install/update from this mirror.

I vaguely remember that you once mentioned that your download rate is
2 Mb/s.  Just cancel the contract.  There is no risk.  Your ISP will
contact you immediately and offer better conditions for the same or a
similar amount of money.  There is no need nowadays to spend several
hours in order to install TeX Live unless you are living in a rural
area where no ISP is willing to provide the necessary infrastructure.
And you can always consult other ISPs.

I intend to change my ISP in the near future too, for the same reason.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From P.Taylor at Rhul.Ac.Uk  Tue Jul 12 23:43:27 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 12 Jul 2016 22:43:27 +0100
Subject: [tex-live] TeX Live installer -- an idea for TeX Live 2017
In-Reply-To: <22405.25207.474138.677150@zaphod.ms25.net>
References: <5784C573.6010607@Rhul.Ac.Uk>
 <22405.25207.474138.677150@zaphod.ms25.net>
Message-ID: <5785647F.4050003@Rhul.Ac.Uk>


Reinhard Kotucha wrote:
> (long snip -- I am installing Scheme-full overnight)
>
> I vaguely remember that you once mentioned that your download rate is
> 2 Mb/s.  Just cancel the contract.  There is no risk.  Your ISP will
> contact you immediately and offer better conditions for the same or a
> similar amount of money.  There is no need nowadays to spend several
> hours in order to install TeX Live unless you are living in a rural
> area ...
and that is the point at which I must interrupt.  I /do/ live in a rural area; I have a faster connection than most of my neighbours, but I can still only get between 2 and 3 (currently 2.7) Mbps.
> where no ISP is willing to provide the necessary infrastructure.
It is not that they are unwilling; it is that they cannot.  We do not have LLU at Hunton Exchange -- it serves only 300 subscribers.  We do have SLLU, with a single supplier, but they will not offer a fixed IP (on which I depend) unless I take out a business contract, which (a) immediately imposes a (ridiculously low) monthly download limit, and (b) costs the earth.  So I stick with ADSL2+, totally unlimited downloads, and a half-decent 917Kbps upload speed.
> And you can always consult other ISPs.
Who can also offer me only ADSL2+.
** Phil.

From P.Taylor at Rhul.Ac.Uk  Wed Jul 13 11:15:55 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jul 2016 10:15:55 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
References: <578222E6.7030503@Rhul.Ac.Uk>
 <1987850598.1438827.1468148233734.JavaMail.yahoo@mail.yahoo.com>
 <578234E4.1090604@Rhul.Ac.Uk>
 <CAC1phyZMA2FSuDsTQqLpx+YPB0jQYGmfEN+88FC6uSge_CqmKA@mail.gmail.com>
 <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
Message-ID: <578606CB.30009@Rhul.Ac.Uk>

Hallo Zden?k --
> It is strange, you should complain for poor connection. My ADSL speed
> is nominally 8 Mbps. Since the line is overloaded, the real speed is
> usually 6 Mbps. Installation of scheme full from the neares mirror
> takes about one hour. You wrote your speed is 2.7 Mbps, so it should
> complete withint two or three hours. The problem may be cause by loss
> of too many packets due to some noise. So you probably pay for very
> low quality and the provider should fix it. Many companies provide
> free service for measurement the real speed, you just connect to a web
> page of such a company and it measures the speed of download and
> upload and stability. If it is too different from what you pay, you
> should complain.
In fact, run against (e.g., the HTML 5 speed tester), I get quite good download speed normally, but TeX Live installation always takes forever.  I know from past experience that Rsynch is much faster, but that no longer works for TeX Live 2016 (reported a couple of days ago), so I have little option but to sit it out ...

Repost of Rsynch problem, in case anyone can shed light on it :

> E:\TeX\Live\2016\TLnet>rsync -a --delete rsync://ftp.heanet.ie/mirrors/ctan.org/tex/systems/texlive/tlnet/ .
>
> (also rsync -a --delete rsync://mirror.physik-pool.tu-berlin.de/ctan/systems/texlive/tlnet/ .)
>
> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe" -> "update-tlmgr-r41476.exe" failed: Bad file number (9)
> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512" -> "update-tlmgr-r41476.exe.sha512" failed: Bad file number (
> 9)
> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512.asc" -> "update-tlmgr-r41476.exe.sha512.asc" failed: Bad file
> number (9)
> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh" -> "update-tlmgr-r41476.sh" failed: Bad file number (9)
> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512" -> "update-tlmgr-r41476.sh.sha512" failed: Bad file number (9)
>
> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512.asc" -> "update-tlmgr-r41476.sh.sha512.asc" failed: Bad file nu
> mber (9)
> rsync error: received SIGINT, SIGTERM, or SIGHUP (code 20) at /usr/src/rsync/rsync-3.0.8/rsync.c(549) [generator=3.0.8]
>
> E:\TeX\Live\2016\TLnet>rsync error: received SIGUSR1 (code 19) at /usr/src/rsync/rsync-3.0.8/main.c(1298) [receiver=3.0.8]
>
** Phil.
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/52303aba/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/52303aba/attachment-0001.jpg>

From d.p.carlisle at gmail.com  Wed Jul 13 11:32:49 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 13 Jul 2016 10:32:49 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <578606CB.30009@Rhul.Ac.Uk>
References: <578222E6.7030503@Rhul.Ac.Uk>
 <1987850598.1438827.1468148233734.JavaMail.yahoo@mail.yahoo.com>
 <578234E4.1090604@Rhul.Ac.Uk>
 <CAC1phyZMA2FSuDsTQqLpx+YPB0jQYGmfEN+88FC6uSge_CqmKA@mail.gmail.com>
 <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk>
Message-ID: <CAEW6iOjt54XUK+90HeF3gnrM73L7kr+G7ohzOWKuzrULGjfUHA@mail.gmail.com>

Phil,
Isn't that why the user groups still ship DVDs, for people on slow
connections?
I got my UKTUG one yesterday, I assume you did too?

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/35d69794/attachment.html>

From zdenek.wagner at gmail.com  Wed Jul 13 11:40:15 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 13 Jul 2016 11:40:15 +0200
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
	=?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <CAEW6iOjt54XUK+90HeF3gnrM73L7kr+G7ohzOWKuzrULGjfUHA@mail.gmail.com>
References: <578222E6.7030503@Rhul.Ac.Uk>
 <1987850598.1438827.1468148233734.JavaMail.yahoo@mail.yahoo.com>
 <578234E4.1090604@Rhul.Ac.Uk>
 <CAC1phyZMA2FSuDsTQqLpx+YPB0jQYGmfEN+88FC6uSge_CqmKA@mail.gmail.com>
 <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk>
 <CAEW6iOjt54XUK+90HeF3gnrM73L7kr+G7ohzOWKuzrULGjfUHA@mail.gmail.com>
Message-ID: <CAC1phyabJb61G3LG_fGBHmTCLP5GYsgWdug90W5W-BPd_M3EyQ@mail.gmail.com>

Yes, rsync is faster. It also depends whether the installer succeeds
in usage of pipelining, if not, each package is downloaded
individually by wget which means that TCP stream is opened for each
file, the files is downloaded and the TCP stream is closed. If
pipelining does not work for any reason, opening and closing may take
more time that downloading a small file. Many years ago when my
connection was slow, I used to install from a DVD and then changed the
repository location and updated via the net.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-07-13 11:32 GMT+02:00 David Carlisle <d.p.carlisle at gmail.com>:
>
> Phil,
> Isn't that why the user groups still ship DVDs, for people on slow
> connections?
> I got my UKTUG one yesterday, I assume you did too?
>
> David
>


From preining at logic.at  Wed Jul 13 12:37:20 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 13 Jul 2016 19:37:20 +0900
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <578606CB.30009@Rhul.Ac.Uk>
References: <578222E6.7030503@Rhul.Ac.Uk> <578234E4.1090604@Rhul.Ac.Uk>
 <CAC1phyZMA2FSuDsTQqLpx+YPB0jQYGmfEN+88FC6uSge_CqmKA@mail.gmail.com>
 <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk>
Message-ID: <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>

Hi Phil,

Your problem with rsync are three symlinks, which don't work on your filesystem it seems. Try to pass the option of copying symlinks as files (no man page at hand to give you the correct one)

Norbert

On July 13, 2016 6:15:55 PM GMT+09:00, Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:
>Hallo Zden?k --
>> It is strange, you should complain for poor connection. My ADSL speed
>> is nominally 8 Mbps. Since the line is overloaded, the real speed is
>> usually 6 Mbps. Installation of scheme full from the neares mirror
>> takes about one hour. You wrote your speed is 2.7 Mbps, so it should
>> complete withint two or three hours. The problem may be cause by loss
>> of too many packets due to some noise. So you probably pay for very
>> low quality and the provider should fix it. Many companies provide
>> free service for measurement the real speed, you just connect to a
>web
>> page of such a company and it measures the speed of download and
>> upload and stability. If it is too different from what you pay, you
>> should complain.
>In fact, run against (e.g., the HTML 5 speed tester), I get quite good
>download speed normally, but TeX Live installation always takes
>forever.  I know from past experience that Rsynch is much faster, but
>that no longer works for TeX Live 2016 (reported a couple of days ago),
>so I have little option but to sit it out ...
>
>Repost of Rsynch problem, in case anyone can shed light on it :
>
>> E:\TeX\Live\2016\TLnet>rsync -a --delete
>rsync://ftp.heanet.ie/mirrors/ctan.org/tex/systems/texlive/tlnet/ .
>>
>> (also rsync -a --delete
>rsync://mirror.physik-pool.tu-berlin.de/ctan/systems/texlive/tlnet/ .)
>>
>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe" ->
>"update-tlmgr-r41476.exe" failed: Bad file number (9)
>> rsync: symlink
>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512" ->
>"update-tlmgr-r41476.exe.sha512" failed: Bad file number (
>> 9)
>> rsync: symlink
>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512.asc" ->
>"update-tlmgr-r41476.exe.sha512.asc" failed: Bad file
>> number (9)
>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh" ->
>"update-tlmgr-r41476.sh" failed: Bad file number (9)
>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512"
>-> "update-tlmgr-r41476.sh.sha512" failed: Bad file number (9)
>>
>> rsync: symlink
>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512.asc" ->
>"update-tlmgr-r41476.sh.sha512.asc" failed: Bad file nu
>> mber (9)
>> rsync error: received SIGINT, SIGTERM, or SIGHUP (code 20) at
>/usr/src/rsync/rsync-3.0.8/rsync.c(549) [generator=3.0.8]
>>
>> E:\TeX\Live\2016\TLnet>rsync error: received SIGUSR1 (code 19) at
>/usr/src/rsync/rsync-3.0.8/main.c(1298) [receiver=3.0.8]
>>
>** Phil.
>-- 
>
>Philip Taylor

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From blflatex at gmail.com  Wed Jul 13 12:40:25 2016
From: blflatex at gmail.com (Bruno Le Floch)
Date: Wed, 13 Jul 2016 12:40:25 +0200
Subject: [tex-live] [XeTeX] Seemingly inexplicable shift in page origin
 between TL 2014 and TL 2016
In-Reply-To: <578509F0.1060000@Rhul.Ac.Uk>
References: <578509F0.1060000@Rhul.Ac.Uk>
Message-ID: <CANQYN6wWPh6Aw7Tbtfb=7-OuUc3sXCUr53XrD1uz0Af=waAZmA@mail.gmail.com>

On 7/12/16, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:
> I have just installed TeX Live 2016 for the first time, using the "small"
> scheme and a couple of additional options, but I find when I try to
> re-generate /The Oral History of Horsmonden/ that the entire page image has
> been displaced vertically upwards by about 1 true in.  I append the code
> that does the necessary computation of dimensions, and wonder whether anyone
> can identify what has changed between the two releases.
>
> % !TeX Program=XeTeX
> % !TeX Root = Oral-History.TeX
>
> \magnification 1000
>
> \special {pdf: docview << /PageLayout /TwoPageRight >>}
> \special {pdf: docview << /OpenAction [0 /Fit] >>}
>
> \newdimen \innermargin
> \newdimen \outermargin
> \newdimen \uppermargin
> \newdimen \lowermargin
> \newdimen \cropwidth
> \newdimen \cropheight
> \newdimen \cropmark
> \newdimen \cropmitre
> \newdimen \Knuthoffset
>
> \innermargin = 0,618 true in
> \outermargin = 1,0 true in
> \uppermargin = \dimexpr (\innermargin + \outermargin) / 2 \relax
> \lowermargin = \uppermargin
> \Knuthoffset = 1 in
>
> \def \imagepath {}
>
> \hsize = 176 true mm
> \vsize = 250 true mm
> \ifcropmarks
>     \pdfpagewidth = 210 true mm
>     \pdfpageheight = 297 true mm
> \else
>     \pdfpagewidth = \hsize
>     \pdfpageheight = \vsize
> \fi
> \advance \hsize by -1.618 true in
> \advance \vsize by -1.618 true in
> \parindent = 0 pt
>
> \advance \hoffset by \dimexpr -0.382 true in / 2 \relax
> \advance \voffset by \dimexpr -0.382 true in / 2 \relax
>
> \ifcropmarks
>     \advance \hoffset by \dimexpr (210 true mm - 176 true mm) / 2 \relax
>     \advance \voffset by \dimexpr (297 true mm - 250 true mm) / 2 \relax
> \fi
>
> \ifcropmarks
>     \input Cropmarks
>     \rvcropmarkstrue
>
>     \rectotopcropmark = \dimexpr 1.618 true in / 2 \relax plus 1 cm minus -1
> mm
>     \rectobottomcropmark = \dimexpr 250 true mm - \rectotopcropmark \relax
> plus 1 cm minus -1 mm
>     \rectoleftcropmark = 0,618 true in plus 1 cm minus -1 mm
>     \rectorightcropmark = \dimexpr 176 true mm - \rectoleftcropmark  \relax
> plus 1 cm minus -1 mm
>
>     \versotopcropmark = \rectotopcropmark
>     \versobottomcropmark =\rectobottomcropmark
>     \versoleftcropmark = 1,0 true in plus 1 cm minus -1 mm
>     \versorightcropmark = \dimexpr 176 true mm - \versoleftcropmark  \relax
> plus 1 cm minus -1 mm
> \fi
>
> *\advance \voffset by 1 true in % REQUIRED ONLY F**OR **TL 2016*
>
> --
>
> Philip Taylor
>

! Undefined control sequence.
l.29 \ifcropmarks

?

From zdenek.wagner at gmail.com  Wed Jul 13 12:46:53 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 13 Jul 2016 12:46:53 +0200
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
	=?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
References: <578222E6.7030503@Rhul.Ac.Uk> <578234E4.1090604@Rhul.Ac.Uk>
 <CAC1phyZMA2FSuDsTQqLpx+YPB0jQYGmfEN+88FC6uSge_CqmKA@mail.gmail.com>
 <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
Message-ID: <CAC1phyZ_7=JBJeeuUJKrXUeV_bDGgEqYJiW6=+q1w6w8r-=5YA@mail.gmail.com>

I am at the linux computer, this is from the man page:

      -L, --copy-links
              When symlinks are encountered, the item that they point
to (the referent) is copied, rather than the symlink.  In older
versions of rsync, this  option
              also had the side-effect of telling the receiving side
to follow symlinks, such as symlinks to directories.  In a modern
rsync such as this one, you?ll
              need to specify --keep-dirlinks (-K) to get this extra
behavior.  The only exception is when sending files to an rsync that
is too old to understand -K
              -- in that case, the -L option will still have the
side-effect of -K on that older receiving rsync.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-07-13 12:37 GMT+02:00 Norbert Preining <preining at logic.at>:
> Hi Phil,
>
> Your problem with rsync are three symlinks, which don't work on your filesystem it seems. Try to pass the option of copying symlinks as files (no man page at hand to give you the correct one)
>
> Norbert
>
> On July 13, 2016 6:15:55 PM GMT+09:00, Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:
>>Hallo Zden?k --
>>> It is strange, you should complain for poor connection. My ADSL speed
>>> is nominally 8 Mbps. Since the line is overloaded, the real speed is
>>> usually 6 Mbps. Installation of scheme full from the neares mirror
>>> takes about one hour. You wrote your speed is 2.7 Mbps, so it should
>>> complete withint two or three hours. The problem may be cause by loss
>>> of too many packets due to some noise. So you probably pay for very
>>> low quality and the provider should fix it. Many companies provide
>>> free service for measurement the real speed, you just connect to a
>>web
>>> page of such a company and it measures the speed of download and
>>> upload and stability. If it is too different from what you pay, you
>>> should complain.
>>In fact, run against (e.g., the HTML 5 speed tester), I get quite good
>>download speed normally, but TeX Live installation always takes
>>forever.  I know from past experience that Rsynch is much faster, but
>>that no longer works for TeX Live 2016 (reported a couple of days ago),
>>so I have little option but to sit it out ...
>>
>>Repost of Rsynch problem, in case anyone can shed light on it :
>>
>>> E:\TeX\Live\2016\TLnet>rsync -a --delete
>>rsync://ftp.heanet.ie/mirrors/ctan.org/tex/systems/texlive/tlnet/ .
>>>
>>> (also rsync -a --delete
>>rsync://mirror.physik-pool.tu-berlin.de/ctan/systems/texlive/tlnet/ .)
>>>
>>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe" ->
>>"update-tlmgr-r41476.exe" failed: Bad file number (9)
>>> rsync: symlink
>>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512" ->
>>"update-tlmgr-r41476.exe.sha512" failed: Bad file number (
>>> 9)
>>> rsync: symlink
>>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512.asc" ->
>>"update-tlmgr-r41476.exe.sha512.asc" failed: Bad file
>>> number (9)
>>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh" ->
>>"update-tlmgr-r41476.sh" failed: Bad file number (9)
>>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512"
>>-> "update-tlmgr-r41476.sh.sha512" failed: Bad file number (9)
>>>
>>> rsync: symlink
>>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512.asc" ->
>>"update-tlmgr-r41476.sh.sha512.asc" failed: Bad file nu
>>> mber (9)
>>> rsync error: received SIGINT, SIGTERM, or SIGHUP (code 20) at
>>/usr/src/rsync/rsync-3.0.8/rsync.c(549) [generator=3.0.8]
>>>
>>> E:\TeX\Live\2016\TLnet>rsync error: received SIGUSR1 (code 19) at
>>/usr/src/rsync/rsync-3.0.8/main.c(1298) [receiver=3.0.8]
>>>
>>** Phil.
>>--
>>
>>Philip Taylor
>
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From daleif at math.au.dk  Wed Jul 13 12:55:00 2016
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 13 Jul 2016 10:55:00 +0000
Subject: [tex-live] 
 =?gb2312?b?W1hlVGVYXSCmsqbWpsWm0zogUGxhaW4gWGVUZVgs?=
 =?gb2312?b?IHBkZnRpdGxlLCBwZGZpbmZv?=
In-Reply-To: <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
References: <578222E6.7030503@Rhul.Ac.Uk> <578234E4.1090604@Rhul.Ac.Uk>
 <CAC1phyZMA2FSuDsTQqLpx+YPB0jQYGmfEN+88FC6uSge_CqmKA@mail.gmail.com>
 <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk>,<176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
Message-ID: <1468407320833.29934@math.au.dk>

This one?

        -L, --copy-links            transform symlink into referent file/dir



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math / More information: http://au.dk/en/daleif at math


________________________________________
From: tex-live <tex-live-bounces at tug.org> on behalf of Norbert Preining <preining at logic.at>
Sent: 13 July 2016 12:37
To: Philip Taylor; TeXLive Mailing List
Subject: Re: [tex-live] [XeTeX] ????: Plain XeTeX, pdftitle, pdfinfo

Hi Phil,

Your problem with rsync are three symlinks, which don't work on your filesystem it seems. Try to pass the option of copying symlinks as files (no man page at hand to give you the correct one)

Norbert

On July 13, 2016 6:15:55 PM GMT+09:00, Philip Taylor <P.Taylor at Rhul.Ac.Uk> wrote:
>Hallo Zden?k --
>> It is strange, you should complain for poor connection. My ADSL speed
>> is nominally 8 Mbps. Since the line is overloaded, the real speed is
>> usually 6 Mbps. Installation of scheme full from the neares mirror
>> takes about one hour. You wrote your speed is 2.7 Mbps, so it should
>> complete withint two or three hours. The problem may be cause by loss
>> of too many packets due to some noise. So you probably pay for very
>> low quality and the provider should fix it. Many companies provide
>> free service for measurement the real speed, you just connect to a
>web
>> page of such a company and it measures the speed of download and
>> upload and stability. If it is too different from what you pay, you
>> should complain.
>In fact, run against (e.g., the HTML 5 speed tester), I get quite good
>download speed normally, but TeX Live installation always takes
>forever.  I know from past experience that Rsynch is much faster, but
>that no longer works for TeX Live 2016 (reported a couple of days ago),
>so I have little option but to sit it out ...
>
>Repost of Rsynch problem, in case anyone can shed light on it :
>
>> E:\TeX\Live\2016\TLnet>rsync -a --delete
>rsync://ftp.heanet.ie/mirrors/ctan.org/tex/systems/texlive/tlnet/ .
>>
>> (also rsync -a --delete
>rsync://mirror.physik-pool.tu-berlin.de/ctan/systems/texlive/tlnet/ .)
>>
>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe" ->
>"update-tlmgr-r41476.exe" failed: Bad file number (9)
>> rsync: symlink
>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512" ->
>"update-tlmgr-r41476.exe.sha512" failed: Bad file number (
>> 9)
>> rsync: symlink
>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.exe.sha512.asc" ->
>"update-tlmgr-r41476.exe.sha512.asc" failed: Bad file
>> number (9)
>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh" ->
>"update-tlmgr-r41476.sh" failed: Bad file number (9)
>> rsync: symlink "/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512"
>-> "update-tlmgr-r41476.sh.sha512" failed: Bad file number (9)
>>
>> rsync: symlink
>"/e/TeX/Live/2016/TLnet/update-tlmgr-latest.sh.sha512.asc" ->
>"update-tlmgr-r41476.sh.sha512.asc" failed: Bad file nu
>> mber (9)
>> rsync error: received SIGINT, SIGTERM, or SIGHUP (code 20) at
>/usr/src/rsync/rsync-3.0.8/rsync.c(549) [generator=3.0.8]
>>
>> E:\TeX\Live\2016\TLnet>rsync error: received SIGUSR1 (code 19) at
>/usr/src/rsync/rsync-3.0.8/main.c(1298) [receiver=3.0.8]
>>
>** Phil.
>--
>
>Philip Taylor

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From P.Taylor at Rhul.Ac.Uk  Wed Jul 13 13:55:15 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jul 2016 12:55:15 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <1468407320833.29934@math.au.dk>
References: <578222E6.7030503@Rhul.Ac.Uk> <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk>
Message-ID: <57862C23.4070204@Rhul.Ac.Uk>

Thank you both.  The normal installation method has finally completed, so I won't need Rsynch this year, but I will test the -L parameter and if it is successful, perhaps Karl to add it to the Rsynch recipe on the TUG/TeX Live web site.

** Phil.
--------
Lars Madsen wrote:
> This one?
>
>         -L, --copy-links            transform symlink into referent file/dir
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/8d5c045a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/8d5c045a/attachment-0001.jpg>

From daleif at math.au.dk  Wed Jul 13 14:02:20 2016
From: daleif at math.au.dk (Lars Madsen)
Date: Wed, 13 Jul 2016 12:02:20 +0000
Subject: [tex-live] =?iso8859-7?b?W1hlVGVYXSDT9+X0OiBQbGFpbiBYZVRlWCwg?=
 =?iso8859-7?q?pdftitle=2C_pdfinfo?=
In-Reply-To: <57862C23.4070204@Rhul.Ac.Uk>
References: <578222E6.7030503@Rhul.Ac.Uk> <57823F7E.3000501@Rhul.Ac.Uk>
 <7ab5463b-0d0b-07b9-cb35-1c1dbd97f418@gmail.com>
 <57826BDD.6020705@Rhul.Ac.Uk> <5782759D.8010506@Rhul.Ac.Uk>
 <57827B7B.1010408@Rhul.Ac.Uk> <5782889D.3070907@Rhul.Ac.Uk>
 <398101B6-03E1-43C9-A9A5-1AFBD5D56428@mq.edu.au>
 <5783D430.7090101@Rhul.Ac.Uk>
 <87350ACF-0109-47DD-B0E7-86F2D25F6D74@mq.edu.au>
 <578415E8.3050301@Rhul.Ac.Uk>
 <A2B0A12F-30D1-460F-8217-A1D91DCDA182@mq.edu.au>
 <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk>,<57862C23.4070204@Rhul.Ac.Uk>
Message-ID: <1468411361057.73937@math.au.dk>

It might be useful during the year as well.


Remember, it is only slow the first time ;-)


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: Philip Taylor <P.Taylor at Rhul.Ac.Uk>
Sent: 13 July 2016 13:55
To: Lars Madsen; Norbert Preining; TeXLive Mailing List
Subject: Re: [tex-live] [XeTeX] ????: Plain XeTeX, pdftitle, pdfinfo

Thank you both.  The normal installation method has finally completed, so I won't need Rsynch this year, but I will test the -L parameter and if it is successful, perhaps Karl to add it to the Rsynch recipe on the TUG/TeX Live web site.

** Phil.
--------
Lars Madsen wrote:

This one?

        -L, --copy-links            transform symlink into referent file/dir


--
[cid:part1.04080509.07050508 at Rhul.Ac.Uk]
Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/6e003b90/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: Signature.jpg
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/6e003b90/attachment.jpg>

From P.Taylor at Rhul.Ac.Uk  Wed Jul 13 14:01:59 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jul 2016 13:01:59 +0100
Subject: [tex-live] [XeTeX] Seemingly inexplicable shift in page origin
 between TL 2014 and TL 2016
In-Reply-To: <CANQYN6wWPh6Aw7Tbtfb=7-OuUc3sXCUr53XrD1uz0Af=waAZmA@mail.gmail.com>
References: <578509F0.1060000@Rhul.Ac.Uk>
 <CANQYN6wWPh6Aw7Tbtfb=7-OuUc3sXCUr53XrD1uz0Af=waAZmA@mail.gmail.com>
Message-ID: <57862DB7.8050605@Rhul.Ac.Uk>



Bruno Le Floch wrote:
> ! Undefined control sequence. l.29 \ifcropmarks ? 
Ah, yes, sorry about that Bruno.  I thought I had stripped out all external dependencies, but clearly I had not.  The "cropmarks.tex" is my own, written over 20 years ago for Kaveh and/or Dominik -- somewhere on CTAN, but I no longer remember where.  Anyhow, I have (sort of) tracked down the issue -- two things are affecting the displacements (both vertical /and/ horizontal, as it turned out) :

1) The PDF/X-1A specials;
2) The \usepackage {color} within an Eplain \beginpackages ... \endpackages sequence.

More research needed on my part to identify the exact cause in both cases.
** Phil.
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/f69a4952/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/f69a4952/attachment-0001.jpg>

From preining at logic.at  Wed Jul 13 14:53:52 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 13 Jul 2016 21:53:52 +0900
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <57862C23.4070204@Rhul.Ac.Uk>
References: <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
Message-ID: <20160713125352.GF10707@logic.at>

On Wed, 13 Jul 2016, Philip Taylor wrote:
> Thank you both.  The normal installation method has finally completed, so I won't need Rsynch this year, but I will test the -L parameter and if it is successful, perhaps Karl to add it to the Rsynch recipe on the TUG/TeX Live web site.

Don't forget that
	-a
has a very strong meaning, so that 
	-a -L 
in combination probably does not work ...

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Wed Jul 13 15:14:06 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jul 2016 14:14:06 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <20160713125352.GF10707@logic.at>
References: <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at>
Message-ID: <57863E9E.1030308@Rhul.Ac.Uk>



Norbert Preining wrote:
> Don't forget that -a has a very strong meaning, so that -a -L in combination probably does not work ...
So what would you recommend, Norbert ?
** Phil.
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/2d4eec76/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/2d4eec76/attachment-0001.jpg>

From preining at logic.at  Wed Jul 13 15:35:45 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 13 Jul 2016 22:35:45 +0900
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <57863E9E.1030308@Rhul.Ac.Uk>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
Message-ID: <20160713133545.GG10707@logic.at>

> So what would you recommend, Norbert ?

Do we really need to hand-feed you? What about reading the manual
of rsync. THere it is clearly stated that
	-a equals -rlptgoD
where
	-r	recursive
	-l	copy symlinks as symlinks
	-p	preserve permissions
	-t 	preserve modification times
	-g	preserve group
	-o	preserve owner (super-user only)
	-D	same as --devices --specials
	--devices preserve device files (super-user only)
	--specials preserve special files
What makes sense on Windows is - as far as I know, but I really
give not much for testing it - 
	-r
only,

So a simple
	rsync -rL ...
should get you going. You could add -t, if you want.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Wed Jul 13 16:14:47 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jul 2016 15:14:47 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <20160713133545.GG10707@logic.at>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
 <20160713133545.GG10707@logic.at>
Message-ID: <57864CD7.6060100@Rhul.Ac.Uk>



Norbert Preining wrote:
>> So what would you recommend, Norbert ?
> Do we really need to hand-feed you? 
I have never felt it inappropriate to ask someone with more experience for their advice.  Rsynch, like all Unix utilities is a complete unknown to me, so when told that

> Don't forget that
> 	-a
> has a very strong meaning, so that 
> 	-a -L 
> in combination probably does not work ...
I cannot see how it can be wrong to ask the person who wrote that (and who clearly understands Rsynch far far better than I ever will) what he would recommend.  This is not asking to be spoon-fed; it is asking for advice.  "I don't know" is (sadly) one of the most under-used phrases in the English language.

> What about reading the manual
> of rsync. THere it is clearly stated that
> 	-a equals -rlptgoD
> where
> 	-r	recursive
> 	-l	copy symlinks as symlinks
> 	-p	preserve permissions
> 	-t 	preserve modification times
> 	-g	preserve group
> 	-o	preserve owner (super-user only)
> 	-D	same as --devices --specials
> 	--devices preserve device files (super-user only)
> 	--specials preserve special files
> What makes sense on Windows is - as far as I know, but I really
> give not much for testing it - 
> 	-r
> only,
>
> So a simple
> 	rsync -rL ...
> should get you going. You could add -t, if you want.
>
> Norbert
Thank you Norbert; I genuinely appreciated your help.
** Phil.
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/f937e6b3/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/f937e6b3/attachment-0001.jpg>

From preining at logic.at  Wed Jul 13 16:20:48 2016
From: preining at logic.at (Norbert Preining)
Date: Wed, 13 Jul 2016 23:20:48 +0900
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <57864CD7.6060100@Rhul.Ac.Uk>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
 <20160713133545.GG10707@logic.at> <57864CD7.6060100@Rhul.Ac.Uk>
Message-ID: <8D32F273-7940-4C64-BF95-84006955F07E@logic.at>

Phil

The whole point of my comment was that I, too, had to look up the meaning of -a, this is something that you could have done, too.

I'm happy to answer questions that are not easy to answer without deeper insight, like what happens when tlmgr does this or that.

But looking up the meaning of command line arguments is trivial.

And excusing oneself with "don't know" I don't count as valid. I didn't know either, but I looked it up.

This is what I call spoon feeding.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Wed Jul 13 16:54:35 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 13 Jul 2016 16:54:35 +0200
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
	=?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <8D32F273-7940-4C64-BF95-84006955F07E@logic.at>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
 <20160713133545.GG10707@logic.at> <57864CD7.6060100@Rhul.Ac.Uk>
 <8D32F273-7940-4C64-BF95-84006955F07E@logic.at>
Message-ID: <CAC1phyb0ryADqtKhdANe-4W86qdBg67y3gFN4DBLZUojZw4svg@mail.gmail.com>

One of many man pages on the net, just ask Google:
http://linux.die.net/man/1/rsync
Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-07-13 16:20 GMT+02:00 Norbert Preining <preining at logic.at>:
> Phil
>
> The whole point of my comment was that I, too, had to look up the meaning of -a, this is something that you could have done, too.
>
> I'm happy to answer questions that are not easy to answer without deeper insight, like what happens when tlmgr does this or that.
>
> But looking up the meaning of command line arguments is trivial.
>
> And excusing oneself with "don't know" I don't count as valid. I didn't know either, but I looked it up.
>
> This is what I call spoon feeding.
>
> Norbert
>
> --
> PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From P.Taylor at Rhul.Ac.Uk  Wed Jul 13 16:59:34 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jul 2016 15:59:34 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <8D32F273-7940-4C64-BF95-84006955F07E@logic.at>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
 <20160713133545.GG10707@logic.at> <57864CD7.6060100@Rhul.Ac.Uk>
 <8D32F273-7940-4C64-BF95-84006955F07E@logic.at>
Message-ID: <57865756.8040701@Rhul.Ac.Uk>

> But looking up the meaning of command line arguments is trivial.
Norbert, you have been very helpful, and the last thing I wish to do is appear ungrateful, but for you, knowing which of "rlptgoD" are important and which can be safely dropped, is second nature; being basically a Unix command being used in a Windows context, I was totally unclear which mattered and which did not, and I sought advice from someone who I was confident would know the answer.

Anyhow, I have said "thank you", and I meant it.
** Phil.

From preining at logic.at  Wed Jul 13 17:23:58 2016
From: preining at logic.at (Norbert Preining)
Date: Thu, 14 Jul 2016 00:23:58 +0900
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <57865756.8040701@Rhul.Ac.Uk>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
 <20160713133545.GG10707@logic.at> <57864CD7.6060100@Rhul.Ac.Uk>
 <8D32F273-7940-4C64-BF95-84006955F07E@logic.at> <57865756.8040701@Rhul.Ac.Uk>
Message-ID: <5931E9E1-3DF4-43A1-8745-BA485BCE757F@logic.at>




>Anyhow, I have said "thank you", and I meant it.

You're welcome.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From arthur.reutenauer at normalesup.org  Wed Jul 13 17:33:40 2016
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Wed, 13 Jul 2016 16:33:40 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <CAEW6iOjt54XUK+90HeF3gnrM73L7kr+G7ohzOWKuzrULGjfUHA@mail.gmail.com>
References: <57852453.6050100@Rhul.Ac.Uk>
 <22867B77-ED43-4585-8CE4-7C61B4964F6E@uoregon.edu>
 <578527CD.3070207@Rhul.Ac.Uk>
 <CAP7DCDekaW1TN6xO09rhepa-6_exjiSVRZ=JTzWuCoYPd=PG3Q@mail.gmail.com>
 <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk>
 <CAEW6iOjt54XUK+90HeF3gnrM73L7kr+G7ohzOWKuzrULGjfUHA@mail.gmail.com>
Message-ID: <20160713153340.GM183818@phare.normalesup.org>

> I got my UKTUG one yesterday, I assume you did too?

  I got mine in London yesterday too, thanks Joseph!

	Best,

		Arthur

From arthur.reutenauer at normalesup.org  Wed Jul 13 17:51:07 2016
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Wed, 13 Jul 2016 16:51:07 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <57863E9E.1030308@Rhul.Ac.Uk>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
Message-ID: <20160713155107.GN183818@phare.normalesup.org>

> So what would you recommend, Norbert ?

  Norbert?s suggestion of -rL is sensible, and I think that -aL would
work as well because the trailing L (tranform symlink into referent
file/dir) would override the earlier implied l (copy symlinks as
symlinks).  In fact, that?s what I do when I need to dereference
symlinks, I add it at the end of my usual command-line arguments; to be
precise, that?s -av --progress [-L].

	Best,

		Arthur

From P.Taylor at Rhul.Ac.Uk  Wed Jul 13 21:03:35 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jul 2016 20:03:35 +0100
Subject: [tex-live] =?utf-8?b?W1hlVGVYXSDOo8+HzrXPhDogUGxhaW4gWGVUZVgs?=
 =?utf-8?q?_pdftitle=2C_pdfinfo?=
In-Reply-To: <20160713155107.GN183818@phare.normalesup.org>
References: <CAC1phyYMGmaORrAMjqjei5k2cttPgZYBSYfKno3EkRqhMjrTtg@mail.gmail.com>
 <57856564.5000502@Rhul.Ac.Uk> <5785F287.5090701@Rhul.Ac.Uk>
 <CAC1phyY0FQ-841irpyAOhKSX=GfL4GzZcrgE_XW-CMwXQSdOVQ@mail.gmail.com>
 <578606CB.30009@Rhul.Ac.Uk> <176C7EF2-1FA9-4DB4-A971-6A1ED06594CC@logic.at>
 <1468407320833.29934@math.au.dk> <57862C23.4070204@Rhul.Ac.Uk>
 <20160713125352.GF10707@logic.at> <57863E9E.1030308@Rhul.Ac.Uk>
 <20160713155107.GN183818@phare.normalesup.org>
Message-ID: <57869087.90905@Rhul.Ac.Uk>



Arthur Reutenauer wrote:
> Norbert?s suggestion of -rL is sensible, and I think that -aL would
> work as well because the trailing L (tranform symlink into referent
> file/dir) would override the earlier implied l (copy symlinks as
> symlinks).  In fact, that?s what I do when I need to dereference
> symlinks, I add it at the end of my usual command-line arguments; to be
> precise, that?s -av --progress [-L].

Right, I am trying that now.  Sadly I forgot to add --progress, so I have no idea what it is doing, or how fast (or how slowly) it is doing it, but files are definitely appearing in E:\TeX\Live\2016\tlnet

My thanks to you both.
** Phil.
-- 

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/06bc1d3c/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Signature.jpg
Type: image/jpeg
Size: 12104 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160713/06bc1d3c/attachment-0001.jpg>

From list1 at michaelshell.org  Thu Jul 14 02:04:25 2016
From: list1 at michaelshell.org (Michael Shell)
Date: Wed, 13 Jul 2016 20:04:25 -0400
Subject: [tex-live] Request special IEEE Computer Society paper size for
 dvips' config.ps
Message-ID: <20160713200425.05402e34220bc775e1d67c1a@michaelshell.org>



The IEEE Computer Society journals use a special paper size of
7.875in x 10.75in (basically a trimmed US letter):

https://www.computer.org/web/tse/author

and I have a class option to invoke it in my IEEEtran class.

As it is today, IEEE authors wishing to use this paper size under dvips
have to add an entry "ieeecs" to their dvips config.ps:


% Special paper size for the IEEE Computer Society Journals
@ ieeecs 7.875in 10.75in
@+ ! %%DocumentPaperSizes: ieeecs
@+ %%BeginPaperSize: ieeecs
@+ /setpagedevice where
@+  { pop << /PageSize [567 774] >> setpagedevice }
@+ if
@+ %%EndPaperSize


Is it possible to have future versions of config.ps in TeX Live support
this paper size out-of-the-box?


Lastly, I am aware of using the texmf-local tree to add local packages
to a TeX Live installation. However, what about "local" configuration
files? e.g., <texlive>/texmf-local/dvips/config/config.ps
What is the recommended procedure for users to have "local" configuration
files that override/supplement/append the default system configuration
and which are not overwritten when the TeX Live system is updated
or reinstalled?



  Cheers and thanks,

  Mike Shell

From d.p.carlisle at gmail.com  Thu Jul 14 13:43:47 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 14 Jul 2016 12:43:47 +0100
Subject: [tex-live] Seemingly inexplicable shift in page origin between
 TL 2014 and TL 2016
In-Reply-To: <578509F0.1060000@Rhul.Ac.Uk>
References: <578509F0.1060000@Rhul.Ac.Uk>
Message-ID: <CAEW6iOhJa9tno0UAs-=g2+cn381_-+AsMNdvxjHphG-3LWNH=w@mail.gmail.com>

On 12 July 2016 at 16:17, Philip Taylor <P.Taylor at rhul.ac.uk> wrote:



 > \advance \voffset by 1 true in % REQUIRED ONLY FOR TL 2016

If it's really a difference in texlive check that you specified the same
default driver page size (presumably A4)
in both installations, not A4 in one and letter in the other


or it may be a change in the driver files that now use a pagestyle special
by default but it wouldn't do that unless the latex \paperwidth register is
set (look at the end of xetex.def)

although neither of these would have the effect of exactly 1in shift.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160714/ecd4fa02/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Thu Jul 14 14:02:17 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 14 Jul 2016 13:02:17 +0100
Subject: [tex-live] Fwd: Re: Seemingly inexplicable shift in page origin
 between TL 2014 and TL 2016
In-Reply-To: <57877DAD.5000105@Rhul.Ac.Uk>
References: <57877DAD.5000105@Rhul.Ac.Uk>
Message-ID: <57877F49.2020405@Rhul.Ac.Uk>

Hallo David, and thank you for your suggestions.  I have now found the following :

1) The primary cause of the displacement is the PDF/X-1A:2003 specials -- remove these, and the page returns to its normal vertical position, but shifted outwards (leftwards) somewhat;
2) The use of \usepackage {color} within e-plain's \beginpackages ... \endpackages; in TeX Live 2016, this makes the page size considerably wider, IFF the PDF/X-1A specials are not emitted.

The displacement is visible both in TeXworks viewer and in Adobe Acrobat.

A4 is indeed the default in both, and the difference between A4 and letter is only 3/4", whereas it appears to require a 1" correction ...

** Phil.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160714/edcd7751/attachment-0001.html>

From jspitzm at gmail.com  Thu Jul 14 09:56:13 2016
From: jspitzm at gmail.com (=?ISO-8859-1?Q?J=FCrgen_Spitzm=FCller?=)
Date: Thu, 14 Jul 2016 09:56:13 +0200
Subject: [tex-live] Forest dependency
Message-ID: <1468482973.2539.6.camel@gmail.com>

Hi

The forest package currently needs elocalloc. Is it possible to add a
dependency in the tlpoj file of forest, so that elocalloc is pulled by
forest installation?

For the context of my question, see
http://www.lyx.org/trac/ticket/10284

Thanks
J?rgen

From Jim.Diamond at acadiau.ca  Thu Jul 14 21:08:47 2016
From: Jim.Diamond at acadiau.ca (Jim Diamond)
Date: Thu, 14 Jul 2016 16:08:47 -0300
Subject: [tex-live] possible bug/regression in TL2016
Message-ID: <20160714190847.GA13349@jdiamond-nb.acadiau.ca>

Hi,

In TL2015, using (plain) pdftex, I can start with

\input ifpdf.sty
\input miniltx
\makeatletter
\def\Gin at driver{pdftex.def}
\input color.sty

and I get
This is pdfTeX, Version 3.14159265-2.6-1.40.16 (TeX Live 2015) (preloaded format=pdftex)
 restricted \write18 enabled.
**
entering extended mode
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ifpdf.sty)
*(/usr/local/texlive/2015/texmf-dist/tex/plain/graphics-pln/miniltx.tex)
*
*
*(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/color.sty
(/usr/local/texlive/2015/texmf-dist/tex/latex/latexconfig/color.cfg)
(/usr/local/texlive/2015/texmf-dist/tex/latex/pdftex-def/pdftex.def
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/infwarerr.sty)
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ltxcmds.sty)
(/usr/local/texlive/2015/texmf-dist/tex/context/base/supp-pdf.mkii
[Loading MPS to PDF converter (version 2006.09.02).]
)))
*

That is, all is good.

But with TL2016 (both before and after recent updates), I get

This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016) (preloaded format=pdftex)
 restricted \write18 enabled.
**
entering extended mode
(/usr/local/texlive/2016/texmf-dist/tex/generic/oberdiek/ifpdf.sty)
*(/usr/local/texlive/2016/texmf-dist/tex/plain/graphics-pln/miniltx.tex)
*
*
*(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics/color.sty
(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics-cfg/color.cfg)
(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics-def/pdftex.def
(/usr/local/texlive/2016/texmf-dist/tex/generic/oberdiek/infwarerr.sty)
(/usr/local/texlive/2016/texmf-dist/tex/generic/oberdiek/ltxcmds.sty)
! Undefined control sequence.
l.1569      \@ifpackageloaded
                             {pst-pdf}%          hv 20160630
? 


Have I been doing The Wrong Thing all along, and has TL2016 come to
smite me?  Or should I be able to do that in TL2016?

Yes/no answers are welcome, solutions even more so.

Cheers.

                                Jim

From ross.moore at mq.edu.au  Thu Jul 14 21:35:50 2016
From: ross.moore at mq.edu.au (Ross Moore)
Date: Thu, 14 Jul 2016 19:35:50 +0000
Subject: [tex-live] [XeTeX] Seemingly inexplicable shift in page origin
 between TL 2014 and TL 2016
In-Reply-To: <57877F49.2020405@Rhul.Ac.Uk>
References: <57877DAD.5000105@Rhul.Ac.Uk> <57877F49.2020405@Rhul.Ac.Uk>
Message-ID: <F73D56D7-B86F-42D7-957E-750F1064D603@mq.edu.au>

Hi Phil,

On Jul 14, 2016, at 10:02 PM, Philip Taylor <P.Taylor at Rhul.Ac.Uk<mailto:P.Taylor at Rhul.Ac.Uk>> wrote:


Hallo David, and thank you for your suggestions.  I have now found the following :

1) The primary cause of the displacement is the PDF/X-1A:2003 specials -- remove these, and the page returns to its normal vertical position, but shifted outwards (leftwards) somewhat;
2) The use of \usepackage {color} within e-plain's \beginpackages ... \endpackages; in TeX Live 2016, this makes the page size considerably wider, IFF the PDF/X-1A specials are not emitted.

The displacement is visible both in TeXworks viewer and in Adobe Acrobat.


I think what you are seeing is due to the  /CropBox settings.
A PDF viewer shows the contents of the cropped area,
scaling to fill either the width or height or both.

There are 2 kinds of test that you can do.

1.  Print a few pages of your document, once with the \specials, once without.
    Is there any difference in the position of your content on the printed page?

2. Vary the numbers in  /CropBox [ a b c d ] ;
    such that (a,b) is bottom-left  and  (c,d)  is top-right corners of a rectangle.
    Values such as  [ 200 200 300 300 ] should crop to a small-ish portion of a page,
    which is then scaled up to fit your window-size.
   Observe the value of your browser?s scaling factor.

   With different values of [ a b c d ] you can simulate vertical and horizontal shifts,
to a small extent, according to how much smaller the /CropBox is, compared to
the /MediaBox.

Does this interpretation agree with what you observe?



A4 is indeed the default in both, and the difference between A4 and letter is only 3/4", whereas it appears to require a 1" correction ...

** Phil.


Cheers,

Ross


Dr Ross Moore

Mathematics Dept | Level 2, S2.638 AHH
Macquarie University, NSW 2109, Australia

T: +61 2 9850 8955  |  F: +61 2 9850 8114<tel:%2B61%202%209850%209695>
M:+61 407 288 255<tel:%2B61%20409%20125%20670>  |  E: ross.moore at mq.edu.au<mailto:rick.minter at mq.edu.au>

http://www.maths.mq.edu.au<http://mq.edu.au/>


[cid:image001.png at 01D030BE.D37A46F0]<http://mq.edu.au/>


CRICOS Provider Number 00002J. Think before you print.
Please consider the environment before printing this email.<http://mq.edu.au/>

This message is intended for the addressee named and may
contain confidential information. If you are not the intended
recipient, please delete it and notify the sender. Views expressed
in this message are those of the individual sender, and are not
necessarily the views of Macquarie University.<http://mq.edu.au/>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160714/956c1526/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 4605 bytes
Desc: image001.png
URL: <http://tug.org/pipermail/tex-live/attachments/20160714/956c1526/attachment-0001.png>

From karl at freefriends.org  Fri Jul 15 00:16:03 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 14 Jul 2016 22:16:03 +0000
Subject: [tex-live] Forest dependency
In-Reply-To: <1468482973.2539.6.camel@gmail.com>
Message-ID: <201607142216.u6EMG3Rx019883@freefriends.org>

    dependency in the tlpoj file of forest, so that elocalloc is pulled by
    forest installation?

Ok, done, but ...

    http://www.lyx.org/trac/ticket/10284

I find that thread difficult to comprehend, but some thoughts anyway:

Perhaps lyx could be made smart enough to, optionally, do "tlmgr install
foobar" (if TL) or the equivalent under miktex (though miktex already
does it itself), if it's "smart" enough to complain about foobar being
required.  I'm not sure if that's what's happening.

Also, I fail to see the original point: there should be no need for the
"average user" to compile a manual.  If the package is released to CTAN,
it should include a PDF manual already.  forest certainly does.

Furthermore, the dependencies of a package's manual are usually far
larger than the dependencies of the package itself.  So in general it
would not make sense to add dependencies of the manual to the package.

I could say more but that's plenty already ...

Best,
Karl

From karl at freefriends.org  Fri Jul 15 00:37:44 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 14 Jul 2016 22:37:44 +0000
Subject: [tex-live] Request special IEEE Computer Society paper size for
 dvips' config.ps
In-Reply-To: <20160713200425.05402e34220bc775e1d67c1a@michaelshell.org>
Message-ID: <201607142237.u6EMbi1G021136@freefriends.org>

Hi Michael,

    @ ieeecs 7.875in 10.75in

Sure, added to both the dvips sources and TL runtime.

    <texlive>/texmf-local/dvips/config/config.ps
    What is the recommended procedure for users to have "local" configuration
    files that override/supplement/append the default system configuration

Isn't that it?  texmf-local/whatever.  How the supplementing is or can
be done depends on how the program in question was written.

    and which are not overwritten when the TeX Live system is updated
    or reinstalled?
    
tlmgr will never write anything to texmf-local, as far as I know.
(Well, mktexlsr will update the ls-R there, but that's presumably the
opposite of a problem. :) Certainly my own texmf-local has been
preserved across many years of TL installations.

Best,
Karl

From karl at freefriends.org  Fri Jul 15 00:52:15 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 14 Jul 2016 22:52:15 GMT
Subject: [tex-live] possible bug/regression in TL2016
In-Reply-To: <20160714190847.GA13349@jdiamond-nb.acadiau.ca>
Message-ID: <201607142252.u6EMqFqL029540@tug.org>

Hi Jim,

    \input ifpdf.sty
    \input miniltx
    \makeatletter
    \def\Gin at driver{pdftex.def}
    \input color.sty
    ...
    ! Undefined control sequence.
    l.1569      \@ifpackageloaded
                                 {pst-pdf}%          hv 20160630

I think it should still work, but whether the appropriate change is in
miniltx.sty, pdftex.def, color.sty, or somewhere else, I cannot guess
off the top of my head.  David?  --thanks, karl.

From d.p.carlisle at gmail.com  Fri Jul 15 00:58:41 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 14 Jul 2016 23:58:41 +0100
Subject: [tex-live] possible bug/regression in TL2016
In-Reply-To: <201607142252.u6EMqFqL029540@tug.org>
References: <20160714190847.GA13349@jdiamond-nb.acadiau.ca>
 <201607142252.u6EMqFqL029540@tug.org>
Message-ID: <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com>

On 14 July 2016 at 23:52, Karl Berry <karl at freefriends.org> wrote:
> Hi Jim,
>
>     \input ifpdf.sty
>     \input miniltx
>     \makeatletter
>     \def\Gin at driver{pdftex.def}
>     \input color.sty
>     ...
>     ! Undefined control sequence.
>     l.1569      \@ifpackageloaded
>                                  {pst-pdf}%          hv 20160630
>
> I think it should still work, but whether the appropriate change is in
> miniltx.sty, pdftex.def, color.sty, or somewhere else, I cannot guess
> off the top of my head.  David?  --thanks, karl.

the offending line is gone from the pdftex.def pushed to ctan a couple
of days ago, so it may perhaps be reaching texlive sometime soon:-)

see ctan:
macros/latex/contrib/graphics-def/pdftex.def

David

From karl at freefriends.org  Fri Jul 15 01:02:10 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 14 Jul 2016 17:02:10 -0600
Subject: [tex-live] possible bug/regression in TL2016
In-Reply-To: <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com> (message
 from David Carlisle on Thu, 14 Jul 2016 23:58:41 +0100)
Message-ID: <86shvbn7rh.fsf@frenzy.freefriends.org>

    the offending line is gone from the pdftex.def pushed to ctan a couple
    of days ago, so it may perhaps be reaching texlive sometime soon:-)

I installed it yesterday, when it reached CTAN.  Usual mirror-to-mirror
delay I suppose.  Just glad it's fixed.  Thanks!  -k

From Jim.Diamond at acadiau.ca  Fri Jul 15 01:04:25 2016
From: Jim.Diamond at acadiau.ca (Jim Diamond)
Date: Thu, 14 Jul 2016 20:04:25 -0300
Subject: [tex-live] possible bug/regression in TL2016
In-Reply-To: <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com>
References: <20160714190847.GA13349@jdiamond-nb.acadiau.ca>
 <201607142252.u6EMqFqL029540@tug.org>
 <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com>
Message-ID: <20160714230425.GA21113@jdiamond-nb.acadiau.ca>

On Thu, Jul 14, 2016 at 23:58 (+0100), David Carlisle wrote:

> On 14 July 2016 at 23:52, Karl Berry <karl at freefriends.org> wrote:
>> Hi Jim,

>>     \input ifpdf.sty
>>     \input miniltx
>>     \makeatletter
>>     \def\Gin at driver{pdftex.def}
>>     \input color.sty
>>     ...
>>     ! Undefined control sequence.
>> l.1569      \@ifpackageloaded
>>                                  {pst-pdf}%          hv 20160630

>> I think it should still work, but whether the appropriate change is in
>> miniltx.sty, pdftex.def, color.sty, or somewhere else, I cannot guess
>> off the top of my head.  David?  --thanks, karl.

> the offending line is gone from the pdftex.def pushed to ctan a couple
> of days ago, so it may perhaps be reaching texlive sometime soon:-)

> see ctan:
> macros/latex/contrib/graphics-def/pdftex.def

This is excellent.  Where else but in the TeX world would a fix show
up before the bug report?  I guess this is an efficiency of more than
100%, laws of thermodynamics notwithstanding.

Translation: thanks very much for the info (and good news).

Cheers.

                                Jim

From karl at freefriends.org  Fri Jul 15 01:10:40 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 14 Jul 2016 23:10:40 +0000
Subject: [tex-live] ttfdump seg faults on subsetted fonts
In-Reply-To: <49402cbe-1c7b-ee19-274d-0cacbbaf3b07@redneon.com>
Message-ID: <201607142310.u6ENAeVI010806@freefriends.org>

    When using ttfdump to inspect a subsetted font I get a seg fault due to
    the missing cmap, name, and post tables. Attached is a fix.

I installed the patch, thanks.  Would be nice to test but the need in
the code is abundantly clear :).  --best, karl.

From reinhard.kotucha at web.de  Fri Jul 15 02:44:09 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 15 Jul 2016 02:44:09 +0200
Subject: [tex-live] possible bug/regression in TL2016
In-Reply-To: <20160714230425.GA21113@jdiamond-nb.acadiau.ca>
References: <20160714190847.GA13349@jdiamond-nb.acadiau.ca>
 <201607142252.u6EMqFqL029540@tug.org>
 <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com>
 <20160714230425.GA21113@jdiamond-nb.acadiau.ca>
Message-ID: <22408.12761.124315.491318@zaphod.ms25.net>

On 2016-07-14 at 20:04:25 -0300, Jim Diamond wrote:

 > I guess this is an efficiency of more than 100%, laws of
 > thermodynamics notwithstanding.

Forget what you've learned about thermodynamics.
As you already noticed, we can make it better nowadays.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From jspitzm at gmail.com  Fri Jul 15 08:10:35 2016
From: jspitzm at gmail.com (=?ISO-8859-1?Q?J=FCrgen_Spitzm=FCller?=)
Date: Fri, 15 Jul 2016 08:10:35 +0200
Subject: [tex-live] Forest dependency
In-Reply-To: <201607142216.u6EMG3Rx019883@freefriends.org>
References: <201607142216.u6EMG3Rx019883@freefriends.org>
Message-ID: <1468563035.3449.8.camel@gmail.com>

Am Donnerstag, den 14.07.2016, 22:16 +0000 schrieb Karl Berry:
> ????dependency in the tlpoj file of forest, so that elocalloc is
> pulled by
> ????forest installation?
> 
> Ok, done,?

Thanks!

> but ...
> 
> ????http://www.lyx.org/trac/ticket/10284
> 
> I find that thread difficult to comprehend, but some thoughts anyway:
> 
> Perhaps lyx could be made smart enough to, optionally, do "tlmgr
> install
> foobar" (if TL) or the equivalent under miktex (though miktex already
> does it itself), if it's "smart" enough to complain about foobar
> being
> required.??I'm not sure if that's what's happening.

LyX does not install LaTeX packages at all, it just generally checks
whether packages that are needed for a given feature are available, and
if not, the feature is disabled (and a warning given). [except, as you
said, if you use MikTeX and have this on-the fly thing enabled]

But yes, such a feature would be possible. On the other hand, we have
limited manpower.

> 
> Also, I fail to see the original point: there should be no need for
> the
> "average user" to compile a manual.??If the package is released to
> CTAN,
> it should include a PDF manual already.??forest certainly does.

This refers to a LyX manual (in this case, the manual that explains how
to use the LyX features related to linguistics). Since this LyX manual
showcases forest trees, it does not compile if elocalloc is not
installed.

> 
> Furthermore, the dependencies of a package's manual are usually far
> larger than the dependencies of the package itself.??So in general it
> would not make sense to add dependencies of the manual to the
> package.

This is a misunderstanding. I only refer to the dependencies of a
package.

> 
> I could say more but that's plenty already ...

Well, feel free to do so.

Thanks
J?rgen

> 
> Best,
> Karl

From list1 at michaelshell.org  Fri Jul 15 09:44:32 2016
From: list1 at michaelshell.org (Michael Shell)
Date: Fri, 15 Jul 2016 03:44:32 -0400
Subject: [tex-live] possible bug/regression in TL2016
In-Reply-To: <20160714230425.GA21113@jdiamond-nb.acadiau.ca>
References: <20160714190847.GA13349@jdiamond-nb.acadiau.ca>
 <201607142252.u6EMqFqL029540@tug.org>
 <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com>
 <20160714230425.GA21113@jdiamond-nb.acadiau.ca>
Message-ID: <20160715034432.a0b3df57415884061f6041b9@michaelshell.org>

On Thu, 14 Jul 2016 20:04:25 -0300
Jim Diamond <Jim.Diamond at acadiau.ca> wrote:

> This is excellent. Where else but in the TeX world would a fix show
> up before the bug report?


Ditto for me too. And it applies even to feature requests  - dvips
now has a new special paper size thanks to Karl:

http://tug.org/pipermail/tex-live/2016-July/039069.html

:)


  Cheers,

  Mike

From zdenek.wagner at gmail.com  Fri Jul 15 10:16:14 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 15 Jul 2016 10:16:14 +0200
Subject: [tex-live] Request special IEEE Computer Society paper size for
 dvips' config.ps
In-Reply-To: <201607142237.u6EMbi1G021136@freefriends.org>
References: <20160713200425.05402e34220bc775e1d67c1a@michaelshell.org>
 <201607142237.u6EMbi1G021136@freefriends.org>
Message-ID: <CAC1phybYknvFE=97cSRKGh0FCX94ovv8sqt4SmEG+N-Q9wHgfg@mail.gmail.com>

2016-07-15 0:37 GMT+02:00 Karl Berry <karl at freefriends.org>:
> Hi Michael,
>
>     @ ieeecs 7.875in 10.75in
>
> Sure, added to both the dvips sources and TL runtime.
>
>     <texlive>/texmf-local/dvips/config/config.ps
>     What is the recommended procedure for users to have "local" configuration
>     files that override/supplement/append the default system configuration
>
> Isn't that it?  texmf-local/whatever.  How the supplementing is or can
> be done depends on how the program in question was written.
>
>     and which are not overwritten when the TeX Live system is updated
>     or reinstalled?
>
> tlmgr will never write anything to texmf-local, as far as I know.
> (Well, mktexlsr will update the ls-R there, but that's presumably the
> opposite of a problem. :) Certainly my own texmf-local has been
> preserved across many years of TL installations.
>
AFAIK install-tl only creates texmf-local and a few empty directories
in it (eg fonts) if it does not exist. If there are local
configuration files (fonts, formats etc.) and a new version of TL is
being installed, the files are used. My texmf-local is even older that
tlmgr. I need the same files on several computers so I turned it to a
subversion working copy and everything works, nothing is overwritten
(unless I do it intentionaly).

> Best,
> Karl


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From preining at logic.at  Fri Jul 15 14:23:30 2016
From: preining at logic.at (Norbert Preining)
Date: Fri, 15 Jul 2016 21:23:30 +0900
Subject: [tex-live] Request special IEEE Computer Society paper size for
 dvips' config.ps
In-Reply-To: <20160713200425.05402e34220bc775e1d67c1a@michaelshell.org>
References: <20160713200425.05402e34220bc775e1d67c1a@michaelshell.org>
Message-ID: <20160715122330.GT10707@logic.at>

Hi Michael,

your requested paper size has already been added, but I still want
to answer a few of your questions for completeness.

> Lastly, I am aware of using the texmf-local tree to add local packages
> to a TeX Live installation. However, what about "local" configuration
> files? e.g., <texlive>/texmf-local/dvips/config/config.ps
> What is the recommended procedure for users to have "local" configuration
> files that override/supplement/append the default system configuration
> and which are not overwritten when the TeX Live system is updated
> or reinstalled?

It depends on whether the files are *stacked* or not-stacked.

Currently, the stacked config files I know of are:
	texmf.cnf
	updmap.cfg
	fmtutil.cnf
an nothing else. The programs reading these files read *all* the found
files, and entries higher up in the hierarchy override earlier ones.

The other end are non-stacked, or let us say, normal input files. Most
of the files in TL fall into this category, including config.ps.
There, the first copy found wins. That means that copies in TEXMFLOCAL
will be used in preference over the ones in TEXMFDIST/MAIN etc.

But we recommend using this sparingly, because updates to the main
files will remain hidden until the local copy is deleted or updated.

All the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From maximilian.noethe at tu-dortmund.de  Sat Jul 16 13:16:50 2016
From: maximilian.noethe at tu-dortmund.de (=?UTF-8?Q?Maximilan_N=c3=b6the?=)
Date: Sat, 16 Jul 2016 13:16:50 +0200
Subject: [tex-live] Possibility to have a package in two or more collections
Message-ID: <578A17A2.3060403@tu-dortmund.de>

Hi,

is it possible for a package to be included in more than one collections?

I think `polyglossia` shoudl be both in the `collection-xetex` and in 
the `collection-luatex`
collection.

Cheers
Maximilian N?the

-- 
M. Sc. Candidate
Experimental Physics 5 / Astroparticle Physics
TU Dortmund


From karl at freefriends.org  Sat Jul 16 23:10:02 2016
From: karl at freefriends.org (Karl Berry)
Date: Sat, 16 Jul 2016 21:10:02 +0000
Subject: [tex-live] Possibility to have a package in two or more
 collections
In-Reply-To: <578A17A2.3060403@tu-dortmund.de>
Message-ID: <201607162110.u6GLA22k023142@freefriends.org>

    is it possible for a package to be included in more than one collections?

No.  It's fundamental in TL that the collections exactly partition the
packages -- nothing left out, nothing duplicated.

    I think `polyglossia` shoudl be both in the `collection-xetex` and
    in the `collection-luatex` collection.

I agree something should be done.  There are a number of packages which
attempt to support both xetex and luatex; fontspec and unicode-math are
two others (right now in two other collection-*'s, for no particularly
good reason).

I have had thoughts of creating something like collection-unicodetex
(hopefully with a better name) with such packages, but have not done it
yet.  I think your email will spur me to do so :).

Best,
Karl

From ml at mariochiari.net  Mon Jul 18 15:53:36 2016
From: ml at mariochiari.net (mario chiari)
Date: Mon, 18 Jul 2016 15:53:36 +0200
Subject: [tex-live] cyrillic vs urls
Message-ID: <1468850016.3294.9.camel@mariochiari.net>

Hi

please

http://tex.stackexchange.com/questions/319900/cyrillic-and-urls

http://tex.stackexchange.com/questions/192701/cyrillic-and-breakhref-how-do-i-de
fine

for me, it is a old, unresolved issue
help is welcome
thanks, cheers
mario

ps if you know of a apter ml to ask this question, please let me know.?

From zdenek.wagner at gmail.com  Mon Jul 18 15:59:48 2016
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 18 Jul 2016 15:59:48 +0200
Subject: [tex-live] cyrillic vs urls
In-Reply-To: <1468850016.3294.9.camel@mariochiari.net>
References: <1468850016.3294.9.camel@mariochiari.net>
Message-ID: <CAC1phyb6M8Rg7NQ4Ucy8mms9TZPxgPUEVcVbc4-0_cT9FRQj5Q@mail.gmail.com>

It does not work this way, URL must be URL-encoded, see e.g. urlencode
function from PHP:
http://php.net/manual/en/function.urlencode.php

So the answer is, you must express it with human unreadable form
containing % and hexadecima numbers. Modenr browsers often display it
URL-decoded in the URL bar, but if you copy&paste it to a text editor,
you can see the URL-encoded form.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


2016-07-18 15:53 GMT+02:00 mario chiari <ml at mariochiari.net>:
> Hi
>
> please
>
> http://tex.stackexchange.com/questions/319900/cyrillic-and-urls
>
> http://tex.stackexchange.com/questions/192701/cyrillic-and-breakhref-how-do-i-de
> fine
>
> for me, it is a old, unresolved issue
> help is welcome
> thanks, cheers
> mario
>
> ps if you know of a apter ml to ask this question, please let me know.


From enrico.gregorio at gmail.com  Tue Jul 19 00:10:31 2016
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Tue, 19 Jul 2016 00:10:31 +0200
Subject: [tex-live] Problems with piped input in XeTeX for Mac OS X
Message-ID: <CAD1MDiAUDwt_2b=go+efU4UH3NZtc_pmGT0DU8MN+pvA7NJa0g@mail.gmail.com>

Consider the following test file bug.tex

%first

%\vfill\eject

\input|"echo abc"

%\vfill\eject

\input|"echo abc"

\bye

If I compile it with TeX Live 2016 on Mac OS X (MacTeX) using

    xetex -shell-escape bug

compilation fails with

    Error 32512 (driver return code) generating output;
    file bug.pdf may not be valid.

Actually I can't see that on the terminal that ends up dirty, I was able to
see the message using valgrind

If I run

    xetex -shell-escape -no-pdf bug

the xdv file is produced, but the second piped input returns nothing. I use
echo just by way of example: any other second piped input in the same page
returns nothing.

Indeed, if I uncomment the line between the two piped inputs, the normal
compilation fails again, but if I add -no-pdf the PDF file can be produced
and has ?abc? on both pages.

Just to make things weirder, if a page is added before the first piped
input (remove the other comment characters), the PDF file is produced
directly, but it is two pages with or without the \vfill\eject between the
piped inputs, showing that the second one returns nothing.

Others tell me that the behavior is as expected on other platforms
(Gnu/Linux or CygWin).

Can somebody confirm?

Ciao
Enrico
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160719/ae64235e/attachment-0001.html>

From werner at suse.de  Tue Jul 19 12:28:28 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 19 Jul 2016 12:28:28 +0200
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
Message-ID: <20160719102828.xxch3kganec5nauj@boole.suse.de>

Hi,

I've a report fron a user with this message:

| My opensuse leap system installed few days ago the new texlive 2016 packages. 
| Since then, I cannot generate a bibliography with my texfiles anymore.
| 
| From the biber log:
| 
| > $ biber paper
| > INFO - This is Biber 2.4
| > INFO - Logfile is 'paper.blg'
| > INFO - Reading 'paper.bcf'
| > WARN - Warning: Found biblatex control file version 3.1, expected version
| > 3.0
| 
| Latex reports that the bibliography is empty.
| 
| I guess that the issue is due to a version mismatch between biber and 
| biblatex.

and indeed from tex/latex/biblatex/biblatex.sty:

 % This is not updated by build script as the control file version
 % does not necessarily change with the package version.
 % This is used when writing the .bcf
 \def\blx at bcfversion{3.1}

 % This is not updated by build script as the bbl version
 % does not necessarily change with the package version.
 % This is used when checking the .bbl
 \def\blx at bblversion{2.7}

which does not work with biblatex-biber-2.4/lib/Biber/Constants.pm

 # Version of biblatex control file which this release expects. Matched against version
 # passed in control file. Used when checking the .bcf
 our $BCF_VERSION = '3.0';
 # Format version of the .bbl. Used when writing the .bbl
 our $BBL_VERSION = '2.6';

the question rises: do I have to downgrade biblatex or upgrade biber?

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160719/b6a81aea/attachment.bin>

From zarniwhoop at ntlworld.com  Tue Jul 19 12:41:47 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Tue, 19 Jul 2016 11:41:47 +0100
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160719102828.xxch3kganec5nauj@boole.suse.de>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
Message-ID: <20160719104147.GA12128@milliways.localdomain>

On Tue, Jul 19, 2016 at 12:28:28PM +0200, Dr. Werner Fink wrote:
> Hi,
> 
> I've a report fron a user with this message:
> 
> | My opensuse leap system installed few days ago the new texlive 2016 packages. 
> | Since then, I cannot generate a bibliography with my texfiles anymore.
> | 
> | From the biber log:
> | 
> | > $ biber paper
> | > INFO - This is Biber 2.4
> | > INFO - Logfile is 'paper.blg'
> | > INFO - Reading 'paper.bcf'
> | > WARN - Warning: Found biblatex control file version 3.1, expected version
> | > 3.0
[...]
> 
> the question rises: do I have to downgrade biblatex or upgrade biber?
> 
> Werner
> 

Yes (one or the other).  The latest version of biber is in the
'current' directory at sourceforge and it announces itself as 2.5.
This also changes the perl module dependencies - a quick look at my
notes suggests Lingue::Translit is required for 2.5.

If you keep with 2.4, use biblatex 3.3.

?en
-- 
`I shall take my mountains', said Lu-Tze. `The climate will be good
for them.'     -- Small Gods

From komascript at gmx.info  Tue Jul 19 12:49:42 2016
From: komascript at gmx.info (Markus Kohm)
Date: Tue, 19 Jul 2016 12:49:42 +0200
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160719104147.GA12128@milliways.localdomain>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
 <20160719104147.GA12128@milliways.localdomain>
Message-ID: <4071613.7V8gUxTCWm@x61s.fritz.box>

Am Dienstag, 19. Juli 2016, 11:41:47 schrieb Ken Moffat:
> The latest version of biber is in the
> 'current' directory at sourceforge and it announces itself as 2.5.

The current biber of TeX Live 2016 is version 2.5 too.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20160719/3988d81a/attachment-0001.bin>

From werner at suse.de  Tue Jul 19 14:47:46 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 19 Jul 2016 14:47:46 +0200
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <4071613.7V8gUxTCWm@x61s.fritz.box>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
 <20160719104147.GA12128@milliways.localdomain>
 <4071613.7V8gUxTCWm@x61s.fritz.box>
Message-ID: <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>

On Tue, Jul 19, 2016 at 12:49:42PM +0200, Markus Kohm wrote:
> Am Dienstag, 19. Juli 2016, 11:41:47 schrieb Ken Moffat:
> > The latest version of biber is in the
> > 'current' directory at sourceforge and it announces itself as 2.5.
> 
> The current biber of TeX Live 2016 is version 2.5 too.

Hmmm ... my choise was based on the latest texlive.tlpdb.xz I had found
after TeXLive 2016 had been release and this shows

  name biber
  [...]
  catalogue-date 2016-03-07 05:26:16 +0100
  catalogue-license artistic
  catalogue-topics biblio
  catalogue-version 2.4

MHO it would help a lot if all data bases are in sync and also there
would be a copy of the archive around which fits exactly the state of
the final TeXLive release ;)

Beside this with version 2.5 I see one failing test

  [ 1135s] t/full-bbl.t ........... ok
  [ 1136s] 
  [ 1136s] #   Failed test 'Full test has zero exit status'
  [ 1136s] #   at t/full-bblxml.t line 35.
  [ 1136s] #          got: '2'
  [ 1136s] #     expected: '0'
  [ 1136s] 
  [ 1136s] #   Failed test 'Testing bblxml output'
  [ 1136s] #   at t/full-bblxml.t line 39.
  [ 1136s] # Looks like you failed 2 tests of 2.
  [ 1136s] t/full-bblxml.t ........ 
  [ 1136s] Dubious, test returned 2 (wstat 512, 0x200)
  [ 1136s] Failed 2/2 subtests 
  [ 1136s] t/full-bibtex.t ........ ok


Werner


-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160719/0b8059b6/attachment.bin>

From preining at logic.at  Tue Jul 19 15:00:45 2016
From: preining at logic.at (Norbert Preining)
Date: Tue, 19 Jul 2016 22:00:45 +0900
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
 <20160719104147.GA12128@milliways.localdomain>
 <4071613.7V8gUxTCWm@x61s.fritz.box>
 <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>
Message-ID: <123E3842-A296-445E-9206-B610FE60F608@logic.at>

Hi Werner,



>Hmmm ... my choise was based on the latest texlive.tlpdb.xz I had found
>after TeXLive 2016 had been release and this shows

Hmm, I don't understand what you are saying. The tlpdb of tlnet is updated on a daily basis, and describes the state of the packages in the tlnet folder on CTAN at that time.

>  catalogue-version 2.4
>
>MHO it would help a lot if all data bases are in sync and also there

We would like to, but sometimes the packages are updated but the TeX Catalogue is lagging behind a bit. Then there is a skew in the versions.

If the catalogue is updated at a later stage we do *not* trigger a package update on purpose.

>would be a copy of the archive around which fits exactly the state of
>the final TeXLive release ;)

There is for sure, historic on CTAN out so.

All the best

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From werner at suse.de  Tue Jul 19 16:50:01 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 19 Jul 2016 16:50:01 +0200
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <123E3842-A296-445E-9206-B610FE60F608@logic.at>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
 <20160719104147.GA12128@milliways.localdomain>
 <4071613.7V8gUxTCWm@x61s.fritz.box>
 <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>
 <123E3842-A296-445E-9206-B610FE60F608@logic.at>
Message-ID: <20160719145001.ixcdjq3clupqjbgy@boole.suse.de>

On Tue, Jul 19, 2016 at 10:00:45PM +0900, Norbert Preining wrote:
> Hi Werner,
> 
> 
> 
> >Hmmm ... my choise was based on the latest texlive.tlpdb.xz I had found
> >after TeXLive 2016 had been release and this shows
> 
> Hmm, I don't understand what you are saying. The tlpdb of tlnet is
> updated on a daily basis, and describes the state of the packages in
> the tlnet folder on CTAN at that time.
> 
> >  catalogue-version 2.4
> >
> >MHO it would help a lot if all data bases are in sync and also there
> 
> We would like to, but sometimes the packages are updated but the TeX Catalogue is lagging behind a bit. Then there is a skew in the versions.
> 
> If the catalogue is updated at a later stage we do *not* trigger a package update on purpose.
> 
> >would be a copy of the archive around which fits exactly the state of
> >the final TeXLive release ;)
> 
> There is for sure, historic on CTAN out so.

I'm aware that I can find the source tar balls of various TeXLive version
but (AFAIK) the corresponding tar balls of the texmf tree is not there
(at least at ftp://tug.org/historic/systems/texlive/2016/).

For this reason I use texlive.tlpdb.xz and generate with a perl script
and some spec file templates all required spec files including the rpm
dependencies.   This gives me the required versions to be sure that my
snpashot of the archive of the texmf tar balls are in sync.  If
texlive.tlpdb.xz is not or was never a valid source for versioning then
what else could be used to generate the more then 6000 spec files?

Using the monolithic texmf tar ball, e.g. texlive-20160523b-texmf.tar.xz,
is not an option as this would require to split this without the knowlegde
of the dependencies.  This had lead to a lot of trouble in past.

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160719/b7b38bca/attachment-0001.bin>

From zarniwhoop at ntlworld.com  Tue Jul 19 18:51:06 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Tue, 19 Jul 2016 17:51:06 +0100
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
 <20160719104147.GA12128@milliways.localdomain>
 <4071613.7V8gUxTCWm@x61s.fritz.box>
 <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>
Message-ID: <20160719165106.GA20027@milliways.localdomain>

On Tue, Jul 19, 2016 at 02:47:46PM +0200, Dr. Werner Fink wrote:
> 
> Beside this with version 2.5 I see one failing test
> 
>   [ 1135s] t/full-bbl.t ........... ok
>   [ 1136s] 
>   [ 1136s] #   Failed test 'Full test has zero exit status'
>   [ 1136s] #   at t/full-bblxml.t line 35.
>   [ 1136s] #          got: '2'
>   [ 1136s] #     expected: '0'
>   [ 1136s] 
>   [ 1136s] #   Failed test 'Testing bblxml output'
>   [ 1136s] #   at t/full-bblxml.t line 39.
>   [ 1136s] # Looks like you failed 2 tests of 2.
>   [ 1136s] t/full-bblxml.t ........ 
>   [ 1136s] Dubious, test returned 2 (wstat 512, 0x200)
>   [ 1136s] Failed 2/2 subtests 
>   [ 1136s] t/full-bibtex.t ........ ok
> 
You obviously have BIBER_DEV_TESTS set - I do not set that, so all
the t/full-* tests are skipped, also t/remote-files.t  - I do,
however, get 1 failure in t/sort-order.t which is not new and is
believed to be due to differences in the locale data for linux
compared to OSX where it is developed.

?en
-- 
`I shall take my mountains', said Lu-Tze. `The climate will be good
for them.'     -- Small Gods

From werner at suse.de  Wed Jul 20 12:14:53 2016
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 20 Jul 2016 12:14:53 +0200
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160719165106.GA20027@milliways.localdomain>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
 <20160719104147.GA12128@milliways.localdomain>
 <4071613.7V8gUxTCWm@x61s.fritz.box>
 <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>
 <20160719165106.GA20027@milliways.localdomain>
Message-ID: <20160720101453.ing2wkijqycm742l@boole.suse.de>

On Tue, Jul 19, 2016 at 05:51:06PM +0100, Ken Moffat wrote:
> On Tue, Jul 19, 2016 at 02:47:46PM +0200, Dr. Werner Fink wrote:
> > 
> > Beside this with version 2.5 I see one failing test
> > 
> >   [ 1135s] t/full-bbl.t ........... ok
> >   [ 1136s] 
> >   [ 1136s] #   Failed test 'Full test has zero exit status'
> >   [ 1136s] #   at t/full-bblxml.t line 35.
> >   [ 1136s] #          got: '2'
> >   [ 1136s] #     expected: '0'
> >   [ 1136s] 
> >   [ 1136s] #   Failed test 'Testing bblxml output'
> >   [ 1136s] #   at t/full-bblxml.t line 39.
> >   [ 1136s] # Looks like you failed 2 tests of 2.
> >   [ 1136s] t/full-bblxml.t ........ 
> >   [ 1136s] Dubious, test returned 2 (wstat 512, 0x200)
> >   [ 1136s] Failed 2/2 subtests 
> >   [ 1136s] t/full-bibtex.t ........ ok
> > 
> You obviously have BIBER_DEV_TESTS set - I do not set that, so all
> the t/full-* tests are skipped, also t/remote-files.t  - I do,
> however, get 1 failure in t/sort-order.t which is not new and is
> believed to be due to differences in the locale data for linux
> compared to OSX where it is developed.

Yes indeed I'm using BIBER_DEV_TESTS ... the upstream tar ball had
missed biblatex-biber-2.5/lib/Biber/Output/bblxml.pm
now it works here ;)

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/tex-live/attachments/20160720/7c0d7ff9/attachment.bin>

From Jim.Diamond at acadiau.ca  Wed Jul 20 14:42:26 2016
From: Jim.Diamond at acadiau.ca (Jim Diamond)
Date: Wed, 20 Jul 2016 09:42:26 -0300
Subject: [tex-live] possible bug/regression in TL2016
In-Reply-To: <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com>
References: <20160714190847.GA13349@jdiamond-nb.acadiau.ca>
 <201607142252.u6EMqFqL029540@tug.org>
 <CAEW6iOi5+CwCd0Pq6HWUnb5Jfiu4RjB8HNa0WNR4b11YUj-9iA@mail.gmail.com>
Message-ID: <20160720124226.GC16663@jdiamond-nb.acadiau.ca>

On Thu, Jul 14, 2016 at 23:58 (+0100), David Carlisle wrote:

> On 14 July 2016 at 23:52, Karl Berry <karl at freefriends.org> wrote:
>> Hi Jim,

>>     \input ifpdf.sty
>>     \input miniltx
>>     \makeatletter
>>     \def\Gin at driver{pdftex.def}
>>     \input color.sty
>>     ...
>>     ! Undefined control sequence.
>> l.1569      \@ifpackageloaded
>>                                  {pst-pdf}%          hv 20160630

>> I think it should still work, but whether the appropriate change is in
>> miniltx.sty, pdftex.def, color.sty, or somewhere else, I cannot guess
>> off the top of my head.  David?  --thanks, karl.

> the offending line is gone from the pdftex.def pushed to ctan a couple
> of days ago, so it may perhaps be reaching texlive sometime soon:-)

> see ctan:
> macros/latex/contrib/graphics-def/pdftex.def

Thanks for this.  The change did eventually get to the mirror I use.
Which, apparently, is at the edge of the known universe, given the
number of days after David's message before I saw it.

Cheers.
                                Jim

From karl at freefriends.org  Wed Jul 20 22:42:12 2016
From: karl at freefriends.org (Karl Berry)
Date: Wed, 20 Jul 2016 20:42:12 +0000
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160720101453.ing2wkijqycm742l@boole.suse.de>
Message-ID: <201607202042.u6KKgCkm029002@freefriends.org>

    the upstream tar ball had
    missed biblatex-biber-2.5/lib/Biber/Output/bblxml.pm

All I (can) do for the "upstream tar ball" is install what makes it to
CTAN.  bblxml.pm isn't there as far as I can see.  I don't know.  -k

From preining at logic.at  Thu Jul 21 06:36:31 2016
From: preining at logic.at (Norbert Preining)
Date: Thu, 21 Jul 2016 13:36:31 +0900
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160719145001.ixcdjq3clupqjbgy@boole.suse.de>
References: <20160719102828.xxch3kganec5nauj@boole.suse.de>
 <20160719104147.GA12128@milliways.localdomain>
 <4071613.7V8gUxTCWm@x61s.fritz.box>
 <20160719124746.igicfc5mu7zc4wdb@boole.suse.de>
 <123E3842-A296-445E-9206-B610FE60F608@logic.at>
 <20160719145001.ixcdjq3clupqjbgy@boole.suse.de>
Message-ID: <20160721043631.GL31503@logic.at>

Hi Werner,

sorry for the late reply.

> For this reason I use texlive.tlpdb.xz and generate with a perl script
> and some spec file templates all required spec files including the rpm
> dependencies.   This gives me the required versions to be sure that my

Yes, this is what we do in Debian, too. But we start from tlnet
and not the texmf tar balls. That is IMNSHO eassier to handle,
and allows updates during the year.

> snpashot of the archive of the texmf tar balls are in sync.  If
> texlive.tlpdb.xz is not or was never a valid source for versioning then
> what else could be used to generate the more then 6000 spec files?

It is and was always stated that the information from tlpdb
provided by
	catalogue-version
is only indicative.

TeX Live uses the revision numbers computed from the subversion
checkout, because it is the only thing that guarantees striclty
increasing versioning.

>   "Having a smoking section in a restaurant is like having
>           a peeing section in a swimming pool." -- Edward Burr

Love that.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From rpspringuel at gmail.com  Thu Jul 21 15:10:05 2016
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Thu, 21 Jul 2016 09:10:05 -0400
Subject: [tex-live] Bundles Listing
Message-ID: <1cec5e40-e8cc-aac5-8437-97817f30e7aa@gmail.com>

Where do I find a listing of what packages are in which bundle?
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From rpspringuel at gmail.com  Thu Jul 21 15:17:21 2016
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Thu, 21 Jul 2016 09:17:21 -0400
Subject: [tex-live] Bundles Listing
In-Reply-To: <1cec5e40-e8cc-aac5-8437-97817f30e7aa@gmail.com>
References: <1cec5e40-e8cc-aac5-8437-97817f30e7aa@gmail.com>
Message-ID: <9c91871f-a3ee-b461-24fb-bda9b28d0a5b@gmail.com>

Found it: 
http://mirrors.concertpass.com/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb

The problem was I was searching for "bundles" when I should have been 
searching for "collections."
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From h8h at dev-nu11.de  Thu Jul 21 18:37:36 2016
From: h8h at dev-nu11.de (Chr1s)
Date: Thu, 21 Jul 2016 18:37:36 +0200
Subject: [tex-live] LaTeX array lists
Message-ID: <3f04ce67-bb54-783a-313d-26b5d011864a@dev-nu11.de>

Hi

Lets say I have a couple of cars which have a name, a color and a
picture. I've created a table showing the name, color and picture of a car.

I wrapped a command around it and the result:

\listcar{Name}{Color}{path to picture}

Then I want to create an overview containing the names and the color of
all cars included in the document.

I started with my own table/list of things using the package tocloft.

Then I want to customized the layout, I don't need the dots and the page
number.

But this seems very complicated. Is it possible to create an array /
list and add dynamically strings to it, similar to \addcontentsline?

My Goal is to add the Car name and color to a list / array and iterate
afterwards.

Thanks a million.

Cheers
Ch1rs




From karl at freefriends.org  Fri Jul 22 00:03:50 2016
From: karl at freefriends.org (Karl Berry)
Date: Thu, 21 Jul 2016 22:03:50 +0000
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160721043631.GL31503@logic.at>
Message-ID: <201607212203.u6LM3ooJ008066@freefriends.org>

Hi Werner - if I've understood halfway correctly, the important missing
piece is the texlive.tlpdb that corresponds to the historic/2016
tarballs.  That "final" tlpdb was always present in the .iso, but not
the tarballs, for no particular reason.

In hopes that it will help you somehow at this late date, I put it at
ftp://tug.org/historic/systems/texlive/2016/texlive-20160523-tlpdb.tar.gz.

Let me know if there is something else we can do.  -k

From zarniwhoop at ntlworld.com  Fri Jul 22 01:36:07 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Fri, 22 Jul 2016 00:36:07 +0100
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <201607212203.u6LM3ooJ008066@freefriends.org>
References: <20160721043631.GL31503@logic.at>
 <201607212203.u6LM3ooJ008066@freefriends.org>
Message-ID: <20160721233607.GA26765@milliways.localdomain>

On Thu, Jul 21, 2016 at 10:03:50PM +0000, Karl Berry wrote:
> Hi Werner - if I've understood halfway correctly, the important missing
> piece is the texlive.tlpdb that corresponds to the historic/2016
> tarballs.  That "final" tlpdb was always present in the .iso, but not
> the tarballs, for no particular reason.
> 
> In hopes that it will help you somehow at this late date, I put it at
> ftp://tug.org/historic/systems/texlive/2016/texlive-20160523-tlpdb.tar.gz.
> 
> Let me know if there is something else we can do.  -k

Oh wow, I've just spent some time trying to get tlmgr working on a
source install and as part of that I thought I managed to get a
suitable version of that file (I was wrong, mine was a little newer)
but having a tarball will anyway be much easier to use.

So, thanks for that (I've still got local problems, but hopefully
those will disappear if I swear enough ;-)

?en
-- 
`I shall take my mountains', said Lu-Tze. `The climate will be good
for them.'     -- Small Gods

From karl at freefriends.org  Sat Jul 23 00:56:51 2016
From: karl at freefriends.org (Karl Berry)
Date: Fri, 22 Jul 2016 22:56:51 +0000
Subject: [tex-live] TL2016: biber 2.4 does not work with biblatex 3.4
In-Reply-To: <20160721233607.GA26765@milliways.localdomain>
Message-ID: <201607222256.u6MMupAQ027269@freefriends.org>

    > ftp://tug.org/historic/systems/texlive/2016/texlive-20160523-tlpdb.tar.gz
    ...
    suitable version of that file (I was wrong, mine was a little newer)

I was wrong too.  Since I took the texlive.tlpdb I just posted in the
above from the .iso image made for the DVD, it lacks the "pruned"
platforms which we remove for DVD space reasons.  This year, that was
armel-linux, armhf-linux, and powerpc-linux.

Unfortunately, I failed to take a backup of the exact file before
pruning.  The best I have at hand is the texlive.tlpdb from the Master
tree which was the basis for it.  It has other differences, but it does
have all the platforms.

Thus, I rename the above to texlive-20160523-tlpdb-pruned.tar.gz
and added a second texlive-20160523-tlpdb-full.tar.gz with that file,
in case it helps.

If more is useful, I can look into whatever.  But not for a while: I'm
going to be away all of next week, at TUG'16.  I'll be back online next
weekend (July 30-31).

I'm not sure if anyone else will be in a position to do the usual
updates from CTAN.  If not, things will be quiescent until I get back.
Don't be alarmed :).  --karl

From benoit.rivet at free.fr  Sat Jul 23 21:40:06 2016
From: benoit.rivet at free.fr (=?iso-8859-1?q?Beno=EEt?= RIVET)
Date: Sat, 23 Jul 2016 21:40:06 +0200
Subject: [tex-live] Erors rebuilding format after updating TexLive 2016 with
 tlmgr
Message-ID: <BFC2B2A0-0440-4C0B-8491-75E46BA96BA5@free.fr>

I have errors rebuilding format after updating TexLive 2016 with the TexLive Utility program on Mac OS X. I have quite a few failure messages, such as :

> (/usr/local/texlive/2016/texmf-dist/tex/generic/hyph-utf8/patterns/tex/hyph-ka.tex
> ! Undefined control sequence.
> \utfthreeuniglyph ... \expandafter {\the \numexpr
> ...
> ...
> ...
> (That makes 100 errors please try again)
> fmtutil [ERROR]: running `pdftex -ini   -jobname=mllatex -progname=mllatex -translate-file=cp227.tcx -mltex mllatex.ini
> fmtutil [ERROR]: return error due to options --strict
> fmtutil [INFO]: Disabled formats: 17
> fmtutil [INFO]: Not selected formats: 51
> fmtutil [INFO]: Failed to build: 1 (pdftex/mllatex)
> fmtutil [INFO]: Total formats: 69
> fmtutil [INFO]: exiting with status 1

This happens for several formats : for example I read in the logs :

> fmtutil [INFO]: Failed to build: 1 (xetex/cont-en)
> fmtutil [INFO]: Failed to build: 1 (pdftex/jadetex)
> fmtutil [INFO]: Failed to build: 1 (pdftex/mllatex)
> fmtutil [INFO]: Failed to build: 1 (pdftex/pdfxmltex)
> fmtutil [INFO]: Failed to build: 1 (pdftex/pdfjadetex)
> fmtutil [INFO]: Failed to build: 1 (pdftex/xmltex)

These errors have proven harmless for me, since I only use lualatex and pdflatex; both of which seem to work without problem despite the above mentioned errors.

I reinstalled MacTex 2016 from scratch, and the same errors happens when trying to update with TexLive Utility. However,  I spotted in the logs the following message :

> fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence order):
> fmtutil:   /usr/local/texlive/texmf-local/web2c/fmtutil.cnf
> fmtutil:   /usr/local/texlive/2016/texmf-dist/web2c/fmtutil.cnf

which make me wonder whether the texmf-local/web2c/files may be conflicting with TexLive 2016 : they seem to have been created 9 years ago (2007) and never changed since (with the exception of updmap.cfg). I assume I can safely remove all the files in texmf-local.web2c (keeping only updmap.cfg) and let tlmgr rebuild the formats when needed.

This bug may of course be specific to Mac OS X (and/or due to the fact that I?ve been using TexLive for more than 9 years), but since it is my understanding that TexLive Utility is only a nice gui built on top of tlmgr on MacOS X, I guess that this may be relevant in other contexts as well. I must add that I do not remember stumbling upon a similar bug since I am using the TexLive Utillity (eg since 2008?).

I wish to thank all the people working hard to provide us this wonderful piece of software which I?m using on a daily basis and which has always proven reliable and to all the people on this list who have always been very helpful,

Beno?t RIVET

PS: I could not find the mllatex log (and other .log files) corresponding to the unsuccessful format rebuild; however, I?ve been able to reconstruct these log file from ~/Library/Application Support/Tex Live Utility/Log Messages.plist (which is an xml file logging every step of every action made with Tex Live Utility). This is available on https://www.dropbox.com/s/9wcqxltnkmsiq4s/TexLiveUtility.log?dl=0

From preining at logic.at  Mon Jul 25 05:30:11 2016
From: preining at logic.at (Norbert Preining)
Date: Mon, 25 Jul 2016 12:30:11 +0900
Subject: [tex-live] Erors rebuilding format after updating TexLive 2016
 with tlmgr
In-Reply-To: <BFC2B2A0-0440-4C0B-8491-75E46BA96BA5@free.fr>
References: <BFC2B2A0-0440-4C0B-8491-75E46BA96BA5@free.fr>
Message-ID: <20160725033011.GB11505@logic.at>

Hi Beno?t,

> > (/usr/local/texlive/2016/texmf-dist/tex/generic/hyph-utf8/patterns/tex/hyph-ka.tex

I don't see these errors with texlive full installed.

> > fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence order):
> > fmtutil:   /usr/local/texlive/texmf-local/web2c/fmtutil.cnf
> > fmtutil:   /usr/local/texlive/2016/texmf-dist/web2c/fmtutil.cnf

What do you have in texmf-local/web2c/fmtutil.cnf? Do you really
need new/changed formats?

I strngly suggest backing up and removing this file, and then run
	sudo fmtutil-sys --all

> which make me wonder whether the texmf-local/web2c/files may be conflicting with TexLive 2016 : they seem to have been created 9 years ago (2007) and never changed since (with the exception of updmap.cfg). I assume I can safely remove all the files in texmf-local.web2c (keeping only updmap.cfg) and let tlmgr rebuild the formats when needed.

Yes, that is rather a good idea!

If you still have problemss afterwards, let us know.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From benoit.rivet at free.fr  Mon Jul 25 11:58:54 2016
From: benoit.rivet at free.fr (=?iso-8859-1?q?Beno=EEt?= RIVET)
Date: Mon, 25 Jul 2016 11:58:54 +0200
Subject: [tex-live] Erors rebuilding format after updating TexLive 2016
 with tlmgr
In-Reply-To: <20160725033011.GB11505@logic.at>
References: <BFC2B2A0-0440-4C0B-8491-75E46BA96BA5@free.fr>
 <20160725033011.GB11505@logic.at>
Message-ID: <DC546E51-71B5-42F6-80BE-A1E31E5020F9@free.fr>

Hi Norbert,

>>> (/usr/local/texlive/2016/texmf-dist/tex/generic/hyph-utf8/patterns/tex/hyph-ka.tex
> 
> I don't see these errors with texlive full installed.
> 
>>> fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence order):
>>> fmtutil:   /usr/local/texlive/texmf-local/web2c/fmtutil.cnf
>>> fmtutil:   /usr/local/texlive/2016/texmf-dist/web2c/fmtutil.cnf
> 
> What do you have in texmf-local/web2c/fmtutil.cnf? Do you really
> need new/changed formats?

I don?t need new/changed format. As a matter of fact, I don't remember ever creating or editing any file in /usr/local/texlive/texmf-local/web2c/ (with the exception of updmap.cfg)

Since mllatex fails, I searched for mllatex and spotted one difference between the fmtutil.cnf files. The line (in texmf-dist) :

> mllatex pdftex language.dat -translate-file=cp227.tcx -mltex *mllatex.ini

reads in texmf-local (note the missing *?) :

> mllatex		pdftex	language.dat	-translate-file=cp227.tcx -mltex mllatex.ini

Could this missing * cause the compilation failure ?

The fmtutil.cnf file is available on https://www.dropbox.com/s/duzfowiedf84bh3/fmtutil.cnf?dl=0 if you want to investigate the matter further. Note that this is an old version of fmtutil.cnf : luatex doesn?t exist. According to my computer, this file dates back to 2007 and has never been changed since. I guess it was installed with MacTex 2007 (which must be the first version of MacTex I installed after Gerben Wierda dropped support of gwTex in 2007).

> I strongly suggest backing up and removing this file, and then run
> 	sudo fmtutil-sys ?all

After trashing the /texmf-local files (keeping only updmap.cfg), invoking fmtutil-sys runs without error.

I really appreciate that you took time to investigate my question : many thanks again.

Beno?t RIVET

From d.p.carlisle at gmail.com  Mon Jul 25 12:06:21 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 25 Jul 2016 11:06:21 +0100
Subject: [tex-live] Erors rebuilding format after updating TexLive 2016
 with tlmgr
In-Reply-To: <DC546E51-71B5-42F6-80BE-A1E31E5020F9@free.fr>
References: <BFC2B2A0-0440-4C0B-8491-75E46BA96BA5@free.fr>
 <20160725033011.GB11505@logic.at>
 <DC546E51-71B5-42F6-80BE-A1E31E5020F9@free.fr>
Message-ID: <CAEW6iOgkuNrsVzE97tcWGJ1qAspkZ+HVYiZ+ZH_ZChPgKZ6pGw@mail.gmail.com>

> Could this missing * cause the compilation failure ?

probably yes, prefixing a format name with * was the old way of
selecting etex extensions, before the -etex option was added. Your
error message that \numexpr is not defined shows that is the
underlying problem, that you are building a classic tex format, not
one with etex extensions.

David

From ml at mariochiari.net  Wed Jul 27 17:35:01 2016
From: ml at mariochiari.net (mario chiari)
Date: Wed, 27 Jul 2016 17:35:01 +0200
Subject: [tex-live] cyrillic vs urls
In-Reply-To: <CAC1phyb6M8Rg7NQ4Ucy8mms9TZPxgPUEVcVbc4-0_cT9FRQj5Q@mail.gmail.com>
References: <1468850016.3294.9.camel@mariochiari.net>
 <CAC1phyb6M8Rg7NQ4Ucy8mms9TZPxgPUEVcVbc4-0_cT9FRQj5Q@mail.gmail.com>
Message-ID: <1469633701.5228.16.camel@mariochiari.net>

On Mon, 2016-07-18 at 15:59 +0200, Zdenek Wagner wrote:
> It does not work this way, URL must be URL-encoded, see e.g. urlencode
> function from PHP:
> http://php.net/manual/en/function.urlencode.php
> 
> So the answer is, you must express it with human unreadable form
> containing % and hexadecima numbers. Modenr browsers often display it
> URL-decoded in the URL bar, but if you copy&paste it to a text editor,
> you can see the URL-encoded form.
> 
> 
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
> 

Yes, Thanks!
(and indeed if I cut&paste a URL from Firefox, I get the encoded string for
free, nice!)


Consider the following (and see my MWE below)

{\breakhref{https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BD%D1%83%D0%B8%D0%BB%D
1%8C%D1%81%D0%BA%D0%B8%D0%B9,_%D0%94%D0%BC%D0%B8%D1%82%D1%80%D0%B8%D0%B9_%D0%97%
D0%B0%D1%85%D0%B0%D1%80%D0%BE%D0%B2%D0%B8%D1%87}{https://ru.wikipedia.org/wiki/}
}?

In the final .pdf output, link ?connects to target url fine; ?however, I am not
able to display a complete link. Neither with encoded string into the second
argument of \breakhref, neither if I try something like:?


{\breakhref{https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BD%D1%83%D0%B8%D0%BB%D
1%8C%D1%81%D0%BA%D0%B8%D0%B9,_%D0%94%D0%BC%D0%B8%D1%82%D1%80%D0%B8%D0%B9_%D0%97%
D0%B0%D1%85%D0%B0%D1%80%D0%BE%D0%B2%D0%B8%D1%87}{https://ru.wikipedia.org/wiki/\
textcyrillic{???????????,_???????_?????????}}?	

latter gives me ?a number of errors:
line 109: Package inputenc Error: Unicode char ?\@inpenc at undefined@
(U+75B)(inputenc) not set up for use with LaTeX. ...??, ??????? ?????????}}
line 109: Argument of \textcyrillic has an extra }. ...??, ??????? ?????????}}
.....


Thanks for your help
mario


------------- my MWE?

\RequirePackage[hyphens]{url}
\documentclass[titlepage,a4paper,12pt]{article}
\usepackage{etex}

\usepackage[backend=biber,style=philosophy-modern,sorting=nyt]{biblatex}
\usepackage[T2A,T1]{fontenc}?
\usepackage[utf8]{inputenc}?

\usepackage{lmodern}?????????% Enable Latin Modern fonts
\usepackage[pdftex]{graphicx}

\usepackage[american,russian,italian]{babel}
\usepackage{tipa}
\usepackage[babel,italian=guillemets]{csquotes}

\usepackage[hyphens]{url}
\usepackage[colorlinks=true, citecolor=Blue]{hyperref}


\usepackage{soul}


\makeatletter
\newcommand*{\breakhref}{}
\DeclareRobustCommand*{\breakhref}{%
	\begingroup
	\hyper at normalise\breakhref@
}
\newcommand*{\breakhref@}[2]{%
	\endgroup
	\SOUL at setup
	\def\SOUL at everyspace##1{%
		##1%
		\dimen@=\fontdimen2\font
		\advance\dimen@ by \fontdimen3\font
		\cleaders\hbox to \dimen@{%
			\hss
			\href{#1}{\ \vphantom{#2}}%
			\hss
		}\hskip\dimen@\relax
		\hspace{-\fontdimen3\font
			plus \fontdimen3\font minus \fontdimen3\font}%
	}%
	\def\SOUL at everysyllable{%
		\href{#1}{\the\SOUL at syllable\vphantom{#2}}%
	}%
	\def\SOUL at everyhyphen{%
		\discretionary{-}{}{}%
	}%
	\def\SOUL at everyexhyphen##1{%
		\SOUL at setkern\SOUL at hyphkern
		\href{#1}{##1\vphantom{#2}}%
		\discretionary{}{}{%
			\SOUL at setkern\SOUL at charkern
		}%
	}%
	\SOUL@{#2}%
}

\newcommand\cyrillic{%
	\renewcommand\rmdefault{wncyr}%
	\renewcommand\sfdefault{wncyss}%
	\renewcommand\encodingdefault{T2A}%
	\normalfont
	\selectfont}
\DeclareTextFontCommand{\textcyrillic}{\cyrillic}?
\makeatother
\begin{document}
	
\noindent {\breakhref{https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BD%D1%83%D0%
B8%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B9,_%D0%94%D0%BC%D0%B8%D1%82%D1%80%D0%B8%D0%
B9_%D0%97%D0%B0%D1%85%D0%B0%D1%80%D0%BE%D0%B2%D0%B8%D1%87}{https://ru.wikipedia.
org/wiki/}}?
\newline
\textcyrillic{???????????, ??????? ?????????}	
\end{document}

> 
> 2016-07-18 15:53 GMT+02:00 mario chiari <ml at mariochiari.net>:
> > 
> > Hi
> > 
> > please
> > 
> > http://tex.stackexchange.com/questions/319900/cyrillic-and-urls
> > 
> > http://tex.stackexchange.com/questions/192701/cyrillic-and-breakhref-how-do-
> > i-de
> > fine
> > 
> > for me, it is a old, unresolved issue
> > help is welcome
> > thanks, cheers
> > mario
> > 
> > ps if you know of a apter ml to ask this question, please let me know.

From vivrii at gmail.com  Wed Jul 27 18:10:11 2016
From: vivrii at gmail.com (Victor Ivrii)
Date: Wed, 27 Jul 2016 12:10:11 -0400
Subject: [tex-live] cyrillic vs urls
In-Reply-To: <1469633701.5228.16.camel@mariochiari.net>
References: <1468850016.3294.9.camel@mariochiari.net>
 <CAC1phyb6M8Rg7NQ4Ucy8mms9TZPxgPUEVcVbc4-0_cT9FRQj5Q@mail.gmail.com>
 <1469633701.5228.16.camel@mariochiari.net>
Message-ID: <CADP=ZZp0KDesS3QPeVmJGQ-MBMkgN9ZgJHKODy5qb32pU-_6wA@mail.gmail.com>

\textcyrillic{???????????,_???????_?????????}

replace by


\textcyrillic{???????????,\_???????\_?????????}

-- 

Victor Ivrii
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160727/fe6e3823/attachment.html>

From ml at mariochiari.net  Wed Jul 27 18:44:32 2016
From: ml at mariochiari.net (mario chiari)
Date: Wed, 27 Jul 2016 18:44:32 +0200
Subject: [tex-live] cyrillic vs urls
In-Reply-To: <CADP=ZZp0KDesS3QPeVmJGQ-MBMkgN9ZgJHKODy5qb32pU-_6wA@mail.gmail.com>
References: <1468850016.3294.9.camel@mariochiari.net>
 <CAC1phyb6M8Rg7NQ4Ucy8mms9TZPxgPUEVcVbc4-0_cT9FRQj5Q@mail.gmail.com>
 <1469633701.5228.16.camel@mariochiari.net>
 <CADP=ZZp0KDesS3QPeVmJGQ-MBMkgN9ZgJHKODy5qb32pU-_6wA@mail.gmail.com>
Message-ID: <1469637872.5228.22.camel@mariochiari.net>

On Wed, 2016-07-27 at 12:10 -0400, Victor Ivrii wrote:
> \textcyrillic{???????????,_???????_?????????}
> 
> replace by
> 
> 
> \textcyrillic{???????????,\_???????\_?????????}
> 
> --?
> 
> Victor Ivrii

thanks, but nope

line 109: Package inputenc Error: Unicode char ?\@inpenc at undefined@
(U+75B)(inputenc) not set up for use with LaTeX. ...?,\_???????\_?????????}}
line 109: Argument of \textcyrillic has an extra }. ...?,\_???????\_?????????}}
line 109: Paragraph ended before \textcyrillic was complete.
...?,\_???????\_?????????}}
....


does it work over there?
thks mario

LAST MINUTE UPDATE!!!! ?I need to enclose within {}?

{\breakhref{https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%BD%D1%83%D0%B8%D0%BB%D
1%8C%D1%81%D0%BA%D0%B8%D0%B9,_%D0%94%D0%BC%D0%B8%D1%82%D1%80%D0%B8%D0%B9_%D0%97%
D0%B0%D1%85%D0%B0%D1%80%D0%BE%D0%B2%D0%B8%D1%87}{https://ru.wikipedia.org/wiki/{
\textcyrillic{???????????,\_???????\_?????????}}}}

GOOD, thanks so much! Cheers

From mac.perryman at gmail.com  Fri Jul 29 10:13:27 2016
From: mac.perryman at gmail.com (Michael Perryman)
Date: Fri, 29 Jul 2016 09:13:27 +0100
Subject: [tex-live] Error: Sorry---you've exceeded BibTeX's hash size 35307,
 Aborted at line xxx of file xxx
Message-ID: <d29bc95a-5a9b-4c46-353f-c897f25cb16e@gmail.com>



I get the above error when running BibTex (v0.99d, TexLive 2015). I am 
using TexShop v3.65 on Mac10.11.6

I have a .bib file with 13,000 entries (200,000 lines), and a Latex 
master file with various include files.

Various combinations run without problems (and I have been using a 
similar system for several years). The error occurs for the largest set 
of citation entries, but not for any specific include file. After 
careful checking, I am excluding the (standard) problems of unmatched 
braces, parentheses, mathmode ($) or similar.

The "abort" message occurs at different line numbers in the .bib file 
according to the set of include files used, again suggesting that it is 
not due to unmatched terms.

I conclude that it is some real "hash" size limit, but my technical 
competence does not allow me to investigate further (or modify system 
files).

Any assistance greatly appreciated.

regards


From juanuni at gmail.com  Fri Jul 29 22:00:52 2016
From: juanuni at gmail.com (JUAN QUISPE)
Date: Fri, 29 Jul 2016 15:00:52 -0500
Subject: [tex-live] TeXLive 2016 installed but problems with running
 pdflatex and any related command
Message-ID: <CAC48M0fXd+u0bVF+i86cQYUPna4a087U_7DxThY7BqeTR=My2Q@mail.gmail.com>

Hello. I installed (that I think) TeXLive 2016 following
https://www.tug.org/texlive/acquire-mirror.html and
https://www.tug.org/texlive/quickinstall.html (with any difference to run
the install-tl script, see below) due problems with my internet conection.

However, I have a problem. When I run pdflatex in the terminal it
appears as not
installed.

At https://www.tug.org/texlive/quickinstall.html appears a section named
"Running the installer". The steps was followed normally. Im not an expert
user and I suspect that I have not completed the installation. I do not
really understand the purpose of the "Choosing a host download" section. It
is necessary?


Moreover, reviewing the section called "Finalising the installation" in
http://tex.stackexchange.com/a/95373/14423, I see that I have everything in
order.

I have also reviewed the "Loosely related notes" on
http://tex.stackexchange.com/a/187379/14423. Does this also influence?.
I'm using Ubuntu minimal 14.04.4

I suspect that I have a problem with the PATH. In my case I have TeXLive in
/usr/local.

Finally, I discovered that I have the executable in
/usr/local/texlive/2016/bin/i386-linux. I suspect this is related and
should make a change, but I'm not so sure how.

With what I have outlined can give me some suggestion to solve my problem?

P.D .: In my case, running the install-tl scrip was different. I had to
write perl install-tl instead of ./install-tl. Perhaps other people have
this difficulty reading https://www.tug.org/texlive/quickinstall.html


Excuse my English. Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/tex-live/attachments/20160729/c8a1208f/attachment-0001.html>

From zarniwhoop at ntlworld.com  Sat Jul 30 01:44:42 2016
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sat, 30 Jul 2016 00:44:42 +0100
Subject: [tex-live] TeXLive 2016 installed but problems with running
 pdflatex and any related command
In-Reply-To: <CAC48M0fXd+u0bVF+i86cQYUPna4a087U_7DxThY7BqeTR=My2Q@mail.gmail.com>
References: <CAC48M0fXd+u0bVF+i86cQYUPna4a087U_7DxThY7BqeTR=My2Q@mail.gmail.com>
Message-ID: <20160729234442.GA24753@milliways.localdomain>

On Fri, Jul 29, 2016 at 03:00:52PM -0500, JUAN QUISPE wrote:
> Hello. I installed (that I think) TeXLive 2016 following
> https://www.tug.org/texlive/acquire-mirror.html and
> https://www.tug.org/texlive/quickinstall.html (with any difference to run
> the install-tl script, see below) due problems with my internet conection.
> 
> However, I have a problem. When I run pdflatex in the terminal it
> appears as not
> installed.
> 
[...]
> 
> I suspect that I have a problem with the PATH. In my case I have TeXLive in
> /usr/local.
> 
> Finally, I discovered that I have the executable in
> /usr/local/texlive/2016/bin/i386-linux. I suspect this is related and
> should make a change, but I'm not so sure how.
> 
> With what I have outlined can give me some suggestion to solve my problem?
> 

On a system which has never before had TeX installed, that directory
will not be in the PATH.  Try
export PATH="$PATH:/usr/local/texlive/2016/bin/i386-linux"

If your shell is bash, put that in ~/.bashrc (and remember to change
it when you upgrade to 2017 next year ;-).

If your shell is NOT bash, perhaps you can set the PATH in
~/.profile.  Or maybe ubuntu will source that in ~/.bashrc.

> P.D .: In my case, running the install-tl scrip was different. I had to
> write perl install-tl instead of ./install-tl. Perhaps other people have
> this difficulty reading https://www.tug.org/texlive/quickinstall.html
> 

I've not heard of that problem, perhaps you downloaded it to a
filesystem mounted with 'noexec' in its options.  Check where you
downloaded it to, then run 'mount' and check what it tells you.

?en
-- 
`I shall take my mountains', said Lu-Tze. `The climate will be good
for them.'     -- Small Gods

From komascript at gmx.info  Sat Jul 30 09:26:52 2016
From: komascript at gmx.info (Markus Kohm)
Date: Sat, 30 Jul 2016 09:26:52 +0200
Subject: [tex-live] Error: Sorry---you've exceeded BibTeX's hash size
 35307, Aborted at line xxx of file xxx
In-Reply-To: <d29bc95a-5a9b-4c46-353f-c897f25cb16e@gmail.com>
References: <d29bc95a-5a9b-4c46-353f-c897f25cb16e@gmail.com>
Message-ID: <2806269.3Al1uScoM7@x61s.fritz.box>

Am Freitag, 29. Juli 2016, 09:13:27 schrieb Michael Perryman:
> I have a .bib file with 13,000 entries (200,000 lines), and a Latex 
> master file with various include files.

This is not a TeX Live question but a general (Bib)TeX question. So you should 
ask at a general TeX mailing list like TeX-L or TeX forum like 
tex.stackexchange.com.

Nevertheless: BibTeX has static array limits. You could try bibtex8 with 
option --wolfgang (no, this is not a joke) or with option --mstring 50000. I 
would recommend to switch zu biblatex + biber, because biber does not have 
such limits. For more information please ask somewhere else (see above).
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 181 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/tex-live/attachments/20160730/7e127662/attachment.bin>

From karl at freefriends.org  Sun Jul 31 01:32:47 2016
From: karl at freefriends.org (Karl Berry)
Date: Sat, 30 Jul 2016 23:32:47 +0000
Subject: [tex-live] Error: Sorry---you've exceeded BibTeX's hash size
 35307, Aborted at line xxx of file xxx
In-Reply-To: <d29bc95a-5a9b-4c46-353f-c897f25cb16e@gmail.com>
Message-ID: <201607302332.u6UNWl4B014881@freefriends.org>

    exceeded BibTeX's hash size 35307

Try setting the environment variable max_strings_bibtex to a
sufficiently large prime number, e.g., 99109.  As in
  max_strings_bibtex=99109; export max_strings_bibtex

(Could also be done in a local texmf.cnf file but I surmised the envvar
method will be easier in your situation.)

This is off the top of my head, I can't test right now.
If still no good, just write back ... hope it flies.  --karl

