From siepo at bitmuis.nl  Tue Feb  2 21:47:40 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Tue, 2 Feb 2021 21:47:40 +0100
Subject: Tcl/Tk on MacOS Big Sur
Message-ID: <YBm6bNghb2IAdQmh@bitmuis.nl>

Tcl/Tk, or wish, works once again on Big Sur 11.2, at least on my
system.

-- 
Siep Kroonenberg

From koch at uoregon.edu  Wed Feb  3 00:41:18 2021
From: koch at uoregon.edu (Richard Koch)
Date: Tue, 2 Feb 2021 23:41:18 +0000
Subject: Tcl/Tk on MacOS Big Sur
Message-ID: <3AA15450-01EC-4A67-A8F2-6846A066E249@uoregon.edu>

Siep,

Yes indeed, Wish works. 

I asked Karl to make text mode the default in install-tl on Macs. I'll
write him again and reverse my request. Thanks for the report!

Richard Koch


From norbert at preining.info  Thu Feb  4 22:21:29 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 5 Feb 2021 06:21:29 +0900
Subject: Very recent breakage luatex85.sty and cmap.sty
Message-ID: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>

Dear all,

one of the updates that came into TeX Live between
	13 January and 2 February
has broken Sphinx document building with lualatex.

Minimal example file is:
	\RequirePackage{luatex85}
	\documentclass{report}
	\usepackage{cmap} 
	\begin{document}
	  \begin{tabular}{c}
	    Hello
	  \end{tabular}
	\end{document}

Note that the luatex85, cmap, **and** the tabular is necessary.

The error is
	(/home/norbert/tl/2020/texmf-dist/tex/latex/base/ts1cmr.fd)<<ot1.cmap>>
	! Undefined control sequence.
	reserved at a ...ng endcsname {pdfnobuiltintounicode 
	                                                  noexpand font at name noexpan...
	
	l.5   \begin{tabular}
	                   {c}
	? 

I have seen the same with <<oms.cmap>> depending on font setup

Is this intended, and if not, how can it be fixed?

Thanks

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From tex at 2krueger.de  Thu Feb  4 22:55:56 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Thu, 4 Feb 2021 22:55:56 +0100
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
Message-ID: <20210204215556.uce7agdmrw5ecbh5@yoga>

On Fri, Feb 05, 2021 at 06:21:29AM +0900, Norbert Preining wrote:
> Note that the luatex85, cmap, **and** the tabular is necessary.
> 
> The error is
> 	(/home/norbert/tl/2020/texmf-dist/tex/latex/base/ts1cmr.fd)<<ot1.cmap>>
> 	! Undefined control sequence.
> 	reserved at a ...ng endcsname {pdfnobuiltintounicode 
> 	                                                  noexpand font at name noexpan...
> 	
> 	l.5   \begin{tabular}
> 	                   {c}
> 	? 
> 
> I have seen the same with <<oms.cmap>> depending on font setup
> 
> Is this intended, and if not, how can it be fixed?

Hi Norbert,

sorry about that. I didn't consider that anyone would use cmap with
LuaTeX (I missed that luatex85 allows it to be compatible...)

Could you please test the attached version of cmap.sty before I upload
it?

Thanks,
Marcel

> 
> Thanks
> 
> Norbert
> 
> --
> PREINING Norbert                              https://www.preining.info
> Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> _______________________________________________
> Latex-team mailing list
> Latex-team at latex-project.org
> https://lists.dante.de/mailman/listinfo/latex-team
-------------- next part --------------
% Copyright (c) 2003-2021 Vladimir Volovich <vvv at vsu.ru>
% cmap package -- download CMap files into PDF
%   to make "search" and "copy-and-paste" functions work properly
% You may distribute and/or modify this program under the terms of LPPL
% the program consists of cmap.sty and {t1,t2a,t2b,t2c,t5,ot1,ot1tt,lae,lfe}.cmap
% Usage: put \usepackage{cmap} immediately after the \documentclass line
% Thanks to:
%   Han The Thanh
%   Maxim I. Tishin
%   Petr Sojka
%   Werner Lemberg
%   Oleg Katsitadze

\ProvidesPackage{cmap}[2021/02/04 v1.0j CMap support: searchable PDF]

\DeclareOption{resetfonts}{%
  \@for\reserved at a:=%
    OT1/cmr/m/n/5,OT1/cmr/m/n/7,OT1/cmr/m/n/10,%
    OML/cmm/m/it/5,OML/cmm/m/it/7,OML/cmm/m/it/10,%
    OMS/cmsy/m/n/5,OMS/cmsy/m/n/7,OMS/cmsy/m/n/10,%
    OMX/cmex/m/n/10%
  \do{%
    \expandafter\let\csname\reserved at a\endcsname\relax
  }%
}
\ProcessOptions

\@ifundefined{pdffontattr}{%
% The cmap package can be used only with pdflatex,
% but not with ordinary latex
  \PackageWarningNoLine{cmap}{pdftex not detected - exiting}%
  \endinput
}\relax
\ifnum\pdfoutput<1
  \PackageWarningNoLine{cmap}{pdftex in DVI mode - exiting}
  \expandafter\endinput
\fi

\edef\reserved at a{\noexpand\in@{,fontenc.sty,}{\@filelist}}% enc.def
\reserved at a
\ifin@
\PackageWarningNoLine{cmap}{fontenc already loaded - some fonts may be unprocessed}
\fi
%\@ifpackageloaded{babel}{%
%\PackageWarningNoLine{cmap}{babel already loaded - some fonts may be unprocessed}%
%}\relax

\ifx\pdfnobuiltintounicode\@undefined
  \ifx\pdfgentounicode\@undefined\else
    \pdfgentounicode=0
  \fi
  \def\cmap at nobuiltintounicode{%
    \expandafter\@gobble\the
  }
\else
  \let\cmap at nobuiltintounicode\pdfnobuiltintounicode
\fi

\def\extract at font{%
  \get at external@font
  \global\expandafter\font\font at name\external at font\relax
  \font at name\relax
  \cmap at hook
  \csname\f at encoding+\f at family\endcsname
  \csname\curr at fontshape\endcsname
  \relax
}
\def\cmap at load{%
  \edef\reserved at f{\lowercase{\def\noexpand\reserved at f{\cmap at f@encoding.cmap}}}%
  \reserved at f
  \IfFileExists{\reserved at f}{%
    \immediate\pdfobj stream
      %attr {/Type /CIDFile}
      file {\reserved at f}%
    \expandafter\xdef\csname cmap at set@\cmap at f@encoding\endcsname{%
      \cmap at nobuiltintounicode\noexpand\font at name
      \noexpand\expandafter\pdffontattr\noexpand\font at name{/ToUnicode \the\pdflastobj\space 0 R}}%
  }{%
    \global\expandafter\let\csname cmap at set@\cmap at f@encoding\endcsname\empty
  }%
}
\def\cmap at test@tt{%
  \ifdim\fontdimen3\font at name=\z@
    \ifdim\fontdimen4\font at name=\z@
      \begingroup
        \ifdim\fontcharwd\font at name`\i=\fontcharwd\font at name`\w
          \edef\reserved at f{\lowercase{\def\noexpand\reserved at f{\cmap at f@encoding tt.cmap}}}%
          \reserved at f
          \IfFileExists{\reserved at f}{\xdef\cmap at f@encoding{\cmap at f@encoding tt}}\relax
        \fi
      \endgroup
    \fi
  \fi
}
\def\cmap at hook{%
  \@ifundefined{CJK at plane}{%
    \edef\cmap at f@encoding{\f at encoding}%
  }{%
    \edef\cmap at f@encoding{\f at encoding\CJK at plane}%
  }%
  \cmap at test@tt
  \@ifundefined{cmap at set@\cmap at f@encoding}{\cmap at load}\relax
  \csname cmap at set@\cmap at f@encoding\endcsname
}

\endinput

From norbert at preining.info  Thu Feb  4 22:59:08 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 5 Feb 2021 06:59:08 +0900
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <20210204215556.uce7agdmrw5ecbh5@yoga>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
Message-ID: <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>

> Could you please test the attached version of cmap.sty before I upload

(/usr/share/texlive/texmf-dist/tex/latex/base/ts1cmr.fd)<<ot1.cmap>>
! You can't use `[unknown command code! (0, 1)]' after \the.
<recently read> notexpanded: font at name

l.5           \begin{tabular}
                           {c}
? X

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From tex at 2krueger.de  Thu Feb  4 23:11:45 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Thu, 4 Feb 2021 23:11:45 +0100
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
Message-ID: <20210204221145.x7wafvqnvgom7gst@yoga>

Forgot a \protected (and tested it without uncommenting the cmap
package...). Please try again with the attached version.

On Fri, Feb 05, 2021 at 06:59:08AM +0900, Norbert Preining wrote:
> > Could you please test the attached version of cmap.sty before I upload
> 
> (/usr/share/texlive/texmf-dist/tex/latex/base/ts1cmr.fd)<<ot1.cmap>>
> ! You can't use `[unknown command code! (0, 1)]' after \the.
> <recently read> notexpanded: font at name
> 
> l.5           \begin{tabular}
>                            {c}
> ? X
> 
> Norbert
> 
> --
> PREINING Norbert                              https://www.preining.info
> Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> _______________________________________________
> Latex-team mailing list
> Latex-team at latex-project.org
> https://lists.dante.de/mailman/listinfo/latex-team
-------------- next part --------------
% Copyright (c) 2003-2021 Vladimir Volovich <vvv at vsu.ru>
% cmap package -- download CMap files into PDF
%   to make "search" and "copy-and-paste" functions work properly
% You may distribute and/or modify this program under the terms of LPPL
% the program consists of cmap.sty and {t1,t2a,t2b,t2c,t5,ot1,ot1tt,lae,lfe}.cmap
% Usage: put \usepackage{cmap} immediately after the \documentclass line
% Thanks to:
%   Han The Thanh
%   Maxim I. Tishin
%   Petr Sojka
%   Werner Lemberg
%   Oleg Katsitadze

\ProvidesPackage{cmap}[2021/02/04 v1.0j CMap support: searchable PDF]

\DeclareOption{resetfonts}{%
  \@for\reserved at a:=%
    OT1/cmr/m/n/5,OT1/cmr/m/n/7,OT1/cmr/m/n/10,%
    OML/cmm/m/it/5,OML/cmm/m/it/7,OML/cmm/m/it/10,%
    OMS/cmsy/m/n/5,OMS/cmsy/m/n/7,OMS/cmsy/m/n/10,%
    OMX/cmex/m/n/10%
  \do{%
    \expandafter\let\csname\reserved at a\endcsname\relax
  }%
}
\ProcessOptions

\@ifundefined{pdffontattr}{%
% The cmap package can be used only with pdflatex,
% but not with ordinary latex
  \PackageWarningNoLine{cmap}{pdftex not detected - exiting}%
  \endinput
}\relax
\ifnum\pdfoutput<1
  \PackageWarningNoLine{cmap}{pdftex in DVI mode - exiting}
  \expandafter\endinput
\fi

\edef\reserved at a{\noexpand\in@{,fontenc.sty,}{\@filelist}}% enc.def
\reserved at a
\ifin@
\PackageWarningNoLine{cmap}{fontenc already loaded - some fonts may be unprocessed}
\fi
%\@ifpackageloaded{babel}{%
%\PackageWarningNoLine{cmap}{babel already loaded - some fonts may be unprocessed}%
%}\relax

\@ifundefined{pdfnobuiltintounicode}{%
  \@ifundefined{pdfgentounicode}\relax{
    \pdfgentounicode=0
  }%
  \protected\def\cmap at nobuiltintounicode{%
    \expandafter\@gobble\the
  }%
}{%
  \let\cmap at nobuiltintounicode\pdfnobuiltintounicode
}

\def\extract at font{%
  \get at external@font
  \global\expandafter\font\font at name\external at font\relax
  \font at name\relax
  \cmap at hook
  \csname\f at encoding+\f at family\endcsname
  \csname\curr at fontshape\endcsname
  \relax
}
\def\cmap at load{%
  \edef\reserved at f{\lowercase{\def\noexpand\reserved at f{\cmap at f@encoding.cmap}}}%
  \reserved at f
  \IfFileExists{\reserved at f}{%
    \immediate\pdfobj stream
      %attr {/Type /CIDFile}
      file {\reserved at f}%
    \expandafter\xdef\csname cmap at set@\cmap at f@encoding\endcsname{%
      \cmap at nobuiltintounicode\noexpand\font at name
      \noexpand\expandafter\pdffontattr\noexpand\font at name{/ToUnicode \the\pdflastobj\space 0 R}}%
  }{%
    \global\expandafter\let\csname cmap at set@\cmap at f@encoding\endcsname\empty
  }%
}
\def\cmap at test@tt{%
  \ifdim\fontdimen3\font at name=\z@
    \ifdim\fontdimen4\font at name=\z@
      \begingroup
        \ifdim\fontcharwd\font at name`\i=\fontcharwd\font at name`\w
          \edef\reserved at f{\lowercase{\def\noexpand\reserved at f{\cmap at f@encoding tt.cmap}}}%
          \reserved at f
          \IfFileExists{\reserved at f}{\xdef\cmap at f@encoding{\cmap at f@encoding tt}}\relax
        \fi
      \endgroup
    \fi
  \fi
}
\def\cmap at hook{%
  \@ifundefined{CJK at plane}{%
    \edef\cmap at f@encoding{\f at encoding}%
  }{%
    \edef\cmap at f@encoding{\f at encoding\CJK at plane}%
  }%
  \cmap at test@tt
  \@ifundefined{cmap at set@\cmap at f@encoding}{\cmap at load}\relax
  \csname cmap at set@\cmap at f@encoding\endcsname
}

\endinput

From norbert at preining.info  Thu Feb  4 23:28:37 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 5 Feb 2021 07:28:37 +0900
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <20210204221145.x7wafvqnvgom7gst@yoga>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
Message-ID: <YBx1Fd/gn40ZrXAZ@bulldog.preining.info>

On Thu, 04 Feb 2021, Marcel Fabian Kr?ger wrote:
> package...). Please try again with the attached version.

That one worked, thanks a lot.

I will give it also a try on the full Python Sphinx build just to be
sure, but the error is gone I guess.

Thanks again.

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Fri Feb  5 10:17:09 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 5 Feb 2021 10:17:09 +0100
Subject: Very recent breakage luatex85.sty and cmap.sty
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
Message-ID: <2z0rcud0ul73.dlg@nililand.de>

Am Thu, 4 Feb 2021 23:11:45 +0100 schrieb Marcel Fabian Kr?ger:

> Forgot a \protected (and tested it without uncommenting the cmap
> package...). Please try again with the attached version.

If cmap should work with luatex wouldn't it then be better to set it
up so that it doesn't require luatex85? 

Or if it should not work with luatex, to use a better test than
\@ifundefined{pdffontattr} and exist cleanly?

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From norbert at preining.info  Fri Feb  5 12:05:33 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 5 Feb 2021 20:05:33 +0900
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <2z0rcud0ul73.dlg@nililand.de>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de>
Message-ID: <YB0mfRq82W1UrMR4@burischnitzel.preining.info>

> If cmap should work with luatex wouldn't it then be better to set it
> up so that it doesn't require luatex85? 

?? cmap doesn't require luatex85. It is only **if** luatex85.sty is used
in combination with cmap, then it did break.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Fri Feb  5 12:18:29 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 5 Feb 2021 12:18:29 +0100
Subject: Very recent breakage luatex85.sty and cmap.sty
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga> <2z0rcud0ul73.dlg@nililand.de>
 <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
Message-ID: <54kisjqgu4o3$.dlg@nililand.de>

Am Fri, 5 Feb 2021 20:05:33 +0900 schrieb Norbert Preining:

>> If cmap should work with luatex wouldn't it then be better to set it
>> up so that it doesn't require luatex85? 
> 
> ?? cmap doesn't require luatex85.

Sure it does. Without luatex85 is simply quits and does nothing at
all:

Package cmap Warning: pdftex not detected - exiting.

With luatex85 it inserts cmaps into the pdf. You then see messages
like

<<ot1.cmap>><<oml.cmap>><<oms.cmap>><<omx.cmap>>

and the pdf contains e.g. 

%!PS-Adobe-3.0 Resource-CMap
%%DocumentNeededResources: ProcSet (CIDInit)
%%IncludeResource: ProcSet (CIDInit)
%%BeginResource: CMap (TeX-OT1-0)
%%Title: (TeX-OT1-0 TeX OT1 0)
%%Version: 1.000
%%EndComments
...

But the behaviour imho shouldn't depend on luatex85:

If you want the cmaps then it should do it also without luatex85,
and if you don't want them it should exist also with luatex85. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From tex at 2krueger.de  Fri Feb  5 13:21:19 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Fri, 5 Feb 2021 13:21:19 +0100
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <54kisjqgu4o3$.dlg@nililand.de>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de>
 <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de>
Message-ID: <20210205122119.6dp25nx7ripyxeb6@yoga>

On Fri, Feb 05, 2021 at 12:18:29PM +0100, Ulrike Fischer wrote:
> But the behaviour imho shouldn't depend on luatex85:
> 
> If you want the cmaps then it should do it also without luatex85,
> and if you don't want them it should exist also with luatex85. 
> 

The reason this currently isn't done is that I considered it rather
unlikely for `cmap` to be used there. Most LuaLaTeX documents
don't use fonts with traditional TeX encodings, so `cmap` would be
useless. The exceptions are mostly documents which need some degree of
pdfTeX compatibility and math fonts. Documents which use legacy TeX text
font probably use luatex85 anyway and if it's only used for mathfonts
then mmap is probably preferred anyway.

Marcel

From norbert at preining.info  Fri Feb  5 13:30:41 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 5 Feb 2021 21:30:41 +0900
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <20210205122119.6dp25nx7ripyxeb6@yoga>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de>
 <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de>
 <20210205122119.6dp25nx7ripyxeb6@yoga>
Message-ID: <YB06cUA6MWT3gzxE@burischnitzel.preining.info>

On Fri, 05 Feb 2021, Marcel Fabian Kr?ger wrote:
> useless. The exceptions are mostly documents which need some degree of
> pdfTeX compatibility and math fonts. Documents which use legacy TeX text
> font probably use luatex85 anyway and if it's only used for mathfonts
> then mmap is probably preferred anyway.

Just to give a bit of background - but consider that I am not an expert
here - the problem arose with Sphinx documentation, the default
documentation system in Python, which generates code for html/pdf/...
For generating pdf it uses xelatex and lualatex (AFAIS ... don't bite me
if I am wrong) and there are some templates that generate the documents.

So what I want to say, it seems that this might not be the optimal
solution from the Sphinx side, but it is definitely the safe solution to
support both old luatex and new luatex (new luatex by loading luatex85).

In any case, if you want the full documents that exhibited the problem,
please let me know. I reduced it (which took quite some time) to the
minmal example I sent, but if you are interested in what is actually
used, please let me know. Maybe we can send the Sphinx Team some
suggestions for improvements.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Fri Feb  5 14:15:32 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Fri, 5 Feb 2021 13:15:32 +0000
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <YB06cUA6MWT3gzxE@burischnitzel.preining.info>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de> <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de> <20210205122119.6dp25nx7ripyxeb6@yoga>
 <YB06cUA6MWT3gzxE@burischnitzel.preining.info>
Message-ID: <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>

On Fri, Feb 5, 2021 at 12:31 PM Norbert Preining <norbert at preining.info>
wrote:

> Just to give a bit of background - but consider that I am not an expert
> here - the problem arose with Sphinx documentation, the default
> documentation system in Python, which generates code for html/pdf/...
> For generating pdf it uses xelatex and lualatex (AFAIS ... don't bite me
> if I am wrong) and there are some templates that generate the documents.


As both a TeX and Python user I can provide some more information, or at
least links.

https://docs.python.org/3/ states that it's generated using Sphinx 2.4.4.

https://www.sphinx-doc.org/en/master/latex.html gives information about use
of xelatex and lualatex. There's a change in font handing in Sphinx 4.0.0.

https://readthedocs.org/ hosts automated document generation for Sphinx and
other systems. It's a major publisher of Sphinx documentation, which it
generates from source.

Here's some relevant URLs from Read The Docs.
https://docs.readthedocs.io/en/stable/guides/pdf-non-ascii-languages.html
https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-latex_engine

Here's a suggestion. Create a simple Sphinx project, submit to ReadTheDocs,
and see if it builds correctly. Then, somehow, repeat the build with the
new TeXLive. This might help experts catch and fix problems before users
discover them.

I hope at least some of this helps.

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210205/5e1a8bdd/attachment.html>

From maximilian.noethe at tu-dortmund.de  Fri Feb  5 15:36:55 2021
From: maximilian.noethe at tu-dortmund.de (=?UTF-8?Q?Maximilian_N=c3=b6the?=)
Date: Fri, 5 Feb 2021 15:36:55 +0100
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga> <2z0rcud0ul73.dlg@nililand.de>
 <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de> <20210205122119.6dp25nx7ripyxeb6@yoga>
 <YB06cUA6MWT3gzxE@burischnitzel.preining.info>
 <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>
Message-ID: <630a00b7-10dd-9a06-af08-52fc9319a935@tu-dortmund.de>

Hi,

To chime in a bit: sphinx should probably adjust its templates depending 
on tex engine used.

For xelatex and lualatex you most probably want to use fontspec / 
unicode-math for encoding and font handling
instead of inputenc/fontenc/cmap.

Cheers
Max

On 05.02.21 14:15, Jonathan Fine wrote:
> On Fri, Feb 5, 2021 at 12:31 PM Norbert Preining 
> <norbert at preining.info <mailto:norbert at preining.info>> wrote:
>
>     Just to give a bit of background - but consider that I am not an
>     expert
>     here - the problem arose with Sphinx documentation, the default
>     documentation system in Python, which generates code for html/pdf/...
>     For generating pdf it uses xelatex and lualatex (AFAIS ... don't
>     bite me
>     if I am wrong) and there are some templates that generate the
>     documents.
>
>
> As both a TeX and Python user I can provide some more information, or 
> at least links.
>
> https://docs.python.org/3/ <https://docs.python.org/3/> states that 
> it's generated using Sphinx 2.4.4.
>
> https://www.sphinx-doc.org/en/master/latex.html 
> <https://www.sphinx-doc.org/en/master/latex.html> gives information 
> about use of xelatex and lualatex. There's a change in font handing in 
> Sphinx 4.0.0.
>
> https://readthedocs.org/ <https://readthedocs.org/> hosts automated 
> document generation for Sphinx and other systems. It's a major 
> publisher of Sphinx documentation, which it generates?from source.
>
> Here's some relevant URLs from Read The Docs.
> https://docs.readthedocs.io/en/stable/guides/pdf-non-ascii-languages.html 
> <https://docs.readthedocs.io/en/stable/guides/pdf-non-ascii-languages.html>
> https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-latex_engine 
> <https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-latex_engine>
>
> Here's a suggestion. Create a simple Sphinx project, submit to 
> ReadTheDocs, and see if it builds correctly. Then, somehow, repeat the 
> build with the new TeXLive. This might help experts catch and fix 
> problems before users discover them.
>
> I hope at least some of this helps.
>
> with best regards
>
> Jonathan
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210205/d4d89adc/attachment.html>

From preining at logic.at  Sat Feb  6 11:57:11 2021
From: preining at logic.at (Norbert Preining)
Date: Sat, 6 Feb 2021 19:57:11 +0900
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <630a00b7-10dd-9a06-af08-52fc9319a935@tu-dortmund.de>
References: <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de>
 <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de>
 <20210205122119.6dp25nx7ripyxeb6@yoga>
 <YB06cUA6MWT3gzxE@burischnitzel.preining.info>
 <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>
 <630a00b7-10dd-9a06-af08-52fc9319a935@tu-dortmund.de>
Message-ID: <YB52B1Qsohc97tpw@burischnitzel.preining.info>

> To chime in a bit: sphinx should probably adjust its templates depending on
> tex engine used.

It is doing this already. But it tries to be backward compatible since
one never knows what kind of luatex might be available on the machine
running the translation.

If you have more suggestions, please do that directly to the Sphinx
maintainers, I am not one of them ;-)

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Sat Feb  6 12:03:20 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 6 Feb 2021 20:03:20 +0900
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de>
 <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de>
 <20210205122119.6dp25nx7ripyxeb6@yoga>
 <YB06cUA6MWT3gzxE@burischnitzel.preining.info>
 <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>
Message-ID: <YB53eGFXlaY9JCY3@burischnitzel.preining.info>

Hi Jonathan,

> As both a TeX and Python user I can provide some more information, or at
> least links.

Not such a rare beast as you might think. I guess everyone here uses
TeX, and most people have used or are using Python.

> Here's a suggestion. Create a simple Sphinx project, submit to ReadTheDocs,
> and see if it builds correctly. Then, somehow, repeat the build with the

Thanks, but whom are you suggestion this?
- I as Debian Developer caring for the TeX packages, can simply try a
  few Sphinx builds - I **could**, but honestly, it is too much pain
  because all of this is not automatized.
- The Sphinx developers? Tell them please
- The TeX package developers? I don't think they will do anything in
  this direction.

As said, if all this would be automatized, and that is on my list of
things to do - package unit testing on texlive-subversion commit, but
honestly, time is not really permitting me to actually carry it out.

Can you help?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Sat Feb  6 16:38:10 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Sat, 6 Feb 2021 15:38:10 +0000
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <YB53eGFXlaY9JCY3@burischnitzel.preining.info>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de> <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de> <20210205122119.6dp25nx7ripyxeb6@yoga>
 <YB06cUA6MWT3gzxE@burischnitzel.preining.info>
 <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>
 <YB53eGFXlaY9JCY3@burischnitzel.preining.info>
Message-ID: <CALD=Yf8uwWyLd-rKE46YUYmb7=STfFdNK9yuYhUdp1BBinRQmg@mail.gmail.com>

Here's a follow-up to my suggestion

<BEGIN>
Create a simple Sphinx project, submit to ReadTheDocs, and see if it builds
correctly. Then, somehow, repeat the build with the new TeXLive. This might
help experts catch and fix problems before users discover them.
<END>

Norbert asked who might do this. Perhaps we could find some documents on
ReadTheDocs that use lualatex to generate PDF. We could then go upstream to
the authors of the project.

By the way, the Python docs are available in Chinese PDF. Two
randomly chosen docs from the download there lists XeTeX 0.99998 as the
Producer.
https://docs.python.org/zh-cn/3/download.html

I've found a couple of Chinese language projects on RTD. However, neither
provide PDF output.

https://madtornado4.readthedocs.io/
https://poco.readthedocs.io/zh_CN/latest/

(Click on [v:???] in the left sidebar to get alternative formats.)

I don't have the insight and time right now to find more candidates on RTD.
I don't see an easy way to count the PDFs on RTD that are generated by
lualatex. It may be that there aren't any. I don't know. Perhaps the luatex
people could help here, as they are closer to the lualatex users than I am.

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210206/0ff5310c/attachment.html>

From zdenek.wagner at gmail.com  Sat Feb  6 16:50:55 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 6 Feb 2021 16:50:55 +0100
Subject: Very recent breakage luatex85.sty and cmap.sty
In-Reply-To: <CALD=Yf8uwWyLd-rKE46YUYmb7=STfFdNK9yuYhUdp1BBinRQmg@mail.gmail.com>
References: <YBxlWbzjOpiOAeQA@burischnitzel.preining.info>
 <20210204215556.uce7agdmrw5ecbh5@yoga>
 <YBxuLK4Y0jOWWQuG@burischnitzel.preining.info>
 <20210204221145.x7wafvqnvgom7gst@yoga>
 <2z0rcud0ul73.dlg@nililand.de> <YB0mfRq82W1UrMR4@burischnitzel.preining.info>
 <54kisjqgu4o3$.dlg@nililand.de> <20210205122119.6dp25nx7ripyxeb6@yoga>
 <YB06cUA6MWT3gzxE@burischnitzel.preining.info>
 <CALD=Yf_qtp=XmddurxyJySnmWtvkEt8b5JbAN4g5jUqVz1LdiQ@mail.gmail.com>
 <YB53eGFXlaY9JCY3@burischnitzel.preining.info>
 <CALD=Yf8uwWyLd-rKE46YUYmb7=STfFdNK9yuYhUdp1BBinRQmg@mail.gmail.com>
Message-ID: <CAC1phyYomz8pCkghw_20m+hfAS86OcdJpWU4aLrDiy+RzLOXWw@mail.gmail.com>

As Norbert wroti, this is not a task for TeX developer. Being a TeX
developer I do not know how to create a Sphinx project and most
probably I do not have the tools installed. I use python because it is
installed on my computer and many scripts are written in it and some
of them even do not have .py extension or are calle indirectly from
other programs, but I am not a python developer and I never wrote a
python script (I know the difference between "never wrote" and "have
never written").

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

so 6. 2. 2021 v 16:38 odes?latel Jonathan Fine <jfine2358 at gmail.com> napsal:
>
> Here's a follow-up to my suggestion
>
> <BEGIN>
> Create a simple Sphinx project, submit to ReadTheDocs, and see if it builds correctly. Then, somehow, repeat the build with the new TeXLive. This might help experts catch and fix problems before users discover them.
> <END>
>
> Norbert asked who might do this. Perhaps we could find some documents on ReadTheDocs that use lualatex to generate PDF. We could then go upstream to the authors of the project.
>
> By the way, the Python docs are available in Chinese PDF. Two randomly chosen docs from the download there lists XeTeX 0.99998 as the Producer.
> https://docs.python.org/zh-cn/3/download.html
>
> I've found a couple of Chinese language projects on RTD. However, neither provide PDF output.
>
> https://madtornado4.readthedocs.io/
> https://poco.readthedocs.io/zh_CN/latest/
>
> (Click on [v:???] in the left sidebar to get alternative formats.)
>
> I don't have the insight and time right now to find more candidates on RTD. I don't see an easy way to count the PDFs on RTD that are generated by lualatex. It may be that there aren't any. I don't know. Perhaps the luatex people could help here, as they are closer to the lualatex users than I am.
>
> --
> Jonathan
>
>


From alexander.willand at t-online.de  Sat Feb  6 18:10:23 2021
From: alexander.willand at t-online.de (AW)
Date: Sat, 06 Feb 2021 18:10:23 +0100
Subject: Python2 modules
Message-ID: <52023000.K7jaqZJNBb@linux-izun>

Hi!

here

https://lists.opensuse.org/archives/list/factory at lists.opensuse.org/message/
T2YC2IPISQP76YGZWVHG644NX273WWVS/

somebody reports that the installation of texlive pulls in some python2 
packages. The mailinglist is the dev-list of openSUSE factory. 

A maintainer of Python packages at openSUSE answers:

,----
| Yes, and I call on TeXLive maintainers to do something about it,
| because there is a big chance that Pretty Soon? their packages
| will crash hard, when we remove Python 2 from Factory.
`----

Factory is kind of misleading, it's the rolling release called Tumbleweed, so 
maybe many people will be affected, including me. Maybe you can do something 
about it. 

Have a nice weekend!

Alexander






From henri at henrimenke.de  Sat Feb  6 18:14:23 2021
From: henri at henrimenke.de (Henri Menke)
Date: Sat, 06 Feb 2021 18:14:23 +0100
Subject: Python2 modules
In-Reply-To: <52023000.K7jaqZJNBb@linux-izun>
References: <52023000.K7jaqZJNBb@linux-izun>
Message-ID: <f6b7cbb89c21923a3cdced6165fa7416c41df3ba.camel@henrimenke.de>

On Sat, 2021-02-06 at 18:10 +0100, AW wrote:
> Hi!
> 
> here
> 
> https://lists.opensuse.org/archives/list/factory at lists.opensuse.org/message/
> T2YC2IPISQP76YGZWVHG644NX273WWVS/
> 
> somebody reports that the installation of texlive pulls in some python2 
> packages. The mailinglist is the dev-list of openSUSE factory. 
> 
> A maintainer of Python packages at openSUSE answers:
> 
> ,----
> > Yes, and I call on TeXLive maintainers to do something about it,
> > because there is a big chance that Pretty Soon? their packages
> > will crash hard, when we remove Python 2 from Factory.
> `----
> 
> Factory is kind of misleading, it's the rolling release called Tumbleweed, so 
> maybe many people will be affected, including me. Maybe you can do something 
> about it. 

The OpenSUSE maintainers of TeX Live should just stop packaging this particular
script.  It's unreasonable to demand upstream to remove code just because
downstream changes their packaging habits.

> 
> Have a nice weekend!
> 
> Alexander
> 
> 
> 
> 
> 


From preining at logic.at  Sat Feb  6 21:03:57 2021
From: preining at logic.at (Norbert Preining)
Date: Sun, 7 Feb 2021 05:03:57 +0900
Subject: Python2 modules
In-Reply-To: <52023000.K7jaqZJNBb@linux-izun>
References: <52023000.K7jaqZJNBb@linux-izun>
Message-ID: <YB72LY0IL98tgGxH@burischnitzel.preining.info>

Hi 

as already mentioned, this is the job of the openSUSE package
maintainers. Just to give you a hint, I with Debian package maintainers
hat on have the following code 
	# python3 purge - blacklist all packages that don't have py3 support
	blacklist;tpm;ebong;*
	blacklist;tpm;de-macro;*
	blacklist;tpm;lilyglyphs;*
	blacklist;tpm;pygmentex;*
	blacklist;tpm;sympytexpackage;*
	# pythontex py2 files
	kill;texmf-dist/scripts/pythontex/depythontex2.py;;
	kill;texmf-dist/scripts/pythontex/pythontex2.py;;
	kill;texmf-dist/scripts/pythontex/pythontex_2to3.py;;
	kill;texmf-dist/scripts/pythontex/pythontex_install.py;;
Should give you a hint what needs to be done.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From maximilian.noethe at tu-dortmund.de  Sun Feb  7 12:10:03 2021
From: maximilian.noethe at tu-dortmund.de (=?UTF-8?Q?Maximilian_N=c3=b6the?=)
Date: Sun, 7 Feb 2021 12:10:03 +0100
Subject: After updating TeX Live, loading expl3 fails
Message-ID: <6b5e0ed8-6d9f-0385-dbfd-936b41bbe122@tu-dortmund.de>

Hi all,

Today I updated TeXLive via tlmgr update --self --all and since then, 
loading expl3 fails with the following
error:


```

! LaTeX3 Error: Mismatched LaTeX support files detected.
(LaTeX3)??????? Loading 'expl3.sty' aborted!
(LaTeX3)
(LaTeX3)??????? The L3 programming layer in the LaTeX format
(LaTeX3)??????? is dated 2020-10-05, but in your TeX tree the files require
(LaTeX3)??????? at least 2021-02-02.
```


I tried rebuilding the formats with fmtutil-sys --all, but didn't help.

Any idea how to solve this?

Regards
Max


From d.p.carlisle at gmail.com  Sun Feb  7 12:49:34 2021
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 7 Feb 2021 11:49:34 +0000
Subject: After updating TeX Live, loading expl3 fails
In-Reply-To: <6b5e0ed8-6d9f-0385-dbfd-936b41bbe122@tu-dortmund.de>
References: <6b5e0ed8-6d9f-0385-dbfd-936b41bbe122@tu-dortmund.de>
Message-ID: <CAEW6iOiOetT3DwoBqtq4HYES3TZ41uBM7yCikQq7wykTgj92-Q@mail.gmail.com>

Most likely you have an old local format masking the updated one, check with

 kpsewhich --all --engine=pdftex pdflatex.fmt

that you have not got multiple formats.

On Sun, 7 Feb 2021 at 11:11, Maximilian N?the <
maximilian.noethe at tu-dortmund.de> wrote:

> Hi all,
>
> Today I updated TeXLive via tlmgr update --self --all and since then,
> loading expl3 fails with the following
> error:
>
>
> ```
>
> ! LaTeX3 Error: Mismatched LaTeX support files detected.
> (LaTeX3)        Loading 'expl3.sty' aborted!
> (LaTeX3)
> (LaTeX3)        The L3 programming layer in the LaTeX format
> (LaTeX3)        is dated 2020-10-05, but in your TeX tree the files require
> (LaTeX3)        at least 2021-02-02.
> ```
>
>
> I tried rebuilding the formats with fmtutil-sys --all, but didn't help.
>
> Any idea how to solve this?
>
> Regards
> Max
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210207/77b53584/attachment.html>

From krotzkack at gmail.com  Thu Feb 11 00:49:57 2021
From: krotzkack at gmail.com (Krotzkack)
Date: Thu, 11 Feb 2021 00:49:57 +0100
Subject: Problems with pdf bookmarks and hyperref since recent updates
Message-ID: <20210211004339.000076e1@gmail.com>

Hi all,

Since one of the recent updates I get some problems with pdf bookmarks
and hyperref. Here is a minimal example:

\documentclass{scrreport}

\usepackage{polyglossia}
\setdefaultlanguage{english}
\usepackage{fontspec}
\usepackage{amsmath}


\usepackage[%
  hyperfootnotes=false,%
  pdfpagelabels,%
  unicode,
  psdextra,
  unicode=true
  % pdfa,%
]{hyperref}

\begin{document}

\section{Math like $\kappa$ is not fine here}
$\kappa$ is fine here.
test test.
\end{document}


The errors look like this:
 ! Undefined control sequence.
 \@currenttocentry ->Math like $\kappa

or

! Undefined control sequence.
\bookmark at text ...fi 

From achirvasub at gmail.com  Thu Feb 11 03:50:16 2021
From: achirvasub at gmail.com (Stuart Little)
Date: Wed, 10 Feb 2021 21:50:16 -0500
Subject: Problems with pdf bookmarks and hyperref since recent updates
In-Reply-To: <20210211004339.000076e1@gmail.com>
References: <20210211004339.000076e1@gmail.com>
Message-ID: <YCSbaICtGzXyZd5l@arch-chirva.localdomain>

Might it be related to this?

https://github.com/latex3/hyperref/issues/172

I had similar issues passing options to hyperref in the

\usepackage[blahblah]{hyperref}

style. Perhaps try

\usepackage{hyperref}
\hypersetup{<options go here>}

?

On Thu, Feb 11, 2021 at 12:49:57AM +0100, Krotzkack wrote:
> Hi all,
> 
> Since one of the recent updates I get some problems with pdf bookmarks
> and hyperref. Here is a minimal example:
> 
> \documentclass{scrreport}
> 
> \usepackage{polyglossia}
> \setdefaultlanguage{english}
> \usepackage{fontspec}
> \usepackage{amsmath}
> 
> 
> \usepackage[%
>   hyperfootnotes=false,%
>   pdfpagelabels,%
>   unicode,
>   psdextra,
>   unicode=true
>   % pdfa,%
> ]{hyperref}
> 
> \begin{document}
> 
> \section{Math like $\kappa$ is not fine here}
> $\kappa$ is fine here.
> test test.
> \end{document}
> 
> 
> The errors look like this:
>  ! Undefined control sequence.
>  \@currenttocentry ->Math like $\kappa
> 
> or
> 
> ! Undefined control sequence.
> \bookmark at text ...fi 

From kakuto at w32tex.org  Thu Feb 11 04:05:17 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Thu, 11 Feb 2021 12:05:17 +0900
Subject: Problems with pdf bookmarks and hyperref since recent updates
In-Reply-To: <20210211004339.000076e1@gmail.com>
References: <20210211004339.000076e1@gmail.com>
Message-ID: <f7bbe37d-69db-0f42-b581-3bd3e12b62f2@w32tex.org>

On 2021/02/11 8:49, Krotzkack wrote:
> Since one of the recent updates I get some problems with pdf bookmarks
> and hyperref. Here is a minimal example:

Try

%utf-8
\section{\texorpdfstring{Math like $\kappa$ is not fine here}{Math like ? is not fine here}}

Thanks,
Akira

From news3 at nililand.de  Thu Feb 11 09:13:31 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 11 Feb 2021 09:13:31 +0100
Subject: Problems with pdf bookmarks and hyperref since recent updates
References: <20210211004339.000076e1@gmail.com>
Message-ID: <82vmiigoeax6$.dlg@nililand.de>

Am Thu, 11 Feb 2021 00:49:57 +0100 schrieb Krotzkack:

> Hi all,
> 
> Since one of the recent updates I get some problems with pdf bookmarks
> and hyperref. Here is a minimal example:
> 
> \documentclass{scrreport}
> 
> \usepackage{polyglossia}
> \setdefaultlanguage{english}
> \usepackage{fontspec}
> \usepackage{amsmath}
> 
> 
> \usepackage[%
>   hyperfootnotes=false,%
>   pdfpagelabels,%
>   unicode,
>   psdextra,

> The errors look like this:
>  ! Undefined control sequence.
>  \@currenttocentry ->Math like $\kappa

puenc.def has been shorten to avoid problem with pdflatex which
loads it now too. Greek is only loaded if \textBeta is defined. This
affect now the pdfextra option, which does

\let\kappa\textkappa

I will fix this. 

You can do for now 
\newcommand\textBeta{} before loading hyperref. 

Btw: there is no need to use the unicode option, it is the default. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From ripley at stats.ox.ac.uk  Fri Feb 12 12:04:44 2021
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 12 Feb 2021 11:04:44 +0000
Subject: tlmgr fails on Solaris 10
Message-ID: <636b5491-cbf0-bd57-5b89-b5fc69052a00@stats.ox.ac.uk>

which is a very old OS, but we still have a box running for 
software-testing purposes.

The problem is line 261 of TLUtils.pm,

       chomp (my $guessed_platform = `/bin/sh '$config_guess'`);

It seems config.guess has been taken from GNU Autoconf which tries hard 
to run it under a suitable shell, preferably Bash.  On Solaris /bin/sh 
is a real Bourne shell, but config.guess uses extensions and Autoconf 
has never used it.

My workaround has been to replace /bin/sh by /bin/bash, but 
unfortunately that needs to be done every time the infrastructure is 
updated.  It would be kinder to have a fix upstream.

BDR

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford

From karl at freefriends.org  Sat Feb 13 00:10:00 2021
From: karl at freefriends.org (Karl Berry)
Date: Fri, 12 Feb 2021 16:10:00 -0700
Subject: tlmgr fails on Solaris 10
In-Reply-To: <636b5491-cbf0-bd57-5b89-b5fc69052a00@stats.ox.ac.uk>
Message-ID: <202102122310.11CNA0O3008203@freefriends.org>

    chomp (my $guessed_platform = `/bin/sh '$config_guess'`);

I asked upstream (not for the first time) to revert their gratuitous
switch from `...` to $(...). I hope the maintainer does so.
(I bcc'd you.)

    /bin/bash

Is bash a standard part of Solaris 10? That seems ... strange.
There's probably some other Solaris shell that supports $(...)?
Maybe just /bin/ksh? I can't check any more. --thanks, karl.

From ripley at stats.ox.ac.uk  Sat Feb 13 05:34:58 2021
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 13 Feb 2021 04:34:58 +0000
Subject: tlmgr fails on Solaris 10
In-Reply-To: <202102122310.11CNA0O3008203@freefriends.org>
References: <202102122310.11CNA0O3008203@freefriends.org>
Message-ID: <5d9d57b6-c8db-8f71-f246-4f44f1abff03@stats.ox.ac.uk>

On 12/02/2021 23:10, Karl Berry wrote:
>      chomp (my $guessed_platform = `/bin/sh '$config_guess'`);
> 
> I asked upstream (not for the first time) to revert their gratuitous
> switch from `...` to $(...). I hope the maintainer does so.
> (I bcc'd you.)

Thanks.

>      /bin/bash
> 
> Is bash a standard part of Solaris 10? That seems ... strange.

It was on the machines we had (only one left, which was a donation from 
Oracle and set up by them).  It is old

swift-9% /bin/bash --version
GNU bash, version 3.2.57(1)-release (i386-pc-solaris2.10)
Copyright (C) 2007 Free Software Foundation, Inc.

which is the same version as on current macOS.

> There's probably some other Solaris shell that supports $(...)?
> Maybe just /bin/ksh? I can't check any more. --thanks, karl.

/bin/ksh also works.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford

From gnwiii at gmail.com  Sat Feb 13 16:52:45 2021
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 13 Feb 2021 11:52:45 -0400
Subject: tlmgr fails on Solaris 10
In-Reply-To: <636b5491-cbf0-bd57-5b89-b5fc69052a00@stats.ox.ac.uk>
References: <636b5491-cbf0-bd57-5b89-b5fc69052a00@stats.ox.ac.uk>
Message-ID: <CAKTOP44tM-nQ07V-aRyzsquxBCfV3GPiyGO5dCjdzx-2nbH6Mg@mail.gmail.com>

On Fri, 12 Feb 2021 at 11:04, Prof Brian Ripley <ripley at stats.ox.ac.uk>
wrote:

> which is a very old OS, but we still have a box running for
> software-testing purposes.
>
> The problem is line 261 of TLUtils.pm,
>
>        chomp (my $guessed_platform = `/bin/sh '$config_guess'`);
>
> It seems config.guess has been taken from GNU Autoconf which tries hard
> to run it under a suitable shell, preferably Bash.  On Solaris /bin/sh
> is a real Bourne shell, but config.guess uses extensions and Autoconf
> has never used it.
>

> My workaround has been to replace /bin/sh by /bin/bash, but
> unfortunately that needs to be done every time the infrastructure is
> updated.  It would be kinder to have a fix upstream.
>

Upstream is GNU, but would it be enough for texlive to distribute
config.bash
with the shebang line modified to use bash (maybe even "#! /usr/bin/env
bash" so
users could provide a bash)?

There is a need for easy mechanisms to catch such gratuitous
incompatibilities.
Upstream developers are not always interested in supporting a wide variety
of OS's,
so integrators like texlive (and R) are left to deal with changes that
affect their users.

It might be helpful to have a lowest common  denominator option in
checkbashisms
that reports use of constructs missing on some /bin/sh instances.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210213/eb82b51a/attachment.html>

From werner at suse.de  Mon Feb 15 13:48:53 2021
From: werner at suse.de (Dr. Werner Fink)
Date: Mon, 15 Feb 2021 13:48:53 +0100
Subject: [tex-live] Python2 modules
In-Reply-To: <YB72LY0IL98tgGxH@burischnitzel.preining.info>
References: <52023000.K7jaqZJNBb@linux-izun>
 <YB72LY0IL98tgGxH@burischnitzel.preining.info>
Message-ID: <YCpttf77XBLqL4JM@boole.suse.de>

On 2021/02/07 05:03:57 +0900, Norbert Preining wrote:
> Hi 
> 
> as already mentioned, this is the job of the openSUSE package
> maintainers. Just to give you a hint, I with Debian package maintainers
> hat on have the following code 
> 	# python3 purge - blacklist all packages that don't have py3 support
> 	blacklist;tpm;ebong;*
> 	blacklist;tpm;de-macro;*
> 	blacklist;tpm;lilyglyphs;*

For lilyglyphs I use meanwhile a patch based on upstream commit
d5b5575eea3dd76903248a5cec5f660e49012a7b

> 	blacklist;tpm;pygmentex;*
> 	blacklist;tpm;sympytexpackage;*
> 	# pythontex py2 files
> 	kill;texmf-dist/scripts/pythontex/depythontex2.py;;
> 	kill;texmf-dist/scripts/pythontex/pythontex2.py;;
> 	kill;texmf-dist/scripts/pythontex/pythontex_2to3.py;;
> 	kill;texmf-dist/scripts/pythontex/pythontex_install.py;;

This what I also do now a longer time

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 894 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210215/ad941469/attachment.sig>

From wasser19641 at gmail.com  Wed Feb 17 16:15:23 2021
From: wasser19641 at gmail.com (wasser mai)
Date: Wed, 17 Feb 2021 16:15:23 +0100
Subject: problem with tex4ht 20200327
Message-ID: <CAGS-GNb6JXHZGu5qc4wcS4mf-96wM3Rgk_rZJBWRtVR0U4AvDA@mail.gmail.com>

Dear TeX Live team,

i have  a small test file for tex4ht. With the call of htlatex
test.tex "html,gif", the test0x.gif, test1x.gif files and other
dvi/html files should be created.  I tested with tex4ht 2019 and the
test file works as expected.

With tex4ht 20200323, it creates only test0x.gif file and other
dvi/html files. The test1x.gif was not generated.

Is it a bug in tex4ht 20200323 or texlive?

Thank you so much!

My machine is running Fedora 33 and texlive 20200323. My test.tex (cat
test.tex):

\documentclass{article}
\usepackage{mathtools}

\begin{document}
\section{First section}
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
eiusmod tempor incididunt ut labore et dolore magna aliqua.
\section{Second section}
Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris
nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in
reprehenderit in voluptate velit esse cillum dolore eu fug
iat nulla pariatur. Excepteur sint occaecat cupidatat non proident,
sunt in culpa qui officia deserunt mollit anim id est laborum.

\LaTeX testing file

\subsubsection{Basic formulas}
\[ f(n) = \left\{
   \begin{array}{l l}
             n/2 & \quad \text{if $n$ is even}\\
        -(n+1)/2 & \quad \text{if $n$ is odd}
   \end{array} \right.
\]

\[ 50 \textrm{ apples} \times 100 \textbf{ apples} = \textit{lots of
apples}^2 \]
\end{document}

From karl at freefriends.org  Wed Feb 17 23:20:50 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 17 Feb 2021 15:20:50 -0700
Subject: problem with tex4ht 20200327
In-Reply-To: <CAGS-GNb6JXHZGu5qc4wcS4mf-96wM3Rgk_rZJBWRtVR0U4AvDA@mail.gmail.com>
Message-ID: <202102172220.11HMKoU9010904@freefriends.org>

    The test1x.gif was not generated.

Hi - it seems this has been fixed since the original TL20 release. When
I run your test file (thanks for providing it) with the current TL, I
get the test1x.gif output again.

Michal Hoftich has been actively maintaining tex4ht, so if you're using
tex4ht, it is good to use current TL. In theory you can update with
  tlmgr update tex4ht
although I fear in practice it's probably necessary to update everything
with tlmgr update --self --all, since many changes to tex4ht have been
required this year due to changes in LaTeX.

You can also submit tex4ht bugs either on the tex4ht at tug.org
(https://lists.tug.org/tex4ht) mailing list, or the bug tracker at
https://puszcza.gnu.org.ua/bugs/?group=tex4ht.
Michal will see it either way.

We've also been updating the doc and web pages at https://tug.org/tex4ht.

Hope this helps,
Karl

From wasser19641 at gmail.com  Thu Feb 18 09:25:07 2021
From: wasser19641 at gmail.com (wasser mai)
Date: Thu, 18 Feb 2021 09:25:07 +0100
Subject: Fwd: problem with tex4ht 20200327
In-Reply-To: <CAGS-GNZZnpVtNGO4GLrN4EmOQBRG02G76Noj5T=gGb8mdOb6Mg@mail.gmail.com>
References: <CAGS-GNb6JXHZGu5qc4wcS4mf-96wM3Rgk_rZJBWRtVR0U4AvDA@mail.gmail.com>
 <CAKTOP46Sm7dBNBcqHuxQSDn4XRskvJqRsCj28DeM2DXCKx_+Wg@mail.gmail.com>
 <CAGS-GNZZnpVtNGO4GLrN4EmOQBRG02G76Noj5T=gGb8mdOb6Mg@mail.gmail.com>
Message-ID: <CAGS-GNZ_K0aNpg9wAwj=fbzBMw1+KWMp+33-w9RHeLTvZBzXQQ@mail.gmail.com>

---------- Forwarded message ---------
Von: wasser mai <wasser19641 at gmail.com>
Date: Do., 18. Feb. 2021 um 09:08 Uhr
Subject: Re: problem with tex4ht 20200327
To: George N. White III <gnwiii at gmail.com>


Am Mi., 17. Feb. 2021 um 18:43 Uhr schrieb George N. White III
<gnwiii at gmail.com>:
>
> On Wed, 17 Feb 2021 at 11:48, wasser mai <wasser19641 at gmail.com> wrote:
>>
>> Dear TeX Live team,
>>
>> i have  a small test file for tex4ht. With the call of htlatex
>> test.tex "html,gif", the test0x.gif, test1x.gif files and other
>> dvi/html files should be created.  I tested with tex4ht 2019 and the
>> test file works as expected.
>
>
>> With tex4ht 20200323, it creates only test0x.gif file and other
>> dvi/html files. The test1x.gif was not generated.
>>
>> Is it a bug in tex4ht 20200323 or texlive?
>
>
> Or is it a feature?
>
it's good question and i would like to know whether it's bug or feature...

> Does the test.html produce a "correct" document?   In the html the
> second maths block is rendered as a table:
>
>    <table
> class="equation-star"><tr><td>
>
>                 50 apples <span
> class="cmsy-10">&#x00D7; </span>100 <span
> class="cmbx-10">apples</span> = <span
> class="cmti-10">lots of apples</span><sup><span
> class="cmr-7">2</span></sup>
> </td></tr></table>
> <!--l. 26--><p class="nopar" >
>
>  Not pretty, but the content seems to be present.
yes, it generated "correct" html document but in the html the
second maths block is rendered as a table like above.

Thanks

From wasser19641 at gmail.com  Thu Feb 18 09:26:01 2021
From: wasser19641 at gmail.com (wasser mai)
Date: Thu, 18 Feb 2021 09:26:01 +0100
Subject: Fwd: problem with tex4ht 20200327
In-Reply-To: <CAGS-GNaJ0TP4CJCY+LVxQiPxvW0LL4Yg+FvdymL4dKRjppngFw@mail.gmail.com>
References: <CAGS-GNb6JXHZGu5qc4wcS4mf-96wM3Rgk_rZJBWRtVR0U4AvDA@mail.gmail.com>
 <202102172220.11HMKoU9010904@freefriends.org>
 <CAGS-GNaJ0TP4CJCY+LVxQiPxvW0LL4Yg+FvdymL4dKRjppngFw@mail.gmail.com>
Message-ID: <CAGS-GNbMhrG_hLoAyVRyWzTeEh1u+vHPWZHXEHfEYBjpV_Wr7g@mail.gmail.com>

---------- Forwarded message ---------
Von: wasser mai <wasser19641 at gmail.com>
Date: Do., 18. Feb. 2021 um 09:20 Uhr
Subject: Re: problem with tex4ht 20200327
To: Karl Berry <karl at freefriends.org>


Am Mi., 17. Feb. 2021 um 23:20 Uhr schrieb Karl Berry <karl at freefriends.org>:
>
>     The test1x.gif was not generated.
>
> Hi - it seems this has been fixed since the original TL20 release. When
> I run your test file (thanks for providing it) with the current TL, I
> get the test1x.gif output again.
>
it's great. I will update the latest TL and try again.

> Michal Hoftich has been actively maintaining tex4ht, so if you're using
> tex4ht, it is good to use current TL. In theory you can update with
>   tlmgr update tex4ht
unfortunatly tlmgr is not supported on fedora. I need to build the TL20 release.

Where can i get the "the original TL20 release"?
Ist texlive-20200327-source.tar.xz the original TL20 release?

> although I fear in practice it's probably necessary to update everything
> with tlmgr update --self --all, since many changes to tex4ht have been
> required this year due to changes in LaTeX.
>
> You can also submit tex4ht bugs either on the tex4ht at tug.org
> (https://lists.tug.org/tex4ht) mailing list, or the bug tracker at
> https://puszcza.gnu.org.ua/bugs/?group=tex4ht.
> Michal will see it either way.
>
> We've also been updating the doc and web pages at https://tug.org/tex4ht.
>
> Hope this helps,
> Karl

Thank you so much for your help!

From daleif at math.au.dk  Thu Feb 18 10:50:26 2021
From: daleif at math.au.dk (Lars Madsen)
Date: Thu, 18 Feb 2021 09:50:26 +0000
Subject: problem with tex4ht 20200327
In-Reply-To: <CAGS-GNbMhrG_hLoAyVRyWzTeEh1u+vHPWZHXEHfEYBjpV_Wr7g@mail.gmail.com>
References: <CAGS-GNb6JXHZGu5qc4wcS4mf-96wM3Rgk_rZJBWRtVR0U4AvDA@mail.gmail.com>
 <202102172220.11HMKoU9010904@freefriends.org>
 <CAGS-GNaJ0TP4CJCY+LVxQiPxvW0LL4Yg+FvdymL4dKRjppngFw@mail.gmail.com>,
 <CAGS-GNbMhrG_hLoAyVRyWzTeEh1u+vHPWZHXEHfEYBjpV_Wr7g@mail.gmail.com>
Message-ID: <AM0PR01MB5425B16E6112266DCEE14D63F2859@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>

Why the need to build it? Just install it from tug.org/texlive

The Linux dists tend to provide their own modified version. I genereally tend to recommend installing it from tug.org instead as it comes with a functioning tlmgr


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of wasser mai <wasser19641 at gmail.com>
Sent: 18 February 2021 09:26
To: tex-live at tug.org <tex-live at tug.org>
Subject: Fwd: problem with tex4ht 20200327

---------- Forwarded message ---------
Von: wasser mai <wasser19641 at gmail.com>
Date: Do., 18. Feb. 2021 um 09:20 Uhr
Subject: Re: problem with tex4ht 20200327
To: Karl Berry <karl at freefriends.org>


Am Mi., 17. Feb. 2021 um 23:20 Uhr schrieb Karl Berry <karl at freefriends.org>:
>
>     The test1x.gif was not generated.
>
> Hi - it seems this has been fixed since the original TL20 release. When
> I run your test file (thanks for providing it) with the current TL, I
> get the test1x.gif output again.
>
it's great. I will update the latest TL and try again.

> Michal Hoftich has been actively maintaining tex4ht, so if you're using
> tex4ht, it is good to use current TL. In theory you can update with
>   tlmgr update tex4ht
unfortunatly tlmgr is not supported on fedora. I need to build the TL20 release.

Where can i get the "the original TL20 release"?
Ist texlive-20200327-source.tar.xz the original TL20 release?

> although I fear in practice it's probably necessary to update everything
> with tlmgr update --self --all, since many changes to tex4ht have been
> required this year due to changes in LaTeX.
>
> You can also submit tex4ht bugs either on the tex4ht at tug.org
> (https://lists.tug.org/tex4ht) mailing list, or the bug tracker at
> https://puszcza.gnu.org.ua/bugs/?group=tex4ht.
> Michal will see it either way.
>
> We've also been updating the doc and web pages at https://tug.org/tex4ht.
>
> Hope this helps,
> Karl

Thank you so much for your help!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210218/a2f8091f/attachment-0001.html>

From jrmalaq at gmail.com  Fri Feb 19 22:40:08 2021
From: jrmalaq at gmail.com (=?iso-8859-1?Q?Jos=E9?= Romildo Malaquias)
Date: Fri, 19 Feb 2021 18:40:08 -0300
Subject: Python2 modules
In-Reply-To: <YB72LY0IL98tgGxH@burischnitzel.preining.info>
References: <52023000.K7jaqZJNBb@linux-izun>
 <YB72LY0IL98tgGxH@burischnitzel.preining.info>
Message-ID: <YDAwOJMHYczgyOxl@romildo>

On Sun, Feb 07, 2021 at 05:03:57AM +0900, Norbert Preining wrote:
> Hi 
> 
> as already mentioned, this is the job of the openSUSE package
> maintainers. Just to give you a hint, I with Debian package maintainers
> hat on have the following code 
> 	# python3 purge - blacklist all packages that don't have py3 support
> 	blacklist;tpm;ebong;*
> 	blacklist;tpm;de-macro;*
> 	blacklist;tpm;lilyglyphs;*
> 	blacklist;tpm;pygmentex;*

pygmentex has been ported to python3 on ctan.

> 	blacklist;tpm;sympytexpackage;*
> 	# pythontex py2 files
> 	kill;texmf-dist/scripts/pythontex/depythontex2.py;;
> 	kill;texmf-dist/scripts/pythontex/pythontex2.py;;
> 	kill;texmf-dist/scripts/pythontex/pythontex_2to3.py;;
> 	kill;texmf-dist/scripts/pythontex/pythontex_install.py;;
> Should give you a hint what needs to be done.

From karl at freefriends.org  Sun Feb 21 03:30:48 2021
From: karl at freefriends.org (Karl Berry)
Date: Sat, 20 Feb 2021 19:30:48 -0700
Subject: pretest for tl21 starting early
Message-ID: <202102210230.11L2Umfu015055@freefriends.org>

It seems that the source changes for TL21 are already pretty
stable. Thanks to all the developers for making that happen.

Thus I think we may as well start the TL21 pretest a few days early, on
the 24th or 25th, depending on how much flux there is. If the pretest
goes well, perhaps we can move up the rest of the schedule also, and
ultimately make the release a little earlier. (As always, I keep the
never-set-in-stone schedule on http://tug.org/texlive; not yet updated
for this possible change.)

If anyone knows of reasons not to start the pretest early, please let me
know asap.

Thanks,
Karl

P.S. This year, unlike all previous years, I plan to keep updating tlnet
(=> CTAN) with regular package updates even after the pretest
starts. We'll have to see how it goes, but that's the goal.  Of course,
I dearly hope people will still install and work with the pretest, since
that's the only way the new binaries will get any real-world testing.
More about this when the time comes.

From news3 at nililand.de  Sun Feb 21 10:55:48 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 21 Feb 2021 10:55:48 +0100
Subject: update of luacolor package missing?
Message-ID: <1b1vcc1nmoiis$.dlg@nililand.de>

A new version of luacolor https://ctan.org/pkg/luacolor
has been uploaded to ctan three days ago,
but it didn't get into texlive yet. Is there something wrong with
it?


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From karl at freefriends.org  Sun Feb 21 23:47:58 2021
From: karl at freefriends.org (Karl Berry)
Date: Sun, 21 Feb 2021 15:47:58 -0700
Subject: update of luacolor package missing?
In-Reply-To: <1b1vcc1nmoiis$.dlg@nililand.de>
Message-ID: <202102212247.11LMlw36017497@freefriends.org>

    A new version of luacolor https://ctan.org/pkg/luacolor

Updated for tonight. Sorry for the delay.

From alessi at robertalessi.net  Wed Feb 24 06:47:53 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 24 Feb 2021 06:47:53 +0100
Subject: pdfmanagement-testphase: wrong directory for .ltx file
Message-ID: <20210224054753.GA7500@robertalessi.net>

Hello,

I just tried to test the new pdfmanagement-testphase but I got an
error.  It seems that pdfmanagement-testphase.ltx which is in
doc/latex/pdfmanagement-testphase/ should be moved to
tex/latex/pdfmanagement-testphase/

Thank you,

Robert

From alessi at robertalessi.net  Wed Feb 24 06:56:51 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 24 Feb 2021 06:56:51 +0100
Subject: pdfmanagement-testphase: wrong directory for .ltx file
In-Reply-To: <20210224054753.GA7500@robertalessi.net>
References: <20210224054753.GA7500@robertalessi.net>
Message-ID: <20210224055651.GA8205@robertalessi.net>

Same remark for l3backend-testphase.lua

R.

On Wed, Feb 24, 2021 at 06:47:53AM +0100, Robert Alessi wrote:
> Hello,
> 
> I just tried to test the new pdfmanagement-testphase but I got an
> error.  It seems that pdfmanagement-testphase.ltx which is in
> doc/latex/pdfmanagement-testphase/ should be moved to
> tex/latex/pdfmanagement-testphase/
> 
> Thank you,
> 
> Robert

From news3 at nililand.de  Wed Feb 24 08:50:41 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 24 Feb 2021 08:50:41 +0100
Subject: installation of pdfmanagement-testphase is faulty
Message-ID: <c49ivoigzu1z.dlg@nililand.de>

Two run-time files 

  pdfmanagement-testphase.ltx and 
  l3backend-testphase.lua 

are in the doc-folder and not in
tex/latex/pdfmanagement-testphase as needed.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From news3 at nililand.de  Wed Feb 24 08:53:01 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 24 Feb 2021 08:53:01 +0100
Subject: pdfmanagement-testphase: wrong directory for .ltx file
References: <20210224054753.GA7500@robertalessi.net>
Message-ID: <1kkj9aywl1ai4$.dlg@nililand.de>

Am Wed, 24 Feb 2021 06:47:53 +0100 schrieb Robert Alessi:

> I just tried to test the new pdfmanagement-testphase but I got an
> error.

Our first tester ;-) 

(I just reported the problem too, your messages didn't pop up in
time ...)

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From wl at gnu.org  Wed Feb 24 09:37:30 2021
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 24 Feb 2021 09:37:30 +0100 (CET)
Subject: polyglossia: Please add `Changelog.tex` to documentation
Message-ID: <20210224.093730.132743909480768647.wl@gnu.org>


Running

  xelatex polyglossia.dtx 

also produces a file `Changelog.tex`.  I suggest to rename this to
`Changelog` (or `ChangeLog`; it is a plain-text file) and put it into
polyglossia's `doc` folder.

A better solution IMHO would be to integrate the package history into
the polyglossia manual as an appendix, but this is up to Arthur?:-)


    Werner


From arthur.reutenauer at normalesup.org  Wed Feb 24 09:46:50 2021
From: arthur.reutenauer at normalesup.org (Arthur Rosendahl)
Date: Wed, 24 Feb 2021 09:46:50 +0100
Subject: polyglossia: Please add `Changelog.tex` to documentation
In-Reply-To: <20210224.093730.132743909480768647.wl@gnu.org>
References: <20210224.093730.132743909480768647.wl@gnu.org>
Message-ID: <20210224084649.3siw7uab5k2pdtfi@phare.normalesup.org>

On Wed, Feb 24, 2021 at 09:37:30AM +0100, Werner LEMBERG wrote:
> Running
> 
>   xelatex polyglossia.dtx 
> 
> also produces a file `Changelog.tex`.  I suggest to rename this to
> `Changelog` (or `ChangeLog`; it is a plain-text file) and put it into
> polyglossia's `doc` folder.

  Thanks for the report, I?ve opened an issue on GitHub:
https://github.com/reutenauer/polyglossia/issues/476/.  Let?s have the
discussion there.

	Best,

		Arthur

From wl at gnu.org  Wed Feb 24 10:29:06 2021
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 24 Feb 2021 10:29:06 +0100 (CET)
Subject: version data missing in ConTeXt hyphenation patterns
Message-ID: <20210224.102906.1920270250672182342.wl@gnu.org>


[Since I'm not sure who is responsible for generating the pattern
 files for ConTeXt I'm writing to this list.]

If I look into file

  tex/context/patterns/mkiv/lang-de.lua

I see the following.

  ["metadata"]={
    ["mnemonic"]="de",
    ["source"]="hyph-de-1996",
    ["texcomment"]="% no comment",
  }

However, version information is completely missing.  For example, file

  tex/generic/hyph-utf8/patterns/tex/hyph-de-1996.tex

contains

  % version: 2019-04-04

[Arthur worked hard to make the comment format uniform for all
pattern files in `hyph-utf8`!]

This omission is really bad IMHO, since the version of the patterns
are essential to get identical line breaks for older documents.

I guess it shouldn't be too difficiult to update the `mtxrun` script,
making it add

  ["version"]="2019-04-04"

to the 'metadata' block.  Or maybe it's better to make it update the
`.rme` files with the corresponding information.


    Werner

From karl at freefriends.org  Thu Feb 25 00:40:36 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 24 Feb 2021 16:40:36 -0700
Subject: installation of pdfmanagement-testphase is faulty
In-Reply-To: <c49ivoigzu1z.dlg@nililand.de>
Message-ID: <202102242340.11ONeamD012280@freefriends.org>

    l3backend-testphase.lua
    pdfmanagement-testphase.ltx

Fixed for tonight, I hope. Sorry for missing that obviousness. -k

From karl at freefriends.org  Thu Feb 25 03:47:18 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 24 Feb 2021 19:47:18 -0700
Subject: installation of pdfmanagement-testphase is faulty
In-Reply-To: <c49ivoigzu1z.dlg@nililand.de>
Message-ID: <202102250247.11P2lIvx010382@freefriends.org>

>>     l3backend-testphase.lua
>>     pdfmanagement-testphase.ltx

> Fixed for tonight, I hope. Sorry for missing that obviousness. -k

Unfortunately, due to unforeseen messiness in the
tlnet vs. tlpretest vs. branch vs. trunk switching I've been working on
today, there won't be a tlnet update tonight. Tomorrow.

(The tlpretest repository is initialized but only a couple of binary sets
have been updated so far, so best to wait on that. I'll send a real
announcement about it tomorrow, if all goes ok.)

Sorry,
Karl

From karl at freefriends.org  Fri Feb 26 00:53:54 2021
From: karl at freefriends.org (Karl Berry)
Date: Thu, 25 Feb 2021 16:53:54 -0700
Subject: pretest 2021 begin
Message-ID: <202102252353.11PNrsU2015538@freefriends.org>

Hi everyone.  I think the pretest area is populated with the first build
for TL 2021. See https://tug.org/texlive/pretest.html as usual for
details of how to install (unchanged from previous years), and the list
of notable changes that I've got so far. Additions or corrections to the
news are greatly appreciated.

The binaries for some of the platforms (x86_64-darwinlegacy, *-freebsd,
-solaris, armhf-linux) have not yet been updated. I expect that to
happen soon.  All others are current AFAIK.  Dick Koch is creating the
MacTeX/BasicTeX packages and they should also be available soon.

As I mentioned in passing a day or two ago, this year for the first time
tlnet will continue to be updated during this pretest period. That is,
regular package updates sent to CTAN will normally end up in both tlnet
and tlpretest. (If a package update should only be in the pretest,
and you haven't already told me, please say so in the CTAN upload notes.)

Please don't let this dissuade you from trying the pretest!  Better for
everyone to test now than wait for breakage in the official release. TL
has no dedicated testers or QA department, so it's all up to us
collectively as volunteers.

Hope it flies,
Karl

From tex at lukasczyk.me  Fri Feb 26 09:29:41 2021
From: tex at lukasczyk.me (Stephan Lukasczyk)
Date: Fri, 26 Feb 2021 09:29:41 +0100
Subject: pretest 2021 begin
In-Reply-To: <202102252353.11PNrsU2015538@freefriends.org>
References: <202102252353.11PNrsU2015538@freefriends.org>
Message-ID: <20210226082941.yap6g5yz2fjqvf3c@cuba.fim.uni-passau.de>

Hi Karl,

On 2021-02-25 16:53:54, Karl Berry wrote:
>Hi everyone.  I think the pretest area is populated with the first build
>for TL 2021. See https://tug.org/texlive/pretest.html as usual for
>details of how to install (unchanged from previous years), and the list
>of notable changes that I've got so far. Additions or corrections to the
>news are greatly appreciated.

First of all, thank you to all people developing and maintaining TeX
Live and providing the pretest for 2021.

>Please don't let this dissuade you from trying the pretest!  Better for
>everyone to test now than wait for breakage in the official release. TL
>has no dedicated testers or QA department, so it's all up to us
>collectively as volunteers.

I have just installed TeX Live 2021 pretest on a MacBook Pro (macOS
11.2.1).  Installation on the command-line worked smooth as always.  I
used the `install-tl-unx.tar.gz` archive for this.

I then compiled a couple of smaller and larger documents lying around on
the machine with both pdflatex and lualatex, utilising bibtex and biber
as well.  All tested documents worked fine so far, no errors
encountered.  If errors occur in the future, I'll report those.

Happy testing to all, and thank you again for TeX Live!

Best,
   Stephan

-- 
Stephan Lukasczyk
GPG-Key: 0x06E03C26B90F403D
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 898 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210226/84f079a7/attachment.sig>

From denis.bitouze at univ-littoral.fr  Fri Feb 26 09:50:26 2021
From: denis.bitouze at univ-littoral.fr (Denis =?utf-8?Q?Bitouz=C3=A9?=)
Date: Fri, 26 Feb 2021 09:50:26 +0100 (CET)
Subject: uninstalling an old version
In-Reply-To: <202003162100.02GL0mMt000972@freefriends.org>
References: <202003162100.02GL0mMt000972@freefriends.org>
Message-ID: <868574527.2040613.1614329426350.JavaMail.zimbra@univ-littoral.fr>

----- Mail original -----
> De: "Karl Berry" <karl at freefriends.org>
> ?: tex-live at tug.org
> Envoy?: Lundi 16 Mars 2020 22:00:48
> Objet: Re: uninstalling an old version

>    a few words about symlinks and nothing is said on how to deal with
>    multiple TL installations with this option.
> 
> Thanks for the draft text. Sorry, but I don't want to add a lot of (or
> any) text now.  Maybe for 2021. --best, karl.

Since the main TeX Live documentation is not yet fully updated, I remind
you the discussion we had last year about symlinks:

  ?????
  ? https://tug.org/pipermail/tex-live/2020-March/045109.html
  ?????

IMO, symlinks are the simpler method to install TL on Unix. So, in the
TL 2020's documentation, after:

  ?????
  ? \item[create symlinks in standard directories:]
  ?   This option (Unix only) bypasses the need to change environment
  ?   variables. Without this option, \TL{} directories usually have to be
  ?   added to \envname{PATH}, \envname{MANPATH} and \envname{INFOPATH}. You
  ?   will need write permissions to the target directories.  This option is
  ?   intended for accessing the \TeX\ system through directories that are
  ?   already known to users, such as \dirname{/usr/local/bin}, which don't
  ?   already contain any \TeX\ files.  Do not overwrite existing files on
  ?   your system with this option, e.g., by specifying system directories.
  ?   The safest and recommended approach is to leave the option unchecked.
  ?????

here is what I added as translator note (roughly translated from
French): 

  ?????
  ?   \begin{description}
  ?   \item [Translator's note.] The translator (Denis Bitouz?) on the
  ?   contrary recommends this option: it greatly simplifies the
  ?   installation process since it does not require the post-installation
  ?   configurations of section~\ref{sec:env}. This method requires
  ?   precautions only in the following cases.
  ?     \begin{description}
  ?     \item [Adding an executable:] after the \TL{} has been installed, it can
  ?       be updated, for example by means of:
  ? \begin{alltt}
  ? > tlmgr update --self --all
  ? \end{alltt}
  ?       The updated elements are most of the time packages and
  ?       classes. They do not pose a problem, but it also happens that
  ?       a new binary is added and, by default, it is not directly
  ?       accessible to the system. For it to be accessible, it is necessary
  ?       to update the symbolic links and, to do so, simply launch :
  ? \begin{alltt}
  ? > tlmgr path add
  ? \end{alltt}
  ?     \item [Multiple Installations:] For example, suppose you keep
  ?       the \TL{} 2019 next to the \TL{} 2020 in case a document which
  ?       used to compile with the former doesn't compile anymore with the
  ?       latter. To switch from 2020 to 2019, just run\footnote{Assuming
  ?       that these \TL{} have been installed in the folder
  ?       \dirname{/usr/local/texlive/}, subfolders respectively
  ?   \dirname{2019} and \dirname{2020}.}: 
  ? \begin{alltt}
  ? /usr/local/texlive/2019/bin/x86_64-linux/tlmgr path add
  ? \end{alltt}
  ?       then, to go back to the 2020s:
  ? \begin{\alltt}
  ? /usr/local/texlive/2020/bin/x86_64-linux/tlmgr path add
  ? \end{alltt}
  ?     \item [Dead symbolic links:] following the installation of multiple
  ?       \TL{}, some dead symbolic links may be found in the
  ?       binaries folder (typically \dirname{/usr/local/bin}). For
  ?       delete them, just run :
  ? \begin{alltt}
  ? > find /usr/local/bin -xtype l -delete
  ? \end{alltt}
  ?     \end{description}
  ?????

WDYT?
-- 
Denis


From d.p.carlisle at gmail.com  Fri Feb 26 10:00:49 2021
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 26 Feb 2021 09:00:49 +0000
Subject: pretest 2021 begin
In-Reply-To: <202102252353.11PNrsU2015538@freefriends.org>
References: <202102252353.11PNrsU2015538@freefriends.org>
Message-ID: <CAEW6iOg8yoLpwVxFMNb2i=su84MD+8o5qOJgfJ4EKgiR39dWkw@mail.gmail.com>

This is probably known but in case not.. installing (via
install-tl-unx.tar.gz) for cygwin 64 it all seemed to go well and I get

$ type latex
latex is hashed (/usr/local/texlive/2021/bin/x86_64-cygwin/latex)

But the binary is (or claims to be) 2020

$ latex small2e
This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020) (preloaded
format=latex)
 restricted \write18 enabled.
entering extended mode
(/usr/local/texlive/2021/texmf-dist/tex/latex/base/small2e.tex


Not surprising if cygwin isn't in the first wave of binaries available but
I'd have expected it to fail to install rather than install an old one if
this was the case?

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210226/70de5e91/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Fri Feb 26 10:55:39 2021
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 26 Feb 2021 09:55:39 +0000
Subject: [EXT] pretest 2021 begin
In-Reply-To: <202102252353.11PNrsU2015538@freefriends.org>
References: <202102252353.11PNrsU2015538@freefriends.org>
Message-ID: <4ee9d63b-d87f-72a1-da09-b62ebdcec15d@Rhul.Ac.Uk>

Karl Berry wrote:


I think the pretest area is populated with the first build
for TL 2021. See https://tug.org/texlive/pretest.html as usual for
details of how to install (unchanged from previous years)


Just to note that the following recommendation/instruction from https://tug.org/texlive/pretest.html is incredibly dangerous :

rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir

Not being fully awake, I launched CMD but failed to change directory from C:\Windows\System32 to C:\TeX\Live\2021\Pre-test, and as a result, "rsync" attempted to delete everything in (and under) C:\Windows\System32.  Fortunately I was operating as my normal self, not as system administrator, and as far as I can see the command therefore had no deleterious side-effects.  However, in the light of this experience it would seem to me that a far safer incantation should be recommended.  Is there a variant of

rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir

that will report if the current directory is not empty, and either abort unconditionally or, at the very least, await confirmation from the user that he/she realises that everything in and under the current directory is about to be deleted and is happy with this ?
--
Philip Taylor


This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210226/1d225636/attachment-0001.html>

From usenet at siart.de  Fri Feb 26 12:34:23 2021
From: usenet at siart.de (Uwe Siart)
Date: Fri, 26 Feb 2021 12:34:23 +0100
Subject: pretest 2021 begin
References: <202102252353.11PNrsU2015538@freefriends.org>
 <20210226082941.yap6g5yz2fjqvf3c@cuba.fim.uni-passau.de>
Message-ID: <87r1l35agw.fsf@siart.de>

Stephan Lukasczyk <tex at lukasczyk.me> writes:

> I have just installed TeX Live 2021 pretest on a MacBook Pro (macOS
> 11.2.1).  Installation on the command-line worked smooth as always.  I
> used the `install-tl-unx.tar.gz` archive for this.
>
> I then compiled a couple of smaller and larger documents lying around on
> the machine with both pdflatex and lualatex, utilising bibtex and biber
> as well.  All tested documents worked fine so far, no errors
> encountered.  If errors occur in the future, I'll report those.

A similarly good impression here. Smooth install on Win7. Then compiled
some of my more complex documents with latex+dvips+ps2pdf, pdflatex, and
lualatex with no problems.

> Happy testing to all, and thank you again for TeX Live!

I can only approve that. Many thanks to all who make TeX Live possible!

-- 
Uwe


From norbert at preining.info  Fri Feb 26 13:38:03 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 26 Feb 2021 21:38:03 +0900
Subject: [EXT] pretest 2021 begin
In-Reply-To: <4ee9d63b-d87f-72a1-da09-b62ebdcec15d@Rhul.Ac.Uk>
References: <202102252353.11PNrsU2015538@freefriends.org>
 <4ee9d63b-d87f-72a1-da09-b62ebdcec15d@Rhul.Ac.Uk>
Message-ID: <YDjrq8sYc9aLfS6w@bulldog.preining.info>

Hi Philip,

> rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
> 
> Not being fully awake, I launched CMD but failed to change directory from C:\Windows\System32 to C:\TeX\Live\2021\Pre-test, and as a result, "rsync" attempted to delete everything in (and under) C:\Windows\System32.

No, no, and again no.

Unless you have a very very strange rsync.

> rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
> 
> that will report if the current directory is not empty, and either abort unconditionally or, at the very least, await confirmation from the user that he/she realises that everything in and under the current directory is about to be deleted and is happy with this ?

There is no difference in the call, you probably simply misstyped
something.

(Not that expected anything else from you, though!)

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From zdenek.wagner at gmail.com  Fri Feb 26 13:44:49 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 26 Feb 2021 13:44:49 +0100
Subject: [EXT] pretest 2021 begin
In-Reply-To: <YDjrq8sYc9aLfS6w@bulldog.preining.info>
References: <202102252353.11PNrsU2015538@freefriends.org>
 <4ee9d63b-d87f-72a1-da09-b62ebdcec15d@Rhul.Ac.Uk>
 <YDjrq8sYc9aLfS6w@bulldog.preining.info>
Message-ID: <CAC1phyb+fVWzyK+JvrM5ZQG+xkEM1UYbU0ofX5ogr7ZY5R0vfQ@mail.gmail.com>

Hi all,

in Windows the local dir might need the drive letter but I cannot test
it (I have Windows XP and Windows 7 in virtual machines but without
rsync and with very small disks).

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

p? 26. 2. 2021 v 13:38 odes?latel Norbert Preining
<norbert at preining.info> napsal:
>
> Hi Philip,
>
> > rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
> >
> > Not being fully awake, I launched CMD but failed to change directory from C:\Windows\System32 to C:\TeX\Live\2021\Pre-test, and as a result, "rsync" attempted to delete everything in (and under) C:\Windows\System32.
>
> No, no, and again no.
>
> Unless you have a very very strange rsync.
>
> > rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
> >
> > that will report if the current directory is not empty, and either abort unconditionally or, at the very least, await confirmation from the user that he/she realises that everything in and under the current directory is about to be deleted and is happy with this ?
>
> There is no difference in the call, you probably simply misstyped
> something.
>
> (Not that expected anything else from you, though!)
>
> Best
>
> Norbert
>
> --
> PREINING Norbert                              https://www.preining.info
> Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From P.Taylor at Hellenic-Institute.Uk  Fri Feb 26 15:22:56 2021
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor)
Date: Fri, 26 Feb 2021 14:22:56 +0000
Subject: [EXT] pretest 2021 begin
In-Reply-To: <YDjrq8sYc9aLfS6w@bulldog.preining.info>
References: <202102252353.11PNrsU2015538@freefriends.org>
 <4ee9d63b-d87f-72a1-da09-b62ebdcec15d@Rhul.Ac.Uk>
 <YDjrq8sYc9aLfS6w@bulldog.preining.info>
Message-ID: <fa00948a-0682-c0e7-8f5c-37af10c1b428@Hellenic-Institute.Uk>

Norbert Preining wrote:

>> rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
>>
>> Not being fully awake, I launched CMD but failed to change directory from C:\Windows\System32 to C:\TeX\Live\2021\Pre-test, and as a result, "rsync" attempted to delete everything in (and under) C:\Windows\System32.
> No, no, and again no.
>
> Unless you have a very very strange rsync.
>
>> rsync -a --delete --exclude="mactex*" somemirror::/some/path/ /your/local/dir
>>
>> that will report if the current directory is not empty, and either abort unconditionally or, at the very least, await confirmation from the user that he/she realises that everything in and under the current directory is about to be deleted and is happy with this ?
> There is no difference in the call, you probably simply misstyped
> something.
>
> (Not that expected anything else from you, though!)

What you /might/ expect, Norbert, is that I /copied-and-pasted/ the 
command from the page cited, and then added the two additional 
command-line qualifiers "-L" (symbolic links) and "-v" (verbose) as 
recommended on the same page ?

> Add -v if you want to see the names of the files as they are transferred.
> Add -L if your system does not support symbolic links. 

Here /is/ the command, copied-and-pasted from the very CMD window into 
which it was first pasted and then amended ?

  * rsync -a -L -v --delete --exclude="mactex*" texlive.info::tlpretest .

And as to "a very very strange rync", my 'rsync' reports :

> C:\TeX\Live\2021\Pre-test>rsync --version
> rsync? version 3.0.9? protocol version 30
> Copyright (C) 1996-2011 by Andrew Tridgell, Wayne Davison, and others.
> Web site: http://rsync.samba.org/
> Capabilities:
> ??? 64-bit files, 64-bit inums, 32-bit timestamps, 64-bit long ints,
> ??? no socketpairs, hardlinks, symlinks, IPv6, batchfiles, inplace,
> ??? append, ACLs, xattrs, iconv, symtimes
>
> rsync comes with ABSOLUTELY NO WARRANTY.? This is free software, and you
> are welcome to redistribute it under certain conditions.? See the GNU
> General Public Licence for details.

Would you care to update your earlier "No, no, and again no" in the 
light of this information ?
/--
//** Phil./
//

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210226/f9e59918/attachment.html>

From zdenek.wagner at gmail.com  Fri Feb 26 15:34:20 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 26 Feb 2021 15:34:20 +0100
Subject: [EXT] pretest 2021 begin
In-Reply-To: <fa00948a-0682-c0e7-8f5c-37af10c1b428@Hellenic-Institute.Uk>
References: <202102252353.11PNrsU2015538@freefriends.org>
 <4ee9d63b-d87f-72a1-da09-b62ebdcec15d@Rhul.Ac.Uk>
 <YDjrq8sYc9aLfS6w@bulldog.preining.info>
 <fa00948a-0682-c0e7-8f5c-37af10c1b428@Hellenic-Institute.Uk>
Message-ID: <CAC1phyZ2HMGaohR2VdKW6+Ph-To+cHA3M6kQ3DHd3dj7ijptjg@mail.gmail.com>

p? 26. 2. 2021 v 15:23 odes?latel Philip Taylor
<P.Taylor at hellenic-institute.uk> napsal:
>
> Norbert Preining wrote:
>
...
>
> Here is the command, copied-and-pasted from the very CMD window into which it was first pasted and then amended ?
>
> rsync -a -L -v --delete --exclude="mactex*" texlive.info::tlpretest .
>
The dot at the end of the command means current directory and --delete
asks for deletion of all files and directories not present in the
source, so rsync just did what it was asked for. If I plan doing such
operations repeatedly, I make a batch file which starts with "cd" to
the correct directory (and optionaly creates it). I know why I am
doing it. I managed to erase the whole computer by mistake...

> And as to "a very very strange rync", my 'rsync' reports :
>
> C:\TeX\Live\2021\Pre-test>rsync --version
> rsync  version 3.0.9  protocol version 30
> Copyright (C) 1996-2011 by Andrew Tridgell, Wayne Davison, and others.
> Web site: http://rsync.samba.org/
> Capabilities:
>     64-bit files, 64-bit inums, 32-bit timestamps, 64-bit long ints,
>     no socketpairs, hardlinks, symlinks, IPv6, batchfiles, inplace,
>     append, ACLs, xattrs, iconv, symtimes
>
> rsync comes with ABSOLUTELY NO WARRANTY.  This is free software, and you
> are welcome to redistribute it under certain conditions.  See the GNU
> General Public Licence for details.
>
>
> Would you care to update your earlier "No, no, and again no" in the light of this information ?
> --
> ** Phil.


From alessi at robertalessi.net  Fri Feb 26 19:49:47 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Fri, 26 Feb 2021 19:49:47 +0100
Subject: missing l3pdf.sty
Message-ID: <20210226184947.GA10804@robertalessi.net>

Dear list,

Compiling this simple file:

--------------------snip--------------------
\documentclass{article}

\usepackage{intopdf} % same result with any package supposed to load
                     % l3pdf.sty 

\begin{document}
Test
\end{document}
--------------------snip--------------------

gives me the following error message:

--------------------snip--------------------
(/usr/local/texlive/2021/texmf-dist/tex/latex/l3kernel/expl3.sty
(/usr/local/texlive/2021/texmf-dist/tex/latex/l3backend/l3backend-luatex.def))
(/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
(/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse-2020-10-
01.sty
(/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse-generic.
tex)))

! LaTeX Error: File `l3pdf.sty' not found.
--------------------snip--------------------

I am now running texlive pretest but I remember that I got the same
error a couple of days ago.

Where did l3pdf.sty go?

Thank you,

Robert

From news3 at nililand.de  Fri Feb 26 20:12:33 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 26 Feb 2021 20:12:33 +0100
Subject: missing l3pdf.sty
References: <20210226184947.GA10804@robertalessi.net>
Message-ID: <kurq0da9wetw.dlg@nililand.de>

Am Fri, 26 Feb 2021 19:49:47 +0100 schrieb Robert Alessi:

> Where did l3pdf.sty go?

l3pdf is now included in l3kernel and packages loading it directly
will need to remove it.

You can as a work-around define ver at l3pdf.sty so that \usepackage
not longer tries to load it.



-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From news3 at nililand.de  Fri Feb 26 21:57:48 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 26 Feb 2021 21:57:48 +0100
Subject: pretest 2021 begin
References: <202102252353.11PNrsU2015538@freefriends.org>
Message-ID: <7hhxmqtlajgp.dlg@nililand.de>


Small glitch.
 
At the end of the installation I saw the message:

     Time used for installing the packages: 142:22

The "142" looks quite wrong, actually it was 2:22


-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From alessi at robertalessi.net  Fri Feb 26 20:56:46 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Fri, 26 Feb 2021 20:56:46 +0100
Subject: missing l3pdf.sty
In-Reply-To: <kurq0da9wetw.dlg@nililand.de>
References: <20210226184947.GA10804@robertalessi.net>
 <kurq0da9wetw.dlg@nililand.de>
Message-ID: <20210226195645.GA13011@robertalessi.net>

On Fri, Feb 26, 2021 at 08:12:33PM +0100, Ulrike Fischer wrote:
> Am Fri, 26 Feb 2021 19:49:47 +0100 schrieb Robert Alessi:
> 
> > Where did l3pdf.sty go?
> 
> l3pdf is now included in l3kernel and packages loading it directly
> will need to remove it.
> 
> You can as a work-around define ver at l3pdf.sty so that \usepackage
> not longer tries to load it.
> 

Perfect, thank you!

Robert

From alessi at robertalessi.net  Fri Feb 26 21:14:01 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Fri, 26 Feb 2021 21:14:01 +0100
Subject: missing l3pdf.sty
In-Reply-To: <20210226195645.GA13011@robertalessi.net>
References: <20210226184947.GA10804@robertalessi.net>
 <kurq0da9wetw.dlg@nililand.de>
 <20210226195645.GA13011@robertalessi.net>
Message-ID: <20210226201401.GA15487@robertalessi.net>

On Fri, Feb 26, 2021 at 08:56:45PM +0100, Robert Alessi wrote:
> On Fri, Feb 26, 2021 at 08:12:33PM +0100, Ulrike Fischer wrote:
> > Am Fri, 26 Feb 2021 19:49:47 +0100 schrieb Robert Alessi:
> > 
> > > Where did l3pdf.sty go?
> > 
> > l3pdf is now included in l3kernel and packages loading it directly
> > will need to remove it.
> > 
> > You can as a work-around define ver at l3pdf.sty so that \usepackage
> > not longer tries to load it.
> > 
> 
> Perfect, thank you!

However, there is still an undefined command called by intopdf:

--------------------snip--------------------
! Undefined control sequence.
\intopdf_attach_link:nnnnn ...>\pdf_object_now:nx 
                                                  {fstream}{{/Subtype/\__int...
--------------------snip--------------------

R.

From news3 at nililand.de  Fri Feb 26 22:41:04 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 26 Feb 2021 22:41:04 +0100
Subject: missing l3pdf.sty
References: <20210226184947.GA10804@robertalessi.net>
 <kurq0da9wetw.dlg@nililand.de> <20210226195645.GA13011@robertalessi.net>
 <20210226201401.GA15487@robertalessi.net>
Message-ID: <usukutmhc4jn$.dlg@nililand.de>

Am Fri, 26 Feb 2021 21:14:01 +0100 schrieb Robert Alessi:


> However, there is still an undefined command called by intopdf:
> 
> --------------------snip--------------------
> ! Undefined control sequence.
> \intopdf_attach_link:nnnnn ...>\pdf_object_now:nx 
>                                                   {fstream}{{/Subtype/\__int...
> --------------------snip--------------------
> 
> R.

Yes two commands were renamed. Marcel knows it already so it will be
updated soon. Try

\ExplSyntaxOn
\cs_set_eq:NN\pdf_object_now:nn \pdf_object_unnamed_write:nn
\cs_set_eq:NN\pdf_object_now:nx \pdf_object_unnamed_write:nx
\cs_set_eq:NN\pdf_object_last:n \pdf_object_ref_last:n
\ExplSyntaxOff


-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From tex at 2krueger.de  Fri Feb 26 23:19:06 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Fri, 26 Feb 2021 23:19:06 +0100
Subject: missing l3pdf.sty
In-Reply-To: <20210226184947.GA10804@robertalessi.net>
References: <20210226184947.GA10804@robertalessi.net>
Message-ID: <20210226221906.x64iyrlnix4vvx7l@yoga>

Hi Robert,

I just uploaded a fixed version of intopdf to GitHub.
(https://github.com/zauguin/intopdf)
It would be great if you could test it before I upload it to CTAN.

Best regards,
Marcel

On Fri, Feb 26, 2021 at 07:49:47PM +0100, Robert Alessi wrote:
> Dear list,
> 
> Compiling this simple file:
> 
> --------------------snip--------------------
> \documentclass{article}
> 
> \usepackage{intopdf} % same result with any package supposed to load
>                      % l3pdf.sty 
> 
> \begin{document}
> Test
> \end{document}
> --------------------snip--------------------
> 
> gives me the following error message:
> 
> --------------------snip--------------------
> (/usr/local/texlive/2021/texmf-dist/tex/latex/l3kernel/expl3.sty
> (/usr/local/texlive/2021/texmf-dist/tex/latex/l3backend/l3backend-luatex.def))
> (/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
> (/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse-2020-10-
> 01.sty
> (/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse-generic.
> tex)))
> 
> ! LaTeX Error: File `l3pdf.sty' not found.
> --------------------snip--------------------
> 
> I am now running texlive pretest but I remember that I got the same
> error a couple of days ago.
> 
> Where did l3pdf.sty go?
> 
> Thank you,
> 
> Robert

From karl at freefriends.org  Fri Feb 26 23:59:03 2021
From: karl at freefriends.org (Karl Berry)
Date: Fri, 26 Feb 2021 15:59:03 -0700
Subject: pretest 2021 begin
In-Reply-To: <CAEW6iOg8yoLpwVxFMNb2i=su84MD+8o5qOJgfJ4EKgiR39dWkw@mail.gmail.com>
Message-ID: <202102262259.11QMx3Cq003502@freefriends.org>

    But the binary is (or claims to be) 2020

Ken committed the cygwin binaries yesterday, so they probably weren't
distributed around yet. I imagine they'll be at whatever pretest mirror
you're using later today or tomorrow.

    I'd have expected it to fail to install rather than install an old one if
    this was the case?

No, I don't delete the old binaries; all the consistency checks would go
haywire. It doesn't seem bad to me to keep the existing binaries until
the new ones are in, anyway. Which, in practice, is pretty quickly.

Thanks for trying it, in any case. -k

From d.p.carlisle at gmail.com  Sat Feb 27 00:08:23 2021
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 26 Feb 2021 23:08:23 +0000
Subject: pretest 2021 begin
In-Reply-To: <202102262259.11QMx3Cq003502@freefriends.org>
References: <CAEW6iOg8yoLpwVxFMNb2i=su84MD+8o5qOJgfJ4EKgiR39dWkw@mail.gmail.com>
 <202102262259.11QMx3Cq003502@freefriends.org>
Message-ID: <CAEW6iOhq1MAGQ-MW6cR+swcSniLuZVAS7XMWSUu_V4Xf4WTWSA@mail.gmail.com>

On Fri, 26 Feb 2021 at 22:59, Karl Berry <karl at freefriends.org> wrote:

>     But the binary is (or claims to be) 2020
>
> Ken committed the cygwin binaries yesterday, so they probably weren't
> distributed around yet. I imagine they'll be at whatever pretest mirror
> you're using later today or tomorrow.
>

they arrived here today already via tlmgr  thanks!


>     I'd have expected it to fail to install rather than install an old one
> if
>     this was the case?
>
> No, I don't delete the old binaries; all the consistency checks would go
> haywire. It doesn't seem bad to me to keep the existing binaries until
> the new ones are in, anyway. Which, in practice, is pretty quickly.
>

Sure it's fine I nearly didn't mention it but then thought if they had been
dropped by accident and I hadn't mentioned  it I'd wish I had.


> Thanks for trying it, in any case. -k
>

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210226/c115a2d1/attachment.html>

From karl at freefriends.org  Sat Feb 27 00:27:08 2021
From: karl at freefriends.org (Karl Berry)
Date: Fri, 26 Feb 2021 16:27:08 -0700
Subject: uninstalling an old version
In-Reply-To: <868574527.2040613.1614329426350.JavaMail.zimbra@univ-littoral.fr>
Message-ID: <202102262327.11QNR8e1010716@freefriends.org>

Hi Denis,

    IMO, symlinks are the simpler method to install TL on Unix. 

I remember that that's your opinion, but I do not share it :).  Aside
from the maintainability problems you mention, to me the default
"containment" of TL within its own directories is a fundamentally
desirable feature that I would not want to suggest changing. --best, karl.

From alessi at robertalessi.net  Sat Feb 27 09:09:19 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Sat, 27 Feb 2021 09:09:19 +0100
Subject: missing l3pdf.sty
In-Reply-To: <20210226221906.x64iyrlnix4vvx7l@yoga>
 <usukutmhc4jn$.dlg@nililand.de>
Message-ID: <20210227080919.GA9111@robertalessi.net>

Hello Marcel and Ulrike,

Thank you very much for your help.

Ulrike's workaround worked.  Then I tested the updated intopdf with
fairly complex files and everything is back as normal.

With grateful thanks,

Robert

On Fri, Feb 26, 2021 at 11:19:06PM +0100, Marcel Fabian Kr?ger wrote:
> Hi Robert,
> 
> I just uploaded a fixed version of intopdf to GitHub.
> (https://github.com/zauguin/intopdf)
> It would be great if you could test it before I upload it to CTAN.
> 
> Best regards,
> Marcel
> 

On Fri, Feb 26, 2021 at 10:41:04PM +0100, Ulrike Fischer wrote:
> Am Fri, 26 Feb 2021 21:14:01 +0100 schrieb Robert Alessi:
> 
> 
> > However, there is still an undefined command called by intopdf:
> > 
> > --------------------snip--------------------
> > ! Undefined control sequence.
> > \intopdf_attach_link:nnnnn ...>\pdf_object_now:nx 
> >                                                   {fstream}{{/Subtype/\__int...
> > --------------------snip--------------------
> > 
> > R.
> 
> Yes two commands were renamed. Marcel knows it already so it will be
> updated soon. Try
> 
> \ExplSyntaxOn
> \cs_set_eq:NN\pdf_object_now:nn \pdf_object_unnamed_write:nn
> \cs_set_eq:NN\pdf_object_now:nx \pdf_object_unnamed_write:nx
> \cs_set_eq:NN\pdf_object_last:n \pdf_object_ref_last:n
> \ExplSyntaxOff
> 
> 
> -- 
> Ulrike Fischer 
> https://www.troubleshooting-tex.de/

> On Fri, Feb 26, 2021 at 07:49:47PM +0100, Robert Alessi wrote:
> > Dear list,
> > 
> > Compiling this simple file:
> > 
> > --------------------snip--------------------
> > \documentclass{article}
> > 
> > \usepackage{intopdf} % same result with any package supposed to load
> >                      % l3pdf.sty 
> > 
> > \begin{document}
> > Test
> > \end{document}
> > --------------------snip--------------------
> > 
> > gives me the following error message:
> > 
> > --------------------snip--------------------
> > (/usr/local/texlive/2021/texmf-dist/tex/latex/l3kernel/expl3.sty
> > (/usr/local/texlive/2021/texmf-dist/tex/latex/l3backend/l3backend-luatex.def))
> > (/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
> > (/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse-2020-10-
> > 01.sty
> > (/usr/local/texlive/2021/texmf-dist/tex/latex/l3packages/xparse/xparse-generic.
> > tex)))
> > 
> > ! LaTeX Error: File `l3pdf.sty' not found.
> > --------------------snip--------------------
> > 
> > I am now running texlive pretest but I remember that I got the same
> > error a couple of days ago.
> > 
> > Where did l3pdf.sty go?
> > 
> > Thank you,
> > 
> > Robert

From zdenek.wagner at gmail.com  Sat Feb 27 10:32:10 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 27 Feb 2021 10:32:10 +0100
Subject: uninstalling an old version
In-Reply-To: <202102262327.11QNR8e1010716@freefriends.org>
References: <868574527.2040613.1614329426350.JavaMail.zimbra@univ-littoral.fr>
 <202102262327.11QNR8e1010716@freefriends.org>
Message-ID: <CAC1phyYMqxwok4S8rp8DMBhFhKZvS+7BKxG3k-t4m0jcMnk3VQ@mail.gmail.com>

Symlinks are good if you are pretty sure that you always have just one
TeX distribution and before upgrading it you delete it completely.
Unfortunatelly, many Linux distributions contain theri own TeX
distributions and the installation is triggered by installing SGML or
XML tools or even by R. These distributions (if not installed
intentionally but due to dependencies) are usually incomplete and if
you do not check the validity of symlinks every day and do not handle
the automatically installed dependencies, you ask for weird erros
which can sometimes only be detected by running strace. I saw such
problems more than 100 times. This is why I stopped using symlinks in
TL 16 years ago. It happened even to me that after installing a
package not related to TeX at all suddenly TeX ceased to work with
complex documents and I was only able to compile very simple files.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

so 27. 2. 2021 v 0:27 odes?latel Karl Berry <karl at freefriends.org> napsal:
>
> Hi Denis,
>
>     IMO, symlinks are the simpler method to install TL on Unix.
>
> I remember that that's your opinion, but I do not share it :).  Aside
> from the maintainability problems you mention, to me the default
> "containment" of TL within its own directories is a fundamentally
> desirable feature that I would not want to suggest changing. --best, karl.


From denis.bitouze at univ-littoral.fr  Sat Feb 27 11:40:13 2021
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 27 Feb 2021 11:40:13 +0100
Subject: uninstalling an old version
In-Reply-To: <202102262327.11QNR8e1010716@freefriends.org> (Karl Berry's
 message of "Fri, 26 Feb 2021 16:27:08 -0700")
References: <202102262327.11QNR8e1010716@freefriends.org>
Message-ID: <877dmt94ky.fsf@example.com>

Le 26/02/21 ? 16h27, Karl Berry a ?crit :

> Hi Denis,
>
>     IMO, symlinks are the simpler method to install TL on Unix. 
>
> I remember that that's your opinion, but I do not share it :).

Too bad! :)

> Aside from the maintainability problems you mention, to me the default
> "containment" of TL within its own directories is a fundamentally
> desirable feature that I would not want to suggest changing.

OK.

AFAIR, I nevertheless can take the liberty to mention my opinion in the
French translation.

Best.
-- 
Denis


From P.Taylor at Hellenic-Institute.Uk  Sat Feb 27 12:58:40 2021
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor)
Date: Sat, 27 Feb 2021 11:58:40 +0000
Subject: pretest 2021 begin
In-Reply-To: <202102252353.11PNrsU2015538@freefriends.org>
References: <202102252353.11PNrsU2015538@freefriends.org>
Message-ID: <3bfda68a-98ad-2fe5-7b96-d767dfd4b3a5@Hellenic-Institute.Uk>

Karl Berry wrote:

> Hi everyone.  I think the pretest area is populated with the first build
> for TL 2021. See https://tug.org/texlive/pretest.html as usual for
> details of how to install (unchanged from previous years)

OK, I have re-synch'd the Slovenian mirror into 
C:\TeX\Live\2021\Pre-test, and unzipped 'install-tl.zip' to create 
C:\TeX\Live\2021\Pre-test\install-tl-20210226.? Following the 
instructions at https://tug.org/texlive/pretest.html & 
https://tug.org/texlive/doc/install-tl.html, and wishing to install from 
my local rsynch'd mirror, I have typed (at a CMD prompt)

> install-tl-windows -select-repository

which, according to https://tug.org/texlive/doc/install-tl.html, should 
"offer to install from local media if available".? It did not.? It 
offered me only online mirrors.? How do I persuade 
'install-tl-windows.bat' to install from local media ?
/-- //
//Philip Taylor//
/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210227/99bcee16/attachment.html>

From arthur.reutenauer at normalesup.org  Sat Feb 27 22:16:37 2021
From: arthur.reutenauer at normalesup.org (Arthur Rosendahl)
Date: Sat, 27 Feb 2021 22:16:37 +0100
Subject: uninstalling an old version
In-Reply-To: <877dmt94ky.fsf@example.com>
References: <202102262327.11QNR8e1010716@freefriends.org>
 <877dmt94ky.fsf@example.com>
Message-ID: <20210227211637.d44eqlpfr22bxifc@phare.normalesup.org>

On Sat, Feb 27, 2021 at 11:40:13AM +0100, Denis Bitouz? wrote:
> Le 26/02/21 ? 16h27, Karl Berry a ?crit :
>> Aside from the maintainability problems you mention, to me the default
>> "containment" of TL within its own directories is a fundamentally
>> desirable feature that I would not want to suggest changing.
> 
> OK.
> 
> AFAIR, I nevertheless can take the liberty to mention my opinion in the
> French translation.

  If you do, please mention that it?s the translator?s opinion,
otherwise it?s sure to lead to confusion between people having read
different recommendations in different languages.

	Best,

		Arthur

From denis.bitouze at univ-littoral.fr  Sat Feb 27 22:54:07 2021
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 27 Feb 2021 22:54:07 +0100
Subject: uninstalling an old version
In-Reply-To: <20210227211637.d44eqlpfr22bxifc@phare.normalesup.org> (Arthur
 Rosendahl's message of "Sat, 27 Feb 2021 22:16:37 +0100")
References: <202102262327.11QNR8e1010716@freefriends.org>
 <877dmt94ky.fsf@example.com>
 <20210227211637.d44eqlpfr22bxifc@phare.normalesup.org>
Message-ID: <87y2f9b2io.fsf@example.com>

Le 27/02/21 ? 22h16, Arthur Rosendahl a ?crit :

>   If you do, please mention that it?s the translator?s opinion,
> otherwise it?s sure to lead to confusion between people having read
> different recommendations in different languages.

Of course, and that's already what I did for TL 2020:

  ?????
  ? [...] L?approche la plus s?re et recommand?e est de laisser cette option
  ? d?coch?e.
  ? 
  ? *Note du traducteur.* Le traducteur (Denis Bitouz?) recommande au
  ?   contraire cette option : elle simplifie grandement l?installation
  ?   puisqu?elle ne n?cessite pas les configurations post-installation
  ?   indiqu?es section 3.4.1. Cette m?thode ne n?cessite des pr?cautions que
  ?   dans les cas suivants.
  ?   [...]
  ?????
-- 
Denis


From denis.bitouze at univ-littoral.fr  Sun Feb 28 11:54:37 2021
From: denis.bitouze at univ-littoral.fr (Denis =?utf-8?Q?Bitouz=C3=A9?=)
Date: Sun, 28 Feb 2021 11:54:37 +0100 (CET)
Subject: uninstalling an old version
In-Reply-To: <CAC1phyYMqxwok4S8rp8DMBhFhKZvS+7BKxG3k-t4m0jcMnk3VQ@mail.gmail.com>
References: <868574527.2040613.1614329426350.JavaMail.zimbra@univ-littoral.fr>
 <202102262327.11QNR8e1010716@freefriends.org>
 <CAC1phyYMqxwok4S8rp8DMBhFhKZvS+7BKxG3k-t4m0jcMnk3VQ@mail.gmail.com>
Message-ID: <678961783.2239229.1614509677215.JavaMail.zimbra@univ-littoral.fr>

Le 27/02/21 ? 10h32, Zden?k Wagner a ?crit :

> Symlinks are good if you are pretty sure that you always have just one
> TeX distribution

See below.

> and before upgrading it you delete it completely.

Maybe something TL could check, if not do?

> Unfortunatelly, many Linux distributions contain theri own TeX
> distributions and the installation is triggered by installing SGML or
> XML tools or even by R. These distributions (if not installed
> intentionally but due to dependencies) are usually incomplete and if
> you do not check the validity of symlinks every day and do not handle
> the automatically installed dependencies, you ask for weird erros
> which can sometimes only be detected by running strace.

If you install the symlinks in /usr/local/bin, it should take the
precedence over /usr/bin where the Linux distributions install TL.

> I saw such problems more than 100 times. This is why I stopped using
> symlinks in TL 16 years ago. It happened even to me that after
> installing a package not related to TeX at all suddenly TeX ceased to
> work with complex documents and I was only able to compile very simple
> files.

Weird.
-- 
Denis

----- Mail original -----
> De: "Zdenek Wagner" <zdenek.wagner at gmail.com>
> ?: "Karl Berry" <karl at freefriends.org>
> Cc: "Denis Bitouz?" <denis.bitouze at univ-littoral.fr>, "tex-live" <tex-live at tug.org>
> Envoy?: Samedi 27 F?vrier 2021 10:32:10
> Objet: Re: uninstalling an old version

> Symlinks are good if you are pretty sure that you always have just one
> TeX distribution and before upgrading it you delete it completely.
> Unfortunatelly, many Linux distributions contain theri own TeX
> distributions and the installation is triggered by installing SGML or
> XML tools or even by R. These distributions (if not installed
> intentionally but due to dependencies) are usually incomplete and if
> you do not check the validity of symlinks every day and do not handle
> the automatically installed dependencies, you ask for weird erros
> which can sometimes only be detected by running strace. I saw such
> problems more than 100 times. This is why I stopped using symlinks in
> TL 16 years ago. It happened even to me that after installing a
> package not related to TeX at all suddenly TeX ceased to work with
> complex documents and I was only able to compile very simple files.
> 
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
> http://icebearsoft.euweb.cz
> 
> so 27. 2. 2021 v 0:27 odes?latel Karl Berry <karl at freefriends.org> napsal:
>>
>> Hi Denis,
>>
>>     IMO, symlinks are the simpler method to install TL on Unix.
>>
>> I remember that that's your opinion, but I do not share it :).  Aside
>> from the maintainability problems you mention, to me the default
>> "containment" of TL within its own directories is a fundamentally
> > desirable feature that I would not want to suggest changing. --best, karl.

-- 
Denis


From arthur.reutenauer at normalesup.org  Sun Feb 28 15:36:02 2021
From: arthur.reutenauer at normalesup.org (Arthur Rosendahl)
Date: Sun, 28 Feb 2021 15:36:02 +0100
Subject: uninstalling an old version
In-Reply-To: <87y2f9b2io.fsf@example.com>
References: <202102262327.11QNR8e1010716@freefriends.org>
 <877dmt94ky.fsf@example.com>
 <20210227211637.d44eqlpfr22bxifc@phare.normalesup.org>
 <87y2f9b2io.fsf@example.com>
Message-ID: <20210228143602.imvcff2bkpv5syhr@phare.normalesup.org>

On Sat, Feb 27, 2021 at 10:54:07PM +0100, Denis Bitouz? wrote:
> Le 27/02/21 ? 22h16, Arthur Rosendahl a ?crit :
>>   If you do, please mention that it?s the translator?s opinion,
>> otherwise it?s sure to lead to confusion between people having read
>> different recommendations in different languages.
> 
> Of course, and that's already what I did for TL 2020:
> 
>   ?????
>   ? [...] L?approche la plus s?re et recommand?e est de laisser cette option
>   ? d?coch?e.
>   ? 
>   ? *Note du traducteur.* Le traducteur (Denis Bitouz?) recommande au
>   ?   contraire cette option : elle simplifie grandement l?installation
>   ?   puisqu?elle ne n?cessite pas les configurations post-installation
>   ?   indiqu?es section 3.4.1. Cette m?thode ne n?cessite des pr?cautions que
>   ?   dans les cas suivants.
>   ?   [...]
>   ?????

  Thanks, looks good!

	Arthur

