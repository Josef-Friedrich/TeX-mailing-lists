From leonard.michlmayr at gmail.com  Tue Jun  1 21:15:09 2021
From: leonard.michlmayr at gmail.com (Leonard Michlmayr)
Date: Tue, 1 Jun 2021 21:15:09 +0200
Subject: BAD signature from "TeX Live Distribution <tex-live@tug.org>"
Message-ID: <CAOhfsG1FbjLSBYJ_RW4z+hx-SWKrhyuO21sndzSvnBATGr=g5Q@mail.gmail.com>

Dear TeX Live maintainers,

I get a negative result from gpg --verify for install-tl-windows.exe
downloaded from  ftp.fau.de, mirror.easyname.at, and mirror.kumi.systems. I
am sorry if there is a mistake on my part. Is there something wrong with
the signature?

Regards,
Leonard Michlmayr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210601/5bda0a85/attachment.html>

From leonard.michlmayr at gmail.com  Tue Jun  1 21:35:14 2021
From: leonard.michlmayr at gmail.com (Leonard Michlmayr)
Date: Tue, 1 Jun 2021 21:35:14 +0200
Subject: BAD signature from "TeX Live Distribution <tex-live@tug.org>"
In-Reply-To: <CAOhfsG1FbjLSBYJ_RW4z+hx-SWKrhyuO21sndzSvnBATGr=g5Q@mail.gmail.com>
References: <CAOhfsG1FbjLSBYJ_RW4z+hx-SWKrhyuO21sndzSvnBATGr=g5Q@mail.gmail.com>
Message-ID: <CAOhfsG1ieaYez4nUg221muCteD0wWiAoScX7bOyjvkNqwdEYPw@mail.gmail.com>

Dear TeX Live maintainers,

I am sorry. I found the problem: I tried to verify the exe-file instead of
the sha512 file. After downloading the sha512-file and verifying that,
everything worked fine.

Regards,
Leonard Michlmayr

Am Di., 1. Juni 2021 um 21:15 Uhr schrieb Leonard Michlmayr <
leonard.michlmayr at gmail.com>:

> Dear TeX Live maintainers,
>
> I get a negative result from gpg --verify for install-tl-windows.exe
> downloaded from  ftp.fau.de, mirror.easyname.at, and mirror.kumi.systems.
> I am sorry if there is a mistake on my part. Is there something wrong with
> the signature?
>
> Regards,
> Leonard Michlmayr
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210601/13f49b54/attachment.html>

From bvoisin at icloud.com  Wed Jun  2 12:36:27 2021
From: bvoisin at icloud.com (Bruno Voisin)
Date: Wed, 2 Jun 2021 12:36:27 +0200
Subject: Rewrite from the ground up of the Ghostscript PDF interpreter
In-Reply-To: <20210525162331.86Kq5wFQu%rdt@cs.queensu.ca>
References: <20210525162331.86Kq5wFQu%rdt@cs.queensu.ca>
Message-ID: <3705D319-CACC-4DD0-9C8C-DD200C70C29A@icloud.com>

> Le 25 mai 2021 ? 18:23, Bob Tennent <rdtennent at gmail.com> a ?crit :
> 
>> | a couple of weeks ago the Ghostscript developers
>> | have announced they are rewriting Ghostscript's PDF
>> | interpreter, written mostly in PostScript, entirely in
>> | C.
> 
> Artifex already distribute mupdf, a very fast PDF viewer
> written in C. How will this be different?

One of the Ghostscript developers just posted an answer at

https://ghostscript.com/pipermail/gs-devel/2021-June/010472.html

Namely:

"
This is not MuPDF, and is not related to MuPDF. MuPDF is a PDF
interpreter built on its own dedicated "fitz" graphics library "back end".

The new PDF interpreter that we are working on is built on the same
Ghostscript graphics library "back end" that Ghostscript itself,
GhostPCL and GhostXPS are built upon.

In addition, you cannot use MuPDF from Ghostscript, where the new
Ghostscript PDF interpreter will, obviously, be integrated into
Ghostscript, replacing the existing Postscript-based PDF interpreter.
"

Bruno Voisin

From jfine2358 at gmail.com  Wed Jun  2 19:37:42 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 2 Jun 2021 18:37:42 +0100
Subject: TeX Hour: Thu 3 June: TeX from scratch: Rethinking the beginner
 experience
In-Reply-To: <CALD=Yf9bfJc8xO2v1r2uOusJBtoMxBmxDjmO-ZWYryUqFNRLgQ@mail.gmail.com>
References: <CALD=Yf-Ci=3rSeAZgjG7ohr1pECRt9MUhAmt5Tc+6vaDDMprTA@mail.gmail.com>
 <CALD=Yf9m5yykfnwL9Y60DGH6KBmFnYBEtiLLxE64U9DrE0U9GQ@mail.gmail.com>
 <CALD=Yf8FqMZ6F-KhkQEcbO5kt0e0MZ5TN_8dKoB9VGFaG5RuiQ@mail.gmail.com>
 <CALD=Yf9bfJc8xO2v1r2uOusJBtoMxBmxDjmO-ZWYryUqFNRLgQ@mail.gmail.com>
Message-ID: <CALD=Yf9eLXAPDZmk+=bpaboXVrzvHBJ4ES3-dcBwMw0LLuUQyQ@mail.gmail.com>

Hi

Tomorrow's TeX Hour is about relearning and rethinking the beginner
experience. It's Thursday 3 June, 6:30 to 7:30pm UK time. As a community,
we need to keep up. So much has changed since 2011.

1. Online YouTube videos on learning latex have been viewed over 10 million
times.
https://www.youtube.com/results?search_query=learn+latex&sp=CAM%253D

2. The LaTeX extension to Visual Studio Code has been downloaded over 1.2
million times.
https://marketplace.visualstudio.com/items?itemName=James-Yu.latex-workshop

3. The online LaTeX math via MathJax tutorial has been viewed over 1.2
million times.
https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial

The TeX Hour is Thursday 3 June, 6.30 to 7.30pm UK time. The UK time now is
at https://time.is/UK. The zoom details are
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Meeting ID: 785 5125 5396
Passcode: knuth

Interested? Please email me, or come along to the TeX Hour. I welcome your
experience and ideas. The starting point will be the well viewed URLs above.

The video from last week (Understand + refactor TeX Live: more flexible +
agile) is at:
https://www.youtube.com/playlist?list=PLw1FZfIX1w7hHiNEqVhZOmiV8mdaiQ-SA

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210602/04bef40f/attachment.html>

From alexander.krumeich at gmail.com  Fri Jun  4 10:41:10 2021
From: alexander.krumeich at gmail.com (Alexander Krumeich)
Date: Fri, 4 Jun 2021 10:41:10 +0200
Subject: TeX Live and linux-aarch64-musl
Message-ID: <CALeLr1mqZhRsETiyGfz_M1LYeqgYri0vcER-GpXQam-rcvi2mQ@mail.gmail.com>

Dear TeX Live list,

it occurred to me that ? with the advent of ARM-based Macs ? the
aarch64 platform might gain more traction not only for macOS, but also
for more varieties of Linux. However, I don't see wide support for
linux-aarch64-musl today. The currently provided linux-aarch64
binaries are, as far as I can tell, based on libc. To be clear: I'm
not talking about darwin-aarch64 running under macOS. That is working
perfectly now.

This whole thing might sound like a nerdy edge-case today, but maybe
in a couple of years we see more demand for that platform. Alpine is
very popular in the Docker community and in the not too distant future
people might want to run Alpine-based Docker containers with TeX on
their ARM Macs (or Raspberry Pi or AWS Graviton or other systems).
I've successfully shipped a containerized version of TeX Live to
internal and external clients.

Full disclosure: I provide the linux-x86_64-musl build of biber that
is part of TeX Live. I played around with linux-aarch64-musl yesterday
and managed to build biber successfully in an Alpine-based Docker
container on my M1 Mac.

Are there any considerations or plans to support the
linux-aarch64-musl platform?

   Alexander


From norbert at preining.info  Fri Jun  4 12:10:27 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 4 Jun 2021 19:10:27 +0900
Subject: TeX Live and linux-aarch64-musl
In-Reply-To: <CALeLr1mqZhRsETiyGfz_M1LYeqgYri0vcER-GpXQam-rcvi2mQ@mail.gmail.com>
References: <CALeLr1mqZhRsETiyGfz_M1LYeqgYri0vcER-GpXQam-rcvi2mQ@mail.gmail.com>
Message-ID: <YLn8E1R+j1uruDGg@bulldog.preining.info>

Hi Alex,

On Fri, 04 Jun 2021, Alexander Krumeich wrote:
> in a couple of years we see more demand for that platform. Alpine is
[...]
> Are there any considerations or plans to support the
> linux-aarch64-musl platform?

Adding a unix platform is rather easy, so *in a couple of years* when it
is relevant, and we are still around, we will surely add it.

But for now no plans ;-)

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Fri Jun  4 12:38:09 2021
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Fri, 4 Jun 2021 11:38:09 +0100
Subject: REVTeX dependencies
Message-ID: <ac2620fc-0bb7-069c-da7d-2dfbd37c23ce@morningstar2.co.uk>

Spotted testing siunitx:

- natbib
- textcase

are needed by revtex.

Joseph

From jhielscher at posteo.de  Fri Jun  4 15:52:26 2021
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Fri,  4 Jun 2021 13:52:26 +0000
Subject: TeX Live and linux-aarch64-musl
In-Reply-To: <CALeLr1mqZhRsETiyGfz_M1LYeqgYri0vcER-GpXQam-rcvi2mQ@mail.gmail.com>
References: <CALeLr1mqZhRsETiyGfz_M1LYeqgYri0vcER-GpXQam-rcvi2mQ@mail.gmail.com>
Message-ID: <20210604155226.7aec8d99@capsicvm>

Hi Alexander,

I second you with the assessment, that the adaption of ARM/AArch64
for open UN*Xoid operating systems will gain momentum in the years
coming (in addition to growth of closed AArch64 OSes like Mac OS and
Windows). That's part of why I had voluneered for TL port of
aarch64-linux (glibc-based) a few years ago.

Porting TL to musl is most probably quite easy, given the fairly modern
and active state of the environment (compilers etc.), as well as some
Linux distros based on musl (Alpine [0] and Void [1] come to my mind)
already have own TL ?downstream? binary packages in their regular
repositories.

On the other hand, this also lowers the driving force to supply
aarch64-linuxmusl binaries with ?upstream? TeXLive. Unless I overlook
some major use case/scenario of demand for TL binaries, IMHO the
societal layer between those who are fine with the respective distro
binaries, and those who are able/willing to compile TL by themselves
(and link against the libc of their choice) is rather small.

Best,
Johannes

[0]
https://pkgs.alpinelinux.org/package/edge/community/aarch64/texlive
[1]
https://github.com/void-linux/void-packages/tree/master/srcpkgs/texlive-bin

Am Fri, 4 Jun 2021 10:41:10 +0200
schrieb Alexander Krumeich <alexander.krumeich at gmail.com>:

> Dear TeX Live list,
> 
> it occurred to me that ? with the advent of ARM-based Macs ? the
> aarch64 platform might gain more traction not only for macOS, but also
> for more varieties of Linux. However, I don't see wide support for
> linux-aarch64-musl today. The currently provided linux-aarch64
> binaries are, as far as I can tell, based on libc. To be clear: I'm
> not talking about darwin-aarch64 running under macOS. That is working
> perfectly now.
> 
> This whole thing might sound like a nerdy edge-case today, but maybe
> in a couple of years we see more demand for that platform. Alpine is
> very popular in the Docker community and in the not too distant future
> people might want to run Alpine-based Docker containers with TeX on
> their ARM Macs (or Raspberry Pi or AWS Graviton or other systems).
> I've successfully shipped a containerized version of TeX Live to
> internal and external clients.
> 
> Full disclosure: I provide the linux-x86_64-musl build of biber that
> is part of TeX Live. I played around with linux-aarch64-musl yesterday
> and managed to build biber successfully in an Alpine-based Docker
> container on my M1 Mac.
> 
> Are there any considerations or plans to support the
> linux-aarch64-musl platform?
> 
>    Alexander
> 



From alexander.krumeich at gmail.com  Sat Jun  5 11:38:40 2021
From: alexander.krumeich at gmail.com (Alexander Krumeich)
Date: Sat, 5 Jun 2021 11:38:40 +0200
Subject: TeX Live and linux-aarch64-musl
In-Reply-To: <20210604155226.7aec8d99@capsicvm>
References: <CALeLr1mqZhRsETiyGfz_M1LYeqgYri0vcER-GpXQam-rcvi2mQ@mail.gmail.com>
 <20210604155226.7aec8d99@capsicvm>
Message-ID: <CALeLr1=AWiGCh10rd5mp1VVUKV1Btw4U2A9n9GYGW0n__RunNg@mail.gmail.com>

Hi,

that is a sound and reasonable point. Let's leave it at that and
revisit the issue should the need arise.

   Alexander


On Fri, Jun 4, 2021 at 3:52 PM Johannes Hielscher <jhielscher at posteo.de> wrote:
>
> Hi Alexander,
>
> I second you with the assessment, that the adaption of ARM/AArch64
> for open UN*Xoid operating systems will gain momentum in the years
> coming (in addition to growth of closed AArch64 OSes like Mac OS and
> Windows). That's part of why I had voluneered for TL port of
> aarch64-linux (glibc-based) a few years ago.
>
> Porting TL to musl is most probably quite easy, given the fairly modern
> and active state of the environment (compilers etc.), as well as some
> Linux distros based on musl (Alpine [0] and Void [1] come to my mind)
> already have own TL ?downstream? binary packages in their regular
> repositories.
>
> On the other hand, this also lowers the driving force to supply
> aarch64-linuxmusl binaries with ?upstream? TeXLive. Unless I overlook
> some major use case/scenario of demand for TL binaries, IMHO the
> societal layer between those who are fine with the respective distro
> binaries, and those who are able/willing to compile TL by themselves
> (and link against the libc of their choice) is rather small.
>
> Best,
> Johannes
>
> [0]
> https://pkgs.alpinelinux.org/package/edge/community/aarch64/texlive
> [1]
> https://github.com/void-linux/void-packages/tree/master/srcpkgs/texlive-bin
>
> Am Fri, 4 Jun 2021 10:41:10 +0200
> schrieb Alexander Krumeich <alexander.krumeich at gmail.com>:
>
> > Dear TeX Live list,
> >
> > it occurred to me that ? with the advent of ARM-based Macs ? the
> > aarch64 platform might gain more traction not only for macOS, but also
> > for more varieties of Linux. However, I don't see wide support for
> > linux-aarch64-musl today. The currently provided linux-aarch64
> > binaries are, as far as I can tell, based on libc. To be clear: I'm
> > not talking about darwin-aarch64 running under macOS. That is working
> > perfectly now.
> >
> > This whole thing might sound like a nerdy edge-case today, but maybe
> > in a couple of years we see more demand for that platform. Alpine is
> > very popular in the Docker community and in the not too distant future
> > people might want to run Alpine-based Docker containers with TeX on
> > their ARM Macs (or Raspberry Pi or AWS Graviton or other systems).
> > I've successfully shipped a containerized version of TeX Live to
> > internal and external clients.
> >
> > Full disclosure: I provide the linux-x86_64-musl build of biber that
> > is part of TeX Live. I played around with linux-aarch64-musl yesterday
> > and managed to build biber successfully in an Alpine-based Docker
> > container on my M1 Mac.
> >
> > Are there any considerations or plans to support the
> > linux-aarch64-musl platform?
> >
> >    Alexander
> >
>


From karl at freefriends.org  Sun Jun  6 00:58:33 2021
From: karl at freefriends.org (Karl Berry)
Date: Sat, 5 Jun 2021 16:58:33 -0600
Subject: REVTeX dependencies
In-Reply-To: <ac2620fc-0bb7-069c-da7d-2dfbd37c23ce@morningstar2.co.uk>
Message-ID: <202106052258.155MwX8P018676@freefriends.org>

    - natbib
    - textcase
    are needed by revtex.

Thanks, although revtex versioning is so "unique" that I admit I am even
less thrilled than usual to start inserting dependencies for it. -k

From kjharcombe at hey.com  Mon Jun  7 03:30:56 2021
From: kjharcombe at hey.com (Keiran Harcombe)
Date: Mon, 07 Jun 2021 01:30:56 +0000
Subject: Texdoctk Maintainer
Message-ID: <984b8f87698631aec5511b6b7938a8735c2666d0@hey.com>

Hi there,

I was hoping to offer my services to maintain Texdoctk if anyone feels
that would be helpful?

Kind Regards,
Keiran Harcombe
<https://kjharcombe.me>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210607/5b6ff9ed/attachment.html>

From siepo at bitmuis.nl  Mon Jun  7 16:18:40 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 7 Jun 2021 16:18:40 +0200
Subject: Texdoctk Maintainer
In-Reply-To: <984b8f87698631aec5511b6b7938a8735c2666d0@hey.com>
References: <984b8f87698631aec5511b6b7938a8735c2666d0@hey.com>
Message-ID: <YL4qwBs4qBUpozYV@bitmuis.nl>

On Mon, Jun 07, 2021 at 01:30:56AM +0000, Keiran Harcombe via tex-live wrote:
> Hi there,
> 
> I was hoping to offer my services to maintain Texdoctk if anyone feels
> that would be helpful?

Thanks for the offer.

However, before you spend time on this, consider that there are
alternatives:

- the CTAN catalog (https://www.ctan.org/)
- doc.html in the root of the TeX Live tree
- the command-line texdoc utility

All these are searchable. For my own use, I like these better than
texdoctk.  But of course other people may view things differently.

Also, Perl/Tk is not readily available for MacOS or Windows.

-- 
Siep Kroonenberg

From kjharcombe at hey.com  Mon Jun  7 20:10:36 2021
From: kjharcombe at hey.com (Keiran Harcombe)
Date: Mon, 07 Jun 2021 18:10:36 +0000
Subject: Texdoctk Maintainer
In-Reply-To: <984b8f87698631aec5511b6b7938a8735c2666d0@hey.com>
Message-ID: <4a94e33f46cacf1683599d91cab35eb5cb80e916@hey.com>

Hi there,

Thank you for that. I understand there are alternatives however for
those users that still use the package i believe it should receive some
maintenance.?

I?m happy to start maintaining it if your happy with that?

Kind Regards,
Keiran Harcombe
<https://static.fsf.org/nosvn/associate/crm/5571965.png>
<https://kjharcombe.me>

On June 7, 2021, Keiran Harcombe <kjharcombe at hey.com> wrote:
> Hi there,
>
> I was hoping to offer my services to maintain Texdoctk if anyone feels
> that would be helpful?
>
> Kind Regards,
> Keiran Harcombe
> <https://kjharcombe.me>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210607/74269a05/attachment.html>

From karl at freefriends.org  Mon Jun  7 22:57:57 2021
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Jun 2021 14:57:57 -0600
Subject: Texdoctk Maintainer
In-Reply-To: <984b8f87698631aec5511b6b7938a8735c2666d0@hey.com>
Message-ID: <202106072057.157KvvTj027897@freefriends.org>

    I was hoping to offer my services to maintain Texdoctk if anyone feels
    that would be helpful?

Hi Keiran - sure (as we discussed).

Making it a true frontend to texdoc would probably be sensible.
And possibly rewriting it in Tk/Tcl, as Siep used for tlshell et al.,
as being more portable. --happy hacking, karl.

From jfbu at free.fr  Tue Jun  8 11:39:31 2021
From: jfbu at free.fr (jfbu)
Date: Tue, 8 Jun 2021 11:39:31 +0200
Subject: Somewhat surprising behaviour of \scantokens after \endinput
Message-ID: <28D4A9DA-1267-4C84-ABB4-C5034676E2A1@free.fr>

Hi,

I have encountered a phenomenon with \scantokens executed after \endinput:

---
% execute this file testscan.tex with etex on command line
\def\test{%
    \begingroup
    \endlinechar-1\everyeof{\noexpand}%
    \edef\foo{\scantokens{}}%
    \endgroup
}%
\test % ok
% \test\endinput % would be ok
\endinput\test % not ok
---

executing "etex testscan" (or pdftex, xetex, luatex, eptex) gives this:

Runaway definition?
->
! File ended while scanning definition of \foo.
<inserted text> 
                }
\test ...of {\noexpand }\edef \foo {\scantokens {}
                                                  }\endgroup 
l.12 \endinput\test
                    % not ok^^M
? X

I would be curious if some expert could elucidate.

It seems the \noexpand which is usual trick to
be able to use \scantokens inside an \edef
fails here, 

and this is caused by the \scantokens being executed
after the \endinput token was already encountered

I have not looked at the sources and I can't
say a priori if this is to be expected or is
a problem with \scantokens

All I remember from whatever TeX documentation
I have read in the past
is that TeX executes the macros on the same
line as \endinput

And that a priori, it is unexpected behaviour
if one does not know the innards of \scantokens

I looked at https://tug.org/mailman/listinfo
but did not find an eTeX specific list,
so posting here as it is not pdftex specific either

Best,

Please CC my address if replying

Jean-Fran?ois





From jfbu at free.fr  Tue Jun  8 11:52:39 2021
From: jfbu at free.fr (jfbu)
Date: Tue, 8 Jun 2021 11:52:39 +0200
Subject: Somewhat surprising behaviour of \scantokens after \endinput
In-Reply-To: <28D4A9DA-1267-4C84-ABB4-C5034676E2A1@free.fr>
References: <28D4A9DA-1267-4C84-ABB4-C5034676E2A1@free.fr>
Message-ID: <F73F4680-114C-4173-B4A7-7F0B8FBE53EC@free.fr>


Le 8 juin 2021 ? 11:39, jfbu <jfbu at free.fr> a ?crit :

> Hi,
> 
> I have encountered a phenomenon with \scantokens executed after \endinput:
> 
> ---
> % execute this file testscan.tex with etex on command line
> \def\test{%
>    \begingroup
>    \endlinechar-1\everyeof{\noexpand}%
>    \edef\foo{\scantokens{}}%
>    \endgroup
> }%
> \test % ok
> % \test\endinput % would be ok
> \endinput\test % not ok
> ---
> 
> executing "etex testscan" (or pdftex, xetex, luatex, eptex) gives this:
> 
> Runaway definition?
> ->
> ! File ended while scanning definition of \foo.
> <inserted text> 
>                }
> \test ...of {\noexpand }\edef \foo {\scantokens {}
>                                                  }\endgroup 
> l.12 \endinput\test
>                    % not ok^^M
> ? X
> 
> I would be curious if some expert could elucidate.
> 
> It seems the \noexpand which is usual trick to
> be able to use \scantokens inside an \edef
> fails here, 
> 
> and this is caused by the \scantokens being executed
> after the \endinput token was already encountered
> 
> I have not looked at the sources and I can't
> say a priori if this is to be expected or is
> a problem with \scantokens
> 
> All I remember from whatever TeX documentation
> I have read in the past
> is that TeX executes the macros on the same
> line as \endinput
> 
> And that a priori, it is unexpected behaviour
> if one does not know the innards of \scantokens
> 
> I looked at https://tug.org/mailman/listinfo
> but did not find an eTeX specific list,
> so posting here as it is not pdftex specific either
> 
> Best,
> 
> Please CC my address if replying
> 
> Jean-Fran?ois
> 
> 


In contrast this has no issue

----
\def\test{%
    \input .tex\relax
}%
\endinput\test \message{This is ok}
----


produces

$ etex testbug4b
This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) (preloaded format=etex)
 restricted \write18 enabled.
entering extended mode
(./testbug4b.tex (/usr/local/texlive/2021/texmf-dist/tex/latex/tools/.tex)
This is ok)
*\bye
No pages of output.
Transcript written on testbug4b.log.


so it is not that executing \input after \endinput is forbidden.

Same with putting \message{This is ok} inside the file to \input

$ etex testbug4c
This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) (preloaded format=etex)
 restricted \write18 enabled.
entering extended mode
(./testbug4c.tex (./thisisok.tex This is ok))
*\bye
No pages of output.
Transcript written on testbug4c.log.





From jfbu at free.fr  Tue Jun  8 12:18:03 2021
From: jfbu at free.fr (jfbu)
Date: Tue, 8 Jun 2021 12:18:03 +0200
Subject: Somewhat surprising behaviour of \scantokens after \endinput
In-Reply-To: <F73F4680-114C-4173-B4A7-7F0B8FBE53EC@free.fr>
References: <28D4A9DA-1267-4C84-ABB4-C5034676E2A1@free.fr>
 <F73F4680-114C-4173-B4A7-7F0B8FBE53EC@free.fr>
Message-ID: <7374B559-AE88-4E43-8C41-57C217E2A68E@free.fr>


Le 8 juin 2021 ? 11:52, jfbu <jfbu at free.fr> a ?crit :

> so it is not that executing \input after \endinput is forbidden.


but only the first line of the \input file will be executed:

\endinput\input foo.tex\relax % only first line of foo.tex is taken into account



From cursus.publicus at sacrumromanumimperium.org  Tue Jun  8 13:51:49 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Tue, 8 Jun 2021 13:51:49 +0200
Subject: pdflatex does not work on win after todays update but does on linux
Message-ID: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>


Hi all,

I'm using TeXLive2021, installed on my Ubuntu-Server for two OS:
- x86_64-linux
- win32

After tonights update pdflatex for win32 does not work properly but I'm 
getting no error-message (see attached screenshot). It simply stops working.

The update-log says, that all formatfiles have been created properly and 
pdflatex on my linuxsystem works on the same inputfile without error.

Thanks for any hint

Andreas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608.jpg
Type: image/jpeg
Size: 44159 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/17258809/attachment-0001.jpg>

From daleif at math.au.dk  Tue Jun  8 14:16:57 2021
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 8 Jun 2021 12:16:57 +0000
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
Message-ID: <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>

does it work if you go to the same folder where the .tex file lives and run it where?

Aka don't use pdflatex.exe O:\....

I would never use full paths to compile a latex document especially on windows where you don't know who the \'s in the path are going to be dealt with. You can also try

using / in the path, Windows supports that as well



Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Andreas Hirsch <cursus.publicus at sacrumromanumimperium.org>
Sent: 08 June 2021 13:51
To: TeXLive <tex-live at tug.org>
Subject: pdflatex does not work on win after todays update but does on linux


Hi all,

I'm using TeXLive2021, installed on my Ubuntu-Server for two OS:
- x86_64-linux
- win32

After tonights update pdflatex for win32 does not work properly but I'm
getting no error-message (see attached screenshot). It simply stops working.

The update-log says, that all formatfiles have been created properly and
pdflatex on my linuxsystem works on the same inputfile without error.

Thanks for any hint

Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/41622158/attachment.html>

From cursus.publicus at sacrumromanumimperium.org  Tue Jun  8 14:23:36 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Tue, 8 Jun 2021 14:23:36 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
Message-ID: <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>

no

Lars Madsen schrieb am 08.06.2021 um 14:16:
> does it work if you go to the same folder where the .tex file lives and run it where?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v2.jpg
Type: image/jpeg
Size: 45111 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/fd556f21/attachment-0001.jpg>

From daleif at math.au.dk  Tue Jun  8 14:24:48 2021
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 8 Jun 2021 12:24:48 +0000
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>,
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
Message-ID: <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>

why are you giving the full path to pdflatex? aren't your TeXlive correctly installed

pdflatex file.tex

should be enough



Lars Madsen
Programm?r

Institut for Matematik
Aarhus Universitet

person.au.dk/daleif at math<https://person.au.dk/daleif at math>

________________________________
From: Andreas Hirsch <cursus.publicus at sacrumromanumimperium.org>
Sent: 08 June 2021 14:23
To: Lars Madsen <daleif at math.au.dk>; TeXLive <tex-live at tug.org>
Subject: Re: pdflatex does not work on win after todays update but does on linux

no

Lars Madsen schrieb am 08.06.2021 um 14:16:
> does it work if you go to the same folder where the .tex file lives and run it where?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/67aa1e46/attachment.html>

From cursus.publicus at sacrumromanumimperium.org  Tue Jun  8 14:41:08 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Tue, 8 Jun 2021 14:41:08 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
Message-ID: <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>

Hi Lars,

Lars Madsen schrieb am 08.06.2021 um 14:24:
> why are you giving the full path to pdflatex? aren't your TeXlive
> correctly installed
> 
> pdflatex file.tex
> 
> should be enough

In daily use I'm compiling via TeXWorks and configered it there as needed.

As I mentioned in my first mail, there ist no TeXLive-Installation on my 
Windows-PC, I'm using the installation on my linux-server via 
samba-share. This worked fore more than ten years and should not be the 
reason for the recent problem.

Andreas

From P.Taylor at Hellenic-Institute.Uk  Tue Jun  8 14:42:28 2021
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor)
Date: Tue, 8 Jun 2021 13:42:28 +0100
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
Message-ID: <60704abd-da5e-e763-d511-07bae7d887c5@Hellenic-Institute.Uk>

Lars Madsen wrote:

> why are you giving the full path to pdflatex? aren't your TeXlive 
> correctly installed

I don't think that he is, Lars (and it should not matter if he does) ? 
in the original screenshot, "U:\texlive\bin\win32" is a prompt, not 
something typed.? Of course, where the PDF file is intended to end up is 
somewhat moot,? but empirically it would appear that it will end up in 
O:\schule\unterricht\ if a PDF is actually generated.
-- 
/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/51a50925/attachment.html>

From zdenek.wagner at gmail.com  Tue Jun  8 15:02:56 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 8 Jun 2021 15:02:56 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <60704abd-da5e-e763-d511-07bae7d887c5@Hellenic-Institute.Uk>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <60704abd-da5e-e763-d511-07bae7d887c5@Hellenic-Institute.Uk>
Message-ID: <CAC1phyYEo45aDMNkcbhrkm3Q=+g3nFZS4FE_FUZ5BmqFmmq=gg@mail.gmail.com>

Yes, it is a prompt showing that U:\texlive\bin\win32 is the current
directory. There is a big difference between Windows and UNIX. UNIX
systems will not run a program from a current directory unless its
path is specified, it will always search PATH. This means that
pdflatexh will not work unless TL is properly installed. On the
contrary, in Windows the programs in the curent directory are prefered
to the programs in PATH, thus having pdflatex.exe in the current
directory Windows will invoke it even if TL is not installed properly.
In this case, if U:\texlive is the samba share, U:\texlive\bin\win32
must be added to PATH in System/Environment and must be callable
without the full path from any directory (I would always "cd" to the
directory of the document in order to make the command line shorter
and simpler).

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

?t 8. 6. 2021 v 14:42 odes?latel Philip Taylor
<P.Taylor at hellenic-institute.uk> napsal:
>
> Lars Madsen wrote:
>
> why are you giving the full path to pdflatex? aren't your TeXlive correctly installed
>
>
> I don't think that he is, Lars (and it should not matter if he does) ? in the original screenshot, "U:\texlive\bin\win32" is a prompt, not something typed.  Of course, where the PDF file is intended to end up is somewhat moot,  but empirically it would appear that it will end up in O:\schule\unterricht\ if a PDF is actually generated.
> --
> Philip Taylor


From bvoisin at icloud.com  Tue Jun  8 17:11:05 2021
From: bvoisin at icloud.com (Bruno Voisin)
Date: Tue, 8 Jun 2021 17:11:05 +0200
Subject: Perl/Tk
Message-ID: <4D84E9A6-FCA3-4CD3-8235-5E1FBA5329D0@icloud.com>

Motivated by Siep Kroonenberg's remark in the "Texdoctk Maintainer" thread at <https://tug.org/pipermail/tex-live/2021-June/047049.html>

> Also, Perl/Tk is not readily available for MacOS or Windows.

I had a go at compiling Perl/Tk on macOS (Big Sur, 11.x). By this I mean using only the built-in Perl and XQuartz, not using a package management system like Homebrew, MacPorts or Fink.

Up to two or three versions of macOS ago, the straightforward "perl Makefile.PL && make && sudo make install" just worked. Now, no more.

The problem is the way Perl is installed in recent versions of macOS:

- Runtime Perl is at /System/Library/Perl (a non-writable location, protected by System Integrity Protection).

- Local additions go to /Library/Perl.

Neither location includes headers. These are installed with the optional developer tools, which come in two flavours:

- The command-line tools package installs Perl at

	/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/System/Library/Perl

- The full Xcode IDE installs Perl at

	/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Perl

Given that, here's how to compile Perl/Tk 804.036 from <https://metacpan.org/dist/Tk> with the full Xcode IDE installed. Useful tips came from

https://stackoverflow.com/questions/63403427/problem-installing-tk-module-perl-in-macos-catalina
https://stackoverflow.com/questions/52682304/fatal-error-extern-h-file-not-found-while-installing-perl-modules

First, once inside the Tk-804.036 directory, edit lines 3-5 of myConfig

	my $path = "$Config{'archlibexp'}/CORE/perl.h";
	die "Cannot find '$path' have you installed $^X?\n" unless (-r $path);
	print "$^X is installed in $Config{'archlibexp'} okay\n";

to reflect the actual location of the headers, here

	my $path = "/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Perl/5.30/darwin-thread-multi-2level/CORE/perl.h";
	die "Cannot find '$path' have you installed $^X?\n" unless (-r $path);
	print "$^X is installed in /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Perl/5.30/darwin-thread-multi-2level okay\n";

Second, in Terminal, run

	export CPATH="/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Perl/5.30/darwin-thread-multi-2level/CORE"

After that, the usual

	perl Makefile.PL
	make
	sudo make install

just works.

There are probably better ways to proceed, constructing the location of the Perl headers with something like $(PERL_SYSROOT)$(PERL_INCDEP)$(DFSEP), but the above seems to work.

Attached are two screenshots of what tlmgr --gui and texdoctk look like on the Mac after that.

Bruno Voisin



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/76c20509/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tlmgr-macos.png
Type: image/png
Size: 289800 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/76c20509/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texdoctk-macos.png
Type: image/png
Size: 185342 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/76c20509/attachment-0003.png>

From cursus.publicus at sacrumromanumimperium.org  Tue Jun  8 20:24:30 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Tue, 8 Jun 2021 20:24:30 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <CAC1phyYEo45aDMNkcbhrkm3Q=+g3nFZS4FE_FUZ5BmqFmmq=gg@mail.gmail.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <60704abd-da5e-e763-d511-07bae7d887c5@Hellenic-Institute.Uk>
 <CAC1phyYEo45aDMNkcbhrkm3Q=+g3nFZS4FE_FUZ5BmqFmmq=gg@mail.gmail.com>
Message-ID: <5c2abb7b-39b3-ec61-4a1d-dc7f99c91462@sacrumromanumimperium.org>

as I suspected, this is NOT the cause of the NEW problem ...
(see attached screenshot)

[path added an successfully used]

Zdenek Wagner schrieb am 08.06.2021 um 15:02:
> Yes, it is a prompt showing that U:\texlive\bin\win32 is the current
> directory. There is a big difference between Windows and UNIX. UNIX
> systems will not run a program from a current directory unless its
> path is specified, it will always search PATH. This means that
> pdflatexh will not work unless TL is properly installed. On the
> contrary, in Windows the programs in the curent directory are prefered
> to the programs in PATH, thus having pdflatex.exe in the current
> directory Windows will invoke it even if TL is not installed properly.
> In this case, if U:\texlive is the samba share, U:\texlive\bin\win32
> must be added to PATH in System/Environment and must be callable
> without the full path from any directory (I would always "cd" to the
> directory of the document in order to make the command line shorter
> and simpler).
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v3.jpg
Type: image/jpeg
Size: 34189 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/46d455b5/attachment-0001.jpg>

From borisv at lk.net  Tue Jun  8 21:06:26 2021
From: borisv at lk.net (Boris Veytsman)
Date: Tue, 8 Jun 2021 12:06:26 -0700
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <CAC1phyYEo45aDMNkcbhrkm3Q=+g3nFZS4FE_FUZ5BmqFmmq=gg@mail.gmail.com>
 (message from Zdenek Wagner on Tue, 8 Jun 2021 15:02:56 +0200)
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <60704abd-da5e-e763-d511-07bae7d887c5@Hellenic-Institute.Uk>
 <CAC1phyYEo45aDMNkcbhrkm3Q=+g3nFZS4FE_FUZ5BmqFmmq=gg@mail.gmail.com>
Message-ID: <202106081906.158J6QeV016710@bilbo.localnet>

ZW> From: Zdenek Wagner <zdenek.wagner at gmail.com>
ZW> Date: Tue, 8 Jun 2021 15:02:56 +0200

ZW> Yes, it is a prompt showing that U:\texlive\bin\win32 is the current
ZW> directory. There is a big difference between Windows and UNIX. UNIX
ZW> systems will not run a program from a current directory unless its
ZW> path is specified, it will always search PATH.

\begin{Cranky Old Timer's Mode}

Sorry for the nitpicking, but the part about Unix is not exactly
correct.  Unix systems used to have dot (the current directory) in the
PATH, so a line "foo" would run the program "foo" in the current
directory if it exists.  I remember when people started to consider
this to be insecure (some time in the last century), and gradually dot
was removed from the default PATH in most systems.  Nowadays you need to
say "./foo" if you want to run the program "foo" in the current
directory.


\end{Cranky Old Timer's Mode}


-- 
Good luck

-Boris

Personally, I think my choice in the mostest-superlative-computer wars has to
be the HP-48 series of calculators.  They'll run almost anything.  And if they
can't, while I'll just plug a Linux box into the serial port and load up the
HP-48 VT-100 emulator.
(By jdege at winternet.com, Jeff Dege)

From Alois.Steindl at tuwien.ac.at  Tue Jun  8 21:37:56 2021
From: Alois.Steindl at tuwien.ac.at (Alois Steindl)
Date: Tue, 8 Jun 2021 21:37:56 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
Message-ID: <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>

Am 08.06.2021 um 14:41 schrieb Andreas Hirsch:
>
> In daily use I'm compiling via TeXWorks and configered it there as 
> needed.
>
> As I mentioned in my first mail, there ist no TeXLive-Installation on 
> my Windows-PC, I'm using the installation on my linux-server via 
> samba-share. This worked fore more than ten years and should not be 
> the reason for the recent problem. 

It's really hard to guess what might be the problem. Since you are using 
a Samba share I could imagine that pdflatex searches for some files in 
the net. Does it work if you lookup some files like article.cls using 
kpsewhich (maybe using some debug setting to see, where texlive looks 
for files). Do other programs (e.g. simply latex) work?

If you use linux, does it also use the Samba share?

Good luck

Alois

From cursus.publicus at sacrumromanumimperium.org  Tue Jun  8 21:46:11 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Tue, 8 Jun 2021 21:46:11 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
Message-ID: <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>

Hi Alois,

Alois Steindl schrieb am 08.06.2021 um 21:37:

> It's really hard to guess what might be the problem. Since you are using
> a Samba share I could imagine that pdflatex searches for some files in
> the net. Does it work if you lookup some files like article.cls using
> kpsewhich (maybe using some debug setting to see, where texlive looks
> for files). Do other programs (e.g. simply latex) work?

no (see schreenshot)

> If you use linux, does it also use the Samba share?

no

But - please remember: This enviroment worked for over a decade of years 
until the last update

What has changed? LaTeX 2021-06-01?

Andreas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v4.jpg
Type: image/jpeg
Size: 18201 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210608/d63e45f2/attachment-0001.jpg>

From reinhard.kotucha at web.de  Tue Jun  8 22:38:54 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 8 Jun 2021 22:38:54 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
Message-ID: <24767.54622.439141.733164@gargle.gargle.HOWL>

On 2021-06-08 at 21:46:11 +0200, Andreas Hirsch wrote:

 > What has changed? LaTeX 2021-06-01?

Hi Andreas,
you could try plain pdftex.  A simple plain TeX file is

  good\bye

This should create a PDF file showing the word 'good'.

According to

  http://tug.org/svn/texlive/trunk/Master/bin/win32/

pdftex.exe was modified 3 months ago and pdftex.dll 5 weeks ago.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From news3 at nililand.de  Tue Jun  8 22:54:41 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 8 Jun 2021 22:54:41 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
Message-ID: <f7knvp1gedkm$.dlg@nililand.de>

Am Tue, 8 Jun 2021 21:46:11 +0200 schrieb Andreas Hirsch:

> But - please remember: This enviroment worked for over a decade of years 
> until the last update
> 
> What has changed? LaTeX 2021-06-01?

Beside others. But you didn't say when you made the last update
before this one, and as nobody can reproduce your problem you are
the only one who can narrow down the problem further.

Which mean try with plain tex, try commands like kpsewhich, use some
process monitor, ...

 
-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From zdenek.wagner at gmail.com  Tue Jun  8 23:07:59 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 8 Jun 2021 23:07:59 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <202106081906.158J6QeV016710@bilbo.localnet>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <60704abd-da5e-e763-d511-07bae7d887c5@Hellenic-Institute.Uk>
 <CAC1phyYEo45aDMNkcbhrkm3Q=+g3nFZS4FE_FUZ5BmqFmmq=gg@mail.gmail.com>
 <202106081906.158J6QeV016710@bilbo.localnet>
Message-ID: <CAC1phyZL4JrYWrzjmNPZ9kk8-2wRtnePcw2JUxiZJ75aT=bj8g@mail.gmail.com>

?t 8. 6. 2021 v 21:06 odes?latel Boris Veytsman <borisv at lk.net> napsal:
>
> ZW> From: Zdenek Wagner <zdenek.wagner at gmail.com>
> ZW> Date: Tue, 8 Jun 2021 15:02:56 +0200
>
> ZW> Yes, it is a prompt showing that U:\texlive\bin\win32 is the current
> ZW> directory. There is a big difference between Windows and UNIX. UNIX
> ZW> systems will not run a program from a current directory unless its
> ZW> path is specified, it will always search PATH.
>
> \begin{Cranky Old Timer's Mode}
>
> Sorry for the nitpicking, but the part about Unix is not exactly
> correct.  Unix systems used to have dot (the current directory) in the
> PATH, so a line "foo" would run the program "foo" in the current
> directory if it exists.  I remember when people started to consider
> this to be insecure (some time in the last century), and gradually dot
> was removed from the default PATH in most systems.  Nowadays you need to
> say "./foo" if you want to run the program "foo" in the current
> directory.
>
>
> \end{Cranky Old Timer's Mode}
>
I have been using various flavours of Linux for 30 years and the dot
was not a part of PATH and the users were warned against its
inclusion.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


>
> --
> Good luck
>
> -Boris
>
> Personally, I think my choice in the mostest-superlative-computer wars has to
> be the HP-48 series of calculators.  They'll run almost anything.  And if they
> can't, while I'll just plug a Linux box into the serial port and load up the
> HP-48 VT-100 emulator.
> (By jdege at winternet.com, Jeff Dege)


From reinhard.kotucha at web.de  Tue Jun  8 23:30:06 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 8 Jun 2021 23:30:06 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <f7knvp1gedkm$.dlg@nililand.de>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
 <f7knvp1gedkm$.dlg@nililand.de>
Message-ID: <24767.57694.475311.633528@gargle.gargle.HOWL>

On 2021-06-08 at 22:54:41 +0200, Ulrike Fischer wrote:

 > Am Tue, 8 Jun 2021 21:46:11 +0200 schrieb Andreas Hirsch:
 >
 > > But - please remember: This enviroment worked for over a decade of years
 > > until the last update
 > >
 > > What has changed? LaTeX 2021-06-01?
 >
 > Beside others. But you didn't say when you made the last update
 > before this one, and as nobody can reproduce your problem you are
 > the only one who can narrow down the problem further.
 >
 > Which mean try with plain tex, try commands like kpsewhich, use some
 > process monitor, ...

Furthermore

   texdoc kpathsea

section 8.3.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From Alois.Steindl at tuwien.ac.at  Wed Jun  9 00:15:37 2021
From: Alois.Steindl at tuwien.ac.at (Alois Steindl)
Date: Wed, 9 Jun 2021 00:15:37 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <CAC1phyZL4JrYWrzjmNPZ9kk8-2wRtnePcw2JUxiZJ75aT=bj8g@mail.gmail.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <60704abd-da5e-e763-d511-07bae7d887c5@Hellenic-Institute.Uk>
 <CAC1phyYEo45aDMNkcbhrkm3Q=+g3nFZS4FE_FUZ5BmqFmmq=gg@mail.gmail.com>
 <202106081906.158J6QeV016710@bilbo.localnet>
 <CAC1phyZL4JrYWrzjmNPZ9kk8-2wRtnePcw2JUxiZJ75aT=bj8g@mail.gmail.com>
Message-ID: <50962267-de75-1695-4788-3e8156a94261@tuwien.ac.at>

Am 08.06.2021 um 23:07 schrieb Zdenek Wagner:
> I have been using various flavours of Linux for 30 years and the dot
> was not a part of PATH and the users were warned against its
> inclusion.
>
> Zden?k Wagner
> http://ttsm.icpf.cas.cz/team/wagner.shtml
>
Hello,

when I started to use linux about 30 years ago, it was usual (in our 
environment) to have . in the path. It took quite a while to convince us 
to change this habit.

It seems that you had a more cautious approach to Unix.

Best wishes

Alois


From cursus.publicus at sacrumromanumimperium.org  Wed Jun  9 06:29:13 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Wed, 9 Jun 2021 06:29:13 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <f7knvp1gedkm$.dlg@nililand.de>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
 <f7knvp1gedkm$.dlg@nililand.de>
Message-ID: <42edfba1-85ae-809c-a84e-39ebc30378f5@sacrumromanumimperium.org>

Hi Ulrike,

Ulrike Fischer schrieb am 08.06.2021 um 22:54:
> Am Tue, 8 Jun 2021 21:46:11 +0200 schrieb Andreas Hirsch:
> 
>> But - please remember: This enviroment worked for over a decade of years
>> until the last update
>>
>> What has changed? LaTeX 2021-06-01?
> 
> Beside others. But you didn't say when you made the last update
> before this one, and as nobody can reproduce your problem you are
> the only one who can narrow down the problem further.
> 
> Which mean try with plain tex, try commands like kpsewhich, use some
> process monitor, ...

This morning (as every morning) I took a look at the system-report and 
noticed that there are a lot of appcrashs concerning pdflatex in modul 
pdftex.dll are reported.

As Reinhard reported, pdftex.dll was updated 5 weeks ago [in this time I 
used TeX without problems]- must something have changed inside my 
windows-system (but: no updates done beside daily defender)?

Andreas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v6.jpg
Type: image/jpeg
Size: 63178 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210609/7b443597/attachment-0002.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v5.jpg
Type: image/jpeg
Size: 195313 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210609/7b443597/attachment-0003.jpg>

From cursus.publicus at sacrumromanumimperium.org  Wed Jun  9 16:41:02 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Wed, 9 Jun 2021 16:41:02 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <24767.54622.439141.733164@gargle.gargle.HOWL>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
 <24767.54622.439141.733164@gargle.gargle.HOWL>
Message-ID: <7808dd59-7ee6-719a-a1ac-91b7d8e9ffa9@sacrumromanumimperium.org>

Hi Reinhard,

Reinhard Kotucha schrieb am 08.06.2021 um 22:38:

> Hi Andreas,
> you could try plain pdftex.  A simple plain TeX file is
> 
>    good\bye
> 
> This should create a PDF file showing the word 'good'.

works!

best,
Andreas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v8.jpg
Type: image/jpeg
Size: 47322 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210609/a94bbbd0/attachment-0001.jpg>

From cursus.publicus at sacrumromanumimperium.org  Wed Jun  9 17:32:10 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Wed, 9 Jun 2021 17:32:10 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <f5b1a224-d82a-2bdc-0487-409e3789d128@tuwien.ac.at>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
 <f5b1a224-d82a-2bdc-0487-409e3789d128@tuwien.ac.at>
Message-ID: <4132647a-948d-b2ea-deb2-be2cd26f3c6a@sacrumromanumimperium.org>

Hello Alois,

Alois Steindl schrieb am 09.06.2021 um 08:29:
> Hello Andreas,
> I guess we will have to use kpsewhich to see, what is going on. I second
> the good advice by Ulrike Fischer.
> What do you get from
> kpsewhich -debug 31 article.cls
> 
> (output can be quite large, so you might redirect it to some file and
> attach that one.)

-> attached

> You could also first create a simple tex file, containing e.g.
> Hallo
> \bye
> and run that through tex; it doesn't need style files and should finish
> quickly.

works!

best,
Andreas

-------------- next part --------------
O:\schule\unterricht>kpsewhich -debug 31 article.cls

kdebug:Search path for cnf files (from compile-time paths.h)
kdebug:  =
U:/texlive/bin/win32;U:/texlive/bin/win32/share/texmf-local/web2c;U:/texlive/bin/win32/share/texmf-dist/web2c;U:/texlive/bin/win32/share/texmf/web2c;U:/texlive/bin/win32/texmf-local/web2c;U:/texlive/bin/win32/texmf-dist/web2c;U:/texlive/bin/win32/texmf/web2c;U:/texlive/bin;U:/texlive/bin/share/texmf-local/web2c;U:/texlive/bin/share/texmf-dist/web2c;U:/texlive/bin/share/texmf/web2c;U:/texlive/bin/texmf-local/web2c;U:/texlive/bin/texmf-dist/web2c;U:/texlive/bin/texmf/web2c;U://texmf-local/web2c;U:/texlive;U:/texlive/share/texmf-local/web2c;U:/texlive/share/texmf-dist/web2c;U:/texlive/share/texmf/web2c;U:/texlive/texmf-local/web2c;U:/texlive/texmf-dist/web2c;U:/texlive/texmf/web2c
kdebug:  before expansion =
{$SELFAUTOLOC,$SELFAUTOLOC/share/texmf-local/web2c,$SELFAUTOLOC/share/texmf-dist/web2c,$SELFAUTOLOC/share/texmf/web2c,$SELFAUTOLOC/texmf-local/web2c,$SELFAUTOLOC/texmf-dist/web2c,$SELFAUTOLOC/texmf/web2c,$SELFAUTODIR,$SELFAUTODIR/share/texmf-local/web2c,$SELFAUTODIR/share/texmf-dist/web2c,$SELFAUTODIR/share/texmf/web2c,$SELFAUTODIR/texmf-local/web2c,$SELFAUTODIR/texmf-dist/web2c,$SELFAUTODIR/texmf/web2c,$SELFAUTOGRANDPARENT/texmf-local/web2c,$SELFAUTOPARENT,$SELFAUTOPARENT/share/texmf-local/web2c,$SELFAUTOPARENT/share/texmf-dist/web2c,$SELFAUTOPARENT/share/texmf/web2c,$SELFAUTOPARENT/texmf-local/web2c,$SELFAUTOPARENT/texmf-dist/web2c,$SELFAUTOPARENT/texmf/web2c}
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = (none)
kdebug:  compile-time path =
{$SELFAUTOLOC,$SELFAUTOLOC/share/texmf-local/web2c,$SELFAUTOLOC/share/texmf-dist/web2c,$SELFAUTOLOC/share/texmf/web2c,$SELFAUTOLOC/texmf-local/web2c,$SELFAUTOLOC/texmf-dist/web2c,$SELFAUTOLOC/texmf/web2c,$SELFAUTODIR,$SELFAUTODIR/share/texmf-local/web2c,$SELFAUTODIR/share/texmf-dist/web2c,$SELFAUTODIR/share/texmf/web2c,$SELFAUTODIR/texmf-local/web2c,$SELFAUTODIR/texmf-dist/web2c,$SELFAUTODIR/texmf/web2c,$SELFAUTOGRANDPARENT/texmf-local/web2c,$SELFAUTOPARENT,$SELFAUTOPARENT/share/texmf-local/web2c,$SELFAUTOPARENT/share/texmf-dist/web2c,$SELFAUTOPARENT/share/texmf/web2c,$SELFAUTOPARENT/texmf-local/web2c,$SELFAUTOPARENT/texmf-dist/web2c,$SELFAUTOPARENT/texmf/web2c}
kdebug:  environment variables = TEXMFCNF
kdebug:  default suffixes = .cnf
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 8
path u:/texlive/bin/win32 is a directory
kdebug:path element u:/texlive/bin/win32 => u:/texlive/bin/win32/
failed to get file attributes for u:/texlive/bin/win32/share/texmf-local/web2c (3)
kdebug:path element u:/texlive/bin/win32/share/texmf-local/web2c =>
failed to get file attributes for u:/texlive/bin/win32/share/texmf-dist/web2c (3)
kdebug:path element u:/texlive/bin/win32/share/texmf-dist/web2c =>
failed to get file attributes for u:/texlive/bin/win32/share/texmf/web2c (3)
kdebug:path element u:/texlive/bin/win32/share/texmf/web2c =>
failed to get file attributes for u:/texlive/bin/win32/texmf-local/web2c (3)
kdebug:path element u:/texlive/bin/win32/texmf-local/web2c =>
failed to get file attributes for u:/texlive/bin/win32/texmf-dist/web2c (3)
kdebug:path element u:/texlive/bin/win32/texmf-dist/web2c =>
failed to get file attributes for u:/texlive/bin/win32/texmf/web2c (3)
kdebug:path element u:/texlive/bin/win32/texmf/web2c =>
path u:/texlive/bin is a directory
kdebug:path element u:/texlive/bin => u:/texlive/bin/
failed to get file attributes for u:/texlive/bin/share/texmf-local/web2c (3)
kdebug:path element u:/texlive/bin/share/texmf-local/web2c =>
failed to get file attributes for u:/texlive/bin/share/texmf-dist/web2c (3)
kdebug:path element u:/texlive/bin/share/texmf-dist/web2c =>
failed to get file attributes for u:/texlive/bin/share/texmf/web2c (3)
kdebug:path element u:/texlive/bin/share/texmf/web2c =>
failed to get file attributes for u:/texlive/bin/texmf-local/web2c (3)
kdebug:path element u:/texlive/bin/texmf-local/web2c =>
failed to get file attributes for u:/texlive/bin/texmf-dist/web2c (3)
kdebug:path element u:/texlive/bin/texmf-dist/web2c =>
failed to get file attributes for u:/texlive/bin/texmf/web2c (3)
kdebug:path element u:/texlive/bin/texmf/web2c =>
kdebug:kpse_normalize_path (u://texmf-local/web2c) => 2
failed to get file attributes for u:/texmf-local/web2c (2)
kdebug:path element u:/texmf-local/web2c =>
path u:/texlive is a directory
kdebug:path element u:/texlive => u:/texlive/
failed to get file attributes for u:/texlive/share/texmf-local/web2c (3)
kdebug:path element u:/texlive/share/texmf-local/web2c =>
failed to get file attributes for u:/texlive/share/texmf-dist/web2c (3)
kdebug:path element u:/texlive/share/texmf-dist/web2c =>
failed to get file attributes for u:/texlive/share/texmf/web2c (3)
kdebug:path element u:/texlive/share/texmf/web2c =>
failed to get file attributes for u:/texlive/texmf-local/web2c (3)
kdebug:path element u:/texlive/texmf-local/web2c =>
path u:/texlive/texmf-dist/web2c is a directory
kdebug:path element u:/texlive/texmf-dist/web2c => u:/texlive/texmf-dist/web2c/
failed to get file attributes for u:/texlive/texmf/web2c (3)
kdebug:path element u:/texlive/texmf/web2c =>
kdebug:Search path for ls-R files (from texmf.cnf)
kdebug:  = U://texmf-local;U:/texlive/texmf-config;U:/texlive/texmf-var;U:/texlive/texmf-dist
kdebug:  before expansion = {!!$TEXMFLOCAL,!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFDIST}
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = {!!$TEXMFLOCAL,!!$TEXMFSYSCONFIG,!!$TEXMFSYSVAR,!!$TEXMFDIST}
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = TEXMFDBS
kdebug:  default suffixes = ls-R ls-r
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 9
kdebug:kpse_normalize_path (u://texmf-local) => 2
path u:/texmf-local is a directory
kdebug:path element u:/texmf-local => u:/texmf-local/
path u:/texlive/texmf-config is a directory
kdebug:path element u:/texlive/texmf-config => u:/texlive/texmf-config/
path u:/texlive/texmf-var is a directory
kdebug:path element u:/texlive/texmf-var => u:/texlive/texmf-var/
path u:/texlive/texmf-dist is a directory
kdebug:path element u:/texlive/texmf-dist => u:/texlive/texmf-dist/
kdebug:db:init(): using db file u:/texmf-local/ls-R.
kdebug:db:init(): using db file u:/texlive/texmf-config/ls-R.
kdebug:db:init(): using db file u:/texlive/texmf-var/ls-R.
kdebug:db:init(): using db file u:/texlive/texmf-dist/ls-R.
kdebug:u:/texmf-local/ls-R: 241 entries in 20 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 231 nonempty (0%); 241 entries, average chain 1.0.
kdebug:u:/texlive/texmf-config/ls-R: 1 entries in 2 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 231 nonempty (0%); 242 entries, average chain 1.0.
kdebug:u:/texlive/texmf-var/ls-R: 176 entries in 40 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 386 nonempty (0%); 418 entries, average chain 1.1.
kdebug:u:/texlive/texmf-dist/ls-R: 218406 entries in 14591 directories (0 hidden).
kdebug:ls-R hash table:64007 buckets, 59400 nonempty (92%); 218824 entries, average chain 3.7.
kdebug:kpse_normalize_path (u://texmf-local) => 2
kdebug:Search path for gf files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/gf////;C:/Users/offic/.texlive2021/texmf-var/fonts/gf////;C:/Users/offic/texmf/fonts/gf////;!!U://texmf-local/fonts/gf////;!!U:/texlive/texmf-config/fonts/gf////;!!U:/texlive/texmf-var/fonts/gf////;!!U:/texlive/texmf-dist/fonts/gf////
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/fonts/gf/$MAKETEX_MODE//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/fonts/gf/$MAKETEX_MODE//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = GFFONTS GLYPHFONTS TEXFONTS
kdebug:  default suffixes = gf
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 0
kdebug:Search path for pk files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/pk////;C:/Users/offic/.texlive2021/texmf-var/fonts/pk////;C:/Users/offic/texmf/fonts/pk////;!!U://texmf-local/fonts/pk////;!!U:/texlive/texmf-config/fonts/pk////;!!U:/texlive/texmf-var/fonts/pk////;!!U:/texlive/texmf-dist/fonts/pk////;C:/Users/offic/.texlive2021/texmf-var/fonts/pk////;C:/Users/offic/.texlive2021/texmf-config/fonts/pk/modeless//;C:/Users/offic/.texlive2021/texmf-var/fonts/pk/modeless//;C:/Users/offic/texmf/fonts/pk/modeless//;!!U://texmf-local/fonts/pk/modeless//;!!U:/texlive/texmf-config/fonts/pk/modeless//;!!U:/texlive/texmf-var/fonts/pk/modeless//;!!U:/texlive/texmf-dist/fonts/pk/modeless//;C:/Users/offic/.texlive2021/texmf-var/fonts/pk/modeless//
kdebug:  before expansion = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/pk/{$MAKETEX_MODE,modeless}//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/pk/{$MAKETEX_MODE,modeless}//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = PKFONTS TEXPKS GLYPHFONTS TEXFONTS
kdebug:  default suffixes = pk
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = mktexpk
kdebug:  runtime generation command = mktexpk --mfmode $MAKETEX_MODE --bdpi $MAKETEX_BASE_DPI --mag $MAKETEX_MAG --dpi $KPATHSEA_DPI
kdebug:  program enabled = 0
kdebug:  program enable level = 5
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 1
kdebug:Search path for bitmap font files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts;C:/Users/offic/.texlive2021/texmf-var/fonts;C:/Users/offic/texmf/fonts;!!U://texmf-local/fonts;!!U:/texlive/texmf-config/fonts;!!U:/texlive/texmf-var/fonts;!!U:/texlive/texmf-dist/fonts
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/fonts
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/fonts
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = GLYPHFONTS TEXFONTS
kdebug:  default suffixes = (none)
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = mktexpk
kdebug:  runtime generation command = mktexpk --mfmode $MAKETEX_MODE --bdpi $MAKETEX_BASE_DPI --mag $MAKETEX_MAG --dpi $KPATHSEA_DPI
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 2
kdebug:Search path for tfm files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/tfm//;C:/Users/offic/.texlive2021/texmf-var/fonts/tfm//;C:/Users/offic/texmf/fonts/tfm//;!!U://texmf-local/fonts/tfm//;!!U:/texlive/texmf-config/fonts/tfm//;!!U:/texlive/texmf-var/fonts/tfm//;!!U:/texlive/texmf-dist/fonts/tfm//;C:/Users/offic/.texlive2021/texmf-var/fonts/tfm//
kdebug:  before expansion = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/tfm//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/tfm//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = TFMFONTS TEXFONTS
kdebug:  default suffixes = .tfm
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = mktextfm
kdebug:  runtime generation command = mktextfm
kdebug:  program enabled = 0
kdebug:  program enable level = 5
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 3
kdebug:Search path for afm files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/afm//;C:/Users/offic/.texlive2021/texmf-var/fonts/afm//;C:/Users/offic/texmf/fonts/afm//;!!U://texmf-local/fonts/afm//;!!U:/texlive/texmf-config/fonts/afm//;!!U:/texlive/texmf-var/fonts/afm//;!!U:/texlive/texmf-dist/fonts/afm//;/please/set/osfontdir/in/the/environment//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/fonts/afm//;$OSFONTDIR//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/fonts/afm//;$OSFONTDIR//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = AFMFONTS TEXFONTS
kdebug:  default suffixes = .afm
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 4
kdebug:Search path for base files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/web2c/unsetengine;C:/Users/offic/.texlive2021/texmf-var/web2c/unsetengine;C:/Users/offic/texmf/web2c/unsetengine;!!U://texmf-local/web2c/unsetengine;!!U:/texlive/texmf-config/web2c/unsetengine;!!U:/texlive/texmf-var/web2c/unsetengine;!!U:/texlive/texmf-dist/web2c/unsetengine;C:/Users/offic/.texlive2021/texmf-config/web2c;C:/Users/offic/.texlive2021/texmf-var/web2c;C:/Users/offic/texmf/web2c;!!U://texmf-local/web2c;!!U:/texlive/texmf-config/web2c;!!U:/texlive/texmf-var/web2c;!!U:/texlive/texmf-dist/web2c
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/web2c{/$engine,}
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/web2c{/$engine,}
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MFBASES TEXMFINI
kdebug:  default suffixes = .base
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = mktexfmt
kdebug:  runtime generation command = mktexfmt
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 5
kdebug:Search path for bib files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/bibtex/bib//;C:/Users/offic/.texlive2021/texmf-var/bibtex/bib//;C:/Users/offic/texmf/bibtex/bib//;!!U://texmf-local/bibtex/bib//;!!U:/texlive/texmf-config/bibtex/bib//;!!U:/texlive/texmf-var/bibtex/bib//;!!U:/texlive/texmf-dist/bibtex/bib//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/bibtex/bib//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/bibtex/bib//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = BIBINPUTS TEXBIB
kdebug:  default suffixes = .bib
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 6
kdebug:Search path for bst files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/bibtex/bst//;C:/Users/offic/.texlive2021/texmf-var/bibtex/bst//;C:/Users/offic/texmf/bibtex/bst//;!!U://texmf-local/bibtex/bst//;!!U:/texlive/texmf-config/bibtex/bst//;!!U:/texlive/texmf-var/bibtex/bst//;!!U:/texlive/texmf-dist/bibtex/bst//;C:/Users/offic/.texlive2021/texmf-config/bibtex/csf//;C:/Users/offic/.texlive2021/texmf-var/bibtex/csf//;C:/Users/offic/texmf/bibtex/csf//;!!U://texmf-local/bibtex/csf//;!!U:/texlive/texmf-config/bibtex/csf//;!!U:/texlive/texmf-var/bibtex/csf//;!!U:/texlive/texmf-dist/bibtex/csf//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/bibtex/{bst,csf}//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/bibtex/{bst,csf}//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = BSTINPUTS
kdebug:  default suffixes = .bst
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 7
kdebug:Search path for fmt files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/web2c/unsetengine;C:/Users/offic/.texlive2021/texmf-var/web2c/unsetengine;C:/Users/offic/texmf/web2c/unsetengine;!!U://texmf-local/web2c/unsetengine;!!U:/texlive/texmf-config/web2c/unsetengine;!!U:/texlive/texmf-var/web2c/unsetengine;!!U:/texlive/texmf-dist/web2c/unsetengine;C:/Users/offic/.texlive2021/texmf-config/web2c;C:/Users/offic/.texlive2021/texmf-var/web2c;C:/Users/offic/texmf/web2c;!!U://texmf-local/web2c;!!U:/texlive/texmf-config/web2c;!!U:/texlive/texmf-var/web2c;!!U:/texlive/texmf-dist/web2c
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/web2c{/$engine,}
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/web2c{/$engine,}
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = TEXFORMATS TEXMFINI
kdebug:  default suffixes = .fmt
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = mktexfmt
kdebug:  runtime generation command = mktexfmt
kdebug:  program enabled = 0
kdebug:  program enable level = 5
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 10
kdebug:Search path for map files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/map/kpsewhich//;C:/Users/offic/.texlive2021/texmf-var/fonts/map/kpsewhich//;C:/Users/offic/texmf/fonts/map/kpsewhich//;!!U://texmf-local/fonts/map/kpsewhich//;!!U:/texlive/texmf-config/fonts/map/kpsewhich//;!!U:/texlive/texmf-var/fonts/map/kpsewhich//;!!U:/texlive/texmf-dist/fonts/map/kpsewhich//;C:/Users/offic/.texlive2021/texmf-config/fonts/map/pdftex//;C:/Users/offic/.texlive2021/texmf-var/fonts/map/pdftex//;C:/Users/offic/texmf/fonts/map/pdftex//;!!U://texmf-local/fonts/map/pdftex//;!!U:/texlive/texmf-config/fonts/map/pdftex//;!!U:/texlive/texmf-var/fonts/map/pdftex//;!!U:/texlive/texmf-dist/fonts/map/pdftex//;C:/Users/offic/.texlive2021/texmf-config/fonts/map/dvips//;C:/Users/offic/.texlive2021/texmf-var/fonts/map/dvips//;C:/Users/offic/texmf/fonts/map/dvips//;!!U://texmf-local/fonts/map/dvips//;!!U:/texlive/texmf-config/fonts/map/dvips//;!!U:/texlive/texmf-var/fonts/map/dvips//;!!U:/texlive/texmf-dist/fonts/map/dvips//;C:/Users/offic/.texlive2021/texmf-config/fonts/map///;C:/Users/offic/.texlive2021/texmf-var/fonts/map///;C:/Users/offic/texmf/fonts/map///;!!U://texmf-local/fonts/map///;!!U:/texlive/texmf-config/fonts/map///;!!U:/texlive/texmf-var/fonts/map///;!!U:/texlive/texmf-dist/fonts/map///
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/fonts/map/{$progname,pdftex,dvips,}//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/fonts/map/{$progname,pdftex,dvips,}//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = TEXFONTMAPS TEXFONTS
kdebug:  default suffixes = .map
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 11
kdebug:Search path for mem files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/web2c/unsetengine;C:/Users/offic/.texlive2021/texmf-var/web2c/unsetengine;C:/Users/offic/texmf/web2c/unsetengine;!!U://texmf-local/web2c/unsetengine;!!U:/texlive/texmf-config/web2c/unsetengine;!!U:/texlive/texmf-var/web2c/unsetengine;!!U:/texlive/texmf-dist/web2c/unsetengine;C:/Users/offic/.texlive2021/texmf-config/web2c;C:/Users/offic/.texlive2021/texmf-var/web2c;C:/Users/offic/texmf/web2c;!!U://texmf-local/web2c;!!U:/texlive/texmf-config/web2c;!!U:/texlive/texmf-var/web2c;!!U:/texlive/texmf-dist/web2c
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/web2c{/$engine,}
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/web2c{/$engine,}
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MPMEMS TEXMFINI
kdebug:  default suffixes = .mem
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = mktexfmt
kdebug:  runtime generation command = mktexfmt
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 12
kdebug:Search path for mf files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/metafont//;C:/Users/offic/.texlive2021/texmf-var/metafont//;C:/Users/offic/texmf/metafont//;!!U://texmf-local/metafont//;!!U:/texlive/texmf-config/metafont//;!!U:/texlive/texmf-var/metafont//;!!U:/texlive/texmf-dist/metafont//;C:/Users/offic/.texlive2021/texmf-config/fonts/source//;C:/Users/offic/.texlive2021/texmf-var/fonts/source//;C:/Users/offic/texmf/fonts/source//;!!U://texmf-local/fonts/source//;!!U:/texlive/texmf-config/fonts/source//;!!U:/texlive/texmf-var/fonts/source//;!!U:/texlive/texmf-dist/fonts/source//;C:/Users/offic/.texlive2021/texmf-var/fonts/source//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/metafont//;{$TEXMF/fonts,$VARTEXFONTS}/source//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/metafont//;{$TEXMF/fonts,$VARTEXFONTS}/source//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MFINPUTS
kdebug:  default suffixes = .mf
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = mktexmf
kdebug:  runtime generation command = mktexmf
kdebug:  program enabled = 0
kdebug:  program enable level = 5
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 13
kdebug:Search path for mfpool files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/web2c;C:/Users/offic/.texlive2021/texmf-var/web2c;C:/Users/offic/texmf/web2c;!!U://texmf-local/web2c;!!U:/texlive/texmf-config/web2c;!!U:/texlive/texmf-var/web2c;!!U:/texlive/texmf-dist/web2c
kdebug:  before expansion = ${TEXPOOL}
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = ${TEXPOOL}
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MFPOOL TEXMFINI
kdebug:  default suffixes = .pool
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 14
kdebug:Search path for mft files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/mft//;C:/Users/offic/.texlive2021/texmf-var/mft//;C:/Users/offic/texmf/mft//;!!U://texmf-local/mft//;!!U:/texlive/texmf-config/mft//;!!U:/texlive/texmf-var/mft//;!!U:/texlive/texmf-dist/mft//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/mft//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/mft//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MFTINPUTS
kdebug:  default suffixes = .mft
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 15
kdebug:Search path for mp files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/metapost//;C:/Users/offic/.texlive2021/texmf-var/metapost//;C:/Users/offic/texmf/metapost//;!!U://texmf-local/metapost//;!!U:/texlive/texmf-config/metapost//;!!U:/texlive/texmf-var/metapost//;!!U:/texlive/texmf-dist/metapost//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/metapost//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/metapost//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MPINPUTS
kdebug:  default suffixes = .mp
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 16
kdebug:Search path for mppool files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/web2c;C:/Users/offic/.texlive2021/texmf-var/web2c;C:/Users/offic/texmf/web2c;!!U://texmf-local/web2c;!!U:/texlive/texmf-config/web2c;!!U:/texlive/texmf-var/web2c;!!U:/texlive/texmf-dist/web2c
kdebug:  before expansion = ${TEXPOOL}
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = ${TEXPOOL}
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MPPOOL TEXMFINI
kdebug:  default suffixes = .pool
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 17
kdebug:Search path for MetaPost support files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/metapost/support;C:/Users/offic/.texlive2021/texmf-var/metapost/support;C:/Users/offic/texmf/metapost/support;!!U://texmf-local/metapost/support;!!U:/texlive/texmf-config/metapost/support;!!U:/texlive/texmf-var/metapost/support;!!U:/texlive/texmf-dist/metapost/support
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/metapost/support
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/metapost/support
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = MPSUPPORT
kdebug:  default suffixes = (none)
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 18
kdebug:Search path for ocp files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/omega/ocp//;C:/Users/offic/.texlive2021/texmf-var/omega/ocp//;C:/Users/offic/texmf/omega/ocp//;!!U://texmf-local/omega/ocp//;!!U:/texlive/texmf-config/omega/ocp//;!!U:/texlive/texmf-var/omega/ocp//;!!U:/texlive/texmf-dist/omega/ocp//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/omega/ocp//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/omega/ocp//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = OCPINPUTS
kdebug:  default suffixes = .ocp
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = mkocp
kdebug:  runtime generation command = mkocp
kdebug:  program enabled = 0
kdebug:  program enable level = 5
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 19
kdebug:Search path for ofm files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/ofm//;C:/Users/offic/.texlive2021/texmf-var/fonts/ofm//;C:/Users/offic/texmf/fonts/ofm//;!!U://texmf-local/fonts/ofm//;!!U:/texlive/texmf-config/fonts/ofm//;!!U:/texlive/texmf-var/fonts/ofm//;!!U:/texlive/texmf-dist/fonts/ofm//;C:/Users/offic/.texlive2021/texmf-var/fonts/ofm//;C:/Users/offic/.texlive2021/texmf-config/fonts/tfm//;C:/Users/offic/.texlive2021/texmf-var/fonts/tfm//;C:/Users/offic/texmf/fonts/tfm//;!!U://texmf-local/fonts/tfm//;!!U:/texlive/texmf-config/fonts/tfm//;!!U:/texlive/texmf-var/fonts/tfm//;!!U:/texlive/texmf-dist/fonts/tfm//;C:/Users/offic/.texlive2021/texmf-var/fonts/tfm//
kdebug:  before expansion = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/{ofm,tfm}//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/{ofm,tfm}//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = OFMFONTS TEXFONTS
kdebug:  default suffixes = .ofm .tfm
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = mkofm
kdebug:  runtime generation command = mkofm
kdebug:  program enabled = 0
kdebug:  program enable level = 5
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 20
kdebug:Search path for opl files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/opl//;C:/Users/offic/.texlive2021/texmf-var/fonts/opl//;C:/Users/offic/texmf/fonts/opl//;!!U://texmf-local/fonts/opl//;!!U:/texlive/texmf-config/fonts/opl//;!!U:/texlive/texmf-var/fonts/opl//;!!U:/texlive/texmf-dist/fonts/opl//;C:/Users/offic/.texlive2021/texmf-var/fonts/opl//
kdebug:  before expansion = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/opl//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/opl//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = OPLFONTS TEXFONTS
kdebug:  default suffixes = .opl
kdebug:  other suffixes = .pl
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 21
kdebug:Search path for otp files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/omega/otp//;C:/Users/offic/.texlive2021/texmf-var/omega/otp//;C:/Users/offic/texmf/omega/otp//;!!U://texmf-local/omega/otp//;!!U:/texlive/texmf-config/omega/otp//;!!U:/texlive/texmf-var/omega/otp//;!!U:/texlive/texmf-dist/omega/otp//
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/omega/otp//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/omega/otp//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = OTPINPUTS
kdebug:  default suffixes = .otp
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 22
kdebug:Search path for ovf files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/ovf//;C:/Users/offic/.texlive2021/texmf-var/fonts/ovf//;C:/Users/offic/texmf/fonts/ovf//;!!U://texmf-local/fonts/ovf//;!!U:/texlive/texmf-config/fonts/ovf//;!!U:/texlive/texmf-var/fonts/ovf//;!!U:/texlive/texmf-dist/fonts/ovf//;C:/Users/offic/.texlive2021/texmf-var/fonts/ovf//;C:/Users/offic/.texlive2021/texmf-config/fonts/vf//;C:/Users/offic/.texlive2021/texmf-var/fonts/vf//;C:/Users/offic/texmf/fonts/vf//;!!U://texmf-local/fonts/vf//;!!U:/texlive/texmf-config/fonts/vf//;!!U:/texlive/texmf-var/fonts/vf//;!!U:/texlive/texmf-dist/fonts/vf//;C:/Users/offic/.texlive2021/texmf-var/fonts/vf//
kdebug:  before expansion = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/{ovf,vf}//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/{ovf,vf}//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = OVFFONTS TEXFONTS
kdebug:  default suffixes = .ovf .vf
kdebug:  other suffixes = (none)
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 23
kdebug:Search path for ovp files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/fonts/ovp//;C:/Users/offic/.texlive2021/texmf-var/fonts/ovp//;C:/Users/offic/texmf/fonts/ovp//;!!U://texmf-local/fonts/ovp//;!!U:/texlive/texmf-config/fonts/ovp//;!!U:/texlive/texmf-var/fonts/ovp//;!!U:/texlive/texmf-dist/fonts/ovp//;C:/Users/offic/.texlive2021/texmf-var/fonts/ovp//
kdebug:  before expansion = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/ovp//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;{$TEXMF/fonts,$VARTEXFONTS}/ovp//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = OVPFONTS TEXFONTS
kdebug:  default suffixes = .ovp
kdebug:  other suffixes = .vpl
kdebug:  search only with suffix = 1
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 24
kdebug:Search path for graphic/figure files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/tex/kpsewhich//;C:/Users/offic/.texlive2021/texmf-var/tex/kpsewhich//;C:/Users/offic/texmf/tex/kpsewhich//;!!U://texmf-local/tex/kpsewhich//;!!U:/texlive/texmf-config/tex/kpsewhich//;!!U:/texlive/texmf-var/tex/kpsewhich//;!!U:/texlive/texmf-dist/tex/kpsewhich//;C:/Users/offic/.texlive2021/texmf-config/tex/generic//;C:/Users/offic/.texlive2021/texmf-var/tex/generic//;C:/Users/offic/texmf/tex/generic//;!!U://texmf-local/tex/generic//;!!U:/texlive/texmf-config/tex/generic//;!!U:/texlive/texmf-var/tex/generic//;!!U:/texlive/texmf-dist/tex/generic//;C:/Users/offic/.texlive2021/texmf-config/tex/latex//;C:/Users/offic/.texlive2021/texmf-var/tex/latex//;C:/Users/offic/texmf/tex/latex//;!!U://texmf-local/tex/latex//;!!U:/texlive/texmf-config/tex/latex//;!!U:/texlive/texmf-var/tex/latex//;!!U:/texlive/texmf-dist/tex/latex//;C:/Users/offic/.texlive2021/texmf-config/tex///;C:/Users/offic/.texlive2021/texmf-var/tex///;C:/Users/offic/texmf/tex///;!!U://texmf-local/tex///;!!U:/texlive/texmf-config/tex///;!!U:/texlive/texmf-var/tex///;!!U:/texlive/texmf-dist/tex///
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/tex/{$progname,generic,latex,}//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/tex/{$progname,generic,latex,}//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = TEXPICTS TEXINPUTS
kdebug:  default suffixes = (none)
kdebug:  other suffixes = .eps .epsi
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = (none)
kdebug:  runtime generation command = (none)
kdebug:  program enabled = 0
kdebug:  program enable level = 0
kdebug:  open files in binary mode = 1
kdebug:  numeric format value = 25
kdebug:Search path for tex files (from texmf.cnf)
kdebug:  =
.;C:/Users/offic/.texlive2021/texmf-config/tex/kpsewhich//;C:/Users/offic/.texlive2021/texmf-var/tex/kpsewhich//;C:/Users/offic/texmf/tex/kpsewhich//;!!U://texmf-local/tex/kpsewhich//;!!U:/texlive/texmf-config/tex/kpsewhich//;!!U:/texlive/texmf-var/tex/kpsewhich//;!!U:/texlive/texmf-dist/tex/kpsewhich//;C:/Users/offic/.texlive2021/texmf-config/tex/generic//;C:/Users/offic/.texlive2021/texmf-var/tex/generic//;C:/Users/offic/texmf/tex/generic//;!!U://texmf-local/tex/generic//;!!U:/texlive/texmf-config/tex/generic//;!!U:/texlive/texmf-var/tex/generic//;!!U:/texlive/texmf-dist/tex/generic//;C:/Users/offic/.texlive2021/texmf-config/tex/latex//;C:/Users/offic/.texlive2021/texmf-var/tex/latex//;C:/Users/offic/texmf/tex/latex//;!!U://texmf-local/tex/latex//;!!U:/texlive/texmf-config/tex/latex//;!!U:/texlive/texmf-var/tex/latex//;!!U:/texlive/texmf-dist/tex/latex//;C:/Users/offic/.texlive2021/texmf-config/tex///;C:/Users/offic/.texlive2021/texmf-var/tex///;C:/Users/offic/texmf/tex///;!!U://texmf-local/tex///;!!U:/texlive/texmf-config/tex///;!!U:/texlive/texmf-var/tex///;!!U:/texlive/texmf-dist/tex///
kdebug:  before expansion = $TEXMFDOTDIR;$TEXMF/tex/{$progname,generic,latex,}//
kdebug:  application override path = (none)
kdebug:  application config file path = (none)
kdebug:  texmf.cnf path = $TEXMFDOTDIR;$TEXMF/tex/{$progname,generic,latex,}//
kdebug:  compile-time path = /nonesuch
kdebug:  environment variables = TEXINPUTS
kdebug:  default suffixes = .tex
kdebug:  other suffixes = .sty .cls .fd .aux .bbl .def .clo .ldf
kdebug:  search only with suffix = 0
kdebug:  runtime generation program = mktextex
kdebug:  runtime generation command = mktextex
kdebug:  program enabled = 0
kdebug:  program enable level = 5
kdebug:  open files in binary mode = 0
kdebug:  numeric format value = 26
path . is a directory
kdebug:path element . => ./
kdebug:path element c:/Users/offic/.texlive2021/texmf-config/tex/kpsewhich// =>
kdebug:path element c:/Users/offic/.texlive2021/texmf-var/tex/kpsewhich// =>
kdebug:path element c:/Users/offic/texmf/tex/kpsewhich// =>
kdebug:kpse_normalize_path (u://texmf-local/tex/kpsewhich//) => 2
kdebug:path element c:/Users/offic/.texlive2021/texmf-config/tex/generic// =>
kdebug:path element c:/Users/offic/.texlive2021/texmf-var/tex/generic// =>
kdebug:path element c:/Users/offic/texmf/tex/generic// =>
kdebug:kpse_normalize_path (u://texmf-local/tex/generic//) => 2
kdebug:path element c:/Users/offic/.texlive2021/texmf-config/tex/latex// =>
kdebug:path element c:/Users/offic/.texlive2021/texmf-var/tex/latex// =>
kdebug:path element c:/Users/offic/texmf/tex/latex// =>
kdebug:kpse_normalize_path (u://texmf-local/tex/latex//) => 2
u:/texlive/texmf-dist/tex/latex/base/article.cls

O:\schule\unterricht>

From kjharcombe at hey.com  Thu Jun 10 00:45:04 2021
From: kjharcombe at hey.com (Keiran Harcombe)
Date: Wed, 09 Jun 2021 23:45:04 +0100
Subject: Texdoctk Maintainer
In-Reply-To: <202106072057.157KvvTj027897@freefriends.org>
Message-ID: <dd3bcbcdec738156b39fa40288ac540febbbe301@hey.com>

Hi Karl,

Is there anything that I should keep in mind when working on this? Like
any standards or rules?

Kind Regards,
Keiran Harcombe


On June 7, 2021, Karl Berry <karl at freefriends.org> wrote:
> I was hoping to offer my services to maintain Texdoctk if anyone feels
> ?that would be helpful?
>
> Hi Keiran - sure (as we discussed).
>
> Making it a true frontend to texdoc would probably be sensible.
> And possibly rewriting it in Tk/Tcl, as Siep used for tlshell et al.,
> as being more portable. --happy hacking, karl.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210609/e2ed3cc7/attachment.html>

From norbert at preining.info  Thu Jun 10 01:08:47 2021
From: norbert at preining.info (Norbert Preining)
Date: Thu, 10 Jun 2021 08:08:47 +0900
Subject: Texdoctk Maintainer
In-Reply-To: <dd3bcbcdec738156b39fa40288ac540febbbe301@hey.com>
References: <202106072057.157KvvTj027897@freefriends.org>
 <dd3bcbcdec738156b39fa40288ac540febbbe301@hey.com>
Message-ID: <YMFJ/8V2atgCE4mj@bulldog.preining.info>

Hi Keiran,

> Is there anything that I should keep in mind when working on this? Like
> any standards or rules?

Puhh, nothing really comes to my mind. Maybe being aware that package
names might change (although unlikely)? And also that packages might
disappear (because declared obsolete, or license problems, ...).

I also recommend sharing your progress in some way the often the better,
so some of us can look at it and comment!

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Thu Jun 10 15:06:09 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Thu, 10 Jun 2021 14:06:09 +0100
Subject: TeX Hour: Today: Code and Math Accessibility: Hard? Easy? When? Why?
In-Reply-To: <CALD=Yf_tGWe1fBqwzmZZjD=QodMeEJb9nkq1RC=nyr4QiWzv0Q@mail.gmail.com>
References: <4bc9447f-07f0-45ea-a273-e14e4467ae02n@googlegroups.com>
 <CALD=Yf9E1w9o_iprWZbQiUH4s8fXqF79X7yWP--oakRuAm5gJg@mail.gmail.com>
 <CALD=Yf88ycXu1pFfh66cyV3wYDT1kXz+PTv_Q-JiCd7DsvCz0Q@mail.gmail.com>
 <CALD=Yf_tGWe1fBqwzmZZjD=QodMeEJb9nkq1RC=nyr4QiWzv0Q@mail.gmail.com>
Message-ID: <CALD=Yf-dx3iPpPsXqGfvr8ocgPD7b0+o4zGQocsVyY=MCHAfCw@mail.gmail.com>

Hi

Tonight's TeX Hour is about code and math accessibility. I'd like to get
examples of accessibility being easy and hard, and to understand better
why.

The TeX Hour is today, Thursday 10 June, 6.30 to 7.30pm UK time. The UK
time now is at https://time.is/UK. The zoom details are
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Meeting ID: 785 5125 5396
Passcode: knuth

I'm interested in all reasons, including cultural, social, legal, technical
and economic. I hope that shared examples and understanding will help both
experts and beginners in this area.

Here's some top level suggestions:
1. There are legal requirements to provide accessibility.
2. Projects don't think early enough about accessibility.
3. Sighted developers don't get the blind user's experience.
4. There are mature standards, such as Nemeth Braille for mathematics.

Digging deeper we might say:
5. There's no STEM tools similar to https://wave.webaim.org/ for ordinary
web pages.

And deeper yet we might say:
6. Here are some good and not so good examples of an accessibility tree:
https://accessibleweb.com/question-answer/what-is-an-accessibility-tree-and-how-do-i-view-it/

Optimistically, I'm hoping this TeX Hour (really STEM Access Hour) will
collect and where necessary create useful resources. It's not enough to
provide the facts. Real world stories that relate to the reader are also
needed. Perhaps start with problems and questions, search for experts and
solutions, and then collect and curate the resources.

This is a general process. Being the TeX Hour, we have a special interest
and responsibility for matters such as LaTeX syntax, tagged PDF
capabilities, and navigation of mathematical content.

Interested? Please email me, or come along to the TeX Hour. I welcome your
experience and ideas. And I very much value questions from beginners.

The video from last week (Rethinking the beginner experience) is not yet on
YouTube.

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210610/b1cf8053/attachment.html>

From jfine2358 at gmail.com  Thu Jun 10 18:06:08 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Thu, 10 Jun 2021 17:06:08 +0100
Subject: TeX Hour: Thu 27 May: Understand + refactor TeX Live: more
 flexible + agile
In-Reply-To: <a77e7524-4bc3-a576-35fd-e5ebda95b243@dante.de>
References: <202105282138.14SLcH79031027@freefriends.org>
 <a77e7524-4bc3-a576-35fd-e5ebda95b243@dante.de>
Message-ID: <CALD=Yf8XqaWsi3Mfpeu9Hrgsf3uxbUo=ss5y-LajqLStu_oNvA@mail.gmail.com>

I got the TEXCOL2021 DVD today. Here are some new stats (with old stats for
context).

The conclusions I draw are:
1. Total size increased by about 10% (from 2020 to 2021).
2. texlive increased by about 10%.
3. protext increased by about 15%.
4. ctan increased by about 5%.
5. mactex decreased by about 10%.
6. The extra 0.7G gained last year is now used up.

What will happen with TEXCOL2022? I don't know! Do you? I hope we don't
replace DVD-9 by DVD-10, or spread it onto a second DVD.

TOP-LEVEL SIZES, compared to last year.
$ du -s /data/TEXCOL202{0,1}/* | sort -rn | head -8
4331862 /data/TEXCOL2021/texlive
3897806 /data/TEXCOL2020/texlive
2274949 /data/TEXCOL2021/ctan
2122483 /data/TEXCOL2020/ctan
1205208 /data/TEXCOL2021/protext
1046204 /data/TEXCOL2020/protext
455479 /data/TEXCOL2020/mactex
416962 /data/TEXCOL2021/mactex

TOTAL SIZE (2010 to 2021)
$ df -h --output=target,size /data/TEXCOL20*
Mounted on        Size
/data/TEXCOL2010  7.9G
/data/TEXCOL2011  7.9G
/data/TEXCOL2012  7.9G
/data/TEXCOL2013  8.0G
/data/TEXCOL2014  7.0G
/data/TEXCOL2015  7.5G
/data/TEXCOL2016  7.9G
/data/TEXCOL2017  8.0G
/data/TEXCOL2018  7.8G
/data/TEXCOL2019  8.0G
/data/TEXCOL2020  7.3G
/data/TEXCOL2021  8.0G

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210610/963978c9/attachment.html>

From cursus.publicus at sacrumromanumimperium.org  Thu Jun 10 19:06:52 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Thu, 10 Jun 2021 19:06:52 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <8d684106-b7e7-5a77-7aea-947bbdf07571@tuwien.ac.at>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
 <f5b1a224-d82a-2bdc-0487-409e3789d128@tuwien.ac.at>
 <4132647a-948d-b2ea-deb2-be2cd26f3c6a@sacrumromanumimperium.org>
 <8d684106-b7e7-5a77-7aea-947bbdf07571@tuwien.ac.at>
Message-ID: <499ae0d7-dbf1-4ba8-dc4f-3fef68e19b16@sacrumromanumimperium.org>

Alois Steindl schrieb am 10.06.2021 um 11:18:
> Hello Andreas,
> 
> I am running out of ideas how to find the culprit.
> 
> Since you mentioned the AppCrashes, these seem very suspicious. The
> funny thing is, that the simple invocation without file works. My guess
> would be to reinstall these binaries.

done - without success :-(

best,
Andreas

From siepo at bitmuis.nl  Fri Jun 11 10:28:21 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Fri, 11 Jun 2021 10:28:21 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
Message-ID: <YMMepWRJ5enjH/nH@bitmuis.nl>

On Tue, Jun 08, 2021 at 01:51:49PM +0200, Andreas Hirsch wrote:
> 
> Hi all,
> 
> I'm using TeXLive2021, installed on my Ubuntu-Server for two OS:
> - x86_64-linux
> - win32
> 
> After tonights update pdflatex for win32 does not work properly but I'm
> getting no error-message (see attached screenshot). It simply stops working.

I can reproduce this with my Linux box as samba server and a KVM
windows 10 virtual machine, with or without mapping for the UNC path
to the TL installation.

lualatex and xelatex work.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Fri Jun 11 11:02:06 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Fri, 11 Jun 2021 11:02:06 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMMepWRJ5enjH/nH@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl>
Message-ID: <YMMmjmdjucsLkfIS@bitmuis.nl>

On Fri, Jun 11, 2021 at 10:28:21AM +0200, Siep Kroonenberg wrote:
> On Tue, Jun 08, 2021 at 01:51:49PM +0200, Andreas Hirsch wrote:
> > 
> > Hi all,
> > 
> > I'm using TeXLive2021, installed on my Ubuntu-Server for two OS:
> > - x86_64-linux
> > - win32
> > 
> > After tonights update pdflatex for win32 does not work properly but I'm
> > getting no error-message (see attached screenshot). It simply stops working.
> 
> I can reproduce this with my Linux box as samba server and a KVM
> windows 10 virtual machine, with or without mapping for the UNC path
> to the TL installation.
> 
> lualatex and xelatex work.

good\bye works with pdflatex.

A couple of messages in the event viewer:

svchost (1016,D,23) SRUJet: The database page read from the file
"C:\Windows\system32\SRU\SRUDB.dat" at offset 1409024
(0x0000000000158000) (database page 343 (0x157)) for 4096
(0x00001000) bytes failed verification due to a persisted lost flush
detection timestamp mismatch. The read operation will fail with
error -1119 (0xfffffba1).  The flush state on database page 343
(0x157) was 2 while the flush state on flush map page 0 (0x0) was 3.
If this condition persists, restore the database from a previous
backup. This problem is likely due to faulty hardware. Please
contact your hardware vendor for further assistance diagnosing the
problem.

svchost (1016,D,0) SRUJet: A bad page link (error -338) has been
detected in a B-Tree (ObjectId: 12, PgnoRoot: 47) of database
C:\Windows\system32\SRU\SRUDB.dat (47 => 343, 0).  Tag:
BtMergeParentMismatchLast

Error IDs were resp. 544 and 447. Screenshot attached.

-- 
Siep Kroonenberg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Untitled.png
Type: image/png
Size: 69543 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210611/668008b2/attachment-0001.png>

From Alois.Steindl at tuwien.ac.at  Fri Jun 11 11:35:34 2021
From: Alois.Steindl at tuwien.ac.at (Alois Steindl)
Date: Fri, 11 Jun 2021 11:35:34 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <499ae0d7-dbf1-4ba8-dc4f-3fef68e19b16@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
 <f5b1a224-d82a-2bdc-0487-409e3789d128@tuwien.ac.at>
 <4132647a-948d-b2ea-deb2-be2cd26f3c6a@sacrumromanumimperium.org>
 <8d684106-b7e7-5a77-7aea-947bbdf07571@tuwien.ac.at>
 <499ae0d7-dbf1-4ba8-dc4f-3fef68e19b16@sacrumromanumimperium.org>
Message-ID: <1f693ceb-cadb-f0dd-553f-502b42ec33b6@tuwien.ac.at>


>> Since you mentioned the AppCrashes, these seem very suspicious. The
>> funny thing is, that the simple invocation without file works. My guess
>> would be to reinstall these binaries.
>
> done - without success :-(
>
Did you also replace the dll-files? Do you still receive the AppCrashes?

Good luck

Alois

From cursus.publicus at sacrumromanumimperium.org  Fri Jun 11 13:04:09 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Fri, 11 Jun 2021 13:04:09 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMMmjmdjucsLkfIS@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
Message-ID: <4f8d4327-5a27-a524-ce67-39d88c8f0de9@sacrumromanumimperium.org>

Dear Siep,

thank you for your further investigation!

Concerning the possible 'hardware error' i like to mention, that the 
same problems occour on a different machine at work.

Such an incidence seems to me not very likely possible (and your machine 
might not have a hardware problem too)

So we have three different systems with the same corrupted database?

Andreas

Siep Kroonenberg schrieb am 11.06.2021 um 11:02:
> On Fri, Jun 11, 2021 at 10:28:21AM +0200, Siep Kroonenberg wrote:
>> On Tue, Jun 08, 2021 at 01:51:49PM +0200, Andreas Hirsch wrote:
>>>
>>> Hi all,
>>>
>>> I'm using TeXLive2021, installed on my Ubuntu-Server for two OS:
>>> - x86_64-linux
>>> - win32
>>>
>>> After tonights update pdflatex for win32 does not work properly but I'm
>>> getting no error-message (see attached screenshot). It simply stops working.
>>
>> I can reproduce this with my Linux box as samba server and a KVM
>> windows 10 virtual machine, with or without mapping for the UNC path
>> to the TL installation.
>>
>> lualatex and xelatex work.
> 
> good\bye works with pdflatex.
> 
> A couple of messages in the event viewer:
> 
> svchost (1016,D,23) SRUJet: The database page read from the file
> "C:\Windows\system32\SRU\SRUDB.dat" at offset 1409024
> (0x0000000000158000) (database page 343 (0x157)) for 4096
> (0x00001000) bytes failed verification due to a persisted lost flush
> detection timestamp mismatch. The read operation will fail with
> error -1119 (0xfffffba1).  The flush state on database page 343
> (0x157) was 2 while the flush state on flush map page 0 (0x0) was 3.
> If this condition persists, restore the database from a previous
> backup. This problem is likely due to faulty hardware. Please
> contact your hardware vendor for further assistance diagnosing the
> problem.
> 
> svchost (1016,D,0) SRUJet: A bad page link (error -338) has been
> detected in a B-Tree (ObjectId: 12, PgnoRoot: 47) of database
> C:\Windows\system32\SRU\SRUDB.dat (47 => 343, 0).  Tag:
> BtMergeParentMismatchLast
> 
> Error IDs were resp. 544 and 447. Screenshot attached.
> 

From zdenek.wagner at gmail.com  Fri Jun 11 14:11:35 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 11 Jun 2021 14:11:35 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <4f8d4327-5a27-a524-ce67-39d88c8f0de9@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <4f8d4327-5a27-a524-ce67-39d88c8f0de9@sacrumromanumimperium.org>
Message-ID: <CAC1phybrOLKQ2Y9GcchA1_rsgPo=i703PaYe+3HBMreGjdFMxQ@mail.gmail.com>

Hi,

there is an easy way how to corrupt the ls-R files in Linux (it
happend to me several times). Suppose you follow the recommendation
and install TeX Live as a non-root normal user. Then, at one time, you
run mktexlsr as root. This changes the ownership of the ls-R files.
Then you update TeX Live as a normal user. The normal file are still
owned by the user who did the installation hence they are updated. In
the next step mktexlsr is called but the ls-R files are not writable
for the normal user. It is too easy not to notice that ls-R were not
updated. Can you check the ownership of the files?

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml

p? 11. 6. 2021 v 13:04 odes?latel Andreas Hirsch
<cursus.publicus at sacrumromanumimperium.org> napsal:
>
> Dear Siep,
>
> thank you for your further investigation!
>
> Concerning the possible 'hardware error' i like to mention, that the
> same problems occour on a different machine at work.
>
> Such an incidence seems to me not very likely possible (and your machine
> might not have a hardware problem too)
>
> So we have three different systems with the same corrupted database?
>
> Andreas
>
> Siep Kroonenberg schrieb am 11.06.2021 um 11:02:
> > On Fri, Jun 11, 2021 at 10:28:21AM +0200, Siep Kroonenberg wrote:
> >> On Tue, Jun 08, 2021 at 01:51:49PM +0200, Andreas Hirsch wrote:
> >>>
> >>> Hi all,
> >>>
> >>> I'm using TeXLive2021, installed on my Ubuntu-Server for two OS:
> >>> - x86_64-linux
> >>> - win32
> >>>
> >>> After tonights update pdflatex for win32 does not work properly but I'm
> >>> getting no error-message (see attached screenshot). It simply stops working.
> >>
> >> I can reproduce this with my Linux box as samba server and a KVM
> >> windows 10 virtual machine, with or without mapping for the UNC path
> >> to the TL installation.
> >>
> >> lualatex and xelatex work.
> >
> > good\bye works with pdflatex.
> >
> > A couple of messages in the event viewer:
> >
> > svchost (1016,D,23) SRUJet: The database page read from the file
> > "C:\Windows\system32\SRU\SRUDB.dat" at offset 1409024
> > (0x0000000000158000) (database page 343 (0x157)) for 4096
> > (0x00001000) bytes failed verification due to a persisted lost flush
> > detection timestamp mismatch. The read operation will fail with
> > error -1119 (0xfffffba1).  The flush state on database page 343
> > (0x157) was 2 while the flush state on flush map page 0 (0x0) was 3.
> > If this condition persists, restore the database from a previous
> > backup. This problem is likely due to faulty hardware. Please
> > contact your hardware vendor for further assistance diagnosing the
> > problem.
> >
> > svchost (1016,D,0) SRUJet: A bad page link (error -338) has been
> > detected in a B-Tree (ObjectId: 12, PgnoRoot: 47) of database
> > C:\Windows\system32\SRU\SRUDB.dat (47 => 343, 0).  Tag:
> > BtMergeParentMismatchLast
> >
> > Error IDs were resp. 544 and 447. Screenshot attached.
> >


From P.Taylor at Rhul.Ac.Uk  Fri Jun 11 14:27:08 2021
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 11 Jun 2021 13:27:08 +0100
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <CAC1phybrOLKQ2Y9GcchA1_rsgPo=i703PaYe+3HBMreGjdFMxQ@mail.gmail.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <4f8d4327-5a27-a524-ce67-39d88c8f0de9@sacrumromanumimperium.org>
 <CAC1phybrOLKQ2Y9GcchA1_rsgPo=i703PaYe+3HBMreGjdFMxQ@mail.gmail.com>
Message-ID: <1bb51389-583b-5e5e-7f3b-ca96e6a59a0e@Rhul.Ac.Uk>

Zden?k Wagner wrote:


So we have three different systems with the same corrupted database?

Andreas




there is an easy way how to corrupt the ls-R files in Linux

Is not the database to which Andreas was referring the file "C:\Windows\system32\SRU\SRUDB.dat" rather than the ls-R file, Zden?k ?

--
Philip Taylor

Please note that the following boiler-plate text (if any) has been inserted without my consent, and I have no control over its content.
If it makes any reference to "us", I have no idea as to whom it refers.

This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210611/d2ef08fb/attachment.html>

From zdenek.wagner at gmail.com  Fri Jun 11 14:28:56 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 11 Jun 2021 14:28:56 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <1bb51389-583b-5e5e-7f3b-ca96e6a59a0e@Rhul.Ac.Uk>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <4f8d4327-5a27-a524-ce67-39d88c8f0de9@sacrumromanumimperium.org>
 <CAC1phybrOLKQ2Y9GcchA1_rsgPo=i703PaYe+3HBMreGjdFMxQ@mail.gmail.com>
 <1bb51389-583b-5e5e-7f3b-ca96e6a59a0e@Rhul.Ac.Uk>
Message-ID: <CAC1phyYSPmVWAK2HX6oieyKBPBdDNayVbJTNSdXb-Svjmxbj8g@mail.gmail.com>

p? 11. 6. 2021 v 14:27 odes?latel Philip Taylor <P.Taylor at rhul.ac.uk> napsal:
>
> Zden?k Wagner wrote:
>
> So we have three different systems with the same corrupted database?
>
> Andreas
>
>
>
> there is an easy way how to corrupt the ls-R files in Linux
>
>
> Is not the database to which Andreas was referring the file "C:\Windows\system32\SRU\SRUDB.dat" rather than the ls-R file, Zden?k ?
>
If the installation is shared, is the database on the local Windows
computer? If so, then my analysis is wrong.
> --
> Philip Taylor
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml


> Please note that the following boiler-plate text (if any) has been inserted without my consent, and I have no control over its content.
> If it makes any reference to "us", I have no idea as to whom it refers.
>
> This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.


From cursus.publicus at sacrumromanumimperium.org  Fri Jun 11 14:33:42 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Fri, 11 Jun 2021 14:33:42 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <CAC1phyYSPmVWAK2HX6oieyKBPBdDNayVbJTNSdXb-Svjmxbj8g@mail.gmail.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <4f8d4327-5a27-a524-ce67-39d88c8f0de9@sacrumromanumimperium.org>
 <CAC1phybrOLKQ2Y9GcchA1_rsgPo=i703PaYe+3HBMreGjdFMxQ@mail.gmail.com>
 <1bb51389-583b-5e5e-7f3b-ca96e6a59a0e@Rhul.Ac.Uk>
 <CAC1phyYSPmVWAK2HX6oieyKBPBdDNayVbJTNSdXb-Svjmxbj8g@mail.gmail.com>
Message-ID: <4f4e5449-26ed-8328-7180-cec07b3cb1f7@sacrumromanumimperium.org>

Hi,

Zdenek Wagner schrieb am 11.06.2021 um 14:28:
> p? 11. 6. 2021 v 14:27 odes?latel Philip Taylor <P.Taylor at rhul.ac.uk> napsal:
>>
>> Zden?k Wagner wrote:

>> there is an easy way how to corrupt the ls-R files in Linux

>> Is not the database to which Andreas was referring the file "C:\Windows\system32\SRU\SRUDB.dat" rather than the ls-R file, Zden?k ?
>>
> If the installation is shared, is the database on the local Windows
> computer? If so, then my analysis is wrong.

According to Sieps mail, the pdftex.dll crash is related to a 
Windows-Database named srudb.dat

From cursus.publicus at sacrumromanumimperium.org  Fri Jun 11 14:56:32 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Fri, 11 Jun 2021 14:56:32 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMMmjmdjucsLkfIS@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
Message-ID: <987c15c8-85d9-002d-7c44-1953f59f57f9@sacrumromanumimperium.org>


Hi Siep,

Siep Kroonenberg schrieb am 11.06.2021 um 11:02:

> A couple of messages in the event viewer:
> 
> svchost (1016,D,23) SRUJet: The database page read from the file
> "C:\Windows\system32\SRU\SRUDB.dat" at offset 1409024
> (0x0000000000158000) (database page 343 (0x157)) for 4096
> (0x00001000) bytes failed verification due to a persisted lost flush
> detection timestamp mismatch. The read operation will fail with
> error -1119 (0xfffffba1).  The flush state on database page 343
> (0x157) was 2 while the flush state on flush map page 0 (0x0) was 3.
> If this condition persists, restore the database from a previous
> backup. This problem is likely due to faulty hardware. Please
> contact your hardware vendor for further assistance diagnosing the
> problem.
> 
> svchost (1016,D,0) SRUJet: A bad page link (error -338) has been
> detected in a B-Tree (ObjectId: 12, PgnoRoot: 47) of database
> C:\Windows\system32\SRU\SRUDB.dat (47 => 343, 0).  Tag:
> BtMergeParentMismatchLast
> 
> Error IDs were resp. 544 and 447. Screenshot attached.
> 
Scanning my eventviewer, I did not get any hint to srudb.dat

I only get the appcrash for pdflatex.exe caused by pdftex.dll
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v10.jpg
Type: image/jpeg
Size: 141316 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210611/5c57d062/attachment-0001.jpg>

From gnwiii at gmail.com  Fri Jun 11 16:54:19 2021
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 11 Jun 2021 11:54:19 -0300
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <987c15c8-85d9-002d-7c44-1953f59f57f9@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <987c15c8-85d9-002d-7c44-1953f59f57f9@sacrumromanumimperium.org>
Message-ID: <CAKTOP457zSndxRJVeneX3VKcyO39xN8=LfkP+xRXFviKZF87uw@mail.gmail.com>

On Fri, 11 Jun 2021 at 09:57, Andreas Hirsch <
cursus.publicus at sacrumromanumimperium.org> wrote:

>
> Hi Siep,
>
> Siep Kroonenberg schrieb am 11.06.2021 um 11:02:
>
> > A couple of messages in the event viewer:
> >
> > svchost (1016,D,23) SRUJet: The database page read from the file
> > "C:\Windows\system32\SRU\SRUDB.dat" at offset 1409024
> > (0x0000000000158000) (database page 343 (0x157)) for 4096
> > (0x00001000) bytes failed verification due to a persisted lost flush
> > detection timestamp mismatch. The read operation will fail with
> > error -1119 (0xfffffba1).  The flush state on database page 343
> > (0x157) was 2 while the flush state on flush map page 0 (0x0) was 3.
> > If this condition persists, restore the database from a previous
> > backup. This problem is likely due to faulty hardware. Please
> > contact your hardware vendor for further assistance diagnosing the
> > problem.
> >
> > svchost (1016,D,0) SRUJet: A bad page link (error -338) has been
> > detected in a B-Tree (ObjectId: 12, PgnoRoot: 47) of database
> > C:\Windows\system32\SRU\SRUDB.dat (47 => 343, 0).  Tag:
> > BtMergeParentMismatchLast
> >
> > Error IDs were resp. 544 and 447. Screenshot attached.
> >
> Scanning my eventviewer, I did not get any hint to srudb.dat
>
> I only get the appcrash for pdflatex.exe caused by pdftex.dll
>

System Resource Utilization Monitor (SRUM) is responsible for SRUDB.dat.
For a program that extracts data to a .csv file:
https://isc.sans.edu/forums/diary/System+Resource+Utilization+Monitor/21927/

I think Reliability Monitor (RM) uses SRUDB.dat -- have you checked RM?

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210611/aaafd6c4/attachment.html>

From karl at freefriends.org  Fri Jun 11 19:54:55 2021
From: karl at freefriends.org (Karl Berry)
Date: Fri, 11 Jun 2021 11:54:55 -0600
Subject: Texdoctk Maintainer
In-Reply-To: <dd3bcbcdec738156b39fa40288ac540febbbe301@hey.com>
Message-ID: <202106111754.15BHstU0008829@freefriends.org>

    Is there anything that I should keep in mind when working on this?
    Like any standards or rules?

I've collected some information along these lines here:
http://tug.org/texlive/pkgcontrib.html#exec

Also, in the case of texdoctk, as I've mentioned before, I strongly
suggest that it simply be a GUI front end to texdoc, and not have any
data files of its own. The current texdoctk has its own data file, and
that is one of the big reasons why it became unmaintainable. --best, karl.

From reinhard.kotucha at web.de  Sat Jun 12 04:01:24 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 12 Jun 2021 04:01:24 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMMmjmdjucsLkfIS@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
Message-ID: <24772.5492.654396.196864@gargle.gargle.HOWL>

On 2021-06-11 at 11:02:06 +0200, Siep Kroonenberg wrote:

 > good\bye works with pdflatex.

Hi Siep,
I suppose you mean (plain) pdftex.

It seems that only pdf*latex* is affected.  This is quite strange
because LaTeX is supposed to be system independent.  There are only
very few macros which are close to the OS, for instance checking
whether a file exists.  LaTeX 3 probably does a bit more in this area.

According to the output of "kpathsea debug" submitted by Andreas,
kpathsea is looking for article.cls.  This means that pdftex has no
problem loading the LaTeX format file and the crash happens after
\documentclass.

Does it always crash at the same place?  If a document depends on many
packages, does pdflatex --recorder always generate the same .fls file?

Siep, it's great that you can reproduce the problem.  I suppose that
you have MinGW installed.  Is it possible to create a stack backtrace
with gdb in order to find out in which function it crashes?

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From vlmantova at gmail.com  Sat Jun 12 10:54:30 2021
From: vlmantova at gmail.com (Vincenzo Mantova)
Date: Sat, 12 Jun 2021 09:54:30 +0100
Subject: differences between daily snapshots and CTAN
Message-ID: <CAM6y5tfCjD3Bq8VQs7hhogBJQyO6r=tFrb2a0p1V+yTCrHv29w@mail.gmail.com>

Hi,

I have a question about the TeX Live daily snapshots and the CTAN mirrors
(hopefully an easy one).

Say I download a file from https://texlive.info/tlnet-archive/2021/01/08
with a particular revision number, and an identically named file from an
up-to-date CTAN mirror. How confident can I be that the file content will
be identical, byte-for-byte? At least when looking at static files, i.e.
not architecture specific binaries. I assume that you only rebuild a
package when its revision number goes up.

My use case is reproducibility: if I want to reproduce an old snapshot, I'd
like to leverage CTAN mirrors as much as possible before relying on
https://texlive.info.

Best,
Vincenzo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210612/00aab2f1/attachment.html>

From news3 at nililand.de  Sat Jun 12 11:28:28 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 12 Jun 2021 11:28:28 +0200
Subject: allowing use of fonts across texlive versions
Message-ID: <5wdw6xkarggo.dlg@nililand.de>

I like to have a number of texlive versions installed. It allows me
to check if an error is new or not.

On my PC this is not a problem, I have enough disc space but it puts
quite some strain on my laptop. I can delete the doc and the source
folder from older texlive to save some space, but one large folder
in a texmf-dist is the fonts folder and this one can't simply
delete. 

Would it be possible to move the fonts from texmf-dist into a
separate texmf-tree say texmf-fonts?

Then I could delete the fonts folder in older systems and redirect
them to use the one of the newest texlive. (I know that this is not
perfect and it could lead to incompabilities as fonts change over
time too, but in most cases it should be ok). 

-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From P.Taylor at Hellenic-Institute.Uk  Sat Jun 12 11:43:57 2021
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor)
Date: Sat, 12 Jun 2021 10:43:57 +0100
Subject: allowing use of fonts across texlive versions
In-Reply-To: <5wdw6xkarggo.dlg@nililand.de>
References: <5wdw6xkarggo.dlg@nililand.de>
Message-ID: <c4084e6a-d79a-c153-6f65-0b5513350b23@Hellenic-Institute.Uk>

Ulrike Fischer wrote:

> I like to have a number of texlive versions installed. It allows me
> to check if an error is new or not.
>
> On my PC this is not a problem, I have enough disc space but it puts
> quite some strain on my laptop. I can delete the doc and the source
> folder from older texlive to save some space, but one large folder
> in a texmf-dist is the fonts folder and this one can't simply
> delete.
>
> Would it be possible to move the fonts from texmf-dist into a
> separate texmf-tree say texmf-fonts?
>
> Then I could delete the fonts folder in older systems and redirect
> them to use the one of the newest texlive. (I know that this is not
> perfect and it could lead to incompabilities as fonts change over
> time too, but in most cases it should be ok).
>

Not entirely dissimilar to my earlier suggestion of "incremental TeX 
Live", Ulrike.
-- 
/** Phil./
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210612/083978a3/attachment.html>

From cursus.publicus at sacrumromanumimperium.org  Sat Jun 12 12:53:35 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sat, 12 Jun 2021 12:53:35 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <f7knvp1gedkm$.dlg@nililand.de>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <AM0PR01MB54251DD8715B77CCD675A704F2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <57c8be58-8b5b-4284-0b4d-84a92c3e6d75@sacrumromanumimperium.org>
 <AM0PR01MB5425DF6C7B43304FD6B232EFF2379@AM0PR01MB5425.eurprd01.prod.exchangelabs.com>
 <0ce0d8f8-cc04-3249-4463-279cd4760a3c@sacrumromanumimperium.org>
 <212900b6-0015-a304-c303-4f5ec79b6c44@tuwien.ac.at>
 <eb75d5a7-189d-6c3b-1b0d-13e386a6083e@sacrumromanumimperium.org>
 <f7knvp1gedkm$.dlg@nililand.de>
Message-ID: <43c8bea8-2988-e879-779c-253745f5145d@sacrumromanumimperium.org>

Hi,

Ulrike Fischer schrieb am 08.06.2021 um 22:54:

> Which mean try with plain tex,

runs without problems

> try commands like kpsewhich,

success

> use some process monitor, ...

done, but due to my insufficient knowledge I'm not able to find out what 
the problem is :-(
(attached)

I would be glad if someone could give me a further hint

Thanks,
Andreas

-- 
Andreas Hirsch
Klarweinstr. 5a
82467 Garmisch-Partenkirchen
+49 8821 947477
GPG PublicKey 0x5099F78EE1F8D290
Fingerprint 5E67 9F16 8B2E 877A 97FB 8941 5099 F78E E1F8 D290
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608.PML
Type: application/octet-stream
Size: 3867690 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210612/7c413bb6/attachment-0001.obj>

From news3 at nililand.de  Sat Jun 12 13:04:10 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 12 Jun 2021 13:04:10 +0200
Subject: allowing use of fonts across texlive versions
References: <5wdw6xkarggo.dlg@nililand.de>
Message-ID: <10la9z5jfvduw.dlg@nililand.de>

Am Sat, 12 Jun 2021 11:28:28 +0200 schrieb Ulrike Fischer:


> Would it be possible to move the fonts from texmf-dist into a
> separate texmf-tree say texmf-fonts?

Markus suggested to me off-list to use symlinks, something I hadn't
considered because I thought it doesn't work on windows (I think it
didn't at some time). But it works now. I needed admin rights but
then  could create a symbolic link with mklink and it seems work.

It is a bit confusing as the windows explorer don't show the folder
and all log-files show "C:\texlive\2020", I hope I will remember
that this pathes are symbolic ;-)


-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From reinhard.kotucha at web.de  Sat Jun 12 14:21:15 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 12 Jun 2021 14:21:15 +0200
Subject: allowing use of fonts across texlive versions
In-Reply-To: <10la9z5jfvduw.dlg@nililand.de>
References: <5wdw6xkarggo.dlg@nililand.de>
	<10la9z5jfvduw.dlg@nililand.de>
Message-ID: <24772.42683.156762.719284@gargle.gargle.HOWL>

On 2021-06-12 at 13:04:10 +0200, Ulrike Fischer wrote:

 > Am Sat, 12 Jun 2021 11:28:28 +0200 schrieb Ulrike Fischer:
 >
 >
 > > Would it be possible to move the fonts from texmf-dist into a
 > > separate texmf-tree say texmf-fonts?
 >
 > Markus suggested to me off-list to use symlinks, something I hadn't
 > considered because I thought it doesn't work on windows (I think it
 > didn't at some time). But it works now. I needed admin rights but
 > then  could create a symbolic link with mklink and it seems work.
 >
 > It is a bit confusing as the windows explorer don't show the folder
 > and all log-files show "C:\texlive\2020", I hope I will remember
 > that this pathes are symbolic ;-)

Can Windows compress parts of your file system?

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From norbert at preining.info  Sat Jun 12 14:44:55 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 12 Jun 2021 21:44:55 +0900
Subject: differences between daily snapshots and CTAN
In-Reply-To: <CAM6y5tfCjD3Bq8VQs7hhogBJQyO6r=tFrb2a0p1V+yTCrHv29w@mail.gmail.com>
References: <CAM6y5tfCjD3Bq8VQs7hhogBJQyO6r=tFrb2a0p1V+yTCrHv29w@mail.gmail.com>
Message-ID: <YMSsR0A1zN+Rqwgo@bulldog.preining.info>

> Say I download a file from https://texlive.info/tlnet-archive/2021/01/08
> with a particular revision number, and an identically named file from an
> up-to-date CTAN mirror. How confident can I be that the file content will
> be identical, byte-for-byte?

What "file" are you talking about?

If you are talking about the TL containers in 
	tlnet/archive/$pkg.rNNNNNN.tar.xz
etc, then yes, you can be 100% confident. These files are rsync copies
of the master.

> not architecture specific binaries. I assume that you only rebuild a
> package when its revision number goes up.

I don't understand the sentence.

Containers (.tar.xz files) are rebuild only when the revision number
changes.

> My use case is reproducibility: if I want to reproduce an old snapshot, I'd
> like to leverage CTAN mirrors as much as possible before relying on
> https://texlive.info.

That should work, if the filename ($pkg.rNNNNN.tar.xz etc) is the same.
You can pick the one from CTAN or texlive.info, and both will be the
same.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Sat Jun 12 15:07:50 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 12 Jun 2021 22:07:50 +0900
Subject: differences between daily snapshots and CTAN
In-Reply-To: <CAM6y5tf6y6UA8urHMPOBegsxhdWDwnkvgdJKNJJpaZn6sXQJhw@mail.gmail.com>
References: <CAM6y5tfCjD3Bq8VQs7hhogBJQyO6r=tFrb2a0p1V+yTCrHv29w@mail.gmail.com>
 <YMSsR0A1zN+Rqwgo@bulldog.preining.info>
 <CAM6y5tf6y6UA8urHMPOBegsxhdWDwnkvgdJKNJJpaZn6sXQJhw@mail.gmail.com>
Message-ID: <YMSxpvZvxZOl0IPj@bulldog.preining.info>

Hi Vincenzo,

please keep the ml in cc.

> Thanks, that was exactly what I was hoping to hear. Yes, by "file" I meant
> "TL container", and with file name including the revision number.

Good.

> Re binaries, I thought that you may occasionally recreate a binary
> container even if the revision number hasn't gone up (e.g. because a

No. We **did** change containers when only TeX Catalogue data changed
without changing the revision number, but his has changed last year and
now any change whatsoever will trigger an update of the container.

Reason: the revision number is the maximum of subversion's "last changed
revision" of all the files in the package. So any change there will
trigger an update, also for binary changes.

Actually, binary changes also always triggered an update.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From siepo at bitmuis.nl  Sat Jun 12 15:09:02 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sat, 12 Jun 2021 15:09:02 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <24772.5492.654396.196864@gargle.gargle.HOWL>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
Message-ID: <YMSx7p/sLju4sZAn@bitmuis.nl>

On Sat, Jun 12, 2021 at 04:01:24AM +0200, Reinhard Kotucha wrote:
> On 2021-06-11 at 11:02:06 +0200, Siep Kroonenberg wrote:
> 
>  > good\bye works with pdflatex.
> 
> Hi Siep,
> I suppose you mean (plain) pdftex.

Yes.

> It seems that only pdf*latex* is affected.  This is quite strange
> because LaTeX is supposed to be system independent.  There are only
> very few macros which are close to the OS, for instance checking
> whether a file exists.  LaTeX 3 probably does a bit more in this area.
> 
> According to the output of "kpathsea debug" submitted by Andreas,
> kpathsea is looking for article.cls.  This means that pdftex has no
> problem loading the LaTeX format file and the crash happens after
> \documentclass.

With me, the last line of output with KPATHSEA_DEBUG=-1 is:

kdebug:fsyscp_xfopen(192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt [], rb) => 0x6f6a3068

> Does it always crash at the same place?  If a document depends on many
> packages, does pdflatex --recorder always generate the same .fls file?

PWD x:/textest/lin_regression
INPUT //192.168.101.1/tldev/Master/texmf.cnf
INPUT //192.168.101.1/tldev/Master/texmf-dist/web2c/texmf.cnf
INPUT //192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt

> Siep, it's great that you can reproduce the problem.  I suppose that
> you have MinGW installed.  Is it possible to create a stack backtrace
> with gdb in order to find out in which function it crashes?

gdb --args pdflatex lin_regression

Reading symbols from pdflatex...(no debugging symbols found)...done.
(gdb) r
Starting program: \\192.168.101.1\tldev\Master\bin\win32\pdflatex.exe lin_regression
[New Thread 4776.0x330]
[New Thread 4776.0x21c]
[New Thread 4776.0x5dc]
This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX) (preloaded format=pdflatex)
 restricted \write18 enabled.

Thread 1 received signal SIGSEGV, Segmentation fault.
0x6f751780 in pdftex!dllpdftexmain ()
   from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll

(gdb) bt
#0  0x6f751780 in pdftex!dllpdftexmain ()
   from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll

I have also been piddling around with the utilities from
sysinternals.com, in particular procmon / process monitor. But it
gives you a deluge of data in which you have to search for the
relevant stuff.

-- 
Siep Kroonenberg

From P.Taylor at Hellenic-Institute.Uk  Sat Jun 12 15:29:59 2021
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor)
Date: Sat, 12 Jun 2021 14:29:59 +0100
Subject: allowing use of fonts across texlive versions
In-Reply-To: <24772.42683.156762.719284@gargle.gargle.HOWL>
References: <5wdw6xkarggo.dlg@nililand.de> <10la9z5jfvduw.dlg@nililand.de>
 <24772.42683.156762.719284@gargle.gargle.HOWL>
Message-ID: <c98d0042-73a1-20bb-8a7f-b642a8832c94@Hellenic-Institute.Uk>

Reinhard Kotucha wrote:

> Can Windows compress parts of [its] file system?

Yes.? Any directory ("folder") can have its contents compressed, and 
this can be applied recursively to the contents of all sub*-directories 
therein.
-- 
/** Phil./
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210612/58158fc3/attachment.html>

From vlmantova at gmail.com  Sat Jun 12 18:06:12 2021
From: vlmantova at gmail.com (Vincenzo Mantova)
Date: Sat, 12 Jun 2021 17:06:12 +0100
Subject: differences between daily snapshots and CTAN
In-Reply-To: <YMSxpvZvxZOl0IPj@bulldog.preining.info>
References: <CAM6y5tfCjD3Bq8VQs7hhogBJQyO6r=tFrb2a0p1V+yTCrHv29w@mail.gmail.com>
 <YMSsR0A1zN+Rqwgo@bulldog.preining.info>
 <CAM6y5tf6y6UA8urHMPOBegsxhdWDwnkvgdJKNJJpaZn6sXQJhw@mail.gmail.com>
 <YMSxpvZvxZOl0IPj@bulldog.preining.info>
Message-ID: <CAM6y5tdGPQsz3+q45Grxcc-W2c2WSmM_yaq3ktD_-GVt8wCdtg@mail.gmail.com>

>
> Reason: the revision number is the maximum of subversion's "last changed
>
revision" of all the files in the package. So any change there will
> trigger an update, also for binary changes.
>
> Actually, binary changes also always triggered an update.
>

This is fantastic, thanks.

Best,
Vincenzo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210612/b5d99bb2/attachment.html>

From reinhard.kotucha at web.de  Sat Jun 12 22:02:56 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 12 Jun 2021 22:02:56 +0200
Subject: allowing use of fonts across texlive versions
In-Reply-To: <c98d0042-73a1-20bb-8a7f-b642a8832c94@Hellenic-Institute.Uk>
References: <5wdw6xkarggo.dlg@nililand.de> <10la9z5jfvduw.dlg@nililand.de>
 <24772.42683.156762.719284@gargle.gargle.HOWL>
 <c98d0042-73a1-20bb-8a7f-b642a8832c94@Hellenic-Institute.Uk>
Message-ID: <24773.4848.905680.782879@gargle.gargle.HOWL>

On 2021-06-12 at 14:29:59 +0100, Philip Taylor wrote:

 > Reinhard Kotucha wrote:
 > 
 > > Can Windows compress parts of [its] file system?
 > 
 > Yes.? Any directory ("folder") can have its contents compressed, and 
 > this can be applied recursively to the contents of all sub*-directories 
 > therein.

Thank you Phil.  It's probably a better approach than using symlinks
because

  1. there is no need to remove stuff from older versions

  2. there are many text files in TeX Live which can be compressed
     efficiently

  3. symlinks are confusing if the target directory is not displayed
     in directory listings.

It makes sense to compress all but the latest release of TeX Live but
I fear that Ulrike already removed the fonts from older releases.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From cursus.publicus at sacrumromanumimperium.org  Sat Jun 12 22:22:56 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sat, 12 Jun 2021 22:22:56 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMSx7p/sLju4sZAn@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
Message-ID: <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>

Hi Siep,

Siep Kroonenberg schrieb am 12.06.2021 um 15:09:

> With me, the last line of output with KPATHSEA_DEBUG=-1 is:
> 
> kdebug:fsyscp_xfopen(192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt [], rb) => 0x6f6a3068
> 
>> Does it always crash at the same place?  If a document depends on many
>> packages, does pdflatex --recorder always generate the same .fls file?
> 
> PWD x:/textest/lin_regression
> INPUT //192.168.101.1/tldev/Master/texmf.cnf
> INPUT //192.168.101.1/tldev/Master/texmf-dist/web2c/texmf.cnf
> INPUT //192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt
>
> gdb --args pdflatex lin_regression
> 
> Reading symbols from pdflatex...(no debugging symbols found)...done.
> (gdb) r
> Starting program: \\192.168.101.1\tldev\Master\bin\win32\pdflatex.exe lin_regression
> [New Thread 4776.0x330]
> [New Thread 4776.0x21c]
> [New Thread 4776.0x5dc]
> This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX) (preloaded format=pdflatex)
>   restricted \write18 enabled.
> 
> Thread 1 received signal SIGSEGV, Segmentation fault.
> 0x6f751780 in pdftex!dllpdftexmain ()
>     from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll
> 
> (gdb) bt
> #0  0x6f751780 in pdftex!dllpdftexmain ()
>     from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll
> 
> I have also been piddling around with the utilities from
> sysinternals.com, in particular procmon / process monitor. But it
> gives you a deluge of data in which you have to search for the
> relevant stuff.

same for me - I'm not able to extract the relevant information

As I wrote in previous mail, the problem occured at two different 
Windows 10 machines (20H2 versus 21H1), different manufacturer and 
nothing has been changed than a TeXLive-Update BUT the error occurred at 
the same time

I would regard it helpful if we can determine that the combination of

Win 10 + pdflatex (pdftex.dll) + LaTeX 2021-06-01

is not the culprit.

Maybe it is only the culprit if the installation is on an network-share?

Andreas

From reinhard.kotucha at web.de  Sat Jun 12 22:50:42 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 12 Jun 2021 22:50:42 +0200
Subject: allowing use of fonts across texlive versions
In-Reply-To: <10la9z5jfvduw.dlg@nililand.de>
References: <5wdw6xkarggo.dlg@nililand.de>
	<10la9z5jfvduw.dlg@nililand.de>
Message-ID: <24773.7714.117818.404728@gargle.gargle.HOWL>

On 2021-06-12 at 13:04:10 +0200, Ulrike Fischer wrote:

 > Am Sat, 12 Jun 2021 11:28:28 +0200 schrieb Ulrike Fischer:
 >
 >
 > > Would it be possible to move the fonts from texmf-dist into a
 > > separate texmf-tree say texmf-fonts?
 >
 > Markus suggested to me off-list to use symlinks, something I hadn't
 > considered because I thought it doesn't work on windows (I think it
 > didn't at some time). But it works now. I needed admin rights but
 > then  could create a symbolic link with mklink and it seems work.
 >
 > It is a bit confusing as the windows explorer don't show the folder
 > and all log-files show "C:\texlive\2020", I hope I will remember
 > that this pathes are symbolic ;-)

The symlinks created with mklink under Windows are properly displayed
like

 <symlink> -> <link target>

with "ls -l" on Cygwin.  Maybe MSYS/minGW displays symlink targets too.

BTW, the stuff in bin/win32 is confusing too.  While on any other
system symlinks are used and displayed like

  pdflatex -> pdftex

on Windows pdflatex.exe is a very small program which simply loads
pdftex.dll and the LaTeX format file. Hence you cannot determine from
a directory listing which engeine is used by a particular format, not
even on Cygwin.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From gnwiii at gmail.com  Sun Jun 13 02:06:27 2021
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 12 Jun 2021 21:06:27 -0300
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
Message-ID: <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>

On Sat, 12 Jun 2021 at 17:24, Andreas Hirsch <
cursus.publicus at sacrumromanumimperium.org> wrote:

> Hi Siep,
>
> Siep Kroonenberg schrieb am 12.06.2021 um 15:09:
>
> > With me, the last line of output with KPATHSEA_DEBUG=-1 is:
> >
> > kdebug:fsyscp_xfopen(
> 192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt [], rb) =>
> 0x6f6a3068
> >
> >> Does it always crash at the same place?  If a document depends on many
> >> packages, does pdflatex --recorder always generate the same .fls file?
> >
> > PWD x:/textest/lin_regression
> > INPUT //192.168.101.1/tldev/Master/texmf.cnf
> > INPUT //192.168.101.1/tldev/Master/texmf-dist/web2c/texmf.cnf
> > INPUT //192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt
> >
> > gdb --args pdflatex lin_regression
> >
> > Reading symbols from pdflatex...(no debugging symbols found)...done.
> > (gdb) r
> > Starting program: \\192.168.101.1\tldev\Master\bin\win32\pdflatex.exe
> lin_regression
> > [New Thread 4776.0x330]
> > [New Thread 4776.0x21c]
> > [New Thread 4776.0x5dc]
> > This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX)
> (preloaded format=pdflatex)
> >   restricted \write18 enabled.
> >
> > Thread 1 received signal SIGSEGV, Segmentation fault.
> > 0x6f751780 in pdftex!dllpdftexmain ()
> >     from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll
> >
> > (gdb) bt
> > #0  0x6f751780 in pdftex!dllpdftexmain ()
> >     from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll
> >
> > I have also been piddling around with the utilities from
> > sysinternals.com, in particular procmon / process monitor. But it
> > gives you a deluge of data in which you have to search for the
> > relevant stuff.
>
> the relevant stuff may be hidden inside Windows libraries.


> same for me - I'm not able to extract the relevant information
>
> As I wrote in previous mail, the problem occured at two different
> Windows 10 machines (20H2 versus 21H1), different manufacturer and
> nothing has been changed than a TeXLive-Update BUT the error occurred at
> the same time
>

Both 20H2 and 21H1 may share some "fixes".

>
> I would regard it helpful if we can determine that the combination of
>
> Win 10 + pdflatex (pdftex.dll) + LaTeX 2021-06-01
>
> is not the culprit.
>
> Maybe it is only the culprit if the installation is on an network-share?
>

I can reproduce the problem  in 21H1when texlive 2021 is on a Samba share.
Several years ago I did use a network installation, but gave it up because
it had
some differences from a Windows install and my reason for using it was to
support
colleagues who are stuck with Windows due to policies at their lab.

Windows Reliability Monitor gives a report:

   ---------------------------------------------------------------------
Source
pdflatex.exe

Summary
Stopped working

Date
?2021-?06-?12 6:35 PM

Status
Report sent

Description
Faulting Application Path:
\\[server].local\Data\TeX\texlive\2021\bin\win32\pdflatex.exe

Problem signature
Problem Event Name: APPCRASH
Application Name: pdflatex.exe
Application Version: 0.0.0.0
Application Timestamp: 5ecf5639
Fault Module Name: pdftex.dll
Fault Module Version: 0.0.0.0
Fault Module Timestamp: 608b3a31
Exception Code: c0000005
Exception Offset: 00061780
OS Version: 10.0.19043.2.0.0.256.48
Locale ID: 4105
Additional Information 1: 2beb
Additional Information 2: 2beba6fb4680d73a8c78ca7c24ccdb46
Additional Information 3: 2a02
Additional Information 4: 2a026af420aaae85b259f6113f172538

Extra information about the problem
Bucket ID: 37c6722e6c201e29fe7178a1fb37b8c9 (2193667130605942985)
   ------------------------------------------------------
Exception Code: c0000005 is "access violation" which corresponds to SIGSEGV.

I also tried mapping the network share:

PS D:\TeX\Testing\sample2e>
'\\localhost\D$\TeX\texlive\2021\bin\win32\pdflatex.exe' sample2e
warning: kpathsea: //localhost/D$/TeX/texlive/2021/bin/win32: Unrecognized
variable construct `$/'.
[... many more kpathsea warnings ]
This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX)
(preloaded format=pdflatex)
 restricted \write18 enabled.
[... many more kpathsea warnings ]
entering extended mode
(//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/sample2e.tex
LaTeX2e <2021-06-01>
L3 programming layer <2021-06-01>
(//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/article.cls
Document Class: article 2021/02/12 v1.4n Standard LaTeX document class
(//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/size10.clo))
(//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/l3backend/l3backend-pdfte
x.def)
No file sample2e.aux.
[... warnings]
[2] [3] (./sample2e.aux) )
[... warnings]
{//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/enc
/dvips/cm-super/cm-super-ts1.enc}[...
warnings]<//localhost/D$/TeX/texlive/2021/texmf-dist/fo
nts/type1/public/amsfonts/cm/cmbx12.pfb><//localhost/D$/TeX/texlive/2021/texmf-
dist/fonts/type1/public/amsfonts/cm/cmex10.pfb><//localhost/D$/TeX/texlive/2021
/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi10.pfb><//localhost/D$/TeX/texli
ve/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi7.pfb><//localhost/D$/TeX
/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb><//localhost/
D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr12.pfb><//loca
lhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr17.pfb><
//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr6.
pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/
cmr7.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfont
s/cm/cmr8.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/am
sfonts/cm/cmsy10.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/pu
blic/amsfonts/cm/cmsy7.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/ty
pe1/public/amsfonts/cm/cmti10.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/f
onts/type1/public/cm-super/sfrm1000.pfb>
Output written on sample2e.pdf (3 pages, 153682 bytes).
Transcript written on sample2e.log.


-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210612/a6159d52/attachment.html>

From siepo at bitmuis.nl  Sun Jun 13 10:49:39 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 13 Jun 2021 10:49:39 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
Message-ID: <YMXGo0MK1ZopxTc9@bitmuis.nl>

On Sat, Jun 12, 2021 at 10:22:56PM +0200, Andreas Hirsch wrote:
> Hi Siep,
> 
> Siep Kroonenberg schrieb am 12.06.2021 um 15:09:
> 
> > With me, the last line of output with KPATHSEA_DEBUG=-1 is:
> > 
> > kdebug:fsyscp_xfopen(192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt [], rb) => 0x6f6a3068
> > 
> > > Does it always crash at the same place?  If a document depends on many
> > > packages, does pdflatex --recorder always generate the same .fls file?
> > 
> > PWD x:/textest/lin_regression
> > INPUT //192.168.101.1/tldev/Master/texmf.cnf
> > INPUT //192.168.101.1/tldev/Master/texmf-dist/web2c/texmf.cnf
> > INPUT //192.168.101.1/tldev/Master/texmf-var/web2c/pdftex/pdflatex.fmt
> > 
> > gdb --args pdflatex lin_regression
> > 
> > Reading symbols from pdflatex...(no debugging symbols found)...done.
> > (gdb) r
> > Starting program: \\192.168.101.1\tldev\Master\bin\win32\pdflatex.exe lin_regression
> > [New Thread 4776.0x330]
> > [New Thread 4776.0x21c]
> > [New Thread 4776.0x5dc]
> > This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX) (preloaded format=pdflatex)
> >   restricted \write18 enabled.
> > 
> > Thread 1 received signal SIGSEGV, Segmentation fault.
> > 0x6f751780 in pdftex!dllpdftexmain ()
> >     from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll
> > 
> > (gdb) bt
> > #0  0x6f751780 in pdftex!dllpdftexmain ()
> >     from \\192.168.101.1\tldev\Master\bin\win32\pdftex.dll
> > 
> > I have also been piddling around with the utilities from
> > sysinternals.com, in particular procmon / process monitor. But it
> > gives you a deluge of data in which you have to search for the
> > relevant stuff.
> 
> same for me - I'm not able to extract the relevant information
> 
> As I wrote in previous mail, the problem occured at two different Windows 10
> machines (20H2 versus 21H1), different manufacturer and nothing has been
> changed than a TeXLive-Update BUT the error occurred at the same time
> 
> I would regard it helpful if we can determine that the combination of
> 
> Win 10 + pdflatex (pdftex.dll) + LaTeX 2021-06-01
> 
> is not the culprit.
> 
> Maybe it is only the culprit if the installation is on an network-share?

No problem with a local installation.

On w7 and w8 I ran into the same problem as on w10 with a samba
installation. Apparently, it is the network installation, not the
windows version.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Sun Jun 13 10:51:48 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 13 Jun 2021 10:51:48 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
Message-ID: <YMXHJNcg/XJNnMNp@bitmuis.nl>

On Sat, Jun 12, 2021 at 09:06:27PM -0300, George N. White III wrote:
> On Sat, 12 Jun 2021 at 17:24, Andreas Hirsch <
> cursus.publicus at sacrumromanumimperium.org> wrote:
> 
> I also tried mapping the network share:
> 
> PS D:\TeX\Testing\sample2e>
> '\\localhost\D$\TeX\texlive\2021\bin\win32\pdflatex.exe' sample2e
> warning: kpathsea: //localhost/D$/TeX/texlive/2021/bin/win32: Unrecognized
> variable construct `$/'.
> [... many more kpathsea warnings ]
> This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX)
> (preloaded format=pdflatex)
>  restricted \write18 enabled.
> [... many more kpathsea warnings ]
> entering extended mode
> (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/sample2e.tex
> LaTeX2e <2021-06-01>
> L3 programming layer <2021-06-01>
> (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/article.cls
> Document Class: article 2021/02/12 v1.4n Standard LaTeX document class
> (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/size10.clo))
> (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/l3backend/l3backend-pdfte
> x.def)
> No file sample2e.aux.
> [... warnings]
> [2] [3] (./sample2e.aux) )
> [... warnings]
> {//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/enc
> /dvips/cm-super/cm-super-ts1.enc}[...
> warnings]<//localhost/D$/TeX/texlive/2021/texmf-dist/fo
> nts/type1/public/amsfonts/cm/cmbx12.pfb><//localhost/D$/TeX/texlive/2021/texmf-
> dist/fonts/type1/public/amsfonts/cm/cmex10.pfb><//localhost/D$/TeX/texlive/2021
> /texmf-dist/fonts/type1/public/amsfonts/cm/cmmi10.pfb><//localhost/D$/TeX/texli
> ve/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi7.pfb><//localhost/D$/TeX
> /texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb><//localhost/
> D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr12.pfb><//loca
> lhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr17.pfb><
> //localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr6.
> pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/
> cmr7.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfont
> s/cm/cmr8.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/am
> sfonts/cm/cmsy10.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/pu
> blic/amsfonts/cm/cmsy7.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/ty
> pe1/public/amsfonts/cm/cmti10.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/f
> onts/type1/public/cm-super/sfrm1000.pfb>
> Output written on sample2e.pdf (3 pages, 153682 bytes).
> Transcript written on sample2e.log.

So do I understand that if you access a local drive D: with share
syntax '\\localhost\D$' that then pdflatex does not crash?

-- 
Siep Kroonenberg

From cursus.publicus at sacrumromanumimperium.org  Sun Jun 13 10:59:30 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sun, 13 Jun 2021 10:59:30 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMXHJNcg/XJNnMNp@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
Message-ID: <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>

Hi Siep,

Siep Kroonenberg schrieb am 13.06.2021 um 10:51:

> So do I understand that if you access a local drive D: with share
> syntax '\\localhost\D$' that then pdflatex does not crash?

I was surprised too!

I tested all variations of invoking pdflatex and compiling sample2e (see 
screenshot) withour any success.

For the moment I take your statement from your previous mail an will 
switch to a local installation.

But we should keep in mind this line from 
http://www.tug.org/texlive/windows.html#tlaunch

'TeX Live is designed for shared use: you can install TeX Live on a 
network for use on client workstations. All it takes is adding TeX Live 
to the searchpath.'

Something must have changed on windows (or samba?)

best,
Andreas
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdflatex_problem_20210608_v11.jpg
Type: image/jpeg
Size: 76844 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210613/06ffe7e0/attachment-0001.jpg>

From siepo at bitmuis.nl  Sun Jun 13 11:10:15 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 13 Jun 2021 11:10:15 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
Message-ID: <YMXLd3GdAfF/GWrA@bitmuis.nl>

On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:
> Hi Siep,
> 
> Siep Kroonenberg schrieb am 13.06.2021 um 10:51:
> 
> > So do I understand that if you access a local drive D: with share
> > syntax '\\localhost\D$' that then pdflatex does not crash?
> 
> I was surprised too!
> 
> I tested all variations of invoking pdflatex and compiling sample2e (see
> screenshot) withour any success.
> 
> For the moment I take your statement from your previous mail an will switch
> to a local installation.
> 
> But we should keep in mind this line from
> http://www.tug.org/texlive/windows.html#tlaunch
> 
> 'TeX Live is designed for shared use: you can install TeX Live on a network
> for use on client workstations. All it takes is adding TeX Live to the
> searchpath.'
> 
> Something must have changed on windows (or samba?)

The ISO version still works over samba.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Sun Jun 13 11:54:26 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 13 Jun 2021 11:54:26 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMXLd3GdAfF/GWrA@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
Message-ID: <YMXV0qzlcLXmcpBX@bitmuis.nl>

On Sun, Jun 13, 2021 at 11:10:15AM +0200, Siep Kroonenberg wrote:
> On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:
> > Hi Siep,
> > 
> > Siep Kroonenberg schrieb am 13.06.2021 um 10:51:
> > 
> > > So do I understand that if you access a local drive D: with share
> > > syntax '\\localhost\D$' that then pdflatex does not crash?
> > 
> > I was surprised too!
> > 
> > I tested all variations of invoking pdflatex and compiling sample2e (see
> > screenshot) withour any success.
> > 
> > For the moment I take your statement from your previous mail an will switch
> > to a local installation.
> > 
> > But we should keep in mind this line from
> > http://www.tug.org/texlive/windows.html#tlaunch
> > 
> > 'TeX Live is designed for shared use: you can install TeX Live on a network
> > for use on client workstations. All it takes is adding TeX Live to the
> > searchpath.'
> > 
> > Something must have changed on windows (or samba?)
> 
> The ISO version still works over samba.

So, as a temporary workaround, you can replace bin/win32.dll and
bin/x86_64-linux/pdftex with the ISO versions and regenerate formats.

-- 
Siep Kroonenberg

From gnwiii at gmail.com  Sun Jun 13 12:48:48 2021
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 13 Jun 2021 07:48:48 -0300
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMXHJNcg/XJNnMNp@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
Message-ID: <CAKTOP46CiN3Dzn1D6xF0pZN73PfJ4R25i+hUAkamfrwTvmXo+g@mail.gmail.com>

On Sun, 13 Jun 2021 at 05:54, Siep Kroonenberg <siepo at bitmuis.nl> wrote:

> On Sat, Jun 12, 2021 at 09:06:27PM -0300, George N. White III wrote:
> > On Sat, 12 Jun 2021 at 17:24, Andreas Hirsch <
> > cursus.publicus at sacrumromanumimperium.org> wrote:
> >
> > I also tried mapping the network share:
> >
> > PS D:\TeX\Testing\sample2e>
> > '\\localhost\D$\TeX\texlive\2021\bin\win32\pdflatex.exe' sample2e
> > warning: kpathsea: //localhost/D$/TeX/texlive/2021/bin/win32:
> Unrecognized
> > variable construct `$/'.
> > [... many more kpathsea warnings ]
> > This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX)
> > (preloaded format=pdflatex)
> >  restricted \write18 enabled.
> > [... many more kpathsea warnings ]
> > entering extended mode
> > (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/sample2e.tex
> > LaTeX2e <2021-06-01>
> > L3 programming layer <2021-06-01>
> > (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/article.cls
> > Document Class: article 2021/02/12 v1.4n Standard LaTeX document class
> > (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/base/size10.clo))
> >
> (//localhost/D$/TeX/texlive/2021/texmf-dist/tex/latex/l3backend/l3backend-pdfte
> > x.def)
> > No file sample2e.aux.
> > [... warnings]
> > [2] [3] (./sample2e.aux) )
> > [... warnings]
> > {//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/enc
> > /dvips/cm-super/cm-super-ts1.enc}[...
> > warnings]<//localhost/D$/TeX/texlive/2021/texmf-dist/fo
> >
> nts/type1/public/amsfonts/cm/cmbx12.pfb><//localhost/D$/TeX/texlive/2021/texmf-
> >
> dist/fonts/type1/public/amsfonts/cm/cmex10.pfb><//localhost/D$/TeX/texlive/2021
> >
> /texmf-dist/fonts/type1/public/amsfonts/cm/cmmi10.pfb><//localhost/D$/TeX/texli
> >
> ve/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi7.pfb><//localhost/D$/TeX
> >
> /texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb><//localhost/
> >
> D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr12.pfb><//loca
> >
> lhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr17.pfb><
> >
> //localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/cmr6.
> >
> pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfonts/cm/
> >
> cmr7.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/amsfont
> >
> s/cm/cmr8.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/public/am
> >
> sfonts/cm/cmsy10.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/type1/pu
> >
> blic/amsfonts/cm/cmsy7.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/fonts/ty
> >
> pe1/public/amsfonts/cm/cmti10.pfb><//localhost/D$/TeX/texlive/2021/texmf-dist/f
> > onts/type1/public/cm-super/sfrm1000.pfb>
> > Output written on sample2e.pdf (3 pages, 153682 bytes).
> > Transcript written on sample2e.log.
>
> So do I understand that if you access a local drive D: with share
> syntax '\\localhost\D$' that then pdflatex does not crash?
>
>
Correct -- no crash, but kpathsea doesn't handle the 'D$'.   Also, lualatex
works
using a UNC path.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210613/2499a4f9/attachment.html>

From gnwiii at gmail.com  Sun Jun 13 12:58:37 2021
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 13 Jun 2021 07:58:37 -0300
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMXV0qzlcLXmcpBX@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl> <YMXV0qzlcLXmcpBX@bitmuis.nl>
Message-ID: <CAKTOP47SfokVVZi9c_XHcumXM3mZRBGT4FP30EnZRwWmeoK9fg@mail.gmail.com>

On Sun, 13 Jun 2021 at 06:55, Siep Kroonenberg <siepo at bitmuis.nl> wrote:

> On Sun, Jun 13, 2021 at 11:10:15AM +0200, Siep Kroonenberg wrote:
> > On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:
> > > Hi Siep,
> > >
> > > Siep Kroonenberg schrieb am 13.06.2021 um 10:51:
> > >
> > > > So do I understand that if you access a local drive D: with share
> > > > syntax '\\localhost\D$' that then pdflatex does not crash?
> > >
> > > I was surprised too!
> > >
> > > I tested all variations of invoking pdflatex and compiling sample2e
> (see
> > > screenshot) withour any success.
> > >
> > > For the moment I take your statement from your previous mail an will
> switch
> > > to a local installation.
> > >
> > > But we should keep in mind this line from
> > > http://www.tug.org/texlive/windows.html#tlaunch
> > >
> > > 'TeX Live is designed for shared use: you can install TeX Live on a
> network
> > > for use on client workstations. All it takes is adding TeX Live to the
> > > searchpath.'
>

And has some limitations if you are trying to understand problems remote
users have with
local installs.


> > >
> > > Something must have changed on windows (or samba?)
>

or the build system.

> >
> > The ISO version still works over samba.
>
> So, as a temporary workaround, you can replace bin/win32.dll and
> bin/x86_64-linux/pdftex with the ISO versions and regenerate formats.
>

Or just switch to lualatex.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210613/2731d43d/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sun Jun 13 13:16:46 2021
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 13 Jun 2021 12:16:46 +0100
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <CAKTOP47SfokVVZi9c_XHcumXM3mZRBGT4FP30EnZRwWmeoK9fg@mail.gmail.com>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl> <YMXV0qzlcLXmcpBX@bitmuis.nl>
 <CAKTOP47SfokVVZi9c_XHcumXM3mZRBGT4FP30EnZRwWmeoK9fg@mail.gmail.com>
Message-ID: <cd18ca4c-2727-818a-f727-655f8141c0fb@Rhul.Ac.Uk>

George N. White III wrote:

Or just switch to lualatex.

Purely in the interests of clarification, George, to the best of your belief is LuaLaTeX 100% compatible with PdfLaTeX ?  I do not mean, of course, "is it a superset of PdfLaTeX" (that would be both expected and reasonable), but for all possible PdfLaTeX sources that generate no errors or warnings in PdfLaTeX, will PdfLaTeX and LuaLaTeX yield identical PDFs ?

--
Philip Taylor

Please note that the following boiler-plate text (if any) has been inserted without my consent, and I have no control over its content.
If it makes any reference to "us", I have no idea as to whom it refers.

This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210613/ac441be6/attachment-0001.html>

From siepo at bitmuis.nl  Sun Jun 13 16:42:38 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 13 Jun 2021 16:42:38 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
Message-ID: <YMYZXvAC6OqQU43L@bitmuis.nl>

On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:

As to Andreas' procmon dump: if you scroll through the list, you'll
find many successive entries with pdflatex.exe as process name, and
then a lot of successive entries with WerFault.exe as process name.
This WerFault program has to do with Windows error reporting.

I looked at the properties of the last pdflatex.exe event before the
WerFault events. These properties are displayed in a tabbed window,
one tab is labeled Stack. I attached a screenshot, but I can make
nothing of it. Presumably, the magenta K stands for Kernel, and the
blue U for User.

My own procmon exercises led to similar results.

By the way: a result BUFFER OVERFLOW is no really that: if it is not
known beforehand how large a buffer is needed for an API call, then
you can invoke the API with a small buffer, get as answer how large
a buffer IS required, and then invoke it with a large enough buffer.

-- 
Siep Kroonenberg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: procmon_stack.png
Type: image/png
Size: 138516 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210613/866d394e/attachment-0001.png>

From cursus.publicus at sacrumromanumimperium.org  Sun Jun 13 17:05:03 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sun, 13 Jun 2021 17:05:03 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMYZXvAC6OqQU43L@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMYZXvAC6OqQU43L@bitmuis.nl>
Message-ID: <ba7cc2cf-9a4a-5bbe-d4c7-524bcc1ed382@sacrumromanumimperium.org>

Hi Siep,

Siep Kroonenberg schrieb am 13.06.2021 um 16:42:

> I looked at the properties of the last pdflatex.exe event before the
> WerFault events. These properties are displayed in a tabbed window,
> one tab is labeled Stack. I attached a screenshot, but I can make
> nothing of it.

same for me

> By the way: a result BUFFER OVERFLOW is no really that: if it is not
> known beforehand how large a buffer is needed for an API call, then
> you can invoke the API with a small buffer, get as answer how large
> a buffer IS required, and then invoke it with a large enough buffer.

Thank you for that detail!

best,
Andreas

From cursus.publicus at sacrumromanumimperium.org  Sun Jun 13 17:17:43 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sun, 13 Jun 2021 17:17:43 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMXLd3GdAfF/GWrA@bitmuis.nl>
References: <33493256-a8dc-7c35-b2c3-23c8e3a90094@sacrumromanumimperium.org>
 <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
Message-ID: <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>

Hi,

Siep Kroonenberg schrieb am 13.06.2021 um 11:10:
> On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:

>> But we should keep in mind this line from
>> http://www.tug.org/texlive/windows.html#tlaunch
>>
>> 'TeX Live is designed for shared use: you can install TeX Live on a network
>> for use on client workstations. All it takes is adding TeX Live to the
>> searchpath.'
>>
>> Something must have changed on windows (or samba?)
> 
> The ISO version still works over samba.

That leads back to my initial assumption so I try a conclusion:

win32/pdftex.exe has not changed (dated 2021-02-25)
win32/pdftex.dll has not changed (dated 2021-04-30)
my enviroment (Win10 client, Samba-network-share) has not changed

LaTeX has changed to 2021-06-01

TeXLive2021 runs on Win10 from a Samba-network-share if it is before the 
LaTeX-Update (as reported by Siep see above) AND as it was true until my 
TeXLive was updatet

It stops working for this enviroment if LaTeX 2021-06-01 ist present

On the other hand LaTeX 2021-06-01 dont cause problems on local systems

So the combination of

Win10 + [(pdftex.dll + LaTeX 2021-06-01) + read from Samba-share]

seems the culprit.

But how to look further? Does the 'file-read-from-smabashare' turns 
pdftex.dll+LaTeX 2021-06-01 in thar state to crash?

Andreas

From siepo at bitmuis.nl  Mon Jun 14 12:24:05 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 14 Jun 2021 12:24:05 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
References: <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
Message-ID: <YMcuRRv1h7BXFL1B@bitmuis.nl>

On Sun, Jun 13, 2021 at 05:17:43PM +0200, Andreas Hirsch wrote:
> Hi,
> 
> Siep Kroonenberg schrieb am 13.06.2021 um 11:10:
> > On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:
> 
> > > But we should keep in mind this line from
> > > http://www.tug.org/texlive/windows.html#tlaunch
> > > 
> > > 'TeX Live is designed for shared use: you can install TeX Live on a network
> > > for use on client workstations. All it takes is adding TeX Live to the
> > > searchpath.'
> > > 
> > > Something must have changed on windows (or samba?)
> > 
> > The ISO version still works over samba.
> 
> That leads back to my initial assumption so I try a conclusion:
> 
> win32/pdftex.exe has not changed (dated 2021-02-25)
> win32/pdftex.dll has not changed (dated 2021-04-30)
> my enviroment (Win10 client, Samba-network-share) has not changed
> 
> LaTeX has changed to 2021-06-01
> 
> TeXLive2021 runs on Win10 from a Samba-network-share if it is before the
> LaTeX-Update (as reported by Siep see above) AND as it was true until my
> TeXLive was updatet
> 
> It stops working for this enviroment if LaTeX 2021-06-01 ist present
> 
> On the other hand LaTeX 2021-06-01 dont cause problems on local systems
> 
> So the combination of
> 
> Win10 + [(pdftex.dll + LaTeX 2021-06-01) + read from Samba-share]
> 
> seems the culprit.
> 
> But how to look further? Does the 'file-read-from-smabashare' turns
> pdftex.dll+LaTeX 2021-06-01 in thar state to crash?

It looks like it crashes when it loads the format file. Try

fmtutil-user --byfmt pdflatex

This worked with me, but of course this is not really solution: a
user-generated format file can shadow a more up-to-date and
incompatible system format file. And I double whether it would work
if the user profile were on a network drive.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Mon Jun 14 15:50:40 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 14 Jun 2021 15:50:40 +0200
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <YMcuRRv1h7BXFL1B@bitmuis.nl>
References: <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl>
Message-ID: <YMdesAv3oJ/UqhEf@bitmuis.nl>

On Mon, Jun 14, 2021 at 12:24:05PM +0200, Siep Kroonenberg wrote:
> On Sun, Jun 13, 2021 at 05:17:43PM +0200, Andreas Hirsch wrote:
> > Hi,
> > 
> > Siep Kroonenberg schrieb am 13.06.2021 um 11:10:
> > > On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:
> > 
> 
> It looks like it crashes when it loads the format file. Try
> 
> fmtutil-user --byfmt pdflatex
> 
> This worked with me, but of course this is not really solution: a
> user-generated format file can shadow a more up-to-date and
> incompatible system format file. And I double whether it would work
> if the user profile were on a network drive.

The system- and user format files are not identical, and if I try
under Linux to compile a latex file with a windows-generated
pdflatex.fmt, then this ends with

x$ pdflatex mathtest
This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) (preloaded format=pdflatex)
 restricted \write18 enabled.
pdflatex: fatal: Could not undump 1095041024 1-byte item(s) from /extra/tlsvn/Master/texmf-var/web2c/pdftex/pdflatex.fmt.

-- 
Siep Kroonenberg

From cursus.publicus at sacrumromanumimperium.org  Mon Jun 14 15:30:17 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Mon, 14 Jun 2021 15:30:17 +0200
Subject: pdflatex does not work on win after todays update but does on
 linux
In-Reply-To: <YMcuRRv1h7BXFL1B@bitmuis.nl>
References: <YMMepWRJ5enjH/nH@bitmuis.nl> <YMMmjmdjucsLkfIS@bitmuis.nl>
 <24772.5492.654396.196864@gargle.gargle.HOWL> <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl>
Message-ID: <bbc38aa6-0842-6122-ff96-bf3fa4a2ed83@sacrumromanumimperium.org>

Hi Siep,

Siep Kroonenberg schrieb am 14.06.2021 um 12:24:

> It looks like it crashes when it loads the format file. Try
> 
> fmtutil-user --byfmt pdflatex
> 
> This worked with me,

works for me too

> but of course this is not really solution: a user-generated format
> file can shadow a more up-to-date and incompatible system format
> file.

I hope that there will be a solution by the TeXLive-Team in the near future.

> And I double whether it would work if the user profile were on
> a network drive.

Didn't test this, my user-profile ist located on the standard-path

Thank You!

Andreas

-- 
Andreas Hirsch
Klarweinstr. 5a
82467 Garmisch-Partenkirchen
+49 8821 947477
GPG PublicKey 0x5099F78EE1F8D290
Fingerprint 5E67 9F16 8B2E 877A 97FB 8941 5099 F78E E1F8 D290

From siepo at bitmuis.nl  Tue Jun 15 11:13:24 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Tue, 15 Jun 2021 11:13:24 +0200
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <YMdesAv3oJ/UqhEf@bitmuis.nl>
References: <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
Message-ID: <YMhvNGxcpbVm/YPO@bitmuis.nl>

On Mon, Jun 14, 2021 at 03:50:40PM +0200, Siep Kroonenberg wrote:
> On Mon, Jun 14, 2021 at 12:24:05PM +0200, Siep Kroonenberg wrote:
> > On Sun, Jun 13, 2021 at 05:17:43PM +0200, Andreas Hirsch wrote:
> > > Hi,
> > > 
> > > Siep Kroonenberg schrieb am 13.06.2021 um 11:10:
> > > > On Sun, Jun 13, 2021 at 10:59:30AM +0200, Andreas Hirsch wrote:
> > > 
> > 
> > It looks like it crashes when it loads the format file. Try
> > 
> > fmtutil-user --byfmt pdflatex
> > 
> > This worked with me, but of course this is not really solution: a
> > user-generated format file can shadow a more up-to-date and
> > incompatible system format file. And I double whether it would work
> > if the user profile were on a network drive.
> 
> The system- and user format files are not identical, and if I try
> under Linux to compile a latex file with a windows-generated
> pdflatex.fmt, then this ends with
> 
> x$ pdflatex mathtest
> This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) (preloaded format=pdflatex)
>  restricted \write18 enabled.
> pdflatex: fatal: Could not undump 1095041024 1-byte item(s) from /extra/tlsvn/Master/texmf-var/web2c/pdftex/pdflatex.fmt.

Conversely, removing the private format file and copying it to the
network installation, also solved the problem for Windows - but
created a problem for Linux.

So it appears to be a LaTeX problem and have nothing to do with
networking.

Are LaTeX developers taking note of this?

-- 
Siep Kroonenberg

From jfine2358 at gmail.com  Tue Jun 15 13:07:48 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Tue, 15 Jun 2021 12:07:48 +0100
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <YMhvNGxcpbVm/YPO@bitmuis.nl>
References: <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
Message-ID: <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>

Siep wrote:
>
> [...] if I try under Linux to compile a latex file with a
> windows-generated pdflatex.fmt, then this ends with [could not undump].


 As Siep is correct, this is not a network error. Nor is it, I think, a
LaTeX error. After all, LaTeX is just TeX macros and commands.

Is it a documented feature, that "pdftex --ini" creates a fmt file that
works cross-platform? If so, then we have a bug in pdftex (and perhaps
opportunities for improvement elsewhere).

And if not a documented feature? Well, all else being equal, I'd prefer fmt
files to be cross-platform and archival. But I don't know the difficulties
involved in this.

It would help to know what changed between 2020 and 2021, to make the
pdftex latex.fmt file no longer be cross platform.

An aside. It's possible that 2020 pdftex with 2021 LaTeX creates a
latex.fmt that is not cross-platform.

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210615/a0cd9ddc/attachment.html>

From jfine2358 at gmail.com  Tue Jun 15 13:18:09 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Tue, 15 Jun 2021 12:18:09 +0100
Subject: Idea: An issue tracker for tex-live
Message-ID: <CALD=Yf9Bs6e1UiChue84-Z9WJR7tiKzU4wOcx8j0gB9m5bh3qw@mail.gmail.com>

Hi

I think some recent discussions on this list should be noted on an issue
tracked. We'd be in good company in doing this.

https://github.com/MiKTeX/miktex/issues
https://github.com/latex3/latex2e/issues
https://github.com/pgf-tikz/pgf/issues

By the way, a project can have a github issue tracker (and wiki) even
though its git repository is empty!

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210615/bd862dcd/attachment.html>

From norbert at preining.info  Tue Jun 15 13:31:09 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 15 Jun 2021 20:31:09 +0900
Subject: Idea: An issue tracker for tex-live
In-Reply-To: <CALD=Yf9Bs6e1UiChue84-Z9WJR7tiKzU4wOcx8j0gB9m5bh3qw@mail.gmail.com>
References: <CALD=Yf9Bs6e1UiChue84-Z9WJR7tiKzU4wOcx8j0gB9m5bh3qw@mail.gmail.com>
Message-ID: <YMiPfS2P6egyr0ms@bulldog.preining.info>

On Tue, 15 Jun 2021, Jonathan Fine wrote:
> I think some recent discussions on this list should be noted on an issue
> tracked. We'd be in good company in doing this.

This topic comes up again and again, but as long as there are not enough
developers who look into the issues and try to fix them, and more
importantly wade through the huge amounts of noise, it really doesn't
help.

What do we gain with github issues what we cannot do via the mailing
list?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From cursus.publicus at sacrumromanumimperium.org  Tue Jun 15 18:15:58 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Tue, 15 Jun 2021 18:15:58 +0200
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
References: <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
 <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
Message-ID: <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>

Hi Jonathan,

Jonathan Fine schrieb am 15.06.2021 um 13:07:

> Is it a documented feature, that "pdftex --ini" creates a fmt file that
> works cross-platform? If so, then we have a bug in pdftex (and perhaps
> opportunities for improvement elsewhere).

On a multiplatform installation all format-files are stored under 
/texmf-var/web2c without any further directories for different OS

This intends, that the format-files HAVE TO BE OS-independend

Best,
Andreas

From jfine2358 at gmail.com  Tue Jun 15 20:02:54 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Tue, 15 Jun 2021 19:02:54 +0100
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>
References: <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
 <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
 <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>
Message-ID: <CALD=Yf-nTepKcm=kjvcEi_UREY5m6zZ7hTa8fR_2A-BZioG+HA@mail.gmail.com>

Hi Andreas

You wrote

On a multiplatform installation all format-files are stored
> under /texmf-var/web2c without any further directories for different OS
>

 This is useful information. It shows that TeX-Live assumes that format
files are platform independent. As Karl has responsibility for both
TeX-Live and pdftex, it may be correct to say that this platform
independence is an undocumented feature.

I'm now going to make a wild guess. Even if wrong, the thinking leading up
to the guess might be helpful. In the file web2c/pdftexdir/ptexmac.h
C-language macros dumpcharptr(a) and undumpcharptr(s) are defined. They
were added on 20 Jan 2021. I suggest looking for an error in these macros,
or in the use of these macros.

The following monster URL will bring up for you the definitions.
https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822#diff-0561d129eac29b0ac46df3edb18316f19ae0ea758bd8ce890f91e9f2f097a84eR223-R245

In case it's helpful, here's how I found these macro definitions.

1. I cloned https://github.com/tex-mirror/pdftex onto my PC.
2. On my PC, I grepped for WIN, returning only a list of file names.
3. I filtered to get only the .h file names. There were 47.
4. I eyeballed those file names. The following were the only ones in web2c.
source/src/texk/web2c/pdftexdir/ptexmac.h
source/src/texk/web2c/pdftexdir/ptexlib.h
source/src/texk/web2c/texmfmp.h
source/src/texk/web2c/w2c/config.h
source/src/texk/web2c/texmfmp-help.h
source/src/texk/web2c/synctexdir/synctex_parser_utils.h
source/src/texk/web2c/cpascal.h
5. On github I looked at the history of web2c/pdftexdir/ptexmac.h
6. This gave as the most recent change a commit
karl sync with tl 57477, for (un)dump of \pdfglyphtounicode
7. BINGO. That (un)dump looks like the addition of a new feature.
8. Here's the diff for the commit
https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822
9. From there the rest is easy. Just search or eyeball for the string
"dump".

Finally, and perhaps irrelevant, Google and Facebook have lately detected
"recidivist machines". Further, "These machines were credibly accused of
corrupting multiple different stable well-debugged large-scale
applications. Each machine was accused repeatedly by independent teams but
conventional diagnostics found nothing wrong with them."

Further in one case "Google's errant hardware conducted what might be
described as an auto-erratic ransomware attack." Further "One of our
mercurial cores corrupted encryption. It did it in such a way that only it
could decrypt what it had wrongly encrypted."

You can read more here:
https://www.theregister.com/2021/06/04/google_chip_flaws/

So how is this related to the cross-platform dump / undump problem? Perhaps
both the Windows and Linux versions are correct in that they can undump
what they dump. So single platform testing will not detect the error.
Indeed there is no error, until either the dump is sufficiently documented,
or until cross platform behaviour is required and tested.

I hope this helps.
-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210615/74a1678f/attachment.html>

From jfkthame at gmail.com  Tue Jun 15 20:26:03 2021
From: jfkthame at gmail.com (Jonathan Kew)
Date: Tue, 15 Jun 2021 19:26:03 +0100
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <CALD=Yf-nTepKcm=kjvcEi_UREY5m6zZ7hTa8fR_2A-BZioG+HA@mail.gmail.com>
References: <24772.5492.654396.196864@gargle.gargle.HOWL>
 <YMSx7p/sLju4sZAn@bitmuis.nl>
 <13741228-4daf-5af5-37f3-7b121c3e9f4e@sacrumromanumimperium.org>
 <CAKTOP46YfJefYhybDPvdYuotahDCYV0kU5JKROhRSurO+jwcrg@mail.gmail.com>
 <YMXHJNcg/XJNnMNp@bitmuis.nl>
 <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
 <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
 <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>
 <CALD=Yf-nTepKcm=kjvcEi_UREY5m6zZ7hTa8fR_2A-BZioG+HA@mail.gmail.com>
Message-ID: <a47fa69e-6acd-417a-2229-919c88868c07@gmail.com>

On 15/06/2021 19:02, Jonathan Fine wrote:
> Hi Andreas
> 
> You wrote
> 
>     On a multiplatform installation all format-files are stored
>     under?/texmf-var/web2c without any further directories for different OS
> 
> 
>  ?This is useful information. It shows that TeX-Live assumes that format 
> files are platform independent. As Karl has responsibility for both 
> TeX-Live and pdftex, it may be correct?to say that this platform 
> independence is an undocumented feature.
> 
> I'm now going to make a wild guess. Even if wrong, the thinking leading 
> up to the guess might be helpful. In the file?web2c/pdftexdir/ptexmac.h 
> C-language macros dumpcharptr(a) and undumpcharptr(s) are defined. They 
> were added on 20 Jan 2021. I suggest looking for an error in these 
> macros, or in the use of these macros.

I suspect that the commit 
https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822 
made dumps non-portable at least between 32-bit and 64-bit systems, 
because it (un)dumps variables of C type |size_t|, which will typically 
be a 4-byte value in a 32-bit environment, but 8-byte in a 64-bit system.

Hence, I wonder if declaring the |count| and |remaining| variables in 
|dumptounicode| and |undumptounicode| respectively as a portable web2c 
type such as |longinteger| might resolve the problem.

JK

> 
> The following monster URL will bring up for you the definitions.
> https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822#diff-0561d129eac29b0ac46df3edb18316f19ae0ea758bd8ce890f91e9f2f097a84eR223-R245 
> <https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822#diff-0561d129eac29b0ac46df3edb18316f19ae0ea758bd8ce890f91e9f2f097a84eR223-R245>
> 
> In case it's helpful, here's how I found these macro definitions.
> 
> 1. I cloned https://github.com/tex-mirror/pdftex 
> <https://github.com/tex-mirror/pdftex> onto my PC.
> 2. On my PC, I grepped for WIN, returning only a list of file names.
> 3. I filtered to get only the .h file names. There were 47.
> 4. I eyeballed those file names. The following were the only ones in web2c.
> source/src/texk/web2c/pdftexdir/ptexmac.h
> source/src/texk/web2c/pdftexdir/ptexlib.h
> source/src/texk/web2c/texmfmp.h
> source/src/texk/web2c/w2c/config.h
> source/src/texk/web2c/texmfmp-help.h
> source/src/texk/web2c/synctexdir/synctex_parser_utils.h
> source/src/texk/web2c/cpascal.h
> 5. On github I looked at the history of?web2c/pdftexdir/ptexmac.h
> 6. This gave as the most recent change a commit
> karl sync with tl 57477, for (un)dump of \pdfglyphtounicode
> 7. BINGO. That (un)dump looks like the addition of a new feature.
> 8. Here's the diff for the commit
> https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822 
> <https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822>
> 9. From there the rest is easy. Just search or eyeball for the string 
> "dump".
> 
> Finally, and perhaps irrelevant, Google and Facebook have lately 
> detected "recidivist machines". Further, "These machines were credibly 
> accused of corrupting multiple different stable well-debugged 
> large-scale applications. Each machine was accused repeatedly by 
> independent teams but conventional diagnostics found nothing wrong with 
> them."
> 
> Further in one case "Google's errant hardware conducted what might be 
> described as an auto-erratic ransomware attack." Further "One of our 
> mercurial cores corrupted encryption. It did it in such a way that only 
> it could decrypt what it had wrongly encrypted."
> 
> You can read more here: 
> https://www.theregister.com/2021/06/04/google_chip_flaws/ 
> <https://www.theregister.com/2021/06/04/google_chip_flaws/>
> 
> So how is this related to the cross-platform dump / undump problem? 
> Perhaps both the Windows and Linux versions are correct in that they can 
> undump what they dump. So single platform?testing will not detect the 
> error. Indeed there is no error, until either the dump is sufficiently 
> documented, or until cross platform behaviour is required and tested.
> 
> I hope this helps.
> -- 
> Jonathan
> 
> 
> 
> 
> 
> 
> 
> 


From tex at 2krueger.de  Tue Jun 15 20:38:24 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Tue, 15 Jun 2021 20:38:24 +0200
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <a47fa69e-6acd-417a-2229-919c88868c07@gmail.com>
References: <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
 <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
 <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>
 <CALD=Yf-nTepKcm=kjvcEi_UREY5m6zZ7hTa8fR_2A-BZioG+HA@mail.gmail.com>
 <a47fa69e-6acd-417a-2229-919c88868c07@gmail.com>
Message-ID: <20210615183824.uhx4osjoz6wwidqx@beeblebrox>

On Tue, Jun 15, 2021 at 07:26:03PM +0100, Jonathan Kew wrote:
> 
> I suspect that the commit https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822
> made dumps non-portable at least between 32-bit and 64-bit systems, because
> it (un)dumps variables of C type |size_t|, which will typically be a 4-byte
> value in a 32-bit environment, but 8-byte in a 64-bit system.
> 
> Hence, I wonder if declaring the |count| and |remaining| variables in
> |dumptounicode| and |undumptounicode| respectively as a portable web2c type
> such as |longinteger| might resolve the problem.
> 
> JK
> 

That commit *did* make dumps non-portable but that issue was fixed
shortly afterwards [in texlive](https://github.com/TeX-Live/texlive-source/commit/42e871ff0eba7c26bcead6096bce36f332de3339)
and the fix also made it into the
[pdftex repo](https://github.com/tex-mirror/pdftex/commit/889c5ac900545e9775921b5d884716e9de48b1cf#diff-75f9f96e8dd7b2808844d343e2542f7df64aec52f669468879c200861edeec56).

Best,
Marcel

From jfine2358 at gmail.com  Tue Jun 15 20:54:53 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Tue, 15 Jun 2021 19:54:53 +0100
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <20210615183824.uhx4osjoz6wwidqx@beeblebrox>
References: <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
 <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
 <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>
 <CALD=Yf-nTepKcm=kjvcEi_UREY5m6zZ7hTa8fR_2A-BZioG+HA@mail.gmail.com>
 <a47fa69e-6acd-417a-2229-919c88868c07@gmail.com>
 <20210615183824.uhx4osjoz6wwidqx@beeblebrox>
Message-ID: <CALD=Yf8O7q1S5sdThb9mjSW9Rdzp3h=hq1gKmZ59nexbSNKqAA@mail.gmail.com>

Hi Marcel

You wrote:

That commit *did* make dumps non-portable but that issue was fixed shortly
> afterwards [in texlive](
> https://github.com/TeX-Live/texlive-source/commit/4e871ff0eba7c26bcead6096bce36f332de3339
> <https://github.com/TeX-Live/texlive-source/commit/42e871ff0eba7c26bcead6096bce36f332de3339>
> )
>

That's interesting. A non-portable dump bug was discovered and fixed, and
despite this a non-portable dump bug found its way into TeX-Live 2021. Was
there a test associated with the commit you referenced?

Perhaps the LaTeX team could help us make a minimal failing example.
-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210615/48a1c845/attachment.html>

From jfkthame at gmail.com  Tue Jun 15 21:51:44 2021
From: jfkthame at gmail.com (Jonathan Kew)
Date: Tue, 15 Jun 2021 20:51:44 +0100
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <20210615183824.uhx4osjoz6wwidqx@beeblebrox>
References: <cdc2d382-4ac6-3f87-3183-4323d0cd78d0@sacrumromanumimperium.org>
 <YMXLd3GdAfF/GWrA@bitmuis.nl>
 <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
 <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
 <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>
 <CALD=Yf-nTepKcm=kjvcEi_UREY5m6zZ7hTa8fR_2A-BZioG+HA@mail.gmail.com>
 <a47fa69e-6acd-417a-2229-919c88868c07@gmail.com>
 <20210615183824.uhx4osjoz6wwidqx@beeblebrox>
Message-ID: <f6c55443-4b45-bbcf-5ce9-cc69fc7a43fd@gmail.com>

On 15/06/2021 19:38, Marcel Fabian Kr?ger wrote:
> On Tue, Jun 15, 2021 at 07:26:03PM +0100, Jonathan Kew wrote:
>>
>> I suspect that the commit https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822
>> made dumps non-portable at least between 32-bit and 64-bit systems, because
>> it (un)dumps variables of C type |size_t|, which will typically be a 4-byte
>> value in a 32-bit environment, but 8-byte in a 64-bit system.
>>
>> Hence, I wonder if declaring the |count| and |remaining| variables in
>> |dumptounicode| and |undumptounicode| respectively as a portable web2c type
>> such as |longinteger| might resolve the problem.
>>
>> JK
>>
> 
> That commit *did* make dumps non-portable but that issue was fixed
> shortly afterwards [in texlive](https://github.com/TeX-Live/texlive-source/commit/42e871ff0eba7c26bcead6096bce36f332de3339)
> and the fix also made it into the
> [pdftex repo](https://github.com/tex-mirror/pdftex/commit/889c5ac900545e9775921b5d884716e9de48b1cf#diff-75f9f96e8dd7b2808844d343e2542f7df64aec52f669468879c200861edeec56).
> 
> Best,
> Marcel
> 

Ah, interesting - thanks. I hadn't checked for any followup, just 
glanced over the commit that Jonathan pointed out.

Looking at the current code, though, I see another suspicious piece of 
dump/undump usage. The code in tounicode.c applies |generic_dump| / 
|generic_undump| to |gu->code|. But the |code| field in 
|glyph_unicode_entry| is declared as |long| in C, which I believe could 
be either 4 or 8 bytes in size, depending on architecture.

JK

From tex at 2krueger.de  Tue Jun 15 21:58:50 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Tue, 15 Jun 2021 21:58:50 +0200
Subject: Format file differences (was: Re: pdflatex does not work on win
 after todays update but does on linux)
In-Reply-To: <f6c55443-4b45-bbcf-5ce9-cc69fc7a43fd@gmail.com>
References: <51fe6d3a-7ad9-5965-585e-d2d613058b7e@sacrumromanumimperium.org>
 <YMcuRRv1h7BXFL1B@bitmuis.nl> <YMdesAv3oJ/UqhEf@bitmuis.nl>
 <YMhvNGxcpbVm/YPO@bitmuis.nl>
 <CALD=Yf96E6==JjRVY1LWPs_Xtftw09gnbiwi=ThhV0O79RzB0Q@mail.gmail.com>
 <2a92001c-c081-c5be-3dc9-c05ccd2956b5@sacrumromanumimperium.org>
 <CALD=Yf-nTepKcm=kjvcEi_UREY5m6zZ7hTa8fR_2A-BZioG+HA@mail.gmail.com>
 <a47fa69e-6acd-417a-2229-919c88868c07@gmail.com>
 <20210615183824.uhx4osjoz6wwidqx@beeblebrox>
 <f6c55443-4b45-bbcf-5ce9-cc69fc7a43fd@gmail.com>
Message-ID: <20210615195850.acsep5m4qou6gkfs@beeblebrox>

On Tue, Jun 15, 2021 at 08:51:44PM +0100, Jonathan Kew wrote:
> On 15/06/2021 19:38, Marcel Fabian Kr?ger wrote:
> > On Tue, Jun 15, 2021 at 07:26:03PM +0100, Jonathan Kew wrote:
> > > 
> > > I suspect that the commit https://github.com/tex-mirror/pdftex/commit/70e0c9c9e95184665909dd447bc80aa08d700822
> > > made dumps non-portable at least between 32-bit and 64-bit systems, because
> > > it (un)dumps variables of C type |size_t|, which will typically be a 4-byte
> > > value in a 32-bit environment, but 8-byte in a 64-bit system.
> > > 
> > > Hence, I wonder if declaring the |count| and |remaining| variables in
> > > |dumptounicode| and |undumptounicode| respectively as a portable web2c type
> > > such as |longinteger| might resolve the problem.
> > > 
> > > JK
> > > 
> > 
> > That commit *did* make dumps non-portable but that issue was fixed
> > shortly afterwards [in texlive](https://github.com/TeX-Live/texlive-source/commit/42e871ff0eba7c26bcead6096bce36f332de3339)
> > and the fix also made it into the
> > [pdftex repo](https://github.com/tex-mirror/pdftex/commit/889c5ac900545e9775921b5d884716e9de48b1cf#diff-75f9f96e8dd7b2808844d343e2542f7df64aec52f669468879c200861edeec56).
> > 
> > Best,
> > Marcel
> > 
> 
> Ah, interesting - thanks. I hadn't checked for any followup, just glanced
> over the commit that Jonathan pointed out.
> 
> Looking at the current code, though, I see another suspicious piece of
> dump/undump usage. The code in tounicode.c applies |generic_dump| /
> |generic_undump| to |gu->code|. But the |code| field in
> |glyph_unicode_entry| is declared as |long| in C, which I believe could be
> either 4 or 8 bytes in size, depending on architecture.
> 
> JK

Right, I just wrote a patch for that :)  It's probably causing the
current issue...

Best,
Marcel

From tex at 2krueger.de  Tue Jun 15 22:10:30 2021
From: tex at 2krueger.de (=?UTF-8?q?Marcel=20Fabian=20Kr=C3=BCger?=)
Date: Tue, 15 Jun 2021 22:10:30 +0200
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file differences)
In-Reply-To: <f6c55443-4b45-bbcf-5ce9-cc69fc7a43fd@gmail.com>
References: <f6c55443-4b45-bbcf-5ce9-cc69fc7a43fd@gmail.com>
Message-ID: <20210615201029.16501-1-tex@2krueger.de>

Also known as: Platform independent .fmt files are hard.

Since recent pdfTeX versions allow dumping glyph to unicode mappings,
their type have a platform independent size.

Changing the type is safe since even on 64 bit platforms, the value is
never bigger than 32 bit since it only contains unicode values
(<0x110000 << 2^31-1) or negative values bigger than -3 (>>> -2^31).
---
 texk/web2c/pdftexdir/ChangeLog | 5 +++++
 texk/web2c/pdftexdir/ptexlib.h | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/texk/web2c/pdftexdir/ChangeLog b/texk/web2c/pdftexdir/ChangeLog
index 92be2f93c..3e594b6a4 100644
--- a/texk/web2c/pdftexdir/ChangeLog
+++ b/texk/web2c/pdftexdir/ChangeLog
@@ -1,3 +1,8 @@
+2021-06-15  Marcel Fabian Krueger  <tex at 2krueger.de>
+
+	* ptexlib.h (glyph_unicode_entry): use integer, not long,
+	to allow dumping without making .fmt platform dependent.
+
 2021-03-23  Karl Berry  <karl at tug.org>
 
 	* TL'21.
diff --git a/texk/web2c/pdftexdir/ptexlib.h b/texk/web2c/pdftexdir/ptexlib.h
index b10d289b3..4a58e2111 100644
--- a/texk/web2c/pdftexdir/ptexlib.h
+++ b/texk/web2c/pdftexdir/ptexlib.h
@@ -77,7 +77,7 @@ typedef struct {
 
 typedef struct {
     char *name;                 /* glyph name */
-    long code;                  /* -1 = undefined; -2 = multiple codes, stored
+    integer code;               /* -1 = undefined; -2 = multiple codes, stored
                                    as string in unicode_seq; otherwise unicode value */
     char *unicode_seq;          /* multiple unicode sequence */
 } glyph_unicode_entry;
-- 
2.32.0


From karl at freefriends.org  Tue Jun 15 22:34:52 2021
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 Jun 2021 14:34:52 -0600
Subject: Idea: An issue tracker for tex-live
In-Reply-To: <YMiPfS2P6egyr0ms@bulldog.preining.info>
Message-ID: <202106152034.15FKYqNu029761@freefriends.org>

    Subject: Re: Idea: An issue tracker for tex-live

For the record, there is a tracker at
https://puszcza.gnu.org.ua/bugs/?group=texlive with three
significant-effort items (all submitted by me). -k


From karl at freefriends.org  Tue Jun 15 22:34:53 2021
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 Jun 2021 14:34:53 -0600
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <20210615201029.16501-1-tex@2krueger.de>
Message-ID: <202106152034.15FKYrA7029769@freefriends.org>

    -    long code;                  /* -1 = undefined; -2 = multiple codes, stored
    +    integer code;               /* -1 = undefined; -2 = multiple codes, stored

Committed in r59603, with fingers crossed. Thanks. -k

From jfine2358 at gmail.com  Wed Jun 16 20:04:32 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 16 Jun 2021 19:04:32 +0100
Subject: TeX Hour: Thu 17 June: Enlarge TeX Live: Improve user markdown, HTML, 
 EPUB, XML experience
In-Reply-To: <CALD=Yf_inoU2cGzVigNoviebemmNMWoGbmSeFc5p_pqwN=usEw@mail.gmail.com>
References: <CALD=Yf_iTPVYy1zBHDjKv4WhwvZM+XgcUoh0_xH112xLnrbV=Q@mail.gmail.com>
 <CALD=Yf8bh+szTHWMS4Xg3Sv1WxJ+outJd2Ni0Vz9JqoqQsNiXw@mail.gmail.com>
 <CALD=Yf8JbKkQ9S9MR+cHxArWoARqDqw6tuwui7cAVa=XAFaJ7g@mail.gmail.com>
 <CALD=Yf_inoU2cGzVigNoviebemmNMWoGbmSeFc5p_pqwN=usEw@mail.gmail.com>
Message-ID: <CALD=Yf-b4N9o5YZiufv4E0rMa+jeHoE4VK3xDcTz6vMmrQkFtg@mail.gmail.com>

Hi

Tomorrow's TeX Hour is about what would be nice to add to TeX Live. Your
suggestions are important. Next week's TeX Hour is about squeezing
everything into the 8GB available on the TeX Collection DVD.

When and where. Thursday 17 June, 6.30 to 7.30pm UK time. The UK time now
is at https://time.is/UK. The zoom details are
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Meeting ID: 785 5125 5396
Passcode: knuth

One of Don Knuth's goals in writing TeX was to give people software that
worked the same for everyone, across space and time. In the 1980's the TeX
Users Group contributed to this by distributing source code tapes (the best
medium at that time). Today TUG's support for the TeX Collection DVD and
the TeX Live distribution has a similar purpose.

This week and next TeX Live is the focus of the TeX Hour. TeX Live provides
a shared software experience for LaTeX to PDF. The focus this week is what
would be nice to have in TeX Live, for other outputs such as HTML and EPUB.
And for other inputs such as Markdown and XML transformed to LaTeX.

In case this seems a bit strange and off-topic, remember that Don Knuth's
WEB system of literate programs produces Pascal source and TeX source as
output, from a single WEB file. And tools such as bibtex produce LaTeX
source from content held in bibliographic databases.

The focus this week is on what's nice to have, in enlarging the shared TeX
Live experience to include outputs such as HTML and EPUB, and inputs such
as Markdown and XML. Today many authors and publishers want multiple media
outputs. And it's key for accessibility. And for integrating with modern
learning systems.

Next week the focus is on shrinking and simplifying the present TeX
Collection DVD, and making year-on-year change more manageable, without
significantly reducing the user experience. For the R-community, TinyTeX
shrinks TeX Live to 100MB.

The videos for the last two week's are available at

3 June 2021: Rethinking the beginner experience
https://www.youtube.com/playlist?list=PLw1FZfIX1w7gTrQjLKPx6tdidALVbNiUB

10 June 2021: Code and Math Accessibility: Hard? Easy? When? Why?
https://www.youtube.com/playlist?list=PLw1FZfIX1w7igKkNMZDU2CLQuvVE9ERCo

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210616/aabaed48/attachment.html>

From ud.usenetcorrespondence at web.de  Sat Jun 19 01:38:23 2021
From: ud.usenetcorrespondence at web.de (ud.usenetcorrespondence at web.de)
Date: Sat, 19 Jun 2021 01:38:23 +0200
Subject: Somewhat surprising behaviour of \scantokens after \endinput
Message-ID: <trinity-12984e43-86f9-4696-a012-428db8a08b48-1624059503184@3c-app-webde-bap09>

jfbu wrote:

> I have encountered a phenomenon with \scantokens executed after \endinput:
>
> ---
> % execute this file testscan.tex with etex on command line
> \def\test{%
> \begingroup
> \endlinechar-1\everyeof{\noexpand}%
> \edef\foo{\scantokens{}}%
> \endgroup
> }%
> \test % ok
> % \test\endinput % would be ok
> \endinput\test % not ok
> ---
>
> executing "etex testscan" (or pdftex, xetex, luatex, eptex) gives this:
>
> Runaway definition?
> ->
> ! File ended while scanning definition of \foo.
> <inserted text>
> }
> \test ...of {\noexpand }\edef \foo {\scantokens {}
> }\endgroup
> l.12 \endinput\test
> % not ok^^M
> ? X
>
> I would be curious if some expert could elucidate.


I don't know if I can be called an expert, but the man who wrote
the TeXbook surely is. ;-)

Chapter 20: Definitions (also called macros) of the TeXbook
has a very large double-dangerous-bend paragraph which
begins with

| Now let?s consider the control sequences that are expanded whenever
| expansion has not been inhibited. Such control sequences fall into
| several classes:

About \endinput you find:

| - \endinput. The expansion is null. The next time TeX gets to the end
| of an \input line, it will stop reading from the file containing that line.


What is specified by the phrase "The next time TeX gets to the end of an
\input line" is neither a specific "\input file" nor a specific
"\input line" but is just a moment in time when some condition is met.


Therefore I *think* expecting *some* error-message with your example
does correspond to the TeXbook's description of what behavior of TeX
is triggered by \endinput -- the reason for this expectation is:

\test expands to an \edef whose <definition text> contains \scantokens.

With \endinput\test the next time TeX gets to the end of an
\input line is "inside the \edef" while carrying out \scantokens as
\scantokens in turn leads to emulating
- unexpanded writing tokens to external text file and then
- processing that external text file via \input outgoing from current
catcode-r?gime.

(I just used the term "external text file".
Let's henceforth use the term "scantokens-file" for referring the same.)

Due to the previously encountered \endinput \scantokens' emulating
of processing that external text file via \input is stopped when TeX gets
to the end of the very first line of that "scantokens-file", i.e., is
stopped at a moment in time when gathering the <definition text> of an
\edef-assignment is still in progress and when the end of the
"scantokens-file" is not reached yet and therefore \everyeof is not
carried out.

This stopping in turn yields the runaway-definition-error.



Nonetheless I think the error-message encountered by you is
incorrect and misleading:

You find the statement:

   Runaway definition?
   ->
   ! File ended while scanning definition of \foo.

That statement is not correct in this subtle case.

In this subtle case the reason for the runaway-definition
is not that TeX encountered the _end_ of a file.

In this subtle case the reason for the runaway-definition
is that due to the pending \endinput reading from the
"scantokens-file" was ceased when TeX got to the end of the
very first line of the "scantokens-file".


In this subtle case a correct statement would probably
be something like:

   Runaway definition?
   ->
   ! Due to pending \endinput reading from file was ceased
   ! when getting to the end of its first line while scanning
   ! definition of \foo.



You can produce similar misleading statements without
eTeX-extensions:

Assume a .tex-input-file FileA.tex contains:

   Line 1
   Line 2
   Line 3


Assume a .tex-input-file test.tex contains:

   \endinput\edef\foobar{\input FileA.tex }%
   \bye

When compiling via tex test.tex, then the resulting
error-message on the console contains:

   Runaway definition?
   ->Line 1
   ! File ended while scanning definition of \foobar.

although the reason for the "runaway definition" is not
encountering the _end_ of a file (the end of FileA.tex) but
the reason for the "runaway definition" is ceasing processing
that file (i.e. FileA.tex) due to pending \endinput when
TeX gets to the end of that file's first line.



I could not resist to submit a bug-report for the
2029 TeX tune-up to the tex-k-mailing list about the
misleading text of the error-message - Subject:
Error-message is expected but the text of the
error-message is incorrect.



Yours sincerely

Ulrich Diez


From rdtennent at gmail.com  Sat Jun 19 13:26:47 2021
From: rdtennent at gmail.com (Bob Tennent)
Date: Sat, 19 Jun 2021 07:26:47 -0400
Subject: Asana-Math message
Message-ID: <20210619112647.kX_jVlDIp%rdtennent@gmail.com>

My daily "tlmgr update --all --self " today generated the
folowing:

  tlmgr: Strange, Asana-Math mentioned but not found anywhere!

Then "asana-math" was auto-installed. "tlmgr info" now says
that both Asana-Math and asana-math are installed.

Bob T.

From cursus.publicus at sacrumromanumimperium.org  Sat Jun 19 17:11:38 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sat, 19 Jun 2021 17:11:38 +0200
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <202106152034.15FKYrA7029769@freefriends.org>
References: <202106152034.15FKYrA7029769@freefriends.org>
Message-ID: <00455677-2261-5528-0be5-8cccb9302f9d@sacrumromanumimperium.org>


Karl Berry schrieb am 15.06.2021 um 22:34:
>      -    long code;                  /* -1 = undefined; -2 = multiple codes, stored
>      +    integer code;               /* -1 = undefined; -2 = multiple codes, stored
> 
> Committed in r59603, with fingers crossed. Thanks. -k

after todays update of my TeXLive-System I must report, that the 
system-wide formatfile for pdflatex does still not work on windows

A new generated user-format-file works

best,
Andreas

From karl at freefriends.org  Sat Jun 19 23:24:40 2021
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 Jun 2021 15:24:40 -0600
Subject: Asana-Math message
In-Reply-To: <20210619112647.kX_jVlDIp%rdtennent@gmail.com>
Message-ID: <202106192124.15JLOeTX032373@freefriends.org>

Hi Bob,

      tlmgr: Strange, Asana-Math mentioned but not found anywhere!

Yes, thanks for the report.

I renamed the pkg to asana-math (for consistency with CTAN names) but
failed to find all the occurrences. It was in a non-critical place (a
scheme-* dependency), so the build went through, but tlmgr rightfully
warned about it.

I plan to rename the half-dozen or so other tl package names that are
gratuitously/historically capitalized over the coming days. It shouldn't
have any user impact (no actual file names will be changed). But if I
mess up again, you might see the "strange" message again :). --best, karl.

From rdtennent at gmail.com  Sat Jun 19 23:34:12 2021
From: rdtennent at gmail.com (Bob Tennent)
Date: Sat, 19 Jun 2021 17:34:12 -0400
Subject: Asana-Math message
In-Reply-To: <202106192124.15JLOeTX032373@freefriends.org>
References: <20210619112647.kX_jVlDIp%rdtennent@gmail.com>
 <202106192124.15JLOeTX032373@freefriends.org>
Message-ID: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>

Karl:  I think there's more to this.  My (Linux)  system now has both
Asana-Math and asana-math packages installed. I
would think that the former should be auto-removed.

Bob

On Sat, Jun 19, 2021 at 5:24 PM Karl Berry <karl at freefriends.org> wrote:

> Hi Bob,
>
>       tlmgr: Strange, Asana-Math mentioned but not found anywhere!
>
> Yes, thanks for the report.
>
> I renamed the pkg to asana-math (for consistency with CTAN names) but
> failed to find all the occurrences. It was in a non-critical place (a
> scheme-* dependency), so the build went through, but tlmgr rightfully
> warned about it.
>
> I plan to rename the half-dozen or so other tl package names that are
> gratuitously/historically capitalized over the coming days. It shouldn't
> have any user impact (no actual file names will be changed). But if I
> mess up again, you might see the "strange" message again :). --best, karl.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210619/ddf0d486/attachment.html>

From achirvasub at gmail.com  Sat Jun 19 23:39:58 2021
From: achirvasub at gmail.com (AC)
Date: Sat, 19 Jun 2021 17:39:58 -0400
Subject: Asana-Math message
In-Reply-To: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
References: <20210619112647.kX_jVlDIp%rdtennent@gmail.com>
 <202106192124.15JLOeTX032373@freefriends.org>
 <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
Message-ID: <40B6C585-FD4E-46EB-A338-38EBB52C3349@gmail.com>

FWIW: also on Linux, having run 

tlmgr update --self --all

after the initial strange-message report, my Asana-Math *was* auto-removed (and asana-math installed): tlmgr reported so as it ran.

So this seems to have gone through fine on at least some systems.. 

On June 19, 2021 5:34:12 PM EDT, Bob Tennent <rdtennent at gmail.com> wrote:
>Karl:  I think there's more to this.  My (Linux)  system now has both
>Asana-Math and asana-math packages installed. I
>would think that the former should be auto-removed.
>
>Bob
>
>On Sat, Jun 19, 2021 at 5:24 PM Karl Berry <karl at freefriends.org>
>wrote:
>
>> Hi Bob,
>>
>>       tlmgr: Strange, Asana-Math mentioned but not found anywhere!
>>
>> Yes, thanks for the report.
>>
>> I renamed the pkg to asana-math (for consistency with CTAN names) but
>> failed to find all the occurrences. It was in a non-critical place (a
>> scheme-* dependency), so the build went through, but tlmgr rightfully
>> warned about it.
>>
>> I plan to rename the half-dozen or so other tl package names that are
>> gratuitously/historically capitalized over the coming days. It
>shouldn't
>> have any user impact (no actual file names will be changed). But if I
>> mess up again, you might see the "strange" message again :). --best,
>karl.
>>


From karl at freefriends.org  Sat Jun 19 23:47:59 2021
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 Jun 2021 15:47:59 -0600
Subject: Asana-Math message
In-Reply-To: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
Message-ID: <202106192147.15JLlxoY003159@freefriends.org>

    Asana-Math and asana-math packages installed. I
    would think that the former should be auto-removed.

Yes, it should have been. Let's see if it happens tonight after I
removed the stray reference.

(AC: I can't explain why it was removed for you. That seems ... strange.)

From karl at freefriends.org  Sun Jun 20 00:10:30 2021
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 Jun 2021 16:10:30 -0600
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <00455677-2261-5528-0be5-8cccb9302f9d@sacrumromanumimperium.org>
Message-ID: <202106192210.15JMAUEi006314@freefriends.org>

    after todays update of my TeXLive-System I must report, that the 
    system-wide formatfile for pdflatex does still not work on windows

I committed Marcel's fix in the source code. We did not (as usual)
rebuild all the binaries, which would be quite some work. Since you know
how to work around the problem, and you may be the only one trying to
share .fmt files between 4/8-byte architectures, it didn't seem
necessary. Sorry. --best, karl.


From achirvasub at gmail.com  Sun Jun 20 01:51:01 2021
From: achirvasub at gmail.com (achirvasub at gmail.com)
Date: Sat, 19 Jun 2021 19:51:01 -0400
Subject: Asana-Math message
In-Reply-To: <202106192147.15JLlxoY003159@freefriends.org>
References: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
 <202106192147.15JLlxoY003159@freefriends.org>
Message-ID: <650EEC7A-824C-47A1-AE9E-534B0158E66F@gmail.com>

On Sat, Jun 19, 2021 at 03:47:59PM -0600, Karl Berry wrote:
> (AC: I can't explain why it was removed for you. That seems ... strange.)

I figured I'd double check; it does seem to have been removed (my previous report was based only on my remembering seeing the notification during the tlmgr-run update):

$ find ~/texlive/ -iname *asana*

$HOME/texlive/2021/tlpkg/tlpobj/asana-math.tlpobj
$HOME/texlive/2021/tlpkg/backups/Asana-Math.r50999.tar.lz4
$HOME/texlive/2021/texmf-dist/doc/fonts/asana-math
$HOME/texlive/2021/texmf-dist/fonts/opentype/public/asana-math
$HOME/texlive/2021/texmf-dist/fonts/opentype/public/asana-math/Asana-Math.otf
$HOME/texlive/2021/texmf-dist/fonts/truetype/public/asana-math
$HOME/texlive/2021/texmf-dist/fonts/truetype/public/asana-math/ASANA.TTC

So everything is inside an asana-math (uncapitalized) directory, except for the tar.lz4 backup (which I take it doesn't count; it's just a remnant from the earlier Asana-Math package).


From reinhard.kotucha at web.de  Sun Jun 20 03:06:13 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 20 Jun 2021 03:06:13 +0200
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <202106192210.15JMAUEi006314@freefriends.org>
References: <00455677-2261-5528-0be5-8cccb9302f9d@sacrumromanumimperium.org>
 <202106192210.15JMAUEi006314@freefriends.org>
Message-ID: <24782.38021.792701.87986@gargle.gargle.HOWL>

On 2021-06-19 at 16:10:30 -0600, Karl Berry wrote:

 >     after todays update of my TeXLive-System I must report, that the
 >     system-wide formatfile for pdflatex does still not work on windows
 >
 > I committed Marcel's fix in the source code. We did not (as usual)
 > rebuild all the binaries, which would be quite some work. Since you know
 > how to work around the problem, and you may be the only one trying to
 > share .fmt files between 4/8-byte architectures, it didn't seem
 > necessary. Sorry. --best, karl.

I've compiled an x86_64 binary from the current sources:

  http://ms25.ddns.net/texlive/x86_64/pdftex.gz

Andreas, you have to re-create the format file with the new binary on
the server.  It's not done by tlmgr automaticly.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From kakuto at w32tex.org  Sun Jun 20 06:00:06 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Sun, 20 Jun 2021 13:00:06 +0900
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <24782.38021.792701.87986@gargle.gargle.HOWL>
References: <00455677-2261-5528-0be5-8cccb9302f9d@sacrumromanumimperium.org>
 <202106192210.15JMAUEi006314@freefriends.org>
 <24782.38021.792701.87986@gargle.gargle.HOWL>
Message-ID: <2968a8f1-f8cf-2d97-56d3-bbe02c268a0a@w32tex.org>

Dear Reinhard,

On 2021/06/20 10:06, Reinhard Kotucha wrote:
> I've compiled an x86_64 binary from the current sources:

If you mean sources in the current SVN, I'm afraid that
pdftex.web (r59622) is newer than that (r57915) in TeX Live 2021.

If you have used pdftex.web (r57915) with the new ptexlib.h,
I think that you are right.

Thanks,
Akira

From rdtennent at gmail.com  Sun Jun 20 13:21:58 2021
From: rdtennent at gmail.com (Bob Tennent)
Date: Sun, 20 Jun 2021 07:21:58 -0400
Subject: Asana-Math message
In-Reply-To: <202106192147.15JLlxoY003159@freefriends.org>
References: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
 <202106192147.15JLlxoY003159@freefriends.org>
Message-ID: <CAGtK6=FsHYnU59LD2DjbJ=NKxzu9jjYkmXA3DavYSRh3g61-+A@mail.gmail.com>

>     Asana-Math and asana-math packages installed. I
>     would think that the former should be auto-removed.
>
> Yes, it should have been. Let's see if it happens tonight after I
> removed the stray reference.
>

Yes it was.  But I wonder whether the asana-math package might also be
removed on a case-independent system (Windows).

Bob
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210620/d593bb1e/attachment.html>

From herbs at wideopenwest.com  Sun Jun 20 14:37:51 2021
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Sun, 20 Jun 2021 07:37:51 -0500
Subject: Asana-Math message
In-Reply-To: <CAGtK6=FsHYnU59LD2DjbJ=NKxzu9jjYkmXA3DavYSRh3g61-+A@mail.gmail.com>
References: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
 <202106192147.15JLlxoY003159@freefriends.org>
 <CAGtK6=FsHYnU59LD2DjbJ=NKxzu9jjYkmXA3DavYSRh3g61-+A@mail.gmail.com>
Message-ID: <C3B30043-8796-4FD3-BAE1-29D6E74C72F9@wideopenwest.com>



> On Jun 20, 2021, at 6:21 AM, Bob Tennent <rdtennent at gmail.com> wrote:
> 
> 
>     Asana-Math and asana-math packages installed. I
>     would think that the former should be auto-removed.
> 
> Yes, it should have been. Let's see if it happens tonight after I
> removed the stray reference.
>  
> Yes it was.  But I wonder whether the asana-math package might also be removed on a case-independent system (Windows).
> 
> Bob   

Howdy,

I forgot to send Reply to All:

It was removed on the Mac this morning. I was able to re-install it (via TLU) and the folders are now in lower case.

ESIEEcv was also removed but it was then properly re-installed as esieecv afterwards.

Good Luck,

Herb Schulz
herbs at wideopenwest.com




From karl at freefriends.org  Sun Jun 20 23:24:47 2021
From: karl at freefriends.org (Karl Berry)
Date: Sun, 20 Jun 2021 15:24:47 -0600
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <2968a8f1-f8cf-2d97-56d3-bbe02c268a0a@w32tex.org>
Message-ID: <202106202124.15KLOleI015248@freefriends.org>

    If you mean sources in the current SVN, I'm afraid that
    pdftex.web (r59622) is newer than that (r57915) in TeX Live 2021.

I thought I synced pdftex and tl repos a few days ago, after Thanh
committed his fixes. The pdftexdir/ directories are the same. If you see
any discrepancies, let me know. --thanks, karl.


From gnwiii at gmail.com  Mon Jun 21 02:29:21 2021
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 20 Jun 2021 21:29:21 -0300
Subject: Asana-Math message
In-Reply-To: <C3B30043-8796-4FD3-BAE1-29D6E74C72F9@wideopenwest.com>
References: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
 <202106192147.15JLlxoY003159@freefriends.org>
 <CAGtK6=FsHYnU59LD2DjbJ=NKxzu9jjYkmXA3DavYSRh3g61-+A@mail.gmail.com>
 <C3B30043-8796-4FD3-BAE1-29D6E74C72F9@wideopenwest.com>
Message-ID: <CAKTOP45qYf82_3vqBhTLgEh=t=2ybCyL=x+=OiwRP+dQib3mig@mail.gmail.com>

On Sun, 20 Jun 2021 at 09:39, Herbert Schulz <herbs at wideopenwest.com> wrote:

>
>
> > On Jun 20, 2021, at 6:21 AM, Bob Tennent <rdtennent at gmail.com> wrote:
> >
> >
> >     Asana-Math and asana-math packages installed. I
> >     would think that the former should be auto-removed.
> >
> > Yes, it should have been. Let's see if it happens tonight after I
> > removed the stray reference.
> >
> > Yes it was.  But I wonder whether the asana-math package might also be
> removed on a case-independent system (Windows).
> >
> > Bob
>

On Windows, June 20th AM, using TeX Live Shell, lowercase packages were
installed after the mixed-case
versions were removed:

ESIEEcv d 15878 - - - - - - -
GS1 d 44822 - - - - - 22 -
Asana-Math d 50999 - - - - - 000.958 -
[...]
asana-math a - 59629 677363 02:49 02:52 main - -
[...]
esieecv a - 59638 139620 02:51 02:53 main - -
[...]
gs1 a - 59620 1070564 02:52 02:54 main - -


-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210620/60ec1210/attachment.html>

From norbert at preining.info  Mon Jun 21 02:40:33 2021
From: norbert at preining.info (Norbert Preining)
Date: Mon, 21 Jun 2021 09:40:33 +0900
Subject: Asana-Math message
In-Reply-To: <CAKTOP45qYf82_3vqBhTLgEh=t=2ybCyL=x+=OiwRP+dQib3mig@mail.gmail.com>
References: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
 <202106192147.15JLlxoY003159@freefriends.org>
 <CAGtK6=FsHYnU59LD2DjbJ=NKxzu9jjYkmXA3DavYSRh3g61-+A@mail.gmail.com>
 <C3B30043-8796-4FD3-BAE1-29D6E74C72F9@wideopenwest.com>
 <CAKTOP45qYf82_3vqBhTLgEh=t=2ybCyL=x+=OiwRP+dQib3mig@mail.gmail.com>
Message-ID: <YM/gAaLydVdDjq/7@bulldog.preining.info>

> On Windows, June 20th AM, using TeX Live Shell, lowercase packages were
> installed after the mixed-case versions were removed:

This is independent of Windows, tlmgr first does removals, then normal
package updates, then new package installs, then collection and scheme
updates.

This is to deal with moving files, renaming packages, and stateless
update/remove/new install.

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From herbs at wideopenwest.com  Mon Jun 21 03:03:55 2021
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Sun, 20 Jun 2021 20:03:55 -0500
Subject: Asana-Math message
In-Reply-To: <YM/gAaLydVdDjq/7@bulldog.preining.info>
References: <CAGtK6=Fm13CGvbRP7i=4NWKrBscjVWt7fxNnVeq7pWdOG=WyuA@mail.gmail.com>
 <202106192147.15JLlxoY003159@freefriends.org>
 <CAGtK6=FsHYnU59LD2DjbJ=NKxzu9jjYkmXA3DavYSRh3g61-+A@mail.gmail.com>
 <C3B30043-8796-4FD3-BAE1-29D6E74C72F9@wideopenwest.com>
 <CAKTOP45qYf82_3vqBhTLgEh=t=2ybCyL=x+=OiwRP+dQib3mig@mail.gmail.com>
 <YM/gAaLydVdDjq/7@bulldog.preining.info>
Message-ID: <687F54DC-1EBB-4D8B-A0DA-299749A4A96C@wideopenwest.com>



> On Jun 20, 2021, at 7:40 PM, Norbert Preining <norbert at preining.info> wrote:
> 
>> On Windows, June 20th AM, using TeX Live Shell, lowercase packages were
>> installed after the mixed-case versions were removed:
> 
> This is independent of Windows, tlmgr first does removals, then normal
> package updates, then new package installs, then collection and scheme
> updates.
> 
> This is to deal with moving files, renaming packages, and stateless
> update/remove/new install.
> 
> Norbert
> 

Howdy,

In this case the install/update came the day before the deletion. Since the OS is case-insensitive the update did nothing. The next day the deletion removed the Asana-Math that was there. With ESIEEcv the both happened on the same day in the correct order.

Good Luck,

Herb Schulz
herbs at wideopenwest.com




From cursus.publicus at sacrumromanumimperium.org  Mon Jun 21 19:58:40 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Mon, 21 Jun 2021 19:58:40 +0200
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <24782.38021.792701.87986@gargle.gargle.HOWL>
References: <00455677-2261-5528-0be5-8cccb9302f9d@sacrumromanumimperium.org>
 <202106192210.15JMAUEi006314@freefriends.org>
 <24782.38021.792701.87986@gargle.gargle.HOWL>
Message-ID: <95fc44a0-cfcf-2fe3-c7b9-95ab886a986c@sacrumromanumimperium.org>

Hello Reinhard,

Reinhard Kotucha schrieb am 20.06.2021 um 03:06:

> I've compiled an x86_64 binary from the current sources:
> 
>    http://ms25.ddns.net/texlive/x86_64/pdftex.gz
> 
> Andreas, you have to re-create the format file with the new binary on
> the server.  It's not done by tlmgr automaticly.

A short question for understanding:

This new binary replaces the binary in \texlive\bin\x86_64-linux (this 
means for me the 'linux-binary') and this pdftex will create correct 
(system-independent) for linux and win32?

Thanks,
Andreas

From reinhard.kotucha at web.de  Mon Jun 21 22:00:14 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 21 Jun 2021 22:00:14 +0200
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <95fc44a0-cfcf-2fe3-c7b9-95ab886a986c@sacrumromanumimperium.org>
References: <00455677-2261-5528-0be5-8cccb9302f9d@sacrumromanumimperium.org>
 <202106192210.15JMAUEi006314@freefriends.org>
 <24782.38021.792701.87986@gargle.gargle.HOWL>
 <95fc44a0-cfcf-2fe3-c7b9-95ab886a986c@sacrumromanumimperium.org>
Message-ID: <24784.61390.675068.283396@gargle.gargle.HOWL>

On 2021-06-21 at 19:58:40 +0200, Andreas Hirsch wrote:

 > Hello Reinhard,
 >
 > Reinhard Kotucha schrieb am 20.06.2021 um 03:06:
 >
 > > I've compiled an x86_64 binary from the current sources:
 > >
 > >    http://ms25.ddns.net/texlive/x86_64/pdftex.gz
 > >
 > > Andreas, you have to re-create the format file with the new binary on
 > > the server.  It's not done by tlmgr automaticly.
 >
 > A short question for understanding:
 >
 > This new binary replaces the binary in \texlive\bin\x86_64-linux (this
 > means for me the 'linux-binary') and this pdftex will create correct
 > (system-independent) for linux and win32?

Hi Andreas,
sorry for the unclear directory name

  http://ms25.ddns.net/texlive/x86_64/pdftex.gz
  http://ms25.ddns.net/texlive/x86_64/pdftex.gz.sha256

looks better.

Yes, it replaces /texlive/bin/x86_64-linux/pdftex (with forward
slashes ;)

I've compiled it from the sources in TeX Live svn.  If the bug is
fixed now it should create system-independent format files.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From reinhard.kotucha at web.de  Mon Jun 21 22:06:52 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 21 Jun 2021 22:06:52 +0200
Subject: [PATCH] Fix stuff I broke -- part 2 (was: Re: Format file
 differences)
In-Reply-To: <24784.61390.675068.283396@gargle.gargle.HOWL>
References: <00455677-2261-5528-0be5-8cccb9302f9d@sacrumromanumimperium.org>
 <202106192210.15JMAUEi006314@freefriends.org>
 <24782.38021.792701.87986@gargle.gargle.HOWL>
 <95fc44a0-cfcf-2fe3-c7b9-95ab886a986c@sacrumromanumimperium.org>
 <24784.61390.675068.283396@gargle.gargle.HOWL>
Message-ID: <24784.61788.841201.647129@gargle.gargle.HOWL>

On 2021-06-21 at 22:00:14 +0200, Reinhard Kotucha wrote:

 >   http://ms25.ddns.net/texlive/x86_64/pdftex.gz
 >   http://ms25.ddns.net/texlive/x86_64/pdftex.gz.sha256

should be

   http://ms25.ddns.net/texlive/x86_64-linux/pdftex.gz
   http://ms25.ddns.net/texlive/x86_64-linux/pdftex.gz.sha256

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From bauermann at kolabnow.com  Wed Jun 23 08:08:52 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Wed, 23 Jun 2021 03:08:52 -0300
Subject: circular dependency when building LaTeX?
Message-ID: <1854114.4fjh8Z6hPN@popigai>

Hello,

[ Please keep me on Cc: since I?m not subscribed to this list. ]

I?m trying to update the TeX Live version in Guix? to 2021. I?m running 
into an issue and I?d appreciate if someone could offer some advice.

When trying to build texlive-latex-base, it complains that ?! LaTeX 
requires expl3?. I then add texlive-latex-l3kernel as a build dependency, 
but that just makes the Guix build system go crazy because (at least on 
Guix), texlive-latex-l3kernel uses LaTeX to run `source/latex/l3kernel/
l3.ins`.

Is this circular build dependency (LaTeX ? l3kernel ? LaTeX) real? If not, 
how do I undo this circle?

If it is real, what is the recommended approach to build LaTeX from 
scratch?

I tried using LaTeX from TeX Live 2020 (but running on top of TeX from TeX 
Live 2021 to minimize build steps) to build texlive-latex-l3kernel. It 
appears to work (since the build of texlive-latex-l3kernel completes), but 
during the build of texlive-latex-base I get errors such as:

! Undefined control sequence.
l.2633 \NewDocumentCommand
                           \NewHook             { m }{ \hook_new:n {#1} }

during fmtutil?s remake of latex formats (such as mllatex, lualatex and 
latex).

-- 
Thanks,
Thiago

? https://guix.gnu.org/





From phe.h.o1 at gmail.com  Wed Jun 23 15:40:16 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Wed, 23 Jun 2021 10:40:16 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <1854114.4fjh8Z6hPN@popigai>
References: <1854114.4fjh8Z6hPN@popigai>
Message-ID: <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>

Hi Thiago,

On Wed, Jun 23, 2021 at 10:30 AM Thiago Jung Bauermann via tex-live
<tex-live at tug.org> wrote:
>
> When trying to build texlive-latex-base, it complains that ?! LaTeX
> requires expl3?. I then add texlive-latex-l3kernel as a build dependency,
> but that just makes the Guix build system go crazy because (at least on
> Guix), texlive-latex-l3kernel uses LaTeX to run `source/latex/l3kernel/
> l3.ins`.

Usually |.ins| files should be run with plain TeX, so |tex| or |pdftex|.
In fact, LaTeX has its own |format.ins|, which would be a LaTeX->LaTeX
circular dependency, so you need plain for that.

Phelype


From jfine2358 at gmail.com  Wed Jun 23 15:51:02 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 23 Jun 2021 14:51:02 +0100
Subject: circular dependency when building LaTeX?
In-Reply-To: <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
References: <1854114.4fjh8Z6hPN@popigai>
 <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
Message-ID: <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>

Phelype Oleinik wrote:

> Usually |.ins| files should be run with plain TeX, so |tex| or |pdftex|.
> In fact, LaTeX has its own |format.ins|, which would be a LaTeX->LaTeX
> circular dependency, so you need plain for that.
>

The original poster wrote

> I?m trying to update the TeX Live version in Guix? to 2021.


This sounds like there was something that worked for the 2020 TeX Live
sources, but doesn't work for the 2021 TeX Live sources.

Does anyone know, is there a publicly viewable automated build from the
2021 TeX Live sources? I have in mind  for example continuous integration
or github actions.

I think this PROVE that 2021 didn't introduce a circular dependency, and
also demonstrate how the original poster could avoid the problem they
reported.

I hope this helps.

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210623/36b1b3b6/attachment.html>

From joseph.wright at morningstar2.co.uk  Wed Jun 23 16:21:27 2021
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 23 Jun 2021 15:21:27 +0100
Subject: circular dependency when building LaTeX?
In-Reply-To: <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>
References: <1854114.4fjh8Z6hPN@popigai>
 <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
 <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>
Message-ID: <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>

On 23/06/2021 14:51, Jonathan Fine wrote:
> Phelype Oleinik wrote:
> 
>> Usually |.ins| files should be run with plain TeX, so |tex| or |pdftex|.
>> In fact, LaTeX has its own |format.ins|, which would be a LaTeX->LaTeX
>> circular dependency, so you need plain for that.
>>
> 
> The original poster wrote
> 
>> I?m trying to update the TeX Live version in Guix? to 2021.
> 
> 
> This sounds like there was something that worked for the 2020 TeX Live
> sources, but doesn't work for the 2021 TeX Live sources.
> 
> Does anyone know, is there a publicly viewable automated build from the
> 2021 TeX Live sources? I have in mind  for example continuous integration
> or github actions.

TeX Live and MiKTeX don't build LaTeX from sources, rather from the 
TDS-style material the team upload to CTAN. That already has the 
extraction done. However, of course we have to build those in the first 
place, and that is done routinely as the test suite for LaTeX runs in an 
isolated setup that doesn't pull in the standard TeX tree. We don't 
extract the expl3 code at the same time, but rather use a pre-extracted 
static version, such that the testing for LaTeX2e and for expl3 is 
independent. You can take a look at all of this if wish: it's all part 
of the setup in the GitHub repos for LaTeX (we use Travis-CI rather than 
GitHub Actions, but the idea is much the same).

Not that DocStrip, which ultimately does the extraction of .dtx sources, 
doesn't even need plain TeX: you can use docstrip.dtx with IniTeX to 
extract everything. If starting from scratch, you could extract both 
latex.ltx and expl3-code.tex (etc.) using

     pdftex <name>.ins

then add these together to build. However, it's a *lot* easier to use 
l3build to extract and install everything in whatever tree you wish - 
the build scripts 'know' which files to copy. Even that is likely 
overkill as, as I say, there are ready-to-install TDS-style zip files on 
CTAN.

(We of course have worried about the bootstrapping question, which is 
why DocStrip works with IniTeX and l3build doesn't rely on a .dtx for 
the Lua code, so l3build can be used directly to install DocStrip, then 
DocStrip can extract LaTeX and expl3, then a working system can be 
sorted out.)

Joseph


From jfine2358 at gmail.com  Wed Jun 23 17:46:13 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 23 Jun 2021 16:46:13 +0100
Subject: circular dependency when building LaTeX?
In-Reply-To: <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>
References: <1854114.4fjh8Z6hPN@popigai>
 <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
 <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>
 <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>
Message-ID: <CALD=Yf-S6V_OJOJ2cs==fjWuN6Lz_ZP3HcjgUALX_AfCuV9Xcg@mail.gmail.com>

Hi Joseph

Thank you for your prompt reply. You wrote:

You can take a look at all of this if wish: it's all part of the setup in
> the GitHub repos for LaTeX (we use Travis-CI rather than GitHub Actions,
> but the idea is much the same).
>

Thank you for the invitation. Please would you supply at least one URL
telling me (and the original poster) where this setup can be found. What
we're interested in, of course, is how CI builds from LaTeX sources the
LaTeX inputs used by texlive. (In other words, I think, the docstrip
transformation from .dtx to .sty etc.)

And well done for using both Git and Continuous Integration. Plus one for
reproducable automated testing.

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210623/cc1b4857/attachment.html>

From jfine2358 at gmail.com  Wed Jun 23 18:57:29 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 23 Jun 2021 17:57:29 +0100
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here or at
 tomorrow's TeX Hour)
Message-ID: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>

Hi

As well as being a version control system, Git is a distributed
peer-to-peer content addressable store. It's also efficient in its use of
network bandwidth and mass storage. And it uses multiple cores when
possible, so it's also quick. And it is, of course, widely used.

All this makes git a good foundation for rethinking CTAN and TeX Live. This
post explores this idea. We focus on git's use of PACKFILES to do
peer-to-peer file sharing.

When you clone a repository, the repository being cloned creates a single
git pack file (and associated index file perhaps), which is then sent to
the newly created local repository. From this, if required, the working
files are created.

If you do a pull from a source, the same process takes place, except that
the two repositories first do some negotiation to determine what should be
sent. And then as before a pack file is sent. And a push is similar.
(Actually, in both cases, it might be several pack files.) Rsync, used by
CTAN, also does peer-to-peer negotiation.

Here's an example a git pull

$ git clone git at github.com:jgm/pandoc.git
Cloning into 'pandoc'...
[snip]

$ ls -l pandoc/.git/objects/pack/
total 53480
-r--r--r-- 1 jfine jfine  2.8M Jun 23 17:12 pack-53640....idx
-r--r--r-- 1 jfine jfine 50M Jun 23 17:12 pack-53640....pack

And now I've got every version of every file in the history of pandoc (up
to the commit I pulled). That's not bad for 50M. (The index can be computed
from the pack. It speeds disc access.)

For GitLab the size limit is 10GB per repository. For GitHub the size limit
is about 5GB. Norbert Preining's git-svn mirror of TeX Live is about 40GB.

https://about.gitlab.com/blog/2015/04/08/gitlab-dot-com-storage-limit-raised-to-10gb-per-repo/
https://github.community/t/working-with-large-files-and-repositories/10203
https://texlive.info/

Let me end with a question. It's related to hosting TeX Live on GitHub and
GitLab.

First, consider all files in any version of TeX Live that are used by any
subscriber to this list as inputs to TeX or any of its associated programs.
(This definition is crafted to exclude documentation files. And files not
in TeX Live. It's the files in TeX Live that TeX or whatever inputs when
typesetting.)

Now for the question. Put all these files in a git pack file. How big will
that pack file be? Perhaps powers of 2 is the way to ask this. In other
words, at most 250M? At most 500M? At most 1G? At most 2G? At most 4G? At
most 8G? At most 16G? At most 32G? At most 64G? [Stop here because
Norbert's git-svn mirror provides 40G a bound.]

If we're at most 5GB then we can use both GitHub and GitLab to host these
files. And the TeX Collection / TeX Live could store this material as git
pack files. This would make the DVD a
https://en.wikipedia.org/wiki/Sneakernet for some TeX-related git
repositories.

Still here? Well done. I'll be discussing this, read-only file systems,
immutable OSes and related methods at tomorrow evening's TeX Hour.

When and where. Thursday 17 June, 6.30 to 7.30pm UK time. The UK time now
is at https://time.is/UK. The zoom details are
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Meeting ID: 785 5125 5396
Passcode: knuth

For the keen: READ-ONLY FILE SYSTEMS
https://en.wikipedia.org/wiki/Zero_Install
https://en.wikipedia.org/wiki/Snap_(package_manager)
https://archive.fosdem.org/2017/schedule/event/desktops_bundling_kde/
https://en.wikipedia.org/wiki/Flatpak

For the very keen: IMMUTABLE OSes
https://www.theregister.com/2021/06/16/systemd_249_release_candidate/
https://www.theregister.com/2021/04/01/systemd_248/
https://www.theregister.com/2021/02/18/kinoite_immutable_fedora/

Finally, video from last week's TeX Hour is available at
https://www.youtube.com/playlist?list=PLw1FZfIX1w7hwBDqZoii3eOtd-RMivznf

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210623/e637da0a/attachment-0001.html>

From hartmut_henkel at gmx.de  Wed Jun 23 19:37:05 2021
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Wed, 23 Jun 2021 19:37:05 +0200 (CEST)
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here
 or at tomorrow's TeX Hour)
In-Reply-To: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
References: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
Message-ID: <alpine.DEB.2.21.2106231917390.18844@hahepc1.hahe>

Hi Jonathan,

On Wed, 23 Jun 2021, Jonathan Fine wrote:
> As well as being a version control system, Git is a distributed
> peer-to-peer content addressable store. It's also efficient in its use
> of network bandwidth and mass storage. And it uses multiple cores when
> possible, so it's also quick. And it is, of course, widely used.
>
> All this makes git a good foundation for rethinking CTAN and TeX Live.
> This post explores this idea. We focus on git's use of PACKFILES to do
> peer-to-peer file sharing.

for source files Git seems to be the best solution imho. Looking into a
few projects, a Git repo with "normally behaved" contents and entire
history (!) has about the same size as an SVN directory tree with
current SVN backup files for just the latest revision (!). Projects or
collections of files or even audio files or images with a pack file size
of 12...14 GByte are no problem for Git, tried it, works nicely and
stably. But the many binaries for the many TeX Live target platforms
(with many working version updates) will quickly go far beyond this
amount... I guess that the method of binary storage would need to be
done differently for TeX Live... Different Gits for different types of
data... One Git per year for binaries...? There is some Git large file
storage (never tried). In comparison SVN seems to stash the binaries
away in the main server, where the data pile grows and grows,
presumably...

Best Regards, Hartmut

P.S. Thanks to Patrick Gundlach for his nice Git talk in Bohinj back in
2008. That was a good starter! :-)



From joseph.wright at morningstar2.co.uk  Wed Jun 23 21:12:42 2021
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 23 Jun 2021 20:12:42 +0100
Subject: circular dependency when building LaTeX?
In-Reply-To: <CALD=Yf-S6V_OJOJ2cs==fjWuN6Lz_ZP3HcjgUALX_AfCuV9Xcg@mail.gmail.com>
References: <1854114.4fjh8Z6hPN@popigai>
 <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
 <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>
 <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>
 <CALD=Yf-S6V_OJOJ2cs==fjWuN6Lz_ZP3HcjgUALX_AfCuV9Xcg@mail.gmail.com>
Message-ID: <a8957b6f-5f4c-950d-530c-8e3e3305326c@morningstar2.co.uk>

On 23/06/2021 16:46, Jonathan Fine wrote:
> Hi Joseph
> 
> Thank you for your prompt reply. You wrote:
> 
> You can take a look at all of this if wish: it's all part of the setup in
>> the GitHub repos for LaTeX (we use Travis-CI rather than GitHub Actions,
>> but the idea is much the same).
>>
> 
> Thank you for the invitation. Please would you supply at least one URL
> telling me (and the original poster) where this setup can be found. What
> we're interested in, of course, is how CI builds from LaTeX sources the
> LaTeX inputs used by texlive. (In other words, I think, the docstrip
> transformation from .dtx to .sty etc.)

The LaTeX2e repo is at https://github.com/latex3/latex2e/.

Everything there is done by scripting using l3build, so there is no 
simple line saying "pdftex l3.ins" or similar.

Joseph

From yvon.henel at yvon-henel.fr  Wed Jun 23 19:27:58 2021
From: yvon.henel at yvon-henel.fr (Yvon Henel)
Date: Wed, 23 Jun 2021 19:27:58 +0200
Subject: error in tlmgr today
Message-ID: <e9895fab-47ee-03bf-de83-e17d0c7887c8@yvon-henel.fr>

hello all

below what I obtained today when using
tlmgr update --self --all


tlmgr: inconsistency on (one of) the server(s): 
https://mirrors.ircam.fr/pub/CTAN/systems/texlive/tlnet
tlmgr: tlp for package IEEEtran cannot be found, please report.

I hope I'm using the correct means to make the report.

-- 
Yvon Henel

From norbert at preining.info  Wed Jun 23 21:33:26 2021
From: norbert at preining.info (Norbert Preining)
Date: Thu, 24 Jun 2021 04:33:26 +0900
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here
 or at tomorrow's TeX Hour)
In-Reply-To: <CALD=Yf_h102V_Lxx62fh7wzm_L34nn-=5CT8xnh91ZcgirUACg@mail.gmail.com>
 <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
Message-ID: <YNOMhvUTl6WQn1Bf@NP-U9310.g01.fujitsu.com>

Hi Jonathan,

> Now for the question. Put all these files in a git pack file. How big will
> that pack file be? Perhaps powers of 2 is the way to ask this. In other

I guess one can try that out by git cloning my git-svn repo with
	git clone --depth 1 --branch trunk ...
that should only fetch one release of all the files.

> If we're at most 5GB then we can use both GitHub and GitLab to host these
> files. And the TeX Collection / TeX Live could store this material as git

And we would need to push --force so that the history does not grow.

> Still here? Well done. I'll be discussing this, read-only file systems,
> immutable OSes and related methods at tomorrow evening's TeX Hour.

> When and where. Thursday 17 June, 6.30 to 7.30pm UK time. The UK time now

I guess it was 23 June. Anyway, it is over I guess. Too late for me to
contribute.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Wed Jun 23 22:06:04 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 23 Jun 2021 21:06:04 +0100
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here or
 at tomorrow's TeX Hour)
In-Reply-To: <YNOMhvUTl6WQn1Bf@NP-U9310.g01.fujitsu.com>
References: <CALD=Yf_h102V_Lxx62fh7wzm_L34nn-=5CT8xnh91ZcgirUACg@mail.gmail.com>
 <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
 <YNOMhvUTl6WQn1Bf@NP-U9310.g01.fujitsu.com>
Message-ID: <CALD=Yf9NWitzPOij0ZC6xAiY1cYMMoXRcc3YWm_QK=u-Mo2QcQ@mail.gmail.com>

Hi Norbert

Thank you for your interest and for spotting the typo. Tomorrow's TeX Hour
will be Thursday 24 June, at 6:30 to 7:30pm UK time. As that is at 2:30am
Japan time, I don't expect you'll be attending. But there will be video
available afterwards.

You wrote:

> I guess one can try that out by git cloning my git-svn repo with
>         git clone --depth 1 --branch trunk ...
> that should only fetch one release of all the files.
>

My set of files was defined to avoid documentation files, and files that
aren't used by anyone, and binary executables. In other words, only files
that are input by tex and similar programs for typesetting purposes (and
which lie in TeX Live), and which are used by members of this list.

So your suggestion of fetching a single release would not be minimal for
the purpose I have in mind.

 You also wrote:

And we would need to push --force so that the history does not grow.
>

We don't know that yet. It all depends on how big 'all useful texlive input
files' is, over the years.

And there need not be any history, and so no need to use --force! An
'orphan' commit has no parents. We can create as many of these as we wish!
Not just the usual first commit to the main branch.

https://git-scm.com/docs/git-checkout#Documentation/git-checkout.txt---orphanltnewbranchgt

Please recall that I'm intending in this thread to use git as a distributed
peer-to-peer content addressable store. I'll use its version control
features only as strictly required for these purposes.

You have a special importance to TeX Live. To allow us to talk, I'm happy
to schedule a future TeX Hour meeting at a time that suits you (as long it
also suits me).

best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210623/ff995aa5/attachment.html>

From beebe at math.utah.edu  Wed Jun 23 22:10:12 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Wed, 23 Jun 2021 14:10:12 -0600
Subject: error in tlmgr today
Message-ID: <CMM.0.96.0.1624479012.beebe@gamma.math.utah.edu>

Yvon Henel <yvon.henel at yvon-henel.fr> reports today

>> tlmgr: inconsistency on (one of) the server(s): 
>> https://mirrors.ircam.fr/pub/CTAN/systems/texlive/tlnet
>> tlmgr: tlp for package IEEEtran cannot be found, please report.

I can confirm that I got a similar failure from my home machine in
Salt Lake City, UT, USA, which gets its data from the North American
master mirror in my campus building:

    [ 1/15] auto-remove: IEEEtran ... done
    [ 2/15] auto-remove: IEEEconf ... done
    tlmgr: inconsistency on (one of) the server(s):
    http://ctan.math.utah.edu/tex-archive/systems/texlive/tlnet
    tlmgr: tlp for package IEEEtran cannot be found, please report.

Let's give it overnight for more mirror updates, and see if the
problem persists.

I checked our CTAN mirror logs, and found these entries for today:

    % grep -i ieeetran ctan.lo*
    ctan.log.2021.06.23.daily:systems/texlive/tlnet/archive/IEEEtran.r59678.tar.xz
    ctan.log.2021.06.23.daily:systems/texlive/tlnet/archive/IEEEtran.tar.xz -> IEEEtran.r59678.tar.xz
    ctan.log.2021.06.23.daily:systems/texlive/tlnet/archive/ieeetran.doc.r59672.tar.xz
    ctan.log.2021.06.23.daily:systems/texlive/tlnet/archive/ieeetran.doc.tar.xz -> ieeetran.doc.r59672.tar.xz
    ctan.log.2021.06.23.daily:systems/texlive/tlnet/archive/ieeetran.r59672.tar.xz
    ctan.log.2021.06.23.daily:systems/texlive/tlnet/archive/ieeetran.tar.xz -> ieeetran.r59672.tar.xz
    ctan.log.2021.06.23.daily:deleting systems/texlive/tlnet/archive/IEEEtran.r51065.tar.xz
    ctan.log.2021.06.23.daily:deleting systems/texlive/tlnet/archive/IEEEtran.doc.tar.xz
    ctan.log.2021.06.23.daily:deleting systems/texlive/tlnet/archive/IEEEtran.doc.r51065.tar.xz

That file was updated at 13:29 MDT (UK summer time - 7 hours) today,
about 40 minutes before writing this report.


-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From jfine2358 at gmail.com  Wed Jun 23 22:21:44 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 23 Jun 2021 21:21:44 +0100
Subject: error in tlmgr today
In-Reply-To: <e9895fab-47ee-03bf-de83-e17d0c7887c8@yvon-henel.fr>
References: <e9895fab-47ee-03bf-de83-e17d0c7887c8@yvon-henel.fr>
Message-ID: <CALD=Yf-=WkE9h6t5NcxpLM-K5cofcjwp0=FVaUgjBUPUnby9yg@mail.gmail.com>

Thank you for reporting this Yvon.

Out of curiosity I tried this out by hand, first by browser then then wget.
The time required for the following is interesting.

$ time wget https://mirrors.ircam.fr/pub/CTAN/macros/latex/contrib/
real 0m1.135s

$ time wget https://mirrors.ircam.fr/pub/CTAN/macros/latex/contrib/IEEEtran/
real 0m0.142s

The time for contrib is quite variable. I once got

$ time wget https://mirrors.ircam.fr/pub/CTAN/macros/latex/contrib/
real 0m3.559s

The time taken depends on the content of the filesystem cache on the
server. Via the browser all the files date back to 2015-08
https://mirrors.ircam.fr/pub/CTAN/macros/latex/contrib/IEEEtran/
-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210623/81d3ea70/attachment-0001.html>

From norbert at preining.info  Wed Jun 23 22:25:51 2021
From: norbert at preining.info (Norbert Preining)
Date: Thu, 24 Jun 2021 05:25:51 +0900
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here
 or at tomorrow's TeX Hour)
In-Reply-To: <CALD=Yf9NWitzPOij0ZC6xAiY1cYMMoXRcc3YWm_QK=u-Mo2QcQ@mail.gmail.com>
References: <CALD=Yf_h102V_Lxx62fh7wzm_L34nn-=5CT8xnh91ZcgirUACg@mail.gmail.com>
 <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
 <YNOMhvUTl6WQn1Bf@NP-U9310.g01.fujitsu.com>
 <CALD=Yf9NWitzPOij0ZC6xAiY1cYMMoXRcc3YWm_QK=u-Mo2QcQ@mail.gmail.com>
Message-ID: <YNOYzzQJNrSZPdhB@NP-U9310.g01.fujitsu.com>

Hi Jonathan,

> Thank you for your interest and for spotting the typo. Tomorrow's TeX Hour
> will be Thursday 24 June, at 6:30 to 7:30pm UK time. As that is at 2:30am

Ah, so that is in about 22h - maybe I can get up already, or I am awake
still, but probably not.

> My set of files was defined to avoid documentation files, and files that
> aren't used by anyone, and binary executables. In other words, only files

That is a very vague category and would not be useful besides for pure
typesetting tasks, but well, for your convenience I made an experiment:
- install all of TL
- remove from texmf-dist directory the documentation and source
  directories (doc, source)
- git init && git add . && git commit -m "initial commit"

After that I get a 2.3G .git directory


> We don't know that yet. It all depends on how big 'all useful texlive input
> files' is, over the years.

If it would be only the tex/mf etc input files that would be good, but
the biggest part nowadays are the font files which are binary blobs for
git.

> And there need not be any history, and so no need to use --force! An
> 'orphan' commit has no parents. We can create as many of these as we wish!
> Not just the usual first commit to the main branch.

Thanks, I know about that, but if we create multiple orphan commits the
repository will grow anyway over time, and with orphan commits even
worse.

(BTW, I have used git as distribution mechanism already several times
for other projects, I know how it works ;-)

> Please recall that I'm intending in this thread to use git as a distributed
> peer-to-peer content addressable store. I'll use its version control

The question is - what do you want to do with it afterwards? How would
this be actually used.

> to schedule a future TeX Hour meeting at a time that suits you (as long it

Best would probably be around 2pm for you which is 10pm for me. Other
slots are 10pm for you with is 6pm for me, or so ...

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Wed Jun 23 22:47:10 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 23 Jun 2021 14:47:10 -0600
Subject: error in tlmgr today
In-Reply-To: <e9895fab-47ee-03bf-de83-e17d0c7887c8@yvon-henel.fr>
Message-ID: <202106232047.15NKlAmE002621@freefriends.org>

    tlmgr: tlp for package IEEEtran cannot be found, please report.

Yes, I made a mistake in yesterday's updates (renaming to ieeetran)
resulting in this message. Fortunately it is harmless and all should be
restored (and IEEEtran deleted) after tonight's build.

    I hope I'm using the correct means to make the report.

Yes. --thanks, karl.

From bauermann at kolabnow.com  Wed Jun 23 23:37:34 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Wed, 23 Jun 2021 18:37:34 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
References: <1854114.4fjh8Z6hPN@popigai>
 <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
Message-ID: <2055046.O7fYM7QHbs@popigai>

Hi Phelype,

Em quarta-feira, 23 de junho de 2021, ?s 10:40:16 -03, Phelype Oleinik 
escreveu:
> Hi Thiago,
> 
> On Wed, Jun 23, 2021 at 10:30 AM Thiago Jung Bauermann via tex-live
> 
> <tex-live at tug.org> wrote:
> > When trying to build texlive-latex-base, it complains that ?! LaTeX
> > requires expl3?. I then add texlive-latex-l3kernel as a build
> > dependency, but that just makes the Guix build system go crazy because
> > (at least on Guix), texlive-latex-l3kernel uses LaTeX to run
> > `source/latex/l3kernel/ l3.ins`.
> 
> Usually |.ins| files should be run with plain TeX, so |tex| or |pdftex|.
> In fact, LaTeX has its own |format.ins|, which would be a LaTeX->LaTeX
> circular dependency, so you need plain for that.

Ah, that?s great to know. I think this information puts me in the right 
path. Thank you for your help.

One thing that threw me off is that in the Guix packaging, all .fmt files are 
in texlive-latex-base so one needs that package even to run plain TeX. :-/

I?ll see if I can distribute the .fmt files in a better way so that I can 
run pdftex or luatex on l3.ins.

-- 
Thanks,
Thiago




From bauermann at kolabnow.com  Wed Jun 23 23:40:24 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Wed, 23 Jun 2021 18:40:24 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>
References: <1854114.4fjh8Z6hPN@popigai>
 <CANfjC08e_+U8f90MMPEtu3FcTAu24qCc77Bgf7rGxAQz79QtqA@mail.gmail.com>
 <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>
Message-ID: <25804819.yvQFmyRPOA@popigai>

Hi Jonathan,

Em quarta-feira, 23 de junho de 2021, ?s 10:51:02 -03, Jonathan Fine 
escreveu:
> Phelype Oleinik wrote:
> > Usually |.ins| files should be run with plain TeX, so |tex| or
> > |pdftex|.
> > In fact, LaTeX has its own |format.ins|, which would be a LaTeX->LaTeX
> > circular dependency, so you need plain for that.
> 
> The original poster wrote
> 
> > I?m trying to update the TeX Live version in Guix? to 2021.
> 
> This sounds like there was something that worked for the 2020 TeX Live
> sources, but doesn't work for the 2021 TeX Live sources.

Yes, this worked with TeX Live 2020 that is currently packaged in Guix.

> Does anyone know, is there a publicly viewable automated build from the
> 2021 TeX Live sources? I have in mind  for example continuous integration
> or github actions.
> 
> I think this PROVE that 2021 didn't introduce a circular dependency, and
> also demonstrate how the original poster could avoid the problem they
> reported.

Good idea. I?ll first try Phelype?s suggestion and if that doesn?t work it 
will be useful to have CI build logs as a reference of what works.

> I hope this helps.

It does, thank you.

-- 
Thanks,
Thiago




From bauermann at kolabnow.com  Wed Jun 23 23:49:41 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Wed, 23 Jun 2021 18:49:41 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>
References: <1854114.4fjh8Z6hPN@popigai>
 <CALD=Yf8DdRU8EA0CL_DQ53ZMwQV++mJj7_TbJLFuD=-zY6QtCA@mail.gmail.com>
 <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>
Message-ID: <2032344.CxC4e1HUdF@popigai>

Hi Joseph,

Em quarta-feira, 23 de junho de 2021, ?s 11:21:27 -03, Joseph Wright 
escreveu:
> TeX Live and MiKTeX don't build LaTeX from sources, rather from the
> TDS-style material the team upload to CTAN. That already has the
> extraction done. However, of course we have to build those in the first
> place, and that is done routinely as the test suite for LaTeX runs in an
> isolated setup that doesn't pull in the standard TeX tree. We don't
> extract the expl3 code at the same time, but rather use a pre-extracted
> static version, such that the testing for LaTeX2e and for expl3 is
> independent. You can take a look at all of this if wish: it's all part
> of the setup in the GitHub repos for LaTeX (we use Travis-CI rather than
> GitHub Actions, but the idea is much the same).

This is great information, thank you for the detailed response. Guix has an 
emphasis on reproducibility and (IIUC) building things from scratch, so 
using pre-generated files doesn?t fit with that goal. It?s good to know where 
these generated files come from.

> Not that DocStrip, which ultimately does the extraction of .dtx sources,
> doesn't even need plain TeX: you can use docstrip.dtx with IniTeX to
> extract everything. If starting from scratch, you could extract both
> latex.ltx and expl3-code.tex (etc.) using
> 
>      pdftex <name>.ins

Awesome. I?m not very familiar with the TeX build system, so IniTeX is a 
new concept to me. I?ll look it up and see if I can use it then.

> then add these together to build. However, it's a *lot* easier to use
> l3build to extract and install everything in whatever tree you wish -
> the build scripts 'know' which files to copy. Even that is likely
> overkill as, as I say, there are ready-to-install TDS-style zip files on
> CTAN.

Using l3build sounds like a good idea. Do you know if it uses pre-generated 
files or if it can bring everything up from scratch?

> (We of course have worried about the bootstrapping question, which is
> why DocStrip works with IniTeX and l3build doesn't rely on a .dtx for
> the Lua code, so l3build can be used directly to install DocStrip, then
> DocStrip can extract LaTeX and expl3, then a working system can be
> sorted out.)

This is great! Thanks again for the in-depth information.

-- 
Thanks,
Thiago




From jfine2358 at gmail.com  Thu Jun 24 15:25:04 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Thu, 24 Jun 2021 14:25:04 +0100
Subject: Idea: How to get data streams into and out of a git pack file
Message-ID: <CALD=Yf93D_sGQt_sz0uL76mPphpcnsgmje5dCqMZRXPQgkmhuw@mail.gmail.com>

Hi

This is a follow up to my post yesterday, which introduced the large scale
basics of git pack files. This post is how to get data into git, and
retrieve it, without using git as a version control system. Here we
consider only one data stream at a time.

Here's yesterday's post (which contains the details for tonight's TeX Hour,
6:30pm UK time).
Idea: Git as basis for future CTAN and TeX Live.
https://tug.org/pipermail/tex-live/2021-June/047161.html

A BASIC EXAMPLE
Every file known to kpsewhich has a git hash, computed as follows.
$ kpsewhich story.tex
/usr/local/texlive/2019/texmf-dist/tex/plain/knuth-lib/story.tex
$ cat $(kpsewhich story.tex) | git hash-object --stdin
fcbaa4151af32191e6b3e35c90cea8af8ad8fa03

Let's store this data in a Content Addressable Store. First create the store
$ git init cas-example.git
Initialised empty Git repository in /home/jfine/cas-example.git/.git/
$ cd cas-example.git/

Now add the data to the store. The -w means write the file to the store.
cas-example.git $ cat $(kpsewhich story.tex) | git hash-object -w --stdin
fcbaa4151af32191e6b3e35c90cea8af8ad8fa03

Here's the data we just added
cas-example.git$ find .git/objects/ -type f
.git/objects/fc/baa4151af32191e6b3e35c90cea8af8ad8fa03

Now let's get the data back again. We use the git hash as the key.
cas-example.git$ git cat-file -p fcbaa4151af32191e6b3e35c90cea8af8ad8fa03
\hrule
\vskip 1in
\centerline{\bf A SHORT STORY}
\vskip 6pt
\centerline{\sl    by A. U. Thor} % !`?`?! (modified)
\vskip .5cm
Once upon a time, in a distant
  galaxy called \"O\"o\c c,
there lived a computer
named R.~J. Drofnats.

Mr.~Drofnats---or ``R. J.,'' as
he preferred to be called---% error has been fixed!
was happiest when he was at work
typesetting beautiful documents.
\vskip 1in
\hrule
\vfill\eject

DISCUSSION
>From \input story.tex, TeX obtains an input stream. In TeX Live there are
two steps. The first step is to use kpsewhich to produce a file path to the
data stream. The second step is to open the file for reading. This is the
input stream that TeX reads.

This process relies on the data to be streamed being available in a local
store (or otherwise). That local store is here a part of the ordinary
filesystem on the computer.

Here's another way to resolve \input story.tex into an input stream. It
requires some preparation up-front (as does kpsewhich - the lsR database).
First we store all the data we wish to stream in a git content addressable
store. Second, we create a database with entries such as
story.tex fcbaa4151af32191e6b3e35c90cea8af8ad8fa03

This second database is analogous to the ls-R database. By the way, git can
store this database as a tree object, which has a git hash of its own.

It's important to note that the data is decompressed on the fly. And that
because stored at the git hash, there's no duplication of data. Thus, two
trees with only a few changed files can be stored together efficiently.

Expert users will know that kpsewhich can modify its search depending on
the 'engine', such as tex, pdftex, latex, luatex. This can be accommodated
by having the engine as the parent tree entry. Indeed, one can even use the
release year as a grandparent. This would all ALL DATA FILES for ALL
ENGINES and ALL YEARS to be stored in a single git repository.

The command line samples above could be extended to produce such a
repository and associated year-engine-kpsewhich access trees.

We don't yet know how big this single git repository will be. My immediate
estimate is 10 GB, of which 5 GB will be fonts. Recall that about 5GB is
the repository size limit on Github.

Further work would be required to support random access to a data stream. I
don't know which programs in the TeX suite use such random access, and when.

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210624/352bd309/attachment.html>

From yegor256 at gmail.com  Thu Jun 24 18:55:16 2021
From: yegor256 at gmail.com (Yegor Bugayenko)
Date: Thu, 24 Jun 2021 19:55:16 +0300
Subject: PDF file misplaced in my package, please help
Message-ID: <CAHLsC58VuO8V6KNL+QfVdWHvuvU5_G2gJvSojfHqEBiZ5Zeiww@mail.gmail.com>

Hi all,

I need your help with the package I recently released to CTAN:
https://ctan.org/pkg/huawei

There is a file "cover-picture.pdf," which stays next to the "huawei.cls"
file. However, when I install the package with "tlmgr," the file is placed
into the "texmf-dist/doc/latex" directory, while the ".cls" file goes to
the "texmf-dist/tex/latex" directory.

I need this specific ".pdf" file to stay right next to "huawei.cls."

What should I do?

Best,
Yegor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210624/0d232461/attachment.html>

From bauermann at kolabnow.com  Thu Jun 24 23:14:08 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Thu, 24 Jun 2021 18:14:08 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <2032344.CxC4e1HUdF@popigai>
References: <1854114.4fjh8Z6hPN@popigai>
 <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>
 <2032344.CxC4e1HUdF@popigai>
Message-ID: <6592053.Gh0o416pDB@popigai>

Em quarta-feira, 23 de junho de 2021, ?s 18:49:41 -03, Thiago Jung 
Bauermann escreveu:
> Hi Joseph,
> 
> Em quarta-feira, 23 de junho de 2021, ?s 11:21:27 -03, Joseph Wright
> 
> escreveu:
> > Not that DocStrip, which ultimately does the extraction of .dtx
> > sources,
> > doesn't even need plain TeX: you can use docstrip.dtx with IniTeX to
> > extract everything. If starting from scratch, you could extract both
> > latex.ltx and expl3-code.tex (etc.) using
> > 
> >      pdftex <name>.ins
> 
> Awesome. I?m not very familiar with the TeX build system, so IniTeX is a
> new concept to me. I?ll look it up and see if I can use it then.

This worked! I used `pdftex -ini <name>.ins` and the package texlive-latex-
l3kernel is generated correctly. Thanks!

Now I?m seeing some errors during the build of texlive-latex-base itself, 
about ?! Undefined control sequence \NewDocumentCommand? when remaking the 
pdflatex format. I?m probably missing some file(s) with control sequence 
definitions. I?ll check out l3build and the CI logs to see if I can find some 
hints.

-- 
Thanks,
Thiago




From phe.h.o1 at gmail.com  Thu Jun 24 23:25:29 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Thu, 24 Jun 2021 18:25:29 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <6592053.Gh0o416pDB@popigai>
References: <1854114.4fjh8Z6hPN@popigai>
 <7b339ffd-6936-c194-977c-8dcd15415f70@morningstar2.co.uk>
 <2032344.CxC4e1HUdF@popigai> <6592053.Gh0o416pDB@popigai>
Message-ID: <CANfjC0_8bf+Xb_DNZFrFJ=bn5-1QJ2rWrkTMMW=SY9A3_PEWQA@mail.gmail.com>

Hi Thiago,

On Thu, Jun 24, 2021 at 6:14 PM Thiago Jung Bauermann
<bauermann at kolabnow.com> wrote:
>
> This worked! I used `pdftex -ini <name>.ins` and the package texlive-latex-
> l3kernel is generated correctly. Thanks!

Great!

> Now I?m seeing some errors during the build of texlive-latex-base itself,
> about ?! Undefined control sequence \NewDocumentCommand? when remaking the

That should mean two things:

> pdflatex format. I?m probably missing some file(s) with control sequence
> definitions. I?ll check out l3build and the CI logs to see if I can find some
> hints.

That probably means two things:
  1) you don't have the most recent LaTeX.  The 2020-06-01 release has
     |\NewDocumentCommand| built-in, so it should not be undefined.
  2) you don't have the |l3packages| CTAN package (which contains
     |xparse.sty|, which defined |\NewDocumentCommand| until recently).

Either updating or installing |l3packages| should fix the problem.

Phelype


From bauermann at kolabnow.com  Fri Jun 25 04:48:42 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Thu, 24 Jun 2021 23:48:42 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <CANfjC0_8bf+Xb_DNZFrFJ=bn5-1QJ2rWrkTMMW=SY9A3_PEWQA@mail.gmail.com>
References: <1854114.4fjh8Z6hPN@popigai> <6592053.Gh0o416pDB@popigai>
 <CANfjC0_8bf+Xb_DNZFrFJ=bn5-1QJ2rWrkTMMW=SY9A3_PEWQA@mail.gmail.com>
Message-ID: <3854960.USuVYUzzYe@popigai>

Hi Phelype,

Em quinta-feira, 24 de junho de 2021, ?s 18:25:29 -03, Phelype Oleinik 
escreveu:
> Hi Thiago,
> 
> On Thu, Jun 24, 2021 at 6:14 PM Thiago Jung Bauermann
> 
> <bauermann at kolabnow.com> wrote:
> > This worked! I used `pdftex -ini <name>.ins` and the package
> > texlive-latex- l3kernel is generated correctly. Thanks!
> 
> Great!
> 
> > Now I?m seeing some errors during the build of texlive-latex-base
> > itself, about ?! Undefined control sequence \NewDocumentCommand? when
> > remaking the
> That should mean two things:
> > pdflatex format. I?m probably missing some file(s) with control
> > sequence
> > definitions. I?ll check out l3build and the CI logs to see if I can
> > find some hints.
> 
> That probably means two things:
>   1) you don't have the most recent LaTeX.  The 2020-06-01 release has
> 
>      |\NewDocumentCommand| built-in, so it should not be undefined.
> 
>   2) you don't have the |l3packages| CTAN package (which contains
> 
>      |xparse.sty|, which defined |\NewDocumentCommand| until recently).
> 
> Either updating or installing |l3packages| should fix the problem.

Thanks! This helped me a lot. I was able to move past that error when I 
included texlive-latex-l3packages as a build dependency. Unfortunately now 
I get an error about not finding file ?xparse-generic.tex?. Looking at 
2021.1?s xparse.ins, there?s indeed no \generate statement for that file..

/me keeps digging.

-- 
Thanks,
Thiago




From bauermann at kolabnow.com  Fri Jun 25 04:54:22 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Thu, 24 Jun 2021 23:54:22 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <3854960.USuVYUzzYe@popigai>
References: <1854114.4fjh8Z6hPN@popigai>
 <CANfjC0_8bf+Xb_DNZFrFJ=bn5-1QJ2rWrkTMMW=SY9A3_PEWQA@mail.gmail.com>
 <3854960.USuVYUzzYe@popigai>
Message-ID: <3776059.2MpXkYWAIO@popigai>

Hi again Phelype,

Em quinta-feira, 24 de junho de 2021, ?s 23:48:42 -03, Thiago Jung 
Bauermann escreveu:
> Em quinta-feira, 24 de junho de 2021, ?s 18:25:29 -03, Phelype Oleinik
> 
> escreveu:
> > Hi Thiago,
> > 
> > On Thu, Jun 24, 2021 at 6:14 PM Thiago Jung Bauermann
> > 
> > <bauermann at kolabnow.com> wrote:
> > > This worked! I used `pdftex -ini <name>.ins` and the package
> > > texlive-latex- l3kernel is generated correctly. Thanks!
> > 
> > Great!
> > 
> > > Now I?m seeing some errors during the build of texlive-latex-base
> > > itself, about ?! Undefined control sequence \NewDocumentCommand? when
> > > remaking the
> > 
> > That should mean two things:
> > > pdflatex format. I?m probably missing some file(s) with control
> > > sequence
> > > definitions. I?ll check out l3build and the CI logs to see if I can
> > > find some hints.
> > 
> > That probably means two things:
> >   1) you don't have the most recent LaTeX.  The 2020-06-01 release has
> >   
> >      |\NewDocumentCommand| built-in, so it should not be undefined.

Sorry, forgot to comment about this in my previous email:

It?s strange that I get this error then, because the log file does mention 
that I?m using ?LaTeX2e <2020-10-01> patch level 4?

-- 
Thanks,
Thiago




From phe.h.o1 at gmail.com  Fri Jun 25 05:16:08 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Fri, 25 Jun 2021 00:16:08 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <3854960.USuVYUzzYe@popigai>
References: <1854114.4fjh8Z6hPN@popigai> <6592053.Gh0o416pDB@popigai>
 <CANfjC0_8bf+Xb_DNZFrFJ=bn5-1QJ2rWrkTMMW=SY9A3_PEWQA@mail.gmail.com>
 <3854960.USuVYUzzYe@popigai>
Message-ID: <987cbeac-65f6-771b-4e5e-dab61b9496a5@gmail.com>

Hi Thiago,

A bit of history (before I go to bed :)  Until the 2020-10-01 release of
the LaTeX kernel, |xparse.sty| was a package of its own and you had to
load that if you wanted |\NewDocumentCommand| and the like.  In the
2020-10-01 we (LaTeX team) started using xparse for a lot of kernel
commands (mostly for the hook management system, initially), so xparse
was preloaded in the kernel by inputting a |xparse.ltx| file that in the
end inputted a |xparse-generic.tex| that contained the bulk of the
xparse code.

This preloading proved to be quite a pain, so for the next release
(2021-06-01, released just a few days ago), we moved (almost) all the
xparse code completely to the kernel as |ltcmd|, so now it is _built-in_
to LaTeX, rather than preloaded.

So if you have a recent LaTeX, xparse (actually ltcmd nowadays) should
be built-in, thus no dependency.  If you have LaTeX 2020-10-01 (and this
version only), then you need |l3packages| as a dependency because LaTeX
loads xparse from there.  Then you said:

> It?s strange that I get this error then, because the log file does mention 
> that I?m using ?LaTeX2e <2020-10-01> patch level 4?

which is exactly the version that requires |l3packages| as a dependency.

> Thanks! This helped me a lot. I was able to move past that error when I
> included texlive-latex-l3packages as a build dependency. Unfortunately now
> I get an error about not finding file ?xparse-generic.tex?. Looking at
> 2021.1?s xparse.ins, there?s indeed no \generate statement for that file.

Due to the "great big xparse move"(TM) I mentioned above, the source
code of xparse is no longer in |l3packages|, but in |latex-base|, so
indeed, nothing is generated there.  There is, however, a frozen
|xparse-generic.tex| in that package that should do what you need, no?

Phelype

From bauermann at kolabnow.com  Fri Jun 25 06:50:03 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Fri, 25 Jun 2021 01:50:03 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <987cbeac-65f6-771b-4e5e-dab61b9496a5@gmail.com>
References: <1854114.4fjh8Z6hPN@popigai> <3854960.USuVYUzzYe@popigai>
 <987cbeac-65f6-771b-4e5e-dab61b9496a5@gmail.com>
Message-ID: <7294034.2M6JYPOUcD@popigai>

Hello Phelype,

Em sexta-feira, 25 de junho de 2021, ?s 00:16:08 -03, Phelype Oleinik 
escreveu:
> Hi Thiago,
> 
> A bit of history (before I go to bed :) 

Thanks! I really appreciate it.

> Until the 2020-10-01 release of
> the LaTeX kernel, |xparse.sty| was a package of its own and you had to
> load that if you wanted |\NewDocumentCommand| and the like.  In the
> 2020-10-01 we (LaTeX team) started using xparse for a lot of kernel
> commands (mostly for the hook management system, initially), so xparse
> was preloaded in the kernel by inputting a |xparse.ltx| file that in the
> end inputted a |xparse-generic.tex| that contained the bulk of the
> xparse code.
> 
> This preloading proved to be quite a pain, so for the next release
> (2021-06-01, released just a few days ago), we moved (almost) all the
> xparse code completely to the kernel as |ltcmd|, so now it is _built-in_
> to LaTeX, rather than preloaded.
> 
> So if you have a recent LaTeX, xparse (actually ltcmd nowadays) should
> be built-in, thus no dependency.  If you have LaTeX 2020-10-01 (and this
> version only), then you need |l3packages| as a dependency because LaTeX
> loads xparse from there.

This is interesting. It?s good to understand the context of what I?m 
seeing. Thanks for explaining it.

> Then you said:
> > It?s strange that I get this error then, because the log file does
> > mention that I?m using ?LaTeX2e <2020-10-01> patch level 4?
> 
> which is exactly the version that requires |l3packages| as a dependency.

Indeed. :-)
 
> > Thanks! This helped me a lot. I was able to move past that error when I
> > included texlive-latex-l3packages as a build dependency. Unfortunately
> > now I get an error about not finding file ?xparse-generic.tex?.
> > Looking at 2021.1?s xparse.ins, there?s indeed no \generate statement
> > for that file.
> Due to the "great big xparse move"(TM) I mentioned above, the source
> code of xparse is no longer in |l3packages|, but in |latex-base|, so
> indeed, nothing is generated there.

Ok.  I?m just a bit puzzled because I?m using checkouts from the svn tag 
?texlive-2021.1? to build everything. If latex-base from that tag needs 
xparse-generic.tex, shouldn?t it be generated by l3packages/xparse/
xparse.ins from that same tag?

> There is, however, a frozen
> 
> |xparse-generic.tex| in that package that should do what you need, no?

True. Is there a way for me to generate it, or do I have to copy it 
verbatim?

I also see a couple of xparse-<date>.sty. Their headers say that they were 
?generated from xparse.dtx [?] then adapted?. Does that mean that they were 
modified by hand after being generated by docstrip?

-- 
Thanks,
Thiago




From phe.h.o1 at gmail.com  Fri Jun 25 15:33:56 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Fri, 25 Jun 2021 10:33:56 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <7294034.2M6JYPOUcD@popigai>
References: <1854114.4fjh8Z6hPN@popigai> <3854960.USuVYUzzYe@popigai>
 <987cbeac-65f6-771b-4e5e-dab61b9496a5@gmail.com> <7294034.2M6JYPOUcD@popigai>
Message-ID: <00cd7050-d0e0-4c0a-3851-65cf2c0ac4fa@gmail.com>

On 6/25/21 01:50, Thiago Jung Bauermann wrote:>
> Ok.  I?m just a bit puzzled because I?m using checkouts from the svn tag
> ?texlive-2021.1? to build everything. If latex-base from that tag needs
> xparse-generic.tex, shouldn?t it be generated by l3packages/xparse/
> xparse.ins from that same tag?

It doesn't need to be _generated_, it just needs to exist.
|xparse-generic.tex| and the |xparse-<date>.sty| you mention are no
longer generated from |xparse.ins| because the development version moved
to |ltcmd.dtx| in latex-base.

Also, the |texlive-2020.1| tag is frozen and doesn't get any more
updates.  I'd recommend you use the |trunk| version (updated daily),
which has the newest LaTeX, that I mentioned.

>> There is, however, a frozen
>>
>> |xparse-generic.tex| in that package that should do what you need, no?
> 
> True. Is there a way for me to generate it, or do I have to copy it
> verbatim?

No, nowadays that file is frozen and won't change, so you'll have to
just copy it verbatim.

> I also see a couple of xparse-<date>.sty. Their headers say that they were
> ?generated from xparse.dtx [?] then adapted?. Does that mean that they were
> modified by hand after being generated by docstrip?

Exactly (I am the one to blame :-).  |xparse-generic.tex| was generated
then modified by hand, but I forgot to add a similar note on its header.

Phelype

From jfine2358 at gmail.com  Fri Jun 25 15:45:49 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Fri, 25 Jun 2021 14:45:49 +0100
Subject: circular dependency when building LaTeX?
In-Reply-To: <00cd7050-d0e0-4c0a-3851-65cf2c0ac4fa@gmail.com>
References: <1854114.4fjh8Z6hPN@popigai> <3854960.USuVYUzzYe@popigai>
 <987cbeac-65f6-771b-4e5e-dab61b9496a5@gmail.com> <7294034.2M6JYPOUcD@popigai>
 <00cd7050-d0e0-4c0a-3851-65cf2c0ac4fa@gmail.com>
Message-ID: <CALD=Yf8gX5gR3EMSpjMTCMFBk=Lp5t5DvJC-D39r2T9hm+3bHA@mail.gmail.com>

Hi

I think it better that this discussion be moved to
https://github.com/latex3/latex2e/issues.

As Joseph Wright pointed out earlier, tex-live uses resources provided by
the latex team, via CTAN. And this discussion is about understanding (and
perhaps improving) these resources.

Once the original problem has been solved, I'd be pleased to see a report
back (with a link to LaTeX issues) on this.

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210625/36eb6dfc/attachment.html>

From karl at freefriends.org  Sat Jun 26 00:02:46 2021
From: karl at freefriends.org (Karl Berry)
Date: Fri, 25 Jun 2021 16:02:46 -0600
Subject: PDF file misplaced in my package, please help
In-Reply-To: <CAHLsC58VuO8V6KNL+QfVdWHvuvU5_G2gJvSojfHqEBiZ5Zeiww@mail.gmail.com>
Message-ID: <202106252202.15PM2kUa031737@freefriends.org>

Hi Yegor,

    There is a file "cover-picture.pdf," [...]
    I need this specific ".pdf" file to stay right next to "huawei.cls."

    What should I do?

Writing to this list was the right thing to do.

However, for cover-picture.pdf to be in the runtime tree, it needs to be
renamed to huawei-cover-picture.pdf or similar, so as to be unique.
Please do that and reupload a new version to CTAN, and I'll update
accordingly. --thanks, karl.

From bauermann at kolabnow.com  Sat Jun 26 23:23:08 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Sat, 26 Jun 2021 18:23:08 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <00cd7050-d0e0-4c0a-3851-65cf2c0ac4fa@gmail.com>
References: <1854114.4fjh8Z6hPN@popigai> <7294034.2M6JYPOUcD@popigai>
 <00cd7050-d0e0-4c0a-3851-65cf2c0ac4fa@gmail.com>
Message-ID: <2568329.T74YczX80A@popigai>

Hello Phelype,

Em sexta-feira, 25 de junho de 2021, ?s 10:33:56 -03, Phelype Oleinik 
escreveu:
> On 6/25/21 01:50, Thiago Jung Bauermann wrote:>
> 
> > Ok.  I?m just a bit puzzled because I?m using checkouts from the svn
> > tag
> > ?texlive-2021.1? to build everything. If latex-base from that tag needs
> > xparse-generic.tex, shouldn?t it be generated by l3packages/xparse/
> > xparse.ins from that same tag?
> 
> It doesn't need to be _generated_, it just needs to exist.

Generating files during the build process is much preferred to using pre-
generated ones, because if one wants or needs to modify the software they 
are running, it?s much better to change the source file. Generated files are 
often too cumbersome or unintelligible to be modified. Perhaps that?s not 
the case for the xparse files specifically. I haven?t looked closely.

This isn?t just a theoretical concern. Guix has a mechanism called ?package 
transformations?? where the user can specify a patch to be applied to the 
package they are installing. Guix strives to make it easy for users to 
modify the software on their systems.

> |xparse-generic.tex| and the |xparse-<date>.sty| you mention are no
> 
> longer generated from |xparse.ins| because the development version moved
> to |ltcmd.dtx| in latex-base.
> 
> Also, the |texlive-2020.1| tag is frozen and doesn't get any more
> updates.  I'd recommend you use the |trunk| version (updated daily),
> which has the newest LaTeX, that I mentioned.

Interesting suggestion, thanks. Is trunk considered a stable version of the 
TeX Live distribution that can be relied upon by users?

> >> There is, however, a frozen
> >> 
> >> |xparse-generic.tex| in that package that should do what you need, no?
> > 
> > True. Is there a way for me to generate it, or do I have to copy it
> > verbatim?
> 
> No, nowadays that file is frozen and won't change, so you'll have to
> just copy it verbatim.

Ok, I will do that.

> > I also see a couple of xparse-<date>.sty. Their headers say that they
> > were ?generated from xparse.dtx [?] then adapted?. Does that mean that
> > they were modified by hand after being generated by docstrip?
> 
> Exactly (I am the one to blame :-).  |xparse-generic.tex| was generated
> then modified by hand, but I forgot to add a similar note on its header.

Ok, that makes it unrealistic to try to generate it during the build 
process. I?ll simply copy the versions that are in the CTAN package. As you 
mention, this is a temporary situation that will go away after 
texlive-2021.1, so the impact is limited.

-- 
Thanks,
Thiago


? https://guix.gnu.org/en/manual/devel/en/html_node/Package-Transformation-Options.html




From bauermann at kolabnow.com  Sat Jun 26 23:29:37 2021
From: bauermann at kolabnow.com (Thiago Jung Bauermann)
Date: Sat, 26 Jun 2021 18:29:37 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <CALD=Yf8gX5gR3EMSpjMTCMFBk=Lp5t5DvJC-D39r2T9hm+3bHA@mail.gmail.com>
References: <1854114.4fjh8Z6hPN@popigai>
 <00cd7050-d0e0-4c0a-3851-65cf2c0ac4fa@gmail.com>
 <CALD=Yf8gX5gR3EMSpjMTCMFBk=Lp5t5DvJC-D39r2T9hm+3bHA@mail.gmail.com>
Message-ID: <3782023.QoVjN1q5eD@popigai>

Hello Jonathan,

Em sexta-feira, 25 de junho de 2021, ?s 10:45:49 -03, Jonathan Fine 
escreveu:
> Hi
> 
> I think it better that this discussion be moved to
> https://github.com/latex3/latex2e/issues.
> 
> As Joseph Wright pointed out earlier, tex-live uses resources provided by
> the latex team, via CTAN. And this discussion is about understanding
> (and perhaps improving) these resources.
> 
> Once the original problem has been solved, I'd be pleased to see a report
> back (with a link to LaTeX issues) on this.

At the moment I don?t feel familiar enough with the Tex Live and LaTeX 
build processes and distribution practices to be able to make sensible 
suggestions. The issues I?m running into may well be that I?m not using 
best practices around packaging TeX Live in an OS distro.

Thanks to the help I?m receiving on this mailing list, I?ve been making 
progress though!

-- 
Thanks,
Thiago




From karl at freefriends.org  Sat Jun 26 23:48:52 2021
From: karl at freefriends.org (Karl Berry)
Date: Sat, 26 Jun 2021 15:48:52 -0600
Subject: circular dependency when building LaTeX?
In-Reply-To: <2568329.T74YczX80A@popigai>
Message-ID: <202106262148.15QLmqQu011440@freefriends.org>

    Interesting suggestion, thanks. Is trunk considered a stable version
    of the TeX Live distribution that can be relied upon by users?

The Master/ part of the TL source tree is the current runtime (TeX
files, etc.).  It can and should be considered the version to use, as
opposed to some arbitrarily old version. There is not really any such
thing as a "stable" version, because TeX is the joint effort of hundreds
of people working independently, uploading packages to CTAN.

Using the 2020.1 tag for your runtime is merely dooming your users to
having stale (and never-updated) versions of packages, not giving them
more stability. If anything, trunk is the most stable to use, because
new releases are often made to fix compatibility problems. This is more
true than ever this year, as the LaTeX core steadily makes changes
required for (ultimately) better accessibility, but which also require
changes on the part of many third-party packages.

The Build/ part of the TL source tree, on the other hand, is the
compiled sources. It is indeed better to use the 2020.1 tag of that
subtree for building your binaries, since that source tree does (as far
as we know) compile and work. The trunk version of the sources hopefully
compiles, but has usually barely been exercised. 

The tldistro at tug.org list (lists.tug.org/tldistro) is a list dedicated
to precisely the questions of adapting TL to a particular
system. Building formats, maps, etc., have all been discussed many times
(at least once per distro :). If questions persist, you might write
there, and/or check the archives there, etc. --best, karl.

From phe.h.o1 at gmail.com  Sun Jun 27 00:11:49 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Sat, 26 Jun 2021 19:11:49 -0300
Subject: circular dependency when building LaTeX?
In-Reply-To: <2568329.T74YczX80A@popigai>
References: <1854114.4fjh8Z6hPN@popigai> <7294034.2M6JYPOUcD@popigai>
 <00cd7050-d0e0-4c0a-3851-65cf2c0ac4fa@gmail.com> <2568329.T74YczX80A@popigai>
Message-ID: <d5001cc5-41b4-f9ee-1ccf-3be34a633417@gmail.com>

On 6/26/21 18:23, Thiago Jung Bauermann wrote:>
> Generating files during the build process is much preferred to using pre-
> generated ones, because if one wants or needs to modify the software they
> are running, it?s much better to change the source file. Generated files are
> often too cumbersome or unintelligible to be modified. Perhaps that?s not
> the case for the xparse files specifically. I haven?t looked closely.

Yes, having the source is usually preferred, indeed, but as I said
xparse-as-a-package is now frozen, so no changes will be applied to that
code.  Instead (most of) that same source was moved to the LaTeX kernel,
and development continues there.

> This isn?t just a theoretical concern. Guix has a mechanism called ?package
> transformations?? where the user can specify a patch to be applied to the
> package they are installing. Guix strives to make it easy for users to
> modify the software on their systems.

That sounds... dangerous :-)

I have no idea about Guix, so apologies if I'm nonsensing here, but this
mechanism seems (from what I understood) to allow you to select a
specific version of a package, but it rather uncommon that someone wants
to update their xparse alone.  Usually LaTeX users update packages when
they have some new feature, and then this new feature requires a newer
xparse, so usually a full upgrade is done, rather than a single package.

But that's going off on a tangent...

>> |xparse-generic.tex| and the |xparse-<date>.sty| you mention are no
>>
>> longer generated from |xparse.ins| because the development version moved
>> to |ltcmd.dtx| in latex-base.
>>
>> Also, the |texlive-2020.1| tag is frozen and doesn't get any more
>> updates.  I'd recommend you use the |trunk| version (updated daily),
>> which has the newest LaTeX, that I mentioned.
> 
> Interesting suggestion, thanks. Is trunk considered a stable version of the
> TeX Live distribution that can be relied upon by users?

Depends what you mean by stable.  Most regulars in this mailing list use
this version (which is what you get when you install vanilla TeX Live).
Others prefer to distribute older "frozen" versions, to the example of
Overleaf which is usually an year or so behind, but then you get users
trying to upgrade their packages as I mentioned above, and issues begin.

>>> I also see a couple of xparse-<date>.sty. Their headers say that they
>>> were ?generated from xparse.dtx [?] then adapted?. Does that mean that
>>> they were modified by hand after being generated by docstrip?
>>
>> Exactly (I am the one to blame :-).  |xparse-generic.tex| was generated
>> then modified by hand, but I forgot to add a similar note on its header.
> 
> Ok, that makes it unrealistic to try to generate it during the build
> process. I?ll simply copy the versions that are in the CTAN package. As you
> mention, this is a temporary situation that will go away after
> texlive-2021.1, so the impact is limited.

Good.  Generating these versions themselves was quite troublesome
because some are required to be loaded on top of the others, so baking a
source to generate them is not really practical.  I think these should
not give your version-picking mechanism too much trouble, hopefully :-)

Hope it helps,
Phelype

From norbert at preining.info  Sun Jun 27 02:21:15 2021
From: norbert at preining.info (Norbert Preining)
Date: Sun, 27 Jun 2021 09:21:15 +0900
Subject: circular dependency when building LaTeX?
In-Reply-To: <202106262148.15QLmqQu011440@freefriends.org>
References: <2568329.T74YczX80A@popigai>
 <202106262148.15QLmqQu011440@freefriends.org>
Message-ID: <YNfEeyrdNqrOxZuy@bulldog.preining.info>

I can only strongly support what Karl says ...

Master:
> more stability. If anything, trunk is the most stable to use, because

Build/source:
> compiled sources. It is indeed better to use the 2020.1 tag of that

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From yegor256 at gmail.com  Sun Jun 27 06:59:51 2021
From: yegor256 at gmail.com (Yegor Bugayenko)
Date: Sun, 27 Jun 2021 07:59:51 +0300
Subject: PDF file misplaced in my package, please help
In-Reply-To: <202106252202.15PM2kUa031737@freefriends.org>
References: <CAHLsC58VuO8V6KNL+QfVdWHvuvU5_G2gJvSojfHqEBiZ5Zeiww@mail.gmail.com>
 <202106252202.15PM2kUa031737@freefriends.org>
Message-ID: <CAHLsC5_DLBfy9sv7Uxz00OqcMr6ciYriB+sivUATrmb+fgHgPg@mail.gmail.com>

Karl,

I did what you suggested and uploaded the new version 0.7.0 to CTAN.
Please, take a look.

Best,
Yegor


On Sat, Jun 26, 2021 at 1:02 AM Karl Berry <karl at freefriends.org> wrote:

> Hi Yegor,
>
>     There is a file "cover-picture.pdf," [...]
>     I need this specific ".pdf" file to stay right next to "huawei.cls."
>
>     What should I do?
>
> Writing to this list was the right thing to do.
>
> However, for cover-picture.pdf to be in the runtime tree, it needs to be
> renamed to huawei-cover-picture.pdf or similar, so as to be unique.
> Please do that and reupload a new version to CTAN, and I'll update
> accordingly. --thanks, karl.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210627/854cc375/attachment.html>

From herbs at wideopenwest.com  Sun Jun 27 14:23:03 2021
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Sun, 27 Jun 2021 07:23:03 -0500
Subject: It happened again
Message-ID: <67647BB1-FB44-4392-A0B5-79C386B20800@wideopenwest.com>

Howdy,

It happened again the last two days. Yesterday there was an install of siunits. On OSs that are Case Independent, e.g., macOS, this really just updated SIunits. Today, SIunits was removed. Unfortunately, on Case Independent OSs that means that what was siunits is removed. There was no siunits on the system. Tlmgr still ``thinks'' it's there so I had to force a re-install. Not a big deal, but I'm sure there are folks that won't understand what happened.

Note: the problem occurs if removal run of tlmgr comes after the install by an earlier run of tlmgr. In the normal case, where they come on the same tlmgr handles the order fine. 

Good Luck,

Herb Schulz
herbs at wideopenwest.com




From usaonmonday at gmail.com  Sun Jun 27 06:17:09 2021
From: usaonmonday at gmail.com (Andrey Sotnikov)
Date: Sat, 26 Jun 2021 21:17:09 -0700
Subject: TeX Live Manager GUI shows Unicode codes instead of characters
Message-ID: <CAPb9TveZW=83=KFmHAqhYhQhWL-J2qfZJq8b+NLrsjMdK3OKjA@mail.gmail.com>

When I start tlmgr GUI (Linux platform), all text GUI elements have a form
of \x{NNN} instead of real text (picture attached).
[image: image.png]

I understand that this is Unicode code points instead of the real
characters. I tried

tlmgr gui -font "DejaVuSans 14"

same result. It also ignores LANGUAGE=en:en and LANG=en_US.UTF-8
environment settings.

How can I fix it?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210626/20a8efbd/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image.png
Type: image/png
Size: 44574 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210626/20a8efbd/attachment-0001.png>

From std300 at gmail.com  Sun Jun 27 19:58:27 2021
From: std300 at gmail.com (Patrick)
Date: Sun, 27 Jun 2021 19:58:27 +0200
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here or
 at tomorrow's TeX Hour)
In-Reply-To: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
References: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
Message-ID: <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>

(Sorry for the double post, Jonathan)

I used to mirror CTAN with a git repository (a commit of the current
status every day). It grew so big, that was completely unmaintainable.
Git was not suitable for that. I have not tried git large file
storage, but I doubt that it would have helped me. My goal was to
create a real archive, which CTAN, despite its name, is not.

That said, I think it would not take much change to CTAN to make it
more suitable for distributing as a Git repository.

Patrick

Am Mi., 23. Juni 2021 um 18:58 Uhr schrieb Jonathan Fine <jfine2358 at gmail.com>:
>
> Hi
>
> As well as being a version control system, Git is a distributed peer-to-peer content addressable store. It's also efficient in its use of network bandwidth and mass storage. And it uses multiple cores when possible, so it's also quick. And it is, of course, widely used.
>
> All this makes git a good foundation for rethinking CTAN and TeX Live. This post explores this idea. We focus on git's use of PACKFILES to do peer-to-peer file sharing.
>
> When you clone a repository, the repository being cloned creates a single git pack file (and associated index file perhaps), which is then sent to the newly created local repository. From this, if required, the working files are created.
>
> If you do a pull from a source, the same process takes place, except that the two repositories first do some negotiation to determine what should be sent. And then as before a pack file is sent. And a push is similar. (Actually, in both cases, it might be several pack files.) Rsync, used by CTAN, also does peer-to-peer negotiation.
>
> Here's an example a git pull
>
> $ git clone git at github.com:jgm/pandoc.git
> Cloning into 'pandoc'...
> [snip]
>
> $ ls -l pandoc/.git/objects/pack/
> total 53480
> -r--r--r-- 1 jfine jfine  2.8M Jun 23 17:12 pack-53640....idx
> -r--r--r-- 1 jfine jfine 50M Jun 23 17:12 pack-53640....pack
>
> And now I've got every version of every file in the history of pandoc (up to the commit I pulled). That's not bad for 50M. (The index can be computed from the pack. It speeds disc access.)
>
> For GitLab the size limit is 10GB per repository. For GitHub the size limit is about 5GB. Norbert Preining's git-svn mirror of TeX Live is about 40GB.
>
> https://about.gitlab.com/blog/2015/04/08/gitlab-dot-com-storage-limit-raised-to-10gb-per-repo/
> https://github.community/t/working-with-large-files-and-repositories/10203
> https://texlive.info/
>
> Let me end with a question. It's related to hosting TeX Live on GitHub and GitLab.
>
> First, consider all files in any version of TeX Live that are used by any subscriber to this list as inputs to TeX or any of its associated programs. (This definition is crafted to exclude documentation files. And files not in TeX Live. It's the files in TeX Live that TeX or whatever inputs when typesetting.)
>
> Now for the question. Put all these files in a git pack file. How big will that pack file be? Perhaps powers of 2 is the way to ask this. In other words, at most 250M? At most 500M? At most 1G? At most 2G? At most 4G? At most 8G? At most 16G? At most 32G? At most 64G? [Stop here because Norbert's git-svn mirror provides 40G a bound.]
>
> If we're at most 5GB then we can use both GitHub and GitLab to host these files. And the TeX Collection / TeX Live could store this material as git pack files. This would make the DVD a https://en.wikipedia.org/wiki/Sneakernet for some TeX-related git repositories.
>
> Still here? Well done. I'll be discussing this, read-only file systems, immutable OSes and related methods at tomorrow evening's TeX Hour.
>
> When and where. Thursday 17 June, 6.30 to 7.30pm UK time. The UK time now is at https://time.is/UK. The zoom details are
> https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
> Meeting ID: 785 5125 5396
> Passcode: knuth
>
> For the keen: READ-ONLY FILE SYSTEMS
> https://en.wikipedia.org/wiki/Zero_Install
> https://en.wikipedia.org/wiki/Snap_(package_manager)
> https://archive.fosdem.org/2017/schedule/event/desktops_bundling_kde/
> https://en.wikipedia.org/wiki/Flatpak
>
> For the very keen: IMMUTABLE OSes
> https://www.theregister.com/2021/06/16/systemd_249_release_candidate/
> https://www.theregister.com/2021/04/01/systemd_248/
> https://www.theregister.com/2021/02/18/kinoite_immutable_fedora/
>
> Finally, video from last week's TeX Hour is available at
> https://www.youtube.com/playlist?list=PLw1FZfIX1w7hwBDqZoii3eOtd-RMivznf
>
> --
> Jonathan
>
>
>
>
>
>
>
>


From henri at henrimenke.de  Sun Jun 27 21:02:13 2021
From: henri at henrimenke.de (Henri Menke)
Date: Sun, 27 Jun 2021 21:02:13 +0200
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here
 or at tomorrow's TeX Hour)
In-Reply-To: <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>
References: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
 <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>
Message-ID: <9b8be63c77768c1a917c08848eafbac4f845ce40.camel@henrimenke.de>

On Sun, 2021-06-27 at 19:58 +0200, Patrick wrote:
> (Sorry for the double post, Jonathan)
> 
> I used to mirror CTAN with a git repository (a commit of the current
> status every day). It grew so big, that was completely
> unmaintainable.
> Git was not suitable for that. I have not tried git large file
> storage, but I doubt that it would have helped me. My goal was to
> create a real archive, which CTAN, despite its name, is not.

Git LFS is not a good solution in my experience. There are a couple of
issues with the protocol, e.g. it only runs over HTTP not SSH.

The first thing to try would be to turn off Git's delta compression
which quickly becomes very problematic to uncompressible binary files
(of which there are a lot on CTAN).

??? git config core.bigFileThreshold 1

The other alternative would be to not track the file contents in Git at
all but instead only track the metadata and store the bare files on
disk unchanged. There is a tool for that called git-annex.

??? https://git-annex.branchable.com/

Finally, the last option could be to just use SVN which is what TeX
Live does. The reason why people use Git rather than SVN is because SVN
is pretty bad at branching and has to copy the entire worktree for each
branch, but on the other hand it is much better with large files and if
you are only tracking CTAN, there will probably be a linear history
with a single branch anyway.

Cheers, Henri

> 
> That said, I think it would not take much change to CTAN to make it
> more suitable for distributing as a Git repository.
> 
> Patrick
> 
> Am Mi., 23. Juni 2021 um 18:58 Uhr schrieb Jonathan Fine <
> jfine2358 at gmail.com>:
> > 
> > Hi
> > 
> > As well as being a version control system, Git is a distributed
> > peer-
> > to-peer content addressable store. It's also efficient in its use
> > of
> > network bandwidth and mass storage. And it uses multiple cores when
> > possible, so it's also quick. And it is, of course, widely used.
> > 
> > All this makes git a good foundation for rethinking CTAN and TeX
> > Live. This post explores this idea. We focus on git's use of
> > PACKFILES to do peer-to-peer file sharing.
> > 
> > When you clone a repository, the repository being cloned creates a
> > single git pack file (and associated index file perhaps), which is
> > then sent to the newly created local repository. From this, if
> > required, the working files are created.
> > 
> > If you do a pull from a source, the same process takes place,
> > except
> > that the two repositories first do some negotiation to determine
> > what
> > should be sent. And then as before a pack file is sent. And a push
> > is
> > similar. (Actually, in both cases, it might be several pack files.)
> > Rsync, used by CTAN, also does peer-to-peer negotiation.
> > 
> > Here's an example a git pull
> > 
> > $ git clone git at github.com:jgm/pandoc.git
> > Cloning into 'pandoc'...
> > [snip]
> > 
> > $ ls -l pandoc/.git/objects/pack/
> > total 53480
> > -r--r--r-- 1 jfine jfine? 2.8M Jun 23 17:12 pack-53640....idx
> > -r--r--r-- 1 jfine jfine 50M Jun 23 17:12 pack-53640....pack
> > 
> > And now I've got every version of every file in the history of
> > pandoc
> > (up to the commit I pulled). That's not bad for 50M. (The index can
> > be computed from the pack. It speeds disc access.)
> > 
> > For GitLab the size limit is 10GB per repository. For GitHub the
> > size
> > limit is about 5GB. Norbert Preining's git-svn mirror of TeX Live
> > is
> > about 40GB.
> > 
> > https://about.gitlab.com/blog/2015/04/08/gitlab-dot-com-storage-limit-raised-to-10gb-per-repo/
> > https://github.community/t/working-with-large-files-and-repositories/10203
> > https://texlive.info/
> > 
> > Let me end with a question. It's related to hosting TeX Live on
> > GitHub and GitLab.
> > 
> > First, consider all files in any version of TeX Live that are used
> > by
> > any subscriber to this list as inputs to TeX or any of its
> > associated
> > programs. (This definition is crafted to exclude documentation
> > files.
> > And files not in TeX Live. It's the files in TeX Live that TeX or
> > whatever inputs when typesetting.)
> > 
> > Now for the question. Put all these files in a git pack file. How
> > big
> > will that pack file be? Perhaps powers of 2 is the way to ask this.
> > In other words, at most 250M? At most 500M? At most 1G? At most 2G?
> > At most 4G? At most 8G? At most 16G? At most 32G? At most 64G?
> > [Stop
> > here because Norbert's git-svn mirror provides 40G a bound.]
> > 
> > If we're at most 5GB then we can use both GitHub and GitLab to host
> > these files. And the TeX Collection / TeX Live could store this
> > material as git pack files. This would make the DVD a 
> > https://en.wikipedia.org/wiki/Sneakernet?for some TeX-related git
> > repositories.
> > 
> > Still here? Well done. I'll be discussing this, read-only file
> > systems, immutable OSes and related methods at tomorrow evening's
> > TeX
> > Hour.
> > 
> > When and where. Thursday 17 June, 6.30 to 7.30pm UK time. The UK
> > time
> > now is at https://time.is/UK. The zoom details are
> > https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
> > Meeting ID: 785 5125 5396
> > Passcode: knuth
> > 
> > For the keen: READ-ONLY FILE SYSTEMS
> > https://en.wikipedia.org/wiki/Zero_Install
> > https://en.wikipedia.org/wiki/Snap_(package_manager)
> > https://archive.fosdem.org/2017/schedule/event/desktops_bundling_kde/
> > https://en.wikipedia.org/wiki/Flatpak
> > 
> > For the very keen: IMMUTABLE OSes
> > https://www.theregister.com/2021/06/16/systemd_249_release_candidate/
> > https://www.theregister.com/2021/04/01/systemd_248/
> > https://www.theregister.com/2021/02/18/kinoite_immutable_fedora/
> > 
> > Finally, video from last week's TeX Hour is available at
> > https://www.youtube.com/playlist?list=PLw1FZfIX1w7hwBDqZoii3eOtd-RMivznf
> > 
> > --
> > Jonathan
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> > 
> 




From siepo at bitmuis.nl  Sun Jun 27 22:46:26 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 27 Jun 2021 22:46:26 +0200
Subject: TeX Live Manager GUI shows Unicode codes instead of characters
In-Reply-To: <CAPb9TveZW=83=KFmHAqhYhQhWL-J2qfZJq8b+NLrsjMdK3OKjA@mail.gmail.com>
References: <CAPb9TveZW=83=KFmHAqhYhQhWL-J2qfZJq8b+NLrsjMdK3OKjA@mail.gmail.com>
Message-ID: <YNjjovbnBEYS/Vws@bitmuis.nl>

On Sat, Jun 26, 2021 at 09:17:09PM -0700, Andrey Sotnikov wrote:
> When I start tlmgr GUI (Linux platform), all text GUI elements have a form
> of \x{NNN} instead of real text (picture attached).
> [image: image.png]
> 
> I understand that this is Unicode code points instead of the real
> characters. I tried
> 
> tlmgr gui -font "DejaVuSans 14"

Perl/Tk takes font settings in the X resource database into account,
e.g. for your personal settings a line in ~/.Xresources

*Font: <some font specification>

Maybe something funny there?

As to language: it should be configurable from the GUI, but if that
is illegible then you can edit
~/.texlive2021/texmf-config/tlmgr/config yourself, e.g.:

gui-lang = en

-- 
Siep Kroonenberg

From karl at freefriends.org  Mon Jun 28 00:20:22 2021
From: karl at freefriends.org (Karl Berry)
Date: Sun, 27 Jun 2021 16:20:22 -0600
Subject: It happened again
In-Reply-To: <67647BB1-FB44-4392-A0B5-79C386B20800@wideopenwest.com>
Message-ID: <202106272220.15RMKMIU030110@freefriends.org>

    It happened again the last two days.

Yes, I seem to be running about 50/50 on whether I forget one of the
myriad steps in downcasing the package names :). Fortunately tlmgr has
been resistant to my mistakes and recovers after I fix it.

Thankfully, only one package to go ... --best, karl.

From norbert at preining.info  Mon Jun 28 02:01:49 2021
From: norbert at preining.info (Norbert Preining)
Date: Mon, 28 Jun 2021 09:01:49 +0900
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here
 or at tomorrow's TeX Hour)
In-Reply-To: <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>
References: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
 <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>
Message-ID: <YNkRbeEkzlsJR5Qz@bulldog.preining.info>

Hi Patrick

On Sun, 27 Jun 2021, Patrick wrote:
> I used to mirror CTAN with a git repository (a commit of the current
> status every day). It grew so big, that was completely unmaintainable.

That is what I am doing currently, and it is not that bad if you exclude
all the archives from git. My gitignore contains entries to ignore
	tar, zip, pkg, cab, jar, dmg, rpm, deb, tgz, iso, exe, cab
all *.$i and *.$i.*

That way, the checked out repo has about 60Gb (that is the .git and all
files actually checked out *and* containing all the archives above,
too!)

The raw repository is only about 12Gb, so that is not bad at all (but
the raw doesn't contain the archives from above).

But I stopped actually using it since the one-commit-per-day is not
really useful. If at some point we could arrange for
one-commit-per-package-update etc that would be very useful indeed.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From std300 at gmail.com  Mon Jun 28 08:41:03 2021
From: std300 at gmail.com (Patrick)
Date: Mon, 28 Jun 2021 08:41:03 +0200
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here or
 at tomorrow's TeX Hour)
In-Reply-To: <YNkRbeEkzlsJR5Qz@bulldog.preining.info>
References: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
 <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>
 <YNkRbeEkzlsJR5Qz@bulldog.preining.info>
Message-ID: <CAMYzUJvzVV92a2XZ1z_b0fEwgDZ-FZST5cE_keGGHmDbKw90aA@mail.gmail.com>

Am Mo., 28. Juni 2021 um 02:01 Uhr schrieb Norbert Preining
<norbert at preining.info>:

> That is what I am doing currently, and it is not that bad if you exclude
> all the archives from git. My gitignore contains entries to ignore
>         tar, zip, pkg, cab, jar, dmg, rpm, deb, tgz, iso, exe, cab
> all *.$i and *.$i.*

I think I should have done that, too.

I was also surprised how well git performs at the beginning (disk
space used and performance wise)

> But I stopped actually using it since the one-commit-per-day is not
> really useful. If at some point we could arrange for
> one-commit-per-package-update etc that would be very useful indeed.


I did the once per day to have a real snapshot of every single day in
the past. And since git only stores references of the files if the
files are unchanged, I didn't see daily commits as a problem.

Good luck! I'd really like to see the idea come to a real application.

Patrick

From siepo at bitmuis.nl  Mon Jun 28 09:34:47 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 28 Jun 2021 09:34:47 +0200
Subject: TeX Live Manager GUI shows Unicode codes instead of characters
In-Reply-To: <YNjjovbnBEYS/Vws@bitmuis.nl>
References: <CAPb9TveZW=83=KFmHAqhYhQhWL-J2qfZJq8b+NLrsjMdK3OKjA@mail.gmail.com>
 <YNjjovbnBEYS/Vws@bitmuis.nl>
Message-ID: <YNl7l/Afqjcry44s@bitmuis.nl>

On Sun, Jun 27, 2021 at 10:46:26PM +0200, Siep Kroonenberg wrote:
> On Sat, Jun 26, 2021 at 09:17:09PM -0700, Andrey Sotnikov wrote:
> > When I start tlmgr GUI (Linux platform), all text GUI elements have a form
> > of \x{NNN} instead of real text (picture attached).
> > [image: image.png]
> > 
> > I understand that this is Unicode code points instead of the real
> > characters. I tried
> > 
> > tlmgr gui -font "DejaVuSans 14"
> 
> Perl/Tk takes font settings in the X resource database into account,
> e.g. for your personal settings a line in ~/.Xresources
> 
> *Font: <some font specification>
> 
> Maybe something funny there?
> 
> As to language: it should be configurable from the GUI, but if that
> is illegible then you can edit
> ~/.texlive2021/texmf-config/tlmgr/config yourself, e.g.:
> 
> gui-lang = en

Relevant command-line parameters:

Language: e.g. '-gui-lang ru'

Font: e.g. '-font fixed'

Keep in mind that Perl/Tk is antique, so some font specifications
may not be supported. quote the old many-parameter X11 font
specifications.

-- 
Siep Kroonenberg

From manfred at dante.de  Mon Jun 28 10:28:24 2021
From: manfred at dante.de (Manfred Lotz)
Date: Mon, 28 Jun 2021 10:28:24 +0200
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here
 or at tomorrow's TeX Hour)
In-Reply-To: <CAMYzUJvzVV92a2XZ1z_b0fEwgDZ-FZST5cE_keGGHmDbKw90aA@mail.gmail.com>
References: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
 <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>
 <YNkRbeEkzlsJR5Qz@bulldog.preining.info>
 <CAMYzUJvzVV92a2XZ1z_b0fEwgDZ-FZST5cE_keGGHmDbKw90aA@mail.gmail.com>
Message-ID: <20210628102824.781e9167@hogwart>

On Mon, 28 Jun 2021 08:41:03 +0200
Patrick <std300 at gmail.com> wrote:

> Am Mo., 28. Juni 2021 um 02:01 Uhr schrieb Norbert Preining
> <norbert at preining.info>:
> 
> > That is what I am doing currently, and it is not that bad if you
> > exclude all the archives from git. My gitignore contains entries to
> > ignore tar, zip, pkg, cab, jar, dmg, rpm, deb, tgz, iso, exe, cab
> > all *.$i and *.$i.*  
> 
> I think I should have done that, too.
> 
> I was also surprised how well git performs at the beginning (disk
> space used and performance wise)
> 
> > But I stopped actually using it since the one-commit-per-day is not
> > really useful. If at some point we could arrange for
> > one-commit-per-package-update etc that would be very useful indeed.
> >  
> 
> 
> I did the once per day to have a real snapshot of every single day in
> the past. And since git only stores references of the files if the
> files are unchanged, I didn't see daily commits as a problem.
> 
> Good luck! I'd really like to see the idea come to a real application.
> 

When I could download your whole repository (I believe this was in year
2018) I created a git archive of the whole texarchive where the
gitignore looks like follows

systems/texlive
systems/mac/mactex
systems/win32/miktex
systems/win32/protext
systems/win32/w32tex 

# symlinks
systems/protext
systems/windows

.zipped



We had still no time to incorporate a `git commit` into various scripts
which are used to put content into the texarchive. This is the reason
that we do a daily commit only.


So the current git repository of the texarchive

- has a size of 85GB  (I mean the .git tree)
- contains 3026 daily commits


The oldest commits are

    2012-06-24
    2011-07-25
    2010-09-26
    2009-11-22
    2008-08-31
    2007-09-28


Starting  in 2013-03-17 we have more or less all days covered



comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2013-' |
289
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2014-' |
wc -l 362
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2015-' |
wc -l 363
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2016-' |
wc -l 366
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2017-' |
wc -l 365
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2018-' |
wc -l 365
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2019-' |
wc -l 365
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2020-' |
wc -l 366
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2021-' |
wc -l 179


-- 
Manfred







From manfred at dante.de  Mon Jun 28 10:41:05 2021
From: manfred at dante.de (Manfred Lotz)
Date: Mon, 28 Jun 2021 10:41:05 +0200
Subject: Idea: Git as basis for future CTAN and TeX Live. (Discuss here
 or at tomorrow's TeX Hour)
In-Reply-To: <20210628102824.781e9167@hogwart>
References: <CALD=Yf9Ssk-qXFVn_JDntPBVnLFn61OO=-ZYE_SinYK1MG+zHw@mail.gmail.com>
 <CAMYzUJt8uAuqgCfi3FEXg7NJum6Cdf0TBykp9dM_VL4UjN0tsw@mail.gmail.com>
 <YNkRbeEkzlsJR5Qz@bulldog.preining.info>
 <CAMYzUJvzVV92a2XZ1z_b0fEwgDZ-FZST5cE_keGGHmDbKw90aA@mail.gmail.com>
 <20210628102824.781e9167@hogwart>
Message-ID: <20210628104105.4f50fd4b@hogwart>

Sorry the formatting was bad

comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2013-' | wc -l 
289
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2014-' | wc -l 
362
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2015-' | wc -l 
363
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2016-' | wc -l 
366
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2017-' | wc -l 
365
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2018-' | wc -l 
365
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2019-' | wc -l 
365
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2020-' | wc -l 
366
comedy manfred /serv/ftp/pub/tex.git/ [master] ? git log | rg '2021-' | wc -l 
179

-- 
Manfred


From preen at informatik.uni-freiburg.de  Mon Jun 28 11:42:34 2021
From: preen at informatik.uni-freiburg.de (Martin Preen)
Date: Mon, 28 Jun 2021 11:42:34 +0200
Subject: Segmentation Fault while loading format file
Message-ID: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>

Hi all,
we currently have a problem with TL on i386-linux platforms.
The error appeared after one of the updates last week.

#> latex qwerty.tex
This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) (preloaded format=latex)
  restricted \write18 enabled.
Segmentation fault


Even with no source file (qwerty.tex doesn't exists) and also with
other format files (e.g. pdflatex) every latex command fail.

It is a network installation and there are no problems with
the binaries for the x86_64-linux and x86_64-solaris platforms.

The segmentation fault signal seems to occur when loading the format file.
strace output of failing process:

open("/.../texlive2021/texmf-var/web2c/pdftex/latex.fmt", O_RDONLY|O_LARGEFILE) = 3
_llseek(3, 0, [0], SEEK_CUR)            = 0
read(3, "\37\213\10..."..., 8192) = 8192
brk(0x8f05000)                          = 0x8f05000
...
read(3,"\326\22m..."..., 8192) = 8192
read(3, "\335p+G\23...."..., 8192) = 8192
--- SIGSEGV {si_signo=SIGSEGV, si_code=SEGV_MAPERR, si_addr=NULL} ---
+++ killed by SIGSEGV +++

Is there anything we can do here ?


Regards,
Martin

----------------------------------------------------------------------
Martin Preen, Universit?t Freiburg, Institut f?r Informatik
Georges-Koehler-Allee 52, Raum EG-006, 79110 Freiburg, Germany

phone: ++49 761 203-8250    preen at informatik.uni-freiburg.de
fax: ++49 761 203-8242      swt.informatik.uni-freiburg.de/staff/preen

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5480 bytes
Desc: S/MIME Cryptographic Signature
URL: <https://tug.org/pipermail/tex-live/attachments/20210628/2794f3fd/attachment.p7s>

From siepo at bitmuis.nl  Mon Jun 28 16:37:33 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 28 Jun 2021 16:37:33 +0200
Subject: Segmentation Fault while loading format file
In-Reply-To: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
Message-ID: <YNnerdM8EmOexYpY@bitmuis.nl>

On Mon, Jun 28, 2021 at 11:42:34AM +0200, Martin Preen wrote:
> Hi all,
> we currently have a problem with TL on i386-linux platforms.
> The error appeared after one of the updates last week.
> 
> #> latex qwerty.tex
> This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) (preloaded format=latex)
>  restricted \write18 enabled.
> Segmentation fault

This is because format file differences have crept in between 32-bit
and 64-bit platforms. This has been fixed in the sources, but not in
the binaries, because of the small number of people affected, and
because there is a workaround:

users can create a private pdflatex format file with a command

fmtutil-user --byfmt pdflatex

A drawback is that per-user format files are not automatically
updated when needed.

-- 
Siep Kroonenberg

From Alois.Steindl at tuwien.ac.at  Mon Jun 28 17:27:04 2021
From: Alois.Steindl at tuwien.ac.at (Alois Steindl)
Date: Mon, 28 Jun 2021 17:27:04 +0200
Subject: Segmentation Fault while loading format file
In-Reply-To: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
Message-ID: <5cf8afba-3406-c401-7af0-0a6152872484@tuwien.ac.at>

Hello,
I would bet that this error is a long term consequence of the error 
brought up by Andreas Hirsch 3 weeks ago: The latex.fmt files seem to be 
inconsistent across different platforms. So it might be necessary to 
keep different fmt-files, each one generated by the corresponding 
binary. (I have no idea, whether it is possible to individually 
configure the location of the proper fmt-file.) Maybe the simplest 
solution would be to have just one platform, say x86_64 on a machine. 
Are the linux systems that old, that you need to keep the i386 binaries?
Good luck
Alois

Am 28.06.2021 um 11:42 schrieb Martin Preen:
> Hi all,
> we currently have a problem with TL on i386-linux platforms.
> The error appeared after one of the updates last week.
>
> #> latex qwerty.tex
> This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) 
> (preloaded format=latex)
> ?restricted \write18 enabled.
> Segmentation fault
>
>
> Even with no source file (qwerty.tex doesn't exists) and also with
> other format files (e.g. pdflatex) every latex command fail.
>
> It is a network installation and there are no problems with
> the binaries for the x86_64-linux and x86_64-solaris platforms.
>
> The segmentation fault signal seems to occur when loading the format 
> file.
> strace output of failing process:
>
> open("/.../texlive2021/texmf-var/web2c/pdftex/latex.fmt", 
> O_RDONLY|O_LARGEFILE) = 3
> _llseek(3, 0, [0], SEEK_CUR)??????????? = 0
> read(3, "\37\213\10..."..., 8192) = 8192
> brk(0x8f05000)????????????????????????? = 0x8f05000
> ...
> read(3,"\326\22m..."..., 8192) = 8192
> read(3, "\335p+G\23...."..., 8192) = 8192
> --- SIGSEGV {si_signo=SIGSEGV, si_code=SEGV_MAPERR, si_addr=NULL} ---
> +++ killed by SIGSEGV +++
>
> Is there anything we can do here ?
>
>
> Regards,
> Martin
>
> ----------------------------------------------------------------------
> Martin Preen, Universit?t Freiburg, Institut f?r Informatik
> Georges-Koehler-Allee 52, Raum EG-006, 79110 Freiburg, Germany
>
> phone: ++49 761 203-8250??? preen at informatik.uni-freiburg.de
> fax: ++49 761 203-8242 swt.informatik.uni-freiburg.de/staff/preen
>


From herries.press at earthlink.net  Mon Jun 28 18:23:05 2021
From: herries.press at earthlink.net (Peter Wilson)
Date: Mon, 28 Jun 2021 17:23:05 +0100
Subject: Segmentation Fault while loading format file
In-Reply-To: <5cf8afba-3406-c401-7af0-0a6152872484@tuwien.ac.at>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <5cf8afba-3406-c401-7af0-0a6152872484@tuwien.ac.at>
Message-ID: <f4d196b5-daaf-cfec-d2da-b8d2206c893b@earthlink.net>

My linux system is i386. I have no inention of getting a new machine.

Peter W.


On 28/06/21 16:27, Alois Steindl wrote:
> Hello,
> I would bet that this error is a long term consequence of the error 
> brought up by Andreas Hirsch 3 weeks ago: The latex.fmt files seem to 
> be inconsistent across different platforms. So it might be necessary 
> to keep different fmt-files, each one generated by the corresponding 
> binary. (I have no idea, whether it is possible to individually 
> configure the location of the proper fmt-file.) Maybe the simplest 
> solution would be to have just one platform, say x86_64 on a machine. 
> Are the linux systems that old, that you need to keep the i386 binaries?
> Good luck
> Alois
>
> Am 28.06.2021 um 11:42 schrieb Martin Preen:
>> Hi all,
>> we currently have a problem with TL on i386-linux platforms.
>> The error appeared after one of the updates last week.
>>
>> #> latex qwerty.tex
>> This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) 
>> (preloaded format=latex)
>>  restricted \write18 enabled.
>> Segmentation fault
>>
>>
>> Even with no source file (qwerty.tex doesn't exists) and also with
>> other format files (e.g. pdflatex) every latex command fail.
>>
>> It is a network installation and there are no problems with
>> the binaries for the x86_64-linux and x86_64-solaris platforms.
>>
>> The segmentation fault signal seems to occur when loading the format 
>> file.
>> strace output of failing process:
>>
>> open("/.../texlive2021/texmf-var/web2c/pdftex/latex.fmt", 
>> O_RDONLY|O_LARGEFILE) = 3
>> _llseek(3, 0, [0], SEEK_CUR)            = 0
>> read(3, "\37\213\10..."..., 8192) = 8192
>> brk(0x8f05000)                          = 0x8f05000
>> ...
>> read(3,"\326\22m..."..., 8192) = 8192
>> read(3, "\335p+G\23...."..., 8192) = 8192
>> --- SIGSEGV {si_signo=SIGSEGV, si_code=SEGV_MAPERR, si_addr=NULL} ---
>> +++ killed by SIGSEGV +++
>>
>> Is there anything we can do here ?
>>
>>
>> Regards,
>> Martin
>>
>> ----------------------------------------------------------------------
>> Martin Preen, Universit?t Freiburg, Institut f?r Informatik
>> Georges-Koehler-Allee 52, Raum EG-006, 79110 Freiburg, Germany
>>
>> phone: ++49 761 203-8250    preen at informatik.uni-freiburg.de
>> fax: ++49 761 203-8242 swt.informatik.uni-freiburg.de/staff/preen
>>
>


From reinhard.kotucha at web.de  Mon Jun 28 19:54:14 2021
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 28 Jun 2021 19:54:14 +0200
Subject: Segmentation Fault while loading format file
In-Reply-To: <YNnerdM8EmOexYpY@bitmuis.nl>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <YNnerdM8EmOexYpY@bitmuis.nl>
Message-ID: <24794.3270.607703.158562@gargle.gargle.HOWL>

On 2021-06-28 at 16:37:33 +0200, Siep Kroonenberg wrote:

 > On Mon, Jun 28, 2021 at 11:42:34AM +0200, Martin Preen wrote:
 > > Hi all,
 > > we currently have a problem with TL on i386-linux platforms.
 > > The error appeared after one of the updates last week.
 > >
 > > #> latex qwerty.tex
 > > This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021) (preloaded format=latex)
 > >  restricted \write18 enabled.
 > > Segmentation fault
 >
 > This is because format file differences have crept in between 32-bit
 > and 64-bit platforms. This has been fixed in the sources, but not in
 > the binaries, because of the small number of people affected, and
 > because there is a workaround:
 >
 > users can create a private pdflatex format file with a command
 >
 > fmtutil-user --byfmt pdflatex
 >
 > A drawback is that per-user format files are not automatically
 > updated when needed.

You could also try the binary I compiled from the current sources

  http://ms25.ddns.net/texlive/x86_64-linux/pdftex.gz
  http://ms25.ddns.net/texlive/x86_64-linux/pdftex.gz.sha256

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From jfine2358 at gmail.com  Mon Jun 28 20:40:56 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Mon, 28 Jun 2021 19:40:56 +0100
Subject: Idea: An issue tracker for tex-live
In-Reply-To: <YMiPfS2P6egyr0ms@bulldog.preining.info>
References: <CALD=Yf9Bs6e1UiChue84-Z9WJR7tiKzU4wOcx8j0gB9m5bh3qw@mail.gmail.com>
 <YMiPfS2P6egyr0ms@bulldog.preining.info>
Message-ID: <CALD=Yf9XxPeDui0q8Eegjx0noP_sun3OR540Q==p-9PS9FbXHA@mail.gmail.com>

Norbert wrote:

> What do we gain with github issues what we cannot do via the mailing
> list?
>

This is a good question. It is one of https://en.wikipedia.org/wiki/Five_Ws
that are basic to problem solving.

Here's an example. Today Martin Preen opened a new thread that reported an
already known issue:
Segmentation Fault while loading format file
https://tug.org/pipermail/tex-live/2021-June/047202.html

Siep Kroonenberg replied, but without supplying a link to the already known
issue:
https://tug.org/pipermail/tex-live/2021-June/047203.html

The already known issue is was reported by Andreas Hirsch:
pdflatex does not work on win after todays update but does on linux
https://tug.org/pipermail/tex-live/2021-June/047055.html

I say that if we were using github issues then Martin would have found
Andreas's report (of his issue), and would then have added a "me too"
comment.

I think this is a benefit. There is of course a cost to moving to a new
system.

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210628/eccebbbb/attachment-0001.html>

From karl at freefriends.org  Mon Jun 28 23:18:54 2021
From: karl at freefriends.org (Karl Berry)
Date: Mon, 28 Jun 2021 15:18:54 -0600
Subject: Segmentation Fault while loading format file
In-Reply-To: <YNnerdM8EmOexYpY@bitmuis.nl>
Message-ID: <202106282118.15SLIsiA025738@freefriends.org>

    users can create a private pdflatex format file with a command
    fmtutil-user --byfmt pdflatex

Unfortunately that's not a practical solution, since formats are
routinely/frequently needed to be rebuilt nowadays.

Putting Reinhard's one-off binary into place is the only immediate fix,
as far as I can see. -k

From karl at freefriends.org  Mon Jun 28 23:18:53 2021
From: karl at freefriends.org (Karl Berry)
Date: Mon, 28 Jun 2021 15:18:53 -0600
Subject: Segmentation Fault while loading format file
In-Reply-To: <f4d196b5-daaf-cfec-d2da-b8d2206c893b@earthlink.net>
Message-ID: <202106282118.15SLIrQZ025730@freefriends.org>

    My linux system is i386. I have no inention of getting a new machine.

The current snafu is only a problem if you are sharing a single TeX
installation with i386 (or windows, or other 4-byte long) binaries with
x86_64 (or other 8-byte long) binaries. There's no problem when the fmt
file is built and then used on the same system.

I suppose we should bite the bullet and rebuild. When it was only one
person, that's one thing, but now with the second report ... I'll
contemplate. --thanks,karl.

From preen at informatik.uni-freiburg.de  Tue Jun 29 09:21:30 2021
From: preen at informatik.uni-freiburg.de (Martin Preen)
Date: Tue, 29 Jun 2021 09:21:30 +0200
Subject: Segmentation Fault while loading format file
In-Reply-To: <YNnerdM8EmOexYpY@bitmuis.nl>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <YNnerdM8EmOexYpY@bitmuis.nl>
Message-ID: <514b9c82-bdd9-306d-4cfd-78ea79f4cd76@informatik.uni-freiburg.de>

On 28.06.21 16:37, Siep Kroonenberg wrote:
>...
> This is because format file differences have crept in between 32-bit
> and 64-bit platforms. This has been fixed in the sources, but not in
> the binaries, because of the small number of people affected, and
> because there is a workaround:
> 
> users can create a private pdflatex format file with a command
> 
> fmtutil-user --byfmt pdflatex
> 
> A drawback is that per-user format files are not automatically
> updated when needed.

This is not a really useful workaround for the users and we do appreciate
having one network installation for multiple platforms. Otherwise multiple
installations would be needed.

If there is now a 32/64-bit difference in the format files, the programs
should be aware of this. Maybe the TL update script can maintain format files
for both variants.

Martin

----------------------------------------------------------------------
Martin Preen, Universit?t Freiburg, Institut f?r Informatik
Georges-Koehler-Allee 52, Raum EG-006, 79110 Freiburg, Germany

phone: ++49 761 203-8250    preen at informatik.uni-freiburg.de
fax: ++49 761 203-8242      swt.informatik.uni-freiburg.de/staff/preen

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5480 bytes
Desc: S/MIME Cryptographic Signature
URL: <https://tug.org/pipermail/tex-live/attachments/20210629/95167595/attachment.p7s>

From norbert at preining.info  Tue Jun 29 13:57:26 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 29 Jun 2021 20:57:26 +0900
Subject: Idea: An issue tracker for tex-live
In-Reply-To: <CALD=Yf9XxPeDui0q8Eegjx0noP_sun3OR540Q==p-9PS9FbXHA@mail.gmail.com>
References: <CALD=Yf9Bs6e1UiChue84-Z9WJR7tiKzU4wOcx8j0gB9m5bh3qw@mail.gmail.com>
 <YMiPfS2P6egyr0ms@bulldog.preining.info>
 <CALD=Yf9XxPeDui0q8Eegjx0noP_sun3OR540Q==p-9PS9FbXHA@mail.gmail.com>
Message-ID: <YNsKpqgzhbWSWFi7@NP-U9310.g01.fujitsu.com>

Hi Jonathan,

> Segmentation Fault while loading format file
[..]
> Siep Kroonenberg replied, but without supplying a link to the already known
[..]
> The already known issue is was reported by Andreas Hirsch:
[..]
> I say that if we were using github issues then Martin would have found
> Andreas's report (of his issue), and would then have added a "me too"
> comment.

Unfortunately this is not true. Experience in several projects small and
large show that most people submit issues without checking for the
existance of similar/related issues.

The only reason *I* see is about age groups ;-)

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From rudetection at gmail.com  Tue Jun 29 11:39:34 2021
From: rudetection at gmail.com (=?UTF-8?B?0JDQu9C10LrRgdCw0L3QtNGAINCX0LDQv9GA0Y/Qs9Cw0LXQsg==?=)
Date: Tue, 29 Jun 2021 12:39:34 +0300
Subject: Unable to update TexLive packages from any mirror
Message-ID: <CAE35_3KOW9mf9OjaOp1gmP-u_-SbRkk3dGYi=8+0eTDt7GbV_g@mail.gmail.com>

Since several days, tlmgr update -list does not work as expected; instead,
it returns the error message  TLPDB::from_file could not initialize from:
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.

I was thinking it was connected with some problems with my CTAN mirror;
however, adding -repository literally-every-url-listed-on-CTAN produces the
same.

When I use tlmgr update -list -repository ctan, however, everything
successfully installs (though with some random error messages of the
kind Strange,
SIUnit mentioned but not found) and updates; however, it works for the main
distribution only, not for tlcontrib or tlgpg, which I'm not sure how to
update now.

Here is the return from running tlmgr update -list -v:

D:appending to package log file: C:/texlive/2021/texmf-var/web2c/tlmgr.log
D:appending to command log file:
C:/texlive/2021/texmf-var/web2c/tlmgr-commands.log
D:tlmgr.pl:main: ::tldownload_server hash::
{enabled:1,errorcount:0,initcount:1,ua:LWP::UserAgent=HASH(0x3b45cac)}
D:setup_programs: preferring system versions
D:(w32) trying to set up tar, default
C:/texlive/2021/tlpkg/installer/tar.exe, arg --version
D:Using shipped C:/texlive/2021/tlpkg/installer/tar.exe for tar (tested).
D:program curl found in path
D:program wget not usable from path
D:(w32) trying to set up wget, default
C:/texlive/2021/tlpkg/installer/wget/wget.exe, arg --version
D:Using shipped C:/texlive/2021/tlpkg/installer/wget/wget.exe for wget (tested).
D:TLUtils::setup_programs: checking for ssl enabled wget
D:TLUtils::setup_programs: wget has ssl, final wget args:
--no-check-certificate --user-agent=texlive/wget --tries=4
--timeout=30 -q -O
D:program lz4 not usable from path
D:(w32) trying to set up lz4, default
C:/texlive/2021/tlpkg/installer/lz4/lz4.exe, arg --version
D:Using shipped C:/texlive/2021/tlpkg/installer/lz4/lz4.exe for lz4 (tested).
D:program gzip found in path
D:program xz not usable from path
D:(w32) trying to set up xz, default
C:/texlive/2021/tlpkg/installer/xz/xz.exe, arg --version
D:Using shipped C:/texlive/2021/tlpkg/installer/xz/xz.exe for xz (tested).
D:Using checksum method digest::sha
D:Testing for gpg in gpg
D:Testing for gpg in gpg2
D:Testing for gpg in C:/texlive/2021/tlpkg/installer/gpg/gpg.exe
D:setup_gpg: using additional keyring
C:\texlive\2021\tlpkg\gpg/repository-keys.gpg
D:gpg command line: C:\texlive\2021\tlpkg\installer\gpg\gpg.exe
--homedir "C:\texlive\2021\tlpkg\gpg" --keyring repository-keys.gpg
--no-secmem-warning --no-permission-warning --lock-never
D:will verify cryptographic signatures
D:TLPDB.pm: trying to initialize from
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
D:trying to download
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
to C:\Users\1292352\AppData\Local\Temp\dJH01YvRbv\Simt3sFSC9
D:persistent connection set up, trying to get
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
(for C:\Users\1292352\AppData\Local\Temp\dJH01YvRbv\Simt3sFSC9)
D:TLDownload::get_file: response error: 500 Can't connect to
mirrors.mi.ras.ru:80 (?????????????????????? ????
??????????????????????, ??.??. ???????????????? ??????????????????
???????????? ???????????? ???? ??????????????????????.) (for
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz)
D:TLUtils::download_file: persistent connection ok, but download
failed: http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
C:\Users\1292352\AppData\Local\Temp\dJH01YvRbv\Simt3sFSC9
D:downloading http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
using curl --user-agent texlive/curl --retry 4 --retry-delay 4
--connect-timeout 30 --fail --location --silent --output
D:TLUtils::_download_file_program: wget
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
C:\Users\1292352\AppData\Local\Temp\dJH01YvRbv\Simt3sFSC9
D:downloading http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
using C:\texlive\2021\tlpkg\installer\wget\wget.exe
--no-check-certificate --user-agent=texlive/wget --tries=4
--timeout=30 -q -O
D:TLUtils::download_file: tried to download using lwp curl wget, none succeeded
D:TLPDB: downloading
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
didn't succeed, try
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
D:persistent connection set up, trying to get
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
(for C:\Users\1292352\AppData\Local\Temp\dJH01YvRbv\agxKEoZZX0)
D:TLDownload::get_file: response error: 500 Can't connect to
mirrors.mi.ras.ru:80 (?????????????????????? ????
??????????????????????, ??.??. ???????????????? ??????????????????
???????????? ???????????? ???? ??????????????????????.) (for
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb)
D:TLUtils::download_file: persistent connection ok, but download
failed: http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
C:\Users\1292352\AppData\Local\Temp\dJH01YvRbv\agxKEoZZX0
D:downloading http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
using curl --user-agent texlive/curl --retry 4 --retry-delay 4
--connect-timeout 30 --fail --location --silent --output
D:TLUtils::_download_file_program: wget
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
C:\Users\1292352\AppData\Local\Temp\dJH01YvRbv\agxKEoZZX0
D:downloading http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
using C:\texlive\2021\tlpkg\installer\wget\wget.exe
--no-check-certificate --user-agent=texlive/wget --tries=4
--timeout=30 -q -O
D:TLUtils::download_file: tried to download using lwp curl wget, none succeeded

C:\texlive\2021\texmf-dist\scripts\texlive\tlmgr.pl: TLPDB::from_file
could not initialize from:
http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb
C:\texlive\2021\texmf-dist\scripts\texlive\tlmgr.pl: Maybe the
repository setting should be changed.
C:\texlive\2021\texmf-dist\scripts\texlive\tlmgr.pl: More info:
https://tug.org/texlive/acquire.html

Best wishes,

Alexander Z.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210629/6e0982d6/attachment-0001.html>

From norbert at preining.info  Tue Jun 29 15:09:11 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 29 Jun 2021 22:09:11 +0900
Subject: Unable to update TexLive packages from any mirror
In-Reply-To: <CAE35_3KOW9mf9OjaOp1gmP-u_-SbRkk3dGYi=8+0eTDt7GbV_g@mail.gmail.com>
References: <CAE35_3KOW9mf9OjaOp1gmP-u_-SbRkk3dGYi=8+0eTDt7GbV_g@mail.gmail.com>
Message-ID: <YNsbd/bKq/K8gFgf@NP-U9310.g01.fujitsu.com>

Hi ?????????,

> Since several days, tlmgr update -list does not work as expected; instead,
> it returns the error message  TLPDB::from_file could not initialize from:

Well, looking at your logs:

> D:TLUtils::download_file: tried to download using lwp curl wget, none succeeded

it seems that nothing managed to download from the respective location.
Since you stated that this happens with every mirror, I can only assume
that either you are accessing the internet via a proxy and this is not
set up properly, or something is blocking some internet sites.

If neither LWP, nur curl, nor wget suceeded, then you are out of luck.

Can you try on a command line
	wget http://mirrors.mi.ras.ru/CTAN/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
and see if that works?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Tue Jun 29 15:42:39 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Tue, 29 Jun 2021 14:42:39 +0100
Subject: Segmentation Fault while loading format file
In-Reply-To: <514b9c82-bdd9-306d-4cfd-78ea79f4cd76@informatik.uni-freiburg.de>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <YNnerdM8EmOexYpY@bitmuis.nl>
 <514b9c82-bdd9-306d-4cfd-78ea79f4cd76@informatik.uni-freiburg.de>
Message-ID: <CALD=Yf_rrU+XLkEdgNjUbreuNyYw=NEhxtGJ4zV1qf6gKOSdpQ@mail.gmail.com>

Hi Martin

The 32 and 64 bit users of TeX Live 2020 can share format files. (A new
feature was added to the \dump capabilities of pdftex in TeX Live 2021.
There was a bug, and hence the segfault you and others reported.)

Here are some work-arounds and solutions, with the easiest for you first.

1. Revert your installation to TeX Live 2020 for all users.

2. Have two installations of TeX Live, once for 32-bit and the other for
64-bit.

3. Wait for the TeX Live team to rebuild all the binaries.

4. Rebuild yourself just the binaries you need.

Finally, a note of caution. A 32/64 bit format file problem was noticed and
fixed. Later, a second such problem was fixed. That's where we are now.
Perhaps there's a third. Here's a link to a post I made to the relevant
thread.
https://tug.org/pipermail/tex-live/2021-June/047129.html

I hope this helps you and your users in Freiburg (a city I enjoyed walking
to some years ago).

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210629/af4b1abf/attachment.html>

From jfine2358 at gmail.com  Tue Jun 29 15:55:55 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Tue, 29 Jun 2021 14:55:55 +0100
Subject: Segmentation Fault while loading format file
In-Reply-To: <CALD=Yf_rrU+XLkEdgNjUbreuNyYw=NEhxtGJ4zV1qf6gKOSdpQ@mail.gmail.com>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <YNnerdM8EmOexYpY@bitmuis.nl>
 <514b9c82-bdd9-306d-4cfd-78ea79f4cd76@informatik.uni-freiburg.de>
 <CALD=Yf_rrU+XLkEdgNjUbreuNyYw=NEhxtGJ4zV1qf6gKOSdpQ@mail.gmail.com>
Message-ID: <CALD=Yf9Wi_=NLECQ990JfvJiLDHzpWg5BpF_3eFeTQW067TEBA@mail.gmail.com>

I wrote:

4. Rebuild yourself just the binaries you need.
>

It may be enough to rebuild pdftex, and nothing else. I don't recall
clearly if xetex is affected. You'd be unlucky there was anything else
affected.

However, I'm not an expert on this. Testing before deployment would be wise.

-- 
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210629/29fba28e/attachment.html>

From norbert at preining.info  Wed Jun 30 01:27:56 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 30 Jun 2021 08:27:56 +0900
Subject: Segmentation Fault while loading format file
In-Reply-To: <CALD=Yf_rrU+XLkEdgNjUbreuNyYw=NEhxtGJ4zV1qf6gKOSdpQ@mail.gmail.com>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <YNnerdM8EmOexYpY@bitmuis.nl>
 <514b9c82-bdd9-306d-4cfd-78ea79f4cd76@informatik.uni-freiburg.de>
 <CALD=Yf_rrU+XLkEdgNjUbreuNyYw=NEhxtGJ4zV1qf6gKOSdpQ@mail.gmail.com>
Message-ID: <YNusfPmRoZulYHpn@bulldog.preining.info>

Hi Martin

> Here are some work-arounds and solutions, with the easiest for you first.

I generally suggest not to follow random advice from random people on the
internet.

The TeX Live maintainers are aware and the issue should be fixed
hopefully already with today's update. If not, please report to us here
on the list and we will see what more is necessary.

Thanks

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preen at informatik.uni-freiburg.de  Wed Jun 30 11:06:04 2021
From: preen at informatik.uni-freiburg.de (Martin Preen)
Date: Wed, 30 Jun 2021 11:06:04 +0200
Subject: Segmentation Fault while loading format file
In-Reply-To: <YNusfPmRoZulYHpn@bulldog.preining.info>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <YNnerdM8EmOexYpY@bitmuis.nl>
 <514b9c82-bdd9-306d-4cfd-78ea79f4cd76@informatik.uni-freiburg.de>
 <CALD=Yf_rrU+XLkEdgNjUbreuNyYw=NEhxtGJ4zV1qf6gKOSdpQ@mail.gmail.com>
 <YNusfPmRoZulYHpn@bulldog.preining.info>
Message-ID: <b9d75de4-d65f-4734-70ed-26a2355dc490@informatik.uni-freiburg.de>

Hello,
its no problem to wait a few days. I prefer a stable solution over a quick
but incomplete fix (in other situations that may be necessary).

And keeping the network installation for multiple platforms would be really
valuable to us. Todays updates included new x86_64-linux binaries (Thanks for that).

I've done some tests with the different platform binaries (see below) and currently
the format file only works on the platform where it has been created.

Regards,
Martin


a) building format files on x86_64-solaris, pdflatex on x86_64-linux:

---! /usr/local/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt made by different 
executable version
(Fatal format file error; I'm stymied)

b) building format files on x86_64-solaris, pdflatex on i386-linux:

Segmentation fault

c) building format files on i386-linux, pdflatex on x86_64-solaris:

pdflatex: fatal: Could not undump 1095041024 1-byte item(s) from 
/usr/local/share/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt.

d) building format files on i386-linux, pdflatex on x86_64-linux:

---! /usr/local/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt made by different 
executable version
(Fatal format file error; I'm stymied)

e) building format files on x86_64-linux, pdflatex on x86_64-solaris:

---! /usr/local/share/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt made by 
different executable version
(Fatal format file error; I'm stymied)

f) building format files on x86_64-linux, pdflatex on i386-linux:

---! /usr/local/share/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt made by 
different executable version
(Fatal format file error; I'm stymied)


On 30.06.21 01:27, Norbert Preining wrote:
> Hi Martin
> 
>> Here are some work-arounds and solutions, with the easiest for you first.
> 
> I generally suggest not to follow random advice from random people on the
> internet.
> 
> The TeX Live maintainers are aware and the issue should be fixed
> hopefully already with today's update. If not, please report to us here
> on the list and we will see what more is necessary.

----------------------------------------------------------------------
Martin Preen, Universit?t Freiburg, Institut f?r Informatik
Georges-Koehler-Allee 52, Raum EG-006, 79110 Freiburg, Germany

phone: ++49 761 203-8250    preen at informatik.uni-freiburg.de
fax: ++49 761 203-8242      swt.informatik.uni-freiburg.de/staff/preen

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 5480 bytes
Desc: S/MIME Cryptographic Signature
URL: <https://tug.org/pipermail/tex-live/attachments/20210630/e51203ac/attachment-0001.p7s>

From norbert at preining.info  Wed Jun 30 11:16:34 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 30 Jun 2021 18:16:34 +0900
Subject: Segmentation Fault while loading format file
In-Reply-To: <b9d75de4-d65f-4734-70ed-26a2355dc490@informatik.uni-freiburg.de>
References: <afc016e0-70e3-98e5-6f9a-9c9cb9e13fa1@informatik.uni-freiburg.de>
 <YNnerdM8EmOexYpY@bitmuis.nl>
 <514b9c82-bdd9-306d-4cfd-78ea79f4cd76@informatik.uni-freiburg.de>
 <CALD=Yf_rrU+XLkEdgNjUbreuNyYw=NEhxtGJ4zV1qf6gKOSdpQ@mail.gmail.com>
 <YNusfPmRoZulYHpn@bulldog.preining.info>
 <b9d75de4-d65f-4734-70ed-26a2355dc490@informatik.uni-freiburg.de>
Message-ID: <YNw2csK9Do63NRFe@bulldog.preining.info>

Hi Martin,

> a) building format files on x86_64-solaris, pdflatex on x86_64-linux:
> 
> ---! /usr/local/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt made
> by different executable version
> (Fatal format file error; I'm stymied)

Solaris is not rebuild, so old formats are built, new pdftex stumbles.

> b) building format files on x86_64-solaris, pdflatex on i386-linux:
> 
> Segmentation fault

Solaris is not rebuild.

> c) building format files on i386-linux, pdflatex on x86_64-solaris:
> 
> pdflatex: fatal: Could not undump 1095041024 1-byte item(s) from
> /usr/local/share/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt.

Solaris is not rebuild.

> d) building format files on i386-linux, pdflatex on x86_64-linux:
> 
> ---! /usr/local/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt made
> by different executable version
> (Fatal format file error; I'm stymied)

That is the biggest problem I reported already on our tlbuild mailing
list. We either need to keep the version number of rebuild all pdftex
binaries.

I wait for Karl to decide.

> e) building format files on x86_64-linux, pdflatex on x86_64-solaris:
> 
> ---! /usr/local/share/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt
> made by different executable version
> (Fatal format file error; I'm stymied)

See above.

> f) building format files on x86_64-linux, pdflatex on i386-linux:
> 
> ---! /usr/local/share/office/texlive2021/texmf-var/web2c/pdftex/pdflatex.fmt
> made by different executable version
> (Fatal format file error; I'm stymied)

See above.

So our solution does not work by now due to the version squeeze which we
need to fix.

We are working on it.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From werner at suse.de  Wed Jun 30 14:29:58 2021
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 30 Jun 2021 14:29:58 +0200
Subject: TL2021: the seminar class and hence the prosper class broken
Message-ID: <YNxjxqU03NLD0pcH@boole.suse.de>

Hi

I've a report of a user which uses the prosper class (see attachment).
This class does not work as the used seminar class does not work.

Fist of all the prosper.cls should use for its messages UTF-8 wide
characters to avoid a warning about latin1 charcters.

 \def\Prosper at Version{2001/07/17, v. 1.5}
 \NeedsTeXFormat{LaTeX2e}[1995/12/01]
 \ProvidesClass{prosper}[\Prosper at Version]
 \typeout{(c) 2000-2001 Frederic Goualard, EPFL, Switzerland}
 \typeout{          and Peter M\0370ller Neergaard, Boston Univ., USA}
 \typeout{CVSId: $Id: prosper.cls,v 1.24 2002/11/25 14:35:50 exupery Exp $}

but should be

 \def\Prosper at Version{2001/07/17, v. 1.5}
 \NeedsTeXFormat{LaTeX2e}[1995/12/01]
 \ProvidesClass{prosper}[\Prosper at Version]
 \typeout{(c) 2000-2001 Frederic Goualard, EPFL, Switzerland}
 \typeout{          and Peter M?ller Neergaard, Boston Univ., USA}
 \typeout{CVSId: $Id: prosper.cls,v 1.24 2002/11/25 14:35:50 exupery Exp $}

The second is that the internal used seminar class file does only
work with LaTeX Release equal or below 2020-02-02.

Otherwise an error is thrown like

 werner/Tests> latex prosper.tex
 This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/TeX Live for opensuse.org) (preloaded format=latex)
  restricted \write18 enabled.
 (./prosper.tex
 LaTeX2e <2020-10-01> patch level 4
 L3 programming layer <2021-02-18>
 (/usr/share/texmf/tex/latex/prosper/prosper.cls
 Document Class: prosper 2001/07/17, v. 1.5
 (c) 2000-2001 Frederic Goualard, EPFL, Switzerland
  and Peter M?ller Neergaard, Boston Univ., USA
 CVSId: $Id: prosper.cls,v 1.24 2002/11/25 14:35:50 exupery Exp $
 [...]
 ! Extra \endgroup.
 \document ->\endgroup 
                       \the \before at document \begingroup \UseOneTimeHook {beg...
 l.12 \begin{document}

As it looks like seminar class isn't developed anymore 
I'd like to add a patch like this

 --- -   2021-06-30 14:22:56.861834912 +0200
 +++ tex/latex/seminar/seminar.cls      2021-06-30 14:10:50.757483414 +0200
 @@ -24,6 +24,7 @@
  %%
  %%
  \NeedsTeXFormat{LaTeX2e}
 +\RequirePackage[2020-02-02]{latexrelease}
  \ProvidesClass{seminar}[\filedate, \fileversion]
  \typeout{%
    Documentclass: `seminar' v\fileversion \space <\filedate> (tvz,hv)}



Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 894 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210630/fcb47cf4/attachment.sig>

From Herbert.Voss at fu-berlin.de  Wed Jun 30 14:43:52 2021
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Wed, 30 Jun 2021 14:43:52 +0200
Subject: TL2021: the seminar class and hence the prosper class broken
In-Reply-To: <YNxjxqU03NLD0pcH@boole.suse.de>
References: <YNxjxqU03NLD0pcH@boole.suse.de>
Message-ID: <fde1653c-765a-f79f-6379-bfb4e5426268@fu-berlin.de>

Am 30.06.21 um 14:29 schrieb Dr. Werner Fink:
>   ! Extra \endgroup.
>   \document ->\endgroup
>                         \the \before at document \begingroup \UseOneTimeHook {beg...
>   l.12 \begin{document}
>
> As it looks like seminar class isn't developed anymore

that's true ... However, try it with the version from today:
https://ctan.org/tex-archive/macros/latex/contrib/seminar/latex

Herbert


> I'd like to add a patch like this
>
>   --- -   2021-06-30 14:22:56.861834912 +0200
>   +++ tex/latex/seminar/seminar.cls      2021-06-30 14:10:50.757483414 +0200
>   @@ -24,6 +24,7 @@
>    %%
>    %%
>    \NeedsTeXFormat{LaTeX2e}
>   +\RequirePackage[2020-02-02]{latexrelease}
>    \ProvidesClass{seminar}[\filedate, \fileversion]
>    \typeout{%
>      Documentclass: `seminar' v\fileversion \space <\filedate> (tvz,hv)}
>
>
>
> Werner
>


From werner at suse.de  Wed Jun 30 15:40:23 2021
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 30 Jun 2021 15:40:23 +0200
Subject: TL2021: the seminar class and hence the prosper class broken
In-Reply-To: <fde1653c-765a-f79f-6379-bfb4e5426268@fu-berlin.de>
References: <YNxjxqU03NLD0pcH@boole.suse.de>
 <fde1653c-765a-f79f-6379-bfb4e5426268@fu-berlin.de>
Message-ID: <YNx0RxnCRS7OBWMQ@boole.suse.de>

On 2021/06/30 14:43:52 +0200, Herbert Voss wrote:
> Am 30.06.21 um 14:29 schrieb Dr. Werner Fink:
> >   ! Extra \endgroup.
> >   \document ->\endgroup
> >                         \the \before at document \begingroup \UseOneTimeHook {beg...
> >   l.12 \begin{document}
> > 
> > As it looks like seminar class isn't developed anymore
> 
> that's true ... However, try it with the version from today:
> https://ctan.org/tex-archive/macros/latex/contrib/seminar/latex

many thanks for this pointer.  I'd like to ask what about this
differences between seminar.bg2 used with TeXLive 2021 and the
version on CTAN ... also the new seminar.bg3 and the missed
tvz files on CTAN. What is the ratianl bebind these changes?

Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
A non-text attachment was scrubbed...
Name: seminar.diff
Type: text/x-patch
Size: 25914 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210630/a8df6d1b/attachment-0001.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 894 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210630/a8df6d1b/attachment-0001.sig>

From Herbert.Voss at fu-berlin.de  Wed Jun 30 16:17:55 2021
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Wed, 30 Jun 2021 16:17:55 +0200
Subject: TL2021: the seminar class and hence the prosper class broken
In-Reply-To: <YNx0RxnCRS7OBWMQ@boole.suse.de>
References: <YNxjxqU03NLD0pcH@boole.suse.de>
 <fde1653c-765a-f79f-6379-bfb4e5426268@fu-berlin.de>
 <YNx0RxnCRS7OBWMQ@boole.suse.de>
Message-ID: <3c278d4f-3b0a-ab18-4610-d4a97737cbbf@fu-berlin.de>



Am 30.06.21 um 15:40 schrieb Dr. Werner Fink:
> On 2021/06/30 14:43:52 +0200, Herbert Voss wrote:
>> Am 30.06.21 um 14:29 schrieb Dr. Werner Fink:
>>>    ! Extra \endgroup.
>>>    \document ->\endgroup
>>>                          \the \before at document \begingroup \UseOneTimeHook {beg...
>>>    l.12 \begin{document}
>>>
>>> As it looks like seminar class isn't developed anymore
>> that's true ... However, try it with the version from today:
>> https://ctan.org/tex-archive/macros/latex/contrib/seminar/latex
> many thanks for this pointer.  I'd like to ask what about this
> differences between seminar.bg2 used with TeXLive 2021 and the
> version on CTAN ... also the new seminar.bg3 and the missed
> tvz files on CTAN. What is the ratianl bebind these changes?

I have no idea here. I used only the files which are for ages in my
seminar directory which I inherited from Timothy Van Zandt.

The tvz-*.sty files are part of the doc directory.

Herbert


From jfine2358 at gmail.com  Wed Jun 30 19:40:11 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 30 Jun 2021 18:40:11 +0100
Subject: git compresses texlive/texmf-dist/tex for 2010 to 2020 from 3.5G to
 205M
Message-ID: <CALD=Yf8jFzCUp46KXubD1ij7b2fVCf3hvOSpw+ORxXKdt7oMoQ@mail.gmail.com>

Hi

I've made a start on putting TeX Live into git. I've started with the
folder texlive/texmf-dist/tex for the years 2010 to 2021 inclusive. I cover
only the snapshots as in the TeX Collection DVD. Many thanks to Hartmut
Henkel, whose real-time compressions during last week's TeX Hour inspired
me to do more.

The headline is that on disk this occupies about 3.5GB, but in git it's
about 205M. This is a compression ratio of about 205 / 3500 = 6%. By the
way, the download time is similarly reduced.

Here's the 3.5G mentioned earlier
$ du -s -c -h texlive20??/texmf-dist/tex
164M texlive2010/texmf-dist/tex
180M texlive2011/texmf-dist/tex
207M texlive2012/texmf-dist/tex
218M texlive2013/texmf-dist/tex
251M texlive2014/texmf-dist/tex
270M texlive2015/texmf-dist/tex
305M texlive2016/texmf-dist/tex
312M texlive2017/texmf-dist/tex
341M texlive2018/texmf-dist/tex
387M texlive2019/texmf-dist/tex
412M texlive2020/texmf-dist/tex
475M texlive2021/texmf-dist/tex
3.5G total

You can see what I've got at
https://github.com/jfine2358/temp-texlive-texmf-dist-tex. I call it temp
because it's a rough first version, to be thrown away after I've learnt
from the experience.

Alternatively, you can do a BARE clone, as follows. The --bare is required
unless you want 3.5GB of multiple copies of identical (or nearly
identical?) files.

$ time git clone --bare git at github.com:
jfine2358/temp-texlive-texmf-dist-tex.git
Cloning into bare repository 'temp-texlive-texmf-dist-tex.git'...
remote: Enumerating objects: 77116, done.
remote: Counting objects: 100% (1/1), done.
remote: Total 77116 (delta 0), reused 1 (delta 0), pack-reused 77115
Receiving objects: 100% (77116/77116), 202.08 MiB | 1.80 MiB/s, done.
Resolving deltas: 100% (47359/47359), done.

real 1m57.756s

Alternatively, you can download the 4 release files at
https://github.com/jfine2358/temp-texlive-texmf-dist-tex/releases/tag/texlive-2010-2021%2Ftexmf-dist%2Ftex

Here's the big 200M pack file. The rest are quick to download. Twice the
speed of git clone --bare.

$ time wget
https://github.com/jfine2358/temp-texlive-texmf-dist-tex/releases/download/texlive-2010-2021%2Ftexmf-dist%2Ftex/pack-72ebac230848eb026fd1a9eac0765531afc5e322.pack

real 0m58.752s

Please explore, and comment if you wish.

with best regards

Jonathan

.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210630/7f0f1649/attachment.html>

From jfine2358 at gmail.com  Wed Jun 30 21:03:18 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 30 Jun 2021 20:03:18 +0100
Subject: July 1st: Beginners TeX Hour: Why Software Sucks: Geeks Drive Stick
 Shift Cars
In-Reply-To: <CALD=Yf8G9D51qP9e=8GbkGgDdyXmonUD6Bv1bgUdSee2Z=oKVA@mail.gmail.com>
References: <CALD=Yf9PSZmNXUNTc-AC_S31FhCw10s3-zQFsGRC78GVNcZZcw@mail.gmail.com>
 <CALD=Yf-E9g-U0=+Gayq6torVo2kR6FF07zsKGgCp+ux+2P5FAg@mail.gmail.com>
 <CALD=Yf9Z=HSiTAPT-b63LcsGJ8ZtusPixB4B++VaR2ey9B57ug@mail.gmail.com>
 <CALD=Yf8G9D51qP9e=8GbkGgDdyXmonUD6Bv1bgUdSee2Z=oKVA@mail.gmail.com>
Message-ID: <CALD=Yf__e76-GkV34vn-EQozSmdf+Z_Otk+sErbtLLP8U9NFTg@mail.gmail.com>

Aside: Apologies if you find this off-topic. You might be interested in the
new vision of TeX Live as an agora (forum or marketplace) that I'm
developing. And the link to the videos to last week's meeting on using git
as basis for CTAN + TeX Live.

Hi

Here's a message. Developers are not the same as users. If you're a
developer then people don't want to USE your software. Period. People might
want to HAVE USED your software.

Most people don't want to use a word processor. They want to write a letter
or a report or something else. They don't want to drive a car. They want to
be somewhere else, a friend's house, the shops, the hospital or somewhere
else.

David Platt explains this very well in his 2 minute video! Please watch and
listen.
Why Software Sucks: Geeks Drive Stick Shift Cars
https://www.youtube.com/watch?v=JAOTTLQ0rlY&ab_channel=techrant

Details of tomorrow's TeX Hour. Thursday 1 July, 6.30 to 7.30pm UK time.
The UK time now is at https://time.is/UK. The zoom details are
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09
Meeting ID: 785 5125 5396
Passcode: knuth

More about tomorrow's meeting.

At the end of the previous century, TeX Live could be run from disc. Users
could pop a CD into the PC and start to use the TeX software. I'm hoping
that next year beginners can regain that experience (but perhaps via an
internet download).  And elsewhere I've started technical work that might
make this possible (without relying on Overleaf).

My vision of TeX Live is that it becomes a sort of agora (forum or
marketplace) for TeX software, similar to LaTeX being an agora for TeX
macros. And that it is revised annually, to provide fixed points. So the
same inputs give the same outputs across space and time. Safety and
security.

So at tomorrow's TeX Hour I'd like to discuss what users want their STEM
documents for. What's the human purpose each actual and potential user of
TeX is trying to achieve? (Hint: It's probably not making the developer
happy.)

Here's an example. Many R-users want to share their calculations with
others, via both HTML and PDF. The R-Markdown suite allows them to do this.
TeX, packaged as TinyTeX, provides a vital component that helps R-users to
HAVE USED this markdown suite.

Here's another example. I'm a mathematician who has discovered an exciting
new property of the Fibonacci numbers 1, 1, 2, 3, 5, 8, 13, 21 etc. Perhaps
I want to submit a paper to the Journal of Integer Sequences.

And another example. I'm a teacher preparing class notes, and one of my
students has a visual disability. My college has staff to provide
accessibility support. I want to HAVE USED the system so that ALL my
students have access to the class notes.

I want more examples of why people might want to HAVE USED our shared
wonderful typesetting system TeX. This will help developers create software
and systems that are more pleasant to use.

The videos from last week's heavy technical TeX Hour on TeX Live (except
for a few to follow tomorrow) are at:
https://www.youtube.com/playlist?list=PLw1FZfIX1w7jEC4iuK5Q0HPccM1IE3ygD

Please enjoy having used TeX

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210630/b0d47f7f/attachment.html>

