From karl at freefriends.org  Thu Apr  1 19:35:11 2021
From: karl at freefriends.org (Karl Berry)
Date: Thu, 1 Apr 2021 11:35:11 -0600
Subject: tl21 released
Message-ID: <202104011735.131HZBI1013649@freefriends.org>

Hi everyone - I've moved the tl20 and mactex20 images and other files to
the public areas on tug.org. They are making their way around CTAN.
Please give it a couple days to reach the mirrors.

There are no changes from the final pretest.

I've updated the TL web pages at https://tug.org/texlive, though
doubtless some staleness remains. Let me know if problems.

We hope a torrent for the .iso will be available soon, linked from
https://tug.org/texlive/acquire-iso.html.

The TeX Collection image is not yet final, so I haven't made those
updates. We have no ETA on this year's DVD mailing as yet.

Unfortunately, having made the release, I am going to be offline for
several days. So please be sure to report problems to a mailing list,
not me individually. I won't see any new mail until next week.

Happy TeXing. --karl

From karl at freefriends.org  Thu Apr  1 19:41:19 2021
From: karl at freefriends.org (Karl Berry)
Date: Thu, 1 Apr 2021 11:41:19 -0600
Subject: tl21 released
Message-ID: <202104011741.131HfJBr014342@freefriends.org>

> Hi everyone - I've moved the tl20 and mactex20 images and other files to

s/20/21/g

s/i/g/h. -k

From P.Taylor at Rhul.Ac.Uk  Thu Apr  1 20:35:50 2021
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 1 Apr 2021 19:35:50 +0100
Subject: [EXT] Re: tl21 released
In-Reply-To: <202104011741.131HfJBr014342@freefriends.org>
References: <202104011741.131HfJBr014342@freefriends.org>
Message-ID: <8a3b6d24-9952-2f36-9b1b-abca0899d1e7@Rhul.Ac.Uk>

Karl Berry wrote:

Hi everyone - I've moved the tl20 and mactex20 images and other files to



s/20/21/g

s/i/g/h. -k


How does one tell, when looking at (for example) http://dante.ctan.org/tex-archive/systems/texlive/tlnet/, whether this is the 2020 or 2021 version ?  The dates give a clue, but can hardly be regarded as definitive, and the "readme.md" file provides not a clue.
--
Philip Taylor

This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210401/22133d8c/attachment.html>

From cereda.paulo at gmail.com  Thu Apr  1 20:57:14 2021
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Thu, 1 Apr 2021 15:57:14 -0300
Subject: [EXT] Re: tl21 released
In-Reply-To: <8a3b6d24-9952-2f36-9b1b-abca0899d1e7@Rhul.Ac.Uk>
References: <202104011741.131HfJBr014342@freefriends.org>
 <8a3b6d24-9952-2f36-9b1b-abca0899d1e7@Rhul.Ac.Uk>
Message-ID: <2d009121-565c-8b4c-0a7b-cd3b0af44c01@gmail.com>

Hi, Phil,

 > How does one tell, when looking at (for example)
 > http://dante.ctan.org/tex-archive/systems/texlive/tlnet/, whether this
 > is the 2020 or 2021 version ?  The dates give a clue, but can hardly
 > be regarded as definitive, and the "readme.md" file provides not a
 > clue.


Probably unreliable, but I usually take a peek at the few initial lines of

---------------
http://dante.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
---------------

and look for

---------------
depend release/2020
---------------

so I infer it's TL 2020 still.

Cheerio,

Paulo

Em 01/04/2021 15:35, Philip Taylor escreveu:
> Karl Berry wrote:
>>> Hi everyone - I've moved the tl20 and mactex20 images and other files to
>> s/20/21/g
>>
>> s/i/g/h. -k
> 
> How does one tell, when looking at (for example) 
> http://dante.ctan.org/tex-archive/systems/texlive/tlnet/, whether this 
> is the 2020 or 2021 version ?? The dates give a clue, but can hardly be 
> regarded as definitive, and the "readme.md" file provides not a clue.
> -- 
> /Philip Taylor/
> 
> This email, its contents and any attachments are intended solely for the 
> addressee and may contain confidential information. In certain 
> circumstances, it may also be subject to legal privilege. Any 
> unauthorised use, disclosure, or copying is not permitted. If you have 
> received this email in error, please notify us and immediately and 
> permanently delete it. Any views or opinions expressed in personal 
> emails are solely those of the author and do not necessarily represent 
> those of Royal Holloway, University of London. It is your responsibility 
> to ensure that this email and any attachments are virus free.
> 

From tex at 2krueger.de  Thu Apr  1 20:57:30 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Thu, 1 Apr 2021 20:57:30 +0200
Subject: [EXT] Re: tl21 released
In-Reply-To: <8a3b6d24-9952-2f36-9b1b-abca0899d1e7@Rhul.Ac.Uk>
References: <202104011741.131HfJBr014342@freefriends.org>
 <8a3b6d24-9952-2f36-9b1b-abca0899d1e7@Rhul.Ac.Uk>
Message-ID: <20210401185730.yuz7j4lzqpqowrfa@yoga>

On Thu, Apr 01, 2021 at 07:35:50PM +0100, Philip Taylor wrote:
> How does one tell, when looking at (for example) http://dante.ctan.org/tex-archive/systems/texlive/tlnet/, whether this is the 2020 or 2021 version ?  The dates give a clue, but can hardly be regarded as definitive, and the "readme.md" file provides not a clue.
> --
> Philip Taylor

Go to subdirectory tlpkg/TeXLive and open the file TLConfig.pm
(http://dante.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/TeXLive/TLConfig.pm)
There you find something like

# the year of our release, will be used in the location of the
# network packages, and in menu names, and other places.
$ReleaseYear = 2020;

-- Marcel

From alessi at robertalessi.net  Thu Apr  1 20:58:15 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Thu, 1 Apr 2021 20:58:15 +0200
Subject: [EXT] Re: tl21 released
In-Reply-To: <8a3b6d24-9952-2f36-9b1b-abca0899d1e7@Rhul.Ac.Uk>
References: <202104011741.131HfJBr014342@freefriends.org>
 <8a3b6d24-9952-2f36-9b1b-abca0899d1e7@Rhul.Ac.Uk>
Message-ID: <20210401185815.GA20455@robertalessi.net>

On Thu, Apr 01, 2021 at 07:35:50PM +0100, Philip Taylor wrote:
> Karl Berry wrote:
> 
> Hi everyone - I've moved the tl20 and mactex20 images and other files to
> 
> How does one tell, when looking at (for example)
> http://dante.ctan.org/tex-archive/systems/texlive/tlnet/, whether
> this is the 2020 or 2021 version ?  The dates give a clue, but can
> hardly be regarded as definitive, and the "readme.md" file provides
> not a clue.

I wouldn't say my method is the best approach, but on my side what I
do each year is first wait for a couple of days before trying to point
tlmgr to the ctan mirror, like so:

      tlmgr option repository ctan

After this, I try "tlmgr update --all".  If 2021 has arrived, then the
updating process starts.  If not, I get an error message and I wait
for another couple of days.

Best,

Robert


From norbert at preining.info  Thu Apr  1 22:31:22 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 2 Apr 2021 05:31:22 +0900
Subject: Version of debian-equivs-2020-ex.txt
In-Reply-To: <CAA55TJq1tPRTM4SnVdX_7UhgCJOQ0xnYDrpg+0gGmCnA8fwSTw@mail.gmail.com>
References: <CAA55TJq1tPRTM4SnVdX_7UhgCJOQ0xnYDrpg+0gGmCnA8fwSTw@mail.gmail.com>
Message-ID: <YGYtmvvv1ENGzBmX@burischnitzel.preining.info>

Hi Oliver,

> dpkg --compare-versions 2020-1 gt 2020.20210113-1 && echo true || echo false

Indeed.

> dpkg --compare-versions 2020.99999999 gt 2020.20210113-1 && echo true

For 2021 (released today) I have changed the equivs example file to use
2021.99999999

Thanks for the report

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research Labs  +  IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From achirvasub at gmail.com  Fri Apr  2 00:42:44 2021
From: achirvasub at gmail.com (AC)
Date: Thu, 01 Apr 2021 18:42:44 -0400
Subject: upgrading from 2020 to 2021
Message-ID: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>

I am trying to follow the instructions at 

https://tug.org/texlive/upgrade.html

verbatim.

With my path pointing to the 2021 folder, and the latest update-tlmgr-latest.sh, running

sh update-tlmgr-latest.sh -- --upgrade

returns

Verifying archive integrity... All good.             Uncompressing TeX Live Manager Updater  100%         ./runme.sh: updating in /root/texlive/2021...        ./runme.sh: tlmgr version says this is TeX Live 2020,./runme.sh: and this updater script created: Fri Feb 12 02:40:05 CET 2021.                                ./runme.sh: have TL 2020, new version also 2020;
./runme.sh: using --upgrade doesn't make sense; terminating.
(./runme.sh: makeself creation date = Fri Feb 12 02:40:05 CET 2021.)


From norbert at preining.info  Fri Apr  2 02:41:47 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 2 Apr 2021 09:41:47 +0900
Subject: upgrading from 2020 to 2021
In-Reply-To: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
Message-ID: <YGZoSypHJGLfFxG5@bulldog.preining.info>

> Verifying archive integrity... All good.             Uncompressing TeX Live Manager Updater  100%         ./runme.sh: updating in /root/texlive/2021...        ./runme.sh: tlmgr version says this is TeX Live 2020,./runme.sh: and this updater script created: Fri Feb 12 02:40:05 CET 2021.                                ./runme.sh: have TL 2020, new version also 2020;

You probably used the updater from 2020 ... 
When you download the updater from the tlnet directory there should be
a file
	TEXLIVE_2021

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From achirvasub at gmail.com  Fri Apr  2 02:47:23 2021
From: achirvasub at gmail.com (AC)
Date: Thu, 01 Apr 2021 20:47:23 -0400
Subject: upgrading from 2020 to 2021
In-Reply-To: <YGZoSypHJGLfFxG5@bulldog.preining.info>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
 <YGZoSypHJGLfFxG5@bulldog.preining.info>
Message-ID: <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>

I downloaded the updater with 

wget http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh

In fact, I just did the exact same thing now, to the same effect: deleted the .sh script I had, ran that wget command again, and ran 

sh update-tlmgr-latest.sh -- --upgrade

again, with the same result as before.

Is the updater at http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh

not up to date? That's the link on the instructions website..

On April 1, 2021 8:41:47 PM EDT, Norbert Preining <norbert at preining.info> wrote:
>> Verifying archive integrity... All good.             Uncompressing
>TeX Live Manager Updater  100%         ./runme.sh: updating in
>/root/texlive/2021...        ./runme.sh: tlmgr version says this is TeX
>Live 2020,./runme.sh: and this updater script created: Fri Feb 12
>02:40:05 CET 2021.                                ./runme.sh: have TL
>2020, new version also 2020;
>
>You probably used the updater from 2020 ... 
>When you download the updater from the tlnet directory there should be
>a file
>	TEXLIVE_2021
>
>Best
>
>Norbert
>
>--
>PREINING Norbert                              https://www.preining.info
>Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
>GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From achirvasub at gmail.com  Fri Apr  2 03:01:22 2021
From: achirvasub at gmail.com (AC)
Date: Thu, 01 Apr 2021 21:01:22 -0400
Subject: upgrading from 2020 to 2021
In-Reply-To: <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
 <YGZoSypHJGLfFxG5@bulldog.preining.info>
 <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>
Message-ID: <E1FDCE89-A37B-477C-8D91-CDFC513F8BC8@gmail.com>

Two further remarks:

On April 1, 2021 8:41:47 PM EDT, Norbert Preining <norbert at preining.info> wrote:
>>
>>You probably used the updater from 2020 ... 
>>When you download the updater from the tlnet directory there should be
>>a file
>>	TEXLIVE_2021

I don't understand: *where* should that file be?

Additionally, since mirror.ctan.org was redirecting me, I directly downloaded

http://tug.ctan.org/tex-archive/systems/texlive/tlnet/update-tlmgr-latest.sh

Diffing it to what I had before shows them identical.. So I'm pretty sure I have whatever latest updater is available.

On April 1, 2021 8:47:23 PM EDT, AC <achirvasub at gmail.com> wrote:
>I downloaded the updater with 
>
>wget
>http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
>
>In fact, I just did the exact same thing now, to the same effect:
>deleted the .sh script I had, ran that wget command again, and ran 
>
>sh update-tlmgr-latest.sh -- --upgrade
>
>again, with the same result as before.
>
>Is the updater at
>http://mirror.ctan.org/systems/texlive/tlnet/update-tlmgr-latest.sh
>
>not up to date? That's the link on the instructions website..
>
>On April 1, 2021 8:41:47 PM EDT, Norbert Preining
><norbert at preining.info> wrote:
>>> Verifying archive integrity... All good.             Uncompressing
>>TeX Live Manager Updater  100%         ./runme.sh: updating in
>>/root/texlive/2021...        ./runme.sh: tlmgr version says this is
>TeX
>>Live 2020,./runme.sh: and this updater script created: Fri Feb 12
>>02:40:05 CET 2021.                                ./runme.sh: have TL
>>2020, new version also 2020;
>>
>>You probably used the updater from 2020 ... 
>>When you download the updater from the tlnet directory there should be
>>a file
>>	TEXLIVE_2021
>>
>>Best
>>
>>Norbert
>>
>>--
>>PREINING Norbert                             
>https://www.preining.info
>>Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian
>Dev
>>GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C
>DC13


From norbert at preining.info  Fri Apr  2 03:06:47 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 2 Apr 2021 10:06:47 +0900
Subject: upgrading from 2020 to 2021
In-Reply-To: <E1FDCE89-A37B-477C-8D91-CDFC513F8BC8@gmail.com>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
 <YGZoSypHJGLfFxG5@bulldog.preining.info>
 <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>
 <E1FDCE89-A37B-477C-8D91-CDFC513F8BC8@gmail.com>
Message-ID: <YGZuJ1GLqDD5K0im@bulldog.preining.info>

Hi

> I don't understand: *where* should that file be?
> 
> Additionally, since mirror.ctan.org was redirecting me, I directly downloaded
> http://tug.ctan.org/tex-archive/systems/texlive/tlnet/update-tlmgr-latest.sh

The point is that the mirrors are probably not up to date. Please wait a
few hours until the mirror push is out.

The file I mentioned should be in 
	http://mirror.ctan.org/systems/texlive/tlnet/
(I thought at least that it will show up there ...)

> Diffing it to what I had before shows them identical.. So I'm pretty sure I have whatever latest updater is available.

But maybe not the latest available ;-)

Just give it some time ...

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From achirvasub at gmail.com  Fri Apr  2 03:52:27 2021
From: achirvasub at gmail.com (AC)
Date: Thu, 01 Apr 2021 21:52:27 -0400
Subject: tug.ctan.org inaccessible on a specific machine
Message-ID: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>

I have a VPS with TeX Live installed, and I am trying to update/upgrade. 

My problem: tug.ctan.org is inaccessible to me from that machine, even though it's working fine on other computers (with other IPs). 

I can only access the machine through SSH, so all I can do is command-line based. I have tried

ping tug.ctan.org

and

w3m http://tug.ctan.org

Both

- time out on the affected machine, but
- work fine from other IPs.


From norbert at preining.info  Fri Apr  2 05:02:54 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 2 Apr 2021 12:02:54 +0900
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
Message-ID: <YGaJXsLQx6kPuOst@bulldog.preining.info>

On Thu, 01 Apr 2021, AC wrote:
> ping tug.ctan.org

> - time out on the affected machine, but

Nothing we can help you there. If you have root access, you can try
traceroute to see where it hangs. The server is definitely accessible.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From achirvasub at gmail.com  Fri Apr  2 05:17:25 2021
From: achirvasub at gmail.com (AC)
Date: Thu, 01 Apr 2021 23:17:25 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <YGaJXsLQx6kPuOst@bulldog.preining.info>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
Message-ID: <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>

Well, I know it's accessible, but the problem is specific to this pair of IPs.. I can ping

- google.com just fine from that affected machine, and
- tug.ctan.org from any other IPs I control (like my home computers).

Could it be that the server is rejecting my connection (from that specific IP) due to some misconfiguration?

On April 1, 2021 11:02:54 PM EDT, Norbert Preining <norbert at preining.info> wrote:
>On Thu, 01 Apr 2021, AC wrote:
>> ping tug.ctan.org
>
>> - time out on the affected machine, but
>
>Nothing we can help you there. If you have root access, you can try
>traceroute to see where it hangs. The server is definitely accessible.
>
>Best
>
>Norbert
>
>--
>PREINING Norbert                              https://www.preining.info
>Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
>GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From henri at henrimenke.de  Fri Apr  2 11:36:07 2021
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 2 Apr 2021 11:36:07 +0200
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
Message-ID: <20210402093607.t5m2sc4wmj7rsxcd@neomutt>

On 01/04/21, 23:17, AC wrote:
> Well, I know it's accessible, but the problem is specific to this pair of IPs.. I can ping
> 
> - google.com just fine from that affected machine, and
> - tug.ctan.org from any other IPs I control (like my home computers).
> 
> Could it be that the server is rejecting my connection (from that specific IP) due to some misconfiguration?

Could it be that you are on an IPv6 only network? The domain
tug.ctan.org only returns an IPv4 address.

Nevertheless, the problem is definitely on your side.

Cheers, Henri

> 
> On April 1, 2021 11:02:54 PM EDT, Norbert Preining <norbert at preining.info> wrote:
> >On Thu, 01 Apr 2021, AC wrote:
> >> ping tug.ctan.org
> >
> >> - time out on the affected machine, but
> >
> >Nothing we can help you there. If you have root access, you can try
> >traceroute to see where it hangs. The server is definitely accessible.
> >
> >Best
> >
> >Norbert
> >
> >--
> >PREINING Norbert                              https://www.preining.info
> >Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
> >GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> 

From zdenek.wagner at gmail.com  Fri Apr  2 12:56:13 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 2 Apr 2021 12:56:13 +0200
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
Message-ID: <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>

Hi all,

I tried to ping tug.ctan.org without specifying the protcol and with
IPv6 requested. This is my result:

[zw at math-gnostics ~]$ ping -c5 tug.ctan.org
PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1 ttl=33 time=154 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2 ttl=33 time=154 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3 ttl=33 time=154 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4 ttl=33 time=154 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5 ttl=33 time=154 ms

--- ftp.math.utah.edu ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4007ms
rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
[zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
ping: tug.ctan.org: Address family for hostname not supported

So the reason for timeout must be somewhere else, not in IPv6, the
program would inform about it.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
<tex-live at tug.org> napsal:
>
> On 01/04/21, 23:17, AC wrote:
> > Well, I know it's accessible, but the problem is specific to this pair of IPs.. I can ping
> >
> > - google.com just fine from that affected machine, and
> > - tug.ctan.org from any other IPs I control (like my home computers).
> >
> > Could it be that the server is rejecting my connection (from that specific IP) due to some misconfiguration?
>
> Could it be that you are on an IPv6 only network? The domain
> tug.ctan.org only returns an IPv4 address.
>
> Nevertheless, the problem is definitely on your side.
>
> Cheers, Henri
>
> >
> > On April 1, 2021 11:02:54 PM EDT, Norbert Preining <norbert at preining.info> wrote:
> > >On Thu, 01 Apr 2021, AC wrote:
> > >> ping tug.ctan.org
> > >
> > >> - time out on the affected machine, but
> > >
> > >Nothing we can help you there. If you have root access, you can try
> > >traceroute to see where it hangs. The server is definitely accessible.
> > >
> > >Best
> > >
> > >Norbert
> > >
> > >--
> > >PREINING Norbert                              https://www.preining.info
> > >Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
> > >GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> >


From jose.hissa at gmail.com  Fri Apr  2 13:01:20 2021
From: jose.hissa at gmail.com (Jose Hissa Ferreira)
Date: Fri, 2 Apr 2021 08:01:20 -0300
Subject: tlmgr and repository
Message-ID: <0a3e01d727af$84c12710$8e437530$@gmail.com>

It seems that the tlmgr gui can not correctly load a repository from the mirror's list. The choice is wrongly saved and the program closes after you load the repository choosed.

>From tlshell all works fine.

JHissa




From achirvasub at gmail.com  Fri Apr  2 13:09:49 2021
From: achirvasub at gmail.com (AC)
Date: Fri, 02 Apr 2021 07:09:49 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
Message-ID: <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>

Here are the results of an mtr ping:

Start: 2021-04-02T03:33:06+0000
HOST: gilead                                                                Loss%   Snt   Last   Avg  Best  Wrst StDev
  1. AS???    ???                                                           100.0   100    0.0   0.0   0.0   0.0   0.0
  2. AS???    10.74.132.77                                                   0.0%   100    0.5   0.9   0.4  29.9   3.0
  3. AS???    138.197.248.232                                                0.0%   100    1.1   2.3   0.7  36.6   4.9
  4. AS???    138.197.248.12                                                 0.0%   100    0.6   1.8   0.3  61.5   7.4
  5. AS???    138.197.244.46                                                 0.0%   100    0.9   1.1   0.8   4.4   0.5
  6. AS14061  162.243.191.247                                                0.0%   100    0.9   1.5   0.9  36.5   3.7
  7. AS6461   ae18.cs1.lga5.us.zip.zayo.com (64.125.27.178)                 99.0%   100   48.4  48.4  48.4  48.4   0.0
  8. AS6461   ae3.cs3.ord2.us.eth.zayo.com (64.125.29.209)                  88.0%   100   50.9  49.1  48.4  50.9   0.7
  9. AS???    ???                                                           100.0   100    0.0   0.0   0.0   0.0   0.0
 10. AS6461   ae11.mpr2.slc2.us.zip.zayo.com (64.125.26.43)                  0.0%   100   48.3  49.1  48.1  75.9   3.5
 11. AS6461   ae4.mpr1.slc2.us.zip.zayo.com (64.125.26.164)                  0.0%   100   47.6  48.4  47.6  65.2   2.3
 12. AS6461   209.66.120.134.IPYX-246177-ZYO.zip.zayo.com (209.66.120.134)   0.0%   100   48.3  49.1  48.2  65.4   3.1
 13. AS210    140.197.253.110                                                0.0%   100   49.5  49.6  49.4  50.1   0.1
 14. AS210    140.197.252.76                                                 0.0%   100   49.7  49.6  49.3  50.1   0.1
 15. AS210    140.197.252.84                                                 0.0%   100   50.9  49.7  49.3  52.0   0.5
 16. AS210    140.197.253.139                                                0.0%   100   49.4  49.3  49.2  50.1   0.1
 17. AS17055  199.104.93.117                                                 0.0%   100   49.6  49.6  49.5  50.2   0.1
 18. AS17055  199.104.93.102                                                 0.0%   100   50.1  50.7  50.0  63.7   1.9
 19. AS17055  155.99.130.59                                                  0.0%   100   50.2  50.1  50.0  50.7   0.1
 20. AS17055  155.99.130.14                                                  0.0%   100   50.4  50.4  49.9  62.9   1.7
 21. AS???    ???                                                           100.0   100    0.0   0.0   0.0   0.0   0.0

---

I am certainly *not* on ip6, and my VPS admins advise as follows:

> Thank you for following up and sharing the mtr results. As per the mtr results, the destination domain "tug.ctan.org" is not reachable. As we are able to ping from other droplets, I suspect the issue is that your droplet's IP address is blocked at the destination.
> 
> As the packets are moving out of DigitalOcean' network (AS14061) and traversing to the destination, this isn't an issue at the DigitalOcean managed network. You will need to contact the administrator of the domain "tug.ctan.org" and request them to check if the droplet's IP is blacklisted for some reason and request them to delist.
> 

This is what it looks like to me too: there's every indication that tug.ctan.org is specifically blocking this IP. I simply do not see how the issue could be at my end..

Whom would I contact about that? 

I am not sure who controls tug.ctan.org, and whether someone who could un-blacklist me is reading this.

On April 2, 2021 6:56:13 AM EDT, Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>Hi all,
>
>I tried to ping tug.ctan.org without specifying the protcol and with
>IPv6 requested. This is my result:
>
>[zw at math-gnostics ~]$ ping -c5 tug.ctan.org
>PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1 ttl=33
>time=154 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2 ttl=33
>time=154 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3 ttl=33
>time=154 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4 ttl=33
>time=154 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5 ttl=33
>time=154 ms
>
>--- ftp.math.utah.edu ping statistics ---
>5 packets transmitted, 5 received, 0% packet loss, time 4007ms
>rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
>[zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
>ping: tug.ctan.org: Address family for hostname not supported
>
>So the reason for timeout must be somewhere else, not in IPv6, the
>program would inform about it.
>
>Zden?k Wagner
>http://ttsm.icpf.cas.cz/team/wagner.shtml
>http://icebearsoft.euweb.cz
>
>p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
><tex-live at tug.org> napsal:
>>
>> On 01/04/21, 23:17, AC wrote:
>> > Well, I know it's accessible, but the problem is specific to this
>pair of IPs.. I can ping
>> >
>> > - google.com just fine from that affected machine, and
>> > - tug.ctan.org from any other IPs I control (like my home
>computers).
>> >
>> > Could it be that the server is rejecting my connection (from that
>specific IP) due to some misconfiguration?
>>
>> Could it be that you are on an IPv6 only network? The domain
>> tug.ctan.org only returns an IPv4 address.
>>
>> Nevertheless, the problem is definitely on your side.
>>
>> Cheers, Henri
>>
>> >
>> > On April 1, 2021 11:02:54 PM EDT, Norbert Preining
><norbert at preining.info> wrote:
>> > >On Thu, 01 Apr 2021, AC wrote:
>> > >> ping tug.ctan.org
>> > >
>> > >> - time out on the affected machine, but
>> > >
>> > >Nothing we can help you there. If you have root access, you can
>try
>> > >traceroute to see where it hangs. The server is definitely
>accessible.
>> > >
>> > >Best
>> > >
>> > >Norbert
>> > >
>> > >--
>> > >PREINING Norbert                             
>https://www.preining.info
>> > >Fujitsu                 + IFMGA Guide + TU Wien + TeX Live +
>Debian Dev
>> > >GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C
>DC13
>> >


From norbert at preining.info  Fri Apr  2 13:14:28 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 2 Apr 2021 20:14:28 +0900
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
Message-ID: <YGb8lLPXIlCJLOgO@bulldog.preining.info>

On Fri, 02 Apr 2021, AC wrote:
> This is what it looks like to me too: there's every indication that tug.ctan.org is specifically blocking this IP. I simply do not see how the issue could be at my end..

May stop hitting the server permanently? I don't know - I am not the
admin, but there could be a rate limiting firewall.

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From achirvasub at gmail.com  Fri Apr  2 13:21:57 2021
From: achirvasub at gmail.com (AC)
Date: Fri, 02 Apr 2021 07:21:57 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <YGb8lLPXIlCJLOgO@bulldog.preining.info>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
 <YGb8lLPXIlCJLOgO@bulldog.preining.info>
Message-ID: <D5ADC74D-74B5-4BD1-800E-39223DBA881D@gmail.com>

Well, I certainly was doing nothing of the sort (hitting it "permanently"):

tug.ctan.org is not my default, and I only switched to it (and noticed the timeouts) yesterday, when I was too hasty in trying to upgrade to 2021 before the mirrors were ready (you very kindly helped with that in another thread; thank you!).

I was simply trying to wget update-tlmgr-latest.sh from it on a whim yesterday, and it unexpectedly timed out.

This morning, I hadn't hit tug.ctan.org in over 7 hours; I'm still getting nothing.

So no, I am not subjecting that server to some kind of traffic assault..

On April 2, 2021 7:14:28 AM EDT, Norbert Preining <norbert at preining.info> wrote:
>On Fri, 02 Apr 2021, AC wrote:
>> This is what it looks like to me too: there's every indication that
>tug.ctan.org is specifically blocking this IP. I simply do not see how
>the issue could be at my end..
>
>May stop hitting the server permanently? I don't know - I am not the
>admin, but there could be a rate limiting firewall.
>
>Norbert
>
>--
>PREINING Norbert                              https://www.preining.info
>Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
>GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From achirvasub at gmail.com  Fri Apr  2 13:24:38 2021
From: achirvasub at gmail.com (AC)
Date: Fri, 02 Apr 2021 07:24:38 -0400
Subject: upgrading from 2020 to 2021
In-Reply-To: <YGZuJ1GLqDD5K0im@bulldog.preining.info>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
 <YGZoSypHJGLfFxG5@bulldog.preining.info>
 <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>
 <E1FDCE89-A37B-477C-8D91-CDFC513F8BC8@gmail.com>
 <YGZuJ1GLqDD5K0im@bulldog.preining.info>
Message-ID: <146BB7D7-9A77-4BCA-B7E2-FF429A4294E9@gmail.com>

This is to record that it all went exactly as you said:

Once my mirror had the TEXLIVE_2021 file in 

<mirror>/systems/texlive/tlnet/

I was able to 

- wget update-tlmgr-latest.sh from there
- run sh update-tlmgr-latest.sh -- --upgrade
- run tlmgr update --self --all

All went well. Thank you!

On April 1, 2021 9:06:47 PM EDT, Norbert Preining <norbert at preining.info> wrote:
>Hi
>
>> I don't understand: *where* should that file be?
>> 
>> Additionally, since mirror.ctan.org was redirecting me, I directly
>downloaded
>>
>http://tug.ctan.org/tex-archive/systems/texlive/tlnet/update-tlmgr-latest.sh
>
>The point is that the mirrors are probably not up to date. Please wait
>a
>few hours until the mirror push is out.
>
>The file I mentioned should be in 
>	http://mirror.ctan.org/systems/texlive/tlnet/
>(I thought at least that it will show up there ...)
>
>> Diffing it to what I had before shows them identical.. So I'm pretty
>sure I have whatever latest updater is available.
>
>But maybe not the latest available ;-)
>
>Just give it some time ...
>
>Norbert
>
>--
>PREINING Norbert                              https://www.preining.info
>Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
>GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From henri at henrimenke.de  Fri Apr  2 13:46:03 2021
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 02 Apr 2021 13:46:03 +0200
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
Message-ID: <42c14f794ae105482c67501a095fd559990c20bc.camel@henrimenke.de>

Ah, you're on a DigitalOcean VPS. They are very popular among scammers,
spammers, and for DDoS, so it's very likely that your IP is blocked
pretty much everywhere. Check whether you appear in any of the common
databases, e.g.

https://www.abuseipdb.com/

Cheers, Henri

On Fri, 2021-04-02 at 07:09 -0400, AC wrote:
> Here are the results of an mtr ping:
> 
> Start: 2021-04-02T03:33:06+0000
> HOST:
> gilead                                                               
>  Loss%   Snt   Last   Avg  Best  Wrst StDev
>   1.
> AS???    ???                                                         
>   100.0   100    0.0   0.0   0.0   0.0   0.0
>   2.
> AS???    10.74.132.77                                                
>    0.0%   100    0.5   0.9   0.4  29.9   3.0
>   3.
> AS???    138.197.248.232                                             
>    0.0%   100    1.1   2.3   0.7  36.6   4.9
>   4.
> AS???    138.197.248.12                                              
>    0.0%   100    0.6   1.8   0.3  61.5   7.4
>   5.
> AS???    138.197.244.46                                              
>    0.0%   100    0.9   1.1   0.8   4.4   0.5
>   6.
> AS14061  162.243.191.247                                             
>    0.0%   100    0.9   1.5   0.9  36.5   3.7
>   7. AS6461   ae18.cs1.lga5.us.zip.zayo.com
> (64.125.27.178)                 99.0%   100   48.4  48.4  48.4  48.4 
>   0.0
>   8. AS6461   ae3.cs3.ord2.us.eth.zayo.com
> (64.125.29.209)                  88.0%   100   50.9  49.1  48.4  50.9
>    0.7
>   9.
> AS???    ???                                                         
>   100.0   100    0.0   0.0   0.0   0.0   0.0
>  10. AS6461   ae11.mpr2.slc2.us.zip.zayo.com
> (64.125.26.43)                  0.0%   100   48.3  49.1  48.1  75.9  
>  3.5
>  11. AS6461   ae4.mpr1.slc2.us.zip.zayo.com
> (64.125.26.164)                  0.0%   100   47.6  48.4  47.6  65.2 
>   2.3
>  12. AS6461   209.66.120.134.IPYX-246177-ZYO.zip.zayo.com
> (209.66.120.134)   0.0%   100   48.3  49.1  48.2  65.4   3.1
>  13.
> AS210    140.197.253.110                                             
>    0.0%   100   49.5  49.6  49.4  50.1   0.1
>  14.
> AS210    140.197.252.76                                              
>    0.0%   100   49.7  49.6  49.3  50.1   0.1
>  15.
> AS210    140.197.252.84                                              
>    0.0%   100   50.9  49.7  49.3  52.0   0.5
>  16.
> AS210    140.197.253.139                                             
>    0.0%   100   49.4  49.3  49.2  50.1   0.1
>  17.
> AS17055  199.104.93.117                                              
>    0.0%   100   49.6  49.6  49.5  50.2   0.1
>  18.
> AS17055  199.104.93.102                                              
>    0.0%   100   50.1  50.7  50.0  63.7   1.9
>  19.
> AS17055  155.99.130.59                                               
>    0.0%   100   50.2  50.1  50.0  50.7   0.1
>  20.
> AS17055  155.99.130.14                                               
>    0.0%   100   50.4  50.4  49.9  62.9   1.7
>  21.
> AS???    ???                                                         
>   100.0   100    0.0   0.0   0.0   0.0   0.0
> 
> ---
> 
> I am certainly *not* on ip6, and my VPS admins advise as follows:
> 
> > Thank you for following up and sharing the mtr results. As per the
> > mtr results, the destination domain "tug.ctan.org" is not
> > reachable. As we are able to ping from other droplets, I suspect
> > the issue is that your droplet's IP address is blocked at the
> > destination.
> > 
> > As the packets are moving out of DigitalOcean' network (AS14061)
> > and traversing to the destination, this isn't an issue at the
> > DigitalOcean managed network. You will need to contact the
> > administrator of the domain "tug.ctan.org" and request them to
> > check if the droplet's IP is blacklisted for some reason and
> > request them to delist.
> > 
> 
> This is what it looks like to me too: there's every indication that
> tug.ctan.org is specifically blocking this IP. I simply do not see
> how the issue could be at my end..
> 
> Whom would I contact about that? 
> 
> I am not sure who controls tug.ctan.org, and whether someone who
> could un-blacklist me is reading this.
> 
> On April 2, 2021 6:56:13 AM EDT, Zdenek Wagner <
> zdenek.wagner at gmail.com> wrote:
> > Hi all,
> > 
> > I tried to ping tug.ctan.org without specifying the protcol and
> > with
> > IPv6 requested. This is my result:
> > 
> > [zw at math-gnostics ~]$ ping -c5 tug.ctan.org
> > PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1 ttl=33
> > time=154 ms
> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2 ttl=33
> > time=154 ms
> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3 ttl=33
> > time=154 ms
> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4 ttl=33
> > time=154 ms
> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5 ttl=33
> > time=154 ms
> > 
> > --- ftp.math.utah.edu ping statistics ---
> > 5 packets transmitted, 5 received, 0% packet loss, time 4007ms
> > rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
> > [zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
> > ping: tug.ctan.org: Address family for hostname not supported
> > 
> > So the reason for timeout must be somewhere else, not in IPv6, the
> > program would inform about it.
> > 
> > Zden?k Wagner
> > http://ttsm.icpf.cas.cz/team/wagner.shtml
> > http://icebearsoft.euweb.cz
> > 
> > p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
> > <tex-live at tug.org> napsal:
> > > On 01/04/21, 23:17, AC wrote:
> > > > Well, I know it's accessible, but the problem is specific to
> > > > this
> > pair of IPs.. I can ping
> > > > - google.com just fine from that affected machine, and
> > > > - tug.ctan.org from any other IPs I control (like my home
> > computers).
> > > > Could it be that the server is rejecting my connection (from
> > > > that
> > specific IP) due to some misconfiguration?
> > > Could it be that you are on an IPv6 only network? The domain
> > > tug.ctan.org only returns an IPv4 address.
> > > 
> > > Nevertheless, the problem is definitely on your side.
> > > 
> > > Cheers, Henri
> > > 
> > > > On April 1, 2021 11:02:54 PM EDT, Norbert Preining
> > <norbert at preining.info> wrote:
> > > > > On Thu, 01 Apr 2021, AC wrote:
> > > > > > ping tug.ctan.org
> > > > > > - time out on the affected machine, but
> > > > > 
> > > > > Nothing we can help you there. If you have root access, you
> > > > > can
> > try
> > > > > traceroute to see where it hangs. The server is definitely
> > accessible.
> > > > > Best
> > > > > 
> > > > > Norbert
> > > > > 
> > > > > --
> > > > > PREINING Norbert                             
> > https://www.preining.info
> > > > > Fujitsu                 + IFMGA Guide + TU Wien + TeX Live +
> > Debian Dev
> > > > > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448
> > > > > 860C
> > DC13


From achirvasub at gmail.com  Fri Apr  2 13:50:22 2021
From: achirvasub at gmail.com (AC)
Date: Fri, 02 Apr 2021 07:50:22 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <42c14f794ae105482c67501a095fd559990c20bc.camel@henrimenke.de>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
 <42c14f794ae105482c67501a095fd559990c20bc.camel@henrimenke.de>
Message-ID: <04461E1F-C536-403F-922F-FCA1CC7CBD92@gmail.com>

Thanks for that suggestion (to both of you who've made it)!

https://www.abuseipdb.com/

says the IP in question has *not* been reported, so I'm good there.

https://www.ipvoid.com/ip-blacklist-check/

and

https://www.whatismyip.com/blacklist-check/

lists that external IP as completely safe, meaning it's not on any of the blacklists they check (dozens, maybe over 100 in each case).

On the other hand,

https://whatismyip.live/blacklist-check

finds it on some uribl.com lists, but that's not it either: my home address is on there too (for unfathomable reasons), and I can ping tug.ctan.org fine from there.

In fact, trying out a bunch of these websites, my home external IP tends to be on more blacklists than the problematic one..

On April 2, 2021 7:46:03 AM EDT, Henri Menke via tex-live <tex-live at tug.org> wrote:
>Ah, you're on a DigitalOcean VPS. They are very popular among scammers,
>spammers, and for DDoS, so it's very likely that your IP is blocked
>pretty much everywhere. Check whether you appear in any of the common
>databases, e.g.
>
>https://www.abuseipdb.com
>
>Cheers, Henri
>
>On Fri, 2021-04-02 at 07:09 -0400, AC wrote:
>> Here are the results of an mtr ping:
>> 
>> Start: 2021-04-02T03:33:06+0000
>> HOST:
>> gilead                                                               
>>  Loss%   Snt   Last   Avg  Best  Wrst StDev
>>   1.
>> AS???    ???                                                         
>>   100.0   100    0.0   0.0   0.0   0.0   0.0
>>   2.
>> AS???    10.74.132.77                                                
>>    0.0%   100    0.5   0.9   0.4  29.9   3.0
>>   3.
>> AS???    138.197.248.232                                             
>>    0.0%   100    1.1   2.3   0.7  36.6   4.9
>>   4.
>> AS???    138.197.248.12                                              
>>    0.0%   100    0.6   1.8   0.3  61.5   7.4
>>   5.
>> AS???    138.197.244.46                                              
>>    0.0%   100    0.9   1.1   0.8   4.4   0.5
>>   6.
>> AS14061  162.243.191.247                                             
>>    0.0%   100    0.9   1.5   0.9  36.5   3.7
>>   7. AS6461   ae18.cs1.lga5.us.zip.zayo.com
>> (64.125.27.178)                 99.0%   100   48.4  48.4  48.4  48.4 
>>   0.0
>>   8. AS6461   ae3.cs3.ord2.us.eth.zayo.com
>> (64.125.29.209)                  88.0%   100   50.9  49.1  48.4  50.9
>>    0.7
>>   9.
>> AS???    ???                                                         
>>   100.0   100    0.0   0.0   0.0   0.0   0.0
>>  10. AS6461   ae11.mpr2.slc2.us.zip.zayo.com
>> (64.125.26.43)                  0.0%   100   48.3  49.1  48.1  75.9  
>>  3.5
>>  11. AS6461   ae4.mpr1.slc2.us.zip.zayo.com
>> (64.125.26.164)                  0.0%   100   47.6  48.4  47.6  65.2 
>>   2.3
>>  12. AS6461   209.66.120.134.IPYX-246177-ZYO.zip.zayo.com
>> (209.66.120.134)   0.0%   100   48.3  49.1  48.2  65.4   3.1
>>  13.
>> AS210    140.197.253.110                                             
>>    0.0%   100   49.5  49.6  49.4  50.1   0.1
>>  14.
>> AS210    140.197.252.76                                              
>>    0.0%   100   49.7  49.6  49.3  50.1   0.1
>>  15.
>> AS210    140.197.252.84                                              
>>    0.0%   100   50.9  49.7  49.3  52.0   0.5
>>  16.
>> AS210    140.197.253.139                                             
>>    0.0%   100   49.4  49.3  49.2  50.1   0.1
>>  17.
>> AS17055  199.104.93.117                                              
>>    0.0%   100   49.6  49.6  49.5  50.2   0.1
>>  18.
>> AS17055  199.104.93.102                                              
>>    0.0%   100   50.1  50.7  50.0  63.7   1.9
>>  19.
>> AS17055  155.99.130.59                                               
>>    0.0%   100   50.2  50.1  50.0  50.7   0.1
>>  20.
>> AS17055  155.99.130.14                                               
>>    0.0%   100   50.4  50.4  49.9  62.9   1.7
>>  21.
>> AS???    ???                                                         
>>   100.0   100    0.0   0.0   0.0   0.0   0.0
>> 
>> ---
>> 
>> I am certainly *not* on ip6, and my VPS admins advise as follows:
>> 
>> > Thank you for following up and sharing the mtr results. As per the
>> > mtr results, the destination domain "tug.ctan.org" is not
>> > reachable. As we are able to ping from other droplets, I suspect
>> > the issue is that your droplet's IP address is blocked at the
>> > destination.
>> > 
>> > As the packets are moving out of DigitalOcean' network (AS14061)
>> > and traversing to the destination, this isn't an issue at the
>> > DigitalOcean managed network. You will need to contact the
>> > administrator of the domain "tug.ctan.org" and request them to
>> > check if the droplet's IP is blacklisted for some reason and
>> > request them to delist.
>> > 
>> 
>> This is what it looks like to me too: there's every indication that
>> tug.ctan.org is specifically blocking this IP. I simply do not see
>> how the issue could be at my end..
>> 
>> Whom would I contact about that? 
>> 
>> I am not sure who controls tug.ctan.org, and whether someone who
>> could un-blacklist me is reading this.
>> 
>> On April 2, 2021 6:56:13 AM EDT, Zdenek Wagner <
>> zdenek.wagner at gmail.com> wrote:
>> > Hi all,
>> > 
>> > I tried to ping tug.ctan.org without specifying the protcol and
>> > with
>> > IPv6 requested. This is my result:
>> > 
>> > [zw at math-gnostics ~]$ ping -c5 tug.ctan.org
>> > PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
>> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1 ttl=33
>> > time=154 ms
>> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2 ttl=33
>> > time=154 ms
>> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3 ttl=33
>> > time=154 ms
>> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4 ttl=33
>> > time=154 ms
>> > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5 ttl=33
>> > time=154 ms
>> > 
>> > --- ftp.math.utah.edu ping statistics ---
>> > 5 packets transmitted, 5 received, 0% packet loss, time 4007ms
>> > rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
>> > [zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
>> > ping: tug.ctan.org: Address family for hostname not supported
>> > 
>> > So the reason for timeout must be somewhere else, not in IPv6, the
>> > program would inform about it.
>> > 
>> > Zden?k Wagner
>> > http://ttsm.icpf.cas.cz/team/wagner.shtml
>> > http://icebearsoft.euweb.cz
>> > 
>> > p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
>> > <tex-live at tug.org> napsal:
>> > > On 01/04/21, 23:17, AC wrote:
>> > > > Well, I know it's accessible, but the problem is specific to
>> > > > this
>> > pair of IPs.. I can ping
>> > > > - google.com just fine from that affected machine, and
>> > > > - tug.ctan.org from any other IPs I control (like my home
>> > computers).
>> > > > Could it be that the server is rejecting my connection (from
>> > > > that
>> > specific IP) due to some misconfiguration?
>> > > Could it be that you are on an IPv6 only network? The domain
>> > > tug.ctan.org only returns an IPv4 address.
>> > > 
>> > > Nevertheless, the problem is definitely on your side.
>> > > 
>> > > Cheers, Henri
>> > > 
>> > > > On April 1, 2021 11:02:54 PM EDT, Norbert Preining
>> > <norbert at preining.info> wrote:
>> > > > > On Thu, 01 Apr 2021, AC wrote:
>> > > > > > ping tug.ctan.org
>> > > > > > - time out on the affected machine, but
>> > > > > 
>> > > > > Nothing we can help you there. If you have root access, you
>> > > > > can
>> > try
>> > > > > traceroute to see where it hangs. The server is definitely
>> > accessible.
>> > > > > Best
>> > > > > 
>> > > > > Norbert
>> > > > > 
>> > > > > --
>> > > > > PREINING Norbert                             
>> > https://www.preining.info
>> > > > > Fujitsu                 + IFMGA Guide + TU Wien + TeX Live +
>> > Debian Dev
>> > > > > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448
>> > > > > 860C
>> > DC13


From henri at henrimenke.de  Fri Apr  2 14:00:45 2021
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 02 Apr 2021 14:00:45 +0200
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <04461E1F-C536-403F-922F-FCA1CC7CBD92@gmail.com>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
 <42c14f794ae105482c67501a095fd559990c20bc.camel@henrimenke.de>
 <04461E1F-C536-403F-922F-FCA1CC7CBD92@gmail.com>
Message-ID: <6e2095fc9987813fd1d73361aa0d7c16cefcd09b.camel@henrimenke.de>

Which datacenter do you have your droplet in? I'll quickly spin up a
VPS myself to check whether ftp.math.utah.edu is maybe blocking the
entire DigitalOcean range of IPs (which is what Netflix does).

Cheers, Henri

On Fri, 2021-04-02 at 07:50 -0400, AC wrote:
> Thanks for that suggestion (to both of you who've made it)!
> 
> https://www.abuseipdb.com/
> 
> says the IP in question has *not* been reported, so I'm good there.
> 
> https://www.ipvoid.com/ip-blacklist-check/
> 
> and
> 
> https://www.whatismyip.com/blacklist-check/
> 
> lists that external IP as completely safe, meaning it's not on any of
> the blacklists they check (dozens, maybe over 100 in each case).
> 
> On the other hand,
> 
> https://whatismyip.live/blacklist-check
> 
> finds it on some uribl.com lists, but that's not it either: my home
> address is on there too (for unfathomable reasons), and I can ping
> tug.ctan.org fine from there.
> 
> In fact, trying out a bunch of these websites, my home external IP
> tends to be on more blacklists than the problematic one..
> 
> On April 2, 2021 7:46:03 AM EDT, Henri Menke via tex-live <
> tex-live at tug.org> wrote:
> > Ah, you're on a DigitalOcean VPS. They are very popular among
> > scammers,
> > spammers, and for DDoS, so it's very likely that your IP is blocked
> > pretty much everywhere. Check whether you appear in any of the
> > common
> > databases, e.g.
> > 
> > https://www.abuseipdb.com
> > 
> > Cheers, Henri
> > 
> > On Fri, 2021-04-02 at 07:09 -0400, AC wrote:
> > > Here are the results of an mtr ping:
> > > 
> > > Start: 2021-04-02T03:33:06+0000
> > > HOST:
> > > gilead                                                           
> > >     
> > >  Loss%   Snt   Last   Avg  Best  Wrst StDev
> > >   1.
> > > AS???    ???                                                     
> > >     
> > >   100.0   100    0.0   0.0   0.0   0.0   0.0
> > >   2.
> > > AS???    10.74.132.77                                            
> > >     
> > >    0.0%   100    0.5   0.9   0.4  29.9   3.0
> > >   3.
> > > AS???    138.197.248.232                                         
> > >     
> > >    0.0%   100    1.1   2.3   0.7  36.6   4.9
> > >   4.
> > > AS???    138.197.248.12                                          
> > >     
> > >    0.0%   100    0.6   1.8   0.3  61.5   7.4
> > >   5.
> > > AS???    138.197.244.46                                          
> > >     
> > >    0.0%   100    0.9   1.1   0.8   4.4   0.5
> > >   6.
> > > AS14061  162.243.191.247                                         
> > >     
> > >    0.0%   100    0.9   1.5   0.9  36.5   3.7
> > >   7. AS6461   ae18.cs1.lga5.us.zip.zayo.com
> > > (64.125.27.178)                 99.0%   100   48.4  48.4  48.4  4
> > > 8.4 
> > >   0.0
> > >   8. AS6461   ae3.cs3.ord2.us.eth.zayo.com
> > > (64.125.29.209)                  88.0%   100   50.9  49.1  48.4  
> > > 50.9
> > >    0.7
> > >   9.
> > > AS???    ???                                                     
> > >     
> > >   100.0   100    0.0   0.0   0.0   0.0   0.0
> > >  10. AS6461   ae11.mpr2.slc2.us.zip.zayo.com
> > > (64.125.26.43)                  0.0%   100   48.3  49.1  48.1  75
> > > .9  
> > >  3.5
> > >  11. AS6461   ae4.mpr1.slc2.us.zip.zayo.com
> > > (64.125.26.164)                  0.0%   100   47.6  48.4  47.6  6
> > > 5.2 
> > >   2.3
> > >  12. AS6461   209.66.120.134.IPYX-246177-ZYO.zip.zayo.com
> > > (209.66.120.134)   0.0%   100   48.3  49.1  48.2  65.4   3.1
> > >  13.
> > > AS210    140.197.253.110                                         
> > >     
> > >    0.0%   100   49.5  49.6  49.4  50.1   0.1
> > >  14.
> > > AS210    140.197.252.76                                          
> > >     
> > >    0.0%   100   49.7  49.6  49.3  50.1   0.1
> > >  15.
> > > AS210    140.197.252.84                                          
> > >     
> > >    0.0%   100   50.9  49.7  49.3  52.0   0.5
> > >  16.
> > > AS210    140.197.253.139                                         
> > >     
> > >    0.0%   100   49.4  49.3  49.2  50.1   0.1
> > >  17.
> > > AS17055  199.104.93.117                                          
> > >     
> > >    0.0%   100   49.6  49.6  49.5  50.2   0.1
> > >  18.
> > > AS17055  199.104.93.102                                          
> > >     
> > >    0.0%   100   50.1  50.7  50.0  63.7   1.9
> > >  19.
> > > AS17055  155.99.130.59                                           
> > >     
> > >    0.0%   100   50.2  50.1  50.0  50.7   0.1
> > >  20.
> > > AS17055  155.99.130.14                                           
> > >     
> > >    0.0%   100   50.4  50.4  49.9  62.9   1.7
> > >  21.
> > > AS???    ???                                                     
> > >     
> > >   100.0   100    0.0   0.0   0.0   0.0   0.0
> > > 
> > > ---
> > > 
> > > I am certainly *not* on ip6, and my VPS admins advise as follows:
> > > 
> > > > Thank you for following up and sharing the mtr results. As per
> > > > the
> > > > mtr results, the destination domain "tug.ctan.org" is not
> > > > reachable. As we are able to ping from other droplets, I
> > > > suspect
> > > > the issue is that your droplet's IP address is blocked at the
> > > > destination.
> > > > 
> > > > As the packets are moving out of DigitalOcean' network
> > > > (AS14061)
> > > > and traversing to the destination, this isn't an issue at the
> > > > DigitalOcean managed network. You will need to contact the
> > > > administrator of the domain "tug.ctan.org" and request them to
> > > > check if the droplet's IP is blacklisted for some reason and
> > > > request them to delist.
> > > > 
> > > 
> > > This is what it looks like to me too: there's every indication
> > > that
> > > tug.ctan.org is specifically blocking this IP. I simply do not
> > > see
> > > how the issue could be at my end..
> > > 
> > > Whom would I contact about that? 
> > > 
> > > I am not sure who controls tug.ctan.org, and whether someone who
> > > could un-blacklist me is reading this.
> > > 
> > > On April 2, 2021 6:56:13 AM EDT, Zdenek Wagner <
> > > zdenek.wagner at gmail.com> wrote:
> > > > Hi all,
> > > > 
> > > > I tried to ping tug.ctan.org without specifying the protcol and
> > > > with
> > > > IPv6 requested. This is my result:
> > > > 
> > > > [zw at math-gnostics ~]$ ping -c5 tug.ctan.org
> > > > PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1
> > > > ttl=33
> > > > time=154 ms
> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2
> > > > ttl=33
> > > > time=154 ms
> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3
> > > > ttl=33
> > > > time=154 ms
> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4
> > > > ttl=33
> > > > time=154 ms
> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5
> > > > ttl=33
> > > > time=154 ms
> > > > 
> > > > --- ftp.math.utah.edu ping statistics ---
> > > > 5 packets transmitted, 5 received, 0% packet loss, time 4007ms
> > > > rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
> > > > [zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
> > > > ping: tug.ctan.org: Address family for hostname not supported
> > > > 
> > > > So the reason for timeout must be somewhere else, not in IPv6,
> > > > the
> > > > program would inform about it.
> > > > 
> > > > Zden?k Wagner
> > > > http://ttsm.icpf.cas.cz/team/wagner.shtml
> > > > http://icebearsoft.euweb.cz
> > > > 
> > > > p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
> > > > <tex-live at tug.org> napsal:
> > > > > On 01/04/21, 23:17, AC wrote:
> > > > > > Well, I know it's accessible, but the problem is specific
> > > > > > to
> > > > > > this
> > > > pair of IPs.. I can ping
> > > > > > - google.com just fine from that affected machine, and
> > > > > > - tug.ctan.org from any other IPs I control (like my home
> > > > computers).
> > > > > > Could it be that the server is rejecting my connection
> > > > > > (from
> > > > > > that
> > > > specific IP) due to some misconfiguration?
> > > > > Could it be that you are on an IPv6 only network? The domain
> > > > > tug.ctan.org only returns an IPv4 address.
> > > > > 
> > > > > Nevertheless, the problem is definitely on your side.
> > > > > 
> > > > > Cheers, Henri
> > > > > 
> > > > > > On April 1, 2021 11:02:54 PM EDT, Norbert Preining
> > > > <norbert at preining.info> wrote:
> > > > > > > On Thu, 01 Apr 2021, AC wrote:
> > > > > > > > ping tug.ctan.org
> > > > > > > > - time out on the affected machine, but
> > > > > > > 
> > > > > > > Nothing we can help you there. If you have root access,
> > > > > > > you
> > > > > > > can
> > > > try
> > > > > > > traceroute to see where it hangs. The server is
> > > > > > > definitely
> > > > accessible.
> > > > > > > Best
> > > > > > > 
> > > > > > > Norbert
> > > > > > > 
> > > > > > > --
> > > > > > > PREINING Norbert                             
> > > > https://www.preining.info
> > > > > > > Fujitsu                 + IFMGA Guide + TU Wien + TeX
> > > > > > > Live +
> > > > Debian Dev
> > > > > > > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC
> > > > > > > A448
> > > > > > > 860C
> > > > DC13


From norbert at preining.info  Fri Apr  2 14:09:15 2021
From: norbert at preining.info (Norbert Preining)
Date: Fri, 2 Apr 2021 21:09:15 +0900
Subject: upgrading from 2020 to 2021
In-Reply-To: <146BB7D7-9A77-4BCA-B7E2-FF429A4294E9@gmail.com>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
 <YGZoSypHJGLfFxG5@bulldog.preining.info>
 <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>
 <E1FDCE89-A37B-477C-8D91-CDFC513F8BC8@gmail.com>
 <YGZuJ1GLqDD5K0im@bulldog.preining.info>
 <146BB7D7-9A77-4BCA-B7E2-FF429A4294E9@gmail.com>
Message-ID: <YGcJa45R3AyWuPl2@bulldog.preining.info>

> All went well. Thank you!

Halleluja!

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From achirvasub at gmail.com  Fri Apr  2 14:11:07 2021
From: achirvasub at gmail.com (AC)
Date: Fri, 02 Apr 2021 08:11:07 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <6e2095fc9987813fd1d73361aa0d7c16cefcd09b.camel@henrimenke.de>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
 <42c14f794ae105482c67501a095fd559990c20bc.camel@henrimenke.de>
 <04461E1F-C536-403F-922F-FCA1CC7CBD92@gmail.com>
 <6e2095fc9987813fd1d73361aa0d7c16cefcd09b.camel@henrimenke.de>
Message-ID: <18FAD595-2A44-4343-9C73-9866C07522AD@gmail.com>

It's NYC3, so New York City.

And thanks!

On April 2, 2021 8:00:45 AM EDT, Henri Menke via tex-live <tex-live at tug.org> wrote:
>Which datacenter do you have your droplet in? I'll quickly spin up a
>VPS myself to check whether ftp.math.utah.edu is maybe blocking the
>entire DigitalOcean range of IPs (which is what Netflix does).
>
>Cheers, Henri
>
>On Fri, 2021-04-02 at 07:50 -0400, AC wrote:
>> Thanks for that suggestion (to both of you who've made it)!
>> 
>> https://www.abuseipdb.com/
>> 
>> says the IP in question has *not* been reported, so I'm good there.
>> 
>> https://www.ipvoid.com/ip-blacklist-check/
>> 
>> and
>> 
>> https://www.whatismyip.com/blacklist-check/
>> 
>> lists that external IP as completely safe, meaning it's not on any of
>> the blacklists they check (dozens, maybe over 100 in each case).
>> 
>> On the other hand,
>> 
>> https://whatismyip.live/blacklist-check
>> 
>> finds it on some uribl.com lists, but that's not it either: my home
>> address is on there too (for unfathomable reasons), and I can ping
>> tug.ctan.org fine from there.
>> 
>> In fact, trying out a bunch of these websites, my home external IP
>> tends to be on more blacklists than the problematic one..
>> 
>> On April 2, 2021 7:46:03 AM EDT, Henri Menke via tex-live <
>> tex-live at tug.org> wrote:
>> > Ah, you're on a DigitalOcean VPS. They are very popular among
>> > scammers,
>> > spammers, and for DDoS, so it's very likely that your IP is blocked
>> > pretty much everywhere. Check whether you appear in any of the
>> > common
>> > databases, e.g.
>> > 
>> > https://www.abuseipdb.com
>> > 
>> > Cheers, Henri
>> > 
>> > On Fri, 2021-04-02 at 07:09 -0400, AC wrote:
>> > > Here are the results of an mtr ping:
>> > > 
>> > > Start: 2021-04-02T03:33:06+0000
>> > > HOST:
>> > > gilead                                                           
>> > >     
>> > >  Loss%   Snt   Last   Avg  Best  Wrst StDev
>> > >   1.
>> > > AS???    ???                                                     
>> > >     
>> > >   100.0   100    0.0   0.0   0.0   0.0   0.0
>> > >   2.
>> > > AS???    10.74.132.77                                            
>> > >     
>> > >    0.0%   100    0.5   0.9   0.4  29.9   3.0
>> > >   3.
>> > > AS???    138.197.248.232                                         
>> > >     
>> > >    0.0%   100    1.1   2.3   0.7  36.6   4.9
>> > >   4.
>> > > AS???    138.197.248.12                                          
>> > >     
>> > >    0.0%   100    0.6   1.8   0.3  61.5   7.4
>> > >   5.
>> > > AS???    138.197.244.46                                          
>> > >     
>> > >    0.0%   100    0.9   1.1   0.8   4.4   0.5
>> > >   6.
>> > > AS14061  162.243.191.247                                         
>> > >     
>> > >    0.0%   100    0.9   1.5   0.9  36.5   3.7
>> > >   7. AS6461   ae18.cs1.lga5.us.zip.zayo.com
>> > > (64.125.27.178)                 99.0%   100   48.4  48.4  48.4  4
>> > > 8.4 
>> > >   0.0
>> > >   8. AS6461   ae3.cs3.ord2.us.eth.zayo.com
>> > > (64.125.29.209)                  88.0%   100   50.9  49.1  48.4  
>> > > 50.9
>> > >    0.7
>> > >   9.
>> > > AS???    ???                                                     
>> > >     
>> > >   100.0   100    0.0   0.0   0.0   0.0   0.0
>> > >  10. AS6461   ae11.mpr2.slc2.us.zip.zayo.com
>> > > (64.125.26.43)                  0.0%   100   48.3  49.1  48.1  75
>> > > .9  
>> > >  3.5
>> > >  11. AS6461   ae4.mpr1.slc2.us.zip.zayo.com
>> > > (64.125.26.164)                  0.0%   100   47.6  48.4  47.6  6
>> > > 5.2 
>> > >   2.3
>> > >  12. AS6461   209.66.120.134.IPYX-246177-ZYO.zip.zayo.com
>> > > (209.66.120.134)   0.0%   100   48.3  49.1  48.2  65.4   3.1
>> > >  13.
>> > > AS210    140.197.253.110                                         
>> > >     
>> > >    0.0%   100   49.5  49.6  49.4  50.1   0.1
>> > >  14.
>> > > AS210    140.197.252.76                                          
>> > >     
>> > >    0.0%   100   49.7  49.6  49.3  50.1   0.1
>> > >  15.
>> > > AS210    140.197.252.84                                          
>> > >     
>> > >    0.0%   100   50.9  49.7  49.3  52.0   0.5
>> > >  16.
>> > > AS210    140.197.253.139                                         
>> > >     
>> > >    0.0%   100   49.4  49.3  49.2  50.1   0.1
>> > >  17.
>> > > AS17055  199.104.93.117                                          
>> > >     
>> > >    0.0%   100   49.6  49.6  49.5  50.2   0.1
>> > >  18.
>> > > AS17055  199.104.93.102                                          
>> > >     
>> > >    0.0%   100   50.1  50.7  50.0  63.7   1.9
>> > >  19.
>> > > AS17055  155.99.130.59                                           
>> > >     
>> > >    0.0%   100   50.2  50.1  50.0  50.7   0.1
>> > >  20.
>> > > AS17055  155.99.130.14                                           
>> > >     
>> > >    0.0%   100   50.4  50.4  49.9  62.9   1.7
>> > >  21.
>> > > AS???    ???                                                     
>> > >     
>> > >   100.0   100    0.0   0.0   0.0   0.0   0.0
>> > > 
>> > > ---
>> > > 
>> > > I am certainly *not* on ip6, and my VPS admins advise as follows:
>> > > 
>> > > > Thank you for following up and sharing the mtr results. As per
>> > > > the
>> > > > mtr results, the destination domain "tug.ctan.org" is not
>> > > > reachable. As we are able to ping from other droplets, I
>> > > > suspect
>> > > > the issue is that your droplet's IP address is blocked at the
>> > > > destination.
>> > > > 
>> > > > As the packets are moving out of DigitalOcean' network
>> > > > (AS14061)
>> > > > and traversing to the destination, this isn't an issue at the
>> > > > DigitalOcean managed network. You will need to contact the
>> > > > administrator of the domain "tug.ctan.org" and request them to
>> > > > check if the droplet's IP is blacklisted for some reason and
>> > > > request them to delist.
>> > > > 
>> > > 
>> > > This is what it looks like to me too: there's every indication
>> > > that
>> > > tug.ctan.org is specifically blocking this IP. I simply do not
>> > > see
>> > > how the issue could be at my end..
>> > > 
>> > > Whom would I contact about that? 
>> > > 
>> > > I am not sure who controls tug.ctan.org, and whether someone who
>> > > could un-blacklist me is reading this.
>> > > 
>> > > On April 2, 2021 6:56:13 AM EDT, Zdenek Wagner <
>> > > zdenek.wagner at gmail.com> wrote:
>> > > > Hi all,
>> > > > 
>> > > > I tried to ping tug.ctan.org without specifying the protcol and
>> > > > with
>> > > > IPv6 requested. This is my result:
>> > > > 
>> > > > [zw at math-gnostics ~]$ ping -c5 tug.ctan.org
>> > > > PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
>> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1
>> > > > ttl=33
>> > > > time=154 ms
>> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2
>> > > > ttl=33
>> > > > time=154 ms
>> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3
>> > > > ttl=33
>> > > > time=154 ms
>> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4
>> > > > ttl=33
>> > > > time=154 ms
>> > > > 64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5
>> > > > ttl=33
>> > > > time=154 ms
>> > > > 
>> > > > --- ftp.math.utah.edu ping statistics ---
>> > > > 5 packets transmitted, 5 received, 0% packet loss, time 4007ms
>> > > > rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
>> > > > [zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
>> > > > ping: tug.ctan.org: Address family for hostname not supported
>> > > > 
>> > > > So the reason for timeout must be somewhere else, not in IPv6,
>> > > > the
>> > > > program would inform about it.
>> > > > 
>> > > > Zden?k Wagner
>> > > > http://ttsm.icpf.cas.cz/team/wagner.shtml
>> > > > http://icebearsoft.euweb.cz
>> > > > 
>> > > > p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
>> > > > <tex-live at tug.org> napsal:
>> > > > > On 01/04/21, 23:17, AC wrote:
>> > > > > > Well, I know it's accessible, but the problem is specific
>> > > > > > to
>> > > > > > this
>> > > > pair of IPs.. I can ping
>> > > > > > - google.com just fine from that affected machine, and
>> > > > > > - tug.ctan.org from any other IPs I control (like my home
>> > > > computers).
>> > > > > > Could it be that the server is rejecting my connection
>> > > > > > (from
>> > > > > > that
>> > > > specific IP) due to some misconfiguration?
>> > > > > Could it be that you are on an IPv6 only network? The domain
>> > > > > tug.ctan.org only returns an IPv4 address.
>> > > > > 
>> > > > > Nevertheless, the problem is definitely on your side.
>> > > > > 
>> > > > > Cheers, Henri
>> > > > > 
>> > > > > > On April 1, 2021 11:02:54 PM EDT, Norbert Preining
>> > > > <norbert at preining.info> wrote:
>> > > > > > > On Thu, 01 Apr 2021, AC wrote:
>> > > > > > > > ping tug.ctan.org
>> > > > > > > > - time out on the affected machine, but
>> > > > > > > 
>> > > > > > > Nothing we can help you there. If you have root access,
>> > > > > > > you
>> > > > > > > can
>> > > > try
>> > > > > > > traceroute to see where it hangs. The server is
>> > > > > > > definitely
>> > > > accessible.
>> > > > > > > Best
>> > > > > > > 
>> > > > > > > Norbert
>> > > > > > > 
>> > > > > > > --
>> > > > > > > PREINING Norbert                             
>> > > > https://www.preining.info
>> > > > > > > Fujitsu                 + IFMGA Guide + TU Wien + TeX
>> > > > > > > Live +
>> > > > Debian Dev
>> > > > > > > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC
>> > > > > > > A448
>> > > > > > > 860C
>> > > > DC13


From henri at henrimenke.de  Fri Apr  2 14:30:01 2021
From: henri at henrimenke.de (Henri Menke)
Date: Fri, 02 Apr 2021 14:30:01 +0200
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <18FAD595-2A44-4343-9C73-9866C07522AD@gmail.com>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
 <42c14f794ae105482c67501a095fd559990c20bc.camel@henrimenke.de>
 <04461E1F-C536-403F-922F-FCA1CC7CBD92@gmail.com>
 <6e2095fc9987813fd1d73361aa0d7c16cefcd09b.camel@henrimenke.de>
 <18FAD595-2A44-4343-9C73-9866C07522AD@gmail.com>
Message-ID: <4471d654e66782fe98b1a83f00f39b63dec677c0.camel@henrimenke.de>

Hm, here everything seems to be fine.



root at ubuntu-s-1vcpu-1gb-nyc3-01:~# curl -sSfL ipinfo.io/ip | xargs
104.131.95.174
root at ubuntu-s-1vcpu-1gb-nyc3-01:~# ping -c 5 tug.ctan.org
PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1 ttl=50 time=51.0 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2 ttl=50 time=49.9 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3 ttl=50 time=50.0 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4 ttl=50 time=50.2 ms
64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5 ttl=50 time=49.9 ms

--- ftp.math.utah.edu ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4006ms
rtt min/avg/max/mdev = 49.901/50.178/50.968/0.405 ms

root at ubuntu-s-1vcpu-1gb-nyc3-01:~# curl --head http://ftp.math.utah.edu
HTTP/1.1 200 OK
Date: Fri, 02 Apr 2021 12:28:08 GMT
Server: Apache
Accept-Ranges: bytes
Content-Length: 4744
Content-Type: text/html; charset=UTF-8



Cheers, Henri

On Fri, 2021-04-02 at 08:11 -0400, AC wrote:
> It's NYC3, so New York City.
> 
> And thanks!
> 
> On April 2, 2021 8:00:45 AM EDT, Henri Menke via tex-live <
> tex-live at tug.org> wrote:
> > Which datacenter do you have your droplet in? I'll quickly spin up
> > a
> > VPS myself to check whether ftp.math.utah.edu is maybe blocking the
> > entire DigitalOcean range of IPs (which is what Netflix does).
> > 
> > Cheers, Henri
> > 
> > On Fri, 2021-04-02 at 07:50 -0400, AC wrote:
> > > Thanks for that suggestion (to both of you who've made it)!
> > > 
> > > https://www.abuseipdb.com/
> > > 
> > > says the IP in question has *not* been reported, so I'm good
> > > there.
> > > 
> > > https://www.ipvoid.com/ip-blacklist-check/
> > > 
> > > and
> > > 
> > > https://www.whatismyip.com/blacklist-check/
> > > 
> > > lists that external IP as completely safe, meaning it's not on
> > > any of
> > > the blacklists they check (dozens, maybe over 100 in each case).
> > > 
> > > On the other hand,
> > > 
> > > https://whatismyip.live/blacklist-check
> > > 
> > > finds it on some uribl.com lists, but that's not it either: my
> > > home
> > > address is on there too (for unfathomable reasons), and I can
> > > ping
> > > tug.ctan.org fine from there.
> > > 
> > > In fact, trying out a bunch of these websites, my home external
> > > IP
> > > tends to be on more blacklists than the problematic one..
> > > 
> > > On April 2, 2021 7:46:03 AM EDT, Henri Menke via tex-live <
> > > tex-live at tug.org> wrote:
> > > > Ah, you're on a DigitalOcean VPS. They are very popular among
> > > > scammers,
> > > > spammers, and for DDoS, so it's very likely that your IP is
> > > > blocked
> > > > pretty much everywhere. Check whether you appear in any of the
> > > > common
> > > > databases, e.g.
> > > > 
> > > > https://www.abuseipdb.com
> > > > 
> > > > Cheers, Henri
> > > > 
> > > > On Fri, 2021-04-02 at 07:09 -0400, AC wrote:
> > > > > Here are the results of an mtr ping:
> > > > > 
> > > > > Start: 2021-04-02T03:33:06+0000
> > > > > HOST:
> > > > > gilead                                                       
> > > > >     
> > > > >     
> > > > >  Loss%   Snt   Last   Avg  Best  Wrst StDev
> > > > >   1.
> > > > > AS???    ???                                                 
> > > > >     
> > > > >     
> > > > >   100.0   100    0.0   0.0   0.0   0.0   0.0
> > > > >   2.
> > > > > AS???    10.74.132.77                                        
> > > > >     
> > > > >     
> > > > >    0.0%   100    0.5   0.9   0.4  29.9   3.0
> > > > >   3.
> > > > > AS???    138.197.248.232                                     
> > > > >     
> > > > >     
> > > > >    0.0%   100    1.1   2.3   0.7  36.6   4.9
> > > > >   4.
> > > > > AS???    138.197.248.12                                      
> > > > >     
> > > > >     
> > > > >    0.0%   100    0.6   1.8   0.3  61.5   7.4
> > > > >   5.
> > > > > AS???    138.197.244.46                                      
> > > > >     
> > > > >     
> > > > >    0.0%   100    0.9   1.1   0.8   4.4   0.5
> > > > >   6.
> > > > > AS14061  162.243.191.247                                     
> > > > >     
> > > > >     
> > > > >    0.0%   100    0.9   1.5   0.9  36.5   3.7
> > > > >   7. AS6461   ae18.cs1.lga5.us.zip.zayo.com
> > > > > (64.125.27.178)                 99.0%   100   48.4  48.4  48.
> > > > > 4  4
> > > > > 8.4 
> > > > >   0.0
> > > > >   8. AS6461   ae3.cs3.ord2.us.eth.zayo.com
> > > > > (64.125.29.209)                  88.0%   100   50.9  49.1  48
> > > > > .4  
> > > > > 50.9
> > > > >    0.7
> > > > >   9.
> > > > > AS???    ???                                                 
> > > > >     
> > > > >     
> > > > >   100.0   100    0.0   0.0   0.0   0.0   0.0
> > > > >  10. AS6461   ae11.mpr2.slc2.us.zip.zayo.com
> > > > > (64.125.26.43)                  0.0%   100   48.3  49.1  48.1
> > > > >   75
> > > > > .9  
> > > > >  3.5
> > > > >  11. AS6461   ae4.mpr1.slc2.us.zip.zayo.com
> > > > > (64.125.26.164)                  0.0%   100   47.6  48.4  47.
> > > > > 6  6
> > > > > 5.2 
> > > > >   2.3
> > > > >  12. AS6461   209.66.120.134.IPYX-246177-ZYO.zip.zayo.com
> > > > > (209.66.120.134)   0.0%   100   48.3  49.1  48.2  65.4   3.1
> > > > >  13.
> > > > > AS210    140.197.253.110                                     
> > > > >     
> > > > >     
> > > > >    0.0%   100   49.5  49.6  49.4  50.1   0.1
> > > > >  14.
> > > > > AS210    140.197.252.76                                      
> > > > >     
> > > > >     
> > > > >    0.0%   100   49.7  49.6  49.3  50.1   0.1
> > > > >  15.
> > > > > AS210    140.197.252.84                                      
> > > > >     
> > > > >     
> > > > >    0.0%   100   50.9  49.7  49.3  52.0   0.5
> > > > >  16.
> > > > > AS210    140.197.253.139                                     
> > > > >     
> > > > >     
> > > > >    0.0%   100   49.4  49.3  49.2  50.1   0.1
> > > > >  17.
> > > > > AS17055  199.104.93.117                                      
> > > > >     
> > > > >     
> > > > >    0.0%   100   49.6  49.6  49.5  50.2   0.1
> > > > >  18.
> > > > > AS17055  199.104.93.102                                      
> > > > >     
> > > > >     
> > > > >    0.0%   100   50.1  50.7  50.0  63.7   1.9
> > > > >  19.
> > > > > AS17055  155.99.130.59                                       
> > > > >     
> > > > >     
> > > > >    0.0%   100   50.2  50.1  50.0  50.7   0.1
> > > > >  20.
> > > > > AS17055  155.99.130.14                                       
> > > > >     
> > > > >     
> > > > >    0.0%   100   50.4  50.4  49.9  62.9   1.7
> > > > >  21.
> > > > > AS???    ???                                                 
> > > > >     
> > > > >     
> > > > >   100.0   100    0.0   0.0   0.0   0.0   0.0
> > > > > 
> > > > > ---
> > > > > 
> > > > > I am certainly *not* on ip6, and my VPS admins advise as
> > > > > follows:
> > > > > 
> > > > > > Thank you for following up and sharing the mtr results. As
> > > > > > per
> > > > > > the
> > > > > > mtr results, the destination domain "tug.ctan.org" is not
> > > > > > reachable. As we are able to ping from other droplets, I
> > > > > > suspect
> > > > > > the issue is that your droplet's IP address is blocked at
> > > > > > the
> > > > > > destination.
> > > > > > 
> > > > > > As the packets are moving out of DigitalOcean' network
> > > > > > (AS14061)
> > > > > > and traversing to the destination, this isn't an issue at
> > > > > > the
> > > > > > DigitalOcean managed network. You will need to contact the
> > > > > > administrator of the domain "tug.ctan.org" and request them
> > > > > > to
> > > > > > check if the droplet's IP is blacklisted for some reason
> > > > > > and
> > > > > > request them to delist.
> > > > > > 
> > > > > 
> > > > > This is what it looks like to me too: there's every
> > > > > indication
> > > > > that
> > > > > tug.ctan.org is specifically blocking this IP. I simply do
> > > > > not
> > > > > see
> > > > > how the issue could be at my end..
> > > > > 
> > > > > Whom would I contact about that? 
> > > > > 
> > > > > I am not sure who controls tug.ctan.org, and whether someone
> > > > > who
> > > > > could un-blacklist me is reading this.
> > > > > 
> > > > > On April 2, 2021 6:56:13 AM EDT, Zdenek Wagner <
> > > > > zdenek.wagner at gmail.com> wrote:
> > > > > > Hi all,
> > > > > > 
> > > > > > I tried to ping tug.ctan.org without specifying the protcol
> > > > > > and
> > > > > > with
> > > > > > IPv6 requested. This is my result:
> > > > > > 
> > > > > > [zw at math-gnostics ~]$ ping -c5 tug.ctan.org
> > > > > > PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of
> > > > > > data.
> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
> > > > > > icmp_seq=1
> > > > > > ttl=33
> > > > > > time=154 ms
> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
> > > > > > icmp_seq=2
> > > > > > ttl=33
> > > > > > time=154 ms
> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
> > > > > > icmp_seq=3
> > > > > > ttl=33
> > > > > > time=154 ms
> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
> > > > > > icmp_seq=4
> > > > > > ttl=33
> > > > > > time=154 ms
> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
> > > > > > icmp_seq=5
> > > > > > ttl=33
> > > > > > time=154 ms
> > > > > > 
> > > > > > --- ftp.math.utah.edu ping statistics ---
> > > > > > 5 packets transmitted, 5 received, 0% packet loss, time
> > > > > > 4007ms
> > > > > > rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
> > > > > > [zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
> > > > > > ping: tug.ctan.org: Address family for hostname not
> > > > > > supported
> > > > > > 
> > > > > > So the reason for timeout must be somewhere else, not in
> > > > > > IPv6,
> > > > > > the
> > > > > > program would inform about it.
> > > > > > 
> > > > > > Zden?k Wagner
> > > > > > http://ttsm.icpf.cas.cz/team/wagner.shtml
> > > > > > http://icebearsoft.euweb.cz
> > > > > > 
> > > > > > p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
> > > > > > <tex-live at tug.org> napsal:
> > > > > > > On 01/04/21, 23:17, AC wrote:
> > > > > > > > Well, I know it's accessible, but the problem is
> > > > > > > > specific
> > > > > > > > to
> > > > > > > > this
> > > > > > pair of IPs.. I can ping
> > > > > > > > - google.com just fine from that affected machine, and
> > > > > > > > - tug.ctan.org from any other IPs I control (like my
> > > > > > > > home
> > > > > > computers).
> > > > > > > > Could it be that the server is rejecting my connection
> > > > > > > > (from
> > > > > > > > that
> > > > > > specific IP) due to some misconfiguration?
> > > > > > > Could it be that you are on an IPv6 only network? The
> > > > > > > domain
> > > > > > > tug.ctan.org only returns an IPv4 address.
> > > > > > > 
> > > > > > > Nevertheless, the problem is definitely on your side.
> > > > > > > 
> > > > > > > Cheers, Henri
> > > > > > > 
> > > > > > > > On April 1, 2021 11:02:54 PM EDT, Norbert Preining
> > > > > > <norbert at preining.info> wrote:
> > > > > > > > > On Thu, 01 Apr 2021, AC wrote:
> > > > > > > > > > ping tug.ctan.org
> > > > > > > > > > - time out on the affected machine, but
> > > > > > > > > 
> > > > > > > > > Nothing we can help you there. If you have root
> > > > > > > > > access,
> > > > > > > > > you
> > > > > > > > > can
> > > > > > try
> > > > > > > > > traceroute to see where it hangs. The server is
> > > > > > > > > definitely
> > > > > > accessible.
> > > > > > > > > Best
> > > > > > > > > 
> > > > > > > > > Norbert
> > > > > > > > > 
> > > > > > > > > --
> > > > > > > > > PREINING Norbert                             
> > > > > > https://www.preining.info
> > > > > > > > > Fujitsu                 + IFMGA Guide + TU Wien + TeX
> > > > > > > > > Live +
> > > > > > Debian Dev
> > > > > > > > > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0
> > > > > > > > > 6CAC
> > > > > > > > > A448
> > > > > > > > > 860C
> > > > > > DC13


From achirvasub at gmail.com  Fri Apr  2 14:35:19 2021
From: achirvasub at gmail.com (AC)
Date: Fri, 02 Apr 2021 08:35:19 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <4471d654e66782fe98b1a83f00f39b63dec677c0.camel@henrimenke.de>
References: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
 <YGaJXsLQx6kPuOst@bulldog.preining.info>
 <2BF70003-E95A-422C-83AA-8CB21349F957@gmail.com>
 <20210402093607.t5m2sc4wmj7rsxcd@neomutt>
 <CAC1phybJivnw7xCp9eVmXSg9GrOHFUzcJ3pN9VhFC8RmCM60JA@mail.gmail.com>
 <D636B470-2BEE-436C-9FFA-0ACE07D9DBD4@gmail.com>
 <42c14f794ae105482c67501a095fd559990c20bc.camel@henrimenke.de>
 <04461E1F-C536-403F-922F-FCA1CC7CBD92@gmail.com>
 <6e2095fc9987813fd1d73361aa0d7c16cefcd09b.camel@henrimenke.de>
 <18FAD595-2A44-4343-9C73-9866C07522AD@gmail.com>
 <4471d654e66782fe98b1a83f00f39b63dec677c0.camel@henrimenke.de>
Message-ID: <D3758AA9-7FB2-4564-BF28-16B4D0D1E79C@gmail.com>

Thank you.

I am still blocked, but this at least makes me hopeful spinning up a snapshot of this droplet with a different IP will get me access again.

Still baffling though..

On April 2, 2021 8:30:01 AM EDT, Henri Menke via tex-live <tex-live at tug.org> wrote:
>Hm, here everything seems to be fine.
>
>
>
>root at ubuntu-s-1vcpu-1gb-nyc3-01:~# curl -sSfL ipinfo.io/ip | xargs
>104.131.95.174
>root at ubuntu-s-1vcpu-1gb-nyc3-01:~# ping -c 5 tug.ctan.org
>PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of data.
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=1 ttl=50
>time=51.0 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=2 ttl=50
>time=49.9 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=3 ttl=50
>time=50.0 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=4 ttl=50
>time=50.2 ms
>64 bytes from ftp.math.utah.edu (155.101.98.136): icmp_seq=5 ttl=50
>time=49.9 ms
>
>--- ftp.math.utah.edu ping statistics ---
>5 packets transmitted, 5 received, 0% packet loss, time 4006ms
>rtt min/avg/max/mdev = 49.901/50.178/50.968/0.405 ms
>
>root at ubuntu-s-1vcpu-1gb-nyc3-01:~# curl --head http://ftp.math.utah.edu
>HTTP/1.1 200 OK
>Date: Fri, 02 Apr 2021 12:28:08 GMT
>Server: Apache
>Accept-Ranges: bytes
>Content-Length: 4744
>Content-Type: text/html; charset=UTF-8
>
>
>
>Cheers, Henri
>
>On Fri, 2021-04-02 at 08:11 -0400, AC wrote:
>> It's NYC3, so New York City.
>> 
>> And thanks!
>> 
>> On April 2, 2021 8:00:45 AM EDT, Henri Menke via tex-live <
>> tex-live at tug.org> wrote:
>> > Which datacenter do you have your droplet in? I'll quickly spin up
>> > a
>> > VPS myself to check whether ftp.math.utah.edu is maybe blocking the
>> > entire DigitalOcean range of IPs (which is what Netflix does).
>> > 
>> > Cheers, Henri
>> > 
>> > On Fri, 2021-04-02 at 07:50 -0400, AC wrote:
>> > > Thanks for that suggestion (to both of you who've made it)!
>> > > 
>> > > https://www.abuseipdb.com/
>> > > 
>> > > says the IP in question has *not* been reported, so I'm good
>> > > there.
>> > > 
>> > > https://www.ipvoid.com/ip-blacklist-check/
>> > > 
>> > > and
>> > > 
>> > > https://www.whatismyip.com/blacklist-check/
>> > > 
>> > > lists that external IP as completely safe, meaning it's not on
>> > > any of
>> > > the blacklists they check (dozens, maybe over 100 in each case).
>> > > 
>> > > On the other hand,
>> > > 
>> > > https://whatismyip.live/blacklist-check
>> > > 
>> > > finds it on some uribl.com lists, but that's not it either: my
>> > > home
>> > > address is on there too (for unfathomable reasons), and I can
>> > > ping
>> > > tug.ctan.org fine from there.
>> > > 
>> > > In fact, trying out a bunch of these websites, my home external
>> > > IP
>> > > tends to be on more blacklists than the problematic one..
>> > > 
>> > > On April 2, 2021 7:46:03 AM EDT, Henri Menke via tex-live <
>> > > tex-live at tug.org> wrote:
>> > > > Ah, you're on a DigitalOcean VPS. They are very popular among
>> > > > scammers,
>> > > > spammers, and for DDoS, so it's very likely that your IP is
>> > > > blocked
>> > > > pretty much everywhere. Check whether you appear in any of the
>> > > > common
>> > > > databases, e.g.
>> > > > 
>> > > > https://www.abuseipdb.com
>> > > > 
>> > > > Cheers, Henri
>> > > > 
>> > > > On Fri, 2021-04-02 at 07:09 -0400, AC wrote:
>> > > > > Here are the results of an mtr ping:
>> > > > > 
>> > > > > Start: 2021-04-02T03:33:06+0000
>> > > > > HOST:
>> > > > > gilead                                                       
>> > > > >     
>> > > > >     
>> > > > >  Loss%   Snt   Last   Avg  Best  Wrst StDev
>> > > > >   1.
>> > > > > AS???    ???                                                 
>> > > > >     
>> > > > >     
>> > > > >   100.0   100    0.0   0.0   0.0   0.0   0.0
>> > > > >   2.
>> > > > > AS???    10.74.132.77                                        
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100    0.5   0.9   0.4  29.9   3.0
>> > > > >   3.
>> > > > > AS???    138.197.248.232                                     
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100    1.1   2.3   0.7  36.6   4.9
>> > > > >   4.
>> > > > > AS???    138.197.248.12                                      
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100    0.6   1.8   0.3  61.5   7.4
>> > > > >   5.
>> > > > > AS???    138.197.244.46                                      
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100    0.9   1.1   0.8   4.4   0.5
>> > > > >   6.
>> > > > > AS14061  162.243.191.247                                     
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100    0.9   1.5   0.9  36.5   3.7
>> > > > >   7. AS6461   ae18.cs1.lga5.us.zip.zayo.com
>> > > > > (64.125.27.178)                 99.0%   100   48.4  48.4  48.
>> > > > > 4  4
>> > > > > 8.4 
>> > > > >   0.0
>> > > > >   8. AS6461   ae3.cs3.ord2.us.eth.zayo.com
>> > > > > (64.125.29.209)                  88.0%   100   50.9  49.1  48
>> > > > > .4  
>> > > > > 50.9
>> > > > >    0.7
>> > > > >   9.
>> > > > > AS???    ???                                                 
>> > > > >     
>> > > > >     
>> > > > >   100.0   100    0.0   0.0   0.0   0.0   0.0
>> > > > >  10. AS6461   ae11.mpr2.slc2.us.zip.zayo.com
>> > > > > (64.125.26.43)                  0.0%   100   48.3  49.1  48.1
>> > > > >   75
>> > > > > .9  
>> > > > >  3.5
>> > > > >  11. AS6461   ae4.mpr1.slc2.us.zip.zayo.com
>> > > > > (64.125.26.164)                  0.0%   100   47.6  48.4  47.
>> > > > > 6  6
>> > > > > 5.2 
>> > > > >   2.3
>> > > > >  12. AS6461   209.66.120.134.IPYX-246177-ZYO.zip.zayo.com
>> > > > > (209.66.120.134)   0.0%   100   48.3  49.1  48.2  65.4   3.1
>> > > > >  13.
>> > > > > AS210    140.197.253.110                                     
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   49.5  49.6  49.4  50.1   0.1
>> > > > >  14.
>> > > > > AS210    140.197.252.76                                      
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   49.7  49.6  49.3  50.1   0.1
>> > > > >  15.
>> > > > > AS210    140.197.252.84                                      
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   50.9  49.7  49.3  52.0   0.5
>> > > > >  16.
>> > > > > AS210    140.197.253.139                                     
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   49.4  49.3  49.2  50.1   0.1
>> > > > >  17.
>> > > > > AS17055  199.104.93.117                                      
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   49.6  49.6  49.5  50.2   0.1
>> > > > >  18.
>> > > > > AS17055  199.104.93.102                                      
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   50.1  50.7  50.0  63.7   1.9
>> > > > >  19.
>> > > > > AS17055  155.99.130.59                                       
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   50.2  50.1  50.0  50.7   0.1
>> > > > >  20.
>> > > > > AS17055  155.99.130.14                                       
>> > > > >     
>> > > > >     
>> > > > >    0.0%   100   50.4  50.4  49.9  62.9   1.7
>> > > > >  21.
>> > > > > AS???    ???                                                 
>> > > > >     
>> > > > >     
>> > > > >   100.0   100    0.0   0.0   0.0   0.0   0.0
>> > > > > 
>> > > > > ---
>> > > > > 
>> > > > > I am certainly *not* on ip6, and my VPS admins advise as
>> > > > > follows:
>> > > > > 
>> > > > > > Thank you for following up and sharing the mtr results. As
>> > > > > > per
>> > > > > > the
>> > > > > > mtr results, the destination domain "tug.ctan.org" is not
>> > > > > > reachable. As we are able to ping from other droplets, I
>> > > > > > suspect
>> > > > > > the issue is that your droplet's IP address is blocked at
>> > > > > > the
>> > > > > > destination.
>> > > > > > 
>> > > > > > As the packets are moving out of DigitalOcean' network
>> > > > > > (AS14061)
>> > > > > > and traversing to the destination, this isn't an issue at
>> > > > > > the
>> > > > > > DigitalOcean managed network. You will need to contact the
>> > > > > > administrator of the domain "tug.ctan.org" and request them
>> > > > > > to
>> > > > > > check if the droplet's IP is blacklisted for some reason
>> > > > > > and
>> > > > > > request them to delist.
>> > > > > > 
>> > > > > 
>> > > > > This is what it looks like to me too: there's every
>> > > > > indication
>> > > > > that
>> > > > > tug.ctan.org is specifically blocking this IP. I simply do
>> > > > > not
>> > > > > see
>> > > > > how the issue could be at my end..
>> > > > > 
>> > > > > Whom would I contact about that? 
>> > > > > 
>> > > > > I am not sure who controls tug.ctan.org, and whether someone
>> > > > > who
>> > > > > could un-blacklist me is reading this.
>> > > > > 
>> > > > > On April 2, 2021 6:56:13 AM EDT, Zdenek Wagner <
>> > > > > zdenek.wagner at gmail.com> wrote:
>> > > > > > Hi all,
>> > > > > > 
>> > > > > > I tried to ping tug.ctan.org without specifying the protcol
>> > > > > > and
>> > > > > > with
>> > > > > > IPv6 requested. This is my result:
>> > > > > > 
>> > > > > > [zw at math-gnostics ~]$ ping -c5 tug.ctan.org
>> > > > > > PING ftp.math.utah.edu (155.101.98.136) 56(84) bytes of
>> > > > > > data.
>> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
>> > > > > > icmp_seq=1
>> > > > > > ttl=33
>> > > > > > time=154 ms
>> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
>> > > > > > icmp_seq=2
>> > > > > > ttl=33
>> > > > > > time=154 ms
>> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
>> > > > > > icmp_seq=3
>> > > > > > ttl=33
>> > > > > > time=154 ms
>> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
>> > > > > > icmp_seq=4
>> > > > > > ttl=33
>> > > > > > time=154 ms
>> > > > > > 64 bytes from ftp.math.utah.edu (155.101.98.136):
>> > > > > > icmp_seq=5
>> > > > > > ttl=33
>> > > > > > time=154 ms
>> > > > > > 
>> > > > > > --- ftp.math.utah.edu ping statistics ---
>> > > > > > 5 packets transmitted, 5 received, 0% packet loss, time
>> > > > > > 4007ms
>> > > > > > rtt min/avg/max/mdev = 153.873/153.980/154.067/0.077 ms
>> > > > > > [zw at math-gnostics ~]$ ping -c5 -6 tug.ctan.org
>> > > > > > ping: tug.ctan.org: Address family for hostname not
>> > > > > > supported
>> > > > > > 
>> > > > > > So the reason for timeout must be somewhere else, not in
>> > > > > > IPv6,
>> > > > > > the
>> > > > > > program would inform about it.
>> > > > > > 
>> > > > > > Zden?k Wagner
>> > > > > > http://ttsm.icpf.cas.cz/team/wagner.shtml
>> > > > > > http://icebearsoft.euweb.cz
>> > > > > > 
>> > > > > > p? 2. 4. 2021 v 11:36 odes?latel Henri Menke via tex-live
>> > > > > > <tex-live at tug.org> napsal:
>> > > > > > > On 01/04/21, 23:17, AC wrote:
>> > > > > > > > Well, I know it's accessible, but the problem is
>> > > > > > > > specific
>> > > > > > > > to
>> > > > > > > > this
>> > > > > > pair of IPs.. I can ping
>> > > > > > > > - google.com just fine from that affected machine, and
>> > > > > > > > - tug.ctan.org from any other IPs I control (like my
>> > > > > > > > home
>> > > > > > computers).
>> > > > > > > > Could it be that the server is rejecting my connection
>> > > > > > > > (from
>> > > > > > > > that
>> > > > > > specific IP) due to some misconfiguration?
>> > > > > > > Could it be that you are on an IPv6 only network? The
>> > > > > > > domain
>> > > > > > > tug.ctan.org only returns an IPv4 address.
>> > > > > > > 
>> > > > > > > Nevertheless, the problem is definitely on your side.
>> > > > > > > 
>> > > > > > > Cheers, Henri
>> > > > > > > 
>> > > > > > > > On April 1, 2021 11:02:54 PM EDT, Norbert Preining
>> > > > > > <norbert at preining.info> wrote:
>> > > > > > > > > On Thu, 01 Apr 2021, AC wrote:
>> > > > > > > > > > ping tug.ctan.org
>> > > > > > > > > > - time out on the affected machine, but
>> > > > > > > > > 
>> > > > > > > > > Nothing we can help you there. If you have root
>> > > > > > > > > access,
>> > > > > > > > > you
>> > > > > > > > > can
>> > > > > > try
>> > > > > > > > > traceroute to see where it hangs. The server is
>> > > > > > > > > definitely
>> > > > > > accessible.
>> > > > > > > > > Best
>> > > > > > > > > 
>> > > > > > > > > Norbert
>> > > > > > > > > 
>> > > > > > > > > --
>> > > > > > > > > PREINING Norbert                             
>> > > > > > https://www.preining.info
>> > > > > > > > > Fujitsu                 + IFMGA Guide + TU Wien + TeX
>> > > > > > > > > Live +
>> > > > > > Debian Dev
>> > > > > > > > > GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0
>> > > > > > > > > 6CAC
>> > > > > > > > > A448
>> > > > > > > > > 860C
>> > > > > > DC13


From andreas_tex at freenet.de  Fri Apr  2 14:41:10 2021
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Fri, 2 Apr 2021 14:41:10 +0200
Subject: Incremental TeX-Live ?
In-Reply-To: <5c4e0cfe-e1cb-c379-1092-134cda3c54cd@freenet.de>
References: <93c72345-157d-0e93-f16f-c18b0abac830@Hellenic-Institute.Uk>
 <5c4e0cfe-e1cb-c379-1092-134cda3c54cd@freenet.de>
Message-ID: <6a5d06c8-9fce-14be-3d77-a1f4cd9c7574@freenet.de>

> Although my .bashrc on Linux has this nice loop
> 
> # set PATH so it includes TeXLive's bin, if it exists
> for y in {2015..2020}
I've just now change the loop to

for y in {2021..2015..-1}

in order to pick up the _latest_ release (2021) up first, as long an 
older release (2020) is still around. ;o)

Stay safe!
Andreas

From henrik at grimler.se  Fri Apr  2 15:45:55 2021
From: henrik at grimler.se (Henrik Grimler)
Date: Fri, 02 Apr 2021 15:45:55 +0200
Subject: File descriptor error for pdflatex.fmt creation on android 11
Message-ID: <5944e13cda5f71725c5c4098133e5c489849b4ba.camel@grimler.se>

Dear all,

Android 11 introduced a new file descriptor sanitizer ("fdsan", see [1]
for docs) which detects possible issues when opening and closing files
across multiple threads.

Installing texlive on android 11 gives a fdsan error when creating
pdflatex.fmt.?If I run:

  pdftex -ini -jobname=pdflatex -progname=pdflatex -translate-
file=cp227.tcx *pdflatex.ini

it aborts with an error

  fdsan: attempted to close file descriptor 3, expected to be unowned,
actually owned by FILE* 0xb6c6100c

Does anyone have experience with this type of issue? For debugging it
the docs suggests replacing all `int fd` with a special `unique_fd fd`
type, but I am not yet sure how to use that for software like texlive
(rather than android apps), so any hints are greatly appreciated.

If I run the command above in gdb I get this backtrace (see [2] for
full log):

[...]
Hyphenation trie of length 6081 has 183 ops out of 35111
  2 for language 1
  181 for language 0
0 words of pdfTeX memory
fdsan: attempted to close file descriptor 3, expected to be unowned,
actually owned by FILE* 0xb6c6100c

Program received signal SIGABRT, Aborted.
0xb64ec9e8 in fdsan_error(char const*, ...) () from
/apex/com.android.runtime/lib/bionic/libc.so
(gdb) bt
#0  0xb64ec9e8 in fdsan_error(char const*, ...) () from
/apex/com.android.runtime/lib/bionic/libc.so
#1  0xb64ec6fe in android_fdsan_close_with_tag () from
/apex/com.android.runtime/lib/bionic/libc.so
#2  0xb64ecd6e in close () from
/apex/com.android.runtime/lib/bionic/libc.so
#3  0xb68b18f4 in gzclose_w () from
/data/data/com.termux/files/usr/lib/libz.so.1.2.11
#4  0x7f56abd8 in storefmtfile () at pdftexini.c:3584
#5  0x7f570806 in mainbody () at pdftexini.c:5651
#6  0x7f5609c0 in main (ac=<optimized out>, av=<optimized out>)
    at /home/builder/.termux-build/texlive-
bin/src/texk/web2c/lib/texmfmp.c:1098

The above output is for pdftex built from the svn54456 tag.?
Please let me know if I can provide any additional information!

Best regards
Henrik Grimler

[1]
https://android.googlesource.com/platform/bionic/+/master/docs/fdsan.md
[2] https://grimler.se/logs/pdftex.log


From beebe at math.utah.edu  Fri Apr  2 16:17:56 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 2 Apr 2021 08:17:56 -0600
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <B43EA323-F406-415E-8E97-455021D1B000@gmail.com>
Message-ID: <CMM.0.95.0.1617373076.beebe@gamma.math.utah.edu>

I'm one of the administrators of tug.ctan.org, which is equivalent to
ftp.math.utah.edu with IPv4 address 155.101.98.136.

Can you please tell me your host IP address from which you could not
connect; I can then trace through our logs to see whether you are
reaching our site, and then being blocked, or if there are no log
entries, the block could be upstream, such as at the University of
Utah campus boundary.  If the latter, I should be able to find out
what is happening, and why.

Our campus has boundary gateway machines that can impose blocks
automatically when they `think' traffic is anomalous.  This morning,
from my home office, where I have a Google Fiber connection, I have no
trouble doing either a ping to tug.ctan.org, or an FTP connection, or
a browser HTTP connection.

Our FTP tree is visible under the Web server /pub tree, so please try
this alternate path:

	http://www.math.utah.edu/pub/ctan/tex-archive/

and let me know whether that works from your site.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From manfred at dante.de  Fri Apr  2 16:45:31 2021
From: manfred at dante.de (Manfred Lotz)
Date: Fri, 2 Apr 2021 16:45:31 +0200
Subject: Call for testing: TeX Collection 2021
Message-ID: <20210402164531.0f38f895@hogwart>

Hi folks,
The TeX Collection image for 2021 is available for testing from
     http://tug.org/~manfred

Specifically
  http://tug.org/~manfred/texcol2021.iso

Checksums are available as:
  http://tug.org/~manfred/texcol2021.iso.md5
or 
  http://tug.org/~manfred/texcol2021.iso.sha512

Like the years before I just make assumptions what could be possibly
tested by you. Feel free to do whatever you can do.

Uwe Ziegenhagen:  texlive on Linux,
Windows; protext on Windows; antivirus check

Martin Sievers: texlive on Ubuntu; protext on Windows 10

Thomas Feuerstack: protext on Windows

Klaus H?ppner: protext on Windows

Herbert Vo?: protext on Windows, texlive on Linux

Siep Kroonenberg: protext and texlive on Windows

Dick Koch: mactex


Please report your test results by including operating system and
version, e.g. Ubuntu 19.10.

Others not mentioned above but reading this mail are invited to test as
well, of course.


Thanks a lot for your help.


-- 
Cheers, Manfred


From beebe at math.utah.edu  Fri Apr  2 17:27:37 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 2 Apr 2021 09:27:37 -0600
Subject: tug.ctan.org inaccessible on a specific machine
Message-ID: <CMM.0.96.0.1617377257.beebe@gamma.math.utah.edu>

Stuart Little <achirvasub at gmail.com> reported yesterday on this list
that he was unable to reach tug.ctan.org from a machine in the
DigitalOcean cloud, and the block was still in place today.

I searched incoming connection logs at our site, and found no mention
of his address.  Next, I checked the campus boundary IP-blocked list,
and did not find it there either.

I then spoke to our departmental firewall administrator, and found
that machines in the DigitalOcean domain 142.93.*.* have been frequent
sources of ssh login attacks, and so a block against that IP space had
been imposed in our firewall.  The DigitalOcean block has now been
removed, but because of the attack patterns, may have to go up again.

This seems to be a common issue with virtual machines supplied by
various cloud services: good guys use them to do useful work at low
cost, but bad guys view them as an untrackable way to launch attacks.
At present, there does not seem to be a good solution to that problem.


-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From achirvasub at gmail.com  Fri Apr  2 17:39:08 2021
From: achirvasub at gmail.com (Stuart Little)
Date: Fri, 2 Apr 2021 11:39:08 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <CMM.0.96.0.1617377257.beebe@gamma.math.utah.edu>
References: <CMM.0.96.0.1617377257.beebe@gamma.math.utah.edu>
Message-ID: <YGc6nHiddzIABo7C@arch-chirva.localdomain>

Thank you very much for all the help!

I have confirmed that as I write this, the block has been lifted (I am getting responses to pings). 

On Fri, Apr 02, 2021 at 09:27:37AM -0600, Nelson H. F. Beebe wrote:
> Stuart Little <achirvasub at gmail.com> reported yesterday on this list
> that he was unable to reach tug.ctan.org from a machine in the
> DigitalOcean cloud, and the block was still in place today.
> 
> I searched incoming connection logs at our site, and found no mention
> of his address.  Next, I checked the campus boundary IP-blocked list,
> and did not find it there either.
> 
> I then spoke to our departmental firewall administrator, and found
> that machines in the DigitalOcean domain 142.93.*.* have been frequent
> sources of ssh login attacks, and so a block against that IP space had
> been imposed in our firewall.  The DigitalOcean block has now been
> removed, but because of the attack patterns, may have to go up again.
> 
> This seems to be a common issue with virtual machines supplied by
> various cloud services: good guys use them to do useful work at low
> cost, but bad guys view them as an untrackable way to launch attacks.
> At present, there does not seem to be a good solution to that problem.
> 
> 
> -------------------------------------------------------------------------------
> - Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
> - University of Utah                    FAX: +1 801 581 4148                  -
> - Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
> - 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
> - Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
> -------------------------------------------------------------------------------

From luigi.scarso at gmail.com  Fri Apr  2 19:27:30 2021
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 2 Apr 2021 19:27:30 +0200
Subject: Steps to check the texlive iso image
Message-ID: <CAG5iGsBvFU48MmjYmZE-h6jECyX_c1_2Y4yMsNMjYpkC0PNxaQ@mail.gmail.com>

I follows these steps to check the texlive iso image from linux:

1)
$ sha512sum -c texlive2021.iso.sha512
texlive2021.iso: OK

2)
$> gpg --import texlive.asc
gpg: key 0D5E5D9106BAB6BC: 2 signatures not checked due to missing keys
gpg: key 0D5E5D9106BAB6BC: public key "TeX Live Distribution <
tex-live at tug.org>" imported
gpg: Total number processed: 1
gpg:               imported: 1
gpg: no ultimately trusted keys found


3)
$> gpg   --verify  texlive2021.iso.sha512.asc texlive2021.iso.sha512
gpg: Signature made Thu 25 Mar 2021 12:59:10 AM CET
gpg:                using RSA key 4CE1877E19438C70
gpg: Good signature from "TeX Live Distribution <tex-live at tug.org>"
[unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the
owner.
Primary key fingerprint: C78B 82D8 C795 12F7 9CC0  D7C8 0D5E 5D91 06BA B6BC
     Subkey fingerprint: D8F2 F860 57A8 57E4 2A88  106A 4CE1 877E 1943 8C70

Can be  added in some form to the
https://tug.org/texlive/acquire-iso.html
page ?

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210402/5b293aff/attachment.html>

From beebe at math.utah.edu  Fri Apr  2 20:39:04 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 2 Apr 2021 12:39:04 -0600
Subject: Steps to check the texlive iso image
In-Reply-To: <CAG5iGsBvFU48MmjYmZE-h6jECyX_c1_2Y4yMsNMjYpkC0PNxaQ@mail.gmail.com>
Message-ID: <CMM.0.95.0.1617388744.beebe@gamma.math.utah.edu>

Luigi Scarso asks about checking the validity of the new TeX Live 2021
candidate ISO image.  One answer appears here:

	http://www.math.utah.edu/pub/texlive-utah-2021/Images/

It is an update of the previous year's file (change 21 to 20), and I
have today carried out the steps shown there on a CentOS 7 system.  I
plan to do some new TeX Live installations directly from the ISO image
later today.

I have to do some more work to update the steps shown for Microsoft
Windows systems; for now, the example shows what happens with the 2020
ISO image.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From d.p.carlisle at gmail.com  Fri Apr  2 23:55:08 2021
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 2 Apr 2021 22:55:08 +0100
Subject: type1 fonts in sample fontconfig
Message-ID: <CAEW6iOi=T3WxM4bYAkCYdCsJ-hkV=6eUqhPxcEpyYxNOnRjz-A@mail.gmail.com>

TL/DR:

Should the sample fontconfig file suggest including type1 fonts?
  <dir>/usr/local/texlive/2021/texmf-dist/fonts/type1</dir>


longer version...

I had a test file

\documentclass{article}
\usepackage{fontspec}

\newfontfamily{\nserif}{Noto Serif}

\begin{document}

{\nserif abc}

\end{document}

That worked in tl 2020 and failed in 2021  xelatex with


xdvipdfmx:fatal: Invalid font: -1 (0)

No output PDF file written.
 )
Error 256 (driver return code) generating output;
file f2.pdf may not be valid.
Transcript written on f2.log.

This failed in linux and cygwin texlive 2021.


With a hint from Ulrike, that seems to be because dvipdfmx is loading the
type1 font from
/usr/local/texlive/2021/texmf-dist/fonts/type1/google/noto/NotoSerif-Regular.pfb
rather than the truetype version.

It's not entirely clear what changed (I literally just edited my local
fontconfig replacing 2020 by 2021)  but deleting the type1 line and
re-running fc-cache fixed the issue.

as the fontconfig is (I think?) just for xelatex, is it useful to include
the type1 directory at all?

Possibly separately would it be possible for xdvipdfmx to only use the
type1 font if no matching truetype or opentype is found?

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210402/52cdc4e1/attachment.html>

From luigi.scarso at gmail.com  Sat Apr  3 00:16:26 2021
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sat, 3 Apr 2021 00:16:26 +0200
Subject: Steps to check the texlive iso image
In-Reply-To: <CMM.0.95.0.1617388744.beebe@gamma.math.utah.edu>
References: <CAG5iGsBvFU48MmjYmZE-h6jECyX_c1_2Y4yMsNMjYpkC0PNxaQ@mail.gmail.com>
 <CMM.0.95.0.1617388744.beebe@gamma.math.utah.edu>
Message-ID: <CAG5iGsBe+1fMoUrGdM_mnrgi6CQRuTRsU7AeoavCMKLCWqHLcA@mail.gmail.com>

On Fri, Apr 2, 2021 at 8:39 PM Nelson H. F. Beebe <beebe at math.utah.edu>
wrote:

> Luigi Scarso asks about checking the validity of the new TeX Live 2021
> candidate ISO image.  One answer appears here:
>
>         http://www.math.utah.edu/pub/texlive-utah-2021/Images/
>
>
We can put this  link  in
https://tug.org/texlive/acquire-iso.html

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210403/a0b5651a/attachment-0001.html>

From norbert at preining.info  Sat Apr  3 01:47:48 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 3 Apr 2021 08:47:48 +0900
Subject: type1 fonts in sample fontconfig
In-Reply-To: <CAEW6iOi=T3WxM4bYAkCYdCsJ-hkV=6eUqhPxcEpyYxNOnRjz-A@mail.gmail.com>
References: <CAEW6iOi=T3WxM4bYAkCYdCsJ-hkV=6eUqhPxcEpyYxNOnRjz-A@mail.gmail.com>
Message-ID: <YGetJAfbjfujprig@bulldog.preining.info>

Hi David,

On Fri, 02 Apr 2021, David Carlisle wrote:
> Should the sample fontconfig file suggest including type1 fonts?
>   <dir>/usr/local/texlive/2021/texmf-dist/fonts/type1</dir>

Good question. I strongly advise not including any toplevel directory
of the texmf-dist/fonts/XXX into fontconfig - I have seen several bad
breakages with strange fonts making fontconfig stumble.

I advise adding those fonts you need on a case by case basis.

So in this respect, I am fine with removing the type1 line from the
example file ;-)

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Sat Apr  3 01:52:21 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 3 Apr 2021 08:52:21 +0900
Subject: Steps to check the texlive iso image
In-Reply-To: <CAG5iGsBvFU48MmjYmZE-h6jECyX_c1_2Y4yMsNMjYpkC0PNxaQ@mail.gmail.com>
References: <CAG5iGsBvFU48MmjYmZE-h6jECyX_c1_2Y4yMsNMjYpkC0PNxaQ@mail.gmail.com>
Message-ID: <YGeuNU3gr7C9pEub@bulldog.preining.info>

Hi Luigi,

> I follows these steps to check the texlive iso image from linux:
[...]
> Can be  added in some form to the
> https://tug.org/texlive/acquire-iso.html

The same would have to be added to the installer download which is also
signed, and probably some other pages - while not providing anything
that shouldn't be common knowledge.

Not sure how and in which form we want to add this, but I will think
about it, and discuss with Karl later on.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From ealdrov at mail.math.fsu.edu  Sat Apr  3 02:16:24 2021
From: ealdrov at mail.math.fsu.edu (Ettore Aldrovandi)
Date: Fri, 2 Apr 2021 20:16:24 -0400
Subject: tug.ctan.org inaccessible on a specific machine
In-Reply-To: <CMM.0.95.0.1617373076.beebe@gamma.math.utah.edu>
References: <CMM.0.95.0.1617373076.beebe@gamma.math.utah.edu>
Message-ID: <F4F10493-A65C-46FF-9A97-06D8D0598D5C@math.fsu.edu>

Actually I have been experiencing troubles with connecting to math.utah.edu <http://math.utah.edu/> as well. Name resolution times out, and ping gets no response. I?m seeing this from my home office, which is connected via CenturyLink.  A trace route dies at
...
5  67.128.147.214 (67.128.147.214)  75.801 ms  76.393 ms  76.897 ms
6  140.197.252.76 (140.197.252.76)  76.886 ms  77.009 ms  76.663 ms
 7  140.197.252.84 (140.197.252.84)  78.542 ms  76.392 ms  76.995 ms
?
which I believe is the beginning of the Utah education network. The 67.128.0.0 is in the CenturyLink space. 

No problem when connecting from work within the fsu.edu <http://fsu.edu/> network.

?Ettore Aldrovandi

Ettore Aldrovandi
Department of Mathematics, Florida State University
1017 Academic Way                *   http://www.math.fsu.edu/~ealdrov
Tallahassee, FL 32306-4510, USA * * aldrovandi at math dot fsu dot edu


> On Apr 2, 2021, at 10:17, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
> 
> I'm one of the administrators of tug.ctan.org, which is equivalent to
> ftp.math.utah.edu with IPv4 address 155.101.98.136.
> 
> Can you please tell me your host IP address from which you could not
> connect; I can then trace through our logs to see whether you are
> reaching our site, and then being blocked, or if there are no log
> entries, the block could be upstream, such as at the University of
> Utah campus boundary.  If the latter, I should be able to find out
> what is happening, and why.
> 
> Our campus has boundary gateway machines that can impose blocks
> automatically when they `think' traffic is anomalous.  This morning,
> from my home office, where I have a Google Fiber connection, I have no
> trouble doing either a ping to tug.ctan.org, or an FTP connection, or
> a browser HTTP connection.
> 
> Our FTP tree is visible under the Web server /pub tree, so please try
> this alternate path:
> 
> 	http://www.math.utah.edu/pub/ctan/tex-archive/
> 
> and let me know whether that works from your site.
> 
> -------------------------------------------------------------------------------
> - Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
> - University of Utah                    FAX: +1 801 581 4148                  -
> - Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
> - 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
> - Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
> -------------------------------------------------------------------------------
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210402/f3fbb6d6/attachment.html>

From j.hoffmann at fh-aachen.de  Sat Apr  3 10:53:43 2021
From: j.hoffmann at fh-aachen.de (Hoffmann, Jobst)
Date: Sat, 3 Apr 2021 08:53:43 +0000
Subject: tlmgr warning
Message-ID: <542665aa86ca11f7bd98219015dd40c5726227df.camel@fh-aachen.de>

Hi everybody,

while playing around with tlmgr from pretest and the current published
version - a big Thank You to Karl -, e.g.

sudo tlmgr repository list http://mirror.ctan.org/systems/texlive/tlnet

I stumbled across the warning:

Use of uninitialized value $m in concatenation (.) or string at
/usr/share/texlive/tlpkg/TeXLive/TLCrypto.pm line 263.

The results were correct AFAIK.

Maybe it's worth to be corrected.

Happy TeXing
Jobst
-- 
Prof. i.R. Dr. Jobst Hoffmann???????Tel:???+49 (241) 6009-5 31 59
Fachhochschule Aachen Abt. J?lich???Fax:???+49 (241) 6009-5 31 89
Fachbereich 09??????????????????????email: j.hoffmann at fh-aachen.de




From norbert at preining.info  Sat Apr  3 11:49:46 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 3 Apr 2021 09:49:46 +0000 (UTC)
Subject: tlmgr warning
In-Reply-To: <542665aa86ca11f7bd98219015dd40c5726227df.camel@fh-aachen.de>
References: <542665aa86ca11f7bd98219015dd40c5726227df.camel@fh-aachen.de>
Message-ID: <c3fba552-f402-4437-a8e8-2637f0716da2@preining.info>

Can you repeat this and send the surrounding output, too?

And maybe run with -v and send me the output (it is getting lengthy)

Thanks

Norbert
-- 
PREINING Norbert????????????????????????????? https://www.preining.info
Fujitsu Research Labs + IFMGA ProGuide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13?? fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


Apr 3, 2021 17:54:34 Hoffmann, Jobst <j.hoffmann at fh-aachen.de>:

> Hi everybody,
> 
> while playing around with tlmgr from pretest and the current published
> version - a big Thank You to Karl -, e.g.
> 
> sudo tlmgr repository list http://mirror.ctan.org/systems/texlive/tlnet
> 
> I stumbled across the warning:
> 
> Use of uninitialized value $m in concatenation (.) or string at
> /usr/share/texlive/tlpkg/TeXLive/TLCrypto.pm line 263.
> 
> The results were correct AFAIK.
> 
> Maybe it's worth to be corrected.
> 
> Happy TeXing
> Jobst


From norbert at preining.info  Sat Apr  3 14:04:02 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 3 Apr 2021 21:04:02 +0900
Subject: tlmgr warning
In-Reply-To: <542665aa86ca11f7bd98219015dd40c5726227df.camel@fh-aachen.de>
References: <542665aa86ca11f7bd98219015dd40c5726227df.camel@fh-aachen.de>
Message-ID: <YGhZsqIjVVB283rV@bulldog.preining.info>

Hi

thanks for the log!

> Use of uninitialized value $m in concatenation (.) or string at
> /usr/share/texlive/tlpkg/TeXLive/TLCrypto.pm line 263.

I found the reason, but it is **very** surprising.

The above message appears only if tlmgr cannot compute checksums:
That does mean you:
* don't have Digest::SHA perl module
* you don't have openssl binary
* you don't have sha512sum nor shasum binaries.

That is surprising.

Can you confirm that none of the above is available?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From harald at mailbox.org  Sat Apr  3 14:14:16 2021
From: harald at mailbox.org (Harald Koenig)
Date: Sat, 3 Apr 2021 14:14:16 +0200
Subject: Call for testing: TeX Collection 2021
In-Reply-To: <20210402164531.0f38f895@hogwart>
References: <20210402164531.0f38f895@hogwart>
Message-ID: <20210403121416.GA5665@hl.fritz.box>

Hi Manfred, testers and TeX Live team!

On Apr 02, Manfred Lotz wrote:

> Hi folks,
> The TeX Collection image for 2021 is available for testing from
>      http://tug.org/~manfred

I've downloaded the ISO image and installed it on SUSE tumbleweed (rolling release).
installation went smooth (~21min on SSD).


then I've checked for updates:

$ tlmgr update --list
tlmgr: package repository https://ftp.fau.de/ctan/systems/texlive/tlnet (verified)
tlmgr: would save backups to /42.2/usr/local/texlive/2021/tlpkg/backups
update:   beebe              [855k]: local:    58605, source:    58697
update:   luatex            [1849k]: local:    58499, source:    58702
update:   texlive-msg-translations [139k]: local:    58681, source:    58693
update:   xcharter          [2475k]: local:    57009, source:    58704

but (first) update only installed one pkg texlive-msg-translations with no "please run again" hint or similar. why???

$ tlmgr update --all
tlmgr: package repository https://mirror.informatik.hs-fulda.de/tex-archive/systems/texlive/tlnet (verified)
tlmgr: saving backups to /42.2/usr/local/texlive/2021/tlpkg/backups
[1/1, ??:??/??:??] update: texlive-msg-translations [139k] (58681 -> 58693) ... done
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
tlmgr: package log updated: /42.2/usr/local/texlive/2021/texmf-var/web2c/tlmgr.log


only a 2nd "update --all" run finally installed the remaining packagesL

$ tlmgr update --all
tlmgr: package repository https://mirror.clientvps.com/CTAN/systems/texlive/tlnet (verified)
tlmgr: saving backups to /42.2/usr/local/texlive/2021/tlpkg/backups
[1/3, ??:??/??:??] update: beebe [855k] (58605 -> 58697) ... done
[2/3, 00:03/00:18] update: luatex [1849k] (58499 -> 58702) ... done
[3/3, 00:05/00:09] update: xcharter [2475k] (57009 -> 58704) ... done
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
running updmap-sys ...
done running updmap-sys.
regenerating fmtutil.cnf in /42.2/usr/local/texlive/2021/texmf-dist
running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luatex ...
done running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luatex.
running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luajittex ...
done running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luajittex.
running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luajithbtex ...
done running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luajithbtex.
running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luahbtex ...
done running fmtutil-sys --no-error-if-no-engine=luajithbtex,luajittex,mfluajit --no-error-if-no-format --byengine luahbtex.
tlmgr: package log updated: /42.2/usr/local/texlive/2021/texmf-var/web2c/tlmgr.log


is this new to tlmgr 2021 ?
I think there should at least be a warning message "there are more package to update, pls run again"
or better install all packages in one run...


next test will be on Ubuntu 20.04...


Harald
-- 
"I hope to die                                      ___       _____
before I *have* to use Microsoft Word.",           0--,|    /OOOOOOO\
Donald E. Knuth, 02-Oct-2001 in Tuebingen.        <_/  /  /OOOOOOOOOOO\
                                                    \  \/OOOOOOOOOOOOOOO\
                                                      \ OOOOOOOOOOOOOOOOO|//
                                                       \/\/\/\/\/\/\/\/\/
Harald Koenig                                           //  /     \\  \
harald.koenig at mailbox.org                              ^^^^^       ^^^^^

From gnwiii at gmail.com  Sat Apr  3 14:33:38 2021
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 3 Apr 2021 09:33:38 -0300
Subject: Steps to check the texlive iso image
In-Reply-To: <YGeuNU3gr7C9pEub@bulldog.preining.info>
References: <CAG5iGsBvFU48MmjYmZE-h6jECyX_c1_2Y4yMsNMjYpkC0PNxaQ@mail.gmail.com>
 <YGeuNU3gr7C9pEub@bulldog.preining.info>
Message-ID: <CAKTOP440vC+cMj0fqrRLO54e0Picm-uc4QhT6fQ1ciPd46j7Gw@mail.gmail.com>

On Fri, 2 Apr 2021 at 20:56, Norbert Preining <norbert at preining.info> wrote:

> Hi Luigi,
>
> > I follows these steps to check the texlive iso image from linux:
> [...]
> > Can be  added in some form to the
> > https://tug.org/texlive/acquire-iso.html
>
> The same would have to be added to the installer download which is also
> signed, and probably some other pages - while not providing anything
> that shouldn't be common knowledge.
>

I agree that this should be common knowledge, but the fact is that many
TeX users are barely aware of the need to verify downloads because
99% of the time they use distro packages and App Stores that hide the
details.   Many just want either a "magic recipe" they can follow without
understanding or a way to disable or ignore the checks.

Debian's
https://www.debian.org/doc/manuals/securing-debian-manual/deb-pack-sign.en.html
is a decent model that could (not by chance!) be adapted to TeX Live.

Enterprises are now doing supply chain reviews and asking hard
questions about open source repositories.   Use of 3rd party packages
may be restricted (e.g., no binaries --  always build from sources). For
TeX Live this forces users to rely on linux distro packages.   The
future may include requirements for 3rd party audits of practices and
policies of open source archive sites.

Not sure how and in which form we want to add this, but I will think
> about it, and discuss with Karl later on.
>

The document needs to a) educate users who haven't had to deal with
the details of signed packages, and b) provide a document that can be
referenced during security reviews.  Since users should be thinking about
their own supply chain security, it makes sense for one document that
covers (a) and (b) together.   Some users will ignore most of the contents,
but it is there for those who don't.

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210403/44089ec6/attachment.html>

From norbert at preining.info  Sat Apr  3 14:50:06 2021
From: norbert at preining.info (Norbert Preining)
Date: Sat, 3 Apr 2021 21:50:06 +0900
Subject: Call for testing: TeX Collection 2021
In-Reply-To: <20210403121416.GA5665@hl.fritz.box>
References: <20210402164531.0f38f895@hogwart>
 <20210403121416.GA5665@hl.fritz.box>
Message-ID: <YGhkflH2WmAQz8Ml@bulldog.preining.info>

Hi Harald,

On Sat, 03 Apr 2021, TeX Live Mailing List wrote:
> $ tlmgr update --list
> tlmgr: package repository https://ftp.fau.de/ctan/systems/texlive/tlnet (verified)
...

> $ tlmgr update --all
> tlmgr: package repository https://mirror.informatik.hs-fulda.de/tex-archive/systems/texlive/tlnet (verified)

different mirror that wasn't completely synced.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Sat Apr  3 15:11:06 2021
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 3 Apr 2021 14:11:06 +0100
Subject: [EXT] Re: Steps to check the texlive iso image
In-Reply-To: <CAKTOP440vC+cMj0fqrRLO54e0Picm-uc4QhT6fQ1ciPd46j7Gw@mail.gmail.com>
References: <CAG5iGsBvFU48MmjYmZE-h6jECyX_c1_2Y4yMsNMjYpkC0PNxaQ@mail.gmail.com>
 <YGeuNU3gr7C9pEub@bulldog.preining.info>
 <CAKTOP440vC+cMj0fqrRLO54e0Picm-uc4QhT6fQ1ciPd46j7Gw@mail.gmail.com>
Message-ID: <5ade60f8-bad8-a1cf-fb80-ff6da7477ecd@Rhul.Ac.Uk>

George N. White III wrote:

I agree that this should be common knowledge, but the fact is that many
TeX users are barely aware of the need to verify downloads because
99% of the time they use distro packages and App Stores that hide the
details.

I would respectfully suggest that there is another category of TeX users.  Those, like myself, who do not use distribution packages or "app stores", who download direct from one of the CTAN mirrors, and who are happy to accept that such repositories are offered in good faith but can (and do) offer no 100% guarantee that "what one downloads is what one expects".  They, like me, simply download whatever purports to be what they want (a TLNET directory, an ISO image, a package update, whatever) and install it without any checks, relying on their anti-virus/anti-malware suite(s) to detect and reject anything potentially dangerous.  This is, I would suggest, "the real world" for most people  ? one in which one exercises special care when banking, paying online, etc., but otherwise just "goes with the flow", relying one one's anti-whatever stuff to deal with any nasties.
--
Philip Taylor


This email, its contents and any attachments are intended solely for the addressee and may contain confidential information. In certain circumstances, it may also be subject to legal privilege. Any unauthorised use, disclosure, or copying is not permitted. If you have received this email in error, please notify us and immediately and permanently delete it. Any views or opinions expressed in personal emails are solely those of the author and do not necessarily represent those of Royal Holloway, University of London. It is your responsibility to ensure that this email and any attachments are virus free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210403/54dd4e96/attachment-0001.html>

From beebe at math.utah.edu  Sat Apr  3 15:19:17 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sat, 3 Apr 2021 07:19:17 -0600
Subject: Call for testing: TeX Collection 2021
Message-ID: <CMM.0.95.0.1617455957.beebe@gamma.math.utah.edu>

This report summarizes my experience yesterday doing installations of
TeX Live 2021 from the new ISO image that Manfred Lotz announced on
this list.

I reported yesterday that the ISO file, and its two checksums and two
digital signatures, are available in Utah at
 
	http://www.math.utah.edu/pub/texlive-utah-2021/Images/

I have since updated the section on verifying checksums on Microsoft
Windows.  The delay in that update was because it took about 8 hours
to pull down the ISO image over a wireless connection to my home
Windows 10 laptop, whereas the wired systems each downloaded the ISO
file in a few minutes.  

I have Google Fiber service to my home office: the fiber box is less
than a meter from my keyboard where I'm typing this report.  Speed
tests since the fiber installation in late October 2021 consistently
show both upload and download speeds of 600Mb/s to 800Mb/s over wired
connections, a huge improvement over the 5Mb/s up and 200Mb/s down
that I previously had with Comcast cable service that costs US$25 more
per month than Google Fiber ($95 vs $70).

I can now report successful installations of TeX Live 2021 from the
mounted ISO image, texcol2021.iso, on these x86_64 systems:

	CentOS 8 Stream
	ClearLinux
	FreeBSD 12.1
	FreeBSD 13.0-RC4	(official 13.0 expected mid April 2021)
	Microsoft Windows 10
	NetBSD 9.0
	Red Hat 8.0
	Slackware 14.2
	Ubuntu 21.04		(new VM from official 21.04 release of 2-Apr-2021)

There are (as yet) no Solaris 11 executables, but on a newly-updated
Solaris 11.4 system that is covered by an Oracle support contract, I
was able to complete the install by choosing at least one binary
(x86_64-linux).  I then copied over the 2020 bin/x86_64-solaris tree
and tried to set the repository to run updates:

	% tlmgr option repository http://ctan.math.utah.edu/tex-archive/systems/texlive/tlnet
	Can't locate Cwd.pm in @INC (@INC contains: (...long path list...)
	at ,,,/tlmgr line 94.

Next, I tried to run various TeX engines on story.{tex,ltx} files: the
2020 copies of pdftex, tex, latex, pdflatex, and lualatex work, but
then I get

	% xelatex story.ltx
	ld.so.1: xetex: fatal: libc.so.1: version 'ILLUMOS_0.8' not found (required by file /xpool/uumath/texlive/2020/bin/x86_64-solaris211/xetex)
	ld.so.1: xetex: fatal: libc.so.1: open failed: No such file or directory
	Killed

FreeBSD 13 has been under development for about two years, and I have several
VMs built from various 13.0 snapshots.  On all but the most recent, the final
RC4 release candidate, I got behavior like this:

	% tlmgr repository list
	List of repositories (with tags if set):
		http://mirror.ctan.org/systems/texlive/tlnet (main)
	ld-elf.so.1: /usr/local/lib/perl5/5.32/mach/CORE/libperl.so.5.32: Undefined symbol "strerror_l at FBSD_1.6"

That led me to create a new FreeBSD 13.0-RC4 VM yesterday and try it,
happily, with success for TL2021.

The normal practice on FreeBSD is that kernels are only updated at
major releases, but packages on development systems are built on
servers with current kernels: consequently, breakage of the "undefined
symbol" type above does sometimes happen after package updates.

The only real fix to the problem is to install a new VM from the
latest ISO image, which has the then-current kernel.  Mostly, this is
not necessary, so I don't worry about such failures.

The official FreeBSD 13.0 release date has slipped several times, but
appears to be about two weeks away, and the successful installation of
TeX Live 2021 on the stable FreeBSD 12.1, and on the nearly final
13.0-RC4, is encouraging.

I note a final issue: the executables in the ISO image are not current
with the TeX Live 2021 source tree:

	121 redhat8:bin % ls -log ./*/tex
	-rwxr-xr-x 1   614168 Mar 15 15:06 ./amd64-freebsd/tex
	-rwxr-xr-x 1  1356832 Mar 15 18:57 ./universal-darwin/tex
	-rwxr-xr-x 1   371060 Mar 15 15:06 ./x86_64-darwinlegacy/tex
	-rwxr-xr-x 1   382488 Mar 14 18:40 ./x86_64-linux/tex

	122 redhat8:bin % ls -log ./*/asy
	-rwxr-xr-x 1   5482504 Mar 16 10:20 ./amd64-freebsd/asy
	-rwxr-xr-x 1  30323312 Mar 16 16:36 ./universal-darwin/asy
	-rwxr-xr-x 1   6807972 Mar 19 15:31 ./x86_64-darwinlegacy/asy
	-rwxr-xr-x 1   4370384 Feb 24 18:22 ./x86_64-linux/asy

A diff between the texlive-20210315 and final texlive-20210325 trees
is 7764 lines long, so we do need more rebuilds and a new ISO image.
I have pulled several new daily snapshots since 25-Mar-2021, but there
were no changes, so I deleted them.

I pulled another one today while writing this message, and found a
164-line diff from 25-Mar-2021, so we don't yet have a stable source
tree.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From henrik at grimler.se  Sat Apr  3 20:50:21 2021
From: henrik at grimler.se (Henrik Grimler)
Date: Sat, 03 Apr 2021 20:50:21 +0200
Subject: File descriptor error for pdflatex.fmt creation on android 11
In-Reply-To: <5944e13cda5f71725c5c4098133e5c489849b4ba.camel@grimler.se>
References: <5944e13cda5f71725c5c4098133e5c489849b4ba.camel@grimler.se>
Message-ID: <682c68c121885de494433c267326b2a6378b6344.camel@grimler.se>

Hello again, 

I have created a small test program (attached as test.c) that
reproduces the problem by condensing the relevant code in
texk/web2c/texmfmp.h and texk/web2c/lib/openclose.c.

It compiles without errors with clang-11 on both android (arm) and
linux (x86_64) with `clang -lz -o test test_reproduced.c`, and works
fine on linux, but when run on android it gives one of those file
descriptor errors:

fdsan: attempted to close file descriptor 3, expected to be unowned,
actually owned by FILE* 0xacdb000c

The problem seem to have to do with how the format file is opened. In
texmfmp.h we have:

```c
#define wopenout(f) (open_output ((FILE**)&(f), FOPEN_WBIN_MODE) \
 && (f = gzdopen(fileno((FILE*)f), FOPEN_WBIN_MODE)) \
 && (gzsetparams(f, 1, Z_DEFAULT_STRATEGY) == Z_OK))
```

If I convert the macro into a function instead:

```c
int wopenout (gzFile f)
{
  open_output ((FILE**)&(f), "wb");
  f = gzdopen(fileno((FILE*)f), "wb");
  return gzsetparams(f, 1, Z_DEFAULT_STRATEGY) == Z_OK;
}
```

the error no longer occurs.?

My first thought was that the issue is related to how gzFile is casted
to FILE, but since the problem disappears when defined as a function I
suppose this might be a bug in the android libc and/or fd sanitizer. 

Could macros, as the one defined for wopenout, be problematic? I.e.
would it make sense to convert wopenout into a normal function or is
this most likely an android-specific bug?

Best regards,
Henrik Grimler



On Fri, 2021-04-02 at 15:45 +0200, Henrik Grimler wrote:
> Dear all,
> 
> Android 11 introduced a new file descriptor sanitizer ("fdsan", see [1]
> for docs) which detects possible issues when opening and closing files
> across multiple threads.
> 
> Installing texlive on android 11 gives a fdsan error when creating
> pdflatex.fmt.?If I run:
> 
> ? pdftex -ini -jobname=pdflatex -progname=pdflatex -translate-
> file=cp227.tcx *pdflatex.ini
> 
> it aborts with an error
> 
> ? fdsan: attempted to close file descriptor 3, expected to be unowned,
> actually owned by FILE* 0xb6c6100c
> 
> Does anyone have experience with this type of issue? For debugging it
> the docs suggests replacing all `int fd` with a special `unique_fd fd`
> type, but I am not yet sure how to use that for software like texlive
> (rather than android apps), so any hints are greatly appreciated.
> 
> If I run the command above in gdb I get this backtrace (see [2] for
> full log):
> 
> [...]
> Hyphenation trie of length 6081 has 183 ops out of 35111
> ? 2 for language 1
> ? 181 for language 0
> 0 words of pdfTeX memory
> fdsan: attempted to close file descriptor 3, expected to be unowned,
> actually owned by FILE* 0xb6c6100c
> 
> Program received signal SIGABRT, Aborted.
> 0xb64ec9e8 in fdsan_error(char const*, ...) () from
> /apex/com.android.runtime/lib/bionic/libc.so
> (gdb) bt
> #0? 0xb64ec9e8 in fdsan_error(char const*, ...) () from
> /apex/com.android.runtime/lib/bionic/libc.so
> #1? 0xb64ec6fe in android_fdsan_close_with_tag () from
> /apex/com.android.runtime/lib/bionic/libc.so
> #2? 0xb64ecd6e in close () from
> /apex/com.android.runtime/lib/bionic/libc.so
> #3? 0xb68b18f4 in gzclose_w () from
> /data/data/com.termux/files/usr/lib/libz.so.1.2.11
> #4? 0x7f56abd8 in storefmtfile () at pdftexini.c:3584
> #5? 0x7f570806 in mainbody () at pdftexini.c:5651
> #6? 0x7f5609c0 in main (ac=<optimized out>, av=<optimized out>)
> ??? at /home/builder/.termux-build/texlive-
> bin/src/texk/web2c/lib/texmfmp.c:1098
> 
> The above output is for pdftex built from the svn54456 tag.?
> Please let me know if I can provide any additional information!
> 
> Best regards
> Henrik Grimler
> 
> [1]
> https://android.googlesource.com/platform/bionic/+/master/docs/fdsan.md
> [2] https://grimler.se/logs/pdftex.log
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.c
Type: text/x-csrc
Size: 412 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210403/cd2ee341/attachment.bin>

From richardmoncriefkoch at icloud.com  Sat Apr  3 22:52:05 2021
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Sat, 3 Apr 2021 13:52:05 -0700
Subject: Call for testing: TeX Collection 2021
Message-ID: <0ADC2A76-A5E4-443B-AE57-AC3811C28E5C@icloud.com>

Folks,

I have begun testing the Macintosh portion of the DVD, and thought a word of warning might be useful in case others also test. To save space, we ask users to install TeX Live with the Unix Install Script by running the following commands in Terminal:

	bash 
	umask 0022 
	cd /Volumes/TEXCOL2021/texlive 
	sudo ./install-tl 

But on Big Sur, the Mac responds to most of these commands. When the user types "bash", the system reports that the default shell is now zsh. After line 3, the Mac reports that the DVD is removable media and asks if the user wants to proceed. After line 4, the Mac asks for a password. And if the user installed Big Sur, but didn't install supplemental updates, the last line crashes because Wish was defective in the initial release. In that case, use

	sudo ./install-tl --gui=text

Later during installation, we used to ask users to install Gui-Applications.pkg, but now we just ask them to drag a folder to /Applications. We had our reasons, but dragging a folder is MUCH, MUCH slower than an install package. In a couple of days it will again be an install package.

Both items will be fixed and sent to Manfred.

Dick Koch

From cesar.romani at gmail.com  Sun Apr  4 00:30:48 2021
From: cesar.romani at gmail.com (Cesar Romani)
Date: Sat, 3 Apr 2021 17:30:48 -0500
Subject: upgrading from 2020 to 2021
In-Reply-To: <YGcJa45R3AyWuPl2@bulldog.preining.info>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
 <YGZoSypHJGLfFxG5@bulldog.preining.info>
 <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>
 <E1FDCE89-A37B-477C-8D91-CDFC513F8BC8@gmail.com>
 <YGZuJ1GLqDD5K0im@bulldog.preining.info>
 <146BB7D7-9A77-4BCA-B7E2-FF429A4294E9@gmail.com>
 <YGcJa45R3AyWuPl2@bulldog.preining.info>
Message-ID: <s4aqb1$12n1$1@ciao.gmane.io>

Is there a similar script for upgrading on Windows or should I do a
new installation of TexLive 2021?

Thanks and regards,

-- 
Cesar


From anton at mips.complang.tuwien.ac.at  Sat Apr  3 16:18:50 2021
From: anton at mips.complang.tuwien.ac.at (Anton Ertl)
Date: Sat, 3 Apr 2021 16:18:50 +0200
Subject: tex-live performance
Message-ID: <20210403141850.afwim4odlv6xftgb@a4.complang.tuwien.ac.at>

I have been using LaTeX for benchmarking (as well as production, but
this mail is about benchmarking) for many years, resulting in results
on machines from the early 1990s until today:

https://www.complang.tuwien.ac.at/franz/latex-bench

For the input used for this benchmark and instructions see

https://www.complang.tuwien.ac.at/anton/latex-bench/

Of course, if we want to use this for comparing the hardware, the
actual work done for this benchmark should be relatively similar.  And
indeed, I have done some runs using performance counters on AMD64
systems from Debian 5-10 where I always found that the benchmark
executed around 2000M instructions (specifically, between 1949M
instructions and 2108M instructions, where the number of LaTeX
packages installed have apparently quite a bit of influence on the
executed instructions: On the system where I saw 1949M instructions
earlier I now see 2072M).

Today I ran the benchmark on a Debian Testing (to become Debian 11)
system (with just texlive-base and texlive-latex-base installed) and
found that it executes 2606M user-level instructions; I measured this
with

perf stat -e instructions:u latex bench

The Debian 10 texlive package is based on TeX Live 2018, the Debian
Testing one on TeX Live 2020.  So I wonder: Has there been a change
between these two TeX Live releases that could explain this
difference?  Other explanations are possible, e.g., the Debian texlive
maintainers might build the Testing texlive package with less
optimization than they used for Debian 10.  But I have to start asking
somewhere, so I am doing it here.

Thanks in advance and thanks for providing TeX Live.

- anton

From news3 at nililand.de  Sun Apr  4 11:13:13 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Sun, 4 Apr 2021 11:13:13 +0200
Subject: tex-live performance
References: <20210403141850.afwim4odlv6xftgb@a4.complang.tuwien.ac.at>
Message-ID: <1vwumqtfamdnw$.dlg@nililand.de>

Am Sat, 3 Apr 2021 16:18:50 +0200 schrieb Anton Ertl:

> The Debian 10 texlive package is based on TeX Live 2018, the Debian
> Testing one on TeX Live 2020.  So I wonder: Has there been a change
> between these two TeX Live releases that could explain this
> difference?

The LaTeX formats from 2018 and 2020 are quite different:

LaTeX now loads expl3 and xparse in the format and various hooks
have been added. 

 
-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From norbert at preining.info  Sun Apr  4 11:46:27 2021
From: norbert at preining.info (Norbert Preining)
Date: Sun, 4 Apr 2021 18:46:27 +0900
Subject: tex-live performance
In-Reply-To: <20210403141850.afwim4odlv6xftgb@a4.complang.tuwien.ac.at>
References: <20210403141850.afwim4odlv6xftgb@a4.complang.tuwien.ac.at>
Message-ID: <YGmK8+z3EyF1ErrG@bulldog.preining.info>

Hi Anton,

On Sat, 03 Apr 2021, Anton Ertl wrote:
> https://www.complang.tuwien.ac.at/franz/latex-bench
> https://www.complang.tuwien.ac.at/anton/latex-bench/

Looks interesting.

> difference?  Other explanations are possible, e.g., the Debian texlive
> maintainers might build the Testing texlive package with less

No (I am also maintainer of TL in Debian), we use maximal optimization.

My guess is that it really depends - as Ulrike said - on the moving
targets. You are comparing different things, because there are different
levels:
- the actual engine (pdfetex, luatex)
- the format code (latex, context)
The first one doesn't change a lot. I think there has been only one
considerable code change in pdf*tex and that is related to how
case-sensitive/insensitive look-ups are treated. That could be - and in
some cases turned out to be - a source of increased instructions being
used.

Then there is the format, and since nowadays the LaTeX format has
evolved quite a lot over the last few years (just one thing - utf8 is
enabled by default) that can of course generate a lot of other activity.

So I guess the best would be - but that takes probably time and hacking
- to use the same format files across the tests. AFAIR between 2018 and
2020 it should be possible to use the latest files from 2020 and the
binaries from 2018 (if library wise it works - you could just drop the
pdfetex binary from 2018/debian stable into /usr/bin of testing and
rebuild the formats with fmtutil-sys --byengine pdfetex or similar).

That should give more comparable results at least what the binaries are
concerned.

Best

Norbert

(complang.tuwien ... gute alte Zeiten wie ich noch oft am jetztigen
Logic and Computation Institut Leitsch Zeiten war)

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Sun Apr  4 12:03:56 2021
From: norbert at preining.info (Norbert Preining)
Date: Sun, 4 Apr 2021 19:03:56 +0900
Subject: upgrading from 2020 to 2021
In-Reply-To: <s4aqb1$12n1$1@ciao.gmane.io>
References: <934C009D-90E8-477D-B851-E129342A7E69@gmail.com>
 <YGZoSypHJGLfFxG5@bulldog.preining.info>
 <81536D6F-4E0F-4B1B-9966-FC8DFFA22E5D@gmail.com>
 <E1FDCE89-A37B-477C-8D91-CDFC513F8BC8@gmail.com>
 <YGZuJ1GLqDD5K0im@bulldog.preining.info>
 <146BB7D7-9A77-4BCA-B7E2-FF429A4294E9@gmail.com>
 <YGcJa45R3AyWuPl2@bulldog.preining.info>
 <s4aqb1$12n1$1@ciao.gmane.io>
Message-ID: <YGmPDAbsFscixngl@bulldog.preining.info>

Hi Cesar,

> Is there a similar script for upgrading on Windows or should I do a
> new installation of TexLive 2021?

Has there ever been a way to upgrade on *Windows*? I am not aware of it.
Unix allows for cross-release updates, but Windows has too many
peculiarities.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From henrik at grimler.se  Sun Apr  4 12:23:03 2021
From: henrik at grimler.se (Henrik Grimler)
Date: Sun, 04 Apr 2021 12:23:03 +0200
Subject: File descriptor error for pdflatex.fmt creation on android 11
In-Reply-To: <682c68c121885de494433c267326b2a6378b6344.camel@grimler.se>
References: <5944e13cda5f71725c5c4098133e5c489849b4ba.camel@grimler.se>
 <682c68c121885de494433c267326b2a6378b6344.camel@grimler.se>
Message-ID: <b024025c5f3da44c918c1313dc3a08ea7808c383.camel@grimler.se>

Hi,

I noticed two errors in my small test program (return value of
open_output was not checked and gzFile was uninitialized). I fixed
those but am then back at getting the fdsan error with the macro, but
not with it defined as a function. Compiling and running the attached
test.c gives the error, but removing the wopenout-macro and un-
commenting the wopenout-function makes it work.

Since using a function instead of a macro works for the small test
program I tried building texlive with wopenout converted to a function
(see attached wopenout.patch), but pdftex then seem to be unable to
open the fmtfile, it stops with:

```
(/data/data/com.termux/files/usr/share/texlive/texmf-
dist/tex/latex/firstaid/la
tex2e-first-aid-for-external-files.ltx)
 ) )
Beginning to dump on file pdflatex.fmt
! Could not write 1 4-byte item(s) to pdflatex.fmt.
 (preloaded format=pdflatex 2021.4.4)
```

Which indicates that I have made some error in the patch, or that there
is some other error in wopenout. Can anyone see any problems in
wopenout.patch?

One workaround that works is to not compress the format file, i.e.
undef FMT_COMPRESS in texmfmp.h.

Best regards,
Henrik Grimler

On Sat, 2021-04-03 at 20:50 +0200, Henrik Grimler wrote:
> Hello again, 
> 
> I have created a small test program (attached as test.c) that
> reproduces the problem by condensing the relevant code in
> texk/web2c/texmfmp.h and texk/web2c/lib/openclose.c.
> 
> It compiles without errors with clang-11 on both android (arm) and
> linux (x86_64) with `clang -lz -o test test_reproduced.c`, and works
> fine on linux, but when run on android it gives one of those file
> descriptor errors:
> 
> fdsan: attempted to close file descriptor 3, expected to be unowned,
> actually owned by FILE* 0xacdb000c
> 
> The problem seem to have to do with how the format file is opened. In
> texmfmp.h we have:
> 
> ```c
> #define wopenout(f) (open_output ((FILE**)&(f), FOPEN_WBIN_MODE) \
> ?&& (f = gzdopen(fileno((FILE*)f), FOPEN_WBIN_MODE)) \
> ?&& (gzsetparams(f, 1, Z_DEFAULT_STRATEGY) == Z_OK))
> ```
> 
> If I convert the macro into a function instead:
> 
> ```c
> int wopenout (gzFile f)
> {
> ? open_output ((FILE**)&(f), "wb");
> ? f = gzdopen(fileno((FILE*)f), "wb");
> ? return gzsetparams(f, 1, Z_DEFAULT_STRATEGY) == Z_OK;
> }
> ```
> 
> the error no longer occurs.?
> 
> My first thought was that the issue is related to how gzFile is casted
> to FILE, but since the problem disappears when defined as a function I
> suppose this might be a bug in the android libc and/or fd sanitizer. 
> 
> Could macros, as the one defined for wopenout, be problematic? I.e.
> would it make sense to convert wopenout into a normal function or is
> this most likely an android-specific bug?
> 
> Best regards,
> Henrik Grimler
> 
> 
> 
> On Fri, 2021-04-02 at 15:45 +0200, Henrik Grimler wrote:
> > Dear all,
> > 
> > Android 11 introduced a new file descriptor sanitizer ("fdsan", see
> > [1]
> > for docs) which detects possible issues when opening and closing
> > files
> > across multiple threads.
> > 
> > Installing texlive on android 11 gives a fdsan error when creating
> > pdflatex.fmt.?If I run:
> > 
> > ? pdftex -ini -jobname=pdflatex -progname=pdflatex -translate-
> > file=cp227.tcx *pdflatex.ini
> > 
> > it aborts with an error
> > 
> > ? fdsan: attempted to close file descriptor 3, expected to be
> > unowned,
> > actually owned by FILE* 0xb6c6100c
> > 
> > Does anyone have experience with this type of issue? For debugging it
> > the docs suggests replacing all `int fd` with a special `unique_fd
> > fd`
> > type, but I am not yet sure how to use that for software like texlive
> > (rather than android apps), so any hints are greatly appreciated.
> > 
> > If I run the command above in gdb I get this backtrace (see [2] for
> > full log):
> > 
> > [...]
> > Hyphenation trie of length 6081 has 183 ops out of 35111
> > ? 2 for language 1
> > ? 181 for language 0
> > 0 words of pdfTeX memory
> > fdsan: attempted to close file descriptor 3, expected to be unowned,
> > actually owned by FILE* 0xb6c6100c
> > 
> > Program received signal SIGABRT, Aborted.
> > 0xb64ec9e8 in fdsan_error(char const*, ...) () from
> > /apex/com.android.runtime/lib/bionic/libc.so
> > (gdb) bt
> > #0? 0xb64ec9e8 in fdsan_error(char const*, ...) () from
> > /apex/com.android.runtime/lib/bionic/libc.so
> > #1? 0xb64ec6fe in android_fdsan_close_with_tag () from
> > /apex/com.android.runtime/lib/bionic/libc.so
> > #2? 0xb64ecd6e in close () from
> > /apex/com.android.runtime/lib/bionic/libc.so
> > #3? 0xb68b18f4 in gzclose_w () from
> > /data/data/com.termux/files/usr/lib/libz.so.1.2.11
> > #4? 0x7f56abd8 in storefmtfile () at pdftexini.c:3584
> > #5? 0x7f570806 in mainbody () at pdftexini.c:5651
> > #6? 0x7f5609c0 in main (ac=<optimized out>, av=<optimized out>)
> > ??? at /home/builder/.termux-build/texlive-
> > bin/src/texk/web2c/lib/texmfmp.c:1098
> > 
> > The above output is for pdftex built from the svn54456 tag.?
> > Please let me know if I can provide any additional information!
> > 
> > Best regards
> > Henrik Grimler
> > 
> > [1]
> > https://android.googlesource.com/platform/bionic/+/master/docs/fdsan.md
> > [2] https://grimler.se/logs/pdftex.log
> > 
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.c
Type: text/x-csrc
Size: 437 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210404/16a9cc37/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wopenout.patch
Type: text/x-patch
Size: 1092 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210404/16a9cc37/attachment-0001.bin>

From manfred at dante.de  Sun Apr  4 14:23:54 2021
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 4 Apr 2021 14:23:54 +0200
Subject: TeX Collection image updated
Message-ID: <20210404142111.1691adf7@hogwart>

Hi all,
The TeX Collection image has been updated to address two issues in
MacTeX. No other changes.


- BigSur has some new handling of things which is firstly reporting
  that zsh is the default shell and secondly when issuing commands in
  Terminal by pasting them it opens a dialog which must be responded to.
- Bad performance for installing applications which were unpacked on
  DVD. Now replaced by an install package which solves things nicely.

Hope, I have understood things properly.


Thanks to Dick for testing, investigating and providing a fixed image
quickly!


-- 
Manfred

From norbert at preining.info  Mon Apr  5 04:00:01 2021
From: norbert at preining.info (Norbert Preining)
Date: Mon, 5 Apr 2021 11:00:01 +0900
Subject: Updates to tlnet
Message-ID: <YGpvIWIxQZ3QWWYH@bulldog.preining.info>

Dear all,

yesterday and today I have worked on the backlog of package updates
since the freeze. Most packages should be updated already on your
mirror, some will come into tomorrow.

If anything is missing, please let me know.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Mon Apr  5 12:31:14 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 5 Apr 2021 12:31:14 +0200
Subject: has the search path during format creation been changed?
Message-ID: <6yvbcfb1af2v.dlg@nililand.de>

We got a bug report that the L3-layer in latex can no longer detect
the windows platform. 

https://github.com/latex3/latex3/issues/867

The source of the problem is that \file_if_exist:nTF { nul: }
doesn't return true during the format creation. It looks as if the
current directory is no longer part of the search path when a format
is created with fmtutil-sys.

We don't have a problem to adjust the test, but wanted to know first
if the search path been intentionally changed?


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From tahir at ieee.org  Mon Apr  5 10:39:41 2021
From: tahir at ieee.org (Mehmet Tahir SANDIKKAYA)
Date: Mon, 5 Apr 2021 11:39:41 +0300
Subject: TexLive 2021 does not update powerdot
Message-ID: <9e45dca8-7a14-4f20-f4ef-46043a5f8ae5@ieee.org>

Hi,

As far as I see, powerdot package is not updated in TexLive 2021 even
though it is updated version is on ctan.

I'm not sure if it's an issue related to the migration from 2020 to
2021. The package seems like updated after 2021 code freeze but before
its release.

Regards,
-- 
mt-s

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20210405/725993df/attachment.sig>

From zdenek.wagner at gmail.com  Mon Apr  5 15:08:36 2021
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 5 Apr 2021 15:08:36 +0200
Subject: TexLive 2021 does not update powerdot
In-Reply-To: <9e45dca8-7a14-4f20-f4ef-46043a5f8ae5@ieee.org>
References: <9e45dca8-7a14-4f20-f4ef-46043a5f8ae5@ieee.org>
Message-ID: <CAC1phyZ9DLBM05nwTPf-+RJey0f5X0mkSRs0DBDHxjv7iR+=ZQ@mail.gmail.com>

Hi,

as Norbert wrote, updates of packages will start to appear since
tomorrow. There is always a period when the updates are frozen.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

po 5. 4. 2021 v 13:05 odes?latel Mehmet Tahir SANDIKKAYA
<tahir at ieee.org> napsal:
>
> Hi,
>
> As far as I see, powerdot package is not updated in TexLive 2021 even
> though it is updated version is on ctan.
>
> I'm not sure if it's an issue related to the migration from 2020 to
> 2021. The package seems like updated after 2021 code freeze but before
> its release.
>
> Regards,
> --
> mt-s
>


From norbert at preining.info  Mon Apr  5 13:35:12 2021
From: norbert at preining.info (Norbert Preining)
Date: Mon, 5 Apr 2021 20:35:12 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <6yvbcfb1af2v.dlg@nililand.de>
References: <6yvbcfb1af2v.dlg@nililand.de>
Message-ID: <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>

Hi Ulrike,

> doesn't return true during the format creation. It looks as if the
> current directory is no longer part of the search path when a format
> is created with fmtutil-sys.

Do you know a time when it was still working? I don't remember any
change in this direction that was recent (and that means before TL2020),
so I am surprised.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Mon Apr  5 13:36:23 2021
From: norbert at preining.info (Norbert Preining)
Date: Mon, 5 Apr 2021 20:36:23 +0900
Subject: TexLive 2021 does not update powerdot
In-Reply-To: <9e45dca8-7a14-4f20-f4ef-46043a5f8ae5@ieee.org>
References: <9e45dca8-7a14-4f20-f4ef-46043a5f8ae5@ieee.org>
Message-ID: <YGr2NzHNVq1v2yNP@NP-U9310.g01.fujitsu.com>

Hi,

> As far as I see, powerdot package is not updated in TexLive 2021 even
> though it is updated version is on ctan.

Should be done by tomorrow. I have updated it today (Japan time) but the
next rebuild is in about 12h.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jack46 at schuli-wirsi.de  Mon Apr  5 16:39:51 2021
From: jack46 at schuli-wirsi.de (Jack)
Date: Mon, 5 Apr 2021 16:39:51 +0200
Subject: Bugs in texlive 2021
Message-ID: <d48a6f80-41d4-baef-d9ad-0701f5075cb5@schuli-wirsi.de>

Hi All

Some issues about TexLive 2021

1)
I ran the installer with ./install-tl --gui=perltk for a full install on 
(updated) Ubuntu 20.04
It could not detect the symlink in /usr to my texlive directory
The installers in 2020, 2019 etc. all could.

2)
tlmgr has language problems
echo $LANG $LC_MESSAGES
de_DE.UTF-8
POSIX

tlmgr conf ...

Sorry, no translations available for POSIX (nor POSIX); falling back to 
English.
 ??? Make sure that you have the package "texlive-msg-translations" 
installed.
 ??? (If you'd like to help translate the installer's messages, please see
 ??? http://tug.org/texlive/doc.html#install-tl-xlate for information.)


Regards

Jack
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210405/aa414a35/attachment.html>

From siepo at bitmuis.nl  Mon Apr  5 20:41:04 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 5 Apr 2021 20:41:04 +0200
Subject: Call for testing: TeX Collection 2021
In-Reply-To: <20210402164531.0f38f895@hogwart>
References: <20210402164531.0f38f895@hogwart>
Message-ID: <YGtZwPv+r2FKClEJ@bitmuis.nl>

On Fri, Apr 02, 2021 at 04:45:31PM +0200, Manfred Lotz wrote:
> Hi folks,
> The TeX Collection image for 2021 is available for testing from
>      http://tug.org/~manfred
> 
> Specifically
>   http://tug.org/~manfred/texcol2021.iso
> 
> Checksums are available as:
>   http://tug.org/~manfred/texcol2021.iso.md5
> or 
>   http://tug.org/~manfred/texcol2021.iso.sha512

Tested MiKTeX (via ProTeXt) and TeX Live in most combinations of
admin/single user on Windows 7 Home NL, Windows 8.1 Pro NL and
Windows 10 20H2 Pro US, all on virtual machines, except for one full
default admin installation on a bare-metal Windows 10 20H2.

I belatedly found a problem with the TL installer: the number of and
the combined size of the collections gives wrong info when
checking/unchecking TeXworks in the main window. I do not consider
this a show stopper.

I tested the installation with pdflatex, xelatex, lualatex, bibtex,
biber and makeindex.

MiKTeX uninstalled cleanly in all cases. With TL, filetypes are
sometimes not removed at uninstall. This is a long-standing problem
for which I have no answer. Since the filetypes are no longer linked
to any file extensions, this failure should in practice be of little
consequence.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Mon Apr  5 20:53:03 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 5 Apr 2021 20:53:03 +0200
Subject: Bugs in texlive 2021
In-Reply-To: <d48a6f80-41d4-baef-d9ad-0701f5075cb5@schuli-wirsi.de>
References: <d48a6f80-41d4-baef-d9ad-0701f5075cb5@schuli-wirsi.de>
Message-ID: <YGtcj69LiX4rjLmW@bitmuis.nl>

On Mon, Apr 05, 2021 at 04:39:51PM +0200, Jack wrote:
> Hi All
> 
> Some issues about TexLive 2021
> 
> 1)
> I ran the installer with ./install-tl --gui=perltk for a full install on
> (updated) Ubuntu 20.04
> It could not detect the symlink in /usr to my texlive directory
> The installers in 2020, 2019 etc. all could.

Please explain.

> 2)
> tlmgr has language problems
> echo $LANG $LC_MESSAGES
> de_DE.UTF-8
> POSIX

$LC_MESSAGES is the one that counts for tlmgr.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Mon Apr  5 21:00:05 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 5 Apr 2021 21:00:05 +0200
Subject: Call for testing: TeX Collection 2021
In-Reply-To: <YGtZwPv+r2FKClEJ@bitmuis.nl>
References: <20210402164531.0f38f895@hogwart>
 <YGtZwPv+r2FKClEJ@bitmuis.nl>
Message-ID: <YGteNTQAwphWKcHf@bitmuis.nl>

On Mon, Apr 05, 2021 at 08:41:04PM +0200, Siep Kroonenberg wrote:
> On Fri, Apr 02, 2021 at 04:45:31PM +0200, Manfred Lotz wrote:
> > Hi folks,
> > The TeX Collection image for 2021 is available for testing from
> >      http://tug.org/~manfred
> > 
> > Specifically
> >   http://tug.org/~manfred/texcol2021.iso
> > 
> > Checksums are available as:
> >   http://tug.org/~manfred/texcol2021.iso.md5
> > or 
> >   http://tug.org/~manfred/texcol2021.iso.sha512
> 
> Tested MiKTeX (via ProTeXt) and TeX Live in most combinations of
> admin/single user on Windows 7 Home NL, Windows 8.1 Pro NL and
> Windows 10 20H2 Pro US, all on virtual machines, except for one full
> default admin installation on a bare-metal Windows 10 20H2.

Forgot to mention: W7 and W8 were 32-bit, W10 (virtual and
non-virtual) 64-bit.

> I belatedly found a problem with the TL installer: the number of and
> the combined size of the collections gives wrong info when
> checking/unchecking TeXworks in the main window. I do not consider
> this a show stopper.
> 
> I tested the installation with pdflatex, xelatex, lualatex, bibtex,
> biber and makeindex.
> 
> MiKTeX uninstalled cleanly in all cases. With TL, filetypes are
> sometimes not removed at uninstall. This is a long-standing problem
> for which I have no answer. Since the filetypes are no longer linked
> to any file extensions, this failure should in practice be of little
> consequence.

-- 
Siep Kroonenberg

From kakuto at w32tex.org  Tue Apr  6 00:53:42 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 07:53:42 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
Message-ID: <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>

On 2021/04/05 20:35, Norbert Preining wrote:
>> doesn't return true during the format creation. It looks as if the
>> current directory is no longer part of the search path when a format
>> is created with fmtutil-sys.
> Do you know a time when it was still working? I don't remember any
> change in this direction that was recent (and that means before TL2020),
> so I am surprised.


I have tried by copying latex.ltx into a current directory:
c:/usr/work/latex.ltx

fmfutil-sys --byfmt latex

... ...
(c:/usr/work/latex.ltx
... ...

So I think that the current directory is searched, by pdftex
in this case, when fmtutil-sys is used.

Best,
Akira

From kakuto at w32tex.org  Tue Apr  6 01:28:48 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 08:28:48 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
Message-ID: <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>

On 2021/04/06 7:53, Akira Kakuto wrote:
> So I think that the current directory is searched, by pdftex
> in this case, when fmtutil-sys is used.

However, I confirmed
https://github.com/latex3/latex3/issues/867

fmtutil-sys --byfmt pdflatex

%
% test.tex
%
\documentclass{article}
\begin{document}
\ExplSyntaxOn
\c_sys_platform_str\par
\sys_if_platform_windows:TF
   { True }
   { False }
\ExplSyntaxOff
\end{document}

pdflatex test
gives

unkown
False

cd $TEXMF-VAR/web2c/pdftex
pdftex -ini -translate-file=cp227.tcx -jobname=pdflatex -progname=pdflatex -etex pdflatex.ini

pdflatex test
gives correctly

windows
True

Thus, fmtutil-sys may be problematic.

Thanks,
Akira

From norbert at preining.info  Tue Apr  6 02:15:21 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 6 Apr 2021 09:15:21 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
Message-ID: <YGuoGVf+gBHRu66E@bulldog.preining.info>

On Tue, 06 Apr 2021, Akira Kakuto wrote:
> However, I confirmed

But .. nothing has changed in fmtutil since 2020, or better, there was
only code reduction without semantics change.

Here is the complete diff (with -w to ignore ws changes) since 2020-03


diff --git a/Master/texmf-dist/scripts/texlive/fmtutil.pl b/Master/texmf-dist/scripts/texlive/fmtutil.pl
index 76abdbad6c2..dab304429b3 100755
--- a/Master/texmf-dist/scripts/texlive/fmtutil.pl
+++ b/Master/texmf-dist/scripts/texlive/fmtutil.pl
@@ -407,9 +407,11 @@ sub callback_build_formats {
   my $nobuild = 0;
   my $notavail = 0;
   my $total = 0;
+  for my $swi (qw/format=engine format!=engine/) {
     for my $fmt (keys %{$alldata->{'merged'}}) {
       for my $eng (keys %{$alldata->{'merged'}{$fmt}}) {
-      next if ($fmt ne $eng);
+        next if ($swi eq "format=engine" && $fmt ne $eng);
+        next if ($swi eq "format!=engine" && $fmt eq $eng);
         $total++;
         my $val = select_and_rebuild_format($fmt, $eng, $what, $whatarg);
         if ($val == $FMT_DISABLED)    { $disabled++; }
@@ -421,26 +423,17 @@ sub callback_build_formats {
                . "from select_and_rebuild.\n"); }
       }
     }
-  for my $fmt (keys %{$alldata->{'merged'}}) {
-    for my $eng (keys %{$alldata->{'merged'}{$fmt}}) {
-      next if ($fmt eq $eng);
-      $total++;
-      my $val = select_and_rebuild_format($fmt, $eng, $what, $whatarg);
-      if ($val == $FMT_DISABLED)    { $disabled++; }
-      elsif ($val == $FMT_NOTSELECTED) { $nobuild++; }
-      elsif ($val == $FMT_FAILURE)  { $err++; push (@err, "$eng/$fmt"); }
-      elsif ($val == $FMT_SUCCESS)  { $suc++; }
-      elsif ($val == $FMT_NOTAVAIL) { $notavail++; }
-      else { print_error("callback_build_format (round 2): unknown return "
-             . "from select_and_rebuild.\n"); }
-    }
   }
 
   # if the user asked to rebuild something, but we did nothing, report
   # unless we tried to rebuild only missing formats.
   if ($what ne "missing") {
     if ($err + $suc == 0) {
-      print_info("did not find entry for $what=$whatarg, skipped\n");
+      if ($what eq "all") {
+        print_warning("You seem to have no formats defined in your fmtutil.cnf files!\n");
+      } else {
+        print_info("Did not find entry for $what=" . ($whatarg?$whatarg:"") . " skipped\n");
+      }
     }
   }
   my $stdo = ($mktexfmtMode ? \*STDERR : \*STDOUT);


So it doesn't look like that fmtutil is the culprit.

texmf.cnf?

Anything else?

Best

Norbert


--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From artemiogl at telefonica.net  Mon Apr  5 20:57:27 2021
From: artemiogl at telefonica.net (=?utf-8?Q?Artemio_Gonz=C3=A1lez_L=C3=B3pez?=)
Date: Mon, 5 Apr 2021 20:57:27 +0200
Subject: Problem installing TeXLive 2021 on Macs
Message-ID: <433D9495-1E3C-41CE-BAD9-C3DA157C2292@telefonica.net>

I am trying to install TeXLive 2021 on several Macs I own using the vanilla Unix install package install-tl.unx.tar.gz (I prefer it to the more standard MacTeX distribution because I don?t need most of the apps that come with it, among other reasons). Although I?ve been doing this for a number of years without a hitch, this time over I haven?t been able to do so. More precisely, after decompressing the tar.gz archive, cd?ing to the install directory, executing the standard command (sudo perl ./install-tl ?no-gui) and entering my password, nothing happens for several minutes and then I get an error message like the following:

cannot contact mirror.ctan.org <http://mirror.ctan.org/>, returning a backbone server!
Loading http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb <http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb>

./install-tl: TLPDB::from_file could not initialize from: http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb <http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb>
./install-tl: Maybe the repository setting should be changed.
./install-tl: More info: https://tug.org/texlive/acquire.html <https://tug.org/texlive/acquire.html>

Needless to say I?ve tried with several other repositories with similar results. For instance

sudo perl ./install-tl --repository https://ctan.javinator9889.com/systems/texlive/tlnet <https://ctan.javinator9889.com/systems/texlive/tlnet> --no-gui
Loading https://ctan.javinator9889.com/systems/texlive/tlnet/tlpkg/texlive.tlpdb <https://ctan.javinator9889.com/systems/texlive/tlnet/tlpkg/texlive.tlpdb>

./install-tl: TLPDB::from_file could not initialize from: https://ctan.javinator9889.com/systems/texlive/tlnet/tlpkg/texlive.tlpdb <https://ctan.javinator9889.com/systems/texlive/tlnet/tlpkg/texlive.tlpdb>
./install-tl: Maybe the repository setting should be changed.
./install-tl: More info: https://tug.org/texlive/acquire.html <https://tug.org/texlive/acquire.html>

Could anybody please tell me what I?m doing wrong? (It? probably something more or less obvious, but I am stymied). Right now I am running TeXLive 2020

Thanks in advance,

Artemio

Artemio Gonzalez Lopez
artemiogl at telefonica.net



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210405/948c6c5f/attachment.html>

From kakuto at w32tex.org  Tue Apr  6 02:44:44 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 09:44:44 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <YGuoGVf+gBHRu66E@bulldog.preining.info>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
Message-ID: <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>

On 2021/04/06 9:15, Norbert Preining wrote:
> So it doesn't look like that fmtutil is the culprit.

Strange!

I tested the system() in tlperl:

# perl mkfmt.pl
my $cmdl="pdftex -ini -translate-file=cp227.tcx -jobname=pdflatex -progname=pdflatex -etex pdflatex.ini <nul";
system($cmdl);

I created by running mkfmt.pl by tlperl, and made pdflatex.fmt
in a current directory.
I copied pdflatex.fmt into $TEXMF-VAR/web2c/pdftex, and removed
pdflatex.fmt in the current directory.

pdflatex test.tex
gives correctly

windows
True

So system() in tlperl is fine.

However, strangely,
fmtutil-sys --byfmt pdflatex

pdflatex test.tex
gives

unknown
False

In my case, texmf.cnf is only the distributed one.

Best,
Akira

From norbert at preining.info  Tue Apr  6 03:05:13 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 6 Apr 2021 10:05:13 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
Message-ID: <YGuzyfG+4omp+ug9@bulldog.preining.info>

Hi Akira,

On Tue, 06 Apr 2021, Akira Kakuto wrote:
> my $cmdl="pdftex -ini -translate-file=cp227.tcx -jobname=pdflatex -progname=pdflatex -etex pdflatex.ini <nul";

> fmtutil-sys --byfmt pdflatex

Can you please do:
- put the following code
	for my $i (keys %ENV) {
	  print("ENV $i => $ENV{$i}\n");
	}
  into fmtutil.pl, function callback_build_formats
  just before these lines:
    # we rebuild formats in two rounds:
    # round 1: only formats with the same name as engine (pdftex/pdftex)

- run
	fmtutil-sys --byfmt pdflatex
  and capture the output

- add the same code into your perl script before running the pdftex
  command
  run and capture the output

- send me both outputs


Concerning directories:
Formats built by fmtutils are created in a temporary directory, not in
some defined one.

Furthermore, we do something with KPSE_DOT
	$ENV{'KPSE_DOT'} = $thisdir;
(code taken over from the origin shell version).

I don't see anything Windows specific here **besides** the way the
temporary directory is created.

All very strange

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Tue Apr  6 04:03:37 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 6 Apr 2021 11:03:37 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <YGuzyfG+4omp+ug9@bulldog.preining.info>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
Message-ID: <YGvBecfaxwg9wswv@bulldog.preining.info>

Hi Akira, hi all,

thanks for the files.

So the difference in environment is nothing particular, but a few points
are strange. The environment in fmtutil has the following added entries

+ENV ENGINE => luatex
+ENV KPSE_DOT => c:/usr/work/edrive/send
+ENV PROGNAME => fmtutil
+ENV SELFAUTODIR => c:/usr/SVN/tlmaster3/bin
+ENV SELFAUTOGRANDPARENT => c:/usr/SVN
+ENV SELFAUTOLOC => c:/usr/SVN/tlmaster3/bin/win32
+ENV SELFAUTOPARENT => c:/usr/SVN/tlmaster3
+ENV TEXFORMATS => c:/usr/svn/tlmaster3/texmf-var/temp.4912.657305;
+ENV TEXINPUTS => c:/usr/svn/tlmaster3/texmf-var/temp.4912.657305;

Here the TEXFORMATS and TEXINPUTS are adding the directory where the
format is build.

What puzzles me is the
	ENGINE=luatex
environment .. but that shouldn't have an influence on the pdfetex call.

So, nothing of interest.

The actual calls to the format dump are *absolutely* the same log
content, so also here no change.

Sorry I am lost ...

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at w32tex.org  Tue Apr  6 06:07:13 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 13:07:13 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <YGvBecfaxwg9wswv@bulldog.preining.info>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
Message-ID: <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>

On 2021/04/06 11:03, Norbert Preining wrote:
> What puzzles me is the
> 	ENGINE=luatex
> environment .. but that shouldn't have an influence on the pdfetex call.

That is not a puzzle:

fmtutil-sys is called via runscript.tlu in Windows.
runscript.tlu is a script for texlua (== luatex).
In luatex, putenv("engine=luatex") is executed.
In Windows, an env var engine is equivalent with ENGINE.



It is really strange that
fmtutil-sys --byfmt pdflatex
and seemingly equivalent

# perl mkfmt.pl
my $cmdl="pdftex -ini   -jobname=pdflatex -progname=pdflatex -translate-file=cp227.tcx *pdflatex.ini <nul";
system($cmdl);

create different format files!!

Thanks,
Akira

From kakuto at w32tex.org  Tue Apr  6 06:24:03 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 13:24:03 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
Message-ID: <78ef9607-e672-adec-ba47-ebf157a3aed9@w32tex.org>

On 2021/04/06 13:07, Akira Kakuto wrote:
> fmtutil-sys is called via runscript.tlu in Windows.

I tested by direct call:

perl full_path/fmtutil.pl --sys --byfmt pdflatex

Nothing changes:

pdflatex test
gives

unknown
False

For
# perl mkfmt.pl
my $cmdl="pdftex -ini   -jobname=pdflatex -progname=pdflatex -translate-file=cp227.tcx *pdflatex.ini <nul";
system($cmdl);

pdflatex test
gives

windows
True

Thanks,
Akira

From kakuto at w32tex.org  Tue Apr  6 08:20:36 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 15:20:36 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
Message-ID: <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>

Hi Norbert,

On 2021/04/06 13:07, Akira Kakuto wrote:
> It is really strange that ...

I think that I found a solution.
See an attached fmtutil.pl.diff.
By applying the patch, I have

pdflatex test
gives

windows
True

for fmtutil-sys --byfmt pdflatex

Thanks,
Akira
-------------- next part --------------
--- fmtutil.pl.orig	Tue Apr 06 15:06:22 2021
+++ fmtutil.pl	Tue Apr 06 15:11:17 2021
@@ -379,7 +379,7 @@
 
   # code taken over from the original shell script for KPSE_DOT etc
   my $thisdir = cwd();
-  $ENV{'KPSE_DOT'} = $thisdir;
+  $ENV{'KPSE_DOT'} = "$thisdir$sep.";
 
   # due to KPSE_DOT, we don't search the current directory, so include
   # it explicitly for formats that \write and later on \read

From norbert at preining.info  Tue Apr  6 09:42:10 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 6 Apr 2021 16:42:10 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
Message-ID: <YGwQ0gjtPu34YibY@bulldog.preining.info>

Hi Akira,

> -  $ENV{'KPSE_DOT'} = $thisdir;
> +  $ENV{'KPSE_DOT'} = "$thisdir$sep.";

I agree that this is a solution, but **why**? What has changed?
It seems that the formats now contain some informatiion about
what KPSE_DOT was during the format dump.

And this code has been here since **2015**

from git blame:
59017b52c2f2 (Norbert Preining 2015-03-18 06:34:46 +0000  382)   $ENV{'KPSE_DOT'} = $thisdir;

So this is for sure nothing we have changed, but something in the latex
format or the engines has changed.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From harald at mailbox.org  Tue Apr  6 09:52:03 2021
From: harald at mailbox.org (Harald Koenig)
Date: Tue, 6 Apr 2021 09:52:03 +0200
Subject: Bugs in texlive 2021
In-Reply-To: <d48a6f80-41d4-baef-d9ad-0701f5075cb5@schuli-wirsi.de>
References: <d48a6f80-41d4-baef-d9ad-0701f5075cb5@schuli-wirsi.de>
Message-ID: <20210406075203.GB18938@hl.fritz.box>

On Apr 05, Jack wrote:

> 2)
> tlmgr has language problems
> echo $LANG $LC_MESSAGES
> de_DE.UTF-8
> POSIX
> 
> tlmgr conf ...
> 
> Sorry, no translations available for POSIX (nor POSIX); falling back to
> English.
> ??? Make sure that you have the package "texlive-msg-translations"
> installed.
> ??? (If you'd like to help translate the installer's messages, please see
> ??? http://tug.org/texlive/doc.html#install-tl-xlate for information.)

I've seen this warnings too on my SUSE system.

not sure why, but "POSIX" doesn't seem to be valid anymore (see output of "locale"),
I've now changed to "C" instead of "POSIX" and the warnings are gone...


Harald
-- 
"I hope to die                                      ___       _____
before I *have* to use Microsoft Word.",           0--,|    /OOOOOOO\
Donald E. Knuth, 02-Oct-2001 in Tuebingen.        <_/  /  /OOOOOOOOOOO\
                                                    \  \/OOOOOOOOOOOOOOO\
                                                      \ OOOOOOOOOOOOOOOOO|//
                                                       \/\/\/\/\/\/\/\/\/
Harald Koenig                                           //  /     \\  \
harald.koenig at mailbox.org                              ^^^^^       ^^^^^

From norbert at preining.info  Tue Apr  6 10:06:15 2021
From: norbert at preining.info (Norbert Preining)
Date: Tue, 6 Apr 2021 17:06:15 +0900
Subject: Problem installing TeXLive 2021 on Macs
In-Reply-To: <433D9495-1E3C-41CE-BAD9-C3DA157C2292@telefonica.net>
References: <433D9495-1E3C-41CE-BAD9-C3DA157C2292@telefonica.net>
Message-ID: <YGwWd170pI4lprOD@bulldog.preining.info>

Hi Artemio,

On Mon, 05 Apr 2021, Artemio Gonz?lez L?pez wrote:
> cannot contact mirror.ctan.org <http://mirror.ctan.org/>, returning a backbone server!

It seems that you are behind a proxy that blocks perl access.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Tue Apr  6 10:11:30 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 6 Apr 2021 10:11:30 +0200
Subject: has the search path during format creation been changed?
References: <6yvbcfb1af2v.dlg@nililand.de>
 <YGr18I+0kVY7HuYR@NP-U9310.g01.fujitsu.com>
 <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info>
Message-ID: <297i4yrmls4.dlg@nililand.de>

Am Tue, 6 Apr 2021 16:42:10 +0900 schrieb Norbert Preining:

> Hi Akira,
> 
>> -  $ENV{'KPSE_DOT'} = $thisdir;
>> +  $ENV{'KPSE_DOT'} = "$thisdir$sep.";
> 
> I agree that this is a solution, but **why**? What has changed?

It can't be latex as I'm using the same files for both formats and
expl3 is loaded quite early, . The config files (pdflatex.ini etc)
are from the respective texmf trees but their content is identical.
It can't be windows as I have both texlive on the same machine
side-by-side. 

texmf.cnf is different but nothing looks suspicious, the engines are
naturally different. 

Beside this kpathsea had version 6.3.2 in texlive 2020 and is now at
6.3.3




-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From preining at logic.at  Tue Apr  6 10:24:38 2021
From: preining at logic.at (Norbert Preining)
Date: Tue, 6 Apr 2021 17:24:38 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <297i4yrmls4.dlg@nililand.de>
References: <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info>
 <297i4yrmls4.dlg@nililand.de>
Message-ID: <YGwaxu7+5X+dQ4va@bulldog.preining.info>

Hi Ulrike, hi Akira,

On Tue, 06 Apr 2021, Ulrike Fischer wrote:
> Beside this kpathsea had version 6.3.2 in texlive 2020 and is now at
> 6.3.3

There is one change with comments about this in kpathsea/readable.c:
+/*
+  Support very long input path name, longer than _MAX_PATH for
+  Windows, if it really exists and input name is given in
+  full-absolute path in a command line.
+  /../, /./, \..\, \.\ should be excluded (2020/06/06)
+  More than one adjacent directory separators should be
+  excluded. (2020/10/24)
+*/

That is the only relevant change in kpathsea besides knj.c updates that
probably (?) don't apply here.

Akira, any idea?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at w32tex.org  Tue Apr  6 11:27:47 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 18:27:47 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <YGwaxu7+5X+dQ4va@bulldog.preining.info>
References: <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info> <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
Message-ID: <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>

Hi Norbert,

On 2021/04/06 17:24, Norbert Preining wrote:
> Akira, any idea?

I'm not confident that my patch is correct or not.
Please replace the previous patch by an attached
patch: fmtutil.pl.diff2, because it seems to work on Windows.

Thanks,
Akira
-------------- next part --------------
--- fmtutil.pl.orig	Tue Apr 06 15:06:24 2021
+++ fmtutil.pl	Tue Apr 06 18:17:32 2021
@@ -379,8 +379,11 @@
 
   # code taken over from the original shell script for KPSE_DOT etc
   my $thisdir = cwd();
-  $ENV{'KPSE_DOT'} = $thisdir;
-
+  if (win32()) {
+    $ENV{'KPSE_DOT'} = "$thisdir$sep.";
+  } else {
+    $ENV{'KPSE_DOT'} = $thisdir;
+  }
   # due to KPSE_DOT, we don't search the current directory, so include
   # it explicitly for formats that \write and later on \read
   $ENV{'TEXINPUTS'} ||= "";

From kakuto at w32tex.org  Tue Apr  6 12:17:08 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Tue, 6 Apr 2021 19:17:08 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <YGwaxu7+5X+dQ4va@bulldog.preining.info>
References: <8e9a2f54-6e2d-b5da-bafb-757ac57bd822@w32tex.org>
 <1f52d517-55f4-2b9d-82b9-760e392444fa@w32tex.org>
 <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info> <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
Message-ID: <bbec2ac9-a724-1c3e-530e-a7f908ef5c48@w32tex.org>

Hi Norbert,

On 2021/04/06 17:24, Norbert Preining wrote:
> There is one change with comments about this in kpathsea/readable.c:
> +/*
> +  Support very long input path name, longer than _MAX_PATH for
> +  Windows, if it really exists and input name is given in
> +  full-absolute path in a command line.
> +  /../, /./, \..\, \.\ should be excluded (2020/06/06)
> +  More than one adjacent directory separators should be
> +  excluded. (2020/10/24)
> +*/

You are right. In the new source, for example,
c:/usr/work/nul is not readable, while in the old source it is
readable. The new source is not applicable for the nul device.
I'll change the sources, but please apply fmtutil.pl.diff2 as a
workaround until I update binaries.

Best,
Akira

From preining at logic.at  Tue Apr  6 13:17:47 2021
From: preining at logic.at (Norbert Preining)
Date: Tue, 6 Apr 2021 20:17:47 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>
References: <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info>
 <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
 <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>
Message-ID: <YGxDW983ASsfgz55@bulldog.preining.info>

Dear Akira,

On Tue, 06 Apr 2021, Akira Kakuto wrote:
> patch: fmtutil.pl.diff2, because it seems to work on Windows.

Applied, will be out tomorrow. 

Do you intend to update the win32 binaries at some point, or do we leave
that for TL2022?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From richardmoncriefkoch at icloud.com  Tue Apr  6 15:19:12 2021
From: richardmoncriefkoch at icloud.com (Richard Koch)
Date: Tue, 6 Apr 2021 06:19:12 -0700
Subject: Problem installing TeXLive 2021 on Macs
Message-ID: <C8387CCE-009B-47DA-81F0-30B44563908E@icloud.com>

Artemio,

The MacTeX web pages at tug.org/mactex have a special page devoted to installing
using the Unix script. Please read it if you haven't already.

Yesterday there were a number of questions from people who used that method, but
none with your problem, and all these users installed TeX Live without difficulty.

That's all the help I can provide, but perhaps it is significant to know that the
Unix install script was used successfully by several Mac folks.

Richard Koch

From Thomas.Feuerstack at fernuni-hagen.de  Tue Apr  6 15:52:07 2021
From: Thomas.Feuerstack at fernuni-hagen.de (Feuerstack, Thomas)
Date: Tue, 6 Apr 2021 15:52:07 +0200
Subject: Call for testing: TeX Collection 2021
In-Reply-To: <20210402164531.0f38f895@hogwart>
References: <20210402164531.0f38f895@hogwart>
Message-ID: <ca510268-448b-c3c8-e036-f22ed04a5673@fernuni-hagen.de>

Hi Manfred,

Am 02.04.2021 um 16:45 schrieb Manfred Lotz:

(...)

> Thomas Feuerstack: protext on Windows

please replace the underlying protext-structure with the one, available 
from https://www.fernuni-hagen.de/zmi/software/latex/protext/ 
(protext-3.2-031721.zip)

It shows, that MiKTeX tries an on-the-fly post-install of footmisc.sty 
every time you try to to compile a LaTeX-document based on koma-script 
which is quite annoying.

I fixed this in the version mentionend above.

Beside this, everything went well.

Thanks - Thomas

From kakuto at w32tex.org  Tue Apr  6 22:27:58 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 7 Apr 2021 05:27:58 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <YGxDW983ASsfgz55@bulldog.preining.info>
References: <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info> <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
 <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>
 <YGxDW983ASsfgz55@bulldog.preining.info>
Message-ID: <ab06fecd-f28a-1b3a-7592-c7417b776968@w32tex.org>

Dear Nobert,

>> You are right. In the new source, for example,
>> c:/usr/work/nul is not readable, while in the old source it is
>> readable. The new source is not applicable for the nul device.
>> I'll change the sources, but please apply fmtutil.pl.diff2 as a
>> workaround until I update binaries.

I tested by changing sources. c:/usr/work/nul became readable.
But unfortunately, I still have

unknown
False

for

pdflatex test
by using a format created by
fmtutil-sys --byfmt pdflatex.

Sorry I'm completely lost.

> Do you intend to update the win32 binaries at some point, or do we leave
> that for TL2022?

Thus I want to live with fmtutil.pl.diff2.

Best,
Akira


From kakuto at w32tex.org  Wed Apr  7 00:14:50 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 7 Apr 2021 07:14:50 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <ab06fecd-f28a-1b3a-7592-c7417b776968@w32tex.org>
References: <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info> <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
 <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>
 <YGxDW983ASsfgz55@bulldog.preining.info>
 <ab06fecd-f28a-1b3a-7592-c7417b776968@w32tex.org>
Message-ID: <3a189c92-79fd-a73c-cb5a-650d1b31a731@w32tex.org>

Dear Norbert,

On 2021/04/07 5:27, Akira Kakuto wrote:
> I tested by changing sources. c:/usr/work/nul became readable.
> But unfortunately, I still have
> 
> unknown
> False
> 
> for
> 
> pdflatex test
> by using a format created by
> fmtutil-sys --byfmt pdflatex.
> 
> Sorry I'm completely lost.

My test was wrong. By using the changed sources, and by using the
original fmtutil.pl, I obtain correctly

windows
True

for

pdflatex test.

I'll change almost all windows binaries in this year for TeX Live 2021.
(It will need some time.)
I'll revert fmtutil.pl when I update w32 binaries.

Thanks,
Akira

From norbert at preining.info  Wed Apr  7 00:34:01 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 7 Apr 2021 07:34:01 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <3a189c92-79fd-a73c-cb5a-650d1b31a731@w32tex.org>
References: <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info>
 <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
 <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>
 <YGxDW983ASsfgz55@bulldog.preining.info>
 <ab06fecd-f28a-1b3a-7592-c7417b776968@w32tex.org>
 <3a189c92-79fd-a73c-cb5a-650d1b31a731@w32tex.org>
Message-ID: <YGzh2ZcDxzzb+Yw/@NP-U9310.g01.fujitsu.com>

Dear Akira,

???????

thanks for all your work and tests on that!!!

On Wed, 07 Apr 2021, Akira Kakuto wrote:
> My test was wrong. By using the changed sources, and by using the
> original fmtutil.pl, I obtain correctly

Great.

> I'll change almost all windows binaries in this year for TeX Live 2021.
> (It will need some time.)
> I'll revert fmtutil.pl when I update w32 binaries.

Thanks, much appreciated.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at w32tex.org  Wed Apr  7 09:36:06 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 7 Apr 2021 16:36:06 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <3a189c92-79fd-a73c-cb5a-650d1b31a731@w32tex.org>
References: <YGuoGVf+gBHRu66E@bulldog.preining.info>
 <4d828e28-7f73-99e8-a49c-f066874c55fd@w32tex.org>
 <YGuzyfG+4omp+ug9@bulldog.preining.info>
 <YGvBecfaxwg9wswv@bulldog.preining.info>
 <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info> <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
 <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>
 <YGxDW983ASsfgz55@bulldog.preining.info>
 <ab06fecd-f28a-1b3a-7592-c7417b776968@w32tex.org>
 <3a189c92-79fd-a73c-cb5a-650d1b31a731@w32tex.org>
Message-ID: <819141d3-ef32-d94d-cccf-a864f2d59b26@w32tex.org>

Dear Norbert,

On 2021/04/07 7:14, Akira Kakuto wrote:
> I'll change almost all windows binaries in this year for TeX Live 2021.
> (It will need some time.)
> I'll revert fmtutil.pl when I update w32 binaries.

Done, r58783, r58784.

Thanks,
Akira


From artemio at ucm.es  Wed Apr  7 14:29:08 2021
From: artemio at ucm.es (=?utf-8?Q?Artemio_Gonz=C3=A1lez_L=C3=B3pez?=)
Date: Wed, 7 Apr 2021 14:29:08 +0200
Subject: tex-live Digest, Vol 219, Issue 15
In-Reply-To: <mailman.11.1617789601.2609.tex-live@tug.org>
References: <mailman.11.1617789601.2609.tex-live@tug.org>
Message-ID: <60EEEA79-AD2B-47CE-94A3-5B3D6D93FC35@ucm.es>


> On Apr 7, 2021, at 12:00 PM, tex-live-request at tug.org wrote:
> 
> Message: 3
> Date: Tue, 6 Apr 2021 06:19:12 -0700
> From: Richard Koch <richardmoncriefkoch at icloud.com <mailto:richardmoncriefkoch at icloud.com>>
> To: TeXLive <tex-live at tug.org <mailto:tex-live at tug.org>>
> Subject: Re: Re: Problem installing TeXLive 2021 on Macs
> Message-ID: <C8387CCE-009B-47DA-81F0-30B44563908E at icloud.com <mailto:C8387CCE-009B-47DA-81F0-30B44563908E at icloud.com>>
> Content-Type: text/plain;	charset=us-ascii
> 
> Artemio,
> 
> The MacTeX web pages at tug.org/mactex <http://tug.org/mactex> have a special page devoted to installing
> using the Unix script. Please read it if you haven't already.
> 
> Yesterday there were a number of questions from people who used that method, but
> none with your problem, and all these users installed TeX Live without difficulty.
> 
> That's all the help I can provide, but perhaps it is significant to know that the
> Unix install script was used successfully by several Mac folks.
> 
> Richard Koch


Dear Richard and Norbert,

Thanks a lot for your help. In fact, I just realized that my problem was the Little Snitch was silently blocking tlmgr?s request to start an outgoing connection via wget to download the TeXLive distribution. Once I authorized this connection everything proceeded as expected.

Thank you both again, and sorry for the noise I involuntarily added to the list!

Artemio


Artemio Gonz?lez-L?pez
Depto. Fisica Teorica
Universidad Complutense
28040 Madrid, SPAIN

Phone: +34 913944596
Fax:      +34 913944557
email:    artemio at ucm.es
URL:     http://jacobi.fis.ucm.es/artemio

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210407/563f1a36/attachment.html>

From manfred.lotz at posteo.de  Wed Apr  7 14:46:37 2021
From: manfred.lotz at posteo.de (Manfred Lotz)
Date: Wed, 7 Apr 2021 14:46:37 +0200
Subject: TeX Collection image updated
Message-ID: <20210407144637.0bbebee5@hogwart>

Hi all,
The TeX Collection image has been updated to address a minor issue in
ProTeXt. No other changes.

Here the information from Thomas Feuerstack

> MiKTeX tries an on-the-fly post-install of footmisc.sty every time
> one tries to to compile a LaTeX-document based on koma-script which
> is quite annoying. The fix contains the footmisc package so that no
> post-install of footmisc isn't tried any longer.

Thanks to Thomas for providing the fix.


I think those who have already tested ProTeXt do not need another test
run.

So far thanks to all who have already done testing.


-- 
Manfred

From beebe at math.utah.edu  Wed Apr  7 16:59:33 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Wed, 7 Apr 2021 08:59:33 -0600
Subject: TeX Collection image updated
Message-ID: <CMM.0.95.0.1617807573.beebe@gamma.math.utah.edu>

Manfred's new texcol2021.iso* files of 7-Apr-2021 are now mirrored to

	http://www.math.utah.edu/pub/texlive-utah-2021/Images/

In addition, the first paragraph following the warning box at that Web
site now links to a new Web page

	http://www.math.utah.edu/pub/texlive-utah/Images/iso-mounting.html

with instructions for mounting ISO images in major operating system
families.  Comments and corrections are of course welcome.

Besides the list of systems for which I already posted successful
installations from the texcol2021.iso file, I can now add two more:

	FreeBSD-13.0-RC5 	[yes, yet another release candidate]
	DragonFlyBSD 5.8.3	[physical machine]

For the latter, I first populated the tree

	$prefix/texlive/2021/bin/x86_64-dragonflybsd562

with a copy of binaries for an earlier version of that O/S, then in
the install-tl run, told it to install binaries only for x86_64-linux.
After installation, I deleted that unneeded directory.


-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From norbert at preining.info  Thu Apr  8 03:16:11 2021
From: norbert at preining.info (Norbert Preining)
Date: Thu, 8 Apr 2021 10:16:11 +0900
Subject: has the search path during format creation been changed?
In-Reply-To: <819141d3-ef32-d94d-cccf-a864f2d59b26@w32tex.org>
References: <0e9233b3-4c14-efbc-1ba8-b8fcb49aac9c@w32tex.org>
 <1e5593d7-9bc3-f168-1402-7b1cd7dd6ac0@w32tex.org>
 <YGwQ0gjtPu34YibY@bulldog.preining.info>
 <297i4yrmls4.dlg@nililand.de>
 <YGwaxu7+5X+dQ4va@bulldog.preining.info>
 <98be5ec2-8747-cf86-9ddb-ee9d269ba4f8@w32tex.org>
 <YGxDW983ASsfgz55@bulldog.preining.info>
 <ab06fecd-f28a-1b3a-7592-c7417b776968@w32tex.org>
 <3a189c92-79fd-a73c-cb5a-650d1b31a731@w32tex.org>
 <819141d3-ef32-d94d-cccf-a864f2d59b26@w32tex.org>
Message-ID: <YG5ZW6+I76WLQWy3@bulldog.preining.info>

> Done, r58783, r58784.

Thanks a lot! I hope Ulrike can confirm that with reverted fmtutil and
updated binaries we still get the correct result?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From and_omala at yahoo.com  Thu Apr  8 11:36:56 2021
From: and_omala at yahoo.com (andrew omala)
Date: Thu, 8 Apr 2021 09:36:56 +0000 (UTC)
Subject: installing texlive 2021 error on windows 10
References: <893769641.449702.1617874616124.ref@mail.yahoo.com>
Message-ID: <893769641.449702.1617874616124@mail.yahoo.com>

nstalling [3095/4151, time/total: 45:19/58:20]: ptex.win32 [1352k]TeXLive::TLUtils::check_file_and_remove: checksums differ for C:\WINDOWS\TEMP\0PI7E0Kuwt\Zn7alE7DmB/ptex.win32.r58615.tar.xz:TeXLive::TLUtils::check_file_and_remove:? ?tlchecksum=5ecdedf29656e24af98edd5f93f8e23b52c726e4a1255ea789b50beffdfaefb8ad08974522a42eac56c116736c61fd223fe6093064303e12d02c42afad180196, arg=cb611a68157a9e030151b2bd378983d91fa3d31b85145eab235a577572099639d5cc40b1af5ef1c9641d19b7dfd698577fb160b28a3f92d739bb4bf383879c19TeXLive::TLUtils::check_file_and_remove: backtrace:?-> E:/new/softwares/texlive2021/tlpkg/TeXLive/TLUtils.pm:2352: TeXLive::TLUtils::check_file_and_remove?-> E:/new/softwares/texlive2021/tlpkg/TeXLive/TLPDB.pm:1976: TeXLive::TLUtils::unpack?-> E:/new/softwares/texlive2021/tlpkg/TeXLive/TLPDB.pm:1811: TeXLive::TLPDB::_install_data?-> E:/new/softwares/texlive2021/tlpkg/TeXLive/TLPDB.pm:1727: TeXLive::TLPDB::not_virtual_install_package?-> E:/new/softwares/texlive2021/tlpkg/TeXLive/TLUtils.pm:1556: TeXLive::TLPDB::install_package?-> E:/new/softwares/texlive2021/install-tl:2135: TeXLive::TLUtils::install_packages?-> E:/new/softwares/texlive2021/install-tl:948: main::do_install_packages?-> E:/new/softwares/texlive2021/install-tl:702: main::do_installationTeXLive::TLUtils::check_file_and_remove:? ?removing C:\WINDOWS\TEMP\0PI7E0Kuwt\Zn7alE7DmB/ptex.win32.r58615.tar.xz, but saving copy in C:\WINDOWS\TEMP\Jdiw9W9jITTLPDB::_install_data: consistency checks failed for E:/new/softwares/texlive2021/archive/ptex.win32.r58615.tar.xzTLUtils::install_packages: Failed to install ptex.win32Installation failed.Rerunning the installer will try to restart the installation.Or you can restart by running the installer with:? install-tl-windows.bat --profile installation.profile [YOUR-EXTRA-ARGS]or? install-tl-advanced.bat --profile installation.profile [YOUR-EXTRA-ARGS]E:/new/softwares/texlive2021/install-tl: Writing log in current directory: C:/WINDOWS/system32/install-tl.log

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210408/baea1349/attachment.html>

From karl at freefriends.org  Fri Apr  9 03:39:23 2021
From: karl at freefriends.org (Karl Berry)
Date: Thu, 8 Apr 2021 19:39:23 -0600
Subject: File descriptor error for pdflatex.fmt creation on android 11
In-Reply-To: <b024025c5f3da44c918c1313dc3a08ea7808c383.camel@grimler.se>
Message-ID: <202104090139.1391dNSQ003739@freefriends.org>

Hi Henrik,

    Subject: Re: File descriptor error for pdflatex.fmt creation on android 11

>From your descriptions, all I can guess is that this is some kind of
(strange) Android problem being caused by this concept of "sanitizing
file descriptors", whatever that actually means technically.

I know of no reason why a macro vs. a function would make a difference
except for bugginess. All this code has been around for decades (modulo
the fmt compression, which is only a couple years old), without
problems, so I'm not at all inclined to mess with it to try to work
around self-inflicted Android issues.

Format files are compressed now since there is so much more data in
them, due to Unicode, so compression makes everything faster. Of course
you could disable that for your Android binaries if you wish.

Sorry I don't have anything more useful to suggest. --best, karl.

From christoph-erdmann.pfeiler at gmx.de  Fri Apr  9 14:08:48 2021
From: christoph-erdmann.pfeiler at gmx.de (Christoph-Erdmann Pfeiler)
Date: Fri, 9 Apr 2021 14:08:48 +0200
Subject: Installation of TeX live 2021 on Windows 10 fails with Perl error
 message in TLWinGoo.pm line 1340
Message-ID: <6d9ed006-80c7-6860-34b8-f3cf262edf22@gmx.de>

Gentle reader,


the error occurs on a fully patched Windows 10 PC, version 20H2, Build
19042.906 as soon as the installation process switches to the window
"TeX Life installation program" with the message:


Installing to: C:/texlive/2021
Undefined subroutine &TeXLive::TLWinGoo::is_vista called at
C:/Users/chris/AppData/Local/Temp/nsv946F.tmp/install-tl-20210408/tlpkg/TeXLive/TLWinGoo.pm
line 1340, <STDIN> line 106.

Thank You so much for any hint or help!


Yours sincerely


Christoph-Erdmann Pfeiler



From davide.campa at gmail.com  Fri Apr  9 14:13:31 2021
From: davide.campa at gmail.com (Davide Campagnari)
Date: Fri, 9 Apr 2021 14:13:31 +0200
Subject: Undefined subroutine in tl-installer-windows
Message-ID: <CAPYc9CGrpJRV8-H31enakTh9RFmz1jh=P-wRn+L_zo+tHjOvYw@mail.gmail.com>

First time I've ever had troubles... I'm trying to install TL2021 on a
Windows10 machine with
   install-tl-windows.exe
as administrator; the installation wizard starts, everything looks
fine but as soon as the installation starts it fails with a warning
about an undefined subroutine
   @TeXLive::TLWinGoo::is_vista

Best regards
Davide Campagnari

From christoph-erdmann.pfeiler at gmx.de  Fri Apr  9 14:43:35 2021
From: christoph-erdmann.pfeiler at gmx.de (Christoph-Erdmann Pfeiler)
Date: Fri, 9 Apr 2021 14:43:35 +0200
Subject: Installation of TeX live 2021 on Windows 10 fails with Perl error
 message in TLWinGoo.pm line 1340
In-Reply-To: <6d9ed006-80c7-6860-34b8-f3cf262edf22@gmx.de>
References: <6d9ed006-80c7-6860-34b8-f3cf262edf22@gmx.de>
Message-ID: <b2405984-85d0-cc5e-3c9c-2f2ae3cbcfaf@gmx.de>

Gentle reader,


just a hint from me:


Commenting out lines 1340 up to 1344 of Perl module TLWinGoo.pm made the
installation routine work.


Yours sincerely


Christoph-Erdmann Pfeiler

Am 09.04.2021 um 14:08 schrieb Christoph-Erdmann Pfeiler:
> Gentle reader,
>
>
> the error occurs on a fully patched Windows 10 PC, version 20H2, Build
> 19042.906 as soon as the installation process switches to the window
> "TeX Life installation program" with the message:
>
>
> Installing to: C:/texlive/2021
> Undefined subroutine &TeXLive::TLWinGoo::is_vista called at
> C:/Users/chris/AppData/Local/Temp/nsv946F.tmp/install-tl-20210408/tlpkg/TeXLive/TLWinGoo.pm
> line 1340, <STDIN> line 106.
>
> Thank You so much for any hint or help!
>
>
> Yours sincerely
>
>
> Christoph-Erdmann Pfeiler
>


From martin at dante.de  Fri Apr  9 21:37:14 2021
From: martin at dante.de (Martin Sievers)
Date: Fri, 9 Apr 2021 21:37:14 +0200
Subject: Call for testing: TeX Collection 2021
In-Reply-To: <20210402164531.0f38f895@hogwart>
References: <20210402164531.0f38f895@hogwart>
Message-ID: <9ac01075-6f66-26b0-54dc-b10b592d4f73@dante.de>

Am 02.04.21 um 16:45 schrieb Manfred Lotz:
> Hi folks,
> The TeX Collection image for 2021 is available for testing from
>       http://tug.org/~manfred
> 
> Specifically
>    http://tug.org/~manfred/texcol2021.iso
> 
> Checksums are available as:
>    http://tug.org/~manfred/texcol2021.iso.md5
> or
>    http://tug.org/~manfred/texcol2021.iso.sha512
> 
> Like the years before I just make assumptions what could be possibly
> tested by you. Feel free to do whatever you can do.
> [...]
> Martin Sievers: texlive on Ubuntu; protext on Windows 10
> [...] 
> 
> Please report your test results by including operating system and
> version, e.g. Ubuntu 19.10.

Dear Manfred, dear all,

first of all I would like to thank all of you for the great work you're 
doing each year to provide the TeX Collection to thousands of users all 
over the world.

This year I won't have as much time and platforms available for testing 
as in recent years.

I installed TeX Live 2021 from the iso image on my Ubuntu 20.04 LTS and 
ProTeXt on my Window 10 Pro without any problems.

However, I would like to suggest editing the rather outdated text at the 
beginning of README.HTML (and the corresponding passages for other 
langages like LIESMICH.HTML) as well as of the txt versions:
------------------------------------------
The CTAN backbone consists of the servers

     ftp.tex.ac.uk (cam.ctan.org) in the UK,
     ftp.dante.de (dante.ctan.org) in Germany,
------------------------------------------

As far as I know there is only the DANTE server left.


Moreover, I found a wrong date in these texts:
------------------------------------------
The snapshot was produced in May 2017 from ftp.dante.de by DANTE,
------------------------------------------

which should for sure be something like April 2021 or March 2021.

Best regards,
Martin

--

Martin Sievers -- Einfach sch?ner publizieren

Im Alten Garten 5
54296 Trier

Telefon:  +49 (0) 651 4936567-0
Telefax:  +49 (0) 651 4936567-9
Mobil:    +49 (0) 179 7347726

Internet: https://www.schoenerpublizieren.de
E-Mail:   info at schoenerpublizieren.de



From henrik at grimler.se  Fri Apr  9 23:01:07 2021
From: henrik at grimler.se (Henrik Grimler)
Date: Fri, 09 Apr 2021 23:01:07 +0200
Subject: File descriptor error for pdflatex.fmt creation on android 11
In-Reply-To: <202104090139.1391dNSQ003739@freefriends.org>
References: <202104090139.1391dNSQ003739@freefriends.org>
Message-ID: <775e19a0307fc0ebcc210c690adbec8da14c7b30.camel@grimler.se>

Hi Karl,

Thanks for the feedback!

On Thu, 2021-04-08 at 19:39 -0600, Karl Berry wrote:
> From your descriptions, all I can guess is that this is some kind of
> (strange) Android problem being caused by this concept of "sanitizing
> file descriptors", whatever that actually means technically.
> 
> I know of no reason why a macro vs. a function would make a difference
> except for bugginess.?

I still do not know why the function and macro behaves differently, but
I have at least learnt a bit more what the sanitizer does by
investigating similar errors for other programs.
The sanitizer tries to make sure we close streams/files with the stream
handle(s) obtained through fdopen (or similar, i.e. gzdopen) and not by
using the file descriptor. 

Here's another minimal example that triggers the error:
```
#include <stdio.h>
#include <unistd.h>
int main() {
  FILE *fd = fdopen(fileno(stdout), "w");
  /* not ok: close(fileno(stdout)); */
  /* not ok: fclose(stdout); */
  /* ok: */ fclose(fd);
}
```
Trying to close stdout without using `fd` (as in the first two "not ok"
commands) triggers the error, while `fclose(fd);` works, so could be
how fopen() and gzdopen() are run.

Another possibility is that the sanitizer does not like that
wopenout/w_open_out is called in a while loop, since this means fopen()
and gzdopen() potentially are called multiple times. 

> All this code has been around for decades (modulo
> the fmt compression, which is only a couple years old), without
> problems, so I'm not at all inclined to mess with it to try to work
> around self-inflicted Android issues.

Yeah, the (pdf)tex.web code is fine. Android just does not like how the
compression is done in texmfmp.h. Frankly, I do not quite understand
how the existing (compression) wopenout macro works, with multiple
steps and gzFile->FILE casting. So, I will try to simplify this into
something I do understand and see if I can make sense of the issue on
android.

Hopefully we can revisit this when I have some code that works and that
looks alright. 

Best regards,
Henrik Grimler


From tex at 2krueger.de  Sat Apr 10 04:47:35 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Sat, 10 Apr 2021 04:47:35 +0200
Subject: File descriptor error for pdflatex.fmt creation on android 11
In-Reply-To: <b024025c5f3da44c918c1313dc3a08ea7808c383.camel@grimler.se>
References: <5944e13cda5f71725c5c4098133e5c489849b4ba.camel@grimler.se>
 <682c68c121885de494433c267326b2a6378b6344.camel@grimler.se>
 <b024025c5f3da44c918c1313dc3a08ea7808c383.camel@grimler.se>
Message-ID: <20210410024735.lhe3gx5smr3bxqke@yoga>

On Sun, Apr 04, 2021 at 12:23:03PM +0200, Henrik Grimler wrote:
> Hi,
> 
> I noticed two errors in my small test program (return value of
> open_output was not checked and gzFile was uninitialized). I fixed
> those but am then back at getting the fdsan error with the macro, but
> not with it defined as a function. Compiling and running the attached
> test.c gives the error, but removing the wopenout-macro and un-
> commenting the wopenout-function makes it work.
> 
> Since using a function instead of a macro works for the small test
> program I tried building texlive with wopenout converted to a function
> (see attached wopenout.patch), but pdftex then seem to be unable to
> open the fmtfile, it stops with:
> 

Hi,

the "working" small test program is kind of a red herring: Since it ever
uses the file after openig it, you never realize that the function
doesn't work. The issue is that the macro assigns the opened file handle
to the variable passed as parameter. In a macro this does the expected
thing, but in a function this just changes the local copy of the
parameter leaving the original variable unchanged. So in your example
program `fp` is still NULL after `wopenout` and `gzclose` just happens
to ignore it if a nullptr is passed (Actually it returns the error code
Z_STREAM_ERROR, but your program doesn't test for that)

The zlib documentation recommends using `dup` to copy the descriptor in
such cases to get a descriptor which is independent from the FILE*
managed one (which can then be closed normally) but that is incompatible
with the variable reuse in the current macro. So the macro must first be
rewritten to use separate variables, which is complicated since the
macro is a expression and you can't declare variables in the middle of
an expression.

Best regards,
Marcel

> ```
> (/data/data/com.termux/files/usr/share/texlive/texmf-
> dist/tex/latex/firstaid/la
> tex2e-first-aid-for-external-files.ltx)
>  ) )
> Beginning to dump on file pdflatex.fmt
> ! Could not write 1 4-byte item(s) to pdflatex.fmt.
>  (preloaded format=pdflatex 2021.4.4)
> ```
> 
> Which indicates that I have made some error in the patch, or that there
> is some other error in wopenout. Can anyone see any problems in
> wopenout.patch?
> 
> One workaround that works is to not compress the format file, i.e.
> undef FMT_COMPRESS in texmfmp.h.
> 
> Best regards,
> Henrik Grimler
> 
> On Sat, 2021-04-03 at 20:50 +0200, Henrik Grimler wrote:
> > Hello again, 
> > 
> > I have created a small test program (attached as test.c) that
> > reproduces the problem by condensing the relevant code in
> > texk/web2c/texmfmp.h and texk/web2c/lib/openclose.c.
> > 
> > It compiles without errors with clang-11 on both android (arm) and
> > linux (x86_64) with `clang -lz -o test test_reproduced.c`, and works
> > fine on linux, but when run on android it gives one of those file
> > descriptor errors:
> > 
> > fdsan: attempted to close file descriptor 3, expected to be unowned,
> > actually owned by FILE* 0xacdb000c
> > 
> > The problem seem to have to do with how the format file is opened. In
> > texmfmp.h we have:
> > 
> > ```c
> > #define wopenout(f) (open_output ((FILE**)&(f), FOPEN_WBIN_MODE) \
> > ?&& (f = gzdopen(fileno((FILE*)f), FOPEN_WBIN_MODE)) \
> > ?&& (gzsetparams(f, 1, Z_DEFAULT_STRATEGY) == Z_OK))
> > ```
> > 
> > If I convert the macro into a function instead:
> > 
> > ```c
> > int wopenout (gzFile f)
> > {
> > ? open_output ((FILE**)&(f), "wb");
> > ? f = gzdopen(fileno((FILE*)f), "wb");
> > ? return gzsetparams(f, 1, Z_DEFAULT_STRATEGY) == Z_OK;
> > }
> > ```
> > 
> > the error no longer occurs.?
> > 
> > My first thought was that the issue is related to how gzFile is casted
> > to FILE, but since the problem disappears when defined as a function I
> > suppose this might be a bug in the android libc and/or fd sanitizer. 
> > 
> > Could macros, as the one defined for wopenout, be problematic? I.e.
> > would it make sense to convert wopenout into a normal function or is
> > this most likely an android-specific bug?
> > 
> > Best regards,
> > Henrik Grimler
> > 
> > 
> > 
> > On Fri, 2021-04-02 at 15:45 +0200, Henrik Grimler wrote:
> > > Dear all,
> > > 
> > > Android 11 introduced a new file descriptor sanitizer ("fdsan", see
> > > [1]
> > > for docs) which detects possible issues when opening and closing
> > > files
> > > across multiple threads.
> > > 
> > > Installing texlive on android 11 gives a fdsan error when creating
> > > pdflatex.fmt.?If I run:
> > > 
> > > ? pdftex -ini -jobname=pdflatex -progname=pdflatex -translate-
> > > file=cp227.tcx *pdflatex.ini
> > > 
> > > it aborts with an error
> > > 
> > > ? fdsan: attempted to close file descriptor 3, expected to be
> > > unowned,
> > > actually owned by FILE* 0xb6c6100c
> > > 
> > > Does anyone have experience with this type of issue? For debugging it
> > > the docs suggests replacing all `int fd` with a special `unique_fd
> > > fd`
> > > type, but I am not yet sure how to use that for software like texlive
> > > (rather than android apps), so any hints are greatly appreciated.
> > > 
> > > If I run the command above in gdb I get this backtrace (see [2] for
> > > full log):
> > > 
> > > [...]
> > > Hyphenation trie of length 6081 has 183 ops out of 35111
> > > ? 2 for language 1
> > > ? 181 for language 0
> > > 0 words of pdfTeX memory
> > > fdsan: attempted to close file descriptor 3, expected to be unowned,
> > > actually owned by FILE* 0xb6c6100c
> > > 
> > > Program received signal SIGABRT, Aborted.
> > > 0xb64ec9e8 in fdsan_error(char const*, ...) () from
> > > /apex/com.android.runtime/lib/bionic/libc.so
> > > (gdb) bt
> > > #0? 0xb64ec9e8 in fdsan_error(char const*, ...) () from
> > > /apex/com.android.runtime/lib/bionic/libc.so
> > > #1? 0xb64ec6fe in android_fdsan_close_with_tag () from
> > > /apex/com.android.runtime/lib/bionic/libc.so
> > > #2? 0xb64ecd6e in close () from
> > > /apex/com.android.runtime/lib/bionic/libc.so
> > > #3? 0xb68b18f4 in gzclose_w () from
> > > /data/data/com.termux/files/usr/lib/libz.so.1.2.11
> > > #4? 0x7f56abd8 in storefmtfile () at pdftexini.c:3584
> > > #5? 0x7f570806 in mainbody () at pdftexini.c:5651
> > > #6? 0x7f5609c0 in main (ac=<optimized out>, av=<optimized out>)
> > > ??? at /home/builder/.termux-build/texlive-
> > > bin/src/texk/web2c/lib/texmfmp.c:1098
> > > 
> > > The above output is for pdftex built from the svn54456 tag.?
> > > Please let me know if I can provide any additional information!
> > > 
> > > Best regards
> > > Henrik Grimler
> > > 
> > > [1]
> > > https://android.googlesource.com/platform/bionic/+/master/docs/fdsan.md
> > > [2] https://grimler.se/logs/pdftex.log
> > > 
> > 
> 




From jfbu at free.fr  Sat Apr 10 09:19:54 2021
From: jfbu at free.fr (jfbu)
Date: Sat, 10 Apr 2021 09:19:54 +0200
Subject: polexpr 0.8 update
Message-ID: <AB5072C2-7E39-4474-96F3-56039D2F977E@free.fr>

Hi Karl,

It seems polexpr 0.8 which was announced at CTAN on March 30
did not make its way to texlive and thus probably somehow
got lost in the backlog post TL21 release.

Relevant: this update converts it into a "generic" package,
usable with Plain:

tex/generic/polexpr/polexpr.sty
tex/generic/polexpr/polexprcore.tex
tex/generic/polexpr/polexprexpr.tex
tex/generic/polexpr/polexprsturm.tex

the two other files are polexpr.html (documentation)
and README.md

I hesitated bothering you about this, because I might soon
release 0.8.1 anyhow, but I am taking this opportunity to point
out the change of category from LaTeX to generic area, which
may be a bit of burden to you,

(polexpr.sty despite its name is usable in Plain via \input)

Thanks for the TL21 release,

Best,

Jean-Fran?ois




From siepo at bitmuis.nl  Sat Apr 10 10:21:10 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sat, 10 Apr 2021 10:21:10 +0200
Subject: Installation of TeX live 2021 on Windows 10 fails with Perl
 error message in TLWinGoo.pm line 1340
In-Reply-To: <b2405984-85d0-cc5e-3c9c-2f2ae3cbcfaf@gmx.de>
References: <6d9ed006-80c7-6860-34b8-f3cf262edf22@gmx.de>
 <b2405984-85d0-cc5e-3c9c-2f2ae3cbcfaf@gmx.de>
Message-ID: <YHFf9lKHmOw+SGMv@bitmuis.nl>

On Fri, Apr 09, 2021 at 02:43:35PM +0200, Christoph-Erdmann Pfeiler wrote:
> Gentle reader,
> 
> 
> just a hint from me:
> 
> 
> Commenting out lines 1340 up to 1344 of Perl module TLWinGoo.pm made the
> installation routine work.

Indeed. I had removed these tests since the installer won't even
start on earlier windows versions, but forgot to remove this
reference.

But since this file is part of the core infrastructure, there may be
some delay before the fix turns up in the repository.

> > Undefined subroutine &TeXLive::TLWinGoo::is_vista called at
> > C:/Users/chris/AppData/Local/Temp/nsv946F.tmp/install-tl-20210408/tlpkg/TeXLive/TLWinGoo.pm
> > line 1340, <STDIN> line 106.

-- 
Siep Kroonenberg

From manfred at dante.de  Sat Apr 10 13:59:00 2021
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 10 Apr 2021 13:59:00 +0200
Subject: Call for testing: TeX Collection 2021
In-Reply-To: <9ac01075-6f66-26b0-54dc-b10b592d4f73@dante.de>
References: <20210402164531.0f38f895@hogwart>
 <9ac01075-6f66-26b0-54dc-b10b592d4f73@dante.de>
Message-ID: <20210410135900.43f5bf65@hogwart>

Hi Martin,
Thanks a lot for testing and also for spotting these nasty errors in
the ctan text files.

Corrected now and uploaded to tug.org. 

Of course, for any testing this is not relevant.

Thanks again and all the best,
Manfred


On Fri, 9 Apr 2021 21:37:14 +0200
Martin Sievers <martin at dante.de> wrote:

> Am 02.04.21 um 16:45 schrieb Manfred Lotz:
> > Hi folks,
> > The TeX Collection image for 2021 is available for testing from
> >       http://tug.org/~manfred
> > 
> > Specifically
> >    http://tug.org/~manfred/texcol2021.iso
> > 
> > Checksums are available as:
> >    http://tug.org/~manfred/texcol2021.iso.md5
> > or
> >    http://tug.org/~manfred/texcol2021.iso.sha512
> > 
> > Like the years before I just make assumptions what could be possibly
> > tested by you. Feel free to do whatever you can do.
> > [...]
> > Martin Sievers: texlive on Ubuntu; protext on Windows 10
> > [...] 
> > 
> > Please report your test results by including operating system and
> > version, e.g. Ubuntu 19.10.  
> 
> Dear Manfred, dear all,
> 
> first of all I would like to thank all of you for the great work
> you're doing each year to provide the TeX Collection to thousands of
> users all over the world.
> 
> This year I won't have as much time and platforms available for
> testing as in recent years.
> 
> I installed TeX Live 2021 from the iso image on my Ubuntu 20.04 LTS
> and ProTeXt on my Window 10 Pro without any problems.
> 
> However, I would like to suggest editing the rather outdated text at
> the beginning of README.HTML (and the corresponding passages for
> other langages like LIESMICH.HTML) as well as of the txt versions:
> ------------------------------------------
> The CTAN backbone consists of the servers
> 
>      ftp.tex.ac.uk (cam.ctan.org) in the UK,
>      ftp.dante.de (dante.ctan.org) in Germany,
> ------------------------------------------
> 
> As far as I know there is only the DANTE server left.
> 
> 
> Moreover, I found a wrong date in these texts:
> ------------------------------------------
> The snapshot was produced in May 2017 from ftp.dante.de by DANTE,
> ------------------------------------------
> 
> which should for sure be something like April 2021 or March 2021.
> 
> Best regards,
> Martin
> 
> --
> 
> Martin Sievers -- Einfach sch?ner publizieren
> 
> Im Alten Garten 5
> 54296 Trier
> 
> Telefon:  +49 (0) 651 4936567-0
> Telefax:  +49 (0) 651 4936567-9
> Mobil:    +49 (0) 179 7347726
> 
> Internet: https://www.schoenerpublizieren.de
> E-Mail:   info at schoenerpublizieren.de
> 
> 



From karl at freefriends.org  Sat Apr 10 23:35:51 2021
From: karl at freefriends.org (Karl Berry)
Date: Sat, 10 Apr 2021 15:35:51 -0600
Subject: polexpr 0.8 update
In-Reply-To: <AB5072C2-7E39-4474-96F3-56039D2F977E@free.fr>
Message-ID: <202104102135.13ALZpLV007317@freefriends.org>

    Subject: polexpr 0.8 update

Updated for tonight, thanks. -k

From jfilippidis at gmail.com  Sun Apr 11 02:47:06 2021
From: jfilippidis at gmail.com (Ioannis Filippidis)
Date: Sun, 11 Apr 2021 02:47:06 +0200
Subject: documentation of `install-tl` option `-print-arch`
Message-ID: <8a10ff51-e6ab-f00d-13e8-7957b7cd32c7@gmail.com>

Hi,

I would like to note what I think could be
an improvement to the documentation of the
TeX Live installer. I am using macOS 10.12.6.

When reading the text output of `install-tl -h`
for TeX Live 2021, it contains the description
(I added two additional newlines here):

```
-print-platform
??????? Print the TeX Live identifier for the
??????? detected platform (hardware/operating system)
??????? combination to standard output, and exit.
??????? "-print-arch" is a synonym.
```

Running `install-tl -print-arch` attempts to
open a GUI, whereas `install-tl -print-platform`
prints the platform identifier and exits,
without opening a GUI.
Running `install-tl -print-arch -no-gui` has
the same effect as `install-tl -print-platform`,
i.e., it does not attempt to open a GUI.

This difference between the options
`-print-platform` and `-print-arch` could be
noted in the script's help text, i.e., that
the synonym to `-print-platform` is
`-print-arch -no-gui` (at least on macOS).

Best regards,
Ioannis

From siepo at bitmuis.nl  Sun Apr 11 16:26:26 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 11 Apr 2021 16:26:26 +0200
Subject: documentation of `install-tl` option `-print-arch`
In-Reply-To: <8a10ff51-e6ab-f00d-13e8-7957b7cd32c7@gmail.com>
References: <8a10ff51-e6ab-f00d-13e8-7957b7cd32c7@gmail.com>
Message-ID: <YHMHEk/YisqhOCN3@bitmuis.nl>

On Sun, Apr 11, 2021 at 02:47:06AM +0200, Ioannis Filippidis wrote:
> Hi,
> 
> I would like to note what I think could be
> an improvement to the documentation of the
> TeX Live installer. I am using macOS 10.12.6.
> 
> When reading the text output of `install-tl -h`
> for TeX Live 2021, it contains the description
> (I added two additional newlines here):
> 
> ```
> -print-platform
> ??????? Print the TeX Live identifier for the
> ??????? detected platform (hardware/operating system)
> ??????? combination to standard output, and exit.
> ??????? "-print-arch" is a synonym.
> ```
> 
> Running `install-tl -print-arch` attempts to
> open a GUI, whereas `install-tl -print-platform`
> prints the platform identifier and exits,
> without opening a GUI.
> Running `install-tl -print-arch -no-gui` has
> the same effect as `install-tl -print-platform`,
> i.e., it does not attempt to open a GUI.

This was an oversight and will be fixed: neither should open a gui.
But thanks for reporting.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Sun Apr 11 17:08:08 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 11 Apr 2021 17:08:08 +0200
Subject: Installation of TeX live 2021 on Windows 10 fails with Perl
 error message in TLWinGoo.pm line 1340
In-Reply-To: <YHFf9lKHmOw+SGMv@bitmuis.nl>
References: <6d9ed006-80c7-6860-34b8-f3cf262edf22@gmx.de>
 <b2405984-85d0-cc5e-3c9c-2f2ae3cbcfaf@gmx.de>
 <YHFf9lKHmOw+SGMv@bitmuis.nl>
Message-ID: <YHMQ2CN0/hQXvGjs@bitmuis.nl>

On Sat, Apr 10, 2021 at 10:21:10AM +0200, Siep Kroonenberg wrote:
> On Fri, Apr 09, 2021 at 02:43:35PM +0200, Christoph-Erdmann Pfeiler wrote:
> > Gentle reader,
> > 
> > 
> > just a hint from me:
> > 
> > 
> > Commenting out lines 1340 up to 1344 of Perl module TLWinGoo.pm made the
> > installation routine work.
> 
> Indeed. I had removed these tests since the installer won't even
> start on earlier windows versions, but forgot to remove this
> reference.
> 
> But since this file is part of the core infrastructure, there may be
> some delay before the fix turns up in the repository.

Fix has been included in the latest update - which may not yet have
been propagated yet to all mirrors.

-- 
Siep Kroonenberg

From cesar.romani at gmail.com  Tue Apr 13 17:48:12 2021
From: cesar.romani at gmail.com (Cesar Romani)
Date: Tue, 13 Apr 2021 10:48:12 -0500
Subject: Errors after updating to latest revision on Windows 7
In-Reply-To: <YFKcTPZ/gLXO9ehH@bulldog.preining.info>
References: <s2oibg$6vv$1@ciao.gmane.io>
 <CMM.0.95.0.1615843305.beebe@gamma.math.utah.edu>
 <51f7d5da-873e-f52a-ab5f-1e8a0770c9f4@gmail.com>
 <YFB9VKk9rmTnRKO7@bitmuis.nl> <YFCJXW29czzLNEIc@bulldog.preining.info>
 <s2qigf$4kq$1@ciao.gmane.io> <YFEO9RsVHMgvWxjZ@burischnitzel.preining.info>
 <s2ren9$an0$1@ciao.gmane.io> <YFFPsqMHp9J3H4sN@bulldog.preining.info>
 <s2u240$4t1$1@ciao.gmane.io> <YFKcTPZ/gLXO9ehH@bulldog.preining.info>
Message-ID: <s54eg3$9gl$1@ciao.gmane.io>

On 17/03/2021 07:18 p. m., Norbert Preining wrote:
 > On Wed, 17 Mar 2021, Cesar Romani wrote:
 >> On .texlive2020 I have some extra fonts I built, together with .enc,
 >> .map, .pdf and other files. Do you mean one doesn't need to do
 >> 'fmtutil-user --all' in order for these fonts to work?
 >
 > Yes, these files are all loaded at run time, and not at format
 > creating time (unless you define your own format which pre-loads the
 > font).
 >
 >>  From now on I'll only use 'fmtutil-sys'.
 >
 > That should actually NOT be necessary. tlmgr is doing this for you, it
 > updates all the formats that needs rebuilding if some packages are
 > updated.
 >
 > The only problem now is that you have format files in
 > 	~/.texlive2020/texmf-var
 > which means the system wide will NOT be used.
 >
 > Best option for you is:
 > - move the fonts and related files to
 > 	~/.texlive2020/texmf-config/
 >    or
 > 	~/texmf/
 > - remove
 > 	~/.texlive2020/texmf-var
[...]
 >
 > Norbert

I upgraded to TeXLive 2021 and I copied all files inside
~/.texlive2020/texmf-var into ~/.texlive2021/texmf-config/ but after
compiling a latex file I get:

This is pdfTeX, Version 3.141592653-2.6-1.40.22 (TeX Live 2021/W32TeX) 
(preloaded format=pdflatex)
  restricted \write18 enabled.
---! c:/Users/caesar/.texlive2021/texmf-config/web2c/pdftex/pdflatex.fmt 
made by different executable version
(Fatal format file error; I'm stymied)

What should I modify on files inside ~/.texlive2021/texmf-config/ in
order that all works. I'm attaching the tree of the files I have inside.

Many thanks in advance,

-- 
Cesar
-------------- next part --------------
+---fonts
?   +---enc
?   ?   +---pdftex
?   ?       +---cyberbit
?   ?       +---gentiumbasic
?   ?       +---gos
?   ?       +---indunih
?   +---map
?   ?   +---dvipdfm
?   ?   ?   +---divpdfmx
?   ?   ?   +---updmap
?   ?   +---dvipdfmx
?   ?   ?   +---updmap
?   ?   +---dvips
?   ?   ?   +---bitstream
?   ?   ?   +---gentiumbasic
?   ?   ?   +---gos
?   ?   ?   +---indunih
?   ?   ?   +---updmap
?   ?   +---pdftex
?   ?   ?   +---cyberbit
?   ?   ?   +---gentiumbasic
?   ?   ?   +---gos
?   ?   ?   +---indunih
?   ?   ?   +---updmap
?   ?   +---pxdvi
?   ?   ?   +---updmap
?   ?   +---ttf2pk
?   ?       +---config
?   +---misc
?   +---pk
?   ?   +---cx
?   ?   ?   +---public
?   ?   ?       +---cm
?   ?   +---ljfour
?   ?   ?   +---public
?   ?   ?       +---amsfonts
?   ?   ?       ?   +---cmextra
?   ?   ?       ?   +---symbols
?   ?   ?       +---cm
?   ?   ?       +---concrete
?   ?   ?       +---ifsym
?   ?   ?       +---knuth-local
?   ?   ?       +---latex-fonts
?   ?   ?       +---misc
?   ?   ?       +---sauter
?   ?   +---modeless
?   ?       +---adobe
?   ?       ?   +---gentiumbasic
?   ?       ?   +---indunih
?   ?       ?   +---ly1
?   ?       +---bitstream
?   ?       ?   +---cyberbit
?   ?       +---public
?   ?           +---amsfonts
?   ?           ?   +---euler
?   ?           +---inconsolata
?   ?           +---lm
?   ?           +---newtx
?   ?           +---stix2
?   +---source
?   ?   +---jknappen
?   ?   ?   +---ec
?   ?   +---lh
?   ?   ?   +---lh-t2a
?   ?   ?   +---lh-t2b
?   ?   ?   +---lh-t2c
?   ?   ?   +---lh-x2
?   ?   +---public
?   ?       +---sauter
?   +---tfm
?   ?   +---adobe
?   ?   ?   +---gentiumbasic
?   ?   ?   +---gos
?   ?   ?   +---indunih
?   ?   +---bitstream
?   ?   ?   +---cyberbit
?   ?   +---lh
?   ?   ?   +---lh-t2a
?   ?   ?   +---lh-t2b
?   ?   ?   +---lh-t2c
?   ?   ?   +---lh-x2
?   ?   +---public
?   ?       +---knuth-local
?   ?       +---sauter
?   +---truetype
?   +---type1
?       +---adobe
?       ?   +---gentiumbasic
?       ?   +---gos
?       ?   +---indunih
?       +---bitstream
?           +---cyberbit
+---luatex-cache
?   +---generic
?   ?   +---fonts
?   ?   ?   +---otl
?   ?   +---names
?   +---generic-dev
?       +---bisect
?       +---fonts
?       ?   +---otl
?       +---names
+---tex
?   +---latex
?       +---cyberbit
?       +---gentiumbasic
?       +---gos
?       +---indunih
+---texdoc
+---texworks
?   +---completion
?   +---configuration
?   +---dictionaries
?   +---scripts
?   ?   +---Hooks
?   ?   +---LaTeX styles
?   ?   +---Text transforms
?   +---translations
?   +---TUG
+---tlmgr
+---web2c
    +---aleph
    +---eptex
    +---euptex
    +---luahbtex
    +---luajithbtex
    +---luajittex
    +---luatex
    +---metafont
    +---pdftex
    +---ptex
    +---tex
    +---uptex
    +---xetex

From beebe at math.utah.edu  Tue Apr 13 20:45:45 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 13 Apr 2021 12:45:45 -0600
Subject: Errors after updating to latest revision on Windows 7
In-Reply-To: <s54eg3$9gl$1@ciao.gmane.io>
Message-ID: <CMM.0.96.0.1618339544.beebe@gamma.math.utah.edu>

Cesar reports a fatal format file error in pdflatex.  This is usually
caused by old *.fmt files lying around in $HOME/.texlive* directories
(or equivalent locations on Microsoft Windows).  The cure is usually
to remove them, then generate new ones with

	fmtutil-sys --all

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From norbert at preining.info  Wed Apr 14 02:29:27 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 14 Apr 2021 09:29:27 +0900
Subject: Errors after updating to latest revision on Windows 7
In-Reply-To: <s54eg3$9gl$1@ciao.gmane.io>
References: <51f7d5da-873e-f52a-ab5f-1e8a0770c9f4@gmail.com>
 <YFB9VKk9rmTnRKO7@bitmuis.nl>
 <YFCJXW29czzLNEIc@bulldog.preining.info>
 <s2qigf$4kq$1@ciao.gmane.io>
 <YFEO9RsVHMgvWxjZ@burischnitzel.preining.info>
 <s2ren9$an0$1@ciao.gmane.io>
 <YFFPsqMHp9J3H4sN@bulldog.preining.info>
 <s2u240$4t1$1@ciao.gmane.io>
 <YFKcTPZ/gLXO9ehH@bulldog.preining.info>
 <s54eg3$9gl$1@ciao.gmane.io>
Message-ID: <YHY3Z5lKF1FJ1VbG@bulldog.preining.info>

Hi Cesar,

On Tue, 13 Apr 2021, Cesar Romani wrote:
> I upgraded to TeXLive 2021 and I copied all files inside
> ~/.texlive2020/texmf-var into ~/.texlive2021/texmf-config/ but after

Which is not good, because you preserved the format files which is
incorrect, built with a different version.

Please go into ~/.texlive2021/texmf-config/web2c and delete all format
dumps (*/*.fmt) there. They *should* *not* *be* *there*.

What you REALLY need to do is:
* select only those files that *you* *yourself* did put into ~/.texlive2021/texmf-config/
  that is fonts or whatever, and move those to
	~/texmf/
* everything else can be ignored and left out and will be regenerated on
  demand

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu                 + IFMGA Guide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From cesar.romani at gmail.com  Wed Apr 14 04:57:06 2021
From: cesar.romani at gmail.com (Cesar Romani)
Date: Tue, 13 Apr 2021 21:57:06 -0500
Subject: Errors after updating to latest revision on Windows 7
In-Reply-To: <YHY3Z5lKF1FJ1VbG@bulldog.preining.info>
References: <51f7d5da-873e-f52a-ab5f-1e8a0770c9f4@gmail.com>
 <YFB9VKk9rmTnRKO7@bitmuis.nl> <YFCJXW29czzLNEIc@bulldog.preining.info>
 <s2qigf$4kq$1@ciao.gmane.io> <YFEO9RsVHMgvWxjZ@burischnitzel.preining.info>
 <s2ren9$an0$1@ciao.gmane.io> <YFFPsqMHp9J3H4sN@bulldog.preining.info>
 <s2u240$4t1$1@ciao.gmane.io> <YFKcTPZ/gLXO9ehH@bulldog.preining.info>
 <s54eg3$9gl$1@ciao.gmane.io> <YHY3Z5lKF1FJ1VbG@bulldog.preining.info>
Message-ID: <s55lma$reb$1@ciao.gmane.io>

On 13/04/2021 07:29 p. m., Norbert Preining wrote:
 > Hi Cesar,
 >
 > On Tue, 13 Apr 2021, Cesar Romani wrote:
 >> I upgraded to TeXLive 2021 and I copied all files inside
 >> ~/.texlive2020/texmf-var into ~/.texlive2021/texmf-config/ but after
 >
 > Which is not good, because you preserved the format files which is
 > incorrect, built with a different version.
 >
 > Please go into ~/.texlive2021/texmf-config/web2c and delete all format
 > dumps (*/*.fmt) there. They *should* *not* *be* *there*.
 >
 > What you REALLY need to do is:
 > * select only those files that *you* *yourself* did put into 
~/.texlive2021/texmf-config/
 >    that is fonts or whatever, and move those to
 > 	~/texmf/
 > * everything else can be ignored and left out and will be regenerated on
 >    demand
 >
 > Best
 >
 > Norbert

OK, I did it and all is working fine. Thanks and regards,

-- 
Cesar


From beebe at math.utah.edu  Wed Apr 14 16:00:56 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Wed, 14 Apr 2021 08:00:56 -0600
Subject: TeX Live 2021 and FreeBSD 13.0
Message-ID: <CMM.0.95.0.1618408856.beebe@gamma.math.utah.edu>

FreeBSD 13.0 was officially released yesterday, and I'm pleased to report
that I was able to build a new VM for it, and then build yesterday's
snapshot of the TeX Live 2021 tree (still changing daily ....) with
both gcc-8 and clang-11.  The build documentation at

	http://www.math.utah.edu/pub/texlive-utah/README.html#freebsd-13-amd64

has been updated, as have my build-asymptote.sh and build-texlive-2021.sh
scripts.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From alessi at robertalessi.net  Wed Apr 14 16:07:17 2021
From: alessi at robertalessi.net (Robert Alessi)
Date: Wed, 14 Apr 2021 16:07:17 +0200
Subject: foliono package
Message-ID: <20210414140717.GA5347@robertalessi.net>

Hello,

I noticed that the foliono package[1] is still not included in
texlive.  It may be an oversight?

Best,

Robert

Footnote: 
[1]  https://ctan.org/pkg/foliono


From karl at freefriends.org  Wed Apr 14 22:32:25 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 14 Apr 2021 14:32:25 -0600
Subject: foliono package
In-Reply-To: <20210414140717.GA5347@robertalessi.net>
Message-ID: <202104142032.13EKWPSt023706@freefriends.org>

    I noticed that the foliono package[1] is still not included in
    texlive.  It may be an oversight?

Indeed. Installed for tonight. Thanks.

From dmitry.kalinkin at gmail.com  Fri Apr 16 15:23:25 2021
From: dmitry.kalinkin at gmail.com (Dmitry Kalinkin)
Date: Fri, 16 Apr 2021 09:23:25 -0400
Subject: texlive/2020/tlnet-final snapshot?
Message-ID: <CAM41TOsxoAKS2gMgC1b2Bn1qXSVD44RyQxgpHrWACDq3GWHkvA@mail.gmail.com>

Hi,

I was wondering if there was going to be a "final" snapshot archived for 2020.

Cheers,
-D

From martin at dante.de  Fri Apr 16 15:40:52 2021
From: martin at dante.de (Martin Sievers)
Date: Fri, 16 Apr 2021 15:40:52 +0200
Subject: texlive/2020/tlnet-final snapshot?
In-Reply-To: <CAM41TOsxoAKS2gMgC1b2Bn1qXSVD44RyQxgpHrWACDq3GWHkvA@mail.gmail.com>
References: <CAM41TOsxoAKS2gMgC1b2Bn1qXSVD44RyQxgpHrWACDq3GWHkvA@mail.gmail.com>
Message-ID: <a05e9404-a9c9-cd61-108d-9ffe5d60857e@dante.de>

Am 16.04.21 um 15:23 schrieb Dmitry Kalinkin:
> Hi,
> 
> I was wondering if there was going to be a "final" snapshot archived for 2020.
> 
> Cheers,
> -D

What about https://www.tug.org/historic/? There you'll find the last 
version of TL2020.

Best regards,
Martin

From dmitry.kalinkin at gmail.com  Fri Apr 16 17:58:26 2021
From: dmitry.kalinkin at gmail.com (Dmitry Kalinkin)
Date: Fri, 16 Apr 2021 11:58:26 -0400
Subject: texlive/2020/tlnet-final snapshot?
In-Reply-To: <a05e9404-a9c9-cd61-108d-9ffe5d60857e@dante.de>
References: <CAM41TOsxoAKS2gMgC1b2Bn1qXSVD44RyQxgpHrWACDq3GWHkvA@mail.gmail.com>
 <a05e9404-a9c9-cd61-108d-9ffe5d60857e@dante.de>
Message-ID: <CAM41TOvi_7zNttT9AJsax126ooC-5kTax5gZWO6k_tkK-MTALw@mail.gmail.com>

On Fri, Apr 16, 2021 at 9:41 AM Martin Sievers <martin at dante.de> wrote:
>
> Am 16.04.21 um 15:23 schrieb Dmitry Kalinkin:
> > Hi,
> >
> > I was wondering if there was going to be a "final" snapshot archived for 2020.
> >
> > Cheers,
> > -D
>
> What about https://www.tug.org/historic/? There you'll find the last
> version of TL2020.
>
> Best regards,
> Martin

Ah, so the actual problem was that the mirror of my choice that is
hosted at ftp.math.utah.edu is currently lagging behind the others.

Thanks,
-D

From beebe at math.utah.edu  Sat Apr 17 00:12:45 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri, 16 Apr 2021 16:12:45 -0600
Subject: texlive/2020/tlnet-final snapshot?
Message-ID: <CMM.0.95.0.1618611165.beebe@gamma.math.utah.edu>

Dmitry Kalinkin <dmitry.kalinkin at gmail.com> reported today that the
mirror of https://www.tug.org/historic/ at Utah was stale.

Indeed it was, and I have now rectified that, and added a daily cron
job to rsync that URL to these equivalent sites:

	ftp://tug.ctan.org/pub/tex/historic/
	ftp://ftp.math.utah.edu/pub/tex/historic/
	http://www.math.utah.edu/pub/tex/historic/

I followed links from https://www.tug.org/historic/ and appears that
the Chemnitz mirror is also out of date, but the Erlangen-N??rnberg one
is current.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From fairouzbellouz3 at gmail.com  Sun Apr 18 12:20:37 2021
From: fairouzbellouz3 at gmail.com (FAIROUZ BELLOUZ)
Date: Sun, 18 Apr 2021 11:20:37 +0100
Subject: Inquiry about installing texlive 2021
Message-ID: <CA+oiOzt84TO5q2PXscVa+4JT0Dg1AFixtLgBFTcvXLvH=rWBkw@mail.gmail.com>

I encountered a problem installing texlive 2021 which is that it stopped
downloading in the middle, how do I solve this problem?
I am using Ubuntu 16.04 as the operating system.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210418/970bbe64/attachment.html>

From beebe at math.utah.edu  Sun Apr 18 15:27:22 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sun, 18 Apr 2021 07:27:22 -0600
Subject: Inquiry about installing texlive 2021
In-Reply-To: <CA+oiOzt84TO5q2PXscVa+4JT0Dg1AFixtLgBFTcvXLvH=rWBkw@mail.gmail.com>
Message-ID: <CMM.0.95.0.1618752442.beebe@gamma.math.utah.edu>

Fairouz Bellouz reports:

>> I encountered a problem installing texlive 2021 which is that it stopped
>> downloading in the middle, how do I solve this problem?

Do you mean that the texcol2020.iso image stopped downloading, or that
when you mounted the image and ran the install-tl script that it
stopped installing packages?

If the former, try using wget, which can resume downloads: here is an
example with the Utah mirror:

	wget http://www.math.utah.edu/pub/texlive-utah/Images/texcol2021.iso

The site

	http://www.math.utah.edu/pub/texlive-utah/Images/

gives further instructions on how to verify that the image at your end
is correct (two checksums) and authentic (digital signature
verification).

If the latter, it could be that your disk is nearly full at the target
location, or that /tmp is too small (I hit that problem today on a VM
whose .qcow2 file was supplied by someone else and configured with
too-small constraints on partition sizes).  I have a reinstallation
running with

	env TMPDIR=/path/to/bigger/directory /path/to/install-tl

I don't know yet whether setting TMPDIR will resolve the problem; it
is a common convention in the UNIX world.  If that fails, I will mount
a bigger directory on top of the small /tmp, and try yet another time.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From fairouzbellouz3 at gmail.com  Sun Apr 18 15:55:14 2021
From: fairouzbellouz3 at gmail.com (FAIROUZ BELLOUZ)
Date: Sun, 18 Apr 2021 14:55:14 +0100
Subject: Inquiry about installing texlive 2021
In-Reply-To: <CMM.0.95.0.1618752442.beebe@gamma.math.utah.edu>
References: <CA+oiOzt84TO5q2PXscVa+4JT0Dg1AFixtLgBFTcvXLvH=rWBkw@mail.gmail.com>
 <CMM.0.95.0.1618752442.beebe@gamma.math.utah.edu>
Message-ID: <CA+oiOztFmrxR4iq+QwoqDR3yaKEfKcBQDc50i3HAodnrNV_yEg@mail.gmail.com>

Thanks for your answer,

 I don't know what the problem is, the installation has stopped as in the
picture for more than 10 hours, this is the first time I used Ubuntu
operating system so I hope that you explain to me what I do in detail.

?? ?????? 18 ????? 2021 2:27 ? Nelson H. F. Beebe <beebe at math.utah.edu> ???:

> Fairouz Bellouz reports:
>
> >> I encountered a problem installing texlive 2021 which is that it stopped
> >> downloading in the middle, how do I solve this problem?
>
> Do you mean that the texcol2020.iso image stopped downloading, or that
> when you mounted the image and ran the install-tl script that it
> stopped installing packages?
>
> If the former, try using wget, which can resume downloads: here is an
> example with the Utah mirror:
>
>         wget
> http://www.math.utah.edu/pub/texlive-utah/Images/texcol2021.iso
>
> The site
>
>         http://www.math.utah.edu/pub/texlive-utah/Images/
>
> gives further instructions on how to verify that the image at your end
> is correct (two checksums) and authentic (digital signature
> verification).
>
> If the latter, it could be that your disk is nearly full at the target
> location, or that /tmp is too small (I hit that problem today on a VM
> whose .qcow2 file was supplied by someone else and configured with
> too-small constraints on partition sizes).  I have a reinstallation
> running with
>
>         env TMPDIR=/path/to/bigger/directory /path/to/install-tl
>
> I don't know yet whether setting TMPDIR will resolve the problem; it
> is a common convention in the UNIX world.  If that fails, I will mount
> a bigger directory on top of the small /tmp, and try yet another time.
>
>
> -------------------------------------------------------------------------------
> - Nelson H. F. Beebe                    Tel: +1 801 581 5254
>     -
> - University of Utah                    FAX: +1 801 581 4148
>     -
> - Department of Mathematics, 110 LCB    Internet e-mail:
> beebe at math.utah.edu  -
> - 155 S 1400 E RM 233                       beebe at acm.org
> beebe at computer.org -
> - Salt Lake City, UT 84112-0090, USA    URL:
> http://www.math.utah.edu/~beebe/ -
>
> -------------------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210418/5960d881/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20210418_144627.jpg
Type: image/jpeg
Size: 5228422 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210418/5960d881/attachment-0001.jpg>

From cursus.publicus at sacrumromanumimperium.org  Sun Apr 18 16:11:44 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sun, 18 Apr 2021 16:11:44 +0200
Subject: Inquiry about installing texlive 2021
In-Reply-To: <CA+oiOztFmrxR4iq+QwoqDR3yaKEfKcBQDc50i3HAodnrNV_yEg@mail.gmail.com>
References: <CA+oiOzt84TO5q2PXscVa+4JT0Dg1AFixtLgBFTcvXLvH=rWBkw@mail.gmail.com>
 <CMM.0.95.0.1618752442.beebe@gamma.math.utah.edu>
 <CA+oiOztFmrxR4iq+QwoqDR3yaKEfKcBQDc50i3HAodnrNV_yEg@mail.gmail.com>
Message-ID: <3c499d64-445c-5423-ceeb-c89baab14319@sacrumromanumimperium.org>

Hi Fairouz,

FAIROUZ BELLOUZ schrieb am 18.04.2021 um 15:55:
> Thanks for your answer,
> 
>   I don't know what the problem is, the installation has stopped as in the
> picture for more than 10 hours, this is the first time I used Ubuntu
> operating system so I hope that you explain to me what I do in detail.

For me it looks like a very, very slow internet-connection - maybe on 
your side, maybe at server-side.

Take a look at my screenshot doing the same two weeks ago. My total time 
is about one hour, your system needs 11 hours for the half of the 
packages ...

Andreas

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Bildschirmfoto vom 2021-04-03 12-52-04.png
Type: image/png
Size: 277484 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20210418/cfe35d4f/attachment-0001.png>

From cursus.publicus at sacrumromanumimperium.org  Sun Apr 18 16:26:43 2021
From: cursus.publicus at sacrumromanumimperium.org (Andreas Hirsch)
Date: Sun, 18 Apr 2021 16:26:43 +0200
Subject: Inquiry about installing texlive 2021
In-Reply-To: <CA+oiOzsd_ZBmNw1oOKpjeGiUxp2_hNh1-zm0P-ujJVMO=NKAuw@mail.gmail.com>
References: <CA+oiOzt84TO5q2PXscVa+4JT0Dg1AFixtLgBFTcvXLvH=rWBkw@mail.gmail.com>
 <CMM.0.95.0.1618752442.beebe@gamma.math.utah.edu>
 <CA+oiOztFmrxR4iq+QwoqDR3yaKEfKcBQDc50i3HAodnrNV_yEg@mail.gmail.com>
 <3c499d64-445c-5423-ceeb-c89baab14319@sacrumromanumimperium.org>
 <CA+oiOzsd_ZBmNw1oOKpjeGiUxp2_hNh1-zm0P-ujJVMO=NKAuw@mail.gmail.com>
Message-ID: <b2c342dc-93c3-39ee-2f81-dc79300e658e@sacrumromanumimperium.org>

FAIROUZ BELLOUZ schrieb am 18.04.2021 um 16:20:
> Hi,
> 
> Yes, the connection is bad Is that the reason why the installation
> has stopped?

I dont know.

> I do not think so until the timer has stopped. What is the solution?
> Do I close the terminal?  When closed, are all installed packages
> erased?

As far as I remember: If you start the installation using the same 
settings the installer will recover ...

Andreas

P.S.: Don't forget to add tex-live at tug.org to your mails for I'm not the 
only one to help ...

From siepo at bitmuis.nl  Sun Apr 18 16:51:21 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 18 Apr 2021 16:51:21 +0200
Subject: Inquiry about installing texlive 2021
In-Reply-To: <3c499d64-445c-5423-ceeb-c89baab14319@sacrumromanumimperium.org>
References: <CA+oiOzt84TO5q2PXscVa+4JT0Dg1AFixtLgBFTcvXLvH=rWBkw@mail.gmail.com>
 <CMM.0.95.0.1618752442.beebe@gamma.math.utah.edu>
 <CA+oiOztFmrxR4iq+QwoqDR3yaKEfKcBQDc50i3HAodnrNV_yEg@mail.gmail.com>
 <3c499d64-445c-5423-ceeb-c89baab14319@sacrumromanumimperium.org>
Message-ID: <YHxHadBfoxwzpxCf@bitmuis.nl>

On Sun, Apr 18, 2021 at 04:11:44PM +0200, Andreas Hirsch wrote:
> Hi Fairouz,
> 
> FAIROUZ BELLOUZ schrieb am 18.04.2021 um 15:55:
> > Thanks for your answer,
> > 
> >   I don't know what the problem is, the installation has stopped as in the
> > picture for more than 10 hours, this is the first time I used Ubuntu
> > operating system so I hope that you explain to me what I do in detail.
> 
> For me it looks like a very, very slow internet-connection - maybe on your
> side, maybe at server-side.
> 
> Take a look at my screenshot doing the same two weeks ago. My total time is
> about one hour, your system needs 11 hours for the half of the packages ...

Try a smaller scheme, e.g. small, and add packages later on as
needed. In gui mode, this choice becomes available if you press the
advanced button.

-- 
Siep Kroonenberg

From beebe at math.utah.edu  Sun Apr 18 17:22:39 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sun, 18 Apr 2021 09:22:39 -0600
Subject: Inquiry about installing texlive 2021
Message-ID: <CMM.0.95.0.1618759359.beebe@gamma.math.utah.edu>

Thanks for the screen snapshot, Fairouz, which shows that it is
install-tl that has stopped. 

Normally, on a physical machine, a complete install takes well under
one hour.  On virtual machines with emulated CPUs (different than the
physical CPU), it takes three to four hours.

If you stop the installer (e.g., by typing Control-Z to suspend, or
Control-C to kill), it will have saved a file with a name like
"installation.profile", or something similar, that records its
progress.  If you run install-tl a second time, it will proceed
quickly through the already installed packages, and then resume where
it left off.

Before doing that, however, run "df /path/to/texlive/2021" and 
"df /tmp".  If either looks like it is almost full, then you need to
free some disk space by deleting or compressing unneeded files.

If your disk is small, you may not be able to do a full install of TeX
Live, but you can use the install-tl setup panel to select something
other than the full version.  If you need to do that, be sure to
remove the current profile and log in the directory from which you ran
install-tl, and delete the TeX Live 2021 partial installation tree.

On many Unix systems, when packages are installed or updated, package
files are saved in /var/cache.  Run "du -sh /var/cache" as root to see
how much space is being used there.  If it is a lot (say, several
gigabytes), you can recover space on any Linux distribution that uses
apt with "apt clean all".  That just removes the downloaded package
archives, not the installed packages, so it is quite safe.  If they
are needed in the future, they will be automatically downloaded again.

If disk space is tight, there may be other files in your system that
are eating up space unnecessarily.  I had that problem today on one
virtual machine, so I ran as root

	# find / -type f -size +5G -ls | sort -k7,7n > /tmp/foo.ls
	# tail -n20 /tmp/foo.ls

to get a list of files larger than 5GB sorted in ascending size, and
then look at the 20 largest ones.  In my case, they turned out to be
no-longer-needed log files, so I just deleted them, and got back
many gigabytes of disk space.

If they are critical system logs that you don't want to lose, you can
preserve their contents, but shrink their size, by compression,
e.g. with one of these tools:

	gzip -9 file(s)
	lzip -9 file(s)
	xz   -9 file(s)

lzip can often compress log files by 50x to 100x, so it tends to be my
preferred compressor.

Let us know if you finally get a successful installation of TeX Live
2021 on your Ubuntu workstation!

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From borisv at lk.net  Sun Apr 18 23:48:22 2021
From: borisv at lk.net (Boris Veytsman)
Date: Sun, 18 Apr 2021 14:48:22 -0700
Subject: VPAT
Message-ID: <202104182148.13ILmMJt008272@bilbo.localnet>

Some time ago a question of VPAT statement
(https://www.itic.org/policy/accessibility/vpat) for TeX was raised on
texhaq.  It looks like the absence of this statement might be a
problem for the use of TeX in many government related situations.


I've started writing VPAT statement for TeXLive:
https://github.com/TeXUsersGroup/TeX-VPAT.  I would like to add other
distributions like MacTeX and MikTeX, but I do not know about them
enough to do this myself.

If you want to help, let me know - there are many tables to fill.


-- 
Good luck

-Boris

No man would listen to you talk if he didn't know it was his turn next.
		-- E. W. Howe

From Herbert.Voss at fu-berlin.de  Tue Apr 20 20:06:34 2021
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Tue, 20 Apr 2021 20:06:34 +0200
Subject: update problem
Message-ID: <0d4a9a69-59de-c772-9e76-235b8daa261b@fu-berlin.de>

Hello all,

from todays update there is a problem with package optex.
I can reproduce ist with

iMac:~ voss$ tlmgr install --reinstall optex
tlmgr: package repository https://mirror.ctan.org/systems/texlive/tlnet/ 
(not verified: gpg unavailable)
[1/10, ??:??/??:??] reinstall: cm [235k]
[2/10, 00:02/00:43] reinstall: etex [197k]
[3/10, 00:04/00:47] reinstall: hyph-utf8 [312k]
[4/10, 00:07/00:48] reinstall: hyphen-base [22k]
[5/10, 00:08/00:53] reinstall: knuth-lib [30k]
[6/10, 00:09/00:57] reinstall: luatex [1850k]
[7/10, 00:11/00:21] install: optex [2144k]
TeXLive::TLUtils::check_file_and_remove: checksums differ for 
/var/folders/dl/vm0xvxdj6cjcq_6kq573bdq00000gn/T/QHIf8Dh9M7/kx16mE3Gjl/optex.tar.xz:
TeXLive::TLUtils::check_file_and_remove: 
tlchecksum=1f2ec8097cc7380073c29fd6d32b6067f7f0cd6266350bb64f895dbe23c6a4b3799baa8a2b429b6f8c774f9ff3901bfd815f97c87159229bd580721d72f3267f, 
arg=d734139205c47599f3490dfbf13e6f71532ed7c311c3c76b6e444e539f1be6dd1bfffc612f8d019c38923d46ea7c98be72b28cf83c2b00885d787f6f526b0f0a
TeXLive::TLUtils::check_file_and_remove: backtrace:
 ?-> /usr/local/texlive/tlpkg/TeXLive/TLUtils.pm:2342: 
TeXLive::TLUtils::check_file_and_remove
 ?-> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm:1976: 
TeXLive::TLUtils::unpack
 ?-> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm:1811: 
TeXLive::TLPDB::_install_data
 ?-> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm:1727: 
TeXLive::TLPDB::not_virtual_install_package
 ?-> /usr/local/texlive/bin/x86_64-darwin/tlmgr:3848: 
TeXLive::TLPDB::install_package
 ?-> /usr/local/texlive/bin/x86_64-darwin/tlmgr:787: main::action_install
 ?-> /usr/local/texlive/bin/x86_64-darwin/tlmgr:699: main::execute_action
 ?-> /usr/local/texlive/bin/x86_64-darwin/tlmgr:364: main::main
TeXLive::TLUtils::check_file_and_remove:?? removing 
/var/folders/dl/vm0xvxdj6cjcq_6kq573bdq00000gn/T/QHIf8Dh9M7/kx16mE3Gjl/optex.tar.xz, 
but saving copy in 
/var/folders/dl/vm0xvxdj6cjcq_6kq573bdq00000gn/T/dw9CbDrDtx
TLPDB::_install_data: downloading did not succeed (check_file_and_remove 
failed) for 
https://mirror.ctan.org/systems/texlive/tlnet/archive/optex.tar.xz
[8/10, 00:12/00:12] reinstall: plain [29k]
[...]


A problem with the mirror?

Herbert

From jtbayly at gmail.com  Tue Apr 20 19:26:45 2021
From: jtbayly at gmail.com (Joseph Bayly)
Date: Tue, 20 Apr 2021 13:26:45 -0400
Subject: problem updating texlive
Message-ID: <CADoh36q=w0XY2EeegWxn0X0hGpErat5N=T4vJESidLL6hQXPrg@mail.gmail.com>

Hi there,

I've got a problem as of yesterday on an automated deployment in Travis-CI,
which depends in part on TexLive. Below you can see the lines from my log
file which instruct me to email this address notifying you of the failed
signature verification.

Please advise if you need further information, or if this problem is
something I can/need to fix on my end.

Thanks much,
-Joseph

tlmgr option repository ctan
962tlmgr: setting default package repository to
http://mirror.ctan.org/systems/texlive/tlnet
963tlmgr update --self
964/home/travis/texlive/bin/x86_64-linux/tlmgr: signature verification
error of /tmp/XefdwwLBLX/FCN0nkEPS7 from
https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb:
cryptographic signature verification of
965  /tmp/XefdwwLBLX/d3pFGr2Qa1
966against
967
https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
968failed. Output was
969gpg: Signature made Mon Apr 19 23:53:17 2021 UTC using RSA key ID
19438C70
970gpg: BAD signature from "TeX Live Distribution <tex-live at tug.org>"
971
972Please report to texlive at tug.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210420/74dc8ba6/attachment.html>

From gnwiii at gmail.com  Tue Apr 20 20:20:24 2021
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 20 Apr 2021 15:20:24 -0300
Subject: update problem
In-Reply-To: <0d4a9a69-59de-c772-9e76-235b8daa261b@fu-berlin.de>
References: <0d4a9a69-59de-c772-9e76-235b8daa261b@fu-berlin.de>
Message-ID: <CAKTOP46k6DpUYeTxbOPdkBGOi-p_YKhp13k_hrM3bi4p5aZ3+A@mail.gmail.com>

On Tue, 20 Apr 2021 at 15:08, Herbert Voss <Herbert.Voss at fu-berlin.de>
wrote:

> Hello all,
>
> from todays update there is a problem with package optex.
>

The update (optex and others) works for me on linux and Windows, so your
mirror may be
having a bad day.


> I can reproduce ist with
>
> iMac:~ voss$ tlmgr install --reinstall optex
> tlmgr: package repository https://mirror.ctan.org/systems/texlive/tlnet/
> (not verified: gpg unavailable)
>

You should be able to have gpg on macOS.


> [1/10, ??:??/??:??] reinstall: cm [235k]
> [2/10, 00:02/00:43] reinstall: etex [197k]
> [3/10, 00:04/00:47] reinstall: hyph-utf8 [312k]
> [4/10, 00:07/00:48] reinstall: hyphen-base [22k]
> [5/10, 00:08/00:53] reinstall: knuth-lib [30k]
> [6/10, 00:09/00:57] reinstall: luatex [1850k]
> [7/10, 00:11/00:21] install: optex [2144k]
> TeXLive::TLUtils::check_file_and_remove: checksums differ for
>
> /var/folders/dl/vm0xvxdj6cjcq_6kq573bdq00000gn/T/QHIf8Dh9M7/kx16mE3Gjl/optex.tar.xz:
> TeXLive::TLUtils::check_file_and_remove:
> tlchecksum=1f2ec8097cc7380073c29fd6d32b6067f7f0cd6266350bb64f895dbe23c6a4b3799baa8a2b429b6f8c774f9ff3901bfd815f97c87159229bd580721d72f3267f,
>
>
> arg=d734139205c47599f3490dfbf13e6f71532ed7c311c3c76b6e444e539f1be6dd1bfffc612f8d019c38923d46ea7c98be72b28cf83c2b00885d787f6f526b0f0a
> TeXLive::TLUtils::check_file_and_remove: backtrace:
>   -> /usr/local/texlive/tlpkg/TeXLive/TLUtils.pm:2342:
> TeXLive::TLUtils::check_file_and_remove
>   -> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm:1976:
> TeXLive::TLUtils::unpack
>   -> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm:1811:
> TeXLive::TLPDB::_install_data
>   -> /usr/local/texlive/tlpkg/TeXLive/TLPDB.pm:1727:
> TeXLive::TLPDB::not_virtual_install_package
>   -> /usr/local/texlive/bin/x86_64-darwin/tlmgr:3848:
> TeXLive::TLPDB::install_package
>   -> /usr/local/texlive/bin/x86_64-darwin/tlmgr:787: main::action_install
>   -> /usr/local/texlive/bin/x86_64-darwin/tlmgr:699: main::execute_action
>   -> /usr/local/texlive/bin/x86_64-darwin/tlmgr:364: main::main
> TeXLive::TLUtils::check_file_and_remove:   removing
> /var/folders/dl/vm0xvxdj6cjcq_6kq573bdq00000gn/T/QHIf8Dh9M7/kx16mE3Gjl/optex.tar.xz,
>
> but saving copy in
> /var/folders/dl/vm0xvxdj6cjcq_6kq573bdq00000gn/T/dw9CbDrDtx
> TLPDB::_install_data: downloading did not succeed (check_file_and_remove
> failed) for
> https://mirror.ctan.org/systems/texlive/tlnet/archive/optex.tar.xz
> [8/10
> <https://mirror.ctan.org/systems/texlive/tlnet/archive/optex.tar.xz%5B8/10>,
> 00:12/00:12] reinstall: plain [29k]
> [...]
>
>
> A problem with the mirror?
>
> Herbert
>


-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210420/4d577f69/attachment.html>

From Herbert.Voss at fu-berlin.de  Tue Apr 20 20:48:38 2021
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Tue, 20 Apr 2021 20:48:38 +0200
Subject: update problem
In-Reply-To: <CAKTOP46k6DpUYeTxbOPdkBGOi-p_YKhp13k_hrM3bi4p5aZ3+A@mail.gmail.com>
References: <0d4a9a69-59de-c772-9e76-235b8daa261b@fu-berlin.de>
 <CAKTOP46k6DpUYeTxbOPdkBGOi-p_YKhp13k_hrM3bi4p5aZ3+A@mail.gmail.com>
Message-ID: <ef008630-f860-607e-f4f5-cd92681979a2@fu-berlin.de>



Am 20.04.21 um 20:20 schrieb George N. White III:
> On Tue, 20 Apr 2021 at 15:08, Herbert Voss <Herbert.Voss at fu-berlin.de 
> <mailto:Herbert.Voss at fu-berlin.de>> wrote:
>
>     Hello all,
>
>     from todays update there is a problem with package optex.
>
>
> The update (optex and others) works for me on linux and Windows, so 
> your mirror may be
> having a bad day.

thanks, I used a specific web site and it worked

Herbert



From karl at freefriends.org  Tue Apr 20 22:46:19 2021
From: karl at freefriends.org (Karl Berry)
Date: Tue, 20 Apr 2021 14:46:19 -0600
Subject: problem updating texlive
In-Reply-To: <CADoh36q=w0XY2EeegWxn0X0hGpErat5N=T4vJESidLL6hQXPrg@mail.gmail.com>
Message-ID: <202104202046.13KKkJbu031318@freefriends.org>

    cryptographic signature verification of
    965  /tmp/XefdwwLBLX/d3pFGr2Qa1

I don't understand what happened, but maybe a transient problem at the
mirror chosen from mirror.ctan.org? Retry and see if it goes away?

Also, CTAN just switched the http://mirror.ctan.org multiplexor that we
use to be https[-only]. I don't think that is related, but since you and
another user both reported problems last night, thought I'd mention.

We will change our calls to use https://mirror.ctan.org as soon as we
have a chance. (Norbert ... ?) --thanks, karl.

From jtbayly at gmail.com  Tue Apr 20 23:07:20 2021
From: jtbayly at gmail.com (Joseph Bayly)
Date: Tue, 20 Apr 2021 17:07:20 -0400
Subject: problem updating texlive
In-Reply-To: <202104202046.13KKkJbu031318@freefriends.org>
References: <CADoh36q=w0XY2EeegWxn0X0hGpErat5N=T4vJESidLL6hQXPrg@mail.gmail.com>
 <202104202046.13KKkJbu031318@freefriends.org>
Message-ID: <CADoh36q8pfGHGQT1EXA7Jk2qC5iOo8c3qkFKvUdrY71jRGDjtA@mail.gmail.com>

Thanks, I'll look into it further. I currently suspect it's root cause is
due to a very old version of texlive being installed in my continuous
integration environment. Perhaps some old certificate (no longer used in
current installs) expired?

On Tue, Apr 20, 2021 at 4:46 PM Karl Berry <karl at freefriends.org> wrote:

>     cryptographic signature verification of
>     965  /tmp/XefdwwLBLX/d3pFGr2Qa1
>
> I don't understand what happened, but maybe a transient problem at the
> mirror chosen from mirror.ctan.org? Retry and see if it goes away?
>
> Also, CTAN just switched the http://mirror.ctan.org multiplexor that we
> use to be https[-only]. I don't think that is related, but since you and
> another user both reported problems last night, thought I'd mention.
>
> We will change our calls to use https://mirror.ctan.org as soon as we
> have a chance. (Norbert ... ?) --thanks, karl.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210420/c646491a/attachment.html>

From norbert at preining.info  Wed Apr 21 00:23:49 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 21 Apr 2021 07:23:49 +0900
Subject: Concerning problems with updates from mirror.ctan
Message-ID: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>

Dear all,

for those having problems updating from CTAN mirror.ctan.org, please
change your repository to use
	https://
instead. That should fix the problem.
	tlmgr option repository https://mirror.ctan.org/systems/texlive/tlnet

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From denis.bitouze at univ-littoral.fr  Wed Apr 21 07:43:23 2021
From: denis.bitouze at univ-littoral.fr (Denis =?utf-8?Q?Bitouz=C3=A9?=)
Date: Wed, 21 Apr 2021 07:43:23 +0200 (CEST)
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
Message-ID: <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>

> De: "Norbert Preining" <norbert at preining.info>
> ?: "tex-live" <tex-live at tug.org>
> Envoy?: Mercredi 21 Avril 2021 00:23:49
> Objet: Concerning problems with updates from mirror.ctan

> Dear all,

Dear Norbert,
 
> for those having problems updating from CTAN mirror.ctan.org, please
> change your repository to use
>	https://
> instead. That should fix the problem.
>	tlmgr option repository https://mirror.ctan.org/systems/texlive/tlnet

Not sure it is worth :)

  ?????
  ? ??root at drums-bis /home/bitouze  
  ? ???  tlmgr update --self --all
  ? tlmgr: package repository https://texlive.mycozy.space/systems/texlive/tlnet (verified)
  ? tlmgr: saving backups to /usr/local/texlive/2021/tlpkg/backups
  ? tlmgr: no self-updates for tlmgr available
  ? [1/1, ??:??/??:??] update: texlive-scripts [312k] (58891 -> 58913) ... done
  ? running mktexlsr ...
  ? done running mktexlsr.
  ? running mtxrun --generate ...
  ? done running mtxrun --generate.
  ? running updmap-sys ...
  ? done running updmap-sys.
  ? tlmgr: package log updated: /usr/local/texlive/2021/texmf-var/web2c/tlmgr.log
  ? ??root at drums-bis /home/bitouze  
  ? ???  tlmgr option repository https://mirror.ctan.org/systems/texlive/tlnet
  ? tlmgr: setting default package repository to https://mirror.ctan.org/systems/texlive/tlnet
  ? tlmgr: updating /usr/local/texlive/2021/tlpkg/texlive.tlpdb
  ? ??root at drums-bis /home/bitouze  
  ? ???  tlmgr update --self --all                                            
  ? 
  ? /usr/local/bin//tlmgr: signature verification error of /tmp/Y2oU7swhv9/fvUIXqwKAV from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
  ?   /tmp/Y2oU7swhv9/1kg2BhKnwY
  ? against
  ?   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
  ? failed. Output was:
  ? gpg: Signature faite le mer. 21 avril 2021 01:53:02 CEST
  ? gpg:                avec la clef RSA 4CE1877E19438C70
  ? gpg: MAUVAISE signature de ????TeX Live Distribution <tex-live at tug.org>???? [ultime]
  ? 
  ? Please try from a different mirror and/or wait a few minutes
  ? and try again; usually this is because of transient updates.
  ? If problems persist, feel free to report to texlive at tug.org.
  ?????

Please try from a different mirror and/or wait a few minutes
and try again; usually this is because of transient updates.
If problems persist, feel free to report to texlive at tug.org.

Best.
-- 
Denis


From jacobgyntelberg at me.com  Wed Apr 21 08:15:30 2021
From: jacobgyntelberg at me.com (Jacob Gyntelberg)
Date: Wed, 21 Apr 2021 08:15:30 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
Message-ID: <518A84B7-FC05-40EE-AB3C-EEBA68E45F6C@me.com>

Dear all
Have just updated to the 2021 version on my Macs. So far so good :-)
Best
Jacob

> On 21 Apr 2021, at 00.23, Norbert Preining <norbert at preining.info> wrote:
> 
> Dear all,
> 
> for those having problems updating from CTAN mirror.ctan.org, please
> change your repository to use
> 	https://
> instead. That should fix the problem.
> 	tlmgr option repository https://mirror.ctan.org/systems/texlive/tlnet
> 
> Best
> 
> Norbert
> 
> --
> PREINING Norbert                              https://www.preining.info
> Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From markus.kohm at gmx.de  Wed Apr 21 08:26:08 2021
From: markus.kohm at gmx.de (Markus Kohm)
Date: Wed, 21 Apr 2021 08:26:08 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
Message-ID: <12267558.FtspIz8CbB@komascript.de>

Am Mittwoch, 21. April 2021, 00:23:49 CEST schrieb Norbert Preining:
> for those having problems updating from CTAN mirror.ctan.org, please
> change your repository to use
>         https://
> instead. That should fix the problem.
>         tlmgr option repository
> https://mirror.ctan.org/systems/texlive/tlnet

Unfortunately this does not help. After today's infra update with the generic 
address I get:

| /usr/local/texlive/current/bin/x86_64-linux/tlmgr: signature verification 
error of
| /usr/local/texlive/2021/tlpkg/texlive.tlpdb.main.
2fdb20874d4fe1a3267a99dbbf353926 from
| https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: 
cryptographic signature verification of 
|   /tmp/u23nQVXiXG/m4lwylA0kJ
| against
|   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/
texlive.tlpdb.sha512.asc 
| failed. Output was:
| gpg: Signatur vom Tue 20 Apr 2021 01:53:17 CEST
| gpg:                mittels RSA-Schl?ssel 4CE1877E19438C70
| gpg: FALSCHE Signatur von "TeX Live Distribution <tex-live at tug.org>" 
[ultimativ]
|
| Please try from a different mirror and/or wait a few minutes
| and try again; usually this is because of transient updates.

and every https mirror (I've tested several German mirrors, e.g. uni-erlangen, 
oth-fulda, gwdg, oth-regensburg, fau) fails with:

| /usr/local/texlive/current/bin/x86_64-linux/tlmgr: cannot download: download 
did not succeed: Germany       https://ftp.gwdg.de/pub/ctan/tlpkg/
texlive.tlpdb.sha512

The only German mirrors that work are the ftp access to mirror ftp://ftp.fu-berlin.de/tex/CTAN/systems/texlive/tlnet (which seems to be outdated) and the 
http access to 
http://mirror.physik-pool.tu-berlin.de/pub/CTAN/systems/texlive/tlnet

So either all the mirrors I've tested are broken (but e.g. usually gwdg and 
uni-erlangen are very reliable) or the https access does not work.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20210421/cd60dda5/attachment.sig>

From norbert at preining.info  Wed Apr 21 08:29:15 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 21 Apr 2021 15:29:15 +0900
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <12267558.FtspIz8CbB@komascript.de>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <12267558.FtspIz8CbB@komascript.de>
Message-ID: <YH/GO3PB7k4JqLCf@bulldog.preining.info>

Hi Markus,

thanks for the tests, that is a real bummer...

I need to check where and what is going wrong.

Thanks

On Wed, 21 Apr 2021, Markus Kohm wrote:
> Am Mittwoch, 21. April 2021, 00:23:49 CEST schrieb Norbert Preining:
> > for those having problems updating from CTAN mirror.ctan.org, please
> > change your repository to use
> >         https://
> > instead. That should fix the problem.
> >         tlmgr option repository
> > https://mirror.ctan.org/systems/texlive/tlnet
> 
> Unfortunately this does not help. After today's infra update with the generic 
> address I get:
> 
> | /usr/local/texlive/current/bin/x86_64-linux/tlmgr: signature verification 
> error of
> | /usr/local/texlive/2021/tlpkg/texlive.tlpdb.main.
> 2fdb20874d4fe1a3267a99dbbf353926 from
> | https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: 
> cryptographic signature verification of 
> |   /tmp/u23nQVXiXG/m4lwylA0kJ
> | against
> |   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/
> texlive.tlpdb.sha512.asc 
> | failed. Output was:
> | gpg: Signatur vom Tue 20 Apr 2021 01:53:17 CEST
> | gpg:                mittels RSA-Schl?ssel 4CE1877E19438C70
> | gpg: FALSCHE Signatur von "TeX Live Distribution <tex-live at tug.org>" 
> [ultimativ]
> |
> | Please try from a different mirror and/or wait a few minutes
> | and try again; usually this is because of transient updates.
> 
> and every https mirror (I've tested several German mirrors, e.g. uni-erlangen, 
> oth-fulda, gwdg, oth-regensburg, fau) fails with:
> 
> | /usr/local/texlive/current/bin/x86_64-linux/tlmgr: cannot download: download 
> did not succeed: Germany       https://ftp.gwdg.de/pub/ctan/tlpkg/
> texlive.tlpdb.sha512
> 
> The only German mirrors that work are the ftp access to mirror ftp://ftp.fu-berlin.de/tex/CTAN/systems/texlive/tlnet (which seems to be outdated) and the 
> http access to 
> http://mirror.physik-pool.tu-berlin.de/pub/CTAN/systems/texlive/tlnet
> 
> So either all the mirrors I've tested are broken (but e.g. usually gwdg and 
> uni-erlangen are very reliable) or the https access does not work.
> 
> Markus


Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Wed Apr 21 09:01:45 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 21 Apr 2021 16:01:45 +0900
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <12267558.FtspIz8CbB@komascript.de>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <12267558.FtspIz8CbB@komascript.de>
Message-ID: <YH/N2dAMBPIL7JJ+@bulldog.preining.info>

Hi Markus,

I just tested, and there are a few explanations:
* some mirrors are outdated/not in sync - this might have to do
  with the https switch
* some mirrors do NOT provide https access, which is then a problem.
  The multiplexer for 
	https://mirror.ctan.org
  should only return mirrors that also support https protocol.
  E.g., mirror.physik-pool.tu-berlin.de does not provide https access.
* incorrect repository specification (missing "systems/texlive/tlnet")

Here with the mirrors around me it worked all the times, but all the
mirrors here **do** support https.

> Unfortunately this does not help. After today's infra update with the generic 
> address I get:
> 
> | /usr/local/texlive/current/bin/x86_64-linux/tlmgr: signature verification 
> error of
> | /usr/local/texlive/2021/tlpkg/texlive.tlpdb.main.
> 2fdb20874d4fe1a3267a99dbbf353926 from
> | https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: 
> cryptographic signature verification of 
> |   /tmp/u23nQVXiXG/m4lwylA0kJ
> | against
> |   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/
> texlive.tlpdb.sha512.asc 
> | failed. Output was:

That is **strange** and would point to a *not* updated repository.

tlcritical update alone **will not help**.

For now (until I fix mutliple redirections) you need to do
	tlmgr option repository ctan
once AFTER updating tlmgr today.
That should set it to https, please check the output of
	tlmgr option repository

> | /usr/local/texlive/current/bin/x86_64-linux/tlmgr: cannot download: download 
> did not succeed: Germany       https://ftp.gwdg.de/pub/ctan/tlpkg/
> texlive.tlpdb.sha512

Can you please the out put of
	tlmgr update --list
? It seems you used
	--repository https://ftp.gwdg.de/pub/ctan/
which **of course** does not work, you need to do
	--repository https://ftp.gwdg.de/pub/ctan/systems/texlive/tlnet
I just tried with
	tlmgr -v --repository https://ftp.gwdg.de/pub/ctan/systems/texlive/tlnet update --list
and that worked without a problem, no errors.

BTW, always when seeing these kind of errors, please run with
	-v
added so that we can get a bit more debugging information.

Thanks

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Wed Apr 21 09:05:59 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 21 Apr 2021 16:05:59 +0900
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
Message-ID: <YH/O11Ws4iVLSG+A@bulldog.preining.info>

On Wed, 21 Apr 2021, Denis Bitouz? wrote:
>   ? ???  tlmgr update --self --all
>   ? tlmgr: package repository https://texlive.mycozy.space/systems/texlive/tlnet (verified)
>   ? tlmgr: saving backups to /usr/local/texlive/2021/tlpkg/backups
>   ? tlmgr: no self-updates for tlmgr available

This mirror seems not to be up to date, you should have gotten an update
of texlive.infra (--self)

>   ? ???  tlmgr option repository https://mirror.ctan.org/systems/texlive/tlnet
>   ? tlmgr: setting default package repository to https://mirror.ctan.org/systems/texlive/tlnet
>   ? tlmgr: updating /usr/local/texlive/2021/tlpkg/texlive.tlpdb
>   ? ??root at drums-bis /home/bitouze  
>   ? ???  tlmgr update --self --all                                            
>   ? 
>   ? /usr/local/bin//tlmgr: signature verification error of /tmp/Y2oU7swhv9/fvUIXqwKAV from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
>   ?   /tmp/Y2oU7swhv9/1kg2BhKnwY
>   ? against
>   ?   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
>   ? failed. Output was:

This again is strange, because even with the old code this shouldn't
happen.

If you can reproduce this, please send output with 
	-v
added. Thanks.

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From henri at henrimenke.de  Wed Apr 21 10:02:07 2021
From: henri at henrimenke.de (Henri Menke)
Date: Wed, 21 Apr 2021 10:02:07 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YH/O11Ws4iVLSG+A@bulldog.preining.info>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
 <YH/O11Ws4iVLSG+A@bulldog.preining.info>
Message-ID: <20210421080207.bamctrr5pzl6q4tr@neomutt>

Dear Norbert,

I can reproduce this pretty reliably. Please find the output of tlmgr -v
below.

Cheers, Henri


$ tlmgr update --self --all -v
D:appending to package log file: /opt/texlive/2021/texmf-var/web2c/tlmgr.log
D:appending to command log file: /opt/texlive/2021/texmf-var/web2c/tlmgr-commands.log
D:tlmgr:main: ::tldownload_server not defined
D:setup_programs: preferring system versions
D:program curl found in path
D:program wget found in path
D:program lz4 not usable from path
D:(unix) trying to set up lz4, default /opt/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux, arg --version
D: Using shipped /opt/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux for lz4 (tested).
D:program gzip found in path
D:program xz found in path
D:Using checksum method digest::sha
D:Testing for gpg in gpg
D: ... gpg ok! [gpg --version >/dev/null 2>&1]
D:setup_gpg: using additional keyring /opt/texlive/2021/tlpkg/gpg/repository-keys.gpg
D:gpg command line: gpg --homedir "/opt/texlive/2021/tlpkg/gpg" --keyring repository-keys.gpg --no-secmem-warning --no-permission-warning --lock-never 
D:will verify cryptographic signatures
D:TLPDB.pm: trying to initialize from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb
D:trying to download https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz to /tmp/GUqgOeKKrj/o_MdPFbRGP
D:TLUtils::_download_file_program: curl https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz /tmp/GUqgOeKKrj/o_MdPFbRGP
D:downloading https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail --location --connect-timeout 30 --silent --output
D:download of https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:decompressing /tmp/GUqgOeKKrj/o_MdPFbRGP to /tmp/GUqgOeKKrj/BM2S6Cjt9H
D:TLUtils::system_pipe: calling "xz" -dcf < "/tmp/GUqgOeKKrj/o_MdPFbRGP" > "/tmp/GUqgOeKKrj/BM2S6Cjt9H"
D:TLUtils::system_pipe: removing /tmp/GUqgOeKKrj/o_MdPFbRGP
D:found the uncompressed xz file
D:TLUtils::_download_file_program: curl https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 /tmp/GUqgOeKKrj/QA0ryXvLy_
D:downloading https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail --location --connect-timeout 30 --silent --output
D:download of https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:TLUtils::_download_file_program: curl https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc /tmp/GUqgOeKKrj/ZGwbJxdYQG
D:downloading https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail --location --connect-timeout 30 --silent --output
D:download of https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:STATUS OUTPUT
[GNUPG:] NEWSIG
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] SIG_ID q99ilPt8HyXJgh9xx7WTHqHd1PU 2021-04-20 1618962782
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] GOODSIG 4CE1877E19438C70 TeX Live Distribution <tex-live at tug.org>
[GNUPG:] VALIDSIG D8F2F86057A857E42A88106A4CE1877E19438C70 2021-04-20 1618962782 0 4 0 1 10 01 C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] TRUST_ULTIMATE 0 pgp
[GNUPG:] VERIFICATION_COMPLIANCE_MODE 23D:verification succeeded, output:
gpg: Signature made Wed 21 Apr 2021 01:53:02 AM CEST
gpg:                using RSA key 4CE1877E19438C70
gpg: Good signature from "TeX Live Distribution <tex-live at tug.org>" [ultimate]

D:cryptographic signature of https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 verified
D:verify_checksum: found remote digest
  4123b1e267c06f4ab6c063e805b7adc36a837b83b9a34c923532da253f306c57da58f7f15351d785b69a165232d14fc5542703144b298a14ef0961f35140322b
from
  /tmp/GUqgOeKKrj/QA0ryXvLy_
for
  /tmp/GUqgOeKKrj/BM2S6Cjt9H
and
  https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512
D:tlchecksum(/tmp/GUqgOeKKrj/BM2S6Cjt9H): ===cd5d0eaf243fdc121cadbe0d9c31cdf25b88a77d1c9147b14de794e1dbdb33b78d3636d1d7f87107c1b58519f69fe6a577cdafda1dc5f6309c8134c2d53520eb===
D:verify_checksum: local_digest = cd5d0eaf243fdc121cadbe0d9c31cdf25b88a77d1c9147b14de794e1dbdb33b78d3636d1d7f87107c1b58519f69fe6a577cdafda1dc5f6309c8134c2d53520eb

/opt/texlive/current/bin/x86_64-linux/tlmgr: checksum error when downloading /tmp/GUqgOeKKrj/BM2S6Cjt9H from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: digest disagree
$ tlmgr repository list
List of repositories (with tags if set):
	https://mirror.ctan.org/systems/texlive/tlnet (main)
	https://contrib.texlive.info/current (tlcontrib)

On 21/04/21, 16:05, Norbert Preining wrote:
> On Wed, 21 Apr 2021, Denis Bitouz? wrote:
> >   ? ???  tlmgr update --self --all
> >   ? tlmgr: package repository https://texlive.mycozy.space/systems/texlive/tlnet (verified)
> >   ? tlmgr: saving backups to /usr/local/texlive/2021/tlpkg/backups
> >   ? tlmgr: no self-updates for tlmgr available
> 
> This mirror seems not to be up to date, you should have gotten an update
> of texlive.infra (--self)
> 
> >   ? ???  tlmgr option repository https://mirror.ctan.org/systems/texlive/tlnet
> >   ? tlmgr: setting default package repository to https://mirror.ctan.org/systems/texlive/tlnet
> >   ? tlmgr: updating /usr/local/texlive/2021/tlpkg/texlive.tlpdb
> >   ? ??root at drums-bis /home/bitouze  
> >   ? ???  tlmgr update --self --all                                            
> >   ? 
> >   ? /usr/local/bin//tlmgr: signature verification error of /tmp/Y2oU7swhv9/fvUIXqwKAV from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
> >   ?   /tmp/Y2oU7swhv9/1kg2BhKnwY
> >   ? against
> >   ?   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
> >   ? failed. Output was:
> 
> This again is strange, because even with the old code this shouldn't
> happen.
> 
> If you can reproduce this, please send output with 
> 	-v
> added. Thanks.
> 
> Norbert
> 
> --
> PREINING Norbert                              https://www.preining.info
> Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From denis.bitouze at univ-littoral.fr  Wed Apr 21 10:05:23 2021
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 21 Apr 2021 10:05:23 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YH/O11Ws4iVLSG+A@bulldog.preining.info> (Norbert Preining's
 message of "Wed, 21 Apr 2021 16:05:59 +0900")
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
 <YH/O11Ws4iVLSG+A@bulldog.preining.info>
Message-ID: <877dkw3vwc.fsf@example.com>

Le 21/04/21 ? 16h05, Norbert Preining a ?crit :

> This again is strange, because even with the old code this shouldn't
> happen.
>
> If you can reproduce this, please send output with 
> 	-v
> added. Thanks.

Here it is:

  ?????
  ? ??root at drums-bis /home/bitouze  
  ? ???  tlmgr update --self --all -v                                                                                                                                                                             1 ?
  ? D:appending to package log file: /usr/local/texlive/2021/texmf-var/web2c/tlmgr.log
  ? D:appending to command log file: /usr/local/texlive/2021/texmf-var/web2c/tlmgr-commands.log
  ? D:tlmgr:main: ::tldownload_server hash:: {enabled:1,errorcount:0,initcount:1,ua:LWP::UserAgent=HASH(0x2af4730)}
  ? D:setup_programs: preferring system versions
  ? D:program curl found in path
  ? D:program wget found in path
  ? D:program lz4 not usable from path
  ? D:(unix) trying to set up lz4, default /usr/local/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux, arg --version
  ? D: Using shipped /usr/local/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux for lz4 (tested).
  ? D:program gzip found in path
  ? D:program xz found in path
  ? D:Using checksum method digest::sha
  ? D:Testing for gpg in gpg
  ? D: ... gpg ok! [gpg --version >/dev/null 2>&1]
  ? D:gpg command line: gpg --homedir "/usr/local/texlive/2021/tlpkg/gpg" --no-secmem-warning --no-permission-warning --lock-never 
  ? D:will verify cryptographic signatures
  ? D:TLPDB.pm: trying to initialize from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb
  ? D:trying to download https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz to /tmp/UHR3Tj0ILf/t5wS7QUDuU
  ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz (for /tmp/UHR3Tj0ILf/t5wS7QUDuU)
  ? D:TLUtils::download_file: downloading using lwp succeeded
  ? D:decompressing /tmp/UHR3Tj0ILf/t5wS7QUDuU to /tmp/UHR3Tj0ILf/BhHngoHSdi
  ? D:TLUtils::system_pipe: calling "xz" -dcf < "/tmp/UHR3Tj0ILf/t5wS7QUDuU" > "/tmp/UHR3Tj0ILf/BhHngoHSdi"
  ? D:TLUtils::system_pipe: removing /tmp/UHR3Tj0ILf/t5wS7QUDuU
  ? D:found the uncompressed xz file
  ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 (for /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN)
  ? D:TLUtils::download_file: downloading using lwp succeeded
  ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc (for /tmp/UHR3Tj0ILf/hk6o5AgBys)
  ? D:TLUtils::download_file: downloading using lwp succeeded
  ? D:STATUS OUTPUT
  ? [GNUPG:] NEWSIG
  ? [GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
  ? [GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
  ? [GNUPG:] BADSIG 4CE1877E19438C70 TeX Live Distribution <tex-live at tug.org>
  ? [GNUPG:] VERIFICATION_COMPLIANCE_MODE 23D:verify_checksum: returning 2 and cryptographic signature verification of
  ?   /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN
  ? against
  ?   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
  ? failed. Output was:
  ? gpg: Signature faite le mer. 21 avril 2021 01:53:02 CEST
  ? gpg:                avec la clef RSA 4CE1877E19438C70
  ? gpg: MAUVAISE signature de ????TeX Live Distribution <tex-live at tug.org>???? [ultime]
  ? 
  ? Please try from a different mirror and/or wait a few minutes
  ? and try again; usually this is because of transient updates.
  ? If problems persist, feel free to report to texlive at tug.org.
  ? 
  ? 
  ? /usr/local/bin//tlmgr: signature verification error of /tmp/UHR3Tj0ILf/BhHngoHSdi from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
  ?   /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN
  ? against
  ?   https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
  ? failed. Output was:
  ? gpg: Signature faite le mer. 21 avril 2021 01:53:02 CEST
  ? gpg:                avec la clef RSA 4CE1877E19438C70
  ? gpg: MAUVAISE signature de ????TeX Live Distribution <tex-live at tug.org>???? [ultime]
  ? 
  ? Please try from a different mirror and/or wait a few minutes
  ? and try again; usually this is because of transient updates.
  ? If problems persist, feel free to report to texlive at tug.org.
  ?????
-- 
Denis


From norbert at preining.info  Wed Apr 21 10:35:54 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 21 Apr 2021 08:35:54 +0000 (UTC)
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <877dkw3vwc.fsf@example.com>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
 <YH/O11Ws4iVLSG+A@bulldog.preining.info> <877dkw3vwc.fsf@example.com>
Message-ID: <424a820d-0c16-4511-b3fa-66d63e09b679@preining.info>

Hi all
Ok I think I know what it is, but I'm away from the kbd.

Denis and Henri: I guess you haven't updated to today's texlive.infra by now, which could (I cannot check now) explain the problem.

Can you send me the output of
?? tlmgr version -v

Then, please select a mirror manually via --repository ... (Not using the multiplexer) and update texlive.infra.

After that and with the same https://mirror... as before, it should start working.

Short explanation of my guess: the code checks for a match against "http://mirror..." And if that is found, try the redirect. That fails seemingly when https is used (how stupid of me) and this the redirection is not activated.

Thus, for every download a different mirror is used and you get into the mirror squeeze...

Just a wild guess.

You can also check the downloaded files (there should be an option not to delete temporary files) and see what was actually downloaded.

Sorry, cannot do more since I'm out now.

Best

Norbert
-- 
PREINING Norbert????????????????????????????? https://www.preining.info
Fujitsu?????????????? + IFMGA ProGuide + TU Wien + TeX Live + Debian Dev
GPG: 0x860CDC13?? fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

Apr 21, 2021 17:05:39 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:

> Le 21/04/21 ? 16h05, Norbert Preining a ?crit :
> 
>> This again is strange, because even with the old code this shouldn't
>> happen.
>> 
>> If you can reproduce this, please send output with
>> ? -v
>> added. Thanks.
> 
> Here it is:
> 
> ? ?????
> ? ? ??root at drums-bis /home/bitouze?
> ? ? ???? tlmgr update --self --all -v???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? 1 ?
> ? ? D:appending to package log file: /usr/local/texlive/2021/texmf-var/web2c/tlmgr.log
> ? ? D:appending to command log file: /usr/local/texlive/2021/texmf-var/web2c/tlmgr-commands.log
> ? ? D:tlmgr:main: ::tldownload_server hash:: {enabled:1,errorcount:0,initcount:1,ua:LWP::UserAgent=HASH(0x2af4730)}
> ? ? D:setup_programs: preferring system versions
> ? ? D:program curl found in path
> ? ? D:program wget found in path
> ? ? D:program lz4 not usable from path
> ? ? D:(unix) trying to set up lz4, default /usr/local/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux, arg --version
> ? ? D: Using shipped /usr/local/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux for lz4 (tested).
> ? ? D:program gzip found in path
> ? ? D:program xz found in path
> ? ? D:Using checksum method digest::sha
> ? ? D:Testing for gpg in gpg
> ? ? D: ... gpg ok! [gpg --version >/dev/null 2>&1]
> ? ? D:gpg command line: gpg --homedir "/usr/local/texlive/2021/tlpkg/gpg" --no-secmem-warning --no-permission-warning --lock-never
> ? ? D:will verify cryptographic signatures
> ? ? D:TLPDB.pm: trying to initialize from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb
> ? ? D:trying to download https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz to /tmp/UHR3Tj0ILf/t5wS7QUDuU
> ? ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz (for /tmp/UHR3Tj0ILf/t5wS7QUDuU)
> ? ? D:TLUtils::download_file: downloading using lwp succeeded
> ? ? D:decompressing /tmp/UHR3Tj0ILf/t5wS7QUDuU to /tmp/UHR3Tj0ILf/BhHngoHSdi
> ? ? D:TLUtils::system_pipe: calling "xz" -dcf < "/tmp/UHR3Tj0ILf/t5wS7QUDuU" > "/tmp/UHR3Tj0ILf/BhHngoHSdi"
> ? ? D:TLUtils::system_pipe: removing /tmp/UHR3Tj0ILf/t5wS7QUDuU
> ? ? D:found the uncompressed xz file
> ? ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 (for /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN)
> ? ? D:TLUtils::download_file: downloading using lwp succeeded
> ? ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc (for /tmp/UHR3Tj0ILf/hk6o5AgBys)
> ? ? D:TLUtils::download_file: downloading using lwp succeeded
> ? ? D:STATUS OUTPUT
> ? ? [GNUPG:] NEWSIG
> ? ? [GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
> ? ? [GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
> ? ? [GNUPG:] BADSIG 4CE1877E19438C70 TeX Live Distribution <tex-live at tug.org>
> ? ? [GNUPG:] VERIFICATION_COMPLIANCE_MODE 23D:verify_checksum: returning 2 and cryptographic signature verification of
> ? ??? /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN
> ? ? against
> ? ??? https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
> ? ? failed. Output was:
> ? ? gpg: Signature faite le mer. 21 avril 2021 01:53:02 CEST
> ? ? gpg:??????????????? avec la clef RSA 4CE1877E19438C70
> ? ? gpg: MAUVAISE signature de ????TeX Live Distribution <tex-live at tug.org>???? [ultime]
> ? ?
> ? ? Please try from a different mirror and/or wait a few minutes
> ? ? and try again; usually this is because of transient updates.
> ? ? If problems persist, feel free to report to texlive at tug.org.
> ? ?
> ? ?
> ? ? /usr/local/bin//tlmgr: signature verification error of /tmp/UHR3Tj0ILf/BhHngoHSdi from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
> ? ??? /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN
> ? ? against
> ? ??? https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
> ? ? failed. Output was:
> ? ? gpg: Signature faite le mer. 21 avril 2021 01:53:02 CEST
> ? ? gpg:??????????????? avec la clef RSA 4CE1877E19438C70
> ? ? gpg: MAUVAISE signature de ????TeX Live Distribution <tex-live at tug.org>???? [ultime]
> ? ?
> ? ? Please try from a different mirror and/or wait a few minutes
> ? ? and try again; usually this is because of transient updates.
> ? ? If problems persist, feel free to report to texlive at tug.org.
> ? ?????


From henri at henrimenke.de  Wed Apr 21 10:43:17 2021
From: henri at henrimenke.de (Henri Menke)
Date: Wed, 21 Apr 2021 10:43:17 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <424a820d-0c16-4511-b3fa-66d63e09b679@preining.info>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
 <YH/O11Ws4iVLSG+A@bulldog.preining.info>
 <877dkw3vwc.fsf@example.com>
 <424a820d-0c16-4511-b3fa-66d63e09b679@preining.info>
Message-ID: <20210421084317.acbb3trzujy6fkvz@neomutt>

Dear Norbert,

Thanks for the reply. This worked for me:

    $ tlmgr --repository https://ftp.fau.de/ctan/systems/texlive/tlnet update --self
    $ tlmgr update --self --all

Cheers, Henri

On 21/04/21, 08:35, Norbert Preining wrote:
> Hi all
> Ok I think I know what it is, but I'm away from the kbd.
> 
> Denis and Henri: I guess you haven't updated to today's texlive.infra by now, which could (I cannot check now) explain the problem.
> 
> Can you send me the output of
> ?? tlmgr version -v
> 
> Then, please select a mirror manually via --repository ... (Not using the multiplexer) and update texlive.infra.
> 
> After that and with the same https://mirror... as before, it should start working.
> 
> Short explanation of my guess: the code checks for a match against "http://mirror..." And if that is found, try the redirect. That fails seemingly when https is used (how stupid of me) and this the redirection is not activated.
> 
> Thus, for every download a different mirror is used and you get into the mirror squeeze...
> 
> Just a wild guess.
> 
> You can also check the downloaded files (there should be an option not to delete temporary files) and see what was actually downloaded.
> 
> Sorry, cannot do more since I'm out now.
> 
> Best
> 
> Norbert
> -- 
> PREINING Norbert????????????????????????????? https://www.preining.info
> Fujitsu?????????????? + IFMGA ProGuide + TU Wien + TeX Live + Debian Dev
> GPG: 0x860CDC13?? fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> 
> Apr 21, 2021 17:05:39 Denis Bitouz? <denis.bitouze at univ-littoral.fr>:
> 
> > Le 21/04/21 ? 16h05, Norbert Preining a ?crit :
> > 
> >> This again is strange, because even with the old code this shouldn't
> >> happen.
> >> 
> >> If you can reproduce this, please send output with
> >> ? -v
> >> added. Thanks.
> > 
> > Here it is:
> > 
> > ? ?????
> > ? ? ??root at drums-bis /home/bitouze?
> > ? ? ???? tlmgr update --self --all -v???????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????? 1 ?
> > ? ? D:appending to package log file: /usr/local/texlive/2021/texmf-var/web2c/tlmgr.log
> > ? ? D:appending to command log file: /usr/local/texlive/2021/texmf-var/web2c/tlmgr-commands.log
> > ? ? D:tlmgr:main: ::tldownload_server hash:: {enabled:1,errorcount:0,initcount:1,ua:LWP::UserAgent=HASH(0x2af4730)}
> > ? ? D:setup_programs: preferring system versions
> > ? ? D:program curl found in path
> > ? ? D:program wget found in path
> > ? ? D:program lz4 not usable from path
> > ? ? D:(unix) trying to set up lz4, default /usr/local/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux, arg --version
> > ? ? D: Using shipped /usr/local/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-linux for lz4 (tested).
> > ? ? D:program gzip found in path
> > ? ? D:program xz found in path
> > ? ? D:Using checksum method digest::sha
> > ? ? D:Testing for gpg in gpg
> > ? ? D: ... gpg ok! [gpg --version >/dev/null 2>&1]
> > ? ? D:gpg command line: gpg --homedir "/usr/local/texlive/2021/tlpkg/gpg" --no-secmem-warning --no-permission-warning --lock-never
> > ? ? D:will verify cryptographic signatures
> > ? ? D:TLPDB.pm: trying to initialize from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb
> > ? ? D:trying to download https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz to /tmp/UHR3Tj0ILf/t5wS7QUDuU
> > ? ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz (for /tmp/UHR3Tj0ILf/t5wS7QUDuU)
> > ? ? D:TLUtils::download_file: downloading using lwp succeeded
> > ? ? D:decompressing /tmp/UHR3Tj0ILf/t5wS7QUDuU to /tmp/UHR3Tj0ILf/BhHngoHSdi
> > ? ? D:TLUtils::system_pipe: calling "xz" -dcf < "/tmp/UHR3Tj0ILf/t5wS7QUDuU" > "/tmp/UHR3Tj0ILf/BhHngoHSdi"
> > ? ? D:TLUtils::system_pipe: removing /tmp/UHR3Tj0ILf/t5wS7QUDuU
> > ? ? D:found the uncompressed xz file
> > ? ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 (for /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN)
> > ? ? D:TLUtils::download_file: downloading using lwp succeeded
> > ? ? D:persistent connection set up, trying to get https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc (for /tmp/UHR3Tj0ILf/hk6o5AgBys)
> > ? ? D:TLUtils::download_file: downloading using lwp succeeded
> > ? ? D:STATUS OUTPUT
> > ? ? [GNUPG:] NEWSIG
> > ? ? [GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
> > ? ? [GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
> > ? ? [GNUPG:] BADSIG 4CE1877E19438C70 TeX Live Distribution <tex-live at tug.org>
> > ? ? [GNUPG:] VERIFICATION_COMPLIANCE_MODE 23D:verify_checksum: returning 2 and cryptographic signature verification of
> > ? ??? /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN
> > ? ? against
> > ? ??? https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
> > ? ? failed. Output was:
> > ? ? gpg: Signature faite le mer. 21 avril 2021 01:53:02 CEST
> > ? ? gpg:??????????????? avec la clef RSA 4CE1877E19438C70
> > ? ? gpg: MAUVAISE signature de ????TeX Live Distribution <tex-live at tug.org>???? [ultime]
> > ? ?
> > ? ? Please try from a different mirror and/or wait a few minutes
> > ? ? and try again; usually this is because of transient updates.
> > ? ? If problems persist, feel free to report to texlive at tug.org.
> > ? ?
> > ? ?
> > ? ? /usr/local/bin//tlmgr: signature verification error of /tmp/UHR3Tj0ILf/BhHngoHSdi from https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb: cryptographic signature verification of
> > ? ??? /tmp/UHR3Tj0ILf/Z7Y4MZ4XrN
> > ? ? against
> > ? ??? https://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
> > ? ? failed. Output was:
> > ? ? gpg: Signature faite le mer. 21 avril 2021 01:53:02 CEST
> > ? ? gpg:??????????????? avec la clef RSA 4CE1877E19438C70
> > ? ? gpg: MAUVAISE signature de ????TeX Live Distribution <tex-live at tug.org>???? [ultime]
> > ? ?
> > ? ? Please try from a different mirror and/or wait a few minutes
> > ? ? and try again; usually this is because of transient updates.
> > ? ? If problems persist, feel free to report to texlive at tug.org.
> > ? ?????
> 

From denis.bitouze at univ-littoral.fr  Wed Apr 21 10:49:27 2021
From: denis.bitouze at univ-littoral.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Wed, 21 Apr 2021 10:49:27 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <424a820d-0c16-4511-b3fa-66d63e09b679@preining.info> (Norbert
 Preining's message of "Wed, 21 Apr 2021 08:35:54 +0000 (UTC)")
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
 <YH/O11Ws4iVLSG+A@bulldog.preining.info> <877dkw3vwc.fsf@example.com>
 <424a820d-0c16-4511-b3fa-66d63e09b679@preining.info>
Message-ID: <8735vk3tuw.fsf@example.com>

Le 21/04/21 ? 08h35, Norbert Preining a ?crit :

> Denis and Henri: I guess you haven't updated to today's texlive.infra
> by now, which could (I cannot check now) explain the problem.
>
> Can you send me the output of ?? tlmgr version -v

  ?????
  ? ??root at drums-bis /home/bitouze  
  ? ???  tlmgr version -v                                                                                                                                                                                         1 ?
  ? tlmgr revision 57970 (2021-02-27 15:17:34 +0100)
  ? tlmgr using installation: /usr/local/texlive/2021
  ? TeX Live (https://tug.org/texlive) version 2021
  ? Revisions of TeXLive:: modules:
  ? TLConfig: 57875
  ? TLUtils:  58139
  ? TLPOBJ:   58384
  ? TLPDB:    55126
  ? TLPaper:  56397
  ? TLWinGoo: 58811
  ?????

> Then, please select a mirror manually via --repository ... (Not using
> the multiplexer) and update texlive.infra.

Sorry, I updated the whole:

  ?????
  ? ??root at drums-bis /home/bitouze  
  ? ???  tail -n20 /usr/local/texlive/2021/texmf-var/web2c/tlmgr.log
  ? [Mon Apr 19 07:19:16 2021] update: collection-latexextra (58877 -> 58907)
  ? [Mon Apr 19 07:19:17 2021] update: collection-publishers (57312 -> 58910)
  ? [Tue Apr 20 14:26:13 2021] update: optex (58515 -> 58920)
  ? [Tue Apr 20 14:26:17 2021] update: texlive-docindex (58900 -> 58913)
  ? [Tue Apr 20 14:26:19 2021] failed update: texlive-scripts (58891 -> 58913)
  ? [Tue Apr 20 14:26:20 2021] restore: texlive-scripts (58891)
  ? [Tue Apr 20 14:26:24 2021] auto-install new: byo-twemojis (58917)
  ? [Tue Apr 20 14:26:27 2021] update: collection-pictures (58759 -> 58917)
  ? [Wed Apr 21 07:37:25 2021] update: texlive-scripts (58891 -> 58913)
  ? [Wed Apr 21 10:44:40 2021] update: texlive.infra (58811 -> 58931)
  ? [Wed Apr 21 10:44:43 2021] update: biblatex-philosophy (56493 -> 58925)
  ? [Wed Apr 21 10:44:44 2021] update: circuitikz (58757 -> 58923)
  ? [Wed Apr 21 10:44:45 2021] update: easybook (58905 -> 58926)
  ? [Wed Apr 21 10:44:46 2021] update: luatexko (58085 -> 58928)
  ? [Wed Apr 21 10:44:47 2021] update: principia (57902 -> 58927)
  ? [Wed Apr 21 10:44:47 2021] update: texlive-docindex (58913 -> 58922)
  ? [Wed Apr 21 10:44:48 2021] update: texlive-scripts (58913 -> 58931)
  ? [Wed Apr 21 10:44:49 2021] update: xetexko (58840 -> 58929)
  ? [Wed Apr 21 10:44:50 2021] auto-install new: worldflags (58924)
  ? [Wed Apr 21 10:44:50 2021] update: collection-pictures (58917 -> 58924)
  ?????

> After that and with the same https://mirror... as before, it should start working.

Indeed: thanks!

Best.
-- 
Denis


From norbert at preining.info  Wed Apr 21 10:52:24 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 21 Apr 2021 08:52:24 +0000 (UTC)
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <20210421084317.acbb3trzujy6fkvz@neomutt>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <373094102.18702297.1618983803443.JavaMail.zimbra@univ-littoral.fr>
 <YH/O11Ws4iVLSG+A@bulldog.preining.info> <877dkw3vwc.fsf@example.com>
 <424a820d-0c16-4511-b3fa-66d63e09b679@preining.info>
 <20210421084317.acbb3trzujy6fkvz@neomutt>
Message-ID: <b1719277-2f4c-465a-a1da-125f29bc0a97@preining.info>

Good to hear that my suggestion resolved it in both cases.

I will commit done fixes tonight, but for those stuck, either use the method described here, out go back to http://mirror.ctan.... for now do that you can update texlive.infra, after which you can switch to https.

Norbert

From markus.kohm at gmx.de  Wed Apr 21 11:13:51 2021
From: markus.kohm at gmx.de (Markus Kohm)
Date: Wed, 21 Apr 2021 11:13:51 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YH/N2dAMBPIL7JJ+@bulldog.preining.info>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <12267558.FtspIz8CbB@komascript.de> <YH/N2dAMBPIL7JJ+@bulldog.preining.info>
Message-ID: <1821607.tl2kdNApZx@komascript.de>

Am Mittwoch, 21. April 2021, 09:01:45 CEST schrieb Norbert Preining:
> That is **strange** and would point to a *not* updated repository.

Since the successful update using the one German http mirror, everything seems
to be OK now also using the generic address.

I should state, that I've used the mirror list in the GUI to select the
generic address or one of the German mirrors. Could it be, that the mirror
information in tlmgr was wrong and now, after the successful self+all update
it is correct?

I can try to test this on another installation. But currently I have no access
to that computer.

Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20210421/3f11cfc9/attachment.sig>

From norbert at preining.info  Wed Apr 21 15:59:01 2021
From: norbert at preining.info (Norbert Preining)
Date: Wed, 21 Apr 2021 22:59:01 +0900
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <1821607.tl2kdNApZx@komascript.de>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
 <12267558.FtspIz8CbB@komascript.de>
 <YH/N2dAMBPIL7JJ+@bulldog.preining.info>
 <1821607.tl2kdNApZx@komascript.de>
Message-ID: <YIAvpdLuBKUCkfwo@bulldog.preining.info>

Hi Markus,

> Since the successful update using the one German http mirror, everything seems
> to be OK now also using the generic address.

Good to hear, thanks for the feedback.

> I should state, that I've used the mirror list in the GUI to select the
> generic address or one of the German mirrors. Could it be, that the mirror
> information in tlmgr was wrong and now, after the successful self+all update
> it is correct?

Well, the mirror list is only updated once a week (from CTAN to TeX
Live), so there might be some inconsistencies.

> I can try to test this on another installation. But currently I have no access
> to that computer.

No need, it is good to hear that it works now, that is all I wanted to
hear. Thanks.

Best regards

Norbert

--
PREINING Norbert                              https://www.preining.info
Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfine2358 at gmail.com  Wed Apr 21 17:07:33 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 21 Apr 2021 16:07:33 +0100
Subject: TeX Hour tomorrow: Q + A: Nelson Beebe: CTAN and TeX Live
In-Reply-To: <CALD=Yf9nAOzAVFDhA2kfkDDm-WETtF=mtNUGMEjhuVJH4waovw@mail.gmail.com>
References: <CALD=Yf-aE8Nn8UVpDca7jN6cOEF2OqtgzWz0HWkgFKLi-yqyrA@mail.gmail.com>
 <CALD=Yf9nAOzAVFDhA2kfkDDm-WETtF=mtNUGMEjhuVJH4waovw@mail.gmail.com>
Message-ID: <CALD=Yf-ogcjnMTJFeuEqUCh3DLYDLstRsEhvS7VxbcLcz33HPA@mail.gmail.com>

Hi

Nelson Beebe, one of the elders of the TeX community, has kindly agreed to
answer questions on CTAN and TeX Live at tomorrow's TeX Hour. This session
will be recorded. The meeting is Thursday 22 April, 6:30 to 7:30pm UK
time. The time now in the UK is at https://www.google.com/search?q=uk+time.
The zoom link for the meeting is
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

Nelson's involvement with TeX goes back to the 1970s. He's a past president
of TUG (1990-91) and maintainer of the Utah CTAN node. He tests and
compiles TeX Live for many platforms. If you have a question for Nelson and
can't attend please reply to this message (on list or just to me as you
prefer).

The Comprehensive TeX Archive CTAN was established in 1992, just a year
after the preprint arXiv. In 1993 the Netherlands TeX Group NTG started
work on their CD-ROM Tex distribution for MS-DOS. In 1996 the TeX Live
distribution of TeX was established. CTAN and TeX Live have been central to
the success of TeX over the past 25 years. The 2021 release of TeX Live was
earlier this month.

Some humble words of thanks. George Greenwade (deceased 2003) and Sebastian
Rahtz (deceased 2016) saw something that needed to be done, and contributed
much time and energy to doing it. We are grateful to them and many others,
both alive and no longer living.

The TeX Hour videos for last week (18 April 2021) are

Horizontal and vertical desktops: https://y2u.be/XiWS4hrxDDU
Old-timers talk about DEC VMS and Alpha: https://y2u.be/CK1ISbOlkPg
DEC, Brian Reid, Leslie Lamport, Scribe and LaTeX:
https://y2u.be/eRh2aEEnwNo
Because extensible, early LaTeX did well: https://y2u.be/S5dbz3O4qbU
Journal production today adds errors - why?: https://y2u.be/f5ez39q1LyM
The Open University astrophysics books: https://y2u.be/5WDWbL74nNo
Shared community awareness of forces: https://y2u.be/3Un93w09uS0

The TeX Hour has a monthly cycle for its topics.

First Thursday: Beginners
Second Thursday: Accessibility
Third Thursday: Conversion (eg LaTeX to PDF, LaTeX to HTML, markdown to
LaTeX)
Fourth Thursday: Durable Documents (same outputs give same input across
space and time)
Fifth Thursday: Experiments and Exploration.

You'll find all 56 of the TeX Hour videos at
https://www.youtube.com/playlist?list=PLw1FZfIX1w7h6fajdTgUOyJ6GYh82b-XQ

with best regards

Jonathan
https://jfine2358.github.io/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210421/99811d7e/attachment.html>

From karl at freefriends.org  Wed Apr 21 23:30:23 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 21 Apr 2021 15:30:23 -0600
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YIAvpdLuBKUCkfwo@bulldog.preining.info>
Message-ID: <202104212130.13LLUNNP022527@freefriends.org>

    Well, the mirror list is only updated once a week (from CTAN to TeX Live)

Actually that mirror list update happened every other day. I just
changed that to daily (tl-update-auto) until things settle down.

I may as well mention: besides incorporating any changes to the list on
the CTAN side, our import also filters out mirrors that are more than 36
hours stale, since it's not practical or desirable for CTAN to
aggressive remove (and then restore ...) mirrors from the list just
because there's a problem for a few days. But there's no use in trying
to use them for TL downloads. --best, karl.

From bernhard.kleine at gmx.net  Thu Apr 22 13:33:30 2021
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Thu, 22 Apr 2021 13:33:30 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <202104212130.13LLUNNP022527@freefriends.org>
References: <202104212130.13LLUNNP022527@freefriends.org>
Message-ID: <f16fda23-d72a-8941-2eb3-58de68745dfd@gmx.net>

Just changed the name of the repository form http://mirror.ctan.org...
to https://....? and updated. Everything went smoothly. win32 on
Windows10-64

Bernhard

Am 21.04.2021 um 23:30 schrieb Karl Berry:
>     Well, the mirror list is only updated once a week (from CTAN to TeX 
Live)
>
> Actually that mirror list update happened every other day. I just
> changed that to daily (tl-update-auto) until things settle down.
>
> I may as well mention: besides incorporating any changes to the list on
> the CTAN side, our import also filters out mirrors that are more than 36
> hours stale, since it's not practical or desirable for CTAN to
> aggressive remove (and then restore ...) mirrors from the list just
> because there's a problem for a few days. But there's no use in trying
> to use them for TL downloads. --best, karl.

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
Ich darf auf mein neues Buch "670 Falterarten im Hochschwarzwald" aufmerksam machen 
(Infos bei mir)
-
thunderbird
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 840 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20210422/4cd56800/attachment.sig>

From francois at druel.com  Thu Apr 22 10:59:51 2021
From: francois at druel.com (=?UTF-8?Q?Fran=C3=A7ois_Druel?=)
Date: Thu, 22 Apr 2021 10:59:51 +0200
Subject: Update problem ?
Message-ID: <CAFrz3MikGX+L53rCS6PnHGTUYnkdjYQ6R86UBsHmCwqs_zAObQ@mail.gmail.com>

Hello,

Since a couple of days, I have been experiencing a problem when trying to
update my Tex Live 2021 system. Here is the problem log.

Is there anything I can do for solving this problem?

Thanks in advance for your help,
Francois

[fdruel at thinkstationp330: ~]$ sudo tlmgr update --self --all
[sudo] password for fdruel:

/usr/local/bin/tlmgr: signature verification error of
/usr/local/texlive/2021/tlpkg/texlive.tlpdb.main.838db4c54e2a3a266d4a63742628a3ad
from http://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb:
cryptographic signature verification of
  /tmp/SUyqaitTJq/aW0UODGc3R
against

http://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was:
gpg: Signature made jeu. 22 avril 2021 01:53:07 CEST
gpg:                using RSA key 4CE1877E19438C70
gpg: BAD signature from "TeX Live Distribution <tex-live at tug.org>"
[ultimate]

Please try from a different mirror and/or wait a few minutes
and try again; usually this is because of transient updates.
If problems persist, feel free to report to texlive at tug.org.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210422/7a70bb97/attachment.html>

From henri at henrimenke.de  Thu Apr 22 16:24:05 2021
From: henri at henrimenke.de (Henri Menke)
Date: Thu, 22 Apr 2021 16:24:05 +0200
Subject: Update problem ?
In-Reply-To: <CAFrz3MikGX+L53rCS6PnHGTUYnkdjYQ6R86UBsHmCwqs_zAObQ@mail.gmail.com>
References: <CAFrz3MikGX+L53rCS6PnHGTUYnkdjYQ6R86UBsHmCwqs_zAObQ@mail.gmail.com>
Message-ID: <5cbc2980b0a2e6133ccbda5507d52e8d28849233.camel@henrimenke.de>

On Thu, 2021-04-22 at 10:59 +0200, Fran?ois Druel wrote:
> Hello,
> 
> Since a couple of days, I have been experiencing a problem when
> trying to
> update my Tex Live 2021 system. Here is the problem log.
> 
> Is there anything I can do for solving this problem?

Yes, try

tlmgr --repository https://ftp.fau.de/ctan/systems/texlive/tlnet update --self
tlmgr update --self --all

like noted in the three other threads on exactly that topic

https://tug.org/pipermail/tex-live/2021-April/046795.html
https://tug.org/pipermail/tex-live/2021-April/046794.html
https://tug.org/pipermail/tex-live/2021-April/046800.html

> 
> Thanks in advance for your help,
> Francois
> 
> [fdruel at thinkstationp330: ~]$ sudo tlmgr update --self --all
> [sudo] password for fdruel:
> 
> /usr/local/bin/tlmgr: signature verification error of
> /usr/local/texlive/2021/tlpkg/texlive.tlpdb.main.838db4c54e2a3a266d4a
> 63742628a3ad
> from http://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb
> :
> cryptographic signature verification of
>   /tmp/SUyqaitTJq/aW0UODGc3R
> against
> 
> http://mirror.ctan.org/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
> failed. Output was:
> gpg: Signature made jeu. 22 avril 2021 01:53:07 CEST
> gpg:                using RSA key 4CE1877E19438C70
> gpg: BAD signature from "TeX Live Distribution <tex-live at tug.org>"
> [ultimate]
> 
> Please try from a different mirror and/or wait a few minutes
> and try again; usually this is because of transient updates.
> If problems persist, feel free to report to texlive at tug.org.


From bernhard.kleine at gmx.net  Sat Apr 24 12:01:35 2021
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Sat, 24 Apr 2021 12:01:35 +0200
Subject: texshade doc with empty pages
Message-ID: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>

I loaded the doc with texdoc in Acrobat Reader DC 32bit on win10 64bit
and was surprised to see many blank pages. Then I downloaded from CTAN
and no empty page. This is the latest texlive 2021. Do you have any idea
what causes these blank pages??

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
Ich darf auf mein neues Buch "670 Falterarten im Hochschwarzwald" aufmerksam machen 
(Infos bei mir)
-
thunderbird
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 840 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20210424/3198b4ef/attachment.sig>

From P.Taylor at Hellenic-Institute.Uk  Sat Apr 24 12:24:10 2021
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor)
Date: Sat, 24 Apr 2021 11:24:10 +0100
Subject: texshade doc with empty pages
In-Reply-To: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
References: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
Message-ID: <48d16ae5-3106-7d66-0e70-2c59358e0921@Hellenic-Institute.Uk>

Bernhard Kleine wrote:

> I loaded the doc with texdoc in Acrobat Reader DC 32bit on win10 64bit
> and was surprised to see many blank pages. Then I downloaded from CTAN
> and no empty page. This is the latest texlive 2021. Do you have any idea
> what causes these blank pages??

For me, Adobe Acrobat DC (Windows 7 64-bit [Enterprise]) reports "An 
error exists on this page.? Acrobat may not display the page correctly.? 
<etc>".? This for the PDF file displayed? by TeXdoc TeXshade at the TeX 
Live (2021) CMD prompt.? Adobe Acrobat does /not/ report any errors (at 
least for the first few pages) for 
http://mirrors.ctan.org/macros/latex/contrib/texshade/texshade.pdf
-- 
/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210424/849a349f/attachment.html>

From komascript at gmx.info  Sat Apr 24 12:27:58 2021
From: komascript at gmx.info (Markus Kohm)
Date: Sat, 24 Apr 2021 12:27:58 +0200
Subject: texshade doc with empty pages
In-Reply-To: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
References: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
Message-ID: <2001470.j0NqFh2kcC@komascript.de>

Am Samstag, 24. April 2021, 12:01:35 CEST schrieb Bernhard Kleine:
> I loaded the doc with texdoc in Acrobat Reader DC 32bit on win10 64bit
> and was surprised to see many blank pages. Then I downloaded from CTAN
> and no empty page. This is the latest texlive 2021. Do you have any idea
> what causes these blank pages??

I do not see any blank pages in the texshade manual v1.26; 2021/04/01
of up-to-date TeX Live 2021. I've tried ocular and evince on Linux.

Nor does any of these viewer report an error.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20210424/0da3a809/attachment.sig>

From v.r.w.schaa at posteo.de  Sat Apr 24 12:50:11 2021
From: v.r.w.schaa at posteo.de (Volker RW Schaa)
Date: Sat, 24 Apr 2021 10:50:11 +0000
Subject: texshade doc with empty pages
In-Reply-To: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
References: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
Message-ID: <7915c108-5eb1-2e51-c92f-45f327f2235e@posteo.de>

I see these empty pages too. Checking with Acrobat Pro and PitStop 
plugin I see the error message
   "Critical parser failure. Unknown character in content stream."

The CTAN one displays OK.

Volker

On 24/04/2021 12:01, Bernhard Kleine wrote:
> I loaded the doc with texdoc in Acrobat Reader DC 32bit on win10 64bit
> and was surprised to see many blank pages. Then I downloaded from CTAN
> and no empty page. This is the latest texlive 2021. Do you have any idea
> what causes these blank pages??
> 

From komascript at gmx.info  Sat Apr 24 13:05:27 2021
From: komascript at gmx.info (Markus Kohm)
Date: Sat, 24 Apr 2021 13:05:27 +0200
Subject: texshade doc with empty pages
In-Reply-To: <2001470.j0NqFh2kcC@komascript.de>
References: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
 <2001470.j0NqFh2kcC@komascript.de>
Message-ID: <5785463.5SXNmdjauD@komascript.de>

Am Samstag, 24. April 2021, 12:27:58 CEST schrieb Markus Kohm:
> I do not see any blank pages in the texshade manual v1.26; 2021/04/01
> of up-to-date TeX Live 2021. I've tried ocular and evince on Linux.
>
> Nor does any of these viewer report an error.

Moreover: texshade.pdf of up-to-date TeX Live an downloaded http://
mirrors.ctan.org/macros/latex/contrib/texshade/texshade.pdf are the same
files:

  cmp -lb texshade.pdf /usr/local/texlive/2021/texmf-dist/doc/latex/texshade/
texshade.pdf

does not report any difference.

And size of both files is 1075306 Bytes.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part.
URL: <https://tug.org/pipermail/tex-live/attachments/20210424/632d5ea4/attachment.sig>

From v.r.w.schaa at gsi.de  Sat Apr 24 16:00:31 2021
From: v.r.w.schaa at gsi.de (Volker RW Schaa)
Date: Sat, 24 Apr 2021 16:00:31 +0200
Subject: texshade doc with empty pages
In-Reply-To: <5785463.5SXNmdjauD@komascript.de>
References: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
 <2001470.j0NqFh2kcC@komascript.de> <5785463.5SXNmdjauD@komascript.de>
Message-ID: <bdf037df-3a08-9114-74a1-f410bdaf40a6@gsi.de>

Yes, sorry - $ texdoc showed the old texshade version (2018) of my [not 
updated] MiKTeX installation. Comparing now shows no errors and no empty 
pages.

Volker

On 24/04/2021 13:05, Markus Kohm wrote:
> Am Samstag, 24. April 2021, 12:27:58 CEST schrieb Markus Kohm:
>> I do not see any blank pages in the texshade manual v1.26; 2021/04/01
>> of up-to-date TeX Live 2021. I've tried ocular and evince on Linux.
>>
>> Nor does any of these viewer report an error.
> 
> Moreover: texshade.pdf of up-to-date TeX Live an downloaded http://
> mirrors.ctan.org/macros/latex/contrib/texshade/texshade.pdf are the same
> files:
> 
>    cmp -lb texshade.pdf /usr/local/texlive/2021/texmf-dist/doc/latex/texshade/
> texshade.pdf
> 
> does not report any difference.
> 
> And size of both files is 1075306 Bytes.
> 

From bernhard.kleine at gmx.net  Sat Apr 24 18:20:13 2021
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Sat, 24 Apr 2021 18:20:13 +0200
Subject: texshade doc with empty pages
In-Reply-To: <5785463.5SXNmdjauD@komascript.de>
References: <deff8fa1-69f7-eb6d-6e04-9f3dd5af8260@gmx.net>
 <2001470.j0NqFh2kcC@komascript.de> <5785463.5SXNmdjauD@komascript.de>
Message-ID: <bfac4213-4029-3896-3824-8662539baf21@gmx.net>


Am 24.04.2021 um 13:05 schrieb Markus Kohm:
> Am Samstag, 24. April 2021, 12:27:58 CEST schrieb Markus Kohm:
>> I do not see any blank pages in the texshade manual v1.26; 2021/04/01
>> of up-to-date TeX Live 2021. I've tried ocular and evince on Linux.
>>
>> Nor does any of these viewer report an error.
> Moreover: texshade.pdf of up-to-date TeX Live an downloaded http://
> mirrors.ctan.org/macros/latex/contrib/texshade/texshade.pdf are the same
> files:
>
>   cmp -lb texshade.pdf /usr/local/texlive/2021/texmf-dist/doc/latex/texshade/
> texshade.pdf
>
> does not report any difference.
>
> And size of both files is 1075306 Bytes.

Very strange: I can open the file
K:\texlive\2021\texmf-dist\doc\latex\texshade\texshade.pdf

with Acrobat 7.0 as well as with Acrobat Reader DC version
21.001.20149.37945, but when I use texdoc with Power Shell there are
errors. The default character set is UTF8. There is not any cp15.. that
I know.

Kind regards

Bernhard

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
Ich darf auf mein neues Buch "670 Falterarten im Hochschwarzwald" aufmerksam machen 
(Infos bei mir)
-
thunderbird
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 840 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20210424/05378f54/attachment-0001.sig>

From w.m.l at gmx.net  Sun Apr 25 02:04:13 2021
From: w.m.l at gmx.net (Robert)
Date: Sun, 25 Apr 2021 02:04:13 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
References: <YH9UdZVih8S9nOMS@NP-U9310.g01.fujitsu.com>
Message-ID: <s62blt$phi$1@ciao.gmane.io>

Hi,

I'm still having problems with updating.

Everything works fine if I specify a repository manually (other than 
mirror.ctan.org), be it https, http or ftp. However, using the mirror 
repository (either https or http), it always goes like this:

| $ tlmgr --repository https://mirror.ctan.org/systems/texlive/tlnet 
update --list
| cannot contact mirror.ctan.org, returning a backbone server!
...

 From then on the updating process sometimes works, sometimes doesn't 
(totally random to me, see the log files below).

I wonder whether this may be due to the fact that the wget provided with 
TL is compiled without HTTPS support (I'm on Mac OS 10.12 
(x86_64-darwinlegacy), and don't have a system wget). Because when I do 
on the command line what query_ctan_mirror in TLUtils.pm does, I only get:

| $./tlpkg/installer/wget.x86_64-darwinlegacy https://mirror.ctan.org
| https://mirror.ctan.org: HTTPS support not compiled in.


Best,
Robert


Here's the verbose output of two consecutive runs (default ctan 
repository), done within seconds: the first seems to be fine, the second 
one fails:


--------------------------
$ tlmgr -v update --list
D:appending to package log file: 
/Users/schlcht/Library/texlive/2021/texmf-var/web2c/tlmgr.log
D:appending to command log file: 
/Users/schlcht/Library/texlive/2021/texmf-var/web2c/tlmgr-commands.log
D:tlmgr:main: ::tldownload_server hash:: 
{enabled:1,errorcount:0,initcount:1,ua:LWP::UserAgent=HASH(0x7fb1826024c8)}
D:setup_programs: preferring system versions
D:program curl found in path
D:program wget not usable from path
D:(unix) trying to set up wget, default 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/wget/wget.x86_64-darwinlegacy, 
arg --version
D: Using shipped 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/wget/wget.x86_64-darwinlegacy 
for wget (tested).
D:program lz4 not usable from path
D:(unix) trying to set up lz4, default 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-darwinlegacy, 
arg --version
D: Using shipped 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-darwinlegacy 
for lz4 (tested).
D:program gzip found in path
D:program xz not usable from path
D:(unix) trying to set up xz, default 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/xz/xz.x86_64-darwinlegacy, 
arg --version
D: Using shipped 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/xz/xz.x86_64-darwinlegacy 
for xz (tested).
D:Using checksum method digest::sha
D:Testing for gpg in gpg
D: ... gpg ok! [gpg --version >/dev/null 2>&1]
D:gpg command line: gpg --homedir 
"/Users/schlcht/Library/texlive/2021/tlpkg/gpg" --no-secmem-warning 
--no-permission-warning --lock-never
D:will verify cryptographic signatures
cannot contact mirror.ctan.org, returning a backbone server!
D:TLPDB.pm: trying to initialize from 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
D:trying to download 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
to /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/4BcIdBfJGT
D:persistent connection set up, trying to get 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
(for /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/4BcIdBfJGT)
D:TLDownload::get_file: response error: 500 Can't verify SSL peers 
without knowing which Certificate Authorities to trust (for 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz)
D:TLUtils::download_file: persistent connection ok, but download failed: 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/4BcIdBfJGT
D:downloading 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail 
--location --connect-timeout 30 --silent --output
D:download of 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:decompressing 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/4BcIdBfJGT 
to /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/cWNaRVVVrk
D:TLUtils::system_pipe: calling 
"/Users/schlcht/Library/texlive/2021/tlpkg/installer/xz/xz.x86_64-darwinlegacy" 
-dcf < 
"/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/4BcIdBfJGT" 
 > "/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/cWNaRVVVrk"
D:TLUtils::system_pipe: removing 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/4BcIdBfJGT
D:found the uncompressed xz file
D:persistent connection set up, trying to get 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
(for /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/d0vGXE_knT)
D:TLDownload::get_file: response error: 500 Can't verify SSL peers 
without knowing which Certificate Authorities to trust (for 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512)
D:TLUtils::download_file: persistent connection ok, but download failed: 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/d0vGXE_knT
D:downloading 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail 
--location --connect-timeout 30 --silent --output
D:download of 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:persistent connection set up, trying to get 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
(for /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/kpzIi6jqXA)
D:TLDownload::get_file: response error: 500 Can't verify SSL peers 
without knowing which Certificate Authorities to trust (for 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc)
D:TLUtils::download_file: persistent connection ok, but download failed: 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/kpzIi6jqXA
D:downloading 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail 
--location --connect-timeout 30 --silent --output
D:download of 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:STATUS OUTPUT
[GNUPG:] NEWSIG
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] SIG_ID hmOyafH6T6zU3IfoaMge34SxigM 2021-04-23 1619222116
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] GOODSIG 4CE1877E19438C70 TeX Live Distribution <tex-live at tug.org>
[GNUPG:] VALIDSIG D8F2F86057A857E42A88106A4CE1877E19438C70 2021-04-23 
1619222116 0 4 0 1 10 01 C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] TRUST_ULTIMATE 0 pgp
[GNUPG:] VERIFICATION_COMPLIANCE_MODE 23D:verification succeeded, output:
gpg: Signatur vom Sa 24 Apr 01:55:16 2021 CEST
gpg:                mittels RSA-Schl??ssel 4CE1877E19438C70
gpg: Korrekte Signatur von "TeX Live Distribution <tex-live at tug.org>" 
[ultimativ]

D:cryptographic signature of 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
verified
D:verify_checksum: found remote digest
 
43b781f1bb858009fd8acc8bd42099f927889d39f2d12526bbb8c653118a3b09ffd6f5e166b8f63d8e7fe2ab5ed258bd69b95406563c64d13cb1e136a0f1ca20
from
   /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/d0vGXE_knT
for
   /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/cWNaRVVVrk
and
 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512
D:tlchecksum(/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/lbFn6r2tWO/cWNaRVVVrk): 
===43b781f1bb858009fd8acc8bd42099f927889d39f2d12526bbb8c653118a3b09ffd6f5e166b8f63d8e7fe2ab5ed258bd69b95406563c64d13cb1e136a0f1ca20===
D:verify_checksum: local_digest = 
43b781f1bb858009fd8acc8bd42099f927889d39f2d12526bbb8c653118a3b09ffd6f5e166b8f63d8e7fe2ab5ed258bd69b95406563c64d13cb1e136a0f1ca20
D:checksum of local copy identical with remote hash
D:writing out tlpdb to 
/Users/schlcht/Library/texlive/2021/tlpkg/texlive.tlpdb.main.b158bb4cc9bf09200b12dae953530403
tlmgr: package repository 
http://www.ctan.org/tex-archive/systems/texlive/tlnet (verified)
D:Automatic backups activated, keeping 1 backups.
tlmgr: would save backups to 
/Users/schlcht/Library/texlive/2021/tlpkg/backups
D:tlmgr: new pkgs:
D:tlmgr: deleted :
D:tlmgr: forced  :
tlmgr: no updates available


--------------------------
$ tlmgr -v update --list
D:appending to package log file: 
/Users/schlcht/Library/texlive/2021/texmf-var/web2c/tlmgr.log
D:appending to command log file: 
/Users/schlcht/Library/texlive/2021/texmf-var/web2c/tlmgr-commands.log
D:tlmgr:main: ::tldownload_server hash:: 
{enabled:1,errorcount:0,initcount:1,ua:LWP::UserAgent=HASH(0x7f87054cb2c8)}
D:setup_programs: preferring system versions
D:program curl found in path
D:program wget not usable from path
D:(unix) trying to set up wget, default 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/wget/wget.x86_64-darwinlegacy, 
arg --version
D: Using shipped 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/wget/wget.x86_64-darwinlegacy 
for wget (tested).
D:program lz4 not usable from path
D:(unix) trying to set up lz4, default 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-darwinlegacy, 
arg --version
D: Using shipped 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/lz4/lz4.x86_64-darwinlegacy 
for lz4 (tested).
D:program gzip found in path
D:program xz not usable from path
D:(unix) trying to set up xz, default 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/xz/xz.x86_64-darwinlegacy, 
arg --version
D: Using shipped 
/Users/schlcht/Library/texlive/2021/tlpkg/installer/xz/xz.x86_64-darwinlegacy 
for xz (tested).
D:Using checksum method digest::sha
D:Testing for gpg in gpg
D: ... gpg ok! [gpg --version >/dev/null 2>&1]
D:gpg command line: gpg --homedir 
"/Users/schlcht/Library/texlive/2021/tlpkg/gpg" --no-secmem-warning 
--no-permission-warning --lock-never
D:will verify cryptographic signatures
cannot contact mirror.ctan.org, returning a backbone server!
D:TLPDB.pm: trying to initialize from 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb
D:trying to download 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
to /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/VJWwBE2YKm
D:persistent connection set up, trying to get 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
(for /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/VJWwBE2YKm)
D:TLDownload::get_file: response error: 500 Can't verify SSL peers 
without knowing which Certificate Authorities to trust (for 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz)
D:TLUtils::download_file: persistent connection ok, but download failed: 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/VJWwBE2YKm
D:downloading 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail 
--location --connect-timeout 30 --silent --output
D:download of 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.xz 
succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:decompressing 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/VJWwBE2YKm 
to /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/0U8nypTkdD
D:TLUtils::system_pipe: calling 
"/Users/schlcht/Library/texlive/2021/tlpkg/installer/xz/xz.x86_64-darwinlegacy" 
-dcf < 
"/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/VJWwBE2YKm" 
 > "/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/0U8nypTkdD"
D:TLUtils::system_pipe: removing 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/VJWwBE2YKm
D:found the uncompressed xz file
D:persistent connection set up, trying to get 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
(for /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/LL946zpoOa)
D:TLDownload::get_file: response error: 500 Can't verify SSL peers 
without knowing which Certificate Authorities to trust (for 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512)
D:TLUtils::download_file: persistent connection ok, but download failed: 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/LL946zpoOa
D:downloading 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail 
--location --connect-timeout 30 --silent --output
D:download of 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512 
succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:persistent connection set up, trying to get 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
(for /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/q2gjlyBdnJ)
D:TLDownload::get_file: response error: 500 Can't verify SSL peers 
without knowing which Certificate Authorities to trust (for 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc)
D:TLUtils::download_file: persistent connection ok, but download failed: 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
D:TLUtils::download_file: retrying with other downloaders.
D:TLUtils::_download_file_program: curl 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/q2gjlyBdnJ
D:downloading 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
using curl --user-agent texlive/curl --retry 4 --retry-delay 5 --fail 
--location --connect-timeout 30 --silent --output
D:download of 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc 
succeeded
D:TLUtils::download_file: downloading using curl succeeded
D:STATUS OUTPUT
[GNUPG:] NEWSIG
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] KEY_CONSIDERED C78B82D8C79512F79CC0D7C80D5E5D9106BAB6BC 0
[GNUPG:] BADSIG 4CE1877E19438C70 TeX Live Distribution <tex-live at tug.org>
[GNUPG:] VERIFICATION_COMPLIANCE_MODE 23D:verify_checksum: returning 2 
and cryptographic signature verification of
   /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/LL946zpoOa
against
 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was:
gpg: Signatur vom Sa 24 Apr 01:55:16 2021 CEST
gpg:                mittels RSA-Schl??ssel 4CE1877E19438C70
gpg: FALSCHE Signatur von "TeX Live Distribution <tex-live at tug.org>" 
[ultimativ]

Please try from a different mirror and/or wait a few minutes
and try again; usually this is because of transient updates.
If problems persist, feel free to report to texlive at tug.org.


/Users/schlcht/Library/texlive/2021/bin/x86_64-darwinlegacy/tlmgr: 
signature verification error of 
/var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/0U8nypTkdD 
from 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb: 
cryptographic signature verification of
   /var/folders/8y/hsw7phnd08j1kntdljhd71zc0000gn/T/NSYYQObvGx/LL946zpoOa
against
 
http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb.sha512.asc
failed. Output was:
gpg: Signatur vom Sa 24 Apr 01:55:16 2021 CEST
gpg:                mittels RSA-Schl??ssel 4CE1877E19438C70
gpg: FALSCHE Signatur von "TeX Live Distribution <tex-live at tug.org>" 
[ultimativ]

Please try from a different mirror and/or wait a few minutes
and try again; usually this is because of transient updates.
If problems persist, feel free to report to texlive at tug.org.







On 21.04.21 00:23, Norbert Preining wrote:
> Dear all,
> 
> for those having problems updating from CTAN mirror.ctan.org, please
> change your repository to use
> 	https://
> instead. That should fix the problem.
> 	tlmgr option repository https://mirror.ctan.org/systems/texlive/tlnet
> 
> Best
> 
> Norbert
> 
> --
> PREINING Norbert                              https://www.preining.info
> Fujitsu Research  +  IFMGA Guide  +  TU Wien  +  TeX Live  + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> 


-- 
  Robert


From karl at freefriends.org  Mon Apr 26 18:20:23 2021
From: karl at freefriends.org (Karl Berry)
Date: Mon, 26 Apr 2021 10:20:23 -0600
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <s62blt$phi$1@ciao.gmane.io>
Message-ID: <202104261620.13QGKNts003344@freefriends.org>

Hi Robert,
    
    | $./tlpkg/installer/wget.x86_64-darwinlegacy https://mirror.ctan.org
    | https://mirror.ctan.org: HTTPS support not compiled in.

Well, it's the same basic problem, but FWIW it looks to me like TL is
using the system curl, not the TL wget:

  D:TLUtils::download_file: downloading using curl succeeded

I surmise the system curl also does not support https?

    http://www.ctan.org/tex-archive/systems/texlive/tlnet/tlpkg/texlive.tlpdb

Ultimately I think the issue is that an http://www.ctan.org url
redirects (usually or always, not sure) to an https mirror. So if the
download program doesn't support https, it's doomed to failure.

Another issue is that once www.ctan.org is the server hostname being
used, different mirrors can be chosen on different downloads, leading to
inconsistencies and failure. The server has to be an explicit host.

The only solution I see is to explicitly use a mirror, as you wrote:

    Everything works fine if I specify a repository manually (other than 
    mirror.ctan.org), be it https, http or ftp. 

But ... I don't understand how an https mirror can work if your download
programs don't support https?

    D:TLUtils::download_file: downloading using curl succeeded
    D:persistent connection set up, trying to get 

I also don't understand how persistent connections can be set up using
curl (or wget). My understanding is that persistent connections are only
possible with LWP. Maybe it's just an erroneous debugging message.

    D:TLDownload::get_file: response error: 500 Can't verify SSL peers 
    without knowing which Certificate Authorities to trust (for 

I don't think this will solve your problem, but I think we should pass
--insecure to curl, and (especially) --no-check-certificates to wget,
because it's inevitable that the cert chains will be out of date on
older systems, and nonexistent when the TL wget is used.

Norbert, wdyt? --thanks, karl.

From w.m.l at gmx.net  Mon Apr 26 18:35:23 2021
From: w.m.l at gmx.net (Robert)
Date: Mon, 26 Apr 2021 18:35:23 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <202104261620.13QGKNts003344@freefriends.org>
References: <s62blt$phi$1@ciao.gmane.io>
 <202104261620.13QGKNts003344@freefriends.org>
Message-ID: <0d9698e4-7279-7de6-7107-278ba1767deb@gmx.net>

On 26.04.21 18:20, Karl Berry wrote:
>
> I surmise the system curl also does not support https?

No, I think it does support it:

| $ curl --version
curl 7.54.0 (x86_64-apple-darwin16.0) libcurl/7.54.0 SecureTransport
zlib/1.2.8
| Protocols: dict file ftp ftps gopher http https imap imaps ldap ldaps
pop3 pop3s rtsp smb smbs smtp smtps telnet tftp
| Features: AsynchDNS IPv6 Largefile GSS-API Kerberos SPNEGO NTLM
NTLM_WB SSL libz UnixSockets

which would explain why it works with a manually given repo.

However, when accessing the mirror.ctan.org link, tlmgr explicitly calls
wget, not curl:

https://github.com/TeX-Live/installer/blob/157d34e36d4dffcc92d4fa2313fe23b9c889a711/tlpkg/TeXLive/TLUtils.pm#L3910

Best,
--
  Robert


From w.m.l at gmx.net  Mon Apr 26 18:35:23 2021
From: w.m.l at gmx.net (Robert)
Date: Mon, 26 Apr 2021 18:35:23 +0200
Subject: Concerning problems with updates from mirror.ctan
In-Reply-To: <202104261620.13QGKNts003344@freefriends.org>
References: <s62blt$phi$1@ciao.gmane.io>
 <202104261620.13QGKNts003344@freefriends.org>
Message-ID: <0d9698e4-7279-7de6-7107-278ba1767deb@gmx.net>

On 26.04.21 18:20, Karl Berry wrote:
> 
> I surmise the system curl also does not support https?

No, I think it does support it:

| $ curl --version
curl 7.54.0 (x86_64-apple-darwin16.0) libcurl/7.54.0 SecureTransport 
zlib/1.2.8
| Protocols: dict file ftp ftps gopher http https imap imaps ldap ldaps 
pop3 pop3s rtsp smb smbs smtp smtps telnet tftp
| Features: AsynchDNS IPv6 Largefile GSS-API Kerberos SPNEGO NTLM 
NTLM_WB SSL libz UnixSockets

which would explain why it works with a manually given repo.

However, when accessing the mirror.ctan.org link, tlmgr explicitly calls 
wget, not curl:

https://github.com/TeX-Live/installer/blob/157d34e36d4dffcc92d4fa2313fe23b9c889a711/tlpkg/TeXLive/TLUtils.pm#L3910

Best,
-- 
  Robert


From beebe at math.utah.edu  Tue Apr 27 00:20:44 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon, 26 Apr 2021 16:20:44 -0600
Subject: Utah CTAN + TeX Live repositories now have https
Message-ID: <CMM.0.95.0.1619475644.beebe@gamma.math.utah.edu>

As of today, the sites

	ctan.math.utah.edu
	ftp.math.utah.edu
	www.math.utah.edu

can now be accessed with the https:// prefix, as well as the original
http:// prefix.

As always, the ctan.* and ftp.* hostnames can also be accessed with a
ftp:// prefix, and we expect to continue to offer anonymous FTP, even
though some Web browser developers have announced that they intend to
remove support for the FTP protocol.

The name

	tug.ctan.org

is an alias for ftp.math.utah.edu, but attempts to use https:// with
it still produce a browser warning; http:// works fine.  The reason is
that name is outside the utah.edu domain, and we aren't adding a
certificate for it until a major upgrade of our FTP server is
completed, possibly within the next week or two.  There will be a
short service outage on the FTP addresses when that upgrade happens,
but it should be no more than a few minutes.


-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From phe.h.o1 at gmail.com  Tue Apr 27 01:19:51 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Mon, 26 Apr 2021 20:19:51 -0300
Subject: \input gets slower after each \input
Message-ID: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>

Dear list,

I was doing some tests with file reading and I found that \input gets
a tiny bit slower each time it is used.  Why is that?

I made a test document that shows this behaviour.  It creates an empty
file |abc...xyz.tex|, inputs that file 10000 times and prints the time
it took.  Each iteration of this process takes a bit longer than the
previous (this grows linearly).  I tested with different name lengths
and the impact on the test result is minimal.  On my machine I get:

0.36674pt
0.89546pt
1.39313pt
1.80832pt
2.27615pt
2.76115pt
3.52126pt
4.09816pt
4.6648pt

(pt is now an unit of time, it seems :-)

The example uses the pdfTeX primitives |\pdfresettimer| and
|\pdfelapsedtime|, so if you want to run with another engine you need to
adjust those primitives.  Here's the test file:

     % any file that can be created empty:
     \def\name{abcdefghijklmnopqrstuvwxyz.tex}%
     \def\test{%
       \batchmode \pdfresettimer \a \errorstopmode
       \message{\the\dimexpr \pdfelapsedtime sp\relax}}
     \def\a{\b\b\b\b\b\b\b\b\b\b} % 10
     \def\b{\c\c\c\c\c\c\c\c\c\c} % 100
     \def\c{\d\d\d\d\d\d\d\d\d\d} % 1000
     \def\d{\e\e\e\e\e\e\e\e\e\e} % 10000
     \def\e{\input{\name}}

     % create the file
     \immediate\openout0{\name}
     \immediate\closeout0

     \message{testing \string\input}
     % Each \test will run \input 10000 times.
     % Each run of \test gets slower than the previous
     \test \test \test \test \test
     \test \test \test \test \test

     \bye

Best regards,
Phelype

From news3 at nililand.de  Tue Apr 27 09:38:57 2021
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 27 Apr 2021 09:38:57 +0200
Subject: \input gets slower after each \input
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
Message-ID: <1gzhvjyziyzex.dlg@nililand.de>

Am Mon, 26 Apr 2021 20:19:51 -0300 schrieb Phelype Oleinik:

> Dear list,
> 
> I was doing some tests with file reading and I found that \input gets
> a tiny bit slower each time it is used.  Why is that?
> 
> I made a test document that shows this behaviour. 

miktex dies with ! TeX capacity exceeded, sorry [pool size=3208635]
on your example. 

Looking at the stats, one can see that every input adds to pool:

310211 string characters out of 6150784
620211 string characters out of 6150784

miktex has a smaller pool size and so dies earlier. It also seems to
use up more of the pool compared to texlive, for a smaller number of
inputs I got this

1840211 string characters out of 6150784 texlive
2560241 string characters out of 3208635 miktex


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From chrpoulain at gmail.com  Tue Apr 27 09:17:18 2021
From: chrpoulain at gmail.com (Christophe Poulain)
Date: Tue, 27 Apr 2021 09:17:18 +0200
Subject: Wrong installation of ProfCollege package ?
Message-ID: <CAPDkhNMMDAaTFRMG-kYCDLGc85qtxxPwPZ518=Gx-x267EzRog@mail.gmail.com>

Hi,

some users on windows10 and Linux report me problems with ProfCollege
package. Visibly, the files PfC*.tex were install on a bad directory.

On windows10 computer, an user send this to me :
---------------------
R?pertoire de C:\texlive\2021\texmf-dist\doc\latex\profcollege

26/04/2021  20:03    <DIR>          .
26/04/2021  20:03    <DIR>          ..
26/04/2021  20:03            22 499 PfCEquationComposition2.tex
26/04/2021  20:03            18 307 PfCEquationLaurent1.tex
26/04/2021  20:03            19 500 PfCEquationPose1.tex
26/04/2021  20:03            27 315 PfCEquationSoustraction2.tex
26/04/2021  20:03            13 850 PfCEquationSymbole1.tex
26/04/2021  20:03            22 016 PfCEquationTerme1.tex
26/04/2021  20:03         2 772 127 ProfCollege-doc.pdf
26/04/2021  20:03         1 681 849 ProfCollege-doc.zip
----------------------

On Linux computer :
-------------------------------
bono at VM-Kub2104:/usr/local/texlive/2021/texmf-dist/doc/latex/profcollege$ ls
PfCEquationComposition2.tex  PfCEquationSoustraction2.tex
 ProfCollege-doc.pdf
PfCEquationLaurent1.tex      PfCEquationSymbole1.tex
ProfCollege-doc.zip
PfCEquationPose1.tex         PfCEquationTerme1.tex         README

bono at VM-Kub2104:/usr/local/texlive/2021/texmf-dist/tex/latex/profcollege$ ls
ProfCollege.sty
---------------------

What do I do ?

Greetings.

Christophe Poulain
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210427/ace1f7e8/attachment.html>

From karl at freefriends.org  Tue Apr 27 15:11:18 2021
From: karl at freefriends.org (Karl Berry)
Date: Tue, 27 Apr 2021 15:11:18 +0200
Subject: Wrong installation of ProfCollege package ?
In-Reply-To: <CAPDkhNMMDAaTFRMG-kYCDLGc85qtxxPwPZ518=Gx-x267EzRog@mail.gmail.com>
Message-ID: <202104271311.13RDBIJO013390@tug.org>

Hi Christophe,

    Subject: Wrong installation of ProfCollege package ?

Sorry about that. Fixed for tonight's update.

    What do I do ?

You did the right thing by writing to the tex-live list. --thanks, karl.

From phe.h.o1 at gmail.com  Tue Apr 27 17:07:26 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 27 Apr 2021 12:07:26 -0300
Subject: \input gets slower after each \input
In-Reply-To: <1gzhvjyziyzex.dlg@nililand.de>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
Message-ID: <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>

On 27/04/2021 04:38, Ulrike Fischer wrote:
> Am Mon, 26 Apr 2021 20:19:51 -0300 schrieb Phelype Oleinik:
> 
>> Dear list,
>>
>> I was doing some tests with file reading and I found that \input gets
>> a tiny bit slower each time it is used.  Why is that?
>>
>> I made a test document that shows this behaviour.
> 
> miktex dies with ! TeX capacity exceeded, sorry [pool size=3208635]
> on your example.
> 
> Looking at the stats, one can see that every input adds to pool:
> 
> 310211 string characters out of 6150784
> 620211 string characters out of 6150784

Yes, it does because TeX has to remember the file stack for error
reporting, so names are kept on the string pool.

(in fact, my example also explodes also on TeX Live because I added
  twice too many |\test| in the test document, but I didn't notice
  because of |\batchmode|.  Sorry about that.)

I knew about |\input| taking space in the string pool but I didn't think
that would be the cause because memory access takes constant time.
However this stackexchange post was brought to my attention:
   https://tex.stackexchange.com/a/450056
in which the user ShreevatsaR does an in-depth debugging to find out
that the system-dependent changes actually implement a string search,
which then takes the linear time showed in that example.

I do wonder nowadays how good is the tradeoff between saving some string
memory compared to the speed penalty...  Is the string space saved only
when identical file names are input?  If so, I don't think that happens
often enough to justify the effort, does it?

Phelype

From bnb at tug.org  Tue Apr 27 17:34:38 2021
From: bnb at tug.org (barbara beeton)
Date: Tue, 27 Apr 2021 17:34:38 +0200 (CEST)
Subject: \input gets slower after each \input
In-Reply-To: <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
 <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
Message-ID: <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>

On Tue, 27 Apr 2021, Phelype Oleinik wrote:
> On 27/04/2021 04:38, Ulrike Fischer wrote:
>>  Am Mon, 26 Apr 2021 20:19:51 -0300 schrieb Phelype Oleinik:
>>
>>>  Dear list,
>>>
>>>  I was doing some tests with file reading and I found that \input gets
>>>  a tiny bit slower each time it is used.  Why is that?
>>>
>>>  I made a test document that shows this behaviour.
>>
>>  miktex dies with ! TeX capacity exceeded, sorry [pool size=3208635]
>>  on your example.
>>
>>  Looking at the stats, one can see that every input adds to pool:
>>
>>  310211 string characters out of 6150784
>>  620211 string characters out of 6150784
>
> Yes, it does because TeX has to remember the file stack for error
> reporting, so names are kept on the string pool.
>
> (in fact, my example also explodes also on TeX Live because I added
>  twice too many |\test| in the test document, but I didn't notice
>  because of |\batchmode|.  Sorry about that.)
>
> I knew about |\input| taking space in the string pool but I didn't think
> that would be the cause because memory access takes constant time.
> However this stackexchange post was brought to my attention:
>  https://tex.stackexchange.com/a/450056
> in which the user ShreevatsaR does an in-depth debugging to find out
> that the system-dependent changes actually implement a string search,
> which then takes the linear time showed in that example.
>
> I do wonder nowadays how good is the tradeoff between saving some string
> memory compared to the speed penalty...  Is the string space saved only
> when identical file names are input?  If so, I don't think that happens
> often enough to justify the effort, does it?
>
> Phelype

This has come up before, although with situations involving different
input file names, not the same name as in the present test.  When a
file access is completed (definitively closed), ur-TeX would attempt
to remove the name from the string pool.  But if anything else had
been added to the string pool, the name was not removed, since the
complications of garbage collection outweighed the space saving.  I
don't think that approach has changed, and I don't remember that there
is an effective way to definitively close an \input file (although
that may be irrelevant, since newly input files often add items to the
string pool).  The actual production incident was solved by combining
the files to be input, so that there were fewer files actually \input.
 						-- bb


From phe.h.o1 at gmail.com  Tue Apr 27 19:11:01 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 27 Apr 2021 14:11:01 -0300
Subject: \input gets slower after each \input
In-Reply-To: <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
 <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
 <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>
Message-ID: <63eb7762-88aa-4e20-6fbb-ebee380ae0f3@gmail.com>

On 27/04/2021 12:34, barbara beeton wrote:
> 
> This has come up before, although with situations involving different
> input file names, not the same name as in the present test.? When a
> file access is completed (definitively closed), ur-TeX would attempt
> to remove the name from the string pool.? But if anything else had
> been added to the string pool, the name was not removed, since the
> complications of garbage collection outweighed the space saving.? I
> don't think that approach has changed

It doesn't seem to have been changed, because as Ulrike noted, the
example eventually explodes with a string pool overflow, and all it
does is to input the same file over and over again.

However the access time for string memory is constant, since it is just
a pointer to a large array.  In fact, the sample takes roughly the same
time to run regardless if the file is |abcdefghijklmnopqrstuvwxyz.tex|
or just |a.tex|, which indicates that it is not _how much_ string memory
is used, but how many strings are added to the pool.

My questioning is if the space saved by reusing some chunks of the
string pool is worth the time taken to search through it...
Speaking of which: if a string is reused when found in the pool, why
does the example runs out of string space?  Shouldn't it reuse always
the same string?

Phelype

From bnb at tug.org  Tue Apr 27 19:25:44 2021
From: bnb at tug.org (barbara beeton)
Date: Tue, 27 Apr 2021 19:25:44 +0200 (CEST)
Subject: \input gets slower after each \input
In-Reply-To: <63eb7762-88aa-4e20-6fbb-ebee380ae0f3@gmail.com>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
 <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
 <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>
 <63eb7762-88aa-4e20-6fbb-ebee380ae0f3@gmail.com>
Message-ID: <df729aa-744f-5522-25c5-e1d812b2c6f@tug.org>

On Tue, 27 Apr 2021, Phelype Oleinik wrote:
> On 27/04/2021 12:34, barbara beeton wrote:
>>
>>  This has come up before, although with situations involving different
>>  input file names, not the same name as in the present test.? When a
>>  file access is completed (definitively closed), ur-TeX would attempt
>>  to remove the name from the string pool.? But if anything else had
>>  been added to the string pool, the name was not removed, since the
>>  complications of garbage collection outweighed the space saving.? I
>>  don't think that approach has changed
>
> It doesn't seem to have been changed, because as Ulrike noted, the
> example eventually explodes with a string pool overflow, and all it
> does is to input the same file over and over again.
>
> However the access time for string memory is constant, since it is just
> a pointer to a large array.  In fact, the sample takes roughly the same
> time to run regardless if the file is |abcdefghijklmnopqrstuvwxyz.tex|
> or just |a.tex|, which indicates that it is not _how much_ string memory
> is used, but how many strings are added to the pool.
>
> My questioning is if the space saved by reusing some chunks of the
> string pool is worth the time taken to search through it...

It certainly wasn't worth it when memory was at a premium; any space
saved would have been (more than) consumed by the code necessary to
accomplish it.

> Speaking of which: if a string is reused when found in the pool, why
> does the example runs out of string space?  Shouldn't it reuse always
> the same string?

It's been literally decades since the limitation was discovered at AMS,
and even if the explanatory correspondence has survived, I no longer
have access to it, and am not up to digging through the WEB code.
 						-- bb

> Phelype

From phe.h.o1 at gmail.com  Tue Apr 27 19:33:47 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 27 Apr 2021 14:33:47 -0300
Subject: \input gets slower after each \input
In-Reply-To: <df729aa-744f-5522-25c5-e1d812b2c6f@tug.org>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
 <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
 <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>
 <63eb7762-88aa-4e20-6fbb-ebee380ae0f3@gmail.com>
 <df729aa-744f-5522-25c5-e1d812b2c6f@tug.org>
Message-ID: <06e9cea2-cf21-d697-e21e-c4472a1c5e1d@gmail.com>

On 27/04/2021 14:25, barbara beeton wrote:
> On Tue, 27 Apr 2021, Phelype Oleinik wrote:
>>
>> My questioning is if the space saved by reusing some chunks of the
>> string pool is worth the time taken to search through it...
> 
> It certainly wasn't worth it when memory was at a premium; any space
> saved would have been (more than) consumed by the code necessary to
> accomplish it.

Oh well :-)

>> Speaking of which: if a string is reused when found in the pool, why
>> does the example runs out of string space?? Shouldn't it reuse always
>> the same string?
> 
> It's been literally decades since the limitation was discovered at AMS,
> and even if the explanatory correspondence has survived, I no longer
> have access to it, and am not up to digging through the WEB code.

No need to, I may end up doing that myself... eventually

Thanks,
Phelype

From hartmut_henkel at gmx.de  Tue Apr 27 19:41:44 2021
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 27 Apr 2021 19:41:44 +0200 (CEST)
Subject: \input gets slower after each \input
In-Reply-To: <df729aa-744f-5522-25c5-e1d812b2c6f@tug.org>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
 <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
 <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>
 <63eb7762-88aa-4e20-6fbb-ebee380ae0f3@gmail.com>
 <df729aa-744f-5522-25c5-e1d812b2c6f@tug.org>
Message-ID: <alpine.DEB.2.21.2104271938530.26385@hahepc1.hahe>

On Tue, 27 Apr 2021, barbara beeton wrote:
> On Tue, 27 Apr 2021, Phelype Oleinik wrote:
> > On 27/04/2021 12:34, barbara beeton wrote:
> > >
> > >  This has come up before, although with situations involving
> > >  different input file names, not the same name as in the present
> > >  test.? When a file access is completed (definitively closed),
> > >  ur-TeX would attempt to remove the name from the string pool.?
> > >  But if anything else had been added to the string pool, the name
> > >  was not removed, since the complications of garbage collection
> > >  outweighed the space saving.? I don't think that approach has
> > >  changed
> >
> > It doesn't seem to have been changed, because as Ulrike noted, the
> > example eventually explodes with a string pool overflow, and all it
> > does is to input the same file over and over again.
> >
> > However the access time for string memory is constant, since it is
> > just a pointer to a large array.  In fact, the sample takes roughly
> > the same time to run regardless if the file is
> > |abcdefghijklmnopqrstuvwxyz.tex| or just |a.tex|, which indicates
> > that it is not _how much_ string memory is used, but how many
> > strings are added to the pool.
> >
> > My questioning is if the space saved by reusing some chunks of the
> > string pool is worth the time taken to search through it...
>
> It certainly wasn't worth it when memory was at a premium; any space
> saved would have been (more than) consumed by the code necessary to
> accomplish it.
>
> > Speaking of which: if a string is reused when found in the pool, why
> > does the example runs out of string space?  Shouldn't it reuse
> > always the same string?
>
> It's been literally decades since the limitation was discovered at
> AMS, and even if the explanatory correspondence has survived, I no
> longer have access to it, and am not up to digging through the WEB
> code.

...not sure if this has to do with a problem tackled here, long long
ago: http://hhenkel.de/pdftex/patch3/avl-patch3.html

Best Regards, Hartmut

From hartmut_henkel at gmx.de  Tue Apr 27 19:51:07 2021
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 27 Apr 2021 19:51:07 +0200 (CEST)
Subject: \input gets slower after each \input
In-Reply-To: <alpine.DEB.2.21.2104271938530.26385@hahepc1.hahe>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
 <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
 <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>
 <63eb7762-88aa-4e20-6fbb-ebee380ae0f3@gmail.com>
 <df729aa-744f-5522-25c5-e1d812b2c6f@tug.org>
 <alpine.DEB.2.21.2104271938530.26385@hahepc1.hahe>
Message-ID: <alpine.DEB.2.21.2104271949130.26546@hahepc1.hahe>

On Tue, 27 Apr 2021, Hartmut Henkel wrote:
> On Tue, 27 Apr 2021, barbara beeton wrote:
> >
> > It's been literally decades since the limitation was discovered at
> > AMS, and even if the explanatory correspondence has survived, I no
> > longer have access to it, and am not up to digging through the WEB
> > code.
>
> ...not sure if this has to do with a problem tackled here, long long
> ago: http://hhenkel.de/pdftex/patch3/avl-patch3.html

ooops, this one is already part of pdftex, so it's likely not related to
the slow-down problem. Sorry for the noise.

Best Regards, Hartmut

From phe.h.o1 at gmail.com  Tue Apr 27 20:04:54 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 27 Apr 2021 15:04:54 -0300
Subject: \input gets slower after each \input
In-Reply-To: <alpine.DEB.2.21.2104271949130.26546@hahepc1.hahe>
References: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
 <1gzhvjyziyzex.dlg@nililand.de>
 <b56bed70-0b85-ca06-d97b-3a5993117e00@gmail.com>
 <e1601853-6b2f-83fb-d9f1-44cb6d26abad@tug.org>
 <63eb7762-88aa-4e20-6fbb-ebee380ae0f3@gmail.com>
 <df729aa-744f-5522-25c5-e1d812b2c6f@tug.org>
 <alpine.DEB.2.21.2104271938530.26385@hahepc1.hahe>
 <alpine.DEB.2.21.2104271949130.26546@hahepc1.hahe>
Message-ID: <63770ded-037e-fa31-c5a2-ba79a4ba1770@gmail.com>

On 27/04/2021 14:51, Hartmut Henkel wrote:
> On Tue, 27 Apr 2021, Hartmut Henkel wrote:
>>
>> ...not sure if this has to do with a problem tackled here, long long
>> ago: http://hhenkel.de/pdftex/patch3/avl-patch3.html
> 
> ooops, this one is already part of pdftex, so it's likely not related to
> the slow-down problem. Sorry for the noise.

Yes, that seems to be already implemented for hyperlinks.  However, if I
read that correctly, the AVL Tree search you mention is for searching
strings.  If so, that may as well be implemented for this exact case, as
it doesn't seem to require a change in the underlying data structure...

I will investigate when I have the time.

Thanks for the link!

Phelype

From don.hosek at gmail.com  Tue Apr 27 21:41:33 2021
From: don.hosek at gmail.com (Don Hosek)
Date: Tue, 27 Apr 2021 14:41:33 -0500
Subject: Apparent bug in pdftex/xetex (but not luatex)
Message-ID: <FC05B194-1BE7-40B9-BB7B-C0C7D58A5CD3@gmail.com>

Raising this here at the suggestion of David Carlisle. Original post at tex.se <http://tex.se/>: https://tex.stackexchange.com/questions/594702/apparent-bug-in-pdflatex-xelatex-but-not-lualatex <https://tex.stackexchange.com/questions/594702/apparent-bug-in-pdflatex-xelatex-but-not-lualatex>

test.tex:

\def\zz#1{#1}
\zz{\input test.l2e }

text.l2e:

\oops
Hit E at the error prompt and an error along the lines of:

pdflatex:calledit: unexpected if_ptr=5 not in range 1..2,from input_stack[2].namefield=2378
xelatex:calledit: unexpected if_ptr=6 not in range 1..2,from input_stack[2].namefield=2230090

will appear.

I?ve not had a chance to dig into source to look for the issue. David?s diagnosis from stackexchange:

> Note you need the wrapping macro, if you just call \input directly it works, presumably related to the input_stack[2] in the error when it fails.
-dh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210427/3329c845/attachment-0001.html>

From h.y.acetaminophen at gmail.com  Tue Apr 27 23:03:03 2021
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Wed, 28 Apr 2021 06:03:03 +0900
Subject: Apparent bug in pdftex/xetex (but not luatex)
In-Reply-To: <FC05B194-1BE7-40B9-BB7B-C0C7D58A5CD3@gmail.com>
References: <FC05B194-1BE7-40B9-BB7B-C0C7D58A5CD3@gmail.com>
Message-ID: <CAJCZBmTcwR0-PBb0OsHUCjaR2ojF2eB+He2Vm0SpP=J9EoaX0Q@mail.gmail.com>

Hi,

https://tug.org/pipermail/tex-live/2021-April/046844.html

> pdflatex:calledit: unexpected if_ptr=5 not in range 1..2,from
input_stack[2].namefield=2378
> xelatex:calledit: unexpected if_ptr=6 not in range 1..2,from
input_stack[2].namefield=2230090

Looks like the same issue
https://tug.org/pipermail/tex-k/2021-April/003542.html

The patch proposed in tex-k list is not installed yet, though.

Best,
Hironobu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210428/23e1f89c/attachment.html>

From tex at 2krueger.de  Tue Apr 27 23:14:23 2021
From: tex at 2krueger.de (Marcel =?utf-8?Q?Kr=C3=BCger?=)
Date: Tue, 27 Apr 2021 23:14:23 +0200
Subject: Apparent bug in pdftex/xetex (but not luatex)
In-Reply-To: <FC05B194-1BE7-40B9-BB7B-C0C7D58A5CD3@gmail.com>
References: <FC05B194-1BE7-40B9-BB7B-C0C7D58A5CD3@gmail.com>
Message-ID: <20210427211423.rnphlt6ektkuofmt@beeblebrox>

On Tue, Apr 27, 2021 at 02:41:33PM -0500, Don Hosek wrote:
> Raising this here at the suggestion of David Carlisle. Original post at tex.se <http://tex.se/>: https://tex.stackexchange.com/questions/594702/apparent-bug-in-pdflatex-xelatex-but-not-lualatex <https://tex.stackexchange.com/questions/594702/apparent-bug-in-pdflatex-xelatex-but-not-lualatex>
> 
> test.tex:
> 
> \def\zz#1{#1}
> \zz{\input test.l2e }
> 
> text.l2e:
> 
> \oops
> Hit E at the error prompt and an error along the lines of:
> 
> pdflatex:calledit: unexpected if_ptr=5 not in range 1..2,from input_stack[2].namefield=2378
> xelatex:calledit: unexpected if_ptr=6 not in range 1..2,from input_stack[2].namefield=2230090
> 
> will appear.
> 
> I?ve not had a chance to dig into source to look for the issue. David?s diagnosis from stackexchange:
> 
> > Note you need the wrapping macro, if you just call \input directly it works, presumably related to the input_stack[2] in the error when it fails.
> -dh

I attached a patch which fixes both this issue and a similar problem
which is triggered doing the same with test.tex containing

    \scantokens{\input test.l2e }

Best regards,
Marcel
-------------- next part --------------
>From 4c72847515c123dc729d6588f660072428f4909e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Marcel=20Fabian=20Kr=C3=BCger?= <tex at 2krueger.de>
Date: Tue, 27 Apr 2021 22:57:00 +0200
Subject: [PATCH] Fix bugs in calledit

---
 texk/web2c/lib/ChangeLog |  5 +++++
 texk/web2c/lib/texmfmp.c | 15 ++++++++++++---
 2 files changed, 17 insertions(+), 3 deletions(-)

diff --git a/texk/web2c/lib/ChangeLog b/texk/web2c/lib/ChangeLog
index baa54a525..6caf64e44 100644
--- a/texk/web2c/lib/ChangeLog
+++ b/texk/web2c/lib/ChangeLog
@@ -1,3 +1,8 @@
+2021-04-27  Marcel Kr?ger  <tex at 2krueger.de>
+
+	* texmfmp.c: Skip \scantokens pseudo files and token lists in
+	calledit.
+
 2021-03-23  Karl Berry  <karl at tug.org>
 
 	* TL'21.
diff --git a/texk/web2c/lib/texmfmp.c b/texk/web2c/lib/texmfmp.c
index eeb32eaf2..8a2935fdb 100644
--- a/texk/web2c/lib/texmfmp.c
+++ b/texk/web2c/lib/texmfmp.c
@@ -2627,10 +2627,13 @@ calledit (packedASCIIcode *filename,
      looking for name_field values >17, which correspond to open
      files, and then the index_field value of that entry tells us the
      corresponding element of input_file, which is what we need to close.
+     Additionally we have to skip all entries with state_field 0 since these
+     correspond to token lists and not input files.
 
-     We test for >17 because name_field=0 means the terminal,
+     We test for >19 because name_field=0 means the terminal,
      name_field=1..16 means \openin stream n - 1,
-     name_field=17 means an invalid stream number (for read_toks).
+     name_field=17 means an invalid stream number (for read_toks),
+     name_field=18..19 means \scantokens pseudo files
      Although ... seems like we should close any opened \openin files also.
      Whoever is reading this, please implement that? Sigh.
      
@@ -2643,7 +2646,13 @@ calledit (packedASCIIcode *filename,
  {  
   int is_ptr; /* element of input_stack, 0 < input_ptr */  
   for (is_ptr = 0; is_ptr < inputptr; is_ptr++) {
-    if (inputstack[is_ptr].namefield <= 17) {
+#ifdef TeX
+    if (inputstack[is_ptr].statefield == 0 || inputstack[is_ptr].namefield <= 19) {
+#elif defined(MF)
+    if (inputstack[is_ptr].namefield <= 2) {
+#else
+#error "Unable to identify program"
+#endif
         ; /* fprintf (stderr, "calledit: skipped input_stack[%d], ", is_ptr);
              fprintf (stderr, "namefield=%d <= 17\n",
                       inputstack[is_ptr].namefield); */
-- 
2.31.1


From karl at freefriends.org  Wed Apr 28 00:26:21 2021
From: karl at freefriends.org (Karl Berry)
Date: Tue, 27 Apr 2021 16:26:21 -0600
Subject: Apparent bug in pdftex/xetex (but not luatex)
In-Reply-To: <20210427211423.rnphlt6ektkuofmt@beeblebrox>
Message-ID: <202104272226.13RMQLkG010775@freefriends.org>

Hi Marcel - thanks for the patch.

    +     name_field=18..19 means \scantokens pseudo files

I can't research right now, seems like that implies that in original TeX
(where there is no \scantokens), it should start at 18? I wrote that new
bit of code originally in response to the prior bug reports about
(original) TeX crashing with "e".

    +#elif defined(MF)
    +    if (inputstack[is_ptr].namefield <= 2) {

Good.

    +#else
    +#error "Unable to identify program"
    +#endif

MetaPost ... --thanks, karl.

From karl at freefriends.org  Wed Apr 28 00:59:50 2021
From: karl at freefriends.org (Karl Berry)
Date: Tue, 27 Apr 2021 16:59:50 -0600
Subject: \input gets slower after each \input
In-Reply-To: <b521bd59-8df1-b44c-e64a-ecb847809145@gmail.com>
Message-ID: <202104272259.13RMxoH2015391@freefriends.org>

    inputs that file 10000 times

Is there a practical problem with the slowdown?  E.g., LaTeX nowadays
calls \scantokens hundreds of thousands of times?  -k


From tex at 2krueger.de  Wed Apr 28 02:01:43 2021
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Wed, 28 Apr 2021 02:01:43 +0200
Subject: Apparent bug in pdftex/xetex (but not luatex)
In-Reply-To: <202104272226.13RMQLkG010775@freefriends.org>
References: <20210427211423.rnphlt6ektkuofmt@beeblebrox>
 <202104272226.13RMQLkG010775@freefriends.org>
Message-ID: <20210428000143.ub7dq5rqepydpqel@beeblebrox>

On Tue, Apr 27, 2021 at 04:26:21PM -0600, Karl Berry wrote:
> Hi Marcel - thanks for the patch.
> 
>     +     name_field=18..19 means \scantokens pseudo files
> 
> I can't research right now, seems like that implies that in original TeX
> (where there is no \scantokens), it should start at 18? I wrote that new
> bit of code originally in response to the prior bug reports about
> (original) TeX crashing with "e".

Technically yes, but it doesn't matter. It would only make a difference
if a file would have a filename with string number 18 or 19, but the
first 256 strings are statically initialized for internal purposes
and never used for file names. (E.g. the strings in question are "^^R" and
"^^S", representing the characters 18 and 19) TeX is already depending
on these strings not being reused. (E.g. The strings before 18 exist
too, using small name_field values only works since TeX knows that
the value will always be higher than 256 (actually it will always be
above 1000ish since TeX also sets other internal strings)

So we could make separate cases here, but I don't see the point in
doing so.

> 
>     +#elif defined(MF)
>     +    if (inputstack[is_ptr].namefield <= 2) {
> 
> Good.
> 
>     +#else
>     +#error "Unable to identify program"
>     +#endif
> 
> MetaPost ... --thanks, karl.

MetaPost doesn't use the code, it has a separate implementation in
mpost.web (mpost_run_editor). It doesn't even link in this file. (Which
implies that the filename texmfmp.c is at least misleading, but that's
an independent issue)
That was also the motivation in explicitly testing for MetaFont instead
of just using an else case: We can be sure that we don't accidentially
use wrong values for some other program using the file since it will
fail at compile time if the current program isn't handled.

Best,
Marcel

From phe.h.o1 at gmail.com  Wed Apr 28 16:12:04 2021
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Wed, 28 Apr 2021 11:12:04 -0300
Subject: \input gets slower after each \input
In-Reply-To: <202104272259.13RMxoH2015391@freefriends.org>
References: <202104272259.13RMxoH2015391@freefriends.org>
Message-ID: <dcc225bf-0bf5-0a7a-aaf9-23056bb5cbf3@gmail.com>

On 27/04/2021 19:59, Karl Berry wrote:
>      inputs that file 10000 times
> 
> Is there a practical problem with the slowdown?  E.g., LaTeX nowadays
> calls \scantokens hundreds of thousands of times?  -k

No, we avoid that whenever possible (the first usage will get to the
kernel with the next -dev release, and it will be rarely used).

Actually I spotted this behaviour when doing some benchmarks including
|\input| and I noticed that a supposedly faster code was running much
slower, and it took me quite a while to find out that |\input| was
messing up my benchmarks, so my main problem was that I didn't know that
this was happening.

The practical issue is that any document in general gets slower if there
are more packages loaded, especially now that expl3 is preloaded in the
LaTeX kernel, or when big packages like fontspec, unicode-math or TikZ
are loaded...  But I really don't know how much or how noticeable is
this difference...

Phelype

From jfine2358 at gmail.com  Wed Apr 28 17:13:24 2021
From: jfine2358 at gmail.com (Jonathan Fine)
Date: Wed, 28 Apr 2021 16:13:24 +0100
Subject: TeX Hour tomorrow: Experiment, Explore, look 3 months fore and aft
In-Reply-To: <CALD=Yf8SqeftHRfqpYCGuLdPpZGs1FUgeVL3grhy97icoNjdvQ@mail.gmail.com>
References: <CALD=Yf-wGP3XYgLfqORZO5e83v5FvRJY7HqQWvEVDFnMWdHv9Q@mail.gmail.com>
 <CALD=Yf_72AZEmFJhi6z6_VB3bB3eTkzE8UR5F91vy9ggUKF34A@mail.gmail.com>
 <CALD=Yf-gh8D1tp2NxoSp8D9hie8AM9vxsW+4naby0BBGrg2_yA@mail.gmail.com>
 <CALD=Yf8SqeftHRfqpYCGuLdPpZGs1FUgeVL3grhy97icoNjdvQ@mail.gmail.com>
Message-ID: <CALD=Yf-vHhr-iZ=rRmx6Ts3OTPg7n5XPz5W2b5i0Ac1gKtkDRg@mail.gmail.com>

Hi

Tomorrow's TeX Hour is a bit special. It's the first devoted to Experiments
and Exploration. It's also the 20th TeX Hour, and so a time to celebrate,
look back and look forward.

The meeting is Thursday 29 April, 6:30 to 7:30pm UK time. The time now in
the UK is at https://www.google.com/search?q=uk+time. The zoom link for the
meeting is
https://us02web.zoom.us/j/78551255396?pwd=cHdJN0pTTXRlRCtSd1lCTHpuWmNIUT09

The TeX Hour has a monthly cycle for its topics.

First Thursday: Beginners
Second Thursday: Accessibility
Third Thursday: Conversion (eg LaTeX to PDF, LaTeX to HTML, markdown to
LaTeX)
Fourth Thursday: Durable Documents (same outputs give same input across
space and time)
Fifth Thursday: Experiments and Exploration.

After tomorrow, the next E+E TeX Hour is Thursday 29 July, which is just
before the online TeX 2021 conference https://tug.org/tug2021/. At
tomorrow's TeX hour I'd like us to take a 3-month before and after view of
the TeX Hour, with an eye on presentations at the TeX conference. I'm also
looking to curate our growing library of video records.

As usual in TeX Hours, all are welcome. Looking forward, next month we
focus on Bibtex and reference management.

On Thursday 6 May we're pleased to welcome Patrick Daly, author of the
widely used natbib package. He'll give us the history of natbib, and answer
questions. The focus will be on the Beginner experience. We hope later in
the month to have a more technical reference management TeX Hour, either as
Conversion or Durable Documents.

Finally, the videos from last week are now available

1990s archives - arXiv.org, CTAN, CPAN, archive.org and CRAN:
https://youtu.be/jyNJthTNzTY
Archives, security, LOCKSS, git as a distributed CAS:
https://youtu.be/YH0sVo4nu6s
Better bibliographies - a brainstorm: https://youtu.be/YrzDNT2CgsE
Bibtex and custom-bib: https://youtu.be/tqAZhMnppOo
Computing and errors, from 1820 to today: https://youtu.be/pZJjNnJGhwo
Introductions: https://youtu.be/c0DHMFnB0u8
Other citation managers, key-hash-value store: https://youtu.be/t9jExB070AQ
Small is also beautiful - TinyTeX and in-browser TeX:
https://youtu.be/PU0UNeRDnIY
Some jewels - TUGboat, bibnet, DOIs: https://youtu.be/5xxAYJ5xnXo
Thanks to Nelson Beebe, Sebastian Rahtz, George Greenwade and others:
https://youtu.be/1EM6hfTM3IE

with best regards

Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210428/ccd4cf32/attachment.html>

From beebe at math.utah.edu  Wed Apr 28 18:23:24 2021
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Wed, 28 Apr 2021 10:23:24 -0600
Subject: Network issues at math.utah.edu described and resolved
Message-ID: <CMM.0.96.0.1619627004.beebe@gamma.math.utah.edu>

In mail of Mon, 26 Apr 2021 16:20:44 -0600 to these lists, I announced
https:// support for these sites at Utah:

        ctan.math.utah.edu
        ftp.math.utah.edu
        www.math.utah.edu

The next day, there were issues in reaching some of them, and that
turned out to have two causes.  

First, there was an errant firewall rule that blocked the https port
(443) from off-campus access; that was quickly fixed.

Second, and more seriously, and unknown to us in the Department of
Mathematics, campus networking staff had just replaced one of a pair
of redundant upstream routers with a new model that had route-table
inconsistencies with the old one.

The result of that hardware change was that, depending on which of the
pair that incoming traffic to the math.utah.edu domain hit, packets
would get through, or be blocked.  That reduced our traffic flow
considerably, and produced flaky network connections from both
on-campus and off-campus sites for most of Tuesday 27-Apr-2021.  My
home workstation would sometimes get through, but otherwise, would
just complain "no route to host".  The reverse connection, from campus
to home, worked fine all day.

The routing table issues have now been fixed by the campus network
staff, and we expect traffic to math.utah.edu systems to return to
normal.

The second router of the redundant pair will be replaced in a few
weeks, but at least this time, the campus network team should have
learned from the unpleasant experience of this week's router
replacement :^) [fingers crossed...]

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From karl at freefriends.org  Wed Apr 28 19:05:29 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 28 Apr 2021 11:05:29 -0600
Subject: \input gets slower after each \input
In-Reply-To: <dcc225bf-0bf5-0a7a-aaf9-23056bb5cbf3@gmail.com>
Message-ID: <202104281705.13SH5Tgo011562@freefriends.org>

    But I really don't know how much or how noticeable is
    this difference...

Your report said that the slowdown was still only fractions of a second
after tens of thousands of files were \input. Thus I doubt there is any
practical impact. -k


From karl at freefriends.org  Thu Apr 29 00:55:39 2021
From: karl at freefriends.org (Karl Berry)
Date: Wed, 28 Apr 2021 16:55:39 -0600
Subject: Apparent bug in pdftex/xetex (but not luatex)
In-Reply-To: <20210428000143.ub7dq5rqepydpqel@beeblebrox>
Message-ID: <202104282255.13SMtd6H027043@freefriends.org>

    first 256 strings are statically initialized for internal purposes

Yeah. Indeed, I see that Knuth used 256 in {tex,mf}.web in his
non-implementation of editing:

    "E": if base_ptr>0 then if input_stack[base_ptr].name_field>=256 then
      begin print_nl("You want to edit file ");
    @.You want to edit file x@>
      slow_print(input_stack[base_ptr].name_field);

Therefore it seems we may as well follow suit?  So I adjusted the patch
and my rather verbose commentary about the code.  I probably messed up
somehow.  If any suggestions, let me know. I'll commit tomorrow barring
problems.

    MetaPost doesn't use the code

Right, I forgot. Living in the past.

    implies that the filename texmfmp.c is at least misleading, 

Yeah, I guess we (I) could/should rename it. --thanks, karl.


Index: lib/ChangeLog
===================================================================
--- lib/ChangeLog	(revision 59012)
+++ lib/ChangeLog	(working copy)
@@ -1,3 +1,16 @@
+2021-04-28  Marcel Fabian Krueger  <tex at 2krueger.de>
+	    Hironori KITAGAWA <h_kitagawa2001 at yahoo.co.jp>
+	    Karl Berry <karl at freefriends.org.
+
+	* texmfmp.c (calledit): Skip \scantokens pseudo-files, indeed all
+	name_field values <=255 (following tex.web), and token lists
+	(state_field==0). Original reports from Don Hosek,
+	https://tex.stackexchange.com/questions/594702
+	and Hironori (plus patch),
+	https://tug.org/pipermail/tex-k/2021-April/003542.html
+	and Marcel (plus patch) for \scantokens,
+	https://tug.org/pipermail/tex-live/2021-April/046846.html.
+
 2021-03-23  Karl Berry  <karl at tug.org>
 
 	* TL'21.
Index: lib/texmfmp.c
===================================================================
--- lib/texmfmp.c	(revision 59012)
+++ lib/texmfmp.c	(working copy)
@@ -2624,29 +2624,49 @@ calledit (packedASCIIcode *filename,
      and a non-file for the insert. https://tex.stackexchange.com/q/552113 
      
      Therefore, we have to traverse down input_stack (not input_file),
-     looking for name_field values >17, which correspond to open
-     files, and then the index_field value of that entry tells us the
+     looking for large enough name_field values corresponding to open
+     files. Then the index_field value of that entry tells us the
      corresponding element of input_file, which is what we need to close.
+     Additionally we have to skip all entries with state_field 0 since these
+     correspond to token lists and not input files.
 
-     We test for >17 because name_field=0 means the terminal,
+     We test for name_field<=255, following tex.web, because the first
+     256 strings are static, initialized by TeX. (Well, many more
+     strings are initialized, but we'll follow tex.web.)
+     
+     For the record, name_field=0 means the terminal,
      name_field=1..16 means \openin stream n - 1,
-     name_field=17 means an invalid stream number (for read_toks).
-     Although ... seems like we should close any opened \openin files also.
-     Whoever is reading this, please implement that? Sigh.
+     name_field=17 means an invalid stream number (for read_toks),
+     name_field=18..19 means \scantokens pseudo-files (except for
+     original TeX of course). But 255 suffices for us.
      
-     Description in modules 300--304 of tex.web: "Input stacks and states."
-     
      Here, we do not have to look at cur_input, the global variable
      which is effectively the top of input_stack, because it will always
      be a terminal (non-file) interaction -- the one where the user
-     typed "e" to start the edit.  */
+     typed "e" to start the edit.
+     
+     In addition, state_field will be zero for token lists. Skip those too.
+     (Does not apply to Metafont.)
+
+     Description in modules 300--304 of tex.web: "Input stacks and states".
+     
+     We should close any opened \openin files also. Whoever is reading
+     this, please implement that?  */
  {  
   int is_ptr; /* element of input_stack, 0 < input_ptr */  
   for (is_ptr = 0; is_ptr < inputptr; is_ptr++) {
-    if (inputstack[is_ptr].namefield <= 17) {
+#ifdef TeX
+    if (inputstack[is_ptr].statefield == 0 /* token list */
+        || inputstack[is_ptr].namefield <= 255) { /* can't be filename */
+#elif defined(MF)
+    if (inputstack[is_ptr].namefield <= 255) {
+#else
+#error "Unable to identify program" /* MetaPost doesn't use this file */
+#endif
         ; /* fprintf (stderr, "calledit: skipped input_stack[%d], ", is_ptr);
-             fprintf (stderr, "namefield=%d <= 17\n",
-                      inputstack[is_ptr].namefield); */
+             fprintf (stderr, "namefield=%d <= 255 or statefield=%d == 0\n",
+                      inputstack[is_ptr].namefield,
+                      inputstack[is_ptr].statefield); */
     } else {
       FILE *f;
       /* when name_field > 17, index_field specifies the element of

From kakuto at w32tex.org  Thu Apr 29 05:15:06 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Thu, 29 Apr 2021 12:15:06 +0900
Subject: To Windows users who have non-ascii UserName
In-Reply-To: <202104282255.13SMtd6H027043@freefriends.org>
References: <202104282255.13SMtd6H027043@freefriends.org>
Message-ID: <dfec5cd7-12c8-b43b-2de2-9c48f4853731@w32tex.org>

To Windows users who have non-ascii UserName

I'm afraid that if your username: c:\Users\username
is non-ascii, texworks and texdoc may not work.
If the above is the case please do as follows:

Do the following commands in cmd windows as an administrator:

cd /d c:\Users
mklink /D SuitableASCIIname username

And redefine the value of the environment variable USERPROFILE
as the c:\Users\SuitableASCIIname, which is a sumbolic link of
c:\Users\username.

Best,
Akira

From kakuto at w32tex.org  Thu Apr 29 05:44:51 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Thu, 29 Apr 2021 12:44:51 +0900
Subject: To Windows users who have non-ascii UserName
In-Reply-To: <dfec5cd7-12c8-b43b-2de2-9c48f4853731@w32tex.org>
References: <202104282255.13SMtd6H027043@freefriends.org>
 <dfec5cd7-12c8-b43b-2de2-9c48f4853731@w32tex.org>
Message-ID: <df379837-089f-19cc-fa43-df13b1872e17@w32tex.org>

> And redefine the value of the environment variable USERPROFILE
> as the c:\Users\SuitableASCIIname, which is a sumbolic link of
> c:\Users\username.

The above is done in a cmd window by
set USERPROFILE=c:\Users\SuitableASCIIname

I don't know how to change USERPROFILE permanently.

Best,
Akira

From don.hosek at gmail.com  Thu Apr 29 05:55:21 2021
From: don.hosek at gmail.com (Don Hosek)
Date: Wed, 28 Apr 2021 22:55:21 -0500
Subject: To Windows users who have non-ascii UserName
In-Reply-To: <df379837-089f-19cc-fa43-df13b1872e17@w32tex.org>
References: <202104282255.13SMtd6H027043@freefriends.org>
 <dfec5cd7-12c8-b43b-2de2-9c48f4853731@w32tex.org>
 <df379837-089f-19cc-fa43-df13b1872e17@w32tex.org>
Message-ID: <049FA22E-6DD7-4226-80DC-07F97BA8D3EA@gmail.com>

On 28 Apr 2021, at 22:44, Akira Kakuto <kakuto at w32tex.org> wrote:
> 
>> And redefine the value of the environment variable USERPROFILE
>> as the c:\Users\SuitableASCIIname, which is a sumbolic link of
>> c:\Users\username.
> 
> The above is done in a cmd window by
> set USERPROFILE=c:\Users\SuitableASCIIname
> 
> I don't know how to change USERPROFILE permanently.

This answer does a pretty good job of covering the bases on this topic: https://superuser.com/a/284351 <https://superuser.com/a/284351> for Windows Vista and later you can write:


setx USERPROFILE "c:\Users\SuitableASCIIname"

note the x in the command and the lack of an = sign. Also, the quotes are mandatory if the value has spaces.

-dh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20210428/8abf10ab/attachment.html>

From kakuto at w32tex.org  Thu Apr 29 06:13:45 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Thu, 29 Apr 2021 13:13:45 +0900
Subject: To Windows users who have non-ascii UserName
In-Reply-To: <049FA22E-6DD7-4226-80DC-07F97BA8D3EA@gmail.com>
References: <202104282255.13SMtd6H027043@freefriends.org>
 <dfec5cd7-12c8-b43b-2de2-9c48f4853731@w32tex.org>
 <df379837-089f-19cc-fa43-df13b1872e17@w32tex.org>
 <049FA22E-6DD7-4226-80DC-07F97BA8D3EA@gmail.com>
Message-ID: <f9e1d091-c12c-4b96-dbdc-e92c57a22f58@w32tex.org>

> setx USERPROFILE "c:\Users\SuitableASCIIname"

Thanks. Unfortunately this does not apply in the present case.
echo %USERPROFILE% shows
c:\Users\username
not the symlink value
c:\Users\SuitableASCIIname

In the case
set USERPROFILE=c:\Users\SuitableASCIIname
echo %USERPROFILE% shows the symlink value
c:\Users\SuitableASCIIname

However this is of course temporal.

Best,
Akira

From siepo at bitmuis.nl  Thu Apr 29 21:00:54 2021
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Thu, 29 Apr 2021 21:00:54 +0200
Subject: To Windows users who have non-ascii UserName
In-Reply-To: <f9e1d091-c12c-4b96-dbdc-e92c57a22f58@w32tex.org>
References: <202104282255.13SMtd6H027043@freefriends.org>
 <dfec5cd7-12c8-b43b-2de2-9c48f4853731@w32tex.org>
 <df379837-089f-19cc-fa43-df13b1872e17@w32tex.org>
 <049FA22E-6DD7-4226-80DC-07F97BA8D3EA@gmail.com>
 <f9e1d091-c12c-4b96-dbdc-e92c57a22f58@w32tex.org>
Message-ID: <YIsCZmJ+h6VKNkYY@bitmuis.nl>

On Thu, Apr 29, 2021 at 01:13:45PM +0900, Akira Kakuto wrote:
> > setx USERPROFILE "c:\Users\SuitableASCIIname"
> 
> Thanks. Unfortunately this does not apply in the present case.
> echo %USERPROFILE% shows
> c:\Users\username
> not the symlink value
> c:\Users\SuitableASCIIname
> 
> In the case
> set USERPROFILE=c:\Users\SuitableASCIIname
> echo %USERPROFILE% shows the symlink value
> c:\Users\SuitableASCIIname
> 
> However this is of course temporal.
> 
> Best,
> Akira

Userprofile seems to be a special case, and hard to override.

As to the symlink: the subst command is available to unprivileged
users. I tested the following batchfile:

reg add HKCU\software\microsoft\windows\currentversion\run /v "S Drive" /d "subst S: %userprofile%"
reg add HKCU\environment /v userprofile /d s:\
reg add HKCU\environment /v TEMP /d S:\appdata\local\temp
reg add HKCU\environment /v TMP /d S:\appdata\local\temp

The userprofile was the only thing that did not survive a re-login,
but the T[E]MP redefinitions held.

Note that the S:-drive came up several seconds after everything
else.

See also https://superuser.com/questions/29072/how-to-make-subst-mapping-persistent-across-reboots


-- 
Siep Kroonenberg

From kakuto at w32tex.org  Thu Apr 29 23:24:08 2021
From: kakuto at w32tex.org (Akira Kakuto)
Date: Fri, 30 Apr 2021 06:24:08 +0900
Subject: To Windows users who have non-ascii UserName
In-Reply-To: <YIsCZmJ+h6VKNkYY@bitmuis.nl>
References: <202104282255.13SMtd6H027043@freefriends.org>
 <dfec5cd7-12c8-b43b-2de2-9c48f4853731@w32tex.org>
 <df379837-089f-19cc-fa43-df13b1872e17@w32tex.org>
 <049FA22E-6DD7-4226-80DC-07F97BA8D3EA@gmail.com>
 <f9e1d091-c12c-4b96-dbdc-e92c57a22f58@w32tex.org>
 <YIsCZmJ+h6VKNkYY@bitmuis.nl>
Message-ID: <b0f2bec2-84c6-61ad-801f-ef13a0c967e6@w32tex.org>

On 2021/04/30 4:00, Siep Kroonenberg wrote:
> On Thu, Apr 29, 2021 at 01:13:45PM +0900, Akira Kakuto wrote:
>>> setx USERPROFILE "c:\Users\SuitableASCIIname"
>>
>> Thanks. Unfortunately this does not apply in the present case.
>> echo %USERPROFILE% shows
>> c:\Users\username
>> not the symlink value
>> c:\Users\SuitableASCIIname
>>
>> In the case
>> set USERPROFILE=c:\Users\SuitableASCIIname
>> echo %USERPROFILE% shows the symlink value
>> c:\Users\SuitableASCIIname
>>
>> However this is of course temporal.
>>
>> Best,
>> Akira
> 
> Userprofile seems to be a special case, and hard to override.
> 
> As to the symlink: the subst command is available to unprivileged
> users. I tested the following batchfile:
> 
> reg add HKCU\software\microsoft\windows\currentversion\run /v "S Drive" /d "subst S: %userprofile%"
> reg add HKCU\environment /v userprofile /d s:\
> reg add HKCU\environment /v TEMP /d S:\appdata\local\temp
> reg add HKCU\environment /v TMP /d S:\appdata\local\temp
> 
> The userprofile was the only thing that did not survive a re-login,
> but the T[E]MP redefinitions held.
> 
> Note that the S:-drive came up several seconds after everything
> else.
> 
> See also https://superuser.com/questions/29072/how-to-make-subst-mapping-persistent-across-reboots

I have changed runscript.tlu to support non-ascii user name
in TeXWorks, and have sent a patch to texdoc maintainers to
support non-ascii user name in texdoc.
So I hope those problems in windows will be solved soon.

Thanks,
Akira


