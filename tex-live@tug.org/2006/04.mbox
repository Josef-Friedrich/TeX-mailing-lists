From pflynn at ucc.ie  Wed Apr  5 15:27:31 2006
From: pflynn at ucc.ie (Peter Flynn)
Date: Wed Apr  5 15:27:43 2006
Subject: [tex-live] TL2003+XEmacs/Win -->TL2005
Message-ID: <1144243651.2841.33.camel@oimelc.ucc.ie>

I had a call from a user who has TL2003 on Windows with XEmacs and wants
to upgrade to TL2005. Is XEmacs for Windows included in the TL2005 DVD?
If not, can he selectively delete his TL2003 installation except for the
XEmacs, and expect it to work with TL2005?

///Peter

From karl at freefriends.org  Thu Apr  6 00:20:52 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu Apr  6 00:21:13 2006
Subject: [tex-live] TL2003+XEmacs/Win -->TL2005
In-Reply-To: <1144243651.2841.33.camel@oimelc.ucc.ie>
Message-ID: <200604052220.k35MKqh23676@f7.net>

Hi Peter,

    I had a call from a user who has TL2003 on Windows with XEmacs and wants
    to upgrade to TL2005. Is XEmacs for Windows included in the TL2005 DVD?

I don't believe so.

    If not, can he selectively delete his TL2003 installation except for the
    XEmacs, and expect it to work with TL2005?

Egad.  I don't know.  Of course XEmacs and TeX are independently created
and maintained, as I'm sure you know.  However, if he installed XEmacs
as part of TL 2003, it's possible that some sort of interdependency was
introduced by that install.

Perhaps it would be possible to install TL 2005 in a completely new
directory (without deleting anything) and then see if the old xemacs
functions well enough.  That would be what I'd try first, anyway.
(Saving the registry first couldn't hurt either; I don't know if TL05
Windows install affects it.)

If he does not need dvi support, he could install xemtex directly from
Fabrice's packages.

Hope it works out,
karl
From reinhard.kotucha at web.de  Thu Apr  6 01:20:02 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu Apr  6 01:20:49 2006
Subject: [tex-live] TL2003+XEmacs/Win -->TL2005
In-Reply-To: <200604052220.k35MKqh23676@f7.net>
References: <1144243651.2841.33.camel@oimelc.ucc.ie>
	<200604052220.k35MKqh23676@f7.net>
Message-ID: <17460.20642.372384.633697@zarniwoop.ms25.local>

>>>>> "Karl" == Karl Berry <karl@freefriends.org> writes:

  > Hi Peter, I had a call from a user who has TL2003 on Windows with
  > XEmacs and wants to upgrade to TL2005. Is XEmacs for Windows
  > included in the TL2005 DVD?

  > I don't believe so.

Some thoughts regarding TL-2006:

TL-2005 provides GNU-Emacs but unfortunately there is no configuration
to make it usable for TeX conveniently.

A colleague used TL-2005 and it was not easy to install auc-tex under
Windows because we couldn't make use of the Makefile.  Fortunately, I
have cygwin on my machine.  Of course, everything can be done manually
but it takes more time and this is not what I'm payed for.

For TL-2006 it would be nice to have a site-start.el which loads
auc-tex and reftex (at least).  It would be even much nicer if we can
convince David Kastrup to look into it to make sure everything is
installed properly and up-to-date.

I'm sure that a well configured Emacs is also very useful under UNIX
when people use the live system.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From staw at gust.org.pl  Thu Apr  6 01:27:33 2006
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu Apr  6 01:26:50 2006
Subject: [tex-live] TL2003+XEmacs/Win -->TL2005
In-Reply-To: <1144243651.2841.33.camel@oimelc.ucc.ie>
Message-ID: <Pine.LNX.4.44.0604060119500.24129-100000@re86.internetdsl.tpnet.pl>

On Wed, 5 Apr 2006, Peter Flynn wrote:

> I had a call from a user who has TL2003 on Windows with XEmacs and wants
> to upgrade to TL2005. Is XEmacs for Windows included in the TL2005 DVD?
> If not, can he selectively delete his TL2003 installation except for the
> XEmacs, and expect it to work with TL2005?

Unfortunatelly, xemacs is not included in TL2005. I think that he can
install TL2005 and then unzip
xemacs.zip
xemacs-win32.zip 
in the root of the installation (say c:\texlive2005\)
Both files, somehow more fresh than in TL2003, can be found on:
ftp://ftp.dante.de/pub/tex/systems/win32/fptex/0.7/support/

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From peter at silmaril.ie  Thu Apr  6 02:17:34 2006
From: peter at silmaril.ie (Peter Flynn)
Date: Thu Apr  6 02:17:41 2006
Subject: [tex-live] TL2003+XEmacs/Win -->TL2005
In-Reply-To: <200604052220.k35MKqh23676@f7.net>
References: <200604052220.k35MKqh23676@f7.net>
Message-ID: <44345E1E.2050109@silmaril.ie>

Karl Berry wrote:
> Hi Peter,
> 
>     I had a call from a user who has TL2003 on Windows with XEmacs and wants
>     to upgrade to TL2005. Is XEmacs for Windows included in the TL2005 DVD?
> 
> I don't believe so.

OK.

>     If not, can he selectively delete his TL2003 installation except for the
>     XEmacs, and expect it to work with TL2005?
> 
> Egad.  I don't know.  Of course XEmacs and TeX are independently created
> and maintained, as I'm sure you know.  However, if he installed XEmacs
> as part of TL 2003, it's possible that some sort of interdependency was
> introduced by that install.

That's what I wondered. Like it's been configured for specific paths or
something.

> Perhaps it would be possible to install TL 2005 in a completely new
> directory (without deleting anything) and then see if the old xemacs
> functions well enough.  That would be what I'd try first, anyway.
> (Saving the registry first couldn't hurt either; I don't know if TL05
> Windows install affects it.)

That could hurt :-)

> If he does not need dvi support, he could install xemtex directly from
> Fabrice's packages.

I'll ask him. Thanks for the pointers.

///Peter
From wl at gnu.org  Thu Apr  6 07:35:46 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Thu Apr  6 07:36:17 2006
Subject: [tex-live] TL2003+XEmacs/Win -->TL2005
In-Reply-To: <17460.20642.372384.633697@zarniwoop.ms25.local>
References: <1144243651.2841.33.camel@oimelc.ucc.ie>
	<200604052220.k35MKqh23676@f7.net>
	<17460.20642.372384.633697@zarniwoop.ms25.local>
Message-ID: <20060406.073546.150028276.wl@gnu.org>


> A colleague used TL-2005 and it was not easy to install auc-tex under
> Windows because we couldn't make use of the Makefile.

BTW, the newly released GNU make 3.81 seems to run natively on
Windows, according to the NEWS file.


    Werner
From reinersteib+gmane at imap.cc  Thu Apr  6 09:51:06 2006
From: reinersteib+gmane at imap.cc (Reiner Steib)
Date: Thu Apr  6 10:25:17 2006
Subject: [tex-live] Re: TL2003+XEmacs/Win -->TL2005
References: <1144243651.2841.33.camel@oimelc.ucc.ie>
	<200604052220.k35MKqh23676@f7.net>
	<17460.20642.372384.633697@zarniwoop.ms25.local>
	<20060406.073546.150028276.wl@gnu.org>
Message-ID: <v964lnm9at.fsf@marauder.physik.uni-ulm.de>

On Thu, Apr 06 2006, Werner LEMBERG wrote:

>> A colleague used TL-2005 and it was not easy to install auc-tex under
>> Windows 

On ftp://alpha.gnu.org/gnu/auctex/ there's an AUCTeX 11.82 version
bundled with a pre-build Emacs 22 (CVS) for Windows.

>> because we couldn't make use of the Makefile.
>
> BTW, the newly released GNU make 3.81 seems to run natively on
> Windows, according to the NEWS file.

I think you need not only make, but also several other GNU or Unix
tools (configure, ...).  MSYS or Cygwin are sufficient[1].  For Emacs
you need these tools anyhow, since M-x grep, ... won't work without
MSYS or Cygwin.

Bye, Reiner.

[1] See INSTALL.windows or
    (info "(auctex)Installation under MS Windows")
-- 
       ,,,
      (o o)
---ooO-(_)-Ooo---  |  PGP key available  |  http://rsteib.home.pages.de/

From pflynn at ucc.ie  Thu Apr  6 15:00:58 2006
From: pflynn at ucc.ie (Peter Flynn)
Date: Thu Apr  6 15:01:36 2006
Subject: [tex-live] TL2003+XEmacs/Win -->TL2005
Message-ID: <1144328459.14382.63.camel@oimelc.ucc.ie>

The user reports that Staszek Wawrykiewicz's suggestion to
install TL2005 and then unzip xemacs.zip and  xemacs-win32.zip
from ftp://ftp.dante.de/pub/tex/systems/win32/fptex/0.7/support/
into the root of the installation seems to work fine.

///Peter



From jmsmith at ecs.umass.edu  Wed Apr  5 16:52:02 2006
From: jmsmith at ecs.umass.edu (J M Smith)
Date: Thu Apr  6 17:58:00 2006
Subject: [tex-live] install a package called powerdot
Message-ID: <004901c658c0$7ff95690$95587780@ecs.umass.edu>

Dear Tex-Live:
    I wanted to install a package called powerdot from ctan which is bundled
with the tex-live disc 2005.
I place the dvd in the drive went to the program tex-live and clicked on
maintenance to install a package through tex-live. I asked to install the
package from the dvd and had tex-live search on the dvd for the directories:
        ctan/macros/latex/contrib/powerdot/
then asked it to install the package and the program crashes (numerous
times). Perhaps I don't know which directory to include?
    I know that I am doing something wrong but cannot figure out what is
wrong. Anyone to help?

Regards,
Jim



J. MacGregor Smith
Professor
Department of Mechanical and Industrial Engineering
Elab Building
University of Massachusetts
Amherst MA 01003
Phone (413) 545-4542
Fax (413) 545-1027
 http://www.ecs.umass.edu/mie/faculty/smith/

From frank at kuesterei.ch  Fri Apr  7 20:17:17 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri Apr  7 21:14:45 2006
Subject: [tex-live] XML/DOM directory in Build/tools
Message-ID: <86ek099ro2.fsf@alhambra.kuesterei.ch>

Hi,

can anybody tell me what the history of that directory is?  I'm trying
to run a script that has been derived from the texlive scripts from
outside the texlive tree (actually, from outside Norbert's Debianization
tree which contains a copy of the Tools directory), and it only works if
the XML subdirectory is copied along, even if XML::DOM is installed on
my system.

I only have version 1.43 of that Perl package, but the diff I got
between it and the texlive tree doesn't change much if I compare with
1.44 instead.

Have these changes communicated to the XML::DOM developers?  Or is it
planned instead to extract the changes to a separate module?

Or does it just work and nobody dares to touch it?

TIA, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)

From preining at logic.at  Sat Apr  8 07:24:42 2006
From: preining at logic.at (Norbert Preining)
Date: Sat Apr  8 07:24:45 2006
Subject: [tex-live] XML/DOM directory in Build/tools
In-Reply-To: <86ek099ro2.fsf@alhambra.kuesterei.ch>
References: <86ek099ro2.fsf@alhambra.kuesterei.ch>
Message-ID: <20060408052442.GA26345@gamma.logic.tuwien.ac.at>

On Fre, 07 Apr 2006, Frank K?ster wrote:
> Or does it just work and nobody dares to touch it?

I assume this one. The first scripting was done AFAIR by Fabrice, and
now everyone uses the stuff, but hardly anyone touches it.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining AT logic DOT at>             Universit? di Siena
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
He dropped his voice still lower. In the stillness, a fly
would not have dared cleat its throat.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy
From s-canagaratna at onu.edu  Sat Apr  8 10:30:49 2006
From: s-canagaratna at onu.edu (Sebastian Canagaratna)
Date: Sat Apr  8 18:31:45 2006
Subject: [tex-live] Tex-Live 2005 DVD: Permission Denied
Message-ID: <20060408083049.GA8968@canax3.onu.edu>


I am trying to run texlive from the dvd. I select d, then return to main
menun type r and everything goes OK. Then I set the PATH and
TEXMFSYSVAR, and try tex --version, and I get:permission denied. I am
unable to see anything about this in the archives. I get this problem
both at home and at my office machine. When I do echo $PATH, or
$TEXMFSYSVAR, I see that these variables have been set properly.

I already have tetex on my machine from Debian (unstable). Is this the
problem? I'd appreciate any suggestions to get more information about
this problem.


Thanks.

Sebastian Canagaratna
Department of CHemistry
Ohio Northern University
Ada, OH 45810
From karl at freefriends.org  Sat Apr  8 20:36:39 2006
From: karl at freefriends.org (Karl Berry)
Date: Sat Apr  8 20:36:46 2006
Subject: [tex-live] Tex-Live 2005 DVD: Permission Denied
In-Reply-To: <20060408083049.GA8968@canax3.onu.edu>
Message-ID: <200604081836.k38IadK19874@f7.net>

Hi Sebastian,

    tex --version, and I get:permission denied. 

Hmm, a new problem.  The existing teTeX shouldn't be the issue.

Anyway, try doing
  ls -l /your/texlive/root/bin/i386-linux/tex
(replace /your/texlive/root with the actual directory you installed
into, of course.)  If those permissions don't look something like
rwxr-xr-x (with the x's), something very strange happened at installation.

(If you're not using GNU/Linux, replace i386-linux with the appropriate
system directory.)

Also try 
  which tex
to make sure that it is finding the tex you intend.  Assuming you use bash,
  type -all tex
will show you all the tex's in PATH, which can also be helpful.

We'll get to the bottom of it ...

Best,
Karl
From s-canagaratna at onu.edu  Sat Apr  8 14:20:02 2006
From: s-canagaratna at onu.edu (Sebastian Canagaratna)
Date: Sat Apr  8 22:31:46 2006
Subject: [tex-live] Re: Tex-Live 2005 DVD: Permission Denied
Message-ID: <20060408122002.GA9949@canax3.onu.edu>

Klaus' suggestion of trying -o exec with mount seems to work.
My /etc/fstab at home has iso9660, ro, user, noauto
so I do not understand why the dvd should mound with the noexec option.
I looked at my office machine: there indeed the fstab has the noexec
option, so I understand why it does not work.

In any case, when I do:

mount -t iso9660 -o exec /dev/hdc /cdrom

I have no problem. I have not tried it on my office machine, but I am
sure the problem must be the same.

Thanks to Klaus and Karl for looking into the matter. I will not swear to
it, but I am sure I have run programs from my dvd at home before. I will
investigate this further.

Sebastian
From karl at freefriends.org  Sun Apr  9 02:40:19 2006
From: karl at freefriends.org (Karl Berry)
Date: Sun Apr  9 02:40:38 2006
Subject: [tex-live] install a package called powerdot
In-Reply-To: <004901c658c0$7ff95690$95587780@ecs.umass.edu>
Message-ID: <200604090040.k390eJF32382@f7.net>

Hi Jim,

(Sorry for the delayed reply.)

            ctan/macros/latex/contrib/powerdot/
    then asked it to install the package and the program crashes (numerous
    times). Perhaps I don't know which directory to include?
        I know that I am doing something wrong but cannot figure out what is
    wrong. Anyone to help?

I assume you're on Windows.  I'm not sure exactly sure which directory
the Windows program wants to be told, but I believe it's something under
texlive/..., rather than ctan/...  Maybe
ctan/texmf-dist/tpm/powerdot.tpm is what it needs to read.  Staszek, Pawel?

Also, powerdot was actually included in TeX Live 2005 already, so
perhaps it's already there?  It should be if you did the "full" install.

Best,
Karl

From staw at gust.org.pl  Sun Apr  9 06:39:24 2006
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sun Apr  9 07:18:02 2006
Subject: [tex-live] install a package called powerdot
In-Reply-To: <200604090040.k390eJF32382@f7.net>
Message-ID: <Pine.LNX.4.44.0604090540410.9412-100000@re86.internetdsl.tpnet.pl>

On Sat, 8 Apr 2006, Karl Berry wrote:

>> ctan/macros/latex/contrib/powerdot/
>> then asked it to install the package and the program crashes (numerous
>> times). Perhaps I don't know which directory to include?
>> I know that I am doing something wrong but cannot figure out what is
>> wrong. Anyone to help?
> 
> I assume you're on Windows.  I'm not sure exactly sure which directory
> the Windows program wants to be told, but I believe it's something under
> texlive/..., rather than ctan/...  Maybe
> ctan/texmf-dist/tpm/powerdot.tpm is what it needs to read.  Staszek, Pawel?
> 
> Also, powerdot was actually included in TeX Live 2005 already, so
> perhaps it's already there?  It should be if you did the "full" install.

Well, it is not so clear for me what operating system is in use. Anyway, 
a package *as distributed* on CTAN should be installed (sometimes
preprocessed before the installation) according to the attached 
documentation (if available). CTAN is a world wide repository of 
(La)TeX's packages prepared by so many authors, but also in so many 
ways, that means: not always "ready-to-run"...

Please, do never install packages directly from CTAN using TL tools like
install-pkg.sh (unix/linux) or tlpmgui (windows), as they are designed
only for the TeX Live CD/DVD distribution (hence then ready-to-run).

Ps. as for powerdot, CTAN has now an updated version, so you can consider
to install the needed (working) files for your own in 
.../texmf-local/tex/latex/powerdot/
Do not forgot to run mktexlsr after that.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl

From frank at kuesterei.ch  Mon Apr 10 17:07:36 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Mon Apr 10 18:05:02 2006
Subject: [tex-live] XML/DOM directory in Build/tools
In-Reply-To: <86ek099ro2.fsf@alhambra.kuesterei.ch> (
	=?iso-8859-1?q?Frank_K=FCster's_message_of?= "Fri, 07 Apr 2006 20:17:17
	+0200")
References: <86ek099ro2.fsf@alhambra.kuesterei.ch>
Message-ID: <86lkud79l3.fsf@alhambra.kuesterei.ch>

Frank K?ster <frank@kuesterei.ch> wrote:

> Hi,
>
> can anybody tell me what the history of that directory is?  I'm trying
> to run a script that has been derived from the texlive scripts from
> outside the texlive tree (actually, from outside Norbert's Debianization
> tree which contains a copy of the Tools directory), and it only works if
> the XML subdirectory is copied along, even if XML::DOM is installed on
> my system.

Okay, I have investigated this.  The version in texlive seems to be
derived from upstream's version 1.42, it lacks a fix introduced in 1.43
that doesn't seem to affect us (either way).  The only changes are in
DOM.pm, not in the files in the DOM subdirectory.

It does have some additional features which could be summarized under
the keyword "beautification" (actually this is a variable name).  

With the upstream version, files extracted from the lists in the TPMs
may have trailing or leading whitespace, and if there's an empty entry
(like this: <TPM:DocFiles size="whatever"></TPM:DocFiles>), the list of
filenames contains an empty string (or a string with only whitespace).

There are some more beautifying changes which *add* whitespace, namely
indenting, but I didn't encounter a case where this affected me.

If you want to use the scripts with upstream's XML:DOM, this piece of
code might help:

    foreach (@RunFiles) { 
      s/\s//;
      s@^[\s\n]*(.*)[\s\n]*$@$1@so;
      s@\n\s*@\n@gm;
    };

which is actually copied from the diff I get with upstream's XML::DOM. 

Can I assume that the changed Fabrice made are in the Public Domain and
submit it upstream?  Or is it GPL, or what?

Attached is a complete diff.  The hunk

@@ -4198,7 +4258,7 @@
 {
     my ($class, %args) = @_;
 
-    $args{Style} = 'XML::Parser::Dom';
+    $args{Style} = 'Dom';
     $class->SUPER::new (%args);
 }
 

Seems to be the (main? only?) change upstream made between 1.42 and
1.43. 

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)

From reinhard.kotucha at web.de  Mon Apr 10 21:19:37 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon Apr 10 21:20:24 2006
Subject: [tex-live] pgf and plain TeX
Message-ID: <17466.45001.488667.47632@zarniwoop.ms25.local>

TeXLive-2005 unfortunately provides a version of the pgf package which
does not work with plain tex.

It seems that LaTeX users are not affected.

However, it is now possible for UNIX users to (mis)use the program
getnonfreefonts[-sys] to install the latest version from CTAN.

The command

   getnonfreefonts-sys pgf

installs pgf in $TEXMFLOCAL while

   getnonfreefonts pgf

installs it in $TEXMFHOME.


BTW., getnonfreefonts currently supports the following fonts:

   eurofont:      Euro symbols (Adobe).
   dayroman:      DayRoman (Apostrophiclabs)
   garamond:      GaramondNo8 (URW).
   lettergothic:  LetterGothic (URW).
   luximono:      LuxiMono (Bigelow & Holmes)
   mathdesign:    Math fonts for Charter, Garamond and
                  Utopia (Paul Pichaureau).
   urw-arial:     Arial (URW)
   utopia:        Utopia (Adobe).
   webomints:     Webomints (Galapagos Design Group).

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Mon Apr 10 22:43:48 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon Apr 10 22:43:52 2006
Subject: [tex-live] TL logs
Message-ID: <200604102043.k3AKhmC02367@f7.net>

    According to the file cdbuild/logs, the last update to the TeXLive
    repository (even that from the svn) has happened 2005-Nov-01.  Is this
    correct?  Hopefully, those log entries are continued...

I've finally rewritten and reenabled the script to update the TL log
files, now in Build/cdbuild/logs/svnlog.  (I decided to change the name
to avoid possible conflicts when rotating ...)

Best,
k
From wl at gnu.org  Tue Apr 11 00:43:43 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Apr 11 00:43:36 2006
Subject: [tex-live] Re: TL logs
In-Reply-To: <200604102043.k3AKhmC02367@f7.net>
References: <200604102043.k3AKhmC02367@f7.net>
Message-ID: <20060411.004343.71089399.wl@gnu.org>


> I've finally rewritten and reenabled the script to update the TL log
> files, now in Build/cdbuild/logs/svnlog.

Great!  Thanks a lot.


    Werner
From frank at kuesterei.ch  Tue Apr 11 07:49:33 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Tue Apr 11 08:46:59 2006
Subject: [tex-live] XML/DOM directory in Build/tools
In-Reply-To: <86lkud79l3.fsf@alhambra.kuesterei.ch> (
	=?iso-8859-1?q?Frank_K=FCster's_message_of?= "Mon, 10 Apr 2006 17:07:36
	+0200")
References: <86ek099ro2.fsf@alhambra.kuesterei.ch>
	<86lkud79l3.fsf@alhambra.kuesterei.ch>
Message-ID: <86psjooe4y.fsf@alhambra.kuesterei.ch>

Frank K?ster <frank@kuesterei.ch> wrote:

> Attached is a complete diff. 

I always manage to forget this...

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)

-------------- next part --------------
Index: tpm2licenses-new.pl
===================================================================
--- tpm2licenses-new.pl	(.../texlive/trunk/LocalTPM/tpm2licenses-new.pl)	(revision 1182)
+++ tpm2licenses-new.pl	(.../tex-common/trunk/scripts/tpm2licenses)	(revision 1182)
@@ -6,10 +6,14 @@
 # Lists for every filename.tpm the license as specified in the catalogue
 #
 # usage:
-# perl tpm2licenses.pl <options>
+# perl tpm2licenses.pl <options> [tpm file]
 # where <options> =
-# 	--debug		Put out a lot of debug
+# 	--catalogue
+#       --nocheckcatalogue
+#       --tpmdir
+#       --package
 # 	--master=Path	path to the Master
+# optional tpm file: check only that one
 #
 
 BEGIN {   # get our other local perl modules.
@@ -20,12 +24,14 @@
 #  unshift (@INC, "$mydir/..");
 }
 
-#use Strict;
-use Getopt::Long;
+use strict;
+use Data::Dumper;
+#use Getopt::Long;
 use File::Basename;
 use File::Copy;
 use File::Path;
 use File::Temp qw/ tempfile tempdir /;
+use AppConfig;
 #use XML::DOM;
 use Cwd;
 #use FileUtils qw(canon_dir cleandir make_link newpath member
@@ -34,140 +40,381 @@
 #use Tpm;
 
 
-$opt_debug=0;
-$opt_master=".";
-$opt_catalogue="/src/TeX/texcatalogue/";
+# initialize AppConfig
+my $config = AppConfig->new("master=s", "catalogue=s", "nocheckcatalogue", "tpmdir=s", "package=s", "what=s");
 
-GetOptions ("debug!", 	# debug mode
-	"master=s" => \$opt_master,	# location of Master
-	"catalogue=s" => \$opt_catalogue	# location of the catalogue
-	);
- 
-if (!($opt_master =~ m,/.*$,,)) {
-    $Master = `pwd`;
-    chomp($Master);
-    $Master .= "/$opt_master";
-} else {
-    $Master = $opt_master;
-}
-my $TpmGlobalPath = $Master;
-my $DataGlobalPath = $Master;
+# parse configurationfile, if present
+my @cfgDirs = (".","./debian","..","~");
+my $cfgName = ".tpm2license.cfg";
 
+for my $cfgDir (@cfgDirs) {
+    if ( -r "$cfgDir/$cfgName" ) {
+	print STDERR "Using configuration file $cfgDir/$cfgName\n";
+	$config->file("$cfgDir/$cfgName");
+      };
+  };
+# now parse commandline
+$config->getopt();
+
+# assign conffile, commandline or default values:
+my $Master = $config->master() ? $config->master() : "." ;
+my $Catalogue = $config->catalogue() ? $config->catalogue() : "/src/TeX/texcatalogue/" ;
+my $what = $config->what() ? $config->what() : "files";
+my $debian_package = $config->package() ? $config->package() : "tetex-base";
+my $tpmdir = $config->tpmdir() ? $config->tpmdir() : "./debian/tpm";
+my $nocatalogue = $config->nocheckcatalogue() ? $config->nocheckcatalogue() : '';
+
+# if (!($opt_master =~ m,/.*$,,)) {
+#     $Master = `pwd`;
+#     chomp($Master);
+#     $Master .= "/$opt_master";
+# } else {
+#     $Master = $opt_master;
+# }
+# $what = $opt_what;
+
+if ($debian_package) {
+  die "Unknown Debian package: $debian_package." unless
+      ( $debian_package =~ /^tetex-base$/    || 
+	$debian_package =~ /^tetex-src$/     ||
+	$debian_package =~ /^texlive-base$/  ||
+	$debian_package =~ /^texlive-extra$/ ||
+	$debian_package =~ /^texlive-lang$/  ||
+	$debian_package =~ /^texlive-doc$/   ||
+	$debian_package =~ /^texlive-bin$/     );
+};
+
+# my $TpmGlobalPath = $Master;
+# my $DataGlobalPath = $Master;
+
+# texlive
+# my $TpmDirGlob = $Master . "./texmf-dist/tpm/*.tpm";
+# teTeX
+my $TpmDirGlob = "$tpmdir/*.tpm";
+
+# only needed if we're in the sourcedir, so no need to bother
+my $sourceDir;
+chomp( $sourceDir = `pwd`); 
+$sourceDir .= "/";
+
 #
 # put Master/Tools/ into the include path to find TeX live perl modules
 #
-unshift (@INC, "$Master/Tools");
+# unshift (@INC, "$Master/Tools");
 #
 # these we can only load now that we have correctly set the path to Master
 #
-require Strict;
+# require Strict;
 require XML::DOM;
 require FileUtils;
 import FileUtils qw(canon_dir cleandir make_link newpath member
-	normalize substitute_var_val dirname diff_list remove_list
-	rec_rmdir sync_dir walk_dir start_redirection stop_redirection);
+		    normalize substitute_var_val diff_list remove_list
+		    rec_rmdir sync_dir walk_dir start_redirection stop_redirection);
 require Tpm;
 #
 # what the hell, how do I import this array from Tpm.pm ???
 #
 my %Tpm2Catalogue = (
-        "ctib" => "ctib4tex",
-        "CJK" => "cjk",
-        "bayer" => "universa",
-        "bigfoot" => "suffix",
-        "cb" => "cbgreek",
-        "cd-cover" => "cdcover",
-        "cmex" => "cmextra",
-        "cs" => "csfonts",
-        "cyrplain" => "t2",
-        "devanagr" => "devanagari",
-        "eCards" => "ecards",
-        "ESIEEcv" => "esieecv",
-        "euclide" => "pst-eucl",
-        "GuIT" => "guit",
-        "HA-prosper" => "prosper",
-        "ibycus" => "ibycus4",
-        "ibygrk" => "ibycus4",
-        "IEEEconf" => "ieeeconf",
-        "IEEEtran" => "ieeetran",
-        "iso" => "isostds",
-        "iso10303" => "isostds",
-        "jknapltx" => "jknappen",
-        "kastrup" => "binhex",
-        "le" => "frenchle",
-        "mathtime" => "mathtime-ltx",
-        "omega-devanagari" => "devanagari-omega",
-        "pdftexdef" => "pdftex-def",
-        "procIAGssymp" => "prociagssymp",
-        "resume" => "res",
-        "SIstyle" => "sistyle",
-        "SIunits" => "siunits",
-        "syntax" => "syntax2",
-        "Tabbing" => "tabbing" );
+		     "ctib" => "ctib4tex",
+		     "CJK" => "cjk",
+		     "bayer" => "universa",
+		     "bigfoot" => "suffix",
+		     "cb" => "cbgreek",
+		     "cd-cover" => "cdcover",
+		     "cmex" => "cmextra",
+		     "cs" => "csfonts",
+		     "cyrplain" => "t2",
+		     "devanagr" => "devanagari",
+		     "eCards" => "ecards",
+		     "ESIEEcv" => "esieecv",
+		     "euclide" => "pst-eucl",
+		     "GuIT" => "guit",
+		     "HA-prosper" => "prosper",
+		     "ibycus" => "ibycus4",
+		     "ibygrk" => "ibycus4",
+		     "IEEEconf" => "ieeeconf",
+		     "IEEEtran" => "ieeetran",
+		     "iso" => "isostds",
+		     "iso10303" => "isostds",
+		     "jknapltx" => "jknappen",
+		     "kastrup" => "binhex",
+		     "le" => "frenchle",
+		     "mathtime" => "mathtime-ltx",
+		     "omega-devanagari" => "devanagari-omega",
+		     "pdftexdef" => "pdftex-def",
+		     "procIAGssymp" => "prociagssymp",
+		     "resume" => "res",
+		     "SIstyle" => "sistyle",
+		     "SIunits" => "siunits",
+		     "syntax" => "syntax2",
+		     "Tabbing" => "tabbing" );
 
 my $parser = new XML::DOM::Parser;
 my $startdir=getcwd();
 chdir($startdir);
 File::Basename::fileparse_set_fstype('unix');
 
-&list_licenses();
+my @TpmList;
 
+if (@ARGV) {
+  # we have a (list of) packages on the command line
+  @TpmList = @ARGV;
+}
+else {
+  create_tpmlist();
+};
+
+list_licenses();
+
 1;
 
+my $LocalTPM;
+my $licline;
+my $bn;
+my $pkgcat;
+my $node;
+my $printfiles = '';
+
+sub create_tpmlist {
+
+  if 	( $debian_package =~ /^tetex-/ ) {
+    foreach (<$TpmDirGlob >) {push(@TpmList,$_)};
+  };
+
+  if 	( $debian_package =~ /^texlive-/ ) {
+    my $cfgfile = "../../" . $debian_package . ".tpm4licenses.cfg";
+    my @cfgLines;
+    open CFGFILE, $cfgfile or die "could not open $cfgfile";
+    while (<CFGFILE>) {
+      # this could go into one line (next if...) if only Emacs would grok it...
+      if (m/^#/) { 
+	  next ; 
+	}
+      chomp;
+      push(@cfgLines,$_);
+    };
+    for (@cfgLines) {
+      my $tpmFullname;
+      if ( -f "texmf/tpm/" . $_ ) {
+	$tpmFullname = "texmf/tpm/" . $_
+	  }
+      elsif ( -f "texmf-dist/tpm/" . $_ ) {
+	$tpmFullname = "texmf-dist/tpm/" . $_
+	  }
+      elsif ( -f "texmf-doc/tpm/" . $_ ) {
+	$tpmFullname = "texmf-doc/tpm/" . $_
+	  }
+      else {
+	print STDERR "Could not find $_\n";
+	exit 1;
+      };
+      push(@TpmList,$tpmFullname);
+    };
+  }; #end texlive
+};
+
 sub list_licenses {
-   foreach $f (<./texmf-dist/tpm/*.tpm>) {
-      $licline = "";
-      $bn = &basename($f,".tpm");
-      if (defined($Tpm2Catalogue{$bn})) {
-        $pkgcat = $Tpm2Catalogue{$bn};
-      } else {
-        $pkgcat = $bn;
-      }
-      $licline .= "$bn: ";
-      my $fletter = substr($pkgcat, 0, 1);
-      my $catname = "${opt_catalogue}/entries/$fletter/${pkgcat}.xml";
+  foreach $LocalTPM (@TpmList) {
+    $licline = "";
+    $bn = &basename($LocalTPM,".tpm");
+    if (defined($Tpm2Catalogue{$bn})) {
+      $pkgcat = $Tpm2Catalogue{$bn};
+    } else {
+      $pkgcat = $bn;
+    }
+    $licline .= "$bn: ";
+    my $fletter = substr($pkgcat, 0, 1);
+    my $catname = "${Catalogue}/entries/$fletter/${pkgcat}.xml";
+    if (! -r $catname) {
+      $catname = "$tpmdir/${pkgcat}.xml";
       if (! -r $catname) {
-        $licline .= "not-in-catalogue";
-	print "$licline\n";
-	next;
-      } else {
-        my $cat = $parser->parsefile($catname);
-	my ($version, $ltype, $lversion, $lchecked, $luser);
-	$node = $cat->getElementsByTagName("version")->item(0);
-	if ($node) {
-	  $version = $node->getAttribute("number");
-	}
-	$node = $cat->getElementsByTagName("license")->item(0);
-	if ($node) {
-	  # ok we have a license entry in the
-	  $ltype = $node->getAttribute("type");
-	  $lversion = $node->getAttribute("version");
-	  $lchecked = $node->getAttribute("checked");
-	  $luser = $node->getAttribute("username");
-	}
-	if ("$lversion$lchecked$luser" eq "") {
-	  if ("$ltype" eq "") {
-	    $licline .= "unknown";
-	  } else {
-	    $licline .= "$ltype (unverified)";
-	  }
+	$licline .= "not-in-catalogue";
+	unless ($nocatalogue || $pkgcat =~ m/^individual.*/) {
 	  print "$licline\n";
 	  next;
+	};
+# 	  } else {
+# 	      print STDERR "found ${pkgcat}.xml in $tpmdir\n";
+      };
+    }
+    my $ltype;
+    unless ($nocatalogue  || $pkgcat =~ m/^individual.*/) { 
+      #don't try to parse the xml file if we don't have a catalogue
+      my $cat = $parser->parsefile($catname);
+      my ($version, $lversion, $lchecked, $luser, $lfile);
+      $node = $cat->getElementsByTagName("version")->item(0);
+      if ($node) {
+	$version = $node->getAttribute("number");
+      }
+      $node = $cat->getElementsByTagName("license")->item(0);
+      if ($node) {
+	# ok we have a license entry in there
+	$ltype = $node->getAttribute("type");
+	$lversion = $node->getAttribute("version");
+	$lchecked = $node->getAttribute("checked");
+	$luser = $node->getAttribute("username");
+	$lfile = $node->getAttribute("file");
+      }
+      if ("$lversion$lchecked$luser" eq "") {
+	if ("$ltype" eq "") {
+	  $licline .= "unknown";
+	} else {
+	  $licline .= "$ltype (unverified)";
+	  # we know the license, it makes sense to output the files
+	  $printfiles = '1';
 	}
-	$licline .= "$ltype (verification data:$version:$lversion:$lchecked:$luser)";
-	print "$licline\n";
+      } else {
+	$version ||= ''; # make sure we have no uninitialized string values
+	$lversion ||= '';
+	$licline .= "$ltype (verification data:$version:$lversion:$lchecked:$luser:$lfile)";
+	$printfiles = '1';
       }
-   }
+    }
+    if ( $pkgcat =~ m/^individual.*/ ) {
+      $ltype = $pkgcat;
+      $ltype =~ s/individual_(.*)/$1/;
+      $licline = "$pkgcat $ltype (verification data:::::header)";
+      $printfiles = '1';
+    };
+    $what eq "license" && print "$licline\n";
+    # we know the license, it makes sense to output the files
+    $what eq "files" && ($printfiles || $nocatalogue) && printFiles($LocalTPM,$licline);
+  }
 
-#   foreach $f (<./texmf-doc/tpm/*.tpm>) {
-#      my $dat = $parser->parsefile($f);
-#      if (defined($dat->getElementsByTagName("TPM:License")) &&
-#          defined($dat->getElementsByTagName("TPM:License")->item(0)) &&
-#	  defined($dat->getElementsByTagName("TPM:License")->item(0)->getFirstChild)) {
-#	  print &basename($f,".tpm"), "\t", $dat->getElementsByTagName("TPM:License")->item(0)->getFirstChild->toString, "\n";
-#      } else {
-#          print &basename($f,".tpm"), "\tnon-in-catalogue\n";
-#      }
-#   }
+
+  sub printFiles {
+    my ($LocalTPM,$licline)= @_;
+    my $pkg_header = "% " . $licline;
+    my $dom_parser = new XML::DOM::Parser;
+    my $doc = $dom_parser->parsefile($LocalTPM);
+    my %SourceFiles = Tpm::getListField($doc, "SourceFiles");
+    my %RunFiles = Tpm::getListField($doc, "RunFiles");
+    my %DocFiles = Tpm::getListField($doc, "DocFiles");
+
+    foreach ($RunFiles{"text"}, $DocFiles{"text"}, $SourceFiles{"text"}) { 
+      # this is already done in Tpm.pm, why isn't that sufficient?
+      $_ =~ s/^\n*// ;
+      # remove the texmf-dist/ we don't need
+      $_ =~ s@texmf-dist/@@g;
+      # make sure there's exactly one newline at the end
+      chomp;
+      $_ =~ s/$/\n/ ;
+    };
+
+    # we don't want the tpm file which isn't installed
+    $RunFiles{"text"} =~ s/\n.*\.tpm$//m;
+
+    my @SourceFiles = split(/\n/m,$SourceFiles{"text"});
+    my @RunFiles = split(/\n/m,$RunFiles{"text"});
+    my @DocFiles = split(/\n/m,$DocFiles{"text"});
+    foreach (@SourceFiles) { 
+      s/^\s//;
+      s@^[\s\n]*(.*)[\s\n]*$@$1@so;
+      s@\n\s*@\n@gm;
+    };
+    foreach (@RunFiles) { 
+      s/\s//;
+      s@^[\s\n]*(.*)[\s\n]*$@$1@so;
+      s@\n\s*@\n@gm;
+    };
+    foreach (@DocFiles) { 
+      s/\s//;
+      s@^[\s\n]*(.*)[\s\n]*$@$1@so;
+      s@\n\s*@\n@gm;
+    };
+    @DocFiles = grep(!/^$/,@DocFiles);
+    @RunFiles = grep(!/^$/,@RunFiles);
+    @SourceFiles = grep(!/^$/,@SourceFiles);
+
+    for ($debian_package) {
+      my @texmfPath;
+      if ( /^texlive/ ) { 
+	@texmfPath = ("texmf","texmf-dist","texmf-doc");
+	foreach (@RunFiles) {CheckFileExistence($_,\@texmfPath)};
+	foreach (@DocFiles) {CheckFileExistence($_,\@texmfPath)};
+	foreach (@SourceFiles) {CheckFileExistence($_,\@texmfPath)};
+	MergeDirectories(\@RunFiles,\@texmfPath);
+	MergeDirectories(\@DocFiles,\@texmfPath) if (@DocFiles);
+	MergeDirectories(\@SourceFiles,\@texmfPath) if (@SourceFiles);
+	print "\n" . $pkg_header . "\n";
+	print @RunFiles;
+	print @DocFiles;
+	print @SourceFiles;
+      };
+      if ( /^tetex-base$/ ) {
+	@texmfPath = (".");
+	foreach (@RunFiles) {CheckFileExistence($_,\@texmfPath)};
+	foreach (@DocFiles) {CheckFileExistence($_,\@texmfPath)};
+
+	MergeDirectories(\@RunFiles,\@texmfPath);
+	MergeDirectories(\@DocFiles,\@texmfPath) if (@DocFiles);
+	print "\n" . $pkg_header . "\n";
+	print @RunFiles;
+	print @DocFiles;
+      };
+      if ( /^tetex-src$/ ) {
+	foreach (@SourceFiles) {CheckFileExistence($_,\@texmfPath)};
+	MergeDirectories(\@SourceFiles,\@texmfPath);
+	unless (! @SourceFiles) {
+	  print "\n" . $pkg_header . "\n";
+	  print @SourceFiles;
+	}
+      };
+    };
+  }
+
+  sub CheckFileExistence {
+    my ($file,@texmfPath) = ($_[0],@{$_[1]});
+    my $found = 0;
+    foreach my $texmfDir (@texmfPath) {
+      -f $texmfDir . "/" . $file && ($found =1);
+    };
+    print STDERR "$file: Does not exist!\n" if ! $found;
+  }
+
+  sub MergeDirectories {
+    my ($filelist,@texmfPath) = ($_[0],@{$_[1]}); # $filelist is actually a pointer
+    # create a list of dirnames, and remove duplicates
+    my @dirnames = map {dirname($_) } @{$filelist};
+    my %UniqueHash = map { $_ , 1 } @dirnames;
+    @dirnames = keys %UniqueHash;
+
+    # For searching, we create a hash that contains the filenames as keys:
+    my %SearchHash;
+    %SearchHash = map { $_, 1 } @{$filelist} ;
+
+    my %DirComplete = map { $_, 1 } @dirnames;
+    for (@dirnames) {
+      my $dirname = $_;
+      my $fullDir;
+      my $rootDir;
+      for (@texmfPath) {
+	if ( -d ( $_ . "/" . $dirname )) { 
+	  $rootDir = $_;
+	  $fullDir =  ( $_ . "/" . $dirname );
+	};
+      };
+      $fullDir or die "This should not happen: no directory $dirname, nowhere.";
+      my  @InstalledFiles = `find $fullDir -maxdepth 1 -type f 2>/dev/null | grep -v tetex` 
+	  or die "Calling find for $dirname, expanded to $fullDir, failed.";
+      for (@InstalledFiles) {
+	chomp;
+	s@^$rootDir/@@;
+	$DirComplete{$dirname} = 0 unless $SearchHash{$_};
+      };
+      if ( $DirComplete{$dirname} ) {
+	for (@{$filelist} ) {
+	  # replace the file by its directory name
+	  s@$dirname/.*@$dirname/*@;
+	};
+      };
+# 	print STDERR "Directory $_ is $DirComplete{$dirname}\n";
+    };
+
+    # now the complete directories occur multiple times, remove duplicates again
+    %UniqueHash = map { ("$_\n" , 1) } @{$filelist} ;
+    @{$filelist} = keys %UniqueHash;
+  }
+
 }
 
From frank at kuesterei.ch  Tue Apr 11 17:19:46 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Tue Apr 11 18:17:20 2006
Subject: [tex-live] XML/DOM directory in Build/tools
In-Reply-To: <200604111531.k3BFVgW29705@f7.net> (Karl Berry's message of
	"Tue, 11 Apr 2006 10:31:42 -0500")
References: <200604111531.k3BFVgW29705@f7.net>
Message-ID: <867j5wkulp.fsf@alhambra.kuesterei.ch>

karl@freefriends.org (Karl Berry) wrote:

>     I always manage to forget this...
>
> This is a diff of tpm2licenses-new.pl.  I thought you were going to send
> some diff of DOM.pm, although perhaps my brain is malfunctioning as
> usual :).

No, it's mine.  Hm.  Where's this diff?  Here we go

-------------- next part --------------
--- /usr/share/perl5/XML/DOM.pm	2003-07-29 00:46:43.000000000 +0200
+++ src/Packages/texlive/texlive/LocalTPM/Tools/XML/DOM.pm	2006-03-23 13:46:15.000000000 +0100
@@ -34,6 +34,7 @@
 use vars qw( $VERSION @ISA @EXPORT
 	     $IgnoreReadOnly $SafeMode $TagStyle
 	     %DefaultEntities %DecodeDefaultEntity
+	     $beautifying $current_indent $string_indent $current_print_level @need_indent
 	   );
 use Carp;
 use XML::RegExp;
@@ -41,7 +42,7 @@
 BEGIN
 {
     require XML::Parser;
-    $VERSION = '1.43';
+    $VERSION = '1.42';
 
     my $needVersion = '2.28';
     die "need at least XML::Parser version $needVersion (current=${XML::Parser::VERSION})"
@@ -113,6 +114,12 @@
  "&" => "&amp;"
 );
 
+$beautifying = 1;
+$current_indent = 0;
+$string_indent = "  ";
+$current_print_level = 0;
+@need_indent = ();
+
 #
 # If you don't want DOM warnings to use 'warn', override this method like this:
 #
@@ -2710,6 +2717,12 @@
 
     my $name = $self->[_TagName];
 
+    if ($XML::DOM::beautifying) {
+      for (my $i = 0; $i < $XML::DOM::current_indent; $i++) {
+	$FILE->print ($XML::DOM::string_indent);
+      }
+    }
+
     $FILE->print ("<$name");
 
     if (defined $self->[_A])
@@ -2728,12 +2741,38 @@
     my @kids = @{$self->[_C]};
     if (@kids > 0)
     {
-	$FILE->print (">");
+        $FILE->print (">");
+	$XML::DOM::current_print_level++;
+	if ($XML::DOM::beautifying) 
+	{
+	    if ($#kids > 0 || ! $kids[0]->isTextNode) 
+            {
+	        $FILE->print ("\n");
+	    }
+	    $XML::DOM::current_indent++;
+	}
 	for my $kid (@kids)
 	{
 	    $kid->print ($FILE);
 	}
+	if ($XML::DOM::beautifying) 
+        {
+	    $XML::DOM::current_indent--;
+	    if ($#kids > 0|| ($#kids == 0 && ! $kids[0]->isTextNode) || $XML::DOM::need_indent[$XML::DOM::current_print_level])
+            {
+	        for (my $i = 0; $i < $XML::DOM::current_indent; $i++)
+                {
+		    $FILE->print ($XML::DOM::string_indent);
+		}
+	    }
+	    $XML::DOM::need_indent[$XML::DOM::current_print_level] = 0;
+	}
 	$FILE->print ("</$name>");
+	$XML::DOM::current_print_level--;
+	if ($XML::DOM::beautifying) 
+        {
+	    $FILE->print ("\n");
+	}
     }
     else
     {
@@ -2750,6 +2789,10 @@
 	{
 	    $FILE->print (" />");
 	}
+	if ($XML::DOM::beautifying)
+	{
+	    $FILE->print ("\n");
+        }
     }
 }
 
@@ -3174,7 +3217,24 @@
 sub print
 {
     my ($self, $FILE) = @_;
-    $FILE->print (XML::DOM::encodeText ($self->getData, '<&>"'));
+    my ($s) = XML::DOM::encodeText ($self->getData, '<&>"');
+    if ($XML::DOM::beautifying) 
+    {
+        $s =~ s@^[\s\n]*(.*)[\s\n]*$@$1@so;
+	$s =~ s@\n\s*@\n@gm;
+	if (length($s) + $XML::DOM::current_print_level > 48)
+	{
+	    $XML::DOM::need_indent[$XML::DOM::current_print_level] = 1;
+	    $s = "\n$s\n";
+	    $s =~ s@\n\n$@\n@;
+	}
+	else 
+        {
+	    $XML::DOM::need_indent[$XML::DOM::current_print_level] = 0;
+	    $s =~ s@\n$@@;
+	}
+    }
+    $FILE->print ($s);
 }
 
 sub isTextNode
@@ -4198,7 +4258,7 @@
 {
     my ($class, %args) = @_;
 
-    $args{Style} = 'XML::Parser::Dom';
+    $args{Style} = 'Dom';
     $class->SUPER::new (%args);
 }
 
@@ -4264,30 +4324,30 @@
 	# request, which we could convert to a stream with a fork()...
 
 	my $result;
-	eval
-	{
-	    use LWP::UserAgent;
-
-	    my $ua = $self->{LWP_UserAgent};
-	    unless (defined $ua)
-	    {
-		unless (defined $LWP_USER_AGENT)
-		{
-		    $LWP_USER_AGENT = LWP::UserAgent->new;
-
-		    # Load proxy settings from environment variables, i.e.:
-		    # http_proxy, ftp_proxy, no_proxy etc. (see LWP::UserAgent(3))
-		    # You need these to go thru firewalls.
-		    $LWP_USER_AGENT->env_proxy;
-		}
-		$ua = $LWP_USER_AGENT;
-	    }
-	    my $req = new HTTP::Request 'GET', $url;
-	    my $response = $ua->request ($req);
+# 	eval
+# 	{
+# 	    use LWP::UserAgent;
 
-	    # Parse the result of the HTTP request
-	    $result = $self->parse ($response->content, @_);
-	};
+# 	    my $ua = $self->{LWP_UserAgent};
+# 	    unless (defined $ua)
+# 	    {
+# 		unless (defined $LWP_USER_AGENT)
+# 		{
+# 		    $LWP_USER_AGENT = LWP::UserAgent->new;
+
+# 		    # Load proxy settings from environment variables, i.e.:
+# 		    # http_proxy, ftp_proxy, no_proxy etc. (see LWP::UserAgent(3))
+# 		    # You need these to go thru firewalls.
+# 		    $LWP_USER_AGENT->env_proxy;
+# 		}
+# 		$ua = $LWP_USER_AGENT;
+# 	    }
+# 	    my $req = new HTTP::Request 'GET', $url;
+# 	    my $response = $ua->request ($req);
+
+# 	    # Parse the result of the HTTP request
+# 	    $result = $self->parse ($response->content, @_);
+# 	};
 	if ($@)
 	{
 	    die "Couldn't parsefile [$url] with LWP: $@";
@@ -4900,7 +4960,7 @@
 =item $VERSION
 
 The variable $XML::DOM::VERSION contains the version number of this 
-implementation, e.g. "1.43".
+implementation, e.g. "1.42".
 
 =back
 
-------------- next part --------------

> But anyway, regarding tpm2licenses, it would be fine now to try it in
> the real repository.  (Not that there's any hurry.)  Can one of you
> check it in and give me some clues about how to run it, etc.?

Does
http://thread.gmane.org/gmane.linux.debian.devel.tetex/15380/focus=15380
help you, together with the configuration file that's behind the link?

The script itself is at 

http://svn.debian.org/wsvn/debian-tex/tex-common/trunk/scripts/tpm2licenses?op=file&rev=0&sc=0

I can't check it in myself.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)
From simculko at azet.sk  Tue Apr 11 18:34:08 2006
From: simculko at azet.sk (simculko)
Date: Wed Apr 12 15:24:56 2006
Subject: [tex-live] help with installation
Message-ID: <20060411163408.840863552@ems005.s.etech.sk>



Hello, I?ve got problems with installation TexLive, could I send you a
screenshot with it?
From P.Jackowski at gust.org.pl  Thu Apr 13 10:49:31 2006
From: P.Jackowski at gust.org.pl (=?UTF-8?B?UGF3ZcWCIEphY2tvd3NraQ==?=)
Date: Thu Apr 13 10:49:28 2006
Subject: [tex-live] help with installation
In-Reply-To: <20060411163408.840863552@ems005.s.etech.sk>
References: <20060411163408.840863552@ems005.s.etech.sk>
Message-ID: <443E109B.4030101@gust.org.pl>

simculko napisa?(a):
> 
> Hello, I?ve got problems with installation TexLive, could I send you a
> screenshot with it?
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
> 
> 

Please first try to describe the problem. I'm not sure, if attachements 
will be accepted. Once we know / guess the reason of your problems, you 
will send the screenshots to some priv.

Regards,
-- 
Pawe/l Jackowski
P.Jackowski@gust.org.pl
From karl at freefriends.org  Thu Apr 13 19:36:54 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu Apr 13 19:37:10 2006
Subject: [tex-live] help with installation
In-Reply-To: <443E109B.4030101@gust.org.pl>
Message-ID: <200604131736.k3DHasf16186@f7.net>

    Please first try to describe the problem. 

Yes :).

    I'm not sure, if attachements will be accepted.

Attachments are accepted to the mailing list (and all tug mailing lists,
as far as I know).  However, it is better not to inflict a large
screenshot on everyone when there's an alternative.

Thanks,
k
From P.Jackowski at gust.org.pl  Fri Apr 14 20:44:59 2006
From: P.Jackowski at gust.org.pl (=?UTF-8?B?UGF3ZcWCIEphY2tvd3NraQ==?=)
Date: Fri Apr 14 20:45:20 2006
Subject: [tex-live] help with installation
In-Reply-To: <20060414172103.4F58736CD@ems005.s.etech.sk>
References: <20060414172103.4F58736CD@ems005.s.etech.sk>
Message-ID: <443FEDAB.3080104@gust.org.pl>

Hello,

> ok then..when i start the installation, an error occures:
> 
> Error : error copying "C:/TeXLive 2005/texmf/web2c/fmtutil.cnf' : no 
> such file or directory

1. Try without a space in directory name.
2. If you want to keep this space, check, if quotation is ok (seems its not)

Regards,
-- 
Pawe/l Jackowski
P.Jackowski@gust.org.pl
From Gerben.Wierda at rna.nl  Fri Apr 14 21:41:53 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Apr 15 02:21:40 2006
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
References: <443EE317.2040408@wanadoo.fr>
Message-ID: <68A0ADAB-95EA-46E2-90D4-7B429F830E38@rna.nl>

Some users are running into the maxima that TeX sets up for certain  
sizes. Are there any negative effects to increasing the maxima as  
suggested below?

Thanks,

G

Begin forwarded message:

> From: Martin Costabel <costabel@wanadoo.fr>
> Date: 14 April 2006 01:47:35 GMT+02:00
> To: TeX on Mac OS X Mailing List <MacOSX-TeX@email.esm.psu.edu>
> Subject: Re: [OS X TeX] Changing Tex parameters (retry)
> Reply-To: "TeX on Mac OS X Mailing List" <MacOSX- 
> TeX@email.esm.psu.edu>
>
> Christoph Schiller wrote:
>> As a user of the Minion font package, I need to redump  the
>> format in order to increase "words of font info" (tetex on Macosx),
>> the line that appears in the statistics in the log file.
>> What *exactly* do I have to do (at least for pdflatex)?
>> I have a clean, new tex installation, made with iinstaller, on OSX  
>> 10.4,
>> a few days ago.
>
> I know it won't help you immediately, but this is one of the  
> situations where the advantages of a self-compiled tex (for example  
> from Fink) are visible: Just for testing, I went into the build  
> directory of tetex, changed in the file texk/web2c/tex.ch  
> sup_font_mem_size from 2.000.000 to 8.000.000, and ran "make". Then  
> I copied the resulting pdfetex executable into /sw/bin, edited  
> web2c/texmf.cnf to increase font_mem_size to 5.000.000, and ran  
> sudo fmtutil-sys --refresh. All this took about 10 minutes (plus 10  
> minutes to find the right files and places to change). I see now in  
> the log file for example
>
>  16420 words of font info for 38 fonts, out of 5000000 for 2000
>
> -- 
> Martin
>
> ------------------------- Info --------------------------
> Mac-TeX Website: http://www.esm.psu.edu/mac-tex/
>          & FAQ: http://latex.yauh.de/faq/
> TeX FAQ: http://www.tex.ac.uk/faq
> List Archive: http://tug.org/pipermail/macostex-archives/
>
>

From staw at gust.org.pl  Sat Apr 15 04:42:51 2006
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sat Apr 15 04:42:04 2006
Subject: [tex-live] svn update killed
Message-ID: <Pine.LNX.4.44.0604150427410.20254-100000@re86.internetdsl.tpnet.pl>

I encountered several times a problem with 'svn update'  of the TL repo.

$ svn update
Killed
You have mail in ....
  [I'm not sure that is a problem]
$ svn update
svn: Working copy '.' locked
svn: run 'svn cleanup' to remove locks (type 'svn help cleanup' for details)
$ svn cleanup
$ svn update
Killed
You have new mail in ...
 [so svn update again killed] 
 
What can be wrong? Any clue would be welcome.

Ps. Happy Easter

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Sat Apr 15 19:01:03 2006
From: karl at freefriends.org (Karl Berry)
Date: Sat Apr 15 19:01:18 2006
Subject: [tex-live] svn update killed
In-Reply-To: <Pine.LNX.4.44.0604150427410.20254-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200604151701.k3FH13319886@f7.net>

    $ svn update
    Killed

This has never happened for me :(.  Some wild stabs:

Does the svn update that gets killed run for a long time (minutes) first?

What version of svn?  What OS?  I'm using 1.3.0 compiled from source.

Does it happen if you do the update from a subdirectory (or use -N),
instead of updating the whole hierarchy?

It could be useful to figure out what directory it's updating when it
dies -- if it's always the same one.  What locks have to get cleaned up,
does it say?  (Sorry, I forget.)

Unfortunately there is no logging available at the server end.  I don't
see any logging available in the client, either.  Sigh.

    You have mail in ....
      [I'm not sure that is a problem]

Getting mail is very definitely a huge problem for all of us :).

Best,
karl
From karl at freefriends.org  Sat Apr 15 19:12:02 2006
From: karl at freefriends.org (Karl Berry)
Date: Sat Apr 15 19:12:18 2006
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <68A0ADAB-95EA-46E2-90D4-7B429F830E38@rna.nl>
Message-ID: <200604151712.k3FHC2c22581@f7.net>

    > sup_font_mem_size from 2.000.000 to 8.000.000, and ran "make". Then  
    > I copied the resulting pdfetex executable into /sw/bin, edited  
    > web2c/texmf.cnf to increase font_mem_size to 5.000.000, and ran  

I don't know of any reason not to do this.  Olaf, Thomas, anyone?

Karl
From reinhard.kotucha at web.de  Sat Apr 15 21:11:53 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat Apr 15 21:12:59 2006
Subject: [tex-live] svn update killed
In-Reply-To: <200604151701.k3FH13319886@f7.net>
References: <Pine.LNX.4.44.0604150427410.20254-100000@re86.internetdsl.tpnet.pl>
	<200604151701.k3FH13319886@f7.net>
Message-ID: <17473.17785.988355.219976@zarniwoop.ms25.local>

>>>>> "Karl" == Karl Berry <karl@freefriends.org> writes:

  > Unfortunately there is no logging available at the server end.  I
  > don't see any logging available in the client, either.  Sigh.

Maybe strace(1) can provide some information.  At least it will tell
you which signal killed the process and which files had been opened
before.

It also makes sense to set 

      ulimit -c unlimited

in /etc/bashrc or whatever it is on your system.  This will allow the
system to dump core files of any size.  Note that a value set by root
cannot be increased by a user.

The core file can be loaded into gdb and a stack backtrace will
provide additional information.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From reinhard.kotucha at web.de  Sat Apr 15 21:54:45 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat Apr 15 21:56:00 2006
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <200604151712.k3FHC2c22581@f7.net>
References: <68A0ADAB-95EA-46E2-90D4-7B429F830E38@rna.nl>
	<200604151712.k3FHC2c22581@f7.net>
Message-ID: <17473.20357.662300.32538@zarniwoop.ms25.local>

>>>>> "Karl" == Karl Berry <karl@freefriends.org> writes:

  >> sup_font_mem_size from 2.000.000 to 8.000.000, and ran
  >> "make". Then I copied the resulting pdfetex executable into
  >> /sw/bin, edited web2c/texmf.cnf to increase font_mem_size to
  >> 5.000.000, and ran

  > I don't know of any reason not to do this.  Olaf, Thomas, anyone?

All the variables which determine memory size had been increased
from time to time in tex.ch before they had been made configurable by
command-line options or variables in texmf.cnf.

Increasing the upper limits in tex.ch again and again causes extra
work.  It seems that however the limits are set, there will always be
someone who needs more memory.

Doesn't it make more sense to set all the variables which can be
controlled by texmf.cnf to the absolute maximum value (in tex.ch)
which tex can handle?

The advantage is that there will be no need to touch this particular
piece of code in tex.ch in the future anymore.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Sat Apr 15 22:48:47 2006
From: karl at freefriends.org (Karl Berry)
Date: Sat Apr 15 22:48:51 2006
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <17473.20357.662300.32538@zarniwoop.ms25.local>
Message-ID: <200604152048.k3FKmlW01055@f7.net>

    It seems that however the limits are set, there will always be
    someone who needs more memory.

Indeed.  Of course the real answer is to avoid hardwired limits at all,
as we knew 20+ years ago, but equally of course that is hard.

    Doesn't it make more sense to set all the variables which can be
    controlled by texmf.cnf to the absolute maximum value (in tex.ch)
    which tex can handle?

The downside is that then more memory is always allocated, even though
99.99% of all jobs will not need it.  Although that's not so important
these days, I'm not sure if the absolute maximums would start to be
noticeable.

    The advantage is that there will be no need to touch this particular
    piece of code in tex.ch in the future anymore.

Changing a number or two every couple of years isn't a problem.  It's
more problematic for the user(s) who need(s) the space now, but in my
experience people who run into these limits are also capable of
following instructions to recompile TeX.

Cheers,
karl
From reinhard.kotucha at web.de  Sat Apr 15 23:24:50 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat Apr 15 23:25:59 2006
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <200604152048.k3FKmlW01055@f7.net>
References: <17473.20357.662300.32538@zarniwoop.ms25.local>
	<200604152048.k3FKmlW01055@f7.net>
Message-ID: <17473.25762.685651.100405@zarniwoop.ms25.local>

>>>>> "Karl" == Karl Berry <karl@freefriends.org> writes:

  > The downside is that then more memory is always allocated, even
  > though 99.99% of all jobs will not need it.

No, the amount of memory which is allocated depends on the values set
in texmf.cnf.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From te at dbs.uni-hannover.de  Sat Apr 15 21:24:37 2006
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Apr 16 07:10:47 2006
Subject: [tex-live] svn update killed
In-Reply-To: <Pine.LNX.4.44.0604150427410.20254-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0604150427410.20254-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20060415192437.GB8012@dbs.uni-hannover.de>

> $ svn update
> Killed

If the process runs for some time, can you try to gather information
about it? E.g.  run
  ps -e vsz -p <pid>
It could well be that the process runs agains some of the limits of your
system (e.g. max available virtual memory).

Thomas
From Gerben.Wierda at rna.nl  Sun Apr 16 14:08:02 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Apr 16 14:08:04 2006
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <17473.20357.662300.32538@zarniwoop.ms25.local>
References: <68A0ADAB-95EA-46E2-90D4-7B429F830E38@rna.nl>
	<200604151712.k3FHC2c22581@f7.net>
	<17473.20357.662300.32538@zarniwoop.ms25.local>
Message-ID: <C517C7B8-732C-436D-8366-0E18ED36E9B2@rna.nl>

On 15 Apr 2006, at 21:54, Reinhard Kotucha wrote:

> Doesn't it make more sense to set all the variables which can be
> controlled by texmf.cnf to the absolute maximum value (in tex.ch)
> which tex can handle?

I think making the maximums in tex.ch to be absolute maximums given  
TeX's archtecture would be a great idea. The texmf.cnf determines the  
actual size allocated (and thus resources used).

G
From staw at gust.org.pl  Mon Apr 17 20:23:19 2006
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Apr 17 20:22:11 2006
Subject: [tex-live] svn update killed
In-Reply-To: <20060415192437.GB8012@dbs.uni-hannover.de>
Message-ID: <Pine.LNX.4.44.0604171958001.10084-100000@re86.internetdsl.tpnet.pl>

On Sat, 15 Apr 2006, Thomas Esser wrote:

> > $ svn update
> > Killed

Thanks to all for hints, but the problem has somehow dissapeared.
I used strace, ps and/or top to catch this, but svn update is working
now, however so slowly :-) 

Has svn any short commant to see what was lastly changed and in which
directories in such huge repository as TL? On p4 I used
p4 changes -l -m 10
Now I use:
svn list --verbose
svn log -r1559
but it has not the same functionality to show which subtree could be 
updated more quickly.

Best,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl

From reinhard.kotucha at web.de  Wed Apr 19 03:58:48 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed Apr 19 04:00:02 2006
Subject: [tex-live] svn update killed
In-Reply-To: <Pine.LNX.4.44.0604171958001.10084-100000@re86.internetdsl.tpnet.pl>
References: <20060415192437.GB8012@dbs.uni-hannover.de>
	<Pine.LNX.4.44.0604171958001.10084-100000@re86.internetdsl.tpnet.pl>
Message-ID: <17477.39256.206583.811983@zarniwoop.ms25.local>

>>>>> "Staszek" == Staszek Wawrykiewicz <staw@gust.org.pl> writes:

  > ... but svn update is working now, however so slowly :-)

sed -e 's/:-\)/:-\(/g'

  > Has svn any short commant to see what was lastly changed and in
  > which directories in such huge repository as TL?

Maybe I can write a small Perl script which updates only the files
which had been changed at tug.org.

Karl, can you install the following script in svn's hook directory
under the name "post-commit"?

__________________________________________________________________
#!/bin/sh

REPOS="$1"
REV="$2"

LOGDIR=/some/dir/at/tug.org

LOGFILE=${LOGDIR}/texlive-log
TMPFILE=${LOGDIR}/texlive-tmp

echo "rev $REV" > ${TMPFILE}
svnlook changed ${REPOS} -r${REV} >> ${TMPFILE}
cat ${LOGFILE} >> ${TMPFILE}
mv ${TMPFILE} ${LOGFILE}
__________________________________________________________________

I just installed a sandbox svn repository with old vntex stuff.
After I played a bit with it, ${LOGFILE} looked like this:

__________________________________________________________________
rev 94
D   texmf-vnr/fonts/source/public/vnr/vnbx10.mf
rev 93
D   texmf-vnr/fonts/source/public/vnr/vnbx8.mf
D   texmf-vnr/fonts/source/public/vnr/vnbx9.mf
rev 92
D   texmf-vnr/fonts/source/public/vnr/vnbx7.mf
__________________________________________________________________

A Perl script could first determine the current revision number on
the local system using 

    svn info -r HEAD

and then read ${LOGFILE} from tug.org using wget:

while (<WGET>) {
  last if /^rev ${LOCAL_REV}$/;  # abort if rev_server == rev_local
  next if /^rev /;		 # ignore rev numbers
  s/.{4}//;			 # delete everything before path
  system "svn update $_";        # run svn update
}

Note that I don't have a trunk directory in the vntex repository.

Maybe it's better to pipe the output of svnlook through
sed -e 's|trunk/|./|' or similar because the trunk directory does not
appear after you have checked out texlive.

I also considered to use "dirs-changed" instead of "changed" as an
svnlook option.  It looks more efficient at a first glance but
is quite inefficient if a file has to be updated which resides close
to the root directory.

I tried "svnlook dirs-changed" and modified the TODO file in the root
directory.  The result was:

__________________________________________________________________ 
rev 95
/
__________________________________________________________________

In this case the script will do the same as "svn update texlive".

Maybe it is a bit nasty that post-commit \emph{pre}pends new stuff to
$LOGFILE, but on the other hand, wget has to download only a few lines
each time.  I suppose that the script will run reasonably fast.

Presumably the $LOGFILE will grow to a few megabytes each year but can
be removed each time TL is released.  On the other hand, old stuff is
at the bottom and a cron job can truncate the file if it grows too
fast.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From Rolf.Niepraschk at ptb.de  Fri Apr 21 09:56:00 2006
From: Rolf.Niepraschk at ptb.de (Rolf Niepraschk)
Date: Fri Apr 21 10:28:23 2006
Subject: [tex-live] InstallJammer
Message-ID: <44489010.4030600@ptb.de>

Welcome to the home of InstallJammer on the web.

InstallJammer is a multiplatform GUI installer designed to be completely
cross-platform and function on Windows and most all versions of UNIX
with eventual support for Mac OS X.

It features a very powerful install builder with support for multiple
themes and a high level of configurability for installers.  Installers
are built as single executable files for easy distribution over the web
and handle installing everything you need for your application in a
simple, cross-platform way.
...
License: Mozilla Public License 1.1 (MPL 1.1)
...

==> http://www.installjammer.com/


...Rolf

From frank at kuesterei.ch  Fri Apr 21 11:02:19 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri Apr 21 11:02:27 2006
Subject: [tex-live] InstallJammer
In-Reply-To: <44489010.4030600@ptb.de> (Rolf Niepraschk's message of "Fri,
	21 Apr 2006 09:56:00 +0200")
References: <44489010.4030600@ptb.de>
Message-ID: <864q0n5mjo.fsf@alhambra.kuesterei.ch>

Rolf Niepraschk <Rolf.Niepraschk@ptb.de> wrote:

> Welcome to the home of InstallJammer on the web.
>
> InstallJammer is a multiplatform GUI installer designed to be completely
> cross-platform and function on Windows and most all versions of UNIX
> with eventual support for Mac OS X.

Sounds nice, however:

> License: Mozilla Public License 1.1 (MPL 1.1)

,---- http://lists.debian.org/debian-legal/2004/06/msg00221.html
| The consensus from debian-legal archives and current discussion seems to be the
| MPL is non-free. Below is a summary of reasons, compiled from commentary on the
| MPL and the similar Nokia license reviewed last August. 
`----

Note that Mozilla and its components have been relicensed, or a
relicensing is under way - this might indicate that the issues raised
are not mere Debian politics, but in fact real flaws.

A short excerpt of that mail:

*****************************
The Mozilla Public License (MPL) is not DFSG free:

1. It does not allow derived works to be distributed under the same terms as
the original software (DFSG #3).

2. It requires distributors to retroactively notify recipients about third-party
legal problems with the software (Dissident test).

3. It restricts court venue, permitting licensors to harass licensees and
effectively revoke the license. (Tentacles of Evil test)

Additionally, to distribute the software, the license requires:

1. Maintaining and updating a LEGAL text file inside the distribution. [clause
3.4(a)].

2. Keeping source available online for at least 12 months, or 6 months after
another version [clause 3.2].

These requirements might make distribution of MPL software impractical for
Debian.

*****************************

Regards, Frank

-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)

From reinhard.kotucha at web.de  Sat Apr 22 02:18:12 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat Apr 22 02:19:25 2006
Subject: [tex-live] InstallJammer
In-Reply-To: <44489010.4030600@ptb.de>
References: <44489010.4030600@ptb.de>
Message-ID: <17481.30276.696036.754702@zarniwoop.ms25.local>

>>>>> "Rolf" == Rolf Niepraschk <Rolf.Niepraschk@ptb.de> writes:

  > Welcome to the home of InstallJammer on the web.  InstallJammer is
  > a multiplatform GUI installer designed to be completely
  > cross-platform and function on Windows and most all versions of
  > UNIX with eventual support for Mac OS X.

Maybe a nice feature for Windows users who never care about what they
do.

I do not accept binary installers because I can't see what they do
before I execute them.

And I'm not always at home when I install new software on my computer
at home.  An installer which requires X11 is not very useful at all.

Hence I'm quite happy that Frank K?ster told us that the licence is
inappropriate.

Rolf, thank you for the information though.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From vvv at vsu.ru  Mon Apr 24 12:25:39 2006
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon, 24 Apr 2006 14:25:39 +0400
Subject: [tex-live] possible improvement of the build process
Message-ID: <87wtdfgti4.fsf@vsu.ru>

Hi!

i noticed this link in the xindy mailing list:

http://lists.gnupg.org/pipermail/gnutls-dev/2002-August/000345.html

please consider adding the AM_MAINTAINER_MODE to configure.ac which
will prevent problems with regeneration of things like configure, or
Makefile.in's.

Best,
v.


From karl at freefriends.org  Tue Apr 25 00:30:59 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 24 Apr 2006 17:30:59 -0500
Subject: [tex-live] possible improvement of the build process
In-Reply-To: <87wtdfgti4.fsf@vsu.ru>
Message-ID: <200604242230.k3OMUxE10753@f7.net>

Hi Vladimir,

    please consider adding the AM_MAINTAINER_MODE to configure.ac 

Thanks for the note.

I use AM_MAINTAINER_MODE in Texinfo for precisely this reason.
However, I am not too inclined to poke it into other packages'
configure.ac.  It is controversial, so there's little use
suggesting it to "outside" maintainers, and most of the TeX packages
don't use Automake, just Autoconf.

Anyway, it should not matter too much.  As long as the timestamps as
they are checked in to the repo are correct, no regeneration should
happen.  It would make things easier, but ...

Best,
karl

From Gerben.Wierda at rna.nl  Tue Apr 25 08:57:10 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue, 25 Apr 2006 08:57:10 +0200
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <C517C7B8-732C-436D-8366-0E18ED36E9B2@rna.nl>
References: <68A0ADAB-95EA-46E2-90D4-7B429F830E38@rna.nl>
	<200604151712.k3FHC2c22581@f7.net>
	<17473.20357.662300.32538@zarniwoop.ms25.local>
	<C517C7B8-732C-436D-8366-0E18ED36E9B2@rna.nl>
Message-ID: <4269E45B-A66F-4AF2-94E5-584D2AC1806D@rna.nl>

On 16 Apr 2006, at 14:08, Gerben Wierda wrote:

> On 15 Apr 2006, at 21:54, Reinhard Kotucha wrote:
>
>> Doesn't it make more sense to set all the variables which can be
>> controlled by texmf.cnf to the absolute maximum value (in tex.ch)
>> which tex can handle?
>
> I think making the maximums in tex.ch to be absolute maximums given  
> TeX's archtecture would be a great idea. The texmf.cnf determines  
> the actual size allocated (and thus resources used).

Just for the record, can I safely change sup_font_mem_size from  
2000000 to 3000000 in pdfetex.ch?

G

From daleif at imf.au.dk  Tue Apr 25 15:25:42 2006
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 25 Apr 2006 15:25:42 +0200 (CEST)
Subject: [tex-live] [for TL bugs page] wordcount.sh is misplaced
Message-ID: <Pine.LNX.4.64.0604251523580.29166@gloin.imf.au.dk>


As far as I can see the shell script wordcount.sh is placed under 
source/wordcount and should be placed somewhere more apropriate, (under 
bin?)

anyways this might be something that should go on the bugs page for the 
current TL.



/daleif

``You cannot help men permanently by doing for them
what they could and should do for themselves. ''
  -- Abraham Lincoln

From Gerben.Wierda at rna.nl  Tue Apr 25 16:16:42 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue, 25 Apr 2006 16:16:42 +0200
Subject: [tex-live] Increasing font_mem_size beyond 2000000. How?
Message-ID: <d27a14e396c9aa680f8ebc008b28120c@rna.nl>

I have been trying to get a TeX which has font_mem_size beyond 
20000000. I changed sup_font_mem_size to 3000000 in pdfetex.ch, 
recompiled TeX, installed it, changed font_mem_size to 2100000 and then 
recreated all my formats (which should be unnecessary). But the closing 
statistics of my TeX run still says X out of 2000000. I can downgrade 
the 2000000 to 1900000 and it does have effect.

What am I forgetting to do?

Thanks,

G


From Gerben.Wierda at rna.nl  Tue Apr 25 19:25:32 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue, 25 Apr 2006 19:25:32 +0200
Subject: [tex-live] Fwd: Increasing font_mem_size beyond 2000000. How?
References: <d27a14e396c9aa680f8ebc008b28120c@rna.nl>
Message-ID: <8565FAF9-8B2B-4BCA-870C-FB35596BE95B@rna.nl>

Answering myself: tex.ch should be changed. pdfetex,ch is created  
from tex.ch

G

Begin forwarded message:

> From: Gerben Wierda <Gerben.Wierda at rna.nl>
> Date: 25 April 2006 16:16:42 GMT+02:00
> To: TeX Live production <texlive at tug.org>
> Cc: Olaf Weber <olaf at infovore.xs4all.nl>, Martin Schr?der  
> <ms at artcom-gmbh.de>
> Subject: Increasing font_mem_size beyond 2000000. How?
>
> I have been trying to get a TeX which has font_mem_size beyond  
> 20000000. I changed sup_font_mem_size to 3000000 in pdfetex.ch,  
> recompiled TeX, installed it, changed font_mem_size to 2100000 and  
> then recreated all my formats (which should be unnecessary). But  
> the closing statistics of my TeX run still says X out of 2000000. I  
> can downgrade the 2000000 to 1900000 and it does have effect.
>
> What am I forgetting to do?
>
> Thanks,
>
> G
>


From reinhard.kotucha at web.de  Tue Apr 25 20:46:40 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 25 Apr 2006 20:46:40 +0200
Subject: [tex-live] Fwd: Increasing font_mem_size beyond 2000000. How?
In-Reply-To: <8565FAF9-8B2B-4BCA-870C-FB35596BE95B@rna.nl>
References: <d27a14e396c9aa680f8ebc008b28120c@rna.nl>
	<8565FAF9-8B2B-4BCA-870C-FB35596BE95B@rna.nl>
Message-ID: <17486.28304.228825.750820@zarniwoop.ms25.local>

>>>>> "Gerben" == Gerben Wierda <Gerben.Wierda at rna.nl> writes:

  > Answering myself: tex.ch should be changed. pdfetex,ch is created
  > from tex.ch

Anyway, I did not hear anything from Olaf for a long time, maybe he is
very busy.

Another option is to ask Taco to look into it.  I think he is quite
familiar with these things. 

Regards,
  Reinhard

--
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From karl at freefriends.org  Tue Apr 25 23:14:43 2006
From: karl at freefriends.org (Karl Berry)
Date: Tue, 25 Apr 2006 16:14:43 -0500
Subject: [tex-live] [for TL bugs page] wordcount.sh is misplaced
In-Reply-To: <Pine.LNX.4.64.0604251523580.29166@gloin.imf.au.dk>
Message-ID: <200604252114.k3PLEhY20253@f7.net>

Hi Lars,

    As far as I can see the shell script wordcount.sh is placed under 
    source/wordcount and should be placed somewhere more apropriate, (under 
    bin?)

It's a pain to handle scripts, so they are mostly left in the source dir
and users just have to find them :(.

Anyway, since you mentioned it, I'll see what I can do about this one,
when the time comes.

Thanks,
karl

From karl at freefriends.org  Tue Apr 25 23:49:47 2006
From: karl at freefriends.org (Karl Berry)
Date: Tue, 25 Apr 2006 16:49:47 -0500
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <4269E45B-A66F-4AF2-94E5-584D2AC1806D@rna.nl>
Message-ID: <200604252149.k3PLnl028533@f7.net>

    Just for the record, can I safely change sup_font_mem_size from  
    2000000 to 3000000 in pdfetex.ch?

Yes.

Given the correction of my mistaken notion of memory allocation, I see
no reason not to max all of those values out.  Does anyone?  (Olaf,
Thomas, Taco?)

Gerben, perhaps you or Reinhard could supply a patch :)?

Thanks,
Karl

From daleif at imf.au.dk  Tue Apr 25 23:57:06 2006
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 25 Apr 2006 23:57:06 +0200 (CEST)
Subject: [tex-live] [for TL bugs page] wordcount.sh is misplaced
In-Reply-To: <200604252114.k3PLEhY20253@f7.net>
References: <200604252114.k3PLEhY20253@f7.net>
Message-ID: <Pine.LNX.4.64.0604252356290.20534@gloin.imf.au.dk>

Karl Berry :

> Hi Lars,
>
>    As far as I can see the shell script wordcount.sh is placed under
>    source/wordcount and should be placed somewhere more apropriate, (under
>    bin?)
>
> It's a pain to handle scripts, so they are mostly left in the source dir
> and users just have to find them :(.
>
> Anyway, since you mentioned it, I'll see what I can do about this one,
> when the time comes.
>

cannot ask for more.

I was just woundering, when I found wordcount.tex but not wordcount.sh


/daleif

``You cannot help men permanently by doing for them
what they could and should do for themselves. ''
  -- Abraham Lincoln

From taco at elvenkind.com  Wed Apr 26 00:02:47 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 26 Apr 2006 00:02:47 +0200
Subject: [tex-live] Fwd: Increasing font_mem_size beyond 2000000. How?
In-Reply-To: <17486.28304.228825.750820@zarniwoop.ms25.local>
References: <d27a14e396c9aa680f8ebc008b28120c@rna.nl>	<8565FAF9-8B2B-4BCA-870C-FB35596BE95B@rna.nl>
	<17486.28304.228825.750820@zarniwoop.ms25.local>
Message-ID: <444E9C87.2000001@elvenkind.com>

Reinhard Kotucha wrote:
>>>>>>"Gerben" == Gerben Wierda <Gerben.Wierda at rna.nl> writes:
> 
> 
>   > Answering myself: tex.ch should be changed. pdfetex,ch is created
>   > from tex.ch
> 
> Anyway, I did not hear anything from Olaf for a long time, maybe he is
> very busy.
> 
> Another option is to ask Taco to look into it.  I think he is quite
> familiar with these things. 

I will have a look at all of them (but after bachotek).

Taco

From martin at oneiros.de  Wed Apr 26 00:30:22 2006
From: martin at oneiros.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 26 Apr 2006 00:30:22 +0200
Subject: [tex-live] Fwd: [OS X TeX] Changing Tex parameters (retry)
In-Reply-To: <200604252149.k3PLnl028533@f7.net>
References: <4269E45B-A66F-4AF2-94E5-584D2AC1806D@rna.nl>
	<200604252149.k3PLnl028533@f7.net>
Message-ID: <20060425223022.GC22330@lucien.oneiros.kn-bremen.de>

On 2006-04-25 16:49:47 -0500, Karl Berry wrote:
>     Just for the record, can I safely change sup_font_mem_size from  
>     2000000 to 3000000 in pdfetex.ch?
> 
> Yes.
> 
> Given the correction of my mistaken notion of memory allocation, I see
> no reason not to max all of those values out.  Does anyone?  (Olaf,
> Thomas, Taco?)
> 
> Gerben, perhaps you or Reinhard could supply a patch :)?

I'll do so in pdfTeX 1.40

Best
    Martin
-- 
                    http://www.tm.oneiros.de

From karl at freefriends.org  Thu Apr 27 03:05:42 2006
From: karl at freefriends.org (Karl Berry)
Date: Wed, 26 Apr 2006 20:05:42 -0500
Subject: [tex-live] svn update killed
In-Reply-To: <Pine.LNX.4.44.0604171958001.10084-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200604270105.k3R15gV30545@f7.net>

    svn update is working now, however so slowly :-) 

The svn update for me on the whole hierarchy takes <3 minutes.  I gather
things are much worse for you?

    Has svn any short commant to see what was lastly changed 

Do you mean what has last been committed, or what you've changed locally
and not committed yet?

The answer to the latter is svn update (and this is one thing which p4
does not provide, which I found quite frustrating).


It seems to me that some option to svnlook should provide the answer to
the former, but it will take some research.

What I do in svnchangelog boils down to invocations like:
  svn log -v -r HEAD:1558

(Leave off the -v if you don't want the actual log messages.)  It would
be easy enough to write a script which reports back all the directories
changed since the last update based on that output, seems to me.

Svnchangelog updates Build/cdbuild/logs/svnlog, right now only
once per day, though it could be more often.  Then perhaps you could
just look at that file.

Alternatively, perhaps Reinhard's approach is better, to update the log
information at commit time instead of via the separate job.  I just have
a penchant for separating anything which can be separated.  I found it
annoyingly tricky to debug log rotation.

What exactly are you looking for?  I'm sure we can create a convenient
way to get the info. I can't run
  p4 changes -l -m 10
-- it seems the server is not up.  Maybe the license expired again.
Sigh.

karl

From karl at freefriends.org  Thu Apr 27 03:05:59 2006
From: karl at freefriends.org (Karl Berry)
Date: Wed, 26 Apr 2006 20:05:59 -0500
Subject: [tex-live] svn vs. p4
Message-ID: <200604270105.k3R15xi30643@f7.net>

Meanwhile, the dirs-changed stuff is a detail.  I know from your
separate mail to me that svn is proving extremely painful to you, and if
TL is ever going to make another release, there is no question that you
need to be able to work efficiently.

So what is acceptable to you?  Should we forget about svn and go back to
p4 permanently?  We can do that, but it would be best to decide to do it
now, before any "real" changes have been made to the svn repository.

I myself could be persuaded either way.  Many operations were
significantly more efficient with p4.  P4 keeps track of changes from
the repository itself, so it rarely needs to traverse the repository.

Svn, by contrast, has to do that all the time, since it essentially
keeps information on a directory-by-directory basis.  On our 2gb
repository, this is inherently slow.  I don't know of any other svn
projects nearly this big; gcc is small by comparison.

On the other hand, svn has no licensing issues, and its paradigm is much
more widely familiar to developers.  Perhaps there is a greater chance
that TL could eventually have more contributors with svn.

What do you think?  What do others think?  Perhaps something to ponder
on the way to / at BachoTeX ...

Thanks,
Karl

From staw at gust.org.pl  Thu Apr 27 06:05:13 2006
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 27 Apr 2006 06:05:13 +0200 (CEST)
Subject: [tex-live] svn update killed
In-Reply-To: <200604270105.k3R15gV30545@f7.net>
Message-ID: <Pine.LNX.4.44.0604270539010.1903-100000@re86.internetdsl.tpnet.pl>

On Wed, 26 Apr 2006, Karl Berry wrote:

>     svn update is working now, however so slowly :-) 
> 
> The svn update for me on the whole hierarchy takes <3 minutes.  I gather
> things are much worse for you?

Hmmm... about 20' here
 
>     Has svn any short commant to see what was lastly changed 
> 
> Do you mean what has last been committed, or what you've changed locally
> and not committed yet?
> 
> The answer to the latter is svn update (and this is one thing which p4
> does not provide, which I found quite frustrating).
 
I meant to find what has last been committed, something similar to 
'p4 changes -l -m 3' just to see quickly if something has changed, and... 
is worth to run 'svn update'

What I found:
$>svn list --verbose
lists 
   1559 karl                  Apr 10 22:20 Build/
   1545 wl                    Mar 16 07:16 Master/

but the last change is now 1561. If I know the real last change number, 
I could run, e.g.:
$svn log -r1559:1561 -v
to see comments etc. and then run 'svn update'.

sorry for annoying, and thanks for patience,

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From staw at gust.org.pl  Thu Apr 27 06:46:15 2006
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 27 Apr 2006 06:46:15 +0200 (CEST)
Subject: [tex-live] svn vs. p4
In-Reply-To: <200604270105.k3R15xi30643@f7.net>
Message-ID: <Pine.LNX.4.44.0604270610100.1903-100000@re86.internetdsl.tpnet.pl>

On Wed, 26 Apr 2006, Karl Berry wrote:

> Meanwhile, the dirs-changed stuff is a detail.  I know from your
> separate mail to me that svn is proving extremely painful to you, and if
> TL is ever going to make another release, there is no question that you
> need to be able to work efficiently.
> 
> So what is acceptable to you?  Should we forget about svn and go back to
> p4 permanently?  We can do that, but it would be best to decide to do it
> now, before any "real" changes have been made to the svn repository.
> 
> I myself could be persuaded either way.  Many operations were
> significantly more efficient with p4.  P4 keeps track of changes from
> the repository itself, so it rarely needs to traverse the repository.
> 
> Svn, by contrast, has to do that all the time, since it essentially
> keeps information on a directory-by-directory basis.  On our 2gb
> repository, this is inherently slow.  I don't know of any other svn
> projects nearly this big; gcc is small by comparison.
> 
> On the other hand, svn has no licensing issues, and its paradigm is much
> more widely familiar to developers.  Perhaps there is a greater chance
> that TL could eventually have more contributors with svn.
> 
> What do you think?  What do others think?  Perhaps something to ponder
> on the way to / at BachoTeX ...

Karl, many thanks for your notes, patience and deep insight. I'd like to
say that I'm not against svn. I like it and I'm happy to use svn for 3
other projects (anyway much more small). Last year we experimented with
berlioz and sarovar, but failed to use, as you wrote, efficiently.
Well, we will try to discuss that problem at BachoTeX. Sight.
And again, what do others think?

All the best,

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From wl at gnu.org  Thu Apr 27 06:48:09 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 27 Apr 2006 06:48:09 +0200 (CEST)
Subject: [tex-live] svn update killed
In-Reply-To: <Pine.LNX.4.44.0604270539010.1903-100000@re86.internetdsl.tpnet.pl>
References: <200604270105.k3R15gV30545@f7.net>
	<Pine.LNX.4.44.0604270539010.1903-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20060427.064809.189948111.wl@gnu.org>


> > The svn update for me on the whole hierarchy takes <3 minutes.  I gather
> > things are much worse for you?
> 
> Hmmm... about 20' here

For me it's <3 minutes too.

> I meant to find what has last been committed, something similar to
> 'p4 changes -l -m 3' just to see quickly if something has changed,
> and...  is worth to run 'svn update'

It should be straightforward to implement a script which does the
following:

  . Run `svn update Build/cdbuild/logs/svnlog'.  This takes less than
    a second for me.

  . Parse the last changelog entry for the indented file names which
    come after the `Changed paths:' line, extract all directories,
    sort and uniquify them, and finally call `svn update' on only
    those directories.

I think this would be the fastest way to update the complete SVN
repository.


   Werner

From wl at gnu.org  Thu Apr 27 07:17:45 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 27 Apr 2006 07:17:45 +0200 (CEST)
Subject: [tex-live] svn update killed
In-Reply-To: <20060427.064809.189948111.wl@gnu.org>
References: <200604270105.k3R15gV30545@f7.net>
	<Pine.LNX.4.44.0604270539010.1903-100000@re86.internetdsl.tpnet.pl>
	<20060427.064809.189948111.wl@gnu.org>
Message-ID: <20060427.071745.99461456.wl@gnu.org>


> It should be straightforward to implement a script which does the
> following:

Aah, I forgot to handle more than a single revision.  So it's rather
like this.

  . Run `svn info Build/cdbuild/logs/svnlog' and extract the
    `Revision' field to get the current revision of the local SVN
    copy.

  . Run `svn update Build/cdbuild/logs/svnlog'.  This takes less than
    a second for me.

  . Parse the last svnlog entries for indented file names which come
    after the `Changed paths:' lines (down to the revision entry we've
    just found), then extract all directories, sort and uniquify them,
    and finally call `svn update' on only those directories.


   Werner

From frank at kuesterei.ch  Thu Apr 27 19:32:54 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Thu, 27 Apr 2006 19:32:54 +0200
Subject: [tex-live] Unclear License of AMSLaTeX
Message-ID: <86psj26i0p.fsf@alhambra.kuesterei.ch>

Dear AMSLaTeX team,

I'm a little confused with regard to the license of amslatex.  On CTAN
and in the TeX Catalogue, the license information says that it is
licensed under the LPPL (LaTeX Project Public License).  However,
neither on amslatex' homepage, http://www.ams.org/tex/amslatex.html, nor
in the files on CTAN is a hint that this is actually true.

On the contrary, one of the files in the amsrefs subdirectory,
pcatcode.dtx, says that it's licensed under the Artistic license (which
is pretty unspecific, there are many versions around), and most other
files contain a statement like this:

%%%     copyright       = "Copyright 1995 American Mathematical Society,
%%%                        all rights reserved.  Copying of this file is
%%%                        authorized only if either:
%%%                        (1) you make absolutely no changes to your copy,
%%%                        including name; OR
%%%                        (2) if you do make changes, you first rename it
%%%                        to some other name.",

This is clearly not what the LPPL grants and requires, not even older
versions:

- it does not permit to distribute changed versions, even when renamed, 

- the current LPPL allows to change the internal identification as an
  alternative to renaming the file, and

- this text doesn't even allow to copy amsclass.dtx to amsclass.dtx.bak

I am sure this is not what was originally intended.  Therefore I'd like
to kindly request that you clarify the license situation, communicate
this to distributors, and include the information in the next release.
In my opinion, the LPPL is indeed a good choice for a LaTeX extension,
and I'd be glad to see amslatex unambiguously LPPL'ed.

Anyway, many thanks for providing and maintaining this great LaTeX
extension! 

Kind regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)


From damon at installjammer.com  Thu Apr 27 21:38:47 2006
From: damon at installjammer.com (Damon Courney)
Date: Thu, 27 Apr 2006 19:38:47 +0000 (UTC)
Subject: [tex-live] InstallJammer
References: <44489010.4030600@ptb.de>
	<17481.30276.696036.754702@zarniwoop.ms25.local>
Message-ID: <loom.20060427T213834-479@post.gmane.org>

Reinhard Kotucha <reinhard.kotucha <at> web.de> writes:

> 
> >>>>> "Rolf" == Rolf Niepraschk <Rolf.Niepraschk <at> ptb.de> writes:
> 
>   > Welcome to the home of InstallJammer on the web.  InstallJammer is
>   > a multiplatform GUI installer designed to be completely
>   > cross-platform and function on Windows and most all versions of
>   > UNIX with eventual support for Mac OS X.
> 
> Maybe a nice feature for Windows users who never care about what they
> do.
> 
> I do not accept binary installers because I can't see what they do
> before I execute them.
> 
> And I'm not always at home when I install new software on my computer
> at home.  An installer which requires X11 is not very useful at all.
> 
> Hence I'm quite happy that Frank K?ster told us that the licence is
> inappropriate.


    So, what about RPM?  Do you actually run your RPM without installing
to see what it will do everytime before actually installing, or do you just
'rpm -i' it when it comes from a reputable source?  Or, do you always just
compile everything from source?

    While I tend to agree with you that I don't like installing things when
I don't know what they're doing, if you've downloaded it from a reputable
source (like the developer), I generally expect that the installer is safe.
The same should be said for RPMs and even .tar.gz's for that matter.  Just
because you compile the source yourself doesn't mean it won't do something
tricky once it's installed.  Binary installers, like any means of getting
software onto a computer, can be trusted only as far as you trust where the
software (and installer) came from.

    I wrote InstallJammer because my mother would NEVER, in her lifetime, be
able to use a Linux system because she would never figure out (or take the
time to figure out) how to install software.  I want to see Linux in the
desktop world, and on the average user's computer, but software installation
seems to be a big sticking point with a lot of average users (and developers,
like myself, who write for the average user).

    Windows users care just as much as the next person about the software
they put on their computer.  No one WANTS spam and spyware and viruses, but
that's not inherent to the installers they use.  Remember.  Even you would
have popped in a Sony CD without a second thought to it before the rootkit
scandal hit.  I would have too.

    Even if you did teach every new user how to install Linux software with
the one of a half dozen package systems available (depending on your distro),
or God help you, teach them to (configure && make install), 999 out of 1000
of them would still just do it exactly as you showed them after they
downloaded something.

    Every developer chooses their own method of delivery.  With InstallJammer,
I can package up everything exactly as I want it and make it so that when it
installs on the target system, it does everything I want in a way that's easy
for the average user to understand.  People just want their software.  They
don't care how they get it onto the machine.  We can't all be security gurus.

Damon


From reinhard.kotucha at web.de  Thu Apr 27 22:10:28 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 27 Apr 2006 22:10:28 +0200
Subject: [tex-live] svn update killed
In-Reply-To: <20060427.064809.189948111.wl@gnu.org>
References: <200604270105.k3R15gV30545@f7.net>
	<Pine.LNX.4.44.0604270539010.1903-100000@re86.internetdsl.tpnet.pl>
	<20060427.064809.189948111.wl@gnu.org>
Message-ID: <17489.9524.593000.624918@zarniwoop.ms25.local>

>>>>> "Werner" == Werner LEMBERG <wl at gnu.org> writes:

  > It should be straightforward to implement a script which does the
  > following:

  >   . Run `svn update Build/cdbuild/logs/svnlog'.  This takes less
  > than a second for me.

I'm just trying to write such a script. However,
Build/cdbuild/logs/svnlog begins like this:

r1560 | karl | 2006-04-23 20:05:05 +0200 (Sun, 23 Apr 2006) | 2 lines

But we are actually at rev 1561.  We also need the information what
had been changed in rev 1561.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From Gerben.Wierda at rna.nl  Fri Apr 28 00:38:43 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 28 Apr 2006 00:38:43 +0200
Subject: [tex-live] svn vs. p4
Message-ID: <57448493-C45A-47E7-A98D-9C9BBCE10E46@rna.nl>

On 27 Apr 2006, at 06:46, Staszek Wawrykiewicz wrote:

> And again, what do others think?

My personal feeling is that as long as fully free tools are not as  
good as p4, we should stick with p4. That is purely pragmatic.

G

From Gerben.Wierda at rna.nl  Fri Apr 28 09:07:22 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 28 Apr 2006 09:07:22 +0200
Subject: [tex-live] svn vs. p4
In-Reply-To: <17489.24888.852522.90915@zarniwoop.ms25.local>
References: <57448493-C45A-47E7-A98D-9C9BBCE10E46@rna.nl>
	<17489.24888.852522.90915@zarniwoop.ms25.local>
Message-ID: <840834DB-3650-4051-A6E4-BC9C932C1932@rna.nl>

On 28 Apr 2006, at 02:26, Reinhard Kotucha wrote:

>>>>>> "Gerben" == Gerben Wierda <Gerben.Wierda at rna.nl> writes:
>
>> On 27 Apr 2006, at 06:46, Staszek Wawrykiewicz wrote:
>>> And again, what do others think?
>
>> My personal feeling is that as long as fully free tools are not as
>> good as p4, we should stick with p4. That is purely pragmatic.
>
> I can't disagree but there are a few points to consider:
>
> 1. I had the impression that Karl has never been very convinced that
>    p4 is the best solution.

I think we should let arguments like these out. We are talking about  
merits and drawbacks.

> 2. It seems that the most severe problem is that svn scans the whole
>    tree on the local disk, which consumes some time.  This problem
>    will vanish in a few years when hardware will be faster.  The
>    machine I bought some months ago provides acceptable results.

This argument certainly does not count for me. I keep TeX alive for  
older systems and my main system is as old as possible because newer  
systems are generally downward compatible.

>    Most people prefer svn and I think that in a few years everybody is
>    happier with svn than with p4.  But Karl spent an enormous amount
>    of time to switch to svn the last few months and I don't expect
>    that he is willing to do all this again in a few years if we stick
>    with p4 now.

Again, this is on a good argument to use. First, most people do not  
have the size we have. We should stick to actual merits and  
drawbacks. E.g. speed and license.

> 3. It is possible to overcome some problems by writing some scripts.
>    I just started to write one which runs svn info to determine the
>    revision number of the local repository and then scans svnlog.
>    Some improvements still have to be done to make it useful.

If there is a good and trustworthy technical solution for the  
drawbacks of one system, that counts as an improvement.

> 4. The authors of svn certainly had never such a huge project in
>    mind.  I'm sure that they are interested in our feedback and will
>    improve the system.  What we have to do is to find out where the
>    bottlenecks are.

That is a good point in the OSS world. But I do feel that being  
guinea pig for another project would be a second level arument as best.

> 5. I like svn.

Let's skip that one too. If you can make 3 work, we are one step  
further IMO.

G

From frank at kuesterei.ch  Fri Apr 28 12:06:22 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri, 28 Apr 2006 12:06:22 +0200
Subject: [tex-live] InstallJammer
In-Reply-To: <loom.20060427T213834-479@post.gmane.org> (Damon Courney's
	message of "Thu, 27 Apr 2006 19:38:47 +0000 (UTC)")
References: <44489010.4030600@ptb.de>
	<17481.30276.696036.754702@zarniwoop.ms25.local>
	<loom.20060427T213834-479@post.gmane.org>
Message-ID: <86ejzixbdt.fsf@alhambra.kuesterei.ch>

Damon Courney <damon at installjammer.com> wrote:

>     So, what about RPM?  Do you actually run your RPM without installing
> to see what it will do everytime before actually installing, or do you just
> 'rpm -i' it when it comes from a reputable source?  Or, do you always just
> compile everything from source?

I'm not Reinhard, but personally, I do install binary package, but only
when I trust the origin.

>     I wrote InstallJammer because my mother would NEVER, in her lifetime, be
> able to use a Linux system because she would never figure out (or take the
> time to figure out) how to install software.  I want to see Linux in the
> desktop world, and on the average user's computer, but software installation
> seems to be a big sticking point with a lot of average users (and developers,
> like myself, who write for the average user).

I agree that for many users it is important to have an installer with a
nice user interface.  I don't agree that this is a reason to stay away
from Linux - distributions with internal consitency checking and a
canonical download URL (like Linux distros, or cygwin, fink, etc.) are
half of the answer for the installation problems people have.  A decent
user interface, graphically or menu-driven, is the second.

For a TeX distribution like TeXlive, all the "are all required libraries
installed" stuff isn't needed, so here the main point is indeed the user
interface.  Personally, I prefer a non-graphical interface, but I guess
we should try to offer both.  And on Windows and MacOS, one probably can
live with only a graphical one.

>     Every developer chooses their own method of delivery.  With InstallJammer,
> I can package up everything exactly as I want it and make it so that when it
> installs on the target system, it does everything I want in a way that's easy
> for the average user to understand.  People just want their software.  

The concept for sure sounds nice.  But why did you choose the MPL as a
license?  All the patent clauses in there are extremely worrisome.
Furthermore, I don't think the TeXlive team would want to take the
responsibility imposed by clause 3.2:

,---- 3.2. Availability of Source Code.
|      Any Modification [...] must be made available in Source Code form
|      under the terms of this License either on the same media as an
|      Executable version or via an accepted Electronic Distribution
|      Mechanism [...], if made available via Electronic Distribution
|      Mechanism, must remain available for at least twelve (12) months
|      after the date it initially became available, or at least six (6)
|      months after a subsequent version of that particular Modification
|      has been made available to such recipients. You are responsible
|      for ensuring that the Source Code version remains available even
|      if the Electronic Distribution Mechanism is maintained by a third
|      party.
`----

This seems to imply that, if we make changes to the source and use the
result as an installer for TeXlive, we must restrict TeXlive's
distribution: We couldn't allow others to offer disk images on their
servers unless they guarantee us that they will keep those images for at
least 12 months.  This sounds inacceptable to me.

Frankly, I don't see why one would want to use this license unless 

- software patents are in fact involved, and

- the original author holds such patents and wants to make money with
  them, or at least keep that possibility.

Unless this isn't true for you, I'd recommend to use an accepted
license, if you want copyleft, the GPL (either "version 2", or "version
2 or later").

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)


From tech-support at ams.org  Fri Apr 28 16:20:54 2006
From: tech-support at ams.org (AMS Technical Support)
Date: Fri, 28 Apr 2006 10:20:54 -0400 (EDT)
Subject: [tex-live] Unclear License of AMSLaTeX
Message-ID: <Pine.GSO.4.60.0604280956370.14485@snort.ams.org>

hi, frank, et al.

please be assured that our intent is simply to ensure
that, when one of our authors uses an ams-latex package,
s/he can be certain that it is the one that we support,
not a modified version.  there is no intent to restrict
distribution of changed versions as long as the name
has been changed and any indication that ams is the
source of support has been removed.  (this applies as
well to ams-tex and amsfonts, which are on ctan, and
to specific ams author packages, which are not.)

the wording of the copyright is drawn from knuth's
original on tex itself, long before latex or any similar
license existed.  we have used this wording from our very
first release of ams-tex, and haven't changed it since then.
the latex team has accepted in good faith that our intent
coincides with theirs, but with the growing controversy
over the wording of licenses, it appears this acceptance
is not general.

i'm not really familiar with the file pcatcode.dtx.
amsrefs has always been in the purview of another person,
first michael downes, and now david jones.  however, i
know that michael was a party to many latex license
discussions, and that is perhaps why he chose to cite
the artistic license rather than use the "usual" ams
statement.  since he's no longer with us, we can't know
for sure, although i'm willing to ask frank mittelbach.

regarding the "usual" ams statement, i've started a
discussion here about possibly changing the statement
to the lppl, or whatever is appropriate that will still
ensure the "authority" of what is in distribution so
that we won't be blind-sided by author submissions
based on modified versions that we're not aware of,
and can't support.  it's very important to us that
ams-latex has been adopted into standard latex; we
hope the entire community benefits -- we certainly do.

any change will have to be approved here by higher
management, and we are not likely to distribute a new
release without also taking into account the bug reports
that have surfaced since the last release, so getting
something done will take some time.  but we will try.

Barbara Beeton
Technical Support
American Mathematical Society
Phone: 800-321-4AMS (321-4267) or 401-455-4080
Internet: tech-support at ams.org

p.s.  your message to tech-support was trapped by
our spam filter, although the copy to tex-live was
not.  i'm totally confused, and have turned that
over to our systems gurus to decipher.  do you have
any ideas why this might have happened?

---------- Original message ----------
Date: Thu, 27 Apr 2006 19:32:54 +0200
From: "[iso-8859-1] Frank K?ster" <frank at kuesterei.ch>
To: tech-support at ams.org
Cc: 363061 at bugs.debian.org, TeXLive <texlive at tug.org>
Subject: Unclear License of AMSLaTeX

Dear AMSLaTeX team,

I'm a little confused with regard to the license of amslatex.  On CTAN
and in the TeX Catalogue, the license information says that it is
licensed under the LPPL (LaTeX Project Public License).  However,
neither on amslatex' homepage, http://www.ams.org/tex/amslatex.html, nor
in the files on CTAN is a hint that this is actually true.

On the contrary, one of the files in the amsrefs subdirectory,
pcatcode.dtx, says that it's licensed under the Artistic license (which
is pretty unspecific, there are many versions around), and most other
files contain a statement like this:

%%%     copyright       = "Copyright 1995 American Mathematical Society,
%%%                        all rights reserved.  Copying of this file is
%%%                        authorized only if either:
%%%                        (1) you make absolutely no changes to your copy,
%%%                        including name; OR
%%%                        (2) if you do make changes, you first rename it
%%%                        to some other name.",

This is clearly not what the LPPL grants and requires, not even older
versions:

- it does not permit to distribute changed versions, even when renamed,

- the current LPPL allows to change the internal identification as an
   alternative to renaming the file, and

- this text doesn't even allow to copy amsclass.dtx to amsclass.dtx.bak

I am sure this is not what was originally intended.  Therefore I'd like
to kindly request that you clarify the license situation, communicate
this to distributors, and include the information in the next release.
In my opinion, the LPPL is indeed a good choice for a LaTeX extension,
and I'd be glad to see amslatex unambiguously LPPL'ed.

Anyway, many thanks for providing and maintaining this great LaTeX
extension!

Kind regards, Frank
--
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)

From frank at kuesterei.ch  Fri Apr 28 17:42:29 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri, 28 Apr 2006 17:42:29 +0200
Subject: [tex-live] InstallJammer
In-Reply-To: <4452231E.5080002@installjammer.com> (Damon Courtney's message
	of "Fri, 28 Apr 2006 09:13:50 -0500")
References: <44489010.4030600@ptb.de>
	<17481.30276.696036.754702@zarniwoop.ms25.local>
	<loom.20060427T213834-479@post.gmane.org>
	<86ejzixbdt.fsf@alhambra.kuesterei.ch>
	<4452231E.5080002@installjammer.com>
Message-ID: <86lktpu2oq.fsf@alhambra.kuesterei.ch>

Damon Courtney <damon at installjammer.com> wrote:

>     Obviously the BSD License would provide no restrictions
> whatsoever, so how do you guys feel about it?  I've never really had a
> licensing discussion with anyone, so I'm very open to hearing opinions
> on the matter. :)

Oh, I'm fine with the BSD license (as long as you don't forget to
replace "The Regents of the University of California" and "REGENTS" by
your name...).  I only suggested GPL because the MPL is kind-of
copyleft, as is the GPL, whereas the BSD license allows closed-source
derivatives.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)


From thomas.trietz at nmb-minebea.com  Thu Apr 27 09:20:55 2006
From: thomas.trietz at nmb-minebea.com (THOMAS TRIETZ)
Date: Thu, 27 Apr 2006 09:20:55 +0200
Subject: [tex-live] Problem mit der Nutzung von TeXshop
Message-ID: <OF2E26347E.36F9538C-ONC125715D.0027B86E-C125715D.00285E3F@nmb-minebea.com>



Sehr geehrte Damen und Herren !

Ich habe vor kurzem das TeXLive Paket f?r MacOSX auf meinem iMac Intel Core
Duo installiert und wollte als Frontend TeXshop verwenden.
Ungl?cklicherweise bekomme ich beim Versuch ein Dokument zu setzen immer
die Fehlermeldung :
/usr/local/bin/platex2pdf-euc -> line 12 ptex command not found.

Muss ich bei der Installation von TeXshop noch etwas beachten oder muss
TeXshop in ein bestimmtes Verzeichnis installiert werden?

                                                                        mit
freundlichen Gr?ssen

Thomas Trietz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20060427/c63c1e13/attachment.htm 

From damon at installjammer.com  Fri Apr 28 16:13:50 2006
From: damon at installjammer.com (Damon Courtney)
Date: Fri, 28 Apr 2006 09:13:50 -0500
Subject: [tex-live] InstallJammer
In-Reply-To: <86ejzixbdt.fsf@alhambra.kuesterei.ch>
References: <44489010.4030600@ptb.de>	<17481.30276.696036.754702@zarniwoop.ms25.local>	<loom.20060427T213834-479@post.gmane.org>
	<86ejzixbdt.fsf@alhambra.kuesterei.ch>
Message-ID: <4452231E.5080002@installjammer.com>


> I'm not Reinhard, but personally, I do install binary package, but only
> when I trust the origin.
>   

    I think this should be true of all software.  There's nothing that 
says an RPM or a .tar.gz is more inherently more safe than a binary 
installer.

> I agree that for many users it is important to have an installer with a
> nice user interface.  I don't agree that this is a reason to stay away
> from Linux - distributions with internal consitency checking and a
> canonical download URL (like Linux distros, or cygwin, fink, etc.) are
> half of the answer for the installation problems people have.  A decent
> user interface, graphically or menu-driven, is the second.
>
> For a TeX distribution like TeXlive, all the "are all required libraries
> installed" stuff isn't needed, so here the main point is indeed the user
> interface.  Personally, I prefer a non-graphical interface, but I guess
> we should try to offer both.  And on Windows and MacOS, one probably can
> live with only a graphical one.
>   

    The 1.0 release has been a long time coming (more than 5 years in 
development), so I'm really focused on getting it out the door right 
now, but one of the features I plan to add in the next release is a 
console-driven installer.  In the builder, you could easily build a 
console-only installer, or you could build a regular, graphical 
installer with the user having the option to use it in console mode (or 
it automatically detecting on DISPLAY and going console).  You are 
correct that almost no one would do this on Windows and very rarely on 
OS X.  For the record, InstallJammer currently does support a silent 
install mode from the command-line.

> The concept for sure sounds nice.  But why did you choose the MPL as a
> license?  All the patent clauses in there are extremely worrisome.
> Furthermore, I don't think the TeXlive team would want to take the
> responsibility imposed by clause 3.2:
>   

    To be quite honest, I only chose it because after doing some 
reading, I learned that it was probably the best license for a possible 
open source / commercial hybrid.  I wasn't really sure where I wanted to 
go with InstallJammer in the future, and I wanted to keep my options open.

> ,---- 3.2. Availability of Source Code.
> |      Any Modification [...] must be made available in Source Code form
> |      under the terms of this License either on the same media as an
> |      Executable version or via an accepted Electronic Distribution
> |      Mechanism [...], if made available via Electronic Distribution
> |      Mechanism, must remain available for at least twelve (12) months
> |      after the date it initially became available, or at least six (6)
> |      months after a subsequent version of that particular Modification
> |      has been made available to such recipients. You are responsible
> |      for ensuring that the Source Code version remains available even
> |      if the Electronic Distribution Mechanism is maintained by a third
> |      party.
> `----
>
> This seems to imply that, if we make changes to the source and use the
> result as an installer for TeXlive, we must restrict TeXlive's
> distribution: We couldn't allow others to offer disk images on their
> servers unless they guarantee us that they will keep those images for at
> least 12 months.  This sounds inacceptable to me.
>
> Frankly, I don't see why one would want to use this license unless 
>
> - software patents are in fact involved, and
>
> - the original author holds such patents and wants to make money with
>   them, or at least keep that possibility.
>
> Unless this isn't true for you, I'd recommend to use an accepted
> license, if you want copyleft, the GPL (either "version 2", or "version
> 2 or later").
>   

    I don't know that I would ever go GPL.  I, personally, don't agree 
with a lot of the GPL.  My license of choice has always been BSD because 
I truly believe in being able to do anything you want with the 
software.  I've written a lot of open source code, and I've released a 
lot of software, but InstallJammer was the first thing I ever spent 
years on and really poured my heart into.  I didn't want to see it 
stolen out from under me, but I also really don't care for the GPL.  It 
leaves a bad taste in my mouth.

    Obviously the BSD License would provide no restrictions whatsoever, 
so how do you guys feel about it?  I've never really had a licensing 
discussion with anyone, so I'm very open to hearing opinions on the 
matter. :)

Thanks for the reply,

Damon

From karl at freefriends.org  Fri Apr 28 20:00:39 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 28 Apr 2006 13:00:39 -0500
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <Pine.GSO.4.60.0604280956370.14485@snort.ams.org>
Message-ID: <200604281800.k3SI0dS08710@f7.net>

    - the current LPPL allows to change the internal identification as an
       alternative to renaming the file, and

Indeed, this is the main difference between the "Knuth" license and the
current LPPL, as I know you know.

    - it does not permit to distribute changed versions, even when renamed,

Well, once you have a changed version, further copying of that unchanged
version could perhaps be construed as permitted under clause (1).

    - this text doesn't even allow to copy amsclass.dtx to amsclass.dtx.bak

Hmm.  Perhaps the name change could be interpreted as part of "if you do
make changes", ie, one possible change is changing the name.  Imagine
cp amsclass.dtx{,.bak}, changing one byte, then reverting the one byte ...


I am straining to find a way to interpret the clauses non-literally
because I agree with you that the wording here is not ideal.  However,
amslatex is not the only issue.  plain.tex and other basic TeX system
files written by DEK (and others) are under a similar license.
Furthermore, tex.web and mf.web are under an even more "restrictive"
license.

I do not believe it is in the overall public interest to ask DEK to
spend one second contemplating these things instead of working on the
Art of Computer Programming.  I am also virtually certain (barbara might
chime in) that it would be a waste of time, as he has made his wishes
clear many, many times and would not be inclined to change anything.
The fact that a literal interpretation of his "license" texts is not
perfectly congruent with his wishes is an unfortunate fact of life.

Needless to say, TeX Live is not ever going to consider TeX as
"nonfree" :).

karl

From frank at kuesterei.ch  Fri Apr 28 20:26:59 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri, 28 Apr 2006 20:26:59 +0200
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <200604281800.k3SI0dS08710@f7.net> (Karl Berry's message of
	"Fri, 28 Apr 2006 13:00:39 -0500")
References: <200604281800.k3SI0dS08710@f7.net>
Message-ID: <86fyjxr1xo.fsf@alhambra.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     - it does not permit to distribute changed versions, even when renamed,
>
> Well, once you have a changed version, further copying of that unchanged
> version could perhaps be construed as permitted under clause (1).

Further copying for your private use, yes.  But in IP law, everything
that isn't explictly allowed is generally forbidden.  Therefore I must
correct me:  This doesn't allow anyone to distribute amslatex, not even
unchanged versions; only AMS is allowed to do so.

>     - this text doesn't even allow to copy amsclass.dtx to amsclass.dtx.bak
>
> Hmm.  Perhaps the name change could be interpreted as part of "if you do
> make changes", ie, one possible change is changing the name.  Imagine
> cp amsclass.dtx{,.bak}, changing one byte, then reverting the one byte ...

Well, one could read it this way.  

> I am straining to find a way to interpret the clauses non-literally
> because I agree with you that the wording here is not ideal.  However,
> amslatex is not the only issue.  plain.tex and other basic TeX system
> files written by DEK (and others) are under a similar license.
> Furthermore, tex.web and mf.web are under an even more "restrictive"
> license.

No, Knuth's stuff is not a problem I think.  At least for tex.web and
mf.web I am sure.  Look at http://www.ntg.nl/maps/pdf/5_34.pdf

Here Knuth essentially says that the code is public domain, and only
imposes restrictions on naming:

   ,----
   | My work on developing TEX, METAFONT, and Computer
   | Modern has come to an end. I willmake no further
   | changes except to correct extremely serious bugs.
   | 
   | I have put these systems into the public domain so that
   | people everywhere can use the ideas freely if they wish.
   | 
   | [...]
   | As stated on the copyright pages of Volumes B, D, and
   | E, anybody can make use of my programs in whatever
   | way they wish, as long as they do not use the names
   | TEX, METAFONT, or Computer Modern. In particular,
   | any person or group who wants to produce a program
   | superior to mine is free to do so. However, nobody is
   | allowed to call a system TEX or METAFONT unless that
   | system conforms 100% to my own programs, as I have
   | specified in the manuals for the TRIP and TRAP tests.
   | And nobody is allowed to use the names of the Computer
   | Modern fonts in Volume E for any fonts that do not
   | produce identical tfm files. This prohibition applies to
   | all people or machines, whether appointed by TUG or
   | by any other organization. I do not intend to delegate the
   | responsibility formaintainance of TEX, METAFONT, or
   | Computer Modern to anybody else, ever.
   `----

Therefore, pdfTeX 1.40 has been promised to to not use tex.web at all,
but only its already changed version.

> I do not believe it is in the overall public interest to ask DEK to
> spend one second contemplating these things instead of working on the
> Art of Computer Programming.  I am also virtually certain (barbara might
> chime in) that it would be a waste of time, as he has made his wishes
> clear many, many times and would not be inclined to change anything.
> The fact that a literal interpretation of his "license" texts is not
> perfectly congruent with his wishes is an unfortunate fact of life.

I think the text quoted above makes his wishes quite literal, and IMO
are perfectly free by any sane or debianish ;-) criterion.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)


From karl at freefriends.org  Fri Apr 28 20:35:12 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 28 Apr 2006 13:35:12 -0500
Subject: [tex-live] svn vs. p4
In-Reply-To: <840834DB-3650-4051-A6E4-BC9C932C1932@rna.nl>
Message-ID: <200604281835.k3SIZCS17955@f7.net>

    I'm sure that they are interested in our feedback 

I've sent in several bug reports, related to initially populating the
hierarchy.  I mentioned that it was for TeX Live, that our repo is
measured in gigabytes, we are cross-platform, etc.  They were helpful,
more or less, but I did not get any kind of feedback like "wow, what a
huge project, let us know if you run into any problems" ... most of my
cross-platform reports basically petered out into "no change".

    But Karl spent an enormous amount of time to switch to svn the last
    few months and I don't expect that he is willing to do all this
    again in a few years if we stick with p4 now.

The thing which I care about most is getting a release done.  If Staszek
cannot work efficiently, for whatever reason, that's not going to
happen.  (Or, at best, the release will be distinctly inferior.)  We
haven't even gotten into Windows + svn issues yet, which I feel sure
will be worse than anything encountered so far ...

It is true that I put in a lot of effort making the switch to svn, but
that by itself is not an argument for not reverting to p4.  I already
said I can go either way on this, and outlined the pros and cons as I
saw them.

More on the script thing in a bit ...

karl


From karl at freefriends.org  Fri Apr 28 21:00:34 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 28 Apr 2006 14:00:34 -0500
Subject: [tex-live] svn update killed
In-Reply-To: <17489.9524.593000.624918@zarniwoop.ms25.local>
Message-ID: <200604281900.k3SJ0Yx25448@f7.net>

    Build/cdbuild/logs/svnlog begins like this:

I don't think parsing svnlog is the thing to do.  As I said, I only
update that once a day.  It could be done more often, but no matter how
often, it would still be asynchronous.

Instead, I think we can the svn tools directly to get what Staszek
wants.  In particular, svnlook youngest REPOS prints the latest revision
number.  svnlook -r REV dirs-changed REPOS reports directories changed
in any given revision.  I forget the command to print the revision in
the current repo, but I know there is one.  Given all that, it seems
like it should be relatively easy to report all dirs changed since the
last update?

Unfortunately it seems svnlook does not take ranges, but maybe I'm not
specifying it right.  Or maybe svn log or svn list does and can provide
the equivalent info.  Just need to take some time reading to see what
can be done easily.

I'm confident that this particular problem can be scripted.  What
worries me more is a 20-minute update time, and the update being
randomly killed (perhaps the two are related).  It should not take 20
minutes to update even the entire hier ... can anyone volunteer to try
tests on Staszek's machine and try to glean any insights?  (Assuming S
does not mind!)

Thanks,
Karl


From frank at kuesterei.ch  Fri Apr 28 21:17:05 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri, 28 Apr 2006 21:17:05 +0200
Subject: [tex-live] Problem mit der Nutzung von TeXshop
In-Reply-To: <OF2E26347E.36F9538C-ONC125715D.0027B86E-C125715D.00285E3F@nmb-minebea.com>
	(THOMAS TRIETZ's message of "Thu, 27 Apr 2006 09:20:55 +0200")
References: <OF2E26347E.36F9538C-ONC125715D.0027B86E-C125715D.00285E3F@nmb-minebea.com>
Message-ID: <86u08dpl1q.fsf@alhambra.kuesterei.ch>

THOMAS TRIETZ <thomas.trietz at nmb-minebea.com> wrote:

> Sehr geehrte Damen und Herren !

Hm, eigentlich ist diese Liste auf englisch...

> Ich habe vor kurzem das TeXLive Paket f?r MacOSX auf meinem iMac Intel
> Core Duo installiert und wollte als Frontend TeXshop
> verwenden. Ungl?cklicherweise bekomme ich beim Versuch ein Dokument zu
> setzen immer die Fehlermeldung : /usr/local/bin/platex2pdf-euc -> line
> 12 ptex command not found.

He has installed TeXLive on his Intel iMac, but TeXshop gives the error
message above.

> Muss ich bei der Installation von TeXshop noch etwas beachten oder
> muss TeXshop in ein bestimmtes Verzeichnis installiert werden?

He asks whether he needs to do anything special when installing TeXshop,
or install it into a specific directory.

I think there's a configuration dialog in TeXshop where you enter the
path where tex executables can be found.  Unfortunately I don't know
where TeXlive installs them on a Mac, but it seems that platex2pdf-euc
is one of them, and is already found?

Ich meine, in TeXshop gibt es einen Konfigurationsdialog, wo man den
Suchpfad zu den tex-Programmen eingeben kann.  Leider wei? ich nicht, wo
TeXlive die auf einem Mac hininstalliert, aber offenbar ist
platex2pdf-euc eines davon, und das wird schon gefunden?

If you just use plain TeX or LaTeX, can you process an appropriate
document without problems?

Wenn Sie einfach plain TeX oder LaTeX verwenden, k?nnen Sie dann ein
geeignetes Dokument ohne Problem ?bersetzen?

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)


From karl at freefriends.org  Fri Apr 28 22:21:08 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 28 Apr 2006 15:21:08 -0500
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <86fyjxr1xo.fsf@alhambra.kuesterei.ch>
Message-ID: <200604282021.k3SKL8x14691@f7.net>

    I think the text quoted above makes his wishes quite literal, 

Of course, but my point was that tex.web says something else.
Just as there are plenty of statements about plain.tex, AMSLaTeX, etc.,
but the actual files say something else.

    and IMO are perfectly free by any sane or debianish ;-) criterion.

Well, glad to hear it.

    Therefore, pdfTeX 1.40 has been promised to to not use tex.web at all,
    but only its already changed version.

Sorry, I fail to understand what that means.

From frank at kuesterei.ch  Fri Apr 28 23:02:18 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Fri, 28 Apr 2006 23:02:18 +0200
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <200604282021.k3SKL8x14691@f7.net> (Karl Berry's message of
	"Fri, 28 Apr 2006 15:21:08 -0500")
References: <200604282021.k3SKL8x14691@f7.net>
Message-ID: <863bfxpg6d.fsf@alhambra.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     I think the text quoted above makes his wishes quite literal, 
>
> Of course, but my point was that tex.web says something else.
> Just as there are plenty of statements about plain.tex, AMSLaTeX, etc.,
> but the actual files say something else.

Ah, okay.  Well, I'd just like to see a similar statement from the AMS
people.  Barbara's mail did, in principle, say this, but on the other
hand it was full of questions and "we'll talk about it".  I perfectly
understand that these things take time; but I'd really prefer to get a
clear statement finally.  And from what Barbara wrote, I assume this
will be possible.

>     Therefore, pdfTeX 1.40 has been promised to to not use tex.web at all,
>     but only its already changed version.
>
> Sorry, I fail to understand what that means.

Martin Schr?der was under the impression that the habit of using tex.web
plus changes files was not just a habit, but actually a license
requirement.  After reading DEK's statement quoted in may last mail, he
said he'd changed his mind.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)


From karl at freefriends.org  Fri Apr 28 23:15:06 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 28 Apr 2006 16:15:06 -0500
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <863bfxpg6d.fsf@alhambra.kuesterei.ch>
Message-ID: <200604282115.k3SLF6U27738@f7.net>

    Martin Schr?der was under the impression that the habit of using tex.web
    plus changes files was not just a habit, but actually a license
    requirement.  After reading DEK's statement quoted in may last mail, he
    said he'd changed his mind.

I see.

Martin et al., are we allowed to discuss this or have you already made a
firm decision?  May I ask what your plans are?  Do you still intend to
use Web2c and Kpathsea?

The licensing is not my main concern.  My concern is the build
infrastructure.  If pdftex is longer based on the change files, then
there will be two sets of sources to maintain -- those based on the
original tex.web, and those based on pdftex.web (or whatever).  This
seems potentially worse than the current situation, unsatisfactory as I
know it is ...


Now, as far as the licensing goes, the only way to know for sure is to
ask DEK.  (This question seems like one that could more usefully be
asked.)  The text at the beginning of tex.web explicitly states that
"changing this file is not allowed".  I don't exactly see that a
statement he has made elsewhere should take precedence over that.  Sure,
DEK has always said that the ideas, algorithms, are in the public domain
and the code can be used as such.  I don't think he's ever said that,
the file tex.web is in the public domain in the literal legal sense.
Indeed, that would contradict his expressed wishes about the naming.

Barbara, do you have any thoughts on this?

karl

From karl at freefriends.org  Fri Apr 28 23:58:54 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 28 Apr 2006 16:58:54 -0500
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <Pine.GSO.4.60.0604281731380.14485@snort.ams.org>
Message-ID: <200604282158.k3SLwsh06132@f7.net>

    i don't think he has
    stated that the only way a genuine "tex" -- that
    being an implementation that passes the trip
    test -- can be created is by using the provided
    change file mechanism.

Agreed, definitely not.  But can it created by 

cp tex.web mytex.web
emacs mytex.web
<hack for a decade or so :)>

?  Or do I have to write my own implementation from scratch, using code
from tex.web as I see fit, but not starting with the whole thing and
modifying it?  That's the crucial question.

I wonder what the commercial implementors did.  Of course their source
code can never be seen, except for Y&Y -- I see no change at all there,
so maybe Berthold just modified the C sources.  Dunno.

    about a fourth point in the list at the top of
      http://www.ams.org/tex
    addressing "licensing"?  if that's acceptable,

I think that would be very helpful.


Thanks,
k

From te at dbs.uni-hannover.de  Sat Apr 29 00:00:44 2006
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat, 29 Apr 2006 00:00:44 +0200
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <200604281800.k3SI0dS08710@f7.net>
References: <Pine.GSO.4.60.0604280956370.14485@snort.ams.org>
	<200604281800.k3SI0dS08710@f7.net>
Message-ID: <20060428220044.GA7970@dbs.uni-hannover.de>

> Furthermore, tex.web and mf.web are under an even more "restrictive"
> license.

This is "blessed" by rms, because of the change file machanism we have.

Thomas

From bnb at ams.org  Fri Apr 28 23:50:02 2006
From: bnb at ams.org (Barbara Beeton)
Date: Fri, 28 Apr 2006 17:50:02 -0400 (EDT)
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <200604282115.k3SLF6U27738@f7.net>
References: <200604282115.k3SLF6U27738@f7.net>
Message-ID: <Pine.GSO.4.60.0604281731380.14485@snort.ams.org>

    Now, as far as the licensing goes, the only way to know for sure is to
    ask DEK.  (This question seems like one that could more usefully be
    asked.)  [...]

when i get some time, i can dig into my archives
and see if i can find a statement about this.
i'm pretty sure he feels that tex.web is the
"final authority", but i don't think he has
stated that the only way a genuine "tex" -- that
being an implementation that passes the trip
test -- can be created is by using the provided
change file mechanism.  and, after all, formally
all the implementations i can think of (other
than dek's own original one) have the name
embellished by something else -- tetex, miktex,
gwtex, textures, etc., etc., etc., even though
system-dependent mods are explicitly allowed
and provided for.

    [...]  The text at the beginning of tex.web explicitly states that
    "changing this file is not allowed".  I don't exactly see that a
    statement he has made elsewhere should take precedence over that.  [...]

and it never will.  he *has* stated clearly
(although i can't think of a clear citation at
the moment) that the change mechanism provides
all that is needed for anyone else to make
system-dependent or application-dependent mods.

    [...]  Sure,
    DEK has always said that the ideas, algorithms, are in the public domain
    and the code can be used as such.  I don't think he's ever said that,
    the file tex.web is in the public domain in the literal legal sense.
    Indeed, that would contradict his expressed wishes about the naming.

and i don't believe he will ever remove the
restriction on naming and the principle that
he is the only one allowed to change tex.web.
somewhere in the documentation with his change
log or errata files is the explicit statement
of his wish that at his death the canonical
version number will become the constant "pi"
and not a numerical approximation.  similarly
with metafont and "e".

    Barbara, do you have any thoughts on this?

before asking dek any questions (and i'm sure
he's been asked before, with responses pretty
much as i've outlined above), the archives
should really be checked.  the tex-implementors
archive (although that's not up to date; i've
really gotten behind) or ancient texhax would
be the first places i'd look after dek's tex
distribution documentation.

if making the ams intention clear could be done
with a statement on the ams tex web pages, that
could probably be done more quickly than a new
release of all the ams packages.  it'll still
have to be approved by management, but wouldn't
take nearly as much time to implement.  how
about a fourth point in the list at the top of
  http://www.ams.org/tex
addressing "licensing"?  if that's acceptable,
i'll pursue it directly -- i'm in charge of
maintaining that page, and could come up with
a draft for approval in just a few days.
							-- bb

From Gerben.Wierda at rna.nl  Sat Apr 29 11:36:39 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat, 29 Apr 2006 11:36:39 +0200
Subject: [tex-live] Problem mit der Nutzung von TeXshop
In-Reply-To: <86u08dpl1q.fsf@alhambra.kuesterei.ch>
References: <OF2E26347E.36F9538C-ONC125715D.0027B86E-C125715D.00285E3F@nmb-minebea.com>
	<86u08dpl1q.fsf@alhambra.kuesterei.ch>
Message-ID: <6E0B86B8-850E-4D54-A311-0142171E38F4@rna.nl>

On 28 Apr 2006, at 21:17, Frank K?ster wrote:

> THOMAS TRIETZ <thomas.trietz at nmb-minebea.com> wrote:
>
>> Sehr geehrte Damen und Herren !
>
> Hm, eigentlich ist diese Liste auf englisch...
>
>> Ich habe vor kurzem das TeXLive Paket f?r MacOSX auf meinem iMac  
>> Intel
>> Core Duo installiert und wollte als Frontend TeXshop
>> verwenden. Ungl?cklicherweise bekomme ich beim Versuch ein  
>> Dokument zu
>> setzen immer die Fehlermeldung : /usr/local/bin/platex2pdf-euc ->  
>> line
>> 12 ptex command not found.
>
> He has installed TeXLive on his Intel iMac,

That is not certain. He could have installed MacTeX.dmg which is  
based on i-Installer packages. Or he could have installed with i- 
Installer directly. The i-Installer i-Package is based on TL for the  
programs and the teTeX texmf tree as main texmf tree.

> but TeXshop gives the errormessage above.

He should contact the TeXShop authors. I have no idea what platex2pdf- 
euc is, it is not installed by anything I have produced and the fact  
that it is called, might be something TeXShop specific.

>> Muss ich bei der Installation von TeXshop noch etwas beachten oder
>> muss TeXshop in ein bestimmtes Verzeichnis installiert werden?
>
> He asks whether he needs to do anything special when installing  
> TeXshop,
> or install it into a specific directory.

No.

> I think there's a configuration dialog in TeXshop where you enter the
> path where tex executables can be found.  Unfortunately I don't know
> where TeXlive installs them on a Mac, but it seems that platex2pdf-euc
> is one of them, and is already found?

I think the script is some internal thing of TeXShop, it is inside  
TeXShop and called platex2pfd-euc.bxx there and it is a script that  
combines ptex and dvipdfmx.

> Ich meine, in TeXshop gibt es einen Konfigurationsdialog, wo man den
> Suchpfad zu den tex-Programmen eingeben kann.  Leider wei? ich  
> nicht, wo
> TeXlive die auf einem Mac hininstalliert, aber offenbar ist
> platex2pdf-euc eines davon, und das wird schon gefunden?
>
> If you just use plain TeX or LaTeX, can you process an appropriate
> document without problems?
>
> Wenn Sie einfach plain TeX oder LaTeX verwenden, k?nnen Sie dann ein
> geeignetes Dokument ohne Problem ?bersetzen?

The problem should be relegated to the TeXShop people.

G

From frank at kuesterei.ch  Sat Apr 29 16:19:08 2006
From: frank at kuesterei.ch (=?iso-8859-1?q?Frank_K=FCster?=)
Date: Sat, 29 Apr 2006 16:19:08 +0200
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <200604282158.k3SLwsh06132@f7.net> (Karl Berry's message of
	"Fri, 28 Apr 2006 16:58:54 -0500")
References: <200604282158.k3SLwsh06132@f7.net>
Message-ID: <864q0c5usj.fsf@alhambra.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     i don't think he has
>     stated that the only way a genuine "tex" -- that
>     being an implementation that passes the trip
>     test -- can be created is by using the provided
>     change file mechanism.
>
> Agreed, definitely not.  But can it created by 
>
> cp tex.web mytex.web
> emacs mytex.web
> <hack for a decade or so :)>
>
> ?  Or do I have to write my own implementation from scratch, using code
> from tex.web as I see fit, but not starting with the whole thing and
> modifying it?  That's the crucial question.

Yes, and what about taking out only a portion - e.g. the algorithms for
paragraph and page breaking - while the rest - parsing, expanding,
ligatures etc - are implemented independently?

>     about a fourth point in the list at the top of
>       http://www.ams.org/tex
>     addressing "licensing"?  if that's acceptable,
>
> I think that would be very helpful.

Yes, that would be fine.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX)


From karl at freefriends.org  Sat Apr 29 19:26:46 2006
From: karl at freefriends.org (Karl Berry)
Date: Sat, 29 Apr 2006 12:26:46 -0500
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <864q0c5usj.fsf@alhambra.kuesterei.ch>
Message-ID: <200604291726.k3THQkq14500@f7.net>

    Yes, and what about taking out only a portion - e.g. the algorithms for
    paragraph and page breaking - while the rest - parsing, expanding,
    ligatures etc - are implemented independently?

I'm sure that's ok, because you're not copying the whole file and
editing it.  That sort of reuse is exactly what Knuth explicitly
permitted.

Maybe all he really cares about is redistributing an edited file as
tex.web, and a pdftex.web would be ok.  Hmm.  I can't recall him ever
addressing this question.

As an aside, I believe it would be rather difficult to take out just the
paragraph breaking (or any other significant subsystem), given tex.web's
reliance on global variables, etc.  I somehow have the impression that
the reimplementations in other programs have done it from scratch, not
using Knuth's .web source directly, except perhaps in small pieces.
Maybe I'm wrong ...

karl

From bnb at ams.org  Sat Apr 29 19:48:04 2006
From: bnb at ams.org (Barbara Beeton)
Date: Sat, 29 Apr 2006 13:48:04 -0400 (EDT)
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <200604291726.k3THQkq14500@f7.net>
References: <200604291726.k3THQkq14500@f7.net>
Message-ID: <Pine.GSO.4.60.0604291344580.29929@snort.ams.org>

    As an aside, I believe it would be rather difficult to take out just the
    paragraph breaking (or any other significant subsystem), given tex.web's
    reliance on global variables, etc.  I somehow have the impression that
    the reimplementations in other programs have done it from scratch, not
    using Knuth's .web source directly, except perhaps in small pieces.
    Maybe I'm wrong ...

i know from talking with its author (peter karow) that
the hz system uses the tex paragraphing algorithm.
it was built from scratch.  the core of indesign is
based on the hz system.  i don't know whether that
was built from scratch, or started with the hz code;
i think the latter.
							-- bb

From dak at gnu.org  Sat Apr 29 23:30:51 2006
From: dak at gnu.org (David Kastrup)
Date: Sat, 29 Apr 2006 23:30:51 +0200
Subject: [tex-live] InstallJammer
In-Reply-To: <4452231E.5080002@installjammer.com> (Damon Courtney's message of
	"Fri, 28 Apr 2006 09:13:50 -0500")
References: <44489010.4030600@ptb.de>
	<17481.30276.696036.754702@zarniwoop.ms25.local>
	<loom.20060427T213834-479@post.gmane.org>
	<86ejzixbdt.fsf@alhambra.kuesterei.ch>
	<4452231E.5080002@installjammer.com>
Message-ID: <85iros2ho4.fsf@lola.goethe.zz>

Damon Courtney <damon at installjammer.com> writes:

>> The concept for sure sounds nice.  But why did you choose the MPL
>> as a license?  All the patent clauses in there are extremely
>> worrisome.  Furthermore, I don't think the TeXlive team would want
>> to take the responsibility imposed by clause 3.2:
>>   
>
>     To be quite honest, I only chose it because after doing some
> reading, I learned that it was probably the best license for a
> possible open source / commercial hybrid.  I wasn't really sure
> where I wanted to go with InstallJammer in the future, and I wanted
> to keep my options open.

GPL keeps your options open.

>     I don't know that I would ever go GPL.  I, personally, don't
> agree with a lot of the GPL.

Which clauses?

> My license of choice has always been BSD because I truly believe in
                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
> being able to do anything you want with the software.
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

> I've written a lot of open source code, and I've released a lot of
> software, but InstallJammer was the first thing I ever spent years
> on and really poured my heart into.  I didn't want to see it stolen
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> out from under me,
^^^^^^^^^^^^^^^^^^^^

At one time you have to take your pick.  Either you want to be able to
have somebody "steal your software out from under you" (which is part
of "being able to do anything he wants with the software") or not.


> but I also really don't care for the GPL.  It leaves a bad taste in
> my mouth.

Sorry, but this sounds like superstition.  What terms of the GPL leave
a bad taste in your mouth?

> Obviously the BSD License would provide no restrictions whatsoever,
> so how do you guys feel about it?  I've never really had a licensing
> discussion with anyone, so I'm very open to hearing opinions on the
> matter. :)

I would not use it for an ongoing project where I want to keep reins
and control and have limited resources.  The stuff that would be
financially worth "stealing from out under me" (assuming that you mean
something similar here).

I find the GPL a perfect fit for that.  Whether or not you agree with
Stallman on a personal or philosophical base is pretty much irrelevant
as long as you yourself are the copyright holder and thus in charge of
pursuing potential copyright violations.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From karl at freefriends.org  Sun Apr 30 02:59:16 2006
From: karl at freefriends.org (Karl Berry)
Date: Sat, 29 Apr 2006 19:59:16 -0500
Subject: [tex-live] svn update killed
In-Reply-To: <Pine.LNX.4.44.0604270539010.1903-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200604300059.k3U0xG026777@f7.net>

    I meant to find what has last been committed, something similar to
    'p4 changes -l -m 3' just to see quickly if something has changed,
    and...  is worth to run 'svn update'

That p4 command shows files changed for the last 3 commits?  Well,
as stated, the answer to that is:
  svn log -vq -rHEAD  # note revision number in first line, say 1562
  svn log -vq -r1560:1561

It would obviously be trivial to write a script to automate that for any N.
(BTW, if you leave off the `q', you get the log msgs as well.)


As a perhaps more convenient alternative, it seems the following command
will show all the files that have changed between your last global svn
update and the repository, inclusive:
    svn log -vq -rBASE:HEAD

You can extract just the filenames with some more pipelining:
   | grep '^   [ADMR] ' | cut -c7- | sort -u

(The basic idea comes from http://subversion.tigris.org/faq.html#terse-diff.)

Then you can run  cd /your/svn/root && svn update  to get just those files.
(Where /your/svn/root is the dir with the trunk/, branches/, tags/ subdirs.)

However, I noticed two gotchas in this:

1) svn log reports information from BASE to HEAD *inclusive*.  So it
   will always output the files updated in your last update (BASE).
   I.e., the output of svn log -rBASE:HEAD will not be empty even after
   a global update.

2) When run on a specific set of files, svn update only updates those
   files, reasonably enough.  But svn log works by default on the root
   of your checked-out hierarchy.  Therefore it is necessary to run
svn update -N /your/svn/root
   after updating the files that were actually changed.  Otherwise, the
   next svn log -rBASE:HEAD will report the same set of files.


Bottom line: I believe you can do a "quick" update by running these
three commands:

svn log -vq -rBASE:HEAD |grep '^   [ADMR] ' |cut -c7- |sort -u >/tmp/changed
cd /your/svn/root && svn update `cat /tmp/changed`
svn update -N /your/svn/root

This could be put in a script and fixed up (to determine BASE+1) easily
enough, I imagine, but let's see if it actually solves your problem
first.  And if we're moving forward in general.


The real question is still why your global svn update takes 20 minutes
(although I know even 3 minutes would be a pain) ...


karl

From martin at oneiros.de  Sun Apr 30 12:35:48 2006
From: martin at oneiros.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sun, 30 Apr 2006 12:35:48 +0200
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <200604291726.k3THQkq14500@f7.net>
References: <864q0c5usj.fsf@alhambra.kuesterei.ch>
	<200604291726.k3THQkq14500@f7.net>
Message-ID: <20060430103548.GA18951@lucien.oneiros.kn-bremen.de>

On 2006-04-29 12:26:46 -0500, Karl Berry wrote:
> Maybe all he really cares about is redistributing an edited file as
> tex.web, and a pdftex.web would be ok.  Hmm.  I can't recall him ever

Yes

Best
    Martin
-- 
                    http://www.tm.oneiros.de

From Sebastian.Rahtz at oucs.ox.ac.uk  Sun Apr 30 13:43:12 2006
From: Sebastian.Rahtz at oucs.ox.ac.uk (Sebastian Rahtz)
Date: Sun, 30 Apr 2006 12:43:12 +0100
Subject: [tex-live] InstallJammer
In-Reply-To: <85iros2ho4.fsf@lola.goethe.zz>
References: <44489010.4030600@ptb.de>	<17481.30276.696036.754702@zarniwoop.ms25.local>	<loom.20060427T213834-479@post.gmane.org>	<86ejzixbdt.fsf@alhambra.kuesterei.ch>	<4452231E.5080002@installjammer.com>
	<85iros2ho4.fsf@lola.goethe.zz>
Message-ID: <4454A2D0.1060105@oucs.ox.ac.uk>

For those concerned about their property being "stolen", the GPL licence
is probably best. It prevents MicroNovellOracle from taking your code,
embedding it in their InstallerMarmelader product, and selling it back
to you. You may not make money from the GPLed code (though you can try,
of course, by licensing it under different terms to MicroNovellOracle),
but at least you ensure you won't have to buy version 7 back from someone.
-- 
Sebastian Rahtz

Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From karl at freefriends.org  Sun Apr 30 19:29:10 2006
From: karl at freefriends.org (Karl Berry)
Date: Sun, 30 Apr 2006 12:29:10 -0500
Subject: [tex-live] Unclear License of AMSLaTeX
In-Reply-To: <20060430103548.GA18951@lucien.oneiros.kn-bremen.de>
Message-ID: <200604301729.k3UHTAq08305@f7.net>

    > Maybe all he really cares about is redistributing an edited file as
    > tex.web, and a pdftex.web would be ok.  Hmm.  I can't recall him ever

    Yes

Based on what?  Have you talked to Knuth about it?  I have never seen a
writing by him about this particular question, and the statement in
tex.web flatly contradicts it.

karl

From martin at oneiros.de  Sun Apr 30 20:31:47 2006
From: martin at oneiros.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sun, 30 Apr 2006 20:31:47 +0200
Subject: [tex-live] License of TeX (was: Unclear License of AMSLaTeX)
In-Reply-To: <200604301729.k3UHTAq08305@f7.net>
References: <20060430103548.GA18951@lucien.oneiros.kn-bremen.de>
	<200604301729.k3UHTAq08305@f7.net>
Message-ID: <20060430183147.GA25733@lucien.oneiros.kn-bremen.de>

On 2006-04-30 12:29:10 -0500, Karl Berry wrote:
>     > Maybe all he really cares about is redistributing an edited file as
>     > tex.web, and a pdftex.web would be ok.  Hmm.  I can't recall him ever
> 
>     Yes
> 
> Based on what?  Have you talked to Knuth about it?  I have never seen a

Discussion with Frank Kuester and Peter Breitenlohner. The result
was: If you rename TeX or eTeX, the code is public domain. That's
why the pdfTeX project is able to merge all tex.web + changefiles
+ eTeX code into one file pdftex.web and license that under GPL.

Best
    Martin

PS: Back to the original question: ams should switch to LPPL.
-- 
                    http://www.tm.oneiros.de

From karl at freefriends.org  Sun Apr 30 20:57:16 2006
From: karl at freefriends.org (Karl Berry)
Date: Sun, 30 Apr 2006 13:57:16 -0500
Subject: [tex-live] License of TeX (was: Unclear License of AMSLaTeX)
In-Reply-To: <20060430183147.GA25733@lucien.oneiros.kn-bremen.de>
Message-ID: <200604301857.k3UIvG727152@f7.net>

    one file pdftex.web 

This will imply large changes in the web2c et al. build process.  Are
you still using web2c and kpathsea, or have you abandoned that as well?

Thanks,
karl

From martin at oneiros.de  Sun Apr 30 21:05:04 2006
From: martin at oneiros.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sun, 30 Apr 2006 21:05:04 +0200
Subject: [tex-live] License of TeX
In-Reply-To: <200604301857.k3UIvG727152@f7.net>
References: <20060430183147.GA25733@lucien.oneiros.kn-bremen.de>
	<200604301857.k3UIvG727152@f7.net>
Message-ID: <20060430190504.GB25733@lucien.oneiros.kn-bremen.de>

On 2006-04-30 13:57:16 -0500, Karl Berry wrote:
>     one file pdftex.web 
> 
> This will imply large changes in the web2c et al. build process.  Are

Medium. :-)

> you still using web2c and kpathsea, or have you abandoned that as well?

Yes. No. Check out the latest pdfTeX 1.40-beta. :-)

Best
    Martin
-- 
                    http://www.tm.oneiros.de

From reinhard.kotucha at web.de  Sun Apr 30 23:16:56 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 30 Apr 2006 23:16:56 +0200
Subject: [tex-live] svn update killed
In-Reply-To: <200604300059.k3U0xG026777@f7.net>
References: <Pine.LNX.4.44.0604270539010.1903-100000@re86.internetdsl.tpnet.pl>
	<200604300059.k3U0xG026777@f7.net>
Message-ID: <17493.10568.588366.816193@zarniwoop.ms25.local>

>>>>> "Karl" == Karl Berry <karl at freefriends.org> writes:

  > As a perhaps more convenient alternative, it seems the following
  > command will show all the files that have changed between your
  > last global svn update and the repository, inclusive: svn log -  > -rBASE:HEAD

Thanks, this is more convenient than what I had before.

Look at http://ms25.ath.cx/svnupdate

Staszek's machine is down at the moment.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



