From hartmut_henkel at gmx.de  Tue Aug  1 00:18:30 2006
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 1 Aug 2006 00:18:30 +0200 (CEST)
Subject: [tex-live] Where is the master control switch?
In-Reply-To: <68c491a60607310821m64834fafhe7b57c2c2fa6a176@mail.gmail.com>
References: <44C4EA04.7080303@rpath.com>
	<20060724170655.GA8554@dbs.uni-hannover.de>
	<44CE06EC.7000105@rpath.com>
	<68c491a60607310821m64834fafhe7b57c2c2fa6a176@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.0608010016360.25559@hahepc1.hahe>

On Mon, 31 Jul 2006, Martin Schr?der wrote:

> 2006/7/31, Ken Brooks <kenb at rpath.com>:
> > 1. Does a texmf.cnf need to be available at compile time when the
> > various tex programs are built?  In general, does the texmf tree as a
> > whole need to be installed for best results before compiling tex programs?
>
> No. No.

does this mean that the messages

checking where the main texmf tree is located... not found
configure: warning: No texmf tree found at datadir/texmf (/opt/tex/share/texmf)
configure: warning: proceeding anyway.
  *****************************************************************
  * Warning: The main texmf tree was not found.                   *
  * If you do not have the files, you should be able to find them *
  * at the same place you got these sources, or from one of the   *
  * CTAN hosts. Good luck.                                        *
  *****************************************************************

are pointless? And why /opt/tex/...?

Regards, Hartmut

From reinhard.kotucha at web.de  Tue Aug  1 00:45:55 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 1 Aug 2006 00:45:55 +0200
Subject: [tex-live] Where is the master control switch?
In-Reply-To: <Pine.LNX.4.64.0608010016360.25559@hahepc1.hahe>
References: <44C4EA04.7080303@rpath.com>
	<20060724170655.GA8554@dbs.uni-hannover.de>
	<44CE06EC.7000105@rpath.com>
	<68c491a60607310821m64834fafhe7b57c2c2fa6a176@mail.gmail.com>
	<Pine.LNX.4.64.0608010016360.25559@hahepc1.hahe>
Message-ID: <17614.34851.248228.931981@zarniwoop.ms25.local>

>>>>> "Hartmut" == Hartmut Henkel <hartmut_henkel at gmx.de> writes:

  > does this mean that the messages
  
  > [...]
  > warning: No texmf tree found at datadir/texmf
  > [...]

  > are pointless?

I had been told that they can be ignored and my experience is quite
positive.  The TL binary build obviously doesn't depend on the texmf
trees. 

Cheers,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From Gerben.Wierda at rna.nl  Tue Aug  1 02:19:30 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue, 1 Aug 2006 02:19:30 +0200
Subject: [tex-live] Where is the master control switch?
In-Reply-To: <17614.34851.248228.931981@zarniwoop.ms25.local>
References: <44C4EA04.7080303@rpath.com>
	<20060724170655.GA8554@dbs.uni-hannover.de>
	<44CE06EC.7000105@rpath.com>
	<68c491a60607310821m64834fafhe7b57c2c2fa6a176@mail.gmail.com>
	<Pine.LNX.4.64.0608010016360.25559@hahepc1.hahe>
	<17614.34851.248228.931981@zarniwoop.ms25.local>
Message-ID: <8ee7cb657a5a7459c75e6e754191ce9e@rna.nl>

On Aug 1, 2006, at 00:45, Reinhard Kotucha wrote:

> I had been told that they can be ignored and my experience is quite
> positive.  The TL binary build obviously doesn't depend on the texmf
> trees.

It doesn't. And the runtime results also does not depend on anything in 
a specific absolute location, which makes the whole TeX install 
relocatable. The way to do this is to have a texmf.cnf two directories 
up from the binaries. That one is always found first and there you can 
set the values for locations to whatever you want.

This is how I can ship a relocatable precompiled TeX install based on 
TL for Mac OS X.

G


From jonathan_kew at sil.org  Tue Aug  1 06:25:02 2006
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Tue, 1 Aug 2006 00:25:02 -0400
Subject: [tex-live] MacOS X + CJK
In-Reply-To: <2276.1154401876@pabst.cs.uwm.edu>
References: <2276.1154401876@pabst.cs.uwm.edu>
Message-ID: <60C6C1E9-35BC-47C4-937D-F6A3405FB622@sil.org>

On 31 Jul 2006, at 11:11 pm, John Tang Boyland wrote:

> ] A Unicode Chinese document in TeXShop typesets fine through XeTeX  
> (or
> ] XeLaTeX) with no special effort; just choose one of the Unicode-
> ] compliant Chinese fonts included with Mac OS X; no need for special
> ] packages to support different encodings, etc., it "just works".
>
> Well there must be SOME special effort: if I take a Unicode chinese
> file that has no CJK macros in it and process with xelatex, it
> typesets without errors but all chinese characters are omitted (the
> log includes warnings that the characters are not present in cmr10 --
> no surprise).
>
> Obviously the trick is to "choose one of the Unicode-compliant Chinese
> fonts included with Mac OS X" as you said. I tried setting the font
> from the TeXShop Format>Font menu but of course that only sets the
> font for the *viewing* of the file, not the typesetting of it.  What's
> the incantation to set the font for the typesetting of the file?

In xelatex, the best approach (by far) is to use the fontspec  
package; something like

   \usepackage{fontspec}
   \setromanfont{STFangsong}

in the preamble should get you started. (\setromanfont is arguably  
something of a misnomer, as it can be a non-Roman font!)

> ...
> Looking at the SIL XETEX web page, it seems one can define a low-level
> font-changing command, but it seems to me that I would need to have a
> separate command for each size of text I want,

True, if you define fonts at the "primitive" TeX level with \font.  
But fontspec deals with all this and integrates the newly-specified  
font with the LaTeX size-changing commands, etc.

> and that I would also
> need to switch fonts whenever mixing Chinese and English.

Chinese fonts generally contain Latin characters, so you wouldn't  
*need* to switch fonts; but you might want to anyway, just to get an  
appearance that you prefer for the English.

> And unfortunately, emacs' write-cjk-file misbehaves on UTF-8 encoded
> chinese files.....

(Sorry, I know nothing about the emacs side of this...)

> (In any case, things are even more confused because I'm trying to
> maintain two tex distributions on one machine: texlive and the teTeX
> that texShop wants to use.

I think it would be possible to have TeXShop use the texlive  
installation, by setting paths appropriately in the TeXShop  
Preferences. You might also need to modify some of the "engine" files  
(in ~/Library/TeXShop/Engines) if they have full paths to tools, etc.

In general, though, I think using teTeX (or rather the teTeX-based  
gwTeX, installed via i-Installer or the MacTeX package) is the most  
straightforward option on Mac OS X. And there are knowledgeable users  
on both the TeX on Mac OS X list (see http://www.esm.psu.edu/mac- 
tex/) and the XeTeX list (see http://tug.org/mailman/listinfo/xetex)  
who can usually help with any questions/problems that arise.

HTH,

Jonathan



From frank at kuesterei.ch  Tue Aug  1 09:47:28 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 01 Aug 2006 09:47:28 +0200
Subject: [tex-live] One step closer
In-Reply-To: <44CE6CFB.2070905@rpath.com> (Ken Brooks's message of "Mon,
	31 Jul 2006 16:50:03 -0400")
References: <44CE6CFB.2070905@rpath.com>
Message-ID: <86ac6oc2y7.fsf@alhambra.kuesterei.ch>

Ken Brooks <kenb at rpath.com> wrote:

> Please don't lose patience with me; I'm digging through a lot of docs and 
> getting closer.
>
> I followed the doc's advice and ran configure with
> --prefix=/usr/share/texmf --datadir=/usr/share
> and let the makefile install the resulting world.
> Somehow I don't think that was quite it, because I'm seeing paths that 
> involve /usr/share/texmf/texmf.  Here's a scenario (output broken into 
> lines for easier reading):

--prefix=/usr should be sufficient.  This will make datadir=/usr/share.
Your using "--prefix=/usr/share/texmf" is the cause for the additional
texmf directory showing up.  

What do you want to achieve?  Merge all TEXMF trees into one?  I don't
think this is a good idea.

> Questions:
> 1. I'm not quite clear from the doc how to determine exactly what 
> subtrees are driven by --prefix and which ones are driven by --datadir. 

./configure --help says:

  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [/usr/local/teTeX]
  [...]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]

So it's clear that you need datadir only if you do not want
PREFIX/share.

> Or why it looked in /usr/share/texmf/texmf/texconfig instead of 
> /usr/share/texmf/texconfig where tcfmgr really is.  So what made it look 
> for tcfmgr where it didn't install it?

That was your specification of prefix.

> 2. Which makes better sense: to have /usr/share/texmf and 
> /usr/share/texmf-dist etc. as siblings?  Or to have texmf-dist etc. all 
> exist under an overarching texmf directory?

If you're building TeXLive for a local installation, it might make sense
to have one texmf directory below /usr/local with everything in it (but
then you need to add the bin directory to the path).  Usually, however,
and in particular if you're building packages for a distribution --- and
it looks like this, with your installing stuff in /usr, not
/usr/local ---, it is better to have independent TEXMF trees directly
below /usr/share.  On distributions following the Linux FHS, texmf-var
should be /var/lib/texmf, not /usr/share/texmf-var.  This may also make
sense for non-Linux systems that know the concept of separating static
and dynamic hierarchies.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From boyland at solomons.cs.uwm.edu  Tue Aug  1 05:11:16 2006
From: boyland at solomons.cs.uwm.edu (John Tang Boyland)
Date: Mon, 31 Jul 2006 22:11:16 -0500
Subject: [tex-live] MacOS X + CJK
In-Reply-To: Your message of "Sun, 30 Jul 2006 08:07:20 EDT."
Message-ID: <2276.1154401876@pabst.cs.uwm.edu>

On 30 Jul 2006 08:07:20 EDT, Jonathan Kew wrote:
] On 30 Jul 2006, at 3:09 am, John Tang Boyland wrote:
] 
] > I like using emacs for CJK things since it is able go display CJK
] > characters correctly, when (it seems) TeXShop doesn't know how.
] > Perhaps if I install cyberbit ?
] 
] TeXShop displays CJK characters fine, using the fonts included with  
] Mac OS X. I'm not sure how well it would work with non-Unicode  
] encodings, though; I guess you'd have to explicitly set the encoding  
] of the source file (see Preferences and check the Help). If you have  
] the encoding set to MacOS Roman or something like that, then it'll  
] certainly have trouble.

OK.  That works.  (For the record: I have to set the encoding to
Unicode before reading the file, or else texshop loads it in Mac OS
Roman and won't change it).

] A Unicode Chinese document in TeXShop typesets fine through XeTeX (or  
] XeLaTeX) with no special effort; just choose one of the Unicode- 
] compliant Chinese fonts included with Mac OS X; no need for special  
] packages to support different encodings, etc., it "just works".

Well there must be SOME special effort: if I take a Unicode chinese
file that has no CJK macros in it and process with xelatex, it
typesets without errors but all chinese characters are omitted (the
log includes warnings that the characters are not present in cmr10 --
no surprise).

Obviously the trick is to "choose one of the Unicode-compliant Chinese
fonts included with Mac OS X" as you said. I tried setting the font
from the TeXShop Format>Font menu but of course that only sets the
font for the *viewing* of the file, not the typesetting of it.  What's
the incantation to set the font for the typesetting of the file?
...
Looking at the SIL XETEX web page, it seems one can define a low-level
font-changing command, but it seems to me that I would need to have a
separate command for each size of text I want, and that I would also
need to switch fonts whenever mixing Chinese and English.

And unfortunately, emacs' write-cjk-file misbehaves on UTF-8 encoded
chinese files -- it insists on using the jsso bitmapped fonts (as
documented in previous CJK emails to this list in 2003) which in my
case causes everything to crash since it can't make them.  I don't see
a easy way to make/get them.  Again, I'm sure that with enough tex
font wizardry, it should be possible to find a way for things to work.
I guess my experience just shows that texlive still isn't ready for
non-CJK-font experts to use: the loaded defaults don't work with each
other (cjk-write-file by default chooses a font that isn't included,
for example).

For the record, even my current workaround to get mixed English and
Chinese to typeset on MacOSX (using cjk-write-file) fails if I try to
put a character in a title etc.  It still tries to make bitmapped pk
files (in pdflatex, which I though was smart about fonts) and crashes.

(In any case, things are even more confused because I'm trying to
maintain two tex distributions on one machine: texlive and the teTeX
that texShop wants to use.  Unfortunately they seem incomparable, so I
can't just use one versus the other.  I'm wondering whether I could
just "smush" them together, but that's its own maintenance nightmare.)

Thanks for all the help and sorry for wasting people's emails with my
ignorant screeds.

John

From wl at gnu.org  Tue Aug  1 13:09:37 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Tue, 01 Aug 2006 13:09:37 +0200 (CEST)
Subject: [tex-live] MacOS X + CJK
In-Reply-To: <2276.1154401876@pabst.cs.uwm.edu>
References: <2276.1154401876@pabst.cs.uwm.edu>
Message-ID: <20060801.130937.41644012.wl@gnu.org>


> And unfortunately, emacs' write-cjk-file misbehaves on UTF-8 encoded
> chinese files -- it insists on using the jsso bitmapped fonts (as
> documented in previous CJK emails to this list in 2003) which in my
> case causes everything to crash since it can't make them.

You are beating the wrong dog.  Emacs doesn't use UTF-8 internally;
instead, UTF-8 is mapped onto its internal encodings.  If you use, for
example, `Chinese-Bg5' as your language environent within Emacs (with
function `set-language-environment'), Big 5 encoding is tried first.
If that fails, Emacs tries GB 2312, etc., etc.  Have a look at the
function `utf-translate-cjk-load-tables' in file `utf-8.el' for the
exact order.

With other words, your UTF-8 codes are mapped to various CJK
encodings, including Japanese, if you use cjk-enc.el.  The solution to
this problem is simple: Don't use cjk-enc.el for Unicode encoded
files!  Instead, you should use utf-8 encoding directly, probably
using CJKutf8.sty to combine it with LaTeX's utf8 support.  Have a
look into the CJKutf8.tex example file for its usage.

> I guess my experience just shows that texlive still isn't ready for
> non-CJK-font experts to use: the loaded defaults don't work with
> each other (cjk-write-file by default chooses a font that isn't
> included, for example).

The default is always `song', regardless whether you use
cjk-write-file or not.  This is documented!  Just select your own font
shapes; the README in the example directory gives a complete list of
available fonts, and the example files themselves show how to change
the fonts.


    Werner

From vvv at vsu.ru  Tue Aug  1 20:25:34 2006
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue, 01 Aug 2006 22:25:34 +0400
Subject: [tex-live] Two fixes
In-Reply-To: <2820930f76dfa6d59bcd1900b0b79c68@rna.nl>
References: <90e6eecf0835946d87e5790b0e49c3d0@rna.nl> <87y869uhhe.fsf@vsu.ru>
	<95affee70aaf805fad0abbd5058b1ef3@rna.nl> <87u0gxufkg.fsf@vsu.ru>
	<2820930f76dfa6d59bcd1900b0b79c68@rna.nl>
Message-ID: <web-25290348@relay1.vsu.ru>

Hi Gerben!

last year you said about the deprecated altpdf* scripts that "Next year they
can go." - see below.
can they now be removed from the TeX Live?

On Wed, 7 Sep 2005 17:24:34 +0200
 Gerben Wierda <Gerben.Wierda at rna.nl> wrote:
> On Sep 7, 2005, at 16:18, Vladimir Volovich wrote:
> 
> > "GW" == Gerben Wierda writes:
> >
> >>> 1) did you decide not to show the message like this: please call
> >>> "simpdftex format inputfile"
> >
> >  GW> Yes. The message is adapted from the name of the called
> >  GW> deprecated script. If you call altpdflatex you get "simpdftex
> >  GW> latex input" and if you call altpdftex you get "simpdftex tex
> >  GW> input". The message is a bit larger and empty lines before and
> >  GW> after to facilitate finding it in the log window of front ends.
> >
> > ok - but as far as i see it still doesn't show anything like this (i
> > symlinked altpdftex to your new simpdftex from P4 repository to test
> > this):
> 
> That is not the way. I haven't set it up yet on TL.
> 
> > also, what do you intend to do is user will call one of altpdf*
> > scripts in TeX Live 2005: show a message as discussed above and
> > proceed with generation, or stop and ask to use the new syntax?
> 
> Stop and ask to use the new syntax. altpdftex and friends must become
> unavailable, they will only be still there as help message. Next year they
> can go.
> 
> (Maybe something likewise can be done with the ifpdf mess. Nah, probably
> not).
> 
> G
> 


From boyland at solomons.cs.uwm.edu  Wed Aug  2 03:38:49 2006
From: boyland at solomons.cs.uwm.edu (John Tang Boyland)
Date: Tue, 01 Aug 2006 20:38:49 -0500
Subject: [tex-live] MacOS X + CJK
In-Reply-To: Your message of "Tue, 01 Aug 2006 00:25:02 EDT."
Message-ID: <6524.1154482729@pabst.cs.uwm.edu>

On 01 Aug 2006 00:25:02 EDT, Jonathan Kew wrote:
] On 31 Jul 2006, at 11:11 pm, John Tang Boyland wrote:
] [...]
] > Obviously the trick is to "choose one of the Unicode-compliant Chinese
] > fonts included with Mac OS X" as you said. I tried setting the font
] > from the TeXShop Format>Font menu but of course that only sets the
] > font for the *viewing* of the file, not the typesetting of it.  What's
] > the incantation to set the font for the typesetting of the file?
] > ...
] > Looking at the SIL XETEX web page, it seems one can define a low-level
] > font-changing command, but it seems to me that I would need to have a
] > separate command for each size of text I want,
] 
] In xelatex, the best approach (by far) is to use the fontspec  
] package; something like
] 
]    \usepackage{fontspec}
]    \setromanfont{STFangsong}
] 
] in the preamble should get you started. (\setromanfont is arguably  
] something of a misnomer, as it can be a non-Roman font!)
] [...]
] But fontspec deals with all this and integrates the newly-specified  
] font with the LaTeX size-changing commands, etc.

Yes, that works.

] [...]
] In general, though, I think using teTeX (or rather the teTeX-based  
] gwTeX, installed via i-Installer or the MacTeX package) is the most  
] straightforward option on Mac OS X. And there are knowledgeable users  
] on both the TeX on Mac OS X list (see http://www.esm.psu.edu/mac- 
] tex/) and the XeTeX list (see http://tug.org/mailman/listinfo/xetex)  
] who can usually help with any questions/problems that arise.

Yes, people have been very helpful.

John

From boyland at solomons.cs.uwm.edu  Wed Aug  2 04:12:04 2006
From: boyland at solomons.cs.uwm.edu (John Tang Boyland)
Date: Tue, 01 Aug 2006 21:12:04 -0500
Subject: [tex-live] MacOS X + CJK
In-Reply-To: Your message of "Tue, 01 Aug 2006 13:09:37 +0200."
Message-ID: <6584.1154484724@pabst.cs.uwm.edu>

On 01 Aug 2006 13:09:37 +0200, Werner LEMBERG wrote:
] > And unfortunately, emacs' write-cjk-file misbehaves on UTF-8 encoded
] > chinese files -- it insists on using the jsso bitmapped fonts (as
] > documented in previous CJK emails to this list in 2003) which in my
] > case causes everything to crash since it can't make them.
] 
] You are beating the wrong dog.  

No doubt!

] Emacs doesn't use UTF-8 internally;
] instead, UTF-8 is mapped onto its internal encodings.  

I was referring to the problem mentioned in
  http://lists.ffii.org/pipermail/cjk/2003-May/000394.html
If a file is opened with Unicode encoding, cjk-write-file is unable to
use GB or Big5 encoded fonts and so *latex falls back to cyberbit or else
bitmapped fonts which look bad.

The problem isn't with the CJK macros, I don't think.

] If you use, for
] example, `Chinese-Bg5' as your language environent within Emacs (with
] function `set-language-environment'), Big 5 encoding is tried first.
] If that fails, Emacs tries GB 2312, etc., etc.  Have a look at the
] function `utf-translate-cjk-load-tables' in file `utf-8.el' for the
] exact order.
] 
] With other words, your UTF-8 codes are mapped to various CJK
] encodings, including Japanese, if you use cjk-enc.el.  The solution to
] this problem is simple: Don't use cjk-enc.el for Unicode encoded
] files!  Instead, you should use utf-8 encoding directly, probably
] using CJKutf8.sty to combine it with LaTeX's utf8 support.  Have a
] look into the CJKutf8.tex example file for its usage.

It looks fine but when I run it with texlive/2005 on MacOSX, I get various problems
probably because I don't have X installed:

pdflatex CJKutf8.tex
...
kpathsea: Running mktextfm larm1000
mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input larm1000
This is METAFONT, Version 2.71828 (Web2C 7.5.5)
kpathsea: Running mktexfmt mf.base
fmtutil: running `mf -ini   -jobname=mf -progname=mf -translate-file=cp227.tcx mf.ini' ...
dyld: Library not loaded: /usr/X11R6/lib/libXt.6.dylib
  Referenced from: /usr/local/texlive/2005/bin/i386-darwin/mf
  Reason: image not found
/usr/local/texlive/2005/bin/i386-darwin/mktexfmt: line 882:   712 Trace/BPT trap          ${1+"$@"} 1>&2

To my untutored eyes, this looks as if it is trying to make bitmapped fonts.

] > I guess my experience just shows that texlive still isn't ready for
] > non-CJK-font experts to use: the loaded defaults don't work with
] > each other (cjk-write-file by default chooses a font that isn't
] > included, for example).
] 
] The default is always `song', regardless whether you use
] cjk-write-file or not.  This is documented!  Just select your own font
] shapes; the README in the example directory gives a complete list of
] available fonts, and the example files themselves show how to change
] the fonts.

I understand that if I write enough CJK macros, I can get things to work.  Perhaps
I was lulled into a sense that cjk-write-file would do that work for me.
But apparently it relies on a font (song) that isn't by default installed in texlive.
If song is not available, it tries kai, and if kai is not available, it fails.
I found out from where to get these fonts (they're right there in CTAN).
My point is simply that out-of-the-box, the examples don't work.
(And for cjk-write-file, I had to hand-installed the .el files of course.)

The example file for cjk-write-file that I was using was chinese.tex in
the texshowcase on TUG's web page:
	http://www.tug.org/texshowcase/chinese.tex
The page doesn't guarantee that everything works immediately, but since this
file included text that indicated that cjk-write-file would handle the "messy"
CJK macros that I as a neophyte didn't want to meddle with, I had hoped it would
work, and indeed it did work with help from this list and the CTAN CJK fonts

thanks again,

John

From wl at gnu.org  Wed Aug  2 08:51:50 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 02 Aug 2006 08:51:50 +0200 (CEST)
Subject: [tex-live] MacOS X + CJK
In-Reply-To: <6584.1154484724@pabst.cs.uwm.edu>
References: <6584.1154484724@pabst.cs.uwm.edu>
Message-ID: <20060802.085150.164389781.wl@gnu.org>


[This is also a bug report regarding mf-nowin vs. mf in the fmtutil
script.]

> ] Emacs doesn't use UTF-8 internally;
> ] instead, UTF-8 is mapped onto its internal encodings.
>
> I was referring to the problem mentioned in
>
>   http://lists.ffii.org/pipermail/cjk/2003-May/000394.html
>
> If a file is opened with Unicode encoding, cjk-write-file is unable
> to use GB or Big5 encoded fonts and so *latex falls back to cyberbit
> or else bitmapped fonts which look bad.

Exactly.  This is unavoidable.  You have to wait after the release of
Emacs 22; the development branch will then be switched to the (already
working) Emacs-Unicode.

> It looks fine but when I run it with texlive/2005 on MacOSX, I get
> various problems probably because I don't have X installed:
>
> pdflatex CJKutf8.tex
> ...
> kpathsea: Running mktextfm larm1000

Hmm.  On TeXLive, the LH fonts are mapped to the cm-super family which
are available in Type 1 already.  You can probably do something similar.

> mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input larm1000
> This is METAFONT, Version 2.71828 (Web2C 7.5.5)
> kpathsea: Running mktexfmt mf.base
> fmtutil: running `mf -ini   -jobname=mf -progname=mf -translate-file=cp227.tcx mf.ini' ...
> dyld: Library not loaded: /usr/X11R6/lib/libXt.6.dylib
>   Referenced from: /usr/local/texlive/2005/bin/i386-darwin/mf
>   Reason: image not found
> /usr/local/texlive/2005/bin/i386-darwin/mktexfmt: line 882:   712 Trace/BPT trap          ${1+"$@"} 1>&2

Uh, oh, this is a TeX distribution bug on your platform!  The first
line already uses `mf-nowin', but fmtutil tries to use `mf' again
which is linked with the X libraries!  This should be fixed.

> I understand that if I write enough CJK macros, I can get things to
> work.  Perhaps I was lulled into a sense that cjk-write-file would
> do that work for me.

How do you come to this impression?  There are so many different font
shapes available; it's almost the same as with non-CJK fonts.
cjk-write-file can't know in advance which font shape you want to use.

> But apparently it relies on a font (song) that isn't by default
> installed in texlive.  If song is not available, it tries kai, and
> if kai is not available, it fails.

As mentioned in another mail, you should use \CJKencfamily to set up
your fonts.

> I found out from where to get these fonts (they're right there in
> CTAN).

Those are all bitmap fonts.

> My point is simply that out-of-the-box, the examples don't work.

???  The CJK examples in TeXLive have been adjusted to work without
any further changes!

> (And for cjk-write-file, I had to hand-installed the .el files of
> course.)

Yes.  TeXLive doesn't come with Emacs.

> The example file for cjk-write-file that I was using was chinese.tex
> in the texshowcase on TUG's web page:
>
> 	http://www.tug.org/texshowcase/chinese.tex
>
> The page doesn't guarantee that everything works immediately, but
> since this file included text that indicated that cjk-write-file
> would handle the "messy" CJK macros that I as a neophyte didn't want
> to meddle with, I had hoped it would work, and indeed it did work
> with help from this list and the CTAN CJK fonts

Just insert

  \CJKencfamily{Bg5}{bsmi}
  \CJKencfamily{GB}{gbsn}
  \CJKencfamily[dnp]{JIS}{min}

  \CJKfontenc{KS}{HL}
  \CJKfontenc{JIS}{dnp}

in the preamble, and all main CJK encodings (Big 5, GB 2312, KS X
1001, JIS 0208) are set up to outline fonts from TeXLive.

It might be a good idea to contact the author of chinese.tex so that
he or she inserts a proper comment how to make the example file work
with TeXLive.


    Werner

From sdl.web at gmail.com  Wed Aug  2 11:51:20 2006
From: sdl.web at gmail.com (Leon)
Date: Wed, 02 Aug 2006 10:51:20 +0100
Subject: [tex-live] latexmk.pl in TeXlive 2006
Message-ID: <m2irlbxy7b.fsf@sl392.st-edmunds.cam.ac.uk>

Hi all,

I found the script latexmk.pl? a very handy tool. It seems it is not
included in texlive 2005. Is there any plan to include it in TeXlive
2006? Thanks.

Footnotes: 
?  http://www.phys.psu.edu/~collins/software/latexmk-jcc/
-- 
Leon


From kenb at rpath.com  Thu Aug  3 21:52:46 2006
From: kenb at rpath.com (Ken Brooks)
Date: Thu, 03 Aug 2006 15:52:46 -0400
Subject: [tex-live] More on texlive configuration
Message-ID: <44D2540E.1090802@rpath.com>

The picture has become clearer in the past few days:  I'm integrating 
texlive into a distribution, and I will not be allowed to set any 
environment variables (that would thus have to be set for every user of 
the distribution).  And I am told to put binaries in /usr/bin and data in 
/usr/share, because that is how our distro does things.

Please check me on my thinking:

1. I'll have to use a parameter to "configure" at build time to tell 
kpathsea to look for texmf.cnf under /usr/share/texmf.  It appears that
   --prefix=/usr
is the best approach.

2. SELFAUTO* won't work for any purpose at all, so I should customize 
texmf.cnf and change every SELFAUTO entry therein, to something more 
definite.

Does this sound right?

Ken Brooks
rPath



From reinhard.kotucha at web.de  Sat Aug  5 12:22:11 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 5 Aug 2006 12:22:11 +0200
Subject: [tex-live] More on texlive configuration
In-Reply-To: <44D2540E.1090802@rpath.com>
References: <44D2540E.1090802@rpath.com>
Message-ID: <17620.29011.178170.629128@zarniwoop.ms25.local>

>>>>> "Ken" == Ken Brooks <kenb at rpath.com> writes:

  > Please check me on my thinking:

  > 1. I'll have to use a parameter to "configure" at build time to
  > tell kpathsea to look for texmf.cnf under /usr/share/texmf.  It
  > appears that --prefix=/usr is the best approach.

  > 2. SELFAUTO* won't work for any purpose at all, so I should
  > customize texmf.cnf and change every SELFAUTO entry therein, to
  > something more definite.

You want to get rid of the platform directory?  Yes, you can customize
SELFAUTO* but the most convenient way is

   configure --prefix=/usr --disable-multiplatform

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From gnwiii at gmail.com  Sat Aug  5 13:44:00 2006
From: gnwiii at gmail.com (gnwiii at gmail.com)
Date: Sat, 5 Aug 2006 08:44:00 -0300
Subject: [tex-live] More on texlive configuration
In-Reply-To: <44D2540E.1090802@rpath.com>
References: <44D2540E.1090802@rpath.com>
Message-ID: <22af238a0608050444x11f41476mc4d2440f8fd5c2e4@mail.gmail.com>

On 8/3/06, Ken Brooks <kenb at rpath.com> wrote:

> The picture has become clearer in the past few days:  I'm integrating
> texlive into a distribution, and I will not be allowed to set any
> environment variables (that would thus have to be set for every user of
> the distribution).  And I am told to put binaries in /usr/bin and data in
> /usr/share, because that is how our distro does things.

These rules seem reasonable.  Other distros also but binaries in
/usr/bin and texmf trees in /usr/share, so this isn't anything that
hasn't been done before.   For testing and special projects it has
been important that TeX systems support a self-contained configuration
with everything sitting under one directory (e.g., /usr/TeX or
/usr/share/texlive/2005), but with virtual machines we now have other
ways to support testing, etc.

How would users/admins customize texmf.cnf to add texmf trees?
ConTeXt, in particular, changes early and often, so it is helpful to
provide /usr/local/share/texmf-cont for ConTeXt users, which makes
/usr/local/share/texmf much more stable.   I hate to see anything that
wants edits in /usr/share, as it has to be done again for each
workstation and each reinstall/upgrade, and makes it tricker to share
/usr trees on a network.  In the past I have arranged to have users
set TEXMFCNF to a tweaked texmf.cnf (e.g., when there are conflicts
between the configuration needed for that unending book project and
the versions needed by some publisher's style).

> Please check me on my thinking:
>
> 1. I'll have to use a parameter to "configure" at build time to tell
> kpathsea to look for texmf.cnf under /usr/share/texmf.  It appears that
>    --prefix=/usr
> is the best approach.

along with the switch to drop the platform-specific subdirs.

> 2. SELFAUTO* won't work for any purpose at all, so I should customize
> texmf.cnf and change every SELFAUTO entry therein, to something more
> definite.
>
> Does this sound right?

Well, SELFAUTO* could be used.  RH Fedora Core 5 teTeX uses (the
redundantly redundant) compile-time default:

TEXMFCNF = {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/share,}/texmf{-local,}/web2c};$TETEXDIR;/usr/share/texmf/web2c;/usr/share/texmf/web2c

which seems to miss /usr/local/share/texmf/web2c.   There aren't any
uses of SELFAUTO* in the effective parts of the texmf.cnf

Something like:

TEXMFCNF = {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/local/share,/share,}/texmf{-local,}/web2c}

would support a site-specific "/usr/local/share/texmf/web2c/texmf.cnf".

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From dak at gnu.org  Mon Aug  7 08:41:27 2006
From: dak at gnu.org (David Kastrup)
Date: Mon, 07 Aug 2006 08:41:27 +0200
Subject: [tex-live] ltxdoc.cfg
Message-ID: <853bc93v54.fsf@lola.goethe.zz>


Hi, I have just noticed the following:

dak at lola:/$ locate *2005*/ltxdoc.cfg
/usr/TeX/2005/texmf-dist/doc/latex/subfigure/ltxdoc.cfg
/usr/TeX/2005/texmf-dist/tex/latex/subfig/ltxdoc.cfg
/usr/TeX/2005/texmf-dist/source/latex/captcont/ltxdoc.cfg

This is pretty much inacceptable in my book.  The given packages have
no business defining (and overriding!) the default configuration for
TeXlive.  And if you look at their contents, they decidedly mess
around with ltxdoc's settings in a nontrivial manner.

There should just be one ltxdoc.cfg on a system, and it should likely
be identical, on delivery, with the settings with which the TeXlive
documentation has been compiled.  It might make sense, upon changing
the paper format of a distribution, to change ltxdoc.cfg accordingly
(or have it input a file where this information is stored).

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From morten.hoegholm at latex-project.org  Mon Aug  7 11:08:27 2006
From: morten.hoegholm at latex-project.org (=?iso-8859-1?Q?Morten_H=F8gholm?=)
Date: Mon, 07 Aug 2006 11:08:27 +0200
Subject: [tex-live] ltxdoc.cfg
In-Reply-To: <853bc93v54.fsf@lola.goethe.zz>
References: <853bc93v54.fsf@lola.goethe.zz>
Message-ID: <op.tdwo0dryss64je@morten.local>

On Mon, 07 Aug 2006 08:41:27 +0200, David Kastrup <dak at gnu.org> wrote:

>
> Hi, I have just noticed the following:
>
> dak at lola:/$ locate *2005*/ltxdoc.cfg
> /usr/TeX/2005/texmf-dist/doc/latex/subfigure/ltxdoc.cfg
> /usr/TeX/2005/texmf-dist/tex/latex/subfig/ltxdoc.cfg
> /usr/TeX/2005/texmf-dist/source/latex/captcont/ltxdoc.cfg
>
> This is pretty much inacceptable in my book.  The given packages have
> no business defining (and overriding!) the default configuration for
> TeXlive.  And if you look at their contents, they decidedly mess
> around with ltxdoc's settings in a nontrivial manner.
>
> There should just be one ltxdoc.cfg on a system, and it should likely
> be identical, on delivery, with the settings with which the TeXlive
> documentation has been compiled.  It might make sense, upon changing
> the paper format of a distribution, to change ltxdoc.cfg accordingly
> (or have it input a file where this information is stored).

Rolf reported this back in February in thread "ltxdoc.cfg in search path".  
Rolf, did you talk to Steven Cochran back then? All three of David's  
findings have him as author...

Cheers,
-- 
Morten

From kenb at rpath.com  Thu Aug  3 21:15:03 2006
From: kenb at rpath.com (Ken Brooks)
Date: Thu, 03 Aug 2006 15:15:03 -0400
Subject: [tex-live] Generating tex.fmt
Message-ID: <44D24B37.4010500@rpath.com>

Well, thanks to several of you who have helped me thus far, I'm a lot 
closer to having a working tex world.  I slightly modified Build to 
invoke configure with --prefix=/usr.  texmf.cnf is being found, kpsewhich 
is reporting reasonable paths.  But when it comes time to generate 
tex.fmt, something is wrong.

On Thomas's advice, I set KPATHSEA_DEBUG=-1.  And then I ran "tex story". 
  And then I am lost in the output:  can't tell clearly which of the many 
lookups that failed really needed to succeed.  The output is attached, 
along with my (unmodified) texmf.cnf.  Would someone be willing to take a 
look and find the gem of truth in this mass of output?

The (generally very useful) kpathsea.info file says:
> The following file types can run an external program to create missing
> files: `pk', `tfm', `mf', `tex'; the scripts are named `mktexpk',
> `mktextfm', `mktexmf', and `mktextex'.
and makes no mention of mktexfmt or of generating .fmt files.  Nor does 
http://www.tug.org/texinfohtml/web2c.html.  Nevertheless, the debug 
output tells me that mktexfmt is being run.  And I can confirm that this 
script exists on my PATH.  But what does tex.fmt need to be made *from*? 
  I can't find any documentation on this.

Thanks,
Ken Brooks
rPath, Inc.

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: texmf.cnf
Url: http://tug.org/pipermail/tex-live/attachments/20060803/53979803/attachment-0001.pl 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texrun.debug.log
Type: text/x-log
Size: 1036400 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20060803/53979803/attachment-0001.bin 

From ehmsen at gentoo.org  Mon Aug  7 14:51:01 2006
From: ehmsen at gentoo.org (Martin Rud Ehmsen)
Date: Mon, 07 Aug 2006 14:51:01 +0200
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <44D24B37.4010500@rpath.com>
References: <44D24B37.4010500@rpath.com>
Message-ID: <44D73735.7010201@gentoo.org>

Please never send such large attachments to any mailing lists!
Your mail is approx 1.1 MB large. Try to imagine how many people who are
subscribed to this mailing list and multiply that number by 1.1 MB, then
you have the amount that this lists mail server needs to send out!
That number will easily supersede 1 GB for an average mailing list.

A much better idea is to put your files on some web server, so the
people who actually are interested in the files can have a look at them,
without annoying the rest of the list.

Martin R. Ehmsen


From karl at freefriends.org  Mon Aug  7 18:02:08 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Aug 2006 11:02:08 -0500
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <44D24B37.4010500@rpath.com>
Message-ID: <200608071602.k77G28t11683@f7.net>

Hi Ken,

    Would someone be willing to take a 
    look and find the gem of truth in this mass of output?

What appears on standard output after
kpathsea: Running mktexfmt tex.fmt
?

    and makes no mention of mktexfmt or of generating .fmt files.  

I (or someone :) will have to try to improve that.  Anyway, the basic
answer is that mktexfmt should be a link to fmtutil.  fmtutil reads
fmutil.cnf (your log says it was found in
/usr/share/texmf/web2c/fmtutil.cnf).  fmtutil.cnf should have a line
like this:
tex		tex		-		tex.ini
which says "to build tex.fmt, run tex on the file tex.ini".

But your log does not mention tex.ini.  So I'm lost at that point.

tex.ini is a tiny four-line file:
% Thomas Esser, 1998. public domain.
\input plain
\dump
\endinput


Meanwhile, on a completely different front, your setup seems to have
much more in common with Debian than with the usual all-in-one-dir TL
setup.  I wonder if it would actually be easier for you to adapt
Debian's packages than to start from the original sources.  As I recall,
they had to modify a number of config files to make things work.  Frank,
Norbert?

Hope this helps,
Karl

From ralf.stubner at physik.uni-erlangen.de  Mon Aug  7 18:21:12 2006
From: ralf.stubner at physik.uni-erlangen.de (Ralf Stubner)
Date: Mon, 07 Aug 2006 18:21:12 +0200
Subject: [tex-live] Generating tex.fmt
References: <44D24B37.4010500@rpath.com> <200608071602.k77G28t11683@f7.net>
Message-ID: <8764h4frev.fsf@ID-223132.user.uni-berlin.de>

karl at freefriends.org (Karl Berry) writes:

> I (or someone :) will have to try to improve that.  Anyway, the basic
> answer is that mktexfmt should be a link to fmtutil.  fmtutil reads
> fmutil.cnf (your log says it was found in
> /usr/share/texmf/web2c/fmtutil.cnf).  fmtutil.cnf should have a line
> like this:
> tex		tex		-		tex.ini
> which says "to build tex.fmt, run tex on the file tex.ini".
>
> But your log does not mention tex.ini.  So I'm lost at that point.

The log does say

fmtutil: format `tex' not available.

(second to last line). If I understand fmtutil correctly, this means
that the tex format is not defined in fmtutil.cnf. So the content of
/usr/share/texmf/web2c/fmtutil.cnf would be most interesting. Also for
other files listed in the output of

 kpsewhere --format="web2c files" fmtutil.cnf

cheerio
ralf


From te at dbs.uni-hannover.de  Mon Aug  7 17:00:37 2006
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon, 7 Aug 2006 17:00:37 +0200
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <44D24B37.4010500@rpath.com>
References: <44D24B37.4010500@rpath.com>
Message-ID: <20060807150037.GA6574@dbs.uni-hannover.de>

Dear Ken,

format file generation is deligated to fmtutil which in turn reads
its rules from fmtutil.cnf. In your case, the system has found
/usr/share/texmf/web2c/fmtutil.cnf.

It should have a line defining tex.fmt, e.g. by a rule like this:
  tex             tex             - -translate-file=cp227.tcx tex.ini

And, your system needs to be able to find tex.ini by
  kpsewhich -progname=tex -format=.tex tex.ini
else, the fmtutil line will be ignored.

Thomas

From dak at gnu.org  Mon Aug  7 20:36:05 2006
From: dak at gnu.org (David Kastrup)
Date: Mon, 07 Aug 2006 20:36:05 +0200
Subject: [tex-live] ltxdoc.cfg
In-Reply-To: <200608071829.k77ITWP25539@f7.net> (Karl Berry's message of "Mon,
	7 Aug 2006 13:29:32 -0500")
References: <200608071829.k77ITWP25539@f7.net>
Message-ID: <85fyg8xuju.fsf@lola.goethe.zz>

karl at freefriends.org (Karl Berry) writes:

>     /usr/TeX/2005/texmf-dist/doc/latex/subfigure/ltxdoc.cfg
>     /usr/TeX/2005/texmf-dist/tex/latex/subfig/ltxdoc.cfg
>     /usr/TeX/2005/texmf-dist/source/latex/captcont/ltxdoc.cfg
>
> The ones in doc and source don't affect anything.

The ones in source at least affect compilation of the files in the
captcont directory.  ltxdoc.cfg is for site-wide configuration, and
that gets overridden here.

Somebody should contact upstream about this, I think.  This does not
seem like a desirable setting for any purpose.

Takers?

> I'll reinstall subfig at some point and leave out the ltxdoc.cfg.
> Thanks for mentioning it.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From dak at gnu.org  Mon Aug  7 21:02:27 2006
From: dak at gnu.org (David Kastrup)
Date: Mon, 07 Aug 2006 21:02:27 +0200
Subject: [tex-live] ltxdoc.cfg
In-Reply-To: <200608071853.k77IrkM05621@f7.net> (Karl Berry's message of "Mon,
	7 Aug 2006 13:53:46 -0500")
References: <200608071853.k77IrkM05621@f7.net>
Message-ID: <857j1kxtbw.fsf@lola.goethe.zz>

karl at freefriends.org (Karl Berry) writes:

>     The ones in source at least affect compilation of the files in the
>     captcont directory.  
>
> Presumably the captcont author wants it that way.

But he does not need to use a global configuration file.  He could
just use a file with any old name and include it.  And besides, he is
using \AtBeginDocument and \AtEndDocument hooks in non-intended ways
(they are not intended for actually typesetting stuff).

>>     Somebody should contact upstream about this, I think.  This does not
>     seem like a desirable setting for any purpose.
>
> No argument.
>
>     Takers?
>
> Not me.

I am not particularly renowned for my diplomatic skills, and am not
even a distribution developer...

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From karl at freefriends.org  Mon Aug  7 17:54:45 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Aug 2006 10:54:45 -0500
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <44D73735.7010201@gentoo.org>
Message-ID: <200608071554.k77FsjP07932@f7.net>

    Please never send such large attachments to any mailing lists!

Actually, I considered this before I approved the msg (which was just
over the previous size limit of 1mb).  Ken was doing the right thing in
sending the full log, and 1.1mb did not seem *that* large to me, so I
sent it through.  10mb would be another story.

    without annoying the rest of the list.

Anyone who is annoyed by occasional large attachments should not
subscribe to this list.  I don't care to put barriers in the way of
people wanting to send good reports.  

    A much better idea is to put your files on some web server, 

Sure, that would be fine too, even preferable, but it's not always
convenient to do so.

Best,
Karl

From karl at freefriends.org  Mon Aug  7 20:29:32 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Aug 2006 13:29:32 -0500
Subject: [tex-live] ltxdoc.cfg
In-Reply-To: <853bc93v54.fsf@lola.goethe.zz>
Message-ID: <200608071829.k77ITWP25539@f7.net>

    /usr/TeX/2005/texmf-dist/doc/latex/subfigure/ltxdoc.cfg
    /usr/TeX/2005/texmf-dist/tex/latex/subfig/ltxdoc.cfg
    /usr/TeX/2005/texmf-dist/source/latex/captcont/ltxdoc.cfg

The ones in doc and source don't affect anything.  I'll reinstall subfig
at some point and leave out the ltxdoc.cfg.  Thanks for mentioning it.

From karl at freefriends.org  Mon Aug  7 20:53:46 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Aug 2006 13:53:46 -0500
Subject: [tex-live] ltxdoc.cfg
In-Reply-To: <85fyg8xuju.fsf@lola.goethe.zz>
Message-ID: <200608071853.k77IrkM05621@f7.net>

    The ones in source at least affect compilation of the files in the
    captcont directory.  

Presumably the captcont author wants it that way.

    Somebody should contact upstream about this, I think.  This does not
    seem like a desirable setting for any purpose.

No argument.

    Takers?

Not me.

k

From karl at freefriends.org  Tue Aug  8 14:18:15 2006
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 Aug 2006 07:18:15 -0500
Subject: [tex-live] latexmk.pl in TeXlive 2006
In-Reply-To: <m2irlbxy7b.fsf@sl392.st-edmunds.cam.ac.uk>
Message-ID: <200608081218.k78CIFI01495@f7.net>

Hi Leon,

    ????  http://www.phys.psu.edu/~collins/software/latexmk-jcc/

I can try to put it into TL06.  Thanks for the suggestion.

(BTW, texi2dvi does something similar, for latex documents as well as
texinfo.  It's already there.)

Best,
karl

From karl at freefriends.org  Thu Aug 10 01:55:57 2006
From: karl at freefriends.org (Karl Berry)
Date: Wed, 9 Aug 2006 18:55:57 -0500
Subject: [tex-live] Where is the master control switch?
In-Reply-To: <Pine.LNX.4.64.0608010016360.25559@hahepc1.hahe>
Message-ID: <200608092355.k79Ntve26185@f7.net>

Hi Hartmut,

    are pointless? 

Yes, those "warnings" are pointless, for TL builds.  I've tried to
eradicate them (--disable-something-or-another), but have not succeeded,
as you've seen ...

    And why /opt/tex/...?

Maybe that was where the tex binary is found?  I don't recall
/opt/whatever being any kind of hardwired default.

karl

From karl at freefriends.org  Fri Aug 11 01:45:37 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu, 10 Aug 2006 18:45:37 -0500
Subject: [tex-live] make = gmake?
In-Reply-To: <68c491a60607281103n4e69d351kb4b7cf6c8e1949a4@mail.gmail.com>
Message-ID: <200608102345.k7ANjbu06261@f7.net>

Belated replies, sorry ...

    TeXlive already needs gmake because of freetype2, i.e. XeTeX:

Ok, but it still seems philosophically desirable to me to allow use of
non-gmake.  Not everyone builds within TL.  You already said that the
parallel thing isn't critical right now, so is there any problem with
sticking to standard make?  Are other gmake features useful to you?

    I almost forgot: pdfTeX does need gmake allready. We got a bug report
    from an OpenBSD user (who used stock bsd make) to that effect.

Separate from the freetype2 failure?

    > Wouldn't it be possible to have a GNUMakefile and a Makefile in
    Can autoconf do this? 

Autoconf can certainly create Anything from Anything.in, but of course
that's not enough.  (BTW, it would be "GNUmakefile" not "GNUMakefile",
last I knew, to be automatically found by gmake.)

    And if it can maintain two versions of Makefiles, can it also
    generate the right version (i.e. either gmake or make)?

AFAIK, there is nothing in Autoconf which "knows" about gmake vs. make
or will generate two different make flavors, etc.  Basically all it does
is take the input file and substitutes a whole lot of variables.

If pdftex will require gmake, then I suppose the cleanest approach would
be to complain at configure time, like freetype2 does.


Meanwhile:

    te>I think that the problem is that pdftex builds outside the source tree

Via VPATH?

    (the build.sh script works this way).  Not all versions of make support
    this properly.

I do not see build.sh.  Doesn't configure && make work?  I hope no
add-on shell script is really needed.  That would be an additional and
substantial complication.

    Is that reason enough to switch to GNU make entirely?

It is true that only GNU make reliably supports VPATH.

karl

From sdl.web at gmail.com  Sun Aug 13 11:12:22 2006
From: sdl.web at gmail.com (Leon)
Date: Sun, 13 Aug 2006 10:12:22 +0100
Subject: [tex-live] latexmk.pl in TeXlive 2006
References: <m2irlbxy7b.fsf@sl392.st-edmunds.cam.ac.uk>
	<200608081218.k78CIFI01495@f7.net>
Message-ID: <m3veox3sp5.fsf@sl392.st-edmunds.cam.ac.uk>

On Tue, 8 Aug 2006 07:18:15 -0500, Karl Berry wrote:

> --===============1081370864==
>
> Hi Leon,
>
>      http://www.phys.psu.edu/~collins/software/latexmk-jcc/
>
> I can try to put it into TL06.  Thanks for the suggestion.
>
> (BTW, texi2dvi does something similar, for latex documents as well as
> texinfo.  It's already there.)
>
> Best,
> karl
>

I didn't know texi2dvi until your post. Thanks a lot.

-- 
Leon


From v-li at gmx.de  Tue Aug 15 02:00:00 2006
From: v-li at gmx.de (Christian Faulhammer)
Date: 15 Aug 2006 00:00:00 +0000
Subject: [tex-live] Gentoo support of TeXLive
Message-ID: <9zvm0FbEUPB@v-li.fqdn.th-h.de>

Hi,

Gentoo supports TeXLive 2005 since May this year (I didn't notice up to  
tomorrow), so this should be added to the TeXLive pages (as with Debian).   
I prepared a little installation instruction, attached to this mail.

V-Li

-- 
Fingerprint: 68C5 D381 B69A A777 6A91 E999 350A AD7C 2B85 9DE3
http://www.gnupg.org/
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: gentoo.html
Url: http://tug.org/pipermail/tex-live/attachments/20060815/2d8474c4/attachment.pl 

From v-li at gmx.de  Tue Aug 15 02:00:00 2006
From: v-li at gmx.de (Christian Faulhammer)
Date: 15 Aug 2006 00:00:00 +0000
Subject: [tex-live] Gentoo support of TeXLive
In-Reply-To: <9zvm0FbEUPB@v-li.fqdn.th-h.de>
Message-ID: <9zvm9cJjUPB@v-li.fqdn.th-h.de>

Hi,                                  0x2B859DE3 (PGP-PK-ID)

> Gentoo supports TeXLive 2005 since May this year (I didn't notice up to
> tomorrow),

 No, I am not time travelling...I meant yesterday.

V-Li

-- 
Fingerprint: 68C5 D381 B69A A777 6A91 E999 350A AD7C 2B85 9DE3
http://www.gnupg.org/

From ehmsen at gentoo.org  Tue Aug 15 10:34:58 2006
From: ehmsen at gentoo.org (Martin Rud Ehmsen)
Date: Tue, 15 Aug 2006 10:34:58 +0200
Subject: [tex-live] Gentoo support of TeXLive
In-Reply-To: <9zvm0FbEUPB@v-li.fqdn.th-h.de>
References: <9zvm0FbEUPB@v-li.fqdn.th-h.de>
Message-ID: <44E18732.4030802@gentoo.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Christian Faulhammer wrote:
> Gentoo supports TeXLive 2005 since May this year (I didn't notice up to  
> tomorrow), so this should be added to the TeXLive pages (as with Debian).   
> I prepared a little installation instruction, attached to this mail.

I would very much like that Gentoo does not appear on any TexLive pages,
yet.
As described in your mail the TexLive ebuild is currently hardmasked,
and it probably stays that way for the moment. That means that the
ebuild is _not_ for general use, yet. And if it would appear on a
TexLive page that Gentoo supports it, then we will have a lot of users
unmasking the ebuild and reporting that it does not work (it does _not_
work currently in Gentoo) giving us extra work which could be spent on
getting TexLive to work in Gentoo.
As soon as the TexLive-ebuild is unmasked, then I'm perfectly fine with
it appearing on the TexLive site. Until then, hold your horses :-)

Martin R. Ehmsen
(tex maintainer for Gentoo)
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (Darwin)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFE4YcyoCiIG96jYfYRArr9AJ4qqH/U9f4Ar4f/uAfPmJa/2APyhgCbBr4B
vSRq7ZcX1o8b2Gi88iGf81M=
=TaRd
-----END PGP SIGNATURE-----

From dak at gnu.org  Tue Aug 15 09:32:36 2006
From: dak at gnu.org (David Kastrup)
Date: Tue, 15 Aug 2006 09:32:36 +0200
Subject: [tex-live] Gentoo support of TeXLive
In-Reply-To: <9zvm9cJjUPB@v-li.fqdn.th-h.de> (Christian Faulhammer's message
	of "15 Aug 2006 00:00:00 +0000")
References: <9zvm9cJjUPB@v-li.fqdn.th-h.de>
Message-ID: <853bbylai3.fsf@lola.goethe.zz>

v-li at gmx.de (Christian Faulhammer) writes:

> Hi,                                  0x2B859DE3 (PGP-PK-ID)
>
>> Gentoo supports TeXLive 2005 since May this year (I didn't notice up to
>> tomorrow),
>
>  No, I am not time travelling...I meant yesterday.

Oh sure.  And it is a pure coincidence that you happened to post this
with a
Date: 15 Aug 2006 00:00:00 +0000
header, and certainly has nothing to do with you setting back the date
in order to avoid a time loop, and being in such a panic that you
could not bother about the clock.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From LaTeX at zedat.fu-berlin.de  Tue Aug 15 14:54:53 2006
From: LaTeX at zedat.fu-berlin.de (Herbert Voss)
Date: Tue, 15 Aug 2006 14:54:53 +0200
Subject: [tex-live] [Fwd: [pstricks] pst-labo]
Message-ID: <44E1C41D.9090207@zedat.fu-berlin.de>

Karl,
please have a look at it. Maybe a problem of the debian
package oly?

Herbert

-------- Original Message --------
Subject: [pstricks] pst-labo
Date: Tue, 15 Aug 2006 13:51:17 +0200
From: Arnaud Schmittbuhl <aschmittbuhl at libertysurf.fr>
Reply-To: Graphics with PSTricks <pstricks at tug.org>
To: pstricks at tug.org

[ ... ]

2/
In my texlive installation (an uptodate debian one coming from ctan
deb http://www.tug.org/texlive/Debian/ pool/), the pst-labo package is
not completely installed.
A mistake in the texlive-pstricks debian package ?

pst-labo.sty is good
(/usr/share/texmf-texlive/tex/latex/pst-labo/pst-labo.sty)

pst-labo.tex and pst-laboObj.tex are gzipped and are located in the
doc tree (/usr/share/doc/texlive-pstricks/latex/pst-labo).

After being degzipped, they should go in
/usr/share/texmf-texlive/tex/generic/pst-labo/

(and then, database must be rebuild).

bye

-- 
Arnaud Schmittbuhl
Montpellier, France

_______________________________________________
pstricks mailing list
pstricks at tug.org
http://tug.org/mailman/listinfo/pstricks



From frank at kuesterei.ch  Tue Aug 15 20:05:09 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 15 Aug 2006 20:05:09 +0200
Subject: [tex-live] [Fwd: [pstricks] pst-labo]
In-Reply-To: <44E1C41D.9090207@zedat.fu-berlin.de> (Herbert Voss's message of
	"Tue, 15 Aug 2006 14:54:53 +0200")
References: <44E1C41D.9090207@zedat.fu-berlin.de>
Message-ID: <863bbxdgdm.fsf@alhambra.kuesterei.ch>

Herbert Voss <LaTeX at zedat.fu-berlin.de> wrote:

> Karl,
> please have a look at it. Maybe a problem of the debian
> package oly?

http://tug.org/svn/texlive/trunk/Master/texmf-dist/tpm/pst-labo.tpm?revision=1779&view=markup

has the same error.

[...]
> pst-labo.sty is good
> (/usr/share/texmf-texlive/tex/latex/pst-labo/pst-labo.sty)
>
> pst-labo.tex and pst-laboObj.tex are gzipped and are located in the
> doc tree (/usr/share/doc/texlive-pstricks/latex/pst-labo).
>
> After being degzipped, they should go in
> /usr/share/texmf-texlive/tex/generic/pst-labo/

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From werner at suse.de  Wed Aug 16 11:43:53 2006
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 16 Aug 2006 11:43:53 +0200
Subject: [tex-live] DESTDIR not working
Message-ID: <20060816094353.GA13218@boole.suse.de>

Hi,

just found out that DESTDIR does not work:

   make DESTDIR=/var/tmp/texlive-root install

tries to install within the / hierarchy which is a bug.
Beside this I'd like to see the following change in
libs/freetype2/configure:


--- libs/freetype2/configure
+++ libs/freetype2/configure	2006-08-15 15:38:44.000000000 +0000
@@ -91,6 +91,10 @@
 
 # call make
 
-CFG="$@" $GNUMAKE setup unix
+CFG=
+for x in ${1+"$@"}; do
+  CFG="$CFG \"$x\""
+done
+CFG=$CFG $GNUMAKE setup unix
 
 # eof

to be able to handle configure options with string including spaces.


        Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From jonathan_kew at sil.org  Wed Aug 16 13:23:25 2006
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Wed, 16 Aug 2006 12:23:25 +0100
Subject: [tex-live] DESTDIR not working
In-Reply-To: <20060816094353.GA13218@boole.suse.de>
References: <20060816094353.GA13218@boole.suse.de>
Message-ID: <B37374C8-ED2E-4378-8A6E-186641F6529A@sil.org>

On 16 Aug 2006, at 10:43 am, Dr. Werner Fink wrote:
>
> Beside this I'd like to see the following change in
> libs/freetype2/configure:
>
>
> --- libs/freetype2/configure
> +++ libs/freetype2/configure	2006-08-15 15:38:44.000000000 +0000
> @@ -91,6 +91,10 @@
>
>  # call make
>
> -CFG="$@" $GNUMAKE setup unix
> +CFG=
> +for x in ${1+"$@"}; do
> +  CFG="$CFG \"$x\""
> +done
> +CFG=$CFG $GNUMAKE setup unix
>
>  # eof
>
> to be able to handle configure options with string including spaces.

This file comes directly from the Freetype project; while we could  
modify it in TL, I'd prefer to see the change happen upstream. Could  
you submit it to the Freetype developers?

JK



From werner at suse.de  Wed Aug 16 17:00:16 2006
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 16 Aug 2006 17:00:16 +0200
Subject: [tex-live] DESTDIR not working
In-Reply-To: <B37374C8-ED2E-4378-8A6E-186641F6529A@sil.org>
References: <20060816094353.GA13218@boole.suse.de>
	<B37374C8-ED2E-4378-8A6E-186641F6529A@sil.org>
Message-ID: <20060816150016.GA11088@wotan.suse.de>

On Wed, Aug 16, 2006 at 12:23:25PM +0100, Jonathan Kew wrote:
> On 16 Aug 2006, at 10:43 am, Dr. Werner Fink wrote:
> >
> >Beside this I'd like to see the following change in
> >libs/freetype2/configure:
> >
> >
> >--- libs/freetype2/configure
> >+++ libs/freetype2/configure	2006-08-15 15:38:44.000000000 +0000
> >@@ -91,6 +91,10 @@
> >
> > # call make
> >
> >-CFG="$@" $GNUMAKE setup unix
> >+CFG=
> >+for x in ${1+"$@"}; do
> >+  CFG="$CFG \"$x\""
> >+done
> >+CFG=$CFG $GNUMAKE setup unix
> >
> > # eof
> >
> >to be able to handle configure options with string including spaces.
> 
> This file comes directly from the Freetype project; while we could  
> modify it in TL, I'd prefer to see the change happen upstream. Could  
> you submit it to the Freetype developers?

Hmmm ... let's see if Werner Lemberg can help here.  Just another
problem with the main configure:

--- configure.in
+++ CONFIgure.in	2006-08-16 14:49:34.000000000 +0000
@@ -233,9 +233,9 @@
 test -d utils || mkdir utils
 for pkg in $PKGS; do
   if test -d $srcdir/utils/$pkg; then
-    if eval "test \"`echo '$with_'${pkg}`\" != no"; then
+    if eval "test \"`echo '$with_'${pkg}|sed 's/-/_/g'`\" != no"; then
       ESUBDIRS="$ESUBDIRS utils/$pkg"
-      if test $pkg = sam2p; then
+      if test $pkg = sam2p -a ! $srcdir/utils/sam2p -ef utils/sam2p; then
         # this is a terrible kludge, but sam2p configure actively
         # defeats srcdir!=objdir support, and Peter S. doesn't want to
         # fix it.  So copy the entire sam2p srcdir into objdir.
--- configure
+++ configure	2006-08-16 14:45:35.000000000 +0000
@@ -4766,9 +4766,9 @@
 test -d utils || mkdir utils
 for pkg in $PKGS; do
   if test -d $srcdir/utils/$pkg; then
-    if eval "test \"`echo '$with_'${pkg}`\" != no"; then
+    if eval "test \"`echo '$with_'${pkg}|sed 's/-/_/g'`\" != no"; then
       ESUBDIRS="$ESUBDIRS utils/$pkg"
-      if test $pkg = sam2p; then
+      if test $pkg = sam2p -a ! $srcdir/utils/sam2p -ef utils/sam2p; then
         # this is a terrible kludge, but sam2p configure actively
         # defeats srcdir!=objdir support, and Peter S. doesn't want to
         # fix it.  So copy the entire sam2p srcdir into objdir.

to be sure that `--without-lcdf-typetools' does not fail and that
for srcdir=. the utils/sam2p directory isn't removed.

       Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From frank at kuesterei.ch  Wed Aug 16 18:10:09 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 16 Aug 2006 18:10:09 +0200
Subject: [tex-live] DESTDIR not working
In-Reply-To: <20060816150016.GA11088@wotan.suse.de> (Werner Fink's message of
	"Wed, 16 Aug 2006 17:00:16 +0200")
References: <20060816094353.GA13218@boole.suse.de>
	<B37374C8-ED2E-4378-8A6E-186641F6529A@sil.org>
	<20060816150016.GA11088@wotan.suse.de>
Message-ID: <86veos8xwe.fsf@alhambra.kuesterei.ch>

"Dr. Werner Fink" <werner at suse.de> wrote:

> -      if test $pkg = sam2p; then
> +      if test $pkg = sam2p -a ! $srcdir/utils/sam2p -ef utils/sam2p; then

'-a' is a "bashism" not required by POSIX, although most shells
available on Linux systems understand it (even dash).  I'm not sure
about older Unices, though.  The safe version is

if test $pkg - sam2p && ! test $srcdir/utils/sam2p -ef utils/sam2p; then

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From jonathan_kew at sil.org  Thu Aug 17 14:51:35 2006
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Thu, 17 Aug 2006 13:51:35 +0100
Subject: [tex-live] Hyphenation patterns, Unicode, XeTeX, and language.dat
Message-ID: <94151CA0-D85A-44FF-B11F-CAD90F58D7EF@sil.org>

(Sorry, long message! See end for specific changes proposed in TL.)

I'd like to explore solutions for the problem of loading all the  
various hyphenation patterns in TeX Live when running the XeTeX  
engine (and using Unicode-compliant fonts). This relates primarily to  
LaTeX, though the techniques here could be used by other formats  
(Plain-based or other) too, and may also be helpful as other engines  
move towards greater Unicode support.


First, what exactly are the issues? There are a couple of reasons why  
a working "xelatex" format cannot be built using the existing  
language.dat and pattern files found in TL today:

(1) Patterns are loaded according to a specific font encoding. This  
is how TeX works: the hyphenation rules are applied to sequences of  
font-specific character codes. In XeTeX, we focus on Unicode as the  
current standard for character encoding, but the patterns found in TL  
are designed for various 8-bit font encodings used in the traditional  
TeX world. Therefore, for correct hyphenation of Unicode text, it  
will be necessary to re-encode the patterns to Unicode character  
codes (except in cases, such as English, where the 8-bit character  
codes used already correspond to Unicode values).

(2) Some of the pattern files are stored in pure 7-bit ASCII, using  
escape sequences where it is necessary to represent non-ASCII  
characters; but others are stored in 8-bit encodings such as TeX T1,  
T2a, etc. Because XeTeX defaults to reading input text as UTF-8  
Unicode, byte values >=128 in such files will be taken as part of  
UTF-8 sequences, so special care is needed to interpret such files  
correctly.


While a "global" clean-up/harmonization of pattern files, looking at  
how they manage encodings, loading techniques, catcode and lccode  
usage, etc., would be a Good Thing (IMHO), this would clearly be a  
long-term project, involving interaction with numerous original  
authors or maintainers (some of whom may be difficult to track down,  
or have little current interest). I'd like to see this addressed, but  
at this time I want to tackle the more immediate problem of making  
things work in TeX Live, given the collection of pattern files we  
have today.

My current plan, therefore, is to leave the actual pattern files  
untouched, and provide "wrapper" files that can load them with  
appropriate settings for XeTeX, setting the input text encoding and  
remapping character codes to Unicode as needed.

As an example, consider the file "xu-sihyph.tex". (The "xu-" prefix  
is intended to suggest XeTeX and Unicode, though as other Unicode  
engines become available, this may be extended to support them.)  
Details vary for other wrappers, depending on exactly how the pattern  
file is written and what character coding it assumes, but the general  
idea remains the same.

   --------------------------------------
   % xu-sihyph.tex
   % Wrapper for XeTeX to read sihyph.tex
   % Jonathan Kew, 2006-08-17

   \begingroup

   \input ifxetex.sty
   \ifxetex
     % Define the accent macro " to expand to the required Unicode  
characters
     \catcode`\"=13
     \def"#1{\ifx#1c^^^^010d\else \ifx#1s^^^^0161\else \ifx#1z^^^^017e 
\else
         \errmessage{Hyphenation pattern file corrupted!}%
       \fi\fi\fi}
     \catcode`\"=12 % reset catcode so we can read \lccode etc in  
sihyph.tex
     %
     \let\PATTERNS=\patterns
     \def\patterns{% at the \patterns command in sihyph.tex...
       \endgroup % end group to discard definitions from sihyph
       \begingroup % and start our own (to match \endgroup in sihyph)
       \lefthyphenmin=2 \righthyphenmin=3 % settings from sihyph.tex
       \catcode`\"=13 % activate our definition of " from above
       \PATTERNS % and then load the real patterns
     }
   \fi

   \input sihyph.tex

   \endgroup
   \endinput
   --------------------------------------

This allows the existing Slovenian patterns to be loaded in XeTeX and  
applied to Unicode text. So when creating the xelatex format, we need  
to use a version of language.dat that refers to "xu-sihyph.tex"  
instead of the original "sihyph.tex", and similarly for many of the  
other languages.


However, I want to avoid actually maintaining a second copy of  
language.dat for XeTeX (and figuring out where to put it, so that  
each engine will load the right one); this seems like a recipe for  
confusion, as well as complicating things for texconfig or other  
tools. Users should be able to set a *single* collection of language  
choices for LaTeX (or other formats), regardless of which TeX engine  
they're using at a particular moment.

To allow this, the wrapper file uses ifxetex.sty (from texmf-dist/tex/ 
generic/ifxetex/) to check whether it is being processed by XeTeX. If  
so, it remaps characters to Unicode as needed, and discards unneeded  
definitions from the pattern file; but if read by a standard TeX  
engine, it will simply load the old pattern file without changing  
anything.

Therefore, it is valid for language.dat to refer to the "xu-" wrapper  
file *in all cases*, and the patterns will be loaded in "legacy" mode  
(for whatever font encodings they happen to support) by [pdf]tex  
engines, and as Unicode by xetex.


** Proposal **

I have begun to write "xu-___.tex" wrapper files for the patterns  
currently available in TL (most are trivial), to allow xetex to load  
the existing (non-Unicode) files. I suggest that these wrappers go  
into texmf/tex/generic/xu-hyphen (as a sibling directory to texmf/tex/ 
generic/hyphen).

Then we modify the "language.__.dat" files in texmf/tex/generic/ 
config to refer to the xu- wrapper files (in the cases where one is  
necessary), and the pre-built "language.dat" will change similarly.

The net result will be that standard 8-bit TeX will load exactly the  
same patterns as it currently does (it'll just do some extra \input  
operations during format creation, but this is insignificant), and  
XeTeX will load the same set of patterns, but encoded for use with  
Unicode text.


Before actually making changes to something as central as  
language.dat, however, I'd like to hear any concerns or objections to  
this proposed strategy, or alternative suggestions that could make  
things simpler for us all.

Thanks in advance for any and all feedback!

-- JK


From morten.hoegholm at latex-project.org  Thu Aug 17 15:17:56 2006
From: morten.hoegholm at latex-project.org (=?iso-8859-1?Q?Morten_H=F8gholm?=)
Date: Thu, 17 Aug 2006 15:17:56 +0200
Subject: [tex-live] Hyphenation patterns, Unicode, XeTeX,
	and language.dat
In-Reply-To: <94151CA0-D85A-44FF-B11F-CAD90F58D7EF@sil.org>
References: <94151CA0-D85A-44FF-B11F-CAD90F58D7EF@sil.org>
Message-ID: <op.tefi76kjss64je@morten.local>

On Thu, 17 Aug 2006 14:51:35 +0200, Jonathan Kew <jonathan_kew at sil.org>  
wrote:

> Then we modify the "language.__.dat" files in texmf/tex/generic/
> config to refer to the xu- wrapper files (in the cases where one is
> necessary), and the pre-built "language.dat" will change similarly.
>
> The net result will be that standard 8-bit TeX will load exactly the
> same patterns as it currently does (it'll just do some extra \input
> operations during format creation, but this is insignificant), and
> XeTeX will load the same set of patterns, but encoded for use with
> Unicode text.
>
>
> Before actually making changes to something as central as
> language.dat, however, I'd like to hear any concerns or objections to
> this proposed strategy, or alternative suggestions that could make
> things simpler for us all.

Rather than changing language.dat, wouldn't it be easier to add a hook  
like \patternfileprefix in hyphen.cfg and change \process at language  
accordingly:

\def\process at language#1 #2 #3/{%
  ...
   \input \patternfileprefix#2\relax
...}

Then a format like XeTeX can just define it in the ini file or elsewhere.
-- 
Morten

From jonathan_kew at sil.org  Thu Aug 17 16:59:20 2006
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Thu, 17 Aug 2006 15:59:20 +0100
Subject: [tex-live] Hyphenation patterns, Unicode, XeTeX,
	and language.dat
In-Reply-To: <op.tefi76kjss64je@morten.local>
References: <94151CA0-D85A-44FF-B11F-CAD90F58D7EF@sil.org>
	<op.tefi76kjss64je@morten.local>
Message-ID: <EB9A5D00-89A7-459C-8419-CE86C0505F3E@sil.org>

On 17 Aug 2006, at 2:17 pm, Morten H?gholm wrote:

> On Thu, 17 Aug 2006 14:51:35 +0200, Jonathan Kew  
> <jonathan_kew at sil.org> wrote:
>
>> Then we modify the "language.__.dat" files in texmf/tex/generic/
>> config to refer to the xu- wrapper files (in the cases where one is
>> necessary), and the pre-built "language.dat" will change similarly.
>>
>> The net result will be that standard 8-bit TeX will load exactly the
>> same patterns as it currently does (it'll just do some extra \input
>> operations during format creation, but this is insignificant), and
>> XeTeX will load the same set of patterns, but encoded for use with
>> Unicode text.
>>
>>
>> Before actually making changes to something as central as
>> language.dat, however, I'd like to hear any concerns or objections to
>> this proposed strategy, or alternative suggestions that could make
>> things simpler for us all.
>
> Rather than changing language.dat, wouldn't it be easier to add a  
> hook like \patternfileprefix in hyphen.cfg and change  
> \process at language accordingly:
>
> \def\process at language#1 #2 #3/{%
>  ...
>   \input \patternfileprefix#2\relax
> ...}
>
> Then a format like XeTeX can just define it in the ini file or  
> elsewhere.

That would certainly be a possible solution. (Actually, I already  
looked at hyphen.cfg to see if such a hook happened to exist, as I  
wondered about using such an approach.)

However, it would mean providing a prefixed "wrapper" for *every*  
pattern file, even those like hyphen.tex or ukhyphen.tex which are  
pure ASCII (or Latin-1 letters represented with ^^xx codes, which  
equate directly to Unicode codepoints). Close to half the pattern  
files in TL's texmf/tex/generic/hyphen are currently "safe" files of  
this nature. So I'm not sure this is really easier/better than  
changing the (single-line) language.__.dat files.

(One slightly more elaborate approach, then, would be to test for the  
existence of \patternfileprefix#2, and if this is not available, load  
the original file without a prefix.)

The other factor is that I've primarily been looking at solutions  
that could be implemented entirely at the TeX Live (or other  
distribution) level, without touching any of the canonical LaTeX or  
Babel files. But if there's agreement that it would be preferable to  
add such a hook, I'd be happy to go that way.

Further thoughts, anyone?

JK


From karl at freefriends.org  Thu Aug 17 20:52:40 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Aug 2006 13:52:40 -0500
Subject: [tex-live] Hyphenation patterns, Unicode, XeTeX,
	and language.dat
In-Reply-To: <94151CA0-D85A-44FF-B11F-CAD90F58D7EF@sil.org>
Message-ID: <200608171852.k7HIqeF14965@f7.net>

    modify the "language.__.dat" files in texmf/tex/generic/ config to
    refer to the xu- wrapper files (in the cases where one is necessary)

Works for me.  Good idea.  Thanks Jonathan.

My only additional thought is that, if you are willing, you could
contact the original hyphenation pattern authors as you create the
wrappers, Or, if that's too time-consuming (as I would expect :), maybe
you could record a very brief summary (one line per pattern) of who they
are and what changes you had to make, so that the more general cleanup
has a chance of progressing.

(Actually, I am not entirely clear what general pattern file scheme we
should be aiming to converge to (i.e., asking pattern authors to use),
but that's a different discussion.)


Morten, having the hook in babel sounds useful too.  Can you propose
that to the rest of the latex team?  Then the language*.dat files would
not need to be changed.  In case there is no new latex release before
the TL release, we can modify the .dat's.  That part is no big deal.

Thanks,
Karl

From karl at freefriends.org  Thu Aug 17 23:05:42 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Aug 2006 16:05:42 -0500
Subject: [tex-live] DESTDIR not working
In-Reply-To: <86veos8xwe.fsf@alhambra.kuesterei.ch>
Message-ID: <200608172105.k7HL5g625236@f7.net>

    > +      if test $pkg = sam2p -a ! $srcdir/utils/sam2p -ef utils/sam2p; then

    '-a' is a "bashism" not required by POSIX, although most shells

Indeed.  And how about -ef?  Is that really standard/widely supported? 
Would it be better to cd to the two directories and compare /bin/pwd
output?

Anyway, I applied the "with" parts of the patch.  Thanks, Werner.

Karl


From karl at freefriends.org  Fri Aug 18 01:04:07 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Aug 2006 18:04:07 -0500
Subject: [tex-live] [Fwd: Re:  Gentoo support of TeXLive]
In-Reply-To: <44E195A8.8050006@wxs.nl>
Message-ID: <200608172304.k7HN47q04455@f7.net>

    Oh sure.  And it is a pure coincidence that you happened to post this

Is this humor?  Sorry, guess I'm being dense, I don't understand.

Please, be kind to people sending in reports.

(Thanks Christian.  I'll hold off on doing anything for now, per the
Martin's follow-up ...)

Cheers,
Karl

From v-li at gmx.de  Fri Aug 18 02:00:00 2006
From: v-li at gmx.de (Christian Faulhammer)
Date: 18 Aug 2006 00:00:00 +0000
Subject: [tex-live] [Fwd: Re:  Gentoo support of TeXLive]
In-Reply-To: <200608172304.k7HN47q04455@f7.net>
Message-ID: <9+6rRfxEUPB@v-li.fqdn.th-h.de>

Tach Karl,                                0x2B859DE3 (PGP-PK-ID)

>     Oh sure.  And it is a pure coincidence that you happened to post this
> Is this humor?  Sorry, guess I'm being dense, I don't understand.

 David and I know each other (even personally, we grew up in the same  
city)...so I do understand his comment. :)

> Please, be kind to people sending in reports.

 He is!

> (Thanks Christian.  I'll hold off on doing anything for now, per the
> Martin's follow-up ...)

 Ok, I'll have an eye at the development of TeXLive in Gentoo and inform  
you here.

V-Li

-- 
Fingerprint: 68C5 D381 B69A A777 6A91 E999 350A AD7C 2B85 9DE3
http://www.gnupg.org/

From karl at freefriends.org  Thu Aug 17 23:05:42 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Aug 2006 16:05:42 -0500
Subject: [tex-live] DESTDIR not working
In-Reply-To: <20060816094353.GA13218@boole.suse.de>
Message-ID: <200608172105.k7HL5gF25308@f7.net>

    --- libs/freetype2/configure
    +++ libs/freetype2/configure	2006-08-15 15:38:44.000000000 +0000
    @@ -91,6 +91,10 @@

     # call make

    -CFG="$@" $GNUMAKE setup unix
    +CFG=
    +for x in ${1+"$@"}; do
    +  CFG="$CFG \"$x\""
    +done
    +CFG=$CFG $GNUMAKE setup unix

     # eof

I applied it.  Werner L., is it ok for you?  Will you apply it (or an
equivalent) in the original?

Thanks,
Karl

From karl at freefriends.org  Fri Aug 18 00:27:26 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Aug 2006 17:27:26 -0500
Subject: [tex-live] [Fwd: [pstricks] pst-labo]
In-Reply-To: <44E1C41D.9090207@zedat.fu-berlin.de>
Message-ID: <200608172227.k7HMRQB21172@f7.net>

    pst-labo.tex and pst-laboObj.tex are gzipped and are located in the
    doc tree (/usr/share/doc/texlive-pstricks/latex/pst-labo).

I reinstalled pst-labo in TL with the pst-labo*.tex files in the proper
places (I hope).  Thanks for the report.

From wl at gnu.org  Fri Aug 18 07:36:30 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 18 Aug 2006 07:36:30 +0200 (CEST)
Subject: [tex-live] size of TeXLive
Message-ID: <20060818.073630.41636522.wl@gnu.org>


Looking into the log files I can see that the TeXLive distribution
grows and grows.  Are there still space limitations (besides the
absolute limit of a DVD's size)?  Is it planned to produce a TeXLive
CD-ROM at all?


    Werner

From ralf.stubner at physik.uni-erlangen.de  Fri Aug 18 10:59:23 2006
From: ralf.stubner at physik.uni-erlangen.de (Ralf Stubner)
Date: Fri, 18 Aug 2006 10:59:23 +0200
Subject: [tex-live] Hyphenation patterns, Unicode, XeTeX,
	and language.dat
References: <94151CA0-D85A-44FF-B11F-CAD90F58D7EF@sil.org>
	<op.tefi76kjss64je@morten.local>
	<EB9A5D00-89A7-459C-8419-CE86C0505F3E@sil.org>
Message-ID: <87oduixvv8.fsf@ID-223132.user.uni-berlin.de>

Jonathan Kew <jonathan_kew at sil.org> writes:

> However, it would mean providing a prefixed "wrapper" for *every*  
> pattern file, even those like hyphen.tex or ukhyphen.tex which are  
> pure ASCII (or Latin-1 letters represented with ^^xx codes, which  
> equate directly to Unicode codepoints). Close to half the pattern  
> files in TL's texmf/tex/generic/hyphen are currently "safe" files of  
> this nature. So I'm not sure this is really easier/better than  
> changing the (single-line) language.__.dat files.
>
> (One slightly more elaborate approach, then, would be to test for the  
> existence of \patternfileprefix#2, and if this is not available, load  
> the original file without a prefix.)
>
> The other factor is that I've primarily been looking at solutions  
> that could be implemented entirely at the TeX Live (or other  
> distribution) level, without touching any of the canonical LaTeX or  
> Babel files. But if there's agreement that it would be preferable to  
> add such a hook, I'd be happy to go that way.
>
> Further thoughts, anyone?

Morton's suggestion together with the additional test if
\patternfileprefix#2 is available looks like the most flexible system to
me. In particular I am thinking about the greek hyphenation patterns
that can be produced via Peter Heslin's script. If I understood it
correctly, one can not map the patterns for LGR encoding to unicode
encoding in the way you do it, say, for T1 to unicode. So one would have
to use two different pattern files. That would be a quite natural thing
when working with \patternfileprefix, while the wrapper files would need
a slightly different structure: 

\ifxetex
  \input <unicode-patterns>
\else
  \input <original-patterns>
\fi

However, I don't know if a new babel release will happen before TL 2006
is released, hence using wrapper files is probably best for the time
being. 

cheerio
ralf


From Gerben.Wierda at rna.nl  Fri Aug 18 11:37:58 2006
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 18 Aug 2006 11:37:58 +0200
Subject: [tex-live] texmf-dist/doc vs texmf/doc
Message-ID: <AE2AEB20-9F43-4BFA-8AA5-BB48CD0D532F@rna.nl>

Can anybody tell me the rationale behind the texmf-dist and texmf doc  
trees separation? E.g. why is latex2e.pdf in texmf and the rest of  
latex packages in texmf-dist, while the actual files used by TeX are  
all in texmf-dist?

G 

From wl at gnu.org  Fri Aug 18 18:25:57 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 18 Aug 2006 18:25:57 +0200 (CEST)
Subject: [tex-live] DESTDIR not working
In-Reply-To: <200608172105.k7HL5gF25308@f7.net>
References: <20060816094353.GA13218@boole.suse.de>
	<200608172105.k7HL5gF25308@f7.net>
Message-ID: <20060818.182557.112618177.wl@gnu.org>

> I applied it.  Werner L., is it ok for you?  Will you apply it (or
> an equivalent) in the original?

Yes, and thanks for the patch.  It may take a few days, though.


    Werner

From karl at freefriends.org  Fri Aug 18 20:30:08 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 18 Aug 2006 13:30:08 -0500
Subject: [tex-live] texmf-dist/doc vs texmf/doc
In-Reply-To: <AE2AEB20-9F43-4BFA-8AA5-BB48CD0D532F@rna.nl>
Message-ID: <200608181830.k7IIU8V11936@f7.net>

Hi Gerben,

    Can anybody tell me the rationale behind the texmf-dist and texmf doc  
    trees separation? 

The texmf-doc tree was intended for "packages" which are documentation
only, primarily so that they could be organized by language.  It also
reduces the size of texmf-dist a little bit.  (This was Fabrice's idea,
and I think it actually works pretty well.)  But I'm not sure you're
really asking about texmf-doc.

    E.g. why is latex2e.pdf in texmf

Hmm, I can't think of a good reason right now why the files in
texmf/doc/latex/base are there instead of texmf-dist.  I'll be updating
LaTeX in TL soon, and will reconsider this.  (I never thought about it
before, I just inherited it :).  Sebastian?)

    and the rest of latex packages in texmf-dist, while the actual files
    used by TeX are all in texmf-dist?

The theoretical idea (again, Fabrice's) behind texmf-dist vs. texmf is
to separate out files which are implementation-independent (e.g., TeX macros)
from those which are implementation-dependent (e.g., binaries).  So all
the LaTeX macros are in texmf-dist.

k

From karl at freefriends.org  Fri Aug 18 20:47:44 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 18 Aug 2006 13:47:44 -0500
Subject: [tex-live] size of TeXLive
In-Reply-To: <20060818.073630.41636522.wl@gnu.org>
Message-ID: <200608181847.k7IIlia17915@f7.net>

    Are there still space limitations (besides the absolute limit of a
    DVD's size)?  Is it planned to produce a TeXLive CD-ROM at all?

Yes, I still do want to make the CD inst distribution this year, since
whenever the user groups ask their members, plenty of people still say
they want it.  Clearly some stuff will have to be left out.  Exactly
what, we'll have to wait and see until the images are being put together.

From wagner at cesnet.cz  Fri Aug 18 22:29:37 2006
From: wagner at cesnet.cz (Zdenek Wagner)
Date: Fri, 18 Aug 2006 22:29:37 +0200
Subject: [tex-live] texmf-dist/doc vs texmf/doc
In-Reply-To: <200608181830.k7IIU8V11936@f7.net>
References: <AE2AEB20-9F43-4BFA-8AA5-BB48CD0D532F@rna.nl>
	<200608181830.k7IIU8V11936@f7.net>
Message-ID: <8719b6240608181329h31ee5915q902a8032e99ef551@mail.gmail.com>

>
> The texmf-doc tree was intended for "packages" which are documentation
> only, primarily so that they could be organized by language.  It also
> reduces the size of texmf-dist a little bit.  (This was Fabrice's idea,
> and I think it actually works pretty well.)  But I'm not sure you're
> really asking about texmf-doc.
>
>     E.g. why is latex2e.pdf in texmf
>
> Hmm, I can't think of a good reason right now why the files in
> texmf/doc/latex/base are there instead of texmf-dist.  I'll be updating
> LaTeX in TL soon, and will reconsider this.  (I never thought about it
> before, I just inherited it :).  Sebastian?)
>
>     and the rest of latex packages in texmf-dist, while the actual files
>     used by TeX are all in texmf-dist?
>
As I remember, it is (or at least was) possible to select whether the
documentation is also installed. Couldn't it be somehow related?

> The theoretical idea (again, Fabrice's) behind texmf-dist vs. texmf is
> to separate out files which are implementation-independent (e.g., TeX macros)
> from those which are implementation-dependent (e.g., binaries).  So all
> the LaTeX macros are in texmf-dist.
>
> k
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From karl at freefriends.org  Fri Aug 18 23:57:02 2006
From: karl at freefriends.org (Karl Berry)
Date: Fri, 18 Aug 2006 16:57:02 -0500
Subject: [tex-live] texmf-dist/doc vs texmf/doc
In-Reply-To: <8719b6240608181329h31ee5915q902a8032e99ef551@mail.gmail.com>
Message-ID: <200608182157.k7ILv1b18892@f7.net>

    As I remember, it is (or at least was) possible to select whether the
    documentation is also installed. Couldn't it be somehow related?

I guess that is an option (under O in the Unix install script, "do not
install macro/font doc tree"), but I'm not sure it's related to
texmf-doc.  I've never used it, actually.

From jonathan_kew at sil.org  Sun Aug 20 00:41:46 2006
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sat, 19 Aug 2006 23:41:46 +0100
Subject: [tex-live] Hyphenation patterns, Unicode, XeTeX,
	and language.dat
In-Reply-To: <87oduixvv8.fsf@ID-223132.user.uni-berlin.de>
References: <94151CA0-D85A-44FF-B11F-CAD90F58D7EF@sil.org>
	<op.tefi76kjss64je@morten.local>
	<EB9A5D00-89A7-459C-8419-CE86C0505F3E@sil.org>
	<87oduixvv8.fsf@ID-223132.user.uni-berlin.de>
Message-ID: <7F524174-2D2C-4139-BFD1-57A12C0BA14F@sil.org>

I was just wondering if there's a reason most of the pattern files  
referenced in language.dat are located in the texmf tree (texmf/tex/ 
generic/hyphen), rather than in texmf-dist. The packages with  
hyphenation patterns for Cyrillic-script languages, however, are  
found in texmf-dist/tex/generic/*hyph*.

Would it make sense to move the entire texmf/tex/generic/hyphen  
collection over to texmf-dist?

JK



From karl at freefriends.org  Sun Aug 20 00:55:01 2006
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 Aug 2006 17:55:01 -0500
Subject: [tex-live] Hyphenation patterns, Unicode, XeTeX,
	and language.dat
In-Reply-To: <7F524174-2D2C-4139-BFD1-57A12C0BA14F@sil.org>
Message-ID: <200608192255.k7JMt1d25922@f7.net>

    I was just wondering if there's a reason most of the pattern files  
    referenced in language.dat are located in the texmf tree

Because they are single files, and the code which autogenerates the tpm
files for texmf-dist isn't set up to handle that (and it would be a pain
to do so).

At least that's what comes to mind off the top of my head.  I haven't
researched it ...

    hyphenation patterns for Cyrillic-script languages, however, are  
    found in texmf-dist/tex/generic/*hyph*.

They are subdirectories.

    Would it make sense to move the entire texmf/tex/generic/hyphen  
    collection over to texmf-dist?

It actually sounds desirable to me, but I believe subdirectories would
need be made at the same time, and hyphen-* and collection-lang* tpm
files have to be adjusted, etc.

(Note to self: rebuild the tpm's, I'm sure lots of discrepancies have
crept in with all the updates ...)


From frank at kuesterei.ch  Mon Aug 21 14:11:42 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 21 Aug 2006 14:11:42 +0200
Subject: [tex-live] DESTDIR not working
In-Reply-To: <200608172105.k7HL5g625236@f7.net> (Karl Berry's message of "Thu,
	17 Aug 2006 16:05:42 -0500")
References: <200608172105.k7HL5g625236@f7.net>
Message-ID: <868xli2sqp.fsf@alhambra.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     > +      if test $pkg = sam2p -a ! $srcdir/utils/sam2p -ef utils/sam2p; then
>
>     '-a' is a "bashism" not required by POSIX, although most shells
>
> Indeed.  And how about -ef?  Is that really standard/widely supported? 
> Would it be better to cd to the two directories and compare /bin/pwd
> output?

Oops, yes:

http://www.opengroup.org/onlinepubs/009695399/utilities/test.html

tells me that POSIX does not know about -ef.  So that would be

if test $pkg = sam2p; then
  dir1=$(cd $srcdir/utils/sam2p; pwd)
  dir2=$(cd utils/sam2p; pwd)
  if test "$dir1" != "$dir2"; then
    # doing things
  fi
fi

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From dak at gnu.org  Mon Aug 21 14:41:41 2006
From: dak at gnu.org (David Kastrup)
Date: Mon, 21 Aug 2006 14:41:41 +0200
Subject: [tex-live] DESTDIR not working
In-Reply-To: <868xli2sqp.fsf@alhambra.kuesterei.ch> (Frank
	=?iso-8859-1?Q?K=FCster's?= message of "Mon,
	21 Aug 2006 14:11:42 +0200")
References: <200608172105.k7HL5g625236@f7.net>
	<868xli2sqp.fsf@alhambra.kuesterei.ch>
Message-ID: <85irkm8dmi.fsf@lola.goethe.zz>

Frank K?ster <frank at kuesterei.ch> writes:

> karl at freefriends.org (Karl Berry) wrote:
>
> http://www.opengroup.org/onlinepubs/009695399/utilities/test.html
>
> tells me that POSIX does not know about -ef.  So that would be
>
> if test $pkg = sam2p; then
>   dir1=$(cd $srcdir/utils/sam2p; pwd)
>   dir2=$(cd utils/sam2p; pwd)
>   if test "$dir1" != "$dir2"; then
>     # doing things
>   fi
> fi

$(...) is a bashism, too, IIRC, so you rather should use `...`.  And
pwd is not required to return a canonical directory name IIRC when it
is used as a shell builtin.

Maybe ls -id is somewhat of a help, but you'd still need to check that
you are on the same file system.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From werner at suse.de  Mon Aug 21 15:01:58 2006
From: werner at suse.de (Dr. Werner Fink)
Date: Mon, 21 Aug 2006 15:01:58 +0200
Subject: [tex-live] DESTDIR not working
In-Reply-To: <85irkm8dmi.fsf@lola.goethe.zz>
References: <200608172105.k7HL5g625236@f7.net>
	<868xli2sqp.fsf@alhambra.kuesterei.ch>
	<85irkm8dmi.fsf@lola.goethe.zz>
Message-ID: <20060821130158.GA21626@boole.suse.de>

On Mon, Aug 21, 2006 at 02:41:41PM +0200, David Kastrup wrote:
> Frank K?ster <frank at kuesterei.ch> writes:
> 
> > karl at freefriends.org (Karl Berry) wrote:
> >
> > http://www.opengroup.org/onlinepubs/009695399/utilities/test.html
> >
> > tells me that POSIX does not know about -ef.  So that would be
> >
> > if test $pkg = sam2p; then
> >   dir1=$(cd $srcdir/utils/sam2p; pwd)
> >   dir2=$(cd utils/sam2p; pwd)
> >   if test "$dir1" != "$dir2"; then
> >     # doing things
> >   fi
> > fi
> 
> $(...) is a bashism, too, IIRC, so you rather should use `...`.  And
> pwd is not required to return a canonical directory name IIRC when it
> is used as a shell builtin.

AFAIK $(...) is POSIX and should be know by a modern shell.
Even ksh knows about.

      Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From frank at kuesterei.ch  Mon Aug 21 15:18:05 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 21 Aug 2006 15:18:05 +0200
Subject: [tex-live] DESTDIR not working
In-Reply-To: <85irkm8dmi.fsf@lola.goethe.zz> (David Kastrup's message of "Mon,
	21 Aug 2006 14:41:41 +0200")
References: <200608172105.k7HL5g625236@f7.net>
	<868xli2sqp.fsf@alhambra.kuesterei.ch> <85irkm8dmi.fsf@lola.goethe.zz>
Message-ID: <86lkpi1b3m.fsf@alhambra.kuesterei.ch>

David Kastrup <dak at gnu.org> wrote:

> Frank K?ster <frank at kuesterei.ch> writes:
>
>> karl at freefriends.org (Karl Berry) wrote:
>>
>> http://www.opengroup.org/onlinepubs/009695399/utilities/test.html
>>
>> tells me that POSIX does not know about -ef.  So that would be
>>
>> if test $pkg = sam2p; then
>>   dir1=$(cd $srcdir/utils/sam2p; pwd)
>>   dir2=$(cd utils/sam2p; pwd)
>>   if test "$dir1" != "$dir2"; then
>>     # doing things
>>   fi
>> fi
>
> $(...) is a bashism, too, IIRC, so you rather should use `...`.  

No, POSIX also knows about it (and actually I've been told that it is
older than ``):
http://www.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_03 

> And
> pwd is not required to return a canonical directory name IIRC when it
> is used as a shell builtin.

Any idea where this would be documented, or of an example shell where
this becomes a problem?

http://www.opengroup.org/onlinepubs/009695399/utilities/pwd.html says
that pwd should write to stdout "an absolute pathname of the current
working directory, which does not contain the filenames dot or
dot-dot", and does not say otherwise in
http://www.opengroup.org/onlinepubs/009695399/utilities/xcu_chap01.html#tag_01_13 

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From dak at gnu.org  Mon Aug 21 15:34:29 2006
From: dak at gnu.org (David Kastrup)
Date: Mon, 21 Aug 2006 15:34:29 +0200
Subject: [tex-live] DESTDIR not working
In-Reply-To: <86lkpi1b3m.fsf@alhambra.kuesterei.ch> (Frank
	=?iso-8859-1?Q?K=FCster's?= message of "Mon,
	21 Aug 2006 15:18:05 +0200")
References: <200608172105.k7HL5g625236@f7.net>
	<868xli2sqp.fsf@alhambra.kuesterei.ch> <85irkm8dmi.fsf@lola.goethe.zz>
	<86lkpi1b3m.fsf@alhambra.kuesterei.ch>
Message-ID: <853bbq8b6i.fsf@lola.goethe.zz>

Frank K?ster <frank at kuesterei.ch> writes:

>> pwd is not required to return a canonical directory name IIRC when it
>> is used as a shell builtin.
>
> Any idea where this would be documented, or of an example shell
> where this becomes a problem?
>
> http://www.opengroup.org/onlinepubs/009695399/utilities/pwd.html
> says that pwd should write to stdout "an absolute pathname of the
> current working directory, which does not contain the filenames dot
> or dot-dot", and does not say otherwise in
> http://www.opengroup.org/onlinepubs/009695399/utilities/xcu_chap01.html#tag_01_13

Sure.  "an absolute pathname".  But there are several such absolute
pathnames possible when symbolic links are involved.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From kenb at rpath.com  Mon Aug 21 20:26:13 2006
From: kenb at rpath.com (Ken Brooks)
Date: Mon, 21 Aug 2006 14:26:13 -0400
Subject: [tex-live] More on texlive configuration
In-Reply-To: <22af238a0608050444x11f41476mc4d2440f8fd5c2e4@mail.gmail.com>
References: <44D2540E.1090802@rpath.com>
	<22af238a0608050444x11f41476mc4d2440f8fd5c2e4@mail.gmail.com>
Message-ID: <44E9FAC5.1040409@rpath.com>

gnwiii at gmail.com wrote:
>> 2. SELFAUTO* won't work for any purpose at all, so I should customize
>> texmf.cnf and change every SELFAUTO entry therein, to something more
>> definite.
>>
>> Does this sound right?
> 
> Well, SELFAUTO* could be used.  RH Fedora Core 5 teTeX uses (the
> redundantly redundant) compile-time default:
> 
> TEXMFCNF = 
> {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/share,}/texmf{-local,}/web2c};$TETEXDIR;/usr/share/texmf/web2c;/usr/share/texmf/web2c 
> 
> 
> which seems to miss /usr/local/share/texmf/web2c.   There aren't any
> uses of SELFAUTO* in the effective parts of the texmf.cnf
> 
> Something like:
> 
> TEXMFCNF = 
> {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/local/share,/share,}/texmf{-local,}/web2c} 
> 
> 
> would support a site-specific "/usr/local/share/texmf/web2c/texmf.cnf".
> 

Let's see if I understand this right.  If the executable is in /usr/bin, 
then SELFAUTOPARENT will resolve to /usr, and the above path will include 
  /usr/local/share/texmf, /usr/local/share/texmf-local, /usr/share/texmf, 
and /usr/share/texmf-local among others, giving my downstream user all 
redundant sorts of places in which to put his customizations without 
changing /usr/share/texmf/<anything>.

Now, why the desire for .../texmf-local if /usr/local/share/texmf is 
already available?

Thanks,

Ken Brooks
rPath, Inc.


From kenb at rpath.com  Mon Aug 21 20:43:28 2006
From: kenb at rpath.com (Ken Brooks)
Date: Mon, 21 Aug 2006 14:43:28 -0400
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <200608071602.k77G28t11683@f7.net>
References: <200608071602.k77G28t11683@f7.net>
Message-ID: <44E9FED0.3050207@rpath.com>

Karl Berry wrote:
> Hi Ken,
> 
>     Would someone be willing to take a 
>     look and find the gem of truth in this mass of output?
> 
> What appears on standard output after
> kpathsea: Running mktexfmt tex.fmt
> ?

Sorry, that world has been overwritten (for the better) since I sent the 
original message.

> Meanwhile, on a completely different front, your setup seems to have
> much more in common with Debian than with the usual all-in-one-dir TL
> setup.  I wonder if it would actually be easier for you to adapt
> Debian's packages than to start from the original sources.  As I recall,
> they had to modify a number of config files to make things work.  Frank,
> Norbert?

We considered that way back at the beginning.  Got stuck on the fact that 
we couldn't figure out how to unpack a Debian package archive in a 
non-Debian world.  If anyone knows a good answer to that, I'd love to 
hear it.  Or if anyone knows where to find the Debian package source in 
an unpacked form.

Thanks for all the help,

Ken Brooks
rPath, Inc.

From kenb at rpath.com  Mon Aug 21 20:44:13 2006
From: kenb at rpath.com (Ken Brooks)
Date: Mon, 21 Aug 2006 14:44:13 -0400
Subject: [tex-live] Light at the end of the tunnel
Message-ID: <44E9FEFD.3080601@rpath.com>

Today I succeeded in building a world in which the creation of tex.fmt 
almost worked.  It got almost to the end of plain.tex, then stumbled when 
trying to find hyphen.tex.  And it seems to me that hyphen.tex was where 
it should be:

> [kenb at test154 texshare]$ tex story
> This is TeX, Version 3.141592 (Web2C 7.5.5)
> kpathsea: Running mktexfmt tex.fmt
> fmtutil: running `tex -ini   -jobname=tex -progname=tex tex.ini' ...
> This is TeX, Version 3.141592 (Web2C 7.5.5) (INITEX)
> (/usr/share/texmf-dist/tex/plain/config/tex.ini
> (/usr/share/texmf-dist/tex/plain/base/plain.tex
> Preloading the plain format: codes, registers, parameters, fonts, more fonts,
> macros, math definitions, output routines, hyphenation
> ! I can't find file `hyphen'.
> l.1222 \input hyphen
> . . .
> 
> [kenb at test154 ~]$ kpsewhich -show-path hyphen.tex
> .:!!/home/kenb/.texmf-config/tex/kpsewhich//:!!/home/kenb/.texmf-var/tex/kpsewhich//:/home/kenb/texmf/tex/kpsewhich//:!!/usr/share/texmf-config/tex/kpsewhich//:!!/usr/share/texmf-var/tex/kpsewhich//:!!/usr/share/texmf/tex/kpsewhich//:!!/usr/share/texmf-local/tex/kpsewhich//:!!/usr/share/texmf-dist/tex/kpsewhich//:!!/home/kenb/.texmf-config/tex/generic//:!!/home/kenb/.texmf-var/tex/generic//:/home/kenb/texmf/tex/generic//:!!/usr/share/texmf-config/tex/generic//:!!/usr/share/texmf-var/tex/generic//:!!/usr/share/texmf/tex/generic//:!!/usr/share/texmf-local/tex/generic//:!!/usr/share/texmf-dist/tex/generic//:!!/home/kenb/.texmf-config/tex///:!!/home/kenb/.texmf-var/tex///:/home/kenb/texmf/tex///:!!/usr/share/texmf-config/tex///:!!/usr/share/texmf-var/tex///:!!/usr/share/texmf/tex///:!!/usr/share/texmf-local/tex///:!!/usr/share/texmf-dist/tex///
> [kenb at test154 ~]$ kpsewhich -expand-path '!!/usr/share/texmf/tex/generic//'
> /usr/share/texmf/tex/generic:/usr/share/texmf/tex/generic/config:/usr/share/texmf/tex/generic/hyphen
> [kenb at test154 ~]$ ls -l /usr/share/texmf/tex/generic/hyphen/hyphen.tex
> -rw-r--r--  1 kenb kenb 27860 Aug 21 10:59 /usr/share/texmf/tex/generic/hyphen/hyphen.tex
> [kenb at test154 ~]

So although /usr/share/texmf/tex/generic// is in the path, it couldn't 
find hyphen.tex.  And indeed, kpsewhich hyphen.tex comes up empty.  Although:
    kpsewhich -expand-path `kpsewhich -show-path hyphen.tex`
produces a (long) result which really does explicitly contain 
"/usr/share/texmf/tex/generic/hyphen".  Now I'm really surprised.  What 
could be lacking here?

-- 
Ken Brooks
rPath, Inc.

From john at wexfordpress.com  Mon Aug 21 22:19:04 2006
From: john at wexfordpress.com (John R. Culleton)
Date: Mon, 21 Aug 2006 16:19:04 -0400
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <44E9FED0.3050207@rpath.com>
References: <200608071602.k77G28t11683@f7.net> <44E9FED0.3050207@rpath.com>
Message-ID: <200608211619.04712.john@wexfordpress.com>

On Monday 21 August 2006 14:43, Ken Brooks wrote:
> Karl Berry wrote:
> > Hi Ken,
> >
> >     Would someone be willing to take a
> >     look and find the gem of truth in this mass of output?
> >
> > What appears on standard output after
> > kpathsea: Running mktexfmt tex.fmt
> > ?
>
> Sorry, that world has been overwritten (for the better) since I sent the
> original message.
>
> > Meanwhile, on a completely different front, your setup seems to have
> > much more in common with Debian than with the usual all-in-one-dir TL
> > setup.  I wonder if it would actually be easier for you to adapt
> > Debian's packages than to start from the original sources.  As I recall,
> > they had to modify a number of config files to make things work.  Frank,
> > Norbert?
>
> We considered that way back at the beginning.  Got stuck on the fact that
> we couldn't figure out how to unpack a Debian package archive in a
> non-Debian world.  If anyone knows a good answer to that, I'd love to
> hear it.  Or if anyone knows where to find the Debian package source in
> an unpacked form.
>
> Thanks for all the help,
>
> Ken Brooks
> rPath, Inc.
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
Well for Windows you have miktex. For Any Linux installation you
have TeXLive. It works on Windows and on Mac (I think) also. 
Most Linux distros also have their own versions of TeX. So why are
you using a .deb distro in a non-.deb environment? 

If you have answered this question earlier then just ignore this
post. 

-- 
John Culleton
Able Indexing and Typesetting
Precision typesetting (tm) at reasonable cost.
Satisfaction guaranteed. 
http://wexfordpress.com



From karl at freefriends.org  Mon Aug 21 23:24:08 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 Aug 2006 16:24:08 -0500
Subject: [tex-live] Light at the end of the tunnel
In-Reply-To: <44E9FEFD.3080601@rpath.com>
Message-ID: <200608212124.k7LLO8H09987@f7.net>

    "/usr/share/texmf/tex/generic/hyphen".  Now I'm really surprised.  What 
    could be lacking here?

An up-to-date ls-R file?
(Just a wild guess.)

Otherwise, setenv KPATHSEA_DEBUG -1 and run the tex command again (from
the command line) ... the result should show the story.



From reinhard.kotucha at web.de  Mon Aug 21 23:33:11 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 21 Aug 2006 23:33:11 +0200
Subject: [tex-live] More on texlive configuration
In-Reply-To: <44E9FAC5.1040409@rpath.com>
References: <44D2540E.1090802@rpath.com>
	<22af238a0608050444x11f41476mc4d2440f8fd5c2e4@mail.gmail.com>
	<44E9FAC5.1040409@rpath.com>
Message-ID: <17642.9879.900934.983218@zarniwoop.ms25.local>

>>>>> "Ken" == Ken Brooks <kenb at rpath.com> writes:

  > gnwiii at gmail.com wrote:
  >>> 2. SELFAUTO* won't work for any purpose at all, so I should
  >>> customize texmf.cnf and change every SELFAUTO entry therein, to
  >>> something more definite.
  >>> 
  >>> Does this sound right?
  >>  Well, SELFAUTO* could be used.  RH Fedora Core 5 teTeX uses (the
  >> redundantly redundant) compile-time default:
  >> 
  >> TEXMFCNF =
  >> {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/share,}/texmf{-local,}/web2c};$TETEXDIR;/usr/share/texmf/web2c;/usr/share/texmf/web2c
  >> 
  >> 
  >> which seems to miss /usr/local/share/texmf/web2c.  There aren't
  >> any uses of SELFAUTO* in the effective parts of the texmf.cnf
  >> 
  >> Something like:
  >> 
  >> TEXMFCNF =
  >> {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/local/share,/share,}/texmf{-local,}/web2c}
  >> 
  >> 
  >> would support a site-specific
  >> "/usr/local/share/texmf/web2c/texmf.cnf".
  >> 

  > Let's see if I understand this right.  If the executable is in
  > /usr/bin, then SELFAUTOPARENT will resolve to /usr, and the above
  > path will include /usr/local/share/texmf,
  > /usr/local/share/texmf-local, /usr/share/texmf, and
  > /usr/share/texmf-local among others, giving my downstream user all
  > redundant sorts of places in which to put his customizations
  > without changing /usr/share/texmf/<anything>.

  > Now, why the desire for .../texmf-local if /usr/local/share/texmf
  > is already available?

There is no UNIX program I know which is provided by the distribution
and expects any files in /usr/local.

/usr/local should be empty after you installed the system and no
program provided by the distribution should expect any file there.

/usr/share/texmf-local is similar as /usr/share/emacs/site-lisp or
/usr/lib/perl5/site_perl.

None of them have /usr/local in their search path.  If people want to
have local stuff in /usr/local they should replace these directories
by symlinks.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From karl at freefriends.org  Tue Aug 22 01:06:49 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 Aug 2006 18:06:49 -0500
Subject: [tex-live] DESTDIR not working
In-Reply-To: <86lkpi1b3m.fsf@alhambra.kuesterei.ch>
Message-ID: <200608212306.k7LN6ni26078@f7.net>

    frank> Any idea where this would be documented, or of an example
    shell where this becomes a problem?

Bash follows symbolic links by default.  See `The Set Builtin' node
under -P.  I admit I did not check whether that behavior is kept even
when invoked as /bin/sh.

I installed the change (in configure and configure.in) as below.  $(...)
may or may not be ok, but I'm an old-fashioned guy when it comes to
Unix, so I prefer `...` anyway.

It belatedly occurs to me that instead of checking for "equal"
directories, it might be better to check if, after cd'ing to
utils/sam2p, whether the source files are already there.

Best,
Karl

--- configure.in	(revision 1996)
+++ configure.in	(working copy)
@@ -236,11 +236,16 @@
     if eval "test \"`echo '$with_'${pkg}|sed 's/-/_/g'`\" != no"; then
       ESUBDIRS="$ESUBDIRS utils/$pkg"
       if test $pkg = sam2p; then
-        # this is a terrible kludge, but sam2p configure actively
-        # defeats srcdir!=objdir support, and Peter S. doesn't want to
-        # fix it.  So copy the entire sam2p srcdir into objdir.
-        rm -rf utils/sam2p
-        cp -pr $srcdir/utils/sam2p utils
+        # attempt to discover if srcdir = builddir.
+        dir1=`cd $srcdir/utils/sam2p && /bin/pwd`
+        dir2=`cd utils/sam2p && /bin/pwd`
+        if test "$dir1" != "$dir2"; then
+          # this is a terrible kludge, but sam2p configure actively
+          # defeats srcdir!=objdir support, and Peter S. doesn't want to
+          # fix it.  So copy the entire sam2p srcdir into objdir.
+          rm -rf utils/sam2p
+          cp -pr $srcdir/utils/sam2p utils
+        fi
       fi
       AC_CONFIG_SUBDIRS([utils/$pkg])
     fi

From philippe.choquette.1 at ulaval.ca  Tue Aug 22 03:14:55 2006
From: philippe.choquette.1 at ulaval.ca (Philippe Choquette)
Date: Mon, 21 Aug 2006 21:14:55 -0400
Subject: [tex-live] TL2005 "add or remove programs" list
Message-ID: <44EA5A8F.9060007@ulaval.ca>

An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20060821/4f169a6c/attachment.html 

From frank at kuesterei.ch  Tue Aug 22 09:23:39 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 22 Aug 2006 09:23:39 +0200
Subject: [tex-live] More on texlive configuration
In-Reply-To: <17642.9879.900934.983218@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Mon, 21 Aug 2006 23:33:11 +0200")
References: <44D2540E.1090802@rpath.com>
	<22af238a0608050444x11f41476mc4d2440f8fd5c2e4@mail.gmail.com>
	<44E9FAC5.1040409@rpath.com>
	<17642.9879.900934.983218@zarniwoop.ms25.local>
Message-ID: <868xlh8c90.fsf@alhambra.kuesterei.ch>

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

>>>>>> "Ken" == Ken Brooks <kenb at rpath.com> writes:
>
>   > Now, why the desire for .../texmf-local if /usr/local/share/texmf
>   > is already available?
>
> There is no UNIX program I know which is provided by the distribution
> and expects any files in /usr/local.

Not expect, but accept.

> /usr/local should be empty after you installed the system and no
> program provided by the distribution should expect any file there.
>
> /usr/share/texmf-local is similar as /usr/share/emacs/site-lisp or
> /usr/lib/perl5/site_perl.

On a Debian system (and I assume this is the same on most Linux
systems), files in /usr/local/ are also searched for, e.g. by Perl or
Emacs:

$ perl -e 'print "@INC\n";'
/etc/perl /usr/local/lib/perl/5.8.4 /usr/local/share/perl/5.8.4 /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.8 /usr/share/perl/5.8 /usr/local/lib/site_perl .

Emacs also has /usr/local/share/emacs/site-lisp and
/usr/local/share/emacs/<version>/site-lisp in its load-path, besides
/usr/share/emacs/site-lisp and friends.

On a TeX system, it makes sense IMO to have only one local tree, either
SELFAUTOLOC/share/texmf-local or /usr/local/share/texmf.  As far as I
understand the comment in texmf.in, 

,----
| % This definition isn't used from this .cnf file itself (that would be
| % paradoxical), but the compile-time default in paths.h is built from it.
| % The SELFAUTO* variables are set automatically from the location of
| % argv[0], in kpse_set_progname.  
| % 
| % The TETEXDIR stuff isn't likely to relevant unless you're using teTeX,
| % but it doesn't hurt.
| %
| % For security reasons, it is better not to have . part of the path.
| % 
| TEXMFCNF = {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/share,}/texmf{-local,}/web2c};$TETEXDIR;$TEXMF/web2c;@web2c@
| 
`----

selfautoloc is mainly used and intended to generate the search path
information for texmf.cnf at compile time.  At runtime, it's probably
more transparent to explicitly configure TEXMFLOCAL in texmf.cnf.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From karl at freefriends.org  Mon Aug 21 23:26:37 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 Aug 2006 16:26:37 -0500
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <200608211619.04712.john@wexfordpress.com>
Message-ID: <200608212126.k7LLQbU11551@f7.net>

   kenb> we couldn't figure out how to unpack a Debian package archive in a 
   non-Debian world.  

I had assumed .deb files could be read by a utility that can run
anywhere, but I admit I've never looked into it.  I trust Frank/Norbert
will inform us.  (Anyway, you're so close now that I doubt you want to
go back to step 1. :)

    john> So why are you using a .deb distro in a non-.deb environment?

John, it was a proposal (I just suggested it, in passing), to be able to
reuse the Debian folks' work in another environment.  Ken is trying to
construct a TeX installation in his environment based on TL, and his
needed setup is closer to Debian's than the default.

From frank at kuesterei.ch  Tue Aug 22 09:33:13 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 22 Aug 2006 09:33:13 +0200
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <44E9FED0.3050207@rpath.com> (Ken Brooks's message of "Mon,
	21 Aug 2006 14:43:28 -0400")
References: <200608071602.k77G28t11683@f7.net> <44E9FED0.3050207@rpath.com>
Message-ID: <864pw58bt2.fsf@alhambra.kuesterei.ch>

Ken Brooks <kenb at rpath.com> wrote:

> Karl Berry wrote:
>> Meanwhile, on a completely different front, your setup seems to have
>> much more in common with Debian than with the usual all-in-one-dir TL
>> setup.  I wonder if it would actually be easier for you to adapt
>> Debian's packages than to start from the original sources.  As I recall,
>> they had to modify a number of config files to make things work.  Frank,
>> Norbert?
>
> We considered that way back at the beginning.  Got stuck on the fact that 
> we couldn't figure out how to unpack a Debian package archive in a 
> non-Debian world.  

I don't think it's particularly useful to unpack a Debian binary
package, but this is how it goes:

mkdir some_subdir
cd some_subdir
ar x ../packagename.deb
tar -xzf data.tar.gz # and control.tar.gz if you're interested

> If anyone knows a good answer to that, I'd love to 
> hear it.  Or if anyone knows where to find the Debian package source in 
> an unpacked form.

wget http://ftp.debian.org/pool/main/t/texlive-bin/texlive-bin_2005.dfsg.1-1.diff.gz
wget http://ftp.debian.org/pool/main/t/texlive-bin/texlive-bin_2005.dfsg.1.orig.tar.gz

(or from any other mirror) and then

tar -xzf texlive-bin_2005.dfsg.1.orig.tar.gz
cd texlive-bin-2005.dfsg.1
gunzip -c ../texlive-bin_2005.dfsg.1.diff.gz | patch -p1

Alternatively, you can also just patch an empty directory with
texlive-bin_2005.dfsg.1.diff.gz.  It will only generate a debian/
subdirectory which contains the actual information, including a granular
patchset with short descriptions what the patches are intended for.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Tue Aug 22 11:30:27 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 22 Aug 2006 11:30:27 +0200
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <200608212126.k7LLQbU11551@f7.net> (Karl Berry's message of "Mon,
	21 Aug 2006 16:26:37 -0500")
References: <200608212126.k7LLQbU11551@f7.net>
Message-ID: <86bqqd6rt8.fsf@alhambra.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>    kenb> we couldn't figure out how to unpack a Debian package archive in a 
>    non-Debian world.  
>
> I had assumed .deb files could be read by a utility that can run
> anywhere, but I admit I've never looked into it.  I trust Frank/Norbert
> will inform us.  (Anyway, you're so close now that I doubt you want to
> go back to step 1. :)

On my system, mc can handle deb files; I just press enter on them like
on a directory and can browse it.  I don't know whether this is a
Debian-specific addition.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Tue Aug 22 13:16:40 2006
From: gnwiii at gmail.com (gnwiii at gmail.com)
Date: Tue, 22 Aug 2006 08:16:40 -0300
Subject: [tex-live] Generating tex.fmt
In-Reply-To: <44E9FED0.3050207@rpath.com>
References: <200608071602.k77G28t11683@f7.net> <44E9FED0.3050207@rpath.com>
Message-ID: <22af238a0608220416y1f47ad87r50777e2f64d444b7@mail.gmail.com>

On 8/21/06, Ken Brooks <kenb at rpath.com> wrote:

> > Meanwhile, on a completely different front, your setup seems to have
> > much more in common with Debian than with the usual all-in-one-dir TL
> > setup.  I wonder if it would actually be easier for you to adapt
> > Debian's packages than to start from the original sources.  As I recall,
> > they had to modify a number of config files to make things work.  Frank,
> > Norbert?
>
> We considered that way back at the beginning.  Got stuck on the fact that
> we couldn't figure out how to unpack a Debian package archive in a
> non-Debian world.  If anyone knows a good answer to that, I'd love to
> hear it.  Or if anyone knows where to find the Debian package source in
> an unpacked form.

I suggest installing debian in a virtual machine so you can examine
not just the sources, but also run comparisons with a fully installed
and widely used TL.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From john at wexfordpress.com  Tue Aug 22 14:35:30 2006
From: john at wexfordpress.com (John R. Culleton)
Date: Tue, 22 Aug 2006 08:35:30 -0400
Subject: [tex-live] More on texlive configuration
In-Reply-To: <868xlh8c90.fsf@alhambra.kuesterei.ch>
References: <44D2540E.1090802@rpath.com>
	<17642.9879.900934.983218@zarniwoop.ms25.local>
	<868xlh8c90.fsf@alhambra.kuesterei.ch>
Message-ID: <200608220835.31555.john@wexfordpress.com>

On Tuesday 22 August 2006 03:23, Frank K?ster wrote:
> Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
> >>>>>> "Ken" == Ken Brooks <kenb at rpath.com> writes:
> >   >
> >   > Now, why the desire for .../texmf-local if /usr/local/share/texmf
> >   > is already available?
> >
> > There is no UNIX program I know which is provided by the distribution
> > and expects any files in /usr/local.
>
> Not expect, but accept.
>
> > /usr/local should be empty after you installed the system and no
> > program provided by the distribution should expect any file there.
> >
> > /usr/share/texmf-local is similar as /usr/share/emacs/site-lisp or
> > /usr/lib/perl5/site_perl.
>
> On a Debian system (and I assume this is the same on most Linux
> systems), files in /usr/local/ are also searched for, e.g. by Perl or
> Emacs:
>
> $ perl -e 'print "@INC\n";'
> /etc/perl /usr/local/lib/perl/5.8.4 /usr/local/share/perl/5.8.4
> /usr/lib/perl5 /usr/share/perl5 /usr/lib/perl/5.8 /usr/share/perl/5.8
> /usr/local/lib/site_perl .
>
> Emacs also has /usr/local/share/emacs/site-lisp and
> /usr/local/share/emacs/<version>/site-lisp in its load-path, besides
> /usr/share/emacs/site-lisp and friends.
>
> On a TeX system, it makes sense IMO to have only one local tree, either
> SELFAUTOLOC/share/texmf-local or /usr/local/share/texmf.  As far as I
> understand the comment in texmf.in,
>
> ,----
>
> | % This definition isn't used from this .cnf file itself (that would be
> | % paradoxical), but the compile-time default in paths.h is built from it.
> | % The SELFAUTO* variables are set automatically from the location of
> | % argv[0], in kpse_set_progname.
> | %
> | % The TETEXDIR stuff isn't likely to relevant unless you're using teTeX,
> | % but it doesn't hurt.
> | %
> | % For security reasons, it is better not to have . part of the path.
> | %
> | TEXMFCNF =
> | {$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/share,}/texmf{-local,}/web
> |2c};$TETEXDIR;$TEXMF/web2c;@web2c@
>
> `----
>
> selfautoloc is mainly used and intended to generate the search path
> information for texmf.cnf at compile time.  At runtime, it's probably
> more transparent to explicitly configure TEXMFLOCAL in texmf.cnf.
>
> Regards, Frank

On my Slackware Linux system the copy of TeX that comes with the
OS is loaded into /usr/share/texmf. It is tetex based I believe.
The default location for the TeXlive distribution is
/usr/local/texlive, with a further subdivision into 2005 and
texmf-local.  The surest way to get a recent copy of Context is
to download the minimal Context distro and unzip it in a separate 
directory. I use /usr/local/cont. I always have trouble updating Context 
in a regular distribution. But Context is updated more or less en bloc 
and the software changes frequently so I need to keep reasonably
current. 

As a result I have three different distros, each with its own
internal path logic. I end up copying the texmf-local tree or
parts of it to the three different spaces. I switch from one to
the other through /etc/profile, where I have three different path
definitions, two of them commented out.  

I do almost all my work in pdftex or Context. The minimal Context
distro has both of these but not LaTeX, plain tex etc. 

None of the above  schema is very elegant. But I don't chase
around setting values. I take the distributions the way thay are
issued and put them in their default locations.  My priority is
the standalone Context distribution, followed by texlive. When
there is a new texlive I may revert to that as my day-to-day
distro since it should have a recent Context included.

Bottom line I have things to typeset and the less I fuss with the
installation business the better for me. If I take the default
locations of any TeX distro and in my profile point to the proper
bin directory it seems always to work. 

John Culleton
 

-- 
John Culleton
Able Indexing and Typesetting
Precision typesetting (tm) at reasonable cost.
Satisfaction guaranteed. 
http://wexfordpress.com





From frank at kuesterei.ch  Tue Aug 22 16:48:31 2006
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 22 Aug 2006 16:48:31 +0200
Subject: [tex-live] More on texlive configuration
In-Reply-To: <200608220835.31555.john@wexfordpress.com> (John R. Culleton's
	message of "Tue, 22 Aug 2006 08:35:30 -0400")
References: <44D2540E.1090802@rpath.com>
	<17642.9879.900934.983218@zarniwoop.ms25.local>
	<868xlh8c90.fsf@alhambra.kuesterei.ch>
	<200608220835.31555.john@wexfordpress.com>
Message-ID: <86pses3jy8.fsf@alhambra.kuesterei.ch>

"John R. Culleton" <john at wexfordpress.com> wrote:

[ rather long text snipped ]
> Bottom line I have things to typeset and the less I fuss with the
> installation business the better for me. If I take the default
> locations of any TeX distro and in my profile point to the proper
> bin directory it seems always to work. 

Err, this sounds all sensible,  but I do not understand why you post it
in this thread.  We were talking about ways of properly configuring
texlive to be installed as the distribution-provided TeX system on some
(IIRC unnamed) Linux distribution.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From reinhard.kotucha at web.de  Tue Aug 22 22:45:59 2006
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 22 Aug 2006 22:45:59 +0200
Subject: [tex-live] More on texlive configuration
In-Reply-To: <868xlh8c90.fsf@alhambra.kuesterei.ch>
References: <44D2540E.1090802@rpath.com>
	<22af238a0608050444x11f41476mc4d2440f8fd5c2e4@mail.gmail.com>
	<44E9FAC5.1040409@rpath.com>
	<17642.9879.900934.983218@zarniwoop.ms25.local>
	<868xlh8c90.fsf@alhambra.kuesterei.ch>
Message-ID: <17643.27911.341423.12960@zarniwoop.ms25.local>

>>>>> "Frank" == Frank K?ster <frank at kuesterei.ch> writes:

  > Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

  >> There is no UNIX program I know which is provided by the
  >> distribution and expects any files in /usr/local.

  > On a Debian system (and I assume this is the same on most Linux
  > systems), files in /usr/local/ are also searched for, e.g. by Perl
  > or Emacs:

Seems that I had been wrong.  Thanks for the hint.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From karl at freefriends.org  Wed Aug 23 02:30:39 2006
From: karl at freefriends.org (Karl Berry)
Date: Wed, 23 Aug 2006 02:30:39 +0200
Subject: [tex-live] graphics package .def files?
Message-ID: <200608230030.k7N0Udq31785@tug.org>

Several .def files are apparently no longer part of the standard
graphics bundle.  (Maybe they haven't been for some time, I don't know).

- pdftex.def:
now maintained separately on CTAN (yay).

- textures.def:
there is no permission to distribute this except as part of the standard
graphics bundle (which contradicts the statement that is covered by the
LPPL, but anyway), so I deleted it.

- dvipdfm.def:
There is a statement that the "master copy" is available at
http://odo.kettering.edu/dvipdfm/, but I just get a blank page there.
The file currently in TL says it is part of the Graphics Bundle, but
I guess it no longer is.  Since I believe dvipdfm is no longer
maintained, I will just put dvipdfm.def somewhere else in TL.

- dvipdfmx.def:
There is a dvipdfmx.def.sample at
http://cvs.ktug.or.kr/viewcvs/dvipdfmx/contrib/latex/.  I have not
investigated the differences (if any) from what is in TL.  If someone
would like to do that, and communicate with Cho and Hirata, and
hopefully get it into future dvipdfmx releases, that would be helpful.

- vtex.def:
Does not exist anywhere else, has no license statement, although it was 
written by Carlisle, so I suppose it's ok.  Dates from 1999.  If someone
would like to look into whether there is a newer version, and/or what
ask David what the license should be, that would be helpful.

What a mess.

Thanks,
Karl

From P.Jackowski at gust.org.pl  Wed Aug 23 09:05:26 2006
From: P.Jackowski at gust.org.pl (=?UTF-8?B?UGF3ZcWCIEphY2tvd3NraQ==?=)
Date: Wed, 23 Aug 2006 09:05:26 +0200
Subject: [tex-live] TL2005 "add or remove programs" list
In-Reply-To: <44EA5A8F.9060007@ulaval.ca>
References: <44EA5A8F.9060007@ulaval.ca>
Message-ID: <44EBFE36.40309@gust.org.pl>

Hello Philippe,

> I installed TL2005 on windows xp pro sp2.  In the "add or remove 
> programs" list, instead of having a TeXLive entry, I got a Huge, empty 
> space between the entries before and after TeXLive in alphabetical 
> order.  I uninstalled using tlpmgui.exe, but the space is still there.  
> I didn't find the right key to remove in 
> HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall, 
> which one is it?

Hmm I have no idea what has happened and what space you see. I doubt if 
it has anything to do with tlpmgui, rather with gaps of ``invisible'' 
windows updates... Just a hot think. It would be best if you send some 
screenshots to dedicated mailing list:
	
	tlpmgui at gust.org.pl

Best,
-- 
Pawe/l Jackowski
P.Jackowski at gust.org.pl

From zdenek.wagner at gmail.com  Tue Aug 22 17:02:53 2006
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 22 Aug 2006 17:02:53 +0200
Subject: [tex-live] More on texlive configuration
In-Reply-To: <200608220835.31555.john@wexfordpress.com>
References: <44D2540E.1090802@rpath.com>
	<17642.9879.900934.983218@zarniwoop.ms25.local>
	<868xlh8c90.fsf@alhambra.kuesterei.ch>
	<200608220835.31555.john@wexfordpress.com>
Message-ID: <8719b6240608220802m3ee09a82k1ccb15a13b20db3a@mail.gmail.com>

2006/8/22, John R. Culleton <john at wexfordpress.com>:
> I do almost all my work in pdftex or Context. The minimal Context
> distro has both of these but not LaTeX, plain tex etc.
>
> None of the above  schema is very elegant. But I don't chase
> around setting values. I take the distributions the way thay are
> issued and put them in their default locations.  My priority is
> the standalone Context distribution, followed by texlive. When
> there is a new texlive I may revert to that as my day-to-day
> distro since it should have a recent Context included.
>
Just put the ConTeXt distribution to your local tree. All TeX
distributions search the local tree first. If not, modify your
texmf.cnf. You need to run mktexlsr only in one distribution (if you
wish to share the local tree among several distributions). Thus you
will have what you need with minimal effort.


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From preining at logic.at  Sat Aug 26 23:55:16 2006
From: preining at logic.at (Norbert Preining)
Date: Sat, 26 Aug 2006 23:55:16 +0200
Subject: [tex-live] TeX live in testing
Message-ID: <20060826215516.GB6984@gamma.logic.tuwien.ac.at>

Hi to all!

It is great to see that the TeX live packages have made it into Debian
testing. Let's see what will happen next ...

Thanks to all who have done soo much work.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining AT logic DOT at>             Universit? di Siena
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
KETTLENESS (adj.)
The quality of not being able to pee while being watched.
			--- Douglas Adams, The Meaning of Liff

From john at wexfordpress.com  Sun Aug 27 20:24:19 2006
From: john at wexfordpress.com (John R. Culleton)
Date: Sun, 27 Aug 2006 14:24:19 -0400
Subject: [tex-live] TeX live in testing
In-Reply-To: <20060826215516.GB6984@gamma.logic.tuwien.ac.at>
References: <20060826215516.GB6984@gamma.logic.tuwien.ac.at>
Message-ID: <200608271424.19817.john@wexfordpress.com>

On Saturday 26 August 2006 17:55, Norbert Preining wrote:
> Hi to all!
>
> It is great to see that the TeX live packages have made it into Debian
> testing. Let's see what will happen next ...
>
> Thanks to all who have done soo much work.
>
> Best wishes
>
> Norbert

Does any one have any insight into  the status of the TeXLive
2006 cdr images? Is there a schedule yet?
-- 
John Culleton
Able Indexing and Typesetting
Precision typesetting (tm) at reasonable cost.
Satisfaction guaranteed. 
http://wexfordpress.com



From karl at freefriends.org  Sun Aug 27 20:42:07 2006
From: karl at freefriends.org (Karl Berry)
Date: Sun, 27 Aug 2006 13:42:07 -0500
Subject: [tex-live] TeX live in testing
In-Reply-To: <200608271424.19817.john@wexfordpress.com>
Message-ID: <200608271842.k7RIg7c14555@f7.net>

    Does any one have any insight into  the status of the TeXLive
    2006 cdr images? 

No.  I'm working on updating packages as hard as I can.  (If anyone
would like to help, that would be a great relief.  I wrote up a first
set of notes at http://tug.org/texlive/pkgupdate.html.)

    Is there a schedule yet?

No.

I believe that new releases of both pdftex and metapost are moderately
imminent, so there's not much point in pretending to have a schedule
until after those are available.

Best,
k

From wl at gnu.org  Mon Aug 28 16:12:47 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Mon, 28 Aug 2006 16:12:47 +0200 (CEST)
Subject: [tex-live] LH update incomplete!
Message-ID: <20060828.161247.193684637.wl@gnu.org>


Simply copying the LH bundle files to texlive doesn't do the whole
job: It's necessary to run some a tex file afterwards to generate the
various support files for Cyrillic encodings.

I've attached a small Makefile to do that.  Please generate the files
and add them (again) to the repository!

And please generate ls-R for me too :-)


    Werner


======================================================================

# Create LH source files as needed by TeXLive.  The generated files
# should then be moved to the corresponding directories in the MF
# tree.

all:
	mkdir wrk
	mkdir wrk/lh-lcy
	mkdir wrk/lh-ot2
	mkdir wrk/lh-t2a
	mkdir wrk/lh-t2b
	mkdir wrk/lh-t2c
	mkdir wrk/lh-t2d
	mkdir wrk/lh-x2
	mkdir wrk/lh-xSlav
	mkdir wrk/lh-temp

	tex 99allenc.tex

# eof

From karl at freefriends.org  Tue Aug 29 02:25:44 2006
From: karl at freefriends.org (Karl Berry)
Date: Mon, 28 Aug 2006 19:25:44 -0500
Subject: [tex-live] LH update incomplete!
In-Reply-To: <20060828.161247.193684637.wl@gnu.org>
Message-ID: <200608290025.k7T0PiO20082@f7.net>

    Simply copying the LH bundle files to texlive doesn't do the whole

Olga told me she had pregenerated everything that was needed; that was
her intention, anyway.  But apparently there was a misunderstanding.
I'll ask her again.

Thanks,
k

From wl at gnu.org  Tue Aug 29 11:50:24 2006
From: wl at gnu.org (Werner LEMBERG)
Date: Tue, 29 Aug 2006 11:50:24 +0200 (CEST)
Subject: [tex-live] DESTDIR not working
In-Reply-To: <20060816094353.GA13218@boole.suse.de>
References: <20060816094353.GA13218@boole.suse.de>
Message-ID: <20060829.115024.156142803.wl@gnu.org>


> Beside this I'd like to see the following change in
> libs/freetype2/configure: [...]

This is now in the FreeType CVS too.


    Werner

From kenb at rpath.com  Thu Aug 31 17:09:31 2006
From: kenb at rpath.com (Ken Brooks)
Date: Thu, 31 Aug 2006 11:09:31 -0400
Subject: [tex-live] Building with altered prefix
Message-ID: <44F6FBAB.5050205@rpath.com>

I thought I understood that setting prefix=/usr was a good thing to do in 
a texlive build, and would build programs that expect to find texmf.cnf 
in /usr/share/ (among other places).  Not so simple.  When I do a default 
configure and build (which runs without error), I see that the Makefiles 
generated have prefix=/var/kenb/conary/builds/texlive/inst where 
/var/kenb/conary/builds/texlive is the top directory that contains the 
Build script.

If I set prefix=/usr, it tries to install things directly into /usr/bin, 
which is not allowed in my world at build time.

It would make the most sense if I could configure it to install into a 
builddir, i.e. where install to /usr/bin is translated into installing to 
$(BUILDDIR)/usr/bin.  Unfortunately, that seems to be supported in about 
1/3 of the Makefiles in the texlive world, leading to a thoroughly 
inconsistent result if I set BUILDDIR in the environment.  (BTW, I would 
encourage the Texlive maintainers to make this consistent in a future 
release.)

So, somehow I need to configure in such a way as to split apart:
A. the place where the built programs will look for the texmf tree, and
B. the place where things will be installed during the "make install" 
phase of Build.

Any guidance is much welcomed.

Ken Brooks
rPath, Inc.

From kenb at rpath.com  Thu Aug 31 17:12:38 2006
From: kenb at rpath.com (Ken Brooks)
Date: Thu, 31 Aug 2006 11:12:38 -0400
Subject: [tex-live] Building with altered prefix - correction
Message-ID: <44F6FC66.6000401@rpath.com>

In the previous message, I meant DESTDIR, not BUILDDIR.

Ken Brooks
rPath, Inc.


From karl at freefriends.org  Thu Aug 31 20:29:12 2006
From: karl at freefriends.org (Karl Berry)
Date: Thu, 31 Aug 2006 13:29:12 -0500
Subject: [tex-live] Building with altered prefix
In-Reply-To: <44F6FBAB.5050205@rpath.com>
Message-ID: <200608311829.k7VITCQ12728@f7.net>

    encourage the Texlive maintainers to make this consistent in a future 

It would definitely be nice, but it's not really up to the "TL
maintainers" (aka me, basically, for this part anyway); I can't fix
everyone's Makefile to support DESTDIR properly.  It's hard enough just
to get configure && make to work.  I can only encourage you to report
lack of DESTDIR support to the appropriate maintainers ...

For the actual TL-written Makefiles, of which there are some, I can add
the DESTDIR support, which I think is lacking.  Was that right?

    A. the place where the built programs will look for the texmf tree, and
    B. the place where things will be installed during the "make install" 
    phase of Build.

    Any guidance is much welcomed.

I have never tried to do something like this, but here is what comes to
mind.  Do the configure --prefix=/usr.  Stash away texmf.cnf and
texmf.cnf.in.  (I think those are all the files that matter, but could
easily be forgetting something.)

Then wipe that build tree out, and do
configure --prefix=/your/dest/prefix.  Copy in
the stashed texmf.*.  Do the make and make install, and see what you get.

Another, completely different idea: do the configure --prefix=/usr and
make.  Then do
make bindir=/your/install/bindir datadir=/your/install/datadir ... install

Sorry, I can't think of any "nice" way to handle this.

Regards,
Karl

