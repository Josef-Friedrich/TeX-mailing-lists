From karl at freefriends.org  Sun Jul  1 00:12:59 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 30 Jun 2007 17:12:59 -0500
Subject: [tex-live] Perl availability in the TeX-Live build environment
In-Reply-To: <f652hi$go3$1@sea.gmane.org>
Message-ID: <200706302212.l5UMCxJ07568@f7.net>

    I.e., do I add the pod2man call to the build process, or do I 
    commit the generated man page to SVN?

Both.  I think that we should have the man page in svn, just to make
things simpler.  Of course the Makefile should still update it when
needed.  (Similarly, we have info files in svn although we also have
Texinfo included.)  It's too painful to have builds break for stuff like
this ...

Thanks,
k


From oberdiek at uni-freiburg.de  Sun Jul  1 01:02:54 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sun, 1 Jul 2007 01:02:54 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <87fy4948qc.fsf@riesling.zuerich.kuesterei.ch>
References: <200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
	<87fy4948qc.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070630230253.GB4076@irwin.vpn.uni-freiburg.de>

On Sat, Jun 30, 2007 at 08:07:07PM +0200, Frank K?ster wrote:

> It's not only about PDF files, which are at the moment not compressed in
> Debian's TeXLive packages.  But DVI files are compressed (and xdvi can
> deal with that on its own).

dvips, dvipdfm, dvitype, dvii, ...

Yes, in principle you must analyze DVI files first, before you
know, which DVI drivers can be used to get the intended result.
Furthermore, specials can contain links to external files, images, ...

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Sun Jul  1 00:51:20 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sun, 1 Jul 2007 00:51:20 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <87d4zdbeee.fsf@florent.maison>
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
Message-ID: <20070630225119.GA4076@irwin.vpn.uni-freiburg.de>

On Sat, Jun 30, 2007 at 06:22:49PM +0200, Florent Rougon wrote:

> Hi,
> 
> Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
> 
> > Frank,
> > if Debian needs all PDF files comressed, which tools does Debian
> > provide to deal with them?
> 
>   1) Debian doesn't provide 'brain', but it has been a standard component
>      required on the user side for a lot of years...
> 
>   2) see(1)
> 
>   3) zxpdf(1)

You forgot the majority of PDF viewers:
* acroread
* ghostscript
* kpdf
* envince or whatever

Reinhard has my full agreement. Externally compressed PDF files
will cause lots of trouble and annoyment for the users.

If disk space is such an important issue, PDF-1.5 with
compressed object streams shows the way. The PDF viewers
will have to support this sooner or later.

> > and there are links in PDF files to other PDF files.  The doc trees
> 
> Unless the PDF specification has forseen the use of compressed files,
> this is indeed a real problem. :-/

For example, the hyperref documentation contains such links to other
PDF files.

> > Compressed files will cause a lot of problems and people can't use
> > programs of their choice to browse documentation.
> 
> The main problem I see (as a Debian guy who can polish the simple tools
> such as see(1)) is links from PDF files to other PDF files.

And the main problem are users like me who don't want to unpack
the files first to read them.

> As a consequence, I suppose these links are mostly useful for files that
> are supposed to be installed in the same directory, such as, I presume,
> the various files comprising the hyperref documentation. But even in
> this case, unless the PDF specification allows us to point to a .pdf.gz
> *and* $pdf_viewer_in_use is able to cope with that *and* we either don't
> change upstream choices (to ship as .pdf or .pdf.gz or .pdf.bz2) or
> rebuild the docs for Debian (to ship .pdf.bz2 *and* update the
> corresponding internal links in the docs, which would be a PITA), we're
> screwed.

You are screwed.

> That makes a lot of "if's", so I'd tend to say that we're basically
> screwed unless we (TL or Debian) give up on either compressed PDF files
> or on links from PDF files to other PDF files.

I would rather give up externally compressed PDF files and
switch to PDF 1.5 with compressed object streams instead.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From karl at freefriends.org  Sun Jul  1 01:27:05 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 30 Jun 2007 18:27:05 -0500
Subject: [tex-live] Typo on the web site: missing architecture
In-Reply-To: <87sl8cbl4n.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200706302327.l5UNR5803289@f7.net>

    # powerpc-aix (PowerPC GNU/Linux) 

    The third line should contain "powerpc-linux", I guess.

Fixed, thanks.

From kakuto at fsci.fuk.kindai.ac.jp  Sun Jul  1 11:41:37 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 01 Jul 2007 18:41:37 +0900
Subject: [tex-live] texdoc in luatex
Message-ID: <200707010941.l619fdwx014086@jupiter.fsci.fuk.kindai.ac.jp>

Hi Frank,

> -for path in string.gmatch(pathlist, "[^:]*") do
> +for path in string.gmatch(pathlist, "[^:;]*") do
>
> should do. 

Unfortunately that does not work.

texdoclua -s bibtex
gives

Directories that match:
/usr/local/share/texmf/doc/bibtex/
/usr/local/share/texmf/doc/bibtex/base/
/usr/local/share/texmf/doc/bibtex8/
/usr/local/share/texmf/doc/bibtex8/base/
... ...


While in the case of
for path in string.gmatch(pathlist, "[^;]*") do

I correctly have

Directories that match:
c:/usr/local/share/texmf/doc/bibtex/
c:/usr/local/share/texmf/doc/bibtex/base/
c:/usr/local/share/texmf/doc/bibtex8/
c:/usr/local/share/texmf/doc/bibtex8/base/
... ...

Note that drive letter is absent in the former case.
You have to choose a different path separator
according to the kind of OS.

Thanks,
Akira

From dak at gnu.org  Sun Jul  1 12:12:34 2007
From: dak at gnu.org (David Kastrup)
Date: Sun, 01 Jul 2007 12:12:34 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <200707010941.l619fdwx014086@jupiter.fsci.fuk.kindai.ac.jp>
	(Akira Kakuto's message of "Sun\, 01 Jul 2007 18\:41\:37 +0900")
References: <200707010941.l619fdwx014086@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <85ved4zb3h.fsf@lola.goethe.zz>

Akira Kakuto <kakuto at fsci.fuk.kindai.ac.jp> writes:

>> -for path in string.gmatch(pathlist, "[^:]*") do
>> +for path in string.gmatch(pathlist, "[^:;]*") do
>>
>> should do. 
>
> Unfortunately that does not work.
>
> texdoclua -s bibtex
> gives
>
> Directories that match:
> /usr/local/share/texmf/doc/bibtex/
> /usr/local/share/texmf/doc/bibtex/base/
> /usr/local/share/texmf/doc/bibtex8/
> /usr/local/share/texmf/doc/bibtex8/base/
> ... ...
>
>
> While in the case of
> for path in string.gmatch(pathlist, "[^;]*") do
>
> I correctly have
>
> Directories that match:
> c:/usr/local/share/texmf/doc/bibtex/
> c:/usr/local/share/texmf/doc/bibtex/base/
> c:/usr/local/share/texmf/doc/bibtex8/
> c:/usr/local/share/texmf/doc/bibtex8/base/
> ... ...
>
> Note that drive letter is absent in the former case.
> You have to choose a different path separator
> according to the kind of OS.

Personally, I'd prefer something like (don't know the expressions,
though):

"([a-zA-Z]:)?[^:;]*"
for matching purposes, independent of platform.  It will mean that
under Unix, single-character relative directory specs will have to be
preceded with "./" in order to be recognized correctly.  And it will
disallow using either : or ; within paths itself (except for a
directory spec).

But it will also mean that stuff basically works identically on each
platform, regardless of which platform a script extending a path has
been assuming.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From dak at gnu.org  Sun Jul  1 09:24:52 2007
From: dak at gnu.org (David Kastrup)
Date: Sun, 01 Jul 2007 09:24:52 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <200706301759.l5UHxAN21701@f7.net> (Karl Berry's message of "Sat\,
	30 Jun 2007 12\:59\:10 -0500")
References: <200706301759.l5UHxAN21701@f7.net>
Message-ID: <85ejjs1t8b.fsf@lola.goethe.zz>

karl at freefriends.org (Karl Berry) writes:

> If you want to rewrite texdoctk to somehow make use of this, perhaps
> using the Catalogue data as processed for TL by David's new Elisp
> (which I still haven't tried yet, sadly), go for it.

Well, it is trivial to try: as I said, try it on the whole TeXlive
tree, not just the Catalogue.  One should probably postprocess the
data and send it to the people responsible for the individual HTML
files...  "Then take - these broken links - and learn to cry-y-y-y"...

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From frank at kuesterei.ch  Sun Jul  1 15:13:12 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Sun, 01 Jul 2007 15:13:12 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <20070630225119.GA4076@irwin.vpn.uni-freiburg.de> (Heiko
	Oberdiek's message of "Sun\, 1 Jul 2007 00\:51\:20 +0200")
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
	<20070630225119.GA4076@irwin.vpn.uni-freiburg.de>
Message-ID: <874pkonu6v.fsf@riesling.zuerich.kuesterei.ch>

Heiko Oberdiek <oberdiek at uni-freiburg.de> wrote:

>> That makes a lot of "if's", so I'd tend to say that we're basically
>> screwed unless we (TL or Debian) give up on either compressed PDF files
>> or on links from PDF files to other PDF files.
>
> I would rather give up externally compressed PDF files and
> switch to PDF 1.5 with compressed object streams instead.

Pleaes note that we have stopped compressing PDF files in Debian's TeX
Live packages a couple of months ago.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Sun Jul  1 16:53:13 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 1 Jul 2007 11:53:13 -0300
Subject: [tex-live] gs reports error: "Embedded font uses undefined
	procedure(s)"
In-Reply-To: <74f506dc0706301318w3cc16064x32868837af026d18@mail.gmail.com>
References: <74f506dc0706301318w3cc16064x32868837af026d18@mail.gmail.com>
Message-ID: <22af238a0707010753q7e09feaboc5371ce2afe6931d@mail.gmail.com>

On 6/30/07, Thanh Han The <hanthethanh at gmail.com> wrote:

> thanks for the translation.

ditto here -- it is good to have an authoritative translation in the
record

> another thing to notice is that the ps file created by dvips
> is ok, although the embedded fonts in pdf and ps are almost
> identical (apart from the subset tag). Looks likely a gs
> problem.

I've peeked at the changes in gs pdf font handling -- there are major
differences between 8.60 and 8.14 versions of pdf_fonts.ps
and pdf_main.ps.  The current version will only issue one warning
for each undefined procedure, but I still don't know why gs ever thought
the test file had undefined procedures.  Pdf font handing is quite a bit
different from the underlying postscript, so it is not surprising that
.ps works where .pdf fails.  Consider the target audience for desktop
linux -- e.g.,
refugees fleeing from Win32, where pdf is not widely used.  Most linux
distros use ESP gs 8.14 or 8.15 to support printing .ps files to non-ps
printers.  For rendering .pdf files reliably a more recent gs, apparition,
xpdf, etc. are probably more reliable.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From gnwiii at gmail.com  Sun Jul  1 17:25:41 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 1 Jul 2007 12:25:41 -0300
Subject: [tex-live] gs reports error: "Embedded font uses undefined
	procedure(s)"
In-Reply-To: <22af238a0707010753q7e09feaboc5371ce2afe6931d@mail.gmail.com>
References: <74f506dc0706301318w3cc16064x32868837af026d18@mail.gmail.com>
	<22af238a0707010753q7e09feaboc5371ce2afe6931d@mail.gmail.com>
Message-ID: <22af238a0707010825p13735a63w2d5ca91b49cdcae3@mail.gmail.com>

On 7/1/07, George N. White III <gnwiii at gmail.com> wrote:
> On 6/30/07, Thanh Han The <hanthethanh at gmail.com> wrote:
>
> > thanks for the translation.
>
> ditto here -- it is good to have an authoritative translation in the
> record
>
> > another thing to notice is that the ps file created by dvips
> > is ok, although the embedded fonts in pdf and ps are almost
> > identical (apart from the subset tag). Looks likely a gs
> > problem.
>
> I've peeked at the changes in gs pdf font handling -- there are major
> differences between 8.60 and 8.14 versions of pdf_fonts.ps
> and pdf_main.ps.  The current version will only issue one warning
> for each undefined procedure, but I still don't know why gs ever thought
> the test file had undefined procedures.  Pdf font handing is quite a bit
> different from the underlying postscript, so it is not surprising that
> .ps works where .pdf fails.  Consider the target audience for desktop
> linux -- e.g.,
> refugees fleeing from Win32, where pdf is not widely used.  Most linux
> distros use ESP gs 8.14 or 8.15 to support printing .ps files to non-ps
> printers.  For rendering .pdf files reliably a more recent gs, apparition,
> xpdf, etc. are probably more reliable.

http://bugs.ghostscript.com/show_bug.cgi?id=688464 provides the explanation:

   ---------------------------------------------------------------
Additional Comment #11 From Alex Cherepanov 2006-01-11 05:23 -------

The patch is committed to the trunk, rev. 6445

Move back-up CharString construction procedures (RD, ND, ...) to a special
dictionary and put it below userdict to avoid warnings when the font
defines them in userdict.

Some broken fonts forget to define CharString construction procedures because
non-PostScript font rasterizers don't detect this error. Ghostscript has
a back-up definitions of the procedures that do their job and issue a warning.

Other correct but old-fashioned fonts define CharString construction procedures
in userdict. We had the back-up procedures defined above userdict, where they
preempted the userdict definitions and issued a bogus warning. This patch moves
the definitions below userdict.
  --------------------------------------------------------------------------

>
> --
> George N. White III <aa056 at chebucto.ns.ca>
> Head of St. Margarets Bay, Nova Scotia
>


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From jschrod at acm.org  Sun Jul  1 17:44:50 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Sun, 01 Jul 2007 17:44:50 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <87d4zdbeee.fsf@florent.maison>
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>	<46857993.2020008@Royal-Tunbridge-Wells.Org>	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
Message-ID: <f68i5i$khs$1@sea.gmane.org>

Florent Rougon wrote:

>     IMHO, this metadata should be part of the LaTeX package on CTAN and
>     could be used by the TeX Catalogue to automatically point to the
>     various documentation files, the master file (index) if any, deal
>     with the various languages, etc.

Please note: metadata about available documentation is already part 
of the TeX Catalogue and is maintained by the CTAN team in the 
upload process.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From hanthethanh at gmail.com  Sun Jul  1 17:46:25 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Sun, 1 Jul 2007 17:46:25 +0200
Subject: [tex-live] gs reports error: "Embedded font uses undefined
	procedure(s)"
Message-ID: <74f506dc0707010846i7e558d02wb5ce9db84a40fd7d@mail.gmail.com>

ah, big thanks, this has clarified the issue.

Thanh

On Sun, Jul 01, 2007 at 12:25:41PM -0300, George N. White III wrote:
> http://bugs.ghostscript.com/show_bug.cgi?id=688464 provides the explanation:
>
>   ---------------------------------------------------------------
> Additional Comment #11 From Alex Cherepanov 2006-01-11 05:23 -------
>
> The patch is committed to the trunk, rev. 6445
>
> Move back-up CharString construction procedures (RD, ND, ...) to a special
> dictionary and put it below userdict to avoid warnings when the font
> defines them in userdict.
>
> Some broken fonts forget to define CharString construction procedures
> because
> non-PostScript font rasterizers don't detect this error. Ghostscript has
> a back-up definitions of the procedures that do their job and issue a
> warning.
>
> Other correct but old-fashioned fonts define CharString construction
> procedures
> in userdict. We had the back-up procedures defined above userdict, where
> they
> preempted the userdict definitions and issued a bogus warning. This patch
> moves
> the definitions below userdict.
>  --------------------------------------------------------------------------

From jschrod at acm.org  Sun Jul  1 18:10:17 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Sun, 01 Jul 2007 18:10:17 +0200
Subject: [tex-live] Build/source/Makefile oddity in all target
In-Reply-To: <200706301759.l5UHxAW21683@f7.net>
References: <f6002v$l8q$1@sea.gmane.org> <200706301759.l5UHxAW21683@f7.net>
Message-ID: <f68jla$qli$1@sea.gmane.org>

Karl Berry wrote:
>     When I change the first dependency line to
>     lib: @LIBSDEP@
> 
> Sounds reasonable.  I can't think of any deep reason behind the way it
> is now; my guess is that it is just the accretion of history.
> 
> I'll test out the change as soon as I can.

I have used the changed version now on Linux, FreeBSD, and Solaris; 
it didn't cause any problems.

By the way: configure does not construct @LIBSDEP@ correctly in all 
cases: Some libs for dvipdfm* are missing. I will send more details 
and commit repairs later this week.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From jschrod at acm.org  Sun Jul  1 17:53:59 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Sun, 1 Jul 2007 17:53:59 +0200
Subject: [tex-live] Perl availability in the TeX-Live build environment
In-Reply-To: <20070630.111544.147252876.wl@gnu.org>
References: <f652hi$go3$1@sea.gmane.org> <20070630.111544.147252876.wl@gnu.org>
Message-ID: <18055.52759.727469.505241@puma.r.npc.de>

>>>>> "WL" == Werner LEMBERG <wl at gnu.org> writes:

>> I want to update the dviljk man page; it is both incomplete and has
>> wrong information. Since my nroff-foo is not really good, I will
>> write it as a POD file and generate the man page by Perl.

WL> Alternatively, send me the file after your update so that I can fix
WL> the groff stuff.

Thanks for your offer. Independently of this special case, I think
using POD is really a great way to write man pages -- the created
nroff source works on all Unix systems and the POD syntax is almost
obvious at first glance. Once upon a time, I knew about man markup,
but after I detected POD I forgot almost all of it because I didn't
need it any more.

That goes so far that currently many of my shell scripts end with

    : <<'=cut'

    ... man page for shell script

    =cut

and thus have embodied and working man pages -- and I tend to keep
them much more up to date than I did before when they were in some
auxilliary file.

Best,
	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany

From f.rougon at free.fr  Sun Jul  1 20:00:19 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Sun, 01 Jul 2007 20:00:19 +0200
Subject: [tex-live] Improving or rewriting texdoctk
In-Reply-To: <87fy4948qc.fsf@riesling.zuerich.kuesterei.ch> (Frank
	=?iso-8859-1?Q?K=FCster's?=
	message of "Sat, 30 Jun 2007 20:07:07 +0200")
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
	<87fy4948qc.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <87tzsogg24.fsf_-_@florent.maison>

Hi,

Frank K?ster <frank at kuesterei.ch> wrote:

> Have you talked to Thomas Ruedas about that?  I think he also considered
> this. Maybe he has some code (but you'd have to read Perl, which is said
> to be harder than to write it...)

I didn't talk to Thomas for these reasons:
  1. I don't want to write anything significant in Perl.

  2. If we go the debtags[1] way (see later mails), the changes to do
     are not trivial at all and thus warrant a full rewrite; which, for
     me, means Python.

  3. If not, well, the main thing that remains to do is to make texdoctk
     able to assemble the database (/etc/texdoctk/texdoctk.dat) from a
     set of files provided with each LaTeX package. AFAIS, this is a
     simple matter of concatenating the files, and thus is trivial.

     I'm pretty sure you asked Thomas to do that a long time ago and we
     haven't heard any signs of progress since then, so I assumed it
     would be faster for me to reimplement in Python than having Thomas
     actually work on this feature.

     [ The only remaining thing I can think of (excluding the switch to
       a debtags-like approach) is tagging the documents with the
       language they are written it. I was about to say it's trivial
       (simply add a language field to the db) when I saw it is already
       partially present in texdoctk.dat:

         l2kurz;Short Introduction to LaTeX (german);latex/general/l2kurz.pdf;tutorial, introduction, basics, german

       But not all documents are tagged this way:

         KOMAg;KOMA-Script User's Guide (german);latex/koma-script/scrguide.pdf;tutorial, introduction
         gerdoc;German styles (old/new orthography);generic/german/gerdoc.dvi;
         caption2a;caption manual (german) (caption);latex/caption/anleitung.dvi;figures, tables

         etc.

       Well, it would be slightly more work to make the GUI able to
       limit its view to a user-specified set of languages, or to
       display the language a doc is written as part of the doc lists,
       but this is secondary: I believe we can already take advantage of
       language tags with the Search button. ]

The problems with the trivial approach (as opposed to the debtags route)
are the following:

  - a simple static hierarchical classification as currently implemented
    in texdoctk is never completely satisfactory: when writing the
    metadata for packages, we (ideally upstream authors) will have to
    find the proper category, and sometimes:
      * there are several relevant categories;
      * or there is no appropriate category.

  - if all the documents in TL are referenced this way, I think we'll
    end up with either of these problems:
      * too many categories to be usable (imagine starting texdoctk and
        having 50 categories or so to choose from);
      * some categories will have too many documents in them to be
        conveniently browsable.

That's why I was thinking of implementing a debtags-like approach, which
could actually be used to classify LaTeX packages, not only their
documentation (it would be ridiculous to have an excellent way to
classify and browse LaTeX documentation and no corresponding way to
browse through the packages, since there is most of the time a very
clear relationship between one package and one or more doc files).

  [1] http://debtags.alioth.debian.org/

-- 
Florent

From f.rougon at free.fr  Mon Jul  2 00:12:24 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 00:12:24 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <200706301759.l5UHxAN21701@f7.net> (Karl Berry's message of "Sat, 
	30 Jun 2007 12:59:10 -0500")
References: <200706301759.l5UHxAN21701@f7.net>
Message-ID: <87abufhiyf.fsf@florent.maison>

Hi,

karl at freefriends.org (Karl Berry) wrote:

> I see no hugely critical reason to support compressed pdf files.  I
> don't think we should have them in TeX Live.  The amount of space saved
> is not worth the ensuing trouble IMHO.

Yes, I think there is now a fair consensus that supporting externally
compressed PDF files isn't worth the trouble. It seems we're better off
waiting for PDF 1.5 to spread and maybe improving pdfTeX and other tools
for more efficient font embedding.

> If you want to rewrite texdoctk to somehow make use of this, perhaps
> using the Catalogue data as processed for TL by David's new Elisp (which
> I still haven't tried yet, sadly), go for it.  I certainly agree that
> texdoctk.dat is not a good solution.

David's script is a simple way to have a usable offline catalogue *now*,
but for a good rewrite of texdoctk, I'd like something less heuristic,
that deals correctly in a deterministic way with files named manual.pdf,
be they from hyperref or some other package.

This does require integration with the TL installation procedure, but
AFAIU, this is the right moment and I have no problem working with
Norbert.

My current view of the Right Way would be the following:

  Each package (in the sense of CTAN package, not Debian) contains an
  XML file that specifies the following:

    - what is the package useful for; I think the debtags approach would
      be great for that, see below.

    - what documentation files are provided in the package, with at a
      minimum:

        * relative paths from the root of the package

        * the language each file is written in

        * a short description of each file (in most cases, the document
          title should be OK).

      One might want to tag the individual doc files with the debtags
      approach, but I don't think we need so much granularity. I think
      it is sufficient to put the tags at the CTAN package level.

  Then, I need some information regarding where the files are installed
  in TL. I suppose the TL installation infrastructure could easily
  provide me with this.

  A simple way to do that would be to have my program (let's call it
  texcatalogue for now) find this information ready in a file listing at
  least all documentation files, one per line like that:

    <CTAN package name>/<relative path>;<installation path>

  Let's call this file docinstall.log (or install.log in case you decide
  to record all file installations, not only documentation files).

  (this can also be in XML for more robustness, I don't really care)

  Then other distributors such as MiKTeX could provide such a file in
  order to have texcatalogue working for them.

  By matching the individual metadata files for each package with
  docinstall.log, I'd be able to find a given file for a given package
  in the installed system.

OK, so I postponed so far the explanation of the big picture. Let's dive
into it now.

Anyone having managed a reasonable bookmark, software, music, etc.
collection the "obvious way" has probably found that the classic simple
static hierarchical classification scheme is bound to fail for the
following reasons:

  - there are often documents (or more generally, objects of the
    collection) that would fit into several folders (categories).

  - some documents don't fit in any category, or you have to create
    ridiculously small categories that contain very few documents and
    clutter the category tree in an unacceptable way; or else you put
    them in a "misc" category, which quickly becomes a mess.

  - some categories appear as valid subcategories of several categories.
    Then, you're sure to miss one of them when browsing the category
    tree.

Simple example for software classification: I can have a structure like
that:

  Graphic work
  Sound
    -> Players
    -> Editors
    -> Recorders
  Mathematics

but this could also be structured like that:

  Command-line tools
    -> Sound
    -> Graphic Work
    -> Mathematics
  Console-based interactive tools (e.g., using ncurses or slang such
  as texconfig)
    -> Sound
   (-> Graphic Work)
    -> Mathematics
  GUI tools
    -> Sound
    -> Graphic Work
    -> Mathematics

If I'm looking for a sound player no matter the interface, the first
structure is better; if I'm specifically looking for a GUI tool for
Auntie, then the second is probably more convenient. Different needs,
different structures.

This problem is very real for Debian users to find what they might want
to install among the 21000+ packages we have in sid at the moment. This
lead some clever people at Debian (mainly Enrico Zini, AFAIK) to do some
research on Library Science. They found that a nice solution for such
problems was devised in 1933 by Information Architecture specialists.
The basic concepts are relatively simple and explained here:

  http://debtags.alioth.debian.org/paper-debtags.html

Debian's implementation of this scheme is called "debtags", whose home
page is here:

  http://debtags.alioth.debian.org/

OK, so how does it work?

Simply, to each package, you attach not a folder, but a set of tags
(e.g., "font", "mathematics", "hebrew", etc.). This way, you can look
for everything related to maths, or every font available in TL, or every
math font, or every font that provides hebrew support, whatever.

This is not science fiction. Currently, on my Debian system, I can type:

  debtags grep '(use::playing && ! use::recording) && works-with::audio && (interface::commandline || interface::text-mode)'

to find all packages that:
  - are used for playing media, but not for recording;
  - and work with audio media;
  - and have an interface that is either command-line driven, or in
    text-mode (ncurses, slang, etc., such as texconfig).

\begin{parenthesis}
    You can easily obtain a nice list like that:

      Package: abcmidi-yaps
      Description: yet another ABC to PostScript converter
       This program translates tunes written in the ABC format to PostScript,
       which can then be viewed on screen or printed. It is essentially a
       (non-exclusive) alternative to abc2ps, being based on the abc2ps
       PostScript code together with the ABC parser from the abcmidi package.
       .
       People interested in this kind of software should also check out the
       abcm2ps package, which contains a similar program that has lots of
       additional features.
      
      Package: abcmidi
      Description: converter from ABC to MIDI format and back
       This package contains the programs `abc2midi' and `midi2abc',  which
       convert from the abc musical notation format to standard MIDI format
       and vice-versa. They can generate accompaniment from guitar chords
       in the abc file, as well as insert various MIDI events; the
       MIDI-to-abc translation tries to figure out bars, triplets and
       accidentals on its own.
       .
       The package also contains `abc2abc' (an abc prettyprinter/transposer),
       `mftext' (a program that dumps a MIDI file as text), and `midicopy'
       (a program that extracts specific tracks, channels or time intervals
       from a MIDI file).
       .
       The programs in this package are based on the `midifilelib'
       distribution available from http://www.harmony-central.com/MIDI/.
     
      [...]

    with the following command:

      debtags grep '(use::playing && ! use::recording) && works-with::audio && (interface::commandline || interface::text-mode)' \
              | xargs -n 1 grep-available -F Package -s Package,Description

    Note: it's a bit slow because it calls grep-available for every
          package; if you want to make it faster, you have to combine
          all package names output by the 'debtags' command into a
          single filter expression using the grep-available syntax, like
          this:

-------8<--------------------------------------------8<---------
      grep-available -s Package,Description \
        $(debtags grep '(use::playing && ! use::recording) && works-with::audio && (interface::commandline || interface::text-mode)' \
          | cut -d: -f 1 | python -c '
import sys

def pkgexpr(pkg):
    return "-P %s -X" % pkg

pkglist = sys.stdin.read()[:-1].split("\n")

print " --or ".join(map(pkgexpr, pkglist))') | less
-------8<--------------------------------------------8<---------

\end{parenthesis}

All this is explained in good detail here:

  http://debtags.alioth.debian.org/

and in particular in this paper:

  http://debtags.alioth.debian.org/paper-debtags.html

Looking at the previous expressions, you'll have noted the "::" stuff,
e.g. in 'use::playing' and 'interface::text-mode' (yes, it reminds me of
Perl, but I can live with it). What does it mean? Simply that the tags
are grouped into facets. For instance, looking at a given package, you
can ask yourself these questions:

  - What is it useful for?

    Possible answers:

      * browsing -> tag "use::browsing"
      * chatting -> tag "use::chatting"
      * printing -> tag "use::printing"

      etc.

  - What interface(s) does it present to the user?

    Possible answers:

      * a command-line interface -> tag "interface::commandline"
      * a text-based interactive interface
                                 -> tag "interface::text-mode"
      * a web interface          -> tag "interface::web"
      * an X11 interface         -> tag "interface::x11"

      etc.

These tags can be used to present a dynamic menu to the user. For
instance, he starts looking at the "use" facet (one menu entry). At this
point, he sees several entries: browsing, chatting, printing, etc. If he
chooses "chatting", he can now refine his search by chosing the
"interface" facet: this leads to a new submenu presenting the various
types of interfaces, etc.

OTOH, our user could have started by looking only at applications
offering an X11 (graphical) interface. The dynamic menu opened when
chosing "interface::x11" tag would then offer to choose among various
facets (or tags), one of which is "use". If he chooses "use" at this
point, he can narrow his search to web browsers by further choosing
"use::browsing" if he's looking for a browser. If he wants a particular
GUI toolkit (Qt, GTK, wxWidgets...), he can continue his exploration of
the dynamically-created tree with the "uitoolkit" facet, which groups
tags such as "uitoolkit::gtk", "uitoolkit::qt", "uitoolkit::wxwidgets",
etc.

I believe such a scheme would be nice to find one's way among the myriad
of things we have in CTAN. The debtags project provides programs and
libraries for general use (tagcolledit, libtagcoll), i.e. for managing
arbitrary collections of objects, not only Debian packages. So, this
should not be very difficult to use for managing the collection of CTAN
packages (I believe I'd have to write a Python wrapper for libtagcoll,
but that's something I can do).

The end result, as I currently see it, would be a 'texcatalogue' program
(or some other name, I don't really care) that could be used to
conveniently browse and search trough the collection of CTAN packages,
using this tag-based system.

Once a package is selected, it would be easy, thanks to the metadata I
mentioned at the beginning of this email, to present the relevant
documentation files to the user, in whatever languages he accepts to
read. I believe that would be a great replacement and enhancement for
texdoctk.

There is a little issue I thought about: texdoctk has sections such as
"Guides and Tutorials" and "Fundamentals", which I find very useful and
don't want to lose. I may be wrong, but I don't think all documents in
these sections are part of CTAN packages. If this is true, the approach
described in this mail would require to ship these documentation files
in new CTAN packages. I don't think this is a serious problem.

We could tag such packages like that:

  Font Installation Guide

    -> type::document-guide
    -> subject::fonts
    -> subject::installation
    -> macropackage:latex

  A Gentle Introduction to TeX

    -> type::document-tutorial
    -> macropackage::plain-tex

  pdfTeX User Manual

    -> type::document-user-manual
    -> engine::pdftex

  KOMA-Script User's Guide (german)

    -> type::document-guide
    -> macropackage::latex
    -> classfamily::koma-script

etc.

(another obvious classfamily would be latex-standard)

Of course, I just made this up in a few minutes, but defining a good set
of facets and tags requires much more thought than that.

In case you wonder, debtags can be told that one tag implies other tags,
so that we could have type::document-tutorial, type::document-guide and
type::document-user-manual all imply type::document to easily look for
documentation, be it tutorials or reference manuals or whatnot. BTW, you
may ask yourself why I distinguished a "user manual" and a "guide": I'd
say a guide doesn't aim at being exhaustive, whereas a user manual
should, as far as it falls in the scope of user stuff.

OK, I think that's enough for now and will let people comment. I have
probably answered most other mails in this message, but I'll look again
at them individually tomorrow and reply to the questions that remain
unanswered.

Ah, I forgot one thing: if you want to play with the Debian tags
database, I suggest the following:

  1. [if you have access to a Debian system]
     the programs "packagesearch" and "debtags-edit", from the Debian
     packages with the same names. For those who cannot try them at
     home, there are some (old) screenshots here:

       http://debtags.alioth.debian.org/paper-debtags.html#debtags-edit

  2. http://debian.vitavonni.de/packagebrowser/

  3. http://debtags.alioth.debian.org/edit.html

    -> if you don't know which package names to enter, try debtags or
       lmodern;
    -> also try the "Tag cloud"; quite interesting IMHO
       (http://debtags.alioth.debian.org/cloud/, needs JavaScript).

Please note that the Debian tags databases (vocabulary and package tags)
are huge and therefore still under construction. Not every package is
tagged, not every package that is tagged is correctly and completely
tagged, and even the tags vocabulary is still under development (if you
look at /var/lib/debtags/vocabulary, you'll see that the status of some
tags is "needing-review", some others "draft", or even "controversial").
However, AFAIUI, updates to the tags database on
debtags.alioth.debian.org are regularly validated by competent people,
so the data found there should not be complete nonsense, even if
incomplete.

Well, that's it now. Thanks for reading so far.

-- 
Florent

From preining at logic.at  Mon Jul  2 07:08:02 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 07:08:02 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <87abufhiyf.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
Message-ID: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>

Hi Florent,

thanks a lot for the interesting proposoal, I do see only one problem:

On Mon, 02 Jul 2007, Florent Rougon wrote:
>   Each package (in the sense of CTAN package, not Debian) contains an
>   XML file that specifies the following:

How will we ever get at this? Furthermore I would prefer *not* to have
new stuff on CTAN. I would suggest to add this information in some way
to the TeX Catalogue (where it belongs). Another problem is that
sometimes packages on CTAN don't directly ship documentation files, but
they have to be created.

If we restrict ourselves to TeX Live we can use the
	docfiles
entry in the TeX Live database, but there are no tags on these files in
any way (and currently no way to tag them, but this can be changed).

If we have to tag all the stuff that would be impossible. OTOH we cannot
urge the package writers to write some tag specification. Furthermore
there are those packages which are not supported anymore, i.e., no one i
responsible for them.

One way out of this dilemma I see is:
- we migrate the CTAN upload procedure to the experimental one currently
  in testing phase
- we encourage package writers at upload time to add some tags (drop
  down lists, checkboxes, whatever)
- documentation files could be gathered automatically from the ctan2tl
  script which would be executed in the background

This way slowly stuff would get tagged, and for old packages one of us
would have to take the work to go through them.

Herzliche Gr??e

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GASTARD (n.)
Useful specially new-coined word for an illegitimate child (in order
to distinguish it from someone who merely carves you up on the
motorway, etc.)
			--- Douglas Adams, The Meaning of Liff

From f.rougon at free.fr  Mon Jul  2 12:39:34 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 12:39:34 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <20070702050802.GA20190@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Mon, 2 Jul 2007 07:08:02 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
Message-ID: <87ved3f5sp.fsf@florent.maison>

Hi,

Thanks for the reply.

Norbert Preining <preining at logic.at> wrote:

> On Mon, 02 Jul 2007, Florent Rougon wrote:
>>   Each package (in the sense of CTAN package, not Debian) contains an
>>   XML file that specifies the following:
>
> How will we ever get at this?

Well, probably not, but I don't think it's a big problem:
  - if package maintainers write their own metadata, well, that's great
  - the most important packages (geometry, graphicx, etc.) will get
    tagged in a reasonable timeframe by either their maintainer or by
    volonteers (yeah, could be me, but preferably some LaTeX guru :).
  - each package that is not tagged is simply not accessible through the
    tag-based search or browsing facilities in the tool I'm thinking
    about. We can still have an alphabetic classification and a poor
    man's search that simply looks at package names. These packages are
    just (much) less easy to find. If someone likes one of them and
    finds it's too difficult to find, then he can tag it, dammit!

Basically, the database need not be complete to be useful. Having only
the "important" packages tagged would already be very helpful to users,
I think.

> Furthermore I would prefer *not* to have new stuff on CTAN.

I'm not sure what the problem with "new stuff" is, but...

> I would suggest to add this information in some way
> to the TeX Catalogue

That can be done. But then, the burden of tagging the packages relies on
the shoulders of the sole catalogue maintainers, and I fear that this
way, we cannot ever have any significant part of CTAN tagged (I'm not
implying that the catalogue maintainers are lazy, rather that CTAN is
huge).

That's mainly why I wanted the metadata to be part of CTAN packages:
careful package authors will tag their packages in a good way. That
would make their packages easier to find without causing any additional
work for the catalogue maintainers.

If you really want the metadata to be part of the catalogue, there's
still a way to have it updated "collectively": using a web interface or
a custom network client. But doing it properly requires validation of
the tagging by some devoted soul, so this is complex and requires quite
some additional work. Besides, web interfaces are not my area; I am not
volonteering to write anything like that. A custom client can easily be
made portable to current systems, yes, but this is real work (well,
actually, something like that already exists in debtags and the client
sends "tag patches", but I'm not sure the client is portable enough and
can be reused for cataloguing CTAN instead of Debian).

> (where it belongs)

Hmmm, depends on the POV. :)

Yes, if you look at the current state of catalogue implementation, that
is where it belongs. But you can't say it's not natural to have the
metadata embedded in each package (basically, you're telling that we
should upload our Debian packages without debian/control and then copy
debian/control ourselves for each upload somewhere on
ftp-master.debian.org. Ugh! :).

> Another problem is that sometimes packages on CTAN don't directly ship
> documentation files, but they have to be created.

Ah, that is indeed a problem I hadn't thought about. In these cases,
what happens on the catalogue side?

  (1) No doc is listed on the web interface.

or

  (2) The catalogue or CTAN maintainers build the doc themselves, store
      it in CTAN and point to it from the catalogue.

If (1), then we (TeX Live) are on our own and have to build the doc
ourselves. I won't develop this case for now because this becomes a bit
messy and have the impression that a better solution would be to enforce
that each CTAN upload has the full documentation built. But if there are
good reasons against this, I can devise solutions.

If (2), then I think the CTAN package should be stored in what I'll call
"definitive form" *with* its documentation, and the metadata (be it in
the package or the catalogue) could then point to the various doc files
present in the package. Then, we're back to square one and can follow my
proposal.

This has an important implication: that TeX Live adopts the same format
for documentation as CTAN. Yes, I know this won't make everyone happy,
but:

  - I believe this is the simplest and cleanest way from the POV of
    information structure (package/documentation/metadata);

  - In many cases, there is an optimal format for a given documentation:
    if there are figures, DVI is ruled out and we need either PS or PDF.
    If there are links from one file to another, I believe PS is ruled
    out too. Moreover, PDF files with the navigation table (hierarchical
    bookmarks) on the left are far more convenient than PS files without
    such a table for not-so-short doc files IMHO. So, you should be able
    to guess my preferred format for most doc. :)

> If we restrict ourselves to TeX Live we can use the
> 	docfiles
> entry in the TeX Live database, but there are no tags on these files in
> any way (and currently no way to tag them, but this can be changed).

I believe it would be a shame to restrict ourselves to TeX Live, but if
we don't adopt the same doc format as on CTAN, I think this will have to
happen.

> If we have to tag all the stuff that would be impossible. OTOH we cannot
> urge the package writers to write some tag specification.

As said previously, the database need not be complete to be useful...

> Furthermore there are those packages which are not supported anymore,
> i.e., no one is responsible for them.

These can be tagged! You can then trivially avoid cluttering your search
with obsolete packages.

Unmaintained packages are a slightly different case. Often, you will
prefer a maintained package to an unmaintained one providing the same
functionality, but that is not always the case. So, in this case, the
tag is not necessarily used as a binary filter, but can be used as a
hint among others helping the user make his choice.

> One way out of this dilemma I see is:
> - we migrate the CTAN upload procedure to the experimental one currently
>   in testing phase

Sorry, I don't know what this experimental procedure consists of.

> - we encourage package writers at upload time to add some tags (drop
>   down lists, checkboxes, whatever)

Yes, that can be done. But I have the impression you're seeing it as a
web interface, and I repeat I'm not the one who will code it. That said,
I'm not opposed to such an interface, if done correctly.

> - documentation files could be gathered automatically from the ctan2tl
>   script which would be executed in the background

I suppose this is the magic script that will be able to tell me where
each doc file is installed. OK. What we need is:

  - installation path for each file;

  - the CTAN package it belongs to;

  - ideally, some way to link each file to its metadata, so that we can
    know the language each doc file is written in and can tell when a
    file is an index (entry point) in the list of doc files installed by
    a package.

    As said above, this should be easy to do if the files installed are
    the same as in the (definitive) CTAN packages, because then the
    metadata can be part of the catalogue or of the CTAN package;
    otherwise (e.g., if CTAN has no doc or the doc in other formats),
    matching the metadata from CTAN with the files installed in TL
    becomes messy IMO.

> This way slowly stuff would get tagged, and for old packages one of us
> would have to take the work to go through them.

Well, I don't think some volonteer will ever tag the whole CTAN. Too
much boring work. A set of volonteers could probably, yes, but it is
more likely that old unmaintained packages will remain untagged. That
said, it is not a regression from the current state, and I don't think
it's a real problem. Obsolete/obscure packages are more difficult to
find[1], so what?...

As far as TL (as opposed to CTAN) is concerned, that might be a bit
different, as the number of packages is, I think, more manageable. But
probably the same will happen (obsolete/obscure packages untagged, at
least during the first years), just on a smaller scale.

Regards,


  [1] Unless their maintainer makes the effort of tagging them, in the
      case of the obscure package, of course.

-- 
Florent

From f.rougon at free.fr  Mon Jul  2 12:51:18 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 12:51:18 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <18054.45024.921354.863273@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Sat, 30 Jun 2007 21:32:48 +0200")
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
	<18054.45024.921354.863273@zarniwoop.ms25.local>
Message-ID: <87r6nrf595.fsf@florent.maison>

Hi,

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> I suppose that zxpdf can deal with compressed PDF files which are
> linked to other PDF files, but I fear that we cannot assume that it is
> available on all platforms supported by TeXLive.  Furthermore, xpdf
> does not support everything needed.  It is unavoidable that acroread
> can be used.

[...]

> I don't see any good reason why the PDF specification should support
> it because objects in PDF files are compressed already.  It actually
> doesn't make sense to compress PDF files.  Maybe PDF files produced by
> pdftex are larger than necessary because pdftex does not convert Type1
> fonts to CFF, but future versions will do that.  PDF files can be
> smaller when object stream compression is enabled in pdftex, but
> object stream compression requires Acrobat version < 5, but we cannot
> assume that everyone has a recent version of acroread.

A lot of objections have been raised about compressed PDF files. I
believe the trouble is not worth the gain (particularly considering that
a) there seems to be unsolvable problems with PDF-to-PDF links b)
PDF-1.5 will make things better in this respect and c) improvements to
pdfTeX and other tools can also help here). As a consequence, I've given
up on this point (which I wasn't trying to push in any way, just
offering for consideration :).

I believe this is the consensus on this list.

> If you have Debian in mind, use Python.  But a Python script is
> useless for TeXLive.  It will not work on all platforms.

Well, I won't force anyone to use it; I'm not that kind of guy. :)

Anyone who would want to use this program would have to install Python,
but that's it.

Besides, having a new program available doesn't necessarily mean
texdoctk has to be removed from TL.

-- 
Florent

From f.rougon at free.fr  Mon Jul  2 13:13:43 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 13:13:43 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <f68i5i$khs$1@sea.gmane.org> (Joachim Schrod's message of "Sun,
	01 Jul 2007 17:44:50 +0200")
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison> <f68i5i$khs$1@sea.gmane.org>
Message-ID: <87myyff47s.fsf@florent.maison>

Hi,

Joachim Schrod <jschrod at acm.org> wrote:

> Please note: metadata about available documentation is already part of the TeX
> Catalogue and is maintained by the CTAN team in the upload process.

OK. I'm looking at hyperref's metadata now. I see you already have a
language attribute for each file. Good.

Do you have some way to specify that one of the files is an entry point
for the whole documentation? I think that would be nice.

Also, maybe it would be desirable to have a "type" attribute that at
least says when the documentation is in text format, because text files
don't always end in ".txt" (you can find README as well as README.txt,
or even README.doc in the old DOS times; some packages also ship
README.en or things like that). Or do you prefer to assume that:

  - documentation in text format has either no extension, or ends in
    ".txt"; in this case, README.en is not acceptable and has to be
    renamed to README.en.txt, which:
      1. would cause too much work for you, I fear;
      2. would not work on lesser Operating Systems.

  - non-text formats always provide a recognizable extension in the file
    name.

?

Given the objection raised by README.en, I think a "type" attribute
that is used at least for text files would be desirable. Looking at

  <documentation href='ctan:/fonts/micropress/hvmath/hvmath.txt'/>

from hvmath-fonts.xml, it seems you don't already do that.

Another thing I'm missing is a way to map paths such as:

  ctan:/macros/latex/contrib/hyperref/README

to paths in the installed TL distro. But I think Norbert has the answer
to this question or can put it in the infrastructure scripts.

Last thing: AFAIU, you brave catalogue maintainers are the sole people
responsible for all these XML files. My proposal to embed the metadata
in each CTAN package was aimed at reducing your workload in this area,
because careful package maintainers could then provide ready-to-use
metadata in their uploads to CTAN. Don't you like that?

Is it because you don't trust their input? In this case, you can always
use what we call an "override file" in Debian, i.e. a version of the
metadata that *you* wrote and put at a known place on your servers so
that it takes precedence over the data provided in the uploaded package.

Regards,

-- 
Florent

From preining at logic.at  Mon Jul  2 13:34:41 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 13:34:41 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <87ved3f5sp.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
Message-ID: <20070702113441.GB21042@gamma.logic.tuwien.ac.at>

Hi Florent, hi all,

On Mon, 02 Jul 2007, Florent Rougon wrote:
> >>   Each package (in the sense of CTAN package, not Debian) contains an
> >>   XML file that specifies the following:
> >
> > How will we ever get at this?
[...]
> Basically, the database need not be complete to be useful. Having only
> the "important" packages tagged would already be very helpful to users,
> I think.

Agreed, so let us forget this one.

> > Furthermore I would prefer *not* to have new stuff on CTAN.
> 
> I'm not sure what the problem with "new stuff" is, but...

The problem is that if one of us writes a meta data file for a package
because the maintainer does not do it, and we put it on
CTAN/macros/foobar, and there is a new release, then normally all the
files are replaced there, so it might happen quite easy that the tagging
gets lost.

I see a package dir on CTAN like macros/foobar as his space where nobody
else should play around.

> That can be done. But then, the burden of tagging the packages relies on
> the shoulders of the sole catalogue maintainers, and I fear that this

True, that's the reason why I mentioned the experimental stuff, see
below.

> That's mainly why I wanted the metadata to be part of CTAN packages:
> careful package authors will tag their packages in a good way. That
> would make their packages easier to find without causing any additional
> work for the catalogue maintainers.

You are right, I see your point, and I agree that this would be the best
solution. But this is something we should discuss with:
- the CTAN team
- the TeX Live team
- probably on the c.t.t. mailing list?

Anyone here has an opinion for that?

> > Another problem is that sometimes packages on CTAN don't directly ship
> > documentation files, but they have to be created.
> 
> Ah, that is indeed a problem I hadn't thought about. In these cases,
> what happens on the catalogue side?

No idea, sorry. But we are trying to work around in the experimental
stuff, see below.

> If (1), then we (TeX Live) are on our own and have to build the doc
> ourselves. I won't develop this case for now because this becomes a bit

This is already done for many packages, see ctan2tl script, and below
;-)

> If (2), then I think the CTAN package should be stored in what I'll call
> "definitive form" *with* its documentation, and the metadata (be it in

unfortunately "definitive" form does not exist, the variety how stuff in
CTAN directories is organized is mind boggling ...

> > One way out of this dilemma I see is:
> > - we migrate the CTAN upload procedure to the experimental one currently
> >   in testing phase
> 
> Sorry, I don't know what this experimental procedure consists of.

Ok, Jim Hefferon from the CTAN team presented on the EuroBachoTeX
conference an experimental CTAN upload process via a web interface. Main
points of this was that authors not only upload stuff, but also can
edit the metadata as present in the catalogue. 

Most important we try to build a TDS package of what is uploaded, so
that people can download a TDS ready package from CTAN. This is done in
a horrible perl script called ctan2tl which was developed for TeX Live
inclusion. We are working on this to update it for new packages, but
of course it still does not work for all.

Of course this script *has* knowledge of documentation files, because
everything what is left in texmf-dist/doc/... is a documentation file
then. 

But nothing of tagging etc.

> As far as TL (as opposed to CTAN) is concerned, that might be a bit
> different, as the number of packages is, I think, more manageable. But

Actually no, everything which is on CTAN and free is (with exceptions)
included in TL. So TL *is* CTAN in this sense, or better 
	TL = ctan2tl(CTAN) + some magic;
(would be nice if it once will work ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
He dropped his voice still lower. In the stillness, a fly
would not have dared cleat its throat.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From preining at logic.at  Mon Jul  2 13:42:06 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 13:42:06 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <20070702104943.GA24755@capsaicin.mamane.lu>
References: <20070702104943.GA24755@capsaicin.mamane.lu>
Message-ID: <20070702114206.GC21042@gamma.logic.tuwien.ac.at>

Hi Lionel,

On Mon, 02 Jul 2007, Lionel Elie Mamane wrote:
> I am the maintainer of the Debian package of dvidvi. As you probably
> know, Debian recently switched to TeXLive from teTeX, and TeXLive

Thanks for contacting us. To be honest I had it on my TODO list since a
long time to get into contact with you because of this duplication. I
wanted to leave out dvidvi from the DEBIAN TeX Live packages and instead
depend on your packages, but then I saw what you mentioned, that TL has
version 1.1, accepts other command line switches etc.

(putting TeX Live Developer hat on)
I don't know about the maintainer status of dvidvi, is it actively
maintained, and if yes, where? If yes best would be to merge the patches
from Debian to upstream dvidvi from where they will come back to TeX
Live and Debian (and as DD I could leave this part out of Debian TL).

All the patches you mentioned:
>  * Integrate patch by Benjamin Bayart to take into account PostScript
>    inclusion \special's in the first page even if the first page is
>    not kept in the final result. Fixes handling of dvi files making
>    use of PStricks or colour or other advanced PostScript features.
> 
>  * dvidvi.c (stringdvibuf): Fix "unexpected eof" error on some big
>    files; thanks to Benjamin BAYART for the patch.  Closes: #231275.
> 
>  * Make the C code warning-free.
> 
> The Debian package also contains a Unix version of a5booklet, which
> TeXLive seems to be missing. The code changes in Debian are naturally
> untested on non-Unix (or non-modern Unix) platforms.

sound like reasonable and good extensions/inclusions. So it should be
not too difficult to make this work.

> and my try at merging the changes in TeXLive (wrt 1.0) and in Debian at
> http://people.debian.org/~lmamane/dvidvi/dvidvi.merged.c .

I attach here for review a diff between the current version of dvidvi.c
in the TL depot and your file.

Best wishes, and thanks a lot for contacting us

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SEATTLE (vb.)
To make a noise like a train going along.
			--- Douglas Adams, The Meaning of Liff
-------------- next part --------------
--- /src/TeX/texlive-svn/Build/source/texk/dvidvi/dvidvi.c	2006-01-17 22:41:51.000000000 +0100
+++ dvidvi.merged.c	2007-07-02 12:45:22.000000000 +0200
@@ -44,9 +44,12 @@
 #endif
 void error(char *);
 
+#include "dvidvi.h"
 #ifndef VMS
+#include <stdlib.h>
 #include <stdio.h>
 #include <string.h>
+#include <unistd.h>
 #else /* VMS */
 #include "sys$library:stdio.h"       /* AKT: added sys$library: */
 #include <alloc.h>
@@ -84,12 +87,13 @@
 #define READBIN         "rb"    /* VMS must use binary mode */
 #define WRITEBIN        "wb"
 #define PATHSEP         ','
-#define IS_DIR_SEP      ((c) == ':')
+#define IS_DIR_SEP(c)   ((c) == ':')
 #else
 #define READBIN         "r"     /* UNIX doesn't care */
 #define WRITEBIN        "w"
 #define PATHSEP         ':'
-#define IS_DIR_SEP      ((c) == '/')
+#define IS_DIR_SEP(c)   ((c) == '/')
+#define SET_BINARY(f)
 #endif
 #endif /* not KPATHSEA */
 
@@ -175,6 +179,12 @@
 integer *pagenumbers ;
 int prettycolumn ;       /* the column we are at when running pretty */
 
+// To handle xxx1 for headers
+// Lets suppose there will be less than 256 of those.
+char *headers[256];
+integer ln_headers[256];
+integer nb_headers = 0L;
+
 /*
  *   This array holds values that indicate the length of a command, if
  *   we aren't concerned with that command (which is most of them) or
@@ -328,14 +338,18 @@
 void stringdvibuf(p,n)
 integer p,n;
 {
+  char *s = temp;
   fseek(infile,p,SEEK_SET);
   while ( n-- > 0 )
-    *temp++ = dvibyte();
+    *s++ = dvibyte();
 }
 
 /*
  *   Print a usage error messsage, and quit.
  */
+#ifdef __GNUC__
+__attribute__((noreturn))
+#endif
 void usage() {
    (void)fprintf(stderr,banner);
    (void)fprintf(stderr,"Usage:  dvidvi [options] input[.dvi] [output]\n");
@@ -357,8 +371,7 @@
 /*
  *   Print an error message, and exit if it is fatal.
  */
-void error(s)
-char *s ;
+void error(char *s)
 {
    (void)fprintf(stderr, "%s\n", s) ;    /* AKT: was dvidvi: %s */
    if (*s == '!')
@@ -579,11 +592,12 @@
  *   Parse the arguments to the routine, and stuff everything away
  *   into those globals above.
  */
-void processargs(argc, argv)
+void
+processargs(argc, argv)
 int argc ;
 char *argv[] ;
 {
-   char *p, *q ;
+   char *q ;
    int i, pageno, lastext = -1 ;
    long hoffset, voffset ;
    int reversed ;
@@ -613,9 +627,9 @@
 	       p++; firsttransf = 1 ;
 	       }
 #ifdef SHORTINT
-            if(sscanf(p, "%ld", &firstpage)==0)
-#else   /* ~SHORTINT */
             if(sscanf(p, "%d", &firstpage)==0)
+#else   /* ~SHORTINT */
+            if(sscanf(p, "%ld", &firstpage)==0)
 #endif  /* ~SHORTINT */
 	       error("! Bad first page option (-f).") ;
             break ;
@@ -661,9 +675,9 @@
 	       p++; lasttransf = 1 ;
 	       }
 #ifdef SHORTINT
-            if(sscanf(p, "%ld", &lastpage)==0)
-#else   /* ~SHORTINT */
             if(sscanf(p, "%d", &lastpage)==0)
+#else   /* ~SHORTINT */
+            if(sscanf(p, "%ld", &lastpage)==0)
 #endif  /* ~SHORTINT */
                error("! Bad last page option (-l).") ;
             break ;
@@ -671,9 +685,9 @@
             if (*p == 0 && argv[i+1])
                p = argv[++i] ;
 #ifdef SHORTINT
-            if (sscanf(p, "%ld", &pagemodulo)==0)
-#else   /* ~SHORTINT */
             if (sscanf(p, "%d", &pagemodulo)==0)
+#else   /* ~SHORTINT */
+            if (sscanf(p, "%ld", &pagemodulo)==0)
 #endif  /* ~SHORTINT */
                error("! Bad pagemodulo option (-p).") ;
             break ;
@@ -735,9 +749,9 @@
             if (*p == 0 && argv[i+1])
                p = argv[++i] ;
 #ifdef SHORTINT
-            if (sscanf(p, "%ld", &maxpages)==0)
-#else   /* ~SHORTINT */
             if (sscanf(p, "%d", &maxpages)==0)
+#else   /* ~SHORTINT */
+            if (sscanf(p, "%ld", &maxpages)==0)
 #endif  /* ~SHORTINT */
                error("! Bad number of pages option (-n).") ;
             break ;
@@ -892,6 +906,7 @@
    (void)dvibuf(p);
    pagenumbers[num]=signedquad();
 }
+
 /*
  *   This routine simply reads the entire dvi file, and then initializes
  *   some values about it.
@@ -966,6 +981,7 @@
  */
 
    p = pageloc[0L] + 45 ;
+nextcmd:
    c=dvibuf(p);
    while (comlen[c]) {
       p += comlen[c] ;
@@ -977,12 +993,36 @@
         landscape = p ;
         rem0special = 1 ;
       }
+      stringdvibuf(p+2L,6L);
+      if (strncmp(temp, "header", 6)==0) {
+	char l1;
+	l1 = dvibuf(p+1);
+	stringdvibuf(p+2,l1);
+	if ( nb_headers == 256 ) {
+	   fprintf(stderr,"\n"
+			  "There are more than 256 PS headers in your DVI file.\n"
+			  "Please ask a wizzard to enlarge me :-)\n");
+	}
+	ln_headers[nb_headers] = l1;
+	headers[nb_headers++] = strdup(temp);
+	/*
+	 * Seek at the end of the xxx1, then goto reading next commands.
+	 * In a normal DVI file, as produced by LaTeX, all of those special
+	 * commands (xxx1 with PS headers) are outputed on the very first
+	 * page, all together. So a simple loop might be enough. Just in
+	 * case we have a strange file we accept that there might be some
+	 * typesetting commandes between those xxx1.
+	 */
+	p = p + l1 + 2;
+	goto nextcmd;
+      }
    }
 }
 /*
  *   Output a single byte, keeping track of where we are.
  */
-void outdvibyte(c)
+void
+outdvibyte(c)
 unsigned char c ;
 {
    fputc(c, stdout) ;
@@ -991,7 +1031,8 @@
 /*
  *   Send out two bytes.
  */
-void outdvi2(v)
+void
+outdvi2(v)
 integer v ;
 {
    outdvibyte((unsigned char)(v >> 8)) ;
@@ -1000,7 +1041,8 @@
 /*
  *   Send out a longword.
  */
-void outdviquad(v)
+void
+outdviquad(v)
 integer v ;
 {
    outdvi2(v >> 16) ;
@@ -1010,7 +1052,8 @@
  *   This routine just copies some stuff from the buffer on out.
  *   Suppose the file is positioned correctly before
  */
-void putbuf(length)
+void
+putbuf(length)
 integer length ;
 {
    while ( length-- > 0 )
@@ -1019,7 +1062,8 @@
 /*
  *   This routine outputs a string, terminated by null.
  */
-void putstr(s)
+void
+putstr(s)
 register unsigned char *s ;
 {
    while (*s)
@@ -1028,7 +1072,8 @@
 /*
  *   Here we write the preamble to the dvi file.
  */
-void writepreamble() {
+void
+writepreamble() {
 /*   just copy the first 14 bytes of the file */
    fseek(infile,0L,SEEK_SET);
    putbuf(14L) ;
@@ -1038,7 +1083,8 @@
 /*
  *   This routine writes out a font definition.
  */
-void putfontdef(f)
+void
+putfontdef(f)
 int f ;
 {
    integer p,q ;
@@ -1051,7 +1097,8 @@
 /*
  *   The postamble is next.
  */
-void writepostamble() {
+void
+writepostamble() {
    int i ;
    integer p ;
 
@@ -1076,7 +1123,8 @@
 /*
  *   This routine starts a page, by writing out a bop command.
  */
-void beginpage() {
+void
+beginpage() {
    int i ;
    integer p ;
 
@@ -1092,10 +1140,11 @@
  *   This routine sends out a page.  We need to handle the
  *   landscape special, though.
  */
-void dopage(num)
+void
+dopage(num)
 integer num ;
 {
-   register integer p,q ;
+   register integer p ;
    register int len ;
    integer v, oldp ;
    unsigned char c;
@@ -1120,15 +1169,40 @@
       }
       prettycolumn += i + 1 ;
 #ifdef SHORTINT
-      (void)fprintf(stderr, "[%ld", num+1) ;
-#else  /* ~SHORTINT */
       (void)fprintf(stderr, "[%d", num+1) ;
+#else  /* ~SHORTINT */
+      (void)fprintf(stderr, "[%ld", num+1) ;
 #endif /* ~SHORTINT */
       (void)fflush(stderr) ;
    }
    p = pageloc[num] + 45 ;
    c=dvibuf(p);
    while (c != 140) {
+      if ( nb_headers ) {
+	 integer i;
+	 /*
+	  * Need to output the 'nb_headers' headers that we collected.
+	  * If we are outputing the real first page of the previous
+	  * DVI file, then the headers will be doubled, which is not
+	  * troublesome: dvips will keep only one of those.
+	  */
+	 for ( i=0; i<nb_headers; i++ ) {
+	    outdvibyte(239);
+	    outdvibyte(ln_headers[i]);
+	    putstr(headers[i]);
+	    if ( !quiet ) {
+	       fprintf(stderr,"<%s>",headers[i]+7);
+	       prettycolumn += ln_headers[i]+2-7;
+	    }
+	 }
+	 /*
+	  * We will output the headers only one time. That is possible that
+	  * those headers are not usefull (the pages where they are used might
+	  * not be kept in the out file, but there is no simple way to avoid
+	  * it.
+	  */
+         nb_headers = 0;
+      }
       if ((len=comlen[c]) > 0) {    /* most commands are simple */
          outdvibyte(c);
          putbuf((long)len-1) ;
@@ -1193,7 +1267,8 @@
 /*
  *   Here we end a page.  Simple enough.
  */
-void endpage() {
+void
+endpage() {
    outputpages++ ;
    outdvibyte(140) ;
 }
@@ -1201,12 +1276,12 @@
  *   This is our main routine for output, which runs through all the
  *   pages we need to output.
  */
-void writedvifile() {
+void
+writedvifile() {
    integer pagenum ;
    int ppp ;
    integer actualpageno, lastpageno ;
    struct pagespec *ps ;
-   integer p ;
    Boolean beginp ;
 
    writepreamble() ;
@@ -1259,13 +1334,17 @@
    }
    writepostamble() ;
 }
-int main(argc, argv)
+int
+main(argc, argv)
 int argc ;
 char *argv[] ;
 {
    processargs(argc, argv) ;
    readdvifile() ;
    writedvifile() ;
-   return 0 ;
+   if (!quiet) {
+      fprintf(stderr,"\n");
+   }
+   return 0;
 }
 

From f.rougon at free.fr  Mon Jul  2 13:18:36 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 13:18:36 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <20070630225119.GA4076@irwin.vpn.uni-freiburg.de> (Heiko
	Oberdiek's message of "Sun, 1 Jul 2007 00:51:20 +0200")
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
	<20070630225119.GA4076@irwin.vpn.uni-freiburg.de>
Message-ID: <87ir93f3zn.fsf@florent.maison>

Heiko Oberdiek <oberdiek at uni-freiburg.de> wrote:

> You forgot the majority of PDF viewers:
> * acroread

<nitpick>
I didn't forget acroread, because Reinhard asked "which tools does
*Debian* provide to deal with them?" (emphasis is mine), and Debian does
not provide acroread---heck, it cannot even ship it legally in non-free
anymore.
</nitpick>

> Reinhard has my full agreement. Externally compressed PDF files
> will cause lots of trouble and annoyment for the users.

[...]

> I would rather give up externally compressed PDF files and
> switch to PDF 1.5 with compressed object streams instead.

Agreed. I'm not considering externally compressing PDF files anymore.

Regards,

-- 
Florent

From jindranovy at gmail.com  Mon Jul  2 13:59:38 2007
From: jindranovy at gmail.com (Jindrich Novy)
Date: Mon, 2 Jul 2007 13:59:38 +0200
Subject: [tex-live] scheme-tetex.tpm misses collection-xetex
Message-ID: <d954a6590707020459w29abfb2bje5dd099619dd34c3@mail.gmail.com>

Hi,

I was trying to generate zip list for the tetex TeXLive scheme and realized
that it misses a reference
to collection-xetex because the fmtutil-sys -all fails to regenerate all fmt
files because of missing
unicode-letters.

The fmtutil logs and patch to fix it is attached.

Thanks!
Jindrich
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070702/7367ebaa/attachment-0001.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: log_no_xetex
Type: application/octet-stream
Size: 182338 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070702/7367ebaa/attachment-0002.obj 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: log_with_xetex
Type: application/octet-stream
Size: 193401 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070702/7367ebaa/attachment-0003.obj 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: scheme-tetex.patch
Type: text/x-patch
Size: 420 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070702/7367ebaa/attachment-0001.bin 

From Robin.Fairbairns at cl.cam.ac.uk  Mon Jul  2 14:04:17 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 02 Jul 2007 13:04:17 +0100
Subject: [tex-live] texdoc in luatex
In-Reply-To: Your message of Mon, 02 Jul 2007 13:13:43 +0200.
	<87myyff47s.fsf@florent.maison> 
Message-ID: <10684.1183377857@mole.cl.cam.ac.uk>

Florent Rougon <f.rougon at free.fr> wrote:

> Joachim Schrod <jschrod at acm.org> wrote:
> 
> > Please note: metadata about available documentation is already part of the TeX
> > Catalogue and is maintained by the CTAN team in the upload process.
> 
> OK. I'm looking at hyperref's metadata now. I see you already have a
> language attribute for each file. Good.

actually, not, in the catalogue repository:

  <documentation details='Package README'
                 href='ctan:/macros/latex/contrib/hyperref/README'/>
  <documentation details='Package README, hyper-crossreferenced'
                 href='ctan:/macros/latex/contrib/hyperref/README.pdf'/>
  <documentation details='Manual, HTML version:'
                 href='ctan:/macros/latex/contrib/hyperref/doc/manual.html'/>
  <documentation details='Manual, PDF version:'  language='en'
                 href='ctan:/macros/latex/contrib/hyperref/doc/manual.pdf'/>
  <documentation details='Summary of options:'  language='en'
                 href='ctan:/macros/latex/contrib/hyperref/doc/options.pdf'/>
  <documentation details='Paper on tagging and navigation:'  language='en'
                 href='ctan:/macros/latex/contrib/hyperref/doc/paper.pdf'/>

in the ones not marked, we rely on a default attribute.

> Do you have some way to specify that one of the files is an entry point
> for the whole documentation? I think that would be nice.

no.

> Also, maybe it would be desirable to have a "type" attribute that at
> least says when the documentation is in text format, because text files
> don't always end in ".txt" (you can find README as well as README.txt,
> or even README.doc in the old DOS times; some packages also ship
> README.en or things like that). Or do you prefer to assume that:

i spend an inordinate amount of my (otherwise) free time scanning for
these things; if i find a *.doc file that's actually plain text, i
simply rename it -- the author's original wishes are probably irrelevant
in today's world, where "microcruft knows best".

>   - documentation in text format has either no extension, or ends in
>     ".txt"; in this case, README.en is not acceptable and has to be
>     renamed to README.en.txt, which:
>       1. would cause too much work for you, I fear;
>       2. would not work on lesser Operating Systems.

the problem is that unless one forces such things, m* is going to fall
in a little heap on the floor, twitching quietly.  a text attribute
would be good (though it would of course also require an encoding
attribute -- there are lots of non-ascii iso-646 national variants, as
well as myriad m$ code pages, in use on the archive, and to first order,
there's no way of working out what these things are, other than simply
guessing.

>   - non-text formats always provide a recognizable extension in the file
>     name.
> 
> ?
> 
> Given the objection raised by README.en, I think a "type" attribute
> that is used at least for text files would be desirable. Looking at
> 
>   <documentation href='ctan:/fonts/micropress/hvmath/hvmath.txt'/>
> 
> from hvmath-fonts.xml, it seems you don't already do that.

we don't have such a thing in the catalogue dtd, so it can't be done.
yet.

> Another thing I'm missing is a way to map paths such as:
> 
>   ctan:/macros/latex/contrib/hyperref/README
> 
> to paths in the installed TL distro. But I think Norbert has the answer
> to this question or can put it in the infrastructure scripts.

i thought that's what david kastrup's script does.  (since my suggestion
of writing another different target for catalogue html generation
received no support at all, i assumed that was the reason.)

> Last thing: AFAIU, you brave catalogue maintainers are the sole people
> responsible for all these XML files. My proposal to embed the metadata
> in each CTAN package was aimed at reducing your workload in this area,
> because careful package maintainers could then provide ready-to-use
> metadata in their uploads to CTAN. Don't you like that?
> 
> Is it because you don't trust their input? In this case, you can always
> use what we call an "override file" in Debian, i.e. a version of the
> metadata that *you* wrote and put at a known place on your servers so
> that it takes precedence over the data provided in the uploaded package.

there is no problem in principle.  author-provided metadata is a
medium-term aim; in practice, this is taking somewhat longer than we had
hoped.  (jim hefferon is giving a paper at tug 2007 about his work in
the related area of automating uploads still further.)

i would concur with joachim that adding still further metadata to
packages, elsewhere, is a route to chaos.  however, there is no doubting
that the catalogue is a slow-moving object: it takes me more than a
month to complete a scan of the catalogue to check on a particular
issue.  which is not to say that we don't welcome suggestions; however,
given the work-load involved, we simply don't act on any suggestion
that's not thoroughly thought-through, and completely documented.

(fwiw, i'm currently thinking of a way that the catalogue can be used to
generate the by-topic index, automatically.  the basic idea is trivial,
but the details are really rather complicated.)

robin


From gnwiii at gmail.com  Mon Jul  2 14:35:51 2007
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 2 Jul 2007 09:35:51 -0300
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <87ved3f5sp.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
Message-ID: <22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>

On 7/2/07, Florent Rougon <f.rougon at free.fr> wrote:

> Norbert Preining <preining at logic.at> wrote:
>
> > On Mon, 02 Jul 2007, Florent Rougon wrote:
> >>   Each package (in the sense of CTAN package, not Debian) contains an
> >>   XML file that specifies the following:
> >
> > How will we ever get at this?
>
> Well, probably not, but I don't think it's a big problem:
>   - if package maintainers write their own metadata, well, that's great
>   - the most important packages (geometry, graphicx, etc.) will get
>     tagged in a reasonable timeframe by either their maintainer or by
>     volonteers (yeah, could be me, but preferably some LaTeX guru :).
>   - each package that is not tagged is simply not accessible through the
>     tag-based search or browsing facilities in the tool I'm thinking
>     about. We can still have an alphabetic classification and a poor
>     man's search that simply looks at package names. These packages are
>     just (much) less easy to find. If someone likes one of them and
>     finds it's too difficult to find, then he can tag it, dammit!
>
> Basically, the database need not be complete to be useful. Having only
> the "important" packages tagged would already be very helpful to users,
> I think.

Agreed.  TeX Live contains both "current best practice packages" and old,
not maintained,packages that are used by legacy documents.  Documenting
the latter is not so critical, since you can work back to the documentation
from the package or macro file if the legacy document has a problem.

> > Furthermore I would prefer *not* to have new stuff on CTAN.
>
> I'm not sure what the problem with "new stuff" is, but...

You have to be careful about generating more work for current maintainers
and more confusion for google users getting hits on files they don't understand,
e.g., when searching for "hyperref manual".

> > I would suggest to add this information in some way
> > to the TeX Catalogue
>
> That can be done. But then, the burden of tagging the packages relies on
> the shoulders of the sole catalogue maintainers, and I fear that this
> way, we cannot ever have any significant part of CTAN tagged (I'm not
> implying that the catalogue maintainers are lazy, rather that CTAN is
> huge).

The TeX Catalogue has a lot of the metadata, so it makes sense to look for
ways to leverage this effort.

> That's mainly why I wanted the metadata to be part of CTAN packages:
> careful package authors will tag their packages in a good way. That
> would make their packages easier to find without causing any additional
> work for the catalogue maintainers.

There are several ways to add tags:

1) preferred --  packages provide tag information according to some standards
that allow automated inclusion in the catalogue.

2) least effort -- generate some best guess defaults from information in the
catalogue (including "not yet tagged")

3) final resort -- for important packages, manually add tags when the
other 2 mechanisms have failed.

> If you really want the metadata to be part of the catalogue, there's
> still a way to have it updated "collectively": using a web interface or
> a custom network client. But doing it properly requires validation of
> the tagging by some devoted soul, so this is complex and requires quite
> some additional work. Besides, web interfaces are not my area; I am not
> volonteering to write anything like that. A custom client can easily be
> made portable to current systems, yes, but this is real work (well,
> actually, something like that already exists in debtags and the client
> sends "tag patches", but I'm not sure the client is portable enough and
> can be reused for cataloguing CTAN instead of Debian).
>
> > (where it belongs)
>
> Hmmm, depends on the POV. :)
>
> Yes, if you look at the current state of catalogue implementation, that
> is where it belongs. But you can't say it's not natural to have the
> metadata embedded in each package (basically, you're telling that we
> should upload our Debian packages without debian/control and then copy
> debian/control ourselves for each upload somewhere on
> ftp-master.debian.org. Ugh! :).

You have to work with packages as they come, the best you can do is:

1) encourage authors to include metadata (in a useful form) -- I suspect most
would be happy to fill in some template if they knew it would be used.

2) failing author-provided metadata, avoid creating multiple meta-data
repositories (duplication of effort, confusion when they diverge,
etc.)

> > Another problem is that sometimes packages on CTAN don't directly ship
> > documentation files, but they have to be created.
>
> Ah, that is indeed a problem I hadn't thought about. In these cases,
> what happens on the catalogue side?
>
>   (1) No doc is listed on the web interface.
>
> or
>
>   (2) The catalogue or CTAN maintainers build the doc themselves, store
>       it in CTAN and point to it from the catalogue.

The user will get the doc when they install the package -- the metadata just
needs to provide enough so they can judge whether it is worthwhile to install
the package.

> If (1), then we (TeX Live) are on our own and have to build the doc
> ourselves. I won't develop this case for now because this becomes a bit
> messy and have the impression that a better solution would be to enforce
> that each CTAN upload has the full documentation built. But if there are
> good reasons against this, I can devise solutions.

Again, you have to work with what you get -- no standards are enforced.

> If (2), then I think the CTAN package should be stored in what I'll call
> "definitive form" *with* its documentation, and the metadata (be it in
> the package or the catalogue) could then point to the various doc files
> present in the package. Then, we're back to square one and can follow my
> proposal.
>
> This has an important implication: that TeX Live adopts the same format
> for documentation as CTAN. Yes, I know this won't make everyone happy,
> but:
>
>   - I believe this is the simplest and cleanest way from the POV of
>     information structure (package/documentation/metadata);
>
>   - In many cases, there is an optimal format for a given documentation:
>     if there are figures, DVI is ruled out and we need either PS or PDF.
>     If there are links from one file to another, I believe PS is ruled
>     out too. Moreover, PDF files with the navigation table (hierarchical
>     bookmarks) on the left are far more convenient than PS files without
>     such a table for not-so-short doc files IMHO. So, you should be able
>     to guess my preferred format for most doc. :)
>
> > If we restrict ourselves to TeX Live we can use the
> >       docfiles
> > entry in the TeX Live database, but there are no tags on these files in
> > any way (and currently no way to tag them, but this can be changed).
>
> I believe it would be a shame to restrict ourselves to TeX Live, but if
> we don't adopt the same doc format as on CTAN, I think this will have to
> happen.
>
> > If we have to tag all the stuff that would be impossible. OTOH we cannot
> > urge the package writers to write some tag specification.

If there is a template and some information showing how and why the
data will be useful some authors will provide it, but certainly you have to
deal with cases where it is not provided or is somehow broken.

> As said previously, the database need not be complete to be useful...

It will be more useful if it can be trusted to include important widely used
packages and offers fallbacks.

> > Furthermore there are those packages which are not supported anymore,
> > i.e., no one is responsible for them.
>
> These can be tagged! You can then trivially avoid cluttering your search
> with obsolete packages.
>
> Unmaintained packages are a slightly different case. Often, you will
> prefer a maintained package to an unmaintained one providing the same
> functionality, but that is not always the case. So, in this case, the
> tag is not necessarily used as a binary filter, but can be used as a
> hint among others helping the user make his choice.
>
> > One way out of this dilemma I see is:
> > - we migrate the CTAN upload procedure to the experimental one currently
> >   in testing phase
>
> Sorry, I don't know what this experimental procedure consists of.
>
> > - we encourage package writers at upload time to add some tags (drop
> >   down lists, checkboxes, whatever)

Better to have a one-time mechanism where the tag information is included
once and the author doesn't have to do anything more unless there is a
major change in the package status.   I'd suggest a special line in the
README file for the author's tags (while still allowing ctan2tl, etc.
to add more tags).

> Yes, that can be done. But I have the impression you're seeing it as a
> web interface, and I repeat I'm not the one who will code it. That said,
> I'm not opposed to such an interface, if done correctly.
>
> > - documentation files could be gathered automatically from the ctan2tl
> >   script which would be executed in the background
>
> I suppose this is the magic script that will be able to tell me where
> each doc file is installed. OK. What we need is:
>
>   - installation path for each file;
>
>   - the CTAN package it belongs to;
>
>   - ideally, some way to link each file to its metadata, so that we can
>     know the language each doc file is written in and can tell when a
>     file is an index (entry point) in the list of doc files installed by
>     a package.
>
>     As said above, this should be easy to do if the files installed are
>     the same as in the (definitive) CTAN packages, because then the
>     metadata can be part of the catalogue or of the CTAN package;
>     otherwise (e.g., if CTAN has no doc or the doc in other formats),
>     matching the metadata from CTAN with the files installed in TL
>     becomes messy IMO.

Messy, but but unavoidable.  I think CTAN gets whatever an author wants
to provide, so it is up to each distribution to create missing doc files
in the preferred format for the distro.

> > This way slowly stuff would get tagged, and for old packages one of us
> > would have to take the work to go through them.
>
> Well, I don't think some volonteer will ever tag the whole CTAN. Too
> much boring work. A set of volonteers could probably, yes, but it is
> more likely that old unmaintained packages will remain untagged. That
> said, it is not a regression from the current state, and I don't think
> it's a real problem. Obsolete/obscure packages are more difficult to
> find[1], so what?...

Some heuristics can be applied to generate default tags using the information
that is readily available (one tag can indicate that only default tags were
applied).

> As far as TL (as opposed to CTAN) is concerned, that might be a bit
> different, as the number of packages is, I think, more manageable. But
> probably the same will happen (obsolete/obscure packages untagged, at
> least during the first years), just on a smaller scale.

If you start with TL you will be accomplishing something important in making
TL a viable successor to teTeX, which had advantages of a more uniform
platform and fewer packages.

There needs to be some thought for integrating local packages.   With tetex,
some administrator just copied files to the local texmf tree.  It is
getting to the point where (with lots of linux workstations, many
controlled by users with only vague understanding of texmf trees) we
need a way to create local packages that can be installed/removed
using the TL tools.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From lionel at mamane.lu  Mon Jul  2 12:49:43 2007
From: lionel at mamane.lu (Lionel Elie Mamane)
Date: Mon, 2 Jul 2007 12:49:43 +0200
Subject: [tex-live] Patches for dvidvi
Message-ID: <20070702104943.GA24755@capsaicin.mamane.lu>

Hi,

I am the maintainer of the Debian package of dvidvi. As you probably
know, Debian recently switched to TeXLive from teTeX, and TeXLive
contains its own dvidvi. I am writing to you because the dvidvi in
Debian contains patches (by, among others, Benjamin Bayart) for
various improvements. I thought you'd like to integrate them in
TeXLive. Here a few extracts from the changelog of the Debian package
of dvidvi:

 * Integrate patch by Benjamin Bayart to take into account PostScript
   inclusion \special's in the first page even if the first page is
   not kept in the final result. Fixes handling of dvi files making
   use of PStricks or colour or other advanced PostScript features.

 * dvidvi.c (stringdvibuf): Fix "unexpected eof" error on some big
   files; thanks to Benjamin BAYART for the patch.  Closes: #231275.

 * Make the C code warning-free.

The Debian package also contains a Unix version of a5booklet, which
TeXLive seems to be missing. The code changes in Debian are naturally
untested on non-Unix (or non-modern Unix) platforms.

On the other hand, the version in TeXLive contains other changes
compared to the version the one in Debian is based on. In particular:

 - it has version number 1.1 instead of 1.0

 - accepts command line switches -j and -p.


The changes in Debian (wrt to version 1.0) can be found at
http://people.debian.org/~lmamane/dvidvi/dvidvi_1.0-8etch2.abridged.diff
and my try at merging the changes in TeXLive (wrt 1.0) and in Debian at
http://people.debian.org/~lmamane/dvidvi/dvidvi.merged.c .


(I am not subscribed to any of the two mailing lists, please CC me on
replies. Thanks.)


-- 
Lionel

From lionel at mamane.lu  Mon Jul  2 14:18:54 2007
From: lionel at mamane.lu (Lionel Elie Mamane)
Date: Mon, 2 Jul 2007 14:18:54 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <20070702114206.GC21042@gamma.logic.tuwien.ac.at>
References: <20070702104943.GA24755@capsaicin.mamane.lu>
	<20070702114206.GC21042@gamma.logic.tuwien.ac.at>
Message-ID: <20070702121854.GC25043@capsaicin.mamane.lu>

On Mon, Jul 02, 2007 at 01:42:06PM +0200, Norbert Preining wrote:
> On Mon, 02 Jul 2007, Lionel Elie Mamane wrote:

>> I am the maintainer of the Debian package of dvidvi. As you
>> probably know, Debian recently switched to TeXLive from teTeX, and
>> TeXLive

> Thanks for contacting us. To be honest I had it on my TODO list
> since a long time to get into contact with you because of this
> duplication. I wanted to leave out dvidvi from the DEBIAN TeX Live
> packages and instead depend on your packages, but then I saw what
> you mentioned, that TL has version 1.1, accepts other command line
> switches etc.

Well, after the discussion in Debian bug #411537, the temporary
situation (meant for etch, until I contacted the TeX Live list) was
that: texlive-* does not contain dvidvi, but texlive-extra-utils
recommends (my package) dvidvi.

I realise now that the 2007 packages (in unstable) don't recommend
dvidvi anymore, but don't ship dvidvi either. I don't see anything
that mentions something about that in the changelog.

> (putting TeX Live Developer hat on)

> I don't know about the maintainer status of dvidvi, is it actively
> maintained, and if yes, where?

I don't think it is. dvidvi has been in Debian for nearly a decade
(since October 1997) and no upstream change is known since
then. http://www.ctan.org/tex-archive/dviware/dvidvi/ suggests that
1.0 version is even as old as 1994. Its history seems to be that every
version is released by a _different_ upstream:

 - Tomas Rokicki: 0.5 in July 1992 at the latest
 - Esteban Zimanyi: 1.0 in 1994 at the latest
 - Markus Kohm: 1.1 in 1994 at the latest

-- 
Lionel

From preining at logic.at  Mon Jul  2 15:34:41 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 15:34:41 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <20070702121854.GC25043@capsaicin.mamane.lu>
References: <20070702104943.GA24755@capsaicin.mamane.lu>
	<20070702114206.GC21042@gamma.logic.tuwien.ac.at>
	<20070702121854.GC25043@capsaicin.mamane.lu>
Message-ID: <20070702133441.GB8424@gamma.logic.tuwien.ac.at>

Hi Lionel,

On Mon, 02 Jul 2007, Lionel Elie Mamane wrote:
> > I don't know about the maintainer status of dvidvi, is it actively
> > maintained, and if yes, where?
> 
> I don't think it is. dvidvi has been in Debian for nearly a decade
> (since October 1997) and no upstream change is known since
> then. http://www.ctan.org/tex-archive/dviware/dvidvi/ suggests that
> 1.0 version is even as old as 1994. Its history seems to be that every
> version is released by a _different_ upstream:
> 
>  - Tomas Rokicki: 0.5 in July 1992 at the latest
>  - Esteban Zimanyi: 1.0 in 1994 at the latest
>  - Markus Kohm: 1.1 in 1994 at the latest

So this means AFAIS that TeX Live *IS* upstream. If we just feed in the
changes and make sure that they compile on all arch/os combinations then
we are gone. Right?

Karl???

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DUNCRAGGON (n.)
The name of Charles Bronson's retirement cottage.
			--- Douglas Adams, The Meaning of Liff

From f.rougon at free.fr  Mon Jul  2 15:43:33 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 15:43:33 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <10684.1183377857@mole.cl.cam.ac.uk> (Robin Fairbairns's message
	of "Mon, 02 Jul 2007 13:04:17 +0100")
References: <10684.1183377857@mole.cl.cam.ac.uk>
Message-ID: <87d4zadipm.fsf@florent.maison>

Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> in the ones not marked, we rely on a default attribute.

Well, I can assume that every document that has no 'language' attribute
is written in English.

>> Do you have some way to specify that one of the files is an entry point
>> for the whole documentation? I think that would be nice.
>
> no.

"No, we don't have that", or "No, that woudn't be nice"? :)

> i spend an inordinate amount of my (otherwise) free time scanning for
> these things; if i find a *.doc file that's actually plain text, i
> simply rename it -- the author's original wishes are probably irrelevant
> in today's world, where "microcruft knows best".

I see. Then, at least until a specific attribute is added to the DTD, I
believe we can more or less rely on the extension to identify the type
of a file with the following algorithm:
  - for known extensions ({pdf,ps,dvi,doc}.{gz,bz2,lzma}), this is
    straightforward[1];
  - anything else ending in .gz, .bz2 or .lzma is assumed to be
    compressed plain text.
  - anything else is assumed to be raw plain text.

> the problem is that unless one forces such things, m* is going to fall
> in a little heap on the floor, twitching quietly.  a text attribute
> would be good (though it would of course also require an encoding
> attribute -- there are lots of non-ascii iso-646 national variants, as
> well as myriad m$ code pages, in use on the archive, and to first order,
> there's no way of working out what these things are, other than simply
> guessing.

Yes, this is non-trivial. If you add an encoding attribute, I'll try to
make use of it on Unix through the locales mechanism, otherwise I
believe leaving this unadressed is acceptable in first approximation
(the majority of text files are encoded in ASCII).

>> Given the objection raised by README.en, I think a "type" attribute
>> that is used at least for text files would be desirable. Looking at
>> 
>>   <documentation href='ctan:/fonts/micropress/hvmath/hvmath.txt'/>
>> 
>> from hvmath-fonts.xml, it seems you don't already do that.
>
> we don't have such a thing in the catalogue dtd, so it can't be done.
> yet.

OK, that would be nice to have, but is not a must, since the algorithm
described above should be able to determine the correct type in most
cases, I think.

>> Another thing I'm missing is a way to map paths such as:
>> 
>>   ctan:/macros/latex/contrib/hyperref/README
>> 
>> to paths in the installed TL distro. But I think Norbert has the answer
>> to this question or can put it in the infrastructure scripts.
>
> i thought that's what david kastrup's script does.  (since my suggestion
> of writing another different target for catalogue html generation
> received no support at all, i assumed that was the reason.)

If your target will reliably write the path of each doc file as
installed in TL, this is exactly what I'd like to have (with a way to
map each installed file to the CTAN package it belongs to).

David Kastrup's script, AFAIU, is a "cheap" way to correct in *many or
most* cases the HTML files we have now, but it uses an heuristic
approach. David will correct me if I'm wrong, but basically, it it finds
a broken link to a file, it will look for a file in the installed TL
tree with the same name and the longest matching suffix possible (this
is to avoid confusing hyperref/manual.pdf with foobar/manual.pdf).

Though having this script is clearly better than not having it, I prefer
for the long term a deterministic approach where the installation path
of each file is determined reliably by whatever tool performs the
installation.

Moreover, it would be extremely ugly and painful for my program to have
to parse the catalogue HTML files in order to find the installation path
for each doc file and the corresponding package. I'd very much prefer be
provided with a simple file that tells me, for each CTAN package, the
path of each doc file as installed in TL. And I think Norbert can
provide me with that.

Even better would be if this file could carry with it the metadata about
each doc file, so that I could easily take advantage of the 'language'
attribute and possible extensions such as 'type' and 'index' (the latter
being the one that tells "this file is an entry point for the package
documentation").

> there is no problem in principle.  author-provided metadata is a
> medium-term aim; in practice, this is taking somewhat longer than we had
> hoped.  (jim hefferon is giving a paper at tug 2007 about his work in
> the related area of automating uploads still further.)

OK, that's good.

> i would concur with joachim that adding still further metadata to
> packages, elsewhere, is a route to chaos.  however, there is no doubting
> that the catalogue is a slow-moving object: it takes me more than a
> month to complete a scan of the catalogue to check on a particular
> issue.  which is not to say that we don't welcome suggestions; however,
> given the work-load involved, we simply don't act on any suggestion
> that's not thoroughly thought-through, and completely documented.

OK, I only asked for 'index' and 'type', since 'language' is already
there, but as explained in this mail, I could live without them (I can
guess 'type'; for 'index', the user will simply not have the feature
available, but this is not very important).

> (fwiw, i'm currently thinking of a way that the catalogue can be used to
> generate the by-topic index, automatically.  the basic idea is trivial,
> but the details are really rather complicated.)

If we implement the tags stuff, then you could have a topic (tag) for
fonts, one for maths, etc., and they wouldn't be mutually exclusive: for
instance, a package, such as fourier, providing a math font, could be
found under *both* topics.

Regards,


  [1] No, this doesn't mean I encourage compressing PDF files, just that
      it's easy to add simple support for them. Yes, such simple support
      will break with PDF-to-PDF links, that's the price to pay for
      people compressing their PDF files.

-- 
Florent

From preining at logic.at  Mon Jul  2 16:23:08 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 16:23:08 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <11984.1183384677@mole.cl.cam.ac.uk>
References: <20070702133441.GB8424@gamma.logic.tuwien.ac.at>
	<11984.1183384677@mole.cl.cam.ac.uk>
Message-ID: <20070702142308.GC8424@gamma.logic.tuwien.ac.at>

On Mon, 02 Jul 2007, Robin Fairbairns wrote:
> > >  - Markus Kohm: 1.1 in 1994 at the latest
> > 
> > So this means AFAIS that TeX Live *IS* upstream. If we just feed in the
> > changes and make sure that they compile on all arch/os combinations then
> > we are gone. Right?
> > 
> > Karl???
> 
> karl generally says that tex-live is downstream from ctan.
> 
> however, if the author(s) don't want to put stuff on ctan, it's not
> clear to me what the rules are.

What I wanted to say is that since it seems that there is no upstream,
we at TeX Live are caring for that the stuff still compiles, fits into
TeX Live etc. In this sense upstream.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
AITH (n.)
The single bristle that sticks out sideways on a cheap paintbrush.
			--- Douglas Adams, The Meaning of Liff

From Robin.Fairbairns at cl.cam.ac.uk  Mon Jul  2 16:25:14 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 02 Jul 2007 15:25:14 +0100
Subject: [tex-live] Patches for dvidvi
In-Reply-To: Your message of Mon, 02 Jul 2007 16:23:08 +0200.
	<20070702142308.GC8424@gamma.logic.tuwien.ac.at> 
Message-ID: <12424.1183386314@mole.cl.cam.ac.uk>

Norbert Preining <preining at logic.at> wrote:

> On Mon, 02 Jul 2007, Robin Fairbairns wrote:
> > > >  - Markus Kohm: 1.1 in 1994 at the latest
> > > 
> > > So this means AFAIS that TeX Live *IS* upstream. If we just feed in the
> > > changes and make sure that they compile on all arch/os combinations then
> > > we are gone. Right?
> > > 
> > > Karl???
> > 
> > karl generally says that tex-live is downstream from ctan.
> > 
> > however, if the author(s) don't want to put stuff on ctan, it's not
> > clear to me what the rules are.
> 
> What I wanted to say is that since it seems that there is no upstream,
> we at TeX Live are caring for that the stuff still compiles, fits into
> TeX Live etc. In this sense upstream.

but we shouldn't expect a copy of the updated package, except as part of
texlive?

should we delete dviware/dvidvi now?

From gnwiii at gmail.com  Mon Jul  2 16:30:24 2007
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 2 Jul 2007 11:30:24 -0300
Subject: [tex-live] Improving or rewriting texdoctk
In-Reply-To: <87tzsogg24.fsf_-_@florent.maison>
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<87d4zdbeee.fsf@florent.maison>
	<87fy4948qc.fsf@riesling.zuerich.kuesterei.ch>
	<87tzsogg24.fsf_-_@florent.maison>
Message-ID: <22af238a0707020730k3b1fcfe7u37c6b2d6daafe6b4@mail.gmail.com>

On 7/1/07, Florent Rougon <f.rougon at free.fr> wrote:


> The problems with the trivial approach (as opposed to the debtags route)
> are the following:
>
>   - a simple static hierarchical classification as currently implemented
>     in texdoctk is never completely satisfactory: when writing the
>     metadata for packages, we (ideally upstream authors) will have to
>     find the proper category, and sometimes:
>       * there are several relevant categories;
>       * or there is no appropriate category.

It can be useful to beginners as a guide to the most important documents
and their relationships.

>   - if all the documents in TL are referenced this way, I think we'll
>     end up with either of these problems:
>       * too many categories to be usable (imagine starting texdoctk and
>         having 50 categories or so to choose from);
>       * some categories will have too many documents in them to be
>         conveniently browsable.
>
> That's why I was thinking of implementing a debtags-like approach, which
> could actually be used to classify LaTeX packages, not only their
> documentation (it would be ridiculous to have an excellent way to
> classify and browse LaTeX documentation and no corresponding way to
> browse through the packages, since there is most of the time a very
> clear relationship between one package and one or more doc files).
>
>   [1] http://debtags.alioth.debian.org/

There are a number of fallbacks beyond texdoc and texdoctk -- printed
books (The Latex Companion, 2nd ed), the online catalog, google, local
search (beagle, namazu, etc.).   From my perspective, new users often
find obsolete information that causes problems (the first two links for a
google of "latex eps figure" point to epsfig and epsf).

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From f.rougon at free.fr  Mon Jul  2 16:54:10 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 16:54:10 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <20070702113441.GB21042@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Mon, 2 Jul 2007 13:34:41 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
Message-ID: <873b06dffx.fsf@florent.maison>

Norbert Preining <preining at logic.at> wrote:

> The problem is that if one of us writes a meta data file for a package
> because the maintainer does not do it, and we put it on
> CTAN/macros/foobar, and there is a new release, then normally all the
> files are replaced there, so it might happen quite easy that the tagging
> gets lost.

One way out of this is to write the metadata in the "override files" on
a tug server. Then, the data cannot get lost and you get the additional
benefit that you know it was written by "one of us", so could reasonably
be trusted.

For those not familiar with the concept of "override file" (which we use
in Debian), it is a file (for CTAN, maybe one file per package would be
better) that sits in a well-known place on the central servers (e.g.,
tug.org) and always overrides what the package maintainer provided in
his upload.

When a package is uploaded for the first time, there is no override for
this package yet: the ftp-masters (here, CTAN team) have to check the
metadata for correctness. When done, they approve the info by putting it
into the override file. When another version of the package is uploaded,
there are two possibilities:

  - either the metadata didn't change -> nothing to do;

  - or it did and the ftp-masters have to approve it before the upload
    ends up in the archive; if they agree, they update the override
    file; otherwise, they tell the maintainer about the disagreement and
    are supposed at this point to contact him privately in order to come
    to an agreement (another possibility being to ignore the
    maintainer...).

Of course, this can be adapted for TL, in particular if the new upload
infrastructure allows you to identify that the person uploading the
package is its current maintainer, or someone from a trusted group. In
this case, you could decide to bindly trust the metadata and update the
override file accordingly. This is a only matter of policy and I'm not
the right person to define this policy.

> You are right, I see your point, and I agree that this would be the best
> solution. But this is something we should discuss with:
> - the CTAN team
> - the TeX Live team
> - probably on the c.t.t. mailing list?

I have the impression that this ML is the right place for TeX Live and
that some people from the CTAN team are already participating, but maybe
that's not enough.

> Anyone here has an opinion for that?

We could invite people on c.t.t. do join the discussion, but that could
become messy, dunno. Another possibility is to devise a proposal here
and then post to c.t.t. for comments, objections, etc.

>> If (1), then we (TeX Live) are on our own and have to build the doc
>> ourselves. I won't develop this case for now because this becomes a bit
>
> This is already done for many packages, see ctan2tl script, and below
> ;-)

Grrrmpf. OK. I can propose a solution anyway.

With most of our current documentation formats, there is a trivial one
to one mapping between the files:

  foo.dvi <-> foo.ps <-> foo.pdf

There are two tricky exceptions AFAICS: Info and HTML formats. Here,
there isn't always a one to one mapping between foo.dvi and the various
HTML or Info files. *But* there is always an index file in these
formats. So, all I need is that your TL-installation provided data
points to the index file. The rest will be done by the Info or HTML
browser.

Example
~~~~~~~

CTAN ships package foo with author-provided HTML user guide like
this:

    index.html
    foo-1.html
    foo-2.html
    foo-3.html

and additionally a FAQ in text format, foo-faq.txt.

TL or MiKTeX decides that HTML documentation sucks and instead wants to
build and ship foo.pdf. OK, no problem. The metadata on CTAN should look
like that:

  <entry>

    [...]

    <tag>
      field::mathematics
    </tag>

    <tag>
      macropackage::latex
    </tag>

    <documentation details='Foo User Guide' language='en'
                   href='ctan:/macros/latex/contrib/foo/doc/index.html'/>
  
    <documentation details='Foo Frequently Asked Questions' language='en'
                   href='ctan:/macros/latex/contrib/foo/doc/foo-faq.txt'/>

  </entry>

>From this metadata, your ctan2tl script would generate for me a file
containing something like that:

  <package name="foo">

    <tag>
      field::mathematics
    </tag>

    <tag>
      macropackage::latex
    </tag>

    <documentation details='Foo User Guide' language='en'
                   path='/usr/share/texmf-texlive/doc/foo/foo.pdf'/>
    <documentation details='Foo Frequently Asked Questions'
                   language='en'
                   path='/usr/share/texmf-texlive/doc/foo/foo-faq.txt'/>
  </package>

  <package name="geometry">

  [...]

  </package>

  etc.

i.e., the main difference is that your file provides me with the
installation path for each doc file (and also that it compiles the
information for all packages, but that's a minor detail and not
necessary).

With this, I can do everything: I have the set of tags for each package:
therefore, I can offer a nice way to find a package given a set of
criteria. When the package is chosen, I can list its documentation files
with a nice short description for each of them, filter the accepted
languages, fire the appropriate viewer, etc.

At first, I had added an id='foo-guide' attribute in each "document"
element, but it seems it isn't even needed. That would be nice from a
theoretical POV, but if it's a problem for CTAN maintainers, we don't
really need it.

[ But maybe it would make your ctan2tl script easier. In fact, at first,
  I wanted to use such an id to make the link from the TL-installed
  provided file to the CTAN metadata in order to find the language
  attribute for each document, for instance. This is because I didn't
  intend to have all the metadata in the TL-installed provided file, but
  only the id and the path for each installed document.

  But it seems easier if your ctan2l script just copies all the metadata
  as shown in the example; then, it is trivially equivalent to get the
  metadata from locally-installed packages in /usr/local/share/texmf,
  etc., which should answer a question from George N. White III. ]

> Ok, Jim Hefferon from the CTAN team presented on the EuroBachoTeX
> conference an experimental CTAN upload process via a web interface. Main
> points of this was that authors not only upload stuff, but also can
> edit the metadata as present in the catalogue. 

Very good.

> Most important we try to build a TDS package of what is uploaded, so
> that people can download a TDS ready package from CTAN. This is done in
> a horrible perl script called ctan2tl which was developed for TeX Live
> inclusion. We are working on this to update it for new packages, but
> of course it still does not work for all.

A lot of work, for sure...

> Of course this script *has* knowledge of documentation files, because
> everything what is left in texmf-dist/doc/... is a documentation file
> then. 

Good for me. :)

> But nothing of tagging etc.

This can be derived from the CTAN metadata.

> Actually no, everything which is on CTAN and free is (with exceptions)
> included in TL. So TL *is* CTAN in this sense, or better 
> 	TL = ctan2tl(CTAN) + some magic;
> (would be nice if it once will work ;-)

I didn't want to believe TL was so big. :)

-- 
Florent

From Robin.Fairbairns at cl.cam.ac.uk  Mon Jul  2 15:57:57 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 02 Jul 2007 14:57:57 +0100
Subject: [tex-live] Patches for dvidvi
In-Reply-To: Your message of Mon, 02 Jul 2007 15:34:41 +0200.
	<20070702133441.GB8424@gamma.logic.tuwien.ac.at> 
Message-ID: <11984.1183384677@mole.cl.cam.ac.uk>

Norbert Preining <preining at logic.at> wrote:

> On Mon, 02 Jul 2007, Lionel Elie Mamane wrote:
> > > I don't know about the maintainer status of dvidvi, is it actively
> > > maintained, and if yes, where?
> > 
> > I don't think it is. dvidvi has been in Debian for nearly a decade
> > (since October 1997) and no upstream change is known since
> > then. http://www.ctan.org/tex-archive/dviware/dvidvi/ suggests that
> > 1.0 version is even as old as 1994. Its history seems to be that every
> > version is released by a _different_ upstream:
> > 
> >  - Tomas Rokicki: 0.5 in July 1992 at the latest
> >  - Esteban Zimanyi: 1.0 in 1994 at the latest
> >  - Markus Kohm: 1.1 in 1994 at the latest
> 
> So this means AFAIS that TeX Live *IS* upstream. If we just feed in the
> changes and make sure that they compile on all arch/os combinations then
> we are gone. Right?
> 
> Karl???

karl generally says that tex-live is downstream from ctan.

however, if the author(s) don't want to put stuff on ctan, it's not
clear to me what the rules are.

r

From f.rougon at free.fr  Mon Jul  2 17:46:12 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 02 Jul 2007 17:46:12 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
	(George N. White, III's message of "Mon, 2 Jul 2007 09:35:51 -0300")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
Message-ID: <87tzsmbygr.fsf@florent.maison>

Hi,

"George N. White III" <gnwiii at gmail.com> wrote:

>> > Furthermore I would prefer *not* to have new stuff on CTAN.
>>
>> I'm not sure what the problem with "new stuff" is, but...
>
> You have to be careful about generating more work for current
> maintainers and more confusion for google users getting hits on files
> they don't understand, e.g., when searching for "hyperref manual".

What do you mean? Surely, I don't intend to hijack hyperref... I would
like the metadata to either be part of "definitive packages" on CTAN, or
of the catalogue.

The downside when it is in the catalogue is that it isn't accessible to
packages not yet in CTAN: packages that you would install in /usr/local
for instance. OTOH, if there is a known place in the TDS to put the
metadata of each package, then such third-party packages can be
trivially found by the tool I'm thinking about if installed properly.

There would be for instance

  /usr/share/texmf/metadata/g/geometry.xml
  /usr/share/texmf/metadata/h/hyperref.xml
  etc.

and each of each of these files would contain relative paths from the
base of the TEXMF tree (here, /usr/share/texmf/) for each documentation
file belonging to the package.

This is a slight modification of the proposal I made to Norbert in
<873b06dffx.fsf at florent.maison>, where we don't put all the metadata in
one big file generated by the TL install scripts, but instead the
metadata is put in the relevant TEXMF trees and in separate files, to
ease the installation of individual packages (of course, I could rather
easily generate such files from the big file I mentioned in the previous
mail...).

This way, you can also have:

  /usr/local/share/texmf/metadata/m/mypackage.xml

containing paths relative to /usr/local/share/texmf, and that would
allow mypackage to automatically register itself with the
cataloguing/documentation system I'm proposing here.

> You have to work with packages as they come, the best you can do is:
>
> 1) encourage authors to include metadata (in a useful form) -- I suspect most
> would be happy to fill in some template if they knew it would be used.

Yup.

> 2) failing author-provided metadata, avoid creating multiple meta-data
> repositories (duplication of effort, confusion when they diverge,
> etc.)

Depending on what the CTAN maintainers think, it may be acceptable to
have only one authoritative repository containing the "override files",
and update it whenever there is a warranted change in the metadata
provided by the package maintainer, as I described in
<873b06dffx.fsf at florent.maison>.

>> If (1), then we (TeX Live) are on our own and have to build the doc
>> ourselves. I won't develop this case for now because this becomes a bit
>> messy and have the impression that a better solution would be to enforce
>> that each CTAN upload has the full documentation built. But if there are
>> good reasons against this, I can devise solutions.
>
> Again, you have to work with what you get -- no standards are enforced.

I believe I addressed this case in <873b06dffx.fsf at florent.maison>
(which can be amended by the per-TEXMF-tree structure mentioned at the
beginning of this mail).

> If there is a template and some information showing how and why the
> data will be useful some authors will provide it, but certainly you have to
> deal with cases where it is not provided or is somehow broken.

Yup, either we accept the risk of bad metadata, or we use a mechanism
such as "override files".

>> As said previously, the database need not be complete to be useful...
>
> It will be more useful if it can be trusted to include important widely used
> packages and offers fallbacks.

For important packages: sure, the metadata can be added easily. For the
fallbacks, frankly, I don't think we need more than a poor man's search
on package names or something like that. But that can be refined.

Anyway, my opinion is that it's better to have a not-yet-tagged package
than a package badly tagged by an automatic process.

> Better to have a one-time mechanism where the tag information is included
> once and the author doesn't have to do anything more unless there is a
> major change in the package status.   I'd suggest a special line in the
> README file for the author's tags (while still allowing ctan2tl, etc.
> to add more tags).

Ugh, that's awful. :-P

The catalogue is already based on XML; I think that if we add structured
data such as the metadata mentioned here, we should continue this way.

> Messy, but but unavoidable.  I think CTAN gets whatever an author wants
> to provide, so it is up to each distribution to create missing doc files
> in the preferred format for the distro.

Addressed in <873b06dffx.fsf at florent.maison> with the per-TEXMF-tree
amendment from this mail.

> Some heuristics can be applied to generate default tags using the information
> that is readily available (one tag can indicate that only default tags were
> applied).

I don't much like the idea of default tags. debtags uses a
"special::not-yet-tagged" tag for not yet tagged packages, and I think
this is fine.

> There needs to be some thought for integrating local packages.   With tetex,
> some administrator just copied files to the local texmf tree.  It is
> getting to the point where (with lots of linux workstations, many
> controlled by users with only vague understanding of texmf trees) we
> need a way to create local packages that can be installed/removed
> using the TL tools.

With the proposal at the beginning of this mail, you can easily register
your locally-installed packages.

Regards,

-- 
Florent

From preining at logic.at  Mon Jul  2 18:28:47 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 18:28:47 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <12424.1183386314@mole.cl.cam.ac.uk>
References: <20070702142308.GC8424@gamma.logic.tuwien.ac.at>
	<12424.1183386314@mole.cl.cam.ac.uk>
Message-ID: <20070702162847.GA28153@gamma.logic.tuwien.ac.at>

On Mon, 02 Jul 2007, Robin Fairbairns wrote:
> > What I wanted to say is that since it seems that there is no upstream,
> > we at TeX Live are caring for that the stuff still compiles, fits into
> > TeX Live etc. In this sense upstream.
> 
> but we shouldn't expect a copy of the updated package, except as part of
> texlive?
> 
> should we delete dviware/dvidvi now?

Why? Hmm I seem to misunderstand your english, I don't see a reason to
remove it.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
Out of memory.
We wish to hold the whole sky,
But we never will.
                       --- Windows Error Haiku

From jschrod at acm.org  Mon Jul  2 17:27:26 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Mon, 02 Jul 2007 17:27:26 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
 associated documentaion
In-Reply-To: <87ved3f5sp.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net>
	<87abufhiyf.fsf@florent.maison>	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
Message-ID: <f6b5gu$s7e$1@sea.gmane.org>

Florent Rougon wrote:
> 
> Well, probably not, but I don't think it's a big problem:
>   - if package maintainers write their own metadata, well, that's great

Sadly, Your assumption does not fit reality. Even the few authors 
who tried to submit TeX catalogue files got it mostly wrong. For 
many submissions, one even has to ask for READMEs and PDF 
documentation files.

>   - the most important packages (geometry, graphicx, etc.) will get
>     tagged in a reasonable timeframe by either their maintainer or by
>     volonteers (yeah, could be me, but preferably some LaTeX guru :).

I am *very* sceptical that you will find gurus that will help in 
tagging packages. Otherwise the Catalogue would not be maintained 
by just a handful of persons (and Robin does 80% of the work there 
singlehandedly), such gurus would give a hand there, too.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From preining at logic.at  Mon Jul  2 19:21:56 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 19:21:56 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <87tzsmbygr.fsf@florent.maison> <873b06dffx.fsf@florent.maison>
	<87d4zadipm.fsf@florent.maison>
References: <22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
	<87tzsmbygr.fsf@florent.maison> <200706301759.l5UHxAN21701@f7.net>
	<87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
Message-ID: <20070702172156.GC28153@gamma.logic.tuwien.ac.at>

Hi all,

puhhh, many thing are floating around. In fact it would be nice to
discuss all this stuff in person, which would make it much easier!

On Mon, 02 Jul 2007, Florent Rougon wrote:
> for each doc file and the corresponding package. I'd very much prefer be
> provided with a simple file that tells me, for each CTAN package, the
> path of each doc file as installed in TL. And I think Norbert can
> provide me with that.

Well, this should work already now more or less, at least for those
packages where we know the TeX Live name <-> TeX Catalogue name
translation. Let's put it this way, the Catalogue has a field
	<texlive location='foobar'>
which gives the respective TLPOBJ (ex tpm) to which is corresponds.
Unfortunately we don't have a back mapping built into TeX Live, or at
least only partly into the ctan2tl script. All this could be simplified
in some way (but who? is writing all the code!).

So in principle we can do:
	CTAN package -> get texlive location ->
	-> get TLPOBJ from texlive.tlpdb -> get docfiles from this
I can write you a perl script in 3 minutes that does this. (spits out
list of files, nothing else)

> Even better would be if this file could carry with it the metadata about
> each doc file, so that I could easily take advantage of the 'language'

Well, I guess I have to write a Perl Module for accessing the TeX
Catalogue Data. That would be much needed anyway since our TLP Source
files now contain *absolutely* the minimals, no descriptions etc, this
should all be taken from the Catalogue at TeX Live Database update time.

Maybe tomorrow ;-) With this access module it should be easy to extract
information from the catalogue.

Florent, can you send me what you want? Ie format of the output:
Something like
	$ get-florent-stuff "ctan package name"
	...
	format of return stuff to be specified
	...
and I can write a perl script doing this (after I wrote the Perl module
for the catalogue. Ohhh how i HOPED to get rid of XML when I changed the
infra structure of TeX Live to use plain text files, it is sooo much
simpler to handle).

> I have the impression that this ML is the right place for TeX Live and
> that some people from the CTAN team are already participating, but maybe
> that's not enough.

I was most scared that we discuss something without the input of CTAN
people. Doing anything without the CTAN is completely useless, because
they are so included in the whole procedure ...

> We could invite people on c.t.t. do join the discussion, but that could
> become messy, dunno. Another possibility is to devise a proposal here
> and then post to c.t.t. for comments, objections, etc.

No, you are right, it will get a mess. Those interested are already
here. Maybe the Catalogue and the CTAN people can invite some more. 

> > This is already done for many packages, see ctan2tl script, and below
> > ;-)
> 
> Grrrmpf. OK. I can propose a solution anyway.

Shouldn't you be happy ;-)

>     <tag>
>       field::mathematics
>     </tag>
> 
>     <tag>
>       macropackage::latex
>     </tag>
> 
>     <documentation details='Foo User Guide' language='en'
>                    href='ctan:/macros/latex/contrib/foo/doc/index.html'/>
>   
>     <documentation details='Foo Frequently Asked Questions' language='en'
>                    href='ctan:/macros/latex/contrib/foo/doc/foo-faq.txt'/>
> 
>   </entry>
> 
> >From this metadata, your ctan2tl script would generate for me a file
> containing something like that:

Actually I would prefer to keep the ctan2tl clean from this, it is
already TOO complicated to actually be read.

All the information *is* present in the texlive.tlpdb, the TeX Live
Database. From this and the Catalogue data we can generate whatever you
want, see above.

> > inclusion. We are working on this to update it for new packages, but
> > of course it still does not work for all.
> 
> A lot of work, for sure...

And in need of a *good* programmer like you to help a bit ;-))))

On Mon, 02 Jul 2007, Florent Rougon wrote:
> The downside when it is in the catalogue is that it isn't accessible to
> packages not yet in CTAN: packages that you would install in /usr/local
> for instance. OTOH, if there is a known place in the TDS to put the
> metadata of each package, then such third-party packages can be
> trivially found by the tool I'm thinking about if installed properly.
> 
> There would be for instance
> 
>   /usr/share/texmf/metadata/g/geometry.xml
>   /usr/share/texmf/metadata/h/hyperref.xml
>   etc.

Well, we dicussed this for quite some time when we rewrote the TeX Live
infrastructure. We had this TPM file, and of course those could be
enrichted with other information. Out of various reasons we wanted to
separate real content from generated content, and NOT to have 2000+
separate files (the installers had problems because they needed to read
all those files). So the new infra has package source files providing
the absolute minimum on information, and from this on can generate
package object files containing: metadata like installation
instructions, descriptions (currently missing, should be done from
Catalogue), list of files in 4 categories (run, bin, src, doc) and the
respective sizes. All these textual representations are concatenated to
the texlive.tlpdb.

For you easy: the Packages files is *exactely* the same, every package
consists of one "paragraph" etc. I guess you know what I mean (in fact
it was modelled after that).

> and each of each of these files would contain relative paths from the
> base of the TEXMF tree (here, /usr/share/texmf/) for each documentation
> file belonging to the package.

this is already there, but *including* the "texmf name", ie
texmf/texmf-dist/texmf-doc.

> containing paths relative to /usr/local/share/texmf, and that would
> allow mypackage to automatically register itself with the
> cataloguing/documentation system I'm proposing here.

Optimal would be that these files can be *generated* from what is there,
so the Catalogue and the installed files.

You might again ask why: package authors contact CTAN and update the
Catalogue, so these are the central points. ANYTHING which is not generated
from these information will get eventually ignored, outdated, wrong, etc.

So any *additional* structure/files/etc we create should either contain
*really* new stuff or should be generated.

Example: Before we had in the tpm files:
- list of files      generated from the svn repository with some scripts
- descriptions       now and then updated from the catalogue or by hand
- licenses           now and then updated from the catalogue
- patterns for files        manually maintained
- installation instruction: manually maintained
- ...
Now all the stuff that should be updated was always out of date, wrong,
conflicting etc. So it is better to:
- change the *source* of the information (catalogue mostly)
- generate the information if necessary.
This is done at the TLP Source -> TLP Object transition. A typical
TLPSRC file now contains nothing but
	name foobar
(even the name could be generated from the file name, but that was too
crazy), which means: include all files under directories named "foobar" 
in the texmf-dist tree. Of course you can override the default behaviour
and specify what files you actually want (from the about 1500 source
files, 173 have patterns in it, and most of them are bin-* files which
NEED the patterns anyway, so the automatic generation works quite good).

If we now create another place which can become out of date this is
counter productive. Therefore I proposed to somehow include the
information in the catalogue.

===========================

So since I hate long discussions and like to come up with solutions,
what do we actually have to do to get these things working, let's call
it a work plan:

This is preliminary, please extend it with your local knowledge, ie, if
you have suggestions for CTAN, add it, or for Catalogue, or whatever.


0. Preliminaries
1. CTAN side
2. Catalogue side
3. TeX Live side
4. Various

ad 0. Preliminaries
-------------------

Create a tag system, or vocabulary, or whatever. Any specification
should probably be placed into the subversion of the Catalogue. Or CTAN.

ad 1. CTAN side
---------------

Fix how we want to get the information from the package authors. Either
via a xml file in the upload, or via the experimental web upload
feature. Or (best) both.

Write support for the tagging system.

ad 2. Catalogue side
---------------------

After we have this and the tag system specified, extend the Catalogue
DTD to include the missing bits (if any) for the meta data information.

Write some override mechanism?

ad 3. TeX Live side
-------------------

Merge the Catalogue information with the information about installed
docfiles for a package.

Generate some doc index file in whatever format.

Write some documentation browsing program.

ad 4. Various
-------------

Tag the most important packages by hand to get the system started.

Convince people to use the system ;-)



Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HALIFAX (n.)
The green synthetic astroturf on which greengrocers display their
vegetables.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Mon Jul  2 19:24:39 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Jul 2007 19:24:39 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <14842.1183394895@mole.cl.cam.ac.uk>
References: <20070702162847.GA28153@gamma.logic.tuwien.ac.at>
	<14842.1183394895@mole.cl.cam.ac.uk>
Message-ID: <20070702172439.GD28153@gamma.logic.tuwien.ac.at>

On Mon, 02 Jul 2007, Robin Fairbairns wrote:
> > Why? Hmm I seem to misunderstand your english, I don't see a reason to
> > remove it.
> 
> because ctan isn't to hold a current version any longer, if i understand

Well, we can upload something there.

Hold on, maybe Lionel want's to merge all the stuff and become
*upstream*? It seems that every release has been done by someone else
anyway ;-).

And yes, I think if nobody cares and we still want to have dvidvi then
it is ok that we keep it in texlive and upload source to CTAN. I mean if
nobody cares for it and it only needs slight adjustments then why not.


Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
in the space-time continuum.'
is he? Is he?'
                 --- Arthur failing in his first lesson of galactic physics
                 --- in four years.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From Robin.Fairbairns at cl.cam.ac.uk  Mon Jul  2 18:48:15 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Mon, 02 Jul 2007 17:48:15 +0100
Subject: [tex-live] Patches for dvidvi
In-Reply-To: Your message of Mon, 02 Jul 2007 18:28:47 +0200.
	<20070702162847.GA28153@gamma.logic.tuwien.ac.at> 
Message-ID: <14842.1183394895@mole.cl.cam.ac.uk>

Norbert Preining <preining at logic.at> wrote:

> On Mon, 02 Jul 2007, Robin Fairbairns wrote:
> > > What I wanted to say is that since it seems that there is no upstream,
> > > we at TeX Live are caring for that the stuff still compiles, fits into
> > > TeX Live etc. In this sense upstream.
> > 
> > but we shouldn't expect a copy of the updated package, except as part of
> > texlive?
> > 
> > should we delete dviware/dvidvi now?
> 
> Why? Hmm I seem to misunderstand your english, I don't see a reason to
> remove it.

because ctan isn't to hold a current version any longer, if i understand
you correctly.  (the alternative is to move the ctan holding to the
obsolete tree, but this sends a troublesome message from the catalogue
-- obsolete could mean something like "doesn't work with current
systems" ... in the same way as many latex 2.09 packages are going off
the main tree.)

From karl at freefriends.org  Mon Jul  2 20:34:16 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 2 Jul 2007 13:34:16 -0500
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <20070702162847.GA28153@gamma.logic.tuwien.ac.at>
Message-ID: <200707021834.l62IYGJ21941@f7.net>

    > should we delete dviware/dvidvi now?

If Lionel would like to become the maintainer of dvidvi and make
separate releases, uploaded to CTAN as usual, that would be best.

Lionel?

From karl at freefriends.org  Mon Jul  2 20:59:01 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 2 Jul 2007 13:59:01 -0500
Subject: [tex-live] scheme-tetex.tpm misses collection-xetex
In-Reply-To: <d954a6590707020459w29abfb2bje5dd099619dd34c3@mail.gmail.com>
Message-ID: <200707021859.l62Ix1H32242@f7.net>

Hi Jindrich,

    I was trying to generate zip list for the tetex TeXLive scheme and realized
    that it misses a reference
    to collection-xetex

1) The real teTeX distribution did/does not include XeTeX, so naturally
   scheme-tetex does not include collection-xetex.  Perhaps we should
   add it anyway at this point, I'm not sure.

2) If you're using scheme-tetex, it's not clear to me how you have the
   xetex binary in the first place, or why it tries to make xetex
   formats.  This doesn't seem right.

3) We have moved off of TPM files, as was announced in several previous
   emails.  Please see the Master/tlpkg directory (e.g.,
   Master/tlpkg/tlpsrc/scheme-tetex.tlpsrc).  I expect to remove the
   .tpm files from the repository soon.

Best,
Karl

From vext01 at gmail.com  Mon Jul  2 23:06:40 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 2 Jul 2007 22:06:40 +0100
Subject: [tex-live] XeTeX and ConTeXt
Message-ID: <a6e8c1d0707021406y565b81abhb4af548006f4b4e@mail.gmail.com>

Hi Guys,

Im back to haunt you. Sorry about that :)

I have been playing with ConTeXt and XeTeX as distributed with
TeXLive. When I switch context into --xtx mode I am presented with the
following error:

TeXUtil | running texmfstart rlxtools --identify ./ob2.png
sh: identify: not found
RlxTools | unable to identify ./ob2.png
TeXUtil | running texmfstart rlxtools --identify ./ob2.png
sh: identify: not found
RlxTools | unable to identify ./ob2.png
TeXExec | runtime: 3.405534

No prizes for guessing it's an OpenBSD box. Is this "identify"
something that other unices ship with that OpenBSD does not?

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From maarten.sneep at xs4all.nl  Mon Jul  2 23:18:17 2007
From: maarten.sneep at xs4all.nl (Maarten Sneep)
Date: Mon, 2 Jul 2007 23:18:17 +0200
Subject: [tex-live] XeTeX and ConTeXt
In-Reply-To: <a6e8c1d0707021406y565b81abhb4af548006f4b4e@mail.gmail.com>
References: <a6e8c1d0707021406y565b81abhb4af548006f4b4e@mail.gmail.com>
Message-ID: <C4CA1760-7F0E-4050-89C9-C5D0F2CAD61D@xs4all.nl>


On Jul 2, 2007, at 23:06, Edd Barrett wrote:

> No prizes for guessing it's an OpenBSD box. Is this "identify"
> something that other unices ship with that OpenBSD does not?

$ identify
Version: ImageMagick 6.2.9 09/24/06 Q16 http://www.imagemagick.org
Copyright: Copyright (C) 1999-2006 ImageMagick Studio LLC

Usage: identify [options ...] file [ [options ...] file ... ]

So, now you know where to get it. Why it is needed I don't know.

Maarten

From vext01 at gmail.com  Mon Jul  2 23:20:23 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 2 Jul 2007 22:20:23 +0100
Subject: [tex-live] XeTeX and ConTeXt
In-Reply-To: <C4CA1760-7F0E-4050-89C9-C5D0F2CAD61D@xs4all.nl>
References: <a6e8c1d0707021406y565b81abhb4af548006f4b4e@mail.gmail.com>
	<C4CA1760-7F0E-4050-89C9-C5D0F2CAD61D@xs4all.nl>
Message-ID: <a6e8c1d0707021420p39ca64c6teb3218b94820eaca@mail.gmail.com>

On 02/07/07, Maarten Sneep <maarten.sneep at xs4all.nl> wrote:
> $ identify
> Version: ImageMagick 6.2.9 09/24/06 Q16 http://www.imagemagick.org
> Copyright: Copyright (C) 1999-2006 ImageMagick Studio LLC
>
> Usage: identify [options ...] file [ [options ...] file ... ]
>
> So, now you know where to get it. Why it is needed I don't know.

Aha, thats easy enough. ImageMagick is already ported!

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From f.rougon at free.fr  Tue Jul  3 00:24:07 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Tue, 03 Jul 2007 00:24:07 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <f6b5gu$s7e$1@sea.gmane.org> (Joachim Schrod's message of "Mon,
	02 Jul 2007 17:27:26 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison> <f6b5gu$s7e$1@sea.gmane.org>
Message-ID: <87ps3abg1k.fsf@florent.maison>

Joachim Schrod <jschrod at acm.org> wrote:

> I am *very* sceptical that you will find gurus that will help in tagging
> packages. Otherwise the Catalogue would not be maintained by just a handful of
> persons (and Robin does 80% of the work there singlehandedly), such gurus
> would give a hand there, too.

I understand your scepticism, but I still hope we can progressively tag
all "important" packages in a reasonable time frame (max. a few months).
That doesn't need to be done in one day...

-- 
Florent

From gnwiii at gmail.com  Tue Jul  3 00:48:23 2007
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 2 Jul 2007 19:48:23 -0300
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <f6b5gu$s7e$1@sea.gmane.org>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison> <f6b5gu$s7e$1@sea.gmane.org>
Message-ID: <22af238a0707021548v3719f5fdifba1da49e96b924a@mail.gmail.com>

On 7/2/07, Joachim Schrod <jschrod at acm.org> wrote:

> Florent Rougon wrote:
> >
> > Well, probably not, but I don't think it's a big problem:
> >   - if package maintainers write their own metadata, well, that's great
>
> Sadly, Your assumption does not fit reality. Even the few authors
> who tried to submit TeX catalogue files got it mostly wrong. For
> many submissions, one even has to ask for READMEs and PDF
> documentation files.

Isn't a README the one file that the instructions require (and where
you meniton the license)?  Actually, having had some experience
with collections of scientific data, I'm not surprised.  It is far better that
stuff get on CTAN in disarray than having people searching net to find
a copy.  If you ask for anything more than the minimum effort, some
potential contributors won't be bothered.

> >   - the most important packages (geometry, graphicx, etc.) will get
> >     tagged in a reasonable timeframe by either their maintainer or by
> >     volonteers (yeah, could be me, but preferably some LaTeX guru :).
>
> I am *very* sceptical that you will find gurus that will help in
> tagging packages. Otherwise the Catalogue would not be maintained
> by just a handful of persons (and Robin does 80% of the work there
> singlehandedly), such gurus would give a hand there, too.

Maintaining the Catalogue requires special insights.  I often provide
advice to LaTeX users -- 90% of the time my advice is "forget what
you found using google and read TLC" (another 9.9% is "that file
you have with the .eps extension isn't an EPS file").  Of course
nobody comes to me after advice they found using google solved
their problem.

I do like the idea of using tags better than the texdoctk fixed structure,
but to succeed tags should be user maintained.  Suppose the user's
initial search fails.  They are passed to a Catalogue search, and
the initial tag becomes a candidate for the results.  The tool gives the
user the option of saving the new tag locally and/or passing their
updated tag database on to an engine that collects suggestions into
an updated database.  Users can also benefit by downloading updated
databases.

Eventually, if this succeeds it can be made part of CTAN, but if
successfu it might spread to other places (R?, IDL) that can benefit
from such tools.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From jschrod at acm.org  Tue Jul  3 01:03:13 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Tue, 3 Jul 2007 01:03:13 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <22af238a0707021548v3719f5fdifba1da49e96b924a@mail.gmail.com>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison> <f6b5gu$s7e$1@sea.gmane.org>
	<22af238a0707021548v3719f5fdifba1da49e96b924a@mail.gmail.com>
Message-ID: <18057.33841.478567.976456@puma.r.npc.de>

>>>>> "GNW" == George N White, <George> writes:

>> >   - the most important packages (geometry, graphicx, etc.) will get
>> >     tagged in a reasonable timeframe by either their maintainer or by
>> >     volonteers (yeah, could be me, but preferably some LaTeX guru :).
>> 
>> I am *very* sceptical that you will find gurus that will help in
>> tagging packages. Otherwise the Catalogue would not be maintained
>> by just a handful of persons (and Robin does 80% of the work there
>> singlehandedly), such gurus would give a hand there, too.

GNW> Maintaining the Catalogue requires special insights. [...]
GNW> I do like the idea of using tags better than the texdoctk fixed structure,
GNW> but to succeed tags should be user maintained.

I have nothing against tags and would find an experiment to enable
user-defined tag associations to TL packages quite interesting. I
wanted to mention that the wish that LaTeX gurus would engage in such
activities is not realistic.

Besides, I'd like to mention that maintaining the Catalogue does *not*
require special insights, IMNSHO. I change entries not so often, as
I'm only involved in upload work when Rainer Sch?pf is on holidays. 
(Rainer and I are the sysadmins of the German DANTE systems.) Adding
or changing a Catalog entry just means to read the README or the
supplied information, detect the most current version ID, and check
where the documentation is. This is the basic stuff and it covers 90+%
of the work. (Well, the main difficulty is that one should be thorough
enough not to introduce XML syntax errors -- otherwise the build of
the HTML version fails. ;-)

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany

From clamat at telus.net  Mon Jul  2 23:32:21 2007
From: clamat at telus.net (Matthew Clarke)
Date: Mon, 2 Jul 2007 14:32:21 -0700
Subject: [tex-live] XeTeX and ConTeXt
In-Reply-To: <a6e8c1d0707021406y565b81abhb4af548006f4b4e@mail.gmail.com>
References: <a6e8c1d0707021406y565b81abhb4af548006f4b4e@mail.gmail.com>
Message-ID: <20070702213221.GA4193@bluesong.van.maves.ca>

Mon, Jul 02, 2007 at 10:06:40PM +0100, Edd Barrett may have written:

> Hi Guys,
>
> Im back to haunt you. Sorry about that :)
>
> I have been playing with ConTeXt and XeTeX as distributed with
> TeXLive. When I switch context into --xtx mode I am presented with the
> following error:
>
> TeXUtil | running texmfstart rlxtools --identify ./ob2.png
> sh: identify: not found
> RlxTools | unable to identify ./ob2.png
> TeXUtil | running texmfstart rlxtools --identify ./ob2.png
> sh: identify: not found
> RlxTools | unable to identify ./ob2.png
> TeXExec | runtime: 3.405534
>
> No prizes for guessing it's an OpenBSD box. Is this "identify"
> something that other unices ship with that OpenBSD does not?

Identify is part of ImageMagick, which is in OpenBSD ports & packages.

-- 
"Perfection [in design] is achieved not when there is nothing left to add,
but rather when there is nothing left to take away."
				-- Antoine de Saint-Exupery

From jschrod at acm.org  Tue Jul  3 11:15:39 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Tue, 03 Jul 2007 11:15:39 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <20070702172439.GD28153@gamma.logic.tuwien.ac.at>
References: <20070702162847.GA28153@gamma.logic.tuwien.ac.at>
	<14842.1183394895@mole.cl.cam.ac.uk>
	<20070702172439.GD28153@gamma.logic.tuwien.ac.at>
Message-ID: <f6d43s$sd5$1@sea.gmane.org>

Norbert Preining wrote:
> 
> And yes, I think if nobody cares and we still want to have dvidvi then
> it is ok that we keep it in texlive and upload source to CTAN. I mean if
> nobody cares for it and it only needs slight adjustments then why not.

If TL's dvidvi gets to be the canonical version, you just have to 
tell me and don't have to provide uploads. I will then arrange 
automatic updates from SVN trunk to CTAN. (That's the same for 
dviljk, and I currently test the automatic update of it.)

If Lionel's version will be the canonical version, we would like to 
know about it, too.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From jschrod at acm.org  Tue Jul  3 12:09:28 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Tue, 3 Jul 2007 12:09:28 +0200
Subject: [tex-live] Updates to dviljk, in branch2007
Message-ID: <18058.8280.350883.718962@puma.r.npc.de>


Hi,

A few minutes ago, I committed an update to dviljk to branch2007; it
shall go into the next TeX-Live update.

This update is all about security fixes:

 1) dviljk did not check any memory bounds. Any read operation, any
    string handling was done without bounds checking and could be
    exploited for buffer overflows.

    I discovered ca. 30 places where this happens and fixed all of
    them. I did not do a full code review and therefore can not
    promise that there are even more, but all occurences of fread()
    with arbitrary lengths, strcpy and friends, string copying by
    "*dest++ = *src++", and other fixed array accesses are now
    checked.

 2) dviljk had a tempfile creation race condition, due to the usage of
    tmpnam(). (There are more cases in the texk source tree, btw.)
    Since mkstemp() cannot be utilized here, I changed the code to use
    a temporary directory created with mkdtemp(). (If mkdtemp() is not
    available, I fall back to use tmpnam(); it's not worse than
    before.) At the same time, the temporary files (and directory) are
    deleted now at the end of the program run.

The risk of these security issues is very low: One needs to construct
a DVI file that exploits these issues and convince a victim to print
it with dviljk. And then it can only do actions with the capabilities
of the calling user. Nevertheless, these are vulnerabilities, so we
decided that they should be committed to branch2007, for a quicker
release than the next TL DVD.

I would like to thank Karl, Norbert, and Frank for a focused and
productive off-list discussion how to handle these security issues
best.

The complete changeset is available as

svn diff -r4533:4534 svn://tug.org/texlive/branches/branch2007/Build/source/texk/dviljk

But if you want to review the code, you're probably better better off
with

svn diff -r4522:4531 svn://tug.org/texlive/trunk/Build/source/texk/dviljk/dvi2xx.c

or even with smaller diffs as fits the following log.
(dviljk/ChangeLog has been updated, too.)

------------------------------------------------------------------------
r4531 | jschrod | 2007-07-02 22:55:41 +0200 (Mon, 02 Jul 2007) | 4 lines

    Security issue: Repaired tempfile creation race condition.
    Include file special parsing does not access unrelated variables
any more.

------------------------------------------------------------------------
r4530 | jschrod | 2007-07-02 16:41:34 +0200 (Mon, 02 Jul 2007) | 4 lines

    Interpret KPSE_TEX_HUSH "special" to ignore only unrecognized
specials, but still output warnings on recognized dviljk specials that
have wrong parameter values or other semantic errors.

------------------------------------------------------------------------
r4525 | jschrod | 2007-06-28 15:22:22 +0200 (Thu, 28 Jun 2007) | 2 lines

    Fix core dump: Check mandatory parameters for psfile special.

------------------------------------------------------------------------
r4524 | jschrod | 2007-06-28 15:16:06 +0200 (Thu, 28 Jun 2007) | 3 lines

    Fix more buffer overflows: Ghostscript command construction, read
from files into static arrays.

------------------------------------------------------------------------
r4523 | jschrod | 2007-06-28 13:34:05 +0200 (Thu, 28 Jun 2007) | 3 lines

    Fix many buffer overflows, caused by unchecked string operations
and arbitrary access to arrays.

------------------------------------------------------------------------
r4522 | jschrod | 2007-06-28 12:47:07 +0200 (Thu, 28 Jun 2007) | 3 lines

    Test commit rights. Incidentially, discard spaces at the end of
lines in files that I will change anyhow.


I will now work on special feature enhancements for dviljk, they will
only go into trunk/.

Best,
	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany

From preining at logic.at  Tue Jul  3 13:53:46 2007
From: preining at logic.at (Norbert Preining)
Date: Tue, 3 Jul 2007 13:53:46 +0200
Subject: [tex-live] Updates to dviljk, in branch2007
In-Reply-To: <18058.8280.350883.718962@puma.r.npc.de>
References: <18058.8280.350883.718962@puma.r.npc.de>
Message-ID: <20070703115346.GB13122@gamma.logic.tuwien.ac.at>

Thanks Joachim for doing the work, merging the stuff to branch2007, and
generally taking care for this. Much appreciated. 

Next version of the Debian TeX Live packages will have these fixes
included.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
WIGAN (n.)
If, when talking to someone you know has only one leg, you're trying
to treat then perfectly casually and normally, but find to your horror
that your conversion is liberally studded with references to (a) Long
John Silver, (b) Hopalong Cassidy, (c) The Hockey Cokey, (d) 'putting
your foot in it', (e) 'the last leg of the UEFA competition', you are
said to have committed a wigan. The word is derived from the fact that
sub-editors at ITN used to manage to mention the name of either the
town Wigan, or Lord Wigg, in every fourth script that Reginald
Bosanquet was given to read.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Tue Jul  3 14:04:28 2007
From: preining at logic.at (Norbert Preining)
Date: Tue, 3 Jul 2007 14:04:28 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <f6d43s$sd5$1@sea.gmane.org>
	<20070702172439.GD28153@gamma.logic.tuwien.ac.at>
References: <20070702162847.GA28153@gamma.logic.tuwien.ac.at>
	<14842.1183394895@mole.cl.cam.ac.uk>
	<20070702172439.GD28153@gamma.logic.tuwien.ac.at>
	<f6d43s$sd5$1@sea.gmane.org>
	<20070702162847.GA28153@gamma.logic.tuwien.ac.at>
	<14842.1183394895@mole.cl.cam.ac.uk>
	<20070702172439.GD28153@gamma.logic.tuwien.ac.at>
Message-ID: <20070703120428.GC13122@gamma.logic.tuwien.ac.at>

Hi Lionel,

what do you think about this?

On Mon, 02 Jul 2007, Norbert Preining wrote:
> Hold on, maybe Lionel want's to merge all the stuff and become
> *upstream*? It seems that every release has been done by someone else
> anyway ;-).

On Die, 03 Jul 2007, Joachim Schrod wrote:
> If TL's dvidvi gets to be the canonical version, you just have to 
> tell me and don't have to provide uploads. I will then arrange 
> automatic updates from SVN trunk to CTAN. (That's the same for 
> dviljk, and I currently test the automatic update of it.)
> 
> If Lionel's version will be the canonical version, we would like to 
> know about it, too.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SAFFRON WALDEN (n.)
To spray the person you are talking to with half-chewed breadcrumbs or
small pieces of whitebait.
			--- Douglas Adams, The Meaning of Liff

From lionel at mamane.lu  Tue Jul  3 15:19:25 2007
From: lionel at mamane.lu (Lionel Elie Mamane)
Date: Tue, 3 Jul 2007 15:19:25 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <20070703120428.GC13122@gamma.logic.tuwien.ac.at>
References: <20070702162847.GA28153@gamma.logic.tuwien.ac.at>
	<14842.1183394895@mole.cl.cam.ac.uk>
	<20070702172439.GD28153@gamma.logic.tuwien.ac.at>
	<f6d43s$sd5$1@sea.gmane.org>
	<20070702162847.GA28153@gamma.logic.tuwien.ac.at>
	<14842.1183394895@mole.cl.cam.ac.uk>
	<20070702172439.GD28153@gamma.logic.tuwien.ac.at>
	<20070703120428.GC13122@gamma.logic.tuwien.ac.at>
Message-ID: <20070703131925.GA1663@capsaicin.mamane.lu>

On Tue, Jul 03, 2007 at 02:04:28PM +0200, Norbert Preining wrote:
> On Mon, 02 Jul 2007, Norbert Preining wrote:

>> Hold on, maybe Lionel want's to merge all the stuff and become
>> *upstream*? It seems that every release has been done by someone
>> else anyway ;-).

> On Die, 03 Jul 2007, Joachim Schrod wrote:

>> If TL's dvidvi gets to be the canonical version, you just have to
>> tell me and don't have to provide uploads.

>> If Lionel's version will be the canonical version, we would like to
>> know about it, too.

Me becoming official upstream is a bad idea. I'm not knowledgeable
about the low-level details of TeX, such as the DVI format. All I have
done up to now is merge patches done by other people and make C-code
quality improvements (address GCC warnings), using my general
knowledge of C.

-- 
Lionel

From f.rougon at free.fr  Tue Jul  3 16:52:47 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Tue, 03 Jul 2007 16:52:47 +0200
Subject: [tex-live] Better ways to find packages and documentation [was:
	texdoc in luatex]
References: <22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
	<87tzsmbygr.fsf@florent.maison> <200706301759.l5UHxAN21701@f7.net>
	<87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
Message-ID: <87ir91pmio.fsf@florent.maison>

Hi,

I took a little bit of time to answer, because I wanted to look at the
new TL infrastructure before (and also because I'm trying to have a life
:).

Norbert Preining <preining at logic.at> wrote:

> puhhh, many thing are floating around. In fact it would be nice to
> discuss all this stuff in person, which would make it much easier!

Do you want to visit Paris? :)

> Well, this should work already now more or less, at least for those
> packages where we know the TeX Live name <-> TeX Catalogue name
> translation. Let's put it this way, the Catalogue has a field
> 	<texlive location='foobar'>

hyperref.xml has:

  <texlive/>                                                                    
  <miktex location='hyperref'/>                                                 
  <tetex/>                                                                      

i.e., the texlive element is empty. Huh? Maybe because it's in texmf and
not texmf-dist?...

Anyway, it contains only one path component, what can I do with that?...

(not sure it matters much for our purpose, so feel free not to answer)

> which gives the respective TLPOBJ (ex tpm) to which is corresponds.

IMHO, this is not precise enough because the link here is at (CTAN/TL)
package level, not file level. However, the doc files can have different
names depending on the format chosen, and I want to be able to carry the
metadata from CTAN about these files even when CTAN and TL have chosen a
different format/file name.

For instance, if CTAN ships some doc in HTML format and TL the same doc
in PDF format, we could have in the catalogue:

  ...
  <documentation details='blah blah' language='de'
                 href='ctan:/macros/.../foo/index.de.html'>
  ...

and you would have in your current texlive.tlpdb:

  docfiles size=******
   ...
   texmf-dist/doc/latex/.../foo-de.pdf
   ...

When I read this texlive.tlpdb excerpt, it is not at all obvious (for a
program) that foo-de.pdf has the attribute language='de'.

One way out of this is to specify an id for each document, as in:

  <documentation id='foo-user-guide' details='blah blah' language='de'
                 href='ctan:/macros/.../foo/index.de.html'>

and for texlive.tlpdb:

  docfiles size=394380
   ...
   foo-user-guide texmf-dist/doc/latex/.../foo-de.pdf
   ...

Then, if I have the catalogue XML files somewhere for my program to
read, I can trace foo-de.pdf to the corresponding <documentation>
element in the Catalogue and deduce that it has language='de'.

> Unfortunately we don't have a back mapping built into TeX Live, or at

[from TLPOBJ name to CTAN package name]

Huh?

I thought that in texlive.tlpdb:
  - either the 'name' field indicates the CTAN package name;
  - or there is a 'catalogue' field indicating the CTAN package name.

> least only partly into the ctan2tl script. All this could be simplified
> in some way (but who? is writing all the code!).

FWIW, I couldn't find ctan2tl by browsing the TL repository through the
web interface. Where is it?

> So in principle we can do:
> 	CTAN package -> get texlive location ->
> 	-> get TLPOBJ from texlive.tlpdb -> get docfiles from this
> I can write you a perl script in 3 minutes that does this. (spits out
> list of files, nothing else)

Yup, easy, but I want the Catalogue metadata carried with each doc file.

> Florent, can you send me what you want? Ie format of the output:
> Something like
> 	$ get-florent-stuff "ctan package name"
> 	...
> 	format of return stuff to be specified
> 	...

I don't think this is the best interface, because:
  1. In this case, I need to have two lists:
      * all CTAN packages
      * all CTAN packages installed on the system

     otherwise I won't be able to show the user:
      * what can be found on CTAN
      * what is already at his disposal

  2. This will be slow if invoked for each CTAN package (at least one
     process each time...). Of course, this is not a big problem if you
     intend to run this only at TL installation to generate a big file
     containing all the info for CTAN packages in TL. My program could
     then use this big file.

I'm afraid I cannot give you right now the full spec, because there are
still design questions that need anwsers. The data layouts I can imagine
are greatly dependent on these answers.

1) Can a given CTAN package be split among several TEXMF trees (in TL,
   in MiKTeX, etc.)? Or rather, do we want to support that?

   From a quick look at texlive.tlpdb, I have the impression that the
   answer is "no". For instance, geometry's documentation is not in
   texmf-doc, but in texmf-dist with all other files from the geometry
   package.

2) Do you want the data for TL-available packages to be split into
   individual files for each package, or gathered into big files?

   Advantage for the split version: it's easier to register/unregister a
   package by distributors: just add or remove the corresponding files.

   Disadvantage: takes more space, clutters the filesystem.

3) Do you want to reduce data redundancy as much as possible?

   I have the impression your answer is yes, in which case I'll need a
   copy of the Catalogue somewhere on the filesystem to lookup the
   metadata for each CTAN package and for each documentation file.

   If the answer to question 1 is no, we can be split the Catalogue
   among the various TEXMF trees: each TEXMF tree would have the part of
   the Catalogue corresponding to packages installed in that tree.

   If the answer is yes, then I need one copy of the Catalogue somewhere
   and I have to make it easy for third parties (users, distributors) to
   extend its data when they install a package that is not referenced in
   the copy of the Catalogue they have on disk (can usually be done by
   dropping files in a directory).

4) Do you want to edit files in-place when a package is added or
   removed?

   (similar to question 2, but not for available TL packages, rather to
   tell whether a given package is installed or not).

   My tool needs to be able to tell whether a package is installed or
   not. This way, the user can choose to either browse the whole TL
   distribution (when looking for some new package to install), or only
   what he has installed so far (e.g., when looking for the
   documentation of a package he knows has installed).

   There are several ways to embed this information. It can be an
   "installed=yes/no" attribute in an XML file, or an

     Installed: yes/no
  
   line in an RFC-2822-style file, or it can be done by dropping or
   removing a file in a known directory with the CTAN package name as
   basename.

   The first two ways are compact but a bit cumbersome for installers
   (TL package installer, Debian package maintainer scripts); the second
   way creates a lot of ridiculous files, but is very easy to handle for
   installers.

5) Do we want to be able to tag individual documentation files, or only
   CTAN packages?

   Tagging individual doc files is precise but more complex for the DTD
   used in the Catalogue and for my tool. One would have tags both under
   <entry> elements (these would be package tags) and under
   <documentation> elements (tags for individual documentation files).
   Maybe this would also call for two vocabularies (where a "vocabulary"
   is a set of legal tags in a given context): one for packages and one
   for doc files.

   It is quite possible that we don't need to go so far as tagging
   individual doc files:

     - for ordinary packages, I believe it's enough to have the tags
       guide the user to the right package, from which point he can get
       a (usually short) list of all doc files and choose which one to
       open.

     - for documentation that is not really tied to a LaTeX package,
       such as general tutorials, things such as clsguide, etc., I have
       the impression that there is always a CTAN package containing the
       documentation.

       If the CTAN package contains only one document (or several
       documents, but all about the same subject), then tagging the
       package is enough---no need to tag each doc file.

       But in case the CTAN package contains a mixmatch of various
       documents, then tagging only at CTAN package level may be too
       imprecise. Sure, the package can get the union of all tags that
       would apply to each document... but this is imprecise.

       Either we accept that (because such packages are rare, or because
       choosing from a list of 10 documents is deemed acceptable), or we
       don't. If we don't, there are two possibilities:
          - tag individual documents, not only CTAN packages (see above);
          - or split such CTAN packages so that each CTAN package is
            specific enough for its tags to be relevant.

With an anwser to all these questions, I should be able to propose a
relatively precise specification. Unless I forgot questions. :-P

(well, there is another question as I see from the rest of your mail: do
you prefer XML or RFC-2822 format? I saw you have some grief about XML,
but for structured data, it is far superior to RFC-2822, so in some
cases, there is not point asking the question; for simple stuff, yes, I
can consider RFC-2822. XML is also very good when it comes to encodings.
Keep this is mind :).

>> A lot of work, for sure...
>
> And in need of a *good* programmer like you to help a bit ;-))))

Sorry, I am genetically unsuited to work in Perl. ;-)

> Well, we dicussed this for quite some time when we rewrote the TeX Live
> infrastructure. We had this TPM file, and of course those could be
> enrichted with other information. Out of various reasons we wanted to
> separate real content from generated content, and NOT to have 2000+
> separate files (the installers had problems because they needed to read
> all those files).

You mean, there will be an unacceptable performance hit if anything in
this design causes a program to read one file per CTAN package? Because
of DVD head movements and things like that?

>                    So the new infra has package source files providing
> the absolute minimum on information, and from this on can generate
> package object files containing: metadata like installation
> instructions, descriptions (currently missing, should be done from
> Catalogue), list of files in 4 categories (run, bin, src, doc) and the
> respective sizes. All these textual representations are concatenated to
> the texlive.tlpdb.

What I was thinking about at first was something quite similar to
texlive.tlpdb, but with the metadata for each package and doc file. Such
a file would be generated once at TL installation and also whenever a
package is installed or removed (unless it doesn't contain the
"installed" status, in which case it need only be generated at TL
installation).

But as explained above, we can also reduce data redundancy by having one
copy of the Catalogue in some known place on the filesystem (and provide
support for extending this data by administrators and distributors).

If you choose to have a copy of the Catalogue, and if having one file
per package as discussed just above is unacceptable, then the Catalogue
has to be compiled into one big XML file before being installed in the
filesystem.

> Optimal would be that these files can be *generated* from what is there,
> so the Catalogue and the installed files.

Parse error, but I believe this should be addressed by all of the above,
right?

> Example: Before we had in the tpm files:
> - list of files      generated from the svn repository with some scripts
> - descriptions       now and then updated from the catalogue or by hand
> - licenses           now and then updated from the catalogue
> - patterns for files        manually maintained
> - installation instruction: manually maintained
> - ...
> Now all the stuff that should be updated was always out of date, wrong,
> conflicting etc.

The "big files" I was talking about were not supposed to be stored in
the TL repository, but rather generated by the TL installer (or Debian
scripts). In this case, they cannot be out-of-date with respect to what
is installed.

> If we now create another place which can become out of date this is
> counter productive. Therefore I proposed to somehow include the
> information in the catalogue.

I have nothing against putting the info in the Catalogue, but even with
some data redundancy (a big file containing the metadata from the
Catalogue + the install paths for each doc file as given by the TL
installer), there is a way to make sure the data is never out-of-date.
This way is: have the file generated by the TL installer.

But, as explained, it is also possible to have a copy of the Catalogue
in some known place and additional files containing only new data, and
make the link between both. In this case, we need to be able to link by
CTAN package name and by document id (in order to get the metadata such
as the language for each specific document).

> So since I hate long discussions and like to come up with solutions,
> what do we actually have to do to get these things working, let's call
> it a work plan:
>
> This is preliminary, please extend it with your local knowledge, ie, if
> you have suggestions for CTAN, add it, or for Catalogue, or whatever.

It's OK, but a bit vague. We are in the data structures right now. :)

Regards,

-- 
Florent

From f.rougon at free.fr  Tue Jul  3 17:19:59 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Tue, 03 Jul 2007 17:19:59 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <87tzsmbygr.fsf@florent.maison> (Florent Rougon's message of
	"Mon, 02 Jul 2007 17:46:12 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
	<87tzsmbygr.fsf@florent.maison>
Message-ID: <878x9xms4g.fsf@florent.maison>

Florent Rougon <f.rougon at free.fr> wrote:

>> I'd suggest a special line in the README file for the author's tags
>> (while still allowing ctan2tl, etc. to add more tags).
>
> Ugh, that's awful. :-P
>
> The catalogue is already based on XML; I think that if we add structured
> data such as the metadata mentioned here, we should continue this way.

Actually, I was in a hurry and answered a bit quickly here: for really
simple stuff such as a list of tags, I'm open to other formats than XML
(e.g., RFC-2822[1] would be OK).

What I'm opposed to is embedding machine-parseable information in a
freeform file such as a README file. IMHO, if we want to put
machine-parseable info into packages, then it ought to be in special
files that are *fully* machine-parseable.

The advantages of XML is that it is good for describing structured data
and is easily eXtensible (yup, this is what the X in XML stands for...).
The disadvantage with respect to RFC-2822 is that XML might look
slightly scary for real newbies. But IMO, people able to maintain LaTeX
packages shouldn't be afraid of such a common and straightforward
syntax.

With RFC-2822 on the other hand, the file would look quite
user-friendly... maybe too. I think users would often update them in
such ways that they don't have a valid syntax, since such files look too
much as freeform files. For instance, users could well screw up the
folding of long lines (which need whitespace at the beginning of every
continuation line). Furthermore, RFC-2822 syntax is far less convenient
than XML for describing structured data IMHO.

  [1] http://www.faqs.org/rfcs/rfc2822.html

-- 
Florent

From rivanvx at gmail.com  Tue Jul  3 19:01:08 2007
From: rivanvx at gmail.com (=?UTF-8?Q?Vedran_Mileti=C4=87?=)
Date: Tue, 3 Jul 2007 19:01:08 +0200
Subject: [tex-live] Patches for dvidvi
In-Reply-To: <20070703131925.GA1663@capsaicin.mamane.lu>
References: <f6d43s$sd5$1@sea.gmane.org>
	<20070702162847.GA28153@gamma.logic.tuwien.ac.at>
	<14842.1183394895@mole.cl.cam.ac.uk>
	<20070702172439.GD28153@gamma.logic.tuwien.ac.at>
	<20070703120428.GC13122@gamma.logic.tuwien.ac.at>
	<20070703131925.GA1663@capsaicin.mamane.lu>
Message-ID: <fd3eb9bf0707031001w5007f9cag3c9bf7bd4d4003d9@mail.gmail.com>

Maybe then we should make TeX Live the actual upstream, like it is for
kpathsea and some other stuff?

2007/7/3, Lionel Elie Mamane <lionel at mamane.lu>:
> On Tue, Jul 03, 2007 at 02:04:28PM +0200, Norbert Preining wrote:
> > On Mon, 02 Jul 2007, Norbert Preining wrote:
>
> >> Hold on, maybe Lionel want's to merge all the stuff and become
> >> *upstream*? It seems that every release has been done by someone
> >> else anyway ;-).
>
> > On Die, 03 Jul 2007, Joachim Schrod wrote:
>
> >> If TL's dvidvi gets to be the canonical version, you just have to
> >> tell me and don't have to provide uploads.
>
> >> If Lionel's version will be the canonical version, we would like to
> >> know about it, too.
>
> Me becoming official upstream is a bad idea. I'm not knowledgeable
> about the low-level details of TeX, such as the DVI format. All I have
> done up to now is merge patches done by other people and make C-code
> quality improvements (address GCC warnings), using my general
> knowledge of C.
>
> --
> Lionel
>


-- 
Vedran Mileti?
Student at Math Department, University of Rijeka

From Robin.Fairbairns at cl.cam.ac.uk  Tue Jul  3 20:34:09 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 03 Jul 2007 19:34:09 +0100
Subject: [tex-live] Better ways to find packages and documentation [was:
	texdoc in luatex]
In-Reply-To: Your message of Tue, 03 Jul 2007 16:52:47 +0200.
	<87ir91pmio.fsf@florent.maison> 
Message-ID: <32034.1183487649@mole.cl.cam.ac.uk>

Florent Rougon <f.rougon at free.fr> wrote:

> hyperref.xml has:
> 
>   <texlive/>                                                                    
>   <miktex location='hyperref'/>                                                 
>   <tetex/>                                                                      

not in the repository, it doesn't:

  <miktex location='hyperref'/>
  <texlive location='hyperref'/>
  <tetex/>

(note, in the course of filling in the tags, i also rearranged things
according to the dtd.  when i noticed...)

some time i guess i need to junk all those tetex thingies.

robin

From oliver at first.in-berlin.de  Tue Jul  3 21:06:27 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue,  3 Jul 2007 21:06:27 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and
	the	associated documentaion
In-Reply-To: <878x9xms4g.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
	<87tzsmbygr.fsf@florent.maison> <878x9xms4g.fsf@florent.maison>
Message-ID: <1183489587.468a9e338a601@webmail.in-berlin.de>

Zitat von Florent Rougon <f.rougon at free.fr>:
[...]
>
> With RFC-2822 on the other hand, the file would look quite
> user-friendly... maybe too. I think users would often update them in
> such ways that they don't have a valid syntax, since such files look too
> much as freeform files.
[...]

If there would be a simple tool that asks for the values
for each key, and the user types in the text, the file could be created
automatically, and no typos could destroy the validity of the
data.
Simple input-masks or text-based question-and-answer
scripts should be written in a short time.
If people were encouraged to use these tools, then this
minimizes the syntax-error-problems drastically.

More experienced users might use the texteditor and therefore
would be the biggest source of problems, when doing typos, but a
syntax-checker tool, or something that writes new entries to the
local catalogue - and always should check the syntax - could help
here also.



> For instance, users could well screw up the
> folding of long lines (which need whitespace at the beginning of every
> continuation line). Furthermore, RFC-2822 syntax is far less convenient
> than XML for describing structured data IMHO.


I have not read the RFC-2822 but the Linux-Software-Map (LSM)
uses a simple format since a long time, and I see no reason
why this should not be possible for TeX-stuff also:

   http://lsm.execpc.com/LSM.README


BTW: there are not only XML-parsers out there, tehere are also tools like lex
and yacc available for most languages, and so, a simple format could be parsed
easily.

Ciao,
   Oliver

From f.rougon at free.fr  Wed Jul  4 12:38:56 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Wed, 04 Jul 2007 12:38:56 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <32034.1183487649@mole.cl.cam.ac.uk> (Robin Fairbairns's message
	of "Tue, 03 Jul 2007 19:34:09 +0100")
References: <32034.1183487649@mole.cl.cam.ac.uk>
Message-ID: <87tzskmp1b.fsf@florent.maison>

Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> not in the repository, it doesn't:
>
>   <miktex location='hyperref'/>
>   <texlive location='hyperref'/>
>   <tetex/>

Then, I don't use the right source for the Catalogue. Where is it?

I'm using:

  :pserver:anonymous at cvs.texcatalogue.sarovar.org:/cvsroot/texcatalogue

and after a CVS update right now, I do still have the empty <texlive/>
element in hyperref.xml.

I found there is also:

  http://dante.ctan.org/svnroot/texcatalogue/trunk

but it requires a username and password and I don't know what to enter
there (anonymous/<email address> doesn't work).

Where is the authoritative source for the Catalogue?

Thanks.

-- 
Florent

From f.rougon at free.fr  Wed Jul  4 12:52:14 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Wed, 04 Jul 2007 12:52:14 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and
	the	associated documentaion
In-Reply-To: <1183489587.468a9e338a601@webmail.in-berlin.de> (Oliver Bandel's
	message of "Tue, 3 Jul 2007 21:06:27 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
	<87tzsmbygr.fsf@florent.maison> <878x9xms4g.fsf@florent.maison>
	<1183489587.468a9e338a601@webmail.in-berlin.de>
Message-ID: <87ps38mof5.fsf@florent.maison>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

> If there would be a simple tool that asks for the values
> for each key, and the user types in the text, the file could be created
> automatically, and no typos could destroy the validity of the
> data.
> Simple input-masks or text-based question-and-answer
> scripts should be written in a short time.
> If people were encouraged to use these tools, then this
> minimizes the syntax-error-problems drastically.

Just the same with XML. It can be easily generated by a program.
Syntax errors can come when the file is manually edited afterwards, but
maybe the new upload CTAN procedure could have checks for the file
syntax to minimize such problems, and reject the upload with a nice
explanatory message in case the syntax is invalid...

> More experienced users might use the texteditor and therefore
> would be the biggest source of problems, when doing typos, but a
> syntax-checker tool, or something that writes new entries to the
> local catalogue - and always should check the syntax - could help
> here also.

Yup.

> I have not read the RFC-2822 but the Linux-Software-Map (LSM)
> uses a simple format since a long time, and I see no reason
> why this should not be possible for TeX-stuff also:
>
>    http://lsm.execpc.com/LSM.README

Better stick to standards when they are adapted to your needs. Your LSM
stuff is modelled after RFC-2822, but slightly different (tolerates
empty lines):

,----[ http://lsm.execpc.com/LSM.README ]
| The general syntax is now similar to that of netnews headers, i.e., a
| keyword (at the beginning of a line), a colon (with no spaces separating
| it from the keyword), and text that may be continued to the next line by
| starting each continuing line with whitespace (space, tab).  Empty lines
| are also allowed (unlike netnews).
`----

There are modules in the Python standard library[1] to parse both XML
and RFC-2822-conformant files, but not "modified RFC-2822". Most
probably the same for Perl.

> BTW: there are not only XML-parsers out there, tehere are also tools
> like lex and yacc available for most languages, and so, a simple
> format could be parsed easily.

These tools are useful to parse custom languages, but I really don't
think our needs are so complex to justify their use.

  [1] i.e., they are shipped with Python itself.

-- 
Florent

From Robin.Fairbairns at cl.cam.ac.uk  Wed Jul  4 13:16:35 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed, 04 Jul 2007 12:16:35 +0100
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: Your message of Wed, 04 Jul 2007 12:38:56 +0200.
	<87tzskmp1b.fsf@florent.maison> 
Message-ID: <12983.1183547795@mole.cl.cam.ac.uk>

Florent Rougon <f.rougon at free.fr> wrote:

> Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:
> 
> > not in the repository, it doesn't:
> >
> >   <miktex location='hyperref'/>
> >   <texlive location='hyperref'/>
> >   <tetex/>
> 
> Then, I don't use the right source for the Catalogue. Where is it?
> 
> I'm using:
> 
>   :pserver:anonymous at cvs.texcatalogue.sarovar.org:/cvsroot/texcatalogue
> 
> and after a CVS update right now, I do still have the empty <texlive/>
> element in hyperref.xml.
> 
> I found there is also:
> 
>   http://dante.ctan.org/svnroot/texcatalogue/trunk
> 
> but it requires a username and password and I don't know what to enter
> there (anonymous/<email address> doesn't work).
> 
> Where is the authoritative source for the Catalogue?

the authoritative source is dante (sarovar is sooooo slow).  however,
sarovar is supposed to be kept up to date -- obviously the procedure is
regularly falling over...  i'll see what can be done to sort this out.

robin

From preining at logic.at  Wed Jul  4 14:13:50 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 4 Jul 2007 14:13:50 +0200
Subject: [tex-live] Better ways to find packages and documentation [was:
	texdoc in luatex]
In-Reply-To: <87ir91pmio.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
Message-ID: <20070704121350.GB17103@gamma.logic.tuwien.ac.at>

Hi Florent,

On Die, 03 Jul 2007, Florent Rougon wrote:
> I took a little bit of time to answer, because I wanted to look at the
> new TL infrastructure before (and also because I'm trying to have a life

Please send me your comments and suggestions for this, too (private or
here on list). We are still in the initial phase and everything is open.

> > puhhh, many thing are floating around. In fact it would be nice to
> > discuss all this stuff in person, which would make it much easier!
> 
> Do you want to visit Paris? :)

Yes. When? Do you have some logic/mathematics institute nearby so that I
can give a talk? That would make it a official journey ;-)

> When I read this texlive.tlpdb excerpt, it is not at all obvious (for a
> program) that foo-de.pdf has the attribute language='de'.

So the problem we/you try to solve is the additional tagging of single
documents with language tags? Right?

If we just for now ignore this problem and consider *only* CTAN package
tagging (isn't it what you proposed below?) then that could be ignored.

I would say for a start some system that allows me to search for
packages with some tags, and spits out all/some document files, without
any further sub-division (what kind of doc file etc) would already be a
HUGE step forward, probably enough for all kind of needs. People *can*
generally understand what a file is for, at leastafter the first 2
pages.

> > Unfortunately we don't have a back mapping built into TeX Live, or at
> 
> [from TLPOBJ name to CTAN package name]
> 
> Huh?
> 
> I thought that in texlive.tlpdb:
>   - either the 'name' field indicates the CTAN package name;
>   - or there is a 'catalogue' field indicating the CTAN package name.

In theory, yes. But nobody ever checked this!!! We have some catalogue
entries because I realized that the names are changed, but in general we
*just*assume* that it is like this.

As long as there is no update of the package on CTAN and we try it with
ctan2tl, we won't see the problem.

> FWIW, I couldn't find ctan2tl by browsing the TL repository through the
> web interface. Where is it?

http://www.tug.org/svn/texlive/trunk/Build/tools/ctan2tl

> > So in principle we can do:
> > 	CTAN package -> get texlive location ->
> > 	-> get TLPOBJ from texlive.tlpdb -> get docfiles from this
> > I can write you a perl script in 3 minutes that does this. (spits out
> > list of files, nothing else)
> 
> Yup, easy, but I want the Catalogue metadata carried with each doc file.

But didn't you propose that tagging is done on the package level of the
catalogue, not on the document level? In this case no need?

> I don't think this is the best interface, because:

Of course ;-)

> 1) Can a given CTAN package be split among several TEXMF trees (in TL,
>    in MiKTeX, etc.)? Or rather, do we want to support that?

No.

> 2) Do you want the data for TL-available packages to be split into
>    individual files for each package, or gathered into big files?
> 
>    Advantage for the split version: it's easier to register/unregister a
>    package by distributors: just add or remove the corresponding files.
> 
>    Disadvantage: takes more space, clutters the filesystem.

You mean of the documentation or something else?

> 3) Do you want to reduce data redundancy as much as possible?

Yes. The texlive cd will/can carry a copy of the catalogue (in some
way), and that should be taken for further information.

>    I have the impression your answer is yes, in which case I'll need a
>    copy of the Catalogue somewhere on the filesystem to lookup the
>    metadata for each CTAN package and for each documentation file.


I wanted to write:

  We want to reduce data redundancy *in the source packages*!!!

  The TLPOBJ files *CAN* (and hopefully will) be enriched with additional
  information from the catalogue, but first I have to write a catalogue
  access Perl module (and read xml, grrrr ;-).

  We want to include at least
  - title/long description
  - some version/license information
  - (taggging information?)
  - ...

but then I realized that I had some dicussion with Karl about this. So I
changed what I wrote before. Karl, am I right here?!

>    If the answer is yes, then I need one copy of the Catalogue somewhere
>    and I have to make it easy for third parties (users, distributors) to
>    extend its data when they install a package that is not referenced in
>    the copy of the Catalogue they have on disk (can usually be done by
>    dropping files in a directory).

I can imagine that additionally installed packages (in TEXMFLOCAL) drop
their description files into TEXMFLOCAL/somewhere.

> 4) Do you want to edit files in-place when a package is added or
>    removed?
> 
>    (similar to question 2, but not for available TL packages, rather to
>    tell whether a given package is installed or not).
> 
>    My tool needs to be able to tell whether a package is installed or
>    not. This way, the user can choose to either browse the whole TL

The plan is that every local installation will have a 
	local.tlpdb
(name to be changed) containing *only* those packages which are
installed.

Of course this doesn't handle the TEXMFLOCAL files.

> 5) Do we want to be able to tag individual documentation files, or only
>    CTAN packages?
[..]
>    It is quite possible that we don't need to go so far as tagging
>    individual doc files:

ACK, and thus I would also ignore the problems you were talking above,
about tagging individual files with language tags.

There are *some* packages already in CTAN with language names, e.g., 
	lshort-russian
and some others. I propose that we don't need the complexity of single
file tagging, and neither the language tags for single files.

>        Either we accept that (because such packages are rare, or because
>        choosing from a list of 10 documents is deemed acceptable), or we
>        don't. If we don't, there are two possibilities:
>           - tag individual documents, not only CTAN packages (see above);
>           - or split such CTAN packages so that each CTAN package is
>             specific enough for its tags to be relevant.

As said, for me acceptable. And as it looks it will be anyway our
decision what to implement. BTW; splitting CTAN packages is *not* a good
idea.

> (well, there is another question as I see from the rest of your mail: do
> you prefer XML or RFC-2822 format? I saw you have some grief about XML,

You have seen the texlive.tlpdb, I guess you know the answer ;-)

> > And in need of a *good* programmer like you to help a bit ;-))))
> 
> Sorry, I am genetically unsuited to work in Perl. ;-)

I don't believe you. Well, btw, if you can write Python access modules
for the TLPSRC/TLPOBJ/TLPDB/TLTREE/... that would be great,too. In fact
for *application* (i.e., installer/updater, etc) purposes only access
modules for
	TLPOBJ and TLPDB
would be necessary. The rest is only for us at obj generation time.

> You mean, there will be an unacceptable performance hit if anything in
> this design causes a program to read one file per CTAN package? Because
> of DVD head movements and things like that?

Yes.

> What I was thinking about at first was something quite similar to
> texlive.tlpdb, but with the metadata for each package and doc file. Such
> a file would be generated once at TL installation and also whenever a
> package is installed or removed (unless it doesn't contain the
> "installed" status, in which case it need only be generated at TL
> installation).
> 
> But as explained above, we can also reduce data redundancy by having one
> copy of the Catalogue in some known place on the filesystem (and provide
> support for extending this data by administrators and distributors).

I could even imagine that, if we do the tagging on a per package level,
that we add the tagging to the TLPDB, and then we have the TLPDB of
installed stuff, the TLPDB of available stuff of the TeX LIve
installation media, and the additional .xml/whatever files dropped into
TEXMFLOCAL.

> The "big files" I was talking about were not supposed to be stored in
> the TL repository, but rather generated by the TL installer (or Debian
> scripts). In this case, they cannot be out-of-date with respect to what
> is installed.

Yes, the installer creates a local.tlpdb for every installation.


So my proposal is:
- tagging is done on a per package level, not per file level
- tags are stored in the Catalogue
- tags are defined either by (format to be specified) files in the CTAN
  dir as uploaded by the author, or via the web interface, or by the
  CTAN maintainers
- tags are taken from the catalogue when generating the to be shipped 
  texlive.tlpdb and stored there
- locally installed packages can ship (format to be specified) files 
  in TEXMFLOCAL/(location to be specified)
- the doc search program takes the infos/tags from:
	- the texlive.tlpdb as shipped on the DVD
	- the local.tlpdb of installed packages
	- the additional files in TEXMFLOCAL
  and presents the info in some structured way (would allow people
  to search also in *not already installed* packages or only under those
  which are already installed.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LYBSTER (n., vb.)
The artificial chuckle in the voice-over at the end of a supposedly
funny television commercial.
			--- Douglas Adams, The Meaning of Liff

From f.rougon at free.fr  Wed Jul  4 14:16:27 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Wed, 04 Jul 2007 14:16:27 +0200
Subject: [tex-live] Better ways to find packages and documentation
References: <12983.1183547795@mole.cl.cam.ac.uk>
Message-ID: <87ir90l5yc.fsf@florent.maison>

Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

>> Where is the authoritative source for the Catalogue?
>
> the authoritative source is dante (sarovar is sooooo slow).

Well, great to hear that, but is there any way for the general public to
access this authoritative source? Such as SVN anonymous access? I didn't
find such a way. On

  http://lists.alioth.debian.org/pipermail/pkg-tetex-commits/2006-October/001164.html

there is the mention of

  svn://comedy.dante.de/home/ctan/texcatalogue_svn

but

  % svn co svn://comedy.dante.de/home/ctan/texcatalogue_svn
  svn: Can't connect to host 'comedy.dante.de': Connection timed out

and even (desperately trying):

  % svn co svn://dante.ctan.org/home/ctan/texcatalogue_svn
  svn: Can't connect to host 'dante.ctan.org': Connection timed out

So?...

>  however, sarovar is supposed to be kept up to date -- obviously the
> procedure is regularly falling over... i'll see what can be done to
> sort this out.

Thanks.

-- 
Florent

From preining at logic.at  Wed Jul  4 13:43:28 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 4 Jul 2007 13:43:28 +0200
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: <878x9xms4g.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<22af238a0707020535r6a3e5319ra9361203b593a764@mail.gmail.com>
	<87tzsmbygr.fsf@florent.maison> <878x9xms4g.fsf@florent.maison>
Message-ID: <20070704114328.GA17103@gamma.logic.tuwien.ac.at>

Hi Florent,

On Die, 03 Jul 2007, Florent Rougon wrote:
> Actually, I was in a hurry and answered a bit quickly here: for really
> simple stuff such as a list of tags, I'm open to other formats than XML
> (e.g., RFC-2822[1] would be OK).

Agreed, whatever, but not xml ;-) It is a pain for such things.

> What I'm opposed to is embedding machine-parseable information in a
> freeform file such as a README file. IMHO, if we want to put

ACK-ed several times.

> slightly scary for real newbies. But IMO, people able to maintain LaTeX
> packages shouldn't be afraid of such a common and straightforward
> syntax.

The problem is not the syntax, the problem is to have an easy way to get
decent information from it. I am already reading through stuff to just
read in the XML files of the catalogue and get some nice Perl hash from
hit, ie, nice structured. The problem with XML *IS* actually its
extensability. We want to have a certain level of extensability, and not
the full fledged one XML provides. This makes it parsing a pain in ...

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
KIRBY MISPERTON (n.)
One who kindly attempts to wipe an apparent kirby (q.v.) off another's
face with a napkin, and then discovers it to be a wart or other
permanent fixture, is said to have committed a 'kirby misperton'.
			--- Douglas Adams, The Meaning of Liff

From Robin.Fairbairns at cl.cam.ac.uk  Wed Jul  4 15:10:38 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed, 04 Jul 2007 14:10:38 +0100
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: Your message of Wed, 04 Jul 2007 14:16:27 +0200.
	<87ir90l5yc.fsf@florent.maison> 
Message-ID: <14005.1183554638@mole.cl.cam.ac.uk>

Florent Rougon <f.rougon at free.fr> wrote:

> Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:
> 
> [...]
> there is the mention of
> 
>   svn://comedy.dante.de/home/ctan/texcatalogue_svn
> 
> but
> 
>   % svn co svn://comedy.dante.de/home/ctan/texcatalogue_svn
>   svn: Can't connect to host 'comedy.dante.de': Connection timed out
> 
> and even (desperately trying):
> 
>   % svn co svn://dante.ctan.org/home/ctan/texcatalogue_svn
>   svn: Can't connect to host 'dante.ctan.org': Connection timed out
> 
> So?...

it's a private server, to ensure security.

> >  however, sarovar is supposed to be kept up to date -- obviously the
> > procedure is regularly falling over... i'll see what can be done to
> > sort this out.
> 
> Thanks.

there's an svn tree at ftp://cam.ctan.org/mirror/dante/trunk

that's updated every 8 hours, but is only accessible by ftp

might help while i'm in this afternoon's seminar and can't therefore
talk to rainer (who was looking after sarovar)...

robin


From Robin.Fairbairns at cl.cam.ac.uk  Wed Jul  4 15:13:45 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed, 04 Jul 2007 14:13:45 +0100
Subject: [tex-live] [LONG] Improving TeX package classification and the
	associated documentaion
In-Reply-To: Your message of Wed, 04 Jul 2007 13:43:28 +0200.
	<20070704114328.GA17103@gamma.logic.tuwien.ac.at> 
Message-ID: <14062.1183554825@mole.cl.cam.ac.uk>

Norbert Preining <preining at logic.at> wrote:

> The problem is not the syntax, the problem is to have an easy way to get
> decent information from it. I am already reading through stuff to just
> read in the XML files of the catalogue and get some nice Perl hash from
> hit, ie, nice structured. The problem with XML *IS* actually its
> extensability. We want to have a certain level of extensability, and not
> the full fledged one XML provides. This makes it parsing a pain in ...

do you want my catalogue-checking script as a guide?  i'm not much of a
programmer, but that produces hashes of catalogue entries, and might
therefore help.

robin

From oliver at first.in-berlin.de  Wed Jul  4 17:04:10 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed,  4 Jul 2007 17:04:10 +0200
Subject: [tex-live] Better ways to find packages and documentation
	[was:	texdoc in luatex]
In-Reply-To: <20070704121350.GB17103@gamma.logic.tuwien.ac.at>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
Message-ID: <1183561450.468bb6eaca434@webmail.in-berlin.de>

Hello Norbert,


Zitat von Norbert Preining <preining at logic.at>:

[...]
>
> I wanted to write:
>
>   We want to reduce data redundancy *in the source packages*!!!
>
>   The TLPOBJ files *CAN* (and hopefully will) be enriched with additional
>   information from the catalogue, but first I have to write a catalogue
>   access Perl module (and read xml, grrrr ;-).
>

Can you give me the URL of such a file as well as the information
you want to have extracted from it and how it should look like?!

Perl is not the best way to make such things, even if there might be
XML-modules on CPAN.

There are other possibiklities.

As far as I understand, this extraction is done, before
the DVD-image will be created and therefore there is no
limitation to the programming language?
If every language can be used, because this conversion
runs on a server, not during instalation, please let me know.
The I could try something new.



>   We want to include at least
>   - title/long description
>   - some version/license information
>   - (taggging information?)
>   - ...

Extracted from XML?
Written to flat textfile?



Ciao,
   Oliver

From f.rougon at free.fr  Wed Jul  4 17:33:20 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Wed, 04 Jul 2007 17:33:20 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <20070704121350.GB17103@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 4 Jul 2007 14:13:50 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
Message-ID: <873b04kwu7.fsf@florent.maison>

Hi,

We're getting closer and closer. :)

Norbert Preining <preining at logic.at> wrote:

> On Die, 03 Jul 2007, Florent Rougon wrote:
>> I took a little bit of time to answer, because I wanted to look at the
>> new TL infrastructure before (and also because I'm trying to have a life
>
> Please send me your comments and suggestions for this, too (private or
> here on list). We are still in the initial phase and everything is open.

Well, I'm not deeply involved in that as you are, so for the moment I'm
only in a position to try to understand how it works, but not really to
criticize and judge...

>> Do you want to visit Paris? :)
>
> Yes. When? Do you have some logic/mathematics institute nearby so that I
> can give a talk? That would make it a official journey ;-)

For holidays, we can arrange something in July or August (I think I'll
stay here till at least mid-July; for the rest, the details still have
to be worked out).

As for the talk, well, good idea... Problem is, I don't have close
relationships to university guys (I'm not from that world, I'm from what
we call ??Grandes ?coles?? and only spent one year in University
proper).

But I know there is a guy from the ENS (?cole Normale Sup?rieure)
reading this list; that would be great if he could arrange to invite you
for a talk. :)

>> When I read this texlive.tlpdb excerpt, it is not at all obvious (for a
>> program) that foo-de.pdf has the attribute language='de'.
>
> So the problem we/you try to solve is the additional tagging of single
> documents with language tags? Right?

Mostly. For individual documents, there are *already* (even if not
always, or not always up-to-date) langage *attributes* in the CTAN
Catalogue, so that would be nice to take advantage of them.

Additionally, I proposed to add *tags* to indiviual documents, but
that's only a proposal. It allows for finer classification of the docs
but implies a bit more complexity. Reading your mail, it seems you don't
really want to bother with that.

BTW: the emphasis here is to remind you that language='de' in a
     <documentation> element of the Catalogue is *not* what I call a tag
     here: it is an XML _attribute_ of the <documentation>.

     When I say _tag_ in this discussion, it refers to tags in the realm
     of faceted classification, i.e. as implemented in libtagcoll and
     debtags (the latter relying on the former).

> If we just for now ignore this problem and consider *only* CTAN package
> tagging (isn't it what you proposed below?) then that could be ignored.

Yes, that was a proposal.

> I would say for a start some system that allows me to search for
> packages with some tags, and spits out all/some document files, without
> any further sub-division (what kind of doc file etc) would already be a
> HUGE step forward, probably enough for all kind of needs. People *can*
> generally understand what a file is for, at leastafter the first 2
> pages.

But it takes time. Most things are only a matter of time. I can read the
whole CTAN English documentation given enough time...

>> I thought that in texlive.tlpdb:
>>   - either the 'name' field indicates the CTAN package name;
>>   - or there is a 'catalogue' field indicating the CTAN package name.
>
> In theory, yes. But nobody ever checked this!!!

Then make reality fit theory. :)

> We have some catalogue entries because I realized that the names are
> changed, but in general we *just*assume* that it is like this.

Why not assume that the tlpdb-to-CTAN package name mapping is correct
(using "catalogue" fields when they exist) and just fix any problem that
arises?

>> FWIW, I couldn't find ctan2tl by browsing the TL repository through the
>> web interface. Where is it?
>
> http://www.tug.org/svn/texlive/trunk/Build/tools/ctan2tl

Ah, thanks. Somehow most of the infrastructure stuff seemed to be in
Master, so I didn't look closely enough in Build. I'm still wondering
about the guidelines that define the contents of each of these dirs...

>> Yup, easy, but I want the Catalogue metadata carried with each doc file.
>
> But didn't you propose that tagging is done on the package level of the
> catalogue, not on the document level?

Yes, that was a proposal, an option. 

> In this case no need?

Well, not much of a need, but still. The language attributes of doc
files in the Catalogue are not what I'd call document tags. So even if
we abandon the idea of document tags, it still be better to take
advantage of these attributes from the Catalogue metadata.

>> 1) Can a given CTAN package be split among several TEXMF trees (in TL,
>>    in MiKTeX, etc.)? Or rather, do we want to support that?
>
> No.

Good. Then we can have the metadata be self-contained in each TEXMF
tree, with relatives paths from the base of the TEXMF tree. This is nice
from a theoretical POV and allows natural extension for TEXMFLOCAL data.

>> 2) Do you want the data for TL-available packages to be split into
>>    individual files for each package, or gathered into big files?
>> 
>>    Advantage for the split version: it's easier to register/unregister a
>>    package by distributors: just add or remove the corresponding files.
>> 
>>    Disadvantage: takes more space, clutters the filesystem.
>
> You mean of the documentation or something else?

The info I'm talking about here is:

  $package is available in TL
  $package has the following tags: macropackage::latex,
                                   field::chemistry, etc.
  $package ships the following doc files:
      relative/path/from/base/of/texmf/tree/file1 $short_desc1 language=de
      relative/path/from/base/of/texmf/tree/file2 $short_desc2 language=en
      ...

We can have this info in one file per CTAN package, or all compiled into
one big file. The first version allows for easier management by
distributors such as Debian (easy to add or remove a package), but it
creates a zillion files, each of which take one filesystem block, and
this can be slow on DVD media as you pointed out.

>From your later comments, I believe you prefer going for one big file
containing all the data for available packages.

>> 3) Do you want to reduce data redundancy as much as possible?
>
> Yes. The texlive cd will/can carry a copy of the catalogue (in some
> way), and that should be taken for further information.

OK, then I absolutely need a way to link from the "big file" we were
talking about (may be your available.tlpdb) to each CTAN package. Thus,
we need to specify that TL pkg name == CTAN package name, except when
the tlpdb has a "catalogue" field, in which case this indicates the CTAN
package name. Or something like that.

>   We want to reduce data redundancy *in the source packages*!!!
>
>   The TLPOBJ files *CAN* (and hopefully will) be enriched with additional
>   information from the catalogue

Ah. You should know what you want. :)

Too possibilities:
  - either we ship the Catalogue in XML format somewhere and we need a
    solid way to link from the other files to the Catalogue;
  - or we put all the needed information in "big files" that are derived
    from the Catalogue at installation time.

>  but first I have to write a catalogue, access Perl module (and read
>  xml, grrrr ;-).

Are you trying to parse it manually or what???

With the appropriate Python module (for instance xml.etree.ElementTree,
but there are many others), it is really very simple.

I have a movie catalog that is stored in XML format like this:

<?xml version="1.0" encoding="ISO-8859-15"?>
<collection>
  <disc number="1">
    <video type="movie" version="VF">
      <title>
        L'?ge de glace
      </title>
      <director>
        Chris Wedge
      </director>
      <director>
        Carlos Saldanha
      </director>
      <year>
        2002
      </year>
    </video>

    <video type="movie" version="VF">
      <title>
        Smoke
      </title>
      <director>
        Wayne Wang
      </director>
      <year>
        1995
      </year>
    </video>

    <video type="movie" version="VO" audio="en" subtitles="fr">
      <title>
        La nuit des morts-vivants
      </title>
      <director>
        George A. Romero
      </director>
      <year>
        1968
      </year>
    </video>

    <video type="movie" version="VO" audio="fr">
      <title>
        Le mouton enrag?
      </title>
      <director>
        Michel Deville
      </director>
      <year>
        1974
      </year>
    </video>
  </disc>

  <disc number="2">

  [...]

  </disc>
</collection>

and my Python script for generating LaTeX documents and Makefiles for
the catalog in various sort orders (by movie title and by disc number
for now) with templates for the various portions of LaTeX code (the
global documents as well as the portions that are repeated for each
movie) that can be stored in
/usr/{local/}?share/progname/templates/{by_title,by_disc_number/} or
$HOME/.progname/templates/{by_title,by_disc_number/} with configuration
in $HOME/.progname/config.py is only 450 lines when discarding the
comments (but not the "usage" help). See attachment.

Parsing the XML data is as simple as that:

import xml.etree.ElementTree as et

def main():

        [...]

        # p is a dictionary containing the parameters read from the
        # config file
        tree = et.ElementTree(file=p["input file"])
        write_catalogs(p, tree)


def write_catalogs(p, tree):
    write_catalog(p, tree, "by title", cmp_func_by_title)
    write_catalog(p, tree, "by disc", cmp_func_by_disc)


def write_catalog(p, tree, catalog_type, cmp_func):
    root = tree.getroot()

    [...]

    l = []

# --------------------8<-----------------------------8<--------------------
# Start of portion that reads the XML data
#
    for disc_elt in root:
        disc_number = int(disc_elt.get("number"))
        
        for video_elt in disc_elt:
          l.append((video_elt, disc_number))
#
# End of portion that reads the XML data
# --------------------8<-----------------------------8<--------------------

    l.sort(cmp=cmp_func)

    [...]

Then I write the particular data for a given movie, properly quoted for
special characters in LaTeX, based on a template like that:

@TITLE@ \emph{[@COMMENTS@]} & @AUDIO_VERSION@ & @AUDIO_LANG@ & @SUBTITLES_LANG@ & @DISC@\\

    # Write the info for each record
    for video_elt, disc_nb in data:
        title = video_elt.findtext("title").strip()

        comments = video_elt.findtext("comments", None)

        # snip code that choses the right template depending on
        # whether we want commments on movies in the output file
        # (assigns the variable 't')
        
        audio_version = video_elt.get("version", "")
        audio_lang = video_elt.get("audio", "")
        subtitles_lang = video_elt.get("subtitles", "")

        for from_str, to_str in \
                {"@TITLE@": title,
                 "@COMMENTS@": comments,
                 "@AUDIO_VERSION@": audio_version,
                 "@AUDIO_LANG@": audio_lang,
                 "@SUBTITLES_LANG@": subtitles_lang,
                 "@DISC@": ("%u" % disc_nb)
                 }.iteritems():
            if to_str is not None:
                t = t.replace(from_str, latex_quote(to_str))

I have to say, if you find XML difficult to read by a program, then
maybe, just maybe, you should look on the side of the language in use.
;-)

>   We want to include at least
>   - title/long description
>   - some version/license information
>   - (taggging information?)

Easy to add:

Tags: foo, bar, ...

Or we can have a separate file for all the package tags, as done in
debtags (actually, in Debian, we have now a fixed approach: fast-paced
evolution in /var/lib/debtags/package-tags provided you have the
appropriate lines in /etc/debtags/sources.list; slow-paced [approved by
the ftp-masters] for the tags embedded in the Packages file).

> I can imagine that additionally installed packages (in TEXMFLOCAL) drop
> their description files into TEXMFLOCAL/somewhere.

Sure. Probably not homogeneous if we adopt the "big file" approach, but
it is mostly an aesthetic problem (not homogeneous, because for adding
third-party stuff, I won't adopt the "big file" approach, since it's so
much easier for distributors to add/remove individual files per
package).

> The plan is that every local installation will have a 
> 	local.tlpdb
> (name to be changed) containing *only* those packages which are
> installed.

Good.

> Of course this doesn't handle the TEXMFLOCAL files.

That can be handled with additional files added by the admin.

>>    It is quite possible that we don't need to go so far as tagging
>>    individual doc files:
>
> ACK, and thus I would also ignore the problems you were talking above,
> about tagging individual files with language tags.
>
> There are *some* packages already in CTAN with language names, e.g., 
> 	lshort-russian
> and some others. I propose that we don't need the complexity of single
> file tagging, and neither the language tags for single files.

Hmmmm... grmmmpffff... okaaaaaaaaaaaaaaaaaay...

(but language='de' isn't a tag, it's an attribute)

>> (well, there is another question as I see from the rest of your mail: do
>> you prefer XML or RFC-2822 format? I saw you have some grief about XML,
>
> You have seen the texlive.tlpdb, I guess you know the answer ;-)

Maybe I have changed your mind now. ;-)

Well, maybe it's not so fun to change data in an already existing XML
file, but at least _reading_ it should be quite easy with a proper
library (module).

> I don't believe you. Well, btw, if you can write Python access modules
> for the TLPSRC/TLPOBJ/TLPDB/TLTREE/... that would be great,too. In fact
> for *application* (i.e., installer/updater, etc) purposes only access
> modules for
> 	TLPOBJ and TLPDB
> would be necessary. The rest is only for us at obj generation time.

Easy... but it's probably better to do that:
  - when the syntax is more or less settled;
  - or when I actually need it for the tool we're discussing about.

Or does someone already needs Python modules for this stuff??

>> You mean, there will be an unacceptable performance hit if anything in
>> this design causes a program to read one file per CTAN package? Because
>> of DVD head movements and things like that?
>
> Yes.

OK, then let's go for "big files" for everything excect third-party
stuff (in order to ease Debian packaging and such).

> I could even imagine that, if we do the tagging on a per package level,
> that we add the tagging to the TLPDB, and then we have the TLPDB of
> installed stuff, the TLPDB of available stuff of the TeX LIve
> installation media, and the additional .xml/whatever files dropped into
> TEXMFLOCAL.

Exactly.

> Yes, the installer creates a local.tlpdb for every installation.

Good.

> So my proposal is:
> - tagging is done on a per package level, not per file level

OK.

Hum, well, does everyone agree? :)

> - tags are stored in the Catalogue
> - tags are defined either by (format to be specified) files in the CTAN
>   dir as uploaded by the author, or via the web interface, or by the
>   CTAN maintainers

OK.

> - tags are taken from the catalogue when generating the to be shipped 
>   texlive.tlpdb and stored there

Earlier, you were saying that we would ship the Catalogue. In this case,
if you *really* want to reduce data redundancy, we can go look for the
tags in the Catalog.

*But* the Catalogue is made up of a zillion files, and we said we won't
accept any design that reads a zillion files. So, we need a compiled
version of the Catalogue, and this in fact can well be in the
texlive.tlpdb file.

Conclusion: no need to ship the Catalogue anymore (in XML format, that
            is)?

(tsss, tsss, tsss... but how do I get my language attributes, then? Will
 you kindly host them in texlive.tlpdb? :)

> - locally installed packages can ship (format to be specified) files 
>   in TEXMFLOCAL/(location to be specified)
> - the doc search program takes the infos/tags from:
> 	- the texlive.tlpdb as shipped on the DVD
> 	- the local.tlpdb of installed packages
> 	- the additional files in TEXMFLOCAL
>   and presents the info in some structured way (would allow people
>   to search also in *not already installed* packages or only under those
>   which are already installed.

Agreed.

We're almost there. :)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: flo-gen-video-catalogs
Type: application/x-python-code
Size: 17045 bytes
Desc: Program for generating movie catalogs from XML to LaTeX
	format
Url : http://tug.org/pipermail/tex-live/attachments/20070704/903de7f1/attachment-0001.pyc 

From f.rougon at free.fr  Wed Jul  4 17:48:00 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Wed, 04 Jul 2007 17:48:00 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <873b04kwu7.fsf@florent.maison> (Florent Rougon's message of
	"Wed, 04 Jul 2007 17:33:20 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
Message-ID: <87y7hwjhlb.fsf@florent.maison>

Typo:

Florent Rougon <f.rougon at free.fr> wrote:

> Or we can have a separate file for all the package tags, as done in
> debtags (actually, in Debian, we have now a fixed approach: fast-paced
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                                we now have a mixed approach
-- 
Florent

From siepo at cybercomm.nl  Wed Jul  4 18:45:27 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 4 Jul 2007 18:45:27 +0200
Subject: [tex-live] vista
Message-ID: <20070704164527.GB9456@molly>

I have played around a bit with Windows Vista to see what new
roadblocks it puts in our way.

It appears that, with a reasonably default install, you need admin
privileges to run unsigned executables. Can anybody confirm this?

If this is indeed the case, has anybody looked at good automated
ways to sign executables?

See also http://www.wiscocomputing.com/articles/code-signing.htm

-- 
Siep Kroonenberg

From arthur.reutenauer at normalesup.org  Wed Jul  4 19:24:09 2007
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Wed, 4 Jul 2007 19:24:09 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <873b04kwu7.fsf@florent.maison>
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
Message-ID: <20070704172409.GA17088@phare.normalesup.org>

> But I know there is a guy from the ENS (?cole Normale Sup?rieure)
> reading this list; that would be great if he could arrange to invite you
> for a talk. :)

  If you mean me, I'm afraid I couldn't be of much help; I'm only a
former student and do not have much contacts with the faculty staff
anymore. Although... what is that talk Norbert is supposed to give
exactly (I'm sorry, I was not following ;-)?

From f.rougon at free.fr  Wed Jul  4 20:14:47 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Wed, 04 Jul 2007 20:14:47 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <20070704172409.GA17088@phare.normalesup.org> (Arthur
	Reutenauer's message of "Wed, 4 Jul 2007 19:24:09 +0200")
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704172409.GA17088@phare.normalesup.org>
Message-ID: <878x9wf33c.fsf@florent.maison>

Arthur Reutenauer <arthur.reutenauer at normalesup.org> wrote:

>> But I know there is a guy from the ENS (?cole Normale Sup?rieure)
>> reading this list; that would be great if he could arrange to invite you
>> for a talk. :)
>
>   If you mean me, I'm afraid I couldn't be of much help; I'm only a
> former student and do not have much contacts with the faculty staff
> anymore.

Yes, I meant you. :)

> Although... what is that talk Norbert is supposed to give exactly (I'm
> sorry, I was not following ;-)?

Well, I don't know more details than "logic and mathematics", so I'll
let Norbert fill in the space.

-- 
Florent

From oliver at first.in-berlin.de  Wed Jul  4 21:30:01 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed,  4 Jul 2007 21:30:01 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <878x9wf33c.fsf@florent.maison>
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704172409.GA17088@phare.normalesup.org>
	<878x9wf33c.fsf@florent.maison>
Message-ID: <1183577401.468bf5393df28@webmail.in-berlin.de>

Zitat von Florent Rougon <f.rougon at free.fr>:
[...]
> > Although... what is that talk Norbert is supposed to give exactly (I'm
> > sorry, I was not following ;-)?
>
> Well, I don't know more details than "logic and mathematics", so I'll
> let Norbert fill in the space.
[...]


And Norbert (insisting on Perl) might try to use this module:

   http://search.cpan.org/~codechild/XML-Bare-0.11/Bare.pm

Then XML-parsing will be much easier.
Even writing might be in a reachable distance then.

Not all stuff must be done "by hand".


Ciao,
    Oliver




From preining at logic.at  Wed Jul  4 22:14:42 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 4 Jul 2007 22:14:42 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <878x9wf33c.fsf@florent.maison>
	<20070704172409.GA17088@phare.normalesup.org>
References: <87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704172409.GA17088@phare.normalesup.org>
Message-ID: <20070704201442.GA14709@gamma.logic.tuwien.ac.at>

Hi all,

On Mit, 04 Jul 2007, Arthur Reutenauer wrote:
>   If you mean me, I'm afraid I couldn't be of much help; I'm only a
> former student and do not have much contacts with the faculty staff
> anymore. Although... what is that talk Norbert is supposed to give
> exactly (I'm sorry, I was not following ;-)?

On Mit, 04 Jul 2007, Florent Rougon wrote:
> Yes, I meant you. :)

Mathematical logic, esp. many-valued logics
Kripke frames, intuitionistic logic
proof theory
geometry and proof theory


No need to actually invite me, if I need an invitation I have enough
colleagues at Paris VII to invite me ;-) In fact I have been several
times in Paris for cooperations. Pity that it was before my TeX/Debian
involvement.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HULL (adj.)
Descriptive of the smell of a weekend cottage.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Wed Jul  4 22:33:29 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 4 Jul 2007 22:33:29 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <873b04kwu7.fsf@florent.maison>
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
Message-ID: <20070704203329.GB14709@gamma.logic.tuwien.ac.at>

Hi Florent,

On Mit, 04 Jul 2007, Florent Rougon wrote:
> BTW: the emphasis here is to remind you that language='de' in a
>      <documentation> element of the Catalogue is *not* what I call a tag
>      here: it is an XML _attribute_ of the <documentation>.

Ok, see below for a solution to this.

> >> I thought that in texlive.tlpdb:
> >>   - either the 'name' field indicates the CTAN package name;
> >>   - or there is a 'catalogue' field indicating the CTAN package name.
> >
> > In theory, yes. But nobody ever checked this!!!
> 
> Then make reality fit theory. :)

This is what we assume! If problems occur we fix them.

> Why not assume that the tlpdb-to-CTAN package name mapping is correct
> (using "catalogue" fields when they exist) and just fix any problem that
> arises?

Yes, that is our approach.

> Ah, thanks. Somehow most of the infrastructure stuff seemed to be in
> Master, so I didn't look closely enough in Build. I'm still wondering
> about the guidelines that define the contents of each of these dirs...

Well, this is a LONG story. Everyone, starting from Sebastian, wrote
bits and pieces, some for management, some for cd building, some for
inclusion. They were saved sometimes here, sometimes there.

Generally what is in Master should have sense to be put on the DVD
shipped. The perl modules definitely make sense there, because
(hopefully soon) the installer will make use of them.

The stuff outside is used for updating the subversion repository, making
DVD/CDs, etc. I guess you see the difference.

> >   The TLPOBJ files *CAN* (and hopefully will) be enriched with additional
> >   information from the catalogue
> 
> Ah. You should know what you want. :)

Well, as I said, this is WIP.

> >  but first I have to write a catalogue, access Perl module (and read
> >  xml, grrrr ;-).
> 
> Are you trying to parse it manually or what???

No XML::Parser or XML::DOM or whatever it is called. Thanks to Robin I
have example code to write the Perl module as I like it ;-)

> With the appropriate Python module (for instance xml.etree.ElementTree,

The only problem is that I am genetically disabled for understanding
Python ;-)

> I have to say, if you find XML difficult to read by a program, then
> maybe, just maybe, you should look on the side of the language in use.
> ;-)

No, the difficulty is in the documentation ... and my laziness, as
usual!

> >   We want to include at least
> >   - title/long description
> >   - some version/license information
> >   - (taggging information?)
> 
> Easy to add:
> 
> Tags: foo, bar, ...

Yes, that was the
	tags ...

> >> you prefer XML or RFC-2822 format? I saw you have some grief about XML,
> 
> Maybe I have changed your mind now. ;-)

No. There is one big advantage:

Question: Is any file included in more than 1 TLPOBJ?

Answer:
	current format:
		grep '^ ' texlive.tlpdb | sort | uniq --repeated
	xml format:
		shoot yourself ...

If you need more examples ...

Another advantage was that I could write a (extremely dump, but working)
shell library to access stuff in the tlpdb quite fast. Now, how to do
this in XML???

The question is about *WHAT* do we win when using xml wrt some
structured text. I see nothing.

> Easy... but it's probably better to do that:
>   - when the syntax is more or less settled;
>   - or when I actually need it for the tool we're discussing about.
> 
> Or does someone already needs Python modules for this stuff??

No, and it was more a joke. But still, later on that would be nice.

> > I could even imagine that, if we do the tagging on a per package level,
> > that we add the tagging to the TLPDB, and then we have the TLPDB of
> > installed stuff, the TLPDB of available stuff of the TeX LIve
> > installation media, and the additional .xml/whatever files dropped into
> > TEXMFLOCAL.
> 
> Exactly.

See below for the attributes for doc files.

> > - tagging is done on a per package level, not per file level
> 
> OK.
> 
> Hum, well, does everyone agree? :)

Irrelevant, it is only you and me. Since I will implement this on the
TeX Live side, and the net win will be for everyone. But see below,
again.

> > - tags are taken from the catalogue when generating the to be shipped 
> >   texlive.tlpdb and stored there

Furthermore I propose that we could extend the format of the docfiles
lines as follows:
docfiles size=*****
 file1 attrib1=value1 attrib2=value2 ...
 file2 attrib1=value1 ...

That is an easy extension of the syntax, and we could carry over the
Catalogue contained attributes of files to the texlive.tlpdb. 

Furthermore, we add (optionally) for every TLPOBJ a line
	tags <tag1> <tag2> <tag3> ...
to get the per packages tagging.

Now the only problem is that we have to get this information from the
Catalogue to the texlive.tlpdb and its generation time. This is a
problem only for me I guess, but this I can handle.

This way you don't have to have access to anything else but the
texlive.tlpdb, local.tlpdb, local added .xml/whatever files for
TEXMFLOCAL.

Does this sound reasonable?

> We're almost there. :)

If you agree on that, we should start (in private email) to write a
decent proposal with:
- rational
- format changes to the infra structure of TeX Live
- changes necessary for the Catalogue
  . DTD changes
  . upload/handling changes
- specification of a file format for the upload specification

This we will bring back to attention here, to the CTAN guys.

>From my side as TL guy I see no problem in adding those tags/attributes.
It will not blow up the tlpdb too much.

For the CTAN it actually depends on the changes, but AFAIS now we only
need one more XML whatever entity for the tags.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HORTON-CUM-STUDLEY (n.)
The combination of little helpful grunts, nodding movements of the
head, considerate smiles, upward frowns and serious pauses that a
group of people join in making in trying to elicit the next
pronouncement of somebody with a dreadful stutter.
			--- Douglas Adams, The Meaning of Liff

From f.rougon at free.fr  Thu Jul  5 00:16:17 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Thu, 05 Jul 2007 00:16:17 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <20070704203329.GB14709@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 4 Jul 2007 22:33:29 +0200")
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
Message-ID: <87sl83erwu.fsf@florent.maison>

Hi,

Norbert Preining <preining at logic.at> wrote:

>> Then make reality fit theory. :)
>
> This is what we assume! If problems occur we fix them.

Fine.

> The only problem is that I am genetically disabled for understanding
> Python ;-)

Tsssk tsssk, did you even *try*?

Remember the old saying:

                    ___________________________________
                   < Python is executable pseudo-code. >
                    -----------------------------------
                           \   ^__^
                            \  (oo)\_______
                               (__)\       )\/\
                                   ||----w |
                                   ||     ||

> Question: Is any file included in more than 1 TLPOBJ?
>
> Answer:
> 	current format:
> 		grep '^ ' texlive.tlpdb | sort | uniq --repeated

Beeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeep!

Nope, this only works if two packages have the exact same file *paths*.
The more useful thing would be to detect files with the same basename
(which is, mmmyes, easy, but *you* are trying to convince me, not the
other way 'round :).

> 	xml format:
> 		shoot yourself ...

Well, well, well, it's just a few Python lines of code away. Not shell,
I admit.

> If you need more examples ...

OTOH, XML is eXtensible. *I*'ll give an example: when I started with my
little movie catalog in XML, I had no <comments> elements yet (for
storing my comments about a movie). When I found that useful, I was able
to add them in the DB and the Python script was still working with *no*
*modification* *at all*. It simply ignored these new elements. When I
later had a bit more time, I implemented handling of these fields and
added the corresponding markup in my LaTeX template files.

So, you can extend the file format with no modification whatsoever to
the program reading it, it still just works. When you have time, you can
then extend the program to take advantage of the new data. Same thing
with attributes (X-rated="yes" and such ;-) I hadn't thought of at
first.

You can often do similar things with custom formats, but it is not
always so automatic or elegant.

> Another advantage was that I could write a (extremely dump, but working)
> shell library to access stuff in the tlpdb quite fast. Now, how to do
> this in XML???

Well, you cannot do the parsing in shell, but if it's really a library,
you can write it Python and then provide a Python script that exposes a
command-line interface to the library. That's what I did with PyXMMS.

Anyway, your shell library is only doable in full shell if the format is
very simple. Otherwise, it becomes a *real pain* to parse correctly. For
instance, you'll tell me how to parse this in pure shell:

 path/to/manual.pdf details="pdfTeX User Manual" language="en"

(don't tell me you'll do that with "eval", because then I could easily
log into your computer and do pretty nice things)

> The question is about *WHAT* do we win when using xml wrt some
> structured text. I see nothing.

Of course, you can write structured text that looks like XML. But if you
want to support arbitrary nesting of structures and fields containing
spaces and/or newlines, I guess you will most probably end up with
either XML or some worse non-standard format.

One nice thing with XML is that the structure in the file can be
directly mirrored to a structured object in
Python/Perl/whatever-decent-programming-language (shell isn't one).

It's usually just a matter of a "for" loop and a library call to fill
your data structure with what you have in the XML file...

>> > - tagging is done on a per package level, not per file level
>> 
>> OK.
>> 
>> Hum, well, does everyone agree? :)
>
> Irrelevant, it is only you and me. Since I will implement this on the
> TeX Live side, and the net win will be for everyone. But see below,
> again.

I was saying that because it was difficult for me to give up on the idea
of document-level tags, and we seemed to be at the point of no return
concerning this decision, so I was somehow hoping that someone else
would object to this regression in available features. :)

> Furthermore I propose that we could extend the format of the docfiles
> lines as follows:
> docfiles size=*****
>  file1 attrib1=value1 attrib2=value2 ...
>  file2 attrib1=value1 ...

This is more or less OK, but looks more and more like XML. :)

And you'll have to come even closer to XML, because you need to quote
the attribute values, since I need the "details" attributes from the
Catalogue in order to display a nice description of each document in the
UI:

  <documentation details='Manual, PDF version:'  language='en'
                 href='ctan:/macros/latex/contrib/hyperref/doc/manual.pdf'/>
  <documentation details='Summary of options:'  language='en'
                 href='ctan:/macros/latex/contrib/hyperref/doc/options.pdf'/>

So, it's not:

 file1 attrib1=value1 attrib2=value2 ...
 file2 attrib1=value1 ...

but rather:

 file1 attrib1="value1" attrib2="value2" ...
 file2 attrib1="value1" ...

and you'll have to make up yet another quoting scheme for the cases
where we need a double quote in an attribute value... See how you're
slowly reinventing XML? :)

,----
| Theorem (F. Rougon, 2007)
| 
| Any custom text file format tends to become a degraded version of XML
| as adding features requires to extend it.
`----

> That is an easy extension of the syntax, and we could carry over the
> Catalogue contained attributes of files to the texlive.tlpdb. 

Sure, but you'll have to explicitely carry over every needed attribute.
Since the Catalogue DTD isn't likely to change every day, this won't be
a problem in practice, though...

> Furthermore, we add (optionally) for every TLPOBJ a line
> 	tags <tag1> <tag2> <tag3> ...
> to get the per packages tagging.

OK (yes, I admit we don't really need spaces/newlines in tag names).

> Now the only problem is that we have to get this information from the
> Catalogue to the texlive.tlpdb and its generation time. This is a
> problem only for me I guess, but this I can handle.

Thanks.

> This way you don't have to have access to anything else but the
> texlive.tlpdb, local.tlpdb, local added .xml/whatever files for
> TEXMFLOCAL.

Perfect.

> Does this sound reasonable?

Yes.

> If you agree on that, we should start (in private email) to write a
> decent proposal with:
> - rational

That's spellt "rationale"...

> - format changes to the infra structure of TeX Live

I suppose this should be in the files describing the TL infra in SVN,
no? I mean, the CTAN maintainers don't need to approve changes in the TL
infra, only those to the Catalogue, do they?

> - changes necessary for the Catalogue
>   . DTD changes
>   . upload/handling changes

Well, for upload and things like that, we can propose several
possibilities as already mentioned, but there are policy decisions that
*the CTAN maintainers* have to make, such as whether to use override
files, whether to blindly trust metadata from package official
maintainers, how to authenticate them, etc. (yes, I don't think they'll
want to require PGP-signed uploads, so authentication is probably
impossible to achieve...)

> - specification of a file format for the upload specification

Really, we shouldn't make this up without their input. There are many
possibilities, with XML, RFC-2822, etc. Well, we can always propose
something, but chances are good it will end up in the trashcan, so...

>>From my side as TL guy I see no problem in adding those tags/attributes.
> It will not blow up the tlpdb too much.

Surely, long descriptions will blow it up much more. But you *have* to
be able to cope with spaces in attribute values, in order to store the
short description for each doc file.

Question:

  Where will I find the various tlpdb files on the installed system?
  Currently, there is only one such file, but there are several TEXMF
  trees, so it is either in only one of the them (ugh), or preferably
  split among them. Since you said that a given TL package cannot be
  split among several TEXMF trees, it shouldn't be difficult to put into
  each TEXMF tree the part of the monolithic tlpdb file that contains
  all packages from that tree. Is this what you intend to do?

  If so, then the texmf[-{dist,doc}]/ part should be stripped as part of
  the tlpdb split process, since it has no meaning within a TEXMF tree.

Also, I don't know much how you make the Debian packages, but will you
be able to easily adapt all this for Debian, since we don't have the
same TEXMF trees as in upstream TL? (well, if the file paths relative to
the base of the TEXMF trees don't change, it's probably trivial since I
guess that basically everything goes to /usr/share/texmf-texlive, but
better think about that now than too late).

> For the CTAN it actually depends on the changes, but AFAIS now we only
> need one more XML whatever entity for the tags.
                    ^^^^^^^^^^^^^^^
                        element

An entity is something like "&foobar;".

(yes, I know you may be doing that intentionally to make XML look
complicated :)

(and yes, I do think XML is complicated *if* you want to understand all
the myriad of extensions around it such as XPath, XLink, XML Schemas,
RELAX-NG, XWhatever, but basic XML is simple)

With your answers to this mail, I should be able to start working (which
doesn't mean you'll see immediate results, because I'll have to learn Qt
again and see how to work with libtagcoll, but being able to assemble
all the parts in my little head will greatly improve my peace of mind
:).

Regards,

-- 
Florent

From f.rougon at free.fr  Thu Jul  5 01:01:28 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Thu, 05 Jul 2007 01:01:28 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <200707042238.l64McrB04465@f7.net> (Karl Berry's message of "Wed, 
	4 Jul 2007 17:38:53 -0500")
References: <200707042238.l64McrB04465@f7.net>
Message-ID: <87bqereptj.fsf@florent.maison>

karl at freefriends.org (Karl Berry) wrote:

> We already have the new TL "database", which is not XML and isn't going
> to be.  If we're going to add documentation tag information (what tags?
> is there a succinct list?),

There is no list that I'm aware of, and creating a good list is not a
trivial task, but will have to be done (well, it's relatively easy to
create a bad list; what is difficult is to create a good list with not
too many tags, no overlapping between them, orthogonal facets and to
ensure that the limited set of tags does cover most needs).

> then it seems to me it would be best to add the information to that
> database instead of somewhere separate. I don't understand what you
> are debating.

I was under the impression that the source of the tags had to be the
Catalogue. In which case, well, it will be XML.

Then I said I could get the tags directly from the Catalogue in XML
format, provided there exists a reliable link between the tlpdb file and
the Catalogue (by package name being a must, by document id being an
option). But it is also possible to have the tags carried over to the
tlpdb file; in this case, if you/Norbert ensure that all the metadata I
need ends up in the tlpdb file, then I don't need the Catalogue at all
for writing my program.

Norbert chose the second solution, which is fine with me. I only
mentioned the possibility of storing the tags in a separate file (not
necessarily XML; debtags does exactly that, not in XML but in RFC-2822)
instead of in the tlpdb files, in case you don't want to "pollute" it
with the tags. But that is only a proposal, nothing I want to impose on
anyone.

All of these possibilities are fine by me; I just have to know.

-- 
Florent

From oliver at first.in-berlin.de  Thu Jul  5 01:10:28 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu,  5 Jul 2007 01:10:28 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87sl83erwu.fsf@florent.maison>
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
Message-ID: <1183590628.468c28e47de53@webmail.in-berlin.de>

Hello,

Zitat von Florent Rougon <f.rougon at free.fr>:

> Hi,
>
> Norbert Preining <preining at logic.at> wrote:
[...]

> > Question: Is any file included in more than 1 TLPOBJ?
> >
> > Answer:
> > 	current format:
> > 		grep '^ ' texlive.tlpdb | sort | uniq --repeated
>
> Beeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeep!
>
> Nope, this only works if two packages have the exact same file *paths*.
> The more useful thing would be to detect files with the same basename
> (which is, mmmyes, easy,

Yes, easy.

But what not is easy, is to follow the discussion, if one is not
already deep into the field of texlive / TeX-directoty sturcture,
CTAN-filesystem and the tagging-stuff.

Mee... I'm only a programmer, and I like it most to write code from
scratch. That's the reason why I stopped working with Norbert on his
perl-stuff.

Tell me what we need as input and what wee need as output,
then I can start.

Talking about thousands of documents, which one has to read,
or telling me "invent a subroutine xyz, there already is a stub,
change it on your will and make it run" and afterwards getting
the answer: "well, it doesn't fit into the concept" is not my
way I like to work.
Let me do the black box, and I can help.
If there are things to write from scratch, fine.

If there are no documentation about what to do, but tons of
files which are from the old or teh new structure, or ...
..this is annoying to me.
I'm a hacker, not an archaelogist. ;-)

So, somewhere you asked, if really only two are working on that
whole stuff, and I think, it is true.
I'm not good in taking up code of others. And so it seems,
you both have to do that.

If there is something of the tasks like mentioned above,
and I can choose my language of choice, I could help.



>
> > 	xml format:
> > 		shoot yourself ...
>
> Well, well, well, it's just a few Python lines of code away. Not shell,
> I admit.
>
> > If you need more examples ...
>
> OTOH, XML is eXtensible. *I*'ll give an example: when I started with my
> little movie catalog in XML, I had no <comments> elements yet (for
> storing my comments about a movie). When I found that useful, I was able
> to add them in the DB and the Python script was still working with *no*
> *modification* *at all*.


This can also be done with simple text-based fileformats.
It depends on how your parser is programmed.

It would also be possible to throw an error-message on
your extended fileformat (I don't know, if a DTD could achieve this,
but I think so; I'm not an XML-expert; but with some checks in the
parser-code, that analyses, what the XML-parser gives vack as results,
this should also be possible => extending forbidden or allowed?!)



> It simply ignored these new elements. When I

This might be good, but also be a bad choice,
depending on the application. A seemingly extension might be
a typo...




>
> So, you can extend the file format with no modification whatsoever to
> the program reading it, it still just works. When you have time, you can
> then extend the program to take advantage of the new data. Same thing
> with attributes (X-rated="yes" and such ;-) I hadn't thought of at
> first.

Yes, this *can* be a good way.



>
> One nice thing with XML is that the structure in the file can be
> directly mirrored to a structured object in
> Python/Perl/whatever-decent-programming-language (shell isn't one).

OCaml of course. :)


[...]
> > Furthermore I propose that we could extend the format of the docfiles
> > lines as follows:
> > docfiles size=*****
> >  file1 attrib1=value1 attrib2=value2 ...
> >  file2 attrib1=value1 ...
>
> This is more or less OK, but looks more and more like XML. :)

Well, yes, it goes that direction ;-)
but XML is more bloaty...

[...]
>
> And you'll have to come even closer to XML, because you need to quote
> the attribute values, since I need the "details" attributes from the
> Catalogue in order to display a nice description of each document in the
> UI:
>
>   <documentation details='Manual, PDF version:'  language='en'
>                  href='ctan:/macros/latex/contrib/hyperref/doc/manual.pdf'/>
>   <documentation details='Summary of options:'  language='en'
>                  href='ctan:/macros/latex/contrib/hyperref/doc/options.pdf'/>
>
> So, it's not:
>
>  file1 attrib1=value1 attrib2=value2 ...
>  file2 attrib1=value1 ...
>
> but rather:
>
>  file1 attrib1="value1" attrib2="value2" ...
>  file2 attrib1="value1" ...
>
> and you'll have to make up yet another quoting scheme for the cases
> where we need a double quote in an attribute value... See how you're
> slowly reinventing XML? :)

But some lines later, you tell us, that this case is unlikely. ;-)
(...blank lines and newlines...)

>
> ,----
> | Theorem (F. Rougon, 2007)
> |
> | Any custom text file format tends to become a degraded version of XML
> | as adding features requires to extend it.

One also could invent a kind of simple language,
that makes things possible by implemented commands
instead of a bloated fileformat.
But you could also argue that XML can also be used for that
purose ;-)

...but it would be more bloaty... or would you rewrite your
Python-code in a xml-style?! ;-)



[...]
> > Furthermore, we add (optionally) for every TLPOBJ a line
> > 	tags <tag1> <tag2> <tag3> ...
> > to get the per packages tagging.
>
> OK (yes, I admit we don't really need spaces/newlines in tag names).
>

see above ;-)


[...]
> > If you agree on that, we should start (in private email) to write a
> > decent proposal with:
> > - rational
>
> That's spellt "rationale"...


something like a documentation of the whole process?
Shat's what I've looked for, when I subscribed this list.

[...]
>
> (yes, I know you may be doing that intentionally to make XML look
> complicated :)
>
> (and yes, I do think XML is complicated *if* you want to understand all
> the myriad of extensions around it such as XPath, XLink, XML Schemas,
> RELAX-NG, XWhatever, but basic XML is simple)
>
> With your answers to this mail, I should be able to start working (which
> doesn't mean you'll see immediate results, because I'll have to learn Qt
> again and see how to work with libtagcoll, but being able to assemble
> all the parts in my little head will greatly improve my peace of mind
> :).

Qt?

Will the next texlive-DVD include graphical installers based on Qt?!

Or am I completely out of order of the discussion?

Maybe discussing per Mail is not helping here,
because I will not read 10.000 splitters of docs and code snippets,
only because there is no overview on the concept that is planned to implement.

Ciao,
   Oliver

-- 
http://me.in-berlin.de/~first/



From oliver at first.in-berlin.de  Thu Jul  5 01:14:53 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu,  5 Jul 2007 01:14:53 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87bqereptj.fsf@florent.maison>
References: <200707042238.l64McrB04465@f7.net> <87bqereptj.fsf@florent.maison>
Message-ID: <1183590893.468c29ed9c25a@webmail.in-berlin.de>

Zitat von Florent Rougon <f.rougon at free.fr>:

> karl at freefriends.org (Karl Berry) wrote:
[...]
> Then I said I could get the tags directly from the Catalogue in XML
> format, provided there exists a reliable link between the tlpdb file and
> the Catalogue (by package name being a must, by document id being an
> option). But it is also possible to have the tags carried over to the
> tlpdb file; in this case, if you/Norbert ensure that all the metadata I
> need ends up in the tlpdb file, then I don't need the Catalogue at all
> for writing my program.
[...]

It seems I have missed the mail, where you mentioned,
what the program you want to write, will do.

What for a program do you want to write?

What task does it do?

Ciao,
   Oliver

From karl at freefriends.org  Thu Jul  5 01:23:41 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 4 Jul 2007 18:23:41 -0500
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87bqereptj.fsf@florent.maison>
Message-ID: <200707042323.l64NNfY18229@f7.net>

    I was under the impression that the source of the tags had to be the
    Catalogue. 

Yes, at least in the main.

    But it is also possible to have the tags carried over to the
    tlpdb file

Right.  This is what seems desirable to me.  Especially since we are
already carrying over other information from the Catalogue to tlpdb.

k

From martin at oneiros.de  Thu Jul  5 01:24:59 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 5 Jul 2007 01:24:59 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <1183590628.468c28e47de53@webmail.in-berlin.de>
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<10684.1183377857@mole.cl.cam.ac.uk> <87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<1183590628.468c28e47de53@webmail.in-berlin.de>
Message-ID: <68c491a60707041624n6dd14998m5a60c78d41c0e0b9@mail.gmail.com>

2007/7/5, Oliver Bandel <oliver at first.in-berlin.de>:
> Mee... I'm only a programmer, and I like it most to write code from
> scratch. That's the reason why I stopped working with Norbert on his
> perl-stuff.

We didn't miss you. Really.

Best
   Martin

From oliver at first.in-berlin.de  Thu Jul  5 01:46:07 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu,  5 Jul 2007 01:46:07 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <68c491a60707041624n6dd14998m5a60c78d41c0e0b9@mail.gmail.com>
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<1183590628.468c28e47de53@webmail.in-berlin.de>
	<68c491a60707041624n6dd14998m5a60c78d41c0e0b9@mail.gmail.com>
Message-ID: <1183592767.468c313f2262e@webmail.in-berlin.de>

Zitat von Martin Schr?der <martin at oneiros.de>:

> 2007/7/5, Oliver Bandel <oliver at first.in-berlin.de>:
> > Mee... I'm only a programmer, and I like it most to write code from
> > scratch. That's the reason why I stopped working with Norbert on his
> > perl-stuff.
>
> We didn't miss you. Really.


OK, then I go away.

I don't want to annoy here on the list.

Ciao,
   Oliver

From reinhard.kotucha at web.de  Thu Jul  5 02:51:19 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 5 Jul 2007 02:51:19 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <873b04kwu7.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
Message-ID: <18060.16519.405792.160319@zarniwoop.ms25.local>

Florent Rougon writes:

 >>> 1) Can a given CTAN package be split among several TEXMF trees (in TL,
 >>>    in MiKTeX, etc.)? Or rather, do we want to support that?
 >>
 >> No.

 > Good. Then we can have the metadata be self-contained in each TEXMF
 > tree, with relatives paths from the base of the TEXMF tree. This is nice
 > from a theoretical POV and allows natural extension for TEXMFLOCAL data.

A package can be split among a TEXMF tree and several bin/<platform>
trees.  There will be certainly one database for the whole system.

When you mention TEXMFLOCAL I suppose that you have documentation in
mind.  TeXLive itself will definitely not touch anything in TEXMFLOCAL
or TEXMFHOME.  It would be nice if programs like texdoctk look for
databases in TEXMFLOCAL and TEXMFHOME, too.  But IMO these databases
have to be maintained by the users.

Regarding the format of texlive.tlpdb:

I'm alraedy able to parse texlive.tlpdb and to retrieve the
information I currently need and sort them into hashes and arrays with
very few lines of Perl code.  It should be pretty easy to parse it
with Python as well.  

I'm not against using a standard file format, but I think it shouldn't
be much more verbose than Norbert's format.  XML is much too verbose
and too difficult to parse.

texlive.tlpdb is needed by the installer.  Writing an installer which
works on all platforms is difficult enough, and I'm happy at least
that Norbert's database can be parsed so easily without any extra
tools.  And I don't want to depend too much on external tools.  There
had been a nice Perl module for FTP access on CPAN a few years ago.
But the author found that there are severe bugs in it and instead of
fixing the bugs he simply removed it from CPAN.  If we are using a
simple file format as proposed by Norbert, we can maintain the tools
we need ourself and avoid a lot of trouble

I do not see any advantage using RFC 2822.  Parts of it are even
completely braindead:

   Messages are divided into lines of characters.  A line is a series of
   characters that is delimited with the two characters carriage-return
   and line-feed; that is, the carriage return (CR) character (ASCII
   value 13) followed immediately by the line feed (LF) character (ASCII
   value 10).  (The carriage-return/line-feed pair is usually written in
   this document as "CRLF".)

   There are two limits that this standard places on the number of
   characters in a line. Each line of characters MUST be no more than
   998 characters, and SHOULD be no more than 78 characters, excluding
   the CRLF.

In which world are we living?  CRLF is required by mechanical teletype
machines.  You must be quite old if you ever have seen such a beast.

   Header fields are lines composed of a field name, followed by a colon
   (":"), followed by a field body, and terminated by CRLF.

This means to replace

     <key> <value>
by
     <key>: <value>

but I don't see the advantage.  And there is absolutely no good reason
to limit the length of a string to such a ridiculous value.

Whatever you decide, I think that texlive.tlpdb is quite good and easy
to parse.  Minor changes are not a big problem, I can adapt the script
easily.  But I definitely refuse to make the installer dependent on
external parsers, modules, libraries, tools,... 

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Thu Jul  5 00:38:53 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 4 Jul 2007 17:38:53 -0500
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87sl83erwu.fsf@florent.maison>
Message-ID: <200707042238.l64McrB04465@f7.net>

We already have the new TL "database", which is not XML and isn't going
to be.  If we're going to add documentation tag information (what tags?
is there a succinct list?), then it seems to me it would be best to
add the information to that database instead of somewhere separate.  I
don't understand what you are debating.

k

From karl at freefriends.org  Thu Jul  5 00:08:07 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 4 Jul 2007 17:08:07 -0500
Subject: [tex-live] Better ways to find packages and documentation
	[was:	texdoc in luatex]
In-Reply-To: <20070704121350.GB17103@gamma.logic.tuwien.ac.at>
Message-ID: <200707042208.l64M87m27342@f7.net>

      We want to include at least
      - title/long description
      - some version/license information
      - (taggging information?)
      - ...

    but then I realized that I had some dicussion with Karl about this. So I
    changed what I wrote before. Karl, am I right here?!

Yes.  Author, too.

From preining at logic.at  Thu Jul  5 07:09:18 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Jul 2007 07:09:18 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <1183590628.468c28e47de53@webmail.in-berlin.de>
References: <873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<1183590628.468c28e47de53@webmail.in-berlin.de>
Message-ID: <20070705050918.GA2492@gamma.logic.tuwien.ac.at>

On Don, 05 Jul 2007, Oliver Bandel wrote:
> But what not is easy, is to follow the discussion, if one is not
> already deep into the field of texlive / TeX-directoty sturcture,
> CTAN-filesystem and the tagging-stuff.
> 
> Mee... I'm only a programmer, and I like it most to write code from
> scratch. That's the reason why I stopped working with Norbert on his
> perl-stuff.

Take as an example Florent, who also didn't have any idea about the new
infrastructure, nor the internal packaging of TeX Live. But he decided
to read and try to understand the current status FIRST, and then making
suggestions.

> Tell me what we need as input and what wee need as output,
> then I can start.

We don't need black boxes, we need people understanding what has to be
done and why. 

We don't need programming machines.

If you want you can still participated, but AFTER you get yourself
knowledgable with the internals.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SEATTLE (vb.)
To make a noise like a train going along.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu Jul  5 08:42:33 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Jul 2007 08:42:33 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87sl83erwu.fsf@florent.maison>
References: <20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
Message-ID: <20070705064233.GD7977@gamma.logic.tuwien.ac.at>

Hi Florent,

On Don, 05 Jul 2007, Florent Rougon wrote:
> > The only problem is that I am genetically disabled for understanding
> > Python ;-)
> 
> Tsssk tsssk, did you even *try*?

No ;-)

>                    < Python is executable pseudo-code. >

Perl, too.

> > 		grep '^ ' texlive.tlpdb | sort | uniq --repeated
> 
> Nope, this only works if two packages have the exact same file *paths*.

This is *what*I*want*to*check*! I don't care whether a file README
occurs 200 times in our database, only that a specific file is included
in more than 1 package (imagine the funny things in the Debian packages
if we have the same file included 2 times ...)

> The more useful thing would be to detect files with the same basename

Why??? This is completely useless, no? Ok, it is useful for something
else, for checking that we didn't do a packaging error and putting files
in multiple places.

> Anyway, your shell library is only doable in full shell if the format is
> very simple. Otherwise, it becomes a *real pain* to parse correctly. For
> instance, you'll tell me how to parse this in pure shell:
> 
>  path/to/manual.pdf details="pdfTeX User Manual" language="en"

This will be hard. True. But I have my perl modules ...

> > Furthermore I propose that we could extend the format of the docfiles
> > lines as follows:
> > docfiles size=*****
> >  file1 attrib1=value1 attrib2=value2 ...
> >  file2 attrib1=value1 ...
> 
> This is more or less OK, but looks more and more like XML. :)

Yes, but we are growing from below, not above. That makes the
difference.

>   <documentation details='Manual, PDF version:'  language='en'
>                  href='ctan:/macros/latex/contrib/hyperref/doc/manual.pdf'/>
>   <documentation details='Summary of options:'  language='en'
>                  href='ctan:/macros/latex/contrib/hyperref/doc/options.pdf'/>

No problem. We just require that no " is embedded, than my parsing in
perl is trivial. 

And don't tell me that in the language attribute and the details we need
embedded ".

>  file1 attrib1="value1" attrib2="value2" ...
>  file2 attrib1="value1" ...

Ok, no problem.

> and you'll have to make up yet another quoting scheme for the cases
> where we need a double quote in an attribute value... See how you're

No, no quotes within quotes.

> ,----
> | Theorem (F. Rougon, 2007)
> | 
> | Any custom text file format tends to become a degraded version of XML
> | as adding features requires to extend it.
> `----

And that makes it easily parseable, the degradation ...

Anyway, we are not discussing this. 

> > That is an easy extension of the syntax, and we could carry over the
> > Catalogue contained attributes of files to the texlive.tlpdb. 
> 
> Sure, but you'll have to explicitely carry over every needed attribute.
> Since the Catalogue DTD isn't likely to change every day, this won't be
> a problem in practice, though...

Ok, so what I see is that we have to carry over 
	details="..."
	language=....
for the doc files.

> > - format changes to the infra structure of TeX Live
> 
> I suppose this should be in the files describing the TL infra in SVN,
> no? I mean, the CTAN maintainers don't need to approve changes in the TL
> infra, only those to the Catalogue, do they?

Well, currently I consider the pod documentation in the perl modules the
definitive specification. There I wrote more details and specification,
but in general they agree.

And yes, it is only between you, me, and Karl. Ah, and Reinhard because
he plans to write / is writing a new installer based on this, so I guess
he needs this information, too.

> > - changes necessary for the Catalogue
> >   . DTD changes
> >   . upload/handling changes
> 
> Well, for upload and things like that, we can propose several
> possibilities as already mentioned, but there are policy decisions that
> *the CTAN maintainers* have to make, such as whether to use override
> files, whether to blindly trust metadata from package official
> maintainers, how to authenticate them, etc. (yes, I don't think they'll
> want to require PGP-signed uploads, so authentication is probably
> impossible to achieve...)

True, but we can propose something keeping in mind that we don't add too
much overhead for them.

> > - specification of a file format for the upload specification
> 
> Really, we shouldn't make this up without their input. There are many
> possibilities, with XML, RFC-2822, etc. Well, we can always propose
> something, but chances are good it will end up in the trashcan, so...

Right. Maybe we separate this out and do this AFTERWARDS.

> Surely, long descriptions will blow it up much more. But you *have* to
> be able to cope with spaces in attribute values, in order to store the
> short description for each doc file.

Ok, but I will ignore the problem of embedded quotes.

> Question:
> 
>   Where will I find the various tlpdb files on the installed system?

This is not specified till now. We have not agreed on this for now.

I would say that on the DVD it will be just in the root of the DVD and
named texlive.tlpdb.

ANything is still unclear. I would say that the installer creates
something like 
	local.tlpdb, or installed.tlpdb, or whatever.

What is not clear is:
- should we copy the DVD texlive.tlpdb to the hard disk?
- what about stuff available from the network?

>   Currently, there is only one such file, but there are several TEXMF
>   trees, so it is either in only one of the them (ugh), or preferably

It will be one of them, because we have the texmf-dist/texmf-doc/texmf
names embedded. So all filenames in the telxive.tlpdb are relative to
TEXLIVEROOT, not to the TEXMF tree.

After Taco issuing a bit of critic I proposed on the context list that
we could add another tag
	relocatable yes
in which case all trees are relative to a TEXMF tree, ie *without* the
texmf-dist/texmf/texmf-doc prefix.

The problem for texlive with making *everything* relocatable is that the
binaries are in bin/... and the respective packages also contain files
in texmf/.... And we don't want to treat these trees specifically.

What one COULD imagine is that for category Package and category
Documentation we remove the texmf-dist and texmf-doc, resp., prefix.
I don't see an immediate advantage, but it is doable.

OTOH adding this relocatable bit would allow package writers to provide
tlpobj files for their package, and make it easy to install, add to the
tlpdb etc.

Details need to be worked out.

> Also, I don't know much how you make the Debian packages, but will you
> be able to easily adapt all this for Debian, since we don't have the

I am schizophrenic, I am not thinking about this NOW. Here my primary
obligations are with TeX Live for now. Adaptions for OS packaging should
follow.

> > For the CTAN it actually depends on the changes, but AFAIS now we only
> > need one more XML whatever entity for the tags.
>                     ^^^^^^^^^^^^^^^
>                         element
> 
> An entity is something like "&foobar;".
> 
> (yes, I know you may be doing that intentionally to make XML look
> complicated :)

No, I am not doing this in anyway to make XML look bad whatever. I just
have NO NO NO idea about XML, and how to best parse it, etc etc. And I
was the one who wrote the stuff. Bad luck for the others ;-) Don't take
what I say as an affront, I am just trying to make the best for TeX
Live. And it is just simpler for those actually doing the programming to
use structured text files than xml. 

Even if it is in principle better to use xml, it is still some practical
decision about who is programming this stuff. And that is Karl,
Reinhard, and me.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
CONDOVER (n.)
One who is employed to stand about all day browsing through the
magazine racks in the newsagent.
			--- Douglas Adams, The Meaning of Liff

From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul  5 10:42:00 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 05 Jul 2007 09:42:00 +0100
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: Your message of Wed, 04 Jul 2007 18:23:41 -0500.
	<200707042323.l64NNfY18229@f7.net> 
Message-ID: <27123.1183624920@mole.cl.cam.ac.uk>

Karl Berry <karl at freefriends.org> wrote:

>     I was under the impression that the source of the tags had to be the
>     Catalogue. 
> 
> Yes, at least in the main.
> 
>     But it is also possible to have the tags carried over to the
>     tlpdb file
> 
> Right.  This is what seems desirable to me.  Especially since we are
> already carrying over other information from the Catalogue to tlpdb.

does this process happen continuously?  or do you intend to freeze the
copied tags as at the time they were copied?

r

From preining at logic.at  Thu Jul  5 11:01:22 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Jul 2007 11:01:22 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <27123.1183624920@mole.cl.cam.ac.uk>
References: <200707042323.l64NNfY18229@f7.net>
	<27123.1183624920@mole.cl.cam.ac.uk>
Message-ID: <20070705090122.GA25807@gamma.logic.tuwien.ac.at>

On Don, 05 Jul 2007, Robin Fairbairns wrote:
> >     But it is also possible to have the tags carried over to the
> >     tlpdb file
> > 
> > Right.  This is what seems desirable to me.  Especially since we are
> > already carrying over other information from the Catalogue to tlpdb.
> 
> does this process happen continuously?  or do you intend to freeze the
> copied tags as at the time they were copied?

The idea is that every time we update the texlive.tlpdb this information
is merged from the catalogue. And those who update the texlive.tlpdb
have a svn checkout of the catalogue.

Do you see a disadvantage/problem with one or the other?

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SKETTY (n.)
Apparently self-propelled little dance a beer glass performs in its
own puddle.
			--- Douglas Adams, The Meaning of Liff

From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul  5 12:05:23 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 05 Jul 2007 11:05:23 +0100
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: Your message of Thu, 05 Jul 2007 11:01:22 +0200.
	<20070705090122.GA25807@gamma.logic.tuwien.ac.at> 
Message-ID: <28439.1183629923@mole.cl.cam.ac.uk>

Norbert Preining <preining at logic.at> wrote:

> On Don, 05 Jul 2007, Robin Fairbairns wrote:
> > does this process happen continuously?  or do you intend to freeze the
> > copied tags as at the time they were copied?
> 
> The idea is that every time we update the texlive.tlpdb this information
> is merged from the catalogue. And those who update the texlive.tlpdb
> have a svn checkout of the catalogue.
> 
> Do you see a disadvantage/problem with one or the other?

no, i was just checking.

we do, however, need to establish a read-only catalogue source for
people.  (too busy yesterday to do anything about this...)

r

From f.rougon at free.fr  Thu Jul  5 13:38:38 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Thu, 05 Jul 2007 13:38:38 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <1183590893.468c29ed9c25a@webmail.in-berlin.de> (Oliver Bandel's
	message of "Thu, 5 Jul 2007 01:14:53 +0200")
References: <200707042238.l64McrB04465@f7.net> <87bqereptj.fsf@florent.maison>
	<1183590893.468c29ed9c25a@webmail.in-berlin.de>
Message-ID: <87k5tfkrlt.fsf@florent.maison>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

> What for a program do you want to write?
>
> What task does it do?

* Allows to search for a CTAN package based to its tags (at least)
* Lists the various doc files shipped in the package, when selected;
* Can fire the appropriate viewer for each doc file, if the package is
  installed.

-- 
Florent

From siepo at cybercomm.nl  Thu Jul  5 15:17:31 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 5 Jul 2007 15:17:31 +0200
Subject: [tex-live] os/2 support
In-Reply-To: <20070705131047.GA9717@molly>
References: <20070705131047.GA9717@molly>
Message-ID: <20070705131730.GB9717@molly>

On Thu, Jul 05, 2007 at 03:10:47PM +0200, Siep Kroonenberg wrote:
> A week ago Zdenek mentioned OS/2. Is anybody on this list actually
> using OS/2, or at least has access to an OS/2 system?  Afaik, the
> major virtual machine programs (vmware, parallels, virtual box)
> don't support OS/2 as a guest, which would limit our options for
> testing a lot.

Correction. I just saw that parallels DOES support some versions of
OS/2.

-- 
Siep Kroonenberg

From siepo at cybercomm.nl  Thu Jul  5 15:10:47 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 5 Jul 2007 15:10:47 +0200
Subject: [tex-live] os/2 support
Message-ID: <20070705131047.GA9717@molly>

A week ago Zdenek mentioned OS/2. Is anybody on this list actually
using OS/2, or at least has access to an OS/2 system?  Afaik, the
major virtual machine programs (vmware, parallels, virtual box)
don't support OS/2 as a guest, which would limit our options for
testing a lot.

Sorry for briging this up this late, but I was away at the time.

-- 
Siep Kroonenberg

From P.Taylor at rhul.ac.uk  Thu Jul  5 15:29:38 2007
From: P.Taylor at rhul.ac.uk (Philip Taylor (Webmaster))
Date: Thu, 05 Jul 2007 14:29:38 +0100
Subject: [tex-live] os/2 support
In-Reply-To: <20070705131730.GB9717@molly>
References: <20070705131047.GA9717@molly> <20070705131730.GB9717@molly>
Message-ID: <468CF242.5050500@Rhul.Ac.Uk>

How about Microsoft's Virtual PC 2007;
does that support OS/2, does anyone know ?
I'm quite impressed with it, for a freebie ...

Philip Taylor
--------
Siep Kroonenberg wrote:
> On Thu, Jul 05, 2007 at 03:10:47PM +0200, Siep Kroonenberg wrote:
>> A week ago Zdenek mentioned OS/2. Is anybody on this list actually
>> using OS/2, or at least has access to an OS/2 system?  Afaik, the
>> major virtual machine programs (vmware, parallels, virtual box)
>> don't support OS/2 as a guest, which would limit our options for
>> testing a lot.
> 
> Correction. I just saw that parallels DOES support some versions of
> OS/2.
> 

From markus.kohm at gmx.de  Thu Jul  5 16:01:51 2007
From: markus.kohm at gmx.de (Markus Kohm)
Date: Thu, 5 Jul 2007 16:01:51 +0200
Subject: [tex-live] os/2 support
In-Reply-To: <20070705131730.GB9717@molly>
References: <20070705131047.GA9717@molly> <20070705131730.GB9717@molly>
Message-ID: <200707051601.52000@KOMA020467>

Am Donnerstag 05 Juli 2007 schrieb Siep Kroonenberg:
>  I just saw that parallels DOES support some versions of
> OS/2.

and QEMU also does: <http://sites.mpc.com.br/ric/qemu/index.html>

Markus

From siepo at cybercomm.nl  Thu Jul  5 16:14:59 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 5 Jul 2007 16:14:59 +0200
Subject: [tex-live] os/2 support
In-Reply-To: <468CF242.5050500@Rhul.Ac.Uk>
References: <20070705131047.GA9717@molly> <20070705131730.GB9717@molly>
	<468CF242.5050500@Rhul.Ac.Uk>
Message-ID: <20070705141459.GC9717@molly>

On Thu, Jul 05, 2007 at 02:29:38PM +0100, Philip Taylor (Webmaster) wrote:
> How about Microsoft's Virtual PC 2007;
> does that support OS/2, does anyone know ?
> I'm quite impressed with it, for a freebie ...
> 
> Philip Taylor

http://www.microsoft.com/windows/products/winfamily/virtualpc/overview.mspx

So yes, it supports some versions. But Virtual PC requires a Windows
host, leaving aside the PPC Mac version, which is very very slow.

-- 
Siep Kroonenberg

From jschrod at acm.org  Thu Jul  5 17:05:49 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Thu, 5 Jul 2007 17:05:49 +0200
Subject: [tex-live] dviljk changes, committed to trunk
Message-ID: <18061.2253.163801.785396@puma.r.npc.de>


Hello,

I committed release 2.6p4 of dviljk to the trunk of TL's SVN
repository. The source will also be available on CTAN tomorrow.

This release brings the following user-visible enhancements and
changes.

 -- Files that are included by specials are searched with kpathsea.
    Configuration/environment variables DVILJINPUTS and TEXINPUTS are
    used as search path.

 -- Other program-specific configuration variables now use the prefix
    DVILJ, not the basename of the program variant (which can also be
    dvilj4 or dvilj2p).

 -- New specials:
     -- hpfile-verbatim: verbatim inclusion of a PCL file
     -- comment: add meta-information in a DVI file
     -- dvilj-psfile-syntax: syntax category of psfile special

 -- All relevant TEX_HUSH option are recognized now and acted upon.
    (Option special does not turn off warnings about invalid
    arguments, as discussed on tex-k the last few days.)

 -- Option values like orientation or page size have been updated to
    current PCL 5 capabilities.

 -- Last, but not least: The man page has been greatly enhanced, from
    3 to 7 pages in its Postscript form. All specials are described
    now and references have been added.

As usual, the ChangeLog has technical information about these changes.

Please email me if you find any problems with these new features or
have recommendations.

Enjoy,
	Joachim

PS: dviljk has a psfile special with the following syntax:

 psfile=file llx=x0 lly=y0 urx=x1 ury=y1 rwi=s

[lu]l[xy] are the bounding box coordinates (though I don't know which
coordinate system is used). rwi does somehow scale the included image.
If anybody knows the semantics of this special, I would be happy to
learn more about them and include that information in the man page.

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
Joachim Schrod					Email: jschrod at acm.org
Roedermark, Germany

	``How do we persuade new users that spreading fonts across the page
	like peanut butter across hot toast is not necessarily the route to
	typographic excellence?''			-- Peter Flynn

From john at cs.york.ac.uk  Thu Jul  5 19:28:58 2007
From: john at cs.york.ac.uk (John Murdie)
Date: Thu, 05 Jul 2007 18:28:58 +0100
Subject: [tex-live] bug of beamer in texlive 2007?
Message-ID: <1183656538.8862.208.camel@pc118>

Someone here has stumbled across what looks to me like a
Beamer-dependency or -configuration bug in TeXLive 2007. There's another
report of it in an article in comp.text.tex dated the 10th June:
http://groups.google.com/group/comp.text.tex/browse_thread/thread/4c37e564790366db
The problem is not present in the same version of Beamer (3.06) as
provided in TeXLive 2005.

There a similar report about a Beamer bug in TeXLive 2007 in
http://tug.org/mailman/htdig/tex-live/2007-March/013317.html - not
knowing Beamer well, I find the reply to be enigmatic. I note, however,
that the complainant says that, again, the problem doesn't happen with
the same version of Beamer in TeXLive 2007.

Can someone confirm, please, that at least the first issue above is a
real bug, and point me at a bug fix? The first article above suggests
replacing Beamer 3.06 by "Beamer 3.07", but that is not (yet?) available
from the Sourceforge project page for Beamer -
https://sourceforge.net/projects/latex-beamer/

John A. Murdie
Department of Computer Science
University of York


From reinhard.kotucha at web.de  Thu Jul  5 22:03:39 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 5 Jul 2007 22:03:39 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <20070705064233.GD7977@gamma.logic.tuwien.ac.at>
References: <20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<20070705064233.GD7977@gamma.logic.tuwien.ac.at>
Message-ID: <18061.20123.192914.658789@zarniwoop.ms25.local>

Norbert Preining writes:

 > >   Where will I find the various tlpdb files on the installed system?
 > 
 > This is not specified till now. We have not agreed on this for now.

texmf/web2c is supposed to contain system-specific stuff.  Any objections? 
But I think that it is sufficient to have only one file there.
 
 > I would say that on the DVD it will be just in the root of the DVD and
 > named texlive.tlpdb.

I assume that there is a texlive.tlpdb file on the DVD and a
compressed one on the CD and on the server.

The files on the server will be identical to the files on the CD with
the exception that binaries for all supported platforms are provided
on the server.  The tlpdb file on the server will be updated if
necessary (though binaries will be updated only once a year).

 > ANything is still unclear. I would say that the installer creates
 > something like 
 > 	local.tlpdb, or installed.tlpdb, or whatever.

Maybe this name will even change during the install/update process.
What I have in mind is to provide some information what has to be done
before anything is done.  During an update we have to make sure that
this file will not be damaged by a power failure or a broken network
connection.  If this file is damaged, all you can do is to remove TL
and install it from scratch. 

Since the old stuff has to be removed before newer packages can be
installed, the files "remove.tlpdb" and "install.tlpdb" should be
created first.  And after removing and downloading was successful a
file "installed.tlpdb" should be created and "{remove,install}.tlpdb"
should be removed.  After the post-install steps (texhash, updmap) the
file should be renamed to "tl.tlpdb" or something like that.

This makes it easier to recover is something goes wrong.

Actual names of files are not so important at the moment.
 
 > What one COULD imagine is that for category Package and category
 > Documentation we remove the texmf-dist and texmf-doc, resp., prefix.
 > I don't see an immediate advantage, but it is doable.

I don't remember the reason for having texmf and texmf-dist.  It makes
much sense in the repository but on an installed system I don't see
the benefit at the moment.  I suppose that Karl can provide more
information.

Merging texmf-doc/doc into texmf certainly requires to change the
directory structure.  The quick-and-dirty way is to move everything
from texmf-doc/doc/<language> to texmf/doc/tutorials/<language>
because it seems that texmf-doc contains tutorials only.  Can anybody
confirm this?
 
 > > (yes, I know you may be doing that intentionally to make XML look
 > > complicated :)
 > 
 > No, I am not doing this in anyway to make XML look bad whatever. I
 > just have NO NO NO idea about XML, and how to best parse it, etc
 > etc. And I was the one who wrote the stuff. Bad luck for the others
 > ;-) Don't take what I say as an affront, I am just trying to make
 > the best for TeX Live. And it is just simpler for those actually
 > doing the programming to use structured text files than xml.
 > 
 > Even if it is in principle better to use xml, it is still some
 > practical decision about who is programming this stuff. And that is
 > Karl, Reinhard, and me.

As I said in a previous mail, let's keep things as simple as possible.
XML is certainly the best choice if nested data structures have to be
processed.  But we don't need it here.  Norbert's texlive.tlpdb is fine.

Best regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Thu Jul  5 23:46:35 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Jul 2007 16:46:35 -0500
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <18061.20123.192914.658789@zarniwoop.ms25.local>
Message-ID: <200707052146.l65LkZW16828@f7.net>

    texmf/web2c is supposed to contain system-specific stuff.  Any objections? 

texmf/web2c might not be writable.  How about $TEXMFVAR/web2c?

    I don't remember the reason for having texmf and texmf-dist.  

See the texmf*/README files.  In theory, texmf-dist could be shared
between miktex and tl, although in practice I doubt it will ever happen.

Anyway, I don't want to change this.  It seems like a huge hassle.

    Merging texmf-doc/doc into texmf certainly requires to change the

I don't want to change that either.

    from texmf-doc/doc/<language> to texmf/doc/tutorials/<language>
    because it seems that texmf-doc contains tutorials only.  

Why?  Sorry, I am baffled by these suggestions.  I don't want to make
wholesale changes to the directory structure yet again without some
overwhelming reason.

    confirm this?

texmf-doc contains packages that are purely documentation, no runtime
stuff.  (E.g., TEXINPUTS does not include texmf-doc.)  I would not
describe them all as "tutorials".

karl

From reinhard.kotucha at web.de  Fri Jul  6 00:03:00 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 6 Jul 2007 00:03:00 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <200707052146.l65LkZW16828@f7.net>
References: <18061.20123.192914.658789@zarniwoop.ms25.local>
	<200707052146.l65LkZW16828@f7.net>
Message-ID: <18061.27284.254765.502668@zarniwoop.ms25.local>

Karl Berry writes:

 >     texmf/web2c is supposed to contain system-specific stuff.  Any
 >     objections?
 > 
 > texmf/web2c might not be writable.  How about $TEXMFVAR/web2c?

If the directory is not writable I fear that it's impossible to
install TeXLive at all.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Fri Jul  6 00:48:58 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Jul 2007 17:48:58 -0500
Subject: [tex-live] [tex-k] dviljk changes, committed to trunk
In-Reply-To: <18061.2253.163801.785396@puma.r.npc.de>
Message-ID: <200707052248.l65Mmwm10336@f7.net>

    I committed release 2.6p4 of dviljk to the trunk of TL's SVN

Great!

    PS: dviljk has a psfile special with the following syntax:
     psfile=file llx=x0 lly=y0 urx=x1 ury=y1 rwi=s

I assume it's the same as in dvips(k).  Although I've used that special
and even messed with those parameters, I don't know of any comprehensive
description (I just changed the numbers until my picture came out in the
right place).  

In dvipsk/special.lpro, I find the following, FWIW:

%   Here we handle bounding box calculations, if necessary.
%
/@rwi { 10 div /rwi X /rwiSeen true N } B % rwi will be real width after scaling
/@rhi { 10 div /rhi X /rhiSeen true N } B % rhi will be real height after scaling
/@llx { /llx X } B
/@lly { /lly X } B
/@urx { /urx X } B
/@ury { /ury X } B

Although dvips.texi has a `psfile special' node, it doesn't describe any
of those keys :(.

Tom ... ?

Thanks,
k

From karl at freefriends.org  Fri Jul  6 01:10:53 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Jul 2007 18:10:53 -0500
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <27123.1183624920@mole.cl.cam.ac.uk>
Message-ID: <200707052310.l65NArx18508@f7.net>

    does this process happen continuously?  or do you intend to freeze the
    copied tags as at the time they were copied?

Certainly we will continue to propagate any changes in the original
Catalogue.

From martin at oneiros.de  Fri Jul  6 02:09:29 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 6 Jul 2007 02:09:29 +0200
Subject: [tex-live] bug of beamer in texlive 2007?
In-Reply-To: <1183656538.8862.208.camel@pc118>
References: <1183656538.8862.208.camel@pc118>
Message-ID: <68c491a60707051709g53ad624of6f4add811e95275@mail.gmail.com>

2007/7/5, John Murdie <john at cs.york.ac.uk>:
> real bug, and point me at a bug fix? The first article above suggests
> replacing Beamer 3.06 by "Beamer 3.07", but that is not (yet?) available
> from the Sourceforge project page for Beamer -
> https://sourceforge.net/projects/latex-beamer/

It is: https://sourceforge.net/project/showfiles.php?group_id=92412

Best
   Martin

From jschrod at acm.org  Fri Jul  6 01:57:03 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 06 Jul 2007 01:57:03 +0200
Subject: [tex-live] linux 2.4 binaries
In-Reply-To: <200706142200.l5EM0B820859@f7.net>
References: <200706142200.l5EM0B820859@f7.net>
Message-ID: <f6k0gf$6ri$1@sea.gmane.org>

Karl Berry wrote:
> Michel Goossens at CERN kindly provided access to an old GNU/Linux
> machine running a 2.4 kernel to produce the i386-linux binaries that
> were in TL 2007.  CERN's security people are now planning to upgrade
> that machine, so it won't be available for the next TL release.
> 
> So, does anyone else have a 2.4 machine available to do this?  The
> easiest way is if I am able to log in and do the builds myself, but
> having binaries supplied is doable too.  Obviously it doesn't matter
> right now, but I'm trying to avoid surprises at the end.
> 
> Unless such a machine materializes, we will be forced to move on to
> Linux 2.6 in 2008 :).

I have several 2.4 systems, we can surely arrange something.

One of them (a SUSE 9.0) is still reachable from the Internet until 
the end of the year; it's a small virtual system at a hosting company.

If we need it for longer, I can also supply login on a SUSE 9.[0-3] 
in a VMware instance. Or maybe a Debian Sarge, but I have to check 
that first. That would be sufficient, too, would it?

But I can not promise that I will find the time to build the 
binaries myself -- that depends very much on the actual workload at 
my company, and you should not count on it.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From karl at freefriends.org  Fri Jul  6 00:15:04 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Jul 2007 17:15:04 -0500
Subject: [tex-live] bug of beamer in texlive 2007?
In-Reply-To: <1183656538.8862.208.camel@pc118>
Message-ID: <200707052215.l65MF4m29297@f7.net>

Hi John,

    http://groups.google.com/group/comp.text.tex/browse_thread/thread/4c37e564790366db

What I recall about beamer problems is not this bug specifically, but
rather that beamer and pgf (? something) had incompatibilities at the
time of the TL release.  Unfortunately.  That was subsequently fixed.

I don't see 3.07 on CTAN or sourceforge either.  I don't know what to
make of that.  Ask the OP?  Or the beamer mailing list?  Or Till Tantau?

Best,
K

From preining at logic.at  Fri Jul  6 08:21:33 2007
From: preining at logic.at (Norbert Preining)
Date: Fri, 6 Jul 2007 08:21:33 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <18061.27284.254765.502668@zarniwoop.ms25.local>
	<200707052146.l65LkZW16828@f7.net>
	<18061.20123.192914.658789@zarniwoop.ms25.local>
References: <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<20070705064233.GD7977@gamma.logic.tuwien.ac.at>
	<18061.20123.192914.658789@zarniwoop.ms25.local>
Message-ID: <20070706062133.GB12351@gamma.logic.tuwien.ac.at>

Hi all,

On Don, 05 Jul 2007, Reinhard Kotucha wrote:
>  > >   Where will I find the various tlpdb files on the installed system?
>  > 
>  > This is not specified till now. We have not agreed on this for now.
> 
> texmf/web2c is supposed to contain system-specific stuff.  Any objections? 
> But I think that it is sufficient to have only one file there.

I thought more on TEXLIVEROOT because the texlive.tlpdb is:
- nothing which is searched by any kpathsea program
- describes the full installation
But I don't care.

> I assume that there is a texlive.tlpdb file on the DVD and a
> compressed one on the CD and on the server.

Right.

> on the server.  The tlpdb file on the server will be updated if
> necessary (though binaries will be updated only once a year).

Right.

>  > What one COULD imagine is that for category Package and category
>  > Documentation we remove the texmf-dist and texmf-doc, resp., prefix.
>  > I don't see an immediate advantage, but it is doable.
> 
> I don't remember the reason for having texmf and texmf-dist.  It makes
> much sense in the repository but on an installed system I don't see

Stop, it is NOT about removing these trees, that is, as Karl says:

On Don, 05 Jul 2007, Karl Berry wrote:
> Anyway, I don't want to change this.  It seems like a huge hassle.

I agree. Let's leave it like it is. It was ONLY about what is
written in the tlpdb for "category package".

> Merging texmf-doc/doc into texmf certainly requires to change the

No.



On Don, 05 Jul 2007, Karl Berry wrote:
>     texmf/web2c is supposed to contain system-specific stuff.  Any objections? 
> 
> texmf/web2c might not be writable.  How about $TEXMFVAR/web2c?

On Fre, 06 Jul 2007, Reinhard Kotucha wrote:
> If the directory is not writable I fear that it's impossible to
> install TeXLive at all.

Here I agree with Reinhard. It is about the installer/update procedure
which needs to write stuff anyway.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
You're very sure of your facts, " he said at last, "I
couldn't trust the thinking of a man who takes the Universe
- if there is one - for granted.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From preining at logic.at  Fri Jul  6 08:24:07 2007
From: preining at logic.at (Norbert Preining)
Date: Fri, 6 Jul 2007 08:24:07 +0200
Subject: [tex-live] linux 2.4 binaries
In-Reply-To: <f6k0gf$6ri$1@sea.gmane.org>
References: <200706142200.l5EM0B820859@f7.net> <f6k0gf$6ri$1@sea.gmane.org>
Message-ID: <20070706062407.GC12351@gamma.logic.tuwien.ac.at>

On Fre, 06 Jul 2007, Joachim Schrod wrote:
> >Unless such a machine materializes, we will be forced to move on to
> >Linux 2.6 in 2008 :).
> 
> I have several 2.4 systems, we can surely arrange something.

Me too, no need to think about it now. I can even compile a dump kernel
for my machine and compile it there.

But I must honesly say I don't see ANY reason for a difference on which
KERNEL the binaries are build. This is IMHO *completely* irrelevant. 

WHAT is a problem is the libc version, X version etc. But please, not
the kernel... why should it?

If it is only the libs I can trivially install an etch or sarge chroot
and build it there. That should be definitely enough.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
WRABNESS (n.)
The feeling after having tried to dry oneself with a damp towel.
			--- Douglas Adams, The Meaning of Liff

From jschrod at acm.org  Fri Jul  6 09:44:40 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 06 Jul 2007 09:44:40 +0200
Subject: [tex-live] linux 2.4 binaries
In-Reply-To: <20070706062407.GC12351@gamma.logic.tuwien.ac.at>
References: <200706142200.l5EM0B820859@f7.net> <f6k0gf$6ri$1@sea.gmane.org>
	<20070706062407.GC12351@gamma.logic.tuwien.ac.at>
Message-ID: <f6krt8$1j1$1@sea.gmane.org>

Norbert Preining wrote:
> 
> But I must honesly say I don't see ANY reason for a difference on which
> KERNEL the binaries are build. This is IMHO *completely* irrelevant. 
> 
> WHAT is a problem is the libc version, X version etc. But please, not
> the kernel... why should it?

I took Karl's request as a synonym for "a Linux system with an 
older distribution". Or a "GNU/Linux system", if you insist. ;-)

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From preining at logic.at  Fri Jul  6 09:47:20 2007
From: preining at logic.at (Norbert Preining)
Date: Fri, 6 Jul 2007 09:47:20 +0200
Subject: [tex-live] linux 2.4 binaries
In-Reply-To: <468DEF96.5080408@elvenkind.com>
References: <200706142200.l5EM0B820859@f7.net> <f6k0gf$6ri$1@sea.gmane.org>
	<20070706062407.GC12351@gamma.logic.tuwien.ac.at>
	<468DEF96.5080408@elvenkind.com>
Message-ID: <20070706074720.GA22176@gamma.logic.tuwien.ac.at>

On Fre, 06 Jul 2007, Taco Hoekwater wrote:
> That won't work. The "linux 2.4" phrase is jus a shortcut for "an
> installation of a five year old linux distribution".

Ok, but this is *trivial*.

> There are some less obvious issues. The most important problem is not
> the common libraries like libc and libm (even though the new system

No problem. As I said, clean chroot of even sarge if you want. That
should be *really* old enough. Stuff build there is linked against the
stuff *installed* in the chroot, so against old libs.

> option, I don't know. Otherwise, you have to install older versions of
> gcc and binutils as well, and at that point, a complete old distro is
> much easier to handle.

They *are* installed in the chroot. The chroot contains a complete old
installation, including gcc (in sarge 3.3.5).

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
STURRY (n.,vb.)
A token run. Pedestrians who have chosen to cross a road immediately
in front of an approaching vehicle generally give a little wave and
break into a sturry. This gives the impression of hurrying without
having any practical effect on their speed whatsoever.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Fri Jul  6 09:30:30 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 06 Jul 2007 09:30:30 +0200
Subject: [tex-live] linux 2.4 binaries
In-Reply-To: <20070706062407.GC12351@gamma.logic.tuwien.ac.at>
References: <200706142200.l5EM0B820859@f7.net> <f6k0gf$6ri$1@sea.gmane.org>
	<20070706062407.GC12351@gamma.logic.tuwien.ac.at>
Message-ID: <468DEF96.5080408@elvenkind.com>

Norbert Preining wrote:
> On Fre, 06 Jul 2007, Joachim Schrod wrote:
>>> Unless such a machine materializes, we will be forced to move on to
>>> Linux 2.6 in 2008 :).
>> I have several 2.4 systems, we can surely arrange something.
> 
> Me too, no need to think about it now. I can even compile a dump kernel
> for my machine and compile it there.

That won't work. The "linux 2.4" phrase is jus a shortcut for "an
installation of a five year old linux distribution".

> If it is only the libs I can trivially install an etch or sarge chroot
> and build it there. That should be definitely enough.

There are some less obvious issues. The most important problem is not
the common libraries like libc and libm (even though the new system
of having incompatible version flagged by minor number is a pain),
but the more system-specific stuff like linux-gate.so and libgcc_s.so.
Perhaps you can get rid of those items with some gcc commandline
option, I don't know. Otherwise, you have to install older versions of
gcc and binutils as well, and at that point, a complete old distro is
much easier to handle.

Best,
Taco



From dak at gnu.org  Fri Jul  6 10:50:58 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 06 Jul 2007 10:50:58 +0200
Subject: [tex-live] linux 2.4 binaries
In-Reply-To: <468DEF96.5080408@elvenkind.com> (Taco Hoekwater's message of
	"Fri\, 06 Jul 2007 09\:30\:30 +0200")
References: <200706142200.l5EM0B820859@f7.net> <f6k0gf$6ri$1@sea.gmane.org>
	<20070706062407.GC12351@gamma.logic.tuwien.ac.at>
	<468DEF96.5080408@elvenkind.com>
Message-ID: <868x9tj4p9.fsf@lola.quinscape.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> Norbert Preining wrote:
>> On Fre, 06 Jul 2007, Joachim Schrod wrote:
>>>> Unless such a machine materializes, we will be forced to move on to
>>>> Linux 2.6 in 2008 :).
>>> I have several 2.4 systems, we can surely arrange something.
>>
>> Me too, no need to think about it now. I can even compile a dump kernel
>> for my machine and compile it there.
>
> That won't work. The "linux 2.4" phrase is jus a shortcut for "an
> installation of a five year old linux distribution".
>
>> If it is only the libs I can trivially install an etch or sarge chroot
>> and build it there. That should be definitely enough.
>
> There are some less obvious issues. The most important problem is not
> the common libraries like libc and libm (even though the new system
> of having incompatible version flagged by minor number is a pain),
> but the more system-specific stuff like linux-gate.so and libgcc_s.so.
> Perhaps you can get rid of those items with some gcc commandline
> option, I don't know. Otherwise, you have to install older versions of
> gcc and binutils as well, and at that point, a complete old distro is
> much easier to handle.

What I usually do in such cases is to install a bare-bones distro on
some LVM partition without a working boot setup, then chroot into it.
That way, I can keep my usual work environment without the need to
reboot or stuff.  Of course, once the environment diverges so much
that executables built in the old system won't run anymore on the
current system, things may get icky.

-- 
David Kastrup

From w.fleischer at mathematik.tu-chemnitz.de  Fri Jul  6 10:37:03 2007
From: w.fleischer at mathematik.tu-chemnitz.de (Wolfgang Fleischer)
Date: Fri, 6 Jul 2007 10:37:03 +0200
Subject: [tex-live] bug of beamer in texlive 2007?
In-Reply-To: <1183656538.8862.208.camel@pc118>
References: <1183656538.8862.208.camel@pc118>
Message-ID: <200707061037.09863.w.fleischer@mathematik.tu-chemnitz.de>

On Thursday 05 July 2007, John Murdie wrote:
> Someone here has stumbled across what looks to me like a
> Beamer-dependency or -configuration bug in TeXLive 2007. There's another
> report of it in an article in comp.text.tex dated the 10th June:
> http://groups.google.com/group/comp.text.tex/browse_thread/thread/4c37e5647
>90366db The problem is not present in the same version of Beamer (3.06) as
> provided in TeXLive 2005.
>
> There a similar report about a Beamer bug in TeXLive 2007 in
> http://tug.org/mailman/htdig/tex-live/2007-March/013317.html - not
> knowing Beamer well, I find the reply to be enigmatic. I note, however,
> that the complainant says that, again, the problem doesn't happen with
> the same version of Beamer in TeXLive 2007.
>
> Can someone confirm, please, that at least the first issue above is a
> real bug, and point me at a bug fix? The first article above suggests
> replacing Beamer 3.06 by "Beamer 3.07", but that is not (yet?) available
> from the Sourceforge project page for Beamer -
> https://sourceforge.net/projects/latex-beamer/
>
Simply follow your link above and click the download button. What you get is 
version 3.07. We replaced the beamer class only and are pleased now here.
> John A. Murdie
> Department of Computer Science
> University of York



-- 
+------------------------------------+
Dr. Wolfgang Fleischer,
TU Chemnitz, Fakult?t f?r Mathematik
Mathematisches Rechenzentrum
mrz at mathematik.tu-chemnitz.de
www.tu-chemnitz.de/mathematik/mrz
0371 531 34104 / 0371 531 22029 
+------------------------------------+
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070706/3d1b8c78/attachment.bin 

From rokicki at gmail.com  Fri Jul  6 01:05:58 2007
From: rokicki at gmail.com (Tom Rokicki)
Date: Thu, 5 Jul 2007 16:05:58 -0700
Subject: [tex-live] [tex-k] dviljk changes, committed to trunk
In-Reply-To: <200707052248.l65Mmwm10336@f7.net>
References: <18061.2253.163801.785396@puma.r.npc.de>
	<200707052248.l65Mmwm10336@f7.net>
Message-ID: <2b80cd370707051605o7d6ae4e7occfe9a72aa2f2f86@mail.gmail.com>

Heh, this goes back to 1985, I suspect.  :-)

llx/lly/urx/ury are the bounding box of the included image just as it
is in the BoundingBox DSC comment, so it's PostScript points
(bp or big points in TeX nomenclature).

These *can* be floating point values, I believe, in any dvips from
the past so many years, but originally they were restricted to
integer values.

rwi and rhi are the desired width and height of the resulting figure,
in *tenths* of big points (so 720 of these to the inch).  The reason I
used the rather arbitrary factor of ten scaling is to provide some
additional precision over plain old big points, which are pretty large
and thus if we restrict ourselves to integral values (and I think
the values calculated by epsf.tex/epsf.sty are indeed so restricted)
we end up with significant scaling/offset issues.  If I was doing it
today, I would probably use a larger factor than 10 since even
1/720th of an inch is visible.

If both rwi/rhi are nonzero, the picture is scaled, possibly losing
aspect ratio.  If only one of rwi/rhi is nonzero, the picture is
scaled, preserving aspect ratio.  If both rwi/rhi are zero, I'm not
sure what happens.

I'll try to find documentation for these.  I'm kind of surprised they
are not documented.

On 7/5/07, Karl Berry <karl at freefriends.org> wrote:
>
>     I committed release 2.6p4 of dviljk to the trunk of TL's SVN
>
> Great!
>
>     PS: dviljk has a psfile special with the following syntax:
>      psfile=file llx=x0 lly=y0 urx=x1 ury=y1 rwi=s
>
> I assume it's the same as in dvips(k).  Although I've used that special
> and even messed with those parameters, I don't know of any comprehensive
> description (I just changed the numbers until my picture came out in the
> right place).
>
> In dvipsk/special.lpro, I find the following, FWIW:
>
> %   Here we handle bounding box calculations, if necessary.
> %
> /@rwi { 10 div /rwi X /rwiSeen true N } B % rwi will be real width after
> scaling
> /@rhi { 10 div /rhi X /rhiSeen true N } B % rhi will be real height after
> scaling
> /@llx { /llx X } B
> /@lly { /lly X } B
> /@urx { /urx X } B
> /@ury { /ury X } B
>
> Although dvips.texi has a `psfile special' node, it doesn't describe any
> of those keys :(.
>
> Tom ... ?
>
> Thanks,
> k
>



-- 
Check out golly at http://golly.sf.net/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070705/86d1a3f0/attachment.html 

From f.rougon at free.fr  Fri Jul  6 18:58:27 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Fri, 06 Jul 2007 18:58:27 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <18060.16519.405792.160319@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Thu, 5 Jul 2007 02:51:19 +0200")
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<18060.16519.405792.160319@zarniwoop.ms25.local>
Message-ID: <87y7htbhak.fsf@florent.maison>

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> Florent Rougon writes:
>
>  >>> 1) Can a given CTAN package be split among several TEXMF trees (in TL,
>  >>>    in MiKTeX, etc.)? Or rather, do we want to support that?
>  >>
>  >> No.
>
>  > Good. Then we can have the metadata be self-contained in each TEXMF
>  > tree, with relatives paths from the base of the TEXMF tree. This is nice
>  > from a theoretical POV and allows natural extension for TEXMFLOCAL data.
>
> A package can be split among a TEXMF tree and several bin/<platform>
> trees.  There will be certainly one database for the whole system.

So, you're contradicting Norbert here. Which changes the infrastructure
from which the DB is built.

I'm getting a bit tired of this discussion (and I physically cannot type
too much anyway, and we've now gotten to the point where I have to slow
down). So, I believe I'll simply design my DB format myself and read the
DB files from /usr/share/progname, /usr/local/share/progname and
~/.progname/ on Unix.

When your file formats are ready and contain the data I asked for, I'll
write a bridge from yours to mine.

This will be better for several reasons, among which:
  - although having each TEXMF tree provide its own part of the DB is
    elegant, it reduces generality.

    For instance, some distro may choose to ship the .sty files for a
    package in a tree and the doc files in another tree, which in effect
    splits a CTAN package between two TEXMF trees, and therefore makes
    it either impossible or ugly (duplication of data) to have each
    TEXMF tree provide its own part of the DB.

  - directly reading the tlpdb files is ignoring MiKTeX and others. Of
    course, they can translate their data to tlpdb format, but:
      1) It's a bit ugly, some part of their data may not fit in the
         tlpdb canvas, or some fields of tlpdb may have no meaning for
         them.
      2) They will have to suffer from the constraints imposed by the
         tlpdb format, such as no space in file name, no double-quote in
         attribute values.

> When you mention TEXMFLOCAL I suppose that you have documentation in
> mind.  TeXLive itself will definitely not touch anything in TEXMFLOCAL
> or TEXMFHOME.  It would be nice if programs like texdoctk look for
> databases in TEXMFLOCAL and TEXMFHOME, too.  But IMO these databases
> have to be maintained by the users.

Since it appears that having each TEXMF tree ship its own part of the DB
is not desirable, things won't be in TEXMFLOCAL or TEXMFHOME, but in 
/usr/local/share/progname and ~/.progname/. But the feature will be
there.

> I'm not against using a standard file format, but I think it shouldn't
> be much more verbose than Norbert's format.  XML is much too verbose
> and too difficult to parse.

XML is not meant to be parsed by hand.

> texlive.tlpdb is needed by the installer.  Writing an installer which
> works on all platforms is difficult enough, and I'm happy at least
> that Norbert's database can be parsed so easily without any extra
> tools.  And I don't want to depend too much on external tools.  There
> had been a nice Perl module for FTP access on CPAN a few years ago.
> But the author found that there are severe bugs in it and instead of
> fixing the bugs he simply removed it from CPAN.  If we are using a
> simple file format as proposed by Norbert, we can maintain the tools
> we need ourself and avoid a lot of trouble

If Perl doesn't have a module that can reliably parse XML using the
basic features (not even namespaces), then it must be a really crappy
language.

> I do not see any advantage using RFC 2822.  Parts of it are even
> completely braindead:

[...]

>    There are two limits that this standard places on the number of
>    characters in a line. Each line of characters MUST be no more than
>    998 characters, and SHOULD be no more than 78 characters, excluding
>    the CRLF.

This is indeed a bit ridiculous, and one of the many reasons why I
prefer XML. This is because contrary to XML, RFC-2822 is old (well, its
ancestors are) and wasn't designed as a general format for holding data.

> In which world are we living?  CRLF is required by mechanical teletype
> machines.  You must be quite old if you ever have seen such a beast.

Ya know, CRLF is required on MS Windows...

> This means to replace
>
>      <key> <value>
> by
>      <key>: <value>
>
> but I don't see the advantage.  And there is absolutely no good reason
> to limit the length of a string to such a ridiculous value.

The (small) advantage is being able to parse it not by hand, but by
using reliable standard libraries, for languages that provide such
libraries. And using a standard file format allows one to use tools such
as grep-dctrl on the DB files, which can be quite nice.

ACK for the limitation in line length.

> Whatever you decide, I think that texlive.tlpdb is quite good and easy
> to parse.  Minor changes are not a big problem, I can adapt the script
> easily.  But I definitely refuse to make the installer dependent on
> external parsers, modules, libraries, tools,... 

I won't decide anything for you. Don't be afraid.

-- 
Florent

From f.rougon at free.fr  Fri Jul  6 19:13:06 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Fri, 06 Jul 2007 19:13:06 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <20070705064233.GD7977@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Thu, 5 Jul 2007 08:42:33 +0200")
References: <20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<20070705064233.GD7977@gamma.logic.tuwien.ac.at>
Message-ID: <87tzshbgm5.fsf@florent.maison>

Norbert Preining <preining at logic.at> wrote:

>>                    < Python is executable pseudo-code. >
>
> Perl, too.

(then mustn't have the same definition of pseudo-code...)

[...]

> Yes, but we are growing from below, not above. That makes the
> difference.

As in, "640 Ko ought to be enough for everyone"...

[...]

> What is not clear is:
> - what about stuff available from the network?

The DB files should list whatever is "available". If something is
available that doesn't even come from TL, then the admin has to add it
somehow to the DB if he wants the users to be able to find that stuff
from the central package&doc browsing place.

> I am schizophrenic, I am not thinking about this NOW. Here my primary
> obligations are with TeX Live for now. Adaptions for OS packaging should
> follow.

IMHO, this is short-sighted. If fmtutil.cnf had been thought with
distributors in mind, we would have divided the number of RC bugs on the
teTeX and TL Debian packages by at least a factor 3, I think (and we
would not even need this ugly special-casing of jadetex and xmltex in
update-fontlang).

> Even if it is in principle better to use xml, it is still some practical
> decision about who is programming this stuff. And that is Karl,
> Reinhard, and me.

Right, my intent has never been to change your format; I'm not that
arrogant. It was mainly to ensure that future versions do embed the data
I'll need, and to reduce your work by telling you *now* what I need,
instead of later when the formats are more difficult to change because
more things, such as the installer, rely on them. I only pointed out in
a few places how XML would make things more robust, but that's it.

-- 
Florent

From f.rougon at free.fr  Fri Jul  6 19:21:27 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Fri, 06 Jul 2007 19:21:27 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <1183590628.468c28e47de53@webmail.in-berlin.de> (Oliver Bandel's
	message of "Thu, 5 Jul 2007 01:10:28 +0200")
References: <20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison> <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<1183590628.468c28e47de53@webmail.in-berlin.de>
Message-ID: <87ps35bg88.fsf@florent.maison>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

>> That's spellt "rationale"...
>
>
> something like a documentation of the whole process?

No, see <http://www.m-w.com/cgi-bin/dictionary?va=rationale>.

> Shat's what I've looked for, when I subscribed this list.

You cannot expect documents to be written before they have been written,
or you have to write them yourself.

> Qt?
>
> Will the next texlive-DVD include graphical installers based on Qt?!

Who said that? I never talked about the installer.

> Or am I completely out of order of the discussion?

Seems to be the case, yes.

> Maybe discussing per Mail is not helping here,
> because I will not read 10.000 splitters of docs and code snippets,
> only because there is no overview on the concept that is planned to implement.

It is indeed a sad fact that noone here has volonteered yet to write
such documents for your own comfort. Sorry about that.

HTH, HAND.

-- 
Florent

From karl at freefriends.org  Sat Jul  7 00:33:18 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 6 Jul 2007 17:33:18 -0500
Subject: [tex-live] linux 2.4 binaries
In-Reply-To: <468DEF96.5080408@elvenkind.com>
Message-ID: <200707062233.l66MXIm22402@f7.net>

    The "linux 2.4" phrase is jus a shortcut for "an

It is true that I doubt whether the kernel itself is 2.4 or 2.6 matters,
but rather the age of the system surrounding the kernel.  On the other
hand, I'd be surprised and impressed if you could take a random
2.4-vintage system, drop a 2.6-kernel into it, and have it just work.

    The most important problem is not the common libraries like libc 

Actually the problem I have seen reported by users when I compile on a
2.6-vintage system *is* libc.  

    a complete old distro is much easier to handle.

Definitely.

    but the more system-specific stuff like linux-gate.so and libgcc_s.so.

I have never seen TL user reports about those.  I've never even heard of
the former.  The latter I've had my share of problems with, but not in TL.

k

From karl at freefriends.org  Sat Jul  7 01:27:36 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 6 Jul 2007 18:27:36 -0500
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <18061.27284.254765.502668@zarniwoop.ms25.local>
Message-ID: <200707062327.l66NRaO05570@f7.net>

     > texmf/web2c might not be writable.  

    If the directory is not writable I fear that it's impossible to
    install TeXLive at all.

Not at all.  More or less the whole point of the var trees is to make it
possible for the main trees to be on (for example) a read-only
filesystem or a CD.

The subject is network updates, which means the database file must be in
a mutable directory, since it will change at any time.  So, just as we
do with config.ps and lots of other config files, I expect we'll have a
tlpdb in the distributed tree which corresponds to the original
distribution, but then it should also exist in $TEXMFVAR (or somewhere,
but that seems like the obvious place) for the local changes.  And that
copy should override the one in the dist.

karl

From reinhard.kotucha at web.de  Sat Jul  7 11:34:42 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 7 Jul 2007 11:34:42 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87y7htbhak.fsf@florent.maison>
References: <200706301759.l5UHxAN21701@f7.net> <87abufhiyf.fsf@florent.maison>
	<20070702050802.GA20190@gamma.logic.tuwien.ac.at>
	<87ved3f5sp.fsf@florent.maison>
	<20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<18060.16519.405792.160319@zarniwoop.ms25.local>
	<87y7htbhak.fsf@florent.maison>
Message-ID: <18063.24114.467261.629452@zarniwoop.ms25.local>

Florent Rougon writes:
 > Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
 > 
 > > A package can be split among a TEXMF tree and several bin/<platform>
 > > trees.  There will be certainly one database for the whole system.
 > 
 > So, you're contradicting Norbert here. Which changes the infrastructure
 > from which the DB is built.

You misunderstand.  I did not make a proposal.  I just told you what
we already have.  Look into texlive.tlpdb and search for 
"name bin-bibtex8".  You'll see that this package provides files which
go into bin/<platform> and files which go into texmf/.
 
 > I'm getting a bit tired of this discussion (and I physically cannot type
 > too much anyway, and we've now gotten to the point where I have to slow
 > down). So, I believe I'll simply design my DB format myself and read the
 > DB files from /usr/share/progname, /usr/local/share/progname and
 > ~/.progname/ on Unix.

Currently I'm parsing Norbert's texlive.tlpdb myself.  It's quite easy
because the file format is simple.  I'll look into Norbert's modules
now and switch to them; at the moment I don't know whether they
provide everything I need.  It was easier to parse texlive.tlpdb
myself in order to do some tests.  I believe that when I switch to
Norbert's modules, I'll be more independet from the database itself.  

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From preining at logic.at  Sat Jul  7 11:56:40 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 7 Jul 2007 11:56:40 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <18063.24114.467261.629452@zarniwoop.ms25.local>
References: <873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<18060.16519.405792.160319@zarniwoop.ms25.local>
	<87y7htbhak.fsf@florent.maison>
	<18063.24114.467261.629452@zarniwoop.ms25.local>
Message-ID: <20070707095640.GA2721@gamma.logic.tuwien.ac.at>

On Sam, 07 Jul 2007, Reinhard Kotucha wrote:
> Currently I'm parsing Norbert's texlive.tlpdb myself.  It's quite easy
> because the file format is simple.  I'll look into Norbert's modules
> now and switch to them; at the moment I don't know whether they

Please use them, and tell me what is missing. This makes you less
dependent on any changes we do in the database!!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
TOLSTACHAOLAIS (phr.)
What the police in Leith require you to say in order to prove that you
are not drunk.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sat Jul  7 19:46:07 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 7 Jul 2007 19:46:07 +0200
Subject: [tex-live] SVN problems ... help!
Message-ID: <20070707174607.GB17969@gamma.logic.tuwien.ac.at>

Hi all!

>From my new computer I cannot commit stuff to the svn repository.
Strange.

I can to
	ssh preining at tug.org
and come to the server, even without asking the password since I use
ssh-agent (but also with password, I know it!).

Then I try to commit something in Master/tlpkg/tlpsrc and get:
$ $ svn commit
Authentication realm: <svn://tug.org:3690> texlive
Password for 'norbert': 
Authentication realm: <svn://tug.org:3690> texlive
Username: preining
Password for 'preining': 
Authentication realm: <svn://tug.org:3690> texlive
Username: 

But I typed the correct password!!!

So my questions are:
- why is there  <svn://tug.org:3690>, while my 
	.svn/entries
  lists
	svn://preining at tug.org/texlive/trunk/Master/tlpkg/tlpsrc
	svn://preining at tug.org/texlive

- why does it not accept my password


Any help is appreciated.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
There was a point to this story, but it has temporarily
escaped the chronicler's mind.
                 --- This line perhaps best sums up the whole book.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From reinhard.kotucha at web.de  Sat Jul  7 20:54:15 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 7 Jul 2007 20:54:15 +0200
Subject: [tex-live] SVN problems ... help!
In-Reply-To: <20070707174607.GB17969@gamma.logic.tuwien.ac.at>
References: <20070707174607.GB17969@gamma.logic.tuwien.ac.at>
Message-ID: <18063.57687.317585.272017@zarniwoop.ms25.local>

Norbert Preining writes:
 > Hi all!
 > 
 > >From my new computer I cannot commit stuff to the svn repository.
 > Strange.


 > - why does it not accept my password

Probably your password for svn is different from the password for ssh.
This is very likely because the web interface warned you that the svn
password is not really secret.

When I got my svn account I had to type my (svn) password but I had
not been asked for a password later.  I suppose that authentication is
then done by using the uuid key in .svn/entries in the root of your
working copy.

I suppose that you can copy your working directory from your old
machine to the new one and it should work there.  It should be
sufficient to copy the svn root without Master/ and Build/ but you
have to run "svn up".

It will probably not work if you checked out svn+ssh://...  Then it's
most likely an ssh issue.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From reinhard.kotucha at web.de  Sat Jul  7 21:31:57 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 7 Jul 2007 21:31:57 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <200707062327.l66NRaO05570@f7.net>
References: <18061.27284.254765.502668@zarniwoop.ms25.local>
	<200707062327.l66NRaO05570@f7.net>
Message-ID: <18063.59949.643880.672529@zarniwoop.ms25.local>

Karl Berry writes:
 >      > texmf/web2c might not be writable.  
 > 
 >     If the directory is not writable I fear that it's impossible to
 >     install TeXLive at all.
 > 
 > Not at all.  More or less the whole point of the var trees is to make it
 > possible for the main trees to be on (for example) a read-only
 > filesystem or a CD.
 > 
 > The subject is network updates, which means the database file must be in
 > a mutable directory, since it will change at any time.  So, just as we
 > do with config.ps and lots of other config files, I expect we'll have a
 > tlpdb in the distributed tree which corresponds to the original
 > distribution, but then it should also exist in $TEXMFVAR (or somewhere,
 > but that seems like the obvious place) for the local changes.  And that
 > copy should override the one in the dist.

We cannot simply copy things to $TEXMFVAR.  In many cases it's
required to remove an older version of a package.  There are many
examples.  What comes into my mind is vntex, where the name of a
directory had been changed recently.

We have to *replace* packages. It's not sufficient to put a newer
version somewhere else in the file system.  I also don't understand
why anybody wants to update a system which resides on a filesystem
he deliberately made read-only.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From preining at logic.at  Sat Jul  7 22:02:02 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 7 Jul 2007 22:02:02 +0200
Subject: [tex-live] SVN problems ... help!
In-Reply-To: <E7A2066A-97C7-4DC8-8554-32D8B0AD6D13@sil.org>
	<18063.57687.317585.272017@zarniwoop.ms25.local>
References: <20070707174607.GB17969@gamma.logic.tuwien.ac.at>
	<18063.57687.317585.272017@zarniwoop.ms25.local>
	<E7A2066A-97C7-4DC8-8554-32D8B0AD6D13@sil.org>
	<20070707174607.GB17969@gamma.logic.tuwien.ac.at>
	<18063.57687.317585.272017@zarniwoop.ms25.local>
Message-ID: <20070707200202.GC29376@gamma.logic.tuwien.ac.at>

On Sam, 07 Jul 2007, Reinhard Kotucha wrote:
> Probably your password for svn is different from the password for ssh.

On Sam, 07 Jul 2007, Jonathan Kew wrote:
> No, I believe the credentials are normally cached in ~/.subversion/ 
> auth/* on your machine. You should be able to look there on your old  
> computer (if available) and copy the relevant details.

Right, thanks to you two.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
FRING (n.)
The noise made by light bulb which has just shone its last.
			--- Douglas Adams, The Meaning of Liff

From jonathan_kew at sil.org  Sat Jul  7 22:00:02 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sat, 7 Jul 2007 21:00:02 +0100
Subject: [tex-live] SVN problems ... help!
In-Reply-To: <18063.57687.317585.272017@zarniwoop.ms25.local>
References: <20070707174607.GB17969@gamma.logic.tuwien.ac.at>
	<18063.57687.317585.272017@zarniwoop.ms25.local>
Message-ID: <E7A2066A-97C7-4DC8-8554-32D8B0AD6D13@sil.org>

On 7 Jul 2007, at 7:54 pm, Reinhard Kotucha wrote:

> Norbert Preining writes:
>> Hi all!
>>
>>> From my new computer I cannot commit stuff to the svn repository.
>> Strange.
>
>
>> - why does it not accept my password
>
> Probably your password for svn is different from the password for ssh.

Yes, likely (and wise).

> This is very likely because the web interface warned you that the svn
> password is not really secret.
>
> When I got my svn account I had to type my (svn) password but I had
> not been asked for a password later.  I suppose that authentication is
> then done by using the uuid key in .svn/entries in the root of your
> working copy.

No, I believe the credentials are normally cached in ~/.subversion/ 
auth/* on your machine. You should be able to look there on your old  
computer (if available) and copy the relevant details.

JK




From preining at logic.at  Sat Jul  7 22:14:30 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 7 Jul 2007 22:14:30 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87tzshbgm5.fsf@florent.maison>
References: <10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<20070704203329.GB14709@gamma.logic.tuwien.ac.at>
	<87sl83erwu.fsf@florent.maison>
	<20070705064233.GD7977@gamma.logic.tuwien.ac.at>
	<87tzshbgm5.fsf@florent.maison>
Message-ID: <20070707201430.GD29376@gamma.logic.tuwien.ac.at>

Hi Florent,

On Fre, 06 Jul 2007, Florent Rougon wrote:
> > I am schizophrenic, I am not thinking about this NOW. Here my primary
> > obligations are with TeX Live for now. Adaptions for OS packaging should
> > follow.
> 
> IMHO, this is short-sighted. If fmtutil.cnf had been thought with

Yes and no. I don't want to burden TeX Live with stuff that is only
necessary for Debian.

> > Even if it is in principle better to use xml, it is still some practical
> > decision about who is programming this stuff. And that is Karl,
> > Reinhard, and me.

[what I meant here is the infra structure and installer, of course you
count, too, when you write something. And thus we can also adapt to your
wishes, of course. Those doing the work have the right to ask for
something. ]

> Right, my intent has never been to change your format; I'm not that
> arrogant. It was mainly to ensure that future versions do embed the data
> I'll need, and to reduce your work by telling you *now* what I need,
> instead of later when the formats are more difficult to change because
> more things, such as the installer, rely on them. I only pointed out in
> a few places how XML would make things more robust, but that's it.

That's the reason why I want to have all this packaged up in some perl
modules. The underlying structure in fact is not important at all. If we
want to switch later on to xml, why not. We can do this, and export more
functionality for those who need.

For the installer all this is for now *definitely* not needed. Keep in
mind (probably you don't know), that *ALL*
installers/repackagers/distributers BUT Debian used the list files,
which are plain text representations generated from the tpm files,
extremly simple ones indeed. Only Debian (=me at that time) actually
used the tpm files, so I know how to parse these beasts ;-).

We want to start with the minimum necessary, but packaged up so that we
can extended it later on. Reinhard is writing the installer, hopefully
using the perl modules. If something is missing, I will implement it. If
we need some changes to the format, no problem. 

Same with you, write, and if you need some changes I will try to do
them.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HOFF (vb.)
To deny indignantly something which is palpably true.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sat Jul  7 22:25:28 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 7 Jul 2007 22:25:28 +0200
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <87y7htbhak.fsf@florent.maison>
References: <20070702113441.GB21042@gamma.logic.tuwien.ac.at>
	<873b06dffx.fsf@florent.maison>
	<10684.1183377857@mole.cl.cam.ac.uk>
	<87d4zadipm.fsf@florent.maison>
	<20070702172156.GC28153@gamma.logic.tuwien.ac.at>
	<87ir91pmio.fsf@florent.maison>
	<20070704121350.GB17103@gamma.logic.tuwien.ac.at>
	<873b04kwu7.fsf@florent.maison>
	<18060.16519.405792.160319@zarniwoop.ms25.local>
	<87y7htbhak.fsf@florent.maison>
Message-ID: <20070707202528.GE29376@gamma.logic.tuwien.ac.at>

Hi all,

On Fre, 06 Jul 2007, Florent Rougon wrote:
> > A package can be split among a TEXMF tree and several bin/<platform>
> > trees.  There will be certainly one database for the whole system.
> 
> So, you're contradicting Norbert here. Which changes the infrastructure
> from which the DB is built.


category package
	all in texmf-dist
category documentation
	all in texmf-doc
category Collection, Scheme
	only dependencies on other stuff
category TLCore
	mixed, texmf and bin/*

> I'm getting a bit tired of this discussion (and I physically cannot type
> too much anyway, and we've now gotten to the point where I have to slow

I agree.

> When your file formats are ready and contain the data I asked for, I'll
> write a bridge from yours to mine.

I think I already said what we will have:

per package:
	tags <tag1> <tag2> <tag3> ...
(all on one line, no space in tags)

in docfiles:
	docfiles size=.... 
	 file1 attr1="val1" attr2="val2" ...
attrI is not allowed to contain spaces, valI can contain spaces, but no `"'

These stuff will be included from the Catalogue at texlive.tlpdb package
build time.


Locations are not my thing, this has to be answered by Reinhard. I don't
care for this ;-)

>       2) They will have to suffer from the constraints imposed by the
>          tlpdb format, such as no space in file name, no double-quote in
>          attribute values.

The first thing shouldn't be a problem. I guess not even Miktex has
RELATIVE pathes with files containing spaces (all could be below some
dir with spaces in the path, but not the rest of the full path)

> is not desirable, things won't be in TEXMFLOCAL or TEXMFHOME, but in 
> /usr/local/share/progname and ~/.progname/. But the feature will be
> there.

Ok, sounds reasonable. But still you *could* use the proposal I made:
- specify some file format
- specify a location in TEXMF trees
- search TEXMFLOCAL (ev TEXMFHOME) for such files

> If Perl doesn't have a module that can reliably parse XML using the
> basic features (not even namespaces), then it must be a really crappy
> language.

Please let us stop this discussion. I *can* parse xml, perl has the
ability.

> >      <key>: <value>
[...]
> The (small) advantage is being able to parse it not by hand, but by
> using reliable standard libraries, for languages that provide such
> libraries. And using a standard file format allows one to use tools such
> as grep-dctrl on the DB files, which can be quite nice.

Stop. If you want
	<key>: <value>
then I can switch tlpsrc and tlpobj IMMEDIATELY. This is trivial. If you
say that this has some advantages then we can do the switch. NO problem.

Just let me know. Reinhard will use the perl modules, I can adapt the
perl modules in 5min. Then some sed magic for the tlpsrc files and we
are done.

In fact I first wanted to have this, too ...


Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
FULKING (participial vb.)
Pretending not to be in when the carol-singers come round.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Sat Jul  7 23:43:28 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 7 Jul 2007 16:43:28 -0500
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <20070707202528.GE29376@gamma.logic.tuwien.ac.at>
Message-ID: <200707072143.l67LhSk13799@f7.net>

            <key>: <value>

No.

From karl at freefriends.org  Sun Jul  8 00:53:34 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 7 Jul 2007 17:53:34 -0500
Subject: [tex-live] Better ways to find packages and documentation
In-Reply-To: <18063.59949.643880.672529@zarniwoop.ms25.local>
Message-ID: <200707072253.l67MrY005519@f7.net>

    We cannot simply copy things to $TEXMFVAR.  

I didn't suggest installing packages in $TEXMFVAR.
I suggested putting texlive.tlpdb there,
just like all the other mutable config files.

But I guess it is true that if the packages are updated in the main
tree(s), that the database might as well be too.

karl

From oliver at first.in-berlin.de  Sun Jul  8 20:21:36 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Sun,  8 Jul 2007 20:21:36 +0200
Subject: [tex-live] tlpdb-file sorted
Message-ID: <1183918896.46912b3066493@webmail.in-berlin.de>

Hello,


the last days I had some leisure and had implemented a
tlpdb-reader in OCaml.
Today I completely rewrote my parser/scanner and got it ready.

It now has 357 lines of code.

I have slurped in the whole TLPDB-file, revision 4520
and after reading in I have printed it out.

It has now all filelists sorted alphabetically and
all sizes of the same category (e.g. all sections of
binfiles of one package) will be sorted by size.
(I could use arch if that woule make more sense?!).


You can look at the file here:

    http://me.in-berlin.de/~first/texlive/tlpdb-rev-4520.sorted


Ciao,
   Oliver


-- 
http://me.in-berlin.de/~first/

From zdenek.wagner at gmail.com  Sun Jul  8 22:05:25 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 8 Jul 2007 22:05:25 +0200
Subject: [tex-live] os/2 support
In-Reply-To: <20070705141459.GC9717@molly>
References: <20070705131047.GA9717@molly> <20070705131730.GB9717@molly>
	<468CF242.5050500@Rhul.Ac.Uk> <20070705141459.GC9717@molly>
Message-ID: <8719b6240707081305g6b0af8a6va6e418a940366ecc@mail.gmail.com>

2007/7/5, Siep Kroonenberg <siepo at cybercomm.nl>:
> On Thu, Jul 05, 2007 at 02:29:38PM +0100, Philip Taylor (Webmaster) wrote:
> > How about Microsoft's Virtual PC 2007;
> > does that support OS/2, does anyone know ?
> > I'm quite impressed with it, for a freebie ...
> >
> > Philip Taylor
>
> http://www.microsoft.com/windows/products/winfamily/virtualpc/overview.mspx
>
> So yes, it supports some versions. But Virtual PC requires a Windows
> host, leaving aside the PPC Mac version, which is very very slow.
>
The website of VirtualBox shows snapshots of eComStation (the
successor of OS/2) as a guest system. Unfortunatelly I did not manage
to make it work on 64bit dual-core machine. I thus still need a
separate computer for OS/2 and it has very little free disk space :-(

> --
> Siep Kroonenberg
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From preining at logic.at  Mon Jul  9 09:07:35 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 9 Jul 2007 09:07:35 +0200
Subject: [tex-live] tlpdb-file sorted
In-Reply-To: <1183918896.46912b3066493@webmail.in-berlin.de>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
Message-ID: <20070709070735.GA8211@gamma.logic.tuwien.ac.at>

On Son, 08 Jul 2007, Oliver Bandel wrote:
> I have slurped in the whole TLPDB-file, revision 4520
> and after reading in I have printed it out.
> 
> It has now all filelists sorted alphabetically and
> all sizes of the same category (e.g. all sections of
> binfiles of one package) will be sorted by size.

What is the use of this?

If you want to contribute OCamL code, please write some
modules/packages/whatever-it-is-called-in-ocaml for accessing, adding,
etc functions of the tlpdb.

Reading in and sorting and writing out is not *really* important.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SCONSER (n.)
A person who looks around then when talking to you, to see if there's
anyone more interesting about.
			--- Douglas Adams, The Meaning of Liff

From oliver at first.in-berlin.de  Mon Jul  9 10:27:32 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Mon,  9 Jul 2007 10:27:32 +0200
Subject: [tex-live] Dependencies resolved -> List-of-Files-to-install (was:
	Re: tlpdb-file sorted)
In-Reply-To: <20070709070735.GA8211@gamma.logic.tuwien.ac.at>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
Message-ID: <1183969652.4691f174d15e8@webmail.in-berlin.de>

Zitat von Norbert Preining <preining at logic.at>:

> On Son, 08 Jul 2007, Oliver Bandel wrote:
> > I have slurped in the whole TLPDB-file, revision 4520
> > and after reading in I have printed it out.
> >
> > It has now all filelists sorted alphabetically and
> > all sizes of the same category (e.g. all sections of
> > binfiles of one package) will be sorted by size.
>
> What is the use of this?

It was the first "hello, I'm back" after
going off list ;-)
And it was the first rudimental functionality that could
make sense to provide. It was a "hey, fine, my tlpdb-reader
works" happiness.



I have now added more functionality: In the file
 
http://me.in-berlin.de/~first/texlive/texlive-package-install--from-tlpdb-rev-4520.txt

one can find a resolved package-dependency for each package.

The file contains the names of ALL packages that must be installed,
when installing a package with a certain name.

I looked for the dependencies of a package, added these to the
name of files one needs to install, and also looked for the
dependencies of theese packages...recursively.

So, for each package now the name of all packages that must be installed
are in that file, in a similar format as the tlpdb-file.

With 157662 Bytes size it's remarkable small.

If now someone want to add a list of packages,
the only thing that must be done to find the
list of all packages that must be installed, is,
to gather all names of the listed files, making them
"uniq" and install them.

No further dependency-checks are necessary.

Wouldn't it be a good idea to provide such a file
for the installation? Then the installation-scripts
only needs to slurp in the names...

... It could also make sense to put together files,
that will be used most often, very closely on the CD-/DVD-Image,
or compressing them together in a zip/gz/tgz-file (if compressing
is necessary).

Does this provide any help?
IMHO such a list makes sense.

What do you think?

Ciao,
   Oliver

P.S.: If it would be possible to locate the position of the files on the
      disk-image, one also could provide an automatic installation-order,
      to minimize the disk-reading-times.
      But I have no clue about disk images at that time, so this only
      is a first idea. But maybe looking at the file-locations more closeely
      could make sense.

From oliver at first.in-berlin.de  Mon Jul  9 10:35:19 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Mon,  9 Jul 2007 10:35:19 +0200
Subject: [tex-live] tlpdb-file sorted
In-Reply-To: <20070709070735.GA8211@gamma.logic.tuwien.ac.at>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
Message-ID: <1183970119.4691f347c3ee6@webmail.in-berlin.de>

Zitat von Norbert Preining <preining at logic.at>:
[...]
> If you want to contribute OCamL code, please write some
> modules/packages/whatever-it-is-called-in-ocaml for accessing, adding,
> etc functions of the tlpdb.
[...]

What functions are needed for the tlpdb?

Is there somewhere a list of necessary functionality?

I could imagine things like
 - adding a package
 - removing a package
 - changing the entries of a package

What else?
And: where do the information comes from?
Will the categorization be derived from the
location of the files in the directory-tree?
And from the filename-extension (*.sty, *.pdf, *.tex)?

Or will there be necessarily someone who must check the
classification of the files?

So: what is part of human action, and what will/should/can be done
by the tlpdb-software automatically?


Ciao,
   Oliver

From preining at logic.at  Mon Jul  9 12:59:13 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 9 Jul 2007 12:59:13 +0200
Subject: [tex-live] tlpdb-file sorted
In-Reply-To: <1183970119.4691f347c3ee6@webmail.in-berlin.de>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
	<1183970119.4691f347c3ee6@webmail.in-berlin.de>
Message-ID: <20070709105913.GI31568@gamma.logic.tuwien.ac.at>

On Mon, 09 Jul 2007, Oliver Bandel wrote:
> So: what is part of human action, and what will/should/can be done
> by the tlpdb-software automatically?

Master/tlpkg/bin/*
	extremly small scripts
Master/tlpkg/TeXLive/*.pm
	pod documented stuff

bottom line: everything is generated from the tlpsrc files.

and what is needed is what is provided by TeXLive::TLPDB.pm

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
KINGSTON BAGPUISE (n.)
A forty-year-old sixteen-stone man trying to commit suicide by
jogging.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Mon Jul  9 12:59:57 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 9 Jul 2007 12:59:57 +0200
Subject: [tex-live] Dependencies resolved -> List-of-Files-to-install
	(was: Re: tlpdb-file sorted)
In-Reply-To: <1183969652.4691f174d15e8@webmail.in-berlin.de>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
	<1183969652.4691f174d15e8@webmail.in-berlin.de>
Message-ID: <20070709105957.GJ31568@gamma.logic.tuwien.ac.at>

On Mon, 09 Jul 2007, Oliver Bandel wrote:
> Wouldn't it be a good idea to provide such a file
> for the installation? Then the installation-scripts
> only needs to slurp in the names...

No. Because the installer can use the TLPDB/TLPOBJ modules to generated
this list. 

No duplication of information.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MALIBU (n.)
The height by which the top of a wave exceeds the height to which you
have rolled up your trousers.
			--- Douglas Adams, The Meaning of Liff

From oliver at first.in-berlin.de  Mon Jul  9 13:06:15 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Mon,  9 Jul 2007 13:06:15 +0200
Subject: [tex-live] Dependencies resolved -> List-of-Files-to-install
	(was: Re: tlpdb-file sorted)
In-Reply-To: <20070709105957.GJ31568@gamma.logic.tuwien.ac.at>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
	<1183969652.4691f174d15e8@webmail.in-berlin.de>
	<20070709105957.GJ31568@gamma.logic.tuwien.ac.at>
Message-ID: <1183979175.469216a714b70@webmail.in-berlin.de>

Zitat von Norbert Preining <preining at logic.at>:

> On Mon, 09 Jul 2007, Oliver Bandel wrote:
> > Wouldn't it be a good idea to provide such a file
> > for the installation? Then the installation-scripts
> > only needs to slurp in the names...
>
> No. Because the installer can use the TLPDB/TLPOBJ modules to generated
> this list.

Yes.

>
> No duplication of information.

Yes, I see this.

But it saves execution time during installation.
But maybe the main-problem is the reading from the DVD.

I don't know what the bottleneck is, there were many guesses
here on the list, but no true profiling.

Ciao,
   Oliver

From oliver at first.in-berlin.de  Mon Jul  9 13:08:06 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Mon,  9 Jul 2007 13:08:06 +0200
Subject: [tex-live] tlpdb-file sorted
In-Reply-To: <20070709105913.GI31568@gamma.logic.tuwien.ac.at>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
	<1183970119.4691f347c3ee6@webmail.in-berlin.de>
	<20070709105913.GI31568@gamma.logic.tuwien.ac.at>
Message-ID: <1183979286.46921716d8b43@webmail.in-berlin.de>

Zitat von Norbert Preining <preining at logic.at>:
[...]
>
> bottom line: everything is generated from the tlpsrc files.
>
[...]

Ah, ok. So I started with the result, not the input. ;-)

I will look at the tlpsrc then.

Thank you for the hint.

Ciao,
   Oliver

From oliver at first.in-berlin.de  Mon Jul  9 13:17:50 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Mon,  9 Jul 2007 13:17:50 +0200
Subject: [tex-live] Dependencies resolved -> List-of-Files-to-install
	(was: Re: tlpdb-file sorted)
In-Reply-To: <20070709105957.GJ31568@gamma.logic.tuwien.ac.at>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
	<1183969652.4691f174d15e8@webmail.in-berlin.de>
	<20070709105957.GJ31568@gamma.logic.tuwien.ac.at>
Message-ID: <1183979870.4692195e6cf3d@webmail.in-berlin.de>

Zitat von Norbert Preining <preining at logic.at>:

> On Mon, 09 Jul 2007, Oliver Bandel wrote:
> > Wouldn't it be a good idea to provide such a file
> > for the installation? Then the installation-scripts
> > only needs to slurp in the names...
>
> No. Because the installer can use the TLPDB/TLPOBJ modules to generated
> this list.
>
> No duplication of information.
[...]

But why will tlpdb be created?
If the tlpdb will be created from tlpsrc,
isn't tlpdb then also a duplication of information?


Ciao,
   Oliver

From preining at logic.at  Mon Jul  9 18:46:12 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 9 Jul 2007 18:46:12 +0200
Subject: [tex-live] tlpdb-file sorted
In-Reply-To: <1183979286.46921716d8b43@webmail.in-berlin.de>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
	<1183970119.4691f347c3ee6@webmail.in-berlin.de>
	<20070709105913.GI31568@gamma.logic.tuwien.ac.at>
	<1183979286.46921716d8b43@webmail.in-berlin.de>
Message-ID: <20070709164612.GC14236@gamma.logic.tuwien.ac.at>

On Mon, 09 Jul 2007, Oliver Bandel wrote:
> Ah, ok. So I started with the result, not the input. ;-)

I told you this already several times ...

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HUTLERBURN (n.archaic)
A burn sustained as a result of the behaviour of a clumsy hutler. (The
precise duties of hutlers are now lost in the mists of history.)
			--- Douglas Adams, The Meaning of Liff

From oliver at first.in-berlin.de  Tue Jul 10 00:28:30 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 10 Jul 2007 00:28:30 +0200
Subject: [tex-live] tlpdb-file sorted
In-Reply-To: <20070709164612.GC14236@gamma.logic.tuwien.ac.at>
References: <1183918896.46912b3066493@webmail.in-berlin.de>
	<20070709070735.GA8211@gamma.logic.tuwien.ac.at>
	<1183970119.4691f347c3ee6@webmail.in-berlin.de>
	<20070709105913.GI31568@gamma.logic.tuwien.ac.at>
	<1183979286.46921716d8b43@webmail.in-berlin.de>
	<20070709164612.GC14236@gamma.logic.tuwien.ac.at>
Message-ID: <1184020110.4692b68ea71d5@webmail.in-berlin.de>

Zitat von Norbert Preining <preining at logic.at>:

> On Mon, 09 Jul 2007, Oliver Bandel wrote:
> > Ah, ok. So I started with the result, not the input. ;-)
>
> I told you this already several times ...



ooops. Sorry for my ignorance. :(


Ciao,
   Oliver

From martin at oneiros.de  Wed Jul 11 23:15:58 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 11 Jul 2007 23:15:58 +0200
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <68c491a60707110624y6e04a106hdbf1073f1ee02687@mail.gmail.com>
References: <68c491a60707110624y6e04a106hdbf1073f1ee02687@mail.gmail.com>
Message-ID: <68c491a60707111415y4061594er95dbac9391165fd4@mail.gmail.com>

I've imported it into TL (r4561). I've also patched aleph and omega.

Best
   Martin

From panov at canopus.iacp.dvo.ru  Thu Jul 12 03:13:38 2007
From: panov at canopus.iacp.dvo.ru (=?utf-8?b?0JDQvdC00YDQtdC5INCf0LDQvdC+0LI=?=)
Date: Thu, 12 Jul 2007 12:13:38 +1100
Subject: [tex-live] bibtex8 buffers & entities
Message-ID: <200707121213.38804.panov@canopus.iacp.dvo.ru>

On sorting article bibliography with ~20 entries in Russian bibtex8 buffers and 
entities are easily exceeded even with -H option. The patch attached fixes this
issue.

-- 
?????? ?????
panov /@/ canopus.iacp.dvo.ru
-------------- next part --------------
A non-text attachment was scrubbed...
Name: bibtex.h.diff
Type: text/x-diff
Size: 746 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070712/d9224160/attachment.bin 

From preining at logic.at  Thu Jul 12 11:54:33 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 12 Jul 2007 11:54:33 +0200
Subject: [tex-live] Updates to the TeXLive infra structure
Message-ID: <20070712095433.GD3122@gamma.logic.tuwien.ac.at>

Hi Florent, hi all,

I have updated the perl modules and the specification in the pod
documentation such that:

> 	docfiles size=.... 
> 	 file1 attr1="val1" attr2="val2" ...
> attrI is not allowed to contain spaces, valI can contain spaces, but no `"'

is allowed. Note that for now the ONLY attributes are
	language
	details

Furthermore, there is the possibility to update practically everything
present in the Catalogue (and which is already parsed in
TeXCatalogue.pm) into a TLPOBJ by using
	catalogue-foobar value
as key/value pair. These things are available via
	$tlpobj->cataloguedata->{'foobar'}

I also wrote a method for TLPOBJ
	update_from_catalogue($texcatalogueobject)
which does currently the following:
	add
		catalogue-version
		catalogue-license
		catalogue-url
	(respective fields in the xml files in the Catalogue)
and for docfiles adds the 
	details="..."
and
	language="..."
tags if present in the catalogue.

The logic behind this is the following (in pseudocode):

for each CatalogueDocFile
  take the href entry
  remove the 'ctan:' prefix
  remove the ctan path element 
  # what remains is eg /README or /doc/foobar.pdf
  for each TLPOBJ Docfile
    if it matches /CatalogueDocFile$/ # ie end match
       update the detail and language stuff if present
    fi
  done
done


Since I don't know how the package tags will be named in the catalogue,
I haven't added the update of this, but if it is necessary, it is a
trivial change in TLPOBJ.pm, in update_from_catalogue, and in
TeXCatalogue.pm (less trivial, needs to be xml parsed).


I hope that brings us a step further ...

For Karl: Nothing changes for normal usage, since update-tlpdb does NOT
call tlpsrc2tlpdb with the catalogue stuff.

For Reinhard: If you still not use the modules take care ...

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BROMSGROVE
Any urban environment containing a small amount of dogturd and about
forty-five tons of bent steel pylon or a lump of concrete with holes
claiming to be sculpture. 'Oh, come my dear, and come with me. And
wander 'neath the bromsgrove tree' - Betjeman.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Fri Jul 13 00:46:24 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 12 Jul 2007 17:46:24 -0500
Subject: [tex-live] bibtex8 buffers & entities
In-Reply-To: <200707121213.38804.panov@canopus.iacp.dvo.ru>
Message-ID: <200707122246.l6CMkOn18254@f7.net>

    On sorting article bibliography with ~20 entries in Russian bibtex8 buffers and 
    entities are easily exceeded even with -H option. 

Sorry to hear it.  Thanks for the patch, will apply.

From preining at logic.at  Fri Jul 13 09:09:29 2007
From: preining at logic.at (Norbert Preining)
Date: Fri, 13 Jul 2007 09:09:29 +0200
Subject: [tex-live] [VAC] 2007/07/14 to 2007/08/12 Chamonix, Vallais, ...
Message-ID: <20070713070929.GA19125@gamma.logic.tuwien.ac.at>

Hi all,

I will be more or less offline, maybe some weekend connectivity while I
am doing my mountain guide job.

If someone interested in TeX, beer, Debian stuff, mountaineering, etc 
is by chance around on a weekend:
- 21./22. Chamonix
- 28./29. Chamonix
- 4./5. Zermatt area
let me know.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GALASHIELS (pl.n.)
A form of particularly long sparse sideburns which are part of the
mandatory uniform of British Rail guards.
			--- Douglas Adams, The Meaning of Liff


-- 
To UNSUBSCRIBE, email to debian-tex-maint-request at lists.debian.org
with a subject of "unsubscribe". Trouble? Contact listmaster at lists.debian.org



From jschrod at acm.org  Fri Jul 13 16:16:25 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 13 Jul 2007 16:16:25 +0200
Subject: [tex-live] dvipdfmx warnings -- sensible or not?
Message-ID: <f781fq$rbb$1@sea.gmane.org>

Hi,

Since many folks with lots of PDF knowledge are on this list, I'm 
asking this here. ;-)

I have a PDF file with a page that I include in a TeX document, 
using dvipdfmx. This driver outputs warnings:

** WARNING ** "TrimBox" different from current CropBox found.
** WARNING ** TrimBox (PDF): [ 0 0.055 595 841.945 ]
** WARNING ** CropBox/MediaBox (PDF)   : [ 0 0 595 842 ]

I can't see the problem that might be a reason for this warning. 
According to my understanding, it is quite normal that a TrimBox is 
smaller than a CropBox or a MediaBox -- that's explained in the PDF 
reference manual.

In addition, dvipdfmx behaves itself reasonably; the trim box is 
used as bbox of the constructed form object.

I will prepare a patch to dvipdfmx anyhow, that will add support 
for TEX_HUSH configuration; now I'm asking for your opinion if one 
should discard this warning as well. Or, you could please explain 
the problem to me, why this situation might warrant a warning.

Thanks in advance for any answer,

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From jschrod at acm.org  Fri Jul 13 16:41:11 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 13 Jul 2007 16:41:11 +0200
Subject: [tex-live] dvipdfmx: update to current version?
Message-ID: <f782u8$p5$1@sea.gmane.org>

The current release of dvipdfmx is 20070518, TL has 20061211.

Is there a TL maintainer for that package?
If yes, what are the plans for updating?
If no, shall I update it? (Keeping the TL changes, of course.)

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From karl at freefriends.org  Sat Jul 14 00:22:20 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Jul 2007 17:22:20 -0500
Subject: [tex-live] dvipdfmx: update to current version?
In-Reply-To: <f782u8$p5$1@sea.gmane.org>
Message-ID: <200707132222.l6DMMK712848@f7.net>

Hi Joachim,

    Is there a TL maintainer for that package?

Not specifically.  I mean, I update it before we build binaries, like I
do all the programs.  Help in this regard would be *most* welcome.

    If yes, what are the plans for updating?

I typically don't bother to import new versions of "external" programs
until we are building binaries and moving towards a release.  Life is
too short.

    If no, shall I update it?

If it's useful to you, please do.

   (Keeping the TL changes, of course.)

Actually, what I really want is to send the configure changes in a form
that ChoF and Shirata (upstream maintainers) can apply to their sources.
They are amenable to anything reasonable.  I tried to do this, but as I
recall, I ran out of time before completely succeeding.

There are no (intentional) "real" changes, just configure craziness.

Thanks,
Karl

From jschrod at acm.org  Sat Jul 14 00:44:19 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Sat, 14 Jul 2007 00:44:19 +0200
Subject: [tex-live] dvipdfmx: update to current version?
In-Reply-To: <200707132222.l6DMMK712848@f7.net>
References: <f782u8$p5$1@sea.gmane.org> <200707132222.l6DMMK712848@f7.net>
Message-ID: <f78v83$2oh$1@sea.gmane.org>

Karl Berry wrote:

>     If no, shall I update it?
> 
> If it's useful to you, please do.
> 
>    (Keeping the TL changes, of course.)
> 
> Actually, what I really want is to send the configure changes in a form
> that ChoF and Shirata (upstream maintainers) can apply to their sources.
> They are amenable to anything reasonable.  I tried to do this, but as I
> recall, I ran out of time before completely succeeding.
> 
> There are no (intentional) "real" changes, just configure craziness.

Yeah, I saw -- some portability issues on Solaris, besides the 
configure stuff.

It's not high priority for our current project, but when we have to 
deliver a custom-configured TeX system (as part of an overall 
document management system) to our customer in midst of May, we'll 
need configurability of dvipdfmx, too. And I hate local changesets 
to free software; I'd like to get them in mainstream. (Btw, my 
recent dviljk work was triggered by that project, too.)

I'll try to squeeze the budget in, to make and send the changes in 
an appropriate form to upstream.

Best,
	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From kakuto at fsci.fuk.kindai.ac.jp  Sat Jul 14 02:35:02 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 14 Jul 2007 09:35:02 +0900
Subject: [tex-live] [NTG-pdftex] [ pdftex-Bugs-830 ] 'pdftex %' causes
	segmentation	fault (1.50.0-alpha-20070709)
In-Reply-To: Your message of "Sat, 14 Jul 2007 02:29:19 +0530"
References: <E1I9SER-0002qx-00@sarovar.org>
Message-ID: <200707140035.l6E0Z3s2015362@jupiter.fsci.fuk.kindai.ac.jp>

> Is it possible that this bug is actually present in
> honest-to-goodness TeX? The end_name procedure does not seem
> to have been changed by pdfTeX, and:
> 
> [robin pdftex]$ tex %
> This is TeX, Version 3.141592 (Web2C 7.5.6)
> 
> *
> Segmentation fault

The following patch for tex.ch will cure the problem.
I've also included the corresponding changes for Aleph
and Omega.
Furthermore, some constants for Aleph and Omega
are sync'ed with tex.ch
(Changes are for the head of the latest TeXLive repository.)

Best regards,
Akira


diff -ur web2c-orig/alephdir/com16bit-rc2.ch web2c/alephdir/com16bit-rc2.ch
--- web2c-orig/alephdir/com16bit-rc2.ch	Thu Jul 12 06:14:00 2007
+++ web2c/alephdir/com16bit-rc2.ch	Sat Jul 14 09:06:56 2007
@@ -200,28 +200,28 @@
 @!sup_strings_free = sup_max_strings;
 
 @!inf_buf_size = 500;
-@!sup_buf_size = 200000;
+@!sup_buf_size = 30000000;
 
 @!inf_nest_size = 40;
-@!sup_nest_size = 400;
+@!sup_nest_size = 4000;
 
 @!inf_max_in_open = 6;
 @!sup_max_in_open = 127;
 
 @!inf_param_size = 60;
-@!sup_param_size = 600;
+@!sup_param_size = 6000;
 
 @!inf_save_size = 600;
 @!sup_save_size = 80000;
 
 @!inf_stack_size = 200;
-@!sup_stack_size = 3000;
+@!sup_stack_size = 30000;
 
 @!inf_dvi_buf_size = 800;
 @!sup_dvi_buf_size = 65536;
 
 @!inf_pool_size = 32000;
-@!sup_pool_size = 10000000;
+@!sup_pool_size = 40000000;
 @!inf_pool_free = 1000;
 @!sup_pool_free = sup_pool_size;
 @!inf_string_vacancies = 8000;
@@ -1079,7 +1079,7 @@
   s:=str_start(str_ptr);
   t:=str_start(str_ptr)+area_delimiter;
   j:=s;
-  while (not must_quote) and (j<>t) do begin
+  while (not must_quote) and (j<t) do begin
     must_quote:=str_pool[j]=" "; incr(j);
     end;
   if must_quote then begin
@@ -1097,7 +1097,7 @@
 if ext_delimiter=0 then t:=pool_ptr else t:=str_start(str_ptr)+ext_delimiter-1;
 must_quote:=false;
 j:=s;
-while (not must_quote) and (j<>t) do begin
+while (not must_quote) and (j<t) do begin
   must_quote:=str_pool[j]=" "; incr(j);
   end;
 if must_quote then begin
@@ -1114,7 +1114,7 @@
   t:=pool_ptr;
   must_quote:=false;
   j:=s;
-  while (not must_quote) and (j<>t) do begin
+  while (not must_quote) and (j<t) do begin
     must_quote:=str_pool[j]=" "; incr(j);
     end;
   if must_quote then begin
@@ -1177,19 +1177,19 @@
 must_quote:=false;
 if a<>0 then begin
   j:=str_start(a);
-  while (not must_quote) and (j<>str_start(a+1)) do begin
+  while (not must_quote) and (j<str_start(a+1)) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
 if n<>0 then begin
   j:=str_start(n);
-  while (not must_quote) and (j<>str_start(n+1)) do begin
+  while (not must_quote) and (j<str_start(n+1)) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
 if e<>0 then begin
   j:=str_start(e);
-  while (not must_quote) and (j<>str_start(e+1)) do begin
+  while (not must_quote) and (j<str_start(e+1)) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
diff -ur web2c-orig/omegadir/com16bit.ch web2c/omegadir/com16bit.ch
--- web2c-orig/omegadir/com16bit.ch	Thu Jul 12 06:14:00 2007
+++ web2c/omegadir/com16bit.ch	Sat Jul 14 09:09:44 2007
@@ -200,28 +200,28 @@
 @!sup_strings_free = sup_max_strings;
 
 @!inf_buf_size = 500;
-@!sup_buf_size = 200000;
+@!sup_buf_size = 30000000;
 
 @!inf_nest_size = 40;
-@!sup_nest_size = 400;
+@!sup_nest_size = 4000;
 
 @!inf_max_in_open = 6;
 @!sup_max_in_open = 127;
 
 @!inf_param_size = 60;
-@!sup_param_size = 600;
+@!sup_param_size = 6000;
 
 @!inf_save_size = 600;
 @!sup_save_size = 80000;
 
 @!inf_stack_size = 200;
-@!sup_stack_size = 3000;
+@!sup_stack_size = 30000;
 
 @!inf_dvi_buf_size = 800;
 @!sup_dvi_buf_size = 65536;
 
 @!inf_pool_size = 32000;
-@!sup_pool_size = 10000000;
+@!sup_pool_size = 40000000;
 @!inf_pool_free = 1000;
 @!sup_pool_free = sup_pool_size;
 @!inf_string_vacancies = 8000;
@@ -1078,7 +1078,7 @@
   s:=str_start(str_ptr);
   t:=str_start(str_ptr)+area_delimiter;
   j:=s;
-  while (not must_quote) and (j<>t) do begin
+  while (not must_quote) and (j<t) do begin
     must_quote:=str_pool[j]=" "; incr(j);
     end;
   if must_quote then begin
@@ -1096,7 +1096,7 @@
 if ext_delimiter=0 then t:=pool_ptr else t:=str_start(str_ptr)+ext_delimiter-1;
 must_quote:=false;
 j:=s;
-while (not must_quote) and (j<>t) do begin
+while (not must_quote) and (j<t) do begin
   must_quote:=str_pool[j]=" "; incr(j);
   end;
 if must_quote then begin
@@ -1113,7 +1113,7 @@
   t:=pool_ptr;
   must_quote:=false;
   j:=s;
-  while (not must_quote) and (j<>t) do begin
+  while (not must_quote) and (j<t) do begin
     must_quote:=str_pool[j]=" "; incr(j);
     end;
   if must_quote then begin
@@ -1176,19 +1176,19 @@
 must_quote:=false;
 if a<>0 then begin
   j:=str_start(a);
-  while (not must_quote) and (j<>str_start(a+1)) do begin
+  while (not must_quote) and (j<str_start(a+1)) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
 if n<>0 then begin
   j:=str_start(n);
-  while (not must_quote) and (j<>str_start(n+1)) do begin
+  while (not must_quote) and (j<str_start(n+1)) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
 if e<>0 then begin
   j:=str_start(e);
-  while (not must_quote) and (j<>str_start(e+1)) do begin
+  while (not must_quote) and (j<str_start(e+1)) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
diff -ur web2c-orig/tex.ch web2c/tex.ch
--- web2c-orig/tex.ch	Thu Jul 12 06:14:00 2007
+++ web2c/tex.ch	Sat Jul 14 08:57:36 2007
@@ -1934,7 +1934,7 @@
   s:=str_start[str_ptr];
   t:=str_start[str_ptr]+area_delimiter;
   j:=s;
-  while (not must_quote) and (j<>t) do begin
+  while (not must_quote) and (j<t) do begin
     must_quote:=str_pool[j]=" "; incr(j);
     end;
   if must_quote then begin
@@ -1952,7 +1952,7 @@
 if ext_delimiter=0 then t:=pool_ptr else t:=str_start[str_ptr]+ext_delimiter-1;
 must_quote:=false;
 j:=s;
-while (not must_quote) and (j<>t) do begin
+while (not must_quote) and (j<t) do begin
   must_quote:=str_pool[j]=" "; incr(j);
   end;
 if must_quote then begin
@@ -1969,7 +1969,7 @@
   t:=pool_ptr;
   must_quote:=false;
   j:=s;
-  while (not must_quote) and (j<>t) do begin
+  while (not must_quote) and (j<t) do begin
     must_quote:=str_pool[j]=" "; incr(j);
     end;
   if must_quote then begin
@@ -2032,19 +2032,19 @@
 must_quote:=false;
 if a<>0 then begin
   j:=str_start[a];
-  while (not must_quote) and (j<>str_start[a+1]) do begin
+  while (not must_quote) and (j<str_start[a+1]) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
 if n<>0 then begin
   j:=str_start[n];
-  while (not must_quote) and (j<>str_start[n+1]) do begin
+  while (not must_quote) and (j<str_start[n+1]) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;
 if e<>0 then begin
   j:=str_start[e];
-  while (not must_quote) and (j<>str_start[e+1]) do begin
+  while (not must_quote) and (j<str_start[e+1]) do begin
     must_quote:=str_pool[j]=" "; incr(j);
   end;
 end;

From siepo at cybercomm.nl  Sat Jul 14 11:59:33 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sat, 14 Jul 2007 11:59:33 +0200
Subject: [tex-live] vista UAC testing
Message-ID: <20070714095932.GA5541@molly>

Earlier, I mailed that under Vista I couldn't run an unsigned
executable without administrator privileges.

Now I figured out that was because the executable was an installer.
Vista somehow identified the program as such and concluded that it
needed administrator privileges, which was not the case. For NSIS
installers you can now add a `manifest' specifying whether
administrator privileges are required, optional or irrelevant.

The latest MinGW also has manifest support, but I haven't tested this.

I also could run the Perl widget demo from my mingw-compiled Perl as
a regular user. Apparently, Vista assumed that it didn't require
administrator privileges. Hopefully, the same will be true for a
Perl/Tk installer.

I had to click through Vista UAC warnings before running these
programs, because they lacked a digital signature. Microsoft has
free command-line tools to attach a digital signature to existing
executables, given a standard non-Microsoft certificate. I tested
the code signing procedure with a test certificate which I had
generated with other free Microsoft command-line tools.

-- 
Siep Kroonenberg

From dak at gnu.org  Sat Jul 14 14:32:53 2007
From: dak at gnu.org (David Kastrup)
Date: Sat, 14 Jul 2007 14:32:53 +0200
Subject: [tex-live] vista UAC testing
In-Reply-To: <20070714095932.GA5541@molly> (Siep Kroonenberg's message of
	"Sat\, 14 Jul 2007 11\:59\:33 +0200")
References: <20070714095932.GA5541@molly>
Message-ID: <85myxz413e.fsf@lola.goethe.zz>

Siep Kroonenberg <siepo at cybercomm.nl> writes:

> Earlier, I mailed that under Vista I couldn't run an unsigned
> executable without administrator privileges.
>
> Now I figured out that was because the executable was an installer.
> Vista somehow identified the program as such and concluded that it
> needed administrator privileges, which was not the case. For NSIS
> installers you can now add a `manifest' specifying whether
> administrator privileges are required, optional or irrelevant.
>
> The latest MinGW also has manifest support, but I haven't tested this.
>
> I also could run the Perl widget demo from my mingw-compiled Perl as
> a regular user. Apparently, Vista assumed that it didn't require
> administrator privileges. Hopefully, the same will be true for a
> Perl/Tk installer.
>
> I had to click through Vista UAC warnings before running these
> programs, because they lacked a digital signature. Microsoft has
> free command-line tools to attach a digital signature to existing
> executables, given a standard non-Microsoft certificate. I tested
> the code signing procedure with a test certificate which I had
> generated with other free Microsoft command-line tools.

Sounds like the classical "imply security by annoyance" approach also
used by most airlines nowadays.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From karl at freefriends.org  Sun Jul 15 02:19:40 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 14 Jul 2007 19:19:40 -0500
Subject: [tex-live] [NTG-pdftex] [ pdftex-Bugs-830 ] 'pdftex %'
	causes	segmentation	fault (1.50.0-alpha-20070709)
In-Reply-To: <200707140035.l6E0Z3s2015362@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200707150019.l6F0Jel09059@f7.net>

    > [robin pdftex]$ tex %
    > This is TeX, Version 3.141592 (Web2C 7.5.6)
    > 
    > *
    > Segmentation fault

    The following patch for tex.ch will cure the problem.

I installed the patch, thanks as always.

Jonathan, it seems xetex-new.ch needs updating.
$ ./tie -m xetex.web ...
[...]
! Sections do not match (file ../../../texk/web2c/tex.ch, l.1937).
  (file ../../../texk/web2c/xetexdir/xetex-new.ch, l.2143).
[...]
! Sections do not match (file ../../../texk/web2c/tex.ch, l.2035).
 (file ../../../texk/web2c/xetexdir/xetex-new.ch, l.2229).
[...]

From karl at freefriends.org  Mon Jul 16 00:08:13 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 15 Jul 2007 17:08:13 -0500
Subject: [tex-live] Inclusion of large eps files with dvipdfm
In-Reply-To: <200706221419.l5MEJstl009404@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200707152208.l6FM8Dw05772@f7.net>

    However the output format of the new ( > 0.9 ) MetaPost
    is changed. Thus dvipdfm fails to check that an eps is
    made by MetaPost. The following are borrowed from dvipdfmx:

I (finally) applied this patch to dvipdfm.  Thanks.

I also wrote the dvipdfmx maintainers about the status of being able to
just distribute dvipdfmx and skip dvipdfm.

Thanks,
Karl

P.S. I will be offline all this coming week, Monday-Saturday, at tug'07.

From jschrod at acm.org  Mon Jul 16 01:37:59 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Mon, 16 Jul 2007 01:37:59 +0200
Subject: [tex-live] Inclusion of large eps files with dvipdfm
In-Reply-To: <200707152208.l6FM8Dw05772@f7.net>
References: <200706221419.l5MEJstl009404@jupiter.fsci.fuk.kindai.ac.jp>
	<200707152208.l6FM8Dw05772@f7.net>
Message-ID: <f7eb4n$v5q$1@sea.gmane.org>

Karl Berry wrote:

> I also wrote the dvipdfmx maintainers about the status of being able to
> just distribute dvipdfmx and skip dvipdfm.

If you do so, include the manual of dvipdfm. Even though it will 
not be complete, it contains still essential information -- and it 
is not included in dvipdfmx.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From frank at debian.org  Mon Jul 16 14:31:11 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 16 Jul 2007 14:31:11 +0200
Subject: [tex-live] Bug#433329: Please clarify whether Lucida
	Bright/Lucida Sans fonts are supported
In-Reply-To: <20070716110034.14028.80309.reportbug@fluff.wintermute.medea>
	(Richard Atterer's message of "Mon\,
	16 Jul 2007 13\:00\:34 +0200")
References: <20070716110034.14028.80309.reportbug@fluff.wintermute.medea>
Message-ID: <87odicr0mo.fsf@riesling.zuerich.kuesterei.ch>

Richard Atterer <atterer at debian.org> wrote:

> Package: texlive-fonts-recommended
> Version: 2007-10
> Severity: minor
>
> Hello,
>
> texlive-fonts-recommended contains the following files related to Lucida 
> Bright fonts:
>
[...]
> All this suggests that it is possible to use Lucida Bright under Debian. 
> However, I get errors trying to use the font (e.g. typesetting lucfont.tex 
> above). After googling for hours, I am still scratching my head - could it 
> be that the font is non-free and thus not supported? 

Yes - this should probably be fixed by including
CTAN://fonts/psfonts/bh/lucida/doc/fonts/lucida/readme.lucida:

,----
| This distribution contains the TeX fonts metrics, virtual
| fonts and LaTeX font definition files for the Lucida
| Bright and Lucida New Math fonts.  
| 
| This file set does, however, NOT include:
| 
| * the actual Type 1 fonts (*.pfb, *.pfm, *.afm);
| 
| * LaTeX macro packages to support math typesetting.
`----

> After all, there's no 
> trace of any hls* file in any of the TeX packages. Then why are these files 
> present??

Like some other support files for non-free fonts, they are present in
order to allow those who have bought these fonts to easily use them with
TeX. 

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Mon Jul 16 22:13:58 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 16 Jul 2007 22:13:58 +0200
Subject: [tex-live] Bug#432034: texlive-latex-extra: Please ship
	wordcount.sh
In-Reply-To: <alpine.DEB.0.99.0707162026430.5181@localhost.localdomain>
	(Reuben Thomas's message of "Mon\,
	16 Jul 2007 20\:27\:01 +0100 \(BST\)")
References: <20070706220038.14070.74482.reportbug@localhost.localdomain>
	<87abtxaed0.fsf@riesling.zuerich.kuesterei.ch>
	<alpine.DEB.0.99.0707162026430.5181@localhost.localdomain>
Message-ID: <87ejj83y49.fsf@riesling.zuerich.kuesterei.ch>

Dear TeXLive team,

TL 2007 (and 2005 I think) contains wordcount.tex, but not the
accompanying shell script wordcount.sh, which is in the same CTAN
directory: 

Reuben Thomas <rrt at sc3d.org> wrote:

>>> Please ship wordcount.sh. It has a DFSG-compatible license:
>>>
>>> # wordcount.sh 1.2 Copyright 2000/02/21 Michael John Downes
>>> # This script has no restrictions on its use, distribution, or sale.
>>>
>>> and is quite useful. It's a pity to make Debian users have to install
>>> it manually.
[...]
> It's on CTAN:
>
> http://www.ctan.org/tex-archive/macros/latex/contrib/wordcount/

In case this will not automagically fix itself with the new
infrastructure, it would be good if the file could be added to the TL
tree for the next release.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Tue Jul 17 17:00:41 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 17 Jul 2007 17:00:41 +0200
Subject: [tex-live] Bug#433455: /usr/bin/pdftex: $TEXEDIT default
	doesn't cope with spaces in filenames
In-Reply-To: <1184679616.27780.10.camel@johannes.berg> (Johannes Berg's
	message of "Tue\, 17 Jul 2007 15\:40\:16 +0200")
References: <20070716193556.12817.90849.reportbug@johannes.berg>
	<871wf7cj0b.fsf@riesling.zuerich.kuesterei.ch>
	<1184679616.27780.10.camel@johannes.berg>
Message-ID: <871wf7axd2.fsf@riesling.zuerich.kuesterei.ch>

Hi,

a Debian user has found that the compile-time default for TEXEDIT, the
command used when pressing `e' (for edit) when (pdf)tex presents an
error message in interactive mode, does not work with filenames which
contain spaces.  The fix is easy, `%s' must be enclosed in double
quotes, but where should it be applied?


Johannes Berg <johannes at sipsolutions.net> wrote:

> On Tue, 2007-07-17 at 14:27 +0200, Frank K?ster wrote:
>
>> That's correct.  However - I have no idea where the TEXEDIT default is
>> set:
>> 
>> $ grep TEXEDIT src/Packages/texlive-new/texlive-bin-2007/build/source/texk/web2c/pdftexdir/*
>> $ grep TEXEDIT src/Packages/texlive-new/texlive-bin-2007/build/source/texk/web2c/*
>> $ grep TEXEDIT /etc/texmf/texmf.d/*
>> $ 
>
> Heh. Good question, the book where I found this was in "TeX for the
> impatient" and it says it's set during compilation, but no more.

Hm, it's at least mentioned in texk/web2c/libs/texmfmp.c, but I can't
find where it's set.  Can anyone help me?

Of course it works to set it in texmf.cnf, the following patch should
do.  It's against Debian's /etc/texmf/texmf.d/95NonPath.cnf, so for
texmf.cnf in TL the line numbers will be far off:

--- /etc/texmf/texmf.d/95NonPath.cnf	2007-07-17 16:53:06.000000000 +0200
+++ /home/frank/src/Packages/tex-common/trunk/conf/texmf.d/95NonPath.cnf	2007-04-23 14:39:17.000000000 +0200
@@ -79,13 +79,6 @@
 % expecting DVI, and not "tex" because we want first line parsing.
 TEX = etex
 
-% TEXEDIT: editor command, used when TeX presents an error in
-% interactive mode, and the user presses `e' to start editing.
-%
-% The string %d is expanded to the line number of the error
-% The string %s is expanded to the filename
-TEXEDIT = vi +%d "%s"
-
 
 % 
    Part 3: Array and other sizes for TeX (and Metafont and MetaPost).
 % 


By the way, does variable expansion work in this case?  In other words,
would

TEXEDIT = ${EDITOR:-vi} +%d "%s"

work and respect the EDITOR environment variable?

Regards, Frank


-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From kakuto at fsci.fuk.kindai.ac.jp  Tue Jul 17 23:35:56 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 18 Jul 2007 06:35:56 +0900
Subject: [tex-live] Bug#433455: /usr/bin/pdftex: $TEXEDIT
	default	doesn't cope with spaces in filenames
In-Reply-To: Your message of "Tue, 17 Jul 2007 17:00:41 +0200"
References: <871wf7axd2.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707172135.l6HLZvv1004568@jupiter.fsci.fuk.kindai.ac.jp>

> Hm, it's at least mentioned in texk/web2c/libs/texmfmp.c, but I can't
> find where it's set.  Can anyone help me?

Compile time default for TEXEDIT, MFEDIT, MPEDIT is the
variable EDITOR in texk/web2c/c-auto.h ( <--- c-auto.in).

Best regards,
Akira

From frank at debian.org  Wed Jul 18 08:24:04 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 18 Jul 2007 08:24:04 +0200
Subject: [tex-live] Bug#433455: Bug#433455: /usr/bin/pdftex: $TEXEDIT
	default doesn't cope with spaces in filenames
In-Reply-To: <200707172135.l6HLZvv1004568@jupiter.fsci.fuk.kindai.ac.jp>
	(Akira Kakuto's message of "Wed\, 18 Jul 2007 06\:35\:56 +0900")
References: <871wf7axd2.fsf@riesling.zuerich.kuesterei.ch>
	<200707172135.l6HLZvv1004568@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <87odiajkl7.fsf@riesling.zuerich.kuesterei.ch>

Akira Kakuto <kakuto at fsci.fuk.kindai.ac.jp> wrote:

>> Hm, it's at least mentioned in texk/web2c/libs/texmfmp.c, but I can't
>> find where it's set.  Can anyone help me?
>
> Compile time default for TEXEDIT, MFEDIT, MPEDIT is the
> variable EDITOR in texk/web2c/c-auto.h ( <--- c-auto.in).

Ah, thank you!

Regards, Frank

-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From vext01 at gmail.com  Wed Jul 18 21:58:18 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Wed, 18 Jul 2007 20:58:18 +0100
Subject: [tex-live] TeXLive committed to OpenBSD
Message-ID: <a6e8c1d0707181258p78866a9dm187712300131341e@mail.gmail.com>

Hi Guys,

Your software is now offically a part of the OpenBSD ports system!

http://ports.openbsd.nu/print/texlive

No packages yet, as I need to test everything that used to depend upon
tetex with texlive.

Many thanks to all on tex-live at tug.org.

If anyone can help getting these patches
(http://www.openbsd.org/cgi-bin/cvsweb/ports/print/texlive/base/patches/)
upstream, then it would be great. The xetex ones have already gone
upstream, and the root Makefile.in is OpenBSD ports specific (it does
not go upstream).

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From reinhard.kotucha at web.de  Thu Jul 19 00:11:03 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 19 Jul 2007 00:11:03 +0200
Subject: [tex-live] TeXLive committed to OpenBSD
In-Reply-To: <a6e8c1d0707181258p78866a9dm187712300131341e@mail.gmail.com>
References: <a6e8c1d0707181258p78866a9dm187712300131341e@mail.gmail.com>
Message-ID: <18078.36855.479872.664748@zarniwoop.ms25.local>

Edd Barrett writes:

 > Your software is now offically a part of the OpenBSD ports system!
 > 
 > http://ports.openbsd.nu/print/texlive

Great!

It would be nice to have openbsd binaries for TeXLive-2008 too, but it
is necessary that everything is statically linked (except XeTeX and
dvipdfmx).

I also have good news.  I updated Cygwin recently and had been able to
produce binaries from the TeXLive-2007 sources.  Unfortunately I had
to say "./configure --without-xetex --without-dvipdfmx".  What I don't
know yet is whether the missing libraries are not available or I just
missed to install them.  I'll look into it later.

Anyway, many thanks for your effort.  Your work is highly appreciated.

Regards,
  Reinhard 


-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From martin at oneiros.de  Thu Jul 19 01:15:13 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 19 Jul 2007 01:15:13 +0200
Subject: [tex-live] TeXLive committed to OpenBSD
In-Reply-To: <18078.36855.479872.664748@zarniwoop.ms25.local>
References: <a6e8c1d0707181258p78866a9dm187712300131341e@mail.gmail.com>
	<18078.36855.479872.664748@zarniwoop.ms25.local>
Message-ID: <68c491a60707181615w5fd08a64oa589407fcddb0d9d@mail.gmail.com>

2007/7/19, Reinhard Kotucha <reinhard.kotucha at web.de>:
> It would be nice to have openbsd binaries for TeXLive-2008 too, but it

We already have OpenBSD/i386, and I can supply these for 2008 also.

Best
   Martin

From dsorkin at techunix.technion.ac.il  Tue Jul 17 14:06:56 2007
From: dsorkin at techunix.technion.ac.il (Dima Sorkin)
Date: Tue, 17 Jul 2007 15:06:56 +0300
Subject: [tex-live] hebrew support
Message-ID: <1184674016.469cb0e092335@webmail.technion.ac.il>

Hi.
 I have some list of questions regarding the hebrew on new tex-live.
I intend to install it on SuSe 10.2 or Fedora Core 4.
All questions are regarding LaTeX.

1) Is compiling documents written on unicode hebrew supported ?
   Will the following work ?
   \usepackage[hebrew,english]{babel}
   \usepackage[utf-8]{inputenc}

2) Do I have to install hebrew fonts (culmus fonts, jerus, etc)
   additionally to what comes with tex-live ? Does it matter if I
   work with ISO-8859-8 encoding or unicode (if supported)

3) On SuSe 10.2 and Fedora Core 4 (with latest teTex installed there),
   I had a problem that for an 'article' document written in hebrew,
   the pdflatex or ps2pdf crashed if document size is more than 2 pages.
   Is this problem something known ? Was it solved ?
   I was recommended to use the 'amsart' class of the document when
   writing on hebrew. Didn't tried yet, but what can it change ?

Thank you.
Regards,
 Dima.

P.S.
 Please CC me on answers, I'm not in the list.

From jonathan_kew at sil.org  Thu Jul 19 16:06:20 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Thu, 19 Jul 2007 07:06:20 -0700
Subject: [tex-live] hebrew support
In-Reply-To: <1184674016.469cb0e092335@webmail.technion.ac.il>
References: <1184674016.469cb0e092335@webmail.technion.ac.il>
Message-ID: <99759FD1-7FA5-4FE5-BE6B-F33DEDC2B56B@sil.org>

On 17 Jul 2007, at 5:06 am, Dima Sorkin wrote:

> Hi.
>  I have some list of questions regarding the hebrew on new tex-live.
> I intend to install it on SuSe 10.2 or Fedora Core 4.
> All questions are regarding LaTeX.

One option you might consider is to use XeTeX, which directly  
supports Unicode and can work with whatever Unicode-encoded Hebrew  
fonts (OpenType, TrueType) you have installed in the SuSE or FC4  
desktop environment. This example assumes you've got Ezra SIL from  
<http://scripts.sil.org/EzraSIL_Home>:

   \documentclass{article}
   \usepackage{fontspec} % for easy font selection in xelatex
   \setmainfont[Script=Hebrew]{Ezra SIL} % or whatever is available  
in your desktop environment
   \usepackage{bidi} % not in TeX Live 2007, get it from CTAN
   \begin{document}
   \setRL % right-to-left direction (see bidi package doc)
   ...some hebrew text here, using unicode...
   \end{document}

Process this with xelatex rather than pdflatex, and it should work.

Note that it can use whatever fonts are available in your desktop  
environment, rather than requiring them installed into the texmf  
directories. I don't know what is already included with SuSE or FC4,  
but they probably have at least one OpenType Hebrew font, or you can  
get ones like Ezra SIL or SBL Hebrew or others. Just drop the .ttf  
or .otf files into ~/.fonts, or install via the Gnome "Fonts" control  
panel (or KDE equivalent, I assume), and they should be available  
through fontspec.

It would be a little more work if you need Babel's functionality of  
changing "generated" text like "Chapter", "Figure", etc, to Hebrew,  
as Babel is not aware of xetex's Unicode support. For more advice,  
you'd do best to try the XeTeX mailing list <http://tug.org/mailman/ 
listinfo/xetex>.

HTH,

Jonathan

>
> 1) Is compiling documents written on unicode hebrew supported ?
>    Will the following work ?
>    \usepackage[hebrew,english]{babel}
>    \usepackage[utf-8]{inputenc}
>
> 2) Do I have to install hebrew fonts (culmus fonts, jerus, etc)
>    additionally to what comes with tex-live ? Does it matter if I
>    work with ISO-8859-8 encoding or unicode (if supported)
>
> 3) On SuSe 10.2 and Fedora Core 4 (with latest teTex installed there),
>    I had a problem that for an 'article' document written in hebrew,
>    the pdflatex or ps2pdf crashed if document size is more than 2  
> pages.
>    Is this problem something known ? Was it solved ?
>    I was recommended to use the 'amsart' class of the document when
>    writing on hebrew. Didn't tried yet, but what can it change ?
>
> Thank you.
> Regards,
>  Dima.
>
> P.S.
>  Please CC me on answers, I'm not in the list.


From reinhard.kotucha at web.de  Thu Jul 19 22:24:28 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 19 Jul 2007 22:24:28 +0200
Subject: [tex-live] TeXLive committed to OpenBSD
In-Reply-To: <68c491a60707181615w5fd08a64oa589407fcddb0d9d@mail.gmail.com>
References: <a6e8c1d0707181258p78866a9dm187712300131341e@mail.gmail.com>
	<18078.36855.479872.664748@zarniwoop.ms25.local>
	<68c491a60707181615w5fd08a64oa589407fcddb0d9d@mail.gmail.com>
Message-ID: <18079.51324.196412.573161@zarniwoop.ms25.local>

Martin Schr?der writes:

 > We already have OpenBSD/i386, and I can supply these for 2008 also.

After all the trouble we had with the x86_64-linux binaries (Tigran's
files did not work for you and my binaries didn't work for Hartmut),
it is not bad if someone else can provide binaries for a particular
platform, too.  It would be nice if the binaries do not require the
latest OpenBSD release.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From frank at kuesterei.ch  Fri Jul 20 09:41:02 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 20 Jul 2007 09:41:02 +0200
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <20070718153056.GA28007@javifsp.no-ip.org> (Javier
	=?iso-8859-1?Q?Fern=E1ndez-Sanguino_Pe=F1a's?= message of "Wed\, 18 Jul
	2007 17\:30\:56 +0200")
References: <200707180808.15357.russell@coker.com.au>
	<20070718094346.GA15890@javifsp.no-ip.org>
	<87ejj5erg9.fsf_-_@riesling.zuerich.kuesterei.ch>
	<20070718153056.GA28007@javifsp.no-ip.org>
Message-ID: <87vecfmsj5.fsf@riesling.zuerich.kuesterei.ch>

Dear TeXLive experts,

I hope you can help us in a discussion we had on a Debian list.

Javier Fern?ndez-Sanguino Pe?a <jfs at computer.org> wrote:

> On Wed, Jul 18, 2007 at 04:07:02PM +0200, Frank K?ster wrote:
>> 
>> Why are the TrueType fonts not included, anyway?  It looks like a bug in
>> dvipdf to me.  AFAIK Adobe recommends to never assume the presence and
>> correctness of system fonts, and always embed them.  Even for the base35
>> fonts used here.
>
> I don't know about Adobe's guidelines (were are they?), 

I know about the Adobe recommendations because they were given as the
reason for "pdftexDownloadBase14 true" in teTeX 3.0, but I never
actually read this recommendation and rationale.  Can anyone help out?

> but it seems that the "To PDF" conversion tools (LaTeX and DVI which
> I've tried) will never embed TrueType fonts in the generated PDF.

That might be because of "dvipsDownloadBase14 false" in updmap.cfg.  But
I'm not sure whether the tex->dvi->ps Workflow is able to embed TrueType
fonts at all.  Maybe pdfTeX is needed instead?

> This seems to make sense as:
>
> a- It is common for some TrueType fonts (Courier, Garamond) to be available in
>   most installed systems.

According to 

$ strace -f -o xpdf.trace xpdf install.en.pdf # look at first and second
                                              # page, then press q
$ grep -a FontName $(grep open xpdf.trace | grep type1 | sed -e 's at .*open("@@;s at pfb".*$@pfb@')
/usr/share/fonts/type1/gsfonts/n019004l.pfb:/FontName /NimbusSanL-Bold def
/usr/share/fonts/type1/gsfonts/n021003l.pfb:/FontName /NimbusRomNo9L-Regu def
/usr/share/fonts/type1/gsfonts/n019003l.pfb:/FontName /NimbusSanL-Regu def
/usr/share/fonts/type1/gsfonts/n022003l.pfb:/FontName /NimbusMonL-Regu def

So, no, Times and Helvetica are not present on my system and used,
instead the URW free replacements are used.  Which are a quite good
replacement, but not exactly the same.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From hanthethanh at gmail.com  Fri Jul 20 10:09:13 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Fri, 20 Jul 2007 10:09:13 +0200
Subject: [tex-live] Embedding TrueType fonts in manuals
Message-ID: <74f506dc0707200109h1c9c71cam4639033e464a370d@mail.gmail.com>

On Fri, Jul 20, 2007 at 09:41:02AM +0200, Frank K?ster wrote:
> That might be because of "dvipsDownloadBase14 false" in updmap.cfg.  But
> I'm not sure whether the tex->dvi->ps Workflow is able to embed TrueType
> fonts at all.  Maybe pdfTeX is needed instead?

to embed TrueType fonts you need pdftex or dvipdfmx

Regards,
Thanh

From Gerben.Wierda at rna.nl  Fri Jul 20 13:20:16 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 20 Jul 2007 13:20:16 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
Message-ID: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>

I have returned to make a new build, so I updated my stuff to 4637, but  
compile fails:

cd ../../../texk/kpathsea && make
/bin/sh ../libtool --mode=compile gcc -DHAVE_CONFIG_H  -I.  
-I/usr/local/TeXLive-working-copy/Build/source/texk/kpathsea -I..  
-I/usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/..   -g  
-O2  -DMAKE_KPSE_DLL -c  
/usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c
gcc -DHAVE_CONFIG_H -I.  
-I/usr/local/TeXLive-working-copy/Build/source/texk/kpathsea -I..  
-I/usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/.. -g -O2  
-DMAKE_KPSE_DLL -c  
/usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c  
-o tex-file.o
/usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c: 
32:28: kpathsea/paths.h: No such file or directory

What has gone wrong? Configure? or SVN?

Configure did not make a paths.h. Should it have done so?

hedwig:~ gerben$ ll /usr/local/Build/powerpc/TeXLive.2008/texk/kpathsea
total 560
drwxr-xr-x   8 gerben  staff     272 20 Jul 12:44 .
drwxr-xr-x  34 gerben  staff    1156 20 Jul 12:50 ..
-rw-r--r--   1 gerben  staff   86517 20 Jul 12:44 Makefile
-rw-r--r--   1 gerben  staff    5032 20 Jul 12:44 c-auto.h
-rw-r--r--   1 gerben  staff    5963 20 Jul 12:44 config.log
-rwxr-xr-x   1 gerben  staff   19433 20 Jul 12:44 config.status
-rwxr-xr-x   1 gerben  staff  152750 20 Jul 12:44 libtool
-rw-r--r--   1 gerben  staff      30 20 Jul 12:44 stamp-auto

Thanks,

G


From Gerben.Wierda at rna.nl  Fri Jul 20 14:32:39 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 20 Jul 2007 14:32:39 +0200
Subject: [tex-live] Updating Master/everything except Master/bin
Message-ID: <cef4219e2c177a2bc4ca8c12cfb4678f@rna.nl>

I currently have a script that gets me the bin/darwin stuff but not the 
rest, by doing

> echo "****** Updating binaries..."
> (cd Master/bin && svn update powerpc-darwin i386-darwin)
> cd Master
> echo "****** Updating Master non-recursive..."
> svn update --non-recursive
> for i in *
> do
>         if [ "$i" != bin ]
>         then
>                 echo "****** Updating $i..."
>                 svn update $i
>         fi
> done

But that means with my latest update I did not get new directories like 
tlpkg

What is the way for me to make sure I do get everything in Master but 
not all the binaries for all the architectures I do not want?

Thanks,

G


From kakuto at fsci.fuk.kindai.ac.jp  Fri Jul 20 14:35:01 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 20 Jul 2007 21:35:01 +0900
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: Your message of "Fri, 20 Jul 2007 13:20:16 +0200"
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
Message-ID: <200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>

[...]
> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c: 
> 32:28: kpathsea/paths.h: No such file or directory
> 
> What has gone wrong? Configure? or SVN?
> 
> Configure did not make a paths.h. Should it have done so?

I don't know about this problem.
However, the present head contains some inconsistency
(tex.ch and XeTeX).
Therefore you have to use branches/branch2007/Build.
(or tags/texlive-2007.0/Build, which is the same
 as the released texlive-2007.)

Best regards,
Akira

From Gerben.Wierda at rna.nl  Fri Jul 20 14:48:10 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 20 Jul 2007 14:48:10 +0200
Subject: [tex-live] new tl infrastructure
In-Reply-To: <20070625114928.GC28275@gamma.logic.tuwien.ac.at>
References: <200706230059.l5N0xrx10870@f7.net>
	<20070624080230.GC18602@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706240611l1f4cc117qd00be3881ae150bd@mail.gmail.com>
	<20070625081006.GA2956@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706250413m65c7d952yc12cc22e8009c841@mail.gmail.com>
	<Pine.LNX.4.64.0706251333420.4343@gloin.imf.au.dk>
	<20070625114928.GC28275@gamma.logic.tuwien.ac.at>
Message-ID: <ba7d5f5d48bec632e32304c33e47e0f9@rna.nl>

On Jun 25, 2007, at 13:49, Norbert Preining wrote:

> On Mon, 25 Jun 2007, Lars Madsen wrote:
>> BTW: is there any more information about this new infrastructure, I'm
>> quite interested in how it works and the philosophy behind it.
>
> Yes, it was in the announcement of Karl. Some documentation is in
> 	Master/tlpkg/doc/
> (see http://www.tug.org/svn/texlive/trunk/Master/tlpkg/doc/) and some 
> of
> the scripts have pod documentation.
>
> If you have questions, ask here or me.

I was wondering what the difference is between the different category 
types. Package I understand, but why collection and scheme? Why a 
category Documentation whereas other documentation is inside Packages?

G


From nlecic at EUnet.yu  Fri Jul 20 14:55:35 2007
From: nlecic at EUnet.yu (Nikola Lecic)
Date: Fri, 20 Jul 2007 14:55:35 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200707201300.l6KD09dl005148@smtpclu-5.eunet.yu>

On Fri, 20 Jul 2007 21:35:01 +0900
Akira Kakuto <kakuto at fsci.fuk.kindai.ac.jp> wrote:

> [...]
> > /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c: 
> > 32:28: kpathsea/paths.h: No such file or directory
> > 
> > What has gone wrong? Configure? or SVN?
> > 
> > Configure did not make a paths.h. Should it have done so?
> 
> I don't know about this problem.
> However, the present head contains some inconsistency
> (tex.ch and XeTeX).
> Therefore you have to use branches/branch2007/Build.
> (or tags/texlive-2007.0/Build, which is the same
>  as the released texlive-2007.)

The same problem here (FreeBSD). For some reason, the target
$(kpathsea_dir)/paths.h can't be processed. I used to change that
target to 'paths.h' and then to explicitly add it in 'do-kpathsea'
target in texk directory Makefile.

(gmake 3.81  if it matters.)

Nikola Le?i?

From jonathan_kew at sil.org  Fri Jul 20 15:20:49 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 20 Jul 2007 06:20:49 -0700
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>


On 20 Jul 2007, at 5:35 am, Akira Kakuto wrote:

> [...]
>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex- 
>> file.c:
>> 32:28: kpathsea/paths.h: No such file or directory
>>
>> What has gone wrong? Configure? or SVN?
>>
>> Configure did not make a paths.h. Should it have done so?
>
> I don't know about this problem.
> However, the present head contains some inconsistency
> (tex.ch and XeTeX).
> Therefore you have to use branches/branch2007/Build.
> (or tags/texlive-2007.0/Build, which is the same
>  as the released texlive-2007.)

Use the latest revision of branches/branch2007/Build rather than tags/ 
texlive-2007.0/Build, as this gets you some significant bug-fixes.

JK


From jschrod at acm.org  Fri Jul 20 16:05:40 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 20 Jul 2007 16:05:40 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <f7qffl$8u0$1@sea.gmane.org>

Akira Kakuto wrote:
> [...]
>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c: 
>> 32:28: kpathsea/paths.h: No such file or directory
>> 
>> What has gone wrong? Configure? or SVN?
>> 
>> Configure did not make a paths.h. Should it have done so?
> 
> I don't know about this problem.
> However, the present head contains some inconsistency
> (tex.ch and XeTeX).
> Therefore you have to use branches/branch2007/Build.
> (or tags/texlive-2007.0/Build, which is the same
>  as the released texlive-2007.)

Quite a coincidence. This morning I stumbled about the same 
problem, and just wanted to write a mail about this.

kpathsea/paths.h is not created by make all in texk/kpathsea/. 
("make all" in kpathsea is called when do-kpathsea is made in 
texk/, which is a precondition for make target all.

I use the following patch to kpathsea/Makefile.in:

Index: Makefile.in
===================================================================
--- Makefile.in (revision 4637)
+++ Makefile.in (working copy)
@@ -52,7 +52,7 @@
  kpsereadlink: readlink.o
         $(link_command) readlink.o

-$(kpathsea): $(objects)
+$(kpathsea): $(kpathsea_dir)/paths.h $(objects)
         $(kpathsea_link) -rpath $(libdir) -version-info 4:0:0 
$(objects)

  # Make variable substitutions for paths.h.

Well, and a few seconds ago I committed this patch to trunk. :-)
If this was in error, somebody may explain it and revert my patch.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From jschrod at acm.org  Fri Jul 20 16:11:35 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 20 Jul 2007 16:11:35 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
	<D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>
Message-ID: <f7qfqn$a9d$1@sea.gmane.org>

Jonathan Kew wrote:
> 
> On 20 Jul 2007, at 5:35 am, Akira Kakuto wrote:
> 
>> [...]
>>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c:
>>> 32:28: kpathsea/paths.h: No such file or directory
>>>
>>> What has gone wrong? Configure? or SVN?
>>>
>>> Configure did not make a paths.h. Should it have done so?
>>
> Use the latest revision of branches/branch2007/Build rather than 
> tags/texlive-2007.0/Build, as this gets you some significant bug-fixes.

This problem exists in branch2007/, and in trunk/ as well.
tex-file.c includes paths.h, but paths.h is not listed in the 
dependencies, neither for the .lo files nor for the library. If one 
adds it (as in my patch that I just posted and committed), it is 
properly created and used.

This is not confined to OS X. I first encountered the problem 
yesterday with a fresh checkout on FreeBSD and could corroberate it 
today on Linux, too.

Cheers,
	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From jschrod at acm.org  Fri Jul 20 16:19:19 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 20 Jul 2007 16:19:19 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <f7qffl$8u0$1@sea.gmane.org>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
	<f7qffl$8u0$1@sea.gmane.org>
Message-ID: <f7qg97$bbc$1@sea.gmane.org>

Joachim Schrod wrote:
>> [...]
>>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex-file.c: 
>>> 32:28: kpathsea/paths.h: No such file or directory
>>>
>>> What has gone wrong? Configure? or SVN?
>>>
>>> Configure did not make a paths.h. Should it have done so?
>>
> 
> Quite a coincidence. This morning I stumbled about the same problem, and 
> just wanted to write a mail about this.
> 
> kpathsea/paths.h is not created by make all in texk/kpathsea/. ("make 
> all" in kpathsea is called when do-kpathsea is made in texk/, which is a 
> precondition for make target all.

For reference and the archives, the error looks as follows:

cd /home/schrod/src/texlive.linux.configure/texk/
make do-kpathsea
cd ./kpathsea && make  CC='gcc' CFLAGS='-g -O2 ' LDFLAGS='' prefix=/usr/local/teTeX exec_prefix=/usr/local/teTeX bindir=/usr/local/teTeX/bin/i686-pc-linux-gnu 
scriptdir=/usr/local/teTeX/bin/i686-pc-linux-gnu libdir=/usr/local/teTeX/lib datadir=/usr/local/teTeX/share infodir=/usr/local/teTeX/info 
includedir=/usr/local/teTeX/include mandir=/usr/local/teTeX/man manext=1 man1dir=/usr/local/teTeX/man/man1 texmf=/usr/local/teTeX/share/texmf 
web2cdir=/usr/local/teTeX/share/texmf/web2c vartexfonts=/var/tmp/texfonts texinputdir=/usr/local/teTeX/share/texmf/tex mfinputdir=/usr/local/teTeX/share/texmf/metafont 
mpinputdir=/usr/local/teTeX/share/texmf/metapost fontdir=/usr/local/teTeX/share/texmf/fonts fmtdir=/usr/local/teTeX/share/texmf/web2c/tex 
basedir=/usr/local/teTeX/share/texmf/web2c/metafont memdir=/usr/local/teTeX/share/texmf/web2c/metapost texpooldir=/usr/local/teTeX/share/texmf/web2c 
mfpooldir=/usr/local/teTeX/share/texmf/web2c mppooldir=/usr/local/teTeX/share/texmf/web2c dvips_plain_macrodir=/usr/local/teTeX/share/texmf/tex/plain/dvips 
dvilj_latex2e_macrodir=/usr/local/teTeX/share/texmf/tex/latex/dvilj dvipsdir=/usr/local/teTeX/share/texmf/dvips psheaderdir=/usr/local/teTeX/share/texmf/dvips 
default_texsizes='300:600'
make[1]: Entering directory `/shared/home/schrod/src/texlive.linux.configure/texk/kpathsea'
/bin/sh ../libtool --mode=compile gcc -DHAVE_CONFIG_H  -I. -I. -I.. -I./..   -g -O2  -DMAKE_KPSE_DLL -c tex-file.c
gcc -DHAVE_CONFIG_H -I. -I. -I.. -I./.. -g -O2 -DMAKE_KPSE_DLL -c tex-file.c -o tex-file.o
tex-file.c:32:28: error: kpathsea/paths.h: No such file or directory
tex-file.c: In function 'kpse_init_format':
tex-file.c:418: error: 'DEFAULT_GFFONTS' undeclared (first use in this function)
tex-file.c:418: error: (Each undeclared identifier is reported only once
tex-file.c:418: error: for each function it appears in.)
tex-file.c:425: error: 'DEFAULT_PKFONTS' undeclared (first use in this function)
tex-file.c:432: error: 'DEFAULT_GLYPHFONTS' undeclared (first use in this function)
tex-file.c:439: error: 'DEFAULT_TFMFONTS' undeclared (first use in this function)
tex-file.c:445: error: 'DEFAULT_AFMFONTS' undeclared (first use in this function)
tex-file.c:450: error: 'DEFAULT_MFBASES' undeclared (first use in this function)
tex-file.c:455: error: 'DEFAULT_BIBINPUTS' undeclared (first use in this function)
tex-file.c:460: error: 'DEFAULT_BSTINPUTS' undeclared (first use in this function)
tex-file.c:464: error: 'DEFAULT_TEXMFCNF' undeclared (first use in this function)
tex-file.c:468: error: 'DEFAULT_TEXMFDBS' undeclared (first use in this function)
tex-file.c:475: error: 'DEFAULT_TEXFORMATS' undeclared (first use in this function)
tex-file.c:480: error: 'DEFAULT_TEXFONTMAPS' undeclared (first use in this function)
tex-file.c:485: error: 'DEFAULT_MPMEMS' undeclared (first use in this function)
tex-file.c:491: error: 'DEFAULT_MFINPUTS' undeclared (first use in this function)
tex-file.c:495: error: 'DEFAULT_MFTINPUTS' undeclared (first use in this function)
tex-file.c:499: error: 'DEFAULT_MFPOOL' undeclared (first use in this function)
tex-file.c:503: error: 'DEFAULT_MPINPUTS' undeclared (first use in this function)
tex-file.c:507: error: 'DEFAULT_MPPOOL' undeclared (first use in this function)
tex-file.c:511: error: 'DEFAULT_MPSUPPORT' undeclared (first use in this function)
tex-file.c:515: error: 'DEFAULT_OCPINPUTS' undeclared (first use in this function)
tex-file.c:522: error: 'DEFAULT_OFMFONTS' undeclared (first use in this function)
tex-file.c:529: error: 'DEFAULT_OPLFONTS' undeclared (first use in this function)
tex-file.c:534: error: 'DEFAULT_OTPINPUTS' undeclared (first use in this function)
tex-file.c:539: error: 'DEFAULT_OVFFONTS' undeclared (first use in this function)
tex-file.c:545: error: 'DEFAULT_OVPFONTS' undeclared (first use in this function)
tex-file.c:550: error: 'DEFAULT_TEXINPUTS' undeclared (first use in this function)
tex-file.c:563: error: 'DEFAULT_TEXPSHEADERS' undeclared (first use in this function)
tex-file.c:571: error: 'DEFAULT_TEXDOCS' undeclared (first use in this function)
tex-file.c:574: error: 'DEFAULT_TEXPOOL' undeclared (first use in this function)
tex-file.c:578: error: 'DEFAULT_TEXSOURCES' undeclared (first use in this function)
tex-file.c:581: error: 'DEFAULT_TRFONTS' undeclared (first use in this function)
tex-file.c:585: error: 'DEFAULT_T1FONTS' undeclared (first use in this function)
tex-file.c:591: error: 'DEFAULT_VFFONTS' undeclared (first use in this function)
tex-file.c:597: error: 'DEFAULT_TEXCONFIG' undeclared (first use in this function)
tex-file.c:600: error: 'DEFAULT_INDEXSTYLE' undeclared (first use in this function)
tex-file.c:604: error: 'DEFAULT_TTFONTS' undeclared (first use in this function)
tex-file.c:611: error: 'DEFAULT_T42FONTS' undeclared (first use in this function)
tex-file.c:617: error: 'DEFAULT_WEB2C' undeclared (first use in this function)
tex-file.c:633: error: 'DEFAULT_MISCFONTS' undeclared (first use in this function)
tex-file.c:637: error: 'DEFAULT_WEBINPUTS' undeclared (first use in this function)
tex-file.c:642: error: 'DEFAULT_CWEBINPUTS' undeclared (first use in this function)
tex-file.c:648: error: 'DEFAULT_ENCFONTS' undeclared (first use in this function)
tex-file.c:652: error: 'DEFAULT_CMAPFONTS' undeclared (first use in this function)
tex-file.c:656: error: 'DEFAULT_SFDFONTS' undeclared (first use in this function)
tex-file.c:660: error: 'DEFAULT_OPENTYPEFONTS' undeclared (first use in this function)
tex-file.c:665: error: 'DEFAULT_PDFTEXCONFIG' undeclared (first use in this function)
tex-file.c:668: error: 'DEFAULT_LIGFONTS' undeclared (first use in this function)
tex-file.c:672: error: 'DEFAULT_TEXMFSCRIPTS' undeclared (first use in this function)
tex-file.c:675: error: 'DEFAULT_LUAINPUTS' undeclared (first use in this function)
make[1]: *** [tex-file.lo] Error 1
make[1]: Leaving directory `/shared/home/schrod/src/texlive.linux.configure/texk/kpathsea'
make: *** [do-kpathsea] Error 2

Compilation exited abnormally with code 2 at Fri Jul 20 15:55:42


-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From Gerben.Wierda at rna.nl  Fri Jul 20 17:35:21 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 20 Jul 2007 17:35:21 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
	<D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>
Message-ID: <bd82652f8100433152a56e2134471985@rna.nl>

On Jul 20, 2007, at 15:20, Jonathan Kew wrote:

>
> On 20 Jul 2007, at 5:35 am, Akira Kakuto wrote:
>
>> [...]
>>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex- 
>>> file.c:
>>> 32:28: kpathsea/paths.h: No such file or directory
>>>
>>> What has gone wrong? Configure? or SVN?
>>>
>>> Configure did not make a paths.h. Should it have done so?
>>
>> I don't know about this problem.
>> However, the present head contains some inconsistency
>> (tex.ch and XeTeX).
>> Therefore you have to use branches/branch2007/Build.
>> (or tags/texlive-2007.0/Build, which is the same
>>  as the released texlive-2007.)
>
> Use the latest revision of branches/branch2007/Build rather than  
> tags/texlive-2007.0/Build, as this gets you some significant  
> bug-fixes.

I have neither. My current mirror is the original SVN trunk  
svn://gerben at tug.org/texlive/trunk/Build

I do not want the original 2007 (if I want that I can take revision  
3972), I would like to have the trunk with all the stable patches.

How is this svn tree organized? What if I want a fully patched but  
stable TL. Do I take branches/branch2007 and I have patches there for  
Build & Master? Or is Master organized different from Build?

G


From jonathan_kew at sil.org  Fri Jul 20 18:14:28 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 20 Jul 2007 09:14:28 -0700
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <bd82652f8100433152a56e2134471985@rna.nl>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
	<D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>
	<bd82652f8100433152a56e2134471985@rna.nl>
Message-ID: <0AA43BA0-F637-4950-BE2B-7C461BE5392B@sil.org>


On 20 Jul 2007, at 8:35 am, Gerben Wierda wrote:

> On Jul 20, 2007, at 15:20, Jonathan Kew wrote:
>
>>
>> On 20 Jul 2007, at 5:35 am, Akira Kakuto wrote:
>>
>>> [...]
>>>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex- 
>>>> file.c:
>>>> 32:28: kpathsea/paths.h: No such file or directory
>>>>
>>>> What has gone wrong? Configure? or SVN?
>>>>
>>>> Configure did not make a paths.h. Should it have done so?
>>>
>>> I don't know about this problem.
>>> However, the present head contains some inconsistency
>>> (tex.ch and XeTeX).
>>> Therefore you have to use branches/branch2007/Build.
>>> (or tags/texlive-2007.0/Build, which is the same
>>>  as the released texlive-2007.)
>>
>> Use the latest revision of branches/branch2007/Build rather than  
>> tags/texlive-2007.0/Build, as this gets you some significant bug- 
>> fixes.
>
> I have neither. My current mirror is the original SVN trunk svn:// 
> gerben at tug.org/texlive/trunk/Build
>
> I do not want the original 2007 (if I want that I can take revision  
> 3972), I would like to have the trunk with all the stable patches.
>
> How is this svn tree organized? What if I want a fully patched but  
> stable TL. Do I take branches/branch2007 and I have patches there  
> for Build & Master? Or is Master organized different from Build?

For the Build side, branches/branch2007 is supposed to be stable but  
include important patches to the 2007 release; trunk is an unstable  
development line that will presumably stabilize as we approach the  
time for the next release.

As for Master, I don't know if anyone is keeping track of patches  
that could reasonably be applied to TL2007 and still considered  
stable, as opposed to the unstable development in trunk. It would be  
good to apply low-risk bug-fix patches to branches/branch2007, but  
AFAIK that hasn't been happening. Basing a distribution on trunk at  
this point in the release cycle would seem risky, though, as I don't  
think it gets continual regression testing or anything like that.

For the purposes of a distribution like yours, my suggestion would be  
to use branches/branch2007, and if there are Master patches that are  
needed (e.g., package where you know there were problems in the 2007  
release, and there are now fixed versions) then apply those to  
branch2007/Master as well.

You might find that the Debian folks have a coherent set of patches  
based on the February release, adding fixes for whatever specific  
bugs they're aware of.

JK



From jonathan_kew at sil.org  Fri Jul 20 18:30:14 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 20 Jul 2007 09:30:14 -0700
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <15280005-D14D-4F20-8E32-FE6B4075BF23@sil.org>

On 20 Jul 2007, at 5:35 am, Akira Kakuto wrote:

> [...]
>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex- 
>> file.c:
>> 32:28: kpathsea/paths.h: No such file or directory
>>
>> What has gone wrong? Configure? or SVN?
>>
>> Configure did not make a paths.h. Should it have done so?
>
> I don't know about this problem.
> However, the present head contains some inconsistency
> (tex.ch and XeTeX).

I have just updated xetex-new.ch in trunk, to match the changes in  
tex.ch, so it should now build. (I'd still regard trunk as unstable,  
though, and not necessarily a good choice for a general distribution  
at this stage.)

JK


From reinhard.kotucha at web.de  Fri Jul 20 19:02:51 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 20 Jul 2007 19:02:51 +0200
Subject: [tex-live] new tl infrastructure
In-Reply-To: <ba7d5f5d48bec632e32304c33e47e0f9@rna.nl>
References: <200706230059.l5N0xrx10870@f7.net>
	<20070624080230.GC18602@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706240611l1f4cc117qd00be3881ae150bd@mail.gmail.com>
	<20070625081006.GA2956@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706250413m65c7d952yc12cc22e8009c841@mail.gmail.com>
	<Pine.LNX.4.64.0706251333420.4343@gloin.imf.au.dk>
	<20070625114928.GC28275@gamma.logic.tuwien.ac.at>
	<ba7d5f5d48bec632e32304c33e47e0f9@rna.nl>
Message-ID: <18080.60091.333953.913057@zarniwoop.ms25.local>

Gerben Wierda writes:

 > I was wondering what the difference is between the different category 
 > types. Package I understand, but why collection and scheme? 

Collections are sets of packages.  Schemes are sets of collections.
They are only used by the installer and have no meaning on a running
system.  You can run install-tl.sh in order to see how the menus look
like. 

 > Why a category Documentation whereas other documentation is inside
 > Packages?

There is some extra documentation which is not part of any package.
It will be installed to texmf-doc/.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From Gerben.Wierda at rna.nl  Fri Jul 20 20:39:19 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 20 Jul 2007 20:39:19 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <0AA43BA0-F637-4950-BE2B-7C461BE5392B@sil.org>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
	<D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>
	<bd82652f8100433152a56e2134471985@rna.nl>
	<0AA43BA0-F637-4950-BE2B-7C461BE5392B@sil.org>
Message-ID: <c0291b3b091205e8e53913cbefafa17a@rna.nl>

On Jul 20, 2007, at 18:14, Jonathan Kew wrote:

>
> On 20 Jul 2007, at 8:35 am, Gerben Wierda wrote:
>
>> On Jul 20, 2007, at 15:20, Jonathan Kew wrote:
>>
>>>
>>> On 20 Jul 2007, at 5:35 am, Akira Kakuto wrote:
>>>
>>>> [...]
>>>>> /usr/local/TeXLive-working-copy/Build/source/texk/kpathsea/tex- 
>>>>> file.c:
>>>>> 32:28: kpathsea/paths.h: No such file or directory
>>>>>
>>>>> What has gone wrong? Configure? or SVN?
>>>>>
>>>>> Configure did not make a paths.h. Should it have done so?
>>>>
>>>> I don't know about this problem.
>>>> However, the present head contains some inconsistency
>>>> (tex.ch and XeTeX).
>>>> Therefore you have to use branches/branch2007/Build.
>>>> (or tags/texlive-2007.0/Build, which is the same
>>>>  as the released texlive-2007.)
>>>
>>> Use the latest revision of branches/branch2007/Build rather than  
>>> tags/texlive-2007.0/Build, as this gets you some significant  
>>> bug-fixes.
>>
>> I have neither. My current mirror is the original SVN trunk  
>> svn://gerben at tug.org/texlive/trunk/Build
>>
>> I do not want the original 2007 (if I want that I can take revision  
>> 3972), I would like to have the trunk with all the stable patches.
>>
>> How is this svn tree organized? What if I want a fully patched but  
>> stable TL. Do I take branches/branch2007 and I have patches there for  
>> Build & Master? Or is Master organized different from Build?
>
> For the Build side, branches/branch2007 is supposed to be stable but  
> include important patches to the 2007 release; trunk is an unstable  
> development line that will presumably stabilize as we approach the  
> time for the next release.
>
> As for Master, I don't know if anyone is keeping track of patches that  
> could reasonably be applied to TL2007 and still considered stable, as  
> opposed to the unstable development in trunk. It would be good to  
> apply low-risk bug-fix patches to branches/branch2007, but AFAIK that  
> hasn't been happening.

So branches/branch2007 does have a Master tree, but it is not updated  
while the Build tree there is?

> Basing a distribution on trunk at this point in the release cycle  
> would seem risky, though, as I don't think it gets continual  
> regression testing or anything like that.

In the past I have worked with most recent Masters in combination with  
various revisions of Build. This has worked pretty well. Stuff in  
Master generally is pretty backwards compatible.

> For the purposes of a distribution like yours, my suggestion would be  
> to use branches/branch2007, and if there are Master patches that are  
> needed (e.g., package where you know there were problems in the 2007  
> release, and there are now fixed versions) then apply those to  
> branch2007/Master as well.

I don't have time to do that kind of maintenance, sorry.

> You might find that the Debian folks have a coherent set of patches  
> based on the February release, adding fixes for whatever specific bugs  
> they're aware of.

It would be nice if someone could keep branches/branch2007  
stable-with-patches.

G


From jonathan_kew at sil.org  Fri Jul 20 21:29:07 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 20 Jul 2007 12:29:07 -0700
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <c0291b3b091205e8e53913cbefafa17a@rna.nl>
References: <6ad951b867b98f6e5ebcf2edce9e4a24@rna.nl>
	<200707201235.l6KCZ35D017221@jupiter.fsci.fuk.kindai.ac.jp>
	<D17C7261-881B-47A7-9D18-FB04192C6414@sil.org>
	<bd82652f8100433152a56e2134471985@rna.nl>
	<0AA43BA0-F637-4950-BE2B-7C461BE5392B@sil.org>
	<c0291b3b091205e8e53913cbefafa17a@rna.nl>
Message-ID: <6FE20B4A-DF8B-45F3-B0F9-2423C568D458@sil.org>

On 20 Jul 2007, at 11:39 am, Gerben Wierda wrote:

>>
>> For the Build side, branches/branch2007 is supposed to be stable  
>> but include important patches to the 2007 release; trunk is an  
>> unstable development line that will presumably stabilize as we  
>> approach the time for the next release.
>>
>> As for Master, I don't know if anyone is keeping track of patches  
>> that could reasonably be applied to TL2007 and still considered  
>> stable, as opposed to the unstable development in trunk. It would  
>> be good to apply low-risk bug-fix patches to branches/branch2007,  
>> but AFAIK that hasn't been happening.
>
> So branches/branch2007 does have a Master tree, but it is not  
> updated while the Build tree there is?

Right. The branch was created at the time of the TL2007 release, and  
no-one has touched its Master tree since then, but the Build tree has  
received bug-fix patches (as opposed to major new versions).

>
>> Basing a distribution on trunk at this point in the release cycle  
>> would seem risky, though, as I don't think it gets continual  
>> regression testing or anything like that.
>
> In the past I have worked with most recent Masters in combination  
> with various revisions of Build. This has worked pretty well. Stuff  
> in Master generally is pretty backwards compatible.

It's probably OK most of the time, for most stuff, but there's  
certainly the risk of getting something inconsistent.

Build hasn't had all that many significant updates AFAIK, at least  
until the pdftex 1.40.4 update (which was the one that broke the  
xetex build, because it modified the shared tex.ch change file). When  
we get closer to a new release, I expect there'll be a lot more churn  
as various packages get updated, and there may well be a period of  
greater instability.

> It would be nice if someone could keep branches/branch2007 stable- 
> with-patches.

Yes, it certainly would.

JK




From kakuto at fsci.fuk.kindai.ac.jp  Sat Jul 21 00:07:35 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 21 Jul 2007 07:07:35 +0900
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: Your message of "Fri, 20 Jul 2007 12:29:07 -0700"
References: <6FE20B4A-DF8B-45F3-B0F9-2423C568D458@sil.org>
Message-ID: <200707202207.l6KM7a43018937@jupiter.fsci.fuk.kindai.ac.jp>

> Build hasn't had all that many significant updates AFAIK, at least  
> until the pdftex 1.40.4 update (which was the one that broke the  
> xetex build, because it modified the shared tex.ch change file).

The changes in tex.ch by pdftex 1.40.4 were consistent with xetex build.
The inconsistency is due to my change (applied by Karl), which
fixed a problem in the case of "tex %".
BTW, the problem is not related to xetex, since xetex does not
use Olaf's code for the file name.

Best regards,
Akira

From jonathan_kew at sil.org  Sat Jul 21 00:24:20 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 20 Jul 2007 15:24:20 -0700
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <200707202207.l6KM7a43018937@jupiter.fsci.fuk.kindai.ac.jp>
References: <6FE20B4A-DF8B-45F3-B0F9-2423C568D458@sil.org>
	<200707202207.l6KM7a43018937@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <1BE8F316-304A-4F6D-BFCF-5CE7DC54A2F7@sil.org>

On 20 Jul 2007, at 3:07 pm, Akira Kakuto wrote:

>> Build hasn't had all that many significant updates AFAIK, at least
>> until the pdftex 1.40.4 update (which was the one that broke the
>> xetex build, because it modified the shared tex.ch change file).
>
> The changes in tex.ch by pdftex 1.40.4 were consistent with xetex  
> build.
> The inconsistency is due to my change (applied by Karl), which
> fixed a problem in the case of "tex %".

You're right. Thanks for clarifying this; I'd forgotten about that  
patch.

> BTW, the problem is not related to xetex, since xetex does not
> use Olaf's code for the file name.

I noticed that "xetex %" didn't lead to a crash, but had not  
carefully reviewed this yet. That explains it.

Thanks,

Jonathan

From rbrito at ime.usp.br  Sat Jul 21 13:20:57 2007
From: rbrito at ime.usp.br (=?iso-8859-1?Q?Rog=E9rio?= Brito)
Date: Sat, 21 Jul 2007 08:20:57 -0300
Subject: [tex-live] Bug#433329: Please clarify whether Lucida
	Bright/Lucida Sans	fonts are supported
In-Reply-To: <87odicr0mo.fsf@riesling.zuerich.kuesterei.ch>
References: <20070716110034.14028.80309.reportbug@fluff.wintermute.medea>
	<87odicr0mo.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070721112056.GC7261@ime.usp.br>

On Jul 16 2007, Frank K?ster wrote:
> Richard Atterer <atterer at debian.org> wrote:
> > texlive-fonts-recommended contains the following files related to Lucida 
> > Bright fonts:
> [...]
> 
> Yes - this should probably be fixed by including
> CTAN://fonts/psfonts/bh/lucida/doc/fonts/lucida/readme.lucida:
(...)
> Like some other support files for non-free fonts, they are present in
> order to allow those who have bought these fonts to easily use them
> with TeX.

Wouldn't it be the case for having the support files for non-free fonts
to be in contrib here? If I learned it correctly, I think that is the
purpose of the contrib section. Is that right?


Regards, Rog?rio Brito.

-- 
Rog?rio Brito : rbrito@{mackenzie,ime.usp}.br : GPG key 1024D/7C2CAEB8
http://www.ime.usp.br/~rbrito : http://meusite.mackenzie.com.br/rbrito
Projects: algorithms.berlios.de : lame.sf.net : vrms.alioth.debian.org

From oliver at first.in-berlin.de  Sat Jul 21 16:28:39 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Sat, 21 Jul 2007 16:28:39 +0200
Subject: [tex-live] Why not using a (e.g.) SQL-like installation-language?
Message-ID: <1185028119.46a21817c4931@webmail.in-berlin.de>

Hello,

there are a lot of people and a lot of programming languages
out there, and because of that there are at some points
borders between the people who could provide development effort.

Why not using an SQL-like language for the installation-control?

Then people do not have to learn Perl or Python or Shell or anything else,
which might take a lot of effort to learn it.

If there would be one layer of an installation-language, which would be
easy enough for all people, then nobody needs learning an API of a certain
language.
A Domain Specific Language (DSL) could help here.

So installation routines could be written in a high-level way,
instead of programming on the API of a general programming language
(which to chose?).


For example a SQL-statement like

  SELECT * from "foobar" where size < 1000000;

could be transformed to an installation routine:

  INSTALL src,doc from "foobar" where size < 1000000;

(or any other selection that would make sense)



Some days ago I started to implement a apache-logfile-retriever,
which uses a subset of the SQL-language. Selection with WHERE-statement
already works now, and maybe today I make it complete.

Description of idea and an example on what would work:
  http://www.first.in-berlin.de/software/tools/apalogretrieve/
(Code not online now; maybe later.)


So: why not making it this way also for TeX-installations?

The language could automatically load data from
CD/DVD or via network, if it is intended to do so.

So, what I'm praising for is: using ONE certain DSL for the installation,
instead of possibly one of hundreds of general programming languages.
The installer itself could be implemented (possibly) in any of the many
languages, but it would provide ONE language for all TeX-people.


Does this idea makes any sense to you?

Regards,
    Oliver Bandel

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Sat Jul 21 16:57:30 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip TAYLOR)
Date: Sat, 21 Jul 2007 15:57:30 +0100
Subject: [tex-live] Why not using a (e.g.) SQL-like
	installation-language?
In-Reply-To: <1185028119.46a21817c4931@webmail.in-berlin.de>
References: <1185028119.46a21817c4931@webmail.in-berlin.de>
Message-ID: <46A21EDA.4000305@Royal-Tunbridge-Wells.Org>



Oliver Bandel wrote:

> Why not using an SQL-like language for the installation-control?
> 
> Then people do not have to learn Perl or Python or Shell or anything else,
> which might take a lot of effort to learn it.

No, instead they have to learn an SQL-like language; it is not
at all clear to my why you believe this would be easier.

Philip Taylor

From preining at logic.at  Sat Jul 21 17:47:02 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 21 Jul 2007 17:47:02 +0200
Subject: [tex-live] Updating Master/everything except Master/bin
In-Reply-To: <cef4219e2c177a2bc4ca8c12cfb4678f@rna.nl>
References: <cef4219e2c177a2bc4ca8c12cfb4678f@rna.nl>
Message-ID: <20070721154702.GA14032@gamma.logic.tuwien.ac.at>

On Fre, 20 Jul 2007, Gerben Wierda wrote:
> What is the way for me to make sure I do get everything in Master but 
> not all the binaries for all the architectures I do not want?

I recall having this discussion already, it does simply not work.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MATCHING GREEN (adj.)
(Of neckties.) Any colour which Nigel Rees rejects as unsuitable for
his trousers or jacket.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sat Jul 21 17:48:02 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 21 Jul 2007 17:48:02 +0200
Subject: [tex-live] Why not using a (e.g.) SQL-like
	installation-language?
In-Reply-To: <1185028119.46a21817c4931@webmail.in-berlin.de>
References: <1185028119.46a21817c4931@webmail.in-berlin.de>
Message-ID: <20070721154802.GB14032@gamma.logic.tuwien.ac.at>

On Sam, 21 Jul 2007, Oliver Bandel wrote:
> Does this idea makes any sense to you?

No.

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MEETH (n.)
Something which American doctors will shortly tell us we are all
suffering from.
			--- Douglas Adams, The Meaning of Liff

From siepo at cybercomm.nl  Sat Jul 21 17:53:29 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sat, 21 Jul 2007 17:53:29 +0200
Subject: [tex-live] Vista page
Message-ID: <20070721155328.GA5838@molly>

I made a web page `Coping with Vista as a developer':
http://tex.aanhet.net/vista/

-- 
Siep Kroonenberg

From oliver at first.in-berlin.de  Sat Jul 21 19:19:36 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Sat, 21 Jul 2007 19:19:36 +0200
Subject: [tex-live] Why not using a (e.g.) SQL-like
	installation-language?
In-Reply-To: <46A21EDA.4000305@Royal-Tunbridge-Wells.Org>
References: <1185028119.46a21817c4931@webmail.in-berlin.de>
	<46A21EDA.4000305@Royal-Tunbridge-Wells.Org>
Message-ID: <1185038376.46a240286b41c@webmail.in-berlin.de>

Zitat von Philip TAYLOR <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org>:

>
>
> Oliver Bandel wrote:
>
> > Why not using an SQL-like language for the installation-control?
> >
> > Then people do not have to learn Perl or Python or Shell or anything else,
> > which might take a lot of effort to learn it.
>
> No, instead they have to learn an SQL-like language;

It's not necessarily to be a SQL-like language, it also can
be done completely different, if it is better to do in another way.

If it is completely different and called "TeX installation language"
it might be better.

The difference is, that one can give commands in a way,
the user needs to.
A command like "INSTALL "filename" from "server.foobar.xx""
is easier than ewriting things in a programming language.


People use TeX and LaTeX, because it's easier than to write
pdf or postscript or dvi by hand.

why should one learn TeX?

That's the same thing.


> it is not
> at all clear to my why you believe this would be easier.
>

The installation language would have the commands it needs,
and does not have any other commands added.

So it has less commands than a general programming language.

But if no one needs it, forget my idea and do it in
any language you want to.

Ciao,
   Oliver

From oliver at first.in-berlin.de  Sat Jul 21 19:44:51 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Sat, 21 Jul 2007 19:44:51 +0200
Subject: [tex-live] Ciao!
Message-ID: <1185039891.46a24613e4c15@webmail.in-berlin.de>

Hello,

as it seems, I can't contribute to the texlive-stuff,
I say ciao and go off the list.

Have much fun and work. ;-)

I will be texlive consumer-only then.

Ciao,
   Oliver

From Disgusted at Royal-Tunbridge-Wells.Org  Sat Jul 21 20:04:18 2007
From: Disgusted at Royal-Tunbridge-Wells.Org (Disgusted of Tunbridge Wells)
Date: Sat, 21 Jul 2007 19:04:18 +0100
Subject: [tex-live] Ciao!
In-Reply-To: <1185039891.46a24613e4c15@webmail.in-berlin.de>
References: <1185039891.46a24613e4c15@webmail.in-berlin.de>
Message-ID: <46A24AA2.9070009@Royal-Tunbridge-Wells.Org>

Dear Oliver -- Just because one person can see no
obvious benefit in one of your suggestions does not
mean that your input is not useful; /anything/
that challenges received wisdom and the status quo
is a useful contribution, IMHO, because it causes
all of us to re-consider what are only too often
very entrenched positions ...

Philip Taylor
--------
Oliver Bandel wrote:
> Hello,
> 
> as it seems, I can't contribute to the texlive-stuff,
> I say ciao and go off the list.
> 
> Have much fun and work. ;-)
> 
> I will be texlive consumer-only then.
> 
> Ciao,
>    Oliver

From vext01 at gmail.com  Sat Jul 21 20:48:48 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Sat, 21 Jul 2007 19:48:48 +0100
Subject: [tex-live] new tl infrastructure
In-Reply-To: <18080.60091.333953.913057@zarniwoop.ms25.local>
References: <200706230059.l5N0xrx10870@f7.net>
	<20070624080230.GC18602@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706240611l1f4cc117qd00be3881ae150bd@mail.gmail.com>
	<20070625081006.GA2956@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706250413m65c7d952yc12cc22e8009c841@mail.gmail.com>
	<Pine.LNX.4.64.0706251333420.4343@gloin.imf.au.dk>
	<20070625114928.GC28275@gamma.logic.tuwien.ac.at>
	<ba7d5f5d48bec632e32304c33e47e0f9@rna.nl>
	<18080.60091.333953.913057@zarniwoop.ms25.local>
Message-ID: <a6e8c1d0707211148n860e421h2a469f0a5715340b@mail.gmail.com>

Hi Guys,

It seems a lot has changed in the infrastructure since I last read the thread.

My question (which is probably aimed at Norbert?) is, is there an easy
way to generate the set of distfiles that I used for the OpenBSD port
of texlive. I ask in the hope that I can get on top of texlive
developer snapshots so as to deliver tl2008 to the OpenBSD community
with minimal "port-lag".

My distfiles are described here:
http://students.dec.bmth.ac.uk/ebarrett/texlive/guide/texlive_port_doc-20070717.pdf
. See sections 3.1, 5.1 and 6.1.

A suggestion that I made a python API was floating around, but it
seems silly if there is already a good perl API, which could to the
trick(?).

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From reinhard.kotucha at web.de  Sat Jul 21 22:33:00 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 21 Jul 2007 22:33:00 +0200
Subject: [tex-live] Ciao!
In-Reply-To: <46A24AA2.9070009@Royal-Tunbridge-Wells.Org>
References: <1185039891.46a24613e4c15@webmail.in-berlin.de>
	<46A24AA2.9070009@Royal-Tunbridge-Wells.Org>
Message-ID: <18082.28028.873076.197624@zarniwoop.ms25.local>

Disgusted of Tunbridge Wells writes:

 > Dear Oliver -- Just because one person can see no
 > obvious benefit in one of your suggestions does not
 > mean that your input is not useful;
 > [...]

It's not only one person.  But not everybody has enough time to
discuss such strange things.

Since Oliver made clear at the beginning that he refuses to use
Norbert's Perl modules, I doubt that he is able to collaborate.

The ***final*** decision to do everything in Perl had been made at
EuroTeX-2007 and nobody involved in TL-development is interested in a
discussion about other programming languages.

The installer has to be written in a programming language which can be
expected to be available on all UNIX platforms and for which one we
have binaries on the CD/DVD.  This language is Perl, everything else
would be brain-dead.  Any further discussion about this is useless.

If Oliver wants to contribute he has to collaborate but it seems that
he doesn't intend to do so. 

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From reinhard.kotucha at web.de  Sat Jul 21 23:36:18 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 21 Jul 2007 23:36:18 +0200
Subject: [tex-live] Vista page
In-Reply-To: <20070721155328.GA5838@molly>
References: <20070721155328.GA5838@molly>
Message-ID: <18082.31826.238880.693108@zarniwoop.ms25.local>

Siep Kroonenberg writes:

 > I made a web page `Coping with Vista as a developer':
 > http://tex.aanhet.net/vista/

Thank you very much for your work.  Seems that David Kastrup is
correct with his statement: "imply security by annoyance".

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From gnwiii at gmail.com  Sun Jul 22 00:52:15 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 21 Jul 2007 19:52:15 -0300
Subject: [tex-live] Updating Master/everything except Master/bin
In-Reply-To: <20070721154702.GA14032@gamma.logic.tuwien.ac.at>
References: <cef4219e2c177a2bc4ca8c12cfb4678f@rna.nl>
	<20070721154702.GA14032@gamma.logic.tuwien.ac.at>
Message-ID: <22af238a0707211552y66130678t1a93c5d27fb95057@mail.gmail.com>

On 7/21/07, Norbert Preining <preining at logic.at> wrote:

> On Fre, 20 Jul 2007, Gerben Wierda wrote:
> > What is the way for me to make sure I do get everything in Master but
> > not all the binaries for all the architectures I do not want?
>
> I recall having this discussion already, it does simply not work.

If you don't need svn, just the files, you can try something like:

 rsync -a --exclude=.svn --exclude=Master/bin tug.org::tldevsrc <local svn dir>


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From frank at kuesterei.ch  Fri Jul 20 15:21:28 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 20 Jul 2007 15:21:28 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <85ved4zb3h.fsf@lola.goethe.zz> (David Kastrup's message of "Sun\,
	01 Jul 2007 12\:12\:34 +0200")
References: <200707010941.l619fdwx014086@jupiter.fsci.fuk.kindai.ac.jp>
	<85ved4zb3h.fsf@lola.goethe.zz>
Message-ID: <878x9b8b3b.fsf@riesling.zuerich.kuesterei.ch>

Hi, sorry for coming back so late, but I was on holiday and took a week
to work through my backlog and recover...

David Kastrup <dak at gnu.org> wrote:

> Akira Kakuto <kakuto at fsci.fuk.kindai.ac.jp> writes:
>
>>> -for path in string.gmatch(pathlist, "[^:]*") do
>>> +for path in string.gmatch(pathlist, "[^:;]*") do
>>>
>>> should do. 
>>
>> Unfortunately that does not work.
[...]
>> /usr/local/share/texmf/doc/bibtex/
[...]
>> While in the case of
>> for path in string.gmatch(pathlist, "[^;]*") do
[...]
>> c:/usr/local/share/texmf/doc/bibtex/
[...]
> Personally, I'd prefer something like (don't know the expressions,
> though):
>
> "([a-zA-Z]:)?[^:;]*"
> for matching purposes, independent of platform.  It will mean that
> under Unix, single-character relative directory specs will have to be
> preceded with "./" in order to be recognized correctly.  And it will
> disallow using either : or ; within paths itself (except for a
> directory spec).

I'm not sure we understand each other (and wheter I always said sensible
things in the past, don't have that old mails any more).

This string.gmatch with : and/or ; is only used twice in texdoclua, and
that is when iterating over the contents of a list returned by kpathsea
when looking up variables.  At a first approximation, there's no drive
letters involved, just lists of paths (or extensions, in the case of
TEXDOCEXT) from texmf.cnf.

So the right handling depends on the path separators used.  On my Linux
system, 

 kpsewhich --expand-braces '$TEXDOCS'

results in a list with `:' as the separator.  Of course if I split the
list at this character, drive specifiers on Windows will be split of,
too - that's the problem.

To find a clean solution, I think I need to know whether the separators
are consistent among systems: If it's always `:' on Unix-likes and
always `;' on Windowsen, then I don't see the need for "complicated"
regexes, we just split at the unique, system-dependent separator.  Only
if the separator is not that predictable, then do we need to do the
([a-zA-Z]:)? magic.  

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at debian.org  Fri Jul 20 17:17:36 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 20 Jul 2007 17:17:36 +0200
Subject: [tex-live] Bug#433137: texlive-fonts-recommended: No license
	information for utopia and fpl
In-Reply-To: <1I9n1q-189-00@skye> (Ralf Stubner's message of "Sat\,
	14 Jul 2007 21\:11\:42 +0200")
References: <1I9n1q-189-00@skye>
Message-ID: <87myxr6r5b.fsf@riesling.zuerich.kuesterei.ch>

Dear tex-live team,

Ralf Stubner <ralf.stubner at web.de> wrote:

> I haven't cheked all parts of tl-fonts-recommended, 

Who has ...?

> but at least for
> utopia and fpl there is no license information like the README files
> that can be found on CTAN. 

I'm not sure whether there's a formal policy, but I think that's an
upstream bug.  Not only because the license is in there, but generally
because README files sometimes are really meant for what their name
indicates... 

Not having looked at the new infrastructure, I don't know whether this
needs to be fixed by hand, and how.  Does anyone know?

> For fpl one might argue that 
>
> % fpl: gpl (verification data:1.002:1.002:2006-05-04:frank:README)
> [list of files]
>
> in Licenses.gz[1] is sufficient (I am not sure, though). 

For debian-legal, I claim that this is sufficient, but adding the README
would be nice (and luckily the "extra license file" lintian error isn't
triggered by READMEs ;-)).

> But for
> utopia one will need the actual license text, since it is nonstandard.

Ralf, could you find the time and add that to the text of individual
licenses in all/debian/copyright, once that I've committed my changes
and the existing license texts are at their place?

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at debian.org  Fri Jul 20 17:58:40 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 20 Jul 2007 17:58:40 +0200
Subject: [tex-live] Bug#433455: Bug#433455: /usr/bin/pdftex: $TEXEDIT
	default doesn't cope with spaces in filenames
In-Reply-To: <200707172135.l6HLZvv1004568@jupiter.fsci.fuk.kindai.ac.jp>
	(Akira Kakuto's message of "Wed\, 18 Jul 2007 06\:35\:56 +0900")
References: <871wf7axd2.fsf@riesling.zuerich.kuesterei.ch>
	<200707172135.l6HLZvv1004568@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <87ir8f6p8v.fsf@riesling.zuerich.kuesterei.ch>

Akira Kakuto <kakuto at fsci.fuk.kindai.ac.jp> wrote:

>> Hm, it's at least mentioned in texk/web2c/libs/texmfmp.c, but I can't
>> find where it's set.  Can anyone help me?
>
> Compile time default for TEXEDIT, MFEDIT, MPEDIT is the
> variable EDITOR in texk/web2c/c-auto.h ( <--- c-auto.in).

Thank you.  However, after some thinking I changed my opinion, and I
don't think it makes much sense to change it there.  Better include it
in texmf.cnf, making it more visible.  I suggest the following patch:

@@ -484,7 +524,14 @@
 % expecting DVI, and not "tex" because we want first line parsing.
 TEX = etex
 
+% TEXEDIT: editor command, used when TeX presents an error in
+% interactive mode, and the user presses `e' to start editing.
+%
+% The string %d is expanded to the line number of the error
+% The string %s is expanded to the filename
+TEXEDIT = vi +%d "%s"
 
+
 %  Part 3: Array and other sizes for TeX (and Metafont and MetaPost).
 %
 % If you want to change some of these sizes only for a certain TeX


Regarding Debian, I don't think we can use "sensible-editor":  It
doesn't support the '+lineno' syntax.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Fri Jul 20 15:01:00 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 20 Jul 2007 15:01:00 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <4686796B.8080303@Royal-Tunbridge-Wells.Org> (Philip TAYLOR's
	message of "Sat\, 30 Jun 2007 16\:40\:27 +0100")
References: <876458m0z7.fsf@riesling.zuerich.kuesterei.ch>
	<200706291241.l5TCfIoB007391@jupiter.fsci.fuk.kindai.ac.jp>
	<87fy4aaetb.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291131m3998f318r9d4234cbb1557a6a@mail.gmail.com>
	<87tzsqiiu2.fsf@riesling.zuerich.kuesterei.ch>
	<8719b6240706291414w6088184ev1e79fba248959124@mail.gmail.com>
	<46857993.2020008@Royal-Tunbridge-Wells.Org>
	<87myyh4zeg.fsf@riesling.zuerich.kuesterei.ch>
	<18054.28822.539370.730133@zarniwoop.ms25.local>
	<4686796B.8080303@Royal-Tunbridge-Wells.Org>
Message-ID: <87d4yn8c1f.fsf@riesling.zuerich.kuesterei.ch>

Philip TAYLOR <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> wrote:

> Definitely works for me, Frank.  Attached is the
> file against which I tested, and the incantation
> was :
>
> 	Start /wait FILELOAD[1].pdf
>
> which then sat there until I closed Adobe Acrobat.

Ah, great (and sorry for the late answer.

Would then

(start /wait FILELOAD.pdf; echo $PATH) &

return at once, but echo PATH later when Acrobat is closed? 

Regards, Frank

-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From preining at logic.at  Sun Jul 22 08:26:00 2007
From: preining at logic.at (Norbert Preining)
Date: Sun, 22 Jul 2007 08:26:00 +0200
Subject: [tex-live] new tl infrastructure
In-Reply-To: <a6e8c1d0707211148n860e421h2a469f0a5715340b@mail.gmail.com>
References: <200706230059.l5N0xrx10870@f7.net>
	<20070624080230.GC18602@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706240611l1f4cc117qd00be3881ae150bd@mail.gmail.com>
	<20070625081006.GA2956@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706250413m65c7d952yc12cc22e8009c841@mail.gmail.com>
	<Pine.LNX.4.64.0706251333420.4343@gloin.imf.au.dk>
	<20070625114928.GC28275@gamma.logic.tuwien.ac.at>
	<ba7d5f5d48bec632e32304c33e47e0f9@rna.nl>
	<18080.60091.333953.913057@zarniwoop.ms25.local>
	<a6e8c1d0707211148n860e421h2a469f0a5715340b@mail.gmail.com>
Message-ID: <20070722062600.GD21762@gamma.logic.tuwien.ac.at>

Hi Ed,

On Sam, 21 Jul 2007, Edd Barrett wrote:
> It seems a lot has changed in the infrastructure since I last read the 
> thread.

Well, not much has changed *within* the new infra, but wrt the old, yes.

> My question (which is probably aimed at Norbert?) is, is there an easy
> way to generate the set of distfiles that I used for the OpenBSD port

If you tell me what is this set of "dist" files? I took a short look at
the pdf you mentioned, but I don't have much time (I am mountain guiding
for 4 weeks). 

So, to get the tpm files there is no easy way. But you could take a look
at the perl modules, or the present texlive.tlpdb and see if you can
write a python module for accessing this stuff.

> A suggestion that I made a python API was floating around, but it
> seems silly if there is already a good perl API, which could to the
> trick(?).

Yes, there is a perl api for all of this, see
	trunk/Master/tlpkg/TeXLive/*.pm
which contains pod documentation. The pod documentation is the most
up2date, the one from TLPSRC.pm contains the format definition.

You can also look into
	trunk/Master/tlpkg/doc/
where there are some specification docs, but it could be that they are
*slightly* (really only slightly) out of date.

Ah yes, in 
	trunk/Master/tlpkg/bin/
there are scripts which we use to update the db etc etc, take a look.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SKETTY (n.)
Apparently self-propelled little dance a beer glass performs in its
own puddle.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sun Jul 22 08:28:54 2007
From: preining at logic.at (Norbert Preining)
Date: Sun, 22 Jul 2007 08:28:54 +0200
Subject: [tex-live] Ciao!
In-Reply-To: <46A24AA2.9070009@Royal-Tunbridge-Wells.Org>
References: <1185039891.46a24613e4c15@webmail.in-berlin.de>
	<46A24AA2.9070009@Royal-Tunbridge-Wells.Org>
Message-ID: <20070722062854.GE21762@gamma.logic.tuwien.ac.at>

On Sam, 21 Jul 2007, Disgusted of Tunbridge Wells wrote:
> that challenges received wisdom and the status quo
> is a useful contribution, IMHO, because it causes
> all of us to re-consider what are only too often
> very entrenched positions ...

Ever heard of meritocracy ... those doing the work decide. Its that dead
simple. Everyone is invited to contribute, and with its contribution his
right to decide grows.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
WIMBLEDON (n.)
That last drop which, no matter how much you shake it, always goes
down your trouser leg.
			--- Douglas Adams, The Meaning of Liff

From kakuto at fsci.fuk.kindai.ac.jp  Sun Jul 22 11:26:58 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 22 Jul 2007 18:26:58 +0900
Subject: [tex-live] Bug#433455: Bug#433455: /usr/bin/pdftex:
	$TEXEDIT	default doesn't cope with spaces in filenames
In-Reply-To: Your message of "Fri, 20 Jul 2007 17:58:40 +0200"
References: <87ir8f6p8v.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707220926.l6M9Qw9O024362@jupiter.fsci.fuk.kindai.ac.jp>

> > Compile time default for TEXEDIT, MFEDIT, MPEDIT is the
> > variable EDITOR in texk/web2c/c-auto.h ( <--- c-auto.in).
> 
> Thank you.  However, after some thinking I changed my opinion, and I
> don't think it makes much sense to change it there.  Better include it
> in texmf.cnf, making it more visible.  I suggest the following patch:
> 
> @@ -484,7 +524,14 @@
>  % expecting DVI, and not "tex" because we want first line parsing.
>  TEX = etex
>  
> +% TEXEDIT: editor command, used when TeX presents an error in
> +% interactive mode, and the user presses `e' to start editing.
> +%
> +% The string %d is expanded to the line number of the error
> +% The string %s is expanded to the filename
> +TEXEDIT = vi +%d "%s"

Good choice. Compile time default is overridden by TEXEDIT.
I think you had better define also MFEDIT and MPEDIT.

Best regards,
Akira

From kakuto at fsci.fuk.kindai.ac.jp  Sun Jul 22 11:18:45 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 22 Jul 2007 18:18:45 +0900
Subject: [tex-live] texdoc in luatex
In-Reply-To: Your message of "Fri, 20 Jul 2007 15:01:00 +0200"
References: <87d4yn8c1f.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707220918.l6M9IkuX024317@jupiter.fsci.fuk.kindai.ac.jp>

> Philip TAYLOR <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> wrote:
> 
> > Definitely works for me, Frank.  Attached is the
> > file against which I tested, and the incantation
> > was :
> >
> > 	Start /wait FILELOAD[1].pdf
> >
> > which then sat there until I closed Adobe Acrobat.
> 
> Ah, great (and sorry for the late answer.
> 
> Would then
> 
> (start /wait FILELOAD.pdf; echo $PATH) &
> 
> return at once, but echo PATH later when Acrobat is closed? 

Shell for Windows (cmd.exe) is considerably different from sh:
1. command separator is not ';' but '&'.
2. () does not mean subshell.
3. & does not mean background job.
... ...

tests

(1) start FILELOAD.pdf & echo %PATH%
    returns at once, and shows %PATH% at once

(2) start /wait FILELOAD.pdf & echo %PATH%
    does not return untill Acrobat reader is closed.
    %PATH% is shown later when Reader is closed.

I can't at present realize
"return at once, but echo PATH later when Acrobat is closed"

Best regards,
Akira

From vext01 at gmail.com  Sun Jul 22 12:18:46 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Sun, 22 Jul 2007 11:18:46 +0100
Subject: [tex-live] new tl infrastructure
In-Reply-To: <20070722062600.GD21762@gamma.logic.tuwien.ac.at>
References: <200706230059.l5N0xrx10870@f7.net>
	<a6e8c1d0706240611l1f4cc117qd00be3881ae150bd@mail.gmail.com>
	<20070625081006.GA2956@gamma.logic.tuwien.ac.at>
	<a6e8c1d0706250413m65c7d952yc12cc22e8009c841@mail.gmail.com>
	<Pine.LNX.4.64.0706251333420.4343@gloin.imf.au.dk>
	<20070625114928.GC28275@gamma.logic.tuwien.ac.at>
	<ba7d5f5d48bec632e32304c33e47e0f9@rna.nl>
	<18080.60091.333953.913057@zarniwoop.ms25.local>
	<a6e8c1d0707211148n860e421h2a469f0a5715340b@mail.gmail.com>
	<20070722062600.GD21762@gamma.logic.tuwien.ac.at>
Message-ID: <a6e8c1d0707220318i5dc7ebcmb56adb48bd76f052@mail.gmail.com>

Hi,

On 22/07/07, Norbert Preining <preining at logic.at> wrote:
> If you tell me what is this set of "dist" files? I took a short look at
> the pdf you mentioned, but I don't have much time (I am mountain guiding
> for 4 weeks).

Sorry. We call "distfiles" the files that the ports system downloads
in order to make packages. In this case the distfiles are subsets of
the tl texmf.

texmf-minimal = scheme-tetex minus DocFiles.
texmf-full = Everything else apart from Docfiles.
texmf-docs = All DocFiles.

If there is an easy way to generate these texmf subsets, then that is ideal!

Enjoy the mountains!

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From dak at gnu.org  Sun Jul 22 12:18:33 2007
From: dak at gnu.org (David Kastrup)
Date: Sun, 22 Jul 2007 12:18:33 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <878x9b8b3b.fsf@riesling.zuerich.kuesterei.ch> ("Frank
	=?iso-8859-1?Q?K=FCster=22's?= message of "Fri\, 20 Jul 2007 15\:21\:28
	+0200")
References: <200707010941.l619fdwx014086@jupiter.fsci.fuk.kindai.ac.jp>
	<85ved4zb3h.fsf@lola.goethe.zz>
	<878x9b8b3b.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <85odi4oi6e.fsf@lola.goethe.zz>

Frank K?ster <frank at kuesterei.ch> writes:

> [...]
>> Personally, I'd prefer something like (don't know the expressions,
>> though):
>>
>> "([a-zA-Z]:)?[^:;]*"
>> for matching purposes, independent of platform.  It will mean that
>> under Unix, single-character relative directory specs will have to be
>> preceded with "./" in order to be recognized correctly.  And it will
>> disallow using either : or ; within paths itself (except for a
>> directory spec).
>
> I'm not sure we understand each other (and wheter I always said
> sensible things in the past, don't have that old mails any more).
>
> This string.gmatch with : and/or ; is only used twice in texdoclua,
> and that is when iterating over the contents of a list returned by
> kpathsea when looking up variables.  At a first approximation,
> there's no drive letters involved, just lists of paths (or
> extensions, in the case of TEXDOCEXT) from texmf.cnf.
>
> So the right handling depends on the path separators used.

Which is a dependency I want to avoid, at the cost of not handling
some quite academical cases properly on on one of the systems (of
course, which cases are not handled properly is different on each
system).

> On my Linux system,
>
>  kpsewhich --expand-braces '$TEXDOCS'
>
> results in a list with `:' as the separator.  Of course if I split the
> list at this character, drive specifiers on Windows will be split of,
> too - that's the problem.
>
> To find a clean solution, I think I need to know whether the
> separators are consistent among systems: If it's always `:' on
> Unix-likes and always `;' on Windowsen, then I don't see the need
> for "complicated" regexes, we just split at the unique,
> system-dependent separator.

The problem with that is

a) that every single program must know and deal with the right
separators.  This is enfuriatingly hard to do.  We have to do this in
AUCTeX, and it is a fragile piece of ****.  If kpathsea used my
heuristics, it would not matter what separator I pick.

b) Cygwin.  Windows system, : separator.  If you use the Cygwin TeX.
If not, ; separator.

> Only if the separator is not that predictable, then do we need to do
> the ([a-zA-Z]:)? magic.

Well, you can ask kpathsea about the separator being used.  That
should in most cases work and put you off the hook.  And what puts you
_completely_ off the hook, of course, it to just let kpathsea parse
your paths.

It would not make sense for luatexdoc to do anything that kpathsea
does not do.  The place where such a change should end up is kpathsea,
and working on it somewhere else is a waste of time.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From dsorkin at techunix.technion.ac.il  Fri Jul 20 12:59:16 2007
From: dsorkin at techunix.technion.ac.il (Dima Sorkin)
Date: Fri, 20 Jul 2007 13:59:16 +0300
Subject: [tex-live] hebrew support
In-Reply-To: <99759FD1-7FA5-4FE5-BE6B-F33DEDC2B56B@sil.org>
References: <1184674016.469cb0e092335@webmail.technion.ac.il>
	<99759FD1-7FA5-4FE5-BE6B-F33DEDC2B56B@sil.org>
Message-ID: <1184929156.46a09584c41ac@webmail.technion.ac.il>

Hi.

Quoting Jonathan Kew:
> One option you might consider is to use XeTeX, which directly  
> supports Unicode
I've looked at it's documentation and a bit, and it seems exactly what I need.
I will try it, and if it will work for me - switch to it completely.

What about my 2nd original question about the fact that with tetex's
pdflatex and ps2pdf and xdvi and kdvi crash when 8859-8 encoded hebrew
text is longer than two pages ? Somebody observed this in his docs ?

I didn't install tex-live yet,
but had somebody tested it's stability with hebrew files ?

Thank you.
Regards,
 Dima.

P.S.
  Please CC me on answers, I'm not in the list. 

From kakuto at fsci.fuk.kindai.ac.jp  Sun Jul 22 16:04:04 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 22 Jul 2007 23:04:04 +0900
Subject: [tex-live] texdoc in luatex
In-Reply-To: Your message of "Sun, 22 Jul 2007 18:18:45 +0900"
References: <200707220918.l6M9IkuX024317@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200707221404.l6ME44EU025228@jupiter.fsci.fuk.kindai.ac.jp>

> I can't at present realize
> "return at once, but echo PATH later when Acrobat is closed"

A variant may be
start /b cmd /c @echo off & start /wait FILELOAD.pdf & echo %PATH%

-- 
Akira Kakuto

From kakuto at fsci.fuk.kindai.ac.jp  Sun Jul 22 16:51:05 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun, 22 Jul 2007 23:51:05 +0900
Subject: [tex-live] texdoc in luatex
In-Reply-To: Your message of "Sun, 22 Jul 2007 23:04:04 +0900"
References: <200707221404.l6ME44EU025228@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200707221451.l6MEp65B025427@jupiter.fsci.fuk.kindai.ac.jp>

> > I can't at present realize
> > "return at once, but echo PATH later when Acrobat is closed"
> 
> A variant may be
> start /b cmd /c @echo off & start /wait FILELOAD.pdf & echo %PATH%
That was wrong. The above also does not return at once.
-- 
Akira Kakuto

From gnwiii at gmail.com  Sun Jul 22 20:21:07 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 22 Jul 2007 15:21:07 -0300
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <68c491a60707111415y4061594er95dbac9391165fd4@mail.gmail.com>
References: <68c491a60707110624y6e04a106hdbf1073f1ee02687@mail.gmail.com>
	<68c491a60707111415y4061594er95dbac9391165fd4@mail.gmail.com>
Message-ID: <22af238a0707221121k332f6594y1336dd835bbdc77c@mail.gmail.com>

On 7/11/07, Martin Schr?der <martin at oneiros.de> wrote:

> I've imported it into TL (r4561). I've also patched aleph and omega.
>
> Best
>    Martin

I just got around to building the final release pdftex-1.40.4, but it
wouldn't generate formats using the svn "Master" texmf trees:

$ *** glibc detected *** tex: free(): invalid pointer: 0x09823b09 ***

The problem turned out to be a recent change in texfonts.map:

cd ..../svn/Master/texmf-dist/fonts/map/fontname/

$ tail -2 texfonts.map| od -x
0000000 2025 647a 2020 2020 2020 2020 2020 2020
0000020 2020 615a 6670 6944 676e 6162 7374 200a
0000040 000a
0000041

Deleting the empty looking last line in vi was enough to get things
going, but the underlying problem is in fontmap.c.  Also, texfonts.map
is missed by the "pdftex -recorder" option.  Surprisingly, kpathsea
loads all the texfonts.map files, not just the first found, so it is not
enough to put a cleaned version of texfonts.map in a local tree, you
have to fix the one in svn/Master/texmf-dist!

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From martin at oneiros.de  Sun Jul 22 21:25:55 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 22 Jul 2007 21:25:55 +0200
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <22af238a0707221121k332f6594y1336dd835bbdc77c@mail.gmail.com>
References: <68c491a60707110624y6e04a106hdbf1073f1ee02687@mail.gmail.com>
	<68c491a60707111415y4061594er95dbac9391165fd4@mail.gmail.com>
	<22af238a0707221121k332f6594y1336dd835bbdc77c@mail.gmail.com>
Message-ID: <68c491a60707221225o411c7509s276b8c25454c4fa0@mail.gmail.com>

2007/7/22, George N. White III <gnwiii at gmail.com>:
> Deleting the empty looking last line in vi was enough to get things
> going, but the underlying problem is in fontmap.c.  Also,

Karl?

texfonts.map
> is missed by the "pdftex -recorder" option.  Surprisingly,

Does it report any map file at all? Here it reports pdftex.map .

Best
   Martin

From karl at freefriends.org  Mon Jul 23 00:48:57 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 22 Jul 2007 17:48:57 -0500
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <22af238a0707221121k332f6594y1336dd835bbdc77c@mail.gmail.com>
Message-ID: <200707222248.l6MMmvQ13403@f7.net>

    Deleting the empty looking last line in vi was enough to get things
    going

I removed that empty-looking last line.

    but the underlying problem is in fontmap.c

I'll have to look at that later.  A patch would be welcome :).

    texfonts.map is missed by the "pdftex -recorder" option.

I think we need to add

if (kpse_record_input)
  kpse_record_input (*filenames);

to the loop in read_all_maps in kpathsea/fontmap.c, but I can't test it
right now.  If one of you has a chance to do that, that would be great.

    Surprisingly, kpathsea loads all the texfonts.map files,

I can see how that would be surprising, but it's been a documented
feature since the beginning.  I don't think we should change it now.

Thanks,
Karl

From karl at freefriends.org  Mon Jul 23 01:14:57 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 22 Jul 2007 18:14:57 -0500
Subject: [tex-live] new tl infrastructure
In-Reply-To: <a6e8c1d0707220318i5dc7ebcmb56adb48bd76f052@mail.gmail.com>
Message-ID: <200707222314.l6MNEvC19786@f7.net>

Hi Edd,

    texmf-minimal = scheme-tetex minus DocFiles.
    texmf-full = Everything else apart from Docfiles.
    texmf-docs = All DocFiles.

If by "DocFiles" you mean only the packages in texmf-doc, new schemes
could be defined along these lines, although I feel a bit reluctant
about it.

If you also mean the files in texmf/doc and texmf-dist/doc, as I
suspect, then there's no way at present to define a scheme for that.
You'd have to read texlive.tlpdb and pull out the doc files, or
something.

It probably doesn't help you, but FYI, the interactive TL installer has
an option to omit installing the /doc (and /source) subtrees.

Best,
Karl

From karl at freefriends.org  Mon Jul 23 01:26:48 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 22 Jul 2007 18:26:48 -0500
Subject: [tex-live] Bug#433455: Bug#433455: /usr/bin/pdftex:
	$TEXEDIT	default doesn't cope with spaces in filenames
In-Reply-To: <87ir8f6p8v.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707222326.l6MNQm122329@f7.net>

    don't think it makes much sense to change it [in c-auto.in]

Why not?

    Better include it in texmf.cnf, making it more visible.

Including every possible variable in texmf.cnf just for "visibility"
doesn't exactly seem desirable to me.  Although I suppose it's pretty
close to that now!

Best,
Karl

From vext01 at gmail.com  Mon Jul 23 01:44:30 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 23 Jul 2007 00:44:30 +0100
Subject: [tex-live] new tl infrastructure
In-Reply-To: <200707222314.l6MNEvC19786@f7.net>
References: <a6e8c1d0707220318i5dc7ebcmb56adb48bd76f052@mail.gmail.com>
	<200707222314.l6MNEvC19786@f7.net>
Message-ID: <a6e8c1d0707221644s49f42814y11502b372eb5c267@mail.gmail.com>

Hi Karl,

On 23/07/07, Karl Berry <karl at freefriends.org> wrote:
> Hi Edd,
>
>     texmf-minimal = scheme-tetex minus DocFiles.
>     texmf-full = Everything else apart from Docfiles.
>     texmf-docs = All DocFiles.
>
> If by "DocFiles" you mean only the packages in texmf-doc, new schemes
> could be defined along these lines, although I feel a bit reluctant
> about it.

No, I mean "DocFiles" as in what I found in the old TPM system. From
the top of my head the XML (RDF) files described RunFiles, DocFiles,
SourceFiles, BinFiles and ShareFiles?

The DocFiles tended to be stuff for use with the "texdoc" binary.

Perhaps it doesnt work like that anymore. If not is there an equivilent?

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From karl at freefriends.org  Mon Jul 23 02:01:13 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 22 Jul 2007 19:01:13 -0500
Subject: [tex-live] texdoc in luatex
In-Reply-To: <878x9b8b3b.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707230001.l6N01DE01487@f7.net>

    If it's always `:' on Unix-likes and always `;' on Windowsen,

As far as I can see, it is.  The kpse_path_expand function in expand.c
outputs the elements separated by ENV_SEP, where ENV_SEP is defined in
c-pathch.h with the usual #ifdef's.  There is also some agony to deal
with Windows drive specs.

David, I guess that causes trouble for auctex somehow, but I'm afraid I
don't understand what you're proposing.  Sorry.

(Perhaps it would be better to simply always use ; as we do in
texmf.cnf, but I'm afraid scripts might be depending on the separator as
it is now.)

Karl

From karl at freefriends.org  Mon Jul 23 02:30:11 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 22 Jul 2007 19:30:11 -0500
Subject: [tex-live] Bug#433329: Please clarify whether
	Lucida	Bright/Lucida Sans	fonts are supported
In-Reply-To: <20070721112056.GC7261@ime.usp.br>
Message-ID: <200707230030.l6N0UBY09627@f7.net>

    Wouldn't it be the case for having the support files for non-free fonts

As far as I know, the Lucida metrics are not included in TeX Live 2007.
Frank or anyone, if there's an issue for TL here, please explain.

Karl

From kakuto at fsci.fuk.kindai.ac.jp  Mon Jul 23 03:20:58 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 23 Jul 2007 10:20:58 +0900
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: Your message of "Sun, 22 Jul 2007 17:48:57 -0500"
References: <200707222248.l6MMmvQ13403@f7.net>
Message-ID: <200707230120.l6N1KxxH027026@jupiter.fsci.fuk.kindai.ac.jp>

>     texfonts.map is missed by the "pdftex -recorder" option.
> 
> I think we need to add
> 
> if (kpse_record_input)
>   kpse_record_input (*filenames);
> 
> to the loop in read_all_maps in kpathsea/fontmap.c, but I can't test it
> right now.  If one of you has a chance to do that, that would be great.

I think it will be better to add the kpse_record_input()
when the file is actually opened (not tested):

--- fontmap.c.orig	Mon Jul 23 10:01:12 2007
+++ fontmap.c	Mon Jul 23 10:07:34 2007
@@ -28,6 +28,7 @@
 #include <kpathsea/line.h>
 #include <kpathsea/pathsearch.h>
 #include <kpathsea/str-list.h>
+#include <kpathsea/recorder.h>
 #include <kpathsea/tex-file.h>
 
 /* We have one and only one fontmap, so may as well make it static
@@ -81,7 +82,10 @@
   char *orig_l;
   unsigned map_lineno = 0;
   FILE *f = xfopen (map_filename, FOPEN_R_MODE);
-  
+
+  if (kpse_record_input)
+    kpse_record_input (map_filename);
+
   while ((orig_l = read_line (f)) != NULL) {
     string filename;
     string l = orig_l;

Best,
Akira

From karl at freefriends.org  Mon Jul 23 01:53:56 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 22 Jul 2007 18:53:56 -0500
Subject: [tex-live] new tl infrastructure
In-Reply-To: <a6e8c1d0707221644s49f42814y11502b372eb5c267@mail.gmail.com>
Message-ID: <200707222353.l6MNrut31924@f7.net>

The DocFiles still exist in tlpdb, in essentially the same way as with tpm.

    Perhaps it doesnt work like that anymore. If not is there an equivilent?

The rest of my message explained the overall situation as well as I could.

From dak at gnu.org  Mon Jul 23 08:12:02 2007
From: dak at gnu.org (David Kastrup)
Date: Mon, 23 Jul 2007 08:12:02 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <200707230001.l6N01DE01487@f7.net> (Karl Berry's message of "Sun\,
	22 Jul 2007 19\:01\:13 -0500")
References: <200707230001.l6N01DE01487@f7.net>
Message-ID: <85lkd7ejil.fsf@lola.goethe.zz>

karl at freefriends.org (Karl Berry) writes:

>     If it's always `:' on Unix-likes and always `;' on Windowsen,
>
> As far as I can see, it is.  The kpse_path_expand function in
> expand.c outputs the elements separated by ENV_SEP, where ENV_SEP is
> defined in c-pathch.h with the usual #ifdef's.  There is also some
> agony to deal with Windows drive specs.
>
> David, I guess that causes trouble for auctex somehow, but I'm
> afraid I don't understand what you're proposing.  Sorry.

You are aware that Cygwin is "Unix-like"?  You can have a Cygwin Emacs
with native Windows TeX executables and vice versa.  So it is
impossible to guess on Windows just what sort of executable one is
dealing with.

What I am proposing is a behavior where _both_ : and ; work as path
separators, with the exception that : after a _single_ letter is not a
path separator.

In that case, it does not matter what separator has been guessed
upstream.  And one can even pass c:/whatever into a Cygwin executable
instead of /cygdrive/c/whatever which is something that a native
Windows executable would never know about.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From frank at kuesterei.ch  Mon Jul 23 09:44:39 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 23 Jul 2007 09:44:39 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <85lkd7ejil.fsf@lola.goethe.zz> (David Kastrup's message of "Mon\,
	23 Jul 2007 08\:12\:02 +0200")
References: <200707230001.l6N01DE01487@f7.net> <85lkd7ejil.fsf@lola.goethe.zz>
Message-ID: <87sl7fpnrs.fsf@riesling.zuerich.kuesterei.ch>

David Kastrup <dak at gnu.org> wrote:

> karl at freefriends.org (Karl Berry) writes:
>
>>     If it's always `:' on Unix-likes and always `;' on Windowsen,
>>
>> As far as I can see, it is.  The kpse_path_expand function in
>> expand.c outputs the elements separated by ENV_SEP, where ENV_SEP is
>> defined in c-pathch.h with the usual #ifdef's.  There is also some
>> agony to deal with Windows drive specs.
>>
>> David, I guess that causes trouble for auctex somehow, but I'm
>> afraid I don't understand what you're proposing.  Sorry.
>
> You are aware that Cygwin is "Unix-like"?  You can have a Cygwin Emacs
> with native Windows TeX executables and vice versa.  So it is
> impossible to guess on Windows just what sort of executable one is
> dealing with.
>
> What I am proposing is a behavior where _both_ : and ; work as path
> separators, with the exception that : after a _single_ letter is not a
> path separator.

That works as long as we are sure that a variable contains only paths.
It does not generally work with stuff like 

$ grep TEXDOC src/Upstream-source/TeXLive/Build/source/texk/kpathsea/texmf.in
TEXDOCSSUFFIX   = ;.pdf;.ps;.dvi;.html;.txt;.tex
TEXDOCSCOMPRESS = ;.gz;.bz2;.zip;.Z
TEXDOCEXT       = {$TEXDOCSSUFFIX}{$TEXDOCSCOMPRESS}

(it does in this particular case, because the `.' separator is included,
and because `Z' comes last, but that's a lucky coincidence).  So either
we decide now to not allow non-path information in kpathsea list
variables, or we shouldn't be too bold with introducing "clever"
heuristics. 

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From dak at gnu.org  Mon Jul 23 10:04:40 2007
From: dak at gnu.org (David Kastrup)
Date: Mon, 23 Jul 2007 10:04:40 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <87sl7fpnrs.fsf@riesling.zuerich.kuesterei.ch> ("Frank
	=?iso-8859-1?Q?K=FCster=22's?= message of "Mon\, 23 Jul 2007 09\:44\:39
	+0200")
References: <200707230001.l6N01DE01487@f7.net> <85lkd7ejil.fsf@lola.goethe.zz>
	<87sl7fpnrs.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <863azfv947.fsf@lola.quinscape.zz>

Frank K?ster <frank at kuesterei.ch> writes:

> David Kastrup <dak at gnu.org> wrote:
>
>> What I am proposing is a behavior where _both_ : and ; work as path
>> separators, with the exception that : after a _single_ letter is
>> not a path separator.
>
> That works as long as we are sure that a variable contains only
> paths.  It does not generally work with stuff like
>
> $ grep TEXDOC src/Upstream-source/TeXLive/Build/source/texk/kpathsea/texmf.in
> TEXDOCSSUFFIX   = ;.pdf;.ps;.dvi;.html;.txt;.tex
> TEXDOCSCOMPRESS = ;.gz;.bz2;.zip;.Z
> TEXDOCEXT       = {$TEXDOCSSUFFIX}{$TEXDOCSCOMPRESS}
>
> (it does in this particular case, because the `.' separator is included,
> and because `Z' comes last, but that's a lucky coincidence).

Whoever considered it a good idea to use path_separator for non-paths?
It's not like don't have enough trouble already.

> So either we decide now to not allow non-path information in
> kpathsea list variables, or we shouldn't be too bold with
> introducing "clever" heuristics.

Or treat path lists differently.

-- 
David Kastrup

From frank at kuesterei.ch  Mon Jul 23 10:24:30 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 23 Jul 2007 10:24:30 +0200
Subject: [tex-live] [Zdenek Wagner] Re: Embedding TrueType fonts in manuals
Message-ID: <87bqe3plxd.fsf@riesling.zuerich.kuesterei.ch>

An embedded message was scrubbed...
From: "Zdenek Wagner" <zdenek.wagner at gmail.com>
Subject: Re: [tex-live] Embedding TrueType fonts in manuals
Date: Fri, 20 Jul 2007 10:20:33 +0200
Size: 5145
Url: http://tug.org/pipermail/tex-live/attachments/20070723/21dca8ad/attachment.mht 
-------------- next part --------------


-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Mon Jul 23 12:56:09 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 23 Jul 2007 12:56:09 +0200
Subject: [tex-live] texdoc in luatex
In-Reply-To: <863azfv947.fsf@lola.quinscape.zz> (David Kastrup's message of
	"Mon\, 23 Jul 2007 10\:04\:40 +0200")
References: <200707230001.l6N01DE01487@f7.net> <85lkd7ejil.fsf@lola.goethe.zz>
	<87sl7fpnrs.fsf@riesling.zuerich.kuesterei.ch>
	<863azfv947.fsf@lola.quinscape.zz>
Message-ID: <87odi3o0c6.fsf@riesling.zuerich.kuesterei.ch>

David Kastrup <dak at gnu.org> wrote:

> Frank K?ster <frank at kuesterei.ch> writes:
>
>> David Kastrup <dak at gnu.org> wrote:
>>
>>> What I am proposing is a behavior where _both_ : and ; work as path
>>> separators, with the exception that : after a _single_ letter is
>>> not a path separator.
>>
>> That works as long as we are sure that a variable contains only
>> paths.  It does not generally work with stuff like
>>
>> $ grep TEXDOC src/Upstream-source/TeXLive/Build/source/texk/kpathsea/texmf.in
>> TEXDOCSSUFFIX   = ;.pdf;.ps;.dvi;.html;.txt;.tex
>> TEXDOCSCOMPRESS = ;.gz;.bz2;.zip;.Z
>> TEXDOCEXT       = {$TEXDOCSSUFFIX}{$TEXDOCSCOMPRESS}
>>
>> (it does in this particular case, because the `.' separator is included,
>> and because `Z' comes last, but that's a lucky coincidence).
>
> Whoever considered it a good idea to use path_separator for non-paths?
> It's not like don't have enough trouble already.

I don't remember.  It might well be that it was a former Debian teTeX
maintainer, or it was TE when writing texdoc. Anyway, somehow it made
its way into the TeXLive texmf.cnf.

How could it be done differently, without loosing the feature that
--expand-brace will nicely create pairs of zipped and unzipped file
extensions.  (In Debian, we actually have

TEXDOCSSUFFIX = :.pdf:.dvi:.ps:.txt
TEXDOCSCOMPRESS = :.gz:.bz2
TEXDOCHTML = .html
TEXDOCEXT = {$TEXDOCSSUFFIX}{$TEXDOCSCOMPRESS}:{$TEXDOCHTML}{$TEXDOCSCOMPRESS}

which gives

$ kpsewhich --expand-brace='$TEXDOCEXT'
:.pdf:.dvi:.ps:.txt:.gz:.pdf.gz:.dvi.gz:.ps.gz:.txt.gz:.bz2:.pdf.bz2:.dvi.bz2:.ps.bz2:.txt.bz2:.html:.html.gz:.html.bz2

)

>> So either we decide now to not allow non-path information in
>> kpathsea list variables, or we shouldn't be too bold with
>> introducing "clever" heuristics.
>
> Or treat path lists differently.

That would require to define a new list type in kpathsea first, wouldn't
it? 

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From vext01 at gmail.com  Mon Jul 23 17:34:25 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 23 Jul 2007 16:34:25 +0100
Subject: [tex-live] TL 2007 on Solaris 10 update 3 - fmtutil-sys failing.
Message-ID: <a6e8c1d0707230834k3396e6ffnac1d8d71368fca94@mail.gmail.com>

Hello,

I am installing texlive on the university's servers for use by students.

We are running Solaris 10u3 on sparc64 machines.

I have run the installer and all files are in place.

Problems arose when trying to make certain format files (xetex being
one) with fmtutil-sys. Libiconv was not found initially, which is
right as it is not installed. I built it and updated my
LD_LIBRARY_PATH. This got rid of that error, but now:

ld.so.1: xetex: fatal: libfreetype.so.6: open failed: No such file or directory

I could go ahead and build that, but I get the impression something is
wrong here.

Does solaris 10 update 3 have a different set of libs to the previous
release or did I do something wrong?

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From luecking at uark.edu  Mon Jul 23 20:47:15 2007
From: luecking at uark.edu (Dan Luecking)
Date: Mon, 23 Jul 2007 13:47:15 -0500
Subject: [tex-live] Bug report: More misplaced files
Message-ID: <200707231846.l6NIkJAC020803@comp.uark.edu>


[Described below are several files/directories in the doc tree
that seem misplaced. All are in texmf-dist/doc/latex/ .]

The following 3 subdirectories document Bibtex packages with no
corresponding latex package. Surely they should be in
texmf-dist/doc/bibtex/.

   * abstyles  (This directory also contains a file, apreambl.tex,
         which should be in the latex search path. This file is
         \input by the .bbl files produced by thes bibtex styles.)

   * dinat
   * vancouver

The following subdirectories document packages in the tex/generic
tree and so should be in doc/generic/.

   * edmac
   * fltpoint

The following subdirectories document Metapost macro packages and
should be in doc/metapost/.

   * expressg
   * makecirc
   * metaobj
   * metaplot
   * slideshow

The following are fonts without any accompanying LaTeX package for their
use. Surely they belong in doc/fonts/.

   * astro
   * cmastro
   * ecc
   * esint-type1
   * greenpoint

The following are LaTeX packages. TeXLive contains the docs, but no
package in the texmf-dist/tex/latex tree. My remarks below give a
possible reason for TeXlive's failure to include them.

   * interactiveworkbook:  The package on CTAN places
              interactiveworkbook.sty inside a subdirectory named
              interactiveworkbook.sty. That's just asking for confusion.

   * namespc: The distribution contains no .ins file, which is generated
              by running atex of the .dtx file.

   * webeq:   This is from the acrotex distribution. Until recently, its
              input files were hidden inside some .zip files. It was
              confusing to install by hand, much less automatically.

              I think what works now is to latex all *.ins and copy
              all *.sty an *.def to texmf-dist/tex/latex/, and maybe
              change the directory name to acrotex. The bundle has
              expanded beyond web.sty and exerquiz.sty (whence webEQ).

Regards,
Dan

Daniel H. Luecking
Department of Mathematical Sciences
University of Arkansas
"Dubito ergo cogito, cogito ergo sum" --Descarte


From frank at debian.org  Mon Jul 23 22:48:53 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 23 Jul 2007 22:48:53 +0200
Subject: [tex-live] Bug#433329: Bug#433329: Please clarify whether
	Lucida Bright/Lucida Sans	fonts are supported
In-Reply-To: <200707230030.l6N0UBY09627@f7.net> (Karl Berry's message of "Sun\,
	22 Jul 2007 19\:30\:11 -0500")
References: <200707230030.l6N0UBY09627@f7.net>
Message-ID: <878x96lubu.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     Wouldn't it be the case for having the support files for non-free fonts
>
> As far as I know, the Lucida metrics are not included in TeX Live 2007.
> Frank or anyone, if there's an issue for TL here, please explain.

The metrics are not included, but the LaTeX style and fd files and some
documentation is there, in collection-fontsrecommended (as part of
psnfssx).

Maybe this could be moved to collection-fontsextra, since the fonts
themselves are not included.

Regards, Frank


-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Mon Jul 23 23:13:28 2007
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 23 Jul 2007 18:13:28 -0300
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <200707230120.l6N1KxxH027026@jupiter.fsci.fuk.kindai.ac.jp>
References: <200707222248.l6MMmvQ13403@f7.net>
	<200707230120.l6N1KxxH027026@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <22af238a0707231413k4407a35fr3115ee78dceb8e4f@mail.gmail.com>

On 7/22/07, Akira Kakuto <kakuto at fsci.fuk.kindai.ac.jp> wrote:

> >     texfonts.map is missed by the "pdftex -recorder" option.
> >
> > I think we need to add
> >
> > if (kpse_record_input)
> >   kpse_record_input (*filenames);
> >
> > to the loop in read_all_maps in kpathsea/fontmap.c, but I can't test it
> > right now.  If one of you has a chance to do that, that would be great.
>
> I think it will be better to add the kpse_record_input()
> when the file is actually opened (not tested):
>
> --- fontmap.c.orig      Mon Jul 23 10:01:12 2007
> +++ fontmap.c   Mon Jul 23 10:07:34 2007
> @@ -28,6 +28,7 @@
>  #include <kpathsea/line.h>
>  #include <kpathsea/pathsearch.h>
>  #include <kpathsea/str-list.h>
> +#include <kpathsea/recorder.h>
>  #include <kpathsea/tex-file.h>
>
>  /* We have one and only one fontmap, so may as well make it static
> @@ -81,7 +82,10 @@
>    char *orig_l;
>    unsigned map_lineno = 0;
>    FILE *f = xfopen (map_filename, FOPEN_R_MODE);
> -
> +
> +  if (kpse_record_input)
> +    kpse_record_input (map_filename);
> +
>    while ((orig_l = read_line (f)) != NULL) {
>      string filename;
>      string l = orig_l;

I just tried Akira's suggested patch (using clean texfonts.map files):

Building pdftex.fmt with '-recorder' and the broken texfonts.map gave:

[...]
Preloading the plain format: codes, registers, parameters, fonts,***
glibc detected *** pdftex: free(): invalid pointer: 0x09291ff9 ***

$ cat pdftex.fls
PWD /Data/u/gwhite/T/test/TLsvn/ini
INPUT /Data/opt/tex/texlive/svn/Master/texmf/web2c/texmf.cnf
INPUT /Data/opt/tex/texlive/svn/Master/texmf/web2c/pdftex.pool
INPUT /Data/opt/tex/texlive/svn/Master/texmf-dist/tex/plain/config/pdftex.ini
OUTPUT pdftex.log
INPUT /home/gwhite/.texlive2007/texmf-config/tex/generic/config/pdftexconfig.tex
INPUT /Data/opt/tex/texlive/svn/Master/texmf-dist/tex/plain/base/plain.tex
INPUT ./texfonts.map

This would have make it easier to suspect texfonts.map (a file I sort of assumed
was not part of a modern TeX).

My free time is rather unpredictable (bugs that prevent getting real
work done take
priority!), but I'll try to look for a fix for the free(<invalid>) problem.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Mon Jul 23 23:58:27 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 16:58:27 -0500
Subject: [tex-live] Bug report: More misplaced files
In-Reply-To: <200707231846.l6NIkJAC020803@comp.uark.edu>
Message-ID: <200707232158.l6NLwRd06386@f7.net>

    [Described below are several files/directories in the doc tree
    that seem misplaced. All are in texmf-dist/doc/latex/ .]

Thanks very much, Dan.  I will work through these as soon as I have a
chance.

Best,
Karl

From karl at freefriends.org  Tue Jul 24 00:22:34 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 17:22:34 -0500
Subject: [tex-live] TL 2007 on Solaris 10 update 3 - fmtutil-sys failing.
In-Reply-To: <a6e8c1d0707230834k3396e6ffnac1d8d71368fca94@mail.gmail.com>
Message-ID: <200707232222.l6NMMYN13202@f7.net>

Hi Edd,

    Does solaris 10 update 3 have a different set of libs to the
    previous release

Don't know, but I doubt it.

    or did I do something wrong?

I don't think so.

The xetex binary on i386-linux also dynamically links with libfreetype
(and libfontconfig and libz and libexpat and libgcc_s, ugh, among
others).  I forget exactly why this was necessary, but I do believe it
was intentional.  In any case, that's where we are.  So you do have to
install those libs.

As for libiconv, it seems most programs on Solaris end up dynamically
linking with that for some reason.  (i386-linux xetex doesn't pull it in.)

Best,
Karl

From karl at freefriends.org  Tue Jul 24 01:31:02 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 18:31:02 -0500
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <200707230120.l6N1KxxH027026@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200707232331.l6NNV2A32362@f7.net>

    I think it will be better to add the kpse_record_input()
    when the file is actually opened (not tested):

Indeed.  I applied it, thanks.

From karl at freefriends.org  Tue Jul 24 01:57:57 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 18:57:57 -0500
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <0AA43BA0-F637-4950-BE2B-7C461BE5392B@sil.org>
Message-ID: <200707232357.l6NNvvT07860@f7.net>

    As for Master, I don't know if anyone is keeping track of patches  

The only change in Master that comes to mind as worthwhile to put in the
branch is to update beamer and/or pgf to avoid the incompatibility at
the time of 2007.  But Gerben, didn't you already take care of that in
your distribution?

From karl at freefriends.org  Tue Jul 24 02:05:09 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 19:05:09 -0500
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <f7qfqn$a9d$1@sea.gmane.org>
Message-ID: <200707240005.l6O059H09461@f7.net>

    paths.h is not listed in the dependencies

It appears in kpathsea/depend.mk.

I updated depend.mk shortly before I left, at Martin's suggestion, but
now I realize that I failed to notice that the targets should be *.lo,
not *.o.  I'll fix that in a bit.

k

From jschrod at acm.org  Tue Jul 24 02:07:46 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Tue, 24 Jul 2007 02:07:46 +0200
Subject: [tex-live] Compile fails on Mac OS X Server 10.3.9
In-Reply-To: <200707240005.l6O059H09461@f7.net>
References: <f7qfqn$a9d$1@sea.gmane.org>
	<200707240005.l6O059H09461@f7.net>
Message-ID: <18085.17106.637335.790665@puma.r.npc.de>

>>>>> "KB" == Karl Berry <karl at freefriends.org> writes:

KB>     paths.h is not listed in the dependencies
KB> It appears in kpathsea/depend.mk.

KB> I updated depend.mk shortly before I left, at Martin's suggestion, but
KB> now I realize that I failed to notice that the targets should be *.lo,
KB> not *.o.  I'll fix that in a bit.

Ah, didn't see that file. Then my change to Makefile.in should be
reverted, of course.

    Joachim

From karl at freefriends.org  Tue Jul 24 02:13:11 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 19:13:11 -0500
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <87vecfmsj5.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707240013.l6O0DBu11627@f7.net>

    I'm not sure whether the tex->dvi->ps Workflow is able to embed TrueType

dvips does not support truetype or opentype, no.  It awaits "real
programming work".

As for dvi-to-pdf, I was under the impression that dvipdfmx does embed
the base14 by default.  Is that not the case?

karl

From kakuto at fsci.fuk.kindai.ac.jp  Tue Jul 24 02:36:08 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 24 Jul 2007 09:36:08 +0900
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: Your message of "Mon, 23 Jul 2007 19:13:11 -0500"
References: <200707240013.l6O0DBu11627@f7.net>
Message-ID: <200707240036.l6O0a9hh001903@jupiter.fsci.fuk.kindai.ac.jp>

Hi Karl,

> As for dvi-to-pdf, I was under the impression that dvipdfmx does embed
> the base14 by default.  Is that not the case?

I think that depends on the setting. If that is not the case
by default, users can override the default by

dvipdfmx -f dlbase14.map ...

where the map file dlbase14.map must exist under
$TEXMF/fonts/map/dvipdfm/...

% dlbase14.map
%
% urw fonts (in Ghostscript) are embedded for the Base 14 fonts.
% dvipdfmx -f dlbase14.map ... ...
%
% Courier
%
pcrr8r    8r    ucrr8a
pcrb8r    8r    ucrb8a
pcrro8r   8r    ucrro8a
pcrbo8r   8r    ucrbo8a
%
pcrr8rn   8r    ucrr8a -e 0.85
%
% Helvetica
%
phvr8r    8r    uhvr8a
phvb8r	  8r    uhvb8a
phvro8r   8r    uhvro8a
phvbo8r   8r    uhvbo8a

%
% Helvetica narrow
%
phvbon8r  8r    uhvbo8ac
phvbrn8r  8r    uhvb8ac
phvron8r  8r    uhvro8ac
phvrrn8r  8r    uhvr8ac
%
phvb8rn   8r    uhvb8ac
phvbo8rn  8r    uhvbo8ac
phvr8rn   8r    uhvr8ac
phvro8rn  8r    uhvro8ac
% Symbol
psyr      none  usyr
psyro     none  usyr -s 0.167
% Raw Symbol
rpsyr     none  usyr
% Times
ptmr8r    8r    utmr8a
ptmb8r    8r    utmb8a
ptmbi8r   8r    utmbi8a
ptmri8r   8r    utmri8a
% Raw Times
rptmr     none  utmr8a
rptmb     none  utmb8a
rptmbi    none  utmbi8a
rptmri    none  utmri8a
%
ptmbo8r   8r    utmb8a -s 0.167
ptmro8r   8r    utmr8a -s 0.167
ptmrre8r  8r    utmr8a -e 1.2
ptmrrn8r  8r    utmr8a -e 0.8
% ZapfDingbats
pzdr      none  uzdr
%
% txfonts
%
rtxptmb   tx8r  utmb8a
rtxptmbo  tx8r  utmb8a -s 0.167
rtxptmbi  tx8r  utmbi8a
rtxptmr   tx8r  utmr8a
rtxptmro  tx8r  utmr8a -s 0.167
rtxptmri  tx8r  utmri8a
rtxphvr   tx8r  uhvr8a
rtxphvro  tx8r  uhvro8a
rtxphvb   tx8r  uhvb8a
rtxphvbo  tx8r  uhvbo8a

From karl at freefriends.org  Tue Jul 24 03:02:57 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 20:02:57 -0500
Subject: [tex-live] TeXLive committed to OpenBSD
In-Reply-To: <a6e8c1d0707181258p78866a9dm187712300131341e@mail.gmail.com>
Message-ID: <200707240102.l6O12vU26687@f7.net>

    (http://www.openbsd.org/cgi-bin/cvsweb/ports/print/texlive/base/patches/)

Many of those patches are for packages that aren't maintained in TeX Live.
At a glance: afm2pl cjkutils detex(?) dvi2tty dvipos gsftopk lacheck
musixflx ps2pkm pdftexdir xdvik ps2eps psutils.

I hope you'll be able to send them to the authors.

As for the ones that are handled in TL, I will take a look as soon as I
have a chance.  Adding $DESTDIR in the various Makefile's seems
straightforward enough ...

Thanks,
Karl

From karl at freefriends.org  Mon Jul 23 23:55:52 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Jul 2007 16:55:52 -0500
Subject: [tex-live] Bug#433329: Bug#433329: Please clarify
	whether	Lucida Bright/Lucida Sans	fonts are supported
In-Reply-To: <878x96lubu.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707232155.l6NLtqr05665@f7.net>

    documentation is there, in collection-fontsrecommended (as part of
    psnfssx).

Oh yeah.  The place to fix this is psnfssx; I'd prefer to have the
Lucida styles/docs removed too, but it doesn't make sense for TL to do
something different than CTAN here.  I haven't yet written the
maintainers (not even sure who they are -- Walter Schmidt maybe).

    Maybe this could be moved to collection-fontsextra, since the fonts
    themselves are not included.

Sadly, I see no rational way to split up psnfssx.

Thanks,
karl

From frank at kuesterei.ch  Tue Jul 24 09:39:27 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 24 Jul 2007 09:39:27 +0200
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <200707240013.l6O0DBu11627@f7.net> (Karl Berry's message of "Mon\,
	23 Jul 2007 19\:13\:11 -0500")
References: <200707240013.l6O0DBu11627@f7.net>
Message-ID: <87fy3eqmhc.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     I'm not sure whether the tex->dvi->ps Workflow is able to embed TrueType
>
> dvips does not support truetype or opentype, no.  It awaits "real
> programming work".
>
> As for dvi-to-pdf, I was under the impression that dvipdfmx does embed
> the base14 by default.  Is that not the case?

The workflow for producing the Debian installation instructions uses
*dvipdf*, not dvipdf*m* or dvipdf*mx*.  That's a wrapper which envokes
dvips and gs.  I have no idea why that was chosen - perhaps just
"historical reasons".

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From vext01 at gmail.com  Tue Jul 24 10:18:57 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Tue, 24 Jul 2007 09:18:57 +0100
Subject: [tex-live] TeXLive committed to OpenBSD
In-Reply-To: <200707240102.l6O12vU26687@f7.net>
References: <a6e8c1d0707181258p78866a9dm187712300131341e@mail.gmail.com>
	<200707240102.l6O12vU26687@f7.net>
Message-ID: <a6e8c1d0707240118v7e530defk506a02aeebc02d4b@mail.gmail.com>

Hi Karl,

On 24/07/07, Karl Berry <karl at freefriends.org> wrote:
> As for the ones that are handled in TL, I will take a look as soon as I
> have a chance.  Adding $DESTDIR in the various Makefile's seems
> straightforward enough ...

Thanks for that. Could you let me know which patches go back into tl.
I am trying to keep track of which patches I will/will not need next
year.

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From jonathan_kew at sil.org  Tue Jul 24 13:18:04 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Tue, 24 Jul 2007 12:18:04 +0100
Subject: [tex-live] TL 2007 on Solaris 10 update 3 - fmtutil-sys failing.
In-Reply-To: <200707232222.l6NMMYN13202@f7.net>
References: <200707232222.l6NMMYN13202@f7.net>
Message-ID: <C878C33F-91E1-4E20-9392-456E2DF3FC9F@sil.org>

On 23 Jul 2007, at 11:22 pm, Karl Berry wrote:

> Hi Edd,
>
>     Does solaris 10 update 3 have a different set of libs to the
>     previous release
>
> Don't know, but I doubt it.
>
>     or did I do something wrong?
>
> I don't think so.
>
> The xetex binary on i386-linux also dynamically links with libfreetype
> (and libfontconfig and libz and libexpat and libgcc_s, ugh, among
> others).  I forget exactly why this was necessary, but I do believe it
> was intentional.  In any case, that's where we are.  So you do have to
> install those libs.

I think you'll find that the xetex binary is linked dynamically with  
libfontconfig, which in turn links with others such as libfreetype  
and libexpat... they're not all direct dependencies. Normally, I'd  
expect libfontconfig to bring these others along with it, but if your  
package manager doesn't automatically ensure they're present then you  
might have to install them manually.

JK


From jfs at computer.org  Tue Jul 24 14:02:45 2007
From: jfs at computer.org (Javier =?iso-8859-1?Q?Fern=E1ndez-Sanguino_Pe=F1a?=)
Date: Tue, 24 Jul 2007 14:02:45 +0200
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <87fy3eqmhc.fsf@riesling.zuerich.kuesterei.ch>
References: <200707240013.l6O0DBu11627@f7.net>
	<87fy3eqmhc.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070724120245.GA11424@javifsp.no-ip.org>

On Tue, Jul 24, 2007 at 09:39:27AM +0200, Frank K?ster wrote:
> The workflow for producing the Debian installation instructions uses
> *dvipdf*, not dvipdf*m* or dvipdf*mx*.  That's a wrapper which envokes
> dvips and gs.  I have no idea why that was chosen - perhaps just
> "historical reasons".

Actually, the d-i manual uses dvipdf, but many other documents in the Debian
Documentation Project use  debiandoc2latexpdf which uses 'pdflatex' as a
backend. The reason for this is that the d-i manul is written in Docbook-XML
but most other documentation is (still) written using DebiandocSGML.

Are there any known issues/recommendations with pdflatex we should take into
account in the build process?

Regards

Javier
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://tug.org/pipermail/tex-live/attachments/20070724/5353951b/attachment.bin 

From karl at freefriends.org  Tue Jul 24 15:33:57 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 24 Jul 2007 08:33:57 -0500
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <87fy3eqmhc.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707241333.l6ODXv509273@f7.net>

    *dvipdf*

I noticed that, but wasn't sure you were asking about that specifically,
since dvipdf is part of Ghostscript, not part of TeX Live.

As far as that goes, I've had some luck embedding base14 with
ps2pdf -dEmbedAllFonts=true -dPDFX=true
(Annoyingly, -dEmbedAllFonts doesn't.)

-dPDFSETTINGS=/printer may also embed the base 14.
-dCompatibilityLevel=1.3 may also be useful, apart from embedding.

YMMV.

karl

From frank at kuesterei.ch  Tue Jul 24 15:30:24 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 24 Jul 2007 15:30:24 +0200
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <20070724120245.GA11424@javifsp.no-ip.org> (Javier
	=?iso-8859-1?Q?Fern=E1ndez-Sanguino_Pe=F1a's?= message of "Tue\, 24 Jul
	2007 14\:02\:45 +0200")
References: <200707240013.l6O0DBu11627@f7.net>
	<87fy3eqmhc.fsf@riesling.zuerich.kuesterei.ch>
	<20070724120245.GA11424@javifsp.no-ip.org>
Message-ID: <87y7h69bf3.fsf@riesling.zuerich.kuesterei.ch>

Javier Fern?ndez-Sanguino Pe?a <jfs at computer.org> wrote:

> On Tue, Jul 24, 2007 at 09:39:27AM +0200, Frank K?ster wrote:
>> The workflow for producing the Debian installation instructions uses
>> *dvipdf*, not dvipdf*m* or dvipdf*mx*.  That's a wrapper which envokes
>> dvips and gs.  I have no idea why that was chosen - perhaps just
>> "historical reasons".
>
> Actually, the d-i manual uses dvipdf, but many other documents in the Debian
> Documentation Project use  debiandoc2latexpdf which uses 'pdflatex' as a
> backend. The reason for this is that the d-i manul is written in Docbook-XML
> but most other documentation is (still) written using DebiandocSGML.
>
> Are there any known issues/recommendations with pdflatex we should take into
> account in the build process?

I've never seen dvipdf (the dvips/gs wrapper) being used other than in
automated package building, whereas loads of people use pdflatex for
daily work, with complicated documents and/or workflow, and still quite
a lot (in particular in non-western countries) use latex and dvipdfm(x).
Therefore it's likely that there are actually less issues with both of
these ways than with dvips/gs.

The only drawback is that, as bugs are being fixed, some workarounds
might stop producing the desired results.  Bitrot therefore will likely
have worse effects than with dvips/gs.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From zdenek.wagner at gmail.com  Tue Jul 24 16:40:42 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 24 Jul 2007 16:40:42 +0200
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <87y7h69bf3.fsf@riesling.zuerich.kuesterei.ch>
References: <200707240013.l6O0DBu11627@f7.net>
	<87fy3eqmhc.fsf@riesling.zuerich.kuesterei.ch>
	<20070724120245.GA11424@javifsp.no-ip.org>
	<87y7h69bf3.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <8719b6240707240740g790a22f6ja60763a31a758c39@mail.gmail.com>

2007/7/24, Frank K?ster <frank at kuesterei.ch>:
> Javier Fern?ndez-Sanguino Pe?a <jfs at computer.org> wrote:
>
> > On Tue, Jul 24, 2007 at 09:39:27AM +0200, Frank K?ster wrote:
> >> The workflow for producing the Debian installation instructions uses
> >> *dvipdf*, not dvipdf*m* or dvipdf*mx*.  That's a wrapper which envokes
> >> dvips and gs.  I have no idea why that was chosen - perhaps just
> >> "historical reasons".
> >
> > Actually, the d-i manual uses dvipdf, but many other documents in the Debian
> > Documentation Project use  debiandoc2latexpdf which uses 'pdflatex' as a
> > backend. The reason for this is that the d-i manul is written in Docbook-XML
> > but most other documentation is (still) written using DebiandocSGML.
> >
> > Are there any known issues/recommendations with pdflatex we should take into
> > account in the build process?
>
> I've never seen dvipdf (the dvips/gs wrapper) being used other than in
> automated package building, whereas loads of people use pdflatex for
> daily work, with complicated documents and/or workflow, and still quite
> a lot (in particular in non-western countries) use latex and dvipdfm(x).
> Therefore it's likely that there are actually less issues with both of
> these ways than with dvips/gs.
>
> The only drawback is that, as bugs are being fixed, some workarounds
> might stop producing the desired results.  Bitrot therefore will likely
> have worse effects than with dvips/gs.
>
I don't think so. there was a bug in ps2pdf distributed with gs 7.x
which was triggered mainly in PS files generated by dvips. The bug was
fixed in 8.x after my bug report. I do not remember the exact version
numbers where it was fixed. so the results may change even with
dvips/gs.

> Regards, Frank
> --
> Frank K?ster
> Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
> Debian Developer (teTeX/TeXLive)
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From vext01 at gmail.com  Tue Jul 24 16:51:26 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Tue, 24 Jul 2007 15:51:26 +0100
Subject: [tex-live] TL 2007 on Solaris 10 update 3 - fmtutil-sys failing.
In-Reply-To: <C878C33F-91E1-4E20-9392-456E2DF3FC9F@sil.org>
References: <200707232222.l6NMMYN13202@f7.net>
	<C878C33F-91E1-4E20-9392-456E2DF3FC9F@sil.org>
Message-ID: <a6e8c1d0707240751v78e04912i688dd4a3ffdc930a@mail.gmail.com>

Hi Jonathan,

On 24/07/07, Jonathan Kew <jonathan_kew at sil.org> wrote:
> I think you'll find that the xetex binary is linked dynamically with
> libfontconfig, which in turn links with others such as libfreetype
> and libexpat... they're not all direct dependencies. Normally, I'd
> expect libfontconfig to bring these others along with it, but if your
> package manager doesn't automatically ensure they're present then you
> might have to install them manually.

Unfortunately we only installed tl on the linux nodes. If I had more
time perhaps I would investigate further. Luckily the grid engine can
be told to only execute tl on linux hosts.

Thanks


-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From karl at freefriends.org  Tue Jul 24 17:47:22 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 24 Jul 2007 10:47:22 -0500
Subject: [tex-live] Bug#433455: /usr/bin/pdftex: $TEXEDIT
	default	doesn't cope with spaces in filenames
In-Reply-To: <871wf7axd2.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707241547.l6OFlMU21010@f7.net>

    TEXEDIT = ${EDITOR:-vi} +%d "%s"
    work and respect the EDITOR environment variable?

Well, texmfmp.c ends up calling system(3) on the string, so it would
seem so, but when I actually tried it, it didn't seem to work.  I dunno.

From frank at kuesterei.ch  Tue Jul 24 22:57:02 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 24 Jul 2007 22:57:02 +0200
Subject: [tex-live] New infrastructure: Question and patch
Message-ID: <87ir891pwh.fsf@riesling.zuerich.kuesterei.ch>

Hi,

(I'm aware that Norbert is on vacation, but when he returns I will be
away.  So I'm using the list archive for communication...)

First the patch:

Index: TLPOBJ.pm
===================================================================
--- TLPOBJ.pm	(Revision 4644)
+++ TLPOBJ.pm	(Arbeitskopie)
@@ -733,7 +733,7 @@
 TeX Catalogue.
 
 All these keys have in common that they are followed by a list of files
-B<intended> by one space. They differ only in the first line itself
+B<indented> by one space. They differ only in the first line itself
 (described below).
 
 =over

And now the question:  Is there a function which I can feed a filename
(relative to a TEXMF basedir) and get the information in which package
it is?

When I read the manpages, it seemed to me that the runpattern,
docpattern etc. directives are used for assigning files to packages.
However, that doesn't seem to be the case; instead the information is
generally taken from some other place, and only missing files are added
with these directives.  At least that's how I understand, e.g., 

$ cat tlpsrc/xetex.tlpsrc 
name xetex
category Package
runpattern +!d texmf-dist/fonts/misc/xetex/fontmapping/arabxetex

since xetex must contain a bit more than "not this dir".  But not even
the catalogue can be the source in a straightforward way, since it
doesn't seem to contain any xetex.xml

What I'd like to do is provide a patch to the effect that
texmf-dist/doc/xelatex/philokalia/Philokalia-Regular.otf is moved to
texmf-dist/fonts/opentype/some/path/. 

TIA, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From karl at freefriends.org  Wed Jul 25 01:04:41 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 24 Jul 2007 18:04:41 -0500
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <87ir891pwh.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707242304.l6ON4fH01023@f7.net>

    -B<intended> by one space. They differ only in the first line itself
    +B<indented> by one space. They differ only in the first line itself

Applied, thanks.

    Is there a function which I can feed a filename

Not that I know of, but we can add it somewhere, I guess to TLPDB.pm.
I.e., given a tlpdb instance and a filename, it could return a tlpobj
structure.  Shall I?

    When I read the manpages, it seemed to me that the runpattern,
    docpattern etc. directives are used for assigning files to packages.

The default (as before) is to include directories with the same name as
the package ("xetex" in this case).  TLPSRC.pm kind of talks about this.

    What I'd like to do is provide a patch to the effect that
    texmf-dist/doc/xelatex/philokalia/Philokalia-Regular.otf is moved to
    texmf-dist/fonts/opentype/some/path/. 

That's a matter for ctan2tds.pl, not the new infrastructure stuff.  I'll
take a look.

In general, ctan2tds.pl is what gets things from CTAN into TL.
The purpose of TLPDB is to represent what is in TL, not how packages get
installed in it in the first place.

Best,
Karl

From frank at kuesterei.ch  Wed Jul 25 08:30:43 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 25 Jul 2007 08:30:43 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <200707242304.l6ON4fH01023@f7.net> (Karl Berry's message of "Tue\,
	24 Jul 2007 18\:04\:41 -0500")
References: <200707242304.l6ON4fH01023@f7.net>
Message-ID: <87myxlgfl8.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     -B<intended> by one space. They differ only in the first line itself
>     +B<indented> by one space. They differ only in the first line itself
>
> Applied, thanks.
>
>     Is there a function which I can feed a filename
>
> Not that I know of, but we can add it somewhere, I guess to TLPDB.pm.
> I.e., given a tlpdb instance and a filename, it could return a tlpobj
> structure.  Shall I?

Given your answer to the questions below, I'm not sure how useful it is:
In most cases, finding the directory in one of the texmf trees in the TL
repository, plus grepping through Master/tlpkg/tlpsrc/*, should be
enough. 

>     When I read the manpages, it seemed to me that the runpattern,
>     docpattern etc. directives are used for assigning files to packages.
>
> The default (as before) is to include directories with the same name as
> the package ("xetex" in this case).  TLPSRC.pm kind of talks about this.

I see.

>     What I'd like to do is provide a patch to the effect that
>     texmf-dist/doc/xelatex/philokalia/Philokalia-Regular.otf is moved to
>     texmf-dist/fonts/opentype/some/path/. 
>
> That's a matter for ctan2tds.pl, not the new infrastructure stuff.  I'll
> take a look.
>
> In general, ctan2tds.pl is what gets things from CTAN into TL.
> The purpose of TLPDB is to represent what is in TL, not how packages get
> installed in it in the first place.

Thanks, I'll have a look, too.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Wed Jul 25 16:27:12 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 25 Jul 2007 11:27:12 -0300
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <200707232331.l6NNV2A32362@f7.net>
References: <200707230120.l6N1KxxH027026@jupiter.fsci.fuk.kindai.ac.jp>
	<200707232331.l6NNV2A32362@f7.net>
Message-ID: <22af238a0707250727h2c410befg5002ce4940268f89@mail.gmail.com>

On 7/23/07, Karl Berry <karl at freefriends.org> wrote:
>     I think it will be better to add the kpse_record_input()
>     when the file is actually opened (not tested):
>
> Indeed.  I applied it, thanks.

I spent a sleepless night thinking about fontmap.c.  The problem
is that"free(l)" can be called after "l" is modified, but "free()" should
only be called for a malloc() result.  The obvious fix is just:

  free(l) --> free(orig_l)

but I was a bit worried that there might be some problem with
the flow control such that free() shouldn't be used.  The only 2
bits of a line that need to be saved are the "tokens" alias and
filename, but the token function handles the allocation, so for
once I'm convinced the obvious fix will work.

One other quibble: when pdftex crashes, the .fls file is often
left incomplete.  If -recorder is simply a debugging tool, the
buffer should be flushed for each file so you get a hint of
which file might be responsible.

Here is a patch that combines both fixes, and beefs up the hint
about allocation in the comment.

*** fontmap.c.orig	Sun Aug 21 09:00:00 2005
--- fontmap.c	Wed Jul 25 10:42:03 2007
***************
*** 28,33 ****
--- 28,34 ----
  #include <kpathsea/line.h>
  #include <kpathsea/pathsearch.h>
  #include <kpathsea/str-list.h>
+ #include <kpathsea/recorder.h>
  #include <kpathsea/tex-file.h>

  /* We have one and only one fontmap, so may as well make it static
***************
*** 81,90 ****
    char *orig_l;
    unsigned map_lineno = 0;
    FILE *f = xfopen (map_filename, FOPEN_R_MODE);
!
    while ((orig_l = read_line (f)) != NULL) {
      string filename;
!     string l = orig_l;
      string comment_loc = strrchr (l, '%');
      if (!comment_loc) {
        comment_loc = strstr (l, "@c");
--- 82,94 ----
    char *orig_l;
    unsigned map_lineno = 0;
    FILE *f = xfopen (map_filename, FOPEN_R_MODE);
!
!   if (kpse_record_input)
!     kpse_record_input (map_filename);
!
    while ((orig_l = read_line (f)) != NULL) {
      string filename;
!     string l = orig_l; /* save original pointer for free() */
      string comment_loc = strrchr (l, '%');
      if (!comment_loc) {
        comment_loc = strstr (l, "@c");
***************
*** 132,143 ****

        } else {
          /* We've got everything.  Insert the new entry.  They were
!            already dynamically allocated, so don't bother with xstrdup.  */
          hash_insert_normalized (&map, alias, filename);
        }
      }

!     free (l);
    }

    xfclose (f, map_filename);
--- 136,148 ----

        } else {
          /* We've got everything.  Insert the new entry.  They were
!            already dynamically allocated by token(), so don't
!            bother with xstrdup.  */
          hash_insert_normalized (&map, alias, filename);
        }
      }

!     free (orig_l);
    }

    xfclose (f, map_filename);

 --------------------------------------------------------------------------------------------


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From frank at kuesterei.ch  Wed Jul 25 18:37:02 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 25 Jul 2007 18:37:02 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <200707242304.l6ON4fH01023@f7.net> (Karl Berry's message of "Tue\,
	24 Jul 2007 18\:04\:41 -0500")
References: <200707242304.l6ON4fH01023@f7.net>
Message-ID: <87bqe0bftd.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     What I'd like to do is provide a patch to the effect that
>     texmf-dist/doc/xelatex/philokalia/Philokalia-Regular.otf is moved to
>     texmf-dist/fonts/opentype/some/path/. 
>
> That's a matter for ctan2tds.pl, not the new infrastructure stuff.  I'll
> take a look.
>
> In general, ctan2tds.pl is what gets things from CTAN into TL.
> The purpose of TLPDB is to represent what is in TL, not how packages get
> installed in it in the first place.

Hm, I don't understand why it isn't installed in a font directory.  It
seems to me that ctan2tds.pl executes, for package, dotype1(), and that
does

sub dotype1{
    [...]

   my $otfpatt = $specialotf{$package} || $standardotf;
   &install("$DEST/fonts/opentype/public/$package", $otfpatt);
}

What I didn't find is how doc files get moved to their destination,
there's not dodoc or such...


Regards, Frank

-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From karl at freefriends.org  Wed Jul 25 23:45:36 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 25 Jul 2007 16:45:36 -0500
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <87bqe0bftd.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707252145.l6PLjab27821@f7.net>

    Hm, I don't understand why it isn't installed in a font directory.  

I'm not sure either, but I'll take a look when I have a chance.

    What I didn't find is how doc files get moved to their destination,

What happens is that everything starts off in doc and then the various
files are moved according to all that hairy logic.  So doc is the
default location for everything.

From karl at freefriends.org  Wed Jul 25 23:48:13 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 25 Jul 2007 16:48:13 -0500
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <22af238a0707250727h2c410befg5002ce4940268f89@mail.gmail.com>
Message-ID: <200707252148.l6PLmDq29098@f7.net>

    I spent a sleepless night thinking about fontmap.c.  

It's really not worth it :).  But thanks much for the patch.

    the .fls file is often left incomplete

Good point.  Martin, any objection to adding an fflush?

Best,
Karl

From martin at oneiros.de  Wed Jul 25 23:56:52 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 25 Jul 2007 23:56:52 +0200
Subject: [tex-live] pdftex 1.40.4
In-Reply-To: <200707252148.l6PLmDq29098@f7.net>
References: <22af238a0707250727h2c410befg5002ce4940268f89@mail.gmail.com>
	<200707252148.l6PLmDq29098@f7.net>
Message-ID: <68c491a60707251456x65433468sc128203da446b8e4@mail.gmail.com>

2007/7/25, Karl Berry <karl at freefriends.org>:
> Good point.  Martin, any objection to adding an fflush?

No.

Best
   Martin

From reinhard.kotucha at web.de  Thu Jul 26 01:19:37 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 26 Jul 2007 01:19:37 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <200707252145.l6PLjab27821@f7.net>
References: <87bqe0bftd.fsf@riesling.zuerich.kuesterei.ch>
	<200707252145.l6PLjab27821@f7.net>
Message-ID: <18087.55945.813155.768528@zarniwoop.ms25.local>

Karl Berry writes:

 > [...] but I'll take a look when I have a chance.

Maybe it makes sense to have a TODO file (a simple text file) in the
svn repository.  Bug reports and patches can be added there if they
can't be fixed/applied immediately.

I suppose that everyone involved in TeXLive development maintains his
own TODO list somehow.  But I'm sure that it's better to have such a
file in the repository.

If someone reports a bug, the email message can be appended to the file.   
If someone fixes the bug, he simply removes the message from the file.

Sounds like extra work at the first glance.  But maintaining private
TeXLive-TODO files is also extra work, and much less efficient.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From frank at kuesterei.ch  Thu Jul 26 08:31:44 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 26 Jul 2007 08:31:44 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <18087.55945.813155.768528@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Thu\, 26 Jul 2007 01\:19\:37 +0200")
References: <87bqe0bftd.fsf@riesling.zuerich.kuesterei.ch>
	<200707252145.l6PLjab27821@f7.net>
	<18087.55945.813155.768528@zarniwoop.ms25.local>
Message-ID: <873azbiskv.fsf@riesling.zuerich.kuesterei.ch>

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> Karl Berry writes:
>
>  > [...] but I'll take a look when I have a chance.
>
> Maybe it makes sense to have a TODO file (a simple text file) in the
> svn repository.  Bug reports and patches can be added there if they
> can't be fixed/applied immediately.
>
> I suppose that everyone involved in TeXLive development maintains his
> own TODO list somehow.  But I'm sure that it's better to have such a
> file in the repository.
>
> If someone reports a bug, the email message can be appended to the file.   
> If someone fixes the bug, he simply removes the message from the file.

Sounds like you just invented a bugtracker in text-only form.  In case
someone volunteers to set it up, would the team be opposed to using a
sourceforge-like tracking system?  Or even a Debian-like...

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Thu Jul 26 08:32:12 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 26 Jul 2007 08:32:12 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <200707252145.l6PLjab27821@f7.net> (Karl Berry's message of "Wed\,
	25 Jul 2007 16\:45\:36 -0500")
References: <200707252145.l6PLjab27821@f7.net>
Message-ID: <87y7h3hdzn.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     What I didn't find is how doc files get moved to their destination,
>
> What happens is that everything starts off in doc and then the various
> files are moved according to all that hairy logic.  So doc is the
> default location for everything.

Ah, I thought it was in source/ initially.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From hartzell at alerce.com  Thu Jul 26 01:46:47 2007
From: hartzell at alerce.com (George Hartzell)
Date: Wed, 25 Jul 2007 16:46:47 -0700
Subject: [tex-live] building binaries for FreeBSD-STABLE amd64
Message-ID: <18087.57575.350943.865370@almost.alerce.com>


Hi all,

I'm interested in tex live for my FreeBSD-STABLE amd64 system.

There was some recent traffic on the FreeBSD ports list discussing an
OpenBSD port, and I've been playing with that author's notes and
working on a FreeBSD version.

I'm not as familiar as I should be with the FreeBSD TeX ports
ins-and-outs, and it occurs to me that a quicker path to what I want
at the moment might just be using the TeX Live build infrastructure to
build a new set of binaries.  There's already Freebsd support there,
and there's already x86_64 support so "how hard could it be" (tm).

Is there a document somewhere that summarizes your build and packaging
system?  I've found the subversion repository, if/when I check out the
tree is there a good starting place there?

Thanks,

g.

From nlecic at EUnet.yu  Thu Jul 26 17:26:16 2007
From: nlecic at EUnet.yu (Nikola Lecic)
Date: Thu, 26 Jul 2007 17:26:16 +0200
Subject: [tex-live] building binaries for FreeBSD-STABLE amd64
In-Reply-To: <18087.57575.350943.865370@almost.alerce.com>
References: <18087.57575.350943.865370@almost.alerce.com>
Message-ID: <200707261531.l6QFUxak007052@eunet.yu>

(I appologise if this appears twice -- I sent the original mail ~90 mins
ago and mailman still hasn't even registered it, so I assume it's lost.)

Hi George,

On Wed, 25 Jul 2007 16:46:47 -0700
George Hartzell <hartzell at alerce.com> wrote:

> Hi all,
> 
> I'm interested in tex live for my FreeBSD-STABLE amd64 system.  

Roland Smith has some notes on compiling TeXLive on amd64-FreeBSD:

  http://www.xs4all.nl/~rsmith/freebsd/#texlive
 
> There was some recent traffic on the FreeBSD ports list discussing an
> OpenBSD port, and I've been playing with that author's notes and
> working on a FreeBSD version.  

Please beware that there is ongoing work on porting TeXLive to FreeBSD
by a FreeBSD developer (hrs@); nobody wants to duplicate the job.

> I'm not as familiar as I should be with the FreeBSD TeX ports
> ins-and-outs, and it occurs to me that a quicker path to what I want
> at the moment might just be using the TeX Live build infrastructure to
> build a new set of binaries.  There's already Freebsd support there,
> and there's already x86_64 support so "how hard could it be" (tm).  

As you see on Roland's site, it isn't different than building anywhere
else. You have to download either release DVD or stable snapshot and
to build source/ directory. However, if you have a FreeBSD-specific
problems compiling source/, write here (or on freebsd-ports@ /
freebsd-questions@) and they will be solved :)

Nikola Le?i?

From jonathan_kew at sil.org  Thu Jul 26 18:28:11 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Thu, 26 Jul 2007 17:28:11 +0100
Subject: [tex-live] building binaries for FreeBSD-STABLE amd64
In-Reply-To: <200707261531.l6QFUxak007052@eunet.yu>
References: <18087.57575.350943.865370@almost.alerce.com>
	<200707261531.l6QFUxak007052@eunet.yu>
Message-ID: <D06D8754-832E-4160-9BAF-390525F9471D@sil.org>

On 26 Jul 2007, at 4:26 pm, Nikola Lecic wrote:

> You have to download either release DVD or stable snapshot and
> to build source/ directory.

I'd recommend getting the source/ tree from texlive/branches/ 
branch2007, which includes some important patches since the DVD  
release, including fixes specific to some 64-bit architectures. Note  
that these fixes are not necessarily in trunk/ at the moment; that  
will eventually get more extensive updates (new versions) instead,  
but may not always be stable or tested until closer to a new release.

JK


From vext01 at gmail.com  Thu Jul 26 19:24:36 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 26 Jul 2007 18:24:36 +0100
Subject: [tex-live] building binaries for FreeBSD-STABLE amd64
In-Reply-To: <18087.57575.350943.865370@almost.alerce.com>
References: <18087.57575.350943.865370@almost.alerce.com>
Message-ID: <a6e8c1d0707261024h5ab50169he4dec570f4a1ccc@mail.gmail.com>

Hi there,

On 26/07/07, George Hartzell <hartzell at alerce.com> wrote:
> There was some recent traffic on the FreeBSD ports list discussing an
> OpenBSD port, and I've been playing with that author's notes and
> working on a FreeBSD version.

I am the author of the OpenBSD port. Nice to meet you (or maybe we
already have?), and hello again Nikola.

The build is the same as anywhere else, so long as your ports system
does not use the gnu DESTDIR variable (which the OpenBSD one does in
order to install the package into a fake LOCALBASE directory. This
hugely aids the creation of packing lists etc). If your ports system
does use DESTDIR, then your goinf to have to spend some time patching
the sources, or using my patches if they are compatible with the
freebsd ports system.

It is on the list to try to get some of these patches upstream, but
higher priority for me is testing all the ports that use teTeX using
texlive. I'm trying to get tl linked to the pkg build (although it's
committed, its not considered ready for use until the tests are
complete) for OpenBSD-4.2, but it is going to be a race to the finish.

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From karl at freefriends.org  Thu Jul 26 21:01:23 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 26 Jul 2007 14:01:23 -0500
Subject: [tex-live] Embedding TrueType fonts in manuals
In-Reply-To: <200707240036.l6O0a9hh001903@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200707261901.l6QJ1Nj05962@f7.net>

    I think that depends on the setting. If that is not the case
    by default, users can override the default by

    dvipdfmx -f dlbase14.map ...

In TeX Live, Master/texmf/dvipdfm/dvipdfmx.cfg includes
dvipdfm.map, which has the entries for the base14, as in
pcrr8r    8r    ucrr8a

So I think the base14 fonts should be embedded by default in TL.

Thanks,
Karl

From karl at freefriends.org  Fri Jul 27 00:45:12 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 26 Jul 2007 17:45:12 -0500
Subject: [tex-live] building binaries for FreeBSD-STABLE amd64
In-Reply-To: <18087.57575.350943.865370@almost.alerce.com>
Message-ID: <200707262245.l6QMjCO08772@f7.net>

    Is there a document somewhere that summarizes your build and packaging
    system?  I've found the subversion repository, if/when I check out the
    tree is there a good starting place there?

Build/source/README.

Barring the DESTDIR gotchas Edd mentioned, it should pretty much work
just to run the "Build" script there.

Um, the result of the Build is a bunch of binaries, not a working tree.
You also have to pull the Master tree and put the binaries in place
(bin/i386-freebsd or whatever).  I guess I should explain this in the
file.

Happy compiling,
Karl

From karl at freefriends.org  Fri Jul 27 01:33:21 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 26 Jul 2007 18:33:21 -0500
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <873azbiskv.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200707262333.l6QNXLj21622@f7.net>

    would the team be opposed to using a sourceforge-like tracking system?  

It's nothing I'm going to push, but there's already a texlive project at
berlios.de, and the bug tracker is enabled.  If anyone wants to do
anything with it, feel free.  (I'll be happy to enable more admins.)

Gee, I see I submitted 10 bugs there a couple years ago :).  Maybe someone
who is enthused about bug tracking systems would like to check which
ones are still relevant?  At a glance, some are and some aren't.
http://developer.berlios.de/bugs/?group_id=1268

Personally it is not clear to me that having this infrastructure really
makes anything easier or better in our case.
    
    Or even a Debian-like...

This is off the topic, but what I don't like about the Debian bts is the
constant "thank you for submitting information" autoreplies.  I don't
need to know this.  Is it possible to turn that off?  (I just filter
them now, but it's a waste.)

karl

From frank at kuesterei.ch  Fri Jul 27 10:24:51 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 27 Jul 2007 10:24:51 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <200707262333.l6QNXLj21622@f7.net> (Karl Berry's message of "Thu\,
	26 Jul 2007 18\:33\:21 -0500")
References: <200707262333.l6QNXLj21622@f7.net>
Message-ID: <876446b6ek.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     Or even a Debian-like...
>
> This is off the topic, but what I don't like about the Debian bts is the
> constant "thank you for submitting information" autoreplies.  I don't
> need to know this.  Is it possible to turn that off?  (I just filter
> them now, but it's a waste.)

I don't think it's possible (people seem to like it; a couple of days
ago a bug was fixed "no notification sent in case $foo").  I also filter
them.  But the fact that you can use e-mail for discussing and
administering your bugs, and even work offline productively makes the
notifications a small drawback for me compared to those web systems.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From jschrod at acm.org  Fri Jul 27 11:37:05 2007
From: jschrod at acm.org (Joachim Schrod)
Date: Fri, 27 Jul 2007 11:37:05 +0200
Subject: [tex-live] branches2007/ vs. trunk/ (was: building binaries for
 FreeBSD-STABLE amd64)
In-Reply-To: <D06D8754-832E-4160-9BAF-390525F9471D@sil.org>
References: <18087.57575.350943.865370@almost.alerce.com>	<200707261531.l6QFUxak007052@eunet.yu>
	<D06D8754-832E-4160-9BAF-390525F9471D@sil.org>
Message-ID: <f8cec1$ilp$1@sea.gmane.org>

Jonathan Kew wrote:
> On 26 Jul 2007, at 4:26 pm, Nikola Lecic wrote:
> 
>> You have to download either release DVD or stable snapshot and
>> to build source/ directory.
> 
> I'd recommend getting the source/ tree from texlive/branches/branch2007, 
> which includes some important patches since the DVD release, including 
> fixes specific to some 64-bit architectures. Note that these fixes are 
> not necessarily in trunk/ at the moment;

Oomm, wouldn't it be a good policy that all fixes in branch2007/ 
are also committed to trunk/, unless they got obsolete by a feature 
change or rewrite?

That way branch2007/ would be a subset of trunk/ development that 
is ready to be used by distributions.

Just a thought.

	Joachim

-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Joachim Schrod				Email: jschrod at acm.org
Roedermark, Germany


From frank at debian.org  Fri Jul 27 13:22:25 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 27 Jul 2007 13:22:25 +0200
Subject: [tex-live] pdftosrc from Tex Live 2007 packages
In-Reply-To: <46A85CF5.6090200@ee.uwa.edu.au> (R. Chandrasekhar's message of
	"Thu\, 26 Jul 2007 16\:36\:05 +0800")
References: <46A85CF5.6090200@ee.uwa.edu.au>
Message-ID: <87d4ye9jm6.fsf@riesling.zuerich.kuesterei.ch>

Hi,

pdfTeX contains sources for pdftosrc and ttf2afm, but "make all" in
pdftexdir does not compile them:

# pdftex_bin = pdftex ttf2afm pdftosrc
pdftex_bin = pdftex

A user of TeXLive in Debian complained that pdftosrc is missing, and at
a first glance I thought that the lines above were all that needs to be
changed.  But then I found that ttf2afm is built in TeXLive
nevertheless, by some other dependencies probably (it seems to be built
from "make ctangle", hm, strange).

Is there a rationale for enabling one but not the other?  You don't
know, by chance, the clean way to enable pdftosrc, don't you?

Interestingly, the manpage for pdftosrc is still there:

"R (Chandra) Chandrasekhar" <chandra at ee.uwa.edu.au> wrote:

> File Path                                                   Package
> ===========================================================-=================
> /usr/share/man/man1/pdftosrc.1.gz                           texlive-extra-utils
>
> but no indication of an executable.

TIA, Frank


-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From jonathan_kew at sil.org  Fri Jul 27 13:41:13 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 27 Jul 2007 12:41:13 +0100
Subject: [tex-live] branches2007/ vs. trunk/ (was: building binaries for
	FreeBSD-STABLE amd64)
In-Reply-To: <f8cec1$ilp$1@sea.gmane.org>
References: <18087.57575.350943.865370@almost.alerce.com>	<200707261531.l6QFUxak007052@eunet.yu>
	<D06D8754-832E-4160-9BAF-390525F9471D@sil.org>
	<f8cec1$ilp$1@sea.gmane.org>
Message-ID: <A6E7F8E2-27B7-4F89-9AA1-E84F52F18D4F@sil.org>

On 27 Jul 2007, at 10:37 am, Joachim Schrod wrote:

> Jonathan Kew wrote:
>> On 26 Jul 2007, at 4:26 pm, Nikola Lecic wrote:
>>> You have to download either release DVD or stable snapshot and
>>> to build source/ directory.
>> I'd recommend getting the source/ tree from texlive/branches/ 
>> branch2007, which includes some important patches since the DVD  
>> release, including fixes specific to some 64-bit architectures.  
>> Note that these fixes are not necessarily in trunk/ at the moment;
>
> Oomm, wouldn't it be a good policy that all fixes in branch2007/  
> are also committed to trunk/, unless they got obsolete by a feature  
> change or rewrite?

In general, I'd agree with this.

When I patched xetex in branch2007 recently, I didn't merge the fixes  
into the trunk at the same time because they will be superseded by  
more extensive updates soon. But that hasn't happened quite as  
quickly as I hoped, so maybe I should merge the bug-fixes from the  
branch as a temporary measure.

JK


From martin at oneiros.de  Fri Jul 27 14:05:17 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 27 Jul 2007 14:05:17 +0200
Subject: [tex-live] pdftosrc from Tex Live 2007 packages
In-Reply-To: <87d4ye9jm6.fsf@riesling.zuerich.kuesterei.ch>
References: <46A85CF5.6090200@ee.uwa.edu.au>
	<87d4ye9jm6.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <68c491a60707270505q1b5f038et438c8f869aeeb43c@mail.gmail.com>

2007/7/27, Frank K?ster <frank at debian.org>:
> pdfTeX contains sources for pdftosrc and ttf2afm, but "make all" in
> pdftexdir does not compile them:
>
> # pdftex_bin = pdftex ttf2afm pdftosrc
> pdftex_bin = pdftex

They are available as targets in web2c.

Why they got lost in pdftexdir (it was there in 1.30), I honestly don't know.

I'll reenable them in pdftexdir.

Best
   Martin

From martin at oneiros.de  Fri Jul 27 14:49:34 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 27 Jul 2007 14:49:34 +0200
Subject: [tex-live] trunk fails in texkit
Message-ID: <68c491a60707270549i496f029fmd1e0c26bfade87d5@mail.gmail.com>

make[3]: Entering directory
`/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit/bin'
source='../../../../libs/teckit/source/Sample-tools/TECkit_Compile.cpp'
object='TECkit_Compile.o' libtool=no \
depfile='.deps/TECkit_Compile.Po' tmpdepfile='.deps/TECkit_Compile.TPo' \
depmode=gcc3 /bin/sh ../../../../libs/teckit/depcomp \
ccache g++ -DHAVE_CONFIG_H -I. -I../../../../libs/teckit/bin -I..
-I../../../../libs/teckit/source/Public-headers    -g -O2 -DNDEBUG -c
-o TECkit_Compile.o `test -f
'../../../../libs/teckit/source/Sample-tools/TECkit_Compile.cpp' ||
echo '../../../../libs/teckit/bin/'`../../../../libs/teckit/source/Sample-tools/TECkit_Compile.cpp
/bin/sh ../libtool --mode=link ccache g++  -g -O2 -DNDEBUG   -o
teckit_compile  TECkit_Compile.o ../lib/libTECkit_Compiler.la
../../zlib/libz.a
mkdir .libs
ccache g++ -g -O2 -DNDEBUG -o teckit_compile TECkit_Compile.o
../lib/.libs/libTECkit_Compiler.a /usr/lib64/libstdc++.so
../../zlib/libz.a -Wl,--rpath -Wl,/usr/lib64 -Wl,--rpath
-Wl,/usr/lib64
g++: ../../zlib/libz.a: No such file or directory
make[3]: *** [teckit_compile] Fehler 1
make[3]: Leaving directory
`/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit/bin'
make[2]: *** [all-recursive] Fehler 1
make[2]: Leaving directory
`/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit'
make[1]: *** [all] Fehler 2
make[1]: Leaving directory
`/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit'
make: *** [all] Fehler 1

From jonathan_kew at sil.org  Fri Jul 27 21:34:26 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 27 Jul 2007 20:34:26 +0100
Subject: [tex-live] trunk fails in texkit
In-Reply-To: <68c491a60707270549i496f029fmd1e0c26bfade87d5@mail.gmail.com>
References: <68c491a60707270549i496f029fmd1e0c26bfade87d5@mail.gmail.com>
Message-ID: <F08D5465-4357-437C-8592-0BBDF0780C2E@sil.org>

So it does; sorry.

I guess most people use --with-system-zlib, which builds  
successfully, but if you don't use this configure option then it  
fails because zlib doesn't get built before teckit, which depends on  
it. The various subdirs of libs/ are just built in the order they  
happened to be listed; they aren't aware of inter-library dependencies.

As a workaround, I've changed the order the libraries are built (via  
configure); this is a bit of a hack as it doesn't really capture the  
dependency, but it should build either with or without -system-zlib  
now. This is checked in as rev 4667 in trunk.

The proper solution would involve making teckit's configure/make  
setup recognize the texlive -system-zlib option, and depend on the  
static build of zlib otherwise. But the whole configure & make stuff  
is so far beyond my comprehension that I'm not attempting this for now.

JK


On 27 Jul 2007, at 1:49 pm, Martin Schr?der wrote:

> make[3]: Entering directory
> `/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit/bin'
> source='../../../../libs/teckit/source/Sample-tools/ 
> TECkit_Compile.cpp'
> object='TECkit_Compile.o' libtool=no \
> depfile='.deps/TECkit_Compile.Po' tmpdepfile='.deps/ 
> TECkit_Compile.TPo' \
> depmode=gcc3 /bin/sh ../../../../libs/teckit/depcomp \
> ccache g++ -DHAVE_CONFIG_H -I. -I../../../../libs/teckit/bin -I..
> -I../../../../libs/teckit/source/Public-headers    -g -O2 -DNDEBUG -c
> -o TECkit_Compile.o `test -f
> '../../../../libs/teckit/source/Sample-tools/TECkit_Compile.cpp' ||
> echo '../../../../libs/teckit/bin/'`../../../../libs/teckit/source/ 
> Sample-tools/TECkit_Compile.cpp
> /bin/sh ../libtool --mode=link ccache g++  -g -O2 -DNDEBUG   -o
> teckit_compile  TECkit_Compile.o ../lib/libTECkit_Compiler.la
> ../../zlib/libz.a
> mkdir .libs
> ccache g++ -g -O2 -DNDEBUG -o teckit_compile TECkit_Compile.o
> ../lib/.libs/libTECkit_Compiler.a /usr/lib64/libstdc++.so
> ../../zlib/libz.a -Wl,--rpath -Wl,/usr/lib64 -Wl,--rpath
> -Wl,/usr/lib64
> g++: ../../zlib/libz.a: No such file or directory
> make[3]: *** [teckit_compile] Fehler 1
> make[3]: Leaving directory
> `/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit/bin'
> make[2]: *** [all-recursive] Fehler 1
> make[2]: Leaving directory
> `/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit'
> make[1]: *** [all] Fehler 2
> make[1]: Leaving directory
> `/home/ms/tex/texlive/svn/Build/source/Work/libs/teckit'
> make: *** [all] Fehler 1


From preining at logic.at  Fri Jul 27 23:57:31 2007
From: preining at logic.at (Norbert Preining)
Date: Fri, 27 Jul 2007 23:57:31 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <87ir891pwh.fsf@riesling.zuerich.kuesterei.ch>
References: <87ir891pwh.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070727215731.GA20085@gamma.logic.tuwien.ac.at>

Hi Frank,

On Die, 24 Jul 2007, Frank K?ster wrote:
> And now the question:  Is there a function which I can feed a filename
> (relative to a TEXMF basedir) and get the information in which package
> it is?

No, but can be implemented easily.

> When I read the manpages, it seemed to me that the runpattern,
> docpattern etc. directives are used for assigning files to packages.
> However, that doesn't seem to be the case; instead the information is
> generally taken from some other place, and only missing files are added
> with these directives.  At least that's how I understand, e.g., 

>From pod2man TLPSRC.pm ...
-------------
       In the case that one of the pattern sections is empty or all the pro-
       vided patterns have the prefix "+" (e.g., "+f ..."), then the following
       patterns are automatically added at expansion time (but never written
       to the textual representation):

       runpattern
           for runpatterns of category "Package"

                   t texmf-dist topdir $name

           where "topdir" is one of: bibtex context dvips fonts makeindex
           metafont metapost mft omega scripts tex vtex.

           For other categories no patterns are automatically added to the
           list of runpatterns.

       docpattern
           for docpattern of category "Package"

                   t texmf-dist doc $name

           for docpattern of category "Documentation"

                   t texmf-doc doc $name

       srcpattern
           for srcpattern of category "Package"

                   t texmf-dist source $name

           for srcpattern of category "Documentation"

                   t texmf-doc source $name

       binpatterns are never automatically added.
--------------

You should use the TLPOBJ or TLPDB stuff.

> What I'd like to do is provide a patch to the effect that
> texmf-dist/doc/xelatex/philokalia/Philokalia-Regular.otf is moved to
> texmf-dist/fonts/opentype/some/path/. 

See Karl's answer that this is a bug in the packaging. If we want to do
it in a preliminary way in Debian we need some different way (patching
the tlpdb?)

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ABILENE (adj.)
Descriptive of the pleasing coolness on the reverse side of the
pillow.
			--- Douglas Adams, The Meaning of Liff

From reinhard.kotucha at web.de  Sat Jul 28 02:12:17 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 28 Jul 2007 02:12:17 +0200
Subject: [tex-live] pdftosrc from Tex Live 2007 packages
In-Reply-To: <68c491a60707270505q1b5f038et438c8f869aeeb43c@mail.gmail.com>
References: <46A85CF5.6090200@ee.uwa.edu.au>
	<87d4ye9jm6.fsf@riesling.zuerich.kuesterei.ch>
	<68c491a60707270505q1b5f038et438c8f869aeeb43c@mail.gmail.com>
Message-ID: <18090.35297.652206.56276@zarniwoop.ms25.local>

Martin Schr?der writes:

 > 2007/7/27, Frank K?ster <frank at debian.org>:
 >> pdfTeX contains sources for pdftosrc and ttf2afm, but "make all" in
 >> pdftexdir does not compile them:

 >> # pdftex_bin = pdftex ttf2afm pdftosrc
 >> pdftex_bin = pdftex

 > They are available as targets in web2c.

 > Why they got lost in pdftexdir (it was there in 1.30), I honestly
 > don't know.

Martin,
I'm amazed that you don't remember.

Because *you* and Thanh decided that it is obsolete because you don't
need it yourself and you decided that people should use pdfTk instead.
It was a bad decision.  Martin, as far as I remember *you* suggested
to remove it and Thanh agreed.  Dig out the old emails.

I remember this very well because someone told me that he had been
very upset because people who do not use this program decided that it
should be removed but complaints from people who actually use the
program had been ignored.

 > I'll reenable them in pdftexdir.

Thanks.  It's a nice and useful tool.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Sat Jul 28 02:25:05 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 28 Jul 2007 02:25:05 +0200
Subject: [tex-live] kpathsea/depend.mk regenerated
Message-ID: <200707280025.l6S0P5e13310@tug.org>

I regenerated kpathsea/depend.mk again.  I really have no idea how I
managed to make it a copy of web2c/depend.mk.  Hopefully I did better
this time (and there are .lo targets and dependencies on paths.h, so I
took out the explicit paths.h dependency Joachim inserted when I had
broken things.)

Hope it flies.

From reinhard.kotucha at web.de  Sun Jul 29 04:39:43 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 29 Jul 2007 04:39:43 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <873azbiskv.fsf@riesling.zuerich.kuesterei.ch>
References: <87bqe0bftd.fsf@riesling.zuerich.kuesterei.ch>
	<200707252145.l6PLjab27821@f7.net>
	<18087.55945.813155.768528@zarniwoop.ms25.local>
	<873azbiskv.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <18091.65007.405997.776833@zarniwoop.ms25.local>

Frank K?ster writes:
 > Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
 > 
 > > Karl Berry writes:
 > >
 > >  > [...] but I'll take a look when I have a chance.
 > >
 > > Maybe it makes sense to have a TODO file (a simple text file) in the
 > > svn repository.  Bug reports and patches can be added there if they
 > > can't be fixed/applied immediately.
 > >
 > > I suppose that everyone involved in TeXLive development maintains his
 > > own TODO list somehow.  But I'm sure that it's better to have such a
 > > file in the repository.
 > >
 > > If someone reports a bug, the email message can be appended to the file.   
 > > If someone fixes the bug, he simply removes the message from the file.
 > 
 > Sounds like you just invented a bugtracker in text-only form.

No.  What I mean is a file which can only be edited by people who have
write access to the repository.

What I do not want to have in this file are arbitrary feature
requests.

 > In case someone volunteers to set it up, would the team be opposed
 > to using a sourceforge-like tracking system?  Or even a
 > Debian-like...

I don't like such systems.  But this is my personal opinion.

At the moment the best place for bug reports and feature requests is
this mailing list.  And this mailing list works very well.

What is the advantage of a bug tracking system?

Keep in mind that there are some people on this list who provide help
for things they are not responsible for.

I'm quite happy with this mailing list.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From martin at oneiros.de  Sun Jul 29 04:48:52 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 29 Jul 2007 04:48:52 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <18091.65007.405997.776833@zarniwoop.ms25.local>
References: <87bqe0bftd.fsf@riesling.zuerich.kuesterei.ch>
	<200707252145.l6PLjab27821@f7.net>
	<18087.55945.813155.768528@zarniwoop.ms25.local>
	<873azbiskv.fsf@riesling.zuerich.kuesterei.ch>
	<18091.65007.405997.776833@zarniwoop.ms25.local>
Message-ID: <68c491a60707281948n34e2dd89u1e34917aaf6cbf78@mail.gmail.com>

2007/7/29, Reinhard Kotucha <reinhard.kotucha at web.de>:
> What is the advantage of a bug tracking system?

One central place for tracking these things, instead of them being
buried in many threads (with obscure subjects) in a mailing list.

We (the pdftex team) found a tracker a tremendous improvement over
tracking problems in a mailing list.

Best
   Martin

From preining at logic.at  Sun Jul 29 10:39:21 2007
From: preining at logic.at (Norbert Preining)
Date: Sun, 29 Jul 2007 10:39:21 +0200
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: <68c491a60707281948n34e2dd89u1e34917aaf6cbf78@mail.gmail.com>
References: <87bqe0bftd.fsf@riesling.zuerich.kuesterei.ch>
	<200707252145.l6PLjab27821@f7.net>
	<18087.55945.813155.768528@zarniwoop.ms25.local>
	<873azbiskv.fsf@riesling.zuerich.kuesterei.ch>
	<18091.65007.405997.776833@zarniwoop.ms25.local>
	<68c491a60707281948n34e2dd89u1e34917aaf6cbf78@mail.gmail.com>
Message-ID: <20070729083921.GA14019@gamma.logic.tuwien.ac.at>

On Son, 29 Jul 2007, Martin Schr?der wrote:
> One central place for tracking these things, instead of them being
> buried in many threads (with obscure subjects) in a mailing list.

I agree, I would like to have a tracker *ONLY* accessible (writeable)
for us developers. I always forgot what I want to do, or keep it in some
TODO file burried.

OTOH a public BTS as Debian is too much, because we will be burried with
requests from users, which I sometimes don't want.

So I would opt for a quasi-private tracker where I could add stuff for
my own reminders.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
In the beginning the Universe was created. This has made a
lot of people very angry and been widely regarded as a bad
move.
                 --- The Book just racapping what happened in the last book.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From Robin.Fairbairns at cl.cam.ac.uk  Sun Jul 29 12:33:33 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sun, 29 Jul 2007 11:33:33 +0100
Subject: [tex-live] New infrastructure: Question and patch
In-Reply-To: Your message of Sun, 29 Jul 2007 10:39:21 +0200.
	<20070729083921.GA14019@gamma.logic.tuwien.ac.at> 
Message-ID: <4461.1185705213@mole.cl.cam.ac.uk>

Norbert Preining <preining at logic.at> wrote:

> On Son, 29 Jul 2007, Martin Schr?der wrote:
> > One central place for tracking these things, instead of them being
> > buried in many threads (with obscure subjects) in a mailing list.
> 
> I agree, I would like to have a tracker *ONLY* accessible (writeable)
> for us developers. I always forgot what I want to do, or keep it in some
> TODO file burried.

you're as bad as me...

> OTOH a public BTS as Debian is too much, because we will be burried with
> requests from users, which I sometimes don't want.
> 
> So I would opt for a quasi-private tracker where I could add stuff for
> my own reminders.

fwiw, we get almost no content in the messages sent to the latex bugs
reporter.  either they're saying "you ought to do this" (incompatible
change) or they're saying "this fundamental restriction is a bug".

if we didn't file all of these things, we would seldom add more than one
external to the tracker, per year.

robin

From karl at freefriends.org  Mon Jul 30 00:16:28 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 29 Jul 2007 17:16:28 -0500
Subject: [tex-live] subversion 1.4.4 running
Message-ID: <200707292216.l6TMGSm16422@f7.net>

I've installed subversion 1.4.4 on tug.  The claim is that there are
significant speed/space improvements in working repository copies, but I
have to recreate the repo to take advantage.  That's no problem, but the
further claim is that older clients will then not know what to do with a
1.4 working copy.

I think an older client simply accessing the repo over the net would be
unaffected, but I have no way to know for sure until we try it.  What I
saw on the net was some reports from people using GUI tools.  If anyone
here cares, let me know, else I will try updating the repo in a few days.

Incidentally, there's a new program "svnsync" in the 1.4 distribution,
which is intended for exactly updating read-only copies of a repo.
Perhaps it will be of interest to some, or perhaps not.
http://svn.collab.net/repos/svn/trunk/notes/svnsync.txt 

k

P.S. For those of you actually working on tug, you may notice that 
svn --version and --help are broken, although everything else works as
far as I can tell.  I'm looking into it.  Sigh.


From hille42 at web.de  Tue Jul 31 12:59:01 2007
From: hille42 at web.de (Hilmar Preusse)
Date: Tue, 31 Jul 2007 12:59:01 +0200
Subject: [tex-live] pdftosrc from Tex Live 2007 packages
In-Reply-To: <18090.35297.652206.56276@zarniwoop.ms25.local>
References: <46A85CF5.6090200@ee.uwa.edu.au>
	<87d4ye9jm6.fsf@riesling.zuerich.kuesterei.ch>
	<68c491a60707270505q1b5f038et438c8f869aeeb43c@mail.gmail.com>
	<18090.35297.652206.56276@zarniwoop.ms25.local>
Message-ID: <20070731105901.GA3584@PC23>

On 28.07.07 Reinhard Kotucha (reinhard.kotucha at web.de) wrote:
> Martin Schr?der writes:

Hi,

> > I'll reenable them in pdftexdir.
> 
> Thanks.  It's a nice and useful tool.
> 
As you do it: Is there already a man page for that tool? Is
http://www.amasol.de/~preusse/pdftosrc/pdftosrc.1 still of any use or
is it broken anyway?

Thanks,
  Hilmar
-- 
People who make no mistakes do not usually make anything.
  http://www.hilmar-preusse.de.vu/

From martin at oneiros.de  Tue Jul 31 13:16:57 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 31 Jul 2007 13:16:57 +0200
Subject: [tex-live] pdftosrc from Tex Live 2007 packages
In-Reply-To: <20070731105901.GA3584@PC23>
References: <46A85CF5.6090200@ee.uwa.edu.au>
	<87d4ye9jm6.fsf@riesling.zuerich.kuesterei.ch>
	<68c491a60707270505q1b5f038et438c8f869aeeb43c@mail.gmail.com>
	<18090.35297.652206.56276@zarniwoop.ms25.local>
	<20070731105901.GA3584@PC23>
Message-ID: <68c491a60707310416s6b684912l6403753cfec360f0@mail.gmail.com>

2007/7/31, Hilmar Preusse <hille42 at web.de>:
> As you do it: Is there already a man page for that tool? Is

Yes. We have one and distribute it; the current devel version is in
our svn at http://foundry.supelec.fr/plugins/scmsvn/viewcvs.php/trunk/doc/man/pdftosrc.1?root=pdftex&view=log

> http://www.amasol.de/~preusse/pdftosrc/pdftosrc.1 still of any use or
> is it broken anyway?

It's different. :-)
We'll see what we can use.

Best
   Martin

