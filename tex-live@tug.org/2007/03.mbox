From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Thu Mar  1 00:55:08 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Wed, 28 Feb 2007 23:55:08 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <200702282230.l1SMUh008525@f7.net>
References: <200702282230.l1SMUh008525@f7.net>
Message-ID: <45E6165C.2010300@Royal-Tunbridge-Wells.Org>



Karl Berry wrote:

> 3. Regarding bittorrent, Philip, I hope you can set it up as well.  It
>    would be great.

Seeding now : will advise status/URL when I get up tomorrow :-)
** P.

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Thu Mar  1 01:06:04 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Thu, 01 Mar 2007 00:06:04 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <45E6165C.2010300@Royal-Tunbridge-Wells.Org>
References: <200702282230.l1SMUh008525@f7.net>
	<45E6165C.2010300@Royal-Tunbridge-Wells.Org>
Message-ID: <45E618EC.1090200@Royal-Tunbridge-Wells.Org>

Ah, I now realise (he said, having lain in bed for two minutes)
that that is insufficient !  Unless I announce the URL, the
probability of anyone else downloading it and then becoming
a co-seeder is infinitesimally small :-(  So, what we need
is as many people as possible to download (and then seed)

	http://thepiratebay.org/tor/3629108

** P.
--------
Philip & Le Khanh wrote:

> Seeding now : will advise status/URL when I get up tomorrow :-)
> ** P.
> 

From karl at freefriends.org  Thu Mar  1 01:09:30 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 28 Feb 2007 18:09:30 -0600
Subject: [tex-live] troubles with texlive 2007 + mathtime + lucida
In-Reply-To: <Pine.LNX.4.64.0702271725330.15166@mlinux.pd.infn.it>
Message-ID: <200703010009.l2109UV32468@f7.net>

    complete mathtime and lucida packages

It would seem they were not the complete packages in your texmf-local,
or you would not have been depending on anything in TL.  There is
nothing in TL which is not also part of the commercial packages, as far
as I know.

    1) TELL.  the "highlights of changes in the current release" page in the
        texlive site says nothing.

More than once, I asked for people to look at the documentation and
suggest new or different "highlights".  No one ever did.  It's a
judgment call, and in the absence of any other input, my judgment was
that a very, very, small percentage of TL users (a) use mathtime/lucida
in the first place, and (b) would be affected by the change.  Whatever
the percentage, obviously you were one of them, and I see some more
reports on comp.text.tex about this, so I regret not including it now.

Since it's too late to change the documentation, I added an entry to
http://tug.org/texlive/bugs.html about it.  Pointing at your message,
which I hope other people in the same situation will find useful.

    texmf-dist/source/latex/psnfssx/lucidabr*
    texmf-dist/tex/latex/psnfssx/luc*

As you can see by the path, those files are part of the psnfssx package.
I considered removing the Lucida files from TL, but one of our other
major considerations is for TL to distribute exactly what is on CTAN
whenever feasible, without making extra changes.

I don't actually know who (if anyone) maintains psnfssx, and didn't have
time to pursue it all in advance of the release.  Help?

    texmf-dist/vtex/config/lu*.ali

Those files are part of the vtex package.  To be honest, I'm not sure
where they came from.  If someone could look back in the logs to see,
that would be helpful.

    texmf-dist/tex/latex/mathtime/*

MathTime is a more complicated story than Lucida.  Although the mt fonts
are not free, the belleek fonts are.  I do not have a good understanding
of what (if anything) is useful for Belleek and what is only useful for
MT.  Although Bruno Voisin made heroic efforts to research this and
inform me, we ultimately could not resolve everything before the
release.  I await additional information to act.

(Bruno was the only person from whom I received anything before the
release.  When people don't test, surprises are inevitable.)

    2005 and 2007 require a different texmf-local.  

I don't see why.  If you copy the complete Lucida and MT packages to
your texmf-local, it will work fine with both 2005 and 2007, as far as I
know.  I guess that is what you are doing based on the above, but now
you are writing otherwise.

    VERY VERY BAD MOVE.

Well, I could repeat my arguments for why I removed Lucida and MT in the
first place, all of which was publicly discussed, but I don't feel like
taking the time, and I doubt you want to hear them anyway.  You are free
to make your own TeX distribution to your own liking.


Thanks for the report(s).

karl

From taco at elvenkind.com  Thu Mar  1 09:22:04 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 01 Mar 2007 09:22:04 +0100
Subject: [tex-live] [bug] The euro sign does not work in ConTeXt
Message-ID: <45E68D2C.2080402@elvenkind.com>

Hi,

I just saw Karl's message about lucida, and I realised I have another
entry for bugs.html to report.

In the standard setup, ConTeXt on tex-live will raise an error when
you try to typeset a Euro sign. This is because ConTeXt's euro sign
in the default font encoding (EC) came from the marvosym font, but
the tfm file (fmvr8x.tfm) is now renamed so it can't be found anymore.

The problem can be worked around by adding the next two lines to
the local cont-sys.tex (on in the document preamble)

   \definefontsynonym[fmvr8x][umvs]
   \loadmapline[+][umvs MarVoSym <marvosym.pfb]

Cheers, Taco

From taco at elvenkind.com  Thu Mar  1 09:32:57 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 01 Mar 2007 09:32:57 +0100
Subject: [tex-live] troubles with texlive 2007 + mathtime + lucida
In-Reply-To: <200703010009.l2109UV32468@f7.net>
References: <200703010009.l2109UV32468@f7.net>
Message-ID: <45E68FB9.1030105@elvenkind.com>

Karl Berry wrote:
> 
> More than once, I asked for people to look at the documentation and
> suggest new or different "highlights".  No one ever did.  It's a
> judgment call, and in the absence of any other input, my judgment was
> that a very, very, small percentage of TL users (a) use mathtime/lucida
> in the first place, and (b) would be affected by the change.  Whatever
> the percentage, obviously you were one of them, and I see some more
> reports on comp.text.tex about this, so I regret not including it now.

FWIW, the missing lucida metrics affect ConTeXt as well. The lb*.tfm
files where included in tetex, but they are not in texlive anymore,
so we had someone upgrading from tetex who suddenly discovered that
old input files don't work any more.

It's OK, I am aware things change over time. Just wanted to let you
know and I hope the metrics can be re-included next year.

Best wishes,

Taco

From subasan at mail.ru  Thu Mar  1 18:58:43 2007
From: subasan at mail.ru (Andrey Astafiev)
Date: Thu, 01 Mar 2007 20:58:43 +0300
Subject: [tex-live] Problem with russian fonts in TexLive 2007
Message-ID: <45E71453.8070501@mail.ru>

When building file test.tex I'm getting error messages
given in file test.log. How can I fix it?
I've tried TexLive from live DVD and installed on HDD.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.log
Type: text/x-log
Size: 4064 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070301/d565e80f/attachment.bin 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.tex
Type: text/x-tex
Size: 146 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070301/d565e80f/attachment-0001.bin 

From wl at gnu.org  Thu Mar  1 19:32:04 2007
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 01 Mar 2007 19:32:04 +0100 (CET)
Subject: [tex-live] copyright for glyphlist.txt
Message-ID: <20070301.193204.31642404.wl@gnu.org>


I've just received the attached file from Adobe!  Please install it
where appropriate.


    Werner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: glyphlist.txt.bz2
Type: application/octet-stream
Size: 21773 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070301/a1f7e1cc/attachment-0001.obj 

From bpiguet at teaser.fr  Thu Mar  1 23:45:24 2007
From: bpiguet at teaser.fr (Bruno Piguet)
Date: Thu, 01 Mar 2007 23:45:24 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <45E618EC.1090200@Royal-Tunbridge-Wells.Org>
References: <200702282230.l1SMUh008525@f7.net>	<45E6165C.2010300@Royal-Tunbridge-Wells.Org>
	<45E618EC.1090200@Royal-Tunbridge-Wells.Org>
Message-ID: <45E75784.40609@teaser.fr>

Philip & Le Khanh wrote :
> [...] So, what we need
> is as many people as possible to download (and then seed)
> 
>     http://thepiratebay.org/tor/3629108
> 
   I took my drill, dug a hole in my firewalls, NAT routers, ... 
installed a bitorrent client, and joined the fun.
    It looks likes working.
    Not very fast (4 hours left, if the estimation is correct), but the 
worlwide co-downloading and re-distribution seems to work.
    There are currently 8 online clients, from US, Japan, Greece, 
Sweeden, ..) . None of then have retrieved the full file yet. The 4 more 
advanced have got about 38% of the file. I have 14% (177 Mb) and have 
already redistributed 137 Mb.
    Do you plan to spread the word (usenet groups, mailing lists) ?

Bruno.

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Fri Mar  2 00:47:47 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Thu, 01 Mar 2007 23:47:47 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <45E75784.40609@teaser.fr>
References: <200702282230.l1SMUh008525@f7.net>	<45E6165C.2010300@Royal-Tunbridge-Wells.Org>
	<45E618EC.1090200@Royal-Tunbridge-Wells.Org>
	<45E75784.40609@teaser.fr>
Message-ID: <45E76623.50603@Royal-Tunbridge-Wells.Org>

Brilliant, very many thanks Bruno!

>    Do you plan to spread the word (usenet groups, mailing lists) ?

Yes, I'm sure we should : probably Karl, as "official TeX Live
announcer", should be the one to spread the good word -- I'll
cc him.

** Phil.
--------
>   I took my drill, dug a hole in my firewalls, NAT routers, ... 
> installed a bitorrent client, and joined the fun.
>    It looks likes working.
>    Not very fast (4 hours left, if the estimation is correct), 
> but the worlwide co-downloading and re-distribution seems to work.
>    There are currently 8 online clients, from US, Japan, Greece, 
> Sweden, ..) . None of then have retrieved the full file yet. 
> The 4 more advanced have got about 38% of the file. I have 14% 
> (177 Mb) and have already redistributed 137 Mb. 


From xulxer at gmail.com  Thu Mar  1 13:30:44 2007
From: xulxer at gmail.com (=?ISO-8859-1?Q?Bert_Tr=FCger?=)
Date: Thu, 1 Mar 2007 13:30:44 +0100
Subject: [tex-live] Trouble with Texlive2007 + scrlttr2 + asymTypB.lco
Message-ID: <f4c832270703010430m842943cxe5cc0a4bc5e03d7@mail.gmail.com>

Hi,

I have a problem with asymTypB.lco for scrlttr2 with Texlive2007. On Texlive
2005 I can't remember a serious problem, now scrlttr2 still works with
pdflatex and xelatex (I have added a minimal example), but with
asymTypB.lcopdflatex complains
"[PDFLaTeX] BriefvorlageLatex.tex =>
BriefvorlageLatex.pdf(/usr/local/texlive/2007/bin/i386-linux/pdflatex)
[PDFLaTeX] mit Status 1 beendet
/usr/local/texlive/2007/texmf-dist/tex/latex/koma-script/asymTypB.lco:11:Undefined
control sequence. }
./BriefvorlageLatex.tex:20:Command \@typearea at end already defined.
\begin{document}
./BriefvorlageLatex.tex:26:There's no line here to end. \opening{L.S.,}
./BriefvorlageLatex.tex:26:There's no line here to end. \opening{L.S.,}
[PDFLaTeX] 4 Fehler, 0 Warnungen, 0 badboxes" and xelatex will not compile.
The asymTypB.lco should be correct as I have copied and pasted the text from
"Replacing LATEX2? standard classes with
KOMA-Script" to asymTypB.lco in the KomaScript-directory.

Has anybody an idea?

Thanks in advance

Chris

Minimal example:
\documentclass[%
% asymTypB,
  DIV=9,
  fontsize=11pt,
  pagesize,
  twoside,
  ]{scrlttr2}
\setkomavar{place}{Leiden}
\nexthead{}
\setkomavar{fromname}{Yuri Robbers}
\setkomavar{fromaddress}{Fruinlaan 15\\2313 EP Leiden\\The Netherlands}
\setkomavar{fromphone}{+31{--}71{--}5121365}
\setkomavar{fromfax}{+31{--}71{--}5144543}
\setkomavar{fromemail}{robbers at lemun.org}
\setkomavar{fromurl}{http://www.lemun.org}
\pagestyle{empty}

\begin{document}
 \begin{letter}{%
      The Prac\TeX\ Journal\\c/o the Editor{-}in{-}chief\\2701 Some
Street\\32768 Anytown}
\setkomavar{subject}{Beurteilung}
\opening{L.S.,}
Test
\closing{With kind regards,\\}
\end{letter}
\end{document}


asymTypB.lco:
\ProvidesFile{asymTypB.lco}%
             [2005/04/09 v0.2a unsupported LCO-file]%
\LoadLetterOption{DINmtext}%
\setlength{\oddsidemargin}{\useplength{toaddrhpos}}%
\addtolength{\oddsidemargin}{-1in}%
% Take care that the shift stays intact even after recalculating the pag
% layout (see Kohm & Morawski 2005, section C.7)
\l at addto@macro{\@typearea at end}{%
  \setlength{\oddsidemargin}{\useplength{toaddrhpos}}%
  \addtolength{\oddsidemargin}{-1in}%
}
\ifx\AtBeginDocument\@notprerr
  \KOMAoptions{DIV=last}%
\else
  \AtBeginDocument{%
    \g at addto@macro{\@typearea at end}{%
      \setlength{\oddsidemargin}{\useplength{toaddrhpos}}%
      \addtolength{\oddsidemargin}{-1in}%
    }%
  }%
\fi
% continue as per description
\@setplength{firstheadvpos}{0pt}%
\@setplength{firstheadwidth}{\paperwidth}%
\@setplength{firstfootvpos}{\paperheight}%
\@addtoplength[-]{firstfootvpos}{\useplength{toaddrvpos}}%
\@addtoplength{refvpos}{-1.5\baselineskip}%
\newkomavar{company}%
\@newplength{infocolwidth}%
% Kohm & Morawski 2005, C.7. Modifikationen (Modifications)
\ifdim \textwidth<0.666\paperwidth
  \@setplength{infocolwidth}{.22222\paperwidth}%
\else
  \@setplength{infocolwidth}{0.1667\paperwidth}%
\fi
% continue as per description
\firsthead{%
  \fontsize{7}{8}\sffamily
  \hspace*{\fill}%
  \begin{picture}(0,0)%
    \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
        \vspace{\useplength{toaddrvpos}}%
        \usekomavar{fromlogo}%
      }%
    }%
    \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
        \raggedright
        \vspace{\useplength{refvpos}}%
        \vspace{\useplength{refaftervskip}}%
        \usekomavar{place}\usekomavar{placeseparator}\\
        \usekomavar{date}\\[10\baselineskip]
        \usekomavar{fromname}
        \ifkomavarempty{company}{}{%
          \\
          \usekomavar{company}%
        }\\[\baselineskip]
        \usekomavar{fromaddress}\\
        \usekomavar*{fromphone}\usekomavar{fromphone}\\
        \usekomavar*{fromfax}\usekomavar{fromfax}%
        \\[\baselineskip]
        \usekomavar{fromemail}\\
        \usekomavar{fromurl}\\
      }%
    }%
    \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
        \raggedright
        \vspace{\useplength{firstfootvpos}}%
        \vspace{-\footskip}%
        \usekomavar{frombank}\\%
      }%
    }%
  \end{picture}%
  \hspace*{\useplength{infocolwidth}}%
}%
\l at addto@macro\@firstheadfootfield{\setkomavar{date}{}}
\nexthead{%
  \begingroup
    \@tempswatrue
    \if at twoside\ifodd\number\value{page}
        \else\@tempswafalse\fi\fi
    \if at tempswa
      \makebox[0pt][l]{%
        \hspace*{-\oddsidemargin}\hspace{-1in}%
        \hspace{\paperwidth}%
        \hspace{-\useplength{infocolwidth}}%
        \normalfont\fontsize{7}{8}\sffamily

        \begin{picture}(0,0)
          \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
              \vspace*{-\topmargin}\vspace{-1in}%
              \vspace{-\headheight}%
              \vspace{\useplength{toaddrvpos}}%
              \begin{tabular}{@{}c@{}}
                \usekomavar{fromlogo}\\
                \usekomavar{company}\\
              \end{tabular}%
            }%
          }%
        \end{picture}%
      }%
    \fi
  \endgroup
}%
\pagestyle{headings}%
\endinput
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070301/00973366/attachment.html 

From reinhard.kotucha at web.de  Fri Mar  2 03:02:18 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 2 Mar 2007 03:02:18 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <45E75784.40609@teaser.fr>
References: <200702282230.l1SMUh008525@f7.net>
	<45E6165C.2010300@Royal-Tunbridge-Wells.Org>
	<45E618EC.1090200@Royal-Tunbridge-Wells.Org>
	<45E75784.40609@teaser.fr>
Message-ID: <17895.34218.463533.438295@zarniwoop.ms25.local>

>>>>> "Bruno" == Bruno Piguet <bpiguet at teaser.fr> writes:

  >    I took my drill, dug a hole in my firewalls, NAT routers, ...
  > installed a bitorrent client, and joined the fun.  It looks likes
  > working.  Not very fast (4 hours left, if the estimation is
  > correct), but the worlwide co-downloading and re-distribution
  > seems to work.  There are currently 8 online clients, from US,
  > Japan, Greece, Sweeden, ..) . None of then have retrieved the full
  > file yet. The 4 more advanced have got about 38% of the file. I
  > have 14% (177 Mb) and have already redistributed 137 Mb.  Do you
  > plan to spread the word (usenet groups, mailing lists) ?

Nice to know that there are holes in your firewall now.

I'm not sure that bitorrent is the ultimate solution.  The download
rates you mention do not sound very impressive.  Maybe I hesitate
because I did not yet understand completely how bitorrent works.  I
have a reasonably fast ADSL connection.  To be more precise, only
download is reasonably fast.  Upload is slow and when I upload files
to a remote machine it does not make much fun to connect to another
machine using ssh.

As I understand the problem, tug.org and CTAN want to reduce traffic.

Suppose that some other TeX user groups mirror the file too.  Isn't it
possible to write a php or Perl script which contains a list of
mirrors and performs some load balancing?  I.e. if someone tries to
download the image from tug.org he will be redirected to a mirror and
each time someone wants to download the file the script redirects him
to another mirror.

I'm not sure that using bitorrent is reasonable, 

  > I have 14% (177 Mb)

after 4 hours, sigh!

On the other hand, Petr Sojka offered to host the file.  Though
traffic might be larger than expected, it would be nice to try it at
least.  Petr can still pull the emergency brake at any time if traffic
becomes too large.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From martin at oneiros.de  Fri Mar  2 03:37:02 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 2 Mar 2007 03:37:02 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <17895.34218.463533.438295@zarniwoop.ms25.local>
References: <200702282230.l1SMUh008525@f7.net>
	<45E6165C.2010300@Royal-Tunbridge-Wells.Org>
	<45E618EC.1090200@Royal-Tunbridge-Wells.Org>
	<45E75784.40609@teaser.fr>
	<17895.34218.463533.438295@zarniwoop.ms25.local>
Message-ID: <68c491a60703011837y1586b24ax237eb261b4215556@mail.gmail.com>

2007/3/2, Reinhard Kotucha <reinhard.kotucha at web.de>:
> I'm not sure that bitorrent is the ultimate solution.  The download
> rates you mention do not sound very impressive.  Maybe I hesitate
> because I did not yet understand completely how bitorrent works.  I

The wikipedia article explains it quite well:
http://en.wikipedia.org/wiki/BitTorrent
Basically you combine many slow uploads into one fast download.

> have a reasonably fast ADSL connection.  To be more precise, only
> download is reasonably fast.  Upload is slow and when I upload files
> to a remote machine it does not make much fun to connect to another
> machine using ssh.

Almost all clients allow you to limit the download and upload speed.
And bandwith shaping on your router helps too, of course.

> As I understand the problem, tug.org and CTAN want to reduce traffic.

Yes, and this is exactly where BT helps.

Best
   Martin

From florin.oprina at gmail.com  Fri Mar  2 06:52:38 2007
From: florin.oprina at gmail.com (Florin Oprina)
Date: Fri, 2 Mar 2007 14:52:38 +0900
Subject: [tex-live] dynamic linking on linux-i386
Message-ID: <20070302145238.706c18c7@smallbox>

Hi all,

I'm using the 20070212 texlive disk.
I noticed that the programs in i386-linux are dynamically linked.
This can cause some troubles on certain systems.

For instance lcdf-typetools refused to work on my computer because I
have a newer version of libstdc++ (gcc 4.1.1). Recompiling it from
scratch is a problem too, because it needs the kpathsea library, which
in not present in the texlive distribution.

Maybe the installation disk should include a set of statically linked
binaries as well, to avoid such compatibility problems. Is that a viable
option?

Best.

From bpiguet at teaser.fr  Fri Mar  2 08:51:57 2007
From: bpiguet at teaser.fr (Bruno Piguet)
Date: Fri, 02 Mar 2007 08:51:57 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <17895.34218.463533.438295@zarniwoop.ms25.local>
References: <200702282230.l1SMUh008525@f7.net>	<45E6165C.2010300@Royal-Tunbridge-Wells.Org>	<45E618EC.1090200@Royal-Tunbridge-Wells.Org>	<45E75784.40609@teaser.fr>
	<17895.34218.463533.438295@zarniwoop.ms25.local>
Message-ID: <45E7D79D.1060205@teaser.fr>

Reinhard Kotucha wrote :


> 
>   > I have 14% (177 Mb)
> 
> after 4 hours, sigh!

    Not exactly.
    The estimation was : 4 hours left for the remaining 86%. The actual 
total time was about 6 hours.

   If I understand well, tonight, the file was downloaded once (or a 
very few times) from the location defined by Philip in the torrent 
(ftp://ftp.cstug.cz/pub/tex/local/TC2007/ ?), and redistributed among 
the 8 "leechers". That's a significant saving of bandwith for the 
original site, and proves that it works, for that matter (even if, 
personnally, may have gotten the file more rapidly by a direct FTP 
download).

    If you want it to become a real solution, you need more people 
joining in, and keeping their client active, even once they have 
received the file. That's why I mentionned "spreading the word".

Bruno.

From P.Taylor at Rhul.Ac.Uk  Fri Mar  2 09:00:45 2007
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (Webmaster) )
Date: Fri, 02 Mar 2007 08:00:45 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <45E7D79D.1060205@teaser.fr>
References: <200702282230.l1SMUh008525@f7.net>	<45E6165C.2010300@Royal-Tunbridge-Wells.Org>	<45E618EC.1090200@Royal-Tunbridge-Wells.Org>	<45E75784.40609@teaser.fr>	<17895.34218.463533.438295@zarniwoop.ms25.local>
	<45E7D79D.1060205@teaser.fr>
Message-ID: <45E7D9AD.3010806@Rhul.Ac.Uk>

Yes, exactly : BT is a self-fulfilling prophecy.  The more
people that use it, the faster it becomes for everyone (crazy,
I know, but although an over-simplification it's close to
the truth).  I envisage the main CTAN systems becoming
"super-seeders", and the whole TeX community then acting
as secondary sources (i.e., what you download, you auto-
matically make available to others for download).  It's
a rather nice Utopia, don't you think ?!

** Phil.
--------
Bruno Piguet wrote:

>    Not exactly.
>    The estimation was : 4 hours left for the remaining 86%. The actual 
> total time was about 6 hours.
> 
>   If I understand well, tonight, the file was downloaded once (or a very 
> few times) from the location defined by Philip in the torrent 
> (ftp://ftp.cstug.cz/pub/tex/local/TC2007/ ?), and redistributed among 
> the 8 "leechers". That's a significant saving of bandwith for the 
> original site, and proves that it works, for that matter (even if, 
> personnally, may have gotten the file more rapidly by a direct FTP 
> download).
> 
>    If you want it to become a real solution, you need more people 
> joining in, and keeping their client active, even once they have 
> received the file. That's why I mentionned "spreading the word".
> 
> Bruno.

From Robin.Fairbairns at cl.cam.ac.uk  Fri Mar  2 10:43:34 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 02 Mar 2007 09:43:34 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: Your message of Fri, 02 Mar 2007 08:00:45 +0000.
	<45E7D9AD.3010806@Rhul.Ac.Uk> 
Message-ID: <29971.1172828614@cl.cam.ac.uk>

Philip Taylor (Webmaster)  <P.Taylor at rhul.ac.uk> wrote:

> Yes, exactly : BT is a self-fulfilling prophecy.  The more
> people that use it, the faster it becomes for everyone (crazy,
> I know, but although an over-simplification it's close to
> the truth).

sure, it removes bottlenecks and (to some extent) overloads, but i can't
see it as a panacea.

> I envisage the main CTAN systems becoming "super-seeders",

you don't see this ctan becoming a super-seeder, i'm afraid.  my traffic
for last month is in excess of 400gbytes higher than the running
average, and given that the department (thanks to the u. of cambridge's
insane accountancy practices) pays by the gbyte, i'm in no position to
add a service that might add still more to the traffic.

(note that uktug had some ambition to support this traffic charge, but
they hadn't understood quite the extent of it.  the suggestion seems to
have become rather quiet.  and that was before this excitement...)

> and the whole TeX community then acting
> as secondary sources (i.e., what you download, you auto-
> matically make available to others for download).  It's
> a rather nice Utopia, don't you think ?!

except for those who are on a contract where they pay for traffic, or on
a net connection that has monthly limits (i know several uk people who
are).

robin

From martin at oneiros.de  Fri Mar  2 10:57:11 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 2 Mar 2007 10:57:11 +0100
Subject: [tex-live] dynamic linking on linux-i386
In-Reply-To: <20070302145238.706c18c7@smallbox>
References: <20070302145238.706c18c7@smallbox>
Message-ID: <68c491a60703020157t615fcd1cg44f54b12d801477e@mail.gmail.com>

2007/3/2, Florin Oprina <florin.oprina at gmail.com>:
> I'm using the 20070212 texlive disk.
> I noticed that the programs in i386-linux are dynamically
linked.

Yes and no (see below).

> This can cause some troubles on certain systems.

Indeed.

> For instance lcdf-typetools refused to work on my computer because I
> have a newer version of libstdc++ (gcc 4.1.1). Recompiling it

In fact libstdc++ should always be linked statically because of these
problems; this was solved for pdftex some years ago. Seems nobody
checked the lcdf-typetools, which have the same problem.

Best
   Martin

From P.Taylor at Rhul.Ac.Uk  Fri Mar  2 12:55:32 2007
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (Webmaster) )
Date: Fri, 02 Mar 2007 11:55:32 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <29971.1172828614@cl.cam.ac.uk>
References: <29971.1172828614@cl.cam.ac.uk>
Message-ID: <45E810B4.9040601@Rhul.Ac.Uk>



Robin Fairbairns wrote:

 > sure, it removes bottlenecks and (to some extent) overloads, but i can't
 > see it as a panacea.

I am more optimistic : I see it as being "the CTAN of the future" ...
 >
 >> I envisage the main CTAN systems becoming "super-seeders",
 >
 > you don't see this ctan becoming a super-seeder, i'm afraid.  my traffic
 > for last month is in excess of 400gbytes higher than the running
 > average, and given that the department (thanks to the u. of cambridge's
 > insane accountancy practices) pays by the gbyte, i'm in no position to
 > add a service that might add still more to the traffic.

Is it not possible to justify it as an investment ? /If/ the idea takes
off, there would be a very significant reduction in load on the CTAN
core nodes, would there not ?
 >
 > (note that uktug had some ambition to support this traffic charge, but
 > they hadn't understood quite the extent of it.  the suggestion seems to
 > have become rather quiet.  and that was before this excitement...)

They're still very rich, I'm told :-)
 >
 >> and the whole TeX community then acting
 >> as secondary sources (i.e., what you download, you auto-
 >> matically make available to others for download).  It's
 >> a rather nice Utopia, don't you think ?!
 >
 > except for those who are on a contract where they pay for traffic, or on
 > a net connection that has monthly limits (i know several uk people who
 > are).

I don't think I envisaged universal participation, but given the number of
TeX users who are University-based, it seems to me that we might well
have a nucleus of some thousands of willing participants.

** P.

From mailing_list at arcor.de  Fri Mar  2 16:00:45 2007
From: mailing_list at arcor.de (Stephan Hennig)
Date: Fri, 02 Mar 2007 16:00:45 +0100
Subject: [tex-live] Trouble with Texlive2007 + scrlttr2 + asymTypB.lco
In-Reply-To: <f4c832270703010430m842943cxe5cc0a4bc5e03d7@mail.gmail.com>
References: <f4c832270703010430m842943cxe5cc0a4bc5e03d7@mail.gmail.com>
Message-ID: <45E83C1D.4020604@arcor.de>

[Full quote, because copying this to bugs at komascript.de.]

Bert Tr?ger schrieb:
> Hi,
> 
> I have a problem with asymTypB.lco for scrlttr2 with Texlive2007. On Texlive
> 2005 I can't remember a serious problem, now scrlttr2 still works with
> pdflatex and xelatex (I have added a minimal example), but with
> asymTypB.lcopdflatex complains
> "[PDFLaTeX] BriefvorlageLatex.tex =>
> BriefvorlageLatex.pdf(/usr/local/texlive/2007/bin/i386-linux/pdflatex)
> [PDFLaTeX] mit Status 1 beendet
> /usr/local/texlive/2007/texmf-dist/tex/latex/koma-script/asymTypB.lco:11:Undefined
> control sequence. }
> ./BriefvorlageLatex.tex:20:Command \@typearea at end already defined.
> \begin{document}
> ./BriefvorlageLatex.tex:26:There's no line here to end. \opening{L.S.,}
> ./BriefvorlageLatex.tex:26:There's no line here to end. \opening{L.S.,}
> [PDFLaTeX] 4 Fehler, 0 Warnungen, 0 badboxes" and xelatex will not compile.
> The asymTypB.lco should be correct as I have copied and pasted the text from
> "Replacing LATEX2? standard classes with
> KOMA-Script" to asymTypB.lco in the KomaScript-directory.
> 
> Has anybody an idea?

Since I can reproduce this with KOMA-Script v2.97 Beta on MiKTeX I don't
think this is a bug in TeX Live.  I'm copying this to
bugs at komascript.de.  To subscribe send mail to bugs-subscribe at komascript.de.

Best regards,
Stephan Hennig

> 
> Thanks in advance
> 
> Chris
> 
> Minimal example:

Minimal example:
\documentclass[%
% asymTypB,
  DIV=9,
  fontsize=11pt,
  pagesize,
  twoside,
  ]{scrlttr2}
\setkomavar{place}{Leiden}
\nexthead{}
\setkomavar{fromname}{Yuri Robbers}
\setkomavar{fromaddress}{Fruinlaan 15\\2313 EP Leiden\\The Netherlands}
\setkomavar{fromphone}{+31{--}71{--}5121365}
\setkomavar{fromfax}{+31{--}71{--}5144543}
\setkomavar{fromemail}{robbers at lemun.org}
\setkomavar{fromurl}{http://www.lemun.org}
\pagestyle{empty}

\begin{document}
 \begin{letter}{%
      The Prac\TeX\ Journal\\c/o the Editor{-}in{-}chief\\2701 Some
Street\\32768 Anytown}
\setkomavar{subject}{Beurteilung}
\opening{L.S.,}
Test
\closing{With kind regards,\\}
\end{letter}
\end{document}


asymTypB.lco:
\ProvidesFile{asymTypB.lco}%
             [2005/04/09 v0.2a unsupported LCO-file]%
\LoadLetterOption{DINmtext}%
\setlength{\oddsidemargin}{\useplength{toaddrhpos}}%
\addtolength{\oddsidemargin}{-1in}%
% Take care that the shift stays intact even after recalculating the pag
% layout (see Kohm & Morawski 2005, section C.7)
\l at addto@macro{\@typearea at end}{%
  \setlength{\oddsidemargin}{\useplength{toaddrhpos}}%
  \addtolength{\oddsidemargin}{-1in}%
}
\ifx\AtBeginDocument\@notprerr
  \KOMAoptions{DIV=last}%
\else
  \AtBeginDocument{%
    \g at addto@macro{\@typearea at end}{%
      \setlength{\oddsidemargin}{\useplength{toaddrhpos}}%
      \addtolength{\oddsidemargin}{-1in}%
    }%
  }%
\fi
% continue as per description
\@setplength{firstheadvpos}{0pt}%
\@setplength{firstheadwidth}{\paperwidth}%
\@setplength{firstfootvpos}{\paperheight}%
\@addtoplength[-]{firstfootvpos}{\useplength{toaddrvpos}}%
\@addtoplength{refvpos}{-1.5\baselineskip}%
\newkomavar{company}%
\@newplength{infocolwidth}%
% Kohm & Morawski 2005, C.7. Modifikationen (Modifications)
\ifdim \textwidth<0.666\paperwidth
  \@setplength{infocolwidth}{.22222\paperwidth}%
\else
  \@setplength{infocolwidth}{0.1667\paperwidth}%
\fi
% continue as per description
\firsthead{%
  \fontsize{7}{8}\sffamily
  \hspace*{\fill}%
  \begin{picture}(0,0)%
    \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
        \vspace{\useplength{toaddrvpos}}%
        \usekomavar{fromlogo}%
      }%
    }%
    \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
        \raggedright
        \vspace{\useplength{refvpos}}%
        \vspace{\useplength{refaftervskip}}%
        \usekomavar{place}\usekomavar{placeseparator}\\
        \usekomavar{date}\\[10\baselineskip]
        \usekomavar{fromname}
        \ifkomavarempty{company}{}{%
          \\
          \usekomavar{company}%
        }\\[\baselineskip]
        \usekomavar{fromaddress}\\
        \usekomavar*{fromphone}\usekomavar{fromphone}\\
        \usekomavar*{fromfax}\usekomavar{fromfax}%
        \\[\baselineskip]
        \usekomavar{fromemail}\\
        \usekomavar{fromurl}\\
      }%
    }%
    \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
        \raggedright
        \vspace{\useplength{firstfootvpos}}%
        \vspace{-\footskip}%
        \usekomavar{frombank}\\%
      }%
    }%
  \end{picture}%
  \hspace*{\useplength{infocolwidth}}%
}%
\l at addto@macro\@firstheadfootfield{\setkomavar{date}{}}
\nexthead{%
  \begingroup
    \@tempswatrue
    \if at twoside\ifodd\number\value{page}
        \else\@tempswafalse\fi\fi
    \if at tempswa
      \makebox[0pt][l]{%
        \hspace*{-\oddsidemargin}\hspace{-1in}%
        \hspace{\paperwidth}%
        \hspace{-\useplength{infocolwidth}}%
        \normalfont\fontsize{7}{8}\sffamily

        \begin{picture}(0,0)
          \put(0,0){\parbox[t]{\useplength{infocolwidth}}{%
              \vspace*{-\topmargin}\vspace{-1in}%
              \vspace{-\headheight}%
              \vspace{\useplength{toaddrvpos}}%
              \begin{tabular}{@{}c@{}}
                \usekomavar{fromlogo}\\
                \usekomavar{company}\\
              \end{tabular}%
            }%
          }%
        \end{picture}%
      }%
    \fi
  \endgroup
}%
\pagestyle{headings}%
\endinput


From karl at freefriends.org  Fri Mar  2 20:49:58 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2007 13:49:58 -0600
Subject: [tex-live] hosting inst image
In-Reply-To: <45E75784.40609@teaser.fr>
Message-ID: <200703021949.l22Jnwn05890@f7.net>

Hello Philip and all,

    >     http://thepiratebay.org/tor/3629108

I updated http://tug.org/texlive/acquire.html with this info (among
other things).  Please let me know if there is more that should be said
about the availability via BitTorrent.

Since you've gone to the trouble of making the inst image available this
way, would it be possible to also make the *live* image available as a
torrent?  After all, that is the one that we recommend people use (to
forestall questions about "my architecture is missing").

Thanks,
Karl

From f.rougon at free.fr  Fri Mar  2 21:50:21 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Fri, 02 Mar 2007 21:50:21 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <200703021949.l22Jnwn05890@f7.net> (Karl Berry's message of "Fri, 
	2 Mar 2007 13:49:58 -0600")
References: <200703021949.l22Jnwn05890@f7.net>
Message-ID: <87d53rid4i.fsf@florent.maison>

Hi Karl,

First, let me join to Norbert and thank you for all the work you did to
make this release happen (that also goes to other contributors and
upstream developers!).

karl at freefriends.org (Karl Berry) wrote:

> I updated http://tug.org/texlive/acquire.html with this info (among
> other things).  Please let me know if there is more that should be said
> about the availability via BitTorrent.

I think it would be highly desirable to display at least the MD5
checksum of the image, just after the list where you give the bittorent
link. This is primarily for security reasons, but may also avoid people
wasting their time with a corrupted file. Besides, I don't think
everyone will have the idea and patience to get the md5sum from the FTP
mirrors that are listed there, and even then, I'd say the most
trustworthy source for the md5sum is a priori tug.org, not these mirrors
(note that I am not saying that the admins of these mirrors aren't
trustworthy, just that tug.org is the primary source, so...).

> Since you've gone to the trouble of making the inst image available this
> way, would it be possible to also make the *live* image available as a
> torrent?  After all, that is the one that we recommend people use (to
> forestall questions about "my architecture is missing").

Of course, if you happen to put a bittorrent link for the live image, a
checksum for it on the tug.org web page would be desirable too.

Thanks.

-- 
Florent

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Fri Mar  2 21:55:24 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Fri, 02 Mar 2007 20:55:24 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <200703021949.l22Jnwn05890@f7.net>
References: <200703021949.l22Jnwn05890@f7.net>
Message-ID: <45E88F3C.8010906@Royal-Tunbridge-Wells.Org>

But why ?  In your original message, which sparked all
this activity, you wrote :

	Due to bandwidth concerns, we can no longer afford to have the inst
	image on ftp://tug.org for public consumption.  Despite semi-hiding it
	from view and my disrecommending it for use, it's found by too many people.#

If it's only the .inst image which you have pulled,
is there real benefit to be had from making the .live
image available via BT ?

I can see (as I've said earlier in this thread) that
I can foresee the time when CTAN itself will become a
vast network of BT nodes, but is there real benefit in
treating the whole of TeX Live as a special case, or
is it better to stick to what we have at the moment,
which is .inst via BT or .CZ, and .live via FTP from
Tug.Org ?

This is a serious question, not a dismissal of your
request, but I am genuinely unable to see the reason
for it.  If there /are/ good reasons for hosting it
on BT (as a 2nd "special case"), then I am more than
happy to do so.

** Phil.
--------
Karl Berry wrote:
> Hello Philip and all,
> 
>     >     http://thepiratebay.org/tor/3629108
> 
> I updated http://tug.org/texlive/acquire.html with this info (among
> other things).  Please let me know if there is more that should be said
> about the availability via BitTorrent.
> 
> Since you've gone to the trouble of making the inst image available this
> way, would it be possible to also make the *live* image available as a
> torrent?  After all, that is the one that we recommend people use (to
> forestall questions about "my architecture is missing").
> 
> Thanks,
> Karl

From karl at freefriends.org  Fri Mar  2 22:30:08 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2007 15:30:08 -0600
Subject: [tex-live] Problem with russian fonts in TexLive 2007
In-Reply-To: <45E71453.8070501@mail.ru>
Message-ID: <200703022130.l22LU8s29180@f7.net>

Hello Andrey,

    ! Font T2A/cmr/m/n/10=larm1000 at 10.0pt not loadable: Metric (TFM) file not fo

It would seem mktextfm is not being called on Windows, at least I see no
sign of it in the log you sent.  Akira/Staszek, is that expected?
Ordinarily the Cyrillic tfm's (and mf's) are generated that way.

Or, Andrey, did you install a subset of packages?  (The default is to
install everything.)

All I can suggest is downloading the pregenerated mf files that Olga
provides (at http://tug.ctan.org/tex-archive/fonts/cyrillic/lh/), and
making the tfm's yourself.  Olga, perhaps it would be useful to provide
a .zip file of tfm's, too?

Thanks for the report.

karl

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Fri Mar  2 22:45:57 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Fri, 02 Mar 2007 21:45:57 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <87d53rid4i.fsf@florent.maison>
References: <200703021949.l22Jnwn05890@f7.net> <87d53rid4i.fsf@florent.maison>
Message-ID: <45E89B15.2070108@Royal-Tunbridge-Wells.Org>

Don't really understand MD5s, but is there any benefit
in listing what BT terms the "Infohash", which I suspect
is BTs way of determining (a) authenticity, and
(b) completeness ?  If so, for .inst, the value is

	081c74403c5fe795593af8026f44a7c03c174e04

E&OE (I had to type it in by hand ...).
--------
Florent Rougon wrote:

 > I think it would be highly desirable to display at least the MD5
 > checksum of the image, just after the list where you give the bittorent
 > link. This is primarily for security reasons, but may also avoid people
 > wasting their time with a corrupted file. Besides, I don't think
 > everyone will have the idea and patience to get the md5sum from the FTP
 > mirrors that are listed there, and even then, I'd say the most
 > trustworthy source for the md5sum is a priori tug.org, not these mirrors
 > (note that I am not saying that the admins of these mirrors aren't
 > trustworthy, just that tug.org is the primary source, so...).

From preining at logic.at  Fri Mar  2 22:41:20 2007
From: preining at logic.at (Norbert Preining)
Date: Fri, 2 Mar 2007 22:41:20 +0100
Subject: [tex-live] VAC 2007-03-03 .. 2007-03-20
Message-ID: <20070302214120.GB809@gamma.logic.tuwien.ac.at>

Hi all!

Just to inform you I will be off list for the next two weeks, mountain
huts. With 99% probability no internet connection.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LUSBY (n.)
The fold of flesh pushing forward over the top of a bra which is too
small for the lady inside it.
			--- Douglas Adams, The Meaning of Liff

From kakuto at fsci.fuk.kindai.ac.jp  Fri Mar  2 23:53:31 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 03 Mar 2007 07:53:31 +0900
Subject: [tex-live] Problem with russian fonts in TexLive 2007
In-Reply-To: Your message of "Fri, 2 Mar 2007 15:30:08 -0600"
References: <200703022130.l22LU8s29180@f7.net>
Message-ID: <200703022253.l22MrWnv010484@jupiter.fsci.fuk.kindai.ac.jp>

> It would seem mktextfm is not being called on Windows, at least I see no
> sign of it in the log you sent.  Akira/Staszek, is that expected?
> Ordinarily the Cyrillic tfm's (and mf's) are generated that way.

mktextfm must be called also on Windows.

Thanks,
Akira

From karl at freefriends.org  Sat Mar  3 00:33:43 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2007 17:33:43 -0600
Subject: [tex-live] troubles with texlive 2007 + mathtime + lucida
In-Reply-To: <45E68FB9.1030105@elvenkind.com>
Message-ID: <200703022333.l22NXht26191@f7.net>

    I hope the metrics can be re-included next year.

Sorry, but I don't plan to re-include them.  I realize that, in
practice, a number of people were relying on these "teTeX" metrics.
More of them than I guessed, unfortunately, or I would have at least
mentioned this in the "highlights".

But I still think that it would be a mistake to restore them, for all
the reasons that I initially proposed removing them, and one more: given
that they have been removed in this release, I can't see that it will
help anyone at all to restore them in the future.  Anyone troubled by
their removal will have already dealt with the issue, so putting them
back would just create more trouble.

Sorry,
karl

From karl at freefriends.org  Sat Mar  3 00:33:43 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2007 17:33:43 -0600
Subject: [tex-live] [bug] The euro sign does not work in ConTeXt
In-Reply-To: <45E68D2C.2080402@elvenkind.com>
Message-ID: <200703022333.l22NXhL26179@f7.net>

       \definefontsynonym[fmvr8x][umvs]
       \loadmapline[+][umvs MarVoSym <marvosym.pfb]

Thanks, I updated http://tug.org/texlive/bugs.html.  Let me know if I
messed up in transcribing.

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Sat Mar  3 00:42:37 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Fri, 02 Mar 2007 23:42:37 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: <200703022103.l22L3DS22369@f7.net>
References: <200703022103.l22L3DS22369@f7.net>
Message-ID: <45E8B66D.1050903@Royal-Tunbridge-Wells.Org>



Karl Berry wrote:

> I don't see it as a special case, just an alternative method of
> acquiring the software.

There now :

	http://thepiratebay.org/tor/3630644/TeX_Live_(Live)_2007

No signs of any activity yet ...

** P.

From Robin.Fairbairns at cl.cam.ac.uk  Fri Mar  2 23:34:15 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 02 Mar 2007 22:34:15 +0000
Subject: [tex-live] hosting inst image
In-Reply-To: Your message of Fri, 02 Mar 2007 20:55:24 +0000.
	<45E88F3C.8010906@Royal-Tunbridge-Wells.Org> 
Message-ID: <1409.1172874855@cl.cam.ac.uk>

Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> wrote:

> But why ?  In your original message, which sparked all
> this activity, you wrote :
> 
> 	Due to bandwidth concerns, we can no longer afford to have the inst
> 	image on ftp://tug.org for public consumption.  Despite semi-hiding it
> 	from view and my disrecommending it for use, it's found by too many people.#
> 
> If it's only the .inst image which you have pulled,
> is there real benefit to be had from making the .live
> image available via BT ?

the .inst. image was pulled because it was the straw that broke the
camel's back.  it's not to say that the (much larger) .live. image isn't
also a real bother, just that we're just about coping.

admittedly, the traffic is declining a bit, now that the "must have it
today" brigade have (presumably) got their dose; but i for one am
definitely struggling still (it was the new mactex yesterday -- who's to
say what will be gobbling my bandwidth tomorrow?).

> I can see (as I've said earlier in this thread) that
> I can foresee the time when CTAN itself will become a
> vast network of BT nodes, but is there real benefit in
> treating the whole of TeX Live as a special case, or
> is it better to stick to what we have at the moment,
> which is .inst via BT or .CZ, and .live via FTP from
> Tug.Org ?

i'm regarding it as a port in a storm, just now.  i tend to be wary of
all these p2p things, and remain to be convinced of bittorrent.  (of
course, i haven't actually read the papers about the protocol yet...)

i doubt that distribution of any software on which people rely can do
entirely without some sort of central control; however, it's not really
my issue.  it's not going to be all that long before i'm out of this
game for ever...

robin


From martin at oneiros.de  Sat Mar  3 01:17:51 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 3 Mar 2007 01:17:51 +0100
Subject: [tex-live] troubles with texlive 2007 + mathtime + lucida
In-Reply-To: <200703022333.l22NXht26191@f7.net>
References: <45E68FB9.1030105@elvenkind.com> <200703022333.l22NXht26191@f7.net>
Message-ID: <68c491a60703021617w2c43acd5he9e37146cb2ad3a8@mail.gmail.com>

2007/3/3, Karl Berry <karl at freefriends.org>:
> But I still think that it would be a mistake to restore them, for all
> the reasons that I initially proposed removing them, and one more: given
> that they have been removed in this release, I can't see that it will
> help anyone at all to restore them in the future.  Anyone troubled by
> their removal will have already dealt with the issue, so putting them
> back would just create more trouble.

The problem with the evolution of lucida's TeX integration over the
years is that old documents (e.g. from 1996) will either not work
anymore or silently(!) produce different results now (if they use
OT1). Neither is acceptable. I understand the desire to introduce new
features, but not breaking old documents should be a priority.

Best
   Martin

From kakuto at fsci.fuk.kindai.ac.jp  Sat Mar  3 01:29:29 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 03 Mar 2007 09:29:29 +0900
Subject: [tex-live] Problem with russian fonts in TexLive 2007
In-Reply-To: Your message of "Fri, 2 Mar 2007 17:12:22 -0600"
References: <200703022312.l22NCMF21630@f7.net>
Message-ID: <200703030029.l230TUBl010741@jupiter.fsci.fuk.kindai.ac.jp>

>     mktextfm must be called also on Windows.
> 
> The question is whether it is called *automatically*.

It is called automatically.
(I don't remember default values for each program.)
If something does not work, please enable mktex* programs
explicitly by editing texmf.cnf:

MKTEXPK = 1
MKTEXMF = 1
MKTEXTFM = 1
MKTEXFMT = 1

Thanks,
Akira

From subasan at mail.ru  Sat Mar  3 01:57:48 2007
From: subasan at mail.ru (Andrey Astafiev)
Date: Sat, 03 Mar 2007 03:57:48 +0300
Subject: [tex-live] Problem with russian fonts in TexLive 2007
In-Reply-To: <200703030029.l230TUBl010741@jupiter.fsci.fuk.kindai.ac.jp>
References: <200703022312.l22NCMF21630@f7.net>
	<200703030029.l230TUBl010741@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <45E8C80C.8050309@mail.ru>

Akira Kakuto ?????:
>>     mktextfm must be called also on Windows.
>>
>> The question is whether it is called *automatically*.
> 
> It is called automatically.
> (I don't remember default values for each program.)
> If something does not work, please enable mktex* programs
> explicitly by editing texmf.cnf:	
> 
> MKTEXPK = 1
> MKTEXMF = 1
> MKTEXTFM = 1
> MKTEXFMT = 1

With these settings fonts are generated but looking ugly.

From reinhard.kotucha at web.de  Sat Mar  3 03:00:31 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 3 Mar 2007 03:00:31 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <45E89B15.2070108@Royal-Tunbridge-Wells.Org>
References: <200703021949.l22Jnwn05890@f7.net> <87d53rid4i.fsf@florent.maison>
	<45E89B15.2070108@Royal-Tunbridge-Wells.Org>
Message-ID: <17896.54975.173927.260949@zarniwoop.ms25.local>

>>>>> "Philip" == Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> writes:

  > Don't really understand MD5s, but is there any benefit in listing
  > what BT terms the "Infohash", which I suspect is BTs way of
  > determining (a) authenticity, and (b) completeness ?

If BT provides its own facilities to check for authenticity and
completeness md5sum is probably not needed.

  >  If so, for .inst, the value is

  > 	081c74403c5fe795593af8026f44a7c03c174e04

  > E&OE (I had to type it in by hand ...).

A <filename>.md5 file usually contains lines like:

<checksum>  <filename>

If you have the md5sum program, all you have to do is to run:

md5sum --check <filename>.md5

I'm sure that GNU md5sum can be compiled on Windows in a MinGW
environment quite easily.

If someone provides a Windows binary we can put it to the TeXLive
support directory.  Tools like this are quite useful and in particular
md5sum is a very useful tool and it is quite small (in respect of disk
usage).

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From karl at freefriends.org  Fri Mar  2 19:37:56 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2007 12:37:56 -0600
Subject: [tex-live] dynamic linking on linux-i386
In-Reply-To: <68c491a60703020157t615fcd1cg44f54b12d801477e@mail.gmail.com>
Message-ID: <200703021837.l22IbuU17412@f7.net>

Thanks for the report.  As Martin says, libstdc++ should be statically
linked for the lcdf tools, like pdftex.

If anyone has any time and inclination to figure out the configure/make
changes (and send diffs back to Eddie), that would be great.  Otherwise,
I'll get to it when I can.

This was actually reported earlier (maybe even by you :), but it was too
late in the process to figure it out and rebuild the binaries.
lcdf-typetools has always been dynamically linked, so at least this
year's release is no worse than before.

As for kpathsea, it certainly is included in texlive -- as source.  If
you run "sh Build" from the top level source/ directory, it should all
get made.

karl

From oberdiek at uni-freiburg.de  Sat Mar  3 05:05:34 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sat, 3 Mar 2007 05:05:34 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <17896.54975.173927.260949@zarniwoop.ms25.local>
References: <200703021949.l22Jnwn05890@f7.net> <87d53rid4i.fsf@florent.maison>
	<45E89B15.2070108@Royal-Tunbridge-Wells.Org>
	<17896.54975.173927.260949@zarniwoop.ms25.local>
Message-ID: <20070303040534.GA13887@irwin.vpn.uni-freiburg.de>

On Sat, Mar 03, 2007 at 03:00:31AM +0100, Reinhard Kotucha wrote:

> If you have the md5sum program, all you have to do is to run:
> 
> md5sum --check <filename>.md5
> 
> I'm sure that GNU md5sum can be compiled on Windows in a MinGW
> environment quite easily.
> 
> If someone provides a Windows binary we can put it to the TeXLive
> support directory.  Tools like this are quite useful and in particular
> md5sum is a very useful tool and it is quite small (in respect of disk
> usage).

Also pdfTeX can calculate md5 values:
  pdftex '\message{\pdfmdfivesum file{<filename>}}\end'

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From karl at freefriends.org  Fri Mar  2 22:21:17 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2007 15:21:17 -0600
Subject: [tex-live] hosting inst image
In-Reply-To: <87d53rid4i.fsf@florent.maison>
Message-ID: <200703022121.l22LLH026619@f7.net>

    I think it would be highly desirable to display at least the MD5
    checksum of the image

Sounds good, I added a link.  Thanks.

From karl at freefriends.org  Fri Mar  2 22:03:13 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 2 Mar 2007 15:03:13 -0600
Subject: [tex-live] hosting inst image
In-Reply-To: <45E88F3C.8010906@Royal-Tunbridge-Wells.Org>
Message-ID: <200703022103.l22L3DS22369@f7.net>

     .live via FTP from Tug.Org ?

Actually .live is (primarily) from ctan, not tug.org.  That's why there
was the tug bandwidth issue was only for inst.  (It wasn't that more
people overall wanted inst than live!)

    is there real benefit to be had from making the .live
    image available via BT ?

My thinking was that, if enough people participate in the live torrent,
downloading it via torrent would become faster than CTAN.  And that
would be good for users.  We've wanted to have torrents for TL all along.

Another reason, regardless of speed, is that some people prefer torrents
(judging by the slow-but-steady stream of requests for it).  And if inst
is the only thing that is available that way, that is what they will
download.

I don't see it as a special case, just an alternative method of
acquiring the software.

Ok?

Thanks,
Karl

From f.rougon at free.fr  Sat Mar  3 11:23:34 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Sat, 03 Mar 2007 11:23:34 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <17896.54975.173927.260949@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Sat, 3 Mar 2007 03:00:31 +0100")
References: <200703021949.l22Jnwn05890@f7.net> <87d53rid4i.fsf@florent.maison>
	<45E89B15.2070108@Royal-Tunbridge-Wells.Org>
	<17896.54975.173927.260949@zarniwoop.ms25.local>
Message-ID: <87k5xy8w2h.fsf@florent.maison>

Hi,

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> If BT provides its own facilities to check for authenticity and
> completeness md5sum is probably not needed.

I disagree. Who controls BT? Not any member of tug.org, AFAIK.
Therefore, I trust tug.org to provide a valid checksum, but not BT.

To make it clear, would you feel safe downloading the ISO image from
some obscure dictatorship's government website, with no means to check
its authenticity? I wouldn't. It may be that BT people don't have bad
intentions. Frankly, I don't know; I've never checked, not even used
their protocol. But even then, they could have been cracked and not be
aware of it. Since the authoritative source for TL is tug.org, the best
way not to degrade security from this point on is to publish checksums
on tug.org.

[ Even better would be to have them signed by an OpenPGP key from Karl
  (e.g., with GnuPG), which would be "transitively signed" by your own
  key, a key being signed only when you have made your best to ensure
  the key belongs to the person whose name and email address(es) are
  listed on it, which normally means meeting the person in real life and
  checking her ID document. cf. the "web of trust". ]

-- 
Florent

From taco at elvenkind.com  Sat Mar  3 11:27:31 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 03 Mar 2007 11:27:31 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <45E8B66D.1050903@Royal-Tunbridge-Wells.Org>
References: <200703022103.l22L3DS22369@f7.net>
	<45E8B66D.1050903@Royal-Tunbridge-Wells.Org>
Message-ID: <45E94D93.4080904@elvenkind.com>

Philip & Le Khanh wrote:
> 
> 
> Karl Berry wrote:
> 
>> I don't see it as a special case, just an alternative method of
>> acquiring the software.
> 
> There now :
> 
>     http://thepiratebay.org/tor/3630644/TeX_Live_(Live)_2007

I am fetching this torrent now.

Does anybody know the bittorrent command-line incantation to use for
seeding back? If I had that, I could start the client in seed-only
mode from an initialization script (I tend to forget to start the GUI
client).

Best wishes,

Taco

From dak at gnu.org  Sat Mar  3 08:50:30 2007
From: dak at gnu.org (David Kastrup)
Date: Sat, 03 Mar 2007 08:50:30 +0100
Subject: [tex-live] troubles with texlive 2007 + mathtime + lucida
In-Reply-To: <68c491a60703021617w2c43acd5he9e37146cb2ad3a8@mail.gmail.com>
	(Martin =?iso-8859-1?Q?Schr=F6der's?= message of "Sat\, 3 Mar 2007
	01\:17\:51 +0100")
References: <45E68FB9.1030105@elvenkind.com> <200703022333.l22NXht26191@f7.net>
	<68c491a60703021617w2c43acd5he9e37146cb2ad3a8@mail.gmail.com>
Message-ID: <85odna3gvt.fsf@lola.goethe.zz>

"Martin Schr?der" <martin at oneiros.de> writes:

> 2007/3/3, Karl Berry <karl at freefriends.org>:
>> But I still think that it would be a mistake to restore them, for all
>> the reasons that I initially proposed removing them, and one more: given
>> that they have been removed in this release, I can't see that it will
>> help anyone at all to restore them in the future.  Anyone troubled by
>> their removal will have already dealt with the issue, so putting them
>> back would just create more trouble.
>
> The problem with the evolution of lucida's TeX integration over the
> years is that old documents (e.g. from 1996) will either not work
> anymore or silently(!) produce different results now (if they use
> OT1). Neither is acceptable. I understand the desire to introduce new
> features, but not breaking old documents should be a priority.

If not "breaking" old documents is priority, don't upgrade TeXlive.
It is silly to expect no bug fixes whatsoever in fonts and/or styles
that could lead to formatting changes.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From martin at oneiros.de  Sat Mar  3 13:08:51 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 3 Mar 2007 13:08:51 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <45E94D93.4080904@elvenkind.com>
References: <200703022103.l22L3DS22369@f7.net>
	<45E8B66D.1050903@Royal-Tunbridge-Wells.Org>
	<45E94D93.4080904@elvenkind.com>
Message-ID: <68c491a60703030408n5c600843r533b6293f0cc3150@mail.gmail.com>

2007/3/3, Taco Hoekwater <taco at elvenkind.com>:
> Does anybody know the bittorrent command-line incantation to use for
> seeding back? If I had that, I could start the client in seed-only
> mode from an initialization script (I tend to forget to start the GUI
> client).

No. I simply downloaded the file from a CTAN mirror and ktorrent is
now happily feeding it back. :-)

Best
   Martin

From bpiguet at teaser.fr  Sat Mar  3 13:06:31 2007
From: bpiguet at teaser.fr (Bruno Piguet)
Date: Sat, 03 Mar 2007 13:06:31 +0100
Subject: [tex-live] hosting inst image
In-Reply-To: <45E94D93.4080904@elvenkind.com>
References: <200703022103.l22L3DS22369@f7.net>	<45E8B66D.1050903@Royal-Tunbridge-Wells.Org>
	<45E94D93.4080904@elvenkind.com>
Message-ID: <45E964C7.80500@teaser.fr>

Taco Hoekwater a ?crit :

> I am fetching this torrent now.

   I am seeding it

> Does anybody know the bittorrent command-line incantation to use for
> seeding back? If I had that, I could start the client in seed-only
> mode from an initialization script (I tend to forget to start the GUI
> client).

    Sorry, I use uTorrent, a gui-base client running on MS-Windows. It 
has been very simple : I downloaded the file from my nearest CTAN mirror 
(about 2h1/2 ), I placed it in the directory to which BT saves
downloads for me, with the exact name spelled in the torrent 
(texlive-live.iso.zip)
     I then added the torrent in the client's torrent list. The program 
recognized the file, computed and checked the hash (against BT hash, not 
TUG's one ;-)), and began the spreading.
     I hope i might be as simple for you as it has been for me.

Bruno.





From gzjjgod at gmail.com  Sat Mar  3 13:54:36 2007
From: gzjjgod at gmail.com (Jjgod Jiang)
Date: Sat, 3 Mar 2007 20:54:36 +0800
Subject: [tex-live] hosting inst image
In-Reply-To: <45E94D93.4080904@elvenkind.com>
References: <200703022103.l22L3DS22369@f7.net>
	<45E8B66D.1050903@Royal-Tunbridge-Wells.Org>
	<45E94D93.4080904@elvenkind.com>
Message-ID: <ddd65cda0703030454l55034882uedde7e7067264e44@mail.gmail.com>

Hi,

2007/3/3, Taco Hoekwater <taco at elvenkind.com>:
> Does anybody know the bittorrent command-line incantation to use for
> seeding back? If I had that, I could start the client in seed-only
> mode from an initialization script (I tend to forget to start the GUI
> client).

Please check out:

http://www.rahul.net/dholmes/ctorrent/

or:

http://www.cyberciti.biz/tips/linux-command-line-bittorrent-client.html

- jjgod.

From karl at freefriends.org  Sat Mar  3 15:46:24 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 3 Mar 2007 08:46:24 -0600
Subject: [tex-live] 2007 tex collection covers
Message-ID: <200703031446.l23EkOE08106@f7.net>

The pdf's and sources for the 2007 TeX Collection covers, as they went
to the production company, are now available at
ftp://tug.org/historic/systems/texlive/2007/packaging/.

They were done by Klaus Hoeppner, as usual.  Thanks Klaus.

karl

From karl at freefriends.org  Sat Mar  3 17:58:22 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 3 Mar 2007 10:58:22 -0600
Subject: [tex-live] 2007 tex collection covers
In-Reply-To: <d0f4811b0703030806r503f747at7dbc7b3735a973df@mail.gmail.com>
Message-ID: <200703031658.l23GwMR07099@f7.net>

    the files seem not to be accessible:

Sorry for my permissions stupidity, didn't check the result after
unpacking.  I think it's fixed now.

From karsten.heymann at googlemail.com  Sat Mar  3 17:06:14 2007
From: karsten.heymann at googlemail.com (Karsten Heymann)
Date: Sat, 3 Mar 2007 17:06:14 +0100
Subject: [tex-live] 2007 tex collection covers
In-Reply-To: <200703031446.l23EkOE08106@f7.net>
References: <200703031446.l23EkOE08106@f7.net>
Message-ID: <d0f4811b0703030806r503f747at7dbc7b3735a973df@mail.gmail.com>

Hi Karl,

2007/3/3, Karl Berry <karl at freefriends.org>:
> The pdf's and sources for the 2007 TeX Collection covers, as they went
> to the production company, are now available at
> ftp://tug.org/historic/systems/texlive/2007/packaging/.

the files seem not to be accessible:

khe at pichon:~> wget
ftp://tug.org/historic/systems/texlive/2007/packaging/TeX-Collection-2006-2007-label.pdf
--17:04:26--  ftp://tug.org/historic/systems/texlive/2007/packaging/TeX-Collection-2006-2007-label.pdf
           => `TeX-Collection-2006-2007-label.pdf'
Resolving tug.org... 130.225.2.178
Connecting to tug.org[130.225.2.178]:21... connected.
Logging in as anonymous ... Logged in!
==> SYST ... done.    ==> PWD ... done.
==> TYPE I ... done.  ==> CWD /historic/systems/texlive/2007/packaging ... done.
==> PASV ... done.    ==> RETR TeX-Collection-2006-2007-label.pdf ...
No such file `TeX-Collection-2006-2007-label.pdf'.

Yours,
Karsten

From karl at freefriends.org  Sat Mar  3 19:21:36 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 3 Mar 2007 12:21:36 -0600
Subject: [tex-live] hosting inst image
In-Reply-To: <45E8B66D.1050903@Royal-Tunbridge-Wells.Org>
Message-ID: <200703031821.l23ILaI29191@f7.net>

            http://thepiratebay.org/tor/3630644/TeX_Live_(Live)_2007

Thanks much.  I added that info to http://tug.org/texlive/acquire.html
amog other places.

From dmitrij.ledkov at gmail.com  Sat Mar  3 20:15:35 2007
From: dmitrij.ledkov at gmail.com (Dima)
Date: Sat, 3 Mar 2007 19:15:35 +0000
Subject: [tex-live] Running Live - no access to C drive
Message-ID: <86ecb3c70703031115r38307068h7a6f3a7fba1034b5@mail.gmail.com>

I have downloaded TexLive 2007 and tried to run it live on university
computer.

But it want to add some files to C:\texlive. My student accound does not
allow me to make any changes at all on c drive, instead I can use my own
private G drive which has limited space for me to use.

Will it be possible to run TexLive 2007 on that machines? There is by the
way some kind of ghostscript/gview installed (found in start/ all apps).

Thank you in advance.

-- 
Dmitrij Ledkov
Email: Dmitrij.Ledkov at Gmail.com
University: D.Ledkovs at hull.ac.uk
Land line:   +44 (0) 8708558871
Cell phone: +44 (0) 7842589801
Skype ID:dmitrij0309
MSN / AIM / Jabber : dmitrij.ledkov at gmail.com

Correspondence addresses in Latvia and UK are available upon request
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070303/c50d35d4/attachment.html 

From karl at freefriends.org  Sat Mar  3 23:25:59 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 3 Mar 2007 16:25:59 -0600
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <86ecb3c70703031115r38307068h7a6f3a7fba1034b5@mail.gmail.com>
Message-ID: <200703032225.l23MPxt25761@f7.net>

    instead I can use my own
    private G drive which has limited space for me to use.

What it needs space for should be only the .fmt files, which should add
up to a few megabytes (depending on how many you need).  If you have
that much available, it should be possible to work it out.  If not, the
only alternative would be to prepare your own CD or DVD with the .fmt
files on it, so that TeX can run entirely from that.  Although there's
been some discussion of this, I'm not aware of any actual distributions
that have been created.

In general, I'm not sure how the Windows installation deals with running
"live" like this.

Sorry I can't be more help,
karl


From reinhard.kotucha at web.de  Sun Mar  4 02:02:41 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 4 Mar 2007 02:02:41 +0100
Subject: [tex-live] TeXLive for Windows, sigh!
Message-ID: <17898.6833.528842.670747@zarniwoop.ms25.local>

At the moment I'm working on the VnTeX installation guide.  I'm trying
to explain people how to install VnTeX on different platforms.  MikTeX
differs a bit from TeXLive but this is not a big problem.

However, the instructions are the same for teTeX, gwTeX, TeXLive for
any UNIX platform, but only "TeXLive for Windows" always needs extra
treatment for no good reason.

I'm quite frustrated now because "TeXLive for Windows" (it has,
politely said, nothing to do with TeXLive), causes so much extra
work.  Explaining how to install VnTeX on "TeXLive for Windows"
confuses people more than it helps.  I tend to remove the "TeXLive for
Windows" stuff from the documentation for this reason.

I still don't know what all the changes are good for.  I'm aware that
"simple users" (whatever this is) had been in mind.  But there is one
point I'm completely unable to understand:

The directory structure of TeXLive is:

texlive/2005
texlive/2007
texlive/texmf-local

"TeXLive for Windows" has:

texlive2005
texlive2005/texmf-local
texlive2007
texlive2007/texmf-local

Can anybody explain what this is good for?  UNIX users can simply
install a new version of TeXLive and all the files in texmf-local are
available.

"Simple users" have to copy the content of texlive2005/texmf-local to
texlive2007/texmf-local ***manually***.  And they probably delete
texmf-local unintentionally when they remove TL-2005.  Why can't
things be on Windows as convenient as on UNIX?  Yes, I know that
"TeXLive for Windows" has "simple users" in mind but the phrase
"simple user" had never been defined, so what is meant?  An idiot, a
masochist, a system administrator, or what?

And, as I already said, I'm quite frustrated.  What I absolutely do
not need at the moment is a mail message which begins with the words
"As I told you many times..." (without any explanation, as usual).

I'm glad that the differences between TeXLive and "TeXLive for
Windows" had been mentioned in the TeXLive documentation.

But did anybody consider that package maintainers have to explain how
to install their stuff on such a (deliberately) crippled system too?
And did anybody notice that it confuses "simple" and normal users?

It's really nice that we have TeXLive and "TeXLive for Windows", two
TeX distributions are better then one, but it doesn't make fun to
explain the useless differences to VnTeX users.  It confuses people
and it is extra work, and I still don't see the benefit.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From potiatpotisdotorg at yahoo.com  Sun Mar  4 05:06:23 2007
From: potiatpotisdotorg at yahoo.com (poti giannakouros)
Date: Sat, 3 Mar 2007 20:06:23 -0800 (PST)
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <200703032225.l23MPxt25761@f7.net>
Message-ID: <812675.83023.qm@web55607.mail.re4.yahoo.com>

Hello Dmitrij,
I don't exactly have an answer for you, but
I am currently trying to do what Karl described. 
My current status is that I cannot view DVI files,
and I cannot use packages. Very simple documents
however, do work. 

In case it helps you, and in case you or someone else 
can help me, here is what I have done so far:

tlmpgui installs material in C:\TexLive2007 and C:\texmf-var. TexLive2007
contains the dvi viewer, ghostscript, and a temp directory, if I recall correctly
(I am not at a PC). In my case, I also needed to change the default paper size 
so I clanged the files indicted at the end of this post and ran 
c:\localtexmf\dvipdfm\config>fmtutil.exe --all
which made about  what had been about 10 megabytes 
in texmf-var become 53 megabytes.

I then moved texmf-var to the directory that would become the root of my DVD.

I use TexLive through emacs, so I set my environment variables in site-lisp/site-start.el
as follows (I am just starting to learn emacs lisp, so corrections are welcome):

(setenv "PATH" (concat (getenv "PATH") 
                       ";D:\\bin\\win32\\gs\\gs8.54\\bin;D:\\bin\\win32\\dviout;D:\\bin\\win32" ))
(setenv "GS_LIB" (concat () "D:\\bin\\win32\\gs\\gs8.54\\lib" ))
(setenv "TLroot" (concat () "D:\\" ))
(setenv "TEXMFVAR" (concat () "D:\\texmf-var" ))
(setenv "TEXMFTEMP" (concat () "C:\\WINDOWS\\Temp" ))
(setenv "TEXMFCNF" (concat () "D:\\texmf-var\\web2c" ))
(setenv "PERL5LIB" (concat () "D:\\perlt\\lib;D:\\perltl\\site\\llib" ))

(custom-set-variables
  ;; custom-set-variables was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 '(exec-path (quote ( "." "D:/Emacs/bin" "D:/bin/win32/gs/gs8.54/bin" "C:/Program Files/Adobe/Acrobat 7.0/Reader/" "D:/GnuWin32/bin" "D:/bin/win32" "D:/bin/win32/dviout")))) 

I edited out some things for readability but think I have all the TeXLive related things.

As it stands, if I try to typeset 
texmf-doc/doc/english/guide-to-latex/demodoc.tex
I get errors regarding latex.fmt not found. Output is produced if I remove the \usepackage lines 
in the header.  Possibly related is the  fact that I cannot used dviout. It looks for fonts on the C drive and the F drive, which was the MO disk on which I prepared the contents of my DVD. Windvi seems 
to work and produces a page that is narrower and taller than my text, making me think that my 
conversion to letter default worked and windvi might work when I fix the arguments with which emacs is calling it. Also,  I cannot get acrobat to launch as a pdf viewer from emacs. 

I hope this helps, and I will post more if I learn more before others can pitch in. 
-Poti

Karl Berry <karl at freefriends.org> wrote:     instead I can use my own
    private G drive which has limited space for me to use.

What it needs space for should be only the .fmt files, which should add
up to a few megabytes (depending on how many you need).  If you have
that much available, it should be possible to work it out.  If not, the
only alternative would be to prepare your own CD or DVD with the .fmt
files on it, so that TeX can run entirely from that.  Although there's
been some discussion of this, I'm not aware of any actual distributions
that have been created.

In general, I'm not sure how the Windows installation deals with running
"live" like this.

Sorry I can't be more help,
karl



 
---------------------------------
The fish are biting.
 Get more visitors on your site using Yahoo! Search Marketing.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070303/fb874bb8/attachment-0001.html 

From potiatpotisdotorg at yahoo.com  Sun Mar  4 06:03:17 2007
From: potiatpotisdotorg at yahoo.com (poti giannakouros)
Date: Sat, 3 Mar 2007 21:03:17 -0800 (PST)
Subject: [tex-live] Win32 run from DVD, customization and paper size
In-Reply-To: <200702100015.l1A0FQE24480@f7.net>
Message-ID: <50124.90589.qm@web55615.mail.re4.yahoo.com>


Karl Berry <karl at freefriends.org> wrote: Hello Poti,

Regarding paper sizes: it is true that the default paper size is 
included in the .fmt files.  Assuming you don't have to simultaneously
both a4 and letter, you should build the .fmt's with the one you need
and include them on your DVD as files like:
texmf-var/web2c/pdftex/pdftex.fmt
texmf-var/web2c/pdftex/pdflatex.fmt

I mentioned posting these files in 'Running Live - no access to C drive,' but
 maybe they are more appropriate here, Intending to make all the formats that 
might be needed by another user, I made the following changes in the files 
indicated:
  c:/TeXLive2007/texmf-var/dvipdfm/config/config
in dvipdfm
I changed
% Set default paper size here
p letter
----------------------------------------------
in  c:/TeXLive2007/texmf-var/dvips/config/config.ps
I moved 
@ letterSize 8.5in 11in
@+ ! %%DocumentPaperSizes: Letter

@ letter 8.5in 11in
@+ ! %%DocumentPaperSizes: Letter
@+ %%BeginPaperSize: Letter
@+ letter
@+ %%EndPaperSize

before
% 0 0 595 842 is the right bounding box that most applications expect
% for A4.  Since dvips always rounds up, choose something slightly smaller.
----------------------------------
in   c:/TeXLive2007/texmf-var/tex/generic/config/pdftexconfig.tex
I changed 
\pdfpagewidth=8.5 true in
\pdfpageheight=11 true in
-----------------------------------
in   c:/TeXLive2007/texmf-var/xdvi/XDvi
*paper: letter
-----------------------------------
I then ran 
c:\localtexmf\dvipdfm\config>fmtutil.exe --all

and moved the resulting texmf-var to the DVD root and changed 
texmf-var to point to it. I am still having some problems that I suspect
are pertinent to others trying to run with no C: drive, as mentioned
in the other thread, but I presume this procedure took care of all my 
paper sizes? 



 
---------------------------------
The fish are biting.
 Get more visitors on your site using Yahoo! Search Marketing.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070303/eddf5021/attachment.html 

From jonathan_kew at sil.org  Sun Mar  4 10:32:58 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sun, 4 Mar 2007 09:32:58 +0000
Subject: [tex-live] TeXLive for Windows, sigh!
In-Reply-To: <17898.6833.528842.670747@zarniwoop.ms25.local>
References: <17898.6833.528842.670747@zarniwoop.ms25.local>
Message-ID: <FC559604-C86F-4CB6-B417-2E25B80AD8BD@sil.org>

On 4 Mar 2007, at 1:02 am, Reinhard Kotucha wrote:

>
> "TeXLive for Windows" has:
>
> texlive2005
> texlive2005/texmf-local
> texlive2007
> texlive2007/texmf-local

I'm puzzled by this. I have never installed TL2005/Windows, but I did  
recently install TL2007 on a Windows machine to test some things. The  
(default) installation gave me c:\texmf-local (an empty "skeleton"  
directory structure) at the root, *not* within the texlive2007  
directory. Admittedly, I installed from the "inst" CD rather than the  
"live" DVD, and this was a few days before the release was actually  
declared final, but I'd be very surprised if this setup changed in  
those last couple of days.

In addition, I know that my basic instructions to a couple of  
complete newcomers, which were based on the assumption that texmf- 
local would be placed at the root, have worked fine for them.

JK


From mhatta at grad.e.u-tokyo.ac.jp  Sat Mar  3 16:20:36 2007
From: mhatta at grad.e.u-tokyo.ac.jp (Masayuki Hatta)
Date: Sun, 04 Mar 2007 00:20:36 +0900
Subject: [tex-live] [www-ptex 163999] Conflicting
	binary/format	names:	platex is polish and japanese
In-Reply-To: <1172147637.7836.26.camel@fleksem>
References: <Pine.LNX.4.44.0702212009280.31003-100000@fam82.internetdsl.tpnet.pl>
	<1172147637.7836.26.camel@fleksem>
Message-ID: <20070303152038.9DE432A8001@marx.e.u-tokyo.ac.jp>

[To whom it may concern: I'm the Debian maintainer of ASCII pTeX
(actually, most of Japanese TeX-related) packages.  Sorry I didn't
reply your mail promptly -- I was away for a while, and busy to catch
things up.]

Dear Marcin (and Staszek),

>>>>> In <1172147637.7836.26.camel at fleksem> 
>>>>>	Marcin Woli?ski <wolinski at mimuw.edu.pl> wrote:

> As the maintainer of platex (the Polish one) I vote for dropping the
> Polish platex format file.  I'm also open to renaming the directory
> in the TeX inputs subtree.

Well, so there are not much left to say.  Let me express my heartful
gratitude to you ;-)

Anyway, I think it's about the time to ask where the ASCII pTeX
development will go.  Do you have any plan to merge pTeX *.ch to the
mainline TeX source?

# I know this needs helluva work.

Best regards,
MH

--
Masayuki Hatta
Graduate School of Economics, The University of Tokyo

From hideak-t at ascii.co.jp  Sat Mar  3 18:04:26 2007
From: hideak-t at ascii.co.jp (Hideaki Togashi)
Date: Sun, 04 Mar 2007 02:04:26 +0900 (JST)
Subject: [tex-live] [www-ptex 164408] Re: Conflicting binary/format
	names: platex	is polish and japanese
In-Reply-To: <20070303152038.9DE432A8001@marx.e.u-tokyo.ac.jp>
References: <Pine.LNX.4.44.0702212009280.31003-100000@fam82.internetdsl.tpnet.pl>
	<1172147637.7836.26.camel@fleksem>
	<20070303152038.9DE432A8001@marx.e.u-tokyo.ac.jp>
Message-ID: <20070304.020426.31102376.hideak-t@ascii.co.jp>

Hello, this is Hideaki Togashi of ASCII Co. in Japan.

Sorry for being late to reply.

From: Masayuki Hatta <mhatta at grad.e.u-tokyo.ac.jp>
Subject: [www-ptex 164408] Re: Conflicting binary/format names: platex is polish and japanese
Date: Sun, 04 Mar 2007 00:20:36 +0900
> Dear Marcin (and Staszek),
> 
> >>>>> In <1172147637.7836.26.camel at fleksem>=20
> >>>>>	Marcin Woli=F1ski <wolinski at mimuw.edu.pl> wrote:
> 
> > As the maintainer of platex (the Polish one) I vote for dropping the
> > Polish platex format file.  I'm also open to renaming the directory
> > in the TeX inputs subtree.
> 
> Well, so there are not much left to say.  Let me express my heartful
> gratitude to you ;-)

We are deeply grateful to you Marcin, too.  And, of cource, the
Japanese pTeX users will also thank you very much about it.  Thank you
again.


> Anyway, I think it's about the time to ask where the ASCII pTeX
> development will go.  Do you have any plan to merge pTeX *.ch to the
> mainline TeX source?
> 
> # I know this needs helluva work.

It's a difficult work, as you know, and I don't think it appropriate
to merge pTeX ch to the mainline TeX source.  It would be better to
let pTeX as it is separated from main trunk of TeX.


But, as someone says, pTeX archive would be better on CTAN.  And this
is the good time to put pTeX archive on CTAN.

This week, I got a basic consent of my boss to put pTeX on CTAN or TeX
Live, if possible.  So we will set about the job for now.

First of all, I <hideak-t at ascii.co.jp> joined to the tex-live ML.  You
can contact me on this ML, too.


Cheers,

-- 
Hideaki Togashi <hideak-t at ascii.co.jp>


From Gerben.Wierda at rna.nl  Sun Mar  4 15:56:22 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun, 4 Mar 2007 15:56:22 +0100
Subject: [tex-live] 2007 tex collection covers
In-Reply-To: <200703031446.l23EkOE08106@f7.net>
References: <200703031446.l23EkOE08106@f7.net>
Message-ID: <58d0f77f6bcfc43cf4250ecad8e4de9d@rna.nl>

On Mar 3, 2007, at 15:46, Karl Berry wrote:

> The pdf's and sources for the 2007 TeX Collection covers, as they went
> to the production company, are now available at
> ftp://tug.org/historic/systems/texlive/2007/packaging/.
>
> They were done by Klaus Hoeppner, as usual.  Thanks Klaus.

I noticed that it says it only contains PowerPC versions for Mac OS X. 
That can't be correct, can it?

G


From gnwiii at gmail.com  Sun Mar  4 21:34:29 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 4 Mar 2007 16:34:29 -0400
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <812675.83023.qm@web55607.mail.re4.yahoo.com>
References: <200703032225.l23MPxt25761@f7.net>
	<812675.83023.qm@web55607.mail.re4.yahoo.com>
Message-ID: <22af238a0703041234x755b9ddav92c125bff41d4dd8@mail.gmail.com>

On 3/4/07, poti giannakouros <potiatpotisdotorg at yahoo.com> wrote:

> Hello Dmitrij,
> I don't exactly have an answer for you, but
> I am currently trying to do what Karl described.
> My current status is that I cannot view DVI files,
> and I cannot use packages. Very simple documents
> however, do work.
>
> In case it helps you, and in case you or someone else
> can help me, here is what I have done so far:
>
> tlmpgui installs material in C:\TexLive2007 and C:\texmf-var. TexLive2007
> contains the dvi viewer, ghostscript, and a temp directory, if I recall
> correctly
> (I am not at a PC). In my case, I also needed to change the default paper
> size
> so I clanged the files indicted at the end of this post and ran
> c:\localtexmf\dvipdfm\config>fmtutil.exe --all
> which made about  what had been about 10 megabytes
> in texmf-var become 53 megabytes.
>
> I then moved texmf-var to the directory that would become the root of my
> DVD.
>
> I use TexLive through emacs, so I set my environment variables in
> site-lisp/site-start.el
> as follows (I am just starting to learn emacs lisp, so corrections are
> welcome):
>
> (setenv "PATH" (concat (getenv "PATH")
>
> ";D:\\bin\\win32\\gs\\gs8.54\\bin;D:\\bin\\win32\\dviout;D:\\bin\\win32"
> ))
> (setenv "GS_LIB" (concat ()
> "D:\\bin\\win32\\gs\\gs8.54\\lib" ))
> (setenv "TLroot" (concat () "D:\\" ))
> (setenv "TEXMFVAR" (concat () "D:\\texmf-var" ))
> (setenv "TEXMFTEMP" (concat () "C:\\WINDOWS\\Temp" ))
> (setenv "TEXMFCNF" (concat () "D:\\texmf-var\\web2c" ))
> (setenv "PERL5LIB" (concat ()
> "D:\\perlt\\lib;D:\\perltl\\site\\llib" ))
>
> (custom-set-variables
>   ;; custom-set-variables was added by Custom.
>   ;; If you edit it by hand, you could mess it up, so be careful.
>   ;; Your init file should contain only one such instance.
>   ;; If there is more than one, they won't work right.
>  '(exec-path (quote ( "." "D:/Emacs/bin" "D:/bin/win32/gs/gs8.54/bin"
> "C:/Program Files/Adobe/Acrobat 7.0/Reader/" "D:/GnuWin32/bin"
> "D:/bin/win32" "D:/bin/win32/dviout"))))
>
> I edited out some things for readability but think I have all the TeXLive
> related things.
>
> As it stands, if I try to typeset
> texmf-doc/doc/english/guide-to-latex/demodoc.tex
> I get errors regarding latex.fmt not found. Output is produced if I remove
> the \usepackage lines
> in the header.  Possibly related is the  fact that I cannot used dviout. It
> looks for fonts on the C drive and the F drive, which was the MO disk on
> which I prepared the contents of my DVD. Windvi seems
> to work and produces a page that is narrower and taller than my text, making
> me think that my
> conversion to letter default worked and windvi might work when I fix the
> arguments with which emacs is calling it. Also,  I cannot get acrobat to
> launch as a pdf viewer from emacs.
>
> I hope this helps, and I will post more if I learn more before others can
> pitch in.

It sounds like you have a good start.  Emacs is helpful because you can
run commands in a *shell* window and capture many pages of output
for analysis.  There are several ways to debug tex file searching. In
my experience most problems are caused not by missing files, but by
tex finding the "wrong" file -- often an older version left in a
user's personal texmf tree or mixed in with the source files.

I have a couple concerns, however.  What happens if the DVD
reader isn't drive D:?  It should be possible to put a live tree on
DVD, a network drive, or a USB disk.  Do you have to burn a DVD in
order to test the setup?

There have been postings on configuring emacs to use the "pdfopen" and
"pdfclose" utilities to ensure that acroread doesn't keep a .pdf file
open while your are trying to write over it.  This didn't work
reliably for me a year ago -- emacs would randomly hang when launching
acroread.  Maybe things are better now (which version are you using?)

Dviout is normally independent of the TeX distribution, so the
configuration isn't tied to the changes you make for TL.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From dmitrij.ledkov at gmail.com  Sun Mar  4 23:08:29 2007
From: dmitrij.ledkov at gmail.com (Dima)
Date: Sun, 4 Mar 2007 22:08:29 +0000
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <22af238a0703041234x755b9ddav92c125bff41d4dd8@mail.gmail.com>
References: <200703032225.l23MPxt25761@f7.net>
	<812675.83023.qm@web55607.mail.re4.yahoo.com>
	<22af238a0703041234x755b9ddav92c125bff41d4dd8@mail.gmail.com>
Message-ID: <86ecb3c70703041408w1d010a8sd8892efa255acb2c@mail.gmail.com>

As far as I understand now:

1) it is possible to avoid using C drive during initial small preference
installation to run Tex Live of DVD

2) In order to do this you need to generate those preference/must have files
first and put them somewhere the DVD can access it ie the DVD itself or
flash drive or like network drive

If 1 and 2 are right can someone please explain in detail step/by step how
to achieve this. And is there a simple procedure to do that (ie some exe
program which will do all of that)???? BTW i know nothing about emacs.

On 3/4/07, George N. White III <gnwiii at gmail.com> wrote:
>
> On 3/4/07, poti giannakouros <potiatpotisdotorg at yahoo.com> wrote:
>
> > Hello Dmitrij,
> > I don't exactly have an answer for you, but
> > I am currently trying to do what Karl described.
> > My current status is that I cannot view DVI files,
> > and I cannot use packages. Very simple documents
> > however, do work.
> >
> > In case it helps you, and in case you or someone else
> > can help me, here is what I have done so far:
> >
> > tlmpgui installs material in C:\TexLive2007 and C:\texmf-var.
> TexLive2007
> > contains the dvi viewer, ghostscript, and a temp directory, if I recall
> > correctly
> > (I am not at a PC). In my case, I also needed to change the default
> paper
> > size
> > so I clanged the files indicted at the end of this post and ran
> > c:\localtexmf\dvipdfm\config>fmtutil.exe --all
> > which made about  what had been about 10 megabytes
> > in texmf-var become 53 megabytes.
> >
> > I then moved texmf-var to the directory that would become the root of my
> > DVD.
> >
> > I use TexLive through emacs, so I set my environment variables in
> > site-lisp/site-start.el
> > as follows (I am just starting to learn emacs lisp, so corrections are
> > welcome):
> >
> > (setenv "PATH" (concat (getenv "PATH")
> >
> > ";D:\\bin\\win32\\gs\\gs8.54\\bin;D:\\bin\\win32\\dviout;D:\\bin\\win32"
> > ))
> > (setenv "GS_LIB" (concat ()
> > "D:\\bin\\win32\\gs\\gs8.54\\lib" ))
> > (setenv "TLroot" (concat () "D:\\" ))
> > (setenv "TEXMFVAR" (concat () "D:\\texmf-var" ))
> > (setenv "TEXMFTEMP" (concat () "C:\\WINDOWS\\Temp" ))
> > (setenv "TEXMFCNF" (concat () "D:\\texmf-var\\web2c" ))
> > (setenv "PERL5LIB" (concat ()
> > "D:\\perlt\\lib;D:\\perltl\\site\\llib" ))
> >
> > (custom-set-variables
> >   ;; custom-set-variables was added by Custom.
> >   ;; If you edit it by hand, you could mess it up, so be careful.
> >   ;; Your init file should contain only one such instance.
> >   ;; If there is more than one, they won't work right.
> >  '(exec-path (quote ( "." "D:/Emacs/bin" "D:/bin/win32/gs/gs8.54/bin"
> > "C:/Program Files/Adobe/Acrobat 7.0/Reader/" "D:/GnuWin32/bin"
> > "D:/bin/win32" "D:/bin/win32/dviout"))))
> >
> > I edited out some things for readability but think I have all the
> TeXLive
> > related things.
> >
> > As it stands, if I try to typeset
> > texmf-doc/doc/english/guide-to-latex/demodoc.tex
> > I get errors regarding latex.fmt not found. Output is produced if I
> remove
> > the \usepackage lines
> > in the header.  Possibly related is the  fact that I cannot used dviout.
> It
> > looks for fonts on the C drive and the F drive, which was the MO disk on
> > which I prepared the contents of my DVD. Windvi seems
> > to work and produces a page that is narrower and taller than my text,
> making
> > me think that my
> > conversion to letter default worked and windvi might work when I fix the
> > arguments with which emacs is calling it. Also,  I cannot get acrobat to
> > launch as a pdf viewer from emacs.
> >
> > I hope this helps, and I will post more if I learn more before others
> can
> > pitch in.
>
> It sounds like you have a good start.  Emacs is helpful because you can
> run commands in a *shell* window and capture many pages of output
> for analysis.  There are several ways to debug tex file searching. In
> my experience most problems are caused not by missing files, but by
> tex finding the "wrong" file -- often an older version left in a
> user's personal texmf tree or mixed in with the source files.
>
> I have a couple concerns, however.  What happens if the DVD
> reader isn't drive D:?  It should be possible to put a live tree on
> DVD, a network drive, or a USB disk.  Do you have to burn a DVD in
> order to test the setup?
>
> There have been postings on configuring emacs to use the "pdfopen" and
> "pdfclose" utilities to ensure that acroread doesn't keep a .pdf file
> open while your are trying to write over it.  This didn't work
> reliably for me a year ago -- emacs would randomly hang when launching
> acroread.  Maybe things are better now (which version are you using?)
>
> Dviout is normally independent of the TeX distribution, so the
> configuration isn't tied to the changes you make for TL.
>
> --
> George N. White III <aa056 at chebucto.ns.ca>
> Head of St. Margarets Bay, Nova Scotia
>



-- 
Dmitrij Ledkov
Email: Dmitrij.Ledkov at Gmail.com
University: D.Ledkovs at hull.ac.uk
Land line:   +44 (0) 8708558871
Cell phone: +44 (0) 7842589801
Skype ID:dmitrij0309
MSN / AIM / Jabber : dmitrij.ledkov at gmail.com

Correspondence addresses in Latvia and UK are available upon request
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070304/79c5d1d1/attachment.html 

From dmitrij.ledkov at gmail.com  Sun Mar  4 23:11:56 2007
From: dmitrij.ledkov at gmail.com (Dima)
Date: Sun, 4 Mar 2007 22:11:56 +0000
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <86ecb3c70703041408w1d010a8sd8892efa255acb2c@mail.gmail.com>
References: <200703032225.l23MPxt25761@f7.net>
	<812675.83023.qm@web55607.mail.re4.yahoo.com>
	<22af238a0703041234x755b9ddav92c125bff41d4dd8@mail.gmail.com>
	<86ecb3c70703041408w1d010a8sd8892efa255acb2c@mail.gmail.com>
Message-ID: <86ecb3c70703041411r45429194g7f53f4b895bdba17@mail.gmail.com>

BTW I don't really care about DVI output i'm only using pdf outputs.

On 3/4/07, Dima <dmitrij.ledkov at gmail.com> wrote:
>
>
> As far as I understand now:
>
> 1) it is possible to avoid using C drive during initial small preference
> installation to run Tex Live of DVD
>
> 2) In order to do this you need to generate those preference/must have
> files first and put them somewhere the DVD can access it ie the DVD itself
> or flash drive or like network drive
>
> If 1 and 2 are right can someone please explain in detail step/by step how
> to achieve this. And is there a simple procedure to do that (ie some exe
> program which will do all of that)???? BTW i know nothing about emacs.
>
> On 3/4/07, George N. White III <gnwiii at gmail.com> wrote:
> >
> > On 3/4/07, poti giannakouros <potiatpotisdotorg at yahoo.com> wrote:
> >
> > > Hello Dmitrij,
> > > I don't exactly have an answer for you, but
> > > I am currently trying to do what Karl described.
> > > My current status is that I cannot view DVI files,
> > > and I cannot use packages. Very simple documents
> > > however, do work.
> > >
> > > In case it helps you, and in case you or someone else
> > > can help me, here is what I have done so far:
> > >
> > > tlmpgui installs material in C:\TexLive2007 and C:\texmf-var.
> > TexLive2007
> > > contains the dvi viewer, ghostscript, and a temp directory, if I
> > recall
> > > correctly
> > > (I am not at a PC). In my case, I also needed to change the default
> > paper
> > > size
> > > so I clanged the files indicted at the end of this post and ran
> > > c:\localtexmf\dvipdfm\config>fmtutil.exe --all
> > > which made about  what had been about 10 megabytes
> > > in texmf-var become 53 megabytes.
> > >
> > > I then moved texmf-var to the directory that would become the root of
> > my
> > > DVD.
> > >
> > > I use TexLive through emacs, so I set my environment variables in
> > > site-lisp/site-start.el
> > > as follows (I am just starting to learn emacs lisp, so corrections are
> >
> > > welcome):
> > >
> > > (setenv "PATH" (concat (getenv "PATH")
> > >
> > >
> > ";D:\\bin\\win32\\gs\\gs8.54\\bin;D:\\bin\\win32\\dviout;D:\\bin\\win32"
> > > ))
> > > (setenv "GS_LIB" (concat ()
> > > "D:\\bin\\win32\\gs\\gs8.54\\lib" ))
> > > (setenv "TLroot" (concat () "D:\\" ))
> > > (setenv "TEXMFVAR" (concat () "D:\\texmf-var" ))
> > > (setenv "TEXMFTEMP" (concat () "C:\\WINDOWS\\Temp" ))
> > > (setenv "TEXMFCNF" (concat () "D:\\texmf-var\\web2c" ))
> > > (setenv "PERL5LIB" (concat ()
> > > "D:\\perlt\\lib;D:\\perltl\\site\\llib" ))
> > >
> > > (custom-set-variables
> > >   ;; custom-set-variables was added by Custom.
> > >   ;; If you edit it by hand, you could mess it up, so be careful.
> > >   ;; Your init file should contain only one such instance.
> > >   ;; If there is more than one, they won't work right.
> > >  '(exec-path (quote ( "." "D:/Emacs/bin" "D:/bin/win32/gs/gs8.54/bin"
> > > "C:/Program Files/Adobe/Acrobat 7.0/Reader/" "D:/GnuWin32/bin"
> > > "D:/bin/win32" "D:/bin/win32/dviout"))))
> > >
> > > I edited out some things for readability but think I have all the
> > TeXLive
> > > related things.
> > >
> > > As it stands, if I try to typeset
> > > texmf-doc/doc/english/guide-to-latex/demodoc.tex
> > > I get errors regarding latex.fmt not found. Output is produced if I
> > remove
> > > the \usepackage lines
> > > in the header.  Possibly related is the  fact that I cannot used
> > dviout. It
> > > looks for fonts on the C drive and the F drive, which was the MO disk
> > on
> > > which I prepared the contents of my DVD. Windvi seems
> > > to work and produces a page that is narrower and taller than my text,
> > making
> > > me think that my
> > > conversion to letter default worked and windvi might work when I fix
> > the
> > > arguments with which emacs is calling it. Also,  I cannot get acrobat
> > to
> > > launch as a pdf viewer from emacs.
> > >
> > > I hope this helps, and I will post more if I learn more before others
> > can
> > > pitch in.
> >
> > It sounds like you have a good start.  Emacs is helpful because you can
> > run commands in a *shell* window and capture many pages of output
> > for analysis.  There are several ways to debug tex file searching. In
> > my experience most problems are caused not by missing files, but by
> > tex finding the "wrong" file -- often an older version left in a
> > user's personal texmf tree or mixed in with the source files.
> >
> > I have a couple concerns, however.  What happens if the DVD
> > reader isn't drive D:?  It should be possible to put a live tree on
> > DVD, a network drive, or a USB disk.  Do you have to burn a DVD in
> > order to test the setup?
> >
> > There have been postings on configuring emacs to use the "pdfopen" and
> > "pdfclose" utilities to ensure that acroread doesn't keep a .pdf file
> > open while your are trying to write over it.  This didn't work
> > reliably for me a year ago -- emacs would randomly hang when launching
> > acroread.  Maybe things are better now (which version are you using?)
> >
> > Dviout is normally independent of the TeX distribution, so the
> > configuration isn't tied to the changes you make for TL.
> >
> > --
> > George N. White III <aa056 at chebucto.ns.ca>
> > Head of St. Margarets Bay, Nova Scotia
> >
>
>
>
> --
> Dmitrij Ledkov
> Email: Dmitrij.Ledkov at Gmail.com
> University: D.Ledkovs at hull.ac.uk
> Land line:   +44 (0) 8708558871
> Cell phone: +44 (0) 7842589801
> Skype ID:dmitrij0309
> MSN / AIM / Jabber : dmitrij.ledkov at gmail.com
>
> Correspondence addresses in Latvia and UK are available upon request
>



-- 
Dmitrij Ledkov
Email: Dmitrij.Ledkov at Gmail.com
University: D.Ledkovs at hull.ac.uk
Land line:   +44 (0) 8708558871
Cell phone: +44 (0) 7842589801
Skype ID:dmitrij0309
MSN / AIM / Jabber : dmitrij.ledkov at gmail.com

Correspondence addresses in Latvia and UK are available upon request
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070304/99edfd9f/attachment-0001.html 

From karl at freefriends.org  Sun Mar  4 23:27:28 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 4 Mar 2007 16:27:28 -0600
Subject: [tex-live] 2007 tex collection covers
In-Reply-To: <58d0f77f6bcfc43cf4250ecad8e4de9d@rna.nl>
Message-ID: <200703042227.l24MRSZ17062@f7.net>

    I noticed that it says it only contains PowerPC versions for Mac OS X. 
    That can't be correct, can it?

As stated before ...
inst has only powerpc-darwin.
live has both powerpc-darwin and i386-darwin.

I hope all the covers and labels accurately reflect that.

karl

From klaus at dante.de  Sun Mar  4 23:37:22 2007
From: klaus at dante.de (Klaus Hoeppner)
Date: Sun, 04 Mar 2007 23:37:22 +0100
Subject: [tex-live] 2007 tex collection covers
In-Reply-To: <200703042227.l24MRSZ17062@f7.net>
References: <200703042227.l24MRSZ17062@f7.net>
Message-ID: <45EB4A22.4030506@dante.de>

Hi,

> As stated before ...
> inst has only powerpc-darwin.
> live has both powerpc-darwin and i386-darwin.
>
> I hope all the covers and labels accurately reflect that.
>   

As far as I see, they do.

Regards
Klaus

From reinhard.kotucha at web.de  Sun Mar  4 23:53:16 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 4 Mar 2007 23:53:16 +0100
Subject: [tex-live] TeXLive for Windows, sigh!
In-Reply-To: <FC559604-C86F-4CB6-B417-2E25B80AD8BD@sil.org>
References: <17898.6833.528842.670747@zarniwoop.ms25.local>
	<FC559604-C86F-4CB6-B417-2E25B80AD8BD@sil.org>
Message-ID: <17899.19932.383834.681244@zarniwoop.ms25.local>

>>>>> "Jonathan" == Jonathan Kew <jonathan_kew at sil.org> writes:

  > On 4 Mar 2007, at 1:02 am, Reinhard Kotucha wrote:
  >>  "TeXLive for Windows" has:
  >> 
  >> texlive2005 
  >> texlive2005/texmf-local
  >> texlive2007
  >> texlive2007/texmf-local

  > I'm puzzled by this. I have never installed TL2005/Windows, but I
  > did recently install TL2007 on a Windows machine to test some
  > things. The (default) installation gave me c:\texmf-local (an
  > empty "skeleton" directory structure) at the root, *not* within
  > the texlive2007 directory. Admittedly, I installed from the "inst"
  > CD rather than the "live" DVD, and this was a few days before the
  > release was actually declared final, but I'd be very surprised if
  > this setup changed in those last couple of days.

I just looked into texmf.cnf-4WIN and it seems that it had been
changed *before* you installed it.  I did not burn a CD yet
to install TL at work, hence at the moment I can only look into
texmf.cnf-4WIN.  Apparently users will not remove texmf-local
accidentally id they remove texlive2007 (but they bave to be careful
when they remove texlive2005). 

I'm wondering about this change because this is probably not exactly
what Staszek intended.  He does not want to have TL related
directories outside the TL tree.  The problem is that there is a
directory texlive2007 and not texlive/2007 as on UNIX.

I recommend the UNIX directory structure because it's better to have
all TeX related files in one directory.  It's easier then to move
texlive to another partition or a new disk.  It's also more correct
because texmf-local depends on $SELFAUTOPARENT.

As far as I remember Staszek had been concerned about filesystem
efficiency but I doubt that it makes a big difference, especially
because Pawel does not want to support ancient versions of Windows
anyway.

Regards,
  Reinhard 

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From siepo at cybercomm.nl  Sun Mar  4 22:38:44 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sun, 4 Mar 2007 22:38:44 +0100
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <812675.83023.qm@web55607.mail.re4.yahoo.com>
References: <200703032225.l23MPxt25761@f7.net>
	<812675.83023.qm@web55607.mail.re4.yahoo.com>
Message-ID: <20070304213843.GB8065@molly>

On Sat, Mar 03, 2007 at 08:06:23PM -0800, poti giannakouros wrote:
> Hello Dmitrij,
> I don't exactly have an answer for you, but
> I am currently trying to do what Karl described. 
> My current status is that I cannot view DVI files,
> and I cannot use packages. Very simple documents
> however, do work. 
> 
> In case it helps you, and in case you or someone else 
> can help me, here is what I have done so far:
> 
> tlmpgui installs material in C:\TexLive2007 and C:\texmf-var. TexLive2007
> contains the dvi viewer, ghostscript, and a temp directory, if I recall correctly
> (I am not at a PC). In my case, I also needed to change the default paper size 
> so I clanged the files indicted at the end of this post and ran 
> c:\localtexmf\dvipdfm\config>fmtutil.exe --all
> which made about  what had been about 10 megabytes 
> in texmf-var become 53 megabytes.
> 
> I then moved texmf-var to the directory that would become the root of my DVD.
> 
> I use TexLive through emacs, so I set my environment variables in site-lisp/site-start.el
> as follows (I am just starting to learn emacs lisp, so corrections are welcome):
> 
> (setenv "PATH" (concat (getenv "PATH") 
>                        ";D:\\bin\\win32\\gs\\gs8.54\\bin;D:\\bin\\win32\\dviout;D:\\bin\\win32" ))
> (setenv "GS_LIB" (concat () "D:\\bin\\win32\\gs\\gs8.54\\lib" ))
> (setenv "TLroot" (concat () "D:\\" ))
> (setenv "TEXMFVAR" (concat () "D:\\texmf-var" ))
> (setenv "TEXMFTEMP" (concat () "C:\\WINDOWS\\Temp" ))
> (setenv "TEXMFCNF" (concat () "D:\\texmf-var\\web2c" ))
> (setenv "PERL5LIB" (concat () "D:\\perlt\\lib;D:\\perltl\\site\\llib" ))
> 
> (custom-set-variables
>   ;; custom-set-variables was added by Custom.
>   ;; If you edit it by hand, you could mess it up, so be careful.
>   ;; Your init file should contain only one such instance.
>   ;; If there is more than one, they won't work right.
>  '(exec-path (quote ( "." "D:/Emacs/bin" "D:/bin/win32/gs/gs8.54/bin" "C:/Program Files/Adobe/Acrobat 7.0/Reader/" "D:/GnuWin32/bin" "D:/bin/win32" "D:/bin/win32/dviout")))) 
> 
> I edited out some things for readability but think I have all the TeXLive related things.

Of course you could also set environment variables via Settings /
Control Panel System / Advanced tab / Environment variables.

It might be a good idea if, for a dvd install, the installer asked
for a location of the private stuff.

-- 
Siep Kroonenberg

From potiatpotisdotorg at yahoo.com  Mon Mar  5 02:35:42 2007
From: potiatpotisdotorg at yahoo.com (poti giannakouros)
Date: Sun, 4 Mar 2007 17:35:42 -0800 (PST)
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <86ecb3c70703041408w1d010a8sd8892efa255acb2c@mail.gmail.com>
Message-ID: <720499.71841.qm@web55614.mail.re4.yahoo.com>



Dima <dmitrij.ledkov at gmail.com> wrote: 
As far as I understand now:

1) it is possible to avoid using C drive during initial small preference installation to run Tex Live of DVD

2) In order to do this you need to generate those preference/must have files first and put them somewhere the DVD can access it ie the DVD itself or flash drive or like network drive 

If 1 and 2 are right can someone please explain in detail step/by step how to achieve this. And is there a simple procedure to do that (ie some exe program which will do all of that)???? BTW i know nothing about emacs. 
If you have a computer on which you have write access to the C drive, and if 
 your are using A4 paper, you can reproduce what I did by: 
 
 1) running setuptl/tlpmgui.exe and selecting the 'run from DVD' tab. 
 
 2) Then copy texmf-var  to your media
 3)  set the environment 
 variables as Siep said:
 
 via Settings / 
 
Control Panel System / Advanced tab / Environment variables.
 4) The variables in capital letters in my emacs startup file are the environment variables you need to set. 
 
 5) The paths starting with D: or C: are the paths you need to set. Of course, use only a single backslash (\) and set the path and drive letter according to the setup you will be using. 
 
 I may be wrong about the TEXMFVAR variable, as tlmpgui.exe seemed to imply "texmf-var" rather than "D:\texmf-var." 
 
 Unless you know enough DOS to find some way to set the variables automatically each time, (I could not do it with autorun.inf)  you will have to do so each time by hand. 
 
 I am not sure if this will work for sure, for example on the test file I mentioned,
 but it is a place to start. 
 
 Good luck.
 I will comment on some of George N. White's comments below.
 
 
  
> I use TexLive through emacs, so I set my environment variables in
> site-lisp/site-start.el
> as follows (I am just starting to learn emacs lisp, so corrections are 
> welcome):
>
> (setenv "PATH" (concat (getenv "PATH")
>
> ";D:\\bin\\win32\\gs\\gs8.54\\bin;D:\\bin\\win32\\dviout;D:\\bin\\win32"
> ))
> (setenv "GS_LIB" (concat () 
> "D:\\bin\\win32\\gs\\gs8.54\\lib" ))
> (setenv "TLroot" (concat () "D:\\" ))
> (setenv "TEXMFVAR" (concat () "D:\\texmf-var" ))
> (setenv "TEXMFTEMP" (concat () "C:\\WINDOWS\\Temp" )) 
> (setenv "TEXMFCNF" (concat () "D:\\texmf-var\\web2c" ))
> (setenv "PERL5LIB" (concat ()
> "D:\\perlt\\lib;D:\\perltl\\site\\llib" ))

 
 

On 3/4/07, George N. White III <gnwiii at gmail.com> wrote: On 3/4/07, poti giannakouros <potiatpotisdotorg at yahoo.com> wrote:


It sounds like you have a good start.  Emacs is helpful because you can
run commands in a *shell* window and capture many pages of output
for analysis.  There are several ways to debug tex file searching. In 
my experience most problems are caused not by missing files, but by
tex finding the "wrong" file -- often an older version left in a
user's personal texmf tree or mixed in with the source files.
     
 
 Yes, my files appear to be in the right places (in texmf-var). There have been 
 no other TeX installations on these machines, aside from what I have done testing tlpmgui.exe. I suspect I am not understanding how internal scripts are interpreting the TEXMFVAR environment variable. I cannot try until I get to the
 lab, but thanks for the direction. 
 
 
       
I have a couple concerns, however.  What happens if the DVD
reader isn't drive D:?  It should be possible to put a live tree on
DVD, a network drive, or a USB disk.  Do you have to burn a DVD in
order to test the setup? 
   
  I have gone through a big stack of DVDs trying to get whole suit of tools right. The whole thing fills a DVD right up to the edge. TexLive plus emacs alone I can get onto an 2.3 G MO disk, so that is a little easier to test, though it helped to be on read only media with the right letter to be sure I was not overlooking something. Regarding the letter, I do not know enough (Windows XP + emacs lisp) to grab the "self" drive letter and use that. What I have my users do at the moment is basically to copy the drive letter specific settings to %HOME% in a _emacs file in which they replace-string on the drive letter. 
 
 
       
There have been postings on configuring emacs to use the "pdfopen" and
"pdfclose" utilities to ensure that acroread doesn't keep a .pdf file
open while your are trying to write over it.  This didn't work 
reliably for me a year ago -- emacs would randomly hang when launching
acroread.  Maybe things are better now (which version are you using?)
   
  I am using emacs 22.0.92.  It seems to be doing what you described, though I will 
 search for pdfclose and pdfopen for discussion of this problem.
 
 
 Thanks for the help.
 

 
---------------------------------
Need Mail bonding?
Go to the Yahoo! Mail Q&A for great tips from Yahoo! Answers users.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070304/d09a9602/attachment.html 

From reinhard.kotucha at web.de  Mon Mar  5 02:10:40 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 5 Mar 2007 02:10:40 +0100
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <20070304213843.GB8065@molly>
References: <200703032225.l23MPxt25761@f7.net>
	<812675.83023.qm@web55607.mail.re4.yahoo.com>
	<20070304213843.GB8065@molly>
Message-ID: <17899.28176.510160.967292@zarniwoop.ms25.local>

>>>>> "Siep" == Siep Kroonenberg <siepo at cybercomm.nl> writes:

  > Of course you could also set environment variables via Settings /
  > Control Panel System / Advanced tab / Environment variables.

This is certainly much easier than setting the environment in Emacs.
It has some other advantages as well.

Regarding ELisp, it's probably not necessary to use concat here.  I
think that (setenv "PERL5LIB" "D:\\perlt\\lib;D:\\perltl\\site\\llib")
is sufficient.  There is also a typo: "perlt".

conact has to be used if something has to be added to an existing
environment variable:

(setenv "FOO" "abc")
(message (getenv "FOO"))
  --> "abc"
(setenv "FOO" (concat (getenv "FOO") "xyz"))
(message (getenv "FOO"))
  --> "abcxyz"

Don't forget the path separator (semicolon on Windows).

Though (concat () "zzz") returns "zzz" it is better to replace
(concat () "zzz") by "zzz".  Keep things as simple as possible.

However, I strongly recommend to follow Siep's advice, though.

  > It might be a good idea if, for a dvd install, the installer asked
  > for a location of the private stuff.

Yes, but I think what you proposed some time ago (USERPROFILE) should
be the default. 

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From potiatpotisdotorg at yahoo.com  Mon Mar  5 08:58:54 2007
From: potiatpotisdotorg at yahoo.com (poti giannakouros)
Date: Sun, 4 Mar 2007 23:58:54 -0800 (PST)
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <17899.28176.510160.967292@zarniwoop.ms25.local>
Message-ID: <400557.20587.qm@web55601.mail.re4.yahoo.com>



Reinhard Kotucha <reinhard.kotucha at web.de> wrote: >>>>> "Siep" == Siep Kroonenberg  writes:

  > Of course you could also set environment variables via Settings /
  > Control Panel System / Advanced tab / Environment variables.

This is certainly much easier than setting the environment in Emacs.
It has some other advantages as well.
For the person who posted this thread, I can imagine this is true  but I am not 
 sure if that is the case for me.
 
 The endpoint I need is for a student to be able to put the DVD into a random 
 lab computer, probably a different one each time, and just start working. Because of its particular inter-operation with the R statistical language (these are Statistics students), Emacs is a necessary component. Asking students to click around setting environment variables each time will cost precious goodwill, so I am glad to put the work in on my side. I chose to go the Emacs route rather than tcl/tk (altering tlpmgui) because learning about that is something more likely to be useful to me in the near future than other alternatives. 
 
  Regarding ELisp, it's probably not necessary to use concat here.  I
think that (setenv "PERL5LIB" "D:\\perlt\\lib;D:\\perltl\\site\\llib")
is sufficient.  There is also a typo: "perlt". conact has to be used if something has to be added to an existing
environment variable:

(setenv "FOO" "abc")
(message (getenv "FOO"))
  --> "abc"
(setenv "FOO" (concat (getenv "FOO") "xyz"))
(message (getenv "FOO"))
  --> "abcxyz"

Don't forget the path separator (semicolon on Windows).

Though (concat () "zzz") returns "zzz" it is better to replace
(concat () "zzz") by "zzz".  Keep things as simple as possible.
   
   
    Your information and the examples are exactly what I needed and 
 will save me much time as I try to interact with Windows XP through 
 Elisp. 
 -Poti
 
 
---------------------------------
Need Mail bonding?
Go to the Yahoo! Mail Q&A for great tips from Yahoo! Answers users.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070304/35293ba9/attachment-0001.html 

From frank at kuesterei.ch  Mon Mar  5 09:54:00 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 05 Mar 2007 09:54:00 +0100
Subject: [tex-live] [TL 2008] Packaging TeXLive: Not running fmtutil, updmap,
	texlinks, mktexlsr upon make install
Message-ID: <87d53ovzo7.fsf@riesling.zuerich.kuesterei.ch>

Hi,

when creating deb or rpm packages of texlive, it does not make sense to
run fmtutil-sys, updmap-sys and mktexlsr upon "make install", because
the installation will be done into some temporary directory.

Instead, the utilities need to be invoked when the thus created package
is installed on an individual system.

I have written a patch that implements a "--without-install-extra" patch
to configure that allows that.  It hooks into this line in
configure(.in):

# initialize texmf tree with fmtutil only for teTeX and TeX Live
if test ! -d $srcdir/texk/tetex || test -n "$xdvik_standalone" || test "x$cross_compiling" = xyes; then
  FMU=

and sets FMU to nothing.  Thus, install-extra becomes a separate
target in the toplevel Makefile (normally the line is commented, and the
commands are just some more commands under the "install" target).

There's one thing about the attached patch which I do not understand. In
texk/web2c/Makefile.in, the definition of FMU seems to be reversed.
Here, some links need to be created even in the case of
--without-install-extra, but with my patch @FMU@ becomes '#' and they
are not.  I have worked around this with the following hunk, but I'd
rather understand why this happens:


Index: texlive-bin-2007/build/source/texk/web2c/Makefile.in
===================================================================
--- texlive-bin-2007.orig/build/source/texk/web2c/Makefile.in	2007-02-19 18:09:08.000000000 +0100
+++ texlive-bin-2007/build/source/texk/web2c/Makefile.in	2007-02-19 18:09:11.000000000 +0100
@@ -782,7 +782,7 @@
 
 # 
 install: install-exec install-data
-install-exec:: install-programs @FMU@ install-links
+install-exec:: install-programs install-links
 install-data:: install-tex-data install-mf-data install-mpost-data
 install-dumps: install-tex-dumps install-mf-dumps install-mpost-dumps

Attached is the complete patch, it can also be viewed at 

http://svn.debian.org/wsvn/debian-tex/texlive-new/trunk/texlive-bin/debian/patches/01_tmp_configure_without_installextra?op=file&rev=0&sc=0

What about including it in TeXLive proper?

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: 01_tmp_configure_without_installextra
Url: http://tug.org/pipermail/tex-live/attachments/20070305/64a585ea/attachment-0001.pl 

From siepo at cybercomm.nl  Mon Mar  5 10:33:50 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 5 Mar 2007 10:33:50 +0100
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <720499.71841.qm@web55614.mail.re4.yahoo.com>
References: <86ecb3c70703041408w1d010a8sd8892efa255acb2c@mail.gmail.com>
	<720499.71841.qm@web55614.mail.re4.yahoo.com>
Message-ID: <20070305093350.GA5168@molly>

On Sun, Mar 04, 2007 at 05:35:42PM -0800, poti giannakouros wrote:
> 
> 
> Dima <dmitrij.ledkov at gmail.com> wrote: 
> As far as I understand now:
> 
> 1) it is possible to avoid using C drive during initial small preference installation to run Tex Live of DVD
> 
> 2) In order to do this you need to generate those preference/must have files first and put them somewhere the DVD can access it ie the DVD itself or flash drive or like network drive 
> 
> If 1 and 2 are right can someone please explain in detail step/by step how to achieve this. And is there a simple procedure to do that (ie some exe program which will do all of that)???? BTW i know nothing about emacs. 
> If you have a computer on which you have write access to the C drive, and if 
>  your are using A4 paper, you can reproduce what I did by: 
>  
>  1) running setuptl/tlpmgui.exe and selecting the 'run from DVD' tab. 
>  
>  2) Then copy texmf-var  to your media
>  3)  set the environment 
>  variables as Siep said:
>  
>  via Settings / 
>  
> Control Panel System / Advanced tab / Environment variables.
>  4) The variables in capital letters in my emacs startup file are the environment variables you need to set. 
>  
>  5) The paths starting with D: or C: are the paths you need to set. Of course, use only a single backslash (\) and set the path and drive letter according to the setup you will be using. 
>  
>  I may be wrong about the TEXMFVAR variable, as tlmpgui.exe seemed to imply "texmf-var" rather than "D:\texmf-var." 
>  
>  Unless you know enough DOS to find some way to set the variables automatically each time, (I could not do it with autorun.inf)  you will have to do so each time by hand. 
D>  

I could probably come up with some script that would take care of all
required settings and detect the right drive letters automatically.
It may take a few days.

-- 
Siep Kroonenberg

From cgroom at 126.com  Mon Mar  5 14:53:28 2007
From: cgroom at 126.com (cgroom)
Date: Mon, 05 Mar 2007 21:53:28 +0800
Subject: [tex-live] List-unsubscribe
Message-ID: <45EC20D8.1020400@126.com>




From firmicus at ankabut.net  Mon Mar  5 23:15:14 2007
From: firmicus at ankabut.net (=?UTF-8?B?RnJhbsOnb2lzIENoYXJldHRl?=)
Date: Mon, 05 Mar 2007 23:15:14 +0100
Subject: [tex-live] Report on packaging TeX Live for linux
Message-ID: <45EC9672.6080505@ankabut.net>


Dear TeX Live users and developers,

First of all, as a TeX Live user for the past four years, let me express 
my sincere thanks to Karl, Norbert, Staszek and all others for your 
dedicated work and the excellent 2007 release!

There are two issues I would like to raise.

First, I have recently packaged TeX Live for Arch Linux, which is the 
distribution I use daily. (Just in passing: Arch is a relatively 
marginal yet excellent system for intermediate to advanced users who 
enjoy simplicity.  Arch packages are nothing but *.tar.gz archives that 
can be quite easily generated by means of bash scripts.) Anyway, I have 
succeeded in this respect, of course not without some effort. My 
packages are currently being reviewed by the maintainer of tetex on Arch 
Linux and should be made available soon (whatever that means). In the 
meanwhile any interested user can contact me directly. Packagers of TeX 
Live for other distributions might also be interested, though I am 
certain that Norbert and Frank's work for Debian is much more detailed 
and careful than what I have done. Note that my install scripts do not 
require the ISO file. It makes use of rsync to fetch the appropriate 
files from the tug.org server directly. [Karl: I did this a few days 
BEFORE the official release of TL2007 was announced, so if I abused your 
bandwidth I did so before your problems became acute :-)]

In the course of my packaging efforts I have encountered a few really 
minor problems that I would like to report here.

First little things that relate to building from source:

- In the Makefiles of lcdf-typetools and texi2html, the variable 
$pkgdatadir should IMHO be $datadir/share/{lcdf-typetools,texi2html} 
instead.

- The problem with dynamic compilation of lcf-typetools has already been 
raised.

- in Makefile of ps2eps: datarootdir should be $prefix, not $prefix/share

- The general configure option --without-texinfo did not have any effect.

- "make install" puts files under $DESTDIR/texmf/bibtex/csf/*.csf
    instead of $DESTDIR/texmf/bibtex/csf/base/*.csf

Other minor points:

- Package chemarrow contains a type1 font but a map file is apparently 
missing.
Solution is to create it with
echo "arrow arrow <arrow.pfb" > chemarrow.map

- The package "glyphlist" does not belong to any collection or scheme. I 
guess it should be part of any basic installation, no?

- Some packages in texlive-humanities (bigfoot, ednotes) depend on 
packages in  texlive-latexextra (ncctools), but this dependency is not 
stated.


The second issue has to do with redistribution of TeX Live.

- Is it considered "appropriate" to split collections of packages so 
that documentation is separated from the rest? Since most Arch Linux 
users have a fast internet connection, a majority will presumably prefer 
to consult documentation online.
- And is it OK to exclude the {texmf,texmf-dist,texmf-doc}/source/ 
branch from a distribution? AFAIK TeTeX used to do that, so I guess it 
is unproblematic, but I prefer to be sure.

I have some more to say but I'll post it separately.

Thanks in advance,

Yours,

Fran?ois



From karl at freefriends.org  Tue Mar  6 00:01:18 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 5 Mar 2007 17:01:18 -0600
Subject: [tex-live] Report on packaging TeX Live for linux
In-Reply-To: <45EC9672.6080505@ankabut.net>
Message-ID: <200703052301.l25N1IR08504@f7.net>

Hi Francois,

Thank you for all the reports.  It will take some time to work through
them.  Meanwhile, congratulations on your success :).

    - Is it considered "appropriate" to split collections of packages so 
    that documentation is separated from the rest? 

It's your choice.

    - And is it OK to exclude the {texmf,texmf-dist,texmf-doc}/source/
    branch from a distribution?

Then, at least for the GPL'd packages, you have to make a written offer
to distribute the source for at least three years.  This is true for the
big source/.tar.bz2, too. (I don't imagine you make any use of the
Windows binaries, so the source-win32.zip isn't needed.)  Ie, you need
to keep a copy of the source yourself and have it available from
wherever you distribute.

Although legally you could refrain from distributing sources of packages
under some of the other licenses, I think it would be simpler, and much
preferable, to just provide the sources for everything.

Best,
karl

From karl at freefriends.org  Tue Mar  6 02:08:51 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 5 Mar 2007 19:08:51 -0600
Subject: [tex-live] [TL 2008] Packaging TeXLive: Not running fmtutil,
	updmap, texlinks, mktexlsr upon make install
In-Reply-To: <87d53ovzo7.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200703060108.l2618pB05098@f7.net>

Hi Frank,

    it does not make sense to run fmtutil-sys, updmap-sys and mktexlsr
    upon "make install",

Cool.  As far as I can see, it doesn't make sense for the normal TL
binary build, either, since that also is done into a scratch directory.

So can you change the patch so that --without-install-extra is the
default, and --with-install-extra is the option?

    Here, some links need to be created even in the case of
    --without-install-extra, but with my patch @FMU@ becomes '#' and they

I'm sorry, I'm not following.  What links are you referring to?

Thanks,
k

From eduardo at gps.tsc.upc.edu  Tue Mar  6 03:55:35 2007
From: eduardo at gps.tsc.upc.edu (=?ISO-8859-1?Q?Eduardo_Mendon=E7a?=)
Date: Tue, 6 Mar 2007 02:55:35 +0000
Subject: [tex-live] Problem with sample files
Message-ID: <deac11610703051855h103c9be9l33e6a9d93f269bdd@mail.gmail.com>

Warning noob to latex here :)
I download the DVD of TexLive 2007 and installed in on disk. Using Linux
btw.
Everything was working ok (it seemed so), and I could execute the sample
file "sample2e.tex".

When running the sample "story.tex" got some issues, and some more with
other files like "small2e.tex". I've posted the content of the output file
story.log, after doing $pdflatex story.tex. Am I missing any configuration
step?

I've eliminated some parts of the file that I thought to be redundant.
Thanks

story.log:

This is pdfTeXk, Version 3.141592-1.40.3 (Web2C 7.5.6)
(format=pdflatex 2007.3.6)  6 MAR 2007 03:43
entering extended mode
 %&-line parsing enabled.
**story.tex
(./story.tex
LaTeX2e <2005/12/01>
Babel <v3.8h> and hyphenation patterns for english, usenglishmax, dumylang, noh
yphenation, arabic, basque, bulgarian, coptic, welsh, czech, slovak, german, ng
erman, danish, esperanto, spanish, catalan, galician, estonian, farsi, finnish,
 french, greek, monogreek, ancientgreek, croatian, hungarian, interlingua, ibyc
us, indonesian, icelandic, italian, latin, mongolian, dutch, norsk, polish, por
tuguese, pinyin, romanian, russian, slovenian, uppersorbian, serbian, swedish,
turkish, ukenglish, ukrainian, loaded.
! Undefined control sequence.
<argument> \bf
               A SHORT STORYl.3 \centerline{\bf A SHORT STORY}

? quit
OK, entering \batchmode...
Missing character: There is no A in font nullfont!
[...]
Missing character: There is no Y in font nullfont!
! Undefined control sequence.
<argument> \sl
               by A. U. Thorl.5 \centerline{\sl    by A. U. Thor}
                                      % !`?`?! (modified)
The control sequence at the end of the top line
of your error message was never \def'ed. If you have
misspelled it (e.g., `\hobx'), type `I' and the correct
spelling (e.g., `I\hbox'). Otherwise just continue,
and I'll forget about whatever was undefined.

Missing character: There is no b in font nullfont!
[...]
Missing character: There is no r in font nullfont!

! LaTeX Error: Missing \begin{document}.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...
                                                  l.7 O
     nce upon a time, in a distant
You're in trouble here.  Try typing  <return>  to proceed.
If that doesn't work, type  X <return>  to quit.

Missing character: There is no O in font nullfont!
[...]
Missing character: There is no d in font nullfont!
LaTeX Font Info:    Try loading font information for +cmr on input line 8.
LaTeX Font Info:    No file cmr.fd. on input line 8.

LaTeX Font Warning: Font shape `/cmr/m/n' undefined
(Font)              using `/cmr/m/n' instead on input line 8.

! Corrupted NFSS tables.
wrong at fontshape ...message {Corrupted NFSS tables}
                                                  error at fontshape else let f...
l.8   galaxy called \"O
                       \"o\c c,
This error message was generated by an \errmessage
command, so I can't give any explicit help.
Pretend that you're Hercule Poirot: Examine all clues,
and deduce the truth by order and method.


LaTeX Font Warning: Font shape `/cmr/m/n' undefined
(Font)              using `OT1/cmr/m/n' instead on input line 8.

Missing character: There is no , in font nullfont!
[...]
Missing character: There is no . in font nullfont!

Overfull \hbox (20.0pt too wide) in paragraph at lines 7--11
[]
 []


Overfull \hbox (22.22227pt too wide) in paragraph at lines 7--11
\/cmr/m/n/10 ^^?O^^?o^^Xc
 []


! LaTeX Error: Missing \begin{document}.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...

l.12 M
      r.~Drofnats---or ``R. J.,'' as
You're in trouble here.  Try typing  <return>  to proceed.
If that doesn't work, type  X <return>  to quit.

Missing character: There is no M in font nullfont!
[...]
Missing character: There is no . in font nullfont!

Overfull \hbox (20.0pt too wide) in paragraph at lines 12--16
[]
 []


! LaTeX Error: The font size command \normalsize is not defined:
               there is probably something wrong with the class file.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...

l.18 \vfill\eject

Your command was ignored.
Type  I <command> <return>  to replace it with another command,
or  <return>  to continue without it.

 [1{/usr/local/texlive/2007/texmf-var/fonts/map/pdftex/updmap/pdftex.map}])
! Emergency stop.
<*> story.tex

*** (job aborted, no legal \end found)


Here is how much of TeX's memory you used:
 19 strings out of 94073
 201 string characters out of 1162994
 48804 words of memory out of 1500000
 3401 multiletter control sequences out of 10000+50000
 3640 words of font info for 14 fonts, out of 1200000 for 2000
 645 hyphenation exceptions out of 8191
 16i,4n,16p,66b,113s stack positions out of 5000i,500n,6000p,200000b,5000s
!  ==> Fatal error occurred, no output PDF file produced!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070306/79f3ec08/attachment.html 

From kakuto at fsci.fuk.kindai.ac.jp  Tue Mar  6 04:09:40 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 06 Mar 2007 12:09:40 +0900
Subject: [tex-live] Problem with sample files
In-Reply-To: Your message of "Tue, 6 Mar 2007 02:55:35 +0000"
References: <deac11610703051855h103c9be9l33e6a9d93f269bdd@mail.gmail.com>
Message-ID: <200703060309.l2639fdV026403@jupiter.fsci.fuk.kindai.ac.jp>

> When running the sample "story.tex" got some issues, and some more with
> other files like "small2e.tex". I've posted the content of the output file
> story.log, after doing $pdflatex story.tex. Am I missing any configuration
> step?

story.tex is an example of plain TeX (without \bye).
$pdftex story
You have to input \end for the prompt *.

Best,
Akira

From eddmendonca at gmail.com  Tue Mar  6 04:14:20 2007
From: eddmendonca at gmail.com (=?ISO-8859-1?Q?Eduardo_Mendon=E7a?=)
Date: Tue, 6 Mar 2007 03:14:20 +0000
Subject: [tex-live] Problem with sample files
In-Reply-To: <deac11610703051855h103c9be9l33e6a9d93f269bdd@mail.gmail.com>
References: <deac11610703051855h103c9be9l33e6a9d93f269bdd@mail.gmail.com>
Message-ID: <deac11610703051914l2565ece9qe46b0ca43dbe86cb@mail.gmail.com>

Warning noob to latex here :)
I download the DVD of TexLive 2007 and installed in on disk. Using Linux
btw.
Everything was working ok (it seemed so), and I could execute the sample
file "sample2e.tex".

When running the sample "story.tex" got some issues, and some more with
other files like "small2e.tex". I've posted the content of the output file
story.log, after doing $pdflatex story.tex. Am I missing any configuration
step?

I've eliminated some parts of the file that I thought to be redundant.
Thanks

story.log:

This is pdfTeXk, Version 3.141592-1.40.3 (Web2C 7.5.6)
(format=pdflatex 2007.3.6)  6 MAR 2007 03:43
entering extended mode
 %&-line parsing enabled.
**story.tex
(./story.tex
LaTeX2e <2005/12/01>
Babel <v3.8h> and hyphenation patterns for english, usenglishmax, dumylang, noh
yphenation, arabic, basque, bulgarian, coptic, welsh, czech, slovak, german, ng
erman, danish, esperanto, spanish, catalan, galician, estonian, farsi, finnish,
 french, greek, monogreek, ancientgreek, croatian, hungarian, interlingua, ibyc
us, indonesian, icelandic, italian, latin, mongolian, dutch, norsk, polish, por
tuguese, pinyin, romanian, russian, slovenian, uppersorbian, serbian, swedish,
turkish, ukenglish, ukrainian, loaded.
! Undefined control sequence.
<argument> \bf
               A SHORT STORY
l.3 \centerline{\bf A SHORT STORY}

? quit
OK, entering \batchmode...
Missing character: There is no A in font nullfont!
[...]
Missing character: There is no Y in font nullfont!
! Undefined control sequence.
<argument> \sl
               by A. U. Thor
l.5 \centerline{\sl    by A. U. Thor}
                                      % !`?`?! (modified)
The control sequence at the end of the top line
of your error message was never \def'ed. If you have
misspelled it (e.g., `\hobx'), type `I' and the correct
spelling (e.g., `I\hbox'). Otherwise just continue,
and I'll forget about whatever was undefined.

Missing character: There is no b in font nullfont!
[...]
Missing character: There is no r in font nullfont!

! LaTeX Error: Missing \begin{document}.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...

l.7 O
     nce upon a time, in a distant
You're in trouble here.  Try typing  <return>  to proceed.
If that doesn't work, type  X <return>  to quit.

Missing character: There is no O in font nullfont!
[...]
Missing character: There is no d in font nullfont!
LaTeX Font Info:    Try loading font information for +cmr on input line 8.
LaTeX Font Info:    No file cmr.fd. on input line 8.

LaTeX Font Warning: Font shape `/cmr/m/n' undefined

(Font)              using `/cmr/m/n' instead on input line 8.

! Corrupted NFSS tables.
wrong at fontshape ...message {Corrupted NFSS tables}
                                                  error at fontshape
 else let f...
l.8   galaxy called \"O
                       \"o\c c,
This error message was generated by an \errmessage
command, so I can't give any explicit help.
Pretend that you're Hercule Poirot: Examine all clues,

and deduce the truth by order and method.


LaTeX Font Warning: Font shape `/cmr/m/n' undefined
(Font)              using `OT1/cmr/m/n' instead on input line 8.

Missing character: There is no , in font nullfont!

[...]
Missing character: There is no . in font nullfont!

Overfull \hbox (20.0pt too wide) in paragraph at lines 7--11
[]
 []


Overfull \hbox (22.22227pt too wide) in paragraph at lines 7--11

\/cmr/m/n/10 ^^?O^^?o^^Xc
 []


! LaTeX Error: Missing \begin{document}.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...


l.12 M
      r.~Drofnats---or ``R. J.,'' as
You're in trouble here.  Try typing  <return>  to proceed.
If that doesn't work, type  X <return>  to quit.


Missing character: There is no M in font nullfont!
[...]
Missing character: There is no . in font nullfont!

Overfull \hbox (20.0pt too wide) in paragraph at lines 12--16
[]
 []



! LaTeX Error: The font size command \normalsize is not defined:
               there is probably something wrong with the class file.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.

 ...

l.18 \vfill\eject

Your command was ignored.
Type  I <command> <return>  to replace it with another command,

or  <return>  to continue without it.

 [1{/usr/local/texlive/2007/texmf-var/fonts/map/pdftex/updmap/pdftex.map}])
! Emergency stop.
<*> story.tex

*** (job aborted, no legal \end found)



Here is how much of TeX's memory you used:
 19 strings out of 94073
 201 string characters out of 1162994
 48804 words of memory out of 1500000
 3401 multiletter control sequences out of 10000+50000

 3640 words of font info for 14 fonts, out of 1200000 for 2000
 645 hyphenation exceptions out of 8191
 16i,4n,16p,66b,113s stack positions out of 5000i,500n,6000p,200000b,5000s
!  ==> Fatal error occurred, no output PDF file produced!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070306/baedef8f/attachment-0001.html 

From eddmendonca at gmail.com  Tue Mar  6 04:25:29 2007
From: eddmendonca at gmail.com (=?ISO-8859-1?Q?Eduardo_Mendon=E7a?=)
Date: Tue, 6 Mar 2007 03:25:29 +0000
Subject: [tex-live] Problem with sample files
Message-ID: <deac11610703051925w27f47761rcfe257599ac734a3@mail.gmail.com>

Thanks Akira, ;)

Saludos,
Eduardo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070306/873fd99b/attachment.html 

From florin.oprina at gmail.com  Tue Mar  6 04:12:05 2007
From: florin.oprina at gmail.com (Florin Oprina)
Date: Tue, 6 Mar 2007 12:12:05 +0900
Subject: [tex-live] Problem with sample files
In-Reply-To: <deac11610703051855h103c9be9l33e6a9d93f269bdd@mail.gmail.com>
References: <deac11610703051855h103c9be9l33e6a9d93f269bdd@mail.gmail.com>
Message-ID: <20070306121205.0cd03816.florin.oprina@gmail.com>

I don't think you missed any configuration steps. The problem is that story.tex should be TeX-ed, not LaTeX-ed. Try running pdftex story.tex or tex story.tex and see if you have any problems.

A LaTeX file (as opposed to plain TeX) can be recognized by inspecting its contents. It looks like:
\documentclass{whatever}
\begin{document}
Bla-blah
\end{document}

In contrast, a plain TeX file has no such declarations.

Best,
Florin


On Tue, 6 Mar 2007 02:55:35 +0000
"Eduardo Mendon?a" <eduardo at gps.tsc.upc.edu> wrote:

> Warning noob to latex here :)
> I download the DVD of TexLive 2007 and installed in on disk. Using Linux
> btw.
> Everything was working ok (it seemed so), and I could execute the sample
> file "sample2e.tex".
> 
> When running the sample "story.tex" got some issues, and some more with
> other files like "small2e.tex". I've posted the content of the output file
> story.log, after doing $pdflatex story.tex. Am I missing any configuration
> step?
> 

<-snip->

From izrailsk at iacp.dvo.ru  Tue Mar  6 11:19:32 2007
From: izrailsk at iacp.dvo.ru (Yuri Izrailsky)
Date: Tue, 6 Mar 2007 20:19:32 +1000
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
Message-ID: <1878302672.20070306201932@iacp.dvo.ru>

Hi all,

I have installed TL2007 on a computer running under win2k and
encountered several problems.

1.  During the installation program  which.exe (it is called by
tlpmgui.exe) had crashed several times (protected memory access),
though it seems to have little impact on installation process.

2. Documents typeset in russian language do not compile, because tfm
files for lh fonts are not generated during the installation process and
for some reason are not generated when I compile my document. With
TL2005 tfm files were generated on the fly.

3. kpsecheck.exe does not run because it is linked to tl90gs.dll which
is absent.


Problems 1 and 3 really do not matter and are listed just in case.
Please advise me how to solve problem #2.

  

-- 
Best regards,
 Yuri                          mailto:izrailsk at iacp.dvo.ru


From frank at kuesterei.ch  Tue Mar  6 11:11:01 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 06 Mar 2007 11:11:01 +0100
Subject: [tex-live] [TL 2008] Packaging TeXLive: Not running fmtutil,
	updmap, texlinks, mktexlsr upon make install
In-Reply-To: <200703060108.l2618pB05098@f7.net> (Karl Berry's message of "Mon\,
	5 Mar 2007 19\:08\:51 -0600")
References: <200703060108.l2618pB05098@f7.net>
Message-ID: <87y7ma4r7u.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

> Hi Frank,
>
>     it does not make sense to run fmtutil-sys, updmap-sys and mktexlsr
>     upon "make install",
>
> Cool.  As far as I can see, it doesn't make sense for the normal TL
> binary build, either, since that also is done into a scratch directory.
>
> So can you change the patch so that --without-install-extra is the
> default, and --with-install-extra is the option?

That should be easy.

>     Here, some links need to be created even in the case of
>     --without-install-extra, but with my patch @FMU@ becomes '#' and they
>
> I'm sorry, I'm not following.  What links are you referring to?

It's been a while that I worked on that, but if I'm not mistaken it is
in omegafonts/Makefile.in:

linked_programs = ofm2opl opl2ofm ovf2ovp ovp2ovf
[...]
install-links: install-programs
	for f in ""$(linked_programs); do \
	cd $(bindir) && (rm -f $$f; $(LN) omfonts $$f); done

These are not created if the hunk that patches web2c/Makefile.in is
missing.  All other invocations of "make install-links" anywhere in
web2c just do nothing.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at debian.org  Tue Mar  6 12:40:00 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 06 Mar 2007 12:40:00 +0100
Subject: [tex-live] mktexnam and SYSTEXMF (was: Bug#412242: tetex-bin:
	mktexpk places some fonts in the current directory)
In-Reply-To: <200703022058.43883.svivanov@pdmi.ras.ru> (Sergei Ivanov's
	message of "Fri\, 2 Mar 2007 20\:58\:43 +0300")
References: <20070224192833.14776.10339.reportbug@ham>
	<87zm6wghxo.fsf@riesling.zuerich.kuesterei.ch>
	<87lkifd62n.fsf@riesling.zuerich.kuesterei.ch>
	<200703022058.43883.svivanov@pdmi.ras.ru>
Message-ID: <87odn64n3j.fsf_-_@riesling.zuerich.kuesterei.ch>

Dear TeX Live team,

a Debian user has discovered a problem with the placement of created
fonts: If there is already "something" for this font in TEXMFSYSVAR,
newly generated font files for a user are placed in the current
directory instead of their TEXMFVAR.  I think the reason for this is
that TEXMFSYSVAR is not in SYSTEXMF.  Does anybody know why this is so?
Is there any reason not to include TEXMFSYSVAR in the future?


Here are the details:

With ${MT_FEATURES=appendonlydir:texmfvar} in mktex.cnf, generated fonts
are preferrably placed in $TEXMFVAR.  However, if fonts are needed
during format creation (e.g. for cyrtex), and the format is created with
fmtutil-sys, then TEXMFVAR is set to TEXMFSYSVAR, and the fonts end up
there - a directory that is not writeable to users.

Now when this format is used and more font files are generated from the
same sources, mktexnam is used to determine the file placement, and
mktexnam has the following priorities:

- if there is already one file for this font at this size in an
  accessible tree, derivatives (tfm or pk derived from mf) are placed in
  the same tree

- if this is a system tree, use TEXMFVAR instead

- if the destination directory is not writable, use the current
  directory.

TEXMFSYSVAR is not in SYSTEXMF, therefore, for pk fonts derived from
those created in format generation, TEXMFSYSVAR is chosen as destination
tree, and since this is not writable for users, files are created in the
current directory.

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From kakuto at fsci.fuk.kindai.ac.jp  Tue Mar  6 12:56:15 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 06 Mar 2007 20:56:15 +0900
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
In-Reply-To: Your message of "Tue, 6 Mar 2007 20:19:32 +1000"
References: <1878302672.20070306201932@iacp.dvo.ru>
Message-ID: <200703061156.l26BuG0R029352@jupiter.fsci.fuk.kindai.ac.jp>

Hi Yuri,

> 2. Documents typeset in russian language do not compile, because tfm
> files for lh fonts are not generated during the installation process and
> for some reason are not generated when I compile my document. With
> TL2005 tfm files were generated on the fly.

First, find the place of texmf.cnf by
kpsewhich texmf.cnf
Second, search for the lines

% MKTEXTEX = 0
% MKTEXPK = 0
% MKTEXMF = 0
% MKTEXTFM = 0
% MKTEXFMT = 0
% MKOCP = 0
% MKOFM = 0

in the file texmf.cnf, and change them as follows

% MKTEXTEX = 0
MKTEXPK = 1
MKTEXMF = 1
MKTEXTFM = 1
MKTEXFMT = 1
% MKOCP = 0
% MKOFM = 0

Best,
Akira

From jadefalkner at imperium-noctem.de  Tue Mar  6 13:05:23 2007
From: jadefalkner at imperium-noctem.de (Ronny Fauth)
Date: Tue, 06 Mar 2007 13:05:23 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
Message-ID: <45ED5903.5050905@imperium-noctem.de>

Hi,

If someone announced this Bug before, i want to apologize but i haven't
found anything in the archive.

Okay, here is the way to generate the Bug:

touch ex.tex && echo
"\documentclass{book}\begin{document}TEXT\end{document}" > ex.tex

latex ex.tex

-- till here, everything is alright. But in *nix-systems there can be
problems with the rights of accessing a file.

chmod 444 ex.aux

latex ex.tex

-- as expected, latex wants to write the aux-file and can't do it,
interrupt it by pressing Ctl+C. After that press 'x' and look at your
tex-file. It is absolutely empty. The Reason can be found in the log

------

l.1 \documentclass{book}\begin{document}
                                        TEXT\end{document}
Please type another output file name:
\openout1 = `ex.tex'.

! Interruption.
<to be read again>
                   \immediate
l.1 \documentclass{book}\begin{document}
                                        TEXT\end{document}
? x

------

LaTeX opens ex.tex instead of ex.aux. IMHO this is a very serious bug.

If you don't interrupt it an type "someothernameoffile" it will create a
"someothernameoffile.tex" which is wrong too. With
"someotherfilename.aux" everything is fine.

I've tested this with TeXLive2005 and TeXLive2007 and teTeX3.0.
Everytime the same in Linux. In Windows there is this bug to (the wrong
file extension) but there it doesn't empty the original tex-file. Tested
it there with TeXLive2007.

With an very old LaTeX this is my logfile:

This is TeX, Version 3.14159 (C version 6.1) (format=latex 98.1.6)  6
MAR 2007 1
3:00
**&/usr/lib/teTeX/texmf/web2c/latex-i386 ex.tex
(ex.tex
LaTeX2e <1996/06/01>
(/usr/lib/teTeX/texmf/tex/latex/base/book.cls
Document Class: book 1996/05/26 v1.3r Standard LaTeX document class
(/usr/lib/teTeX/texmf/tex/latex/base/bk10.clo
File: bk10.clo 1996/05/26 v1.3r Standard LaTeX file (size option)
)
\c at part=\count79
\c at chapter=\count80
\c at section=\count81
\c at subsection=\count82
\c at subsubsection=\count83
\c at paragraph=\count84
\c at subparagraph=\count85
\c at figure=\count86
\c at table=\count87
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
) (ex.aux)
! I can't write on file `ex.aux'.
\document ...ate \openout \@mainaux \jobname .aux
                                                  \immediate \write
\@mainau...
l.1 \documentclass{book}\begin{document}
                                        TEXT\end{document}
Please type another output file name:
! Emergency stop.
\document ...ate \openout \@mainaux \jobname .aux
                                                  \immediate \write
\@mainau...
l.1 \documentclass{book}\begin{document}
                                        TEXT\end{document}
End of file on the terminal!

which is the right way to handle this.

Regards,

Ronny

From martin at oneiros.de  Tue Mar  6 13:26:24 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 6 Mar 2007 13:26:24 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45ED5903.5050905@imperium-noctem.de>
References: <45ED5903.5050905@imperium-noctem.de>
Message-ID: <68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>

2007/3/6, Ronny Fauth <jadefalkner at imperium-noctem.de>:
> l.1 \documentclass{book}\begin{document}
>                                         TEXT\end{document}
> Please type another output file name:
> \openout1 = `ex.tex'.

So you are telling tex to write to ex.tex, and it does as instructed. :->

Best
   Martin

From oberdiek at uni-freiburg.de  Tue Mar  6 13:45:56 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Tue, 6 Mar 2007 13:45:56 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
Message-ID: <20070306124556.GA6807@irwin.vpn.uni-freiburg.de>

On Tue, Mar 06, 2007 at 01:26:24PM +0100, Martin Schr?der wrote:

> 2007/3/6, Ronny Fauth <jadefalkner at imperium-noctem.de>:
> >l.1 \documentclass{book}\begin{document}
> >                                        TEXT\end{document}
> >Please type another output file name:
> >\openout1 = `ex.tex'.
> 
> So you are telling tex to write to ex.tex, and it does as instructed. :->

No, the point is, he is typing CTRL-C, wants to abort the job.
However the job finishes with deleting the source file. :-(

See the thread in TEX-D-L "Bug in TeXLive 2005/2007???",
starting 2007-03-02.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From jadefalkner at imperium-noctem.de  Tue Mar  6 13:54:14 2007
From: jadefalkner at imperium-noctem.de (Ronny Fauth)
Date: Tue, 06 Mar 2007 13:54:14 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
Message-ID: <45ED6476.8090207@imperium-noctem.de>

Martin Schr?der gab folgendes von sich am 06.03.2007 13:26:
> 2007/3/6, Ronny Fauth <jadefalkner at imperium-noctem.de>:
>> l.1 \documentclass{book}\begin{document}
>>                                         TEXT\end{document}
>> Please type another output file name:
>> \openout1 = `ex.tex'.
>
> So you are telling tex to write to ex.tex, and it does as instructed. :->
>
> Best
>   Martin
If i interrupt the process so why do _I_ tell tex to use ex.tex? I told
him to interrupt and he did something he shouldn't do.

Regards


From martin at oneiros.de  Tue Mar  6 14:00:32 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 6 Mar 2007 14:00:32 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <20070306124556.GA6807@irwin.vpn.uni-freiburg.de>
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>
Message-ID: <68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>

2007/3/6, Heiko Oberdiek <oberdiek at uni-freiburg.de>:
> No, the point is, he is typing CTRL-C, wants to abort the job.
> However the job finishes with deleting the source file. :-(

Ah, now I see it. Indeed, this is serious.

Best
   Martin

From martin at oneiros.de  Tue Mar  6 14:05:58 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 6 Mar 2007 14:05:58 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>
	<68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
Message-ID: <68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>

2007/3/6, Martin Schr?der <martin at oneiros.de>:
> Ah, now I see it. Indeed, this is serious.

This is not a pdftex problem, but happens also with TeX.
Phil, can you try this on your VAX, so we can be sure it's web2c/kpathsea?

Best
   Martin

From zdenek.wagner at gmail.com  Tue Mar  6 14:15:25 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 6 Mar 2007 14:15:25 +0100
Subject: [tex-live] Fwd: Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <8719b6240703060515r1e42ec25k7f13a5fe9e6591c3@mail.gmail.com>
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>
	<68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
	<68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
	<8719b6240703060515r1e42ec25k7f13a5fe9e6591c3@mail.gmail.com>
Message-ID: <8719b6240703060515m14065829sc0b0fddf2517c3c6@mail.gmail.com>

I forgot to reply to all...

---------- Forwarded message ----------
From: Zdenek Wagner <zdenek.wagner at gmail.com>
Date: 6.3.2007 14:15
Subject: Re: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
To: Martin Schr?der <martin at oneiros.de>


2007/3/6, Martin Schr?der <martin at oneiros.de>:
> 2007/3/6, Martin Schr?der <martin at oneiros.de>:
> > Ah, now I see it. Indeed, this is serious.
>
> This is not a pdftex problem, but happens also with TeX.
> Phil, can you try this on your VAX, so we can be sure it's web2c/kpathsea?
>
> Best
>    Martin
>
I tried on OS/2 setting "attrib +r ex.aux". I have two implementations:

Newer web2c based on teTeX 3: deletes the contents of ex.tex
Old emTeX: creates zero-length .tex, ex.tex is preserved

--
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From kakuto at fsci.fuk.kindai.ac.jp  Tue Mar  6 14:35:45 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 06 Mar 2007 22:35:45 +0900
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: Your message of "Tue, 6 Mar 2007 14:05:58 +0100"
References: <68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
Message-ID: <200703061335.l26DZk8E029842@jupiter.fsci.fuk.kindai.ac.jp>

> > Ah, now I see it. Indeed, this is serious.
> 
> This is not a pdftex problem, but happens also with TeX.
> Phil, can you try this on your VAX, so we can be sure it's web2c/kpathsea?

On Windows, everything seemes natural.
ex.tex is preserved after Ctrl-C:

This is pdfTeX, Version 3.141592-1.40.3 (Web2C 7.5.6) (format=pdflatex 2007.3.4)  6 MAR 2007 22:29
entering extended mode
**ex
(./ex.tex
LaTeX2e <2005/12/01>
Babel <v3.8h> and hyphenation patterns for english, usenglishmax, ukenglish, ba
sque, bulgarian, coptic, welsh, czech, slovak, german, ngerman, danish, spanish
, catalan, estonian, finnish, french, irish, polygreek, monogreek, ancientgreek
, croatian, hungarian, interlingua, ibycus, bahasa, icelandic, italian, latin, 
mongolian, dutch, norsk, polish, portuguese, pinyin, romanian, russian, samin, 
slovene, usorbian, serbian, swedish, turkish, ukrainian, dumylang, nohyphenatio
n, loaded.
(c:/usr/local/share/texmf/tex/latex/base/book.cls
Document Class: book 2005/09/16 v1.4f Standard LaTeX document class
(c:/usr/local/share/texmf/tex/latex/base/bk10.clo
File: bk10.clo 2005/09/16 v1.4f Standard LaTeX file (size option)
)
\c at part=\count79
\c at chapter=\count80
\c at section=\count81
\c at subsection=\count82
\c at subsubsection=\count83
\c at paragraph=\count84
\c at subparagraph=\count85
\c at figure=\count86
\c at table=\count87
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
) (./ex.aux)
! I can't write on file `ex.aux'.
\document ...ate \openout \@mainaux \jobname .aux 
                                                  \immediate \write \@mainau...
l.1 \documentclass{book}\begin{document}
                                        TEXT\end{document}
Please type another output file name: 
! Emergency stop.
\document ...ate \openout \@mainaux \jobname .aux 
                                                  \immediate \write \@mainau...
l.1 \documentclass{book}\begin{document}
                                        TEXT\end{document}
End of file on the terminal!

 
Here is how much of TeX's memory you used:
 217 strings out of 94127
 2259 string characters out of 1168525
 48700 words of memory out of 1500000
 3596 multiletter control sequences out of 10000+50000
 3640 words of font info for 14 fonts, out of 2000000 for 2000
 679 hyphenation exceptions out of 8191
 23i,0n,17p,166b,36s stack positions out of 3000i,500n,5000p,300000b,5000s
!  ==> Fatal error occurred, no output PDF file produced!

Best,
Akira

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Tue Mar  6 15:52:17 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Tue, 06 Mar 2007 14:52:17 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
References: <45ED5903.5050905@imperium-noctem.de>	
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>	
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>	
	<68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
	<68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
Message-ID: <45ED8021.7020207@Royal-Tunbridge-Wells.Org>

I can/will, but better tomorrow when I am the
office; however, I suspect that VMS will
have no problem opening ex.tex for output,
since it will simply create a new version
(i.e., file with next higher version number)
of the file.

** Phil.
--------
Martin Schr?der wrote:
> 2007/3/6, Martin Schr?der <martin at oneiros.de>:
>> Ah, now I see it. Indeed, this is serious.
> 
> This is not a pdftex problem, but happens also with TeX.
> Phil, can you try this on your VAX, so we can be sure it's web2c/kpathsea?
> 
> Best
>   Martin

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Tue Mar  6 16:04:30 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Tue, 06 Mar 2007 15:04:30 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
References: <45ED5903.5050905@imperium-noctem.de>	
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>	
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>	
	<68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
	<68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
Message-ID: <45ED82FE.7000006@Royal-Tunbridge-Wells.Org>

OK, herewith VMS results (TeX 3.1415b)

> ALPHA6::Chaa006 : latex ex
> This is TeX, Version 3.1415b [PD VMS 3.4] (preloaded format=LATEX 95.1.16)
> (CHAA:[006]EX.TEX;1
> LaTeX2e <1994/12/01> patch level 1
> (TEX_ROOT:[COMMON.TEX.INPUTS.LATEX.BASE]BOOK.CLS;1
> Document Class: book 1994/12/09 v1.2x Standard LaTeX document class
> (TEX_ROOT:[COMMON.TEX.INPUTS.LATEX.BASE]BK10.CLO;1)) (CHAA:[006]EX.AUX;2)
> ! I can't write on file `EX.aux'.
> \document ...ate \openout \@mainaux \jobname .aux
>                                                   \immediate \write \@mainau...
> l.1 \documentclass{book}\begin{document}
>                                         TEXT\end{document}
> Please type another output file name:
>  Cancel
> ! Interruption.
> <to be read again>
>                    \immediate
> l.1 \documentclass{book}\begin{document}
>                                         TEXT\end{document}
> ? x
> No pages of output.
> Transcript written on CHAA:[006]EX.LIS;3.
> ALPHA6::Chaa006 : type ex.tex
 > ALPHA6::Chaa006 (i.e., file empty)

As hypothesized, ex.tex;1 is still fine, but TeX has created
ex.tex;2 which is empty.

** Phil.

From frank at kuesterei.ch  Tue Mar  6 18:07:02 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 06 Mar 2007 18:07:02 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45ED82FE.7000006@Royal-Tunbridge-Wells.Org> (Philip & Le Khanh's
	message of "Tue\, 06 Mar 2007 15\:04\:30 +0000")
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>
	<68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
	<68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
	<45ED82FE.7000006@Royal-Tunbridge-Wells.Org>
Message-ID: <87irdefgi1.fsf@riesling.zuerich.kuesterei.ch>

Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> wrote:

> OK, herewith VMS results (TeX 3.1415b)
>
[...]
> As hypothesized, ex.tex;1 is still fine, but TeX has created
> ex.tex;2 which is empty.

But doesn't that mean that the essential part of the bug is present on
VMS, too?  Shouldn't a non-buggy TeX create ex.aux;2?

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From martin at oneiros.de  Tue Mar  6 18:23:16 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 6 Mar 2007 18:23:16 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <87irdefgi1.fsf@riesling.zuerich.kuesterei.ch>
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>
	<68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
	<68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
	<45ED82FE.7000006@Royal-Tunbridge-Wells.Org>
	<87irdefgi1.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <68c491a60703060923h534f3229ye767d52eef557318@mail.gmail.com>

2007/3/6, Frank K?ster <frank at kuesterei.ch>:
> But doesn't that mean that the essential part of the bug is present on
> VMS, too?  Shouldn't a non-buggy TeX create ex.aux;2?

Yes.

I suspect the call to prompt_file_name in section 1374 is the culprit;
at least it's in the backtrace and it appends a .tex ...

Best
   Martin

From oberdiek at uni-freiburg.de  Tue Mar  6 18:29:52 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Tue, 6 Mar 2007 18:29:52 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <87irdefgi1.fsf@riesling.zuerich.kuesterei.ch>
References: <45ED5903.5050905@imperium-noctem.de>
	<68c491a60703060426t4f74a1beye1c372df2c81e913@mail.gmail.com>
	<20070306124556.GA6807@irwin.vpn.uni-freiburg.de>
	<68c491a60703060500o13e2275aqcb7bff004dc93530@mail.gmail.com>
	<68c491a60703060505n728f21c1tc8119fe294e117ea@mail.gmail.com>
	<45ED82FE.7000006@Royal-Tunbridge-Wells.Org>
	<87irdefgi1.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070306172951.GA4199@irwin.vpn.uni-freiburg.de>

On Tue, Mar 06, 2007 at 06:07:02PM +0100, Frank K?ster wrote:

> Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> wrote:
> 
> > OK, herewith VMS results (TeX 3.1415b)
> >
> [...]
> > As hypothesized, ex.tex;1 is still fine, but TeX has created
> > ex.tex;2 which is empty.
> 
> But doesn't that mean that the essential part of the bug is present on
> VMS, too?  Shouldn't a non-buggy TeX create ex.aux;2?

It's more complicate. The error was, that "ex.aux" could not created.
Usually it is not the best error recovery strategy to repeat
the error. It will probably fail again, because most file systems
does not allow duplicate file names in the same directory.

The default action that takes \jobname is dangerous in case of
writing as the example of the OP shows.

And if the user tries to cancel the request for a file name,
then it would be nice, if already the openout action is
cancelled. Current behaviour is to open the file with default file
name (\jobname) and to cancel afterwards.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Tue Mar  6 19:02:14 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Tue, 06 Mar 2007 18:02:14 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EDA955.3030006@Royal-Tunbridge-Wells.Org>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
Message-ID: <45EDACA6.9010706@Royal-Tunbridge-Wells.Org>

I have now repeated the same test using e-TeX
under VMS :

	> ALPHA6::Chaa006 : etex
	> This is e-TeX, Version 3.14159-2.0;fMar06 [PD VMS 3.6f]

and intriguingly, this does /not/ create a new,
empty "ex.tex" after Ctrl-C / X.  Interesting ...

** P.
--------
Philip & Le Khanh wrote:
> I confess I was confused by the possible involvement
> of LaTeX, particularly as the log file shewed
> "\openout1 = `ex.tex'." which did not appear
> in the original.  However, I have now replicated
> the problem using Plain TeX :
> 
> 
>  > ALPHA6::Chaa006 : type ex.tex;3
>  > \newwrite \aux
>  > \immediate \openout \aux = ex.aux
>  > \immediate \write \aux {END}
>  > \immediate \closeout \aux
>  >
>  > \end
>  > ALPHA6::Chaa006 :
> 
> and I can confirm that (under VMS), Ctrl-C followed
> by "X" has exactly the same effect as with the LaTeX
> example.  Thus it does indeed seem that it is TeX
> itself that is implicated, rather than LaTeX or Web2C.
> 
> ** Phil.
> 

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Tue Mar  6 18:48:05 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Tue, 06 Mar 2007 17:48:05 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45ED5903.5050905@imperium-noctem.de>
References: <45ED5903.5050905@imperium-noctem.de>
Message-ID: <45EDA955.3030006@Royal-Tunbridge-Wells.Org>

I confess I was confused by the possible involvement
of LaTeX, particularly as the log file shewed
"\openout1 = `ex.tex'." which did not appear
in the original.  However, I have now replicated
the problem using Plain TeX :


 > ALPHA6::Chaa006 : type ex.tex;3
 > \newwrite \aux
 > \immediate \openout \aux = ex.aux
 > \immediate \write \aux {END}
 > \immediate \closeout \aux
 >
 > \end
 > ALPHA6::Chaa006 :

and I can confirm that (under VMS), Ctrl-C followed
by "X" has exactly the same effect as with the LaTeX
example.  Thus it does indeed seem that it is TeX
itself that is implicated, rather than LaTeX or Web2C.

** Phil.

From reinhard.kotucha at web.de  Tue Mar  6 21:16:15 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 6 Mar 2007 21:16:15 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EDA955.3030006@Royal-Tunbridge-Wells.Org>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
Message-ID: <17901.52239.382779.293099@zarniwoop.ms25.local>

>>>>> "Philip" == Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> writes:

  > I confess I was confused by the possible involvement of LaTeX,
  > particularly as the log file shewed "\openout1 = `ex.tex'." which
  > did not appear in the original.  However, I have now replicated
  > the problem using Plain TeX :


  >> ALPHA6::Chaa006 : type ex.tex;3 \
  >> newwrite \aux
  >> \immediate \openout \aux = ex.aux
  >> \immediate \write \aux {END} \immediate
  >> \closeout \aux
  >> 
  >> \end ALPHA6::Chaa006 :

  > and I can confirm that (under VMS), Ctrl-C followed by "X" has
  > exactly the same effect as with the LaTeX example.  Thus it does
  > indeed seem that it is TeX itself that is implicated, rather than
  > LaTeX or Web2C.

I tried your file on Linux but I opened a second shell window in order
to be able to see when ex.tex will be overwritten.  It happens when
Ctrl-c is pressed.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From gnwiii at gmail.com  Tue Mar  6 21:45:29 2007
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 6 Mar 2007 16:45:29 -0400
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EDA955.3030006@Royal-Tunbridge-Wells.Org>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
Message-ID: <22af238a0703061245r7587f7dfgb0ed43f31f561d7f@mail.gmail.com>

On 3/6/07, Philip & Le Khanh
<Philip-and-LeKhanh at royal-tunbridge-wells.org> wrote:

> I confess I was confused by the possible involvement
> of LaTeX, particularly as the log file shewed
> "\openout1 = `ex.tex'." which did not appear
> in the original.  However, I have now replicated
> the problem using Plain TeX :
>
>
>  > ALPHA6::Chaa006 : type ex.tex;3
>  > \newwrite \aux
>  > \immediate \openout \aux = ex.aux
>  > \immediate \write \aux {END}
>  > \immediate \closeout \aux
>  >
>  > \end
>  > ALPHA6::Chaa006 :
>
> and I can confirm that (under VMS), Ctrl-C followed
> by "X" has exactly the same effect as with the LaTeX
> example.  Thus it does indeed seem that it is TeX
> itself that is implicated, rather than LaTeX or Web2C.

It isn't just Ctrl-C that produces unexpected behaviour -- entering a
<CR> results in "END" being written to ex.tex, with log entry:

Please type another output file name:
\openout0 = `ex.tex'.

Entering Ctrl-D (on linux) gives "! Emergency stop." instead of "!
Interruption." and the input is preserved.

If the log file is not writable pdftex's behaviour is reasonable -- it
keeps asking for the filename until it either gets one it can use or
gets a <Ctrl-D> and quits:

>From tex.web:
  ------------------------------
@<Try to get a different log file name@>=
begin selector:=term_only;
prompt_file_name("transcript file name",".log");
end

pack_job_name(".log");
while not a_open_out(log_file) do @<Try to get a different log file name@>;
log_name:=a_make_name_string(log_file);
selector:=log_only; log_opened:=true;
  ------------------------------

For \write the difference is that ".tex" is supplied to prompt_file_name():

      while not a_open_out(write_file[j]) do
        prompt_file_name("output file name",".tex");
      write_open[j]:=true;

so the name defaults (e.g., for <Ctrl-C> or <CR> to
<original_name>.tex if the user doesn't supply a new name at the
prompt.  The problem doesn't arise if <original_name> isn't
the jobname, but also consider:

$ cp ex.tex exx.tex
$ tex exx
This is pdfTeXk, Version 3.141592-1.40.3 (Web2C 7.5.6)
 %&-line parsing enabled.
entering extended mode
(./exx.tex
! I can't write on file `ex.aux'.
l.4 \immediate \openout \aux = ex.aux

Please type another output file name: exx
 )
No pages of output.
Transcript written on exx.log.
$ cat exx.tex
END






-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From vvv at vsu.ru  Tue Mar  6 21:14:30 2007
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue, 06 Mar 2007 23:14:30 +0300
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
In-Reply-To: <200703061156.l26BuG0R029352@jupiter.fsci.fuk.kindai.ac.jp>
	(Akira Kakuto's message of "Tue\, 06 Mar 2007 20\:56\:15 +0900")
References: <1878302672.20070306201932@iacp.dvo.ru>
	<200703061156.l26BuG0R029352@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <87zm6q5duh.fsf@vvv.vsu.ru>

"AK" == Akira Kakuto writes:

 AK> in the file texmf.cnf, and change them as follows

 AK> % MKTEXTEX = 0 MKTEXPK = 1 MKTEXMF = 1 MKTEXTFM = 1 MKTEXFMT = 1
 AK> % MKOCP = 0 % MKOFM = 0

these variables seem to be specific to the "TeX Live for Windows" port?
they aren't used and don't have any effect on unix, right? why are
they used on windows?  (it seems that the default should be always to
call mktex{pk,mf,tfm,fmt} on all platforms)

Best,
v.

From oberdiek at uni-freiburg.de  Tue Mar  6 22:51:31 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Tue, 6 Mar 2007 22:51:31 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EDA955.3030006@Royal-Tunbridge-Wells.Org>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
Message-ID: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>

On Tue, Mar 06, 2007 at 05:48:05PM +0000, Philip & Le Khanh wrote:

> I confess I was confused by the possible involvement
> of LaTeX, particularly as the log file shewed
> "\openout1 = `ex.tex'." which did not appear
> in the original.  However, I have now replicated
> the problem using Plain TeX :
> 
> 
> > ALPHA6::Chaa006 : type ex.tex;3
> > \newwrite \aux
> > \immediate \openout \aux = ex.aux
> > \immediate \write \aux {END}
> > \immediate \closeout \aux
> >
> > \end
> > ALPHA6::Chaa006 :
> 
> and I can confirm that (under VMS), Ctrl-C followed
> by "X" has exactly the same effect as with the LaTeX
> example.  Thus it does indeed seem that it is TeX
> itself that is implicated, rather than LaTeX or Web2C.

Variant: with "././fx.aux" as output file and compatible with iniTeX:

\catcode`\{=1
\catcode`\}=2
\ifx\newwrite\UnDeFiNeD
  \chardef\aux=0
\else
  \newwrite\aux
\fi
\immediate\openout\aux=././fx.aux
\immediate\write\aux{END}
\immediate\closeout\aux
\end

Result:

TeX 3.14159 (Web2C 7.5.2) --> .tex
TeX 3.141592 (Web2C 7.5.6) --> fx.tex

Responsible is the following code of tex.ch for prompt_file_name:

  @x [29.530] l.10258 - prompt_file_name: prevent empty filenames.
  clear_terminal; prompt_input(": "); @<Scan file name in the buffer@>;
  if cur_ext="" then cur_ext:=e;
  @y
  saved_cur_name:=cur_name;
  clear_terminal; prompt_input(": "); @<Scan file name in the buffer@>;
  if cur_ext="" then cur_ext:=e;
  if length(cur_name)=0 then cur_name:=saved_cur_name;
  @z

If the complete file name is empty, then TeX replaces the
file name extension with ".tex" here, because prompt_file_name
is called with this default extension for openout.
  Newer versions of Web2C now adds the line before "@z" that
also replaces an empty name with the previous name.

A funny side effect: if the user omits the name part and only prompts
the extension, e.g. ".hello", then TeX opens "fx.hello" in
the example above.

The automatic replacements of name parts are quite nasty. For instance,
it is impossible to write to files without extensions.

The Web2C update makes things worse, because more complicate:

\openout=.ext
Prompt: .new
Result: .new (expected)

\openout=foobar.ext
Prompt: .new
Result: foobar.new (I don't think that is expected by the user.)

Summary:

If the user is asked for an output file name, then we already
have an error condition. If the user does not provide a
file name, then he is probably unable/unwilling to provide
the correct error recovery. Then just aborting is IMHO the best
choice than writing to more or less randomly choosen file names
with the risk of overwriting files.

Thus I vote for abortion if the prompted output file name is empty

  @y
  saved_cur_name:=cur_name;
  clear_terminal; prompt_input(": "); @<Scan file name in the buffer@>;
  if (s="output file name") and (cur_ext="") and (length(cur_name)=0) then
    fatal_error("*** (job aborted, empty output file name)");
  if cur_ext="" then cur_ext:=e;
  {? if length(cur_name)=0 then cur_name:=saved_cur_name; ?}
  @z

I even prefer to do it for all cases:

  @y
  saved_cur_name:=cur_name;
  clear_terminal; prompt_input(": "); @<Scan file name in the buffer@>;
  if (cur_ext="") and (length(cur_name)=0) then   
    fatal_error("*** (job aborted, empty file name");
  if cur_ext="" then cur_ext:=e;
  {? if length(cur_name)=0 then cur_name:=saved_cur_name; ?}
  @z

This would save a lot of trouble and it is a very nice way to
end the prompt loop for a file name, because CTRL-C isn't working
until a valid file name is found.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From kakuto at fsci.fuk.kindai.ac.jp  Tue Mar  6 22:56:40 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 07 Mar 2007 06:56:40 +0900
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
In-Reply-To: Your message of "Tue, 06 Mar 2007 23:14:30 +0300"
References: <87zm6q5duh.fsf@vvv.vsu.ru>
Message-ID: <200703062156.l26Lufj4001339@jupiter.fsci.fuk.kindai.ac.jp>

Hi Vladimir,

>  AK> in the file texmf.cnf, and change them as follows
> 
>  AK> % MKTEXTEX = 0 MKTEXPK = 1 MKTEXMF = 1 MKTEXTFM = 1 MKTEXFMT = 1
>  AK> % MKOCP = 0 % MKOFM = 0
> 
> these variables seem to be specific to the "TeX Live for Windows" port?
> they aren't used and don't have any effect on unix, right? why are
> they used on windows?  (it seems that the default should be always to
> call mktex{pk,mf,tfm,fmt} on all platforms)

They are "used" in all platforms:

init_maketex() in tex-file.c

string PROG = uppercasify (prog); /* prog is the program name */
string progval = kpse_var_value(PROG);
...
  if (progval && *progval) {
    /* This might actually be from an environment variable value, but in
       that case, we'll have previously set it from kpse_init_prog.  */
    kpse_set_program_enabled (fmt, *progval == '1', kpse_src_client_cnf);
  }


Of course, each application (e.g., dvips) can enable mktex*
by kpse_init_prog() by default.

I don't remember I had made any change for TeX programs
for this problem. So I cannot understand the difference
between Unix and Windows.

But if there is a difference between Unix and Windows,
I think I had touched somewhere.

Please choose default values in the texmf.cnf for
Windows as follows from now on:

MKTEXPK = 1
MKTEXMF = 1
MKTEXTFM = 1
MKTEXFMT = 1

Best regards,
Akira

From vvv at vsu.ru  Tue Mar  6 23:22:11 2007
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed, 07 Mar 2007 01:22:11 +0300
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
In-Reply-To: <200703062156.l26Lufj4001339@jupiter.fsci.fuk.kindai.ac.jp>
	(Akira Kakuto's message of "Wed\, 07 Mar 2007 06\:56\:40 +0900")
References: <87zm6q5duh.fsf@vvv.vsu.ru>
	<200703062156.l26Lufj4001339@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <87mz2q57xo.fsf@vvv.vsu.ru>

"AK" == Akira Kakuto writes:

 >> these variables seem to be specific to the "TeX Live for Windows"
 >> port?  they aren't used and don't have any effect on unix, right?
 >> why are they used on windows?  (it seems that the default should
 >> be always to call mktex{pk,mf,tfm,fmt} on all platforms)

 AK> They are "used" in all platforms:

ah, good that it's so. i falsely assumed they're unused after grepping
the sources for e.g. MKTEXTFM. i can even enable MKTEXTEX=1 and then
mktextex gets called (if it exists) if the file is not found.

then the only problem is why the defaults became different on windows
(as it seems - i didn't check myself).

Best,
v.

From karl at freefriends.org  Tue Mar  6 23:30:31 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 6 Mar 2007 16:30:31 -0600
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
In-Reply-To: <200703062156.l26Lufj4001339@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200703062230.l26MUVG06377@f7.net>

Hi Akira,

    But if there is a difference between Unix and Windows,
    I think I had touched somewhere.

As I recall, the mktex*-enabling initializations are done in
kpathsea/tex-file.c.  (Calls to init_maketex.)  Can you check your
sources to see if there are changes in that area?

The explicit texmf.cnf settings are fine as a workaround, but they
shouldn't be necessary.

Thanks,
Karl

From karl at freefriends.org  Tue Mar  6 23:43:43 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 6 Mar 2007 16:43:43 -0600
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
Message-ID: <200703062243.l26Mhh409448@f7.net>

Thanks for the analysis, Heiko and everyone.

    If the user does not provide a
    file name, then he is probably unable/unwilling to provide
    the correct error recovery.

I see a difference between typing CTRL-C or CTRL-D to "give me an input
file", and just pressing RET.  Handling of CTRL-C and CTRL-D has always
been problematic; I've seen lots of different behavior over the years.
I have no qualms about simply aborting given CTRL-C or CTRL-D.  That
seems eminently desirable to me.

However, in the case of just pressing RET, I see no harm in asking again
(not trying to open *any* files in the meantime).  As a TeX user, I
would be rather surprised if the job aborted from simply pressing RET.
TeX has never behaved that way in the past.

(I realize this is not as straightforward to implement.)


Using a previous filename when RET is pressed, as is apparently
happening now, seems worst of all.

For me, the ideal would be a specific error message, like:

! You didn't type a filename, please do so.
<*>
Please type another input file name: 

(Or maybe it'd be possible to get thrown into the regular error
routines, so a help string could be provided?)


Wdyt?

Thanks,
Karl

From reinhard.kotucha at web.de  Wed Mar  7 00:37:34 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 7 Mar 2007 00:37:34 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <200703062243.l26Mhh409448@f7.net>
References: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<200703062243.l26Mhh409448@f7.net>
Message-ID: <17901.64318.336106.411002@zarniwoop.ms25.local>

>>>>> "Karl" == Karl Berry <karl at freefriends.org> writes:

  > Thanks for the analysis, Heiko and everyone.  If the user does not
  > provide a file name, then he is probably unable/unwilling to
  > provide the correct error recovery.

  > I see a difference between typing CTRL-C or CTRL-D to "give me an
  > input file", and just pressing RET.  Handling of CTRL-C and CTRL-D
  > has always been problematic; I've seen lots of different behavior
  > over the years.  I have no qualms about simply aborting given
  > CTRL-C or CTRL-D.  That seems eminently desirable to me.

Yes, the current behavior bothers me all the time.  I think that when
people press CTRL-C or CTRL-D they expect that TeX aborts immediately.
I also do not understand why TeX continues after a fatal error (file
not writable) occurred.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From oberdiek at uni-freiburg.de  Wed Mar  7 00:38:10 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 7 Mar 2007 00:38:10 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <200703062243.l26Mhh409448@f7.net>
References: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<200703062243.l26Mhh409448@f7.net>
Message-ID: <20070306233810.GA7152@irwin.vpn.uni-freiburg.de>

On Tue, Mar 06, 2007 at 04:43:43PM -0600, Karl Berry wrote:

>     If the user does not provide a
>     file name, then he is probably unable/unwilling to provide
>     the correct error recovery.
> 
> I see a difference between typing CTRL-C or CTRL-D to "give me an input
> file", and just pressing RET.  Handling of CTRL-C and CTRL-D has always
> been problematic; I've seen lots of different behavior over the years.
> I have no qualms about simply aborting given CTRL-C or CTRL-D.  That
> seems eminently desirable to me.
> 
> However, in the case of just pressing RET, I see no harm in asking again

This thread with its seemingly non-trivial analysis shows, that
even the experts have difficulties to know, which exact file name
TeX uses, if he just presses RET.
  Therefore pressing RET cannot mean the user wants the file
name that the TeX port guesses. In most or even all cases
just pressing RET means, the user doesn't have a file name to try.
Thus the question for error recovery is: does it make sense
to continue without a file name?
* File output could be redirected to the terminal.
* An empty input file could be simulated.
* Eventually a scratch file similar to "texput.tex" could
  be used for DVI/PDF output if possible.
But all this doesn't solve the original problem and is difficult
to implement. And one of the main questions remains unanswered.
How can the file name prompt be aborted without specifying a valid file.
There can even be circumstances (wrong TEXINPUTS, ...) where no valid
file exists or can be found.
  For example, LaTeX's workaround for input files `x.tex' requires
that x.tex can be found and it hopes hopes that the current catcodes
are appropriate.

> (not trying to open *any* files in the meantime).  As a TeX user, I
> would be rather surprised if the job aborted from simply pressing RET.
> TeX has never behaved that way in the past.

The unbreakable file prompt loop is one of TeX's most annoying parts.
I clearly remember my despair as beginner when I was not be able
to finish the TeX job in such as situation. Clearly TeX forces its
users to become masochists. But is this the purpose of the program?

> Using a previous filename when RET is pressed, as is apparently
> happening now, seems worst of all.
> 
> For me, the ideal would be a specific error message, like:
> 
> ! You didn't type a filename, please do so.
> <*>
> Please type another input file name: 
> 
> (Or maybe it'd be possible to get thrown into the regular error
> routines, so a help string could be provided?)

But this action does not provide more information than
the user had the first time. The help string could already
be provided the first time. A useful help string could be:
"An empty file name aborts the job" :-)

> Wdyt?

I think endless loops are evil. And this kind of loops should
be also avoided in the interactive prompt loop for the file name.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From karl at freefriends.org  Wed Mar  7 00:57:43 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 6 Mar 2007 17:57:43 -0600
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
In-Reply-To: <200703061156.l26BuG0R029352@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200703062357.l26NvhA28446@f7.net>

    in the file texmf.cnf, and change them as follows

Meanwhile, I added an item to http://tug.org/texlive/bugs.html about
mktex* on Windows.  Let me know if problems there.

Thanks,
k

From karl at freefriends.org  Wed Mar  7 00:57:43 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 6 Mar 2007 17:57:43 -0600
Subject: [tex-live] mktexnam and SYSTEXMF (was: Bug#412242:
	tetex-bin:	mktexpk places some fonts in the current directory)
In-Reply-To: <87odn64n3j.fsf_-_@riesling.zuerich.kuesterei.ch>
Message-ID: <200703062357.l26Nvh128420@f7.net>

    TEXMFSYSVAR is not in SYSTEXMF.  Does anybody know why this is so?

I don't recall an explicit decision being made.

    Is there any reason not to include TEXMFSYSVAR in the future?

Doing this makes sense to me, but I'd like to get Thomas E's opinion.
Thomas?

Thanks,
k

From kakuto at fsci.fuk.kindai.ac.jp  Wed Mar  7 03:00:17 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 07 Mar 2007 11:00:17 +0900
Subject: [tex-live] TL2007 (win2k) problem with LH fonts
In-Reply-To: Your message of "Tue, 6 Mar 2007 17:57:43 -0600"
References: <200703062357.l26NvhA28446@f7.net>
Message-ID: <200703070200.l2720K68002116@jupiter.fsci.fuk.kindai.ac.jp>

Hi Karl,

>     in the file texmf.cnf, and change them as follows
> 
> Meanwhile, I added an item to http://tug.org/texlive/bugs.html about
> mktex* on Windows.  Let me know if problems there.

Many thanks and sorry for the inconvenience.
Initializations for TeX programs are made in texmfmp.c.
My fault is that I had defined MAKE_TEX_MF_BY_DEFAULT as 0,
(because mktexmf.exe in W32TeX is new, I forgot to
 change it to 1.)
In the next time all will become ok, but in TL2007,
please do with the workaround in bugs.html.

Thanks,
Akira

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Wed Mar  7 08:49:53 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Wed, 07 Mar 2007 07:49:53 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <200703062243.l26Mhh409448@f7.net>
References: <200703062243.l26Mhh409448@f7.net>
Message-ID: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>



Karl Berry wrote:

> However, in the case of just pressing RET, I see no harm in asking again
> (not trying to open *any* files in the meantime).  As a TeX user, I
> would be rather surprised if the job aborted from simply pressing RET.
> TeX has never behaved that way in the past.

Are you sure that "not try to open *any* files in the meantime"
is the most appropriate behaviour ?  Might a user not use
"RET" to indicate "I've fixed the protections; please try again" ?

** Phil.

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Wed Mar  7 08:58:31 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Wed, 07 Mar 2007 07:58:31 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <17901.64318.336106.411002@zarniwoop.ms25.local>
References: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>	<200703062243.l26Mhh409448@f7.net>
	<17901.64318.336106.411002@zarniwoop.ms25.local>
Message-ID: <45EE70A7.3020903@Royal-Tunbridge-Wells.Org>



Reinhard Kotucha wrote:

> Yes, the current behavior bothers me all the time.  I think that when
> people press CTRL-C or CTRL-D they expect that TeX aborts immediately.
> I also do not understand why TeX continues after a fatal error (file
> not writable) occurred.

I don't think such an error /is/ fatal, if TeX is operating
in interactive mode; in batch mode, on the other hand, it
clearly should be.  Why not in interactive mode ?  Because
PdfTeX regularly has problems writing to its PDF file if
the latter is open in Acrobat, and the user needs to be told
of the problem, close the Acrobat window, and then (ideally)
just hit <Return> to signal "try again, please".  Unfortunately
PdfTeX doesn't treat <Return> as "try again, please", so one
is forced to enter the full PDF file name.  It would be better
(IMHO) if <Return> signalled "I think I've fixed it; try again,
please".

** Phil.

From taco at elvenkind.com  Wed Mar  7 09:09:08 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 07 Mar 2007 09:09:08 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EE70A7.3020903@Royal-Tunbridge-Wells.Org>
References: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>	<200703062243.l26Mhh409448@f7.net>	<17901.64318.336106.411002@zarniwoop.ms25.local>
	<45EE70A7.3020903@Royal-Tunbridge-Wells.Org>
Message-ID: <45EE7324.4090407@elvenkind.com>

Hi Phil,

Philip & Le Khanh wrote:
> just hit <Return> to signal "try again, please".  Unfortunately
> PdfTeX doesn't treat <Return> as "try again, please", so one
> is forced to enter the full PDF file name.  It would be better
> (IMHO) if <Return> signalled "I think I've fixed it; try again,
> please".

I vaguely recall we patched the input file loop query in web2c
to do just that, because otherwise TeX would attempt to open
the four-letter name ".tex", and that is almost certainly pointless.

It should be simple enough to do the same for the PDF file writing loop.

Best wishes,
Taco

From karl at freefriends.org  Wed Mar  7 01:09:53 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 6 Mar 2007 18:09:53 -0600
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <20070306233810.GA7152@irwin.vpn.uni-freiburg.de>
Message-ID: <200703070009.l2709rv32201@f7.net>

    even the experts have difficulties to know, which exact file name
    TeX uses, if he just presses RET.

I agree completely.  Hence my suggestion not to perform any search at
all if RET is entered.

    How can the file name prompt be aborted without specifying a valid file.

The major problem I remember over the years is that CTRL-C does not
interrupt, but continues the loop.  (I seem to remember making it do so
at one point, but maybe not, or maybe that behavior was lost in the
intervening years.)  Almost everyone working on the command line on any
platform is familiar with interrupting a program.  CTRL-D is
considerably less common.  (And didn't always work, either.)

    I clearly remember my despair as beginner when I was not be able

Me too.  Even more frustrating was when CTRL-C and/or CTRL-D caused an
uninterruptible non-interactive infinite loop, as was the case at one
point.  Had to resort to kill -9 ...

    A useful help string could be: "An empty file name aborts the job" :-)

Hmm.  Ok, if the help string is given in advance, I guess that answers
my objection.  So it would look something like this?

...
! I can't find file `foo'.
<*> foo

(Entering an empty file name will end the program.)
Please type another input file name:


I guess we'll see what others think.  We should probably run it by
tex-implementors, too.

Thanks,
Karl

From oberdiek at uni-freiburg.de  Wed Mar  7 10:10:07 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 7 Mar 2007 10:10:07 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
References: <200703062243.l26Mhh409448@f7.net>
	<45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
Message-ID: <20070307091007.GA15455@irwin.vpn.uni-freiburg.de>

On Wed, Mar 07, 2007 at 07:49:53AM +0000, Philip & Le Khanh wrote:

> Karl Berry wrote:
> 
> >However, in the case of just pressing RET, I see no harm in asking again
> >(not trying to open *any* files in the meantime).  As a TeX user, I
> >would be rather surprised if the job aborted from simply pressing RET.
> >TeX has never behaved that way in the past.
> 
> Are you sure that "not try to open *any* files in the meantime"
> is the most appropriate behaviour ?  Might a user not use
> "RET" to indicate "I've fixed the protections; please try again" ?

This would imply that the *same* file name is tried. However,
the discussed implementations use obscure file names difficult
to be guessed by the user.
  And the problem remains, how the user can exit the prompt
loop in a reliable way.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Wed Mar  7 10:51:14 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 7 Mar 2007 10:51:14 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EE7324.4090407@elvenkind.com>
References: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<200703062243.l26Mhh409448@f7.net>
	<17901.64318.336106.411002@zarniwoop.ms25.local>
	<45EE70A7.3020903@Royal-Tunbridge-Wells.Org>
	<45EE7324.4090407@elvenkind.com>
Message-ID: <20070307095112.GA15662@irwin.vpn.uni-freiburg.de>

On Wed, Mar 07, 2007 at 09:09:08AM +0100, Taco Hoekwater wrote:

> Hi Phil,
> 
> Philip & Le Khanh wrote:
> >just hit <Return> to signal "try again, please".  Unfortunately
> >PdfTeX doesn't treat <Return> as "try again, please", so one
> >is forced to enter the full PDF file name.  It would be better
> >(IMHO) if <Return> signalled "I think I've fixed it; try again,
> >please".
> 
> I vaguely recall we patched the input file loop query in web2c
> to do just that, because otherwise TeX would attempt to open
> the four-letter name ".tex", and that is almost certainly pointless.

In Phil's case ".pdf".

Ok, this semantics of the empty file name as "retry again"
also makes sense, apart from that it doesn't solve the problem
"how to exit".

But then it should be done the right way:
* The area part must be set to the previous one.
* Also the same extension must be used and must not be replaced
  by the standard extension of the case.

> It should be simple enough to do the same for the PDF file writing loop.

What about both, first retry, then abort? Pseudo code:

    Procedure reset_retry_flag
        if interaction mode = errorstopmode then
            set retry flag
        else
            clear retry flag
        fi

    INIT_FILE_ACCESS:
        reset_retry_flag

    FILE_ACCESS:
        if access file succeeds then
            goto DONE
        else
            goto PROMPT
        fi

    PROMPT:
        save old file name if retry flag is set
        if interaction mode = errorstopmode then
            if retry flag is set then
                explain that empty file name means "retry"
            else
                explain that empty file name means "abort"
            fi
        fi
        prompt for file name
        if file name is not empty then
            reset_retry_flag
            goto FILE_ACCESS
        else
            if retry flag is set then
                clear retry flag
                restore old file name
                goto FILE_ACCESS
            else
                abort job
            fi
        fi

    DONE:

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From Robin.Fairbairns at cl.cam.ac.uk  Wed Mar  7 11:32:10 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed, 07 Mar 2007 10:32:10 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: Your message of Wed, 07 Mar 2007 07:49:53 +0000.
	<45EE6EA1.1030407@Royal-Tunbridge-Wells.Org> 
Message-ID: <31961.1173263530@cl.cam.ac.uk>

Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> wrote:

> > However, in the case of just pressing RET, I see no harm in asking again
> > (not trying to open *any* files in the meantime).  As a TeX user, I
> > would be rather surprised if the job aborted from simply pressing RET.
> > TeX has never behaved that way in the past.
> 
> Are you sure that "not try to open *any* files in the meantime"
> is the most appropriate behaviour ?  Might a user not use
> "RET" to indicate "I've fixed the protections; please try again" ?

indeed the user might.  however, the user also has the option of
starting again, and given the potential pitfalls i would suggest that
"no file" is probably the best  assumption.

r

From gnwiii at gmail.com  Wed Mar  7 14:28:32 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 7 Mar 2007 09:28:32 -0400
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <31961.1173263530@cl.cam.ac.uk>
References: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
	<31961.1173263530@cl.cam.ac.uk>
Message-ID: <22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>

On 3/7/07, Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> wrote:
>
> > > However, in the case of just pressing RET, I see no harm in asking again
> > > (not trying to open *any* files in the meantime).  As a TeX user, I
> > > would be rather surprised if the job aborted from simply pressing RET.
> > > TeX has never behaved that way in the past.
> >
> > Are you sure that "not try to open *any* files in the meantime"
> > is the most appropriate behaviour ?  Might a user not use
> > "RET" to indicate "I've fixed the protections; please try again" ?
>
> indeed the user might.  however, the user also has the option of
> starting again, and given the potential pitfalls i would suggest that
> "no file" is probably the best  assumption.

It is annoying when a simple file permissions problem can only be
solved by "redo from start", in part because the user may need a
couple attempts to fix a permission problem (e.g., when both file and
directory permissions prevent writing or they end up as user "nobody"
on some NFS mount).  Allowing the user to continue after attempting to
fix the problem or (Windows) closing the file in Adobe Reader permits
experimentation to solve permission problems.

 --------------------------------------------------
! I can't write on file `ex.aux'.
l.4 \immediate \openout \aux = ex.aux


Please fix the problem and enter <CR> to continue wth the same name,
or type another output file name (Ctrl-C or Ctrl-D aborts the job):
 --------------------------------------------------

or:

--------------------------------------------------
! I can't write on file `ex.aux'.
l.4 \immediate \openout \aux = ex.aux


Please type another output file name (or Ctrl-H for more details):^H

The named file could be opened for writing.  The file may already
exist with read-only
permissions or may already have been opened by another program, you
may not have  permission to create new files in the directory, or the
device may be full. You may enter <CR> to continue processing with the
same name after fixing the problem, enter Ctrl-C or Ctrl-D to about
the job, or enter another filename.  If you enter <CR> and the problem
was not fixed, you will be prompted again.  Note that if you do not
provide an extension, the default (.tex) will be supplied.


Please type another output file name (or Ctrl-H for more details):
 --------------------------------------------------


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From oberdiek at uni-freiburg.de  Wed Mar  7 15:15:27 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 7 Mar 2007 15:15:27 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>
References: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
	<31961.1173263530@cl.cam.ac.uk>
	<22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>
Message-ID: <20070307141527.GA18059@irwin.vpn.uni-freiburg.de>

On Wed, Mar 07, 2007 at 09:28:32AM -0400, George N. White III wrote:

> On 3/7/07, Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:
> 
> >indeed the user might.  however, the user also has the option of
> >starting again, and given the potential pitfalls i would suggest that
> >"no file" is probably the best  assumption.
> 
> It is annoying when a simple file permissions problem can only be
> solved by "redo from start", 

There are other kinds of errors, e.g. writing on read-only file system,
invalid file name, ...
  I fear, most users don't know about file permissions. Even the
TeX message just says:
  I can't write on file `...'.

> in part because the user may need a
> couple attempts to fix a permission problem (e.g., when both file and
> directory permissions prevent writing or they end up as user "nobody"
> on some NFS mount).

Either the problem is trivial, then one shot is enough, or
the problem is more complicate, then this is not a reason
to complicate TeX for the other users.

> Allowing the user to continue after attempting to
> fix the problem or (Windows) closing the file in Adobe Reader permits
> experimentation to solve permission problems.
> 
> --------------------------------------------------
> ! I can't write on file `ex.aux'.
> l.4 \immediate \openout \aux = ex.aux
> 
> 
> Please fix the problem and enter <CR> to continue wth the same name,
> or type another output file name (Ctrl-C or Ctrl-D aborts the job):
> --------------------------------------------------

Currently Ctrl-C (or Ctrl-D) doesn't work this way.
Probably this is much harder to implement.

> or:
> 
> --------------------------------------------------
> ! I can't write on file `ex.aux'.
> l.4 \immediate \openout \aux = ex.aux
> 
> 
> Please type another output file name (or Ctrl-H for more details):^H
> 
> The named file could be opened for writing.  The file may already
> exist with read-only
> permissions or may already have been opened by another program, you
> may not have  permission to create new files in the directory, or the
> device may be full. You may enter <CR> to continue processing with the
> same name after fixing the problem, enter Ctrl-C or Ctrl-D to about
> the job, or enter another filename.  If you enter <CR> and the problem
> was not fixed, you will be prompted again.  Note that if you do not
> provide an extension, the default (.tex) will be supplied.

I fear, this is too long:
* There are too many reasons for failed file opens.
  Instead of a list, the real reason would be useful.
  But this requires greater implementation effor, thus not practical.
* The user options are too complicate. In the same time for reading
  and understanding the help text, the user could have restarted the
  whole job several times.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From P.Taylor at Rhul.Ac.Uk  Wed Mar  7 15:40:24 2007
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor (Webmaster) )
Date: Wed, 07 Mar 2007 14:40:24 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <20070307141527.GA18059@irwin.vpn.uni-freiburg.de>
References: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>	<31961.1173263530@cl.cam.ac.uk>	<22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>
	<20070307141527.GA18059@irwin.vpn.uni-freiburg.de>
Message-ID: <45EECED8.3060503@Rhul.Ac.Uk>



Heiko Oberdiek wrote:

>> in part because the user may need a
>> couple attempts to fix a permission problem (e.g., when both file and
>> directory permissions prevent writing or they end up as user "nobody"
>> on some NFS mount).
> 
> Either the problem is trivial, then one shot is enough, or
> the problem is more complicate, 

I can't agree, Heiko : it may well take more than
one attempt to rectify the problem, and I would
like <Return> to signify "Try again, with original
filename" ad infinitum.  Of course, a non-<Return>
answer such as Ctrl-C, Crtl-D, Ctrl-Y, Ctrl-Z,
<Break> must remain available and should force
loop exit with an error.

** Phil.

From gnwiii at gmail.com  Wed Mar  7 16:38:24 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 7 Mar 2007 11:38:24 -0400
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <20070307141527.GA18059@irwin.vpn.uni-freiburg.de>
References: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
	<31961.1173263530@cl.cam.ac.uk>
	<22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>
	<20070307141527.GA18059@irwin.vpn.uni-freiburg.de>
Message-ID: <22af238a0703070738l7f1ccc2cke0b5ee0f3d75ff15@mail.gmail.com>

On 3/7/07, Heiko Oberdiek <oberdiek at uni-freiburg.de> wrote:

> On Wed, Mar 07, 2007 at 09:28:32AM -0400, George N. White III wrote:

> > Please type another output file name (or Ctrl-H for more details):^H
> >
> > The named file could be opened for writing.  The file may already
> > exist with read-only
> > permissions or may already have been opened by another program, you
> > may not have  permission to create new files in the directory, or the
> > device may be full. You may enter <CR> to continue processing with the
> > same name after fixing the problem, enter Ctrl-C or Ctrl-D to about
> > the job, or enter another filename.  If you enter <CR> and the problem
> > was not fixed, you will be prompted again.  Note that if you do not
> > provide an extension, the default (.tex) will be supplied.
>
> I fear, this is too long:
> * There are too many reasons for failed file opens.
>   Instead of a list, the real reason would be useful.
>   But this requires greater implementation effor, thus not practical.

Effort is one thing, but in practice systems don't always provide
useful diagnostics and
the code would not be portable -- even a huge effort would not
suffice.  Rather than list likely reasons, the message could say "If
you don't know the reason, ask a wizard for help."

> * The user options are too complicate. In the same time for reading
>   and understanding the help text, the user could have restarted the
>   whole job several times.

Hopefully each user only needs to read the help text once.  The main
advantage to encouraging the user to simply fix the problem and
continue is not saving time, but making the user aware of the specific
problem.  If you just issue a message and abort the job, users tend to
ignore or overlook the message (e.g., because TeX is being run from an
editor and the shell window closes when the job exits).  So it is
useful for the job to wait user for input.
Many users will type Ctrl-C or Ctrl-D without bothering to read
messages and expect the job to abort because that is common for other
programs.

I suspect that in the majority of cases, the user would prefer to fix
the problem and continue
with the original filename, so what about:

! I can't write on file `ex.aux'.
l.4 \immediate \openout \aux = ex.aux


If you don't know why you got this error, ask a wizard for help.
Enter `R' to retry after fixing the problem;  any other response aborts the job:



-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From oberdiek at uni-freiburg.de  Wed Mar  7 17:02:18 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 7 Mar 2007 17:02:18 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <22af238a0703070738l7f1ccc2cke0b5ee0f3d75ff15@mail.gmail.com>
References: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
	<31961.1173263530@cl.cam.ac.uk>
	<22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>
	<20070307141527.GA18059@irwin.vpn.uni-freiburg.de>
	<22af238a0703070738l7f1ccc2cke0b5ee0f3d75ff15@mail.gmail.com>
Message-ID: <20070307160218.GA17526@irwin.vpn.uni-freiburg.de>

On Wed, Mar 07, 2007 at 11:38:24AM -0400, George N. White III wrote:

> I suspect that in the majority of cases, the user would prefer to fix
> the problem and continue
> with the original filename, so what about:
> 
> ! I can't write on file `ex.aux'.
> l.4 \immediate \openout \aux = ex.aux
> 
> 
> If you don't know why you got this error, ask a wizard for help.
> Enter `R' to retry after fixing the problem;  any other response aborts the 
> job:

It doesn't allow fixing of mispelled file names.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Wed Mar  7 18:02:15 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 7 Mar 2007 18:02:15 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EECED8.3060503@Rhul.Ac.Uk>
References: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
	<31961.1173263530@cl.cam.ac.uk>
	<22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>
	<20070307141527.GA18059@irwin.vpn.uni-freiburg.de>
	<45EECED8.3060503@Rhul.Ac.Uk>
Message-ID: <20070307170214.GA2988@irwin.vpn.uni-freiburg.de>

On Wed, Mar 07, 2007 at 02:40:24PM +0000, Philip Taylor (Webmaster)  wrote:

> Heiko Oberdiek wrote:
> 
> >>in part because the user may need a
> >>couple attempts to fix a permission problem (e.g., when both file and
> >>directory permissions prevent writing or they end up as user "nobody"
> >>on some NFS mount).
> >
> >Either the problem is trivial, then one shot is enough, or
> >the problem is more complicate, 
> 
> I can't agree, Heiko : it may well take more than
> one attempt to rectify the problem, and I would
> like <Return> to signify "Try again, with original
> filename" ad infinitum.

Currently you have to retype the file name (or be lucky).
This possibility isn't changed (just more predictible).

> Of course, a non-<Return>
> answer such as Ctrl-C, Crtl-D, Ctrl-Y, Ctrl-Z,
> <Break> must remain available and should force
> loop exit with an error.

Who implements it? When?

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Wed Mar  7 18:07:26 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 7 Mar 2007 18:07:26 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EECED8.3060503@Rhul.Ac.Uk>
References: <45EE6EA1.1030407@Royal-Tunbridge-Wells.Org>
	<31961.1173263530@cl.cam.ac.uk>
	<22af238a0703070528u2d206cf2uddd24060d4effb08@mail.gmail.com>
	<20070307141527.GA18059@irwin.vpn.uni-freiburg.de>
	<45EECED8.3060503@Rhul.Ac.Uk>
Message-ID: <20070307170725.GB2988@irwin.vpn.uni-freiburg.de>

Hello,

I have written two patches based on pdftex 1.40.3 and checked
them in as patch #746 "Patch PromptFileName":
http://sarovar.org/tracker/index.php?func=detail&aid=746&group_id=106&atid=495

Retry.diff implements the "retry action":

On Wed, Mar 07, 2007 at 02:40:24PM +0000, Philip Taylor (Webmaster)  wrote:

> I would like <Return> to signify "Try again, with original
> filename" ad infinitum.

The other patch is Abort.diff for aborting if an empty file
name is given.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From reinhard.kotucha at web.de  Thu Mar  8 00:13:36 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 8 Mar 2007 00:13:36 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45EE70A7.3020903@Royal-Tunbridge-Wells.Org>
References: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<200703062243.l26Mhh409448@f7.net>
	<17901.64318.336106.411002@zarniwoop.ms25.local>
	<45EE70A7.3020903@Royal-Tunbridge-Wells.Org>
Message-ID: <17903.18208.412766.499263@zarniwoop.ms25.local>

>>>>> "Philip" == Philip & Le Khanh <Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org> writes:

  > Reinhard Kotucha wrote:

  >> Yes, the current behavior bothers me all the time.  I think that
  >> when people press CTRL-C or CTRL-D they expect that TeX aborts
  >> immediately.  I also do not understand why TeX continues after a
  >> fatal error (file not writable) occurred.

  > I don't think such an error /is/ fatal, if TeX is operating in
  > interactive mode; in batch mode, on the other hand, it clearly
  > should be.  Why not in interactive mode ?  Because PdfTeX
  > regularly has problems writing to its PDF file if the latter is
  > open in Acrobat, and the user needs to be told of the problem,
  > close the Acrobat window, and then (ideally) just hit <Return> to
  > signal "try again, please".  Unfortunately PdfTeX doesn't treat
  > <Return> as "try again, please", so one is forced to enter the
  > full PDF file name.  It would be better (IMHO) if <Return>
  > signalled "I think I've fixed it; try again, please".

Ok, I agree with you that it is not really fatal if a file is not
writable in interactive mode.  It seems that the main problem is that
CTRL-C does not kill the process immediately.  I think it should.  And
what bothers me is that currently there is no reasonable way to kill
tex conveniently. 

Well, you don't have to say "CTRL-C" and "x" to break your input
file.  It is sufficient to press "RETURN".  All the extension magic is
completely crappy.  I think that it was DEK's worst decision.  And it
obviously had bitten him already:

 > From: Maggie McLoughlin <mam at Theory.Stanford.EDU>
 > Sender: owner-tex-k at tug.org
 > To: tex-k at tug.org
 > Subject: note from Don Knuth
 > Date: Sun, 7 May 2000 00:02:47 -0700 (PDT)
 > 
 > Dear TeXK-ers,
 > [...]
 > Node File lookup:  Please forgive me for asking a stupid question:
 > Suppose files foo.bar and foo.bar.tex both exist. Why is it so great
 > to latch onto 'foo.bar.tex' when the user asks for 'foo.bar'? You
 > speak of this as if it were an advantage, but in fact you have made
 > it impossible for the user to access 'foo.bar'. (She has to rename
 > 'foo.bar.tex' temporarily and unrename it again later.) This is definitely
 > a bug, imho; indeed, I corrected it years ago in my system at home,
 > when I realized that my file-listing program list.tex could not
 > list certain files. Section 511 of TeX: The Program says "The extension
 > of an input file or a write file is assumed to be `.tex' unless otherwise
 > specified." I don't believe you are compliant with this.

Regarding Acrobat, this is clearly a Windows issue.  The only thing
Adobe could do is to read the file into memory completely and then
close the file.  But this would be disastrous when files are large.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From karl at freefriends.org  Fri Mar  9 02:23:45 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 8 Mar 2007 19:23:45 -0600
Subject: [tex-live] Report on packaging TeX Live for linux
In-Reply-To: <45EC9672.6080505@ankabut.net>
Message-ID: <200703090123.l291NjA08023@f7.net>

Hi Francois,

Another partial reply.

    - Package chemarrow contains a type1 font but a map file is apparently 
    missing.
    Solution is to create it with
    echo "arrow arrow <arrow.pfb" > chemarrow.map

Can you please report this to the chemarrow author?

    - The package "glyphlist" does not belong to any collection or scheme. I 
    guess it should be part of any basic installation, no?

It is a dependency of bin-dvipdfmx and bin-lcdftypetools, so in practice
it is always installed.  I'm not sure if it's a good idea to explicitly
add it to collection-basic.  Not that I have any big objection to doing
so, but it's possible to have a perfectly usable TeX installation
without it.

    - Some packages in texlive-humanities (bigfoot, ednotes) depend on
    packages in texlive-latexextra (ncctools), but this dependency is
    not stated.

Many dependencies are not stated.  There's no reliable way to determine
what they are or to maintain them as things change.

In TL, the only scheme which includes humanities+science is scheme-full,
which obviously includes latexextra.  

As for the downstream distributions based on collections, well, I
suppose I have no real objection to making collection-humanities (and
-science, probably, among others) depend on latexextra, if that's deemed
desirable.  It would make no difference to standard TL installs.

So I guess that question now goes back to you, and Frank, and whomever
else might be there in that position ...

Thanks,
Karl

From frank at kuesterei.ch  Fri Mar  9 09:52:37 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 09 Mar 2007 09:52:37 +0100
Subject: [tex-live] Report on packaging TeX Live for linux
In-Reply-To: <200703090123.l291NjA08023@f7.net> (Karl Berry's message of "Thu\,
	8 Mar 2007 19\:23\:45 -0600")
References: <200703090123.l291NjA08023@f7.net>
Message-ID: <87irdau7ca.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

> As for the downstream distributions based on collections, well, I
> suppose I have no real objection to making collection-humanities (and
> -science, probably, among others) depend on latexextra, if that's deemed
> desirable.  It would make no difference to standard TL installs.
>
> So I guess that question now goes back to you, and Frank, and whomever
> else might be there in that position ...

Norbert has added a Depends: texlive-latex-base for texlive-humanities
and texlive-science in Debian.  I guess this might not be sufficient in
each use case of the packages included in these collections.  But for
Debian, "Depends" does not mean "everything that might be needed", but
rather "needed to provide a significant amount of functionality".

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From markus.kohm at gmx.de  Fri Mar  9 11:16:24 2007
From: markus.kohm at gmx.de (Markus Kohm)
Date: Fri, 9 Mar 2007 11:16:24 +0100
Subject: [tex-live] bin-texinfo.tpm: incorrect text at version tag?
Message-ID: <200703091116.24728@KOMA020467>

The binaries of texmf/tpm/bin-texinfo.tpm (e.g. info, makeinfo etc.) are 
version 4.8:

	>Master/bin/i386-linux/info --version
	info (GNU texinfo) 4.8

but version at texmf/tpm/bin-texinfo.tpm is:

    <TPM:Version>4.0</TPM:Version>

Shouldn't this be

    <TPM:Version>4.8</TPM:Version>

?

Regards, Markus

From karl at freefriends.org  Fri Mar  9 18:33:56 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 9 Mar 2007 11:33:56 -0600
Subject: [tex-live] bin-texinfo.tpm: incorrect text at version tag?
In-Reply-To: <200703091116.24728@KOMA020467>
Message-ID: <200703091733.l29HXum17445@f7.net>

    Shouldn't this be
        <TPM:Version>4.8</TPM:Version>

Yes, the TPM:Version numbers are usually wrong, due once again to lack
of automatic updating.  (They also aren't used by anything that I know
of.)  I just removed this one.

Thanks,
Karl


From pragma at wxs.nl  Sat Mar 10 10:57:55 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 10 Mar 2007 10:57:55 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
Message-ID: <45F28123.4040801@wxs.nl>

Heiko Oberdiek wrote:
>
> If the user is asked for an output file name, then we already
> have an error condition. If the user does not provide a
> file name, then he is probably unable/unwilling to provide
> the correct error recovery. Then just aborting is IMHO the best
> choice than writing to more or less randomly choosen file names
> with the risk of overwriting files.
>   
this may be true for a tex file, but not for a pdf file ... one can have 
a pdf file locked by the viewer, and after closing the file (in the 
viewer) hitting return will continue the job, which is quite convenient 
in an edit/run/preview cycle

so, when adapting the code, the new kind of trickery should leave the 
dvi/pdf file part alone since
> Thus I vote for abortion if the prompted output file name is empty
>
>   
but not for dvi/pdf output files (jobname.dvi/pdf)

Hans

From dak at gnu.org  Sat Mar 10 11:37:52 2007
From: dak at gnu.org (David Kastrup)
Date: Sat, 10 Mar 2007 11:37:52 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45F28123.4040801@wxs.nl> (Hans Hagen's message of "Sat\,
	10 Mar 2007 10\:57\:55 +0100")
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl>
Message-ID: <856499xu2n.fsf@lola.goethe.zz>

Hans Hagen <pragma at wxs.nl> writes:

> Heiko Oberdiek wrote:
>>
>> If the user is asked for an output file name, then we already have
>> an error condition. If the user does not provide a file name, then
>> he is probably unable/unwilling to provide the correct error
>> recovery. Then just aborting is IMHO the best choice than writing
>> to more or less randomly choosen file names with the risk of
>> overwriting files.
>
> this may be true for a tex file, but not for a pdf file ... one can
> have a pdf file locked by the viewer, and after closing the file (in
> the viewer) hitting return will continue the job, which is quite
> convenient in an edit/run/preview cycle

This is basically a single application on a single operating system
phenomenon (Acrobat reader on Windows).

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From taco at elvenkind.com  Sat Mar 10 11:51:37 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 10 Mar 2007 11:51:37 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <856499xu2n.fsf@lola.goethe.zz>
References: <45ED5903.5050905@imperium-noctem.de>	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>	<45F28123.4040801@wxs.nl>
	<856499xu2n.fsf@lola.goethe.zz>
Message-ID: <45F28DB9.8060909@elvenkind.com>

David Kastrup wrote:
> 
> This is basically a single application on a single operating system
> phenomenon (Acrobat reader on Windows).

Near everybody in the real world out there uses Windows (either
by choice or because of policy decisions), and almost all of those
users use Acrobat reader to look at PDFs.

The Reader is a badly designed program, but unless you know of an
alternative that can display PDFs with the same quality and same
extensive feature set, we are stuck with it.

Somebody on tex-implementors suggested an Abort/Retry/Fail approach
like DOS used to have, and that makes sense to me. Definately on
Windows, but I would like to have that as well (and I am on linux).

Best wishes,
Taco






From dak at gnu.org  Sat Mar 10 11:58:56 2007
From: dak at gnu.org (David Kastrup)
Date: Sat, 10 Mar 2007 11:58:56 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45F28DB9.8060909@elvenkind.com> (Taco Hoekwater's message of
	"Sat\, 10 Mar 2007 11\:51\:37 +0100")
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com>
Message-ID: <851wjxxt3j.fsf@lola.goethe.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> David Kastrup wrote:
>>
>> This is basically a single application on a single operating system
>> phenomenon (Acrobat reader on Windows).
>
> Near everybody in the real world out there uses Windows (either
> by choice or because of policy decisions), and almost all of those
> users use Acrobat reader to look at PDFs.
>
> The Reader is a badly designed program, but unless you know of an
> alternative that can display PDFs with the same quality and same
> extensive feature set, we are stuck with it.

I think it makes no sense to design a user interface that makes
dealing with a single program on a single platform easier.  If we want
to accommodate a single program, the solution is to use the DDC (or
whatever they are called) interfaces to the _program_ and close and
reopen the viewed file automatically, rather than redesigning the
interface to the human because of that single-use case and pretend
that it is a generally sane approach.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From taco at elvenkind.com  Sat Mar 10 12:04:22 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 10 Mar 2007 12:04:22 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <851wjxxt3j.fsf@lola.goethe.zz>
References: <45ED5903.5050905@imperium-noctem.de>	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>	<45F28123.4040801@wxs.nl>
	<856499xu2n.fsf@lola.goethe.zz>	<45F28DB9.8060909@elvenkind.com>
	<851wjxxt3j.fsf@lola.goethe.zz>
Message-ID: <45F290B6.9040908@elvenkind.com>

David Kastrup wrote:
> 
> I think it makes no sense to design a user interface that makes
> dealing with a single program on a single platform easier.  If we want

Please recall that this whole thing started with a Linux user having
file permission problems.



From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Sat Mar 10 12:10:14 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Sat, 10 Mar 2007 11:10:14 +0000
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45F28DB9.8060909@elvenkind.com>
References: <45ED5903.5050905@imperium-noctem.de>	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>	<45F28123.4040801@wxs.nl>	<856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com>
Message-ID: <45F29216.4050005@Royal-Tunbridge-Wells.Org>



Taco Hoekwater wrote:

> David Kastrup wrote:
>>
>> This is basically a single application on a single operating system
>> phenomenon (Acrobat reader on Windows).
> 
> Near everybody in the real world out there uses Windows (either
> by choice or because of policy decisions), and almost all of those
> users use Acrobat reader to look at PDFs.

Hear hear.
>
> The Reader is a badly designed program, but unless you know of an
> alternative that can display PDFs with the same quality and same
> extensive feature set, we are stuck with it.

Even if there were/is an alternative, few will choose to
use it.  PDF /is/ Adobe, so the reader of choice is Adobe's
reader.

> Somebody on tex-implementors suggested an Abort/Retry/Fail approach
> like DOS used to have, and that makes sense to me. Definately on
> Windows, but I would like to have that as well (and I am on linux).

I meant to respond to that (it was Fabrice's suggestion -- see below) :
I would not like the current behaviout to change in such a dramatic way
(two answers needed where one is currently sufficient), but I can see
the benefit in adding  new primitives to e-TeX to specify how such errors
are to be handled by default, e.g.,

	\onopeninerror {}
	\onopenouterror {}
	\onreaderror {}
	\onwriteerror {}
	\oninputerror {}

and so on ...

** Phil.
--------

FP wrote :

> Maybe another option could be to change the message for something like :
> 
> I can't find your file. Please chose :
> 1 to retry
> 2 to type another filename
> 3 to abort
> 
> Which would be clear for everybody.


From dak at gnu.org  Sat Mar 10 12:15:30 2007
From: dak at gnu.org (David Kastrup)
Date: Sat, 10 Mar 2007 12:15:30 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45F290B6.9040908@elvenkind.com> (Taco Hoekwater's message of
	"Sat\, 10 Mar 2007 12\:04\:22 +0100")
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com> <851wjxxt3j.fsf@lola.goethe.zz>
	<45F290B6.9040908@elvenkind.com>
Message-ID: <85wt1pwdrh.fsf@lola.goethe.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> David Kastrup wrote:
>>
>> I think it makes no sense to design a user interface that makes
>> dealing with a single program on a single platform easier.  If we want
>
> Please recall that this whole thing started with a Linux user having
> file permission problems.

Not for dvi/pdf files, and not because of file locking but because of
static file permissions.  I see little sense in making the
_application_ wrap every file access in abort/retry/ignore dialogs:
bad permissions are _not_ a part of the normal use patterns.

Again: I don't think we should let the Acrobat/Windows problem dictate
our strategy for dealing with I/O errors in general: the Acrobat
problem is so special that _if_ we want to cater for it, it is
reasonable to do this with a solution _specifically_ catering to the
Acrobat problem rather than making the behavior just somewhat less
painful by changing the semantics for everything.

That would presumably also allow to introduce close/reopen semantics
on platforms like GNU/Linux where we don't actually have a locking
problem but it still might be nice to have Acrobat refreshed
automatically.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From hartmut_henkel at gmx.de  Sat Mar 10 13:18:31 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sat, 10 Mar 2007 13:18:31 +0100 (CET)
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <85wt1pwdrh.fsf@lola.goethe.zz>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl>
	<856499xu2n.fsf@lola.goethe.zz> <45F28DB9.8060909@elvenkind.com>
	<851wjxxt3j.fsf@lola.goethe.zz> <45F290B6.9040908@elvenkind.com>
	<85wt1pwdrh.fsf@lola.goethe.zz>
Message-ID: <Pine.LNX.4.64.0703101304330.30991@hahepc1.hahe>

Hi,

what i don't understand at all is that you can even delete a .tex file
while reading it, e. g. foo.tex, by simply writing:

\openout 5 foo.tex \bye

Wouldn't the overall situation be better if there would be a clear
locking between writing and reading a file, so that only after explicit
\closein it could be written again, else it should give an error?
Looking up the relevant passages in the TeXbook and the tex.web code i
couldn't find a real indication for this, there is only in tex.web:

  @ Files can be closed with the \ph\ routine `|close(f)|', which
  @^system dependencies@>
  should be used when all input or output with respect to |f| has been completed.
  This makes |f| available to be opened again, if desired; and if |f| was used for
  output, the |close| operation makes the corresponding external file appear
  on the user's area, ready to be read.

Maybe one could interpret into this that a file must be closed after end
of input before it's available to be opened (e. g. for output) again?

Regards, Hartmut

From reinhard.kotucha at web.de  Sat Mar 10 17:50:39 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 10 Mar 2007 17:50:39 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45F28DB9.8060909@elvenkind.com>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com>
Message-ID: <17906.57823.102865.224251@zarniwoop.ms25.local>

>>>>> "Taco" == Taco Hoekwater <taco at elvenkind.com> writes:

  > Somebody on tex-implementors suggested an Abort/Retry/Fail
  > approach like DOS used to have, and that makes sense to
  > me. Definately on Windows, but I would like to have that as well
  > (and I am on linux).

The real problem is that the name of the output file is changed
silently unless a new name is provided.  If this can be fixed, you can
press <return> as often as you want.  You will remain in the loop
as long as tex can not access the file and tex will proceed when the
file is accessible.

An easy way to abort would be nice, for instance, let tex abort
immediately when CTRL-C is pressed while tex is waiting for input from
the keyboard.

I don't see that more is needed.  As far as Acrobat on Windows is
concerned, you have to close it and press <return> then and this will
be more convenient than a DOS-like menu.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From dak at gnu.org  Sat Mar 10 17:54:40 2007
From: dak at gnu.org (David Kastrup)
Date: Sat, 10 Mar 2007 17:54:40 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <17906.57823.102865.224251@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Sat\, 10 Mar 2007 17\:50\:39 +0100")
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com>
	<17906.57823.102865.224251@zarniwoop.ms25.local>
Message-ID: <85r6rxujhr.fsf@lola.goethe.zz>

Reinhard Kotucha <reinhard.kotucha at web.de> writes:

>>>>>> "Taco" == Taco Hoekwater <taco at elvenkind.com> writes:
>
>   > Somebody on tex-implementors suggested an Abort/Retry/Fail
>   > approach like DOS used to have, and that makes sense to
>   > me. Definately on Windows, but I would like to have that as well
>   > (and I am on linux).
>
> The real problem is that the name of the output file is changed
> silently unless a new name is provided.  If this can be fixed, you can
> press <return> as often as you want.  You will remain in the loop
> as long as tex can not access the file and tex will proceed when the
> file is accessible.
>
> An easy way to abort would be nice, for instance, let tex abort
> immediately when CTRL-C is pressed while tex is waiting for input
> from the keyboard.

That makes pressing C-c a matter of timing: if you press it while TeX
is busy (in order to get control back and check where you are), and
TeX manages to get to the input prompt just before you actually press
C-c, the process will get terminated accidentally.

So I think that pressing C-c twice should be required for termination.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From firmicus at ankabut.net  Sat Mar 10 17:57:47 2007
From: firmicus at ankabut.net (=?UTF-8?B?RnJhbsOnb2lzIENoYXJldHRl?=)
Date: Sat, 10 Mar 2007 17:57:47 +0100
Subject: [tex-live] Script to update packages
Message-ID: <45F2E38B.2020501@ankabut.net>


Hello everyone,

Suppose you find out that a particular package you intensively depend on 
has recently been updated on CTAN. Instead of waiting for TeXLive 2008, 
you will probably rather download it and install it manually in either 
your $TEXMFHOME or $TEXMFLOCAL tree. But this is a bit tedious and 
time-consuming.

Well, I have written a shell script, based on install-pkg.sh that comes 
with the live CD, to automate this task. Provided the package has been 
also updated on the TeX Live SVN repository (which in most cases happens 
soon after), the script will fetch the necessary files from the 
tug.org/texlive server via rsync. I doubt this would potentially create 
bandwidth problems, but Karl should definitively tell us whether this is 
acceptable or not.

In any case I am happy to provide this utility to whomever might be 
interested. However, I should add that I have not tested it more than 
moderately, and only on a Linux machine. For that matter, I have not 
made any attempt to ensure maximal portability of the script, e.g. by 
making use of the functions defined in the script utils.sh (also on the 
install CD).

Commentaries and improvements are of course welcome.

Regards,
Fran?ois


-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: texlive-pkginstall
Url: http://tug.org/pipermail/tex-live/attachments/20070310/820bb3c1/attachment-0001.pl 

From reinhard.kotucha at web.de  Sat Mar 10 21:06:56 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 10 Mar 2007 21:06:56 +0100
Subject: [tex-live] Script to update packages
In-Reply-To: <45F2E38B.2020501@ankabut.net>
References: <45F2E38B.2020501@ankabut.net>
Message-ID: <17907.4064.144589.470056@zarniwoop.ms25.local>

>>>>> "Fran?ois" == Fran?ois Charette <firmicus at ankabut.net> writes:

  > Well, I have written a shell script, based on install-pkg.sh that
  > comes with the live CD, to automate this task. Provided the
  > package has been also updated on the TeX Live SVN repository
  > (which in most cases happens soon after), the script will fetch
  > the necessary files from the tug.org/texlive server via rsync. I
  > doubt this would potentially create bandwidth problems, but Karl
  > should definitively tell us whether this is acceptable or not.

The packages and tpm files are updated in the repository only and no
zip files are created at this point.  The zip files you downloaded
from ftp://ftp.tug.org/texlive/Contents/inst are exactly the same
files which are on the CD.  Downloading any files from there is not
necessary.

I also doubt that it is a good idea to make package updates from files
in the repository.  You can never be sure that they are working
properly.  I remember that recently a package had been moved from one
directory to another one.  In this case you probably end up with two
different versions in different directories and it is unclear which
one will be found by tex.

Using files from the repository makes sense for testing only.
However, testers are always welcome.  In this case I recommend to use
rsync to keep the system up-to-date.  A lot of bandwidth and time can
be saved if people copy the content of the CD first to the Master
directory before they run rsync initially.

Being able to update TeXLive packages would be nice.  However, I
thought a lot about this in the past.  TeXLive is simply a lot of
work, most of the work is done by Karl, and I do not see that anybody
has enough time to maintain package updates.

I also do not think that everybody has to have always the latest
releases.  If some package on the CD is completely broken I think
it's sufficient if the author sends a fixed version to CTAN.  It
should be TDS-1.1 compliant so that it can be installed easily.

Of course, a package updating system would be nice, but I fear that it
costs too much time.

Regards, and many thanks for your effort,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From gnwiii at gmail.com  Sat Mar 10 23:33:20 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 10 Mar 2007 18:33:20 -0400
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <85r6rxujhr.fsf@lola.goethe.zz>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com>
	<17906.57823.102865.224251@zarniwoop.ms25.local>
	<85r6rxujhr.fsf@lola.goethe.zz>
Message-ID: <22af238a0703101433j3e74fffbt9a64b169b1f2fca4@mail.gmail.com>

On 3/10/07, David Kastrup <dak at gnu.org> wrote:

> Reinhard Kotucha <reinhard.kotucha at web.de> writes:
>
> >>>>>> "Taco" == Taco Hoekwater <taco at elvenkind.com> writes:
> >
> >   > Somebody on tex-implementors suggested an Abort/Retry/Fail
> >   > approach like DOS used to have, and that makes sense to
> >   > me. Definately on Windows, but I would like to have that as well
> >   > (and I am on linux).

Whatever is decided, it should be the same across platforms.

> > The real problem is that the name of the output file is changed
> > silently unless a new name is provided.  If this can be fixed, you can
> > press <return> as often as you want.  You will remain in the loop
> > as long as tex can not access the file and tex will proceed when the
> > file is accessible.
> >
> > An easy way to abort would be nice, for instance, let tex abort
> > immediately when CTRL-C is pressed while tex is waiting for input
> > from the keyboard.

Most users (the ones who don't try C-Alt+Del) click on the little 'x'
in such situations.

> That makes pressing C-c a matter of timing: if you press it while TeX
> is busy (in order to get control back and check where you are), and
> TeX manages to get to the input prompt just before you actually press
> C-c, the process will get terminated accidentally.
>
> So I think that pressing C-c twice should be required for termination.

When the system bogs down, people tend to press C-c multiple times,
then Alt-F4, then C-Alt+Del.

What if C-c once gets you to a prompt that just loops on additional C-c?
If C-c could discard any buffered inputs you could be more certain you
are seeing the response to a prompt and not someone's cat walking on
the keyboard.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From pfaeh at mysunrise.ch  Sun Mar 11 01:26:07 2007
From: pfaeh at mysunrise.ch (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Sun, 11 Mar 2007 01:26:07 +0100
Subject: [tex-live] documentation
Message-ID: <e1c21ab8e7a2812d55cd7a8e256d7a77@mysunrise.ch>

Hello,

Some docs are not linked properly (i.e. package geometry, fourier). I  
call texdoc, the browser starts up, but the link to the readme or to  
the doc file fails:

file:///usr/local/texlive/2007/texmf-doc/doc/english/catalogue/entries/ 
fourier.html
----->
file:///usr/local/texlive/2007/texmf-doc/doc/fonts/fourier-GUT/doc/ 
latex/fourier/fourier-doc-en.pdf

In the doc.html on the live-cd it is fine, also if I put the doc.html  
in the root directory 2007.

I use MacTeX (powerpc-darwin) and TeXLive i386-linux

Best  regards,

Philipp



From gnwiii at gmail.com  Sun Mar 11 12:51:04 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 11 Mar 2007 08:51:04 -0300
Subject: [tex-live] Script to update packages
In-Reply-To: <17907.4064.144589.470056@zarniwoop.ms25.local>
References: <45F2E38B.2020501@ankabut.net>
	<17907.4064.144589.470056@zarniwoop.ms25.local>
Message-ID: <22af238a0703110451h592467devb50249a70ff30154@mail.gmail.com>

On 3/10/07, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> >>>>> "Fran?ois" == Fran?ois Charette <firmicus at ankabut.net> writes:
>
>   > Well, I have written a shell script, based on install-pkg.sh that
>   > comes with the live CD, to automate this task. Provided the
>   > package has been also updated on the TeX Live SVN repository
>   > (which in most cases happens soon after), the script will fetch
>   > the necessary files from the tug.org/texlive server via rsync. I
>   > doubt this would potentially create bandwidth problems, but Karl
>   > should definitively tell us whether this is acceptable or not.

The MiKTeX package manager has been ported to *X and can be used to maintain
a texmf tree, e.g., texmf-updates.  My impression is that MiKTeX
binaries tend to lag behind TL (due to the effort needed to port *X
code), but that MiKTeX's texmf tree tracks CTAN fairly closely through
regular package updates.   I think there may be a few cases (ConTeXt?)
where current versions aren't available to MikTeX because they rely on
current binaries, but for the vast majority of packages it is a bug if
they don't support both MiKTeX and TL.

The TeX users I encounter are mostly involved in large projects where
some authors are on *X and some on Windows, so it is important that
documents work in either environment.  There are also users who have
to switch environments and need documents created on their previous
environment to work in the new environment.

> The packages and tpm files are updated in the repository only and no
> zip files are created at this point.  The zip files you downloaded
> from ftp://ftp.tug.org/texlive/Contents/inst are exactly the same
> files which are on the CD.  Downloading any files from there is not
> necessary.
>
> I also doubt that it is a good idea to make package updates from files
> in the repository.  You can never be sure that they are working
> properly.  I remember that recently a package had been moved from one
> directory to another one.  In this case you probably end up with two
> different versions in different directories and it is unclear which
> one will be found by tex.

There are advantages to everyone having the same TL tree.  In case of
trouble you can
rename texmf-local and $HOME/texmf and confirm the problem with a configuration
available to all.

> Using files from the repository makes sense for testing only.
> However, testers are always welcome.  In this case I recommend to use
> rsync to keep the system up-to-date.  A lot of bandwidth and time can
> be saved if people copy the content of the CD first to the Master
> directory before they run rsync initially.

Yes -- this method is practical even for people (such as myself) with
dialup access.

> Being able to update TeXLive packages would be nice.  However, I
> thought a lot about this in the past.  TeXLive is simply a lot of
> work, most of the work is done by Karl, and I do not see that anybody
> has enough time to maintain package updates.

The key to reducing the effort required to maintain TeXLive is to
improve CTAN.  If TL users test new things from CTAN with TL binaries
before they are put into the repository, fixes can get into CTAN
earlier.

> I also do not think that everybody has to have always the latest
> releases.  If some package on the CD is completely broken I think
> it's sufficient if the author sends a fixed version to CTAN.  It
> should be TDS-1.1 compliant so that it can be installed easily.
>
> Of course, a package updating system would be nice, but I fear that it
> costs too much time.

The time is being spent for MikTeX.  Using the MiKTeX package manager
to maintain a texmf-updates tree for *X systems is a practical way for
many TL users to get current packages, encourages resolving problems
before the updates get into TL and discourages gratutious divergences
between TL (leading distro for *X) and MiKTeX (leading distro for
Windows).

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From hanthethanh at gmail.com  Sun Mar 11 13:18:36 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Sun, 11 Mar 2007 13:18:36 +0100
Subject: [tex-live] Script to update packages
Message-ID: <74f506dc0703110518i4b1beab2s84c1c8b4c82c6aba@mail.gmail.com>

I also think the miktex tools would be great when it is
ready for Unix/Linux.

http://dojo.miktex.org/forums/3/665/ShowThread.aspx

Thanh

On Sun, Mar 11, 2007 at 08:51:04AM -0300, George N. White III wrote:
> On 3/10/07, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
>
> >>>>>> "Fran?ois" == Fran?ois Charette <firmicus at ankabut.net> writes:
> >
> >  > Well, I have written a shell script, based on install-pkg.sh that
> >  > comes with the live CD, to automate this task. Provided the
> >  > package has been also updated on the TeX Live SVN repository
> >  > (which in most cases happens soon after), the script will fetch
> >  > the necessary files from the tug.org/texlive server via rsync. I
> >  > doubt this would potentially create bandwidth problems, but Karl
> >  > should definitively tell us whether this is acceptable or not.
>
> The MiKTeX package manager has been ported to *X and can be used to maintain
> a texmf tree, e.g., texmf-updates.  My impression is that MiKTeX
> binaries tend to lag behind TL (due to the effort needed to port *X
> code), but that MiKTeX's texmf tree tracks CTAN fairly closely through
> regular package updates.   I think there may be a few cases (ConTeXt?)
> where current versions aren't available to MikTeX because they rely on
> current binaries, but for the vast majority of packages it is a bug if
> they don't support both MiKTeX and TL.
>
> [...]

From pragma at wxs.nl  Sun Mar 11 19:01:52 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 11 Mar 2007 19:01:52 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <851wjxxt3j.fsf@lola.goethe.zz>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com> <851wjxxt3j.fsf@lola.goethe.zz>
Message-ID: <45F44410.9020904@wxs.nl>

David Kastrup wrote:
> Taco Hoekwater <taco at elvenkind.com> writes:
>
>   
>> David Kastrup wrote:
>>     
>>> This is basically a single application on a single operating system
>>> phenomenon (Acrobat reader on Windows).
>>>       
>> Near everybody in the real world out there uses Windows (either
>> by choice or because of policy decisions), and almost all of those
>> users use Acrobat reader to look at PDFs.
>>
>> The Reader is a badly designed program, but unless you know of an
>> alternative that can display PDFs with the same quality and same
>> extensive feature set, we are stuck with it.
>>     
>
> I think it makes no sense to design a user interface that makes
> dealing with a single program on a single platform easier.  If we want
> to accommodate a single program, the solution is to use the DDC (or
> whatever they are called) interfaces to the _program_ and close and
> reopen the viewed file automatically, rather than redesigning the
> interface to the human because of that single-use case and pretend
> that it is a generally sane approach.
>
>   

to me a file bing locked for writing is not that weird a concept, and 
although it happens to be the case on windows with acrobat, it might as 
well happen with unix when there had been a viewer that does some 
caching (not unthinkcable for 400 mb files) or wants users to signal 
that an opened files to be overwritten. If you wonder why ... on some 
occasions acrobat will repair a damaged file and may ask a user to save 
the repaired file first which also will lock the file; talking of 
locking ... even another (pending or aborted) tex job can have a pdf 
file open ...

and, as taco mentions ... there is a lange amount of users out there on 
windows   

anyway, why do we always end up with  discussing non relevant operating 
system issues on this list

if the openers/writers in web2c cannot be made to distinguish between 
file types (in particular the output file) then that should be fixed, 
and we should not hide ourselved beyond generic 
openeres/writers/shared_code.  

Hans

From pragma at wxs.nl  Sun Mar 11 19:05:29 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 11 Mar 2007 19:05:29 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <Pine.LNX.4.64.0703101304330.30991@hahepc1.hahe>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com> <851wjxxt3j.fsf@lola.goethe.zz>
	<45F290B6.9040908@elvenkind.com> <85wt1pwdrh.fsf@lola.goethe.zz>
	<Pine.LNX.4.64.0703101304330.30991@hahepc1.hahe>
Message-ID: <45F444E9.6070209@wxs.nl>

Hartmut Henkel wrote:
>
> Maybe one could interpret into this that a file must be closed after end
> of input before it's available to be opened (e. g. for output) again?
>
>   
this makes much sense to me; implicit (automatic) closing of files is a 
bad idea anyway

Hans

From dak at gnu.org  Sun Mar 11 19:13:24 2007
From: dak at gnu.org (David Kastrup)
Date: Sun, 11 Mar 2007 19:13:24 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45F44410.9020904@wxs.nl> (Hans Hagen's message of "Sun\,
	11 Mar 2007 19\:01\:52 +0100")
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com> <851wjxxt3j.fsf@lola.goethe.zz>
	<45F44410.9020904@wxs.nl>
Message-ID: <85y7m3ps1n.fsf@lola.goethe.zz>

Hans Hagen <pragma at wxs.nl> writes:

> David Kastrup wrote:
>> Taco Hoekwater <taco at elvenkind.com> writes:
>>   
>>> David Kastrup wrote:
>>>     
>>>> This is basically a single application on a single operating system
>>>> phenomenon (Acrobat reader on Windows).
>>>
>>> The Reader is a badly designed program, but unless you know of an
>>>alternative that can display PDFs with the same quality and same
>>>extensive feature set, we are stuck with it.     
>>
>> I think it makes no sense to design a user interface that makes
>> dealing with a single program on a single platform easier.  If we
>> want to accommodate a single program, the solution is to use the
>> DDC (or whatever they are called) interfaces to the _program_ and
>> close and reopen the viewed file automatically, rather than
>> redesigning the interface to the human because of that single-use
>> case and pretend that it is a generally sane approach.   
>
> to me a file bing locked for writing is not that weird a concept,

Well, we see the trouble we get into for that.

> and although it happens to be the case on windows with acrobat, it
> might as well happen with unix when there had been a viewer that
> does some caching (not unthinkcable for 400 mb files) or wants users
> to signal that an opened files to be overwritten.

Unix does not lock based on file names.  It locks inodes.

> and, as taco mentions ... there is a lange amount of users out there
> on windows

So why do all of you yell "bloody murder" when I propose _explicitly_
dealing with the Acrobat/Windows case, which might also improve the
Acrobat/Unixlike case?

> anyway, why do we always end up with discussing non relevant
> operating system issues on this list

Because they are relevant to the user?

> if the openers/writers in web2c cannot be made to distinguish
> between file types (in particular the output file) then that should
> be fixed, and we should not hide ourselved beyond generic
> openeres/writers/shared_code.

Who is talking about "generic openers"?  I was proposing dealing with
the special Acrobat case specially rather than changing the general
case around to be only slightly less inconvenient in the problem case.

Of course, the "overwrite arbitrary files" thing needs to get fixed,
but I don't think we should _that_ particular fix be governed by the
behavior of the Acrobat reader on Windows: if that needs fixing, we
should fix that particular case with _dedicated_ code.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From pragma at wxs.nl  Sun Mar 11 19:23:18 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 11 Mar 2007 19:23:18 +0100
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <85y7m3ps1n.fsf@lola.goethe.zz>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com>
	<851wjxxt3j.fsf@lola.goethe.zz> <45F44410.9020904@wxs.nl>
	<85y7m3ps1n.fsf@lola.goethe.zz>
Message-ID: <45F44916.80602@wxs.nl>

David Kastrup wrote:
>
>> to me a file bing locked for writing is not that weird a concept,
>>     
>
> Well, we see the trouble we get into for that.
>   
hm, i thought that the problem is that tex wants to overwrite 
jobname.tex or in general may be tricked into overwriting files that are 
open for input;  there is no need to handle the normal open for writing 
cases in specials ways; so, acrobat is not really an issue here, only 
the reason why there is a retry with a same name

Hans



From gnwiii at gmail.com  Sun Mar 11 20:35:18 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 11 Mar 2007 16:35:18 -0300
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <45F44410.9020904@wxs.nl>
References: <45ED5903.5050905@imperium-noctem.de>
	<45EDA955.3030006@Royal-Tunbridge-Wells.Org>
	<20070306215131.GA5640@irwin.vpn.uni-freiburg.de>
	<45F28123.4040801@wxs.nl> <856499xu2n.fsf@lola.goethe.zz>
	<45F28DB9.8060909@elvenkind.com> <851wjxxt3j.fsf@lola.goethe.zz>
	<45F44410.9020904@wxs.nl>
Message-ID: <22af238a0703111235r3530ffa8t317d363df705eb03@mail.gmail.com>

On 3/11/07, Hans Hagen <pragma at wxs.nl> wrote:

> David Kastrup wrote:
> > Taco Hoekwater <taco at elvenkind.com> writes:
> >
> >
> >> David Kastrup wrote:
> >>
> >>> This is basically a single application on a single operating system
> >>> phenomenon (Acrobat reader on Windows).
> >>>
> >> Near everybody in the real world out there uses Windows (either
> >> by choice or because of policy decisions), and almost all of those
> >> users use Acrobat reader to look at PDFs.
> >>
> >> The Reader is a badly designed program, but unless you know of an
> >> alternative that can display PDFs with the same quality and same
> >> extensive feature set, we are stuck with it.
> >>
> >
> > I think it makes no sense to design a user interface that makes
> > dealing with a single program on a single platform easier.  If we want
> > to accommodate a single program, the solution is to use the DDC (or
> > whatever they are called) interfaces to the _program_ and close and
> > reopen the viewed file automatically, rather than redesigning the
> > interface to the human because of that single-use case and pretend
> > that it is a generally sane approach.
>
> to me a file bing locked for writing is not that weird a concept, and
> although it happens to be the case on windows with acrobat, it might as
> well happen with unix when there had been a viewer that does some
> caching (not unthinkcable for 400 mb files) or wants users to signal
> that an opened files to be overwritten. If you wonder why ... on some
> occasions acrobat will repair a damaged file and may ask a user to save
> the repaired file first which also will lock the file; talking of
> locking ... even another (pending or aborted) tex job can have a pdf
> file open ...

*X is fundamentally different because an open file is connected via
the inode -- once you have found the inode you no longer care what it
is called.  As long as you keep the inode open, the original contents
remain available despite what other processes might do (short of
crashing the system).    Some unix applications that write large files
will pre-allocate space to ensure that they will have a place to put
output when the time comes.  There are pdf documents that would
benefit from this (e.g., if \pdfdraftmode could generate an estimate
of the final file size and cache the value for future use).

> and, as taco mentions ... there is a lange amount of users out there on
> windows
>
> anyway, why do we always end up with  discussing non relevant operating
> system issues on this list

They are relevant because they are key to making things work smoothly
across the range of platforms.  I think supporting Windows is an
unsolved problem -- not just for TeX, but for many open source
projects and small commercial projects (Y&Y).

It is a fact of life for many projects of interest to TeX users
(ghostscript, xpdf, GNU tools, emacs, SciTE, gimp, cinepaint,
inkscape, etc.) that the user communities are  overwhelmingly using a
platform that the authors don't use on a daily basis.

> if the openers/writers in web2c cannot be made to distinguish between
> file types (in particular the output file) then that should be fixed,
> and we should not hide ourselved beyond generic
> openeres/writers/shared_code.

In the long run, it is unwise to rely on error handlers to deal with
"normal" situations --
as this thread confirms, error handling is usually hard, poorly
tested, not portable, and rarely helpful to users.  Rather than a
quick fix to make it easier for Windows users to retry after closing
the file in Adobe Reader, it would be much better to ensure that the
problem can't occur.  For many Windows users, the editor (e.g.,
WinEDT) or a wrapper script already does the work of telling Adobe
Reader to close the file (but when I tried this using pdfclose in
emacs, the emacs process hung on 100% CPU).

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From Sven.Hartrumpf at FernUni-Hagen.de  Mon Mar 12 10:42:39 2007
From: Sven.Hartrumpf at FernUni-Hagen.de (Sven.Hartrumpf at FernUni-Hagen.de)
Date: Mon, 12 Mar 2007 10:42:39 +0100 (CET)
Subject: [tex-live] bbold11.tfm in texlive-2007
Message-ID: <20070312.104239.59650825.Sven.Hartrumpf@fernuni-hagen.de>

Hi all.
bbold11.tfm seems to be missing in texlive-2007.

> find . -name "bbold*.*"
./texmf-dist/fonts/source/public/bbold/bbold10.mf
./texmf-dist/fonts/source/public/bbold/bbold12.mf
./texmf-dist/fonts/source/public/bbold/bbold17.mf
./texmf-dist/fonts/source/public/bbold/bbold5.mf
./texmf-dist/fonts/source/public/bbold/bbold6.mf
./texmf-dist/fonts/source/public/bbold/bbold7.mf
./texmf-dist/fonts/source/public/bbold/bbold8.mf
./texmf-dist/fonts/source/public/bbold/bbold9.mf
./texmf-dist/fonts/source/public/bbold/bbold11.mf
./texmf-dist/fonts/tfm/public/bbold/bbold10.tfm
./texmf-dist/fonts/tfm/public/bbold/bbold12.tfm
./texmf-dist/fonts/tfm/public/bbold/bbold17.tfm
./texmf-dist/fonts/tfm/public/bbold/bbold5.tfm
./texmf-dist/fonts/tfm/public/bbold/bbold6.tfm
./texmf-dist/fonts/tfm/public/bbold/bbold7.tfm
./texmf-dist/fonts/tfm/public/bbold/bbold8.tfm
./texmf-dist/fonts/tfm/public/bbold/bbold9.tfm

Sven
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070312/b81faec7/attachment-0001.bin 

From arthur.reutenauer at normalesup.org  Mon Mar 12 11:56:37 2007
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Mon, 12 Mar 2007 11:56:37 +0100
Subject: [tex-live] bbold11.tfm in texlive-2007
In-Reply-To: <20070312.104239.59650825.Sven.Hartrumpf@fernuni-hagen.de>
References: <20070312.104239.59650825.Sven.Hartrumpf@fernuni-hagen.de>
Message-ID: <20070312105637.GA12146@clipper.ens.fr>

> Hi all.

  Actually, on both my TeX Lives (2005 and 2007), there is no bbold11.mf,
either. Seeing as how texmf-dist/fonts/tex/latex/bbold/Ubbold.fd seems to
know nothing about a bbold11 font, it's rather strange that you would
have a bbold11.mf at all. Could you please send it to the list?

	Yours,

			Arthur

From Sven.Hartrumpf at FernUni-Hagen.de  Mon Mar 12 12:34:01 2007
From: Sven.Hartrumpf at FernUni-Hagen.de (Sven.Hartrumpf at FernUni-Hagen.de)
Date: Mon, 12 Mar 2007 12:34:01 +0100 (CET)
Subject: [tex-live] bbold11.tfm in texlive-2007
In-Reply-To: <20070312105637.GA12146@clipper.ens.fr>
References: <20070312.104239.59650825.Sven.Hartrumpf@fernuni-hagen.de>
	<20070312105637.GA12146@clipper.ens.fr>
Message-ID: <20070312.123401.35011176.Sven.Hartrumpf@fernuni-hagen.de>

Mon, 12 Mar 2007 11:56:37 +0100, arthur.reutenauer wrote:

> Actually, on both my TeX Lives (2005 and 2007), there is no bbold11.mf,
> either. Seeing as how texmf-dist/fonts/tex/latex/bbold/Ubbold.fd seems to
> know nothing about a bbold11 font, it's rather strange that you would
> have a bbold11.mf at all.

I am sorry: the bbold11.mf is from a much older tex distribution.
So I have to rephrase my question:

Does anybody have the following files for use with texlive-2007:

bbold11.mf
bbold11.tfm
and probably also an extended Ubbold.fd

Thanks in advance
Sven
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070312/8235d3e6/attachment.bin 

From staw at gust.org.pl  Mon Mar 12 12:33:42 2007
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon, 12 Mar 2007 12:33:42 +0100 (CET)
Subject: [tex-live] bbold11.tfm in texlive-2007
In-Reply-To: <20070312.104239.59650825.Sven.Hartrumpf@fernuni-hagen.de>
Message-ID: <Pine.LNX.4.44.0703121229480.17039-100000@fam82.internetdsl.tpnet.pl>

On Mon, 12 Mar 2007 Sven.Hartrumpf at fernuni-hagen.de wrote:

> Hi all.
> bbold11.tfm seems to be missing in texlive-2007.
> 
> > find . -name "bbold*.*"
> ...
> ./texmf-dist/fonts/source/public/bbold/bbold11.mf
???
bbold11.mf *never* existed on TeX Live and/or on CTAN.
Anyway, you can always generate such font, but it is another story, not
related to this mailing list...

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From fcharette at ankabut.net  Mon Mar 12 12:29:55 2007
From: fcharette at ankabut.net (=?ISO-8859-1?Q?Fran=E7ois_Charette?=)
Date: Mon, 12 Mar 2007 12:29:55 +0100
Subject: [tex-live] Script to update packages
In-Reply-To: <17907.4064.144589.470056@zarniwoop.ms25.local>
References: <45F2E38B.2020501@ankabut.net>
	<17907.4064.144589.470056@zarniwoop.ms25.local>
Message-ID: <45F539B3.7060409@ankabut.net>

Reinhard Kotucha wrote :
 > "Fran?ois"  <firmicus at ankabut.net> writes:
 >
 >   > Well, I have written a shell script, based on install-pkg.sh that
 >   > comes with the live CD, to automate this task. Provided the
 >   > package has been also updated on the TeX Live SVN repository
 >   > (which in most cases happens soon after), the script will fetch
 >   > the necessary files from the tug.org/texlive server via rsync. I
 >   > doubt this would potentially create bandwidth problems, but Karl
 >   > should definitively tell us whether this is acceptable or not.
 >
 > The packages and tpm files are updated in the repository only and no
 > zip files are created at this point.  The zip files you downloaded
 > from ftp://ftp.tug.org/texlive/Contents/inst are exactly the same
 > files which are on the CD.  Downloading any files from there is not
 > necessary.

I know that! But this is not the default option, which is to fetch the 
updated files using rsync. (I have put the --zip option mainly for my 
private use since I have never downloaded the ISO image, as I made my 
own custom installation via rsync and compilation from source in 
parallel to my effort of packaging texlive for Arch Linux. With the 
--zip option I can also install any TeX Live package without requiring 
the CD. So yes, this option is unlikely to be useful to other users).

 > I also doubt that it is a good idea to make package updates from files
 > in the repository.  You can never be sure that they are working
 > properly.  I remember that recently a package had been moved from one
 > directory to another one.  In this case you probably end up with two
 > different versions in different directories and it is unclear which
 > one will be found by tex.
 >
 > Using files from the repository makes sense for testing only.
 > However, testers are always welcome.  In this case I recommend to use
 > rsync to keep the system up-to-date.  A lot of bandwidth and time can
 > be saved if people copy the content of the CD first to the Master
 > directory before they run rsync initially.
 >
 > Being able to update TeXLive packages would be nice.  However, I
 > thought a lot about this in the past.  TeXLive is simply a lot of
 > work, most of the work is done by Karl, and I do not see that anybody
 > has enough time to maintain package updates.
 >
 > I also do not think that everybody has to have always the latest
 > releases.  If some package on the CD is completely broken I think
 > it's sufficient if the author sends a fixed version to CTAN.  It
 > should be TDS-1.1 compliant so that it can be installed easily.
 >
 > Of course, a package updating system would be nice, but I fear that it
 > costs too much time.

I perfectly agree with all of your points, but you should bear in mind 
that my script does not mess up with your TeX Live installation and does 
not overwrite anything. The updated files are rather placed either in 
$TEXMFLOCAL or $TEXMFHOME. So if the updated package causes trouble you 
can easily remove it, and the previous version will continue to work as 
before. And if you can identify the problem and inform the maintainer of 
the package and/or the maintainers of TeXLive, then everybody will benefit.

As I hope I made clear in my initial posting, I just wrote a modest 
utility for my own use and sent it to the list because I thought some 
people might find it useful. It is far beyond my intention to develop a 
package management system for TL, though I think adapting the MikTeX 
package manager for TL is a promising avenue.

Best,
Fran?ois


From Sven.Hartrumpf at FernUni-Hagen.de  Tue Mar 13 16:33:01 2007
From: Sven.Hartrumpf at FernUni-Hagen.de (Sven.Hartrumpf at FernUni-Hagen.de)
Date: Tue, 13 Mar 2007 16:33:01 +0100 (CET)
Subject: [tex-live] bbold11.tfm in texlive-2007
In-Reply-To: <20070312.123401.35011176.Sven.Hartrumpf@fernuni-hagen.de>
References: <20070312.104239.59650825.Sven.Hartrumpf@fernuni-hagen.de>
	<20070312105637.GA12146@clipper.ens.fr>
	<20070312.123401.35011176.Sven.Hartrumpf@fernuni-hagen.de>
Message-ID: <20070313.163301.74754168.Sven.Hartrumpf@fernuni-hagen.de>

Mon, 12 Mar 2007 12:34:01 +0100 (CET), Sven.Hartrumpf wrote:

> Does anybody have the following files for use with texlive-2007:
>
> bbold11.mf
> bbold11.tfm
> and probably also an extended Ubbold.fd

Here is what worked for me:

1. find a file bbold11.fm (327 bytes) on the web

2. rename it to bbold11.mf

3. put bbold11.mf in the right directory
   (.../texmf-var/fonts/source/public/bbold/ )

Now style files that require this "strange" font will work without
complaints and build derived files as needed.

Greetings
Sven
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070313/b0c3ce63/attachment.bin 

From Jean-Pierre.Chretien at cert.fr  Tue Mar 13 17:28:01 2007
From: Jean-Pierre.Chretien at cert.fr (Jean-Pierre Chretien)
Date: Tue, 13 Mar 2007 17:28:01 +0100 (MET)
Subject: [tex-live] Execution time on Solaris Sparc
Message-ID: <200703131628.l2DGS1T14533@cressida.cert.fr>


>>X-Envelope-From: karl at freefriends.org
>>X-Envelope-To: Jean-Pierre.Chretien at cert.fr
>>Date: Fri, 2 Mar 2007 16:21:48 -0600
>>From: karl at freefriends.org (Karl Berry)
>>To: Jean-Pierre.Chretien at cert.fr
>>Subject: Re: [tex-live] Execution time on Solaris Sparc
>>
>>    And the time is lost when the packages are loaded, not when the document
>>    itself is compiled, where the time spent seems similar.
>>
>>My guess would be ls-R problems.
>>
>>You could get some info by running with env KPATHSEA_DEBUG=-1
>>and/or TEXMFLOG=/tmp/log.  See the Debugging and Logging nodes in the
>>Kpathsea manual.

You are right, I found what happened with the help of the debug flag.
On the inst iso image, TEXMFHOME is defined as $HOME/$HOMEtexmf
which is expanded as $HOME// as $HOMEtexmf does not exist, and
thus the home tree is explored recursively on disk, as
home dirs have no ls-R file.

I overlooked this, and I have a big home tree :-(

On the live image, the TEXMFHOME variable is defined as
TEXMFHOME = $HOME/texmf
I guess I must have exported my customized texmf.cnf file from inst to live
to have the same latency problem with both distributions.

About the home trees, why not unify the user trees with
TEXMFHOME = $HOME/.texlive2007/texmf

Thanks for the help with kpathsea

-- 
Jean-Pierre

I take the liberty to restore the initial thread on the list, I unfortunately 
broke it with a private exchange, sorry,










From pascal at unilogicnetworks.net  Wed Mar 14 09:03:47 2007
From: pascal at unilogicnetworks.net (Pascal de Bruijn)
Date: Wed, 14 Mar 2007 09:03:47 +0100
Subject: [tex-live] nfssext.sty missing
Message-ID: <1173859428.4669.1.camel@agamemnon.office.unilogicnetworks.net>

Hi,

TexLive 2007 seems to be missing nfssext.sty:



(/opt/texlive/texmf-dist/tex/latex/base/book.cls
Document Class: book 2005/09/16 v1.4f Standard LaTeX document class
(/opt/texlive/texmf-dist/tex/latex/base/bk11.clo))
(/opt/texlive/texmf-dist/tex/generic/babel/babel.sty
(/opt/texlive/texmf-dist/tex/generic/babel/dutch.ldf
(/opt/texlive/texmf-dist/tex/generic/babel/babel.def)))
(/home/pmjdebruijn/.texlive2007/texmf-var/tex/latex/warnock.sty
(/opt/texlive/texmf-dist/tex/latex/base/fontenc.sty
(/opt/texlive/texmf-dist/tex/latex/ly1/ly1enc.def)
(/opt/texlive/texmf-dist/tex/latex/ly1/ly1ptm.fd))
(/opt/texlive/texmf-dist/tex/latex/base/textcomp.sty
(/opt/texlive/texmf-dist/tex/latex/base/ts1enc.def))
(/opt/texlive/texmf-dist/tex/latex/xkeyval/xkeyval.sty
(/opt/texlive/texmf-dist/tex/latex/xkeyval/xkeyval.tex
(/opt/texlive/texmf-dist/tex/latex/xkeyval/keyval.tex)))

! LaTeX Error: File `nfssext.sty' not found.

Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: sty)

Enter file name: 
) (/opt/texlive/texmf-dist/tex/latex/sectsty/sectsty.sty)
(/opt/texlive/texmf-dist/tex/latex/graphics/graphicx.sty
(/opt/texlive/texmf-dist/tex/latex/graphics/graphics.sty
(/opt/texlive/texmf-dist/tex/latex/graphics/trig.sty)
(/opt/texlive/texmf/tex/latex/config/graphics.cfg)
(/opt/texlive/texmf-dist/tex/latex/pdftex-def/pdftex.def)))
(/opt/texlive/texmf-dist/tex/latex/hyperref/hyperref.sty
(/opt/texlive/texmf-dist/tex/latex/hyperref/pd1enc.def)
(/opt/texlive/texmf/tex/latex/config/hyperref.cfg)
(/opt/texlive/texmf-dist/tex/latex/oberdiek/kvoptions.sty)
Implicit mode ON; LaTeX internals redefined
(/opt/texlive/texmf-dist/tex/latex/ltxmisc/url.sty))
*hyperref using driver hpdftex*
(/opt/texlive/texmf-dist/tex/latex/hyperref/hpdftex.def)

Package hyperref Warning: Option `pdftex' has already been used,
(hyperref)                setting the option has no effect on input line
16.

(/opt/texlive/texmf-dist/tex/latex/attachfile/attachfile.sty
(/opt/texlive/texmf-dist/tex/generic/oberdiek/ifpdf.sty)
(/opt/texlive/texmf-dist/tex/latex/tools/calc.sty)
(/opt/texlive/texmf-dist/tex/latex/graphics/color.sty
(/opt/texlive/texmf/tex/latex/config/color.cfg))) (./stageverslag.aux)
(/opt/texlive/texmf-dist/tex/latex/base/ts1cmr.fd)
(/home/pmjdebruijn/.texlive2007/texmf-var/tex/latex/ly1pwpj.fd)
(/opt/texlive/texmf-dist/tex/context/base/supp-pdf.tex


Regards,

Pascal de Bruijn <pascal at unilogicnetworks.net>
Intern - Unilogic Networks B.V.

Unilogic Networks B.V.
Bergerweg 120
6135 KD Sittard
T: 046-4571640
F: 046-4571641
E: info at unilogicnetworks.net


From martin at oneiros.de  Wed Mar 14 20:08:57 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 14 Mar 2007 20:08:57 +0100
Subject: [tex-live] nfssext.sty missing
In-Reply-To: <1173859428.4669.1.camel@agamemnon.office.unilogicnetworks.net>
References: <1173859428.4669.1.camel@agamemnon.office.unilogicnetworks.net>
Message-ID: <68c491a60703141208k36ebcbacqedaa99246a2d7400@mail.gmail.com>

2007/3/14, Pascal de Bruijn <pascal at unilogicnetworks.net>:
> TexLive 2007 seems to be missing nfssext.sty:

No wonder, as it's not on CTAN, and according to
fontinstallationguide.pdf you have to create it yourself.

Best
   Martin

PS: Disclaimer: I've never used it.

From siepo at cybercomm.nl  Thu Mar 15 13:05:19 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 15 Mar 2007 13:05:19 +0100
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <400557.20587.qm@web55601.mail.re4.yahoo.com>
References: <17899.28176.510160.967292@zarniwoop.ms25.local>
	<400557.20587.qm@web55601.mail.re4.yahoo.com>
Message-ID: <20070315120519.GA5197@molly>

An embedded and charset-unspecified text was scrubbed...
Name: warning1.txt
Url: http://tug.org/pipermail/tex-live/attachments/20070315/50d7ef8a/attachment.txt 
-------------- next part --------------
On Sun, Mar 04, 2007 at 11:58:54PM -0800, poti giannakouros wrote:
> 
> 
> Reinhard Kotucha <reinhard.kotucha at web.de> wrote: >>>>> "Siep" == Siep Kroonenberg  writes:
> 
>   > Of course you could also set environment variables via Settings /
>   > Control Panel System / Advanced tab / Environment variables.
> 
> This is certainly much easier than setting the environment in Emacs.
> It has some other advantages as well.
> For the person who posted this thread, I can imagine this is true  but I am not 
>  sure if that is the case for me.
>  
>  The endpoint I need is for a student to be able to put the DVD
>  into a random lab computer, probably a different one each time,
>  and just start working. Because of its particular inter-operation
>  with the R statistical language (these are Statistics students),
>  Emacs is a necessary component. Asking students to click around
>  setting environment variables each time will cost precious
>  goodwill, so I am glad to put the work in on my side. I chose to
>  go the Emacs route rather than tcl/tk (altering tlpmgui) because
>  learning about that is something more likely to be useful to me
>  in the near future than other alternatives. 

Here is a script for running TeX Live from dvd. It sets or modifies
some user-level environment variables, including path, and places
some files under %USERPROFILE%. In its current form, it does nothing
about dviout.

Formats and mapfiles are generated by a batchfile that the script
creates and runs at the end. That was the only way I could think of
to give mktexlsr etc. the necessary environment without forcing the
user to re-login. In its present form, it just generates a LaTeX
format but that is easily changed.

The script performs the following tests before doing anything:

It tests for Ghostscript, both on the searchpath and in the
registry, and bails out with an explanation if it doesn't find it.

It tests for another TeX on the searchpath and bails out if it does
find one.

It tests for another Perl on the searchpath, and won't set PERL5LIB
later on if it finds one. Since the script adds the texlive bin
directory at the end of the searchpath, a preinstalled Perl will get
precedence.

LaTeX, pdflatex, dvips, mpost, mptopdf and epstopdf seem to work
ok. I could also use the TeXLive dvd as backend for TeXnicCenter.

I used vbscript because it is built into w2k and later, and has
functions for string handling and for accessing the registry.  Other
than that, it has strange omissions, a confusing syntax and terrible
debug facilities.

If anybody wants to delve in and needs documentation on vbscript:
find a WGA-enabled Windows system and download a .chm vbscript
reference from the microsoft site,
http://www.microsoft.com/downloads/details.aspx?familyid=8AB2EE94-E682-4597-94F9-55A29ECFE8D1&displaylang=en

-- Siep Kroonenberg

From siepo at cybercomm.nl  Thu Mar 15 13:15:31 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 15 Mar 2007 13:15:31 +0100
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <20070315120519.GA5197@molly>
References: <17899.28176.510160.967292@zarniwoop.ms25.local>
	<400557.20587.qm@web55601.mail.re4.yahoo.com>
	<20070315120519.GA5197@molly>
Message-ID: <20070315121531.GB5197@molly>

On Thu, Mar 15, 2007 at 01:05:19PM +0100, Siep Kroonenberg wrote:
> WARNING: This e-mail has been altered by MIMEDefang.  Following this
> paragraph are indications of the actual changes made.  For more
> information about your site's MIMEDefang policy, contact
> Daimi virus/spamfilter <postmaster at daimi.au.dk>.  For more information about MIMEDefang, see:
> 
>             http://www.roaringpenguin.com/mimedefang/enduser.php3
> 
> An attachment named tl_start.vbs was removed from this document as it
> constituted a security hazard.  If you require this document, please contact
> the sender and arrange an alternate means of receiving it.

Here is the script in-line:

' Prepare a Windows system for running TeX Live from dvd.
' This involves adding or changing some user environment variables
' and placing some files under %USERPROFILE%.

Option Explicit

On Error Resume Next

Dim bTlOnPath, sTLroot, sTLrootSl, sTLrootBin, sTLmain, sTLocal
Dim bGsOnPath, bGsFound, nGsVersion, sGsRoot, sGsRootParent
Dim bPerlOnPath
Dim i, j, k, l, m, n, sTemp, sTemp2, oFile

' load necessary functionality

Dim oWsh, oFS
Set oWsh = Wscript.CreateObject("WScript.Shell")
Set oFS = CreateObject("Scripting.FileSystemObject")

' functions and subroutines ''''''''''''''''''''

' Backslashes

Function Bsl( s )
  Bsl = Replace( s, "/", "\" )
End Function

Function AddBsl(sDir)
  Dim sTmp
  sTmp = Bsl( sDir )
  If Right( sTmp, 1 ) = "\" Then
    AddBsl = sTmp
  Else
    AddBsl = sTmp & "\"
  End If
End Function

Function RemoveSl(sDir)
  If ( Right( sDir, 1 ) = "\" ) or ( Right( sDir, 1 ) = "/" ) Then
    RemoveSl = Left( sDir, len( sDir ) - 1 )
  Else
    RemoveSl = sDir
  End If
End Function

' convert Ghostscript versions from and to
' an integer between 800 and 999

Function num2version (i)
  Dim numstr
  numstr = CStr( i )
  num2version = left( numstr, 1 ) & "." & right( numstr, 2 )
End Function

' search a program on the searchpath

Dim PathHelp
PathHelp = vbNewLine & _
  "You can edit the search path as follows:" & vbNewLine & _
  "right-click My Computer, choose Properties, Advance Tab," _
  & vbNewLine & _
  "Environment Variables button, and edit the Path entries" & _
  " in either pane." & vbNewLine & _
  "The top pane may not have a path entry but you may create one for it." _
  & vbNewLine & _
  "The bottom (system) path entry has priority over the top (user) one."

Function FindOnPath( s )
  Dim paths, d, tmp
  Err.clear()
  paths = Split( oWsh.expandenvironmentstrings( "%path%" ), ";", -1 )
  FindOnPath = ""
  For Each d in paths
    tmp = AddBsl( d )
    If oFS.FileExists( tmp & s ) Then
      FindOnPath = tmp
      Exit For
    End If
  Next
End Function

' create a folder if it doesn't exist.
' bail out if the folder doesn't exist and can't be created.

sub CreateTry( sFolder )
  If Not oFS.FolderExists( sFolder ) Then
    oFS.CreateFolder( sFolder )
    If Not oFS.FolderExists( sFolder ) Then
      MsgBox "Cannot create " & sFolder & "; aborting..."
      WScript.Quit( 1 )
    End If
  End If
End Sub

' where are we? ''''''''''''''''''''''''''''''''''''''''''''

sTemp = Wscript.ScriptFullName
sTLroot = oFS.GetParentFolderName( sTemp )
sTLrootSl = AddBsl(sTLroot)
sTLrootBin = sTLrootSl & "bin\win32"

' diagnostics '''''''''''''''''''''''''''''''''''''''''''''''

' check path for conflicting TeX

bTlOnPath = False

Err.Clear()
sTemp = ""
sTemp = FindOnPath( "pdftex.exe" )
If ( sTemp <> "" ) Then
  ' WARNING: the test below does not take short names into account!
  If UCase( AddBsl( sTemp ) ) <> UCase( sTLrootBin & "\" ) Then
    Wscript.Echo "Found another TeX in " & sTemp & ";" & vbNewLine & _
    "Please uninstall this TeX or remove it from your search path." _
    & vbNewLine & PathHelp
    Wscript.Quit( 1 )
  Else
    bTlOnPath = True
  End If
End If

' Find Ghostscript

' Ghostscript on path?

bGsFound = False
bGsOnPath = False
sGsRoot = ""
sGsRootParent = ""

sTemp = FindOnPath( "gswin32c.exe" )
If sTemp <> "" Then
  ' root of this version
  sTemp = RemoveSl( sTemp )
  sGsRoot = RemoveSl( oFS.GetParentFolderName( RemoveSl( sTemp ) ) )
  sGsRootParent = RemoveSl(oFS.GetParentFolderName( sGsRoot ) )
  bGsFound = True
  bGsOnPath = True
End If

' if not, check registry.
' Have to do some guessing here.
' First try most attractive options

nGsVersion = 0

if Not bGsFound Then
  For l = 999 to 800 step -1
    For Each k in Array( "HKCU", "HKLM" )
      For Each i in Array( "GPL", "GNU", "AFPL", "ESP" )
        Err.Clear()
        sTemp = oWsh.RegRead( _
             k & "\software\" & i & " Ghostscript\" _
          & num2version( l ) & "\GS_DLL" )
        If ( Not Err ) and ( sTemp <> "" ) Then
          sGsRoot = left( sTemp, _
            len( sTemp ) - len( "\bin\gsdll32.dll" ) )
          sGsRootParent = _
            RemoveSl(oFS.GetParentFolderName( sGsRoot ) )
          nGsVersion = l
          bGsFound = True
          Exit For
        End If
      Next
      If nGsVersion > 0 Then Exit For
    Next
    If nGsVersion > 0 Then Exit For
  Next
  If not bGsFound Then
    Wscript.Echo "No Ghostscript found." & vbNewLine & _
       "Please run the Ghostscript " _
      & "installer " & sTlRootSl & "support\gs854w32-tl.zip first," _
      & vbNewLine & _
      "or, if you do have Ghostscript, add it to the search path." _
      & vbNewLine & PathHelp
    Wscript.Quit( 1 )
  End If
End If

' test for pre-installed Perl.

bPerlOnPath = False
sTemp = FindOnPath( "perl.exe" )
If ( sTemp <> "" ) and _
    ( UCase( AddBsl( sTemp ) ) <> UCase( sTLrootBin & "\" ) ) Then
  bPerlOnPath = True
End If

' create directories '''''''''''''''''''''''''''''''''''''''''''

sTLmain = AddBsl( oWsh.expandenvironmentstrings( "%USERPROFILE%" ) ) & _
  "TeXLive2007"
sTLocal = AddBsl( oWsh.expandenvironmentstrings( "%USERPROFILE%" ) ) & _
  "texmf-local"

CreateTry sTLmain
CreateTry sTLmain & "\texmf-var"
CreateTry sTLmain & "\texmf-var\web2c"

oFS.CopyFile sTLrootSl & "texmf\web2c\texmf.cnf-4WIN", _
  sTLmain & "\texmf-var\web2c\texmf.cnf"
oFS.CopyFile sTLrootSl & "texmf\web2c\fmtutil.cnf", _
  sTLmain & "\texmf-var\web2c\fmtutil.cnf"

CreateTry sTLmain & "\texmf-var\tex"
CreateTry sTLmain & "\texmf-var\tex\generic"
CreateTry sTLmain & "\texmf-var\tex\generic\config"

oFS.CopyFile sTLrootSl & "texmf\tex\generic\config\language.dat", _
  sTLmain & "\texmf-var\tex\generic\config\language.dat"

CreateTry sTLmain & "\temp"
CreateTry sTLocal
CreateTry sTLocal & "\doc"
CreateTry sTLocal & "\dvips"
CreateTry sTLocal & "\fonts"
CreateTry sTLocal & "\tex"

' additions to the search path '''''''''''''''''''''''''''''''''''

' Ghostscript and TeXLive are appended to the user searchpath,
' inasfar as necessary. A pre-installed Perl on the old path will
' automatically have priority.

sTemp = ""
If ( Not bTlOnPath ) Then
  sTemp = sTLrootBin
End If
If Not bGsOnPath Then
  If sTemp = "" Then
    sTemp = sGsRoot & "\bin"
  Else
    sTemp = sTemp & ";" & sGsRoot & "\bin"
  End If
End If
If Not sTemp = "" Then
  Err.Clear()
  sTemp2 = oWsh.RegRead( "HKCU\environment\path" )
  If ( Not Err ) and ( sTemp2 <> "" ) Then
    sTemp = sTemp2 & ";" & sTemp
  End If
  If InStr( 1, sTemp, "%" ) > 0 Then
    oWsh.RegWrite "HKCU\Environment\Path", sTemp, "REG_EXPAND_SZ"
  Else
    oWsh.RegWrite "HKCU\Environment\Path", sTemp
  End If
End If

' other environment settings ''''''''''''''''''''''''''''''''''''

' perl

If Not bPerlOnPath Then
  oWsh.RegWrite "HKCU\environment\PERL5LIB", sTLrootSl & _
    "perltl\lib;" & sTLrootSl & "perltl\site\lib"
End If

' Ghostscript; assume the usual Ghostscript directory layout

oWsh.RegWrite "HKCU\environment\GS_LIB", _
  sGsRoot & "\lib;" & sGsRootParent & "\fonts;" & _
  sGsRoot & "\Resource", "REG_SZ"
oWsh.RegWrite "HKCU\environment\GS_DLL", _
  sGsRoot & "\bin\gsdll32.dll", "REG_SZ"

' TeXLive env vars

oWsh.RegWrite "HKCU\environment\TEXMFCNF", _
  sTLmain & "\texmf-var\web2c"
oWsh.RegWrite "HKCU\environment\TEXMFTEMP", _
  sTLmain & "\temp"
oWsh.RegWrite "HKCU\environment\TEXMFVAR", _
  sTLmain & "\texmf-var"
oWsh.RegWrite "HKCU\environment\TEXMFLOCAL", _
  sTLocal
oWsh.RegWrite "HKCU\environment\TLroot", sTLmain

' generate files

Set oFile = oFS.CreateTextFile( sTLmain & "\temp\tl_generate.bat" )
oFile.WriteLine( "@echo off" )
oFile.WriteLine( "path %path%;" & sTLrootSl & "bin\win32" )
oFile.WriteLine( "set TEXMFCNF=" & sTLmain & "\texmf-var\web2c" )
oFile.WriteLine( "set TEXMFTEMP=" & sTLmain & "\temp" )
oFile.WriteLine( "set TEXMFVAR=" & sTLmain & "\texmf-var" )
oFile.WriteLine( "set TEXMFLOCAL=" & sTLocal )
oFile.WriteLine( "set TLroot=" & sTLmain )
oFile.WriteLine( "mktexlsr" )
oFile.WriteLine( "updmap" )
oFile.WriteLine( "fmtutil --byfmt latex" )
'oFile.WriteLine( "fmtutil --all" )
oFile.WriteLine( "echo Done. Please re-login." )
oFile.WriteLine( "pause" )
oFile.close
oWsh.run """" & sTLmain & "\temp\tl_generate.bat" & """", 1, true
'oFS.deletefile( sTLmain & "\temp\tl_generate.bat" )

-- 
Siep Kroonenberg

From frank at debian.org  Thu Mar 15 16:40:23 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 15 Mar 2007 16:40:23 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <slrnev2fu5.rko.joerg@alea.gnuu.de> (=?iso-8859-1?Q?J=F6rg?=
	Sommer's message of "Fri\, 9 Mar 2007 11\:06\:45 +0000 \(UTC\)")
References: <slrnev15kr.rko.joerg@alea.gnuu.de>
	<87vehau7sf.fsf@riesling.zuerich.kuesterei.ch>
	<slrnev2fu5.rko.joerg@alea.gnuu.de>
Message-ID: <87hcsm347s.fsf_-_@riesling.zuerich.kuesterei.ch>

Hi,

a Debian user has noticed that, although texdoc uses 'kpsewhich
--format="TeX system documentation"' and thus the $TEXDOCS variable for
its main work, the search mode accesses $TEXMF/doc directly and ignores
changes/additions in TEXDOC.

The following patch would make it more consistent:

--- src/Upstream-source/TeXLive/Build/source/texk/tetex/texdoc.orig	2007-03-15 16:36:30.000000000 +0100
+++ src/Upstream-source/TeXLive/Build/source/texk/tetex/texdoc	2007-03-15 16:37:20.000000000 +0100
@@ -140,7 +140,7 @@
 do
   case $mode in
     search)
-      find `kpsewhich --expand-path='$TEXMF/doc' | tr : ' '` -type f -print |
+      find `kpsewhich --expand-path='$TEXDOCS' | tr : ' '` -type f -print |
         egrep $name
       continue
       ;;

(too simple to be copyrightable, of course).

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From karl at freefriends.org  Thu Mar 15 18:33:35 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 12:33:35 -0500
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <87hcsm347s.fsf_-_@riesling.zuerich.kuesterei.ch>
Message-ID: <200703151733.l2FHXZu32115@f7.net>

    The following patch would make it more consistent:

I applied it.  Thanks.

Excuse my self-ignorance, but is texdoc maintained anywhere besides TL?

Thanks,
K

From frank at debian.org  Thu Mar 15 19:20:47 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 15 Mar 2007 19:20:47 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <200703151733.l2FHXZu32115@f7.net> (Karl Berry's message of "Thu\,
	15 Mar 2007 12\:33\:35 -0500")
References: <200703151733.l2FHXZu32115@f7.net>
Message-ID: <87tzwmpdvk.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     The following patch would make it more consistent:
>
> I applied it.  Thanks.
>
> Excuse my self-ignorance, but is texdoc maintained anywhere besides TL?

There seems to be a texdoc.bat in MikTeX, according to google, but I
cannot find it in their source repository
(https://miktex.svn.sourceforge.net/svnroot/miktex/miktex/).

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Thu Mar 15 19:42:44 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 15 Mar 2007 15:42:44 -0300
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <200703151733.l2FHXZu32115@f7.net>
References: <87hcsm347s.fsf_-_@riesling.zuerich.kuesterei.ch>
	<200703151733.l2FHXZu32115@f7.net>
Message-ID: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>

On 3/15/07, Karl Berry <karl at freefriends.org> wrote:

>     The following patch would make it more consistent:
>
> I applied it.  Thanks.
>
> Excuse my self-ignorance, but is texdoc maintained anywhere besides TL?

Sure -- each linux distro has its own fork (to deal with the changes
in the GNU utilities since tetex was released).  Red Hat seems to have
a snapshot of tetex and a collection of patches they apply, so when
tl's version breaks on RH the fix can generally be found in the RH
version.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Thu Mar 15 19:51:07 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 13:51:07 -0500
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
Message-ID: <200703151851.l2FIp7u22294@f7.net>

    Sure -- each linux distro has its own fork

Of course.  I meant an upstream single source to whom the patch should
be reported.

From frank at debian.org  Thu Mar 15 22:11:04 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 15 Mar 2007 22:11:04 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	(George N. White, III's message of "Thu\,
	15 Mar 2007 15\:42\:44 -0300")
References: <87hcsm347s.fsf_-_@riesling.zuerich.kuesterei.ch>
	<200703151733.l2FHXZu32115@f7.net>
	<22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
Message-ID: <87ird2p5zr.fsf@riesling.zuerich.kuesterei.ch>

"George N. White III" <gnwiii at gmail.com> wrote:

> On 3/15/07, Karl Berry <karl at freefriends.org> wrote:
>
>>     The following patch would make it more consistent:
>>
>> I applied it.  Thanks.
>>
>> Excuse my self-ignorance, but is texdoc maintained anywhere besides TL?
>
> Sure -- each linux distro has its own fork (to deal with the changes
> in the GNU utilities since tetex was released).  Red Hat seems to have
> a snapshot of tetex and a collection of patches they apply, so when
> tl's version breaks on RH the fix can generally be found in the RH
> version.

(I don't think Debian has any texdoc patches related to changes in GNU
utilities) 

Well, but each Linux distro will have to switch to TeXLive sooner or
later, so this is nothing we need to consider.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Thu Mar 15 22:13:30 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 15 Mar 2007 18:13:30 -0300
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <200703151851.l2FIp7u22294@f7.net>
References: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	<200703151851.l2FIp7u22294@f7.net>
Message-ID: <22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>

On 3/15/07, Karl Berry <karl at freefriends.org> wrote:

>     Sure -- each linux distro has its own fork
>
> Of course.  I meant an upstream single source to whom the patch should
> be reported.

My understanding is that the single upstream source dried up when T.E.
stopped maintaining tetex and nobody stepped up to continue his good
works.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From Robin.Fairbairns at cl.cam.ac.uk  Thu Mar 15 22:51:59 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 15 Mar 2007 21:51:59 +0000
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: Your message of Thu, 15 Mar 2007 19:20:47 +0100.
	<87tzwmpdvk.fsf@riesling.zuerich.kuesterei.ch> 
Message-ID: <7992.1173995519@cl.cam.ac.uk>

Frank K?ster <frank at debian.org> wrote:

> karl at freefriends.org (Karl Berry) wrote:
> 
> >     The following patch would make it more consistent:
> >
> > I applied it.  Thanks.
> >
> > Excuse my self-ignorance, but is texdoc maintained anywhere besides TL?
> 
> There seems to be a texdoc.bat in MikTeX, according to google, but I
> cannot find it in their source repository
> (https://miktex.svn.sourceforge.net/svnroot/miktex/miktex/).

not no longer there isn't: the database now says

  miktex\bin\texdoc.exe;miktex-mthelp-bin-2.5

so it's been converted to an executable.  i wouldn't blame him -- .bat
file programming isn't my idea of fun.

robin

From karl at freefriends.org  Thu Mar 15 22:56:02 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 16:56:02 -0500
Subject: [tex-live] Execution time on Solaris Sparc
In-Reply-To: <200703131628.l2DGS1T14533@cressida.cert.fr>
Message-ID: <200703152156.l2FLu2n06883@f7.net>

Hi Jean-Pierre,

    On the inst iso image, TEXMFHOME is defined as $HOME/$HOMEtexmf

Can you explain where you are seeing this, please?  When I run 
inst's install-tl.sh, and put in the d option, it tells me:
TEXMFHOME:    $HOME/texmf

When I do the actual installation, texmf.cnf has:
TEXMFHOME=$HOME/texmf

I can easily believe the double $HOME is the result of a bug, this was a
fragile bit of code in common.sh, but I don't know how to reproduce what
you got.

    About the home trees, why not unify the user trees with
    TEXMFHOME = $HOME/.texlive2007/texmf

The user tree should be independent of the release, just like the local
tree.  In any case, I think changing the default would cause more
confusion than it would be worth.

Best,
Karl

From karl at freefriends.org  Thu Mar 15 22:56:02 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 16:56:02 -0500
Subject: [tex-live] nfssext.sty missing
In-Reply-To: <1173859428.4669.1.camel@agamemnon.office.unilogicnetworks.net>
Message-ID: <200703152156.l2FLu2006909@f7.net>

    TexLive 2007 seems to be missing nfssext.sty:

In addition to the previous reply: if someone takes the trouble to
create a proper package with it and upload it to CTAN, I'll be glad to
install it.  It has never been part of TL.

Thanks,
k

From karl at freefriends.org  Thu Mar 15 23:52:16 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 17:52:16 -0500
Subject: [tex-live] bbold11.tfm in texlive-2007
In-Reply-To: <20070313.163301.74754168.Sven.Hartrumpf@fernuni-hagen.de>
Message-ID: <200703152252.l2FMqGp20261@f7.net>

Hi Sven,

    > bbold11.mf
    > bbold11.tfm
    > and probably also an extended Ubbold.fd

The situation with bbold11 is very confused.  John Murdie sent a bug
report last year, and Ralf Stubner and I were looking at it, but we were
unable to resolve in time for the release.

Thanks for re-raising the issue.

Best,
Karl

From karl at freefriends.org  Fri Mar 16 01:31:50 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 19:31:50 -0500
Subject: [tex-live] documentation
In-Reply-To: <e1c21ab8e7a2812d55cd7a8e256d7a77@mysunrise.ch>
Message-ID: <200703160031.l2G0VoY13111@f7.net>

    Some docs are not linked properly (i.e. package geometry, fourier). I  
    call texdoc, the browser starts up, but the link to the readme or to  
    the doc file fails:

Thanks for the report.  

I admit I am not very familiar with texdoc.  From what I can see
quickly, it calls kpsewhich -format='TeX system documentation' $name$ext
($name$ext will be, e.g., fourier.pdf).  So if the name doesn't match
it's not going to be found.

There is a list of explicit documentation files the file texdoctk.dat,
but again, at a quick glance, that is only used by texdoctk and not
texdoc.

Would anyone like to extend texdoc to use that where possible, or
otherwise deal with this stuff?  Seems like a lot could be done in this
area, but I can't take it on.

Thanks,
Karl

From karl at freefriends.org  Fri Mar 16 01:39:38 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 19:39:38 -0500
Subject: [tex-live] Script to update packages
In-Reply-To: <45F2E38B.2020501@ankabut.net>
Message-ID: <200703160039.l2G0dca15678@f7.net>

Hi Francois,

    Well, I have written a shell script, based on install-pkg.sh that comes 
    with the live CD, to automate this task. 

Thank you for your efforts.  I know that some people do indeed want
updates as the year goes on, and I hope it'll be useful.

Does your script delete files that have been (re)moved?  At a glance, I
didn't see it.

As for bandwidth, updates via rsync to tug.org are certainly not a
long-term solution, but for the time being, I don't expect it will be a
problem.

Thanks,
Karl

From karl at freefriends.org  Fri Mar 16 01:51:41 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 15 Mar 2007 19:51:41 -0500
Subject: [tex-live] Bug in TexLive 2005 and 2007? Non-writable aux-file
In-Reply-To: <Pine.LNX.4.64.0703101304330.30991@hahepc1.hahe>
Message-ID: <200703160051.l2G0pfp18893@f7.net>

Regarding the filename loop.

Since the simplest solution of aborting the job when RET is pressed does
not appeal to Taco and Hans, my suggestion is to apply Heiko's other
patch, so that it will retry with the exact name.  At least that will
avoid the reported bug of overwriting the input file, which seems pretty
important.  We could debate forever about ideal behavior.  Let's not.

Personally, I think it would also be very nice if CTRL-C in response to
enter a filename prompt did something other than retrying a file, but
(depressingly) I'm not prepared to implement it (again).

k

From frank at debian.org  Fri Mar 16 07:42:30 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 07:42:30 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <7992.1173995519@cl.cam.ac.uk> (Robin Fairbairns's message of
	"Thu\, 15 Mar 2007 21\:51\:59 +0000")
References: <7992.1173995519@cl.cam.ac.uk>
Message-ID: <873b45vgdl.fsf@riesling.zuerich.kuesterei.ch>

Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

>> There seems to be a texdoc.bat in MikTeX, according to google, but I
>> cannot find it in their source repository
>> (https://miktex.svn.sourceforge.net/svnroot/miktex/miktex/).
>
> not no longer there isn't: the database now says
>
>   miktex\bin\texdoc.exe;miktex-mthelp-bin-2.5
>
> so it's been converted to an executable.  i wouldn't blame him -- .bat
> file programming isn't my idea of fun.

According to Google, it's a complete rewrite, which uses the MikTeX
package database, and finds memman.pdf with "mthelp memoir".  And
similar things.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Fri Mar 16 08:11:32 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 08:11:32 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>
	(George N. White, III's message of "Thu\,
	15 Mar 2007 18\:13\:30 -0300")
References: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	<200703151851.l2FIp7u22294@f7.net>
	<22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>
Message-ID: <87ps79u0gr.fsf@riesling.zuerich.kuesterei.ch>

"George N. White III" <gnwiii at gmail.com> wrote:

> On 3/15/07, Karl Berry <karl at freefriends.org> wrote:
>
>>     Sure -- each linux distro has its own fork
>>
>> Of course.  I meant an upstream single source to whom the patch should
>> be reported.
>
> My understanding is that the single upstream source dried up when T.E.
> stopped maintaining tetex and nobody stepped up to continue his good
> works.

In a way, TeXLive is the successor of teTeX.  At least this is how Linux
(or other) distributions should see it, unless they want to either stick
with teTeX 3.0 for ever, or maintain it themselves.

And all the great tools Thomas developed are maintained in TeXLive,
aren't they?

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Fri Mar 16 08:19:36 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 08:19:36 +0100
Subject: [tex-live] documentation
In-Reply-To: <200703160031.l2G0VoY13111@f7.net> (Karl Berry's message of "Thu\,
	15 Mar 2007 19\:31\:50 -0500")
References: <200703160031.l2G0VoY13111@f7.net>
Message-ID: <87lkhxu03b.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     Some docs are not linked properly (i.e. package geometry, fourier). I  
>     call texdoc, the browser starts up, but the link to the readme or to  
>     the doc file fails:
>
> Thanks for the report.  
>
> I admit I am not very familiar with texdoc.  From what I can see
> quickly, it calls kpsewhich -format='TeX system documentation' $name$ext
> ($name$ext will be, e.g., fourier.pdf).  So if the name doesn't match
> it's not going to be found.

Yes, it goes through a list of possible extensions.

> There is a list of explicit documentation files the file texdoctk.dat,
> but again, at a quick glance, that is only used by texdoctk and not
> texdoc.

Yes, only by texdoctk.  And this setup is not optimal either - I think
Thomas Ruedas once said he wanted to extend it and add support for more
than one texdoctk.dat (e.g. for stuff in TEXMFLOCAL).

> Would anyone like to extend texdoc to use that where possible, or
> otherwise deal with this stuff?  Seems like a lot could be done in this
> area, but I can't take it on.

To me, the easiest way to solve this seems to be the aliases mechanism.
With

fourier.pdf     fourier-doc-en.pdf

in $TEXMFDIST/aliases (or is it the other way round? Would need to
check) "texdoc fourier" would find the right documentation.  Somewhere
in the Debian BTS (and maybe in our teTeX patches) there's already a
list of possible documentation aliases, and actually I still have a mail
marked as "forward to the texlive list when it's time" when we discussed
this just before TL 2007 release.

It's a bit tricky in some cases, though, namely when there's more than
one file of documentation.  For example, Heiko has explicitly refused to
rename hyperref's manual.pdf to hyperref.pdf, because he thinks that the
other documents are important as well.  He wishes to be able to give the
documentation a new unified structure, but until this is done, he
prefers not to give the impression that it would be sufficient to read
only one document.

I fear we have to live with that and should not use aliases to work
around it.

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From Jean-Pierre.Chretien at cert.fr  Fri Mar 16 08:59:39 2007
From: Jean-Pierre.Chretien at cert.fr (Jean-Pierre Chretien)
Date: Fri, 16 Mar 2007 08:59:39 +0100 (MET)
Subject: [tex-live] Execution time on Solaris Sparc
Message-ID: <200703160759.l2G7xdT20143@cressida.cert.fr>


>>X-Envelope-From: karl at freefriends.org
>>X-Envelope-To: tex-live at tug.org
>>Date: Thu, 15 Mar 2007 16:56:02 -0500
>>From: karl at freefriends.org (Karl Berry)
>>To: Jean-Pierre.Chretien at cert.fr
>>Cc: tex-live at tug.org
>>Subject: Re: [tex-live] Execution time on Solaris Sparc
>>

Hello Karl,

>>Hi Jean-Pierre,
>>
>>    On the inst iso image, TEXMFHOME is defined as $HOME/$HOMEtexmf
>>
>>Can you explain where you are seeing this, please?  When I run 
>>inst's install-tl.sh, and put in the d option, it tells me:
>>TEXMFHOME:    $HOME/texmf
>>
>>When I do the actual installation, texmf.cnf has:
>>TEXMFHOME=$HOME/texmf
>>
>>I can easily believe the double $HOME is the result of a bug, this was a
>>fragile bit of code in common.sh, but I don't know how to reproduce what
>>you got.


I guess you should be on Solaris to check this, here is what I get when I 
install the Basic Scheme in a test location from
5b6ce37b44807890b2068811b65cbfed  texlive2007-inst-20070212.iso

<cite>
Done unpacking.
Fixing permissions in /usr/local/test_texlive... done.
Setting up directories for automatic font creation... done.
Configuring fmtutil.cnf from /usr/local/test_texlive/texmf/web2c  into  
/usr/local/test_texlive/texmf-var/web2c... 
Setting local tree (TEXMFLOCAL) to $SELFAUTOPARENT/texmf-local in 
/usr/local/test_texlive/texmf/web2c/texmf.cnf... 
Setting system var tree (TEXMFSYSVAR) to $SELFAUTOPARENT/texmf-var in 
/usr/local/test_texlive/texmf/web2c/texmf.cnf... 
Setting TEXMFHOME to $HOME/$HOMEtexmf in 
/usr/local/test_texlive/texmf/web2c/texmf.cnf... 
Done updating texmf.cnf.
</cite>

This must be related to the fact that I should not have tried installation
from inst on Solaris (I took my TL 2005 install procedure and overlooked that
the binaries were missing, then I copied the sparc-solaris bin from live).
But in that case, the only effect should be to fail to install the binaries,
shouldn't it ? The sharable part should install normally.

This seems quite an exotic situation, I can create a more detailed log
if possible and if you need it.

-- 
Jean-Pierre



From oberdiek at uni-freiburg.de  Fri Mar 16 09:16:20 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Fri, 16 Mar 2007 09:16:20 +0100
Subject: [tex-live] documentation
In-Reply-To: <87lkhxu03b.fsf@riesling.zuerich.kuesterei.ch>
References: <200703160031.l2G0VoY13111@f7.net>
	<87lkhxu03b.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070316081620.GA8417@irwin.vpn.uni-freiburg.de>

On Fri, Mar 16, 2007 at 08:19:36AM +0100, Frank K?ster wrote:

> It's a bit tricky in some cases, though, namely when there's more than
> one file of documentation.  For example, Heiko has explicitly refused to
> rename hyperref's manual.pdf to hyperref.pdf,

Of course I could delete the source hyperref.dtx. Then
the name "hyperref.pdf" would be free and manual.pdf
could be renamed.

But it is a little difficult to maintain hyperref without source.
Thus hyperref.pdf already exists and if you look into it you
will find pointers to the other hyperref documentation files
on the first page. Thus it is quite easy to find manual.pdf
using "texdoc hyperref".

Also most documentation files of hyperref contain links
to the other documentation files at the end of the bookmarks.

> because he thinks that the
> other documents are important as well.  He wishes to be able to give the
> documentation a new unified structure, but until this is done, he
> prefers not to give the impression that it would be sufficient to read
> only one document.

Currently there are *nine* documentation files covering three packages.
Thus texdoc have to live with the fact that there can be
packages/bundles whose documentation consists of more than one file.
Example:
"texdoc color" will find color.pdf. However, the user documentation
for package color is part of grfguide.pdf.

> I fear we have to live with that and should not use aliases to work
> around it.

texdoc could present a menu of some kind with several entries,
if a package has several documentation files.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From pfaeh at mysunrise.ch  Fri Mar 16 09:54:53 2007
From: pfaeh at mysunrise.ch (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Fri, 16 Mar 2007 09:54:53 +0100
Subject: [tex-live] documentation
In-Reply-To: <87lkhxu03b.fsf@riesling.zuerich.kuesterei.ch>
References: <200703160031.l2G0VoY13111@f7.net>
	<87lkhxu03b.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <1176455a307305879134146cfee7285b@mysunrise.ch>

>
>> Would anyone like to extend texdoc to use that where possible, or
>> otherwise deal with this stuff?  Seems like a lot could be done in 
>> this
>> area, but I can't take it on.
>
> To me, the easiest way to solve this seems to be the aliases mechanism.
> With
>
> fourier.pdf     fourier-doc-en.pdf
>
> in $TEXMFDIST/aliases (or is it the other way round? Would need to
> check) "texdoc fourier" would find the right documentation.  Somewhere
> in the Debian BTS (and maybe in our teTeX patches) there's already a
> list of possible documentation aliases, and actually I still have a 
> mail
> marked as "forward to the texlive list when it's time" when we 
> discussed
> this just before TL 2007 release.
>
> It's a bit tricky in some cases, though, namely when there's more than
> one file of documentation.  For example, Heiko has explicitly refused 
> to
> rename hyperref's manual.pdf to hyperref.pdf, because he thinks that 
> the
> other documents are important as well.  He wishes to be able to give 
> the
> documentation a new unified structure, but until this is done, he
> prefers not to give the impression that it would be sufficient to read
> only one document.

A standard for the documentation could be:

1.) <package name> - <part> i.e. hyperref.pdf, hyperref-1.pdf, 
hyperref-2.pdf, ...
2.) the main package manual links to the other documentation files 
and/or
the command texdoc aks which manual should be opened (description 
necessary) (1,2,3,4,5,... )

kpsewhich hyperref*.pdf (for all)
$name <*>  $ext

-- texdoc  searches  for NAME in the TeX documentation and starts an 
appropriate viewer
-- NAME should be the name of a command or package in the teTeX  
distribution.
-- texdoc was written  by  Thomas  Esser  <te at dbs.uni-hannover.de>,  
David Aspinall <da at dcs.ed.ac.uk>, and Simon Wilkinson 
<sxw at dcs.ed.ac.uk> during 1998 and 1999.
-- texdoc is in the public domain.

texdoc hyperref* would open all doc files

At the moment it functions only, if I execute the command in the 
appropriate directory 
/usr/local/texlive/2007/texmf-dist/doc/latex/hyperref


> I fear we have to live with that and should not use aliases to work
> around it.



> Regards, Frank
>
> -- 
> Dr. Frank K?ster
> Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, 
> Univ. Z?rich
> Debian Developer (teTeX/TeXLive)
>
>
Best regards, Philipp


From frank at kuesterei.ch  Fri Mar 16 10:02:49 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 10:02:49 +0100
Subject: [tex-live] documentation
In-Reply-To: <20070316081620.GA8417@irwin.vpn.uni-freiburg.de> (Heiko
	Oberdiek's message of "Fri\, 16 Mar 2007 09\:16\:20 +0100")
References: <200703160031.l2G0VoY13111@f7.net>
	<87lkhxu03b.fsf@riesling.zuerich.kuesterei.ch>
	<20070316081620.GA8417@irwin.vpn.uni-freiburg.de>
Message-ID: <87tzwlsgqu.fsf@riesling.zuerich.kuesterei.ch>

Heiko Oberdiek <oberdiek at uni-freiburg.de> wrote:

> On Fri, Mar 16, 2007 at 08:19:36AM +0100, Frank K?ster wrote:
>
>> It's a bit tricky in some cases, though, namely when there's more than
>> one file of documentation.  For example, Heiko has explicitly refused to
>> rename hyperref's manual.pdf to hyperref.pdf,
>
> Of course I could delete the source hyperref.dtx. Then
> the name "hyperref.pdf" would be free and manual.pdf
> could be renamed.
>
> But it is a little difficult to maintain hyperref without source.

;-)  

> Thus hyperref.pdf already exists and if you look into it you
> will find pointers to the other hyperref documentation files
> on the first page. Thus it is quite easy to find manual.pdf
> using "texdoc hyperref".

Indeed, I wasn't up-to-date.  When we discussed this last time, I was
referring to teTeX 3.0, which didn't have hyperref.pdf at all.  I
haven't looked into hyperref's documentation since I use TeXLive (I only
used features I have always been using), so I didn't notice all the
cross-references.

>> I fear we have to live with that and should not use aliases to work
>> around it.
>
> texdoc could present a menu of some kind with several entries,
> if a package has several documentation files.

That's a good idea.  Again, it could either be implemented by
maintaining a database as texdoctk does, or alternatively it could check
whether there is a directory that has the same name as the argument that
it was given, and if yes present a list of all files in that directory.

Is there a kpsewhich call that gives directories?  Alternatively, 

sed -n '/\.\/doc\/.*:$/ {s at .*/\([^/]*\):@\1@;p}' $lsR_file 

could be used for comparison - at least on systems that have a "sed", I
have no idea how texdoc works on Windows.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From severino at ulvedalen.dk  Fri Mar 16 09:47:25 2007
From: severino at ulvedalen.dk (=?iso-8859-1?b?U/hyZW4=?= Christensen)
Date: Fri, 16 Mar 2007 08:47:25 +0000 (UTC)
Subject: [tex-live] When will TeXLive 2007 find its way to debian-repos?
Message-ID: <etdlit$di5$1@sea.gmane.org>

The gmane.comp.tex.live.debian seems to be very silent (dead?), so I will
put the question here.

Does anybody know when the new texlive-edition will show up in Debian-Etch
reposities?

Or have I missed something? Updating package-lists doesn't bring up
tex-live 2007 (as far as I can tell) I'm specifically looking for XeTeX.

Hope someone can clear this up for me, and if I'm looking for the wrong
thins in the wrong places, please forgive me.

thanks,
severino


From gnwiii at gmail.com  Fri Mar 16 12:29:27 2007
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 16 Mar 2007 08:29:27 -0300
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <87ps79u0gr.fsf@riesling.zuerich.kuesterei.ch>
References: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	<200703151851.l2FIp7u22294@f7.net>
	<22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>
	<87ps79u0gr.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <22af238a0703160429qddd98e5nf35e685b2609617a@mail.gmail.com>

On 3/16/07, Frank K?ster <frank at kuesterei.ch> wrote:

> "George N. White III" <gnwiii at gmail.com> wrote:
>
> > On 3/15/07, Karl Berry <karl at freefriends.org> wrote:
> >
> >>     Sure -- each linux distro has its own fork
> >>
> >> Of course.  I meant an upstream single source to whom the patch should
> >> be reported.
> >
> > My understanding is that the single upstream source dried up when T.E.
> > stopped maintaining tetex and nobody stepped up to continue his good
> > works.
>
> In a way, TeXLive is the successor of teTeX.  At least this is how Linux
> (or other) distributions should see it, unless they want to either stick
> with teTeX 3.0 for ever, or maintain it themselves.

Well, some have been maintaining teTeX to the extent that it continues
to work on
their current releases, at least well enough to format documentation.

One key test for TL is whether it continues to support building
packages that use TeX for documentation.

If developers start relying on things that are in newer versions of
pdftex and latex, linux distros will have to change.   The need to
support all major languages (e.g.,
generate searchable PDF's) may be a reason for some vendors to abandon
teTeX.  When good OpenType fonts become commonplace for TeX and xetex
has been merged with pdftex, teTeX will no longer be viable.

> And all the great tools Thomas developed are maintained in TeXLive,
> aren't they?

I think that would be a change for TeXLive:

1.  the philosophy to date has been more like "use what's in CTAN".

2.  TL aims to support all *X and Windows.  In terms of the software
documentation, this could help projects that hope to allow builds on
the same range of platforms, although in practice I think many resort
to cross-compilation or just use documentation built on linux in
Windows (binary) releases.  The R-Project is a case in point.

3.  TL aims to include most of CTAN.  teTeX was a carefully chosen
subset that provided a reliable platform for people to get on with
making documents.  The size of TL is a bit of a problem for linux
vendors seeking to make a distro fit on a DVD, but the real problem is
that too much flexibility leads to documents that aren't portable
across platforms and that won't work in a few years (because they rely
on packages that aren't being maintained).  This can be handled by
organizing packages so it is easy to find a robust subset that meets
the needs of most users.

If TL is widely accepted by debian users, that will be a big step
towards getting traction with other linux distros.

Given the release schedule for TL, distros using TL are going to get
bug reports thru their own trackers and will need to release patches
on a more timely schedule.   The annual TL release process should
include a review of vendor patches (for both teTeX and TL) so they get
into the release.  Doing this would help ensure that TL is really
working for linux users.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From frank at kuesterei.ch  Fri Mar 16 12:38:46 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 12:38:46 +0100
Subject: [tex-live] When will TeXLive 2007 find its way to debian-repos?
In-Reply-To: <etdlit$di5$1@sea.gmane.org> (=?iso-8859-1?Q?S=F8ren?=
	Christensen's message of "Fri\, 16 Mar 2007 08\:47\:25 +0000 \(UTC\)")
References: <etdlit$di5$1@sea.gmane.org>
Message-ID: <87lkhxs9ix.fsf@riesling.zuerich.kuesterei.ch>

S?ren Christensen <severino at ulvedalen.dk> wrote:

> The gmane.comp.tex.live.debian seems to be very silent (dead?), so I will
> put the question here.

It's dead; the list is now debian-tex-maint at lists.debian.org or
http://dir.gmane.org/gmane.linux.debian.devel.tetex (the gmane people
didn't follow the name change).

> Does anybody know when the new texlive-edition will show up in Debian-Etch
> reposities?

Never.  etch is going to be released on December 4th, 2006, err, April
2th, 2007, anyway, real soon now.  No time for new upstream versions.

> Or have I missed something? Updating package-lists doesn't bring up
> tex-live 2007 (as far as I can tell) I'm specifically looking for XeTeX.

We have preliminary packages at 

deb http://www.tug.org/texlive/Debian/ tl2007/

which will be uploaded to experimental soon (which, in this case, means:
"As soon as Norbert is back from the mountains (Monday, March 19th), has
read all e-mail that has accumulated since he left, and is ready to
upload.

Of course I could upload to experimental myself, but there are still
some minor issues to be fixed, and most importantly, the packages will
be kept in the NEW queue for a while (because of the new texlive-xetex
package).  In order to be usable, we will upload to tug.org again, where
only Norbert has write access.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From kakuto at fsci.fuk.kindai.ac.jp  Fri Mar 16 12:53:39 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 16 Mar 2007 20:53:39 +0900
Subject: [tex-live] documentation
In-Reply-To: Your message of "Fri, 16 Mar 2007 10:02:49 +0100"
References: <87tzwlsgqu.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200703161153.l2GBref0023128@jupiter.fsci.fuk.kindai.ac.jp>

Hi Frank,

> could be used for comparison - at least on systems that have a "sed", I
> have no idea how texdoc works on Windows.

texdoc in W32TeX (not in TeXLive) is invoked like
texdoc FileName [SubStringInFullPath]

Example:
texdoc README eplain
texdoc README fontinst

Best regards,
Akira

From frank at kuesterei.ch  Fri Mar 16 12:59:00 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 12:59:00 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <22af238a0703160429qddd98e5nf35e685b2609617a@mail.gmail.com>
	(George N. White, III's message of "Fri\,
	16 Mar 2007 08\:29\:27 -0300")
References: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	<200703151851.l2FIp7u22294@f7.net>
	<22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>
	<87ps79u0gr.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0703160429qddd98e5nf35e685b2609617a@mail.gmail.com>
Message-ID: <87abyds8l7.fsf@riesling.zuerich.kuesterei.ch>

"George N. White III" <gnwiii at gmail.com> wrote:

> One key test for TL is whether it continues to support building
> packages that use TeX for documentation.

Indeed, but that's rather a question of the quality of the
distribution's TL packaging, or of documentation that still uses
long-obsolete hacks which stopped working.

> If developers start relying on things that are in newer versions of
> pdftex and latex, linux distros will have to change.   The need to
> support all major languages (e.g.,
> generate searchable PDF's) may be a reason for some vendors to abandon
> teTeX.  When good OpenType fonts become commonplace for TeX and xetex
> has been merged with pdftex, teTeX will no longer be viable.

What about users who want to have an up-to-date TeX package on their
Linux system?

>> And all the great tools Thomas developed are maintained in TeXLive,
>> aren't they?
>
> I think that would be a change for TeXLive:
>
> 1.  the philosophy to date has been more like "use what's in CTAN".

Well, Tpm.pm isn't on CTAN either.  That is a distribution-specific
tool, just as fmtutil or mktexlsr.

> 2.  TL aims to support all *X and Windows.  In terms of the software
> documentation, this could help projects that hope to allow builds on
> the same range of platforms, although in practice I think many resort
> to cross-compilation or just use documentation built on linux in
> Windows (binary) releases.  The R-Project is a case in point.

I don't know how fmtutil and these things work on windows, but I also
don't see how this is related to the question of maintaining Thomas'
tools in TeXlive.  Either they do work for both now, then it's
irrelevant.  Or they don't, then we should in the long run try to find a
unified way.  But they still continue to be somewhat
distribution-specific. 

> 3.  TL aims to include most of CTAN.  teTeX was a carefully chosen
> subset that provided a reliable platform for people to get on with
> making documents.  The size of TL is a bit of a problem for linux
> vendors seeking to make a distro fit on a DVD, 

TL in Debian has a "texlive-full" and a much smaller "texlive" package.
We could even provide a texlive-tetex one.  I don't see the point.  

> but the real problem is
> that too much flexibility leads to documents that aren't portable
> across platforms and that won't work in a few years (because they rely
> on packages that aren't being maintained).  This can be handled by
> organizing packages so it is easy to find a robust subset that meets
> the needs of most users.

I think you are now talking about something different than

,----
| >> And all the great tools Thomas developed are maintained in TeXLive,
| >> aren't they?
| >
| > I think that would be a change for TeXLive:
`----

It seems you are suggesting a reorganization of TeXLive collections?
Which should be the criteria for this in your opinion - "decent subset",
"maintained packages", "not too large"?  How do you define "maintained"
- there are packages that didn't see a change for years, but they still
work fine and do their job.

> Given the release schedule for TL, distros using TL are going to get
> bug reports thru their own trackers and will need to release patches
> on a more timely schedule.   The annual TL release process should
> include a review of vendor patches (for both teTeX and TL) so they get
> into the release.  Doing this would help ensure that TL is really
> working for linux users.

That's right.  Being used to the Debian BTS or sourceforge's tracker
system, I always missed something like this for TeXLive, for submitting
small patches and ideas.  

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From dak at gnu.org  Fri Mar 16 12:52:08 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 16 Mar 2007 12:52:08 +0100
Subject: [tex-live] Suggestion for future releases
Message-ID: <867iths8wn.fsf@lola.quinscape.zz>


Would it be possible to put in some verification in the Catalogue
files?  Pretty much all of the links in the catalogue pointing to
locally installed documentation files have a wrong "file:" URL
pointing into some non-existing directory.

It is not like I could remember this ever being different in TeXlive.
One always had to try the link, ask a shell to locate the base file
name from the "non-existing URL" message, and then open that.

Since the catalogue is quite often what you get as output from
"texdoc", and it sometimes _does_ present a good idea of what the
documentation files for a particular package actually are, it is a bit
sad to have this totally defective.

-- 
David Kastrup

From martin at oneiros.de  Fri Mar 16 13:14:25 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 16 Mar 2007 13:14:25 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <87abyds8l7.fsf@riesling.zuerich.kuesterei.ch>
References: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	<200703151851.l2FIp7u22294@f7.net>
	<22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>
	<87ps79u0gr.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0703160429qddd98e5nf35e685b2609617a@mail.gmail.com>
	<87abyds8l7.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <68c491a60703160514r5f3eaa59jf64401bc95ccae10@mail.gmail.com>

2007/3/16, Frank K?ster <frank at kuesterei.ch>:
> I don't know how fmtutil and these things work on windows, but I also
> don't see how this is related to the question of maintaining Thomas'
> tools in TeXlive.  Either they do work for both now, then it's
> irrelevant.  Or they don't, then we should in the long run try to find a
> unified way.  But they still continue to be somewhat
> distribution-specific.

Most of Thomas' tools are shell scripts and as such don't work on
Windows; the Windows versions usually are complete reimplementations
in e.g. perl.

LuaTeX will make this easier one day, as we will then have a lua
interpreter on all plattforms.

Best
   Martin

From severino at ulvedalen.dk  Fri Mar 16 13:28:36 2007
From: severino at ulvedalen.dk (=?iso-8859-1?b?U/hyZW4=?= Christensen)
Date: Fri, 16 Mar 2007 12:28:36 +0000 (UTC)
Subject: [tex-live] When will TeXLive 2007 find its way to debian-repos?
References: <etdlit$di5$1@sea.gmane.org>
	<87lkhxs9ix.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <ete2hk$e0$1@sea.gmane.org>

On Fri, 16 Mar 2007 12:38:46 +0100, Frank K?ster wrote:

> S?ren Christensen <severino at ulvedalen.dk> wrote:
[snip] 
>> Does anybody know when the new texlive-edition will show up in Debian-Etch
>> reposities?
> 
> Never.  etch is going to be released on December 4th, 2006, err, April
> 2th, 2007, anyway, real soon now.  No time for new upstream versions.
> 
>> Or have I missed something? Updating package-lists doesn't bring up
>> tex-live 2007 (as far as I can tell) I'm specifically looking for XeTeX.

Ok. Thank You, I have missed the Etch -> Stable news. Perhaps it's time to
switch to experimental. I'm not in a hurry, so this is very fine.

Thanks again.

/severino


From frank at kuesterei.ch  Fri Mar 16 13:59:53 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 13:59:53 +0100
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <68c491a60703160514r5f3eaa59jf64401bc95ccae10@mail.gmail.com>
	(Martin =?iso-8859-1?Q?Schr=F6der's?= message of "Fri\, 16 Mar 2007
	13\:14\:25 +0100")
References: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	<200703151851.l2FIp7u22294@f7.net>
	<22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>
	<87ps79u0gr.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0703160429qddd98e5nf35e685b2609617a@mail.gmail.com>
	<87abyds8l7.fsf@riesling.zuerich.kuesterei.ch>
	<68c491a60703160514r5f3eaa59jf64401bc95ccae10@mail.gmail.com>
Message-ID: <87lkhxqr7a.fsf@riesling.zuerich.kuesterei.ch>

"Martin Schr?der" <martin at oneiros.de> wrote:

> 2007/3/16, Frank K?ster <frank at kuesterei.ch>:
>> I don't know how fmtutil and these things work on windows, but I also
>> don't see how this is related to the question of maintaining Thomas'
>> tools in TeXlive.  Either they do work for both now, then it's
>> irrelevant.  Or they don't, then we should in the long run try to find a
>> unified way.  But they still continue to be somewhat
>> distribution-specific.
>
> Most of Thomas' tools are shell scripts and as such don't work on
> Windows; the Windows versions usually are complete reimplementations
> in e.g. perl.
>
> LuaTeX will make this easier one day, as we will then have a lua
> interpreter on all plattforms.

For the time being, it might be easier to use the Perl scripts on
Unices, too.  

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Fri Mar 16 14:01:29 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 16 Mar 2007 14:01:29 +0100
Subject: [tex-live] When will TeXLive 2007 find its way to debian-repos?
In-Reply-To: <ete2hk$e0$1@sea.gmane.org> (=?iso-8859-1?Q?S=F8ren?=
	Christensen's message of "Fri\, 16 Mar 2007 12\:28\:36 +0000 \(UTC\)")
References: <etdlit$di5$1@sea.gmane.org>
	<87lkhxs9ix.fsf@riesling.zuerich.kuesterei.ch>
	<ete2hk$e0$1@sea.gmane.org>
Message-ID: <87hcslqr4m.fsf@riesling.zuerich.kuesterei.ch>

S?ren Christensen <severino at ulvedalen.dk> wrote:

> On Fri, 16 Mar 2007 12:38:46 +0100, Frank K?ster wrote:
>
>> S?ren Christensen <severino at ulvedalen.dk> wrote:
> [snip] 
>>> Does anybody know when the new texlive-edition will show up in Debian-Etch
>>> reposities?
>> 
>> Never.  etch is going to be released on December 4th, 2006, err, April
>> 2th, 2007, anyway, real soon now.  No time for new upstream versions.
>> 
>>> Or have I missed something? Updating package-lists doesn't bring up
>>> tex-live 2007 (as far as I can tell) I'm specifically looking for XeTeX.
>
> Ok. Thank You, I have missed the Etch -> Stable news. 

Just to be clear:  It is not yet April, and etch is not yet stable.

> Perhaps it's time to
> switch to experimental. I'm not in a hurry, so this is very fine.

I think we will provide backports for etch, too - at least as soon as
etch is released and backports.org has an etch branch.  Maybe earlier,
on tug.org.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From severino at ulvedalen.dk  Fri Mar 16 14:30:23 2007
From: severino at ulvedalen.dk (=?iso-8859-1?b?U/hyZW4=?= Christensen)
Date: Fri, 16 Mar 2007 13:30:23 +0000 (UTC)
Subject: [tex-live] When will TeXLive 2007 find its way to debian-repos?
References: <etdlit$di5$1@sea.gmane.org>
	<87lkhxs9ix.fsf@riesling.zuerich.kuesterei.ch>
	<ete2hk$e0$1@sea.gmane.org>
	<87hcslqr4m.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <ete65f$e0$2@sea.gmane.org>

On Fri, 16 Mar 2007 14:01:29 +0100, Frank K?ster wrote:

> 
> Just to be clear:  It is not yet April, and etch is not yet stable.
> 

I did notice that, and with debian it is always release, when the release
is ready, so maybe April or ...

/severino


From gnwiii at gmail.com  Fri Mar 16 17:30:59 2007
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 16 Mar 2007 13:30:59 -0300
Subject: [tex-live] texdoc should always use TEXDOCS
In-Reply-To: <68c491a60703160514r5f3eaa59jf64401bc95ccae10@mail.gmail.com>
References: <22af238a0703151142h3b43a8a9wf0a4f9fbfb1af279@mail.gmail.com>
	<200703151851.l2FIp7u22294@f7.net>
	<22af238a0703151413x935af7jd9f4098f07ae17c@mail.gmail.com>
	<87ps79u0gr.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0703160429qddd98e5nf35e685b2609617a@mail.gmail.com>
	<87abyds8l7.fsf@riesling.zuerich.kuesterei.ch>
	<68c491a60703160514r5f3eaa59jf64401bc95ccae10@mail.gmail.com>
Message-ID: <22af238a0703160930o75188014u8d5f64699a603d4a@mail.gmail.com>

On 3/16/07, Martin Schr?der <martin at oneiros.de> wrote:

> 2007/3/16, Frank K?ster <frank at kuesterei.ch>:
> > I don't know how fmtutil and these things work on windows, but I also
> > don't see how this is related to the question of maintaining Thomas'
> > tools in TeXlive.  Either they do work for both now, then it's
> > irrelevant.  Or they don't, then we should in the long run try to find a
> > unified way.  But they still continue to be somewhat
> > distribution-specific.
>
> Most of Thomas' tools are shell scripts and as such don't work on
> Windows; the Windows versions usually are complete reimplementations
> in e.g. perl.

And may use very different underlying algorithms to get decent
performance (e.g.,
fptex's shared memory kpathsea library implementation).

> LuaTeX will make this easier one day, as we will then have a lua
> interpreter on all plattforms.

Having some assurance of a common scripting language will certainly be
nice, but there will be pressure to include functionality in lua on
Windows that lua on linux can get from existing utilities.

There is a good chance that TeX on Windows will always lag behind the
*X implementations.  People who need the latest stuff but are forced
to use Windows now have the option to run linux in a VM so perhaps in
the long run Windows doesn't really have to have everything that TeX
offers.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From cloos at jhcloos.com  Fri Mar 16 19:07:22 2007
From: cloos at jhcloos.com (James Cloos)
Date: Fri, 16 Mar 2007 14:07:22 -0400
Subject: [tex-live] SVN repo by rsync?
Message-ID: <m31wjpoydq.fsf@lugabout.jhcloos.org>

Is there any chance of providing rsync access to the texlive repo?

(I don't mean the checkout at rsync://www.tug.org/tldevsrc/, but rather
the actual repo, which rsync://www.tug.org/tldevsrc/.svn/entries shows
is at /home/svn/texlive on that box.)

-JimC
-- 
James Cloos <cloos at jhcloos.com>         OpenPGP: 1024D/ED7DAEA6

From karl at freefriends.org  Fri Mar 16 19:45:24 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 16 Mar 2007 13:45:24 -0500
Subject: [tex-live] SVN repo by rsync?
In-Reply-To: <m31wjpoydq.fsf@lugabout.jhcloos.org>
Message-ID: <200703161845.l2GIjOR19933@f7.net>

Hi Jim,

    Is there any chance of providing rsync access to the texlive repo?

It didn't occur to me that it would be useful.  I don't see any
particular problem with doing so, but is it more efficient than svn
itself, if you want all the history anyway?

Thanks,
k

From pfaeh at mysunrise.ch  Fri Mar 16 21:51:54 2007
From: pfaeh at mysunrise.ch (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Fri, 16 Mar 2007 21:51:54 +0100
Subject: [tex-live] No room for a new \write
Message-ID: <373f39a89b3216eef9198a6d93e95945@mysunrise.ch>

No room for a new \write. If you get such a message the only recourse 
is to redesign your document.
Is there no possibility to extend the amount of streams? One day...?


From Robin.Fairbairns at cl.cam.ac.uk  Fri Mar 16 22:03:36 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 16 Mar 2007 21:03:36 +0000
Subject: [tex-live] No room for a new \write
In-Reply-To: Your message of Fri, 16 Mar 2007 21:51:54 +0100.
	<373f39a89b3216eef9198a6d93e95945@mysunrise.ch> 
Message-ID: <15919.1174079016@cl.cam.ac.uk>

Philipp F?h <pfaeh at mysunrise.ch> wrote:

> No room for a new \write.

this is a general tex problem, not something to do with a distribution.
ask it on comp.text.tex (or a language variant of that group), or on a
mailing list like texhax

> If you get such a message the only recourse
> is to redesign your document.

or to mend the bug in your macros, if there is one.  where's your
minimal example?

> Is there no possibility to extend the amount of streams? One day...?

probably not, and certainly not if there's been no discussion and no
demonstrated need.

r

From reinhard.kotucha at web.de  Fri Mar 16 23:30:04 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 16 Mar 2007 23:30:04 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <373f39a89b3216eef9198a6d93e95945@mysunrise.ch>
References: <373f39a89b3216eef9198a6d93e95945@mysunrise.ch>
Message-ID: <17915.6764.392669.214687@zarniwoop.ms25.local>

>>>>> "Philipp" == Philipp F?h <pfaeh at mysunrise.ch> writes:

  > No room for a new \write. If you get such a message the only
  > recourse is to redesign your document.  Is there no possibility to
  > extend the amount of streams? One day...?

A limit of 32 files which can be open at the same time sounds
ridiculously nowadays.  Yes, TeX (the program) allows you to have 16
read and 16 write streams open at the same time.  But the plain TeX
macros (which are used by LaTeX too) are extremely inefficient.

Register allocation is currently stack based.  If you say
\newwrite\foo, then \foo is is associated with \write0.  If you then
say \newwrite\bar, \bar is is associated with \write1, and so on.

The stack pointer is increased whenever you say \newwrite but nothing
useful happens if you say \closeout.

The alternative would be to make file allocation list based.  

Suppose that initially there is a list for \openout which has 16
entries

{free,free,free,...}

and are associated with \write0, \write1, \write2, ...

Then re-define \openout and \closeout.  When you say
\openout\foo=some_file.tex, \openout will search for the first entry in
the list which has the value "free".  The list then becomes

{\foo,free,free,...}

If you say \openout\bar=some_other_file.tex

the list becomes

{\foo,\bar,free,...}

and if you say \closeout\foo the list becomes

{free,\bar,free,...}

This means that \write0 can be used again while in a stack based
allocation scheme it can't.

As I said above, the limit of 32 files which can be open at the same
time sounds ridiculously nowadays.  On the other hand, operating
systems limit the number of files which can be open at the same time.
There are usually a lot of other processes running which want to
access files too.  Hence I wonder whether it makes sense to change the
number of read/write registers in the program (significantly) before
the macros are improved.

As far as I can see it is even possible to write a macro package which
works with plain TeX as well as with LaTeX which replaces the stack
based approach by a list based system.  Old documents will not be
broken, people will not notice that /new{read,write} calls are
ignored.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From dak at gnu.org  Fri Mar 16 23:42:29 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 16 Mar 2007 23:42:29 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <17915.6764.392669.214687@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Fri\, 16 Mar 2007 23\:30\:04 +0100")
References: <373f39a89b3216eef9198a6d93e95945@mysunrise.ch>
	<17915.6764.392669.214687@zarniwoop.ms25.local>
Message-ID: <85d538yfmy.fsf@lola.goethe.zz>

Reinhard Kotucha <reinhard.kotucha at web.de> writes:

>>>>>> "Philipp" == Philipp F?h <pfaeh at mysunrise.ch> writes:
>
>   > No room for a new \write. If you get such a message the only
>   > recourse is to redesign your document.  Is there no possibility to
>   > extend the amount of streams? One day...?
>
> A limit of 32 files which can be open at the same time sounds
> ridiculously nowadays.  Yes, TeX (the program) allows you to have 16
> read and 16 write streams open at the same time.  But the plain TeX
> macros (which are used by LaTeX too) are extremely inefficient.
>
> Register allocation is currently stack based.  If you say
> \newwrite\foo, then \foo is is associated with \write0.  If you then
> say \newwrite\bar, \bar is is associated with \write1, and so on.
>
> The stack pointer is increased whenever you say \newwrite but nothing
> useful happens if you say \closeout.
>
> The alternative would be to make file allocation list based.  

[...]

> As far as I can see it is even possible to write a macro package which
> works with plain TeX as well as with LaTeX which replaces the stack
> based approach by a list based system.  Old documents will not be
> broken, people will not notice that /new{read,write} calls are
> ignored.

You are assuming that programs will not reopen a stream after closing
it.  That is quite a daring assumption, since TeX programmers _know_
about write streams being a scarce resource.

To make this work, one would basically have to change \newwrite to
assign a unique id, \openout associate that id with a freelist of
actual stream numbers, \write and \read to map through the uniquely
assigned id to the actual stream number, \closeout to back the id into
the freelist.  Unfortunately, we have to deal with non-\immediate
operations, too.

Another possibility is that \openout/\closeout _change_ the given
stream token from a unique invalid to a freelist managed valid number,
on the assumption that only this stream token will ever be used for
accessing the stream.  Probably true in many cases, but not
necessarily all of them.  And again, non-\immediate operations are
troublesome.

So I don't see the easy way out you see.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From cloos at jhcloos.com  Fri Mar 16 22:53:42 2007
From: cloos at jhcloos.com (James Cloos)
Date: Fri, 16 Mar 2007 17:53:42 -0400
Subject: [tex-live] SVN repo by rsync?
In-Reply-To: <200703161845.l2GIjOR19933@f7.net> (Karl Berry's message of "Fri\,
	16 Mar 2007 13\:45\:24 -0500")
References: <200703161845.l2GIjOR19933@f7.net>
Message-ID: <m3veh0onwi.fsf@lugabout.jhcloos.org>

>>>>> "Karl" == Karl Berry <karl at freefriends.org> writes:

Karl> It didn't occur to me that it would be useful.  I don't see any
Karl> particular problem with doing so, but is it more efficient than svn
Karl> itself, if you want all the history anyway?

Yes, if you want the history it is vastly more efficient that using
svn.  (My last test of svk on a large repo -- even from a site which
had more bandwidth to the location of the repo than either box had
bandwidth to their disks -- took at least 20 times as long as an rsync
would have taken -- based on rsyncs of other repos, such as those at
berlios or sf.)

Personally I'd probably grab a little at a time, but the structure of
the repo and rsync's habit of sending file sorted by name means you
first get all of the revprops dir before the revs dir, so it tends to
work well.  And once a mirror is done, updates are, I find, efficient
even over a modem.

-JimC
-- 
James Cloos <cloos at jhcloos.com>         OpenPGP: 1024D/ED7DAEA6

From karl at freefriends.org  Fri Mar 16 17:13:52 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 16 Mar 2007 11:13:52 -0500
Subject: [tex-live] Suggestion for future releases
In-Reply-To: <867iths8wn.fsf@lola.quinscape.zz>
Message-ID: <200703161613.l2GGDqS04331@f7.net>

    Would it be possible to put in some verification in the Catalogue

Well, the CTAN folks maintain the Catalogue.  I am not sure what the
story is on the file: url's, how they are determined, who might be using
them, etc.

    Since the catalogue is quite often what you get as output from
    "texdoc"

Interesting.

As it happens, I removed the catalogue package from TL development a few
days ago, since it seemed to serve no purpose and is always out of date.
It seems like overkill to have the entire Catalogue just for these
references, especially when you have found that they are typically
wrong.

As I said before, a lot could be done in this area.  The texdoc shell
script seems pretty simple.  If someone would like to volunteer, writing
a new texdoc in Perl that is smarter about finding files, allows an
override file, etc., does not seem terribly hard to me.  (Writing it in
Perl means it would have a chance of working on Windows.)  Anyone?

Regarding the other suggestion, adding texmf aliases seems like the
wrong way to go.

karl

From Robin.Fairbairns at cl.cam.ac.uk  Sat Mar 17 01:13:28 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sat, 17 Mar 2007 00:13:28 +0000
Subject: [tex-live] Suggestion for future releases
In-Reply-To: Your message of Fri, 16 Mar 2007 11:13:52 -0500.
	<200703161613.l2GGDqS04331@f7.net> 
Message-ID: <16782.1174090408@cl.cam.ac.uk>

Karl Berry <karl at freefriends.org> wrote:

>     Would it be possible to put in some verification in the Catalogue
> 
> Well, the CTAN folks maintain the Catalogue.  I am not sure what the
> story is on the file: url's, how they are determined, who might be using
> them, etc.
> 
>     Since the catalogue is quite often what you get as output from
>     "texdoc"
> 
> Interesting.
> 
> As it happens, I removed the catalogue package from TL development a few
> days ago, since it seemed to serve no purpose and is always out of date.
> It seems like overkill to have the entire Catalogue just for these
> references, especially when you have found that they are typically
> wrong.

the catalogue is a *lot* better than it was at the time the texlive 2005
snapshot would have been taken.  (i've spent an inordinate amount of
time on it, and i've got watchers on it, enabling me to correct for
things like disappearing websites and so on.)

however, it does get snapshotted, so if anything changes after texlive
is built, then the change isn't in the catalogue.  is this the problem?
-- because if so, it seems a rather arcane complaint: the catalogue in
texlive refers to what's in texlive rather than what's current...

> As I said before, a lot could be done in this area.  The texdoc shell
> script seems pretty simple.  If someone would like to volunteer, writing
> a new texdoc in Perl that is smarter about finding files, allows an
> override file, etc., does not seem terribly hard to me.  (Writing it in
> Perl means it would have a chance of working on Windows.)  Anyone?
> 
> Regarding the other suggestion, adding texmf aliases seems like the
> wrong way to go.

i agree the revised script is the way to go, with script exceptions
rather than texmf exceptions.

how would such a change interact with texdoctk (which i hardly ever
use)?  i started thinking about a replacement a while back, and i could
be interested in a small development project (but i know neither tcl nor
tk).

r

From Robin.Fairbairns at cl.cam.ac.uk  Sat Mar 17 09:42:45 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sat, 17 Mar 2007 08:42:45 +0000
Subject: [tex-live] No room for a new \write
In-Reply-To: Your message of Fri, 16 Mar 2007 23:30:04 +0100.
	<17915.6764.392669.214687@zarniwoop.ms25.local> 
Message-ID: <18812.1174120965@cl.cam.ac.uk>

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> A limit of 32 files which can be open at the same time sounds
> ridiculously nowadays.  Yes, TeX (the program) allows you to have 16
> read and 16 write streams open at the same time.  But the plain TeX
> macros (which are used by LaTeX too) are extremely inefficient.
> 
> Register allocation is currently stack based.  If you say
> \newwrite\foo, then \foo is is associated with \write0.  If you then
> say \newwrite\bar, \bar is is associated with \write1, and so on.
> 
> The stack pointer is increased whenever you say \newwrite but nothing
> useful happens if you say \closeout.
> 
> The alternative would be to make file allocation list based.  

peter wilson's newfile package does just that.

of course, it only works (as david k has pointed out) if users use its
mechanisms exclusively, rather than trying to be "clever".

r

From oberdiek at uni-freiburg.de  Sat Mar 17 10:49:51 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sat, 17 Mar 2007 10:49:51 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <18812.1174120965@cl.cam.ac.uk>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
Message-ID: <20070317094951.GA23839@irwin.vpn.uni-freiburg.de>

On Sat, Mar 17, 2007 at 08:42:45AM +0000, Robin Fairbairns wrote:

> Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
> 
> > A limit of 32 files which can be open at the same time sounds
> > ridiculously nowadays.  Yes, TeX (the program) allows you to have 16
> > read and 16 write streams open at the same time.  But the plain TeX
> > macros (which are used by LaTeX too) are extremely inefficient.
> > 
> > Register allocation is currently stack based.  If you say
> > \newwrite\foo, then \foo is is associated with \write0.  If you then
> > say \newwrite\bar, \bar is is associated with \write1, and so on.
> > 
> > The stack pointer is increased whenever you say \newwrite but nothing
> > useful happens if you say \closeout.
> > 
> > The alternative would be to make file allocation list based.  
> 
> peter wilson's newfile package does just that.

\newoutputstream calls \newwrite, \openoutputfile calls \openout,
and \closeoutputstream calls \closeout. As far as I can see,
the package just provides an more convenient interface for writing and
reading. It does not change the stream allocation. There aren't
commands that free or reuses a stream.

> of course, it only works (as david k has pointed out) if users use its
> mechanisms exclusively, rather than trying to be "clever".

* Sometimes it isn't necessary to use a separate output stream,
  because LaTeX's .aux files can be used instead.
* Some package write files in the scope of chapters, e.g. minitoc:
  %  Jun/Jul-93   New design, to avoid allocating a newwrite
  %               for each chapter (!)
* Several output files can be written to one file first and
  splitted later, see package splitindex.
* Another method is implemented in docstrip. It can generate all
  output files in one run, if there are enough write registers.
  Or it processes the .dtx files several times until all files
  are written.

I don't know and don't understand why the number of write/read
registers weren't increased in e-TeX like other registers.
Write nodes have enough place for storing much larger register
numbers.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From frank at kuesterei.ch  Sat Mar 17 11:09:58 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Sat, 17 Mar 2007 11:09:58 +0100
Subject: [tex-live] Suggestion for future releases
In-Reply-To: <16782.1174090408@cl.cam.ac.uk> (Robin Fairbairns's message of
	"Sat\, 17 Mar 2007 00\:13\:28 +0000")
References: <16782.1174090408@cl.cam.ac.uk>
Message-ID: <87d5386v0p.fsf@riesling.zuerich.kuesterei.ch>

Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> Karl Berry <karl at freefriends.org> wrote:
>
>>     Would it be possible to put in some verification in the Catalogue
>> 
>> Well, the CTAN folks maintain the Catalogue.  I am not sure what the
>> story is on the file: url's, how they are determined, who might be using
>> them, etc.
>> 
>>     Since the catalogue is quite often what you get as output from
>>     "texdoc"
>> 
>> Interesting.
>> 
>> As it happens, I removed the catalogue package from TL development a few
>> days ago, since it seemed to serve no purpose and is always out of date.
>> It seems like overkill to have the entire Catalogue just for these
>> references, especially when you have found that they are typically
>> wrong.

The reason why they are wrong is that they contain links like 

title="Read documentation for this package from ctan:/macros/latex/contrib/a0poster/a0_eng.pdf."></a>
  <a href="../../../macros/latex/contrib/a0poster/a0.dvi"><img

with relative links, but of course the directory structure in a TEXMF
tree is different than on CTAN.  On the other hand, it shouldn't be too
hard to automatically fix the link.

I didn't object when Karl removed the catalogue, but I didn't really
agree, and I would be in favor of keeping/adding it.

> i agree the revised script is the way to go, with script exceptions
> rather than texmf exceptions.
>
> how would such a change interact with texdoctk (which i hardly ever
> use)?  i started thinking about a replacement a while back, and i could
> be interested in a small development project (but i know neither tcl nor
> tk).

I don't think it would need to interact with texdoctk at all, nor have
unwanted side effects.  texdoctk.dat contains relative paths starting
in $TEXMF/doc/, and looks in all available TEXMF trees.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Sat Mar 17 11:32:39 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Sat, 17 Mar 2007 10:32:39 +0000
Subject: [tex-live] No room for a new \write
In-Reply-To: <20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
Message-ID: <45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>



Heiko Oberdiek wrote:

> I don't know and don't understand why the number of write/read
> registers weren't increased in e-TeX like other registers.
> Write nodes have enough place for storing much larger register
> numbers.

I'm sure we debated it (endlessly !).  But to be honest,
I don't remember why it wasn't increased, although the
pre-emptive strike on \write 18 /might/ have had something
to do with it (too many broken programs).  I've cc'd
Peter, Bernd, Friedhelm \& Jiri in case one of them
remembers, but with e-PdfTeX now in the hands of
Taco /et al/, it is really he/they who would need to
address this issue for the future.

** Phil.

From taco at elvenkind.com  Sat Mar 17 11:50:39 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 17 Mar 2007 11:50:39 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
Message-ID: <45FBC7FF.8010208@elvenkind.com>

Hi,

Philip & Le Khanh wrote:
> Heiko Oberdiek wrote:
> 
>> I don't know and don't understand why the number of write/read
>> registers weren't increased in e-TeX like other registers.
>> Write nodes have enough place for storing much larger register
>> numbers.
> 
> I'm sure we debated it (endlessly !).  But to be honest,
> I don't remember why it wasn't increased, although the
> pre-emptive strike on \write 18 /might/ have had something
> to do with it (too many broken programs).  I've cc'd
> Peter, Bernd, Friedhelm \& Jiri in case one of them
> remembers, but with e-PdfTeX now in the hands of
> Taco /et al/, it is really he/they who would need to
> address this issue for the future.

I don't think I have ever seen an example where there was a serious
need for more than 16 read or write allocators. I would like to see an
actual example of a document with no programming errors and with no
excessively sloppy handling of resources that still needs more than
16 distinct read or write handles (simultaneously or sequentially).

I presume such a document is possible, but until I see a practical
example, I am very reluctant to support/do a change to eTeX. Not in
the least because of \write18 compatibility issues. And in luatex,
you can open and close all the files you like by using the lua
interface to the operating system's IO libraries, so there is no
need for \openout at all.

Cheers,
Taco


From frank at kuesterei.ch  Sat Mar 17 12:58:50 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Sat, 17 Mar 2007 12:58:50 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <45FBC7FF.8010208@elvenkind.com> (Taco Hoekwater's message of
	"Sat\, 17 Mar 2007 11\:50\:39 +0100")
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
	<45FBC7FF.8010208@elvenkind.com>
Message-ID: <87ejno5bet.fsf@riesling.zuerich.kuesterei.ch>

Taco Hoekwater <taco at elvenkind.com> wrote:

> I don't think I have ever seen an example where there was a serious
> need for more than 16 read or write allocators. I would like to see an
> actual example of a document with no programming errors and with no
> excessively sloppy handling of resources that still needs more than
> 16 distinct read or write handles (simultaneously or sequentially).
>
> I presume such a document is possible, but until I see a practical
> example, I am very reluctant to support/do a change to eTeX. 

I would have to dig through the archives, but I think I remember an
example in de.comp.text.tex, and if I'm not mistaken it used a
combination of various packages, one of which writes one file per
chapter for chapterwise TOC, LOF, LOT.  4 chapters with three such files
each gives already 12 files (sequentially), plus say an index, aux, log,
out, ...

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org  Sat Mar 17 13:37:44 2007
From: Philip-and-LeKhanh at Royal-Tunbridge-Wells.Org (Philip & Le Khanh)
Date: Sat, 17 Mar 2007 12:37:44 +0000
Subject: [tex-live] No room for a new \write
In-Reply-To: <87ejno5bet.fsf@riesling.zuerich.kuesterei.ch>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>	<18812.1174120965@cl.cam.ac.uk>	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>	<45FBC7FF.8010208@elvenkind.com>
	<87ejno5bet.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <45FBE118.6000208@Royal-Tunbridge-Wells.Org>



Frank K?ster wrote:
> Taco Hoekwater <taco at elvenkind.com> wrote:
> 
>> I don't think I have ever seen an example where there was a serious
>> need for more than 16 read or write allocators. I would like to see an
>> actual example of a document with no programming errors and with no
>> excessively sloppy handling of resources that still needs more than
>> 16 distinct read or write handles (simultaneously or sequentially).
>>
>> I presume such a document is possible, but until I see a practical
>> example, I am very reluctant to support/do a change to eTeX. 
> 
> I would have to dig through the archives, but I think I remember an
> example in de.comp.text.tex, and if I'm not mistaken it used a
> combination of various packages, one of which writes one file per
> chapter for chapterwise TOC, LOF, LOT.  4 chapters with three such files
> each gives already 12 files (sequentially), plus say an index, aux, log,
> out, ...

Yes, but did it /need/ to ?  Could it not have written
a record prefix to each record, indicating r\^ole and
origin, and then post-process these ?

Philip Taylor

From jonathan_kew at sil.org  Sat Mar 17 14:03:09 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sat, 17 Mar 2007 13:03:09 +0000
Subject: [tex-live] No room for a new \write
In-Reply-To: <87ejno5bet.fsf@riesling.zuerich.kuesterei.ch>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
	<45FBC7FF.8010208@elvenkind.com>
	<87ejno5bet.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <5EC6EE67-C5C0-40F6-9E6D-8EBD6C577295@sil.org>

On 17 Mar 2007, at 11:58 am, Frank K?ster wrote:

> Taco Hoekwater <taco at elvenkind.com> wrote:
>
>> I don't think I have ever seen an example where there was a serious
>> need for more than 16 read or write allocators. I would like to  
>> see an
>> actual example of a document with no programming errors and with no
>> excessively sloppy handling of resources that still needs more than
>> 16 distinct read or write handles (simultaneously or sequentially).
>>
>> I presume such a document is possible, but until I see a practical
>> example, I am very reluctant to support/do a change to eTeX.
>
> I would have to dig through the archives, but I think I remember an
> example in de.comp.text.tex, and if I'm not mistaken it used a
> combination of various packages, one of which writes one file per
> chapter for chapterwise TOC, LOF, LOT.  4 chapters with three such  
> files
> each gives already 12 files (sequentially),

That gives 12 files, yes. But there's no reason for it to use 12  
\write streams. Just close the streams at end of chapter, and re-open  
with new filenames for the next. So 3 streams are enough for such a  
package to handle any number of chapters, even without interleaving  
the records in a single file and then distinguishing them as they're  
re-read later.

JK


From Robin.Fairbairns at cl.cam.ac.uk  Sat Mar 17 14:32:41 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sat, 17 Mar 2007 13:32:41 +0000
Subject: [tex-live] Suggestion for future releases
In-Reply-To: Your message of Sat, 17 Mar 2007 11:09:58 +0100.
	<87d5386v0p.fsf@riesling.zuerich.kuesterei.ch> 
Message-ID: <19783.1174138361@cl.cam.ac.uk>

Frank K?ster <frank at kuesterei.ch> wrote:

> Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:
> 
> > Karl Berry <karl at freefriends.org> wrote:
> >> As it happens, I removed the catalogue package from TL development a few
> >> days ago, since it seemed to serve no purpose and is always out of date.
> >> It seems like overkill to have the entire Catalogue just for these
> >> references, especially when you have found that they are typically
> >> wrong.
> 
> The reason why they are wrong is that they contain links like 
> 
> title="Read documentation for this package from ctan:/macros/latex/contrib/a0poster/a0_eng.pdf."></a>
>   <a href="../../../macros/latex/contrib/a0poster/a0.dvi"><img
> 
> with relative links, but of course the directory structure in a TEXMF
> tree is different than on CTAN.  On the other hand, it shouldn't be too
> hard to automatically fix the link.

the html files on ctan are generated *for ctan* from the xml in the
catalogue repository: istm it would be silly to try to generate stuff
for texlive from the ctan html (or the sarovar html, for that matter:
both have all sorts of stuff hanging off them, though sarovar's href
pointers go straight to ctan).  we should construct a new variant of the
catalogue-generation script that points direct at doc files in the
texlive system, or at the files on the archive as appropriate.

> I didn't object when Karl removed the catalogue, but I didn't really
> agree, and I would be in favor of keeping/adding it.

of course, all the above is contingent on karl feeling moved to reverse
his decision for next time...

r

From oberdiek at uni-freiburg.de  Sat Mar 17 15:25:39 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sat, 17 Mar 2007 15:25:39 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <5EC6EE67-C5C0-40F6-9E6D-8EBD6C577295@sil.org>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
	<45FBC7FF.8010208@elvenkind.com>
	<87ejno5bet.fsf@riesling.zuerich.kuesterei.ch>
	<5EC6EE67-C5C0-40F6-9E6D-8EBD6C577295@sil.org>
Message-ID: <20070317142538.GA26704@irwin.vpn.uni-freiburg.de>

On Sat, Mar 17, 2007 at 01:03:09PM +0000, Jonathan Kew wrote:

> On 17 Mar 2007, at 11:58 am, Frank K?ster wrote:
> 
> >Taco Hoekwater <taco at elvenkind.com> wrote:
> >
> >>I don't think I have ever seen an example where there was a serious
> >>need for more than 16 read or write allocators. I would like to  
> >>see an
> >>actual example of a document with no programming errors and with no
> >>excessively sloppy handling of resources that still needs more than
> >>16 distinct read or write handles (simultaneously or sequentially).
> >>
> >>I presume such a document is possible, but until I see a practical
> >>example, I am very reluctant to support/do a change to eTeX.
> >
> >I would have to dig through the archives, but I think I remember an
> >example in de.comp.text.tex, and if I'm not mistaken it used a
> >combination of various packages, one of which writes one file per
> >chapter for chapterwise TOC, LOF, LOT.  4 chapters with three such  
> >files
> >each gives already 12 files (sequentially),
> 
> That gives 12 files, yes. But there's no reason for it to use 12  
> \write streams. Just close the streams at end of chapter, and re-open  
> with new filenames for the next. So 3 streams are enough for such a  
> package to handle any number of chapters, even without interleaving  
> the records in a single file and then distinguishing them as they're  
> re-read later.

Last year I have analyzed a complaint:

  From: Heiko Oberdiek <oberdiek at uni-freiburg.de>
  Newsgroups: de.comp.text.tex
  Subject: Re: \write16 nicht m?glich
  Date: Thu, 23 Feb 2006 22:03:23 +0100
  Message-ID: <dtl7un$krr$1 at news.BelWue.DE>

| LaTeX: 3 writes (0-3) \@unused, \@mainaux, \@partaux
| fancybox: 1 write (3)
| multibib: 6 writes (4-9) \newcites{one, ..., six}
| minitoc: 1 write (10)
| multind: 1 write (11) \makeindex{total}
| hyperref: 1 write (12) \@outlinefile
| graphics/pdftex.def/supp-mis.tex: 1 write (13)
| toc, lof, lot: 3 writes (14-16)

The number of write streams don't depend on the number of chapters.
More write streams are possible: He was using just one index,
more indexes are possible with multind, there could be a
list of listings and so on.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Sat Mar 17 15:31:59 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sat, 17 Mar 2007 15:31:59 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <45FBC7FF.8010208@elvenkind.com>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
	<45FBC7FF.8010208@elvenkind.com>
Message-ID: <20070317143159.GB26704@irwin.vpn.uni-freiburg.de>

On Sat, Mar 17, 2007 at 11:50:39AM +0100, Taco Hoekwater wrote:

> I presume such a document is possible, but until I see a practical
> example, I am very reluctant to support/do a change to eTeX. Not in
> the least because of \write18 compatibility issues.

I don't see a problem leaving a gap that \write16, \write17,
\write18 or other special \write registers aren't effected by
the write register allocation. The allocation code just need
to know, how to reliable test whether additional writes are
available. For exmaple, e-TeX version number, if it would be
part of e-TeX. Or a new primitive for this purpose.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Sat Mar 17 15:39:46 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sat, 17 Mar 2007 15:39:46 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <45FBC7FF.8010208@elvenkind.com>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
	<45FBC7FF.8010208@elvenkind.com>
Message-ID: <20070317143946.GA27674@irwin.vpn.uni-freiburg.de>

On Sat, Mar 17, 2007 at 11:50:39AM +0100, Taco Hoekwater wrote:

> I presume such a document is possible, but until I see a practical
> example, I am very reluctant to support/do a change to eTeX. Not in
> the least because of \write18 compatibility issues.

I don't see a problem leaving a gap that \write16, \write17,
\write18 or other special \write registers aren't effected by
the write register allocation. The allocation code just need
to know, how to reliable test whether additional writes are
available. For exmaple, e-TeX version number, if it would be
part of e-TeX. Or a new primitive for this purpose.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From taco at elvenkind.com  Sat Mar 17 17:53:03 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 17 Mar 2007 17:53:03 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <20070317143159.GB26704@irwin.vpn.uni-freiburg.de>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
	<45FBC7FF.8010208@elvenkind.com>
	<20070317143159.GB26704@irwin.vpn.uni-freiburg.de>
Message-ID: <45FC1CEF.2010906@elvenkind.com>

Heiko Oberdiek wrote:

> I don't see a problem leaving a gap that \write16, \write17,

I do: it is ugly programming. It is bad enough that in eTeX the
\box255 is still a special case and that (I think) the \inserts
are still counting down from 255 instead of 32767. Let's not add
another of those.

> \write18 or other special \write registers aren't effected by
> the write register allocation. The allocation code just need
> to know, how to reliable test whether additional writes are
> available. For exmaple, e-TeX version number, if it would be
> part of e-TeX. Or a new primitive for this purpose.

How about simply making \newwrite and \newread primitive
operations? They are nothing more than a \chardef and a bit
of bookkeeping anyway. Then the executable can skip whatever
number it feels is magical, and a normal user will never know
the difference.

Best wishes,

Taco


From reinhard.kotucha at web.de  Sat Mar 17 21:58:14 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 17 Mar 2007 21:58:14 +0100
Subject: [tex-live] Suggestion for future releases
In-Reply-To: <16782.1174090408@cl.cam.ac.uk>
References: <200703161613.l2GGDqS04331@f7.net> <16782.1174090408@cl.cam.ac.uk>
Message-ID: <17916.22118.687166.837630@zarniwoop.ms25.local>

>>>>> "Robin" == Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> writes:

  > how would such a change interact with texdoctk (which i hardly
  > ever use)?  i started thinking about a replacement a while back,
  > and i could be interested in a small development project (but i
  > know neither tcl nor tk).

The texdoctk database is supposed to be maintained manually.  It does
not use the catalogue or anything else.

texdoctk is written in Perl/Tk.  Though it has initially been written
for teTeX only, it works on Windows too. 

If you would write a replacement, what would you change?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From karl at freefriends.org  Sat Mar 17 22:29:04 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 17 Mar 2007 16:29:04 -0500
Subject: [tex-live] Suggestion for future releases
In-Reply-To: <19783.1174138361@cl.cam.ac.uk>
Message-ID: <200703172129.l2HLT4e09507@f7.net>

    of course, all the above is contingent on karl feeling moved to reverse
    his decision for next time...

I am happy to restore some version of the Catalogue into TL if it is
useful to do so.

From hartmut_henkel at gmx.de  Sun Mar 18 03:49:15 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sun, 18 Mar 2007 03:49:15 +0100 (CET)
Subject: [tex-live] No room for a new \write
In-Reply-To: <45FC1CEF.2010906@elvenkind.com>
References: <17915.6764.392669.214687@zarniwoop.ms25.local>
	<18812.1174120965@cl.cam.ac.uk>
	<20070317094951.GA23839@irwin.vpn.uni-freiburg.de>
	<45FBC3C7.9080105@Royal-Tunbridge-Wells.Org>
	<45FBC7FF.8010208@elvenkind.com>
	<20070317143159.GB26704@irwin.vpn.uni-freiburg.de>
	<45FC1CEF.2010906@elvenkind.com>
Message-ID: <alpine.DEB.0.83.0703180335240.2766@hahepc1.hahe>

On Sat, 17 Mar 2007, Taco Hoekwater wrote:

> How about simply making \newwrite and \newread primitive operations?
> They are nothing more than a \chardef and a bit of bookkeeping anyway.
> Then the executable can skip whatever number it feels is magical, and
> a normal user will never know the difference.

maybe also something new like "\openout append 5" would help (which
should be downward compatible), allowing to append stuff to an existing
file without purging its former contents. Then one could close and open
a file several times within the same run, which might reduce the need
for a larger number of \write files (it would also allow e. g. more
easily to record info from many TeX runs in some kind of log file).

Regards, Hartmut

From pfaeh at mysunrise.ch  Sun Mar 18 04:20:18 2007
From: pfaeh at mysunrise.ch (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Sun, 18 Mar 2007 04:20:18 +0100
Subject: [tex-live] No room for a new \write
Message-ID: <8746ab00820b31f2a8e1063a5d702cd8@mysunrise.ch>

--- As I said above, the limit of 32 files which can be open at the same
--- time sounds ridiculously nowadays.  On the other hand, operating
--- systems limit the number of files which can be open at the same 
time.

o.k., I agree
Mac OS X: http://developer.apple.com/qa/qa2001/qa1005.html or ulimit -a



--- I don't think I have ever seen an example where there was a serious
--- need for more than 16 read or write allocators. I would like to see 
an
--- actual example of a document with no programming errors and with no
--- excessively sloppy handling of resources that still needs more than
--- 16 distinct read or write handles (simultaneously or sequentially).

LaTeX (4)
toc, lot, lof (3)
...				--> ....
minitoc  			--> titletoc   (one .ptc-file) (1)
makeidx 			--> for more  (in one file) splitidx (1)
natbib, multibib 	--> foreach \newcites{}{}  .aux  (x)
other packages 	--> (i.e. comment (1), m-pictex, m-ch-en (1), Hyperref 
outlinefile (1) + (x + 1 .brf), etc.) (y)

7 + 2 + x + y < 16
with a secondary bibliography x=1
with need of chemistry (ppchtex) and Hyperref
  7 + 2 + 1 +       4 < 16
14 < 16
comments is very useful, to uncomment some/a lot of  text without the 
percent sign
15 < 16
so we are just at the limit

o.k. I could optimize a lot of stuff in my file and restrict some of my 
means. Although there are still a lot of packages to use.



--- The number of write streams don't depend on the number of chapters.
--- More write streams are possible: He was using just one index,
--- more indexes are possible with multind, there could be a
--- list of listings and so on.

That would imply a new (\write-file) structure?



-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1740 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070318/5c3143a8/attachment.bin 

From taco at elvenkind.com  Sun Mar 18 09:15:31 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 18 Mar 2007 09:15:31 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <8746ab00820b31f2a8e1063a5d702cd8@mysunrise.ch>
References: <8746ab00820b31f2a8e1063a5d702cd8@mysunrise.ch>
Message-ID: <45FCF523.9020709@elvenkind.com>

Hi,

Philipp F?h wrote:
> o.k. I could optimize a lot of stuff in my file and restrict some of my 
> means. Although there are still a lot of packages to use.
> 

After your example post and Heiko's, yes, I see there is a problem.

Cheers, Taco


From fishywang at gmail.com  Sun Mar 18 09:56:13 2007
From: fishywang at gmail.com (fishy)
Date: Sun, 18 Mar 2007 16:56:13 +0800
Subject: [tex-live] bug of beamer in texlive 2007?
Message-ID: <374c9f950703180156n220ded83v6c6fd84820392b2c@mail.gmail.com>

Hi, folks,

for the following simple test document:

*** begin ***
\documentclass{beamer}
\usetheme{Madrid}
\begin{document}

\begin{frame}
  \begin{block}{title}
    block text
  \end{block}
\end{frame}

\begin{frame}

plain text

\begin{itemize}
\item item1
\item item2
\end{itemize}

\end{frame}
\end{document}
*** end ***

The text of "title", "block text", "item1", "item2" all goes well, but
"plain text" was in a grey color that very similar to the background
color (white), so it's completely unreadable.

I've tried to replace the texmf-dist/tex/latex/beamer directory with
the one from texlive 2005 and this problem remains, so it should be
something wrong elsewhere in texlive 2007

if you compile this document with texlive 2005, the color of "plain
text" should be black, and that's readable
-- 
regards,
fishy

From pfaeh at mysunrise.ch  Sun Mar 18 15:00:02 2007
From: pfaeh at mysunrise.ch (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Sun, 18 Mar 2007 15:00:02 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <45FCF523.9020709@elvenkind.com>
References: <8746ab00820b31f2a8e1063a5d702cd8@mysunrise.ch>
	<45FCF523.9020709@elvenkind.com>
Message-ID: <672495863de85d7be470546a38c340a2@mysunrise.ch>

Structured \write-files (\write-file-sharing) and some rules could 
already solve the problem?

Am 18.03.2007 um 09:15 schrieb Taco Hoekwater:

> Hi,
>
> Philipp F?h wrote:
>> o.k. I could optimize a lot of stuff in my file and restrict some of 
>> my means. Although there are still a lot of packages to use.
>
> After your example post and Heiko's, yes, I see there is a problem.
>
> Cheers, Taco
>


From pfaeh at mysunrise.ch  Sun Mar 18 15:40:02 2007
From: pfaeh at mysunrise.ch (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Sun, 18 Mar 2007 15:40:02 +0100
Subject: [tex-live] bug of beamer in texlive 2007?
In-Reply-To: <374c9f950703180156n220ded83v6c6fd84820392b2c@mail.gmail.com>
References: <374c9f950703180156n220ded83v6c6fd84820392b2c@mail.gmail.com>
Message-ID: <43f3fede9daffc4b5e4569fc09a87897@mysunrise.ch>

  \documentclass{beamer}
\usetheme{Madrid}

\begin{document}
\begin{frame}
plain text before
  \begin{block}{}
    block text
  \end{block}
  plain text after
\end{frame}
\end{document}

"plain text after" is colored similarly to the backgroundcolor of the 
block-environment (Try alertblock).


Am 18.03.2007 um 09:56 schrieb fishy:

> Hi, folks,
>
> for the following simple test document:
>
> *** begin ***
> \documentclass{beamer}
> \usetheme{Madrid}
> \begin{document}
>
> \begin{frame}
>  \begin{block}{title}
>    block text
>  \end{block}
> \end{frame}
>
> \begin{frame}
>
> plain text
>
> \begin{itemize}
> \item item1
> \item item2
> \end{itemize}
>
> \end{frame}
> \end{document}
> *** end ***
>
> The text of "title", "block text", "item1", "item2" all goes well, but
> "plain text" was in a grey color that very similar to the background
> color (white), so it's completely unreadable.
>
> I've tried to replace the texmf-dist/tex/latex/beamer directory with
> the one from texlive 2005 and this problem remains, so it should be
> something wrong elsewhere in texlive 2007
>
> if you compile this document with texlive 2005, the color of "plain
> text" should be black, and that's readable
> -- 
> regards,
> fishy
>


From tcalkins at gmail.com  Mon Mar 19 01:55:32 2007
From: tcalkins at gmail.com (Tim Calkins)
Date: Mon, 19 Mar 2007 11:55:32 +1100
Subject: [tex-live] basic help
Message-ID: <ca5a2f2e0703181755n5931b21es149eb7b383c41654@mail.gmail.com>

Greetings all -

This may not be the most appropriate place to post, but it's the best
place that I could think of on short notice.  If I should post
elsewhere, don't hesitate to let me know.

I'm starting to write .cls files, and I can't find any documentation
on the basic commands that I might use.

I would love to know if there is a tutorial or guide to using
switches, \if \else \fi statements, page styles, macros, and so on.
I've been trying to figure everything out based on the classes set of
files that define article, book, and report.  I've made great
progress, but I can't get all that I need.

Thanks in advance for all or your help.

tim

-- 
Tim Calkins

From hanche at math.ntnu.no  Mon Mar 19 08:49:41 2007
From: hanche at math.ntnu.no (Harald Hanche-Olsen)
Date: Mon, 19 Mar 2007 08:49:41 +0100 (CET)
Subject: [tex-live] basic help
In-Reply-To: <ca5a2f2e0703181755n5931b21es149eb7b383c41654@mail.gmail.com>
References: <ca5a2f2e0703181755n5931b21es149eb7b383c41654@mail.gmail.com>
Message-ID: <20070319.084941.212927122.hanche@math.ntnu.no>

+ "Tim Calkins" <tcalkins at gmail.com>:

| This may not be the most appropriate place to post, but it's the
| best place that I could think of on short notice.

No, it isn't, given that this is a list dedicated to a specific
package of TeX and related files.  The newsgroup comp.text.tex is
probably the best place for general queries.

| I'm starting to write .cls files, and I can't find any documentation
| on the basic commands that I might use.

Since you're asking here, you probably have TeX Live.  So you should
try to run:  texdoc clsguide

There is tons of LaTeX related docs in the same place where that is
found.  To find the location run:  texdoc -l clsguide

Of course, the book "LaTeX Companion" should contain all you need and
more.

| I would love to know if there is a tutorial or guide to using
| switches, \if \else \fi statements, page styles, macros, and so on.

For \if \else \fi you should look for plain TeX documentation:
Knuth's book "TeX the program" is indispensible for would be TeX
hackers, as is Victor Eijkhout?s "TeX by Topic" at
<http://www.eijkhout.net/tbt/>.

That said, you can probably do quite a bit of class file hacking
without knowing much plain TeX.

If you have further questions, please direct them to comp.text.tex.

- Harald

From taco at elvenkind.com  Mon Mar 19 10:26:33 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 19 Mar 2007 10:26:33 +0100
Subject: [tex-live] No room for a new \write
In-Reply-To: <672495863de85d7be470546a38c340a2@mysunrise.ch>
References: <8746ab00820b31f2a8e1063a5d702cd8@mysunrise.ch>	<45FCF523.9020709@elvenkind.com>
	<672495863de85d7be470546a38c340a2@mysunrise.ch>
Message-ID: <45FE5749.2080909@elvenkind.com>



Philipp F?h wrote:
> Structured \write-files (\write-file-sharing) and some rules could 
> already solve the problem?

After some offlist emails it is now clear that we can and will add
the functionality to have more than 16 files to the etex changes,
but as this is the tex-live list, you would have to wait for another
year before that functionality is available to you.

So it is unlikey there will be a quick solution, sorry.

Taco




From gnwiii at gmail.com  Mon Mar 19 16:35:37 2007
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 19 Mar 2007 12:35:37 -0300
Subject: [tex-live] No room for a new \write
In-Reply-To: <45FE5749.2080909@elvenkind.com>
References: <8746ab00820b31f2a8e1063a5d702cd8@mysunrise.ch>
	<45FCF523.9020709@elvenkind.com>
	<672495863de85d7be470546a38c340a2@mysunrise.ch>
	<45FE5749.2080909@elvenkind.com>
Message-ID: <22af238a0703190835m5205cc81ve6b9b0a1d44d8903@mail.gmail.com>

On 3/19/07, Taco Hoekwater <taco at elvenkind.com> wrote:

> Philipp F?h wrote:
> > Structured \write-files (\write-file-sharing) and some rules could
> > already solve the problem?
>
> After some offlist emails it is now clear that we can and will add
> the functionality to have more than 16 files to the etex changes,
> but as this is the tex-live list, you would have to wait for another
> year before that functionality is available to you.
>
> So it is unlikey there will be a quick solution, sorry.

Well -- don't feel sorry!   The sources are there, so anyone who finds
it easier to write the patch than it is to work around the limit is
free to contribute changes this afternoon or even next week.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From xulxer at gmail.com  Mon Mar 19 21:17:59 2007
From: xulxer at gmail.com (=?ISO-8859-1?Q?Bert_Tr=FCger?=)
Date: Mon, 19 Mar 2007 21:17:59 +0100
Subject: [tex-live] Problem with \usepackage[latin]{babel}
Message-ID: <f4c832270703191317n2363c7fcn345e843cc69248f@mail.gmail.com>

Hi,

when trying to compile

\documentclass[a4paper,10pt]{article}
\usepackage[latin]{babel}

\begin{document}

    Test

\end{document}

under Texlive 2007 I get the messages
"[PDFLaTeX] Latein.tex => Latein.pdf
(/usr/local/texlive/2007/bin/i386-linux/pdflatex)
[PDFLaTeX] mit Status 1 beendet
/usr/local/texlive/2007/texmf-dist/tex/generic/babel/latin.ldf:184:Undefined

control sequence. \addtoextraslatin
/usr/local/texlive/2007/texmf-dist/tex/generic/babel/latin.ldf:184:Undefined

control sequence. \addtoextraslatin{\LatinMarksOff
[PDFLaTeX] 2 Fehler, 0 Warnungen, 0 badboxes
"

What's wrong? I am pretty sure this worked without errors under Texlive
2005.

Thanks in advance

Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070319/d4004734/attachment.html 

From karl at freefriends.org  Mon Mar 19 22:32:52 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 19 Mar 2007 16:32:52 -0500
Subject: [tex-live] SVN repo by rsync?
In-Reply-To: <m3zm69jsbp.fsf@lugabout.jhcloos.org>
Message-ID: <200703192132.l2JLWq727032@f7.net>

Hello Jim and all,

I've set up a tldevrepo rsync module to get the actual svn database, and
updated http://tug.org/texlive/svn/ accordingly.  Thanks for the suggestion.

karl

From oberdiek at uni-freiburg.de  Mon Mar 19 22:41:11 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Mon, 19 Mar 2007 22:41:11 +0100
Subject: [tex-live] Problem with \usepackage[latin]{babel}
In-Reply-To: <f4c832270703191317n2363c7fcn345e843cc69248f@mail.gmail.com>
References: <f4c832270703191317n2363c7fcn345e843cc69248f@mail.gmail.com>
Message-ID: <20070319214110.GA11164@irwin.vpn.uni-freiburg.de>

On Mon, Mar 19, 2007 at 09:17:59PM +0100, Bert Tr?ger wrote:

> when trying to compile
> 
> \documentclass[a4paper,10pt]{article}
> \usepackage[latin]{babel}
> 
> \begin{document}
> 
>    Test
> 
> \end{document}
> 
> under Texlive 2007 I get the messages
> "[PDFLaTeX] Latein.tex => Latein.pdf
> (/usr/local/texlive/2007/bin/i386-linux/pdflatex)
> [PDFLaTeX] mit Status 1 beendet
> /usr/local/texlive/2007/texmf-dist/tex/generic/babel/latin.ldf:184:Undefined
> 
> control sequence. \addtoextraslatin
> /usr/local/texlive/2007/texmf-dist/tex/generic/babel/latin.ldf:184:Undefined
> 
> control sequence. \addtoextraslatin{\LatinMarksOff
> [PDFLaTeX] 2 Fehler, 0 Warnungen, 0 badboxes
> "
> 
> What's wrong? I am pretty sure this worked without errors under Texlive
> 2005.

TeX Live uses the versions on CTAN, and latin.dtx (latin.ldf)
2005/11/17 v2.0g misses a backslash:
  \addtoextraslatin --> \addto\extraslatin

I have made a LaTeX bug report for you: babel/3922.
And I will update latex-tds.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Mon Mar 19 23:38:43 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Mon, 19 Mar 2007 23:38:43 +0100
Subject: [tex-live] Problem with \usepackage[latin]{babel}
In-Reply-To: <20070319214110.GA11164@irwin.vpn.uni-freiburg.de>
References: <f4c832270703191317n2363c7fcn345e843cc69248f@mail.gmail.com>
	<20070319214110.GA11164@irwin.vpn.uni-freiburg.de>
Message-ID: <20070319223843.GA15968@irwin.vpn.uni-freiburg.de>

On Mon, Mar 19, 2007 at 10:41:10PM +0100, Heiko Oberdiek wrote:

> On Mon, Mar 19, 2007 at 09:17:59PM +0100, Bert Tr?ger wrote:
> 
> > when trying to compile
> > 
> > \documentclass[a4paper,10pt]{article}
> > \usepackage[latin]{babel}
> > 
> > \begin{document}
> > 
> >    Test
> > 
> > \end{document}
> > 
> > under Texlive 2007 I get the messages
> > "[PDFLaTeX] Latein.tex => Latein.pdf
> > (/usr/local/texlive/2007/bin/i386-linux/pdflatex)
> > [PDFLaTeX] mit Status 1 beendet
> > /usr/local/texlive/2007/texmf-dist/tex/generic/babel/latin.ldf:184:Undefined
> > 
> > control sequence. \addtoextraslatin
> > /usr/local/texlive/2007/texmf-dist/tex/generic/babel/latin.ldf:184:Undefined
> > 
> > control sequence. \addtoextraslatin{\LatinMarksOff
> > [PDFLaTeX] 2 Fehler, 0 Warnungen, 0 badboxes
> > "
> > 
> > What's wrong? I am pretty sure this worked without errors under Texlive
> > 2005.
> 
> TeX Live uses the versions on CTAN, and latin.dtx (latin.ldf)
> 2005/11/17 v2.0g misses a backslash:
>   \addtoextraslatin --> \addto\extraslatin
> 
> I have made a LaTeX bug report for you: babel/3922.
> And I will update latex-tds.

However, this isn't enough, there are other errors:

! Package babel Error: The character '^' is not a shorthand character
  in latin.

! Package babel Error: The character '=' is not a shorthand character
  in latin.

Cause is \LatinMarksOff that expands to \shorthandoff{^} and
\shorthandon{=}. However these shorthands aren't defined by default,
only after \ProsodicMarks. This fix isn't trivial without knowing
the original intention.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From geoffrey.russell at gmail.com  Tue Mar 20 23:36:45 2007
From: geoffrey.russell at gmail.com (Geoff Russell)
Date: Wed, 21 Mar 2007 09:06:45 +1030
Subject: [tex-live] Broken links on www.tug.org
Message-ID: <93c3eada0703201536y5aaacdd9y25f8e038a66c3ab8@mail.gmail.com>

Just a little note regarding links on

     http://www.tug.org/texlive/acquire.html

The links to get the inst CD don't all work.

       --- the "from Germany" link is a "550 no such file ..."
       --- the "from UTAH" link asks for a name and password (it took me
           a few tries to guess "anonymous", a note would be nice).

Cheers,
Geoff Russell

From karl at freefriends.org  Wed Mar 21 01:01:51 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 20 Mar 2007 19:01:51 -0500
Subject: [tex-live] Broken links on www.tug.org
In-Reply-To: <93c3eada0703201536y5aaacdd9y25f8e038a66c3ab8@mail.gmail.com>
Message-ID: <200703210001.l2L01pd27417@f7.net>

Hi Geoff,

           --- the "from Germany" link is a "550 no such file ..."
Fixed.

           --- the "from UTAH" link asks for a name and password (it took me
               a few tries to guess "anonymous", a note would be nice).
You're not the first person to report that, but it doesn't happen for
me. I'll ask about it; my only idea is that it happens when the ftp
server is maxed out.  Meanwhile, I changed the link on acquire.html to
use http.

Thanks for the report.

karl

From frank at kuesterei.ch  Wed Mar 21 17:55:22 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 21 Mar 2007 17:55:22 +0100
Subject: [tex-live] Installation Report TL 2007
Message-ID: <87ircur0xx.fsf@riesling.zuerich.kuesterei.ch>

Hi,

after playing with the Debian packages for a while, I decided to install
a "plain upstream" TeX Live 2007 under Debian GNU/Linux, unstable.

I first tried to use the GUI installer, but this didn't work fine.
First of all, some Tk window was shown for a very short time, but I
wasn't able to read anything, I don't even know whether it contains any
text. Then, I didn't find a place that would allow me to change the
installation directory, but the "Remove" tab said that it is "/", and I
could choose to remove "/texmf-local/", too.  Being bold, I proceeded
nevertheless and selected to install basicbin, but 

- it gave an error message, "no files texmf/list/*" or similar

- it hangs in the postinstallation step.

I stopped this all, and I couldn't find any files anywhere.

Then I tried the commandline installer.  Here the user interface worked
fine.  However, I got this:

../install-tl.sh: line 158: unzip: command not found
../install-tl.sh: line 158: unzip: command not found
../install-tl.sh: line 158: unzip: command not found
../install-tl.sh: line 158: unzip: command not found
[... repeated over and over again ...]

Done unpacking.
[...]
Welcome to TeX Live!

Well, I guess it should have failed.  I really suggest to make scripts
"set -e".  After installung unzip, all went fine.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From rivanvx at gmail.com  Wed Mar 21 22:49:12 2007
From: rivanvx at gmail.com (=?UTF-8?Q?Vedran_Mileti=C4=87?=)
Date: Wed, 21 Mar 2007 22:49:12 +0100
Subject: [tex-live] Installation Report TL 2007
In-Reply-To: <87ircur0xx.fsf@riesling.zuerich.kuesterei.ch>
References: <87ircur0xx.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <fd3eb9bf0703211449n18745041id7ce877b4c1eb44@mail.gmail.com>

2007/3/21, Frank K?ster <frank at kuesterei.ch>:
> Hi,
>
> after playing with the Debian packages for a while, I decided to install
> a "plain upstream" TeX Live 2007 under Debian GNU/Linux, unstable.
>
> I first tried to use the GUI installer, but this didn't work fine.
> First of all, some Tk window was shown for a very short time, but I
> wasn't able to read anything, I don't even know whether it contains any
> text. Then, I didn't find a place that would allow me to change the
> installation directory, but the "Remove" tab said that it is "/", and I
> could choose to remove "/texmf-local/", too.  Being bold, I proceeded
> nevertheless and selected to install basicbin, but
Do you have Tk libs installed? It worked here last time I tried it
(month and half ago).

-- 
Vedran Mileti?
Student at Math Department, University of Rijeka

From reinhard.kotucha at web.de  Thu Mar 22 00:38:38 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 22 Mar 2007 00:38:38 +0100
Subject: [tex-live] Installation Report TL 2007
In-Reply-To: <fd3eb9bf0703211449n18745041id7ce877b4c1eb44@mail.gmail.com>
References: <87ircur0xx.fsf@riesling.zuerich.kuesterei.ch>
	<fd3eb9bf0703211449n18745041id7ce877b4c1eb44@mail.gmail.com>
Message-ID: <17921.49662.730616.918002@zarniwoop.ms25.local>

>>>>> "Vedran" == Vedran Mileti$,1 '(B <rivanvx at gmail.com> writes:

  > Do you have Tk libs installed? It worked here last time I tried it
  > (month and half ago).

As far as I understand tlpmgui does not depend on external libraries.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From karl at freefriends.org  Thu Mar 22 00:50:25 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 21 Mar 2007 18:50:25 -0500
Subject: [tex-live] Installation Report TL 2007
In-Reply-To: <87ircur0xx.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200703212350.l2LNoPV17941@f7.net>

    I first tried to use the GUI installer

I hope Pawel can look at those.

    ../install-tl.sh: line 158: unzip: command not found

Ok, I'll add a check for the presence of unzip.

    I really suggest to make scripts "set -e".

My experience is that that causes far more problems than it solves.

Thanks,
Karl

From preining at logic.at  Thu Mar 22 11:00:59 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 22 Mar 2007 11:00:59 +0100
Subject: [tex-live] Debian TeX -- new packages
Message-ID: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>

Hi all!

The Debian TeX Maintainer Team has uploaded the first set of packages of
TeX Live 2007 to Debian/experimental, and at the same time they are
available from the www.tug.org server.

We ask people using Debian to try these packages out, they survived all
my tests and quite a lot of documents I tried out, but YMMV.

After Etch is released these (or follow-up packages will go into
Debian/unstable and later testing).

Ok, here are the directions, ie /etc/apt/sources stanzas

For TeX Live:
	deb http://www.tug.org/texlive/Debian/ tl2007/
	deb-src http://www.tug.org/texlive/Debian/ tl2007/

Some stuff has been factored out of TeX Live as it is already present in
the Debian archive, here are further stanzas which might help:

For lmodern 1.01:
	deb http://www.tug.org/texlive/Debian/ lmodern/
	deb-src http://www.tug.org/texlive/Debian/ lmodern/

For latest ConTeXt (ATM 2007.03.19-1):
	deb http://www.tug.org/texlive/Debian/ context/
	deb-src http://www.tug.org/texlive/Debian/ context/

For luatex snapshots:
	deb http://www.tug.org/texlive/Debian/ luatex/
	deb-src http://www.tug.org/texlive/Debian/ luatex/

All these packages are uploaded to experimental, but some packages have
to go through the new queue, as they contain new binary packages
(texlive-xetex, -humanities, -science).

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GALLIPOLI (adj.)
Of the behaviour of a bottom lip trying to spit mouthwash after an
injection at the dentist. Hence, loose, floppy, useless. 'She went
suddenly Gallipoli in his arms' - Noel Coward.
			--- Douglas Adams, The Meaning of Liff

From fishywang at gmail.com  Thu Mar 22 11:05:48 2007
From: fishywang at gmail.com (fishy)
Date: Thu, 22 Mar 2007 18:05:48 +0800
Subject: [tex-live] problem in texlive 2007, xelatex and hyperref package
Message-ID: <374c9f950703220305t18c6d4eckcc1d622303ea67c2@mail.gmail.com>

for this simple test file ("Adobe Heiti Std" and "Adobe Song Std" are
fonts come from Adobe Reader 8):
===== begin =====
\documentclass[titlepage, a4paper, 12pt]{article}

\usepackage[section]{placeins}
\usepackage[a4paper]{geometry}
\usepackage{indentfirst}
\usepackage{fontspec}
\usepackage{graphicx}
\usepackage[colorlinks,linkcolor=blue%
        ,a4paper%
        ,hyperindex%
        ,plainpages=false%
        ,CJKbookmarks,bookmarksopen=true%
        ,pdfstartview=FitH%
        ]{hyperref}

\setromanfont[BoldFont=Adobe Heiti Std]{Adobe Song Std}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt

\begin{document}

\url{http://www.foo.com}

\end{document}
===== end =====

and when xelatex it, it says:

===== begin =====
## xdv2pdf: use of uninstalled fonts (specified by filename) such as
##
[/usr/local/texlive/2007/texmf-dist/fonts/opentype/public/lm/lmtypewriter12-regula
r.otf]
## is not supported; try using the xdvipdfmx driver instead.
===== end =====

and the text "http://www.foo.com" shown on the pdf is malformed.

but if I replace "\url{http://www.foo.com}" with
"\href{http://www.foo.com}{http://www.foo.com}", it's OK
-- 
regards,
fishy

From jonathan_kew at sil.org  Thu Mar 22 12:29:07 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Thu, 22 Mar 2007 11:29:07 +0000
Subject: [tex-live] problem in texlive 2007, xelatex and hyperref package
In-Reply-To: <374c9f950703220305t18c6d4eckcc1d622303ea67c2@mail.gmail.com>
References: <374c9f950703220305t18c6d4eckcc1d622303ea67c2@mail.gmail.com>
Message-ID: <7B5B3223-6A44-40E1-89D7-1202E9E442E6@sil.org>

On 22 Mar 2007, at 10:05 am, fishy wrote:

> for this simple test file ("Adobe Heiti Std" and "Adobe Song Std" are
> fonts come from Adobe Reader 8):

> <snip>

> and when xelatex it, it says:
>
> ===== begin =====
> ## xdv2pdf: use of uninstalled fonts (specified by filename) such as
> ##
> [/usr/local/texlive/2007/texmf-dist/fonts/opentype/public/lm/ 
> lmtypewriter12-regula
> r.otf]
> ## is not supported; try using the xdvipdfmx driver instead.
> ===== end =====
>
> and the text "http://www.foo.com" shown on the pdf is malformed.
>
> but if I replace "\url{http://www.foo.com}" with
> "\href{http://www.foo.com}{http://www.foo.com}", it's OK

This is really a xetex question rather than texlive-related, so would  
be better asked on the xetex mailing list <http://tug.org/mailman/ 
listinfo/xetex>.

The error message you're seeing is a result of the way fontspec  
attempts to load the Latin Modern fonts by default, and the xdv2pdf  
output driver (under Mac OS X) doesn't support this. If you run  
xelatex with the option

     -output-driver="xdvipdfmx -q -E"

this would solve the problem.

The reason it changes when you replace \url with \href must be  
something about how these macros format the URL; in the case where  
you use \href, I guess it's using your main font (which is properly  
configured with fontspec), or else defaulting to Computer Modern  
(which also works), whereas \url is trying to use the Latin Modern  
default from fontspec.

(On non-Mac platforms, this particular problem won't arise because  
the output driver is always xdvipdfmx.)

HTH,   JK


From oberdiek at uni-freiburg.de  Thu Mar 22 13:17:36 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 22 Mar 2007 13:17:36 +0100
Subject: [tex-live] problem in texlive 2007, xelatex and hyperref package
In-Reply-To: <7B5B3223-6A44-40E1-89D7-1202E9E442E6@sil.org>
References: <374c9f950703220305t18c6d4eckcc1d622303ea67c2@mail.gmail.com>
	<7B5B3223-6A44-40E1-89D7-1202E9E442E6@sil.org>
Message-ID: <20070322121735.GA2961@irwin.vpn.uni-freiburg.de>

On Thu, Mar 22, 2007 at 11:29:07AM +0000, Jonathan Kew wrote:

> The reason it changes when you replace \url with \href must be  
> something about how these macros format the URL; in the case where  
> you use \href, I guess it's using your main font (which is properly  
> configured with fontspec),

\href does not change the font, thus it's the font previously active.

> or else defaulting to Computer Modern  
> (which also works), whereas \url is trying to use the Latin Modern  
> default from fontspec.

As default it uses \ttfamily (see package url).

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From frank at kuesterei.ch  Thu Mar 22 21:26:43 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 22 Mar 2007 21:26:43 +0100
Subject: [tex-live] Installation Report TL 2007
In-Reply-To: <17921.49662.730616.918002@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Thu\, 22 Mar 2007 00\:38\:38 +0100")
References: <87ircur0xx.fsf@riesling.zuerich.kuesterei.ch>
	<fd3eb9bf0703211449n18745041id7ce877b4c1eb44@mail.gmail.com>
	<17921.49662.730616.918002@zarniwoop.ms25.local>
Message-ID: <87tzwdaut8.fsf@riesling.zuerich.kuesterei.ch>

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

>>>>>> "Vedran" == Vedran Mileti.$,1 '.(B <rivanvx at gmail.com> writes:
>
>   > Do you have Tk libs installed? It worked here last time I tried it
>   > (month and half ago).
>
> As far as I understand tlpmgui does not depend on external libraries.

And anyway I wouldn't be able to view the window and try installing if I
hadn't the libraries, would I?

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Thu Mar 22 21:31:06 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 22 Mar 2007 21:31:06 +0100
Subject: [tex-live] Scripts "set -e" (was:  Installation Report TL 2007)
In-Reply-To: <200703212350.l2LNoPV17941@f7.net> (Karl Berry's message of "Wed\,
	21 Mar 2007 18\:50\:25 -0500")
References: <200703212350.l2LNoPV17941@f7.net>
Message-ID: <87ps71aulx.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>
>     I really suggest to make scripts "set -e".
>
> My experience is that that causes far more problems than it solves.

What problems do you expect or did you experience?  In Debian, it's
mandatory that all maintainer scripts are "set -e".   The cases where
this causes problems are very rare, and usually they mean that the
author did not thoroughly think about what the tools actually do, in
other words: These errors are a good thing.

On the other hand, Debian maintainer scripts probably get much more
testing in diverse environments than TL install scripts.  But if we
submit patches for say fmutil to make it work with "set -e", would you
accept them?

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From karl at freefriends.org  Thu Mar 22 21:40:34 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 22 Mar 2007 15:40:34 -0500
Subject: [tex-live] Scripts "set -e" (was: Installation Report TL 2007)
In-Reply-To: <87ps71aulx.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200703222040.l2MKeYW22906@f7.net>

    What problems do you expect or did you experience?  

Having to add useless cruft (subshells, piping to true, etc.) to make
exit codes be zero when there was nothing wrong with nonzero.

Many years ago, when we were developing autoconf, we tried set -e.
After much effort, we concluded the gain was not worth the pain.  And
since then I've never thought twice about using it.

    submit patches for say fmutil to make it work with "set -e", would
    you accept them?

Probably, but it also depends on what it looks like (ie, how much extra
cruft is inserted).  Certainly additional explicit error checks are
always a good thing.

Best,
k

From reinhard.kotucha at web.de  Thu Mar 22 23:21:59 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 22 Mar 2007 23:21:59 +0100
Subject: [tex-live] Installation Report TL 2007
In-Reply-To: <87tzwdaut8.fsf@riesling.zuerich.kuesterei.ch>
References: <87ircur0xx.fsf@riesling.zuerich.kuesterei.ch>
	<fd3eb9bf0703211449n18745041id7ce877b4c1eb44@mail.gmail.com>
	<17921.49662.730616.918002@zarniwoop.ms25.local>
	<87tzwdaut8.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <17923.391.89437.348882@zarniwoop.ms25.local>

>>>>> Frank K,A|(Bster <frank at kuesterei.ch> writes:

  > Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

  >> As far as I understand tlpmgui does not depend on external
  >> libraries.

  > And anyway I wouldn't be able to view the window and try
  > installing if I hadn't the libraries, would I?

I suppose that at least Pawel is listening to this list.  If not,
please contact Tomasz ,B#(Buczak <tlu at post.pl>.  I assume that Tomek is
most involved in tlpmgui.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------



From dak at gnu.org  Fri Mar 23 12:40:41 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 23 Mar 2007 12:40:41 +0100
Subject: [tex-live] nag.sty location
Message-ID: <85hcsc2nnq.fsf@lola.goethe.zz>


 Matches for nag.sty:

    /usr/TeX/2005/texmf-dist/tex/latex/nag/nag.sty
    /usr/TeX/2007/texmf-dist/doc/latex/nag/nag.sty

The latter does not seem like the best idea...

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum
de.comp.text.tex FAQ: <URL:http://www.dante.de/faq/de-tex-faq>

From kohda at pm.tokushima-u.ac.jp  Sat Mar 24 14:11:38 2007
From: kohda at pm.tokushima-u.ac.jp (Atsuhito Kohda)
Date: Sat, 24 Mar 2007 22:11:38 +0900 (JST)
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
Message-ID: <20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>

Hi Norbert and all, I'm not so sure but I encounterd a bit 
problem with these packages.

On Thu, 22 Mar 2007 11:00:59 +0100, Norbert Preining wrote:

> We ask people using Debian to try these packages out, they survived all
> my tests and quite a lot of documents I tried out, but YMMV.

When I xelatex a small sample file, I got an error message
as follows (I pressed enter key for ? prompt);

(/usr/share/texmf-texlive/tex/xelatex/euenc/lm/eu1lmr.fd)
! Font EU1/lmr/m/n/10=[lmroman10-regular] at 10.0pt not loadable: Metric (TFM)
file or installed font not found.
<to be read again>
                   relax
l.100 \fontencoding\encodingdefault\selectfont

? 
)
fontspec.cfg loaded.
(/usr/share/texmf-texlive/tex/xelatex/fontspec/fontspec.cfg))

There seems no problem with a generated PDF.  Is this a real
problem with texlive-xetex or lmodern or possible my fault?

A short sample file is (in UTF-8)
----------------------------
\documentclass{article}
\usepackage{fontspec}
\begin{document}
Typesetted by XeLaTeX
\end{document}
----------------------------

I use Debian testing and related packages are;
ii  lmodern        1.01-1         scalable PostScript fonts based on Computer
ii  texlive-xetex  2007-1         TeX Live: XeTeX macros

I'm very sorry if this is already known problem.

Regards,			  2007-3-24(Sat)

-- 
 Debian Developer & Debian JP Developer - much more I18N of Debian
 Atsuhito Kohda <kohda AT debian.org>
 Department of Math., Univ. of Tokushima

From ugroh at t-online.de  Sat Mar 24 15:03:30 2007
From: ugroh at t-online.de (Ulrich Groh)
Date: Sat, 24 Mar 2007 15:03:30 +0100
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
Message-ID: <46052FB2.8040900@t-online.de>

Atsuhito Kohda wrote:
> Hi Norbert and all, I'm not so sure but I encounterd a bit 
> problem with these packages.
>
> On Thu, 22 Mar 2007 11:00:59 +0100, Norbert Preining wrote:
>
>   
>> We ask people using Debian to try these packages out, they survived all
>> my tests and quite a lot of documents I tried out, but YMMV.
>>     
>
> When I xelatex a small sample file, I got an error message
> as follows (I pressed enter key for ? prompt);
>
> (/usr/share/texmf-texlive/tex/xelatex/euenc/lm/eu1lmr.fd)
> ! Font EU1/lmr/m/n/10=[lmroman10-regular] at 10.0pt not loadable: Metric (TFM)
> file or installed font not found.
> <to be read again>
>                    relax
> l.100 \fontencoding\encodingdefault\selectfont
>
> ? 
> )
> fontspec.cfg loaded.
> (/usr/share/texmf-texlive/tex/xelatex/fontspec/fontspec.cfg))
>
> There seems no problem with a generated PDF.  Is this a real
> problem with texlive-xetex or lmodern or possible my fault?
>
> A short sample file is (in UTF-8)
> ----------------------------
> \documentclass{article}
> \usepackage{fontspec}
> \begin{document}
> Typesetted by XeLaTeX
> \end{document}
> ----------------------------
>
> I use Debian testing and related packages are;
> ii  lmodern        1.01-1         scalable PostScript fonts based on Computer
> ii  texlive-xetex  2007-1         TeX Live: XeTeX macros
>
> I'm very sorry if this is already known problem.
>
> Regards,			  2007-3-24(Sat)
>
>   
I am using texlive2007 on my system (ubuntu edgy eft) and I had no 
problem to run and display the file using xelatex.

Ulrich

From cloos at jhcloos.com  Sat Mar 24 16:17:26 2007
From: cloos at jhcloos.com (James Cloos)
Date: Sat, 24 Mar 2007 11:17:26 -0400
Subject: [tex-live] SVN repo by rsync?
In-Reply-To: <200703192132.l2JLWq727032@f7.net> (Karl Berry's message of "Mon\,
	19 Mar 2007 16\:32\:52 -0500")
References: <200703192132.l2JLWq727032@f7.net>
Message-ID: <m3ircqn00y.fsf@lugabout.jhcloos.org>

Karl> I've set up a tldevrepo rsync module to get the actual svn
Karl> database, and updated http://tug.org/texlive/svn/ accordingly.
Karl> Thanks for the suggestion.

Cool.  Thanks.  It is working well.

-JimC
-- 
James Cloos <cloos at jhcloos.com>         OpenPGP: 1024D/ED7DAEA6

From idealbsd at gmail.com  Sat Mar 24 16:22:41 2007
From: idealbsd at gmail.com (Jeff Zhang)
Date: Sat, 24 Mar 2007 23:22:41 +0800
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
Message-ID: <1bf39a2f0703240822m28200280qf899d817a0bcb9ce@mail.gmail.com>

On 3/24/07, Atsuhito Kohda <kohda at pm.tokushima-u.ac.jp> wrote:
>
> Hi Norbert and all, I'm not so sure but I encounterd a bit
> problem with these packages.
>
> On Thu, 22 Mar 2007 11:00:59 +0100, Norbert Preining wrote:
>
> > We ask people using Debian to try these packages out, they survived all
> > my tests and quite a lot of documents I tried out, but YMMV.
>
> When I xelatex a small sample file, I got an error message
> as follows (I pressed enter key for ? prompt);
>
> (/usr/share/texmf-texlive/tex/xelatex/euenc/lm/eu1lmr.fd)
> ! Font EU1/lmr/m/n/10=[lmroman10-regular] at 10.0pt not loadable: Metric
> (TFM)
> file or installed font not found.
> <to be read again>
>                    relax
> l.100 \fontencoding\encodingdefault\selectfont
>
> ?
> )
> fontspec.cfg loaded.
> (/usr/share/texmf-texlive/tex/xelatex/fontspec/fontspec.cfg))
>
> There seems no problem with a generated PDF.  Is this a real
> problem with texlive-xetex or lmodern or possible my fault?
>
> A short sample file is (in UTF-8)
> ----------------------------
> \documentclass{article}
> \usepackage{fontspec}
> \begin{document}
> Typesetted by XeLaTeX
> \end{document}
> ----------------------------


It works under  debian/sid

% xelatex t.tex
This is XeTeX, Version 3.141592-2.2-0.996 (Web2C 7.5.6)
entering extended mode
(./t.tex
LaTeX2e <2005/12/01>
Babel <v3.8h> and hyphenation patterns for english, usenglishmax, dumylang,
nohyphenation, pinyin, bulgarian, russian, ukrainian, greek, monogreek,
ancientgreek, ibycus, latin, latin, loaded.
(/usr/share/texmf-texlive/tex/latex/base/article.cls
Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
(/usr/share/texmf-texlive/tex/latex/base/size10.clo))
(/usr/share/texmf-texlive/tex/latex/fontspec/fontspec.sty
(/usr/share/texmf-texlive/tex/latex/graphics/keyval.sty)) (./t.aux)

LaTeX Font Warning: Encoding `OT1' has changed to `U' for symbol font
(Font)              `operators' in the math version `normal' on input line
3.


LaTeX Font Warning: Encoding `OT1' has changed to `U' for symbol font
(Font)              `operators' in the math version `bold' on input line 3.

[1] (./t.aux) )
Output written on t.pdf (1 page).
Transcript written on t.log.



I use Debian testing and related packages are;
> ii  lmodern        1.01-1         scalable PostScript fonts based on
> Computer
> ii  texlive-xetex  2007-1         TeX Live: XeTeX macros
>
> I'm very sorry if this is already known problem.
>
> Regards,                          2007-3-24(Sat)
>
> --
> Debian Developer & Debian JP Developer - much more I18N of Debian
> Atsuhito Kohda <kohda AT debian.org>
> Department of Math., Univ. of Tokushima
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070324/6a499388/attachment.html 

From idealbsd at gmail.com  Sat Mar 24 17:57:32 2007
From: idealbsd at gmail.com (Jeff Zhang)
Date: Sun, 25 Mar 2007 00:57:32 +0800
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <1bf39a2f0703240822m28200280qf899d817a0bcb9ce@mail.gmail.com>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
	<1bf39a2f0703240822m28200280qf899d817a0bcb9ce@mail.gmail.com>
Message-ID: <1bf39a2f0703240957q2bb06b6dvb39be191c42af84d@mail.gmail.com>

On 3/24/07, Jeff Zhang <idealbsd at gmail.com> wrote:
>
>
> On 3/24/07, Atsuhito Kohda <kohda at pm.tokushima-u.ac.jp> wrote:
> >
> > Hi Norbert and all, I'm not so sure but I encounterd a bit
> > problem with these packages.
> >
> > On Thu, 22 Mar 2007 11:00:59 +0100, Norbert Preining wrote:
> >
> > > We ask people using Debian to try these packages out, they survived
> > all
> > > my tests and quite a lot of documents I tried out, but YMMV.
> >
> > When I xelatex a small sample file, I got an error message
> > as follows (I pressed enter key for ? prompt);
> >
> > (/usr/share/texmf-texlive/tex/xelatex/euenc/lm/eu1lmr.fd)
> > ! Font EU1/lmr/m/n/10=[lmroman10-regular] at 10.0pt not loadable: Metric
> > (TFM)
> > file or installed font not found.
> > <to be read again>
> >                    relax
> > l.100 \fontencoding\encodingdefault\selectfont
> >
> > ?
> > )
> > fontspec.cfg loaded.
> > (/usr/share/texmf-texlive/tex/xelatex/fontspec/fontspec.cfg))
> >
> > There seems no problem with a generated PDF.  Is this a real
> > problem with texlive-xetex or lmodern or possible my fault?
> >
> > A short sample file is (in UTF-8)
> > ----------------------------
> > \documentclass{article}
> > \usepackage{fontspec}
> > \begin{document}
> > Typesetted by XeLaTeX
> > \end{document}
> > ----------------------------
>
>
> It works under  debian/sid
>
> % xelatex t.tex
> This is XeTeX, Version 3.141592-2.2-0.996 (Web2C 7.5.6)
> entering extended mode
> (./t.tex
> LaTeX2e <2005/12/01>
> Babel <v3.8h> and hyphenation patterns for english, usenglishmax,
> dumylang, nohyphenation, pinyin, bulgarian, russian, ukrainian, greek,
> monogreek, ancientgreek, ibycus, latin, latin, loaded.
> (/usr/share/texmf-texlive/tex/latex/base/article.cls
> Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
> (/usr/share/texmf-texlive/tex/latex/base/size10.clo))
> (/usr/share/texmf-texlive/tex/latex/fontspec/fontspec.sty
> (/usr/share/texmf-texlive/tex/latex/graphics/keyval.sty)) (./t.aux)
>
> LaTeX Font Warning: Encoding `OT1' has changed to `U' for symbol font
> (Font)              `operators' in the math version `normal' on input line
> 3.
>
>
> LaTeX Font Warning: Encoding `OT1' has changed to `U' for symbol font
> (Font)              `operators' in the math version `bold' on input line
> 3.
>
> [1] (./t.aux) )
> Output written on t.pdf (1 page).
> Transcript written on t.log.
>

sorry,  it gives same information also after I upgraded all the things to
tl2007, as it is very slow to download the debs from the TUG so that I just
installed several packages not all of them before.

I use Debian testing and related packages are;
> > ii  lmodern        1.01-1         scalable PostScript fonts based on
> > Computer
> > ii  texlive-xetex  2007-1         TeX Live: XeTeX macros
> >
> > I'm very sorry if this is already known problem.
> >
> > Regards,                          2007-3-24(Sat)
> >
> > --
> > Debian Developer & Debian JP Developer - much more I18N of Debian
> > Atsuhito Kohda <kohda AT debian.org>
> > Department of Math., Univ. of Tokushima
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070325/b35eacb8/attachment.html 

From gnwiii at gmail.com  Sat Mar 24 18:10:20 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 24 Mar 2007 14:10:20 -0300
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
Message-ID: <22af238a0703241010w2044a0bew80b51b273ce22591@mail.gmail.com>

On 3/24/07, Atsuhito Kohda <kohda at pm.tokushima-u.ac.jp> wrote:

> Hi Norbert and all, I'm not so sure but I encounterd a bit
> problem with these packages.

I also encountered a few glitches, but didn't have time to really
explore the differences between the debian packages and the
original TL2007 install.  The thing that stick in my mind are the
instructions for adding the lm fonts to the updmap configuration,
which had "test" in one filename where "text" is meant and the
requirement to add the mapfile fragment to a list in /var.

I didn't get far with xetex -- the format lines were commented out
in the generated fmtutil.cnf file.  Further investigations will have
to wait until I'm near a debian machine again.

> On Thu, 22 Mar 2007 11:00:59 +0100, Norbert Preining wrote:
>
> > We ask people using Debian to try these packages out, they survived all
> > my tests and quite a lot of documents I tried out, but YMMV.
>
> When I xelatex a small sample file, I got an error message
> as follows (I pressed enter key for ? prompt);
>
> (/usr/share/texmf-texlive/tex/xelatex/euenc/lm/eu1lmr.fd)
> ! Font EU1/lmr/m/n/10=[lmroman10-regular] at 10.0pt not loadable: Metric (TFM)
> file or installed font not found.
> <to be read again>
>                    relax
> l.100 \fontencoding\encodingdefault\selectfont
>
> ?
> )
> fontspec.cfg loaded.
> (/usr/share/texmf-texlive/tex/xelatex/fontspec/fontspec.cfg))
>
> There seems no problem with a generated PDF.  Is this a real
> problem with texlive-xetex or lmodern or possible my fault?

I think the lmodern package doesn't do all the configuration needed.
Perhaps this is because there are some decisions to make, e.g.,
do you want to substitute lmodern for cm using the lm-rep-*.map
files?

Does fc-list find lmodern?

You can try "xetex --no-pdf <file>" followed by "dvipdfmx -vv
<file>.xdv" and "strace dvipdfmx <file>.xdv" to see where the fonts
are found.

I tried the following experiment with "real" TL2007:

A. original default configuration -- the lmodern fonts are found via
the .map file.  pdffonts lists type 1 fonts.

B.  fc configuration:

   1) "updmap-sys --edit" to remove the lm entries

   2) create symbolic links of the lmodern .otf fonts in ~/.fonts, then
fc-cache and fc-list to verify that the fonts are found.

  with this configuration pdffonts gives (for the example below):

name                                                       type
------------------------------------                  ------------
BSOVBZ+LMRoman10-Regular-Identity-H  CID Type 0C


> A short sample file is (in UTF-8)
> ----------------------------
> \documentclass{article}
> \usepackage{fontspec}
> \begin{document}
> Typesetted by XeLaTeX
> \end{document}
> ----------------------------
>
> I use Debian testing and related packages are;
> ii  lmodern        1.01-1         scalable PostScript fonts based on Computer
> ii  texlive-xetex  2007-1         TeX Live: XeTeX macros
>
> I'm very sorry if this is already known problem.
>
> Regards,                          2007-3-24(Sat)
>
> --
>  Debian Developer & Debian JP Developer - much more I18N of Debian
>  Atsuhito Kohda <kohda AT debian.org>
>  Department of Math., Univ. of Tokushima
>


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From jonathan_kew at sil.org  Sat Mar 24 18:38:27 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sat, 24 Mar 2007 17:38:27 +0000
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <22af238a0703241010w2044a0bew80b51b273ce22591@mail.gmail.com>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
	<22af238a0703241010w2044a0bew80b51b273ce22591@mail.gmail.com>
Message-ID: <7DE68CD6-6CE3-47FD-B24B-7EF3B50332EF@sil.org>

On 24 Mar 2007, at 5:10 pm, George N. White III wrote:

>
> Does fc-list find lmodern?

This is not necessary for the OP's example, as the default in  
fontspec.sty is to load the LM fonts from the texmf tree by filename  
(using kpathsearch), not by locating "installed" fonts via  
fontconfig. I think the problem was an older LM package that perhaps  
had different filenames or something like that.

>
> You can try "xetex --no-pdf <file>" followed by "dvipdfmx -vv
> <file>.xdv" and "strace dvipdfmx <file>.xdv" to see where the fonts
> are found.

(That would be "xdvipdfmx", not "dvipdfmx".)

>
> I tried the following experiment with "real" TL2007:
>
> A. original default configuration -- the lmodern fonts are found via
> the .map file.  pdffonts lists type 1 fonts.
>
> B.  fc configuration:
>
>   1) "updmap-sys --edit" to remove the lm entries
>
>   2) create symbolic links of the lmodern .otf fonts in ~/.fonts, then
> fc-cache and fc-list to verify that the fonts are found.

This would be needed for them to be found using something like

   \setromanfont{Latin Modern Roman}

but is not needed for

   \setromanfont{[lmroman10]}

which is the form fontspec's default configuration uses.

(Names might not be exactly correct here, but it's the principle of  
font name vs. filename that is at issue.)

JK


From f.rougon at free.fr  Sun Mar 25 10:29:22 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Sun, 25 Mar 2007 10:29:22 +0200
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <7DE68CD6-6CE3-47FD-B24B-7EF3B50332EF@sil.org> (Jonathan Kew's
	message of "Sat, 24 Mar 2007 17:38:27 +0000")
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<20070324.221138.74737123.kohda@pm.tokushima-u.ac.jp>
	<22af238a0703241010w2044a0bew80b51b273ce22591@mail.gmail.com>
	<7DE68CD6-6CE3-47FD-B24B-7EF3B50332EF@sil.org>
Message-ID: <87y7llenfh.fsf@florent.maison>

Hi,

Jonathan Kew <jonathan_kew at sil.org> wrote:

> I think the problem was an older LM package that perhaps had different
> filenames or something like that.

The reason is that current Debian packages for lmodern don't ship the
the fonts in OpenType format. This was done in order to save space and
after asking on debian-tex-maint. It seemed at that time (from the
non-responses I got) that the fonts in OTF format weren't useful on
Debian systems, so I didn't include them in the Debian package.

Since they have a clear use now, we'll include them in next versions of
the package (maybe creating a new otf-lmodern package).

In the meantime, Atsuhito, you can download:

  http://www.gust.org.pl/projects/e-foundry/latin-modern/download/lm1.010x-otf.zip

and put the .otf files in ~/texmf/fonts/opentype/public/lm.

Regards,

-- 
Florent

From kohda at pm.tokushima-u.ac.jp  Sun Mar 25 12:23:59 2007
From: kohda at pm.tokushima-u.ac.jp (Atsuhito Kohda)
Date: Sun, 25 Mar 2007 19:23:59 +0900 (JST)
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <87y7llenfh.fsf@florent.maison>
References: <22af238a0703241010w2044a0bew80b51b273ce22591@mail.gmail.com>
	<7DE68CD6-6CE3-47FD-B24B-7EF3B50332EF@sil.org>
	<87y7llenfh.fsf@florent.maison>
Message-ID: <20070325.192359.74744030.kohda@pm.tokushima-u.ac.jp>

On Sun, 25 Mar 2007 10:29:22 +0200, Florent Rougon wrote:

> The reason is that current Debian packages for lmodern don't ship the
> the fonts in OpenType format. This was done in order to save space and
> after asking on debian-tex-maint. It seemed at that time (from the
> non-responses I got) that the fonts in OTF format weren't useful on
> Debian systems, so I didn't include them in the Debian package.
> 
> Since they have a clear use now, we'll include them in next versions of
> the package (maybe creating a new otf-lmodern package).

I see.

> In the meantime, Atsuhito, you can download:
> 
>   http://www.gust.org.pl/projects/e-foundry/latin-modern/download/lm1.010x-otf.zip
> 
> and put the .otf files in ~/texmf/fonts/opentype/public/lm.

It works fine.  Thanks for your kind advise.

Regards,			2007-3-25(Sun)

-- 
 Debian Developer & Debian JP Developer - much more I18N of Debian
 Atsuhito Kohda <kohda AT debian.org>
 Department of Math., Univ. of Tokushima

From f.rougon at free.fr  Sun Mar 25 17:10:22 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Sun, 25 Mar 2007 17:10:22 +0200
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <20070325.192359.74744030.kohda@pm.tokushima-u.ac.jp> (Atsuhito
	Kohda's message of "Sun, 25 Mar 2007 19:23:59 +0900 (JST)")
References: <22af238a0703241010w2044a0bew80b51b273ce22591@mail.gmail.com>
	<7DE68CD6-6CE3-47FD-B24B-7EF3B50332EF@sil.org>
	<87y7llenfh.fsf@florent.maison>
	<20070325.192359.74744030.kohda@pm.tokushima-u.ac.jp>
Message-ID: <87bqihe4v5.fsf@florent.maison>

I'm currently uploading lmodern 1.010x-1 to experimental which contains
the OpenType fonts.

The packaging has had enough review, so don't be afraid of grabbing it
from experimental, unless you fear upstream bugs (we're only uploading
to experimental because etch is frozen; otherwise, this upload would
have gone straight to unstable).

-- 
Florent

From karl at freefriends.org  Sun Mar 25 23:27:52 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 25 Mar 2007 16:27:52 -0500
Subject: [tex-live] nag.sty location
In-Reply-To: <85hcsc2nnq.fsf@lola.goethe.zz>
Message-ID: <200703252127.l2PLRqP00707@f7.net>

        /usr/TeX/2007/texmf-dist/doc/latex/nag/nag.sty

    The latter does not seem like the best idea...

Thanks, I think I've fixed it.

From sanjoy at mrao.cam.ac.uk  Tue Mar 27 14:55:10 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Tue, 27 Mar 2007 13:55:10 +0100
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: Your message of "Thu, 22 Mar 2007 11:00:59 +0100."
	<20070322100059.GC6845@gamma.logic.tuwien.ac.at> 
Message-ID: <E1HWBCg-0005fi-00@skye.ra.phy.cam.ac.uk>

> We ask people using Debian to try these packages out, they survived
> all my tests and quite a lot of documents I tried out, but YMMV.

[What I describe below is not a Debian problem, but the proposed
change would make the packages easier for Ubuntu users to use.  

I added dev-context to the CC: list since the pkg deps affect Ubuntu
users -- e.g. me -- who use your excellent ConTeXt packages.]

I'm using Ubuntu 6.10 (edgy) with all your tug.org stanzas.  An
"apt-get install texlive-base-bin" or "apt-get install context" fails
when going from the TL2005 packages to the 2007 ones.  The blocking
package is texlive-base-bin:

# apt-get install texlive-base-bin
texlive-base-bin:
Depends: libpng12-0 (>= 1.2.13-4) but 1.2.8rel-5.1ubuntu0.1 is to be installed
Depends: libpoppler0c2 (>= 0.4.2) but it is not installable
E: Broken packages

I'll upgrade to the Ubuntu 7.04 beta, which will solve the libpng12-0
problem because Ubuntu 7.04 uses libpng 1.2.15.  But libpoppler0c2
would still be missing.  Here are the libpoppler pkgs in versions of
Ubuntu:

5.04 (hoary)  | libpoppler0-0.1.2
5.10 (breezy) | libpoppler0c2-0.4.2
6.04 (dapper) | libpoppler1-0.5.1
6.10 (edgy)   | libpoppler1-0.5.4
7.04 (feisty) | libpoppler1-0.5.4

So, could you add libpoppler1 as an alternative libpoppler dependency?
That should fix the installation.  libpoppler1 is also in Debian (in
experimental) so it should be a useful Debian change eventually.

Then I can update to texlive 2007 and to the latest ConTeXt via
apt-get.  If that works, I'll update the ConTeXt wiki's installation
instructions to say that Ubuntu users will have to upgrade to 7.04 to
use your latest packages.

Although, if it's possible to depend on an older libpng (on
libpng12-0-1.2.8), then more Ubuntu users could upgrade.

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From frank at debian.org  Thu Mar 29 11:09:39 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 29 Mar 2007 11:09:39 +0200
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <E1HWBCg-0005fi-00@skye.ra.phy.cam.ac.uk> (Sanjoy Mahajan's
	message of "Tue\, 27 Mar 2007 13\:55\:10 +0100")
References: <E1HWBCg-0005fi-00@skye.ra.phy.cam.ac.uk>
Message-ID: <87tzw4beln.fsf@riesling.zuerich.kuesterei.ch>

Sanjoy Mahajan <sanjoy at mrao.cam.ac.uk> wrote:

> I'll upgrade to the Ubuntu 7.04 beta, which will solve the libpng12-0
> problem because Ubuntu 7.04 uses libpng 1.2.15.  But libpoppler0c2
> would still be missing.  Here are the libpoppler pkgs in versions of
> Ubuntu:
>
> 5.04 (hoary)  | libpoppler0-0.1.2
> 5.10 (breezy) | libpoppler0c2-0.4.2
> 6.04 (dapper) | libpoppler1-0.5.1
> 6.10 (edgy)   | libpoppler1-0.5.4
> 7.04 (feisty) | libpoppler1-0.5.4
>
> So, could you add libpoppler1 as an alternative libpoppler dependency?
> That should fix the installation.  libpoppler1 is also in Debian (in
> experimental) so it should be a useful Debian change eventually.

No, we can't - these dependencies are autogenerated, and there's a
reason why libpoppler1 is not allowed.  Current TeXLive packages won't
even compile with libpoppler1, let alone run, and after changing the
patch to use libpoppler1, it won't compile with libpoppler0(c2).

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From sanjoy at mrao.cam.ac.uk  Thu Mar 29 16:56:27 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Thu, 29 Mar 2007 15:56:27 +0100
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: Your message of "Thu, 29 Mar 2007 11:09:39 +0200."
	<87tzw4beln.fsf@riesling.zuerich.kuesterei.ch> 
Message-ID: <E1HWw39-0004Qo-00@skye.ra.phy.cam.ac.uk>

> Current TeXLive packages won't even compile with libpoppler1, let
> alone run, and after changing the patch to use libpoppler1, it won't
> compile with libpoppler0(c2).

Right, as I found by trying to build it from source.  Do you have a
handy libpoppler1 patch?

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From frank at kuesterei.ch  Thu Mar 29 17:43:47 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 29 Mar 2007 17:43:47 +0200
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <E1HWw39-0004Qo-00@skye.ra.phy.cam.ac.uk> (Sanjoy Mahajan's
	message of "Thu\, 29 Mar 2007 15\:56\:27 +0100")
References: <E1HWw39-0004Qo-00@skye.ra.phy.cam.ac.uk>
Message-ID: <87irckxdfw.fsf@riesling.zuerich.kuesterei.ch>

Sanjoy Mahajan <sanjoy at mrao.cam.ac.uk> wrote:

>> Current TeXLive packages won't even compile with libpoppler1, let
>> alone run, and after changing the patch to use libpoppler1, it won't
>> compile with libpoppler0(c2).
>
> Right, as I found by trying to build it from source.  Do you have a
> handy libpoppler1 patch?

http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=356079

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Thu Mar 29 20:50:34 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 29 Mar 2007 15:50:34 -0300
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
Message-ID: <22af238a0703291150n487c9d16i590b0a8a1ca8e8c7@mail.gmail.com>

On 3/22/07, Norbert Preining <preining at logic.at> wrote:

> We ask people using Debian to try these packages out, they survived all
> my tests and quite a lot of documents I tried out, but YMMV.

On my system, xelatex doesn't get the tex/xelatex files:

$ which xelatex
/usr/bin/xelatex
$ kpsewhich -progname=xelatex url.sty
/usr/share/texmf-texlive/tex/latex/ltxmisc/url.sty
$ grep xelatex $(kpsewhich texmf.cnf)
TEXINPUTS.xelatex = .;$TEXMF/tex/{latex,generic,}//

but,

$ which xelatex kpsewhich
/usr/local/texlive/2007/bin/i386-linux/xelatex
/usr/local/texlive/2007/bin/i386-linux/kpsewhich
$ kpsewhich -progname=xelatex url.sty
/usr/local/texlive/2007/texmf-dist/tex/xelatex/xetexurl/url.sty
$ grep xelatex $(kpsewhich texmf.cnf)
TEXINPUTS.xelatex       = .;$TEXMF/tex/{xelatex,latex,generic,}//

Apparently the xelatex directory is missing from
/etc/texmf/texmf.d/45TeXinputs.cnf --
I assume the xetex installer should have done this.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From potiatpotisdotorg at yahoo.com  Fri Mar 30 01:35:52 2007
From: potiatpotisdotorg at yahoo.com (poti giannakouros)
Date: Thu, 29 Mar 2007 16:35:52 -0700 (PDT)
Subject: [tex-live]  Running Live - no access to C drive (emacs approach)
In-Reply-To: <20070315121531.GB5197@molly>
Message-ID: <928682.88223.qm@web55615.mail.re4.yahoo.com>

Siep Kroonenberg <siepo at cybercomm.nl> wrote:
Here is the script in-line:

' Prepare a Windows system for running TeX Live from dvd.
' This involves adding or changing some user environment variables
' and placing some files under %USERPROFILE%.

(snip)


' generate files

Set oFile = oFS.CreateTextFile( sTLmain & "\temp\tl_generate.bat" )
oFile.WriteLine( "@echo off" )
oFile.WriteLine( "path %path%;" & sTLrootSl & "bin\win32" )
oFile.WriteLine( "set TEXMFCNF=" & sTLmain & "\texmf-var\web2c" )
oFile.WriteLine( "set TEXMFTEMP=" & sTLmain & "\temp" )
oFile.WriteLine( "set TEXMFVAR=" & sTLmain & "\texmf-var" )
oFile.WriteLine( "set TEXMFLOCAL=" & sTLocal )
oFile.WriteLine( "set TLroot=" & sTLmain )
oFile.WriteLine( "mktexlsr" )
oFile.WriteLine( "updmap" )
oFile.WriteLine( "fmtutil --byfmt latex" )
'oFile.WriteLine( "fmtutil --all" )
oFile.WriteLine( "echo Done. Please re-login." )

This script requires a reboot. On some lab Macs I have used,
a reboot reset all user settings. I don't know if this is a likely
scenario in a Windows lab, and it does not apply to our NT lab
so this is an approach I can use for some things.



oFile.WriteLine( "pause" )
oFile.close
oWsh.run """" & sTLmain & "\temp\tl_generate.bat" & """", 1, true
'oFS.deletefile( sTLmain & "\temp\tl_generate.bat" )



Your extensive script was very helpful to me in thinking about my own 
 project and as a reference for things I may need to do in Windows in the future.
 I got some re-writable DVDs and will give it a try this weekend. 

I am including my emacs based solution, for those who might be interested in using 
it or in commenting on it. While it is not as comprehensive as  yours, it does not 
require a reboot and omits some steps that, as far as I understand, are not necessary 
in the case of my limited pre-configured dvd. 

I should do the tests for conflicting binaries, but I have not yet learned if I can send 
commands to Windows and get the results back to emacs for use in a script. 



I am still working on figuring out how to view output, but I have included my custom 
set variables in case someone can see an obvious problem. In windvi, I get a preview, 
but on an A4 background. After configuring for a letter default, dviout looks in non-existing
directories for fonts, so dviout does not work at all.

------------------------------------------site-start.el--------------------------------------------------------------------------------
;;Startup file for emacs on a DVD including TeX Live configured to run entirely from DVD 
;;through emacs for North America. 
(setq TL_DRIVE (substring (getenv "EMACSPATH") 0 2))
;;Some elements of PATH are redundant with exec-path. 
;;There may be a better way to do this. 
(setenv "PATH" (concat (getenv "PATH") 
               ";" TL_DRIVE "\\bin\\win32\\gs\\gs8.54\\bin;" TL_DRIVE "\\bin\\win32" ))
(setenv "GS_LIB" (concat TL_DRIVE "\\bin\\win32\\gs\\gs8.54\\lib" ))
(setenv "PERL5LIB" (concat TL_DRIVE "\\pertl\\lib;" TL_DRIVE "\\perltl\\site\\llib" ))
(setenv "TEXMFCNF" (concat TL_DRIVE "\\texmf-var\\web2c" ))
(setenv "TEXMFTEMP" (concat (getenv "USERPROFILE") "\\Temp" ))
(setenv "TEXMFVAR" (concat TL_DRIVE "\\texmf-var" ))
(setenv "TLroot" (concat TL_DRIVE "\\" ))
;;add to exec-path
(let* ((emacsbin (concat TL_DRIVE "/Emacs/bin"))
       (gsbin (concat TL_DRIVE "/bin/win32/gs/gs8.54/bin"))
       (tlbin (concat TL_DRIVE "/bin/win32"))
       (tlpath (list emacsbin gsbin tlbin))
  (setq exec-path (append exec-path tlpath)))
;;Enable features.
(setq reftex-plug-into-AUCTeX t)
(add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)
;;The following part does not quite work.
(custom-set-variables
  ;; custom-set-variables was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 '(TeX-output-view-style (quote (("^dvi$" ("^landscape$" "^pstricks$\\|^pst-\\|^psfrag$") "%(o?)dvips -t landscape %d -o && gv %f") ("^dvi$" "^pstricks$\\|^pst-\\|^psfrag$" "%(o?)dvips %d -o && gv %f") ("^dvi$" ("^a4\\(?:dutch\\|paper\\|wide\\)\\|sem-a4$" "^landscape$") "%(o?)windvi %dS -paper a4r -s 0 %d") ("^dvi$" "^a4\\(?:dutch\\|paper\\|wide\\)\\|sem-a4$" "%(o?)windvi %dS -paper a4 %d") ("^dvi$" ("^a5\\(?:comb\\|paper\\)$" "^landscape$") "%(o?)windvi %dS -paper a5r -s 0 %d") ("^dvi$" "^a5\\(?:comb\\|paper\\)$" "%(o?)windvi %dS -paper a5 %d") ("^dvi$" "^b5paper$" "%(o?)windvi %dS -paper b5 %d") ("^dvi$" "^letterpaper$" "%(o?)windvi %dS -paper us %d") ("^dvi$" "^legalpaper$" "%(o?)windvi %dS -paper legal %d") ("^dvi$" "^executivepaper$" "%(o?)windvi %dS -paper 7.25x10.5in %d") ("^dvi$" "." "%(o?)windvi %dS %d") ("^pdf$" "." "AcroRd32 %s") ("^html?$" "." "netscape %o"))))

 '(TeX-view-style (quote (("^a4\\(?:dutch\\|paper\\|wide\\)\\|sem-a4$" "%(o?)windvi.exe %dS -paper a4 %d") ("^a5\\(?:comb\\|paper\\)$" "%(o?)windvi.exe %dS -paper a5 %d") ("^b5paper$" "%(o?)windvi.exe %dS -paper b5 %d") ("^letterpaper$" "%(o?)windvi %dS -paper us %d") ("^legalpaper$" "%(o?)windvi %dS -paper legal %d") ("^executivepaper$" "%(o?)windvi %dS -paper 7.25x10.5in %d") ("^landscape$" "%(o?)windvi %dS -paper a4r -s 0 %d") ("." "%(o?)windvi %dS %d"))))
)
;;Loads AUCTeX related files.
;; Load files in `site-start.d' directory. 
(dolist (file (directory-files 
           (concat (file-name-directory load-file-name) "site-start.d") 
           t "\\.el\\'")) 
  (load file nil t t))
----------------------------------------end site-start.el----------------------------------------------------------------

 
---------------------------------
Expecting? Get great news right away with email Auto-Check.
Try the Yahoo! Mail Beta.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070329/1f9e2c52/attachment.html 

From idealbsd at gmail.com  Fri Mar 30 05:47:13 2007
From: idealbsd at gmail.com (Jeff Zhang)
Date: Fri, 30 Mar 2007 11:47:13 +0800
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <22af238a0703291150n487c9d16i590b0a8a1ca8e8c7@mail.gmail.com>
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<22af238a0703291150n487c9d16i590b0a8a1ca8e8c7@mail.gmail.com>
Message-ID: <1bf39a2f0703292047y7b14099fq6937e1f5eb287150@mail.gmail.com>

On 3/30/07, George N. White III <gnwiii at gmail.com> wrote:
>
> On 3/22/07, Norbert Preining <preining at logic.at> wrote:
>
> > We ask people using Debian to try these packages out, they survived all
> > my tests and quite a lot of documents I tried out, but YMMV.
>
> On my system, xelatex doesn't get the tex/xelatex files:
>
> $ which xelatex
> /usr/bin/xelatex
> $ kpsewhich -progname=xelatex url.sty
> /usr/share/texmf-texlive/tex/latex/ltxmisc/url.sty
> $ grep xelatex $(kpsewhich texmf.cnf)
> TEXINPUTS.xelatex = .;$TEXMF/tex/{latex,generic,}//
>
> but,
>
> $ which xelatex kpsewhich
> /usr/local/texlive/2007/bin/i386-linux/xelatex
> /usr/local/texlive/2007/bin/i386-linux/kpsewhich
> $ kpsewhich -progname=xelatex url.sty
> /usr/local/texlive/2007/texmf-dist/tex/xelatex/xetexurl/url.sty
> $ grep xelatex $(kpsewhich texmf.cnf)
> TEXINPUTS.xelatex       = .;$TEXMF/tex/{xelatex,latex,generic,}//



Under debian/sid with tl2007 from debian/experimental and some additional
packages from http://www.tug.org/texlive/Debian/tl2007/

% which xelatex kpsewhich
/usr/bin/xelatex
/usr/bin/kpsewhich
% kpsewhich -progname=xelatex url.sty
/usr/share/texmf-texlive/tex/latex/ltxmisc/url.sty
% grep xelatex $(kpsewhich texmf.cnf)
TEXINPUTS.xelatex = .;$TEXMF/tex/{latex,generic,}//


Apparently the xelatex directory is missing from
> /etc/texmf/texmf.d/45TeXinputs.cnf --
> I assume the xetex installer should have done this.



Maybe you should enable them first:

sudo fmtutil-sys --enablefmt xetex
sudo fmtutil-sys --enablefmt xelatex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070330/6d9ede0f/attachment.html 

From frank at debian.org  Fri Mar 30 08:35:32 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 30 Mar 2007 08:35:32 +0200
Subject: [tex-live] Debian TeX -- new packages
In-Reply-To: <1bf39a2f0703292047y7b14099fq6937e1f5eb287150@mail.gmail.com>
	(Jeff Zhang's message of "Fri\, 30 Mar 2007 11\:47\:13 +0800")
References: <20070322100059.GC6845@gamma.logic.tuwien.ac.at>
	<22af238a0703291150n487c9d16i590b0a8a1ca8e8c7@mail.gmail.com>
	<1bf39a2f0703292047y7b14099fq6937e1f5eb287150@mail.gmail.com>
Message-ID: <87zm5v9r2j.fsf@riesling.zuerich.kuesterei.ch>

"Jeff Zhang" <idealbsd at gmail.com> wrote:

> Maybe you should enable them first:
>
> sudo fmtutil-sys --enablefmt xetex
> sudo fmtutil-sys --enablefmt xelatex

Oh, I wasn't aware that fmtutil also has an --enable switch.

WARNING: Do not use that on Debian.  Read TeX-on-Debian.* instead.  We
will either disable it, or manage to make it work properly as we did
with updmap.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From sanjoy at mrao.cam.ac.uk  Fri Mar 30 16:21:35 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Fri, 30 Mar 2007 15:21:35 +0100
Subject: [tex-live] [dev-context]  Debian TeX -- new packages
In-Reply-To: Your message of "Tue, 27 Mar 2007 13:55:10 BST."
	<E1HWBCg-0005fi-00@skye.ra.phy.cam.ac.uk> 
Message-ID: <E1HXHyx-0000P2-00@skye.ra.phy.cam.ac.uk>

[Using Ubuntu 6.10/i386]

I couldn't apply (without rejected hunks) the Ubuntu poppler patch at
<http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=356079> to the
Debian texlive-2007-1 source.  So I just removed
debian/patches/30_libpoppler from the patch series, returning to using
the xpdf sources that ship with pdftex.  Then the texlive-2007 src pkg
compiled into the many .deb's and these binary pkgs installed fine.
They use libpng-1.2.8 and libc6-2.4.

I then could upgrade to your latest context pkg (2007.03.19) and test
it.  As its stress test, it processed my textbook fine.

The only glitches I've noticed so far:

* installing the pkgs removed dvipdfmx but I haven't figured out the
  reason.  It may be Ubuntu-specific.

* dvipos isn't included in any binary packages, although it gets built
  when creating them:

    $ pwd
    /var/tmp/tlrebuild/texlive-bin-2007
    $ find -name dvipos
    ./build/source/texk/dvipos
    ./build/source/inst/bin/i686-pc-linux-gnu/dvipos
    ./build/source/Work/texk/dvipos
    ./build/source/Work/texk/dvipos/dvipos
    ./bin/i386-linux/dvipos

  I couldn't figure out where the package-splitting information lives,
  in order that dpkg-buildpackage knows dvipos belongs to a particular
  binary package.  

  Maybe because there's no tpm file for it, and the tpm's are turned
  into magic Debian files, so dvipos gets left out?

Multiple binary pkgs from one source pkg is one the the deeper
mysteries of Debian packaging, well understood by maintainers of
complex packages (like texlive or tetex) but not documented elsewhere.
But I'm happy to learn how that works!

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From pragma at wxs.nl  Fri Mar 30 16:52:09 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 30 Mar 2007 16:52:09 +0200
Subject: [tex-live] buf-size
Message-ID: <460D2419.4030504@wxs.nl>

Hi,

It seems that the buffer size of pdftex is maximized to 300K while in 
practice much larger files show up (at least here); for instance xml 
files can be 1 meg one-liners.

Is it possible to set the max to (say) 10.000.000? (tex.web)

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From dak at gnu.org  Fri Mar 30 17:21:34 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 30 Mar 2007 17:21:34 +0200
Subject: [tex-live] buf-size
In-Reply-To: <460D2419.4030504@wxs.nl> (Hans Hagen's message of "Fri\,
	30 Mar 2007 16\:52\:09 +0200")
References: <460D2419.4030504@wxs.nl>
Message-ID: <86648ieozl.fsf@lola.quinscape.zz>

Hans Hagen <pragma at wxs.nl> writes:

> It seems that the buffer size of pdftex is maximized to 300K while in
> practice much larger files show up (at least here); for instance xml
> files can be 1 meg one-liners.
>
> Is it possible to set the max to (say) 10.000.000? (tex.web)

I think that is crazy.  It would make much more sense not to require
the input buffer to actually contain beginning and end of line at the
same time, but rather take it as a buffer into the input line.  It may
require some web2c support to do this since Pascal is pretty much
line-based IIRC, but setting aside 10MB for the input line buffer is
just absurd.  Actually, setting aside 300k is ridiculous already.

We should reduce this to something like 4k or so and change the code
to cater with incomplete lines, or this madness will go on with ever
bigger sizes and discussions.

Perhaps one should bring up this issue on the TeX-implementors list?

-- 
David Kastrup

From taco at elvenkind.com  Fri Mar 30 17:47:37 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 30 Mar 2007 17:47:37 +0200
Subject: [tex-live] buf-size
In-Reply-To: <86648ieozl.fsf@lola.quinscape.zz>
References: <460D2419.4030504@wxs.nl> <86648ieozl.fsf@lola.quinscape.zz>
Message-ID: <460D3119.6030105@elvenkind.com>



David Kastrup wrote:

> line-based IIRC, but setting aside 10MB for the input line buffer is
> just absurd.  Actually, setting aside 300k is ridiculous already.

Who talks about setting aside? Hans' proposal is about alleviating
an artificial limit to the (supposedly dynamic) texmf.cnf setting
for input_buffer. That limit really serves no purpose that I know of.

Why should it matter how large Hans (or anyone else) wants the
buffer to be, if the limit is artificial anyway?

> We should reduce this to something like 4k or so and change the code
> to cater with incomplete lines, or this madness will go on with ever
> bigger sizes and discussions.

I agree, but I have no time to write such code. Changing a constant
value is much faster. If you write a change file, I expect it will
be incorporated asap.

Best wishes,

Taco


From dak at gnu.org  Fri Mar 30 18:00:19 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 30 Mar 2007 18:00:19 +0200
Subject: [tex-live] buf-size
In-Reply-To: <460D3119.6030105@elvenkind.com> (Taco Hoekwater's message of
	"Fri\, 30 Mar 2007 17\:47\:37 +0200")
References: <460D2419.4030504@wxs.nl> <86648ieozl.fsf@lola.quinscape.zz>
	<460D3119.6030105@elvenkind.com>
Message-ID: <86r6r6d8mk.fsf@lola.quinscape.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> David Kastrup wrote:
>
>> line-based IIRC, but setting aside 10MB for the input line buffer is
>> just absurd.  Actually, setting aside 300k is ridiculous already.
>
> Who talks about setting aside? Hans' proposal is about alleviating
> an artificial limit to the (supposedly dynamic) texmf.cnf setting
> for input_buffer. That limit really serves no purpose that I know of.
>
> Why should it matter how large Hans (or anyone else) wants the
> buffer to be, if the limit is artificial anyway?
>
>> We should reduce this to something like 4k or so and change the code
>> to cater with incomplete lines, or this madness will go on with ever
>> bigger sizes and discussions.
>
> I agree, but I have no time to write such code. Changing a constant
> value is much faster. If you write a change file, I expect it will
> be incorporated asap.

Change file, or would be a patch to luatex.web (respective to the
latest SVN version) be ok?  In other words: if I do the code, will
someone else volunteer for turning this into some change file form or
other that would make it propagate elsewhere (stable PDFTeX? I suppose
it would be somewhat pointless to get it incorporated into eTeX, since
eTeX does no longer seem to make it into binaries on its own, but
exists mostly just as a changeset).

Or even submit it to Don, since he is supposed to deal with the next
batch of bug reports at the end of this year?  Hey, I can dream.

-- 
David Kastrup

From pragma at wxs.nl  Fri Mar 30 18:03:54 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 30 Mar 2007 18:03:54 +0200
Subject: [tex-live] buf-size
In-Reply-To: <86r6r6d8mk.fsf@lola.quinscape.zz>
References: <460D2419.4030504@wxs.nl> <86648ieozl.fsf@lola.quinscape.zz>
	<460D3119.6030105@elvenkind.com> <86r6r6d8mk.fsf@lola.quinscape.zz>
Message-ID: <460D34EA.5030006@wxs.nl>

David Kastrup wrote:
>
> Change file, or would be a patch to luatex.web (respective to the
> latest SVN version) be ok?  In other words: if I do the code, will
>   
change file for pdftex .. since that's now one source; from there it 
will find its way into luatex (as all other patches to pdftex do)

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri Mar 30 18:07:36 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 30 Mar 2007 18:07:36 +0200
Subject: [tex-live] buf-size
In-Reply-To: <86r6r6d8mk.fsf@lola.quinscape.zz>
References: <460D2419.4030504@wxs.nl>
	<86648ieozl.fsf@lola.quinscape.zz>	<460D3119.6030105@elvenkind.com>
	<86r6r6d8mk.fsf@lola.quinscape.zz>
Message-ID: <460D35C8.3030508@elvenkind.com>



David Kastrup wrote:
> 
> Change file, or would be a patch to luatex.web (respective to the
> latest SVN version) be ok?  In other words: if I do the code, will
> someone else volunteer for turning this into some change file form or
> other that would make it propagate elsewhere (stable PDFTeX? I suppose
> it would be somewhat pointless to get it incorporated into eTeX, since
> eTeX does no longer seem to make it into binaries on its own, but
> exists mostly just as a changeset).

Personally, I believe it is better to base yourself on pdftex. I have
a system set up where migrating stuff from pdftex to luatex is easy
for me. When it works, I will port to luatex, no problem. Be warned
though, the input buffer is not used *only* for file reading.

Good luck,

Taco

From wl at gnu.org  Fri Mar 30 17:07:32 2007
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 30 Mar 2007 17:07:32 +0200 (CEST)
Subject: [tex-live] [Cjk] Chinese TrueType, dvipdfm_dl14.map, dvipdfmx
In-Reply-To: <2F6E3572-5BFB-441A-8BD3-B805C2E69066@saturn.yzu.edu.tw>
References: <2F6E3572-5BFB-441A-8BD3-B805C2E69066@saturn.yzu.edu.tw>
Message-ID: <20070330.170732.104030601.wl@gnu.org>


> The brief discription of the problem is that the TrueType Chinese
> font entry in dvipdfm_dl14.map makes dvipdfmx unhappy.  [...]

I think this is the wrong route.  Please read the stuff in

  doc/latex/CJK/doc/pdfhowto

how to add fonts for dvipdfmx properly.  Basically, it means to add
stuff to the cid-x.map file.

> I think the best solution is to have updmap-sys to generate a
> correct dvipdfm_dl14.map regarding the Chinese truetype font.  What
> should I do?

I've CCed this message to texlive at tug.org.  It looks like a bug in
updmap-sys.  For reference, I've appended the whole mail below.


    Werner


======================================================================


I have MacTeX-2007 installed on my Mac.  LaTeX CJK can process  
traditional Chinese  immediately after MacTeX installation due to the  
included Type1 bsmi font.  That is very convenient.

I add an additional TrueType traditional Chinese font bkai00mp.ttf to  
the system, making those necessary font files (*.tfm, *.enc) and  
place them into
/usr/local/texlive/texmf-local/fonts
tfm/
enc/
subdirectories

The content of bkaiu.map looks like the following:
----------------- >>>
bkaiu00 <bkai00mp.ttf <bkaiu00.enc
.......
 >>>-----------------

It is placed in
/usr/local/texlive/texmf-local/fonts/map/pdftex/

It is enabled by
sudo updmap-sys --enable Map bkaiu.map

Using LaTeX CJK with pdflatex
\begin{CJK}{UTF8}{bkai} ....

shows no problem at all.

However, updmap-sys also "propapages" bkaiu.map into dvipdfm_dl14.map  
and results in a map file with inconsistent syntax:
----------------- >>>
.....
bkaiu00 bkaiu00 <bkai00mp.ttf
.....
lprr8v t5uni PalatinoLinotype-Roman
.....
 >>>---------------

The entries of bkaiu cause dvipdfmx to show the warning message:
---------------- >>>
** WARNING ** This .map file looks like a dvips format fontmap file.
** WARNING ** -- Current input buffer is: bkaiu00 bkaiu00 <bkai00mp.ttf
** WARNING ** -- Reading fontmap file stopped at: file="dvipdfm.map",  
line=258.
** WARNING ** Deleting fontmap record for "ASCII"
[.....  .....]
** WARNING ** Deleting fontmap record for "bicigvm"
 >>> ---------------

Interestingly, the warning message does not prevent dvipdfmx from  
generating a good pdf with bkai and cm fonts in it.  However,  
dvipdfmx will insist to use PK version for the roman alphabets if  
times.sty is used, because the corresponding fontmap record is  
deleted.  Of course, dvipdfmx is capable of using Type1 with  
times.sty package, if bkaiu.map is disabled via updmap-sys.

For comparison, the content of pdftex_dl14.map regarding bai looks like:
----------------- >>>
.....
bkaiu00 <bkai00mp.ttf <bkaiu00.enc
.....
lprr8v PalatinoLinotype-Roman "T5UniEncoding ReEncodeFont" <t5uni.enc  
<pala.ttf
.....
 >>>---------------

I find that the entry for lprr8v (for pala.ttf) in dvipdfm_dl14.map  
does not contain the "<fontname.ttf"  So, I manually delete those  
"<bkai00mp.ttf" in dvipdfm_dl14.map in
/usr/local/texlive/2007/texmf-var/fonts/map/dvipdfm/updmap/

This remedies the problem.  dvipdfmx does not have any warning  
message on this issue and can generate a good pdf with bkai and  
"Times" font in it.

However, the work-around will be overwritten next time when I run  
updmap-sys.

I think the best solution is to have updmap-sys to generate a correct  
dvipdfm_dl14.map regarding the Chinese truetype font.   What should I  
do?

From p.j.heslin at durham.ac.uk  Fri Mar 30 16:06:42 2007
From: p.j.heslin at durham.ac.uk (Peter Heslin)
Date: Fri, 30 Mar 2007 15:06:42 +0100
Subject: [tex-live] Bug report: tex4ht and xtpipes
Message-ID: <20070330140641.GO32390@dur.ac.uk>

I just installed texlive 2007 from a DVD (full install) on an Ubuntu
Edgy amd64 machine.  I chose to install in /opt/texlive and to create
symlinks to the binaries in /usr/local/bin, etc.

Everything works extremely well, and I'm glad to have made the switch
from tetex. (Great job, everyone -- it's especially nice to have XeTeX
included!)  But I did run into one small problem.

When running "mk4ht oolatex" on a file, I got a stream of java errors.
I tracked it down to a setting in
/opt/texlive/2007/texmf-dist/tex4ht/base/unix/tex4ht.env

This section refers to files that don't exist on my system:

<ooxtpipes>
.4oo mv %%0.4oo %%0.tmp
.4oo java -classpath /usr/share/texmf/tex4ht/bin xtpipes -i /usr/share/texmf/tex4ht/xttl/ -o %%0.4oo %%0.tmp
.4om mv %%1.4om %%1.tmp
.4om java -classpath /usr/share/texmf/tex4ht/bin xtpipes -i /usr/share/texmf/tex4ht/xttl/ -o %%1.4om %%1.tmp
</ooxtpipes>

I changed these lines to refer to the files in the texlive tree as follows:

<ooxtpipes>
.4oo mv %%0.4oo %%0.tmp
.4oo java -classpath /opt/texlive/2007/texmf-dist/tex4ht/bin xtpipes -i /opt/texlive/2007/texmf-dist/tex4ht/xttl/ -o %%0.4oo 
%%0.tmp
.4om mv %%1.4om %%1.tmp
.4om java -classpath /opt/texlive/2007/texmf-dist/tex4ht/bin xtpipes -i /opt/texlive/2007/texmf-dist/tex4ht/xttl/ -o %%1.4om 
%%1.tmp
</ooxtpipes>

Now everything works perfectly.

Shouldn't the texlive tex4ht.env file refer to the files in the
texlive tree?

PS.  I've had problems with xtpipes before.  At some point I think the
Debian tetex maintainers removed it because it allegedly did not work
with whatever free Java runtime Debian ships with.  This broke tex4ht
for my purposes, and that is one of the reasons I decided to switch to
texlive.  I have installed the Sun runtime, and this works fine.

Thanks for all of your work on texlive!

Best wishes,

Peter

-- 
Peter Heslin (http://www.dur.ac.uk/p.j.heslin)

From dak at gnu.org  Fri Mar 30 20:14:52 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 30 Mar 2007 20:14:52 +0200
Subject: [tex-live] buf-size
In-Reply-To: <460D35C8.3030508@elvenkind.com> (Taco Hoekwater's message of
	"Fri\, 30 Mar 2007 18\:07\:36 +0200")
References: <460D2419.4030504@wxs.nl> <86648ieozl.fsf@lola.quinscape.zz>
	<460D3119.6030105@elvenkind.com> <86r6r6d8mk.fsf@lola.quinscape.zz>
	<460D35C8.3030508@elvenkind.com>
Message-ID: <85odmar42r.fsf@lola.goethe.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> David Kastrup wrote:
>>
>> Change file, or would be a patch to luatex.web (respective to the
>> latest SVN version) be ok?  In other words: if I do the code, will
>> someone else volunteer for turning this into some change file form
>> or other that would make it propagate elsewhere (stable PDFTeX? I
>> suppose it would be somewhat pointless to get it incorporated into
>> eTeX, since eTeX does no longer seem to make it into binaries on
>> its own, but exists mostly just as a changeset).
>
> Personally, I believe it is better to base yourself on pdftex.

Sigh.  Yet another source to check out.

> I have a system set up where migrating stuff from pdftex to luatex
> is easy for me. When it works, I will port to luatex, no problem. Be
> warned though, the input buffer is not used *only* for file reading.

Yes, thanks.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From karl at freefriends.org  Fri Mar 30 23:07:37 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 30 Mar 2007 16:07:37 -0500
Subject: [tex-live] Bug report: tex4ht and xtpipes
In-Reply-To: <20070330140641.GO32390@dur.ac.uk>
Message-ID: <200703302107.l2UL7bj05210@f7.net>

Hi Peter,

    Shouldn't the texlive tex4ht.env file refer to the files in the
    texlive tree?

Yes, although the best way to handle this is not clear to me.  I will
ask Eitan (tex4ht author) for advice.  Thanks much for reporting it.

Best regards,
Karl

From karl at freefriends.org  Fri Mar 30 23:18:35 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 30 Mar 2007 16:18:35 -0500
Subject: [tex-live] [Cjk] Chinese TrueType, dvipdfm_dl14.map, dvipdfmx
In-Reply-To: <20070330.170732.104030601.wl@gnu.org>
Message-ID: <200703302118.l2ULIZM07994@f7.net>

    So, I manually delete those  
    "<bkai00mp.ttf" in dvipdfm_dl14.map 

I don't understand.  If you delete <fontname.ttf, then how can dvipdfmx
know what font to include?

The lprr8v line in dvipdfm_dl14.map on my system does have <pala.ttf.

    I think the best solution is to have updmap-sys to generate a correct  
    dvipdfm_dl14.map regarding the Chinese truetype font.

Certainly true.  Can you send me the actual map file which works, and
the actual map file which doesn't work?  Otherwise it's difficult to say
what change is needed.  Of course, a patch to updmap would be even
better :).

Thanks,
Karl

P.S. I also don't exactly understand why the lprr entries are in the map
files at all, but that's another matter.

P.P.S. I really wish all the programs could get together on one map file
syntax, but that's another matter too.

From siepo at cybercomm.nl  Fri Mar 30 23:49:58 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 30 Mar 2007 23:49:58 +0200
Subject: [tex-live] Running Live - no access to C drive (emacs approach)
In-Reply-To: <928682.88223.qm@web55615.mail.re4.yahoo.com>
References: <20070315121531.GB5197@molly>
	<928682.88223.qm@web55615.mail.re4.yahoo.com>
Message-ID: <20070330214958.GA6703@molly>

On Thu, Mar 29, 2007 at 04:35:52PM -0700, poti giannakouros wrote:
> Siep Kroonenberg <siepo at cybercomm.nl> wrote:
> Here is the script in-line:
> 
> ' Prepare a Windows system for running TeX Live from dvd.
> ' This involves adding or changing some user environment variables
> ' and placing some files under %USERPROFILE%.
> 
> (snip)
> 
> 
> ' generate files
> 
> Set oFile = oFS.CreateTextFile( sTLmain & "\temp\tl_generate.bat" )
> oFile.WriteLine( "@echo off" )
> oFile.WriteLine( "path %path%;" & sTLrootSl & "bin\win32" )
> oFile.WriteLine( "set TEXMFCNF=" & sTLmain & "\texmf-var\web2c" )
> oFile.WriteLine( "set TEXMFTEMP=" & sTLmain & "\temp" )
> oFile.WriteLine( "set TEXMFVAR=" & sTLmain & "\texmf-var" )
> oFile.WriteLine( "set TEXMFLOCAL=" & sTLocal )
> oFile.WriteLine( "set TLroot=" & sTLmain )
> oFile.WriteLine( "mktexlsr" )
> oFile.WriteLine( "updmap" )
> oFile.WriteLine( "fmtutil --byfmt latex" )
> 'oFile.WriteLine( "fmtutil --all" )
> oFile.WriteLine( "echo Done. Please re-login." )
> 
> This script requires a reboot. On some lab Macs I have used,
> a reboot reset all user settings. I don't know if this is a likely
> scenario in a Windows lab, and it does not apply to our NT lab
> so this is an approach I can use for some things.

The lines above merely create a temporary environment for generating
formats and mapfiles. The real configuration takes place earlier, by
writing to the registry. I tested things under Windows XP and
Windows 2000, and in those tests a re-login was sufficient.

I am working on a web page about portable TeX Live and MikTeX, with
revised scripts and howtos. It might be useful to include a
zero-config solution where you start up a command prompt or an
editor with the right environment settings, somewhat in the spirit
of your Emacs solution. I would have to test how much functionality
could be made available this way.

I had something in mind that I can give to people for use at
arbitrary locations, so that is why I prefer to put in some tests.
Adding Ghostscript and an editor is the right idea. But for an
editor I would pick something like TeXnicCenter, which has a wider
appeal. And personally I wouldn't worry too much about dvi viewing
if Ghostscript is available for converting to pdf.

-- 
Siep Kroonenberg

From karl at freefriends.org  Sat Mar 31 00:01:06 2007
From: karl at freefriends.org (Karl Berry)
Date: Fri, 30 Mar 2007 17:01:06 -0500
Subject: [tex-live] buf-size
In-Reply-To: <460D2419.4030504@wxs.nl>
Message-ID: <200703302201.l2UM16O19751@f7.net>

    Is it possible to set the max to (say) 10.000.000? (tex.web)

Actually the sup_ and inf_ stuff is part of tex.ch rather than
tex.web (or the new pdftex.web), as far as I can tell.

For regular old tex, ie, TL's Build/source/texk/web2c/tex.ch, I tacked
on a couple of zeros to sup_buf_size:
@!sup_buf_size = 30000000;

Martin, can you make the analogous change for pdftex please?
(Assuming you have no objection.)

Jonathan, if buf_size is still relevant in xetex-land, you may as well
do it too?

Last year I recall that we discussed increasing all those sup_* values
to their maximum allowed (no reason not to), but no one (including me,
sigh) ever actually did it.  Would anyone like to prepare a patch for
that?

Thanks,
Karl

From kakuto at fsci.fuk.kindai.ac.jp  Sat Mar 31 02:25:10 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 31 Mar 2007 09:25:10 +0900
Subject: [tex-live] [NTG-pdftex]  buf-size
In-Reply-To: Your message of "Fri, 30 Mar 2007 17:01:06 -0500"
References: <200703302201.l2UM16O19751@f7.net>
Message-ID: <200703310025.l2V0PBph006796@jupiter.fsci.fuk.kindai.ac.jp>

Hi Karl,

> For regular old tex, ie, TL's Build/source/texk/web2c/tex.ch, I tacked
> on a couple of zeros to sup_buf_size:
> @!sup_buf_size = 30000000;
> 
> Martin, can you make the analogous change for pdftex please?
> (Assuming you have no objection.)
> 
> Jonathan, if buf_size is still relevant in xetex-land, you may as well
> do it too?

Your change may automatically be reflected to pdftex and xetex.
luatex has its own large value:
@!sup_buf_size = 100000000;

But you have to change com16bit-rc2.ch for aleph and
com16bit.ch for omega.

Best regards,
Akira

From reinhard.kotucha at web.de  Sat Mar 31 02:40:42 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 31 Mar 2007 02:40:42 +0200
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <20070315121531.GB5197@molly>
References: <17899.28176.510160.967292@zarniwoop.ms25.local>
	<400557.20587.qm@web55601.mail.re4.yahoo.com>
	<20070315120519.GA5197@molly> <20070315121531.GB5197@molly>
Message-ID: <17933.44554.26470.226822@zarniwoop.ms25.local>

>>>>> "Siep" == Siep Kroonenberg <siepo at cybercomm.nl> writes:

  > On Thu, Mar 15, 2007 at 01:05:19PM +0100, Siep Kroonenberg wrote:

  > Here is the script in-line:

  > ' Prepare a Windows system for running TeX Live from dvd.  '
  > [...]

Hi Siep, 
I think that your script is very useful, though I looked into it
quite briefly, and I'm not familiar with VBS anyway.

Do you indend to put the script into TL-2008?  If yes, it should
contain a copyright note.

The version number of ghostscript appears in the program.  Maybe
it's better to define a variable "gs_version" at the top of the file.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From reinhard.kotucha at web.de  Sat Mar 31 03:52:09 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 31 Mar 2007 03:52:09 +0200
Subject: [tex-live] buf-size
In-Reply-To: <200703302201.l2UM16O19751@f7.net>
References: <460D2419.4030504@wxs.nl>
	<200703302201.l2UM16O19751@f7.net>
Message-ID: <17933.48841.653638.738117@zarniwoop.ms25.local>

>>>>> "Karl" == Karl Berry <karl at freefriends.org> writes:

  > Last year I recall that we discussed increasing all those sup_*
  > values to their maximum allowed (no reason not to), but no one
  > (including me, sigh) ever actually did it.  Would anyone like to
  > prepare a patch for that?

I fear that I'm the culprit.  Someone asked for increasing the size of
a certain buffer.  I proposed to increase this buffer to the maximum
allowed value instead of just to double it.  The idea was that if the
buffer is as large as possible there will be no reason to touch the
code later again.

I did not say that all buffers should be increased immediately.  What
I proposed is that when someone asks for increasing a buffer it should
be increased to the maximum allowed value instead of by a small amount.
The sole reason is to prevent developers to be bothered by such
requests again and again.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From siepo at cybercomm.nl  Sat Mar 31 09:59:32 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sat, 31 Mar 2007 09:59:32 +0200
Subject: [tex-live] Running Live - no access to C drive
In-Reply-To: <17933.44554.26470.226822@zarniwoop.ms25.local>
References: <17899.28176.510160.967292@zarniwoop.ms25.local>
	<400557.20587.qm@web55601.mail.re4.yahoo.com>
	<20070315120519.GA5197@molly> <20070315121531.GB5197@molly>
	<17933.44554.26470.226822@zarniwoop.ms25.local>
Message-ID: <20070331075931.GA5709@molly>

On Sat, Mar 31, 2007 at 02:40:42AM +0200, Reinhard Kotucha wrote:
> >>>>> "Siep" == Siep Kroonenberg <siepo at cybercomm.nl> writes:
> 
>   > On Thu, Mar 15, 2007 at 01:05:19PM +0100, Siep Kroonenberg wrote:
> 
>   > Here is the script in-line:
> 
>   > ' Prepare a Windows system for running TeX Live from dvd.  '
>   > [...]
> 
> Hi Siep, 
> I think that your script is very useful, though I looked into it
> quite briefly, and I'm not familiar with VBS anyway.
> 
> Do you indend to put the script into TL-2008?  If yes, it should
> contain a copyright note.

Wouldn't it be better to make the Windows version of tlpmgui
suitable for portable use? All it would take is using %USERPROFILE%
instead of the root of the c:-drive, better Ghostscript-detection
and a different policy for handling pre-installed Ghostscript, Perl
and TeX.

> The version number of ghostscript appears in the program.  Maybe
> it's better to define a variable "gs_version" at the top of the file.

This is the Emacs startup code from Poti. The vbscript tries to find
traces of Ghostscript in the registry and gets the version number
from there. Of course, you could use vbscript or another language to
write / edit an emacs startup file.

-- 
Siep Kroonenberg

From martin at oneiros.de  Sat Mar 31 13:04:51 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 31 Mar 2007 13:04:51 +0200
Subject: [tex-live] buf-size
In-Reply-To: <200703302201.l2UM16O19751@f7.net>
References: <460D2419.4030504@wxs.nl> <200703302201.l2UM16O19751@f7.net>
Message-ID: <68c491a60703310404x73eef9a7t57a96a26be15836@mail.gmail.com>

2007/3/31, Karl Berry <karl at freefriends.org>:
> For regular old tex, ie, TL's Build/source/texk/web2c/tex.ch, I tacked
> on a couple of zeros to sup_buf_size:
> @!sup_buf_size = 30000000;
>
> Martin, can you make the analogous change for pdftex please?
> (Assuming you have no objection.)

We still use _that_ file (for web2c), so we get the change automatically. :-)

Best
   Martin

