From reinhard.kotucha at web.de  Tue May  1 02:23:18 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 1 May 2007 02:23:18 +0200
Subject: [tex-live] Different versions of epstopdf?
In-Reply-To: <81F0F8D2-BAE1-46AA-BB25-B43D1BBCEE9D@rna.nl>
References: <99E9A9F3-0236-425F-9E9A-9DC0BFCDAADC@Web.DE>
	<81F0F8D2-BAE1-46AA-BB25-B43D1BBCEE9D@rna.nl>
Message-ID: <17974.34934.260625.93423@zarniwoop.ms25.local>

>>>>> "Gerben" == Gerben Wierda <Gerben.Wierda at rna.nl> writes:

  > Begin forwarded message:
  >>> What is going on? I think that I am using this:
  >>> /usr/local/texlive/ 2007/bin/powerpc-darwin/epstopdf Isn't that
  >>> the one that is described at
  >>> http://www.ctan.org/tex-archive/support/epstopdf/ ?

  > Should the perl version of epstopdf in TL be retired in favour of
  > the c-coded version? What speaks against it is that it requires a
  > Ghostscript which is not part of TL. If a gs-independent epstopdf
  > has a role apart from a gs-dependent one, it is unfortunate that
  > the c- coded version has the same name.

I sent two bug reports to Heiko some years ago and he fixed the bugs
in the Perl version.  The author of the C version did not reply to the
bug reports I sent to him  and the files on CTAN are still from 2001.

Gerben, the version we currently have in TL is yours.  This is up to
date and I do not see any good reason to replace it by anything else
at the moment.  

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From staw at gust.org.pl  Tue May  1 02:41:50 2007
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue, 1 May 2007 02:41:50 +0200 (CEST)
Subject: [tex-live] multi architecture installation missing dviout
In-Reply-To: <200704272324.l3RNOON22960@f7.net>
Message-ID: <Pine.LNX.4.44.0705010228060.883-100000@fam82.internetdsl.tpnet.pl>

On Fri, 27 Apr 2007, Karl Berry wrote:

> Indeed, dviout doesn't exist in bin/win32.  I was never exactly clear
> about this.  I expect Staszek can inform us.

Yes, dviout is an external program to TL.
 
> > Do I need to do something special to get 'dviout' 
> 
> My understanding is that you need to install it manually from
> support/tex318w.zip (or CTAN).  

Right. The installation is done by the tlpmgui installer only on Windows
and during that also some preconfiguration is done to make dviout working 
with TL.

> (Why a program named "dviout" is in a
> zip file named "tex", I also do not know.)

Me too :-)

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From daleif at imf.au.dk  Tue May  1 09:14:41 2007
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue, 1 May 2007 09:14:41 +0200 (CEST)
Subject: [tex-live] multi architecture installation missing dviout
In-Reply-To: <Pine.LNX.4.44.0705010228060.883-100000@fam82.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0705010228060.883-100000@fam82.internetdsl.tpnet.pl>
Message-ID: <Pine.LNX.4.64.0705010910540.32574@gloin.imf.au.dk>

Staszek Wawrykiewicz :

> On Fri, 27 Apr 2007, Karl Berry wrote:
>
>> Indeed, dviout doesn't exist in bin/win32.  I was never exactly clear
>> about this.  I expect Staszek can inform us.
>
> Yes, dviout is an external program to TL.
>
>>> Do I need to do something special to get 'dviout'
>>
>> My understanding is that you need to install it manually from
>> support/tex318w.zip (or CTAN).
>
> Right. The installation is done by the tlpmgui installer only on Windows
> and during that also some preconfiguration is done to make dviout working
> with TL.
>

so what would one have to do, to make it workable in a multi architecture 
environment. Is it possible to install it without having to install a lot 
of stuff at the end user, i.e. possible to install it such that the only 
thing the user has to do is to mount TL via Samba.

Everything else seemed to work fine, I was just missing a DVI-previewer.

But, then again, it is not that important. I don't think our LaTeX 
installation will be used that much, mounted via Samba. I was just 
woundering.

/daleif

From Robin.Fairbairns at cl.cam.ac.uk  Tue May  1 10:11:51 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 01 May 2007 09:11:51 +0100
Subject: [tex-live] Different versions of epstopdf?
In-Reply-To: Your message of Tue, 01 May 2007 02:23:18 +0200.
	<17974.34934.260625.93423@zarniwoop.ms25.local> 
Message-ID: <18492.1178007111@mole.cl.cam.ac.uk>

Reinhard Kotucha <reinhard.kotucha at web.de> wrote:

> >>>>> "Gerben" == Gerben Wierda <Gerben.Wierda at rna.nl> writes:
> 
>   > Begin forwarded message:
>   >>> What is going on? I think that I am using this:
>   >>> /usr/local/texlive/ 2007/bin/powerpc-darwin/epstopdf Isn't that
>   >>> the one that is described at
>   >>> http://www.ctan.org/tex-archive/support/epstopdf/ ?
> 
>   > Should the perl version of epstopdf in TL be retired in favour of
>   > the c-coded version? What speaks against it is that it requires a
>   > Ghostscript which is not part of TL. If a gs-independent epstopdf
>   > has a role apart from a gs-dependent one, it is unfortunate that
>   > the c- coded version has the same name.
> 
> I sent two bug reports to Heiko some years ago and he fixed the bugs
> in the Perl version.  The author of the C version did not reply to the
> bug reports I sent to him  and the files on CTAN are still from 2001.
> 
> Gerben, the version we currently have in TL is yours.  This is up to
> date and I do not see any good reason to replace it by anything else
> at the moment.  

so, we have the current epstopdf (perl) together with a wildly
out-of-date epstopdf (c) in the same directory on ctan.

is there any reason that we shouldn't move the obsolete one to the ctan
obsolete tree?  i'll do that tomorrow morning unless i hear any
complaint.

it would be nice to have an up-to-date c version on ctan, if such a
thing exists, but if it's too delicate to exist on the archive, i guess
we'll have to live without it.

Robin Fairbairns

For the CTAN team

From gnwiii at gmail.com  Tue May  1 14:16:40 2007
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 1 May 2007 09:16:40 -0300
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <200704302311.41473.nat@switch.demon.nl>
References: <200704302311.41473.nat@switch.demon.nl>
Message-ID: <22af238a0705010516t79d1550aobd3c75cd10c4ac73@mail.gmail.com>

On 4/30/07, Natalie <nat at switch.demon.nl> wrote:

> Hello,
>
> This afternoon I downloaded the TeX Live iso image and burned it on
> CD. The md5 sum was verified, the copied data was verified too.
>
> I mounted the CD and did:
>   # ./install-tl.sh
>
> This is the output:
>   bash: ./install-tl.sh: /bin/sh: bad interpreter: Permission denied

Some systems mount CD's with noexec permissions.  I think this is mentioned
in the TL documentation.  If you are on linux, it is often easier to
mount the .iso
image directly (using the loop device) without actually creating a
physical CD-ROM.

> bash does exist in /bin
> sh is a symlink to bash
>
> I tried:
>   # sh
>   sh-3.1# ./install-tl.sh
>
> Result:
>   sh: ./install-tl.sh: /bin/sh: bad interpreter: Permission denied
>
> I changed back to bash.
>
> Then I tried to run the GUI installation
>   # cd setuptl/
>   # ./tlpm-i386-linux.pl
>
> Result:
>   bash: ./tlpm-i386-linux.pl: /usr/bin/env: bad interpreter:
> Permission denied
>
> In /usr/bin there is a file perl and a file perl5.8.7
> /usr/bin/env does exist
>
>
> Before I tried to install TeX Live, I removed the installed TeX and
> TeTeX packages (in Synaptic package manager).
> I'm using Linux, Kubuntu 6.06, KDE desktop.
>
> Can you please help me to make the Live installation work?

You may need to consult someone familiar with your particular linux distro
to find out how to change the mount permissions.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From vext01 at gmail.com  Tue May  1 15:46:31 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Tue, 1 May 2007 14:46:31 +0100
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <22af238a0705010516t79d1550aobd3c75cd10c4ac73@mail.gmail.com>
References: <200704302311.41473.nat@switch.demon.nl>
	<22af238a0705010516t79d1550aobd3c75cd10c4ac73@mail.gmail.com>
Message-ID: <a6e8c1d0705010646y63c339c0h30c330b7df85fea7@mail.gmail.com>

Hi,

On 5/1/07, George N. White III <gnwiii at gmail.com> wrote:
> On 4/30/07, Natalie <nat at switch.demon.nl> wrote:
>
> > Hello,
> >
> > This afternoon I downloaded the TeX Live iso image and burned it on
> > CD. The md5 sum was verified, the copied data was verified too.
> >
> > I mounted the CD and did:
> >   # ./install-tl.sh
> >
> > This is the output:
> >   bash: ./install-tl.sh: /bin/sh: bad interpreter: Permission denied
>
> Some systems mount CD's with noexec permissions.  I think this is mentioned
> in the TL documentation.  If you are on linux, it is often easier to
> mount the .iso
> image directly (using the loop device) without actually creating a
> physical CD-ROM.
>
> > bash does exist in /bin
> > sh is a symlink to bash
> >
> > I tried:
> >   # sh
> >   sh-3.1# ./install-tl.sh
> >
> > Result:
> >   sh: ./install-tl.sh: /bin/sh: bad interpreter: Permission denied
> >
> > I changed back to bash.
> >
> > Then I tried to run the GUI installation
> >   # cd setuptl/
> >   # ./tlpm-i386-linux.pl
> >
> > Result:
> >   bash: ./tlpm-i386-linux.pl: /usr/bin/env: bad interpreter:
> > Permission denied
> >
> > In /usr/bin there is a file perl and a file perl5.8.7
> > /usr/bin/env does exist
> >
> >
> > Before I tried to install TeX Live, I removed the installed TeX and
> > TeTeX packages (in Synaptic package manager).
> > I'm using Linux, Kubuntu 6.06, KDE desktop.
> >
> > Can you please help me to make the Live installation work?
>
> You may need to consult someone familiar with your particular linux distro
> to find out how to change the mount permissions.
>
> --
> George N. White III <aa056 at chebucto.ns.ca>
> Head of St. Margarets Bay, Nova Scotia
>

Also it is worth mentioning that on OpenBSD, the installer will hang
at a "PKG_ONLY" message. I found it is waiting for tar input from
stdin. Pressing CTRL+D seems to sort this.

-- 
Best Regards

Edd

From karl at freefriends.org  Tue May  1 19:54:27 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 May 2007 12:54:27 -0500
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <a6e8c1d0705010646y63c339c0h30c330b7df85fea7@mail.gmail.com>
Message-ID: <200705011754.l41HsRu12116@f7.net>

    Also it is worth mentioning that on OpenBSD, the installer will hang
    at a "PKG_ONLY" message. I found it is waiting for tar input from
    stdin.

Sounds like a bug.  Can you please run
bash -vx install-tl.sh --debug

up to the point where the script hangs, interrupt it, and capture the
resulting voluminous stdout/stderr and send it to me (off list)?

Thanks,
Karl

From karl at freefriends.org  Tue May  1 20:06:22 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 May 2007 13:06:22 -0500
Subject: [tex-live] Different versions of epstopdf?
In-Reply-To: <18492.1178007111@mole.cl.cam.ac.uk>
Message-ID: <200705011806.l41I6Mt15706@f7.net>

    is there any reason that we shouldn't move the obsolete one to the ctan
    obsolete tree?

I know of no reason not to move it.  Sounds good.

    it would be nice to have an up-to-date c version on ctan, if such a
    thing exists

To my knowledge, it doesn't exist.

Thanks,
k

From karl at freefriends.org  Tue May  1 20:09:14 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 May 2007 13:09:14 -0500
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <200704302311.41473.nat@switch.demon.nl>
Message-ID: <200705011809.l41I9EA16541@f7.net>

Hello Natalie,

      # ./install-tl.sh
      bash: ./install-tl.sh: /bin/sh: bad interpreter: Permission denied

Try running sh ./install-tl.sh, so as not to rely on #! interpretation.
(Similar for the GUI installer.)

Hope this flies,
Karl

From alan at alphabyte.co.nz  Tue May  1 21:31:57 2007
From: alan at alphabyte.co.nz (Alan Litchfield)
Date: Wed, 2 May 2007 07:31:57 +1200
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <200704302311.41473.nat@switch.demon.nl>
References: <200704302311.41473.nat@switch.demon.nl>
Message-ID: <75CA57B2-EC73-4D6D-B765-7EA12823B9F6@alphabyte.co.nz>


On 1/05/2007, at 9:11 AM, Natalie wrote:

> I mounted the CD and did:
>   # ./install-tl.sh

Are you running as root when you did this? If not you need to

sudo ./install-tl.sh

and enter the password at the prompt.

Alan

From preining at logic.at  Tue May  1 21:01:37 2007
From: preining at logic.at (Norbert Preining)
Date: Tue, 1 May 2007 21:01:37 +0200
Subject: [tex-live] Bug#266718: dvips font inclusion broken in TeXlive
In-Reply-To: <20070430213713.GA3676@PC23>
References: <20070430082622.GA7874@amaryllis.bostoncoop.net>
	<20070430091227.GA2276@PC23>
	<20070430092717.GA20596@bostoncoop.net>
	<20070430213713.GA3676@PC23>
Message-ID: <20070501190137.GC12772@gamma.logic.tuwien.ac.at>

Hi all TeX-k and TeX Live Masters!

We found a bug that *was* fixed in some prior dvips version, but later
not: The problem is to make it short:
If a font is used in an included eps AND in the main document, AND is
only partially downloaded, some glyphs can be missing in the eps file.

Test document as made by TE
(see Debian bug report: http://bugs.debian.org/266718)

test.tex:
\documentclass{article}
\usepackage{graphicx,nopageno}
\begin{document}
2
\includegraphics{fig.0}
\end{document}

fig.mp:
prologues := 2;
beginfig(0);
  label(btex $-23$ etex, origin);
endfig;
end


Observations by TE:
If I run this (latex test; dvips test -o), I only get the "-" and the 2
from fig.0. The 3 is omitted. If I change line 4 to 23, then I get both
numbers from fig.0. Even if I remove line 4 entirely, everything comes
out right.


Later on it was fixed in teTeX and it *should* have been fixed also in
the upstream source, again from TE in the above bug report:
# teTeX 2.99.10
# Changes in the src area:
# * dvips update to version 5.95
#   - fonts used in eps files are no longer partially downloaded


But the bug is present in TeX Live 2007.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
TUMBY (n.)
The involuntary abdominal gurgling which fills the silence following
someone else's intimate personal revelation.
			--- Douglas Adams, The Meaning of Liff

From nat at switch.demon.nl  Tue May  1 23:21:19 2007
From: nat at switch.demon.nl (Natalie)
Date: Tue, 1 May 2007 23:21:19 +0200
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <200705012038.51705.nat@switch.demon.nl>
References: <200704302311.41473.nat@switch.demon.nl>
	<22af238a0705010516t79d1550aobd3c75cd10c4ac73@mail.gmail.com>
	<200705012038.51705.nat@switch.demon.nl>
Message-ID: <200705012321.27311.nat@switch.demon.nl>

Should have CC'd this earlier...

Still more replies coming in.

Thank you all! :)


> On Tuesday 01 May 2007 14:16, you wrote:
> > > This is the output:
> > >   bash: ./install-tl.sh: /bin/sh: bad interpreter: Permission
> > > denied
> >
> > Some systems mount CD's with noexec permissions.  I think this is
> > mentioned in the TL documentation.  If you are on linux, it is
> > often easier to mount the .iso
> > image directly (using the loop device) without actually creating
> > a physical CD-ROM.
>
> Ah.... that's it... no, it's not mentioned in the doc (live.pdf).
> It does mention the -t switch...
>
>   > mount -t iso9660 /dev/cdrom /mnt/cdrom
>
> I added -o exec on the command line, and that did the trick.
>
> I now have a complete TeX installation. Last week I started playing
> with LaTeX and I love it :)
>
> Thank you!
>
> Natalie

-- 
Never send to know for whom the computer crashes;
it crashes for thee.

  James Geary - The Body Electric

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 191 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070501/3f4a2d65/attachment.bin 

From karl at freefriends.org  Wed May  2 01:23:22 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 May 2007 18:23:22 -0500
Subject: [tex-live] The OpenBSD port.
In-Reply-To: <a6e8c1d0704291846m39264932i1db3b53de735e6fb@mail.gmail.com>
Message-ID: <200705012323.l41NNM916484@f7.net>

    Just now I have built my first document using my port!

Congratulations.

    Is tug able to offer this hosting? 

Isn't there a place within the OpenBSD infrastructure for something like
this?  That seems like it would be a lot easier on everyone.

Anyway, if you're talking about uploading a tarball for a few developers
to grab, sure, we can do that.  If you're talking about a general
hosting facility for further development and access by the general user
population, then sorry, but no -- we're already using too large a
proportion of our host university's bandwidth.  (And don't have any
hosting software installed anyway.)

Best,
Karl


From kakuto at fsci.fuk.kindai.ac.jp  Wed May  2 03:13:43 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 02 May 2007 10:13:43 +0900
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken in
	TeXlive
In-Reply-To: Your message of "Tue, 1 May 2007 21:01:37 +0200"
References: <20070501190137.GC12772@gamma.logic.tuwien.ac.at>
Message-ID: <200705020113.l421Dimf002304@jupiter.fsci.fuk.kindai.ac.jp>

Hi Norbert,

> We found a bug that *was* fixed in some prior dvips version, but later
> not: The problem is to make it short:
> If a font is used in an included eps AND in the main document, AND is
> only partially downloaded, some glyphs can be missing in the eps file.

In such a case, font is fully downloaded irrespective of -j0 and -j1
in the fixed dvips, and 5.96 is a fixed one.
I cannot reproduce the bug. See the attached zip file,
which contains fig.mp, test.tex, fig.0 and test.ps.

(
mpost fig
latex test
dvips -Ppdf -o test.ps test
)

Thanks,
Akira
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/octet-stream
Size: 63171 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070502/9ba16fe7/attachment-0001.obj 

From preining at logic.at  Wed May  2 07:38:51 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 May 2007 07:38:51 +0200
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken in
	TeXlive
In-Reply-To: <200705020113.l421Dimf002304@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070501190137.GC12772@gamma.logic.tuwien.ac.at>
	<200705020113.l421Dimf002304@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070502053851.GC23375@gamma.logic.tuwien.ac.at>

Dear Kakuto-san,

thanks for taking a look at this, but ..

On Mit, 02 Mai 2007, Akira Kakuto wrote:
> In such a case, font is fully downloaded irrespective of -j0 and -j1
> in the fixed dvips, and 5.96 is a fixed one.
> I cannot reproduce the bug. See the attached zip file,
> which contains fig.mp, test.tex, fig.0 and test.ps.

I tried your test case and ..
> (
> mpost fig
> latex test
> dvips -Ppdf -o test.ps test
> )

gave me a PostScript file which did NOT contain the full font.


So either your dvips is different from mine, or something in the config
files change that. I attach my config.ps. I tried it with
	dvips
(which by default uses -j) and also with
	dvips -Ppdf

I diffed the created ps files and couldn't find any big difference:
	diff -u my-test.ps akira-test.ps
(excerpt, there were more (like creation date, and the included font).


-%%Creator: dvips(k) 5.96 Copyright 2005 Radical Eye Software
+%%Creator: dvips(k) 5.96 Copyright 2007 Radical Eye Software

-%%BoundingBox: 0 0 595 842
+%%BoundingBox: 0 0 595 843

-%DVIPSParameters: dpi=8000
-%DVIPSSource:  TeX output 2007.05.02:0728
-%%BeginProcSet: tex.pro 0 0
+%DVIPSParameters: dpi=9600, compressed
+%DVIPSSource:  TeX output 2007.05.02:0944
+%%BeginProcSet: texc.pro 0 0


@@ -31,10 +31,22 @@
 definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
 }B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
 B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
-1 add N}if}B/CharBuilder{save 3 1 roll S A/base get 2 index get S
-/BitMaps get S get/Cd X pop/ctr 0 N Cdx 0 Cx Cy Ch sub Cx Cw add Cy
-setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx sub Cy .1 sub]{Ci}imagemask
-restore}B/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
+1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
+1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
+0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
+sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
+rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
+gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
+/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
+/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
+A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
+get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
+ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
+fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
+{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
+chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
+1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
+forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
 /BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
 }if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
 bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A

@@ -43,19 +55,21 @@
 userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
 1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
 index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
-/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
-/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
-(LaserWriter 16/600)]{A length product length le{A length product exch 0
-exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
-end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
-grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
-imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
-exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
-fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
-delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
-B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
-p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
-rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end
+/dir 0 def/dyy{/dir 0 def}B/dyt{/dir 1 def}B/dty{/dir 2 def}B/dtt{/dir 3
+def}B/p{dir 2 eq{-90 rotate show 90 rotate}{dir 3 eq{-90 rotate show 90
+rotate}{show}ifelse}ifelse}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0
+N/Ry 0 N/V{}B/RV/v{/Ry X/Rx X V}B statusdict begin/product where{pop
+false[(Display)(NeXT)(LaserWriter 16/600)]{A length product length le{A
+length product exch 0 exch getinterval eq{pop true exit}if}{pop}ifelse}
+forall}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{
+BDot}imagemask grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat
+{BDot}imagemask grestore}}ifelse B/QV{gsave newpath transform round exch
+round exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0
+rlineto fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B
+/M{S p delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}
+B/g{0 M}B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p
+-3 w}B/n{p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{
+0 S rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

-TeXDict begin 39139632 55387786 1000 8000 8000 (test.dvi)
- at start /Fa 205[553 50[{}1 1106.96 /CMR10 rf end
+TeXDict begin 39139633 55388455 1000 9600 9600 (test.dvi)
+ at start /Fa 205[664 50[{}1 1328.35 /CMR10 rf end

-TeXDict begin 1 0 bop 8524 6974 a Fa(2)369 b @beginspecial
+TeXDict begin 1 0 bop 10228 8369 a Fa(2)443 b @beginspecial

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
OK, so ten out of ten for style, but minus several million
for good thinking, yeah?
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy
-------------- next part --------------
A non-text attachment was scrubbed...
Name: config.ps
Type: application/postscript
Size: 4761 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070502/44689b9b/attachment.ps 

From kakuto at fsci.fuk.kindai.ac.jp  Wed May  2 07:55:21 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 02 May 2007 14:55:21 +0900
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken in
	TeXlive
In-Reply-To: Your message of "Wed, 2 May 2007 07:38:51 +0200"
References: <20070502053851.GC23375@gamma.logic.tuwien.ac.at>
Message-ID: <200705020555.l425tL2W004247@jupiter.fsci.fuk.kindai.ac.jp>

Hi Norbert,

> I diffed the created ps files and couldn't find any big difference:
> 	diff -u my-test.ps akira-test.ps
> (excerpt, there were more (like creation date, and the included font).

Differences are not essential ones. (I'm using dpi=9600 in -Ppdf and
'ASCII patched' headers.)
Please compare my fig.0 and yours.

Thanks,
Akira

From dthurston at barnard.edu  Wed May  2 06:23:48 2007
From: dthurston at barnard.edu (Dylan Thurston)
Date: Wed, 2 May 2007 00:23:48 -0400
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken in
	TeXlive
In-Reply-To: <200705020113.l421Dimf002304@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070501190137.GC12772@gamma.logic.tuwien.ac.at>
	<200705020113.l421Dimf002304@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070502042348.GC28554@amaryllis.bostoncoop.net>

On Wed, May 02, 2007 at 10:13:43AM +0900, Akira Kakuto wrote:
> Hi Norbert,
> 
> > We found a bug that *was* fixed in some prior dvips version, but later
> > not: The problem is to make it short:
> > If a font is used in an included eps AND in the main document, AND is
> > only partially downloaded, some glyphs can be missing in the eps file.
> 
> In such a case, font is fully downloaded irrespective of -j0 and -j1
> in the fixed dvips, and 5.96 is a fixed one.
> I cannot reproduce the bug. See the attached zip file,
> which contains fig.mp, test.tex, fig.0 and test.ps.

Let me confirm that dvips(k) 5.96 from the Debian package
(debian-metapost 2007-5) exhibits the buggy behaviour, and not the
behaviour in the zip file that was attached.

Peace,
	Dylan
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://tug.org/pipermail/tex-live/attachments/20070502/78c14c72/attachment.bin 

From kakuto at fsci.fuk.kindai.ac.jp  Wed May  2 08:53:55 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 02 May 2007 15:53:55 +0900
Subject: [tex-live] Bug#266718: [tex-k] Bug#266718: dvips font inclusion
	broken in	 TeXlive
In-Reply-To: Your message of "Wed, 2 May 2007 08:27:11 +0200"
References: <20070502062711.GA28839@gamma.logic.tuwien.ac.at>
Message-ID: <200705020653.l426ruF8004519@jupiter.fsci.fuk.kindai.ac.jp>

Hi Norbert,

> > Please compare my fig.0 and yours.
> 
> No diffs but the Creation Date

Thanks. I believe "my sources" == "texlive sources" but
I'll investigate if there are differences.
In this case, my dvips creates the same result
for
dvips -Ppdf -j1 test
and
dvips -Ppdf -j0 test

Usually the default (-j1) download fonts partially.

Note that, in my case, font is downloaded like

%%BeginProcSet: cmr10.pfb 0 0
%!PS-AdobeFont-1.1: CMR10 1.00B
...

instead of the usual

%%BeginFont: CMR10
%!PS-AdobeFont-1.1: CMR10 1.00B
...


-- 
Akira Kakuto

From preining at logic.at  Wed May  2 08:27:11 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 May 2007 08:27:11 +0200
Subject: [tex-live] Bug#266718: [tex-k] Bug#266718: dvips font inclusion
	broken in TeXlive
In-Reply-To: <200705020555.l425tL2W004247@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070502053851.GC23375@gamma.logic.tuwien.ac.at>
	<200705020555.l425tL2W004247@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070502062711.GA28839@gamma.logic.tuwien.ac.at>

On Mit, 02 Mai 2007, Akira Kakuto wrote:
> Please compare my fig.0 and yours.

No diffs but the Creation Date

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MARLOW (n.)
The bottom drawer in the kitchen your mother keeps her paper bags in.
			--- Douglas Adams, The Meaning of Liff

From frank at debian.org  Wed May  2 10:45:29 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 02 May 2007 10:45:29 +0200
Subject: [tex-live] Bug#266718: [tex-k] Bug#266718: dvips font inclusion
	broken in TeXlive
In-Reply-To: <20070502053851.GC23375@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed\, 2 May 2007 07\:38\:51 +0200")
References: <20070501190137.GC12772@gamma.logic.tuwien.ac.at>
	<200705020113.l421Dimf002304@jupiter.fsci.fuk.kindai.ac.jp>
	<20070502053851.GC23375@gamma.logic.tuwien.ac.at>
Message-ID: <87tzuvk40m.fsf@riesling.zuerich.kuesterei.ch>

Norbert Preining <preining at logic.at> wrote:

> I diffed the created ps files and couldn't find any big difference:
> 	diff -u my-test.ps akira-test.ps
> (excerpt, there were more (like creation date, and the included font).
>
>
> -%%Creator: dvips(k) 5.96 Copyright 2005 Radical Eye Software
> +%%Creator: dvips(k) 5.96 Copyright 2007 Radical Eye Software

This looks suspiciously as if the source had been changed without
adjusting the version number. 

> -%%BeginProcSet: tex.pro 0 0
> +%%BeginProcSet: texc.pro 0 0

Why does one of them take tex.pro, the other texc.pro?

> @@ -31,10 +31,22 @@

This hunk is the diff between tex.pro and texc.pro

> @@ -43,19 +55,21 @@

But this one not.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From kakuto at fsci.fuk.kindai.ac.jp  Wed May  2 13:17:14 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed, 02 May 2007 20:17:14 +0900
Subject: [tex-live] [tex-k] Bug#266718: Bug#266718: dvips font inclusion
	broken in	TeXlive
In-Reply-To: Your message of "Wed, 02 May 2007 10:45:29 +0200"
References: <87tzuvk40m.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200705021117.l42BHFEo005693@jupiter.fsci.fuk.kindai.ac.jp>

Hi Frank,

> > -%%Creator: dvips(k) 5.96 Copyright 2005 Radical Eye Software
> > +%%Creator: dvips(k) 5.96 Copyright 2007 Radical Eye Software
> 
> This looks suspiciously as if the source had been changed without
> adjusting the version number. 

This change (2005 --> 2007) was made by Karl after
the release of TeXLive 2007. My sources are ones in the present svn.

> > -%%BeginProcSet: tex.pro 0 0
> > +%%BeginProcSet: texc.pro 0 0
> 
> Why does one of them take tex.pro, the other texc.pro?

Simply because I'm using config.ps in which "Z" is written.
 
> > @@ -31,10 +31,22 @@
> 
> This hunk is the diff between tex.pro and texc.pro
> 
> > @@ -43,19 +55,21 @@
> 
> But this one not.

I said I'm using "ASCII patched" headers. But this is irrelevant to
the present problem.

BTW, I've confirmed that there are no differences
between my sources and TeXLive sources.

Changes made after the release of TeXLive 2007 are not
related to the main output.

Therefore I think the bug must be specific to the Debian dvipsk.

Thanks,
Akira

From preining at logic.at  Wed May  2 13:28:55 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 2 May 2007 13:28:55 +0200
Subject: [tex-live] [tex-k] Bug#266718: Bug#266718: dvips font inclusion
	broken in TeXlive
In-Reply-To: <200705021117.l42BHFEo005693@jupiter.fsci.fuk.kindai.ac.jp>
References: <87tzuvk40m.fsf@riesling.zuerich.kuesterei.ch>
	<200705021117.l42BHFEo005693@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070502112855.GE17666@gamma.logic.tuwien.ac.at>

Dear Kakuto-san,

On Mit, 02 Mai 2007, Akira Kakuto wrote:
> This change (2005 --> 2007) was made by Karl after
> the release of TeXLive 2007. My sources are ones in the present svn.

Ok.

> Changes made after the release of TeXLive 2007 are not
> related to the main output.
> 
> Therefore I think the bug must be specific to the Debian dvipsk.

I checked with the dvips from the TeX Live repository and can reproduce
the same problem with this dvips ...

Strange.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
QUEDGELEY (n.)
A rabidly left-wing politician who can afford to be that way because
he married a millionairess.
			--- Douglas Adams, The Meaning of Liff

From vext01 at gmail.com  Wed May  2 14:53:54 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Wed, 2 May 2007 13:53:54 +0100
Subject: [tex-live] The OpenBSD port.
In-Reply-To: <200705012323.l41NNM916484@f7.net>
References: <a6e8c1d0704291846m39264932i1db3b53de735e6fb@mail.gmail.com>
	<200705012323.l41NNM916484@f7.net>
Message-ID: <a6e8c1d0705020553h126d5ad0jf52bf8174422d1be@mail.gmail.com>

Hi Karl,

On 5/2/07, Karl Berry <karl at freefriends.org> wrote:
>     Just now I have built my first document using my port!
>
> Congratulations.
>
>     Is tug able to offer this hosting?
>
> Isn't there a place within the OpenBSD infrastructure for something like this? That seems like it would be a lot easier on everyone.

Yes, But it will have to pull from another server initially.

> Anyway, if you're talking about uploading a tarball for a few developers
> to grab, sure, we can do that.  If you're talking about a general
> hosting facility for further development and access by the general user
> population, then sorry, but no -- we're already using too large a
> proportion of our host university's bandwidth.  (And don't have any
> hosting software installed anyway.)

Unfortunately I cant say how many users this could be.  Probably too many.

The good news is that I spoke to my university UNIX admin, and they
are using less that one tenth of thier available bandwidth, so I can
host it there!

-- 
Best Regards

Edd

From kakuto at fsci.fuk.kindai.ac.jp  Thu May  3 01:48:06 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 03 May 2007 08:48:06 +0900
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken in
	TeXlive
In-Reply-To: Your message of "Tue, 1 May 2007 21:01:37 +0200"
References: <20070501190137.GC12772@gamma.logic.tuwien.ac.at>
Message-ID: <200705022348.l42Nm8Pg008067@jupiter.fsci.fuk.kindai.ac.jp>

> We found a bug that *was* fixed in some prior dvips version, but later
> not:
[...]

I'm on Windows and I don't have the wrong behavior
for the Bug#266718.
But please test the following change (I don't know whether it
is related to the problem).

Thanks,
Akira


--- header.c.orig	Fri Dec 08 07:46:14 2006
+++ header.c	Thu May 03 07:10:57 2007
@@ -35,7 +35,7 @@
 int
 add_name P2C(char *, s, struct header_list **, what)
 {
-  add_name_general (s, what, NULL, NULL);
+  return (int) add_name_general (s, what, NULL, NULL);
 }
 
 /*
@@ -122,7 +122,7 @@
 int
 add_header P1C(char *, s)
 {
-  add_header_general (s, NULL, NULL);
+  return (int) add_header_general (s, NULL, NULL);
 }
 
 int

From karl at freefriends.org  Thu May  3 02:20:59 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 2 May 2007 19:20:59 -0500
Subject: [tex-live] ubuntu and tex live?
Message-ID: <200705030020.l430KxR25077@f7.net>

Does anyone here have access to a current Ubuntu system, or can
otherwise find out what vintage TeX Ubuntu is using?

I ask because I just heard that Dell was going to sell computers with
Ubuntu preinstalled.  It would be nice if it included a reasonably
current TeX.

Thanks,
k

From vext01 at gmail.com  Thu May  3 02:33:07 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 3 May 2007 01:33:07 +0100
Subject: [tex-live] ubuntu and tex live?
In-Reply-To: <200705030020.l430KxR25077@f7.net>
References: <200705030020.l430KxR25077@f7.net>
Message-ID: <a6e8c1d0705021733s702f343chab078150f56be010@mail.gmail.com>

On 5/3/07, Karl Berry <karl at freefriends.org> wrote:
> Does anyone here have access to a current Ubuntu system, or can
> otherwise find out what vintage TeX Ubuntu is using?
>
> I ask because I just heard that Dell was going to sell computers with
> Ubuntu preinstalled.  It would be nice if it included a reasonably
> current TeX.
>
> Thanks,
> k
>

Ubuntu is based upon debian, so I imagine the debian packages can be
used? I may be wrong.


-- 
Best Regards

Edd

From gzjjgod at gmail.com  Thu May  3 06:58:24 2007
From: gzjjgod at gmail.com (Jjgod Jiang)
Date: Thu, 3 May 2007 12:58:24 +0800
Subject: [tex-live] ubuntu and tex live?
In-Reply-To: <200705030020.l430KxR25077@f7.net>
References: <200705030020.l430KxR25077@f7.net>
Message-ID: <ddd65cda0705022158l6ed43178w5a216fe394bfa44c@mail.gmail.com>

Hi Karl,

2007/5/3, Karl Berry <karl at freefriends.org>:
> Does anyone here have access to a current Ubuntu system, or can
> otherwise find out what vintage TeX Ubuntu is using?
>
> I ask because I just heard that Dell was going to sell computers with
> Ubuntu preinstalled.  It would be nice if it included a reasonably
> current TeX.

>From http://packages.ubuntu.com/, we can see they have teTeX 3.0
and TeXLive 2005 packaged.

- jjgod.

From preining at logic.at  Thu May  3 07:08:18 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 3 May 2007 07:08:18 +0200
Subject: [tex-live] ubuntu and tex live?
In-Reply-To: <200705030020.l430KxR25077@f7.net>
References: <200705030020.l430KxR25077@f7.net>
Message-ID: <20070503050818.GB24289@gamma.logic.tuwien.ac.at>

On Mit, 02 Mai 2007, Karl Berry wrote:
> Does anyone here have access to a current Ubuntu system, or can
> otherwise find out what vintage TeX Ubuntu is using?

following Debian it has
	teTeX3 and TeX Live2005 in the released versions
and
	TeX Live 2007 in the develop version
Exact details I don't know since I don't know about what release is
what.

> I ask because I just heard that Dell was going to sell computers with
> Ubuntu preinstalled.  It would be nice if it included a reasonably
> current TeX.

This will probably be Ubuntu Stable with teTeX ...

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DETCHANT (n.)
That part of a hymn (usually a few notes at the end of a verse) where
the tune goes so high or low that you suddenly have to change octaves
to accommodate it.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu May  3 07:59:28 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 3 May 2007 07:59:28 +0200
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken in
	TeXlive
In-Reply-To: <200705022348.l42Nm8Pg008067@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070501190137.GC12772@gamma.logic.tuwien.ac.at>
	<200705022348.l42Nm8Pg008067@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070503055928.GA28184@gamma.logic.tuwien.ac.at>

On Don, 03 Mai 2007, Akira Kakuto wrote:
> But please test the following change (I don't know whether it
> is related to the problem).

Unfortunately this didn't help, I double checked.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ARTHUR	It probably seems a terrible thing to say, but you know what I
	sometimes think would be useful in these situations?
LINT.	What?
ARTHUR	A gun of some sort.
LINT.2	Will this help?
ARTHUR	What is it?
LINT.2	A gun of some sort.
ARTHUR	Oh, that'll help. Can you make it fire?
LINT.	Er...
F/X	DEAFENING ROAR
LINT.	Yes.
                 --- Arthur and the Lintillas gaining the upper hand, Fit the
                 --- Twelfth.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From kakuto at fsci.fuk.kindai.ac.jp  Thu May  3 10:48:43 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 03 May 2007 17:48:43 +0900
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken
	inTeXlive
In-Reply-To: Your message of "Thu, 3 May 2007 07:59:28 +0200"
References: <20070503055928.GA28184@gamma.logic.tuwien.ac.at>
Message-ID: <200705030848.l438miVt009859@jupiter.fsci.fuk.kindai.ac.jp>

Hi Norbert,

> > But please test the following change (I don't know whether it
> > is related to the problem).
> 
> Unfortunately this didn't help, I double checked.

The following is the output of
dvips -d4 -Ppdf -o test.ps test
The lines

Checking for fonts in 'fig.0'
Adding font 'CMSY10' from included postscript file 'fig.0'.
Adding font 'CMR10' from included postscript file 'fig.0'.

are very important.

Thanks,
Akira


This is dvips(k) 5.96 Copyright 2007 Radical Eye Software (www.radicaleye.com)
' TeX output 2007.05.03:1721' -> test.ps
Defining font () cmr10 at 10.0pt
Font cmr10 <CMR10> is resident.
Checking for fonts in 'fig.0'
Adding font 'CMSY10' from included postscript file 'fig.0'.
Adding font 'CMR10' from included postscript file 'fig.0'.
<c:/usr/local/share/texmf/dvips/base/texc.pro>
<c:/usr/local/share/texmf/dvips/misc/alt-rule.pro>
<c:/usr/local/share/texmf/fonts/type1/bluesky/cmsy10.pfb>
<c:/usr/local/share/texmf/fonts/type1/bluesky/cmr10.pfb>
<c:/usr/local/share/texmf/dvips/base/texps.pro>
<c:/usr/local/share/texmf/dvips/base/special.pro>. [1<./fig.0>] 

From preining at logic.at  Thu May  3 11:00:56 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 3 May 2007 11:00:56 +0200
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken
	inTeXlive
In-Reply-To: <200705030848.l438miVt009859@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070503055928.GA28184@gamma.logic.tuwien.ac.at>
	<200705030848.l438miVt009859@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070503090056.GK3309@gamma.logic.tuwien.ac.at>

Hi Akira,

On Don, 03 Mai 2007, Akira Kakuto wrote:
> The following is the output of
> dvips -d4 -Ppdf -o test.ps test
> The lines
> 
> Checking for fonts in 'fig.0'
> Adding font 'CMSY10' from included postscript file 'fig.0'.
> Adding font 'CMR10' from included postscript file 'fig.0'.

I get:
$ dvips -d4 -Ppdf -o test.ps test
This is dvips(k) 5.96norb Copyright 2005 Radical Eye Software (www.radicaleye.com)
' TeX output 2007.05.03:1058' -> test.ps
Defining font () cmr10 at 10.0pt
Font cmr10 <CMR10> is resident.
Checking for fonts in 'fig.0'
Adding font 'CMSY10' from included postscript file 'fig.0'.
Adding font 'CMR10' from included postscript file 'fig.0'.
<tex.pro><alt-rule.pro><cmsy10.pfb><cmr10.pfb><texps.pro><special.pro>. 
<cmr10.pfb>[1<fig.0>] 


(Note that the version 5.96norb is the texlive version with your fix
applied, I also changed the version number so that it reminds me what I
am working with!)

Could it be that the 
	Font cmr10 <CMR10> is resident.
is the problem?

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ABERBEEG (vb.)
Of amateur actors, to adopt a Mexican accent when called upon to play
any variety of foreigner (except Pakistanis - from whom a Welsh accent
is considered sufficient).
			--- Douglas Adams, The Meaning of Liff

From kakuto at fsci.fuk.kindai.ac.jp  Thu May  3 11:20:14 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 03 May 2007 18:20:14 +0900
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken
	inTeXlive
In-Reply-To: Your message of "Thu, 3 May 2007 11:00:56 +0200"
References: <20070503090056.GK3309@gamma.logic.tuwien.ac.at>
Message-ID: <200705030920.l439KEVd010065@jupiter.fsci.fuk.kindai.ac.jp>

Hi Norbert,

> $ dvips -d4 -Ppdf -o test.ps test
> This is dvips(k) 5.96norb Copyright 2005 Radical Eye Software (www.radicaleye.com)
> ' TeX output 2007.05.03:1058' -> test.ps
> Defining font () cmr10 at 10.0pt
> Font cmr10 <CMR10> is resident.
> Checking for fonts in 'fig.0'
> Adding font 'CMSY10' from included postscript file 'fig.0'.
> Adding font 'CMR10' from included postscript file 'fig.0'.
> <tex.pro><alt-rule.pro><cmsy10.pfb><cmr10.pfb><texps.pro><special.pro>. 
> <cmr10.pfb>[1<fig.0>] 

The only difference is the final <cmr10.pfb>. This is not printed
in my case.

> (Note that the version 5.96norb is the texlive version with your fix
> applied, I also changed the version number so that it reminds me what I
> am working with!)

Next, please test the latest sources in the TeXLive svn.
(files will be printed in the full path names.)

> Could it be that the 
> 	Font cmr10 <CMR10> is resident.
> is the problem?

This line is the same as mine.

Thanks,
Akira

From preining at logic.at  Thu May  3 12:10:16 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 3 May 2007 12:10:16 +0200
Subject: [tex-live] Bug#266718: [tex-k] Bug#266718: dvips font inclusion
	broken inTeXlive
In-Reply-To: <200705030920.l439KEVd010065@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070503090056.GK3309@gamma.logic.tuwien.ac.at>
	<200705030920.l439KEVd010065@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070503101016.GH17605@gamma.logic.tuwien.ac.at>

Dear Akira,

thanks for helping with this ...

On Don, 03 Mai 2007, Akira Kakuto wrote:
> Next, please test the latest sources in the TeXLive svn.

output of dvips from latest svn sources:

This is dvips(k) 5.96 Copyright 2007 Radical Eye Software (www.radicaleye.com)
' TeX output 2007.05.03:1058' -> test.ps
Defining font () cmr10 at 10.0pt
Font cmr10 <CMR10> is resident.
Checking for fonts in 'fig.0'
Adding font 'CMSY10' from included postscript file 'fig.0'.
Adding font 'CMR10' from included postscript file 'fig.0'.
</usr/share/texmf-texlive/dvips/base/tex.pro>
</etc/texmf/dvips/config/alt-rule.pro>
</usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmsy10.pfb>
</usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmr10.pfb>
</usr/share/texmf-texlive/dvips/base/texps.pro>
</usr/share/texmf-texlive/dvips/base/special.pro>. 
</usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmr10.pfb>[1<./fig.0>] 


I tried with and without the fix you posted, it didn't change anything
in both cases, both times same problem.

Can you please send me the files used at your computer:
	config.pdf
	tex.pro
	alt-rule.pro
	texps.pro
	special.pro
(and others if you think it is necessary).


Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HAMBLEDON (n.)
The sound of a single-engine aircraft flying by, heard whilst lying in
a summer field in England, which somehow concentrates the silence and
sense of space and timelessness and leaves one with a profound feeling
of something or other.
			--- Douglas Adams, The Meaning of Liff

From martin at oneiros.de  Thu May  3 14:12:35 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 3 May 2007 14:12:35 +0200
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <200705011754.l41HsRu12116@f7.net>
References: <a6e8c1d0705010646y63c339c0h30c330b7df85fea7@mail.gmail.com>
	<200705011754.l41HsRu12116@f7.net>
Message-ID: <68c491a60705030512g3167b3a2l684bab38ddfbcf32@mail.gmail.com>

2007/5/1, Karl Berry <karl at freefriends.org>:
> Sounds like a bug.  Can you please run
> bash -vx install-tl.sh --debug

<cough>Not everywhere sh=bash; this is true for OpenBSD, where sh=ksh. :-)

Best
   Martin

From preining at logic.at  Thu May  3 15:37:51 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 3 May 2007 15:37:51 +0200
Subject: [tex-live] [tex-k] Bug#266718: Bug#266718: dvips font
	inclusionbroken inTeXlive
In-Reply-To: <200705031134.l43BYVZf010637@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070503101016.GH17605@gamma.logic.tuwien.ac.at>
	<200705031134.l43BYVZf010637@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070503133751.GD6007@gamma.logic.tuwien.ac.at>

Hi Kakuto-san,

(reply back to the lists, maybe someone else has an idea)

what a pain, I am really surprised ...

On Don, 03 Mai 2007, Akira Kakuto wrote:
> The only difference is the final
> </usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmr10.pfb>

Yup, do you have any idea where this can come from?

> Very sorry I cannot understand the reason.
> I send you my config.ps, config.pdf, alt-rule.pro, special.pro,
> tex.pro, texps.pro and texc.pro (My config.ps uses texc.pro
> instead of tex.pro).   (files.zip)

My idea was to search for differences in the files to understand/find a
different reason why here always this problems exhibits.

Unfortunately to no avail, I used your config.pdf, tex.pro, texc.pro,
... and still the same effect.

The only thing which now keeps me up is the question why here, with all
versions/variants of dvips, get this additional line of inclusion of
cmr10.pdf.

My psfonts.map contains simply
	cmr10 CMR10 <cmr10.pfb

do you have the same definition of fonts?

Otherwise I don't see why the freshly compiled dvips behaves
differently.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MELCOMBE REGIS (n.)
The name of the style of decoration used in cocktail lounges in mock
Tudor hotels in Surrey.
			--- Douglas Adams, The Meaning of Liff

From kakuto at fsci.fuk.kindai.ac.jp  Thu May  3 15:42:25 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 03 May 2007 22:42:25 +0900
Subject: [tex-live] [tex-k] Bug#266718: Bug#266718: dvips font
	inclusionbroken	 inTeXlive
In-Reply-To: Your message of "Thu, 3 May 2007 12:10:16 +0200"
References: <20070503101016.GH17605@gamma.logic.tuwien.ac.at>
Message-ID: <200705031342.l43DgQ83011123@jupiter.fsci.fuk.kindai.ac.jp>

> output of dvips from latest svn sources:
> 
> This is dvips(k) 5.96 Copyright 2007 Radical Eye Software (www.radicaleye.com)
> ' TeX output 2007.05.03:1058' -> test.ps
> Defining font () cmr10 at 10.0pt
> Font cmr10 <CMR10> is resident.
> Checking for fonts in 'fig.0'
> Adding font 'CMSY10' from included postscript file 'fig.0'.
> Adding font 'CMR10' from included postscript file 'fig.0'.

  dvips prepares to download CMSY10 and CMR10 as "headers" in
  finclude.c and marks rf->sent = 2.

> </usr/share/texmf-texlive/dvips/base/tex.pro>
> </etc/texmf/dvips/config/alt-rule.pro>
> </usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmsy10.pfb>  ---- (A)
> </usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmr10.pfb>   ---- (B)

  cmsy10.pfb and cmr10.pfb are downloaded as "headers" in
  output.c by using copyfile_general, thus they must be fully
  dowonloded irrespective of -j1 or -j0.

> </usr/share/texmf-texlive/dvips/base/texps.pro>
> </usr/share/texmf-texlive/dvips/base/special.pro>. 
> </usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmr10.pfb>   ---- (C)

  The above line (C) should not exist because cmr10.pfb is already
  downloaded as "header" at (B).  (C) is printed in download.c,
  in which the next code must prevent to download downloaded fonts:
    if (rf->sent == 2) /* sent as header, from a PS file */
       return ;

> [1<./fig.0>]

I cannot understand why Norbert's dvips does not run naturally.

Thanks,
Akira

From preining at logic.at  Thu May  3 15:55:44 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 3 May 2007 15:55:44 +0200
Subject: [tex-live] [tex-k] Bug#266718: Bug#266718: dvips font
	inclusionbroken inTeXlive
In-Reply-To: <200705031342.l43DgQ83011123@jupiter.fsci.fuk.kindai.ac.jp>
References: <20070503101016.GH17605@gamma.logic.tuwien.ac.at>
	<200705031342.l43DgQ83011123@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20070503135544.GA11937@gamma.logic.tuwien.ac.at>

Hi Akira!

On Don, 03 Mai 2007, Akira Kakuto wrote:
>   The above line (C) should not exist because cmr10.pfb is already
>   downloaded as "header" at (B).  (C) is printed in download.c,
>   in which the next code must prevent to download downloaded fonts:
>     if (rf->sent == 2) /* sent as header, from a PS file */
>        return ;

Now I checked the ps file and it is true, the pfb font is included 2
times, the first time it is included completely, the second time only
partially.

So it boils down to find out why it is downloaded a second time.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
You step in the stream,
But the water has moved on.
This page is not here.
                       --- Windows Error Haiku

From kaja at daimi.au.dk  Thu May  3 16:14:02 2007
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Thu, 3 May 2007 16:14:02 +0200
Subject: [tex-live] ubuntu and tex live?
In-Reply-To: <200705030020.l430KxR25077@f7.net>
References: <200705030020.l430KxR25077@f7.net>
Message-ID: <17977.60970.893489.419001@gandalf.daimi.au.dk>


 > Does anyone here have access to a current Ubuntu system, or can
 > otherwise find out what vintage TeX Ubuntu is using?

Ubuntu systems that I can access run Ubuntu 6.06 and used teTeX 
v. 3.0-15. I helped out with installation of TeX Collection 2007
on these machines, runs beautifully (all at the Odense University).

Kaja


From gnwiii at gmail.com  Thu May  3 17:01:05 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 3 May 2007 12:01:05 -0300
Subject: [tex-live] [tex-k] Bug#266718: Bug#266718: dvips font
	inclusionbroken inTeXlive
In-Reply-To: <20070503133751.GD6007@gamma.logic.tuwien.ac.at>
References: <20070503101016.GH17605@gamma.logic.tuwien.ac.at>
	<200705031134.l43BYVZf010637@jupiter.fsci.fuk.kindai.ac.jp>
	<20070503133751.GD6007@gamma.logic.tuwien.ac.at>
Message-ID: <22af238a0705030801w3ef8d3a5t824af65c65534d1c@mail.gmail.com>

On 5/3/07, Norbert Preining <preining at logic.at> wrote:

> Hi Kakuto-san,
>
> (reply back to the lists, maybe someone else has an idea)
>
> what a pain, I am really surprised ...
>
> On Don, 03 Mai 2007, Akira Kakuto wrote:
> > The only difference is the final
> > </usr/share/texmf-texlive/fonts/type1/bluesky/cm/cmr10.pfb>
>
> Yup, do you have any idea where this can come from?
>
> > Very sorry I cannot understand the reason.
> > I send you my config.ps, config.pdf, alt-rule.pro, special.pro,
> > tex.pro, texps.pro and texc.pro (My config.ps uses texc.pro
> > instead of tex.pro).   (files.zip)
>
> My idea was to search for differences in the files to understand/find a
> different reason why here always this problems exhibits.
>
> Unfortunately to no avail, I used your config.pdf, tex.pro, texc.pro,
> ... and still the same effect.
>
> The only thing which now keeps me up is the question why here, with all
> versions/variants of dvips, get this additional line of inclusion of
> cmr10.pdf.
>
> My psfonts.map contains simply
>         cmr10 CMR10 <cmr10.pfb
>
> do you have the same definition of fonts?

My dvips looks for psfonts_t1.map.  I put one in the directory with
the test files
that has:

cmr10 CMR10 <cmr10.pfb
cmsy10 CMSY10 <cmsy10.pfb

> Otherwise I don't see why the freshly compiled dvips behaves
> differently.

I have a debian system (testing, so lacking the glibc needed for the latest
debian texlive) with both the debian texlive and the "real" 20070212 texlive
(I can switch using the very nice environment modules system).

I see the 3 using either the debian or the "real" version.  If I use
my normal map files in "real" texlive the "3" is missing.  This might
be related to using the lm-rep maps.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Thu May  3 20:29:21 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 May 2007 13:29:21 -0500
Subject: [tex-live] Install script TeX Live CD doesn't work.
In-Reply-To: <68c491a60705030512g3167b3a2l684bab38ddfbcf32@mail.gmail.com>
Message-ID: <200705031829.l43ITL503247@f7.net>

    > bash -vx install-tl.sh --debug
    <cough>Not everywhere sh=bash; this is true for OpenBSD, where sh=ksh. :-)

Sure.  I didn't mean to type "bash" (I copied the text from another file
where I use bash).  The install script doesn't need bash in particular,
anything sh-compatible should be fine.

Thanks,
k

P.S. Last I knew, even when sh==bash, it doesn't really ==bash.  Certain
features and option settings are changed and/or turned off for sh
compatibility, depending on argv[0], so the behavior of /bin/sh and
/bin/bash is not always the same even if it's the same binary.  But
maybe this is no longer the case, I haven't checked in a long time.

From karl at freefriends.org  Thu May  3 20:45:47 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 May 2007 13:45:47 -0500
Subject: [tex-live] ubuntu and tex live?
In-Reply-To: <ddd65cda0705022158l6ed43178w5a216fe394bfa44c@mail.gmail.com>
Message-ID: <200705031845.l43IjlV07035@f7.net>

    >From http://packages.ubuntu.com/, we can see they have teTeX 3.0
    and TeXLive 2005 packaged.

Thanks to everyone for the info.

From karl at freefriends.org  Fri May  4 00:07:04 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 May 2007 17:07:04 -0500
Subject: [tex-live] [tex-k] Bug#266718: dvips font inclusion broken
	in	TeXlive
In-Reply-To: <200705022348.l42Nm8Pg008067@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200705032207.l43M74k16541@f7.net>

    But please test the following change (I don't know whether it
    is related to the problem).

I installed this change in TL, since it's obviously desirable,
independent of the present bug.  (I gather it didn't help.)

More later, I hope.

Thanks,
k

From kakuto at fsci.fuk.kindai.ac.jp  Fri May  4 07:25:13 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 04 May 2007 14:25:13 +0900
Subject: [tex-live] [tex-k] Bug#266718: Bug#266718: dvips
	fontinclusionbroken	 inTeXlive
In-Reply-To: Your message of "Thu, 3 May 2007 15:55:44 +0200"
References: <20070503135544.GA11937@gamma.logic.tuwien.ac.at>
Message-ID: <200705040525.l445PEF4013611@jupiter.fsci.fuk.kindai.ac.jp>

Hi Norbert,

> Now I checked the ps file and it is true, the pfb font is included 2
> times, the first time it is included completely, the second time only
> partially.
> 
> So it boils down to find out why it is downloaded a second time.

I've reproduced Norbert's result by using psfonts.map in TeXLive:

This is dvips(k) 5.96dev Copyright 2007 Radical Eye Software (www.radicaleye.com)
' TeX output 2007.05.03:1846' -> test.ps
Defining font () cmr10 at 10.0pt
Font cmr10 <CMR10> is resident.
Checking for fonts in 'fig.0'
Adding font 'CMSY10' from included postscript file 'fig.0'.
Adding font 'CMR10' from included postscript file 'fig.0'.
<c:/usr/local/share/texmf/dvips/base/texc.pro>
<c:/usr/local/share/texmf/fonts/type1/bluesky/cmsy10.pfb>
<c:/usr/local/share/texmf/fonts/type1/bluesky/cmr10.pfb>          -------- (A)
<c:/usr/local/share/texmf/dvips/base/texps.pro>
<c:/usr/local/share/texmf/dvips/base/special.pro>. 
<c:/usr/local/share/texmf/fonts/type1/bluesky/cmr10.pfb>[1<./fig.0>]   --- (B)


In TeXLive's psfonts.map there is a line

aicmr10 CMR10 "AITeXTextEncoding ReEncodeFont" <aicmtext.enc <cmr10.pfb -- (C)

Since font file from included postscript file is searched for by using
PS name (the only possible information), downloading in the line (A)
is done by reading the line (C), while downloading in the line (B)
is for cmr10 <CMR10>.  Since TeX names (tfm names) are different in
(A) and (B), dvips considers fonts in (A) and (B) are different.  By
commenting out the line (C) in psfonts.map, Norbert may obtain
the correct result.

Thanks,
Akira

From pmlists at free.fr  Sat May  5 19:14:45 2007
From: pmlists at free.fr (=?UTF-8?Q?Peter_M=C3=BCnster?=)
Date: Sat, 5 May 2007 19:14:45 +0200
Subject: [tex-live] support for --disable-multiplatform ?
In-Reply-To: <200705050016.l450Gpc21970@f7.net>
References: <200705050016.l450Gpc21970@f7.net>
Message-ID: <Pine.LNX.4.64.0705051905190.2116@gaston.couberia.bzh>

On Fri, 4 May 2007, Karl Berry wrote:

>     > If you put back the original texmf.cnf, does --disable-multiplatform work?
>     Yes.
> 
> I changed kpathsea/texmf.in back to using @texmf@, etc.  Could you
> please try it out and let me know if problems?  (I couldn't just restore
> the old version precisely, other changes were made in the meantime ...)

Yes it works, thanks!

I get only one error, but it's unrelated to texmf.in, and it doesn't matter
to me, since I don't use xelatex:

(/opt/TeX-live/texmf/tex/generic/hyphen/glhyph.tex
! Undefined control sequence.
l.19 \catcode`\?1 \lccode`\?\?
                                    catcode`\?1 \lccode`\?\?catcode`\...

? 
! Emergency stop.
l.19 \catcode`\?1 \lccode`\?\?
                                    catcode`\?1 \lccode`\?\?catcode`\...

No pages of output.
Transcript written on xelatex.log.
Error: `xetex -ini  -jobname=xelatex -progname=xelatex -etex xelatex.ini' failed

Cheers, Peter

-- 
http://pmrb.free.fr/contact/


From jonathan_kew at sil.org  Sat May  5 19:57:18 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sat, 5 May 2007 18:57:18 +0100
Subject: [tex-live] support for --disable-multiplatform ?
In-Reply-To: <Pine.LNX.4.64.0705051905190.2116@gaston.couberia.bzh>
References: <200705050016.l450Gpc21970@f7.net>
	<Pine.LNX.4.64.0705051905190.2116@gaston.couberia.bzh>
Message-ID: <50BE100E-C3DB-4A0D-B0E6-163C58B6E4FD@sil.org>

On 5 May 2007, at 6:14 pm, Peter M?nster wrote:

> On Fri, 4 May 2007, Karl Berry wrote:
>
>>> If you put back the original texmf.cnf, does --disable- 
>>> multiplatform work?
>>     Yes.
>>
>> I changed kpathsea/texmf.in back to using @texmf@, etc.  Could you
>> please try it out and let me know if problems?  (I couldn't just  
>> restore
>> the old version precisely, other changes were made in the  
>> meantime ...)
>
> Yes it works, thanks!
>
> I get only one error, but it's unrelated to texmf.in, and it  
> doesn't matter
> to me, since I don't use xelatex:
>
> (/opt/TeX-live/texmf/tex/generic/hyphen/glhyph.tex
> ! Undefined control sequence.
> l.19 \catcode`\?1 \lccode`\?\?
>                                     catcode`\?1 \lccode`\?\? 
> catcode`\...
>
> ?
> ! Emergency stop.
> l.19 \catcode`\?1 \lccode`\?\?
>                                     catcode`\?1 \lccode`\?\? 
> catcode`\...
>
> No pages of output.
> Transcript written on xelatex.log.
> Error: `xetex -ini  -jobname=xelatex -progname=xelatex -etex  
> xelatex.ini' failed

It may not matter to you, but it would be good to understand how this  
happened.

My first thought was that your language.dat file could be incorrect;  
specifically, if it referred to glhyph.tex directly, rather than xu- 
glhyph.tex (the wrapper provided in TL2007 to load the patterns  
correctly under either 8-bit latex or xelatex), then you'd see this  
failure.

However, on checking the repository, I see that there has been a  
major update to the glhyph.tex pattern file since the TL2007 release,  
and the changes to this file are such that the old xu- wrapper no  
longer works correctly. So that's actually why you're seeing this  
failure.

I have just updated xu-glhyph.tex in SVN, so if you rebuild with the  
latest files I believe this error will go away.

JK


From pmlists at free.fr  Sat May  5 21:18:30 2007
From: pmlists at free.fr (=?UTF-8?Q?Peter_M=C3=BCnster?=)
Date: Sat, 5 May 2007 21:18:30 +0200
Subject: [tex-live] xu-glhyph.tex update (was: Re: support for
 --disable-multiplatform ?)
In-Reply-To: <50BE100E-C3DB-4A0D-B0E6-163C58B6E4FD@sil.org>
References: <200705050016.l450Gpc21970@f7.net>
	<Pine.LNX.4.64.0705051905190.2116@gaston.couberia.bzh>
	<50BE100E-C3DB-4A0D-B0E6-163C58B6E4FD@sil.org>
Message-ID: <Pine.LNX.4.64.0705052116410.24532@gaston.couberia.bzh>

On Sat, 5 May 2007, Jonathan Kew wrote:

> I have just updated xu-glhyph.tex in SVN, so if you rebuild with the latest
> files I believe this error will go away.

I can confirm: no more error.
Thanks!
Peter

-- 
http://pmrb.free.fr/contact/


From vext01 at gmail.com  Sat May  5 22:59:27 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Sat, 5 May 2007 21:59:27 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
Message-ID: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>

Hi guys,

I have just tried the OpenBSD port on a sparc64 machine because its a
great test to see if I have done it properly( reverse byte order and
all ).

It seems that fmtutil-sys --all dies in a different manner each time,
even after a make clean. How odd. This is how I am initialising the
distribution after the build succeeds (Makefile.in):

TETEXENV=       TEXMFDIST=${MK_TEXMFDIST} \
                TEXMFLOCAL=${MK_TEXMFLOCAL} \
                TEXMFSYSVAR=${MK_TEXMFSYSVAR} \
                TEXMFSYSCONFIG=${MK_TEXMFSYSCONFIG} \
                TEXMFMAIN=${MK_TEXMFMAIN} \
                PATH=${DESTDIR}$(scriptdir):${DESTDIR}$(bindir):$(PATH)

        # OpenBSD alteration
        cd texk/web2c/omegafonts && $(MAKE) install-links
        ${TETEXENV} $(srcdir)/selfautofix "${DESTDIR}$(bindir)"
"${DESTDIR}$(texmf)/web2c"
        ${TETEXENV} mktexlsr
        ${TETEXENV} fmtutil-sys --all
        ${TETEXENV} texlinks
        ${TETEXENV} kpsewhich --format='web2c files' updmap.cfg >/dev/null
        ${TETEXENV} updmap-sys

The above was derived from the Makefile.in in the root dir of the
source.tar.bz2. I reformatted that section so that I could comprehend
it. I works 100% on i386.

Basically I get the dreaded "Not all formats have been built
successfully." error, but sometimes on latex, sometimes on xelatex,
sometimes on others.

Can you think of why this is? Or can you see anything wrong with how I
am creating the formats.

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From karl at freefriends.org  Sat May  5 23:26:49 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 5 May 2007 16:26:49 -0500
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
Message-ID: <200705052126.l45LQnb17025@f7.net>

    Can you think of why this is? 

Can't say without seeing the errors in the format creation.  Can you
send the full output of the make?

The fact that it fails on different formats is puzzling.  Perhaps it
indicates that something is not being entirely cleaned.  I doubt make
clean is 100%.

Best,
k

From vext01 at gmail.com  Sat May  5 23:39:12 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Sat, 5 May 2007 22:39:12 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <200705052126.l45LQnb17025@f7.net>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
Message-ID: <a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>

Hi karl,

On 5/5/07, Karl Berry <karl at freefriends.org> wrote:
> Can't say without seeing the errors in the format creation.  Can you
> send the full output of the make?

Ill see what I can do.

>
> The fact that it fails on different formats is puzzling.  Perhaps it
> indicates that something is not being entirely cleaned.  I doubt make
> clean is 100%.

It's not make clean of texlive, but make clean of the ports
infrastructure. It blasts away the directory that is made upon
untarring the source. It's as clean as clean can be. Admittedly I
didnt do a make clean every time.

Ill do a clean now and then record the output.

>
> Best,
> k
>

Ill get back to you soon.


-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From mailing_list at arcor.de  Sun May  6 15:41:51 2007
From: mailing_list at arcor.de (Stephan Hennig)
Date: Sun, 06 May 2007 15:41:51 +0200
Subject: [tex-live] [MetaPost] truncated map file
Message-ID: <f1km23$dug$1@sea.gmane.org>

Hi,

there is a bug in MetaPost v1.000 distributed with MiKTeX that Taco
couldn't reproduced on GNU/Linux (with TeXLive?).  Could someone please
recheck if the following bug can be observed with TeXLive on Windows?

The line containing "fontmapfile" needs to be adjusted to TeXLive.  Just
deleting it could also be sufficient.

Best regards,
Stephan Hennig


> during compilation of the attached file the name of the map file is
> truncated on the console and in the log file:
> 
>                 |----- A 'p' is missing here.
>                 v
>> > (prologue.mp{dftex_dl14.map} [1] )
>> > 1 output file written: prologue.1
>> > Transcript written on prologue.log.
> 
> I can observe the bug with MetaPost v0.994 and v1.000 on Windows (MiKTeX).
> 
> Best regards,
> Stephan Hennig


fontmapfile "pdftex_dl14.map";
beginfig(1);
  label(btex A text etex, origin);
endfig;
end


From vext01 at gmail.com  Sun May  6 18:58:07 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Sun, 6 May 2007 17:58:07 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
Message-ID: <a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>

Hi,

On 5/5/07, Edd Barrett <vext01 at gmail.com> wrote:
> Ill get back to you soon.

Ok this time its xelatex, but not always. I cant see anything
obviously wrong in the transcript.

The final error is this:
###############################################################################
fmtutil: Error! Not all formats have been built successfully.
Visit the log files in directory
  /usr/ports/print/texlive/base/w-texlive_base-2007/fake-sparc64/var/web2c
for details.
###############################################################################

This is a summary of all `failed' messages and warnings:
`xetex -ini  -jobname=xelatex -progname=xelatex -etex xelatex.ini' failed
gmake: *** [install] Error 1
*** Error code 2


However a transcript of the whole "make fake" (or "make install" as
you know it) is here (its huge):

http://students.dec.bmth.ac.uk/ebarrett/texlive/LOG

Your help is most appreciated. Thanks!

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From martin at oneiros.de  Sun May  6 19:11:51 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 6 May 2007 19:11:51 +0200
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
Message-ID: <68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>

2007/5/6, Edd Barrett <vext01 at gmail.com>:
> Ok this time its xelatex, but not always. I cant see anything
> obviously wrong in the transcript.

/texmf-dist/tex/generic/bghyphen/bghyphsi.texBus error (core dumped)
Error: `xetex -ini  -jobname=xelatex -progname=xelatex -etex xelatex.ini' failed

Please try with xetex first.

Best
   Martin

From jonathan_kew at sil.org  Sun May  6 19:16:28 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sun, 6 May 2007 18:16:28 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
Message-ID: <CD2C8DE2-BAFF-40BB-A910-6028C3928112@sil.org>


On 6 May 2007, at 5:58 pm, Edd Barrett wrote:

> Hi,
>
> On 5/5/07, Edd Barrett <vext01 at gmail.com> wrote:
>> Ill get back to you soon.
>
> Ok this time its xelatex, but not always. I cant see anything
> obviously wrong in the transcript.

Searching for "xelatex" in your full transcript reveals that it crashed:

/texmf-dist/tex/generic/bghyphen/bghyphsi.texBus error (core dumped)
Error: `xetex -ini  -jobname=xelatex -progname=xelatex -etex  
xelatex.ini' failed

If this is consistent, it would probably indicate a bug in xetex when  
built on this architecture. I don't have access to an OpenBSD/Sparc64  
machine to test anything, but it's very possible there is an error  
related to endianness and word size, or something along those lines.  
However, if (as you seem to suggest) it is erratic, and sometimes  
other programs fail too, then I'd be inclined to suspect a bug  
elsewhere, perhaps in one of the components shared between various  
tools, such as i/o routines.

Could you repeat your test a few times and verify whether the failure  
is consistent? Also, can you provide a backtrace for the crash? That  
might help give a clue. You could run "fmtutil --byfmt xelatex" by  
itself to just try building this format without repeating everything  
else.

Thanks,

JK


From vext01 at gmail.com  Sun May  6 20:01:52 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Sun, 6 May 2007 19:01:52 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <CD2C8DE2-BAFF-40BB-A910-6028C3928112@sil.org>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<CD2C8DE2-BAFF-40BB-A910-6028C3928112@sil.org>
Message-ID: <a6e8c1d0705061101i1e82e3d0gd0e5f2b6c6a56354@mail.gmail.com>

Hi,

On 5/6/07, Jonathan Kew <jonathan_kew at sil.org> wrote:
>
> On 6 May 2007, at 5:58 pm, Edd Barrett wrote:
>
> > Hi,
> >
> > On 5/5/07, Edd Barrett <vext01 at gmail.com> wrote:
> >> Ill get back to you soon.
> >
> > Ok this time its xelatex, but not always. I cant see anything
> > obviously wrong in the transcript.
>
> Searching for "xelatex" in your full transcript reveals that it crashed:
>
> /texmf-dist/tex/generic/bghyphen/bghyphsi.texBus error (core dumped)
> Error: `xetex -ini  -jobname=xelatex -progname=xelatex -etex
> xelatex.ini' failed
>
> If this is consistent, it would probably indicate a bug in xetex when
> built on this architecture. I don't have access to an OpenBSD/Sparc64
> machine to test anything, but it's very possible there is an error
> related to endianness and word size, or something along those lines.
> However, if (as you seem to suggest) it is erratic, and sometimes
> other programs fail too, then I'd be inclined to suspect a bug
> elsewhere, perhaps in one of the components shared between various
> tools, such as i/o routines.
>
> Could you repeat your test a few times and verify whether the failure
> is consistent? Also, can you provide a backtrace for the crash? That
> might help give a clue. You could run "fmtutil --byfmt xelatex" by
> itself to just try building this format without repeating everything
> else.

I think ill get a newer bsd snapshot and start again to be completely sure.

If anyone gets any other ideas meanwhile, please let me know!

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From vext01 at gmail.com  Sun May  6 20:58:02 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Sun, 6 May 2007 19:58:02 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
Message-ID: <a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>

On 5/6/07, Martin Schr?der <martin at oneiros.de> wrote:
> 2007/5/6, Edd Barrett <vext01 at gmail.com>:
> > On 5/6/07, Martin Schr?der <martin at oneiros.de> wrote:
> > > Please try with xetex first.
> >
> > Does the default config file not do that?
>
> My fault. _Without_ xetex.
>
> Porting xetex to OBSD/i386 turned up some errors in xetex, so I
> wouldn't be surprised if OBSD/sparc64 turned up further errors.
>
> Best
>    Martin
>

Is xetex needed? I think most users only use latex and pdflatex.

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From martin at oneiros.de  Sun May  6 23:07:23 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 6 May 2007 23:07:23 +0200
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
Message-ID: <68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>

2007/5/6, Edd Barrett <vext01 at gmail.com>:
> Is xetex needed? I think most users only use latex and pdflatex.

Yes. It's the main advance of TL2007. But as I said: Concentrate on
getting it working without xetex first, if xetex gives you troubles.
Making xetex work later shouldn't be difficult.

Best
   Martin

From vext01 at gmail.com  Mon May  7 04:44:06 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 7 May 2007 03:44:06 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
	<68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
Message-ID: <a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>

Hi,

On 5/6/07, Martin Schr?der <martin at oneiros.de> wrote:
> 2007/5/6, Edd Barrett <vext01 at gmail.com>:
> > Is xetex needed? I think most users only use latex and pdflatex.
>
> Yes. It's the main advance of TL2007. But as I said: Concentrate on
> getting it working without xetex first, if xetex gives you troubles.
> Making xetex work later shouldn't be difficult.
>
> Best
>    Martin
>

Just so I understand this,

xetex is a unicode supported version of latex with some extra font bits also?

I will try as you say without xetex first. I was hoping to have some
results by now, but alas my sparc64 box is slow. I stayed up hoping to
see it finish, but now its 3.45am and I am feeling need to sleep.

I'll get back to you soon.

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From kakuto at fsci.fuk.kindai.ac.jp  Mon May  7 07:38:33 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon, 07 May 2007 14:38:33 +0900
Subject: [tex-live] [MetaPost] truncated map file
Message-ID: <200705070538.l475cYJb028256@jupiter.fsci.fuk.kindai.ac.jp>

>>> > (prologue.mp{dftex_dl14.map} [1] )
>>> > 1 output file written: prologue.1
>>> > Transcript written on prologue.log.
>> 
>> I can observe the bug with MetaPost v0.994 and v1.000 on Windows (MiKTeX).
>> 
>> Best regards,
>> Stephan Hennig

> fontmapfile "pdftex_dl14.map";
> beginfig(1);
>   label(btex A text etex, origin);
> endfig;
> end

The next is the output of Web2C-W32-MetaPost (almost the
same as TeXLive MetaPost except for the version):

This is MetaPost, Version 1.000 (Web2C 7.5.6)
(prologue.mp{c:/usr/local/share/texmf/fonts/map/pdftex/updmap/pdftex_dl14.map}
[1] )
1 output file written: prologue.1
Transcript written on prologue.log.



The map file name is printed in full path.

Thanks,
Akira

From eggert at CS.UCLA.EDU  Mon May  7 08:11:32 2007
From: eggert at CS.UCLA.EDU (Paul Eggert)
Date: Sun, 06 May 2007 23:11:32 -0700
Subject: [tex-live] man pages for pdftools, dvips,
	etc. use unportable troff syntax
Message-ID: <E1HkwRY-0000JC-4N@penguin.cs.ucla.edu>

Formatting the TeX Live 2007 man pages on Solaris 10 yields the
following diagnostics (using groff 1.19.2 in nroff compatibility mode;
there's a similar problem with Solaris 10 nroff):

/r/share1/man/./man1/pdftools.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/dvipos.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/texmfstart.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/pstopdf.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/texfont.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/fdf2tex.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/otftotfm.1:10: error: end of file while defining macro `BU'
/r/share1/man/./man1/texexec.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/lacheck.1:67: warning [p 2, 2.7i]: cannot adjust line
/r/share1/man/./man1/textools.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/ctxtools.1:1: error: end of file while defining macro `UR'
/r/share1/man/./man1/texfind.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/makempy.1:2: error: end of file while defining macro `UR'
/r/share1/man/./man1/mptopdf.1:2: error: end of file while defining macro `UR'

The problem is the following macro definition:

  .de URL
  \\$2 \(laURL: \\$1 \(ra\\$3
  ..

Traditional troff had only 2-character macros, so this is parsed as:

  .de UR L
  \\$2 \(laURL: \\$1 \(ra\\$3
  ..

which means "this macro doesn't finish until you see a '.L' line."

The obvious fix is to shorten the macro name to "UR", or perhaps (to
avoid name clashes in -man) "Ur".

From eggert at CS.UCLA.EDU  Mon May  7 08:06:16 2007
From: eggert at CS.UCLA.EDU (Paul Eggert)
Date: Sun, 06 May 2007 23:06:16 -0700
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
Message-ID: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>

This is a problem with TeX Live 2007 on Solaris 10 sparc.

I found two problems with xetex and xdvipdfmx.  First, they seem to
assume that /usr/sfw/lib is in the standard runtime library path, but
this isn't true on a default Solaris 10 installation.  Second, they
link to libiconv.so.2, but that's not installed on our departmental
Solaris 10 servers.

A simple solution (which is what I did) is to not install xetex and
xdvipdfmx.  Another possibility would be to ship the libraries in
question, as part of TeX Live.

Here are the symptoms of the problem:

484-whale $ pwd
/r/share1/src/texlive2007-live-20070212
485-whale $ ldd bin/sparc-solaris/xetex bin/sparc-solaris/xdvipdfmx 
bin/sparc-solaris/xetex:
	libsocket.so.1 =>	 /lib/libsocket.so.1
	libfontconfig.so.1 =>	 /usr/lib/libfontconfig.so.1
	libiconv.so.2 =>	 (file not found)
	libfreetype.so.6 =>	 (file not found)
	libz.so =>	 /usr/lib/libz.so
	libexpat.so.0 =>	 (file not found)
	libm.so.1 =>	 /lib/libm.so.1
	libpthread.so.1 =>	 /lib/libpthread.so.1
	libCstd.so.1 =>	 /usr/lib/libCstd.so.1
	libCrun.so.1 =>	 /usr/lib/libCrun.so.1
	libc.so.1 =>	 /lib/libc.so.1
	libnsl.so.1 =>	 /lib/libnsl.so.1
	libfreetype.so.6 =>	 /usr/sfw/lib/libfreetype.so.6
	libexpat.so.0 =>	 /usr/sfw/lib/libexpat.so.0
	libmp.so.2 =>	 /lib/libmp.so.2
	libmd5.so.1 =>	 /lib/libmd5.so.1
	libscf.so.1 =>	 /lib/libscf.so.1
	libdoor.so.1 =>	 /lib/libdoor.so.1
	libuutil.so.1 =>	 /lib/libuutil.so.1
	libm.so.2 =>	 /lib/libm.so.2
	/usr/lib/cpu/sparcv8plus/libCstd_isa.so.1
	/platform/SUNW,Sun-Fire-T1000/lib/libc_psr.so.1
bin/sparc-solaris/xdvipdfmx:
	libm.so.1 =>	 /lib/libm.so.1
	libfontconfig.so.1 =>	 /usr/lib/libfontconfig.so.1
	libiconv.so.2 =>	 (file not found)
	libfreetype.so.6 =>	 (file not found)
	libz.so =>	 /usr/lib/libz.so
	libexpat.so.0 =>	 (file not found)
	libc.so.1 =>	 /lib/libc.so.1
	libfreetype.so.6 =>	 /usr/sfw/lib/libfreetype.so.6
	libexpat.so.0 =>	 /usr/sfw/lib/libexpat.so.0
	libm.so.2 =>	 /lib/libm.so.2
	/platform/SUNW,Sun-Fire-T1000/lib/libc_psr.so.1
486-whale $ grep -E '(libfreetype.so|libiconv.so|libexpat.so)' /var/sadm/install/contents
/usr/apache2/lib/libexpat.so=libexpat.so.0.1.0 s none SUNWapch2u
/usr/apache2/lib/libexpat.so.0=libexpat.so.0.1.0 s none SUNWapch2u
/usr/apache2/lib/libexpat.so.0.1.0 f none 0555 root bin 148840 54735 1174419216 SUNWapch2u
/usr/sfw/lib/libexpat.so=libexpat.so.0.5.0 s none SUNWlexpt
/usr/sfw/lib/libexpat.so.0=libexpat.so.0.5.0 s none SUNWlexpt
/usr/sfw/lib/libexpat.so.0.5.0 f none 0555 root bin 307540 29980 1106444918 SUNWlexpt
/usr/sfw/lib/libfreetype.so=libfreetype.so.6 s none SUNWfreetype2
/usr/sfw/lib/libfreetype.so.6 f none 0755 root bin 771116 21189 1158170646 SUNWfreetype2
/usr/sfw/lib/libfreetype.so.6.3.7=libfreetype.so.6 s none SUNWfreetype2
/usr/sfw/lib/sparcv9/libexpat.so=libexpat.so.0.5.0 s none SUNWlexpt
/usr/sfw/lib/sparcv9/libexpat.so.0=libexpat.so.0.5.0 s none SUNWlexpt
/usr/sfw/lib/sparcv9/libexpat.so.0.5.0 f none 0555 root bin 248048 29593 1106444919 SUNWlexpt
/usr/sfw/lib/sparcv9/libfreetype.so=libfreetype.so.6 s none SUNWfreetype2
/usr/sfw/lib/sparcv9/libfreetype.so.6 f none 0755 root bin 846864 65326 1158170646 SUNWfreetype2
/usr/sfw/lib/sparcv9/libfreetype.so.6.3.7=libfreetype.so.6 s none SUNWfreetype2
/usr/staroffice7/program/libfreetype.so.6 f none 0444 root other 726108 43217 1154547262 SUNWsom

From frank at kuesterei.ch  Mon May  7 09:03:09 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 07 May 2007 09:03:09 +0200
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu> (Paul Eggert's message of
	"Sun\, 06 May 2007 23\:06\:16 -0700")
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
Message-ID: <87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>

Paul Eggert <eggert at CS.UCLA.EDU> wrote:

> bin/sparc-solaris/xetex:
> 	libfreetype.so.6 =>	 (file not found)
[...]
> 	libfreetype.so.6 =>	 /usr/sfw/lib/libfreetype.so.6

Hm, this looks strange, why is it listed twice?

And shouldn't libraries like freetype and expat be linked statically?  I
recall that libfontconfig uses dynamic linking because only the system
library is able to actually use locally registered fonts, but for those
two I don't see the reason.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From wl at gnu.org  Mon May  7 09:08:41 2007
From: wl at gnu.org (Werner LEMBERG)
Date: Mon, 07 May 2007 09:08:41 +0200 (CEST)
Subject: [tex-live] man pages for pdftools, dvips,
 etc. use unportable troff syntax
In-Reply-To: <E1HkwRY-0000JC-4N@penguin.cs.ucla.edu>
References: <E1HkwRY-0000JC-4N@penguin.cs.ucla.edu>
Message-ID: <20070507.090841.121232266.wl@gnu.org>


> The problem is the following macro definition:
> 
>   .de URL
>   \\$2 \(laURL: \\$1 \(ra\\$3
>   ..
> 
> Traditional troff had only 2-character macros, so this is parsed as:
> 
>   .de UR L
>   \\$2 \(laURL: \\$1 \(ra\\$3
>   ..
> 
> which means "this macro doesn't finish until you see a '.L' line."
> 
> The obvious fix is to shorten the macro name to "UR", or perhaps (to
> avoid name clashes in -man) "Ur".

The next groff version will have this fixed, using .UR and .UE to
start and end an URL, respectively.


    Werner

From vvv at vsu.ru  Mon May  7 09:36:15 2007
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon, 07 May 2007 00:36:15 -0700
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch> (Frank
	=?iso-8859-1?Q?K=FCster's?=
	message of "Mon, 07 May 2007 09:03:09 +0200")
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
	<87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <87bqgx3x1s.fsf@external.prs-office.com>

"PE" == Paul Eggert writes:

 PE> This is a problem with TeX Live 2007 on Solaris 10 sparc.  I
 PE> found two problems with xetex and xdvipdfmx.  First, they seem to
 PE> assume that /usr/sfw/lib is in the standard runtime library path,
 PE> but this isn't true on a default Solaris 10 installation.

as far as i remember (i've built the TeX Live solaris sparc binaries),
the path /usr/sfw/lib is "included" into the binaries and you don't
need to configure the dynamic loader, i.e. it is enough if the
libraries will be present in that location.

i've put the following note in the README in the source tarball:

  xe(la)tex and xdvipdfmx depend on fontconfig.
  Because Solaris 8 does not include fontconfig, we used fontconfig
  package (version 2.3.2) from http://www.blastwave.org/
  (together with it's dependencies)

i've built the binaries on Solaris 8 for better compatibility
(e.g. had i built on Solaris 10, there were problems with libm.so when
run on older Solaris versions).

 PE> Second, they link to libiconv.so.2, but that's not installed on
 PE> our departmental Solaris 10 servers.

it is strange that you do have /usr/lib/libfontconfig.so.1 but at the
same time don't have libiconv.so.2, libfreetype.so.6 and libexpat.so.0
because these libraries are used by libfontconfig.so.1

what do you get when you run

ldd /usr/lib/libfontconfig.so.1

if you get the same problem with missing libiconv.so.2 etc, then your
installation is not complete or the dependencies are not met.

these libraries should be provided by solaris 10, if it ships
fontconfig.

 PE> A simple solution (which is what I did) is to not install xetex
 PE> and xdvipdfmx.  Another possibility would be to ship the
 PE> libraries in question, as part of TeX Live.

"fant" == Frank K?ster writes:

 fant> Paul Eggert <eggert at CS.UCLA.EDU> wrote:
 >> bin/sparc-solaris/xetex: libfreetype.so.6 => (file not found)
 fant> [...]
 >> libfreetype.so.6 => /usr/sfw/lib/libfreetype.so.6

 fant> Hm, this looks strange, why is it listed twice?

probably because of dependency on freetype by system fontconfig
library and by xetex itself.

Best,
v.


From martin at oneiros.de  Mon May  7 11:14:52 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Mon, 7 May 2007 11:14:52 +0200
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
	<68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
	<a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>
Message-ID: <68c491a60705070214u15677cc6k3c6db6196e6d6d39@mail.gmail.com>

2007/5/7, Edd Barrett <vext01 at gmail.com>:
> Just so I understand this,
>
> xetex is a unicode supported version of latex with some extra font bits also?

s/latex/tex/

And it does OpenType. And it needs some big libraries (freetype,
fontconfig, ...), which makes porting of it difficult.

Best
   Martin

From dak at gnu.org  Mon May  7 11:30:14 2007
From: dak at gnu.org (David Kastrup)
Date: Mon, 07 May 2007 11:30:14 +0200
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <68c491a60705070214u15677cc6k3c6db6196e6d6d39@mail.gmail.com>
	(Martin =?iso-8859-1?Q?Schr=F6der's?= message of "Mon\, 7 May 2007
	11\:14\:52 +0200")
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
	<68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
	<a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>
	<68c491a60705070214u15677cc6k3c6db6196e6d6d39@mail.gmail.com>
Message-ID: <86fy69yo9l.fsf@lola.quinscape.zz>

"Martin Schr?der" <martin at oneiros.de> writes:

> 2007/5/7, Edd Barrett <vext01 at gmail.com>:
>> Just so I understand this,
>>
>> xetex is a unicode supported version of latex with some extra font bits also?
>
> s/latex/tex/
>
> And it does OpenType. And it needs some big libraries (freetype,
> fontconfig, ...), which makes porting of it difficult.

Probably the largest one would be ICU <URL:http://icu-project.org>.
As far as I have understood, XeTeX uses quite a few libraries to load
off tasks.  Those are large enough that one would not want to link
them statically, but of course using dynamic libraries takes away
consistent versioning: if the libraries change, so will the results.

It is a two-edged sword, but it certainly has enabled a single-person
project to come to a useful state rather fast.

And maintaining all that functionality on one's own could constitute
a) a resource hog for programmer work
b) a quality problem

But using the library could make for
a) in the case of upstream abandoning the library, a more severe
   maintenance problem.
b) licensing issues

In LuaTeX, a similar situation exists for the Lua interpreter.  Some
of the problems are catered by the LuaTeX team linking their own
version of the Lua interpreter (part of the SVN repository) statically
into the binary.

Lua is small enough to make separate maintenance and static linking
feasible.

For some of the libraries used in XeTeX, this might not be similarly
the case.

Conclusion, if any, left to the reader.

-- 
David Kastrup

From jonathan_kew at sil.org  Mon May  7 12:57:12 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Mon, 7 May 2007 11:57:12 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <86fy69yo9l.fsf@lola.quinscape.zz>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
	<68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
	<a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>
	<68c491a60705070214u15677cc6k3c6db6196e6d6d39@mail.gmail.com>
	<86fy69yo9l.fsf@lola.quinscape.zz>
Message-ID: <5CEC39A7-FFFC-458F-8246-C74120D2B1B9@sil.org>

On 7 May 2007, at 10:30 am, David Kastrup wrote:

>
> Probably the largest one would be ICU <URL:http://icu-project.org>.
> As far as I have understood, XeTeX uses quite a few libraries to load
> off tasks.  Those are large enough that one would not want to link
> them statically, but of course using dynamic libraries takes away
> consistent versioning: if the libraries change, so will the results.

Actually, xetex does link statically with most libraries in the  
default TL build; the only exception (besides standard C runtime  
stuff, I guess) is fontconfig, as it seems to be necessary to use the  
system's library in order to be sure of finding the proper font  
environment.

You can choose to link other libs (like zlib, freetype2, etc)  
dynamically, and I expect some packagers will do that, but the  
binaries included with TL2007 use static linking wherever possible,  
to minimize runtime dependencies.

In particular, ICU -- the real "biggie" -- can *not* currently be  
linked dynamically because xetex uses a slightly enhanced version of  
ICU Layout with support for some additional OpenType functionality  
that is not available in the standard library. This of course means  
that maintenance is a concern, but thanks to version control systems,  
it has not been a problem to merge a new ICU release with the xetex  
changes.

Eventually, I hope we'll be able to use a completely standard ICU  
library; the extensions xetex uses are things that will probably show  
up in the main release sooner or later, and I'll be happy to make  
adjustments as needed in my code to use ICU's implementation of the  
features when available. Although ICU is a big library, the interface  
between it and the rest of xetex is actually very narrow, and so  
maintaining or updating it is not a big issue.

JK


From vext01 at gmail.com  Mon May  7 14:43:04 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 7 May 2007 13:43:04 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <5CEC39A7-FFFC-458F-8246-C74120D2B1B9@sil.org>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
	<68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
	<a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>
	<68c491a60705070214u15677cc6k3c6db6196e6d6d39@mail.gmail.com>
	<86fy69yo9l.fsf@lola.quinscape.zz>
	<5CEC39A7-FFFC-458F-8246-C74120D2B1B9@sil.org>
Message-ID: <a6e8c1d0705070543t30eb7349k319762158e0de04a@mail.gmail.com>

Hi,

On 5/7/07, Jonathan Kew <jonathan_kew at sil.org> wrote:
> In particular, ICU -- the real "biggie" -- can *not* currently be
> linked dynamically because xetex uses a slightly enhanced version of
> ICU Layout with support for some additional OpenType functionality
> that is not available in the standard library. This of course means
> that maintenance is a concern, but thanks to version control systems,
> it has not been a problem to merge a new ICU release with the xetex
> changes.

Ah, I should communicate with the guy porting ICU for me. Woops.
Thanks for that.

Here is the output when I comment xetex and xelatex from fmtutil.conf

###############################################################################
fmtutil: Error! Not all formats have been built successfully.
Visit the log files in directory
  /usr/ports/print/texlive/base/w-texlive_base-2007/fake-sparc64/var/web2c
for details.
###############################################################################

This is a summary of all `failed' messages and warnings:
`pdftex -ini  -jobname=mllatex -progname=mllatex
-translate-file=cp227.tcx -mltex mllatex.ini' failed
gmake: *** [install] Error 1

Full transcript here:
http://students.dec.bmth.ac.uk/ebarrett/texlive/LOG2-wo-xetex

This is of interest:

/texmf/tex/generic/hyphen/pthyph.tex portuguese hiphenation 8 bits and
-)systrace: intercept_get_string: ioctl: Invalid argument
pdftex: /usr/ports/print/texlive/base/w-texlive_base-2007/fake-sparc64/usr/local/share/texmf-dist/tex/generic/xu-hyphen/xu-pyhyph.tex:
Operation not permitted
Error: `pdftex -ini  -jobname=mllatex -progname=mllatex
-translate-file=cp227.tcx -mltex mllatex.ini' failed

It seems systrace has cut this short. I'm not familiar with this
report from systrace, so I may have to contact the OpenBSD guys about
this one (unless you have an idea?)


-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From vext01 at gmail.com  Mon May  7 16:37:36 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 7 May 2007 15:37:36 +0100
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <a6e8c1d0705070543t30eb7349k319762158e0de04a@mail.gmail.com>
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
	<68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
	<a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>
	<68c491a60705070214u15677cc6k3c6db6196e6d6d39@mail.gmail.com>
	<86fy69yo9l.fsf@lola.quinscape.zz>
	<5CEC39A7-FFFC-458F-8246-C74120D2B1B9@sil.org>
	<a6e8c1d0705070543t30eb7349k319762158e0de04a@mail.gmail.com>
Message-ID: <a6e8c1d0705070737o4db220cfy157b2ab8cec3581c@mail.gmail.com>

Hi again,

On 5/7/07, Edd Barrett <vext01 at gmail.com> wrote:
> It seems systrace has cut this short. I'm not familiar with this
> report from systrace, so I may have to contact the OpenBSD guys about
> this one (unless you have an idea?)

This error is not consistent, which explains the erratic behavior. I
have reported it to the OpenBSD guys.

The good news is that sometimes systrace doesnt but in, and when this
happens we have a working texlive distribution! (minus xelatex for
now, but perhaps this will be fixed along with systrace?).

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From eggert at CS.UCLA.EDU  Mon May  7 20:16:20 2007
From: eggert at CS.UCLA.EDU (Paul Eggert)
Date: Mon, 07 May 2007 11:16:20 -0700
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <87bqgx3x1s.fsf@external.prs-office.com> (Vladimir Volovich's
	message of "Mon, 07 May 2007 00:36:15 -0700")
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
	<87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>
	<87bqgx3x1s.fsf@external.prs-office.com>
Message-ID: <876474o5xn.fsf@penguin.cs.ucla.edu>

Vladimir Volovich <vvv at vsu.ru> writes:

> "PE" == Paul Eggert writes:
>
>  PE> This is a problem with TeX Live 2007 on Solaris 10 sparc.  I
>  PE> found two problems with xetex and xdvipdfmx.  First, they seem to
>  PE> assume that /usr/sfw/lib is in the standard runtime library path,
>  PE> but this isn't true on a default Solaris 10 installation.
>
> as far as i remember (i've built the TeX Live solaris sparc binaries),
> the path /usr/sfw/lib is "included" into the binaries and you don't
> need to configure the dynamic loader, i.e. it is enough if the
> libraries will be present in that location.

It sounds like you used the -L /usr/sfw/lib option, which causes the
compile-time linker to know about that directory; but you did not also
use the -R /usr/sfw/lib option, which causes the run-time linker to
know about it.  On Solaris, you need to use both options.

Or, it's possible you set LD_LIBRARY_PATH when compiling, without also
setting LD_RUN_PATH.  Same thing.

>   xe(la)tex and xdvipdfmx depend on fontconfig.
>   Because Solaris 8 does not include fontconfig, we used fontconfig
>   package (version 2.3.2) from http://www.blastwave.org/
>   (together with it's dependencies)
>
> i've built the binaries on Solaris 8 for better compatibility

Yes, that makes sense.  But in that case don't you need to include the
necessary (non-Solaris-8) libraries in the TeX Live distribution?  Or
do you expect installers to have downloaded some 3rd-party stuff
before installing TeX Live?  If so, this should be clarified.

It'd be nice if the installation could cater to Solaris-10 libraries
if available but I would understand it if that's too much work....

>  PE> Second, they link to libiconv.so.2, but that's not installed on
>  PE> our departmental Solaris 10 servers.
>
> it is strange that you do have /usr/lib/libfontconfig.so.1 but at the
> same time don't have libiconv.so.2, libfreetype.so.6 and libexpat.so.0
> because these libraries are used by libfontconfig.so.1

Actually, Solaris 10 does have /usr/sfw/lib/libfreetype.so.6 (actually
6.3.7) and /usr/sfw/lib/libexpat.so.0.5.0.  However, Sun has its own
implementation of iconv (in the standard C library) and I suspect
that's what they use.

> ldd /usr/lib/libfontconfig.so.1

Here's what I get:

        libfreetype.so.6 =>      /usr/sfw/lib/libfreetype.so.6
        libz.so.1 =>     /usr/lib/libz.so.1
        libexpat.so.0 =>         /usr/sfw/lib/libexpat.so.0
        libc.so.1 =>     /lib/libc.so.1
        libm.so.2 =>     /lib/libm.so.2
        /platform/SUNW,Sun-Fire-T1000/lib/libc_psr.so.1


> if you get the same problem with missing libiconv.so.2 etc, then your
> installation is not complete

No, it appears to be complete on Solaris 10, as the iconv function is
in libc.

From mailing_list at arcor.de  Mon May  7 19:16:26 2007
From: mailing_list at arcor.de (Stephan Hennig)
Date: Mon, 07 May 2007 19:16:26 +0200
Subject: [tex-live] [MetaPost] truncated map file
In-Reply-To: <200705070538.l475cYJb028256@jupiter.fsci.fuk.kindai.ac.jp>
References: <200705070538.l475cYJb028256@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <463F5EEA.1020402@arcor.de>

Akira Kakuto schrieb:

> The next is the output of Web2C-W32-MetaPost (almost the
> same as TeXLive MetaPost except for the version):
> 
> This is MetaPost, Version 1.000 (Web2C 7.5.6)
> (prologue.mp{c:/usr/local/share/texmf/fonts/map/pdftex/updmap/pdftex_dl14.map}
> [1] )
> 1 output file written: prologue.1
> Transcript written on prologue.log.
> 
> 
> 
> The map file name is printed in full path.

Interesting, the whole path is missing with MiKTeX.  I'll report this to
Christian Schenk.  Thanks for the test!

Best regards,
Stephan Hennig


From mojca.miklavec.lists at gmail.com  Mon May  7 22:09:37 2007
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 7 May 2007 22:09:37 +0200
Subject: [tex-live] [MetaPost] truncated map file
In-Reply-To: <463F5EEA.1020402@arcor.de>
References: <200705070538.l475cYJb028256@jupiter.fsci.fuk.kindai.ac.jp>
	<463F5EEA.1020402@arcor.de>
Message-ID: <6faad9f00705071309j1621945t1fea74d8b7eab4ef@mail.gmail.com>

With the example you posted and using mptopdf (because mpost alone
doesn't work here) I get:

mojca [21:54] /tmp> mptopdf a
This is pdfTeX, Version 3.141592-1.40.1 (Web2C 7.5.6)
 \write18 enabled.
entering extended mode
[MP to PDF] (./a.1

pdfTeX warning: pdftex (file pdftex.map): cannot open font map file
) [warning: the width is less than 1in] [warning: the height is less than 1in]
[1]

pdfTeX warning: pdftex (file cmr10): Font cmr10 at 72 not found
Output written on a.pdf (1 page, 1393 bytes).
Transcript written on a.log.

MPtoPDF 1.3.3 : a.* is converted to a-1.pdf

(mpost alone is not working since I have no format for it and didn't
bother installing it yet - using standalone ConTeXt distribution on
Mac, MetaPost 0.993)


With gwTeX I get:

mojca [21:58] /tmp> mptopdf a
This is pdfTeX, Version 3.141592-1.40.3 (Web2C 7.5.6)
 \write18 enabled.
entering extended mode
[MP to PDF] (./a.1{/usr/local/gwTeX/texmf.local/fonts/map/pdftex/updmap/pdftex.
map}) [warning: the width is less than 1in]
[warning: the height is less than 1in] [1]</usr/local/gwTeX/texmf.texlive/fonts
/type1/bluesky/cm/cmr10.pfb>
Output written on a.pdf (1 page, 4385 bytes).
Transcript written on a.log.

MPtoPDF 1.3.3 : a.* is converted to a-1.pdf
mojca [21:58] /tmp>

-----

With standalone ConTeXt & -mem=metafun option I get

mojca [21:58] /tmp> mpost -mem=metafun a
This is MetaPost, Version 0.993 (Web2C 7.5.6)
(a.mp
Warning: module writet1 (file pdftex_dl14.map): cannot open font map file
TeXExec | processing graphic 'a.mp'
TeXExec | using internal mptotex converter
TeXExec | processing document 'a-temp.tex'
TeXExec | no ctx file found

etc.

Apparently it's not only MikTeX's problem. Just in case that logs help
you ... I don't understand very well what's going on behind the
scenes.

Mojca

From vvv at vsu.ru  Mon May  7 22:45:45 2007
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon, 07 May 2007 13:45:45 -0700
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <876474o5xn.fsf@penguin.cs.ucla.edu> (Paul Eggert's message of
	"Mon, 07 May 2007 11:16:20 -0700")
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
	<87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>
	<87bqgx3x1s.fsf@external.prs-office.com>
	<876474o5xn.fsf@penguin.cs.ucla.edu>
Message-ID: <87ps5c1hxi.fsf@external.prs-office.com>

"PE" == Paul Eggert writes:

 >> as far as i remember (i've built the TeX Live solaris sparc
 >> binaries), the path /usr/sfw/lib is "included" into the binaries
 >> and you don't need to configure the dynamic loader, i.e. it is
 >> enough if the libraries will be present in that location.

 PE> It sounds like you used the -L /usr/sfw/lib option, which causes
 PE> the compile-time linker to know about that directory; but you did
 PE> not also use the -R /usr/sfw/lib option, which causes the
 PE> run-time linker to know about it.  On Solaris, you need to use
 PE> both options.

i grepped my build log, and i see that -R was in fact used. here are
the link commands:

CC -o xetex xetexini.o xetex0.o xetex1.o xetex2.o xetexextra.o trans.o XeTeX_ext.o XeTeXFontMgr_FC.o mfileio.o numbers.o pdfimage.o bmpimage.o jpegimage.o pngimage.o XeTeX_pic.o XeTeXFontMgr.o XeTeXLayoutInterface.o XeTeXOTLayoutEngine.o XeTeXFontInst.o cmaps.o FontTableCache.o XeTeXOTMath.o XeTeXFontInst_FT2.o -D_REENTRANT  -L/opt/csw/lib -lsocket ../../libs/icu-xetex/lib/libsicuuc.a ../../libs/icu-xetex/lib/libsicule.a ../../libs/icu-xetex/lib/libsicudata.a ../../libs/teckit/lib/.libs/libTECkit.a ../../libs/freetype2/.libs/libfreetype.a ../../libs/zlib/libz.a ../../libs/xpdf/xpdf/libxpdf.a ../../libs/xpdf/goo/libGoo.a ../../libs/xpdf/fofi/libfofi.a ../../libs/libpng/libpng.a /opt/csw/lib/libfontconfig.so /opt/csw/lib/libiconv.so /opt/csw/lib/libfreetype.so -lz /opt/csw/lib/libexpat.so lib/lib.a ../kpathsea/.libs/libkpathsea.a -lm -lpthread -R/opt/csw/lib -R/opt/csw/lib

cc -xarch=v8 -O -o xdvipdfmx xdvipdfmx-agl.o xdvipdfmx-agl_standard.o xdvipdfmx-bmpimage.o xdvipdfmx-cff.o xdvipdfmx-cff_dict.o xdvipdfmx-cid.o xdvipdfmx-cidtype0.o xdvipdfmx-cidtype2.o xdvipdfmx-cmap.o xdvipdfmx-cmap_read.o xdvipdfmx-cmap_write.o xdvipdfmx-cs_type2.o xdvipdfmx-dpxconf.o xdvipdfmx-dpxcrypt.o xdvipdfmx-dpxfile.o xdvipdfmx-dpxutil.o xdvipdfmx-dvi.o xdvipdfmx-dvipdfmx.o xdvipdfmx-epdf.o xdvipdfmx-error.o xdvipdfmx-fontmap.o xdvipdfmx-jpegimage.o xdvipdfmx-mem.o xdvipdfmx-mfileio.o xdvipdfmx-mpost.o xdvipdfmx-numbers.o xdvipdfmx-otl_conf.o xdvipdfmx-otl_opt.o xdvipdfmx-pdfcolor.o xdvipdfmx-pdfdev.o xdvipdfmx-pdfdoc.o xdvipdfmx-pdfdraw.o xdvipdfmx-pdfencoding.o xdvipdfmx-pdfencrypt.o xdvipdfmx-pdffont.o xdvipdfmx-pdfnames.o xdvipdfmx-pdfobj.o xdvipdfmx-pdfparse.o xdvipdfmx-pdfresource.o xdvipdfmx-pdfximage.o xdvipdfmx-pkfont.o xdvipdfmx-pngimage.o xdvipdfmx-pst.o xdvipdfmx-pst_obj.o xdvipdfmx-sfnt.o xdvipdfmx-spc_color.o xdvipdfmx-spc_dvips.o xdvipdfmx-spc_html.o xdvipdfmx-spc_misc.o xdvipdfmx-spc_pdfm.o xdvipdfmx-spc_tpic.o xdvipdfmx-spc_util.o xdvipdfmx-spc_xtx.o xdvipdfmx-specials.o xdvipdfmx-subfont.o xdvipdfmx-tfm.o xdvipdfmx-tt_aux.o xdvipdfmx-tt_cmap.o xdvipdfmx-tt_glyf.o xdvipdfmx-tt_gsub.o xdvipdfmx-tt_post.o xdvipdfmx-tt_table.o xdvipdfmx-truetype.o xdvipdfmx-type0.o xdvipdfmx-t1_char.o xdvipdfmx-t1_load.o xdvipdfmx-type1.o xdvipdfmx-type1c.o xdvipdfmx-unicode.o xdvipdfmx-vf.o  -L/opt/home/vvv/src/texlive/source/Work/texk/kpathsea/.libs -L/opt/csw/lib ../../../libs/libpng/libpng.a ../../../libs/zlib/libz.a ../../../libs/freetype2/.libs/libfreetype.a /opt/home/vvv/src/texlive/source/Work/texk/kpathsea/.libs/libkpathsea.a -lm /opt/csw/lib/libfontconfig.so /opt/csw/lib/libiconv.so /opt/csw/lib/libfreetype.so -lz /opt/csw/lib/libexpat.so -R/opt/csw/lib -R/opt/csw/lib

 >> i've built the binaries on Solaris 8 for better compatibility

 PE> Yes, that makes sense.  But in that case don't you need to
 PE> include the necessary (non-Solaris-8) libraries in the TeX Live
 PE> distribution?  Or do you expect installers to have downloaded
 PE> some 3rd-party stuff before installing TeX Live?  If so, this
 PE> should be clarified.

well, i thought it's easier to install fontconfig package (with its
dependencies) from blastwave, because the packages depend on Solaris
version, and for example, fontconfig is included in the standard
Solaris 10 distribution from Sun.

 >> it is strange that you do have /usr/lib/libfontconfig.so.1 but at
 >> the same time don't have libiconv.so.2, libfreetype.so.6 and
 >> libexpat.so.0 because these libraries are used by
 >> libfontconfig.so.1

 PE> Actually, Solaris 10 does have /usr/sfw/lib/libfreetype.so.6
 PE> (actually 6.3.7) and /usr/sfw/lib/libexpat.so.0.5.0.

it's interesting that SUNW packages are using this prefix /usr/sfw/lib.

i can't check now, but probably there are these duplicated
dependencies on libfreetype (one of which is found and one of them is
not found) because libfreetype is linked by xetex itself and by
libfontconfig.

it would be interesting to know how to make it more portable for the
future build.

Best,
v.


From kakuto at fsci.fuk.kindai.ac.jp  Mon May  7 22:59:29 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue, 08 May 2007 05:59:29 +0900
Subject: [tex-live] [MetaPost] truncated map file
In-Reply-To: Your message of "Mon, 7 May 2007 22:09:37 +0200"
References: <6faad9f00705071309j1621945t1fea74d8b7eab4ef@mail.gmail.com>
Message-ID: <200705072059.l47KxVGg001630@jupiter.fsci.fuk.kindai.ac.jp>

Hi Mojca,

> (mpost alone is not working since I have no format for it and didn't
> bother installing it yet - using standalone ConTeXt distribution on
> Mac, MetaPost 0.993)

You can test
metafun a

Thanks,
Akira

From mailing_list at arcor.de  Mon May  7 23:04:09 2007
From: mailing_list at arcor.de (Stephan Hennig)
Date: Mon, 07 May 2007 23:04:09 +0200
Subject: [tex-live] [MetaPost] truncated map file
In-Reply-To: <6faad9f00705071309j1621945t1fea74d8b7eab4ef@mail.gmail.com>
References: <200705070538.l475cYJb028256@jupiter.fsci.fuk.kindai.ac.jp>	<463F5EEA.1020402@arcor.de>
	<6faad9f00705071309j1621945t1fea74d8b7eab4ef@mail.gmail.com>
Message-ID: <f1o4th$v4c$1@sea.gmane.org>

Mojca Miklavec schrieb:
> With the example you posted and using mptopdf (because mpost alone
> doesn't work here) I get:
> 
> mojca [21:54] /tmp> mptopdf a
> This is pdfTeX, Version 3.141592-1.40.1 (Web2C 7.5.6)
>  \write18 enabled.
> entering extended mode
> [MP to PDF] (./a.1
> 
> pdfTeX warning: pdftex (file pdftex.map): cannot open font map file

I think the wrong map file was given here.  By default, MetaPost
searches for mpost.map.  If that fails as an exclusive TeXLive support
it looks for pdftex.map as a fall back.  Unfortunately, I have no idea
what's the correct name in your set-up.  Could you please post the
console output with the correct map file?


> With gwTeX I get:
> 
> [MP to PDF] (./a.1{/usr/local/gwTeX/texmf.local/fonts/map/pdftex/updmap/pdftex.
> map}) [warning: the width is less than 1in]

Thanks!  I'm quite sure now there's a bug in the MiKTeX sources.


> With standalone ConTeXt & -mem=metafun option I get
> 
> mojca [21:58] /tmp> mpost -mem=metafun a
> This is MetaPost, Version 0.993 (Web2C 7.5.6)
> (a.mp
> Warning: module writet1 (file pdftex_dl14.map): cannot open font map file

Again the map file could not be found.  For the sake of completeness,
could you please re-check with the correct map file?

Best regards,
Stephan Hennig


From dak at gnu.org  Mon May  7 19:15:12 2007
From: dak at gnu.org (David Kastrup)
Date: Mon, 07 May 2007 19:15:12 +0200
Subject: [tex-live] fmtutil-sys not playing nice. (OpenBSD-sparc64)
In-Reply-To: <5CEC39A7-FFFC-458F-8246-C74120D2B1B9@sil.org> (Jonathan Kew's
	message of "Mon\, 7 May 2007 11\:57\:12 +0100")
References: <a6e8c1d0705051359o5f701511m41f354ad27005221@mail.gmail.com>
	<200705052126.l45LQnb17025@f7.net>
	<a6e8c1d0705051439w1acebf96sd2b896e05013014a@mail.gmail.com>
	<a6e8c1d0705060958ka378fe5nb8c0110fcb38dc25@mail.gmail.com>
	<68c491a60705061011t31128406q539955a7249d4657@mail.gmail.com>
	<a6e8c1d0705061059k51d51038vf41c1cc295c1cb7f@mail.gmail.com>
	<68c491a60705061104v14e01db8vb29aa8ed29b2b260@mail.gmail.com>
	<a6e8c1d0705061158q58b970e3ucd1f65660651437a@mail.gmail.com>
	<68c491a60705061407t1283ff5cgd63bd653ca50f80@mail.gmail.com>
	<a6e8c1d0705061944j554648bbs9fd5cbe15adab7a6@mail.gmail.com>
	<68c491a60705070214u15677cc6k3c6db6196e6d6d39@mail.gmail.com>
	<86fy69yo9l.fsf@lola.quinscape.zz>
	<5CEC39A7-FFFC-458F-8246-C74120D2B1B9@sil.org>
Message-ID: <85irb4pnbz.fsf@lola.goethe.zz>

Jonathan Kew <jonathan_kew at sil.org> writes:

> On 7 May 2007, at 10:30 am, David Kastrup wrote:
>
>> Probably the largest one would be ICU <URL:http://icu-project.org>.
>> As far as I have understood [...]

> Actually, xetex does link statically with most libraries in the
> default TL build; the only exception (besides standard C runtime
> stuff, I guess) is fontconfig, as it seems to be necessary to use
> the system's library in order to be sure of finding the proper font
> environment.  [...]

Thanks for filling in the missing information and guesswork.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From eggert at CS.UCLA.EDU  Tue May  8 07:39:14 2007
From: eggert at CS.UCLA.EDU (Paul Eggert)
Date: Mon, 07 May 2007 22:39:14 -0700
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <87ps5c1hxi.fsf@external.prs-office.com> (Vladimir Volovich's
	message of "Mon, 07 May 2007 13:45:45 -0700")
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
	<87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>
	<87bqgx3x1s.fsf@external.prs-office.com>
	<876474o5xn.fsf@penguin.cs.ucla.edu>
	<87ps5c1hxi.fsf@external.prs-office.com>
Message-ID: <877irjub5p.fsf@penguin.cs.ucla.edu>

Vladimir Volovich <vvv at vsu.ru> writes:

> i grepped my build log, and i see that -R was in fact used.

Yes, but the build used -L/opt/csw/lib -R/opt/csw/lib.  This requires
that the relevant libraries be installed in one particular place,
namely /opt/csw/lib.  Was that the intent?  If so, this needs to be
documented, as it is not a standard location in Solaris 8 or 10.  But
ideally, the installation procedure should does not require 3rd-party
libraries to be installed in a nonstandard root-only location.  It'd
be better if TeX Live "just worked".

> well, i thought it's easier to install fontconfig package (with its
> dependencies) from blastwave, because the packages depend on Solaris
> version, and for example, fontconfig is included in the standard
> Solaris 10 distribution from Sun.

It sounds like that for TeX Live to work, blastwave-supplied libraries
for Solaris 8 must be installed into /opt/csw/lib.  I don't have root
privileges for the host in question so this isn't a simple option for
me.  Can the blastwave-supplied libs be distributed as part of TeX
Live?  That should solve the problem portably on all Solaris 8 sparc
hosts (Solaris 8 or newer), though it may not work as well as using
Solaris 10-supplied libraries when on Solaris 10.

> i can't check now, but probably there are these duplicated
> dependencies on libfreetype (one of which is found and one of them is
> not found) because libfreetype is linked by xetex itself and by
> libfontconfig.

Yes, that's it.  "ldd -v" confirms this:

$ ldd -v bin/sparc-solaris/xetex
   find object=libsocket.so.1; required by bin/sparc-solaris/xetex
	libsocket.so.1 =>	 /lib/libsocket.so.1
   find version=libsocket.so.1
	libsocket.so.1 (SISCD_2.3) =>	 /lib/libsocket.so.1

   find object=libfontconfig.so.1; required by bin/sparc-solaris/xetex
	libfontconfig.so.1 =>	 /usr/lib/libfontconfig.so.1

   find object=libiconv.so.2; required by bin/sparc-solaris/xetex
	libiconv.so.2 =>	 (file not found)

   find object=libfreetype.so.6; required by bin/sparc-solaris/xetex
	libfreetype.so.6 =>	 (file not found)

   find object=libz.so; required by bin/sparc-solaris/xetex
	libz.so =>	 /usr/lib/libz.so

   find object=libexpat.so.0; required by bin/sparc-solaris/xetex
	libexpat.so.0 =>	 (file not found)

   find object=libm.so.1; required by bin/sparc-solaris/xetex
	libm.so.1 =>	 /lib/libm.so.1
   find version=libm.so.1
	libm.so.1 (SUNW_1.1) =>	 /lib/libm.so.1

   find object=libpthread.so.1; required by bin/sparc-solaris/xetex
	libpthread.so.1 =>	 /lib/libpthread.so.1
   find version=libpthread.so.1
	libpthread.so.1 (SUNW_0.9) =>	 /lib/libpthread.so.1

   find object=libCstd.so.1; required by bin/sparc-solaris/xetex
	libCstd.so.1 =>	 /usr/lib/libCstd.so.1
   find version=libCstd.so.1
	libCstd.so.1 (SUNW_1.1.1) =>	 /usr/lib/libCstd.so.1
	libCstd.so.1 (SUNW_1.2) =>	 /usr/lib/libCstd.so.1

   find object=libCrun.so.1; required by bin/sparc-solaris/xetex
	libCrun.so.1 =>	 /usr/lib/libCrun.so.1
   find version=libCrun.so.1
	libCrun.so.1 (SUNW_1.5) =>	 /usr/lib/libCrun.so.1

   find object=libc.so.1; required by bin/sparc-solaris/xetex
	libc.so.1 =>	 /lib/libc.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_0.7) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   find object=libnsl.so.1; required by /lib/libsocket.so.1
	libnsl.so.1 =>	 /lib/libnsl.so.1
   find version=libnsl.so.1
	libnsl.so.1 (SUNW_1.7) =>	 /lib/libnsl.so.1
	libnsl.so.1 (SUNWprivate_1.1) =>	 /lib/libnsl.so.1

   find object=libc.so.1; required by /lib/libsocket.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.19) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   find object=libfreetype.so.6; required by /usr/lib/libfontconfig.so.1
	libfreetype.so.6 =>	 /usr/sfw/lib/libfreetype.so.6

   find object=libz.so.1; required by /usr/lib/libfontconfig.so.1

   find object=libexpat.so.0; required by /usr/lib/libfontconfig.so.1
	libexpat.so.0 =>	 /usr/sfw/lib/libexpat.so.0

   find object=libc.so.1; required by /usr/lib/libfontconfig.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_0.7) =>	 /lib/libc.so.1

   find object=libc.so.1; required by /usr/lib/libz.so
   find version=libc.so.1
	libc.so.1 (SUNW_1.1) =>	 /lib/libc.so.1

   find object=libCrun.so.1; required by /usr/lib/libCstd.so.1
   find version=libCrun.so.1
	libCrun.so.1 (SUNW_1.5) =>	 /usr/lib/libCrun.so.1

   find object=libc.so.1; required by /usr/lib/libCstd.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.1) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   find object=libc.so.1; required by /usr/lib/libCrun.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.1) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   find object=libmp.so.2; required by /lib/libnsl.so.1
	libmp.so.2 =>	 /lib/libmp.so.2
   find version=libmp.so.2
	libmp.so.2 (SUNW_1.1) =>	 /lib/libmp.so.2
	libmp.so.2 (SUNWprivate_1.1) =>	 /lib/libmp.so.2

   find object=libmd5.so.1; required by /lib/libnsl.so.1
	libmd5.so.1 =>	 /lib/libmd5.so.1
   find version=libmd5.so.1
	libmd5.so.1 (SUNW_1.1) =>	 /lib/libmd5.so.1

   find object=libscf.so.1; required by /lib/libnsl.so.1
	libscf.so.1 =>	 /lib/libscf.so.1
   find version=libscf.so.1
	libscf.so.1 (SUNW_1.1) =>	 /lib/libscf.so.1

   find object=libc.so.1; required by /lib/libnsl.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.22.2) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   find object=libz.so.1; required by /usr/sfw/lib/libfreetype.so.6
   find version=libz.so.1
	libz.so.1 (SUNW_1.1) =>	 /usr/lib/libz.so

   find object=libc.so.1; required by /usr/sfw/lib/libfreetype.so.6
   find version=libc.so.1
	libc.so.1 (SISCD_2.3) =>	 /lib/libc.so.1

   find object=libc.so.1; required by /usr/sfw/lib/libexpat.so.0
   find version=libc.so.1
	libc.so.1 (SYSVABI_1.3) =>	 /lib/libc.so.1

   find object=libc.so.1; required by /lib/libmp.so.2
   find version=libc.so.1
	libc.so.1 (SYSVABI_1.3) =>	 /lib/libc.so.1

   find object=libc.so.1; required by /lib/libmd5.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_0.9) =>	 /lib/libc.so.1

   find object=libdoor.so.1; required by /lib/libscf.so.1
	libdoor.so.1 =>	 /lib/libdoor.so.1
   find version=libdoor.so.1
	libdoor.so.1 (SUNWprivate_1.1) =>	 /lib/libdoor.so.1

   find object=libuutil.so.1; required by /lib/libscf.so.1
	libuutil.so.1 =>	 /lib/libuutil.so.1
   find version=libuutil.so.1
	libuutil.so.1 (SUNWprivate_1.1) =>	 /lib/libuutil.so.1

   find object=libc.so.1; required by /lib/libscf.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.21) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   find object=libc.so.1; required by /lib/libdoor.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.22) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   find object=libc.so.1; required by /lib/libuutil.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.19) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   object=/lib/libm.so.1; filter for libm.so.2

   find object=libm.so.2; required by /lib/libm.so.1
	libm.so.2 =>	 /lib/libm.so.2

   find object=libc.so.1; required by /lib/libm.so.2
   find version=libc.so.1
	libc.so.1 (SUNW_0.7) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   object=/lib/libpthread.so.1; filter for libc.so.1

   find object=libc.so.1; required by /lib/libpthread.so.1

   object=/usr/lib/libCstd.so.1; filter for $ORIGIN/cpu/$ISALIST/libCstd_isa.so.1

   find object=/usr/lib/cpu/sparcv9/libCstd_isa.so.1; required by /usr/lib/libCstd.so.1
	/usr/lib/cpu/sparcv9/libCstd_isa.so.1 =>	 (file not found)

   find object=/usr/lib/cpu/sparcv8plus/libCstd_isa.so.1; required by /usr/lib/libCstd.so.1
	/usr/lib/cpu/sparcv8plus/libCstd_isa.so.1

   find object=libCrun.so.1; required by /usr/lib/cpu/sparcv8plus/libCstd_isa.so.1
   find version=libCrun.so.1
	libCrun.so.1 (SUNW_1.5) =>	 /usr/lib/libCrun.so.1

   find object=libc.so.1; required by /usr/lib/cpu/sparcv8plus/libCstd_isa.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_0.9) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   object=/lib/libc.so.1; filter for /usr/lib/ld.so.1

   object=/lib/libc.so.1; filter for libm.so.2

   find object=libm.so.2; required by /lib/libc.so.1

   object=/lib/libc.so.1; filter for /platform/$PLATFORM/lib/libc_psr.so.1

   find object=/platform/SUNW,Sun-Fire-T1000/lib/libc_psr.so.1; required by /lib/libc.so.1
	/platform/SUNW,Sun-Fire-T1000/lib/libc_psr.so.1

   object=/lib/libnsl.so.1; filter for libc.so.1

   find object=libc.so.1; required by /lib/libnsl.so.1
   find version=libc.so.1
	libc.so.1 (SUNW_1.22.2) =>	 /lib/libc.so.1
	libc.so.1 (SUNWprivate_1.1) =>	 /lib/libc.so.1

   object=/lib/libmd5.so.1; filter for /platform/$PLATFORM/lib/libmd5_psr.so.1

   find object=/platform/SUNW,Sun-Fire-T1000/lib/libmd5_psr.so.1; required by /lib/libmd5.so.1
	/platform/SUNW,Sun-Fire-T1000/lib/libmd5_psr.so.1 =>	 (file not found)

From vvv at vsu.ru  Tue May  8 08:27:21 2007
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon, 07 May 2007 23:27:21 -0700
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <877irjub5p.fsf@penguin.cs.ucla.edu> (Paul Eggert's message of
	"Mon, 07 May 2007 22:39:14 -0700")
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
	<87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>
	<87bqgx3x1s.fsf@external.prs-office.com>
	<876474o5xn.fsf@penguin.cs.ucla.edu>
	<87ps5c1hxi.fsf@external.prs-office.com>
	<877irjub5p.fsf@penguin.cs.ucla.edu>
Message-ID: <87irb3zv7a.fsf@external.prs-office.com>

"PE" == Paul Eggert writes:

 >> i grepped my build log, and i see that -R was in fact used.

 PE> Yes, but the build used -L/opt/csw/lib -R/opt/csw/lib.  This
 PE> requires that the relevant libraries be installed in one
 PE> particular place, namely /opt/csw/lib.  Was that the intent?

yes, because as far as i know, there is no Sun-provided fontconfig
package on Solaris 8, so i had to choose some 3rd-party package (from
blastwave), and since the latter is installed into non-standard
location (/opt/csw/lib), it will not be found unless i use
-L/opt/csw/lib -R/opt/csw/lib when linking.

i.e. the binary wouldn't work on Solaris 8 "out of the box" unless i
put the specific library location into the binary.

if you know of a more portable solution which will work on both
Solaris 8 and 10, please let me know.

Best,
v.


From werner at suse.de  Tue May  8 14:00:55 2007
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 8 May 2007 14:00:55 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big endianess
Message-ID: <20070508120055.GA13377@boole.suse.de>

Hi,

just to be noted, I've detected some pointer issues which
cause XeTeX to fail on e.g. ppc64 and s390x.  The problem
is that a cast from long to int will loose the four lower
bytes due to the natural nature of the memory management 
of big endian systems.  I've attached a patch which fix this
issue and get XeTeX on work on ppc64 and s390x.

Next is that I've found during debugging a lot of mixed
long and int assignments which may also cause trouble
e.g. in high memory loaded ia64 systems due to the large
address spaces for virtual memory handling.  IMHO this
should be fixed overall the source code not only the XeTeX.

One wish I'd like to put here around: is there a way to use
libpoppler instead of xpdf?  This would allow to use the
system libpoppler and reduce any maintenance effort in any
case of a security leak in xpdf/poppler because only the
system libpoppler has to be replaced.  For the current
libpoppler and XeTeX I've to disable the pdftosrc utility
because I've found no way to use this together with libpoppler.

    Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr
-------------- next part --------------
--- texk/web2c/xetexdir/XeTeX_ext.c
+++ texk/web2c/xetexdir/XeTeX_ext.c	2007-03-15 10:57:30.000000000 +0100
@@ -288,9 +288,9 @@ input_line_icu(UFILE* f)
 static char* byteBuffer = NULL;
 
 	UInt32		bytesRead = 0;
-	int			i;
+	int		i;
 	UConverter*	cnv;
-	long		outLen;
+	int		outLen;
 	UErrorCode	errorCode = 0;
 
 	if (byteBuffer == NULL)
@@ -392,8 +392,8 @@ linebreaknext()
 	return ubrk_next((UBreakIterator*)brkIter);
 }
 
-long
-getencodingmodeandinfo(long* info)
+int
+getencodingmodeandinfo(int* info)
 {
 	/* \XeTeXinputencoding "enc-name"
 	 *   -> name is packed in |nameoffile| as a C string, starting at [1]
@@ -811,7 +811,7 @@ splitFontName(char* name, char** var, ch
 }
 
 void*
-findnativefont(unsigned char* uname, long scaled_size)
+findnativefont(unsigned char* uname, int scaled_size)
 	/* scaled_size here is in TeX points */
 {
 	void*	rval = 0;
@@ -950,7 +950,6 @@ void
 otgetfontmetrics(void* pEngine, scaled* ascent, scaled* descent, scaled* xheight, scaled* capheight, scaled* slant)
 {
 	XeTeXLayoutEngine	engine = (XeTeXLayoutEngine)pEngine;
-	long	rval = 0;
 	float	a, d;
 	int		glyphID;
 
@@ -977,7 +976,7 @@ otgetfontmetrics(void* pEngine, scaled* 
 		*capheight = *ascent; /* arbitrary figure if there's no 'X' in the font */
 }
 
-long
+int
 otfontget(int what, void* pEngine)
 {
 	XeTeXLayoutEngine	engine = (XeTeXLayoutEngine)pEngine;
@@ -995,8 +994,8 @@ otfontget(int what, void* pEngine)
 }
 
 
-long
-otfontget1(int what, void* pEngine, long param)
+int
+otfontget1(int what, void* pEngine, int param)
 {
 	XeTeXLayoutEngine	engine = (XeTeXLayoutEngine)pEngine;
 	XeTeXFont	fontInst = getFont(engine);
@@ -1013,8 +1012,8 @@ otfontget1(int what, void* pEngine, long
 }
 
 
-long
-otfontget2(int what, void* pEngine, long param1, long param2)
+int
+otfontget2(int what, void* pEngine, int param1, int param2)
 {
 	XeTeXLayoutEngine	engine = (XeTeXLayoutEngine)pEngine;
 	XeTeXFont	fontInst = getFont(engine);
@@ -1032,8 +1031,8 @@ otfontget2(int what, void* pEngine, long
 }
 
 
-long
-otfontget3(int what, void* pEngine, long param1, long param2, long param3)
+int
+otfontget3(int what, void* pEngine, int param1, int param2, int param3)
 {
 	XeTeXLayoutEngine	engine = (XeTeXLayoutEngine)pEngine;
 	XeTeXFont	fontInst = getFont(engine);
@@ -1138,8 +1137,8 @@ makeXDVGlyphArrayData(void* pNode)
 	return ((char*)cp - xdvbuffer);
 }
 
-long
-makefontdef(long f)
+int
+makefontdef(int f)
 {
 	UInt16	flags = 0;
 	UInt32	variationCount = 0;
@@ -1515,7 +1514,7 @@ measure_native_node(void* pNode, int use
 		void*	glyph_info = 0;
 		static	float*	positions = 0;
 		static	UInt32*	glyphs = 0;
-		static	long	maxGlyphs = 0;
+		static	int	maxGlyphs = 0;
 
 		FixedPoint*	locations;
 		UInt16*		glyphIDs;
@@ -1928,10 +1927,10 @@ atsugetfontmetrics(ATSUStyle style, Fixe
 #endif
 }
 
-long
+int
 atsufontget(int what, ATSUStyle style)
 {
-	long	rval = -1;
+	int	rval = -1;
 
 #ifdef XETEX_MAC
 	ATSUFontID	fontID;
@@ -1966,10 +1965,10 @@ atsufontget(int what, ATSUStyle style)
 	return rval;
 }
 
-long
+int
 atsufontget1(int what, ATSUStyle style, int param)
 {
-	long	rval = -1;
+	int	rval = -1;
 
 #ifdef XETEX_MAC
 	ATSUFontID	fontID;
@@ -2026,10 +2025,10 @@ atsufontget1(int what, ATSUStyle style, 
 	return rval;
 }
 
-long
+int
 atsufontget2(int what, ATSUStyle style, int param1, int param2)
 {
-	long	rval = -1;
+	int	rval = -1;
 
 #ifdef XETEX_MAC
 	ATSUFontID	fontID;
@@ -2063,10 +2062,10 @@ atsufontget2(int what, ATSUStyle style, 
 	return rval;
 }
 
-long
+int
 atsufontgetnamed(int what, ATSUStyle style)
 {
-	long	rval = -1;
+	int	rval = -1;
 
 #ifdef XETEX_MAC
 	ATSUFontID	fontID;
@@ -2090,10 +2089,10 @@ atsufontgetnamed(int what, ATSUStyle sty
 	return rval;
 }
 
-long
+int
 atsufontgetnamed1(int what, ATSUStyle style, int param)
 {
-	long	rval = -1;
+	int	rval = -1;
 
 #ifdef XETEX_MAC
 	ATSUFontID	fontID;
--- texk/web2c/xetexdir/XeTeX_ext.h
+++ texk/web2c/xetexdir/XeTeX_ext.h	2007-03-15 10:57:33.000000000 +0100
@@ -218,11 +218,11 @@ extern "C" {
 	int input_line_icu(unicodefile f);
 	void linebreakstart(int localeStrNum, const UniChar* text, int textLength);
 	int linebreaknext();
-	long getencodingmodeandinfo(long* info);
+	int getencodingmodeandinfo(int* info);
 	void printutf8str(const unsigned char* str, int len);
 	void printchars(const unsigned short* str, int len);
 	void* load_mapping_file(const char* s, const char* e);
-	void* findnativefont(unsigned char* name, long scaled_size);
+	void* findnativefont(unsigned char* name, int scaled_size);
 	void releasefontengine(void* engine, int type_flag);
 
 	/* 'integer' params here are really TeX 'scaled' values, but that typedef isn't available every place this is included */
@@ -236,12 +236,12 @@ extern "C" {
 	integer getnativechardp(int font, int ch);
 	integer getnativecharic(int font, int ch);
 
-	long otfontget(int what, void* engine);
-	long otfontget1(int what, void* engine, long param);
-	long otfontget2(int what, void* engine, long param1, long param2);
-	long otfontget3(int what, void* engine, long param1, long param2, long param3);
+	int otfontget(int what, void* engine);
+	int otfontget1(int what, void* engine, int param);
+	int otfontget2(int what, void* engine, int param1, int param2);
+	int otfontget3(int what, void* engine, int param1, int param2, int param3);
 	int makeXDVGlyphArrayData(void* p);
-	long makefontdef(long f);
+	int makefontdef(int f);
 	int applymapping(void* cnv, const UniChar* txtPtr, int txtLen);
 	void store_justified_native_glyphs(void* node);
 	void measure_native_node(void* node, int use_glyph_metrics);
--- texk/web2c/xetexdir/xetex.h
+++ texk/web2c/xetexdir/xetex.h	2007-03-15 10:34:35.000000000 +0100
@@ -63,8 +63,8 @@ void* getotassemblyptr(int f, int g); /*
 
 #define dviopenout(f)			open_dvi_output(&(f))
 
-#define casttoptr(x)		(void*)(x)
-#define casttointeger(x)	(long)(x)
+#define casttoptr(x)		(void*)(&(x))
+#define casttointeger(x)	(int)(x)
 #define glyphinfobyte(p,k)	((unsigned char*)p)[k]
 #define casttoushort(x)		(unsigned short)(x)
 

From gnwiii at gmail.com  Tue May  8 15:54:37 2007
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 8 May 2007 10:54:37 -0300
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <20070508120055.GA13377@boole.suse.de>
References: <20070508120055.GA13377@boole.suse.de>
Message-ID: <22af238a0705080654s3fe4e4b8qd2632cf19b922823@mail.gmail.com>

On 5/8/07, Dr. Werner Fink <werner at suse.de> wrote:

> just to be noted, I've detected some pointer issues which
> cause XeTeX to fail on e.g. ppc64 and s390x.  The problem
> is that a cast from long to int will loose the four lower
> bytes due to the natural nature of the memory management
> of big endian systems.  I've attached a patch which fix this
> issue and get XeTeX on work on ppc64 and s390x.

TL2007 xetex seems to work on SGI IRIX64 (MIPS big endian), but
it is compiled for n32 so avoids some potential problems.

> Next is that I've found during debugging a lot of mixed
> long and int assignments which may also cause trouble
> e.g. in high memory loaded ia64 systems due to the large
> address spaces for virtual memory handling.  IMHO this
> should be fixed overall the source code not only the XeTeX.

Does ia64 support something similar to the IRIX64 n32 mode?

> One wish I'd like to put here around: is there a way to use
> libpoppler instead of xpdf?  This would allow to use the
> system libpoppler and reduce any maintenance effort in any
> case of a security leak in xpdf/poppler because only the
> system libpoppler has to be replaced.  For the current
> libpoppler and XeTeX I've to disable the pdftosrc utility
> because I've found no way to use this together with libpoppler.

Didn't debian have a patch to use poppler with pdftosrc?
<http://lists.debian.org/debian-tetex-maint/2005/12/msg00291.html>
(or is this linked to the ia64 port?)

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From jonathan_kew at sil.org  Tue May  8 15:50:07 2007
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Tue, 8 May 2007 14:50:07 +0100
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <20070508120055.GA13377@boole.suse.de>
References: <20070508120055.GA13377@boole.suse.de>
Message-ID: <5198021D-B6A8-49F3-89B0-9BA38B937DB7@sil.org>

On 8 May 2007, at 1:00 pm, Dr. Werner Fink wrote:

> Hi,
>
> just to be noted, I've detected some pointer issues which
> cause XeTeX to fail on e.g. ppc64 and s390x.  The problem
> is that a cast from long to int will loose the four lower
> bytes due to the natural nature of the memory management
> of big endian systems.  I've attached a patch which fix this
> issue and get XeTeX on work on ppc64 and s390x.

Thanks for this; I'll take a look at it and integrate into the main  
code. I think there's one error in the patch, though: in the hunk  
that reads

-#define casttoptr(x)		(void*)(x)
-#define casttointeger(x)	(long)(x)
+#define casttoptr(x)		(void*)(&(x))
+#define casttointeger(x)	(int)(x)

the semantics will be incorrect. The old code assumed that a (TeX)  
"integer" variable was large enough to store the value of a C  
pointer, and that it can then cast back and forth between these  
(which may be a bad assumption!), but taking the *address* of the  
integer is not the solution here.


> Next is that I've found during debugging a lot of mixed
> long and int assignments which may also cause trouble
> e.g. in high memory loaded ia64 systems due to the large
> address spaces for virtual memory handling.  IMHO this
> should be fixed overall the source code not only the XeTeX.
>
> One wish I'd like to put here around: is there a way to use
> libpoppler instead of xpdf?  This would allow to use the
> system libpoppler and reduce any maintenance effort in any
> case of a security leak in xpdf/poppler because only the
> system libpoppler has to be replaced.  For the current
> libpoppler and XeTeX I've to disable the pdftosrc utility
> because I've found no way to use this together with libpoppler.

I don't know, but this is something to investigate. Doesn't pdftex  
also use xpdf? In fact, pdftosrc has nothing to do with xetex (AFAIK)...

JK


From werner at suse.de  Tue May  8 16:12:34 2007
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 8 May 2007 16:12:34 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <5198021D-B6A8-49F3-89B0-9BA38B937DB7@sil.org>
References: <20070508120055.GA13377@boole.suse.de>
	<5198021D-B6A8-49F3-89B0-9BA38B937DB7@sil.org>
Message-ID: <20070508141234.GA29130@wotan.suse.de>

On Tue, May 08, 2007 at 02:50:07PM +0100, Jonathan Kew wrote:
> On 8 May 2007, at 1:00 pm, Dr. Werner Fink wrote:
> 
> >Hi,
> >
> >just to be noted, I've detected some pointer issues which
> >cause XeTeX to fail on e.g. ppc64 and s390x.  The problem
> >is that a cast from long to int will loose the four lower
> >bytes due to the natural nature of the memory management
> >of big endian systems.  I've attached a patch which fix this
> >issue and get XeTeX on work on ppc64 and s390x.
> 
> Thanks for this; I'll take a look at it and integrate into the main  
> code. I think there's one error in the patch, though: in the hunk  
> that reads
> 
> -#define casttoptr(x)		(void*)(x)
> -#define casttointeger(x)	(long)(x)
> +#define casttoptr(x)		(void*)(&(x))
> +#define casttointeger(x)	(int)(x)
> 
> the semantics will be incorrect. The old code assumed that a (TeX)  
> "integer" variable was large enough to store the value of a C  
> pointer, and that it can then cast back and forth between these  
> (which may be a bad assumption!), but taking the *address* of the  
> integer is not the solution here.

The problem is that casttointeger is used in the resulting
C file web2c/xetex0.c at line 2009 with

  mem[dest+5].hh.v.RH = casttointeger(xmallocarray(char, glyphcount*10));

and yes it would be nice to use an unsigned long or better
an `uintptr_t' as defined in <stdint.h> which is autoamtically
the correct type on all architectures at least on an glibc
based system.  To avoid large changes within the full texk
tree I've shorten this down to an cast on an 4 byte integer.
Otherwise this would require a large change by setting the
type `halfword' to `long' or `unsigned long'.

The underlying problem is that the cweb interface is very
oldish and doesn't know about 8 byte longs ... and also does
things like

       if (x)
         if (y)
	   a;
         else
           b;

which cause always warnings with gcc due missing braces
to make the code unambiguous.
        
> >Next is that I've found during debugging a lot of mixed
> >long and int assignments which may also cause trouble
> >e.g. in high memory loaded ia64 systems due to the large
> >address spaces for virtual memory handling.  IMHO this
> >should be fixed overall the source code not only the XeTeX.
> >
> >One wish I'd like to put here around: is there a way to use
> >libpoppler instead of xpdf?  This would allow to use the
> >system libpoppler and reduce any maintenance effort in any
> >case of a security leak in xpdf/poppler because only the
> >system libpoppler has to be replaced.  For the current
> >libpoppler and XeTeX I've to disable the pdftosrc utility
> >because I've found no way to use this together with libpoppler.
> 
> I don't know, but this is something to investigate. Doesn't pdftex  
> also use xpdf? In fact, pdftosrc has nothing to do with xetex (AFAIK)...

In the official TeXLive tree this is true, nevertheless some
bug reports from customers/users on security issues on xpdf
code, even if not relevant for XeTeX or pdfTeX, have driven
me to use the system shared libpoppler instead of the builtin
xpdf code.


      Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From frank at kuesterei.ch  Tue May  8 16:42:30 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 08 May 2007 16:42:30 +0200
Subject: [tex-live] libpoppler in xetex (was: TeXLive2007: Bug in (Xe)TeX
	for 64bit and big endianess)
In-Reply-To: <20070508141234.GA29130@wotan.suse.de> (Werner Fink's message of
	"Tue\, 8 May 2007 16\:12\:34 +0200")
References: <20070508120055.GA13377@boole.suse.de>
	<5198021D-B6A8-49F3-89B0-9BA38B937DB7@sil.org>
	<20070508141234.GA29130@wotan.suse.de>
Message-ID: <87tzunml61.fsf_-_@riesling.zuerich.kuesterei.ch>

"Dr. Werner Fink" <werner at suse.de> wrote:

>> I don't know, but this is something to investigate. Doesn't pdftex  
>> also use xpdf? In fact, pdftosrc has nothing to do with xetex (AFAIK)...
>
> In the official TeXLive tree this is true, nevertheless some
> bug reports from customers/users on security issues on xpdf
> code, even if not relevant for XeTeX or pdfTeX, have driven
> me to use the system shared libpoppler instead of the builtin
> xpdf code.

The Debian libpoppler patch at

http://svn.debian.org/wsvn/debian-tex/texlive-new/trunk/texlive-bin/debian/patches/30_libpoppler?op=file&rev=0&sc=0

also patches xetex to use this library.  Feel free to use it, but read
it with care: It was written without understanding xetex, in analogy to
Martin Pitt's pdftex patch, and if I did it (not sure) it was done by
someone who's C(++) mastery matches his italian: I get along without
starving, and usually end up in the bus to the right location...

Gru?, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From eggert at CS.UCLA.EDU  Tue May  8 18:24:53 2007
From: eggert at CS.UCLA.EDU (Paul Eggert)
Date: Tue, 08 May 2007 09:24:53 -0700
Subject: [tex-live] man pages for pdftools, dvips,
	etc. use unportable troff syntax
In-Reply-To: <E1HlS8T-0005Ke-00@skye.ra.phy.cam.ac.uk> (Sanjoy Mahajan's
	message of "Tue, 08 May 2007 17:01:57 +0100")
References: <E1HlS8T-0005Ke-00@skye.ra.phy.cam.ac.uk>
Message-ID: <87irb3nuzu.fsf@penguin.cs.ucla.edu>

Sanjoy Mahajan <sanjoy at mrao.cam.ac.uk> writes:

>>> pdftools.1:2: error: end of file while defining macro `UR'
>>> ...
>
> All the 'UR' problems are all my doing when I added to (or wrote from
> scratch) the offending man pages.
>
> What is the best fix?
>
> 1. Rename to .UR.  But that will conflict with the new groff's .UR.
>
> 2. Rename to .Ur.  Seems safer though slightly confusing because it's
>    the same as .UR except for case.  On the other hand, troff is
>    cryptic as hell to start with so no one may notice it.
>
> 3. Invent a new macro name, perhaps .UI (short for URI)?

I suggest ".Ur", since that is least likely to conflict with macros
already in use.  Different vendors use different implementations of
the -man macros, but as far as I know they all stick to upper-case
macro names, or macro names with special characters in them.

From frank at debian.org  Tue May  8 18:36:24 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 08 May 2007 18:36:24 +0200
Subject: [tex-live] How to handle interdependencies of collections (was:
	Bug#420394: texlive-latex-extra: acronym.sty requires
	suffix.sty from texlive-humanities)
In-Reply-To: <87wt00r2fl.fsf@riesling.zuerich.kuesterei.ch> (Frank
	=?iso-8859-1?Q?K=FCster's?= message of "Wed\, 25 Apr 2007 15\:47\:26
	+0200")
References: <20070422005920.GA4542@alea.gnuu.de>
	<20070425060212.GG27238@gamma.logic.tuwien.ac.at>
	<87wt00r2fl.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <87vef32rxz.fsf_-_@riesling.zuerich.kuesterei.ch>

Hi,

we've got a bug report against the Debian texlive packages:

> Norbert Preining <preining at logic.at> wrote:
>
>> Hi J?rg, hi all!
>>
>> $subject =
>> 	texlive-latex-extra: acronym.sty requires suffix.sty from
>> 	texlive-humanities

Translating this from Debian to TeXLive language this means: acronym.sty
in collection-latexextra requires suffix.sty from collection-humanities,
but collection-humanities does not require collection-latexextra.  (In
fact, it does not require any collection, not even latexbase, but that
might be because some are generic macros.)

>> How should we deal with this type of bugs? Generally I don't expect that
>> *ANY* cross-package dependency can be fixed but by just making one huge
>> texlive package.

What is the TeX Live developers' position on this?  You generally do not
try to get all macro packages' interdependencies right, because that
would be too much work, if at all possible without munging everything
into one big collection?

On the Debian side, I think we can add a Recommends or Suggests, a "soft
Requires". 

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From eggert at CS.UCLA.EDU  Tue May  8 18:36:58 2007
From: eggert at CS.UCLA.EDU (Paul Eggert)
Date: Tue, 08 May 2007 09:36:58 -0700
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <87irb3zv7a.fsf@external.prs-office.com> (Vladimir Volovich's
	message of "Mon, 07 May 2007 23:27:21 -0700")
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
	<87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>
	<87bqgx3x1s.fsf@external.prs-office.com>
	<876474o5xn.fsf@penguin.cs.ucla.edu>
	<87ps5c1hxi.fsf@external.prs-office.com>
	<877irjub5p.fsf@penguin.cs.ucla.edu>
	<87irb3zv7a.fsf@external.prs-office.com>
Message-ID: <877irjnufp.fsf@penguin.cs.ucla.edu>

Vladimir Volovich <vvv at vsu.ru> writes:

> if you know of a more portable solution which will work on both
> Solaris 8 and 10, please let me know.

Here are two possible solutions.

1.  Statically link the libraries in question.

2.  Distribute the Blastwave library as part of TeX Live, as a set of .so files.

    . Have install-tl.sh install the .so files into
      /usr/local/texlive/2007/lib, e.g.,
      /usr/local/texlive/2007/lib/libexpat.so.0.  Since these libraries
      depend on each other, you'll probably have to relink them as part of
      installation, to specify the -R options for them.

    . Have install-tl.sh link xetex and xdvipdfmx as part of installation.
      The link can specify
      -L /usr/local/texlive/2007/lib
      -R /usr/local/texlive/2007/lib.

(1) is much simpler for you to implement, though it generates larger
executables and is less "nice" in that it makes it harder to just
update libraries.

From karl at freefriends.org  Tue May  8 18:44:59 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 May 2007 11:44:59 -0500
Subject: [tex-live] How to handle interdependencies of collections
	(was:	Bug#420394: texlive-latex-extra: acronym.sty
	requires	suffix.sty from texlive-humanities)
In-Reply-To: <87vef32rxz.fsf_-_@riesling.zuerich.kuesterei.ch>
Message-ID: <200705081644.l48Gixx31450@f7.net>

    but collection-humanities does not require collection-latexextra.  (In
    fact, it does not require any collection, not even latexbase, but that
    might be because some are generic macros.)

It would be ok for collection-humanities to require "latexbase" (I
assume that is collection-latex in the TL world), but requiring
latexextra would defeat the purpose of collection-humanities.

    Generally I don't expect that
    >> *ANY* cross-package dependency can be fixed but by just making one huge
    >> texlive package.

    What is the TeX Live developers' position on this?  

I agree with the statement above, I guess made by Norbert (who is a TL
developer after all :).

    You generally do not try to get all macro packages'
    interdependencies right, because that would be too much work, if at
    all possible without munging everything into one big collection?

Right.

    On the Debian side, I think we can add a Recommends or Suggests, a "soft
    Requires". 

That sounds reasonable in general, if you want to make a general
statement.  Other possibilities would be to move acronym to humanities,
or bigfoot to latexextra.  I don't have strong feelings about it.

This kind of stuff is why I'm more of a lumper than a splitter when it
comes to TeX packages.  There have probably been more bytes expended in
the email exchange than if everything was in one package in the first place.

k

From martin at oneiros.de  Tue May  8 19:00:22 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 8 May 2007 19:00:22 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <20070508120055.GA13377@boole.suse.de>
References: <20070508120055.GA13377@boole.suse.de>
Message-ID: <68c491a60705081000s12a540b7n432e599a6e6fb8ee@mail.gmail.com>

2007/5/8, Dr. Werner Fink <werner at suse.de>:
> just to be noted, I've detected some pointer issues which
> cause XeTeX to fail on e.g. ppc64 and s390x.  The

Thanks for testing this.

> One wish I'd like to put here around: is there a way to use
> libpoppler instead of xpdf?  This would allow to use the
> system libpoppler and reduce any maintenance effort in any
> case of a security leak in xpdf/poppler because only the
> system libpoppler has to be replaced.  For the current
> libpoppler and XeTeX I've to disable the pdftosrc utility
> because I've found no way to use this together with libpoppler.

Debian does this for pdftex (don't know about pdftosrc) and it's been
on the want list for pdftex for quite some time. This year, but
probably not soon. Btw: What is the likely freeze date for 10.3?

Best
   Martin

From sanjoy at mrao.cam.ac.uk  Tue May  8 18:01:57 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Tue, 08 May 2007 17:01:57 +0100
Subject: [tex-live] man pages for pdftools, dvips,
	etc. use unportable troff syntax
In-Reply-To: Your message of "Mon, 07 May 2007 09:08:41 +0200."
	<20070507.090841.121232266.wl@gnu.org> 
Message-ID: <E1HlS8T-0005Ke-00@skye.ra.phy.cam.ac.uk>

>> pdftools.1:2: error: end of file while defining macro `UR'
>> ...

All the 'UR' problems are all my doing when I added to (or wrote from
scratch) the offending man pages.

What is the best fix?

1. Rename to .UR.  But that will conflict with the new groff's .UR.

2. Rename to .Ur.  Seems safer though slightly confusing because it's
   the same as .UR except for case.  On the other hand, troff is
   cryptic as hell to start with so no one may notice it.

3. Invent a new macro name, perhaps .UI (short for URI)?

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From karl at freefriends.org  Tue May  8 19:23:44 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 May 2007 12:23:44 -0500
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <68c491a60705081000s12a540b7n432e599a6e6fb8ee@mail.gmail.com>
Message-ID: <200705081723.l48HNic09538@f7.net>

Is there some technical advantage of poppler?  A priori, why wouldn't
you expect just as many security problems in poppler as xpdf?  My
experience is that the xpdf author is very responsive, so I am surprised
to hear of you not wanting to use it.

Not that I'm opposed to supporting both, of course, just seem like a
priority IMHO.

Of course, the question of using the system version is independent of what is used.
You'll have to compile your own and avoid the static linking
which we absolutely do want for the distributed TL binaries.

k

From karl at freefriends.org  Tue May  8 19:29:24 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 May 2007 12:29:24 -0500
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <877irjub5p.fsf@penguin.cs.ucla.edu>
Message-ID: <200705081729.l48HTOJ11055@f7.net>

    Can the blastwave-supplied libs be distributed as part of TeX Live?

We do something similar for i386-solaris, where Apostolos (who built the
binaries) sent me a few necessary 3rd party libraries.  I put them into
the distribution as a zip file and added instructions at the end of the
install script so that someone installing i386-solaris would be told to
install them.

So it would be easy to do something similar for other architectures.

Integrating the libraries into the TL build process, on the other hand,
sounds like a great deal of trouble. 

karl

P.S. Paul, very glad (and a bit surprised) to see you installing TeX Live!

From gnwiii at gmail.com  Tue May  8 19:33:59 2007
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 8 May 2007 14:33:59 -0300
Subject: [tex-live] TeX Live 2007 xetex,
	xdvipdfmx shared library woes on Solaris 10 sparc
In-Reply-To: <877irjnufp.fsf@penguin.cs.ucla.edu>
References: <E1HkwMS-0000Is-Qj@penguin.cs.ucla.edu>
	<87bqgxw1xu.fsf@riesling.zuerich.kuesterei.ch>
	<87bqgx3x1s.fsf@external.prs-office.com>
	<876474o5xn.fsf@penguin.cs.ucla.edu>
	<87ps5c1hxi.fsf@external.prs-office.com>
	<877irjub5p.fsf@penguin.cs.ucla.edu>
	<87irb3zv7a.fsf@external.prs-office.com>
	<877irjnufp.fsf@penguin.cs.ucla.edu>
Message-ID: <22af238a0705081033y47d97d0dxee08e1c6f2db6a40@mail.gmail.com>

On 5/8/07, Paul Eggert <eggert at cs.ucla.edu> wrote:

> Vladimir Volovich <vvv at vsu.ru> writes:
>
> > if you know of a more portable solution which will work on both
> > Solaris 8 and 10, please let me know.
>
> Here are two possible solutions.
>
> 1.  Statically link the libraries in question.
>
> 2.  Distribute the Blastwave library as part of TeX Live, as a set of .so files.
>
>     . Have install-tl.sh install the .so files into
>       /usr/local/texlive/2007/lib, e.g.,
>       /usr/local/texlive/2007/lib/libexpat.so.0.  Since these libraries
>       depend on each other, you'll probably have to relink them as part of
>       installation, to specify the -R options for them.
>
>     . Have install-tl.sh link xetex and xdvipdfmx as part of installation.
>       The link can specify
>       -L /usr/local/texlive/2007/lib
>       -R /usr/local/texlive/2007/lib.

For SGI IRIX64 you can have "-rpath
/usr/local/texlive/2007/lib:/usr/<X>/lib" so
TL doesn't have to install libraries that exist in "/usr/<X>/lib", but
preserves the
option of using TL's versions if the sys admins can't be bothered to
install them.

> (1) is much simpler for you to implement, though it generates larger
> executables and is less "nice" in that it makes it harder to just
> update libraries.

(1) also allows users to install TL outside /usr/local.

I'd prefer to that TL distribute "basic" stuff statically linked, but
support local compiles
using dynamic linking (sites that are fussy about security fixes ought
to be able to
compile things themselves, but shouldn't be expected to rebuilt TL
everytime one library
gets a security patch).

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Tue May  8 19:59:45 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 May 2007 19:59:45 +0200
Subject: [tex-live] package dependencies
Message-ID: <200705081759.l48Hxjp11899@tug.org>

I wonder if miktex tries to implement package-level dependencies.  If
you install acronym under miktex, does it install bigfoot (or suffix, if
it got separated out)?

From sanjoy at mrao.cam.ac.uk  Tue May  8 20:16:39 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Tue, 08 May 2007 19:16:39 +0100
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: Your message of "Tue, 08 May 2007 12:23:44 CDT."
	<200705081723.l48HNic09538@f7.net> 
Message-ID: <E1HlUEp-0007A8-00@skye.ra.phy.cam.ac.uk>

> Is there some technical advantage of poppler?  A priori, why
> wouldn't you expect just as many security problems in poppler as
> xpdf?

For all programs that use poppler, security fixes can be installed
just by updating libpoppler.  No need to reinstall those programs.

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From karl at freefriends.org  Tue May  8 20:18:05 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 May 2007 13:18:05 -0500
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <E1HlUEp-0007A8-00@skye.ra.phy.cam.ac.uk>
Message-ID: <200705081818.l48II5o26616@f7.net>

    For all programs that use poppler, security fixes can be installed
    just by updating libpoppler.  No need to reinstall those programs.

I understand that, of course.  You could say the same thing about xpdf.

For all programs that use xpdf, security fixes can be installed
just by updating libxpdf.  No need to reinstall those programs.

Big deal.

From martin at oneiros.de  Tue May  8 20:30:40 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 8 May 2007 20:30:40 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <200705081818.l48II5o26616@f7.net>
References: <E1HlUEp-0007A8-00@skye.ra.phy.cam.ac.uk>
	<200705081818.l48II5o26616@f7.net>
Message-ID: <68c491a60705081130r1bcfef2agd9e90d46268e9fa4@mail.gmail.com>

2007/5/8, Karl Berry <karl at freefriends.org>:
>     For all programs that use poppler, security fixes can be installed
>     just by updating libpoppler.  No need to reinstall those programs.
>
> I understand that, of course.  You could say the same thing about xpdf.

No. poppler is a library, while xpdf is just a bunch of programs. I've
yet to see a recent library made out of xpdf. It's not Derek's focus.

Best
   Martin

From sanjoy at mrao.cam.ac.uk  Tue May  8 20:31:57 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Tue, 08 May 2007 19:31:57 +0100
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: Your message of "Tue, 08 May 2007 13:18:05 CDT."
	<200705081818.l48II5o26616@f7.net> 
Message-ID: <E1HlUTd-0007F9-00@skye.ra.phy.cam.ac.uk>

> Big deal.

I think of libpoppler as 'libxpdf', and did not know there was a real
libxpdf.  A web search shows older libxpdf (from 2001 and 2002).  Do
you know of a newer one?

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From pragma at wxs.nl  Tue May  8 20:46:30 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 08 May 2007 20:46:30 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit
	and	big	endianess
In-Reply-To: <200705081723.l48HNic09538@f7.net>
References: <200705081723.l48HNic09538@f7.net>
Message-ID: <4640C586.9000302@wxs.nl>

Karl Berry wrote:
> Is there some technical advantage of poppler?  A priori, why wouldn't
> you expect just as many security problems in poppler as xpdf?  My
> experience is that the xpdf author is very responsive, so I am surprised
> to hear of you not wanting to use it
since pdftex is supposed to behave consistently cross platform (same tex 
engine as well as pdf generation/inclusion behaviour), xpdf is the 
official pdf library used in pdftex (and luatex);

i share your observation with regards to responsiveness

of course one could use whatever library one wants but that's up to the 
responsibility of the distributer and not of the team; if it does not 
spoil the code base, multiple libraries can be supported, but as said, 
the de facto standard pdf lib is the xpdf one
> .
>
> Not that I'm opposed to supporting both, of course, just seem like a
> priority IMHO.
>
> Of course, the question of using the system version is independent of what is used.
> You'll have to compile your own and avoid the static linking
> which we absolutely do want for the distributed TL binaries.
>   
we already had reports of users unable to compile pdftex because of dependencies of poppler (and no xpdf source being shipped) which imo is a bad omen 

anyhow, with regards to pdftex/luatex dev, the relevant library code is (to be) part of the source tree so that users can compile the standard distribution themselves 

(btw, i wonder how serious security issues are with respect to the used libraries - we use only part of xpdf)   
 
Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From martin at oneiros.de  Tue May  8 21:03:22 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 8 May 2007 21:03:22 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <4640C586.9000302@wxs.nl>
References: <200705081723.l48HNic09538@f7.net> <4640C586.9000302@wxs.nl>
Message-ID: <68c491a60705081203p51102e04q8d7f13e92ef47b2e@mail.gmail.com>

2007/5/8, Hans Hagen <pragma at wxs.nl>:
> (btw, i wonder how serious security issues are with respect to the used libraries - we use only part of xpdf)

IMHO not serious. AFAIK most problems till now only concerned the
renderer, which we don't use. Bugs in the parser are possible (and
have happened), but I see no cause to be seriously alarmed.

Best
   Martin

From hanthethanh at gmail.com  Tue May  8 22:35:34 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Tue, 8 May 2007 22:35:34 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
Message-ID: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>

I also never wanted poppler instead of xpdf and never voted
for it. I doubt very much it would bring any advantage at
all, while the problems it caused are quite obvious.

I am a debian user myself. There was a time when my xpdf
segfaulted for a certain pdf. I reported the problem to
Derek and then we found out that the problem happened only
with the binaries provided by debian. Of course it's not
hard to guess what was Derek's reaction then.


Thanh

On Tue, May 08, 2007 at 08:46:30PM +0200, Hans Hagen wrote:
> Karl Berry wrote:
> >Is there some technical advantage of poppler?  A priori, why wouldn't
> >you expect just as many security problems in poppler as xpdf?  My
> >experience is that the xpdf author is very responsive, so I am surprised
> >to hear of you not wanting to use it
> since pdftex is supposed to behave consistently cross platform (same tex
> engine as well as pdf generation/inclusion behaviour), xpdf is the
> official pdf library used in pdftex (and luatex);
>
> i share your observation with regards to responsiveness
>
> of course one could use whatever library one wants but that's up to the
> responsibility of the distributer and not of the team; if it does not
> spoil the code base, multiple libraries can be supported, but as said,
> the de facto standard pdf lib is the xpdf one
> >.
> >
> >Not that I'm opposed to supporting both, of course, just seem like a
> >priority IMHO.
> >
> >Of course, the question of using the system version is independent of what
> >is used.
> >You'll have to compile your own and avoid the static linking
> >which we absolutely do want for the distributed TL binaries.
> >
> we already had reports of users unable to compile pdftex because of
> dependencies of poppler (and no xpdf source being shipped) which imo is a
> bad omen
> anyhow, with regards to pdftex/luatex dev, the relevant library code is (to
> be) part of the source tree so that users can compile the standard
> distribution themselves
> (btw, i wonder how serious security issues are with respect to the used
> libraries - we use only part of xpdf)
> Hans
>
> -----------------------------------------------------------------
>                                          Hans Hagen | PRAGMA ADE
>              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
>                                             | www.pragma-pod.nl
> -----------------------------------------------------------------
>

From wl at gnu.org  Tue May  8 22:59:18 2007
From: wl at gnu.org (Werner LEMBERG)
Date: Tue, 08 May 2007 22:59:18 +0200 (CEST)
Subject: [tex-live] man pages for pdftools, dvips,
 etc. use unportable troff syntax
In-Reply-To: <E1HlS8T-0005Ke-00@skye.ra.phy.cam.ac.uk>
References: <20070507.090841.121232266.wl@gnu.org>
	<E1HlS8T-0005Ke-00@skye.ra.phy.cam.ac.uk>
Message-ID: <20070508.225918.134701950.wl@gnu.org>


> 2. Rename to .Ur.

For the time being this is probably the best solution.  Note that Eric
Raymond and I worked together to find an extension to the man macros
which might be useful on all platforms (see below); we hope that they
will be accepted on a broad base.


    Werner


===============================================================================


.\" an-ext.tmac
.\"
.\" Written by Eric S. Raymond <esr at thyrsus.com>
.\"            Werner Lemberg <wl at gnu.org>
.\"
.\" Version 2007-Feb-02
.\"
.\" Copyright (C) 2007 Free Software Foundation, Inc.
.\" You may freely use, modify and/or distribute this file.
.\"
.\"
.\" The code below provides extension macros for the `man' macro package.
.\" Care has been taken to make the code portable; groff extensions are
.\" properly hidden so that all troff implementations can use it without
.\" changes.
.\"
.\" With groff, this file is sourced by the `man' macro package itself.
.\" Man page authors who are concerned about portability might add the
.\" used macros directly to the prologue of the man page(s).
.
.
.\" Convention: Auxiliary macros and registers start with `m' followed
.\"             by an uppercase letter or digit.
.
.
.\" Protect against being sourced twice.
.nr mX +1
.if \n(mX>1 \
.  nx
.
.\" Check whether we are using grohtml.
.nr mH 0
.if \n(.g \
.  if '\*(.T'html' \
.    nr mH 1
.
.
.\" Map mono-width fonts to standard fonts for groff's TTY device.
.if n \{\
.  do ftr CR R
.  do ftr CI I
.  do ftr CB B
.\}
.
.\" groff has glyph entities for angle brackets.
.ie \n(.g \{\
.  ds la \(la\"
.  ds ra \(ra\"
.\}
.el \{\
.  ds la <\"
.  ds ra >\"
.  \" groff's man macros control hyphenation with this register.
.  nr HY 1
.\}
.
.nr mS 0
.
.
.\" Declare start of command synopsis.  Sets up hanging indentation.
.de SY
.  ie !\\n(mS \{\
.    nh
.    nr mS 1
.    nr mA \\n(.j
.    ad l
.    nr mI \\n(.i
.  \}
.  el \{\
.    br
.    ns
.  \}
.
.  HP \w'\fB\\$1\fP\ 'u
.  B "\\$1"
..
.
.
.\" End of command synopsis.  Restores adjustment.
.de YS
.  in \\n(mIu
.  ad \\n(mA
.  hy \\n(HY
.  nr mS 0
..
.
.
.\" Declare optional option.
.de OP
.  ie \\n(.$-1 \
.    RI "[\fB\\$1\fP" "\ \\$2" "]"
.  el \
.    RB "[" "\\$1" "]"
..
.
.
.\" Start URL.
.de UR
.  ds m1 \\$1\"
.  nh
.  if \\n(mH \{\
.    \" Start diversion in a new environment.
.    do ev URL-div
.    do di URL-div
.  \}
..
.
.
.\" End URL.
.de UE
.  ie \\n(mH \{\
.    br
.    di
.    ev
.
.    \" Has there been one or more input lines for the link text?
.    ie \\n(dn \{\
.      do HTML-NS "<a href=""\\*(m1"">"
.      \" Yes, strip off final newline of diversion and emit it.
.      do chop URL-div
.      do URL-div
\c
.      do HTML-NS </a>
.    \}
.    el \
.      do HTML-NS "<a href=""\\*(m1"">\\*(m1</a>"
\&\\$*\"
.  \}
.  el \
\\*(la\\*(m1\\*(ra\\$*\"
.
.  hy \\n(HY
..
.
.
.\" Start email address.
.de MT
.  ds m1 \\$1\"
.  nh
.  if \\n(mH \{\
.    \" Start diversion in a new environment.
.    do ev URL-div
.    do di URL-div
.  \}
..
.
.
.\" End email address.
.de ME
.  ie \\n(mH \{\
.    br
.    di
.    ev
.
.    \" Has there been one or more input lines for the link text?
.    ie \\n(dn \{\
.      do HTML-NS "<a href=""mailto:\\*(m1"">"
.      \" Yes, strip off final newline of diversion and emit it.
.      do chop URL-div
.      do URL-div
\c
.      do HTML-NS </a>
.    \}
.    el \
.      do HTML-NS "<a href=""mailto:\\*(m1"">\\*(m1</a>"
\&\\$*\"
.  \}
.  el \
\\*(la\\*(m1\\*(ra\\$*\"
.
.  hy \\n(HY
..
.
.
.\" Continuation line for .TP header.
.de TQ
.  br
.  ns
.  TP \\$1\" no doublequotes around argument!
..
.
.
.\" Start example.
.de EX
.  nr mE \\n(.f
.  nf
.  nh
.  ft CW
..
.
.
.\" End example.
.de EE
.  ft \\n(mE
.  fi
.  hy \\n(HY
..
.
.
.\" Start display.
.de DS
.  \" XXX to be written
..
.
.
.\" End display.
.de DE
.  \" XXX to be written
..
.
.\" EOF

From sanjoy at mrao.cam.ac.uk  Wed May  9 04:24:27 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Wed, 09 May 2007 03:24:27 +0100
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: Your message of "Tue, 08 May 2007 20:46:30 +0200."
	<4640C586.9000302@wxs.nl> 
Message-ID: <E1Hlbqt-0002jH-00@skye.ra.phy.cam.ac.uk>

> we already had reports of users unable to compile pdftex because of
> dependencies of poppler (and no xpdf source being shipped) which imo
> is a bad omen

I may have been one of those users.  I couldn't build the Debian
texlive 2007 package on my Ubuntu (Debian derivative) system because
of different libpoppler versions.  But the xpdf sources are still part
of the source package, so all I had to do was delete the 'use poppler'
patch and then the package built fine.

Ubuntu 'gutsy' (7.10), which just started its development cycle and
will be released in October, now has a texlive source package that
also does not use the poppler patch, so it builds out of the box on
my Ubuntu 7.04 system.  

I should also check whether the binary package would install as is --
you never know!  -- and then update the ConTeXt installation
instructions on the wiki to say 'Ubuntu 7.04 users, you can now
install texlive2007 easily as follows...'

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From frank at kuesterei.ch  Wed May  9 10:19:52 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 10:19:52 +0200
Subject: [tex-live] How to handle interdependencies of collections
In-Reply-To: <200705081644.l48Gixx31450@f7.net> (Karl Berry's message of "Tue\,
	8 May 2007 11\:44\:59 -0500")
References: <200705081644.l48Gixx31450@f7.net>
Message-ID: <87odkuo1cn.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

>     but collection-humanities does not require collection-latexextra.  (In
>     fact, it does not require any collection, not even latexbase, but that
>     might be because some are generic macros.)
>
> It would be ok for collection-humanities to require "latexbase" (I
> assume that is collection-latex in the TL world), but requiring
> latexextra would defeat the purpose of collection-humanities.

I see.

>     On the Debian side, I think we can add a Recommends or Suggests, a "soft
>     Requires". 
>
> That sounds reasonable in general, if you want to make a general
> statement.  Other possibilities would be to move acronym to humanities,
> or bigfoot to latexextra.  I don't have strong feelings about it.

acronym is not only useful for humanities, I'd say.  

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Wed May  9 10:17:45 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 10:17:45 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	(Thanh Han The's message of "Tue\, 8 May 2007 22\:35\:34 +0200")
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
Message-ID: <87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>

"Thanh Han The" <hanthethanh at gmail.com> wrote:

> I also never wanted poppler instead of xpdf and never voted
> for it. I doubt very much it would bring any advantage at
> all, while the problems it caused are quite obvious.

Sorry, but it's not your choice.  Ubuntu started using it, our security
team urged us to do the same, Suse does it, and I am not the one to
decide, really.

Although I must say I wholeheartedly agree with it.  The impact of
security bugs in xpdf code may be small, but it's a general policy of
Linux distributors to either fix security issues once they are known, or
to show that they do not apply or are not exploitable in a given
incarnation of the code.

As long as pdftex ships a complete copy of xpdf code, I wouldn't dare to
judge "doesn't apply" without at least an intermediate level of
understanding of xpdf and how pdftex uses it.  I don't have that
understanding and cannot afford the time to learn it, and I fear that's
true for most people responsible for those packages in Linux distros,
even those who get paid for their distribution work.

So we're left with fixing the bugs, but that is, unfortunately, *not*
just a question of taking the xpdf patch, applying it to the sources and
recompiling the packages.  That would be relatively easy and per se not
a reason for a switch to poppler.  The real problem is that in almost
all cases, the published patch does not apply because the copies of xpdf
in pdftex, pdftohtml, cups, forgotwhat all have slightly different
versions.  Plus we need to support our stable distribution, which meant
patching xpdf 1.x, 2.x and 3.x at some point in Debian (with sometimes
two or more different values for each x).

> I am a debian user myself. There was a time when my xpdf
> segfaulted for a certain pdf. I reported the problem to
> Derek and then we found out that the problem happened only
> with the binaries provided by debian. Of course it's not
> hard to guess what was Derek's reaction then.

This is totally unrelated, because patches to the xpdf sources in Debian
have exactly zero effect on pdftex, no matter whether it uses its own
xpdf copy or libpoppler.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From pragma at wxs.nl  Wed May  9 11:33:55 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 09 May 2007 11:33:55 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <46419583.4010001@wxs.nl>

Frank ? wrote:
> So we're left with fixing the bugs, but that is, unfortunately, *not*
> just a question of taking the xpdf patch, applying it to the sources and
> recompiling the packages.  That would be relatively easy and per se not
> a reason for a switch to poppler.  The real problem is that in almost
> all cases, the published patch does not apply because the copies of xpdf
> in pdftex, pdftohtml, cups, forgotwhat all have slightly different
> versions.  Plus we need to support our stable distribution, which meant
> patching xpdf 1.x, 2.x and 3.x at some point in Debian (with sometimes
> two or more different values for each x).
>   
since pdftex is rather monolithic, updating a statically bound pdftex is 
also an option; xpdf bugs are fixed in the repos and so pdftex has the 
fixes; since tex users need to update pdftex regularly anyway (because 
of other fixes) this no big burden on the user.
>
> This is totally unrelated, because patches to the xpdf sources in Debian
> have exactly zero effect on pdftex, no matter whether it uses its own
> xpdf copy or libpoppler.
>   
hm, but isn't pdftex using its own patched copy of xpdf then? after all, 
it's supposed to be in the pdftex source tree

Hans

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From frank at kuesterei.ch  Wed May  9 12:05:43 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 12:05:43 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <46419583.4010001@wxs.nl> (Hans Hagen's message of "Wed\,
	09 May 2007 11\:33\:55 +0200")
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl>
Message-ID: <87hcqmmhvs.fsf@riesling.zuerich.kuesterei.ch>

Hans Hagen <pragma at wxs.nl> wrote:

> Frank ? wrote:
>> So we're left with fixing the bugs, but that is, unfortunately, *not*
>> just a question of taking the xpdf patch, applying it to the sources and
>> recompiling the packages.  That would be relatively easy and per se not
>> a reason for a switch to poppler.  The real problem is that in almost
>> all cases, the published patch does not apply because the copies of xpdf
>> in pdftex, pdftohtml, cups, forgotwhat all have slightly different
>> versions.  Plus we need to support our stable distribution, which meant
>> patching xpdf 1.x, 2.x and 3.x at some point in Debian (with sometimes
>> two or more different values for each x).
>>   
> since pdftex is rather monolithic, updating a statically bound pdftex
> is also an option; xpdf bugs are fixed in the repos and so pdftex has
> the fixes; since tex users need to update pdftex regularly anyway
> (because of other fixes) this no big burden on the user.

You mean we should have dropped xpdf 3.01p3 into woody's
teTeX-1.0whatever source directory and compile?  Although I guess that
would have worked, it's against the spirit of Debian Policy, and I
wouldn't want to have to justify it in public.

>> This is totally unrelated, because patches to the xpdf sources in Debian
>> have exactly zero effect on pdftex, no matter whether it uses its own
>> xpdf copy or libpoppler.
>>   
> hm, but isn't pdftex using its own patched copy of xpdf then? after
> all, it's supposed to be in the pdftex source tree

Yes, but these are *totally* different source packages. The patches that
Hamish applies to his xpdf source package are not related to the TeX
packages, not even communicated to the TeX maintainers.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Wed May  9 12:12:54 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 12:12:54 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit
	and	big	endianess
In-Reply-To: <4641981F.60304@elvenkind.com> (Taco Hoekwater's message of "Wed\,
	09 May 2007 11\:45\:03 +0200")
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <4641981F.60304@elvenkind.com>
Message-ID: <87bqgumhjt.fsf@riesling.zuerich.kuesterei.ch>

Taco Hoekwater <taco at elvenkind.com> wrote:

> From the past posts on this topic, I am led to believe that there are
> already two incompatible releases of poppler, right now. To me, it does
> not appear that poppler is improving the multiple-version situation any.

This sounds polemic to me, or do you really not know what library
sonames are?  They are a quite nice way to make the handling of
different versions easier.  Much easier than digging through code in
order to find the difference between 2.01p and 2.2 or so and adapt a
patch.

> Anyway, that is your choice. I assume pdftex reports the poppler version
> that is used in the output of pdftex --version, as well as a location
> for poppler-related bug reports (i.e. *not* the pdftex list).

No, it doesn't report the poppler version, because there are easy ways
to find this out if it's interesting, just that it *is* linked to
poppler.  Bugs in Debian binaries should be reported to the Debian BTS
in any case, but we could add a more prominent note.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From werner at suse.de  Wed May  9 12:09:01 2007
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 9 May 2007 12:09:01 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <46419583.4010001@wxs.nl>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl>
Message-ID: <20070509100901.GB1975@boole.suse.de>

On Wed, May 09, 2007 at 11:33:55AM +0200, Hans Hagen wrote:
> since pdftex is rather monolithic, updating a statically bound pdftex is 
> also an option; xpdf bugs are fixed in the repos and so pdftex has the 
> fixes; since tex users need to update pdftex regularly anyway (because 
> of other fixes) this no big burden on the user.

Updates within an old distribution are nogoes for distributors. This
because you can not destroy certifications and tested states of an
existing product by getting unkown side effects with new binaries
in an existing package.  The way to go is to fix the security issue
and provide an update with a binary patch on the existing package.
Our QA would never accept a full update to an new version of texlive
on an old product line without a real BETA testing session.

Please remember this is not due I do not wanted to do (in fact it
would make life much easier) its simply the experience of the
distributors not to change the version of an packages within an
old product.  The experience is that such an update cause more
problems than it fix.  No customer/user accept that e.g. his TeX
files does not compile after a security update on the same product ...


      Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From pragma at wxs.nl  Wed May  9 12:33:56 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 09 May 2007 12:33:56 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit
	and	big	endianess
In-Reply-To: <20070509100901.GB1975@boole.suse.de>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <20070509100901.GB1975@boole.suse.de>
Message-ID: <4641A394.2010004@wxs.nl>

Dr. Werner Fink wrote:
> Updates within an old distribution are nogoes for distributors. This
> because you can not destroy certifications and tested states of an
> existing product by getting unkown side effects with new binaries
> in an existing package.  The way to go is to fix the security issue
> and provide an update with a binary patch on the existing package.
> Our QA would never accept a full update to an new version of texlive
> on an old product line without a real BETA testing session.
>   
sure, but i'm not talking of a massive update, just the self contained 
pdftex binary, which is one file

normally pdftex is downward compatible (esp when kpse in linked in as 
well) so if should work with older distributions

Hans


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From martin at oneiros.de  Wed May  9 12:46:15 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 9 May 2007 12:46:15 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <4641A394.2010004@wxs.nl>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <20070509100901.GB1975@boole.suse.de>
	<4641A394.2010004@wxs.nl>
Message-ID: <68c491a60705090346u809e032xe9a0b83104e33231@mail.gmail.com>

2007/5/9, Hans Hagen <pragma at wxs.nl>:
> Dr. Werner Fink wrote:
> > Updates within an old distribution are nogoes for distributors. This
> > because you can not destroy certifications and tested states of an
> > existing product by getting unkown side effects with new binaries
> > in an existing package.  The way to go is to fix the security issue
> > and provide an update with a binary patch on the existing package.
> > Our QA would never accept a full update to an new version of texlive
> > on an old product line without a real BETA testing session.
> >
> sure, but i'm not talking of a massive update, just the self contained
> pdftex binary, which is one file

No. You follow the principle of least surprise and change only what
you must change, i.e. security fixes.

Imagine a customer (we're talking about SLES here) relying on bugs
(i.e. having worked around them) in 1.30 complaining that his app
doesn't work anymore because you silently replaced his pdftex with
1.40.

Best
   Martin

From pragma at wxs.nl  Wed May  9 12:58:34 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 09 May 2007 12:58:34 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <68c491a60705090346u809e032xe9a0b83104e33231@mail.gmail.com>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <20070509100901.GB1975@boole.suse.de>
	<4641A394.2010004@wxs.nl>
	<68c491a60705090346u809e032xe9a0b83104e33231@mail.gmail.com>
Message-ID: <4641A95A.5000108@wxs.nl>

? wrote:
> 2007/5/9, Hans Hagen <pragma at wxs.nl>:
>> Dr. Werner Fink wrote:
>> > Updates within an old distribution are nogoes for distributors. This
>> > because you can not destroy certifications and tested states of an
>> > existing product by getting unkown side effects with new binaries
>> > in an existing package.  The way to go is to fix the security issue
>> > and provide an update with a binary patch on the existing package.
>> > Our QA would never accept a full update to an new version of texlive
>> > on an old product line without a real BETA testing session.
>> >
>> sure, but i'm not talking of a massive update, just the self contained
>> pdftex binary, which is one file
>
> No. You follow the principle of least surprise and change only what
> you must change, i.e. security fixes.
>
> Imagine a customer (we're talking about SLES here) relying on bugs
> (i.e. having worked around them) in 1.30 complaining that his app
> doesn't work anymore because you silently replaced his pdftex with
> 1.40.
well, if one makes workaround that is not checking versions, then one is in trouble anyway and should have reported that bug in the first place; normally bugs in pdftex are solved pretty fast so writing a workaround may have taken more time. 

also, i assume that security issues (as well as fixes and side effects)  are investigated first; it may be that pdftex is never affected by the issue at all, in which case no update is needed (btw, for me 'security fix' is just a nice word for a 'programming error' or 'severe bug' which may happen to have a security side effect; to some extend i guess that users can mess up their live more with using tex the wrong way than with some occasional crash, which if i remember right has not happend that often, esp not in library parts but i may be wrong) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From gnwiii at gmail.com  Wed May  9 13:00:03 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 9 May 2007 08:00:03 -0300
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <4641A394.2010004@wxs.nl>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <20070509100901.GB1975@boole.suse.de>
	<4641A394.2010004@wxs.nl>
Message-ID: <22af238a0705090400x75590a87hfd82c7925e3f4f3@mail.gmail.com>

On 5/9/07, Hans Hagen <pragma at wxs.nl> wrote:

> Dr. Werner Fink wrote:
> > Updates within an old distribution are nogoes for distributors. This
> > because you can not destroy certifications and tested states of an
> > existing product by getting unkown side effects with new binaries
> > in an existing package.  The way to go is to fix the security issue
> > and provide an update with a binary patch on the existing package.
> > Our QA would never accept a full update to an new version of texlive
> > on an old product line without a real BETA testing session.
> >
> sure, but i'm not talking of a massive update, just the self contained
> pdftex binary, which is one file
>
> normally pdftex is downward compatible (esp when kpse in linked in as
> well) so if should work with older distributions

While this might be true for pdftex, it isn't going to convince distributors
to change their policies.  Distributors don't distinguish between programs
where bugs are generally easy to spot (badly formatted document) and
those where bugs are harder to spot and could have serious consequences.

Testing a security patch on a library has to be done anyway, and is usually
a relatively simple, self-contained, task.  [Not always -- the recent
addition of
sanity checks to libX11 revealed bugs in code that has been used for
some very critical tasks including medical imaging and weather prediction
for over a decade.]

Testing an application is open-ended.   If there is a problem after a
library is
patched, debugging is easier because you know exactly what changed.

TeX Live needs to accommodate the needs of distributors so it can be the
successor to teTeX.  Standards for robustness and reliability are higher today
because you have more systems where TeX is used as part of the build process
for complex systems where the coders may never actually use TeX directly.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From werner at suse.de  Wed May  9 13:20:20 2007
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 9 May 2007 13:20:20 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <22af238a0705090400x75590a87hfd82c7925e3f4f3@mail.gmail.com>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <20070509100901.GB1975@boole.suse.de>
	<4641A394.2010004@wxs.nl>
	<22af238a0705090400x75590a87hfd82c7925e3f4f3@mail.gmail.com>
Message-ID: <20070509112020.GA7463@wotan.suse.de>

On Wed, May 09, 2007 at 08:00:03AM -0300, George N. White III wrote:
> On 5/9/07, Hans Hagen <pragma at wxs.nl> wrote:
> 
> >Dr. Werner Fink wrote:
> >> Updates within an old distribution are nogoes for distributors. This
> >> because you can not destroy certifications and tested states of an
> >> existing product by getting unkown side effects with new binaries
> >> in an existing package.  The way to go is to fix the security issue
> >> and provide an update with a binary patch on the existing package.
> >> Our QA would never accept a full update to an new version of texlive
> >> on an old product line without a real BETA testing session.
> >>
> >sure, but i'm not talking of a massive update, just the self contained
> >pdftex binary, which is one file
> >
> >normally pdftex is downward compatible (esp when kpse in linked in as
> >well) so if should work with older distributions
> 
> While this might be true for pdftex, it isn't going to convince distributors
> to change their policies.  Distributors don't distinguish between programs
> where bugs are generally easy to spot (badly formatted document) and
> those where bugs are harder to spot and could have serious consequences.

Beside this the policy here states that all programs and libraries have
to be build within the product its self (compiler, glibc, kernel headers,
binutils, runtime linker, and all other packages).  This ensures that
all interfaces and the full environment will fit the product for which
the security patch is done.  Otherwise you may stumble on e.g. the
runtime linker or the changed interface of the glibc or the changed
file system paths or whatever is changed in the mean time.

> Testing a security patch on a library has to be done anyway, and is usually
> a relatively simple, self-contained, task.  [Not always -- the recent
> addition of
> sanity checks to libX11 revealed bugs in code that has been used for
> some very critical tasks including medical imaging and weather prediction
> for over a decade.]
> 
> Testing an application is open-ended.   If there is a problem after a
> library is
> patched, debugging is easier because you know exactly what changed.

FullACK ... sometimes it is a nightmare.

         Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From taco at elvenkind.com  Wed May  9 13:08:38 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 09 May 2007 13:08:38 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <22af238a0705090400x75590a87hfd82c7925e3f4f3@mail.gmail.com>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>	<46419583.4010001@wxs.nl>
	<20070509100901.GB1975@boole.suse.de>	<4641A394.2010004@wxs.nl>
	<22af238a0705090400x75590a87hfd82c7925e3f4f3@mail.gmail.com>
Message-ID: <4641ABB6.9010907@elvenkind.com>

George N. White III wrote:
> 
> TeX Live needs to accommodate the needs of distributors so it can be the
> successor to teTeX.  Standards for robustness and reliability are higher 
> today
> because you have more systems where TeX is used as part of the build 
> process
> for complex systems where the coders may never actually use TeX directly.

In my opinion, Linux (re)distributors patching an upstream package to
use a different subsystem from the one it is shipped with, should never
have happened. That is not ' applying security fixes', it is 'forking'.

Best,

Taco





From hanthethanh at gmail.com  Wed May  9 13:34:00 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Wed, 9 May 2007 13:34:00 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
Message-ID: <74f506dc0705090434yb286b25ne8dbd7a37c0dcf05@mail.gmail.com>

On Wed, May 09, 2007 at 10:17:45AM +0200, Frank K?ster wrote:
> "Thanh Han The" <hanthethanh at gmail.com> wrote:
>
> > I also never wanted poppler instead of xpdf and never voted
> > for it. I doubt very much it would bring any advantage at
> > all, while the problems it caused are quite obvious.
>
> Sorry, but it's not your choice.  Ubuntu started using it, our security
> team urged us to do the same, Suse does it, and I am not the one to
> decide, really.
>
> Although I must say I wholeheartedly agree with it.  The impact of
> security bugs in xpdf code may be small, but it's a general policy of
> Linux distributors to either fix security issues once they are known, or
> to show that they do not apply or are not exploitable in a given
> incarnation of the code.
>
> As long as pdftex ships a complete copy of xpdf code, I wouldn't dare to
> judge "doesn't apply" without at least an intermediate level of
> understanding of xpdf and how pdftex uses it.  I don't have that
> understanding and cannot afford the time to learn it, and I fear that's
> true for most people responsible for those packages in Linux distros,
> even those who get paid for their distribution work.
>
> So we're left with fixing the bugs, but that is, unfortunately, *not*
> just a question of taking the xpdf patch, applying it to the sources and
> recompiling the packages.  That would be relatively easy and per se not
> a reason for a switch to poppler.  The real problem is that in almost
> all cases, the published patch does not apply because the copies of xpdf
> in pdftex, pdftohtml, cups, forgotwhat all have slightly different
> versions.  Plus we need to support our stable distribution, which meant
> patching xpdf 1.x, 2.x and 3.x at some point in Debian (with sometimes
> two or more different values for each x).

My vote is to have pdftex linked statically against xpdf
codes, and apply relevant patches to the xpdf codes in the
source tree of pdftex if needed. The responsibity should be
on the pdftex team to verify and apply any patch if needed.

> > I am a debian user myself. There was a time when my xpdf
> > segfaulted for a certain pdf. I reported the problem to
> > Derek and then we found out that the problem happened only
> > with the binaries provided by debian. Of course it's not
> > hard to guess what was Derek's reaction then.
>
> This is totally unrelated, because patches to the xpdf sources in Debian
> have exactly zero effect on pdftex, no matter whether it uses its own
> xpdf copy or libpoppler.

yes, this is little (if at all) related to pdftex, since I
didn't talk about pdftex in this case but xpdf. From the
perspective of an end Debian user, it doesn't look good when
the distro I use provides xpdf binary that segfaults and the
original one from Derek (with the same version) doesn't.
Which raises the question: do the patches provided by
distros really improve xpdf?

As you mentioned above, since I cannot afford the time to
learn and understand all xpdf and poppler code and related
patches, I have to trust someone who understands xpdf best
and is responsible for xpdf. For me it's the xpdf author,
Derek, and not the poppler maintainers, sorry. If a serious
problem with xpdf is found, I believe Derek would deal with
it in the way that is best to him, since after all it's also
his interest to have xpdf reliable.


Regards,
Thanh

From taco at elvenkind.com  Wed May  9 11:45:03 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 09 May 2007 11:45:03 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit
	and	big	endianess
In-Reply-To: <46419583.4010001@wxs.nl>
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl>
Message-ID: <4641981F.60304@elvenkind.com>



Hans Hagen wrote:
> Frank ? wrote:
>> So we're left with fixing the bugs, but that is, unfortunately, *not*
>> just a question of taking the xpdf patch, applying it to the sources and
>> recompiling the packages.  That would be relatively easy and per se not
>> a reason for a switch to poppler.  The real problem is that in almost
>> all cases, the published patch does not apply because the copies of xpdf
>> in pdftex, pdftohtml, cups, forgotwhat all have slightly different
>> versions.  Plus we need to support our stable distribution, which meant
>> patching xpdf 1.x, 2.x and 3.x at some point in Debian (with sometimes
>> two or more different values for each x).

 From the past posts on this topic, I am led to believe that there are
already two incompatible releases of poppler, right now. To me, it does
not appear that poppler is improving the multiple-version situation any.

Anyway, that is your choice. I assume pdftex reports the poppler version
that is used in the output of pdftex --version, as well as a location
for poppler-related bug reports (i.e. *not* the pdftex list).

Best wishes,
Taco

From werner at suse.de  Wed May  9 13:54:48 2007
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 9 May 2007 13:54:48 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <4641ABB6.9010907@elvenkind.com>
Message-ID: <20070509115222.GA5250@boole.suse.de>

On Wed, May 09, 2007 at 01:08:38PM +0200, Taco Hoekwater wrote:
> George N. White III wrote:
> >
> >TeX Live needs to accommodate the needs of distributors so it can be the
> >successor to teTeX.  Standards for robustness and reliability are higher 
> >today
> >because you have more systems where TeX is used as part of the build 
> >process
> >for complex systems where the coders may never actually use TeX directly.
> 
> In my opinion, Linux (re)distributors patching an upstream package to
> use a different subsystem from the one it is shipped with, should never
> have happened. That is not ' applying security fixes', it is 'forking'.

Hmmm ... does this mean that (re)distributors should not use the
configure options to use system libraries instead of the provided
within source.tar.bz2? Hopefully not ;)

Beside this patches to get the stuff fit into main system should
be also allowed to avoid violation of the LSB due the Filesystem
Hierarchy Standard restrictions ...  and at least applying patches
for e.g. CVE-2007-0104 for xpdf should be also allowed[1].


       Werner

[1] Was there a fixed version of source.tar.bz2 for e.g. CVE-2007-0104?

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From taco at elvenkind.com  Wed May  9 13:58:19 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 09 May 2007 13:58:19 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit
	and	big	endianess
In-Reply-To: <20070509115222.GA5250@boole.suse.de>
References: <20070509115222.GA5250@boole.suse.de>
Message-ID: <4641B75B.9080804@elvenkind.com>



Dr. Werner Fink wrote:
> On Wed, May 09, 2007 at 01:08:38PM +0200, Taco Hoekwater wrote:
>> George N. White III wrote:
>>> TeX Live needs to accommodate the needs of distributors so it can be the
>>> successor to teTeX.  Standards for robustness and reliability are higher 
>>> today
>>> because you have more systems where TeX is used as part of the build 
>>> process
>>> for complex systems where the coders may never actually use TeX directly.
>> In my opinion, Linux (re)distributors patching an upstream package to
>> use a different subsystem from the one it is shipped with, should never
>> have happened. That is not ' applying security fixes', it is 'forking'.
> 
> Hmmm ... does this mean that (re)distributors should not use the
> configure options to use system libraries instead of the provided
> within source.tar.bz2? Hopefully not ;)

xpdf != poppler !


Taco

From frank at kuesterei.ch  Wed May  9 14:11:06 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 14:11:06 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <4641A95A.5000108@wxs.nl> (Hans Hagen's message of "Wed\,
	09 May 2007 12\:58\:34 +0200")
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <20070509100901.GB1975@boole.suse.de>
	<4641A394.2010004@wxs.nl>
	<68c491a60705090346u809e032xe9a0b83104e33231@mail.gmail.com>
	<4641A95A.5000108@wxs.nl>
Message-ID: <87wszijixx.fsf@riesling.zuerich.kuesterei.ch>

Hans Hagen <pragma at wxs.nl> wrote:

> ? wrote:
>> 2007/5/9, Hans Hagen <pragma at wxs.nl>:
>> Imagine a customer (we're talking about SLES here) relying on bugs
>> (i.e. having worked around them) in 1.30 complaining that his app
>> doesn't work anymore because you silently replaced his pdftex with
>> 1.40.
> well, if one makes workaround that is not checking versions, then one
> is in trouble anyway and should have reported that bug in the first
> place; 

The bug may or may not have been reported, that's irrelevant.

> normally bugs in pdftex are solved pretty fast so writing a
> workaround may have taken more time. 

No, if you've bought a certified system you won't bother yourself with
updating single binaries, that's not what you paid for.  Moreover, the
very purpose of using such a certified and stable system is that you
need *not* check versions in your implementation.  Before your vendor
stops their support for this version, you have time to plan the upgrade
carefully and test all implementations and workarounds.  But this is at
a predictable point in time (and it might be possible to move it by
paying), not at a random time when a security issue pops up.

> also, i assume that security issues (as well as fixes and side
> effects)  are investigated first; it may be that pdftex is never
> affected by the issue at all, in which case no update is needed

You're welcome to do this if you think you have the time and skills.  We
can notify you whenever a CVE is published, and after some time of
productive working you might even get embargoed information before it
goes public.  That way, I assume that in fact many fixes against xpdf
code need not be applied to the pdftex sources.

However, you'll have to commit yourself to this task quite definitely
and firmly, in order to convince vendors that this is a better
alternative than using a shared library which is trivial to exchange.

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Wed May  9 14:14:09 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 14:14:09 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <4641ABB6.9010907@elvenkind.com> (Taco Hoekwater's message of
	"Wed\, 09 May 2007 13\:08\:38 +0200")
References: <74f506dc0705081335g2e1c4bcerfd8141a863b0d1c9@mail.gmail.com>
	<87sla6o1g6.fsf@riesling.zuerich.kuesterei.ch>
	<46419583.4010001@wxs.nl> <20070509100901.GB1975@boole.suse.de>
	<4641A394.2010004@wxs.nl>
	<22af238a0705090400x75590a87hfd82c7925e3f4f3@mail.gmail.com>
	<4641ABB6.9010907@elvenkind.com>
Message-ID: <87sla6jisu.fsf@riesling.zuerich.kuesterei.ch>

Taco Hoekwater <taco at elvenkind.com> wrote:

> George N. White III wrote:
>>
>> TeX Live needs to accommodate the needs of distributors so it can be the
>> successor to teTeX.  Standards for robustness and reliability are
>> higher today
>> because you have more systems where TeX is used as part of the build
>> process
>> for complex systems where the coders may never actually use TeX directly.
>
> In my opinion, Linux (re)distributors patching an upstream package to
> use a different subsystem from the one it is shipped with, should never
> have happened. That is not ' applying security fixes', it is 'forking'.

Well, call it as you wish.  Are you willing to provide security updates
of pfdTeX in a timely manner and also for old versions?  AFAIK this
hasn't happened in the past, not even after such patches were used by
distributors.  

And I don't critizise the pdfTeX developers for this.  But it would be a
necessity if you want to avoid us "forking".

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From martin at oneiros.de  Wed May  9 14:16:05 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 9 May 2007 14:16:05 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <20070509115222.GA5250@boole.suse.de>
References: <4641ABB6.9010907@elvenkind.com>
	<20070509115222.GA5250@boole.suse.de>
Message-ID: <68c491a60705090516j5ed13880i357399770e4f3405@mail.gmail.com>

2007/5/9, Dr. Werner Fink <werner at suse.de>:
> [1] Was there a fixed version of source.tar.bz2 for e.g. CVE-2007-0104?

No. But it's in my developement version.

Btw: I got notice of this (and the patch) through SUSE's online
update. No word by Derek, and I don't follow the usual security lists
where this would be announced.

Best
   Martin

From werner at suse.de  Wed May  9 14:16:19 2007
From: werner at suse.de (Dr. Werner Fink)
Date: Wed, 9 May 2007 14:16:19 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit
	and	big	endianess
In-Reply-To: <4641B75B.9080804@elvenkind.com>
References: <20070509115222.GA5250@boole.suse.de>
	<4641B75B.9080804@elvenkind.com>
Message-ID: <20070509121619.GA24423@wotan.suse.de>

On Wed, May 09, 2007 at 01:58:19PM +0200, Taco Hoekwater wrote:
> 
> 
> Dr. Werner Fink wrote:
> >On Wed, May 09, 2007 at 01:08:38PM +0200, Taco Hoekwater wrote:
> >>George N. White III wrote:
> >>>TeX Live needs to accommodate the needs of distributors so it can be the
> >>>successor to teTeX.  Standards for robustness and reliability are higher 
> >>>today
> >>>because you have more systems where TeX is used as part of the build 
> >>>process
> >>>for complex systems where the coders may never actually use TeX directly.
> >>In my opinion, Linux (re)distributors patching an upstream package to
> >>use a different subsystem from the one it is shipped with, should never
> >>have happened. That is not ' applying security fixes', it is 'forking'.
> >
> >Hmmm ... does this mean that (re)distributors should not use the
> >configure options to use system libraries instead of the provided
> >within source.tar.bz2? Hopefully not ;)
> 
> xpdf != poppler !

Come on .. the only reason why poppler exists is that Derek
was/is not willingly to provide a shared interface of xpdf.

This had lead in history to the fact that every software
project fiddeling with pdf has used its own copy xpdf source.
Sometimes with own patches and/or enhancements ... sometimes
with an outdated and therefore unsecure version of the xpdf
sources.

Now remembering on CESA-2004-007, CAN-2004-0888, CAN-2005-0064,
CAN-2005-3191,3192,3193, CVE-2006-0301 and CVE-2007-0104 ...
all of these programs including teTeX had to be fixed due
to the fact that there was no shared libxpdf. Beside this
I can not remember any updates on tug.org for teTeX or
TeXLive for any of those reports ;)

With the shared libpoppler all this maintenence nightmare
is shrinked heavily to _one_ package in the system ...
and even for the xpdf this would be a win ... at least
from the security and maintenence point of view.

Now the question: what is wrong on the wish to have only
one central interface in the system with may have potential
security risk in handling pdf files?


       Werner

-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From martin at oneiros.de  Wed May  9 14:24:28 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 9 May 2007 14:24:28 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <20070509121619.GA24423@wotan.suse.de>
References: <20070509115222.GA5250@boole.suse.de>
	<4641B75B.9080804@elvenkind.com>
	<20070509121619.GA24423@wotan.suse.de>
Message-ID: <68c491a60705090524k7fe6717dw4313f9b281f10cc5@mail.gmail.com>

2007/5/9, Dr. Werner Fink <werner at suse.de>:
> Now the question: what is wrong on the wish to have only
> one central interface in the system with may have potential
> security risk in handling pdf files?

Nothing.

Best
   Martin

From frank at kuesterei.ch  Wed May  9 14:34:34 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 14:34:34 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <74f506dc0705090434yb286b25ne8dbd7a37c0dcf05@mail.gmail.com>
	(Thanh Han The's message of "Wed\, 9 May 2007 13\:34\:00 +0200")
References: <74f506dc0705090434yb286b25ne8dbd7a37c0dcf05@mail.gmail.com>
Message-ID: <87mz0ejhut.fsf@riesling.zuerich.kuesterei.ch>

"Thanh Han The" <hanthethanh at gmail.com> wrote:

> My vote is to have pdftex linked statically against xpdf
> codes, and apply relevant patches to the xpdf codes in the
> source tree of pdftex if needed. The responsibity should be
> on the pdftex team to verify and apply any patch if needed.

What do you mean with "pdftex team"?  The developers on
ntg-pdftex at ntg.nl?  Are you really willing to take this responsibility?
In a timely manner?  Also for old versions which might still be
supported by distributors?

For Debian, that would currently be 1.10b, 1.21a, 1.30.4 and 1.40.1.

> yes, this is little (if at all) related to pdftex, since I
> didn't talk about pdftex in this case but xpdf. From the
> perspective of an end Debian user, it doesn't look good when
> the distro I use provides xpdf binary that segfaults and the
> original one from Derek (with the same version) doesn't.
> Which raises the question: do the patches provided by
> distros really improve xpdf?

I don't know which patches are applied to xpdf and why.  But usually
there's a reason for such fixes, and on the other hand it's okay to
question this decision.

But I still don't get how that is relevant in this discussion.  Do you
want to draw an analogy "if distributors' patches for xpdf lower the
quality, so will patches to pdftex"?

> As you mentioned above, since I cannot afford the time to
> learn and understand all xpdf and poppler code and related
> patches, I have to trust someone who understands xpdf best
> and is responsible for xpdf. 

Ah, so it's not going to be you who does the verifying you claimed above
should be done by the pdftex team?  Who else?

> For me it's the xpdf author,
> Derek, and not the poppler maintainers, sorry. If a serious
> problem with xpdf is found, I believe Derek would deal with
> it in the way that is best to him, since after all it's also
> his interest to have xpdf reliable.

In the past, we never got any help from Derek in creating patches for
old versions.  

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From juergen.fenn at GMX.DE  Wed May  9 14:37:12 2007
From: juergen.fenn at GMX.DE (Juergen Fenn)
Date: Wed, 09 May 2007 14:37:12 +0200
Subject: [tex-live] package dependencies
References: <200705081759.l48Hxjp11899@tug.org>
Message-ID: <wky7jy2mx3.fsf@juergenfenn.de>

karl at freefriends.org (Karl Berry) writes:

> I wonder if miktex tries to implement package-level dependencies.  If
> you install acronym under miktex, does it install bigfoot (or suffix, if
> it got separated out)?

I still only have MiKTeX 2.4 installed here. So here is a look into
acronym.tmp from acronym.cab from MiKTeX 2.5:

<?xml version="1.0"?>
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:TPM="http://texlive.dante.de/"><rdf:Description about="http://www.miktex.org/packages/acronym"><TPM:Name>acronym</TPM:Name><TPM:Creator>mpc</TPM:Creator><TPM:Title>Expand acronyms at least once.</TPM:Title><TPM:Version></TPM:Version><TPM:Description>This package ensures that all acronyms used in the text are spelled out in full at least once. It also provides an environment to build a list of acronyms used.</TPM:Description><TPM:RunFiles size="11498">texmf\tex\latex\acronym\acronym.sty</TPM:RunFiles><TPM:DocFiles size="41255">texmf\doc\latex\acronym\acronym.dvi texmf\doc\latex\acronym\README</TPM:DocFiles><TPM:SourceFiles size="13141">texmf\source\acronym-src.tar.bz2</TPM:SourceFiles><TPM:TimePackaged>1151514568</TPM:TimePackaged><TPM:MD5>3e624a31f36b5b461c6998fcda4bedd7</TPM:MD5></rdf:Description></rdf:RDF>

And here's bigfoot.tpm from bigfoot.cab:

<?xml version="1.0"?>
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:TPM="http://texlive.dante.de/"><rdf:Description about="http://www.miktex.org/packages/bigfoot"><TPM:Name>bigfoot</TPM:Name><TPM:Creator>mpc</TPM:Creator><TPM:Title></TPM:Title><TPM:Version></TPM:Version><TPM:Description></TPM:Description><TPM:RunFiles size="50259">texmf\tex\latex\bigfoot\bigfoot.sty texmf\tex\latex\bigfoot\perpage.sty texmf\tex\latex\bigfoot\suffix.sty</TPM:RunFiles><TPM:DocFiles size="234172">texmf\doc\latex\bigfoot\bigfoot.dvi texmf\doc\latex\bigfoot\perpage.dvi texmf\doc\latex\bigfoot\README texmf\doc\latex\bigfoot\suffix.dvi</TPM:DocFiles><TPM:SourceFiles size="36283">texmf\source\bigfoot-src.tar.bz2</TPM:SourceFiles><TPM:TimePackaged>1153513211</TPM:TimePackaged><TPM:MD5>b436b0bb73e0beeed089cf8204a14843</TPM:MD5></rdf:Description></rdf:RDF>

Does not seem to observe any dependencies, either. OTOH, MiKTeX does
not need to do so because it is able to install missing packages on
the fly, if this option is switched on in the MiKTeX options (and if
there is a MiKTeX cab file available for the respective package, of
course).

J?rgen.


From juergen.fenn at GMX.DE  Wed May  9 14:25:37 2007
From: juergen.fenn at GMX.DE (Juergen Fenn)
Date: Wed, 09 May 2007 14:25:37 +0200
Subject: [tex-live] Bug#420394: How to handle interdependencies of
 collections (was: Bug#420394: texlive-latex-extra: acronym.sty requires
 suffix.sty from texlive-humanities)
References: <87vef32rxz.fsf_-_@riesling.zuerich.kuesterei.ch>
	<200705081644.l48Gixx31450@f7.net>
Message-ID: <wkirb2420u.fsf@juergenfenn.de>

karl at freefriends.org (Karl Berry) writes:

>     On the Debian side, I think we can add a Recommends or Suggests, a "soft
>     Requires". 
>
> That sounds reasonable in general, if you want to make a general
> statement.  Other possibilities would be to move acronym to humanities,
> or bigfoot to latexextra.  I don't have strong feelings about it.

I agree with Frank that acronym is useful not only for those working
in the humanities. However, if I got it right, we could say humanities
requires latexextra, but not vice versa, right? So if a user can do
without the humanities packages he still can install latexextra only.

> This kind of stuff is why I'm more of a lumper than a splitter when it
> comes to TeX packages.  There have probably been more bytes expended in
> the email exchange than if everything was in one package in the first place.

Unfortunately there was *one* poster who was taking part in the then
discussion and who later admitted he didn't know TL at all ... 

J?rgen.


From frank at kuesterei.ch  Wed May  9 16:25:06 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 09 May 2007 16:25:06 +0200
Subject: [tex-live] Bug#420394: How to handle interdependencies of
	collections
In-Reply-To: <wkirb2420u.fsf@juergenfenn.de> (Juergen Fenn's message of "Wed\,
	09 May 2007 14\:25\:37 +0200")
References: <87vef32rxz.fsf_-_@riesling.zuerich.kuesterei.ch>
	<200705081644.l48Gixx31450@f7.net> <wkirb2420u.fsf@juergenfenn.de>
Message-ID: <87irb2hy65.fsf@riesling.zuerich.kuesterei.ch>

Juergen Fenn <juergen.fenn at GMX.DE> wrote:

> karl at freefriends.org (Karl Berry) writes:
>
>>     On the Debian side, I think we can add a Recommends or Suggests, a "soft
>>     Requires". 
>>
>> That sounds reasonable in general, if you want to make a general
>> statement.  Other possibilities would be to move acronym to humanities,
>> or bigfoot to latexextra.  I don't have strong feelings about it.
>
> I agree with Frank that acronym is useful not only for those working
> in the humanities. However, if I got it right, we could say humanities
> requires latexextra, but not vice versa, right? So if a user can do
> without the humanities packages he still can install latexextra only.

We could, but then we could as well lump all of colleciton-humanities
into collection-latexextra. 

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From vext01 at gmail.com  Wed May  9 19:44:13 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Wed, 9 May 2007 18:44:13 +0100
Subject: [tex-live] OpenBSD call for testing and Thanks.
Message-ID: <a6e8c1d0705091044j1fca7cfbx61889f5c2ec55d3d@mail.gmail.com>

Hi Guys,

I have just presented the OpenBSD port to the community.

Anyone interested in helping test may download the port from here:

http://students.dec.bmth.ac.uk/ebarrett/texlive/

Please only test on -current snapshots and mail me letting me know how
your build went. I will then report back to the ports@ list on your
behalf, so that you do not have to sign up. I am particularky
interested in arches that are non i386 and sparc64.

Big thanks to all who helped! Your input has been very useful. I shall
be signing up for TUG membership in the near future to display my
appreciation for your work.

Thankyou.

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett/

From karl at freefriends.org  Wed May  9 20:03:43 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 9 May 2007 13:03:43 -0500
Subject: [tex-live] How to handle interdependencies of collections
In-Reply-To: <85odktnaph.fsf@lola.goethe.zz>
Message-ID: <200705091803.l49I3h731364@f7.net>

    Where is bigfoot now?  

collection-humanities

    None of that is specific to humanities at all.  

Happy to hear this.  I moved it to collection-latexextra.

Thanks,
k

From juergen.fenn at GMX.DE  Wed May  9 23:49:58 2007
From: juergen.fenn at GMX.DE (Juergen Fenn)
Date: Wed, 09 May 2007 23:49:58 +0200
Subject: [tex-live] Bug#420394: How to handle interdependencies of
	collections
References: <87vef32rxz.fsf_-_@riesling.zuerich.kuesterei.ch>
	<200705081644.l48Gixx31450@f7.net> <wkirb2420u.fsf@juergenfenn.de>
	<87irb2hy65.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <wkfy658y61.fsf@juergenfenn.de>

Frank K?ster <frank at kuesterei.ch> writes:

>> I agree with Frank that acronym is useful not only for those working
>> in the humanities. However, if I got it right, we could say humanities
>> requires latexextra, but not vice versa, right? So if a user can do
>> without the humanities packages he still can install latexextra only.
>
> We could, but then we could as well lump all of colleciton-humanities
> into collection-latexextra. 

We had this discussion earlier when c.-humanities was created. We
agreed then that a complete install of TL is recommended anyway. So if
you decide not to make a full install it still makes sense to split
latexextra and humanities as long as the user knows where to get
the missing packages from. I think a comment on the relations between
some packages in the two collections would do.

Regards,
J?rgen.


From dak at gnu.org  Wed May  9 19:55:22 2007
From: dak at gnu.org (David Kastrup)
Date: Wed, 09 May 2007 19:55:22 +0200
Subject: [tex-live] How to handle interdependencies of collections
In-Reply-To: <200705081644.l48Gixx31450@f7.net> (Karl Berry's message of "Tue\,
	8 May 2007 11\:44\:59 -0500")
References: <200705081644.l48Gixx31450@f7.net>
Message-ID: <85odktnaph.fsf@lola.goethe.zz>

karl at freefriends.org (Karl Berry) writes:

> That sounds reasonable in general, if you want to make a general
> statement.  Other possibilities would be to move acronym to
> humanities, or bigfoot to latexextra.  I don't have strong feelings
> about it.

Where is bigfoot now?  It consists of "perpage.sty", a way of
numbering footnotes and other counters per page (also called upon by
some other packages), suffix.sty for defining command variants, and
bigfoot.sty which makes \verb work in footnotes, provides for nicer
para-style footnotes with sane page size calculations, fixes the color
stack across footnotes and fixes some really awful TeX and LaTeX page
break decisions in connection with footnotes broken across lines.

None of that is specific to humanities at all.  bigfoot also has the
required power to sensibly work with several layers of footnotes in
different styles (which _is_ interesting to humanities), but that it
_can_ do the really contorted stuff right does not change that there
are few other options to actually get the _simple_ stuff with
footnotes right.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From mojca.miklavec.lists at gmail.com  Thu May 10 02:17:44 2007
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 10 May 2007 02:17:44 +0200
Subject: [tex-live] package dependencies
In-Reply-To: <200705081759.l48Hxjp11899@tug.org>
References: <200705081759.l48Hxjp11899@tug.org>
Message-ID: <6faad9f00705091717x443f7146jccd2f4b37f93a761@mail.gmail.com>

On 5/8/07, Karl Berry wrote:
> I wonder if miktex tries to implement package-level dependencies.  If
> you install acronym under miktex, does it install bigfoot (or suffix, if
> it got separated out)?

As Juergen pointed out: MikTeX installs the package first time when it
sees a file is missing, so there is no need to keep track of package
dependencies - it's much better that way, at least I understand it so.

So, when one runs "texexec", MikTeX will notice that "texexec.rb" is
missing and fetch context.cab only. During building of format for
ConTeXt, it will notice that Ukrainian patterns (strange &
unreasonable side-effect) and Latin Modern are missing when ConTeXt
asks for them, so it will install those two packages as well.

If one asks for "ec-iwona.tfm", it will simply install the
corresponding iwona.cab package for example. It works really
impressive and really smooth (some bugs here and there, but there are
so many users that they get resolved pretty quickly) ...

I don't know about the two specific packages, but it will install them
when you first request one of the files from a package. If package A
requires package B, then package B will be installed during processing
of files from A.

Mojca

From rshudde at comcast.net  Fri May 11 00:23:45 2007
From: rshudde at comcast.net (Rex Shudde)
Date: Thu, 10 May 2007 15:23:45 -0700
Subject: [tex-live] The texconfig program
Message-ID: <000301c79351$dfa3b370$6401a8c0@D25XBZB1>

I have received the TeX Live 2007 disk and have performed the "medium" 
installation (i.e., the default installation) on Windows XP.

The first sentence of  Section 4, Post-Installation, of "The TeX Live Guide 
TeX Live 2007" says that for *any* operating system additional steps must be 
taken to configure the system.  So far so good.

The first sentence of Section 4.1 says to use the program texconfig  to 
perform said configuration and that it is installed in the subdirectory 
TEXDIR/bin/arch.  I have searched the C: drive, where TeX Live 2007 was 
installed, and the is no TEXDIR subdirectory anywhere.

There is a C:\TeXLive2007\texfm\texconfig folder containing subfolders g, v, 
and x,  but there nothing resembling a texconfig executable anywhere.

I also tried running texconfig from the command line, as suggested for 
changing the paper size, and Windows informed me that it cannot find 
texconfig.

Please advise.

Thank you,
Rex Shudde


From rshudde at comcast.net  Fri May 11 00:44:25 2007
From: rshudde at comcast.net (Rex Shudde)
Date: Thu, 10 May 2007 15:44:25 -0700
Subject: [tex-live] The texconfig program
Message-ID: <000501c79354$c2f5e7e0$6401a8c0@D25XBZB1>

A short time ago I sent you the message below.  Upon reading further, 
Section 6 says I should run tlpmgui.exe to perform the installation. 
Searching again, this file could not be found on neither the C: drive, where 
TeX Live was installed, nor on the TeX Collection DVD.

.................. original message...............
I have received the TeX Live 2007 disk and have performed the "medium"
installation (i.e., the default installation) on Windows XP.

The first sentence of  Section 4, Post-Installation, of "The TeX Live Guide
TeX Live 2007" says that for any operating system additional steps must be
taken to configure the system.  So far so good.

The first sentence of Section 4.1 says to use the program texconfig  to
perform said configuration and that it is installed in the subdirectory
TEXDIR/bin/arch.  I have searched the C: drive, where TeX Live 2007 was
installed, and the is no TEXDIR subdirectory anywhere.

There is a C:\TeXLive2007\texfm\texconfig folder containing subfolders g, v,
and x,  but there nothing resembling a texconfig executable anywhere.

I also tried running texconfig from the command line, as suggested for
changing the paper size, and Windows informed me that it cannot find
texconfig.

Please advise.

Thank you,
Rex Shudde 


From arthur.reutenauer at normalesup.org  Fri May 11 03:59:04 2007
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Fri, 11 May 2007 03:59:04 +0200
Subject: [tex-live] The texconfig program
In-Reply-To: <000501c79354$c2f5e7e0$6401a8c0@D25XBZB1>
References: <000501c79354$c2f5e7e0$6401a8c0@D25XBZB1>
Message-ID: <20070511015904.GA18511@phare.normalesup.org>

> Searching again, this file could not be found on neither the C: drive, 
> where TeX Live was installed, nor on the TeX Collection DVD.

  It should be on the DVD, in texlive\setuptl.

From zdenek.wagner at gmail.com  Fri May 11 10:52:07 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 11 May 2007 10:52:07 +0200
Subject: [tex-live] The texconfig program
In-Reply-To: <20070511015904.GA18511@phare.normalesup.org>
References: <000501c79354$c2f5e7e0$6401a8c0@D25XBZB1>
	<20070511015904.GA18511@phare.normalesup.org>
Message-ID: <8719b6240705110152l1394c988p1733492e4e982cd6@mail.gmail.com>

2007/5/11, Arthur Reutenauer <arthur.reutenauer at normalesup.org>:
> > Searching again, this file could not be found on neither the C: drive,
> > where TeX Live was installed, nor on the TeX Collection DVD.
>
>   It should be on the DVD, in texlive\setuptl.
>
TeXLive is a multiplatform collection. Different systems have
different file systems, Windows have drive letters, Unix systems do
not. Thus TEXDIR is the root directory where TeXLive is installed, in
your case C:\TeXLive (someone has it on drive D: etc.). Moreover,
C:\TeXLive\bin\win32 is not added automatically to PATH. You have to
open Control panel/System/environment variables and add it manually. I
am not sure where ghostscript is installed, in TL 2005 it was
C:\TeXLive\gs5.50. If you wish to use epstopdf, you have to set
environment variable GS_LIB pointing to this directory.

-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From luoyi.ly at gmail.com  Fri May 11 16:17:40 2007
From: luoyi.ly at gmail.com (luoyi)
Date: Fri, 11 May 2007 22:17:40 +0800
Subject: [tex-live] how to upgrade TL2007's metapost to 1.000 ?
Message-ID: <e9e614960705110717j773f25fsafe59da061802ca2@mail.gmail.com>

Hi, metapost 1.000 had released for somedays, can anybody help upgrade
TL2007's metapost to the latest ?

From gnwiii at gmail.com  Fri May 11 17:44:27 2007
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 11 May 2007 12:44:27 -0300
Subject: [tex-live] how to upgrade TL2007's metapost to 1.000 ?
In-Reply-To: <e9e614960705110717j773f25fsafe59da061802ca2@mail.gmail.com>
References: <e9e614960705110717j773f25fsafe59da061802ca2@mail.gmail.com>
Message-ID: <22af238a0705110844k218426cejb8726be17a3f86d@mail.gmail.com>

On 5/11/07, luoyi <luoyi.ly at gmail.com> wrote:
> Hi, metapost 1.000 had released for somedays, can anybody help upgrade
> TL2007's metapost to the latest ?

What platform?

TL doesn't do updates.  For the texmf trees you can use the miktex
package manager, but
for binaries you have to compile the sources.  If you are on a
mainstream *x, compiling
should be straightforward (I had no problems on Fedora Core 5), but
the install requires manual copying the results of the compile over to
the TL tree.

For Win32, check whether Akira Kakuto has the new version in w32tex.


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From reinhard.kotucha at web.de  Fri May 11 19:31:35 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 11 May 2007 19:31:35 +0200
Subject: [tex-live] The texconfig program
In-Reply-To: <000301c79351$dfa3b370$6401a8c0@D25XBZB1>
References: <000301c79351$dfa3b370$6401a8c0@D25XBZB1>
Message-ID: <17988.43127.224656.534148@zarniwoop.ms25.local>

>>>>> "Rex" == Rex Shudde <rshudde at comcast.net> writes:

  > The first sentence of Section 4.1 says to use the program
  > texconfig to perform said configuration and that it is installed
  > in the subdirectory TEXDIR/bin/arch.  I have searched the C:
  > drive, where TeX Live 2007 was installed, and the is no TEXDIR
  > subdirectory anywhere.

On Windows some things are different and there is an extra section in
the manual.  texconfig is the a UNIX shell script.  On Windows you
have to use the installer instead.

  > The first sentence of Section 4, Post-Installation, of "The TeX
  > Live Guide TeX Live 2007" says that for *any* operating system
  > additional steps must be taken to configure the system.

Some post-installation steps are done by the installer itself at the
end of the installation process.  If you launch the installer again,
it will start in maintenance mode.  Then you can configure your
system.  The easiest way to start the installer is to insert the DVD.
You can probably start it from the program menu, but if you want to
add packages you need the DVD anyway.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From luoyi.ly at gmail.com  Sat May 12 03:59:55 2007
From: luoyi.ly at gmail.com (luoyi)
Date: Sat, 12 May 2007 09:59:55 +0800
Subject: [tex-live] how to upgrade TL2007's metapost to 1.000 ?
In-Reply-To: <22af238a0705110844k218426cejb8726be17a3f86d@mail.gmail.com>
References: <e9e614960705110717j773f25fsafe59da061802ca2@mail.gmail.com>
	<22af238a0705110844k218426cejb8726be17a3f86d@mail.gmail.com>
Message-ID: <e9e614960705111859l1e3837fje529ca64ae6f36ae@mail.gmail.com>

>
> What platform?

My box is Slackware 11.0 & Win XP SP2.

>
> TL doesn't do updates.  For the texmf trees you can use the miktex
> package manager, but
> for binaries you have to compile the sources.  If you are on a
> mainstream *x, compiling
> should be straightforward (I had no problems on Fedora Core 5), but
> the install requires manual copying the results of the compile over to
> the TL tree.
>
> For Win32, check whether Akira Kakuto has the new version in w32tex.


metapost's src release tarball contains the different(older) version
of kpathsea&web2c with TL2007's src. so how can I make it upgrade to
TL2007's version ?

BTW: If I want to upgrade some packages of TL2007, can I just simple
extra the iso, replace the file and then mkiso ?

From reinhard.kotucha at web.de  Sat May 12 05:45:15 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 12 May 2007 05:45:15 +0200
Subject: [tex-live] how to upgrade TL2007's metapost to 1.000 ?
In-Reply-To: <e9e614960705111859l1e3837fje529ca64ae6f36ae@mail.gmail.com>
References: <e9e614960705110717j773f25fsafe59da061802ca2@mail.gmail.com>
	<22af238a0705110844k218426cejb8726be17a3f86d@mail.gmail.com>
	<e9e614960705111859l1e3837fje529ca64ae6f36ae@mail.gmail.com>
Message-ID: <17989.14411.756827.497284@zarniwoop.ms25.local>

>>>>> "luoyi" == luoyi  <luoyi.ly at gmail.com> writes:

  > BTW: If I want to upgrade some packages of TL2007, can I just
  > simple extra the iso, replace the file and then mkiso ?

Yes, but don't forget to enable the Rock Ridge and Joliet extensions.
Read the mkisofs manual page first.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From p.j.heslin at durham.ac.uk  Sun May 13 23:53:16 2007
From: p.j.heslin at durham.ac.uk (Peter Heslin)
Date: Sun, 13 May 2007 22:53:16 +0100
Subject: [tex-live] Installing TL breaks Ubuntu
Message-ID: <20070513215316.GA32516@dur.ac.uk>

I'm in the middle of upgrading my desktop computer from Ubuntu 6.10
(Edgy) to 7.04 (Feisty), and the upgrade halted with an error message.
When I looked into the problem at the command-line with apt-get, it
turned out that for some package, install-info was complaining about
being supplied arguments that it didn't understand.

Google told me that there are differences between the Debian
install-info and the Gnu install-info, and when I checked my own
system I found that I had two copies, one of which was a symlink from
/usr/local/bin to the texlive tree.  Indeed, when I installed TL, I
put it in /opt, with symlinks to /usr/local/bin, which comes early in
my PATH (not sure if that is the Ubuntu default or if it's me).

I removed the symlink and was able to re-start the upgrade process
successfully, but I think many Ubuntu users would not have been
able even to figure out that the problem was related  to TL. 

I see in the archives that there is past discussion of putting TL's
install-info into a private bin directory, not in the PATH.  That
would have been prudent, given the magnitude of the problem this can
cause -- Ubuntu users may find themselves unable to add, remove or
upgrade packages on their half-upgraded system as a mysterious effect
of having installed TL.
 
Best wishes,

Peter

-- 
http://www.dur.ac.uk/p.j.heslin

From p.j.heslin at durham.ac.uk  Mon May 14 00:09:21 2007
From: p.j.heslin at durham.ac.uk (Peter Heslin)
Date: Sun, 13 May 2007 23:09:21 +0100
Subject: [tex-live] Installing TL breaks Ubuntu (PS.)
Message-ID: <20070513220921.GB32516@dur.ac.uk>

Just found a report from another user who had the same problem:

https://bugs.launchpad.net/ubuntu/+source/update-manager/+bug/108479

Peter

From sanjoy at mrao.cam.ac.uk  Mon May 14 04:57:57 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Mon, 14 May 2007 03:57:57 +0100
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: Your message of "Sun, 13 May 2007 22:53:16 BST."
	<20070513215316.GA32516@dur.ac.uk> 
Message-ID: <E1HnQl3-0005HU-00@skye.ra.phy.cam.ac.uk>

Because of situations like what you describe, I never like to install
software by hand if there are debian packages for it.  The Debian
texlive 2007 packages don't quite work on Ubuntu (due to libpoppler
misery), but I do the following to get them to work:

1. Add these lines to /etc/apt/sources.list and do 'apt-get update'

deb-src http://www.tug.org/texlive/Debian/ src/
deb http://www.tug.org/texlive/Debian/ context/
deb http://www.tug.org/texlive/Debian/ tl2007/
deb http://www.tug.org/texlive/Debian/ luatex/
deb http://www.tug.org/texlive/Debian/ lmodern/

2. Then (choosing /var/tmp/tlrebuild as a convenient directory):

  mkdir /var/tmp/tlrebuild
  cd /var/tmp/tlrebuild
  apt-get build-dep texlive-bin
  apt-get source texlive-bin
  cd texlive-bin-2007
  /* edit debian/patches/series to comment out (by adding a '#' at the
     beginning of the line) the 30_libpoppler line */
  dpkg-buildpackage -rfakeroot -uc -b
  cd ..

and you'll see lots of .deb packages that have just been made.  Now
grab a tex-common 1.7 package from Debian unstable:

  wget http://ftp.de.debian.org/debian/pool/main/t/tex-common/tex-common_1.7_al
l.deb
  sudo dpkg --dry-run -i *.deb

to see whether all the pkgs (the ones you built plus the tex-common)
will install nicely.  If they do:

  sudo dpkg -i *.deb

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From preining at logic.at  Mon May 14 18:07:33 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 14 May 2007 18:07:33 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit
	and	big	endianess
In-Reply-To: <20070509121619.GA24423@wotan.suse.de>
References: <20070509115222.GA5250@boole.suse.de>
	<4641B75B.9080804@elvenkind.com>
	<20070509121619.GA24423@wotan.suse.de>
Message-ID: <20070514160733.GA22903@gamma.logic.tuwien.ac.at>

Hi all!

Many has been said in this thread, but we still see no conclusion in any
way...

OTOH we have pdftex team and depending projects like luatex etc which
want to use xpdf code

OTOH we have the distributors which have security concerns,
certification issues, and don't want to check the source code of 20
packages using xpdf code.

I both points are valid, but I don't see any solution ATM but that we
get an approved libxpdf. As long as this will not happen distributors
will patch the sources to use libpoppler, and upstream will use xpdf
code in the source.

This is the reality, pdftex and friends might choose xpdf, but at the
end it will be patched away. And since there is *hardly* any hand made
*nix system in the wild (most people use distributions), most people but
those installing TeX (Live) from the DVD/CD will have a TeX system with
the binaries linked against libpoppler.

What I want to say is that pdftex and friends, and Derek from xpdf,
should consider this in their further development. It is nothing you can
avoid (with decent means).

Well, lets hope for a libxpdf ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
WETWANG (n.)
A moist penis.
			--- Douglas Adams, The Meaning of Liff

From f.rougon at free.fr  Mon May 14 18:01:45 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 14 May 2007 18:01:45 +0200
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: <E1HnQl3-0005HU-00@skye.ra.phy.cam.ac.uk> (Sanjoy Mahajan's
	message of "Mon, 14 May 2007 03:57:57 +0100")
References: <E1HnQl3-0005HU-00@skye.ra.phy.cam.ac.uk>
Message-ID: <87tzuftmvq.fsf@florent.maison>

Hi,

Sanjoy Mahajan <sanjoy at mrao.cam.ac.uk> wrote:

> deb http://www.tug.org/texlive/Debian/ lmodern/

I think this is not the latest lmodern. You should be able to directly
use the .deb from unstable, as you do for tex-common.

-- 
Florent

From hanthethanh at gmail.com  Mon May 14 19:59:53 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Mon, 14 May 2007 19:59:53 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
Message-ID: <74f506dc0705141059u6db4df3dla1c22d23d59890d0@mail.gmail.com>

On Wed, May 09, 2007 at 02:34:34PM +0200, Frank K?ster wrote:
> "Thanh Han The" <hanthethanh at gmail.com> wrote:
>
> > My vote is to have pdftex linked statically against xpdf
> > codes, and apply relevant patches to the xpdf codes in the
> > source tree of pdftex if needed. The responsibity should be
> > on the pdftex team to verify and apply any patch if needed.
>
> What do you mean with "pdftex team"?  The developers on
> ntg-pdftex at ntg.nl?  Are you really willing to take this responsibility?
> In a timely manner?  Also for old versions which might still be
> supported by distributors?
>
> For Debian, that would currently be 1.10b, 1.21a, 1.30.4 and 1.40.1.

we didn't promise such a thing, and I see no reason why we
should do that. Our goal is to keep the latest pdftex
stable.

regards "pdftex team"'s responsibility: since EuroBachoTeX
2007, the person responsible for pdftex source control is
Taco Hoekwater. Any patch must pass Taco's approvement
before it can get into pdftex official sources. Taco of course
discusses things with other people in the team and makes the
final decision according to his best judgement.

> > yes, this is little (if at all) related to pdftex, since I
> > didn't talk about pdftex in this case but xpdf. From the
> > perspective of an end Debian user, it doesn't look good when
> > the distro I use provides xpdf binary that segfaults and the
> > original one from Derek (with the same version) doesn't.
> > Which raises the question: do the patches provided by
> > distros really improve xpdf?
>
> I don't know which patches are applied to xpdf and why.  But usually
> there's a reason for such fixes, and on the other hand it's okay to
> question this decision.
>
> But I still don't get how that is relevant in this discussion.  Do you
> want to draw an analogy "if distributors' patches for xpdf lower the
> quality, so will patches to pdftex"?

I mean this: those patches while trying to fix certain
issues, might bring another class of problems themselves,
and we don't want to deal with things that are issues of
distributors. We don't want to prevent third-parties to use
poppler instead of xpdf, but we also don't want to be
dependent of poppler. At least for the moment. So pdftex
should be built with xpdf code by default, and anyone who
wishes to use poppler instead is free to do so. Martin has
promised to provide an easy way to do that. Or anyone from
the distributors can submit a patch for this purpose. And if
Taco considers the patch good enough, it will be in.

> > As you mentioned above, since I cannot afford the time to
> > learn and understand all xpdf and poppler code and related
> > patches, I have to trust someone who understands xpdf best
> > and is responsible for xpdf.
>
> Ah, so it's not going to be you who does the verifying you claimed above
> should be done by the pdftex team?  Who else?

as I said above: Taco is responsible for pdftex sources
now. If Taco doesn't have the time to do that, he will
have to discuss with people and makes the decision he
considers as the most appropriate.

> > For me it's the xpdf author,
> > Derek, and not the poppler maintainers, sorry. If a serious
> > problem with xpdf is found, I believe Derek would deal with
> > it in the way that is best to him, since after all it's also
> > his interest to have xpdf reliable.
>
> In the past, we never got any help from Derek in creating patches for
> old versions.

I think it's another story, but let's stop here.


Regards,
Thanh

From taco at elvenkind.com  Mon May 14 20:38:54 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 14 May 2007 20:38:54 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <74f506dc0705141059u6db4df3dla1c22d23d59890d0@mail.gmail.com>
References: <74f506dc0705141059u6db4df3dla1c22d23d59890d0@mail.gmail.com>
Message-ID: <4648ACBE.8080905@elvenkind.com>

Thanh Han The wrote:
> 
> I mean this: those patches while trying to fix certain
> issues, might bring another class of problems themselves,
> and we don't want to deal with things that are issues of
> distributors. We don't want to prevent third-parties to use
> poppler instead of xpdf, but we also don't want to be
> dependent of poppler. At least for the moment. So pdftex
> should be built with xpdf code by default, and anyone who
> wishes to use poppler instead is free to do so. Martin has
> promised to provide an easy way to do that. Or anyone from
> the distributors can submit a patch for this purpose. And if
> Taco considers the patch good enough, it will be in.

Let me chime in and also be a little bit more precise. What we
as the pdftex team have agreed upon regarding the poppler/xpdf
situation is the following:

* For the foreseable future, our reference implementation of
   pdftex/luatex will continue to use xpdf (we will switch to the
   new 3.02 release soon). The main reason for sticking with xpdf
   that we require stability, and at the moment poppler is still
   too much in flux for our taste.

* But at the same time, we (Martin) will develop an internal
   wrapper API to hide the differences between xpdf and poppler,
   and also the needed autoconf magic to dynamically compile
   pdftex against a specific, predetermined version of libpoppler
   instead of the static xpdf. Under those conditions, using
   poppler will be officially supported. Bugfixes are OK of course,
   but altogether different versions are "out".

I hope this can be implemented in one of the next bugfix
releases for pdftex 1.40, in a month or two from now.

Best wishes,

Taco


From sanjoy at mrao.cam.ac.uk  Mon May 14 21:48:09 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Mon, 14 May 2007 20:48:09 +0100
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: Your message of "Mon, 14 May 2007 18:01:45 +0200."
	<87tzuftmvq.fsf@florent.maison> 
Message-ID: <E1HngWf-000697-00@skye.ra.phy.cam.ac.uk>

>> deb http://www.tug.org/texlive/Debian/ lmodern/
> I think this is not the latest lmodern. You should be able to directly
> use the .deb from unstable, as you do for tex-common.

You underestimate Norbert's thoroughness :-) I just checked: That repo
has lmodern 1.010x-3, as does Debian unstable (according to
<http://packages.debian.org/lmodern>).

So another vote of thanks to Norbert for the Debian packaging.

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From f.rougon at free.fr  Mon May 14 22:27:57 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Mon, 14 May 2007 22:27:57 +0200
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: <E1HngWf-000697-00@skye.ra.phy.cam.ac.uk> (Sanjoy Mahajan's
	message of "Mon, 14 May 2007 20:48:09 +0100")
References: <E1HngWf-000697-00@skye.ra.phy.cam.ac.uk>
Message-ID: <87tzuf6tgy.fsf@florent.maison>

Sanjoy Mahajan <sanjoy at mrao.cam.ac.uk> wrote:

> You underestimate Norbert's thoroughness :-) I just checked: That repo
> has lmodern 1.010x-3, as does Debian unstable (according to
> <http://packages.debian.org/lmodern>).

Right... for this time. :-)

-- 
Florent

From karl at freefriends.org  Tue May 15 00:16:57 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 14 May 2007 17:16:57 -0500
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: <20070513215316.GA32516@dur.ac.uk>
Message-ID: <200705142216.l4EMGvr25702@f7.net>

     differences between the Debian
    install-info and the Gnu install-info

Yes, there are, but this is not a TeX Live issue.  It is a
Debian/Ubuntu/whatever issue.  I don't pretend to understand how their
packaging systems work.

TL just supplies the Texinfo install-info in the bin directories, like
all the other Texinfo programs.  If that's bad for some distributions,
they are free to remove it in their packaging, of course.  (Personally
it's not clear to me that Texinfo itself is really useful as part of TL,
but other people apparently like to have it there.)

Of course, the real fix would be to merge the Debian and Texinfo
install-info so that they are the same thing.  Unfortunately, Norbert
and I have gotten distracted from that and I don't know when or if it
will ever happen at this point, barring a new volunteer.

Best,
Karl

From werner at suse.de  Tue May 15 11:38:44 2007
From: werner at suse.de (Dr. Werner Fink)
Date: Tue, 15 May 2007 11:38:44 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
Message-ID: <20070515093844.GA11003@boole.suse.de>

Hi,

just to be noted: out license team here at SuSE has detected
three parts within TeXLive 2007 which do not allow a commercial
usage.  This violates not only the GNU Gernal Public License
used for the TeXLive 2007 distribution but also cause problems
here. This is that the leagal department is very unhappy about.

The parts are:

   * dvi2tty -> texk/dvi2tty/dvi2tty.c

     |  * This program, and any documentation for it, is copyrighted by $VAR
     |  It may be copied for non-commercial use only, provided that
     |  * any and all copyright notices are preserved.

   * libgsw32 -> libs/libgsw32/gsdll.h

     | The License grants you
     | the right to copy, modify and redistribute Aladdin Ghostscript, but only
     | under certain conditions described in the License.


   * ConTeXt -> texmf-dist/doc/context/manuals/allkind/mreadme.tex

     | {\sc NonCommercial:} You may not use this work for commercial
     | purposes.


OK, the windoes lib is not the problem, also I can skip dvi2tty
but what is about mreadme.tex from ConTeXt?


   Werner


-- 
  "Having a smoking section in a restaurant is like having
          a peeing section in a swimming pool." -- Edward Burr

From frank at kuesterei.ch  Tue May 15 11:55:05 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 15 May 2007 11:55:05 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and big
	endianess
In-Reply-To: <74f506dc0705141059u6db4df3dla1c22d23d59890d0@mail.gmail.com>
	(Thanh Han The's message of "Mon\, 14 May 2007 19\:59\:53 +0200")
References: <74f506dc0705141059u6db4df3dla1c22d23d59890d0@mail.gmail.com>
Message-ID: <87odkmqume.fsf@riesling.zuerich.kuesterei.ch>

"Thanh Han The" <hanthethanh at gmail.com> wrote:

> On Wed, May 09, 2007 at 02:34:34PM +0200, Frank K?ster wrote:
>> "Thanh Han The" <hanthethanh at gmail.com> wrote:
>>
>> > My vote is to have pdftex linked statically against xpdf
>> > codes, and apply relevant patches to the xpdf codes in the
>> > source tree of pdftex if needed. The responsibity should be
>> > on the pdftex team to verify and apply any patch if needed.
>>
>> What do you mean with "pdftex team"?  The developers on
>> ntg-pdftex at ntg.nl?  Are you really willing to take this responsibility?
>> In a timely manner?  Also for old versions which might still be
>> supported by distributors?
>>
>> For Debian, that would currently be 1.10b, 1.21a, 1.30.4 and 1.40.1.
>
> we didn't promise such a thing, and I see no reason why we
> should do that. Our goal is to keep the latest pdftex
> stable.

You wrote "the responsibility should be on the pdftex team to verify and
apply any patch if needed".  I think it's a fair decision of yours not
to bother about old versions; but *we* do have to bother with them, and
that's why we need a shared library.

> regards "pdftex team"'s responsibility: since EuroBachoTeX
> 2007, the person responsible for pdftex source control is
> Taco Hoekwater. 

Ah, good to know that.

> I mean this: 
[...]

description snipped with approval.

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From taco at elvenkind.com  Tue May 15 11:50:11 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 15 May 2007 11:50:11 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <20070515093844.GA11003@boole.suse.de>
References: <20070515093844.GA11003@boole.suse.de>
Message-ID: <46498253.5080108@elvenkind.com>



Dr. Werner Fink wrote:
> 
> OK, the windoes lib is not the problem, also I can skip dvi2tty
> but what is about mreadme.tex from ConTeXt?

Have you read it?

The file simply describes the fact that the manuals are released
under the Creative Commons "Attribution NonCommercial ShareAlike"
license.  And sure enough, non of the manuals are on TeXLive.

I don't see the problem.

Best,
Taco

From Robin.Fairbairns at cl.cam.ac.uk  Tue May 15 11:56:09 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 15 May 2007 10:56:09 +0100
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: Your message of Tue, 15 May 2007 11:38:44 +0200.
	<20070515093844.GA11003@boole.suse.de> 
Message-ID: <10408.1179222969@mole.cl.cam.ac.uk>

Dr. Werner Fink <werner at suse.de> wrote:

> just to be noted: out license team here at SuSE has detected
> three parts within TeXLive 2007 which do not allow a commercial
> usage.  This violates not only the GNU Gernal Public License
> used for the TeXLive 2007 distribution but also cause problems
> here. This is that the leagal department is very unhappy about.
> 
> The parts are:
> 
>    * dvi2tty -> texk/dvi2tty/dvi2tty.c
> 
>      |  * This program, and any documentation for it, is copyrighted by $VAR
>      |  It may be copied for non-commercial use only, provided that
>      |  * any and all copyright notices are preserved.

that's correctly catalogued on ctan

>    * libgsw32 -> libs/libgsw32/gsdll.h
> 
>      | The License grants you
>      | the right to copy, modify and redistribute Aladdin Ghostscript, but only
>      | under certain conditions described in the License.

micro-details of gs are altogether beyond me; i don't even know where
that would have come from, but the gnu packaging has obviously slipped
up here.

>    * ConTeXt -> texmf-dist/doc/context/manuals/allkind/mreadme.tex
> 
>      | {\sc NonCommercial:} You may not use this work for commercial
>      | purposes.

sigh.  look at the formatted version:
http://www.tex.ac.uk/tex-archive/macros/context/current/mreadme.pdf

it says the code is free (gpl) but the docs are nonfree (nocommercial).
this is deeply tedious; since documentation is embedded in all
distribution, i agree we ought to mark the distribution as such.

will change the catalogue some time today, unless hans can clarify
something that's eluding me at the moment.

robin


> OK, the windoes lib is not the problem, also I can skip dvi2tty
> but what is about mreadme.tex from ConTeXt?
> 
> 
>    Werner
> 
> 
> -- 
>   "Having a smoking section in a restaurant is like having
>           a peeing section in a swimming pool." -- Edward Burr

From p.j.heslin at durham.ac.uk  Tue May 15 12:44:03 2007
From: p.j.heslin at durham.ac.uk (Peter Heslin)
Date: Tue, 15 May 2007 11:44:03 +0100
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: <200705142216.l4EMGvr25702@f7.net>
References: <20070513215316.GA32516@dur.ac.uk>
	<200705142216.l4EMGvr25702@f7.net>
Message-ID: <20070515104403.GE24956@dur.ac.uk>

On Mon, May 14, 2007 at 05:16:57PM -0500, Karl Berry wrote:
> TL just supplies the Texinfo install-info in the bin directories, like
> all the other Texinfo programs.  If that's bad for some distributions,
> they are free to remove it in their packaging, of course.  (Personally
> it's not clear to me that Texinfo itself is really useful as part of TL,
> but other people apparently like to have it there.)

Thanks for explaining.  I can understand the usefulness of installing
stuff like the LaTeX info pages (a handy reference), and I can also
understand that people might expect to be able to compile their
texinfo documents into printable form using TL, but I found it
confusing that the info viewer and install-info and such are installed
by TL, since they belong (in my mind) to the non-TeX side of texinfo.
That's what caught me by surprise.

When I discovered that TL installed a new install-info, at first I
assumed that this was only for the purpose of installing the
TeX-related info pages, which is why I suggested that it need not go
into the PATH.  

Best wishes,

Peter

From Robin.Fairbairns at cl.cam.ac.uk  Tue May 15 12:35:19 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 15 May 2007 11:35:19 +0100
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: Your message of Tue, 15 May 2007 11:50:11 +0200.
	<46498253.5080108@elvenkind.com> 
Message-ID: <11280.1179225319@mole.cl.cam.ac.uk>

Taco Hoekwater <taco at elvenkind.com> wrote:

> Dr. Werner Fink wrote:
> > OK, the windoes lib is not the problem, also I can skip dvi2tty
> > but what is about mreadme.tex from ConTeXt?
> 
> Have you read it?

i have.

> The file simply describes the fact that the manuals are released
> under the Creative Commons "Attribution NonCommercial ShareAlike"
> license.  And sure enough, non of the manuals are on TeXLive.
> 
> I don't see the problem.

the file is itself documentation.  looking at the stuff we have on ctan,
i've found one or two other documentation files.

afaict, we should mark the distribution as nocommercial.

as a matter of interest, do you know _why_ the docs are nocommercial?
is it stated policy that you have to have a net connection to use
context?

robin

From frank at kuesterei.ch  Tue May 15 12:40:03 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 15 May 2007 12:40:03 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <20070515093844.GA11003@boole.suse.de> (Werner Fink's message of
	"Tue\, 15 May 2007 11\:38\:44 +0200")
References: <20070515093844.GA11003@boole.suse.de>
Message-ID: <878xbqqsjg.fsf@riesling.zuerich.kuesterei.ch>

"Dr. Werner Fink" <werner at suse.de> wrote:

>    * ConTeXt -> texmf-dist/doc/context/manuals/allkind/mreadme.tex
>
>      | {\sc NonCommercial:} You may not use this work for commercial
>      | purposes.
>
>
> OK, the windoes lib is not the problem, also I can skip dvi2tty
> but what is about mreadme.tex from ConTeXt?

Debian has separated the ConTeXt documentation into a non-free package.
It's a pity, but we had no choice.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From martin at oneiros.de  Tue May 15 11:57:24 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 15 May 2007 11:57:24 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <20070515093844.GA11003@boole.suse.de>
References: <20070515093844.GA11003@boole.suse.de>
Message-ID: <68c491a60705150257t477bce13q913b611d370d3ab6@mail.gmail.com>

2007/5/15, Dr. Werner Fink <werner at suse.de>:
>    * ConTeXt -> texmf-dist/doc/context/manuals/allkind/mreadme.tex
>
>      | {\sc NonCommercial:} You may not use this work for commercial
>      | purposes.
>
>
> OK, the windoes lib is not the problem, also I can skip dvi2tty
> but what is about mreadme.tex from ConTeXt?

I'm not Hans, but from my reading this only applies to that document
(it's cc-byncsa-simple). Read the context... :-)

Best
   Martin

From dak at gnu.org  Tue May 15 12:51:24 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 15 May 2007 12:51:24 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <46498253.5080108@elvenkind.com> (Taco Hoekwater's message of
	"Tue\, 15 May 2007 11\:50\:11 +0200")
References: <20070515093844.GA11003@boole.suse.de>
	<46498253.5080108@elvenkind.com>
Message-ID: <868xbqxsur.fsf@lola.quinscape.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> Dr. Werner Fink wrote:
>>
>> OK, the windoes lib is not the problem, also I can skip dvi2tty
>> but what is about mreadme.tex from ConTeXt?
>
> Have you read it?
>
> The file simply describes the fact that the manuals are released
> under the Creative Commons "Attribution NonCommercial ShareAlike"
> license.  And sure enough, non of the manuals are on TeXLive.
>
> I don't see the problem.

Considering the general bemoaning of a lack of ConTeXt manuals
(whether for money or free) directed at the common user, I must say
that I find this license choice surprising.  It would not appear to me
to serve the interests of the ConTeXt developers to stop any
commercial endeavor of providing ConTeXt documentation.

-- 
David Kastrup

From taco at elvenkind.com  Tue May 15 13:05:39 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 15 May 2007 13:05:39 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <868xbqxsur.fsf@lola.quinscape.zz>
References: <20070515093844.GA11003@boole.suse.de>	<46498253.5080108@elvenkind.com>
	<868xbqxsur.fsf@lola.quinscape.zz>
Message-ID: <46499403.8060809@elvenkind.com>


Quoting Hans Hagen, from mreadme.tex:

   ... and don't bother discussing licence issues and related things
   with us for the mere sake of discussing licence stuff.

That applies to me as well. Do whatever you feel you have to do to
resolve the perceived problem, but please stop nagging us about the
used license.

Best wishes,

Taco

From frank at kuesterei.ch  Tue May 15 13:10:18 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 15 May 2007 13:10:18 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <10408.1179222969@mole.cl.cam.ac.uk> (Robin Fairbairns's message
	of "Tue\, 15 May 2007 10\:56\:09 +0100")
References: <10408.1179222969@mole.cl.cam.ac.uk>
Message-ID: <87mz06pckl.fsf@riesling.zuerich.kuesterei.ch>

Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> Dr. Werner Fink <werner at suse.de> wrote:
>
>> just to be noted: out license team here at SuSE has detected
>> three parts within TeXLive 2007 which do not allow a commercial
>> usage.  This violates not only the GNU Gernal Public License
>> used for the TeXLive 2007 distribution but also cause problems
>> here. This is that the leagal department is very unhappy about.
>> 
>> The parts are:
>> 
>>    * dvi2tty -> texk/dvi2tty/dvi2tty.c
>> 
>>      |  * This program, and any documentation for it, is copyrighted by $VAR
>>      |  It may be copied for non-commercial use only, provided that
>>      |  * any and all copyright notices are preserved.
>
> that's correctly catalogued on ctan

However, there's also this text in README:

,----
| dvi2tty is licensed under the GPL version 2. It has had a history of many
| authors, I am just one of the latest maintainers.
| 
| Thats all, good luck.
| 
| 
| - Marcel 
`----

so this seems unclear.  Does anyone know whether Marcel J.E. Mol
<marcel at mesa.nl> is still reachable?

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From Robin.Fairbairns at cl.cam.ac.uk  Tue May 15 13:12:35 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 15 May 2007 12:12:35 +0100
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: Your message of Tue, 15 May 2007 11:57:24 +0200.
	<68c491a60705150257t477bce13q913b611d370d3ab6@mail.gmail.com> 
Message-ID: <11682.1179227555@mole.cl.cam.ac.uk>

Martin Schr?der <martin at oneiros.de> wrote:

> 2007/5/15, Dr. Werner Fink <werner at suse.de>:
> >    * ConTeXt -> texmf-dist/doc/context/manuals/allkind/mreadme.tex
> >
> >      | {\sc NonCommercial:} You may not use this work for commercial
> >      | purposes.
> >
> >
> > OK, the windoes lib is not the problem, also I can skip dvi2tty
> > but what is about mreadme.tex from ConTeXt?
> 
> I'm not Hans, but from my reading this only applies to that document
> (it's cc-byncsa-simple). Read the context... :-)

i don't think you're right; but again, i'm not hans, either.  (not even
slightly.)

mreadme seems (to me) to say that documentation is available in the tex
collection, but that it's subject to a licence that means it shouldn't
be in the tex collection.

which is a bit odd.

robin

From Robin.Fairbairns at cl.cam.ac.uk  Tue May 15 13:15:46 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 15 May 2007 12:15:46 +0100
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: Your message of Tue, 15 May 2007 13:10:18 +0200.
	<87mz06pckl.fsf@riesling.zuerich.kuesterei.ch> 
Message-ID: <11743.1179227746@mole.cl.cam.ac.uk>

Frank K?ster <frank at kuesterei.ch> wrote:

> Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:
> 
> > Dr. Werner Fink <werner at suse.de> wrote:
> >
> >> just to be noted: out license team here at SuSE has detected
> >> three parts within TeXLive 2007 which do not allow a commercial
> >> usage.  This violates not only the GNU Gernal Public License
> >> used for the TeXLive 2007 distribution but also cause problems
> >> here. This is that the leagal department is very unhappy about.
> >> 
> >> The parts are:
> >> 
> >>    * dvi2tty -> texk/dvi2tty/dvi2tty.c
> >> 
> >>      |  * This program, and any documentation for it, is copyrighted by $VAR
> >>      |  It may be copied for non-commercial use only, provided that
> >>      |  * any and all copyright notices are preserved.
> >
> > that's correctly catalogued on ctan
> 
> However, there's also this text in README:
> 
> ,----
> | dvi2tty is licensed under the GPL version 2. It has had a history of many
> | authors, I am just one of the latest maintainers.
> | 
> | Thats all, good luck.
> | 
> | 
> | - Marcel 
> `----
> 
> so this seems unclear.  Does anyone know whether Marcel J.E. Mol
> <marcel at mesa.nl> is still reachable?

in such a situation, i take the most restrictive licence as applying to
the bundle.  (as in the parallel discussion about context -- where the
licence on the documentation would apply to the bundle as far as ctan is
concerned ... if only i had noticed it.)

robin

From taco at elvenkind.com  Tue May 15 13:16:16 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 15 May 2007 13:16:16 +0200
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <87mz06pckl.fsf@riesling.zuerich.kuesterei.ch>
References: <10408.1179222969@mole.cl.cam.ac.uk>
	<87mz06pckl.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <46499680.8040208@elvenkind.com>

Frank K?ster wrote:
> 
> so this seems unclear.  Does anyone know whether Marcel J.E. Mol
> <marcel at mesa.nl> is still reachable?

Probably, because the latest version of dvi2tty is from 2003 (!).

   http://www.mesa.nl/pub/dvi2tty/

Amongst other things, it has this log entry:

  * Marcel Mol: 22jan2003  (Internet: marcel at mesa.nl)
  *		 From: jose at monkey.org: clearly state license (GPL).

Best wishes, Taco

From Robin.Fairbairns at cl.cam.ac.uk  Tue May 15 13:23:21 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue, 15 May 2007 12:23:21 +0100
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: Your message of Tue, 15 May 2007 13:05:39 +0200.
	<46499403.8060809@elvenkind.com> 
Message-ID: <11830.1179228201@mole.cl.cam.ac.uk>

Taco Hoekwater <taco at elvenkind.com> wrote:

> Quoting Hans Hagen, from mreadme.tex:
> 
>    ... and don't bother discussing licence issues and related things
>    with us for the mere sake of discussing licence stuff.
> 
> That applies to me as well. Do whatever you feel you have to do to
> resolve the perceived problem, but please stop nagging us about the
> used license.

fair enough.  i've updated the catalogue.

robin

From wdcr at ufl.edu  Tue May 15 13:53:57 2007
From: wdcr at ufl.edu (Croom,Wesley D)
Date: Tue, 15 May 2007 07:53:57 -0400
Subject: [tex-live] problem with file
Message-ID: <AFAA7813B5444142B0F7354D9C6E71110109F3DE@if-srv-exchbe01.ad.ufl.edu>

I have a file that we need the text from and no one has the software to
open this can anyone help.

The file has a .tex extension. If anyone can help please E-mail me at
the University of Florida.

I am not including the file because I do not want anyone to think it is
a virus. If you want to send your email or phone I will contact you
either way.

wdcr at ufl.edu

Thanks,

Wesley

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070515/d9fa6aa2/attachment.html 

From preining at logic.at  Tue May 15 16:27:41 2007
From: preining at logic.at (Norbert Preining)
Date: Tue, 15 May 2007 16:27:41 +0200
Subject: [tex-live] New location of Debian TeX packages for Etch
Message-ID: <20070515142741.GP13847@gamma.logic.tuwien.ac.at>

Hi all!

Just to note, the location of all the TeX files (usable for Etch) has
changed:

texlive and tex-common
	deb http://people.debian.org/~preining/TeX/ tl2007/
	deb-src http://people.debian.org/~preining/TeX/ tl2007/
lmodern
	deb http://people.debian.org/~preining/TeX/ lmodern/
	deb-src http://people.debian.org/~preining/TeX/ lmodern/
context
	deb http://people.debian.org/~preining/TeX/ context/
	deb-src http://people.debian.org/~preining/TeX/ context/

Please tell me in case you experience problems. The web page on the
tug.org server
	www.tug.org/texlive/debian.html
has already been updated.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
`...and the Universe,' continued the waiter, determined
not to be deflected on his home stretch, `will explode
later for your pleasure.'
Ford's head swivelled slowly towards him. He spoke with
feeling.
What sort of drinks do you serve in this
place?'
The waiter laughed a polite little waiter's laugh.
I think sir has perhaps misunderstood me.'
`Oh, I hope not,' breathed Ford.
                 --- Ford in paradise.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From gnwiii at gmail.com  Tue May 15 19:09:54 2007
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 15 May 2007 14:09:54 -0300
Subject: [tex-live] problem with file
In-Reply-To: <AFAA7813B5444142B0F7354D9C6E71110109F3DE@if-srv-exchbe01.ad.ufl.edu>
References: <AFAA7813B5444142B0F7354D9C6E71110109F3DE@if-srv-exchbe01.ad.ufl.edu>
Message-ID: <22af238a0705151009n3d094451o70f4c861ad807e95@mail.gmail.com>

Have a look at http://en.wikipedia.org/wiki/TeX -- does your file look like
the example?  If so, you came to the right place.  If not, you probably need to
look elsewhere for help.

On 5/15/07, Croom,Wesley D <wdcr at ufl.edu> wrote:
>
>
>
>
> I have a file that we need the text from and no one has the software to open
> this can anyone help.
>
> The file has a .tex extension. If anyone can help please E-mail me at the
> University of Florida.
>
> I am not including the file because I do not want anyone to think it is a
> virus. If you want to send your email or phone I will contact you either
> way.
>
> wdcr at ufl.edu
>
> Thanks,
>
> Wesley


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Tue May 15 20:27:00 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 May 2007 13:27:00 -0500
Subject: [tex-live] Bug report: tex4ht and xtpipes
In-Reply-To: <20070330140641.GO32390@dur.ac.uk>
Message-ID: <200705151827.l4FIR0401046@f7.net>

    .4oo java -classpath /usr/share/texmf/tex4ht/bin xtpipes -i /usr/share/texmf/tex4ht/xttl/ -o %%0.4oo %%0.tmp

FYI, thanks to Eitan, these hardwired references in tex4ht.env have been
fixed to be relative to the current tree.

Thanks for the report,
Karl


From karl at freefriends.org  Tue May 15 22:45:31 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 May 2007 15:45:31 -0500
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <11682.1179227555@mole.cl.cam.ac.uk>
Message-ID: <200705152045.l4FKjVO01100@f7.net>

    mreadme seems (to me) to say that documentation is available in the tex
    collection, but that it's subject to a licence that means it shouldn't
    be in the tex collection.

The TeX *Collection* has never claimed to be 100% free (and never has
been, either).
It is the TeX Live distribution where we try to strictly adhere to
free-as-in-freedom.

TC has always contained nonfree material (since before it was called
TC).  gsview as part of protext, the ctan snapshot with various
special-permission-to-copy packages, and various files outside of any
distribution -- including the context manuals.  This is why, I imagine,
they say that the doc is in the TC.  (Last year there was a variety of
nonfree programs in mactex, but they were all excised in the 2007
release, to the best of my knowledge.)

Hoping this will clarify rather than confuse,
karl

From karl at freefriends.org  Tue May 15 22:51:30 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 May 2007 15:51:30 -0500
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: <20070515104403.GE24956@dur.ac.uk>
Message-ID: <200705152051.l4FKpUZ02410@f7.net>

    When I discovered that TL installed a new install-info, at first I
    assumed that this was only for the purpose of installing the
    TeX-related info pages

It's there because the install process just runs make install in
Texinfo.  Anything else requires more work :).  Besides, to my mind, it
would make little sense to install part of Texinfo, since that would be
of little value to people who actually want to use it.

As Texinfo maintainer, I could create a kludgey configure option to
avoid installing install-info, and then I could have TL use that option,
but honestly, I don't want to.  The right fix for this is for the Debian
and Texinfo install-info's to become one, and I hope that will happen
before 2008.  We'll see.

k

From karl at freefriends.org  Tue May 15 22:54:27 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 May 2007 15:54:27 -0500
Subject: [tex-live] Non-free parts within TeXLive 2007
In-Reply-To: <20070515093844.GA11003@boole.suse.de>
Message-ID: <200705152054.l4FKsRK02984@f7.net>

       * libgsw32 -> libs/libgsw32/gsdll.h

         | The License grants you
         | the right to copy, modify and redistribute Aladdin Ghostscript, but only
         | under certain conditions described in the License.

As you probably know, the current version of Ghostscript is distributed
under the GPL anyway.  The gsdll.h file in the just-released gs8.57 has
different language, and doesn't make it clear that it is under the GPL,
but I believe it is.

If it troubles you, delete it.

karl

From sanjoy at mrao.cam.ac.uk  Wed May 16 03:50:20 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Wed, 16 May 2007 02:50:20 +0100
Subject: [tex-live] New location of Debian TeX packages for Etch
In-Reply-To: Your message of "Tue, 15 May 2007 16:27:41 +0200."
	<20070515142741.GP13847@gamma.logic.tuwien.ac.at> 
Message-ID: <E1Ho8ei-0004zI-00@skye.ra.phy.cam.ac.uk>

>       deb-src http://people.debian.org/~preining/TeX/ tl2007/
> 	deb-src http://people.debian.org/~preining/TeX/ lmodern/
> 	deb-src http://people.debian.org/~preining/TeX/ context/

I found all the src packages in one place rather than subdivided into
tl2007 etc., and ended up with these lines for /etc/apt/sources.list :

deb-src http://people.debian.org/~preining/TeX/ src/
deb http://people.debian.org/~preining/TeX/ tl2007/
deb http://people.debian.org/~preining/TeX/ lmodern/
deb http://people.debian.org/~preining/TeX/ context/

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From preining at logic.at  Wed May 16 07:26:28 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 16 May 2007 07:26:28 +0200
Subject: [tex-live] New location of Debian TeX packages for Etch
In-Reply-To: <E1Ho8ei-0004zI-00@skye.ra.phy.cam.ac.uk>
References: <20070515142741.GP13847@gamma.logic.tuwien.ac.at>
	<E1Ho8ei-0004zI-00@skye.ra.phy.cam.ac.uk>
Message-ID: <20070516052628.GF9536@gamma.logic.tuwien.ac.at>

On Mit, 16 Mai 2007, Sanjoy Mahajan wrote:
> I found all the src packages in one place rather than subdivided into
> tl2007 etc., and ended up with these lines for /etc/apt/sources.list :

Nearly, the right thing is

TeX Live:
	deb http://people.debian.org/~preining/TeX/ tl2007/
	deb-src http://people.debian.org/~preining/TeX/ src/

LModern:
	deb http://people.debian.org/~preining/TeX/ lmodern/
	deb-src http://people.debian.org/~preining/TeX/ lmodern/

ConTeXt:
	deb http://people.debian.org/~preining/TeX/ context/
	deb-src http://people.debian.org/~preining/TeX/ context/

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ZAPHOD	Hey, this rock...
FORD	Marble...
ZAPHOD	Marble...
FORD	Ice-covered marble...
ZAPHOD	Right... it's as slippery as... as... What's the slipperiest
	thing you can think of?
FORD	At the moment? This marble.
ZAPHOD	Right. This marble is as slippery as this marble.
                 --- Zaphod and Ford trying to get a grip on things in
                 --- Brontitall, Fit the Tenth.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From piotr.bolek at gmail.com  Wed May 16 13:11:31 2007
From: piotr.bolek at gmail.com (Piotr Bolek)
Date: Wed, 16 May 2007 13:11:31 +0200
Subject: [tex-live] Bug in Context on TL2007
Message-ID: <297562fc0705160411l5e67ae1em73b88a55b850bb38@mail.gmail.com>

Hi,

There is quite nasty bug (at least for me, because it completly
breaks the typesetting of my old documents) in Context
shipped with TL2007.

The result of the bug is breaking (sometimes) the page after stopping
multicolumn layout. The bug is already reported in context bug tracker,
but unfortunately not solved yet.

This bugs makes this version of context quite useless for typesetting
documents containing parts of content typeset in multicolumn layout.

Is there anything that can be made to deal with this problem?

-- 
Piotr Bolek

From preining at logic.at  Wed May 16 13:26:29 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 16 May 2007 13:26:29 +0200
Subject: [tex-live] Bug in Context on TL2007
In-Reply-To: <297562fc0705160411l5e67ae1em73b88a55b850bb38@mail.gmail.com>
References: <297562fc0705160411l5e67ae1em73b88a55b850bb38@mail.gmail.com>
Message-ID: <20070516112629.GB13629@gamma.logic.tuwien.ac.at>

Hi Piotr,

On Mit, 16 Mai 2007, Piotr Bolek wrote:
> There is quite nasty bug (at least for me, because it completly
> breaks the typesetting of my old documents) in Context
> shipped with TL2007.
[..]
> This bugs makes this version of context quite useless for typesetting
> documents containing parts of content typeset in multicolumn layout.
> 
> Is there anything that can be made to deal with this problem?

Well, quick fix, uninstall the context package, and install by hand an
old version which is working.

After the bug is fixed upstream, you can remove your local files, or
update them to the latest version.

Besides this, not much can be done.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
TAROOM (vb.)
To make loud noises during the night to let the burglars know you are
in.
			--- Douglas Adams, The Meaning of Liff

From frank at kuesterei.ch  Wed May 16 13:45:38 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 16 May 2007 13:45:38 +0200
Subject: [tex-live] Installing TL breaks Ubuntu
In-Reply-To: <200705142216.l4EMGvr25702@f7.net> (Karl Berry's message of "Mon\,
	14 May 2007 17\:16\:57 -0500")
References: <200705142216.l4EMGvr25702@f7.net>
Message-ID: <87646t3sbh.fsf@riesling.zuerich.kuesterei.ch>

karl at freefriends.org (Karl Berry) wrote:

> Of course, the real fix would be to merge the Debian and Texinfo
> install-info so that they are the same thing.  Unfortunately, Norbert
> and I have gotten distracted from that and I don't know when or if it
> will ever happen at this point, barring a new volunteer.

Have a look at

http://svn.debian.org/wsvn/debian-tex/texinfo/trunk/debian/transition-plan.txt?op=file&rev=0&sc=0

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Wed May 16 15:38:16 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 16 May 2007 10:38:16 -0300
Subject: [tex-live] how to upgrade TL2007's metapost to 1.000 ?
In-Reply-To: <e9e614960705111859l1e3837fje529ca64ae6f36ae@mail.gmail.com>
References: <e9e614960705110717j773f25fsafe59da061802ca2@mail.gmail.com>
	<22af238a0705110844k218426cejb8726be17a3f86d@mail.gmail.com>
	<e9e614960705111859l1e3837fje529ca64ae6f36ae@mail.gmail.com>
Message-ID: <22af238a0705160638s5c8a880dqc00a7abc651b756f@mail.gmail.com>

On 5/11/07, luoyi <luoyi.ly at gmail.com> wrote:
> >
> > What platform?
>
> My box is Slackware 11.0 & Win XP SP2.
>
> >
> > TL doesn't do updates.  For the texmf trees you can use the miktex
> > package manager, but
> > for binaries you have to compile the sources.  If you are on a
> > mainstream *x, compiling
> > should be straightforward (I had no problems on Fedora Core 5), but
> > the install requires manual copying the results of the compile over to
> > the TL tree.
> >
> > For Win32, check whether Akira Kakuto has the new version in w32tex.
>
>
> metapost's src release tarball contains the different(older) version
> of kpathsea&web2c with TL2007's src. so how can I make it upgrade to
> TL2007's version ?

Form the ChangeLog the only difference is:

2007-02-02  Karl Berry  <karl at tug.org>

	* texmf.in (OVFFONTS): search for vf.
	(OFMFONTS): explicitly adding TFMFONTS seems unnecessary.
	From Hans and Taco, 25 Jan 2007.

If you use the TL texmf.cnf this won't matter.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From preining at logic.at  Wed May 16 21:40:37 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 16 May 2007 21:40:37 +0200
Subject: [tex-live] thumbpdf move
Message-ID: <20070516194037.GE6784@gamma.logic.tuwien.ac.at>

Hi all, esp Karl,

I have moved bin-thumbpdf from collection-extrabin to
collection-basicbin since the sty files are in
collection-latexrecommended and it seems a bit strange that the
respective bin (perl script) is in extrautils.

Any complains?

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
In those days spirits were brave, the stakes were high,
men were real men, women were real women, and small furry
creatures from Alpha Centauri were real small furry
creatures from Alpha Centauri.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From karl at freefriends.org  Wed May 16 22:22:19 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 May 2007 15:22:19 -0500
Subject: [tex-live] thumbpdf move
In-Reply-To: <20070516194037.GE6784@gamma.logic.tuwien.ac.at>
Message-ID: <200705162022.l4GKMJv31565@f7.net>

    I have moved bin-thumbpdf from collection-extrabin to
    collection-basicbin since the sty files are in

thumbpdf doesn't exactly seem so basic to me, but I agree that the sty
and bin should be treated similarly, so what you did seems good.
Thanks.

From preining at logic.at  Wed May 16 22:24:48 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 16 May 2007 22:24:48 +0200
Subject: [tex-live] thumbpdf move
In-Reply-To: <200705162022.l4GKMJv31565@f7.net>
References: <20070516194037.GE6784@gamma.logic.tuwien.ac.at>
	<200705162022.l4GKMJv31565@f7.net>
Message-ID: <20070516202448.GH6784@gamma.logic.tuwien.ac.at>

On Mit, 16 Mai 2007, Karl Berry wrote:
> thumbpdf doesn't exactly seem so basic to me, but I agree that the sty
> and bin should be treated similarly, so what you did seems good.

It is just one perl script, won't heart anyway.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
FULKING (participial vb.)
Pretending not to be in when the carol-singers come round.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu May 17 12:16:42 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 17 May 2007 12:16:42 +0200
Subject: [tex-live] New location of Debian TeX packages for Etch
In-Reply-To: <20070515142741.GP13847@gamma.logic.tuwien.ac.at>
References: <20070515142741.GP13847@gamma.logic.tuwien.ac.at>
Message-ID: <20070517101642.GD13262@gamma.logic.tuwien.ac.at>

Hi all!

I just want all to inform that thanks to Thomas A. Schmitz we have now
arch=powerpc Debian packages at the usual locations, so people with
Apples and Etch now can use the same packages.

Thanks to Thomas for compiling.

Just as a reminder:

texlive and tex-common
 	deb http://people.debian.org/~preining/TeX/ tl2007/
 	deb-src http://people.debian.org/~preining/TeX/ src/

lmodern
	deb http://people.debian.org/~preining/TeX/ lmodern/
	deb-src http://people.debian.org/~preining/TeX/ lmodern/

context
 	deb http://people.debian.org/~preining/TeX/ context/
 	deb-src http://people.debian.org/~preining/TeX/ context/
 
Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SHALUNT (n.)
One who wears Trinidad and Tobago T-shirts on the beach in Bali to
prove they didn't just win the holiday in a competition or anything.
			--- Douglas Adams, The Meaning of Liff

From fog at initd.org  Thu May 17 14:18:56 2007
From: fog at initd.org (Federico Di Gregorio)
Date: Thu, 17 May 2007 14:18:56 +0200
Subject: [tex-live] TeXLive on old SPARC Solaris
Message-ID: <1179404336.3918.34.camel@mila.initd.org>

Hi,

we are having some problems installing TeXLive on an old SPARC SOLARIS:

SunOS xxx 5.7 Generic_106541-11 sun4u sparc SUNW,UltraSPARC-IIi-cEngine

TeXLive installs correctly (or at least it doesn't report any error) but
then the system does not work. For example, running pdftex results in:

ld.so.1: pdftex: errore fatale:libCstd.so.1: impossibile aprire: File o
directory non trovati

while trying to run some scripts (e.g., texconfig) result in errors
like:

$ texconfig formats
texconfig: analyzing old configuration...
kpsewhich: unrecognized option `--var-value=TEXMFMAIN'
/usr/local/texlive/2007/bin/sparc-solaris/fmtutil: /texconfig/tcfmgr: not found

even if the environment has been setup correctly (all needed TEXMFXXX
variables correctly defined; we have TeXLive running fine on other
machines).

Any ideas? Or is this machine simply too old to run TeXLIve?

Thank you very much for your time,
federico

-- 
Federico Di Gregorio                         http://people.initd.org/fog
Debian GNU/Linux Developer                                fog at debian.org
INIT.D Developer                                           fog at initd.org
 A desobedi?ncia ? uma virtude necess?ria ? criatividade. -- Raul Seixas


From gnwiii at gmail.com  Thu May 17 18:10:12 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 17 May 2007 13:10:12 -0300
Subject: [tex-live] TeXLive on old SPARC Solaris
In-Reply-To: <1179404336.3918.34.camel@mila.initd.org>
References: <1179404336.3918.34.camel@mila.initd.org>
Message-ID: <22af238a0705170910s4a5f3aebh9418a7b01d78c77e@mail.gmail.com>

On 5/17/07, Federico Di Gregorio <fog at initd.org> wrote:
> Hi,
>
> we are having some problems installing TeXLive on an old SPARC SOLARIS:
>
> SunOS xxx 5.7 Generic_106541-11 sun4u sparc SUNW,UltraSPARC-IIi-cEngine
>
> TeXLive installs correctly (or at least it doesn't report any error) but
> then the system does not work. For example, running pdftex results in:
>
> ld.so.1: pdftex: errore fatale:libCstd.so.1: impossibile aprire: File o
> directory non trovati
>
> while trying to run some scripts (e.g., texconfig) result in errors
> like:
>
> $ texconfig formats
> texconfig: analyzing old configuration...
> kpsewhich: unrecognized option `--var-value=TEXMFMAIN'
> /usr/local/texlive/2007/bin/sparc-solaris/fmtutil: /texconfig/tcfmgr: not found
>
> even if the environment has been setup correctly (all needed TEXMFXXX
> variables correctly defined; we have TeXLive running fine on other
> machines).
>
> Any ideas? Or is this machine simply too old to run TeXLIve?

I guess libCstd.so.1 is a C++ library --  pdftex and xpdf use
C++. I would expect Sun to provide runtime libraries for
whatever C++ was around at the time your OS was installed,
but that might be too old to build pdftex and xpdf.

The machine (hardware) is probably up to the job, but getting
a usable libCstd.so may not be feasible, in which case
you still have the option of installing GNU compilers and
building TL from source.

There have also been some issues with changes in the various
tools (head, tail, sed, awk, sort, etc.) so texconfig and other scripts
may need some minor tweaks (or you can install the GNU
versions which will more closely resemble the linux tools most
people use).

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From vvv at vsu.ru  Thu May 17 21:16:51 2007
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu, 17 May 2007 12:16:51 -0700
Subject: [tex-live] TeXLive on old SPARC Solaris
In-Reply-To: <1179404336.3918.34.camel@mila.initd.org> (Federico Di Gregorio's
	message of "Thu, 17 May 2007 14:18:56 +0200")
References: <1179404336.3918.34.camel@mila.initd.org>
Message-ID: <877ir7clb0.fsf@external.prs-office.com>

"FDG" == Federico Di Gregorio writes:

 FDG> ld.so.1: pdftex: errore fatale:libCstd.so.1: impossibile aprire:
 FDG> File o directory non trovati

You need to install the SUNWlibC patch. You can find all patches on
the Sun Studio patch page:

http://developers.sun.com/prodtech/cc/downloads/patches/

Get the C++ Runtime Libraries patch for your version of Solaris,
for Sun Studio 11:

http://developers.sun.com/sunstudio/downloads/patches/ss11_patches.html

Best,
v.


From karl at freefriends.org  Thu May 17 23:06:00 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 May 2007 16:06:00 -0500
Subject: [tex-live] TeXLive on old SPARC Solaris
In-Reply-To: <1179404336.3918.34.camel@mila.initd.org>
Message-ID: <200705172106.l4HL60j12619@f7.net>

Vladimir answered about the shared libs.  I wanted to mention a couple
other things that struck me:
    
    kpsewhich: unrecognized option `--var-value=TEXMFMAIN'

This seems like you are finding an old version of kpsewhich, because
kpsewhich --var-value=TEXMFMAIN certainly is recognized with the
kpsewhich in TL 2007.

    /usr/local/texlive/2007/bin/sparc-solaris/fmtutil: /texconfig/tcfmgr: not found

Looks like it's not finding the texmf root.

    even if the environment has been setup correctly (all needed TEXMFXXX
    variables correctly defined; 

No TEXMF* variables need be defined, and in fact defining them is a
common source of errors.  

The only thing that is necessary to define for a normal installation is
putting /usr/local/texlive/2007/bin/sparc-solaris in PATH.

Best,
Karl

From ghibo at mandriva.com  Fri May 18 00:03:40 2007
From: ghibo at mandriva.com (=?ISO-8859-1?Q?Giuseppe_Ghib=F2?=)
Date: Fri, 18 May 2007 00:03:40 +0200
Subject: [tex-live] TeXLive2007: Bug in (Xe)TeX for 64bit and
	big	endianess
In-Reply-To: <87mz0ejhut.fsf@riesling.zuerich.kuesterei.ch>
References: <74f506dc0705090434yb286b25ne8dbd7a37c0dcf05@mail.gmail.com>
	<87mz0ejhut.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <464CD13C.30600@mandriva.com>

Frank K?ster wrote:

> "Thanh Han The" <hanthethanh at gmail.com> wrote:
>
>> My vote is to have pdftex linked statically against xpdf
>> codes, and apply relevant patches to the xpdf codes in the
>> source tree of pdftex if needed. The responsibity should be
>> on the pdftex team to verify and apply any patch if needed.
>
> What do you mean with "pdftex team"?  The developers on
> ntg-pdftex at ntg.nl?  Are you really willing to take this responsibility?
> In a timely manner?  Also for old versions which might still be
> supported by distributors?
>
> For Debian, that would currently be 1.10b, 1.21a, 1.30.4 and 1.40.1.
>
>> yes, this is little (if at all) related to pdftex, since I
>> didn't talk about pdftex in this case but xpdf. From the
>> perspective of an end Debian user, it doesn't look good when
>> the distro I use provides xpdf binary that segfaults and the
>> original one from Derek (with the same version) doesn't.
>> Which raises the question: do the patches provided by
>> distros really improve xpdf?
>
> I don't know which patches are applied to xpdf and why.  But usually
> there's a reason for such fixes, and on the other hand it's okay to
> question this decision.
>
> But I still don't get how that is relevant in this discussion.  Do you
> want to draw an analogy "if distributors' patches for xpdf lower the
> quality, so will patches to pdftex"?
>
>> As you mentioned above, since I cannot afford the time to
>> learn and understand all xpdf and poppler code and related
>> patches, I have to trust someone who understands xpdf best
>> and is responsible for xpdf.
>
> Ah, so it's not going to be you who does the verifying you claimed above
> should be done by the pdftex team?  Who else?
>
>> For me it's the xpdf author,
>> Derek, and not the poppler maintainers, sorry. If a serious
>> problem with xpdf is found, I believe Derek would deal with
>> it in the way that is best to him, since after all it's also
>> his interest to have xpdf reliable.
>
> In the past, we never got any help from Derek in creating patches for
> old versions.

AFAIK Derek  usually do security patches from time to time when needed releasing patch levels
archives (of course not at the same speed of CVE advisors). Maybe the best would be to try to
convince him to build and maintain an libxpdf library (maybe with someone offering him help).

IMHO, the "pdf" external backend/engine for pdftex should be one, not the possibility
to choose whether to use poppler or xpdf, that's would produce
different version of pdftex which IMHO it's not said that
would produce the same output (yep, same PDF). Usually xpdf comes
first and then libpopper later merging the newer fix of xpdf
into (e.g. the latest official is 0.5.4, while the merging with
current xpdf 3.02 should be happening in poppler svn).

Bye
Giuseppe.


From gerben.wierda at rna.nl  Fri May 18 10:49:48 2007
From: gerben.wierda at rna.nl (Gerben Wierda)
Date: Fri, 18 May 2007 10:49:48 +0200
Subject: [tex-live] epstopdf script updated
Message-ID: <340D8716-4DBA-429F-AE4F-0ADC8611165A@rna.nl>

I updated the epstopdf script with a version that supports Windows  
better (message strings) and that has simplified code for (atend)  
handling.

What do I do to get this on CTAN?

G

From Robin.Fairbairns at cl.cam.ac.uk  Fri May 18 11:11:24 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 18 May 2007 10:11:24 +0100
Subject: [tex-live] epstopdf script updated
In-Reply-To: Your message of Fri, 18 May 2007 10:49:48 +0200.
	<340D8716-4DBA-429F-AE4F-0ADC8611165A@rna.nl> 
Message-ID: <30308.1179479484@mole.cl.cam.ac.uk>

go to (www.tex.ac.uk|dante.ctan.org|www.ctan.org)/upload and fill in the
form and then use the upload link to send the file.

the file can be a single script, or a zip file containing script and
supporting files (e.g., a word or two of docs, or just a readme).

the directory currently contains

-rw-r--r-- 1 85 TeX  17976 2001-12-01 18:36 epstopdf.c
-rw-r--r-- 1 85 TeX   4049 2000-08-07 06:47 epstopdf.c.1
-rw-r--r-- 1 85 TeX 133632 2001-12-01 18:36 epstopdf.exe
-rw-r--r-- 1 85 TeX  12387 2006-12-21 21:59 epstopdf_perl
-rw-r--r-- 1 85 TeX    427 2000-08-07 06:47 Makefile
-rw-r--r-- 1 85 TeX   2268 2001-07-06 00:00 README

iirc, the suggestion is we just drop the c version (and hence the .exe)
-- is that right?  please confirm in the description when you upload.

note that a copyright statement, somewhere is useful; a licence
statement is more-or-less essential.

robin

From frank at debian.org  Fri May 18 10:57:41 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 18 May 2007 10:57:41 +0200
Subject: [tex-live] Bug#423987: Some documentation is missing
	/usr/share/texmf-texlive/texdoctk/texdoctk.dat
In-Reply-To: <200705151042.29139.cmiramon@kde-france.org> (Charles de
	Miramon's message of "Tue\, 15 May 2007 10\:42\:28 +0200")
References: <200705151042.29139.cmiramon@kde-france.org>
Message-ID: <87tzuaqzju.fsf@riesling.zuerich.kuesterei.ch>

Dear TeX Live people, hi Thomas,

Charles de Miramon <cmiramon at kde-france.org> wrote:

> When I upgraded from teTex to TeXlive, I could not find anymore some 
> documentation with texdoctk.
>
> It seems that some lines are missing 
> in  /usr/share/texmf-texlive/texdoctk/texdoctk.dat pointing to the 
> documentation
>
> I have found that there are lines missing for : 
> /usr/share/doc/texlive-doc/latex/koma-script/scrguien.pdf (koma script manual 
> in English)
>
> /usr/share/doc/texlive-doc/latex/jurabib/docs/english/jbendoc.pdf
> /usr/share/doc/texlive-bibtex-extra/latex/jurabib/docs/german/jbgerdoc.pdf
>
> But I guess, there are other missing packages that I don't use.

I investigated this and found out that texdoctk.dat has not changed
between TL 2005 and TL 2007, but there are considerable changes between
teTeX 3.0 and TL: Both deletions and addition.

Some of them might be renamings, some correspond to material which has
been dropped from TeX Live, but some others I cannot explain.  There are
164 deletions and 204 additions, the diff starts with:

+++ texdoctk.dat-texlive.allfiles.unique        2007-05-18 10:47:05.000000000 +0200
@@ -1,333 +1,374 @@
 
+00readme.flt
 00readme.txt
-0info092.txt
+0inf099.txt
  -2-: at beginning,
-abstract
-accents
-acronym
-aeguill.sty
+2up
+AAA_readme
+aasguide
+accents.tex
+achemso
+acmtr2e
+adrguide
+adrlist

So there are probably false positives, but what about abstract, accents,
acronym, aeguill?

The filelists were created with 

cut -d ';' -f 3 texdoctk/texdoctk.dat | \
sed -e '/^\(#\|@\)/ d;s at .*/@@;s@[.]\(dvi\|pdf\)@@' | \
sort -u > ../texdoctk.dat.allfiles

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From Robin.Fairbairns at cl.cam.ac.uk  Fri May 18 12:24:17 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 18 May 2007 11:24:17 +0100
Subject: [tex-live] mactex status in the catalogue
Message-ID: <32707.1179483857@mole.cl.cam.ac.uk>

when i first catalogued mactex there was a single compressed file in the
directory we mirror to ctan.  subsequently, a file mactex.dmg appeared,
and later still mactextras.dmg (or thereabouts).

as a result (and in the context of my ignorance of macs), we have two
catalogue entries: mactex and mactex-dmg.  this is not satisfactory --
there is nothing but dmg files in the directories.

am i right in assuming that i should dump the mactex-dmg entry, and
regenerate the mactex entry from the mactex description on tug.org?

[what _are_ dmg files, anyway?  i've dropped heavy hints around here
that a mac would go well with the present collection of machines in my
office, but the hints fall on deaf ears ;-) ]

robin

[wearing my ctan hat, but not speaking for the ctan team.]


From Gerben.Wierda at rna.nl  Fri May 18 17:00:44 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri, 18 May 2007 17:00:44 +0200
Subject: [tex-live] What is the best svn command that gets me an overview of
	the diffs between release and now?
Message-ID: <6DBF41B0-5C36-4B8D-BBA1-8F6B21DE8680@rna.nl>

Subject says it all.

G

From gnwiii at gmail.com  Fri May 18 17:29:44 2007
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 18 May 2007 12:29:44 -0300
Subject: [tex-live] mactex status in the catalogue
In-Reply-To: <32707.1179483857@mole.cl.cam.ac.uk>
References: <32707.1179483857@mole.cl.cam.ac.uk>
Message-ID: <22af238a0705180829r4f105468y996f106d8a376e11@mail.gmail.com>

On 5/18/07, Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> when i first catalogued mactex there was a single compressed file in the
> directory we mirror to ctan.  subsequently, a file mactex.dmg appeared,
> and later still mactextras.dmg (or thereabouts).
>
> as a result (and in the context of my ignorance of macs), we have two
> catalogue entries: mactex and mactex-dmg.  this is not satisfactory --
> there is nothing but dmg files in the directories.
>
> am i right in assuming that i should dump the mactex-dmg entry, and
> regenerate the mactex entry from the mactex description on tug.org?

Yes.

> [what _are_ dmg files, anyway?  i've dropped heavy hints around here
> that a mac would go well with the present collection of machines in my
> office, but the hints fall on deaf ears ;-) ]

A .dmg file is an image of an HFS+ format disk.  These are commonly
used under OS X for installing apps, similar to mounting a .iso file with the
loop device on linux.  The default allows users to run programs --
See: <http://aroundcny.com/technofile/texts/mac042705.html>

<http://hem.bredband.net/catacombae/hfsx.html> is a java app
to read files from HFS+ on Win32.  In principle, linux can do:

# modprobe hfsplus
# mount -t hfsplus file.dmg /mnt/disk -o loop,ro

(but it didn't work for me on debian testing -- dmesg says:
hfs: unable to find HFS+ superblock
).

These days it is helpful to mention whether the .dmg files include support
for Intel machines.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From martin at oneiros.de  Fri May 18 19:30:32 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 18 May 2007 19:30:32 +0200
Subject: [tex-live] What is the best svn command that gets me an
	overview of the diffs between release and now?
In-Reply-To: <6DBF41B0-5C36-4B8D-BBA1-8F6B21DE8680@rna.nl>
References: <6DBF41B0-5C36-4B8D-BBA1-8F6B21DE8680@rna.nl>
Message-ID: <68c491a60705181030v17d4793dwa8bcfdc60c4afac@mail.gmail.com>

Since Karl actually made a branch of TL at 3973 (but didn't tag it), try
   svn diff -r3973

Best
   Martin

From zdenek.wagner at gmail.com  Fri May 18 21:32:34 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 18 May 2007 21:32:34 +0200
Subject: [tex-live] What is the best svn command that gets me an
	overview of the diffs between release and now?
In-Reply-To: <68c491a60705181030v17d4793dwa8bcfdc60c4afac@mail.gmail.com>
References: <6DBF41B0-5C36-4B8D-BBA1-8F6B21DE8680@rna.nl>
	<68c491a60705181030v17d4793dwa8bcfdc60c4afac@mail.gmail.com>
Message-ID: <8719b6240705181232y206f0ffdx421727cbc8599bcc@mail.gmail.com>

2007/5/18, Martin Schr?der <martin at oneiros.de>:
> Since Karl actually made a branch of TL at 3973 (but didn't tag it), try
>    svn diff -r3973
>
This could be found just by a few commands (and there are no changes
in the branch):

cmdshl E:\>svn list svn://tug.org/texlive/branches
branch2007/

cmdshl E:\>svn log --stop-on-copy svn://tug.org/texlive/branches/branch2007
------------------------------------------------------------------------
r3973 | karl | 2007-02-16 02:07:42 +0100 (p?, 16 II 2007) | 1 line

Branch starting at the final TeX Live 2007 release.
------------------------------------------------------------------------

cmdshl E:\>svn info svn://tug.org/texlive/branches/branch2007
Path: branch2007
URL: svn://tug.org/texlive/branches/branch2007
Repository Root: svn://tug.org/texlive
Repository UUID: c570f23f-e606-0410-a88d-b1316a301751
Revision: 4311
Node Kind: directory
Last Changed Author: karl
Last Changed Rev: 3973
Last Changed Date: 2007-02-16 02:07:42 +0100 (p?, 16 II 2007)

Hope this helps.

> Best
>    Martin
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From pfaeh at mysunrise.ch  Fri May 18 15:52:28 2007
From: pfaeh at mysunrise.ch (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Fri, 18 May 2007 15:52:28 +0200
Subject: [tex-live] dmg
Message-ID: <d9d4c8050263aa1093238d1539be7602@mysunrise.ch>

dmg: Disk Images of the Apple FS HFS

further information: http://en.wikipedia.org/wiki/.dmg

Am 18.05.2007 um 12:24 schrieb Robin Fairbairns:

> when i first catalogued mactex there was a single compressed file in 
> the
> directory we mirror to ctan.  subsequently, a file mactex.dmg appeared,
> and later still mactextras.dmg (or thereabouts).
>
> as a result (and in the context of my ignorance of macs), we have two
> catalogue entries: mactex and mactex-dmg.  this is not satisfactory --
> there is nothing but dmg files in the directories.
>
> am i right in assuming that i should dump the mactex-dmg entry, and
> regenerate the mactex entry from the mactex description on tug.org?
>
> [what _are_ dmg files, anyway?  i've dropped heavy hints around here
> that a mac would go well with the present collection of machines in my
> office, but the hints fall on deaf ears ;-) ]
>
> robin
>
> [wearing my ctan hat, but not speaking for the ctan team.]


From philipp.faeh at googlemail.com  Fri May 18 14:26:41 2007
From: philipp.faeh at googlemail.com (=?ISO-8859-1?Q?Philipp_F=E4h?=)
Date: Fri, 18 May 2007 14:26:41 +0200
Subject: [tex-live] mactex dmg
In-Reply-To: <32707.1179483857@mole.cl.cam.ac.uk>
References: <32707.1179483857@mole.cl.cam.ac.uk>
Message-ID: <b5b4bd8abaf2e87b3f273e48c830b3c8@mysunrise.ch>

dmg: Disk Images of the Apple FS HFS

further information: http://en.wikipedia.org/wiki/.dmg

Am 18.05.2007 um 12:24 schrieb Robin Fairbairns:

> when i first catalogued mactex there was a single compressed file in 
> the
> directory we mirror to ctan.  subsequently, a file mactex.dmg appeared,
> and later still mactextras.dmg (or thereabouts).
>
> as a result (and in the context of my ignorance of macs), we have two
> catalogue entries: mactex and mactex-dmg.  this is not satisfactory --
> there is nothing but dmg files in the directories.
>
> am i right in assuming that i should dump the mactex-dmg entry, and
> regenerate the mactex entry from the mactex description on tug.org?
>
> [what _are_ dmg files, anyway?  i've dropped heavy hints around here
> that a mac would go well with the present collection of machines in my
> office, but the hints fall on deaf ears ;-) ]
>
> robin
>
> [wearing my ctan hat, but not speaking for the ctan team.]
>


From hanthethanh at gmail.com  Sat May 19 10:43:25 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Sat, 19 May 2007 10:43:25 +0200
Subject: [tex-live] compact latex samples?
Message-ID: <74f506dc0705190143h6ae8fbe6i377c1cf2a99d3721@mail.gmail.com>

Hi,

[I think texhax is a better place to ask this question, but
please excuse my laziness]

I am looking for some compact latex samples, to server as
quick-start-by-examples for new latex users. What I have in
mind is something similar small2e.tex and sample2e.tex
(those come with standard latex), but covers more common
topics in latex. On the other hand it should not be too
lengthy so it doesn't draw back newbies from giving it a
try. My intention is to collect and then translate those
documents to Vietnamese, and include them to the vntex
package.

Any hint please?

Thanks,
Thanh

From karl at freefriends.org  Sat May 19 19:47:01 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 May 2007 12:47:01 -0500
Subject: [tex-live] compact latex samples?
In-Reply-To: <74f506dc0705190143h6ae8fbe6i377c1cf2a99d3721@mail.gmail.com>
Message-ID: <200705191747.l4JHl1J06719@f7.net>

    please excuse my laziness]

You can be forgiven anything, Thanh :).

    I am looking for some compact latex samples, 

See if any of these tutorials suit ...

http://www.andy-roberts.net/misc/latex/
http://tug.org/tutorials/tugindia/
http://theoval.cmp.uea.ac.uk/~nlct/latex/

And here are pointers to more:
http://www.tex.ac.uk/cgi-bin/texfaq2html?label=tutorials*

Best,
karl

From sanjoy at mrao.cam.ac.uk  Sat May 19 19:38:15 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Sat, 19 May 2007 13:38:15 -0400
Subject: [tex-live] makempx temp shell script packaged into texlive-metapost
Message-ID: <E1HpSsi-00078M-52@approximate.corpus.cam.ac.uk>

I built the Ubuntu 7.10 (gutsy) texlive 2007 packages on my Ubuntu 7.04
system, in order to make backports publicly available.  Most tests
worked but metapost failed with:

  /usr/bin/ld: cannot open output file /usr/bin/.libs/12630-lt-makempx:
  No such file or directory

I think the fix is this one-line change (for metapost upstream, texlive
upstream, and the Debian and Ubuntu texlive-bin src package):

--- texlive-bin-2007/build/source/texk/web2c/mpware/Makefile.in	2006-11-28 08:24:53.000000000 -0500
+++ texlive-bin-2007/build/source/texk/web2c/mpware/Makefile.in	2007-05-19 11:24:46.000000000 -0400
@@ -49,7 +49,7 @@
 	$(INSTALL_PROGRAM) newer $(bindir)/newer
 	$(INSTALL_LIBTOOL_PROG) dmp $(bindir)
 	$(INSTALL_LIBTOOL_PROG) mpto $(bindir)
-	$(INSTALL_SCRIPT) makempx $(scriptdir)/makempx
+	$(INSTALL_LIBTOOL_PROG) makempx $(scriptdir)/makempx
 install-data:
 
 kpse_include ../make/tkpathsea.mk


Here is the longer story.  

The /usr/bin/makempx in my backport of texlive-metapost or in the Ubuntu
repo <http://packages.ubuntu.com/gutsy/tex/texlive-metapost> (version is
2007-7ubuntu1) was a temporary shell script.  It began with these lines
that indicate something bad has happened:

  #! /bin/sh

  # makempx - temporary wrapper script for .libs/makempx
  # Generated by ltmain.sh - GNU libtool 1.4.3 (1.922.2.111 2002/10/23 02:54:36)
  #
  # The makempx program cannot be directly executed until all the libtool
  # libraries that it depends on are installed.
  #
  # This wrapper script should never be moved out of the build directory.
  # If it is, it will not operate correctly.

That script should be run only during the build, and the makempx ELF
binary should be packaged instead.

Norbert's Debian packages don't expose this problem, nor (I think) does
a vanilla texlive install.  Since the Debian src package is almost
identical to the Ubuntu package, why does the Ubuntu texlive-bin src
package (version 2007-7ubuntu1) have the problem?  That question puzzled
me for a while.

So I built Norbert's packages (with the libpoppler patch from the Ubuntu
pkg).  The command lines to build makempx differ, because the libtool
scripts differ.  Here is the diff in the libtool scripts:

--- etch/texlive-bin-2007/build/source/Work/texk/libtool	2007-05-19 11:49:13.000000000 -0400
+++ fesity/texlive-bin-2007/build/source/Work/texk/libtool	2007-05-19 11:39:21.000000000 -0400
@@ -47 +47 @@
-build_libtool_libs=no
+build_libtool_libs=yes
@@ -53 +53 @@
-build_libtool_need_lc=yes
+build_libtool_need_lc=no
@@ -56 +56 @@
-fast_install=needless
+fast_install=yes


Here are the makempx build command in the Ubuntu build:

  /bin/sh ../../libtool --mode=link gcc -o makempx   makempx.o ../lib/lib.a ../../kpathsea/libkpathsea.la -lm  
  gcc -o .libs/makempx makempx.o  ../lib/lib.a ../../kpathsea/.libs/libkpathsea.so -lm -Wl,--rpath -Wl,/home/sanjoy/tmp/feisty-mod/texlive-bin-2007/build/source/inst/lib

So the makempx binary goes in .libs/makempx.  Which is fine as long it
gets packaged.  But the following Makefile.in line means that instead
./makempx (the temporary shell script) will get packaged:

	$(INSTALL_SCRIPT) makempx $(scriptdir)/makempx

But back to why the Debian pkgs end up with the correct makempx.  I
think it's due to a lucky combination of configure options.  

Here's the reasoning.  The libtool scripts differ between Debian and
Ubuntu builds because the configure settings differ.  Here is the
relevant hunk:

diff -r -u etch/texlive-bin-2007/debian/rules feisty/texlive-bin-2007/debian/rules
--- etch/texlive-bin-2007/debian/rules	2007-05-19 10:29:24.000000000 -0400
+++ feisty/texlive-bin-2007/debian/rules	2007-05-19 10:32:19.000000000 -0400
@@ -21,7 +21,7 @@
 	--with-system-ncurses --with-system-pnglib --with-system-zlib --with-system-gd \
 	--with-system-freetype --with-system-freetype2 \
 	--with-freetype2-include=/usr/include/freetype2 \
-	--without-install-extra
+	--without-install-extra --enable-shared
  
 unpack-stamp:
 	mkdir -p build


The --enable-shared in the Ubuntu pkg must set fast_install to yes.  In
the Debian build, perhaps because of fast_install=notneeded, the makempx
binary is put in the main directory rather than in .libs/:

  /bin/sh ../../libtool --mode=link gcc -o makempx   makempx.o ../lib/lib.a ../../kpathsea/libkpathsea.la -lm  
  gcc -o makempx makempx.o  ../lib/lib.a ../../kpathsea/.libs/libkpathsea.a -lm

The Makefile rule using $(INSTALL_SCRIPT) (which is just 'install')
installs the binary anyway and does no harm, in the Debian build.
However, if texlive or metapost or Debian turn on --enable-shared, then
this makempx trouble will arise.  So I think it should be fixed
upstream.

I checked through the other Makefile.in's in the texlive svn tree and
didn't see similar problems, but I may have missed an implicit use of
libtool that doesn't have a matching $(INSTALL_LIBTOOL_PROG).

-Sanjoy


From sanjoy at mrao.cam.ac.uk  Sat May 19 20:19:14 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Sat, 19 May 2007 19:19:14 +0100
Subject: [tex-live] makempx temp shell script packaged into
	texlive-metapost
In-Reply-To: Your message of "Sat, 19 May 2007 19:59:25 +0200."
	<20070519175925.GD28243@gamma.logic.tuwien.ac.at> 
Message-ID: <E1HpTWM-0005Ov-00@skye.ra.phy.cam.ac.uk>

> Well big thanks a lot for tracking this down for us!

I'm happy it was useful.

> Funny, that you sent this after me building/testing one day long new
> texlive-bin packages with new poppler patch.

Where will you put the new pkgs?  Oh, libpoppler 0.5 has moved from
experimental into unstable, so I guess you'll put the pkgs in
unstable.  Could you put them also in your people.debian.org repo, if
that won't interfere with the etch backports?

The reason is that the new pkgs might be directly installable on
Ubuntu 7.04.  I'll happily test for that.  I think the only issue was
the libpoppler version, which now matches Ubuntu 7.04 (Ubuntu started
using libpoppler 0.5 in Ubuntu 6.06).

Then I could point Ubuntu ConTeXt users (myself included) to them,
rather than making backports myself.  I've already made them and put
them at web.mit.edu (I found the makempx problem when I was testing my
own medicine), but if your pkgs for unstable are directly usable, all
the better.  And I could instead try to backport to Ubuntu 6.10.
[Backport for 6.06 seems too hard, since it didn't use any version of
texlive.]

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From sanjoy at mrao.cam.ac.uk  Sat May 19 20:25:12 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Sat, 19 May 2007 19:25:12 +0100
Subject: [tex-live] compact latex samples?
In-Reply-To: Your message of "Sat, 19 May 2007 10:43:25 +0200."
	<74f506dc0705190143h6ae8fbe6i377c1cf2a99d3721@mail.gmail.com> 
Message-ID: <E1HpTc8-0005T5-00@skye.ra.phy.cam.ac.uk>

<http://www.inference.phy.cam.ac.uk/sanjoy/tex/> might be useful, and
I use it whenever I teach latex, though it's oriented towards
technical documents perhaps more than you are looking for?

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From preining at logic.at  Sat May 19 20:28:41 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 19 May 2007 20:28:41 +0200
Subject: [tex-live] makempx temp shell script packaged into
	texlive-metapost
In-Reply-To: <E1HpTWM-0005Ov-00@skye.ra.phy.cam.ac.uk>
References: <20070519175925.GD28243@gamma.logic.tuwien.ac.at>
	<E1HpTWM-0005Ov-00@skye.ra.phy.cam.ac.uk>
Message-ID: <20070519182841.GF28243@gamma.logic.tuwien.ac.at>

Hi Sanjoy,

On Sam, 19 Mai 2007, Sanjoy Mahajan wrote:
> Where will you put the new pkgs?  Oh, libpoppler 0.5 has moved from
> experimental into unstable, so I guess you'll put the pkgs in
> unstable.  Could you put them also in your people.debian.org repo, if
> that won't interfere with the etch backports?

I will put the source packages as usual on people.

Well, then we have a problem, because now with the move to libpoppler
backporting to etch is not anymore trivial, changing patches etc.

I guess at the end all of the stuff will end up on people, backports (if
I manage it) for etch, and unstable packages fo rthe rest of the world.

But this needs time ... I spent a WHOLE day fixing packaging stuff
(libkpathseas stuff is now build from the texlive packages, plus the
move to poppler 0.5 something), now my head is banging ...

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LYBSTER (n., vb.)
The artificial chuckle in the voice-over at the end of a supposedly
funny television commercial.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sat May 19 19:59:25 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 19 May 2007 19:59:25 +0200
Subject: [tex-live] makempx temp shell script packaged into
	texlive-metapost
In-Reply-To: <E1HpSsi-00078M-52@approximate.corpus.cam.ac.uk>
References: <E1HpSsi-00078M-52@approximate.corpus.cam.ac.uk>
Message-ID: <20070519175925.GD28243@gamma.logic.tuwien.ac.at>


On Sam, 19 Mai 2007, Sanjoy Mahajan wrote:
>   /usr/bin/ld: cannot open output file /usr/bin/.libs/12630-lt-makempx:
>   No such file or directory

Funny, that you sent this after me building/testing one day long new
texlive-bin packages with new poppler patch.

And alas, there is the bug, I have the very same problem.

At least I haven't uploaded this already.

Thanks a lot.

> I think the fix is this one-line change (for metapost upstream, texlive
> upstream, and the Debian and Ubuntu texlive-bin src package):

Will do this.

> Norbert's Debian packages don't expose this problem, nor (I think) does
> a vanilla texlive install.  Since the Debian src package is almost
> identical to the Ubuntu package, why does the Ubuntu texlive-bin src
> package (version 2007-7ubuntu1) have the problem?  That question puzzled
> me for a while.

Also me ...

> -	--without-install-extra
> +	--without-install-extra --enable-shared

Ahh, but now we also have this.

Well big thanks a lot for tracking this down for us!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DAMNAGLAUR (n.)
A certain facial expression which actors are required to demonstrate
their mastery of before they are allowed to play MacBeth.
			--- Douglas Adams, The Meaning of Liff

From heiko.bauke at physics.ox.ac.uk  Sat May 19 20:43:20 2007
From: heiko.bauke at physics.ox.ac.uk (Heiko Bauke)
Date: Sat, 19 May 2007 19:43:20 +0100
Subject: [tex-live] compact latex samples?
References: <74f506dc0705190143h6ae8fbe6i377c1cf2a99d3721@mail.gmail.com>
	<E1HpTc8-0005T5-00@skye.ra.phy.cam.ac.uk>
Message-ID: <20070519194320.8c1e3a3e.heiko.bauke@physics.ox.ac.uk>

Hi,

On Sat, 19 May 2007 19:25:12 +0100
Sanjoy Mahajan <sanjoy at mrao.cam.ac.uk> wrote:

> <http://www.inference.phy.cam.ac.uk/sanjoy/tex/> might be useful, and
> I use it whenever I teach latex, 

do you use it as a negative example?

> \documentclass[12pt,letterpaper]{article}
> % The following commands adjust the size and location of the page on
> the paper \oddsidemargin=-0.05in
> \textwidth=6.9in
> \topmargin=-0.8in
> \textheight=9.55in
[...]
> \begin{document}
[...]
> \begin{abstract}
>   This is a sample \LaTeX\ document. You can use it as a start for
>   your own.  We give examples of basic \LaTeX\ writing, including
>   using a {\tt .bib} file for handling bibliographies. We explain how
>   to use the {\tt graphicx} package to include postscript or PDF
>   figures and the {\tt hyperref} package to produce an automatically
>   hyperlinked document and to add URL's to your document.
> \end{abstract}

I would suggest http://www.ctan.org/tex-archive/info/l2tabu/english/
instead.


	Heiko


-- 
-- Form follows function-that has been misunderstood. Form and function 
-- should be one, joined in a spiritual union.  (Frank Lloyd Wright)
-- Cluster Computing @ http://www.clustercomputing.de
--       Heiko Bauke @ http://www.physics.ox.ac.uk/users/bauke


From gnwiii at gmail.com  Sat May 19 21:11:06 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 19 May 2007 16:11:06 -0300
Subject: [tex-live] compact latex samples?
In-Reply-To: <74f506dc0705190143h6ae8fbe6i377c1cf2a99d3721@mail.gmail.com>
References: <74f506dc0705190143h6ae8fbe6i377c1cf2a99d3721@mail.gmail.com>
Message-ID: <22af238a0705191211u3b8aab43jb9339e4e0b24c114@mail.gmail.com>

On 5/19/07, Thanh Han The <hanthethanh at gmail.com> wrote:

> I am looking for some compact latex samples, to server as
> quick-start-by-examples for new latex users. What I have in
> mind is something similar small2e.tex and sample2e.tex
> (those come with standard latex), but covers more common
> topics in latex. On the other hand it should not be too
> lengthy so it doesn't draw back newbies from giving it a
> try. My intention is to collect and then translate those
> documents to Vietnamese, and include them to the vntex
> package.

Do you need the files to contain the level of instructional detail
found in sample2e or will the files be used in connection with
a translation of some reference manual?

> Any hint please?

Not everyone sees the advantage of starting small and working
up to complete documents.

Many users prefer to start with an existing document that is
similar in structure to the one they want to produce.   In science
that generally means the student gets the source of a paper or
report from an advisor and replaces the content with new
material.  Many manage to  get by without consulting a manual,
although I have seen others close to tears over a misplaced curly
brace.

A collection of examples would be helpful in other ways.
Instead of trying to get the person who posted the message
"package <X> is broken - please help" to generate a simple
test file many such cases could be covered by one of the
standard example files that use package <X>.  The original
poster could compare their results with those on CTAN,
which would include logs (with tracing).

I'd split sample2e into several 1--2 page documents, each
introducing a small number of concepts but with tracing on
so there is lots of information in the logs, and then fill in the
gaps with additional small documents:

*  text ("ransom" note)
*  sections and headers
*  lists, etc
*  math examples
*  tables
*  figures
*  hyperlinks and cross references
*  bibliographies

These examples could be done with simpler text than sample2e,
e.g., a few short sentences repeated when you need to fill space.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From sanjoy at mrao.cam.ac.uk  Sat May 19 21:15:13 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Sat, 19 May 2007 20:15:13 +0100
Subject: [tex-live] compact latex samples?
In-Reply-To: Your message of "Sat, 19 May 2007 19:43:20 BST."
	<20070519194320.8c1e3a3e.heiko.bauke@physics.ox.ac.uk> 
Message-ID: <E1HpUOX-00060Z-00@skye.ra.phy.cam.ac.uk>

> do you use it as a negative example?

Is that a rhetorical question?

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From karl at freefriends.org  Sat May 19 23:44:15 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 May 2007 16:44:15 -0500
Subject: [tex-live] makempx temp shell script packaged into
	texlive-metapost
In-Reply-To: <E1HpSsi-00078M-52@approximate.corpus.cam.ac.uk>
Message-ID: <200705192144.l4JLiFf15735@f7.net>

 	$(INSTALL_LIBTOOL_PROG) dmp $(bindir)
 	$(INSTALL_LIBTOOL_PROG) mpto $(bindir)
    -	$(INSTALL_SCRIPT) makempx $(scriptdir)/makempx
    +	$(INSTALL_LIBTOOL_PROG) makempx $(scriptdir)/makempx

Thanks.

Also, since makempx is a binary now (which is also the reason why
INSTALL_LIBTOOL_PROG is needed), I believe it should be installed in
$(bindir), not $(scriptdir).  (Although these are usually the same.)

So I installed the change below in TeX Live for starters.  Taco, ok with
you if I put it into mp?

k

--- /home/texlive/trunk/Build/source/texk/web2c/mpware/Makefile.in	2006-11-28 14:24:53.000000000 +0100
+++ /home/texlive/karl/Build/source/texk/web2c/mpware/Makefile.in	2007-05-19 23:39:24.000000000 +0200
@@ -51,3 +51,3 @@
 	$(INSTALL_LIBTOOL_PROG) mpto $(bindir)
-	$(INSTALL_SCRIPT) makempx $(scriptdir)/makempx
+	$(INSTALL_LIBTOOL_PROG) makempx $(bindir)
 install-data:

From karl at freefriends.org  Sun May 20 04:09:33 2007
From: karl at freefriends.org (Karl Berry)
Date: Sat, 19 May 2007 21:09:33 -0500
Subject: [tex-live] Bug#423987: Some documentation is
	missing	/usr/share/texmf-texlive/texdoctk/texdoctk.dat
In-Reply-To: <87tzuaqzju.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200705200209.l4K29XL08670@f7.net>

    So there are probably false positives, but what about abstract,
    accents, acronym, aeguill?

I do not know of any attempt to ever sync texdoctk.dat between TL and
teTeX, so it is not surprising there are differences in every direction.

If you or anyone would like to maintain that file, please, go ahead and
do so.  I don't plan to spend time on it.

Best,
Karl

From taco at elvenkind.com  Sun May 20 10:16:21 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 20 May 2007 10:16:21 +0200
Subject: [tex-live] makempx temp shell script packaged into
	texlive-metapost
In-Reply-To: <200705192144.l4JLiFf15735@f7.net>
References: <200705192144.l4JLiFf15735@f7.net>
Message-ID: <465003D5.7040508@elvenkind.com>

Karl Berry wrote:
>  	$(INSTALL_LIBTOOL_PROG) dmp $(bindir)
>  	$(INSTALL_LIBTOOL_PROG) mpto $(bindir)
>     -	$(INSTALL_SCRIPT) makempx $(scriptdir)/makempx
>     +	$(INSTALL_LIBTOOL_PROG) makempx $(scriptdir)/makempx
> 
> Thanks.
> 
> Also, since makempx is a binary now (which is also the reason why
> INSTALL_LIBTOOL_PROG is needed), I believe it should be installed in
> $(bindir), not $(scriptdir).  (Although these are usually the same.)
> 
> So I installed the change below in TeX Live for starters.  Taco, ok with
> you if I put it into mp?

My bad, I completely overlooked this when switching from script to C.
I have committed this to the metapost repository already, sorry for
the tricky mess up.

Best wishes,
Taco

From hanthethanh at gmail.com  Sun May 20 17:04:52 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Sun, 20 May 2007 17:04:52 +0200
Subject: [tex-live] compact latex samples?
Message-ID: <74f506dc0705200804r3fbb700dn471a982c3245ab07@mail.gmail.com>

Hi,

many thanks to all your replies to my question, they are
very informative. I will probably go through all and pick up
pieces that are suitable for me.

Best regards,
Thanh

From Gerben.Wierda at rna.nl  Sun May 20 22:25:19 2007
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun, 20 May 2007 22:25:19 +0200
Subject: [tex-live] cyrtexinfo?
Message-ID: <CCCDAD04-74B7-45D1-8B0A-43AA3B102BAE@rna.nl>

Should cyrtexinfo work in TL2007? It does  not  in my subset, nor for  
one of my users. Does it work in TL2007?

fmtutil: running `pdftex -ini   -jobname=cyrtexinfo - 
progname=cyrtexinfo -translate-file=cp227.tcx *cyrtxinf.ini' ...
This is pdfTeX, Version 3.141592-1.40.3 (Web2C 7.5.6) (INITEX)
(/usr/local/gwTeX/texmf/web2c/cp227.tcx)
entering extended mode
(/usr/local/gwTeX/texmf.texlive/tex/plain/cyrplain/cyrtxinf.ini
(/usr/local/gwTeX/texmf.texlive/tex/plain/cyrplain/cyrtex.tex
(/usr/local/gwTeX/texmf.texlive/tex/plain/cyrplain/cyrtex.cfg
(/usr/local/gwTeX/texmf.texlive/tex/latex/cyrillic/lcydefs.tex))
(/usr/local/gwTeX/texmf.texlive/tex/plain/base/plain.tex
Preloading the plain format: codes, registers, parameters, fonts,
(/usr/local/gwTeX/texmf.texlive/tex/plain/cyrplain/cyrcmfnt.tex fonts,
more fonts,) macros, math definitions, output routines, hyphenation
(/usr/local/gwTeX/texmf.texlive/tex/generic/babel/hyphen.cfg
(/usr/local/gwTeX/texmf.texlive/tex/generic/babel/plain.def)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/hyphen.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/ushyphmax.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/dumyhyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/zerohyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/zerohyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-bahyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/bahyph.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-bghyphen.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/bghyphen/bghyphen.tex
Bulgarian hyphenation patterns
(/usr/local/gwTeX/texmf.texlive/tex/generic/bghyphen/catmik.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/bghyphen/mik2t2.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/bghyphen/bghyphsi.tex)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-copthyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/copthyph.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/cyhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/cathyph.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-czhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/czhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/csplain/base/t1code.tex
Font encoding set to Cork.)
The \^, \`, \', \v, \" and \r expands to characters by Cork.
(/usr/local/gwTeX/texmf.texlive/tex/csplain/base/czhyphen.tex)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-skhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/skhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/csplain/base/t1code.tex
Font encoding set to Cork.)
The \^, \`, \', \v, \" and \r expands to characters by Cork.
(/usr/local/gwTeX/texmf.texlive/tex/csplain/base/skhyphen.tex)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-dehypht.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/dehypht.tex
German Traditional Hyphenation Patterns `dehypht' Version 3.2a  
<1999/03/03>
(Formerly known under the name `ghyph31' and `ghyphen'.)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-dehyphn.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/dehyphn.tex
New German Hyphenation Patterns `dehyphn' Rev.31 <2001-05-07> (WaS)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/dkhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/dkcommon.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/dkspecial.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/dkspecial.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-eohyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/eohyph.tex
Esperanto Hyphenation Patterns `eohyph', 1999-08-10))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-eshyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/eshyph.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/cahyph.tex
Catalan Hyphenation Patterns `cahyphen' Version 1.11 <2003/07/15>)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-glhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/glhyph.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-ethyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/ethyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/cathyph.tex)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/zerohyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/fihyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-frhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/frhyph.tex
frhyph.tex - French hyphenation patterns (V2.12) <2002/12/11>))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-grphyph4.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/grphyph4.tex
Hyphenation patterns for multi-accent (polytonic) Modern Greek))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-grmhyph4.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/grmhyph4.tex
Hyphenation patterns for uni-accent (monotonic) Modern Greek))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-grahyph4.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/grahyph4.tex
Hyphenation patterns for Ancient Greek))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-hrhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/hrhyph.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-huhyphn.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/huhyphn.tex
Huhyphn - hungarian hyphenation patterns v20031107))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/iahyphen.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/ibyhyph.tex
Greek hyphenation patterns for Ibycus 4)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/inhyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/icehyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/ithyph.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-lahyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/lahyph.tex
Latin Hyphenation Patterns `lahyph' Version 3.0b <2001/11/21>))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-mnhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/mnhyph.tex
mnhyphen.tex - Hyphenation Patterns for Xalx Mongolian, LMC Encoding))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/nehyph96.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-nohyphbx.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/nohyphbx.tex
Hyphenation patterns for Norwegian))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-plhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/plhyph.tex))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/pthyph.tex
portuguese hiphenation 8 bits and -)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-pyhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/pyhyph.tex
Hyphenation patterns for unaccented pinyin syllables (CJK 4.7.0)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-rohyphen.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/rohyphen.tex
Romanian Hyphenation Patterns: `rohyphen' 1.1 <29.10.1996>))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-ruhyphen.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/ruhyphen/ruhyphen.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/ruhyphen/catkoi.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/ruhyphen/koi2lcy.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/ruhyphen/ruhyphal.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/ruhyphen/cyryoal.tex)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-sihyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/sihyph.tex
Slovene Hyphenation Patterns `sihyph23' Version 2.3 <97/15/04>))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-sorhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/sorhyph.tex
Hyphenation patterns for Upper Sorbian, E. Werner
Completely new revision 1997, March 22))
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-srhyphc.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/srhyphc.tex
Serbian Cyrillic Hyphenation Patterns `srhyphc.tex' v1.0a <2003-06-09>))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/svhyph.tex
Swedish hyphenation patterns, Jan Michael Rynning, 1994-03-03.)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-tkhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/tkhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/cathyph.tex)))
(/usr/local/gwTeX/texmf.texlive/tex/generic/hyphen/ukhyphen.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/xu-hyphen/xu-ukrhyph.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/ukrhyph/ukrhyph.tex
Ukrainian hyphenation patterns in lcy encoding
(/usr/local/gwTeX/texmf.texlive/tex/generic/ukrhyph/catlcy.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/ukrhyph/lcy2lcy.tex)
(/usr/local/gwTeX/texmf.texlive/tex/generic/ukrhyph/ukrhypmp.tex)))))
(/usr/local/gwTeX/texmf.texlive/tex/plain/cyrplain/txxextra.tex)
(/usr/local/gwTeX/texmf.texlive/tex/plain/cyrplain/plainenc.tex
(/usr/local/gwTeX/texmf.texlive/tex/generic/babel/plain.def)
(/usr/local/gwTeX/texmf.texlive/tex/latex/base/inputenc.sty))
(/usr/local/gwTeX/texmf.texlive/tex/latex/cyrillic/lcyenc.def)
(/usr/local/gwTeX/texmf.texlive/tex/latex/cyrillic/koi8-r.def))
(/usr/local/gwTeX/texmf.texlive/tex/texinfo/texinfo.tex
Loading texinfo [version 2007-01-02.19]: pdf, fonts, page headings,  
tables,
conditionals, indexing, sectioning, toc, environments, defuns, macros,
cross references, insertions,
(/usr/local/gwTeX/texmf.texlive/tex/generic/epsf/epsf.tex
This is `epsf.tex' v2.7.3 <23 July 2005>
) localization,
! Argument of \UTFviiiTwoOctets has an extra }.
<inserted text>
                 \par
<to be read again>
                    }
\upperc at se ...fter {\the \@uclctoks }}\reserved at a
                                                   }
\UTFviiiLoop ...ercase \expandafter {\UTFviiiTmp }
                                                   \advance  
\countUTFx by 1 \...
l.7484   \UTFviiiLoop

?
! Emergency stop.
<inserted text>
                 \par
<to be read again>
                    }
\upperc at se ...fter {\the \@uclctoks }}\reserved at a
                                                   }
\UTFviiiLoop ...ercase \expandafter {\UTFviiiTmp }
                                                   \advance  
\countUTFx by 1 \...
l.7484   \UTFviiiLoop

No pages of output.
Transcript written on cyrtexinfo.log.


From karl at freefriends.org  Sun May 20 22:39:07 2007
From: karl at freefriends.org (Karl Berry)
Date: Sun, 20 May 2007 15:39:07 -0500
Subject: [tex-live] cyrtexinfo?
In-Reply-To: <CCCDAD04-74B7-45D1-8B0A-43AA3B102BAE@rna.nl>
Message-ID: <200705202039.l4KKd7x29317@f7.net>

    Should cyrtexinfo work in TL2007? It does  not  in my subset, nor for  
    one of my users. Does it work in TL2007?

Well, apparently not.  I barely knew cyrtexinfo existed.  It's nothing I
ever had anything to do with.  No idea who dreamed it up.

However, I see the error related to \UTFviiiTwoOctets, which is a
relatively recent addition to texinfo.tex.  The current version of
texinfo.tex is somewhat newer than what your log shows.  I just updated
TL to have the latest (from ftp://tug.org/tex/texinfo.tex).  Does that
make any difference?

Perhaps with the input file I could debug something more.

k

From oliver at first.in-berlin.de  Mon May 21 16:12:29 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Mon, 21 May 2007 16:12:29 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
Message-ID: <20070521141228.GB872@first.in-berlin.de>

Hello,

some days ago I installed the TeXlive-DVD for a friend.
The installation took about 4 hours!

I saw that the $CDROM/texlive/install-tl.sh 
uses a lot of functions, that are used by invoking
shells and subshells and from there calling
tools like sed and grep and so on.

I also had a discussion on the tex-dl-mailinglist
about the organization of the livecd. The DVD-image
might be reoranized so that the data can faster be read.

Also I thought about using tgz-files instead of
a directory-structure. This could be used for faster
copying the data, but the disadvantage is, that
there is no easy way to run the programs from the
CD/DVD then, so the texlive than is != live...

I don't think that four hours installation time are acceptable.

And I want to provide different possibilities for the installation
procedure.

I can offer Perl and OCaml programming.
Perl should be available on most platforms, and OCaml
can by compiled to native code on most platforms.
So, a specialized installation-program could be provided.

Also it might sense to have an ls-R file for the whole
texlive-distribution.

I did not looked into all the installation scripts,
but I hink things can be done easier (I have looked at
install-tl.sh and it seems obviosu to me that this stuff
can be handled more efficiently).


I'm looking forward to hear from you.


Best Regards,
      Oliver Bandel



From preining at logic.at  Mon May 21 21:49:00 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 21 May 2007 21:49:00 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521141228.GB872@first.in-berlin.de>
References: <20070521141228.GB872@first.in-berlin.de>
Message-ID: <20070521194900.GD32157@gamma.logic.tuwien.ac.at>

Hi Oliver,

first of all, thanks a lot for your feedback, and thanks a lot for your
proposal to help us, very much appreciated and needed.

On Mon, 21 Mai 2007, Oliver Bandel wrote:
> some days ago I installed the TeXlive-DVD for a friend.
> The installation took about 4 hours!

This is strange, and abnormal. I assume that the DMA mode for the CDROM
drive was disabled. It is true that it takes some time, but 4h is too
much.

> I saw that the $CDROM/texlive/install-tl.sh 
> uses a lot of functions, that are used by invoking
> shells and subshells and from there calling
> tools like sed and grep and so on.

Shouldn't be a problem, this is not where time is lost. It is normally
with file access on DVD.

> I don't think that four hours installation time are acceptable.

Absolutely.

> And I want to provide different possibilities for the installation
> procedure.
> 
> I can offer Perl and OCaml programming.

So here we are at a quite interesting point. We, means I, am currently
reimplementing the infra structure of TeX Live, the so called tpm files.
Our primary reason was to make some strange list files obsolete, and
furthermore allow the update of single packages via the web.

I have already made a test implementation of this stuff in perl.

If you really want to contribute, something all of us will really
wholeheartly appreciate, I can get on and explain you many things. But
it is a hard business, nothing to be digested in half a day. Especially
the intestines of TeX Live are quite hacky to say the least.

Our aim is to clean this mess up, and make updates, installs, all this
easier, more streamlined etc.

Perl programming is much appreciated. Let me know, and I will get in
touch with you.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GANGES (n. rare : colonial Indian)
Leg-rash contracted from playing too much polo. (It is a little-known
fact that Prince Charles is troubled by ganges down the inside of his
arms.)
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Mon May 21 22:28:41 2007
From: preining at logic.at (Norbert Preining)
Date: Mon, 21 May 2007 22:28:41 +0200
Subject: [tex-live] VAC Pre-announcement 8.7.-12.8. and onto end of September
Message-ID: <20070521202841.GB6206@gamma.logic.tuwien.ac.at>

Hi everyone,

I want to pre-announce a bit offtime from Debian, in fact from any
computer: I will be practically offline from 8 July till 12 August
(being around permanently in the Swiss and French alps).

After this I will have better internet connection, but hardly any time
as I am preparing myself for a quite tricky examination (lasting 3 weeks).

>From October on I should be fully available again.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
KETTERING (n.)
The marks left on your bottom or thighs after sunbathing on a
wickerwork chair.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Mon May 21 23:22:03 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 May 2007 16:22:03 -0500
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521141228.GB872@first.in-berlin.de>
Message-ID: <200705212122.l4LLM3C08340@f7.net>

Hi Oliver,

Just a couple more notes after Norbert's response.

    Also I thought about using tgz-files instead of
    a directory-structure

This already exists.  It is called the "inst" distribution.
And yes, it installs faster than "live".
http://tug.org/texlive/acquire.html

    Also it might sense to have an ls-R file for the whole
    texlive-distribution.

There is already an ls-R in each texmf tree.  It would not work to have
one "super ls-R" for multiple trees.

Best,
Karl

From martin at oneiros.de  Mon May 21 23:41:13 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Mon, 21 May 2007 23:41:13 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521194900.GD32157@gamma.logic.tuwien.ac.at>
References: <20070521141228.GB872@first.in-berlin.de>
	<20070521194900.GD32157@gamma.logic.tuwien.ac.at>
Message-ID: <68c491a60705211441r35089c29o607f08767e06fdca@mail.gmail.com>

2007/5/21, Norbert Preining <preining at logic.at>:
> This is strange, and abnormal. I assume that the DMA mode for the CDROM
> drive was disabled. It is true that it takes some time, but 4h is too
> much.

I think 2h is normal (Harald K?nig tested it repeatedly), and even
that is much too long.

But this seems to be a Linux problem, as a simple cp -r also takes quite long.

Best
   Martin

From reinhard.kotucha at web.de  Tue May 22 00:23:19 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 22 May 2007 00:23:19 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521141228.GB872@first.in-berlin.de>
References: <20070521141228.GB872@first.in-berlin.de>
Message-ID: <18002.7127.945713.525953@zarniwoop.ms25.local>

>>>>> "Oliver" == Oliver Bandel <oliver at first.in-berlin.de> writes:

  > Hello, some days ago I installed the TeXlive-DVD for a friend.
  > The installation took about 4 hours!

That's horrible indeed.

  > I saw that the $CDROM/texlive/install-tl.sh uses a lot of
  > functions, that are used by invoking shells and subshells and from
  > there calling tools like sed and grep and so on.

Usually Perl scripts are faster than shell scripts because of this
reason.  However, this might even be true for programs which have to
process many files on a hard disk, but it is irrelevant for scripts
which have to copy files from a CD/DVD.

I can copy all texmf trees from the DVD to the hard drive within
40 minutes.  The CPU-time required is only 40 seconds.

A full install (from the DVD) takes 38 minutes and 3.5 minutes CPU-time.

My DVD drive is quite noisy and it seems that the problem is that the
haed has to be moved quite frequently.

I suppose that probably your friend's DVD drive needs more time to
skip to a track.  This is usually no problem but the number of files
in TeXLive is enormous.

  > I also had a discussion on the tex-dl-mailinglist about the
  > organization of the livecd. The DVD-image might be reoranized so
  > that the data can faster be read.

Did they provide any useful suggestions?  We talked about improvements
at EuroTeX-2007.  If you want to help, please contact Norbert Preining.
Any help is welcome.

  > Also I thought about using tgz-files instead of a
  > directory-structure. This could be used for faster copying the
  > data, but the disadvantage is, that there is no easy way to run
  > the programs from the CD/DVD then, so the texlive than is !=
  > live...

Yes, installing from the CD which contains .zip files is significantly
faster.  As far as I remember it takes 25 minutes here.  But as you
said yourself, the DVD contains a live system.

  > I can offer Perl and OCaml programming.  Perl should be available
  > on most platforms,

I think that Perl exists on all UNIX platforms... 

  > and OCaml can by compiled to native code on most platforms.  So, a
  > specialized installation-program could be provided.

...but this is problematic.  We need one installer which works on all
UNIX systems at least.  It would be nice if it works on Windows too.
It seems that using Perl is the best approach.  As you said yourself,
OCaml can be used on most platforms, but it is highly desirable to
have something which works everywhere.  And it is always problematic
to provide binaries for platforms you don't have access to.

  > Also it might sense to have an ls-R file for the whole
  > texlive-distribution.

Why?

  > I did not looked into all the installation scripts, but I hink
  > things can be done easier (I have looked at install-tl.sh and it
  > seems obviosu to me that this stuff can be handled more
  > efficiently).

Maybe.  I personally vote for Perl because at the moment nobody has
the time to re-invent everything for Windows again and Perl scripts
can be written quite platform independent.  And TL provides Perl for
Windows already.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From martin at oneiros.de  Tue May 22 00:33:31 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 22 May 2007 00:33:31 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <18002.7127.945713.525953@zarniwoop.ms25.local>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
Message-ID: <68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>

2007/5/22, Reinhard Kotucha <reinhard.kotucha at web.de>:
> Maybe.  I personally vote for Perl because at the moment nobody has
> the time to re-invent everything for Windows again and Perl scripts
> can be written quite platform independent.  And TL provides Perl for
> Windows already.

I vote for lua because the next TL will have a portable lua engine (luatex). :-)

Best
   Martin

From dak at gnu.org  Tue May 22 00:42:20 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 22 May 2007 00:42:20 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <18002.7127.945713.525953@zarniwoop.ms25.local> (Reinhard
	Kotucha's message of "Tue\, 22 May 2007 00\:23\:19 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
Message-ID: <85ps4tbxyr.fsf@lola.goethe.zz>

Reinhard Kotucha <reinhard.kotucha at web.de> writes:

>   > Also I thought about using tgz-files instead of a
>   > directory-structure. This could be used for faster copying the
>   > data, but the disadvantage is, that there is no easy way to run
>   > the programs from the CD/DVD then, so the texlive than is !=
>   > live...
>
> Yes, installing from the CD which contains .zip files is significantly
> faster.  As far as I remember it takes 25 minutes here.  But as you
> said yourself, the DVD contains a live system.

Well, tar files are structured with one block (512 bytes) of file
header followed by file content.  If one has a file system full of tar
files, one can create shadow directory entries for the contents as
long as every block is addressable.  If the data is accessed as a tar
file, it can be read in and processed strictly linearly.  So it should
be possible to get both live system and efficient install system share
the same data.  It will likely be slower than reading .tgz archives,
but it should beat copying from single files handily.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From dak at gnu.org  Tue May 22 00:51:45 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 22 May 2007 00:51:45 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	("Martin =?iso-8859-1?Q?Schr=F6der=22's?= message of "Tue\, 22 May 2007
	00\:33\:31 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
Message-ID: <85hcq5bxj2.fsf@lola.goethe.zz>

"Martin Schr?der" <martin at oneiros.de> writes:

> 2007/5/22, Reinhard Kotucha <reinhard.kotucha at web.de>:
>> Maybe.  I personally vote for Perl because at the moment nobody has
>> the time to re-invent everything for Windows again and Perl scripts
>> can be written quite platform independent.  And TL provides Perl for
>> Windows already.
>
> I vote for lua because the next TL will have a portable lua engine
> (luatex). :-)

I hope it will be smart enough to avoid allocating memory for TeX when
it is going to be used as a script engine.  Compared to Lua itself,
the TeX text segment is already a sizeable baggage even though there
is a good chance that on modern operating systems most of it will
never get paged when just using the Lua part.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From oliver at first.in-berlin.de  Tue May 22 01:08:26 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 01:08:26 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <18002.7127.945713.525953@zarniwoop.ms25.local>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
Message-ID: <20070521230826.GB611@first.in-berlin.de>

Hello,

I think it's best to subscribe tex-live-ml.

I just subscribed.... hope it will be avialbale soon.


On Tue, May 22, 2007 at 12:23:19AM +0200, Reinhard Kotucha wrote:
> >>>>> "Oliver" == Oliver Bandel <oliver at first.in-berlin.de> writes:
> 
[...]
> My DVD drive is quite noisy and it seems that the problem is that the
> haed has to be moved quite frequently.

Today I did copy texlive from DVD to my Mac-HD.
On the Mac (Powerbook) I heard a lot of noise too.
I think the DVD is mechanically ugly... it made noise even when
I didn't read from the CD.
But after starting the   cp -r   I heard a lot of
head repositioning.
That's ugly too.

One thing that on the tex-dl was brought in as ideas
was, to have an DVD-image cretaed by creating it in an
alphabetical order and during installation, reading it
alphabetically.


> 
> I suppose that probably your friend's DVD drive needs more time to
> skip to a track.  This is usually no problem but the number of files
> in TeXLive is enormous.

Yes.

But four hours installation time....
...next day I did a copy-action on a similar (maybe slightly faster)
PC (my own), and the copying needed about 30 minutes.
I don't know how much faster my DVD-drive was, but to mee it seems
that the installation (many head repositionings) together
with the scripts, that run, take so much more time.
But I had to test this in more detail to be sure, where
the bottleneck is (or where all bottlenecks are).


> 
>   > I also had a discussion on the tex-dl-mailinglist about the
>   > organization of the livecd. The DVD-image might be reoranized so
>   > that the data can faster be read.
> 
> Did they provide any useful suggestions?  We talked about improvements
> at EuroTeX-2007.  If you want to help, please contact Norbert Preining.
> Any help is welcome.

See above: alphabetical organization of the DVD-image.
But there were more suggestions and I have to reread the thread
and gather all ideas.

 
[...]
>   > I can offer Perl and OCaml programming.  Perl should be available
>   > on most platforms,
> 
> I think that Perl exists on all UNIX platforms... 
> 
>   > and OCaml can by compiled to native code on most platforms.  So, a
>   > specialized installation-program could be provided.
> 
> ...but this is problematic.  We need one installer which works on all
> UNIX systems at least.


It will:

   =========================================
    Overview

    Objective Caml is the most popular variant of the Caml language.
    From a language standpoint, it extends the core Caml language with
    a fully-fledged object-oriented layer, as well as a powerful module
    system, all connected by a sound, polymorphic type system featuring
    type inference.

    The Objective Caml system is an industrial-strength implementation of
    this language, featuring a high-performance native-code compiler
    (ocamlopt) for 9 processor architectures (IA32, PowerPC, AMD64, Alpha,
    Sparc, Mips, IA64, HPPA, StrongArm), as well as a bytecode compiler
    (ocamlc) and an interactive read-eval-print loop (ocaml) for quick
    development and portability. The Objective Caml distribution includes
    a comprehensive standard library, a replay debugger (ocamldebug),
    lexer (ocamllex) and parser (ocamlyacc) generators, a pre-processor
    pretty-printer (camlp4) and a documentation generator (ocamldoc).
   =========================================

See
  http://caml.inria.fr/ocaml/portability.en.html
for details.

If you miss something, please let me know.


> It would be nice if it works on Windows too.

There could be bytecode provided.
But possibly also native code.

See Win32-Release-Notes:
  http://caml.inria.fr/pub/distrib/ocaml-3.10/notes/README.win32


As there are not many OCaml-progarmmers out there, I know that
I might be solely wanting OCaml to be used.

But the reason I would prefer OCaml over any other language is
it's powerfulness.

When I switched from C to Perl, I had the feeling of: "why should
I ever again use C?". And there were rare cases, when I preferred
C over Perl. But these cases were rare.
When I switched from OCaml to Perl, at least after I was used to it,
it really was ugly to use Perl.... not to mention C. ;-)


> It seems that using Perl is the best approach.  As you said yourself,
> OCaml can be used on most platforms, but it is highly desirable to
> have something which works everywhere.  And it is always problematic
> to provide binaries for platforms you don't have access to.

If there would be setup-files available for all platforms,
for which the TeX-Binaries are available also, then
there should be no problem, IMHO.


> 
>   > Also it might sense to have an ls-R file for the whole
>   > texlive-distribution.
> 
> Why?
> 

I thought this can help in better ordering the installation.
But maybe I missed some point here?


>   > I did not looked into all the installation scripts, but I hink
>   > things can be done easier (I have looked at install-tl.sh and it
>   > seems obviosu to me that this stuff can be handled more
>   > efficiently).
> 
> Maybe.  I personally vote for Perl because at the moment nobody has
> the time to re-invent everything for Windows again and Perl scripts
> can be written quite platform independent.

I the code can be written platform independent but be compiled
to native code for all platforms, this should also be an option?


> And TL provides Perl for
> Windows already.

So, you see, Perl is NOT available on Windows-platforms.


I would prefer OCaml before Perl, and Perl before Shell,
(and Shell before C. ;-))

But this are only ideas.

If the texlive-project's people all prefer Perl, no problem with this,
even if it hurts ;-)

I didn't want to start a Language-clash, I just wanted to offer
more than one possibility (hoping my favourite would also be
interesting for others;-)).

The much more crucial points are:
  - what installation procdure is planned for the future (how to do it)
  - how can bottlenecks be removed (anti-slow)
  - how can the installation made clear (anti-mess)


Regards,
    Oliver

From reinhard.kotucha at web.de  Tue May 22 01:08:49 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 22 May 2007 01:08:49 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <68c491a60705211441r35089c29o607f08767e06fdca@mail.gmail.com>
References: <20070521141228.GB872@first.in-berlin.de>
	<20070521194900.GD32157@gamma.logic.tuwien.ac.at>
	<68c491a60705211441r35089c29o607f08767e06fdca@mail.gmail.com>
Message-ID: <18002.9857.544043.702595@zarniwoop.ms25.local>

>>>>> "Martin" == Martin Schr?der <martin at oneiros.de> writes:

  > 2007/5/21, Norbert Preining <preining at logic.at>:
  >> This is strange, and abnormal. I assume that the DMA mode for the
  >> CDROM drive was disabled. It is true that it takes some time, but
  >> 4h is too much.

  > I think 2h is normal (Harald K?nig tested it repeatedly), and even
  > that is much too long.

I suppose that it heavily depends on the hardware.  I can install TL
from the DVD within 38 minutes and within 25 minutes from the CD.  The
need to extract 58,430 files from 5,171 directories is certainly quite
unusual and I assume that CD/DVD drives are not optimized for this
task.  I did not spend much money for my DVD writer but it seems that
I'm in luck.

CPU time doesn't matter, but it seems that head movements are
significant.  Maybe it matters in which order files are copied to the
ISO image.  Maybe the Joliet and RockRidge extensions are problematic
too.  I don't know anything about them, but if there is a translation
table for each directory, that might a problem (which cannot be solved
easily, if at all). 

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From vext01 at gmail.com  Tue May 22 01:08:49 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Tue, 22 May 2007 00:08:49 +0100
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521194900.GD32157@gamma.logic.tuwien.ac.at>
References: <20070521141228.GB872@first.in-berlin.de>
	<20070521194900.GD32157@gamma.logic.tuwien.ac.at>
Message-ID: <a6e8c1d0705211608y54ea07cueb83f05be1482233@mail.gmail.com>

Hi Norbert,

On 21/05/07, Norbert Preining <preining at logic.at> wrote:
> So here we are at a quite interesting point. We, means I, am currently
> reimplementing the infra structure of TeX Live, the so called tpm files.
> Our primary reason was to make some strange list files obsolete, and
> furthermore allow the update of single packages via the web.
>
> I have already made a test implementation of this stuff in perl.

When does this take effect? Do you think it will be in texlive 2008?

If it's changing soon, I should stop work on my port. (I have a python
script almost complete to split down the texmf)

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From oliver at first.in-berlin.de  Tue May 22 01:38:43 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 01:38:43 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <85ps4tbxyr.fsf@lola.goethe.zz>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<85ps4tbxyr.fsf@lola.goethe.zz>
Message-ID: <20070521233843.GA802@first.in-berlin.de>

On Tue, May 22, 2007 at 12:42:20AM +0200, David Kastrup wrote:
> Reinhard Kotucha <reinhard.kotucha at web.de> writes:
> 
> >   > Also I thought about using tgz-files instead of a
> >   > directory-structure. This could be used for faster copying the
> >   > data, but the disadvantage is, that there is no easy way to run
> >   > the programs from the CD/DVD then, so the texlive than is !=
> >   > live...
> >
> > Yes, installing from the CD which contains .zip files is significantly
> > faster.  As far as I remember it takes 25 minutes here.  But as you
> > said yourself, the DVD contains a live system.
> 
> Well, tar files are structured with one block (512 bytes) of file
> header followed by file content.  If one has a file system full of tar
> files, one can create shadow directory entries for the contents as
> long as every block is addressable.
[...]


What do you mean with "shadow directories"?

Creating an index of the files (location inside the tar-file)
and providing them as virtual directories?

Is there a possibility to select files from a tar-archive
in arbitrary access? Or must such a tool be written?
As far as I know, all implementations of tar only provide
serial access...
...is this, what you called "shadow directories", is good for...
...to have arbitrary aces on each file inside the tarfile?

This will be faster than directory access?

Ciao,
   Oliver

P.S.: Are you all on tex-live-ML?
      So: is the cc necessary? If the confirmation-mail now
      will be processed, I'm now on the list.

From oliver at first.in-berlin.de  Tue May 22 01:39:27 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 01:39:27 +0200
Subject: [tex-live] [OT]: test
Message-ID: <20070521233926.GA829@first.in-berlin.de>

sorry!

From oliver at first.in-berlin.de  Tue May 22 01:43:46 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 01:43:46 +0200
Subject: [tex-live] [OT]: test
Message-ID: <20070521234346.GA855@first.in-berlin.de>

sorry!

From karl at freefriends.org  Tue May 22 01:51:21 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 May 2007 18:51:21 -0500
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521233843.GA802@first.in-berlin.de>
Message-ID: <200705212351.l4LNpL405452@f7.net>

As far as I can tell, the only problem with slowness reported so far
relates to the physical hardware and/or device driver.  Obviously, we
can't do anything about either one.  We provide the inst image as an
alternative for this reason, among others.

As far as more optimally packing the ISO image goes, sure, fine.  I fail
to understand your comment about alphabetizing.  We use mkisofs (not
surprisingly).  If you look in our subversion tree
(tug.org/svn/texlive/trunk) in Build/tools/MakeImages.sh, you will see
the exact invocation and how it is done.  Specific suggestions are
welcome.

    P.S.: Are you all on tex-live-ML?

Everyone so far is, yes.

From oliver at first.in-berlin.de  Tue May 22 01:55:36 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 01:55:36 +0200
Subject: [tex-live] [OT]: test
In-Reply-To: <20070521234346.GA855@first.in-berlin.de>
References: <20070521234346.GA855@first.in-berlin.de>
Message-ID: <20070521235536.GA908@first.in-berlin.de>

On Tue, May 22, 2007 at 01:43:46AM +0200, Oliver Bandel wrote:
> sorry!

ok, I'm on the list.

Hello to all! :)



From reinhard.kotucha at web.de  Tue May 22 02:01:19 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 22 May 2007 02:01:19 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
Message-ID: <18002.13007.113979.134155@zarniwoop.ms25.local>


>>>>> "Martin" == Martin Schr?der <martin at oneiros.de> writes:

  > 2007/5/22, Reinhard Kotucha <reinhard.kotucha at web.de>:
  >> Maybe.  I personally vote for Perl because at the moment nobody
  >> has the time to re-invent everything for Windows again and Perl
  >> scripts can be written quite platform independent.  And TL
  >> provides Perl for Windows already.

  > I vote for lua because the next TL will have a portable lua engine
  > (luatex). :-)

Yes, Lua is a great thing, especially texlua because it can access the
kpathsea tables.  At the moment I think that texlua is the only
language which can be used to replace Thomas' shell scripts because
texlua is completely platform independent.

The problem is that texlua is a symlink to luatex and luatex is a
binary.  It is available after TL has been installed.

For the installer we need a scripting language which is available
before anything is installed.  And I think that Perl is the right
thing.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From reinhard.kotucha at web.de  Tue May 22 02:15:45 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 22 May 2007 02:15:45 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <85hcq5bxj2.fsf@lola.goethe.zz>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
Message-ID: <18002.13873.450823.73968@zarniwoop.ms25.local>

>>>>> "David" == David Kastrup <dak at gnu.org> writes:

  > "Martin Schr?der" <martin at oneiros.de> writes:
  >> 2007/5/22, Reinhard Kotucha <reinhard.kotucha at web.de>:
  >>> Maybe.  I personally vote for Perl because at the moment nobody
  >>> has the time to re-invent everything for Windows again and Perl
  >>> scripts can be written quite platform independent.  And TL
  >>> provides Perl for Windows already.
  >> 
  >> I vote for lua because the next TL will have a portable lua
  >> engine (luatex). :-)

  > I hope it will be smart enough to avoid allocating memory for TeX
  > when it is going to be used as a script engine.  Compared to Lua
  > itself, the TeX text segment is already a sizeable baggage even
  > though there is a good chance that on modern operating systems
  > most of it will never get paged when just using the Lua part.

Maybe in the future texlua can be a separate program, but it doesn't
make sense to ask Taco to maintain two programs at the moment.

Cheers,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From staw at gust.org.pl  Tue May 22 02:33:42 2007
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue, 22 May 2007 02:33:42 +0200 (CEST)
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <18002.13007.113979.134155@zarniwoop.ms25.local>
Message-ID: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>

Ehhh!... I think that we missed the main point on that huge disscussion:
1. installing from the DVD needs any list for what has to be copied
2. regardless of used method (perl, sh, ...) of the installer, it uses
   anyway the standard "cp" ("copy" on windows) upon the given list. 
   
That's the main problem and that's why installing from the DVD ~40000 
files takes so long time. So, please, concentrate how to overcome it.
Any idea is welcome.

Thanks,

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From karl at freefriends.org  Tue May 22 02:44:35 2007
From: karl at freefriends.org (Karl Berry)
Date: Mon, 21 May 2007 19:44:35 -0500
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
Message-ID: <200705220044.l4M0iZM21443@f7.net>

       anyway the standard "cp" ("copy" on windows) upon the given list. 

That may be true with the Windows installer, I can't say, but it's not
true on Unix.  We use the "lists" files to make file lists and then use
tar to move them wholesale, instead of invoking cp on each list.

From oliver at first.in-berlin.de  Tue May 22 03:02:11 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 03:02:11 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <200705220044.l4M0iZM21443@f7.net>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
Message-ID: <20070522010211.GA1015@first.in-berlin.de>

On Mon, May 21, 2007 at 07:44:35PM -0500, Karl Berry wrote:
>        anyway the standard "cp" ("copy" on windows) upon the given list. 
> 
> That may be true with the Windows installer, I can't say, but it's not
> true on Unix.  We use the "lists" files to make file lists and then use
> tar to move them wholesale, instead of invoking cp on each list.


BTW: how will *.sh be used on windows?
If never seen that running there ;-)

So, if a binary must run on all platforms,
a script must also.

If there is a distinction between these OS's,
using different installation tools, then
it should also be possible to use binaries,
created from same source, compiled to native
code for those platforms... ?!

Ciao,
   Oliver



From staw at gust.org.pl  Tue May 22 03:03:18 2007
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue, 22 May 2007 03:03:18 +0200 (CEST)
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <200705220044.l4M0iZM21443@f7.net>
Message-ID: <Pine.LNX.4.44.0705220300110.20899-100000@fam82.internetdsl.tpnet.pl>

On Mon, 21 May 2007, Karl Berry wrote:

>        anyway the standard "cp" ("copy" on windows) upon the given list. 
> 
> That may be true with the Windows installer, I can't say, but it's not
> true on Unix.  We use the "lists" files to make file lists and then use
> tar to move them wholesale, instead of invoking cp on each list.

Thanks, Karl. Perhaps this idea can improve things also on windows (for 
DVD).

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From oliver at first.in-berlin.de  Tue May 22 03:12:37 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 03:12:37 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <200705220044.l4M0iZM21443@f7.net>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
Message-ID: <20070522011237.GB1015@first.in-berlin.de>

On Mon, May 21, 2007 at 07:44:35PM -0500, Karl Berry wrote:
>        anyway the standard "cp" ("copy" on windows) upon the given list. 
> 
> That may be true with the Windows installer, I can't say, but it's not
> true on Unix.  We use the "lists" files to make file lists and then use
> tar to move them wholesale, instead of invoking cp on each list.


Will the lists be created during installation process?
And: how much time does it need?

If it needs much time, it might be better to use
prepared filelists, so that there exists a filelist
for each possible selection/deselection of packages of the
distribution.

select_this_file = package_A || package_B || package_F
select_another_file = package_C || package_T || package_Q


So the filelists can be prepared and put onto the DVD.
Installation can be stupid and install the files that
are in the activated list.


You mentioned "lists"-files.

I found a "lists" directory in /Volumes/TeXCol2006-2007/texlive/texmf/


It contains files like   /Volumes/TeXCol2006-2007/texlive/texmf/lists/achemso
which has the following contents:

==================
first:~ oliver$ cat /Volumes/TeXCol2006-2007/texlive/texmf/lists/achemso 
texmf-dist/doc/latex/achemso/README
texmf-dist/doc/latex/achemso/achemso.pdf
texmf-dist/source/latex/achemso/achemso.dtx
texmf-dist/source/latex/achemso/achemso.ins
texmf-dist/bibtex/bst/achemso/achemso.bst
texmf-dist/bibtex/bst/achemso/achemsol.bst
texmf-dist/tex/latex/achemso/achemso.sty
texmf-dist/tpm/achemso.tpm

texmf/lists/achemso
first:~ oliver$ 
==================

There is no information about WHEN these files must be installed.

Where will this be selected?
And when?

Ciao,
   Oliver

From oliver at first.in-berlin.de  Tue May 22 03:26:52 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 03:26:52 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <Pine.LNX.4.44.0705220300110.20899-100000@fam82.internetdsl.tpnet.pl>
References: <200705220044.l4M0iZM21443@f7.net>
	<Pine.LNX.4.44.0705220300110.20899-100000@fam82.internetdsl.tpnet.pl>
Message-ID: <20070522012652.GA1144@first.in-berlin.de>

On Tue, May 22, 2007 at 03:03:18AM +0200, Staszek Wawrykiewicz wrote:
> On Mon, 21 May 2007, Karl Berry wrote:
> 
> >        anyway the standard "cp" ("copy" on windows) upon the given list. 
> > 
> > That may be true with the Windows installer, I can't say, but it's not
> > true on Unix.  We use the "lists" files to make file lists and then use
> > tar to move them wholesale, instead of invoking cp on each list.
> 
> Thanks, Karl. Perhaps this idea can improve things also on windows (for 
> DVD).



Well, if the big and nested ("bloated"?;-)) filesystem-structure
is the problem, and a non-optimal DVD-image, then this might not help
a lot...(?) !


Ciao,
   Oliver

From oliver at first.in-berlin.de  Tue May 22 02:49:13 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 02:49:13 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
References: <18002.13007.113979.134155@zarniwoop.ms25.local>
	<Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
Message-ID: <20070522004913.GA988@first.in-berlin.de>

On Tue, May 22, 2007 at 02:33:42AM +0200, Staszek Wawrykiewicz wrote:
> Ehhh!... I think that we missed the main point on that huge disscussion:
> 1. installing from the DVD needs any list for what has to be copied

Yes.
Is there no such list? ;-)

I have not seen such list files on the DV, but I did
not looked in detail on it.

But it is possible to (de)select parts of the distribution
(e.g. many languages that you never will use, so you not need
to install them).

So, for each selection of the installation it seems to me,
that certain files must be installed.

On my first view of the install-tl.sh I thought: "oh, well,
it seems, the files which should be installed will be looked
for, during the installation process".

Maybe I've overlooked something in the script, but it seems to me
a lot of time is wasted in looking for files.

If not, please is there a brief description of the installation-process?
(Don't want to reengineer the Shell-code; there seems to be dead code...?!)


> 2. regardless of used method (perl, sh, ...) of the installer, it uses
>    anyway the standard "cp" ("copy" on windows) upon the given list. 
>    
> That's the main problem and that's why installing from the DVD ~40000 
> files takes so long time. So, please, concentrate how to overcome it.
> Any idea is welcome.

cp normally use a certain block size (8k(?)).

When you copy large files, using dd with bs=<large_block_size>
can be much, much faster.

But I don't know if this brings any speed-up, when you have many
small files. It could help, when you copy a large *.tar/*.tgz file.

Ciao,
   Oliver

From dak at gnu.org  Tue May 22 08:19:59 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 22 May 2007 08:19:59 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521233843.GA802@first.in-berlin.de> (Oliver Bandel's
	message of "Tue\, 22 May 2007 01\:38\:43 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<85ps4tbxyr.fsf@lola.goethe.zz>
	<20070521233843.GA802@first.in-berlin.de>
Message-ID: <86d50tgz1s.fsf@lola.quinscape.zz>

Oliver Bandel <oliver at first.in-berlin.de> writes:

> On Tue, May 22, 2007 at 12:42:20AM +0200, David Kastrup wrote:
>> Reinhard Kotucha <reinhard.kotucha at web.de> writes:
>> 
>> >   > Also I thought about using tgz-files instead of a
>> >   > directory-structure. This could be used for faster copying the
>> >   > data, but the disadvantage is, that there is no easy way to run
>> >   > the programs from the CD/DVD then, so the texlive than is !=
>> >   > live...
>> >
>> > Yes, installing from the CD which contains .zip files is significantly
>> > faster.  As far as I remember it takes 25 minutes here.  But as you
>> > said yourself, the DVD contains a live system.
>> 
>> Well, tar files are structured with one block (512 bytes) of file
>> header followed by file content.  If one has a file system full of tar
>> files, one can create shadow directory entries for the contents as
>> long as every block is addressable.
> [...]
>
> What do you mean with "shadow directories"?

The CD will look like a bunch of tar files _plus_ a bunch of unpacked
files, but both taking up the same space on the DVD.  When accessed as
tar files, the read order will be strictly sequential.

> Is there a possibility to select files from a tar-archive
> in arbitrary access? Or must such a tool be written?

It seems like I was not able to clad my proposal into understandable
terms.  I do not know how to do this better.

-- 
David Kastrup

From taco at elvenkind.com  Tue May 22 09:23:38 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 22 May 2007 09:23:38 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <18002.13873.450823.73968@zarniwoop.ms25.local>
References: <20070521141228.GB872@first.in-berlin.de>	<18002.7127.945713.525953@zarniwoop.ms25.local>	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
Message-ID: <46529A7A.708@elvenkind.com>

Reinhard Kotucha wrote:
> 
>   > I hope it will be smart enough to avoid allocating memory for TeX
>   > when it is going to be used as a script engine.  Compared to Lua
>   > itself, the TeX text segment is already a sizeable baggage even
>   > though there is a good chance that on modern operating systems
>   > most of it will never get paged when just using the Lua part.

The TeX memory data is never initialized in the texlua case, and
you can't get access to the typesetting-related tables.

Since we want to eventually start using texlua as a tool for batch
editting OpenType fonts also, the text segment size is unlikely to
shrink. The fontforge segment is already almost as large as the
tex segment, and we need a bit more still.

But I expect most systems are copy-on-read these days. We know for
a fact that there is no speed difference between running texlua and
standalone lua 5.1 on linux, nor windows XP, because we tested that.

> Maybe in the future texlua can be a separate program, but it doesn't
> make sense to ask Taco to maintain two programs at the moment.

This may be easier than you think. It is quite possible that just a
few strategically placed #ifdef's will do the trick. I'll get back
to you on that.

Best wishes,

Taco


From dak at gnu.org  Tue May 22 09:44:35 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 22 May 2007 09:44:35 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <46529A7A.708@elvenkind.com> (Taco Hoekwater's message of "Tue\,
	22 May 2007 09\:23\:38 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com>
Message-ID: <86ps4tfgkc.fsf@lola.quinscape.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> Reinhard Kotucha wrote:
>>
>>   > I hope it will be smart enough to avoid allocating memory for TeX
>>   > when it is going to be used as a script engine.  Compared to Lua
>>   > itself, the TeX text segment is already a sizeable baggage even
>>   > though there is a good chance that on modern operating systems
>>   > most of it will never get paged when just using the Lua part.
>
> The TeX memory data is never initialized in the texlua case, and
> you can't get access to the typesetting-related tables.
>
> Since we want to eventually start using texlua as a tool for batch
> editting OpenType fonts also, the text segment size is unlikely to
> shrink. The fontforge segment is already almost as large as the
> tex segment, and we need a bit more still.
>
> But I expect most systems are copy-on-read these days.

You likely mean demand-paged.  Different buzzword.

> We know for a fact that there is no speed difference between running
> texlua and standalone lua 5.1 on linux, nor windows XP, because we
> tested that.
>
>> Maybe in the future texlua can be a separate program, but it doesn't
>> make sense to ask Taco to maintain two programs at the moment.
>
> This may be easier than you think. It is quite possible that just a
> few strategically placed #ifdef's will do the trick. I'll get back
> to you on that.

Seems pretty pointless if you already tested the startup times.  Then
the only advantage would seem to be that a separate binary would put
people at ease.  But a symbolic link with a different name would
likely serve a similar purpose.

-- 
David Kastrup

From pragma at wxs.nl  Tue May 22 10:03:26 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 22 May 2007 10:03:26 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <86ps4tfgkc.fsf@lola.quinscape.zz>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
Message-ID: <4652A3CE.9020005@wxs.nl>

David Kastrup wrote:
>
> Seems pretty pointless if you already tested the startup times.  Then
> the only advantage would seem to be that a separate binary would put
> people at ease.  But a symbolic link with a different name would
> likely serve a similar purpose.
>
>   
the symlink (or its equivalent on windows) is just a convenience trick

luatex --luaonly scriptname.lua

is doing the same

the only reason we came up with luatexlua (can be symlink or copy) is 
that it's the only way to make this 'scan the first line and run a 
program' work (#....) because when that name is used the --luaonly is 
automatic

when started as such, no tex mem is allocated because that only happens 
after kpse calls are used

when using luatex as scripting engine with access to kpse, one needs to 
start it in tex mode and load the script then; no big deal either;

in due time (i.e. when luatex is stable) we will provide examples of 
these things (and more documentation) which will be somewhere mid 2008, 
so after the next tex live;

so, for using luatex for installation purposes, it will take a couple of 
tex lives before that is feasible

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Tue May 22 09:49:18 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 22 May 2007 09:49:18 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070522010211.GA1015@first.in-berlin.de>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de>
Message-ID: <4652A07E.6060107@wxs.nl>

Oliver Bandel wrote:
> On Mon, May 21, 2007 at 07:44:35PM -0500, Karl Berry wrote:
>   
>>        anyway the standard "cp" ("copy" on windows) upon the given list. 
>>
>> That may be true with the Windows installer, I can't say, but it's not
>> true on Unix.  We use the "lists" files to make file lists and then use
>> tar to move them wholesale, instead of invoking cp on each list.
>>     
>
>
> BTW: how will *.sh be used on windows?
> If never seen that running there ;-)
>
> So, if a binary must run on all platforms,
> a script must also.
>
> If there is a distinction between these OS's,
> using different installation tools, then
> it should also be possible to use binaries,
> created from same source, compiled to native
> code for those platforms... ?!
>   
perl, python, ruby ... these can all be wrapped into 'pseudo binaries' being the core engine plus libs used plus scripts into one file which then can run as any program without the need to install the whole scripting environment

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Tue May 22 09:50:05 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 22 May 2007 09:50:05 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <Pine.LNX.4.44.0705220300110.20899-100000@fam82.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0705220300110.20899-100000@fam82.internetdsl.tpnet.pl>
Message-ID: <4652A0AD.20805@wxs.nl>

Staszek Wawrykiewicz wrote:
> On Mon, 21 May 2007, Karl Berry wrote:
>
>   
>>        anyway the standard "cp" ("copy" on windows) upon the given list. 
>>
>> That may be true with the Windows installer, I can't say, but it's not
>> true on Unix.  We use the "lists" files to make file lists and then use
>> tar to move them wholesale, instead of invoking cp on each list.
>>     
>
> Thanks, Karl. Perhaps this idea can improve things also on windows (for 
> DVD).
>
>   
on windows using xcopy (esp on directories) instead of copy speeds up 
things

Hans

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From dak at gnu.org  Tue May 22 10:28:51 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 22 May 2007 10:28:51 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <4652A3CE.9020005@wxs.nl> (Hans Hagen's message of "Tue\,
	22 May 2007 10\:03\:26 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl>
Message-ID: <868xbhfeik.fsf@lola.quinscape.zz>

Hans Hagen <pragma at wxs.nl> writes:

> David Kastrup wrote:
>>
>> Seems pretty pointless if you already tested the startup times.  Then
>> the only advantage would seem to be that a separate binary would put
>> people at ease.  But a symbolic link with a different name would
>> likely serve a similar purpose.
>>
>>   
> the symlink (or its equivalent on windows) is just a convenience trick
>
> luatex --luaonly scriptname.lua
>
> is doing the same

Nobody who has bet on the stupidity of people ever went broke.  There
is more truth in the following than many realize:

<URL:http://groups.google.de/group/comp.unix.pc-clone.32bit/msg/80bb74847934edc7>

> the only reason we came up with luatexlua (can be symlink or copy)

I'd propose phasing over to "texlua" since you have

a) no luatex available when called this way, so the name "luatexlua"
  is not related to the function.
b) it is a Lua interpreter with a TeX library environment (kpathsea
   and font libraries), so "texlua" is quite appropriate.
c) #!texlua sounds straight to the point and not like a stuttering
   aardvark with glasses and pocket protectors.  One does not feel
   ashamed if colleagues peer over one's shoulders when typing it.
   One does not fear "Why are you using TeX as a substitute for a
   scripting language?  That's sick!".

> is that it's the only way to make this 'scan the first line and run
> a program' work (#....) because when that name is used the --luaonly
> is automatic

I am aware of the _technical_ aspect.  Don't discount the
warm&fuzzies.

> when started as such, no tex mem is allocated because that only
> happens after kpse calls are used
>
> when using luatex as scripting engine with access to kpse, one needs
> to start it in tex mode and load the script then; no big deal
> either;

Oops.  I think it would make excellent sense to still provide the
non-TeX-specific kpathsea and let the user initialize it, so that one
can implement the likes of kpsexpand in texlua without the overhead of
initializing TeX.

-- 
David Kastrup

From frank at kuesterei.ch  Tue May 22 10:35:34 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 22 May 2007 10:35:34 +0200
Subject: [tex-live] luatex release (was:  TeXLive-CD/DVD (Installation))
In-Reply-To: <4652A3CE.9020005@wxs.nl> (Hans Hagen's message of "Tue\,
	22 May 2007 10\:03\:26 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl>
Message-ID: <87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>

Hans Hagen <pragma at wxs.nl> wrote:

> in due time (i.e. when luatex is stable) we will provide examples of
> these things (and more documentation) which will be somewhere mid
> 2008, so after the next tex live;

By the way, one question regarding luatex:  There's currently a package
luatex-snapshot in Debian unstable, for the bold and brave to test.  The
name makes clear that it isn't a released version.

We were wondering whether we should allow it to enter testing and,
finally, the next Debian release which is planned "less than 2 years
after April 2007".  In other words, it might be late enough to contain
the first release of luatex, but it's equally likely that we would have
to freeze at a snapshot somewhat before that.

What's your opinion about that?

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From P.Jackowski at gust.org.pl  Tue May 22 10:29:01 2007
From: P.Jackowski at gust.org.pl (=?UTF-8?B?UGF3ZcWCIEphY2tvd3NraQ==?=)
Date: Tue, 22 May 2007 10:29:01 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <4652A0AD.20805@wxs.nl>
References: <Pine.LNX.4.44.0705220300110.20899-100000@fam82.internetdsl.tpnet.pl>
	<4652A0AD.20805@wxs.nl>
Message-ID: <4652A9CD.4050605@gust.org.pl>

Hans Hagen napisa?(a):
> Staszek Wawrykiewicz wrote:
>> On Mon, 21 May 2007, Karl Berry wrote:
>>
>>  
>>>        anyway the standard "cp" ("copy" on windows) upon the given list.
>>> That may be true with the Windows installer, I can't say, but it's not
>>> true on Unix.  We use the "lists" files to make file lists and then use
>>> tar to move them wholesale, instead of invoking cp on each list.

> on windows using xcopy (esp on directories) instead of copy speeds up 

Win installer uses xcopy. Has anyone tried how tar would work on windows 
as a file copier?

-- 
Pawe/l Jackowski
P.Jackowski at gust.org.pl

From taco at elvenkind.com  Tue May 22 10:38:18 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 22 May 2007 10:38:18 +0200
Subject: [tex-live] luatex release
In-Reply-To: <87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
References: <20070521141228.GB872@first.in-berlin.de>	<18002.7127.945713.525953@zarniwoop.ms25.local>	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>	<85hcq5bxj2.fsf@lola.goethe.zz>	<18002.13873.450823.73968@zarniwoop.ms25.local>	<46529A7A.708@elvenkind.com>
	<86ps4tfgkc.fsf@lola.quinscape.zz>	<4652A3CE.9020005@wxs.nl>
	<87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
Message-ID: <4652ABFA.9010505@elvenkind.com>



Frank K?ster wrote:
> Hans Hagen <pragma at wxs.nl> wrote:
> 
>> in due time (i.e. when luatex is stable) we will provide examples of
>> these things (and more documentation) which will be somewhere mid
>> 2008, so after the next tex live;
> 
> By the way, one question regarding luatex:  There's currently a package
> luatex-snapshot in Debian unstable, for the bold and brave to test.  The
> name makes clear that it isn't a released version.
> 
> We were wondering whether we should allow it to enter testing and,
> finally, the next Debian release which is planned "less than 2 years
> after April 2007".  In other words, it might be late enough to contain
> the first release of luatex, but it's equally likely that we would have
> to freeze at a snapshot somewhat before that.
> 
> What's your opinion about that?

There will be 'real' betas starting this July, it makes sense to wait
until then, but it would be nice if those could be included.

Best wishes, Taco


From dak at gnu.org  Tue May 22 10:49:19 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 22 May 2007 10:49:19 +0200
Subject: [tex-live] luatex release
In-Reply-To: <87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch> ("Frank
	=?iso-8859-1?Q?K=FCster=22's?= message of "Tue\, 22 May 2007 10\:35\:34
	+0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl>
	<87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
Message-ID: <86zm3xdz00.fsf@lola.quinscape.zz>

Frank K?ster <frank at kuesterei.ch> writes:

> Hans Hagen <pragma at wxs.nl> wrote:
>
>> in due time (i.e. when luatex is stable) we will provide examples of
>> these things (and more documentation) which will be somewhere mid
>> 2008, so after the next tex live;
>
> By the way, one question regarding luatex:  There's currently a package
> luatex-snapshot in Debian unstable, for the bold and brave to test.  The
> name makes clear that it isn't a released version.
>
> We were wondering whether we should allow it to enter testing and,
> finally, the next Debian release which is planned "less than 2 years
> after April 2007".  In other words, it might be late enough to contain
> the first release of luatex, but it's equally likely that we would have
> to freeze at a snapshot somewhat before that.
>
> What's your opinion about that?

It is not my call to make obviously, but in my opinion LuaTeX is as
much a moving target at the moment that "testing" and in consequence
at some point a stable Debian release is the wrong place for it.
There is no perceivable chance that by the point such a package would
appear that it
a) would be robust enough to make people at home with it
b) would be even close to the functionality current at the point of
   time.

For now I'd recommend keeping it in unstable.

-- 
David Kastrup

From dak at gnu.org  Tue May 22 10:51:20 2007
From: dak at gnu.org (David Kastrup)
Date: Tue, 22 May 2007 10:51:20 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <4652AB2F.9000509@elvenkind.com> (Taco Hoekwater's message of
	"Tue\, 22 May 2007 10\:34\:55 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl> <868xbhfeik.fsf@lola.quinscape.zz>
	<4652AB2F.9000509@elvenkind.com>
Message-ID: <86veeldywn.fsf@lola.quinscape.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> David Kastrup wrote:
>>
>>> the only reason we came up with luatexlua (can be symlink or copy)
>>
>> I'd propose phasing over to "texlua" since you have
>
> This is already done (first proposed to me by Reinhard).

Well, "phasing over" implies not just recognizing the name in the
binary, but also using it in documentation, one's own scripts and in
correspondence.  So it is a longer process.

>>> when started as such, no tex mem is allocated because that only
>>> happens after kpse calls are used
>>>
>>> when using luatex as scripting engine with access to kpse, one needs
>>> to start it in tex mode and load the script then; no big deal
>>> either;
>
> Hans is wrong. Accessing kpse works, even in texlua.

Thanks.

-- 
David Kastrup

From pragma at wxs.nl  Tue May 22 10:52:46 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 22 May 2007 10:52:46 +0200
Subject: [tex-live] luatex release
In-Reply-To: <87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl>
	<87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
Message-ID: <4652AF5E.8060709@wxs.nl>

Frank ? wrote:
> Hans Hagen <pragma at wxs.nl> wrote:
>
>   
>> in due time (i.e. when luatex is stable) we will provide examples of
>> these things (and more documentation) which will be somewhere mid
>> 2008, so after the next tex live;
>>     
>
> By the way, one question regarding luatex:  There's currently a package
> luatex-snapshot in Debian unstable, for the bold and brave to test.  The
> name makes clear that it isn't a released version.
>
> We were wondering whether we should allow it to enter testing and,
> finally, the next Debian release which is planned "less than 2 years
> after April 2007".  In other words, it might be late enough to contain
> the first release of luatex, but it's equally likely that we would have
> to freeze at a snapshot somewhat before that.
>   
at tug 2007 we will launch the first formal beta release; somewhere  2008 (jul/aug) we will have the first formal release; at that point the functionality described in the manual will be stable (i.e. no interface changes); after that we expect to add more (we have a list of todo's);  

new features will be declared stable at some point, but until then we take the freedom to remove, overhaul etc. as an example: the current open type reader will be replaced and the related data structures will 
change which in turn means that tex/lua code dependent on it has to be changed as well; 

so, at the end of 2008 there will be a reasonably well tested version that you can freeze; tex code written for lua is a different story, because that also depends on a stable interface; given the user's dependency on tex macros, and the usual write/test cycles, macros probably end up in unstable anyway 

freezing the current snapshot (or one later this year) is of not much use; fundamental parts are still missing or under construction but we're getting there 

once the stable (and tested) release is out (say end 2008) development will continue and (as currently) that release will then be the beta and can be distributed as doen currently 


Hans


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Tue May 22 10:34:55 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 22 May 2007 10:34:55 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <868xbhfeik.fsf@lola.quinscape.zz>
References: <20070521141228.GB872@first.in-berlin.de>	<18002.7127.945713.525953@zarniwoop.ms25.local>	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>	<85hcq5bxj2.fsf@lola.goethe.zz>	<18002.13873.450823.73968@zarniwoop.ms25.local>	<46529A7A.708@elvenkind.com>
	<86ps4tfgkc.fsf@lola.quinscape.zz>	<4652A3CE.9020005@wxs.nl>
	<868xbhfeik.fsf@lola.quinscape.zz>
Message-ID: <4652AB2F.9000509@elvenkind.com>

Hi,

David Kastrup wrote:
> 
>> the only reason we came up with luatexlua (can be symlink or copy)
> 
> I'd propose phasing over to "texlua" since you have

This is already done (first proposed to me by Reinhard).

>> when started as such, no tex mem is allocated because that only
>> happens after kpse calls are used
>>
>> when using luatex as scripting engine with access to kpse, one needs
>> to start it in tex mode and load the script then; no big deal
>> either;

Hans is wrong. Accessing kpse works, even in texlua.

Cheers, Taco

From sena.savio at gmail.com  Tue May 22 11:12:16 2007
From: sena.savio at gmail.com (Savio)
Date: Tue, 22 May 2007 06:12:16 -0300
Subject: [tex-live] luatex release
In-Reply-To: <4652ABFA.9010505@elvenkind.com>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl>
	<87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
	<4652ABFA.9010505@elvenkind.com>
Message-ID: <20070522061216.1841ec89@halcyon.xored.org>

On Tue, 22 May 2007 10:38:18 +0200
Taco Hoekwater <taco at elvenkind.com> wrote:

> 
> 
> Frank K?ster wrote:
>
> There will be 'real' betas starting this July, it makes sense to wait
> until then, but it would be nice if those could be included.
> 

Any chance to get a copy of luatex by other means? The download link
in the website is dead.

[ https://foundry.supelec.fr/projects/luatex ]

-- 
Savio Sena

From arthur.reutenauer at normalesup.org  Tue May 22 11:22:46 2007
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Tue, 22 May 2007 11:22:46 +0200
Subject: [tex-live] luatex release
In-Reply-To: <20070522061216.1841ec89@halcyon.xored.org>
References: <18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl>
	<87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
	<4652ABFA.9010505@elvenkind.com>
	<20070522061216.1841ec89@halcyon.xored.org>
Message-ID: <20070522092246.GB2955@phare.normalesup.org>

> Any chance to get a copy of luatex by other means? The download link
> in the website is dead.
> 
> [ https://foundry.supelec.fr/projects/luatex ]

  It must be temporary; this is indeed this right URL.

From taco at elvenkind.com  Tue May 22 11:25:22 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 22 May 2007 11:25:22 +0200
Subject: [tex-live] luatex release
In-Reply-To: <20070522061216.1841ec89@halcyon.xored.org>
References: <20070521141228.GB872@first.in-berlin.de>	<18002.7127.945713.525953@zarniwoop.ms25.local>	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>	<85hcq5bxj2.fsf@lola.goethe.zz>	<18002.13873.450823.73968@zarniwoop.ms25.local>	<46529A7A.708@elvenkind.com>
	<86ps4tfgkc.fsf@lola.quinscape.zz>	<4652A3CE.9020005@wxs.nl>	<87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>	<4652ABFA.9010505@elvenkind.com>
	<20070522061216.1841ec89@halcyon.xored.org>
Message-ID: <4652B702.60703@elvenkind.com>



Savio wrote:
> On Tue, 22 May 2007 10:38:18 +0200
> Taco Hoekwater <taco at elvenkind.com> wrote:
> 
>>
>> Frank K?ster wrote:
>>
>> There will be 'real' betas starting this July, it makes sense to wait
>> until then, but it would be nice if those could be included.
>>
> 
> Any chance to get a copy of luatex by other means? The download link
> in the website is dead.
> 
> [ https://foundry.supelec.fr/projects/luatex ]

foundry.supelec is down at the moment. Just a silly coincidence,
and it should be online again soon.

Best wishes,

Taco

From oliver at first.in-berlin.de  Tue May 22 12:05:59 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Tue, 22 May 2007 12:05:59 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <4652A07E.6060107@wxs.nl>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de>
	<4652A07E.6060107@wxs.nl>
Message-ID: <20070522100559.GC330@first.in-berlin.de>

On Tue, May 22, 2007 at 09:49:18AM +0200, Hans Hagen wrote:
> Oliver Bandel wrote:
> >On Mon, May 21, 2007 at 07:44:35PM -0500, Karl Berry wrote:
> >  
> >>       anyway the standard "cp" ("copy" on windows) upon the given list. 
> >>
> >>That may be true with the Windows installer, I can't say, but it's not
> >>true on Unix.  We use the "lists" files to make file lists and then use
> >>tar to move them wholesale, instead of invoking cp on each list.
> >>    
> >
> >
> >BTW: how will *.sh be used on windows?
> >If never seen that running there ;-)
> >
> >So, if a binary must run on all platforms,
> >a script must also.
> >
> >If there is a distinction between these OS's,
> >using different installation tools, then
> >it should also be possible to use binaries,
> >created from same source, compiled to native
> >code for those platforms... ?!
> >  
> perl, python, ruby ... these can all be wrapped into 'pseudo binaries' 
> being the core engine plus libs used plus scripts into one file which then 
> can run as any program without the need to install the whole scripting 
> environment
[...]

I understand your answer in this way: let's use the pragmatical approach. :)


Ciao,
   Oliver

From frank at kuesterei.ch  Tue May 22 12:01:16 2007
From: frank at kuesterei.ch (Frank =?UTF-8?Q?K=C3=BCster?=)
Date: Tue, 22 May 2007 12:01:16 +0200
Subject: [tex-live] Bug#425522: [dummy bug] luatex-snapshot should not enter
	lenny (now)
In-Reply-To: <4652AF5E.8060709@wxs.nl> (Hans Hagen's message of "Tue\,
	22 May 2007 10\:52\:46 +0200")
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<68c491a60705211533m46f77ff5r6556c46a0e79e4fa@mail.gmail.com>
	<85hcq5bxj2.fsf@lola.goethe.zz>
	<18002.13873.450823.73968@zarniwoop.ms25.local>
	<46529A7A.708@elvenkind.com> <86ps4tfgkc.fsf@lola.quinscape.zz>
	<4652A3CE.9020005@wxs.nl>
	<87r6p9mf1l.fsf_-_@riesling.zuerich.kuesterei.ch>
	<4652AF5E.8060709@wxs.nl>
Message-ID: <87lkfhkwib.fsf_-_@riesling.zuerich.kuesterei.ch>

Package: luatex-snapshot
Version: 20070426-1
Severity: serious

Hans Hagen <pragma at wxs.nl> wrote:

> Frank ? wrote:
>> We were wondering whether we should allow it to enter testing and,
>> finally, the next Debian release which is planned "less than 2 years
>> after April 2007".  In other words, it might be late enough to contain
>> the first release of luatex, but it's equally likely that we would have
>> to freeze at a snapshot somewhat before that.
[...]
> freezing the current snapshot (or one later this year) is of not much
> use; fundamental parts are still missing or under construction but
> we're getting there 

Taco Hoekwater <taco at elvenkind.com> wrote:

> There will be 'real' betas starting this July, it makes sense to wait
> until then, but it would be nice if those could be included.

In July, Norbert probably won't have time for packaging them, and not
for a while after that, nor anyone else in the Debian TeX Task Force.  

Thanks for your answers,
Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)


From taco at elvenkind.com  Tue May 22 21:34:22 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 22 May 2007 21:34:22 +0200
Subject: [tex-live] Latin Modern bug in lm-texnansi-os.enc
In-Reply-To: <op.tsqgs8whnx1yh1@your-b27fb1c401>
References: <op.tsm2qkj3nx1yh1@your-b27fb1c401>	<465177BB.5090406@elvenkind.com>	<op.tso6nnvcnx1yh1@ihamidnb.libarts.colostate.edu>	<46529E4B.70405@elvenkind.com>
	<op.tsqgs8whnx1yh1@your-b27fb1c401>
Message-ID: <465345BE.6020207@elvenkind.com>


Hi Jacko,

On the ConTeXT mailing list, Idris posted some messages because he was
trying to use oldstyle numerals in the latest Latin Modern release,
and was experiencing two pretty big problems:

   * really bad kerning around the oldstyle numerals
   * pdftex generated errors for the typewriter fonts, complaining
     "glyph `one.oldstyle' undefined" etc.

The implementation of 'automatic' oldstyle numbers in ConTeXt uses a
set of encoding files that used to ship with LM (lm-xxxxxx-os.enc).
By way of a map file fragment, this allows to switch the fonts
'en masse' from lining to oldstyle (and back) without the need for
special metric files, which is a pretty nice feature.

Those encoding files now apparently obsolete: they still refer to
glyphs named e.g. `one.oldstyle', whereas in the current release of
the LM fonts it really should be `one.taboldstyle'.

While writing a bug report, I noticed that these encoding files are no
longer in the font distribution (They are still included on texlive2007,
but I don't know if anybody  except ConTeXt attempts to use them).

Is this trick to get oldstyle now officially unsupported? That would
be a shame, because there are no oldstyle-using TFM files in the LM
distribution either ...

Best wishes,
Taco

From frank at debian.org  Tue May 22 21:59:30 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 22 May 2007 21:59:30 +0200
Subject: [tex-live] Bug#425591: texlive-math-extra: missing
	dependency/recommends for xfrac.sty
In-Reply-To: <20070522175510.6290.57031.reportbug@foetsiesiees> (Isaac
	Sijaranamual's message of "Tue\, 22 May 2007 19\:55\:10 +0200")
References: <20070522175510.6290.57031.reportbug@foetsiesiees>
Message-ID: <87ps4shbod.fsf@riesling.zuerich.kuesterei.ch>

severity 425591 normal
thanks

Hi texlive people,

Isaac Sijaranamual <ibsijara at science.uva.nl> wrote:

> Package: texlive-math-extra
> Version: 2005.dfsg.3-1
> Severity: important
>
> The LaTeX package xfrac in texlive-math-extra requires both
> template.ssty and xparse.sty. They are both in texlive-latex3, but
> texlive-math-extra does not depend on/recommends it.

I'm not sure whether we have a chance to avoid this type of problem, and
whether moving around files makes any sense.  What we can improve next
time is this:

> The two LaTeX packages template.sty and xparse.sty from texlive-latex3
> (2005.dfsg.3-1) are too old for xparse.sty from texlive-math-extra
> (2005.dfsg.3-1).

This is still true in TL 2007,

> Same minimal file as before:
> \documentclass{article}
> \usepackage{xfrac}
> \begin{document}
> \end{document}

xparse and template are from 1999, but it requires the 2001 versions. 

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From karl at freefriends.org  Tue May 22 22:49:18 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 22 May 2007 15:49:18 -0500
Subject: [tex-live] Bug#425591: texlive-math-extra:
	missing	dependency/recommends for xfrac.sty
In-Reply-To: <87ps4shbod.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200705222049.l4MKnIH32044@f7.net>

In a strange coincidence, I just updated a bunch of latex3- and
exptl-related stuff this morning for this time in years, and have asked
Morten and Lars for advice on more.  So hopefully the situation is/will
be improved.

Meanwhile, I'll move xfrac to collection-latex3.

karl

From reinhard.kotucha at web.de  Tue May 22 23:25:38 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 22 May 2007 23:25:38 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <4652A07E.6060107@wxs.nl>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de>
	<4652A07E.6060107@wxs.nl>
Message-ID: <18003.24530.146808.623921@zarniwoop.ms25.local>

>>>>> "Hans" == Hans Hagen <pragma at wxs.nl> writes:

  >> If there is a distinction between these OS's, using different
  >> installation tools, then it should also be possible to use
  >> binaries, created from same source, compiled to native code for
  >> those platforms... ?!
  >> 
  > perl, python, ruby ... these can all be wrapped into 'pseudo
  > binaries' being the core engine plus libs used plus scripts into
  > one file which then can run as any program without the need to
  > install the whole scripting environment

This is what Tomek actually does.  tlpmgui is based on Tcl/Tk.  But
we don't have runtime environments for all platforms.

We need, at least for UNIX, an installer which works on all platforms.
Currently it is a shell script which uses some autoconf magic for
platform detection (config.guess).  The shell script we have now is
quite fine.  I'm very happy with it and for UNIX it is definitely the
best solution.

The problem is that it doesn't work on Windows.  If we can assume that
all UNIX platforms have Perl installed (more likely than Python, Ruby,
Lua, or anything else) and there is a Perl binary for Windows on the
CD/DVD, I think that not everything has to be re-invented again and
again for Windows.

The ideal solution would be to have a platform independent script
which does exactly the same by default as the shell script we have
now, but provides a --non-interactive option which suppresses the
menues so that GUIs can use it.

It makes sense to separate the installer from the user interfaces.
For instance, the GUI could ask the installer which packages are
available.  Then the user selects a set of packages, and the GUI tells
the installer which packages shall be installed.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Tue May 22 23:36:19 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 22 May 2007 16:36:19 -0500
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070522011237.GB1015@first.in-berlin.de>
Message-ID: <200705222136.l4MLaJU12701@f7.net>

    Will the lists be created during installation process?

No, they are pregenerated.

    BTW: how will *.sh be used on windows?

They aren't.  Windows installation has always been completely separate
from Unix installation.  One thing we would like to overcome, but it is
not trivial.

From siepo at cybercomm.nl  Tue May 22 10:08:10 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Tue, 22 May 2007 10:08:10 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070521230826.GB611@first.in-berlin.de>
References: <20070521141228.GB872@first.in-berlin.de>
	<18002.7127.945713.525953@zarniwoop.ms25.local>
	<20070521230826.GB611@first.in-berlin.de>
Message-ID: <20070522080810.GA6516@molly>

On Tue, May 22, 2007 at 01:08:26AM +0200, Oliver Bandel wrote:
> 
> On Tue, May 22, 2007 at 12:23:19AM +0200, Reinhard Kotucha wrote:
> > >>>>> "Oliver" == Oliver Bandel <oliver at first.in-berlin.de> writes:
> > 
> [...]
> > My DVD drive is quite noisy and it seems that the problem is that the
> > haed has to be moved quite frequently.
> 
> Today I did copy texlive from DVD to my Mac-HD.
> On the Mac (Powerbook) I heard a lot of noise too.
> I think the DVD is mechanically ugly... it made noise even when
> I didn't read from the CD.
> But after starting the   cp -r   I heard a lot of
> head repositioning.
> That's ugly too.
> 
> One thing that on the tex-dl was brought in as ideas
> was, to have an DVD-image cretaed by creating it in an
> alphabetical order and during installation, reading it
> alphabetically.
> 
> >   > I also had a discussion on the tex-dl-mailinglist about the
> >   > organization of the livecd. The DVD-image might be reoranized so
> >   > that the data can faster be read.
> > 
> > Did they provide any useful suggestions?  We talked about improvements
> > at EuroTeX-2007.  If you want to help, please contact Norbert Preining.
> > Any help is welcome.
> 
> See above: alphabetical organization of the DVD-image.
> But there were more suggestions and I have to reread the thread
> and gather all ideas.
> 

In an earlier discussion about a previous release, it was suggested
that the installation was slow because the files were distributed
over both layers of the dvd. What is the status on this aspect?

-- 
Siep Kroonenberg

From karl at freefriends.org  Wed May 23 00:37:20 2007
From: karl at freefriends.org (Karl Berry)
Date: Tue, 22 May 2007 17:37:20 -0500
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070522080810.GA6516@molly>
Message-ID: <200705222237.l4MMbKo25710@f7.net>

Hi Siep,

    over both layers of the dvd. What is the status on this aspect?

None that I know of.  Life goes on.

As I wrote before, I have not seen any relevant mkisofs options, and
don't know what other (preferably batchable) tools are available, to
optimize DVD layout.

If anyone can send me a patch to MakeImages.sh to improve things, that
would be great.

Thanks,
k

From pragma at wxs.nl  Wed May 23 01:07:53 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 23 May 2007 01:07:53 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <200705222136.l4MLaJU12701@f7.net>
References: <200705222136.l4MLaJU12701@f7.net>
Message-ID: <465377C9.1090508@wxs.nl>

Karl Berry wrote:
>     Will the lists be created during installation process?
>
> No, they are pregenerated.
>
>     BTW: how will *.sh be used on windows?
>
> They aren't.  Windows installation has always been completely separate
> from Unix installation.  One thing we would like to overcome, but it is
> not trivial.
>   
maybe like but not that much needed

from the users perspective the installer he/she gets should look 
familiar i.e. fit the platform

platforms differ and have different strategies and philosophies (apples 
i installer is a good example of an perfect installer for osx, as is 
miktex for windows, but they are rather alien to other os's); also, 
afaik other progs (take firefox or open office) use platform dependent 
installers that suit the specific platform

of course sharing resources needed by installers is a different thing 
and welcome

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From vext01 at gmail.com  Wed May 23 01:45:40 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Wed, 23 May 2007 00:45:40 +0100
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <18003.24530.146808.623921@zarniwoop.ms25.local>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de> <4652A07E.6060107@wxs.nl>
	<18003.24530.146808.623921@zarniwoop.ms25.local>
Message-ID: <a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>

On 22/05/07, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
> We need, at least for UNIX, an installer which works on all platforms.
> Currently it is a shell script which uses some autoconf magic for
> platform detection (config.guess).  The shell script we have now is
> quite fine.  I'm very happy with it and for UNIX it is definitely the
> best solution.

Hi there,

I have do disagree. But allow me to justify myself.

There are too many shells with different syntax. Yes, your installer
works great on systems with bash, mostly linux i suppose. The
installer does not work on my platform of choice. I suspect it is the
shell (ksh), but it could be the tar implementation (not gtar). Either
way shell commands are a bad way to go in my opinion, as they differ
between platfroms, and windows has no good shell unless cygwin is
installed (which is too much to ask for a texlive install I think).
Why not use library calls from say python? This gaurantee's platform
independancy surely?

I don't mean to cause any trouble on the list. Please don't flame me!

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From oliver at first.in-berlin.de  Wed May 23 02:30:24 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 02:30:24 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <200705222136.l4MLaJU12701@f7.net>
References: <20070522011237.GB1015@first.in-berlin.de>
	<200705222136.l4MLaJU12701@f7.net>
Message-ID: <20070523003024.GB463@first.in-berlin.de>

On Tue, May 22, 2007 at 04:36:19PM -0500, Karl Berry wrote:
>     Will the lists be created during installation process?
> 
> No, they are pregenerated.
> 
>     BTW: how will *.sh be used on windows?
> 
> They aren't.  Windows installation has always been completely separate
> from Unix installation.  One thing we would like to overcome, but it is
> not trivial.


OCaml (bytecode) runs on windows also.

  http://caml.inria.fr/ocaml/release.en.html


If someone is here who wants to test it?

  http://caml.inria.fr/pub/distrib/ocaml-3.10/ocaml-3.10.0-win-msvc.exe

Perl also is not installed on every Windows machine.
But there is ActivePerl, which schould run out of the box.

Why is there a special Perl-distribution on the TeX-DVD?
Is this prepaired in some way, which makes it better than Active Perl?


Ciao,
   Oliver

From oliver at first.in-berlin.de  Wed May 23 02:32:14 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 02:32:14 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <200705222136.l4MLaJU12701@f7.net>
References: <20070522011237.GB1015@first.in-berlin.de>
	<200705222136.l4MLaJU12701@f7.net>
Message-ID: <20070523003214.GC463@first.in-berlin.de>

On Tue, May 22, 2007 at 04:36:19PM -0500, Karl Berry wrote:
>     Will the lists be created during installation process?
> 
> No, they are pregenerated.
> 

Where to find them?

When the user selectes/deselects packages,
what will then be done during the installation process?

Where are these lists?

I did not found an information about the file-selection.

Can you explain it?

Ciao,
   Oliver

From oliver at first.in-berlin.de  Wed May 23 02:37:55 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 02:37:55 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de>
	<4652A07E.6060107@wxs.nl>
	<18003.24530.146808.623921@zarniwoop.ms25.local>
	<a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
Message-ID: <20070523003755.GD463@first.in-berlin.de>

On Wed, May 23, 2007 at 12:45:40AM +0100, Edd Barrett wrote:
> On 22/05/07, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
> >We need, at least for UNIX, an installer which works on all platforms.
> >Currently it is a shell script which uses some autoconf magic for
> >platform detection (config.guess).  The shell script we have now is
> >quite fine.  I'm very happy with it and for UNIX it is definitely the
> >best solution.
> 
> Hi there,
> 
> I have do disagree. But allow me to justify myself.
> 
> There are too many shells with different syntax. Yes, your installer
> works great on systems with bash, mostly linux i suppose. The
> installer does not work on my platform of choice. I suspect it is the
> shell (ksh), but it could be the tar implementation (not gtar). Either
> way shell commands are a bad way to go in my opinion, as they differ
> between platfroms, and windows has no good shell unless cygwin is
> installed (which is too much to ask for a texlive install I think).
> Why not use library calls from say python? This gaurantee's platform
> independancy surely?
> 


reading this is strange...

shells were invented to have a flexible system....

When reading this text one is tempted to prefer binaries,
specialized for the target platform in general.

Isn't bash installed on most systems?

Should we go back and use sh instead?

Ciao,
  Oliver

From vext01 at gmail.com  Wed May 23 03:27:57 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Wed, 23 May 2007 02:27:57 +0100
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070523003755.GD463@first.in-berlin.de>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de> <4652A07E.6060107@wxs.nl>
	<18003.24530.146808.623921@zarniwoop.ms25.local>
	<a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
	<20070523003755.GD463@first.in-berlin.de>
Message-ID: <a6e8c1d0705221827j4dc7826drebfadde7c49c2aa6@mail.gmail.com>

Hi Oliver,

How are you?

On 23/05/07, Oliver Bandel <oliver at first.in-berlin.de> wrote:
> reading this is strange...

=) I aim to please.

>
> shells were invented to have a flexible system....

try:

ls &> somefile in ksh. Does it work? Nope. Shells are _different_!

We call the above a "bashism"

>
> When reading this text one is tempted to prefer binaries,
> specialized for the target platform in general.

eh? Scripting languages are platform independant? The guys at [insert
language here] have compiled against native libraries and done the
hard work for you.

>
> Isn't bash installed on most systems?
>

By default on OpenBSD no. You can install it using the package
manager. We have ksh and sh installed by default.

>
> Should we go back and use sh instead?

Most linux systems seem to think it is ok to ln -s /usr/bin/bash
/bin/sh. Do you?

Thanks for the prompt reply!

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From beebe at math.utah.edu  Wed May 23 03:14:54 2007
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 22 May 2007 19:14:54 -0600 (MDT)
Subject: [tex-live] Comment on Re:  TeXLive-CD/DVD (Installation)
Message-ID: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>

List traffic today comments on the Unix shells, but there seems
to be confusion with comments like this;

>> shell commands are a bad way to go in my opinion, as they differ
>> between platfroms,

>> Isn't bash installed on most systems?

There are several widely-used shells on Unix systems in two major
families: C-shell and Bourne shell.

The C-shell is not universally available, and for many reasons, is
unsuitable for serious shell scripting (even though I have used it and
its descendant, tcsh, daily for 25+ years as my interactive shell).

Members of the Bourne shell family include the original /bin/sh, plus
bash, ksh (1988, 1993), pdksh, and zsh.  On GNU/Linux systems, /bin/sh
IS bash, and that fact trips up many a shell programmer.

POSIX standardizes the original Bourne shell, with common extensions
such as shell functions.  In our book, Classic Shell Scripting (ISBNs
0-596-00595-4 and 2-84177-375-2), we concentrate on **PORTABLE** shell
scripting based on the POSIX specification.

POSIX is not just for Unix: pretty much every shipping operating
system claims POSIX conformance, though sadly, Microsoft does this in
a way that makes POSIX a separate world that cannot easily communicate
with Windows, and also includes POSIX support only in add-on packages
that most systems have never had installed.

While we describe in our book some of the extensions present in ksh,
bash, and zsh, none of them can be used in portable shell scripting,
and the practice throughout the book is to use only what works
everywhere.

The GNU autoconf system is a triumph of portable shell scripting, and
demonstrates that complex shell scripts can be made to run correctly
on virtually every common Unix platform, and even lots of older
(e.g. BSD VAXes) or hosted ones (Cygwin on Microsoft Windows).  In one
of my own packages, the generated configure script is over 71,000
lines long, and works for everything from VAXes to Don Knuth's MMIX
machine.

The proposals to write installers in other scripting languages, such
as lua, perl, python, ruby, ... have even more portability problems.
If you want portable installers that work on a wide variety of Unix
and POSIX systems, use carefully-written shell scripts.

If you do use other scripting languages, then your installer must
include WORKING binary distributions of those languages for every
platform, and that brings us back to the horrid mess of dependencies
of binary libraries on each other, and on O/S kernel versions.

If a simple, freely-distributable, standalone POSIX shell for Windows
(NT, ME, 2000, XP, VISTA, ...) could be found, along with the set of
several dozen command-line utilities required by POSIX, then an
installer written as a POSIX shell script could easily handle all
current platforms on which TeX Live is likely to be installed.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From dak at gnu.org  Wed May 23 07:05:59 2007
From: dak at gnu.org (David Kastrup)
Date: Wed, 23 May 2007 07:05:59 +0200
Subject: [tex-live] Comment on Re:  TeXLive-CD/DVD (Installation)
In-Reply-To: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu> (Nelson H.
	F. Beebe's message of "Tue\,
	22 May 2007 19\:14\:54 -0600 \(MDT\)")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
Message-ID: <85ps4s86yw.fsf@lola.goethe.zz>

"Nelson H. F. Beebe" <beebe at math.utah.edu> writes:

> Members of the Bourne shell family include the original /bin/sh,
> plus bash, ksh (1988, 1993), pdksh, and zsh.  On GNU/Linux systems,
> /bin/sh IS bash, and that fact trips up many a shell programmer.

On Ubuntu, it tends to be dash.

> If a simple, freely-distributable, standalone POSIX shell for
> Windows (NT, ME, 2000, XP, VISTA, ...) could be found, along with
> the set of several dozen command-line utilities required by POSIX,
> then an installer written as a POSIX shell script could easily
> handle all current platforms on which TeX Live is likely to be
> installed.

Uh, you know MSYS <URL:http://www.mingw.org/msys.shtml>?  It is pretty
capable of supporting autoconf-based installations.  AUCTeX
<URL:http://www.gnu.org/software/auctex> is configured and installed
using it on Windows, with the same procedures we use under Unix
systems.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From preining at logic.at  Wed May 23 07:28:25 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 23 May 2007 07:28:25 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070523003214.GC463@first.in-berlin.de>
References: <20070522011237.GB1015@first.in-berlin.de>
	<200705222136.l4MLaJU12701@f7.net>
	<20070523003214.GC463@first.in-berlin.de>
Message-ID: <20070523052825.GC30077@gamma.logic.tuwien.ac.at>

Hi Oliver,

> Where to find them?

Before asking all this you might check out the texlive-svn and take a
look at the file there ... see
	http://www.tug.org/texlive/svn/

> When the user selectes/deselects packages,
> what will then be done during the installation process?

Read the install-tl.sh, we cannot explain everything here, it is all
there in the install script.

> Where are these lists?

in svn: trunk/Master/texmf/lists/

> I did not found an information about the file-selection.
> 
> Can you explain it?

There is no documentation but the installer ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HIGH LIMERIGG (n.)
The topmost tread of a staircase which disappears when you've climbing
the stairs in the darkness.
			--- Douglas Adams, The Meaning of Liff

From sebastian.rahtz at oucs.ox.ac.uk  Wed May 23 09:49:32 2007
From: sebastian.rahtz at oucs.ox.ac.uk (Sebastian Rahtz)
Date: Wed, 23 May 2007 08:49:32 +0100
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>	<200705220044.l4M0iZM21443@f7.net>	<20070522010211.GA1015@first.in-berlin.de>
	<4652A07E.6060107@wxs.nl>	<18003.24530.146808.623921@zarniwoop.ms25.local>
	<a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
Message-ID: <4653F20C.50102@oucs.ox.ac.uk>

It is amusing to read this discussion. We have had more or less
the same one every year since 1996 :-} It always comes back
to the same two points:

 1. you can't guarentee any software being installed on a *nix box 
except shell
 2. you can't provide any more software (perl, python etc) on the CD without
   unbearable issues of compiling for platforms

something has to give, if you want to move forward.

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431


From sebastian.rahtz at oucs.ox.ac.uk  Wed May 23 09:55:11 2007
From: sebastian.rahtz at oucs.ox.ac.uk (Sebastian Rahtz)
Date: Wed, 23 May 2007 08:55:11 +0100
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <a6e8c1d0705221827j4dc7826drebfadde7c49c2aa6@mail.gmail.com>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>	<200705220044.l4M0iZM21443@f7.net>	<20070522010211.GA1015@first.in-berlin.de>
	<4652A07E.6060107@wxs.nl>	<18003.24530.146808.623921@zarniwoop.ms25.local>	<a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>	<20070523003755.GD463@first.in-berlin.de>
	<a6e8c1d0705221827j4dc7826drebfadde7c49c2aa6@mail.gmail.com>
Message-ID: <4653F35F.7080309@oucs.ox.ac.uk>

Edd Barrett wrote:
>
> ls &> somefile in ksh. Does it work? Nope. Shells are _different_!
>
> We call the above a "bashism"
does you system have "ksh" installed as "/bin/sh"? If so,
that's pretty strange and wrong. Those install scripts
say up front

 #!/bin/sh

not

  #!"whatever shell you fancy trying"

>
>>
>> When reading this text one is tempted to prefer binaries,
>> specialized for the target platform in general.
>
> eh? Scripting languages are platform independant? 
if you have the script engine installed, yes



-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431


From oliver at first.in-berlin.de  Wed May 23 11:38:58 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 11:38:58 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070523052825.GC30077@gamma.logic.tuwien.ac.at>
References: <20070522011237.GB1015@first.in-berlin.de>
	<200705222136.l4MLaJU12701@f7.net>
	<20070523003214.GC463@first.in-berlin.de>
	<20070523052825.GC30077@gamma.logic.tuwien.ac.at>
Message-ID: <20070523093858.GG335@first.in-berlin.de>

On Wed, May 23, 2007 at 07:28:25AM +0200, Norbert Preining wrote:
> Hi Oliver,
> 
> > Where to find them?
> 
> Before asking all this you might check out the texlive-svn and take a
> look at the file there ... see
> 	http://www.tug.org/texlive/svn/
> 
> > When the user selectes/deselects packages,
> > what will then be done during the installation process?
> 
> Read the install-tl.sh, we cannot explain everything here, it is all
> there in the install script.
> 
> > Where are these lists?
> 
> in svn: trunk/Master/texmf/lists/
> 
[...]

There are filelists.
But how they are used is not clear to me.

Ciao,
   Oliver

From oliver at first.in-berlin.de  Wed May 23 12:03:20 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 12:03:20 +0200
Subject: [tex-live] Comment on Re:  TeXLive-CD/DVD (Installation)
In-Reply-To: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
Message-ID: <20070523100320.GH335@first.in-berlin.de>

On Tue, May 22, 2007 at 07:14:54PM -0600, Nelson H. F. Beebe wrote:
[...]
> If a simple, freely-distributable, standalone POSIX shell for Windows
> (NT, ME, 2000, XP, VISTA, ...) could be found, along with the set of
> several dozen command-line utilities required by POSIX, then an
> installer written as a POSIX shell script could easily handle all
> current platforms on which TeX Live is likely to be installed.
[...]

But there is no such shell. If there would be one that at least runs
on all systems, it also must be installed there.
The problem is the same as we have now.

One thing that is pro Scripting-language is, that
the shell-commands that differ from shell to shell
(and where a ln -s from bash to sh might help in most
 language constructs but not all constructs) should
be avoided, so that only a subset will be used, which other
(similar) shells can also read.

In Scripting languages (e.g. Perl) you have the advantage
to have many built-in possibilities that a shell has not,
or at least is not used in the install-tl.sh.
It uses many subshells and uses a lot of commands
(sed, grep and so on). This is an ugly hack. It is not only
time consuming (ressourcs needd for so much fork/exec's),
it also is not easy to read.

Perl-code not automatically is better readable ;-)
but the many nested calls of sub-shells with helper
applications also is a workaround-way of programming, IMHO.

Perl has the big advantage that it is very widespread today.
OCaml has the advantage that it is very high level and it's
draconic type checks disallows you many errors. And you
can create binaries for the most platforms. But you can use bytcode also.
Or run it as interpreted code.
(The binary has one advantage: completely independent of the
 interpreter/bytecode-runtime.)

Did you tried to make binaries from Perl-Code? ;-)

BTW: If we have people here, who also have Windows-C-Compilers,
than for Windows we could also provide OCaml-code as binaries.

IMHO this is very flexible.

For me the most urging problem therefore is not, which langauge to choose,
but how the installation-procdure could be done best.

I now will reread the tex-dl-Thread and look for the ideas, the people
provided there to make the installation better (e.g. better dvd-image).
I will gather the stuff and translate to english then and send it to this
list here.


Ciao,
   Oliver



From martin at oneiros.de  Wed May 23 12:15:52 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 23 May 2007 12:15:52 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <4653F35F.7080309@oucs.ox.ac.uk>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de> <4652A07E.6060107@wxs.nl>
	<18003.24530.146808.623921@zarniwoop.ms25.local>
	<a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
	<20070523003755.GD463@first.in-berlin.de>
	<a6e8c1d0705221827j4dc7826drebfadde7c49c2aa6@mail.gmail.com>
	<4653F35F.7080309@oucs.ox.ac.uk>
Message-ID: <68c491a60705230315w2b49eb84na550052a0fe39972@mail.gmail.com>

2007/5/23, Sebastian Rahtz <sebastian.rahtz at oucs.ox.ac.uk>:
> does you system have "ksh" installed as "/bin/sh"? If so,
> that's pretty strange and wrong. Those install scripts
> say up front

No; he's mixing the users default shell (which is ksh) and the
implementation of sh (which is of course an sh; see
http://www.openbsd.org/cgi-bin/man.cgi?query=sh).

Best
   Martin

From preining at logic.at  Wed May 23 12:28:30 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 23 May 2007 12:28:30 +0200
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <20070523093858.GG335@first.in-berlin.de>
References: <20070522011237.GB1015@first.in-berlin.de>
	<200705222136.l4MLaJU12701@f7.net>
	<20070523003214.GC463@first.in-berlin.de>
	<20070523052825.GC30077@gamma.logic.tuwien.ac.at>
	<20070523093858.GG335@first.in-berlin.de>
Message-ID: <20070523102830.GQ30077@gamma.logic.tuwien.ac.at>

On Mit, 23 Mai 2007, Oliver Bandel wrote:
> > in svn: trunk/Master/texmf/lists/
> 
> There are filelists.
> But how they are used is not clear to me.

They are used to find whihc files should be installed for which package.
But this is info duplication. See my (german) explanation email I sent
you 3min ago.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LIFF (n.)
A book, the contents of which are totally belied by its cover. For
instance, any book the dust jacket of which bears the words. 'This
book will change your life'.
			--- Douglas Adams, The Meaning of Liff

From oliver at first.in-berlin.de  Wed May 23 13:15:53 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 13:15:53 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523100320.GH335@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
Message-ID: <20070523111552.GA579@first.in-berlin.de>

Hello,


On Wed, May 23, 2007 at 12:03:20PM +0200, Oliver Bandel wrote:
[...] 
> I now will reread the tex-dl-Thread and look for the ideas, the people
> provided there to make the installation better (e.g. better dvd-image).
> I will gather the stuff and translate to english then and send it to this
> list here.
[...] 



The two most interesting/informative mails from the discussion on the
tex-d-l list came from Markus Kohm.

I have translated his ideas and inserted some comments.

See below:

*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*

First Mail:
***********
Markus Kohm mentioned, that for the last TeX-livedistribution
there were similar discussions.

He said, there are some problems:

 * there are very much single packages, each consisting of one compressed
   file.
 
 * The files are not on the DVD in the order, in which they will be read.

 * that means a lot of seek-actions on the DVD

 * each package must be uncompressed individually

 * the last time the texlive was made (last distribution), somone
   tested, if it's faster to create an image from the DVD on the
   harddisk and install from the directly mounted image.
   It was much faster.

 * Instead of an image of the DVD to mount directly, it should also
   work, first to copy the DVD's files to disk and install from disk.
   The disadvantage is, that reading the files from DVD (cp to harddisk)
   also has the same problem as before: maybe the files are not in the
   necessary order to read on the DVD.

 * maybe the installtaion could be speed-up by the following:
   - the packages that will be installed will be put into the DVD-image
   in that order, in which they will be read during installation.

 * When the isntallation runs, they will be copied in this order to harddisk,
   and then installed from there.

==================================================================================

Second Mail:
************

In another Mail Markus Kohm wrote this:

  * first one has to look for dependencies of Schemes, Collections and Packages

  * then: the non-dependent packages in Schemes and Packages must always be in
    the same order on the DVD.
<my_comment>
  This is, was I had in mind.
</my_comment>

  * They also have to be installed in the same order

  * also it should be avoided to read one file more than once.
    For example all needed tpm-files should be (temporarily) copied to harddisk
    the first time they will be touched.
    And the next time when they will be read they should be read from
    harddisk, not from DVD.

<my_comment>
     Why will they be read more than once?
     Does the installation-script not buffer the data?
     No memeory usage? Instead again and again using
     shell/sd/grep for every individual Regexp-Lookup?
     (This btw. was what I thought, when I looked into install-tl.sh,
      that it does all things unnecessary often.)

     My idea would be: do we need these tpm-files on disk? Why not
     reading it to memory, if they are used so often?
</my_comment>

  * or directly read it in to internal structures

<my_comment>
  Oh, he says it ;-)
</my_comment>


  * problematic is here, that regarding the file-access-operations
    one depends on the OS's actions. If the OS must reread managing-infos
    for each file again and again to find out, where the files are on
    the DVD, then all is lost from the beginning on.

<my_comment>
  Is there no kernel cache for CD/DVD?
  For harddisk there is (should be) one...
</my_comment>



  * a simple solution would be, to have the packages in alphabetic order
    and write them in that order to the DVD-image; installation from there
    then in this order to disk, and installing from disk.

<my_comment>
  Sorting alphabetically is a simple idea, but I think this could be a good way.
  (It could be any other order, as long as reading from the DVD is the same
   as the data are ordered on the DVD. Using an alphabetical orer is nice,
   because one also can see at the names of the installed files, how far the
   progress of instalation is. So IMHO this is very good.)
</my_comment>

  * Disadvantage: a lot of additional space on the harddisk is needed.

  * Advantage: less access to directories and other managing-information.

  * well, the complete process should be done automatically, so it might
    make sense to write a software for this.

*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*


Ciao,
   Oliver

From frank at kuesterei.ch  Wed May 23 13:44:04 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 23 May 2007 13:44:04 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523111552.GA579@first.in-berlin.de> (Oliver Bandel's
	message of "Wed\, 23 May 2007 13\:15\:53 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
Message-ID: <873b1n3gu3.fsf@riesling.zuerich.kuesterei.ch>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

>      My idea would be: do we need these tpm-files on disk? Why not
>      reading it to memory, if they are used so often?
> </my_comment>

We do that in our Debian packaging scripts, and Norbert's planned new
texlive infrastructure scripts do the same:

http://tug.org/svn/texlive/trunk/new-infra/read-tpm-dump-tpl.pl?view=markup

(in sub load_collection_tpm_data)

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Wed May 23 13:55:37 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 23 May 2007 08:55:37 -0300
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de> <4652A07E.6060107@wxs.nl>
	<18003.24530.146808.623921@zarniwoop.ms25.local>
	<a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
Message-ID: <22af238a0705230455g2459e9a4j157f15695ae8c23a@mail.gmail.com>

On 5/22/07, Edd Barrett <vext01 at gmail.com> wrote:

> On 22/05/07, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
> > We need, at least for UNIX, an installer which works on all platforms.
> > Currently it is a shell script which uses some autoconf magic for
> > platform detection (config.guess).  The shell script we have now is
> > quite fine.  I'm very happy with it and for UNIX it is definitely the
> > best solution.
>
> Hi there,
>
> I have do disagree. But allow me to justify myself.
>
> There are too many shells with different syntax. Yes, your installer
> works great on systems with bash, mostly linux i suppose. The
> installer does not work on my platform of choice. I suspect it is the
> shell (ksh), but it could be the tar implementation (not gtar). Either
> way shell commands are a bad way to go in my opinion, as they differ
> between platfroms, and windows has no good shell unless cygwin is
> installed (which is too much to ask for a texlive install I think).
> Why not use library calls from say python? This gaurantee's platform
> independancy surely?

Older systems may not have python, or may have old versions, or the
versions may have been built with features disabled.   With any scripting
language, you have to be careful to avoid  constructs specific to the version
you happen to use, or, in a few cases, supply different coding based on
the version.

If you look at the tetex scripts, say texconfig, you can find a number of weird
and wonderful hacks to support different systems.  There is a delicate
balance between taking advantage of really helpful capabilities things like
shell functions and preserving the ability to run on legacy machines.  Another
issue is that the interfaces to some utilities (sort, tail) have
changed over time.

There is no magic bullet, but there also needs to be a limit the
effort required
from developers support TL on legacy systems.

The fact that teTeX worked across the wide variety of unix platforms that were
current in the 1990's may have created unrealistic expectations that TL should
also work on the few surviving legacy unix machines.  One of the reasons those
legacy machines are still around is the difficulty of migrating some legacy
applications onto current platforms.   Today it is more important that
TL support
formatting the legacy documents created on those machines using current
mainstream platforms.

I don't see any pressing reason to discard the existing *x scripts.
You can even
use them on *x to create a tree that has Windows binaries.  I don't
have much insight
into the DVD install issue because most of my installs have used the inst .iso
mounted thru the loop device.   I do think get the impression that
installation speed
and convenience is much more important for Windows because people expect to
reinstall early and often.   A 5 hour install is one thing if you
expect to use it for the
next 18 months, entirely another if you expect to repeat it 18 times.

I do have experience writing data DVD's on Win32, where the AV
software seems to
need all day or overnight to finish scanning the input files (usually
bzip2 compressed
data files created on those legacy *x systems).  It seems to me that
some research
is needed to understand the interaction between disk layout, AV
scanning, and I/O
thruput on Windows.  This might make a nice high-school science fair project.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From preining at logic.at  Wed May 23 14:08:02 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 23 May 2007 14:08:02 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <873b1n3gu3.fsf@riesling.zuerich.kuesterei.ch>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<873b1n3gu3.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070523120802.GD5262@gamma.logic.tuwien.ac.at>

On Mit, 23 Mai 2007, Frank K?ster wrote:
> We do that in our Debian packaging scripts, and Norbert's planned new
> texlive infrastructure scripts do the same:
> 
> http://tug.org/svn/texlive/trunk/new-infra/read-tpm-dump-tpl.pl?view=markup
> 
> (in sub load_collection_tpm_data)

Well this was used to write tlsrc files. The new infra will have tlsrc
and tlp, and all this will be perl objects or hashes or whatever.

I only need one brave perl guy to help me with the perl module magic. I
already asked Oliver for this and explained him some of the basics of
the new-infra. Let's hope that he is taking on the challenge ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HALIFAX (n.)
The green synthetic astroturf on which greengrocers display their
vegetables.
			--- Douglas Adams, The Meaning of Liff

From oliver at first.in-berlin.de  Wed May 23 14:33:37 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 14:33:37 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <465429C7.6050805@oucs.ox.ac.uk>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
Message-ID: <20070523123337.GD732@first.in-berlin.de>

On Wed, May 23, 2007 at 12:47:19PM +0100, Sebastian Rahtz wrote:
> I do wonder whether all this is worth the effort. I know
> 4 hours is horribly slow, but you only do it once a year.
> Of course, if its easy to rewrite the install scripts
> to be more efficient, that's great, but not if it
> takes weeks of work.

Well, if the person who installs would at least know, that it
takes four hours, than this would be fine.

On that day (night) I installed a debian (via netinstaller-CD)
for a friend. It took a while, but not very long.
After I installed some additional programs he wanted to have,
I said, he needs TeX also, it's an absolute MUST-HAVE.
(It's his first Linux-PC and his first TeX-installation.)
We started in the night, and I thought it might need about
half an hour. As it was three o'clock in the morning he
was to tired and left (without his new 64-Bit PC).

Such a new technique, and so slow. And so tired people,
and so discouraged/annoyed with the first TeX-installation.

A good start?

In the README there was no warning.

If there would have been one EMPHASIZED sentence,
which warns, that the installation might need several
hourse even on fast machine, we had not installed it.

Maybe that would have been the better way...

> 
> Someone doing it for many machines would surely
> copy from the DVD first?

Someone who installs it once can be really annoyed.
After that annoying exoerience I did NOT install texlive
on my new PC. Two reasons: a) I prefer source-distributions
(e.g. Gentoo is fine), b) teTeX was fine c) this installation
procedure also let me dislike this distribution.
So my PC has no TeX installed and I use my Mac as long
as I do not have TeX on my PC.

Maybe this is a non-pragmatical, idealistic attitude,
but when I have a fast PC, and we have the year 2007,
I can await to have a fast installation.

The textmenue is OK, so using the installation
is fine. But to wait to long, is NOT fine.

I hope the next texlive will be more suited for
people who want to install TeX once.
Or maybe it should be mentioned, that there (somewhere)
are inst-Distributions, especially for installation,
which are best for a quick installation,
and that texlive is a no-no when people are interested
in installing.


My personal opinion:
 I hate ineffective and non-elegant software and machines.
 BTW, that's the reason why I use TeX/LaTeX, because it helps
 to create fine printed, sophisticated documents in a
 convenient way.
 The installation procedure (and the underlying software) also
 should be as fine, IMHO.

 Nobody is perfect, but to say it doesn't matter, IMHO
 is not the way to do it better next time.
 If it works, but is ugly this time; ok. That's life.
 But next time we (should, IMHO) do it better.


Ciao,
   Oliver

P.S.: If installation time of TeX-istributions outweights the
      text-editing times, when using Word for your documents
      (at least subjective), then people will not try TeX.

       Something like:
          "Last time I tried to install TeX. People say, it is
          not as complicated, as I heard of. And it saves time,
          when you edit your documents. I should use it for my diploma.,
          So I started to install it from this DVD. After two hours I stopped
          it, and never touched it again."

From sebastian.rahtz at oucs.ox.ac.uk  Wed May 23 14:42:51 2007
From: sebastian.rahtz at oucs.ox.ac.uk (Sebastian Rahtz)
Date: Wed, 23 May 2007 13:42:51 +0100
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
 TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523123337.GD732@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>	<20070523100320.GH335@first.in-berlin.de>	<20070523111552.GA579@first.in-berlin.de>	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
Message-ID: <465436CB.7020806@oucs.ox.ac.uk>

Oliver Bandel wrote:
> On that day (night) I installed a debian (via netinstaller-CD)
> for a friend. It took a while, but not very long.
> After I installed some additional programs he wanted to have,
> I said, he needs TeX also, it's an absolute MUST-HAVE.
>   
if it was a Debian, the first call should
be the texlive Debian packages, surely?
which do the job just perfectly. Why bother with the DVD?
> In the README there was no warning.
>   
thats a fair point, I agree.

but I think the point is that installing from DVD should be a
last resource. Better to do a net install using Debian
packages, or a Subversion checkout if you're a source person.

me, I never do an install at all. I just keep the checkout
from Subversion up to date, set my PATH accordingly,
and it just works.

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431


From gnwiii at gmail.com  Wed May 23 14:40:13 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 23 May 2007 09:40:13 -0300
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <4653F35F.7080309@oucs.ox.ac.uk>
References: <Pine.LNX.4.44.0705220212490.20841-100000@fam82.internetdsl.tpnet.pl>
	<200705220044.l4M0iZM21443@f7.net>
	<20070522010211.GA1015@first.in-berlin.de> <4652A07E.6060107@wxs.nl>
	<18003.24530.146808.623921@zarniwoop.ms25.local>
	<a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
	<20070523003755.GD463@first.in-berlin.de>
	<a6e8c1d0705221827j4dc7826drebfadde7c49c2aa6@mail.gmail.com>
	<4653F35F.7080309@oucs.ox.ac.uk>
Message-ID: <22af238a0705230540o301c5b1esf1955d3b337b806a@mail.gmail.com>

On 5/23/07, Sebastian Rahtz <sebastian.rahtz at oucs.ox.ac.uk> wrote:
> Edd Barrett wrote:
> >
> > ls &> somefile in ksh. Does it work? Nope. Shells are _different_!
> >
> > We call the above a "bashism"
> does you system have "ksh" installed as "/bin/sh"? If so,
> that's pretty strange and wrong. Those install scripts
> say up front
>
>  #!/bin/sh
>
> not
>
>   #!"whatever shell you fancy trying"

Whatever shell is fine is long as it conforms to IEEE Std 1003.1,
2003 Edition, which provides useful extensions that have been widely
available for more than a decade (Bolsky and Korn was originally
published in 1989, so there has been ample time to get robust
implementations): reading from multiple files, integer arithmetic,
substring operators ${x#y} and ${x%y}, arrays, functions, 8-bit
transparency and multibyte character support, and support for
menus (select).

On my debian system:
$ ls -l /bin/sh /bin/bash
-rwxr-xr-x 1 root root 677184 2006-12-11 17:20 /bin/bash
lrwxrwxrwx 1 root root      4 2006-12-28 11:00 /bin/sh -> bash

On SGI IRIX64, "man sh" reveals

     Note: As of IRIX 6.4, sh is the Korn shell rather than the Bourne shell.

Indeed, ksh and sh are the same :
$ ls -l /bin/ksh
lrwxr-xr-x    1 root     sys           13 Jun 26  2003 /bin/ksh -> ../../sbin/sh
$ ls -l /bin/sh
lrwxr-xr-x    1 root     sys           13 Jun 26  2003 /bin/sh -> ../../sbin/sh
$ ls -l /sbin/sh
-rwxr-xr-x    1 root     sys       644100 Dec 20 00:50 /sbin/sh*
$ /bin/sh -c 'echo $RANDOM $RANDOM'
26839 19845

The last line shows that /bin/sh is not the classic Bourne shell
(which became /bin/bsh).  Debian "man sh" refers to

> >> When reading this text one is tempted to prefer binaries,
> >> specialized for the target platform in general.
> >
> > eh? Scripting languages are platform independant?
> if you have the script engine installed, yes

And you still have to be aware of differences in the bugs/features
on each platform.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From zdenek.wagner at gmail.com  Wed May 23 15:05:49 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 23 May 2007 15:05:49 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523123337.GD732@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
Message-ID: <8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>

2007/5/23, Oliver Bandel <oliver at first.in-berlin.de>:
> On Wed, May 23, 2007 at 12:47:19PM +0100, Sebastian Rahtz wrote:
> > I do wonder whether all this is worth the effort. I know
> > 4 hours is horribly slow, but you only do it once a year.
> > Of course, if its easy to rewrite the install scripts
> > to be more efficient, that's great, but not if it
> > takes weeks of work.
>
> ...
I still cannot understand WHY it takes such a long time on someone's
computer. I installed TL2007 from an image on HD, but TL2005 from DVD,
on my 3 years old notebook ASUS, 1.6 GHz, 512 MB RAM with Fedora Core
2, and x86_64 dual core, 3.4 GHz, 4 GB RAM woth CentOS 4.3. Copying
files from DVD to HD took about half an hour on both computers (the
DVD-RW drive is LG on both), the post installation step on the
notebook took about 10 minutes but less that 5 seconds on x86_64,
everything was probably in cache. I monitored memory consumptions on
x86_64. I do not remember exact figures but it started somewhere
slightly above 200 MB and grew to something above 1 GB at the end of
installation.

-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From frank at kuesterei.ch  Wed May 23 15:08:42 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 23 May 2007 15:08:42 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523123337.GD732@first.in-berlin.de> (Oliver Bandel's
	message of "Wed\, 23 May 2007 14\:33\:37 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
Message-ID: <87fy5n1ycl.fsf@riesling.zuerich.kuesterei.ch>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

> On that day (night) I installed a debian (via netinstaller-CD)
> for a friend. It took a while, but not very long.
> After I installed some additional programs he wanted to have,
> I said, he needs TeX also, it's an absolute MUST-HAVE.
> (It's his first Linux-PC and his first TeX-installation.)

Then I guess it's not a must have that it be TeX Live 2007.  TeXlive
2005 is available as Debian packages for etch, and installing the
texlive-full package takes less than 15 minutes for me without the
download, and the download time is limited by bandwith (or again your
DVD drive, but now there are only about 80 *deb files), in five
directories.

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From oliver at first.in-berlin.de  Wed May 23 15:12:55 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 15:12:55 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <465436CB.7020806@oucs.ox.ac.uk>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<465436CB.7020806@oucs.ox.ac.uk>
Message-ID: <20070523131254.GL732@first.in-berlin.de>

On Wed, May 23, 2007 at 01:42:51PM +0100, Sebastian Rahtz wrote:
> Oliver Bandel wrote:
> >On that day (night) I installed a debian (via netinstaller-CD)
> >for a friend. It took a while, but not very long.
> >After I installed some additional programs he wanted to have,
> >I said, he needs TeX also, it's an absolute MUST-HAVE.
> >  
> if it was a Debian, the first call should
> be the texlive Debian packages, surely?

I didn't knew there are Debian-packages.

I asked in tex-d-l, which distribution oe can use,
now, hwere teTeX is not maintained.
The answer was: "texlive".
And as I have Gentoo linux and the DVD I thought
DVD is the way. That there are debian packages I didn't knew.



> which do the job just perfectly. Why bother with the DVD?


Well... ok, now I know it.

But for Gentoo I had to go the DVD-way.


> >In the README there was no warning.
> >  
> thats a fair point, I agree.
> 
> but I think the point is that installing from DVD should be a
> last resource. Better to do a net install using Debian
> packages, or a Subversion checkout if you're a source person.

What's about other Linux-distributions?
No way without the DVD?
Or installing the last teTeX-distri?


> 
> me, I never do an install at all. I just keep the checkout
> from Subversion up to date, set my PATH accordingly,
> and it just works.

OK, I think it's time to have a look at subversion.
I didn't used it so far. So... a lot more to learn.

Ciao,
   Oliver

From oliver at first.in-berlin.de  Wed May 23 15:17:37 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 15:17:37 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>
Message-ID: <20070523131737.GM732@first.in-berlin.de>

On Wed, May 23, 2007 at 03:05:49PM +0200, Zdenek Wagner wrote:
> 2007/5/23, Oliver Bandel <oliver at first.in-berlin.de>:
> >On Wed, May 23, 2007 at 12:47:19PM +0100, Sebastian Rahtz wrote:
> >> I do wonder whether all this is worth the effort. I know
> >> 4 hours is horribly slow, but you only do it once a year.
> >> Of course, if its easy to rewrite the install scripts
> >> to be more efficient, that's great, but not if it
> >> takes weeks of work.
> >
> >...
> I still cannot understand WHY it takes such a long time on someone's
> computer. I installed TL2007 from an image on HD, but TL2005 from DVD,
> on my 3 years old notebook ASUS, 1.6 GHz, 512 MB RAM with Fedora Core
> 2, and x86_64 dual core, 3.4 GHz, 4 GB RAM woth CentOS 4.3. Copying
> files from DVD to HD took about half an hour on both computers (the
> DVD-RW drive is LG on both), the post installation step on the
> notebook took about 10 minutes but less that 5 seconds on x86_64,
> everything was probably in cache. I monitored memory consumptions on
> x86_64. I do not remember exact figures but it started somewhere
> slightly above 200 MB and grew to something above 1 GB at the end of
> installation.

Maybe also mechanical problems of the DVD....
...so that maybe read-errors occur and the drive was slowed down?!

I inserted the DVD to my Powerbook. It made a lot of sound.
Even when not reading from the DVD, it made a lot of sound,
and I think the DVD touches the drive and scratches around.

This might be another problem.

Maybe the DVD-material was a cheap one ;-(

Ciao,
   Oliver

From preining at logic.at  Wed May 23 15:21:00 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 23 May 2007 15:21:00 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523131254.GL732@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<465436CB.7020806@oucs.ox.ac.uk>
	<20070523131254.GL732@first.in-berlin.de>
Message-ID: <20070523132100.GA14857@gamma.logic.tuwien.ac.at>

Hi Oliver!

On Mit, 23 Mai 2007, Oliver Bandel wrote:
> I didn't knew there are Debian-packages.

Well, then now you know. TL 2005 is in Debian/stable, and we have TL2007
in unstable currently, fixing bugs.

> DVD is the way. That there are debian packages I didn't knew.

There was enough traffic on this list about this.

Then there is the web site, linked from the main texlive page
	http://www.tug.org/texlive
	http://www.tug.org/texlive/debian.html

> What's about other Linux-distributions?

People are working on this.

> OK, I think it's time to have a look at subversion.

Yes yes yes. I told you already.

> I didn't used it so far. So... a lot more to learn.

no, just 
	svn co ....
as I send you, then read through the files/docs.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SKEGNESS (n.)
Nose excreta of a malleable consistency.
			--- Douglas Adams, The Meaning of Liff

From frank at kuesterei.ch  Wed May 23 15:36:48 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 23 May 2007 15:36:48 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523131737.GM732@first.in-berlin.de> (Oliver Bandel's
	message of "Wed\, 23 May 2007 15\:17\:37 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>
	<20070523131737.GM732@first.in-berlin.de>
Message-ID: <87abvv1x1r.fsf@riesling.zuerich.kuesterei.ch>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

> Maybe also mechanical problems of the DVD....
> ...so that maybe read-errors occur and the drive was slowed down?!
>
> I inserted the DVD to my Powerbook. It made a lot of sound.
> Even when not reading from the DVD, it made a lot of sound,
> and I think the DVD touches the drive and scratches around.
>
> This might be another problem.

In other words, we might be spending valuable time and thinking-energy
on a problem that was caused by broken hardware.  

We should better get on and work on updating mechanisms for texlive, or
on reported bugs, etc.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Wed May 23 16:05:43 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 23 May 2007 11:05:43 -0300
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
Message-ID: <22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>

On 5/22/07, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:

> If a simple, freely-distributable, standalone POSIX shell for Windows
> (NT, ME, 2000, XP, VISTA, ...) could be found, along with the set of
> several dozen command-line utilities required by POSIX, then an
> installer written as a POSIX shell script could easily handle all
> current platforms on which TeX Live is likely to be installed.

There are POSIX shells for Windows, including msys bash
and the MKS Toolkit.  I have used both, and have even ported some
unix scripts to Windows.  There are some tricky constraints when
using them:

1.  you have to be careful about case: "Makefile" and "makefile" can't
coexist.  This shouldn't be a big problem for TeX.

2.  many things break as soon as they are spread across multiple drives.
Msys does some tricks to map the Msys root to "/", so things you install
can end up in unexpected places.

3.  performance problems: starting processes is slow and AV scanning
adds overhead.  To me, this is the big advantage of a scripting language
that embeds the capabilities you have to get from utilities using shell
scripts.

It might be possible to use the same install scripts if you allow some
preliminary setup on Windows, but there would likely be some annoying
constraints on the way the *x scripts must be written.  Even with the best
intentions, it is hard to be disciplined if you don't actually use the
installer on Windows (or anywhere else).   Testing would be impractical if
the Windows install ties up a machine for half a day.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From pragma at wxs.nl  Wed May 23 16:11:37 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 23 May 2007 16:11:37 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
 TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523123337.GD732@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
Message-ID: <46544B99.5050901@wxs.nl>

Oliver Bandel wrote:
>
> Someone who installs it once can be really annoyed.
> After that annoying exoerience I did NOT install texlive
> on my new PC. Two reasons: a) I prefer source-distributions
> (e.g. Gentoo is fine), b) teTeX was fine c) this installation
> procedure also let me dislike this distribution.
> So my PC has no TeX installed and I use my Mac as long
> as I do not have TeX on my PC.
>
> Maybe this is a non-pragmatical, idealistic attitude,
> but when I have a fast PC, and we have the year 2007,
> I can await to have a fast installation.
>
>   
well, in the case of such fresh hardware with enough disk space i'd copied the whole lot (texmf/texmf-dist) from dvd to disk and not bothered about subsets or packages apart from the binaries; copying a dvd directly should be no big deal; 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From dak at gnu.org  Wed May 23 16:24:19 2007
From: dak at gnu.org (David Kastrup)
Date: Wed, 23 May 2007 16:24:19 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	(George N. White, III's message of "Wed\,
	23 May 2007 11\:05\:43 -0300")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
Message-ID: <861wh7d3e4.fsf@lola.quinscape.zz>

"George N. White III" <gnwiii at gmail.com> writes:

> On 5/22/07, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
>
>> If a simple, freely-distributable, standalone POSIX shell for Windows
>> (NT, ME, 2000, XP, VISTA, ...) could be found, along with the set of
>
> It might be possible to use the same install scripts if you allow
> some preliminary setup on Windows, but there would likely be some
> annoying constraints on the way the *x scripts must be written.
> Even with the best intentions, it is hard to be disciplined if you
> don't actually use the installer on Windows (or anywhere else).
> Testing would be impractical if the Windows install ties up a
> machine for half a day.

Part of my experiences in that respect are that a large part of the
workload for getting a Windows-usable installer is to write a correct
one for *x which is surprisingly hard to do.  No sane person will
under *x use filenames with spaces and other special characters in
them.

Under Windows, a _default_ location for many things is "Documents and
Settings".  Uh.  Or "My Programs".

And the directory separator under Windows needs to get escaped to
shells.  Ugh.

Now if your installation scripts have no problems dealing with
backslashes and spaces in file names, you are almost there.  The
problem is the same under *x and Windows, but under *x you just don't
get to see the effects.

This is slowly changing with the spread of GUIs and file managers and
desktop environments (instead of command line interfaces) where people
can create terrible file names effortlessly.

-- 
David Kastrup

From kaja at daimi.au.dk  Wed May 23 16:59:45 2007
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Wed, 23 May 2007 16:59:45 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <87abvv1x1r.fsf@riesling.zuerich.kuesterei.ch>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>
	<20070523131737.GM732@first.in-berlin.de>
	<87abvv1x1r.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <18004.22241.842378.147604@gandalf.daimi.au.dk>


Oliver Bandel wrote:
 
 > Maybe also mechanical problems of the DVD....
 > ...so that maybe read-errors occur and the drive was slowed down?!
 >
 > I inserted the DVD to my Powerbook. It made a lot of sound.
 > Even when not reading from the DVD, it made a lot of sound,
 > and I think the DVD touches the drive and scratches around.
 >
 > This might be another problem.

and Frank K?ster replied:

 > In other words, we might be spending valuable time and thinking-energy
 > on a problem that was caused by broken hardware.  

'broken hardware'? I don't install TL from DVD, but wanted to have a look 
at what's on and inserted it in the drive (HW: OptiPlex 745, SW: FC6).
The drive made so much unhealthy noise that I assumed it was broken to begin
with and asked hardware lab to check it. We run several tests. Conclusions: 
among all DVDs in my office (including Collection 2005), only 2007 DVDs 
(I have two) made the drive madly noisy.

Regards
Kaja


From hanthethanh at gmail.com  Wed May 23 16:59:57 2007
From: hanthethanh at gmail.com (Thanh Han The)
Date: Wed, 23 May 2007 16:59:57 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
Message-ID: <74f506dc0705230759qbcb21can8c702ec35142efa3@mail.gmail.com>

On Wed, May 23, 2007 at 04:11:37PM +0200, Hans Hagen wrote:
> Oliver Bandel wrote:
> >
> >Someone who installs it once can be really annoyed.
> >After that annoying exoerience I did NOT install texlive
> >on my new PC. Two reasons: a) I prefer source-distributions
> >(e.g. Gentoo is fine), b) teTeX was fine c) this installation
> >procedure also let me dislike this distribution.
> >So my PC has no TeX installed and I use my Mac as long
> >as I do not have TeX on my PC.
> >
> >Maybe this is a non-pragmatical, idealistic attitude,
> >but when I have a fast PC, and we have the year 2007,
> >I can await to have a fast installation.
> >
> >
> well, in the case of such fresh hardware with enough disk space i'd copied
> the whole lot (texmf/texmf-dist) from dvd to disk and not bothered about
> subsets or packages apart from the binaries; copying a dvd directly should
> be no big deal;

indeed. Whenever a new tl is out, I always download/copy the
dvd image to harddisk, mount it and setup a proper texmf.cnf
+ PATH and that's it. I never bothered with tl installation.

Thanh

From sanjoy at mrao.cam.ac.uk  Wed May 23 17:43:06 2007
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Wed, 23 May 2007 16:43:06 +0100
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: Your message of "Wed, 23 May 2007 14:33:37 +0200."
	<20070523123337.GD732@first.in-berlin.de> 
Message-ID: <E1HqszS-00074D-00@skye.ra.phy.cam.ac.uk>

> On that day (night) I installed a debian (via netinstaller-CD) for a
> friend. It took a while, but not very long.  After I installed some
> additional programs he wanted to have, I said, he needs TeX also,
> it's an absolute MUST-HAVE.

Courtesy of Norbert and the rest of the Debian TeX team, there are
/fantastic/ texlive 2007 (including ConTeXt) packages in Debian
'unstable' or at people.debian.org:

  deb http://people.debian.org/~preining/TeX/ tl2007/
  deb-src http://people.debian.org/~preining/TeX/ src/

  deb http://people.debian.org/~preining/TeX/ lmodern/
  deb-src http://people.debian.org/~preining/TeX/ lmodern/

  deb http://people.debian.org/~preining/TeX/ context/
  deb-src http://people.debian.org/~preining/TeX/ context/

Or if you're feeling braver and want to run the latest versions:

  deb     http://people.debian.org/~preining/TeX/ test/
  deb-src http://people.debian.org/~preining/TeX/ test/

It takes maybe 10 minutes to install.  Why use the texlive DVD at all
if you are on Debian (or Ubuntu)?!

Well, I can think of one reason: If you are running Debian etch
(a.k.a. stable), then you won't be able to use the people.debian.org
packages much longer due to libc and libpoppler version requirements.

I made Ubuntu backports for edgy (6.10 = Oct 2006) and feisty (7.04 =
Apr 07), but they probably won't work on Debian etch.  And I haven't
been able to backport them to an old-enough version of Ubuntu yet with
a libc6 that would work with etch packages.

-Sanjoy

`Not all those who wander are lost.' (J.R.R. Tolkien)

From frank at kuesterei.ch  Wed May 23 17:57:46 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 23 May 2007 17:57:46 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <18004.22241.842378.147604@gandalf.daimi.au.dk> (Kaja P.
	Christiansen's message of "Wed\, 23 May 2007 16\:59\:45 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>
	<20070523131737.GM732@first.in-berlin.de>
	<87abvv1x1r.fsf@riesling.zuerich.kuesterei.ch>
	<18004.22241.842378.147604@gandalf.daimi.au.dk>
Message-ID: <871wh7zg5h.fsf@riesling.zuerich.kuesterei.ch>

"Kaja P. Christiansen" <kaja at daimi.au.dk> wrote:

> Oliver Bandel wrote:
>  
>  > Maybe also mechanical problems of the DVD....
>  > ...so that maybe read-errors occur and the drive was slowed down?!
>  >
>  > I inserted the DVD to my Powerbook. It made a lot of sound.
>  > Even when not reading from the DVD, it made a lot of sound,
>  > and I think the DVD touches the drive and scratches around.
>  >
>  > This might be another problem.
>
> and Frank K?ster replied:
>
>  > In other words, we might be spending valuable time and thinking-energy
>  > on a problem that was caused by broken hardware.  
>
> 'broken hardware'? I don't install TL from DVD, but wanted to have a look 
> at what's on and inserted it in the drive (HW: OptiPlex 745, SW: FC6).
> The drive made so much unhealthy noise that I assumed it was broken to begin
> with and asked hardware lab to check it. We run several tests. Conclusions: 
> among all DVDs in my office (including Collection 2005), only 2007 DVDs 
> (I have two) made the drive madly noisy.

That's still broken hardware - the DVD isn't software after all, but
this thread was about improving software.

However, if it is true that the TL 2007 is pressed on foul media, that's
something that should be really investigated.  We should make sure that
it won't happen again, and maybe there's even a clause in the contract
which would allow to pay less.

So, how should we check this?  Not everyone has a hardware lab, but if
everyone on the list inserts DVDs, listens closely and indeed finds that
TL sounds bad, we have at least an indication.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From preining at logic.at  Wed May 23 17:59:11 2007
From: preining at logic.at (Norbert Preining)
Date: Wed, 23 May 2007 17:59:11 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <E1HqszS-00074D-00@skye.ra.phy.cam.ac.uk>
References: <20070523123337.GD732@first.in-berlin.de>
	<E1HqszS-00074D-00@skye.ra.phy.cam.ac.uk>
Message-ID: <20070523155911.GE23098@gamma.logic.tuwien.ac.at>

On Mit, 23 Mai 2007, Sanjoy Mahajan wrote:
> Or if you're feeling braver and want to run the latest versions:
> 
>   deb     http://people.debian.org/~preining/TeX/ test/
>   deb-src http://people.debian.org/~preining/TeX/ test/

Which are uploaded to Debian/unstable in the very moment.

> Well, I can think of one reason: If you are running Debian etch
> (a.k.a. stable), then you won't be able to use the people.debian.org
> packages much longer due to libc and libpoppler version requirements.

Sic. After I have worked through most (all?) RC bugs in texlive maybe
one can find time to create backports. We will see.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BOOK	What to do if you find yourself stuck in a crack in the ground
	underneath a giant boulder you can't move, with no hope of
	rescue. Consider how lucky you are that life has been good to
	you so far. Alternatively, if life hasn't been good to you so
	far, which given your current circumstances seems more likely,
	consider how lucky you are that it won't be troubling you much
	longer.
                 --- Comforting advice for Ford and Arthur in this current
                 --- situation, Fit the Eighth.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From martin at oneiros.de  Wed May 23 17:55:56 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 23 May 2007 17:55:56 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <E1HqszS-00074D-00@skye.ra.phy.cam.ac.uk>
References: <20070523123337.GD732@first.in-berlin.de>
	<E1HqszS-00074D-00@skye.ra.phy.cam.ac.uk>
Message-ID: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>

2007/5/23, Sanjoy Mahajan <sanjoy at mrao.cam.ac.uk>:
> Courtesy of Norbert and the rest of the Debian TeX team, there are
> /fantastic/ texlive 2007 (including ConTeXt) packages in Debian
> 'unstable' or at people.debian.org:

One suggestion: This should be mentioned in the readme and
install_tl.sh should check if it's running on debian et.al. and if so
inform the caller that newer versions are available as a deb (see
readme).

Best
   Martin

From staw at gust.org.pl  Wed May 23 15:53:59 2007
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed, 23 May 2007 15:53:59 +0200 (CEST)
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
 TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523131254.GL732@first.in-berlin.de>
Message-ID: <Pine.LNX.4.44.0705231546110.2692-100000@fam82.internetdsl.tpnet.pl>

On Wed, 23 May 2007, Oliver Bandel wrote:

> > but I think the point is that installing from DVD should be a
> > last resource. Better to do a net install using Debian
> > packages, or a Subversion checkout if you're a source person.
> 
> What's about other Linux-distributions?
> No way without the DVD?
> Or installing the last teTeX-distri?

Yes, there's a way: use TeX Live 2007 CD ROM (not DVD), available also
on CTAN. The installation uses .zip files instead of copying thousands
individual files. You can try also the GUI installer: 
setuptl/tlpmgui-i386-linux

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From sebastian.rahtz at oucs.ox.ac.uk  Wed May 23 13:47:19 2007
From: sebastian.rahtz at oucs.ox.ac.uk (Sebastian Rahtz)
Date: Wed, 23 May 2007 12:47:19 +0100
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
 TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523111552.GA579@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
Message-ID: <465429C7.6050805@oucs.ox.ac.uk>

I do wonder whether all this is worth the effort. I know
4 hours is horribly slow, but you only do it once a year.
Of course, if its easy to rewrite the install scripts
to be more efficient, that's great, but not if it
takes weeks of work.

Someone doing it for many machines would surely
copy from the DVD first? And anyone in a system
capacity serving many users would surely be
using some sort of packaging system? or am
I being naive?

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431


From A.Kielhorn at web.de  Wed May 23 19:02:09 2007
From: A.Kielhorn at web.de (Axel Kielhorn)
Date: Wed, 23 May 2007 19:02:09 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <871wh7zg5h.fsf@riesling.zuerich.kuesterei.ch>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>
	<20070523131737.GM732@first.in-berlin.de>
	<87abvv1x1r.fsf@riesling.zuerich.kuesterei.ch>
	<18004.22241.842378.147604@gandalf.daimi.au.dk>
	<871wh7zg5h.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <4c36c51d85c7195e44ba1bef44bd29e5@web.de>


Am 23.05.2007 um 17:57 schrieb Frank K?ster:

> However, if it is true that the TL 2007 is pressed on foul media, 
> that's
> something that should be really investigated.  We should make sure that
> it won't happen again, and maybe there's even a clause in the contract
> which would allow to pay less.
>
> So, how should we check this?  Not everyone has a hardware lab, but if
> everyone on the list inserts DVDs, listens closely and indeed finds 
> that
> TL sounds bad, we have at least an indication.

It doesn't make any strange sound on my Powerbook.
It took about 40 min to install from DVD, that is about twice the time 
an install from the CD-image (of one of the beta versions) took.

System 10.3.9 on a 1.25 GHz Powerbook with 2 G of memory.

Installing on WinXP on a 1 GHz Pentium 3 to an empty NTFS volume took 
about 1 hour.

(Almost full install, I just omitted the documentation I can't read.)

Axel

From oliver at first.in-berlin.de  Wed May 23 19:11:00 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 19:11:00 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <87abvv1x1r.fsf@riesling.zuerich.kuesterei.ch>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<8719b6240705230605g2fd7281ap45d22d5c7c713869@mail.gmail.com>
	<20070523131737.GM732@first.in-berlin.de>
	<87abvv1x1r.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070523171100.GH355@first.in-berlin.de>

On Wed, May 23, 2007 at 03:36:48PM +0200, Frank Kster wrote:
> Oliver Bandel <oliver at first.in-berlin.de> wrote:
> 
> > Maybe also mechanical problems of the DVD....
> > ...so that maybe read-errors occur and the drive was slowed down?!
> >
> > I inserted the DVD to my Powerbook. It made a lot of sound.
> > Even when not reading from the DVD, it made a lot of sound,
> > and I think the DVD touches the drive and scratches around.
> >
> > This might be another problem.
> 
> In other words, we might be spending valuable time and thinking-energy
> on a problem that was caused by broken hardware.  

No, broken DVDs which are cheap and ....

...but that only was an assumption.
Other people also told that the DVD-installation
was time-consuming, so maybe they all have the black-sheep DVDs?

One could test the problem by copying the DVD to a new one
and install from the newly burned DVD. If it runs better
and faster, the DVD was the problem.

This only was a *possible* idea, I didn't said it was the reason.



Ciao,
   Oliver

From oliver at first.in-berlin.de  Wed May 23 19:16:17 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Wed, 23 May 2007 19:16:17 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <46544B99.5050901@wxs.nl>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de> <46544B99.5050901@wxs.nl>
Message-ID: <20070523171617.GI355@first.in-berlin.de>

On Wed, May 23, 2007 at 04:11:37PM +0200, Hans Hagen wrote:
[...]
> well, in the case of such fresh hardware with enough disk space i'd copied 
> the whole lot (texmf/texmf-dist) from dvd to disk and not bothered about 
> subsets or packages apart from the binaries; copying a dvd directly should 
> be no big deal; 
[...]

Yes, I tested it... on my linux machine it was about half an hour
for copying. (not fast, but maybe ok)

Ciao,
   Oliver

From pragma at wxs.nl  Wed May 23 19:23:36 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 23 May 2007 19:23:36 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <861wh7d3e4.fsf@lola.quinscape.zz>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz>
Message-ID: <46547898.1080504@wxs.nl>

David Kastrup wrote:
> "George N. White III" <gnwiii at gmail.com> writes:
>
>   
>> On 5/22/07, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
>>
>>     
>>> If a simple, freely-distributable, standalone POSIX shell for Windows
>>> (NT, ME, 2000, XP, VISTA, ...) could be found, along with the set of
>>>       
>> It might be possible to use the same install scripts if you allow
>> some preliminary setup on Windows, but there would likely be some
>> annoying constraints on the way the *x scripts must be written.
>> Even with the best intentions, it is hard to be disciplined if you
>> don't actually use the installer on Windows (or anywhere else).
>> Testing would be impractical if the Windows install ties up a
>> machine for half a day.
>>     
>
> Part of my experiences in that respect are that a large part of the
> workload for getting a Windows-usable installer is to write a correct
> one for *x which is surprisingly hard to do.  No sane person will
> under *x use filenames with spaces and other special characters in
> them.
>   
hm, this qualifies all osx users as insane as well as users from content 
management systems running on *ix or just simple users like me who store 
music collections (with titles and such having special chars) on a unix nas
> Under Windows, a _default_ location for many things is "Documents and
> Settings".  Uh.  Or "My Programs".
>   
can you guarantee that on a unix machine (say edubuntu) users will not 
use a gui and create files and paths with spaces
> And the directory separator under Windows needs to get escaped to
> shells.  Ugh.
>   
new to me ; escaping in general is a pain, whatever platform is used
> This is slowly changing with the spread of GUIs and file managers and
> desktop environments (instead of command line interfaces) where people
> can create terrible file names effortlessly.
>   
i consider consistently mixed case, multple spaces, funny suffixes are 
more of a problem than an occasional space (although i try to avoid 
spaces in filenames as much as possible you cannot expect that from 
users for who computers are just a tool and want it to do what they 
expect it to do without the need to make hacking a hobby)

so, we should just handle it or conclude that tex can only be used in a 
strictly defined environment

(btw, the windows versions of tex can already handle spaces in names for 
many years)

Hans


-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From dak at gnu.org  Wed May 23 20:21:12 2007
From: dak at gnu.org (David Kastrup)
Date: Wed, 23 May 2007 20:21:12 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <46547898.1080504@wxs.nl> (Hans Hagen's message of "Wed\,
	23 May 2007 19\:23\:36 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
Message-ID: <854pm38kpz.fsf@lola.goethe.zz>

Hans Hagen <pragma at wxs.nl> writes:

> David Kastrup wrote:
>>
>> Part of my experiences in that respect are that a large part of the
>> workload for getting a Windows-usable installer is to write a correct
>> one for *x which is surprisingly hard to do.  No sane person will
>> under *x use filenames with spaces and other special characters in
>> them.
>>   
> hm, this qualifies all osx users as insane as well as users from
> content management systems running on *ix or just simple users like me
> who store music collections (with titles and such having special
> chars) on a unix nas

If you install your typical TeX distribution or application in a
subtree of your music collection, I'd still not be very much convinced
about your general level of sanity.

The normal places for applications and home directories on *ix systems
don't have special characters in their containing hierarchy.  The
normal places for applications and the equivalent of home directories
under Windows _have_.

So even if the application itself does not contain special file names,
absolute file names on Unix systems during the installation tend to be
non-special, and on Windows tend to be special.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From pragma at wxs.nl  Wed May 23 20:35:12 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 23 May 2007 20:35:12 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <854pm38kpz.fsf@lola.goethe.zz>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<854pm38kpz.fsf@lola.goethe.zz>
Message-ID: <46548960.5060201@wxs.nl>

David Kastrup wrote:
> So even if the application itself does not contain special file names,
> absolute file names on Unix systems during the installation tend to be
> non-special, and on Windows tend to be special.
>   
just as names and paths under msdos 'tend' to have no spaces ... but 
times change

paths can start with periods, contain plusses and minusses so there is 
much more to worry about than spaces

to me names like "libstdc++-devel" and ".something" and "jome/Documents" 
(some start with capital some not) looks weird too

so 'special' is a matter of taste and its user demand and marketing who 
finaly steer things ... instead of qualifying operating systems we 
should qualify users (and usage) and adapt to that

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From karl at freefriends.org  Wed May 23 20:37:35 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 23 May 2007 13:37:35 -0500
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
Message-ID: <200705231837.l4NIbZ305256@f7.net>

    One suggestion: This should be mentioned in the readme and

README, fine (but few people read documentation).

install-tl.sh, I dunno.  How do you check if you are running on Debian?

From reinhard.kotucha at web.de  Wed May 23 20:56:22 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 23 May 2007 20:56:22 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <20070523131254.GL732@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de>
	<465436CB.7020806@oucs.ox.ac.uk>
	<20070523131254.GL732@first.in-berlin.de>
Message-ID: <18004.36438.827041.193384@zarniwoop.ms25.local>

>>>>> "Oliver" == Oliver Bandel <oliver at first.in-berlin.de> writes:

  > OK, I think it's time to have a look at subversion.  I didn't used
  > it so far. So... a lot more to learn.

Not very much to learn if you only need it to download TeXLive. But
you need 5 GB disk space.

Another possibility is to download the CD image, which contains a zip
file for each package and can installed significantly faster.  You
need a bittorrent client for the download.

BTW, 4 hrs for a TL installation is quite unusual, maybe there is
something wrong with your friend's DVD drive.  Why don't you try it
yourself on your machine?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From martin at oneiros.de  Wed May 23 20:52:22 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 23 May 2007 20:52:22 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <200705231837.l4NIbZ305256@f7.net>
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
Message-ID: <68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>

2007/5/23, Karl Berry <karl at freefriends.org>:
> install-tl.sh, I dunno.  How do you check if you are running on Debian?

The existence of /etc/debian_version.

Best
   Martin

From bhh at xs4all.nl  Wed May 23 19:42:27 2007
From: bhh at xs4all.nl (Berend Hasselman)
Date: Wed, 23 May 2007 19:42:27 +0200
Subject: [tex-live] Question for Windows
Message-ID: <86AD096E-9E46-4C28-9377-DBCF49F162A3@xs4all.nl>

Hi

I wish to discuss with TeX Live the following matter.
My apologies if I shouldn't have sent this mail to this address.

I maintain or have maintained a MiKTeX installation at my work  
(government agency in The Hague).
This is currently version 2.4.
The basics of the installation are:

The MiKTeX root is located on a file-server  on K:\tex\tex
An additional root holding all our style files and some font  
definitions is located on K:\tex\cpbtex.
Finally each user has a local root located on a different drive:  G: 
\private\appdata\localtexmf

I did not want MiKTeX to keep these directories in the Windows registry.
I made use of the not or badly  documented option of listing these  
directories in a file paths.ini in a special place.
All of this works but there is a problem with how MiKTeX treats the  
different roots.
MiKTeX keeps track of files using a filename database for each of its  
roots. The databases are stored in the local user root.

The MiKTeX method has changed slightly in the new version 2.5.
But it still stores all filename databases in the or a  local user root.

This is very unpleasant when changes are made to the MiKTeX or the  
CPB root (k:\tex\cpbtex).
The filename databases for all users have to be changed/updated,  
which can be done automatically but is very annoying.

One of the reasons users like MiKTeX is Yap which can be configured  
to call your editor at a specified place in an input file.

My questions about  Tex Live for Windows are:

1. Where does TeX Live keep its "filename database" stuff (ls-R  
stuff) in a Windows installation?
    (Same method as in Unix/Linux and Mac OS X: ls-R files are kept  
in each root/tree separately?)
   (With the Unix method updating the main root or the CPB root is  
easy and hassle free).

2. I gather that dviout is the equivalent of Yap. Does it also  
support "inverse search" (jumping back to your editor to a specified  
line)?

3. do you feel that TeX Live is the better solution for a network/ 
fileserver installation?

I sincerely hope that you will be able to enlighten me and provide  
some guidance.

my regards

Berend Hasselman
NTG/TUG member
Netherlands

PS. At home I have an iMac and Mac OS X. I am extremely satisfied  
with MacTeX/TeX Live and the way it works with TeXShop.
My compliments to everybody.
It is the way this works that has prompted me to consider TeX Live  
for my office which still uses Windows.




From dak at gnu.org  Wed May 23 21:12:14 2007
From: dak at gnu.org (David Kastrup)
Date: Wed, 23 May 2007 21:12:14 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <46548960.5060201@wxs.nl> (Hans Hagen's message of "Wed\,
	23 May 2007 20\:35\:12 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<854pm38kpz.fsf@lola.goethe.zz> <46548960.5060201@wxs.nl>
Message-ID: <85myzv73sh.fsf@lola.goethe.zz>

Hans Hagen <pragma at wxs.nl> writes:

> David Kastrup wrote:
>> So even if the application itself does not contain special file names,
>> absolute file names on Unix systems during the installation tend to be
>> non-special, and on Windows tend to be special.
>>   
> just as names and paths under msdos 'tend' to have no spaces ... but
> times change
>
> paths can start with periods, contain plusses and minusses so there is
> much more to worry about than spaces
>
> to me names like "libstdc++-devel" and ".something" and
> "jome/Documents" (some start with capital some not) looks weird too
>
> so 'special' is a matter of taste and its user demand and marketing
> who finaly steer things ... instead of qualifying operating systems
> we should qualify users (and usage) and adapt to that

Uh no.  "Special" in the context of configure/install is a matter of
what are special characters to a Bourne shell.  Taste has nothing to
with it.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From DBone at milgram.com  Wed May 23 21:29:43 2007
From: DBone at milgram.com (Dave Bone)
Date: Wed, 23 May 2007 15:29:43 -0400
Subject: [tex-live] texlive2007 --- cweave / ctangle window's distribution
	does not handle current directory path name for files
Message-ID: <DD2424A688ADE149879D1FE2DD5DD00E02888D13@msexchange.milgram.com>

Sorry to report this as I know how hard it is to put things together.

Please see below window's command line trace showing the problem.

I've highlighted the various problem pointed by a "<============" marker
with appropriate comments.

 

The problem found: 

the input file's path must be absolutely stated along with any "\input"
directives inside the ``xxx.w'' file. 

As shown below, without the path inputted, it honks.

I verified that the device nor the extension is required with this
release.

This is counter to the older cweave version shown near the end of this
email that deals with the current directory properly.

 

Ctangle has the same problem.

 

My workaround is to continue using the older version until it is fixed.

 

The cweave Version 3.64 Web2C 7.5.6 for my Sun Solaris 10 AMD64x86  from
a previous release running 32bit works properly. It looks like the
problem is contained to windows-only as this is the same version running
on windows from TeXLive2007.

Sincerely 

Dave Bone

 

Use of absolute input filename path showing that cweave accepts the
input file but not it's @i directives that have relative filename paths.

C:\yacco2\compiler\o2>cweave "c:/yacco2/compiler/o2/o2.w"

This is CWEAVE, Version 3.64 (Web2C 7.5.6)

 

! Cannot open include file. (l. 8)

@i "intro.w

           "

! Cannot open include file. (l. 9)

@i "prog.w

          "

! Cannot open include file. (l. 10)

@i "defs.w

          "

! Cannot open include file. (l. 11)

@i "bugs.w

          "

! Cannot open include file. (l. 12)

@i "types.w

           " *1

Writing the output file...

! Cannot open include file. (l. 8)

@i "intro.w

           "

! Cannot open include file. (l. 9)

@i "prog.w

          "

! Cannot open include file. (l. 10)

@i "defs.w

          "

! Cannot open include file. (l. 11)

@i "bugs.w

          "

! Cannot open include file. (l. 12)

@i "types.w

           " *1

Writing the index...

Done.

(Pardon me, but I think I spotted something wrong.)

 

C:\yacco2\compiler\o2>

 

 

==========> Use  of Relative file path problem: <==========

Below shows the new cweave not accepting the current directory.

Microsoft Windows 2000 [Version 5.00.2195]

(C) Copyright 1985-2000 Microsoft Corp.

 

C:\Documents and Settings\dbone>cd \yacco2\compiler\o2

 

=========> texlive2007 cweave program does not run properly <===========

=========> texlive2007 ctangle has same type of problem <===========

=========> Variations on trying to run cweave

                  1) normal way of running

                  2) other ways of running cweave ...

C:\yacco2\compiler\o2>cweave o2

This is CWEAVE, Version 3.64 (Web2C 7.5.6)

! Cannot open input file o2.w         <======= file exits: see dir list
below

(That was a fatal error, my friend.)

 

C:\yacco2\compiler\o2>dir o2*

 Volume in drive C has no label.

 Volume Serial Number is BC6B-EC86

 

 Directory of C:\yacco2\compiler\o2

 

08/07/2006  11:26a               9,924 o2.bat

05/23/2007  01:53p                   0 o2.c

05/23/2007  01:53p              37,877 o2.cpp

05/23/2007  01:53p               1,142 o2.h

05/23/2007  01:53p              23,890 o2.idx

05/23/2007  12:35p              12,931 o2.log

05/23/2007  01:25p              35,840 o2.ncb

05/23/2007  12:35p           1,027,144 o2.pdf

05/23/2007  01:53p               3,674 o2.scn

12/08/2005  04:56p                 863 o2.sln

05/23/2007  01:55p                  13 o2.tex

05/23/2007  12:35p               8,339 o2.toc

05/23/2007  01:53p               2,344 o2.vcproj

05/23/2007  01:25p               1,413 o2.vcproj.MILGRAM.dbone.user

05/23/2007  12:40p                 165 o2.w      <============== exists
==========

08/16/2006  08:05a                 223 o2run_example.txt

09/27/2006  04:15p                 536 o2test_batch.bat

03/10/2006  02:03p                 794 o2_1.bat

05/23/2007  01:53p              11,517 o2_extndefs.h

11/23/2006  07:11p               2,149 o2_structures.1

11/23/2006  07:11p               7,317 o2_structures.2

11/23/2006  07:11p                 255 o2_structures.log

11/23/2006  07:11p               2,880 o2_structures.mp

11/23/2006  07:11p              13,783 o2_structures.mpx

10/30/2006  11:54a               2,920 o2_testsuite.bat

06/03/2005  11:59a                 496 o2_testsuite2.bat

06/09/2006  12:53p               1,339 o2_testsuite3.bat

07/25/2006  12:25p               1,641 o2_testsuite4.bat

11/28/2006  01:51p               1,366 o2_testsuite_lrness.bat

              29 File(s)      1,212,775 bytes

               0 Dir(s)  21,882,343,424 bytes free

 

C:\yacco2\compiler\o2>cweave o2.w <========== other variations

This is CWEAVE, Version 3.64 (Web2C 7.5.6)

! Cannot open input file o2.w 

(That was a fatal error, my friend.)

 

C:\yacco2\compiler\o2>cweave "o2.w" <========== other variations

This is CWEAVE, Version 3.64 (Web2C 7.5.6)

! Cannot open input file o2.w

(That was a fatal error, my friend.)

 

<==============

<============== Following shows older version of cweave running properly

<=============== using current directory

<==============

C:\yacco2\compiler\o2>"c:\program files\cweb\bin\cweave" o2.w

This is CWEAVE (Version 3.64e Win32)

*1*2*3*4*5*6*7*8*9*10*12*13*14*15*16*17*18*20*23*24*25*26*28*29*30*31*32
*33*34*35*36*37*38*40*41*42*43*44*45*46*47*48*49*53*54*55*56*57*58*59*60
*61*62*70*71*72*73*74*75*76*77*

78*79*80*81*82*83*84*85*86*87*88*89*90*91*92*93*94*95*96*97*98*99*100*10
1*102*103*104*105*106*107*108*111*112*113*114*115*193*196*197*198

Writing the output
file...*1*2*3*4*5*6*7*8*9*10*12*13*14*15*16*17*18*20*23*24*25*26*28*29*3
0*31*32*33*34*35*36*37*38*40*41*42*43*44*45*46*47*48*49*53*54*55*56*57*5
8*59*60*61*6

2*70*71*72*73*74*75*76*77*78*79*80*81*82*83*84*85*86*87*88*89*90*91*92*9
3*94*95*96*97*98*99*100*101*102*103*104*105*106*107*108*111*112*113*114*
115*193*196*197*198

Writing the index...

Done.

(No errors were found.)

 

<==============

<============== New texlive2007 distribution directory

<==============

C:\yacco2\compiler\o2>dir \texlive2007\bin\win32

 Volume in drive C has no label.

 Volume Serial Number is BC6B-EC86

 

 Directory of C:\texlive2007\bin\win32

 

05/23/2007  08:59a      <DIR>          .

05/23/2007  08:59a      <DIR>          ..

12/18/2006  12:07a               1,790 a5bookle.bat

01/01/2007  08:23p              27,648 afm2tfm.exe

01/01/2007  08:23p              10,752 aftopl.exe

01/01/2007  08:23p               6,144 bbox.exe

01/01/2007  08:23p              72,192 bibtex.exe

01/01/2007  08:23p              98,816 bibtex8.exe

01/06/2007  06:54p             183,808 bmeps.exe

12/18/2006  12:07a              67,072 bzip2.exe

12/18/2006  12:07a               8,192 bzip2recover.exe

01/12/2007  01:04p             351,744 cfftot1.exe

01/01/2007  08:23p              40,960 chktex.exe

12/18/2006  12:07a              56,832 cjpeg.exe

01/01/2007  08:23p              29,184 ctangle.exe

01/01/2007  08:23p              10,240 ctie.exe

12/19/2006  03:55a                  38 ctxtools.bat

01/02/2007  01:23a              56,832 cweave.exe

05/17/2007  05:11p           3,948,544 cweb.exe

01/01/2007  08:23p              19,456 detex.exe

12/18/2006  12:07a               8,704 disdvi.exe

12/18/2006  12:07a              71,680 djpeg.exe

01/01/2007  08:23p              18,432 dmp.exe

12/18/2006  12:07a               1,090 doubside.bat

01/01/2007  08:23p              23,552 dt2dv.exe

01/01/2007  08:23p               8,704 dv2dt.exe

12/18/2006  12:07a              16,896 dvi2tty.exe

01/01/2007  08:23p              19,968 dvibook.exe

01/01/2007  08:23p              17,920 dviconcat.exe

01/01/2007  08:23p              40,960 dvicopy.exe

12/18/2006  12:07a              12,800 dvidvi.exe

01/01/2007  08:23p               8,704 dvihp.exe

01/01/2007  08:23p              32,256 dvilj.exe

01/01/2007  08:23p              33,280 dvilj2p.exe

01/01/2007  08:23p              38,912 dvilj4.exe

01/01/2007  08:23p              38,912 dvilj4l.exe

01/01/2007  08:23p              38,912 dvilj6.exe

01/06/2007  06:54p             337,408 dvipdfm.exe

01/22/2007  04:01a             731,648 dvipdfmx.exe

01/08/2007  08:41a              29,696 dvipos.exe

01/01/2007  08:23p             126,464 dvips.exe

01/01/2007  08:23p              19,456 dviselect.exe

01/01/2007  08:23p              22,528 dvitodvi.exe

01/01/2007  08:23p              26,112 dvitomp.exe

01/01/2007  08:23p              28,672 dvitype.exe

01/01/2007  08:23p               7,168 e2pall.exe

01/06/2007  06:54p             136,704 ebb.exe

12/18/2006  12:07a               2,560 eplain.exe

12/18/2006  12:07a               6,144 epsffit.exe

01/20/2007  12:43p               7,168 epstopdf.exe

12/18/2006  12:07a               2,560 etex.exe

12/29/2006  08:36p                  38 exatools.bat

12/18/2006  12:07a               2,878 extractres.bat

12/18/2006  12:07a               1,656 fixdlsrps.bat

12/18/2006  12:07a                 658 fixfmps.bat

12/18/2006  12:07a               2,400 fixmacps.bat

12/18/2006  12:07a                 757 fixpsditps.bat

12/18/2006  12:07a               1,400 fixpspps.bat

12/18/2006  12:07a                 536 fixscribeps.bat

12/18/2006  12:07a                 765 fixtpps.bat

12/18/2006  12:07a                 928 fixwfwps.bat

12/18/2006  12:07a                 801 fixwpps.bat

12/18/2006  12:07a                 485 fixwwps.bat

01/16/2007  11:55a              14,848 fmtutil.exe

01/13/2007  11:14a               7,508 getnonfreefonts.bat

01/01/2007  08:23p              31,232 gftodvi.exe

01/01/2007  08:23p              19,968 gftopk.exe

01/01/2007  08:23p              16,384 gftype.exe

01/01/2007  08:23p              10,240 glosstex.exe

01/01/2007  08:23p              18,432 gsftopk.exe

12/18/2006  12:07a              44,032 gunzip.exe

12/18/2006  12:07a              44,032 gzip.exe

12/18/2006  12:07a               1,665 includeres.bat

12/18/2006  12:07a              22,016 install-info.exe

12/18/2006  12:07a              10,752 irun.exe

01/06/2007  06:54p             903,168 jbig2.exe

12/24/2006  03:35a              12,288 jpeg2ps.exe

02/02/2007  01:15p              66,560 kpathsea356.dll

02/02/2007  01:15p              77,824 kpathsea35671.dll

01/01/2007  08:23p               4,096 kpseaccess.exe

12/18/2006  12:07a               7,680 kpsecheck.exe

01/01/2007  08:23p               3,584 kpsereadlink.exe

01/01/2007  08:23p               4,608 kpsestat.exe

01/01/2007  08:23p               9,216 kpsewhich.exe

12/18/2006  12:07a              54,272 lacheck.exe

12/18/2006  12:07a               2,560 latex.exe

12/29/2006  08:36p                  39 luatools.bat

01/01/2007  08:23p              76,288 makeindex.exe

01/08/2007  08:41a             193,024 makeinfo.exe

01/01/2007  08:23p              12,288 makempx-without-g-prefix.exe

01/01/2007  08:23p              12,288 makempx.exe

01/12/2007  10:06p                  37 makempy.bat

12/18/2006  12:07a               2,560 metafun.exe

01/05/2007  01:52p             191,488 mf-nowin.exe

01/05/2007  01:52p             194,560 mf.exe

12/18/2006  12:07a               2,560 mfmp.exe

01/01/2007  08:23p              38,912 mft.exe

12/18/2006  12:07a              34,816 mkbitmap.exe

01/01/2007  08:23p               3,584 mkocp.exe

12/18/2006  12:07a               2,560 mkofm.exe

12/18/2006  12:07a               4,608 mktex.exe

12/18/2006  12:07a               4,608 mktexdir.exe

01/14/2007  08:50a               4,096 mktexfmt.exe

01/22/2007  10:47a               4,608 mktexlsr.exe

12/18/2006  12:07a               4,608 mktexmf.exe

12/18/2006  12:07a               4,608 mktexnam.exe

12/18/2006  12:07a               4,608 mktexpk.exe

12/18/2006  12:07a               4,608 mktextfm.exe

12/18/2006  12:07a               4,608 mktexupd.exe

01/12/2007  01:04p             225,792 mmafm.exe

01/12/2007  01:04p             289,280 mmpfb.exe

02/05/2007  10:09a             300,544 mpost.dll

12/18/2006  12:07a               2,560 mpost.exe

12/19/2006  03:55a                  38 mpstools.bat

12/18/2006  12:07a               6,656 mpto.exe

12/19/2006  03:55a                  37 mptopdf.bat

12/18/2006  12:07a             499,712 msvcp71.dll

12/18/2006  12:07a             348,160 msvcr71.dll

12/18/2006  12:07a             286,773 msvcrt.dll

12/19/2006  03:55a                  38 mtxtools.bat

12/18/2006  12:07a               4,608 newer.exe

12/18/2006  12:07a              92,672 nkf.exe

01/12/2007  01:04p             455,680 otfinfo.exe

01/12/2007  01:04p             715,776 otftotfm.exe

01/01/2007  08:23p              20,480 patgen.exe

01/01/2007  08:23p               7,168 pdfatfi.exe

12/18/2006  12:07a              14,336 pdfclose.exe

01/01/2007  08:23p               7,168 pdfcrop.exe

12/18/2006  12:07a              14,336 pdfdde.exe

12/18/2006  12:07a               2,560 pdfelatex.exe

12/18/2006  12:07a               2,560 pdfetex.exe

12/20/2006  10:42a             414,208 pdffonts.exe

12/20/2006  10:42a             424,448 pdfimages.exe

12/20/2006  10:42a             417,280 pdfinfo.exe

12/18/2006  12:07a               2,560 pdflatex.exe

12/18/2006  12:07a              14,336 pdfopen.exe

02/05/2007  10:09a           1,073,664 pdftex.dll

12/18/2006  12:07a               2,560 pdftex.exe

12/19/2006  03:55a                  38 pdftools.bat

01/01/2007  08:23p             523,776 pdftops.exe

02/02/2007  10:23a             400,896 pdftosrc.exe

12/20/2006  10:42a             471,040 pdftotext.exe

12/18/2006  12:07a               3,584 perl.exe

12/18/2006  12:07a             901,120 perl58.dll

01/01/2007  08:23p               7,168 pkfix.exe

01/01/2007  08:23p              16,384 pktogf.exe

01/01/2007  08:23p              10,240 pktype.exe

01/01/2007  08:23p               7,680 pooltype.exe

01/01/2007  08:23p               7,168 ps2eps.exe

12/18/2006  12:07a               8,192 psbook.exe

12/18/2006  12:07a               2,130 psmerge.bat

12/18/2006  12:07a              14,848 psnup.exe

12/18/2006  12:07a              13,824 psresize.exe

12/18/2006  12:07a               9,728 psselect.exe

12/19/2006  03:55a                  37 pstopdf.bat

12/18/2006  12:07a              13,824 pstops.exe

01/12/2007  10:06p                  38 rlxtools.bat

12/19/2006  03:55a                  38 runtools.bat

12/26/2006  08:04p             335,872 sam2p.exe

12/18/2006  12:07a              15,872 t1ascii.exe

12/18/2006  12:07a              18,432 t1asm.exe

12/18/2006  12:07a              15,872 t1binary.exe

12/18/2006  12:07a              19,968 t1disasm.exe

01/12/2007  01:04p             280,576 t1dotlessj.exe

01/12/2007  01:04p             237,568 t1lint.exe

12/18/2006  12:07a              24,064 t1mac.exe

01/12/2007  01:04p             276,480 t1reencode.exe

01/12/2007  01:04p             258,560 t1testpage.exe

12/18/2006  12:07a              19,456 t1unmac.exe

01/01/2007  08:23p              30,720 tangle.exe

01/05/2007  01:52p             239,104 tex.dll

12/18/2006  12:07a               2,560 tex.exe

12/18/2006  12:07a              10,240 texdoctk.exe

12/19/2006  03:55a                  37 texexec.bat

12/19/2006  03:55a                  37 texfont.bat

01/01/2007  08:23p               4,608 texhash.exe

01/01/2007  08:23p               7,168 texi2html.exe

12/18/2006  12:07a              14,336 texindex.exe

01/12/2007  07:32a             909,312 texmfstart.exe

12/19/2006  03:55a                  38 textools.bat

12/19/2006  03:55a                  37 texutil.bat

01/13/2007  03:18p               4,608 texview.exe

01/05/2007  01:52p               7,168 thumbpdf.exe

01/01/2007  08:23p               8,192 tie.exe

01/06/2007  06:54p             308,736 tiff2png.exe

12/18/2006  12:07a             729,088 tk83.dll

12/18/2006  12:07a              57,344 tl90bzip2.dll

12/18/2006  12:07a             204,800 tl90freetype2.dll

12/18/2006  12:07a              16,384 tl90geturl.dll

12/18/2006  12:07a              51,200 tl90gnu.dll

12/18/2006  12:07a              86,016 tl90kpse.dll

12/18/2006  12:07a               8,192 tl90md5.dll

12/18/2006  12:07a              77,824 tl90mktex.dll

12/18/2006  12:07a              47,104 tl90regex.dll

12/18/2006  12:07a              12,800 tl90texmfmp.dll

12/18/2006  12:07a              73,728 tl90zlib.dll

12/19/2006  03:55a                  38 tmftools.bat

12/18/2006  12:07a               4,096 todos.exe

12/18/2006  12:07a               4,096 tomac.exe

12/18/2006  12:07a               4,096 tounix.exe

01/01/2007  08:23p              22,528 ttf2afm.exe

01/01/2007  08:23p             125,952 ttf2pk.exe

01/01/2007  08:23p             437,760 ttf2pt1.exe

01/01/2007  08:23p             138,240 ttf2tfm.exe

01/01/2007  08:23p              47,616 ttfdump.exe

01/12/2007  01:04p             302,080 ttftotype42.exe

12/18/2006  12:07a             121,344 type1afm.exe

12/26/2006  08:04p             167,936 unzip.exe

12/18/2006  12:07a              10,752 updmap.exe

01/05/2007  01:52p               7,168 vpe.exe

01/01/2007  08:23p              45,056 weave.exe

12/18/2006  12:58a             332,800 wget.exe

12/19/2006  03:55a                  38 xmltools.bat

             211 File(s)     23,355,885 bytes

               2 Dir(s)  21,882,343,424 bytes free

 

 

<==============

<============== Working Older cweave distribution directory

<==============

 

C:\yacco2\compiler\o2>dir "\Program Files\CWEB\bin"

 Volume in drive C has no label.

 Volume Serial Number is BC6B-EC86

 

 Directory of C:\Program Files\CWEB\bin

 

05/17/2007  05:14p      <DIR>          .

05/17/2007  05:14p      <DIR>          ..

09/29/2001  01:51p              36,864 actangle.exe

09/29/2001  02:44p              36,864 acweave.exe

03/23/2005  08:01p              45,056 acweave1.exe

10/01/2005  03:18a             106,496 ctangle.exe

10/16/2001  05:00p             102,400 ctwill.exe

10/01/2005  03:19a             135,168 cweave.exe

04/04/2005  06:28p             200,704 cwebgen.exe

04/01/2005  05:35p              28,672 cwebsync.exe

10/16/2001  05:08p              45,056 refsort.exe

08/27/2003  11:38p              65,536 uninstall.exe

              10 File(s)        802,816 bytes

               2 Dir(s)  21,882,343,424 bytes free

 

C:\yacco2\compiler\o2>
 
Dave Bone, IT Director
____________________________ 
Milgram & Company Ltd. 
500 - 407 rue McGill
Montreal, Quebec H2Y 2G7
T. 514-288-6002 x2216
F. 514-288-2519
W. www.milgram.com

Milgram wins 2007 Consumer Choice Award. Click here to find out more.




  

Subject to Milgram's Standard Trading Terms & Conditions, a copy of which is available upon request and on our website. Assujetti aux termes et conditions generales standards de Milgram dont une copie peut etre obtenue sur demande ainsi que sur notre site Web.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20070523/7b46d6f9/attachment-0001.html 

From karl at freefriends.org  Wed May 23 22:30:10 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 23 May 2007 15:30:10 -0500
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
Message-ID: <200705232030.l4NKUAW00914@f7.net>

    There are too many shells with different syntax. 

Please don't spread FUD.  

It is quite plausible to write shell scripts that run on every Unixish
system, including working around BSD-isms :).  There are many extant
examples.  A lot of effort has been expended to do that with the TL
install scripts.  There are no known "bash-isms", etc.  GNU tar is not
required, either.

To get back to the facts, what you reported to me is that the script
hung waiting for input in a simple tar pipeline:
tar -c -f - -I /list/of/files | (cd dest && tar -x -f -)

This is unlikely to have anything to do with shells.  In particular, the
first obvious question is, does -I have the intended meaning with BSD
tar?  (Read the list of files from the specifed files.)

If you can't debug the tar invocation on your system (OpenBSD), maybe
someone else can.

Also, you didn't mention how long you waited.  Perhaps it was simply
copying a lot of files.

karl

From reinhard.kotucha at web.de  Wed May 23 22:39:38 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 23 May 2007 22:39:38 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
 TeXLive-CD/DVD (Installation))
In-Reply-To: <46544B99.5050901@wxs.nl>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de> <46544B99.5050901@wxs.nl>
Message-ID: <18004.42634.263489.127653@zarniwoop.ms25.local>

>>>>> "Hans" == Hans Hagen <pragma at wxs.nl> writes:

  > well, in the case of such fresh hardware with enough disk space
  > i'd copied the whole lot (texmf/texmf-dist) from dvd to disk and
  > not bothered about subsets or packages apart from the binaries;
  > copying a dvd directly should be no big deal;

I made a test yesterday and there is no significant difference between
using the installer or copying the files to the disk.  

What certainly matters is the order in which files are written to the
image.  If they are written in the same order as they are read, it is
quite likely that installation will be much faster.

Anyway, at EuroTeX-2007 Norbert made a few proposals and already
provided some code.  I think that the installer has to be changed
anyway and things like that can be kept in mind. 

BTW, some time ago Thomas Esser told me that Knoppix developers have
exactly the same problem and that they had written a tool which solves
exactly this problem.  I don't remember any details, maybe even Thomas
doesn't remember because we talked about it at least two years ago.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From reinhard.kotucha at web.de  Wed May 23 23:15:50 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 23 May 2007 23:15:50 +0200
Subject: [tex-live] Question for Windows
In-Reply-To: <86AD096E-9E46-4C28-9377-DBCF49F162A3@xs4all.nl>
References: <86AD096E-9E46-4C28-9377-DBCF49F162A3@xs4all.nl>
Message-ID: <18004.44806.82848.241477@zarniwoop.ms25.local>

>>>>> "Berend" == Berend Hasselman <bhh at xs4all.nl> writes:

  > Hi I wish to discuss with TeX Live the following matter.  My
  > apologies if I shouldn't have sent this mail to this address.

It is no problem for us if you ask MikTeX related questions here, but
I'm sure that you get better responses if you ask on the MikTeX
mailing list.  Not many people subscribed to this list have any
experience with MikTeX.

	http://miktex.org/MailingList.aspx

Regards,
  Reinhard

From reinhard.kotucha at web.de  Thu May 24 00:36:11 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 24 May 2007 00:36:11 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <74f506dc0705230759qbcb21can8c702ec35142efa3@mail.gmail.com>
References: <74f506dc0705230759qbcb21can8c702ec35142efa3@mail.gmail.com>
Message-ID: <18004.49627.752686.617609@zarniwoop.ms25.local>

>>>>> "Thanh" == Thanh Han The <hanthethanh at gmail.com> writes:

  > indeed. Whenever a new tl is out, I always download/copy the dvd
  > image to harddisk, mount it and setup a proper texmf.cnf + PATH
  > and that's it. I never bothered with tl installation.

This is exactly what I do.  But this cannot be done automatically in a
platform independent way and it is nearly impossible to explain people
how to do it, especially if new instances of /dev/loop are required.

Hence we cannot omit the installer.

Anyway, I just installed TL-2005 from the DVD using the installer.
Quite interesting.  The DVD drive had been very silent as compared
with TL-2007 installation.

It had been reported by many people that installing TL-2007 is quite
noisy, so there is probably something wrong with the DVD.

That's the theory.  

Nobody complained that there is something wrong with the TL-2005 DVD
as far as I know.  Sorry that I cannot reduce the confusion.  When I
install TeXLive-2005, the DVD drive is quite silent, but curiously it
takes ten minutes more than installing TeXLive-2007.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From vext01 at gmail.com  Thu May 24 02:28:49 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 24 May 2007 01:28:49 +0100
Subject: [tex-live] TeXLive-CD/DVD (Installation)
In-Reply-To: <200705232030.l4NKUAW00914@f7.net>
References: <a6e8c1d0705221645n268863f0s15eb10fbdd9932d1@mail.gmail.com>
	<200705232030.l4NKUAW00914@f7.net>
Message-ID: <a6e8c1d0705231728p2077370amd4484367109e203a@mail.gmail.com>

Hi Karl,

On 23/05/07, Karl Berry <karl at freefriends.org> wrote:
> This is unlikely to have anything to do with shells.  In particular, the
> first obvious question is, does -I have the intended meaning with BSD
> tar?  (Read the list of files from the specifed files.)
>
> If you can't debug the tar invocation on your system (OpenBSD), maybe
> someone else can.

CTRL+D will cause the script to continue, which tar would not do if it
were not reading from stdin. I am quite busy at the moment with exams
and porting, but I'll ask a fellow student who uses OpenBSD if he
would like to help out.

>
> Also, you didn't mention how long you waited.  Perhaps it was simply
> copying a lot of files.

I went to the pub for a few hours and came back =)

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From kakuto at fsci.fuk.kindai.ac.jp  Thu May 24 03:15:11 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 24 May 2007 10:15:11 +0900
Subject: [tex-live] texlive2007 --- cweave / ctangle window's
	distribution	 does not handle current directory path name for files
Message-ID: <200705240115.l4O1FDld022878@jupiter.fsci.fuk.kindai.ac.jp>

> The problem found: 
> the input file's path must be absolutely stated along with any "\input"
> directives inside the ``xxx.w'' file. 
> As shown below, without the path inputted, it honks.
> I verified that the device nor the extension is required with this
> release.

> This is counter to the older cweave version shown near the end of this
> email that deals with the current directory properly.

> Ctangle has the same problem.

Not reproduced here.
Please check the variable CWEBINPUTS in your texmf.cnf:

kpsewhich --var-value=CWEBINPUTS

-- 
Akira Kakuto

From oliver at first.in-berlin.de  Thu May 24 03:31:32 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 03:31:32 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <18004.49627.752686.617609@zarniwoop.ms25.local>
References: <74f506dc0705230759qbcb21can8c702ec35142efa3@mail.gmail.com>
	<18004.49627.752686.617609@zarniwoop.ms25.local>
Message-ID: <20070524013132.GM697@first.in-berlin.de>

On Thu, May 24, 2007 at 12:36:11AM +0200, Reinhard Kotucha wrote:
[...]
> Anyway, I just installed TL-2005 from the DVD using the installer.
> Quite interesting.  The DVD drive had been very silent as compared
> with TL-2007 installation.
> 
> It had been reported by many people that installing TL-2007 is quite
> noisy, so there is probably something wrong with the DVD.
> 
> That's the theory.  
> 
> Nobody complained that there is something wrong with the TL-2005 DVD
> as far as I know.  Sorry that I cannot reduce the confusion.  When I
> install TeXLive-2005, the DVD drive is quite silent, but curiously it
> takes ten minutes more than installing TeXLive-2007.
[...]

Maybe it's the afterburner that makes so much noise ;-)

Ciao,
   Oliver

From oliver at first.in-berlin.de  Thu May 24 03:44:32 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 03:44:32 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <18004.42634.263489.127653@zarniwoop.ms25.local>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de> <46544B99.5050901@wxs.nl>
	<18004.42634.263489.127653@zarniwoop.ms25.local>
Message-ID: <20070524014432.GN697@first.in-berlin.de>

On Wed, May 23, 2007 at 10:39:38PM +0200, Reinhard Kotucha wrote:
> >>>>> "Hans" == Hans Hagen <pragma at wxs.nl> writes:
> 
>   > well, in the case of such fresh hardware with enough disk space
>   > i'd copied the whole lot (texmf/texmf-dist) from dvd to disk and
>   > not bothered about subsets or packages apart from the binaries;
>   > copying a dvd directly should be no big deal;
> 
> I made a test yesterday and there is no significant difference between
> using the installer or copying the files to the disk.  
> 
> What certainly matters is the order in which files are written to the
> image.  If they are written in the same order as they are read, it is
> quite likely that installation will be much faster.

Only, if not between any copy of a file the head must go to the
location, where the file lists are.


in Pseudocode:
==============


bad way:
--------

  while true
  do
    lookup_next_filelist();
    copy_files_of_current_filelist()
  done


better would be:
----------------

  lookup_all_filelists();
  copy_all_fils_in_filelist()



I don't know what exactly the installation-script does,
but I would assume, that the first thing is, what
actually is done. If so, this slows down.




> 
> Anyway, at EuroTeX-2007 Norbert made a few proposals and already
> provided some code.  I think that the installer has to be changed
> anyway and things like that can be kept in mind. 
> 
> BTW, some time ago Thomas Esser told me that Knoppix developers have
> exactly the same problem and that they had written a tool which solves
> exactly this problem.  I don't remember any details, maybe even Thomas
> doesn't remember because we talked about it at least two years ago.

Yes, one of the Knoppix' were extremely slow.
I don't know, which it was. The current Knoppix
is quite fast.

Ciao,
   Oliver

From frank at kuesterei.ch  Thu May 24 08:16:59 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 24 May 2007 08:16:59 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
	(Martin =?iso-8859-1?Q?Schr=F6der's?= message of "Wed\, 23 May 2007
	20\:52\:22 +0200")
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
	<68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
Message-ID: <87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>

"Martin Schr?der" <martin at oneiros.de> wrote:

> 2007/5/23, Karl Berry <karl at freefriends.org>:
>> install-tl.sh, I dunno.  How do you check if you are running on Debian?
>
> The existence of /etc/debian_version.

Hm, how does that look on Ubuntu?  Of course the packages are also
available in the respective Ubuntu releases, as well as other
derivatives. 

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From kakuto at fsci.fuk.kindai.ac.jp  Thu May 24 08:31:14 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 24 May 2007 15:31:14 +0900
Subject: [tex-live] texlive2007 --- cweave / ctangle
	window'sdistribution		 does not handle current directory path
	name for files
In-Reply-To: Your message of "Thu, 24 May 2007 10:15:11 +0900"
References: <200705240115.l4O1FDld022878@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200705240631.l4O6VIEE024141@jupiter.fsci.fuk.kindai.ac.jp>

>Directory of C:\texlive2007\bin\win32

> 05/23/2007  08:59a      <DIR>          .
> 05/23/2007  08:59a      <DIR>          ..
> 12/18/2006  12:07a               1,790 a5bookle.bat
[...]

> 05/17/2007  05:11p           3,948,544 cweb.exe

What is cweb.exe? I think TeXLive 2007 does not have
such a file.

-- 
Akira Kakuto

From oliver at first.in-berlin.de  Thu May 24 11:06:22 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 11:06:22 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <46547898.1080504@wxs.nl>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
Message-ID: <20070524090622.GB334@first.in-berlin.de>

On Wed, May 23, 2007 at 07:23:36PM +0200, Hans Hagen wrote:
> David Kastrup wrote:
> >"George N. White III" <gnwiii at gmail.com> writes:
[...]
> >
> >Part of my experiences in that respect are that a large part of the
> >workload for getting a Windows-usable installer is to write a correct
> >one for *x which is surprisingly hard to do.  No sane person will
> >under *x use filenames with spaces and other special characters in
> >them.
> >  
> hm, this qualifies all osx users as insane as well as users from content 
> management systems running on *ix or just simple users like me who store 
> music collections (with titles and such having special chars) on a unix nas
> >Under Windows, a _default_ location for many things is "Documents and
> >Settings".  Uh.  Or "My Programs".

And btw. it's also possible to create filenames that have spaces
on the command line.
The problem is, that most (all?) shells doesn't handle them correctly.

So, we need to invent at least one shell, that does not have a problem
with such names.

Ciao,
   Oliver

From dak at gnu.org  Thu May 24 11:20:04 2007
From: dak at gnu.org (David Kastrup)
Date: Thu, 24 May 2007 11:20:04 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524090622.GB334@first.in-berlin.de> (Oliver Bandel's
	message of "Thu\, 24 May 2007 11\:06\:22 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
Message-ID: <863b1mbmt7.fsf@lola.quinscape.zz>

Oliver Bandel <oliver at first.in-berlin.de> writes:

> On Wed, May 23, 2007 at 07:23:36PM +0200, Hans Hagen wrote:
>> David Kastrup wrote:
>> >"George N. White III" <gnwiii at gmail.com> writes:
> [...]
>> >
>> >Part of my experiences in that respect are that a large part of the
>> >workload for getting a Windows-usable installer is to write a correct
>> >one for *x which is surprisingly hard to do.  No sane person will
>> >under *x use filenames with spaces and other special characters in
>> >them.
>> >  
>> hm, this qualifies all osx users as insane as well as users from content 
>> management systems running on *ix or just simple users like me who store 
>> music collections (with titles and such having special chars) on a unix nas
>> >Under Windows, a _default_ location for many things is "Documents and
>> >Settings".  Uh.  Or "My Programs".
>
> And btw. it's also possible to create filenames that have spaces
> on the command line.

Uh, you did read what I wrote above?

> The problem is, that most (all?) shells doesn't handle them
> correctly.

Nonsense.  All shells have quoting mechanisms for special characters.

> So, we need to invent at least one shell, that does not have a
> problem with such names.

None of them do.  You just need to do the stuff correctly, as in
"write a correct [installer] for *x which is surprisingly hard to do".

-- 
David Kastrup

From zdenek.wagner at gmail.com  Thu May 24 11:21:27 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 24 May 2007 11:21:27 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524090622.GB334@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
Message-ID: <8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>

2007/5/24, Oliver Bandel <oliver at first.in-berlin.de>:
> On Wed, May 23, 2007 at 07:23:36PM +0200, Hans Hagen wrote:
> > David Kastrup wrote:
> > >"George N. White III" <gnwiii at gmail.com> writes:
> [...]

>
> And btw. it's also possible to create filenames that have spaces
> on the command line.
> The problem is, that most (all?) shells doesn't handle them correctly.
>
> So, we need to invent at least one shell, that does not have a problem
> with such names.
>
The problem is that the special characters have to be re-escaped if
the parameter is sent to some other program. Imagine a simple (somehow
foolish) script:

#!/bin/bash
echo "Number of parameters = $#"
if [ $# -eq 1 ]
then
  ./param $1
fi

If you call it with an escaped space within the first parameter, you'll get:

[wagner at cluster1 wagner]$ ./param some\ text
Number of parameters = 1
Number of parameters = 2

Beware! If you call this script with one parameter, you will fall into
an endless loop!



> Ciao,
>    Oliver
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From kaja at daimi.au.dk  Thu May 24 11:58:26 2007
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Thu, 24 May 2007 11:58:26 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
	<68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
	<87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <18005.25026.748396.297222@gandalf.daimi.au.dk>


Frank K?ster writes:

 > "Martin Schr?der" <martin at oneiros.de> wrote:
 > 
 > > 2007/5/23, Karl Berry <karl at freefriends.org>:
 > >> install-tl.sh, I dunno.  How do you check if you are running on Debian?
 > >
 > > The existence of /etc/debian_version.
 > 
 > Hm, how does that look on Ubuntu?

Ubuntu has the lsb_release command and /etc/lsb_release file.

regards,

Kaja


From siepo at cybercomm.nl  Thu May 24 12:01:32 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 24 May 2007 12:01:32 +0200
Subject: [tex-live] Question for Windows
In-Reply-To: <86AD096E-9E46-4C28-9377-DBCF49F162A3@xs4all.nl>
References: <86AD096E-9E46-4C28-9377-DBCF49F162A3@xs4all.nl>
Message-ID: <20070524100132.GA7376@molly>

On Wed, May 23, 2007 at 07:42:27PM +0200, Berend Hasselman wrote:
> MiKTeX keeps track of files using a filename database for each of its  
> roots. The databases are stored in the local user root.
> 
> The MiKTeX method has changed slightly in the new version 2.5.
> But it still stores all filename databases in the or a  local user root.

This is to change in version 2.7: the filename database will be
stored in the corresponding tree, and may become optional for
additional trees. This may take a while, since the current beta is
only 2.6.

> My questions about  Tex Live for Windows are:
> 
> 1. Where does TeX Live keep its "filename database" stuff (ls-R  
> stuff) in a Windows installation?
>    (Same method as in Unix/Linux and Mac OS X: ls-R files are kept  
> in each root/tree separately?)

Same as Unix
> 
> 2. I gather that dviout is the equivalent of Yap. Does it also  
> support "inverse search" (jumping back to your editor to a specified  
> line)?

I haven't seriously looked at dviout yet, but see
http://magic.aladdin.cs.cmu.edu/2007/03/06/switching-from-yap-to-dviout/
> 
> 3. do you feel that TeX Live is the better solution for a network/ 
> fileserver installation?

I am looking into this myself. One advantage of MikTeX in
combination with TeXnicCenter is that TeXnicCenter detects MikTeX
automatically, whereas you have to tell it the location of TeX Live
explicitly. I put in a feature request for TeXnicCenter to that
effect, but so far didn't get any response on that.

> I sincerely hope that you will be able to enlighten me and provide  
> some guidance.

I have a web page http://tex.aanhet.net.portable/ on portable and
network installations of MikTeX and TeX Live which may give you some
answers. The TeXLive script on that page doesn't yet do dviout.

-- 
Siep Kroonenberg

From siepo at cybercomm.nl  Thu May 24 12:08:04 2007
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 24 May 2007 12:08:04 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <18005.25026.748396.297222@gandalf.daimi.au.dk>
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
	<68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
	<87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>
	<18005.25026.748396.297222@gandalf.daimi.au.dk>
Message-ID: <20070524100803.GB7376@molly>

On Thu, May 24, 2007 at 11:58:26AM +0200, Kaja P. Christiansen wrote:
> 
> Frank K?ster writes:
> 
>  > "Martin Schr?der" <martin at oneiros.de> wrote:
>  > 
>  > > 2007/5/23, Karl Berry <karl at freefriends.org>:
>  > >> install-tl.sh, I dunno.  How do you check if you are running on Debian?
>  > >
>  > > The existence of /etc/debian_version.
>  > 
>  > Hm, how does that look on Ubuntu?
> 
> Ubuntu has the lsb_release command and /etc/lsb_release file.
> 
> regards,
> 
> Kaja

My Ubuntu has an lsb-release file (dash, not an underscore), but it
also has a debian_version.

-- 
Siep Kroonenberg

From frank at kuesterei.ch  Thu May 24 12:18:42 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 24 May 2007 12:18:42 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524090622.GB334@first.in-berlin.de> (Oliver Bandel's
	message of "Thu\, 24 May 2007 11\:06\:22 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
Message-ID: <87fy5mjzi5.fsf@riesling.zuerich.kuesterei.ch>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

> And btw. it's also possible to create filenames that have spaces
> on the command line.
> The problem is, that most (all?) shells doesn't handle them correctly.

On the contrary, all that I have on my system do handle them correctly:

$ cat bin/testing/spacename 
ls "file with spaces in the name, even  two in a row"
$ zsh bin/testing/spacename 
ls: file with spaces in the name, even  two in a row: No such file or directory
$ bash bin/testing/spacename 
ls: file with spaces in the name, even  two in a row: No such file or directory
$ dash bin/testing/spacename 
ls: file with spaces in the name, even  two in a row: No such file or directory
$ tcsh bin/testing/spacename 
ls: file with spaces in the name, even  two in a row: No such file or directory
$ ksh bin/testing/spacename 
ls: file with spaces in the name, even  two in a row: No such file or directory
$ zsh bin/testing/spacename 
ls: file with spaces in the name, even  two in a row: No such file or directory
$ 

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From oliver at first.in-berlin.de  Thu May 24 12:19:56 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 12:19:56 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <863b1mbmt7.fsf@lola.quinscape.zz>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
Message-ID: <20070524101956.GA805@first.in-berlin.de>

On Thu, May 24, 2007 at 11:20:04AM +0200, David Kastrup wrote:
> Oliver Bandel <oliver at first.in-berlin.de> writes:
> 
> > On Wed, May 23, 2007 at 07:23:36PM +0200, Hans Hagen wrote:
> >> David Kastrup wrote:
> >> >"George N. White III" <gnwiii at gmail.com> writes:
> > [...]
> >> >
> >> >Part of my experiences in that respect are that a large part of the
> >> >workload for getting a Windows-usable installer is to write a correct
> >> >one for *x which is surprisingly hard to do.  No sane person will
> >> >under *x use filenames with spaces and other special characters in
> >> >them.
> >> >  
> >> hm, this qualifies all osx users as insane as well as users from content 
> >> management systems running on *ix or just simple users like me who store 
> >> music collections (with titles and such having special chars) on a unix nas
> >> >Under Windows, a _default_ location for many things is "Documents and
> >> >Settings".  Uh.  Or "My Programs".
> >
> > And btw. it's also possible to create filenames that have spaces
> > on the command line.
> 
> Uh, you did read what I wrote above?
> 

My comment was not intended to comment *aour* text, but
the text you already commented.


> > The problem is, that most (all?) shells doesn't handle them
> > correctly.
> 
> Nonsense.  All shells have quoting mechanisms for special characters.

OK, quoting mechanisms; but this is mostly ugly stuff, especially if
the things to do get nested.
A scripting language will be better to use then.

> 
> > So, we need to invent at least one shell, that does not have a
> > problem with such names.
> 
> None of them do.  You just need to do the stuff correctly, as in
> "write a correct [installer] for *x which is surprisingly hard to do".

OK.

But it's hard to do, because the tools in use make it hard.


Ciao,
   Oliver

From dak at gnu.org  Thu May 24 12:23:11 2007
From: dak at gnu.org (David Kastrup)
Date: Thu, 24 May 2007 12:23:11 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524101956.GA805@first.in-berlin.de> (Oliver Bandel's
	message of "Thu\, 24 May 2007 12\:19\:56 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
Message-ID: <86ps4qa5bk.fsf@lola.quinscape.zz>

Oliver Bandel <oliver at first.in-berlin.de> writes:

> On Thu, May 24, 2007 at 11:20:04AM +0200, David Kastrup wrote:
>
> OK, quoting mechanisms; but this is mostly ugly stuff, especially if
> the things to do get nested.
> A scripting language will be better to use then.

A shell _is_ a scripting language, and you will _always_ need quotes
for strings.

>> > So, we need to invent at least one shell, that does not have a
>> > problem with such names.
>> 
>> None of them do.  You just need to do the stuff correctly, as in
>> "write a correct [installer] for *x which is surprisingly hard to do".
>
> OK.
>
> But it's hard to do, because the tools in use make it hard.

Nonsense.  The shell does not make it hard to work with quoted
strings.  It _additionally_ provides ways to work with _unquoted_
strings, and then you need to know what you are doing.

If you don't, that is not the fault of the tool.

-- 
David Kastrup

From oliver at first.in-berlin.de  Thu May 24 12:30:50 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 12:30:50 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>
Message-ID: <20070524103050.GB805@first.in-berlin.de>

On Thu, May 24, 2007 at 11:21:27AM +0200, Zdenek Wagner wrote:
> 2007/5/24, Oliver Bandel <oliver at first.in-berlin.de>:
> >On Wed, May 23, 2007 at 07:23:36PM +0200, Hans Hagen wrote:
> >> David Kastrup wrote:
> >> >"George N. White III" <gnwiii at gmail.com> writes:
> >[...]
> 
> >
> >And btw. it's also possible to create filenames that have spaces
> >on the command line.
> >The problem is, that most (all?) shells doesn't handle them correctly.
> >
> >So, we need to invent at least one shell, that does not have a problem
> >with such names.
> >
> The problem is that the special characters have to be re-escaped if
> the parameter is sent to some other program. Imagine a simple (somehow
> foolish) script:

Yes, and this is annoying.

> 
> #!/bin/bash
> echo "Number of parameters = $#"
> if [ $# -eq 1 ]
> then
>  ./param $1
> fi

If you have "./param", then this might work in some way ;-)


> 
> If you call it with an escaped space within the first parameter, you'll get:
> 
> [wagner at cluster1 wagner]$ ./param some\ text
> Number of parameters = 1
> Number of parameters = 2
> 
> Beware! If you call this script with one parameter, you will fall into
> an endless loop!


"find" has an option "-print0" to end strings with a \0
and "grep" has an option "-Z" or "--null" to look for
strings with such a delimiter.

This makes life much easier, and the quoting-theater can be avoided.

Or when you use the system-near functions (Unix-API) of
C or use aequivalent functions of a scripting language
or programming language, then you will get a char*
or a string type, and the problem of spaces and needed
quotings is gone.

So, shells are not really good in this respect.

Ciao,
   Oliver

From frank at kuesterei.ch  Thu May 24 12:34:27 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 24 May 2007 12:34:27 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on
	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <18005.25026.748396.297222@gandalf.daimi.au.dk> (Kaja P.
	Christiansen's message of "Thu\, 24 May 2007 11\:58\:26 +0200")
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
	<68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
	<87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>
	<18005.25026.748396.297222@gandalf.daimi.au.dk>
Message-ID: <87abvujyrw.fsf@riesling.zuerich.kuesterei.ch>

"Kaja P. Christiansen" <kaja at daimi.au.dk> wrote:

> Frank K?ster writes:
>
>  > "Martin Schr?der" <martin at oneiros.de> wrote:
>  > 
>  > > 2007/5/23, Karl Berry <karl at freefriends.org>:
>  > >> install-tl.sh, I dunno.  How do you check if you are running on Debian?
>  > >
>  > > The existence of /etc/debian_version.
>  > 
>  > Hm, how does that look on Ubuntu?
>
> Ubuntu has the lsb_release command and /etc/lsb_release file.

Isn't that a characteristic of any system which is (or claims to be)
LSB-compliant? 

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From martin at oneiros.de  Thu May 24 12:39:57 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 24 May 2007 12:39:57 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <87abvujyrw.fsf@riesling.zuerich.kuesterei.ch>
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
	<68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
	<87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>
	<18005.25026.748396.297222@gandalf.daimi.au.dk>
	<87abvujyrw.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <68c491a60705240339y26e92b3eof7ff89f40445e621@mail.gmail.com>

2007/5/24, Frank K?ster <frank at kuesterei.ch>:
> "Kaja P. Christiansen" <kaja at daimi.au.dk> wrote:
> > Ubuntu has the lsb_release command and /etc/lsb_release file.
>
> Isn't that a characteristic of any system which is (or claims to be)
> LSB-compliant?

SUSE 10.2 has one. But debian 3.1 hasn't. Is 4.0 the first LSB-compliant debian?

Best
   Martin

From preining at logic.at  Thu May 24 12:40:40 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 24 May 2007 12:40:40 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524101956.GA805@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
Message-ID: <20070524104040.GA27082@gamma.logic.tuwien.ac.at>

On Don, 24 Mai 2007, Oliver Bandel wrote:
> A scripting language will be better to use then.

CAN WE PLEASE STOP THIS USELESS META DISCUSSION?????

What about doing something?

Instead of venting hot air, Oliver, you could have taken a look at what
I told you.

But anyway, I have already written the Perl modules.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GUERNSEY (adj.)
			--- Douglas Adams, The Meaning of Liff

From oliver at first.in-berlin.de  Thu May 24 12:41:37 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 12:41:37 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <86ps4qa5bk.fsf@lola.quinscape.zz>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<86ps4qa5bk.fsf@lola.quinscape.zz>
Message-ID: <20070524104137.GA1024@first.in-berlin.de>

On Thu, May 24, 2007 at 12:23:11PM +0200, David Kastrup wrote:
> Oliver Bandel <oliver at first.in-berlin.de> writes:
> 
> > On Thu, May 24, 2007 at 11:20:04AM +0200, David Kastrup wrote:
> >
> > OK, quoting mechanisms; but this is mostly ugly stuff, especially if
> > the things to do get nested.
> > A scripting language will be better to use then.
> 
> A shell _is_ a scripting language, and you will _always_ need quotes
> for strings.
> 
> >> > So, we need to invent at least one shell, that does not have a
> >> > problem with such names.
> >> 
> >> None of them do.  You just need to do the stuff correctly, as in
> >> "write a correct [installer] for *x which is surprisingly hard to do".
> >
> > OK.
> >
> > But it's hard to do, because the tools in use make it hard.
> 
> Nonsense.  The shell does not make it hard to work with quoted
> strings.  It _additionally_ provides ways to work with _unquoted_
> strings, and then you need to know what you are doing.
> 
> If you don't, that is not the fault of the tool.


OK, if you want/like the quoting-theatre, use shells.

I dislike it, and so I mostly try to avoid shells.

If everyone use the tool he/she/it wants, then we all are happy.

Ciao,
   Oliver

From zdenek.wagner at gmail.com  Thu May 24 12:44:33 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 24 May 2007 12:44:33 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524103050.GB805@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>
	<20070524103050.GB805@first.in-berlin.de>
Message-ID: <8719b6240705240344j6d5ddda4l5a83fb26fb9f8622@mail.gmail.com>

2007/5/24, Oliver Bandel <oliver at first.in-berlin.de>:

>
> Or when you use the system-near functions (Unix-API) of
> C or use aequivalent functions of a scripting language
> or programming language, then you will get a char*
> or a string type, and the problem of spaces and needed
> quotings is gone.
>
> So, shells are not really good in this respect.
>
Sure. I know how to do it with DosStartSession in OS/2 and eCS. Its
API differs from *x and Windows. Would the developers like to provide
such mechanisms for all platforms? I am afraid not. I am glad that I
have OS/2 ports of bash, perl and GNU utils and the scripts from TL
work for me.

> Ciao,
>    Oliver
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From dak at gnu.org  Thu May 24 12:52:38 2007
From: dak at gnu.org (David Kastrup)
Date: Thu, 24 May 2007 12:52:38 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524104137.GA1024@first.in-berlin.de> (Oliver Bandel's
	message of "Thu\, 24 May 2007 12\:41\:37 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<86ps4qa5bk.fsf@lola.quinscape.zz>
	<20070524104137.GA1024@first.in-berlin.de>
Message-ID: <86d50qa3yh.fsf@lola.quinscape.zz>

Oliver Bandel <oliver at first.in-berlin.de> writes:

> On Thu, May 24, 2007 at 12:23:11PM +0200, David Kastrup wrote:
>> Oliver Bandel <oliver at first.in-berlin.de> writes:
>> 
>> > On Thu, May 24, 2007 at 11:20:04AM +0200, David Kastrup wrote:
>> >
>> > OK, quoting mechanisms; but this is mostly ugly stuff, especially if
>> > the things to do get nested.
>> > A scripting language will be better to use then.
>> 
>> A shell _is_ a scripting language, and you will _always_ need quotes
>> for strings.
>> 
>> >> > So, we need to invent at least one shell, that does not have a
>> >> > problem with such names.
>> >> 
>> >> None of them do.  You just need to do the stuff correctly, as in
>> >> "write a correct [installer] for *x which is surprisingly hard to do".
>> >
>> > OK.
>> >
>> > But it's hard to do, because the tools in use make it hard.
>> 
>> Nonsense.  The shell does not make it hard to work with quoted
>> strings.  It _additionally_ provides ways to work with _unquoted_
>> strings, and then you need to know what you are doing.
>> 
>> If you don't, that is not the fault of the tool.
>
>
> OK, if you want/like the quoting-theatre, use shells.

There is _no_ tool where you can use unquoted strings for everything.
There is _no_ tool that has no "quoting-theatre" for strings.

> I dislike it, and so I mostly try to avoid shells.

That's basically superstition.  Every tool has quoting mechanisms.

-- 
David Kastrup

From frank at kuesterei.ch  Thu May 24 14:01:49 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 24 May 2007 14:01:49 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <68c491a60705240339y26e92b3eof7ff89f40445e621@mail.gmail.com>
	(Martin =?iso-8859-1?Q?Schr=F6der's?= message of "Thu\, 24 May 2007
	12\:39\:57 +0200")
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
	<68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
	<87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>
	<18005.25026.748396.297222@gandalf.daimi.au.dk>
	<87abvujyrw.fsf@riesling.zuerich.kuesterei.ch>
	<68c491a60705240339y26e92b3eof7ff89f40445e621@mail.gmail.com>
Message-ID: <87iraiig5u.fsf@riesling.zuerich.kuesterei.ch>

"Martin Schr?der" <martin at oneiros.de> wrote:

> 2007/5/24, Frank K?ster <frank at kuesterei.ch>:
>> "Kaja P. Christiansen" <kaja at daimi.au.dk> wrote:
>> > Ubuntu has the lsb_release command and /etc/lsb_release file.
>>
>> Isn't that a characteristic of any system which is (or claims to be)
>> LSB-compliant?
>
> SUSE 10.2 has one. But debian 3.1 hasn't. Is 4.0 the first LSB-compliant debian?

My Debian system doesn't have a lsb_release.  I can find a file
/etc/lsb[-_]release only in the debian-edu-config package (debian-edu is
a custom distribution for educational purposes, schools and such).

But I do have lsb packages installed which claim to be

,----
| This package provides an implementation of all modules of version 3.1
| of the Linux Standard Base for Debian on the Intel x86, Intel ia64
| [...]
| The intent of this package is to provide a best current practice way
| of installing and running LSB packages on Debian GNU/Linux.  Its
| presence does not imply that we believe that Debian fully complies
| with the Linux Standard Base, and should not be construed as a
| statement that Debian is LSB-compliant.
`----

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From oliver at first.in-berlin.de  Thu May 24 14:27:40 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 14:27:40 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524104040.GA27082@gamma.logic.tuwien.ac.at>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
Message-ID: <20070524122740.GA1133@first.in-berlin.de>

On Thu, May 24, 2007 at 12:40:40PM +0200, Norbert Preining wrote:
> On Don, 24 Mai 2007, Oliver Bandel wrote:
> > A scripting language will be better to use then.
> 
> CAN WE PLEASE STOP THIS USELESS META DISCUSSION?????
> 

Yes, my last mail was intended as a stop.

> What about doing something?

Yes.
Have downloaded some stuff via subersion.

> 
> Instead of venting hot air, Oliver, you could have taken a look at what
> I told you.

I just did.

> 
> But anyway, I have already written the Perl modules.

The perl-stuff for tlp/tldb?
I just wanted to start with it.

If you have other tasks, let me know.


Ciao,
  Oliver

From kaja at daimi.au.dk  Thu May 24 14:37:14 2007
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Thu, 24 May 2007 14:37:14 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment
	on	Re:	TeXLive-CD/DVD (Installation))
In-Reply-To: <87abvujyrw.fsf@riesling.zuerich.kuesterei.ch>
References: <68c491a60705230855x4efea6e3n6744fd42417da361@mail.gmail.com>
	<200705231837.l4NIbZ305256@f7.net>
	<68c491a60705231152g382ed3c6rd00a9038f218a1c3@mail.gmail.com>
	<87abvuoiec.fsf@riesling.zuerich.kuesterei.ch>
	<18005.25026.748396.297222@gandalf.daimi.au.dk>
	<87abvujyrw.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <18005.34554.930956.348655@gandalf.daimi.au.dk>



 > > Ubuntu has the lsb_release command and /etc/lsb_release file.
 > 
 > Isn't that a characteristic of any system which is (or claims to be)
 > LSB-compliant? 

I can't tell, but if this is the case, the contents should identify
the distributor. The remote machine I'm looking at has:

  # cat /etc/lsb_release
  Distributor ID: Ubuntu
  Description:    Ubuntu gutsy (development branch)
  Release:        7.10
  Codename:       gutsy

Kaja


From preining at logic.at  Thu May 24 14:41:52 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 24 May 2007 14:41:52 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524122740.GA1133@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
Message-ID: <20070524124152.GA3963@gamma.logic.tuwien.ac.at>

Hi Oliver,

On Don, 24 Mai 2007, Oliver Bandel wrote:
> > But anyway, I have already written the Perl modules.
> 
> The perl-stuff for tlp/tldb?

Yes.

> I just wanted to start with it.

Aha, so you already know what are tlp, tlsrc, tldb etc? Hope so.

> If you have other tasks, let me know.

Well, a really simple one:

Update your subversion repository
	cd .../new-infra
	svn up
and take a look at TLP.pm
There is the function make_zip which is not implemented.

Can you do this?

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LOW ARDWELL (n.)
Seductive remark made hopefully in the back of a taxi.
			--- Douglas Adams, The Meaning of Liff

From oliver at first.in-berlin.de  Thu May 24 14:49:43 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 14:49:43 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524124152.GA3963@gamma.logic.tuwien.ac.at>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
	<20070524124152.GA3963@gamma.logic.tuwien.ac.at>
Message-ID: <20070524124943.GA1186@first.in-berlin.de>

On Thu, May 24, 2007 at 02:41:52PM +0200, Norbert Preining wrote:
> Hi Oliver,
> 
> On Don, 24 Mai 2007, Oliver Bandel wrote:
> > > But anyway, I have already written the Perl modules.
> > 
> > The perl-stuff for tlp/tldb?
> 
> Yes.
> 
> > I just wanted to start with it.
> 
> Aha, so you already know what are tlp, tlsrc, tldb etc? Hope so.
> 
[...]

I have a first little clue of it ;-)


> > If you have other tasks, let me know.
> 
> Well, a really simple one:
> 
> Update your subversion repository
> 	cd .../new-infra
> 	svn up
> and take a look at TLP.pm
> There is the function make_zip which is not implemented.
> 
> Can you do this?

I try.

Which way to zip?
Via a certain Zipper-Module or via external zip-program?
How to test it?
How to update the stuff (pushing to subversion), when it runs?
(svn-newbie)

Ciao,
   Oliver

From preining at logic.at  Thu May 24 14:54:01 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 24 May 2007 14:54:01 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524124943.GA1186@first.in-berlin.de>
References: <22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
	<20070524124152.GA3963@gamma.logic.tuwien.ac.at>
	<20070524124943.GA1186@first.in-berlin.de>
Message-ID: <20070524125401.GB3963@gamma.logic.tuwien.ac.at>

On Don, 24 Mai 2007, Oliver Bandel wrote:
> Which way to zip?
> Via a certain Zipper-Module or via external zip-program?

However you want. You can take a look at
	svn:trunk/Build/tools/Tpm.pm
in the function
	sub Tpm2Zip
which does something similar. But I don't care how you implement it.

> How to test it?

You have new-infra, there are tlsrc, you can generate tlp with this.

> How to update the stuff (pushing to subversion), when it runs?

Sending me a diff of your changes
	diff -u TLP.pm.original TLP.pm

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
The main reception foyer was almost empty but Ford
nevertheless weaved his way through it.
                 --- Ford making his way out of Milliways whilst under the
                 --- influence of enough alchol to make a rhino sing.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From frank at kuesterei.ch  Thu May 24 15:02:25 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 24 May 2007 15:02:25 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524124943.GA1186@first.in-berlin.de> (Oliver Bandel's
	message of "Thu\, 24 May 2007 14\:49\:43 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
	<20070524124152.GA3963@gamma.logic.tuwien.ac.at>
	<20070524124943.GA1186@first.in-berlin.de>
Message-ID: <878xbe5q8u.fsf@riesling.zuerich.kuesterei.ch>

Oliver Bandel <oliver at first.in-berlin.de> wrote:

> Which way to zip?
> Via a certain Zipper-Module or via external zip-program?
> How to test it?

That's your choice, as long as it works well.

> How to update the stuff (pushing to subversion), when it runs?
> (svn-newbie)

As long as you don't have an account yet, just send the patch that svn
diff produces.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From oliver at first.in-berlin.de  Thu May 24 15:04:47 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 15:04:47 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524125401.GB3963@gamma.logic.tuwien.ac.at>
References: <861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
	<20070524124152.GA3963@gamma.logic.tuwien.ac.at>
	<20070524124943.GA1186@first.in-berlin.de>
	<20070524125401.GB3963@gamma.logic.tuwien.ac.at>
Message-ID: <20070524130447.GB1186@first.in-berlin.de>

On Thu, May 24, 2007 at 02:54:01PM +0200, Norbert Preining wrote:
> On Don, 24 Mai 2007, Oliver Bandel wrote:
> > Which way to zip?
> > Via a certain Zipper-Module or via external zip-program?
> 
> However you want. You can take a look at

OK, however I want sounds good, and I also expected this,
but when I use a module that is not in the standard distribution,
it might be easier to program, but then no one has that module.
This could be a show-stopper, when the used module is not installed
on the target machines.

Thats the reason why I asked...



> 	svn:trunk/Build/tools/Tpm.pm
> in the function
> 	sub Tpm2Zip
> which does something similar. But I don't care how you implement it.
> 
> > How to test it?
> 
> You have new-infra, there are tlsrc, you can generate tlp with this.
> 

Yes, I already had created me tlp-stuff.
BTW: if there is no "tlp" directory, the tlsrc2tlp.pl stops
with error message it does not create such a directory by itself.

I hope, this is intende behaviour.


> > How to update the stuff (pushing to subversion), when it runs?
> 
> Sending me a diff of your changes
> 	diff -u TLP.pm.original TLP.pm
> 

OK.

Ciao,
   Oliver

From preining at logic.at  Thu May 24 15:12:16 2007
From: preining at logic.at (Norbert Preining)
Date: Thu, 24 May 2007 15:12:16 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524130447.GB1186@first.in-berlin.de>
References: <46547898.1080504@wxs.nl> <20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
	<20070524124152.GA3963@gamma.logic.tuwien.ac.at>
	<20070524124943.GA1186@first.in-berlin.de>
	<20070524125401.GB3963@gamma.logic.tuwien.ac.at>
	<20070524130447.GB1186@first.in-berlin.de>
Message-ID: <20070524131216.GC3963@gamma.logic.tuwien.ac.at>

On Don, 24 Mai 2007, Oliver Bandel wrote:
> > > Via a certain Zipper-Module or via external zip-program?
> > 
> > However you want. You can take a look at
> 
> OK, however I want sounds good, and I also expected this,
> but when I use a module that is not in the standard distribution,

Don't care for now. This can be changed later. The module installed on
the target machine, whatever.

> Yes, I already had created me tlp-stuff.
> BTW: if there is no "tlp" directory, the tlsrc2tlp.pl stops
> with error message it does not create such a directory by itself.

Please UPDATE, tlsrc2tlp.pl is gone. There are modules
	TLSRC|TLP|TLDB|TLTREE.pm
and you should take a look at it. There are also several test-*.pl
scripts to see how to get it working.

> > Sending me a diff of your changes
> > 	diff -u TLP.pm.original TLP.pm
> > 
> 
> OK.

As Frank said, if you do all in the svn tree, you don't need to copy to
TLP.pm.original, a simple
	svn diff
afterwards gives you the diffs.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
`...we might as well start with where your hand is now.'
Arthur said, `So which way do I go?'
on this occaision.'
He moved his hand.
is in fact the other way.'
`Oh yes.'
                 --- Arthur trying to discover which part of Fenchurch is
                 --- wrong.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From oliver at first.in-berlin.de  Thu May 24 15:47:48 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 15:47:48 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524131216.GC3963@gamma.logic.tuwien.ac.at>
References: <20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
	<20070524124152.GA3963@gamma.logic.tuwien.ac.at>
	<20070524124943.GA1186@first.in-berlin.de>
	<20070524125401.GB3963@gamma.logic.tuwien.ac.at>
	<20070524130447.GB1186@first.in-berlin.de>
	<20070524131216.GC3963@gamma.logic.tuwien.ac.at>
Message-ID: <20070524134748.GA1309@first.in-berlin.de>

On Thu, May 24, 2007 at 03:12:16PM +0200, Norbert Preining wrote:
> On Don, 24 Mai 2007, Oliver Bandel wrote:
> > > > Via a certain Zipper-Module or via external zip-program?
> > > 
> > > However you want. You can take a look at
> > 
> > OK, however I want sounds good, and I also expected this,
> > but when I use a module that is not in the standard distribution,
> 
> Don't care for now. This can be changed later. The module installed on
> the target machine, whatever.
> 
[...]

Ah, ok, I see.
I was on the wrong track, because I thought this stuff goes onto the DVD.
But it is not, what goes with the DVD,
it's the preparation of the DVD, so it makes no problem.

OK.

All is fine. :)

Ciao,
   Oliver

From oliver at first.in-berlin.de  Thu May 24 16:00:36 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Thu, 24 May 2007 16:00:36 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524124152.GA3963@gamma.logic.tuwien.ac.at>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<20070524122740.GA1133@first.in-berlin.de>
	<20070524124152.GA3963@gamma.logic.tuwien.ac.at>
Message-ID: <20070524140036.GA1324@first.in-berlin.de>

Hi,

On Thu, May 24, 2007 at 02:41:52PM +0200, Norbert Preining wrote:
[...]
> There is the function make_zip which is not implemented.
> 

what zip-name?

I would assume name of the tlp with ".zip" appended.

Or is there something special?

Is $ziploc only a directory?

Or is it the outputfilename and might better be renamed to
$ziptarget?


Ciao,
   Oliver

From taco at elvenkind.com  Thu May 24 17:56:50 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 24 May 2007 17:56:50 +0200
Subject: [tex-live] Latin Modern bug in lm-texnansi-os.enc
In-Reply-To: <200705241348.l4ODmTWr028994@melmak.server.pl>
References: <200705241348.l4ODmTWr028994@melmak.server.pl>
Message-ID: <4655B5C2.5000801@elvenkind.com>



bop at bop.com.pl wrote:
> Hi,
> 
>> On the ConTeXT mailing list, Idris posted some messages because he was
>> trying to use oldstyle numerals in the latest Latin Modern release,
>> and was experiencing two pretty big problems:
>>
>>    * really bad kerning around the oldstyle numerals
> 
> We would be grateful if we could get more details (which font, which tfm,
> which encoding, pdftex or tex/dvips, on the screen or on the paper, etc.)
> My first guess is that proportional figures were used with tabular metrics...

Yes, but see explanation below.

>> The implementation of 'automatic' oldstyle numbers in ConTeXt uses a
>> set of encoding files that used to ship with LM (lm-xxxxxx-os.enc).
>> By way of a map file fragment, this allows to switch the fonts
>> 'en masse' from lining to oldstyle (and back) without the need for
>> special metric files, which is a pretty nice feature.
> 
> Don't understand -- the vertical oldstyle digits, in general, have different
> metric data (tabular digits differ only with respect to vertical dimensions).
> So, the replacement of the encoding implies the replacement of TFMs. Or I
> misundersood something.

How it used to work:

   The tabular lining figures are replaced by oldstyle figures by
   means of an encoding file only. This worked fine (because the
   oldstyle figures were tabular as well).

The height and depth are normally not all that important to TeX,
and with the widths the same, there was no need for a different
metrics file, just a single encoding file is enough to give all the
LM fonts oldstyle (tabular) figures instead of lining figures.

This trick broke when the tabular oldstyle figures were renamed
and proportional oldstyle figures were added (to the non-typewriter
fonts. Both problems Idris had came directly from that the fact
that these changes make the encoding file invalid:

* the perceived kerning is wrong because the actual proportional glyphs
   have different sidebearings, and
* the monospace fonts gave an error because the glyphs were renamed,
   so the requested glyphs were no longer existent at all.

>> While writing a bug report, I noticed that these encoding files are no
>> longer in the font distribution
> 
> No. We have a lot enough of TFMs and I'd be reluctant to add more. The only
> resort I can see is to use OTFs...
> 
>> Is this trick to get oldstyle now officially unsupported?
> 
> Rather not, I've just learned about it. ;-)

Yes, I understand that now. Well, can you please consider starting to
support it then? ;-)

>> because there are no oldstyle-using TFM files in the LM
>> distribution either ...
> 
> There are. As I mentioned, ts1 encoding contains oldstyle tabular figures.
> Perhaps accessing them needs other tricks, but as long as 256-glyph fonts are
> to be used, some glyphs must be accessed clumsily. e.g., proportional digits
> (normal and oldstyle).
> 

I know there are way to many TFM  files already, I don't want you to
ship dozens (hundreds?) of new ones. But from a user's point of view,
having to switch to a different encoding for each number is not what
I consider 'supporting oldstyle digits'.

The trick I explained above works surprisingly well (even if the figures
are tabular, not proportional). If I had realized that those encoding
files were not created by you yourself, I would not have bothered you
at all, as it was not your problem to begin with. But that's life ...

Cheers, Taco



From dak at gnu.org  Thu May 24 19:01:54 2007
From: dak at gnu.org (David Kastrup)
Date: Thu, 24 May 2007 19:01:54 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>
	(Zdenek Wagner's message of "Thu\, 24 May 2007 11\:21\:27 +0200")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>
Message-ID: <85r6p65f5p.fsf@lola.goethe.zz>

"Zdenek Wagner" <zdenek.wagner at gmail.com> writes:

> 2007/5/24, Oliver Bandel <oliver at first.in-berlin.de>:
>> On Wed, May 23, 2007 at 07:23:36PM +0200, Hans Hagen wrote:
>> > David Kastrup wrote:
>> > >"George N. White III" <gnwiii at gmail.com> writes:
>> [...]
>
>>
>> And btw. it's also possible to create filenames that have spaces
>> on the command line.
>> The problem is, that most (all?) shells doesn't handle them correctly.
>>
>> So, we need to invent at least one shell, that does not have a problem
>> with such names.
>>
> The problem is that the special characters have to be re-escaped if
> the parameter is sent to some other program. Imagine a simple (somehow
> foolish) script:
>
> #!/bin/bash
> echo "Number of parameters = $#"
> if [ $# -eq 1 ]
> then
>  ./param $1
> fi
>
> If you call it with an escaped space within the first parameter, you'll get:
>
> [wagner at cluster1 wagner]$ ./param some\ text
> Number of parameters = 1
> Number of parameters = 2
>
> Beware! If you call this script with one parameter, you will fall into
> an endless loop!

Nonsense.  You don't need to "reescape".  All you need is properly
quote:

./param "$1"

That's all.  Or

./param "$@"

if you want to pass all (remaining) parameters.

Before starting to bash shells, one should read the minimal amount of
documentation that can be considered reasonable for using _any_
language.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From frank at debian.org  Thu May 24 19:43:28 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 24 May 2007 19:43:28 +0200
Subject: [tex-live] Removed mathtime fonts -> missing metrics for belleek
In-Reply-To: <20070522202423.GA6606@cube.dyndns.org> (rsnel@cube.dyndns.org's
	message of "Tue\, 22 May 2007 22\:24\:25 +0200")
References: <20070521200523.24646.85783.reportbug@localhost.localdomain>
	<871wh9mbnx.fsf@riesling.zuerich.kuesterei.ch>
	<20070522202423.GA6606@cube.dyndns.org>
Message-ID: <87abvu2k3j.fsf@riesling.zuerich.kuesterei.ch>

Dear TeX Live team,

last year Karl removed the mathtime (and lucida) metrics from TeX Live,
after asking

,---- http://tug.org/mailman/htdig/tex-live/2006-November/011557.html
| It seems to me that they can only cause confusion and inconsistencies
| -- any new users should be getting the packages from TUG and/or PCTeX
| (which contain everything), and the few existing users who bought the
| packages from Y&Y can get the updated files from CTAN, if they want
| them.
| 
| Am I forgetting some constituency who will miss them?
`----

Now a Debian user complained and found what we were forgetting:

> Well, I use the 'belleek' fonts in texlive-fonts-extra as drop-in
> replacement for the proprietary mathtime fonts. The font uses the
> mathtime metrics and seems to have no metrics of it's own.
> See: /usr/share/texmf-texlive/fonts/map/dvips/tetex/mt-belleek.map
> and /usr/share/doc/texlive-fonts-extra/fonts/belleek/README
> (cd /usr/share; find -name belleek, only type1 and truetype, no metrics)

I'm not completely sure how to do that, it's a bit more than activating
mt-belleek.map, because with

\documentclass{article}
\usepackage{mathtime}

\begin{document}

This is text, and this is math:

\begin{equation}
  \label{eq:1}
  \sqrt[3]{\frac{a}{\pi}} = c
\end{equation}
\end{document}

I still get errors on TL 2005, but the general scheme worked.  In TL
2007, mathtime.sty is missing, and also the metrics used for the belleek
fonts. 

> Well, nobody objected (I can't be the only one that uses the belleek
> fonts, right?). Is there a recommended way within texlive to get
> times-like math in Plain TeX? (either with the belleek font, or some
> other free mathtime-like font)

Frankly, I have no idea, anyone else?

What is the license status of these metrics?

Regards, Frank


P.S. For the Debian folks only, is it acceptable for Debian to have
Type1 fonts which are well modifyable, but not the historical MetaFont
source?  
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Thu May 24 19:47:20 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 24 May 2007 14:47:20 -0300
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <465429C7.6050805@oucs.ox.ac.uk>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
Message-ID: <22af238a0705241047v3c0ef4b7xafae479672b6cdbf@mail.gmail.com>

On 5/23/07, Sebastian Rahtz <sebastian.rahtz at oucs.ox.ac.uk> wrote:

> I do wonder whether all this is worth the effort. I know
> 4 hours is horribly slow, but you only do it once a year.
> Of course, if its easy to rewrite the install scripts
> to be more efficient, that's great, but not if it
> takes weeks of work.

It isn't clear to me that "live" is compatible with rapid install.
I started a Windows install an hour ago using Msys with
install-tl.sh and it just started copying (it actually found
msys' tar to be acceptable).  There is no indication of any
problem with the disk, so people who report lots of drive
noise may have bad media or other hardware problems.
The tar copy is not going to be fast as the drive light is
off quite a bit of the time.

So far there were only a few glitches with Msys (remembering that
the jobs is still running):

1.  Msys lacks "more", so I had to "cp less.exe more.exe"
2.  Msys lacks "clear"
3.  you have to know that /c/texlive is the Msys name for C:\TeXLive

Many Windows users expect to reinstall applications early
and often. Some applications have conflicts, so SOP is to
install app A until you need app B, then uninstall A and install B.
When you have a problem the first thing Windows support people
tell you is "redo from start".   This attitude is often carried over
to *X, so I suspect many linux users also expect to install often.

For linux there are users who install new distros every few
months (e.g., because they maintain some app that needs
to be ported to the most recent gnome/kde before 1000's
of users start reporting bugs).

> Someone doing it for many machines would surely
> copy from the DVD first? And anyone in a system
> capacity serving many users would surely be
> using some sort of packaging system? or am
> I being naive?

The target for DVD installs is the user group member who
has limited internet bandwidth and gets the live DVD
in the mail.

Disk space is cheap.  Maybe the best compromise is to
make install-tl copy selected binary dirs along with
the full texmf trees.  This would save the hour needed to
construct the file lists, and the copies should be much
faster.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From bop at bop.com.pl  Thu May 24 15:48:29 2007
From: bop at bop.com.pl (bop at bop.com.pl)
Date: Thu, 24 May 2007 15:48:29 +0200
Subject: [tex-live] Latin Modern bug in lm-texnansi-os.enc
Message-ID: <200705241348.l4ODmTWr028994@melmak.server.pl>

Hi,

> On the ConTeXT mailing list, Idris posted some messages because he was
> trying to use oldstyle numerals in the latest Latin Modern release,
> and was experiencing two pretty big problems:
> 
>    * really bad kerning around the oldstyle numerals

We would be grateful if we could get more details (which font, which tfm,
which
encoding, pdftex or tex/dvips, on the screen or on the paper, etc.) My first
guess is that proportional figures were used with tabular metrics...

>    * pdftex generated errors for the typewriter fonts, complaining
>      "glyph `one.oldstyle' undefined" etc.

Yeah... This is the result of our decision to comply with the currently
obeying
naming conventions (better to say: fashion). The oldstyle figures that appear
in
ts1 (text companion) encoding are actually *.taboldstyle; the names *.oldstyle
are reserved for proportional glyphs. We included also proportional oldstyle
figures in LMs (and in the TeX Gyre fonts).

> The implementation of 'automatic' oldstyle numbers in ConTeXt uses a
> set of encoding files that used to ship with LM (lm-xxxxxx-os.enc).
> By way of a map file fragment, this allows to switch the fonts
> 'en masse' from lining to oldstyle (and back) without the need for
> special metric files, which is a pretty nice feature.

Don't understand -- the vertical oldstyle digits, in general, have different
metric data (tabular digits differ only with respect to vertical dimensions).
So, the replacement of the encoding implies the replacement of TFMs. Or I
misundersood something.
 
> Those encoding files now apparently obsolete: they still refer to
> glyphs named e.g. `one.oldstyle', whereas in the current release of
> the LM fonts it really should be `one.taboldstyle'.

Yes, as I explained above.

> While writing a bug report, I noticed that these encoding files are no
> longer in the font distribution

No. We have a lot enough of TFMs and I'd be reluctant to add more. The only
resort I can see is to use OTFs...

> Is this trick to get oldstyle now officially unsupported?

Rather not, I've just learned about it. ;-)

> because there are no oldstyle-using TFM files in the LM
> distribution either ...

There are. As I mentioned, ts1 encoding contains oldstyle tabular figures.
Perhaps accessing them needs other tricks, but as long as 256-glyph fonts are
to be used, some glyphs must be accessed clumsily. e.g., proportional digits
(normal and oldstyle).

Cheers -- Jacko

From gnwiii at gmail.com  Thu May 24 20:10:54 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 24 May 2007 15:10:54 -0300
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <18004.42634.263489.127653@zarniwoop.ms25.local>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de> <46544B99.5050901@wxs.nl>
	<18004.42634.263489.127653@zarniwoop.ms25.local>
Message-ID: <22af238a0705241110u1ec18e46x3d1d0913f86ac82a@mail.gmail.com>

On 5/23/07, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
> >>>>> "Hans" == Hans Hagen <pragma at wxs.nl> writes:
>
>   > well, in the case of such fresh hardware with enough disk space
>   > i'd copied the whole lot (texmf/texmf-dist) from dvd to disk and
>   > not bothered about subsets or packages apart from the binaries;
>   > copying a dvd directly should be no big deal;
>
> I made a test yesterday and there is no significant difference between
> using the installer or copying the files to the disk.

How long did it take the installer to create the file lists?

> What certainly matters is the order in which files are written to the
> image.  If they are written in the same order as they are read, it is
> quite likely that installation will be much faster.

But running tex from the live DVD might be slower than if they were
ordered for that purpose.

> Anyway, at EuroTeX-2007 Norbert made a few proposals and already
> provided some code.  I think that the installer has to be changed
> anyway and things like that can be kept in mind.
>
> BTW, some time ago Thomas Esser told me that Knoppix developers have
> exactly the same problem and that they had written a tool which solves
> exactly this problem.  I don't remember any details, maybe even Thomas
> doesn't remember because we talked about it at least two years ago.

http://www.tina-vision.net/tina-knoppix/remastering.html explains how to
use the -sort option of mkisofs to order files.  If one was to apply this to
a live DVD, however, I'd suggest sorting for optimal performance on typical
latex tasks rather than to make installs go faster.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From reinhard.kotucha at web.de  Thu May 24 23:06:51 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 24 May 2007 23:06:51 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070524104040.GA27082@gamma.logic.tuwien.ac.at>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
Message-ID: <18005.65131.149857.479895@zarniwoop.ms25.local>

>>>>> "Norbert" == Norbert Preining <preining at logic.at> writes:

  > CAN WE PLEASE STOP THIS USELESS META DISCUSSION?????

I find this discussion quite amusing.  I did not expect such a huge
discussion when I said that I'm happy with the shell script we
currently have.

Regarding quoting of file names:  You have to be careful in Perl too.

  > But anyway, I have already written the Perl modules.

Great!  I also think that Perl is the best choice.  It's good that you
made this decision.
______________________
#!/bin/sh
while true; do
  echo "thank you!"
done
______________________

  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Thu May 24 23:10:04 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 24 May 2007 16:10:04 -0500
Subject: [tex-live] Removed mathtime fonts -> missing metrics for belleek
In-Reply-To: <87abvu2k3j.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <200705242110.l4OLA4I04058@f7.net>

I find the belleek/mathtime situation completely confusing and
confused.  I do not know what to do.

Obviously, the goal for TL is to support belleek.  Unfortunately, I was
told most of the metrics and packages are for mathtime and did not work
for belleek.  That's why I took them out.

A thorough review of the situation would be very helpful, so that we can
properly support belleek in TL.

> What is the license status of these metrics?

I do not know if we ever actually had a good license statement for these
metrics (or lots of others).

> times-like math in Plain TeX

Another alternative is to do whatever is done by the latex mathptmx
package, although I imagine the result is less complete than belleek.

karl

From gnwiii at gmail.com  Thu May 24 23:16:35 2007
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 24 May 2007 18:16:35 -0300
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <853b1m3pr2.fsf@lola.goethe.zz>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de> <46544B99.5050901@wxs.nl>
	<18004.42634.263489.127653@zarniwoop.ms25.local>
	<22af238a0705241110u1ec18e46x3d1d0913f86ac82a@mail.gmail.com>
	<853b1m3pr2.fsf@lola.goethe.zz>
Message-ID: <22af238a0705241416l1f498d1t6a264f3daf190dd8@mail.gmail.com>

On 5/24/07, David Kastrup <dak at gnu.org> wrote:

> "George N. White III" <gnwiii at gmail.com> writes:
>
> > http://www.tina-vision.net/tina-knoppix/remastering.html explains
> > how to use the -sort option of mkisofs to order files.  If one was
> > to apply this to a live DVD, however, I'd suggest sorting for
> > optimal performance on typical latex tasks rather than to make
> > installs go faster.
>
> Putting things close on the DVD that belong to the same package and/or
> collection does not sound like it would harm live performance.

Within a package you have docs (rarely accessed) and macros
(accessed in every run that uses the package).   With a decent OS,
however, repeated runs should benefit from cache, so file placement
may not have a big impact for typical processing.

One possibility is to generate a sort order for the DVD based on
whatever criteria seems best, then use that with the file lists to
generate lists that are in the DVD's ordering.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From dak at gnu.org  Thu May 24 22:56:01 2007
From: dak at gnu.org (David Kastrup)
Date: Thu, 24 May 2007 22:56:01 +0200
Subject: [tex-live] The suggestions (from tex-d-l) (Re: Comment on Re:
	TeXLive-CD/DVD (Installation))
In-Reply-To: <22af238a0705241110u1ec18e46x3d1d0913f86ac82a@mail.gmail.com>
	(George N. White, III's message of "Thu\,
	24 May 2007 15\:10\:54 -0300")
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<20070523100320.GH335@first.in-berlin.de>
	<20070523111552.GA579@first.in-berlin.de>
	<465429C7.6050805@oucs.ox.ac.uk>
	<20070523123337.GD732@first.in-berlin.de> <46544B99.5050901@wxs.nl>
	<18004.42634.263489.127653@zarniwoop.ms25.local>
	<22af238a0705241110u1ec18e46x3d1d0913f86ac82a@mail.gmail.com>
Message-ID: <853b1m3pr2.fsf@lola.goethe.zz>

"George N. White III" <gnwiii at gmail.com> writes:

> http://www.tina-vision.net/tina-knoppix/remastering.html explains
> how to use the -sort option of mkisofs to order files.  If one was
> to apply this to a live DVD, however, I'd suggest sorting for
> optimal performance on typical latex tasks rather than to make
> installs go faster.

Putting things close on the DVD that belong to the same package and/or
collection does not sound like it would harm live performance.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From rsnel at cube.dyndns.org  Thu May 24 21:48:52 2007
From: rsnel at cube.dyndns.org (rsnel at cube.dyndns.org)
Date: Thu, 24 May 2007 21:48:52 +0200
Subject: [tex-live] Removed mathtime fonts -> missing metrics for belleek
In-Reply-To: <87abvu2k3j.fsf@riesling.zuerich.kuesterei.ch>
References: <20070521200523.24646.85783.reportbug@localhost.localdomain>
	<871wh9mbnx.fsf@riesling.zuerich.kuesterei.ch>
	<20070522202423.GA6606@cube.dyndns.org>
	<87abvu2k3j.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070524194852.GA27207@cube.dyndns.org>

Hello Frank,

(Cc: tex-live, here is the Debian user stepping in with some additional info)

On Thu, May 24, 2007 at 07:43:28PM +0200, Frank K?ster wrote:
> [...]
>
> Now a Debian user complained and found what we were forgetting:
> 
> > Well, I use the 'belleek' fonts in texlive-fonts-extra as drop-in
> > replacement for the proprietary mathtime fonts. The font uses the
> > mathtime metrics and seems to have no metrics of it's own.
> > See: /usr/share/texmf-texlive/fonts/map/dvips/tetex/mt-belleek.map
> > and /usr/share/doc/texlive-fonts-extra/fonts/belleek/README
> > (cd /usr/share; find -name belleek, only type1 and truetype, no metrics)
> 
> I'm not completely sure how to do that, it's a bit more than activating
> mt-belleek.map, because with
> 
> \documentclass{article}
> \usepackage{mathtime}
> 
> \begin{document}
> 
> This is text, and this is math:
> 
> \begin{equation}
>   \label{eq:1}
>   \sqrt[3]{\frac{a}{\pi}} = c
> \end{equation}
> \end{document}
> 
> I still get errors on TL 2005, but the general scheme worked.  In TL
> 2007, mathtime.sty is missing, and also the metrics used for the belleek
> fonts. 

The instructions to get belleek working properly (which are on teTeX in
Etch not needed, because belleek is the default there (according to the
following README)) are in
/usr/share/doc/tetex-extra/texmf/fonts/belleek/README (from the package
tetex-extra in Etch).  (in short: activate mt-belleek.map instead of
mt-yy.map and mt-plus.map and 

----- (quoting from the README)
go to the tex/latex/mathtime subdirectory of the main texmf tree and
edit the files my1mtt.fd, my2mtt.fd and my3mtt.fd. In my1mtt.fd,
remove the lines that refer to the fonts "mtmib", "mtmih", "mtmub"
and "mtmuh". In my2mtt.fd, replace "mtsyn" by "mtsy" and remove
the lines that refer to "mtsyb" and "mtsyh". In my3mtt.fd, remove
the lines refer to "mtexb" and "mtexh".
----- (end quote)

(the editing of the .fd files is only needed to get LaTeX working, Plain
TeX only needs the .map file change)). 

BTW: in addition to the .tfm files, mtmi.vf (which was also removed) is 
also needed for mathtime+belleek to work properly.

According to
http://texcatalogue.sarovar.org/entries/mathtime-metrics.html, the
license of the mathtime metrics is unknown, which would probably mean
that Debian can't distribute them (if font metrics are copyrightable,
that is).

Greetings,

Rik.

-- 
Nothing is ever a total loss; it can always serve as a bad example.

From oliver at first.in-berlin.de  Fri May 25 09:48:06 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Fri, 25 May 2007 09:48:06 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <18005.65131.149857.479895@zarniwoop.ms25.local>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<863b1mbmt7.fsf@lola.quinscape.zz>
	<20070524101956.GA805@first.in-berlin.de>
	<20070524104040.GA27082@gamma.logic.tuwien.ac.at>
	<18005.65131.149857.479895@zarniwoop.ms25.local>
Message-ID: <20070525074806.GE348@first.in-berlin.de>

On Thu, May 24, 2007 at 11:06:51PM +0200, Reinhard Kotucha wrote:
> >>>>> "Norbert" == Norbert Preining <preining at logic.at> writes:
> 
>   > CAN WE PLEASE STOP THIS USELESS META DISCUSSION?????
> 
> I find this discussion quite amusing.  I did not expect such a huge
> discussion when I said that I'm happy with the shell script we
> currently have.
> 
> Regarding quoting of file names:  You have to be careful in Perl too.
[...]

The user does not create names from within Perl.
He works on the shell or with a GUI.

So the working environment in use is what we discuss about.

But when you have read in a name in Perl or in C via Unix-API
then you have it fixed in a string. That was, what I meant.
Then normally this will not be touched again. You work with
the string operations you have at hand, and so there is no
escaping/quoting problem.

If the filenames will be passed through shells again and again
instead, nested levels of quoting/escqping are needed.

This is the diffrence I spoke about.

If you have the name caught in a string or variable,
best choice is, to work with it directly, not to pass it around
to a shell or many shells.

So in this respect the shells are making the problem what we talked
about.

> 
>   > But anyway, I have already written the Perl modules.
> 
> Great!  I also think that Perl is the best choice.  It's good that you
> made this decision.

Even if I would prefer OCaml in general, as there now already is
running Perl code, I jump in there.
And Perl is a good choice for such tasks.

> ______________________
> #!/bin/sh
> while true; do
>   echo "thank you!"
> done


hehe :)


Ciao,
   Oliver

From zdenek.wagner at gmail.com  Fri May 25 09:59:39 2007
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 25 May 2007 09:59:39 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <20070525074025.GD348@first.in-berlin.de>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>
	<85r6p65f5p.fsf@lola.goethe.zz>
	<20070525074025.GD348@first.in-berlin.de>
Message-ID: <8719b6240705250059p1ee3b287o9c19762f4733fbee@mail.gmail.com>

2007/5/25, Oliver Bandel <oliver at first.in-berlin.de>:
> On Thu, May 24, 2007 at 07:01:54PM +0200, David Kastrup wrote:
> > "Zdenek Wagner" <zdenek.wagner at gmail.com> writes:
> >
> [...]
> > > #!/bin/bash
> > > echo "Number of parameters = $#"
> > > if [ $# -eq 1 ]
> > > then
> > >  ./param $1
> > > fi
> > >
> > > If you call it with an escaped space within the first parameter, you'll get:
> > >
> > > [wagner at cluster1 wagner]$ ./param some\ text
> > > Number of parameters = 1
> > > Number of parameters = 2
> > >
> > > Beware! If you call this script with one parameter, you will fall into
> > > an endless loop!
> >
> > Nonsense.  You don't need to "reescape".  All you need is properly
> > quote:
> >
> > ./param "$1"
> >
> > That's all.  Or
> >
> > ./param "$@"
> >
> [...]
>
> What is param?

That's the name of the small sample script in this mail.
>
> first:~ oliver$ param
> -bash: param: command not found
> first:~ oliver$
>
> Ciao,
>    Oliver
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From oliver at first.in-berlin.de  Fri May 25 09:40:25 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Fri, 25 May 2007 09:40:25 +0200
Subject: [tex-live] Comment on Re: TeXLive-CD/DVD (Installation)
In-Reply-To: <85r6p65f5p.fsf@lola.goethe.zz>
References: <CMM.0.95.0.1179882893.beebe@sunburst.math.utah.edu>
	<22af238a0705230705i238e4c90h6db40032c0c1cb1@mail.gmail.com>
	<861wh7d3e4.fsf@lola.quinscape.zz> <46547898.1080504@wxs.nl>
	<20070524090622.GB334@first.in-berlin.de>
	<8719b6240705240221s702fb192j6c277a1100b4bad1@mail.gmail.com>
	<85r6p65f5p.fsf@lola.goethe.zz>
Message-ID: <20070525074025.GD348@first.in-berlin.de>

On Thu, May 24, 2007 at 07:01:54PM +0200, David Kastrup wrote:
> "Zdenek Wagner" <zdenek.wagner at gmail.com> writes:
> 
[...]
> > #!/bin/bash
> > echo "Number of parameters = $#"
> > if [ $# -eq 1 ]
> > then
> >  ./param $1
> > fi
> >
> > If you call it with an escaped space within the first parameter, you'll get:
> >
> > [wagner at cluster1 wagner]$ ./param some\ text
> > Number of parameters = 1
> > Number of parameters = 2
> >
> > Beware! If you call this script with one parameter, you will fall into
> > an endless loop!
> 
> Nonsense.  You don't need to "reescape".  All you need is properly
> quote:
> 
> ./param "$1"
> 
> That's all.  Or
> 
> ./param "$@"
> 
[...]

What is param?

first:~ oliver$ param
-bash: param: command not found
first:~ oliver$ 

Ciao,
   Oliver

From kohda at pm.tokushima-u.ac.jp  Fri May 25 12:21:45 2007
From: kohda at pm.tokushima-u.ac.jp (Atsuhito Kohda)
Date: Fri, 25 May 2007 19:21:45 +0900 (JST)
Subject: [tex-live] The suggestions (from tex-d-l)
In-Reply-To: <87iraiig5u.fsf@riesling.zuerich.kuesterei.ch>
References: <87abvujyrw.fsf@riesling.zuerich.kuesterei.ch>
	<68c491a60705240339y26e92b3eof7ff89f40445e621@mail.gmail.com>
	<87iraiig5u.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <20070525.192145.74746494.kohda@pm.tokushima-u.ac.jp>

On Thu, 24 May 2007 14:01:49 +0200, Frank K?ster wrote:

> > SUSE 10.2 has one. But debian 3.1 hasn't. Is 4.0 the first LSB-compliant debian?
> 
> My Debian system doesn't have a lsb_release.  

Only FYI.  A changelog file of base-files in Ubunts;

base-files (4ubuntu1) feisty; urgency=low

  * Resynchronise with Debian. Remaining changes:
    - Branding changes.
    - Add /etc/lsb-release file.
    ...
 -- Colin Watson <cjwatson at ubuntu.com>  Wed, 20 Dec 2006 15:54:41 +0000

and the current version is (4ubuntu2) so I can't see any 
particular meaning of missing /etc/lsb-release in Debian.

Regards,		      2007-5-25(Fri)

-- 
 Debian Developer & Debian JP Developer - much more I18N of Debian
 Atsuhito Kohda <kohda AT debian.org>
 Department of Math., Univ. of Tokushima

From bop at bop.com.pl  Fri May 25 12:47:47 2007
From: bop at bop.com.pl (bop at bop.com.pl)
Date: Fri, 25 May 2007 12:47:47 +0200
Subject: [tex-live] Latin Modern bug in lm-texnansi-os.enc
In-Reply-To: <4655B5C2.5000801@elvenkind.com>
References: <200705241348.l4ODmTWr028994@melmak.server.pl>
	<4655B5C2.5000801@elvenkind.com>
Message-ID: <200705251047.l4PAllV6004825@melmak.server.pl>

Hi,

BJ> My first guess is that proportional figures were used with tabular
BJ> metrics...

TH> The tabular lining figures are replaced by oldstyle figures by
TH> means of an encoding file only. This worked fine (because the
TH> oldstyle figures were tabular as well).

TH> The height and depth are normally not all that important to TeX,
TH> and with the widths the same, there was no need for a different
TH> metrics file, just a single encoding file is enough to give all the
TH> LM fonts oldstyle (tabular) figures instead of lining figures.

Well, let me travesty my favorite "The Hunting of the Snark" by
Lewis Carroll:

  The fourth is its fondness for encoding engines,
       Which is constantly carries about,
  And believes that they add to the beauty of scenes---
       A sentiment open to doubt.

;-)

TH> This trick broke when the tabular oldstyle figures were renamed
TH> and proportional oldstyle figures were added

Unavoidably.

TH> Well, can you please consider starting to support it
TH> [the trick] then? ;-)

If you are satisfied with the bunch of extra encodings of this sort (I
wouldn't
be ;-) , I can add them to the zip file for context that we release anyway.
Recall that so far they contain map files:

  fonts/map/pdftex/context/
  fonts/map/pdftex/context/cs-lm.map
  fonts/map/pdftex/context/ec-lm.map
  fonts/map/pdftex/context/el-lm.map
  fonts/map/pdftex/context/l7x-lm.map
  fonts/map/pdftex/context/qx-lm.map
  fonts/map/pdftex/context/rm-lm.map
  fonts/map/pdftex/context/texnansi-lm.map
  fonts/map/pdftex/context/t5-lm.map
  fonts/map/pdftex/context/ts1-lm.map

TH> The trick I explained above works surprisingly well (even if the figures
TH> are tabular, not proportional).

ONLY if they are tabular. If the substitution uses proportional ones, i.e.,
named *.oldstyle, the estehical disaster is bound to ensue.

> I would not have bothered you at all, as it was not your problem
> to begin with. But that's life ...

Once I understand the problem, I can easily tune up the engine that
prepares the distribution bundle.

Is it an urgent matter? That is, would you like mi to replace the
ConTeXt-oriented packages (in all fonts we distribute) as soon as
possible or we can do it succesively with the new releases?

Cheers -- Jacko

From gnwiii at gmail.com  Fri May 25 16:21:11 2007
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 25 May 2007 11:21:11 -0300
Subject: [tex-live] Removed mathtime fonts -> missing metrics for belleek
In-Reply-To: <200705242110.l4OLA4I04058@f7.net>
References: <87abvu2k3j.fsf@riesling.zuerich.kuesterei.ch>
	<200705242110.l4OLA4I04058@f7.net>
Message-ID: <22af238a0705250721y14fb66f9hd3ca4358fc09b4d8@mail.gmail.com>

On 5/24/07, Karl Berry <karl at freefriends.org> wrote:

> I find the belleek/mathtime situation completely confusing and
> confused.  I do not know what to do.
>
> Obviously, the goal for TL is to support belleek.  Unfortunately, I was
> told most of the metrics and packages are for mathtime and did not work
> for belleek.  That's why I took them out.

For the sake of transparency, it would be better to have a belleek package
independent of mathtime, but someone would have to write it, and I'm not
sure enough people would benefit to make it worth the effort.

There are a couple reasons to use belleek fonts.

1) someone ends up with sources of a document that uses mathtime.
While it is convenient that they can format the document without the
real fonts, it may also be confusing since they don't realize that
they aren't using the same fonts.
In practice, many documents written using mathtime use a few glyphs
from mathtime pro, so can't be formatted using belleek anyway.

2) someone is preparing a document that requires Times for the body
font and they want a compatible math font.  There are several
alternatives (both free and commercial) discussed at
<http://www.tex.ac.uk/cgi-bin/texfaq2html?label=psfchoice>

STIX is promising release "real soon now" (TM) and has also said they will
have TeX support.

> A thorough review of the situation would be very helpful, so that we can
> properly support belleek in TL.
>
> > What is the license status of these metrics?
>
> I do not know if we ever actually had a good license statement for these
> metrics (or lots of others).
>
> > times-like math in Plain TeX
>
> Another alternative is to do whatever is done by the latex mathptmx
> package, although I imagine the result is less complete than belleek.

I think mathptmx provides more glyphs, but this was achieved at the
expense of consistency.   Mathptmx would indeed be the place to start
if someone wanted to produce a belleek package.

http://ctan.tug.org/tex-archive/info/Free_Math_Font_Survey/survey.html
lets you view belleek and mathptmx together.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From Robin.Fairbairns at cl.cam.ac.uk  Fri May 25 17:43:48 2007
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri, 25 May 2007 16:43:48 +0100
Subject: [tex-live] Removed mathtime fonts -> missing metrics for belleek
In-Reply-To: Your message of Fri, 25 May 2007 11:21:11 -0300.
	<22af238a0705250721y14fb66f9hd3ca4358fc09b4d8@mail.gmail.com> 
Message-ID: <8485.1180107828@mole.cl.cam.ac.uk>

George N. White III <gnwiii at gmail.com> wrote:

> On 5/24/07, Karl Berry <karl at freefriends.org> wrote:
> > I find the belleek/mathtime situation completely confusing and
> > confused.  I do not know what to do.
> >
> > Obviously, the goal for TL is to support belleek.  Unfortunately, I was
> > told most of the metrics and packages are for mathtime and did not work
> > for belleek.  That's why I took them out.
> 
> For the sake of transparency, it would be better to have a belleek package
> independent of mathtime, but someone would have to write it, and I'm not
> sure enough people would benefit to make it worth the effort.
> 
> There are a couple reasons to use belleek fonts.
> 
> 1) someone ends up with sources of a document that uses mathtime.
> While it is convenient that they can format the document without the
> real fonts, it may also be confusing since they don't realize that
> they aren't using the same fonts.
> In practice, many documents written using mathtime use a few glyphs
> from mathtime pro, so can't be formatted using belleek anyway.

so we forget these documents as justification

> 2) someone is preparing a document that requires Times for the body
> font and they want a compatible math font.  There are several
> alternatives (both free and commercial) discussed at
> <http://www.tex.ac.uk/cgi-bin/texfaq2html?label=psfchoice>

which hasn't been kept up-to-date -- there has been a flood of recent
outline fonts that offer maths support.  i'm not at all sure what to do
about this -- the faq answer is already over-long, but i guess i just
have to plod on in there and extend it.

> STIX is promising release "real soon now" (TM) and has also said they will
> have TeX support.

ho ho ho.  they've been promising release "real soon now" as long as
i've been watching their web site.  (an excellent alternative to drying
paint for those calming-down moments.)

sure, it will be nice to see stix with tex support.  but i'm not holding
my breath.

> > A thorough review of the situation would be very helpful, so that we can
> > properly support belleek in TL.
> >
> > > What is the license status of these metrics?
> >
> > I do not know if we ever actually had a good license statement for these
> > metrics (or lots of others).
> >
> > > times-like math in Plain TeX
> >
> > Another alternative is to do whatever is done by the latex mathptmx
> > package, although I imagine the result is less complete than belleek.
> 
> I think mathptmx provides more glyphs, but this was achieved at the
> expense of consistency.   Mathptmx would indeed be the place to start
> if someone wanted to produce a belleek package.

i would regard mathptmx as a guideline rather than a basis: there are
lots of things belleek has that mathptmx substitutes.

> http://ctan.tug.org/tex-archive/info/Free_Math_Font_Survey/survey.html
> lets you view belleek and mathptmx together.

the differences are small but telling, imo.  i wonder how stix will look
in such company.

robin

From gnwiii at gmail.com  Fri May 25 18:08:12 2007
From: gnwiii at gmail.com (George N. White III)
Date: Fri, 25 May 2007 13:08:12 -0300
Subject: [tex-live] Removed mathtime fonts -> missing metrics for belleek
In-Reply-To: <8485.1180107828@mole.cl.cam.ac.uk>
References: <22af238a0705250721y14fb66f9hd3ca4358fc09b4d8@mail.gmail.com>
	<8485.1180107828@mole.cl.cam.ac.uk>
Message-ID: <22af238a0705250908i7f757621m6b86dc86bb5d8405@mail.gmail.com>

On 5/25/07, Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> George N. White III <gnwiii at gmail.com> wrote:

> > I think mathptmx provides more glyphs, but this was achieved at the
> > expense of consistency.   Mathptmx would indeed be the place to start
> > if someone wanted to produce a belleek package.
>
> i would regard mathptmx as a guideline rather than a basis: there are
> lots of things belleek has that mathptmx substitutes.

What I meant was to substitute belleek fonts in those places where it
improves (in the opinion of the gal what does the work!) on  mathptmx.
I suppose someone cleverer about fonts and latex could provide options
to choose which of the belleek fonts would be used, so you could adjust
the mix to suit yourself.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From george.pearson at mackichan.com  Fri May 25 19:09:10 2007
From: george.pearson at mackichan.com (George Pearson)
Date: Fri, 25 May 2007 11:09:10 -0600
Subject: [tex-live] The search path
Message-ID: <029f01c79eef$6c3ce150$d326a8c0@Kehua>

I want to add some existing directory trees to the input search path (rather
than copying the files to be below the current search path) to a TeXLive2007
installation.  This is under a Windows installation, if that matters (which
I don't think it should).

I have edited c:\TeXLive2007\texmf-var\web2c\texmf.cnf to add a new
definition that contains the directories that I wish to search.  

I then add my definition to TEXINPUTS.  I can then use kpsewhich and a file
in my directory tree is found.  I can use "kpsewhich -show-path=latex" and
see that my directory is in the search path.  However, until I update
TEXINPUTS.latex files are not found in the new directory (when running
latex, the appropriate TEXINPUTS.program needs to be updated for other
programs).

Is this expected, or am I doing something wrong?

Thanks.

George Pearson



From frank at kuesterei.ch  Fri May 25 19:32:37 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Fri, 25 May 2007 19:32:37 +0200
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
Message-ID: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>

A non-text attachment was scrubbed...
Name: texdoc-ls_R.patch
Type: text/x-diff
Size: 1626 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070525/3b6d8bf4/attachment.bin 
-------------- next part --------------

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From luecking at uark.edu  Fri May 25 20:00:17 2007
From: luecking at uark.edu (Dan Luecking)
Date: Fri, 25 May 2007 13:00:17 -0500
Subject: [tex-live] texhash and dvips bugs
Message-ID: <200705252000.l4PK0QtQ022607@comp.uark.edu>


Hello:

I have written about these things on comp.text.tex but they have
generated no comments. I am not sure they qualify as bugs, but
certainly the behavior has changed and I'm not sure why. As no
one has offered explanations or work-arounds, I report them to you.

I use TeXLive2007 on a windows XP system.

1. Texhash and mktexlsr no longer produce the same ls-R file. The
former writes a different string at the head of the file. Then
fmtutil complains of the wrong "magic string" and won't make the
formats.

Also mktexlsr no longer accepts a directory argument (indicating
which directory's database to update). This was a useful shortcut
for use after adding files to only one tree.

2. dvips -z (for generating pdfmarks) now leaves temporary files
head.tmp and body.tmp after it is done. One supposes they should
be cleaned up (unless perhaps the -d option is used).

3. The installation program for windows will not go into install
mode if a previous TeXLive is present. It is not clear how much
(if any) of the previous installation needs to be removed. I found
that removing the binary directory from PATH helped, though I can't
say if that would be sufficient or even if it is always necessary.
It seems to me there ought to be an option to force install mode or
at least there should be some documentation of what needs to be
done (preferably something short of complete removal of the old
installation) to get the installation to proceed.

Now a wishlist:

1. More visible documentation of changes in default configurations
between TeXLive versions would be helpful. Something seems to
change with every upgrade. This time:
-- TEXMFLOCAL = $SELFAUTOPARENT/texmf-local changed to to
    TEXMFLOCAL = $SELFAUTOPARENT/../texmf-local
-- fmtutil puts the formats in an $engine subdirectory.
-- fmtutil doesn't keep .log files by default
It might be believed (as live.pdf says) that some these changes
are "transparent" to the user, but they are not to all users.

2. Some utility in windows to read the files in the doc/man
directories (or alternate formats of this documentation--even
plain text). I have not yet succeeded in getting a man clone
working in windowsXP.

I must add that TeXLive2007 is still a wonderful packaging of TeX.
Thanks for the good work.

Sincerely,


Daniel H. Luecking
Department of Mathematical Sciences
University of Arkansas
"I reject your reality, and substitute my own" --Adam Savage


From f.rougon at free.fr  Fri May 25 21:44:28 2007
From: f.rougon at free.fr (Florent Rougon)
Date: Fri, 25 May 2007 21:44:28 +0200
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
In-Reply-To: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch> (Frank
	=?iso-8859-1?Q?K=FCster's?=
	message of "Fri, 25 May 2007 19:32:37 +0200")
References: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <87myzslmcj.fsf@florent.maison>

Hi,

Frank K?ster <frank at kuesterei.ch> wrote:

> The attached patch does that, except that I don't know whether 
>
> tree=${database%ls-R}
>
> is portable (would have to use echo | sed instead).
>

As you see here, it is in POSIX:

  http://www.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_02

-- 
Florent

From kakuto at fsci.fuk.kindai.ac.jp  Sat May 26 01:11:25 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 26 May 2007 08:11:25 +0900
Subject: [tex-live] texhash and dvips bugs
In-Reply-To: Your message of "Fri, 25 May 2007 13:00:17 -0500"
References: <200705252000.l4PK0QtQ022607@comp.uark.edu>
Message-ID: <200705252311.l4PNBQQs003331@jupiter.fsci.fuk.kindai.ac.jp>

[...]
> I use TeXLive2007 on a windows XP system.
> 
> 1. Texhash and mktexlsr no longer produce the same ls-R file. The
> former writes a different string at the head of the file. Then
> fmtutil complains of the wrong "magic string" and won't make the
> formats.

That is a packaging mistake.
Please copy mktexlsr.exe texhash.exe.
(This should be written in http://tug.org/texlive/bugs.html)

> Also mktexlsr no longer accepts a directory argument (indicating
> which directory's database to update). This was a useful shortcut
> for use after adding files to only one tree.

Many thanks for pointing out this problem.

-- 
Akira Kakuto

From hartmut_henkel at gmx.de  Sat May 26 12:35:23 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sat, 26 May 2007 12:35:23 +0200 (CEST)
Subject: [tex-live] binaries in texlive/texmf-local/bin?
Message-ID: <alpine.DEB.0.99.0705261228410.19933@hahepc1.hahe>

Hi,

normally i throw freshly compiled local binaries (pdftex, metapost,
luatex) just into texlive/2007/bin/<architecture> where they overwrite
the original ones, which is somehow messy. Is there some way instead to
put them into texlive/texmf-local/bin, so that the rest of the
texlive/2007 tree can still be used?

Regards, Hartmut

From kakuto at fsci.fuk.kindai.ac.jp  Sat May 26 13:13:11 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 26 May 2007 20:13:11 +0900
Subject: [tex-live] binaries in texlive/texmf-local/bin?
In-Reply-To: Your message of "Sat, 26 May 2007 12:35:23 +0200 (CEST)"
References: <alpine.DEB.0.99.0705261228410.19933@hahepc1.hahe>
Message-ID: <200705261113.l4QBDC2v005562@jupiter.fsci.fuk.kindai.ac.jp>

> normally i throw freshly compiled local binaries (pdftex, metapost,
> luatex) just into texlive/2007/bin/<architecture> where they overwrite
> the original ones, which is somehow messy. Is there some way instead to
> put them into texlive/texmf-local/bin, so that the rest of the
> texlive/2007 tree can still be used?

If you use texlive/2007/bin/mybin for fresh binaries,
$SELFAUTOPARENT and $SELFAUTODIR are the same as those
for texlive/2007/bin/<architexture>. Thus binaries in
both directories can be used.

-- 
Akira Kakuto

From hartmut_henkel at gmx.de  Sat May 26 13:15:55 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sat, 26 May 2007 13:15:55 +0200 (CEST)
Subject: [tex-live] binaries in texlive/texmf-local/bin?
In-Reply-To: <200705261113.l4QBDC2v005562@jupiter.fsci.fuk.kindai.ac.jp>
References: <alpine.DEB.0.99.0705261228410.19933@hahepc1.hahe>
	<200705261113.l4QBDC2v005562@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <alpine.DEB.0.99.0705261314130.1881@hahepc1.hahe>

Hi Akira,

On Sat, 26 May 2007, Akira Kakuto wrote:

> > normally i throw freshly compiled local binaries (pdftex, metapost,
> > luatex) just into texlive/2007/bin/<architecture> where they
> > overwrite the original ones, which is somehow messy. Is there some
> > way instead to put them into texlive/texmf-local/bin, so that the
> > rest of the texlive/2007 tree can still be used?
>
> If you use texlive/2007/bin/mybin for fresh binaries, $SELFAUTOPARENT
> and $SELFAUTODIR are the same as those for
> texlive/2007/bin/<architexture>. Thus binaries in both directories can
> be used.

oh, that's a neat solution, many thanks!

Regards, Hartmut

From daleif at imf.au.dk  Sat May 26 17:49:20 2007
From: daleif at imf.au.dk (Lars Madsen)
Date: Sat, 26 May 2007 17:49:20 +0200 (CEST)
Subject: [tex-live] bibtex tools in TL
Message-ID: <Pine.LNX.4.64.0705261746320.15331@boromir.imf.au.dk>


The LaTeX companion, 2nd edition describes various tools for manipulating 
.bib files, for example for extracting all @article's

why aren't tools like bibextract and bibtool present in TL?

as far as I know both are GPL'ed.

/daleif

From gnwiii at gmail.com  Sat May 26 17:50:46 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 26 May 2007 12:50:46 -0300
Subject: [tex-live] binaries in texlive/texmf-local/bin?
In-Reply-To: <alpine.DEB.0.99.0705261228410.19933@hahepc1.hahe>
References: <alpine.DEB.0.99.0705261228410.19933@hahepc1.hahe>
Message-ID: <22af238a0705260850k5bd4d324qa6092482e3543f9d@mail.gmail.com>

On 5/26/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:

> normally i throw freshly compiled local binaries (pdftex, metapost,
> luatex) just into texlive/2007/bin/<architecture> where they overwrite
> the original ones, which is somehow messy. Is there some way instead to
> put them into texlive/texmf-local/bin, so that the rest of the
> texlive/2007 tree can still be used?

Why is it messy to replace old binaries?

One reason to keep old binaries is for situations  where you want to
compare a new version against the release version.  You have to
worry about pool files and formats as well as the binaries.

Another reason is to use updates with a texlive/2007 tree mounted
read-only (e.g., via NFS share or a loop mount of the "live" .iso
file).

On linux, one way to handle versioning is with the unionfs
<http://www.am-utils.org/project-unionfs.html>
which allows you to overlay new versions over
an existing tree.  This is slated to become part of the standard
linux kernel, but at present you have to patch the kernel sources
unless it is included in your distro (many "live" distros use
unionfs to overlay the read-only filesystem with a writable
ram-based filesystem so you can run with patches applied
in a startup script)

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From daleif at imf.au.dk  Sat May 26 18:03:11 2007
From: daleif at imf.au.dk (Lars Madsen)
Date: Sat, 26 May 2007 18:03:11 +0200 (CEST)
Subject: [tex-live] Bug in fourier-bb
Message-ID: <Pine.LNX.4.64.0705261753470.15475@boromir.imf.au.dk>


Back in July 2006 I wrote about an error in the fourier-bb font, which is 
only present when one uses fourier when producing EPS files using dvips

That error is still present in the fourier found in TL 2007.

Here is a minimal example that was created on ctt when I asked about it 
back in July

\nopagenumbers
\font\try=fourier-bb
\try N
\bye

then run

tex test.tex
dvips -E -o test.eps test.dvi

and have a look at the size of the EPS.

It is a problem in the fourier-bb.tfm, it is missing fontdimes (or what 
ever).

By private email from Michel Bovani I got an updated version that solves 
the problem. But that version has not been released to CTAN which of 
course might be problematic for other people.

Michel Bovani was hoping to be able t make a new release of fourir in 
september 2006. But there has been nothing heard since.

I have also tried contacting Michel a few months ago with no reply.

How do we proceed on this case? I have the fixed file, but I am pretty 
sure that I'm not allowed to publish it.

/daleif

From preining at logic.at  Sat May 26 18:38:26 2007
From: preining at logic.at (Norbert Preining)
Date: Sat, 26 May 2007 18:38:26 +0200
Subject: [tex-live] VAC till 3.6.
Message-ID: <20070526163826.GG24428@gamma.logic.tuwien.ac.at>

Hi all!

In case you don't know it by now I am away from computers for one week
of canyoning course in Switzerland. So don't expect anything from me in
these days.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
CLIXBY (adj.)
Politely rude. Briskly vague. Firmly uninformative.
			--- Douglas Adams, The Meaning of Liff

From gnwiii at gmail.com  Sat May 26 19:06:32 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 26 May 2007 14:06:32 -0300
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
In-Reply-To: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
References: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>

On 5/25/07, Frank K?ster <frank at kuesterei.ch> wrote:

> Hi all,
>
> with teTeX, I've been using "texdoc -s" a lot.  With a full texlive
> install, this is hardly usable, because it runs "find" over all
> $TEXMF/doc trees, which takes ages.  Of course if you use it a second
> time, it's much faster as long as the directories are cached, but you
> never want to use it the first time, not with utilities like "locate"
> present on your system.

I not sure what you mean.  Your script just looks in the last
texmf-tree.  The reason for using TEXDOCS is to ensure that
all the $TEXMF/doc trees are searched.

Unfortunately, kpsewhich --expand-path='$TEXDOCS'
gives directories under the top-level "doc" directory.

> I suggest that "texdoc -s" should use the ls-R database, just as usual
> texdoc does.  It's hard, however, to get the exactly same result as the
> current behavior only with shell scripting, because of the format of the
> ls-R database.  The approach I took was to search for directories that
> match first (that makes long listings more readable, anyway), and for
> non-directory files afterwards.
>
> The attached patch does that, except that I don't know whether
>
> tree=${database%ls-R}
>
> is portable (would have to use echo | sed instead).
>
> Comments?

I like that it lists the directories (I've been using a version hacked
to add a "-d" option that only looks for directories).

The loop to construct lsR_files:

      OLDIFS=$IFS
      IFS=':'
      for path in `kpsewhich --expand-path='$TEXMF'`; do
       lsR_files=$(eval TEXMFDBS=\$path kpsewhich ls-R)
      done
      IFS=$OLDIFS

saves only the last one.  Do you want to exclude the other
trees, or did you mean:

       lsR_files="$lsR_files $(env TEXMFDBS=$path kpsewhich ls-R)"

There are still performance problems.  Try to find the latin modern
docs:

"texdoc -s lmodern" doesn't help, but "texdoc -s lm" takes much too
long because the last kpathsea search is run for every lm*.tfm file!

What is needed is a way to select only the shortest prefixes from
"kpsewhich --expand-path='$TEXDOCS'" so that find isn't searching
the same places over and over:

$ kpsewhich --expand-path='$TEXDOCS' | tr ':' ' ' | wc
      1    1630  110497


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From gnwiii at gmail.com  Sun May 27 20:19:24 2007
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 27 May 2007 15:19:24 -0300
Subject: [tex-live] Bug in fourier-bb
In-Reply-To: <Pine.LNX.4.64.0705261753470.15475@boromir.imf.au.dk>
References: <Pine.LNX.4.64.0705261753470.15475@boromir.imf.au.dk>
Message-ID: <22af238a0705271119n3dc0e13redc7c62e001f7443@mail.gmail.com>

On 5/26/07, Lars Madsen <daleif at imf.au.dk> wrote:
>
> Back in July 2006 I wrote about an error in the fourier-bb font, which is
> only present when one uses fourier when producing EPS files using dvips
>
> That error is still present in the fourier found in TL 2007.
>
> Here is a minimal example that was created on ctt when I asked about it
> back in July
>
> \nopagenumbers
> \font\try=fourier-bb
> \try N
> \bye
>
> then run
>
> tex test.tex
> dvips -E -o test.eps test.dvi
>
> and have a look at the size of the EPS.

e.g., the size of the BoundingBox

> It is a problem in the fourier-bb.tfm, it is missing fontdimes (or what
> ever).
>
> By private email from Michel Bovani I got an updated version that solves
> the problem. But that version has not been released to CTAN which of
> course might be problematic for other people.

There are tools to create .tfm's (fontinst, afm2tfm).  Using "afm2tfm
fourier-bb.afm fourier-bb.tfm" produces a .tfm file that works for
your
example and is slightly larger (576 vs 560 bytes), has
"AdobeStandardEncoding" in place of "UNSPECIFIED" and the
name "Fourier-Math-BlackB" in place of a second "UNSPECIFIED".
The original .tfm produces slightly larger boxes in fontchart, so there
may be a problem with the .pfm file.

In general you want to use afm2tfm in conjunction with a TeX encoding
and vp2vf, but for such a limited set of glyphs it may be sufficient to
use afm2tfm alone, given a good .pfm.

> Michel Bovani was hoping to be able t make a new release of fourir in
> september 2006. But there has been nothing heard since.
>
> I have also tried contacting Michel a few months ago with no reply.
>
> How do we proceed on this case? I have the fixed file, but I am pretty
> sure that I'm not allowed to publish it.

Anyone who needs the fix will hopefully find this thread, try running
afm2tfm, and report back if something more is needed.  If Michel
Bovani doesn't surface perhaps a new maintainer will step forward.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From daleif at imf.au.dk  Sun May 27 20:29:33 2007
From: daleif at imf.au.dk (Lars Madsen)
Date: Sun, 27 May 2007 20:29:33 +0200 (CEST)
Subject: [tex-live] Bug in fourier-bb
In-Reply-To: <22af238a0705271119n3dc0e13redc7c62e001f7443@mail.gmail.com>
References: <Pine.LNX.4.64.0705261753470.15475@boromir.imf.au.dk>
	<22af238a0705271119n3dc0e13redc7c62e001f7443@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.0705272027330.31219@gloin.imf.au.dk>


>
>> Michel Bovani was hoping to be able t make a new release of fourir in
>> september 2006. But there has been nothing heard since.
>> 
>> I have also tried contacting Michel a few months ago with no reply.
>> 
>> How do we proceed on this case? I have the fixed file, but I am pretty
>> sure that I'm not allowed to publish it.
>
> Anyone who needs the fix will hopefully find this thread, try running
> afm2tfm, and report back if something more is needed.  If Michel
> Bovani doesn't surface perhaps a new maintainer will step forward.
>

the file resulting from

afm2tfm fourier-bb.afm

differs from the version I got by email. So I guess that the afm file 
should be changed as well.


/daleif

From frank at kuesterei.ch  Mon May 28 12:18:49 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Mon, 28 May 2007 12:18:49 +0200
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
In-Reply-To: <22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>
	(George N. White, III's message of "Sat\,
	26 May 2007 14\:06\:32 -0300")
References: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>
Message-ID: <87hcpx45fa.fsf@riesling.zuerich.kuesterei.ch>

"George N. White III" <gnwiii at gmail.com> wrote:

> On 5/25/07, Frank K?ster <frank at kuesterei.ch> wrote:
>
>> Hi all,
>>
>> with teTeX, I've been using "texdoc -s" a lot.  With a full texlive
>> install, this is hardly usable, because it runs "find" over all
>> $TEXMF/doc trees, which takes ages.  Of course if you use it a second
>> time, it's much faster as long as the directories are cached, but you
>> never want to use it the first time, not with utilities like "locate"
>> present on your system.
>
> I not sure what you mean.  Your script just looks in the last
> texmf-tree.  The reason for using TEXDOCS is to ensure that
> all the $TEXMF/doc trees are searched.

That's of course a bug in my patch, but the difference between grepping
through a couple of ls-R files and running find over as many TEXMF trees
should be significant on any system.

> Unfortunately, kpsewhich --expand-path='$TEXDOCS'
> gives directories under the top-level "doc" directory.

 kpsewhich --expand-braces='$TEXDOCS' 

> The loop to construct lsR_files:
>
>      OLDIFS=$IFS
>      IFS=':'
>      for path in `kpsewhich --expand-path='$TEXMF'`; do
>       lsR_files=$(eval TEXMFDBS=\$path kpsewhich ls-R)
>      done
>      IFS=$OLDIFS
>
> saves only the last one.  Do you want to exclude the other
> trees, or did you mean:
>
>       lsR_files="$lsR_files $(env TEXMFDBS=$path kpsewhich ls-R)"

Yes, that's the bug.

> There are still performance problems.  Try to find the latin modern
> docs:
>
> "texdoc -s lmodern" doesn't help, but "texdoc -s lm" takes much too
> long because the last kpathsea search is run for every lm*.tfm file!
>
> What is needed is a way to select only the shortest prefixes from
> "kpsewhich --expand-path='$TEXDOCS'" so that find isn't searching
> the same places over and over:
>
> $ kpsewhich --expand-path='$TEXDOCS' | tr ':' ' ' | wc
>      1    1630  110497

I'll think about that.

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From oliver at first.in-berlin.de  Mon May 28 15:50:39 2007
From: oliver at first.in-berlin.de (Oliver Bandel)
Date: Mon, 28 May 2007 15:50:39 +0200
Subject: [tex-live] Overview-documentation on TeXLive preparation?
Message-ID: <20070528135039.GA711@first.in-berlin.de>

Hello,

is there an overview-documenatation on
the TeXLive-preparation process?

How will the DVD (or CDs) be craeted?

Is there an overwiew on what must be done
from the beginning (selection of what packages will be used?)
until the DVD-/CD-image is created?

Follwing D.E.K:'s literate proramming style,
there should be a lot of documentation available...
...if not, is it planned to do so?
I would appreciate it.

What steps must be taken to create the DVD (or CDs)?


Ciao,
   Oliver


-- 
http://me.in-berlin.de/~first/

From vext01 at gmail.com  Mon May 28 16:31:13 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Mon, 28 May 2007 15:31:13 +0100
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and kpsewhich)
Message-ID: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>

Hi there,

In the root Makefile.in for source.tar.bz2 there are a few commands
that are ran after the build.

The 2 I am interested in discussing are:
updmap-sys
kpsewhich --format='web2c files' updmap.cfg >/dev/null

When I have my teTeX like subset texmf installed (scheme-tetex.tpm),
running updmap-sys without arguments causes errors as not all of the
files are existant. A quick read of the man page suggests that
--syncwithtrees is what I desire.

updmap-sys --syncwithtrees will cause lots of errors when pdflatex(and
maybe others) is run:

[.. Snip ..]

pdfTeX warning: pdflatex (file /usr/local/share/texmf-var/fonts/map/pdftex/updm
ap/pdftex.map): ambiguous entry for `lcbm2488': font file present but not inclu
ded, will be treated as font file not present


pdfTeX warning: pdflatex (file /usr/local/share/texmf-var/fonts/map/pdftex/updm
ap/pdftex.map): ambiguous entry for `lcbm2986': font file present but not inclu
ded, will be treated as font file not present


pdfTeX warning: pdflatex (file /usr/local/share/texmf-var/fonts/map/pdftex/updm
ap/pdftex.map): ambiguous entry for `lcbm3583': font file present but not inclu
ded, will be treated as font file not present


pdfTeX warning: pdflatex (file /usr/local/share/texmf-var/fonts/map/pdftex/updm
ap/pdftex.map): ambiguous entry for `lcbmo10': font file present but not includ
ed, will be treated as font file not present
*** Signal 11

If I do not run updmap-sys atall, my package build pdflatex and latex
stuff just fine. This might indicate that this step has already been
run (which makes sense as the texmf on the DVD should run from DVD).
Should I _not_ run this?

Also a quick query is: What is the function of:
kpsewhich --format='web2c files' updmap.cfg >/dev/null

Thanks



-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From frank at kuesterei.ch  Wed May 30 19:35:27 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Wed, 30 May 2007 19:35:27 +0200
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
In-Reply-To: <22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>
	(George N. White, III's message of "Sat\,
	26 May 2007 14\:06\:32 -0300")
References: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>
Message-ID: <877iqqusdc.fsf@riesling.zuerich.kuesterei.ch>

"George N. White III" <gnwiii at gmail.com> wrote:

> There are still performance problems.  Try to find the latin modern
> docs:
>
> "texdoc -s lmodern" doesn't help, but "texdoc -s lm" takes much too
> long because the last kpathsea search is run for every lm*.tfm file!
>
> What is needed is a way to select only the shortest prefixes from
> "kpsewhich --expand-path='$TEXDOCS'" so that find isn't searching
> the same places over and over:

Here's a new suggestion.  It uses a new switch for the new behavior (-S)
and does the following to reduce the time needed:

I define a NODOC_PATTERN which contains the most abundant extensions of
probably-not-documentation files:

NODOC_PATTERN="\.tfm$|\.afm$|\.enc$|\.pfb$|\.pfa$|\.pfm$|\.vf|\.fd$|\.ttf$|\.htf$|\.mf$|\.otf$|\.[[:digit:]]*pk$"

there's still a for loop over all files found in ls-R, but it kpsewhich
is only called if this pattern does not match.  I think the exact
pattern should finally be made customizable with an option.  I also
check whether a filename appears more than once in the grepped list, and
call kpsewhere instead of kpsewhich in this case.

With the old implementation (texdoc -s lm), I get 


real	1m14.285s
user	0m0.364s
sys	0m1.336s

Using the new one immediately afterwards, I get

real	0m18.237s
user	0m13.577s
sys	0m4.056s

(after a reboot, I even got only 

real	0m16.457s
user	0m10.781s
sys	0m3.312s

)

This is still not lightning fast, but it's a considerable
improvement. Of course, it would be best to grep only through the doc
parts of ls-R, but I don't have any idea how to get that with shell and
simple tools.  Or I reimplement texdoc in Perl - maybe that's even an
improvement for the windows people?

Regards, Frank

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From gnwiii at gmail.com  Wed May 30 20:35:14 2007
From: gnwiii at gmail.com (George N. White III)
Date: Wed, 30 May 2007 15:35:14 -0300
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
In-Reply-To: <877iqqusdc.fsf@riesling.zuerich.kuesterei.ch>
References: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>
	<877iqqusdc.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <22af238a0705301135k6da65ecev2a4823d293db580c@mail.gmail.com>

On 5/30/07, Frank K?ster <frank at kuesterei.ch> wrote:
> [ ... method for excluding non-doc files from the search]
> This is still not lightning fast, but it's a considerable
> improvement. Of course, it would be best to grep only through the doc
> parts of ls-R, but I don't have any idea how to get that with shell and
> simple tools.  Or I reimplement texdoc in Perl - maybe that's even an
> improvement for the windows people?

The other approach is to change kpathsea to better support
such searches.  There are times it would be nice to find things
like "lm-rep-*.map".

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Wed May 30 20:41:27 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 May 2007 13:41:27 -0500
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
Message-ID: <200705301841.l4UIfRs24371@f7.net>

Hi Edd,

    pdfTeX warning: pdflatex (file /usr/local/share/texmf-var/fonts/map/pdftex/updm
    ap/pdftex.map): ambiguous entry for `lcbm2488': font file present but not inclu
    ded, will be treated as font file not present

Sorry, I don't know what lcbm2488 is or why updmap --syncwithtrees is
complaining about it.

    If I do not run updmap-sys atall, my package build pdflatex and latex
    stuff just fine. This might indicate that this step has already been
    run (which makes sense as the texmf on the DVD should run from DVD).

The "live" map files that are in the TL release should correspond to
(all) the actual fonts that are in the release, yes.  Likewise, when you
run the TL installer and install some subset of fonts, updmap should get
run, and the new map files should correspond to what was actually installed.
    
    Should I _not_ run this?

If you reduce it to the tetex subset, it seems best to regenerate the
map files, since not all the fonts are present.

    What is the function of:
    kpsewhich --format='web2c files' updmap.cfg >/dev/null

Return status.  It's checking whether the file exists.  The shell code
boils down to:
IF <updmap-sys exists> AND <updmap.cfg exists> 
THEN <run updmap-sys>

Those install targets were written for use with teTeX, not with the TL
installer.  It's a rather confusing situation, for sure.

Best,
Karl

From hartmut_henkel at gmx.de  Wed May 30 21:15:23 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Wed, 30 May 2007 21:15:23 +0200 (CEST)
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
 kpsewhich)
In-Reply-To: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
Message-ID: <alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>

On Mon, 28 May 2007, Edd Barrett wrote:

> updmap-sys --syncwithtrees will cause lots of errors when pdflatex(and
> maybe others) is run:
>
> [.. Snip ..]
>
> pdfTeX warning: pdflatex (file
> /usr/local/share/texmf-var/fonts/map/pdftex/updmap/pdftex.map):
> ambiguous entry for `lcbm2488': font file present but not inclu ded,
> will be treated as font file not present

why is this in /usr/local/share/texmf-var and not in
/usr/local/texlive/2007/texmf-var? Is it really TeX Live? E. g. which
updmap-sys are you using? Try

$ which updmap-sys

Maybe it's updmap-sys from another distro? And the warning says that
there is a map entry in pdftex.map like e. g.

cmr10 CMR10 cmr10.pfb

without the "<" sign in front of the font file. TeX Live does not have
such types of non-embedded font files. The warning goes away if you
write:

cmr10 CMR10 <cmr10.pfb

You might check
/usr/local/share/texmf-var/fonts/map/pdftex/updmap/pdftex.map on this,
e. g. for the line starting with lcbm2488. Maybe this file pdftex.map
anyway belongs to an old/outdated distribution. Then best might be to
move it away from the place (but keep it somewhere, maybe you still need
the entries for running older documents). Looks like a weird mix of TeX
distros.

Regards, Hartmut

From karl at freefriends.org  Wed May 30 23:45:41 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 May 2007 16:45:41 -0500
Subject: [tex-live] bibtex tools in TL
In-Reply-To: <Pine.LNX.4.64.0705261746320.15331@boromir.imf.au.dk>
Message-ID: <200705302145.l4ULjfQ14189@f7.net>

Hi Lars,

    why aren't tools like bibextract and bibtool present in TL?

1) Including any new nontrivial program (unlike packages) is a
   time-consuming manual process, and there are not enough hours in the day.

2) It is necessary to support srcdir!=builddir to be included in the TL
   source tree, at least without forcing extra-special painful hacks (see 1).

Although Thomas and Sebastian wrote a bunch of teTeX/TL Makefile.in's
for various utilities years ago, there's nobody actively pursuing such
things now.  It's hard enough for me to keep them up to date (not that I
entirely succeed).

If you (or anyone) have the energy to integrate the programs into TL and
hopefully send the patches back to the authors, that would be great.

    as far as I know both are GPL'ed.

Yep, licensing is not the problem.

karl

From karl at freefriends.org  Thu May 31 00:21:55 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 May 2007 17:21:55 -0500
Subject: [tex-live] texhash and dvips bugs
In-Reply-To: <200705252311.l4PNBQQs003331@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <200705302221.l4UMLtM22738@f7.net>

    Please copy mktexlsr.exe texhash.exe.
    (This should be written in http://tug.org/texlive/bugs.html)

Done.

Thanks,
k

From reinhard.kotucha at web.de  Thu May 31 00:09:09 2007
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 31 May 2007 00:09:09 +0200
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
In-Reply-To: <22af238a0705301135k6da65ecev2a4823d293db580c@mail.gmail.com>
References: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>
	<877iqqusdc.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0705301135k6da65ecev2a4823d293db580c@mail.gmail.com>
Message-ID: <18013.62981.444192.719272@zarniwoop.ms25.local>

>>>>> "George" == George N White <gnwiii at gmail.com> writes:

  > The other approach is to change kpathsea to better support such
  > searches.  There are times it would be nice to find things like
  > "lm-rep-*.map".

Indeed.  Could you provide a patch?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From karl at freefriends.org  Thu May 31 01:56:21 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 May 2007 18:56:21 -0500
Subject: [tex-live] Removed mathtime fonts -> missing metrics for belleek
In-Reply-To: <20070524194852.GA27207@cube.dyndns.org>
Message-ID: <200705302356.l4UNuLc09758@f7.net>

    The instructions to get belleek working properly

Thanks for this.  What I really need is for someone to upload a
"belleek" package to CTAN which does the right thing.  I don't want to
try to automate editing mathtime files!

    license of the mathtime metrics is unknown, which would probably mean
    that Debian can't distribute them

Looking at the original Y&Y distribution of MathTime, I see this nonfree
statement:

> The metric files may be copied as long as they are not changed
> and the copyright information is retained.

   (if font metrics are copyrightable,

Yes, that's the real question.  I don't recall that that point has ever
really been argued.  It is common practice to make font X "compatible"
with font Y, meaning that they have the same (or "essentially" the same)
metrics.

E.g., if someone constructed new metrics for belleek that just happen to
have the same numbers as the mathtime metrics, I don't exactly see how
that would be infringing.  Don't know ...

Remains a mess.

karl

From karl at freefriends.org  Thu May 31 02:54:04 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 May 2007 19:54:04 -0500
Subject: [tex-live] texhash and dvips bugs
In-Reply-To: <200705252000.l4PK0QtQ022607@comp.uark.edu>
Message-ID: <200705310054.l4V0s4d19855@f7.net>

    2. dvips -z (for generating pdfmarks) now leaves temporary files
    head.tmp and body.tmp

I applied a patch from Akira to unlink them, unless debugging.

Thanks,
k

From karl at freefriends.org  Wed May 30 23:37:10 2007
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 May 2007 16:37:10 -0500
Subject: [tex-live] Bug in fourier-bb
In-Reply-To: <Pine.LNX.4.64.0705261753470.15475@boromir.imf.au.dk>
Message-ID: <200705302137.l4ULbAL12251@f7.net>

Hi Lars,

    How do we proceed on this case? I have the fixed file, but I am pretty 
    sure that I'm not allowed to publish it.

In this case, my suggestion is to write to Michel one more time.  Please
cc me, and say we'd like to fix what's in the distributions, etc.  Ok?

If still no reply then, we can discuss what to do next.

Thanks,
karl

From vext01 at gmail.com  Thu May 31 05:16:31 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 31 May 2007 04:16:31 +0100
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
Message-ID: <a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>

Hi,

On 30/05/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
> Looks like a weird mix of TeX distros.

Hi,

I'm porting TeXLive to OpenBSD. I'm conforming to the OpenBSD
directory stucture (or rather, just copying how someone before me
ported teTeX).

Sorry to confuse.

Karl:

I can't run updmap with not arguments and --syncwithtrees causes
errors, so I have no choice but just to not run it I guess. It seems
to work without, but I don't like this approach.

Does anyone else know what the error means?

I got my copy of tugboat last week. Interesting reading!

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From hartmut_henkel at gmx.de  Thu May 31 08:23:54 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu, 31 May 2007 08:23:54 +0200 (CEST)
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
 kpsewhich)
In-Reply-To: <a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com> 
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
Message-ID: <alpine.DEB.0.99.0705310820100.3539@hahepc1.hahe>

On Thu, 31 May 2007, Edd Barrett wrote:

> On 30/05/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
> > Looks like a weird mix of TeX distros.
>
> Hi,
>
> I'm porting TeXLive to OpenBSD. I'm conforming to the OpenBSD
> directory stucture (or rather, just copying how someone before me
> ported teTeX).

good luck!

> Sorry to confuse.
>
> Karl:
>
> I can't run updmap with not arguments and --syncwithtrees causes
> errors, so I have no choice but just to not run it I guess. It seems
> to work without, but I don't like this approach.
>
> Does anyone else know what the error means?

i told you already, and what to do against it. Please read my e-mail
again. Or check mapfile.c from pdftex, where you find the error message.

Regards, Hartmut

From frank at debian.org  Thu May 31 09:15:20 2007
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 31 May 2007 09:15:20 +0200
Subject: [tex-live] Bug#426790: mathpple.map should be listed in
	updmap.cfg
In-Reply-To: <1180560857.25842.8.camel@darkstar.darkmatter.com> (Ionut
	Georgescu's message of "Wed\, 30 May 2007 23\:34\:17 +0200")
References: <1180560857.25842.8.camel@darkstar.darkmatter.com>
Message-ID: <87fy5dxy47.fsf@riesling.zuerich.kuesterei.ch>

Ionut Georgescu <george at pks.mpg.de> wrote:

> mathpple is unusable because the math italic fonts are not available.
> For this, mathpple.map should be included in updmap.cfg. I have appended
> the following lines to /etc/texmf/updmap.d/10texlive-base.cfg
>
> MixedMap psfonts.amz
> MixedMap mathpple.map
>
> and pdflatex runs ok. 

This seems to be inherited from TeX Live upstream, at least my
/usr/local/texlive/2007/texmf/web2c/updmap.cfg also is missing these
lines. 

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Thu May 31 09:39:36 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 31 May 2007 09:39:36 +0200
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com> (Edd
	Barrett's message of "Thu\, 31 May 2007 04\:16\:31 +0100")
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
Message-ID: <871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>

"Edd Barrett" <vext01 at gmail.com> wrote:

> Hi,
>
> On 30/05/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
>> Looks like a weird mix of TeX distros.
>
> Hi,
>
> I'm porting TeXLive to OpenBSD. I'm conforming to the OpenBSD
> directory stucture (or rather, just copying how someone before me
> ported teTeX).

And the OpenBSD directory structure requires that a port (or however a
custom-prepared installation of some software is called) installs into
/usr/local?  That seems odd.

> I can't run updmap with not arguments and --syncwithtrees causes
> errors, so I have no choice but just to not run it I guess. It seems
> to work without, but I don't like this approach.

If you don't install all the fonts, you should definitely run updmap-sys
(not updmap!), and you should do it with a proper updmap.cfg.  If you
change the way the installed parts are selected, you need to adapt
updmap.cfg manually, too.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From frank at kuesterei.ch  Thu May 31 09:35:21 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 31 May 2007 09:35:21 +0200
Subject: [tex-live] Patch for "texdoc -s" to use the ls-R database
In-Reply-To: <877iqqusdc.fsf@riesling.zuerich.kuesterei.ch> (Frank
	=?iso-8859-1?Q?K=FCster's?= message of "Wed\, 30 May 2007 19\:35\:27
	+0200")
References: <87r6p4zu4q.fsf@riesling.zuerich.kuesterei.ch>
	<22af238a0705261006q28821051qe21616b898906f8a@mail.gmail.com>
	<877iqqusdc.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <876469xx6u.fsf@riesling.zuerich.kuesterei.ch>

Frank K?ster <frank at kuesterei.ch> wrote:

> Here's a new suggestion.  

Err, as usual I forgot to attach the patch.  Here it is.

Frank

-------------- next part --------------
A non-text attachment was scrubbed...
Name: texdoc-ls_R.patch
Type: text/x-diff
Size: 2351 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20070531/b3b2f33a/attachment.bin 
-------------- next part --------------

-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)


From vext01 at gmail.com  Thu May 31 14:20:26 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 31 May 2007 13:20:26 +0100
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com>

Hi,

On 31/05/07, Frank K?ster <frank at kuesterei.ch> wrote:
> "Edd Barrett" <vext01 at gmail.com> wrote:
>
> > Hi,
> >
> > On 30/05/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
> >> Looks like a weird mix of TeX distros.
> >
> > Hi,
> >
> > I'm porting TeXLive to OpenBSD. I'm conforming to the OpenBSD
> > directory stucture (or rather, just copying how someone before me
> > ported teTeX).
>
> And the OpenBSD directory structure requires that a port (or however a
> custom-prepared installation of some software is called) installs into
> /usr/local?  That seems odd.

It does not "require". It is just a convention that we use. For base
distribution applictaions the prefix /usr is used. For third party
apps we use the prefix /usr/local. Its whatever you are used to. I
wouldn't consider this odd. You should see some of the paths solaris
uses!

>
> > I can't run updmap with not arguments and --syncwithtrees causes
> > errors, so I have no choice but just to not run it I guess. It seems
> > to work without, but I don't like this approach.
>
> If you don't install all the fonts, you should definitely run updmap-sys
> (not updmap!), and you should do it with a proper updmap.cfg.  If you
> change the way the installed parts are selected, you need to adapt
> updmap.cfg manually, too.

This makes sense. It also sounds like a right royal pain. I reckon
thats going to take a long time (correct me if I am wrong, I haven't
yet taken a look at this config file)

Also now I have 2 solutions to investigate (I have not forgotten your
suggestion Hartmut).

Does anyone know what the consequences are of not running the map
generation atall? I assume that the existing maps in the texlive texmf
(from DVD) were run on a full tree. I suppose you would get an error
of you use a font that is not installed, but you would get that anyway
right?

Meanwhile I will investigate your suggestions.

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From frank at kuesterei.ch  Thu May 31 15:19:54 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 31 May 2007 15:19:54 +0200
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com> (Edd
	Barrett's message of "Thu\, 31 May 2007 13\:20\:26 +0100")
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com>
Message-ID: <87d50huo3p.fsf@riesling.zuerich.kuesterei.ch>

"Edd Barrett" <vext01 at gmail.com> wrote:

> Hi,
>
> On 31/05/07, Frank K?ster <frank at kuesterei.ch> wrote:
>> "Edd Barrett" <vext01 at gmail.com> wrote:
>>
>> > Hi,
>> >
>> > On 30/05/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
>> >> Looks like a weird mix of TeX distros.
>> >
>> > Hi,
>> >
>> > I'm porting TeXLive to OpenBSD. I'm conforming to the OpenBSD
>> > directory stucture (or rather, just copying how someone before me
>> > ported teTeX).
>>
>> And the OpenBSD directory structure requires that a port (or however a
>> custom-prepared installation of some software is called) installs into
>> /usr/local?  That seems odd.
>
> It does not "require". It is just a convention that we use. For base
> distribution applictaions the prefix /usr is used. For third party
> apps we use the prefix /usr/local. Its whatever you are used to. I
> wouldn't consider this odd. You should see some of the paths solaris
> uses!

It does indeed look odd if you're used to a Linux perspective: Linux is
either nothing but a kernel, or a particular distribution.  Therefore,
anything that is available through the distribution-specific
infrastructure (i.e., as rpm or deb package on the official mirrors)
goes to /usr, and only local of individual admins installs go to
/usr/local.  

But I see the difference now.

> This makes sense. It also sounds like a right royal pain. I reckon
> thats going to take a long time (correct me if I am wrong, I haven't
> yet taken a look at this config file)

You could run --syncwithtrees once and use the generated updmap.cfg.  Or
use more complicated approaches (which allow for easy adding of
third-party fonts) like our update-updmap stuff in Debian.

Regards, Frank
-- 
Dr. Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From daleif at imf.au.dk  Thu May 31 15:37:49 2007
From: daleif at imf.au.dk (Lars Madsen)
Date: Thu, 31 May 2007 15:37:49 +0200 (CEST)
Subject: [tex-live] bibtex tools in TL
In-Reply-To: <200705302145.l4ULjfQ14189@f7.net>
References: <200705302145.l4ULjfQ14189@f7.net>
Message-ID: <Pine.LNX.4.64.0705311535180.21256@gloin.imf.au.dk>

Karl Berry :

> Hi Lars,
>
>    why aren't tools like bibextract and bibtool present in TL?
>
> 1) Including any new nontrivial program (unlike packages) is a
>   time-consuming manual process, and there are not enough hours in the day.
>
> 2) It is necessary to support srcdir!=builddir to be included in the TL
>   source tree, at least without forcing extra-special painful hacks (see 1).
>
> Although Thomas and Sebastian wrote a bunch of teTeX/TL Makefile.in's
> for various utilities years ago, there's nobody actively pursuing such
> things now.  It's hard enough for me to keep them up to date (not that I
> entirely succeed).
>
> If you (or anyone) have the energy to integrate the programs into TL and
> hopefully send the patches back to the authors, that would be great.
>
>    as far as I know both are GPL'ed.
>
> Yep, licensing is not the problem.
>
> karl
>

ok, I was just woundering, since those tools were mentioned in the LaTeX 
Companion, but they were not widely available.

I ended up recommending japref i stedet, which might be a lot easier for 
Winows users to use, and is easy to install being Java based.

I don't know anything about C programming or writing Makefiles etc. I know 
how to compile something from source but that is it.

I usually work in Perl.


/daleif

From vext01 at gmail.com  Thu May 31 16:19:35 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 31 May 2007 15:19:35 +0100
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <87d50huo3p.fsf@riesling.zuerich.kuesterei.ch>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com>
	<87d50huo3p.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com>

Hi,

On 31/05/07, Frank K?ster <frank at kuesterei.ch> wrote:
> It does indeed look odd if you're used to a Linux perspective: Linux is
> either nothing but a kernel, or a particular distribution.

Yes I remember now. In linux everything that is not the kernel is a package.

We have the kernel, the userland and then packages.
Kernel + userland is OpenBSD, the rest (packages) are third party, but
built by the porting team.

> You could run --syncwithtrees once and use the generated updmap.cfg.  Or
> use more complicated approaches (which allow for easy adding of
> third-party fonts) like our update-updmap stuff in Debian.

Please read the original post as to why --syncwithtrees did not work for me.

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From frank at kuesterei.ch  Thu May 31 18:17:49 2007
From: frank at kuesterei.ch (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Thu, 31 May 2007 18:17:49 +0200
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com> (Edd
	Barrett's message of "Thu\, 31 May 2007 15\:19\:35 +0100")
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com>
	<87d50huo3p.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com>
Message-ID: <87k5up3r2q.fsf@riesling.zuerich.kuesterei.ch>

"Edd Barrett" <vext01 at gmail.com> wrote:

>> You could run --syncwithtrees once and use the generated updmap.cfg.  Or
>> use more complicated approaches (which allow for easy adding of
>> third-party fonts) like our update-updmap stuff in Debian.
>
> Please read the original post as to why --syncwithtrees did not work for me.

The answer to the  "why" isn't really in that post.  Someone has pointed
to the source file where the error message comes from, but I think it
would be equally important for debugging to know which file you tried to
run through pdflatex.

Regards, Frank
-- 
Frank K?ster
Single Molecule Spectroscopy, Protein Folding @ Inst. f. Biochemie, Univ. Z?rich
Debian Developer (teTeX/TeXLive)

From hartmut_henkel at gmx.de  Thu May 31 18:31:19 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu, 31 May 2007 18:31:19 +0200 (CEST)
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
 kpsewhich)
In-Reply-To: <87k5up3r2q.fsf@riesling.zuerich.kuesterei.ch>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com>
	<87d50huo3p.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com>
	<87k5up3r2q.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <alpine.DEB.0.99.0705311824490.5324@hahepc1.hahe>

On Thu, 31 May 2007, Frank K?ster wrote:

> "Edd Barrett" <vext01 at gmail.com> wrote:
>
> >> You could run --syncwithtrees once and use the generated
> >> updmap.cfg.  Or use more complicated approaches (which allow for
> >> easy adding of third-party fonts) like our update-updmap stuff in
> >> Debian.
> >
> > Please read the original post as to why --syncwithtrees did not work
> > for me.
>
> The answer to the "why" isn't really in that post.  Someone has
> pointed to the source file where the error message comes from, but I
> think it would be equally important for debugging to know which file
> you tried to run through pdflatex.

and also, actually which pdftex.map has been read in? From which
directory? I would first locate _any_and_all_ pdftex.map files in the
overall BSD system (there might be several). Then, in which of these
appears a map line that starts e. g. with lcbm2488? How does the rest of
the line look like? Do you know why this line is in this pdftex.map? If
not, why not scrap the pdftex.map? In which directory is this
pdftex.map? Does this directory have any relationship to the ported TeX
tree? Questions... :-)

Regards, Hartmut

From vext01 at gmail.com  Thu May 31 20:00:55 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 31 May 2007 19:00:55 +0100
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <alpine.DEB.0.99.0705311824490.5324@hahepc1.hahe>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com>
	<87d50huo3p.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com>
	<87k5up3r2q.fsf@riesling.zuerich.kuesterei.ch>
	<alpine.DEB.0.99.0705311824490.5324@hahepc1.hahe>
Message-ID: <a6e8c1d0705311100q4e3efb2cj7b29f64b881b0988@mail.gmail.com>

Hi Hartmut,

On 31/05/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
> and also, actually which pdftex.map has been read in? From which
> directory? I would first locate _any_and_all_ pdftex.map files in the
> overall BSD system (there might be several). Then, in which of these
> appears a map line that starts e. g. with lcbm2488? How does the rest of
> the line look like? Do you know why this line is in this pdftex.map? If
> not, why not scrap the pdftex.map? In which directory is this
> pdftex.map? Does this directory have any relationship to the ported TeX
> tree? Questions... :-)

There are indeed 2 map files floating around, which I was completely
unaware of. Unfortunately,  removing the old one does not abolish the
error.

I'll try to provide some information in order to clarify my environment.

Statring from the beginning. If you install texlive using the ports
infrastructure, my sources are downloaded and built and installed.

in /usr/local/share/texmf and /uar/local/share/texmf-dist is a
"scheme-tetex.tpm" tree (created by a python script I have written).
At this stage the ports system has run mktexlsr and fmtutil-sys for
me. They work fine. updmap-sys has NOT yet been run (when I figure
this out it will be done my the ports system).

1 map exists for pdftex:
$ cd /usr/local/share
$ find . -name 'pdftex.map' -print
./texmf/fonts/map/pdftex/updmap/pdftex.map

Here is a really simple tex file:
$ cat test.tex
\documentclass[11pt]{article}
\begin{document}
This is a test.
\end{document}

Does it build now....
$ pdflatex test.tex
This is pdfTeX, Version 3.141592-1.40.3 (Web2C 7.5.6)
entering extended mode
(./test.tex
LaTeX2e <2005/12/01>
Babel <v3.8h> and hyphenation patterns for english, usenglishmax, dumylang, noh
yphenation, arabic, basque, bulgarian, coptic, welsh, czech, slovak, german, ng
erman, danish, esperanto, spanish, catalan, galician, estonian, farsi, finnish,
 french, greek, monogreek, ancientgreek, croatian, hungarian, interlingua, ibyc
us, indonesian, icelandic, italian, latin, mongolian, dutch, norsk, polish, por
tuguese, pinyin, romanian, russian, slovenian, uppersorbian, serbian, swedish,
turkish, ukenglish, ukrainian, loaded.
(/usr/local/share/texmf-dist/tex/latex/base/article.cls
Document Class: article 2005/09/16 v1.4f Standard LaTeX document class
(/usr/local/share/texmf-dist/tex/latex/base/size11.clo)) (./test.aux) [1{/usr/l
ocal/share/texmf/fonts/map/pdftex/updmap/pdftex.map}] (./test.aux) )</usr/local
/share/texmf-dist/fonts/type1/bluesky/cm/cmr10.pfb>
Output written on test.pdf (1 page, 5545 bytes).
Transcript written on test.log.

Yes. Note which map it is using
(/usr/local/share/texmf/fonts/map/pdftex/updmap/pdftex.map).

So now let us run updmap-sys --syncwithtrees.

# updmap-sys --syncwithtrees

[ Snip...]

texhash: Done.

updmap: Files generated:
-rw-r--r--  1 root  wheel  153455 May 31 19:05
/usr/local/share/texmf-var/fonts/map/dvipdfm/updmap/dvipdfm_dl14.map
-rw-r--r--  1 root  wheel  154082 May 31 19:05
/usr/local/share/texmf-var/fonts/map/dvipdfm/updmap/dvipdfm_ndl14.map
-rw-r--r--  1 root  wheel    8917 May 31 19:05
/usr/local/share/texmf-var/fonts/map/dvips/updmap/builtin35.map
-rw-r--r--  1 root  wheel   12976 May 31 19:05
/usr/local/share/texmf-var/fonts/map/dvips/updmap/download35.map
-rw-r--r--  1 root  wheel  303649 May 31 19:05
/usr/local/share/texmf-var/fonts/map/dvips/updmap/ps2pk.map
-rw-r--r--  1 root  wheel  199610 May 31 19:05
/usr/local/share/texmf-var/fonts/map/dvips/updmap/psfonts_pk.map
-rw-r--r--  1 root  wheel  299596 May 31 19:05
/usr/local/share/texmf-var/fonts/map/dvips/updmap/psfonts_t1.map
-rw-r--r--  1 root  wheel  303656 May 31 19:05
/usr/local/share/texmf-var/fonts/map/pdftex/updmap/pdftex_dl14.map
-rw-r--r--  1 root  wheel  302106 May 31 19:05
/usr/local/share/texmf-var/fonts/map/pdftex/updmap/pdftex_ndl14.map

This is the state that the system was in when I originally posted. See
the first post for the errors.

And now search for pdftex maps:
$ find . -name 'pdftex.map' -print
./texmf/fonts/map/pdftex/updmap/pdftex.map
./texmf-var/fonts/map/pdftex/updmap/pdftex.map

As you suggested, it makes sense to delete the old one. So lets move it away:
# mv /usr/local/share/texmf/fonts/map/pdftex/updmap/pdftex.map /tmp

And try building the test tex file:
$ pdflatex test.tex

[snip lots of similar errors for many fonts..]

pdfTeX warning: pdflatex (file /usr/local/share/texmf-var/fonts/map/pdftex/updm
ap/pdftex.map): ambiguous entry for `labx1440': font file present but not inclu
ded, will be treated as font file not present
Segmentation fault (core dumped)

Which is the same problem.

In the only existing map file (in texmf-var) exists the line:
labx1440 cm-super-t2a sfbx1440 -r

In the map that I moved out of the way is the line:
labx1440 SFBX1440 "T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb

Needless to say the lines differ.

Now I am in uncharted territory. I am not familar with the internals of maps.

The error suggests that the font is in duplicate maps? I ran this just
as a test, but it might be irrelevant:

$ grep -r labx1440 *
texmf/fonts/map/dvipdfm/updmap/dvipdfm.map:labx1440 cm-super-t2a sfbx1440 -r
texmf/fonts/map/dvipdfm/updmap/dvipdfm_dl14.map:labx1440 cm-super-t2a
sfbx1440 -r
texmf/fonts/map/dvipdfm/updmap/dvipdfm_ndl14.map:labx1440 cm-super-t2a
sfbx1440 -r
texmf/fonts/map/dvips/updmap/ps2pk.map:labx1440 SFBX1440 "T2AEncoding
ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
texmf/fonts/map/dvips/updmap/psfonts.map:labx1440 SFBX1440
"T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
texmf/fonts/map/dvips/updmap/psfonts_t1.map:labx1440 SFBX1440
"T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
texmf/fonts/map/pdftex/updmap/pdftex_dl14.map:labx1440 SFBX1440
"T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
texmf/fonts/map/pdftex/updmap/pdftex_ndl14.map:labx1440 SFBX1440
"T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
texmf-dist/fonts/map/dvipdfm/context/cm-super-t2a.map:labx1440
cm-super-t2a sfbx1440 -r
texmf-var/fonts/map/dvips/updmap/psfonts_t1.map:labx1440 cm-super-t2a
sfbx1440 -r
texmf-var/fonts/map/dvips/updmap/ps2pk.map:labx1440 cm-super-t2a sfbx1440 -r
texmf-var/fonts/map/dvips/updmap/psfonts.map:labx1440 cm-super-t2a sfbx1440 -r
texmf-var/fonts/map/pdftex/updmap/pdftex_dl14.map:labx1440
cm-super-t2a sfbx1440 -r
texmf-var/fonts/map/pdftex/updmap/pdftex_ndl14.map:labx1440
cm-super-t2a sfbx1440 -r
texmf-var/fonts/map/pdftex/updmap/pdftex.map:labx1440 cm-super-t2a sfbx1440 -r
texmf-var/fonts/map/dvipdfm/updmap/dvipdfm_dl14.map:labx1440 default
cm-super-t2a -r
texmf-var/fonts/map/dvipdfm/updmap/dvipdfm_ndl14.map:labx1440 default
cm-super-t2a -r
texmf-var/fonts/map/dvipdfm/updmap/dvipdfm.map:labx1440 default cm-super-t2a -r

Thanks for your continued support!

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From hartmut_henkel at gmx.de  Thu May 31 20:50:57 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu, 31 May 2007 20:50:57 +0200 (CEST)
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
 kpsewhich)
In-Reply-To: <a6e8c1d0705311100q4e3efb2cj7b29f64b881b0988@mail.gmail.com>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com> 
	<alpine.DEB.0.99.0705302105310.5750@hahepc1.hahe> 
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com> 
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch> 
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com> 
	<87d50huo3p.fsf@riesling.zuerich.kuesterei.ch> 
	<a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com> 
	<87k5up3r2q.fsf@riesling.zuerich.kuesterei.ch>
	<alpine.DEB.0.99.0705311824490.5324@hahepc1.hahe>
	<a6e8c1d0705311100q4e3efb2cj7b29f64b881b0988@mail.gmail.com>
Message-ID: <alpine.DEB.0.99.0705312039480.5930@hahepc1.hahe>

Hi Edd,

On Thu, 31 May 2007, Edd Barrett wrote:

> And try building the test tex file:
> $ pdflatex test.tex
>
> [snip lots of similar errors for many fonts..]
>
> pdfTeX warning: pdflatex (file
> /usr/local/share/texmf-var/fonts/map/pdftex/updm
> ap/pdftex.map): ambiguous entry for `labx1440': font file present but not
> inclu
> ded, will be treated as font file not present
> Segmentation fault (core dumped)
>
> Which is the same problem.
>
> In the only existing map file (in texmf-var) exists the line:
> labx1440 cm-super-t2a sfbx1440 -r

that's a map entry for dvipdfmx, it's incompatible format to the map
files required by pdftex, dvips, and ps2pk! This map entry should never
have gone into pdftex.map or psfonts.map.

> In the map that I moved out of the way is the line:
> labx1440 SFBX1440 "T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb

e. g. that's a perfect map line for pdftex or dvips.

> Needless to say the lines differ.
>
> Now I am in uncharted territory. I am not familar with the internals of maps.
>
> The error suggests that the font is in duplicate maps? I ran this just
> as a test, but it might be irrelevant:
>
> $ grep -r labx1440 *
> texmf/fonts/map/dvipdfm/updmap/dvipdfm.map:labx1440 cm-super-t2a sfbx1440 -r
> texmf/fonts/map/dvipdfm/updmap/dvipdfm_dl14.map:labx1440 cm-super-t2a
> sfbx1440 -r
> texmf/fonts/map/dvipdfm/updmap/dvipdfm_ndl14.map:labx1440 cm-super-t2a
> sfbx1440 -r

above are right for dvipdfmx.

> texmf/fonts/map/dvips/updmap/ps2pk.map:labx1440 SFBX1440 "T2AEncoding
> ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
> texmf/fonts/map/dvips/updmap/psfonts.map:labx1440 SFBX1440
> "T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
> texmf/fonts/map/dvips/updmap/psfonts_t1.map:labx1440 SFBX1440
> "T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
> texmf/fonts/map/pdftex/updmap/pdftex_dl14.map:labx1440 SFBX1440
> "T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb
> texmf/fonts/map/pdftex/updmap/pdftex_ndl14.map:labx1440 SFBX1440
> "T2AEncoding ReEncodeFont" <cm-super-t2a.enc <sfbx1440.pfb

above ar right for pdftex and dvips.

> texmf-dist/fonts/map/dvipdfm/context/cm-super-t2a.map:labx1440
> cm-super-t2a sfbx1440 -r

right for dvipdfm.

> texmf-var/fonts/map/dvips/updmap/psfonts_t1.map:labx1440 cm-super-t2a sfbx1440 -r
> texmf-var/fonts/map/dvips/updmap/ps2pk.map:labx1440 cm-super-t2a sfbx1440 -r

wrong for dvips. Dvipdfmx has a separated, own format.

> texmf-var/fonts/map/dvips/updmap/psfonts.map:labx1440 cm-super-t2a sfbx1440 -r
> texmf-var/fonts/map/pdftex/updmap/pdftex_dl14.map:labx1440
> cm-super-t2a sfbx1440 -r
> texmf-var/fonts/map/pdftex/updmap/pdftex_ndl14.map:labx1440
> cm-super-t2a sfbx1440 -r
> texmf-var/fonts/map/pdftex/updmap/pdftex.map:labx1440 cm-super-t2a sfbx1440 -r

all these are wrong, they can't be handled by pdftex or dvips.

> texmf-var/fonts/map/dvipdfm/updmap/dvipdfm_dl14.map:labx1440 default
> cm-super-t2a -r
> texmf-var/fonts/map/dvipdfm/updmap/dvipdfm_ndl14.map:labx1440 default
> cm-super-t2a -r
> texmf-var/fonts/map/dvipdfm/updmap/dvipdfm.map:labx1440 default cm-super-t2a
> -r

these are right for dvipdfm(x). I would remove anything below map/ and
copy fresh stuff over from a decent TeX Live installation into the right
places, and then look how it behaves. Btw, the tools updmap-sys,
texhash, texconfig-sys and so on belong to your installation. Try
"which". Is it what you expect?

Regards, Hartmut

From karl at freefriends.org  Thu May 31 21:02:06 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 31 May 2007 14:02:06 -0500
Subject: [tex-live] texhash and dvips bugs
In-Reply-To: <200705252000.l4PK0QtQ022607@comp.uark.edu>
Message-ID: <200705311902.l4VJ26f11505@f7.net>

Hi Dan,

    Something seems to change with every upgrade. 

Yeah.  Sorry.  I added your items to http://tug.org/texlive/bugs.html.
Maybe next time you could try a late pretest in advance of the release?
It would help.  Keeping track of which changes are important is always
difficult.

    -- fmtutil doesn't keep .log files by default

I can't remember why we did this, or if it was just an accident.
I took out the rm (at line 699, if you want to too).

Thanks,
Karl

From luecking at uark.edu  Thu May 31 21:55:13 2007
From: luecking at uark.edu (Dan Luecking)
Date: Thu, 31 May 2007 14:55:13 -0500
Subject: [tex-live] Misplaced file(s): mathdots
Message-ID: <200705311956.l4VJuIt4018584@comp.uark.edu>


Hello:

The file mathdots.tex from my mathdots package should be
accessible to plain tex, and so should be in the tex inputs tree
    texmf-dist/tex/generic/mathdots/
But in TeXLive2007 (installed from CD) it is located in
    texmf-dist/doc/generic/mathdots/

There are two other packages with this same problem:
1. In package "splitindex"
      texmf-dist/doc/latex/splitindex/splitindex.tex
    is macro code that is supposed to be installed in the same
    directory as splitindex.sty (according to install.txt):
     texmf-dist/tex/latex/splitindex/
2. In package "variations"
      texmf-dist/doc/latex/variations/variations.tex
    should be where variations.sty is located (according to README):
      texmf-dist/tex/latex/variations/
    (though README suggests tex/generic/ for both).

Regards,
Dan Luecking

[PS:
This has happened a few times in past TeXLives and in other TeX
distributions. It seems highly likely there will be other
such misplacements in the future (and even now). Is there a way
of packaging things for CTAN so that this is less likely to
happen (apart from a tds ready zip archive)?

In the present version of mathdots, both mathdots.{tex,sty}
are generated from mathdots.dtx and the README tells what to
do with them. I'm considering adding a <packagename>.tds file
(with a list of generated files in their suggested locations)
for all my packages. If I knew the format of a tpm file, I'd make
one or edit an existing one.
]


Daniel H. Luecking
Department of Mathematical Sciences
University of Arkansas
"I reject your reality, and substitute my own" --Adam Savage


From vext01 at gmail.com  Thu May 31 22:01:13 2007
From: vext01 at gmail.com (Edd Barrett)
Date: Thu, 31 May 2007 21:01:13 +0100
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
	kpsewhich)
In-Reply-To: <alpine.DEB.0.99.0705312039480.5930@hahepc1.hahe>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com>
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com>
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com>
	<87d50huo3p.fsf@riesling.zuerich.kuesterei.ch>
	<a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com>
	<87k5up3r2q.fsf@riesling.zuerich.kuesterei.ch>
	<alpine.DEB.0.99.0705311824490.5324@hahepc1.hahe>
	<a6e8c1d0705311100q4e3efb2cj7b29f64b881b0988@mail.gmail.com>
	<alpine.DEB.0.99.0705312039480.5930@hahepc1.hahe>
Message-ID: <a6e8c1d0705311301m4548397dg7e910f343e256634@mail.gmail.com>

On 31/05/07, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
> these are right for dvipdfm(x). I would remove anything below map/ and
> copy fresh stuff over from a decent TeX Live installation into the right
> places, and then look how it behaves.

These files came right from the DVD that was posted to me as a part of
my TUG membership. Admittedy it was not a texlive install. I wrote a
python script which does the following:

- You invoke it with the path to a .tpm file (in my case scheme-tetex
because it is small)
- It reads the tpm file and adds RunFiles, DocFiles and SourceFiles to
lists of things to install.
- It then traverses TPM:TLCore and TPM:Package entries reading their
corresponding tpm files and adds files from there to the lists too and
so on....
- When all of the regression is complete, I copy the files in the
lists into a folder.
- I build source.tar.bz2 against the resulting texmf and texmf-dist
(This stage is automated my the ports system).

I spoke to Norbert Preining regarding this method in great detail, so
it should be correct. It is similar to what they are doing with debian
by the sounds of it.

Btw, the tools updmap-sys,
> texhash, texconfig-sys and so on belong to your installation. Try
> "which". Is it what you expect?

Yes, theyre from source.tar.bz2. There is no other tex distro installed.

After reading the output from updmap again, I noticed something that
might not be correct:

updmap: This is updmap, version 1167072206
updmap: using transcript file `/usr/local/share/texmf-var/web2c/updmap.log'
updmap: initial config file is `/usr/local/share/texmf/web2c/updmap.cfg'
mktexlsr: Updating /usr/local/share/texmf-config/ls-R...
mktexlsr: Done.
updmap: configuration file updated:
`/usr/local/share/texmf-config/web2c/updmap.cfg'

updmap is creating new map files using the following configuration:

  config file: `/usr/local/share/texmf-config/web2c/updmap.cfg'
  dvips output directory: `/usr/local/share/texmf-var/fonts/map/dvips/updmap'
  pdftex output directory: `/usr/local/share/texmf-var/fonts/map/pdftex/updmap'
  dvipdfm output directory:
`/usr/local/share/texmf-var/fonts/map/dvipdfm/updmap'

  prefer outlines: `true'
  texhash enabled: `true'
  download standard fonts (dvips): `false'
  download standard fonts (pdftex): `true'
  download standard fonts (dvipdfm): `true'

Creating new config files?!? Hmmm..

I have uploaded the full output here:
http://students.dec.bmth.ac.uk/ebarrett/texl_tmp/UPDMAP-SYS-20070531.log

Thanks

-- 
Best Regards

Edd

---------------------------------------------------
http://students.dec.bournemouth.ac.uk/ebarrett

From hartmut_henkel at gmx.de  Thu May 31 22:27:43 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu, 31 May 2007 22:27:43 +0200 (CEST)
Subject: [tex-live] post build of source.tar.bz2 (updmap-sys and
 kpsewhich)
In-Reply-To: <a6e8c1d0705311301m4548397dg7e910f343e256634@mail.gmail.com>
References: <a6e8c1d0705280731p7dbb9923yaf417223e2c3eaa7@mail.gmail.com> 
	<a6e8c1d0705302016ke5f4427oaaff960d62aead85@mail.gmail.com> 
	<871wgxxwzr.fsf@riesling.zuerich.kuesterei.ch> 
	<a6e8c1d0705310520n31a8e453vcccac15896c1f8a7@mail.gmail.com> 
	<87d50huo3p.fsf@riesling.zuerich.kuesterei.ch> 
	<a6e8c1d0705310719qf0118fbx1417514b36291807@mail.gmail.com> 
	<87k5up3r2q.fsf@riesling.zuerich.kuesterei.ch>
	<alpine.DEB.0.99.0705311824490.5324@hahepc1.hahe>
	<a6e8c1d0705311100q4e3efb2cj7b29f64b881b0988@mail.gmail.com> 
	<alpine.DEB.0.99.0705312039480.5930@hahepc1.hahe>
	<a6e8c1d0705311301m4548397dg7e910f343e256634@mail.gmail.com>
Message-ID: <alpine.DEB.0.99.0705312212450.7394@hahepc1.hahe>

On Thu, 31 May 2007, Edd Barrett wrote:

> updmap: This is updmap, version 1167072206
> updmap: using transcript file `/usr/local/share/texmf-var/web2c/updmap.log'
> updmap: initial config file is `/usr/local/share/texmf/web2c/updmap.cfg'
> mktexlsr: Updating /usr/local/share/texmf-config/ls-R...
> mktexlsr: Done.
> updmap: configuration file updated: `/usr/local/share/texmf-config/web2c/updmap.cfg'
>
> updmap is creating new map files using the following configuration:
>
>  config file: `/usr/local/share/texmf-config/web2c/updmap.cfg'
>  dvips output directory: `/usr/local/share/texmf-var/fonts/map/dvips/updmap'
>  pdftex output directory: `/usr/local/share/texmf-var/fonts/map/pdftex/updmap'
>  dvipdfm output directory: `/usr/local/share/texmf-var/fonts/map/dvipdfm/updmap'
>
>  prefer outlines: `true'
>  texhash enabled: `true'
>  download standard fonts (dvips): `false'
>  download standard fonts (pdftex): `true'
>  download standard fonts (dvipdfm): `true'
>
> Creating new config files?!? Hmmm..

creates new _map_ files, ok.

> I have uploaded the full output here:
> http://students.dec.bmth.ac.uk/ebarrett/texl_tmp/UPDMAP-SYS-20070531.log

looks rather nominal. Clueless. Problem gone? Or still these dvipdfm
"-r" entries in

/usr/local/share/texmf-var/fonts/map/pdftex/updmap/pdftex_dl14.map?

Maybe track down from which of the many files in the log these "-r"
entries come that go into pdftex.map. Somehow the updmap script would
work wrong, why?

Regards, Hartmut


From kakuto at fsci.fuk.kindai.ac.jp  Thu May 31 23:12:08 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Fri, 01 Jun 2007 06:12:08 +0900
Subject: [tex-live] texhash and dvips bugs
In-Reply-To: Your message of "Thu, 31 May 2007 14:02:06 -0500"
References: <200705311902.l4VJ26f11505@f7.net>
Message-ID: <200705312112.l4VLCA19002225@jupiter.fsci.fuk.kindai.ac.jp>

>     -- fmtutil doesn't keep .log files by default
> 
> I can't remember why we did this, or if it was just an accident.
> I took out the rm (at line 699, if you want to too).

This is only for fmtutil for Win32. log files are saved
in fmtutil for Win32 under an option --log. Sorry.

-- 
Akira Kakuto

From karl at freefriends.org  Thu May 31 23:38:52 2007
From: karl at freefriends.org (Karl Berry)
Date: Thu, 31 May 2007 16:38:52 -0500
Subject: [tex-live] Misplaced file(s): mathdots
In-Reply-To: <200705311956.l4VJuIt4018584@comp.uark.edu>
Message-ID: <200705312138.l4VLcqX15425@f7.net>

Hi Dan,

    Subject: [tex-live] Misplaced file(s): mathdots

Will fix, thanks.

    of packaging things for CTAN so that this is less likely to
    happen (apart from a tds ready zip archive)?

The simplest and perhaps best way I can think of is actually
non-technical: in the CTAN announcement, make it clear that the package
works with plain TeX (or whatever).  I wrote a few words about this at
http://tug.org/texlive/pkgcontrib.html.

Perhaps I should explain more.  The way packages actually get into TL is
that I (or whomever) read the CTAN announcements (or mirror listing
updates, but never mind) and run a script to install it from CTAN to TL
(http://tug.org/texlive/pkgupdate.html explains the gory details).  The
default logic is to install *.sty in the runtime and *.tex in the doc
tree, since in the overwhelming majority of cases, the .tex is
documentation.

It is no trouble to override the default, of course, I just have to know
to do it.  The sad truth is, I cannot carefully read every README in
every release (although I try), there are simply too many updates.
Anyway, once it's done once, it is done for future updates -- the logic
is encapsulated in the Build/cdbuild/ctan2tds.pl script.

Another way is to have a Makefile with a texlive: target, but I'm not
sure how well that worked in practice.  I took out the description of
that on the web page, since it seemed almost no one used it.

    I'm considering adding a <packagename>.tds file

That could help in complex cases, since it would give me something to
check my results against.  Just for a misclassified .tex, though, it's
not worth it.

    If I knew the format of a tpm file, 

That wouldn't help.  The tpm files are automatically generated.

Thanks,
k

From oberdiek at uni-freiburg.de  Thu May 31 23:27:21 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 31 May 2007 23:27:21 +0200
Subject: [tex-live] Misplaced file(s): mathdots
In-Reply-To: <200705311956.l4VJuIt4018584@comp.uark.edu>
References: <200705311956.l4VJuIt4018584@comp.uark.edu>
Message-ID: <20070531212721.GA4462@irwin.vpn.uni-freiburg.de>

On Thu, May 31, 2007 at 02:55:13PM -0500, Dan Luecking wrote:

> [PS:
> This has happened a few times in past TeXLives and in other TeX
> distributions. It seems highly likely there will be other
> such misplacements in the future (and even now). Is there a way
> of packaging things for CTAN so that this is less likely to
> happen (apart from a tds ready zip archive)?

In the .ins file the locations can be declared by \usedir.
I am using this information in the project latex-tds.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

