From karl at freefriends.org  Tue Jul  1 00:07:04 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 30 Jun 2008 17:07:04 -0500
Subject: [tex-live] texlivetest2008
In-Reply-To: <19592730.1214835891130.JavaMail.root@web16>
Message-ID: <200806302207.m5UM74d01645@f7.net>

Hi Richard,

    However, I am using a little over 1% of the texlive distro, so why
    pull down the full shebang? I then spent lots of time with the online
    installer. Total failure!

Sorry to hear it.  It's an area we (especially Norbert) have been trying
to improve nearly every day.  Maybe it will be better by the time you
try again.  That is the way to go.

    Last year I sent an email hoping you would provide a xdvik-motif
    binary as an option to the ugly xaw version. Do you want my custom
    build? It is actually a lesstif build, but, it works great and
    looks heaps better than xaw.

Sounds good in principle, but first it should get into upstream xdvik.
Please send the patch to tex-k at tug.org, ok?  I wouldn't look for 
xdvi-lesstif binaries in this year's release.  Sorry.  Just updating to
the latest xdvik is proving to be rather time-consuming.

    TUG member

Thanks for your support!

Karl

From karl at freefriends.org  Tue Jul  1 00:09:52 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 30 Jun 2008 17:09:52 -0500
Subject: [tex-live] TeXlive-doc needed, please help
In-Reply-To: <8BA5C3DFF97BD04E91D714332CAC904E781590@occmailbe.occ.harvard.edu>
Message-ID: <200806302209.m5UM9qY03672@f7.net>

    wget -r -k -np -L -l 1 -N -p http://www.tug.org/texlive/Contents/live/doc.html 

I hope not too many people get all that directly from tug.  Just FYI, in
the New World, you could download the *.doc.tar.lzma packages from any
CTAN mirror.  (Of course that wouldn't help you right now, but for the
future ...)

    I think that for each package/sty included in the distribution, there
    should be the corresponding document (dvi or pdf or both) for the
    included package. 

We include all the documentation we can get our hands on.  Usually it is
copied from CTAN.

    Long live TeX/LaTeX!!!

Yes :).

Thanks,
Karl

From karl at freefriends.org  Tue Jul  1 01:21:31 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 30 Jun 2008 18:21:31 -0500
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <20080630093748.GA3000@irwin.wlan.privat>
Message-ID: <200806302321.m5UNLVV19765@f7.net>

      -d $tmpdir or return '';

I don't think it's up to us to check these things.  Nothing else I know
of makes such checks on user settings of TMPDIR, etc.

From karl at freefriends.org  Tue Jul  1 01:28:48 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 30 Jun 2008 18:28:48 -0500
Subject: [tex-live] Luatex default format names and dvi/pdf modes
In-Reply-To: <486890BD.9000300@wxs.nl>
Message-ID: <200806302328.m5UNSmM24515@f7.net>

    luatex    -> plain + dvi
    pdfluatex -> plain + pdf

Good.  That is what we have now.

Thanks,
k

From karl at freefriends.org  Tue Jul  1 02:57:27 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 30 Jun 2008 19:57:27 -0500
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <22af238a0806290521p66fe819u6e301e18780482c0@mail.gmail.com>
Message-ID: <200807010057.m610vR319274@f7.net>

    install-tl claims to support debug flags -d -dd -ddd, but they don't work:

I removed those from the help message.

Thanks,
k

From luecking at uark.edu  Tue Jul  1 21:53:49 2008
From: luecking at uark.edu (Dan Luecking)
Date: Tue, 01 Jul 2008 14:53:49 -0500
Subject: [tex-live] More testing of network installation under Windows
Message-ID: <200807011953.m61JrnT2025753@comp.uark.edu>


My system: Windows XP Pro, service pack 2

I tested install-tl this afternoon (July 1), using install-tl.zip
which was apparently updated last night (June 30).

I did two tests: In the first I did not change PATH at all, in the
second I changed it slightly (see below). For both I selected
texlive-basic, default paper size = letter, create formats = Yes,
download font/macro docs = Yes, download font/macro sources = No.

I was able to install and generate formats without making any changes
to my PATH.

But I got error messages during updmap. This time I was able to trace 
the problem to a line in updmap.pl:

   @lines = `dir /b /s $f`; # rk. Suppress header and footer from dir output.

I have a set of Gnu-ish utilities from the GnuWin32 project. I was
not previously aware that one of them is called dir.exe. For some
reason the above line invoked the *program* dir.exe instead of the
command processor's *internal* dir command. The following change
prevented that from happening:

   @lines = `cmd /c dir /b /s $f`; # call cmd.exe explicitly

In past tests, removing the directory containing tar.exe from PATH
also removed dir.exe and is one of the reasons that change
helped make previous install succeed (though removing my copy of
tar.exe made no difference).

I also got error messages for the step that was to configure the
paper size.

The second test I made only two changes: I removed my TeXLive 2007 bin
directory from PATH and renamed dir.exe to gdir.exe. This was completely
successful.


Dan


Daniel H. Luecking
Department of Mathematical Sciences
University of Arkansas
"Dubito ergo cogito, cogito ergo sum" --Descarte


From frank at debian.org  Tue Jul  1 22:08:01 2008
From: frank at debian.org (Frank =?iso-8859-1?Q?K=FCster?=)
Date: Tue, 01 Jul 2008 22:08:01 +0200
Subject: [tex-live] Bug#488707: ps4pdf.sty missing
In-Reply-To: <48693222.2090401@iam.uni-bonn.de> (Thomas Viehmann's message of
	"Mon\, 30 Jun 2008 21\:21\:06 +0200")
References: <48693222.2090401@iam.uni-bonn.de>
Message-ID: <87lk0ls6zi.fsf@riesling.zuerich.kuesterei.ch>

Dear TeX Live team,

Thomas Viehmann <viehmann at iam.uni-bonn.de> wrote:

> For some reason (I've not found it in the list of removed stuff)
> ps4pdf.sty is missingl, it used to be in this package in etch.

(that is TeXLive 2005)

> If it is not for license reasons, could you reinclude it?
> While the CTAN page says it's obsolete, it seems to be the only at least
> half-documented option to use ps stuff in pdflatex and is bound to be
> used in legacy documents.

It is not in TeXLive 2008 either. Can someone explain why it has been
removed? Given the large number of old style files from the nineties
that we include, it seems strange that one that used to be advertised
much in the first half of this decade has been dropped. And I couldn't
find information about a replacement at a short glance.

TIA, Frank

-- 
Frank K?ster
Debian Developer (teTeX/TeXLive)

From Herbert.Voss at FU-Berlin.DE  Tue Jul  1 22:18:22 2008
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Tue, 01 Jul 2008 22:18:22 +0200
Subject: [tex-live] Bug#488707: ps4pdf.sty missing
In-Reply-To: <87lk0ls6zi.fsf@riesling.zuerich.kuesterei.ch>
References: <48693222.2090401@iam.uni-bonn.de>
	<87lk0ls6zi.fsf@riesling.zuerich.kuesterei.ch>
Message-ID: <486A910E.90509@FU-Berlin.DE>

Frank K?ster schrieb:
> Dear TeX Live team,
> 
> Thomas Viehmann <viehmann at iam.uni-bonn.de> wrote:
> 
>> For some reason (I've not found it in the list of removed stuff)
>> ps4pdf.sty is missingl, it used to be in this package in etch.
> 
> (that is TeXLive 2005)
> 
>> If it is not for license reasons, could you reinclude it?
>> While the CTAN page says it's obsolete, it seems to be the only at least
>> half-documented option to use ps stuff in pdflatex and is bound to be
>> used in legacy documents.
> 
> It is not in TeXLive 2008 either. Can someone explain why it has been
> removed? Given the large number of old style files from the nineties
> that we include, it seems strange that one that used to be advertised
> much in the first half of this decade has been dropped. And I couldn't
> find information about a replacement at a short glance.

it is superseeded by pst-pdf and hence moved into the obsolete part
CTAN:/obsolete/macros/latex/contrib/ps4pdf/

Herbert

From hartmut_henkel at gmx.de  Tue Jul  1 23:39:01 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 1 Jul 2008 23:39:01 +0200 (CEST)
Subject: [tex-live] Luatex default format names and dvi/pdf modes
In-Reply-To: <200806302328.m5UNSmM24515@f7.net>
References: <200806302328.m5UNSmM24515@f7.net>
Message-ID: <alpine.DEB.1.00.0807012334490.3667@hahepc1.hahe>

On Mon, 30 Jun 2008, Karl Berry wrote:

>     luatex    -> plain + dvi
>     pdfluatex -> plain + pdf
>
> Good.  That is what we have now.

ok, thanks to All for clarification! (from the beginning somehow i had
luatex == pdftex++ in mind)

Regards, Hartmut

From alama at stanford.edu  Tue Jul  1 23:46:17 2008
From: alama at stanford.edu (Jesse Alama)
Date: Tue, 01 Jul 2008 14:46:17 -0700
Subject: [tex-live] texlive 2008 documentation still says "texlive 2007"
Message-ID: <m2iqvpcm6u.fsf@stanford.edu>

I successfully downloaded the developer snapshot of TeXLive 2008 and
opened up 

  texlive/2008/texmf-doc/doc/english/texlive-en/live.html

to learn what to do next.  I was surprised to see "2007", though, all
over the place.  ("2007" might be present in the documentation for other
languages, too.)

Jesse

-- 
Jesse Alama (alama at stanford.edu)


From karl at freefriends.org  Tue Jul  1 23:52:48 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 Jul 2008 16:52:48 -0500
Subject: [tex-live] texlive 2008 documentation still says "texlive 2007"
In-Reply-To: <m2iqvpcm6u.fsf@stanford.edu>
Message-ID: <200807012152.m61Lqm801652@f7.net>

      texlive/2008/texmf-doc/doc/english/texlive-en/live.html

    to learn what to do next.  I was surprised to see "2007", though, all

Indeed, I am not even close to updating the documentation.
Changing 2007 to 2008 is the least of it.

Anyway, there is not much to say about "what to do next" -- the doc
doesn't talk about that.  Just try running some TeX documents (or
MetaPost graphics or whatever).

Thanks for trying it out.

karl

From karl at freefriends.org  Wed Jul  2 00:08:54 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 1 Jul 2008 17:08:54 -0500
Subject: [tex-live] Bug#488707: ps4pdf.sty missing
In-Reply-To: <486A910E.90509@FU-Berlin.DE>
Message-ID: <200807012208.m61M8sM11785@f7.net>

    it is superseeded by pst-pdf and hence moved into the obsolete part
    CTAN:/obsolete/macros/latex/contrib/ps4pdf/

Right, and because it is /obsolete on CTAN, I dropped it from TL.

Frank, I agree with your concerns.  

Herbert, would it make sense to write a ps4pdf.sty that calls the
pst-pdf stuff, so old documents can continue to run?

karl

From reinhard.kotucha at web.de  Wed Jul  2 00:19:37 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 2 Jul 2008 00:19:37 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <48680C0E.6060105@elvenkind.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<200806292054.m5TKsai27178@f7.net>
	<18536.1461.173676.488119@zaphod.ms25.net>
	<48680C0E.6060105@elvenkind.com>
Message-ID: <18538.44409.855672.96973@zaphod.ms25.net>

Taco Hoekwater writes:
 > The example file is tex/context/user/cont-sys.rme, and the canonical
 > location for cont-sys.tex is that same directory.

Hi Taco,
I already added support for context but I'll upload it tomorrow.  I
still have to test it more carefully.  Please excuse my ignorance, but
\setuppapersize takes two arguments (\setuppapersize[A4][A4]).  The
GUI has to determine the current setting.  ATM I'm using the first
argument but it can be changed easily if required.  Which one is
preferable? 

 > Cont-sys is loaded at runtime, so there is no need to regenerate the
 > context formats after creating it, just mktexlsr is sufficient.

Can't pdftex make use of \everyjob in order to load its config file
too?  That would be great.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From gnwiii at gmail.com  Wed Jul  2 00:47:21 2008
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 1 Jul 2008 19:47:21 -0300
Subject: [tex-live] install-tl testing notes
Message-ID: <22af238a0807011547pf700fe7i764484912da33854@mail.gmail.com>

I tried running install-tl under wine, which I find very helpful for
running MiKTeX.
(Apps that don't work with wine probably rely on undocumented or otherwise
suspect Win32 functions and registry entries and need to be fixed).

.\install-tl --gui --url
ftp://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev
under wine (ver .  v9126/9107). There was a problem with the registry
for rfc1766
(I think this comes with Internet Explorer -- not sure if 3rd party
browsers also
provide it).  I just  set

 my $lm = "en";

in TLWinGoo.pm.   The gui claimed the install directory was not
writable, but let me change
from C:\Program Files\texlive\2008 to C:\texlive\2008.  It accepted
the texmf dirs but
still had TEXDIR "(default not writable -- please change)".  I made
some changes to the
configuration and started the install.  It proceeded to download the
files,  About 6 hours
later I hit:

Installing: ziffer

Tk::Error: Can't use an undefined value as a HASH reference at
tlpkg/TeXLive/TLWinGoo.pm line 347.
 TeXLive::TLWinGoo::get_user_path at tlpkg/TeXLive/TLWinGoo.pm line 347
 TeXLive::TLWinGoo::add_texbindir_to_path at tlpkg/TeXLive/TLWinGoo.pm line 494
 main::do_installation at C:\install-tl\install-tl line 477
 main::__ANON__ at tlpkg/installer/install-menu-perltk.pl line 352
 Tk callback for .frame1.frame12.button
 Tk::__ANON__ at C:\install-tl\tlpkg\installer\perllib/Tk.pm line 247
 Tk::Button::butUp at
C:\install-tl\tlpkg\installer\perllib/Tk/Button.pm line 111
 <ButtonRelease-1>
 (command bound to event)

restarting with

.\install-tl --profile installation.profile --url
ftp://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev
Installing: 12many
Downloaded file present, size equal, but md5sum differs
redownloading ftp://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev//tlpkg/12many.tar.lzma!

The same occurred with every file, so either the mirror was updated
while I was running the install
or the md5sum calculation has a problem.  I'm running out of time, but
I did start install-tl under
linux so I could compare the files.  Restarting install-tl on either
platform always gives the
"Downloaded file present, size equal, but md5sum differs" message.

$ ls -l /opt/wine/tl2008/drive_c/texlive/2008/temp/12many.tar.lzma
/opt/tex/texlive/20080701/temp/12many.tar.lzma
-rw-r--r-- 1 gwhite bod 2034 2008-07-01 15:43
/opt/tex/texlive/20080701/temp/12many.tar.lzma
-rw-r--r-- 1 gwhite bod 2034 2008-07-01 19:27
/opt/wine/tl2008/drive_c/texlive/2008/temp/12many.tar.lzma
$ cmp /opt/wine/tl2008/drive_c/texlive/2008/temp/12many.tar.lzma
/opt/tex/texlive/20080701/temp/12many.tar.lzma
(files were the same).

It looks like the new download strategy will be a big improvement.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From pragma at wxs.nl  Wed Jul  2 07:46:59 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 02 Jul 2008 07:46:59 +0200
Subject: [tex-live] Luatex default format names and dvi/pdf modes
In-Reply-To: <alpine.DEB.1.00.0807012334490.3667@hahepc1.hahe>
References: <200806302328.m5UNSmM24515@f7.net>
	<alpine.DEB.1.00.0807012334490.3667@hahepc1.hahe>
Message-ID: <486B1653.4050606@wxs.nl>

Hartmut Henkel wrote:
> On Mon, 30 Jun 2008, Karl Berry wrote:
> 
>>     luatex    -> plain + dvi
>>     pdfluatex -> plain + pdf
>>
>> Good.  That is what we have now.
> 
> ok, thanks to All for clarification! (from the beginning somehow i had
> luatex == pdftex++ in mind)

even if luatex can be seen as pdftex++, it will never have the name 
pdftex because there are fundamental (and incompatible) changes
compared to pdftex itself

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From taco at elvenkind.com  Wed Jul  2 09:21:49 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 02 Jul 2008 09:21:49 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <18538.44409.855672.96973@zaphod.ms25.net>
References: <18535.56975.868887.814873@zaphod.ms25.net>	<200806292054.m5TKsai27178@f7.net>	<18536.1461.173676.488119@zaphod.ms25.net>	<48680C0E.6060105@elvenkind.com>
	<18538.44409.855672.96973@zaphod.ms25.net>
Message-ID: <486B2C8D.5090104@elvenkind.com>

Reinhard Kotucha wrote:
> Taco Hoekwater writes:
>  > The example file is tex/context/user/cont-sys.rme, and the canonical
>  > location for cont-sys.tex is that same directory.
> 
> Hi Taco,
> I already added support for context but I'll upload it tomorrow.  I
> still have to test it more carefully.  Please excuse my ignorance, but
> \setuppapersize takes two arguments (\setuppapersize[A4][A4]).  The
> GUI has to determine the current setting.  ATM I'm using the first
> argument but it can be changed easily if required.  Which one is
> preferable? 

Adjusting both is best. The values' meaning is

   \setuppapersize [<virtual>][<actual>]

were <actual> gives the pdf page dimensions, and <virtual> gives the
usable page area for text, margins, and borders.

The command is for example used for printing in landscape

   \setuppapersize[A4,landscape][A4,landscape]

placing cropmarks

   \setuppapersize[A4][A4,oversized]
   \setuplayout[marking=on]

and for impositioning

   \setuppapersize[A5][A4]
   \setuparranging[2UP]

Best wishes,
Taco




From P.Taylor at Rhul.Ac.Uk  Wed Jul  2 10:06:40 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Ret'd))
Date: Wed, 02 Jul 2008 09:06:40 +0100
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486B2C8D.5090104@elvenkind.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>	<200806292054.m5TKsai27178@f7.net>	<18536.1461.173676.488119@zaphod.ms25.net>	<48680C0E.6060105@elvenkind.com>	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com>
Message-ID: <486B3710.8040209@Rhul.Ac.Uk>



Taco Hoekwater wrote:

 > Reinhard Kotucha wrote:

 > ATM I'm using the first
 >> argument but it can be changed easily if required.  Which one is
 >> preferable?
 >
 > Adjusting both is best.

I think you misinterpret Reinhard; I believe he
wants to /interrogate/ one, and to know which is
more significant.

** Phil.

From taco at elvenkind.com  Wed Jul  2 10:13:58 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 02 Jul 2008 10:13:58 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486B3710.8040209@Rhul.Ac.Uk>
References: <18535.56975.868887.814873@zaphod.ms25.net>	<200806292054.m5TKsai27178@f7.net>	<18536.1461.173676.488119@zaphod.ms25.net>	<48680C0E.6060105@elvenkind.com>	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
Message-ID: <486B38C6.8090400@elvenkind.com>



Philip TAYLOR (Ret'd) wrote:
> 
> 
> Taco Hoekwater wrote:
> 
>  > Reinhard Kotucha wrote:
> 
>  > ATM I'm using the first
>  >> argument but it can be changed easily if required.  Which one is
>  >> preferable?
>  >
>  > Adjusting both is best.
> 
> I think you misinterpret Reinhard; I believe he
> wants to /interrogate/ one, and to know which is
> more significant.

Ah, right. The first argument is best then, as that is the
typesetting rectangle. But Reinhard himself is the person that
wrote the entry in the first place (hopefully) so he could
as well reject anything that does not have the first argument
equal to the second.

Best wishes,
Taco



From siepo at cybercomm.nl  Wed Jul  2 11:20:42 2008
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Wed, 2 Jul 2008 11:20:42 +0200
Subject: [tex-live] More testing of network installation under Windows
In-Reply-To: <200807011953.m61JrnT2025753@comp.uark.edu>
References: <200807011953.m61JrnT2025753@comp.uark.edu>
Message-ID: <20080702092042.GB5758@molly>

On Tue, Jul 01, 2008 at 02:53:49PM -0500, Dan Luecking wrote:
>
> My system: Windows XP Pro, service pack 2
>
> I tested install-tl this afternoon (July 1), using install-tl.zip
> which was apparently updated last night (June 30).
>
> I did two tests: In the first I did not change PATH at all, in the
> second I changed it slightly (see below). For both I selected
> texlive-basic, default paper size = letter, create formats = Yes,
> download font/macro docs = Yes, download font/macro sources = No.
>
> I was able to install and generate formats without making any changes
> to my PATH.
>
> But I got error messages during updmap. This time I was able to trace  
> the problem to a line in updmap.pl:
>
>   @lines = `dir /b /s $f`; # rk. Suppress header and footer from dir output.
>
> I have a set of Gnu-ish utilities from the GnuWin32 project. I was
> not previously aware that one of them is called dir.exe. For some
> reason the above line invoked the *program* dir.exe instead of the
> command processor's *internal* dir command. The following change
> prevented that from happening:
>
>   @lines = `cmd /c dir /b /s $f`; # call cmd.exe explicitly

r 9152: ... `$ENV{'COMSPEC'} /c ...

-- 
Siep Kroonenberg

From fdelente at mail.cpod.fr  Wed Jul  2 18:48:23 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Wed, 2 Jul 2008 18:48:23 +0200
Subject: [tex-live] TL 2008: install doesn't work?
In-Reply-To: <20080702164449.GA23318@smtp.free.fr>
References: <20080702164449.GA23318@smtp.free.fr>
Message-ID: <20080702164823.GA23825@smtp.free.fr>

As an aside to my previous message:

I noticed this in my dmesg: I have many messages like

kpsewhich[23217] trap divide error rip:2ab260c8999e rsp:7fff49e26e10 error:0

that are generated at the time of the failed install. Could it explain the
failure?

-- 
Fabrice DELENTE

From fdelente at mail.cpod.fr  Wed Jul  2 18:44:49 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Wed, 2 Jul 2008 18:44:49 +0200
Subject: [tex-live] TL 2008: install doesn't work?
Message-ID: <20080702164449.GA23318@smtp.free.fr>

Hello.

I'm trying to install the latest TeXLive (2008) on my laptop; it runs
Slamd64 (slackware 11 for AMD64).

I downloaded the install script, then, as root, ran

./install-tl

I didn't change anything to the default configuration.

It downloaded a lot of packages, but at the end I got

Installing: ziffer
running post install action for bin-texdoc
running post install action for bin-texlive
running post install action for texlive-cz
running post install action for texlive-en
running post install action for texlive-fr
running post install action for texlive-ge
running post install action for texlive-pl
running post install action for texlive-ru
running post install action for texlive-zh-cn
running post install action for xetex
running mktexlsr /usr/local/texlive/2008/texmf-dist
/usr/local/texlive/2008/texmf
mktexlsr: Done.
writing fmtutil.cnf data to
/usr/local/texlive/2008/texmf-var/web2c/fmtutil.cnf
writing updmap.cfg to /usr/local/texlive/2008/texmf-var/web2c/updmap.cfg
writing language.dat data to
/usr/local/texlive/2008/texmf-var/tex/generic/config/language.dat
writing language.def data to
/usr/local/texlive/2008/texmf-var/tex/plain/config/language.def
running mktexlsr /usr/local/texlive/2008/texmf-var
mktexlsr: Done.
running updmap-sys
updmap: config file updmap.cfg not found.
re-running mktexlsr /usr/local/texlive/2008/texmf-var
mktexlsr: Done.
pre-generation all format file (fmtutil-sys --all)
/usr/local/texlive/2008/bin/x86_64-linux/fmtutil: line 337:
/texconfig/tcfmgr: No such file or directory
fmtutil: config file fmtutil.cnf' not found.

How can I make the script find these 'updmap.cfg', 'tcfmgr' and
'fmtutil.cnf'?

Thanks.

-- 
Fabrice DELENTE

From aballier at gentoo.org  Wed Jul  2 23:52:39 2008
From: aballier at gentoo.org (Alexis Ballier)
Date: Wed, 2 Jul 2008 23:52:39 +0200
Subject: [tex-live] Filename collision between levy and oesch packages
Message-ID: <20080702235239.2eb30dfb@toz.strangled.net>

Hi all,

It seems both of levy and oesch packages provide the 'lig.mf' file. This
causes me problems when trying to build the oesch tfm file for example,
as reported in [1]. 'kpsewhich lig.mf' gives me the levy one. I've
tried on debian sid and got the same problem. Could anybody help me in
fixing this ? I would fix this by renaming lig.mf from oesch and change
the references to it in that package but I'm not sure of the
implications of such a change; and anyway, this could probably be worth
fixing it for tl as I can reproduce it with the pre-2008 versions.

Regards,

Alexis.

[1] https://bugs.gentoo.org/show_bug.cgi?id=229791
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080702/ea14639a/attachment.bin 

From karl at freefriends.org  Thu Jul  3 00:04:54 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 2 Jul 2008 17:04:54 -0500
Subject: [tex-live] TL 2008: install doesn't work?
In-Reply-To: <20080702164823.GA23825@smtp.free.fr>
Message-ID: <200807022204.m62M4se24241@f7.net>

    kpsewhich[23217] trap divide error rip:2ab260c8999e rsp:7fff49e26e10
    error:0

    that are generated at the time of the failed install. Could it explain the
    failure?

Sure -- if kpsewhich doesn't actually work, then the installation is not
going to be useful.

So maybe the kpsewhich binary on amd64 is broken.  I can't debug that,
sorry ...

From karl at freefriends.org  Thu Jul  3 00:04:54 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 2 Jul 2008 17:04:54 -0500
Subject: [tex-live] TL 2008: install doesn't work?
In-Reply-To: <20080702164449.GA23318@smtp.free.fr>
Message-ID: <200807022204.m62M4sD24229@f7.net>

    /usr/local/texlive/2008/bin/x86_64-linux/fmtutil: line 337:
    /texconfig/tcfmgr: No such file or directory

That bare "/texconfig/tcfmgr" looks wrong.

The tcfmgr script should exist as
/usr/local/texlive/2008/texmf/texconfig/tcfmgr.  Is it there?

Do you have any TEX* environment variables set?

Does kpsewhich --var-value=TEXMFMAIN return the right path?

k

From luecking at uark.edu  Thu Jul  3 00:12:23 2008
From: luecking at uark.edu (Dan Luecking)
Date: Wed, 02 Jul 2008 17:12:23 -0500
Subject: [tex-live] psview (version for windows)
Message-ID: <200807022212.m62MCWRV011951@comp.uark.edu>


Given the enthusiasm expressed for psview, I decided to give it a
test run. Here are the things I found that could, in my opinion use
some improvement. If this is not the place to discuss them, please
let me know. Some of these things may already be in the pipeline.
Some are not really faults, but just a lack of a feature.

  -- There is no help under the help menu...unless you speak Polish.
  -- The help file comes up sideways and requires the user to rotate it
  -- Should setting either page or window grid turn off the other one?
  -- Similarly, should setting unit grid turn off the fine grid?
  -- A scroll bar would be nice, as would buttons for common things
     like zooming in or out one step, paging forward, .
  -- The options documented in README don't work with the batch file psv.
  -- The documented alternative (calling gswxlua) produces "unknown command"
  -- Page-Down/Up moves to the same position on the next/previous page.
     I would prefer the top of the page.
  -- Under the Options menu, Set media gives only 5 choices, none of
     them usletter.
  -- Under the View menu, the keys listed under Align don't work
     unless NumLock is off. But the "Num 1" key is not really a "1"
     unless NumLock is on.
  -- Many .ps files are really ps.gz files with the .gz omitted in the
     name GSview (usiing a full GS version) accepts these without
     problems. PSview (presumably because it uses a stripped down GS)
     doesn't accept them.
  -- Selecting "Quit" on the File menu prompts with this dialog:
     "LEAVE: save restart?". This is confusing at best. The same is true
     of the Restart menu options.
  -- Selecting Print under the File menu seemed to do absolutely nothing,
     but I noticed a new file named !psv_out.jep was created. Neither I
     nor windows knows what it is.

Regards to all,

Dan


Daniel H. Luecking
Department of Mathematical Sciences
University of Arkansas
"Dubito ergo cogito, cogito ergo sum" --Descarte


From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul  3 00:19:25 2008
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed, 02 Jul 2008 23:19:25 +0100
Subject: [tex-live] Filename collision between levy and oesch packages
In-Reply-To: Your message of Wed, 02 Jul 2008 23:52:39 +0200.
	<20080702235239.2eb30dfb@toz.strangled.net> 
Message-ID: <24988.1215037165@mole.cl.cam.ac.uk>

Alexis Ballier <aballier at gentoo.org> wrote:

> It seems both of levy and oesch packages provide the 'lig.mf' file. This
> causes me problems when trying to build the oesch tfm file for example,
> as reported in [1]. 'kpsewhich lig.mf' gives me the levy one. I've
> tried on debian sid and got the same problem. Could anybody help me in
> fixing this ? I would fix this by renaming lig.mf from oesch and change
> the references to it in that package but I'm not sure of the
> implications of such a change; and anyway, this could probably be worth
> fixing it for tl as I can reproduce it with the pre-2008 versions.

there ought to be a rule against files "lig.mf" anyway.  no sensible
person would specify such.

in fact, upstream (i.e., on ctan) it's LIG.MF, which doesn't work at all
on a case-sensitive system... (sigh)

i think i can see the author's current address on google; if no-one
mails to discourage me, i shall attempt contact with him tomorrow, and
propose that i rationalise the file names in his font:

LIG.MF -> oeschlig.mf
OE.DEF -> oesch.def

and update the input commands appropriately.

will report back here if/when it's done.

robin

From aballier at gentoo.org  Wed Jul  2 23:32:06 2008
From: aballier at gentoo.org (Alexis Ballier)
Date: Wed, 2 Jul 2008 23:32:06 +0200
Subject: [tex-live] TeXLive 2008 source patches
Message-ID: <20080702233206.60875483@toz.strangled.net>

Hi all,

I've been playing a bit with the 2008 pre-releases tarballs and I had
a couple of patches against 2007 that still apply there.

Here they are:

020_all_texlive-core-2007-libteckit-asneeded.patch : currently
libteckit needs zlib but isn't linked against it. This caused me
compile failures when linking with --as-needed. I think it had been
applied before but it probably got lost during the updates.

110_all_icu_CVE-2007-4770.patch : icu in tl2008 seems to be still
affected by that CVE; according to Jonathan the code isn't used
anywhere, so this is not a real issue; though I'll still use it just in
case. Anyway, if someone feels like it is a good idea, here it is.

140_all_cpdevnull.patch : This one is more weird. I have a bug report
[1] from someone who had problems with using 'cp /dev/null foo'. It is
probably due to his system which gave him a broken /dev/null. I'm still
unsure if the patch is ok to apply (be it in tl2008 or as a 'vendor'
patch) so I have not yet included it. Could anyone please ack/disack
such a change ? (it seems the 'cp /dev/null' has been there for ages
and that's the first time I see such a problem...).


Regards,

Alexis.

[1] https://bugs.gentoo.org/show_bug.cgi?id=226087
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 020_all_texlive-core-2007-libteckit-asneeded.patch
Type: text/x-patch
Size: 401 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080702/14581ad8/attachment-0004.bin 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 110_all_icu_CVE-2007-4770.patch
Type: text/x-patch
Size: 11094 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080702/14581ad8/attachment-0005.bin 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 140_all_cpdevnull.patch
Type: text/x-patch
Size: 543 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080702/14581ad8/attachment-0006.bin 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080702/14581ad8/attachment-0007.bin 

From karl at freefriends.org  Thu Jul  3 00:42:07 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 2 Jul 2008 17:42:07 -0500
Subject: [tex-live] TeXLive 2008 source patches
In-Reply-To: <20080702233206.60875483@toz.strangled.net>
Message-ID: <200807022242.m62Mg7u22787@f7.net>

Hi Alexis,

    140_all_cpdevnull.patch : This one is more weird. I have a bug report
    [1] from someone who had problems with using 'cp /dev/null foo'. It is
    probably due to his system which gave him a broken /dev/null. I'm still
    unsure if the patch is ok to apply (be it in tl2008 or as a 'vendor'
    patch) so I have not yet included it. Could anyone please ack/disack
    such a change ? (it seems the 'cp /dev/null' has been there for ages
    and that's the first time I see such a problem...).

Indeed, if cp /dev/null doesn't work, it seems to me the system is
fundamentally broken.  I am not inclined to make the change.  Not to
mention look through all sources everywhere to see where else it is done.

The others are for Jonathan ...

Thanks,
karl

    --- texlive-core.orig/texk/make/man.mk
    +++ texlive-core/texk/make/man.mk
    @@ -28,7 +28,7 @@ txt: $(manfiles:.1=.txt)
     # Makefile can change for reasons that do not affect the man pages.
     # At present, all but VERSION should be unused.
     sedscript:
    -	cp /dev/null sedscript
    +	echo > sedscript
            for f in $(kpathsea_dir)/paths.h; do \
              sed -n -e '/^#define/s/#define[ 	][ 	]*\([A-Z_a-z][A-Z_a-z]*\)[ 	][ 	]*\(.*\)/s%@\1@%\2%/p' \
                    $$f \


From staw at gust.org.pl  Thu Jul  3 00:44:50 2008
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 3 Jul 2008 00:44:50 +0200 (CEST)
Subject: [tex-live] psview (version for windows)
In-Reply-To: <200807022212.m62MCWRV011951@comp.uark.edu>
Message-ID: <Pine.LNX.4.44.0807030037510.5497-100000@staw.homedns.org>

On Wed, 2 Jul 2008, Dan Luecking wrote:

> Given the enthusiasm expressed for psview, I decided to give it a
> test run. Here are the things I found that could, in my opinion use
> some improvement. If this is not the place to discuss them, please
> let me know. Some of these things may already be in the pipeline.
> Some are not really faults, but just a lack of a feature.

Ahh well. Sorry, I just uploaded the new version some hours ago, so it 
will be available to update in the morning European time.
There is finally help in English and much more changes/corrections.
Thanks for testing and feel free to send your notes to me and to
bop at bop.com.pl

Best,

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From reinhard.kotucha at web.de  Thu Jul  3 01:02:09 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 3 Jul 2008 01:02:09 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486B38C6.8090400@elvenkind.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<200806292054.m5TKsai27178@f7.net>
	<18536.1461.173676.488119@zaphod.ms25.net>
	<48680C0E.6060105@elvenkind.com>
	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
	<486B38C6.8090400@elvenkind.com>
Message-ID: <18540.2289.79851.372253@zaphod.ms25.net>

Taco Hoekwater writes:
 
 > Philip TAYLOR (Ret'd) wrote:
 > > Taco Hoekwater wrote:
 > >  > Reinhard Kotucha wrote:
 > > 
 > >  > ATM I'm using the first
 > >  >> argument but it can be changed easily if required.  Which one is
 > >  >> preferable?
 > >  >
 > >  > Adjusting both is best.
 > > 
 > > I think you misinterpret Reinhard; I believe he
 > > wants to /interrogate/ one, and to know which is
 > > more significant.
 > 
 > Ah, right. The first argument is best then, as that is the
 > typesetting rectangle. But Reinhard himself is the person that
 > wrote the entry in the first place (hopefully) so he could
 > as well reject anything that does not have the first argument
 > equal to the second.

Thanks, Phil, for the clarification and thanks, Taco, for the Context
crash course.  If anybody wants to test it, check out rev 9175.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul  3 01:17:32 2008
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 03 Jul 2008 00:17:32 +0100
Subject: [tex-live] Filename collision between levy and oesch packages
In-Reply-To: Your message of Wed, 02 Jul 2008 23:19:25 +0100.
	<24988.1215037165@mole.cl.cam.ac.uk> 
Message-ID: <25666.1215040652@mole.cl.cam.ac.uk>

just about to shut down my machine for the night, and i noticed oesch.mf
in an editor window.

it has a very clear no-modify licence.

so i'll now modify the catalogue to say it's other-nonfree

robin

From mojca.miklavec.lists at gmail.com  Thu Jul  3 10:13:46 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 3 Jul 2008 10:13:46 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <18540.2289.79851.372253@zaphod.ms25.net>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<200806292054.m5TKsai27178@f7.net>
	<18536.1461.173676.488119@zaphod.ms25.net>
	<48680C0E.6060105@elvenkind.com>
	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
	<486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
Message-ID: <6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>

On Thu, Jul 3, 2008 at 1:02 AM, Reinhard Kotucha wrote:
>
> and thanks, Taco, for the Context
> crash course.  If anybody wants to test it, check out rev 9175.

There are at least three more things that need to be fixed for ConTeXt:
- texmfcnf.lua or or some similar file is missing (forgot the name,
but I can check)
- any chance to set TEXFCACHE to something different than $HOME? one
now gets $HOME/luatex-cache folder created, which I consider a bit
ugly. I know that Norbert had dozens of requests for Hans, but it
never got really resolved
- modules for ConTeXt need to be imported

- I'm not sure if Karl already uncommented cont-en format for XeTeX
(and have no idea why it failed)
- not really a problem, but when one installs context-scheme, gui
installer gives a red warning saying that no language collection has
been selected

Mojca

From taco at elvenkind.com  Thu Jul  3 11:14:37 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 03 Jul 2008 11:14:37 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>	
	<200806292054.m5TKsai27178@f7.net>	
	<18536.1461.173676.488119@zaphod.ms25.net>	
	<48680C0E.6060105@elvenkind.com>	
	<18538.44409.855672.96973@zaphod.ms25.net>	
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>	
	<486B38C6.8090400@elvenkind.com>	
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
Message-ID: <486C987D.1010205@elvenkind.com>


Hi

Mojca Miklavec wrote:
> On Thu, Jul 3, 2008 at 1:02 AM, Reinhard Kotucha wrote:
>> and thanks, Taco, for the Context
>> crash course.  If anybody wants to test it, check out rev 9175.
> 
> There are at least three more things that need to be fixed for ConTeXt:
> - texmfcnf.lua or or some similar file is missing (forgot the name,
> but I can check)

This file is not really needed, context will work fine without it.

> - any chance to set TEXFCACHE to something different than $HOME? one
> now gets $HOME/luatex-cache folder created, which I consider a bit
> ugly. I know that Norbert had dozens of requests for Hans, but it
> never got really resolved

Actually, just about the only reason for having texmfcnf.lua is for
setting up TEXMFCACHE. The TEXMFCACHE default is:

   TEXMFCACHE=$TMP;$TEMP;$TMPDIR;$TEMPDIR;$HOME;$TEXMFVAR;$VARTEXMF;.

so $HOME is already context's fifth attempt to get a temporary
directory.

I have no idea whether it is even feasible to set up a more sensible
value from texlive, without intimate knowledge of the local system.

Anyway, if that is possible: the file texmfcnf.lua is looked for in
the 'web2c' directories (the search logic is the same as for texmf.cnf).
It should be a lua script that returns a table containing texmf-style
variable(s) as keys. As I said, the only one that makes sense atm is
TEXMFCACHE.

My local one has:

   -- force the cache to the /tmp dir
   config = {}
   config.TEXMFCACHE = "/tmp"
   return config

If $TEXMFVAR is known to be writeable (if present), you could do

   -- force the cache to the /tmp dir
   config = {}
   config.TEXMFCACHE = "$TEXMFVAR;$TMPDIR"
   return config

etc. ?

> - modules for ConTeXt need to be imported

Mojca, are you or Patrick planning to take care of that?

Best wishes,
Taco

From mojca.miklavec.lists at gmail.com  Thu Jul  3 11:34:12 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 3 Jul 2008 11:34:12 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486C987D.1010205@elvenkind.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<18536.1461.173676.488119@zaphod.ms25.net>
	<48680C0E.6060105@elvenkind.com>
	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
	<486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com>
Message-ID: <6faad9f00807030234v6a65ce42ie24fd2a1c2fe5bd2@mail.gmail.com>

> Hi
>
> Mojca Miklavec wrote:
>>
>> On Thu, Jul 3, 2008 at 1:02 AM, Reinhard Kotucha wrote:
>>>
>>> and thanks, Taco, for the Context
>>> crash course.  If anybody wants to test it, check out rev 9175.
>>
>> There are at least three more things that need to be fixed for ConTeXt:
>> - texmfcnf.lua or or some similar file is missing (forgot the name,
>> but I can check)
>
> This file is not really needed, context will work fine without it.
>
>> - any chance to set TEXFCACHE to something different than $HOME? one
>> now gets $HOME/luatex-cache folder created, which I consider a bit
>> ugly. I know that Norbert had dozens of requests for Hans, but it
>> never got really resolved
>
> Actually, just about the only reason for having texmfcnf.lua is for
> setting up TEXMFCACHE. The TEXMFCACHE default is:
>
>  TEXMFCACHE=$TMP;$TEMP;$TMPDIR;$TEMPDIR;$HOME;$TEXMFVAR;$VARTEXMF;.
>
> so $HOME is already context's fifth attempt to get a temporary
> directory.

Yes, but Mac has no TMP variable set, so it always defaults to $HOME.
(Even $HOME/.luatex or $HOME/.texlive would be better.)

Can we (please) set it to some
"this-is-texlive-dir-where-formats-and-other-temporary-junk-should-go"?
I have no idea which folder that is, but anything would be better than
$HOME/luatex-cache.

> I have no idea whether it is even feasible to set up a more sensible
> value from texlive, without intimate knowledge of the local system.
>
> Anyway, if that is possible: the file texmfcnf.lua is looked for in
> the 'web2c' directories (the search logic is the same as for texmf.cnf).
> It should be a lua script that returns a table containing texmf-style
> variable(s) as keys. As I said, the only one that makes sense atm is
> TEXMFCACHE.
>
> My local one has:
>
>  -- force the cache to the /tmp dir
>  config = {}
>  config.TEXMFCACHE = "/tmp"
>  return config
>
> If $TEXMFVAR is known to be writeable (if present), you could do
>
>  -- force the cache to the /tmp dir
>  config = {}
>  config.TEXMFCACHE = "$TEXMFVAR;$TMPDIR"
>  return config
>
> etc. ?
>
>> - modules for ConTeXt need to be imported
>
> Mojca, are you or Patrick planning to take care of that?

We have a mirror for CTAN-ers, but even a better mirror would be what
we have for minimals. I can redirect that. The fastest thing to do
would be to import the folders, but I will write to CTANers again.

Mojca

From taco at elvenkind.com  Thu Jul  3 12:34:55 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 03 Jul 2008 12:34:55 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486C987D.1010205@elvenkind.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>		<200806292054.m5TKsai27178@f7.net>		<18536.1461.173676.488119@zaphod.ms25.net>		<48680C0E.6060105@elvenkind.com>		<18538.44409.855672.96973@zaphod.ms25.net>		<486B2C8D.5090104@elvenkind.com>
	<486B3710.8040209@Rhul.Ac.Uk>		<486B38C6.8090400@elvenkind.com>		<18540.2289.79851.372253@zaphod.ms25.net>	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com>
Message-ID: <486CAB4F.50800@elvenkind.com>

Taco Hoekwater wrote:
> 
> If $TEXMFVAR is known to be writeable (if present), you could do

I just realised I was not clear enough here. What I meant to say was:

If $TEXMFVAR is present *in the environment*, and the directory exists,
and it is writeable, you could ...

The reference to the environment is important because you cannot use 
texmf.cnf values in texmfcnf.lua, because context uses texmfcnf.lua
to *find* texmf.cnf (or more precisely, its preprocessed form) inside
the cache. The three $SELFAUTO... variables are available, though.

Best wishes,
Taco

>   -- force the cache to the /tmp dir
>   config = {}
>   config.TEXMFCACHE = "$TEXMFVAR;$TMPDIR"
>   return config
> 
> etc. ?
> 


From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul  3 13:07:35 2008
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 03 Jul 2008 12:07:35 +0100
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: Your message of Thu, 03 Jul 2008 11:34:12 +0200.
	<6faad9f00807030234v6a65ce42ie24fd2a1c2fe5bd2@mail.gmail.com> 
Message-ID: <2092.1215083255@mole.cl.cam.ac.uk>

Mojca Miklavec <mojca.miklavec.lists at gmail.com> wrote:

> We have a mirror for CTAN-ers, but even a better mirror would be what
> we have for minimals. I can redirect that. The fastest thing to do
> would be to import the folders, but I will write to CTANers again.

i'm not sure i understand that.

we don't mirror anything to do with context.  i used to manually inspect
the context third-party stuff, and then add packages that had been
updated.  then someone (patrick?) told me not everything from that set
should be on ctan, and i should await further instructions.

the instructions never came.  still, saves me time.

context itself is updated by taco uploading a release to vermont.

robin

From dak at gnu.org  Thu Jul  3 14:18:44 2008
From: dak at gnu.org (David Kastrup)
Date: Thu, 03 Jul 2008 14:18:44 +0200
Subject: [tex-live] Package deadlines?
Message-ID: <86od5fkvob.fsf@lola.quinscape.zz>


Hi,

are there deadlines for what has to be when on CTAN to make it into
TeXlive?  Reason I ask is that I am still digging for final bugs in the
bigfoot package and would prefer not to spend the time for a CTAN
submission while still under extreme time pressure.  However, what I
have is already strictly better than what is already there, so there
would be some incentive in getting something to CTAN even when I am not
yet done with the improvements.

-- 
David Kastrup

From zdenek.wagner at gmail.com  Thu Jul  3 17:04:20 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 3 Jul 2008 17:04:20 +0200
Subject: [tex-live] Package deadlines?
In-Reply-To: <86od5fkvob.fsf@lola.quinscape.zz>
References: <86od5fkvob.fsf@lola.quinscape.zz>
Message-ID: <8719b6240807030804p53323cdcy5068f3cdd8f704c3@mail.gmail.com>

2008/7/3 David Kastrup <dak at gnu.org>:
>
> Hi,
>
> are there deadlines for what has to be when on CTAN to make it into
> TeXlive?  Reason I ask is that I am still digging for final bugs in the
> bigfoot package and would prefer not to spend the time for a CTAN
> submission while still under extreme time pressure.  However, what I
> have is already strictly better than what is already there, so there
> would be some incentive in getting something to CTAN even when I am not
> yet done with the improvements.
>
I would also like to know the deadline (or whether it is already after
deadline). I have a few packages that are more than a week on CTAN but
not yet on TL svn:

1. Update of Velthuis devanagari (contains new support for XeTeX with samples)
2. encxvlna - vlna implemented in encTeX
3. ean13isbn - printing EAN13 bar code with ISBN as per new
specification valid since January 1, 2007

Licences are GPL for 1 and LPPL for 2 and 3.

> --
> David Kastrup
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From reinhard.kotucha at web.de  Thu Jul  3 21:34:00 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 3 Jul 2008 21:34:00 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486CAB4F.50800@elvenkind.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<200806292054.m5TKsai27178@f7.net>
	<18536.1461.173676.488119@zaphod.ms25.net>
	<48680C0E.6060105@elvenkind.com>
	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
	<486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com> <486CAB4F.50800@elvenkind.com>
Message-ID: <18541.10664.96540.261995@zaphod.ms25.net>

Taco Hoekwater writes:
 > Taco Hoekwater wrote:
 > > 
 > > If $TEXMFVAR is known to be writeable (if present), you could do
 > 
 > I just realised I was not clear enough here. What I meant to say was:
 > 
 > If $TEXMFVAR is present *in the environment*, and the directory exists,
 > and it is writeable, you could ...
 > 
 > The reference to the environment is important because you cannot use 
 > texmf.cnf values in texmfcnf.lua, because context uses texmfcnf.lua
 > to *find* texmf.cnf (or more precisely, its preprocessed form) inside
 > the cache. The three $SELFAUTO... variables are available, though.


Hi,
TEXMFVAR is apparently the appropriate directory for auto-generated
stuff which a user don't really want to see.  However, setting
kpathsea variables in the environment is never a good solution.

If kpathsea is not avalable, I think that there are two possible
solutions:

  1. TEXMFCACHE=$TMP;$TEMP;$TMPDIR;/tmp

  2. TEXMFCACHE=$HOME/.luatex

The first approach should work on all platforms because, even if none
of the T* variables exist, there should be a directory '/tmp' on Unix
systems at least, and OS X is a Unix.  George recently said that /tmp
is not always writable.  But in this case the administrator *has* to
set these environment variables.  On Windows we can certainly assume
that $TEMP is always set.

The second approach should work as well, but on Windows files with a
leading dot in their name are not hidden.  On Windows one would put
such stuff into $APPDATA.  Though I think that it's doable using the
texlua functions os.type() or os.name(), the first approach is
certainly more straightforward.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Thu Jul  3 22:01:54 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Ret'd))
Date: Thu, 03 Jul 2008 21:01:54 +0100
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <18541.10664.96540.261995@zaphod.ms25.net>
References: <18535.56975.868887.814873@zaphod.ms25.net>	<200806292054.m5TKsai27178@f7.net>	<18536.1461.173676.488119@zaphod.ms25.net>	<48680C0E.6060105@elvenkind.com>	<18538.44409.855672.96973@zaphod.ms25.net>	<486B2C8D.5090104@elvenkind.com>
	<486B3710.8040209@Rhul.Ac.Uk>	<486B38C6.8090400@elvenkind.com>	<18540.2289.79851.372253@zaphod.ms25.net>	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>	<486C987D.1010205@elvenkind.com>
	<486CAB4F.50800@elvenkind.com>
	<18541.10664.96540.261995@zaphod.ms25.net>
Message-ID: <486D3032.8070200@Rhul.Ac.Uk>



Reinhard Kotucha wrote:
[...]

> The second approach should work as well, but on Windows files with a
> leading dot in their name are not hidden.  

Why would you want to /hide/ .luatex ?  How
could a normal user clear the cache if he/she
can't even see that it exists ?!  It's bad
enough Microsoft hiding file extensions by
default; hiding the files themselves is the
sort of thing a rootkit does !

** Phil.

From mojca.miklavec.lists at gmail.com  Thu Jul  3 22:02:16 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 3 Jul 2008 22:02:16 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <18541.10664.96540.261995@zaphod.ms25.net>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
	<486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com> <486CAB4F.50800@elvenkind.com>
	<18541.10664.96540.261995@zaphod.ms25.net>
Message-ID: <6faad9f00807031302t71d3d005vbf1817befb6b61a0@mail.gmail.com>

> Hi,
> TEXMFVAR is apparently the appropriate directory for auto-generated
> stuff which a user don't really want to see.  However, setting
> kpathsea variables in the environment is never a good solution.

They may be set in that lua configuration file.

Mojca

From mojca.miklavec.lists at gmail.com  Thu Jul  3 22:17:36 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 3 Jul 2008 22:17:36 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486D3032.8070200@Rhul.Ac.Uk>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
	<486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com> <486CAB4F.50800@elvenkind.com>
	<18541.10664.96540.261995@zaphod.ms25.net>
	<486D3032.8070200@Rhul.Ac.Uk>
Message-ID: <6faad9f00807031317u7cad6fcfu1b6e3a5b52b3210b@mail.gmail.com>

On Thu, Jul 3, 2008 at 10:01 PM, Philip TAYLOR (Ret'd) wrote:
>
>
> Reinhard Kotucha wrote:
> [...]
>
>> The second approach should work as well, but on Windows files with a
>> leading dot in their name are not hidden.
>
> Why would you want to /hide/ .luatex ?  How
> could a normal user clear the cache if he/she
> can't even see that it exists ?!  It's bad
> enough Microsoft hiding file extensions by
> default; hiding the files themselves is the
> sort of thing a rootkit does !

It doesn't necessary need to be hidden, but I would not want every
application to spoil my home dir.
Maybe there's some other folder much more appropriate for that on
Windows, like "Application Data/something/...", or whatever other
folder that serves some semi-temporary data.

Mojca

From aballier at gentoo.org  Thu Jul  3 22:20:16 2008
From: aballier at gentoo.org (Alexis Ballier)
Date: Thu, 3 Jul 2008 22:20:16 +0200
Subject: [tex-live] Filename collision between levy and oesch packages
In-Reply-To: <25666.1215040652@mole.cl.cam.ac.uk>
References: <24988.1215037165@mole.cl.cam.ac.uk>
	<25666.1215040652@mole.cl.cam.ac.uk>
Message-ID: <20080703222016.65c5dea2@toz.strangled.net>

On Thu, 03 Jul 2008 00:17:32 +0100
Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:

> just about to shut down my machine for the night, and i noticed
> oesch.mf in an editor window.
> 
> it has a very clear no-modify licence.
> 
> so i'll now modify the catalogue to say it's other-nonfree


Thanks for having a look at it.
Does that mean I'd better remove oesch from my texlive packages? Or
just wait for an update and update the oesch package accordingly ?


Alexis.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080703/c3562ea9/attachment.bin 

From mpg at elzevir.fr  Thu Jul  3 22:52:25 2008
From: mpg at elzevir.fr (=?ISO-8859-2?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 03 Jul 2008 22:52:25 +0200
Subject: [tex-live] Package deadlines?
In-Reply-To: <8719b6240807030804p53323cdcy5068f3cdd8f704c3@mail.gmail.com>
References: <86od5fkvob.fsf@lola.quinscape.zz>
	<8719b6240807030804p53323cdcy5068f3cdd8f704c3@mail.gmail.com>
Message-ID: <486D3C09.7030404@elzevir.fr>

Zdenek Wagner scripsit (03.07.2008 17:04)
> 2008/7/3 David Kastrup <dak at gnu.org>:
>>
>> are there deadlines for what has to be when on CTAN to make it into
>> TeXlive?

AFAIK, 24h before the final DVD is built should be enough for normal packages
(ie w/o binaries), but Karl or others probably know better.  For binaries, I
don't know at all when the last build occurs.

> I have a few packages that are more than a week on CTAN but
> not yet on TL svn:
> 
Sorry for that.

> 1. Update of Velthuis devanagari (contains new support for XeTeX with samples)

I was about to update this, but I'm worried about the hindy.sty file being in
'tex/generic': can you check if it's indeed the correct location?

> 2. encxvlna - vlna implemented in encTeX

Done (r9194).

> 3. ean13isbn - printing EAN13 bar code with ISBN as per new
> specification valid since January 1, 2007
> 
Done (r9195).

The last two will be available in tomorrow's tar.lzma packages.

Best,
Manuel.


From zdenek.wagner at gmail.com  Thu Jul  3 23:06:48 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 3 Jul 2008 23:06:48 +0200
Subject: [tex-live] Package deadlines?
In-Reply-To: <486D3C09.7030404@elzevir.fr>
References: <86od5fkvob.fsf@lola.quinscape.zz>
	<8719b6240807030804p53323cdcy5068f3cdd8f704c3@mail.gmail.com>
	<486D3C09.7030404@elzevir.fr>
Message-ID: <8719b6240807031406r2451f954u5b1a0239833d4fe1@mail.gmail.com>

2008/7/3 Manuel P?gouri?-Gonnard <mpg at elzevir.fr>:
> Zdenek Wagner scripsit (03.07.2008 17:04)
>> 2008/7/3 David Kastrup <dak at gnu.org>:
>>>
>>> are there deadlines for what has to be when on CTAN to make it into
>>> TeXlive?
>
> AFAIK, 24h before the final DVD is built should be enough for normal packages
> (ie w/o binaries), but Karl or others probably know better.  For binaries, I
> don't know at all when the last build occurs.
>
>> I have a few packages that are more than a week on CTAN but
>> not yet on TL svn:
>>
> Sorry for that.
>
>> 1. Update of Velthuis devanagari (contains new support for XeTeX with samples)
>
> I was about to update this, but I'm worried about the hindy.sty file being in
> 'tex/generic': can you check if it's indeed the correct location?
>
Yes, it is correct, it's just how babel handles languages. It is not
intended for use with LaTeX, when \usepackage[hindi]{babel} is used,
hindi.ldf will be used. Look e.g. for german.sty.

>> 2. encxvlna - vlna implemented in encTeX
>
> Done (r9194).
>
>> 3. ean13isbn - printing EAN13 bar code with ISBN as per new
>> specification valid since January 1, 2007
>>
> Done (r9195).
>
> The last two will be available in tomorrow's tar.lzma packages.
>
> Best,
> Manuel.
>
Thank you.
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul  3 23:14:06 2008
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 03 Jul 2008 22:14:06 +0100
Subject: [tex-live] Filename collision between levy and oesch packages
In-Reply-To: Your message of Thu, 03 Jul 2008 22:20:16 +0200.
	<20080703222016.65c5dea2@toz.strangled.net> 
Message-ID: <21739.1215119646@mole.cl.cam.ac.uk>

Alexis Ballier <aballier at gentoo.org> wrote:

> On Thu, 03 Jul 2008 00:17:32 +0100
> Robin Fairbairns <Robin.Fairbairns at cl.cam.ac.uk> wrote:
> 
> > just about to shut down my machine for the night, and i noticed
> > oesch.mf in an editor window.
> > 
> > it has a very clear no-modify licence.
> > 
> > so i'll now modify the catalogue to say it's other-nonfree
> 
> Thanks for having a look at it.
> Does that mean I'd better remove oesch from my texlive packages? Or
> just wait for an update and update the oesch package accordingly ?

the updated sources are now on ctan (i got a rapid answer from the
author -- note i've corrected his address in the catalogue authors
list).

i would say it shouldn't be in tex live as it now stands, but karl's the
man whose opinion really counts, i suppose.

i can't do anything tomorrow -- otherwise engaged, i'm afraid.

robin

From karl at freefriends.org  Thu Jul  3 23:25:37 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 Jul 2008 16:25:37 -0500
Subject: [tex-live] Package deadlines?
In-Reply-To: <486D3C09.7030404@elzevir.fr>
Message-ID: <200807032125.m63LPb421303@f7.net>

    AFAIK, 24h before the final DVD is built should be enough for normal
    packages

>From past experience, we'll need more than 24 hours of no updates before
building the final images.

Anyway, given that we have not yet built the final binaries (waiting on
truetype fixes for pdftex from Thanh), or updated the documentation, I
can't envision attempting a freeze for at least a couple more weeks.

As soon as I feel we are getting closer, I'll post.

karl

From karl at freefriends.org  Thu Jul  3 23:28:05 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 Jul 2008 16:28:05 -0500
Subject: [tex-live] Filename collision between levy and oesch packages
In-Reply-To: <20080703222016.65c5dea2@toz.strangled.net>
Message-ID: <200807032128.m63LS5I22490@f7.net>

    Does that mean I'd better remove oesch from my texlive packages? Or
    just wait for an update and update the oesch package accordingly ?

I deleted oesch from TL yesterday.

k

From mpg at elzevir.fr  Thu Jul  3 23:36:17 2008
From: mpg at elzevir.fr (=?ISO-8859-15?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 03 Jul 2008 23:36:17 +0200
Subject: [tex-live] Filename collision between levy and oesch packages
In-Reply-To: <21739.1215119646@mole.cl.cam.ac.uk>
References: <21739.1215119646@mole.cl.cam.ac.uk>
Message-ID: <486D4651.5060109@elzevir.fr>

Robin Fairbairns scripsit (03.07.2008 23:14)
> i would say it shouldn't be in tex live as it now stands, but karl's the
> man whose opinion really counts, i suppose.
> 
It was remove from TL last night.

Manuel.


From gnwiii at gmail.com  Fri Jul  4 00:03:55 2008
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 3 Jul 2008 19:03:55 -0300
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <6faad9f00807031317u7cad6fcfu1b6e3a5b52b3210b@mail.gmail.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<486B3710.8040209@Rhul.Ac.Uk> <486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com> <486CAB4F.50800@elvenkind.com>
	<18541.10664.96540.261995@zaphod.ms25.net>
	<486D3032.8070200@Rhul.Ac.Uk>
	<6faad9f00807031317u7cad6fcfu1b6e3a5b52b3210b@mail.gmail.com>
Message-ID: <22af238a0807031503l33abf0e1p351104ce41f4dd8@mail.gmail.com>

On *X TL200[78] already makes $HOME/.texlive200X/texmf-var for user
(e.g., without -sys) config (texconf) and formats (fmtutil).   Where
does TL put user formats on Win32?

On Thu, Jul 3, 2008 at 5:17 PM, Mojca Miklavec
<mojca.miklavec.lists at gmail.com> wrote:
> On Thu, Jul 3, 2008 at 10:01 PM, Philip TAYLOR (Ret'd) wrote:
>>
>>
>> Reinhard Kotucha wrote:
>> [...]
>>
>>> The second approach should work as well, but on Windows files with a
>>> leading dot in their name are not hidden.
>>
>> Why would you want to /hide/ .luatex ?  How
>> could a normal user clear the cache if he/she
>> can't even see that it exists ?!  It's bad
>> enough Microsoft hiding file extensions by
>> default; hiding the files themselves is the
>> sort of thing a rootkit does !
>
> It doesn't necessary need to be hidden, but I would not want every
> application to spoil my home dir.
> Maybe there's some other folder much more appropriate for that on
> Windows, like "Application Data/something/...", or whatever other
> folder that serves some semi-temporary data.
>
> Mojca
>



-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Fri Jul  4 00:43:31 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 3 Jul 2008 17:43:31 -0500
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
Message-ID: <200807032243.m63MhVw11962@f7.net>

    - I'm not sure if Karl already uncommented cont-en format for XeTeX

Yes I did.  fmtutil --all and the like (which is done by default at the
end of TL installation) will build them both.

karl

From martin at oneiros.de  Fri Jul  4 11:35:09 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 4 Jul 2008 11:35:09 +0200
Subject: [tex-live] Fwd: [XeTeX] a note from the XeTeX author
In-Reply-To: <3C077FD6-5EB8-47C8-9EFF-8DDED89D4FFD@sil.org>
References: <3C077FD6-5EB8-47C8-9EFF-8DDED89D4FFD@sil.org>
Message-ID: <68c491a60807040235t33524aedjfc5f6ec29754d9ed@mail.gmail.com>

---------- Forwarded message ----------
From: Jonathan Kew <jonathan_kew at sil.org>
Date: 2008/7/3
Subject: [XeTeX] a note from the XeTeX author
To: Unicode-based TeX for Mac OS X and other platforms <xetex at tug.org>


To the XeTeX user community:

This note is to let you know that for personal reasons, I have
submitted my resignation to SIL, where I have worked for a number of
years and where XeTeX development has been hosted. I remain
interested in and supportive of SIL's work with and for many
communities around the world, but with effect from the end of July, I
will no longer be working as a member of the organization.

I intend to continue working on XeTeX, which has always been driven
primarily by my own vision and interests, rather than initiated or
managed by SIL, and on other projects and activities in the TeX
world. So this should not have a major impact on development except
for occasional spells of distraction as I make various transitions
over the coming months. And I expect SIL will continue hosting the
XeTeX subversion repository on scripts.sil.org, at least for the time
being.

As I move on from SIL, I will of course need to find other ways to
earn a living. It's possible that someone among the XeTeX community
knows the perfect role for me... if so, I'd appreciate hearing of it!
You all know something of my interests and experience: TeX-related
software development, typesetting (with an emphasis on "unusual"
fonts and scripts; that's why XeTeX exists), OpenType and AAT font
engineering, etc. In the immediate future, I hope to work on a couple
of freelance projects in the font development and typesetting fields,
but would also consider a longer-term position if the right
opportunity comes along.

I hope list members will excuse me for posting this personal,
somewhat off-topic note. Feel free to ignore it, of course, but if
anyone has responses or comments for me I'd be glad to hear them. Off-
list replies (directly to me) are fine; let's not clutter everyone's
mailboxes.

Thanks for being such a great community of users and contributors. I
look forward to continuing participation in this group for a long
time to come.

Jonathan

From mpg at elzevir.fr  Fri Jul  4 11:38:46 2008
From: mpg at elzevir.fr (=?ISO-8859-2?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Fri, 04 Jul 2008 11:38:46 +0200
Subject: [tex-live] Package deadlines?
In-Reply-To: <8719b6240807031406r2451f954u5b1a0239833d4fe1@mail.gmail.com>
References: <86od5fkvob.fsf@lola.quinscape.zz>	
	<8719b6240807030804p53323cdcy5068f3cdd8f704c3@mail.gmail.com>	
	<486D3C09.7030404@elzevir.fr>
	<8719b6240807031406r2451f954u5b1a0239833d4fe1@mail.gmail.com>
Message-ID: <486DEFA6.4020607@elzevir.fr>

Zdenek Wagner scripsit (03.07.2008 23:06)
> Yes, it is correct, it's just how babel handles languages. It is not
> intended for use with LaTeX, when \usepackage[hindi]{babel} is used,
> hindi.ldf will be used. Look e.g. for german.sty.
> 
Ok, sorry for this stupid question. Updated in r9196.

Manuel.

From karl at freefriends.org  Fri Jul  4 17:18:21 2008
From: karl at freefriends.org (Karl Berry)
Date: Fri, 4 Jul 2008 10:18:21 -0500
Subject: [tex-live] restarting TL installation
Message-ID: <200807041518.m64FILF23897@f7.net>

To anyone interested -- please try the TL install again without
specifying -url.

Norbert changed the TL downloading to (a) fix on one mirror, and (b)
include a restart feature.  The general idea is that the downloaded
files are saved and if already present (and not corrupt), not downloaded
again.

At present, for the sake of testing they are never deleted, though we
will change that soon to delete everything on success.

From p.k.f.holzenspies at utwente.nl  Fri Jul  4 18:01:52 2008
From: p.k.f.holzenspies at utwente.nl (=?ISO-8859-1?Q?Philip_H=F6lzenspies?=)
Date: Fri, 4 Jul 2008 17:01:52 +0100
Subject: [tex-live] Minor (almost cosmetic) bug in installer [typo in help]
Message-ID: <E7674706-5B04-4B11-917C-4D34FEA6856F@utwente.nl>

L.S.,

I just downloaded the installer (install-tl-unx.tar.gz) from CTAN.  
When I start it up (text-mode), it presents the "TeX Live installation  
procedure" menu. Entering help ("H<Enter>") gives a help text that  
reads (halfway down the screen): "The schemes menu ('<C>')" I believe  
the last bit should be ('<S>').

Regards,
Philip

From reinhard.kotucha at web.de  Fri Jul  4 18:46:18 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 4 Jul 2008 18:46:18 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <22af238a0807031503l33abf0e1p351104ce41f4dd8@mail.gmail.com>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<486B3710.8040209@Rhul.Ac.Uk> <486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com> <486CAB4F.50800@elvenkind.com>
	<18541.10664.96540.261995@zaphod.ms25.net>
	<486D3032.8070200@Rhul.Ac.Uk>
	<6faad9f00807031317u7cad6fcfu1b6e3a5b52b3210b@mail.gmail.com>
	<22af238a0807031503l33abf0e1p351104ce41f4dd8@mail.gmail.com>
Message-ID: <18542.21466.595006.376169@zaphod.ms25.net>

George N. White III writes:
 > On *X TL200[78] already makes $HOME/.texlive200X/texmf-var for user
 > (e.g., without -sys) config (texconf) and formats (fmtutil).   Where
 > does TL put user formats on Win32?

Into the same directory as on Unix.  Since there is only one texmf.cnf
for all systems now, there can only be one TEXMFVAR.  Karl added support
for tilde expansion to kpathsea.  ~ expands to $HOME on Unix and to
$USERPROFILE on Windows.

Regards,
  Reinhard 

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From fdelente at mail.cpod.fr  Fri Jul  4 20:00:07 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Fri, 4 Jul 2008 20:00:07 +0200
Subject: [tex-live] Binaries don't compile
Message-ID: <20080704180007.GA27344@smtp.free.fr>

Hello.

As the kpsewhich provided with TL2008's install script doesn't work on my
system (it gives a floating point error), I decided to compiled the binaries
myself.

First I did

rsync -a --exclude=.svn tug.org::tldevsrc/Build/source .

in an empty directory, then I went into source/ and did

./configure --without-xindy

as I don't need xindy.

During configure I got several times the error

checking where the main texmf tree is located... not found
configure: WARNING: No texmf tree found at ${prefix}/share/texmf.
*****************************************************************
* Error: The main texmf tree was not found.                     *

but I'm not sure if it's important as I only want to build the programs.

Configure finishes without any other error.

However, when I compile (through make), I get

g++ -I../../libs/icu-xetex/common -I./../../libs/icu-xetex/common -I./../../libs/icu-xetex/layout -DLE_USE_CMEMORY -I./../../libs/freetype2/include  -g -O2 -DXETEX_OTHER -c xetexdir/XeTeXFontInst_FT2.cpp -o XeTeXFontInst_FT2.o
make[2]: *** No rule to make target ../../libs/freetype2/.libs/libfreetype.a', needed by xetex'.  Stop.
make[2]: Leaving directory /usr/local/testSpace/texl/source/texk/web2c'
make[1]: *** [all] Error 1
make[1]: Leaving directory /usr/local/testSpace/texl/source/texk'
make: *** [all] Error 1

What went wrong?

-- 
Fabrice DELENTE

From reinhard.kotucha at web.de  Fri Jul  4 21:38:04 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 4 Jul 2008 21:38:04 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <486D3032.8070200@Rhul.Ac.Uk>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<200806292054.m5TKsai27178@f7.net>
	<18536.1461.173676.488119@zaphod.ms25.net>
	<48680C0E.6060105@elvenkind.com>
	<18538.44409.855672.96973@zaphod.ms25.net>
	<486B2C8D.5090104@elvenkind.com> <486B3710.8040209@Rhul.Ac.Uk>
	<486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com> <486CAB4F.50800@elvenkind.com>
	<18541.10664.96540.261995@zaphod.ms25.net>
	<486D3032.8070200@Rhul.Ac.Uk>
Message-ID: <18542.31772.224973.777522@zaphod.ms25.net>

Philip TAYLOR (Ret'd) writes:
 > Reinhard Kotucha wrote:
 > [...]
 > 
 > > The second approach should work as well, but on Windows files
 > > with a leading dot in their name are not hidden.
 > 
 > Why would you want to /hide/ .luatex ?  

Hi Phil,
people don't want to see all the config files all the time.

On Unix, the command 'ls' doesn't display files with a leading dot in
their names by default.  On Windows such files are put into %APPDATA%.

The effect is the same:

  ls --all $HOME  (Unix)
  dir %APPDATA%   (Windows)

shows all the "hidden" files.  Maybe the word "hidden" confused you
because there is an attribute in the Windows file system which allows
you to hide files.  But this is not what I meant.  The idea is to
avoid to annoy people, not to make the files invisible.

 > How could a normal user clear the cache if he/she can't even see
 > that it exists ?!

Such a cache is quite similar to an ls-R file.  It's maintained by
tools and it shouldn't be necessary that users are aware about all the
internals.  The short answer to your question is: RTFM instead of
reverse-engineer things.

 > It's bad enough Microsoft hiding file extensions by default; hiding
 > the files themselves is the sort of thing a rootkit does !

I think it's clear now what I meant with "hidden".  What a rootkit
does is something completely different.  Rootkits make files
invisible.  That's not what we want.

Regards,
  Reinhard


-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From reinhard.kotucha at web.de  Fri Jul  4 21:58:27 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 4 Jul 2008 21:58:27 +0200
Subject: [tex-live] Minor (almost cosmetic) bug in installer [typo in help]
In-Reply-To: <E7674706-5B04-4B11-917C-4D34FEA6856F@utwente.nl>
References: <E7674706-5B04-4B11-917C-4D34FEA6856F@utwente.nl>
Message-ID: <18542.32995.87975.312605@zaphod.ms25.net>

Philip H?lzenspies writes:

 > I just downloaded the installer (install-tl-unx.tar.gz) from CTAN.  
 > When I start it up (text-mode), it presents the "TeX Live installation  
 > procedure" menu. Entering help ("H<Enter>") gives a help text that  
 > reads (halfway down the screen): "The schemes menu ('<C>')" I believe  
 > the last bit should be ('<S>').

Hi Philip and many thanks for reporting this bug.  It's fixed now in
the repository.  If there are other bugs, please let me know.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From reinhard.kotucha at web.de  Fri Jul  4 22:14:58 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 4 Jul 2008 22:14:58 +0200
Subject: [tex-live]  Binaries don't compile
In-Reply-To: <20080704180007.GA27344@smtp.free.fr>
References: <20080704180007.GA27344@smtp.free.fr>
Message-ID: <18542.33986.897918.382513@zaphod.ms25.net>

Fabrice DELENTE writes:

 > During configure I got several times the error
 > 
 > checking where the main texmf tree is located... not found
 > configure: WARNING: No texmf tree found at ${prefix}/share/texmf.
 > *****************************************************************
 > * Error: The main texmf tree was not found.                     *
 > 
 > but I'm not sure if it's important as I only want to build the programs.

Please ignore this message.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From jonathan_kew at sil.org  Fri Jul  4 22:39:55 2008
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 4 Jul 2008 21:39:55 +0100
Subject: [tex-live] Binaries don't compile
In-Reply-To: <20080704180007.GA27344@smtp.free.fr>
References: <20080704180007.GA27344@smtp.free.fr>
Message-ID: <49FEC9F5-1491-402D-B6C4-D121C58FD55A@sil.org>

On 4 Jul 2008, at 7:00 pm, Fabrice DELENTE wrote:

> I went into source/ and did
>
> ./configure --without-xindy

> <snip>

> However, when I compile (through make), I get
>
> g++ -I../../libs/icu-xetex/common -I./../../libs/icu-xetex/common - 
> I./../../libs/icu-xetex/layout -DLE_USE_CMEMORY -I./../../libs/ 
> freetype2/include  -g -O2 -DXETEX_OTHER -c xetexdir/ 
> XeTeXFontInst_FT2.cpp -o XeTeXFontInst_FT2.o
> make[2]: *** No rule to make target ../../libs/freetype2/.libs/ 
> libfreetype.a', needed by xetex'.  Stop.
> make[2]: Leaving directory /usr/local/testSpace/texl/source/texk/ 
> web2c'
> make[1]: *** [all] Error 1
> make[1]: Leaving directory /usr/local/testSpace/texl/source/texk'
> make: *** [all] Error 1
>
> What went wrong?

I'm guessing that this may be a problem with building directly in the  
source directories. The Build script provided in the repository  
creates a Work subdir, cd's there, and does the configure and make;  
it may well be that there is a problem in the makefiles if you try to  
build directly in the source tree.

Obviously, in an ideal world we'd fix it so that you can build from  
anywhere, but for now I suggest you use the Build script (just do ./ 
Build from the top level of the source tree; it even omits xindy by  
default), or at least examine what it does and try building in a  
similar way.

(If that still doesn't work, we have other problems and will need to  
see more of the configure and/or make logs to be able to tell what's  
failing.)

JK


From fdelente at mail.cpod.fr  Sat Jul  5 09:11:02 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Sat, 5 Jul 2008 09:11:02 +0200
Subject: [tex-live] Binaries don't compile
In-Reply-To: <49FEC9F5-1491-402D-B6C4-D121C58FD55A@sil.org>
References: <20080704180007.GA27344@smtp.free.fr>
	<49FEC9F5-1491-402D-B6C4-D121C58FD55A@sil.org>
Message-ID: <20080705071102.GA1977@smtp.free.fr>

On Fri, Jul 04, 2008 at 09:39:55PM +0100, Jonathan Kew wrote:
> I'm guessing that this may be a problem with building directly in the  
> source directories. The Build script provided in the repository  
> creates a Work subdir, cd's there, and does the configure and make;  
> it may well be that there is a problem in the makefiles if you try to  
> build directly in the source tree.

It worked that way, thanks!

-- 
Fabrice DELENTE

From fdelente at mail.cpod.fr  Sat Jul  5 10:04:46 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Sat, 5 Jul 2008 10:04:46 +0200
Subject: [tex-live] Installing TL2008
Message-ID: <20080705080446.GA8129@smtp.free.fr>

Hello.

After having rebuilt the binaries (because kpsewhich didn't work), I went on
ton install TeXLive.

I used the 'install-tl' script, which downloads and installs from the net.

After having set it up (I excluded the binaries package, as I have built the
binaries myself), I asked for the install.

However I got the same

running updmap-sys
updmap: config file updmap.cfg not found.
re-running mktexlsr /usr/local/texlive/2008/texmf-var
mktexlsr: Done.
pre-generation all format file (fmtutil-sys --all)
/usr/local/texlive/2008/bin/x86_64-linux/fmtutil: line 337: /texconfig/tcfmgr: No such file or directory 
fmtutil: config file fmtutil.cnf' not found.

as on my first try.

I looked into /usr/local/texlive/2008/bin/x86_64-linux/fmtutil, and it seems
that 

MT_TEXMFMAIN=`kpsewhich --var-value=TEXMFMAIN`

doesn't give any value to MT_TEXMFMAIN

Is there a way to override this?

-- 
Fabrice DELENTE

From fdelente at mail.cpod.fr  Sat Jul  5 10:55:03 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Sat, 5 Jul 2008 10:55:03 +0200
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080705080446.GA8129@smtp.free.fr>
References: <20080705080446.GA8129@smtp.free.fr>
Message-ID: <20080705085503.GA28449@smtp.free.fr>

Even after recompiled the binaries, I still have these errors in
/var/log/messages when trying to install:

Jul  5 10:46:52 swift kernel: kpsewhich[28001] trap divide error rip:2b078654899e rsp:7fff24565160 error:0
Jul  5 10:46:52 swift kernel: kpsewhich[28015] trap divide error rip:2b46e0ca299e rsp:7fffc9e0d600 error:0
Jul  5 10:46:52 swift kernel: kpsewhich[28020] trap divide error rip:2b11c5e0399e rsp:7fffe4caac70 error:0

-- 
Fabrice DELENTE

From martin at oneiros.de  Sat Jul  5 16:55:26 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 5 Jul 2008 16:55:26 +0200
Subject: [tex-live] TeX Live 2008 testing - problems downloading
In-Reply-To: <18542.31772.224973.777522@zaphod.ms25.net>
References: <18535.56975.868887.814873@zaphod.ms25.net>
	<486B3710.8040209@Rhul.Ac.Uk> <486B38C6.8090400@elvenkind.com>
	<18540.2289.79851.372253@zaphod.ms25.net>
	<6faad9f00807030113s203e5948s94583ac8185e2560@mail.gmail.com>
	<486C987D.1010205@elvenkind.com> <486CAB4F.50800@elvenkind.com>
	<18541.10664.96540.261995@zaphod.ms25.net>
	<486D3032.8070200@Rhul.Ac.Uk>
	<18542.31772.224973.777522@zaphod.ms25.net>
Message-ID: <68c491a60807050755q1fc092b7w90735c988fd1ac73@mail.gmail.com>

2008/7/4 Reinhard Kotucha <reinhard.kotucha at web.de>:
>  ls --all $HOME  (Unix)

That's GNU, not Unix. :-)
UNIX has ls -a $HOME

Best
   Martin

From jonathan_kew at sil.org  Sat Jul  5 17:50:17 2008
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sat, 5 Jul 2008 16:50:17 +0100
Subject: [tex-live] Binaries don't compile
In-Reply-To: <20080705071102.GA1977@smtp.free.fr>
References: <20080704180007.GA27344@smtp.free.fr>
	<49FEC9F5-1491-402D-B6C4-D121C58FD55A@sil.org>
	<20080705071102.GA1977@smtp.free.fr>
Message-ID: <1AC2BA5D-A26B-4E9B-BC3D-83296D9E6275@sil.org>

On 5 Jul 2008, at 8:11 am, Fabrice DELENTE wrote:

> On Fri, Jul 04, 2008 at 09:39:55PM +0100, Jonathan Kew wrote:
>> I'm guessing that this may be a problem with building directly in the
>> source directories. The Build script provided in the repository
>> creates a Work subdir, cd's there, and does the configure and make;
>> it may well be that there is a problem in the makefiles if you try to
>> build directly in the source tree.
>
> It worked that way, thanks!

OK, that seems to confirm there's a problem with building in-source.  
It's probably my fault, given that it relates to xetex and freetype.  
I'll try to look into it if time permits, but it may not get  
attention right away as it doesn't affect the "normal" build process.

JK


From gnwiii at gmail.com  Sat Jul  5 18:10:17 2008
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 5 Jul 2008 13:10:17 -0300
Subject: [tex-live] Bugs in install-tl for win32
In-Reply-To: <Pine.LNX.4.44.0806260106560.7683-100000@staw.homedns.org>
References: <200806251827.m5PIRepJ007676@comp.uark.edu>
	<Pine.LNX.4.44.0806260106560.7683-100000@staw.homedns.org>
Message-ID: <22af238a0807050910y2a19a3f1xf078a8e6a2af1a2a@mail.gmail.com>

Another test install on linux:

My first attempt died with:

mktexlsr: Done.
writing fmtutil.cnf data to /usr/local/texlive/2008/texmf-var/web2c/fmtutil.cnf
writing updmap.cfg to /usr/local/texlive/2008/texmf-var/web2c/updmap.cfg
writing language.dat data to
/usr/local/texlive/2008/texmf-var/tex/generic/config/language.dat
writing language.def data to
/usr/local/texlive/2008/texmf-var/tex/plain/config/language.def
Tk::Error: Cannot open
/usr/local/texlive/2008/texmf/tex/generic/config/language.us.def at
tlpkg/TeXLive/TLUtils.pm line 1330.
 TeXLive::TLUtils::_create_config_files at tlpkg/TeXLive/TLUtils.pm line 1330
 TeXLive::TLUtils::create_language_def at tlpkg/TeXLive/TLUtils.pm line 1324
 main::do_postinst_stuff at install-tl/install-tl line 951
 main::do_installation at install-tl/install-tl line 452
 main::__ANON__ at tlpkg/installer/install-menu-perltk.pl line 352
 Tk callback for .frame1.frame14.button
 Tk::__ANON__ at
/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/Tk.pm line
250
 Tk::Button::butUp at
/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/Tk/Button.pm
line 175

The second attempt used mirror.unl.edu (16 hops, one of the closest
mirrors), but ended with
the following error:

writing fmtutil.cnf data to /usr/local/texlive/2008/texmf-var/web2c/fmtutil.cnf
writing updmap.cfg to /usr/local/texlive/2008/texmf-var/web2c/updmap.cfg
writing language.dat data to
/usr/local/texlive/2008/texmf-var/tex/generic/config/language.dat
writing language.def data to
/usr/local/texlive/2008/texmf-var/tex/plain/config/language.def
Tk::Error: Cannot open
/usr/local/texlive/2008/texmf/tex/generic/config/language.us.def at
tlpkg/TeXLive/TLUtils.pm line 1330.
 TeXLive::TLUtils::_create_config_files at tlpkg/TeXLive/TLUtils.pm line 1330
 TeXLive::TLUtils::create_language_def at tlpkg/TeXLive/TLUtils.pm line 1324
 main::do_postinst_stuff at install-tl/install-tl line 951
 main::do_installation at install-tl/install-tl line 452
 main::__ANON__ at tlpkg/installer/install-menu-perltk.pl line 352
 Tk callback for .frame1.frame14.button
 Tk::__ANON__ at
/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/Tk.pm line
250
 Tk::Button::butUp at
/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/Tk/Button.pm
line 175

I used "install-tl -gui, from the .tar.gz file downloaded today (July
5), version 9245/9232.

and gave the
error with language.us.def.

On Wed, Jun 25, 2008 at 8:27 PM, Staszek Wawrykiewicz <staw at gust.org.pl> wrote:
> On Wed, 25 Jun 2008, Dan Luecking wrote:
>
>> [...]
>> 2. The install-tl set-up provides perl, wget and lzma. I have all three
>> of those installed on my system as well as TeXLive 2007. Could any
>> of those accidentally get invoked instead of the provided ones? If so,
>> I could disable them temporarily and see if it makes a difference.
>
> As I can recall from your previous mails, You are installing on windows.
> I only suspect that TEXMFCNF env. variable set by TL2007 installer can
> mess the final steps of the TL2008 installer. perl, wget and lzmadec
> are provided for TL2008 and they work internally, that is they are
> not seen and available for other tasks.
> On the other hand we had so many changes in the TL's structure last days,
> so please start your testing again. Eg. 2-3 days ago I also encountered
> missing language.us.def, but that was cured shortly.
>
> All the best,
>
> --
> Staszek Wawrykiewicz
> StaW at gust.org.pl
>
>
>



-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From gnwiii at gmail.com  Sun Jul  6 00:13:43 2008
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 5 Jul 2008 19:13:43 -0300
Subject: [tex-live] restarting TL installation
In-Reply-To: <200807041518.m64FILF23897@f7.net>
References: <200807041518.m64FILF23897@f7.net>
Message-ID: <22af238a0807051513w71c7412exf4356fc9e8926614@mail.gmail.com>

On Fri, Jul 4, 2008 at 12:18 PM, Karl Berry <karl at freefriends.org> wrote:

> To anyone interested -- please try the TL install again without
> specifying -url.
>
> Norbert changed the TL downloading to (a) fix on one mirror, and (b)
> include a restart feature.  The general idea is that the downloaded
> files are saved and if already present (and not corrupt), not downloaded
> again.
>
> At present, for the sake of testing they are never deleted, though we
> will change that soon to delete everything on success.

I tried "install-tl -gui"(without --url) on Fedora 8 linux today (July 5th)
using a fresh download of install-tl from:

 ftp://tug.org/texlive/tlnet/tldev/install-tl-unx.tar.gz

This gave version: 9245/9232


[gwhite at cerberus 2008]$ install-tl/install-tl -gui
Platform: i386-linux => 'Intel x86 with GNU/Linux'
Distribution: net  (downloading)
Directory for Temporary Files: '/home/gwhite/tmp'
Installer Directory: 'install-tl'
Using URL http://ctan.troutlilysoftware.com/systems/texlive/tlnet/tldev
Loading http://ctan.troutlilysoftware.com/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
Cannot read any package from
http://ctan.troutlilysoftware.com/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb,
seems not to be a TLPDB! at tlpkg/TeXLive/TLPDB.pm line 255.

So ctan.troutlilysoftware.com (21 hops) has a problem.

Next attempt used mirror.unl.edu (16 hops)

$ install-tl/install-tl -gui
Platform: i386-linux => 'Intel x86 with GNU/Linux'
Distribution: net  (downloading)
Directory for Temporary Files: '/home/gwhite/tmp'
Installer Directory: 'install-tl'
Using URL http://ctan.troutlilysoftware.com/systems/texlive/tlnet/tldev
Loading http://ctan.troutlilysoftware.com/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
Cannot read any package from
http://ctan.troutlilysoftware.com/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb,
seems not to be a TLPDB! at tlpkg/TeXLive/TLPDB.pm line 255.
[gwhite at cerberus 2008]$ install-tl/install-tl -gui
Platform: i386-linux => 'Intel x86 with GNU/Linux'
Distribution: net  (downloading)
Directory for Temporary Files: '/home/gwhite/tmp'
Installer Directory: 'install-tl'
Using URL http://mirror.unl.edu/ctan/systems/texlive/tlnet/tldev
Loading http://mirror.unl.edu/ctan/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
Installing: 12many
Installing: ANUfinalexam
[..]
running post install action for xetex
running mktexlsr /usr/local/texlive/2008/texmf-dist
/usr/local/texlive/2008/texmf
mktexlsr: Updating /usr/local/texlive/2008/texmf-dist/ls-R...
mktexlsr: Updating /usr/local/texlive/2008/texmf/ls-R...
mktexlsr: Done.
writing fmtutil.cnf data to /usr/local/texlive/2008/texmf-var/web2c/fmtutil.cnf
writing updmap.cfg to /usr/local/texlive/2008/texmf-var/web2c/updmap.cfg
writing language.dat data to
/usr/local/texlive/2008/texmf-var/tex/generic/config/language.dat
writing language.def data to
/usr/local/texlive/2008/texmf-var/tex/plain/config/language.def
Tk::Error: Cannot open
/usr/local/texlive/2008/texmf/tex/generic/config/language.us.def at
tlpkg/TeXLive/TLUtils.pm line 1330.
 TeXLive::TLUtils::_create_config_files at tlpkg/TeXLive/TLUtils.pm line 1330
 TeXLive::TLUtils::create_language_def at tlpkg/TeXLive/TLUtils.pm line 1324
 main::do_postinst_stuff at install-tl/install-tl line 951
 main::do_installation at install-tl/install-tl line 452
 main::__ANON__ at tlpkg/installer/install-menu-perltk.pl line 352
 Tk callback for .frame1.frame14.button
 Tk::__ANON__ at
/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/Tk.pm line
250
 Tk::Button::butUp at
/usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/Tk/Button.pm
line 175

I think this problem was reported previously (for a windows install.


I then ran "install-tl --gui" a third time after creating the missing
file.  This time the install
finished, but it seems to have downloaded every file due to md5sum mismatch:

Platform:  i386-linux  => ' Intel x86 with GNU/Linux '
Distribution: net  (downloading)
Directory for Temporary Files: ' /home/gwhite/tmp '
Installer Directory: './install-tl'
Using URL http://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev
Loading http://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
Installer revision: 9245
Database revision: 9133
Installing: 12many
Downloaded file present, size equal, but md5sum differs
redownloading http://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev/tlpkg/12many.tar.lzma!
Downloaded file present, size equal, but md5sum differs
redownloading http://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev/tlpkg/12many.source.tar.lzma!
Downloaded file present, size equal, but md5sum differs
redownloading http://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev/tlpkg/12many.doc.tar.lzma!

In fact:
$ grep 'md5sum differs' install-tl.log | wc -l
3310

I saw this problem on July 1st (using wine) , but our internet
provider was having problems so I don't thnk
my mail got to the list.


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Sun Jul  6 00:59:55 2008
From: karl at freefriends.org (Karl Berry)
Date: Sat, 5 Jul 2008 17:59:55 -0500
Subject: [tex-live] Bugs in install-tl for win32
In-Reply-To: <22af238a0807050910y2a19a3f1xf078a8e6a2af1a2a@mail.gmail.com>
Message-ID: <200807052259.m65Mxtp32657@f7.net>

    Tk::Error: Cannot open
    /usr/local/texlive/2008/texmf/tex/generic/config/language.us.def at

That's independent of all other errors that have been reported -- I
changed the location of language[.us].def yesterday and failed to make
all the necessary changes.  Hopefully tonight's build will be better.

karl

From karl at freefriends.org  Sun Jul  6 01:11:30 2008
From: karl at freefriends.org (Karl Berry)
Date: Sat, 5 Jul 2008 18:11:30 -0500
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080705080446.GA8129@smtp.free.fr>
Message-ID: <200807052311.m65NBUv05874@f7.net>

Hi Fabrice,

    Is there a way to override this?

You don't want to override it, that'll just delay the inevitable crash.

You need to find out why kpsewhich on your machine, and apparently no
one else's, is getting the floating point exception.  Try running gdb
kpsewhich and see where it gets the fault ...

Best,
k

From fdelente at mail.cpod.fr  Sun Jul  6 09:32:30 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Sun, 6 Jul 2008 09:32:30 +0200
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080706065355.GA1376@smtp.free.fr>
References: <20080705080446.GA8129@smtp.free.fr>
	<200807052311.m65NBUv05874@f7.net>
	<20080706065355.GA1376@smtp.free.fr>
Message-ID: <20080706073230.GA21484@smtp.free.fr>

Another thing: every time I start install-tl, it says for every package that
md5sums differ, so it redownloads everything... is there a way to avoid that?

-- 
Fabrice DELENTE

From fdelente at mail.cpod.fr  Sun Jul  6 08:53:55 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Sun, 6 Jul 2008 08:53:55 +0200
Subject: [tex-live] Installing TL2008
In-Reply-To: <200807052311.m65NBUv05874@f7.net>
References: <20080705080446.GA8129@smtp.free.fr>
	<200807052311.m65NBUv05874@f7.net>
Message-ID: <20080706065355.GA1376@smtp.free.fr>

Hello !

> You need to find out why kpsewhich on your machine, and apparently no
> one else's, is getting the floating point exception.  Try running gdb
> kpsewhich and see where it gets the fault ...

My problem is that, now that I have recompiled the binaries, kpsewhich
doesn't crash when I start it from the command line:

$ export PATH=/home/fab/test/texl/source/inst/bin/x86_64-unknown-linux-gnu:$PATH
$ which kpsewhich
/home/fab/test/texl/source/inst/bin/x86_64-unknown-linux-gnu/kpsewhich
$ /home/fab/test/texl/source/inst/bin/x86_64-unknown-linux-gnu/kpsewhich
Missing argument. Try kpsewhich --help' for more information.

However, when I start install-tl, then kpsewhich gives floating point
exception. So I need to trace kpsewhich faults when install-tl is running.

I'll try replacing kpsewhich with a script that runs 'gdb kpsewhich', and
see what it gives...

-- 
Fabrice DELENTE

From fdelente at mail.cpod.fr  Sun Jul  6 09:23:03 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Sun, 6 Jul 2008 09:23:03 +0200
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080706065355.GA1376@smtp.free.fr>
References: <20080705080446.GA8129@smtp.free.fr>
	<200807052311.m65NBUv05874@f7.net>
	<20080706065355.GA1376@smtp.free.fr>
Message-ID: <20080706072303.GA20582@smtp.free.fr>

The Build script seems to strip the binaries of symbols, is there a way to
build and keep the symbols?

-- 
Fabrice DELENTE

From taco at elvenkind.com  Sun Jul  6 11:04:17 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 06 Jul 2008 11:04:17 +0200
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080706065355.GA1376@smtp.free.fr>
References: <20080705080446.GA8129@smtp.free.fr>	<200807052311.m65NBUv05874@f7.net>
	<20080706065355.GA1376@smtp.free.fr>
Message-ID: <48708A91.4010408@elvenkind.com>

Fabrice DELENTE wrote:
> Hello !
> 
>> You need to find out why kpsewhich on your machine, and apparently no
>> one else's, is getting the floating point exception.  Try running gdb
>> kpsewhich and see where it gets the fault ...
> 
> My problem is that, now that I have recompiled the binaries, kpsewhich
> doesn't crash when I start it from the command line:


Are you running a 2.4.X linux kernel maybe? The texlive linux binaries
only work for 2.6 kernels

Best wishes,
Taco


From fdelente at mail.cpod.fr  Sun Jul  6 14:49:30 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Sun, 6 Jul 2008 14:49:30 +0200
Subject: [tex-live] Installing TL2008
Message-ID: <20080706124930.GA1350@smtp.free.fr>

> Are you running a 2.4.X linux kernel maybe? The texlive linux binaries
> only work for 2.6 kernels

No, I'm using a 2.6 kernel:

$ uname -a
Linux swift 2.6.23.1 #13 SMP PREEMPT Fri Apr 18 09:14:05 CEST 2008 x86_64
x86_64 x86_64 GNU/Linux

-- 
Fabrice DELENTE

From karl at freefriends.org  Sun Jul  6 18:58:58 2008
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2008 11:58:58 -0500
Subject: [tex-live] main texmf tree warning
Message-ID: <200807061658.m66Gww313932@f7.net>

    >  > checking where the main texmf tree is located... not found
    >  > configure: WARNING: No texmf tree found at
    >  > /home/luoyi/src/texlive/Build/source/inst/texmf.

FYI, I changed the configure scripts to skip this uselessly verbose warning.


From karl at freefriends.org  Sun Jul  6 20:49:58 2008
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2008 13:49:58 -0500
Subject: [tex-live] arabicore.sty vs. Arabicore.sty
In-Reply-To: <20080602090137.GA9653@gamma.logic.tuwien.ac.at>
Message-ID: <200807061849.m66Inwe20965@f7.net>

A month+ ago, Norbert wrote:

    - texmf-dist/tex/latex/arabi/arabic.ldf
      does: \InputIfFileExists{Arabicore.sty}{% ...
      but there is only a file arabicore.sty (a <-> A)

I made the minimal change (appended) to
texmf-dist/tex/latex/arabi/arabic.ldf in TeX Live.

CTAN, will you consider updating
language/arabic/arabi/arabi/texmf/latex/arabi/arabic.ldf please?

Youssef, is there any hope of an arabi update in the near future?  In
any case, you may want to take a look at the Debian patch, which also
updates the messages and comments:
http://svn.debian.org/wsvn/debian-tex/texlive-new/trunk/texlive-lang/debian/patches/20_lowercase_Arabicore?op=file&rev=0&sc=0


Here was my change, ignoring everything but the actual code:

--- arabic.ldf  (revision 9284)
+++ arabic.ldf  (working copy)
@@ -105,7 +105,7 @@
 %
 % First, the common part to Arabic and Farsi
 %
-\InputIfFileExists{Arabicore.sty}{%
+\InputIfFileExists{arabicore.sty}{%
   \message{Loading the Common definitions for Arabic and Farsi}}{%
   \errhelp{I can't find the Arabicore.sty file}%
   \errmessage{Since I can't find the Arabicore.sty file^^J

Thanks,
Karl

From karl at freefriends.org  Sun Jul  6 20:57:31 2008
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2008 13:57:31 -0500
Subject: [tex-live] pubform.bib spurious @ character
Message-ID: <200807061857.m66IvVt25331@f7.net>

Hello Dr. Vollmer and all,

We received a report about the file pubform.bib in the acmconf package.

It contains the standard headers for LaTeX, including the character
table, but the character table contains the character "@".  This breaks
the BibTeX file, since there are no comments per se in bibtex files.

Since it is LaTeX that is "helpfully" inserting that character table
when your .dtx is processed, I'm afraid I don't know how to solve it.

For the record, Oren tells me that he plans to define real comments in
a bug fix BibTeX release.  When that will happen, I have no idea.

Norbert, I moved pubform.bib out of the runtime.  It's only for the
acmconf doc anyway, as far as I can see.

Best,
Karl

From alama at stanford.edu  Sun Jul  6 22:46:54 2008
From: alama at stanford.edu (Jesse Alama)
Date: Sun, 06 Jul 2008 13:46:54 -0700
Subject: [tex-live] trouble install tl2008 developer snapshot:
	language.us.def seems to be missing
Message-ID: <m2od5a68qp.fsf@stanford.edu>

I downloaded the latest tl2008 developer snapshot installer (July 6,
2008), installed some packages, and ended up with the following error:

  running post install action for bin-texdoc
  running post install action for bin-texlive
  running post install action for texlive-en
  running mktexlsr /usr/local/texlive/2008/texmf-dist /usr/local/texlive/2008/texmf
  mktexlsr: Updating /usr/local/texlive/2008/../texmf-local/ls-R... 
  mktexlsr: Updating /usr/local/texlive/2008/texmf/ls-R... 
  mktexlsr: Updating /usr/local/texlive/2008/texmf-config/ls-R... 
  mktexlsr: Updating /usr/local/texlive/2008/texmf-dist/ls-R... 
  mktexlsr: Updating /usr/local/texlive/2008/texmf-doc/ls-R... 
  mktexlsr: Updating /usr/local/texlive/2008/texmf-var/ls-R... 
  mktexlsr: Done.
  writing fmtutil.cnf data to /usr/local/texlive/2008/texmf-var/web2c/fmtutil.cnf
  writing updmap.cfg to /usr/local/texlive/2008/texmf-var/web2c/updmap.cfg
  writing language.dat data to /usr/local/texlive/2008/texmf-var/tex/generic/config/language.dat
  writing language.def data to /usr/local/texlive/2008/texmf-var/tex/plain/config/language.def
  Cannot open /usr/local/texlive/2008/texmf/tex/generic/config/language.us.def at tlpkg/TeXLive/TLUtils.pm line 1329.

What might be going on?

Thanks,

Jesse

-- 
Jesse Alama (alama at stanford.edu)


From mpg at elzevir.fr  Sun Jul  6 23:31:04 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Sun, 06 Jul 2008 23:31:04 +0200
Subject: [tex-live] trouble install tl2008 developer
 snapshot:	language.us.def seems to be missing
In-Reply-To: <m2od5a68qp.fsf@stanford.edu>
References: <m2od5a68qp.fsf@stanford.edu>
Message-ID: <48713998.2050900@elzevir.fr>

Jesse Alama scripsit (06.07.2008 22:46)
>   Cannot open /usr/local/texlive/2008/texmf/tex/generic/config/language.us.def
> [...]
> What might be going on?
> 
It is (was) a known problem.  Karl corrected it yesterday evening.  The fix
should not take long to propagate to your nearby mirror...

Thanks for reporting !

Manuel.

From karl at freefriends.org  Mon Jul  7 01:09:03 2008
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2008 18:09:03 -0500
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080706065355.GA1376@smtp.free.fr>
Message-ID: <200807062309.m66N93616492@f7.net>

    However, when I start install-tl, then kpsewhich gives floating point
    exception. So I need to trace kpsewhich faults when install-tl is running.

Try moving your new kpsewhich binary into the actual bin dir (move the
failing one aside), and run it from there (under gdb).

The specific invocation in fmtutil (which is what install-tl is
eventually calling) is this:

kpsewhich --var-value=TEXMFMAIN
 
    I'll try replacing kpsewhich with a script that runs 'gdb kpsewhich', and
    see what it gives...

And then "run" as a here document?  Hmm.

karl

From karl at freefriends.org  Mon Jul  7 01:11:54 2008
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2008 18:11:54 -0500
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080706072303.GA20582@smtp.free.fr>
Message-ID: <200807062311.m66NBsP18326@f7.net>

    The Build script seems to strip the binaries of symbols, is there a way to
    build and keep the symbols?
    
This should do it:
TL_TARGET=install Build

However, once you've done the full Build once, it's inconvenient to do
it again.  Instead, what I do is
make -C .../Build/source/Work/texk/kpathsea

That way, I can change the source files (in Build/source/texk/kpathsea)
and rerun make for just that directory to get the new kpsewhich.

Hope this helps,
karl

From karl at freefriends.org  Mon Jul  7 01:14:37 2008
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2008 18:14:37 -0500
Subject: [tex-live] Installing TL2008
In-Reply-To: <20080706073230.GA21484@smtp.free.fr>
Message-ID: <200807062314.m66NEbj19676@f7.net>

    Another thing: every time I start install-tl, it says for every
    package that md5sums differ, so it redownloads everything... is
    there a way to avoid that?

It doesn't happen for me.  Perhaps the md5 stuff (a recent addition) and
the tlpdb you got are not in sync.  Or maybe it's because your
install-tl is bombing out so early.  Once you get a successful install,
it shouldn't be an issue any more.

From karl at freefriends.org  Mon Jul  7 02:51:49 2008
From: karl at freefriends.org (Karl Berry)
Date: Sun, 6 Jul 2008 19:51:49 -0500
Subject: [tex-live] wsuipa compilefonts comments are not shell commands
Message-ID: <200807070051.m670pnb32385@f7.net>

    - texmf-dist/fonts/source/public/wsuipa/compilefonts
      this is a script that should be run, but it starts with the
      documentation without any comment markers, should be patched
      patch: http://svn.debian.org/wsvn/debian-tex/texlive-new/trunk/texlive-extra/debian/patches/10_wsuipa?op=file&rev=0&sc=0

Well, there is no actual reason to run it, these days, so I don't want
to take the time to track down Chet Creider (hmm, I used to know him)
and explain it all to him.  (I wonder if these wsuipa fonts are truly
free, BTW.  I see no notices anywhere.)

Here is a shorter patch.  CTAN, if you want to install this in
CTAN/fonts/wsuipa/mf/compilefonts, feel free.  If you don't, I don't
mind that either.  TL never runs it anyway and never will.

karl

--- compilefonts        (revision 9303)
+++ compilefonts        (working copy)
@@ -28,6 +28,8 @@
     done
 done

+exit $?
+
 ------------------------------------8<------------------------------------
 The 300pk fonts in this directory should be sufficient for use with most
 standard 300dpi laserprinters.  If you use a recent version of dvips, it

From panov at canopus.iacp.dvo.ru  Mon Jul  7 06:47:05 2008
From: panov at canopus.iacp.dvo.ru (Andrey V. Panov)
Date: Mon, 7 Jul 2008 15:47:05 +1100
Subject: [tex-live] on cm-super fonts
Message-ID: <200807071547.06386.panov@canopus.iacp.dvo.ru>

Cm-super fonts lacks BlueValues and OtherBlues entries in PS Private values. 
Therefore they are badly displayed by Adobe Reader. These values could be 
generated with the fontforge using the script attached. Also this script 
rearranges the contours and first points (this makes the files smaller) and 
rehints the fonts (this could be removed by deleting  "AutoHint();\" ). The 
script works as follows:

1. Copy all the pfb and afm files into a directory
2. Run the script
3. Move the resulting files into appropriate places.

V. Volovich knows about it but have not done anything.

-- 
Andrey V. Panov
http://canopus.iacp.dvo.ru/~panov/
-------------- next part --------------
A non-text attachment was scrubbed...
Name: fix-cm-super.sh
Type: application/x-shellscript
Size: 1503 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080707/c459510c/attachment.bin 

From alama at stanford.edu  Mon Jul  7 07:23:13 2008
From: alama at stanford.edu (Jesse Alama)
Date: Sun, 06 Jul 2008 22:23:13 -0700
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
Message-ID: <m2myku469q.fsf@stanford.edu>

In the latest texlive 2008 developer snapshot (July 5), I'm having
trouble starting context:

  $ context
  MtxRun | unknown script: context

I followed the recommendation, gotten from the context mailing list, to
set

  LUAINPUTS=.;$TEXMF/tex/{context,plain/base,generic}//:$TEXMF/scripts/context/lua
  TEXMFSCRIPTS=.;$TEXMF/tex/{context,plain/base,generic,}//;$TEXMF/scripts/context// 

in texmf.cnf, but doing so has no effect (i.e., the same error arises).  

The luatools program also seems to be having trouble:

  $ luatools --generate
  LuaTools | variable SELFAUTOLOC set to /usr/local/texlive/2008/bin/i386-darwin
  LuaTools | variable SELFAUTODIR set to /usr/local/texlive/2008/bin
  LuaTools | variable SELFAUTOPARENT set to /usr/local/texlive/2008/bin/i386-darwin/
  LuaTools | variable TEXMFCNF set to {$SELFAUTODIR,$SELFAUTOPARENT}{,{/share,}/texmf{-local,.local,}/web2c}
  LuaTools | no cnf files found (TEXMFCNF may not be set/known)
  LuaTools | 
  LuaTools | runtime: 0.007 seconds

Any idea what might be going on?

Thanks,

Jesse

-- 
Jesse Alama (alama at stanford.edu)


From preining at logic.at  Mon Jul  7 09:33:03 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 09:33:03 +0200
Subject: [tex-live] restarting TL installation
In-Reply-To: <22af238a0807051513w71c7412exf4356fc9e8926614@mail.gmail.com>
References: <200807041518.m64FILF23897@f7.net>
	<22af238a0807051513w71c7412exf4356fc9e8926614@mail.gmail.com>
Message-ID: <20080707073303.GD1717@gamma.logic.tuwien.ac.at>

On Sa, 05 Jul 2008, George N. White III wrote:
> Installing: 12many
> Downloaded file present, size equal, but md5sum differs
> redownloading http://carroll.aset.psu.edu/pub/CTAN/systems/texlive/tlnet/tldev/tlpkg/12many.tar.lzma!

That is really strange, I guess for now I will add to the output the md5
sums as found in the tlpdb and the one downloaded and see what is the
problem.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
WROOT (n.)
A short little berk who thinks that by pulling on his pipe and gazing
shrewdly at you he will give the impression that he is infinitely wise
and 5 ft 11 in.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Mon Jul  7 09:37:22 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 09:37:22 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <m2myku469q.fsf@stanford.edu>
References: <m2myku469q.fsf@stanford.edu>
Message-ID: <20080707073722.GE1717@gamma.logic.tuwien.ac.at>

On So, 06 Jul 2008, Jesse Alama wrote:
> Any idea what might be going on?

Probably 10000000s of things. Due to me being low on time I couldn't
follow the ConTeXt stuff, but what you did is AFAIR (!!!) not enough.
You have to set IN THE ENVIRONMENT! (export ...)
	TEXMFCNF
and then call the luatools --generate.
I have written up something for the Debian system, but in parts it could
apply to your situation:
http://svn.debian.org/wsvn/debian-tex/context/trunk/debian/README.MarkIV?op=file&rev=0&sc=0

But then again, YMMV.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MANKINHOLES (pl.n.)
The small holes in a loaf of bread which give rise to the momentary
suspicion that something may have made its home within.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Mon Jul  7 09:48:32 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Jul 2008 09:48:32 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080707073722.GE1717@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
Message-ID: <4871CA50.3080702@elvenkind.com>


Hi Norbert,

Norbert Preining wrote:
> On So, 06 Jul 2008, Jesse Alama wrote:
>> Any idea what might be going on?
> 
> Probably 10000000s of things. Due to me being low on time I couldn't
> follow the ConTeXt stuff, but what you did is AFAIR (!!!) not enough.
> You have to set IN THE ENVIRONMENT! (export ...)
> 	TEXMFCNF
> and then call the luatools --generate.
> I have written up something for the Debian system, but in parts it could
> apply to your situation:
> http://svn.debian.org/wsvn/debian-tex/context/trunk/debian/README.MarkIV?op=file&rev=0&sc=0

I will sort this out and report back.

Best wishes,
Taco


From preining at logic.at  Mon Jul  7 09:31:49 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 09:31:49 +0200
Subject: [tex-live] supposedly missing Popup.pm
In-Reply-To: <20080630151132.GC5876@molly>
References: <200806292307.m5TN7vf26076@f7.net> <20080630151132.GC5876@molly>
Message-ID: <20080707073149.GC1717@gamma.logic.tuwien.ac.at>

On Mo, 30 Jun 2008, Siep Kroonenberg wrote:
> I set PERL5LIB in install-tl.bat, and don't treat @INC specially for
> Windows in install-tl itself. The problem went away, but it is
> completely voodoo.

It is. Thanks a lot. Don't ask me what/why but BIG THANKS again!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
`This must be Thursday,' said Arthur to himself, sinking
low over his beer, `I never could get the hang of
Thursdays.'
                 --- Arthur, on what was to be his last Thursday on Earth.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From preining at logic.at  Mon Jul  7 09:56:14 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 09:56:14 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <4871CA50.3080702@elvenkind.com>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
Message-ID: <20080707075614.GA4230@gamma.logic.tuwien.ac.at>

On Mo, 07 Jul 2008, Taco Hoekwater wrote:
> I will sort this out and report back.

Great, thanks!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SUTTON and CHEAM (nouns)
Sutton and cheam are the kinds of dirt into which all dirt is
divided. 'Sutton' is the dark sort that always gets on to
light-coloured things, 'cheam' the light-coloured sort that clings to
dark items. Anyone who has ever found Marmite stains on a dress-shirt
or seagull goo on a dinner jacket (a) knows all about sutton and
cheam, and (b) is going to tome very curious dinner parties.
			--- Douglas Adams, The Meaning of Liff

From mailing_list at arcor.de  Mon Jul  7 12:03:21 2008
From: mailing_list at arcor.de (Stephan Hennig)
Date: Mon, 07 Jul 2008 12:03:21 +0200
Subject: [tex-live] need assistance for writing package installation
	instructions
Message-ID: <g4sppa$861$1@ger.gmane.org>

Hi,

the dehyph-exptl package (experimental German hyphenation patterns) will
be pre-installed in TeX Live 2008, but as a co-maintainer of the package
I think we should provide some installation instructions for existing TL
editions, i.e., TL <= 2007.  Unfortunately, I actually don't use TeX
Live myself and so far I've got some assistance by Karl, but there has
been a user complaint now, that I cannot sort out myself.  Instead of
bothering Karl again, I hope to get some assistance here.

I've attached the current installation instructions at the end of this
mail.  Item C.7 shows the command 'tlmgr generate language' that should
read language definitions off language-local.dat and merge those to the
global language.dat.

A user running TeX Live 2007 from openSuSE 11.0 complained that command

  tlmgr

cannot be found.

My questions are:

(i) Is the user right?

(ii) How long has tlmgr been part of TeX Live?

(iii) In case, tlmgr has/will only be introduced in TL 2008, what would
be proper installation instructions for TL <= 2007 (preferably, without
directly modifying global language.dat).

The same user complained that command 'fmtutil --refresh' doesn't work
unless he removes the line

  pinyin		xu-pyhyph.tex

from language.dat, probably due to a misconfiguration of the openSuSE
TeX Live package.  Unfortunately, the user didn't provide exact error
messages.  Is this a known problem?

Best regards,
Stephan Hennig



> ******************************************************
> **  English installation instructions for TeX Live  **
> ******************************************************
> Installation of the dehyph-exptl package requires three steps.
> Note, in the remaining text <date> refers to the pattern file
> date in ISO notation (YYYY-MM-DD)!
> 
> A. Copy pattern and wrapper files to the following location
>    within a local texmf tree:
> 
>       tex/generic/dehyph-exptl/dehyphn-x-<date>.pat
>       tex/generic/dehyph-exptl/dehyphn-x-<date>.tex
>       tex/generic/dehyph-exptl/dehypht-x-<date>.pat
>       tex/generic/dehyph-exptl/dehypht-x-<date>.tex
> 
>    The remaining files can be copied to
> 
>       doc/generic/dehyph-exptl/
> 
> 
> B. Refresh file name database.  See documentation of your
>    TeX distribution to learn how to do this.  The command
>    should be similar to
> 
>       >mktexlsr
> 
> 
> C. Modify language.dat and rebuild format files.
> 
> 
>   1. Determine the location of language-local.dat:
> 
>       >kpsewhich language-local.dat
> 
>      If the resulting path already points to a local tree,
>      jump right to step C.3.
> 
>   2. A local copy of language-local.dat doesn't exist, yet.
>      Create a new file lanuage-local.dat in a local texmf tree,
>      e.g.,
> 
>        <TeXLiveRoot>/texmf-local/tex/generic/config/language-local.dat
> 
>   3. Open language-local.dat from the local texmf tree into an
>      editor.
> 
>   4. If existent, remove the following lines
> 
>   =german-x-latest
>   =ngerman-x-latest
> 
>   5. Add the following lines to the end of language-local.dat:
> 
>   german-x-<date> dehypht-x-<date>.tex
>   =german-x-latest
>   ngerman-x-<date> dehyphn-x-<date>.tex
>   =ngerman-x-latest
> 
>   6. Save language-local.dat and close the editor.
> 
>   7. Make new languages known to TeX Live:
> 
>       >mktexlsr                  (just to be sure)
>       >tlmgr generate language
> 
>   8. Rebuild format files:
> 
>       >fmtutil --refresh
> 
>      In case this command fails with error message
> 
>        >TeX capacity exceeded, sorry [pattern memory=XXX]
> 
>      or
> 
>        >TEX capacity exceeded, sorry [pattern memory ops=XXX]
> 
>      some languages have to be deactivated in language.dat or
>      parameters trie_size and trie_op_size have to be enlarged.
>      Please refer to the documentation of your TeX distribution
>      or ask a TeX wizard.
> 
> 
> END.


From preining at logic.at  Mon Jul  7 14:12:11 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 14:12:11 +0200
Subject: [tex-live] need assistance for writing package installation
	instructions
In-Reply-To: <g4sppa$861$1@ger.gmane.org>
References: <g4sppa$861$1@ger.gmane.org>
Message-ID: <20080707121211.GB2160@gamma.logic.tuwien.ac.at>

Hi Stephan,

On Mo, 07 Jul 2008, Stephan Hennig wrote:
>   tlmgr
> 
> cannot be found.
> 
> My questions are:
> 
> (i) Is the user right?

Yes, tlmgr appears the first time in 2008

> (ii) How long has tlmgr been part of TeX Live?

Since 2008.

> (iii) In case, tlmgr has/will only be introduced in TL 2008, what would
> be proper installation instructions for TL <= 2007 (preferably, without
> directly modifying global language.dat).

No chance, edit it by hand. There is no other way but editing by hand
language.dat

> The same user complained that command 'fmtutil --refresh' doesn't work
> unless he removes the line
> 
>   pinyin		xu-pyhyph.tex
> 
> from language.dat, probably due to a misconfiguration of the openSuSE
> TeX Live package.  Unfortunately, the user didn't provide exact error
> messages.  Is this a known problem?

Furthermore, OpenSUSE might do other things different from TeX Live. So
for example it could in some way generate language.dat on the fly.

Nobody but OpenSuSE users can know that.

To be honest, I would write:
	If you are so advanced that you play around with experimental
	patterns then you should also know what to do and where to
	put the files and how to recreate all the stuff.
;-)))

> > C. Modify language.dat and rebuild format files.
> > 
> > 
> >   1. Determine the location of language-local.dat:
> > 
> >       >kpsewhich language-local.dat
> > 
> >      If the resulting path already points to a local tree,
> >      jump right to step C.3.

language-local.dat is also an addition to TL2008, it does not exist in
prior versions.

> >        >TEX capacity exceeded, sorry [pattern memory ops=XXX]
> > 
> >      some languages have to be deactivated in language.dat or
> >      parameters trie_size and trie_op_size have to be enlarged.
> >      Please refer to the documentation of your TeX distribution
> >      or ask a TeX wizard.

Here you could just tell them to edit texmf.cnf and change
	trie_size
(enlarge it)


Do we *really* need normal users to test experimental hyphenation
patterns?????

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
TWEEDSMUIR (collective n.)
The name given to the extensive collection of hats kept in the
downstairs lavatory which don't fit anyone in the family.
			--- Douglas Adams, The Meaning of Liff

From alama at stanford.edu  Mon Jul  7 06:51:11 2008
From: alama at stanford.edu (Jesse Alama)
Date: Sun, 06 Jul 2008 21:51:11 -0700
Subject: [tex-live] trouble install tl2008
	developer	snapshot:	language.us.def seems to be missing
In-Reply-To: <48713998.2050900@elzevir.fr> ("Manuel =?iso-8859-1?Q?P=E9gou?=
	=?iso-8859-1?Q?ri=E9-Gonnard=22's?=
	message of "Sun, 06 Jul 2008 23:31:04 +0200")
References: <m2od5a68qp.fsf@stanford.edu> <48713998.2050900@elzevir.fr>
Message-ID: <m2y74e47r4.fsf@stanford.edu>

Manuel P?gouri?-Gonnard <mpg at elzevir.fr> writes:

> Jesse Alama scripsit (06.07.2008 22:46)
>>   Cannot open /usr/local/texlive/2008/texmf/tex/generic/config/language.us.def
>> [...]
>> What might be going on?
>> 
> It is (was) a known problem.  Karl corrected it yesterday evening.  The fix
> should not take long to propagate to your nearby mirror...

I can confirm that the problem was solved by the latest tl2008 snapshot.

Jesse

-- 
Jesse Alama (alama at stanford.edu)

From alama at stanford.edu  Mon Jul  7 09:58:04 2008
From: alama at stanford.edu (Jesse Alama)
Date: Mon, 07 Jul 2008 00:58:04 -0700
Subject: [tex-live] trouble starting context on latest tl2008
	developer	snapshot
In-Reply-To: <20080707073722.GE1717@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Mon, 7 Jul 2008 09:37:22 +0200")
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
Message-ID: <m263ri3z3n.fsf@stanford.edu>

Norbert Preining <preining at logic.at> writes:

> On So, 06 Jul 2008, Jesse Alama wrote:
>> Any idea what might be going on?
>
> Probably 10000000s of things. Due to me being low on time I couldn't
> follow the ConTeXt stuff, but what you did is AFAIR (!!!) not enough.
> You have to set IN THE ENVIRONMENT! (export ...)
> 	TEXMFCNF
> and then call the luatools --generate.

This helped: I set TEXMFCNF to /usr/local/texlive/2008/texmf/web2c and
ran luatools --generate.  Now context does not immediately fail:

  $ context
  MtxRun | version 1.1.0 - 2007+ - PRAGMA ADE / CONTEXT | context tools 
  [snip]

> I have written up something for the Debian system, but in parts it could
> apply to your situation:
> http://svn.debian.org/wsvn/debian-tex/context/trunk/debian/README.MarkIV?op=file&rev=0&sc=0
>
> But then again, YMMV.

It did vary.  I set TEXMFCACHE to $HOME, but it seems that some other
variables need to be set:

  $ luatools --ini cont-en
  LuaTools | no tex file with name: cont-en.tex
  LuaTools | 
  LuaTools | runtime: 0.048 seconds

Any idea what other variables need to be set?

Thanks,

Jesse

-- 
Jesse Alama (alama at stanford.edu)

From taco at elvenkind.com  Mon Jul  7 16:42:41 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Jul 2008 16:42:41 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080707075614.GA4230@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
Message-ID: <48722B61.5050900@elvenkind.com>



Norbert Preining wrote:
> On Mo, 07 Jul 2008, Taco Hoekwater wrote:
>> I will sort this out and report back.
> 

I had somewhat different results here, but indeed it took a little
bit of effort to get context + luatex running. I fear someone else
will have to fix the installer, I don't know where to look / what to
do, sorry. There is not much to be done, afaics.


A step-by-step account:

I ran the networked installer in a virtual box running suse 11, and
initially, my virtual box screen size was 800x600. That does not
combine with the -gui option of install-tl: the Tk window simply
doesn't display the bottom part of the installation screen.

This was not a big problem, I just made the vbox larger and I doubt
people with real hardware have such tiny screens these days. I also
understand that such small displays are not supported, but still:
maybe it would be better to give a message and abort or fall back
to the non-gui version instead of drawing a useless window?

I first installed the 'texlive scheme for context', and later a 'texlive
full' as well. In both cases, the download and installation went fine,
no problems at all. It looks like the 'context' scheme installs a fair
number of packages that are not actually needed by context users, but
that is mostly cosmetics (it is not that much in actual bytes, and I
only noticed because I know rather precisely how much should be enough).

After installation was complete, I had to fiddle a bit to get the
binaries included in the path, I am not sure whether that is supposed
to be handled by the installer or not?

In any case, after adjusting $PATH

   texexec test
and
   texexec --xtx test

both ran out of the box, excellent! This is already better than ever.
(test.tex is just a small test file I created on the spot, 'hello
world'-ish)

However, context+luatex did not run. The problem was that the
installation does not create the link for "mtxrun" in the binaries
directory, so I had to do that manually. It did create the other
two script links ("context" and "luatools"), only "mtxrun" was missing.
But "context" is a shell wrapper that runs "mtxrun -script context",
so the "context" command was broken as well.  I just copied "luatools"
to "mtxrun" and edited it to change luatools.lua into mtxrun.lua, that
was good enough.

There is a bit of post-install work that is needed for context+luatex 
that is not done by the installer, I ran those two commands by hand:

First
   luatools --generate
(this sets up the texmf cache)

Second
   context --make --compile cont-en
(this creates the format inside said cache)

after that, "context test" ran ok. No need to change anything in
the texmf.cnf or set up any environment variable whatsoever, just
those two commands.

Jesse, can you please try my recipe to make sure I got it right?

Best wishes,
Taco


From preining at logic.at  Mon Jul  7 16:53:19 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 16:53:19 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <48722B61.5050900@elvenkind.com>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
Message-ID: <20080707145319.GC24435@gamma.logic.tuwien.ac.at>

Hi Taco!

First of all, thanks a lot for testing all this. It is a huge help.

On Mo, 07 Jul 2008, Taco Hoekwater wrote:
> I ran the networked installer in a virtual box running suse 11, and
> initially, my virtual box screen size was 800x600. That does not
> combine with the -gui option of install-tl: the Tk window simply
> doesn't display the bottom part of the installation screen.

I know. But I have NO idea how to work around that in a portable
Unix/Win32 way. But then, as you said, 800x600 ... welll .....

> maybe it would be better to give a message and abort or fall back
> to the non-gui version instead of drawing a useless window?

If you can tell me how to get the screen dimensions from Perl/TK, yes
;-)

> I first installed the 'texlive scheme for context', and later a 'texlive
> full' as well. In both cases, the download and installation went fine,

Good to hear!

> no problems at all. It looks like the 'context' scheme installs a fair
> number of packages that are not actually needed by context users, but

That is probably due to the fact that 
	scheme-context
pulls in
	collection-context
	collection-metapost
	collection-xetex
and those in turn

collection-context:
	(bin-)context
	jmn
	lmextra
	collection-basic	(!!!)

collectiont-metapost
	loads of metapost packages

collection-xetex
	many packages, too

If you want to reduce this please we can work on that. But we need
suggestions. Maybe Mojca want to .... ;-))))

> After installation was complete, I had to fiddle a bit to get the
> binaries included in the path, I am not sure whether that is supposed
> to be handled by the installer or not?

Windows or Unix?

On Windows it shoul dwork out of the box. Ok, you have to restart a new
cmd instance.

On Unix there is the option to add symlinks into standard directories.

In any case NOTHING is changed on Unix wrt $PATH. It never has been that
way anyway.

>   texexec test
> and
>   texexec --xtx test
> 
> both ran out of the box, excellent! This is already better than ever.

Fine. Yes. I had to fix fmtutil to work with double cont-en lines
(pdftex/xetex), but now it works. We have activated pdftex and xetex
based context formats immediately.

> However, context+luatex did not run. The problem was that the

Not surprising.

> installation does not create the link for "mtxrun" in the binaries
> directory, so I had to do that manually. It did create the other
> two script links ("context" and "luatools"), only "mtxrun" was missing.
> But "context" is a shell wrapper that runs "mtxrun -script context",
> so the "context" command was broken as well.  I just copied "luatools"
> to "mtxrun" and edited it to change luatools.lua into mtxrun.lua, that
> was good enough.

Ok, so that boils down to:
- for unix: link luatools.lua and mtxrun.lua to $bindir (without .lua)
  (that is not installation time thing, but should be done in the 
  svn repository)
- for win32 we use a .bat wrapper for starting texlua files, that should
  work for mtxrun and luatools, too.

Anything else? I didn't understand you completely. Do we have to have
all three (context, mtxrun, luatools) in the $bindir-s, or only a subset
of those?

> There is a bit of post-install work that is needed for context+luatex 
> that is not done by the installer, I ran those two commands by hand:

That can be added. We have a general post installation action system set
up. So if we need that, we can do that.

> First
>   luatools --generate
> (this sets up the texmf cache)

Where does it put the cache?

> Second
>   context --make --compile cont-en
> (this creates the format inside said cache)A

Ok.

> Jesse, can you please try my recipe to make sure I got it right?

Please report back, Jesse, and I will try to implement that in the
repository.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GRIMSBY (n.)
A lump of something gristly and foultasting concealed in a mouthful of
stew or pie. Grimsbies are sometimes merely the result of careless
cookery, but more often they are placed there deliberately by
Freemasons. Grimbies can be purchased in bulk from any respectable
Masonic butcher on giving him the secret Masonic handbag. One is then
placed correct masonic method of dealing with it. If the guest is not
a Mason, the host may find it entertaining to watch how he handles the
obnoxious object. It may be (a) manfully swallowed, invariably
bringing tears to the eyes. (b) chewed with resolution for up to
twenty minutes before eventually resorting to method (a) (c) choked on
fatally. The Masonic handshake is easily recognised by another Mason
incidentally, for by it a used grimsby is passed from hand to
hand. The secret Masonic method for dealing with a grimsby is as
follows : remove it carefully with the silver tongs provided, using
the left hand. Cross the room to your host, hopping on one leg, and
ram the grimsby firmly up his nose, shouting, 'Take that, you smug
Masonic bastard.'
			--- Douglas Adams, The Meaning of Liff

From dak at gnu.org  Mon Jul  7 16:58:08 2008
From: dak at gnu.org (David Kastrup)
Date: Mon, 07 Jul 2008 16:58:08 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <48722B61.5050900@elvenkind.com> (Taco Hoekwater's message of
	"Mon, 07 Jul 2008 16:42:41 +0200")
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
Message-ID: <86zlotivwf.fsf@lola.quinscape.zz>

Taco Hoekwater <taco at elvenkind.com> writes:

> Norbert Preining wrote:
>> On Mo, 07 Jul 2008, Taco Hoekwater wrote:
>>> I will sort this out and report back.
>>
>
> I had somewhat different results here, but indeed it took a little
> bit of effort to get context + luatex running. I fear someone else
> will have to fix the installer, I don't know where to look / what to
> do, sorry. There is not much to be done, afaics.
>
>
> A step-by-step account:
>
> I ran the networked installer in a virtual box running suse 11, and
> initially, my virtual box screen size was 800x600. That does not
> combine with the -gui option of install-tl: the Tk window simply
> doesn't display the bottom part of the installation screen.
>
> This was not a big problem, I just made the vbox larger and I doubt
> people with real hardware have such tiny screens these days.

Actually, right now there is a trend for ultralight laptops like the
Asus Eee PC with resolutions like 1024x600.  This would seem to suffer
from the same cutoff.

-- 
David Kastrup

From taco at elvenkind.com  Mon Jul  7 17:37:44 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Jul 2008 17:37:44 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <86zlotivwf.fsf@lola.quinscape.zz>
References: <m2myku469q.fsf@stanford.edu>	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>	<4871CA50.3080702@elvenkind.com>	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>	<48722B61.5050900@elvenkind.com>
	<86zlotivwf.fsf@lola.quinscape.zz>
Message-ID: <48723848.4000100@elvenkind.com>



David Kastrup wrote:
>>
>> This was not a big problem, I just made the vbox larger and I doubt
>> people with real hardware have such tiny screens these days.
> 
> Actually, right now there is a trend for ultralight laptops like the
> Asus Eee PC with resolutions like 1024x600.  This would seem to suffer
> from the same cutoff.

Something like this should work:

---------------
   calc_depends;
- my $mw = Tk::MainWindow->new();
+ my $mwv = Tk::MainWindow->new();
+ $mw = $mwv->Scrolled("Frame", -scrollbars => "oe", -height => 800);

@@@
   menu_update_texts();
+ $mw->pack;
   Tk::MainLoop();
---------------

(Sorry, I can't do a proper cut&paste from the virtualbox so I have
re-keyed the above code in the mailer, there could be typing errors).

The trick is to wrap the outer window in a scrolled object with an
optional scrollbar (at the east, in this cae).

So long as the contents fits the height of the mainwindow, that
scrollbar is invisible, but as soon as the height becomes too
small, it will appear automatically. This trick is not perfect
(its been a while since I did any Tk programming) but it seems
to work ok here.

Best wishes,
Taco

From mailing_list at arcor.de  Mon Jul  7 17:39:23 2008
From: mailing_list at arcor.de (Stephan Hennig)
Date: Mon, 07 Jul 2008 17:39:23 +0200
Subject: [tex-live] need assistance for writing package installation
	instructions
In-Reply-To: <20080707121211.GB2160@gamma.logic.tuwien.ac.at>
References: <g4sppa$861$1@ger.gmane.org>
	<20080707121211.GB2160@gamma.logic.tuwien.ac.at>
Message-ID: <487238AB.1030405@arcor.de>

Norbert Preining schrieb:
> On Mo, 07 Jul 2008, Stephan Hennig wrote:
>> 
>> (i) Is the user right?
> 
> Yes, tlmgr appears the first time in 2008
> 
>> (ii) How long has tlmgr been part of TeX Live?
> 
> Since 2008.
> 
>> (iii) In case, tlmgr has/will only be introduced in TL 2008, what would
>> be proper installation instructions for TL <= 2007 (preferably, without
>> directly modifying global language.dat).
> 
> No chance, edit it by hand. There is no other way but editing by hand
> language.dat

Thank you!  I've updated the instructions and will upload a new package
version to CTAN.


> Furthermore, OpenSUSE might do other things different from TeX Live. So
> for example it could in some way generate language.dat on the fly.

OK, too much to care about such derivatives.


> Here you could just tell them to edit texmf.cnf and change

I've added a reference to that file.


> Do we *really* need normal users to test experimental hyphenation
> patterns?????

Yes, the more testers, the better.  Since I don't expect a strongly
positive correlation between familiarity with German language and TeX
installations, the more explicit documentation, the better.

Best regards,
Stephan Hennig


From taco at elvenkind.com  Mon Jul  7 18:14:30 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Jul 2008 18:14:30 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080707145319.GC24435@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
Message-ID: <487240E6.1050805@elvenkind.com>



Norbert Preining wrote:
> Hi Taco!
> 
> First of all, thanks a lot for testing all this. It is a huge help.
> 
> On Mo, 07 Jul 2008, Taco Hoekwater wrote:
>> I ran the networked installer in a virtual box running suse 11, and
>> initially, my virtual box screen size was 800x600. That does not
>> combine with the -gui option of install-tl: the Tk window simply
>> doesn't display the bottom part of the installation screen.
> 
> I know. But I have NO idea how to work around that in a portable
> Unix/Win32 way. But then, as you said, 800x600 ... welll .....

(see other message)

>> no problems at all. It looks like the 'context' scheme installs a fair
>> number of packages that are not actually needed by context users, but
> 
> That is probably due to the fact that 
> 	scheme-context
> pulls in
> ....	
> 
> If you want to reduce this please we can work on that. But we need

No really, I don't actually care ;-)

>> After installation was complete, I had to fiddle a bit to get the
>> binaries included in the path, I am not sure whether that is supposed
>> to be handled by the installer or not?
> 
> Windows or Unix?

Unix (Suse 11.0).

> On Windows it shoul dwork out of the box. Ok, you have to restart a new
> cmd instance.
> 
> On Unix there is the option to add symlinks into standard directories.

No problem at all, I was just checking. This is the first 'normal'
texlive install I've done in years ...

> Ok, so that boils down to:
> - for unix: link luatools.lua and mtxrun.lua to $bindir (without .lua)
>   (that is not installation time thing, but should be done in the 
>   svn repository)
> - for win32 we use a .bat wrapper for starting texlua files, that should
>   work for mtxrun and luatools, too.
> 
> Anything else? I didn't understand you completely. Do we have to have
> all three (context, mtxrun, luatools) in the $bindir-s, or only a subset
> of those?

The $bindir-s needs these three commands.
Their contents can be very simple (in shell format):

luatools:
   #!/bin/sh
   texmfstart luatools.lua "$@"

mtxrun:
   #!/bin/sh
   texmfstart mtxrun.lua "$@"

context:
   #!/bin/sh
   mtxrun --script context "$@"

That is not exactly how the standalone context distribution does it,
but this will work just fine, and it is simple as well as safe. Better
than copying the actual ./lua files to the $bindir-s, I think.


>> There is a bit of post-install work that is needed for context+luatex 
>> that is not done by the installer, I ran those two commands by hand:
> 
> That can be added. We have a general post installation action system set
> up. So if we need that, we can do that.

>> First
>>   luatools --generate
>> (this sets up the texmf cache)
> 
> Where does it put the cache?

Well, it puts the cache in $TEXMFCACHE, and that defaults to that
stream of $TMP;$TMPDIR;... items as mentioned in the thread labelled
"testing - problems downloading". This is an unsolved issue so far,
but here is how it *could* be made to work out of the box.

Step 1. After install, the installer would have to create a texmfcnf.lua
file alongside the installed texmf.cnf.

texmfcnf.lua:
   local conf = {}
   conf.TEXMFCACHE = <the-var-tex-folder-install-decided-on>
   return conf

The <the-var-tex-folder-install-decided-on> has to be an actual
path, it cannot be "$VARTEXMF" because the cache is used to find
texmf.cnf (not the other way around). Assuming

   local conf = {}
   conf.TEXMFCACHE = "/usr/local/texlive/2008/texmf-var"
   return conf

this will create the cache below

   /usr/local/texlive/2008/texmf-var/luatex-cache/context

Once that file is in place, the installer should run the two
commands I mentioned:

Step 2.  luatools --generate

Step 3.  context --make --compile cont-en

That's it. This depends on the installer being able to come up with
a useable <the-var-tex-folder-install-decided-on>. Without that, the
cache will have to be regenerated for every user, and if that is the
case, then steps 2 and 3 do not make sense.


In case you are wondering, the cache will contain:

  * lua files resulting from preprocessed texmf.cnf files,
    and filename databases
  * context format and mem files
  * a cache of preprocessed otf/ttf fonts
  * (possibly) a cache of fetched http files (only by user request)

Best wishes,
Taco

From mpg at elzevir.fr  Mon Jul  7 18:27:04 2008
From: mpg at elzevir.fr (Manuel Pegourie-Gonnard)
Date: Mon, 07 Jul 2008 18:27:04 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080707145319.GC24435@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>	<4871CA50.3080702@elvenkind.com>	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
Message-ID: <487243D8.6040709@elzevir.fr>

Norbert Preining a ?crit :
> In any case NOTHING is changed on Unix wrt $PATH. It never has been that
> way anyway.
> 
But iirc there's a message with "add this to $PATH, this to $INFOPATH and
this to $MANPATH".  Is this message correct for ConText?

Manuel.


From taco at elvenkind.com  Mon Jul  7 18:53:46 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Jul 2008 18:53:46 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <487240E6.1050805@elvenkind.com>
References: <m2myku469q.fsf@stanford.edu>	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>	<4871CA50.3080702@elvenkind.com>	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>	<48722B61.5050900@elvenkind.com>	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487240E6.1050805@elvenkind.com>
Message-ID: <48724A1A.6030400@elvenkind.com>

Hi again,

Taco Hoekwater wrote:
> Step 1. After install, the installer would have to create a texmfcnf.lua
> file alongside the installed texmf.cnf.
> 
> texmfcnf.lua:
>   local conf = {}
>   conf.TEXMFCACHE = <the-var-tex-folder-install-decided-on>
>   return conf
> 
> The <the-var-tex-folder-install-decided-on> has to be an actual
> path, it cannot be "$VARTEXMF" because the cache is used to find
> texmf.cnf (not the other way around). Assuming
> 
>   local conf = {}
>   conf.TEXMFCACHE = "/usr/local/texlive/2008/texmf-var"
>   return conf
> 
> this will create the cache below
> 
>   /usr/local/texlive/2008/texmf-var/luatex-cache/context

Just a quick extra note:

I do realise that in many installations this won't work properly.
Multi-user systems would actually want context to support something
like "~/.texlive/2008/texmf-var" or a combination of SYS,USER settings
to work properly because otherwise there will be permission conflicts
(unless the umasks are set up just right) as well as privacy concerns
(for any downloaded http files).

But at this moment, context mkiv is still a very experimental system,
and there is not enough time to remedy the TEXMFCACHE subsystem before
texlive2008, so I will stick with the /usr/local/texlive/2008/texmf-var
proposal for this year. I expect context mkiv to be much more mature
next year.

Best wishes,
Taco




From taco at elvenkind.com  Mon Jul  7 18:54:40 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Jul 2008 18:54:40 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <487243D8.6040709@elzevir.fr>
References: <m2myku469q.fsf@stanford.edu>	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>	<4871CA50.3080702@elvenkind.com>	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487243D8.6040709@elzevir.fr>
Message-ID: <48724A50.5070907@elvenkind.com>

Manuel Pegourie-Gonnard wrote:
> Norbert Preining a ?crit :
>> In any case NOTHING is changed on Unix wrt $PATH. It never has been that
>> way anyway.
>>
> But iirc there's a message with "add this to $PATH, this to $INFOPATH and
> this to $MANPATH".  Is this message correct for ConText?

Yes (but if the message is there, I missed it).

Best wishes,
Taco

From alama at stanford.edu  Mon Jul  7 20:31:31 2008
From: alama at stanford.edu (Jesse Alama)
Date: Mon, 07 Jul 2008 11:31:31 -0700
Subject: [tex-live] latest tl2008 snapshop installation script: can't call
	method "depends" on undefined value
Message-ID: <m21w254kcc.fsf@stanford.edu>

The latest (July 7) TL 2008 developer snapshot installation script seems
to be having some trouble:

  $ sudo ./install-tl 
  Platform: universal-darwin => 'universal binaries for MacOSX/Darwin'
  Distribution: net  (downloading)
  Directory for temporary files: '/tmp'
  Installer directory: '.'
  Using URL http://ctan.math.utah.edu/ctan/tex-archive/systems/texlive/tlnet/tldev
  Loading http://ctan.math.utah.edu/ctan/tex-archive/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
  Can't call method "depends" on an undefined value at ./install-tl line 599.

Any ideas what might be happening here?  (By the way, what happened to i386-darwin?)

Thanks,

Jesse

-- 
Jesse Alama (alama at stanford.edu)


From alama at stanford.edu  Mon Jul  7 20:37:47 2008
From: alama at stanford.edu (Jesse Alama)
Date: Mon, 07 Jul 2008 11:37:47 -0700
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
Message-ID: <m2wsjx35hg.fsf@stanford.edu>

Hi Taco,

Taco Hoekwater <taco at elvenkind.com> writes:

> Norbert Preining wrote:
>> On Mo, 07 Jul 2008, Taco Hoekwater wrote:
>>> I will sort this out and report back.
>>
>
> I had somewhat different results here, but indeed it took a little
> bit of effort to get context + luatex running. I fear someone else
> will have to fix the installer, I don't know where to look / what to
> do, sorry. There is not much to be done, afaics.
>
>
> A step-by-step account:
>
> I ran the networked installer in a virtual box running suse 11, and
> initially, my virtual box screen size was 800x600. That does not
> combine with the -gui option of install-tl: the Tk window simply
> doesn't display the bottom part of the installation screen.
>
> This was not a big problem, I just made the vbox larger and I doubt
> people with real hardware have such tiny screens these days. I also
> understand that such small displays are not supported, but still:
> maybe it would be better to give a message and abort or fall back
> to the non-gui version instead of drawing a useless window?
>
> I first installed the 'texlive scheme for context', and later a 'texlive
> full' as well. In both cases, the download and installation went fine,
> no problems at all. It looks like the 'context' scheme installs a fair
> number of packages that are not actually needed by context users, but
> that is mostly cosmetics (it is not that much in actual bytes, and I
> only noticed because I know rather precisely how much should be enough).
>
> After installation was complete, I had to fiddle a bit to get the
> binaries included in the path, I am not sure whether that is supposed
> to be handled by the installer or not?
>
> In any case, after adjusting $PATH
>
>   texexec test
> and
>   texexec --xtx test
>
> both ran out of the box, excellent! This is already better than ever.
> (test.tex is just a small test file I created on the spot, 'hello
> world'-ish)
>
> However, context+luatex did not run. The problem was that the
> installation does not create the link for "mtxrun" in the binaries
> directory, so I had to do that manually. It did create the other
> two script links ("context" and "luatools"), only "mtxrun" was missing.
> But "context" is a shell wrapper that runs "mtxrun -script context",
> so the "context" command was broken as well.  I just copied "luatools"
> to "mtxrun" and edited it to change luatools.lua into mtxrun.lua, that
> was good enough.
>
> There is a bit of post-install work that is needed for context+luatex
> that is not done by the installer, I ran those two commands by hand:
>
> First
>   luatools --generate
> (this sets up the texmf cache)
>
> Second
>   context --make --compile cont-en
> (this creates the format inside said cache)
>
> after that, "context test" ran ok. No need to change anything in
> the texmf.cnf or set up any environment variable whatsoever, just
> those two commands.
>
> Jesse, can you please try my recipe to make sure I got it right?

Thanks so much for investigating this.  I will try out your receipe as
soon as possible (for now I am blocked from reporting back because the
latest version of the install-tl script seems to be busted).

Thanks again,

Jesse

-- 
Jesse Alama (alama at stanford.edu)


From alama at stanford.edu  Mon Jul  7 21:12:53 2008
From: alama at stanford.edu (Jesse Alama)
Date: Mon, 07 Jul 2008 12:12:53 -0700
Subject: [tex-live] latest tl2008 snapshop installation script: can't
	call	method "depends" on undefined value
In-Reply-To: <4872682B.4030304@elzevir.fr> ("Manuel =?iso-8859-1?Q?P=E9gou?=
	=?iso-8859-1?Q?ri=E9-Gonnard=22's?=
	message of "Mon, 07 Jul 2008 21:02:03 +0200")
References: <m21w254kcc.fsf@stanford.edu> <4872682B.4030304@elzevir.fr>
Message-ID: <m2skul33uy.fsf@stanford.edu>

Manuel P?gouri?-Gonnard <mpg at elzevir.fr> writes:

> Jesse Alama scripsit (07.07.2008 20:31)
>>   Can't call method "depends" on an undefined value at ./install-tl line 599.
>> 
>> Any ideas what might be happening here?
>
> I'm not sure, but the script probably says which undefined value somewhere.
> It's probably dvipdfx or sthg like that, since there was recently some
> problems with moving dvipdfmx-related things.  If you see another value,
> please come back with more details.

I reexecuted the script and the same error came up.  Then I just retried
a third time, but this time with the -v flag, and found to my surprise
that the error did not come up!  The only difference, as far as I can
see, is the CTAN mirror that's being used.  Might that account for the
difference?

Thanks,

Jesse  

-- 
Jesse Alama (alama at stanford.edu)

From mpg at elzevir.fr  Mon Jul  7 21:02:03 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Mon, 07 Jul 2008 21:02:03 +0200
Subject: [tex-live] latest tl2008 snapshop installation script: can't
 call	method "depends" on undefined value
In-Reply-To: <m21w254kcc.fsf@stanford.edu>
References: <m21w254kcc.fsf@stanford.edu>
Message-ID: <4872682B.4030304@elzevir.fr>

Jesse Alama scripsit (07.07.2008 20:31)
>   Can't call method "depends" on an undefined value at ./install-tl line 599.
> 
> Any ideas what might be happening here?

I'm not sure, but the script probably says which undefined value somewhere.
It's probably dvipdfx or sthg like that, since there was recently some
problems with moving dvipdfmx-related things.  If you see another value,
please come back with more details.

Thanks for reporting!

Manuel.


From preining at logic.at  Mon Jul  7 21:42:33 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 21:42:33 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <48723848.4000100@elvenkind.com>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
Message-ID: <20080707194233.GB30167@gamma.logic.tuwien.ac.at>

On Mo, 07 Jul 2008, Taco Hoekwater wrote:
>   calc_depends;
> - my $mw = Tk::MainWindow->new();
> + my $mwv = Tk::MainWindow->new();
> + $mw = $mwv->Scrolled("Frame", -scrollbars => "oe", -height => 800);
> 
> @@@
>   menu_update_texts();
> + $mw->pack;
>   Tk::MainLoop();

Too much hassle. We have only a mininmal perl in the installer, I tried
to find all the necessary files and gave up after 15 files added and no
end.

No, I have shrinked the image even more. On my kvm virtual machine now
the window is definitely smaller (y dim) than 600, more around 550.

Strange enough on the Linux side the window is MUCH bigger, and now I
have to do some magic that there is no stupid grey background ...

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
AIRD OF SLEAT (n. archaic)
Ancient Scottish curse placed from afar on the stretch of land now
occupided by Heathrow Airport.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Mon Jul  7 21:49:24 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 21:49:24 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <48724A1A.6030400@elvenkind.com> <487240E6.1050805@elvenkind.com>
References: <20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487240E6.1050805@elvenkind.com>
	<48724A1A.6030400@elvenkind.com> <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487240E6.1050805@elvenkind.com>
Message-ID: <20080707194924.GC30167@gamma.logic.tuwien.ac.at>

Hi Taco,

On Mo, 07 Jul 2008, Taco Hoekwater wrote:
> The $bindir-s needs these three commands.
> Their contents can be very simple (in shell format):

Ok, added to the repo. Does work.

> texmfcnf.lua:
>   local conf = {}
>   conf.TEXMFCACHE = <the-var-tex-folder-install-decided-on>
>   return conf

Tried that, worked very nicely.

> Step 2.  luatools --generate
> Step 3.  context --make --compile cont-en

That is at installation. 

But there are MANY MANY MANY different problems here with updating:

- do we call luatools --generate when updating the context packages
- do we call luatools --generate if *any* package is updated 
  (similar to mktexlsr)
- do we call context --make ... at update time?

Can you answer this? Especially the second question is interesting!


On Mo, 07 Jul 2008, Taco Hoekwater wrote:
> I do realise that in many installations this won't work properly.
> Multi-user systems would actually want context to support something
> like "~/.texlive/2008/texmf-var" or a combination of SYS,USER settings
> to work properly because otherwise there will be permission conflicts
> (unless the umasks are set up just right) as well as privacy concerns
> (for any downloaded http files).

That is what I was talking about since *months* on the context list!
That is exactely the problem. I have tried that for getting it on
Debian, but that is useful for TeX Live integration, too.
Yes, if you want to have stuff tested you should think about these
things up front.

I explained:
- we need split caches (one for each tree) (is this still experimental?)
- we need ways for users to update only "their" cache
- we need ways for sysadmins to update only the system caches.

> But at this moment, context mkiv is still a very experimental system,
> and there is not enough time to remedy the TEXMFCACHE subsystem before
> texlive2008, so I will stick with the /usr/local/texlive/2008/texmf-var
> proposal for this year. I expect context mkiv to be much more mature
> next year.

It would be good to lay the ground work NOW! TL2008 release will take
time. And we can update the package during the year. But we should think
about WHAT we want and how it should and *WILL* work now.

Anyway, thanks for you very valuable remarks. I have already added the
specific code to the TLPostAction module, but disabled. We need to
settle for WHAT we want with the cache etc.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
QUALL (vb.)
To speak with the voice of one who requires another to do something
for them.
			--- Douglas Adams, The Meaning of Liff

From alama at stanford.edu  Mon Jul  7 21:55:11 2008
From: alama at stanford.edu (Jesse Alama)
Date: Mon, 07 Jul 2008 12:55:11 -0700
Subject: [tex-live] latest tl2008 snapshop installation script: can't
	call	method "depends" on undefined value
References: <m21w254kcc.fsf@stanford.edu> <4872682B.4030304@elzevir.fr>
	<m2skul33uy.fsf@stanford.edu>
Message-ID: <m2d4lp31wg.fsf@stanford.edu>

Jesse Alama <alama at stanford.edu> writes:

> Manuel P?gouri?-Gonnard <mpg at elzevir.fr> writes:
>
>> Jesse Alama scripsit (07.07.2008 20:31)
>>>   Can't call method "depends" on an undefined value at ./install-tl line 599.
>>> 
>>> Any ideas what might be happening here?
>>
>> I'm not sure, but the script probably says which undefined value somewhere.
>> It's probably dvipdfx or sthg like that, since there was recently some
>> problems with moving dvipdfmx-related things.  If you see another value,
>> please come back with more details.
>
> I reexecuted the script and the same error came up.  Then I just retried
> a third time, but this time with the -v flag, and found to my surprise
> that the error did not come up!  The only difference, as far as I can
> see, is the CTAN mirror that's being used.  Might that account for the
> difference?

I think I'm getting ahead of myself here: I was able to bypass the error
with depends, but I managed to get instead the old error about
language.us.def missing.  It seems that what's going on is that the
mirror are not entirely synchronized and that what it means to install
TL 2008 varies from mirror to mirror.  I'll stick with
ftp://tug.org/texlive/tlnet/tldev/ from now on.

When running the script with the flags -v -v I do see the problem with
dvipdfmx that you mention:

  [snip]
  DD:pre_selected oca
  DD:pre_selected collection-langitalian
  DD:pre_selected foilhtml
  DD:pre_selected collection-documentation-base
  DD:pre_selected collection-documentation-english
  DD:pre_selected dvipdfx
  Can't call method "depends" on an undefined value at ./install-tl line 599.

Any hints for how to proceed?

Thanks,

Jesse

-- 
Jesse Alama (alama at stanford.edu)


From mpg at elzevir.fr  Mon Jul  7 22:03:32 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Mon, 07 Jul 2008 22:03:32 +0200
Subject: [tex-live] latest tl2008 snapshop installation script: can't
 call	method "depends" on undefined value
In-Reply-To: <m2skul33uy.fsf@stanford.edu>
References: <m21w254kcc.fsf@stanford.edu> <4872682B.4030304@elzevir.fr>
	<m2skul33uy.fsf@stanford.edu>
Message-ID: <48727694.7050308@elzevir.fr>

Jesse Alama scripsit (07.07.2008 21:12)
> I reexecuted the script and the same error came up.  Then I just retried
> a third time, but this time with the -v flag, and found to my surprise
> that the error did not come up!  The only difference, as far as I can
> see, is the CTAN mirror that's being used.  Might that account for the
> difference?
> 
Yes it can.  In this moment, things change rapidly, the network tlpdb and
tar.lzma apckages are sometimes built more than once a day, so it can happen
some mirrors already have a corrected version while others don't.

Thanks,
Manuel.


From preining at logic.at  Mon Jul  7 22:23:10 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 22:23:10 +0200
Subject: [tex-live] latest tl2008 snapshop installation script: can't
	call	method "depends" on undefined value
In-Reply-To: <m2d4lp31wg.fsf@stanford.edu>
References: <m21w254kcc.fsf@stanford.edu> <4872682B.4030304@elzevir.fr>
	<m2skul33uy.fsf@stanford.edu> <m2d4lp31wg.fsf@stanford.edu>
Message-ID: <20080707202310.GF30167@gamma.logic.tuwien.ac.at>

On Mo, 07 Jul 2008, Jesse Alama wrote:
>   Can't call method "depends" on an undefined value at ./install-tl line 599.
> 
> Any hints for how to proceed?

Wait till tomorrow. Sorry. Also the packages on tug.org are only updated
once per day.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
CONDOVER (n.)
One who is employed to stand about all day browsing through the
magazine racks in the newsagent.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Mon Jul  7 21:51:07 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 21:51:07 +0200
Subject: [tex-live] latest tl2008 snapshop installation script: can't
	call	method "depends" on undefined value
In-Reply-To: <m2skul33uy.fsf@stanford.edu>
References: <m21w254kcc.fsf@stanford.edu> <4872682B.4030304@elzevir.fr>
	<m2skul33uy.fsf@stanford.edu>
Message-ID: <20080707195107.GD30167@gamma.logic.tuwien.ac.at>

On Mo, 07 Jul 2008, Jesse Alama wrote:
> that the error did not come up!  The only difference, as far as I can
> see, is the CTAN mirror that's being used.  Might that account for the
> difference?

Yes. There was a bug introduced, and it spreads to the mirrors with 1
day shift. We have fixed it already, but it will need to wait for
tomorrow until the fix hits the CTAN mirrors.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
PEN-TRE-TAFARN-Y-FEDW (n.)
Welsh word which literally translates as
'leaking-biro-by-the-glass-hole-of-the-clerk-of-the-bank-has-been-
-taken-to-another-place-leaving-only-the-special-inkwell-and-three-
-inches-of-tin-chain'.
			--- Douglas Adams, The Meaning of Liff

From mpg at elzevir.fr  Mon Jul  7 22:31:46 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Mon, 07 Jul 2008 22:31:46 +0200
Subject: [tex-live] latest tl2008 snapshop installation script: can't
 call	method "depends" on undefined value
In-Reply-To: <m2d4lp31wg.fsf@stanford.edu>
References: <m21w254kcc.fsf@stanford.edu>
	<4872682B.4030304@elzevir.fr>	<m2skul33uy.fsf@stanford.edu>
	<m2d4lp31wg.fsf@stanford.edu>
Message-ID: <48727D32.4000708@elzevir.fr>

Jesse Alama scripsit (07.07.2008 21:55)
> I think I'm getting ahead of myself here: I was able to bypass the error
> with depends, but I managed to get instead the old error about
> language.us.def missing.  It seems that what's going on is that the
> mirror are not entirely synchronized and that what it means to install
> TL 2008 varies from mirror to mirror.  I'll stick with
> ftp://tug.org/texlive/tlnet/tldev/ from now on.
> 
Yep, the mirrors can take up to 24 hours to synchronize, and right now the TeX
Live net packages are being changed every 24h.  So atm you can easily have two
versions of tlnet on the wild at the same time.

> When running the script with the flags -v -v I do see the problem with
> dvipdfmx that you mention:
> [...]
> Any hints for how to proceed?
> 
The problem is fixed in our repo.  Probably your best chance is to wait until
tlnet is re-built from svn tonight (or a bit more if you want to let the new
version hit your nearest mirror).

Thanks,
Manuel.


From siepo at cybercomm.nl  Mon Jul  7 22:43:47 2008
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon, 7 Jul 2008 22:43:47 +0200
Subject: [tex-live] trouble starting context on latest tl2008
	developer	snapshot
In-Reply-To: <20080707194233.GB30167@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
Message-ID: <20080707204347.GK5805@molly>

On Mon, Jul 07, 2008 at 09:42:33PM +0200, Norbert Preining wrote:
> On Mo, 07 Jul 2008, Taco Hoekwater wrote:
> >   calc_depends;
> > - my $mw = Tk::MainWindow->new();
> > + my $mwv = Tk::MainWindow->new();
> > + $mw = $mwv->Scrolled("Frame", -scrollbars => "oe", -height => 800);
> > 
> > @@@
> >   menu_update_texts();
> > + $mw->pack;
> >   Tk::MainLoop();
> 
> Too much hassle. We have only a mininmal perl in the installer, I tried
> to find all the necessary files and gave up after 15 files added and no
> end.
> 
> No, I have shrinked the image even more. On my kvm virtual machine now
> the window is definitely smaller (y dim) than 600, more around 550.
> 
> Strange enough on the Linux side the window is MUCH bigger, and now I
> have to do some magic that there is no stupid grey background ...

Tk and Perl/Tk seem to listen to X resources. The claimed monitor
resolution would also make a difference if font sizes are specified
in points rather than pixels. I hope that it won't be necessary to
specify fonts within the installer.

-- 
Siep Kroonenberg

From taco at elvenkind.com  Mon Jul  7 22:56:28 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Jul 2008 22:56:28 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080707204619.GG30167@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
	<20080707204619.GG30167@gamma.logic.tuwien.ac.at>
Message-ID: <487282FC.7030609@elvenkind.com>

Norbert Preining wrote:
> 
> 
> Taco, please, can you check that out? Do you have the svn version? Can
> you try in your virtual machine on unix whther it works with a small
> screen? I can only try win32.


Not now, but tomorrow morning, sure.

From preining at logic.at  Mon Jul  7 22:46:19 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 7 Jul 2008 22:46:19 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <20080707194233.GB30167@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
Message-ID: <20080707204619.GG30167@gamma.logic.tuwien.ac.at>

On Mo, 07 Jul 2008, Norbert Preining wrote:
> On Mo, 07 Jul 2008, Taco Hoekwater wrote:
> >   calc_depends;
> > - my $mw = Tk::MainWindow->new();
> > + my $mwv = Tk::MainWindow->new();
> > + $mw = $mwv->Scrolled("Frame", -scrollbars => "oe", -height => 800);
> > 
> > @@@
> >   menu_update_texts();
> > + $mw->pack;
> >   Tk::MainLoop();
> 
> Too much hassle. We have only a mininmal perl in the installer, I tried
> to find all the necessary files and gave up after 15 files added and no

Thanks for the tip. I have no implemented a different approach:
- reduce the size of the image a bit, that makes it fit better on
  windows.

- on unix:
	...
	$mw->update;
	my $rh = $mw->reqheight;
	if (($rh >= 780) && !win32()) {
		require Tk::Pane;
		my $foo = $mainwindow->Scrolled("Frame", -scrollbars => "oe", -height => 780
		$mw->pack(-in => $foo);
		$foo->pack;
	} else {
		$mw->pack;
	}
  That should do it. If the requested size (and since we didn't request
  any size it is the natural size) is smaller tahn 780 (I choose that to
  fit some window decorations) we do nothing, otherwise we pack it INTO
  another paned frame.


Taco, please, can you check that out? Do you have the svn version? Can
you try in your virtual machine on unix whther it works with a small
screen? I can only try win32.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BERY POMEROY
1. The shape of a gourmet's lips. 2. The droplet of saliva which hangs
   from them.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Tue Jul  8 01:18:09 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Jul 2008 18:18:09 -0500
Subject: [tex-live] trouble starting context on latest tl2008
	developer	snapshot
In-Reply-To: <20080707145319.GC24435@gamma.logic.tuwien.ac.at>
Message-ID: <200807072318.m67NI9T09262@f7.net>

            scheme-context
    pulls in
            collection-context
            collection-metapost
            collection-xetex

Taco ... I know the future messages said not to worry about, but I just
wanted to mention that I think it would be easy to install just the core
metapost program, by depending on bin-metapost + metapost instead of
collection-metapost.  There are ~20 additional third-party MP packages
in collection-metapost, but nothing truly critical for MP operation that
I am seeing at a glance.

So if you don't want them for context, we can try omitting them.  Just
let me know.

(Xetex is not so easy to disentangle.  Long story.)

karl

From karl at freefriends.org  Tue Jul  8 01:18:09 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Jul 2008 18:18:09 -0500
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <48722B61.5050900@elvenkind.com>
Message-ID: <200807072318.m67NI9a09250@f7.net>

    However, context+luatex did not run. The problem was that the
    installation does not create the link for "mtxrun" in the binaries

FYI, this (along with texfind, texshow, etc.) will be fixed in the final
round of builds.  I just now added mtxrun to the bin dirs manually since
apparently it could help testing.  (As a symlink to the mtxrun stub.)

    after that, "context test" ran ok. No need to change anything in
    the texmf.cnf or set up any environment variable whatsoever, 

Thank goodness.

Thanks,
Karl

From karl at freefriends.org  Tue Jul  8 01:59:55 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Jul 2008 18:59:55 -0500
Subject: [tex-live] need assistance for writing package
	installation	instructions
In-Reply-To: <g4sppa$861$1@ger.gmane.org>
Message-ID: <200807072359.m67Nxta30130@f7.net>

    The same user complained that command 'fmtutil --refresh' doesn't work
    unless he removes the line

      pinyin		xu-pyhyph.tex

    from language.dat, probably due to a misconfiguration of the openSuSE
    TeX Live package.  Unfortunately, the user didn't provide exact error
    messages.  Is this a known problem?

Not that I remember, but since the hyphenation support has been entirely
reimplemented in TL'08 (thanks Mojca/Arthur/Jonathan!!!), there's no
point in pursuing it.

Best,
karl

From karl at freefriends.org  Tue Jul  8 02:28:35 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 7 Jul 2008 19:28:35 -0500
Subject: [tex-live] on cm-super fonts
In-Reply-To: <200807071547.06386.panov@canopus.iacp.dvo.ru>
Message-ID: <200807080028.m680SZw13047@f7.net>

    Cm-super fonts lacks BlueValues and OtherBlues entries in PS Private values. 

Thanks for the report and the script.

In general, our job in TL is to install packages as they exist on CTAN,
not make changes of our own.

I've asked Vladimir about it.

Best,
Karl

From mojca.miklavec.lists at gmail.com  Tue Jul  8 09:43:57 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 8 Jul 2008 09:43:57 +0200
Subject: [tex-live] need assistance for writing package installation
	instructions
In-Reply-To: <200807072359.m67Nxta30130@f7.net>
References: <g4sppa$861$1@ger.gmane.org> <200807072359.m67Nxta30130@f7.net>
Message-ID: <6faad9f00807080043t1ecadc47ycaea0fa4f2b6c551@mail.gmail.com>

On Tue, Jul 8, 2008 at 1:59 AM, Karl Berry wrote:
>    The same user complained that command 'fmtutil --refresh' doesn't work
>    unless he removes the line
>
>      pinyin            xu-pyhyph.tex
>
>    from language.dat, probably due to a misconfiguration of the openSuSE
>    TeX Live package.  Unfortunately, the user didn't provide exact error
>    messages.  Is this a known problem?

I only know that these patterns have changed on CTAN recently (and the
new version would definitely not work with the old xu-pyhyph). So
maybe the SuSE guys were brave and updated patterns from CTAN :) I
remember them shipping an ultra new version of ConTeXt when I last
tried some version ages ago.

> Not that I remember, but since the hyphenation support has been entirely
> reimplemented in TL'08 (thanks Mojca/Arthur/Jonathan!!!), there's no
> point in pursuing it.

No, that's *thanks to you* on the first place for giving us the green
light to do it :)
(And to "poor" Norbert who had to carry all the consequences of your
decision :) :) :)

Mojca

From taco at elvenkind.com  Tue Jul  8 10:21:49 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 08 Jul 2008 10:21:49 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080707204619.GG30167@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
	<20080707204619.GG30167@gamma.logic.tuwien.ac.at>
Message-ID: <4873239D.5030908@elvenkind.com>



Norbert Preining wrote:
> 	...
> 	$mw->update;
> 	my $rh = $mw->reqheight;
> 	if (($rh >= 780) && !win32()) {

I have changed this to 580 (800x600 has a height of 600) and
the requested height is never that large anyway. But unfortunately

> 		require Tk::Pane;
> 		my $foo = $mainwindow->Scrolled("Frame", -scrollbars => "oe", -height => 780
> 		$mw->pack(-in => $foo);
> 		$foo->pack;
> 	} else {
> 		$mw->pack;
> 	}

the if (...) block doesn't work for me (Suse 11.0 and Mandriva 2008.1)

The man page hints that there may be some error in the widget hierarchy
or the stacking order that prevents the mainwindow from displaying 
anything, but I don't really understand what it says. The actual result
is that I just get a large grey box with no visible content at all.
I tried adding $mw->raise after the repack, but that doesn't help either.

On the up side, however: now that the $mw is a frame inside $mainwindow,
it has become possible to resize the window, so I could actually install
texlive after a bit of moving and resizing with the window manager.

Best wishes,
Taco

From taco at elvenkind.com  Tue Jul  8 10:54:34 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 08 Jul 2008 10:54:34 +0200
Subject: [tex-live] trouble starting context on latest tl2008	developer
 snapshot
In-Reply-To: <200807072318.m67NI9T09262@f7.net>
References: <200807072318.m67NI9T09262@f7.net>
Message-ID: <48732B4A.3040602@elvenkind.com>



Karl Berry wrote:
>             scheme-context
>     pulls in
>             collection-context
>             collection-metapost
>             collection-xetex
> 
> Taco ... I know the future messages said not to worry about, but I just
> wanted to mention that I think it would be easy to install just the core
> metapost program, by depending on bin-metapost + metapost instead of
> collection-metapost.  There are ~20 additional third-party MP packages
> in collection-metapost, but nothing truly critical for MP operation that
> I am seeing at a glance.
> 
> So if you don't want them for context, we can try omitting them.  Just
> let me know.

Please don't bother, it is not worth the effort. Besides, it is not
all that unlikely context users will actually want those metapost
packages.

Best wishes,
Taco

From taco at elvenkind.com  Tue Jul  8 11:57:03 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 08 Jul 2008 11:57:03 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080707194924.GC30167@gamma.logic.tuwien.ac.at>
References: <20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487240E6.1050805@elvenkind.com>
	<48724A1A.6030400@elvenkind.com> <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487240E6.1050805@elvenkind.com>
	<20080707194924.GC30167@gamma.logic.tuwien.ac.at>
Message-ID: <487339EF.2060101@elvenkind.com>


Hi Norbert,


Norbert Preining wrote:
> 
>> Step 2.  luatools --generate
>> Step 3.  context --make --compile cont-en
> 
> That is at installation. 
> 
> But there are MANY MANY MANY different problems here with updating:

I'll answer the questions, but see below.

> - do we call luatools --generate when updating the context packages

yes

> - do we call luatools --generate if *any* package is updated 
>   (similar to mktexlsr)

only for packages that are relevant to context (that should be the
ones triggered by collection-context and its children).

> - do we call context --make ... at update time?

only when the context package itself or the luatex binary is updated.
(the need for this command to be run explicitly may go away in the
future, but it will remain present)

> On Mo, 07 Jul 2008, Taco Hoekwater wrote:
>> I do realise that in many installations this won't work properly.
>> Multi-user systems would actually want context to support something
>> like "~/.texlive/2008/texmf-var" or a combination of SYS,USER settings
>> to work properly because otherwise there will be permission conflicts
>> (unless the umasks are set up just right) as well as privacy concerns
>> (for any downloaded http files).
> 
> That is what I was talking about since *months* on the context list!

I know, I know. Not enough time and there were other pressing matters,
you know how that goes :-( If I had to do it again, I have would deleted
all the lua support files from the context distribution before
committing it this time around. Luatex itself is on tl for texdoc, not
for mkiv, which is just a 'bonus'.

>> But at this moment, context mkiv is still a very experimental system,
>> and there is not enough time to remedy the TEXMFCACHE subsystem before
>> texlive2008, so I will stick with the /usr/local/texlive/2008/texmf-var
>> proposal for this year. I expect context mkiv to be much more mature
>> next year.
> 
> It would be good to lay the ground work NOW! TL2008 release will take
> time. And we can update the package during the year. But we should think
> about WHAT we want and how it should and *WILL* work now.

As you know, Hans Hagen works on a single-user machine where he is
his own administrator. My personal situation usually amounts to the
same thing: disk space is so cheap that I don't bother with system-wide
installs for anything tex-related any more: each of my commercial
projects and coworkers all have their own texmf tree(s).

Because of this, I (we) simply cannot answer this question within a
timeframe that is reasonable for texlive 2008: I definately don't want
texlive's release date to depend on political decisions that need to
be made for an experimental system, but neither do I want that release
date to force these decisions to be made prematurely. I am uncertain
where that leaves us for texlive 2008, sorry.

Best wishes,
Taco


From preining at logic.at  Tue Jul  8 16:12:59 2008
From: preining at logic.at (Norbert Preining)
Date: Tue, 8 Jul 2008 16:12:59 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <4873239D.5030908@elvenkind.com>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
	<20080707204619.GG30167@gamma.logic.tuwien.ac.at>
	<4873239D.5030908@elvenkind.com>
Message-ID: <20080708141259.GB27539@gamma.logic.tuwien.ac.at>

On Di, 08 Jul 2008, Taco Hoekwater wrote:
> the if (...) block doesn't work for me (Suse 11.0 and Mandriva 2008.1)

Ok, not here. I have fixed it, finally.

The idea is:

$mainwindow = Tk::MainWindow->new;
if (!win32()) {
  require Tk::Pane;
  # this creates a 100 px height frame and stays at 100px, grrr
  $subframe = $mainwindow->Scrolled("Frame", -scrollbars => "oe");
} else {
  $subframe = $mainwindow->Frame;
}
$mw = $subframe->Frame;
..
do all the rest
..
menu_update_texts();
$mw->pack(-expand => 1, -fill => "both");
$mw->update;
my $rh = $mw->reqheight;
my $maxheight = $mainwindow->screenheight() - 20;
if ($rh > $maxheight) {
  $subframe->configure(-height => $maxheight);
} else {
  $subframe->configure(-height => $rh);
}
$subframe->pack;

On Windows that should not happen anyway since there is much less text
on the windows GUI installer. On Unix it will resize itself to a size
that fits the screen, and thus will also show the scrollbars.

Please give it a twist, install-menu-perltk.pl revision 9369, if you
find time. Thanks.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GIPPING (participial vb.)
The fish-like opening and closing of the jaws seen amongst people who
have recently been to the dentist and are puzzled as to whether their
teeth have been put back the right way up.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Tue Jul  8 16:45:39 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 08 Jul 2008 16:45:39 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080708141259.GB27539@gamma.logic.tuwien.ac.at>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
	<20080707204619.GG30167@gamma.logic.tuwien.ac.at>
	<4873239D.5030908@elvenkind.com>
	<20080708141259.GB27539@gamma.logic.tuwien.ac.at>
Message-ID: <48737D93.1090006@elvenkind.com>



Norbert Preining wrote:
> 
> On Windows that should not happen anyway since there is much less text
> on the windows GUI installer. On Unix it will resize itself to a size
> that fits the screen, and thus will also show the scrollbars.
> 
> Please give it a twist, install-menu-perltk.pl revision 9369, if you
> find time. Thanks.

Still didn't work, so I changed it so that it works OK for me now
(revision 9372). Please check that it is still ok on windows.

Best wishes,
Taco

From preining at logic.at  Tue Jul  8 16:50:16 2008
From: preining at logic.at (Norbert Preining)
Date: Tue, 8 Jul 2008 16:50:16 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <48737D93.1090006@elvenkind.com>
References: <4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
	<20080707204619.GG30167@gamma.logic.tuwien.ac.at>
	<4873239D.5030908@elvenkind.com>
	<20080708141259.GB27539@gamma.logic.tuwien.ac.at>
	<48737D93.1090006@elvenkind.com>
Message-ID: <20080708145016.GC23330@gamma.logic.tuwien.ac.at>

On Di, 08 Jul 2008, Taco Hoekwater wrote:
> Still didn't work, so I changed it so that it works OK for me now
> (revision 9372). Please check that it is still ok on windows.

Strange. What did not work? As far as I see from your diff it must be
the window width. But the height at least *did* work, or?

The +  $mainwindow->configure(-height => $rh, -width=>$rw);
was a bit surprising, I would have expected that it adjusts itself to
the size given by the sub-widgets.

Anyway, all you committed looks fine, thanks.

I don't have time to test it now, but will try in the next days.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HODNET (n.)
The wooden safety platform supported by scaffolding round a building
under construction from which the builders (at almost no personal
risk) can drop pieces of cement on passers-by.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Tue Jul  8 16:58:02 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 08 Jul 2008 16:58:02 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080708145016.GC23330@gamma.logic.tuwien.ac.at>
References: <4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
	<48723848.4000100@elvenkind.com>
	<20080707194233.GB30167@gamma.logic.tuwien.ac.at>
	<20080707204619.GG30167@gamma.logic.tuwien.ac.at>
	<4873239D.5030908@elvenkind.com>
	<20080708141259.GB27539@gamma.logic.tuwien.ac.at>
	<48737D93.1090006@elvenkind.com>
	<20080708145016.GC23330@gamma.logic.tuwien.ac.at>
Message-ID: <4873807A.20501@elvenkind.com>



Norbert Preining wrote:
> On Di, 08 Jul 2008, Taco Hoekwater wrote:
>> Still didn't work, so I changed it so that it works OK for me now
>> (revision 9372). Please check that it is still ok on windows.
> 
> Strange. What did not work? As far as I see from your diff it must be
> the window width. But the height at least *did* work, or?

Without the $mainwindow->configure the height was 100px (but the
width was ok). Strangely, after I added

   $mainwindow->configure(-height => $rh);

the height was fine, but then the width suddenly became 100px,
so I had to add the $rw variable for that.

Finally, since $rw was there anyway, it made sense to add an extra
20px for the scrollbar just for cosmetics.

I do not claim any of this makes sense. The non-Tcl versions of
Tk are often confusing, like this.

Best wishes,
Taco

From karl at freefriends.org  Tue Jul  8 19:28:46 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 Jul 2008 12:28:46 -0500
Subject: [tex-live] optimizing dvd access
Message-ID: <200807081728.m68HSkC19887@f7.net>

There have been occasional threads about how reading TL from a physical
dvd takes a long time (for some people), and speculations that files
could be burned in a better order.

There is a script + information about doing this at the end of
http://www.tina-vision.net/tina-knoppix/remastering.html, under
"Optimise the CD".  The general idea is to do the install and see in
what order files are read.

If anyone wants to take the time to try this and post the results (and
the precise steps/scripts/files), that would be cool, hopefully Manfred
can make use of it for the final burn.  (For myself, I don't plan to
look at this further.)

karl

From karl at freefriends.org  Tue Jul  8 20:35:08 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 Jul 2008 13:35:08 -0500
Subject: [tex-live] feynmf.pl perl changes
Message-ID: <200807081835.m68IZ8N11764@f7.net>

    Date: Mon, 2 Jun 2008 11:01:37 +0200
    From: Norbert Preining <preining at logic.at>

    - texmf-dist/source/latex/feynmf/feynmf.pl
      a temp file fix and a perl syntax fix
      patch: http://svn.debian.org/wsvn/debian-tex/texlive-new/trunk/texlive-bin/debian/patches/52_feynmf-perl-sec-fix?op=file&rev=0&sc=0

The Perl syntax fix was already made on CTAN.  I have updated TL.

As for the temp file fix, assuming /bin/tempfile may be fine for Debian
but is not suitable in general.  Stated upstream author is
Thorsten.Ohl/at/Physik.TH-Darmstadt/dot/de (as of 1996 :) if you or
Kevin McCarty want to take it further.

karl


From reinhard.kotucha at web.de  Tue Jul  8 20:42:36 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 8 Jul 2008 20:42:36 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <48724A50.5070907@elvenkind.com>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487243D8.6040709@elzevir.fr> <48724A50.5070907@elvenkind.com>
Message-ID: <18547.46364.93522.14901@zaphod.ms25.net>

Taco Hoekwater writes:
 > Manuel Pegourie-Gonnard wrote:
 > > Norbert Preining a ?crit :
 > >> In any case NOTHING is changed on Unix wrt $PATH. It never has been that
 > >> way anyway.
 > >>
 > > But iirc there's a message with "add this to $PATH, this to $INFOPATH and
 > > this to $MANPATH".  Is this message correct for ConText?
 > 
 > Yes (but if the message is there, I missed it).

The message exists indeed (two functions in
Master/tlpkg/TeXLive/TLUtils.pm) but the functions are not called by
the installer yet.  The function which mentions the paths is called
welcome_paths().  The other one is called welcome() and is supposed to
be used by the live system (if needed here at all).

While I concentrated on the texlua stuff, a lot had been changed in
the installer.  I fear that I have to study the code carefully before
integrating the functions to the installer.  I have more time next
week but I don't object if someone else looks into it.

Taco, if something regarding Context has to be added the welcome
message, please let me know.  I really hope that additional
environment variables can be avoided.  Environment variables are
always problematic and I'm really happy that even on Windows it's
sufficient now to set PATH appropriately and no other env vars are
needed.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From reinhard.kotucha at web.de  Tue Jul  8 22:27:38 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 8 Jul 2008 22:27:38 +0200
Subject: [tex-live] trouble starting context on latest tl2008
	developer	snapshot
In-Reply-To: <86zlotivwf.fsf@lola.quinscape.zz>
References: <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com> <86zlotivwf.fsf@lola.quinscape.zz>
Message-ID: <18547.52666.562083.826308@zaphod.ms25.net>

David Kastrup writes:

 > Actually, right now there is a trend for ultralight laptops like the
 > Asus Eee PC with resolutions like 1024x600.  This would seem to suffer
 > from the same cutoff.

The GUI interface uses locale and depends on system fonts.  There is
no way to check whether all this is set up properly on a particular
system.  I expected such problems.

As a last resort you could try "install-tl --no-gui".  The text-based
user interface avoids system dependencies and dependes solely on pure
ASCII.

Please let me know if "install-tl --no-gui" doesn't work everywhere.
It's designed to work everywhere.  Please complain if it doesn't.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Tue Jul  8 23:24:00 2008
From: preining at logic.at (Norbert Preining)
Date: Tue, 8 Jul 2008 23:24:00 +0200
Subject: [tex-live] Bug#489943: texlive-base-bin: mktexpk does not work
	in directories containing spaces
In-Reply-To: <20080708202144.GA7354@efreet.light.src>
References: <20080708202144.GA7354@efreet.light.src>
Message-ID: <20080708212400.GD20626@gamma.logic.tuwien.ac.at>

Hi Karl, hi all,

we got the following bug report with patch and detail analysis of
mktexpk failing under some circumstances.

Any comment?

On Di, 08 Jul 2008, Jan Hudec wrote:
> The mktexpk script fails if it tries to build a .pk in a directory with space
> (tested), tab or some backslash-character combinations (obvious from the
> code).
> 
> I traced the space problem down to a single cd with unquoted argument.
> However I also noticed use of echo+sed dirname replacement (with comment
> "can't rely on dirname" -- basename was relied on on the next line though),
> which would have problems with spaces at the end (backquote expansion eats
> them) and backslashes in some shells (the rules for backslash processing in
> echo differ from shell to shell). So my patch additionally includes
> a replacement of those two statements with ${var##pattern} and ${var%pattern}
> expansions. These expansions are POSIX and should thus be reasonably
> portable.
> 
> ##################################
> patch (standard patch -p1 unified diff)
> 
> --- old/build/source/texk/kpathsea/mktexpk	2006-01-17 22:41:51.000000000 +0100
> +++ new/build/source/texk/kpathsea/mktexpk	2008-07-08 21:49:14.000000000 +0200
> @@ -199,8 +199,8 @@
>  IFS=$OIFS
>  
>  PKDEST="$1"
> -PKDESTDIR=`echo "$PKDEST" | sed 's%/[^/][^/]*$%%'` # can't rely on dirname
> -PKNAME=`basename "$PKDEST"`
> +PKDESTDIR=${PKDEST%/*}
> +PKNAME=${PKDEST##*/}
>  GFNAME=$NAME.${DPI}gf
>  
>  if test -r "$PKDESTDIR/$PKNAME"; then
> @@ -250,7 +250,7 @@
>  # Use cp when mv fails, since DOS will fail mv for deeply-nested directories.
>  mv $PKNAME "$PKDESTDIR/pk$$.tmp" 2>/dev/null \
>    || cp $PKNAME "$PKDESTDIR/pk$$.tmp" || exit 1
> -cd $PKDESTDIR || exit 1
> +cd "$PKDESTDIR" || exit 1
>  chmod `kpsestat -xst,go-w .` pk$$.tmp
>  test -r $PKNAME || mv pk$$.tmp $PKNAME || exit 1

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
CROMARTY (n.)
The brittle sludge which clings to the top of ketchup bottles and
plastic tomatoes in nasty cafes.
			--- Douglas Adams, The Meaning of Liff

From luecking at uark.edu  Tue Jul  8 23:31:04 2008
From: luecking at uark.edu (Dan Luecking)
Date: Tue, 08 Jul 2008 16:31:04 -0500
Subject: [tex-live] Test of latest install-tl (WinXP) succeeded
Message-ID: <200807082131.m68LV4Mp018249@comp.uark.edu>


TeXLive developers:

I can verify that running install-tl.bat (without -url) on my
windows XP has now managed to install TeXLive without problems.
This was using install-tl.zip dated July 7. (I also tested one
dated July 6, which failed without downloading anything.)

As usual, I removed the old TL2007 from my PATH before the testing,
but I made no other changes.


Dan


Daniel H. Luecking
Department of Mathematical Sciences
University of Arkansas
"Dubito ergo cogito, cogito ergo sum" --Descarte


From vvv at vsu.ru  Wed Jul  9 00:11:37 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed, 09 Jul 2008 02:11:37 +0400
Subject: [tex-live] Bug#489943: texlive-base-bin: mktexpk does not work
	in directories containing spaces
In-Reply-To: <20080708212400.GD20626@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Tue, 8 Jul 2008 23:24:00 +0200")
References: <20080708202144.GA7354@efreet.light.src>
	<20080708212400.GD20626@gamma.logic.tuwien.ac.at>
Message-ID: <87lk0c6n6u.fsf@vvv.org.vrn.ru>

"NP" == Norbert Preining writes:

 >> So my patch additionally includes a replacement of those two
 >> statements with ${var##pattern} and ${var%pattern} expansions. These
 >> expansions are POSIX and should thus be reasonably portable.

note that on Solaris, /bin/sh is not a POSIX shell (there is a POSIX
shell at /usr/xpg4/bin/sh).

$ ZZZ=/aa/bb/cc/dd
$ echo ${ZZZ%/*}
bad substitution
$ echo ${ZZZ##*/}
bad substitution

Best,
v.

From karl at freefriends.org  Wed Jul  9 01:21:10 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 Jul 2008 18:21:10 -0500
Subject: [tex-live] Bug#489943: texlive-base-bin: mktexpk does not
	work	in directories containing spaces
In-Reply-To: <87lk0c6n6u.fsf@vvv.org.vrn.ru>
Message-ID: <200807082321.m68NLAG07398@f7.net>

     >> So my patch additionally includes a replacement of those two
     >> statements with ${var##pattern} and ${var%pattern} expansions. These
     >> expansions are POSIX and should thus be reasonably portable.

Sorry, POSIX introduced many incompatible shell constructs (and command
line options, and ...) that must be avoided for anything that actually
needs to be portable.

From mpg at elzevir.fr  Wed Jul  9 01:24:33 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Wed, 09 Jul 2008 01:24:33 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <18547.46364.93522.14901@zaphod.ms25.net>
References: <m2myku469q.fsf@stanford.edu>	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>	<4871CA50.3080702@elvenkind.com>	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>	<48722B61.5050900@elvenkind.com>	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>	<487243D8.6040709@elzevir.fr>	<48724A50.5070907@elvenkind.com>
	<18547.46364.93522.14901@zaphod.ms25.net>
Message-ID: <4873F731.6060806@elzevir.fr>

Reinhard Kotucha scripsit (08.07.2008 20:42)
>  > Yes (but if the message is there, I missed it).
> 
> The message exists indeed (two functions in
> Master/tlpkg/TeXLive/TLUtils.pm) but the functions are not called by
> the installer yet.  The function which mentions the paths is called
> welcome_paths().  The other one is called welcome() and is supposed to
> be used by the live system (if needed here at all).
> 
Yep, I remember now: I saw this message when I did the install for running
from DVD.

Manuel.


From panov at canopus.iacp.dvo.ru  Wed Jul  9 01:53:17 2008
From: panov at canopus.iacp.dvo.ru (Andrey V. Panov)
Date: Wed, 9 Jul 2008 10:53:17 +1100
Subject: [tex-live] on cm-super fonts
In-Reply-To: <87r6a47fb4.fsf@vvv.org.vrn.ru>
References: <200807071547.06386.panov@canopus.iacp.dvo.ru>
	<87r6a47fb4.fsf@vvv.org.vrn.ru>
Message-ID: <20080708235317.GA14528@canopus.iacp.dvo.ru>

On Tue, Jul 08, 2008 at 04:04:15PM +0400, Vladimir Volovich wrote:
> Hi!
> 
> "AVP" == Andrey V Panov writes:
> 
>  AVP> Cm-super fonts lacks BlueValues and OtherBlues entries in PS
>  AVP> Private values.  Therefore they are badly displayed by Adobe
>  AVP> Reader. These values could be generated with the fontforge using
>  AVP> the script attached. Also this script rearranges the contours and
>  AVP> first points (this makes the files smaller) and rehints the fonts
>  AVP> (this could be removed by deleting "AutoHint();\" ). The script
>  AVP> works as follows:
> 
>  AVP> 1. Copy all the pfb and afm files into a directory 2. Run the
>  AVP> script 3. Move the resulting files into appropriate places.
> 
>  AVP> V. Volovich knows about it but have not done anything.
> 
> could you please send snapshot from Adobe Reader rendering of cm-super
> fonts without and with this fix? if it makes the rendering visibly
> better, i'll apply it to the cm-super fonts.

Sorry, I have not unmodified cm-super fonts now, so I cannot reproduce.
Read archive of the discussion at
https://info.vsu.ru/Lists/CyrTeX-ru/Message/4216.html and at
http://www.linux.org.ru/view-message.jsp?msgid=2488155 (in Russian).
The second link gives an examle of such the pdf file:
http://sevik.ru/temp/tex/test-article.pdf .

-- 
Andrey V. Panov
panov /AT/ iacp.dvo.ru
http://canopus.iacp.dvo.ru/~panov/

From karl at freefriends.org  Wed Jul  9 02:19:31 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 Jul 2008 19:19:31 -0500
Subject: [tex-live] Bug#489943: texlive-base-bin: mktexpk does not
	work	in directories containing spaces
In-Reply-To: <20080708212400.GD20626@gamma.logic.tuwien.ac.at>
Message-ID: <200807090019.m690JVn07003@f7.net>

Thanks for the report, but ...

    > However I also noticed use of echo+sed dirname replacement (with comment
    > "can't rely on dirname" -- basename was relied on on the next line though),

Well, that's because basename can be relied on :).

    > which would have problems with spaces at the end (backquote expansion eats
    > them) and backslashes in some shells (the rules for backslash processing in
    > echo differ from shell to shell). So my patch additionally includes

I am not surprised that there are failures with names containing spaces,
let alone backslashes.  And since we want to move away from shell
scripts in general (-> texlua, so we can run the same code on Windows),
I doubt it's worth anyone's time to do a in-depth exegesis of all the
failures.

    > -PKDESTDIR=`echo "$PKDEST" | sed 's%/[^/][^/]*$%%'` # can't rely on dirname

I am not aware of any way to improve on the portability of this
construct.  POSIX is certainly not the answer.  Something to take up on
the autoconf list if you really want to.

    > -cd $PKDESTDIR || exit 1
    > +cd "$PKDESTDIR" || exit 1

That change was already made.

Best,
karl

From vvv at vsu.ru  Wed Jul  9 03:43:58 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed, 09 Jul 2008 05:43:58 +0400
Subject: [tex-live] on cm-super fonts
In-Reply-To: <20080708235317.GA14528@canopus.iacp.dvo.ru> (Andrey V. Panov's
	message of "Wed, 9 Jul 2008 10:53:17 +1100")
References: <200807071547.06386.panov@canopus.iacp.dvo.ru>
	<87r6a47fb4.fsf@vvv.org.vrn.ru>
	<20080708235317.GA14528@canopus.iacp.dvo.ru>
Message-ID: <87d4ln7rxd.fsf@vvv.org.vrn.ru>

"AVP" == Andrey V Panov writes:

 >> could you please send snapshot from Adobe Reader rendering of
 >> cm-super fonts without and with this fix? if it makes the rendering
 >> visibly better, i'll apply it to the cm-super fonts.

 AVP> Sorry, I have not unmodified cm-super fonts now, so I cannot
 AVP> reproduce.  Read archive of the discussion at
 AVP> https://info.vsu.ru/Lists/CyrTeX-ru/Message/4216.html and at
 AVP> http://www.linux.org.ru/view-message.jsp?msgid=2488155 (in
 AVP> Russian).  The second link gives an examle of such the pdf file:
 AVP> http://sevik.ru/temp/tex/test-article.pdf .

well, it is possible to:

1) download
   http://www.tex.ac.uk/tex-archive/fonts/ps-type1/cm-super/pfb/sfrm1000.pfb

2) create a pdf file with this font (it is sufficient to put it into
   current directory for it to be found)

3) change it with your script, or use already changed file if you have it

4) create a pdf file with the changed font.

5) look if there are visible changes in the rendering.

i did not see any feedback in the discussions you point to as to whether
the fix makes rendering any better. it may well be the case, but i'd
like to know whether it is the case.

Best,
v.

From karl at freefriends.org  Wed Jul  9 04:03:23 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 8 Jul 2008 21:03:23 -0500
Subject: [tex-live] tlpkg/*.tar.lzma -> archive/
Message-ID: <200807090203.m6923Nq02631@f7.net>

FYI, install-tl now has a --location option (--url is now a synonym),
and can be used to install from local disk (/some/path or
file:/some/path) as well as from an http: or ftp: url.  The --help
message, let alone other documentation, has not yet been properly updated.

As part of this, all the *.tar.lzma files are now stored in
.../tlnet/archive/ instead of tlnet/tlpkg/.  No doubt things will be
broken for a time, mirrors will take a while to catch up, etc.

karl

From wl at gnu.org  Wed Jul  9 06:12:56 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 09 Jul 2008 06:12:56 +0200 (CEST)
Subject: [tex-live] on cm-super fonts
In-Reply-To: <20080708235317.GA14528@canopus.iacp.dvo.ru>
References: <200807071547.06386.panov@canopus.iacp.dvo.ru>
	<87r6a47fb4.fsf@vvv.org.vrn.ru>
	<20080708235317.GA14528@canopus.iacp.dvo.ru>
Message-ID: <20080709.061256.237365321.wl@gnu.org>

> > could you please send snapshot from Adobe Reader rendering of
> > cm-super fonts without and with this fix? if it makes the
> > rendering visibly better, i'll apply it to the cm-super fonts.

Without even looking at the font I (as one of the FreeType
maintainers) know immediately that hints greatly improve the rendering
quality of *any* Type?1 font.  Especially blue values are important to
assure consistent glyph heights and depths.


    Werner

From preining at logic.at  Wed Jul  9 10:18:47 2008
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 Jul 2008 10:18:47 +0200
Subject: [tex-live] Announcement/Warning: everal changes in network installer
Message-ID: <20080709081847.GG16861@gamma.logic.tuwien.ac.at>


Hi all,

we have changed some the way the installer determines the installation
source, and also have changed the location of files on the server.

Most important: Since the new packages/location are going out only now
from CTAN to the mirrors, the installation will be broken till tomorrow,
and you will need new installaer packages.

THe errors you will see are about not being able to find/download the
tar.lzma. The reason for this is that we renamed the place where these
files are stored.

Furthermore, the specification of the installation source has changed,
now being in sync with tlmgr:
new selection of installation source is done via
	--location
we support --url as an alias for --location
you can give practically *everything* to --location, should it be
an http://, ftp://, file:/..., normal path

In the case of file:/ and normal path the installer autodetect the
installation media. So what you can do now is that you install
from a separate install-tl direcory, but taking as source the
svn checkout by doing
   perl install-tl --location /src/to/svn/checkout/Master

If you have a web server at localhost (like I have) you can do either
   perl install-tl --location http://localhost/norbert/tltesting
which will use the wget method, or use
   perl install-tl --location /var/www/norbert/tltesting
or even
   perl install-tl --location file:/var/www/norbert/tltesting
The latter cases will use the "CD" method.

As a consequence of that there will be NO (!!!!)
	--media
That is gone. The media is autodetected and need not be overridden, 
since the thing you have to do is set the --location.

There is a small point here: If something (say a DVD) contains both
the files itself ('live') and the .tar.lzma ('inst'), then the
.tar.lzma take precedence, and that cannot be altered. We can live
with that since it is highly unlikely that this will happen and
even more highly unlikely that someone will complain.

Sorry for any inconveniences and all the best


Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ROCHESTER (n.)
One who is able to gain occupation of the armrest on both sides of
their cinema or aircraft seat.
			--- Douglas Adams, The Meaning of Liff

From staw at gust.org.pl  Wed Jul  9 13:23:15 2008
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed, 9 Jul 2008 13:23:15 +0200 (CEST)
Subject: [tex-live] tlpkg/*.tar.lzma -> archive/
In-Reply-To: <200807090203.m6923Nq02631@f7.net>
Message-ID: <Pine.LNX.4.44.0807091320400.23834-100000@staw.homedns.org>

On Tue, 8 Jul 2008, Karl Berry wrote:

> [...]
> As part of this, all the *.tar.lzma files are now stored in
> .../tlnet/archive/ instead of tlnet/tlpkg/.  No doubt things will be
> broken for a time, mirrors will take a while to catch up, etc.

Please delete on CTAN systems/texlive/tlnet/install*
The current install* files are in systems/texlive/tlnet/tlnet

Thanks,
-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From preining at logic.at  Wed Jul  9 18:03:29 2008
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 Jul 2008 18:03:29 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <487339EF.2060101@elvenkind.com>
References: <48724A1A.6030400@elvenkind.com> <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487240E6.1050805@elvenkind.com>
	<20080707194924.GC30167@gamma.logic.tuwien.ac.at>
	<487339EF.2060101@elvenkind.com>
Message-ID: <20080709160329.GE5813@gamma.logic.tuwien.ac.at>

Hi Taco,

Thanks for all the remarks.

On Di, 08 Jul 2008, Taco Hoekwater wrote:
> >- do we call luatools --generate if *any* package is updated 
> >  (similar to mktexlsr)
> 
> only for packages that are relevant to context (that should be the
> ones triggered by collection-context and its children).

That is not implemented, but I guess it is possible. I can add code to
the tlmgr to do so. Not easy, but possible.

> >- do we call context --make ... at update time?
> 
> only when the context package itself or the luatex binary is updated.
> (the need for this command to be run explicitly may go away in the
> future, but it will remain present)

Same with that.

> Because of this, I (we) simply cannot answer this question within a
> timeframe that is reasonable for texlive 2008: I definately don't want
> texlive's release date to depend on political decisions that need to
> be made for an experimental system, but neither do I want that release
> date to force these decisions to be made prematurely. I am uncertain
> where that leaves us for texlive 2008, sorry.

What about the 
	CACHEINTDS = 't'
feature? It is in the betas of context, but I think it didn't make it in
any of the released contexts.

Is there any chance to get that into TeX Live, which would help us a lot
(at least I HOPE so!!!).

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
QUALL (vb.)
To speak with the voice of one who requires another to do something
for them.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Wed Jul  9 18:18:04 2008
From: preining at logic.at (Norbert Preining)
Date: Wed, 9 Jul 2008 18:18:04 +0200
Subject: [tex-live] TeX Live and ConTeXt installation
Message-ID: <20080709161804.GI5813@gamma.logic.tuwien.ac.at>

Hi Taco, hi all,

I have activated post install actions for bin-context doing the
following:

- if DEST/texmf/web2c/texmfcnf.lua does not exist, create it with
	local conf = {}
	conf.TEXMFCACHE = "...the path to TEXMFSYSVAR..."
	return conf
  the TEXMFCACHE will then actually be TEXMFSYSVAR/luatex-cache/context
  (the later two dirs are added by luatools)

- then run the following commands:
	luatools --generate
	context --make --compile cont-en
	mtxrun --script fonts --reload
  (last one according to Mojca)

All this is done if and *only* if:
- bin-context is installed/updated
- luatex is installed/updated (!)

THe cache is NOT updated when any other package (fonts etc) are updated.
I cannot reasonably implement that by now.

Open questions, and I would like to hear Karl's and Taco's opinion on
that:

- do we have a security problem with this? Taco you mentioned something?
- do we expect problems with putting the cache into TEXMFSYSVAR?
- do we agree on making it this way for now?

Anyway, all this is by now submitted with rev. 9402.

Please give it a test run.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
RIPON (vb.)
(Of literary critics.) To include all the best jokes from the book in
the review to make it look as if the critic thought of them.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Wed Jul  9 19:15:18 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 09 Jul 2008 19:15:18 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
 snapshot
In-Reply-To: <20080709160329.GE5813@gamma.logic.tuwien.ac.at>
References: <48724A1A.6030400@elvenkind.com> <m2myku469q.fsf@stanford.edu>
	<20080707073722.GE1717@gamma.logic.tuwien.ac.at>
	<4871CA50.3080702@elvenkind.com>
	<20080707075614.GA4230@gamma.logic.tuwien.ac.at>
	<48722B61.5050900@elvenkind.com>
	<20080707145319.GC24435@gamma.logic.tuwien.ac.at>
	<487240E6.1050805@elvenkind.com>
	<20080707194924.GC30167@gamma.logic.tuwien.ac.at>
	<487339EF.2060101@elvenkind.com>
	<20080709160329.GE5813@gamma.logic.tuwien.ac.at>
Message-ID: <4874F226.9070602@elvenkind.com>

Hi Norbert,

Norbert Preining wrote:
> Hi Taco,
> 
> Thanks for all the remarks.

Thank you for all the hard work.

>> Because of this, I (we) simply cannot answer this question within a
>> timeframe that is reasonable for texlive 2008: I definately don't want
>> texlive's release date to depend on political decisions that need to
>> be made for an experimental system, but neither do I want that release
>> date to force these decisions to be made prematurely. I am uncertain
>> where that leaves us for texlive 2008, sorry.
> 
> What about the 
> 	CACHEINTDS = 't'
> feature? It is in the betas of context, but I think it didn't make it in
> any of the released contexts.
> 
> Is there any chance to get that into TeX Live, which would help us a lot
> (at least I HOPE so!!!).

I can do that, I think (more offlist).

Best wishes,
Taco

From karl at freefriends.org  Wed Jul  9 20:02:29 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 9 Jul 2008 13:02:29 -0500
Subject: [tex-live] tlpkg/*.tar.lzma -> archive/
In-Reply-To: <Pine.LNX.4.44.0807091320400.23834-100000@staw.homedns.org>
Message-ID: <200807091802.m69I2TB03365@f7.net>

    Please delete on CTAN systems/texlive/tlnet/install*
    The current install* files are in [systems/texlive/tlnet/tldev]

CTAN mirrors from tug.org.  I deleted the spurious files.  Thanks.

From vvv at vsu.ru  Wed Jul  9 22:37:23 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu, 10 Jul 2008 00:37:23 +0400
Subject: [tex-live] on cm-super fonts
In-Reply-To: <20080709.061256.237365321.wl@gnu.org> (Werner LEMBERG's message
	of "Wed, 09 Jul 2008 06:12:56 +0200 (CEST)")
References: <200807071547.06386.panov@canopus.iacp.dvo.ru>
	<87r6a47fb4.fsf@vvv.org.vrn.ru>
	<20080708235317.GA14528@canopus.iacp.dvo.ru>
	<20080709.061256.237365321.wl@gnu.org>
Message-ID: <87abgq6bgc.fsf@vvv.org.vrn.ru>

"WL" == Werner LEMBERG writes:

 >> > could you please send snapshot from Adobe Reader rendering of >
 >> cm-super fonts without and with this fix? if it makes the >
 >> rendering visibly better, i'll apply it to the cm-super fonts.

 WL> Without even looking at the font I (as one of the FreeType
 WL> maintainers) know immediately that hints greatly improve the
 WL> rendering quality of *any* Type?1 font.  Especially blue values are
 WL> important to assure consistent glyph heights and depths.

the fonts were already (auto)hinted (using fontlab), but lacked
BlueValues and OtherBlues in the private dictionary.

i updated the cm-super fonts, and released v0.3.4 which should appear on
ctan tomorrow, and currently is available from ftp.vsu.ru/pub/tex/font-packs/cm-super/

what i did is i first processed the fonts with fontforge, using
simplified script (without auto-hinting etc):

for i in *.pfb ; do
 FILE=`basename $i .pfb`
 if [ ! -f $FILE.afm ]; then break; fi
 fontforge -lang=ff -c "Open(\"$i\");\
 ClearPrivateEntry(\"BlueValues\");\
 ClearPrivateEntry(\"OtherBlues\");\
 SelectWorthOutputting();\
 Generate(\"${FILE}\"+\"-new.pfb\",\"\",0x200021);\
 Close();"
done

which added the BlueValues and OtherBlues. then i extracted them using
t1disasm, and added to the original fonts, again using t1disasm+perl+t1asm.
nothing changed in the fonts except the added BlueValues and OtherBlues.
all hinting, sub-routines, etc remained intact.

as far as i can see, it makes some difference (glyphs heights and depths
became more aligned), which is hopefully for good. :-)

Best,
v.

From wl at gnu.org  Thu Jul 10 01:30:47 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Thu, 10 Jul 2008 01:30:47 +0200 (CEST)
Subject: [tex-live] on cm-super fonts
In-Reply-To: <87abgq6bgc.fsf@vvv.org.vrn.ru>
References: <20080708235317.GA14528@canopus.iacp.dvo.ru>
	<20080709.061256.237365321.wl@gnu.org>
	<87abgq6bgc.fsf@vvv.org.vrn.ru>
Message-ID: <20080710.013047.185599353.wl@gnu.org>

>  WL> Without even looking at the font I (as one of the FreeType
>  WL> maintainers) know immediately that hints greatly improve the
>  WL> rendering quality of *any* Type?1 font.  Especially blue values
>  WL> are important to assure consistent glyph heights and depths.
> 
> the fonts were already (auto)hinted (using fontlab), but lacked
> BlueValues and OtherBlues in the private dictionary.

It actually surprises me that fontlab doesn't provide this
automatically...

> i updated the cm-super fonts, and released v0.3.4 which should
> appear on ctan tomorrow, and currently is available from
> ftp.vsu.ru/pub/tex/font-packs/cm-super/

Great!


    Werner

From mojca.miklavec.lists at gmail.com  Thu Jul 10 14:09:41 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 10 Jul 2008 14:09:41 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <200807092217.m69MH2003904@f7.net>
References: <6faad9f00807080017kd05dfe8ic90fb0ba0dd70561@mail.gmail.com>
	<200807092217.m69MH2003904@f7.net>
Message-ID: <6faad9f00807100509s1a251142i78fad3d20f37af1c@mail.gmail.com>

Hello Karl,

On Thu, Jul 10, 2008 at 12:17 AM, Karl Berry wrote:
>    Can I simply use bin-xetex as a dependency (we really don't need
>    anything else from XeTeX)?
>
> There is no bin-xetex any more, I merged it all into xetex some time ago.
>
> You could try depending on xetex instead of collection-xetex if you
> don't need \ifxetex or any of the other packages there.

No, those \ifxetex packages are not needed at all.

Can you please change collection-xetex into xetex (in scheme-context)
then? In fact even less is needed, but xetex instead of
collection-xetex is already much better. The remaining few things are
really not worth bothering.

----

name context
category Package
runpattern +d texmf-dist/context/config
runpattern +d texmf-dist/context/data
runpattern +d texmf-dist/fonts/misc/cid/fontforge
#
# these have their own TL package, and are not part of core context.
runpattern +!d texmf-dist/tex/context/third

Why is this part of ConTeXt? These are packages for ConTeXt and should
be installed separately (maybe in collection-context or
scheme-context). Besides that, texmf-dist/tex doesn't catch all the
cases. Some packages also contain metapost code or some font files.

docpattern +!d texmf-dist/fonts/misc/xetex/fontmapping/context

This is *not* documentation. The files are needed to run ConTeXt +
XeTeX properly.
(and are part of core context)

# should be fixed in next release of these pacages:
runpattern +!d texmf-dist/tex/context/pgf
runpattern +!d texmf-dist/tex/context/pgfplots
docpattern +!d texmf-dist/doc/context/pgfplots

I think that this belong to pgf package, not to ConTeXt. It's not so
important, but the files are relatively useless without pgf package
itself.

Maybe one could make a package context-pgf if needed, that would
contain those files + depend on pgf, but I guess that those files
really belong to pgf.

Independent of that: pgf should depend on xkeyval.

Thanks,
    Mojca

From preining at logic.at  Thu Jul 10 14:26:38 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 10 Jul 2008 14:26:38 +0200
Subject: [tex-live] TeX Live and ConTeXt installation
In-Reply-To: <20080709161804.GI5813@gamma.logic.tuwien.ac.at>
References: <20080709161804.GI5813@gamma.logic.tuwien.ac.at>
Message-ID: <20080710122638.GH7667@gamma.logic.tuwien.ac.at>

Hi all,

just to inform you that after long discussions we have settled to do
NOTHING when context is installed, and that there will be wiki page
describing how to set up context/luatex with TL2008. That way we can add
support for anything later on and don't have to deal with stuff created
at a time when it wasn't ripe.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
WHISSENDINE (n.)
The noise which occurs (often by night) in a strange house, which is
too short and too irregular for you ever to be able to find out what
it is and where it comes from.
			--- Douglas Adams, The Meaning of Liff

From panov at canopus.iacp.dvo.ru  Thu Jul 10 14:16:59 2008
From: panov at canopus.iacp.dvo.ru (Andrey V. Panov)
Date: Thu, 10 Jul 2008 23:16:59 +1100
Subject: [tex-live] on cm-super fonts
In-Reply-To: <87abgq6bgc.fsf@vvv.org.vrn.ru>
References: <200807071547.06386.panov@canopus.iacp.dvo.ru>
	<87r6a47fb4.fsf@vvv.org.vrn.ru>
	<20080708235317.GA14528@canopus.iacp.dvo.ru>
	<20080709.061256.237365321.wl@gnu.org>
	<87abgq6bgc.fsf@vvv.org.vrn.ru>
Message-ID: <20080710121659.GA23340@canopus.iacp.dvo.ru>

The first part of my script with sed and grep commands preserves
copyright info, otherwise it will be lost.

It should be tried to invoke CanonicalStart() and CanonicalContours() 
with newer version of fontforge from cvs. Even if it will crash 
G.Williams fixes bugs very rapidly (~1 day).

-- 
Andrey V. Panov
panov /AT/ iacp.dvo.ru
http://canopus.iacp.dvo.ru/~panov/

From vvv at vsu.ru  Thu Jul 10 16:03:55 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu, 10 Jul 2008 18:03:55 +0400
Subject: [tex-live] on cm-super fonts
In-Reply-To: <20080710121659.GA23340@canopus.iacp.dvo.ru> (Andrey V. Panov's
	message of "Thu, 10 Jul 2008 23:16:59 +1100")
References: <200807071547.06386.panov@canopus.iacp.dvo.ru>
	<87r6a47fb4.fsf@vvv.org.vrn.ru>
	<20080708235317.GA14528@canopus.iacp.dvo.ru>
	<20080709.061256.237365321.wl@gnu.org> <87abgq6bgc.fsf@vvv.org.vrn.ru>
	<20080710121659.GA23340@canopus.iacp.dvo.ru>
Message-ID: <87iqvdygxg.fsf@vvv.org.vrn.ru>

"AVP" == Andrey V Panov writes:

 AVP> The first part of my script with sed and grep commands preserves
 AVP> copyright info, otherwise it will be lost.

it was not lost: as i said, i extracted only the fontforge-generated
BlueValues and OtherBlues values, and inserted them into the original
fonts using t1disasm+perl+t1asm.

 AVP> It should be tried to invoke CanonicalStart() and
 AVP> CanonicalContours() with newer version of fontforge from cvs. Even
 AVP> if it will crash G.Williams fixes bugs very rapidly (~1 day).

the fonts were already hinted with fontlab, and i don't want to risk
breaking them by rehinting again. at least not this time, as i don't
have time to devote to testing the fonts. when i'll have more time, i'll
regenerate cm-super fonts from scratch again.

Best,
v.

From preining at logic.at  Thu Jul 10 14:45:13 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 10 Jul 2008 14:45:13 +0200
Subject: [tex-live] trouble starting context on latest tl2008 developer
	snapshot
In-Reply-To: <6faad9f00807100509s1a251142i78fad3d20f37af1c@mail.gmail.com>
References: <6faad9f00807080017kd05dfe8ic90fb0ba0dd70561@mail.gmail.com>
	<200807092217.m69MH2003904@f7.net>
	<6faad9f00807100509s1a251142i78fad3d20f37af1c@mail.gmail.com>
Message-ID: <20080710124513.GI7667@gamma.logic.tuwien.ac.at>

On Do, 10 Jul 2008, Mojca Miklavec wrote:
> Can you please change collection-xetex into xetex (in scheme-context)

done revision 9434.

> runpattern +!d texmf-dist/tex/context/third

[...and many other ! patterns ...]

> Why is this part of ConTeXt? These are packages for ConTeXt and should

The
	!
is the negation of the pattern, so these files are NOT included ...
I guess that answers all your questions, right?

> Independent of that: pgf should depend on xkeyval.

Added to the pgf.tlpsrc file, but ... there are probably thousands of
missing dependencies. We try to keep consistency only within the
collections. So that if you install a collection all (most) in it will
work when the collection itself and all depending collections are
installed.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HOGGESTON (n.)
The action of overshaking a pair of dice in a cup in the mistaken
belief that this will affect the eventual outcome in your favour and
not irritate everyone else.
			--- Douglas Adams, The Meaning of Liff

From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul 10 17:20:04 2008
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 10 Jul 2008 16:20:04 +0100
Subject: [tex-live] cm-super update
Message-ID: <9886.1215703204@mole.cl.cam.ac.uk>

i noticed this morning that rainer's mirror of cm-super didn't run last
night.

we've tidied things up a bit, but the result is it's only on
ftp.tex.ac.uk and ftp.dante.de (and of course the corresponding rsync.*)

robin

From martin at oneiros.de  Thu Jul 10 20:13:12 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 10 Jul 2008 20:13:12 +0200
Subject: [tex-live] texmf-dist/tex/latex/arabi/bblopts.cfg
Message-ID: <68c491a60807101113t4f678c65lecd8021c7bdbb116@mail.gmail.com>

(/home/ms/tex/texlive/svn/Master/texmf-dist/tex/generic/babel/babel.sty
*************************************
* Local config file bblopts.cfg used
*
(/home/ms/tex/texlive/svn/Master/texmf-dist/tex/latex/arabi/bblopts.cfg)
(/home/ms/tex/texlive/svn/Master/texmf-dist/tex/generic/babel/english.ldf
(/home/ms/tex/texlive/svn/Master/texmf-dist/tex/generic/babel/babel.def
! Undefined control sequence.
\main at language ...bbl at main@language \bbl at patterns
                                                  {\languagename }
l.131 \main at language{english}

We don't want to ship a default bblopts.cfg, do we?

And I think babel is broken...

Best
   Martin

From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul 10 20:27:42 2008
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu, 10 Jul 2008 19:27:42 +0100
Subject: [tex-live] texmf-dist/tex/latex/arabi/bblopts.cfg
In-Reply-To: Your message of Thu, 10 Jul 2008 20:13:12 +0200.
	<68c491a60807101113t4f678c65lecd8021c7bdbb116@mail.gmail.com> 
Message-ID: <12000.1215714462@mole.cl.cam.ac.uk>

Martin Schr?der <martin at oneiros.de> wrote:

> (/home/ms/tex/texlive/svn/Master/texmf-dist/tex/generic/babel/babel.sty
> *************************************
> * Local config file bblopts.cfg used

this is a fundamental brokenness of babel -- you have to execute an
elaborate dance to get tiyr your own .ldf recognised by babel.

iirc, bernard gaulle has a solution for the problem (in french(pro|le))
but i've never investigated it.

> (/home/ms/tex/texlive/svn/Master/texmf-dist/tex/latex/arabi/bblopts.cfg)
> (/home/ms/tex/texlive/svn/Master/texmf-dist/tex/generic/babel/english.ldf
> (/home/ms/tex/texlive/svn/Master/texmf-dist/tex/generic/babel/babel.def
> ! Undefined control sequence.
> \main at language ...bbl at main@language \bbl at patterns
>                                                   {\languagename }
> l.131 \main at language{english}
> 
> We don't want to ship a default bblopts.cfg, do we?
> 
> And I think babel is broken...

i agree: there's a post on c.t.t about this same error message.  can't
see how it happens, though.

i'll try to characterise it and dig out a response from johannes.  (for
all that time's getting a bit short -- he does seem to be awake at the
moment, which is a blessing!)

r

From oberdiek at uni-freiburg.de  Thu Jul 10 21:39:46 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 10 Jul 2008 21:39:46 +0200
Subject: [tex-live] texmf-dist/tex/latex/arabi/bblopts.cfg
In-Reply-To: <12000.1215714462@mole.cl.cam.ac.uk>
References: <68c491a60807101113t4f678c65lecd8021c7bdbb116@mail.gmail.com>
	<12000.1215714462@mole.cl.cam.ac.uk>
Message-ID: <20080710193945.GA2873@irwin.vpn.uni-freiburg.de>

On Thu, Jul 10, 2008 at 07:27:42PM +0100, Robin Fairbairns wrote:

> Martin Schr?der <martin at oneiros.de> wrote:
> 
> > ! Undefined control sequence.
> > \main at language ...bbl at main@language \bbl at patterns

> > And I think babel is broken...
> 
> i agree: there's a post on c.t.t about this same error message.  can't
> see how it happens, though.

No, just rebuild the formats.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From karl at freefriends.org  Thu Jul 10 23:35:43 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 10 Jul 2008 16:35:43 -0500
Subject: [tex-live] texmf-dist/tex/latex/arabi/bblopts.cfg
In-Reply-To: <12000.1215714462@mole.cl.cam.ac.uk>
Message-ID: <200807102135.m6ALZhN28894@f7.net>

    > (/home/ms/tex/texlive/svn/Master/texmf-dist/tex/latex/arabi/bblopts.cfg)

I noticed that and do not like it, but I do not know what to do about
it.  OTOH, I see we simply left bblopts.cfg in doc/latex/arabi last
year, so we should probably do that again this year instead of putting
it in the runtime.  

    > ! Undefined control sequence.
    > \main at language ...bbl at main@language \bbl at patterns

As Heiko said, this gets fixed if you remake the fmts.  At least for me.

k

From wl at gnu.org  Fri Jul 11 09:11:05 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 11 Jul 2008 09:11:05 +0200 (CEST)
Subject: [tex-live] bug: texdoc and text files
Message-ID: <20080711.091105.52321412.wl@gnu.org>


[TeXLive r9354]

I've just entered

  texdoc CJK

expecting that texdoc displays CJK.txt (located in
texmf-dist/doc/latex/CJK/doc).  However, I get

  Missing filename ("less --help" for help)

which is clearly a bug.  The same happens if I say

  texdoc CJK.txt


    Werner

From preining at logic.at  Fri Jul 11 14:10:41 2008
From: preining at logic.at (Norbert Preining)
Date: Fri, 11 Jul 2008 14:10:41 +0200
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080711.091105.52321412.wl@gnu.org>
References: <20080711.091105.52321412.wl@gnu.org>
Message-ID: <20080711121041.GA14556@gamma.logic.tuwien.ac.at>

On Fr, 11 Jul 2008, Werner LEMBERG wrote:
> [TeXLive r9354]
> 
> I've just entered
> 
>   texdoc CJK
> 
> expecting that texdoc displays CJK.txt (located in
> texmf-dist/doc/latex/CJK/doc).  However, I get
> 
>   Missing filename ("less --help" for help)

Strange. I just updated my test installation and the CJK.txt file shows
up. So please do
	tlmgr update --all
and retry.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
POGES (pl.n.)
The lumps of dry powder that remain after cooking a packet soup.
			--- Douglas Adams, The Meaning of Liff

From wl at gnu.org  Fri Jul 11 14:20:19 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Fri, 11 Jul 2008 14:20:19 +0200 (CEST)
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080711121041.GA14556@gamma.logic.tuwien.ac.at>
References: <20080711.091105.52321412.wl@gnu.org>
	<20080711121041.GA14556@gamma.logic.tuwien.ac.at>
Message-ID: <20080711.142019.92854860.wl@gnu.org>



> >   texdoc CJK
> >
> >   Missing filename ("less --help" for help)
>
> Strange. I just updated my test installation and the CJK.txt file
> shows up. So please do
> 	tlmgr update --all
> and retry.

I use the SVN repository directly.  Will update right now, then jump
into the train to Austria, and report tomorrow in case the error
persists.


    Werner

From preining at logic.at  Fri Jul 11 14:36:50 2008
From: preining at logic.at (Norbert Preining)
Date: Fri, 11 Jul 2008 14:36:50 +0200
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080711.142019.92854860.wl@gnu.org>
References: <20080711.091105.52321412.wl@gnu.org>
	<20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
Message-ID: <20080711123650.GB19447@gamma.logic.tuwien.ac.at>

On Fr, 11 Jul 2008, Werner LEMBERG wrote:
> I use the SVN repository directly.  Will update right now, then jump
> into the train to Austria, and report tomorrow in case the error
> persists.

Welcome to Austria, I am leaving for Switzerland and France. Enjoy your
time in our beautiful Banana Republic.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MUNDERFIELD (n.) A meadow selected, whilst driving past, as being
ideal for a picnic which, from a sitting position, turns out to be
full of stubble, dust and cowpats, and almost impossible to enjoy
yourself in.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Fri Jul 11 14:37:46 2008
From: preining at logic.at (Norbert Preining)
Date: Fri, 11 Jul 2008 14:37:46 +0200
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080711.142019.92854860.wl@gnu.org>
References: <20080711.091105.52321412.wl@gnu.org>
	<20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
Message-ID: <20080711123746.GC19447@gamma.logic.tuwien.ac.at>

On Fr, 11 Jul 2008, Werner LEMBERG wrote:
> I use the SVN repository directly.  

Tried that just now. Worked. 

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
FORD 	Six pints of bitter. And quickly please, the
	world's about to end.
BARMAN	Oh yes, sir? Nice weather for it.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From mpg at elzevir.fr  Fri Jul 11 14:59:14 2008
From: mpg at elzevir.fr (Manuel Pegourie-Gonnard)
Date: Fri, 11 Jul 2008 14:59:14 +0200
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080711.142019.92854860.wl@gnu.org>
References: <20080711.091105.52321412.wl@gnu.org>	<20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
Message-ID: <48775922.7000401@elzevir.fr>

[sorry for the previous answer off-list]

Werner LEMBERG a ?crit :
> I use the SVN repository directly.  Will update right now, then jump
> into the train to Austria, and report tomorrow in case the error
> persists.
> 
Try updating texdoc.tlu now, I think I just fixed it (r9448).  The problem
lied in the way I was using the $PAGER env var (which you probably have set
and Norbert not): I forgot to insert a placeholder for the filename...
Should work now.

Thanks for your report,
Manuel.

From jonathan_kew at sil.org  Fri Jul 11 22:30:23 2008
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Fri, 11 Jul 2008 21:30:23 +0100
Subject: [tex-live] beamer vs. hyperref
Message-ID: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>

It has just come to my attention (though it may not actually be a new  
issue) that beamer and hyperref don't get along perfectly when used  
with xelatex.

First, consider a simple test using the "article" class:

   \documentclass{article}
   \usepackage{hyperref}
   \title{A Test}
   \author{A. N. Author}
   \begin{document}
   \maketitle
   \end{document}

When this is run with xelatex, hyperref recognizes that it should use  
a dvipdfm-style driver:

   This is XeTeXk, Version 3.1415926-2.2-0.999.2 (Web2C 7.5.6)
   .....
   LaTeX2e <2005/12/01>
   Babel <v3.8j> and hyphenation patterns for english, usenglishmax,  
dumylang,
   .....
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/base/article.cls
   Document Class: article 2005/09/16 v1.4f Standard LaTeX document  
class
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/base/ 
size10.clo))
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
hyperref.sty
   .....
   (/Users/jonathan/texlive/Master/texmf-dist/tex/generic/oberdiek/ 
ifpdf.sty)))
   *hyperref using default driver hdvipdfm*
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
hdvipdfm.def)
   .....

and the result is that hyperref features work as expected.

However, changing the document class to "beamer" leads to a surprising  
result:

   This is XeTeXk, Version 3.1415926-2.2-0.999.2 (Web2C 7.5.6)
   .....
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/beamer/ 
beamer.cls
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/beamer/ 
beamerbasercs.sty)
   Document Class: beamer 2007/03/11 cvs version 3.07 A class for  
typesetting pres
   entations (rcs-revision 1.70)
   .....
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
hyperref.sty
   .....
   (/Users/jonathan/texlive/Master/texmf-dist/tex/generic/oberdiek/ 
ifpdf.sty))

   Package hyperref Warning: Option `pdfpagelabels' is turned off
   (hyperref)                because \thepage is undefined.

   Hyperref stopped early
   )
   *hyperref using default driver hdvips*
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
hdvips.def
   (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
pdfmark.def))
   .....

Hyperref has chosen the dvips driver, with the result that xetex's  
output driver xdvipdfmx generates a mass of warnings for all the dvips- 
specific \specials that it doesn't recognize.

So beamer is interfering with hyperref's attempt to choose the  
appropriate driver by default, which otherwise works well. This  
happens because beamer.cls actually defines a \count register  
\pdfoutput, if the pdfTeX primitive is not present:

   \ifx\pdfoutput\@undefined \newcount\pdfoutput \fi
   \ifx\pdfoutput\relax \newcount\pdfoutput \fi

(beamer.cls, lines 25-26.)

I'm not sure what else in beamer depends on having defined \pdfoutput;  
in a minimal test, removing these lines solves the hyperref problem  
and the output looks fine. However, there are probably many more  
implications that need to be considered. Alternatively, it would be  
possible to revise the tests in hyperref.sty to check for XeTeX before  
testing for the existence of \pdfoutput, so that it is not "fooled" by  
beamer's tricks. In any case, I suspect that defining \pdfoutput is a  
risky strategy, as it may mislead other packages besides hyperref, so  
I hope that beamer can be updated to eliminate this.

In the meantime, I suggest that in TeX Live, we add a hyperref.cfg  
file to the texmf-dist/tex/xelatex/xetexconfig/ directory, which will  
check that it is running under xelatex and then define  
\Hy at defaultdriver appropriately. Something like this:

   \ProvidesFile{hyperref.cfg}%
     [2008/07/11 v1.2 hyperref configuration for XeLaTeX]
   \ifx\XeTeXversion\undefined \else
     % Change default driver to "dvipdfm" instead of "hypertex",
     % requires hyperref 2002/06/05 v6.72s
     \providecommand*{\Hy at defaultdriver}{hdvipdfm}%
   \fi
   \endinput

By placing this file in a tex/xelatex subtree, it will be found in  
preference to the existing file under tex/latex *only* when running  
under xelatex, and so other engines will not be affected.

Unless there are objections (or better suggestions), I propose to add  
this to the xetexconfig directory shortly.

Comments welcome....  JK


From karl at freefriends.org  Fri Jul 11 23:45:07 2008
From: karl at freefriends.org (Karl Berry)
Date: Fri, 11 Jul 2008 16:45:07 -0500
Subject: [tex-live] beamer vs. hyperref
In-Reply-To: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>
Message-ID: <200807112145.m6BLj7x07967@f7.net>

    In any case, I suspect that defining \pdfoutput is a risky strategy, 

I agree.  Till, can you change that?  (Not urgent.)

    In the meantime, I suggest that in TeX Live, we add a hyperref.cfg  
    file to the texmf-dist/tex/xelatex/xetexconfig/ directory, 

Please do.

Glad you noticed.

Thanks,
Karl

From martin at oneiros.de  Sat Jul 12 02:09:24 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 12 Jul 2008 02:09:24 +0200
Subject: [tex-live] beamer vs. hyperref
In-Reply-To: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>
References: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>
Message-ID: <68c491a60807111709y528202b2ha917e6ea6032b030@mail.gmail.com>

2008/7/11 Jonathan Kew <jonathan_kew at sil.org>:
> It has just come to my attention (though it may not actually be a new issue)
> that beamer and hyperref don't get along perfectly when used with xelatex.

Seems like a good idea to pretty please request a new release of
beamer in time for TL2008. :-}

Best
   Martin

From alama at stanford.edu  Sat Jul 12 05:02:36 2008
From: alama at stanford.edu (Jesse Alama)
Date: Fri, 11 Jul 2008 20:02:36 -0700
Subject: [tex-live] TeX Live and ConTeXt installation
References: <20080709161804.GI5813@gamma.logic.tuwien.ac.at>
	<20080710122638.GH7667@gamma.logic.tuwien.ac.at>
Message-ID: <m2prpjkdo3.fsf@stanford.edu>

Norbert Preining <preining at logic.at> writes:

> just to inform you that after long discussions we have settled to do
> NOTHING when context is installed, and that there will be wiki page
> describing how to set up context/luatex with TL2008. That way we can add
> support for anything later on and don't have to deal with stuff created
> at a time when it wasn't ripe.

Nothing at all?  I'm afraid, then, that I don't understand this:
installing scheme-context, I get:

  Installing: textpath
  Installing: xetex
  Installing: xetex.universal-darwin
  Installing: xetexconfig
  running post install action for bin-context
  
  LuaTools | loading configuration file /usr/local/texlive/2008/texmf/web2c/texmfcnf.lua
  LuaTools | loading /usr/local/texlive/2008/texmf/web2c/texmf.cnf
  LuaTools | preparing configuration for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/ae181585be5454a57ae25fb95c3ccbef.tma
  LuaTools | saving configuration in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/ae181585be5454a57ae25fb95c3ccbef.tma
  LuaTools | compiling configuration to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/ae181585be5454a57ae25fb95c3ccbef.tmc
  LuaTools | locating list of /Users/alama/.texlive2008/texmf-config
  LuaTools | locating list of /Users/alama/.texlive2008/texmf-var
  LuaTools | locating list of /Users/alama/texmf
  LuaTools | locating list of /usr/local/texlive/2008/texmf-config
  LuaTools | locating list of /usr/local/texlive/2008/texmf-var
  LuaTools | locating list of /usr/local/texlive/2008/texmf
  LuaTools | locating list of /usr/local/texlive/texmf-local
  LuaTools | locating list of /usr/local/texlive/2008/texmf-dist
  LuaTools | scanning path /Users/alama/.texlive2008/texmf-var
  LuaTools | 0 files found on 4 directories with 0 uppercase remappings
  LuaTools | scanning path /Users/alama/texmf
  LuaTools | 1199 files found on 251 directories with 42 uppercase remappings
  LuaTools | scanning path /usr/local/texlive/2008/texmf-config
  LuaTools | 0 files found on 0 directories with 0 uppercase remappings
  LuaTools | scanning path /usr/local/texlive/2008/texmf-var
  LuaTools | 62 files found on 34 directories with 0 uppercase remappings
  LuaTools | scanning path /usr/local/texlive/2008/texmf
  LuaTools | 282 files found on 59 directories with 9 uppercase remappings
  LuaTools | scanning path /usr/local/texlive/texmf-local
  LuaTools | 3096 files found on 187 directories with 73 uppercase remappings
  LuaTools | scanning path /usr/local/texlive/2008/texmf-dist
  LuaTools | 4225 files found on 315 directories with 56 uppercase remappings
  LuaTools | preparing files for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/ac3eee35b5b23b98b43e5c7003a4bbe4.tma
  LuaTools | saving files in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/ac3eee35b5b23b98b43e5c7003a4bbe4.tma
  LuaTools | compiling files to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/ac3eee35b5b23b98b43e5c7003a4bbe4.tmc
  LuaTools | preparing files for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/4eb9551710f45f305daf928a0f6f4fb0.tma
  LuaTools | saving files in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/4eb9551710f45f305daf928a0f6f4fb0.tma
  LuaTools | compiling files to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/4eb9551710f45f305daf928a0f6f4fb0.tmc
  LuaTools | preparing files for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/e8ca4a476e92cc06cbba411b3d38da7a.tma
  LuaTools | saving files in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/e8ca4a476e92cc06cbba411b3d38da7a.tma
  LuaTools | compiling files to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/e8ca4a476e92cc06cbba411b3d38da7a.tmc
  LuaTools | preparing files for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/982f3cc39ab8256ee0595931d5cfd085.tma
  LuaTools | saving files in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/982f3cc39ab8256ee0595931d5cfd085.tma
  LuaTools | compiling files to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/982f3cc39ab8256ee0595931d5cfd085.tmc
  LuaTools | preparing files for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/1f08e3a96247a4bd25d903ca1cb00c0e.tma
  LuaTools | saving files in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/1f08e3a96247a4bd25d903ca1cb00c0e.tma
  LuaTools | compiling files to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/1f08e3a96247a4bd25d903ca1cb00c0e.tmc
  LuaTools | preparing files for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/8d010c969467b901b6bcb91f6f471f8b.tma
  LuaTools | saving files in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/8d010c969467b901b6bcb91f6f471f8b.tma
  LuaTools | compiling files to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/8d010c969467b901b6bcb91f6f471f8b.tmc
  LuaTools | preparing files for /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/54c38668678471591609fbe0217efe48.tma
  LuaTools | saving files in /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/54c38668678471591609fbe0217efe48.tma
  LuaTools | compiling files to /usr/local/texlive/2008/texmf-var/luatex-cache/context/79597d0cc507e8e510dd517f8850b2ca/trees/54c38668678471591609fbe0217efe48.tmc
  LuaTools | 
  LuaTools | runtime: 0.467 seconds
  
  
  LuaTools | creating initialization file cont-en
  LuaTools | using library path : /usr/local/texlive/texmf-local/tex/context/base
  LuaTools | using lua libraries: l-string.lua l-lpeg.lua l-table.lua l-boolean.lua l-number.lua l-set.lua l-unicode.lua l-md5.lua l-os.lua l-io.lua l-file.lua l-url.lua l-dir.lua l-utils.lua l-tex.lua luat-env.lua luat-lib.lua luat-inp.lua luat-tmp.lua luat-zip.lua luat-tex.lua
  LuaTools | using compiled initialization file cont-en.luc
  LuaTools | using lua initialization file cont-en.luc
  LuaTools | running command: luatex --ini --lua="cont-en.luc" "/usr/local/texlive/texmf-local/tex/context/base/cont-en.tex" \\dump
  (/usr/local/texlive/texmf-local/tex/context/base/cont-en.tex
  ! I can't find file `context.tex'.
  l.16 \input context.tex
                         
  Please type another input file name: 

Any ideas?  (By the way, I was running the TL installer under sudo; I'm
surprised that it tried to read my user texlive configuration under
/Users/alama.)

Thanks,

Jesse

-- 
Jesse Alama (alama at stanford.edu)


From preining at logic.at  Sat Jul 12 11:58:47 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 12 Jul 2008 11:58:47 +0200
Subject: [tex-live] TeX Live and ConTeXt installation
In-Reply-To: <m2prpjkdo3.fsf@stanford.edu>
References: <20080709161804.GI5813@gamma.logic.tuwien.ac.at>
	<20080710122638.GH7667@gamma.logic.tuwien.ac.at>
	<m2prpjkdo3.fsf@stanford.edu>
Message-ID: <20080712095847.GF27568@gamma.logic.tuwien.ac.at>

On Fr, 11 Jul 2008, Jesse Alama wrote:
> Nothing at all?  I'm afraid, then, that I don't understand this:
> installing scheme-context, I get:

Will hit the mirrors tomorrow. I changed it yesterday (AFAIR), this
morning the stuff was rebuild on the TUG server and synced to CTAN, and
during the day will find its way to the CTAN mirrors.

>   LuaTools | running command: luatex --ini --lua="cont-en.luc" "/usr/local/texlive/texmf-local/tex/context/base/cont-en.tex" \\dump
>   (/usr/local/texlive/texmf-local/tex/context/base/cont-en.tex

You have in addition a local ConTeXt installation.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
NACTION (n.)
The 'n' with which cheap advertising copywriters replace the word
'and' (as in 'fish 'n' chips', 'mix 'n' match', 'assault 'n'
battery'), in the mistaken belief that this is in some way chummy or
endearing.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sat Jul 12 13:06:42 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 12 Jul 2008 13:06:42 +0200
Subject: [tex-live] [VAC] 12.7.-20.8. The Alps
Message-ID: <20080712110642.GI27568@gamma.logic.tuwien.ac.at>

Hi all,

I am leaving for 5 weeks guiding clients through various mountains. It
will be hard to get an internet access during this time, probably only
on the weekends.

For Debian: the package are team maintained, I have hopefully fixed all
RC bugs (but the two which hopefully will get a lenny-ignore). Please
contact the list for any problems. 

For TeX Live: from now on I hope the installer and tlmgr(gui) will work
well enough. You can still send bug reports, but best is to the list,
there are others capable of fixing my perl code.

Have a nice time, and if you are around in the Alps (13-20.7. ?tztaler
Alpen Martin Buch H?tte, 20-27.7. around Zermatt, 27.7.-3.8. Chamonix,
3.8.-10.8. around Zermatt, 10.-16.8. Sustenpass/CH) lat me know, I
always need a beer ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SLUMBAY (n.)
The cigarette end someone discovers in the mouthful of lager they have
just swigged from a can at the end of party.
			--- Douglas Adams, The Meaning of Liff
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://tug.org/pipermail/tex-live/attachments/20080712/44a77a7f/attachment.bin 

From gnwiii at gmail.com  Sat Jul 12 16:27:12 2008
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 12 Jul 2008 11:27:12 -0300
Subject: [tex-live] Announcement/Warning: everal changes in network
	installer
In-Reply-To: <20080709081847.GG16861@gamma.logic.tuwien.ac.at>
References: <20080709081847.GG16861@gamma.logic.tuwien.ac.at>
Message-ID: <22af238a0807120727i11239e4dqda928745eb89a043@mail.gmail.com>

On Wed, Jul 9, 2008 at 5:18 AM, Norbert Preining <preining at logic.at> wrote:
> [...]
> Furthermore, the specification of the installation source has changed,
> now being in sync with tlmgr:
> new selection of installation source is done via
>        --location
> we support --url as an alias for --location
> you can give practically *everything* to --location, should it be
> an http://, ftp://, file:/..., normal path
>
> In the case of file:/ and normal path the installer autodetect the
> installation media. So what you can do now is that you install
> from a separate install-tl direcory, but taking as source the
> svn checkout by doing
>   perl install-tl --location /src/to/svn/checkout/Master

Just want to report that I tried the above install from Master
on an i386-linux system (Fedora 8).  The installer ran smoothly,
and the resulting installation passed some simple tests.

Details:

I grabbed the current install-tl from
ftp://tug.org/texlive/tlnet/tldev/install-tl-unx.tar.gz

$ perl install-tl -version
TeX Live Cross Platform Installer, revision 9430
TeX Live version: development (see http://tug.org/texlive)

For the install I used:

$ perl install-tl -gui --location <...>/Master.

The gui shows version 9430/9433, I omitted all but french and
english docs and also the packages for music, games, and
humanties, and selected "letterpaper".  I haven't tried any
of my local formats or CoNTeXt stuff yet..

The I did some managing:

$ tlmgr --gui update and added win32 to the list of binary
packages, and the CJK language collection.

About gave version 9427.

One minor issue: "tlmgr --gui" opens a window to display the
list of processing steps, while install-tl -gui just writes to the
terminal.

Good work to all those who have been contributing!

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From wl at gnu.org  Sat Jul 12 19:01:41 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Sat, 12 Jul 2008 19:01:41 +0200 (CEST)
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080711123650.GB19447@gamma.logic.tuwien.ac.at>
References: <20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
	<20080711123650.GB19447@gamma.logic.tuwien.ac.at>
Message-ID: <20080712.190141.18430762.wl@gnu.org>


> Welcome to Austria, I am leaving for Switzerland and France. Enjoy
> your time in our beautiful Banana Republic.

Hehe, ich bin Wiener, aus dem 13. Hieb.

[I'm Viennese, from the 13th district.]


    Werner

From oberdiek at uni-freiburg.de  Sat Jul 12 20:10:01 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sat, 12 Jul 2008 20:10:01 +0200
Subject: [tex-live] beamer vs. hyperref
In-Reply-To: <200807112145.m6BLj7x07967@f7.net>
References: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>
	<200807112145.m6BLj7x07967@f7.net>
Message-ID: <20080712181001.GA14688@irwin.vpn.uni-freiburg.de>

On Fri, Jul 11, 2008 at 04:45:07PM -0500, Karl Berry wrote:

>     In any case, I suspect that defining \pdfoutput is a risky strategy, 
> 
> I agree.  Till, can you change that?  (Not urgent.)
> 
>     In the meantime, I suggest that in TeX Live, we add a hyperref.cfg  
>     file to the texmf-dist/tex/xelatex/xetexconfig/ directory, 
> 
> Please do.

This is not necessary, next hyperref version fixes
the driver detection algorithm, from the current ChangeLog:

    * 6.78a
    * Driver options: Algorithm for finding the driver is changed:
      * Code for detecting the driver is more robust
        (not confused by \newcount\pdfoutput, solves a problem with beamer).
      * Driver hpdftex.def is used/forced if and only if pdfTeX is running
        in PDF mode. Thus hyperref now behaves like the other packages that
        do not change PDF mode.
      * Also some other driver options are checked.
    * Driver hpdftex.def:
      * Setting of \pdfcompresslevel is removed.
      * \PassOptionsToPackage{pdftex}{color} is removed.
    * Option dvipdf with driver hdvipdf.def is removed.
      (Nobody missed it since 2006-08-01 v6.75a.)

Upload next days, when I have a better bandwidth.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From preining at logic.at  Sat Jul 12 22:37:33 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 12 Jul 2008 22:37:33 +0200
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080712.190141.18430762.wl@gnu.org>
References: <20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
	<20080711123650.GB19447@gamma.logic.tuwien.ac.at>
	<20080712.190141.18430762.wl@gnu.org>
Message-ID: <20080712203733.GB5196@gamma.logic.tuwien.ac.at>

On Sa, 12 Jul 2008, Werner LEMBERG wrote:
> Hehe, ich bin Wiener, aus dem 13. Hieb.

Und dann haben wir noch immer keinen Wiener TeX Stammtisch??!?!?! Gibts
das? Hab ich echt nicht gewu?t.

Herzliche Gr??e

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
One's never alone with a rubber duck.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From dak at gnu.org  Sat Jul 12 22:45:03 2008
From: dak at gnu.org (David Kastrup)
Date: Sat, 12 Jul 2008 22:45:03 +0200
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080712203733.GB5196@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Sat, 12 Jul 2008 22:37:33 +0200")
References: <20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
	<20080711123650.GB19447@gamma.logic.tuwien.ac.at>
	<20080712.190141.18430762.wl@gnu.org>
	<20080712203733.GB5196@gamma.logic.tuwien.ac.at>
Message-ID: <853ameomr4.fsf@lola.goethe.zz>

Norbert Preining <preining at logic.at> writes:

> On Sa, 12 Jul 2008, Werner LEMBERG wrote:
>> Hehe, ich bin Wiener, aus dem 13. Hieb.
>
> Und dann haben wir noch immer keinen Wiener TeX Stammtisch??!?!?! Gibts
> das? Hab ich echt nicht gewu?t.

Well, the exiled Viennetians are not likely to visit just for a beer...

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From preining at logic.at  Sat Jul 12 22:56:41 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 12 Jul 2008 22:56:41 +0200
Subject: [tex-live] Announcement/Warning: everal changes in network
	installer
In-Reply-To: <22af238a0807120727i11239e4dqda928745eb89a043@mail.gmail.com>
References: <20080709081847.GG16861@gamma.logic.tuwien.ac.at>
	<22af238a0807120727i11239e4dqda928745eb89a043@mail.gmail.com>
Message-ID: <20080712205641.GD5196@gamma.logic.tuwien.ac.at>

On Sa, 12 Jul 2008, George N. White III wrote:
> One minor issue: "tlmgr --gui" opens a window to display the
> list of processing steps, while install-tl -gui just writes to the
> terminal.

If I understand you write you mean the messages
	Installing ...
	Installing ...
echoed to the terminal. I agree, they are probably useless, but I like
them ;-). THe GUI installer shows the very same thing in the status line
at the bottom of the window. Well, more or less at the same time, save
some Event processing which cannot be sensible improved due to the
problem that on windows I cannot fork with Tk loaded.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
In those days spirits were brave, the stakes were high,
men were real men, women were real women, and small furry
creatures from Alpha Centauri were real small furry
creatures from Alpha Centauri.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From alama at stanford.edu  Sat Jul 12 23:13:25 2008
From: alama at stanford.edu (Jesse Alama)
Date: Sat, 12 Jul 2008 14:13:25 -0700
Subject: [tex-live] TeX Live and ConTeXt installation
In-Reply-To: <20080712095847.GF27568@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Sat, 12 Jul 2008 11:58:47 +0200")
References: <20080709161804.GI5813@gamma.logic.tuwien.ac.at>
	<20080710122638.GH7667@gamma.logic.tuwien.ac.at>
	<m2prpjkdo3.fsf@stanford.edu>
	<20080712095847.GF27568@gamma.logic.tuwien.ac.at>
Message-ID: <m28ww6kdqi.fsf@stanford.edu>

Norbert Preining <preining at logic.at> writes:

> On Fr, 11 Jul 2008, Jesse Alama wrote:
>> Nothing at all?  I'm afraid, then, that I don't understand this:
>> installing scheme-context, I get:
>
> Will hit the mirrors tomorrow. I changed it yesterday (AFAIR), this
> morning the stuff was rebuild on the TUG server and synced to CTAN, and
> during the day will find its way to the CTAN mirrors.

OK, I'll try again tomorrow after these changes have been synchronized.

>>   LuaTools | running command: luatex --ini --lua="cont-en.luc" "/usr/local/texlive/texmf-local/tex/context/base/cont-en.tex" \\dump
>>   (/usr/local/texlive/texmf-local/tex/context/base/cont-en.tex
>
> You have in addition a local ConTeXt installation.

Oh, right.  I was using texmf-local to keep track of the latest in
ConTeXt development texmf.  I deleted texmf-local, and now installation
succeeds.

Thanks,

Jesse

-- 
Jesse Alama (alama at stanford.edu)

From wl at gnu.org  Sat Jul 12 22:21:28 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Sat, 12 Jul 2008 22:21:28 +0200 (CEST)
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080711123746.GC19447@gamma.logic.tuwien.ac.at>
References: <20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
	<20080711123746.GC19447@gamma.logic.tuwien.ac.at>
Message-ID: <20080712.222128.32556922.wl@gnu.org>


> Tried that just now. Worked. 

Just for the archives: For me too.


    Werner

From karl at freefriends.org  Sun Jul 13 01:06:00 2008
From: karl at freefriends.org (Karl Berry)
Date: Sat, 12 Jul 2008 18:06:00 -0500
Subject: [tex-live] TeX Live and ConTeXt installation
In-Reply-To: <m2prpjkdo3.fsf@stanford.edu>
Message-ID: <200807122306.m6CN60a03622@f7.net>

    By the way, I was running the TL installer under sudo; I'm surprised
    that it tried to read my user texlive configuration under
    /Users/alama.

TeX Live simply uses the $HOME envvar (on Unix).  Whether sudo changes
$HOME or not is an option to sudo (-H).

Best,
karl

From reinhard.kotucha at web.de  Sun Jul 13 03:33:36 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 13 Jul 2008 03:33:36 +0200
Subject: [tex-live] bug: texdoc and text files
In-Reply-To: <20080712203733.GB5196@gamma.logic.tuwien.ac.at>
References: <20080711121041.GA14556@gamma.logic.tuwien.ac.at>
	<20080711.142019.92854860.wl@gnu.org>
	<20080711123650.GB19447@gamma.logic.tuwien.ac.at>
	<20080712.190141.18430762.wl@gnu.org>
	<20080712203733.GB5196@gamma.logic.tuwien.ac.at>
Message-ID: <18553.23408.29859.650781@zaphod.ms25.net>

Norbert Preining writes:
 > On Sa, 12 Jul 2008, Werner LEMBERG wrote:
 > > Hehe, ich bin Wiener, aus dem 13. Hieb.
 > 
 > Und dann haben wir noch immer keinen Wiener TeX Stammtisch??!?!?! Gibts
 > das? Hab ich echt nicht gewu?t.

For those who don't understand German:

Werner comes from Vienna but lives in Germany for many years.  Norbert
is wondering that there are no local TeX meetings in Vienna yet.

Norbert, 
in Hannover we meet once a month at the computing services of the
University.  There is a room where a beamer is installed.  We try to
solve TeXnical problems there and afterwards we go to a restaurant for
dinner.

If you are interested in a local TeX meeting in Vienna, do this:

 1. Find someone who can organize things when you are in the wild.

 2. Ask the university for a room where a beamer is installed, maybe
    it's sufficient to negotiate with your department.

 3. Announce it on TeX related mailing lists and usenet groups.  Don't
    forget to inform local Linux user groups, they probably meet
    regularly already and have their own mailing lists.

It's not absolutely required to have a beamer but it makes solving
problems much easier.  If it's too cumbersome to organize a room with
a beamer you can meet in a restaurant.  Then you don't have to do
anything else than making announcements (and allocate a table in the
restaurant). 

My experience is that our local TeX meetings are very useful.  The
questions people have are everything but trivial.  But since we can
say "replace this by that" and are able to test it immediately,
problems can often be solved faster than by asking on mailing lists.

A month ago two guys attended the meeting who read the announcement
but didn't know anything about TeX at all.  They investigated and
found the word "text compiler" somewhere.  They wondered what it means
and decided to attend our TeX meeting.  They got a demostration and
had been deeply impressed when lines like
 
  \tableofcontents

or

  \usepackage{hyprerref}

had been added.

However, there had been people from publishing houses at our meetings
but the most interesting thing I ever encountered was this:

In Germany there are special schools for visually handicapped people.
But there had been a very interesting pilot project:
Blind pupils attend regular schools but there is one teacher who
supervises a certain amount of the visually handicapped guys and helps
if there are problems between the pupils and their regular teachers.

A blind schoolboy and his supervisor attended our meeting.  The reason
they are involved in TeX is this: You can easily typeset math formulas
in LaTeX and you can read them on a Braille line because LaTeX depends
solely on pure ASCII.  And it's easy enough to create a pdf file for the
teachers who don't even know anything about TeX.

Norbert,
these local TeX meetings are great.  If you don't have the time to
organize them yourself, please ask someone else.

In an ideal world there would be regular local TeX meetings in all
major cities around the world...  And it's not very difficult to
organize them.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From gnwiii at gmail.com  Sun Jul 13 12:50:08 2008
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 13 Jul 2008 07:50:08 -0300
Subject: [tex-live] Announcement/Warning: everal changes in network
	installer
In-Reply-To: <20080712205641.GD5196@gamma.logic.tuwien.ac.at>
References: <20080709081847.GG16861@gamma.logic.tuwien.ac.at>
	<22af238a0807120727i11239e4dqda928745eb89a043@mail.gmail.com>
	<20080712205641.GD5196@gamma.logic.tuwien.ac.at>
Message-ID: <22af238a0807130350k5e43c450icef635d4dfd718f@mail.gmail.com>

On Sat, Jul 12, 2008 at 5:56 PM, Norbert Preining <preining at logic.at> wrote:

> On Sa, 12 Jul 2008, George N. White III wrote:
>> One minor issue: "tlmgr --gui" opens a window to display the
>> list of processing steps, while install-tl -gui just writes to the
>> terminal.
>
> If I understand you write you mean the messages
>        Installing ...
>        Installing ...
> echoed to the terminal. I agree, they are probably useless, but I like
> them ;-). THe GUI installer shows the very same thing in the status line
> at the bottom of the window. Well, more or less at the same time, save
> some Event processing which cannot be sensible improved due to the
> problem that on windows I cannot fork with Tk loaded.

I don't think the messages are useless -- they give a better
indication of progress
than some %finished bar.

My suggestion is that those messages go to a window as with ltmgr, mainly
with the goal that systems could provide an "install TeX Live from CTAN" icon
for users who insist that command lines were a temporary stop-gap to
make up for the demise of card punch machines.

> Best wishes
>
> Norbert
>
> -------------------------------------------------------------------------------
> Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
> Debian Developer <preining at debian.org>                         Debian TeX Group
> gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
> -------------------------------------------------------------------------------
> In those days spirits were brave, the stakes were high,
> men were real men, women were real women, and small furry
> creatures from Alpha Centauri were real small furry
> creatures from Alpha Centauri.
>                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy
>



-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From gnwiii at gmail.com  Sun Jul 13 13:12:12 2008
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 13 Jul 2008 08:12:12 -0300
Subject: [tex-live] small glitch building TeX Live with gcc44
Message-ID: <22af238a0807130412o6e030508w48a2e482743d0c6e@mail.gmail.com>

I have gcc44 (via openPKG) on Fedora 8.

export CC=gcc44
export CXX=c++44
./Build
[...]
make[1]: Making `all' in `layoutex'
make[2]: Entering directory
`/Data/opt/tex/texlive/svn/Build/source/Work/libs/icu-xetex/layoutex'
generating dependency information for
../../../../libs/icu-xetex/layoutex/plruns.cpp
generating dependency information for
../../../../libs/icu-xetex/layoutex/playout.cpp
generating dependency information for
../../../../libs/icu-xetex/layoutex/LXUtilities.cpp
generating dependency information for
../../../../libs/icu-xetex/layoutex/RunArrays.cpp
generating dependency information for
../../../../libs/icu-xetex/layoutex/ParagraphLayout.cpp
../../../../libs/icu-xetex/layoutex/ParagraphLayout.cpp:857:6: error:
#elif with no expression

The following simple change seems to have worked (e.g. Build completes
and xetex
formats simple documents, but I haven't tried any complex layouts):

$ diff -C3 Build/source/libs/icu-xetex/layoutex/ParagraphLayout.cpp.orig
Build/source/libs/icu-xetex/layoutex/ParagraphLayout.cpp
*** Build/source/libs/icu-xetex/layoutex/ParagraphLayout.cpp.orig	2008-03-20
09:51:52.000000000 -0300
--- Build/source/libs/icu-xetex/layoutex/ParagraphLayout.cpp	2008-07-13
07:17:52.000000000 -0300
***************
*** 854,860 ****

      return nullLanguageCode;
  }
! #elif

  // TODO - dummy implementation for right now...
  le_int32 ParagraphLayout::getLanguageCode(const Locale *locale)
--- 854,860 ----

      return nullLanguageCode;
  }
! #else

  // TODO - dummy implementation for right now...
  le_int32 ParagraphLayout::getLanguageCode(const Locale *locale)
       ------------------------------------------

Do older gcc versions really accept #elif where #else is meant, or is this
code triggered by gcc4?


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From preining at logic.at  Sun Jul 13 13:58:56 2008
From: preining at logic.at (Norbert Preining)
Date: Sun, 13 Jul 2008 13:58:56 +0200
Subject: [tex-live] Announcement/Warning: everal changes in network
	installer
In-Reply-To: <22af238a0807130350k5e43c450icef635d4dfd718f@mail.gmail.com>
References: <20080709081847.GG16861@gamma.logic.tuwien.ac.at>
	<22af238a0807120727i11239e4dqda928745eb89a043@mail.gmail.com>
	<20080712205641.GD5196@gamma.logic.tuwien.ac.at>
	<22af238a0807130350k5e43c450icef635d4dfd718f@mail.gmail.com>
Message-ID: <20080713115856.GB23203@gamma.logic.tuwien.ac.at>

On So, 13 Jul 2008, George N. White III wrote:
> My suggestion is that those messages go to a window as with ltmgr, mainly
> with the goal that systems could provide an "install TeX Live from CTAN" icon
> for users who insist that command lines were a temporary stop-gap to
> make up for the demise of card punch machines.

What is the use of it. Double clicking the installer.bat will start a
gui installer on win32. And the messages will appear anyway in the log
file. So no need to create more distraction.

Furthermore, the infrastructure does not allow easy changing of that,
since we support several installer (text, gui) and they are only an
upper layer.

Anyway, I don't consider this importatn. If you want/can come up with a
patch, great.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
AASLEAGH (n.)
A liqueur made only for drinking at the end of a revoltingly long
bottle party when all the drinkable drink has been drunk.
			--- Douglas Adams, The Meaning of Liff

From jonathan_kew at sil.org  Sun Jul 13 13:58:57 2008
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sun, 13 Jul 2008 12:58:57 +0100
Subject: [tex-live] small glitch building TeX Live with gcc44
In-Reply-To: <22af238a0807130412o6e030508w48a2e482743d0c6e@mail.gmail.com>
References: <22af238a0807130412o6e030508w48a2e482743d0c6e@mail.gmail.com>
Message-ID: <E9AE9E7F-0487-48EB-9C4F-8C8EC3BFCDDC@sil.org>

On 13 Jul 2008, at 12:12 PM, George N. White III wrote:

> Do older gcc versions really accept #elif where #else is meant,

Apparently so.

I have just patched this in TL source, and submitted a bug report to  
ICU.

Thanks,

JK


From wl at gnu.org  Mon Jul 14 23:00:57 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Mon, 14 Jul 2008 23:00:57 +0200 (CEST)
Subject: [tex-live] texdoc doesn't find man pages
Message-ID: <20080714.230057.256462366.wl@gnu.org>


I just tried

  texdoc mptopdf

and I get a 

  Sorry, I'm not smart enough to find documentation for mptopdf.
  Please see http://tug.org/pkginfo/mptopdf for information about the
  package.

I suggest that texdoc looks into the man page directories too, calling
`man'.


    Werner

From artemio at fis.ucm.es  Mon Jul 14 23:22:20 2008
From: artemio at fis.ucm.es (Artemio Gonzalez Lopez)
Date: Mon, 14 Jul 2008 23:22:20 +0200
Subject: [tex-live] darwin architecture not recognized
Message-ID: <7502B083-DF30-4A99-9FA3-844DFFBCB5AB@fis.ucm.es>

I was trying to install the 2008-07-14 release of TexLive (updated  
today via rsync) on my two Macs (a PowerPC G5 quad-core and an Intel  
MacBook Pro), and in both cases install-tl failed to recognize the  
architecture automatically (although the "Universal darwin" binaries  
could be selected "by hand"). This is bad for me, since I usually  
install using a profile file, so I missed this until the installation  
was over.

Thanks everybody for making available TexLive to the community!

Artemio




Artemio Gonzalez-Lopez
artemio at eresmas.net

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080714/791bfb03/attachment.html 

From mpg at elzevir.fr  Tue Jul 15 02:35:12 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Tue, 15 Jul 2008 02:35:12 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080714.230057.256462366.wl@gnu.org>
References: <20080714.230057.256462366.wl@gnu.org>
Message-ID: <487BF0C0.6080403@elzevir.fr>

Werner LEMBERG scripsit (14.07.2008 23:00)
> I suggest that texdoc looks into the man page directories too, calling
> `man'.
> 
Hmm, texdoc is supposed to work on windows as well.  AFAIK there's no man
command in this strange system ;-)  Moreover, texdoc currently searches only
in the texmf trees: man pages may not be in texmf trees on some installations.
  I don't think it's worth introducing new system-dependant things in texdoc
when man does a good job at finding man pages.  texdoc is for the rest of the
doc imho.

Manuel.

From wl at gnu.org  Tue Jul 15 07:30:20 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Tue, 15 Jul 2008 07:30:20 +0200 (CEST)
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487BF0C0.6080403@elzevir.fr>
References: <20080714.230057.256462366.wl@gnu.org>
	<487BF0C0.6080403@elzevir.fr>
Message-ID: <20080715.073020.135260759.wl@gnu.org>

> > I suggest that texdoc looks into the man page directories too,
> > calling `man'.
> > 
>
> Hmm, texdoc is supposed to work on windows as well.  AFAIK there's
> no man command in this strange system ;-)

It should be easy to make this dependent on the existence of a roff
program.

> Moreover, texdoc currently searches only in the texmf trees: man
> pages may not be in texmf trees on some installations.

Sorry for being imprecise: I was talking about the man pages within
TeXLive:

  texmf/doc/man/man1/mptopdf.1

>   I don't think it's worth introducing new system-dependant things
> in texdoc when man does a good job at finding man pages.

Well, the man-path to the TeXLive man pages is not always set.
Regardless of calling man directly, texdoc should be able to process
*any* documentation which comes with TeXLive.

I see to possibilities: Either provide preconverted *.txt files within
TeXLive (which is probably best -- I can provide those files) or add
a man2xxx converter to TeXLive.


    Werner

From mojca.miklavec.lists at gmail.com  Tue Jul 15 07:58:21 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 15 Jul 2008 07:58:21 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080715.073020.135260759.wl@gnu.org>
References: <20080714.230057.256462366.wl@gnu.org>
	<487BF0C0.6080403@elzevir.fr> <20080715.073020.135260759.wl@gnu.org>
Message-ID: <6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>

On Tue, Jul 15, 2008 at 7:30 AM, Werner LEMBERG wrote:
>> > I suggest that texdoc looks into the man page directories too,
>> > calling `man'.
>> >
>>
>> Hmm, texdoc is supposed to work on windows as well.  AFAIK there's
>> no man command in this strange system ;-)
>
> It should be easy to make this dependent on the existence of a roff
> program.
>
>> Moreover, texdoc currently searches only in the texmf trees: man
>> pages may not be in texmf trees on some installations.
>
> Sorry for being imprecise: I was talking about the man pages within
> TeXLive:
>
>  texmf/doc/man/man1/mptopdf.1
>
>>   I don't think it's worth introducing new system-dependant things
>> in texdoc when man does a good job at finding man pages.
>
> Well, the man-path to the TeXLive man pages is not always set.
> Regardless of calling man directly, texdoc should be able to process
> *any* documentation which comes with TeXLive.
>
> I see to possibilities: Either provide preconverted *.txt files within
> TeXLive (which is probably best -- I can provide those files) or add
> a man2xxx converter to TeXLive.

Good point.

1.) When installing ConTeXt scheme, these man pages do not get
included, but they should. (read as: if I install mptopdf binary, I
don't get its man page)

2.) Why not copying those man pages parallel to bin folder (to
texlive/2008/bin/man)? Then they would be found by man automatically.
I don't know the exact algorithm of man page searching, but we have
    texmf-bin/bin/mptopdf
    texmf-bin/man/mptopdf.1
and that works. I guess that it would also work with the proposal
above, though I didn't test.

3.) See http://svn.contextgarden.net/minimals-src/man/ for any other
idea - we have both html & pdf form of man pages there, but they could
be generated automatically for all other man pages on TL.

Mojca

From mojca.miklavec.lists at gmail.com  Tue Jul 15 10:05:34 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 15 Jul 2008 10:05:34 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080715.094428.21321815.wl@gnu.org>
References: <487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
	<20080715.094428.21321815.wl@gnu.org>
Message-ID: <6faad9f00807150105i51bd442apd9a21c96eb25fc06@mail.gmail.com>

On Tue, Jul 15, 2008 at 9:44 AM, Werner LEMBERG wrote:
>
>> 2.) Why not copying those man pages parallel to bin folder (to
>> texlive/2008/bin/man)? Then they would be found by man
>> automatically.  I don't know the exact algorithm of man page
>> searching, but we have
>>     texmf-bin/bin/mptopdf
>>     texmf-bin/man/mptopdf.1
>> and that works. I guess that it would also work with the proposal
>> above, though I didn't test.
>
> IMHO it's a bad idea to clutter a `bin' directory with non-bin stuff.

But on the other hand the easiest solution that works out of the box.

       In addition, for each directory in the command search path (we'll  call
       it  a  "command  directory")  for  which  you do not have a MANPATH_MAP
       statement, man automatically looks for a manual page directory "nearby"
       namely as a subdirectory in the command directory itself or in the par-
       ent directory of the command directory.

But there are definitely other solutions possible.

Mojca

From wl at gnu.org  Tue Jul 15 09:44:28 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Tue, 15 Jul 2008 09:44:28 +0200 (CEST)
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
References: <487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
Message-ID: <20080715.094428.21321815.wl@gnu.org>

> > I see to possibilities: Either provide preconverted *.txt files
> > within TeXLive (which is probably best -- I can provide those
> > files) or add a man2xxx converter to TeXLive.
> 
> Good point.
> 
> 1.) When installing ConTeXt scheme, these man pages do not get
> included, but they should. (read as: if I install mptopdf binary, I
> don't get its man page)

Looks like a packaging problem.


> 2.) Why not copying those man pages parallel to bin folder (to
> texlive/2008/bin/man)? Then they would be found by man
> automatically.  I don't know the exact algorithm of man page
> searching, but we have
>     texmf-bin/bin/mptopdf
>     texmf-bin/man/mptopdf.1
> and that works. I guess that it would also work with the proposal
> above, though I didn't test.

IMHO it's a bad idea to clutter a `bin' directory with non-bin stuff.


    Werner

From oberdiek at uni-freiburg.de  Tue Jul 15 13:01:36 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Tue, 15 Jul 2008 13:01:36 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <6faad9f00807150105i51bd442apd9a21c96eb25fc06@mail.gmail.com>
References: <487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
	<20080715.094428.21321815.wl@gnu.org>
	<6faad9f00807150105i51bd442apd9a21c96eb25fc06@mail.gmail.com>
Message-ID: <20080715110135.GA3537@irwin.wlan.privat>

On Tue, Jul 15, 2008 at 10:05:34AM +0200, Mojca Miklavec wrote:

> On Tue, Jul 15, 2008 at 9:44 AM, Werner LEMBERG wrote:
> >
> >> 2.) Why not copying those man pages parallel to bin folder (to
> >> texlive/2008/bin/man)? Then they would be found by man
> >> automatically.  I don't know the exact algorithm of man page
> >> searching, but we have
> >>     texmf-bin/bin/mptopdf
> >>     texmf-bin/man/mptopdf.1
> >> and that works. I guess that it would also work with the proposal
> >> above, though I didn't test.
> >
> > IMHO it's a bad idea to clutter a `bin' directory with non-bin stuff.
> 
> But on the other hand the easiest solution that works out of the box.

A clean implementation shouldn't be that difficult, e.g.
the program `man' checks the environment variable MANPATH.
texdoc has access to texmf.cnf and knows how to find the various
TDS trees with their man directories. Then it sets MANPATH for the
call of man. I don't think that texdoc should be able to display
*all* manual pages of the system.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Tue Jul 15 12:54:20 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Tue, 15 Jul 2008 12:54:20 +0200
Subject: [tex-live] beamer vs. hyperref
In-Reply-To: <26E1BD9A-9D3F-4C1F-ABF4-A9149FBCDA1A@tcs.uni-luebeck.de>
References: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>
	<26E1BD9A-9D3F-4C1F-ABF4-A9149FBCDA1A@tcs.uni-luebeck.de>
Message-ID: <20080715105419.GA3508@irwin.wlan.privat>

On Tue, Jul 15, 2008 at 09:13:10AM +0200, Till Tantau wrote:

> hmm... I really hate this driver mess...
> 
> Anyway, I do not think that packages should use the *existence* of the  
> pdfoutput counter for determining whether *xetex* is present. I know  
> that beamer is not the only package that uses the define-pdfoutput-if- 
> it-is-not-defined-strategy. Admittedly, this strategy is not perfect,  
> but it does not seem so bad either.
> 
> I presume mankind really, really needs a central ultra-portable  
> package for determining the backend driver...

Probably yes, I was thinking about it. But finding a good
"ultra-portable" and "easy-to-use" is even more difficult ...

> I think the right way to discern the driver is, indeed, the one  
> suggested in the mail, namely making hyperref smarter.

I have done it (v6.78a).

Regarding the counter "pdfoutput": I don't see an advantage.
It only fools others that pdfTeX might be running and someone
could be tempted to set \pdfoutput=1 and expecting PDF from
a TeX compiler that isn't able to generate PDF.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From mpg at elzevir.fr  Tue Jul 15 13:02:29 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Tue, 15 Jul 2008 13:02:29 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080715.073020.135260759.wl@gnu.org>
References: <20080714.230057.256462366.wl@gnu.org>	<487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>
Message-ID: <487C83C5.8050307@elzevir.fr>

Werner LEMBERG scripsit (15.07.2008 07:30)
> It should be easy to make this dependent on the existence of a roff
> program.
> 
Of course it is easy.  The question is: is it a good thing to do?  I'm still
unsure on this point.

>> Moreover, texdoc currently searches only in the texmf trees: man
>> pages may not be in texmf trees on some installations.
> 
> Sorry for being imprecise: I was talking about the man pages within
> TeXLive:
> 
>   texmf/doc/man/man1/mptopdf.1
> 
No, I was imprecise.  I understood which man pages you were talking about, but
my point was that, in re-packaged TeX Live's as distributed by Linux distros,
those man pages will end up out of texmf (eg in /usr/share/man/man1).  So
texdoc's behaviour wrt man pages will be different on a vanilla TeX Live and a
 repackaged TeX Live on Linux, and still different on windows.  Do we really
want this?

OTOH, it's true that when texdoc can't find man pages, they can be found by
man.  Well.

>>   I don't think it's worth introducing new system-dependant things
>> in texdoc when man does a good job at finding man pages.
> 
> Well, the man-path to the TeXLive man pages is not always set.

Why not just set it?  You need to set $PATH anyway, so...

> I see to possibilities: Either provide preconverted *.txt files within
> TeXLive (which is probably best -- I can provide those files) or add
> a man2xxx converter to TeXLive.
> 
This could be a good idea, esp. the second (I don't like very much the idea of
duplicating things with .1 and .txt).  Anyway, it would be good to find a
solution for poor windows users who can't access man pages.  If this allows
texdoc to use man pages too, it's great.

Manuel.


From mpg at elzevir.fr  Tue Jul 15 13:14:25 2008
From: mpg at elzevir.fr (=?UTF-8?B?TWFudWVsIFDDqWdvdXJpw6ktR29ubmFyZA==?=)
Date: Tue, 15 Jul 2008 13:14:25 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
References: <20080714.230057.256462366.wl@gnu.org>	
	<487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
Message-ID: <487C8691.4060709@elzevir.fr>

Mojca Miklavec scripsit (15.07.2008 07:58)
> 1.) When installing ConTeXt scheme, these man pages do not get
> included, but they should. (read as: if I install mptopdf binary, I
> don't get its man page)
> 
Hmm, those man pages are part of bin-context.  The script themselves are part
of bin-context.ARCH.  This looks fine to me.  I also have the man page on my
local install (I mean, not running from the svn) and it is found by man (I
have MANPATH set).  Could you try updating and come back with more details?

> 2.) Why not copying those man pages parallel to bin folder (to
> texlive/2008/bin/man)? Then they would be found by man automatically.
> I don't know the exact algorithm of man page searching, but we have
>     texmf-bin/bin/mptopdf
>     texmf-bin/man/mptopdf.1
> and that works. I guess that it would also work with the proposal
> above, though I didn't test.
> 
Dunno. Would be a good idea since people would only have to set PATH.  Form
man man, I suppose (didn't try) we could just put things like this:

TLROOT/bin (in the PATH)
TLROOT/man (found?)

which would be cleaner than putting man in bin :-)  The problem is, there's
still no symlinks on windows...  And we don't want to really put man pages
here, at least atm, since it would be quite a big change for our update
machanisms.  Anyway this doens't solve the texdoc question.

Manuel.


> 3.) See http://svn.contextgarden.net/minimals-src/man/ for any other
> idea - we have both html & pdf form of man pages there, but they could
> be generated automatically for all other man pages on TL.
> 
> Mojca

From mojca.miklavec.lists at gmail.com  Tue Jul 15 13:57:07 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 15 Jul 2008 13:57:07 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080715110135.GA3537@irwin.wlan.privat>
References: <487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
	<20080715.094428.21321815.wl@gnu.org>
	<6faad9f00807150105i51bd442apd9a21c96eb25fc06@mail.gmail.com>
	<20080715110135.GA3537@irwin.wlan.privat>
Message-ID: <6faad9f00807150457m6a454ac4o44e65ab1fb3d59dc@mail.gmail.com>

On Tue, Jul 15, 2008 at 1:01 PM, Heiko Oberdiek
<oberdiek at uni-freiburg.de> wrote:
> On Tue, Jul 15, 2008 at 10:05:34AM +0200, Mojca Miklavec wrote:
>
>> On Tue, Jul 15, 2008 at 9:44 AM, Werner LEMBERG wrote:
>> >
>> >> 2.) Why not copying those man pages parallel to bin folder (to
>> >> texlive/2008/bin/man)? Then they would be found by man
>> >> automatically.  I don't know the exact algorithm of man page
>> >> searching, but we have
>> >>     texmf-bin/bin/mptopdf
>> >>     texmf-bin/man/mptopdf.1
>> >> and that works. I guess that it would also work with the proposal
>> >> above, though I didn't test.
>> >
>> > IMHO it's a bad idea to clutter a `bin' directory with non-bin stuff.
>>
>> But on the other hand the easiest solution that works out of the box.
>
> A clean implementation shouldn't be that difficult, e.g.
> the program `man' checks the environment variable MANPATH.
> texdoc has access to texmf.cnf and knows how to find the various
> TDS trees with their man directories. Then it sets MANPATH for the
> call of man. I don't think that texdoc should be able to display
> *all* manual pages of the system.

For texdoc that's OK. texdoc can probably call man /path/to/command.1 directly.

I had
   man mptopdf
in mind.

Mojca

From mpg at elzevir.fr  Tue Jul 15 14:02:20 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Tue, 15 Jul 2008 14:02:20 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080714.230057.256462366.wl@gnu.org>
References: <20080714.230057.256462366.wl@gnu.org>
Message-ID: <487C91CC.4030704@elzevir.fr>

Werner LEMBERG scripsit (14.07.2008 23:00)
> I suggest that texdoc looks into the man page directories too, calling
> `man'.
> 
By the way, I just thought this should be very easy to configure.  Indeed,
texdoc is already looking in the man page directories: it's just not looking
for files with extension .1.  Moreover, there's a new mechanism allowing to
easily configure your preffered viwer for a given filetype.

So in theory you just have to add the following lines to your

$TEXMFHOME/texdoc/texdoc.cnf

(new config file for texdoc, still undocumented):

ext_list = .pdf, .pdf.gz, .pdf.bz2, .dvi, .dvi.gz, .dvi.bz2, .ps, .ps.gz,
.ps.bz2, .txt, .txt.gz, .txt.bz2, .html, .1
viewer_1 = man

(beware the ext_list = ... should be only one line).

Well, in practice this was not true a few minutes ago due to bugs in texdoc.
I just fixed them but for some reason I'm unable to commit right now.  I
attached the svn diff.  For me, with the given patch and texdoc.cnf file,
texdoc finds man pages and display them correctly.  I'll think a bit more
whether this should be the default behaviour or not and what to do for windows
users.

Manuel.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: texdoc.tlu.patch
Type: text/x-diff
Size: 3374 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080715/bee92eea/attachment.bin 

From mpg at elzevir.fr  Tue Jul 15 14:10:26 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Tue, 15 Jul 2008 14:10:26 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080715110135.GA3537@irwin.wlan.privat>
References: <487BF0C0.6080403@elzevir.fr>	<20080715.073020.135260759.wl@gnu.org>	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>	<20080715.094428.21321815.wl@gnu.org>	<6faad9f00807150105i51bd442apd9a21c96eb25fc06@mail.gmail.com>
	<20080715110135.GA3537@irwin.wlan.privat>
Message-ID: <487C93B2.50309@elzevir.fr>

Heiko Oberdiek scripsit (15.07.2008 13:01)
> A clean implementation shouldn't be that difficult, e.g.
> the program `man' checks the environment variable MANPATH.
> texdoc has access to texmf.cnf and knows how to find the various
> TDS trees with their man directories. Then it sets MANPATH for the
> call of man. I don't think that texdoc should be able to display
> *all* manual pages of the system.
> 
Texdoc doesn't even need to set MANPATH.  It's already able to find the full
path to the man page and hand it to man, if only we ask it to look for .1
files too and display them with the man command.

This whole ? texdoc and man pages ? discussion is not at all a matter of
implementation, just a matter of choice.

What is a matter of implementation as well as choice is:
- Do we want to make manpages accessible to man without asking the
user/sysadmin to set MANPATH, and if yes, how do we achieve it?
- What to do for windows users, and how to do it?
Of course for these two questions, there's also the problem: shall we do it
now or is it too late for this kind of changes for TL'08?


Manuel.


From mojca.miklavec.lists at gmail.com  Tue Jul 15 14:13:32 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 15 Jul 2008 14:13:32 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487C8691.4060709@elzevir.fr>
References: <20080714.230057.256462366.wl@gnu.org>
	<487BF0C0.6080403@elzevir.fr> <20080715.073020.135260759.wl@gnu.org>
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
	<487C8691.4060709@elzevir.fr>
Message-ID: <6faad9f00807150513u59c0ff6dm78e3eaadca0f0202@mail.gmail.com>

On Tue, Jul 15, 2008 at 1:14 PM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
> Mojca Miklavec scripsit (15.07.2008 07:58)
>> 1.) When installing ConTeXt scheme, these man pages do not get
>> included, but they should. (read as: if I install mptopdf binary, I
>> don't get its man page)
>>
> Hmm, those man pages are part of bin-context.  The script themselves are part
> of bin-context.ARCH.  This looks fine to me.  I also have the man page on my
> local install (I mean, not running from the svn) and it is found by man (I
> have MANPATH set).  Could you try updating and come back with more details?

Mea culpa. I was looking into texmf-dist, while the files are placed in texmf.

>> 2.) Why not copying those man pages parallel to bin folder (to
>> texlive/2008/bin/man)? Then they would be found by man automatically.
>> I don't know the exact algorithm of man page searching, but we have
>>     texmf-bin/bin/mptopdf
>>     texmf-bin/man/mptopdf.1
>> and that works. I guess that it would also work with the proposal
>> above, though I didn't test.
>>
> Dunno. Would be a good idea since people would only have to set PATH.  Form
> man man, I suppose (didn't try) we could just put things like this:
>
> TLROOT/bin (in the PATH)
> TLROOT/man (found?)

It says: if man resides in parent dir. This would be two parent dirs
apart, so I would expect problems, but maybe I'm wrong.

Generally it works, but there is bin/platform/binary, and it would
expect bin/man/binary.1 as far as I understooi. If it was the other
way round - platform/bin/binary, it would expect
platform/man/binary.1. (worse idea)

> which would be cleaner than putting man in bin :-)  The problem is, there's
> still no symlinks on windows...  And we don't want to really put man pages
> here, at least atm, since it would be quite a big change for our update
> machanisms.  Anyway this doens't solve the texdoc question.

I was talking about "man mptopdf" all the time, not about "texdoc
mptopdf". But if you are referring to windows, I would suggest storing
auto-generated html or pdf files somewhere. And I see no reason why
these html/pdf files could not be opened on linux/mac/whatever as well
(optional). Those who strictly want man pages, can still use man.
Those who expect html or pdf, can get a html page with the same
content as man, even on windows.

I see no harm in shipping a bunch of additional html files with
autogenerated contents from man.

But I agree with Manuel's doubts in his latest post.

Mojca

From mpg at elzevir.fr  Tue Jul 15 14:39:40 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Tue, 15 Jul 2008 14:39:40 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487C91CC.4030704@elzevir.fr>
References: <20080714.230057.256462366.wl@gnu.org>
	<487C91CC.4030704@elzevir.fr>
Message-ID: <487C9A8C.1010501@elzevir.fr>

Manuel P?gouri?-Gonnard scripsit (15.07.2008 14:02)
> I just fixed them but for some reason I'm unable to commit right now.

Finally the commit worked.  r9568.  Please give it a try, this whole conffile
stuff is quite new and wasn't heavily tested till now.

Manuel.

From mpg at elzevir.fr  Tue Jul 15 14:30:33 2008
From: mpg at elzevir.fr (=?UTF-8?B?TWFudWVsIFDDqWdvdXJpw6ktR29ubmFyZA==?=)
Date: Tue, 15 Jul 2008 14:30:33 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <6faad9f00807150513u59c0ff6dm78e3eaadca0f0202@mail.gmail.com>
References: <20080714.230057.256462366.wl@gnu.org>	
	<487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>	
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>	
	<487C8691.4060709@elzevir.fr>
	<6faad9f00807150513u59c0ff6dm78e3eaadca0f0202@mail.gmail.com>
Message-ID: <487C9869.10207@elzevir.fr>

Mojca Miklavec scripsit (15.07.2008 14:13)
>> Hmm, those man pages are part of bin-context.  The script themselves are part
>> of bin-context.ARCH.  This looks fine to me.  I also have the man page on my
>> local install (I mean, not running from the svn) and it is found by man (I
>> have MANPATH set).  Could you try updating and come back with more details?
> 
> Mea culpa. I was looking into texmf-dist, while the files are placed in texmf.
> 
Phew.  By the way, I always look for files in texlive.tlpdb, this texmf vs
texmf-dist vs texmf-doc thing is too difficult for me :-)

> Generally it works, but there is bin/platform/binary, and it would
> expect bin/man/binary.1 as far as I understooi. If it was the other
> way round - platform/bin/binary, it would expect
> platform/man/binary.1. (worse idea)
> 
Oh, right, there's this platform additional level.  Well, this means bin/man
and I really don't like the idea...

> I was talking about "man mptopdf" all the time, not about "texdoc
> mptopdf". But if you are referring to windows, I would suggest storing
> auto-generated html or pdf files somewhere. And I see no reason why
> these html/pdf files could not be opened on linux/mac/whatever as well
> (optional). Those who strictly want man pages, can still use man.
> Those who expect html or pdf, can get a html page with the same
> content as man, even on windows.
> 
I think this is a good idea.  It's easy to generate ps files with man -t and
convert them to pdf.  Anyway, this is another question, but this would
probably be great for windows users.

> I see no harm in shipping a bunch of additional html files with
> autogenerated contents from man.
> 
IMO, the question is how to make sure the pdf/html files are re-generated
every time the corresponding man page is changed.  I wonder if a
pre/post-commit hook would be appropriate for this.

Manuel.


From zdenek.wagner at gmail.com  Tue Jul 15 16:53:05 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 15 Jul 2008 16:53:05 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487C9869.10207@elzevir.fr>
References: <20080714.230057.256462366.wl@gnu.org>
	<487BF0C0.6080403@elzevir.fr> <20080715.073020.135260759.wl@gnu.org>
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>
	<487C8691.4060709@elzevir.fr>
	<6faad9f00807150513u59c0ff6dm78e3eaadca0f0202@mail.gmail.com>
	<487C9869.10207@elzevir.fr>
Message-ID: <8719b6240807150753n427a4fcble07fffa9ecee066d@mail.gmail.com>

2008/7/15 Manuel P?gouri?-Gonnard <mpg at elzevir.fr>:
> Mojca Miklavec scripsit (15.07.2008 14:13)
>>> Hmm, those man pages are part of bin-context.  The script themselves are part
>>> of bin-context.ARCH.  This looks fine to me.  I also have the man page on my
>>> local install (I mean, not running from the svn) and it is found by man (I
>>> have MANPATH set).  Could you try updating and come back with more details?
>>
>> Mea culpa. I was looking into texmf-dist, while the files are placed in texmf.
>>
> Phew.  By the way, I always look for files in texlive.tlpdb, this texmf vs
> texmf-dist vs texmf-doc thing is too difficult for me :-)
>
>> Generally it works, but there is bin/platform/binary, and it would
>> expect bin/man/binary.1 as far as I understooi. If it was the other
>> way round - platform/bin/binary, it would expect
>> platform/man/binary.1. (worse idea)
>>
> Oh, right, there's this platform additional level.  Well, this means bin/man
> and I really don't like the idea...
>
>> I was talking about "man mptopdf" all the time, not about "texdoc
>> mptopdf". But if you are referring to windows, I would suggest storing
>> auto-generated html or pdf files somewhere. And I see no reason why
>> these html/pdf files could not be opened on linux/mac/whatever as well
>> (optional). Those who strictly want man pages, can still use man.
>> Those who expect html or pdf, can get a html page with the same
>> content as man, even on windows.
>>
> I think this is a good idea.  It's easy to generate ps files with man -t and
> convert them to pdf.  Anyway, this is another question, but this would
> probably be great for windows users.
>
>> I see no harm in shipping a bunch of additional html files with
>> autogenerated contents from man.
>>
> IMO, the question is how to make sure the pdf/html files are re-generated
> every time the corresponding man page is changed.  I wonder if a
> pre/post-commit hook would be appropriate for this.
>
I think that these hooks should not do such things, at least the svn
documentation says that the hooks should not modify the content.
Conversion man->pdf should rather be implemented in the build script.

> Manuel.
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From mpg at elzevir.fr  Tue Jul 15 17:36:29 2008
From: mpg at elzevir.fr (=?ISO-8859-2?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Tue, 15 Jul 2008 17:36:29 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <8719b6240807150753n427a4fcble07fffa9ecee066d@mail.gmail.com>
References: <20080714.230057.256462366.wl@gnu.org>	
	<487BF0C0.6080403@elzevir.fr>
	<20080715.073020.135260759.wl@gnu.org>	
	<6faad9f00807142258g64f83db3o78e8408f1499385b@mail.gmail.com>	
	<487C8691.4060709@elzevir.fr>	
	<6faad9f00807150513u59c0ff6dm78e3eaadca0f0202@mail.gmail.com>	
	<487C9869.10207@elzevir.fr>
	<8719b6240807150753n427a4fcble07fffa9ecee066d@mail.gmail.com>
Message-ID: <487CC3FD.4030309@elzevir.fr>

Zdenek Wagner scripsit (15.07.2008 16:53)
>> IMO, the question is how to make sure the pdf/html files are re-generated
>> every time the corresponding man page is changed.  I wonder if a
>> pre/post-commit hook would be appropriate for this.
>>
> I think that these hooks should not do such things, at least the svn
> documentation says that the hooks should not modify the content.

Ok.

> Conversion man->pdf should rather be implemented in the build script.
> 
Yep, good idea.

Thanks,
Manuel.


From gnwiii at gmail.com  Tue Jul 15 17:59:06 2008
From: gnwiii at gmail.com (George N. White III)
Date: Tue, 15 Jul 2008 12:59:06 -0300
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080714.230057.256462366.wl@gnu.org>
References: <20080714.230057.256462366.wl@gnu.org>
Message-ID: <22af238a0807150859p27d76817w5d9f2475677e8895@mail.gmail.com>

On Mon, Jul 14, 2008 at 6:00 PM, Werner LEMBERG <wl at gnu.org> wrote:
>
> I just tried
>
>  texdoc mptopdf
>
> and I get a
>
>  Sorry, I'm not smart enough to find documentation for mptopdf.
>  Please see http://tug.org/pkginfo/mptopdf for information about the
>  package.
>
> I suggest that texdoc looks into the man page directories too, calling
> `man'.

This won't work on Windows, so for TL the best aproach is to make
man pages into .pdf at build time so texdoc will work alike for all the
supported systems.   There is nothing to prevent a local admin from
configuring texdoc to use man for .1 pages.

There isn't any portable way to make TL's man files available to
the system 'man' command (e.g., outside texdoc).  Some (older)
systems use MANPATH, but new systems may have /etc/man.conf(ig),
and may not set MANPATH at all.   If you then set MANPATH to
TL's man directory, some versions of man won't find system man
pages (which may be a good thing when man is run under texdoc).
Some versions of man will look for 'man' directories adjacent to
the 'bin' directory, and some will even map bin/<arch>/command to
man/man1/command.1.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From zdenek.wagner at gmail.com  Tue Jul 15 22:48:38 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 15 Jul 2008 22:48:38 +0200
Subject: [tex-live] kpsewhich bug in x86_64
Message-ID: <8719b6240807151348i5d1c0d7do7220c24d0925f9ca@mail.gmail.com>

Hi,
I installed TL2008, tried to find some files with kpsewhich but it
dies. These are my experiments:

[zw at centos ~]$ kpsewhich language.dat
Floating point exception
[zw at centos ~]$ kpsewhich article.cls
Floating point exception
[zw at centos ~]$ kpsewhich --help
Floating point exception
[zw at centos ~]$ which kpsewhich
/usr/local/texlive/2008/bin/x86_64-linux/kpsewhich
[zw at centos ~]$ uname -a
Linux centos 2.6.17 #3 SMP Mon Sep 24 19:59:57 CEST 2007 x86_64 x86_64
x86_64 GNU/Linux

I tried the same on i386-linux and it works fine. Both computers have
CentOS 4.6.

-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From fdelente at mail.cpod.fr  Tue Jul 15 23:03:49 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Tue, 15 Jul 2008 23:03:49 +0200
Subject: [tex-live] kpsewhich bug in x86_64
In-Reply-To: <8719b6240807151348i5d1c0d7do7220c24d0925f9ca@mail.gmail.com>
References: <8719b6240807151348i5d1c0d7do7220c24d0925f9ca@mail.gmail.com>
Message-ID: <20080715210349.GA18847@smtp.free.fr>

Hello.

> [zw at centos ~]$ kpsewhich language.dat
> Floating point exception

I had the same kind of problem recently; I solved it by recompiling my
kernel.

-- 
Fabrice DELENTE

From zdenek.wagner at gmail.com  Tue Jul 15 23:23:10 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 15 Jul 2008 23:23:10 +0200
Subject: [tex-live] kpsewhich bug in x86_64
In-Reply-To: <20080715210349.GA18847@smtp.free.fr>
References: <8719b6240807151348i5d1c0d7do7220c24d0925f9ca@mail.gmail.com>
	<20080715210349.GA18847@smtp.free.fr>
Message-ID: <8719b6240807151423p70f647d2qe2f90b305e5bbac1@mail.gmail.com>

2008/7/15 Fabrice DELENTE <fdelente at mail.cpod.fr>:
> Hello.
>
>> [zw at centos ~]$ kpsewhich language.dat
>> Floating point exception
>
> I had the same kind of problem recently; I solved it by recompiling my
> kernel.
>
Do you have some instructions what is important to include in the
kernel? I have just tried to install TL on a comp with CentOS 5 with a
distribution kernel:

wagner at x9:~/instalace/install-tl$ uname -a
Linux x9 2.6.18-53.1.4.el5 #1 SMP Fri Nov 30 00:45:55 EST 2007 x86_64
x86_64 x86_64 GNU/Linux

kpsewhich seems to work fine. The kernel on my home comp was compiled
by me because the distribution kernel lacks support for FireWire.

> --
> Fabrice DELENTE
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From zdenek.wagner at gmail.com  Wed Jul 16 00:10:40 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 00:10:40 +0200
Subject: [tex-live] kpsewhich bug in x86_64
In-Reply-To: <8719b6240807151423p70f647d2qe2f90b305e5bbac1@mail.gmail.com>
References: <8719b6240807151348i5d1c0d7do7220c24d0925f9ca@mail.gmail.com>
	<20080715210349.GA18847@smtp.free.fr>
	<8719b6240807151423p70f647d2qe2f90b305e5bbac1@mail.gmail.com>
Message-ID: <8719b6240807151510k7f8e5eb0g9cf853cc52a6601@mail.gmail.com>

I have just try some other binaries and they fail with the very same error too.

2008/7/15 Zdenek Wagner <zdenek.wagner at gmail.com>:
> 2008/7/15 Fabrice DELENTE <fdelente at mail.cpod.fr>:
>> Hello.
>>
>>> [zw at centos ~]$ kpsewhich language.dat
>>> Floating point exception
>>
>> I had the same kind of problem recently; I solved it by recompiling my
>> kernel.
>>
> Do you have some instructions what is important to include in the
> kernel? I have just tried to install TL on a comp with CentOS 5 with a
> distribution kernel:
>
> wagner at x9:~/instalace/install-tl$ uname -a
> Linux x9 2.6.18-53.1.4.el5 #1 SMP Fri Nov 30 00:45:55 EST 2007 x86_64
> x86_64 x86_64 GNU/Linux
>
> kpsewhich seems to work fine. The kernel on my home comp was compiled
> by me because the distribution kernel lacks support for FireWire.
>
>> --
>> Fabrice DELENTE
>>
>
>
>
> --
> Zden?k Wagner
> http://hroch486.icpf.cas.cz/wagner/
> http://icebearsoft.euweb.cz
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From karl at freefriends.org  Wed Jul 16 01:42:33 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 Jul 2008 18:42:33 -0500
Subject: [tex-live] kpsewhich bug in x86_64
In-Reply-To: <20080715210349.GA18847@smtp.free.fr>
Message-ID: <200807152342.m6FNgXW10045@f7.net>

    > [zw at centos ~]$ kpsewhich language.dat
    > Floating point exception

If anyone can figure out what it is in the sources that triggers the
problem in the kernel (or wherever), maybe we can work around it.
No idea myself.  And the supposedly-again-final builds are about to happen.

From karl at freefriends.org  Wed Jul 16 04:01:03 2008
From: karl at freefriends.org (Karl Berry)
Date: Tue, 15 Jul 2008 21:01:03 -0500
Subject: [tex-live] darwin architecture not recognized
In-Reply-To: <7502B083-DF30-4A99-9FA3-844DFFBCB5AB@fis.ucm.es>
Message-ID: <200807160201.m6G213h22450@f7.net>

Hi Artemio,

Thanks for testing.

    in both cases install-tl failed to recognize the  
    architecture automatically

Please open a terminal window and tell me the results of running
1) uname -a, and
2) the attached config.guess script,
on each system.

(This is what we use to guess the current system.)

Meanwhile, I'll see if I can reproduce it.

Thanks,
Karl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: config.guess
Type: application/octet-stream
Size: 44207 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080715/955f8c9d/attachment-0001.obj 

From tantau at tcs.uni-luebeck.de  Tue Jul 15 09:13:10 2008
From: tantau at tcs.uni-luebeck.de (Till Tantau)
Date: Tue, 15 Jul 2008 09:13:10 +0200
Subject: [tex-live] beamer vs. hyperref
In-Reply-To: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>
References: <9CB93DB9-9B6A-4CBE-B3E8-34E5775A0F58@sil.org>
Message-ID: <26E1BD9A-9D3F-4C1F-ABF4-A9149FBCDA1A@tcs.uni-luebeck.de>

Hello everyone,


hmm... I really hate this driver mess...

Anyway, I do not think that packages should use the *existence* of the  
pdfoutput counter for determining whether *xetex* is present. I know  
that beamer is not the only package that uses the define-pdfoutput-if- 
it-is-not-defined-strategy. Admittedly, this strategy is not perfect,  
but it does not seem so bad either.

I presume mankind really, really needs a central ultra-portable  
package for determining the backend driver...

I think the right way to discern the driver is, indeed, the one  
suggested in the mail, namely making hyperref smarter.


Best regards,
Till


Am 11.07.2008 um 22:30 schrieb Jonathan Kew:

> It has just come to my attention (though it may not actually be a  
> new issue) that beamer and hyperref don't get along perfectly when  
> used with xelatex.
>
> First, consider a simple test using the "article" class:
>
>  \documentclass{article}
>  \usepackage{hyperref}
>  \title{A Test}
>  \author{A. N. Author}
>  \begin{document}
>  \maketitle
>  \end{document}
>
> When this is run with xelatex, hyperref recognizes that it should  
> use a dvipdfm-style driver:
>
>  This is XeTeXk, Version 3.1415926-2.2-0.999.2 (Web2C 7.5.6)
>  .....
>  LaTeX2e <2005/12/01>
>  Babel <v3.8j> and hyphenation patterns for english, usenglishmax,  
> dumylang,
>  .....
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/base/article.cls
>  Document Class: article 2005/09/16 v1.4f Standard LaTeX document  
> class
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/base/ 
> size10.clo))
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
> hyperref.sty
>  .....
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/generic/oberdiek/ 
> ifpdf.sty)))
>  *hyperref using default driver hdvipdfm*
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
> hdvipdfm.def)
>  .....
>
> and the result is that hyperref features work as expected.
>
> However, changing the document class to "beamer" leads to a  
> surprising result:
>
>  This is XeTeXk, Version 3.1415926-2.2-0.999.2 (Web2C 7.5.6)
>  .....
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/beamer/ 
> beamer.cls
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/beamer/ 
> beamerbasercs.sty)
>  Document Class: beamer 2007/03/11 cvs version 3.07 A class for  
> typesetting pres
>  entations (rcs-revision 1.70)
>  .....
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
> hyperref.sty
>  .....
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/generic/oberdiek/ 
> ifpdf.sty))
>
>  Package hyperref Warning: Option `pdfpagelabels' is turned off
>  (hyperref)                because \thepage is undefined.
>
>  Hyperref stopped early
>  )
>  *hyperref using default driver hdvips*
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
> hdvips.def
>  (/Users/jonathan/texlive/Master/texmf-dist/tex/latex/hyperref/ 
> pdfmark.def))
>  .....
>
> Hyperref has chosen the dvips driver, with the result that xetex's  
> output driver xdvipdfmx generates a mass of warnings for all the  
> dvips-specific \specials that it doesn't recognize.
>
> So beamer is interfering with hyperref's attempt to choose the  
> appropriate driver by default, which otherwise works well. This  
> happens because beamer.cls actually defines a \count register  
> \pdfoutput, if the pdfTeX primitive is not present:
>
>  \ifx\pdfoutput\@undefined \newcount\pdfoutput \fi
>  \ifx\pdfoutput\relax \newcount\pdfoutput \fi
>
> (beamer.cls, lines 25-26.)
>
> I'm not sure what else in beamer depends on having defined  
> \pdfoutput; in a minimal test, removing these lines solves the  
> hyperref problem and the output looks fine. However, there are  
> probably many more implications that need to be considered.  
> Alternatively, it would be possible to revise the tests in  
> hyperref.sty to check for XeTeX before testing for the existence of  
> \pdfoutput, so that it is not "fooled" by beamer's tricks. In any  
> case, I suspect that defining \pdfoutput is a risky strategy, as it  
> may mislead other packages besides hyperref, so I hope that beamer  
> can be updated to eliminate this.
>
> In the meantime, I suggest that in TeX Live, we add a hyperref.cfg  
> file to the texmf-dist/tex/xelatex/xetexconfig/ directory, which  
> will check that it is running under xelatex and then define  
> \Hy at defaultdriver appropriately. Something like this:
>
>  \ProvidesFile{hyperref.cfg}%
>    [2008/07/11 v1.2 hyperref configuration for XeLaTeX]
>  \ifx\XeTeXversion\undefined \else
>    % Change default driver to "dvipdfm" instead of "hypertex",
>    % requires hyperref 2002/06/05 v6.72s
>    \providecommand*{\Hy at defaultdriver}{hdvipdfm}%
>  \fi
>  \endinput
>
> By placing this file in a tex/xelatex subtree, it will be found in  
> preference to the existing file under tex/latex *only* when running  
> under xelatex, and so other engines will not be affected.
>
> Unless there are objections (or better suggestions), I propose to  
> add this to the xetexconfig directory shortly.
>
> Comments welcome....  JK
>

--
Prof. Dr. Till Tantau <tantau at tcs.uni-luebeck.de>
http://www.tcs.uni-luebeck.de



-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 4780 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080715/bbf3460e/attachment.bin 

From wl at gnu.org  Wed Jul 16 06:55:27 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 16 Jul 2008 06:55:27 +0200 (CEST)
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487C91CC.4030704@elzevir.fr>
References: <20080714.230057.256462366.wl@gnu.org>
	<487C91CC.4030704@elzevir.fr>
Message-ID: <20080716.065527.155503068.wl@gnu.org>


> > I suggest that texdoc looks into the man page directories too, calling
> > `man'.
>
> By the way, I just thought this should be very easy to configure.
> Indeed, texdoc is already looking in the man page directories: it's
> just not looking for files with extension .1.

Other extensions might be possible too, for example `.5'...

> So in theory you just have to add the following lines to your
> 
> $TEXMFHOME/texdoc/texdoc.cnf
> 
> (new config file for texdoc, still undocumented):
> 
> ext_list = .pdf, .pdf.gz, .pdf.bz2, .dvi, .dvi.gz, .dvi.bz2, .ps,
> .ps.gz, .ps.bz2, .txt, .txt.gz, .txt.bz2, .html, .1
> viewer_1 = man

I don't want to do this manually.  texdoc should automatically display
man pages *which are within the distribution*.  Otherwise, similar to
the standalone `info' program, it might fire up `man' to display a
corresponding system man page (however, this is debatable and should
be configurable).

> I'll think a bit more whether this should be the default behaviour
> or not and what to do for windows users.

The probably best program to convert man pages to another high-level
format is Eric Raymond's `doclifter'.  It's small (300kByte of Python
code), and we could add it to TeXLive:

  http://www.catb.org/~esr/doclifter/

However, it converts to XML, and xmltex of TeXLive can't handle this
out of the box (I've just tried to call it, but I don't know the
details how to configure it properly).


    Werner

From fdelente at mail.cpod.fr  Wed Jul 16 08:43:04 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Wed, 16 Jul 2008 08:43:04 +0200
Subject: [tex-live] kpsewhich bug in x86_64
In-Reply-To: <200807152342.m6FNgXW10045@f7.net>
References: <20080715210349.GA18847@smtp.free.fr>
	<200807152342.m6FNgXW10045@f7.net>
Message-ID: <20080716064304.GA1854@smtp.free.fr>

> If anyone can figure out what it is in the sources that triggers the
> problem in the kernel (or wherever), maybe we can work around it.
> No idea myself.  And the supposedly-again-final builds are about to happen.

GDB showed that the segfaults what in gettimeofday; I compiled a minimum
example in C with only a clal to gettimeofdat that segfaulted the same way.

Now the kernel recompile solved the problem for me, so I didn't see any
reason to request a workaround.

-- 
Fabrice DELENTE

From fdelente at mail.cpod.fr  Wed Jul 16 08:44:31 2008
From: fdelente at mail.cpod.fr (Fabrice DELENTE)
Date: Wed, 16 Jul 2008 08:44:31 +0200
Subject: [tex-live] kpsewhich bug in x86_64
In-Reply-To: <8719b6240807151510k7f8e5eb0g9cf853cc52a6601@mail.gmail.com>
References: <8719b6240807151348i5d1c0d7do7220c24d0925f9ca@mail.gmail.com>
	<20080715210349.GA18847@smtp.free.fr>
	<8719b6240807151423p70f647d2qe2f90b305e5bbac1@mail.gmail.com>
	<8719b6240807151510k7f8e5eb0g9cf853cc52a6601@mail.gmail.com>
Message-ID: <20080716064431.GB1854@smtp.free.fr>

On Wed, Jul 16, 2008 at 12:10:40AM +0200, Zdenek Wagner wrote:
> I have just try some other binaries and they fail with the very same error too.

On my machine mcookie and gs segfaulted. The problem occured to me after I
upgraded my glibc without recompiling the kernel. Did you do such a thing
(that is, upgrade glibc without upgrading the kernel)?

-- 
Fabrice DELENTE

From zdenek.wagner at gmail.com  Wed Jul 16 10:43:28 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 10:43:28 +0200
Subject: [tex-live] kpsewhich bug in x86_64
In-Reply-To: <20080716064431.GB1854@smtp.free.fr>
References: <8719b6240807151348i5d1c0d7do7220c24d0925f9ca@mail.gmail.com>
	<20080715210349.GA18847@smtp.free.fr>
	<8719b6240807151423p70f647d2qe2f90b305e5bbac1@mail.gmail.com>
	<8719b6240807151510k7f8e5eb0g9cf853cc52a6601@mail.gmail.com>
	<20080716064431.GB1854@smtp.free.fr>
Message-ID: <8719b6240807160143k64c563f6of0bbf8714f7e4201@mail.gmail.com>

2008/7/16 Fabrice DELENTE <fdelente at mail.cpod.fr>:
> On Wed, Jul 16, 2008 at 12:10:40AM +0200, Zdenek Wagner wrote:
>> I have just try some other binaries and they fail with the very same error too.
>
> On my machine mcookie and gs segfaulted. The problem occured to me after I
> upgraded my glibc without recompiling the kernel. Did you do such a thing
> (that is, upgrade glibc without upgrading the kernel)?
>
Maybe, I apply all updates whenewer they are available. I have not
encountered any problem so far. I will try another kernel.

> --
> Fabrice DELENTE
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From artemio at fis.ucm.es  Wed Jul 16 10:14:48 2008
From: artemio at fis.ucm.es (Artemio Gonzalez Lopez)
Date: Wed, 16 Jul 2008 10:14:48 +0200
Subject: [tex-live] darwin architecture not recognized
In-Reply-To: <200807160201.m6G213h22450@f7.net>
References: <200807160201.m6G213h22450@f7.net>
Message-ID: <53EC66FF-065F-4B73-AF08-03FBB40F7C12@fis.ucm.es>

On Jul 16, 2008, at 4:01 AM, Karl Berry wrote:

> Hi Artemio,
>
> Thanks for testing.
>
>    in both cases install-tl failed to recognize the
>    architecture automatically
>
> Please open a terminal window and tell me the results of running
> 1) uname -a, and
> 2) the attached config.guess script,
> on each system.
>
> (This is what we use to guess the current system.)
>
> Meanwhile, I'll see if I can reproduce it.
>
> Thanks,
> Karl
>
> <config.guess>


Karl,

Thanks for your reply. In fact, with the July 15 distribution my  
architectures were again recognized. Just in case you may need it, the  
result of 'uname -a' on my machines are as follows:

Darwin tillina.fis.ucm.es 9.4.0 Darwin Kernel Version 9.4.0: Mon Jun   
9 19:36:17 PDT 2008; root:xnu-1228.5.20~1/RELEASE_PPC Power Macintosh
Darwin macbook-pro.local 9.4.0 Darwin Kernel Version 9.4.0: Mon Jun  9  
19:30:53 PDT 2008; root:xnu-1228.5.20~1/RELEASE_I386 i386

(the first one is a PowerPC G5 quad core, the second one a MacBook Pro  
from last year)

And the results of your config.guess script are as follows:

powerpc-apple-darwin9.4.0
i386-apple-darwin9.4.0

Thanks agan for everything,

Artemio


Artemio Gonzalez-Lopez
email:    artemio at fis.ucm.es
URL:      http://jacobi.fis.ucm.es/artemio

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080716/44ff1d28/attachment.html 

From zdenek.wagner at gmail.com  Wed Jul 16 12:41:49 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 12:41:49 +0200
Subject: [tex-live] Format generation error
Message-ID: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>

Hello,
I have installed TL2008 on a computer that already contains TL2007.
Directory /usr/local/texlive is writable by me (non-root) and the bin
directory for TL2007 was in PATH during installation of TL2008. After
installation was finished I have put the TL2008 bin directory to the
beginning of PATH and tried pdflatex. It failed with the following
error:

This is pdfTeXk, Version 3.1415926-1.40.8 (Web2C 7.5.7)
 %&-line parsing enabled.
---! /home/wagner/.texlive2008/texmf-var/web2c/pdftex/pdflatex.fmt
doesn't match pdftex.pool
(Fatal format file error; I'm stymied)

It seems that automatic format generation during installation took
pool files from TL2007. Xelatex used correct pool file (or they have
not changed). After fmtutil --byfmt pdflatex and having the TL2008 bin
directory at the beginning of PATH it works.

-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From mpg at elzevir.fr  Wed Jul 16 12:59:43 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Wed, 16 Jul 2008 12:59:43 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080716.065527.155503068.wl@gnu.org>
References: <20080714.230057.256462366.wl@gnu.org>	<487C91CC.4030704@elzevir.fr>
	<20080716.065527.155503068.wl@gnu.org>
Message-ID: <487DD49F.9080109@elzevir.fr>

Werner LEMBERG scripsit (16.07.2008 06:55)
> Other extensions might be possible too, for example `.5'...
> 
Sure, this was just an example.  But for now, there's only section 1 and 5 man
pages in TL, so we're fine with just .1 and .5

>> (new config file for texdoc, still undocumented):
>>
>> ext_list = .pdf, .pdf.gz, .pdf.bz2, .dvi, .dvi.gz, .dvi.bz2, .ps,
>> .ps.gz, .ps.bz2, .txt, .txt.gz, .txt.bz2, .html, .1
>> viewer_1 = man
> 
By the way the format changed yesterday, we don't put the dots now.  And
compressed doc support is disabled by default, so the list would rather look like
ext_list = pdf, html, txt, ps, dvi, 1, 5

> I don't want to do this manually.  texdoc should automatically display
> man pages *which are within the distribution*.  Otherwise, similar to
> the standalone `info' program, it might fire up `man' to display a
> corresponding system man page (however, this is debatable and should
> be configurable).
> 
Depends if you mean :
1. texdoc should display man pages like the man command
2. texdoc should display some form of the man pages

If you mean 1, I disagree since this is not possible on win32 and we don't
want to make texdoc behave differently on different platforms, and it's to
late to include some man-like and info-like binary for windows.  So this will
not be possible by default, at least this year, but you will be able to
configure it easily.

If you mean 2, I strongly agree.  Actually, we decided to produce pdf forms of
the man/info pages and ship them.  This way, texdoc can display the
information from the manpages in a easy, system-independent way.

On Unix, if your prefer the man/info reader over the pdf version, you can
still configure this by changing the order of extensions in your texdoc.cnf:
ext_list= 1,5,pdf,html,#etc

> The probably best program to convert man pages to another high-level
> format is Eric Raymond's `doclifter'.  It's small (300kByte of Python
> code), and we could add it to TeXLive:
> 
>   http://www.catb.org/~esr/doclifter/
> 
> However, it converts to XML, and xmltex of TeXLive can't handle this
> out of the box (I've just tried to call it, but I don't know the
> details how to configure it properly).
> 
Thanks for the hint.  We'll probably choose pdf output, so maybe
man -t and ps2pdf will be enough.

Manuel.


From jonathan_kew at sil.org  Wed Jul 16 13:03:07 2008
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Wed, 16 Jul 2008 12:03:07 +0100
Subject: [tex-live] Format generation error
In-Reply-To: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
References: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
Message-ID: <E41BEF40-1FEE-42BD-A039-AF451245D449@sil.org>

On 16 Jul 2008, at 11:41 AM, Zdenek Wagner wrote:

> Hello,
> I have installed TL2008 on a computer that already contains TL2007.
> Directory /usr/local/texlive is writable by me (non-root) and the bin
> directory for TL2007 was in PATH during installation of TL2008. After
> installation was finished I have put the TL2008 bin directory to the
> beginning of PATH and tried pdflatex. It failed with the following
> error:
>
> This is pdfTeXk, Version 3.1415926-1.40.8 (Web2C 7.5.7)
> %&-line parsing enabled.
> ---! /home/wagner/.texlive2008/texmf-var/web2c/pdftex/pdflatex.fmt
> doesn't match pdftex.pool
> (Fatal format file error; I'm stymied)

The problem is that you have a "personal" pdflatex.fmt in your home  
TEXMF tree (under ~/.texlive2008/) that was created by an earlier  
version. This masks the "system-wide" format that was created during  
the installation process, probably somewhere under /usr/local/texlive.

> It seems that automatic format generation during installation took
> pool files from TL2007.

No, then pdftex would have complained at fmt-generation time.

In any case, I believe the strings are now compiled into the binary at  
build time, so no actual .pool file is read during format generation.

> Xelatex used correct pool file (or they have
> not changed). After fmtutil --byfmt pdflatex and having the TL2008 bin
> directory at the beginning of PATH it works.

This updated the pdflatex.fmt file in your personal .texlive2008 tree.  
Alternatively, you should be able to remove it altogether, and  
pdflatex should find the system-wide copy that was created during  
installation.

JK


From martin at oneiros.de  Wed Jul 16 13:05:01 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 16 Jul 2008 13:05:01 +0200
Subject: [tex-live] Format generation error
In-Reply-To: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
References: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
Message-ID: <68c491a60807160405u58b1a909y6627093967a8222d@mail.gmail.com>

2008/7/16 Zdenek Wagner <zdenek.wagner at gmail.com>:
> It seems that automatic format generation during installation took
> pool files from TL2007. Xelatex used correct pool file (or they have

If you upgrade to TL2008, you can safely delete all pool files, as
they are not integrated into the binaries.

Best
   Martin

From zdenek.wagner at gmail.com  Wed Jul 16 13:35:49 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 13:35:49 +0200
Subject: [tex-live] Format generation error
In-Reply-To: <68c491a60807160405u58b1a909y6627093967a8222d@mail.gmail.com>
References: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
	<68c491a60807160405u58b1a909y6627093967a8222d@mail.gmail.com>
Message-ID: <8719b6240807160435t40c81206of733055c9515f56c@mail.gmail.com>

2008/7/16 Martin Schr?der <martin at oneiros.de>:
> 2008/7/16 Zdenek Wagner <zdenek.wagner at gmail.com>:
>> It seems that automatic format generation during installation took
>> pool files from TL2007. Xelatex used correct pool file (or they have
>
> If you upgrade to TL2008, you can safely delete all pool files, as
> they are not integrated into the binaries.
>
I do not want to upgrade until I am sure that everything works. Now
after recreating the fmt files I can process the files both by TL2007
and TL2008 depending on the PATH setting. I think that the problem
could be solved if the installation script put the TL2008 bin
directory to the beginning of path for running fmtutil.

> Best
>   Martin
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From zdenek.wagner at gmail.com  Wed Jul 16 14:21:39 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 14:21:39 +0200
Subject: [tex-live] CZ/SK in babel for TL 08
In-Reply-To: <4871099B.5000008@braams.xs4all.nl>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
Message-ID: <8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>

2008/7/6 Johannes Braams <babel at braams.xs4all.nl>:
> Hi all,
>
> This was lost for some time in the jungle of Babel mail. I have now finally
> added the new versions of czech.dtx and slovak.dtx to my master sources.
> They will migrate to CTAN tonight.
> I have also added the required patch to babel.dtx (yielding version 3.8l)
> which I will update later tonight.
>
Thank you. I have looked into TeX Live 2008, czech.dtx, slovak.dtx as
well as generated ldf files are OK, some tests passed, but hyphenation
does not work well. It may be a problem of the new TL infrastructure.
I will examine it tonight in detail.

> Kind regards,
>
> Johannes Braams
>
> Petr Sojka wrote:
>>
>> On Sun, Apr 23, 2006 at 10:50:03PM +0200, Johannes L. Braams wrote:
>> Dear Johannes,
>>
>> more than two years ago you replied to Petr Tesarik:
>>
>>> Petr,
>>>
>>> This message is to acknowledge that I received your suggestion for Babel.
>>> It is perfectly alright to communicate with me this way. I hope I will be
>>> able to look at your proposal later this week; If I can help to remove the
>>> cslatex stuff from the distributions (with the support from CSTuG) I will be
>>> glad to do so.
>>
>> Any chance to make the Czech/Slovak stuff into babel at TL 08 to get rid
>> of
>> cslatex? What are the problems due to which new/current cz/sk support
>> prepared by Petr Tesarik has not been incorporated into babel?
>> It has been supported by CsTUG; current version of the support is on
>> http://ftp.cstug.cz/pub/local/cstug/tesarik/csbabel/
>>
>> Thank you for clarification.
>>
>> All the best
>> Petr Sojka
>>
>>>
>>> Kind regards,
>>>
>>> Johannes Braams
>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From oberdiek at uni-freiburg.de  Wed Jul 16 14:36:53 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 16 Jul 2008 14:36:53 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487DD49F.9080109@elzevir.fr>
References: <20080714.230057.256462366.wl@gnu.org>
	<487C91CC.4030704@elzevir.fr>
	<20080716.065527.155503068.wl@gnu.org>
	<487DD49F.9080109@elzevir.fr>
Message-ID: <20080716123652.GA3041@irwin.wlan.privat>

On Wed, Jul 16, 2008 at 12:59:43PM +0200, Manuel P?gouri?-Gonnard wrote:

> If you mean 2, I strongly agree.  Actually, we decided to produce pdf forms of
> the man/info pages and ship them.  This way, texdoc can display the
> information from the manpages in a easy, system-independent way.

BTW, for some of the programs I also provide PDF files
from the .web files, enhanced by hyperref
in project latex-tds, module knuth:
  doc/knuth/etc/vftovp.pdf (VF, TFM)
  doc/knuth/etc/vptovf.pdf (VPL)
  doc/knuth/mf/mf.pdf
  doc/knuth/mfware/gftodvi.pdf (DVI, GF)
  doc/knuth/mfware/gftopk.pdf (GF, PK)
  doc/knuth/mfware/gftype.pdf (GF)
  doc/knuth/mfware/mft.pdf
  doc/knuth/tex/tex.pdf
  doc/knuth/texware/dvitype.pdf (DVI)
  doc/knuth/texware/pltotf.pdf (PL)
  doc/knuth/texware/pooltype.pdf
  doc/knuth/texware/tftopl.pdf (TFM)
  doc/knuth/web/tangle.pdf
  doc/knuth/web/weave.pdf

Some are quite important, because they contain the official
description of file formats, e.g. dvitype for DVI, gftype for GF,
vftovp for VF, ...

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From mojca.miklavec.lists at gmail.com  Wed Jul 16 14:48:37 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 16 Jul 2008 14:48:37 +0200
Subject: [tex-live] CZ/SK in babel for TL 08
In-Reply-To: <8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
Message-ID: <6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>

2008/7/16 Zdenek Wagner wrote:
> 2008/7/6 Johannes Braams wrote:
>> Hi all,
>>
>> This was lost for some time in the jungle of Babel mail. I have now finally
>> added the new versions of czech.dtx and slovak.dtx to my master sources.
>> They will migrate to CTAN tonight.
>> I have also added the required patch to babel.dtx (yielding version 3.8l)
>> which I will update later tonight.
>>
> Thank you. I have looked into TeX Live 2008, czech.dtx, slovak.dtx as
> well as generated ldf files are OK, some tests passed, but hyphenation
> does not work well.

If you have IL2 patterns in mind, they definitely don't work.

If you say that they should work when one loads
\usepackage[slovak]{babel} in (pdf)latex, we can add them.

Mojca

From zdenek.wagner at gmail.com  Wed Jul 16 15:01:19 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 15:01:19 +0200
Subject: [tex-live] CZ/SK in babel for TL 08
In-Reply-To: <6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
Message-ID: <8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>

2008/7/16 Mojca Miklavec <mojca.miklavec.lists at gmail.com>:
> 2008/7/16 Zdenek Wagner wrote:
>> 2008/7/6 Johannes Braams wrote:
>>> Hi all,
>>>
>>> This was lost for some time in the jungle of Babel mail. I have now finally
>>> added the new versions of czech.dtx and slovak.dtx to my master sources.
>>> They will migrate to CTAN tonight.
>>> I have also added the required patch to babel.dtx (yielding version 3.8l)
>>> which I will update later tonight.
>>>
>> Thank you. I have looked into TeX Live 2008, czech.dtx, slovak.dtx as
>> well as generated ldf files are OK, some tests passed, but hyphenation
>> does not work well.
>
> If you have IL2 patterns in mind, they definitely don't work.
>
> If you say that they should work when one loads
> \usepackage[slovak]{babel} in (pdf)latex, we can add them.
>
It should work both with IL2 and T1, both patterns should be loaded in
the format and babel should switch them according to the current
encoding. There is a new hook in babel for doing it and Johannes wrote
us that he has already included it in babel.dtx. It only needs to be
enabled in language.dat. If you have the conf file for converting the
patterns to IL2, it will make my experiments easier. I was able to do
it for TL2007.

> Mojca
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From mojca.miklavec.lists at gmail.com  Wed Jul 16 15:17:42 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 16 Jul 2008 15:17:42 +0200
Subject: [tex-live] CZ/SK in babel for TL 08
In-Reply-To: <8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
Message-ID: <6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>

2008/7/16 Zdenek Wagner:
> 2008/7/16 Mojca Miklavec:
>> 2008/7/16 Zdenek Wagner wrote:
>>> 2008/7/6 Johannes Braams wrote:
>>>> Hi all,
>>>>
>>>> This was lost for some time in the jungle of Babel mail. I have now finally
>>>> added the new versions of czech.dtx and slovak.dtx to my master sources.
>>>> They will migrate to CTAN tonight.
>>>> I have also added the required patch to babel.dtx (yielding version 3.8l)
>>>> which I will update later tonight.
>>>>
>>> Thank you. I have looked into TeX Live 2008, czech.dtx, slovak.dtx as
>>> well as generated ldf files are OK, some tests passed, but hyphenation
>>> does not work well.
>>
>> If you have IL2 patterns in mind, they definitely don't work.
>>
>> If you say that they should work when one loads
>> \usepackage[slovak]{babel} in (pdf)latex, we can add them.
>>
> It should work both with IL2 and T1, both patterns should be loaded in
> the format and babel should switch them according to the current
> encoding. There is a new hook in babel for doing it and Johannes wrote
> us that he has already included it in babel.dtx. It only needs to be
> enabled in language.dat. If you have the conf file for converting the
> patterns to IL2, it will make my experiments easier. I was able to do
> it for TL2007.

We have all the code needed to enable loading patterns in IL2, but no
hooks & no knowledge (at least speaking for me) to do it.

A similar problem exists for Russian & Ukrainian, but we "gave up"
there and will try to find some solution after TL 2008 release.

The whole logic is hidden in the code below (one can easily load
conv-utf8-il2.tex instead of conv-utf8-ec.tex), but you would need to
tell me what and how to change. I thought that you would load both
patterns at once, but if you want to load them depending on current
encoding, I don't have the knowledge how to do that.

\begingroup
% Test whether we received one or two arguments
\def\testengine#1#2!{\def\secondarg{#2}}
% That's Tau (as in Taco or ???, Tau-Epsilon-Chi), a 2-byte UTF-8 character
\testengine ?!\relax
% Unicode-aware engine (such as XeTeX or LuaTeX) only sees a single
(2-byte) argument
\ifx\secondarg\empty
    \message{UTF-8 Slovak Hyphenation Patterns (Jana Chlebikova, 1992)}
\else
    \message{EC Slovak Hyphenation Patterns (Jana Chlebikova, 1992)}
    \input conv-utf8-ec.tex
\fi
\input hyph-sk.tex
\endgroup

An alternative is to fall back to loading the old patterns again if
these are not working the way you would want them to work.

Mojca

From zdenek.wagner at gmail.com  Wed Jul 16 15:26:28 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 15:26:28 +0200
Subject: [tex-live] CZ/SK in babel for TL 08
In-Reply-To: <6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
Message-ID: <8719b6240807160626l52357c09ja3c180932b87dcf2@mail.gmail.com>

2008/7/16 Mojca Miklavec <mojca.miklavec.lists at gmail.com>:
> 2008/7/16 Zdenek Wagner:
>> 2008/7/16 Mojca Miklavec:
>>> 2008/7/16 Zdenek Wagner wrote:
>>>> 2008/7/6 Johannes Braams wrote:
>>>>> Hi all,
>>>>>
>>>>> This was lost for some time in the jungle of Babel mail. I have now finally
>>>>> added the new versions of czech.dtx and slovak.dtx to my master sources.
>>>>> They will migrate to CTAN tonight.
>>>>> I have also added the required patch to babel.dtx (yielding version 3.8l)
>>>>> which I will update later tonight.
>>>>>
>>>> Thank you. I have looked into TeX Live 2008, czech.dtx, slovak.dtx as
>>>> well as generated ldf files are OK, some tests passed, but hyphenation
>>>> does not work well.
>>>
>>> If you have IL2 patterns in mind, they definitely don't work.
>>>
>>> If you say that they should work when one loads
>>> \usepackage[slovak]{babel} in (pdf)latex, we can add them.
>>>
>> It should work both with IL2 and T1, both patterns should be loaded in
>> the format and babel should switch them according to the current
>> encoding. There is a new hook in babel for doing it and Johannes wrote
>> us that he has already included it in babel.dtx. It only needs to be
>> enabled in language.dat. If you have the conf file for converting the
>> patterns to IL2, it will make my experiments easier. I was able to do
>> it for TL2007.
>
> We have all the code needed to enable loading patterns in IL2, but no
> hooks & no knowledge (at least speaking for me) to do it.
>
This was impossible until now. Petr Tesarik wrote a patch to babel and
Johannes Braams added it to the official distribution a week ago. I
can prepare the contents od language.dat for czech and slovak and you
can then do it for other languages.

> A similar problem exists for Russian & Ukrainian, but we "gave up"
> there and will try to find some solution after TL 2008 release.
>
> The whole logic is hidden in the code below (one can easily load
> conv-utf8-il2.tex instead of conv-utf8-ec.tex), but you would need to
> tell me what and how to change. I thought that you would load both
> patterns at once, but if you want to load them depending on current
> encoding, I don't have the knowledge how to do that.
>
> \begingroup
> % Test whether we received one or two arguments
> \def\testengine#1#2!{\def\secondarg{#2}}
> % That's Tau (as in Taco or ???, Tau-Epsilon-Chi), a 2-byte UTF-8 character
> \testengine ?!\relax
> % Unicode-aware engine (such as XeTeX or LuaTeX) only sees a single
> (2-byte) argument
> \ifx\secondarg\empty
>    \message{UTF-8 Slovak Hyphenation Patterns (Jana Chlebikova, 1992)}
> \else
>    \message{EC Slovak Hyphenation Patterns (Jana Chlebikova, 1992)}
>    \input conv-utf8-ec.tex
> \fi
> \input hyph-sk.tex
> \endgroup
>
> An alternative is to fall back to loading the old patterns again if
> these are not working the way you would want them to work.
>
> Mojca
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From vvv at vsu.ru  Wed Jul 16 15:32:12 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed, 16 Jul 2008 17:32:12 +0400
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	(Mojca Miklavec's message of "Wed, 16 Jul 2008 15:17:42 +0200")
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
Message-ID: <87fxqakl9f.fsf@vvv.org.vrn.ru>

Hi!

 MM> The whole logic is hidden in the code below (one can easily load
 MM> conv-utf8-il2.tex instead of conv-utf8-ec.tex), but you would need
 MM> to tell me what and how to change. I thought that you would load
 MM> both patterns at once, but if you want to load them depending on
 MM> current encoding, I don't have the knowledge how to do that.

a brief look at recent babel changes shows that it is now possible to
specify the encoding in the language.dat file, e.g.:

slovak loadhyph-sk.tex
slovak:IL2 loadhyph-sk-il2.tex

then babel will load the patterns which were loaded by loadhyph-sk-il2.tex
if one switches to slovak language, and current font encoding will be IL2.

Best,
v.

From mojca.miklavec.lists at gmail.com  Wed Jul 16 15:32:30 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 16 Jul 2008 15:32:30 +0200
Subject: [tex-live] CZ/SK in babel for TL 08
In-Reply-To: <8719b6240807160626l52357c09ja3c180932b87dcf2@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<8719b6240807160626l52357c09ja3c180932b87dcf2@mail.gmail.com>
Message-ID: <6faad9f00807160632o67538dd2n5f41344ef8782166@mail.gmail.com>

On Wed, Jul 16, 2008 at 3:26 PM, Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
> 2008/7/16 Mojca Miklavec <mojca.miklavec.lists at gmail.com>:
>> 2008/7/16 Zdenek Wagner:
>>> 2008/7/16 Mojca Miklavec:
>>>> 2008/7/16 Zdenek Wagner wrote:
>>>>> 2008/7/6 Johannes Braams wrote:
>>>>>> Hi all,
>>>>>>
>>>>>> This was lost for some time in the jungle of Babel mail. I have now finally
>>>>>> added the new versions of czech.dtx and slovak.dtx to my master sources.
>>>>>> They will migrate to CTAN tonight.
>>>>>> I have also added the required patch to babel.dtx (yielding version 3.8l)
>>>>>> which I will update later tonight.
>>>>>>
>>>>> Thank you. I have looked into TeX Live 2008, czech.dtx, slovak.dtx as
>>>>> well as generated ldf files are OK, some tests passed, but hyphenation
>>>>> does not work well.
>>>>
>>>> If you have IL2 patterns in mind, they definitely don't work.
>>>>
>>>> If you say that they should work when one loads
>>>> \usepackage[slovak]{babel} in (pdf)latex, we can add them.
>>>>
>>> It should work both with IL2 and T1, both patterns should be loaded in
>>> the format and babel should switch them according to the current
>>> encoding. There is a new hook in babel for doing it and Johannes wrote
>>> us that he has already included it in babel.dtx. It only needs to be
>>> enabled in language.dat. If you have the conf file for converting the
>>> patterns to IL2, it will make my experiments easier. I was able to do
>>> it for TL2007.
>>
>> We have all the code needed to enable loading patterns in IL2, but no
>> hooks & no knowledge (at least speaking for me) to do it.
>>
> This was impossible until now. Petr Tesarik wrote a patch to babel and
> Johannes Braams added it to the official distribution a week ago. I
> can prepare the contents od language.dat for czech and slovak and you
> can then do it for other languages.

I won't be touching other languages before TL 2008. Esp. because
Norbert is now on vacation, because we can run out of memory, and
because TL is just before the release. But we can do it right after
that (or maybe once pattern loading will be possible on the fly).

Germans also have some hooks and It would be nice to solve all
problems at once and in a proper way.

For Czeck and Slovak we can make the needed modification if you send
us the solution. In the worst case, you'll be the one to have problems
if it won't work :P :) :) :)

Mojca

From hanthethanh at gmail.com  Wed Jul 16 15:34:01 2008
From: hanthethanh at gmail.com (Thanh Han The)
Date: Wed, 16 Jul 2008 15:34:01 +0200
Subject: [tex-live] babel support for vntex
Message-ID: <74f506dc0807160634r223246eey41986daa0d7599d9@mail.gmail.com>

Hi,

since babel is being discussed, I wonder if a line saying

,--------
| \DeclareOption{vietnam}{\input{vietnam.ldf}}
`--------

could be added to babel.sty? I got a bug report about vntex
from a lyx developer, and the bottom line is that if
babel.sty contains the above line, it will fix the problem.
I sent this request to babel maintainer long time ago, but
never got a reply.

Thanks,
Thanh

From mojca.miklavec.lists at gmail.com  Wed Jul 16 15:49:38 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 16 Jul 2008 15:49:38 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <87fxqakl9f.fsf@vvv.org.vrn.ru>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
Message-ID: <6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>

On Wed, Jul 16, 2008 at 3:32 PM, Vladimir Volovich wrote:
> Hi!
>
>  MM> The whole logic is hidden in the code below (one can easily load
>  MM> conv-utf8-il2.tex instead of conv-utf8-ec.tex), but you would need
>  MM> to tell me what and how to change. I thought that you would load
>  MM> both patterns at once, but if you want to load them depending on
>  MM> current encoding, I don't have the knowledge how to do that.
>
> a brief look at recent babel changes shows that it is now possible to
> specify the encoding in the language.dat file, e.g.:
>
> slovak loadhyph-sk.tex
> slovak:IL2 loadhyph-sk-il2.tex
>
> then babel will load the patterns which were loaded by loadhyph-sk-il2.tex
> if one switches to slovak language, and current font encoding will be IL2.

Forgetting the fact that Karl (and me included) would probably be
against even more major changes just before the release and that these
changes should concern after-tl-2008 timeframe ...

I would vote for going one steep deeper.

language.dat could contain:
    slovak  ec,il2 loadhyph-sk.tex
and then encoding name could be stored to some variable, visible to
loadhyph, so that it would load the proper encoding without having to
generate dozens of loadhyph-xx-yy files.

Also keep in mind that:
- for some languages several encodings (t1, texnansi) are equivalent
- Germans and probably others want to have access to multiple versions
of patterns
- Russians and Ukrainians want that as well
- we don't want to load Russian patterns in XeTeX seven times
- it would be nice to take care for plain at the same time

Those who know how to fiddle with languge.dat and have some nice ideas
to improve it (after TL08) - can you please join the
tex-hyphen at tug.org mailing list?

Mojca

PS: again - we can do the change for CS/SK, but not for every single
language at this moment.

From zdenek.wagner at gmail.com  Wed Jul 16 16:16:37 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 16:16:37 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
Message-ID: <8719b6240807160716y7692fa46i4568c76ef7ea5aff@mail.gmail.com>

2008/7/16 Mojca Miklavec <mojca.miklavec.lists at gmail.com>:
> On Wed, Jul 16, 2008 at 3:32 PM, Vladimir Volovich wrote:
>> Hi!
>>
>>  MM> The whole logic is hidden in the code below (one can easily load
>>  MM> conv-utf8-il2.tex instead of conv-utf8-ec.tex), but you would need
>>  MM> to tell me what and how to change. I thought that you would load
>>  MM> both patterns at once, but if you want to load them depending on
>>  MM> current encoding, I don't have the knowledge how to do that.
>>
>> a brief look at recent babel changes shows that it is now possible to
>> specify the encoding in the language.dat file, e.g.:
>>
>> slovak loadhyph-sk.tex
>> slovak:IL2 loadhyph-sk-il2.tex
>>
>> then babel will load the patterns which were loaded by loadhyph-sk-il2.tex
>> if one switches to slovak language, and current font encoding will be IL2.
>
> Forgetting the fact that Karl (and me included) would probably be
> against even more major changes just before the release and that these
> changes should concern after-tl-2008 timeframe ...
>
> I would vote for going one steep deeper.
>
> language.dat could contain:
>    slovak  ec,il2 loadhyph-sk.tex
> and then encoding name could be stored to some variable, visible to
> loadhyph, so that it would load the proper encoding without having to
> generate dozens of loadhyph-xx-yy files.
>
You have to specify the encoding as part of the language name, ie
slovak:T1 and slovak:IL2. Babel can already handle it. Afterwards you
load a file which enables conversion from UTF8 to the selected
encoding and load patterns in UTF8. Finally you define =slovak as an
alias. In the document you write

\usepackage[slovak]{babel}
\usepackage[IL2]{fontenc}

Patterns for slovak in IL2 will then be used. You can also switch
between IL2 and T1 within the document and the patterns will be
switched but such usage is not recommended. \iflanguage{slovak} works
for both encodings. It is only a bit tricky to make it work also with
xelatex with the same language.dat.

A lot of czech/slovak FAQ's on the web are written with cslatex in
mind but do not mention that they are intended for cslatex. Beginners
tried to run such documents through babel and got an error message
that they did not understand. We now have modified czech.sty and
slovak.sty so that user can write

\usepackage{slovak}

and babel will enter cslatex compatibility mode with IL2 as default.
If all what has already been developed is included in TL, cslatex
could be removed, only a few files (CS fonts, il2enc.def and il2*.fd)
need to be kept. A lot of problems will then disappear.

> Also keep in mind that:
> - for some languages several encodings (t1, texnansi) are equivalent

You can still use the "old" way and load the patterns only once if the
encoding does not matter. this is important compatibility, the whole
world would complain if this behaviour would not be preserved.

> - Germans and probably others want to have access to multiple versions
> of patterns
> - Russians and Ukrainians want that as well
> - we don't want to load Russian patterns in XeTeX seven times
> - it would be nice to take care for plain at the same time
>
> Those who know how to fiddle with languge.dat and have some nice ideas
> to improve it (after TL08) - can you please join the
> tex-hyphen at tug.org mailing list?
>
> Mojca
>
> PS: again - we can do the change for CS/SK, but not for every single
> language at this moment.
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From oberdiek at uni-freiburg.de  Wed Jul 16 16:32:41 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 16 Jul 2008 16:32:41 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
Message-ID: <20080716143241.GA2911@irwin.wlan.privat>

On Wed, Jul 16, 2008 at 03:49:38PM +0200, Mojca Miklavec wrote:

> On Wed, Jul 16, 2008 at 3:32 PM, Vladimir Volovich wrote:
> > Hi!
> >
> >  MM> The whole logic is hidden in the code below (one can easily load
> >  MM> conv-utf8-il2.tex instead of conv-utf8-ec.tex), but you would need
> >  MM> to tell me what and how to change. I thought that you would load
> >  MM> both patterns at once, but if you want to load them depending on
> >  MM> current encoding, I don't have the knowledge how to do that.
> >
> > a brief look at recent babel changes shows that it is now possible to
> > specify the encoding in the language.dat file, e.g.:
> >
> > slovak loadhyph-sk.tex
> > slovak:IL2 loadhyph-sk-il2.tex
> >
> > then babel will load the patterns which were loaded by loadhyph-sk-il2.tex
> > if one switches to slovak language, and current font encoding will be IL2.
> 
> Forgetting the fact that Karl (and me included) would probably be
> against even more major changes just before the release and that these
> changes should concern after-tl-2008 timeframe ...
> 
> I would vote for going one steep deeper.
> 
> language.dat could contain:
>     slovak  ec,il2 loadhyph-sk.tex
> and then encoding name could be stored to some variable, visible to
> loadhyph, so that it would load the proper encoding without having to
> generate dozens of loadhyph-xx-yy files.

language.dat is the configuration file for babel's hyphen.cfg,
not the database for loadhyph files.

> Also keep in mind that:
> - for some languages several encodings (t1, texnansi) are equivalent
> - Germans and probably others want to have access to multiple versions
> of patterns

The alias mechanism can be used:

ngerman:T1 ...
=ngerman:texnansi

(But I don't know "texnansi", TL2008 is missing "texnansienc.def".)

> - Russians and Ukrainians want that as well
> - we don't want to load Russian patterns in XeTeX seven times

The limited patterns space and that the patterns must be
loaded by iniTeX are the real problem.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From mojca.miklavec.lists at gmail.com  Wed Jul 16 16:41:01 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 16 Jul 2008 16:41:01 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <8719b6240807160716y7692fa46i4568c76ef7ea5aff@mail.gmail.com>
References: <20060421115659.GA31729@golias.tesarici.cz>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<8719b6240807160716y7692fa46i4568c76ef7ea5aff@mail.gmail.com>
Message-ID: <6faad9f00807160741i2dcbd221tb3049ba12f80da20@mail.gmail.com>

2008/7/16 Zdenek Wagner <zdenek.wagner at gmail.com>:
> 2008/7/16 Mojca Miklavec <mojca.miklavec.lists at gmail.com>:
>> On Wed, Jul 16, 2008 at 3:32 PM, Vladimir Volovich wrote:
>>> Hi!
>>>
>>>  MM> The whole logic is hidden in the code below (one can easily load
>>>  MM> conv-utf8-il2.tex instead of conv-utf8-ec.tex), but you would need
>>>  MM> to tell me what and how to change. I thought that you would load
>>>  MM> both patterns at once, but if you want to load them depending on
>>>  MM> current encoding, I don't have the knowledge how to do that.
>>>
>>> a brief look at recent babel changes shows that it is now possible to
>>> specify the encoding in the language.dat file, e.g.:
>>>
>>> slovak loadhyph-sk.tex
>>> slovak:IL2 loadhyph-sk-il2.tex
>>>
>>> then babel will load the patterns which were loaded by loadhyph-sk-il2.tex
>>> if one switches to slovak language, and current font encoding will be IL2.
>>
>> Forgetting the fact that Karl (and me included) would probably be
>> against even more major changes just before the release and that these
>> changes should concern after-tl-2008 timeframe ...
>>
>> I would vote for going one steep deeper.
>>
>> language.dat could contain:
>>    slovak  ec,il2 loadhyph-sk.tex
>> and then encoding name could be stored to some variable, visible to
>> loadhyph, so that it would load the proper encoding without having to
>> generate dozens of loadhyph-xx-yy files.
>>
> You have to specify the encoding as part of the language name, ie
> slovak:T1 and slovak:IL2. Babel can already handle it. Afterwards you
> load a file which enables conversion from UTF8 to the selected
> encoding and load patterns in UTF8. Finally you define =slovak as an
> alias. In the document you write
>
> \usepackage[slovak]{babel}
> \usepackage[IL2]{fontenc}
>
> Patterns for slovak in IL2 will then be used. You can also switch
> between IL2 and T1 within the document and the patterns will be
> switched but such usage is not recommended. \iflanguage{slovak} works
> for both encodings. It is only a bit tricky to make it work also with
> xelatex with the same language.dat.
>
> A lot of czech/slovak FAQ's on the web are written with cslatex in
> mind but do not mention that they are intended for cslatex. Beginners
> tried to run such documents through babel and got an error message
> that they did not understand. We now have modified czech.sty and
> slovak.sty so that user can write
>
> \usepackage{slovak}
>
> and babel will enter cslatex compatibility mode with IL2 as default.
> If all what has already been developed is included in TL, cslatex
> could be removed, only a few files (CS fonts, il2enc.def and il2*.fd)
> need to be kept. A lot of problems will then disappear.

So you only need these two lines (and same for Czech):

slovak:T1 loadhyph-sk.tex
=slovak
slovak:IL2 loadhyph-sk-il2.tex

in language.dat? Or should IL2 be the default? (In TL 2007 that has been T1.)

This means loading 4 additional patterns for plain TeX (so one needs
to check that there is enough space reserved for patterns) and this
means that someone needs to update tlpsrc files (while Norbert is
away).

So - should I upload loadhyph-sk(cs)-il2.tex to CTAN? Karl?

(But then please consider loadhyph-sk-il2.tex a temporary solution. I
would prefer some better solution in future.)

Mojca

From oberdiek at uni-freiburg.de  Wed Jul 16 16:48:31 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 16 Jul 2008 16:48:31 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <8719b6240807160716y7692fa46i4568c76ef7ea5aff@mail.gmail.com>
References: <200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<8719b6240807160716y7692fa46i4568c76ef7ea5aff@mail.gmail.com>
Message-ID: <20080716144830.GA3065@irwin.wlan.privat>

On Wed, Jul 16, 2008 at 04:16:37PM +0200, Zdenek Wagner wrote:

> You have to specify the encoding as part of the language name, ie
> slovak:T1 and slovak:IL2. Babel can already handle it. Afterwards you
> load a file which enables conversion from UTF8 to the selected
> encoding and load patterns in UTF8. Finally you define =slovak as an
> alias. In the document you write
> 
> \usepackage[slovak]{babel}
> \usepackage[IL2]{fontenc}
> 
> Patterns for slovak in IL2 will then be used. You can also switch
> between IL2 and T1 within the document and the patterns will be
> switched but such usage is not recommended. 

As far as I could see, patterns switches aren't triggered
by font encoding switches, only by language switches or
environment `hyphenrules'. However such a feature could
perhaps be implemented using package `everysel'.

> \iflanguage{slovak} works for both encodings.

I don't think:

\def\iflanguage#1{%
  \expandafter\ifx\csname l@#1\endcsname\relax
    \@nolanerr{#1}%
  \else
    \bbl at afterfi{\ifnum\csname l@#1\endcsname=\language
      \expandafter\@firstoftwo
    \else
      \expandafter\@secondoftwo
    \fi}%
  \fi}

\iflanguage only compares the current patterns with the patterns
for language "slovak", e.g.:

% language.dat:
slovak:T1 ...
=slovak
slovak:IL2

% document.tex:
\usepackage[slovak]{babel}
\usepackage[IL2]{fontenc}

Then \iflanguage{slovak} reports false.

But package `iflang' exists that provides \iflanguagename.
The comparison is based on \languagename, but not on the patterns.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From vvv at vsu.ru  Wed Jul 16 17:10:46 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed, 16 Jul 2008 19:10:46 +0400
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <20080716143241.GA2911@irwin.wlan.privat> (Heiko Oberdiek's
	message of "Wed, 16 Jul 2008 16:32:41 +0200")
References: <20060421115659.GA31729@golias.tesarici.cz>
	<200604232250.03760.Babel@braams.cistron.nl>
	<20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
Message-ID: <87abghlv9l.fsf@vvv.org.vrn.ru>

"HO" == Heiko Oberdiek writes:

 HO> ngerman:T1 ...  =ngerman:texnansi

 HO> (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)

Master/texmf-dist/tex/latex/ly1/ly1enc.def

 >> - Russians and Ukrainians want that as well - we don't want to load
 >> Russian patterns in XeTeX seven times

 HO> The limited patterns space and that the patterns must be loaded by
 HO> iniTeX are the real problem.

i don't think we need to load all available pattern variants (for
russian), and in all supported font encodings, at once. maybe load just
one reasonable default (ruhyphal) in at most 3 encodings (T2A, LCY, utf8).
and of course that could wait after TL2008.

Best,
v.

From oberdiek at uni-freiburg.de  Wed Jul 16 18:05:34 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 16 Jul 2008 18:05:34 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <87abghlv9l.fsf@vvv.org.vrn.ru>
References: <20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
Message-ID: <20080716160533.GA4268@irwin.wlan.privat>

On Wed, Jul 16, 2008 at 07:10:46PM +0400, Vladimir Volovich wrote:

> "HO" == Heiko Oberdiek writes:
> 
>  HO> ngerman:T1 ...  =ngerman:texnansi
> 
>  HO> (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)
> 
> Master/texmf-dist/tex/latex/ly1/ly1enc.def

T1 and LY1 are equal regarding German umlauts, but differnt
for the sharp s:

   T1:  \ss at slot 255
   LY1: \ss at slot 25
  (OT1: \ss at slot 25)

Therefore two sets of patterns are needed.

The old patterns are the superset of the patterns for
OT1 and T1. LY1 is supported partially: patterns with umlauts
works because of T1, patterns with \ss because of OT1.
But the correct patterns with umlauts and \ss are missing.

The risk of using merged patterns is that there are wrong
patterns that could be triggered by using words from other
languages.

> i don't think we need to load all available pattern variants (for
> russian), and in all supported font encodings, at once. maybe load just
> one reasonable default (ruhyphal) in at most 3 encodings (T2A, LCY, utf8).
> and of course that could wait after TL2008.

The question is, how easy would it be for the user to enable
special hyphen/Encoding variants, e.g. OT1 for (n)german?

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From vvv at vsu.ru  Wed Jul 16 18:54:26 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed, 16 Jul 2008 20:54:26 +0400
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <20080716160533.GA4268@irwin.wlan.privat> (Heiko Oberdiek's
	message of "Wed, 16 Jul 2008 18:05:34 +0200")
References: <20080626221121.GS30815@fi.muni.cz>
	<4871099B.5000008@braams.xs4all.nl>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
	<20080716160533.GA4268@irwin.wlan.privat>
Message-ID: <87ej5tkbwd.fsf@vvv.org.vrn.ru>

"HO" == Heiko Oberdiek writes:

 HO> ngerman:T1 ...  =ngerman:texnansi
 >> 
 HO> (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)
 >> 
 >> Master/texmf-dist/tex/latex/ly1/ly1enc.def

 HO> T1 and LY1 are equal regarding German umlauts, but differnt for the
 HO> sharp s:

you said you were missing the "texnansienc.def". i replied that
"texnansienc.def" is "ly1enc.def"

nowhere i mentioned T1.

Best,
v.

From zdenek.wagner at gmail.com  Wed Jul 16 18:59:02 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 18:59:02 +0200
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <20080716160533.GA4268@irwin.wlan.privat>
References: <20080626221121.GS30815@fi.muni.cz>
	<8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
	<20080716160533.GA4268@irwin.wlan.privat>
Message-ID: <8719b6240807160959x7e623287td77d45541f2a4891@mail.gmail.com>

2008/7/16 Heiko Oberdiek <oberdiek at uni-freiburg.de>:
> On Wed, Jul 16, 2008 at 07:10:46PM +0400, Vladimir Volovich wrote:
>
>> "HO" == Heiko Oberdiek writes:
>>
>>  HO> ngerman:T1 ...  =ngerman:texnansi
>>
>>  HO> (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)
>>
>> Master/texmf-dist/tex/latex/ly1/ly1enc.def
>
> T1 and LY1 are equal regarding German umlauts, but differnt
> for the sharp s:
>
>   T1:  \ss at slot 255
>   LY1: \ss at slot 25
>  (OT1: \ss at slot 25)
>
> Therefore two sets of patterns are needed.
>
> The old patterns are the superset of the patterns for
> OT1 and T1. LY1 is supported partially: patterns with umlauts
> works because of T1, patterns with \ss because of OT1.
> But the correct patterns with umlauts and \ss are missing.
>
> The risk of using merged patterns is that there are wrong
> patterns that could be triggered by using words from other
> languages.
>
>> i don't think we need to load all available pattern variants (for
>> russian), and in all supported font encodings, at once. maybe load just
>> one reasonable default (ruhyphal) in at most 3 encodings (T2A, LCY, utf8).
>> and of course that could wait after TL2008.
>
> The question is, how easy would it be for the user to enable
> special hyphen/Encoding variants, e.g. OT1 for (n)german?
>
German hyphenation cannot work in OT1 because umlauts are produced by
the \accent primitive. Everything after the first \accent in the word
is not examined by the hyphenation algorithm. The part preceding the
first \accent may trigger some strange pattern. Since OT1 is a subset
of T1, German users should use T1 instead of OT1 (or some other
superset).

> Yours sincerely
>  Heiko <oberdiek at uni-freiburg.de>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From oberdiek at uni-freiburg.de  Wed Jul 16 20:12:16 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 16 Jul 2008 20:12:16 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <87ej5tkbwd.fsf@vvv.org.vrn.ru>
References: <8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
	<20080716160533.GA4268@irwin.wlan.privat>
	<87ej5tkbwd.fsf@vvv.org.vrn.ru>
Message-ID: <20080716181216.GA2890@irwin.vpn.uni-freiburg.de>

On Wed, Jul 16, 2008 at 08:54:26PM +0400, Vladimir Volovich wrote:

> "HO" == Heiko Oberdiek writes:
> 
>  HO> ngerman:T1 ...  =ngerman:texnansi
>  >> 
>  HO> (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)
>  >> 
>  >> Master/texmf-dist/tex/latex/ly1/ly1enc.def
> 
>  HO> T1 and LY1 are equal regarding German umlauts, but differnt for the
>  HO> sharp s:
> 
> you said you were missing the "texnansienc.def". i replied that
> "texnansienc.def" is "ly1enc.def"
> 
> nowhere i mentioned T1.

I was referring to
| - for some languages several encodings (t1, texnansi) are equivalent 
| - Germans and probably others want to have access to multiple versions

Summary:

T1, LY1 (texnansi) and OT1 (LaTeX default) are differnt encodings
regarding German.

I don't know, how important LY1 is, if there is a significant importance,
then German users might want:

german loadhyph-de-1901-t1.tex
=german:T1
german:LY1 loadhyph-de-1901-ly1.tex
german:OT1 loadhyph-de-1901-ot1.tex
ngerman loadhyph-de-1996-t1.tex
=ngerman:T1
ngerman:LY1 loadhyph-de-1996-ly1.tex
ngerman:OT1 loadhyph-de-1996-ot1.tex

At least there should be an easy method to add
hyphenation support for LY1 or OT1.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From mojca.miklavec.lists at gmail.com  Wed Jul 16 21:48:36 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 16 Jul 2008 21:48:36 +0200
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <20080716181216.GA2890@irwin.vpn.uni-freiburg.de>
References: <8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
	<20080716160533.GA4268@irwin.wlan.privat>
	<87ej5tkbwd.fsf@vvv.org.vrn.ru>
	<20080716181216.GA2890@irwin.vpn.uni-freiburg.de>
Message-ID: <6faad9f00807161248l4e59f521jdd1bfdc7d14e666e@mail.gmail.com>

On Wed, Jul 16, 2008 at 8:12 PM, Heiko Oberdiek
<oberdiek at uni-freiburg.de> wrote:
> On Wed, Jul 16, 2008 at 08:54:26PM +0400, Vladimir Volovich wrote:
>
>> "HO" == Heiko Oberdiek writes:
>>
>>  HO> ngerman:T1 ...  =ngerman:texnansi
>>  >>
>>  HO> (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)
>>  >>
>>  >> Master/texmf-dist/tex/latex/ly1/ly1enc.def
>>
>>  HO> T1 and LY1 are equal regarding German umlauts, but differnt for the
>>  HO> sharp s:
>>
>> you said you were missing the "texnansienc.def". i replied that
>> "texnansienc.def" is "ly1enc.def"
>>
>> nowhere i mentioned T1.
>
> I was referring to
> | - for some languages several encodings (t1, texnansi) are equivalent
> | - Germans and probably others want to have access to multiple versions
>
> Summary:
>
> T1, LY1 (texnansi) and OT1 (LaTeX default) are differnt encodings
> regarding German.
>
> I don't know, how important LY1 is, if there is a significant importance,
> then German users might want:
>
> german loadhyph-de-1901-t1.tex
> =german:T1
> german:LY1 loadhyph-de-1901-ly1.tex
> german:OT1 loadhyph-de-1901-ot1.tex
> ngerman loadhyph-de-1996-t1.tex
> =ngerman:T1
> ngerman:LY1 loadhyph-de-1996-ly1.tex
> ngerman:OT1 loadhyph-de-1996-ot1.tex
>
> At least there should be an easy method to add
> hyphenation support for LY1 or OT1.

But you forgot at least

german loadhyph-de-1901-t1-x-2008-06-18.tex
=german:T1:2008-06-18
german:LY1 loadhyph-de-1901-ly1-x-2008-06-18.tex
german:OT1 loadhyph-de-1901-ot1-x-2008-06-18.tex
ngerman loadhyph-de-1996-t1-x-2008-06-18.tex
=ngerman:T1:2008-06-18
ngerman:LY1 loadhyph-de-1996-ly1-x-2008-06-18.tex
ngerman:OT1 loadhyph-de-1996-ot1-x-2008-06-18.tex
german loadhyph-de-1901-t1-x-2008-06-01.tex
=german:T1:2008-06-01
german:LY1 loadhyph-de-1901-ly1-x-2008-06-01.tex
german:OT1 loadhyph-de-1901-ot1-x-2008-06-01.tex
ngerman loadhyph-de-1996-t1-x-2008-06-01.tex
=ngerman:T1:2008-06-01
ngerman:LY1 loadhyph-de-1996-ly1-x-2008-06-01.tex
ngerman:OT1 loadhyph-de-1996-ot1-x-2008-06-01.tex

(and growing) and some 35 variants for Russian ...

Mojca

From wl at gnu.org  Wed Jul 16 21:39:23 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 16 Jul 2008 21:39:23 +0200 (CEST)
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080716123652.GA3041@irwin.wlan.privat>
References: <20080716.065527.155503068.wl@gnu.org>
	<487DD49F.9080109@elzevir.fr>
	<20080716123652.GA3041@irwin.wlan.privat>
Message-ID: <20080716.213923.63737473.wl@gnu.org>


> BTW, for some of the programs I also provide PDF files
> from the .web files, enhanced by hyperref
> in project latex-tds, module knuth:
>   doc/knuth/etc/vftovp.pdf (VF, TFM)
>   [...]

With other words: man pages should be last in the list of
documentation locations -- or perhaps better: Make it work like man,
this is, tell the user that more than a single fitting documentation
file has been found, and display them sequentially (or in parallel, if
possible).


    Werner

From wl at gnu.org  Wed Jul 16 21:45:30 2008
From: wl at gnu.org (Werner LEMBERG)
Date: Wed, 16 Jul 2008 21:45:30 +0200 (CEST)
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487DD49F.9080109@elzevir.fr>
References: <487C91CC.4030704@elzevir.fr>
	<20080716.065527.155503068.wl@gnu.org>
	<487DD49F.9080109@elzevir.fr>
Message-ID: <20080716.214530.134218422.wl@gnu.org>

> Actually, we decided to produce pdf forms of the man/info pages and
> ship them.

Please use the following groff sequence for generating the man pages
(see the groff_man manual page for details):

  groff -man -rS11 foo.1 > foo.ps

Option `-rS11' selects 11pt as the base document size, which is *much*
nicer than the default 10pt IMHO.  Another option is -rD1 to enable
double-sided printing, but this is a matter of taste.


    Werner

From oberdiek at uni-freiburg.de  Wed Jul 16 22:06:38 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 16 Jul 2008 22:06:38 +0200
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <8719b6240807160959x7e623287td77d45541f2a4891@mail.gmail.com>
References: <8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<6faad9f00807160548s23f4a3eelbf8aa2e4f70c31d1@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
	<20080716160533.GA4268@irwin.wlan.privat>
	<8719b6240807160959x7e623287td77d45541f2a4891@mail.gmail.com>
Message-ID: <20080716200637.GA5578@irwin.vpn.uni-freiburg.de>

On Wed, Jul 16, 2008 at 06:59:02PM +0200, Zdenek Wagner wrote:

> German hyphenation cannot work in OT1 because umlauts are produced by
> the \accent primitive.

Therefore patterns with 8bit positions doesn't apply.
But many words don't have umlauts. Also \ss works, it's position is 25.
Of course it makes more sense to use T1. *I* and some others know that.
Unhappily OT1 is the default in LaTeX. Thus I expect complains from people,
that use the default encoding and detect different hyphenation for their
existing texts because of the missing patterns with \ss.

> German users should use T1 instead of OT1

Therefore OT1 support don't need to be enabled by default IMHO
(of course the "compatibility" people will contradict),
but there should be an easy way to activate it and enable other
encodings (LY1, ...) as well.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Wed Jul 16 22:11:53 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Wed, 16 Jul 2008 22:11:53 +0200
Subject: [tex-live] xetex: broken pdf inclusion
Message-ID: <20080716201153.GA5631@irwin.vpn.uni-freiburg.de>

Hello,

the current XeTeX in TL2008 seems to be broken:

% test.tex:
\XeTeXpdffile "t.pdf"
\bye

| This is XeTeXk, Version 3.1415926-2.2-0.999.3 (Web2C 7.5.7)
| %&-line parsing enabled.
| entering extended mode
| (./test.tex
| ! Unable to load picture or PDF file 't.pdf'.
| <to be read again> 
|                    \par 
| \bye ->\par 
|             \vfill \supereject \end 
| l.2 \bye
|         
| ? h
| The requested image couldn't be read because 
| it was not a recognized image format.

The version of XeTeX in TL2007 works:

| This is XeTeXk, Version 3.141592-2.2-0.996 (Web2C 7.5.6)
|  %&-line parsing enabled.
| entering extended mode
| (./test.tex [1] )
| Output written on test.pdf (1 page).
| Transcript written on test.log.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From zdenek.wagner at gmail.com  Wed Jul 16 23:11:44 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Wed, 16 Jul 2008 23:11:44 +0200
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <20080716200637.GA5578@irwin.vpn.uni-freiburg.de>
References: <8719b6240807160521l33b20c3bg4a8a56f675622e34@mail.gmail.com>
	<8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
	<20080716160533.GA4268@irwin.wlan.privat>
	<8719b6240807160959x7e623287td77d45541f2a4891@mail.gmail.com>
	<20080716200637.GA5578@irwin.vpn.uni-freiburg.de>
Message-ID: <8719b6240807161411p1960cf5fp649c3acee61aa650@mail.gmail.com>

2008/7/16 Heiko Oberdiek <oberdiek at uni-freiburg.de>:
> On Wed, Jul 16, 2008 at 06:59:02PM +0200, Zdenek Wagner wrote:
>
>> German hyphenation cannot work in OT1 because umlauts are produced by
>> the \accent primitive.
>
> Therefore patterns with 8bit positions doesn't apply.
> But many words don't have umlauts. Also \ss works, it's position is 25.
> Of course it makes more sense to use T1. *I* and some others know that.
> Unhappily OT1 is the default in LaTeX. Thus I expect complains from people,

Yes, that's true.

> that use the default encoding and detect different hyphenation for their
> existing texts because of the missing patterns with \ss.
>
>> German users should use T1 instead of OT1
>
> Therefore OT1 support don't need to be enabled by default IMHO
> (of course the "compatibility" people will contradict),
> but there should be an easy way to activate it and enable other
> encodings (LY1, ...) as well.
>
Hyphenation in languages using accented languages does not work in OT1
and never did. It's the same for Czech and Slovak. LaTeX starts in OT1
and the user is supposed to select explicitely T1 or IL2, otherwise
hyphenation does not work.

> Yours sincerely
>  Heiko <oberdiek at uni-freiburg.de>
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From karl at freefriends.org  Wed Jul 16 23:41:43 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 16:41:43 -0500
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <20080716201153.GA5631@irwin.vpn.uni-freiburg.de>
Message-ID: <200807162141.m6GLfhP25772@f7.net>

    \XeTeXpdffile "t.pdf"

Sigh.  Must be something pretty basic ...
Jonathan, are you there, or are you offline for Cork now?


From oberdiek at uni-freiburg.de  Thu Jul 17 00:04:01 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 17 Jul 2008 00:04:01 +0200
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <6faad9f00807161248l4e59f521jdd1bfdc7d14e666e@mail.gmail.com>
References: <8719b6240807160601t763b3c66g65663c38a956fbae@mail.gmail.com>
	<6faad9f00807160617l4548042wd985edeed9d3134a@mail.gmail.com>
	<87fxqakl9f.fsf@vvv.org.vrn.ru>
	<6faad9f00807160649u5798a071v4aedcd9e66df72bd@mail.gmail.com>
	<20080716143241.GA2911@irwin.wlan.privat>
	<87abghlv9l.fsf@vvv.org.vrn.ru>
	<20080716160533.GA4268@irwin.wlan.privat>
	<87ej5tkbwd.fsf@vvv.org.vrn.ru>
	<20080716181216.GA2890@irwin.vpn.uni-freiburg.de>
	<6faad9f00807161248l4e59f521jdd1bfdc7d14e666e@mail.gmail.com>
Message-ID: <20080716220401.GA7594@irwin.vpn.uni-freiburg.de>

On Wed, Jul 16, 2008 at 09:48:36PM +0200, Mojca Miklavec wrote:

> german loadhyph-de-1901-t1-x-2008-06-18.tex
> =german:T1:2008-06-18

german-x-2008-06-18 loadhyph-de-1901-x-2008-06-18-t1.tex
=german-x-2008-06-18:T1

> german:LY1 loadhyph-de-1901-ly1-x-2008-06-18.tex

german-x-2008-06-18:LY1 loadhyph-de-1901-x-2008-06-18-ly1.tex

> german:OT1 loadhyph-de-1901-ot1-x-2008-06-18.tex

Unnecessary. ("Perlen vor die S?ue")
(If someone wants to have better hyphenation, he
should first switch to T1 encoding, then to better
patterns.)

> ngerman loadhyph-de-1996-t1-x-2008-06-18.tex
> =ngerman:T1:2008-06-18
> ngerman:LY1 loadhyph-de-1996-ly1-x-2008-06-18.tex
> ngerman:OT1 loadhyph-de-1996-ot1-x-2008-06-18.tex

ngerman, see above.

> german loadhyph-de-1901-t1-x-2008-06-01.tex
> =german:T1:2008-06-01
> german:LY1 loadhyph-de-1901-ly1-x-2008-06-01.tex
> german:OT1 loadhyph-de-1901-ot1-x-2008-06-01.tex
> ngerman loadhyph-de-1996-t1-x-2008-06-01.tex
> =ngerman:T1:2008-06-01
> ngerman:LY1 loadhyph-de-1996-ly1-x-2008-06-01.tex
> ngerman:OT1 loadhyph-de-1996-ot1-x-2008-06-01.tex

I don't think there is any need for the new patterns
in different versions for TL2008.

> (and growing) and some 35 variants for Russian ...

For Germans the number of variants could be limited
by using a superset version:

german loadhyph-de-1901-ot1-t1-ly1.tex

Example for patterns:
  6g5amt: 6g5amt (remains)
  ha8\ss: ha8\ss with \ss at slot 25 (OT1, LY1)
          and ha8\ss with \ss at slot 255 (T1)
  2h"o: 2h"o (remains with "o at slot 246 (T1, LY1), no OT1)
  f"a8\ss: twice for T1 and LY1 (no OT1)

This method is used for dehyph(t,n).tex (without the
last duplicate for LY1 when there are umlauts and \ss).

Pure German texts then works regardless of the used
encoding (OT1, T1, or LY1). This could cause problems for
foreign accented words. Though it is not impossible, I have
never seen such a problem in a newsgroup or mailing list.
However the user can configure his system by adding:

german:T1 loadhyph-de-1901-t1.tex
german:LY1 loadhyph-de-1901-ly1.tex
german:OT1 loadhyph-de-1901-ot1.tex

Same for ngerman.
Similar for Werner Lemberg's patterns (probably without OT1, see above).

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From karl at freefriends.org  Thu Jul 17 00:11:08 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 17:11:08 -0500
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <20080716181216.GA2890@irwin.vpn.uni-freiburg.de>
Message-ID: <200807162211.m6GMB8621650@f7.net>

I am extremely disinclined to do major reworking of the hyphenation
setup *again*, to take advantage of a brand-new babel feature.  I cannot
even guess at how many changes will be needed, but the answer is a lot
-- in the infrastructure, in the macros, in the packages, everywhere.
I estimate the release would be delayed for at least a month, probably more.
I don't want to do it.

Please, let's go with what we've got and take our time at working it out
properly later.

karl

From taco at elvenkind.com  Thu Jul 17 00:15:07 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 17 Jul 2008 00:15:07 +0200
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <200807162141.m6GLfhP25772@f7.net>
References: <200807162141.m6GLfhP25772@f7.net>
Message-ID: <487E72EB.4080107@elvenkind.com>

Karl Berry wrote:
>     \XeTeXpdffile "t.pdf"
> 
> Sigh.  Must be something pretty basic ...
> Jonathan, are you there, or are you offline for Cork now?

This is easy to diagnose, luckily. Everything else is broken
exactly *because* pdftex is fixed now.

Martin, this is the -DDISABLE_OUTLINE again, but now in reverse.

Do we really need that in pdftex? If not, the fix is simple: just
revert your change to the xpdf Makefile.in's and drop the -D from
ALL_CXXFLAGS also.

Best wishes,
Taco

From taco at elvenkind.com  Thu Jul 17 00:23:02 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 17 Jul 2008 00:23:02 +0200
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <487E72EB.4080107@elvenkind.com>
References: <200807162141.m6GLfhP25772@f7.net> <487E72EB.4080107@elvenkind.com>
Message-ID: <487E74C6.6050700@elvenkind.com>

Taco Hoekwater wrote:
> Karl Berry wrote:
>>     \XeTeXpdffile "t.pdf"
>>
>> Sigh.  Must be something pretty basic ...
>> Jonathan, are you there, or are you offline for Cork now?
> 
> This is easy to diagnose, luckily. Everything else is broken
> exactly *because* pdftex is fixed now.

To be honest, I did not really try this out, it is too late for that
now, I have to get to bed. But I do not see what else it could be.

> Martin, this is the -DDISABLE_OUTLINE again, but now in reverse.
> 
> Do we really need that in pdftex? 

Is it even safe to do this with e.g. a dynamic poppler link, btw?
Or is it because of that?

>                                   If not, the fix is simple: just
> revert your change to the xpdf Makefile.in's and drop the -D from
> ALL_CXXFLAGS also.

Or the other way around: luatex and xetex need a -DDISABLE_OUTLINE
then while compiling their glue to the xpdf library.

Best wishes,
Taco

From karl at freefriends.org  Thu Jul 17 00:34:10 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 17:34:10 -0500
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <20080716143241.GA2911@irwin.wlan.privat>
Message-ID: <200807162234.m6GMYAo03955@f7.net>

    (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)

Never heard of it before, so it's stretch to call it "missing" from TL.
Especially since all we do is copy from releases.  Where am I supposed
to get it?  

From karl at freefriends.org  Thu Jul 17 00:42:06 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 17:42:06 -0500
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <487E74C6.6050700@elvenkind.com>
Message-ID: <200807162242.m6GMg6u09698@f7.net>

    Is it even safe to do this with e.g. a dynamic poppler link, btw?
    Or is it because of that?

Distros that dynamically link against poppler (or whatever) are on their
own anyway and no doubt hack all these settings already.  Let's just
make our own binaries work ...

karl

From Robin.Fairbairns at cl.cam.ac.uk  Thu Jul 17 00:42:21 2008
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed, 16 Jul 2008 23:42:21 +0100
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: Your message of Wed, 16 Jul 2008 17:34:10 -0500.
	<200807162234.m6GMYAo03955@f7.net> 
Message-ID: <19440.1216248141@mole.cl.cam.ac.uk>

Karl Berry <karl at freefriends.org> wrote:

>     (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)
> 
> Never heard of it before, so it's stretch to call it "missing" from TL.
> Especially since all we do is copy from releases.  Where am I supposed
> to get it?  

you don't.  it was berthold's characterisation of the encoding he used
in y&y tex; what _we_ (latex people) call ly1.

robin

From martin at oneiros.de  Thu Jul 17 00:46:03 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 17 Jul 2008 00:46:03 +0200
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <487E74C6.6050700@elvenkind.com>
References: <200807162141.m6GLfhP25772@f7.net> <487E72EB.4080107@elvenkind.com>
	<487E74C6.6050700@elvenkind.com>
Message-ID: <68c491a60807161546n24c284c3ib1c77dc25b0e2e3@mail.gmail.com>

2008/7/17 Taco Hoekwater <taco at elvenkind.com>:
> Taco Hoekwater wrote:
> To be honest, I did not really try this out, it is too late for that
> now, I have to get to bed. But I do not see what else it could be.
>
>> Martin, this is the -DDISABLE_OUTLINE again, but now in reverse.
>>
>> Do we really need that in pdftex?
>
> Is it even safe to do this with e.g. a dynamic poppler link, btw?
> Or is it because of that?

No. Never though of that. And yes, it will show the same problems.

The only real problem is the (missing) private member outline in
PDFDoc.h, as it changes the size of a PDFDoc object.

This should fix it (and it also moves the member to the end of the
class to make error catching easier):
------------------------------
Index: PDFDoc.h
===================================================================
--- PDFDoc.h    (Revision 489)
+++ PDFDoc.h    (Arbeitskopie)
@@ -212,13 +212,13 @@
   double pdfVersion;
   XRef *xref;
   Catalog *catalog;
+  GBool ok;
+  int errCode;
 #ifndef DISABLE_OUTLINE
   Outline *outline;
+#else
+  void *dummy;
 #endif
-
-
-  GBool ok;
-  int errCode;
 };

 #endif
------------------------------
>>                                  If not, the fix is simple: just
>> revert your change to the xpdf Makefile.in's and drop the -D from
>> ALL_CXXFLAGS also.
>
> Or the other way around: luatex and xetex need a -DDISABLE_OUTLINE
> then while compiling their glue to the xpdf library.

Yes. But let's at least keep -DPDF_PARSER_ONLY, please.

Best
   Martin

From karl at freefriends.org  Thu Jul 17 00:48:14 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 17:48:14 -0500
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <68c491a60807161546n24c284c3ib1c77dc25b0e2e3@mail.gmail.com>
Message-ID: <200807162248.m6GMmEC14556@f7.net>

    > Or the other way around: luatex and xetex need a -DDISABLE_OUTLINE
    > then while compiling their glue to the xpdf library.

    Yes. But let's at least keep -DPDF_PARSER_ONLY, please.

Are you saying we need to change the Makefiles?  Or not?

From karl at freefriends.org  Thu Jul 17 00:50:32 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 17:50:32 -0500
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <19440.1216248141@mole.cl.cam.ac.uk>
Message-ID: <200807162250.m6GMoWQ16120@f7.net>

    you don't.  it was berthold's characterisation of the encoding he used
    in y&y tex; what _we_ (latex people) call ly1.

Sure, I know.  But obviously Heiko thinks we should have it.

What is not clear to me from the profusion of email is whether
ly1enc.def (which does exist) can be used as texnansienc.def, or if
something different is needed.  And yes, I know it is supposed to be two
names for the "same" thing, but so often someone somewhere expected
different glyph names or macro names or whatever, I'm not going to
assume I can just cp ly1enc.def texnansienc.def.

(And then there's texnansx ... oh never mind :)



From martin at oneiros.de  Thu Jul 17 00:51:03 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 17 Jul 2008 00:51:03 +0200
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <200807162248.m6GMmEC14556@f7.net>
References: <68c491a60807161546n24c284c3ib1c77dc25b0e2e3@mail.gmail.com>
	<200807162248.m6GMmEC14556@f7.net>
Message-ID: <68c491a60807161551o52c5b2a9lcd495ee058d46b6d@mail.gmail.com>

2008/7/17 Karl Berry <karl at freefriends.org>:
>    > Or the other way around: luatex and xetex need a -DDISABLE_OUTLINE
>    > then while compiling their glue to the xpdf library.
>
>    Yes. But let's at least keep -DPDF_PARSER_ONLY, please.
>
> Are you saying we need to change the Makefiles?  Or not?

With my fix you probably don't. Otherwise everyone must have the same
idea of DISABLE_OUTLINE (either everyone has it or nobody).

Best
   Martin

From mpg at elzevir.fr  Thu Jul 17 01:35:31 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 17 Jul 2008 01:35:31 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080716.213923.63737473.wl@gnu.org>
References: <20080716.065527.155503068.wl@gnu.org>	<487DD49F.9080109@elzevir.fr>	<20080716123652.GA3041@irwin.wlan.privat>
	<20080716.213923.63737473.wl@gnu.org>
Message-ID: <487E85C3.5000005@elzevir.fr>

Werner LEMBERG scripsit (16.07.2008 21:39)
>> BTW, for some of the programs I also provide PDF files
>> from the .web files, enhanced by hyperref
>> in project latex-tds, module knuth:
>>   doc/knuth/etc/vftovp.pdf (VF, TFM)
>>   [...]
> 
> With other words: man pages should be last in the list of
> documentation locations 

I disagree.  The priority of man pages vs others kind of docs should be
configurable by the user.  I doubt most users are really more interested in a
program's documented source code than in it's man page.  Unfortunately, I'm
afraid it will be hard without completely reworking the way texdoc looks for
the doc (although we could try fiddling with the TEXDOCS variable).  Which
means it will most probably not be done before release, but it will be done
some day.

Anyway, this kind of collision already happens with eg luatex or etex: when a
user types 'texdoc luatex' does she want to see luatexref-t.pdf (LuaTeX's
reference manual) or luatex.pdf (the luatex package reference)?  The man page
vs pdf from .web thing is just another instance of teh same problem.

In the future, I think we should implement a notion of "category" (eg:
packages, man pages, program reference manual, program documented source code,
etc.) and allow to set priority for categories, or ask for something in a
specific category.  We should also create a 'menu' mode for texdoc: display a
list of all relevant doc for the query and ask the user to choose which one to
view by just pressing a key.

What already exists in texdoc is the 'list' mode, triggered by the -l or
--list options: just make a (somehow arbitrary) list of documentation found,
do not start a viewer, and the 'search' mode (-s|--search) which gives a
somewhat more comprehensive list and allows to use Lua-style regexes as
patterns (since texdoc is in texlua).

The 'view' mode is the default, and for the problem we're talking about it's
the worse, but I like it since it allows very fast access to the
documentation.  But since recently, you can choose the default mode in your
texdoc.cnf file, eg
mode = search
if you prefer search mode.

Manuel.

From karl at freefriends.org  Thu Jul 17 01:47:17 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 18:47:17 -0500
Subject: [tex-live] Format generation error
In-Reply-To: <8719b6240807160435t40c81206of733055c9515f56c@mail.gmail.com>
Message-ID: <200807162347.m6GNlHx13264@f7.net>

    could be solved if the installation script put the TL2008 bin
    directory to the beginning of path for running fmtutil.

It appears to me this is already done (line 905 of install-tl).  Not
surprisingly, since it's hard to imagine how all the invocations of
updmap-sys, mktexlsr, etc., could have worked to date without that.

I don't know how the new binaries were finding the old .fmt's, sorry.
(I have been running TL'07 and '08 in parallel all along.)

karl

From karl at freefriends.org  Thu Jul 17 02:34:11 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 16 Jul 2008 19:34:11 -0500
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <68c491a60807161546n24c284c3ib1c77dc25b0e2e3@mail.gmail.com>
Message-ID: <200807170034.m6H0YB609451@f7.net>

    --- PDFDoc.h    (Revision 489)
    +++ PDFDoc.h    (Arbeitskopie)
    @@ -212,13 +212,13 @@
       double pdfVersion;
       XRef *xref;
       Catalog *catalog;
    +  GBool ok;
    +  int errCode;
     #ifndef DISABLE_OUTLINE
       Outline *outline;
    +#else
    +  void *dummy;
     #endif
    -
    -
    -  GBool ok;
    -  int errCode;
     };

     #endif

I installed this changed (r9615), and confirmed that pdfluatex, xetex,
*and* pdftex can still perform a simple pdf inclusion.  Thanks!

I guess I better let Thanh, and anyone else interested who isn't en
route to Ireland, try his tests before calling for another (failed)
rebuild ...

Thanks,
karl

From oberdiek at uni-freiburg.de  Thu Jul 17 06:20:04 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 17 Jul 2008 06:20:04 +0200
Subject: [tex-live] [tex-hyphen]  CZ/SK in babel for TL 08
In-Reply-To: <200807162234.m6GMYAo03955@f7.net>
References: <20080716143241.GA2911@irwin.wlan.privat>
	<200807162234.m6GMYAo03955@f7.net>
Message-ID: <20080717042004.GA9469@irwin.vpn.uni-freiburg.de>

On Wed, Jul 16, 2008 at 05:34:10PM -0500, Karl Berry wrote:

>     (But I don't know "texnansi", TL2008 is missing "texnansienc.def".)
> 
> Never heard of it before, so it's stretch to call it "missing" from TL.
> Especially since all we do is copy from releases.  Where am I supposed
> to get it?  

See the answer of Vladimir:

| Master/texmf-dist/tex/latex/ly1/ly1enc.def

"texnansi" should read "TeX 'n ANSI" and comes from the short
description text of LY1:

| \ProvidesFile{ly1enc.def}[1999/05/21 v0.6 TeX 'n ANSI encoding (DPC)]

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Thu Jul 17 06:23:03 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 17 Jul 2008 06:23:03 +0200
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <200807162250.m6GMoWQ16120@f7.net>
References: <19440.1216248141@mole.cl.cam.ac.uk>
	<200807162250.m6GMoWQ16120@f7.net>
Message-ID: <20080717042302.GB9469@irwin.vpn.uni-freiburg.de>

On Wed, Jul 16, 2008 at 05:50:32PM -0500, Karl Berry wrote:

>     you don't.  it was berthold's characterisation of the encoding he used
>     in y&y tex; what _we_ (latex people) call ly1.
> 
> Sure, I know.  But obviously Heiko thinks we should have it.

No, a simple misunderstanding, I only wasn't familiar with
"texnansi" used by one of the previous posters. Nothing is missing
in this respect.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Thu Jul 17 07:14:48 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 17 Jul 2008 07:14:48 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487E85C3.5000005@elzevir.fr>
References: <20080716.065527.155503068.wl@gnu.org>
	<487DD49F.9080109@elzevir.fr>
	<20080716123652.GA3041@irwin.wlan.privat>
	<20080716.213923.63737473.wl@gnu.org> <487E85C3.5000005@elzevir.fr>
Message-ID: <20080717051447.GA9729@irwin.vpn.uni-freiburg.de>

On Thu, Jul 17, 2008 at 01:35:31AM +0200, Manuel P?gouri?-Gonnard wrote:

> Werner LEMBERG scripsit (16.07.2008 21:39)
> >> BTW, for some of the programs I also provide PDF files
> >> from the .web files, enhanced by hyperref
> >> in project latex-tds, module knuth:
> >>   doc/knuth/etc/vftovp.pdf (VF, TFM)
> >>   [...]
> > 
> > With other words: man pages should be last in the list of
> > documentation locations 
> 
> I disagree.  The priority of man pages vs others kind of docs should be
> configurable by the user.  I doubt most users are really more interested in a
> program's documented source code than in it's man page.

It depends on the program, example:
* dvitype:
  "man dvitype" is quite worthless, it doesn't even explain command line
  options, that are shown by "dvitype --help".
  However the documented source code contains the description of the
  DVI format, much more interesting.

In short:
There is no way for "texdoc" to find out what is the "better"
documentation or what the user might want to have.

Thus at some time we should deal with multiple results
when calling "texdoc". The current strategy seems to be
"choice by random". Perhaps enough for TL2008 if time is pressing.

Current behaviour of texdoc
---------------------------
Zero documents:
  texdoc prints "Sorry, no documentation found for [...]"
One document:
  texdoc calls the configured viewer.
Two and more documents:
  texdoc randomly chooses the document (probably first found document).

Other ideas for two and more documents
--------------------------------------
a) texdoc prints a list of found documents.
b) texdoc prints a numbered list of found documents
   and there is an option, e.g. -n <num>, meaning
   that texdoc should select entry with number <num>, if texdoc
   finds <num> or more documents, otherwise the option is ignored.
   Thus the user can call texdoc again, this time with option -n selecting
   the document.
c) texdoc interacts with the user, textmode based.
d) texdoc interacts with the user via GUI.
e) texdoc presents a on the fly generated document (PDF, HTML)
   that shows the different documents with links and perhaps
   enriched with meta information.
f) The last point works well, if all documents share the same
   type, especially PDF or HTML, then the overview document is
   called by the right viewer already. Also the overview documents
   could be cached. Meta information in case of PDF could be
   extracted by pdfinfo, for instance.
g) texdoc calls the viewers for all documents (proposal of Werner,
   if I remember correctly).

Easy to implement seems to be a), b), and perhaps g)
The disadvantage of g) is the unknown behaviour of the viewers.
Some are only calling itself once and display one document only.
And the user might not want that texdoc could open lots of
viewers in many new windows.

c), especially d) would be the most comfortable way for the user.
However, implementation is more expensive, especially portability
isn't trivial.

Therefore my favourite is a combination of b) and f).
f) is triggered only if all found documents share the same
format PDF/HTML.

> Anyway, this kind of collision already happens with eg luatex or etex: when a
> user types 'texdoc luatex' does she want to see luatexref-t.pdf (LuaTeX's
> reference manual) or luatex.pdf (the luatex package reference)?  The man page
> vs pdf from .web thing is just another instance of teh same problem.

Yes.

> In the future, I think we should implement a notion of "category" (eg:
> packages, man pages, program reference manual, program documented source code,
> etc.) and allow to set priority for categories, or ask for something in a
> specific category.  We should also create a 'menu' mode for texdoc: display a
> list of all relevant doc for the query and ask the user to choose which one to
> view by just pressing a key.

Yes.

> What already exists in texdoc is the 'list' mode, triggered by the -l or
> --list options: just make a (somehow arbitrary) list of documentation found,
> do not start a viewer, and the 'search' mode (-s|--search) which gives a
> somewhat more comprehensive list and allows to use Lua-style regexes as
> patterns (since texdoc is in texlua).
> 
> The 'view' mode is the default, and for the problem we're talking about it's
> the worse, but I like it since it allows very fast access to the
> documentation.  But since recently, you can choose the default mode in your
> texdoc.cnf file, eg
> mode = search
> if you prefer search mode.

What about using view mode, if there is only one document and
using list mode, if there are two or more found documents?

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From hanthethanh at gmail.com  Thu Jul 17 09:11:25 2008
From: hanthethanh at gmail.com (Thanh Han The)
Date: Thu, 17 Jul 2008 09:11:25 +0200
Subject: [tex-live] xetex: broken pdf inclusion
Message-ID: <74f506dc0807170011i6be313c9k5cdc53ff21683c9e@mail.gmail.com>

On Thu, Jul 17, 2008 at 12:15:07AM +0200, Taco Hoekwater wrote:
> Karl Berry wrote:
> >    \XeTeXpdffile "t.pdf"
> >
> >Sigh.  Must be something pretty basic ...
> >Jonathan, are you there, or are you offline for Cork now?
>
> This is easy to diagnose, luckily. Everything else is broken
> exactly *because* pdftex is fixed now.
>
> Martin, this is the -DDISABLE_OUTLINE again, but now in reverse.
>
> Do we really need that in pdftex? If not, the fix is simple: just
> revert your change to the xpdf Makefile.in's and drop the -D from
> ALL_CXXFLAGS also.

perhaps Martin can explain why -DDISABLE_OUTLINE was added
to Makefile's (since version 1.40.6)?

Thanh

From martin at oneiros.de  Thu Jul 17 09:27:07 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 17 Jul 2008 09:27:07 +0200
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <74f506dc0807170011i6be313c9k5cdc53ff21683c9e@mail.gmail.com>
References: <74f506dc0807170011i6be313c9k5cdc53ff21683c9e@mail.gmail.com>
Message-ID: <68c491a60807170027m439281d3p16b45d07b8dd5f92@mail.gmail.com>

2008/7/17 Thanh Han The <hanthethanh at gmail.com>:
> perhaps Martin can explain why -DDISABLE_OUTLINE was added
> to Makefile's (since version 1.40.6)?

If you look at the XPDF code and my changes, you'll notice that
DISABLE_OUTLINE removes code not needed by pdfTeX. Less code, fewer
errors, smaller binary. :-)

Best
   Martin

From rainer.schoepf at proteosys.com  Thu Jul 17 10:09:31 2008
From: rainer.schoepf at proteosys.com (=?ISO-8859-15?Q?Rainer_Sch=F6pf?=)
Date: Thu, 17 Jul 2008 10:09:31 +0200 (CEST)
Subject: [tex-live] wsuipa compilefonts comments are not shell commands
In-Reply-To: <200807070051.m670pnb32385@f7.net>
References: <200807070051.m670pnb32385@f7.net>
Message-ID: <alpine.DEB.1.10.0807171009060.6658@bk-ng-05.proteosys>

On Sun, 6 Jul 2008, Karl Berry wrote:

 >     - texmf-dist/fonts/source/public/wsuipa/compilefonts
 >       this is a script that should be run, but it starts with the
 >       documentation without any comment markers, should be patched
 >       patch: http://svn.debian.org/wsvn/debian-tex/texlive-new/trunk/texlive-extra/debian/patches/10_wsuipa?op=file&rev=0&sc=0
 > 
 > Well, there is no actual reason to run it, these days, so I don't want
 > to take the time to track down Chet Creider (hmm, I used to know him)
 > and explain it all to him.  (I wonder if these wsuipa fonts are truly
 > free, BTW.  I see no notices anywhere.)
 > 
 > Here is a shorter patch.  CTAN, if you want to install this in
 > CTAN/fonts/wsuipa/mf/compilefonts, feel free.  If you don't, I don't
 > mind that either.  TL never runs it anyway and never will.

Done. Thanks.

 Rainer


For the CTAN Team
  Rainer Sch?pf

--
Please send messages to this mailing list in english only.
Please do not send software to this list, use the web upload form.

From hanthethanh at gmail.com  Thu Jul 17 10:56:26 2008
From: hanthethanh at gmail.com (Thanh Han The)
Date: Thu, 17 Jul 2008 10:56:26 +0200
Subject: [tex-live] xetex: broken pdf inclusion
Message-ID: <74f506dc0807170156q19cb979cx1b65c6dea39b5fb6@mail.gmail.com>

On Thu, Jul 17, 2008 at 09:27:07AM +0200, Martin Schroeder wrote:
> 2008/7/17 Thanh Han The <hanthethanh at gmail.com>:
> > perhaps Martin can explain why -DDISABLE_OUTLINE was added
> > to Makefile's (since version 1.40.6)?
>
> If you look at the XPDF code and my changes, you'll notice that
> DISABLE_OUTLINE removes code not needed by pdfTeX.

from the xpdf code, it seems that the intended purpose of
DISABLE_OUTLINE is not for optimization, but for compiling
the xpdf viewer on platform where outline support is not
possible. It is set internally by xpdf in XPDFViewer.h:

,--------
| #if (XmVERSION <= 1) && !defined(__sgi)
| #define DISABLE_OUTLINE
| #endif
`--------

apart from this place, it's not set anywhere else, including
the config stuff.


> Less code,

The number of excluded lines with DISABLE_OUTLINE defined is
very small (~200, which is about 0.3% of the total number of
lines of xpdf code). On the other side, this adds some
complexity on the pdftex side (and other programs).


> fewer errors,

quite the contrary: it has caused much headache for many of
us

> smaller binary. :-)

a quick comparison:

with -DDISABLE_OUTLINE:
,--------
| pdftex-not-stripped     3350867
| pdftex-stripped         1562112
`--------

without -DDISABLE_OUTLINE:
,--------
| pdftex-not-stripped     3370897     diff 20030 bytes = 0.6%
| pdftex-stripped         1567092     diff  4980 bytes = 0.3%
`--------

again, the gain in size is a tiny percentage.

As such, I vote for removing -DDISABLE_OUTLINE from Makefile's.
Any objection?


Thanh

From dak at gnu.org  Thu Jul 17 11:11:39 2008
From: dak at gnu.org (David Kastrup)
Date: Thu, 17 Jul 2008 11:11:39 +0200
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <68c491a60807170027m439281d3p16b45d07b8dd5f92@mail.gmail.com>
	("Martin =?iso-8859-1?Q?Schr=F6der=22's?= message of "Thu, 17 Jul 2008
	09:27:07 +0200")
References: <74f506dc0807170011i6be313c9k5cdc53ff21683c9e@mail.gmail.com>
	<68c491a60807170027m439281d3p16b45d07b8dd5f92@mail.gmail.com>
Message-ID: <86ej5sooxg.fsf@lola.quinscape.zz>

"Martin Schr?der" <martin at oneiros.de> writes:

> 2008/7/17 Thanh Han The <hanthethanh at gmail.com>:
>> perhaps Martin can explain why -DDISABLE_OUTLINE was added
>> to Makefile's (since version 1.40.6)?
>
> If you look at the XPDF code and my changes, you'll notice that
> DISABLE_OUTLINE removes code not needed by pdfTeX. Less code, fewer
> errors, smaller binary. :-)

Well, the "fewer errors" theory so far has not really been convincing
regarding the build process.  And errors in dead code paths are not
particularly troublesome.  I have my doubts that we'll be saving much in
binary size...  If there are significant savings, they will probably
occur because of smaller data structures.

What _might_ be a valid concern is if the dead code requires additional
dependencies or slows down the regular code paths because of unnecessary
checks and such.

Anyway, I don't consider it entirely unlikely that at some point of time
some TeX engine might offer features regarding whatever !DISABLE_OUTLINE
is about, and then the fun can start again...

Well, if that happens, we probably will know what's in the bush by then.
So there is probably no point in mixing up things again right now.

-- 
David Kastrup

From taco at elvenkind.com  Thu Jul 17 11:17:52 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 17 Jul 2008 11:17:52 +0200
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <74f506dc0807170156q19cb979cx1b65c6dea39b5fb6@mail.gmail.com>
References: <74f506dc0807170156q19cb979cx1b65c6dea39b5fb6@mail.gmail.com>
Message-ID: <487F0E40.6020805@elvenkind.com>



Thanh Han The wrote:
> 
>> smaller binary. :-)

Luatex and XeteX probably have more structure padding than the
total size gain :-)
(unstripped luatex is 9549024 bytes right now)

> As such, I vote for removing -DDISABLE_OUTLINE from Makefile's.

It definately didn't live up to the "fewer errors", but we probably
should not alter texlive yet again right now.

Best wishes,
Taco

From hanthethanh at gmail.com  Thu Jul 17 11:31:59 2008
From: hanthethanh at gmail.com (Thanh Han The)
Date: Thu, 17 Jul 2008 11:31:59 +0200
Subject: [tex-live] xetex: broken pdf inclusion
Message-ID: <74f506dc0807170231w3020256cpc250718a6eac716c@mail.gmail.com>

On Thu, Jul 17, 2008 at 11:17:52AM +0200, Taco Hoekwater wrote:
> Thanh Han The wrote:
> >As such, I vote for removing -DDISABLE_OUTLINE from Makefile's.
>
> It definately didn't live up to the "fewer errors", but we probably
> should not alter texlive yet again right now.

then let Karl decide on this for texlive. On my
side, I will remove that from pdftex-1.40.9.

Regards,
Thanh

From zdenek.wagner at gmail.com  Thu Jul 17 14:48:22 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 17 Jul 2008 14:48:22 +0200
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <20080717042302.GB9469@irwin.vpn.uni-freiburg.de>
References: <19440.1216248141@mole.cl.cam.ac.uk>
	<200807162250.m6GMoWQ16120@f7.net>
	<20080717042302.GB9469@irwin.vpn.uni-freiburg.de>
Message-ID: <8719b6240807170548r2b84574cw4e5d9c7703c39230@mail.gmail.com>

Hello,
CZ/SK hyphenation works both in xelatex and (pdf)latex in T1. I am
surprized that \showhyphens does not work in xelatex but in a real
text the words are hyphenated correctly.
-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From vvv at vsu.ru  Thu Jul 17 15:37:29 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu, 17 Jul 2008 17:37:29 +0400
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <8719b6240807170548r2b84574cw4e5d9c7703c39230@mail.gmail.com>
	(Zdenek Wagner's message of "Thu, 17 Jul 2008 14:48:22 +0200")
References: <19440.1216248141@mole.cl.cam.ac.uk>
	<200807162250.m6GMoWQ16120@f7.net>
	<20080717042302.GB9469@irwin.vpn.uni-freiburg.de>
	<8719b6240807170548r2b84574cw4e5d9c7703c39230@mail.gmail.com>
Message-ID: <87k5fkiqcm.fsf@vvv.org.vrn.ru>

"ZW" == Zdenek Wagner writes:

 ZW> CZ/SK hyphenation works both in xelatex and (pdf)latex in T1. I am
 ZW> surprized that \showhyphens does not work in xelatex but in a real
 ZW> text the words are hyphenated correctly.

xetex needs a redefined \showhyphens, you need to \usepackage{xltxtra}
to get the working \showhyphens in xetex.

Best,
v.

From mpg at elzevir.fr  Thu Jul 17 17:48:08 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 17 Jul 2008 17:48:08 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <20080717051447.GA9729@irwin.vpn.uni-freiburg.de>
References: <20080716.065527.155503068.wl@gnu.org>	<487DD49F.9080109@elzevir.fr>	<20080716123652.GA3041@irwin.wlan.privat>	<20080716.213923.63737473.wl@gnu.org>
	<487E85C3.5000005@elzevir.fr>
	<20080717051447.GA9729@irwin.vpn.uni-freiburg.de>
Message-ID: <487F69B8.2070701@elzevir.fr>

Heiko Oberdiek scripsit (17.07.2008 07:14)
> In short:
> There is no way for "texdoc" to find out what is the "better"
> documentation or what the user might want to have.
> 
Agreed.  But in some circumstances (looking for the user manual of a LaTeX
package) the notion of "better" is quite clear (at least in most cases).  So
ideally it should be possible for the user to specify what kind of doc he's
looking for on the command line and have texdoc find and display it (I really
like the find-and-display-on-the-fly mode since it allows very fast access to
the doc).

But for that, we need user (or most probably, developer) input in order to tag
the docs.  There's already kind of such tags in the Catalogue, but texdoc
don't use it atm.  We (TL team) could add such tags manually while
importing/updating packages from the CTAN.  Anyway, I'd like to try this kind
of things, but obviously post-release.

> Thus at some time we should deal with multiple results
> when calling "texdoc". The current strategy seems to be
> "choice by random". Perhaps enough for TL2008 if time is pressing.
> 
Mostly agreed, but not entirely random.  Currently 'texdoc name' begins with
something like

kpsewhich --format="TeX system documentation" name.{,pdf,html,txt,dvi,ps}

(in texlua, but you get the idea).  So there's an order on the file
extensions, that the user can configure.  The value of the TEXDOCS variable in
texmf.cnf is also such that TEXMF/doc/man is searched first and
texmf-doc/doc/english is searched before the rest of texmf-doc/doc/.

Admittedly, this is no very better than random, but hey, we're what we can
before release...

> Current behaviour of texdoc
> ---------------------------
> Zero documents:
>   texdoc prints "Sorry, no documentation found for [...]"
> One document:
>   texdoc calls the configured viewer.
> Two and more documents:
>   texdoc randomly chooses the document (probably first found document).
> 
Yes.  By the way, texdoc has got two search modes:  the first is what I
described above, the second is what the -s option does: matching 'name' as a
Lua regex against the full paths of files, and diplay files who match and have
the desired extension.  I just tought it could use this second mode as a
fallback even in view mode when it finds no results with the first mode.

> Other ideas for two and more documents
> c) texdoc interacts with the user, textmode based.

That's what I was thinking of when I spoke of a 'menu' mode.

> d) texdoc interacts with the user via GUI.

Anyway, it would be good to have both a command-line texdoc and a nice GUI
frontend, since lots of users are afraid of the command line (but needless to
say here, lots of users prefer the command line too).

> e) texdoc presents a on the fly generated document (PDF, HTML)
>    that shows the different documents with links and perhaps
>    enriched with meta information.

By the way, that's more or less what mthelp (the MikTeX homologue of texdoc)
does: generate and display a html page with, as far as I can see, the results
of a search similar to texdoc -s.  I don't like this for my own use since it's
slow (or maybe I should use a text-based html browser), but maybe others like it.

> The disadvantage of g) is the unknown behaviour of the viewers.
> Some are only calling itself once and display one document only.
> And the user might not want that texdoc could open lots of
> viewers in many new windows.
> 
Agreed.

> c), especially d) would be the most comfortable way for the user.
> However, implementation is more expensive, especially portability
> isn't trivial.
> 
Agreed too. Concerning portability, if we use perl/tk for the GUI and texlua
for the textmode, it should be ok (perl/tk is already used by the gui versions
 of the installer and tlmgr).

> Therefore my favourite is a combination of b) and f).
> f) is triggered only if all found documents share the same
> format PDF/HTML.
> 
In an ideal world, all packages would have a pdf documentation, and f would be
great.  Unfortunately, we're not in this kind of world...

> What about using view mode, if there is only one document and
> using list mode, if there are two or more found documents?
> 
It's a good idea.  But I'm hesitating.  From my own use of texdoc, I'm really
inclined to prefer the view mode, but maybe I'm biased.

Thanks for your remarks,
Manuel.


From jonathan_kew at sil.org  Thu Jul 17 19:01:58 2008
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Thu, 17 Jul 2008 18:01:58 +0100
Subject: [tex-live] [tex-hyphen] CZ/SK in babel for TL 08
In-Reply-To: <87k5fkiqcm.fsf@vvv.org.vrn.ru>
References: <19440.1216248141@mole.cl.cam.ac.uk>
	<200807162250.m6GMoWQ16120@f7.net>
	<20080717042302.GB9469@irwin.vpn.uni-freiburg.de>
	<8719b6240807170548r2b84574cw4e5d9c7703c39230@mail.gmail.com>
	<87k5fkiqcm.fsf@vvv.org.vrn.ru>
Message-ID: <9FF065ED-B5C0-445D-BC80-032EADB081AD@sil.org>

On 17 Jul 2008, at 2:37 PM, Vladimir Volovich wrote:

> "ZW" == Zdenek Wagner writes:
>
> ZW> CZ/SK hyphenation works both in xelatex and (pdf)latex in T1. I am
> ZW> surprized that \showhyphens does not work in xelatex but in a real
> ZW> text the words are hyphenated correctly.
>
> xetex needs a redefined \showhyphens, you need to \usepackage{xltxtra}
> to get the working \showhyphens in xetex.

Right. To be more precise, this is true if using Unicode/OpenType  
fonts. The \showhyphens from plain.tex will of course work the same as  
always when using TFMs.

JK


From karl at freefriends.org  Thu Jul 17 20:01:33 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Jul 2008 13:01:33 -0500
Subject: [tex-live] xetex: broken pdf inclusion
In-Reply-To: <74f506dc0807170231w3020256cpc250718a6eac716c@mail.gmail.com>
Message-ID: <200807171801.m6HI1XM18426@f7.net>

    then let Karl decide on this for texlive. On my
    side, I will remove that from pdftex-1.40.9.

It doesn't seem like a good idea to have two different versions of
1.40.9, so I have removed the -DDISABLE_OUTLINE from 
libs/xpdf/goo/Makefile.in
libs/xpdf/xpdf/Makefile.in
texk/web2c/pdftexdir/Makefile.in

If it occurs anywhere else, please tell me right away.

Rebuilding now.  If it works for me, I'll let the others have it again I
guess ...

karl

From gnwiii at gmail.com  Thu Jul 17 20:08:03 2008
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 17 Jul 2008 15:08:03 -0300
Subject: [tex-live] Format generation error
In-Reply-To: <8719b6240807160435t40c81206of733055c9515f56c@mail.gmail.com>
References: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
	<68c491a60807160405u58b1a909y6627093967a8222d@mail.gmail.com>
	<8719b6240807160435t40c81206of733055c9515f56c@mail.gmail.com>
Message-ID: <22af238a0807171108s7f81f7cj6fa101445e0ba83e@mail.gmail.com>

2008/7/16 Zdenek Wagner <zdenek.wagner at gmail.com>:

> 2008/7/16 Martin Schr?der <martin at oneiros.de>:
>> 2008/7/16 Zdenek Wagner <zdenek.wagner at gmail.com>:
>>> It seems that automatic format generation during installation took
>>> pool files from TL2007. Xelatex used correct pool file (or they have
>>
>> If you upgrade to TL2008, you can safely delete all pool files, as
>> they are not integrated into the binaries.
>>
> I do not want to upgrade until I am sure that everything works. Now
> after recreating the fmt files I can process the files both by TL2007
> and TL2008 depending on the PATH setting. I think that the problem
> could be solved if the installation script put the TL2008 bin
> directory to the beginning of path for running fmtutil.

I doubt the path setting is the problem -- I have installed TL2008
on systems with vendor-supplied TL2007.  The key point is that
the install runs fmtutil-sys so drops the .fmt files into the main tree.
Unless you ran fmtutil with the '-sys' you should not get formats in
the ~/.texlive2008 directory.

Is it possible you had an old .fmt from a previous test of TL2008?

It might be helpful if fmtutil could warn users when the XXtex program
does not come from the expected location, but vendors want to put
programs in /usr/bin, so I don't know how this could be done without
creating too much confusion.


-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From oberdiek at uni-freiburg.de  Thu Jul 17 20:10:46 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 17 Jul 2008 20:10:46 +0200
Subject: [tex-live] texdoc doesn't find man pages
In-Reply-To: <487F69B8.2070701@elzevir.fr>
References: <20080716.065527.155503068.wl@gnu.org>
	<487DD49F.9080109@elzevir.fr>
	<20080716123652.GA3041@irwin.wlan.privat>
	<20080716.213923.63737473.wl@gnu.org> <487E85C3.5000005@elzevir.fr>
	<20080717051447.GA9729@irwin.vpn.uni-freiburg.de>
	<487F69B8.2070701@elzevir.fr>
Message-ID: <20080717181045.GA3056@irwin.vpn.uni-freiburg.de>

On Thu, Jul 17, 2008 at 05:48:08PM +0200, Manuel P?gouri?-Gonnard wrote:

> Heiko Oberdiek scripsit (17.07.2008 07:14)
> 
> > Current behaviour of texdoc
> > ---------------------------
> > Zero documents:
> >   texdoc prints "Sorry, no documentation found for [...]"
> > One document:
> >   texdoc calls the configured viewer.
> > Two and more documents:
> >   texdoc randomly chooses the document (probably first found document).
> > 
> Yes.  By the way, texdoc has got two search modes:  the first is what I
> described above, the second is what the -s option does: matching 'name' as a
> Lua regex against the full paths of files, and diplay files who match and have
> the desired extension.  I just tought it could use this second mode as a
> fallback even in view mode when it finds no results with the first mode.

Good idea.

> Anyway, it would be good to have both a command-line texdoc and a nice GUI
> frontend, since lots of users are afraid of the command line (but needless to
> say here, lots of users prefer the command line too).

Agreed.

> > What about using view mode, if there is only one document and
> > using list mode, if there are two or more found documents?
> > 
> It's a good idea.  But I'm hesitating.  From my own use of texdoc, I'm really
> inclined to prefer the view mode, but maybe I'm biased.

It could be combined with your idea to a new extended view mode:
* Zero documents found --> return result of "texdoc -s"
* One document found   --> view document (traditional view mode)
* More documents found --> return result of "texdoc -l"

The default mode "view", "extended view", ... could be configured
in texmf.cnf.

> Thanks for your remarks,

Thanks for your long informative answer.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From karl at freefriends.org  Thu Jul 17 20:51:16 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Jul 2008 13:51:16 -0500
Subject: [tex-live] pdflualatex pdf inclusion failure
Message-ID: <200807171851.m6HIpGN17860@f7.net>

Now it is pdflualatex that is once again crashing on a trivial pdf
inclusion (file below).  Plain aka pdfluatex is ok, as are all the other
engines in this latest round.  

This pdflualatex seg fault doesn't seem to be related to the
-DDISABLE_OUTLINE change.  I wonder if it is related to the structure
change.  Guess I will try reverting that.

Sigh.

karl

\documentclass{article}
\usepackage{graphicx}
\begin{document}
\includegraphics{story}
\end{document}

From taco at elvenkind.com  Thu Jul 17 22:04:52 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 17 Jul 2008 22:04:52 +0200
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <200807171851.m6HIpGN17860@f7.net>
References: <200807171851.m6HIpGN17860@f7.net>
Message-ID: <487FA5E4.5020304@elvenkind.com>

Karl Berry wrote:
> Now it is pdflualatex that is once again crashing on a trivial pdf
> inclusion (file below).  Plain aka pdfluatex is ok, as are all the other
> engines in this latest round.  
> 
> This pdflualatex seg fault doesn't seem to be related to the
> -DDISABLE_OUTLINE change.  I wonder if it is related to the structure
> change.  Guess I will try reverting that.

It should be, nothing else is changed (i have definately not touched the
luatex code). If you can't get it to work, I can help tomorrow morning
local time.

Good luck,
Taco

From karl at freefriends.org  Thu Jul 17 22:44:30 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Jul 2008 15:44:30 -0500
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <alpine.DEB.1.00.0807172233030.14107@hahepc1.hahe>
Message-ID: <200807172044.m6HKiUw16905@f7.net>

    i don't even get the pdfluatex and pdflualatex links in the bin
    directory with a fresh install.

A fresh install from what?  It depends on what
schemes/collections/packages you chose.

Or are you talking about a build?  That depends on the fmtutil.cnf in
the Build dir and whether the run-texlinks target got run, as the
top-level world target does.  Ie, lots of variables.

Anyway, this is a completely different issue (and one I'm not worried
about).

k

P.S. Update: the pdflualatex crash only happens when I run under make.
Doesn't happen from cmdline or under gdb.  And the environment is not
the culprit.  Argh.

From hartmut_henkel at gmx.de  Thu Jul 17 22:51:06 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu, 17 Jul 2008 22:51:06 +0200 (CEST)
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <200807172044.m6HKiUw16905@f7.net>
References: <200807172044.m6HKiUw16905@f7.net>
Message-ID: <alpine.DEB.1.00.0807172247200.14570@hahepc1.hahe>

On Thu, 17 Jul 2008, Karl Berry wrote:

>     i don't even get the pdfluatex and pdflualatex links in the bin
>     directory with a fresh install.
>
> A fresh install from what?  It depends on what
> schemes/collections/packages you chose.

just ./install-tl within the current svn tex-live/trunk/Master
directory, with install "I" into /usr/local/texlive/2008/ directory.

> Anyway, this is a completely different issue (and one I'm not worried
> about).

right, sorry, i was just wondering where the links are, made them by
hand.

> P.S. Update: the pdflualatex crash only happens when I run under make.
> Doesn't happen from cmdline or under gdb.

and it runs through ok in valgrind (but shows errors).

Regards, Hartmut

From karl at freefriends.org  Thu Jul 17 23:05:23 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Jul 2008 16:05:23 -0500
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <alpine.DEB.1.00.0807172247200.14570@hahepc1.hahe>
Message-ID: <200807172105.m6HL5Nj30008@f7.net>

    just ./install-tl within the current svn tex-live/trunk/Master
    directory, with install "I" into /usr/local/texlive/2008/ directory.

On x86_64-linux, I'm guessing.  Indeed, those symlinks are not present
in that bin dir.  Probably some missynchronization of fmtutil.cnf at the
time the binaries were built.  It'll get fixed with the final builds.

    and it runs through ok in valgrind (but shows errors).

"Runs ok but shows errors"?  Aren't those contradictory?
Anyway, what errors?  Backtrace from the core shows a crash in sscanf in
luatexdir/utils.c:1550, ie,
 if (sscanf((const char *) &str_pool[in], " %lf %lf %lf %lf "

Apparently because `in' is a too-large number (198758976)
which in turn is because that is the value of str_start[2103247].
str_start[2103246] is ok (== 3), so I guess we've fallen off the end of
the pool (into the deep end :).

I don't think this is related to the DISABLE_OUTLINE or struct changes.



From hartmut_henkel at gmx.de  Thu Jul 17 22:33:56 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu, 17 Jul 2008 22:33:56 +0200 (CEST)
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <200807171851.m6HIpGN17860@f7.net>
References: <200807171851.m6HIpGN17860@f7.net>
Message-ID: <alpine.DEB.1.00.0807172233030.14107@hahepc1.hahe>

On Thu, 17 Jul 2008, Karl Berry wrote:

> Now it is pdflualatex that is once again crashing on a trivial pdf
> inclusion (file below).  Plain aka pdfluatex is ok, as are all the other
> engines in this latest round.
>
> This pdflualatex seg fault doesn't seem to be related to the
> -DDISABLE_OUTLINE change.  I wonder if it is related to the structure
> change.  Guess I will try reverting that.

i don't even get the pdfluatex and pdflualatex links in the bin
directory with a fresh install.

Regards, Hartmut

From taco at elvenkind.com  Thu Jul 17 23:37:59 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 17 Jul 2008 23:37:59 +0200
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <200807172105.m6HL5Nj30008@f7.net>
References: <200807172105.m6HL5Nj30008@f7.net>
Message-ID: <487FBBB7.5030203@elvenkind.com>

Karl Berry wrote:
>     just ./install-tl within the current svn tex-live/trunk/Master
>     directory, with install "I" into /usr/local/texlive/2008/ directory.
> 
> On x86_64-linux, I'm guessing.  Indeed, those symlinks are not present
> in that bin dir.  Probably some missynchronization of fmtutil.cnf at the
> time the binaries were built.  It'll get fixed with the final builds.
> 
>     and it runs through ok in valgrind (but shows errors).
> 
> "Runs ok but shows errors"?  Aren't those contradictory?
> Anyway, what errors?  Backtrace from the core shows a crash in sscanf in
> luatexdir/utils.c:1550, ie,
>  if (sscanf((const char *) &str_pool[in], " %lf %lf %lf %lf "
> 
> Apparently because `in' is a too-large number (198758976)
> which in turn is because that is the value of str_start[2103247].
> str_start[2103246] is ok (== 3), so I guess we've fallen off the end of
> the pool (into the deep end :).
> 
> I don't think this is related to the DISABLE_OUTLINE or struct changes.

No, it isn't. I just assumed it would be because I had the impression
that this file had worked already (It can't have, it is a bug that 
persists even in current TRUNK). I will do a few tests and then upload
a new version in about 10-15 minutes.

Best wishes and sorry for all the hassle,
Taco






From taco at elvenkind.com  Thu Jul 17 23:48:11 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 17 Jul 2008 23:48:11 +0200
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <487FBBB7.5030203@elvenkind.com>
References: <200807172105.m6HL5Nj30008@f7.net> <487FBBB7.5030203@elvenkind.com>
Message-ID: <487FBE1B.5060002@elvenkind.com>

Taco Hoekwater wrote:
> 
> No, it isn't. I just assumed it would be because I had the impression
> that this file had worked already (It can't have, it is a bug that 
> persists even in current TRUNK). I will do a few tests and then upload
> a new version in about 10-15 minutes.

Done. #9640 has a two-line correction to luatex.web for this problem
and another one just like it. The actual bug was in \pdfsetmatrix, and
therefore only indirectly connected to image inclusion.

I cannot test the actual latex file here, but I had a plain tex file
that exhibited the same bug and that one now runs ok, so I will happily
assume that all is well now (I can hope, non?).

Best wishes,
Taco



From karl at freefriends.org  Thu Jul 17 23:51:55 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Jul 2008 16:51:55 -0500
Subject: [tex-live] pdflualatex pdf inclusion failure
In-Reply-To: <487FBE1B.5060002@elvenkind.com>
Message-ID: <200807172151.m6HLptQ32289@f7.net>

    Done. #9640 has a two-line correction to luatex.web for this problem

It works!!

Redoing my full i386-linux build once more ...

Thank you thank you thank you.  Now get some sleep :).

k

From karl at freefriends.org  Fri Jul 18 00:50:31 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 17 Jul 2008 17:50:31 -0500
Subject: [tex-live] final dispositions and pdfdoc.h
Message-ID: <200807172250.m6HMoVp00530@f7.net>

For the record, I did *not* revert the change to PDFDoc.h.  It remains
with Martin's last patch.

I've checked in new (final??) i386-linux binaries and requested rebuilds
for the other systems.

After today, I'll be offline for a few days.  Back online Tuesday.
So if everything goes sour, I'll be blissfully ignorant until then :).

karl

From reinhard.kotucha at web.de  Fri Jul 18 02:14:37 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 18 Jul 2008 02:14:37 +0200
Subject: [tex-live] Format generation error
In-Reply-To: <8719b6240807160435t40c81206of733055c9515f56c@mail.gmail.com>
References: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
	<68c491a60807160405u58b1a909y6627093967a8222d@mail.gmail.com>
	<8719b6240807160435t40c81206of733055c9515f56c@mail.gmail.com>
Message-ID: <18559.57453.668302.358732@zaphod.ms25.net>

Zdenek Wagner writes:

 > I do not want to upgrade until I am sure that everything works.

On Unix systems you can always install TeX Live 2008 without breaking
anything.  Even if you install it to the same directory where you
installed TL-2007, it's safe.

Instead of 

  /usr/local/texlive/2007
  /usr/local/texlive/texmf-local

you should get

  /usr/local/texlive/2007
  /usr/local/texlive/2008
  /usr/local/texlive/texmf-local

And which version you actually want to use depends on the $PATH settings.

On Windows you have to de-install TL-2007 in order to get rid of the
TEXMFCNF entry in the registry.

There is absolutely no reason not to upgrade.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From zdenek.wagner at gmail.com  Fri Jul 18 10:28:38 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 18 Jul 2008 10:28:38 +0200
Subject: [tex-live] Format generation error
In-Reply-To: <18559.57453.668302.358732@zaphod.ms25.net>
References: <8719b6240807160341u68666c66j1130e1a86b159b03@mail.gmail.com>
	<68c491a60807160405u58b1a909y6627093967a8222d@mail.gmail.com>
	<8719b6240807160435t40c81206of733055c9515f56c@mail.gmail.com>
	<18559.57453.668302.358732@zaphod.ms25.net>
Message-ID: <8719b6240807180128h86f0f61x3aac76f0f7815077@mail.gmail.com>

2008/7/18 Reinhard Kotucha <reinhard.kotucha at web.de>:
> Zdenek Wagner writes:
>
>  > I do not want to upgrade until I am sure that everything works.
>
> On Unix systems you can always install TeX Live 2008 without breaking

I know, even in OS/2 it is possible, I only complained that the
formats were not generated during installation if PATH pointed to
TL2007.

> anything.  Even if you install it to the same directory where you
> installed TL-2007, it's safe.
>
> Instead of
>
>  /usr/local/texlive/2007
>  /usr/local/texlive/texmf-local
>
> you should get
>
>  /usr/local/texlive/2007
>  /usr/local/texlive/2008
>  /usr/local/texlive/texmf-local
>
> And which version you actually want to use depends on the $PATH settings.
>
> On Windows you have to de-install TL-2007 in order to get rid of the
> TEXMFCNF entry in the registry.
>
> There is absolutely no reason not to upgrade.
>
It is, e.g. newer version of hyperref breaks something in
devanagari.sty while in TL2005 it worked. I had no time to examine it
and the broken feature is rarely needed. Maybe I am the only person
who had the problem.

> Regards,
>  Reinhard
>
> --
> ----------------------------------------------------------------------------
> Reinhard Kotucha                                      Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                              mailto:reinhard.kotucha at web.de
> ----------------------------------------------------------------------------
> Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
> ----------------------------------------------------------------------------
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From rainer.schoepf at proteosys.com  Fri Jul 18 11:27:53 2008
From: rainer.schoepf at proteosys.com (=?ISO-8859-15?Q?Rainer_Sch=F6pf?=)
Date: Fri, 18 Jul 2008 11:27:53 +0200 (CEST)
Subject: [tex-live] arabicore.sty vs. Arabicore.sty
In-Reply-To: <200807061849.m66Inwe20965@f7.net>
References: <200807061849.m66Inwe20965@f7.net>
Message-ID: <alpine.DEB.1.10.0807181127180.6658@bk-ng-05.proteosys>

On Sun, 6 Jul 2008, Karl Berry wrote:

 > A month+ ago, Norbert wrote:
 > 
 >     - texmf-dist/tex/latex/arabi/arabic.ldf
 >       does: \InputIfFileExists{Arabicore.sty}{% ...
 >       but there is only a file arabicore.sty (a <-> A)
 > 
 > I made the minimal change (appended) to
 > texmf-dist/tex/latex/arabi/arabic.ldf in TeX Live.
 > 
 > CTAN, will you consider updating
 > language/arabic/arabi/arabi/texmf/latex/arabi/arabic.ldf please?

Done. I made a slightly larger change, replacing the uppercase A in the error 
messages as well.

 Rainer

From firmicus at ankabut.net  Fri Jul 18 16:45:19 2008
From: firmicus at ankabut.net (=?ISO-8859-15?Q?Fran=E7ois_Charette?=)
Date: Fri, 18 Jul 2008 16:45:19 +0200
Subject: [tex-live] Minor things
Message-ID: <4880AC7F.1070102@ankabut.net>

Hi Karl and others,

First: I have updated polyglossia.pdf on CTAN due to an ugly typo in the 
title, but since I marked "no need to announced this" I fear this change 
will not propagate to TeXLive. Could you please commit the change?
You only need to update polyglossia.pdf and polyglossia.dtx; the rest is 
unchanged. Thanks!

Other little things:

I noticed that tlpkg/TLPDB.pm should be changed at line 60:

- use TeXLive::TLUtils qw(dirname mkdirhier member win32 info debug ddebug);
+use TeXLive::TLUtils qw(dirname mkdirhier member win32 info debug 
ddebug tlwarn);

because the function tlwarn is used at some places. (I emailed Norbert 
directly, but since he is away, I thought someone else could commit the 
change now).

One more thing:

gfsporson and gfsbaskerville are in collection-langgreek, but 
gfsartemisia, gfsbodoni, gfscomplutum, gfsdidot, gfsneohellenic and 
gfssolomos are in collection-fontsextra. Shouldn't they all be in 
collection-langgreek?

Also, for gfsbaskerville, the line
    execute addMap gfsbaskerville.map
is missing!

Regards,
Fran?ois



From yjabri at ensa.univ-oujda.ac.ma  Fri Jul 18 21:49:25 2008
From: yjabri at ensa.univ-oujda.ac.ma (Youssef Jabri)
Date: Fri, 18 Jul 2008 20:49:25 +0100
Subject: [tex-live] arabicore.sty vs. Arabicore.sty
In-Reply-To: <alpine.DEB.1.10.0807181127180.6658@bk-ng-05.proteosys>
References: <200807061849.m66Inwe20965@f7.net>
	<alpine.DEB.1.10.0807181127180.6658@bk-ng-05.proteosys>
Message-ID: <D82F967E-6509-4D66-B898-06060D53AF96@ensa.univ-oujda.ac.ma>


Le 18 juil. 08 ? 10:27, Rainer Sch?pf a ?crit :

> On Sun, 6 Jul 2008, Karl Berry wrote:
>
>> A month+ ago, Norbert wrote:
>>
>>    - texmf-dist/tex/latex/arabi/arabic.ldf
>>      does: \InputIfFileExists{Arabicore.sty}{% ...
>>      but there is only a file arabicore.sty (a <-> A)
>>
>> I made the minimal change (appended) to
>> texmf-dist/tex/latex/arabi/arabic.ldf in TeX Live.
>>
>> CTAN, will you consider updating
>> language/arabic/arabi/arabi/texmf/latex/arabi/arabic.ldf please?
>
> Done. I made a slightly larger change, replacing the uppercase A in  
> the error
> messages as well.
>
> Rainer


Thanks.

Youssef

From skip.collins at gmail.com  Sat Jul 19 00:35:01 2008
From: skip.collins at gmail.com (Skip Collins)
Date: Fri, 18 Jul 2008 18:35:01 -0400
Subject: [tex-live] aifont
Message-ID: <f03b6a440807181535x4463f734ya51e39eac7bacfae@mail.gmail.com>

About 9 or 10 years ago I put together a collection of virtual fonts
that were intended to work around some problems that showed up when
editing TeX postscript and pdf output in drawing packages such as
Adobe Illustrator and CorelDraw. At that time CM/AMS Type 1 fonts
caused problems in these programs because of their odd encodings. I
distributed this package with the name aifont, the 'ai' part referring
to Adobe Illustrator. These files are included in the TeX Live
texmf-dist tree.

Recently I was asked to update the package to to support the new
version of the CM/AMS fonts that are being produced by the AMS with
unicode glyph names. I don't use Illustrator these days, so I
downloaded a trial version to see whether the problems I encountered a
decade ago are still present in modern versions of the vector drawing
program. It turns out that Adobe Illustrator CS3 running in Windows XP
does not exhibit those problems. The old Type 1 CM/AMS fonts work fine
without aifont. I presume the updated versions will too. I therefore
recommend that all files associated with aifont not be included in the
next release of TeX Live. The following directories should be deleted:
texmf-dist/fonts/tfm/public/ai/
texmf-dist/fonts/map/dvips/ai/
texmf-dist/fonts/enc/dvips/ai/
texmf-dist/dvips/ai/
texmf-dist/source/fonts/ai/
texmf-dist/doc/fonts/ai/

Thanks,
Skip Collins

From nwourms at gmail.com  Fri Jul 18 16:40:48 2008
From: nwourms at gmail.com (Nicholas Wourms)
Date: Fri, 18 Jul 2008 10:40:48 -0400
Subject: [tex-live] TeXLive 2008 Windows Feedback (Version 20080716)
Message-ID: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>

As your download page requests, I have taken the opportunity to test
and evaluate TeXLive 2008 Version 20080716. Here's what I found:

The Good (positive improvements):
1) I like that Perl & GhostScript are self-contained. This is a *huge*
improvement and lessens the potential for conflicts. I like how it
does not require the modification of system environmental variables.
2) I'm very happy that the windows lua wrapper seems to deal with
Cygwin and Msys paths in a transparent fashion and most commands work
inside Cygwin/Msys bash with little or no problems.
3) It is much better that the only system environmental variable
modified was PATH and only added one value was added to it.

The Bad (problematic usability issues):
1) The self-contained Perl distribution has been pared down too much.
For example, it is not possible to run perltex due to lack of critical
modules. Might as well just include the whole thing, the space savings
is not worth it. Suggest just including the latest strawberry Perl,
instead.
2) The self-contained GhostScript distribution is broken for most of
its own scripts. For example, ps2pdf and friends do not work because
the lua wrapper cannot find the original script in the GhostScript
library directory.
3) Include the GhostScript shell script versions of the GhostScript
commands for use under Cygwin/Msys bash. Putting them in bin would be
best.  Include a shell lua wrapper, "gs", in bin/win32 for these
scripts to call.
4) The packaging system seems flaky, one time (a few days prior) it
did not have the kpathsea dlls, this time it did not have the icudt40
dll. Fortunately, I was able to find it elsewhere, but the ought to be
some QA in the packaging to make sure all components are present that
should be present. Likewise, the TeX Live Manager should also have a
system (md5/sha1) to verify the presence and condition of each
package.

The Ugly (well not really that bad, just aesthetic aspects):
1) If you are going to use TkPerl, please distribute a version using
Tk 8.5+, the fugliness of earlier versions (due to bad!font rendering)
is terrible.
2) The package counter seems to be screwed up, kept on incrementing
"total += number of packages" each time a sub-window was entered and
then exited.

Suggestions:
1) Provide more items to tweak under the TeX Live Manager/Tex Live
Installer. For example, modifying the defaults for dvips and pdf*tex
like output printer and/or resolution.
2) Provide a way to updates between snapshot versions.

Cheers,
Nicholas

From is at ime.usp.br  Fri Jul 18 23:23:36 2008
From: is at ime.usp.br (Imre Simon)
Date: Fri, 18 Jul 2008 18:23:36 -0300
Subject: [tex-live] Nonexistent page:  mapenc.html
Message-ID: <488109D8.2010107@ime.usp.br>

The documentation for TeTex and/or texlive repeatedly references this 
nonexistent page:

http://tug.org/texlive/mapenc.html

For instance, in this paragraph of
http://www.tug.org/texlive/doc/texlive-en/live.html

> 2004 saw many changes:
> 
>     * If you have locally-installed fonts which use their own .map or
>       (much less likely) .enc support files, you may need to move
>       those support files.
> 
>       .map files are now searched for in subdirectories of fonts/map
>       only (in each texmf tree), along the TEXFONTMAPS
>       path. Similarly, .enc files are now searched for in
>       subdirectories of fonts/enc only, along the ENCFONTS
>       path. updmap will attempt to warn about problematic files.
> 
> For methods of handling this and other information, please see
> http://tug.org/texlive/mapenc.html.





Any idea where to find that missing page?

Thanks,

Imre Simon


From mpg at elzevir.fr  Sat Jul 19 09:36:21 2008
From: mpg at elzevir.fr (=?ISO-8859-15?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Sat, 19 Jul 2008 09:36:21 +0200
Subject: [tex-live] Minor things
In-Reply-To: <4880AC7F.1070102@ankabut.net>
References: <4880AC7F.1070102@ankabut.net>
Message-ID: <48819975.5090100@elzevir.fr>

Hi Fran?ois,

Fran?ois Charette scripsit (18.07.2008 16:45)
> First: I have updated polyglossia.pdf on CTAN due to an ugly typo in the
> title, but since I marked "no need to announced this" I fear this change
> will not propagate to TeXLive. Could you please commit the change?
> You only need to update polyglossia.pdf and polyglossia.dtx; the rest is
> unchanged. Thanks!
> 
Lots of changes happen without being announced on ctan-ann, and we have means
to detect them.  Polyglossia is included in those checks.  From the svn log,
it was last updated on 17jul08: is it ok?  You can still check the current
version on
http://tug.org/svn/texlive/trunk/Master/texmf-dist/doc/xelatex/polyglossia/
Thanks for informing us anyway.

> because the function tlwarn is used at some places. (I emailed Norbert
> directly, but since he is away, I thought someone else could commit the
> change now).
> 
Ok.  Changed by Siep yesterday, r9659.

> gfsporson and gfsbaskerville are in collection-langgreek, but
> gfsartemisia, gfsbodoni, gfscomplutum, gfsdidot, gfsneohellenic and
> gfssolomos are in collection-fontsextra. Shouldn't they all be in
> collection-langgreek?
> 
I admit I have no opinion on this point, since I don't know those fonts.  Can
they be useful for something else than writing greek?  If not, I think they
should indeed be in langreek rather than fontsextra.

> Also, for gfsbaskerville, the line
>    execute addMap gfsbaskerville.map
> is missing!
> 
Done, 9666.  Will be in tomorrow's version of texlive.tlpdb.

Thanks,
Manuel.

From kakuto at fuk.kindai.ac.jp  Sat Jul 19 13:32:41 2008
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 19 Jul 2008 20:32:41 +0900
Subject: [tex-live] TeXLive 2008 Windows Feedback (Version 20080716)
In-Reply-To: Your message of "Fri, 18 Jul 2008 10:40:48 -0400"
References: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
Message-ID: <200807191132.m6JBWgBP028287@jupiter>

Hi Nicholas,

> 4) The packaging system seems flaky, one time (a few days prior) it
> did not have the kpathsea dlls, this time it did not have the icudt40
> dll. Fortunately, I was able to find it elsewhere, but the ought to be
...

TeXLive xetex does not yet use icudt40.dll.
It uses at present icudt38.dll.

Best regards,
Akira

From xecjk at yahoo.cn  Sat Jul 19 14:49:01 2008
From: xecjk at yahoo.cn (Wenchang Sun)
Date: Sat, 19 Jul 2008 20:49:01 +0800 (CST)
Subject: [tex-live] icudt40.dll not found
Message-ID: <617239.98579.qm@web92206.mail.cnh.yahoo.com>

I am trying TLtest-20080719 in the live mode (run directly from DVD) . 
  When I run xetex from the commandline,  I get a message like
   
     ICUDT40.DLL not found. ......
   
  PS: I am using Windows XP as an administrator.
   
  Wenchang Sun

       
---------------------------------
 ????????????
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080719/1cbfc2c5/attachment.html 

From kakuto at fuk.kindai.ac.jp  Sat Jul 19 16:11:56 2008
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat, 19 Jul 2008 23:11:56 +0900
Subject: [tex-live] icudt40.dll not found
In-Reply-To: Your message of "Sat, 19 Jul 2008 20:49:01 +0800 (CST)"
References: <617239.98579.qm@web92206.mail.cnh.yahoo.com>
Message-ID: <200807191411.m6JEBvfY028580@jupiter>

Hi Wenchang,

> I am trying TLtest-20080719 in the live mode (run directly from DVD) . 
>   When I run xetex from the commandline,  I get a message like
>    
>      ICUDT40.DLL not found. ......

Sorry. That is my mistake. The xetex in the present repository
is the development version. I had informed Staszek of hopefully final
binaries. But he seems to be busy or absent to copy the new
win32 binaries into the repository. Please wait until the new ones
are checked in.

Thanks,
AKira

From martin at oneiros.de  Sat Jul 19 17:42:58 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 19 Jul 2008 17:42:58 +0200
Subject: [tex-live] x86_64 binaries broken
Message-ID: <68c491a60807190842y56b449afqf5032492db4b68d@mail.gmail.com>

2008/7/15 Zdenek Wagner <zdenek.wagner at gmail.com>:
> I installed TL2008, tried to find some files with kpsewhich but it
> dies. These are my experiments:
>
> [zw at centos ~]$ kpsewhich language.dat
> Floating point exception
> [zw at centos ~]$ kpsewhich article.cls
> Floating point exception
> [zw at centos ~]$ kpsewhich --help
> Floating point exception
> [zw at centos ~]$ which kpsewhich
> /usr/local/texlive/2008/bin/x86_64-linux/kpsewhich
> [zw at centos ~]$ uname -a
> Linux centos 2.6.17 #3 SMP Mon Sep 24 19:59:57 CEST 2007 x86_64 x86_64
> x86_64 GNU/Linux
>
> I tried the same on i386-linux and it works fine. Both computers have
> CentOS 4.6.

Same problem here with the x86_64-linux binaries on SUSE 10.2:
Linux dream 2.6.16.54-0.2.5-smp #1 SMP Mon Jan 21 13:29:51 UTC 2008
x86_64 x86_64 x86_64 GNU/Linux
glibc is 2.4

Didn't we have the same problem last year with the binaries from tigran?

Tigran, on what system are you compiling?

Best
   Martin

From hanthethanh at gmail.com  Sat Jul 19 18:01:37 2008
From: hanthethanh at gmail.com (Thanh Han The)
Date: Sat, 19 Jul 2008 18:01:37 +0200
Subject: [tex-live] x86_64 binaries broken
Message-ID: <74f506dc0807190901s5e8b649dy2f92312f5f3d5ccf@mail.gmail.com>

I had the same problem (debian etch amd64); rebuilding TL
from sources fixed this.

Thanh

On Sat, Jul 19, 2008 at 05:42:58PM +0200, Martin Schroeder wrote:
> 2008/7/15 Zdenek Wagner <zdenek.wagner at gmail.com>:
> > I installed TL2008, tried to find some files with kpsewhich but it
> > dies. These are my experiments:
> >
> > [zw at centos ~]$ kpsewhich language.dat
> > Floating point exception
> > [zw at centos ~]$ kpsewhich article.cls
> > Floating point exception
> > [zw at centos ~]$ kpsewhich --help
> > Floating point exception
> > [zw at centos ~]$ which kpsewhich
> > /usr/local/texlive/2008/bin/x86_64-linux/kpsewhich
> > [zw at centos ~]$ uname -a
> > Linux centos 2.6.17 #3 SMP Mon Sep 24 19:59:57 CEST 2007 x86_64 x86_64
> > x86_64 GNU/Linux
> >
> > I tried the same on i386-linux and it works fine. Both computers have
> > CentOS 4.6.
>
> Same problem here with the x86_64-linux binaries on SUSE 10.2:
> Linux dream 2.6.16.54-0.2.5-smp #1 SMP Mon Jan 21 13:29:51 UTC 2008
> x86_64 x86_64 x86_64 GNU/Linux
> glibc is 2.4
>
> Didn't we have the same problem last year with the binaries from tigran?
>
> Tigran, on what system are you compiling?
>
> Best
>    Martin

From gnwiii at gmail.com  Sat Jul 19 18:18:18 2008
From: gnwiii at gmail.com (George N. White III)
Date: Sat, 19 Jul 2008 13:18:18 -0300
Subject: [tex-live] TeXLive 2008 Windows Feedback (Version 20080716)
In-Reply-To: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
References: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
Message-ID: <22af238a0807190918r4d36b2a3if509fad5d4cc711c@mail.gmail.com>

On Fri, Jul 18, 2008 at 11:40 AM, Nicholas Wourms <nwourms at gmail.com> wrote:

> As your download page requests, I have taken the opportunity to test
> and evaluate TeXLive 2008 Version 20080716. Here's what I found:

I gather you installed from a DVD image file to a Windows system -- if this
is not correct let us know.

> The Good (positive improvements):
> 1) I like that Perl & GhostScript are self-contained. This is a *huge*
> improvement and lessens the potential for conflicts. I like how it
> does not require the modification of system environmental variables.

It will be hard to make everyone happy.  Providing versions of perl and
ghostscript ensures that texlive gets versions that work, but the result
may lack capabilities in the full packages.  TL shouldn't be in the
game of trying to support perl and ghostscript, so it is better to hide
such tools so they are only available to specific TL tasks.

> 2) I'm very happy that the windows lua wrapper seems to deal with
> Cygwin and Msys paths in a transparent fashion and most commands work
> inside Cygwin/Msys bash with little or no problems.

If would also be nice if windows TL would run under Wine (the not
emulator windows environment for *x systems).  This is a good
way to ensure that TL doesn't rely on some obscure windows
feature that may change.

> 3) It is much better that the only system environmental variable
> modified was PATH and only added one value was added to it.

Yes.

> The Bad (problematic usability issues):
> 1) The self-contained Perl distribution has been pared down too much.
> For example, it is not possible to run perltex due to lack of critical
> modules. Might as well just include the whole thing, the space savings
> is not worth it. Suggest just including the latest strawberry Perl,
> instead.

If TL provides a complete perl system then users will want bug fixes,
updates, etc.  It is much better simply to avoid possible conflicts with
whatever perl the user chooses.

> 2) The self-contained GhostScript distribution is broken for most of
> its own scripts. For example, ps2pdf and friends do not work because
> the lua wrapper cannot find the original script in the GhostScript
> library directory.

Lots of testing will be needed to sort out issues with the various
scripts that use gs for Win32.

> 3) Include the GhostScript shell script versions of the GhostScript
> commands for use under Cygwin/Msys bash. Putting them in bin would be
> best.  Include a shell lua wrapper, "gs", in bin/win32 for these
> scripts to call.

2 and 3) raises the same issues as for perl.

> 4) The packaging system seems flaky, one time (a few days prior) it
> did not have the kpathsea dlls, this time it did not have the icudt40
> dll. Fortunately, I was able to find it elsewhere, but the ought to be
> some QA in the packaging to make sure all components are present that
> should be present. Likewise, the TeX Live Manager should also have a
> system (md5/sha1) to verify the presence and condition of each
> package.

You are the QA!  For a while the installer was rejecting md5sums for
every package -- I haven't checked to see if these were disabled.

> The Ugly (well not really that bad, just aesthetic aspects):
> 1) If you are going to use TkPerl, please distribute a version using
> Tk 8.5+, the fugliness of earlier versions (due to bad!font rendering)
> is terrible.
> 2) The package counter seems to be screwed up, kept on incrementing
> "total += number of packages" each time a sub-window was entered and
> then exited.
>
> Suggestions:
> 1) Provide more items to tweak under the TeX Live Manager/Tex Live
> Installer. For example, modifying the defaults for dvips and pdf*tex
> like output printer and/or resolution.

Things like that can be added once the basic functionality is
working reliably.

> 2) Provide a way to updates between snapshot versions.

I've been using "tlmgr -v update --all" with both a web installed
system and one installed from a local copy of svn "Master",
but have tried it on real Win32 (just linux, solaris, and
darwin).   There are some problems running tlmgr under
wine,  but the basic apps (tex, pdftex, xetex, and luatex) can
format simple docs.

Have you tried running tlmgr with a --location set to your
nearby CTAN mirror?  I hope things are now sufficiently stable
that further snapshots will not be needed.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From preining at logic.at  Sat Jul 19 18:30:55 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 19 Jul 2008 18:30:55 +0200
Subject: [tex-live] TeXLive 2008 Windows Feedback (Version 20080716)
In-Reply-To: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
References: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
Message-ID: <20080719163055.GL7733@gamma.logic.tuwien.ac.at>

On Fr, 18 Jul 2008, Nicholas Wourms wrote:
> 2) The package counter seems to be screwed up, kept on incrementing
> "total += number of packages" each time a sub-window was entered and
> then exited.

Fixed, install-tl revision 9670. Sorry for missing that!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
IBSTOCK (n.)
Anything used to make a noise on a corrugated iron wall or
clinker-built fence by dragging it along the surface while walking
past it. 'Mr Bennett thoughtfully selected a stout ibstock and left
the house.' - Jane Austen, Pride and Prejudice, II.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Sat Jul 19 17:40:59 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 19 Jul 2008 17:40:59 +0200
Subject: [tex-live] TeXLive 2008 Windows Feedback (Version 20080716)
In-Reply-To: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
References: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
Message-ID: <20080719154059.GE3305@gamma.logic.tuwien.ac.at>

Hi Nicholas,

thnaks for the feedback, I will answer only on the negative poinbts.

On Fr, 18 Jul 2008, Nicholas Wourms wrote:
> 1) The self-contained Perl distribution has been pared down too much.

I hope Siep/Reinhard will care for that, I only want to have what I
need.

> 2) The self-contained GhostScript distribution is broken for most of
> its own scripts. For example, ps2pdf and friends do not work because

Reinhard, please check that.

> 4) The packaging system seems flaky, one time (a few days prior) it
> did not have the kpathsea dlls, this time it did not have the icudt40

Yes, that was a bug. It was fixed very quick, but it was there.

> some QA in the packaging to make sure all components are present that
> should be present. Likewise, the TeX Live Manager should also have a
> system (md5/sha1) to verify the presence and condition of each

It does have it since about 2 weeks ...?!?!

> 1) If you are going to use TkPerl, please distribute a version using
> Tk 8.5+, the fugliness of earlier versions (due to bad!font rendering)
> is terrible.

To dangerous to update now, sorry.

> 2) The package counter seems to be screwed up, kept on incrementing
> "total += number of packages" each time a sub-window was entered and
> then exited.

Sure??? I am sure that I have fixed that some time ago. Did you download
a new installer package? If it is not fixed, I will hopefully fix it
till next week.

> 1) Provide more items to tweak under the TeX Live Manager/Tex Live
> Installer. For example, modifying the defaults for dvips and pdf*tex
> like output printer and/or resolution.

Patched to the tlmgr.pl script are welcomed, I have currently no time to
do that since I am guiding several weeks (being mountain guide).

> 2) Provide a way to updates between snapshot versions.

??? YOu mean we should create snapshot version? Or do you talk about the
test version currently out? No, for these we do not provide upgrade path
with guaruanteed work, it is at the end testing ...

Best wishes and thanks again

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GLORORUM (n.)
One who takes pleasure in informing others about their bowel
movements.
			--- Douglas Adams, The Meaning of Liff

From martin at oneiros.de  Sat Jul 19 18:56:10 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sat, 19 Jul 2008 18:56:10 +0200
Subject: [tex-live] x86_64 binaries broken
In-Reply-To: <74f506dc0807190901s5e8b649dy2f92312f5f3d5ccf@mail.gmail.com>
References: <74f506dc0807190901s5e8b649dy2f92312f5f3d5ccf@mail.gmail.com>
Message-ID: <68c491a60807190956k12e717ew9a571e97c14431c7@mail.gmail.com>

2008/7/19 Thanh Han The <hanthethanh at gmail.com>:
> I had the same problem (debian etch amd64); rebuilding TL
> from sources fixed this.

I comitted new binaries and transformed some scripts into sysmlinks
like at i386-linux; xindy is still broken though -- I leave building
that to others.

Best
   Martin

From reinhard.kotucha at web.de  Sat Jul 19 19:19:06 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 19 Jul 2008 19:19:06 +0200
Subject: [tex-live]  TeXLive 2008 Windows Feedback (Version 20080716)
In-Reply-To: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
References: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
Message-ID: <18562.8714.238231.313957@zaphod.ms25.net>

Nicholas Wourms writes:

 > The Bad (problematic usability issues):
 > 1) The self-contained Perl distribution has been pared down too much.
 > For example, it is not possible to run perltex due to lack of critical
 > modules.
Hi Nicholas,
thanks for reporting this.  I just uploaded 

    tlpkg/tlperl/lib/Safe.pm
    tlpkg/tlperl/lib/auto/Opcode
    tlpkg/tlperl/lib/auto/Opcode/Opcode.dll
    tlpkg/tlperl/lib/auto/Opcode/Opcode.bs
    tlpkg/tlperl/lib/Opcode.pm
    tlpkg/tlperl/lib/POSIX.pm

and hope this fixes the problem.

 > 2) The self-contained GhostScript distribution is broken for most of
 > its own scripts. For example, ps2pdf and friends do not work because
 > the lua wrapper cannot find the original script in the GhostScript
 > library directory.

No. It works on Windows.  Cygwin is a Unix-like environment and we
expect that gs and Perl are installed already.  You don't need the
wrappers there.  Instead, I uploaded a new shell script which creates
the symlinks on Cygwin:

  bin/win32/symlinks4cygwin.sh

Use Perl, ghostscript, and gv supplied by Cygwin, please.  I attatch
the script to this mail so that you can try it immediately.

Regards,
  Reinhard

-------------- next part --------------
A non-text attachment was scrubbed...
Name: symlinks4cygwin.sh.gz
Type: application/octet-stream
Size: 663 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080719/a0d772dc/attachment.obj 
-------------- next part --------------

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From manfred at dante.de  Sat Jul 19 19:15:53 2008
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 19 Jul 2008 19:15:53 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
Message-ID: <48822149.5060209@dante.de>

Hi all,
Now I had an occasion to install texlive on FreeBSD amd64 which was not 
without errors.


First thing which was irritating: The install script tells me that this 
is: x86_64 with Freebsd

It doesn't chose binaries for the platform:

*** WARNING!  No binaries for your platform found!
  <B> binary systems: 0 out of 15



This seems to be because the binaries on the iso image are in directory 
bin/amd64-freebsd which BTW is correct because amd64 is the name for 
this in FreeBSD world.


Later during installation I get messages like this:
Can't exec "mktexlsr": No such file or directory at ./install-tl line 943.

and in the end:

  Most importantly, add /usr/local/texlive/2008/bin/x86_64-freebsd
  to your PATH for current and future sessions.


It seems that in tlpkg/installer/config.guess the name x86_64 is set for 
  64bit FreeBSD which should be changed to amd64.





-- 
Manfred

From manfred at dante.de  Sat Jul 19 19:34:22 2008
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 19 Jul 2008 19:34:22 +0200
Subject: [tex-live] optimizing dvd access
In-Reply-To: <200807081728.m68HSkC19887@f7.net>
References: <200807081728.m68HSkC19887@f7.net>
Message-ID: <4882259E.2030704@dante.de>

Hi Karl,


Karl Berry wrote:
> There have been occasional threads about how reading TL from a physical
> dvd takes a long time (for some people), and speculations that files
> could be burned in a better order.
> 
> There is a script + information about doing this at the end of
> http://www.tina-vision.net/tina-knoppix/remastering.html, under
> "Optimise the CD".  The general idea is to do the install and see in
> what order files are read.
> 

Thanks for pointing to this site.



> If anyone wants to take the time to try this and post the results (and
> the precise steps/scripts/files), that would be cool, hopefully Manfred
> can make use of it for the final burn.  (For myself, I don't plan to
> look at this further.)
> 

Looks very interesting. I'll try it out..




-- 
Manfred

From reinhard.kotucha at web.de  Sat Jul 19 19:52:52 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 19 Jul 2008 19:52:52 +0200
Subject: [tex-live]  texlive installation on FreeBSD amd64
In-Reply-To: <48822149.5060209@dante.de>
References: <48822149.5060209@dante.de>
Message-ID: <18562.10740.320617.75669@zaphod.ms25.net>

Manfred Lotz writes:

 > It seems that in tlpkg/installer/config.guess the name x86_64 is set for 
 >   64bit FreeBSD which should be changed to amd64.

Hi Manfred,
what is the output of config.guess if you invoke it directly?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Sat Jul 19 19:56:06 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 19 Jul 2008 19:56:06 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
In-Reply-To: <48822149.5060209@dante.de>
References: <48822149.5060209@dante.de>
Message-ID: <20080719175606.GA20305@gamma.logic.tuwien.ac.at>

On Sa, 19 Jul 2008, Manfred Lotz wrote:
> It seems that in tlpkg/installer/config.guess the name x86_64 is set for 
>  64bit FreeBSD which should be changed to amd64.

Strange, in the TLUtils.pm, sub platform (can yo please check) there is:
      $guessed_platform=~s/^x86_64-(.*)-freebsd$/amd64-$1-freebsd/;
which should take care of that. Can you check whether you have that
entry?


And if not, can you send us the output of 
	/bin/sh tlpgk/installer/config.guess

Thanks

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
Arthur's consciousness approached his body as from a great
distance, and reluctantly. It had had some bad times in
there. Slowly, nervously, it entered and settled down into
its accustomed position.
Arthur sat up.
`Where am I?' he said.
`Lord's Cricket Ground,' said Ford.
`Fine,' said Arthur, and his consciousness stepped out
again for a quick breather. His body flopped back on the
grass.
                 --- Arthur coping with his return to Earth as best as he
                 --- could.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From manfred at dante.de  Sat Jul 19 21:02:56 2008
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 19 Jul 2008 21:02:56 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
In-Reply-To: <20080719175606.GA20305@gamma.logic.tuwien.ac.at>
References: <48822149.5060209@dante.de>
	<20080719175606.GA20305@gamma.logic.tuwien.ac.at>
Message-ID: <48823A60.8050106@dante.de>

Hi Norbert and Reinhard,

Norbert Preining wrote:
> On Sa, 19 Jul 2008, Manfred Lotz wrote:
>> It seems that in tlpkg/installer/config.guess the name x86_64 is set for 
>>  64bit FreeBSD which should be changed to amd64.
> 
> Strange, in the TLUtils.pm, sub platform (can yo please check) there is:
>       $guessed_platform=~s/^x86_64-(.*)-freebsd$/amd64-$1-freebsd/;
> which should take care of that. Can you check whether you have that
> entry?
> 

Yes, that entry is there.

/bin/sh tlpgk/installer/config.guess tells:

x86_64-unknown-freebsd7.0


Being a Perl illiterate I nevertheless dare to guess that the '$' in 
the regexp of
         $guessed_platform=~s/^x86_64-(.*)-freebsd$/amd64-$1-freebsd/;

kills it.

It would work if config.guess would give: x86_64-unknown-freebsd.




-- 
Manfred


From reinhard.kotucha at web.de  Sat Jul 19 21:14:43 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 19 Jul 2008 21:14:43 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
In-Reply-To: <48823A60.8050106@dante.de>
References: <48822149.5060209@dante.de>
	<20080719175606.GA20305@gamma.logic.tuwien.ac.at>
	<48823A60.8050106@dante.de>
Message-ID: <18562.15651.644080.843301@zaphod.ms25.net>

Manfred Lotz writes:
 > x86_64-unknown-freebsd7.0
 > 
 > 
 > Being a Perl illiterate I nevertheless dare to guess that the '$' in 
 > the regexp of
 >          $guessed_platform=~s/^x86_64-(.*)-freebsd$/amd64-$1-freebsd/;
 > 
 > kills it.
 > 
 > It would work if config.guess would give: x86_64-unknown-freebsd.

It's fixed now in the repository.  rev. 9681.

I removed the "$" from the regexp.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From manfred at dante.de  Sat Jul 19 21:30:04 2008
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 19 Jul 2008 21:30:04 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
In-Reply-To: <18562.15651.644080.843301@zaphod.ms25.net>
References: <48822149.5060209@dante.de>	<20080719175606.GA20305@gamma.logic.tuwien.ac.at>	<48823A60.8050106@dante.de>
	<18562.15651.644080.843301@zaphod.ms25.net>
Message-ID: <488240BC.6030100@dante.de>

Reinhard Kotucha wrote:
> Manfred Lotz writes:
>  > x86_64-unknown-freebsd7.0
>  > 
>  > 
>  > Being a Perl illiterate I nevertheless dare to guess that the '$' in 
>  > the regexp of
>  >          $guessed_platform=~s/^x86_64-(.*)-freebsd$/amd64-$1-freebsd/;
>  > 
>  > kills it.
>  > 
>  > It would work if config.guess would give: x86_64-unknown-freebsd.
>
> It's fixed now in the repository.  rev. 9681.
>
> I removed the "$" from the regexp.
>
> Regards,
>   Reinhard
>   
Thx. I'll try it out with one of the next iso images (they get built 
daily in the night, isn't is?).



-- 
Manfred


From preining at logic.at  Sat Jul 19 21:57:09 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 19 Jul 2008 21:57:09 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
In-Reply-To: <488240BC.6030100@dante.de>
References: <48822149.5060209@dante.de>
	<20080719175606.GA20305@gamma.logic.tuwien.ac.at>
	<48823A60.8050106@dante.de>
	<18562.15651.644080.843301@zaphod.ms25.net>
	<488240BC.6030100@dante.de>
Message-ID: <20080719195709.GA32400@gamma.logic.tuwien.ac.at>

On Sa, 19 Jul 2008, Manfred Lotz wrote:
> Thx. I'll try it out with one of the next iso images (they get built 
> daily in the night, isn't is?).

Right.

But easier is that you do:
- fetch the current installer package
- unpack it
- remove the $ from tlpkg/TeXLive/TLUtils.pm, sub platform
- start the installer with
	perl install-tl -location /path/to/mounted/iso/image
  (optionally adding -gui)

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
RUNCORN (n.)
A peeble (q.v.) which is larger that a belper (q.v.)
			--- Douglas Adams, The Meaning of Liff

From reinhard.kotucha at web.de  Sat Jul 19 22:47:01 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 19 Jul 2008 22:47:01 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
In-Reply-To: <488240BC.6030100@dante.de>
References: <48822149.5060209@dante.de>
	<20080719175606.GA20305@gamma.logic.tuwien.ac.at>
	<48823A60.8050106@dante.de>
	<18562.15651.644080.843301@zaphod.ms25.net>
	<488240BC.6030100@dante.de>
Message-ID: <18562.21189.796478.133928@zaphod.ms25.net>

Manfred Lotz writes:
 > Thx. I'll try it out with one of the next iso images (they get built 
 > daily in the night, isn't is?).

Yes. You could try after 5:30 UTC.

What I already tried before uploading TLUtils.pm was to replace
tlpkg/installer/config.guess by a file which contains:
-------------------------------------------------------
#! /bin/sh

echo x86_64-unknown-freebsd7.0
-------------------------------------------------------

and started the installer.  This worked fine here.

At the beginning it reported:
Platform: amd64-freebsd => 'x86_64 with FreeBSD'

Then in the menus:

Main menu:
 Detected platform: x86_64 with FreeBSD

Binary systems menu:
   a [ ] alpha-linux      DEC Alpha with GNU/Linux
   b [X] amd64-freebsd    x86_64 with FreeBSD
   c [ ] hppa-hpux        HP-UX

Note that only the string "amd64-freebsd" is relevant.

I suppose that it works for you now.  But I recommend to follow
Norbert's advice regarding the installer package and install TL
completely.  With "completely" I mean to run everything until you get
the welcome message.  But it's sufficient to select scheme-minimal.

Note that I'm leaving tomorrow for TUG-2008.  It would be nice to hear
from you soon that it works now.

BTW, the installer can be downloaded from

  ftp://tug.org/texlive/tlnet/tldev/install-tl.zip  (Unix and Windows)
  ftp://tug.org/texlive/tlnet/tldev/install-tl-unx.tar.gz  (Unix only)

Regards, and thanks for reporting the bug,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From reinhard.kotucha at web.de  Sun Jul 20 02:17:53 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 20 Jul 2008 02:17:53 +0200
Subject: [tex-live] TeXLive 2008 Windows Feedback (Version 20080716)
In-Reply-To: <22af238a0807190918r4d36b2a3if509fad5d4cc711c@mail.gmail.com>
References: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
	<22af238a0807190918r4d36b2a3if509fad5d4cc711c@mail.gmail.com>
Message-ID: <18562.33841.89759.765477@zaphod.ms25.net>

George N. White III writes:

 > It will be hard to make everyone happy.

Indeed. But since TL is the official distribution of TUG, it's at
least our goal to make everyone happy. Supporting Cygwin is difficult
ATM.  You can use the win32 binaries but X11 related programs like
xdvi are still missing.  I had been able to compile them on my machine
at work but there had been problems with xetex and dvipdfmx, most
likely because some libraries are missing.

I already tried to run xdvi.exe which I compiled on Cygwin outside the
Cygwin environment.  After I found out which DLL files it needs it
didn't complain about missing DLLs anymore but it told me that it
doesn't find any X11-server.

What I probably can offer in next year's release is that I put
xdvi.exe into bin/win32.  It will not work on native Windows but on
Cygwin.  I need the help of Cygwin users though, at least it would be
nice if people can inform me about new Cygwin releases and
compatibility problems with different DLL versions.  Nicholas, if you
are interested, stay in contact with me.

However, it would also be very nice if teTeX will be replaced by TeX
Live in the Cygwin distribution.  The Cygwin package management system
is quite crude.  This allows for keeping the TeX Live updating
mechanism without clashing with their (non-existent) own one.

 > If TL provides a complete perl system then users will want bug fixes,
 > updates, etc.  It is much better simply to avoid possible conflicts with
 > whatever perl the user chooses.

There is another reason we decided to provide a subset which only
supports the scripts provided by TeX Live:  If we provide a full
version then people will use it to write their own scripts.  Then we
have to provide all the HTML documentation too.

It's not a big deal to download and install the full versions of
ActivePerl and Ghostscript on Windows if people want to write their
own scripts.

We definitely want to provide all Perl modules required by scripts
which are part of TeX Live.

In this context, the fact that some Perl modules needed by perltex had
been been missing is clearly a bug.  Thanks, Nicholas, for reporting
it.  If you want to try it immediately, download

   http://tug.org/~kotucha/missing-mods.tar.gz

 > > 2) The self-contained GhostScript distribution is broken for most of
 > > its own scripts. For example, ps2pdf and friends do not work because
 > > the lua wrapper cannot find the original script in the GhostScript
 > > library directory.
 > 
 > Lots of testing will be needed to sort out issues with the various
 > scripts that use gs for Win32.
 
Cygwin provides Bash, symlinks, and an X11 server, and so on.  It's
clearly a Unix environment.  The wrappers had been designed for native
Windows only.  I hope that bin/win32/symlinks4cygwin.sh solves the
problems reported by Nicholas.

I must admit that no attempt had been made to support Cygwin.  It's
too late now for TL-2008 and next week I'll be in Cork.  And my
personal opinion is that Cygwin maintainers should update their system
first.  Replacing teTeX by TeX Live and keeping tlmgr intact would be
a great thing.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From manfred at dante.de  Sun Jul 20 06:01:27 2008
From: manfred at dante.de (Manfred Lotz)
Date: Sun, 20 Jul 2008 06:01:27 +0200
Subject: [tex-live] texlive installation on FreeBSD amd64
In-Reply-To: <18562.21189.796478.133928@zaphod.ms25.net>
References: <48822149.5060209@dante.de>	<20080719175606.GA20305@gamma.logic.tuwien.ac.at>	<48823A60.8050106@dante.de>	<18562.15651.644080.843301@zaphod.ms25.net>	<488240BC.6030100@dante.de>
	<18562.21189.796478.133928@zaphod.ms25.net>
Message-ID: <4882B897.8030409@dante.de>

Reinhard Kotucha wrote:
> Manfred Lotz writes:
>  > Thx. I'll try it out with one of the next iso images (they get built 
>  > daily in the night, isn't is?).
>
> Yes. You could try after 5:30 UTC.
>
> What I already tried before uploading TLUtils.pm was to replace
> tlpkg/installer/config.guess by a file which contains:
> -------------------------------------------------------
> #! /bin/sh
>
> echo x86_64-unknown-freebsd7.0
> -------------------------------------------------------
>
> and started the installer.  This worked fine here.
>
> At the beginning it reported:
> Platform: amd64-freebsd => 'x86_64 with FreeBSD'
>
> Then in the menus:
>
> Main menu:
>  Detected platform: x86_64 with FreeBSD
>
> Binary systems menu:
>    a [ ] alpha-linux      DEC Alpha with GNU/Linux
>    b [X] amd64-freebsd    x86_64 with FreeBSD
>    c [ ] hppa-hpux        HP-UX
>
> Note that only the string "amd64-freebsd" is relevant.
>
> I suppose that it works for you now.  But I recommend to follow
> Norbert's advice regarding the installer package and install TL
> completely.  With "completely" I mean to run everything until you get
> the welcome message.  But it's sufficient to select scheme-minimal.
>
> Note that I'm leaving tomorrow for TUG-2008.  It would be nice to hear
> from you soon that it works now.
>
>   
Ok, I grabbed the installer and did a complete install. Now all is fine. 
mktexlsr will be found during installation and runs successfully.

-- 
Have a good time in Cork,
Manfred


From artemio at fis.ucm.es  Sun Jul 20 20:40:14 2008
From: artemio at fis.ucm.es (Artemio Gonzalez Lopez)
Date: Sun, 20 Jul 2008 20:40:14 +0200
Subject: [tex-live] problems with tlmgr --gui in Mac OS X
Message-ID: <8F4665F4-D55F-45FD-8F96-04396049D9D6@fis.ucm.es>

"tlmgr --gui update" (or any other action, for that matter) makes perl  
crash  with a bus error in Mac OS X 10.5.4 (on my 3.06 GHz iMac,  
running the TeXLive 2008-07-18 distribution updated via rsync); see  
the crash report below for more details. FWIW, the perl/tk  
distribution I'm using was installed via MacPorts (it's the p5-tk  
package).

Thanks everybody,

Artemio


Artemio Gonzalez-Lopez
email:    artemio at fis.ucm.es
URL:      http://jacobi.fis.ucm.es/artemio


= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
= 
========================================================================
Process:         perl [3090]
Path:            /opt/local/bin/perl
Identifier:      perl
Version:         ??? (???)
Code Type:       X86 (Native)
Parent Process:  bash [141]

Date/Time:       2008-07-20 20:35:41.513 +0200
OS Version:      Mac OS X 10.5.4 (9E17)
Report Version:  6

Exception Type:  EXC_BAD_ACCESS (SIGBUS)
Exception Codes: KERN_PROTECTION_FAILURE at 0x0000000000000000
Crashed Thread:  0

Thread 0 Crashed:
0   Event.bundle                  	0x003f54cf boot_Tk__Event + 31
1   perl                          	0x00077f3f Perl_pp_entersub + 847
2   perl                          	0x0006f295 Perl_runops_standard + 37
3   perl                          	0x0000466a Perl_call_sv + 1690
4   perl                          	0x0000495d Perl_call_list + 493
5   perl                          	0x0003f36c Perl_newATTRSUB + 3836
6   perl                          	0x0003fc9f Perl_utilize + 463
7   perl                          	0x0002d8c8 Perl_yyparse + 2664
8   perl                          	0x000a3f35 S_doeval + 437
9   perl                          	0x000abc30 Perl_pp_require + 3424
10  perl                          	0x0006f295 Perl_runops_standard + 37
11  perl                          	0x00004f53 perl_run + 851
12  perl                          	0x000019be main + 222
13  perl                          	0x000018a6 start + 54

Thread 0 crashed with X86 Thread State (32-bit):
   eax: 0x00000000  ebx: 0x003f54bb  ecx: 0x00815248  edx: 0x0040f93c
   edi: 0x00104ae8  esi: 0x00000000  ebp: 0xbffff158  esp: 0xbffff100
    ss: 0x0000001f  efl: 0x00010286  eip: 0x003f54cf   cs: 0x00000017
    ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037
   cr2: 0x00000000

Binary Images:
     0x1000 -    0xfeffb +perl ??? (???)  
<f57838fc82b9a3ed603588b9b0424eb1> /opt/local/bin/perl
   0x11c000 -   0x11efff  libutil.dylib ??? (???)  
<60cf001a1d2db72cdb69fcfaf5e94ba9> /usr/lib/libutil.dylib
   0x300000 -   0x406ff7 +Event.bundle ??? (???)  
<33d903772e9bf011043458d0206d3446> /opt/local/lib/perl5/vendor_perl/ 
5.8.8/darwin-2level/auto/Tk/Event/Event.bundle
0x8fe00000 - 0x8fe2da53  dyld 96.2 (???)  
<5013f43c4d2c33c9619011f103ec3238> /usr/lib/dyld
0x91961000 - 0x91ac1ff3  libSystem.B.dylib ??? (???)  
<a12f397abf2285077b89bd726bff5b18> /usr/lib/libSystem.B.dylib
0x959c3000 - 0x959cafe9  libgcc_s.1.dylib ??? (???)  
<28a7cbc3a5ca2982d124668306f422d9> /usr/lib/libgcc_s.1.dylib
0x9741b000 - 0x9741ffff  libmathCommon.A.dylib ??? (???) /usr/lib/ 
system/libmathCommon.A.dylib
0xffff0000 - 0xffff1780  libSystem.B.dylib ??? (???) /usr/lib/ 
libSystem.B.dylib

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080720/e77a93b1/attachment.html 

From gnwiii at gmail.com  Sun Jul 20 21:15:48 2008
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 20 Jul 2008 16:15:48 -0300
Subject: [tex-live] problems with tlmgr --gui in Mac OS X
In-Reply-To: <8F4665F4-D55F-45FD-8F96-04396049D9D6@fis.ucm.es>
References: <8F4665F4-D55F-45FD-8F96-04396049D9D6@fis.ucm.es>
Message-ID: <22af238a0807201215p51b27829pda093944b0c5d59a@mail.gmail.com>

On Sun, Jul 20, 2008 at 3:40 PM, Artemio Gonzalez Lopez
<artemio at fis.ucm.es> wrote:

> "tlmgr --gui update" (or any other action, for that matter) makes perl
> crash  with a bus error in Mac OS X 10.5.4 (on my 3.06 GHz iMac, running the
> TeXLive 2008-07-18 distribution updated via rsync); see the crash report
> below for more details. FWIW, the perl/tk distribution I'm using was
> installed via MacPorts (it's the p5-tk package).

I also get a bus error from "tlmgr --gui" on OS X 10.5.4 using perl5 from
macports, but have not had time to investigate.   I did, however, see some
failed tests with p5-tk, and the crash report also points to Tk, so when
I do get time I want to run the Perl::Tk tests again.   It may be some
small comfort to know that your pain is shared by others.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From mojca.miklavec.lists at gmail.com  Sun Jul 20 22:32:22 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 20 Jul 2008 22:32:22 +0200
Subject: [tex-live] problems with tlmgr --gui in Mac OS X
In-Reply-To: <22af238a0807201215p51b27829pda093944b0c5d59a@mail.gmail.com>
References: <8F4665F4-D55F-45FD-8F96-04396049D9D6@fis.ucm.es>
	<22af238a0807201215p51b27829pda093944b0c5d59a@mail.gmail.com>
Message-ID: <6faad9f00807201332s31173d1erb4a82fc0fd969fce@mail.gmail.com>

On Sun, Jul 20, 2008 at 9:15 PM, George N. White III wrote:
> On Sun, Jul 20, 2008 at 3:40 PM, Artemio Gonzalez Lopez wrote:
>
>> "tlmgr --gui update" (or any other action, for that matter) makes perl
>> crash  with a bus error in Mac OS X 10.5.4 (on my 3.06 GHz iMac, running the
>> TeXLive 2008-07-18 distribution updated via rsync); see the crash report
>> below for more details. FWIW, the perl/tk distribution I'm using was
>> installed via MacPorts (it's the p5-tk package).
>
> I also get a bus error from "tlmgr --gui" on OS X 10.5.4 using perl5 from
> macports, but have not had time to investigate.   I did, however, see some
> failed tests with p5-tk, and the crash report also points to Tk, so when
> I do get time I want to run the Perl::Tk tests again.   It may be some
> small comfort to know that your pain is shared by others.

I still have OS X 10.4 and Perl/Tk (and consequently TL installer)
works here, though it was a pain installing it. (I had to install X11,
which already comes with 10.5, and I forgot what I did to install
other perl bindings, but I probably did it with fink, by manually
running some CPAN installs and with some other tricks to make external
libraries work.)

I suspect that there's a problem with your system (not implying that
it's your fault, just a slightly broken package)

Try if this hello world works. If it crashes, you need to blame your
installation, but I have no idea where to start looking for the fault.
If it doesn't ... well ... then I'm even more confused.

#!/usr/bin/perl

use Tk;
use strict;
use warnings;

my $mw = new MainWindow;
$mw->title( 'Hello' );

$mw->Label( -text => 'Hello World' )->pack;
$mw->Button( -text => "Done", -command => sub { exit } )->pack;

MainLoop;


Mojca

From mojca.miklavec.lists at gmail.com  Sun Jul 20 23:44:38 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 20 Jul 2008 23:44:38 +0200
Subject: [tex-live] TeXLive 2008 Windows Feedback (Version 20080716)
In-Reply-To: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
References: <cd3b087a0807180740s43205b3crc403908c5ba8d396@mail.gmail.com>
Message-ID: <6faad9f00807201444n52aae9e6g8a7eeda72225cec4@mail.gmail.com>

On Fri, Jul 18, 2008 at 4:40 PM, Nicholas Wourms wrote:
>
> The Ugly (well not really that bad, just aesthetic aspects):
> 1) If you are going to use TkPerl, please distribute a version using
> Tk 8.5+, the fugliness of earlier versions (due to bad!font rendering)
> is terrible.

Tk 8.5 is way too new. People have enough problems making the old
version of Tk to run (on Mac for example). Believe me - you don't want
to default to Tk 8.5 unless there's a backward compatibility
available. At least not for TL2008, even if code was already written.

Mojca

From gnwiii at gmail.com  Mon Jul 21 13:25:26 2008
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 21 Jul 2008 08:25:26 -0300
Subject: [tex-live] problems with tlmgr --gui in Mac OS X
In-Reply-To: <6faad9f00807201332s31173d1erb4a82fc0fd969fce@mail.gmail.com>
References: <8F4665F4-D55F-45FD-8F96-04396049D9D6@fis.ucm.es>
	<22af238a0807201215p51b27829pda093944b0c5d59a@mail.gmail.com>
	<6faad9f00807201332s31173d1erb4a82fc0fd969fce@mail.gmail.com>
Message-ID: <22af238a0807210425h225eb377yede1672ce7374a3b@mail.gmail.com>

On Sun, Jul 20, 2008 at 5:32 PM, Mojca Miklavec
<mojca.miklavec.lists at gmail.com> wrote:
> On Sun, Jul 20, 2008 at 9:15 PM, George N. White III wrote:
>> On Sun, Jul 20, 2008 at 3:40 PM, Artemio Gonzalez Lopez wrote:
>>
>>> "tlmgr --gui update" (or any other action, for that matter) makes perl
>>> crash  with a bus error in Mac OS X 10.5.4 (on my 3.06 GHz iMac, running the
>>> TeXLive 2008-07-18 distribution updated via rsync); see the crash report
>>> below for more details. FWIW, the perl/tk distribution I'm using was
>>> installed via MacPorts (it's the p5-tk package).
>>
>> I also get a bus error from "tlmgr --gui" on OS X 10.5.4 using perl5 from
>> macports, but have not had time to investigate.   I did, however, see some
>> failed tests with p5-tk, and the crash report also points to Tk, so when
>> I do get time I want to run the Perl::Tk tests again.   It may be some
>> small comfort to know that your pain is shared by others.
>
> I still have OS X 10.4 and Perl/Tk (and consequently TL installer)
> works here, though it was a pain installing it. (I had to install X11,
> which already comes with 10.5, and I forgot what I did to install
> other perl bindings, but I probably did it with fink, by manually
> running some CPAN installs and with some other tricks to make external
> libraries work.)

I didn't find X11 hard to install, but there is some bad information
posted on the net.  Our mission critical apps use X11.

Fink hasn't been keeping up with 10.5, so I use macports, but p5-tk failed
some tests during build, so it is no surprise that has some problems.

> I suspect that there's a problem with your system (not implying that
> it's your fault, just a slightly broken package)
>
> Try if this hello world works. If it crashes, you need to blame your
> installation, but I have no idea where to start looking for the fault.
> If it doesn't ... well ... then I'm even more confused.

Well, I don't have Tk installed for the /usr/bin/perl, so your script
gives: "Can't locate Tk.pm ...", while /usr/bin/env perl gives the
"bus error".   Unfortunately, I have much worse problems atm --
the NFS mounts are down, the new Mac Pro won't talk to the network
at all; it may be a while before I can look into this in more detail.

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From mojca.miklavec.lists at gmail.com  Mon Jul 21 13:37:22 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 21 Jul 2008 13:37:22 +0200
Subject: [tex-live] problems with tlmgr --gui in Mac OS X
In-Reply-To: <22af238a0807210425h225eb377yede1672ce7374a3b@mail.gmail.com>
References: <8F4665F4-D55F-45FD-8F96-04396049D9D6@fis.ucm.es>
	<22af238a0807201215p51b27829pda093944b0c5d59a@mail.gmail.com>
	<6faad9f00807201332s31173d1erb4a82fc0fd969fce@mail.gmail.com>
	<22af238a0807210425h225eb377yede1672ce7374a3b@mail.gmail.com>
Message-ID: <6faad9f00807210437la605e91h56806b35af97978@mail.gmail.com>

On Mon, Jul 21, 2008 at 1:25 PM, George N. White III wrote:
> On Sun, Jul 20, 2008 at 5:32 PM, Mojca Miklavec
> <mojca.miklavec.lists at gmail.com> wrote:
>> On Sun, Jul 20, 2008 at 9:15 PM, George N. White III wrote:
>>> On Sun, Jul 20, 2008 at 3:40 PM, Artemio Gonzalez Lopez wrote:
>>>
>>>> "tlmgr --gui update" (or any other action, for that matter) makes perl
>>>> crash  with a bus error in Mac OS X 10.5.4 (on my 3.06 GHz iMac, running the
>>>> TeXLive 2008-07-18 distribution updated via rsync); see the crash report
>>>> below for more details. FWIW, the perl/tk distribution I'm using was
>>>> installed via MacPorts (it's the p5-tk package).
>>>
>>> I also get a bus error from "tlmgr --gui" on OS X 10.5.4 using perl5 from
>>> macports, but have not had time to investigate.   I did, however, see some
>>> failed tests with p5-tk, and the crash report also points to Tk, so when
>>> I do get time I want to run the Perl::Tk tests again.   It may be some
>>> small comfort to know that your pain is shared by others.
>>
>> I still have OS X 10.4 and Perl/Tk (and consequently TL installer)
>> works here, though it was a pain installing it. (I had to install X11,
>> which already comes with 10.5, and I forgot what I did to install
>> other perl bindings, but I probably did it with fink, by manually
>> running some CPAN installs and with some other tricks to make external
>> libraries work.)
>
> I didn't find X11 hard to install, but there is some bad information
> posted on the net.  Our mission critical apps use X11.
>
> Fink hasn't been keeping up with 10.5

It hasn't been keeping up with anything at all, not only 10.5. The
fact that it still only provides tetex (no intentions to provide
texlive at all), and that it forces you to install tetex if you want
to install gnuplot (after asking you to put its path in front of
anything else).

I'll indeed just remove it one day. macports seems to be much better
in that respect.

> so I use macports, but p5-tk failed
> some tests during build, so it is no surprise that has some problems.
>
>> I suspect that there's a problem with your system (not implying that
>> it's your fault, just a slightly broken package)
>>
>> Try if this hello world works. If it crashes, you need to blame your
>> installation, but I have no idea where to start looking for the fault.
>> If it doesn't ... well ... then I'm even more confused.
>
> Well, I don't have Tk installed for the /usr/bin/perl, so your script
> gives: "Can't locate Tk.pm ...",

Sorry, it should have been /usr/bin/env, I just copy-pasted.

> while /usr/bin/env perl gives the "bus error".

So the problem is in Perl/Tk, not in TeX Live.

Mojca

From artemio at fis.ucm.es  Mon Jul 21 20:10:47 2008
From: artemio at fis.ucm.es (Artemio Gonzalez Lopez)
Date: Mon, 21 Jul 2008 20:10:47 +0200
Subject: [tex-live] tex-live Digest, Vol 66, Issue 45
In-Reply-To: <mailman.3.1216634401.2935.tex-live@tug.org>
References: <mailman.3.1216634401.2935.tex-live@tug.org>
Message-ID: <9D54D643-D369-4A8A-A2D7-36647FF02C81@fis.ucm.es>


On Jul 21, 2008, at 12:00 PM, Mojca Miklavec wrote:

> On Sun, Jul 20, 2008 at 9:15 PM, George N. White III wrote:
>> On Sun, Jul 20, 2008 at 3:40 PM, Artemio Gonzalez Lopez wrote:
>>
>>> "tlmgr --gui update" (or any other action, for that matter) makes  
>>> perl
>>> crash  with a bus error in Mac OS X 10.5.4 (on my 3.06 GHz iMac,  
>>> running the
>>> TeXLive 2008-07-18 distribution updated via rsync); see the crash  
>>> report
>>> below for more details. FWIW, the perl/tk distribution I'm using was
>>> installed via MacPorts (it's the p5-tk package).
>>
>> I also get a bus error from "tlmgr --gui" on OS X 10.5.4 using  
>> perl5 from
>> macports, but have not had time to investigate.   I did, however,  
>> see some
>> failed tests with p5-tk, and the crash report also points to Tk, so  
>> when
>> I do get time I want to run the Perl::Tk tests again.   It may be  
>> some
>> small comfort to know that your pain is shared by others.
>
> I still have OS X 10.4 and Perl/Tk (and consequently TL installer)
> works here, though it was a pain installing it. (I had to install X11,
> which already comes with 10.5, and I forgot what I did to install
> other perl bindings, but I probably did it with fink, by manually
> running some CPAN installs and with some other tricks to make external
> libraries work.)
>
> I suspect that there's a problem with your system (not implying that
> it's your fault, just a slightly broken package)
>
> Try if this hello world works. If it crashes, you need to blame your
> installation, but I have no idea where to start looking for the fault.
> If it doesn't ... well ... then I'm even more confused.
>
> #!/usr/bin/perl
>
> use Tk;
> use strict;
> use warnings;
>
> my $mw = new MainWindow;
> $mw->title( 'Hello' );
>
> $mw->Label( -text => 'Hello World' )->pack;
> $mw->Button( -text => "Done", -command => sub { exit } )->pack;
>
> MainLoop;
>
>
> Mojca



Thanks a lot everybody for your almost instant help. Mojca, I did run  
your "hello world" perl/tk script, and it indeed crashed with a bus  
error, so I guess my Perl/Tk distribution is somehow broken. As I  
said, I installed Perl/Tk via MacPort's p5-tk package, whose info says  
the following:

p5-tk 804.028, perl/p5-tk (Variants: universal)
http://search.cpan.org/dist/Tk/
Library Dependencies: perl5.8, tk, p5-term-readkey

Does this makes sense as a viable Perl-Tk distribution, or is  
something else needed?

Thanks again,

Artemio


Artemio Gonzalez-Lopez
email:    artemio at fis.ucm.es
URL:      http://jacobi.fis.ucm.es/artemio



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080721/c8274fe6/attachment.html 

From gnwiii at gmail.com  Tue Jul 22 01:22:53 2008
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 21 Jul 2008 20:22:53 -0300
Subject: [tex-live] tex-live Digest, Vol 66, Issue 45
In-Reply-To: <9D54D643-D369-4A8A-A2D7-36647FF02C81@fis.ucm.es>
References: <mailman.3.1216634401.2935.tex-live@tug.org>
	<9D54D643-D369-4A8A-A2D7-36647FF02C81@fis.ucm.es>
Message-ID: <22af238a0807211622h23855e44qfe9138f22e361dca@mail.gmail.com>

On Mon, Jul 21, 2008 at 3:10 PM, Artemio Gonzalez Lopez
<artemio at fis.ucm.es> wrote:
>
> On Jul 21, 2008, at 12:00 PM, Mojca Miklavec wrote:
>
> On Sun, Jul 20, 2008 at 9:15 PM, George N. White III wrote:
>
> On Sun, Jul 20, 2008 at 3:40 PM, Artemio Gonzalez Lopez wrote:
>
> "tlmgr --gui update" (or any other action, for that matter) makes perl
>
> crash  with a bus error in Mac OS X 10.5.4 (on my 3.06 GHz iMac, running the
>
> TeXLive 2008-07-18 distribution updated via rsync); see the crash report
>
> below for more details. FWIW, the perl/tk distribution I'm using was
>
> installed via MacPorts (it's the p5-tk package).
>
> I also get a bus error from "tlmgr --gui" on OS X 10.5.4 using perl5 from
>
> macports, but have not had time to investigate.   I did, however, see some
>
> failed tests with p5-tk, and the crash report also points to Tk, so when
>
> I do get time I want to run the Perl::Tk tests again.   It may be some
>
> small comfort to know that your pain is shared by others.
>
> I still have OS X 10.4 and Perl/Tk (and consequently TL installer)
> works here, though it was a pain installing it. (I had to install X11,
> which already comes with 10.5, and I forgot what I did to install
> other perl bindings, but I probably did it with fink, by manually
> running some CPAN installs and with some other tricks to make external
> libraries work.)
>
> I suspect that there's a problem with your system (not implying that
> it's your fault, just a slightly broken package)
>
> Try if this hello world works. If it crashes, you need to blame your
> installation, but I have no idea where to start looking for the fault.
> If it doesn't ... well ... then I'm even more confused.
>
> #!/usr/bin/perl
>
> use Tk;
> use strict;
> use warnings;
>
> my $mw = new MainWindow;
> $mw->title( 'Hello' );
>
> $mw->Label( -text => 'Hello World' )->pack;
> $mw->Button( -text => "Done", -command => sub { exit } )->pack;
>
> MainLoop;
>
>
> Mojca
>
>
> Thanks a lot everybody for your almost instant help. Mojca, I did run your
> "hello world" perl/tk script, and it indeed crashed with a bus error, so I
> guess my Perl/Tk distribution is somehow broken. As I said, I installed
> Perl/Tk via MacPort's p5-tk package, whose info says the following:
> p5-tk 804.028, perl/p5-tk (Variants: universal)
> http://search.cpan.org/dist/Tk/
> Library Dependencies: perl5.8, tk, p5-term-readkey
> Does this makes sense as a viable Perl-Tk distribution, or is something else
> needed?

It appears that some bug in p5-tk needs to be fixed, but at present I
don't have
time to look into the problem -- it is easier to stick with the
command-line mode,
which does work.  The next step is to prepare a bug report for macports ( I did
check, and there isn't a current bug filed against p5-tk).

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From karl at freefriends.org  Wed Jul 23 21:07:27 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 23 Jul 2008 14:07:27 -0500
Subject: [tex-live] aifont
In-Reply-To: <f03b6a440807181535x4463f734ya51e39eac7bacfae@mail.gmail.com>
Message-ID: <200807231907.m6NJ7RT13613@f7.net>

    I therefore recommend that all files associated with aifont not be
    included in the next release of TeX Live.

Thanks Skip!  Always nice to reclaim some space :).
I removed the package.

All the best,
Karl

From karl at freefriends.org  Thu Jul 24 01:01:48 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 23 Jul 2008 18:01:48 -0500
Subject: [tex-live] Minor things
In-Reply-To: <4880AC7F.1070102@ankabut.net>
Message-ID: <200807232301.m6NN1mr17129@f7.net>

Hi Francois,

    gfsporson and gfsbaskerville are in collection-langgreek, but 
    gfsartemisia, gfsbodoni, gfscomplutum, gfsdidot, gfsneohellenic and 
    gfssolomos are in collection-fontsextra. Shouldn't they all be in 
    collection-langgreek?

As I understand it, porson and baskerville only support Greek.  The
others support English (et al.).  Hence the difference.

I think all the other changes/updates you mentioned have been made.

Thanks,
karl

From mrl at psfc.mit.edu  Thu Jul 24 03:10:13 2008
From: mrl at psfc.mit.edu (Mark London)
Date: Wed, 23 Jul 2008 21:10:13 -0400
Subject: [tex-live] Remapping a Tex Font to an Adobe font in dvipdfm?
Message-ID: <4887D675.6000205@psfc.mit.edu>

Hi - I'm presently using the TeX URW Arial font for Arial, but it's not quite real Arial.  So I've changed the URW Arial map file (UA1.MAP) so that it maps the URW Arial fonts to Adobe ArialMT fonts.  This works great when converting the DVI to PS.  However, I want the same ability when using DVI to PDF also.  Is this possible?  Right now I'm creating the PDF file by converting the PS file to a PDF using Adobe Distiller, but it would be more convenient if it could be done in one step.  Thanks. - Mark 


From mojca.miklavec.lists at gmail.com  Thu Jul 24 09:52:05 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 24 Jul 2008 09:52:05 +0200
Subject: [tex-live] Remapping a Tex Font to an Adobe font in dvipdfm?
In-Reply-To: <4887D675.6000205@psfc.mit.edu>
References: <4887D675.6000205@psfc.mit.edu>
Message-ID: <6faad9f00807240052mb1f6833sb79f1ec987463e7c@mail.gmail.com>

On Thu, Jul 24, 2008 at 3:10 AM, Mark London wrote:
> Hi - I'm presently using the TeX URW Arial font for Arial, but it's not
> quite real Arial.  So I've changed the URW Arial map file (UA1.MAP) so that
> it maps the URW Arial fonts to Adobe ArialMT fonts.  This works great when
> converting the DVI to PS.  However, I want the same ability when using DVI
> to PDF also.  Is this possible?  Right now I'm creating the PDF file by
> converting the PS file to a PDF using Adobe Distiller, but it would be more
> convenient if it could be done in one step.  Thanks. - Mark

I don't know anything about the specific question you asked, but I
guess that both pdf(la)tex and dvipdfmx could use the same (dvips) map
file. Can you try with pdf(la)tex and see if it works as expected?

You can always try dvipdfmx (from TeX Live 2008, not earlier), but
using pdfTeX is more simple and better unless you need some very
special features of dvipdfmx.

Mojca

From zdenek.wagner at gmail.com  Thu Jul 24 10:39:04 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 24 Jul 2008 10:39:04 +0200
Subject: [tex-live] Remapping a Tex Font to an Adobe font in dvipdfm?
In-Reply-To: <6faad9f00807240052mb1f6833sb79f1ec987463e7c@mail.gmail.com>
References: <4887D675.6000205@psfc.mit.edu>
	<6faad9f00807240052mb1f6833sb79f1ec987463e7c@mail.gmail.com>
Message-ID: <8719b6240807240139v51a287a2tf2562138f2169c77@mail.gmail.com>

2008/7/24 Mojca Miklavec <mojca.miklavec.lists at gmail.com>:
> On Thu, Jul 24, 2008 at 3:10 AM, Mark London wrote:
>> Hi - I'm presently using the TeX URW Arial font for Arial, but it's not
>> quite real Arial.  So I've changed the URW Arial map file (UA1.MAP) so that
>> it maps the URW Arial fonts to Adobe ArialMT fonts.  This works great when
>> converting the DVI to PS.  However, I want the same ability when using DVI
>> to PDF also.  Is this possible?  Right now I'm creating the PDF file by
>> converting the PS file to a PDF using Adobe Distiller, but it would be more
>> convenient if it could be done in one step.  Thanks. - Mark
>
> I don't know anything about the specific question you asked, but I
> guess that both pdf(la)tex and dvipdfmx could use the same (dvips) map
> file. Can you try with pdf(la)tex and see if it works as expected?
>
The syntax is different but updmap generates both from a single
source. Anyway, it is bad idea to map URW fonts to Adobe fonts, or
generally, free fonts to non-free fonts. People may not have purchased
Adobe fonts. If you think that you just put links to the fonts into
your documents and assume that Adobe Reader comes with the fonts you
ask for big problems. The commercial world cares for money, not for
compatibility. Different programs (or even different versions of Adobe
Reader) contain different versions of the fonts with the same name.
There are at least three versions of Times-Roman and Helvetica in
Adobe Reader. I had big problems with it, interword spaces vanished,
diacritical marks produced by the \accent primitive or via virtual
font were shifted, sometimes even 2 characters to the right. If you
really want to use Adobe Arial, then do not use maps for URW fonts but
create a new map, generate metrics files for the version of Adobe
fonts that you have, change it in your document so that it is clear
that Adobe fonts are being used and be sure that you have purchased
Adobe fonts and embed them in your documents. Good DTP studios refuse
to process PDF files if the fonts are not embedded.

> You can always try dvipdfmx (from TeX Live 2008, not earlier), but
> using pdfTeX is more simple and better unless you need some very
> special features of dvipdfmx.
>
> Mojca
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From oberdiek at uni-freiburg.de  Thu Jul 24 11:16:38 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 24 Jul 2008 11:16:38 +0200
Subject: [tex-live] texdoc -l dvipdfm
Message-ID: <20080724091638.GA3130@irwin.wlan.privat>

Hello,

AFAIK "texdoc -l" should find *all* finds that match the name?

"find . -name dvipdfm.pdf" reports:
    ./texmf/doc/man/man1/dvipdfm.pdf
    ./texmf/doc/dvipdfm/dvipdfm.pdf

"texdoc -s dvipdfm" finds both versions (among other files):
   texmf/doc/dvipdfm/dvipdfm.pdf
   texmf/doc/man/man1/dvipdfm.pdf

But "texdoc -l dvipdfm" finds only:
    texmf/doc/man/man1/dvipdfm.pdf

Thus "texdoc -l" seems to be broken.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From oberdiek at uni-freiburg.de  Thu Jul 24 11:48:58 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 24 Jul 2008 11:48:58 +0200
Subject: [tex-live] location of pdfcrop's README
Message-ID: <20080724094858.GA3219@irwin.wlan.privat>

Hello,

TDS 1.1 says about TDS:doc/:

| The TDS specifies that these additional documentation files shall be
| stored in a structure that parallels to some extent the fonts and tex
| directories, as follows:
|       texmf/doc/<category>/...
|
| <category> identifies the general topic of documentation that resides
| below it; for example, a TEX format name (latex), program name (bibtex,
| tex), language (french, german), a file format (info, man), or other
| system components (web, fonts).
| [...]
| The TDS reserves the following category names:
| * general, for standalone documents not specific to any particular
|   program (for example, Joachim Schrod's Components of TEX ).

TL also uses "general" for documentation files for TDS:tex/generic.
It makes sense, because this "parallels" the tex directory (see
first paragraph above).
  Probably TDS 1.1 should be updated?

But I think, the following location seems to be wrong:
  TDS:doc/generic/pdfcrop/README

The README file isn't a standalone documentation, it belongs
to the script pdfcrop.pl. Also pdfcrop is independent from
TDS:tex/generic.
  The CTAN location is CTAN:support/pdfcrop.

Therefore I suggest
  TDS:doc/support/pdfcrop/README

BTW: texdoc could use its alias mechanism that "texdoc pdfcrop"
calls the README at least (There isn't better documentation,
no manual page, ...).

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From texmajia at yahoo.cn  Thu Jul 24 15:17:03 2008
From: texmajia at yahoo.cn (Xiao Cui)
Date: Thu, 24 Jul 2008 21:17:03 +0800 (CST)
Subject: [tex-live] problem with fc-list
Message-ID: <864283.31228.qm@web92203.mail.cnh.yahoo.com>

Hi,
   
  I am trying TexLive 20080724 with windows vista. I copied the iso image to a SD card. Then I run
   
  G:\TL20080724>tl-portable
Testing for write access G:\TL20080724\...
   See ./index.html for links to documentation.  The TeX Live web site
 (http://tug.org/texlive/) contains any updates and corrections.
   TeX Live is a joint project of the TeX user groups around the world;
 please consider supporting it by joining the group best for you. The
 list of groups is available on the web at http://tug.org/usergroups.html.
   Welcome to TeX Live!
  TL G:\TL20080724>fc-list
Fontconfig error: Cannot load default config file
  TL G:\TL20080724>
   
  What is wrong with it?
   
  Xiao

       
---------------------------------
 ????????????
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080724/df19ec40/attachment.html 

From kakuto at fuk.kindai.ac.jp  Thu Jul 24 16:22:01 2008
From: kakuto at fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 24 Jul 2008 23:22:01 +0900
Subject: [tex-live] problem with fc-list
In-Reply-To: Your message of "Thu, 24 Jul 2008 21:17:03 +0800 (CST)"
References: <864283.31228.qm@web92203.mail.cnh.yahoo.com>
Message-ID: <200807241422.m6OEM25b012294@jupiter>

Hi Xiao,

>   TL G:\TL20080724>fc-list
> Fontconfig error: Cannot load default config file
>   TL G:\TL20080724>
>    
>   What is wrong with it?

Please show the outputs of
kpsewhich --var-value=FONTCONFIG_PATH
and
kpsewhich --var-value=FONTCONFIG_FILE

-- 
Akira Kakuto

From staw at gust.org.pl  Thu Jul 24 16:40:27 2008
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 24 Jul 2008 16:40:27 +0200 (CEST)
Subject: [tex-live] problem with fc-list
In-Reply-To: <200807241422.m6OEM25b012294@jupiter>
Message-ID: <Pine.LNX.4.44.0807241633550.19516-100000@staw.homedns.org>

On Thu, 24 Jul 2008, Akira Kakuto wrote:

> >   TL G:\TL20080724>fc-list
> > Fontconfig error: Cannot load default config file
> >   TL G:\TL20080724>
> >    
> >   What is wrong with it?
> 
> Please show the outputs of
> kpsewhich --var-value=FONTCONFIG_PATH
> and
> kpsewhich --var-value=FONTCONFIG_FILE

Seems to me that the problem is related to tl-portable setup. Siep,
would you please checking that?
Anyway, normal installation is OK, except old known problem that
fc-cache fails during installation (running as subsubprocess
can have any influence??), but works well _after_ installation.

Thanks,

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From mrl at psfc.mit.edu  Thu Jul 24 16:46:11 2008
From: mrl at psfc.mit.edu (Mark London)
Date: Thu, 24 Jul 2008 10:46:11 -0400
Subject: [tex-live] Remapping a Tex Font to an Adobe font in dvipdfm?
In-Reply-To: <6faad9f00807240052mb1f6833sb79f1ec987463e7c@mail.gmail.com>
References: <4887D675.6000205@psfc.mit.edu>
	<6faad9f00807240052mb1f6833sb79f1ec987463e7c@mail.gmail.com>
Message-ID: <488895B3.5080105@psfc.mit.edu>

I can't use pdftex because the TeX file includes postscript figures, 
which pdftex doesn't seem to handle.

Mojca Miklavec wrote:
> On Thu, Jul 24, 2008 at 3:10 AM, Mark London wrote:
>   
>> Hi - I'm presently using the TeX URW Arial font for Arial, but it's not
>> quite real Arial.  So I've changed the URW Arial map file (UA1.MAP) so that
>> it maps the URW Arial fonts to Adobe ArialMT fonts.  This works great when
>> converting the DVI to PS.  However, I want the same ability when using DVI
>> to PDF also.  Is this possible?  Right now I'm creating the PDF file by
>> converting the PS file to a PDF using Adobe Distiller, but it would be more
>> convenient if it could be done in one step.  Thanks. - Mark
>>     
>
> I don't know anything about the specific question you asked, but I
> guess that both pdf(la)tex and dvipdfmx could use the same (dvips) map
> file. Can you try with pdf(la)tex and see if it works as expected?
>
> You can always try dvipdfmx (from TeX Live 2008, not earlier), but
> using pdfTeX is more simple and better unless you need some very
> special features of dvipdfmx.
>
> Mojca
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080724/a2b30ce7/attachment.html 

From zdenek.wagner at gmail.com  Thu Jul 24 16:57:51 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 24 Jul 2008 16:57:51 +0200
Subject: [tex-live] Remapping a Tex Font to an Adobe font in dvipdfm?
In-Reply-To: <488895B3.5080105@psfc.mit.edu>
References: <4887D675.6000205@psfc.mit.edu>
	<6faad9f00807240052mb1f6833sb79f1ec987463e7c@mail.gmail.com>
	<488895B3.5080105@psfc.mit.edu>
Message-ID: <8719b6240807240757l62e201e7j8489a7adb5447282@mail.gmail.com>

2008/7/24 Mark London <mrl at psfc.mit.edu>:
> I can't use pdftex because the TeX file includes postscript figures, which
> pdftex doesn't seem to handle.
>
You can use epstopdf for conversion of EPS to PDF which can be
uncluded by pdftex.

> Mojca Miklavec wrote:
>
> On Thu, Jul 24, 2008 at 3:10 AM, Mark London wrote:
>
>
> Hi - I'm presently using the TeX URW Arial font for Arial, but it's not
> quite real Arial.  So I've changed the URW Arial map file (UA1.MAP) so that
> it maps the URW Arial fonts to Adobe ArialMT fonts.  This works great when
> converting the DVI to PS.  However, I want the same ability when using DVI
> to PDF also.  Is this possible?  Right now I'm creating the PDF file by
> converting the PS file to a PDF using Adobe Distiller, but it would be more
> convenient if it could be done in one step.  Thanks. - Mark
>
>
> I don't know anything about the specific question you asked, but I
> guess that both pdf(la)tex and dvipdfmx could use the same (dvips) map
> file. Can you try with pdf(la)tex and see if it works as expected?
>
> You can always try dvipdfmx (from TeX Live 2008, not earlier), but
> using pdfTeX is more simple and better unless you need some very
> special features of dvipdfmx.
>
> Mojca
>



-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From firmicus at ankabut.net  Thu Jul 24 17:11:58 2008
From: firmicus at ankabut.net (=?ISO-8859-1?Q?Fran=E7ois_Charette?=)
Date: Thu, 24 Jul 2008 17:11:58 +0200
Subject: [tex-live] Minor things
In-Reply-To: <200807232301.m6NN1mr17129@f7.net>
References: <200807232301.m6NN1mr17129@f7.net>
Message-ID: <48889BBE.7010309@ankabut.net>

Karl Berry wrote:
> Hi Francois,
>
>     gfsporson and gfsbaskerville are in collection-langgreek, but 
>     gfsartemisia, gfsbodoni, gfscomplutum, gfsdidot, gfsneohellenic and 
>     gfssolomos are in collection-fontsextra. Shouldn't they all be in 
>     collection-langgreek?
>
> As I understand it, porson and baskerville only support Greek.  The
> others support English (et al.).  Hence the difference.
>
>   

That makes sense. And since the cbfonts in the langgreek collection 
already occupy 85MB (!!), it's certainly better to leave the other fonts 
where they are. Just out of curiosity, why is the cbfonts package so 
large? I had a quick look at the documentation, but still I could not 
quite figure out why the type1 fonts should amount to 75MB.

F

From siepo at cybercomm.nl  Thu Jul 24 18:33:24 2008
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 24 Jul 2008 18:33:24 +0200
Subject: [tex-live] problem with fc-list
In-Reply-To: <864283.31228.qm@web92203.mail.cnh.yahoo.com>
References: <864283.31228.qm@web92203.mail.cnh.yahoo.com>
Message-ID: <20080724163324.GA5815@molly>

On Thu, Jul 24, 2008 at 09:17:03PM +0800, Xiao Cui wrote:
> Hi,
>    
>   I am trying TexLive 20080724 with windows vista. I copied the iso image to a SD card. Then I run
>    
>   G:\TL20080724>tl-portable
> Testing for write access G:\TL20080724\...
>    See ./index.html for links to documentation.  The TeX Live web site
>  (http://tug.org/texlive/) contains any updates and corrections.
>    TeX Live is a joint project of the TeX user groups around the world;
>  please consider supporting it by joining the group best for you. The
>  list of groups is available on the web at http://tug.org/usergroups.html.
>    Welcome to TeX Live!
>   TL G:\TL20080724>fc-list
> Fontconfig error: Cannot load default config file
>   TL G:\TL20080724>
>    
>   What is wrong with it?
>    
>   Xiao

I updated install-tl to do some postprocessing for xetex even in the
tl-portable case. This postprocessing configures and runs fc-cache.

You can get this new install-tl e.g. by going to
http://www.tug.org/svn/texlive/trunk/Master/install-tl?view=log and
pressing the download button for revision 9752.

Before re-running tl-portable.bat with the new install-tl, remove
texmf-var from your ssd card to force regeneration of everything.

Unfortunately, in my test fc-cache failed on almost every single
font directory.  This is a problem I encountered earlier in
connection with the semi-portable run from dvd install, but it could
not be reproduced by others. So maybe it is an artefact of my test
installation.

Please report back.

-- 
Siep Kroonenberg

From mpg at elzevir.fr  Thu Jul 24 19:17:45 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 24 Jul 2008 19:17:45 +0200
Subject: [tex-live] texdoc -l dvipdfm
In-Reply-To: <20080724091638.GA3130@irwin.wlan.privat>
References: <20080724091638.GA3130@irwin.wlan.privat>
Message-ID: <4888B939.7020900@elzevir.fr>

Hi Heiko,

Heiko Oberdiek scripsit (24.07.2008 11:16)
> AFAIK "texdoc -l" should find *all* finds that match the name?
> 
Depends what you mean with "should" :-) For the moment, I always assumed that
texdoc "should" continue working (I mean, for existing options) like the
previous versions did (precisely, the texlua version by Frank K?ster and the
shell script version by Thomas Esser from TL'05, which I can easily test).

But concerning the -l option, indeed I was thinking since a few days
(rethinking which search mode should be used in every case) that it's not very
usefull as it is, and it should rather give something like

>     ./texmf/doc/man/man1/dvipdfm.pdf
>     ./texmf/doc/dvipdfm/dvipdfm.pdf
> 
indeed.

> Thus "texdoc -l" seems to be broken.
> 
Broken implies it was working better in the past. AFAIK this is not the case.
But I agree that we probably should change it, esp. given the number of
duplicates introduced by the recent pdf-isation of all man pages and you knuth
module in latex-tds.

I'll probably be re-working a lot of things in texdoc in the days coming and
come with a nearly-final implementation this week-end, asking for your
comments about it.

Thanks,
Manuel.


From mpg at elzevir.fr  Thu Jul 24 19:24:46 2008
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 24 Jul 2008 19:24:46 +0200
Subject: [tex-live] location of pdfcrop's README
In-Reply-To: <20080724094858.GA3219@irwin.wlan.privat>
References: <20080724094858.GA3219@irwin.wlan.privat>
Message-ID: <4888BADE.7050805@elzevir.fr>

Hi,

No strong opinion on the TDS stuff, but:

Heiko Oberdiek scripsit (24.07.2008 11:48)
> BTW: texdoc could use its alias mechanism that "texdoc pdfcrop"
> calls the README at least (There isn't better documentation,
> no manual page, ...).
> 
I had basically not network access at Cork for the last few days, but in my
local copy (soon to be committed, as soon as it's no longer broken) texdoc
already finds pdfcrop's README by defaulting to a -s style search when normal
search gives no result.

Thanks,
Manuel.


From oberdiek at uni-freiburg.de  Thu Jul 24 19:48:50 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 24 Jul 2008 19:48:50 +0200
Subject: [tex-live] texdoc -l dvipdfm
In-Reply-To: <4888B939.7020900@elzevir.fr>
References: <20080724091638.GA3130@irwin.wlan.privat>
	<4888B939.7020900@elzevir.fr>
Message-ID: <20080724174849.GA3250@irwin.wlan.privat>

Hi Manuel,

On Thu, Jul 24, 2008 at 07:17:45PM +0200, Manuel P?gouri?-Gonnard wrote:

> Heiko Oberdiek scripsit (24.07.2008 11:16)
> > AFAIK "texdoc -l" should find *all* finds that match the name?
> > 
> Depends what you mean with "should" :-) For the moment, I always assumed that
> texdoc "should" continue working (I mean, for existing options) like the
> previous versions did (precisely, the texlua version by Frank K?ster and the
> shell script version by Thomas Esser from TL'05, which I can easily test).
> 
> But concerning the -l option, indeed I was thinking since a few days
> (rethinking which search mode should be used in every case) that it's not very
> usefull as it is, and it should rather give something like
> 
> >     ./texmf/doc/man/man1/dvipdfm.pdf
> >     ./texmf/doc/dvipdfm/dvipdfm.pdf
> > 
> indeed.
> 
> > Thus "texdoc -l" seems to be broken.
> > 
> Broken implies it was working better in the past.

I don't know the behaviour in the past.

The manual page says:
| -l, --list
|     Just list all files that match name, do not start a
|     viewer.

> AFAIK this is not the case.

Then the conclusion could be: It was also broken in the past. ;-)

> But I agree that we probably should change it, [...]

Thanks. Otherwise it would be difficult to write the documentation
that describes and explains the behaviour usefulness of option --list
to a naive user like me. :-)

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From stefanulrich at users.sourceforge.net  Thu Jul 24 21:30:43 2008
From: stefanulrich at users.sourceforge.net (Stefan Ulrich)
Date: Thu, 24 Jul 2008 21:30:43 +0200
Subject: [tex-live] test for 'main texmf tree' in kpathsea/withenable.ac
Message-ID: <18568.55395.908739.671518@online.de>

Hi!

I'm in the process of merging the updates from tex-live into the
xdvik development tree at
http://xdvi.cvs.sourceforge.net/xdvi/xdvik/texk/xdvik/
It seems there's been a lot of infrastructure improvements; especially
the autoconf updates make life much easier, since reautoconf now finally
works without hassle - thanks for the great work!

I've got a question about the test for the main texmf tree in
texk/kpathsea/withenable.ac. This test has recently been changed to be
silent about failures since it doesn't work inside the build directory:

    # (be silent) dnl AC_MSG_RESULT([not found])

but this causes a missing newline in the configure output:

   checking for archiver options (symbol ARFLAGS)... rc
   checking where the main texmf tree is located... checking for grep that handles long lines and -e... /usr/bin/grep
   checking for egrep... /usr/bin/grep -E

Could this test actually be removed altogether, since the texmf
locations that used to be set by this test have been replaced by
$SELFAUTOPARENT (and texmf.cnf is no longer generated from texmf.in
in the first place)?

FWIW, the change to no longer use configure-time paths for texmf.cnf
makes it a bit more difficult to install a self-compiled xdvik to a
nonstandard location (outside the texmf tree), in which case
SELFAUTOPARENT won't work. It seems that one would need to create a
custom texmf.cnf with the 'real' paths instead of SELFAUTOPARENT, or
is there an easy way to override SELFAUTOPARENT?

Best regards,
Stefan

From siepo at cybercomm.nl  Thu Jul 24 23:32:28 2008
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 24 Jul 2008 23:32:28 +0200
Subject: [tex-live] problem with fc-list
In-Reply-To: <20080724163324.GA5815@molly>
References: <864283.31228.qm@web92203.mail.cnh.yahoo.com>
	<20080724163324.GA5815@molly>
Message-ID: <20080724213228.GB5815@molly>

On Thu, Jul 24, 2008 at 06:33:24PM +0200, Siep Kroonenberg wrote:
> On Thu, Jul 24, 2008 at 09:17:03PM +0800, Xiao Cui wrote:
> > Hi,
> >    
> >   I am trying TexLive 20080724 with windows vista. I copied the iso image to a SD card. Then I run
> >    
> >   G:\TL20080724>tl-portable
> > Testing for write access G:\TL20080724\...
> >    See ./index.html for links to documentation.  The TeX Live web site
> >  (http://tug.org/texlive/) contains any updates and corrections.
> >    TeX Live is a joint project of the TeX user groups around the world;
> >  please consider supporting it by joining the group best for you. The
> >  list of groups is available on the web at http://tug.org/usergroups.html.
> >    Welcome to TeX Live!
> >   TL G:\TL20080724>fc-list
> > Fontconfig error: Cannot load default config file
> >   TL G:\TL20080724>
> >    
> >   What is wrong with it?
> >    
> >   Xiao
> 
> I updated install-tl to do some postprocessing for xetex even in the
> tl-portable case. This postprocessing configures and runs fc-cache.
> 
> You can get this new install-tl e.g. by going to
> http://www.tug.org/svn/texlive/trunk/Master/install-tl?view=log and
> pressing the download button for revision 9752.
> 
> Before re-running tl-portable.bat with the new install-tl, remove
> texmf-var from your ssd card to force regeneration of everything.
> 
> Unfortunately, in my test fc-cache failed on almost every single
> font directory.  This is a problem I encountered earlier in
> connection with the semi-portable run from dvd install, but it could
> not be reproduced by others. So maybe it is an artefact of my test
> installation.

Same fc-cache problem with a normal non-admin Vista install. Font
config settings:

C:\Users\siepo>kpsewhich --var-value=FONTCONFIG_PATH
C:/Users/siepo/texlive/2008/texmf-var/fonts/conf

C:\Users\siepo>kpsewhich --var-value=FONTCONFIG_FILE
fonts.conf

-- 
Siep Kroonenberg

From karl at freefriends.org  Fri Jul 25 01:24:34 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 24 Jul 2008 18:24:34 -0500
Subject: [tex-live] test for 'main texmf tree' in kpathsea/withenable.ac
In-Reply-To: <18568.55395.908739.671518@online.de>
Message-ID: <200807242324.m6ONOYB19441@f7.net>

Hi Stefan,

    I'm in the process of merging the updates from tex-live into the
    xdvik development tree at

Peter B was going to send you a patch after the release.  (I think he's
offline for a time right now.)  He had a few additional cleanups to
make.  The autoconf improvements were his work, all kudos to him.

    but this causes a missing newline in the configure output:

Oops, I didn't realize that.  I'll have to change it to output something
innocuous, I guess.

    Could this test actually be removed altogether, 

Yes, sure.  I just didn't want to tamper with all the configure.in's at
that time.

    It seems that one would need to create a custom texmf.cnf with the
    'real' paths instead of SELFAUTOPARENT,

I suppose so, essentially recreating what used to be done in kpathsea.
The build-time paths were a headache; there's no going back.

I have the impression that anyone (e.g., distros) not using the SELFAUTO
stuff already have to change many things.

karl

From karl at freefriends.org  Fri Jul 25 01:57:37 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 24 Jul 2008 18:57:37 -0500
Subject: [tex-live] Minor things
In-Reply-To: <48889BBE.7010309@ankabut.net>
Message-ID: <200807242357.m6ONvbk08314@f7.net>

    why is the cbfonts package so large? 

Simply because it provides so many fonts at so many sizes -- nearly 1000
in all.  I don't know how Claudio decided exactly what to include.

Also, they were originally designed before scalable fonts were common,
so in that case the only space would be for the (bitmap) fonts actually
used ...

karl

From karl at freefriends.org  Fri Jul 25 02:06:38 2008
From: karl at freefriends.org (Karl Berry)
Date: Thu, 24 Jul 2008 19:06:38 -0500
Subject: [tex-live] location of pdfcrop's README
In-Reply-To: <20080724094858.GA3219@irwin.wlan.privat>
Message-ID: <200807250006.m6P06cj14577@f7.net>

    TL also uses "general" for documentation files for TDS:tex/generic.

It does?  I see no texmf*/doc/general directory.

    Probably TDS 1.1 should be updated?

Undoubtedly.

    Therefore I suggest
      TDS:doc/support/pdfcrop/README

Ok, I moved it.

Thanks,
k

From oberdiek at uni-freiburg.de  Fri Jul 25 07:30:03 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Fri, 25 Jul 2008 07:30:03 +0200
Subject: [tex-live] location of pdfcrop's README
In-Reply-To: <200807250006.m6P06cj14577@f7.net>
References: <20080724094858.GA3219@irwin.wlan.privat>
	<200807250006.m6P06cj14577@f7.net>
Message-ID: <20080725053003.GA6196@irwin.vpn.uni-freiburg.de>

On Thu, Jul 24, 2008 at 07:06:38PM -0500, Karl Berry wrote:

>     TL also uses "general" for documentation files for TDS:tex/generic.
> 
> It does?  I see no texmf*/doc/general directory.

Silly me. s/general/generic/;

>     Therefore I suggest
>       TDS:doc/support/pdfcrop/README
> 
> Ok, I moved it.

Thanks.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From siepo at cybercomm.nl  Fri Jul 25 12:45:30 2008
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 25 Jul 2008 12:45:30 +0200
Subject: [tex-live] =?utf-8?q?RE=EF=BC=9A_Re=3A__problem_with_fc-list?=
In-Reply-To: <700132.99441.qm@web92205.mail.cnh.yahoo.com>
References: <20080724213228.GB5815@molly>
	<700132.99441.qm@web92205.mail.cnh.yahoo.com>
Message-ID: <20080725104530.GB5621@molly>

On Fri, Jul 25, 2008 at 08:47:21AM +0800, Xiao Cui wrote:
>  
>   
> Siep Kroonenberg <siepo at cybercomm.nl> ???
>   On Thu, Jul 24, 2008 at 06:33:24PM +0200, Siep Kroonenberg wrote:
> 
> C:\Users\siepo>kpsewhich --var-value=FONTCONFIG_PATH
> C:/Users/siepo/texlive/2008/texmf-var/fonts/conf
> 
> C:\Users\siepo>kpsewhich --var-value=FONTCONFIG_FILE
> fonts.conf
> 
> -- 
> Siep Kroonenberg
>   I downloaded the last version of install-tl, neither v9753 nor v9752 gives the right result, no matter I logged in as an administrator or an ordinary user.
> 
>   Note that the installed version runs perfect.
>    
>   Here are some more information
>    
>   TL G:\TL20080724>set t
> TEMP=C:\Users\user1\AppData\Local\Temp
> TEXBINDIR=G:\TL20080724\bin\win32
> TEXDIR=G:\TL20080724\
> TEXDIRW=G:\TL20080724\
> TEXMFCONFIG=G:\TL20080724\texmf-config
> TEXMFDIST=G:\TL20080724\texmf-dist
> TEXMFHOME=G:\TL20080724\texmf-home
> TEXMFLOCAL=G:\TL20080724\texmf-local
> TEXMFMAIN=G:\TL20080724\texmf
> TEXMFSYSCONFIG=G:\TL20080724\texmf-config
> TEXMFSYSVAR=G:\TL20080724\texmf-var
> TEXMFVAR=G:\TL20080724\texmf-var
> tldrive=G:
> TMP=C:\Users\user1\AppData\Local\Temp
>    
>   TL G:\TL20080724>kpsewhich --var-value=FONTCONFIG_PATH
> G:/TL20080724/texmf-var/fonts/conf
>    
>   TL G:\TL20080724>kpsewhich --var-value=FONTCONFIG_FILE
> fonts.conf
> 
> Xiao

This looks fine. I believe that fc-cache now is configured
correctly.

As a workaround, remove or comment out lines containing texmf-dist
in the file G:/TL20080724/texmf-var/fonts/conf/fonts.conf

Do fc-cache and fc-list now behave correctly, and would xetex still
be useful to you with this configuration?

Please answer to the list since I cannot fix problems with fc-cache
myself.

-- 
Siep Kroonenberg

From texmajia at yahoo.cn  Fri Jul 25 18:37:09 2008
From: texmajia at yahoo.cn (Xiao Cui)
Date: Sat, 26 Jul 2008 00:37:09 +0800 (CST)
Subject: [tex-live] problem with fc-list
In-Reply-To: <20080725104530.GB5621@molly>
Message-ID: <701204.60661.qm@web92204.mail.cnh.yahoo.com>

Siep Kroonenberg <siepo at cybercomm.nl> ???  On Fri, Jul 25, 2008 at 08:47:21AM +0800, Xiao Cui wrote:
> 
> 
> Siep Kroonenberg ???
> On Thu, Jul 24, 2008 at 06:33:24PM +0200, Siep Kroonenberg wrote:
> 
> C:\Users\siepo>kpsewhich --var-value=FONTCONFIG_PATH
> C:/Users/siepo/texlive/2008/texmf-var/fonts/conf
> 
> C:\Users\siepo>kpsewhich --var-value=FONTCONFIG_FILE
> fonts.conf
> 
> -- 
> Siep Kroonenberg
> I downloaded the last version of install-tl, neither v9753 nor v9752 gives the right result, no matter I logged in as an administrator or an ordinary user.
> 
> Note that the installed version runs perfect.
> 
> Here are some more information
> 
> TL G:\TL20080724>set t
> TEMP=C:\Users\user1\AppData\Local\Temp
> TEXBINDIR=G:\TL20080724\bin\win32
> TEXDIR=G:\TL20080724\
> TEXDIRW=G:\TL20080724\
> TEXMFCONFIG=G:\TL20080724\texmf-config
> TEXMFDIST=G:\TL20080724\texmf-dist
> TEXMFHOME=G:\TL20080724\texmf-home
> TEXMFLOCAL=G:\TL20080724\texmf-local
> TEXMFMAIN=G:\TL20080724\texmf
> TEXMFSYSCONFIG=G:\TL20080724\texmf-config
> TEXMFSYSVAR=G:\TL20080724\texmf-var
> TEXMFVAR=G:\TL20080724\texmf-var
> tldrive=G:
> TMP=C:\Users\user1\AppData\Local\Temp
> 
> TL G:\TL20080724>kpsewhich --var-value=FONTCONFIG_PATH
> G:/TL20080724/texmf-var/fonts/conf
> 
> TL G:\TL20080724>kpsewhich --var-value=FONTCONFIG_FILE
> fonts.conf
> 
> Xiao

This looks fine. I believe that fc-cache now is configured
correctly.

As a workaround, remove or comment out lines containing texmf-dist
in the file G:/TL20080724/texmf-var/fonts/conf/fonts.conf

Do fc-cache and fc-list now behave correctly, and would xetex still
be useful to you with this configuration?

Please answer to the list since I cannot fix problems with fc-cache
myself.

-- 
Siep Kroonenberg
  
1. The current version 20080725 works well under Windows Vista. Many Thanks!
   
  2 .However, the same problem occurs under Windows XP. I found that there are only 3 folders in  texmf-var/fonts/: map, pk, and tfm. That is, there is not a folder named texmf-var/fonts/conf
   
  3. I COPY files in the image to a SD card which is writable. Then I run tl-portable under Windows vista. It generates necessary files/folders on the SD card. After that, it is usable with Windows XP.
   
  > would xetex still be useful to you with this configuration?
  I do not know what do you mean. Of course, xetex is very useful.
   
  Best,
  Xiao

       
---------------------------------
 ????????????
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080726/8cb73b34/attachment.html 

From stefanulrich at users.sourceforge.net  Fri Jul 25 19:49:36 2008
From: stefanulrich at users.sourceforge.net (Stefan Ulrich)
Date: Fri, 25 Jul 2008 19:49:36 +0200
Subject: [tex-live] test for 'main texmf tree' in kpathsea/withenable.ac
In-Reply-To: <200807242324.m6ONOYB19441@f7.net>
References: <18568.55395.908739.671518@online.de>
	<200807242324.m6ONOYB19441@f7.net>
Message-ID: <18570.4656.216052.444038@online.de>

Karl Berry <karl at freefriends.org> writes:

> Peter B was going to send you a patch after the release.  (I think he's
> offline for a time right now.)  He had a few additional cleanups to
> make.  The autoconf improvements were his work, all kudos to him.

Great, I'd still like to look at these diffs to see if I missed
something.

>     It seems that one would need to create a custom texmf.cnf with the
>     'real' paths instead of SELFAUTOPARENT,

> I suppose so, essentially recreating what used to be done in kpathsea.
> The build-time paths were a headache; there's no going back.

> I have the impression that anyone (e.g., distros) not using the SELFAUTO
> stuff already have to change many things.

OK, I'll put that into the INSTALL instructions then.

Thanks a lot!
Best,
Stefan

From siepo at cybercomm.nl  Fri Jul 25 21:01:54 2008
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Fri, 25 Jul 2008 21:01:54 +0200
Subject: [tex-live] problem with fc-list
In-Reply-To: <701204.60661.qm@web92204.mail.cnh.yahoo.com>
References: <20080725104530.GB5621@molly>
	<701204.60661.qm@web92204.mail.cnh.yahoo.com>
Message-ID: <20080725190154.GA5614@molly>

On Sat, Jul 26, 2008 at 12:37:09AM +0800, Xiao Cui wrote:
> > 
> > Here are some more information
> > 
> > TL G:\TL20080724>set t
> > TEMP=C:\Users\user1\AppData\Local\Temp
> > TEXBINDIR=G:\TL20080724\bin\win32
> > TEXDIR=G:\TL20080724\
> > TEXDIRW=G:\TL20080724\
> > TEXMFCONFIG=G:\TL20080724\texmf-config
> > TEXMFDIST=G:\TL20080724\texmf-dist
> > TEXMFHOME=G:\TL20080724\texmf-home
> > TEXMFLOCAL=G:\TL20080724\texmf-local
> > TEXMFMAIN=G:\TL20080724\texmf
> > TEXMFSYSCONFIG=G:\TL20080724\texmf-config
> > TEXMFSYSVAR=G:\TL20080724\texmf-var
> > TEXMFVAR=G:\TL20080724\texmf-var
> > tldrive=G:
> > TMP=C:\Users\user1\AppData\Local\Temp
> > 
> > TL G:\TL20080724>kpsewhich --var-value=FONTCONFIG_PATH
> > G:/TL20080724/texmf-var/fonts/conf
> > 
> > TL G:\TL20080724>kpsewhich --var-value=FONTCONFIG_FILE
> > fonts.conf
> > 
> > Xiao
> 
> This looks fine. I believe that fc-cache now is configured
> correctly.
> 
> As a workaround, remove or comment out lines containing texmf-dist
> in the file G:/TL20080724/texmf-var/fonts/conf/fonts.conf
> 
> Do fc-cache and fc-list now behave correctly, and would xetex still
> be useful to you with this configuration?
> 
> Please answer to the list since I cannot fix problems with fc-cache
> myself.
> 
> -- 
> Siep Kroonenberg
>   
> 1. The current version 20080725 works well under Windows Vista.
> Many Thanks!
>    
>   2 .However, the same problem occurs under Windows XP. I found
>   that there are only 3 folders in  texmf-var/fonts/: map, pk, and
>   tfm. That is, there is not a folder named texmf-var/fonts/conf

Maybe there still was an old texmf-var without the extra files and
directories under texmf-var/fonts? If you remove the texmf-var tree
then it tl-portable should regenerate it, including the extra files
under texmf-var/fonts.

>   3. I COPY files in the image to a SD card which is writable.
>   Then I run tl-portable under Windows vista. It generates
>   necessary files/folders on the SD card. After that, it is usable
>   with Windows XP.
>    
>   > would xetex still be useful to you with this configuration?
>   I do not know what do you mean. Of course, xetex is very useful.
>    
>   Best, Xiao

Apparently, editing fonts.conf was a remedy to a problem you don't
have. So much the better.

-- Siep Kroonenberg

From texmajia at yahoo.cn  Sat Jul 26 02:42:17 2008
From: texmajia at yahoo.cn (Xiao Cui)
Date: Sat, 26 Jul 2008 08:42:17 +0800 (CST)
Subject: [tex-live] problem with fc-list
In-Reply-To: <20080725190154.GA5614@molly>
Message-ID: <477304.83334.qm@web92203.mail.cnh.yahoo.com>

Siep Kroonenberg <siepo at cybercomm.nl> ???    Maybe there still was an old texmf-var without the extra files and
directories under texmf-var/fonts? If you remove the texmf-var tree
then it tl-portable should regenerate it, including the extra files
under texmf-var/fonts.

Apparently, editing fonts.conf was a remedy to a problem you don't
have. So much the better.

-- Siep Kroonenberg
  Yes, there was an old texmf-var. After removing it, everything becomes right.
  Thank you very much!
   
  Best,
  Xiao


       
---------------------------------
 ????????????
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080726/8657aa45/attachment.html 

From osegu at iitk.ac.in  Sun Jul 27 12:43:17 2008
From: osegu at iitk.ac.in (A. Sengupta)
Date: Sun, 27 Jul 2008 16:13:17 +0530 (IST)
Subject: [tex-live] Tex-Live update
Message-ID: <Pine.LNX.4.63.0807271600370.10521@vyom.cc.iitk.ac.in>

 	Dear Tex-Live: Ever since changing over from tetex to texlive, I 
have found no need for MikTex anymore. Now I am running the 2008 beta 
version and am quite satisfied with it. However, as you must surely be 
aware from the comments of other users, the absence of an update mechanism 
in ./install-tl is a big disadvantage and is the one area that MikTex can 
be badly missed by many users.
 	Can we have an online update facility in texlive that will 
download and install only those packages that have undergone a revision 
since the last install?
 	Thank you.

 	A. Sengupta 
****************************************************************************
     Professor A. Sengupta                  ** E-Mail: osegu at iitk.ac.in
     Department of Mechanical Engineering   ** Tel: 091-0512-2597035 (O)
      IIT Kanpur, Kanpur 208016.            **              -2598705 (H)
     Director, Institute for ChaNoXity      ** Fax: 091-0512-2597408/2590007
      Research (ICR) Kolkata.               ** http://home.iitk.ac.in/~osegu
============================================================================
                       ICR: "Analysis-Debate-Dialogue"
****************************************************************************

From preining at logic.at  Sun Jul 27 17:19:55 2008
From: preining at logic.at (Norbert Preining)
Date: Sun, 27 Jul 2008 17:19:55 +0200
Subject: [tex-live] Tex-Live update
In-Reply-To: <Pine.LNX.4.63.0807271600370.10521@vyom.cc.iitk.ac.in>
References: <Pine.LNX.4.63.0807271600370.10521@vyom.cc.iitk.ac.in>
Message-ID: <20080727151955.GK7492@gamma.logic.tuwien.ac.at>

On So, 27 Jul 2008, A. Sengupta wrote:
> 	Can we have an online update facility in texlive that will 
> download and install only those packages that have undergone a revision 
> since the last install?

Type
	tlmgr update --all
(if you have installed over the network) ...

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ABINGER (n.)
One who washes up everything except the frying pan, the cheese grater
and the saucepan which the chocolate sauce has been made in.
			--- Douglas Adams, The Meaning of Liff

From osegu at iitk.ac.in  Sun Jul 27 18:37:37 2008
From: osegu at iitk.ac.in (A. Sengupta)
Date: Sun, 27 Jul 2008 22:07:37 +0530 (IST)
Subject: [tex-live] Tex-Live update
In-Reply-To: <20080727151955.GK7492@gamma.logic.tuwien.ac.at>
References: <Pine.LNX.4.63.0807271600370.10521@vyom.cc.iitk.ac.in>
	<20080727151955.GK7492@gamma.logic.tuwien.ac.at>
Message-ID: <Pine.LNX.4.63.0807272204350.13806@vyom.cc.iitk.ac.in>


> Type
> 	tlmgr update --all
> (if you have installed over the network) ...

==> I installed with texlivetest2008.iso. Typing the above gives no 
result:

 	osuse at fb-438: ~ Sun Jul 27, 21:57:51> tlmgr update --all
 	osuse at fb-438: ~ Sun Jul 27, 22:00:45>

 	Thank you for your response.
 	Best!

 	A. Sengupta

From preining at logic.at  Sun Jul 27 19:16:59 2008
From: preining at logic.at (Norbert Preining)
Date: Sun, 27 Jul 2008 19:16:59 +0200
Subject: [tex-live] Tex-Live update
In-Reply-To: <Pine.LNX.4.63.0807272204350.13806@vyom.cc.iitk.ac.in>
References: <Pine.LNX.4.63.0807271600370.10521@vyom.cc.iitk.ac.in>
	<20080727151955.GK7492@gamma.logic.tuwien.ac.at>
	<Pine.LNX.4.63.0807272204350.13806@vyom.cc.iitk.ac.in>
Message-ID: <20080727171659.GB22526@gamma.logic.tuwien.ac.at>

On So, 27 Jul 2008, A. Sengupta wrote:
> ==> I installed with texlivetest2008.iso. Typing the above gives no 
> result:
> 
> 	osuse at fb-438: ~ Sun Jul 27, 21:57:51> tlmgr update --all
> 	osuse at fb-438: ~ Sun Jul 27, 22:00:45>

tlmgr --help

would give you some indication! You have to change the installation
source. Per default it is NOT changed, so you are trying to update from
the iso, which doesn't work.

Try setting
	tlmgr option location http://mirror.ctan.org/systems/texlive/tlnet/tldev
that will change the installation source (the default one) to the above
path. MIND that this will change with the final release.

After that you can call
	tlmgr update --all

Or, if you do NOT want to change the default installation source, you
can select it for one command only by
	tlmgr -location http://mirror.ctan.org/systems/texlive/tlnet/tldev update --all

All this can easily access by
	tlmgr --help

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SEATTLE (vb.)
To make a noise like a train going along.
			--- Douglas Adams, The Meaning of Liff

From staw at gust.org.pl  Sun Jul 27 19:19:06 2008
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sun, 27 Jul 2008 19:19:06 +0200 (CEST)
Subject: [tex-live] Tex-Live update
In-Reply-To: <Pine.LNX.4.63.0807272204350.13806@vyom.cc.iitk.ac.in>
Message-ID: <Pine.LNX.4.44.0807271912060.1635-100000@staw.homedns.org>

On Sun, 27 Jul 2008, A. Sengupta wrote:

> > Type
> > 	tlmgr update --all
> > (if you have installed over the network) ...
> 
> ==> I installed with texlivetest2008.iso. Typing the above gives no 
> result:
> 
>  	osuse at fb-438: ~ Sun Jul 27, 21:57:51> tlmgr update --all
>  	osuse at fb-438: ~ Sun Jul 27, 22:00:45>

1. have you added the path to the TL binaries to your PATH after 
   installation?
2. if you have installed only some scheme, perhaps it is nothing to update
   at the moment. Anyway, please try tlmgr -help. If you have perl/tk on 
   your system, you can even try tlmgr --gui.
3. please read the TL documentation 
   (texmf-doc/doc/english/texlive/texlive-en.pdf (or .html)

All the best,

-- 
Staszek Wawrykiewicz
StaW at gust.org.pl



From osegu at iitk.ac.in  Sun Jul 27 19:30:16 2008
From: osegu at iitk.ac.in (A. Sengupta)
Date: Sun, 27 Jul 2008 23:00:16 +0530 (IST)
Subject: [tex-live] Tex-Live update
In-Reply-To: <20080727171659.GB22526@gamma.logic.tuwien.ac.at>
References: <Pine.LNX.4.63.0807271600370.10521@vyom.cc.iitk.ac.in>
	<20080727151955.GK7492@gamma.logic.tuwien.ac.at>
	<Pine.LNX.4.63.0807272204350.13806@vyom.cc.iitk.ac.in>
	<20080727171659.GB22526@gamma.logic.tuwien.ac.at>
Message-ID: <Pine.LNX.4.63.0807272252320.14310@vyom.cc.iitk.ac.in>

 	Thank you very much for the prompt attention. I have been playing 
around with tlmgr (of which I was unaware) since the last mail and was 
able to get to --help. I guess I have already updated the iso packages as 
I ran ./install-tl earlier today which possibly installed all the stuff 
once more!
 	Now that I am aware of tlmgr, I shall check it out sometime soon!
 	Thanks once again.

 	A. Sengupta

From peter.ragosch at t-online.de  Mon Jul 28 19:35:19 2008
From: peter.ragosch at t-online.de (Peter Ragosch)
Date: Mon, 28 Jul 2008 19:35:19 +0200
Subject: [tex-live] TeX Live 2008 Development Installation (v9793/9792),
	index.html containing links to documentation is missing
Message-ID: <200807281935.19934.peter.ragosch@t-online.de>

Dear Live TeXaner,

I've just installed the actual  'TeX Live version: development' on a SuSE 10.3 
X86_64 system again, because I've noticed that there were some updated files 
today. By the way, where can I get information about made changes?

For installation I've used the command

raven:/home/peter/work/texlive/install-tl # \
	./install-tl -gui -location /tex-archive/systems/texlive/tlnet/tldev

from a local path, after interactive download, because I feared that my 
download bandwidth will be to small for a NET installation (max 384kbits per 
seconds).

The installation GUI, and its German translation, is very useful and works 
fine. Everything works fine with installation (under root rights).

The end of installation pop-up is not translateted, but OK too. Only the hint

See /usr/local/texlive/2008/index.html for links to documentation ....

points to no index.html file in that directory, and I couldn't found it 
elsewhere in the path. Forgotten or just not implemented?

I've found the file http://tug.org/texlive/Contents/live/doc.html on web from 
TeX Live 2007, I guess, and I mean, that it would be nice to have a 
comparable file with local links added to the 2008 version.

So far I could see --- really great work !

By a leakage of time,  the Tex Live 2008 itself is not yet tested deeply. 
Sorry. May be the next days.

Best regards,
Peter





From preining at logic.at  Mon Jul 28 22:34:22 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 28 Jul 2008 22:34:22 +0200
Subject: [tex-live] TeX Live 2008 Development Installation (v9793/9792),
	index.html containing links to documentation is missing
In-Reply-To: <200807281935.19934.peter.ragosch@t-online.de>
References: <200807281935.19934.peter.ragosch@t-online.de>
Message-ID: <20080728203422.GT30433@gamma.logic.tuwien.ac.at>

Hi Peter,

On Mo, 28 Jul 2008, Peter Ragosch wrote:
> The installation GUI, and its German translation, is very useful and works 
> fine. Everything works fine with installation (under root rights).

Good to know.

> The end of installation pop-up is not translateted, but OK too. Only the hint

Right, would you mind contributing a translation ... up to now I was not
only programming the stuff, but also doing the translation to German ;-)

> See /usr/local/texlive/2008/index.html for links to documentation ....
> 
> points to no index.html file in that directory, and I couldn't found it 
> elsewhere in the path. Forgotten or just not implemented?

That is strange. You did install to /usr/local/texlive, right? Then the
file above should be present. Really.

Don't miss testing
	tlmgr
and 
	tlmgr gui

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
MARYTAVY (n.)
A person to whom, under dire injunctions of silence, you tell a secret
which you wish to be fare more widely known.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Mon Jul 28 22:41:01 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 28 Jul 2008 15:41:01 -0500
Subject: [tex-live] TeX Live 2008 Development Installation (v9793/9792),
	index.html containing links to documentation is missing
In-Reply-To: <200807281935.19934.peter.ragosch@t-online.de>
Message-ID: <200807282041.m6SKf1E22011@f7.net>

    By the way, where can I get information about made changes?

Most of the package updates come from CTAN.  The http://tug.org home
page shows the last few, and there's an rss feed at
http://www.mail-archive.com/ctan-ann at dante.de/maillist.xml, as well as
the ctan-ann mailing list, comp.text.tex, etc.  (See
http://tug.org/ctan.html.)

As for our constant non-CTAN tweaking of the infrastructure and scripts,
the only information is the svnlog file in the repository at
Build/log/svnlog.  (See http://tug.org/texlive/svn.)  The log messages
are pretty laconic.  There's always svn diff if you want the facts :).

Thanks for testing.

    I've found the file http://tug.org/texlive/Contents/live/doc.html on web from 

Both (an updated) doc.html and index.html are in the distribution.  Like
Norbert, I am baffled as to why you don't have them.  They are in the
texlive.infra package, and that's fundamental to the whole thing ...

karl

From reinhard.kotucha at web.de  Mon Jul 28 22:53:13 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 28 Jul 2008 22:53:13 +0200
Subject: [tex-live] Remapping a Tex Font to an Adobe font in dvipdfm?
In-Reply-To: <8719b6240807240139v51a287a2tf2562138f2169c77@mail.gmail.com>
References: <4887D675.6000205@psfc.mit.edu>
	<6faad9f00807240052mb1f6833sb79f1ec987463e7c@mail.gmail.com>
	<8719b6240807240139v51a287a2tf2562138f2169c77@mail.gmail.com>
Message-ID: <18574.12729.834270.412088@zaphod.ms25.net>

Zdenek Wagner writes:
 > really want to use Adobe Arial, then do not use maps for URW fonts but

Hi Zdenek,
Arial is provided by Monotype, not by Adobe.

 > create a new map, generate metrics files for the version of Adobe

Well, I hope that URW/Adobe/Monotype Arial/Helvetica fonts are metric
compatible.  If you are in doubt, there is a nice awk script written
by Nelson Beebe called afmdiff.awk which allows you to compare two AFM
files.  The script is shipped with Ghostscript but it is not
installed.  You have to retrieve it from the sources or the lib
directory.  TeX Live users on Windows will find it in the directory
tlpkg/tlgs/lib.

I strongly recommend to run afmdiff.awk before creating your own metrics.

 > Good DTP studios refuse to process PDF files if the fonts are not
 > embedded.

Everybody should complain if fonts are not embedded....

I had the following problem recently:

If you download the Japanese version of Acroread you'll get Japanese
fonts too.  It's fine for Japanese because there is no need to embed
the fonts because every Japanese has a Japanese version of Acroread
and the fonts are found in the Acroread directory tree.

However, the problem is that these Japanese fonts also contain latin
characters.  Japanese do not notice that the text they write in
English requires a Japanese font which is not part of a European
version of Acroread.  I had to install Japanese fonts from the Adobe
FTP server in order to display latin characters.

Fonts have to be embedded unconditionally.  Everything else is quite
problematic and should be avoided.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Mon Jul 28 22:56:08 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 28 Jul 2008 22:56:08 +0200
Subject: [tex-live] TeX Live 2008 Development Installation (v9793/9792),
	index.html containing links to documentation is missing
In-Reply-To: <200807282041.m6SKf1E22011@f7.net>
References: <200807281935.19934.peter.ragosch@t-online.de>
	<200807282041.m6SKf1E22011@f7.net>
Message-ID: <20080728205608.GA6423@gamma.logic.tuwien.ac.at>

Hi Peter, hi Karl,

On Mo, 28 Jul 2008, Karl Berry wrote:
> Both (an updated) doc.html and index.html are in the distribution.  Like
> Norbert, I am baffled as to why you don't have them.  They are in the
> texlive.infra package, and that's fundamental to the whole thing ...

Well, Peter, did you turn on the option to install doc files?

Karl, index.html is in the docfile section of texlive.infra, soit could
be that they are not installed.

I guess I have to add an exception, or we adjust the patterns that these
files are in the runfile pattern so that they are alwawys installed.
Seems to me the better solution. Keep the tlpkg/doc/* and tlpkg/man/*
in the docfiles, and the stuff in /: LICENSE, README, ... in runfiles.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DEEPING ST NICHOLAS (n.)
			--- Douglas Adams, The Meaning of Liff
What street-wise kids do at Christmas. They hide on the rooftops
waiting for Santa Claus so that if he arrives and goes down the
chimney, they can rip stuff off from his sleigh.

From hartmut_henkel at gmx.de  Tue Jul 29 00:56:09 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 29 Jul 2008 00:56:09 +0200 (CEST)
Subject: [tex-live] libXaw.so.8 on x86_64
Message-ID: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>

Hi,

my system

~$ uname -a
Linux hahepc1 2.6.22-3-amd64 #1 SMP Tue Feb 12 09:22:35 UTC 2008 x86_64 GNU/Linux

(which is current debian-lenny/testing) gives with TL2008 binaries:

~$ xdvi /usr/local/texlive/2007/texmf-dist/doc/plain/cweb/cwebman.dvi
xdvi-xaw: error while loading shared libraries: libXaw.so.8: cannot open shared object file: No such file or directory
~$ locate libXaw.so
/usr/lib/libXaw.so
/usr/lib/libXaw.so.7

what do?

Regards, Hartmut


From hartmut_henkel at gmx.de  Tue Jul 29 01:18:59 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 29 Jul 2008 01:18:59 +0200 (CEST)
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
References: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
Message-ID: <alpine.DEB.1.00.0807290116260.10676@hahepc1.hahe>

On Tue, 29 Jul 2008, Hartmut Henkel wrote:

> ~$ xdvi /usr/local/texlive/2007/texmf-dist/doc/plain/cweb/cwebman.dvi
> xdvi-xaw: error while loading shared libraries: libXaw.so.8: cannot open shared object file: No such file or directory
> ~$ locate libXaw.so
> /usr/lib/libXaw.so
> /usr/lib/libXaw.so.7

found in http://packages.debian.org/sid/libxaw7-dev the following info:

"X11 Athena Widget library (development headers)

libXaw7 provides the second version of Xaw, the Athena Widgets tookit,
which is largely used by legacy X applications. This version is the most
common version, as version 6 is considered deprecated, and version 8,
which adds Xprint support, is unsupported and not widely used. In
general, use of a more modern toolkit such as GTK+ is recommended."

Regards, Hartmut


From gnwiii at gmail.com  Tue Jul 29 01:35:53 2008
From: gnwiii at gmail.com (George N. White III)
Date: Mon, 28 Jul 2008 20:35:53 -0300
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
References: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
Message-ID: <22af238a0807281635l74a7e580paa0f1eaeaadab674@mail.gmail.com>

On Mon, Jul 28, 2008 at 7:56 PM, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:

> Hi,
>
> my system
>
> ~$ uname -a
> Linux hahepc1 2.6.22-3-amd64 #1 SMP Tue Feb 12 09:22:35 UTC 2008 x86_64 GNU/Linux
>
> (which is current debian-lenny/testing) gives with TL2008 binaries:
>
> ~$ xdvi /usr/local/texlive/2007/texmf-dist/doc/plain/cweb/cwebman.dvi
> xdvi-xaw: error while loading shared libraries: libXaw.so.8: cannot open shared object file: No such file or directory
> ~$ locate libXaw.so
> /usr/lib/libXaw.so
> /usr/lib/libXaw.so.7
>
> what do?

Use pdf(la)tex! Build your own?  Use the 32-bit version or a .dvi
viewer from your distro ((e.g., kdvi)?  In 32-bit (on Fedora 8) things
look more likely to succeed:

$ ldd /usr/local/texlive/2008/bin/i386-linux/xdvi-xaw | grep Xaw
	libXaw.so.7 => /usr/lib/libXaw.so.7 (0x00d82000)

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From hartmut_henkel at gmx.de  Tue Jul 29 01:45:24 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 29 Jul 2008 01:45:24 +0200 (CEST)
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <22af238a0807281635l74a7e580paa0f1eaeaadab674@mail.gmail.com>
References: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
	<22af238a0807281635l74a7e580paa0f1eaeaadab674@mail.gmail.com>
Message-ID: <alpine.DEB.1.00.0807290139260.11264@hahepc1.hahe>

On Mon, 28 Jul 2008, George N. White III wrote:

> On Mon, Jul 28, 2008 at 7:56 PM, Hartmut Henkel <hartmut_henkel at gmx.de> wrote:
>
> > my system
> >
> > ~$ uname -a
> > Linux hahepc1 2.6.22-3-amd64 #1 SMP Tue Feb 12 09:22:35 UTC 2008 x86_64 GNU/Linux
> >
> > (which is current debian-lenny/testing) gives with TL2008 binaries:
> >
> > ~$ xdvi /usr/local/texlive/2007/texmf-dist/doc/plain/cweb/cwebman.dvi
> > xdvi-xaw: error while loading shared libraries: libXaw.so.8: cannot open shared object file: No such file or directory
> > ~$ locate libXaw.so
> > /usr/lib/libXaw.so
> > /usr/lib/libXaw.so.7
> >
> > what do?
>
> Use pdf(la)tex!

well, dvipdfmx cwebman.dvi (which is in TL08) gives a pdf without
problems.

> Build your own?  Use the 32-bit version or a .dvi viewer from your
> distro ((e.g., kdvi)?

sure there are work-arounds, but the hope was that one can avoid
recompiling.

> In 32-bit (on Fedora 8) things look more likely to succeed:
>
> $ ldd /usr/local/texlive/2008/bin/i386-linux/xdvi-xaw | grep Xaw
> 	libXaw.so.7 => /usr/lib/libXaw.so.7 (0x00d82000)

yes, thanks, libXaw.so.7 seems to be the most common one.

Regards, Hartmut

From vvv at vsu.ru  Tue Jul 29 01:48:27 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue, 29 Jul 2008 03:48:27 +0400
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe> (Hartmut
	Henkel's message of "Tue, 29 Jul 2008 00:56:09 +0200 (CEST)")
References: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
Message-ID: <878wvl3704.fsf@vvv.org.vrn.ru>

"HH" == Hartmut Henkel writes:

 HH> libXaw.so.8: cannot open shared object file: No such file or
 HH> directory

 HH> what do?

apparently Martin's SuSE system has libXaw.so.8. i can re-build the
x86_64-linux binaries in a clean debian etch chroot, Karl or Martin will
approve.

Best,
v.

From karl at freefriends.org  Tue Jul 29 01:53:05 2008
From: karl at freefriends.org (Karl Berry)
Date: Mon, 28 Jul 2008 18:53:05 -0500
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <alpine.DEB.1.00.0807290116260.10676@hahepc1.hahe>
Message-ID: <200807282353.m6SNr5K31839@f7.net>

    > ~$ xdvi /usr/local/texlive/2007/texmf-dist/doc/plain/cweb/cwebman.dvi
    > xdvi-xaw: error while loading shared libraries: libXaw.so.8: cannot open shared object file: No such file or directory

Tigran, can you recompile x86_64-linux against libXaw.so.7?
If not, perhaps Hartmut or Martin or someone can provide binaries.

(I wonder if other shared libs are "too" new.  Hartmut, can you run ldd
against everything in x86_64-linux and see if anything else is missing?)

From martin at oneiros.de  Tue Jul 29 10:14:09 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 29 Jul 2008 10:14:09 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <200807282353.m6SNr5K31839@f7.net>
References: <alpine.DEB.1.00.0807290116260.10676@hahepc1.hahe>
	<200807282353.m6SNr5K31839@f7.net>
Message-ID: <68c491a60807290114x1634b39eq3d9905c2562e1684@mail.gmail.com>

2008/7/29 Karl Berry <karl at freefriends.org>:
> Tigran, can you recompile x86_64-linux against libXaw.so.7?

Um, only if Tigran can provide binaries that work on other machines. :-)

> If not, perhaps Hartmut or Martin or someone can provide binaries.

My older system (OpenSUSE 10.1) also has libXaw.so.8

Best
   Martin

From martin at oneiros.de  Tue Jul 29 10:21:26 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 29 Jul 2008 10:21:26 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <alpine.DEB.1.00.0807290116260.10676@hahepc1.hahe>
References: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
	<alpine.DEB.1.00.0807290116260.10676@hahepc1.hahe>
Message-ID: <68c491a60807290121w35c535eje7a6f54c4069270d@mail.gmail.com>

2008/7/29 Hartmut Henkel <hartmut_henkel at gmx.de>:
> found in http://packages.debian.org/sid/libxaw7-dev the following info:
>
> "X11 Athena Widget library (development headers)
>
> libXaw7 provides the second version of Xaw, the Athena Widgets tookit,
> which is largely used by legacy X applications. This version is the most
> common version, as version 6 is considered deprecated, and version 8,
> which adds Xprint support, is unsupported and not widely used. In
> general, use of a more modern toolkit such as GTK+ is recommended."

http://packages.debian.org/de/sarge-backports/libxaw8

"X Athena widget set library

Xaw is a widget set based on the the Xt (X Toolkit Intrinsics)
library. It provides a set of graphical user-interface elements
("widgets") such as menus, scrollbars, dialog boxes, text-input areas,
and so forth. The X clients distributed with the X Window System
itself, as well as many others, use the Athena widget set.

X.Org has made a number of major improvements to the Athena widget
set, resulting in version 8 -- this version includes support for
Xprint and small helper pop-ups (a.k.a. "tooltips").

The older Athena widget library corresponding to version X11R6.4 of
the X Window System can be found in the libxaw6 package, and the older
library corresponding to X11R6.7.0 and XFree86 4.x can be found in the
libxaw7 package."

So for older Xs (e.g. X11R6.7) you need xaw7.

Best
   Martin

From zdenek.wagner at gmail.com  Tue Jul 29 10:24:33 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 29 Jul 2008 10:24:33 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <68c491a60807290114x1634b39eq3d9905c2562e1684@mail.gmail.com>
References: <alpine.DEB.1.00.0807290116260.10676@hahepc1.hahe>
	<200807282353.m6SNr5K31839@f7.net>
	<68c491a60807290114x1634b39eq3d9905c2562e1684@mail.gmail.com>
Message-ID: <8719b6240807290124q43e66eb2odbbb26dd350bb64e@mail.gmail.com>

2008/7/29, Martin Schr?der <martin at oneiros.de>:
> 2008/7/29 Karl Berry <karl at freefriends.org>:
>
> > Tigran, can you recompile x86_64-linux against libXaw.so.7?
>
>
> Um, only if Tigran can provide binaries that work on other machines. :-)
>
>
>  > If not, perhaps Hartmut or Martin or someone can provide binaries.
>
>
> My older system (OpenSUSE 10.1) also has libXaw.so.8
>
CentOS 5.1 (and almost certainly RHEL 5.1) contains only libXaw6 and
7. The repositories now seem to be dead so that I am not able to run
yum and see whether libXaw8 is available from some extra RPM.

>  Best
>
>    Martin
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From tigran at bibles.org.uk  Tue Jul 29 10:29:57 2008
From: tigran at bibles.org.uk (Tigran Aivazian)
Date: Tue, 29 Jul 2008 09:29:57 +0100 (BST)
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <200807282353.m6SNr5K31839@f7.net>
References: <200807282353.m6SNr5K31839@f7.net>
Message-ID: <Pine.LNX.4.61.0807290927030.27480@ginsburg.homenet>

On Mon, 28 Jul 2008, Karl Berry wrote:

>    > ~$ xdvi /usr/local/texlive/2007/texmf-dist/doc/plain/cweb/cwebman.dvi
>    > xdvi-xaw: error while loading shared libraries: libXaw.so.8: cannot open shared object file: No such file or directory
>
> Tigran, can you recompile x86_64-linux against libXaw.so.7?

You mean messing with individual Makefiles and finding which LDFLAGS 
points where and manually adjusting them? Hmmm... I could do that in 
principle but it would take much time so if there are instructions on 
which specific Makefile needs adjusting then I will do it.

> If not, perhaps Hartmut or Martin or someone can provide binaries.
>
> (I wonder if other shared libs are "too" new.  Hartmut, can you run ldd
> against everything in x86_64-linux and see if anything else is missing?)

I am surprized that my system is considered "too new". It is a very 
conservative one based on Fedora Core 6 of ages ago...

Kind regards
Tigran

From martin at oneiros.de  Tue Jul 29 10:53:38 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 29 Jul 2008 10:53:38 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <Pine.LNX.4.61.0807290927030.27480@ginsburg.homenet>
References: <200807282353.m6SNr5K31839@f7.net>
	<Pine.LNX.4.61.0807290927030.27480@ginsburg.homenet>
Message-ID: <68c491a60807290153n1768f42dv99f07512653cdcd3@mail.gmail.com>

2008/7/29 Tigran Aivazian <tigran at bibles.org.uk>:
> I am surprized that my system is considered "too new". It is a very
> conservative one based on Fedora Core 6 of ages ago...

Is that the same one you used last year, when we couldn't use your
binaries for the same reason?

Best
   Martin

From zdenek.wagner at gmail.com  Tue Jul 29 11:03:38 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 29 Jul 2008 11:03:38 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <68c491a60807290153n1768f42dv99f07512653cdcd3@mail.gmail.com>
References: <200807282353.m6SNr5K31839@f7.net>
	<Pine.LNX.4.61.0807290927030.27480@ginsburg.homenet>
	<68c491a60807290153n1768f42dv99f07512653cdcd3@mail.gmail.com>
Message-ID: <8719b6240807290203j2171f2b1v8c5fdf486ad9eed2@mail.gmail.com>

2008/7/29, Martin Schr?der <martin at oneiros.de>:
> 2008/7/29 Tigran Aivazian <tigran at bibles.org.uk>:
>
> > I am surprized that my system is considered "too new". It is a very
>  > conservative one based on Fedora Core 6 of ages ago...
>
>
> Is that the same one you used last year, when we couldn't use your
>  binaries for the same reason?
>
I could compile the binaries on 64bit Intel at CentOS 4.6 (with kernel
2.6.17 compiled by me) or at AMD64 at CentOS 5.1 with kernel 2.6.18
from distribution.

>  Best
>
>    Martin
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From preining at logic.at  Tue Jul 29 11:39:14 2008
From: preining at logic.at (Norbert Preining)
Date: Tue, 29 Jul 2008 11:39:14 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <878wvl3704.fsf@vvv.org.vrn.ru>
References: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
	<878wvl3704.fsf@vvv.org.vrn.ru>
Message-ID: <20080729093914.GL11500@gamma.logic.tuwien.ac.at>

On Di, 29 Jul 2008, Vladimir Volovich wrote:
> "HH" == Hartmut Henkel writes:
> apparently Martin's SuSE system has libXaw.so.8. i can re-build the
> x86_64-linux binaries in a clean debian etch chroot, Karl or Martin will
> approve.

Me, too. etch debian chroot I can do, too. But only around weekend.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
As he came into the light they could see his black and
gold uniform on which the buttons were so highly polished
that they shone with an intensity that would have made an
approaching motorist flash his lights in annoyance.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From zdenek.wagner at gmail.com  Tue Jul 29 13:41:27 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Tue, 29 Jul 2008 13:41:27 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <20080729093914.GL11500@gamma.logic.tuwien.ac.at>
References: <alpine.DEB.1.00.0807290052060.8016@hahepc1.hahe>
	<878wvl3704.fsf@vvv.org.vrn.ru>
	<20080729093914.GL11500@gamma.logic.tuwien.ac.at>
Message-ID: <8719b6240807290441o39ea8e55v925cfe44517435c@mail.gmail.com>

2008/7/29, Norbert Preining <preining at logic.at>:
> On Di, 29 Jul 2008, Vladimir Volovich wrote:
>
> > "HH" == Hartmut Henkel writes:
>  > apparently Martin's SuSE system has libXaw.so.8. i can re-build the
>  > x86_64-linux binaries in a clean debian etch chroot, Karl or Martin will
>  > approve.
>
>
> Me, too. etch debian chroot I can do, too. But only around weekend.
>
I already have the binaries --without-xindy, ifyou want to try them, I
canupload them somewhere (my server crashed, I am waiting for buying a
new computer which will take a few days).

>  Best wishes
>
>  Norbert
>
>  -------------------------------------------------------------------------------
>  Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
>  Debian Developer <preining at debian.org>                         Debian TeX Group
>  gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
>  -------------------------------------------------------------------------------
>  As he came into the light they could see his black and
>  gold uniform on which the buttons were so highly polished
>  that they shone with an intensity that would have made an
>  approaching motorist flash his lights in annoyance.
>                  --- Douglas Adams, The Hitchhikers Guide to the Galaxy
>


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From hartmut_henkel at gmx.de  Tue Jul 29 20:38:06 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 29 Jul 2008 20:38:06 +0200 (CEST)
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <200807282353.m6SNr5K31839@f7.net>
References: <200807282353.m6SNr5K31839@f7.net>
Message-ID: <alpine.DEB.1.00.0807292032460.29058@hahepc1.hahe>

On Mon, 28 Jul 2008, Karl Berry wrote:

> Tigran, can you recompile x86_64-linux against libXaw.so.7? If not,
> perhaps Hartmut or Martin or someone can provide binaries.
>
> (I wonder if other shared libs are "too" new.  Hartmut, can you run
> ldd against everything in x86_64-linux and see if anything else is
> missing?)

fwiw, the required libraries for current TL08 x86_64-linux are, total:

/lib64/ld-linux-x86-64.so.2
libcrypt.so.1 => /lib/libcrypt.so.1
libc.so.6 => /lib/libc.so.6
libdl.so.2 => /lib/libdl.so.2
libexpat.so.1 => /usr/lib/libexpat.so.1
libfontconfig.so.1 => /usr/lib/libfontconfig.so.1
libfreetype.so.6 => /usr/lib/libfreetype.so.6
libgcc_s.so.1 => /lib/libgcc_s.so.1
libICE.so.6 => /usr/lib/libICE.so.6
libm.so.6 => /lib/libm.so.6
libncurses.so.5 => /lib/libncurses.so.5
libpthread.so.0 => /lib/libpthread.so.0
libSM.so.6 => /usr/lib/libSM.so.6
libstdc++.so.6 => /usr/lib/libstdc++.so.6
libX11.so.6 => /usr/lib/libX11.so.6
libXau.so.6 => /usr/lib/libXau.so.6
libXaw.so.8 => not found
libxcb.so.1 => /usr/lib/libxcb.so.1
libxcb-xlib.so.0 => /usr/lib/libxcb-xlib.so.0
libXdmcp.so.6 => /usr/lib/libXdmcp.so.6
libXext.so.6 => /usr/lib/libXext.so.6
libXmu.so.6 => /usr/lib/libXmu.so.6
libXpm.so.4 => /usr/lib/libXpm.so.4
libXp.so.6 => /usr/lib/libXp.so.6
libXt.so.6 => /usr/lib/libXt.so.6
libz.so.1 => /usr/lib/libz.so.1

When i do an own ./Build here, the only difference between ldd runs i
get is:

2d1
< libcrypt.so.1 => /lib/libcrypt.so.1
17c16
< libXaw.so.8 => not found
---
> libXaw.so.7 => /usr/lib/libXaw.so.7
26a26

(No idea why here the libcrypt is not needed.)

Regards, Hartmut

From martin at oneiros.de  Tue Jul 29 22:36:18 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 29 Jul 2008 22:36:18 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <alpine.DEB.1.00.0807292032460.29058@hahepc1.hahe>
References: <200807282353.m6SNr5K31839@f7.net>
	<alpine.DEB.1.00.0807292032460.29058@hahepc1.hahe>
Message-ID: <68c491a60807291336n36d0a549q187cb4a6b4300173@mail.gmail.com>

2008/7/29 Hartmut Henkel <hartmut_henkel at gmx.de>:
> (No idea why here the libcrypt is not needed.)

xindy.run?

Best
   Martin

From karl at freefriends.org  Wed Jul 30 01:35:41 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 Jul 2008 01:35:41 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <alpine.DEB.1.00.0807292032460.29058@hahepc1.hahe>
Message-ID: <200807292335.m6TNZf632447@tug.org>

    When i do an own ./Build here, the only difference between ldd runs i

Those are good differences.  Why don't we just use your binaries?

I don't care who builds them, but obviously the final outcome should be
avoiding the link against xaw.so.8.

karl

From karl at freefriends.org  Wed Jul 30 02:16:18 2008
From: karl at freefriends.org (Karl Berry)
Date: Wed, 30 Jul 2008 02:16:18 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <Pine.LNX.4.61.0807290927030.27480@ginsburg.homenet>
Message-ID: <200807300016.m6U0GIQ00698@tug.org>

    You mean messing with individual Makefiles and finding which LDFLAGS 
    points where and manually adjusting them? 

Certainly not.  I meant compiling on a system without the
excessively-new xaw.so.8 in the first place.

karl

From amine.bahayou at gmail.com  Tue Jul 29 23:14:35 2008
From: amine.bahayou at gmail.com (mohamed amine bahayou)
Date: Tue, 29 Jul 2008 23:14:35 +0200
Subject: [tex-live] TeXlive for free ?
Message-ID: <d39b4d9e0807291414q1ca05c3ej68513db6a450ac13@mail.gmail.com>

Hi,
I have difficulties to download the TeXLive 2008. We have a poor internet
connexion in Algeria. May I ask if there is any possibility to request the
TeXLive on DVD from tug.org or ctan.org (or any other source) ?
Many thanks for any help you may offer me in this matter.
Sincerely.
Amine.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080729/d5de3f82/attachment.html 

From reinhard.kotucha at web.de  Wed Jul 30 20:58:53 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 30 Jul 2008 20:58:53 +0200
Subject: [tex-live]  TeXlive for free ?
In-Reply-To: <d39b4d9e0807291414q1ca05c3ej68513db6a450ac13@mail.gmail.com>
References: <d39b4d9e0807291414q1ca05c3ej68513db6a450ac13@mail.gmail.com>
Message-ID: <18576.47597.278051.558756@zaphod.ms25.net>

mohamed amine bahayou writes:
 > Hi,
 > I have difficulties to download the TeXLive 2008. We have a poor internet
 > connexion in Algeria. May I ask if there is any possibility to request the
 > TeXLive on DVD from tug.org or ctan.org (or any other source) ?
 > Many thanks for any help you may offer me in this matter.

Hi Amine,
I suggest you to ask this question again when TL-2008 is released.  At
the moment it doesn't make much sense because some things might
change.  Especially, new binaries are uploaded almost daily.  It's
better to wait until TL is frozen.

How did you try to download TL-2008?  Did you try to download the DVD
image or did you use the network installer?  The latter has some
advantages:  You could first select 'scheme-minimal' and then select
only the collections you really need.  This reduces the amount of
stuff to be downloaded significantly. 

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From jonathan at jfkew.plus.com  Wed Jul 30 21:10:49 2008
From: jonathan at jfkew.plus.com (Jonathan Kew)
Date: Wed, 30 Jul 2008 20:10:49 +0100
Subject: [tex-live] TeXlive for free ?
In-Reply-To: <18576.47597.278051.558756@zaphod.ms25.net>
References: <d39b4d9e0807291414q1ca05c3ej68513db6a450ac13@mail.gmail.com>
	<18576.47597.278051.558756@zaphod.ms25.net>
Message-ID: <FC999D86-9544-4C31-B1EB-FA78A66DBB8F@jfkew.plus.com>

On 30 Jul 2008, at 7:58 PM, Reinhard Kotucha wrote:

> mohamed amine bahayou writes:
>> Hi,
>> I have difficulties to download the TeXLive 2008. We have a poor  
>> internet
>> connexion in Algeria. May I ask if there is any possibility to  
>> request the
>> TeXLive on DVD from tug.org or ctan.org (or any other source) ?
>> Many thanks for any help you may offer me in this matter.
>
> Hi Amine,
> I suggest you to ask this question again when TL-2008 is released.  At
> the moment it doesn't make much sense because some things might
> change.  Especially, new binaries are uploaded almost daily.  It's
> better to wait until TL is frozen.

If your internet connection is poor -- or even if it isn't -- I  
suggest you consider joining TUG. One of the benefits of membership is  
that you'll receive TeX Live (and other resources) on DVD when it is  
released.

See http://tug.org/aims_ben.html and http://tug.org/join.html for more  
information.

Regards,

Jonathan


From P.Taylor at Rhul.Ac.Uk  Thu Jul 31 12:13:23 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Ret'd))
Date: Thu, 31 Jul 2008 11:13:23 +0100
Subject: [tex-live] Which release ?
Message-ID: <48919043.9030009@Rhul.Ac.Uk>

Dear Team -- Given a TeX Live installation of unknown
provenance, what is the recommended way of determining
the TeX Live release on which it is based ?

Philip TAYLOR

From cantaro at gmail.com  Thu Jul 31 13:22:13 2008
From: cantaro at gmail.com (Udo Zallmann)
Date: Thu, 31 Jul 2008 12:22:13 +0100
Subject: [tex-live] Formatting mismatch
Message-ID: <b3de3aab0807310422x649932cevce447f7372fb113a@mail.gmail.com>

Hello,

I recently downloaded TL2008 Test (texlivetest2008-20080730.iso) and
tried LaTeX-ing a few documents. I encountered an anomaly when
comparing a compiled document against one compiled through the website
<http://sciencesoft.at/index.jsp?link=latex>:

I am using the KOMA-Script scrlttr2 class to typeset a letter. On this
letter, I intended to set the recipient info in bold, so I used the
construct:

\begin{letter}{%
	\bfseries%
	per Fax an\\
	+49--180--5\,33\,01\,63}

This should set two lines in the recipient field, both in bold, the
first one containing 'per Fax an,' the second containing
'+49--180--5\,33\,01\,63.' When compiling the document using the
ScienceSoft LaTeX website, this expected result is obtained. With
TL2008, however, only the first line is set in bold, the second is
not.

For lack of available webspace, I attached a ZIP archive containing
the TEX file as well as two PDFs, one obtained from ScienceSoft LaTeX
website, the other from TL2008.

OT: the fax number is a Deutsche Telekom customer service number. Any
personal information in the files is fictional.

I hope someone can advise on why this issue occurs and how to fix it. Thank you!

Best regards,

Udo Zallmann
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20080528-t-mobile.zip
Type: application/zip
Size: 47976 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080731/6ba03da0/attachment-0001.zip 

From cantaro at gmail.com  Thu Jul 31 13:53:01 2008
From: cantaro at gmail.com (Udo Zallmann)
Date: Thu, 31 Jul 2008 12:53:01 +0100
Subject: [tex-live] Formatting mismatch
In-Reply-To: <115224fb0807310442n29f3bc78ke14b9cc04fe3c828@mail.gmail.com>
References: <b3de3aab0807310422x649932cevce447f7372fb113a@mail.gmail.com>
	<115224fb0807310442n29f3bc78ke14b9cc04fe3c828@mail.gmail.com>
Message-ID: <b3de3aab0807310453g191de777l3789f866cd57d11@mail.gmail.com>

On Thu, Jul 31, 2008 at 12:42 PM, Wolfgang Schuster
<schuster.wolfgang at googlemail.com> wrote:

> Try \addtokomafont{addressee}{\bfseries}.

Thank you, that works! Still does not answer the question, however,
why it works with ScienceSoft's LaTeX installation.

Best regards,

Udo Zallmann

From preining at logic.at  Thu Jul 31 14:01:45 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 14:01:45 +0200
Subject: [tex-live] Formatting mismatch
In-Reply-To: <b3de3aab0807310422x649932cevce447f7372fb113a@mail.gmail.com>
References: <b3de3aab0807310422x649932cevce447f7372fb113a@mail.gmail.com>
Message-ID: <20080731120145.GF29852@gamma.logic.tuwien.ac.at>

Hi Udo,

On Do, 31 Jul 2008, Udo Zallmann wrote:
> This should set two lines in the recipient field, both in bold, the
> first one containing 'per Fax an,' the second containing
> '+49--180--5\,33\,01\,63.' When compiling the document using the
> ScienceSoft LaTeX website, this expected result is obtained. With
> TL2008, however, only the first line is set in bold, the second is
> not.

I can confirm that with TL2007 both lines are bold, while with 2008 only
the first one.

> I hope someone can advise on why this issue occurs and how to fix it. Thank you!

I searched the changes of koma-script but didn't find anything related
to that. Unfortunately there is no detailed list but you have to read
through the documentation.

Your best option is to contact
	komascript at gmx.info
with your minimal example.

You could add that in version 2.95b in TL2007 it was working, while with
2.98 in TL2008 (testing) it is no.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
FRING (n.)
The noise made by light bulb which has just shone its last.
			--- Douglas Adams, The Meaning of Liff

From schuster.wolfgang at googlemail.com  Thu Jul 31 14:31:01 2008
From: schuster.wolfgang at googlemail.com (Wolfgang Schuster)
Date: Thu, 31 Jul 2008 14:31:01 +0200
Subject: [tex-live] Formatting mismatch
In-Reply-To: <20080731122704.GA12762@gamma.logic.tuwien.ac.at>
References: <b3de3aab0807310422x649932cevce447f7372fb113a@mail.gmail.com>
	<115224fb0807310442n29f3bc78ke14b9cc04fe3c828@mail.gmail.com>
	<b3de3aab0807310453g191de777l3789f866cd57d11@mail.gmail.com>
	<20080731122704.GA12762@gamma.logic.tuwien.ac.at>
Message-ID: <115224fb0807310531i7bf6861dgf175590b157d9834@mail.gmail.com>

On Thu, Jul 31, 2008 at 2:27 PM, Norbert Preining <preining at logic.at> wrote:
> On Do, 31 Jul 2008, Udo Zallmann wrote:
>> > Try \addtokomafont{addressee}{\bfseries}.
>>
>> Thank you, that works! Still does not answer the question, however,
>> why it works with ScienceSoft's LaTeX installation.
>
> Probably because that was a change in koma-script introduced after the
> version that is used by ScienceSoft. As I wrote, TL2007 also produces
> what you want, while 2008 not. So it seems to be intentional ...
> But one might ask in any case.

The different result in the 2.8 version makes sense because you could set
differents format for the addressees name and address.

Wolfgang

From news2 at nililand.de  Thu Jul 31 14:28:23 2008
From: news2 at nililand.de (Ulrike Fischer)
Date: Thu, 31 Jul 2008 14:28:23 +0200
Subject: [tex-live] Formatting mismatch
References: <b3de3aab0807310422x649932cevce447f7372fb113a@mail.gmail.com>
Message-ID: <1qzettmzhi5ri$.dlg@nililand.de>

Am Thu, 31 Jul 2008 12:22:13 +0100 schrieb Udo Zallmann:

> Hello,
> 
> I recently downloaded TL2008 Test (texlivetest2008-20080730.iso) and
> tried LaTeX-ing a few documents. I encountered an anomaly when
> comparing a compiled document against one compiled through the website
> <http://sciencesoft.at/index.jsp?link=latex>:
> 
> I am using the KOMA-Script scrlttr2 class to typeset a letter. On this
> letter, I intended to set the recipient info in bold, so I used the
> construct:
> 
> \begin{letter}{%
> 	\bfseries%
> 	per Fax an\\
> 	+49--180--5\,33\,01\,63}
> 
> This should set two lines in the recipient field, both in bold, the
> first one containing 'per Fax an,' the second containing
> '+49--180--5\,33\,01\,63.' When compiling the document using the
> ScienceSoft LaTeX website, this expected result is obtained. With
> TL2008, however, only the first line is set in bold, the second is
> not.
> 

Koma is first saving the first line to the variable toname, and the
second to toaddress and latter it uses the variables inside groups:

\usekomafont{addressee}{%

\usekomafont{toname}{\usekomavar{toname}\\}%

\usekomafont{toaddress}{\usekomavar{toaddress}}}}

 This enables special font settings for toname and toaddress but means
also that font switches in the first line are local to toname. 

It is quite possible that this behaviour is quite new, but it is
intended and certainly not a bug.

Use the scrlttr2 interface to change the font in the address fields. 
Or add a \bfseries to the second line. 

-- 
Ulrike Fischer 


From preining at logic.at  Thu Jul 31 14:27:04 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 14:27:04 +0200
Subject: [tex-live] Formatting mismatch
In-Reply-To: <b3de3aab0807310453g191de777l3789f866cd57d11@mail.gmail.com>
References: <b3de3aab0807310422x649932cevce447f7372fb113a@mail.gmail.com>
	<115224fb0807310442n29f3bc78ke14b9cc04fe3c828@mail.gmail.com>
	<b3de3aab0807310453g191de777l3789f866cd57d11@mail.gmail.com>
Message-ID: <20080731122704.GA12762@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Udo Zallmann wrote:
> > Try \addtokomafont{addressee}{\bfseries}.
> 
> Thank you, that works! Still does not answer the question, however,
> why it works with ScienceSoft's LaTeX installation.

Probably because that was a change in koma-script introduced after the
version that is used by ScienceSoft. As I wrote, TL2007 also produces
what you want, while 2008 not. So it seems to be intentional ...
But one might ask in any case.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ULLAPOOL (n.)
The spittle which builds up on the floor of the Royal Opera House.
			--- Douglas Adams, The Meaning of Liff

From nobre at cii.fc.ul.pt  Thu Jul 31 11:27:13 2008
From: nobre at cii.fc.ul.pt (L. Nobre G.)
Date: Thu, 31 Jul 2008 10:27:13 +0100
Subject: [tex-live] Testing 2008
Message-ID: <420afcd00807310227p4a8e3553yae1680ca4a416e82@mail.gmail.com>

Hi,

Got this from "install-tl"

Platform: powerpc-linux => 'PowerPC with GNU/Linux'
Distribution: net  (downloading)
Using URL: http://mirror.ctan.org/systems/texlive/tlnet/tldev
Directory for temporary files: '/tmp'
Installer directory: '.'
Loading
http://mirror.ctan.org/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
./tlpkg/installer/lzma/lzmadec.powerpc-linux: /lib/tls/libc.so.6: version
`GLIBC_2.4' not found (required by
./tlpkg/installer/lzma/lzmadec.powerpc-linux)
Cannot read any package from
http://mirror.ctan.org/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb,
seems not to be a TLPDB! at tlpkg/TeXLive/TLPDB.pm line 258.

Greetings
-- 
L. Nobre G. - http://burocracia.blogspot.com/
"Only the small secrets need to be protected. The big ones are kept secret
by public incredulity." ~ Marshall McLuhan, media 'guru'
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20080731/1c2b58bd/attachment.html 

From tigran at bibles.org.uk  Thu Jul 31 15:18:54 2008
From: tigran at bibles.org.uk (Tigran Aivazian)
Date: Thu, 31 Jul 2008 14:18:54 +0100 (BST)
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <68c491a60807290153n1768f42dv99f07512653cdcd3@mail.gmail.com>
References: <200807282353.m6SNr5K31839@f7.net>
	<Pine.LNX.4.61.0807290927030.27480@ginsburg.homenet>
	<68c491a60807290153n1768f42dv99f07512653cdcd3@mail.gmail.com>
Message-ID: <Pine.LNX.4.61.0807311417320.27427@ginsburg.homenet>

On Tue, 29 Jul 2008, [ISO-8859-1] Martin Schr?der wrote:
> 2008/7/29 Tigran Aivazian <tigran at bibles.org.uk>:
>> I am surprized that my system is considered "too new". It is a very
>> conservative one based on Fedora Core 6 of ages ago...
>
> Is that the same one you used last year, when we couldn't use your
> binaries for the same reason?

Yes, it is the same and it was quite old even a year ago. But looks like 
some people still have even older distributions than FC6...

Kind regards
Tigran

From preining at logic.at  Thu Jul 31 16:05:05 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 16:05:05 +0200
Subject: [tex-live] Testing 2008
In-Reply-To: <420afcd00807310227p4a8e3553yae1680ca4a416e82@mail.gmail.com>
References: <420afcd00807310227p4a8e3553yae1680ca4a416e82@mail.gmail.com>
Message-ID: <20080731140505.GD21556@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, L. Nobre G. wrote:
> ./tlpkg/installer/lzma/lzmadec.powerpc-linux: /lib/tls/libc.so.6: version
> `GLIBC_2.4' not found (required by
> ./tlpkg/installer/lzma/lzmadec.powerpc-linux)

Uhhhaaaa.

Can you please try with
	install-tl -v ....
and send me (or here) the output? Please capture the output somehow,
best is with
	install-tl -v ... 2>&1 | tee inst.log

Thanks.

> Cannot read any package from
> http://mirror.ctan.org/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb,
> seems not to be a TLPDB! at tlpkg/TeXLive/TLPDB.pm line 258.

That is really strange. If the lzma-ing didn't not work, it should try
to download the un-compressed texlive.tlpdb and work with this. But also
this broke.

Please, if possible, the -v output. Thanks.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BURLINGJOBB
A seventeenth-century crime by which excrement is thrown into the
street from a ground-floor window.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu Jul 31 16:11:04 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 16:11:04 +0200
Subject: [tex-live] Testing 2008
In-Reply-To: <420afcd00807310227p4a8e3553yae1680ca4a416e82@mail.gmail.com>
References: <420afcd00807310227p4a8e3553yae1680ca4a416e82@mail.gmail.com>
Message-ID: <20080731141104.GE21556@gamma.logic.tuwien.ac.at>

Sorry again me.

On Do, 31 Jul 2008, L. Nobre G. wrote:
> http://mirror.ctan.org/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
> ./tlpkg/installer/lzma/lzmadec.powerpc-linux: /lib/tls/libc.so.6: version
> `GLIBC_2.4' not found (required by
> ./tlpkg/installer/lzma/lzmadec.powerpc-linux)

Forget what I asked you to,it is useless.

Thanks for reporting, this is a real bug. We *DO* continue with the lzma
even if the un-lzma-ing was unsuccessfull. That cannot work.

Currently there is no way to circumvent that, I will try to fix that
ASAP. Best would be of course if you find a working lzmadec on your
system, and replace the one in
install-tl/tlpkg/installer/lzma/lzamdec.powerpc-linux with the working
one.

Thanks for testing and all the best

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BRECON
That part of the toenail which is designed to snag on nylon sheets.
			--- Douglas Adams, The Meaning of Liff

From gnwiii at gmail.com  Thu Jul 31 16:20:35 2008
From: gnwiii at gmail.com (George N. White III)
Date: Thu, 31 Jul 2008 11:20:35 -0300
Subject: [tex-live] Which release ?
In-Reply-To: <48919043.9030009@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>
Message-ID: <22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>

On Thu, Jul 31, 2008 at 7:13 AM, Philip TAYLOR (Ret'd)
<P.Taylor at rhul.ac.uk> wrote:

> Dear Team -- Given a TeX Live installation of unknown
> provenance, what is the recommended way of determining
> the TeX Live release on which it is based ?

These days texlive.tldb has revision number for each package,
but that won't help if the installation is more than a few weeks
old.

In years past, TeX Live provided 3rd party TeX systems (e.g.,
fptex for Windows).

There should be some documentation in your installation.
Recent versions have:

$ ls /usr/local/texlive/200?/texmf-doc/doc/english/texlive-en/
/usr/local/texlive/2007/texmf-doc/doc/english/texlive-en/:
live.css        live.html       live.pdf        tex-live.css

/usr/local/texlive/2008/texmf-doc/doc/english/texlive-en/:
install-w32-main.png    tex-live.css            texlive-en.pdf
psview.png              texlive-en.css          tlmgr-config.png
stdcoll.png             texlive-en.html         tlmgr-gui.png

Some linux distributions package TeX Live and may put
documentation in /usr/share/doc/<package_name>.   If
your tex live came from vendor packages, the package
manager should provide some information.

$ ls -d /usr/share/doc/texlive*
/usr/share/doc/texlive-2007  /usr/share/doc/texlive-texmf-2007

-- 
George N. White III <aa056 at chebucto.ns.ca>
Head of St. Margarets Bay, Nova Scotia

From mojca.miklavec.lists at gmail.com  Thu Jul 31 16:22:40 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 31 Jul 2008 16:22:40 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
Message-ID: <6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>

Hello,

(Manual has already answered some of my questions while I sent the
mail to the wrong mailing list, but I'm resending the original.)

I'm working on Mac Tiger with X11 installed.

Because of an old TL08 installation and since some things must have
been broken, I decided to remove it completely and start from scratch.

I first tried to use ./tl-portable (from SVN repository) and run
    texexec somefile

but it stopped at

TeXExec | processing document 'somefile'
TeXExec | no ctx file found
TeXExec | tex processing method: context
TeXExec | TeX run 1
TeXExec | writing option file palat.top
TeXExec | using randomseed 828
TeXExec | tex engine: pdftex
TeXExec | tex format: cont-en
This is pdfTeXk, Version 3.1415926-1.40.9 (Web2C 7.5.7)
 %&-line parsing enabled.
 (/Users/mojca/moje/dev/texlive/Master/texmf/web2c/natural.tcx)

kpathsea: Running mktexfmt cont-en.fmt
I can't find the format file `cont-en.fmt'!
TeXExec | runtime: 11.141305

The strange thing is that I had an empty .texlive2008; it must have
been used once, but maybe it was used for the installation itself.

OK, so I thought I would reinstall TL from SVN.

Platform: universal-darwin => 'universal binaries for MacOSX/Darwin'
Distribution: live (uncompressed)
Directory for temporary files: '/tmp'
Installer directory: '.'
Loading /Users/mojca/texlive/Master/tlpkg/texlive.tlpdb
Can't call method "depends" on an undefined value at ./install-tl line
620, <TMP> line 103757.

I probably have something broken in the SVN repository. I tried to
update several times (the main problem is that I cannot afford to
update "bin", so if some new file appears in Master or if I forget to
update something in the top dir I probably screw up, so I was playing
with svn up and rsync, but might have broken up something, and it's
just too giant to simply delete it and fetch it all again).

So, let's try the network installer then.

If I follow the link small "bootstrap installer available on CTAN" from
    http://www.tug.org/texlive/acquire.html

then I see the source html instead of webpage. I copy-paste the link
to tar.gz, get it, unzip it, and out of curiosity test the gui (I want
to make sure that our translation is still ok).

> ./install-tl -gui
Platform: universal-darwin => 'universal binaries for MacOSX/Darwin'
Distribution: net  (downloading)
Using URL: http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev
Directory for temporary files: '/tmp'
Installer directory: '.'
Loading http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
couldn't connect to display ":0" at
/Library/Perl/5.8.6/darwin-thread-multi-2level/Tk/MainWindow.pm line
55.
Tk::MainWindow->new() at tlpkg/installer/install-menu-perltk.pl line 233

OK, it's my fault, but can someone maybe add a note "you need to run
X11 in order to be able to use x11"? (Minor, unimportant issue, but it
would be nice to document it somewhere.)

OK, let's "startx".

Surprise, surprise! It works, but I get approximately 800 x 100
window. I didn't really measure it, but it used to work before Taco
started complaining about too big size. Norbert?

I'm now running a fresh network installation, I hope it will work.

Mojca

From preining at logic.at  Thu Jul 31 16:24:07 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 16:24:07 +0200
Subject: [tex-live] Testing 2008
In-Reply-To: <20080731141104.GE21556@gamma.logic.tuwien.ac.at>
References: <420afcd00807310227p4a8e3553yae1680ca4a416e82@mail.gmail.com>
	<20080731141104.GE21556@gamma.logic.tuwien.ac.at>
Message-ID: <20080731142407.GA26501@gamma.logic.tuwien.ac.at>

And again me ...

On Do, 31 Jul 2008, Norbert Preining wrote:
> Thanks for reporting, this is a real bug. We *DO* continue with the lzma
> even if the un-lzma-ing was unsuccessfull. That cannot work.

For more testing please apply this patch to
	install-tl/tlpkg/TeXLive/TLPDB.pm

--- /src/TeX/texlive-svn/Master/tlpkg/TeXLive/TLPDB.pm	2008-07-18 23:16:25.000000000 +0200
+++ tlpkg/TeXLive/TLPDB.pm	2008-07-31 16:14:38.000000000 +0200
@@ -219,8 +219,8 @@
       if ($ret && (-r "$lzmafile")) {
         # ok, let the fun begin
         debug("Un-lzmaing $lzmafile to $tlpdbfile\n");
-        system("$::progs{'lzmadec'} < $lzmafile_quote > $tlpdbfile_quote");
-        if (! -r $tlpdbfile) {
+        # lzmadec *hopefully* returns 0 on success and anything else on failure
+        if (!system("$::progs{'lzmadec'} < $lzmafile_quote > $tlpdbfile_quote")) {
           debug("Un-lzmaing $lzmafile did not succeed, try normally\n");
         } else {
           unlink($lzmafile);

That should keep you going.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
CLONMULT (n.)
A yellow ooze usually found near secretions of buldoo (q.v.) and
sadberge (q.v.)
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu Jul 31 16:59:39 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 16:59:39 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
Message-ID: <20080731145939.GE26501@gamma.logic.tuwien.ac.at>

Hi Mojca,

On Do, 31 Jul 2008, Mojca Miklavec wrote:
> I first tried to use ./tl-portable (from SVN repository) and run
>     texexec somefile

Cannot comment on that, Siep is the master of tl-portable.

> OK, so I thought I would reinstall TL from SVN.

Reinstallation from svn is currently broken, I am updating the tlpdb now
and commit it in a few minutes. Then it should work again.

> Can't call method "depends" on an undefined value at ./install-tl line
> 620, <TMP> line 103757.

That is the bug I was talking about. I also made some changes to the
installer so that it continues over missing packages ...

> > ./install-tl -gui
> Platform: universal-darwin => 'universal binaries for MacOSX/Darwin'
> Distribution: net  (downloading)
> Using URL: http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev
> Directory for temporary files: '/tmp'
> Installer directory: '.'
> Loading http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
> couldn't connect to display ":0" at
> /Library/Perl/5.8.6/darwin-thread-multi-2level/Tk/MainWindow.pm line
> 55.
> Tk::MainWindow->new() at tlpkg/installer/install-menu-perltk.pl line 233

That is strange. THe installer *tests* whether it can load the Tk
modules. I would have expected that loading the Tk module will break
when there is no X running, but of course that is wrong. 

> OK, it's my fault, but can someone maybe add a note "you need to run
> X11 in order to be able to use x11"? (Minor, unimportant issue, but it
> would be nice to document it somewhere.)

All these errors are not from us, but from the Tk library. I don't know
if I can catch them ... or better, I know, but I don't want to do that
now, too late. Maybe I send you a test installer ...

> Surprise, surprise! It works, but I get approximately 800 x 100
> window. I didn't really measure it, but it used to work before Taco
> started complaining about too big size. Norbert?

800x100?? Darwin is *really* strange. It is currently working on win32
and unix, so why the hell is Darwin again different. At the end it is X.
Maybe just Tk is hosed on Darwin?

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
`This must be Thursday,' said Arthur to himself, sinking
low over his beer, `I never could get the hang of
Thursdays.'
                 --- Arthur, on what was to be his last Thursday on Earth.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From zdenek.wagner at gmail.com  Thu Jul 31 17:04:08 2008
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 31 Jul 2008 17:04:08 +0200
Subject: [tex-live] libXaw.so.8 on x86_64
In-Reply-To: <Pine.LNX.4.61.0807311417320.27427@ginsburg.homenet>
References: <200807282353.m6SNr5K31839@f7.net>
	<Pine.LNX.4.61.0807290927030.27480@ginsburg.homenet>
	<68c491a60807290153n1768f42dv99f07512653cdcd3@mail.gmail.com>
	<Pine.LNX.4.61.0807311417320.27427@ginsburg.homenet>
Message-ID: <8719b6240807310804v3c1855c2vfdf51fac5f7bec59@mail.gmail.com>

2008/7/31, Tigran Aivazian <tigran at bibles.org.uk>:
> On Tue, 29 Jul 2008, [ISO-8859-1] Martin Schr?der wrote:
>
> > 2008/7/29 Tigran Aivazian <tigran at bibles.org.uk>:
> >
> > > I am surprized that my system is considered "too new". It is a very
> > > conservative one based on Fedora Core 6 of ages ago...
> > >
> >
> > Is that the same one you used last year, when we couldn't use your
> > binaries for the same reason?
> >
>
>  Yes, it is the same and it was quite old even a year ago. But looks like
> some people still have even older distributions than FC6...
>
CentOS 5.2 is the latest release but does not have libXaw8.so8 and
"yum provides" does not offer any rpm package from which to get it.

>  Kind regards
>  Tigran


-- 
Zden?k Wagner
http://hroch486.icpf.cas.cz/wagner/
http://icebearsoft.euweb.cz

From preining at logic.at  Thu Jul 31 17:05:17 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 17:05:17 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
Message-ID: <20080731150517.GG26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Mojca Miklavec wrote:
> Can't call method "depends" on an undefined value at ./install-tl line
> 620, <TMP> line 103757.

Installation from svn should work again, after svn up

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GLENTIES (pl.n.)
Series of small steps by which someone who has made a serious tactical
error in a conversion or argument moves from complete disagreement to
wholehearted agreement.
			--- Douglas Adams, The Meaning of Liff

From mojca.miklavec.lists at gmail.com  Thu Jul 31 17:10:53 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 31 Jul 2008 17:10:53 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <20080731145939.GE26501@gamma.logic.tuwien.ac.at>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
Message-ID: <6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>

On Thu, Jul 31, 2008 at 4:59 PM, Norbert Preining wrote:
> Hi Mojca,
>
> On Do, 31 Jul 2008, Mojca Miklavec wrote:
>> I first tried to use ./tl-portable (from SVN repository) and run
>>     texexec somefile
>
> Cannot comment on that, Siep is the master of tl-portable.

For some reason format generation (or finding the already built
formats, or both) is failing. I remember that tl-portable was working
some time ago.

>> OK, so I thought I would reinstall TL from SVN.
>
> Reinstallation from svn is currently broken, I am updating the tlpdb now
> and commit it in a few minutes. Then it should work again.
>
>> Can't call method "depends" on an undefined value at ./install-tl line
>> 620, <TMP> line 103757.
>
> That is the bug I was talking about. I also made some changes to the
> installer so that it continues over missing packages ...

Thanks.

>> > ./install-tl -gui
>> Platform: universal-darwin => 'universal binaries for MacOSX/Darwin'
>> Distribution: net  (downloading)
>> Using URL: http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev
>> Directory for temporary files: '/tmp'
>> Installer directory: '.'
>> Loading http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
>> couldn't connect to display ":0" at
>> /Library/Perl/5.8.6/darwin-thread-multi-2level/Tk/MainWindow.pm line
>> 55.
>> Tk::MainWindow->new() at tlpkg/installer/install-menu-perltk.pl line 233
>
> That is strange. THe installer *tests* whether it can load the Tk
> modules. I would have expected that loading the Tk module will break
> when there is no X running, but of course that is wrong.

It does break. It says "couldn't connect to display ":0". Though yes -
someone else could spit some friendlier error message.

>> OK, it's my fault, but can someone maybe add a note "you need to run
>> X11 in order to be able to use x11"? (Minor, unimportant issue, but it
>> would be nice to document it somewhere.)
>
> All these errors are not from us, but from the Tk library. I don't know
> if I can catch them ... or better, I know, but I don't want to do that
> now, too late. Maybe I send you a test installer ...

Manual suggested checking if DISPLAY exists on OS X, but I know that
the error doesn't come from you. It's just that Perl/Tk has not been
ported to Aqua and depends on X11. Only Tcl/Tk and Ruby/Tk work OK
with native Aqua.

>> Surprise, surprise! It works, but I get approximately 800 x 100
>> window. I didn't really measure it, but it used to work before Taco
>> started complaining about too big size. Norbert?
>
> 800x100?? Darwin is *really* strange. It is currently working on win32
> and unix, so why the hell is Darwin again different. At the end it is X.
> Maybe just Tk is hosed on Darwin?

Can you send me some small test code, so that I can run a test that
reports screen dimensions? I would not be surprised if system was
reporting zero height.

Mojca

From P.Taylor at Rhul.Ac.Uk  Thu Jul 31 17:29:26 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Ret'd))
Date: Thu, 31 Jul 2008 16:29:26 +0100
Subject: [tex-live] Which release ?
In-Reply-To: <22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
References: <48919043.9030009@Rhul.Ac.Uk>
	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
Message-ID: <4891DA56.3010906@Rhul.Ac.Uk>

Ah, sorry, I should have been clearer : this is
TeX Live (direct from TUG) installed on Windows/XP.
I am reasonably certain that the earliest extant
installation in my home is the 2003 release, but
I was hoping to run a test to check the release
date of each so as to be in a better position
to understand their difference(s) in behaviour.

I would seem (if I understand your message correctly)
that there isn't (say) a file "AAAREADME.1st"
that comes with each release and which is updated
to indicate the release, but rather that the
convention(s) for file naming change from year
to year, so one year might have a "Live.html" whilst
another year might have a "TeXLive-EN.html".  Have
I understood you correctly ?

An alternative approach would be to use
the version number reported by (Pdf)TeX.
TeX itself changes rarely, but over the
period of interest I imagine that PdfTeX
was changing all the time.  Is there, do
you know, a record of which version of PdfTeX
was included in each version of TeX Live since
the former's inception ?

** Phil.

From P.Taylor at Rhul.Ac.Uk  Thu Jul 31 17:52:02 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Ret'd))
Date: Thu, 31 Jul 2008 16:52:02 +0100
Subject: [tex-live] Which release ?
In-Reply-To: <4891DDBB.9060706@oucs.ox.ac.uk>
References: <48919043.9030009@Rhul.Ac.Uk>	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk> <4891DDBB.9060706@oucs.ox.ac.uk>
Message-ID: <4891DFA2.7020309@Rhul.Ac.Uk>

Thanks, Sebastian : unfortunately on this
machine (which probably has the most recent
release of any of those at home), there is
only one top-level file, "tlpm.log", and
that has a 2008 date which is impossible
(I have TeX Live CDs/DVDs from 2000 to
2007).  If I look in /Bin/Win32/, I see
files varying between 2006 and 2008 :-(

** Phil.
--------
Sebastian Rahtz wrote:
 > Philip TAYLOR (Ret'd) wrote:
 >>
 >> I would seem (if I understand your message correctly)
 >> that there isn't (say) a file "AAAREADME.1st"
 > Why don't you just look at the date stamp conveniently
 > maintained for each file on the CD by the file system?
 > No need for mysterious files, just look at the date
 > of any top-level file.

From mpg at elzevir.fr  Thu Jul 31 18:27:24 2008
From: mpg at elzevir.fr (Manuel Pegourie-Gonnard)
Date: Thu, 31 Jul 2008 18:27:24 +0200
Subject: [tex-live] Which release ?
In-Reply-To: <4891DA56.3010906@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk>
Message-ID: <4891E7EC.4030706@elzevir.fr>

Philip TAYLOR (Ret'd) a ?crit :
> to year, so one year might have a "Live.html" whilst
> another year might have a "TeXLive-EN.html".  Have
> I understood you correctly ?
> 
No exactly. AFAIK, the manual has been named live.pdf (and .html etc) for
years, this changed only recently and is not a rule to encode the release's
year.

What I was suggesting in my previous message (mistakenly sent off-list,
sorry) is that you just open this documentation, which should be somewhere
in your tree (the precise location may vary, texmf-doc didn't allways
exist), so use texdoc or locate or whatever to find it, and look at the date
on the front cover of the doc. It obviously mentions the release.

Manuel.


From sebastian.rahtz at oucs.ox.ac.uk  Thu Jul 31 17:53:24 2008
From: sebastian.rahtz at oucs.ox.ac.uk (Sebastian Rahtz)
Date: Thu, 31 Jul 2008 16:53:24 +0100
Subject: [tex-live] Which release ?
In-Reply-To: <4891DFA2.7020309@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk> <4891DDBB.9060706@oucs.ox.ac.uk>
	<4891DFA2.7020309@Rhul.Ac.Uk>
Message-ID: <4891DFF4.6080001@oucs.ox.ac.uk>

Philip TAYLOR (Ret'd) wrote:
>  unfortunately on this
> machine (which probably has the most recent
> release of any of those at home), there is
> only one top-level file, "tlpm.log", and
> that has a 2008 date which is impossible
> (I have TeX Live CDs/DVDs from 2000 to
> 2007).  
sorry, I was not paying attention. I was vaguely
assuming you had the CD to hand. Doh, in which
case you'd read the label.

ignore me....

-- 
Sebastian Rahtz      

Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431


From mpg at elzevir.fr  Thu Jul 31 18:36:11 2008
From: mpg at elzevir.fr (Manuel Pegourie-Gonnard)
Date: Thu, 31 Jul 2008 18:36:11 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
Message-ID: <4891E9FB.2040806@elzevir.fr>

Mojca Miklavec a ?crit :
> Manual 

:-) I never had my name translated before.

> suggested checking if DISPLAY exists on OS X, but I know that
> the error doesn't come from you. It's just that Perl/Tk has not been
> ported to Aqua and depends on X11. Only Tcl/Tk and Ruby/Tk work OK
> with native Aqua.
> 
The idea is that if we can somehow detect if X11 is running /before/ we try
to load the Tk module, then we can exit with a hopefully nicer error message
than what happens currently.  If things work as I expect (which they almost
never do on Mac OS, but one never knows), DISPLAY should be set iff X11 is
running.  Can you check this, Mojca?

Manuel.


From sebastian.rahtz at oucs.ox.ac.uk  Thu Jul 31 17:43:55 2008
From: sebastian.rahtz at oucs.ox.ac.uk (Sebastian Rahtz)
Date: Thu, 31 Jul 2008 16:43:55 +0100
Subject: [tex-live] Which release ?
In-Reply-To: <4891DA56.3010906@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk>
Message-ID: <4891DDBB.9060706@oucs.ox.ac.uk>

Philip TAYLOR (Ret'd) wrote:
>
> I would seem (if I understand your message correctly)
> that there isn't (say) a file "AAAREADME.1st"
Why don't you just look at the date stamp conveniently
maintained for each file on the CD by the file system?
No need for mysterious files, just look at the date
of any top-level file.

-- 
Sebastian Rahtz      

Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431


From mojca.miklavec.lists at gmail.com  Thu Jul 31 19:04:15 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 31 Jul 2008 19:04:15 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <4891E9FB.2040806@elzevir.fr>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
Message-ID: <6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>

On Thu, Jul 31, 2008 at 6:36 PM, Manuel Pegourie-Gonnard wrote:
> Mojca Miklavec a ?crit :
>> Manual
>
> :-) I never had my name translated before.

Hmmm ... probably my bad conscious speaking out of me (manual)? Your
name would be spelled the same way here.

>> suggested checking if DISPLAY exists on OS X, but I know that
>> the error doesn't come from you. It's just that Perl/Tk has not been
>> ported to Aqua and depends on X11. Only Tcl/Tk and Ruby/Tk work OK
>> with native Aqua.
>>
> The idea is that if we can somehow detect if X11 is running /before/ we try
> to load the Tk module, then we can exit with a hopefully nicer error message
> than what happens currently.  If things work as I expect (which they almost
> never do on Mac OS, but one never knows), DISPLAY should be set iff X11 is
> running.  Can you check this, Mojca?

You were right.
I mean - about the fact that your ideas don't work as you expect.

You get DISPLAY defined, but only inside xterm. Outside of xterm (but
if and only if you have xterm running) you are free to launch perl/tk
applications. And again - this might be different on Leopard, I don't
know.

Forget about my stupid idea to catch the error. If possible, it would
be nice to fix the window height, but not urgent.

I guess that users are able to resize the window by themselves.

Mojca

From preining at logic.at  Thu Jul 31 19:09:06 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 19:09:06 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
Message-ID: <20080731170906.GO26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Mojca Miklavec wrote:
> Forget about my stupid idea to catch the error. If possible, it would

Mojca, can you try the attached install-tl with -gui and without X
installed and show me the output?

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LISTOWEL (n.)
The small mat on the bar designed to be more absorbent than the bar,
but not as absorbent as your elbows.
			--- Douglas Adams, The Meaning of Liff
-------------- next part --------------
#!/usr/bin/env perl
# $Id: install-tl 9937 2008-07-31 14:25:26Z preining $
#
# Copyright 2007, 2008 Reinhard Kotucha, Norbert Preining
# This file is licensed under the GNU General Public License version 2
# or any later version.
#
# TODO
# - pod2usage on windows cannot be captured with | more or piped to a file
#   why? I have no idea

my $svnrev = '$Revision: 9937 $';
$svnrev =~ m/: ([0-9]+) /;
$::installerrevision = $1;

# is now taken from 00texlive.config: release, $tlpdb->config_release;
our $texlive_release;

my $localpath;

BEGIN {
  $^W = 1;
  my $me=$0;
  $me=~s!\\!/!g if $^O=~/^MSWin(32|64)$/i;
  if ($me=~m!/!) {
    ($localpath=$me)=~s!(.*)/.*$!$1!;
    # we have to chdir to the Master ...
    chdir($localpath);
  } else {
    $localpath = '.';
  }
  $::installerdir='.';
  # Windows: The installer uses a minimal subset of Perl.  In order
  # to avoid conflicts with other versions of Perl already installed on
  # the system, we simply ignore them.  The installer has to execute
  # $::installerdir/tlpkg/bin/perl.exe and should not rely on any other
  # Perl executable. The batchfile wrapper takes care of this.
  #if ($^O=~/^MSWin(32|64)$/i) {
  #  @INC="$::installerdir/tlpkg/installer/perllib";
  #}

  # All platforms: add the installer modules
  unshift (@INC, "$::installerdir/tlpkg");
}

use Getopt::Long qw(:config no_autoabbrev);

use TeXLive::TLUtils qw(platform platform_desc
   which getenv win32 unix program_exists info log debug tlwarn ddebug
   get_system_tmpdir member process_logging_options rmtree
   mkdirhier make_var_skeleton make_local_skeleton install_package copy
   install_packages dirname setup_programs welcome welcome_paths);
use TeXLive::TLPOBJ;
use TeXLive::TLPDB;
use TeXLive::TLConfig;
use TeXLive::TLPostActions;
use Pod::Usage;
use Cwd 'abs_path';

if (win32) {
  require TeXLive::TLWinGoo;
  TeXLive::TLWinGoo->import( qw(
    &win_version
    &is_vista
    &admin
    &non_admin
    &reg_country
    &expand_string
    &global_tmpdir
    &get_system_path
    &get_user_path
    &setenv_reg
    &unsetenv_reg
    &add_texbindir_to_path
    &remove_texbindirs_from_path
    &register_extension
    &unregister_extension
    &register_file_type
    &unregister_file_type
    &broadcast_env
    &update_assocs
    &add_desktop_shortcut
    &add_menu_shortcut
    &remove_desktop_shortcut
    &remove_menu_shortcut
    &init_unshortbat
    &create_uninstaller
  ));
}



use strict;

# debugging/logging cmd lines options:
# -q     shut up terminal output but warning messages
# -v     do a bit of debugging to stdout and logfile
#        repeated use increases the value of verbosity
#
@::LOGLINES = ();
#
# $install{$packagename} == 1 if it should be installed
my %install;

# the default scheme to be installed
my $default_scheme='scheme-full';

# some arrays where the lists of collections to be installed are saved
# our for menus
our @collections_std;
our @collections_lang;
our @collections_lang_doc;
# The global variable %vars is an associative list which contains all
# variables and their values which can be changed by the user.
# needs to be our since TeXLive::TLUtils uses it
#
# The following values are taken from the remote tlpdb using the
#   $tlpdb->option_XXXXX
# settings (i.e., taken from tlpkg/tlpsrc/00texlive-installation.tlpsrc
#
#        'option_symlinks' => 0,
#        'sys_bin' => '/usr/local/bin',
#        'sys_man' => '/usr/local/man',
#        'sys_info' => '/usr/local/info',
#        'option_doc' => 1,
#        'option_src' => 1,
#        'option_fmt' => 0,
#        'option_letter' => 0,
our %vars=( # 'n_' means 'number of'.
        'this_platform' => platform(),
        'n_systems_available' => 0,
        'n_systems_selected' => 0,
        'n_collections_selected' => 0,
        'n_collections_available' => 0,
        'total_size' => 0,
        'src_splitting_supported' => 1,
        'doc_splitting_supported' => 1,
        'selected_scheme' => $default_scheme,
        'from_dvd' => 0,
    );

# option handling
my $opt_from_dvd = "";
my $opt_location = "";
my $opt_profile = "";
my $opt_no_cls=0;
my $opt_nogui = 0;
my $opt_nonadmin = 0;
my $opt_arch = 0;
our $opt_portable = 0;
my $opt_help = 0;
my $opt_version = 0;
my $opt_gui = 0;
$opt_gui = 1 if (win32);
# default language for GUI installer
$::lang = "en";


# if we find a file installation.profile we ask the user whether we should
# continue with the installation
# note, we are in the installer directory!
if (-r "installation.profile") {
  print "ABORTED INSTALLATION FOUND: $localpath/installation.profile!!!\n";
  print "Do you want to continue with the exact same settings as before (y/N): ";
  my $answer = <STDIN>;
  if ($answer =~ m/^y(es)?$/i) {
    $opt_profile = "installation.profile";
  }
}

# first process verbosity/quiet options
process_logging_options();
# now the others
GetOptions(
           "from_dvd" => \$opt_from_dvd,
           "profile=s"=> \$opt_profile,
           "no-cls",
           "gui", \$opt_gui,
           "no-gui", \$opt_nogui,
           "lang=s" => \$::opt_lang,
           "print-arch" => \$opt_arch,
           "portable" => \$opt_portable,
           "non-admin" => \$opt_nonadmin,
           "location|url=s"   => \$opt_location,
           "version" => \$opt_version,
           "help|?" => \$opt_help) or pod2usage(1);

if (win32()) {
  pod2usage(-exitstatus => 0,
            -verbose => 2,
            -noperldoc => 1,
            -output  => \*STDOUT) if $opt_help;
} else {
  pod2usage(-exitstatus => 0, -verbose => 2, -file => $0) if $opt_help;
}

if ($opt_version) {
  print "TeX Live Cross Platform Installer, revision $::installerrevision\n";
  if (-r "release-texlive.txt") {
    # more version info if we can get it.
    print `sed -n '1p;\$p' release-texlive.txt`;
  }
  exit 0;
}

if ($#ARGV >= 0) {
  # we still have arguments left, should only be gui, otherwise die
  if ($ARGV[0] =~ m/^gui$/i) {
    $opt_gui = 1;
  } else {
    die "$0: Extra arguments `@ARGV'; try --help if you need it.\n";
  }
}


if (defined($::opt_lang)) {
  $::lang = $::opt_lang;
}

if ("$opt_profile" ne "") {
  if (-r "$opt_profile") {
    info("Using automated installation using $opt_profile!");
  } else {
    $opt_profile = "";
    info("Profile $opt_profile not readable, continuing in interactive mode!");
  }
}

if ($opt_nonadmin and win32()) { non_admin(); }


# the TLPDB instances we will use. $tlpdb is for the one from the installation
# media, while $localtlpdb is for the new installation
# $tlpdb must be our because it is used in install-menu-text.pl
our $tlpdb;
my $localtlpdb;
my $location;

# $finished == 1 if the menu call already did the installation
my $finished = 0;
@::start_install_hook = ();
@::end_install_hook = ();
@::start_postinst_hook = ();
@::start_install_hook = ();

my $system_tmpdir=get_system_tmpdir();
my $media;

# a couple of special uses of install-tl:

if ($opt_arch) {
  print platform;
  exit 0;
} elsif ($opt_portable) {
  $::opt_verbosity = -1;
  $::_platform_ = platform();
  $location = getenv('TEXDIR');
  $vars{'TEXDIR'} = $location;
  if (not -d $vars{'TEXDIR'}.'/bin/'.$::_platform_) { # shouldn't happen
    print "Platform ".$::_platform_." not supported\n";
    exit 1;
  }
  # set_platforms_supported();
  # set_texlive_default_dirs();
  $vars{'TEXDIRW'} = getenv('TEXDIRW');
  $vars{'TEXMFSYSVAR'} = getenv('TEXMFSYSVAR');
  $vars{'TEXMFSYSCONFIG'} = getenv('TEXMFSYSCONFIG');
  $vars{'TEXMFLOCAL'} = getenv('TEXMFLOCAL');
  $vars{'TEXMFHOME'} = getenv('TEXMFHOME');
  $vars{'TEXMFVAR'} = getenv('TEXMFVAR');
  $vars{'TEXMFCONFIG'} = getenv('TEXMFCONFIG');
  # initialize_collections();
  # set_install_platform();
  $vars{'this_platform'} = platform();
  # do_installation();
  #   prepare_installation();
  if (win32()) {
    non_admin();
    my $winpath = "$vars{'TEXDIR'}/bin/win32";
    # register_script_type(".texlua", "%TEXBINDIR%/texlua.exe");
    # update_assocs();
  }
  mkdirhier "$vars{'TEXMFCONFIG'}";
  mkdirhier "$vars{'TEXMFSYSCONFIG'}";
  if (not -d "$vars{'TEXMFSYSVAR'}" ) {
    print "About to generate some files... Press <enter>";
    <STDIN>;
    load_tlpdb();
    $localtlpdb = $tlpdb;
    $texlive_release = $tlpdb->config_release;
    make_var_skeleton "$vars{'TEXMFSYSVAR'}";
    #$localtlpdb=new TeXLive::TLPDB;
    #$localtlpdb->root("$vars{'TEXDIR'}");
    # the usual argument for pregenerating all formats doesn't apply
    $vars{'option_fmt'} = 0;
    do_postinst_stuff();
  }
  close($::LOGFILE) if defined($::LOGFILE);
  print TeXLive::TLUtils::welcome;
  exit 0;
}

# continuing with normal install

# initialize the correct platform
platform();
setup_programs ("$::installerdir/tlpkg/installer", "$::_platform_");
$ENV{'WGETRC'}="$::installerdir/tlpkg/installer/wgetrc";

#
# determine from where we do install
#
$location = $opt_location;
$location || ($location = "$::installerdir");
if ($location =~ m!^(http|ftp)://!i) {
  $location =~ s,/(tlpkg|archive)?/*$,,;  # remove any trailing tlpkg or /
  $TeXLiveURL = $location;
  $media = 'NET';
} else {
  # remove leading file:/+ part
  $location =~ s!^file://*!/!i;
  $location = abs_path($location);
  if (-d "$location/$Archive") {
    $media='CD';
  } elsif (-d "$location/texmf/web2c") {
    $media='DVD';
  } else {
    if ($opt_location) {
      # user gave a --location but nothing can be found there, so die
      die "Cannot find installation source at $opt_location!";
    }
    # no --location given, but NET installation
    $TeXLiveURL = $location = TeXLive::TLUtils::give_ctan_mirror();
    $media = 'NET';
  }
}


info("Platform: ", platform, " => \'", platform_desc(platform), "\'\n");
if ($media eq "DVD") {
  info("Distribution: live (uncompressed)\n");
} elsif ($media eq "CD") {
  info("Distribution: inst (compressed)\n");
} elsif ($media eq "NET") {
  info("Distribution: net  (downloading)\n");
  info("Using URL: $TeXLiveURL\n");
} else {
  info("Distribution: $media\n");
}
info("Directory for temporary files: '", $system_tmpdir, "\'\n");
info("Installer directory: '$localpath'\n");

if ($opt_from_dvd and ($media ne "DVD")) {
  print "Not running from DVD; 'from_dvd' option not applicable\n";
  $opt_from_dvd = 0;
}
$vars{'from_dvd'} = $opt_from_dvd;

load_tlpdb();

log("Installer revision: $::installerrevision\n");
log("Database revision: " . $tlpdb->config_revision . "\n");

# correctly set the splitting support
# for DVD we always support splitting
if (($media eq "NET") || ($media eq "CD")) {
  $vars{'src_splitting_supported'} = $tlpdb->config_src_container;
  $vars{'doc_splitting_supported'} = $tlpdb->config_doc_container;
}
$texlive_release = $tlpdb->config_release;
set_platforms_supported();
set_texlive_default_dirs();
initialize_collections();
set_install_platform();
if ($opt_profile eq "") {
  # do the normal interactive installation!
  #
  # here we could load different menu systems. Currently several things
  # are "our" so that the menu implementation can use it. The $tlpdb, the
  # %var, and all the @collection*
  # install-menu-*.pl should implement a function run_menu() and should
  # change ONLY stuff in %vars
  # The allowed keys in %vars should be specified somewhere ...
  # the menu implementation should return
  #    MENU_INSTALL  do the installation
  #    MENU_ABORT    abort every action immediately, no cleanup
  #    MENU_QUIT     try to quit and clean up mess
  our $MENU_INSTALL = 0;
  our $MENU_ABORT   = 1;
  our $MENU_QUIT    = 2;
  our $MENU_ALREADYDONE = 3;
  if ($opt_gui && !$opt_nogui) {
    # try to load Tk.pm, but don't die if it doesn't work
    eval { require Tk; };
    if ($@) {
      # that didn't work out, so warn the user and continue with text mode
      tlwarn("Cannot load Tk, maybe something is missing and\n");
      tlwarn("maybe http://tug.org/texlive/distro.html#perltk can help.\n");
      tlwarn("Error message from loading Tk:\n");
      tlwarn("  $@\n");
      tlwarn("Continuing in text mode...\n");
      $opt_gui = 0;
    }
    eval { my $foo = Tk::MainWindow->new; $foo->destroy; };
    if ($@) {
      tlwarn("Could it be that I cannot create the main windows???\n");
      tlwarn("error message $@\n");
      $opt_gui = 0;
    }
  }
  if ($opt_gui && !$opt_nogui) {
    require("installer/install-menu-perltk.pl");
  } else {
    require("installer/install-menu-text.pl");
  }
  my $ret = run_menu();
  if ($ret == $MENU_QUIT) {
    do_cleanup();  MISSING
    flushlog();
    exit(1);
  }
  if ($ret == $MENU_ABORT) {
    # NO do_cleanup()!
    flushlog();
    exit(2);
  }
  if ($ret == $MENU_ALREADYDONE) {
    debug("run_menu has already done the work ... cleaning up!\n");
    $finished = 1;
  }
  if (!$finished && ($ret != $MENU_INSTALL)) {
    warn("Unknown return value of run_menu: $ret\n");
    exit(3);
  }
} else {
  read_profile("$opt_profile");
}

if (!$finished) {
  # do the actual installation
  # win32: first, remove trailing slash from texdir[w]
  # in case it is the root of a drive
  $vars{'TEXDIR'} =~ s![/\\]$!!;
  $vars{'TEXDIRW'} =~ s![/\\]$!!;
  do_installation();
}

do_cleanup();

exit(0);

###################################################################
#
# FROM HERE ON ONLY SUBROUTINES
# NO VARIABLE DECLARATIONS
#
###################################################################

sub do_installation {
  # do the actual installation
  my $h;
  foreach $h (@::start_install_hook) {
    &$h();
  }
  prepare_installation();
  if (!$vars{'from_dvd'}) {
    calc_depends();
    save_options_into_tlpdb();
    do_install_packages();
  }
  if (win32()) {
    add_texbindir_to_path($vars{'TEXDIR'}.'/bin/win32');
    # setenv_reg('TEXMFSYSVAR', $vars{'TEXMFSYSVAR'}) if $vars{'from_dvd'};
    setenv_reg('TEXMFCNF', $vars{'TEXMFSYSVAR'}.'/web2c') if $vars{'from_dvd'};
    broadcast_env();
    create_uninstaller($vars{'TEXDIR'}, $vars{'TEXDIRW'},
      $vars{'TEXMFSYSVAR'}, $vars{'TEXMFSYSCONFIG'});
  }
  foreach $h (@::start_postinst_hook) {
    &$h();
  }
  do_postinst_stuff();
  $localtlpdb->save unless $vars{'from_dvd'};
  foreach $h (@::end_install_hook) {
    &$h();
  }
}

sub dump_vars {
  my $filename=shift;
  my $fh;
  if (ref($filename)) {
    $fh = $filename;
  } else {
    open VARS, ">$filename";
    $fh = \*VARS;
  }
  foreach my $key (keys %vars) {
    print $fh "$key $vars{$key}\n";
  }
  close VARS if (!ref($filename));
  debug("\n%vars dumped to '$filename'.\n");
}


# Determine which platforms are supported.
sub set_platforms_supported {
  my @binaries = $tlpdb->available_architectures;
  for my $binary (@binaries) {
    unless (defined $vars{"binary_$binary"}) {
      $vars{"binary_$binary"}=0;
    }
  }
  for my $key (keys %vars) {
    ++$vars{'n_systems_available'} if ($key=~/^binary/);
  }
}

# Environment variables and default values on UNIX:
#   TEXLIVE_INSTALL_PREFIX         /usr/local/texlive   => $tex_prefix
#   TEXLIVE_INSTALL_TEXDIR         $tex_prefix/2007     => $TEXDIR
#   TEXLIVE_INSTALL_TEXMFSYSVAR    $TEXDIR/texmf-var
#   TEXLIVE_INSTALL_TEXMFSYSCONFIG $TEXDIR/texmf-config
#   TEXLIVE_INSTALL_TEXMFLOCAL     $tex_prefix/texmf-local
#   TEXLIVE_INSTALL_TEXMFHOME      '$HOME/texmf'

sub set_texlive_default_dirs {
  my $tex_prefix;
  my $texmfsysvar;
  my $texmfsysconfig;
  my $texmflocal;
  my $texmfhome;

  $tex_prefix=getenv('TEXLIVE_INSTALL_PREFIX');
  if (win32) {
    my $prog = getenv('ProgramFiles');
    $tex_prefix ||= $prog . '/texlive';
    # $tex_prefix ||= $prog . '/texlive' if TeXLive::TLWinGoo::dir_writable($prog);
    # $tex_prefix||=getenv('USERPROFILE') . '/texlive';
  } else {
    $tex_prefix||='/usr/local/texlive';
  }
  $vars{'TEXDIRW'}="$tex_prefix/$texlive_release";

  $texmfsysvar=getenv('TEXLIVE_INSTALL_TEXMFSYSVAR');
  $texmfsysvar||=$vars{'TEXDIRW'} . '/texmf-var';
  $vars{'TEXMFSYSVAR'}=$texmfsysvar;

  $texmfsysconfig=getenv('TEXLIVE_INSTALL_TEXMFSYSCONFIG');
  $texmfsysconfig||=$vars{'TEXDIRW'} . '/texmf-config';
  $vars{'TEXMFSYSCONFIG'}=$texmfsysconfig;

  $texmflocal=getenv('TEXLIVE_INSTALL_TEXMFLOCAL');
  $texmflocal||="$tex_prefix/texmf-local";
  $vars{'TEXMFLOCAL'}=$texmflocal;

  $vars{'TEXDIR'} = $vars{'from_dvd'} ? abs_path($::installerdir) :
    $vars{'TEXDIRW'};

  $texmfhome=getenv('TEXLIVE_INSTALL_TEXMFHOME');
  $texmfhome ||= "~";
  $vars{'TEXMFHOME'}="$texmfhome/texmf";
}

sub calc_depends {
  # we have to reset the install hash EVERY TIME otherwise everything will
  # always be installed since the default is scheme-full which selects
  # all packages and never deselects it
  %install=();
  my $p;
  my $a;

  # initialize the %install hash with what should be installed

  # First look for packages in the selected scheme.
  my $scheme=$tlpdb->get_package($vars{'selected_scheme'});
  if (!defined($scheme)) {
    dump_vars(\*STDOUT);
    die ("Scheme $vars{'selected_scheme'} not defined!\n");
  }

  for my $scheme_content ($scheme->depends) {
    $install{"$scheme_content"}=1 unless ($scheme_content=~/^collection-/);
  }

  # Now look for collections in the %vars hash.  These are not
  # necessarily the collections required by a scheme.  The final
  # decision is made in the collections/languages menu.
  foreach my $key (keys %vars) {
    if ($key=~/^collection-/) {
      $install{$key} = 1 if $vars{$key};
    }
  }

  # compute the list of archs to be installed
  my @archs;
  foreach (keys %vars) {
    if (m/^binary_(.*)$/ ) {
      if ($vars{$_}) { push @archs, $1; }
    }
  }

  # if programs for arch=win32 are installed we also have to install
  # bin-tlperl.win32 which provides the "hidden" perl that will be used
  # to run all the perl scripts.
  # Furthermore we install bin-tlgs.win32 and bin-tlpsv.win32, too
  if (grep(/^win32$/, at archs)) {
    $install{"bin-tlperl.win32"} = 1;
    $install{"bin-tlgs.win32"} = 1;
    $install{"bin-tlpsv.win32"} = 1;
  }

  # loop over all the packages until it is getting stable
  my $changed = 1;
  while ($changed) {
    # set $changed to 0
    $changed = 0;

    # collect the already selected packages
    my @pre_selected = keys %install;
    ddebug("initial number of installations: $#pre_selected\n");

    # loop over all the pre_selected and add them
    foreach $p (@pre_selected) {
      ddebug("pre_selected $p\n");
      my $pkg = $tlpdb->get_package($p);
      if (!defined($pkg)) {
        tlwarn("W: $p is mentioned somewhere but not available, disabling it!\n");
        $install{$p} = 0;
        next;
      }
      foreach my $p_dep ($tlpdb->get_package($p)->depends) {
        if ($p_dep =~ m/^(.*)\.ARCH$/) {
          my $foo = "$1";
          foreach $a (@archs) {
            $install{"$foo.$a"} = 1 if defined($tlpdb->get_package("$foo.$a"));
          }
        } elsif ($p_dep =~ m/^(.*)\.win32$/) {
          # a win32 package should *only* be installed if we are installing
          # the win32 arch
          if (grep(/^win32$/, at archs)) {
            $install{$p_dep} = 1;
          }
        } else {
          $install{$p_dep} = 1;
        }
      }
    }

    # check for newly selected packages
    my @post_selected = keys %install;
    ddebug("number of post installations: $#post_selected\n");

    # set repeat condition
    if ($#pre_selected != $#post_selected) {
      $changed = 1;
    }
  }

  # now do the size computation
  my $size = 0;
  foreach $p (keys %install) {
    my $tlpobj = $tlpdb->get_package($p);
    if (not(defined($tlpobj))) {
      tlwarn("W: $p should be installed bug cannot be found in texlive.tlpdb!\n");
      tlwarn("W: disabling it (expect this messages a view times!)\n");
      $install{$p} = 0;
      next;
    }
    $size+=$tlpobj->docsize if $vars{'option_doc'};
    $size+=$tlpobj->srcsize if $vars{'option_src'};
    $size+=$tlpobj->runsize;
    foreach $a (@archs) {
      $size += $tlpobj->binsize->{$a} if defined($tlpobj->binsize->{$a});
    }
  }
  $vars{'total_size'} =
    sprintf "%d", ($size * $TeXLive::TLConfig::BlockSize)/1024**2;
}

sub load_tlpdb {
  my $master = $location;
  info("Loading $master/$TeXLive::TLConfig::InfraLocation/$TeXLive::TLConfig::DatabaseName\n");
  $tlpdb=TeXLive::TLPDB->new(root => "$master");
  if (!defined($tlpdb)) {
    die("Cannot load TeX Live Database from $master");
  }
  # set the defaults to what is specified in the tlpdb
  $vars{'option_doc'} = $tlpdb->option_install_docfiles;
  $vars{'option_src'} = $tlpdb->option_install_srcfiles;
  $vars{'option_fmt'} = $tlpdb->option_create_formats;
  $vars{'option_letter' } = ( $tlpdb->option_paper eq "letter" ? 1 : 0 );
  $vars{'option_symlinks'} = $tlpdb->option_create_symlinks;
  $vars{'sys_bin'} = $tlpdb->option_sys_bin;
  $vars{'sys_man'} = $tlpdb->option_sys_man;
  $vars{'sys_info'} = $tlpdb->option_sys_info;
}

sub initialize_collections {
  foreach my $pkg ($tlpdb->list_packages) {
    my $tlpobj = $tlpdb->{'tlps'}{$pkg};
    if ($tlpobj->category eq "Collection") {
      $vars{"$pkg"}=0;
      ++$vars{'n_collections_available'};
      if ($pkg=~/collection-lang/) {
        push @collections_lang, $pkg;
      } elsif ($pkg=~/documentation/) {
        if ($pkg=~/documentation-base/) {
          push @collections_std, $pkg;
        } else {
          push @collections_lang_doc, $pkg;
        }
      } else {
        push @collections_std, $pkg;
      }
    }
  }
  my $scheme_tlpobj = $tlpdb->get_package($default_scheme);
  if (defined ($scheme_tlpobj)) {
    $vars{'n_collections_selected'}=0;
    foreach my $dependent ($scheme_tlpobj->depends) {
      if ($dependent=~/^(collection-.*)/) {
        $vars{"$1"}=1;
        ++$vars{'n_collections_selected'};
      }
    }
  }
  if ($vars{"binary_win32"}) {
    $vars{"collection-wintools"} = 1;
    ++$vars{'n_collections_selected'};
  }
}

sub set_install_platform {
  my $detected_platform=platform;
  my $warn_nobin;
  my $warn_nobin_x86_64_linux;
  my $nowarn="";
  my $wp='***'; # warning prefix

  $warn_nobin="\n$wp WARNING!  No binaries for your platform found!  ";
  $warn_nobin_x86_64_linux="$warn_nobin" .
      "$wp No binaries for x86_64-linux found, using i386-linux instead.\n";

  my $ret = $warn_nobin;
  if (defined $vars{"binary_$detected_platform"}) {
    $vars{"binary_$detected_platform"}=1;
    $vars{'inst_platform'}=$detected_platform;
    $ret = $nowarn;
  } elsif ($detected_platform eq 'x86_64-linux') {
    $vars{'binary_i386-linux'}=1;
    $vars{'inst_platform'}='i386-linux';
    $ret = $warn_nobin_x86_64_linux;
  } else {
    $ret = $warn_nobin;
  }
  foreach my $key (keys %vars) {
    if ($key=~/^binary.*/) {
       ++$vars{'n_systems_selected'} if $vars{$key}==1;
    }
  }
  return($ret);
}

sub create_profile {
  my $profilepath = shift;
  # The file "TLprofile" is created at the beginning of the
  # installation process and contains information about the current
  # setup.  The purpose is to allow non-interactive installations.
  my $fh;
  if (ref($profilepath)) {
    $fh = $profilepath;
  } else {
    open PROFILE, ">$profilepath";
    $fh = \*PROFILE;
  }
  my $tim = gmtime(time);
  print $fh "# texlive.profile written on $tim UTC\n";
  print $fh "# It will NOT be updated and reflects only the\n";
  print $fh "# installation profile at installation time.\n";
  print $fh "selected_scheme $vars{selected_scheme}\n";
  foreach my $key (sort keys %vars) {
    print $fh "$key $vars{$key}\n"
        if $key=~/^collection/ and $vars{$key}==1;
    print $fh "$key $vars{$key}\n" if $key=~/^option_letter/;
    print $fh "$key $vars{$key}\n" if $key=~/^option_doc/;
    print $fh "$key $vars{$key}\n" if $key=~/^option_fmt/;
    print $fh "$key $vars{$key}\n" if $key=~/^option_src/;
    print $fh "$key $vars{$key}\n" if $key=~/^option_symlinks/;
    print $fh "$key $vars{$key}\n" if $key=~/^TEXDIR/;  # includes TEXDIRW
    print $fh "$key $vars{$key}\n" if $key=~/^TEXMFSYSVAR/;
    print $fh "$key $vars{$key}\n" if $key=~/^TEXMFSYSCONFIG/;
    print $fh "$key $vars{$key}\n" if $key=~/^TEXMFLOCAL/;
    print $fh "$key $vars{$key}\n" if $key=~/^TEXMFHOME/;
  }
  if (!ref($profilepath)) {
    close PROFILE;
  }
}

sub read_profile {
  my $profilepath = shift;
  open PROFILE, "<$profilepath"
    or die "Cannot open profile $profilepath for reading!\n";
  my %pro;
  while (<PROFILE>) {
    next if m/^[[:space:]]*$/; # skip empty lines
    next if m/^[[:space:]]*#/; # skip comment lines
    my ($k,$v) = split;
    $pro{$k} = $v;
  }
  foreach (keys %vars) {
    # clear out collections from var
    if (m/^collection-/) { $vars{$_} = 0; }
    if (defined($pro{$_})) { $vars{$_} = $pro{$_}; }
  }
  # if a profile contains *only* the selected_scheme setting without
  # any collection, we assume that exactely that scheme should be installed
  my $coldefined = 0;
  foreach my $k (keys %pro) {
    if ($k =~ m/^collection-/) {
      $coldefined = 1;
      last;
    }
  }
  # if at least one collection has been defined return here
  return if $coldefined;
  # since no collections have been defined in the profile, we
  # set those to be installed on which the scheme depends
  my $scheme=$tlpdb->get_package($vars{'selected_scheme'});
  if (!defined($scheme)) {
    dump_vars(\*STDOUT);
    die ("Scheme $vars{'selected_scheme'} not defined!\n");
  }
  for my $scheme_content ($scheme->depends) {
    $vars{"$scheme_content"}=1 if ($scheme_content=~/^collection-/);
  }
}

sub prepare_installation {
  make_var_skeleton "$vars{'TEXMFSYSVAR'}";
  make_local_skeleton "$vars{'TEXMFLOCAL'}";
  mkdirhier "$vars{'TEXMFSYSCONFIG'}";

  if ($vars{'from_dvd'}) {
    $localtlpdb = $tlpdb;
  } else {
    $localtlpdb=new TeXLive::TLPDB;
    $localtlpdb->root("$vars{'TEXDIR'}");
  }
}


sub do_install_packages {
  my @what;
  foreach my $package (sort keys %install) {
    push @what, $package if ($install{$package} == 1);
  }
  install_packages($tlpdb,$media,$localtlpdb,\@what,$vars{'option_src'},$vars{'option_doc'});
}

# for later complete removal we want to save some options and values
# into the local tlpdb:
# - should links be set, and if yes, the destination (bin,man,info)
sub save_options_into_tlpdb {
  $localtlpdb->option_platform($::_platform_);
  $localtlpdb->option_location($location);
  $localtlpdb->option_paper($vars{'option_letter'} ? "letter" : "a4");
  $localtlpdb->option_create_formats($vars{'option_fmt'} ? "1" : "0");
  $localtlpdb->option_create_symlinks($vars{'option_symlinks'} ? "1" : "0");
  $localtlpdb->option_sys_bin($vars{'sys_bin'});
  $localtlpdb->option_sys_info($vars{'sys_info'});
  $localtlpdb->option_sys_man($vars{'sys_man'});
  $localtlpdb->option_install_docfiles($vars{'option_doc'} ? "1" : "0");
  $localtlpdb->option_install_srcfiles($vars{'option_doc'} ? "1" : "0");
  my @archs;
  foreach (keys %vars) {
    if (m/^binary_(.*)$/ ) {
      if ($vars{$_}) { push @archs, $1; }
    }
  }
  $localtlpdb->option_available_architectures(@archs);
  $localtlpdb->save() unless $vars{'from_dvd'};
}

# do_postinst_stuff has to fix up the texmf tree and install some missing
# files. The things to do are taken from the install-live.sh installer
# of former times, and should be critically checked.
sub do_postinst_stuff {
  my $TEXDIR="$vars{'TEXDIR'}";
  my $TEXDIRW="$vars{'TEXDIRW'}";
  my $TEXMFSYSVAR="$vars{'TEXMFSYSVAR'}";
  my $TEXMFSYSCONFIG="$vars{'TEXMFSYSCONFIG'}";
  my $TEXMFLOCAL="$vars{'TEXMFLOCAL'}";
  my $tmv;

  do_texmf_cnf() unless ($opt_portable);


  # final program execution
  # we have to do several things:
  # - clean the environment from spurious TEXMF related variables
  # - add the bin dir to the PATH
  # - select perl interpreter and set the correct perllib
  # - run the programs

  # Step 1: Clean the environment
  my @TMFVARS0=qw(VARTEXFONTS
    TEXMF SYSTEXMF VARTEXFONTS
    TEXMFDBS WEB2C TEXINPUTS TEXFORMATS MFBASES MPMEMS TEXPOOL MFPOOL MPPOOL
    PSHEADERS TEXFONTMAPS TEXPSHEADERS TEXCONFIG TEXMFCNF);
  my @TMFVARS1=qw(TEXMFMAIN TEXMFDIST TEXMFLOCAL TEXMFSYSVAR TEXMFSYSCONFIG
    TEXMFHOME TEXMFVAR TEXMFCONFIG);

  if (defined($ENV{'TEXMFCNF'}) and !$vars{'from_dvd'}) {
    print "WARNING: environment variable TEXMFCNF is set.
You should know what you are doing.
We will remove that for the post install actions, but all further
operations might be disturbed.\n\n";
  }
  foreach $tmv (@TMFVARS0) {
    delete $ENV{$tmv} if (defined($ENV{$tmv}));
  }
  if (!$opt_portable) {
    foreach $tmv (@TMFVARS1) {
      delete $ENV{$tmv} if (defined($ENV{$tmv}));
    }
  }
  $ENV{'TEXMFSYSVAR'} = $vars{'TEXMFSYSVAR'} if $vars{'from_dvd'};

  # Step 2: Setup the PATH, switch to the new Perl

  my $pathsep=(win32)? ';' : ':';
  my $plat_bindir="$TEXDIR/bin/$vars{'this_platform'}";
  my $perl_bindir="$TEXDIR/tlpkg/tlperl/bin";
  my $perl_libdir="$TEXDIR/tlpkg/tlperl/lib";

  debug("Prepending $plat_bindir to PATH\n");

  $ENV{'PATH'}="$plat_bindir" . "$pathsep" . "$ENV{'PATH'}";

  if (win32) {
    debug("Prepending $perl_bindir to PATH\n");
    $ENV{'PATH'}="$perl_bindir" . "$pathsep" . "$ENV{'PATH'}";
  }

  debug("\nNew PATH is now:\n");
  foreach my $dir (split $pathsep, $ENV{'PATH'}) {
    debug("  $dir\n");
  }
  debug("\n");

  if (win32) {
    $ENV{'PERL5LIB'}="$perl_libdir";
  }

  #
  # post install actions
  #

  # (re-)initialize batchfile for uninstalling shortcuts
  if (win32() and !$opt_portable) {
    mkdirhier("$TEXDIRW/tlpkg/installer") if $vars{'from_dvd'};
    init_unshortbat($TEXDIRW);
  }

  foreach my $package (sort keys %install) {
    if ($install{$package} && defined($PostInstall{$package})) {
      info("running post install action for $package\n");
      &{$PostInstall{$package}}($TEXDIR, $TEXDIRW, $TEXMFSYSVAR, $TEXMFLOCAL);
    }
  }
  # $opt_portable: no %install but we still want xetex postinstall
  &{$PostInstall{'xetex'}}($TEXDIR, $TEXDIRW, $TEXMFSYSVAR, $TEXMFLOCAL)
    if $opt_portable;
  update_assocs() if win32();

  # Step 4: run the programs

  if (!$opt_portable and !$vars{'from_dvd'}) {
    info("running mktexlsr $TEXDIR/texmf-dist $TEXDIR/texmf\n");
    system('mktexlsr', "$TEXDIR/texmf-dist", "$TEXDIR/texmf");
  }

  # we have to generate the various config file. That could be done with
  # texconfig generate * but Win32 does not have texconfig. But we have
  # $localtlpdb and this is simple code, so do it directly, i.e., duplicate
  # the code from the various generate-*.pl scripts
  info("writing fmtutil.cnf data to $TEXMFSYSVAR/web2c/fmtutil.cnf\n");
  my $tlp = $vars{'from_dvd'} ? $tlpdb : $localtlpdb;
  TeXLive::TLUtils::create_fmtutil($tlp, #$localtlpdb,
    "$TEXMFSYSVAR/web2c/fmtutil.cnf",
    "$TEXMFLOCAL/web2c/fmtutil-local.cnf");

  info("writing updmap.cfg to $TEXMFSYSVAR/web2c/updmap.cfg\n");
  TeXLive::TLUtils::create_updmap ($tlp, #$localtlpdb,
    "$TEXMFSYSVAR/web2c/updmap.cfg",
    "$TEXMFLOCAL/web2c/updmap-local.cfg");

  info("writing language.dat data to $TEXMFSYSVAR/tex/generic/config/language.dat\n");
  TeXLive::TLUtils::create_language_dat($tlp, #$localtlpdb,
    "$TEXMFSYSVAR/tex/generic/config/language.dat",
    "$TEXMFLOCAL/tex/generic/config/language-local.dat");

  info("writing language.def data to $TEXMFSYSVAR/tex/generic/config/language.def\n");
  TeXLive::TLUtils::create_language_def($tlp, #$localtlpdb,
    "$TEXMFSYSVAR/tex/generic/config/language.def",
    "$TEXMFLOCAL/tex/generic/config/language-local.def");

  info("running mktexlsr $TEXMFSYSVAR\n");
  system('mktexlsr', "$TEXMFSYSVAR");

  info("running updmap-sys\n");
  # system('updmap-sys', '--nohash');
  log(`updmap-sys --nohash 2>&1`);

  info("re-running mktexlsr $TEXMFSYSVAR\n");
  system('mktexlsr', "$TEXMFSYSVAR");

  # now work through the options if specified at all

  # letter instead of a4
  if ($vars{'option_letter'}) {
    info("Setting default paper size to letter\n");
    if (platform() eq "hppa-hpux") {
      # we didn't get a texlua binary for hppa-hpux, so try texconfig
      system("texconfig", "paper", "letter");
    } else {
      system("texlua", "$TEXDIR/texmf/scripts/texlive/texconf.tlu", "--sys", "--noformat", "paper", "letter");
    }
  }

  # all formats option
  if ($vars{'option_fmt'}) {
    info("pre-generation all format file (fmtutil-sys --all)\n");
    #system('fmtutil-sys','--all');
    # try to capture that output
    log(`fmtutil-sys --all 2>&1`);
  }

  # option_links
  if ($vars{'option_symlinks'}) {
    # bin files
    my @files;
    mkdirhier $vars{'sys_bin'};
    if (-w $vars{'sys_bin'}) {
      info("linking binaries to $vars{'sys_bin'}\n");
      @files = `ls $plat_bindir`;
      chomp(@files);
      `cd "$vars{'sys_bin'}" && rm -f @files`;
      `ln -s "$plat_bindir/"* "$vars{'sys_bin'}"`;
    } else {
      info("destination of bin symlink $vars{'sys_bin'} not writable, no linking of bin files done!\n");
    }
    if ($vars{'option_doc'}) {
      # info files
      mkdirhier $vars{'sys_info'};
      if (-w  $vars{'sys_info'}) {
        info("linking info pages to $vars{'sys_info'}\n");
        @files = `ls "$TEXDIR/texmf/doc/info"`;
        chomp(@files);
        `cd "$vars{'sys_info'}" && rm -f @files`;
        `ln -s "$TEXDIR/texmf/doc/info/"*info* "$vars{'sys_info'}"`;
      } else {
        info("destination of info symlink $vars{'sys_info'} not writable, no linking of info files done!\n");
      }
      # man files
      mkdirhier $vars{'sys_man'};
      if (-w  $vars{'sys_man'}) {
        info("linking man pages to $vars{'sys_man'}\n");
        my $foo = `(cd "$TEXDIR/texmf/doc/man" && echo *)`;
        my @mans = split ' ', $foo;
        chomp(@mans);
        foreach my $m (@mans) {
          my $mandir = "$TEXDIR/texmf/doc/man/$m";
          next unless -d $mandir;
          mkdirhier "$vars{'sys_man'}/$m";
          next unless -w "$vars{'sys_man'}/$m";
          @files = `ls "$mandir"`;
          chomp(@files);
          `cd "$vars{'sys_man'}/$m" && rm -f @files`;
          `ln -s "$mandir/"* "$vars{'sys_man'}/$m"`;
        }
      } else {
        info("destination of man symlink $vars{'sys_man'} not writable, no linking of man files done!\n");
      }
    }
  }
}


# we have to adjust the texmf.cnf file to the paths set in the configuration!
sub do_texmf_cnf {
  open(TMF,"<$vars{'TEXDIR'}/texmf/web2c/texmf.cnf")
      or die("$vars{'TEXDIR'}/texmf/web2c/texmf.cnf not found: $!\n");
  my @texmfcnflines = <TMF>;
  close(TMF);
  my @newtmf;
  my @changedtmf;
  # we have to find TEXMFLOCAL TEXMFSYSVAR and TEXMFHOME
  foreach my $line (@texmfcnflines) {
    if ($line =~ m/^TEXMFLOCAL/) {
      # by default TEXMFLOCAL = TEXDIR/../texmf-local, if this is the case
      # we don't have to change anything from the default
      my $deftmlocal = dirname($vars{'TEXDIR'});
      $deftmlocal .= "/texmf-local";
      if ("$vars{'TEXMFLOCAL'}" eq "$deftmlocal") {
        push @newtmf, $line;
      } else {
        push @newtmf, "TEXMFLOCAL = $vars{'TEXMFLOCAL'}\n";
        push @changedtmf, "TEXMFLOCAL = $vars{'TEXMFLOCAL'}\n";
      }
    } elsif ($line =~ m/^TEXMFSYSVAR/) {
      # by default TEXMFSYSVAR = TEXDIR/texmf-var, if this is the case
      # we don't have to change anything from the default
      if ("$vars{'TEXMFSYSVAR'}" eq "$vars{'TEXDIR'}/texmf-var") {
        push @newtmf, $line;
      } else {
        push @newtmf, "TEXMFSYSVAR = $vars{'TEXMFSYSVAR'}\n";
        push @changedtmf, "TEXMFSYSVAR = $vars{'TEXMFSYSVAR'}\n";
      }
    } elsif ($line =~ m/^TEXMFSYSCONFIG/) {
      # by default TEXMFSYSCONFIG = TEXDIR/texmf-config, if this is the case
      # we don't have to change anything from the default
      if ("$vars{'TEXMFSYSCONFIG'}" eq "$vars{'TEXDIR'}/texmf-config") {
        push @newtmf, $line;
      } else {
        push @newtmf, "TEXMFSYSCONFIG = $vars{'TEXMFSYSCONFIG'}\n";
        push @changedtmf, "TEXMFSYSCONFIG = $vars{'TEXMFSYSCONFIG'}\n";
      }
    } elsif ($line =~ m/^TEXMFHOME/) {
      # kpse now expands ~ to USERPROFILE, so we don't treat win32 and
      # unix differently
      push @newtmf, "TEXMFHOME = $vars{'TEXMFHOME'}\n";
      if ("$vars{'TEXMFHOME'}" ne "~/texmf") {
        push @changedtmf, "TEXMFHOME = $vars{'TEXMFHOME'}\n";
      }
    } elsif ($line =~ m/^OSFONTDIR/) {
      if (win32()) {
        push @newtmf, "OSFONTDIR = \$SystemRoot/fonts//\n";
        push @changedtmf, "OSFONTDIR = \$SystemRoot/fonts//\n";
      } else {
        push @newtmf, $line;
      }
    } else {
      push @newtmf, $line;
    }
  }
  my $TMF;
  if (!$vars{'from_dvd'}) {
    $TMF = ">$vars{'TEXDIR'}/texmf.cnf";
    open(TMF, $TMF) || die "open($TMF) failed: $!\n";
    print TMF <<EOF;
% This is the texmf.cnf file which contains only changes from the
% texmf.cnf distributed for the release of year YYYY, which is in
% TLROOT/YYYY/texmf/web2c/texmf.cnf.
%
% Please do NOT change values in this YYYY/texmf/web2c/texmf.cnf file,
% as they may be overwritten by later updates of the kpathsea
% package(s).
%
% Instead, if you want to configure something to a value different from
% the one in texmf/web2c/texmf.cnf, just put the changed value here.
%
EOF
;
    foreach (@changedtmf) { print TMF; }
  } else {
    $TMF = ">$vars{'TEXMFSYSVAR'}/web2c/texmf.cnf";
    open (TMF, $TMF) || die "open($TMF) failed: $!\n";
    foreach (@newtmf) { print TMF; }
  }
  close(TMF) || warn "close($TMF) failed: $!";
}

#
# do everything to select a scheme
#
sub select_scheme {
  my $s = shift;
  # set the selected scheme to $s
  $vars{'selected_scheme'} = $s;
  # remove the selection of all collections
  foreach my $entry (keys %vars) {
    if ($entry=~/^(collection-.*)/) {
      $vars{"$1"}=0;
    }
  }
  # select the collections belonging to the scheme
  my $scheme_tlpobj = $tlpdb->get_package($s);
  if (defined ($scheme_tlpobj)) {
    $vars{'n_collections_selected'}=0;
    foreach my $dependent ($scheme_tlpobj->depends) {
      if ($dependent=~/^(collection-.*)/) {
        $vars{"$1"}=1;
        ++$vars{'n_collections_selected'};
      }
    }
  }
  # we have first set all collection-* keys to zero and than
  # set to 1 only those which are required by the scheme
  # since now scheme asks for collection-wintools we set its vars value
  # to 1 in case we are installing win32 binaries
  if ($vars{"binary_win32"}) {
    $vars{"collection-wintools"} = 1;
    ++$vars{'n_collections_selected'};
  }
  # for good measure, update the deps
  calc_depends();
}

sub update_numbers {
  $vars{'n_collections_available'}=0;
  $vars{'n_collections_selected'} = 0;
  $vars{'n_systems_available'} = 0;
  $vars{'n_systems_selected'} = 0;
  foreach my $key (keys %vars) {
    if ($key =~ /^binary/) {
      ++$vars{'n_systems_available'};
      ++$vars{'n_systems_selected'} if $vars{$key} == 1;
    }
    if ($key =~ /^collection-/) {
      ++$vars{'n_collections_available'};
      ++$vars{'n_collections_selected'} if $vars{$key} == 1;
    }
  }
}

sub flushlog {
  my $fh;
  if (open(LOG,">install-tl.log")) {
    warn "Writing log file to current working directory!\n";
    $fh = \*LOG;
  } else {
    $fh = \*STDERR;
    warn "Not creating a log file but flushing messages to stderr:\n";
  }

  foreach my $l (@::LOGLINES) {
    print $fh $l;
  }
}

sub check_on_lang_collection_installed {
  # we check that at least one lang collection is installed:
  foreach my $c (@collections_lang) {
    return 1 if $vars{"$c"};
  }
  if ($vars{"selected_scheme"} eq "scheme-context") {
    # context
    return 1;
  }
  return 0;
}

sub do_cleanup
{
  # now open the log file and write out the log lines
  # try to open a log file
  # the user could have given the -logfile option in which case all the
  # stuff is already dumped to it and $::LOGFILE defined. So do not
  # redefine it
  if (!defined($::LOGFILE)) {
    if (open(LOGF,">$vars{'TEXDIRW'}/install-tl.log")) {
      $::LOGFILE = \*LOGF;
      foreach my $line(@::LOGLINES) {
        print $::LOGFILE "$line";
      }
    } else {
      warn("Cannot create log file $vars{'TEXDIRW'}/install-tl.log: $!\nNot writing out log lines!\n");
    }
  }

  # remove temporary files from TEXDIR/temp
  if (($media eq "CD") or ($media eq "NET")) {
    debug("Remove temporary downloaded containers!\n");
    rmtree("$vars{'TEXDIRW'}/temp") if (-d "$vars{'TEXDIRW'}/temp");
  }

  # dump various things to the log file
  #if (defined($::LOGFILE)) {
  #  print $::LOGFILE "\nDump of vars:\n";
  #  foreach my $key (keys %vars) {
  #    print $::LOGFILE "$key $vars{$key}\n";
  #  }
  #  create_profile($::LOGFILE);
  #}

  # should not be needed any more
  #dump_vars("$system_tmpdir/texlive.vars");

  # write the profile out
  if ($vars{'from_dvd'}) {
    create_profile("$vars{'TEXDIRW'}/texlive.profile");
    debug("Profile written to $vars{'TEXDIRW'}/texlive.profile\n");
  } else {
    create_profile("$vars{'TEXDIR'}/$InfraLocation/texlive.profile");
    debug("Profile written to $vars{'TEXDIR'}/$InfraLocation/texlive.profile\n");
  }
  # Close log file if present
  close($::LOGFILE) if defined($::LOGFILE);

  #print "Don't forget to set TEXMFSYSVAR to ".$vars{'TEXMFSYSVAR'}."!!!\n"
  #print "Don't forget to set TEXMFCNF to\n  ". $vars{'TEXMFSYSVAR'}."/web2c !!!\n"
  #  if ($vars{'from_dvd'} and !win32());
}

__END__

=head1 NAME

install-tl - the TeX Live Cross Platform Installer

=head1 SYNOPSIS

install-tl [OPTION]...

install-tl.bat [OPTION]...

=head1 OPTIONS

=over 8

=item B<-gui>

If possible, use the GUI installer. This requires the Perl/Tk module
(L<http://tug.org/texlive/distro.html#perltk>; if Perl/Tk is not
available, installation continues in text mode.

=item B<-no-gui>

Force using the text mode installer.

=item B<-lang> I<2-letter lang code>

(only for GUI installer) If possible, start the installer translated into
the language specified by the 2-letter language code. Currently supported
languages: English (en, default), German (de), French (fr), Dutch (nl),
Polish (pl) and Slovenian (sl).

=item B<-location> I<url|path>

Provide an installation source, either a local directory via
C</path/to/directory> or a C<file:/> url, or a network location via
a C<http://> or C<ftp://> url.

If the location is local, the installation type (compressed or live) is
automatically determined, by checking for the presence of a
C<archive> directory relative to the root.  Compressed is
preferred if both are available, since it is faster.  Here's an example
of using a local directory:

  -location /local/TL/repository/copy

If the location is on the network, trailing C</> characters and/or
trailing C</tlpkg> and C</archive> components are ignored.  For example,
you could choose a particular CTAN mirror with something like:

  -location http://ctan.example.org/tex-archive/texlive/tlnet/2008

Of course a proper hostname and its particular top-level CTAN path
have to be specified.  (The list of CTAN mirrors is maintained at
L<http://ctan.org/mirrors>.)

The default is to pick a mirror automatically, using
L<http://mirror.ctan.org>; the chosen mirror is used for the entire
download.  (See L<http://ctan.org> for more about the CTAN mirror
services.)

=item B<-no-cls>

(only for text mode installer) do not clear the screen when entering
a new menu, for debugging purposes.

=item B<-portable>

Start the installer for portable use---but use the C<tl-portable>
scripts instead of this option.  See below for details.

=item B<-non-admin>

Windows: configure for the current user, not for all users

=item B<-print-arch>

Print the detected arch-os combination and exit.

=item B<-profile> I<profile>

Load the I<profile> file for repeated installations on different systems.
A I<profile> contains the values of all necessary variable for the
installation. After normal installation has finished a profile for that
exact installation is written into DEST/tlpkg/texlive.profile. That file
can be used to do the exact same installation on a different computer.

You can also hand-craft such a profile starting from a generated one
by changing some values. Normally a profile has to contain the value 1 for
each collection that should be installed, even if the scheme is specified.
That follows from the logic of the installer that you first select a scheme
and then can change the actual collections being installed.

There is one exception to this: If the profile contains a variable for
B<selected_scheme> and I<NO> collection variable is defined in the profile,
then the collections which the specified scheme requires are installed.
Thus, a simple line C<selected_scheme scheme-medium> together with the
definitions of the paths (TEXDIR, TEXDIRW, TEXMFHOME, TEXMFLOCAL,
TEXMFSYSCONFIG, TEXMFSYSVAR) suffice to install the medium scheme with all
default options.

=item B<-q>

Omit normal informational messages.

=item B<-v>

Include debugging messages; repeat for maximum debugging, as in C<-v
-v>.  (Further repeats are accepted but ignored.)

=item B<-logfile> I<file>

Write both all messages (informational, debugging, warnings) to I<file>,
in addition to standard output or standard error.

If this option is not given, the installer will create a log file
in the root of the writable installation tree,
for example, C</usr/local/texlive/YYYY/install-tl.log> for the I<YYYY>
release.

=item B<--help>, B<-help>, B<-?>

Display this help and exit.

=item B<--version>, B<-version>

Output version information and exit.

=back

As usual, all options can be specified with either C<-> or C<-->, and
arguments can be be separated from their options by either a space or C<=>.

=head1 DESCRIPTION

The TeX Live installer works across all supported platforms and allows
to install TeX Live from various media, including the network.  See
L<http://tug.org/texlive/tlmgr.html> for more.


=head1 PORTABLE USE

The TeX Live root directory contains a shell script C<tl-portable.sh>
and a DOS batch file C<tl-portable.bat> which start up a new shell and
command prompt in which TeX Live can be run with minimal impact on the
host system. These files start up C<install-tl> with the
C<-portable> option for some minimal preparation. Don't use this option
directly; it makes very specific assumptions about its environment.

=head1 AUTHORS AND COPYRIGHT

This script and its documentation were written for the TeX Live
distribution (L<http://tug.org/texlive>) and both are licensed under the
GNU General Public License Version 2 or later.

=cut

### Local Variables:
### perl-indent-level: 2
### tab-width: 2
### indent-tabs-mode: nil
### End:
# vim:set tabstop=2 expandtab: #

From preining at logic.at  Thu Jul 31 19:12:19 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 19:12:19 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
Message-ID: <20080731171219.GP26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Mojca Miklavec wrote:
> be nice to fix the window height, but not urgent.

And please try install-tl with X installed with -v with the installed
	install-menu-perltk.pl
which will issue some size dimensions. Send me the output.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
You're very sure of your facts, " he said at last, "I
couldn't trust the thinking of a man who takes the Universe
- if there is one - for granted.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy
-------------- next part --------------
A non-text attachment was scrubbed...
Name: install-menu-perltk.pl
Type: text/x-perl
Size: 32704 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20080731/55ec3888/attachment-0001.bin 

From mojca.miklavec.lists at gmail.com  Thu Jul 31 19:12:51 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 31 Jul 2008 19:12:51 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <20080731170906.GO26501@gamma.logic.tuwien.ac.at>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
Message-ID: <6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>

On Thu, Jul 31, 2008 at 7:09 PM, Norbert Preining <preining at logic.at> wrote:
> On Do, 31 Jul 2008, Mojca Miklavec wrote:
>> Forget about my stupid idea to catch the error. If possible, it would
>
> Mojca, can you try the attached install-tl with -gui and without X
> installed and show me the output?

Platform: universal-darwin => 'universal binaries for MacOSX/Darwin'
Distribution: net  (downloading)
Using URL: http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev
Directory for temporary files: '/tmp'
Installer directory: '.'
Loading http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
Could it be that I cannot create the main windows???
error message couldn't connect to display ":0" at
/Library/Perl/5.8.6/darwin-thread-multi-2level/Tk/MainWindow.pm line
55.
Tk::MainWindow->new() at ./install-tll line 404

W: makebarcodes is mentioned somewhere but not available, disabling it!
W: makebarcodes is mentioned somewhere but not available, disabling it!
W: makebarcodes should be installed bug cannot be found in texlive.tlpdb!
W: disabling it (expect this messages a view times!)

======================> TeX Live installation procedure <=====================

=======> Note: Letters/digits in <angle brackets> indicate menu items <=======
=======>       for commands or configurable options                   <=======

 Detected platform: universal binaries for MacOSX/Darwin

etc.

Mojca

From mojca.miklavec.lists at gmail.com  Thu Jul 31 19:16:14 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 31 Jul 2008 19:16:14 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
Message-ID: <6faad9f00807311016t76ddfc61mc06881224e9923c3@mail.gmail.com>

On Thu, Jul 31, 2008 at 7:12 PM, Mojca Miklavec
<mojca.miklavec.lists at gmail.com> wrote:
> On Thu, Jul 31, 2008 at 7:09 PM, Norbert Preining <preining at logic.at> wrote:
>> On Do, 31 Jul 2008, Mojca Miklavec wrote:
>>> Forget about my stupid idea to catch the error. If possible, it would
>>
>> Mojca, can you try the attached install-tl with -gui and without X
>> installed and show me the output?
>
> Platform: universal-darwin => 'universal binaries for MacOSX/Darwin'
> Distribution: net  (downloading)
> Using URL: http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev
> Directory for temporary files: '/tmp'
> Installer directory: '.'
> Loading http://gd.tuwien.ac.at/publishing/tex/CTAN/systems/texlive/tlnet/tldev/tlpkg/texlive.tlpdb
> Could it be that I cannot create the main windows???

But wow! This file gives me (with X installed) 100x600 now (instead of
800x100) :)

Mojca

From preining at logic.at  Thu Jul 31 19:19:12 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 19:19:12 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
Message-ID: <20080731171912.GQ26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Mojca Miklavec wrote:
> Could it be that I cannot create the main windows???

Ok, now the installer issues on universal-darwin:

	perl/Tk unusable, cannot create main windows.
	That could be a consequence of not having X Windows installed!
	Error message from creating MainWindow:
		....
	Continuing in text mode...

on all other archs the second line is not issued!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BLEAN
Scientific measure of luminosity : 1 glimmer = 100,000
bleans. Usherettes' torches are designed to produce between 2.5 and 4
bleans, enabling them to assist you in falling downstairs, treading on
people or putting your hand into a Neapolitan tub when reaching for
change.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Thu Jul 31 19:20:05 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 19:20:05 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807311016t76ddfc61mc06881224e9923c3@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
	<6faad9f00807311016t76ddfc61mc06881224e9923c3@mail.gmail.com>
Message-ID: <20080731172005.GR26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Mojca Miklavec wrote:
> But wow! This file gives me (with X installed) 100x600 now (instead of
> 800x100) :)

Are you joking???? Is Darwin a roulette machine??? I have not changed
anything in the GUI installer. Bummer. 

Please try with the install-menu-perltk.pl I sent you before.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
ALLTAMI (n.)
The ancient art of being able to balance the hot and cold shower taps.
			--- Douglas Adams, The Meaning of Liff

From mojca.miklavec.lists at gmail.com  Thu Jul 31 19:33:34 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 31 Jul 2008 19:33:34 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <20080731171912.GQ26501@gamma.logic.tuwien.ac.at>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
	<20080731171912.GQ26501@gamma.logic.tuwien.ac.at>
Message-ID: <6faad9f00807311033t31dffc4w5cbf216edfeb8094@mail.gmail.com>

On Thu, Jul 31, 2008 at 7:19 PM, Norbert Preining <preining at logic.at> wrote:
> On Do, 31 Jul 2008, Mojca Miklavec wrote:
>> Could it be that I cannot create the main windows???
>
> Ok, now the installer issues on universal-darwin:
>
>        perl/Tk unusable, cannot create main windows.
>        That could be a consequence of not having X Windows installed!

Can you maybe also check if "startx" is in path? And if yes, issue a
warning like
    "you need to start X11 with 'startx' first"
else
    "you need to install X11 first"
(though I doubt that one is able to install Perl/Tk without having X
installed in the first place)


>        Error message from creating MainWindow:
>                ....
>        Continuing in text mode...
>
> on all other archs the second line is not issued!

Thanks a lot,
    Mojca

From preining at logic.at  Thu Jul 31 19:36:24 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 19:36:24 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807311033t31dffc4w5cbf216edfeb8094@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
	<20080731171912.GQ26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311033t31dffc4w5cbf216edfeb8094@mail.gmail.com>
Message-ID: <20080731173624.GX26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Mojca Miklavec wrote:
> Can you maybe also check if "startx" is in path? And if yes, issue a

No, enough is enough ... sorry ... I will issue 
  That could be a consequence of not having X Windows installed or started!

I will not check the path, no.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
TULSA (n.)
A slurp of beer which has accidentally gone down your shirt collar.
			--- Douglas Adams, The Meaning of Liff

From mpg at elzevir.fr  Thu Jul 31 19:41:20 2008
From: mpg at elzevir.fr (=?UTF-8?B?TWFudWVsIFDDqWdvdXJpw6ktR29ubmFyZA==?=)
Date: Thu, 31 Jul 2008 19:41:20 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>	<4891E9FB.2040806@elzevir.fr>	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
Message-ID: <4891F940.8030309@elzevir.fr>

Mojca Miklavec scripsit (31.07.2008 19:12)
> W: makebarcodes is mentioned somewhere but not available, disabling it!
> W: makebarcodes is mentioned somewhere but not available, disabling it!
> W: makebarcodes should be installed bug cannot be found in texlive.tlpdb!
> W: disabling it (expect this messages a view times!)
> 
Unrelated, but this is great btw.  Thank you Norbert (a few typos though:
s/bug/but/ (nice one) and s/view/few/ too).

Manuel.

From preining at logic.at  Thu Jul 31 19:54:10 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 19:54:10 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <4891F940.8030309@elzevir.fr>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
	<4891E9FB.2040806@elzevir.fr>
	<6faad9f00807311004u295bd4f0s209ca5fb545f375c@mail.gmail.com>
	<20080731170906.GO26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807311012i23975f33j924718a0dc074c18@mail.gmail.com>
	<4891F940.8030309@elzevir.fr>
Message-ID: <20080731175410.GA26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Manuel P?gouri?-Gonnard wrote:
> Unrelated, but this is great btw.  Thank you Norbert (a few typos though:
> s/bug/but/ (nice one) and s/view/few/ too).

Fixed the typos, it was hacked in a hurry.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
YORK (vb.)
To shift the position of the shoulder straps on a heavy bag or
rucksack in a vain attempt to make it seem lighter. Hence : to laugh
falsely and heartily at an unfunny remark. 'Jasmine yorked politely,
loathing him to the depths of her being' - Virginia Woolf.
			--- Douglas Adams, The Meaning of Liff

From P.Taylor at Rhul.Ac.Uk  Thu Jul 31 19:18:05 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Thu, 31 Jul 2008 19:18:05 +0200
Subject: [tex-live] Which release ?
In-Reply-To: <4891E7EC.4030706@elzevir.fr>
References: <48919043.9030009@Rhul.Ac.Uk>	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk> <4891E7EC.4030706@elzevir.fr>
Message-ID: <4891F3CD.1040401@Rhul.Ac.Uk>



Manuel Pegourie-Gonnard wrote:

> AFAIK, the manual has been named live.pdf (and .html etc) for
> years, this changed only recently and is not a rule to encode the release's
> year.
> 
> What I was suggesting in my previous message (mistakenly sent off-list,
> sorry) is that you just open this documentation, which should be somewhere
> in your tree (the precise location may vary, texmf-doc didn't allways
> exist), so use texdoc or locate or whatever to find it, and look at the date
> on the front cover of the doc. It obviously mentions the release.

Brilliant, exactly the solution I was hoping for
(and it works on each system I have so far tried).
Many many thanks, Manuel.

** Phil
--------
P.S. Now if only Live.pdf could be associated
during TeX Live install with

	Start/Programs/TeX Live/Help/About ...

** Phil.

From preining at logic.at  Thu Jul 31 20:42:56 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 20:42:56 +0200
Subject: [tex-live] Which release ?
In-Reply-To: <4891F3CD.1040401@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>
	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk> <4891E7EC.4030706@elzevir.fr>
	<4891F3CD.1040401@Rhul.Ac.Uk>
Message-ID: <20080731184256.GE26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Philip TAYLOR wrote:
> P.S. Now if only Live.pdf could be associated
> during TeX Live install with
> 
> 	Start/Programs/TeX Live/Help/About ...

I guess you meant
	live.pdf

But texlive-en.pdf is already linked into
	Start->Programs->TeX Live 2008->TeX Live Manual (en)
isn't that enough?

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
CROMARTY (n.)
The brittle sludge which clings to the top of ketchup bottles and
plastic tomatoes in nasty cafes.
			--- Douglas Adams, The Meaning of Liff

From siepo at cybercomm.nl  Thu Jul 31 21:01:08 2008
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Thu, 31 Jul 2008 21:01:08 +0200
Subject: [tex-live] minor issues with installer
In-Reply-To: <6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
References: <6faad9f00807310230i1f0b69f1rdbaf8e5f7d0cb8d@mail.gmail.com>
	<6faad9f00807310722k18772444l70a87295ff3cecef@mail.gmail.com>
	<20080731145939.GE26501@gamma.logic.tuwien.ac.at>
	<6faad9f00807310810v4170c87bgcc485bea58ecb037@mail.gmail.com>
Message-ID: <20080731190108.GF5628@molly>

On Thu, Jul 31, 2008 at 05:10:53PM +0200, Mojca Miklavec wrote:
> On Thu, Jul 31, 2008 at 4:59 PM, Norbert Preining wrote:
> > Hi Mojca,
> >
> > On Do, 31 Jul 2008, Mojca Miklavec wrote:
> >> I first tried to use ./tl-portable (from SVN repository) and run
> >>     texexec somefile
> >
> > Cannot comment on that, Siep is the master of tl-portable.
> 
> For some reason format generation (or finding the already built
> formats, or both) is failing. I remember that tl-portable was working
> some time ago.

How does it work now? I just tested on Leopard with a trivial
Context file, and it looked ok.

-- 
Siep Kroonenberg

From reinhard.kotucha at web.de  Thu Jul 31 21:05:12 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 31 Jul 2008 21:05:12 +0200
Subject: [tex-live] Which release ?
In-Reply-To: <4891DFA2.7020309@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>
	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk> <4891DDBB.9060706@oucs.ox.ac.uk>
	<4891DFA2.7020309@Rhul.Ac.Uk>
Message-ID: <18578.3304.874022.844949@zaphod.ms25.net>

Philip TAYLOR (Ret'd) writes:
 > Thanks, Sebastian : unfortunately on this
 > machine (which probably has the most recent
 > release of any of those at home), there is
 > only one top-level file, "tlpm.log", and
 > that has a 2008 date which is impossible
 > (I have TeX Live CDs/DVDs from 2000 to
 > 2007).  If I look in /Bin/Win32/, I see
 > files varying between 2006 and 2008 :-(

Please run pdftex --version and send the output to the list.  I'm sure
that Martin can tell you precisely then which version of TeX Live you
have.

 > only one top-level file, "tlpm.log", and that has a 2008 date which
 > is impossible

AFAIK the "old" installer wrote this file to a temporary directory.
If I remember correctly it was c:\windows\temp but I'm not sure.
Maybe you copied it later to the TeX Live tree.  Time stamps are
usually not preserved by default and I don't know whether Windows
offers such an option at all.

TL-2008 and future versions provide a file "release-texlive.txt" in
the top-level directory.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Thu Jul 31 21:15:56 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Ret'd))
Date: Thu, 31 Jul 2008 20:15:56 +0100
Subject: [tex-live] Which release ?
In-Reply-To: <20080731184256.GE26501@gamma.logic.tuwien.ac.at>
References: <48919043.9030009@Rhul.Ac.Uk>
	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk> <4891E7EC.4030706@elzevir.fr>
	<4891F3CD.1040401@Rhul.Ac.Uk>
	<20080731184256.GE26501@gamma.logic.tuwien.ac.at>
Message-ID: <48920F6C.5090500@Rhul.Ac.Uk>



Norbert Preining wrote:
> On Do, 31 Jul 2008, Philip TAYLOR wrote:
>> P.S. Now if only Live.pdf could be associated
>> during TeX Live install with
>>
>> 	Start/Programs/TeX Live/Help/About ...
> 
> I guess you meant
> 	live.pdf

Not all humans are case-sensitive :-)
> 
> But texlive-en.pdf is already linked into
> 	Start->Programs->TeX Live 2008->TeX Live Manual (en)
> isn't that enough?

Yes, absolutely : it's just that under earlier
releases, this was not the case, so there is
no universal way of reaching the file ...

** Phil.

From oberdiek at uni-freiburg.de  Thu Jul 31 21:20:27 2008
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Thu, 31 Jul 2008 21:20:27 +0200
Subject: [tex-live] Which release ?
In-Reply-To: <4891DA56.3010906@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>
	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk>
Message-ID: <20080731192026.GA6753@irwin.vpn.uni-freiburg.de>

On Thu, Jul 31, 2008 at 04:29:26PM +0100, Philip TAYLOR (Ret'd) wrote:

> An alternative approach would be to use
> the version number reported by (Pdf)TeX.
> TeX itself changes rarely, but over the
> period of interest I imagine that PdfTeX
> was changing all the time.  Is there, do
> you know, a record of which version of PdfTeX
> was included in each version of TeX Live since
> the former's inception ?

hyperref's README maintains a list of its versions, used in TL:

* TL 2007:      2007/02/07 v6.75r
* TL 2005:      2003/11/30 v6.74m
* TL 2004:      2003/11/30 v6.74m
* TL 2003:      2003/09/15 v6.74i
* TL 7  (2002): 2002/05/27 v6.72r
* TL 6b (2001): 2001/05/26 v6.71g
* TL 5d (2000): 2000/07/02 v6.70m
* TL 5c (2000): 2000/05/08 v6.70f
* TL 4  (1999): 1999/04/13 v6.56
* TL 3  (1998): 1998/03/25 v6.19

Thus you need another program/package to distinguish
between TL 2005 and TL 2004.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

From P.Taylor at Rhul.Ac.Uk  Thu Jul 31 21:38:25 2008
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR (Ret'd))
Date: Thu, 31 Jul 2008 20:38:25 +0100
Subject: [tex-live] Which release ?
In-Reply-To: <20080731192026.GA6753@irwin.vpn.uni-freiburg.de>
References: <48919043.9030009@Rhul.Ac.Uk>	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>	<4891DA56.3010906@Rhul.Ac.Uk>
	<20080731192026.GA6753@irwin.vpn.uni-freiburg.de>
Message-ID: <489214B1.8000001@Rhul.Ac.Uk>

Many thanks, Heiko.
** Phil.
--------
Heiko Oberdiek wrote:

> hyperref's README maintains a list of its versions, used in TL:

<etc />

From preining at logic.at  Thu Jul 31 21:55:33 2008
From: preining at logic.at (Norbert Preining)
Date: Thu, 31 Jul 2008 21:55:33 +0200
Subject: [tex-live] Which release ?
In-Reply-To: <48920F6C.5090500@Rhul.Ac.Uk>
References: <48919043.9030009@Rhul.Ac.Uk>
	<22af238a0807310720p725fed6bye8c42f332f133638@mail.gmail.com>
	<4891DA56.3010906@Rhul.Ac.Uk> <4891E7EC.4030706@elzevir.fr>
	<4891F3CD.1040401@Rhul.Ac.Uk>
	<20080731184256.GE26501@gamma.logic.tuwien.ac.at>
	<48920F6C.5090500@Rhul.Ac.Uk>
Message-ID: <20080731195533.GI26501@gamma.logic.tuwien.ac.at>

On Do, 31 Jul 2008, Philip TAYLOR (Ret'd) wrote:
> >But texlive-en.pdf is already linked into
> >	Start->Programs->TeX Live 2008->TeX Live Manual (en)
> >isn't that enough?
> 
> Yes, absolutely : it's just that under earlier
> releases, this was not the case, so there is
> no universal way of reaching the file ...

Ah ok, but what is the need for that? BTW, that is the documentation,
there is also a readme.en.html (and translations) which links to that
documenation and several other places with docs. I have added that to
the menu (of a new installation starting with tomorrows installer, need
for a new installer!), too.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GIPPING (participial vb.)
The fish-like opening and closing of the jaws seen amongst people who
have recently been to the dentist and are puzzled as to whether their
teeth have been put back the right way up.
			--- Douglas Adams, The Meaning of Liff

