From olaf at infovore.xs4all.nl  Sun Aug  1 12:40:06 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Aug  1 13:19:15 2004
Subject: [tex-live] e-TeX schedule
In-Reply-To: <200407311510.i6VFA1I29633@f7.net> (Karl Berry's message of
	"Sat, 31 Jul 2004 11:10:01 -0400")
References: <200407311510.i6VFA1I29633@f7.net>
Message-ID: <87d62b3zw9.fsf@infovore.xs4all.nl>

Karl Berry writes:

>> Word from Peter Breitenlohner is that e-TeX 2.2 will most likely be
>> available in the first half of september.

> Is there anything crucial in 2.2 that must be in TL 2004?

e-TeX 2.2 is the official release to go with TeX 3.141592.  Nothing
new is in there, just fixes and some cleanup.  However, the current
rework has extended into pdf*tex, which means that "just" going back
to the original 2.1 sources (if that is considered desirable) will
involve some additional work.

> I sure hope not.  I would be even more worried than I am already if we
> cannot start building and testing the final binaries until September!

e-TeX-wise, we should have a stable intermediate state early this
week.

In the mean time, is there anything that _has_ to go in?

> Thanks for the info.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Gerben.Wierda at rna.nl  Mon Aug  2 14:48:30 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Aug  2 14:49:45 2004
Subject: [tex-live] Re: incremental pdf (was: Please enable ipc in tex)
In-Reply-To: <cdqgvp$de$1@sea.gmane.org>
References: <cc42fe$62m$1@sea.gmane.org><x51xjuvz7b.fsf@lola.goethe.zz><ccc1ql$hbn$1@sea.gmane.org><87fz86kuo6.fsf@infovore.xs4all.nl><44336.159.46.248.216.1090251227.squirrel@mail.rna.nl><cdjibm$h03$1@sea.gmane.org><20040720192322.665e0577.taco@elvenkind.com><40FD853B.2030104@wxs.nl><20040720225647.GA13253@lucien.kn-bremen.de>
	<cdqgvp$de$1@sea.gmane.org>
Message-ID: <55576.159.46.248.220.1091450910.squirrel@mail.rna.nl>

> This might be a little off-topic.
>
> Pdftex is a widely used program, which clearly meets the
> need to generate pdf files from tex sources.
>
> However, I never understood why pdftex was written, rather
> than a dvi to pdf translator.
>
> This may be a failing on my part, I simply don't remember
> seeing the reasons for this choice.
>
> The current wish for incremental pdf raises this question
> again, in my opinion.

It does not. If there was a dvipdf program (akin to dvips) one still would
have to compile the whole document to DVI before you woul dbe able to view
page one, if you use PDF as your viewer format (instead of DVI). Using PDF
as the viewer format is the natural choice on Mac OS X where PDF is the
native display format.

> Could anyone inform me, as to why pdftex rather than a
> dvi to pdf translator.

The above in case of some sort of per-page PDF. Or the dvipdf translator
would have to be able to read DVI page per page and produce PDF page per
page (in a pipe).

G

From tigran at aivazian.fsnet.co.uk  Mon Aug  2 15:39:41 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Mon Aug  2 15:15:53 2004
Subject: [tex-live] Re: incremental pdf (was: Please enable ipc in tex)
In-Reply-To: <55576.159.46.248.220.1091450910.squirrel@mail.rna.nl>
Message-ID: <Pine.LNX.4.44.0408021430550.1398-100000@localhost.localdomain>

> However, I never understood why pdftex was written, rather
> than a dvi to pdf translator.

I don't know about others but before I switched to pdftex and was 
generating DVI files and then converting them to PDF (via PS) the result 
was: a) too big, b) some typesetting was done incorrectly, c) some 
PDF features were not available.

The real question you should be asking is --- why anything other than 
pdftex is still there and supported? As "historical compatibility baggage" 
I guess...

Kind regards
Tigran

From karl at freefriends.org  Mon Aug  2 15:34:21 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Aug  2 15:35:36 2004
Subject: [tex-live] Re: incremental pdf (was: Please enable ipc in tex)
In-Reply-To: <Pine.LNX.4.44.0408021430550.1398-100000@localhost.localdomain>
Message-ID: <200408021334.i72DYLH09664@f7.net>

    why anything other than pdftex is still there and supported? As
    "historical compatibility baggage"

No, there are valid reasons for both routes.  pstricks, for example,
cannot be supported in pdftex.

This is not the right list for this discussion.

From dak at gnu.org  Mon Aug  2 15:41:39 2004
From: dak at gnu.org (David Kastrup)
Date: Mon Aug  2 15:42:56 2004
Subject: [tex-live] Re: incremental pdf (was: Please enable ipc in tex)
In-Reply-To: <200408021334.i72DYLH09664@f7.net>
References: <200408021334.i72DYLH09664@f7.net>
Message-ID: <x5llgx64j0.fsf@lola.goethe.zz>

karl@freefriends.org (Karl Berry) writes:

>     why anything other than pdftex is still there and supported? As
>     "historical compatibility baggage"
> 
> No, there are valid reasons for both routes.  pstricks, for example,
> cannot be supported in pdftex.

Nonsense.  Of course it works perfectly well with pdftex, as long as
you set \pdfoutput=0, thus taking the DVI->PS route that pdftex is
perfectly capable of supporting.

> This is not the right list for this discussion.

Since we are talking about what executables to include on the TeXlive
CD, I don't see why not.  But as far as I know (I have not followed
too closely), the discussion is more or less over (at least with teTeX
it was): for historical and legal reasons, the executable named "tex"
will run the TeX engine (with plain TeX and just US-American
hyphenation preloaded), everything else will run PDFeTeX.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From pragma at wxs.nl  Mon Aug  2 16:27:05 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Aug  2 16:28:23 2004
Subject: [tex-live] Re: incremental pdf (was: Please enable ipc in tex)
In-Reply-To: <200408021334.i72DYLH09664@f7.net>
References: <200408021334.i72DYLH09664@f7.net>
Message-ID: <410E4F39.1020809@wxs.nl>

Karl Berry wrote:

>    why anything other than pdftex is still there and supported? As
>    "historical compatibility baggage"
>
>No, there are valid reasons for both routes.  pstricks, for example,
>cannot be supported in pdftex.
>  
>
actually, it can, by sort of processing the ps snippeds during the run 
(via gs)

a few good reasons for dvipdfmx are:

- aleph needs a dvi -> pdf converter
- some cjk languages have special demands and dvipdfmx is good in that

>This is not the right list for this discussion.
>  
>
-) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From wl at gnu.org  Tue Aug  3 00:29:16 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Aug  3 00:30:54 2004
Subject: [tex-live] Re: incremental pdf
In-Reply-To: <Pine.LNX.4.44.0408021430550.1398-100000@localhost.localdomain>
References: <55576.159.46.248.220.1091450910.squirrel@mail.rna.nl>
	<Pine.LNX.4.44.0408021430550.1398-100000@localhost.localdomain>
Message-ID: <20040803.002916.205763733.wl@gnu.org>


> > However, I never understood why pdftex was written, rather
> > than a dvi to pdf translator.
> 
> I don't know about others but before I switched to pdftex and was 
> generating DVI files and then converting them to PDF (via PS) the result 
> was: a) too big, b) some typesetting was done incorrectly, c) some 
> PDF features were not available.

dvipdfmx is a very find piece of software.  Give it a try.  Currently,
if you process a CJK file with pdftex and dvipdfmx, the file created
by pdftex is three times(!) bigger in average.  It also has built-in
Unicode cmap support (for both one-byte and two-byte encodings) which
is still very tedious to get with pdftex.


    Werner

From karl at freefriends.org  Tue Aug  3 02:09:14 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Aug  3 02:10:31 2004
Subject: [tex-live] 8-bit input/hyphenation tests
Message-ID: <200408030009.i7309E531981@f7.net>

I have checked in a minimal (totally minimal) autotest infrastructure.
For now it's in Master/support/tests, and is not installed anywhere.  It
can check both dvi (using dvitype) and pdf (using pdftoppm) output.
There's a README in that directory which explains a little more.
I'm running it nightly now.

Of course, the list of possible tests is infinite.  What I'm mostly
interested in is making sure that things aren't totally broken.  We've
all experienced regression failures, to our sorrow.

I've written a few foundation tests (story.tex, small2e.tex,
sample2e.tex, hello,world for context).  The most important tests I'd
like to add are to test 8-bit input and hyphenation -- not exhaustively,
I'll leave that to Staszek :), but enough to see that things are at
least basically functional.  Since this has broken in the past.

So, I need help.  I don't know the approved/supported/best way to write
documents in anything besides English (not always sure about English,
for that matter, but that's another story :).  So if anyone would like
to give me a short TeX, LaTeX, or ConTeXt file, that would be great.
Ideally it would test two things: 1) 8-bit input gives the right output;
2) hyphenation in that language works.

Thanks,
karl

P.S. Staszek, if you'd like to incorporate some of your tests into this
framework, let me know and we can discuss.

From J.Fine at open.ac.uk  Tue Aug  3 13:25:10 2004
From: J.Fine at open.ac.uk (Jonathan Fine)
Date: Tue Aug  3 13:26:31 2004
Subject: [tex-live] Re: Re: incremental pdf (was: Please enable ipc in tex)
References: <Pine.LNX.4.44.0408021430550.1398-100000@localhost.localdomain>
	<200408021334.i72DYLH09664@f7.net>
Message-ID: <censmo$rcb$1@sea.gmane.org>

"Karl Berry" <karl@freefriends.org> wrote in message
news:200408021334.i72DYLH09664@f7.net...
>     why anything other than pdftex is still there and supported? As
>     "historical compatibility baggage"
>
> No, there are valid reasons for both routes.  pstricks, for example,
> cannot be supported in pdftex.
>
> This is not the right list for this discussion.


Karl, I agree with you.

However, the contributions show that there are important issues.

I suggest we move this discussion to comp.text.tex.


I suggest that we post a summary of this discussion, and a URL
pointing to the original thread, to comp.text.tex.

Please would anyone else who wishes to participate in such a
transfer contact me privately.


Jonathan




From dak at gnu.org  Tue Aug  3 14:02:26 2004
From: dak at gnu.org (David Kastrup)
Date: Tue Aug  3 14:24:33 2004
Subject: [tex-live] Re: Re: incremental pdf (was: Please enable ipc in tex)
In-Reply-To: <censmo$rcb$1@sea.gmane.org>
References: <Pine.LNX.4.44.0408021430550.1398-100000@localhost.localdomain>
	<200408021334.i72DYLH09664@f7.net> <censmo$rcb$1@sea.gmane.org>
Message-ID: <x5oelsa0q5.fsf@lola.goethe.zz>

"Jonathan Fine" <J.Fine@open.ac.uk> writes:

> "Karl Berry" <karl@freefriends.org> wrote in message
> news:200408021334.i72DYLH09664@f7.net...
> >     why anything other than pdftex is still there and supported? As
> >     "historical compatibility baggage"
> >
> > No, there are valid reasons for both routes.  pstricks, for example,
> > cannot be supported in pdftex.
> >
> > This is not the right list for this discussion.
> 
> Karl, I agree with you.

Well, I disagreed with him before your mail here and gave the
reasons.

Whatever the right list happens to be, this particular horse has been
beaten to death at least half a year ago and all relevant decisions
have been discussed and made then.  Take a look at the archives of the
TeXlive and the teTeX developer lists.

> I suggest we move this discussion to comp.text.tex.

The advantage seems to be that one might have better chances to
pretend this horse has not been beaten to death already.

But if you use Google search with appropriate keywords, you'll notice
that you won't exactly present something new to frequent readers
there.

> I suggest that we post a summary of this discussion,
> and a URL pointing to the original thread, to comp.text.tex.

There was no discussion worth noting, just comments that this has been
amply dealt with before.  Anyway, you got your priorities wrong.
comp.text.tex is an open unmoderated Usenet group without specific
topic, this list is a closed mailing list with subscribed members.  If
you are uncertain about the value of posting something on
comp.text.tex, just go ahead there instead of pestering people here
about whether you should do it: you will annoy and distract fewer
people in the process.

Always assuming that this could be a consideration for you, of course.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From pragma at wxs.nl  Tue Aug  3 15:21:25 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Aug  3 15:22:45 2004
Subject: [tex-live] Re: Re: incremental pdf (was: Please enable ipc in tex)
In-Reply-To: <x5oelsa0q5.fsf@lola.goethe.zz>
References: <Pine.LNX.4.44.0408021430550.1398-100000@localhost.localdomain>
	<200408021334.i72DYLH09664@f7.net> <censmo$rcb$1@sea.gmane.org>
	<x5oelsa0q5.fsf@lola.goethe.zz>
Message-ID: <410F9155.8050003@wxs.nl>

David Kastrup wrote:

>The advantage seems to be that one might have better chances to
>pretend this horse has not been beaten to death already.
>  
>
Yeah, or maybe Jonathan pretends himself to be a kind of horse whisperer -) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From olaf at infovore.xs4all.nl  Fri Aug  6 21:48:17 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Aug  6 21:49:32 2004
Subject: [tex-live] e-TeX schedule
In-Reply-To: <87d62b3zw9.fsf@infovore.xs4all.nl> (Olaf Weber's message of
	"Sun, 01 Aug 2004 12:40:06 +0200")
References: <200407311510.i6VFA1I29633@f7.net>
	<87d62b3zw9.fsf@infovore.xs4all.nl>
Message-ID: <874qngqc8u.fsf@infovore.xs4all.nl>

Olaf Weber writes:

> e-TeX-wise, we should have a stable intermediate state early this
> week.

e-TeX-wise that was the case.  I did a few Cygwin-related checkins
today, a number of checkins that eliminated gratuitous differences
between my sources and TeX-live, and checked in Taco Hoekwater's
changes to prevent empty filenames from being given when TeX prompts
for a filename.

That last change _might_ come as a bit of a surprise.

> In the mean time, is there anything that _has_ to go in?

At this point I've run out of stuff that I want to be in...please
start testing.  :-)

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From wl at gnu.org  Sat Aug  7 17:46:47 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Sat Aug  7 17:48:25 2004
Subject: [tex-live] missing man page for mptopdf
Message-ID: <20040807.174647.35810777.wl@gnu.org>


There is no man page for mptopdf.  IMHO there should be documentation
in the man format for all binaries (or executable scripts) provided by
TeXLive.


    Werner

From Gerben.Wierda at rna.nl  Mon Aug  9 10:13:44 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Aug  9 10:15:02 2004
Subject: [tex-live] e-TeX schedule
In-Reply-To: <874qngqc8u.fsf@infovore.xs4all.nl>
References: <200407311510.i6VFA1I29633@f7.net><87d62b3zw9.fsf@infovore.xs4all.nl>
	<874qngqc8u.fsf@infovore.xs4all.nl>
Message-ID: <4101.159.46.248.218.1092039224.squirrel@mail.rna.nl>

> Olaf Weber writes:
>
>> e-TeX-wise, we should have a stable intermediate state early this
>> week.
>
> e-TeX-wise that was the case.  I did a few Cygwin-related checkins
> today, a number of checkins that eliminated gratuitous differences
> between my sources and TeX-live, and checked in Taco Hoekwater's
> changes to prevent empty filenames from being given when TeX prompts
> for a filename.
>
> That last change _might_ come as a bit of a surprise.
>
>> In the mean time, is there anything that _has_ to go in?
>
> At this point I've run out of stuff that I want to be in...please
> start testing.  :-)

I understand from another discussion that kpathsea is getting download
capabilities. I do not recall reading discussions on that on this list.
Has it been discussed/described on another list so that I can have a look?

The reason is that the Mac TeX working group is talking with Apple about a
small chance of including TeX by default on the next Mac OS release, but
we would have to investigate any instrument that keeps the initial
distribution small. As someone who has implemented download strategies
(and knows some of the caveats) over the last years, I might be able to
contribute, maybe.

Thanks,

Gerben

From olaf at infovore.xs4all.nl  Mon Aug  9 10:27:47 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Aug  9 10:28:17 2004
Subject: [tex-live] e-TeX schedule
In-Reply-To: <4101.159.46.248.218.1092039224.squirrel@mail.rna.nl> (Gerben
	Wierda's message of "Mon, 9 Aug 2004 10:13:44 +0200 (CEST)")
References: <200407311510.i6VFA1I29633@f7.net>
	<87d62b3zw9.fsf@infovore.xs4all.nl>
	<874qngqc8u.fsf@infovore.xs4all.nl>
	<4101.159.46.248.218.1092039224.squirrel@mail.rna.nl>
Message-ID: <87r7qgd8cc.fsf@infovore.xs4all.nl>

Gerben Wierda writes:
>> Olaf Weber writes:

>>> e-TeX-wise, we should have a stable intermediate state early this
>>> week.

>> e-TeX-wise that was the case.  I did a few Cygwin-related checkins
>> today, a number of checkins that eliminated gratuitous differences
>> between my sources and TeX-live, and checked in Taco Hoekwater's
>> changes to prevent empty filenames from being given when TeX prompts
>> for a filename.

>> That last change _might_ come as a bit of a surprise.

>>> In the mean time, is there anything that _has_ to go in?

>> At this point I've run out of stuff that I want to be in...please
>> start testing.  :-)

> I understand from another discussion that kpathsea is getting download
> capabilities. I do not recall reading discussions on that on this list.
> Has it been discussed/described on another list so that I can have a look?

It hasn't been discussed to any great extent yet, and is not planned
for this round.  It would come in as part of replacing libkpathsea
with rewritten successor library.

> The reason is that the Mac TeX working group is talking with Apple about a
> small chance of including TeX by default on the next Mac OS release, but
> we would have to investigate any instrument that keeps the initial
> distribution small. As someone who has implemented download strategies
> (and knows some of the caveats) over the last years, I might be able to
> contribute, maybe.

I'll bear this in mind, thanks.

> Thanks,

> Gerben

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Aug  9 18:21:16 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Aug  9 18:22:33 2004
Subject: [tex-live] Re: 
In-Reply-To: <dhbrgokwrtzotipzrof@oucs.ox.ac.uk>
Message-ID: <E1BuCtg-0004uR-3M@imap208.herald.ox.ac.uk>

I am away until August 23rd. I will read your mail when I 
get back. Please direct any queries about the OUCS web site
to webmaster@oucs.ox.ac.uk, and about OSS Watch to
info@oss-watch.ac.uk

From ffritschij at Catena.nl  Tue Aug 10 12:52:31 2004
From: ffritschij at Catena.nl (Franco Fritschij)
Date: Tue Aug 10 15:40:05 2004
Subject: [tex-live] test-texlive2004-inst-20040809.iso
Message-ID: <s118c51e.050@mail.catena.nl>

Texlive

The ISO image "test-texlive2004-inst-20040809.iso" is missing the file
\tpm\TeXsetup.exe

Best regards,

Franco Fritschij

From karl at freefriends.org  Tue Aug 10 16:13:03 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Aug 10 16:14:24 2004
Subject: [tex-live] test-texlive2004-inst-20040809.iso
In-Reply-To: <s118c51e.050@mail.catena.nl>
Message-ID: <200408101413.i7AED3R24495@f7.net>

    The ISO image "test-texlive2004-inst-20040809.iso" is missing the file
    \tpm\TeXsetup.exe

Thanks for reporting it.  However, it's actually intentional.  Fabrice
is completely rewriting the Windows installation procedure to be based
on the Microsoft installer libraries.

The documentation hasn't been updated yet.

I'll try to add some sort of warning about this somewhere.

Thanks,
k

From olaf at infovore.xs4all.nl  Thu Aug 12 11:33:42 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Aug 12 11:35:34 2004
Subject: [tex-live] e-TeX register sparse array bug
Message-ID: <873c2s8zux.fsf@infovore.xs4all.nl>

Through the Debian people I found out about a bug in e-TeX's handling
of registers.

$ cat etex-bug.tex
\documentclass{article}
\usepackage{amsmath}
\begin{document}
\makeatletter
\dimendef\z@=256\relax
\z@=0pt\relax
\[aa\]
\show\z@
\end{document}
$ latex etex-bug.tex
This is pdfeTeX, Version 3.141592-1.20a-rc7.1-2.1 (Web2C 7.5.3)
output format initialized to DVI
entering extended mode
(./etex-bug.tex
LaTeX2e <2003/12/01>
Babel <v3.8c> and hyphenation patterns for english, french, german, ngerman, ca
talan, croatian, czech, danish, dutch, estonian, finnish, greek, hungarian, ita
lian, latin, mongolian, norwegian, polish, portuguese, romanian, russian, slove
ne, slovak, spanish, swedish, ukenglish, ukrainian, welsh, dumylang, nohyphenat
ion, loaded.
(/usr/local/share/texmf-dist/tex/latex/base/article.cls
Document Class: article 2004/02/16 v1.4f Standard LaTeX document class
(/usr/local/share/texmf-dist/tex/latex/base/size10.clo))
(/usr/local/share/texmf-dist/tex/latex/amslatex/amsmath.sty
For additional information on amsmath, use the `?' option.
(/usr/local/share/texmf-dist/tex/latex/amslatex/amstext.sty
(/usr/local/share/texmf-dist/tex/latex/amslatex/amsgen.sty))
(/usr/local/share/texmf-dist/tex/latex/amslatex/amsbsy.sty)
(/usr/local/share/texmf-dist/tex/latex/amslatex/amsopn.sty)) (./etex-bug.aux)
> \z@=\count652.
l.8 \show\z@

?

Note that it prints \z@=\count652 instead of printing \z@=\dimen256
like omega or aleph does.  This is evidence that e-TeX's internal
datastructures are messed up.

I believe the problem here to be that register 256 was deallocated
despite references to it still existing, this because \z@ started out
as one of the registers in the 0..255 range, and the references made
while it was in that range weren't accounted for.  The amsmath code is
needed just to provide enough "churn" to actually make this problem
manifest itself in the example.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Thu Aug 12 13:23:41 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Aug 12 13:26:16 2004
Subject: [tex-live] e-TeX register sparse array bug
In-Reply-To: <873c2s8zux.fsf@infovore.xs4all.nl>
References: <873c2s8zux.fsf@infovore.xs4all.nl>
Message-ID: <411B533D.3050707@wxs.nl>

Olaf Weber wrote:

>Through the Debian people I found out about a bug in e-TeX's handling
>of registers.
>  
>
I don't have that problem here so maybe the problem is in the \[ macro. 
Is there a difference when you run:

\bgroup \[aa\] \egroup

(maybe \bgroup \tracingall \[aa\] \egroup provides a clue)

>$ cat etex-bug.tex
>\documentclass{article}
>\usepackage{amsmath}
>\begin{document}
>\makeatletter
>\dimendef\z@=256\relax
>\z@=0pt\relax
>\[aa\]
>\show\z@
>\end{document}
>$ latex etex-bug.tex
>This is pdfeTeX, Version 3.141592-1.20a-rc7.1-2.1 (Web2C 7.5.3)
>  
>
-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From olaf at infovore.xs4all.nl  Thu Aug 12 13:58:29 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Aug 12 14:00:01 2004
Subject: [tex-live] e-TeX register sparse array bug
In-Reply-To: <411B533D.3050707@wxs.nl> (Hans Hagen's message of "Thu, 12 Aug
	2004 13:23:41 +0200")
References: <873c2s8zux.fsf@infovore.xs4all.nl> <411B533D.3050707@wxs.nl>
Message-ID: <87smas7el6.fsf@infovore.xs4all.nl>

Hans Hagen writes:
> Olaf Weber wrote:

>> Through the Debian people I found out about a bug in e-TeX's handling
>> of registers.

> I don't have that problem here so maybe the problem is in the \[
> macro. Is there a difference when you run:

I'm reasonably certain that you _do_ have the problem; it is just
fairly difficult to trigger.  And as far as I've been able to
determine, it is a problem in the engine itself.

> \bgroup \[aa\] \egroup

> (maybe \bgroup \tracingall \[aa\] \egroup provides a clue)

>> $ cat etex-bug.tex
>> \documentclass{article}
>> \usepackage{amsmath}
>> \begin{document}
>> \makeatletter
>> \dimendef\z@=256\relax
>> \z@=0pt\relax
>> \[aa\]
>> \show\z@
>> \end{document}
>> $ latex etex-bug.tex
>> This is pdfeTeX, Version 3.141592-1.20a-rc7.1-2.1 (Web2C 7.5.3)
>> 
>> 
> -----------------------------------------------------------------
>                                           Hans Hagen | PRAGMA ADE
>               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
>                                              | www.pragma-pod.nl
> -----------------------------------------------------------------




-- 
Olaf Weber

               (This space left blank for technical reasons.)

From taco at elvenkind.com  Thu Aug 12 14:35:32 2004
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu Aug 12 14:36:51 2004
Subject: [tex-live] e-TeX register sparse array bug
In-Reply-To: <87smas7el6.fsf@infovore.xs4all.nl>
References: <873c2s8zux.fsf@infovore.xs4all.nl> <411B533D.3050707@wxs.nl>
	<87smas7el6.fsf@infovore.xs4all.nl>
Message-ID: <20040812143532.1ae93357@glenlivet.elvenkind.com>

On Thu, 12 Aug 2004 13:58:29 +0200, Olaf wrote:

> 
> I'm reasonably certain that you _do_ have the problem; it is just

FYI: my executable version(s) exhibits the bug as well.

This is e-TeX, Version 3.14159-2.1 (Web2C 7.4.5)
This is pdfeTeX, Version 3.14159-1.10b-2.1 (Web2C 7.4.5)
This is pdfeTeXk, Version 3.141592-1.20a-rc7.1-2.1 (Web2C 7.5.3)

-- 
groeten,

Taco

From preining at logic.at  Fri Aug 13 08:40:18 2004
From: preining at logic.at (Norbert Preining)
Date: Fri Aug 13 08:41:36 2004
Subject: [tex-live] For Sebastian: Is there something wrong with your
	scripts?
Message-ID: <20040813064018.GA6820@gamma.logic.tuwien.ac.at>

Hi Sebastian!

I find so many changes
	rahtz@tug *pending* 'regenerated by /home/tlprod/Mas'
every day one of it since 2004/08/06. This looks a bit like a script
error.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LINDISFARNE (adj.)
Descriptive of the pleasant smell of an empty biscuit tin.
			--- Douglas Adams, The Meaning of Liff

From karl at freefriends.org  Fri Aug 13 15:27:33 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Aug 13 15:29:25 2004
Subject: [tex-live] For Sebastian: Is there something wrong with your
	scripts?
In-Reply-To: <20040813064018.GA6820@gamma.logic.tuwien.ac.at>
Message-ID: <200408131327.i7DDRXJ10446@f7.net>

    Re: [tex-live] For Sebastian: Is there something wrong with your

They're actually my scripts, mostly.  They run as rahtz because his
checkout on tug.org is the one we've always built the final images from.

            rahtz@tug *pending* 'regenerated by /home/tlprod/Mas'
    every day one of it since 2004/08/06. This looks a bit like a script

Argh.  I will look at it.  The scripts have been running to completion
without error, sigh.  Thanks for noticing.

From karl at freefriends.org  Sat Aug 14 00:00:49 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Aug 14 00:02:40 2004
Subject: [tex-live] For Sebastian: Is there something wrong with your
	scripts?
In-Reply-To: <20040813064018.GA6820@gamma.logic.tuwien.ac.at>
Message-ID: <200408132200.i7DM0np30491@f7.net>

    I find so many changes
            rahtz@tug *pending* 'regenerated by /home/tlprod/Mas'
    every day one of it since 2004/08/06. 

Turns out this is because there were no changes necessitating new tpm's.
The script hadn't anticipated that :).

I changed it (Master/Tools/tlrebuild) to not run p4 submit if there are
no changed files.

Thanks,
k

From reinhard.kotucha at web.de  Sun Aug 15 03:24:54 2004
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun Aug 15 03:28:10 2004
Subject: [tex-live] e-TeX schedule
In-Reply-To: <4101.159.46.248.218.1092039224.squirrel@mail.rna.nl>
References: <200407311510.i6VFA1I29633@f7.net>
	<87d62b3zw9.fsf@infovore.xs4all.nl>
	<874qngqc8u.fsf@infovore.xs4all.nl>
	<4101.159.46.248.218.1092039224.squirrel@mail.rna.nl>
Message-ID: <16670.47974.986471.191265@zarniwoop.ms25.local>

>>>>> "Gerben" == Gerben Wierda <Gerben.Wierda@rna.nl> writes:

    > I understand from another discussion that kpathsea is getting
    > download capabilities. I do not recall reading discussions on
    > that on this list.  Has it been discussed/described on another
    > list so that I can have a look?

    > The reason is that the Mac TeX working group is talking with
    > Apple about a small chance of including TeX by default on the
    > next Mac OS release, but we would have to investigate any
    > instrument that keeps the initial distribution small. As someone
    > who has implemented download strategies (and knows some of the
    > caveats) over the last years, I might be able to contribute,
    > maybe.

Don't know how small it must be.  But wouldn't it be sufficient if the
programs can read compressed files?  It is probably much easier to
implement than the downloading code.  Most of the files contain text.
Thus, compression is quite efficient.

There are some files you can omit, for instance the afm files.

Maybe you can omit most of the fonts and some format files like
Context.  If a TeX files requires a particular font (a tfm file), a
script is called.  It shouldn't be too difficult to patch the script
to support the download.

The same can be done with fmtutil.  Context and the Czech, Polish and
French stuff can be downloaded on demand.

The downloading stuff is quite difficult for security reasons.  Either
you put the files into the user's directory tree, which means that
some users have to download the same files, or you have to set
permissions of the texmf tree to 1777.  This is ok for tfm and pk
files, but tex files can be dangerous with the advent of \write18. 

Uncompression of files can either be done on the fly, which is quite
safe if kpathsea uses libz, or it can be done by a script which calls
a setuid program which does nothing else then uncompress files in the
texmf tree.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From pragma at wxs.nl  Sun Aug 15 23:14:57 2004
From: pragma at wxs.nl (Hans Hagen Outside)
Date: Sun Aug 15 23:16:48 2004
Subject: [tex-live] e-TeX schedule
In-Reply-To: <16670.47974.986471.191265@zarniwoop.ms25.local>
References: <200407311510.i6VFA1I29633@f7.net>
	<87d62b3zw9.fsf@infovore.xs4all.nl>
	<874qngqc8u.fsf@infovore.xs4all.nl>
	<4101.159.46.248.218.1092039224.squirrel@mail.rna.nl>
	<16670.47974.986471.191265@zarniwoop.ms25.local>
Message-ID: <411FD251.4020700@wxs.nl>

Reinhard Kotucha wrote:

>Maybe you can omit most of the fonts and some format files like
>Context.  If a TeX files requires a particular font (a tfm file), a
>script is called.  It shouldn't be too difficult to patch the script
>to support the download.
>  
>
hm, interesting is that context users on the mac are quite active so why leave context out ... esp since it's not that big (2 meg zipped); better make sure that redudant files are omitted (source code vs filtered source code, big font collections like cm super, binaries that are seldom of never used) 

a resonable subset of tex is not that large, esp if you take into account that for instance open office is also a quite big download. 

Hans   

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From olaf at infovore.xs4all.nl  Mon Aug 16 09:59:35 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Aug 16 10:01:27 2004
Subject: [tex-live] upmap.cnf does not match contents of texmf-dist
Message-ID: <87n00v4ioo.fsf@infovore.xs4all.nl>

Doing a make world I get complaints from updmap about context.map and
nnt.map, neither of which exist.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From karl at freefriends.org  Tue Aug 17 01:47:58 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Aug 17 01:52:27 2004
Subject: [tex-live] upmap.cnf does not match contents of texmf-dist
In-Reply-To: <87n00v4ioo.fsf@infovore.xs4all.nl>
Message-ID: <200408162347.i7GNlwc00324@f7.net>

    Doing a make world I get complaints from updmap about context.map and
    nnt.map, neither of which exist.

They were deleted by Sebastian in context (#4990) and psnfss (#4778)
updates respectively.

I updated Master/texmf/web2c/updmap.cfg with the version built by doing
a current installation with the full scheme.  I hope this was the right
thing to do.  Guess we'll see.

At the moment, there's nothing which auto-updates updmap.cfg.  I guess
I'll change tlrebuild to do a test installation, after building the
ISO's.  That's desirable for general testing purposes anyway.

Thanks,
k

From tjk at ams.org  Wed Aug 18 16:29:47 2004
From: tjk at ams.org (Thomas J. Kacvinsky)
Date: Wed Aug 18 16:31:12 2004
Subject: [tex-live] Missing texc.lpro
Message-ID: <Pine.GSO.4.53.0408181024470.5398@sun06.ams.org>

This may sound like a dumb question, but there are .lpro files
for most of the dvips prologue files, but there is no texc.lpro.

This may be a vestige of previous version of dvips, which do not
have texc.lpro.

It would be nice to get a .lpro file if possible, just o make the
kit complete.  Reading the .lpro files is much more pleasant.  I
do not get cross-eyed.

In case you are wondering why I am after this, I want to fix some
"issues" with the Type 3 fonts as generated by dvips.  Things like
getting better /FontNames, /FontMatixes, and /FontBBoxes.  Gotta
slog thorugh the various machinations of the .pro/.lpro files to
do that.

Regards,

Tom

From karl at freefriends.org  Wed Aug 18 17:35:01 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Aug 18 17:36:28 2004
Subject: [tex-live] Missing texc.lpro
In-Reply-To: <Pine.GSO.4.53.0408181024470.5398@sun06.ams.org>
Message-ID: <200408181535.i7IFZ1N23347@f7.net>

    It would be nice to get a .lpro file if possible, 

I will attach a version I found in Sebastian's working directory.  I am
reluctant to check it in before you look at it, since I have no clue if
it matches the current texc.pro.  Let me know ...

I found several other versions, too, it looked like this is the most
recent.  As usual, there is no useful unique identification :(.

Thanks,
k

-------------- next part --------------
A non-text attachment was scrubbed...
Name: texc.lpro
Type: application/octet-stream
Size: 10128 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20040818/8b341073/texc.obj
From tjk at ams.org  Wed Aug 18 19:37:04 2004
From: tjk at ams.org (Thomas J. Kacvinsky)
Date: Wed Aug 18 19:38:28 2004
Subject: [tex-live] Re: Missing texc.lpro
In-Reply-To: <E1BxUId-0000yU-JI@xenon.Stanford.EDU>
References: <E1BxUId-0000yU-JI@xenon.Stanford.EDU>
Message-ID: <Pine.GSO.4.53.0408181335490.3535@sun06.ams.org>

On Wed, 18 Aug 2004, Tomas G. Rokicki wrote:

> Well, texc.lpro is generated automatically from tex.lpro;
> that's the way it's supposed to work.  So you should only
> need the one.
>

Ah, I see.  Thanks for the clarification, Tom.

> But what are you thinking of doing do the FontNames,
> FontMatrixes, and FontBBoxes?  All this stuff was set up
> the way it was for specific reasons . . . shall we
> talk about it?

Yeah, I'll IM you tonight if you are not busy.  I cannot do
it now because of our firewall blocking AIM.  I can report
our discussion on this list tomorrow.

Regards,

the other Tom

From rokicki at CS.Stanford.EDU  Wed Aug 18 19:32:35 2004
From: rokicki at CS.Stanford.EDU (Tomas G. Rokicki)
Date: Wed Aug 18 20:06:16 2004
Subject: [tex-live] Re: Missing texc.lpro
Message-ID: <E1BxUId-0000yU-JI@xenon.Stanford.EDU>

Well, texc.lpro is generated automatically from tex.lpro;
that's the way it's supposed to work.  So you should only
need the one.

But what are you thinking of doing do the FontNames,
FontMatrixes, and FontBBoxes?  All this stuff was set up
the way it was for specific reasons . . . shall we
talk about it?

-tom

From olaf at infovore.xs4all.nl  Wed Aug 18 20:30:23 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Wed Aug 18 21:28:19 2004
Subject: [tex-live] Missing texc.lpro
In-Reply-To: <200408181535.i7IFZ1N23347@f7.net> (Karl Berry's message of
	"Wed, 18 Aug 2004 11:35:01 -0400")
References: <200408181535.i7IFZ1N23347@f7.net>
Message-ID: <87r7q41eps.fsf@infovore.xs4all.nl>

Karl Berry writes:

>     It would be nice to get a .lpro file if possible, 
> I will attach a version I found in Sebastian's working directory.  I am
> reluctant to check it in before you look at it, since I have no clue if
> it matches the current texc.pro.  Let me know ...

> I found several other versions, too, it looked like this is the most
> recent.  As usual, there is no useful unique identification :(.

I believe this one to be (effectively) identical to the source:
running it through "squeeze" results in an identical texc.pro.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From karl at freefriends.org  Thu Aug 19 01:09:22 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Aug 19 01:10:45 2004
Subject: [tex-live] \scantokens and --file-line-error
Message-ID: <200408182309.i7IN9MK03696@f7.net>

Hi Olaf (I guess this one is for you),

The \scantokens etex construct and --file-line-error option apparently
interact in strange ways.

First, consider:
  etex --file-line-error '\scantokens{\junky}'
Output:
  ...
  ^^@:1: Undefined control sequence.

I can imagine why the ^^@ is there, but I don't think it's the right
thing.  Perhaps the behavior should be the same as without \scantokens,
namely revert back to regular messages:
  etex --file-line-error '\junky}'
Output:
  ...
  ! Undefined control sequence.
  <*> \junky


Second, and more important, if \scantokens is erroneously used from
within a file, the error refers to the line number within the scantokens
rather than the line number of the containing file.  Create a file
junk.tex containing, say, two blank lines and \scantokens{\junky}:
  echo >junk.tex
  echo >>junk.tex
  echo '\scantokens{\junky}' >>junk.tex

Then:
  etex --file-line-error junk.tex
Output:
  ???:1: Undefined control sequence.

I think that should be "junk.tex:3", not "???:1".

Thanks,
karl

From dak at gnu.org  Thu Aug 19 01:29:41 2004
From: dak at gnu.org (David Kastrup)
Date: Thu Aug 19 01:31:03 2004
Subject: [tex-live] \scantokens and --file-line-error
In-Reply-To: <200408182309.i7IN9MK03696@f7.net>
References: <200408182309.i7IN9MK03696@f7.net>
Message-ID: <x51xi4ja8q.fsf@lola.goethe.zz>

karl@freefriends.org (Karl Berry) writes:

> Hi Olaf (I guess this one is for you),
> 
> The \scantokens etex construct and --file-line-error option apparently
> interact in strange ways.
> 
> Second, and more important, if \scantokens is erroneously used from
> within a file, the error refers to the line number within the scantokens
> rather than the line number of the containing file.  Create a file
> junk.tex containing, say, two blank lines and \scantokens{\junky}:
>   echo >junk.tex
>   echo >>junk.tex
>   echo '\scantokens{\junky}' >>junk.tex
> 
> Then:
>   etex --file-line-error junk.tex
> Output:
>   ???:1: Undefined control sequence.
> 
> I think that should be "junk.tex:3", not "???:1".

Unfortunately not, since the error context is from within the
scantokens, not from the file itself.  For example, if I do
\def\woozle{rat}
\scantokens\expandafter{\woozle \junky}
then I will get

Running `TeX' on `junk' with ``etex  "\input junk.tex"''

This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2)
 %&-line parsing enabled.
 (/usr/local/TeX/texmf/web2c/cp8bit.tcx)
entering extended mode
(./junk.tex
! Undefined control sequence.
l.1 rat\junky
             
l.2 \scantokens\expandafter{\woozle \junky}
                                           
? 


Actually, this is about the most unpleasant error message combination
I can imagine.  It will throw AUCTeX completely off the track.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From kasal at ucw.cz  Thu Aug 19 09:29:02 2004
From: kasal at ucw.cz (Stepan Kasal)
Date: Thu Aug 19 09:29:52 2004
Subject: [tex-live] \scantokens and --file-line-error
In-Reply-To: <x51xi4ja8q.fsf@lola.goethe.zz>
References: <200408182309.i7IN9MK03696@f7.net> <x51xi4ja8q.fsf@lola.goethe.zz>
Message-ID: <20040819072902.GA26127@matsrv.math.cas.cz>

Hello,

On Thu, Aug 19, 2004 at 01:29:41AM +0200, David Kastrup wrote:
> This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2)
>  %&-line parsing enabled.
>  (/usr/local/TeX/texmf/web2c/cp8bit.tcx)
> entering extended mode
> (./junk.tex
> ! Undefined control sequence.
> l.1 rat\junky
>              
> l.2 \scantokens\expandafter{\woozle \junky}
>                                            
> ? 
> 
> 
> Actually, this is about the most unpleasant error message combination
> I can imagine.  It will throw AUCTeX completely off the track.

I agree that it's very hard to parse this message by a program.

But when a human sees a message like:

! Missing control sequence inserted.
<inserted text>
                \inaccessible
<to be read again>
                   r
l.14 ... the section entitled {\fam =\ttfam \def r
                                                  m{tt}\tentt \char 34}GNU
\scanmacro ...ceisspace \scantokens {#1\endinput }
                                                  \endgroup
\insertcopying ...ent = 0pt \scanexp \copyingtext
                                                  \endgroup
l.51 \insertcopying

?


There is no doubt that the problem is on line 51 of the current file.

Thus I beleive Karl's suggestion was correct, the error message should point
to the current line of innermost *real* input file:

> karl@freefriends.org (Karl Berry) writes:
> > I think that should be "junk.tex:3", not "???:1".

Thank you very much, Karl, for preparing this detailed bug report.

Stepan Kasal

From tjk at ams.org  Thu Aug 19 15:21:16 2004
From: tjk at ams.org (Thomas J. Kacvinsky)
Date: Thu Aug 19 15:22:51 2004
Subject: [tex-live] Re: Missing texc.lpro
In-Reply-To: <E1BxUId-0000yU-JI@xenon.Stanford.EDU>
References: <E1BxUId-0000yU-JI@xenon.Stanford.EDU>
Message-ID: <Pine.GSO.4.53.0408190900120.7873@sun06.ams.org>

Hi all,

The basic gist of my problem with dvips Type 3 fonts is that /FontName
is null.  I would prefer that it contain the name of the PK file that
was read in.  For instance, /cmr10.300pk.  This is just a nice way of
record keeping.  I use the font names in a script I have written that
preflights PS files.  I could use the DVIPSBitmap comment.  However,
overloading definefont is much better from a consistency of code view.
(instead of one thing for dvips Type 3 fonts and other things for Type
1 or 42 fonts).

The /FontBBox in a dvips Type 3 font is all zeros, and I'd rather have
it contain the true bounding box of the font, in the coordinate system
the font is using.  My best guess is that dvips Type 3 fonts use a
slight variation of the dvips coordinate system because /FontMatrix is
[ 1 0 0 -1 0 0 ].

The reason why I concerned about the latter point is that I record font
size information to check for small sized type.  It's been a consistent
problem with my script that dvips Type 3 fonts do not have their size
reported correctly.  I'd like to fix that, but the best place to get the
correct information is form the font.  I feel that the necessary info is
not there.  If you have any information that would tell me how I can get
the right information without having to change how dvips writes out Type
3 fonts, I'd appreciate hearing it.

Regards,

Tom



On Wed, 18 Aug 2004, Tomas G. Rokicki wrote:

> Well, texc.lpro is generated automatically from tex.lpro;
> that's the way it's supposed to work.  So you should only
> need the one.
>
> But what are you thinking of doing do the FontNames,
> FontMatrixes, and FontBBoxes?  All this stuff was set up
> the way it was for specific reasons . . . shall we
> talk about it?
>
> -tom
>

From rokicki at CS.Stanford.EDU  Thu Aug 19 17:23:35 2004
From: rokicki at CS.Stanford.EDU (Tomas G. Rokicki)
Date: Thu Aug 19 17:25:00 2004
Subject: [tex-live] Re: Missing texc.lpro
Message-ID: <E1BxolL-00041S-JZ@xenon.Stanford.EDU>

I have no problem with the changes you propose to the FontName and
the FontBBox.  You are right in that the FontMatrix is just an
upside down (!) version of the dvips coordinate system.

From karl at freefriends.org  Sat Aug 21 01:23:21 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Aug 21 01:24:44 2004
Subject: [tex-live] TEXFONTS for Type 1's, and more debugging
Message-ID: <200408202323.i7KNNLm32610@f7.net>

I've just been pretty frustrated trying to track down what environment
variable I have to set to find some local Type 1 fonts.  (For various
reasons I do not want to install them in the hierarchy.)  Even dvips
-d-1 did not explicitly report the needed information, I had to look at
the source.  (The documentation was hopelessly out of date, sigh.)

I have two simple suggestions/requests which would help immensely, both
in kpathsea/tex-file.c:

1) add "TEXFONTS" to the list of TYPE1_ENVS (after T1INPUTS and before
   TEX_PS_HEADER_ENVS).  The purpose of TEXFONTS is to be used to find
   *all* font-related files.  So that, as in my case, if someone just
   wants to make a directory with a personal font, it is (hopefully)
   easy to do.

2) In kpse_find_file, add a debug statement reporting the type and
   path_source members of the struct.

Ok?

Thanks,
k

From a.lousseief at telia.com  Sat Aug 21 14:59:32 2004
From: a.lousseief at telia.com (Abdelwahab Lousseief)
Date: Sun Aug 22 15:06:55 2004
Subject: [tex-live] tex
Message-ID: <41274734.1010901@telia.com>

Dear Sir(s):
Since I met Dr Knut in Sweden (Stockholm) by the end of the 80:s I was 
fascinated by TeX and I am still using in my work TeX and its 
derivatives:LaTeX, AMSTeX et specially LAMSTeX and of course TeX with 
other programs to get a complete typesetting tool.
I wrote many macros for my own use and still curious what the other hade 
made with TeX.
I would like to exchange some points of view if possible?
What is NEW with TeX live 2003?

Best regards
Abby

e-mail: a.lousseief@telia.com

From karl at freefriends.org  Sun Aug 22 15:52:13 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Aug 22 15:53:35 2004
Subject: [tex-live] tex
In-Reply-To: <41274734.1010901@telia.com>
Message-ID: <200408221352.i7MDqDv19288@f7.net>

Hello Abby,

Thanks for your note.  Always nice to hear from long-time TeX users.

    What is NEW with TeX live 2003?

I tried to write a summary at the end of the "release history" section
in the documentation.
http://tug.org/docs/tldoc/english/livese10.html#x16-7400010.2

Best regards,
karl

From olaf at infovore.xs4all.nl  Sun Aug 22 20:29:44 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Aug 22 21:31:57 2004
Subject: [tex-live] TEXFONTS for Type 1's, and more debugging
In-Reply-To: <200408202323.i7KNNLm32610@f7.net> (Karl Berry's message of
	"Fri, 20 Aug 2004 19:23:21 -0400")
References: <200408202323.i7KNNLm32610@f7.net>
Message-ID: <87u0uv81rb.fsf@infovore.xs4all.nl>

Karl Berry writes:

> I've just been pretty frustrated trying to track down what environment
> variable I have to set to find some local Type 1 fonts.  (For various
> reasons I do not want to install them in the hierarchy.)  Even dvips
> -d-1 did not explicitly report the needed information, I had to look at
> the source.  (The documentation was hopelessly out of date, sigh.)

> I have two simple suggestions/requests which would help immensely, both
> in kpathsea/tex-file.c:

> 1) add "TEXFONTS" to the list of TYPE1_ENVS (after T1INPUTS and before
>    TEX_PS_HEADER_ENVS).  The purpose of TEXFONTS is to be used to find
>    *all* font-related files.  So that, as in my case, if someone just
>    wants to make a directory with a personal font, it is (hopefully)
>    easy to do.

TEXFONTS is a weird variable.  Note that it isn't even defined in the
"standard" texmf.cnf.

> 2) In kpse_find_file, add a debug statement reporting the type and
>    path_source members of the struct.

For ease of implementation can you supply a patch or at least
(pseudo-)code to illustrate exactly what you have in mind?

> Ok?

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From karl at freefriends.org  Mon Aug 23 00:50:15 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Aug 23 00:54:48 2004
Subject: [tex-live] TEXFONTS for Type 1's, and more debugging
In-Reply-To: <87u0uv81rb.fsf@infovore.xs4all.nl>
Message-ID: <200408222250.i7MMoFJ28335@f7.net>

Hi Olaf,

    TEXFONTS is a weird variable.  Note that it isn't even defined in the
    "standard" texmf.cnf.

It's for users to use.  It doesn't need to be defined in texmf.cnf,
since there are all the file-format-specific variables these days.
In fact, TEXFONTS predates all the other font variables.  It should be
included in TYPE1_ENVS, really.  Do you see a problem?

    > 2) In kpse_find_file, add a debug statement reporting the type and
    >    path_source members of the struct.

    For ease of implementation can you supply a patch or at least
    (pseudo-)code to illustrate exactly what you have in mind?

Sure, here's the basic idea of what I was needing.  I'm happy to check
in the change(s) to TL, but of course didn't want it to get lost when
you sync from your private source.

Thanks,
karl

--- /backup/archive/tug/home/karl/src/Build/source.development/TeX/texk/kpathsea/tex-file.c	2004-05-29 03:48:53.000000000 -0700
+++ /backup/archive/tug/home/karl/src/Build/source.development/TeX/texk/kpathsea/new	2004-08-22 15:50:00.000000000 -0700
@@ -739,4 +739,7 @@
     kpse_init_format (format);
 
+  DEBUGF3 ("kpse_find_file: searching for %s of type %s (from %s)\n",
+           name, FMT_INFO.type, FMT_INFO.path_source);
+
   /* Does NAME already end in a possible suffix?  */
   name_len = strlen (name);

From pragma at wxs.nl  Mon Aug 23 10:14:04 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Aug 23 10:16:31 2004
Subject: [tex-live] TEXFONTS for Type 1's, and more debugging
In-Reply-To: <200408222250.i7MMoFJ28335@f7.net>
References: <200408222250.i7MMoFJ28335@f7.net>
Message-ID: <4129A74C.9070202@wxs.nl>

Karl Berry wrote:

>Hi Olaf,
>
>    TEXFONTS is a weird variable.  Note that it isn't even defined in the
>    "standard" texmf.cnf.
>
>It's for users to use.  It doesn't need to be defined in texmf.cnf,
>since there are all the file-format-specific variables these days.
>In fact, TEXFONTS predates all the other font variables.  It should be
>included in TYPE1_ENVS, really.  Do you see a problem?
>  
>
in that case i think it should be in all the relevant font related 
paths: tfm, vf, type1, ttf, map, enc

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From kakuto at fsci.fuk.kindai.ac.jp  Mon Aug 23 11:54:05 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon Aug 23 11:57:05 2004
Subject: [tex-live] TEXFONTS for Type 1's, and more debugging
In-Reply-To: Your message of "Mon, 23 Aug 2004 10:14:04 +0200"
References: <4129A74C.9070202@wxs.nl>
Message-ID: <200408230954.i7N9s6iu014969@jupiter.fsci.fuk.kindai.ac.jp>

> Karl Berry wrote:
> 
> >Hi Olaf,
> >
> >    TEXFONTS is a weird variable.  Note that it isn't even defined in the
> >    "standard" texmf.cnf.
> >
> >It's for users to use.  It doesn't need to be defined in texmf.cnf,
> >since there are all the file-format-specific variables these days.
> >In fact, TEXFONTS predates all the other font variables.  It should be
> >included in TYPE1_ENVS, really.  Do you see a problem?
> >  
> >
> in that case i think it should be in all the relevant font related 
> paths: tfm, vf, type1, ttf, map, enc

Present Kpathsearch defines TEXFONTS for
gf, pk, tfm, ofm, opl, ovf, ovp, vf
and does not define for
afm, type1, truetype, type42, miscfonts, enc, cmap,
map, sfd, opentype, lig.

-- 
Akira Kakuto

From pragma at wxs.nl  Mon Aug 23 12:19:40 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Aug 23 12:21:19 2004
Subject: [tex-live] TEXFONTS for Type 1's, and more debugging
In-Reply-To: <200408230954.i7N9s6iu014969@jupiter.fsci.fuk.kindai.ac.jp>
References: <4129A74C.9070202@wxs.nl>
	<200408230954.i7N9s6iu014969@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <4129C4BC.4070207@wxs.nl>

Akira Kakuto wrote:

>>Karl Berry wrote:
>>
>>    
>>
>>>Hi Olaf,
>>>
>>>   TEXFONTS is a weird variable.  Note that it isn't even defined in the
>>>   "standard" texmf.cnf.
>>>
>>>It's for users to use.  It doesn't need to be defined in texmf.cnf,
>>>since there are all the file-format-specific variables these days.
>>>In fact, TEXFONTS predates all the other font variables.  It should be
>>>included in TYPE1_ENVS, really.  Do you see a problem?
>>> 
>>>
>>>      
>>>
>>in that case i think it should be in all the relevant font related 
>>paths: tfm, vf, type1, ttf, map, enc
>>    
>>
>
>Present Kpathsearch defines TEXFONTS for
>gf, pk, tfm, ofm, opl, ovf, ovp, vf
>and does not define for
>afm, type1, truetype, type42, miscfonts, enc, cmap,
>map, sfd, opentype, lig.
>  
>
in that case i'd say, add TEXFONTS to afm .. lig as well 

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From olaf at infovore.xs4all.nl  Mon Aug 23 17:26:46 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Aug 23 17:28:16 2004
Subject: [tex-live] TEXFONTS for Type 1's, and more debugging
In-Reply-To: <200408222250.i7MMoFJ28335@f7.net> (Karl Berry's message of
	"Sun, 22 Aug 2004 18:50:15 -0400")
References: <200408222250.i7MMoFJ28335@f7.net>
Message-ID: <87brh17u4p.fsf@infovore.xs4all.nl>

Karl Berry writes:

>> TEXFONTS is a weird variable.  Note that it isn't even defined in the
>> "standard" texmf.cnf.

> It's for users to use.  It doesn't need to be defined in texmf.cnf,
> since there are all the file-format-specific variables these days.
> In fact, TEXFONTS predates all the other font variables.  It should be
> included in TYPE1_ENVS, really.  Do you see a problem?

Just that it's role is/was unclear to me.  Doing things this way would
give TEXFONTS at least a well-defined role, which would be a plus.  So
I'm following the suggestion of adding it to all the font-related paths.

>>> 2) In kpse_find_file, add a debug statement reporting the type and
>>> path_source members of the struct.

>>     For ease of implementation can you supply a patch or at least
>>     (pseudo-)code to illustrate exactly what you have in mind?

> Sure, here's the basic idea of what I was needing.  I'm happy to check
> in the change(s) to TL, but of course didn't want it to get lost when
> you sync from your private source.

I'll just include that.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Mon Aug 23 23:25:22 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Aug 23 23:26:54 2004
Subject: [tex-live] \scantokens and --file-line-error
In-Reply-To: <200408182309.i7IN9MK03696@f7.net> (Karl Berry's message of
	"Wed, 18 Aug 2004 19:09:22 -0400")
References: <200408182309.i7IN9MK03696@f7.net>
Message-ID: <87isb95yyl.fsf@infovore.xs4all.nl>

Karl Berry writes:

> Hi Olaf (I guess this one is for you),
> The \scantokens etex construct and --file-line-error option apparently
> interact in strange ways.

Then let's remove \scantokens.

Ok, ok.  Here's what several error cases could look like.

--------------
$ ./etex -file-line-error '\scantokens{\foo}'
This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.3)
 file:line:error style messages enabled.
entering extended mode
! Undefined control sequence.
l.1 \foo

<*> \scantokens{\foo}

?
--------------
$ ./etex -file-line-error '\foo'
This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.3)
 file:line:error style messages enabled.
entering extended mode
! Undefined control sequence.
<*> \foo

?                                                    
--------------
$ ./etex -file-line-error bar
This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.3)
 file:line:error style messages enabled.
entering extended mode
(./bar.tex (./ssc.tex
./ssc.tex:2: Undefined control sequence.
l.1 \foo

l.1 \scantokens {\foo }

l.2 \scantokens{\scantokens{\foo}}

?
-------------- bar.tex --------------
\input ssc
-------------- ssc.tex --------------

\scantokens{\scantokens{\foo}}
--------------  --------------

Code that does the above follows.  Should I check it in?

Index: tex.ch
===================================================================
RCS file: /usr/local/cvsroot/texk/texk/web2c/tex.ch,v
retrieving revision 1.83
diff -u -d -r1.83 tex.ch
--- tex.ch      5 Aug 2004 21:23:19 -0000       1.83
+++ tex.ch      23 Aug 2004 21:23:00 -0000
@@ -851,14 +851,9 @@
 @x [6.73] l.1734 - file:line:error style error messages.
   print_nl("! "); print(#);
 @y
-  if (file_line_error_style_p and not terminal_input) then
-  begin
-    print_nl ("");
-    print (full_source_filename_stack[in_open]);
-    print (":"); print_int (line); print (": ");
-    print (#);
-  end
-  else begin print_nl("! "); print(#) end;
+  if file_line_error_style_p then print_file_line
+  else print_nl("! ");
+  print(#);
 @z


@@ -4994,6 +4989,29 @@
 @<Glob...@> =
 @!debug_format_file: boolean;

+
+@ A helper for printing file:line:error style messages.  Look for a
+filename in |full_source_filename_stack|, and if we fail to find
+one fall back on the non-file:line:error style.
+
+@<Basic print...@>=
+procedure print_file_line;
+var level: 0..max_in_open;
+begin
+  level:=in_open;
+  while (level>0) and (full_source_filename_stack[level]=0) do
+    decr(level);
+  if level=0 then
+    print_nl("! ")
+  else begin
+    print_nl (""); print (full_source_filename_stack[level]); print (":");
+    if level=in_open then print_int (line)
+    else print_int (line_stack[index+1-(in_open-level)]);
+    print (": ");
+  end;
+end;
+
+
 @ Dumping the |xord|, |xchr|, and |xprn| arrays.  We dump these always
 in the format, so a TCX file loaded during format creation can set a
 default for users of the format.


-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Tue Aug 24 00:59:38 2004
From: pragma at wxs.nl (Hans Hagen Outside)
Date: Tue Aug 24 01:02:07 2004
Subject: [tex-live] \scantokens and --file-line-error
In-Reply-To: <87isb95yyl.fsf@infovore.xs4all.nl>
References: <200408182309.i7IN9MK03696@f7.net>
	<87isb95yyl.fsf@infovore.xs4all.nl>
Message-ID: <412A76DA.6010703@wxs.nl>

Olaf Weber wrote:

>Karl Berry writes:
>
>  
>
>>Hi Olaf (I guess this one is for you),
>>The \scantokens etex construct and --file-line-error option apparently
>>interact in strange ways.
>>    
>>
>
>Then let's remove \scantokens.
>  
>
eh ... i've been using etex for years and use scantokens as well, so 
that's no option

I'm not sure if i understand the implications of this thread -)

Anyhow, i think that it makes sense to keep the usage of scantokens into 
acount. It's mostly used to (reprocess) text under a different catcode 
regime, (reprocessing  using macros and token lists has been part of tex 
from the beginning), such as:

\def\SomeTextAndMacros{....}

\bgroup
... set some catcoded
\scantokens\expandafter{\SomeTextAndMacros}
\egroup

Apart from the content/role of \everyeof one cannot expect line ends to 
be part of the game unless they are already recognizable part of the 
data fed into scantokens.

Since scantokens is a kind of pseudo file,  maybe each scantokens 
invocation register itself as a file on the stack then (like 
scantokens-1, scantokens-2 etc)    so that the message looks like

/ssc.tex:2: scantokens-1:1: scantokens-2:1: Undefined control sequence.
l.1 \foo

l.1 \scantokens {\foo }

l.2 \scantokens{\scantokens{\foo}}

?

anyhow, those who use scantokens must be prepared to twisted thinking 
anyway so how big is this message problem really?

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Tue Aug 24 01:03:10 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Aug 24 01:04:44 2004
Subject: [tex-live] \scantokens and --file-line-error
In-Reply-To: <87isb95yyl.fsf@infovore.xs4all.nl>
Message-ID: <200408232303.i7NN3AS06593@f7.net>

    Code that does the above follows.  Should I check it in?

It looks just right to me.  So unless someone else objects, I'm all for
checking it in.  Thanks!

From ms at artcom-gmbh.de  Tue Aug 24 01:35:48 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue Aug 24 06:53:19 2004
Subject: [tex-live] \scantokens and --file-line-error
In-Reply-To: <87isb95yyl.fsf@infovore.xs4all.nl>
References: <200408182309.i7IN9MK03696@f7.net>
	<87isb95yyl.fsf@infovore.xs4all.nl>
Message-ID: <20040823233548.GA30225@lucien.kn-bremen.de>

On 2004-08-23 23:25:22 +0200, Olaf Weber wrote:
> Code that does the above follows.  Should I check it in?

Yes! :-)

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From olaf at infovore.xs4all.nl  Tue Aug 24 11:17:10 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Tue Aug 24 11:19:00 2004
Subject: [tex-live] New pool files! (Was \scantokens and --file-line-error)
In-Reply-To: <200408232303.i7NN3AS06593@f7.net> (Karl Berry's message of
	"Mon, 23 Aug 2004 19:03:10 -0400")
References: <200408232303.i7NN3AS06593@f7.net>
Message-ID: <87acwk6gkp.fsf@infovore.xs4all.nl>

Karl Berry writes:

>     Code that does the above follows.  Should I check it in?
> It looks just right to me.  So unless someone else objects, I'm all for
> checking it in.  Thanks!

I've checked it in.  Note that the (pdf*)tex pool files are affected
by this change because I've moved strings around in the sources.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From tutak at boun.edu.tr  Mon Aug 23 14:19:50 2004
From: tutak at boun.edu.tr (Bilge TUTAK)
Date: Tue Aug 24 15:54:32 2004
Subject: [tex-live] translations
Message-ID: <000901c4890b$7ce9d000$2ccf8cc1@tide>

Hello,
I am just beginning to use TeX-Live. I believe I can make translation of the user guide in to Turkish? Will it be useful for you? or anybody started this translation?
If there is a guide or instruction for making translation I will be happy to contribute.

Bilge TUTAK 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/mailman/private/tex-live/attachments/20040823/7f5dc747/attachment.htm
From karl at freefriends.org  Tue Aug 24 17:14:47 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Aug 24 17:16:19 2004
Subject: [tex-live] translations
In-Reply-To: <000901c4890b$7ce9d000$2ccf8cc1@tide>
Message-ID: <200408241514.i7OFElI23587@f7.net>

Hello Bilge,

    I believe I can make translation of the user guide in to Turkish?

Excellent!

    Will it be useful for you? 

I don't see why not.

    or anybody started this translation?

Not to my knowledge.

    If there is a guide or instruction for making translation I will be
    happy to contribute.

There are no formal guidelines that I know of.  Basically, each
translator does whatever is necessary to make the document work right in
their language.

Aside from translating the English guide, often it is useful to add
hints or info about using TeX and TeX Live in the particular language at
hand.  I imagine that looking over the other existing guides (German,
French, Czech, etc.) could prove useful, for those who know other
languages.  (Since I am a stupid monolingual American, I don't know any
details about the other guides, unfortunately.)

I have started a mailing list specifically for the TeX Live
documentation and translations thereof (tldoc@tug.org).  I'll add you to
that list now.

I haven't yet started updating the documentation for the upcoming
release, but I know there will be some notable changes (no more "demo"
CD, for starters).  It's probably best to wait until I make at least one
pass over the English, or you'll end up wasting time translating stuff
that will be removed.

In addition to the main TeX Live document (live.tex), there's a
top-level README which would be good to translate into both plain text
and HTML.  That's pretty much it for TL.

I'll be mailing the tldoc list after I've made some progress with
specific info about where to get the files, etc.

Thanks again!

karl

From preining at logic.at  Tue Aug 24 19:03:52 2004
From: preining at logic.at (Norbert Preining)
Date: Tue Aug 24 19:05:16 2004
Subject: [tex-live] pool files and i386 binaries
Message-ID: <20040824170352.GA25501@gamma.logic.tuwien.ac.at>

Hi!

Great, what has happened to the binaries/pool files on i386-linx???? It
looks like the change 5698 has introduced pool files which only work
with the irix binaries. Can anybody confirm this? 

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
AINSWORTH (n.)
The length of time it takes to get served in a camera shop. Hence,
also, how long we will have to wait for the abolition of income tax or
the Second Coming.
			--- Douglas Adams, The Meaning of Liff

From staw at gust.org.pl  Tue Aug 24 20:02:43 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Aug 24 19:50:46 2004
Subject: [tex-live] pool files and i386 binaries
In-Reply-To: <20040824170352.GA25501@gamma.logic.tuwien.ac.at>
Message-ID: <Pine.LNX.4.44.0408242000500.22081-100000@re86.internetdsl.tpnet.pl>

On Tue, 24 Aug 2004, Norbert Preining wrote:

> Great, what has happened to the binaries/pool files on i386-linx???? It
> looks like the change 5698 has introduced pool files which only work
> with the irix binaries. Can anybody confirm this? 

I've just submited new i386-linux binaries (#5707) which are OK with pool 
files submited by Olaf.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From olaf at infovore.xs4all.nl  Tue Aug 24 20:00:45 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Tue Aug 24 20:02:12 2004
Subject: [tex-live] pool files and i386 binaries
In-Reply-To: <20040824170352.GA25501@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Tue, 24 Aug 2004 19:03:52 +0200")
References: <20040824170352.GA25501@gamma.logic.tuwien.ac.at>
Message-ID: <876578v2k2.fsf@infovore.xs4all.nl>

Norbert Preining writes:

> Hi!
> Great, what has happened to the binaries/pool files on i386-linx???? It
> looks like the change 5698 has introduced pool files which only work
> with the irix binaries. Can anybody confirm this? 

The IRIX binaries were rebuilt this afternoon, the Linux binaries may
have been rebuilt too early to have the tex.ch change that affected
the pool files.  (Note that these pool files match the pool files
produced on linux from the web2c sources.)

In other words, I'm very sorry, but I believe the linux binaries will
have to be rebuilt.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From preining at logic.at  Tue Aug 24 22:11:05 2004
From: preining at logic.at (Norbert Preining)
Date: Tue Aug 24 22:12:30 2004
Subject: [tex-live] pool files and i386 binaries
In-Reply-To: <Pine.LNX.4.44.0408242000500.22081-100000@re86.internetdsl.tpnet.pl>
References: <20040824170352.GA25501@gamma.logic.tuwien.ac.at>
	<Pine.LNX.4.44.0408242000500.22081-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040824201105.GA28425@gamma.logic.tuwien.ac.at>

On Die, 24 Aug 2004, Staszek Wawrykiewicz wrote:
> I've just submited new i386-linux binaries (#5707) which are OK with pool 
> files submited by Olaf.

Great thanks, I wanted to do this just now. While I was eating a compile
was running ... but you were faster ;-)

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
POLPERRO (n.)
A polperro is the ball, or muff, of soggy hair found clinging to bath
overflow-holes.
			--- Douglas Adams, The Meaning of Liff

From Daniel.Flipo at univ-lille1.fr  Thu Aug 26 16:03:33 2004
From: Daniel.Flipo at univ-lille1.fr (Daniel Flipo)
Date: Thu Aug 26 16:12:40 2004
Subject: [tex-live] test-texlive2004-inst-20040823: fmtutil and updmap no
	longer launched?
Message-ID: <20040826140333.4453063814@statpc9>


Hi all,

I performed the installation of texlive2004 (image dated 2004/08/23),
on linux (Debian sarge) and noticed some flaws:

1) The installation ends with 'Welcome to TeXLive' but
   no format is built. I have to launch the script 
   'fmtutil --all' by hand.

2) The script updmap is not launched automatically either.

3) When launching updmap by hand some entries are missing in
   pdftex.map and in psfonts.map:
   On TL2003, updmap.cfg used to load 'hoekwater.map' and
   'context.map' which no longer exist on TL2004. 
   'hoekwater.map' seems to have been split into rsfs, stmary, 
   wasy, manfnt, mflogo, that's fine, but updmap.cfg does not 
   load them!
4) updmap again: selecting the greek language does not add
   'Map cbgreek.map' to updmap.cfg, as it should, I guess.

====================================================================
Daniel Flipo                             Daniel.Flipo@univ-lille1.fr
UFR de Math?matiques -- B?timent M2      T?l : (33/0) 3 20 43 67 75
Universit? des Sciences et Technologies  Fax : (33/0) 3 20 43 67 74
F-59655 Villeneuve d'Ascq Cedex  France
====================================================================


From olaf at infovore.xs4all.nl  Thu Aug 26 21:58:39 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Aug 26 22:00:11 2004
Subject: [tex-live] e-TeX 2.2 schedule update
Message-ID: <873c29oemo.fsf@infovore.xs4all.nl>

Peter Breitenlohner sent me the files for e-TeX 2.2.  it doesn't yet
have the fix for the sparse register array bug, but Bernd Raichle
suggested a fix that looks pretty good (and in contrast to my quick
hack, e-TeX passes the trip test with it).

Should I merge this into TeX-live, or does that clobber the schedule
even worse than it is already?

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From preining at logic.at  Thu Aug 26 22:24:49 2004
From: preining at logic.at (Norbert Preining)
Date: Thu Aug 26 22:26:22 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <873c29oemo.fsf@infovore.xs4all.nl>
References: <873c29oemo.fsf@infovore.xs4all.nl>
Message-ID: <20040826202449.GA10601@gamma.logic.tuwien.ac.at>

On Don, 26 Aug 2004, Olaf Weber wrote:
> Peter Breitenlohner sent me the files for e-TeX 2.2.  it doesn't yet
...
> Should I merge this into TeX-live, or does that clobber the schedule
> even worse than it is already?

I think you have the changes and can estimate how much problems we will
get. Are there any serious changes, making pdfetex or latex (which is
driven by etex) even *probably* unuseable?

If this would be the case, I would wait until release. If the changes
are not that intrusive or dangerous, I would merge it in together with
the fixes for the array bug. We are still not finished with building
binaries, so one more round is no problem.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BERY POMEROY
1. The shape of a gourmet's lips. 2. The droplet of saliva which hangs
   from them.
			--- Douglas Adams, The Meaning of Liff

From olaf at infovore.xs4all.nl  Thu Aug 26 22:56:59 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Aug 26 22:58:37 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <20040826202449.GA10601@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Thu, 26 Aug 2004 22:24:49 +0200")
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
Message-ID: <87sma9mxd0.fsf@infovore.xs4all.nl>

Norbert Preining writes:
> On Don, 26 Aug 2004, Olaf Weber wrote:

>> Peter Breitenlohner sent me the files for e-TeX 2.2.  it doesn't yet
> ...
>> Should I merge this into TeX-live, or does that clobber the schedule
>> even worse than it is already?

> I think you have the changes and can estimate how much problems we will
> get. Are there any serious changes, making pdfetex or latex (which is
> driven by etex) even *probably* unuseable?

Unusable seems unlikely to me, though the actual testing I could do
only shows that the binaries survived casual use.

> If this would be the case, I would wait until release. If the changes
> are not that intrusive or dangerous, I would merge it in together with
> the fixes for the array bug. We are still not finished with building
> binaries, so one more round is no problem.

What would be the deadline?

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From karl at freefriends.org  Thu Aug 26 23:01:08 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Aug 26 23:03:06 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <20040826202449.GA10601@gamma.logic.tuwien.ac.at>
Message-ID: <200408262101.i7QL18f07275@f7.net>

    We are still not finished with building binaries

Yeah, like not even started :).

Martin, I saw that you have been checking in pdftex stuff, although CTAN
is still at pdftex-1.11b, apparently up to rc7.2 now.  Are you getting
close?  Should we ask everyone to build binaries at this point and start
more serious testing, or are there known problems?


Anyway, as far as etex 2.2 goes, I agree with Norbert -- go for it this
year if it looks reasonable (which I'm guessing is the case) or there's
something critical included.  Else postpone.

Thanks,
karl

From olaf at infovore.xs4all.nl  Thu Aug 26 23:29:06 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Aug 26 23:31:07 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <200408262101.i7QL18f07275@f7.net> (Karl Berry's message of
	"Thu, 26 Aug 2004 17:01:08 -0400")
References: <200408262101.i7QL18f07275@f7.net>
Message-ID: <87oekxmvvh.fsf@infovore.xs4all.nl>

Karl Berry writes:

>>     We are still not finished with building binaries

> Yeah, like not even started :).

> Martin, I saw that you have been checking in pdftex stuff, although CTAN
> is still at pdftex-1.11b, apparently up to rc7.2 now.  Are you getting
> close?  Should we ask everyone to build binaries at this point and start
> more serious testing, or are there known problems?


> Anyway, as far as etex 2.2 goes, I agree with Norbert -- go for it this
> year if it looks reasonable (which I'm guessing is the case) or there's
> something critical included.  Else postpone.

I think it looks reasonable.  So I suppose I'd better get going, and
move the bottleneck elsewhere again.  ;-)

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Fri Aug 27 00:19:46 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Aug 27 00:21:25 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <87oekxmvvh.fsf@infovore.xs4all.nl> (Olaf Weber's message of
	"Thu, 26 Aug 2004 23:29:06 +0200")
References: <200408262101.i7QL18f07275@f7.net>
	<87oekxmvvh.fsf@infovore.xs4all.nl>
Message-ID: <87k6vlmtj1.fsf@infovore.xs4all.nl>

Olaf Weber writes:
> Karl Berry writes:

>>> We are still not finished with building binaries

>> Yeah, like not even started :).

>> Martin, I saw that you have been checking in pdftex stuff, although CTAN
>> is still at pdftex-1.11b, apparently up to rc7.2 now.  Are you getting
>> close?  Should we ask everyone to build binaries at this point and start
>> more serious testing, or are there known problems?


>> Anyway, as far as etex 2.2 goes, I agree with Norbert -- go for it this
>> year if it looks reasonable (which I'm guessing is the case) or there's
>> something critical included.  Else postpone.

> I think it looks reasonable.  So I suppose I'd better get going, and
> move the bottleneck elsewhere again.  ;-)

I've split the accumulated changes into several checkins (and botched
5720 by forgetting to put the new copies in).


Change 5721 by olaf@olaf on 2004/08/26 23:50:09

	web2c.texi: Update to the documentation by Karl Berry.
	install.texi: Remove cross-references to nodes that no longer
	exist.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/doc/install.texi#3 edit
... //depot/Build/source.development/TeX/texk/web2c/doc/web2c.texi#25 edit

Change 5722 by olaf@olaf on 2004/08/26 23:51:03

	Small fixes to various manual pages, from Peter Breitenlohner.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/man/ChangeLog#15 edit
... //depot/Build/source.development/TeX/texk/web2c/man/etex.man#11 edit
... //depot/Build/source.development/TeX/texk/web2c/man/pdfetex.man#9 edit
... //depot/Build/source.development/TeX/texk/web2c/man/tex.man#12 edit
... //depot/Build/source.development/TeX/texk/web2c/man/weave.man#2 edit

Change 5723 by olaf@olaf on 2004/08/26 23:52:37

	Typos fixed in patgen sources, extensive revision of patgen
	manual page, and test files for a genuine test case for patgen.
	From Peter Breitenlohner.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/man/patgen.man#2 edit
... //depot/Build/source.development/TeX/texk/web2c/patgen.ch#6 edit
... //depot/Build/source.development/TeX/texk/web2c/patgen.web#2 edit
... //depot/Build/source.development/TeX/texk/web2c/tests/dict#2 edit
... //depot/Build/source.development/TeX/texk/web2c/tests/patgen.in#2 edit
... //depot/Build/source.development/TeX/texk/web2c/tests/patterns#2 edit
... //depot/Build/source.development/TeX/texk/web2c/tests/translate#2 edit

Change 5724 by olaf@olaf on 2004/08/26 23:54:34

	Update e-TeX to version 2.2 (pre-release).  From Peter Breitenlohner.
	This also changes the make procedure so that the version number is
	now extracted from etex.ch, with etexextra.h now a generated file.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/etexdir/ChangeLog#16 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etex.ch#7 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etex.fix#9 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etex.mk#23 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etex.version#4 delete
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etexextra.h#6 delete
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etexextra.in#1 add

Change 5725 by olaf@olaf on 2004/08/26 23:55:14

	etrip changes that match e-TeX 2.2.  From Peter Breitenlohner.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/etexdir/etrip/etrip.diffs#25 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etrip/etrip.fot#4 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etrip/etrip.log#4 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etrip/etrip.tex#4 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etrip/etrip.typ#2 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etrip/etripin.log#4 edit
... //depot/Build/source.development/TeX/texk/web2c/etexdir/etrip/etripman.tex#2 edit

Change 5726 by olaf@olaf on 2004/08/26 23:57:04

	Change pdftex build procedure so that the version is extracted
	from the pdftex sources (and stored in a single place).  Thus
	pdftexextra.h is now a generated file, from pdftexextra.in.
	Based on changes by Peter Breitenlohner.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/ChangeLog#3 edit
... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/README#20 edit
... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/pdftex.mk#28 edit
... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/pdftex.version#112 delete
... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/pdftexextra.h#126 delete
... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/pdftexextra.in#1 add
... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/pdftexlib.mk#7 edit

Change 5727 by olaf@olaf on 2004/08/26 23:58:19

	Changes to pdfetex to match e-TeX 2.2.  From Peter Breitenlohner.
	Like pdftexextra.h, pdfetexextra.h is now a generated file, from
	pdfetexextra.in.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/pdfetexdir/ChangeLog#3 edit
... //depot/Build/source.development/TeX/texk/web2c/pdfetexdir/pdfetex.ch2#17 edit
... //depot/Build/source.development/TeX/texk/web2c/pdfetexdir/pdfetex.mk#24 edit
... //depot/Build/source.development/TeX/texk/web2c/pdfetexdir/pdfetexextra.h#126 delete
... //depot/Build/source.development/TeX/texk/web2c/pdfetexdir/pdfetexextra.in#1 add

Change 5278 by karl@karltug on 2004/06/26 10:10:37

	/home/karl/src/Master/Tools/update-auto (from savannah.gnu.org)

Affected files ...

... //depot/Build/source.development/TeX/texk/cjkutils/hbf2gf/config.guess#9 edit

Change 5729 by olaf@olaf on 2004/08/27 00:02:39

	etexdir/etex.version and pdftexdir/pdftex.version and
	etexdir/etexextra.h and pdf*texdir/pdftex*extra.h are
	generated files.  Take this into account in dist rules.
	Clean up of patgen-check courtesy of Peter Breitenlohner.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/Makefile.in#60 edit

Change 5730 by olaf@olaf on 2004/08/27 00:06:54

	tex.ch, mf.ch, mp.ch: An off-by-one in the handling of |main_memory|
	and |mem_top|.  The former is a size, the latter a valid index, so
	when we calculate the latter from the former, subtract 1.  When
	calculating the amount of memory to allocate from |mem_top| add 1.
	triptrap/texmf.cnf: Correct the main_memory sizes.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/mf.ch#19 edit
... //depot/Build/source.development/TeX/texk/web2c/mp.ch#22 edit
... //depot/Build/source.development/TeX/texk/web2c/tex.ch#41 edit
... //depot/Build/source.development/TeX/texk/web2c/triptrap/texmf.cnf#4 edit

Change 5731 by olaf@olaf on 2004/08/27 00:08:07

	mftrap.diffs, mptrap.diffs, trip.diffs: New "canonical" diffs.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/triptrap/mftrap.diffs#20 edit
... //depot/Build/source.development/TeX/texk/web2c/triptrap/mptrap.diffs#20 edit
... //depot/Build/source.development/TeX/texk/web2c/triptrap/trip.diffs#20 edit

Change 5732 by olaf@olaf on 2004/08/27 00:08:32

	check.log: New "canonical" output.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/tests/check.log#23 edit

Change 5733 by olaf@olaf on 2004/08/27 00:08:59

	Sync with web2c master.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/ChangeLog#34 edit

Change 5734 by olaf@olaf on 2004/08/27 00:10:55

	Correct typo.

Affected files ...

... //depot/Build/source.development/TeX/texk/web2c/pdftexdir/README#21 edit

Change 5735 by olaf@olaf on 2004/08/27 00:12:06

	Sync with kpathsea master.

Affected files ...

... //depot/Build/source.development/TeX/texk/kpathsea/ChangeLog#30 edit
... //depot/Build/source.development/TeX/texk/kpathsea/tex-file.c#26 edit



-- 
Olaf Weber

               (This space left blank for technical reasons.)

From karl at freefriends.org  Fri Aug 27 01:55:38 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Aug 27 01:57:03 2004
Subject: [tex-live] test-texlive2004-inst-20040823: fmtutil and updmap no
	longer launched?
In-Reply-To: <20040826140333.4453063814@statpc9>
Message-ID: <200408262355.i7QNtcO19258@f7.net>

Hi Daniel,

    1) The installation ends with 'Welcome to TeXLive' but
       no format is built. I have to launch the script 
       'fmtutil --all' by hand.

This is normal, as far as I know.  The formats should get built on the
fly, as they are invoked.  (My little testbed builds tex, latex, pdftex,
pdflatex, and cont-en, is working ok.)

    2) The script updmap is not launched automatically either.

Now this I don't understand.  It sure did get run at one point, when I
was testing (also on Linux).  I will look into it (unless someone else
beats me to it), and the interminable map file problems you found.

Thanks for trying things out.

karl

From staw at gust.org.pl  Fri Aug 27 04:53:23 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Fri Aug 27 04:40:09 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <87k6vlmtj1.fsf@infovore.xs4all.nl>
Message-ID: <Pine.LNX.4.44.0408270436260.26084-100000@re86.internetdsl.tpnet.pl>

On Fri, 27 Aug 2004, Olaf Weber wrote:

> Olaf Weber writes:
> > Karl Berry writes:
> 
> >>> We are still not finished with building binaries
> 
> >> Yeah, like not even started :).

I've just submited some new binaries for i386-linux covering last changes.
As for the TL schedule, nobody knows... My guess is that:
1. pdfetex promoted finally to 1.20a (no rc...)
2. texconfig modified to working with VARTEXMF
3. stable win32 installer
4. get rid with info/man pages and their html versions

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From ms at artcom-gmbh.de  Fri Aug 27 01:18:00 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri Aug 27 09:34:12 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <200408262101.i7QL18f07275@f7.net>
References: <20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<200408262101.i7QL18f07275@f7.net>
Message-ID: <20040826231800.GB27311@lucien.kn-bremen.de>

On 2004-08-26 17:01:08 -0400, Karl Berry wrote:
> Martin, I saw that you have been checking in pdftex stuff, although CTAN
> is still at pdftex-1.11b, apparently up to rc7.2 now.  Are you getting
> close?  Should we ask everyone to build binaries at this point and start
> more serious testing, or are there known problems?

We have two open bugs, but I don't think they are showstoppers.
I'm waiting for eTeX to do a release. So yes, binaries would be
useful.

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From pragma at wxs.nl  Fri Aug 27 09:59:18 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Aug 27 10:01:56 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <873c29oemo.fsf@infovore.xs4all.nl>
References: <873c29oemo.fsf@infovore.xs4all.nl>
Message-ID: <412EE9D6.8070703@wxs.nl>

Olaf Weber wrote:

>Peter Breitenlohner sent me the files for e-TeX 2.2.  it doesn't yet
>have the fix for the sparse register array bug, but Bernd Raichle
>suggested a fix that looks pretty good (and in contrast to my quick
>hack, e-TeX passes the trip test with it).
>
>Should I merge this into TeX-live, or does that clobber the schedule
>even worse than it is already?
>  
>
just merge it, a failing etex is the worst thing that can happen to the tex community now that it is the default engine; we have a reputation to   lose 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Fri Aug 27 10:02:36 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Aug 27 10:05:34 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <87sma9mxd0.fsf@infovore.xs4all.nl>
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl>
Message-ID: <412EEA9C.8010301@wxs.nl>

Olaf Weber wrote:

>Unusable seems unlikely to me, though the actual testing I could do
>only shows that the binaries survived casual use.
>  
>
i'd like to test the fixes in real production run's  

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From preining at logic.at  Fri Aug 27 11:12:33 2004
From: preining at logic.at (Norbert Preining)
Date: Fri Aug 27 11:13:58 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <412EEA9C.8010301@wxs.nl>
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
Message-ID: <20040827091233.GA8754@gamma.logic.tuwien.ac.at>

On Fre, 27 Aug 2004, Hans Hagen wrote:
> >Unusable seems unlikely to me, though the actual testing I could do
> >only shows that the binaries survived casual use.
> >
> >
> i'd like to test the fixes in real production run's

As soon as there are i386 binaries I will test them in our 10 user
institute with of logic/mathematics ...
At least latex will be trested this way.


Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
One's never alone with a rubber duck.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From olaf at infovore.xs4all.nl  Fri Aug 27 11:25:29 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Aug 27 11:27:13 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <412EEA9C.8010301@wxs.nl> (Hans Hagen's message of "Fri, 27 Aug
	2004 10:02:36 +0200")
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
Message-ID: <877jrllypi.fsf@infovore.xs4all.nl>

Hans Hagen writes:

> Olaf Weber wrote:
>> Unusable seems unlikely to me, though the actual testing I could do
>> only shows that the binaries survived casual use.
>> 
>> 
> i'd like to test the fixes in real production run's

I've done the checkins, so as far as I'm concerned, you should be able
to do your production runs now.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From dak at gnu.org  Fri Aug 27 12:16:30 2004
From: dak at gnu.org (David Kastrup)
Date: Fri Aug 27 12:17:57 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <20040827091233.GA8754@gamma.logic.tuwien.ac.at>
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
	<20040827091233.GA8754@gamma.logic.tuwien.ac.at>
Message-ID: <x5hdqoq41t.fsf@lola.goethe.zz>

Norbert Preining <preining@logic.at> writes:

> On Fre, 27 Aug 2004, Hans Hagen wrote:
> > >Unusable seems unlikely to me, though the actual testing I could do
> > >only shows that the binaries survived casual use.
> > >
> > >
> > i'd like to test the fixes in real production run's
> 
> As soon as there are i386 binaries I will test them in our 10 user
> institute with of logic/mathematics ...
> At least latex will be trested this way.

Actually, LaTeX is not particularly a stress test for eTeX features.
OTOH, if problems _do_ show up with LaTeX, we are indeed in deep
trouble.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From olaf at infovore.xs4all.nl  Fri Aug 27 13:12:37 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Aug 27 13:14:23 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <x5hdqoq41t.fsf@lola.goethe.zz> (David Kastrup's message of "27
	Aug 2004 12:16:30 +0200")
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
	<20040827091233.GA8754@gamma.logic.tuwien.ac.at>
	<x5hdqoq41t.fsf@lola.goethe.zz>
Message-ID: <87acwgltqy.fsf@infovore.xs4all.nl>

David Kastrup writes:
> Norbert Preining <preining@logic.at> writes:
>> On Fre, 27 Aug 2004, Hans Hagen wrote:

>>>>Unusable seems unlikely to me, though the actual testing I could do
>>>>only shows that the binaries survived casual use.

>>> i'd like to test the fixes in real production run's

>> As soon as there are i386 binaries I will test them in our 10 user
>> institute with of logic/mathematics ...
>> At least latex will be trested this way.

> Actually, LaTeX is not particularly a stress test for eTeX features.
> OTOH, if problems _do_ show up with LaTeX, we are indeed in deep
> trouble.

What code is out there that stresses eTeX?  Context? 

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From dak at gnu.org  Fri Aug 27 13:44:25 2004
From: dak at gnu.org (David Kastrup)
Date: Fri Aug 27 13:45:57 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <87acwgltqy.fsf@infovore.xs4all.nl>
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
	<20040827091233.GA8754@gamma.logic.tuwien.ac.at>
	<x5hdqoq41t.fsf@lola.goethe.zz> <87acwgltqy.fsf@infovore.xs4all.nl>
Message-ID: <x5pt5c7qli.fsf@lola.goethe.zz>

Olaf Weber <olaf@infovore.xs4all.nl> writes:

> David Kastrup writes:
> > Norbert Preining <preining@logic.at> writes:
> >> On Fre, 27 Aug 2004, Hans Hagen wrote:
> 
> >>>>Unusable seems unlikely to me, though the actual testing I could do
> >>>>only shows that the binaries survived casual use.
> 
> >>> i'd like to test the fixes in real production run's
> 
> >> As soon as there are i386 binaries I will test them in our 10 user
> >> institute with of logic/mathematics ...
> >> At least latex will be trested this way.
> 
> > Actually, LaTeX is not particularly a stress test for eTeX features.
> > OTOH, if problems _do_ show up with LaTeX, we are indeed in deep
> > trouble.
> 
> What code is out there that stresses eTeX?  Context?

Probably the most important contender, yes.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From pragma at wxs.nl  Fri Aug 27 14:40:14 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Aug 27 14:42:44 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <x5pt5c7qli.fsf@lola.goethe.zz>
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
	<20040827091233.GA8754@gamma.logic.tuwien.ac.at>
	<x5hdqoq41t.fsf@lola.goethe.zz> <87acwgltqy.fsf@infovore.xs4all.nl>
	<x5pt5c7qli.fsf@lola.goethe.zz>
Message-ID: <412F2BAE.4020102@wxs.nl>

David Kastrup wrote:

>>What code is out there that stresses eTeX?  Context?
>>    
>>
>
>Probably the most important contender, yes.
>  
>
apart from some old bug that i've forgotten about, in context i ran into bug with \lastnode, token registers>255 and i have some code that uses more boxes that 255 as well (interesting i always though that funny effects in that code was originating in the application, not in etex)

are all those fixes somehow also tested in the etex trip test? (or maybe etrip should be extended?)

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Fri Aug 27 14:45:03 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Aug 27 14:47:27 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <877jrllypi.fsf@infovore.xs4all.nl>
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
	<877jrllypi.fsf@infovore.xs4all.nl>
Message-ID: <412F2CCF.2080205@wxs.nl>

Olaf Weber wrote:

>I've done the checkins, so as far as I'm concerned, you should be able
>to do your production runs now.
>  
>
ok, i'm happily waiting for the lin/win binaries to show up 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Fri Aug 27 15:19:34 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Aug 27 15:21:10 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <20040826231800.GB27311@lucien.kn-bremen.de>
Message-ID: <200408271319.i7RDJY925126@f7.net>

     So yes, binaries would be useful.

Ok, system builders, please start your engines ... (not for the last time)
(Fabrice checked in a win32 update yesterday, Olaf did irix, not sure about
others ...)

alpha-linux (HP Alpha Linux)		Norbert
hpux					Lars
i386-freebsd (i386 FreeBSD)		Manfred
i386-linux (i386 Linux)			Staszek
i386-openbsd (i386 OpenBSD)		Sebastian ? Baden
i386-solaris (Sun i386 Solaris)		Baden
i386_64-linux				Tigran
mips-irix (SGI IRIX)			Olaf
powerpc-aix (IBM RS/6000 AIX)		Vladimir
powerpc-darwin6.3 (MacOSX)		Gerben
sparc-solaris (Sun Sparc Solaris)	Vladimir
sparc64-linux (Sparc Linux)		Staszek
win32 (32-bit Windows)			Fabrice

From karl at freefriends.org  Fri Aug 27 15:22:33 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Aug 27 15:23:59 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <Pine.LNX.4.44.0408270436260.26084-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200408271322.i7RDMXH26138@f7.net>

    2. texconfig modified to working with VARTEXMF

I wasn't aware of this.  Thomas?

    3. stable win32 installer
    
Fabrice made checkins yesterday.  Any improvement?  You've probably
already tried it and reported to him, I know ...

    4. get rid with info/man pages and their html versions

What?!  Haven't heard this suggested before.  Why?

From staw at gust.org.pl  Fri Aug 27 20:45:47 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Fri Aug 27 20:32:16 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <200408271322.i7RDMXH26138@f7.net>
Message-ID: <Pine.LNX.4.44.0408272038180.27068-100000@re86.internetdsl.tpnet.pl>

On Fri, 27 Aug 2004, Karl Berry wrote:

>     2. texconfig modified to working with VARTEXMF
> 
> I wasn't aware of this.  Thomas?

Hmm... the problem with config files in VARTEXMF, already discussed
with Thomas.
 
>     3. stable win32 installer
>     
> Fabrice made checkins yesterday.  Any improvement?  You've probably
> already tried it and reported to him, I know ...

How did you guess? ;-) 

>     4. get rid with info/man pages and their html versions
> 
> What?!  Haven't heard this suggested before.  Why?

I mean that the new man&info pages generated from the sources still
are not copied into distribution texmf trees. Seems that html versions
also aren't updated.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From preining at logic.at  Fri Aug 27 23:17:48 2004
From: preining at logic.at (Norbert Preining)
Date: Fri Aug 27 23:19:13 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <412F2CCF.2080205@wxs.nl>
References: <873c29oemo.fsf@infovore.xs4all.nl>
	<20040826202449.GA10601@gamma.logic.tuwien.ac.at>
	<87sma9mxd0.fsf@infovore.xs4all.nl> <412EEA9C.8010301@wxs.nl>
	<877jrllypi.fsf@infovore.xs4all.nl> <412F2CCF.2080205@wxs.nl>
Message-ID: <20040827211748.GD11758@gamma.logic.tuwien.ac.at>

On Fre, 27 Aug 2004, Hans Hagen wrote:
> ok, i'm happily waiting for the lin/win binaries to show up 

linux-i386 binaries are there ... running already on our system.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LOUTH (n.)
The sort of man who wears loud check jackets, has a personalised
tankard behind the bar and always gets served before you do.
			--- Douglas Adams, The Meaning of Liff

From vvv at vsu.ru  Sat Aug 28 18:48:45 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Aug 28 18:50:11 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <200408271319.i7RDJY925126@f7.net> (Karl Berry's message of "Fri, 
	27 Aug 2004 09:19:34 -0400")
References: <200408271319.i7RDJY925126@f7.net>
Message-ID: <87acwf2ope.fsf@video.uic.vsu.ru>

"KB" == Karl Berry writes:

 KB> Ok, system builders, please start your engines ... (not for the
 KB> last time)

what repository shall be used for builds: source or source.development?

since it's still a development phase, i suspect that we should use the
latter... may i build solaris and aix binaries a bit later when the
sources will stabilize, or it is preferable to have them built now?

(i hope that testing could be done using primarily the linux and
windows binaries, and once it will be decided to make a final build,
i'll do the solaris and aix builds)

Best,
v.

From staw at gust.org.pl  Sat Aug 28 19:37:28 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sat Aug 28 19:23:53 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <87acwf2ope.fsf@video.uic.vsu.ru>
Message-ID: <Pine.LNX.4.44.0408281932570.28594-100000@re86.internetdsl.tpnet.pl>

On Sat, 28 Aug 2004, Vladimir Volovich wrote:

> what repository shall be used for builds: source or source.development?

source.development
 
> since it's still a development phase, i suspect that we should use the
> latter... may i build solaris and aix binaries a bit later when the
> sources will stabilize, or it is preferable to have them built now?

Would you please doing the first turn to stabilize list of binaries,
tpm files, etc.
 
As I wrote before, I cannot build on sparc64-linux (the machine seems
to die). Can somebody help with that compiling?

Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl

From vvv at vsu.ru  Sat Aug 28 19:34:13 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Aug 28 19:35:40 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <Pine.LNX.4.44.0408281932570.28594-100000@re86.internetdsl.tpnet.pl>
	(Staszek Wawrykiewicz's message of "Sat, 28 Aug 2004 19:37:28 +0200
	(CEST)")
References: <Pine.LNX.4.44.0408281932570.28594-100000@re86.internetdsl.tpnet.pl>
Message-ID: <87sma71816.fsf@video.uic.vsu.ru>

"SW" == Staszek Wawrykiewicz writes:

 SW> As I wrote before, I cannot build on sparc64-linux (the machine
 SW> seems to die). Can somebody help with that compiling?

I have sparc linux too, so if nobody wishes to build it, i can do all
the three: sparc-linux, sparc-solaris, and powerpc-aix. Please let me
know if anyone wants to take sparc-linux.

Best,
v.

From olaf at infovore.xs4all.nl  Sat Aug 28 19:59:56 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sat Aug 28 20:01:34 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <87acwf2ope.fsf@video.uic.vsu.ru> (Vladimir Volovich's message
	of "Sat, 28 Aug 2004 20:48:45 +0400")
References: <200408271319.i7RDJY925126@f7.net>
	<87acwf2ope.fsf@video.uic.vsu.ru>
Message-ID: <873c27i1nn.fsf@infovore.xs4all.nl>

Vladimir Volovich writes:

> what repository shall be used for builds: source or source.development?

source.development

> since it's still a development phase, i suspect that we should use the
> latter... may i build solaris and aix binaries a bit later when the
> sources will stabilize, or it is preferable to have them built now?

> (i hope that testing could be done using primarily the linux and
> windows binaries, and once it will be decided to make a final build,
> i'll do the solaris and aix builds)

Please build Solaris and AIX, and if possible do some minimal
functionality testing.  IMHO we need to verify that each host will
successfully build, at a point where we still have ample time to track
down build issues.

For example, things I ran into with the IRIX builds which are not
necessarily obvious:

- lcdf-typetools buils two C++ libraries.  I need to replace the
  standard 'ar' command with 'CC -ar' to get the C++ prelinker to run,
  otherwise some templates are not instantiated, and linking binaries
  fails.
- xdvi will link against libiconv if it is available.  This library is
  not a standard part of IRIX and is not necessary.  However, on the
  build machine I'm using it is installed as a part of samba.
  Allowing it to be linked in limits the usefulness of the xdvi
  binary.
- configure needs specific settings for CC, CXX etc to ensure that the
  native compilers are used, and that optimized binaries are
  generated.  (The MIPSpro compilers will not optimize if both '-g'
  and '-O2' are specified, which configure does by default.)
  
I "solved" these problems by writing a litte shell script that calls
configure with the right options, followed by a fix-up of three
makefiles (two for lcdf-typetools, and xdvik).

While a few more changes will get into the sources, I foresee no
changes to the build procedure except fixes for problems encountered.
This is why I think doing a trial run of the builds will not be wasted
effort at this point.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Sat Aug 28 20:38:36 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sat Aug 28 20:40:16 2004
Subject: [tex-live] e-TeX 2.2 schedule update
In-Reply-To: <873c27i1nn.fsf@infovore.xs4all.nl> (Olaf Weber's message of
	"Sat, 28 Aug 2004 19:59:56 +0200")
References: <200408271319.i7RDJY925126@f7.net>
	<87acwf2ope.fsf@video.uic.vsu.ru> <873c27i1nn.fsf@infovore.xs4all.nl>
Message-ID: <87y8jzglar.fsf@infovore.xs4all.nl>

Note that the various shell scripts in particular should get tested on
other platforms than linux/bash.  I'm not really concerned about
mktexpk, mktextfm, mktexmf, mktexupd, and mktexlsr since these are
very much written to the largest common denominator.  But scripts like
texconfig and fmtutil/mktexfmt (same script, two names) (to name just
two) use more advanced features, and while they attempt to select
suitable shells, they may still be vulnerable to platform-specific
"glitches".  (I tracked down one in fmtutil earlier this week that
manifested on IRIX.)

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From staw at gust.org.pl  Sun Aug 29 03:01:54 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sun Aug 29 02:47:35 2004
Subject: [tex-live] new binaries for linux
Message-ID: <Pine.LNX.4.44.0408290253090.29229-100000@re86.internetdsl.tpnet.pl>

Olaf Weber kindly implemented in web2c a new --output-directory option
for (pdfe)tex, mf and mpost. This handy option was already known
only for win32. Now it can work well for all platforms.
I've just submited new binaries for linux.
Many thanks for Olaf.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From staw at gust.org.pl  Mon Aug 30 03:11:14 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Aug 30 03:03:29 2004
Subject: [tex-live] man and texinfo
Message-ID: <Pine.LNX.4.44.0408300304300.1401-100000@re86.internetdsl.tpnet.pl>

when compiling from the sources I always get
 info/dir
 info/dvips.info
 info/latex.info
 info/info-stnd.info
 info/info.info
 info/kpathsea.info
 info/texi2html.info
 info/texi2html.info-1
 info/texi2html.info-2
 info/texi2html.info-3
 info/texinfo
 info/texinfo-1
 info/texinfo-2
 info/texinfo-3
 info/web2c.info
 info/web2c.info-1
 info/web2c.info-2
 info/web2c.info-3
 info/web2c.info-4

however Master/texmf/doc/info contains (not up-to-date):
bzip2.info
dir
dvips.info
gzip.info
info.info
info-stnd.info
kpathsea.info
latex.info
texinfo.info
web2c.info

How man and info pages should be updated in Master/texmf tree?

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From staw at gust.org.pl  Mon Aug 30 04:46:25 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Aug 30 04:38:16 2004
Subject: [tex-live] tpm Title and description fields
In-Reply-To: <20040826210543.DE19F1BC7C2@postfix4-2.free.fr>
Message-ID: <Pine.LNX.4.44.0408300413530.1852-100000@re86.internetdsl.tpnet.pl>

I decided to send the following to the mailing list.
On Thu, 26 Aug 2004, Fabrice Popineau wrote (to me):

> > 1. so many items shows: "No caption" or "No description available"
> > (last year I filled up or corrected more then 200 title or description
> > fields, but that tedious work somehow dissapeared. Should I reinsert
> > that?
> 
> My opinion is that they should be reinserted yes, but not in texlive.
> Rather they should be submitted to Graham Williams to be put in his
> catalogue. The tpm tools fetch this information automatically now.

Hmm... now I understand why pl.tpm has: 
<TMP:Title>Literate Programming for Prolog with LaTeX</TPM:Title>
but the package contains PL fonts in MF and PFB. The name "pl"
was changed according Fabrice's suggestion to follow directory names.
As so many packages have different names to catalogue, we still
cannot do it automatically.

> However, I noticed that lately the xml entries for the catalogue have
> disappeared from texmf-doc/doc/english/catalogue. I wonder if some
> descriptions have not disappeared just because of that.

I'm completely lost what we can do. In TL's <Title> fields I found:
37 x Macro package for TeX (the most popular).
95 x No caption.
 7 x No description available. 
==
139 altogether

Any idea and help would be appreciated.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Aug 30 12:27:04 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Aug 30 13:16:44 2004
Subject: [tex-live] man and texinfo
In-Reply-To: <Pine.LNX.4.44.0408300304300.1401-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0408300304300.1401-100000@re86.internetdsl.tpnet.pl>
Message-ID: <413300F8.9060802@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>
>How man and info pages should be updated in Master/texmf tree?
>
>  
>
by hand :-}

sebastian

From karl at freefriends.org  Mon Aug 30 14:46:49 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Aug 30 14:48:16 2004
Subject: [tex-live] tpm Title and description fields
In-Reply-To: <Pine.LNX.4.44.0408300413530.1852-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200408301246.i7UCknK29887@f7.net>

    As so many packages have different names to catalogue, we still
    cannot do it automatically.

1) Maybe Graham would change the Catalogue names.  (And/or we change the
   TL names, depending on what the real name of the package is.)

2) Maybe create a mapping file from Catalogue names to TL names, so that
   the two do not have to be precisely the same, yet a script can insert
   info from the Catalogue into the TPM files.

    > However, I noticed that lately the xml entries for the catalogue have
    > disappeared from texmf-doc/doc/english/catalogue. 

I do not know how they "disappeared" (perhaps in the mass
moving/renaming you did), but in any case, can we get them back?  It's
on my pending list, too.  But if someone else can work on the general
catalogue->TL stuff, that would be great.

Meanwhile, I do not think this is a stopper for the release.

k

From karl at freefriends.org  Mon Aug 30 15:00:17 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Aug 30 15:01:43 2004
Subject: [tex-live] man and texinfo
In-Reply-To: <Pine.LNX.4.44.0408300304300.1401-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200408301300.i7UD0HX02023@f7.net>

    however Master/texmf/doc/info contains (not up-to-date):

Are you sure they are not up to date?  I am positive the Texinfo and
dvips sources, at least, have not been updated since I last built the
info files.  And the gzip and bzip2 manuals have not changed in many
years (unfortunately).  (I'm not even sure why we have them in TL -- we
don't have gzip/bzip2 binaries, do we?  Let's delete them.)

Your web2c doc for output-directory needs to be included before we
rebuild web2c.

texi2html needs to be installed, that's a recent addition.

    How man and info pages should be updated in Master/texmf tree?

By hand :(.  I run makeinfo --no-split; after discussing with Fabrice,
we concluded it was better than having the split versions.  And don't
forget PDF and HTML updates, too.  This is what I said I was going to
think about writing a script for ... but meanwhile, fine to update
whatever's needed, of course.

Thanks,
k

From siepo at cybercomm.nl  Mon Aug 30 14:21:48 2004
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon Aug 30 15:23:16 2004
Subject: [tex-live] update afm2pl
Message-ID: <20040830122148.GA1186@muisje>

Attached updated files of [texk/]afm2pl. If Hans happens also to
send an afm2pl update then that should be the same one.

-- 
Siep Kroonenberg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: afm2pl0702.tgz
Type: application/x-tar-gz
Size: 31699 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20040830/726ab450/afm2pl0702-0001.bin
From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Aug 30 12:27:04 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Aug 30 18:39:13 2004
Subject: [tex-live] man and texinfo
In-Reply-To: <Pine.LNX.4.44.0408300304300.1401-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0408300304300.1401-100000@re86.internetdsl.tpnet.pl>
Message-ID: <413300F8.9060802@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>
>How man and info pages should be updated in Master/texmf tree?
>
>  
>
by hand :-}

sebastian

From olaf at infovore.xs4all.nl  Mon Aug 30 21:15:04 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Aug 30 21:16:43 2004
Subject: [tex-live] man and texinfo
In-Reply-To: <200408301300.i7UD0HX02023@f7.net> (Karl Berry's message of
	"Mon, 30 Aug 2004 09:00:17 -0400")
References: <200408301300.i7UD0HX02023@f7.net>
Message-ID: <878ybwe8uf.fsf@infovore.xs4all.nl>

Karl Berry writes:

> Your web2c doc for output-directory needs to be included before we
> rebuild web2c.

Documentation for -output-directory is already in
    source.development/texk/web2c/doc/web2c.texi
Please look it over.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From staw at gust.org.pl  Tue Aug 31 03:38:35 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Aug 31 03:29:54 2004
Subject: [tex-live] man and texinfo
In-Reply-To: <200408301300.i7UD0HX02023@f7.net>
Message-ID: <Pine.LNX.4.44.0408310304270.3056-100000@re86.internetdsl.tpnet.pl>

On Mon, 30 Aug 2004, Karl Berry wrote:

>     however Master/texmf/doc/info contains (not up-to-date):
> 
> Are you sure they are not up to date?  I am positive the Texinfo and
> dvips sources, at least, have not been updated since I last built the
> info files.  And the gzip and bzip2 manuals have not changed in many
> years (unfortunately).  (I'm not even sure why we have them in TL -- we
> don't have gzip/bzip2 binaries, do we?  Let's delete them.)

As for bzip2 and gzip I'd left it for win32 users, OK?
 
> Your web2c doc for output-directory needs to be included before we
> rebuild web2c.

Olaf has already written the answer. The problem is: if we decided to have
web2c, kpathsea and texinfo in one-part .info file, why making a build
still generates multipart files with _diffent_ names. That's no problem
for me to update texmf tree by hand having the same files. As I see,
during a build web2c.info* files are just copied from the sources;
kpathsea.info and texinfo, texinfo-1, texinfo-2, texinfo-3 are generated.
I'd like only to find any order.

> texi2html needs to be installed, that's a recent addition.

Which one, multipart generated when making a build? Or -no-split one?
If so, I'd suggest changing that in the sources.
 
-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Tue Aug 31 17:57:06 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Aug 31 17:58:36 2004
Subject: [tex-live] man and texinfo
In-Reply-To: <Pine.LNX.4.44.0408310304270.3056-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200408311557.i7VFv6P21292@f7.net>

    As for bzip2 and gzip I'd left it for win32 users, OK?

Ok with me, but Fabrice told me few win32 users care about .info files
or even know what they are.

    web2c, kpathsea and texinfo in one-part .info file, why making a build
    still generates multipart files with _diffent_ names. 

(dvips, too.)  For web2c and kpathsea, maybe because we haven't asked
Olaf to change it :).  For dvips, I guess I can change it.

For Texinfo and texi2html, split info files should be the default in the
distribution.  It is a peculiarity of TeX Live that it is better for us
to have the non-split files.  For people installing those packages on
their own, they would not expect it.

    As I see, during a build web2c.info* files are just copied from the
    sources; kpathsea.info and texinfo, texinfo-1, texinfo-2, texinfo-3
    are generated.  I'd like only to find any order.

Sorry, I do not understand what you're saying.

What I'm saying is, right now, to get the job done, ignore the info
files created during the build, and run makeinfo by hand:

makeinfo --no-split kpathsea.texi
makeinfo --no-split --html kpathsea.texi
pdflatex kpathsea.texi

And copy/install the resulting .info, .html, and .pdf files by hand.  No
changes to the TPM lists should be needed, because this is exactly how I
did it last time.

Since the build has never generated HTML or PDF (and doing that would
mean a bit of Makefile hacking), it's not much more work to generate the
info by hand too.

(But, like I said, I don't believe the kpathsea or texinfo or dvips
Texinfo sources have changed.  Only web2c.)

    > texi2html needs to be installed, that's a recent addition.

    Which one, multipart generated when making a build? Or -no-split one?

--no-split.  As above.  Ignore the one made by the build.

Thanks,
karl

