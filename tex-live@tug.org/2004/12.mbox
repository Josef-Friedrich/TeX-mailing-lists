From Gerben.Wierda at rna.nl  Wed Dec  1 13:20:47 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Dec  1 13:22:42 2004
Subject: [tex-live] TeX Live 2004 final vs development: speed of TeX
In-Reply-To: <20041130181105.GA9976@dbs.uni-hannover.de>
References: <CMM.0.92.0.1101825246.beebe@psi.math.utah.edu>
	<20041130181105.GA9976@dbs.uni-hannover.de>
Message-ID: <8042.159.46.248.226.1101903647.squirrel@159.46.248.226>

>> The most likely cause of slowdown for TeX is excessive searching for
>> files.  Remember, TeX is just a filter: its processing time in most
>
> Just to add one thing: when using pdftex, the new map file loading code
> (using avl trees) also gives a significant speedup if large map files
> are being loaded.

What is the status of source vs source.development? For the last source
for TL2004, do I download source@today or source.development@today?

G



From vvv at vsu.ru  Wed Dec  1 14:42:32 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Wed Dec  1 14:47:42 2004
Subject: [tex-live] TeX Live 2004 final vs development: speed of TeX
In-Reply-To: <8042.159.46.248.226.1101903647.squirrel@159.46.248.226> (Gerben
	Wierda's message of "Wed, 1 Dec 2004 13:20:47 +0100 (CET)")
References: <CMM.0.92.0.1101825246.beebe@psi.math.utah.edu>
	<20041130181105.GA9976@dbs.uni-hannover.de>
	<8042.159.46.248.226.1101903647.squirrel@159.46.248.226>
Message-ID: <871xea16ev.fsf@video.uic.vsu.ru>

"GW" == Gerben Wierda writes:

 GW> What is the status of source vs source.development? For the last
 GW> source for TL2004, do I download source@today or
 GW> source.development@today?

Last source for TL2004 is in the file Master/source/source.tar.bz2
on P4 depot or http://tug.org/texlive/devsrc/Master/source/source.tar.bz2

Best,
v.

From karl at freefriends.org  Wed Dec  1 14:47:05 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Dec  1 14:49:05 2004
Subject: [tex-live] A voluntier
In-Reply-To: <20041130163550.18328.qmail@web52506.mail.yahoo.com>
Message-ID: <200412011347.iB1Dl5r22040@f7.net>

    I shall like to voluntier in the testing 2004 Tex.

Thank you for writing.  I'll put you on my list of people to notify when
there is a new version being tested.

From karl at freefriends.org  Wed Dec  1 14:47:17 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Dec  1 14:49:25 2004
Subject: [tex-live] TeX Live 2004 final vs development: speed of TeX
In-Reply-To: <8042.159.46.248.226.1101903647.squirrel@159.46.248.226>
Message-ID: <200412011347.iB1DlHp22107@f7.net>

    What is the status of source vs source.development? For the last source
    for TL2004, do I download source@today or source.development@today?

source.

Martin has been checking in new code for the next pdftex to
source.development.

From karl at freefriends.org  Wed Dec  1 14:50:02 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Dec  1 14:52:03 2004
Subject: [tex-live] A voluntier
In-Reply-To: <20041130163550.18328.qmail@web52506.mail.yahoo.com>
Message-ID: <200412011350.iB1Do2Q23101@f7.net>

    I shall like to voluntier in the testing 2004 Tex.

Oh, sorry, I see that you said "2004".  Well, as it happens, that
version was just released.  See http://tug.org/texlive for links, etc.
The final images have been sent to CD/DVD production and hopefully user
group members should receive them in a few weeks.

Best,
karl

From jmsmith at ecs.umass.edu  Wed Dec  1 16:27:56 2004
From: jmsmith at ecs.umass.edu (J M Smith)
Date: Thu Dec  2 12:37:51 2004
Subject: [tex-live] installation of beamer package
Message-ID: <004d01c4d7ba$54e6fe90$95587780@ecs.umass.edu>

Dear Tug:
    I wanted to install a package called beamer into my tex-live program.
I downloaded it and installed the package in my directory on C:\Program
Files\TeXLive\texmf-local\
but am not able to link it in to the configuration. I clicked on the
maintenance button and tried to
get TexLive to configure the package, but I get the error message:

    can't find the C:\Program Files\TeXLive\texmf-local\binary TPM
directory.

    Can anyone help?

Jim

J. MacGregor Smith
Professor
Department of Mechanical and Industrial Engineering
Elab Building
University of Massachusetts
Amherst MA 01003
Phone (413) 545-4542
Fax (413) 545-1027
 http://www.ecs.umass.edu/mie/faculty/smith/

From aa056 at chebucto.ns.ca  Thu Dec  2 17:17:38 2004
From: aa056 at chebucto.ns.ca (George N. White III)
Date: Thu Dec  2 17:23:24 2004
Subject: [tex-live] installation of beamer package
In-Reply-To: <004d01c4d7ba$54e6fe90$95587780@ecs.umass.edu>
References: <004d01c4d7ba$54e6fe90$95587780@ecs.umass.edu>
Message-ID: <Pine.SGI.4.61.0412021209170.81230@montigo.bio.dfo.ca>

On Wed, 1 Dec 2004, J M Smith wrote:

> Dear Tug:
>    I wanted to install a package called beamer into my tex-live program.
> I downloaded it and installed the package in my directory on C:\Program
> Files\TeXLive\texmf-local\
> but am not able to link it in to the configuration. I clicked on the
> maintenance button and tried to
> get TexLive to configure the package, but I get the error message:
>
>    can't find the C:\Program Files\TeXLive\texmf-local\binary TPM
> directory.
>
>    Can anyone help?

I'm not sure what you did.  I installed a new version of beamer from CTAN 
into texmf-local on TeX Live 2003 a while ago, but on unix machines.  The 
"TeX Maintenance" button in Win32 is for packages that are part of TeX 
Live 2003, which don't go into texmf-local, so I don't know why you
get an error for texmf-local

There is a recent version of beamer in TL2004.  There is no Win32 
installer (excerise left to the reader!).  My solution is to install on 
linux but add Win32 to the list of binary packages and xemtex to the list 
of packages.  Then I archive the directory tree on unix, delete the old 
tree on Win32, and unpack the new archive into the same directory, e.g., 
C:\...\TeXLive.  This allows me to keep the registry settings.  Where 
users have installed into C:\...\TL2003 I have to edit the registry 
entries.

--
George N. White III  <aa056@chebucto.ns.ca>
   Head of St. Margarets Bay, Nova Scotia, Canada

From izrailsk at iacp.dvo.ru  Fri Dec  3 08:39:10 2004
From: izrailsk at iacp.dvo.ru (Yuri Izrailsky)
Date: Fri Dec  3 08:48:17 2004
Subject: [tex-live] Texlive 2004 problem
Message-ID: <1079268207.20041203173910@iacp.dvo.ru>

Dear all,

I have tried to install Texlive 2004 to win2000 and
have encountered the following problem. The kpsewhich.exe
refuses to run. After starting kpsewhich I get the message
"Application failed to initialize properly. Press OK to terminate
application". So I could not get further than the first step of
installation.

Please help.

  

-- 
Best regards,
 Yuri  Izrailsky                        mailto:izrailsk@iacp.dvo.ru

From victorgfu at yahoo.com  Fri Dec  3 13:48:29 2004
From: victorgfu at yahoo.com (victorgfu@yahoo.com)
Date: Fri Dec  3 14:41:05 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
Message-ID: <501604570.20041203144829@yahoo.com>

Dear developers,

I can't use all the features of the manyfoot package,
because when I set "para" constant, ii doesn't make the the
footnotes running as one paragraph, like it was when you tried to
compile the sources. So, by now I have to disable that function and am
wasting a lot of paper space, because each footnote begins from new line.

As I understand this is a BUG, because the TeXLive 2003 doesn't
have this error. I tried to replace the footmisc and the ncctools
packages with the old ones, but the result was the same frustration.
Thus, I conclude, that the LaTeX kernel has a bug.


-- 
Blessings in Him,
Victor Zhuromsky,
Director of Grace Fellowship Ukraine Ministry

Tel. in Ukraine:
office +38-0412-330098
mobile +38-097-2198827 or +38-097-9302093
____________________________________________
Visit our websites at
http://solomonet.org - Grace Fellowship International (en)
http://Gracefellowshipintl.com - Grace Fellowship International (en)
http://gfu.christ4you.org - Grace Fellowship Ukraine Ministry (ru)
http://christ4you.org - Christian Information Portal (ru)

From tigran at aivazian.fsnet.co.uk  Fri Dec  3 14:49:46 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Fri Dec  3 14:50:35 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <501604570.20041203144829@yahoo.com>
References: <501604570.20041203144829@yahoo.com>
Message-ID: <Pine.LNX.4.61.0412031347130.3944@ezer.homenet>

On Fri, 3 Dec 2004 victorgfu@yahoo.com wrote:
> I can't use all the features of the manyfoot package,
> because when I set "para" constant, ii doesn't make the the
> footnotes running as one paragraph, like it was when you tried to
> compile the sources. So, by now I have to disable that function and am
> wasting a lot of paper space, because each footnote begins from new line.

Greetings Victor,

What would help debug this problem is if you could produce a small 
(minimalistic to remove the possibility that some other package is 
affecting this) standalone sample which shows the problem and uploaded 
somewhere. If you want you can place it in your home directory on ginsburg 
server and I'll upload it to bibles.org.uk for you.

Kind regards
Tigran

From vvv at vsu.ru  Fri Dec  3 14:49:24 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Fri Dec  3 14:55:00 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <501604570.20041203144829@yahoo.com> (victorgfu@yahoo.com's
	message of "Fri, 3 Dec 2004 14:48:29 +0200")
References: <501604570.20041203144829@yahoo.com>
Message-ID: <87mzwvxziz.fsf@video.uic.vsu.ru>

Greetings,

"v" == victorgfu  writes:

 v> Dear developers, I can't use all the features of the manyfoot
 v> package, because when I set "para" constant, ii doesn't make the
 v> the footnotes running as one paragraph, like it was when you tried
 v> to compile the sources. So, by now I have to disable that function
 v> and am wasting a lot of paper space, because each footnote begins
 v> from new line.

 v> As I understand this is a BUG, because the TeXLive 2003 doesn't
 v> have this error. I tried to replace the footmisc and the ncctools
 v> packages with the old ones, but the result was the same
 v> frustration.  Thus, I conclude, that the LaTeX kernel has a bug.

Without a specific (minimal) test file (plus the log file) which
demonstrates the "bug", your report is useless.

Best,
v.

From victorgfu at yahoo.com  Mon Dec  6 09:11:21 2004
From: victorgfu at yahoo.com (victorgfu@yahoo.com)
Date: Mon Dec  6 09:54:22 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools
	package
In-Reply-To: <87mzwvxziz.fsf@video.uic.vsu.ru>
References: <501604570.20041203144829@yahoo.com>
	<87mzwvxziz.fsf@video.uic.vsu.ru>
Message-ID: <15310597331.20041206101121@yahoo.com>

Ok, in the attachment I am sending you the test file.

in the source I have:

\RequirePackage[perpage,ruled,para*]{manyfoot}
\DeclareNewFootnote[para]{A}
\DeclareNewFootnote[para]{B}

\newcommand{\fnt}[1]{\footnotetextA{\gr{#1}}}

\newcommand{\fn}[1]{%
        \leavevmode\unskip%
        \ifthenelse{\value{nxnotes} = 0}% first note in this chapter
        {\setcounter{nxnotes}{1}%
        \footnotetextA{{\gr\bfseries\thechnum:\scriptsize\thevsnum}\nobreakspace\gr{#1}}%
        }{%
        \footnotetextA{{\gr\bfseries\scriptsize\thevsnum}\nobreakspace\gr{#1}}%
        }%
}

\newcommand{\fnRNT}[1]{
        \leavevmode\unskip%
        \ifthenelse{\value{nnotes} = 0}% first note in this chapter
        {\setcounter{nnotes}{1}%
        \footnotetextB{{\gr\bfseries\thechnum:\scriptsize\thevsnum}\nobreakspace\ru{#1}}%
        }{%
        \footnotetextB{{\gr\bfseries\scriptsize\thevsnum}\nobreakspace\ru{#1}}%
        }
}


You wrote 3 ??????? 2004 ?., 15:49:24:

> Greetings,

> "v" == victorgfu  writes:

 v>> Dear developers, I can't use all the features of the manyfoot
 v>> package, because when I set "para" constant, ii doesn't make the
 v>> the footnotes running as one paragraph, like it was when you tried
 v>> to compile the sources. So, by now I have to disable that function
 v>> and am wasting a lot of paper space, because each footnote begins
 v>> from new line.

 v>> As I understand this is a BUG, because the TeXLive 2003 doesn't
 v>> have this error. I tried to replace the footmisc and the ncctools
 v>> packages with the old ones, but the result was the same
 v>> frustration.  Thus, I conclude, that the LaTeX kernel has a bug.

> Without a specific (minimal) test file (plus the log file) which
> demonstrates the "bug", your report is useless.

> Best,
> v.





-- 
Blessings in Him,
Victor Zhuromsky,
Director of Grace Fellowship Ukraine Ministry

Tel. in Ukraine:
office +38-0412-330098
mobile +38-097-2198827 or +38-097-9302093
____________________________________________
Visit our websites at
http://solomonet.org - Grace Fellowship International (en)
http://Gracefellowshipintl.com - Grace Fellowship International (en)
http://gfu.christ4you.org - Grace Fellowship Ukraine Ministry (ru)
http://christ4you.org - Christian Information Portal (ru)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test-file.pdf
Type: application/pdf
Size: 145422 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20041206/ddc5a64f/test-file-0001.pdf
From vvv at vsu.ru  Mon Dec  6 11:19:07 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon Dec  6 11:23:41 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <15310597331.20041206101121@yahoo.com> (victorgfu@yahoo.com's
	message of "Mon, 6 Dec 2004 10:11:21 +0200")
References: <501604570.20041203144829@yahoo.com>
	<87mzwvxziz.fsf@video.uic.vsu.ru>
	<15310597331.20041206101121@yahoo.com>
Message-ID: <874qizbug4.fsf@vvv.vsu.ru>

Greetings,

"v" == victorgfu  writes:

 v> Ok, in the attachment I am sending you the test file.

What you sent is a PDF file, but not the requested FULL, COMPLETE TeX
source file (PLUS THE LOG FILE). What you show below (some excerpts
from your document preamble?) do not qualify as a FULL TEST FILE.

Your report is still useless.

 v> in the source I have:

 v> \RequirePackage[perpage,ruled,para*]{manyfoot}
 v> \DeclareNewFootnote[para]{A} \DeclareNewFootnote[para]{B}

 v> \newcommand{\fnt}[1]{\footnotetextA{\gr{#1}}}

 v> \newcommand{\fn}[1]{% \leavevmode\unskip%
 v> \ifthenelse{\value{nxnotes} = 0}% first note in this chapter
 v> {\setcounter{nxnotes}{1}%
 v> \footnotetextA{{\gr\bfseries\thechnum:\scriptsize\thevsnum}\nobreakspace\gr{#1}}%
 v> }{%
 v> \footnotetextA{{\gr\bfseries\scriptsize\thevsnum}\nobreakspace\gr{#1}}%
 v> }%
 v> }

 v> \newcommand{\fnRNT}[1]{ \leavevmode\unskip%
 v> \ifthenelse{\value{nnotes} = 0}% first note in this chapter
 v> {\setcounter{nnotes}{1}%
 v> \footnotetextB{{\gr\bfseries\thechnum:\scriptsize\thevsnum}\nobreakspace\ru{#1}}%
 v> }{%
 v> \footnotetextB{{\gr\bfseries\scriptsize\thevsnum}\nobreakspace\ru{#1}}%
 v>         }
 v> }


 v> You wrote 3 ??????? 2004 ?., 15:49:24:

 >> Greetings,

 >> "v" == victorgfu writes:

 v> Dear developers, I can't use all the features of the manyfoot
 v> package, because when I set "para" constant, ii doesn't make the
 v> the footnotes running as one paragraph, like it was when you tried
 v> to compile the sources. So, by now I have to disable that function
 v> and am wasting a lot of paper space, because each footnote begins
 v> from new line.

 v> As I understand this is a BUG, because the TeXLive 2003 doesn't
 v> have this error. I tried to replace the footmisc and the ncctools
 v> packages with the old ones, but the result was the same
 v> frustration.  Thus, I conclude, that the LaTeX kernel has a bug.

 >> Without a specific (minimal) test file (plus the log file) which
 >> demonstrates the "bug", your report is useless.

Best,
v.

From tigran at aivazian.fsnet.co.uk  Mon Dec  6 12:20:41 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Mon Dec  6 12:45:06 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools
	package
In-Reply-To: <829359609.20041206094136@yahoo.com>
References: <501604570.20041203144829@yahoo.com>
	<Pine.LNX.4.61.0412031347130.3944@ezer.homenet>
	<829359609.20041206094136@yahoo.com>
Message-ID: <Pine.LNX.4.61.0412061110560.3550@ezer.homenet>

On Mon, 6 Dec 2004 victorgfu@yahoo.com wrote:
> Unfortunately, it didn't succeed, though I disabled almost all
> packages I use. You may take the sources at my home directory and
> compile some, and see home enabling option "para" afflicts the layout
> in TeXLive2004. Again I sould remind you, that in TeXLive2003 such a
> problem was absent, but the kernel speed is 30-40 times slower in my
> compilations, so the only way for me is to use the TeXLive2004 as it
> is, or wait for official release, but I doubt that this error would be
> fixed in this release.

Hi Victor,

In principle I could take the sources from your home directory and produce 
a small test file for you. But in practice that will have to wait until I 
have some spare time, which may be a very long time as you know how busy 
my schedule is. So it would be much faster if you do it yourself. Your 
test case should be self-contained, i.e. it should compile without any 
need for any external packages, except those which are normally present in 
TeX Live distribution.

Also, it would be nice if you could reproduce the problem without using 
Russian as some of the developers may not like having to edit text files 
encoded in cp1251.

Kind regards,
Tigran

From tigran at aivazian.fsnet.co.uk  Mon Dec  6 12:58:58 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Mon Dec  6 12:59:49 2004
Subject: [tex-live] how to embed mp3 into pdf using pdfTeX?
Message-ID: <Pine.LNX.4.61.0412061153590.3560@ezer.homenet>

Hello,

Is it possible to embed mp3 files (and make them playable from within 
Acrobat Reader) into a pdf file?

My guess is that I can use attachfile.sty (appropriately fixed by Vladimir 
Volovich and myself to handle mimetype correctly. I fixed attachfile.sty 
to store /Subtype as a name and not string and Vladimir provided a way to 
store #-encoded "/" character in the mimetype value) and just use file 
attachment annotation with the proper /Subtype. Then Acrobat Reader 
(maybe) will invoke external mp3 player when you click on it.

But what I am seeking is to use the Sound annotation and make Acrobat play 
mp3 files internally, without the need for external mp3 player. Is this 
possible? I.e. does Acrobat Reader contain a built-in mp3 player?

Kind regards
Tigran

PS. I cc'd tex-live because my emails to pdftex@tug.org seem to vanish 
into a black hole. So if you see this message on pdftex then you can 
safely remove tex-live from cc.

From victorgfu at yahoo.com  Mon Dec  6 08:41:36 2004
From: victorgfu at yahoo.com (victorgfu@yahoo.com)
Date: Mon Dec  6 14:27:09 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools
	package
In-Reply-To: <Pine.LNX.4.61.0412031347130.3944@ezer.homenet>
References: <501604570.20041203144829@yahoo.com>
	<Pine.LNX.4.61.0412031347130.3944@ezer.homenet>
Message-ID: <829359609.20041206094136@yahoo.com>

> Greetings Victor,

> What would help debug this problem is if you could produce a small 
> (minimalistic to remove the possibility that some other package is 
> affecting this) standalone sample which shows the problem and uploaded
> somewhere. If you want you can place it in your home directory on ginsburg
> server and I'll upload it to bibles.org.uk for you.
Unfortunately, it didn't succeed, though I disabled almost all
packages I use. You may take the sources at my home directory and
compile some, and see home enabling option "para" afflicts the layout
in TeXLive2004. Again I sould remind you, that in TeXLive2003 such a
problem was absent, but the kernel speed is 30-40 times slower in my
compilations, so the only way for me is to use the TeXLive2004 as it
is, or wait for official release, but I doubt that this error would be
fixed in this release.


> Kind regards
> Tigran





-- 
Blessings in Him,
Victor Zhuromsky,
Director of Grace Fellowship Ukraine Ministry

Tel. in Ukraine:
office +38-0412-330098
mobile +38-097-2198827 or +38-097-9302093
____________________________________________
Visit our websites at
http://solomonet.org - Grace Fellowship International (en)
http://Gracefellowshipintl.com - Grace Fellowship International (en)
http://gfu.christ4you.org - Grace Fellowship Ukraine Ministry (ru)
http://christ4you.org - Christian Information Portal (ru)

From karl at freefriends.org  Mon Dec  6 15:09:37 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Dec  6 15:11:34 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <874qizbug4.fsf@vvv.vsu.ru>
Message-ID: <200412061409.iB6E9bJ00451@f7.net>

    [...]
    Your report is still useless.

Please be polite to people submitting bug reports, even useless ones.
Many people don't understand how to submit bug reports, and that's
frustrating, but they are taking the time to (try to) help us, and we
need to encourage that.

Thanks,
karl

From vvv at vsu.ru  Mon Dec  6 15:10:21 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon Dec  6 15:16:24 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <200412061409.iB6E9bJ00451@f7.net> (Karl Berry's message of "Mon, 
	6 Dec 2004 09:09:37 -0500")
References: <200412061409.iB6E9bJ00451@f7.net>
Message-ID: <87zn0rwm9e.fsf@video.uic.vsu.ru>

"KB" == Karl Berry writes:

 KB>     [...]  Your report is still useless.

 KB> Please be polite to people submitting bug reports, even useless
 KB> ones.  Many people don't understand how to submit bug reports,
 KB> and that's frustrating, but they are taking the time to (try to)
 KB> help us, and we need to encourage that.

OK, sorry (i thought it was not impolite, - will try to use other
expressions next time :)

Best,
v.

From karl at freefriends.org  Mon Dec  6 16:04:18 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Dec  6 16:06:46 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <87zn0rwm9e.fsf@video.uic.vsu.ru>
Message-ID: <200412061504.iB6F4IR19754@f7.net>

    OK, sorry (i thought it was not impolite, - will try to use other
    expressions next time :)

No problem.  It was just strongly worded.
Starting by saying "thanks for the report" always helps :).
"[But we need to see the complete source file]"
(This guy seems to have a thick skin, anyway.)

FWIW, the GNU maintainers document has some reasonable (IMHO) advice
about dealing with mail, especially towards the end of the node.
http://www.gnu.org/prep/maintain/html_node/Mail.html

Cheers,
karl

From vvv at vsu.ru  Mon Dec  6 16:58:35 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon Dec  6 17:04:38 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <501604570.20041203144829@yahoo.com> (victorgfu@yahoo.com's
	message of "Fri, 3 Dec 2004 14:48:29 +0200")
References: <501604570.20041203144829@yahoo.com>
Message-ID: <87u0qzwh90.fsf@video.uic.vsu.ru>

Greetings Victor,

"v" == victorgfu  writes:

 v> Dear developers, I can't use all the features of the manyfoot
 v> package, because when I set "para" constant, ii doesn't make the
 v> the footnotes running as one paragraph, like it was when you tried
 v> to compile the sources. So, by now I have to disable that function
 v> and am wasting a lot of paper space, because each footnote begins
 v> from new line.

 v> As I understand this is a BUG, because the TeXLive 2003 doesn't
 v> have this error. I tried to replace the footmisc and the ncctools
 v> packages with the old ones, but the result was the same
 v> frustration.  Thus, I conclude, that the LaTeX kernel has a bug.

Thanks for sending the test files, which I have received.

However, I see that it is not a minimal test file. In particular, it
contains the makepdf script which does some things, and even the xii
executable.

Is it possible for you to prepare the SIMPLE latex test file, which
shows the buggy behavior when it is processed by pdflatex?

I.e., please prepare the latex source file, e.g. test.tex, which
should be processed. Please avoid usage of any scripts like makepdf or
executables like "xii". If you need any additional latex packages
(*.sty files), it's OK to include them, but having to depend on some
scripts or executables makes analysing the problem harder.

Best,
v.

From Alois.Steindl+e325 at tuwien.ac.at  Mon Dec  6 17:53:35 2004
From: Alois.Steindl+e325 at tuwien.ac.at (Alois Steindl)
Date: Mon Dec  6 18:08:36 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <87u0qzwh90.fsf@video.uic.vsu.ru>
References: <501604570.20041203144829@yahoo.com>
	<87u0qzwh90.fsf@video.uic.vsu.ru>
Message-ID: <200412061753.35882.Alois.Steindl+e325@tuwien.ac.at>

On Montag 06 Dezember 2004 16:58, Vladimir Volovich wrote:
> Greetings Victor,
>
> "v" == victorgfu  writes:
>
>  v> Dear developers, I can't use all the features of the manyfoot
>  v> package, because when I set "para" constant, ii doesn't make the
>  v> the footnotes running as one paragraph, like it was when you tried
>  v> to compile the sources. So, by now I have to disable that function
>  v> and am wasting a lot of paper space, because each footnote begins
>  v> from new line.
>
>  v> As I understand this is a BUG, because the TeXLive 2003 doesn't
>  v> have this error. I tried to replace the footmisc and the ncctools
>  v> packages with the old ones, but the result was the same
>  v> frustration.  Thus, I conclude, that the LaTeX kernel has a bug.
>
> Thanks for sending the test files, which I have received.
>
> However, I see that it is not a minimal test file. In particular, it
> contains the makepdf script which does some things, and even the xii
> executable.
>
> Is it possible for you to prepare the SIMPLE latex test file, which
> shows the buggy behavior when it is processed by pdflatex?
>
> I.e., please prepare the latex source file, e.g. test.tex, which
> should be processed. Please avoid usage of any scripts like makepdf or
> executables like "xii". If you need any additional latex packages
> (*.sty files), it's OK to include them, but having to depend on some
> scripts or executables makes analysing the problem harder.
>
> Best,
> v.
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live

From Alois.Steindl+e325 at tuwien.ac.at  Tue Dec  7 10:51:13 2004
From: Alois.Steindl+e325 at tuwien.ac.at (Alois Steindl)
Date: Tue Dec  7 10:53:11 2004
Subject: [tex-live] A bug in TeXLive 2004 in working with ncctools package
In-Reply-To: <200412061753.35882.Alois.Steindl+e325@tuwien.ac.at>
References: <501604570.20041203144829@yahoo.com>
	<87u0qzwh90.fsf@video.uic.vsu.ru>
	<200412061753.35882.Alois.Steindl+e325@tuwien.ac.at>
Message-ID: <200412071051.14042.Alois.Steindl+e325@tuwien.ac.at>

On Montag 06 Dezember 2004 17:53, Alois Steindl wrote:
[just citation of the previous mail]
Sorry, this must have been some strange accident; I didn't intend to send that 
mail. I do remember that I did press the reply bar accidently but have no 
idea why I did send the letter then.
Sorry for the wasted bandwidth
Alois

From rizika24 at yahoo.ca  Tue Dec  7 20:23:32 2004
From: rizika24 at yahoo.ca (Just Kaziri)
Date: Wed Dec  8 15:16:47 2004
Subject: [tex-live] running programs from texlive tlc2
Message-ID: <20041207192332.48098.qmail@web13202.mail.yahoo.com>

I bought the latex companion 2nd ed I can run most the programs they give with the cd except:
1.I can't include eps image but jpg are ok
2. examples on chapter 12 show this kind of error: PACKAGE NATBIB WARNING: CITATION "LGC97" ON PAGE 6 UNDEFINED ON INPUT LINE 31. I can write the bib file manually, use harvard of chicago style, i never get the bibliography!
 
Thanks
 
p.s. I am running the program on an athlon 2600 with windows xp pro but I don't thing this is a problem.





---------------------------------
L?che-vitrine ou l?che-?cran ? Yahoo! Magasinage.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20041207/9b9cd79e/attachment.htm
From aa056 at chebucto.ns.ca  Wed Dec  8 16:57:40 2004
From: aa056 at chebucto.ns.ca (George N. White III)
Date: Wed Dec  8 17:01:29 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
Message-ID: <Pine.LNX.4.61.0412081138510.29227@cerberus.cwmannwn.nowhere>

On Tue, 7 Dec 2004, Just Kaziri wrote:

> I bought the latex companion 2nd ed I can run most the programs they 
> give with the cd except:

> 1. I can't include eps image but jpg are ok

It is hard to help without more detail. Are you certain your "eps" files 
are what they claim?  Bad "eps" is a common source of problems.  One of 
the big advantages of working with pdftex is that shoddy (e?)ps files can 
still produce useful pdf images.

> 2. examples on chapter 12 show this kind of error: PACKAGE NATBIB 
>    WARNING: CITATION "LGC97" ON PAGE 6 UNDEFINED ON INPUT LINE 31. I can 
>    write the bib file manually, use harvard of chicago style, i never 
>    get the bibliography!
>
> p.s. I am running the program on an athlon 2600 with windows xp pro but 
> I don't thing this is a problem.

How do you define "problem"?  I know several heavy TeX users running the 
same software under WinXP without problems, but a) Win32 is full of traps 
for unwary users, and b) few TeX maintainers use Win32, so TeX may not do 
everything possible to accomodate the Win32 environment.

Watch for things like double extensions, non-ascii glyphs, and spaces in 
filenames.  Because Windows can be configured to hide extensions it is a 
common mistake to create file.bib.txt or file.bib.bib when you wanted 
file.bib.  TeX was created in an era where filenames did not contain 
"special" characters or spaces.  People have been working to support file 
and directory names found on Win32, but it is all to easy to miss 
something, particularly if you are used to working on systems with more
restrictive conventions.

If this is your difficulty, you have the option of fixing the
bus/features of TeX or learning to work with them.

-- 
George N. White III  <aa056@chebucto.ns.ca>

From tigran at aivazian.fsnet.co.uk  Wed Dec  8 22:45:28 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Wed Dec  8 22:46:16 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
Message-ID: <Pine.LNX.4.61.0412082136420.4415@ezer.homenet>

On Tue, 7 Dec 2004, Just Kaziri wrote:
> p.s. I am running the program on an athlon 2600 with windows xp pro but 
> I don't thing this is a problem.

Hehe, you are very optimistic! :)

I have seen some reasonably complex books typeset in LaTeX which can take 
about a month of computer time to be processed under Windows Xp on a 2GHz 
with 1G RAM machine and took only a few hours on a Linux Celeron 600MHz 
with 256M RAM.

So, the Windows OS can make things tens if not hundreds of times slower 
(and I am not some "script-kiddie" Linux zealot child but professional 
programmer who spent 11 years on operating systems development and I 
personally don't care what OS the computer runs, as long as it does the 
job.

Shalom
Tigran

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Dec  8 22:48:39 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Dec  8 22:54:05 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
Message-ID: <41B776B7.7000906@computing-services.oxford.ac.uk>

Tigran Aivazian wrote:

> I have seen some reasonably complex books typeset in LaTeX which can 
> take about a month of computer time to be processed under Windows Xp 
> on a 2GHz with 1G RAM machine and took only a few hours on a Linux 
> Celeron 600MHz with 256M RAM.
>
I can't imagine what your books are like. I have been typesetting books 
for 20 years using LaTeX and I can't recall a LaTeX run for more than
an hour. I count 10 minutes these days as a really big TeX job.

> So, the Windows OS can make things tens if not hundreds of times slower

I find that a fairly extraordinary claim. What do you suggest the 
operating system may be doing
to hold up the processor, the disk, and the memory by that much? I have 
to assume that your LaTeX job
which takes so long is "computing", rather gthen vast amounts of disk access

-- 
Sebastian Rahtz      
Information Manager, Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431

OSS Watch: JISC Open Source Advisory Service
http://www.oss-watch.ac.uk

From markus.kohm at gmx.de  Thu Dec  9 09:10:36 2004
From: markus.kohm at gmx.de (Markus Kohm)
Date: Thu Dec  9 09:18:54 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
Message-ID: <200412090910.36327@KOMA020467>

Am Mittwoch, 8. Dezember 2004 22:45 schrieb Tigran Aivazian:
> I have seen some reasonably complex books typeset in LaTeX which can take
> about a month of computer time to be processed under Windows Xp on a 2GHz
> with 1G RAM machine and took only a few hours on a Linux Celeron 600MHz
> with 256M RAM.

- You should not use the drive with the system partition of a Windows server 
for data partitions.
- You should check dma settings of the drive with the data partition.

Markus

From pragma at wxs.nl  Thu Dec  9 09:52:17 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 09:54:19 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
Message-ID: <41B81241.20102@wxs.nl>

Tigran Aivazian wrote:

> So, the Windows OS can make things tens if not hundreds of times slower 
> (and I am not some "script-kiddie" Linux zealot child but professional 
> programmer who spent 11 years on operating systems development and I 
> personally don't care what OS the computer runs, as long as it does the 
> job.

i use windows (2000 and xp) as well as linux and if your tex is configured 
right, there is no difference in speed (after all, tex is not doing that much); 
there may be differneces due to caching of files (on both systems the first run 
is slower than successive ones); on windows, some jobs may even be faster (like 
runtime metapost/tex processing) due to the fact that kpse stays in memory

so, if you run into 10-100 slower jobs on windows, there must be something 
terribly messed up in your setup

we run pretty complex (and huge) books here but they seldom take the 
months/many-hours you mention

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Dec  9 10:14:04 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Dec  9 10:19:29 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <200412090910.36327@KOMA020467>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<200412090910.36327@KOMA020467>
Message-ID: <41B8175C.7060706@computing-services.oxford.ac.uk>

Markus Kohm wrote:

>- You should check dma settings of the drive with the data partition.
>  
>
this is surely independent of Linux v. Windows?

sebastian

From pragma at wxs.nl  Thu Dec  9 11:33:28 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 11:35:29 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B8175C.7060706@computing-services.oxford.ac.uk>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<200412090910.36327@KOMA020467>
	<41B8175C.7060706@computing-services.oxford.ac.uk>
Message-ID: <41B829F8.2050001@wxs.nl>

Sebastian Rahtz wrote:
> Markus Kohm wrote:
> 
>> - You should check dma settings of the drive with the data partition.
>>  
>>
> this is surely independent of Linux v. Windows?

indeed; also, normally windows will set it automatically

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 11:50:41 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 11:51:31 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B776B7.7000906@computing-services.oxford.ac.uk>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.61.0412091040450.3130@ezer.homenet>

On Wed, 8 Dec 2004, Sebastian Rahtz wrote:

> Tigran Aivazian wrote:
>
>> I have seen some reasonably complex books typeset in LaTeX which can take 
>> about a month of computer time to be processed under Windows Xp on a 2GHz 
>> with 1G RAM machine and took only a few hours on a Linux Celeron 600MHz 
>> with 256M RAM.
>> 
> I can't imagine what your books are like. I have been typesetting books for 
> 20 years using LaTeX and I can't recall a LaTeX run for more than
> an hour. I count 10 minutes these days as a really big TeX job.

books with Hebrew or/and "interlinear" (bilingual) layout do take an awful 
long time to typeset. My Hebrew OT takes 1 hour to process on Celeron 
600MHz 256M RAM but only 9.5 minutes on x86_64 2x4GHz 1G RAM (using 
natice 64bit binaries).

>
>> So, the Windows OS can make things tens if not hundreds of times slower
>
> I find that a fairly extraordinary claim. What do you suggest the operating 
> system may be doing
> to hold up the processor, the disk, and the memory by that much? I have to 
> assume that your LaTeX job
> which takes so long is "computing", rather gthen vast amounts of disk access

actually, there was a tiny little "white" lie in there :)

i.e. in reality, it was a _combination_ of several factors. Someone 
(Victor Zhuromsky) complained that his Interlinear Russian-Greek NT takes 
about a month to do all three passes on a reasonably fast Windows machine 
(the one I mentioned). He asked me to have a look. I tried his sources on 
my very very slow Celeron 600MHz 256M RAM and it was painfully slow but 
the progress it was making I estimated the completion at about 3-3.5 
hours, which was still a lot better than Windows.

Then I had a look at his sources and noticed that he is not making any 
paragraphs but only explicit line breaks \\ and manual indentation to 
simulate paragraphs (which makes TeX very slow). So I fixed this and the 
resulting sources passed all three passes (it has to pass three times in 
his case) within a matter of an hour or so.

So, the above story I "averaged" as "1 month -> 1 hour" conversion, 
skipping some details :)

Kind regards
Tigran

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 12:12:33 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 12:13:28 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
Message-ID: <Pine.LNX.4.61.0412091108250.3261@ezer.homenet>

just checked my email archives and found another inaccuracy --- it wasn't 
actually 1 month on Windows but a "mere" 3-4 days :)

Ok, so the absolute final truth is:

1. with no changes to the sources, switching from 2.2GHz Windows to 600MHz 
Linux results in a speed up from 3-4 days to 3.5 hours.

2. with trivial source changes it speeds up to 1 hour on Linux (or 1 day 
on Windows).

So, instead of saying "Linux is faster than Windows by hundreds" of times 
I should have checked my emails and and told only the facts --- it is only 
24 times faster (ignoring the 2.2GHz -> 600MHz, i.e. excusing Windows for 
using 2.2GHz machine as if it was only 600MHz).

Kind regards
Tigran

On Thu, 9 Dec 2004, Tigran Aivazian wrote:

> On Wed, 8 Dec 2004, Sebastian Rahtz wrote:
>
>> Tigran Aivazian wrote:
>> 
>>> I have seen some reasonably complex books typeset in LaTeX which can take 
>>> about a month of computer time to be processed under Windows Xp on a 2GHz 
>>> with 1G RAM machine and took only a few hours on a Linux Celeron 600MHz 
>>> with 256M RAM.
>>> 
>> I can't imagine what your books are like. I have been typesetting books for 
>> 20 years using LaTeX and I can't recall a LaTeX run for more than
>> an hour. I count 10 minutes these days as a really big TeX job.
>
> books with Hebrew or/and "interlinear" (bilingual) layout do take an awful 
> long time to typeset. My Hebrew OT takes 1 hour to process on Celeron 600MHz 
> 256M RAM but only 9.5 minutes on x86_64 2x4GHz 1G RAM (using natice 64bit 
> binaries).
>
>> 
>>> So, the Windows OS can make things tens if not hundreds of times slower
>> 
>> I find that a fairly extraordinary claim. What do you suggest the operating 
>> system may be doing
>> to hold up the processor, the disk, and the memory by that much? I have to 
>> assume that your LaTeX job
>> which takes so long is "computing", rather gthen vast amounts of disk 
>> access
>
> actually, there was a tiny little "white" lie in there :)
>
> i.e. in reality, it was a _combination_ of several factors. Someone (Victor 
> Zhuromsky) complained that his Interlinear Russian-Greek NT takes about a 
> month to do all three passes on a reasonably fast Windows machine (the one I 
> mentioned). He asked me to have a look. I tried his sources on my very very 
> slow Celeron 600MHz 256M RAM and it was painfully slow but the progress it 
> was making I estimated the completion at about 3-3.5 hours, which was still a 
> lot better than Windows.
>
> Then I had a look at his sources and noticed that he is not making any 
> paragraphs but only explicit line breaks \\ and manual indentation to 
> simulate paragraphs (which makes TeX very slow). So I fixed this and the 
> resulting sources passed all three passes (it has to pass three times in his 
> case) within a matter of an hour or so.
>
> So, the above story I "averaged" as "1 month -> 1 hour" conversion, skipping 
> some details :)
>
> Kind regards
> Tigran
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 12:23:42 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 12:24:29 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
Message-ID: <Pine.LNX.4.61.0412091118110.3261@ezer.homenet>

to be absolutely 100% precise I should perhaps have mentioned that by 
"Linux" I don't mean "some common distribution installed by a dummy user" 
but a properly optimized Linux system (both kernel and userspace) done by 
someone who spent several years in active Linux kernel development. I 
didn't mention this in the beginning because I thought it would sound like 
boasting and that was not my purpose.

But, on the other hand, I also optimized other people's Linux machines and 
this usually resulted between 2 and 4 times (yes 400%) performance 
increase, so to be fair I should have mentioned that my Celeron 600MHz 
Linux is actually faster than many people's 1.2-1.4GHz machines even if 
they run Linux...

On Thu, 9 Dec 2004, Tigran Aivazian wrote:

> just checked my email archives and found another inaccuracy --- it wasn't 
> actually 1 month on Windows but a "mere" 3-4 days :)
>
> Ok, so the absolute final truth is:
>
> 1. with no changes to the sources, switching from 2.2GHz Windows to 600MHz 
> Linux results in a speed up from 3-4 days to 3.5 hours.
>
> 2. with trivial source changes it speeds up to 1 hour on Linux (or 1 day on 
> Windows).
>
> So, instead of saying "Linux is faster than Windows by hundreds" of times I 
> should have checked my emails and and told only the facts --- it is only 24 
> times faster (ignoring the 2.2GHz -> 600MHz, i.e. excusing Windows for using 
> 2.2GHz machine as if it was only 600MHz).
>
> Kind regards
> Tigran
>
> On Thu, 9 Dec 2004, Tigran Aivazian wrote:
>
>> On Wed, 8 Dec 2004, Sebastian Rahtz wrote:
>> 
>>> Tigran Aivazian wrote:
>>> 
>>>> I have seen some reasonably complex books typeset in LaTeX which can take 
>>>> about a month of computer time to be processed under Windows Xp on a 2GHz 
>>>> with 1G RAM machine and took only a few hours on a Linux Celeron 600MHz 
>>>> with 256M RAM.
>>>> 
>>> I can't imagine what your books are like. I have been typesetting books 
>>> for 20 years using LaTeX and I can't recall a LaTeX run for more than
>>> an hour. I count 10 minutes these days as a really big TeX job.
>> 
>> books with Hebrew or/and "interlinear" (bilingual) layout do take an awful 
>> long time to typeset. My Hebrew OT takes 1 hour to process on Celeron 
>> 600MHz 256M RAM but only 9.5 minutes on x86_64 2x4GHz 1G RAM (using natice 
>> 64bit binaries).
>> 
>>> 
>>>> So, the Windows OS can make things tens if not hundreds of times slower
>>> 
>>> I find that a fairly extraordinary claim. What do you suggest the 
>>> operating system may be doing
>>> to hold up the processor, the disk, and the memory by that much? I have to 
>>> assume that your LaTeX job
>>> which takes so long is "computing", rather gthen vast amounts of disk 
>>> access
>> 
>> actually, there was a tiny little "white" lie in there :)
>> 
>> i.e. in reality, it was a _combination_ of several factors. Someone (Victor 
>> Zhuromsky) complained that his Interlinear Russian-Greek NT takes about a 
>> month to do all three passes on a reasonably fast Windows machine (the one 
>> I mentioned). He asked me to have a look. I tried his sources on my very 
>> very slow Celeron 600MHz 256M RAM and it was painfully slow but the 
>> progress it was making I estimated the completion at about 3-3.5 hours, 
>> which was still a lot better than Windows.
>> 
>> Then I had a look at his sources and noticed that he is not making any 
>> paragraphs but only explicit line breaks \\ and manual indentation to 
>> simulate paragraphs (which makes TeX very slow). So I fixed this and the 
>> resulting sources passed all three passes (it has to pass three times in 
>> his case) within a matter of an hour or so.
>> 
>> So, the above story I "averaged" as "1 month -> 1 hour" conversion, 
>> skipping some details :)
>> 
>> Kind regards
>> Tigran
>> 
>> _______________________________________________
>> TeX Live mailing list
>> http://tug.org/mailman/listinfo/tex-live
>> 
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Dec  9 12:41:37 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Dec  9 12:47:00 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
Message-ID: <41B839F1.8050209@computing-services.oxford.ac.uk>

Sounds to me like one of the Microsoft FUD briefings!

So you, a Linux expert, were able to speed up the system by a
noticeable factor compared to a standard Windows install?
Surely you need to compare "red hat out of the box"
with "Windows XP out of the box"? Or else find someone
with Windows expertise comparable to your Linux expertise
to tweak the Windows?

I am somewhat gobsmacked to find myself defending Windows....

Anyway, I am _still_ puzzled by these huge LaTeX runs. Since
I started with TeX in the mid 80s on floppy disks, I don't
think I have _ever_ seen a TeX run take more than an hour.

The TeX book takes 3 seconds on this box, and generates 483 pages.
Lets assume that your whatever bible has approx the same number
of final pages, and takes 3 hours. That means your macros are
*3 and a half thousand* times more complicated than Knuth's.
I just cannot conceive what they are doing!

Sebastian

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 12:58:00 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 12:58:47 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B839F1.8050209@computing-services.oxford.ac.uk>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.61.0412091152270.3261@ezer.homenet>

On Thu, 9 Dec 2004, Sebastian Rahtz wrote:
> Anyway, I am _still_ puzzled by these huge LaTeX runs. Since
> I started with TeX in the mid 80s on floppy disks, I don't
> think I have _ever_ seen a TeX run take more than an hour.
>
> The TeX book takes 3 seconds on this box, and generates 483 pages.
> Lets assume that your whatever bible has approx the same number
> of final pages, and takes 3 hours. That means your macros are
> *3 and a half thousand* times more complicated than Knuth's.
> I just cannot conceive what they are doing!

Sebastian, you are very welcome to have an ssh account on my development 
box and try it for yourself (if/when you have spare time).

All you need to do is to email me (privately) with your static IP address 
(so I enable the firewall to pass you through) and what you want your 
login name to be.

Alternatively I can send the source code of the most complex of my Bibles 
(Hebrew OT) but in order to compile it you need Tiqwah by Yannis 
Haralambous (plus Tiqwah Type 1 fonts which I produced, but these I'll 
send you if you have Tiqwah already). I can't send Tiqwah to anyone 
because I promised Yannis. And you can't copy Tiqwah out of my box because 
it is "hardwired" to only run on it.

Then you can have a look and see if you can speed it up or explain why it 
is taking so long.

Of course I know that you are extremely busy with your responsibilities 
and there are more important things to do, but there is a chance that 
it is a genuine TeX or LaTeX bug which only shows up in my Bibles --- 
in the past I did discover obscure bugs, so it is a possibility...

Kind regards
Tigran

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 13:06:07 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 13:07:09 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
Message-ID: <Pine.LNX.4.61.0412091204190.3261@ezer.homenet>

also, when I mentioned 1 hour I counted the time it takes for all _three_ 
runs, not a single run. Assuming each run taking the same amount of time 
it means a single pdfLaTeX run on Hebrew OT takes only about 20 minutes 
(on 600MHz Celeron).

On Thu, 9 Dec 2004, Tigran Aivazian wrote:

> On Thu, 9 Dec 2004, Sebastian Rahtz wrote:
>> Anyway, I am _still_ puzzled by these huge LaTeX runs. Since
>> I started with TeX in the mid 80s on floppy disks, I don't
>> think I have _ever_ seen a TeX run take more than an hour.
>> 
>> The TeX book takes 3 seconds on this box, and generates 483 pages.
>> Lets assume that your whatever bible has approx the same number
>> of final pages, and takes 3 hours. That means your macros are
>> *3 and a half thousand* times more complicated than Knuth's.
>> I just cannot conceive what they are doing!
>
> Sebastian, you are very welcome to have an ssh account on my development box 
> and try it for yourself (if/when you have spare time).
>
> All you need to do is to email me (privately) with your static IP address (so 
> I enable the firewall to pass you through) and what you want your login name 
> to be.
>
> Alternatively I can send the source code of the most complex of my Bibles 
> (Hebrew OT) but in order to compile it you need Tiqwah by Yannis Haralambous 
> (plus Tiqwah Type 1 fonts which I produced, but these I'll send you if you 
> have Tiqwah already). I can't send Tiqwah to anyone because I promised 
> Yannis. And you can't copy Tiqwah out of my box because it is "hardwired" to 
> only run on it.
>
> Then you can have a look and see if you can speed it up or explain why it is 
> taking so long.
>
> Of course I know that you are extremely busy with your responsibilities and 
> there are more important things to do, but there is a chance that it is a 
> genuine TeX or LaTeX bug which only shows up in my Bibles --- in the past I 
> did discover obscure bugs, so it is a possibility...
>
> Kind regards
> Tigran
>

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Dec  9 13:27:56 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Dec  9 13:33:20 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
Message-ID: <41B844CC.6000204@computing-services.oxford.ac.uk>

I'll pass on the chance to read your code, thanks :-} You need a macro 
expert,
not a dilettante like me.

sebastian

From dak at gnu.org  Thu Dec  9 14:05:46 2004
From: dak at gnu.org (David Kastrup)
Date: Thu Dec  9 14:07:46 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B844CC.6000204@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Thu, 09 Dec 2004 12:27:56 +0000")
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
Message-ID: <x53byfvcyd.fsf@lola.goethe.zz>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:

> I'll pass on the chance to read your code, thanks :-} You need a
> macro expert, not a dilettante like me.

Well, if the incriminated code is from Yannis, it would seem that he
already had an expert have a go on it.  That does not mean that the
stuff is necessarily done in the best possible way, but it could well
be that there is no reasonably obvious way to achieve the same thing
more efficiently.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From Alois.Steindl+e325 at tuwien.ac.at  Thu Dec  9 12:45:37 2004
From: Alois.Steindl+e325 at tuwien.ac.at (Alois Steindl)
Date: Thu Dec  9 14:07:58 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091118110.3261@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>	<41B776B7.7000906@computing-services.oxford.ac.uk>	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<Pine.LNX.4.61.0412091118110.3261@ezer.homenet>
Message-ID: <41B83AE1.4060800@tuwien.ac.at>

Hello,
it seems quite impossible for me to guess the reason for this 
unbelievable difference.
Maybe you could provide a "minimal" test case, which needs say 5 minutes 
with Windows.
Then other users could try to find out whether it is a "system" or just 
"settings" difference.
Alois


From tigran at aivazian.fsnet.co.uk  Thu Dec  9 14:19:44 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 14:20:32 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <x53byfvcyd.fsf@lola.goethe.zz>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
Message-ID: <Pine.LNX.4.61.0412091317500.3416@ezer.homenet>

On Thu, 9 Dec 2004, David Kastrup wrote:

> Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:
>
>> I'll pass on the chance to read your code, thanks :-} You need a
>> macro expert, not a dilettante like me.
>
> Well, if the incriminated code is from Yannis, it would seem that he
> already had an expert have a go on it.  That does not mean that the
> stuff is necessarily done in the best possible way, but it could well
> be that there is no reasonably obvious way to achieve the same thing
> more efficiently.

Yes, it is true that the Hebrew typesetting is extremely "slow" even if I 
disable completely all my macros for specific layout, i.e. just plain 
typeset pieces of text (with vowels and accents of course).

So, due to the complexity of the underlying model (anyone who have read 
Yannis' paper on Hebrew Bible typesetting knows this) it is probable that 
there is no easy way to do it faster...

Kind regards
Tigran

From aa056 at chebucto.ns.ca  Thu Dec  9 14:31:17 2004
From: aa056 at chebucto.ns.ca (George N. White III)
Date: Thu Dec  9 14:34:19 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
Message-ID: <Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>

On Thu, 9 Dec 2004, Tigran Aivazian wrote:

> On Thu, 9 Dec 2004, David Kastrup wrote:
>
>> Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:
>> 
>>> I'll pass on the chance to read your code, thanks :-} You need a
>>> macro expert, not a dilettante like me.
>> 
>> Well, if the incriminated code is from Yannis, it would seem that he
>> already had an expert have a go on it.  That does not mean that the
>> stuff is necessarily done in the best possible way, but it could well
>> be that there is no reasonably obvious way to achieve the same thing
>> more efficiently.
>
> Yes, it is true that the Hebrew typesetting is extremely "slow" even if I 
> disable completely all my macros for specific layout, i.e. just plain typeset 
> pieces of text (with vowels and accents of course).
>
> So, due to the complexity of the underlying model (anyone who have read 
> Yannis' paper on Hebrew Bible typesetting knows this) it is probable that 
> there is no easy way to do it faster...

Still, regardless of the code, enormous differences in processing speed 
between linux and Win32 are surprising and suggest some serious hardware 
or configuration problem.

Are these differences apparent for other documents or only Hebrew?

Benchmarks such as you see in magazines aren't much help choosing
systems, but can be useful diagnostic tools when a particular machine
is shown to perform well below expected levels.  I've used them that
way a few times to prove to vendors that their hardware had problems --
usually resulting in swapping components until the system came up to
par.

--
George N. White III  <aa056@chebucto.ns.ca>
   Head of St. Margarets Bay, Nova Scotia, Canada

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 14:39:29 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 14:40:20 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
	<Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>
Message-ID: <Pine.LNX.4.61.0412091336410.3537@ezer.homenet>

On Thu, 9 Dec 2004, George N. White III wrote:
> Are these differences apparent for other documents or only Hebrew?

there were two separate things we were talking about:

a) "slow" processing of my Hebrew OT. This is only on Linux as I don't use 
Windows (except when I need to print to a Linux-unsupported printer or 
test that my PDF files are viewable in Adobe products under Windows)

b) Victor's interlinear Russian-Greek New Testament processing very slowly 
under Windows and reasonably fast (imho) under Linux. This has no Hebrew 
in it at all, so it doesn't use Yannis' Tiqwah system.

Kind regards
Tigran

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 14:48:32 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 14:49:19 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
Message-ID: <Pine.LNX.4.61.0412091345490.3537@ezer.homenet>

btw, I put "slow" in quotes because there is NOTHING out there to compare 
Tiqwah against. Indeed, in this sense Tiqwah is unique because there is no 
system capable of correctly typesetting Hebrew with both vowels and 
accents. This remained so since the 80s when Yannis Haralambous wrote 
Tiqwah.

This should be a challenge to anyone who understands these issues --- to 
write a free replacement of the Tiqwah system. I like Tiqwah very much and 
put a lot of effort (e.g. wrote an extra preprocessor layer) to adapt my 
stuff to it, but I'll gladly throw it all away if there is an open-source 
alternative...

Kind regards
Tigran

On Thu, 9 Dec 2004, Tigran Aivazian wrote:

> On Thu, 9 Dec 2004, David Kastrup wrote:
>
>> Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:
>> 
>>> I'll pass on the chance to read your code, thanks :-} You need a
>>> macro expert, not a dilettante like me.
>> 
>> Well, if the incriminated code is from Yannis, it would seem that he
>> already had an expert have a go on it.  That does not mean that the
>> stuff is necessarily done in the best possible way, but it could well
>> be that there is no reasonably obvious way to achieve the same thing
>> more efficiently.
>
> Yes, it is true that the Hebrew typesetting is extremely "slow" even if I 
> disable completely all my macros for specific layout, i.e. just plain typeset 
> pieces of text (with vowels and accents of course).
>
> So, due to the complexity of the underlying model (anyone who have read 
> Yannis' paper on Hebrew Bible typesetting knows this) it is probable that 
> there is no easy way to do it faster...
>
> Kind regards
> Tigran
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From Fabrice.Popineau at supelec.fr  Thu Dec  9 14:54:44 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Dec  9 14:56:52 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca> (George
	N. White, III's message of "Thu, 09 Dec 2004 09:31:17 -0400")
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
	<Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>
Message-ID: <d5xj60gr.fsf@esemetz.metz.supelec.fr>


> Still, regardless of the code, enormous differences in processing speed
> between linux and Win32 are surprising and suggest some serious hardware or
> configuration problem.

> Are these differences apparent for other documents or only Hebrew?

Sorry, but all this stuff is just unbelievable. I used to do profiling on TeX on
win32 just to be sure that there were no place where it could be made
faster. TeX is not system dependent as soon as you use native binaries. The only
case where you can find a significantly slower TeX is when you use djgpp
binaries under windows. If you use either miktex or web2c natively compiled,
I see no reason why it should run slower under win32 than TeX under linux under
the same hardware assumptions. Kernel has nothing to do here. Even the C library
is not heavily involved in the logs I got from profiling.

Fabrice


From dak at gnu.org  Thu Dec  9 15:25:46 2004
From: dak at gnu.org (David Kastrup)
Date: Thu Dec  9 15:27:47 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <d5xj60gr.fsf@esemetz.metz.supelec.fr> (Fabrice Popineau's
	message of "Thu, 09 Dec 2004 14:54:44 +0100")
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
	<Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>
	<d5xj60gr.fsf@esemetz.metz.supelec.fr>
Message-ID: <x5ekhztuol.fsf@lola.goethe.zz>

Fabrice Popineau <Fabrice.Popineau@supelec.fr> writes:

>> Still, regardless of the code, enormous differences in processing
>> speed between linux and Win32 are surprising and suggest some
>> serious hardware or configuration problem.
>
>> Are these differences apparent for other documents or only Hebrew?
>
> Sorry, but all this stuff is just unbelievable. I used to do
> profiling on TeX on win32 just to be sure that there were no place
> where it could be made faster. TeX is not system dependent as soon
> as you use native binaries. The only case where you can find a
> significantly slower TeX is when you use djgpp binaries under
> windows. If you use either miktex or web2c natively compiled, I see
> no reason why it should run slower under win32 than TeX under linux
> under the same hardware assumptions. Kernel has nothing to do
> here. Even the C library is not heavily involved in the logs I got
> from profiling.

Well, a few things I could imagine:

a) different executables: one version eTeX-based, one version
   TeX-based, and the latter uses slower code.
b) Heavily I/O bound operations, like writing temporary data out to a
   file on a per-line or per-character base and immediately reading it
   back in again.  Probably avoidable with eTeX's token reparsing
   operations.
c) The same in connection with a defective operation of the file name
   data base.

In all of those possibly OS-dependent cases (except for some
variations of a) I can think of, however, the generated .log file
would become very large, and cutting out a "typical" passage from it
should give a good first pointer about what might be contributing
towards the slowdown (file operations are usually visible in the log).
And even the eTeX-or-not question is answered by the start of the log
file.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From pragma at wxs.nl  Thu Dec  9 15:41:02 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 15:43:01 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
Message-ID: <41B863FE.4030108@wxs.nl>

Tigran Aivazian wrote:

> So, instead of saying "Linux is faster than Windows by hundreds" of 
> times I should have checked my emails and and told only the facts --- it 
> is only 24 times faster (ignoring the 2.2GHz -> 600MHz, i.e. excusing 
> Windows for using 2.2GHz machine as if it was only 600MHz).

even 24 is not possible if you use the same versions of binaries and macros; 
since you're talking about hebrew, do you use omega? if so, do you run the same 
versions on both platforms? omega is well know for performance differences 
between versions (apart from bugs and buffer overflows)

if you use omega, consider dropping that and try aleph

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 15:45:57 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 15:46:45 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B863FE.4030108@wxs.nl>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B863FE.4030108@wxs.nl>
Message-ID: <Pine.LNX.4.61.0412091443460.3870@ezer.homenet>

On Thu, 9 Dec 2004, Hans Hagen wrote:
> even 24 is not possible if you use the same versions of binaries and macros; 
> since you're talking about hebrew, do you use omega? if so, do you run the 
> same versions on both platforms? omega is well know for performance 
> differences between versions (apart from bugs and buffer overflows)
>
> if you use omega, consider dropping that and try aleph

I use neither omega, nor aleph. I use pdfLaTeX based on eTeX. The only 
eTeX thing I explicitly use is:

\TeXXeTstate=1

this enables right-to-left processing and everything works fine. You can 
see the output tnk.pdf here:

    http://www.bibles.org.uk/pdf/bibles

The PDF file contains it's own source code as a file attachment (but only 
the text source, not the .sty macros etc). But full source code is also 
available of course.

Kind regards
Tigran

From pragma at wxs.nl  Thu Dec  9 15:48:01 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 15:50:02 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B839F1.8050209@computing-services.oxford.ac.uk>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
Message-ID: <41B865A1.3040703@wxs.nl>

Sebastian Rahtz wrote:

> The TeX book takes 3 seconds on this box, and generates 483 pages.
> Lets assume that your whatever bible has approx the same number
> of final pages, and takes 3 hours. That means your macros are
> *3 and a half thousand* times more complicated than Knuth's.
> I just cannot conceive what they are doing!

\def\LetsPunishWindowsUsers
   {\begingroup \batchmode
    \font\linuxonly=fontonlyavailableonlinux
    \endgroup}

\everypar{\LetsPunishWindowsUsers}

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Thu Dec  9 15:52:39 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 15:54:38 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <x5ekhztuol.fsf@lola.goethe.zz>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
	<Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>
	<d5xj60gr.fsf@esemetz.metz.supelec.fr>
	<x5ekhztuol.fsf@lola.goethe.zz>
Message-ID: <41B866B7.3020108@wxs.nl>

David Kastrup wrote:

> b) Heavily I/O bound operations, like writing temporary data out to a
>    file on a per-line or per-character base and immediately reading it
>    back in again.  Probably avoidable with eTeX's token reparsing
>    operations.

normally this is no problem, unless network connected disks are used and even 
then, caching quite good on windows; (ok, if one uses xfs on linux then files 
with a short live time never reach the disk, but then, journaling slows down the 
lot, so in practice it should not matter)

> c) The same in connection with a defective operation of the file name
>    data base.
> 
> In all of those possibly OS-dependent cases (except for some
> variations of a) I can think of, however, the generated .log file
> would become very large, and cutting out a "typical" passage from it
> should give a good first pointer about what might be contributing
> towards the slowdown (file operations are usually visible in the log).
> And even the eTeX-or-not question is answered by the start of the log
> file.

d) logging to the terminal coul dplay a role, large scroll back buffers combined 
with outline fonts can be slow (although i only encountered this a sproblem on 
linux)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From dak at gnu.org  Thu Dec  9 15:53:57 2004
From: dak at gnu.org (David Kastrup)
Date: Thu Dec  9 15:55:55 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B865A1.3040703@wxs.nl> (Hans Hagen's message of "Thu, 09 Dec
	2004 15:48:01 +0100")
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<41B865A1.3040703@wxs.nl>
Message-ID: <x5acsnttdm.fsf@lola.goethe.zz>

Hans Hagen <pragma@wxs.nl> writes:

> Sebastian Rahtz wrote:
>
>> The TeX book takes 3 seconds on this box, and generates 483 pages.
>> Lets assume that your whatever bible has approx the same number
>> of final pages, and takes 3 hours. That means your macros are
>> *3 and a half thousand* times more complicated than Knuth's.
>> I just cannot conceive what they are doing!
>
> \def\LetsPunishWindowsUsers
>    {\begingroup \batchmode
>     \font\linuxonly=fontonlyavailableonlinux
>     \endgroup}
>
> \everypar{\LetsPunishWindowsUsers}

\batchmode is not susceptible to grouping.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From pragma at wxs.nl  Thu Dec  9 15:57:27 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 15:59:23 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
Message-ID: <41B867D7.8050905@wxs.nl>

Tigran Aivazian wrote:

> books with Hebrew or/and "interlinear" (bilingual) layout do take an 
> awful long time to typeset. My Hebrew OT takes 1 hour to process on 
> Celeron 600MHz 256M RAM but only 9.5 minutes on x86_64 2x4GHz 1G RAM 
> (using natice 64bit binaries).

fyi: 64 bit is some 25% faster than 32 bit, and even then, not all of the 
os-code is 64bit; dual processors don't make a difference for tex(quite a big 
machine btw, dual 4 gig processors)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Thu Dec  9 16:02:27 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 16:04:28 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091443460.3870@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B863FE.4030108@wxs.nl>
	<Pine.LNX.4.61.0412091443460.3870@ezer.homenet>
Message-ID: <41B86903.5020200@wxs.nl>

Tigran Aivazian wrote:

> The PDF file contains it's own source code as a file attachment (but 
> only the text source, not the .sty macros etc). But full source code is 
> also available of course.

since the layout is rather simple, tex spends most time constructing the text; 
so my guess is "inefficient macros"

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Thu Dec  9 16:07:36 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Dec  9 16:09:32 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <x5acsnttdm.fsf@lola.goethe.zz>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<41B865A1.3040703@wxs.nl> <x5acsnttdm.fsf@lola.goethe.zz>
Message-ID: <41B86A38.3060906@wxs.nl>

David Kastrup wrote:

> \batchmode is not susceptible to grouping.

yeah, i should have used an \errorstopmode as well -)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 16:08:58 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 16:09:47 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B866B7.3020108@wxs.nl>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B839F1.8050209@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>
	<41B844CC.6000204@computing-services.oxford.ac.uk>
	<x53byfvcyd.fsf@lola.goethe.zz>
	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>
	<Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>
	<d5xj60gr.fsf@esemetz.metz.supelec.fr>
	<x5ekhztuol.fsf@lola.goethe.zz> <41B866B7.3020108@wxs.nl>
Message-ID: <Pine.LNX.4.61.0412091506370.4051@ezer.homenet>

On Thu, 9 Dec 2004, Hans Hagen wrote:
> d) logging to the terminal coul dplay a role, large scroll back buffers 
> combined with outline fonts can be slow (although i only encountered this a 
> sproblem on linux)

Yes, I know about that and if I even delete an extra empty line from 
/etc/issue.net to save on network traffic (though nowadays it's 
irrelevant as instead of telnet everyone uses ssh), I certainly don't do 
tex logging to the terminal. My Makefiles are written to log everything to 
disk and invoke pdflatex (or latex, depending on config options) with 
-halt-on-error to avoid the need for terminal interaction.

Kind regards
Tigran

From taco at elvenkind.com  Thu Dec  9 16:12:15 2004
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu Dec  9 16:14:16 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <x5ekhztuol.fsf@lola.goethe.zz>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>	<41B776B7.7000906@computing-services.oxford.ac.uk>	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>	<41B839F1.8050209@computing-services.oxford.ac.uk>	<Pine.LNX.4.61.0412091152270.3261@ezer.homenet>	<41B844CC.6000204@computing-services.oxford.ac.uk>	<x53byfvcyd.fsf@lola.goethe.zz>	<Pine.LNX.4.61.0412091317500.3416@ezer.homenet>	<Pine.SGI.4.61.0412090923400.94672@montigo.bio.dfo.ca>	<d5xj60gr.fsf@esemetz.metz.supelec.fr>
	<x5ekhztuol.fsf@lola.goethe.zz>
Message-ID: <41B86B4F.4010701@elvenkind.com>



David Kastrup wrote:
> Well, a few things I could imagine:
> 
> a) different executables: one version eTeX-based, one version
>    TeX-based, and the latter uses slower code.
> b) Heavily I/O bound operations, like writing temporary data out to a
>    file on a per-line or per-character base and immediately reading it
>    back in again.  Probably avoidable with eTeX's token reparsing
>    operations.
> c) The same in connection with a defective operation of the file name
>    data base.

d) A slightly different texmf.cnf with different values for memory sizes,
   combined with a lot of node-creating & destroying processes 

e) a dos-extended executable in a command-line NT shell sometimes created
  huge I/O timeouts under Win
 
f) A big chunk of spyware running in the windows' background, or another
  resident program that intercept I/O calls.
   
g) A badly configured windows network, similarly resulting in I/O problems

h) A fixed-size, but too small, Windows swap file

i) Too much actual RAM for the combination of MoBo/Windows

etc. There are quite a lot of possibilities, but most of the later ones
indicate problems with the Windows installation (meaning it'll be slow in 
other programs as well),.

Greetings, Taco

From tigran at aivazian.fsnet.co.uk  Thu Dec  9 16:15:04 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Dec  9 16:15:51 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <41B86903.5020200@wxs.nl>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
	<41B863FE.4030108@wxs.nl>
	<Pine.LNX.4.61.0412091443460.3870@ezer.homenet>
	<41B86903.5020200@wxs.nl>
Message-ID: <Pine.LNX.4.61.0412091510460.4051@ezer.homenet>

On Thu, 9 Dec 2004, Hans Hagen wrote:
> since the layout is rather simple, tex spends most time constructing the 
> text; so my guess is "inefficient macros"

My guess is that they are very complex rather than inefficient. But if you 
think you can improve them please feel free to have a go and see if you 
can speed them up. I can't promise a (material) reward though, other than 
acknowledgment in the Introduction section --- many names already in there 
should be familiar to people here as they are TeX hackers :)

I am referring not to my macros (which are all very simple) but to those 
of Tiqwah, written by Yannis Haralambous, which is where most of the time 
is spent during processing.

Kind regards
Tigran

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Dec  9 16:19:43 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Dec  9 16:25:08 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091510460.4051@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>	<41B776B7.7000906@computing-services.oxford.ac.uk>	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>	<41B863FE.4030108@wxs.nl>	<Pine.LNX.4.61.0412091443460.3870@ezer.homenet>	<41B86903.5020200@wxs.nl>
	<Pine.LNX.4.61.0412091510460.4051@ezer.homenet>
Message-ID: <41B86D0F.8050808@computing-services.oxford.ac.uk>

Tigran Aivazian wrote:

>
> I am referring not to my macros (which are all very simple) but to 
> those of Tiqwah, written by Yannis Haralambous, which is where most of 
> the time is spent during processing.

Yannis has many virtues, but from my limited memory of his code, he is prone
to over-complexity and inefficiency.  If you care, a rigourous analysis 
may reveal something.
alternatively, if it aint broke...

Sebastian

From hartmut_henkel at gmx.de  Thu Dec  9 20:34:48 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu Dec  9 20:36:46 2004
Subject: [tex-live] running programs from texlive tlc2
In-Reply-To: <Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
References: <20041207192332.48098.qmail@web13202.mail.yahoo.com>
	<Pine.LNX.4.61.0412082136420.4415@ezer.homenet>
	<41B776B7.7000906@computing-services.oxford.ac.uk>
	<Pine.LNX.4.61.0412091040450.3130@ezer.homenet>
	<Pine.LNX.4.61.0412091108250.3261@ezer.homenet>
Message-ID: <Pine.LNX.4.61.0412092028560.14278@hahepc1.hahe>

On Thu, 9 Dec 2004, Tigran Aivazian wrote:

> Ok, so the absolute final truth is:
>
> 1. with no changes to the sources, switching from 2.2GHz Windows to
> 600MHz Linux results in a speed up from 3-4 days to 3.5 hours.

You seem to use pdftex 1.20a on Linux. Do you have a similar version on
Windows, or an older one, like <= 1.11b? List searching has been changed
in the meantime.

Regards, Hartmut

From CreagRS at LOUISVILLE.STORTEK.COM  Sat Dec 11 01:11:05 2004
From: CreagRS at LOUISVILLE.STORTEK.COM (Creager, Robert S)
Date: Sun Dec 12 20:13:50 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
Message-ID: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5B1@EXCHVS2.louisville.stortek.com>


I'm trying to install TeXLive from the texlive2004-inst-20041127.iso file on
Solaris 2.8 and am having problems.  I select the XML schema, the
"HTML/SGML/XML sup" collection (among the others that are selected by
default), change the default directory and then install.  Some errors during
the install (see below) and when all done, there are no config files in
existence.

I saw a similar problem regarding version of unzip in the mail archives, but
don't see the same problem with my version of unzip:
UnZip:  Zipfile Extract v5.0 of 21 August 1992;  (c) 1989 S.H.Smith and
others
Versions 3.0 and later by Info-ZIP.  Bug reports ONLY to
zip-bugs@cs.ucla.edu

The output during the install is:

TeX Live can be used on multiple systems
as a separate subdirectory is used for each
installed binary package in /proj/twolf/local/TeX/bin.

Preparing list of files to be installed...
  Sun Sparc Solaris 2.7

  Essential programs and files
  Dutch documentation
  Recommended fonts
  HTML/SGML/XML support
  Basic LaTeX packages
  Omega
  pdfTeX

      package context
      package jadetex
      package ltxmisc
      package marvosym
      package marvosym
      package metapost
      package passivetex
      package rotating
      package stmaryrd
      package tex4ht
      package tipa
      package ucs
      package wasy
      package wasysym
      package xmltex
      package bin-context
      package bin-jadetex
      package bin-metapost
      package bin-tex4htk
      package bin-xmltex
Initializing texmf-var...

Unpacking zip files for packages...
............................................................................
.........................................................................
Done unpacking.
Fixing permissions in /proj/twolf/local/TeX... done.
Setting up directories for automatic font creation... done.
Configuring fmtutil.cnf from /proj/twolf/local/TeX/texmf/web2c  into
/proj/twolf/local/TeX/texmf-var/web2c...
sed: can't read /proj/twolf/local/TeX/texmf/web2c/fmtutil.cnf: No such file
or directory
Setting local tree $SELFAUTOPARENT/texmf-local in
/proj/twolf/local/TeX/texmf/web2c/texmf.cnf...
sed: can't read /proj/twolf/local/TeX/texmf/web2c/texmf.cnf: No such file or
directory
Setting variant tree $SELFAUTOPARENT/texmf-var in
/proj/twolf/local/TeX/texmf/web2c/texmf.cnf...
install-tl.sh: /proj/twolf/local/TeX/texmf/web2c/texmf.cnf: cannot create
Done fixing texmf.cnf.
Testing for /proj/twolf/local/TeX/bin/sparc-solaris2.7/texconfig....
Making language.dat in /proj/twolf/local/TeX/texmf-var/tex/generic/config
 from your language selections...
cat: cannot open /proj/twolf/local/TeX/texmf/tex/generic/config/language.us
Updating filename database with mktexlsr...
mktexlsr: Done.
Doing post-install jobs from the packages...
   EXECUTE !BuildFormat=mf: BuildFormat on mf
   EXECUTE !addMap=charter.map: addMap on charter.map
   EXECUTE !addMap=dbtt.map: addMap on dbtt.map
   EXECUTE !addMap=fpls.map: addMap on fpls.map
   EXECUTE !addMap=lm.map: addMap on lm.map
   EXECUTE !addMap=mathpple.map: addMap on mathpple.map
   EXECUTE !addMap=omega.map: addMap on omega.map
   EXECUTE !addMap=pazo.map: addMap on pazo.map
   EXECUTE !addMap=pxfonts.map: addMap on pxfonts.map
   EXECUTE !addMap=txfonts.map: addMap on txfonts.map
   EXECUTE !addMap=zpeu.map: addMap on zpeu.map
   EXECUTE !addMixedMap=bsr-interpolated.map: addMixedMap on
bsr-interpolated.map
   EXECUTE !addMixedMap=bsr.map: addMixedMap on bsr.map
   EXECUTE !addMixedMap=eurosym.map: addMixedMap on eurosym.map
   EXECUTE !addMixedMap=mflogo.map: addMixedMap on mflogo.map
   EXECUTE !addMixedMap=ttcmex.map: addMixedMap on ttcmex.map
   EXECUTE !addMixedMap=wasy.map: addMixedMap on wasy.map
Making map files for dvips, pdftex, dvipdfm with updmap...
/proj/twolf/local/TeX/bin/sparc-solaris2.7/updmap: /web2c/mktexdir: not
found
/proj/twolf/local/TeX/bin/sparc-solaris2.7/updmap: /web2c/mktexdir: not
found
/proj/twolf/local/TeX/bin/sparc-solaris2.7/updmap: /web2c/mktexdir: not
found

!!! ERROR! The map file `dvips35.map' has not been found at all.

    Either put this file into the right place or remove the
    reference from the configuration file. An automatic way
    to disable unavailable map files is to call
      updmap --syncwithtrees

    For manual editing, call
      updmap --edit

Re-updating filename database with mktexlsr...
mktexlsr: Done.

=========================
Installation is finished.  (Fri Dec 10 17:09:13 MST 2004)

For future configuration, edit files in /proj/twolf/local/TeX/texmf-var
(or run texconfig).


Add /proj/twolf/local/TeX/bin/sparc-solaris2.7
  to your PATH for current and future sessions.

See ./index.html for links to documentation.
The TeX Live web site (http://www.tug.org/texlive/
<http://www.tug.org/texlive/> )
will contain any updates and corrections.

Welcome to TeX Live!

Any help?

Thanks,
Rob


Robert Creager
Advisory Software Engineer
ATS Library Engineering
303.673.2365 Voice
303.661.5379 Fax
888.912.4458 Pager
Robert_Creager@StorageTek.com
StorageTek

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20041210/961c45b5/attachment.htm
From karl at freefriends.org  Tue Dec 14 00:58:24 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Dec 14 01:00:27 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
In-Reply-To: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5B1@EXCHVS2.louisville.stortek.com>
Message-ID: <200412132358.iBDNwOw29330@f7.net>

Hello Robert,

Sorry for the delayed reply.

    install-tl.sh: /proj/twolf/local/TeX/texmf/web2c/texmf.cnf: cannot create

This makes me think that somehow the texmf/web2c directory (among
others) was created readonly, so the files couldn't get written there.

fmtutil.cnf and friends are in the file archive/bin-kpathsea.zip in the
image.  If you simply unzip that file into a temp directory, does it
work?  I.e., are the files created?  Is the directory left read/write?

The exact command run by install-compr.sh is unzip -o -qq zipfile, but
I'd be surprised if the options make a difference.

Also, maybe try with the current unzip?
http://www.info-zip.org/pub/infozip/

FWIW, installing with the xml scheme on a Red Hat system does work ...

Regards,
karl

From CreagRS at LOUISVILLE.STORTEK.COM  Tue Dec 14 01:51:51 2004
From: CreagRS at LOUISVILLE.STORTEK.COM (Creager, Robert S)
Date: Tue Dec 14 01:53:57 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
Message-ID: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5B4@EXCHVS2.louisville.stortek.com>



> -----Original Message-----
> From: karl@freefriends.org [mailto:karl@freefriends.org] 
> Subject: Re: [tex-live] Problems installing texlive2004 on Solaris 2.8
> 
> Sorry for the delayed reply.

Not a problem.

> 
>     install-tl.sh: 
> /proj/twolf/local/TeX/texmf/web2c/texmf.cnf: cannot create
> 
> This makes me think that somehow the texmf/web2c directory (among
> others) was created readonly, so the files couldn't get written there.

Wasn't even created (I'm creagrs)...

% ls -alt /proj/twolf/local/TeX/texmf
total 24
drwxr-sr--   2 creagrs  twolf       4096 Dec 10 17:08 lists/
drwxr-sr--   3 creagrs  twolf       4096 Dec 10 17:08 ./
drwxr-sr--   6 creagrs  twolf       4096 Dec 10 17:08 ../

% ls -alt /proj/twolf/local/TeX
total 48
drwxr-sr--   6 creagrs  twolf       4096 Dec 10 17:08 ./
drwxr-sr--   3 creagrs  twolf       4096 Dec 10 17:08 bin/
drwxr-sr--   3 creagrs  twolf       4096 Dec 10 17:08 texmf/
drwxr-sr--   8 creagrs  twolf       4096 Dec 10 17:06 texmf-local/
drwxrwsrw-   8 creagrs  twolf       4096 Dec 10 17:06 texmf-var/
drwxrwsr-x  44 root     twolf       4096 Dec 10 17:06 ../

> 
> fmtutil.cnf and friends are in the file 
> archive/bin-kpathsea.zip in the image.  If you simply unzip 
> that file into a temp directory, does it work?  I.e., are the 
> files created?  Is the directory left read/write?
> 
> The exact command run by install-compr.sh is unzip -o -qq 
> zipfile, but I'd be surprised if the options make a difference.

% unzip -o -qq /cdrom/texlive-2004/archive/bin-kpathsea.zip
 
creagrs@apocalypse:/tmp

% ls -alt texmf/
total 96
drwxrwx---   2 creagrs  twolf        186 Dec 13 17:47 lists/
drwxrwx---   2 creagrs  twolf        190 Dec 13 17:47 tpm/
drwxrwx---   2 creagrs  twolf       2076 Dec 13 17:47 web2c/
drwxrwx---   6 creagrs  twolf        361 Dec 13 17:46 ./
drwxrwxrwt  15 root     sys         1567 Dec 13 17:46 ../
drwxrwx---   6 creagrs  twolf        365 Dec 13 17:46 doc/

I can do the unzip manually into the correct location and re-run the
installation (tomorrow).  I didn't think the install removes the directory
prior to install, does it?

> 
> Also, maybe try with the current unzip? 
> http://www.info-zip.org/pub/infozip/

I'll get that installed tomorrow and see what happens.

Thanks,
Rob

From karl at freefriends.org  Tue Dec 14 02:26:36 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Dec 14 02:28:38 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
In-Reply-To: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5B4@EXCHVS2.louisville.stortek.com>
Message-ID: <200412140126.iBE1Qae25701@f7.net>

    Wasn't even created

Very peculiar.  I'm having trouble imagining why that is.

    drwxr-sr--   2 creagrs  twolf       4096 Dec 10 17:08 lists/

It's a bit odd to have r and not x on a directory, but I can't see that
that is the problem, since clearly you have permission to write it.

    I can do the unzip manually into the correct location and re-run the
    installation (tomorrow).  I didn't think the install removes the directory
    prior to install, does it?

No, it doesn't.  I'm not sure if doing the unzip manually will help, it
might confuse things worse, but I guess it's worth a try.  (I've only
ever tried installing into a new directory.)

If you run install-tl.sh --debug, you'll get a bunch more output, that
might help pinpoint the problem.  For truly voluminous output, we might
have to resort to bash -vx install-tl.sh --debug.

I can also try to dig up a solaris 5.8 machine to try on, if need be.

Best,
karl

From CreagRS at LOUISVILLE.STORTEK.COM  Tue Dec 14 23:13:11 2004
From: CreagRS at LOUISVILLE.STORTEK.COM (Creager, Robert S)
Date: Tue Dec 14 23:15:22 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
Message-ID: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5B9@EXCHVS2.louisville.stortek.com>



> -----Original Message-----
> From: karl@freefriends.org [mailto:karl@freefriends.org] 
> Sent: December 14, 2004 3:01 PM
> To: Creager, Robert S
> Subject: RE: [tex-live] Problems installing texlive2004 on Solaris 2.8
> 
> 
>     I've not CC'd the list 
> 
> Good idea :).
> 
>     Still fails.
> 
> Did you try the new unzip yet?

No, but I will grab it now.  The -x option causes nothing to be extracted.
Think that's a problem ;-)?

> 
> The log actually got chopped off, but all the critical stuff 
> is there. Buried in there is this line:
> + unzip -o -qq /cdrom/cdrom0/archive/bin-kpathsea.zip -x
> 
> Might as well try that from the shell and make sure the -x 
> doesn't confuse anything.
> 

Cheers,
Rob

From karl at freefriends.org  Tue Dec 14 23:34:23 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Dec 14 23:36:23 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
In-Reply-To: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5B9@EXCHVS2.louisville.stortek.com>
Message-ID: <200412142234.iBEMYNB00658@f7.net>

    The -x option causes nothing to be extracted.
    Think that's a problem ;-)?

Just maybe :).

I guess we should change the code to omit the -x if there's nothing to
be excluded, since apparently different unzips behave differently ...

From CreagRS at LOUISVILLE.STORTEK.COM  Wed Dec 15 00:41:55 2004
From: CreagRS at LOUISVILLE.STORTEK.COM (Creager, Robert S)
Date: Wed Dec 15 00:44:02 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
Message-ID: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5BA@EXCHVS2.louisville.stortek.com>



> -----Original Message-----
> From: karl@freefriends.org [mailto:karl@freefriends.org] 
> Sent: December 14, 2004 3:34 PM
> To: Creager, Robert S
> Cc: tex-live@tug.org
> Subject: RE: [tex-live] Problems installing texlive2004 on Solaris 2.8
> 
> 
>     The -x option causes nothing to be extracted.
>     Think that's a problem ;-)?
> 
> Just maybe :).
> 
> I guess we should change the code to omit the -x if there's 
> nothing to be excluded, since apparently different unzips 
> behave differently ...

The install worked now with the latest unzip...

Wanna see the next problem?

% pdfetex -ini -jobname=pdfxmltex -progname=pdfxmltex "&pdflatex"
pdfxmltex.ini
This is pdfeTeXk, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
 %&-line parsing enabled.
output format initialized to PDF
entering extended mode
(/proj/twolf/local/TeX/texmf-dist/tex/xmltex/config/pdfxmltex.iniSegmentatio
n fault (core dumped)

(gdb) bt
#0  0x0008e0f0 in input_line ()
#1  0x0005c0a0 in startinput ()
#2  0x00043268 in mainbody ()
#3  0x0008c624 in main ()

Cheers,
Rob 

From karl at freefriends.org  Wed Dec 15 01:08:28 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Dec 15 01:10:33 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
In-Reply-To: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5BA@EXCHVS2.louisville.stortek.com>
Message-ID: <200412150008.iBF08SC13114@f7.net>

    (/proj/twolf/local/TeX/texmf-dist/tex/xmltex/config/pdfxmltex.iniSegmentatio
    n fault (core dumped)

Does regular tex or pdftex or anything work?
(It did for me on sparc, at one point.)

In any case, all I can think of here is a compiler bug.  The linux
binaries work for me, so I kind of doubt it's in the sources, although
anything's possible.

Maksym, can you reproduce the problem?  Would you be able to recompile
the sparc binaries without optimization?

Sorry,
karl

From CreagRS at LOUISVILLE.STORTEK.COM  Wed Dec 15 01:12:20 2004
From: CreagRS at LOUISVILLE.STORTEK.COM (Creager, Robert S)
Date: Wed Dec 15 01:14:28 2004
Subject: [tex-live] Problems installing texlive2004 on Solaris 2.8
Message-ID: <CBD4340221C4314F8CDB9EDDCE2B4858A0B5BB@EXCHVS2.louisville.stortek.com>



>     
> (/proj/twolf/local/TeX/texmf-dist/tex/xmltex/config/pdfxmltex.
> iniSegmentatio
>     n fault (core dumped)
> 
> Does regular tex or pdftex or anything work?
> (It did for me on sparc, at one point.)

If you can lead me through usage, I'll try them.  I'm installing this for
DocBook XML/XSLT processing (to get to PDF).  So I'm pretty darn ignorant
about what to do here :-(

Thanks,
Rob

From beate.herkendell at ssaglobal.com  Wed Dec 15 11:05:15 2004
From: beate.herkendell at ssaglobal.com (Beate Herkendell)
Date: Thu Dec 16 15:39:39 2004
Subject: [tex-live] tex on AIX5.2
Message-ID: <3BF94D49709BD411A64B00805FE6B69D034A3472@ex-deu-u0.ssainternal.net>

Hi,
reading the http://www.tug.org/texlive/quickinstall.html
I am missing the list of preconditions on a IBM AIX 5.3 operating system,
because we got problems after "just install" with pdflatex and libgcc -
any link or clue ?

(I found no ready-to-use tex for AIX5.2 so far, only AIX4.3.3)

Best regards


Dipl. Math. 
Beate Herkendell 
Consulting Manager
Systems and Databases 
SSA Global 
Guenther-Wagner-Allee 19 
D-30177 Hannover 
p.o. box 11 05 54, D-30101 Hannover
Telefon: +49 (0)511 8504-417
Teamassistant: -166 
Fax: +49 (0)511 8504-399
EMail: Beate.Herkendell@ssaglobal.com

Learn why 13,000 businesses worldwide rely on SSA Global to extend ERP
across all their enterprise processes -- from supplier to employee to
customer.

Get started by visiting www.ssaglobal.com

From karl at freefriends.org  Thu Dec 16 18:10:15 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Dec 16 18:12:17 2004
Subject: [tex-live] tex on AIX5.2
In-Reply-To: <3BF94D49709BD411A64B00805FE6B69D034A3472@ex-deu-u0.ssainternal.net>
Message-ID: <200412161710.iBGHAFU09056@f7.net>

Thanks for the report.

    reading the http://www.tug.org/texlive/quickinstall.html
    I am missing the list of preconditions on a IBM AIX 5.3 operating system,

I didn't know of any to put there.

    because we got problems after "just install" with pdflatex and libgcc -
    any link or clue ?

What is the exact error?  Maybe we should put up the libgcc it got
compiled with, and it would work?  Vladimir?

    (I found no ready-to-use tex for AIX5.2 so far, only AIX4.3.3)

Shouldn't 4.x binaries run on 5.x?

Regards,
karl

From beate.herkendell at ssaglobal.com  Thu Dec 16 18:15:55 2004
From: beate.herkendell at ssaglobal.com (Beate Herkendell)
Date: Thu Dec 16 18:21:32 2004
Subject: [tex-live] tex on AIX5.2
Message-ID: <3BF94D49709BD411A64B00805FE6B69D034A349D@ex-deu-u0.ssainternal.net>

see below , marked with 

***
something
****


Thank you,

Beate

-----Original Message-----
From: karl@freefriends.org [mailto:karl@freefriends.org]
Sent: Donnerstag, 16. Dezember 2004 18:10
To: Beate Herkendell
Cc: tex-live@tug.org
Subject: Re: [tex-live] tex on AIX5.2


Thanks for the report.

    reading the http://www.tug.org/texlive/quickinstall.html
    I am missing the list of preconditions on a IBM AIX 5.3 operating
system,

I didn't know of any to put there.

    because we got problems after "just install" with pdflatex and libgcc -
    any link or clue ?

What is the exact error?  Maybe we should put up the libgcc it got
compiled with, and it would work?  Vladimir?

***
yes would be a good idea because this seems to make the troubles (trying
various libgcc 's variants is awful...)
***

    (I found no ready-to-use tex for AIX5.2 so far, only AIX4.3.3)

Shouldn't 4.x binaries run on 5.x?

*** 
should , but because of library and compiler changes  don't
***



Regards,
karl

From te at dbs.uni-hannover.de  Thu Dec 16 18:42:25 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Dec 16 18:44:37 2004
Subject: [tex-live] tex on AIX5.2
In-Reply-To: <3BF94D49709BD411A64B00805FE6B69D034A3472@ex-deu-u0.ssainternal.net>
References: <3BF94D49709BD411A64B00805FE6B69D034A3472@ex-deu-u0.ssainternal.net>
Message-ID: <20041216174225.GD3873@dbs.uni-hannover.de>

> reading the http://www.tug.org/texlive/quickinstall.html
> I am missing the list of preconditions on a IBM AIX 5.3 operating system,
> because we got problems after "just install" with pdflatex and libgcc -
> any link or clue ?

Thanks for you notice.

It seems that the binaries have been compiled/linked with gcc/g++. In
that case, you need to install gcc/g++ in order to run these binaries.

Vladimir, which version of gcc did you use?

Thomas

From vvv at vsu.ru  Thu Dec 16 18:55:19 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Dec 16 18:58:54 2004
Subject: [tex-live] tex on AIX5.2
In-Reply-To: <200412161710.iBGHAFU09056@f7.net> (Karl Berry's message of "Thu, 
	16 Dec 2004 12:10:15 -0500")
References: <200412161710.iBGHAFU09056@f7.net>
Message-ID: <876532unzs.fsf@vvv.vsu.ru>

"KB" == Karl Berry writes:

 KB> What is the exact error?  Maybe we should put up the libgcc it
 KB> got compiled with, and it would work?  Vladimir?

  > yes would be a good idea because this seems to make the troubles (trying
  > various libgcc 's variants is awful...)

I compiled it using IBM C compiler, and AIX binaries from TeX Live
shouldn't be linked with libgcc.

Beate, which binary are you trying to run? What is it's md5sum, and
what does "ldd <program_name>" show?

 KB> Shouldn't 4.x binaries run on 5.x?

That would be nice to know. I would expect them to work.

Best,
v.

From vvv at vsu.ru  Thu Dec 16 18:57:49 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Dec 16 19:01:24 2004
Subject: [tex-live] tex on AIX5.2
In-Reply-To: <20041216174225.GD3873@dbs.uni-hannover.de> (Thomas Esser's
	message of "Thu, 16 Dec 2004 18:42:25 +0100")
References: <3BF94D49709BD411A64B00805FE6B69D034A3472@ex-deu-u0.ssainternal.net>
	<20041216174225.GD3873@dbs.uni-hannover.de>
Message-ID: <871xdqunvm.fsf@vvv.vsu.ru>

"TE" == Thomas Esser writes:

 TE> It seems that the binaries have been compiled/linked with
 TE> gcc/g++. In that case, you need to install gcc/g++ in order to
 TE> run these binaries.

 TE> Vladimir, which version of gcc did you use?

I didn't use gcc at all, and i can't find the string "gcc" (case
insensitive) in any AIX binaries from TL.

Best,
v.

From karl at freefriends.org  Fri Dec 17 23:57:22 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Dec 17 23:59:25 2004
Subject: [tex-live] Re: [tex-fonts] license of the Bakoma Type1 fonts?
In-Reply-To: <200412171700.iBHH0vfb018733@sunshine.math.utah.edu>
Message-ID: <200412172257.iBHMvMb24472@f7.net>

Hi Walter,

    the license of the Bakoma Type1 fonts on CTAN

      CTAN:fonts/cm/ps-type1/bakoma/BaKoMa-AMS.Fonts

    forbids any commercial use, unless explicitly granted by the author.
    Despite that, the Bakoma Type1 fonts are distributed with TeXLive, 
    in the directory texmf/fonts/type1/bakoma/.  Is this based upon a 
    special agreement between Basil K. Malyshev and the TeXLive team, 
    or are the fonts actually under a "free" license now?

There are no special agreements.  Everything on TL is supposed to be
FSF/Debian-free, as things stand now.  So it looks like including the
bakoma ams fonts in TL is simply a mistake.  I'll remove them.

Fortunately they are not used by default, as I recall, so it makes
little practical difference.  (The original fonts from AMS are used
instead.)

(I don't know if they're in teTeX.)

Thanks,
karl

From karl at freefriends.org  Sat Dec 18 01:29:43 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Dec 18 01:31:45 2004
Subject: [tex-live] Re: [tex-fonts] license of the Bakoma Type1 fonts?
In-Reply-To: <200412172357.iBHNvgD7007027@sunshine.math.utah.edu>
Message-ID: <200412180029.iBI0ThF26447@f7.net>

    The LaTeX Bug report amslatex/3448 explains the problem, and how is

"3448 could not be found".
What's the url?

I based my statement on a discussion Thomas and I had before the
release, which resulted in the TL psfonts.map generation stuff not using
the bakoma fonts.  As far as I know, this is true, and has in fact
always been the case.  For example, euex7.tfm comes from ams/euler, and
the outline is scaled from the AMS's euex10.

k

From karl at freefriends.org  Sat Dec 18 02:09:25 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Dec 18 02:11:29 2004
Subject: [tex-live] Re: [tex-fonts] license of the Bakoma Type1 fonts?
In-Reply-To: <200412180045.iBI0jSZ31129@f7.net>
Message-ID: <200412180109.iBI19Pb06071@f7.net>

    Well, if you are satisfied with the result, ignore my comment!

It's not a matter of satisfaction; as you've just pointed out, there's
no free alternative.  We'll have to remove the bakoma fonts in the next
release.

In my discussion with Thomas, he reported that Basil actually
recommended scaling the AMS fonts instead of using bakoma (we didn't
realize the license issue at the time).

Looking at your bug report (thanks for the url, I have no idea why my
search didn't work), it seems there was never any resolution.  And since
Michael Downes has sadly passed away in the interim, I rather suspect
this issue is no longer in anyone's mind to follow up on.  I don't know
how to get the AMS's attention again.

As far as cmex789 go, it seems TL is now using versions generated with
TeXtrace (fmex789).  I rather suspect that MicroPress's versions would
be superior.  I could ask Michael Vulis if he'd be willing to make them
freely available.

Thanks,
karl

From w.a.schmidt at gmx.net  Sat Dec 18 00:57:24 2004
From: w.a.schmidt at gmx.net (Walter Schmidt)
Date: Sat Dec 18 14:22:10 2004
Subject: [tex-live] Re: [tex-fonts] license of the Bakoma Type1 fonts?
In-Reply-To: <200412172257.iBHMvMb24472@f7.net>
Message-ID: <200412172359.iBHNxWR01799@tug.org>

On Fri, 17 Dec 2004 17:57:22 -0500, Karl Berry wrote:

>Everything on TL is supposed to be
>FSF/Debian-free, as things stand now.  So it looks like including the
>bakoma ams fonts in TL is simply a mistake.  I'll remove them.
>
>Fortunately they are not used by default, as I recall, so it makes
>little practical difference.  

Unfortunately, the fonts are needed by default, so it I does matter.  
The LaTeX Bug report amslatex/3448 explains the problem, and how is
can be circumvented.  (Btw, even with the patches which I have
suggested there, euex7 would be needed in any case, see the file
ueuex57.fd.  I've noticed this only now.)

Walter

From w.a.schmidt at gmx.net  Sat Dec 18 01:45:15 2004
From: w.a.schmidt at gmx.net (Walter Schmidt)
Date: Sat Dec 18 14:22:13 2004
Subject: [tex-live] Re: [tex-fonts] license of the Bakoma Type1 fonts?
In-Reply-To: <200412180029.iBI0ThF26447@f7.net>
Message-ID: <200412180047.iBI0lJR03661@tug.org>

On Fri, 17 Dec 2004 19:29:43 -0500, Karl Berry wrote:

>    The LaTeX Bug report amslatex/3448 explains the problem[...]
>
>"3448 could not be found".

???

>What's the url?

<http://www.latex-project.org/cgi-bin/ltxbugs2html?pr=amslatex/3448&category=
AMS+LaTeX&responsible=anyone&state=open&keyword=&>

(should be one single line)

>I based my statement on a discussion Thomas and I had before the
>release, which resulted in the TL psfonts.map generation stuff not using
>the bakoma fonts.  As far as I know, this is true, and has in fact
>always been the case.  For example, euex7.tfm comes from ams/euler, and
>the outline is scaled from the AMS's euex10.

This is a very dirty trick, because the character width of euex7 is 
actually larger than 70% of the width of euex10.  Well, if you are
satisfied with the result, ignore my comment!

Walter

From te at dbs.uni-hannover.de  Sat Dec 18 15:58:46 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Dec 18 16:03:22 2004
Subject: [tex-live] Re: [tex-fonts] license of the Bakoma Type1 fonts?
In-Reply-To: <200412172359.iBHNxWR01799@tug.org>
References: <200412172257.iBHMvMb24472@f7.net>
	<200412172359.iBHNxWR01799@tug.org>
Message-ID: <20041218145846.GD30325@dbs.uni-hannover.de>

On Sat, Dec 18, 2004 at 12:57:24AM +0100, Walter Schmidt wrote:
> >Fortunately they are not used by default, as I recall, so it makes
> >little practical difference.  
> 
> Unfortunately, the fonts are needed by default, so it I does matter.  

These fonts are neither used nor needed. .fd files in LaTeX create
dependencies to tfm files, nothing more.

For embedding type1 fonts as done by drivers / pdftex, the map files in
TeX Live and teTeX are set up to use scaling to fill the gaps.

It was Taco (not Basil) who told me that this gives a more uniform
appearance for complete documents than mixing bsr/ams/y&y fonts with
Bakoma (which have completely different control points etc.).

Thomas

From karl at freefriends.org  Sun Dec 19 02:26:41 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Dec 19 02:28:45 2004
Subject: [tex-live] pdfxmltex solaris crash
Message-ID: <200412190126.iBJ1Qf730650@f7.net>

Rob -- no explicit fix yet for the pdfxmltex crash on sparc-solaris, but
the following may be a workaround, if you just want to get on with life
while we debug this painful problem.

0) set PATH=/your/texmf/bin/sparc-solaris2.7:$PATH (as usual).

1) edit line 2366 of /your/texmf/texmf-dist/tex/xmltex/base/xmltex.tex.
Old: \gdef\XML@tempc{pdfxmltex}
New: \gdef\XML@tempc{texput}

2) run from cmdline (not in the bin/sparc-solaris2.7 directory):
pdfetex -ini  -jobname=pdfxmltex -progname=pdfxmltex \&pdflatex
This is pdfeTeXk, ...
... more messages ...
*

3) At the * prompt, type this:
\input pdfxmltex.ini
... lots of messages, dumping on texput.fmt, etc....

4) Install format file:
mv texput.fmt /your/texmf/texmf-var/web2c/pdfxmltex.fmt
mktexlsr /home/karl/tex/try/texmf-var


Now you should be able to run ./pdfxmltex as you would have if the
normal format creation had worked.  I don't know how to actually do
anything with pdfxmltex, or have any sample input files, so I can't say
if it really works.  It does load the format ok on my sparc, that's all
I know.


It's something about specifying the filename (pdfxmltex.ini) on the
command line that causes the crash.  It also happens with xmltex, BTW.

HTH,
karl

From Gerben.Wierda at rna.nl  Sun Dec 19 13:27:11 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Dec 19 13:29:14 2004
Subject: [tex-live] source vs source.development question,
	dates and times for versions
Message-ID: <4ECB2D43-51B9-11D9-8646-003065B3343E@rna.nl>

What is the p4 DATETIME at which source was copied from 
source.development (TL2004)? Because we all compiled from 
source.development for TL2004 and I would like to be able to get my 
stable versions (including TL2004 from Nov 13 2004 13:00 
source.development) from source and not from source.development.

Secondly, if we move away from p4 to CVS, I would like some older 
snapshots to be saved as well. For instance, @2003/09/23:21:00:00 is my 
stable date for the TL2003 source tree. I used source.development at 
@2004/11/13:13:00:00 for my TL2004 binaries compilation.

Hmm, I am not writing very clearly. Let's summarise:
1. I would like source.development @2004/11/13:13:00:00 to be used as 
the state from which source will be populated for the TL2004 stable 
source directory. If another date, then without any experimental 
changes since TL2004 was frozen.
2. When moving to something different than p4, I would like to have the 
following snapshots available in different branches:
	source@2003/09/23:21:00:00
	source@<whatever date the TL2004 stable will become>

G

From karl at freefriends.org  Sun Dec 19 16:14:17 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Dec 19 16:16:38 2004
Subject: [tex-live] source vs source.development question,
	dates and times for versions
In-Reply-To: <4ECB2D43-51B9-11D9-8646-003065B3343E@rna.nl>
Message-ID: <200412191514.iBJFEHo01871@f7.net>

    What is the p4 DATETIME at which source was copied from 
    source.development (TL2004)? 

I don't know.  What I know is that source and source.development were
the same (modulo $Id$ tags) when we finished 04, and source has not been
changed.  (Master has had only one tiny change by Sebastian, before I
told him to quit it for now. :)

    source directory. If another date, then without any experimental 
    changes since TL2004 was frozen.

I agree that the initial state will be what shipped with 04.  I've
started doing this, BTW.  More when there's something to report.

    2. When moving to something different than p4, I would like to have the 
    following snapshots available in different branches:
            source@2003/09/23:21:00:00
            source@<whatever date the TL2004 stable will become>

It would consume a lot of time to import old source trees into another
system (any system).  I'd much rather spend my time improving things for
the future than raking over the past.  The old sources will continue to
exist in p4, and of course they exist in the CD images themselves.  I
really hope that is enough ...

k

From wl at gnu.org  Sun Dec 19 22:31:27 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Mon Dec 20 10:18:32 2004
Subject: [tex-live] mf segfault
Message-ID: <20041219.223127.160241278.wl@gnu.org>


On my Linux box, using the TeXLive binaries (perforce depot
2004/Dec/15), I get a segfault.  After executing

   mf "\mode=proof; \input feta20"

on the attached files, metafont stops for a few minutes, then the
crash happens.

Note that I don't expect that the attached code work (right now I'm
experimenting with the roex package), but IMHO metafont shouldn't
abort like this.

Running with gdb, I see many, many calls to `error' in the backtrace
-- perhaps a recursive behaviour of mf triggers the bug in GNU libc
2.3.3?

I currently don't have time to reduce the example, but maybe the fix
is obvious...


    Werner
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mf-segfault.tar.bz2
Type: application/octet-stream
Size: 27681 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20041219/4c2389ee/mf-segfault.tar-0001.obj
From olaf at infovore.xs4all.nl  Mon Dec 20 14:24:59 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Dec 20 14:28:10 2004
Subject: [tex-live] mf segfault
In-Reply-To: <20041219.223127.160241278.wl@gnu.org> (Werner LEMBERG's
	message of "Sun, 19 Dec 2004 22:31:27 +0100 (CET)")
References: <20041219.223127.160241278.wl@gnu.org>
Message-ID: <87y8ft3xw4.fsf@infovore.xs4all.nl>

Werner LEMBERG writes:

> On my Linux box, using the TeXLive binaries (perforce depot
> 2004/Dec/15), I get a segfault.  After executing

>    mf "\mode=proof; \input feta20"

> on the attached files, metafont stops for a few minutes, then the
> crash happens.

I'm not getting a crash, at least not within a few minutes.

> Note that I don't expect that the attached code work (right now I'm
> experimenting with the roex package), but IMHO metafont shouldn't
> abort like this.

> Running with gdb, I see many, many calls to `error' in the backtrace
> -- perhaps a recursive behaviour of mf triggers the bug in GNU libc
> 2.3.3?

That's likely just due to backtracing a stripped binary.

> I currently don't have time to reduce the example, but maybe the fix
> is obvious...

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Gerben.Wierda at rna.nl  Mon Dec 20 16:24:14 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Dec 20 16:26:17 2004
Subject: [tex-live] [Fwd: [OS X TeX] Bug in latest pdfTeX (and/or teTeX)
 with respect to \magnification?]
Message-ID: <36903.159.46.248.226.1103556254.squirrel@159.46.248.226>

I saw this message on the TeX on Mac OS X list. Not being a pdfTeX expert
(I just redistribute) I wondered what is going on. Can someone educate me?

G

---------------------------- Original Message ----------------------------
Subject: [OS X TeX] Bug in latest pdfTeX (and/or teTeX) with respect to
\magnification? From:    "Bruno Voisin" <bvoisin@mac.com>
Date:    Mon, December 20, 2004 10:26
To:      "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
--------------------------------------------------------------------------

Hello,

I've just noticed something odd, when typesetting a letter in plain TeX  
for a change:

- The setup is TL2004, installed via i-Installer with A4 selected as   the
default paper size.

- When \magnification is not altered, in pdfTeX the paper size is A4 as  
it should.

- When \magnification is changed (for example
\magnification=\magstep1), the page size (ie the width and height of  
text) remains A4 but the paper size (ie the size of the physcal sheet   of
paper) is affected by the magnification.

It seems that in TL2004 the file pdftex.cfg has vanished and is
replaced by
/usr/local/teTeX/share/texmf.local/tex/generic/config/pdftexconfig.tex,  
which contains all the proper settings:

	\pdfpagewidth=594.99 true bp
	\pdfpageheight=841.99 true bp
	\pdfhorigin=1 true in
	\pdfvorigin=1 true in

- When this file is not read, the above result is obtained.

- When this file is explicitly read (by \input pdftexconfig) after  
setting the magnification, namely:

	\magnification=\magstep1
	\input pdftexconfig

then the paper size is brought back to A4 as it should.

- When this file is read before setting the magnification, namely:

	\input pdftexconfig
	\magnification=\magstep1

then an error is produced:

	(/usr/local/teTeX/share/texmf.local/tex/generic/config/
pdftexconfig.tex)
	! Incompatible magnification (1200);
	 the previous value will be retained (1000).
	\m@g ->\mag \count@ \hsize 6.5true
	                                  in\vsize 8.9truein\dimen \footins
8truein
	<to be read again>
	                   \relax
	l.3 \magnification=\magstep1

Is there something obvious I've done wrong? Or is this a bug in pdfTeX?

I've verified the same occurs with
/usr/local/teTeX/share/texmf.tetex/tex/plain/base/story.tex, thus it  
doesn't seem specific to my TeX input file.

Bruno Voisin

--------------------- Info ---------------------
Mac-TeX Website: http://www.esm.psu.edu/mac-tex/
           & FAQ: http://latex.yauh.de/faq/
TeX FAQ: http://www.tex.ac.uk/faq
List Post: <mailto:MacOSX-TeX@email.esm.psu.edu>






From karl at freefriends.org  Mon Dec 20 20:45:25 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Dec 20 20:47:28 2004
Subject: [tex-live] mf segfault
In-Reply-To: <20041219.223127.160241278.wl@gnu.org>
Message-ID: <200412201945.iBKJjPL13732@f7.net>

       mf "\mode=proof; \input feta20"

FWIW, this does seg fault for me on red hat 9 (libc 2.3.2, it seems),
after less than five minutes at "classical quarter rest".

On red hat ws 2.1 (libc 2.2.4), it also crashes, although it takes a bit
longer.  

On sparc-solaris 2.8, also crashes, after about 10 minutes.

Maybe the timing is somehow related to system configuration.

Memory use (RSS) increases as it spins, but it doesn't seem to get
enormously huge.

Hmm.  Will need to compile with -g and see what's happening.

Thanks for reporting it.  (But *sigh* for all these seg faults!)

karl

From wl at gnu.org  Mon Dec 20 22:57:55 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Mon Dec 20 23:00:59 2004
Subject: [tex-live] mf segfault
In-Reply-To: <87y8ft3xw4.fsf@infovore.xs4all.nl>
References: <20041219.223127.160241278.wl@gnu.org>
	<87y8ft3xw4.fsf@infovore.xs4all.nl>
Message-ID: <20041220.225755.73292527.wl@gnu.org>


> I'm not getting a crash, at least not within a few minutes.

Can you put an unstripped binary of mf to a place where I can download
it?


     Werner

From hartmut_henkel at gmx.de  Tue Dec 21 01:16:00 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue Dec 21 01:18:03 2004
Subject: [tex-live] [Fwd: [OS X TeX] Bug in latest pdfTeX (and/or teTeX)
	with respect to \magnification?]
In-Reply-To: <36903.159.46.248.226.1103556254.squirrel@159.46.248.226>
References: <36903.159.46.248.226.1103556254.squirrel@159.46.248.226>
Message-ID: <Pine.LNX.4.61.0412210012480.1885@hahepc1.hahe>

On Mon, 20 Dec 2004, Gerben Wierda wrote:

> I saw this message on the TeX on Mac OS X list. Not being a pdfTeX
> expert (I just redistribute) I wondered what is going on. Can someone
> educate me?

will try... :-)

> G
>
> ---------------------------- Original Message ----------------------------
> Subject: [OS X TeX] Bug in latest pdfTeX (and/or teTeX) with respect to
> \magnification? From:    "Bruno Voisin" <bvoisin@mac.com>
> Date:    Mon, December 20, 2004 10:26
> To:      "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
> --------------------------------------------------------------------------
>
> Hello,
>
> I've just noticed something odd, when typesetting a letter in plain
> TeX for a change:
>
> - The setup is TL2004, installed via i-Installer with A4 selected as
> the default paper size.
>
> - When \magnification is not altered, in pdfTeX the paper size is A4
> as it should.
>
> - When \magnification is changed (for example
> \magnification=\magstep1), the page size (ie the width and height of
> text) remains A4 but the paper size (ie the size of the physcal sheet
> of paper) is affected by the magnification.

The \magnification macro (not a primitive!) does not only set the
magnification factor, it also sets the \hsize and \vsize to true
dimensions with letter default, see plain.tex. So in the general
non-letter case one should say \mag=\magstep1 instead of using
\magnification.

> It seems that in TL2004 the file pdftex.cfg has vanished and is
> replaced by
> /usr/local/teTeX/share/texmf.local/tex/generic/config/pdftexconfig.tex,
> which contains all the proper settings:
>
> 	\pdfpagewidth=594.99 true bp
> 	\pdfpageheight=841.99 true bp
> 	\pdfhorigin=1 true in
> 	\pdfvorigin=1 true in
>
> - When this file is not read, the above result is obtained.
>
> - When this file is explicitly read (by \input pdftexconfig) after
> setting the magnification, namely:
>
> 	\magnification=\magstep1
> 	\input pdftexconfig
>
> then the paper size is brought back to A4 as it should.
>
> - When this file is read before setting the magnification, namely:
>
> 	\input pdftexconfig
> 	\magnification=\magstep1
>
> then an error is produced:
>
> 	(/usr/local/teTeX/share/texmf.local/tex/generic/config/
> pdftexconfig.tex)
> 	! Incompatible magnification (1200);
> 	 the previous value will be retained (1000).
> 	\m@g ->\mag \count@ \hsize 6.5true
> 	                                  in\vsize 8.9truein\dimen \footins
> 8truein
> 	<to be read again>
> 	                   \relax
> 	l.3 \magnification=\magstep1

The \hsize stuff in the error message is from the \m@g macro of
plain.tex. The error is caused by a TeX feature: After a \dimen has been
set to a "true" dimension in a certain \mag environment, the \mag is
frozen and can't be changed any more. Now, when the file
pdftexconfig.tex is read, some \dimen are set to true dimensions, like
\pdfpagewidth, so \mag=1000 is frozen. Then comes a new \mag (1200), and
then \hsize6.5truein from the \magnification helper macro \m@g triggers
the error message. Other examples:

\vsize=297truemm \mag=\magstep1 \hsize=210truemm \bye

gives a similar error message in TeX. It's nothing special with pdftex.
And

\vsize=297truemm \mag=\magstep1 \hsize=210mm \bye

is ok, as is this:

\vsize=297mm \mag=\magstep1 \hsize=210truemm \bye

A try on a few hints to avoid this true dimensions weirdness:

* Set \mag early.

* If you set anything to true dimensions _before_ setting \mag, you
can't do _after_ setting \mag. Vice versa.

* Set all necessary \dimen to true dimensions after \mag, even when they
already have had non-true values before \mag -- just to be sure, that
everything comes out right. For pdftex don't forget to set
\pdfpagewidth/height, \pdfhorigin, and \pdfvorigin to the wished true
dimensions.

* Or, prescale the \dimen to a non-true dimension so that it comes out
right after the \mag has been set to a new value.

> Is there something obvious I've done wrong? Or is this a bug in pdfTeX?

It should be inline with how TeX's \mag is supposed to work.

> I've verified the same occurs with
> /usr/local/teTeX/share/texmf.tetex/tex/plain/base/story.tex, thus it
> doesn't seem specific to my TeX input file.
>
> Bruno Voisin

Regards, Hartmut

From staw at gust.org.pl  Tue Dec 21 06:55:12 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Dec 21 06:53:15 2004
Subject: [tex-live] mf segfault
In-Reply-To: <20041220.225755.73292527.wl@gnu.org>
Message-ID: <Pine.LNX.4.44.0412210638090.13299-100000@re86.internetdsl.tpnet.pl>

On Mon, 20 Dec 2004, Werner LEMBERG wrote:

> > I'm not getting a crash, at least not within a few minutes.
> 
> Can you put an unstripped binary of mf to a place where I can download
> it?

Well, the same seg fault occured using nonstriped mf binary.
Compiled and tested on the same machine (RH9.0)

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From wl at gnu.org  Tue Dec 21 07:04:48 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Dec 21 07:08:08 2004
Subject: [tex-live] mf segfault
In-Reply-To: <Pine.LNX.4.44.0412210638090.13299-100000@re86.internetdsl.tpnet.pl>
References: <20041220.225755.73292527.wl@gnu.org>
	<Pine.LNX.4.44.0412210638090.13299-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20041221.070448.44269042.wl@gnu.org>


> Well, the same seg fault occured using nonstriped mf binary.
> Compiled and tested on the same machine (RH9.0)

Yes, I've sent a backtrace to Olaf already.  For the interested, I'm
repeating it here.

BTW, I've absolutely no hint what's going on here...


    Werner


======================================================================

Program received signal SIGSEGV, Segmentation fault.
0x0806e781 in zpwithxbecomingq (p=6725, x=4719, q=48049, t=17 '\021')
    at mf1.c:2382
(gdb) bt
#0  0x0806e781 in zpwithxbecomingq (p=6725, x=4719, q=48049, t=17 '\021')
    at mf1.c:2382
#1  0x0806eea9 in zlineareq (p=48049, t=17 '\021') at mf1.c:2559
#2  0x0807cfbe in ztryeq (l=48047, r=0) at mf1.c:9434
#3  0x0807d401 in zmakeeq (lhs=48047) at mf1.c:9605
#4  0x0807d86c in doassignment () at mf1.c:9745
#5  0x08080a3b in dostatement () at mf2.c:1526
#6  0x08081ce9 in scanprimary () at mf2.c:2101
#7  0x08082981 in scansecondary () at mf2.c:2566
#8  0x08082a61 in scantertiary () at mf2.c:2605
#9  0x08082b5a in scanexpression () at mf2.c:2651
#10 0x080824b0 in scanprimary () at mf2.c:2379
#11 0x08082981 in scansecondary () at mf2.c:2566
#12 0x08082a61 in scantertiary () at mf2.c:2605
#13 0x08082b5a in scanexpression () at mf2.c:2651
#14 0x08080a0d in dostatement () at mf2.c:1520
#15 0x08081ce9 in scanprimary () at mf2.c:2101
#16 0x08082981 in scansecondary () at mf2.c:2566
#17 0x08082a61 in scantertiary () at mf2.c:2605
#18 0x08082b5a in scanexpression () at mf2.c:2651
#19 0x08080a0d in dostatement () at mf2.c:1520
#20 0x08081ce9 in scanprimary () at mf2.c:2101
#21 0x08082981 in scansecondary () at mf2.c:2566
#22 0x08082a61 in scantertiary () at mf2.c:2605
#23 0x08082b5a in scanexpression () at mf2.c:2651
#24 0x08080a0d in dostatement () at mf2.c:1520
#25 0x08081ce9 in scanprimary () at mf2.c:2101
#26 0x08082981 in scansecondary () at mf2.c:2566
#27 0x08082a61 in scantertiary () at mf2.c:2605
#28 0x08082b5a in scanexpression () at mf2.c:2651
#29 0x08080a0d in dostatement () at mf2.c:1520
#30 0x08081ce9 in scanprimary () at mf2.c:2101
#31 0x08082981 in scansecondary () at mf2.c:2566
#32 0x08082a61 in scantertiary () at mf2.c:2605
#33 0x08082b5a in scanexpression () at mf2.c:2651
#34 0x08080a0d in dostatement () at mf2.c:1520
#35 0x08081ce9 in scanprimary () at mf2.c:2101
#36 0x08082981 in scansecondary () at mf2.c:2566
#37 0x08082a61 in scantertiary () at mf2.c:2605
#38 0x08082b5a in scanexpression () at mf2.c:2651
#39 0x08080a0d in dostatement () at mf2.c:1520
#40 0x08081ce9 in scanprimary () at mf2.c:2101
#41 0x08082981 in scansecondary () at mf2.c:2566
#42 0x08082a61 in scantertiary () at mf2.c:2605
#43 0x08082b5a in scanexpression () at mf2.c:2651
#44 0x08080a0d in dostatement () at mf2.c:1520
#45 0x08080ddf in maincontrol () at mf2.c:1701
#46 0x0804e5a6 in mainbody () at mfini.c:1305
#47 0x08087436 in main (ac=2, av=0xbffff784) at mfextra.c:342

From beebe at math.utah.edu  Tue Dec 21 16:53:51 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue Dec 21 16:56:02 2004
Subject: [tex-live] CVS security issue
Message-ID: <CMM.0.92.0.1103644431.beebe@psi.math.utah.edu>

At http://www.cvshome.org/ is this important news item:

        The cvshome site is currently being thoroughly cleaned as a
        direct result of an exploitative code set that attacks a cvs
        security violation. The publication of this code makes all sites
        running cvs with any remote protocol vulnerable. Use the following
        information to determine if your site is at risk and to access
        either a patch for this problem or a full source distribution
        with the fix included.

Since the TeXlive source tree is being migrated to CVS, this seems highly
relevant.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From beebe at math.utah.edu  Tue Dec 21 17:33:19 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue Dec 21 17:35:33 2004
Subject: [tex-live] mf segfault
In-Reply-To: Your message of Mon, 20 Dec 2004 14:45:25 -0500
Message-ID: <CMM.0.92.0.1103646799.beebe@psi.math.utah.edu>

Karl Berry <karl@freefriends.org> reports on Mon, 20 Dec 2004 14:45:25 -0500:

>> mf "\mode=proof; \input feta20"
>> FWIW, this does seg fault for me on red hat 9 (libc 2.3.2, it seems),
>> after less than five minutes at "classical quarter rest".

The feta20.mf file comes from the GNU lilypond-2.4.1 package on my
system.  I've just successfully run the above mf command with our
default mf:

	This is METAFONT, Version 2.71 (C version 6.1.2)

and also with the 2003 TeXlive release:

	This is METAFONT, Version 2.71828 (Web2C 7.5.2)

Both completed quickly without problems.

I then tried the 2004 TeXlive release:

	This is METAFONT, Version 2.71828 (Web2C 7.5.3)

It too ran to completion in just 2.45 sec wallclock time on a Pentium
III 600MHz system running Red Hat Enterprise Linux WS release 3
(Taroon Update 3).  Here is what uname says:

	% uname -a
	Linux XXXXXXX.math.utah.edu 2.4.21-20.ELsmp #1 SMP Wed Aug 18 20:46:40 EDT 2004 i686 unknown unknown GNU/Linux

Just to be sure that we have the same test data, here are MD5
checksums of the Metafont files that my tests used (their filesystem
dates range from 1998-11-26 08:27 to 2004-10-24 15:27):

	% md5sum feta*.mf
	2a44ba70551626e012314a285f632faa  feta11.mf
	03e3b574f4f5aeb7e00430c8d129931f  feta13.mf
	a8f7aa2c3c28e4b14753525deccab46b  feta14.mf
	396672bee3eaf19aa46814159f35f7dd  feta16.mf
	a852c88c05808263f0d6968c6c9efeaf  feta18.mf
	755f88056dd1bc101675d68b6dc6477a  feta20.mf
	b3ac6563424143f97f1530e70c005f94  feta23.mf
	26f3720869ab965b9015669b661c1832  feta26.mf
	37de8d2237d1b9f7f59fabc42324210b  feta-accordion.mf
	5cd325bb585389af6e3cedab7a71c7f5  feta-autometric.mf
	fa939390ca24e41441ce4107cd183b98  feta-banier.mf
	3f8e88791c273c67b28d9c5a20438a3b  feta-beugel.mf
	4fef7bdc8be0dc58f030a967c5ecf49f  feta-beum.mf
	9d4f34336be748654a2dacbffd1e4a01  feta-bolletjes.mf
	8be84ec0f10f2f83b22420859bd590b4  feta-braces-a.mf
	a89a3d321bbc67421ede0f064a715c27  feta-braces-b.mf
	d723e5aed0492d02cc63e3d35c20608f  feta-braces-c.mf
	fd5e7a1afc3b594e77aef2efb9ec0c19  feta-braces-d.mf
	1ff768b7bf01d00d8bff533f5ded27cd  feta-braces-e.mf
	02abf21e9cd2be69d12b12da33ddb02b  feta-braces-f.mf
	c9ee0749e66a4c067847ad7713c60c49  feta-braces-g.mf
	49644f455734ef8ba31996988676da49  feta-braces-h.mf
	209cd21282c9334d6c4b24f457c3fc78  feta-braces-i.mf
	73a3bd36e2d97702e7e3148953f8826b  feta-din10.mf
	e4f501af9fcc2861905abd14fdf474ae  feta-din12.mf
	0244a13e1f4a2b3ac9243d444bac39ce  feta-din14.mf
	00cfe310ed77b776729731f8b859a7e0  feta-din17.mf
	30a58ac811d68fd25afb8b87010a56cd  feta-din6.mf
	4753113a62b03ff500f460e611961db7  feta-din8.mf
	32375f4965fd46c067609da9d1bbd9c3  feta-din-code.mf
	cf31b19311ce8999bb86b2c2350909e2  feta-din.mf
	bc5780c1ff80f6422023e1e5ce3c2fb1  feta-eindelijk.mf
	71a44405e203bbe1cffc44d80bcb6fc9  feta-generic.mf
	69cf0ac9d6ef079d94b96afa170e4604  feta-haak.mf
	5ffd6bfd02795ce5a52d4a0542165f92  feta-harmonica.mf
	ca0b840974e01f892758c03bc5c72d95  feta-ital-f.mf
	1a0c29453345bb08eafa15f0c391c501  feta-ital-m.mf
	7c270b4ce2f07ebd6d1dc07c091df6c8  feta-ital-p.mf
	64f7c60d8fcf738ca8177052bf89706a  feta-ital-r.mf
	93bd52758b5290895a07c2b86eefd832  feta-ital-s.mf
	6339de4962a460e75775f0d76e936bbb  feta-ital-z.mf
	4c241851f47a7e43528a82b515ab626f  feta-klef.mf
	1938c80a556c295fe4c3cad0a876ded1  feta-macros.mf
	1b89a67299e9089d0c2922eec6375a72  feta-nummer10.mf
	5376c267d022efff34037a6fed5d73a1  feta-nummer12.mf
	a4aad231a9d66515014d71a8f9e68afc  feta-nummer16.mf
	44034c59b0c999cac5be3b5160420b90  feta-nummer20.mf
	7ea30c3a39d953a3f9285b7965c34cb1  feta-nummer23.mf
	94f1b514c4ad039c1cb66c5ccaca1a83  feta-nummer26.mf
	1688090ce83ab3fc6a26237535173838  feta-nummer4.mf
	460a8965f50048198abda42caa29356f  feta-nummer6.mf
	768bb664ec52698cb1207ba1b98a94bd  feta-nummer8.mf
	43166007e44de6d6060b17496ca3b250  feta-nummer-code.mf
	b46e8d3ccf62050f321c97b90de27eb0  feta-nummer.mf
	958aeac0f00e382891eefc99492ad92c  feta-params.mf
	e10112c8fb119f7593d96116d6c76873  feta-pendaal.mf
	161330d3380095282452c556ae3ef665  feta-puntje.mf
	a6423e806f842ad100eeeb5f174d5dd1  feta-schrift.mf
	19b59a3721c6555393d38af213869a3e  feta-slag.mf
	58add64b90d4b3b82a5651aed2713ac4  feta-solfa.mf
	8f48fa256a5c92202f4923c9c141d5b0  feta-test11.mf
	771accd4ea86b12308f8d56cd248f01d  feta-test13.mf
	b3ff743dfcfe28b5db1480cf869a2023  feta-test16.mf
	871a1452f9c22520c26621581f807daa  feta-test20.mf
	139deb22e62cdc3e8c24cce4b43c920d  feta-test23.mf
	5debcb790509bc9c4db3cdd3803f6f08  feta-test26.mf
	4d417d08834b1a4250394cc1c89b97c3  feta-test-generic.mf
	029b2fef84d4dd0a2219fe023c42e7fd  feta-timesig.mf
	087e179f2ccc33be3bf74c5c0f8cc3cc  feta-toevallig.mf

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From wl at gnu.org  Tue Dec 21 19:25:02 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Tue Dec 21 19:28:37 2004
Subject: [tex-live] mf segfault
In-Reply-To: <CMM.0.92.0.1103646799.beebe@psi.math.utah.edu>
References: <CMM.0.92.0.1103646799.beebe@psi.math.utah.edu>
Message-ID: <20041221.192502.41630159.wl@gnu.org>


> >> mf "\mode=proof; \input feta20"
> >> FWIW, this does seg fault for me on red hat 9 (libc 2.3.2, it seems),
> >> after less than five minutes at "classical quarter rest".
> 
> The feta20.mf file comes from the GNU lilypond-2.4.1 package on my
> system [...]

Note that I'm right now in the process of modifying the feta files!
Please use the tarball I've sent to the tex-live list (containing
modified feta files) for triggering the segfault -- and don't expect
that the code ever works :-)


    Werner

From blandine.arguillat at renault.com  Tue Dec 21 10:21:46 2004
From: blandine.arguillat at renault.com (ARGUILLAT Blandine)
Date: Wed Dec 22 14:39:21 2004
Subject: [tex-live] Problem with Demo CD of TEXLive edition 09/2003
Message-ID: <004901c4e73e$7e64a450$3f31dc0a@corp.noxiane.net>

Hello,
I just received the TEXLive CDs, and I try to use the demo version because I
can not access to the hard disk of my computer. I work under Windows XP, and
all my files are on a server. The problem is that, when I compile a tex-file
(no errors in it, it is an example file) with "latex.exe", it says "can not
load the LOG file". Can someone explain me how to make it work?
Thanks
Blandine

-------------- next part --------------
-- Disclaimer ------------------------------------
Ce message ainsi que les eventuelles pieces jointes constituent une correspondance privee et confidentielle a l'attention exclusive du destinataire designe ci-dessus. Si vous n'etes pas le destinataire du present message ou une personne susceptible de pouvoir le lui delivrer, il vous est signifie que toute divulgation, distribution ou copie de cette transmission est strictement interdite. Si vous avez recu ce message par erreur, nous vous remercions d'en informer l'expediteur par telephone ou de lui retourner le present message, puis d'effacer immediatement ce message de votre systeme.
***
This e-mail and any attachments is a confidential correspondence intended only for use of the individual or entity named above. If you are not the intended recipient or the agent responsible for delivering the message to the intended recipient, you are hereby notified that any disclosure, distribution or copying of this communication is strictly prohibited. If you have received this communication in error, please notify the sender by phone or by replying this message, and then delete this message from your system.
From karl at freefriends.org  Thu Dec 23 18:51:18 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Dec 23 18:53:48 2004
Subject: [tex-live] Problem with Demo CD of TEXLive edition 09/2003
In-Reply-To: <004901c4e73e$7e64a450$3f31dc0a@corp.noxiane.net>
Message-ID: <200412231751.iBNHpI115126@f7.net>

Greetings,

    I just received the TEXLive CDs, and I try to use the demo version
    because I can not access to the hard disk of my computer. I work
    under Windows XP, and all my files are on a server. The problem is
    that, when I compile a tex-file (no errors in it, it is an example
    file) with "latex.exe", it says "can not load the LOG file". Can
    someone explain me how to make it work?

I'm guessing that you're running latex from within the CD directory and
thus it can't write the .log file (since the CD is obviously read-only).

Even with the demo/live versions, you have to run the installer to set
up a few writable directories.  They don't have to be specifically on
your local disk, having them be on the server should work.

I don't know specifically how this is chosen on Windows, but I hope it's
fairly obvious once you start the installation program.

Hope this helps.

karl

From olaf at infovore.xs4all.nl  Thu Dec 23 22:36:58 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Dec 23 22:40:09 2004
Subject: [tex-live] mf segfault
In-Reply-To: <20041221.070448.44269042.wl@gnu.org> (Werner LEMBERG's message
	of "Tue, 21 Dec 2004 07:04:48 +0100 (CET)")
References: <20041220.225755.73292527.wl@gnu.org>
	<Pine.LNX.4.44.0412210638090.13299-100000@re86.internetdsl.tpnet.pl>
	<20041221.070448.44269042.wl@gnu.org>
Message-ID: <87ekhgzog5.fsf@infovore.xs4all.nl>

Werner LEMBERG writes:

>> Well, the same seg fault occured using nonstriped mf binary.
>> Compiled and tested on the same machine (RH9.0)

> Yes, I've sent a backtrace to Olaf already.  For the interested, I'm
> repeating it here.

> ======================================================================

> Program received signal SIGSEGV, Segmentation fault.
> 0x0806e781 in zpwithxbecomingq (p=6725, x=4719, q=48049, t=17 '\021')
>     at mf1.c:2382
> (gdb) bt
> #0  0x0806e781 in zpwithxbecomingq (p=6725, x=4719, q=48049, t=17 '\021')
>     at mf1.c:2382

In mf1.c:

   2381   sx = mem [x + 1 ].cint ;
*  2382   while ( mem [mem [s ].hhfield .lhfield + 1 ].cint > sx ) {
   2383
   2384     r = s ;
   2385     s = mem [s ].hhfield .v.RH ;
   2386   }

In mf.web:

  12790 @p function p_with_x_becoming_q(@!p,@!x,@!q:pointer;@!t:small_number):pointer;
  12791 var @!r,@!s:pointer; {for list manipulation}
  12792 @!v:integer; {coefficient of |x|}
  12793 @!sx:integer; {serial number of |x|}
  12794 begin s:=p; r:=temp_head; sx:=value(x);
* 12795 while value(info(s))>sx do
  12796   begin r:=s; s:=link(s);
  12797   end;
  12798 if info(s)<>x then p_with_x_becoming_q:=p
  12799 else  begin link(temp_head):=p; link(r):=link(s); v:=value(s);
  12800   free_node(s,dep_node_size);
  12801   p_with_x_becoming_q:=p_plus_fq(link(temp_head),v,q,t,dependent);
  12802   end;
  12803 end;

I still cannot duplicate the crash, and am not certain what's going on
either.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From taco at elvenkind.com  Fri Dec 24 16:47:39 2004
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat Dec 25 14:55:24 2004
Subject: [tex-live] mf segfault
In-Reply-To: <87ekhgzog5.fsf@infovore.xs4all.nl>
References: <20041220.225755.73292527.wl@gnu.org>	<Pine.LNX.4.44.0412210638090.13299-100000@re86.internetdsl.tpnet.pl>	<20041221.070448.44269042.wl@gnu.org>
	<87ekhgzog5.fsf@infovore.xs4all.nl>
Message-ID: <41CC3A1B.3050504@elvenkind.com>


I don't know if this helps, but I ran a version with "tracingall", 
and it crashed. Took a loooong time, but crashed nontheless. This 
is *not* the TL2004 binary, but mfw from tetex 2.0.2 under Mandrake 10.1


Attached are the last 500 lines of the 2GB log file.

Greetings, Taco

[taco@glenlivet mf-segfault]$ uname -a
  Linux glenlivet.elvenkind.com 2.6.3-13mdk #1 Tue May 18 18:49:17 EDT 2004 i686 AMD Duron(tm) processor unknown GNU/Linux
[taco@glenlivet mf-segfault]$  file /usr/bin/mfw
  /usr/bin/mfw: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), for GNU/Linux 2.2.5, dynamically linked (uses shared libs), stripped
[taco@glenlivet mf-segfault]$  ls -l /usr/bin/mf
  lrwxrwxrwx  1 root root 3 Jun 28 10:05 /usr/bin/mf -> mfw*
[taco@glenlivet mf-segfault]$ head -1 feta20.log
  This is METAFONT, Version 2.7182 (Web2C 7.4.5) (base=mf 2004.12.24)  24 DEC 2004 15:43

Also, here is a backtrace from a non-stripped, non-optimized compiled version of mf:

Program received signal SIGSEGV, Segmentation fault.
0x0806de9c in zpwithxbecomingq (p=4364, x=5145, q=44603, t=17 '\021') at mf1.c:2382
2382      while ( mem [mem [s ].hhfield .lhfield + 1 ].cint > sx ) {
(gdb) bt
#0  0x0806de9c in zpwithxbecomingq (p=4364, x=5145, q=44603, t=17 '\021') at mf1.c:2382
#1  0x0806e5ad in zlineareq (p=44603, t=17 '\021') at mf1.c:2559
#2  0x0807cb72 in ztryeq (l=44601, r=0) at mf1.c:9434
#3  0x0807cff0 in zmakeeq (lhs=44601) at mf1.c:9605
#4  0x0807d484 in doassignment () at mf1.c:9745
#5  0x0808090a in dostatement () at mf2.c:1526
#6  0x08081bf2 in scanprimary () at mf2.c:2101
#7  0x080828d9 in scansecondary () at mf2.c:2566
#8  0x080829bf in scantertiary () at mf2.c:2605
#9  0x08082abc in scanexpression () at mf2.c:2651
#10 0x080823f1 in scanprimary () at mf2.c:2379
#11 0x080828d9 in scansecondary () at mf2.c:2566
#12 0x080829bf in scantertiary () at mf2.c:2605
#13 0x08082abc in scanexpression () at mf2.c:2651
#14 0x080808dc in dostatement () at mf2.c:1520
#15 0x08081bf2 in scanprimary () at mf2.c:2101
#16 0x080828d9 in scansecondary () at mf2.c:2566
#17 0x080829bf in scantertiary () at mf2.c:2605
#18 0x08082abc in scanexpression () at mf2.c:2651
#19 0x080808dc in dostatement () at mf2.c:1520
#20 0x08081bf2 in scanprimary () at mf2.c:2101
#21 0x080828d9 in scansecondary () at mf2.c:2566
#22 0x080829bf in scantertiary () at mf2.c:2605
#23 0x08082abc in scanexpression () at mf2.c:2651
#24 0x080808dc in dostatement () at mf2.c:1520
#25 0x08081bf2 in scanprimary () at mf2.c:2101
#26 0x080828d9 in scansecondary () at mf2.c:2566
#27 0x080829bf in scantertiary () at mf2.c:2605
#28 0x08082abc in scanexpression () at mf2.c:2651
#29 0x080808dc in dostatement () at mf2.c:1520
#30 0x08081bf2 in scanprimary () at mf2.c:2101
#31 0x080828d9 in scansecondary () at mf2.c:2566
#32 0x080829bf in scantertiary () at mf2.c:2605
#33 0x08082abc in scanexpression () at mf2.c:2651
#34 0x080808dc in dostatement () at mf2.c:1520
#35 0x08081bf2 in scanprimary () at mf2.c:2101
#36 0x080828d9 in scansecondary () at mf2.c:2566
#37 0x080829bf in scantertiary () at mf2.c:2605
#38 0x08082abc in scanexpression () at mf2.c:2651
#39 0x080808dc in dostatement () at mf2.c:1520
#40 0x08081bf2 in scanprimary () at mf2.c:2101
#41 0x080828d9 in scansecondary () at mf2.c:2566
#42 0x080829bf in scantertiary () at mf2.c:2605
#43 0x08082abc in scanexpression () at mf2.c:2651
#44 0x080808dc in dostatement () at mf2.c:1520
#45 0x08080ce3 in maincontrol () at mf2.c:1701
#46 0x0804dac5 in mainbody () at mfini.c:1305
#47 0x080872aa in main (ac=2, av=0xbffff4e4) at mfextra.c:330
(gdb) p mem[s]
$3 = {hhfield = {v = {LH = 1114116, RH = 17}, u = {B1 = 4, B0 = 17}}, u = {junk = 1114116, CINT = 17}, v = {
    junk = 1114116, QQQQ = {u = {B3 = 17 '\021', B2 = 0 '\0', B1 = 0 '\0', B0 = 0 '\0'}}}}
(gdb) p mem [mem [s ].hhfield .v.LH + 1 ]
Cannot access memory at address 0x40b3e030


Olaf Weber wrote:
> Werner LEMBERG writes:
> 
> 
>>>Well, the same seg fault occured using nonstriped mf binary.
>>>Compiled and tested on the same machine (RH9.0)
> 
> 
>>Yes, I've sent a backtrace to Olaf already.  For the interested, I'm
>>repeating it here.
> 
> 
>>======================================================================
> 
> 
>>Program received signal SIGSEGV, Segmentation fault.
>>0x0806e781 in zpwithxbecomingq (p=6725, x=4719, q=48049, t=17 '\021')
>>    at mf1.c:2382
>>(gdb) bt
>>#0  0x0806e781 in zpwithxbecomingq (p=6725, x=4719, q=48049, t=17 '\021')
>>    at mf1.c:2382
> 
> 
> In mf1.c:
> 
>    2381   sx = mem [x + 1 ].cint ;
> *  2382   while ( mem [mem [s ].hhfield .lhfield + 1 ].cint > sx ) {
>    2383
>    2384     r = s ;
>    2385     s = mem [s ].hhfield .v.RH ;
>    2386   }
> 
> In mf.web:
> 
>   12790 @p function p_with_x_becoming_q(@!p,@!x,@!q:pointer;@!t:small_number):pointer;
>   12791 var @!r,@!s:pointer; {for list manipulation}
>   12792 @!v:integer; {coefficient of |x|}
>   12793 @!sx:integer; {serial number of |x|}
>   12794 begin s:=p; r:=temp_head; sx:=value(x);
> * 12795 while value(info(s))>sx do
>   12796   begin r:=s; s:=link(s);
>   12797   end;
>   12798 if info(s)<>x then p_with_x_becoming_q:=p
>   12799 else  begin link(temp_head):=p; link(r):=link(s); v:=value(s);
>   12800   free_node(s,dep_node_size);
>   12801   p_with_x_becoming_q:=p_plus_fq(link(temp_head),v,q,t,dependent);
>   12802   end;
>   12803 end;
> 
> I still cannot duplicate the crash, and am not certain what's going on
> either.
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: feta20-final.log
Type: text/x-log
Size: 9735 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20041224/9e9fe4dc/feta20-final.bin
From vvv at vsu.ru  Sun Dec 26 00:53:38 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sun Dec 26 00:57:45 2004
Subject: [tex-live] pdfeTeX: bad interaction of \pdfstartlink...\pdfendlink
	with \beginR...\endR
Message-ID: <87y8fmylx9.fsf@vvv.vsu.ru>

Hi!

There seems to be a bug in interaction of right-to-left features of
eTeX with pdflink features of pdftex.

I would greatly appreciate any help. :)

When i try to compile the following file using pdftex:

==================================
\TeXXeTstate=1

\beginR This is a test.
\pdfstartlink attr {
  /Border[0 0 1]
  /H/I
  /C[1 0 0]
} goto name {Qwerty}
Link
\pdfendlink
This is a test.
\endR

This is a test.
\pdfdest name {Qwerty}XYZ
This is a test.

\bye
==================================

I get an error:

! pdfTeX error (ext4): \pdfendlink ended up in different nesting level
than \pdfstartlink.
[...]
!  ==> Fatal error occurred, the output PDF file is not finished!

The problem does not occur if \pdfstartlink...\pdfendlink is used
outside of the \beginR...\endR group, but what should be done if the
link needs to be typeset inside the right-to-left paragraph?

Moreover, it may be of interest that the following file causes the
! This can't happen (copying).
error:

==================================
\TeXXeTstate=1

\beginR This is a test.
\beginL
\pdfstartlink attr {
  /Border[0 0 1]
  /H/I
  /C[1 0 0]
} goto name {Qwerty}
Link
\pdfendlink
\endL
This is a test.
\endR

This is a test.
\pdfdest name {Qwerty}XYZ
This is a test.

\bye
==================================

Best,
v.

From vvv at vsu.ru  Sun Dec 26 01:22:45 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sun Dec 26 01:27:30 2004
Subject: [tex-live] pdfeTeX: bad interaction of \pdfstartlink...\pdfendlink
	with \beginR...\endR
Message-ID: <87wtv5zz56.fsf@vvv.vsu.ru>

Hi!

To clarify: the "plain tex" (really "plain pdfetex") example
i posted is meant to be a "low level" demonstration of the bug.

The "higher level" buggy document which leads to the same kind of
error is:

================================
\documentclass{article}
\usepackage{hyperref}
\begin{document}

\section{Test 1}

\beginR
  This is a test: \ref{Qwerty} abcde
\endR

\section{Test 2}
\label{Qwerty}

This is a test.

\end{document}
================================

(process it twice to get an error)

Best,
v.

From nakhabov_al at mail.ru  Sun Dec 26 21:00:11 2004
From: nakhabov_al at mail.ru (Alexander V. Nakhabov)
Date: Mon Dec 27 15:52:43 2004
Subject: [tex-live] Problem with Ispell and russian dictionary
Message-ID: <E1CieYm-0003Qi-00.nakhabov_al-mail-ru@mx2.mail.ru>

Hi all,
 
I have installed TeX Live from CD with all russian-related options, but
unfortunately I can't perform spell-checking in russian by Ispell. I use AUC
Tex under NTEmacs, WinXP Pro. Ispell works with english (default), francais
and deutsch dictionaries, but when I select russian dictionary it reports
"Can't open /usr/local/lib/russian^M^M". At the same time, files
russian-win.hash.gz and russian-koi8r.hash.gz is located in directory
C:\Program Files\TeXLive\texmf\ispell along other dictionaries.
I will appreciate for any help.
 
Regards,
Alexander Nakhabov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/tex-live/attachments/20041226/8679ebbe/attachment.htm
From Fabrice.Popineau at supelec.fr  Mon Dec 27 20:58:29 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Mon Dec 27 21:00:48 2004
Subject: [tex-live] Problem with Demo CD of TEXLive edition 09/2003
In-Reply-To: <200412231751.iBNHpI115126@f7.net> (Karl Berry's message of "Thu, 
	23 Dec 2004 12:51:18 -0500")
References: <200412231751.iBNHpI115126@f7.net>
Message-ID: <zmzz344a.fsf@esemetz.metz.supelec.fr>


> Even with the demo/live versions, you have to run the installer to set
> up a few writable directories.  They don't have to be specifically on
> your local disk, having them be on the server should work.

No, with the demo/live cd, the application that autoruns is called texlive.exe and
from this application you can run a text editor (winedt, xemacs, etc.)
or whatever (even cmd.exe !). The program you specified will be run in an
environment set up so that tex will run from the cdrom.

Fabrice

From tdahlheim at gmx.net  Tue Dec 28 15:00:16 2004
From: tdahlheim at gmx.net (Thorsten Dahlheimer)
Date: Tue Dec 28 15:02:40 2004
Subject: [tex-live] mf segfault
References: <20041220.225755.73292527.wl@gnu.org><Pine.LNX.4.44.0412210638090.13299-100000@re86.internetdsl.tpnet.pl><20041221.070448.44269042.wl@gnu.org>
	<87ekhgzog5.fsf@infovore.xs4all.nl>
Message-ID: <023501c4ece5$acab7440$8119fea9@pc>

Hello,

I've had a look into this problem and found out what is going on:
The example Metafont code uses so many independent variables
(at least 2^25) that the serial number counter (the serial_no
variable) overflows and becomes negative. But Metafont's internal
routines assume that serial numbers are positive.

> In mf.web:
>
>   12790 @p function
p_with_x_becoming_q(@!p,@!x,@!q:pointer;@!t:small_number):pointer;
>   12791 var @!r,@!s:pointer; {for list manipulation}
>   12792 @!v:integer; {coefficient of |x|}
>   12793 @!sx:integer; {serial number of |x|}
>   12794 begin s:=p; r:=temp_head; sx:=value(x);
> * 12795 while value(info(s))>sx do
>   12796   begin r:=s; s:=link(s);
>   12797   end;
>   12798 if info(s)<>x then p_with_x_becoming_q:=p
>   12799 else  begin link(temp_head):=p; link(r):=link(s); v:=value(s);
>   12800   free_node(s,dep_node_size);
>   12801   p_with_x_becoming_q:=p_plus_fq(link(temp_head),v,q,t,dependent);
>   12802   end;
>   12803 end;

Specifically, the above while loop will run beyond the end of the
dependency list p if sx is negative and p contains no variables
with serial numbers less than sx. Then s will eventually point to
the value node of another dependent variable, which doesn't have a
valid pointer in its info field but the (type,name_type) codes, and
the attempt to access value(info(s)) is what causes the segfault.

Regards,
Thorsten Dahlheimer

From tdahlheim at gmx.net  Tue Dec 28 17:24:59 2004
From: tdahlheim at gmx.net (Thorsten Dahlheimer)
Date: Tue Dec 28 17:29:29 2004
Subject: [tex-live] mf segfault
References: <CMM.0.92.0.1104245420.beebe@psi.math.utah.edu>
Message-ID: <001301c4ecfa$29c6f3a0$8119fea9@pc>

Nelson H. F. Beebe wrote:

> >> The example Metafont code uses so many independent variables
> >> (at least 2^25) that the serial number counter (the serial_no
> >> variable) overflows and becomes negative. But Metafont's internal
> >> routines assume that serial numbers are positive.
> 
> Congratulations!  You've just uncovered a bug in Metafont that Don
> will very likely fix (but not soon).  You should propose a patch
> that we can incorporate in TeXlive Metafont releases until Don
> makes an official change.  If he accepts your bug report (send it
> to Barbara Beeton, who privately coordinates such things with Don),
> you'll get a nice check to cash (or frame).

Ok, I've attached a change file that adds an overflow check
for serial_no. It will trigger a fatal error if the largest
possible value has been reached.

Thorsten
-------------- next part --------------
A non-text attachment was scrubbed...
Name: check_indep.ch
Type: application/octet-stream
Size: 687 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20041228/52e69c4e/check_indep.obj
From olaf at infovore.xs4all.nl  Tue Dec 28 19:26:57 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Tue Dec 28 19:30:20 2004
Subject: [tex-live] mf segfault
In-Reply-To: <001301c4ecfa$29c6f3a0$8119fea9@pc> (Thorsten Dahlheimer's
	message of "Tue, 28 Dec 2004 17:24:59 +0100")
References: <CMM.0.92.0.1104245420.beebe@psi.math.utah.edu>
	<001301c4ecfa$29c6f3a0$8119fea9@pc>
Message-ID: <87sm5qnury.fsf@infovore.xs4all.nl>

Thorsten Dahlheimer writes:
> Nelson H. F. Beebe wrote:

>>>> The example Metafont code uses so many independent variables
>>>> (at least 2^25) that the serial number counter (the serial_no
>>>> variable) overflows and becomes negative. But Metafont's internal
>>>> routines assume that serial numbers are positive.

>> Congratulations!  You've just uncovered a bug in Metafont that Don
>> will very likely fix (but not soon).  You should propose a patch
>> that we can incorporate in TeXlive Metafont releases until Don
>> makes an official change.  If he accepts your bug report (send it
>> to Barbara Beeton, who privately coordinates such things with Don),
>> you'll get a nice check to cash (or frame).

> Ok, I've attached a change file that adds an overflow check
> for serial_no. It will trigger a fatal error if the largest
> possible value has been reached.

FWIW, I've added the proposed code to the metafont and metapost change
files for web2c.

Lots of thanks for tracking this one down.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Gerben.Wierda at rna.nl  Thu Dec 30 11:14:33 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Thu Dec 30 11:16:26 2004
Subject: [tex-live] Fwd: [OS X TeX] kpsewhich .enc strange
Message-ID: <99A57D62-5A4B-11D9-B84D-000D93B7C888@rna.nl>

Can someone tell me what variables I have to check here? The Build  
stuff is the ocmpiled-in default which is never used and I do not  
understand why this appears at a user's installation (it doesn't happen  
in most).

Thanks,

G

> [gedalin@Space]~|29>kpsewhich --show-path=.enc
> .:/usr/local/Build/TeXLive.tl2003.development/share/texmf/fonts/enc//
>
> For comparison
>
> [gedalin@Space]~|32>kpsewhich --show-path=.map
> .:/Users/gedalin/Library/texmf/fonts/map//:!!/usr/local/teTeX/share/ 
> texmf.local/fonts/map//:!!/usr/local/teTeX/share/texmf.gwtex/fonts/ 
> map//:!!/usr/local/teTeX/share/texmf.tetex/fonts/map//:!!/usr/local/ 
> teTeX/share/texmf/fonts/map//:/Users/gedalin/Library/texmf/fontname:!! 
> /usr/local/teTeX/share/texmf.local/fontname:!!/usr/local/teTeX/share/ 
> texmf.gwtex/fontname:!!/usr/local/teTeX/share/texmf.tetex/fontname:!!/ 
> usr/local/teTeX/share/texmf/fontname:/Users/gedalin/Library/texmf/ 
> pdftex/config:!!/usr/local/teTeX/share/texmf.local/pdftex/config:!!/ 
> usr/local/teTeX/share/texmf.gwtex/pdftex/config:!!/usr/local/teTeX/ 
> share/texmf.tetex/pdftex/config:!!/usr/local/teTeX/share/texmf/pdftex/ 
> config:/Users/gedalin/Library/texmf/dvips/config:!!/usr/local/teTeX/ 
> share/texmf.local/dvips/config:!!/usr/local/teTeX/share/texmf.gwtex/ 
> dvips/config:!!/usr/local/teTeX/share/texmf.tetex/dvips/config:!!/usr/ 
> local/teTeX/share/texmf/dvips/config:/Users/gedalin/Library/texmf/ 
> pdftex//:!!/usr/local/teTeX/share/texmf.local/pdftex//:!!/usr/local/ 
> teTeX/share/texmf.gwtex/pdftex//:!!/usr/local/teTeX/share/texmf.tetex/ 
> pdftex//:!!/usr/local/teTeX/share/texmf/pdftex//:/Users/gedalin/ 
> Library/texmf/dvips//:!!/usr/local/teTeX/share/texmf.local/dvips//:!!/ 
> usr/local/teTeX/share/texmf.gwtex/dvips//:!!/usr/local/teTeX/share/ 
> texmf.tetex/dvips//:!!/usr/local/teTeX/share/texmf/dvips//
>

From kakuto at fsci.fuk.kindai.ac.jp  Thu Dec 30 11:34:56 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu Dec 30 11:37:24 2004
Subject: [tex-live] Fwd: [OS X TeX] kpsewhich .enc strange
In-Reply-To: Your message of "Thu, 30 Dec 2004 11:14:33 +0100"
References: <99A57D62-5A4B-11D9-B84D-000D93B7C888@rna.nl>
Message-ID: <200412301034.iBUAYvcd009709@jupiter.fsci.fuk.kindai.ac.jp>

> Can someone tell me what variables I have to check here? 

kpsewhich --expand-braces \$ENCFONTS
kpsewhich --expand-braces \$TEXFONTMAPS

Best regards,
Akira

From te at dbs.uni-hannover.de  Thu Dec 30 11:43:00 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Dec 30 11:45:15 2004
Subject: [tex-live] Fwd: [OS X TeX] kpsewhich .enc strange
In-Reply-To: <99A57D62-5A4B-11D9-B84D-000D93B7C888@rna.nl>
References: <99A57D62-5A4B-11D9-B84D-000D93B7C888@rna.nl>
Message-ID: <20041230104259.GA30735@dbs.uni-hannover.de>

> Can someone tell me what variables I have to check here? The Build  

ENCFONTS seems to be missing from your texmf.cnf file(s).

Thomas

